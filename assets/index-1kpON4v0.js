function O7(n,e){for(var t=0;t<e.length;t++){const i=e[t];if(typeof i!="string"&&!Array.isArray(i)){for(const r in i)if(r!=="default"&&!(r in n)){const s=Object.getOwnPropertyDescriptor(i,r);s&&Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:()=>i[r]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function t(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(r){if(r.ep)return;r.ep=!0;const s=t(r);fetch(r.href,s)}})();function Yc(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var dT={exports:{}},Xy={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bL;function L7(){if(bL)return Xy;bL=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(i,r,s){var a=null;if(s!==void 0&&(a=""+s),r.key!==void 0&&(a=""+r.key),"key"in r){s={};for(var o in r)o!=="key"&&(s[o]=r[o])}else s=r;return r=s.ref,{$$typeof:n,type:i,key:a,ref:r!==void 0?r:null,props:s}}return Xy.Fragment=e,Xy.jsx=t,Xy.jsxs=t,Xy}var xL;function P7(){return xL||(xL=1,dT.exports=L7()),dT.exports}var ge=P7(),qy={},PS={exports:{}};/*!
 * jQuery JavaScript Library v3.7.1
 * https://jquery.com/
 *
 * Copyright OpenJS Foundation and other contributors
 * Released under the MIT license
 * https://jquery.org/license
 *
 * Date: 2023-08-28T13:37Z
 */var I7=PS.exports,SL;function D7(){return SL||(SL=1,(function(n){(function(e,t){n.exports=e.document?t(e,!0):function(i){if(!i.document)throw new Error("jQuery requires a window with a document");return t(i)}})(typeof window<"u"?window:I7,function(e,t){var i=[],r=Object.getPrototypeOf,s=i.slice,a=i.flat?function(P){return i.flat.call(P)}:function(P){return i.concat.apply([],P)},o=i.push,l=i.indexOf,c={},f=c.toString,h=c.hasOwnProperty,v=h.toString,m=v.call(Object),_={},g=function(G){return typeof G=="function"&&typeof G.nodeType!="number"&&typeof G.item!="function"},y=function(G){return G!=null&&G===G.window},u=e.document,b={type:!0,src:!0,nonce:!0,noModule:!0};function S(P,G,Y){Y=Y||u;var se,de,le=Y.createElement("script");if(le.text=P,G)for(se in b)de=G[se]||G.getAttribute&&G.getAttribute(se),de&&le.setAttribute(se,de);Y.head.appendChild(le).parentNode.removeChild(le)}function T(P){return P==null?P+"":typeof P=="object"||typeof P=="function"?c[f.call(P)]||"object":typeof P}var R="3.7.1",O=/HTML$/i,C=function(P,G){return new C.fn.init(P,G)};C.fn=C.prototype={jquery:R,constructor:C,length:0,toArray:function(){return s.call(this)},get:function(P){return P==null?s.call(this):P<0?this[P+this.length]:this[P]},pushStack:function(P){var G=C.merge(this.constructor(),P);return G.prevObject=this,G},each:function(P){return C.each(this,P)},map:function(P){return this.pushStack(C.map(this,function(G,Y){return P.call(G,Y,G)}))},slice:function(){return this.pushStack(s.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(C.grep(this,function(P,G){return(G+1)%2}))},odd:function(){return this.pushStack(C.grep(this,function(P,G){return G%2}))},eq:function(P){var G=this.length,Y=+P+(P<0?G:0);return this.pushStack(Y>=0&&Y<G?[this[Y]]:[])},end:function(){return this.prevObject||this.constructor()},push:o,sort:i.sort,splice:i.splice},C.extend=C.fn.extend=function(){var P,G,Y,se,de,le,Se=arguments[0]||{},je=1,ze=arguments.length,dt=!1;for(typeof Se=="boolean"&&(dt=Se,Se=arguments[je]||{},je++),typeof Se!="object"&&!g(Se)&&(Se={}),je===ze&&(Se=this,je--);je<ze;je++)if((P=arguments[je])!=null)for(G in P)se=P[G],!(G==="__proto__"||Se===se)&&(dt&&se&&(C.isPlainObject(se)||(de=Array.isArray(se)))?(Y=Se[G],de&&!Array.isArray(Y)?le=[]:!de&&!C.isPlainObject(Y)?le={}:le=Y,de=!1,Se[G]=C.extend(dt,le,se)):se!==void 0&&(Se[G]=se));return Se},C.extend({expando:"jQuery"+(R+Math.random()).replace(/\D/g,""),isReady:!0,error:function(P){throw new Error(P)},noop:function(){},isPlainObject:function(P){var G,Y;return!P||f.call(P)!=="[object Object]"?!1:(G=r(P),G?(Y=h.call(G,"constructor")&&G.constructor,typeof Y=="function"&&v.call(Y)===m):!0)},isEmptyObject:function(P){var G;for(G in P)return!1;return!0},globalEval:function(P,G,Y){S(P,{nonce:G&&G.nonce},Y)},each:function(P,G){var Y,se=0;if(I(P))for(Y=P.length;se<Y&&G.call(P[se],se,P[se])!==!1;se++);else for(se in P)if(G.call(P[se],se,P[se])===!1)break;return P},text:function(P){var G,Y="",se=0,de=P.nodeType;if(!de)for(;G=P[se++];)Y+=C.text(G);return de===1||de===11?P.textContent:de===9?P.documentElement.textContent:de===3||de===4?P.nodeValue:Y},makeArray:function(P,G){var Y=G||[];return P!=null&&(I(Object(P))?C.merge(Y,typeof P=="string"?[P]:P):o.call(Y,P)),Y},inArray:function(P,G,Y){return G==null?-1:l.call(G,P,Y)},isXMLDoc:function(P){var G=P&&P.namespaceURI,Y=P&&(P.ownerDocument||P).documentElement;return!O.test(G||Y&&Y.nodeName||"HTML")},merge:function(P,G){for(var Y=+G.length,se=0,de=P.length;se<Y;se++)P[de++]=G[se];return P.length=de,P},grep:function(P,G,Y){for(var se,de=[],le=0,Se=P.length,je=!Y;le<Se;le++)se=!G(P[le],le),se!==je&&de.push(P[le]);return de},map:function(P,G,Y){var se,de,le=0,Se=[];if(I(P))for(se=P.length;le<se;le++)de=G(P[le],le,Y),de!=null&&Se.push(de);else for(le in P)de=G(P[le],le,Y),de!=null&&Se.push(de);return a(Se)},guid:1,support:_}),typeof Symbol=="function"&&(C.fn[Symbol.iterator]=i[Symbol.iterator]),C.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(P,G){c["[object "+G+"]"]=G.toLowerCase()});function I(P){var G=!!P&&"length"in P&&P.length,Y=T(P);return g(P)||y(P)?!1:Y==="array"||G===0||typeof G=="number"&&G>0&&G-1 in P}function F(P,G){return P.nodeName&&P.nodeName.toLowerCase()===G.toLowerCase()}var M=i.pop,D=i.sort,B=i.splice,j="[\\x20\\t\\r\\n\\f]",U=new RegExp("^"+j+"+|((?:^|[^\\\\])(?:\\\\.)*)"+j+"+$","g");C.contains=function(P,G){var Y=G&&G.parentNode;return P===Y||!!(Y&&Y.nodeType===1&&(P.contains?P.contains(Y):P.compareDocumentPosition&&P.compareDocumentPosition(Y)&16))};var V=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g;function k(P,G){return G?P==="\0"?"ï¿½":P.slice(0,-1)+"\\"+P.charCodeAt(P.length-1).toString(16)+" ":"\\"+P}C.escapeSelector=function(P){return(P+"").replace(V,k)};var Z=u,ee=o;(function(){var P,G,Y,se,de,le=ee,Se,je,ze,dt,$t,rn=C.expando,It=0,yn=0,hi=Co(),Ee=Co(),Re=Co(),Xe=Co(),Ue=function($e,pt){return $e===pt&&(de=!0),0},He="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",an="(?:\\\\[\\da-fA-F]{1,6}"+j+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",tn="\\["+j+"*("+an+")(?:"+j+"*([*^$|!~]?=)"+j+`*(?:'((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)"|(`+an+"))|)"+j+"*\\]",hn=":("+an+`)(?:\\((('((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)")|((?:\\\\.|[^\\\\()[\\]]|`+tn+")*)|.*)\\)|)",An=new RegExp(j+"+","g"),Nn=new RegExp("^"+j+"*,"+j+"*"),vi=new RegExp("^"+j+"*([>+~]|"+j+")"+j+"*"),nr=new RegExp(j+"|>"),fi=new RegExp(hn),Fr=new RegExp("^"+an+"$"),sr={ID:new RegExp("^#("+an+")"),CLASS:new RegExp("^\\.("+an+")"),TAG:new RegExp("^("+an+"|[*])"),ATTR:new RegExp("^"+tn),PSEUDO:new RegExp("^"+hn),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+j+"*(even|odd|(([+-]|)(\\d*)n|)"+j+"*(?:([+-]|)"+j+"*(\\d+)|))"+j+"*\\)|)","i"),bool:new RegExp("^(?:"+He+")$","i"),needsContext:new RegExp("^"+j+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+j+"*((?:-\\d)?\\d*)"+j+"*\\)|)(?=[^-]|$)","i")},Rn=/^(?:input|select|textarea|button)$/i,yi=/^h\d$/i,si=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ni=/[+~]/,wi=new RegExp("\\\\[\\da-fA-F]{1,6}"+j+"?|\\\\([^\\r\\n\\f])","g"),bi=function($e,pt){var Lt="0x"+$e.slice(1)-65536;return pt||(Lt<0?String.fromCharCode(Lt+65536):String.fromCharCode(Lt>>10|55296,Lt&1023|56320))},fa=function(){ui()},Eo=xa(function($e){return $e.disabled===!0&&F($e,"fieldset")},{dir:"parentNode",next:"legend"});function Da(){try{return Se.activeElement}catch{}}try{le.apply(i=s.call(Z.childNodes),Z.childNodes),i[Z.childNodes.length].nodeType}catch{le={apply:function(pt,Lt){ee.apply(pt,s.call(Lt))},call:function(pt){ee.apply(pt,s.call(arguments,1))}}}function Fi($e,pt,Lt,Vt){var sn,Fn,jn,$n,Gn,ir,Mi,Ci=pt&&pt.ownerDocument,Ri=pt?pt.nodeType:9;if(Lt=Lt||[],typeof $e!="string"||!$e||Ri!==1&&Ri!==9&&Ri!==11)return Lt;if(!Vt&&(ui(pt),pt=pt||Se,ze)){if(Ri!==11&&(Gn=si.exec($e)))if(sn=Gn[1]){if(Ri===9)if(jn=pt.getElementById(sn)){if(jn.id===sn)return le.call(Lt,jn),Lt}else return Lt;else if(Ci&&(jn=Ci.getElementById(sn))&&Fi.contains(pt,jn)&&jn.id===sn)return le.call(Lt,jn),Lt}else{if(Gn[2])return le.apply(Lt,pt.getElementsByTagName($e)),Lt;if((sn=Gn[3])&&pt.getElementsByClassName)return le.apply(Lt,pt.getElementsByClassName(sn)),Lt}if(!Xe[$e+" "]&&(!dt||!dt.test($e))){if(Mi=$e,Ci=pt,Ri===1&&(nr.test($e)||vi.test($e))){for(Ci=ni.test($e)&&Bs(pt.parentNode)||pt,(Ci!=pt||!_.scope)&&(($n=pt.getAttribute("id"))?$n=C.escapeSelector($n):pt.setAttribute("id",$n=rn)),ir=ra($e),Fn=ir.length;Fn--;)ir[Fn]=($n?"#"+$n:":scope")+" "+To(ir[Fn]);Mi=ir.join(",")}try{return le.apply(Lt,Ci.querySelectorAll(Mi)),Lt}catch{Xe($e,!0)}finally{$n===rn&&pt.removeAttribute("id")}}}return Jh($e.replace(U,"$1"),pt,Lt,Vt)}function Co(){var $e=[];function pt(Lt,Vt){return $e.push(Lt+" ")>G.cacheLength&&delete pt[$e.shift()],pt[Lt+" "]=Vt}return pt}function qa($e){return $e[rn]=!0,$e}function ao($e){var pt=Se.createElement("fieldset");try{return!!$e(pt)}catch{return!1}finally{pt.parentNode&&pt.parentNode.removeChild(pt),pt=null}}function lr($e){return function(pt){return F(pt,"input")&&pt.type===$e}}function Cs($e){return function(pt){return(F(pt,"input")||F(pt,"button"))&&pt.type===$e}}function ts($e){return function(pt){return"form"in pt?pt.parentNode&&pt.disabled===!1?"label"in pt?"label"in pt.parentNode?pt.parentNode.disabled===$e:pt.disabled===$e:pt.isDisabled===$e||pt.isDisabled!==!$e&&Eo(pt)===$e:pt.disabled===$e:"label"in pt?pt.disabled===$e:!1}}function ns($e){return qa(function(pt){return pt=+pt,qa(function(Lt,Vt){for(var sn,Fn=$e([],Lt.length,pt),jn=Fn.length;jn--;)Lt[sn=Fn[jn]]&&(Lt[sn]=!(Vt[sn]=Lt[sn]))})})}function Bs($e){return $e&&typeof $e.getElementsByTagName<"u"&&$e}function ui($e){var pt,Lt=$e?$e.ownerDocument||$e:Z;return Lt==Se||Lt.nodeType!==9||!Lt.documentElement||(Se=Lt,je=Se.documentElement,ze=!C.isXMLDoc(Se),$t=je.matches||je.webkitMatchesSelector||je.msMatchesSelector,je.msMatchesSelector&&Z!=Se&&(pt=Se.defaultView)&&pt.top!==pt&&pt.addEventListener("unload",fa),_.getById=ao(function(Vt){return je.appendChild(Vt).id=C.expando,!Se.getElementsByName||!Se.getElementsByName(C.expando).length}),_.disconnectedMatch=ao(function(Vt){return $t.call(Vt,"*")}),_.scope=ao(function(){return Se.querySelectorAll(":scope")}),_.cssHas=ao(function(){try{return Se.querySelector(":has(*,:jqfake)"),!1}catch{return!0}}),_.getById?(G.filter.ID=function(Vt){var sn=Vt.replace(wi,bi);return function(Fn){return Fn.getAttribute("id")===sn}},G.find.ID=function(Vt,sn){if(typeof sn.getElementById<"u"&&ze){var Fn=sn.getElementById(Vt);return Fn?[Fn]:[]}}):(G.filter.ID=function(Vt){var sn=Vt.replace(wi,bi);return function(Fn){var jn=typeof Fn.getAttributeNode<"u"&&Fn.getAttributeNode("id");return jn&&jn.value===sn}},G.find.ID=function(Vt,sn){if(typeof sn.getElementById<"u"&&ze){var Fn,jn,$n,Gn=sn.getElementById(Vt);if(Gn){if(Fn=Gn.getAttributeNode("id"),Fn&&Fn.value===Vt)return[Gn];for($n=sn.getElementsByName(Vt),jn=0;Gn=$n[jn++];)if(Fn=Gn.getAttributeNode("id"),Fn&&Fn.value===Vt)return[Gn]}return[]}}),G.find.TAG=function(Vt,sn){return typeof sn.getElementsByTagName<"u"?sn.getElementsByTagName(Vt):sn.querySelectorAll(Vt)},G.find.CLASS=function(Vt,sn){if(typeof sn.getElementsByClassName<"u"&&ze)return sn.getElementsByClassName(Vt)},dt=[],ao(function(Vt){var sn;je.appendChild(Vt).innerHTML="<a id='"+rn+"' href='' disabled='disabled'></a><select id='"+rn+"-\r\\' disabled='disabled'><option selected=''></option></select>",Vt.querySelectorAll("[selected]").length||dt.push("\\["+j+"*(?:value|"+He+")"),Vt.querySelectorAll("[id~="+rn+"-]").length||dt.push("~="),Vt.querySelectorAll("a#"+rn+"+*").length||dt.push(".#.+[+~]"),Vt.querySelectorAll(":checked").length||dt.push(":checked"),sn=Se.createElement("input"),sn.setAttribute("type","hidden"),Vt.appendChild(sn).setAttribute("name","D"),je.appendChild(Vt).disabled=!0,Vt.querySelectorAll(":disabled").length!==2&&dt.push(":enabled",":disabled"),sn=Se.createElement("input"),sn.setAttribute("name",""),Vt.appendChild(sn),Vt.querySelectorAll("[name='']").length||dt.push("\\["+j+"*name"+j+"*="+j+`*(?:''|"")`)}),_.cssHas||dt.push(":has"),dt=dt.length&&new RegExp(dt.join("|")),Ue=function(Vt,sn){if(Vt===sn)return de=!0,0;var Fn=!Vt.compareDocumentPosition-!sn.compareDocumentPosition;return Fn||(Fn=(Vt.ownerDocument||Vt)==(sn.ownerDocument||sn)?Vt.compareDocumentPosition(sn):1,Fn&1||!_.sortDetached&&sn.compareDocumentPosition(Vt)===Fn?Vt===Se||Vt.ownerDocument==Z&&Fi.contains(Z,Vt)?-1:sn===Se||sn.ownerDocument==Z&&Fi.contains(Z,sn)?1:se?l.call(se,Vt)-l.call(se,sn):0:Fn&4?-1:1)}),Se}Fi.matches=function($e,pt){return Fi($e,null,null,pt)},Fi.matchesSelector=function($e,pt){if(ui($e),ze&&!Xe[pt+" "]&&(!dt||!dt.test(pt)))try{var Lt=$t.call($e,pt);if(Lt||_.disconnectedMatch||$e.document&&$e.document.nodeType!==11)return Lt}catch{Xe(pt,!0)}return Fi(pt,Se,null,[$e]).length>0},Fi.contains=function($e,pt){return($e.ownerDocument||$e)!=Se&&ui($e),C.contains($e,pt)},Fi.attr=function($e,pt){($e.ownerDocument||$e)!=Se&&ui($e);var Lt=G.attrHandle[pt.toLowerCase()],Vt=Lt&&h.call(G.attrHandle,pt.toLowerCase())?Lt($e,pt,!ze):void 0;return Vt!==void 0?Vt:$e.getAttribute(pt)},Fi.error=function($e){throw new Error("Syntax error, unrecognized expression: "+$e)},C.uniqueSort=function($e){var pt,Lt=[],Vt=0,sn=0;if(de=!_.sortStable,se=!_.sortStable&&s.call($e,0),D.call($e,Ue),de){for(;pt=$e[sn++];)pt===$e[sn]&&(Vt=Lt.push(sn));for(;Vt--;)B.call($e,Lt[Vt],1)}return se=null,$e},C.fn.uniqueSort=function(){return this.pushStack(C.uniqueSort(s.apply(this)))},G=C.expr={cacheLength:50,createPseudo:qa,match:sr,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function($e){return $e[1]=$e[1].replace(wi,bi),$e[3]=($e[3]||$e[4]||$e[5]||"").replace(wi,bi),$e[2]==="~="&&($e[3]=" "+$e[3]+" "),$e.slice(0,4)},CHILD:function($e){return $e[1]=$e[1].toLowerCase(),$e[1].slice(0,3)==="nth"?($e[3]||Fi.error($e[0]),$e[4]=+($e[4]?$e[5]+($e[6]||1):2*($e[3]==="even"||$e[3]==="odd")),$e[5]=+($e[7]+$e[8]||$e[3]==="odd")):$e[3]&&Fi.error($e[0]),$e},PSEUDO:function($e){var pt,Lt=!$e[6]&&$e[2];return sr.CHILD.test($e[0])?null:($e[3]?$e[2]=$e[4]||$e[5]||"":Lt&&fi.test(Lt)&&(pt=ra(Lt,!0))&&(pt=Lt.indexOf(")",Lt.length-pt)-Lt.length)&&($e[0]=$e[0].slice(0,pt),$e[2]=Lt.slice(0,pt)),$e.slice(0,3))}},filter:{TAG:function($e){var pt=$e.replace(wi,bi).toLowerCase();return $e==="*"?function(){return!0}:function(Lt){return F(Lt,pt)}},CLASS:function($e){var pt=hi[$e+" "];return pt||(pt=new RegExp("(^|"+j+")"+$e+"("+j+"|$)"))&&hi($e,function(Lt){return pt.test(typeof Lt.className=="string"&&Lt.className||typeof Lt.getAttribute<"u"&&Lt.getAttribute("class")||"")})},ATTR:function($e,pt,Lt){return function(Vt){var sn=Fi.attr(Vt,$e);return sn==null?pt==="!=":pt?(sn+="",pt==="="?sn===Lt:pt==="!="?sn!==Lt:pt==="^="?Lt&&sn.indexOf(Lt)===0:pt==="*="?Lt&&sn.indexOf(Lt)>-1:pt==="$="?Lt&&sn.slice(-Lt.length)===Lt:pt==="~="?(" "+sn.replace(An," ")+" ").indexOf(Lt)>-1:pt==="|="?sn===Lt||sn.slice(0,Lt.length+1)===Lt+"-":!1):!0}},CHILD:function($e,pt,Lt,Vt,sn){var Fn=$e.slice(0,3)!=="nth",jn=$e.slice(-4)!=="last",$n=pt==="of-type";return Vt===1&&sn===0?function(Gn){return!!Gn.parentNode}:function(Gn,ir,Mi){var Ci,Ri,pi,Ui,Ya,Ts=Fn!==jn?"nextSibling":"previousSibling",wa=Gn.parentNode,pa=$n&&Gn.nodeName.toLowerCase(),Rl=!Mi&&!$n,aa=!1;if(wa){if(Fn){for(;Ts;){for(pi=Gn;pi=pi[Ts];)if($n?F(pi,pa):pi.nodeType===1)return!1;Ya=Ts=$e==="only"&&!Ya&&"nextSibling"}return!0}if(Ya=[jn?wa.firstChild:wa.lastChild],jn&&Rl){for(Ri=wa[rn]||(wa[rn]={}),Ci=Ri[$e]||[],Ui=Ci[0]===It&&Ci[1],aa=Ui&&Ci[2],pi=Ui&&wa.childNodes[Ui];pi=++Ui&&pi&&pi[Ts]||(aa=Ui=0)||Ya.pop();)if(pi.nodeType===1&&++aa&&pi===Gn){Ri[$e]=[It,Ui,aa];break}}else if(Rl&&(Ri=Gn[rn]||(Gn[rn]={}),Ci=Ri[$e]||[],Ui=Ci[0]===It&&Ci[1],aa=Ui),aa===!1)for(;(pi=++Ui&&pi&&pi[Ts]||(aa=Ui=0)||Ya.pop())&&!(($n?F(pi,pa):pi.nodeType===1)&&++aa&&(Rl&&(Ri=pi[rn]||(pi[rn]={}),Ri[$e]=[It,aa]),pi===Gn)););return aa-=sn,aa===Vt||aa%Vt===0&&aa/Vt>=0}}},PSEUDO:function($e,pt){var Lt,Vt=G.pseudos[$e]||G.setFilters[$e.toLowerCase()]||Fi.error("unsupported pseudo: "+$e);return Vt[rn]?Vt(pt):Vt.length>1?(Lt=[$e,$e,"",pt],G.setFilters.hasOwnProperty($e.toLowerCase())?qa(function(sn,Fn){for(var jn,$n=Vt(sn,pt),Gn=$n.length;Gn--;)jn=l.call(sn,$n[Gn]),sn[jn]=!(Fn[jn]=$n[Gn])}):function(sn){return Vt(sn,0,Lt)}):Vt}},pseudos:{not:qa(function($e){var pt=[],Lt=[],Vt=hh($e.replace(U,"$1"));return Vt[rn]?qa(function(sn,Fn,jn,$n){for(var Gn,ir=Vt(sn,null,$n,[]),Mi=sn.length;Mi--;)(Gn=ir[Mi])&&(sn[Mi]=!(Fn[Mi]=Gn))}):function(sn,Fn,jn){return pt[0]=sn,Vt(pt,null,jn,Lt),pt[0]=null,!Lt.pop()}}),has:qa(function($e){return function(pt){return Fi($e,pt).length>0}}),contains:qa(function($e){return $e=$e.replace(wi,bi),function(pt){return(pt.textContent||C.text(pt)).indexOf($e)>-1}}),lang:qa(function($e){return Fr.test($e||"")||Fi.error("unsupported lang: "+$e),$e=$e.replace(wi,bi).toLowerCase(),function(pt){var Lt;do if(Lt=ze?pt.lang:pt.getAttribute("xml:lang")||pt.getAttribute("lang"))return Lt=Lt.toLowerCase(),Lt===$e||Lt.indexOf($e+"-")===0;while((pt=pt.parentNode)&&pt.nodeType===1);return!1}}),target:function($e){var pt=e.location&&e.location.hash;return pt&&pt.slice(1)===$e.id},root:function($e){return $e===je},focus:function($e){return $e===Da()&&Se.hasFocus()&&!!($e.type||$e.href||~$e.tabIndex)},enabled:ts(!1),disabled:ts(!0),checked:function($e){return F($e,"input")&&!!$e.checked||F($e,"option")&&!!$e.selected},selected:function($e){return $e.parentNode&&$e.parentNode.selectedIndex,$e.selected===!0},empty:function($e){for($e=$e.firstChild;$e;$e=$e.nextSibling)if($e.nodeType<6)return!1;return!0},parent:function($e){return!G.pseudos.empty($e)},header:function($e){return yi.test($e.nodeName)},input:function($e){return Rn.test($e.nodeName)},button:function($e){return F($e,"input")&&$e.type==="button"||F($e,"button")},text:function($e){var pt;return F($e,"input")&&$e.type==="text"&&((pt=$e.getAttribute("type"))==null||pt.toLowerCase()==="text")},first:ns(function(){return[0]}),last:ns(function($e,pt){return[pt-1]}),eq:ns(function($e,pt,Lt){return[Lt<0?Lt+pt:Lt]}),even:ns(function($e,pt){for(var Lt=0;Lt<pt;Lt+=2)$e.push(Lt);return $e}),odd:ns(function($e,pt){for(var Lt=1;Lt<pt;Lt+=2)$e.push(Lt);return $e}),lt:ns(function($e,pt,Lt){var Vt;for(Lt<0?Vt=Lt+pt:Lt>pt?Vt=pt:Vt=Lt;--Vt>=0;)$e.push(Vt);return $e}),gt:ns(function($e,pt,Lt){for(var Vt=Lt<0?Lt+pt:Lt;++Vt<pt;)$e.push(Vt);return $e})}},G.pseudos.nth=G.pseudos.eq;for(P in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})G.pseudos[P]=lr(P);for(P in{submit:!0,reset:!0})G.pseudos[P]=Cs(P);function oo(){}oo.prototype=G.filters=G.pseudos,G.setFilters=new oo;function ra($e,pt){var Lt,Vt,sn,Fn,jn,$n,Gn,ir=Ee[$e+" "];if(ir)return pt?0:ir.slice(0);for(jn=$e,$n=[],Gn=G.preFilter;jn;){(!Lt||(Vt=Nn.exec(jn)))&&(Vt&&(jn=jn.slice(Vt[0].length)||jn),$n.push(sn=[])),Lt=!1,(Vt=vi.exec(jn))&&(Lt=Vt.shift(),sn.push({value:Lt,type:Vt[0].replace(U," ")}),jn=jn.slice(Lt.length));for(Fn in G.filter)(Vt=sr[Fn].exec(jn))&&(!Gn[Fn]||(Vt=Gn[Fn](Vt)))&&(Lt=Vt.shift(),sn.push({value:Lt,type:Fn,matches:Vt}),jn=jn.slice(Lt.length));if(!Lt)break}return pt?jn.length:jn?Fi.error($e):Ee($e,$n).slice(0)}function To($e){for(var pt=0,Lt=$e.length,Vt="";pt<Lt;pt++)Vt+=$e[pt].value;return Vt}function xa($e,pt,Lt){var Vt=pt.dir,sn=pt.next,Fn=sn||Vt,jn=Lt&&Fn==="parentNode",$n=yn++;return pt.first?function(Gn,ir,Mi){for(;Gn=Gn[Vt];)if(Gn.nodeType===1||jn)return $e(Gn,ir,Mi);return!1}:function(Gn,ir,Mi){var Ci,Ri,pi=[It,$n];if(Mi){for(;Gn=Gn[Vt];)if((Gn.nodeType===1||jn)&&$e(Gn,ir,Mi))return!0}else for(;Gn=Gn[Vt];)if(Gn.nodeType===1||jn)if(Ri=Gn[rn]||(Gn[rn]={}),sn&&F(Gn,sn))Gn=Gn[Vt]||Gn;else{if((Ci=Ri[Fn])&&Ci[0]===It&&Ci[1]===$n)return pi[2]=Ci[2];if(Ri[Fn]=pi,pi[2]=$e(Gn,ir,Mi))return!0}return!1}}function Ps($e){return $e.length>1?function(pt,Lt,Vt){for(var sn=$e.length;sn--;)if(!$e[sn](pt,Lt,Vt))return!1;return!0}:$e[0]}function Yd($e,pt,Lt){for(var Vt=0,sn=pt.length;Vt<sn;Vt++)Fi($e,pt[Vt],Lt);return Lt}function sa($e,pt,Lt,Vt,sn){for(var Fn,jn=[],$n=0,Gn=$e.length,ir=pt!=null;$n<Gn;$n++)(Fn=$e[$n])&&(!Lt||Lt(Fn,Vt,sn))&&(jn.push(Fn),ir&&pt.push($n));return jn}function Ao($e,pt,Lt,Vt,sn,Fn){return Vt&&!Vt[rn]&&(Vt=Ao(Vt)),sn&&!sn[rn]&&(sn=Ao(sn,Fn)),qa(function(jn,$n,Gn,ir){var Mi,Ci,Ri,pi,Ui=[],Ya=[],Ts=$n.length,wa=jn||Yd(pt||"*",Gn.nodeType?[Gn]:Gn,[]),pa=$e&&(jn||!pt)?sa(wa,Ui,$e,Gn,ir):wa;if(Lt?(pi=sn||(jn?$e:Ts||Vt)?[]:$n,Lt(pa,pi,Gn,ir)):pi=pa,Vt)for(Mi=sa(pi,Ya),Vt(Mi,[],Gn,ir),Ci=Mi.length;Ci--;)(Ri=Mi[Ci])&&(pi[Ya[Ci]]=!(pa[Ya[Ci]]=Ri));if(jn){if(sn||$e){if(sn){for(Mi=[],Ci=pi.length;Ci--;)(Ri=pi[Ci])&&Mi.push(pa[Ci]=Ri);sn(null,pi=[],Mi,ir)}for(Ci=pi.length;Ci--;)(Ri=pi[Ci])&&(Mi=sn?l.call(jn,Ri):Ui[Ci])>-1&&(jn[Mi]=!($n[Mi]=Ri))}}else pi=sa(pi===$n?pi.splice(Ts,pi.length):pi),sn?sn(null,$n,pi,ir):le.apply($n,pi)})}function Sa($e){for(var pt,Lt,Vt,sn=$e.length,Fn=G.relative[$e[0].type],jn=Fn||G.relative[" "],$n=Fn?1:0,Gn=xa(function(Ci){return Ci===pt},jn,!0),ir=xa(function(Ci){return l.call(pt,Ci)>-1},jn,!0),Mi=[function(Ci,Ri,pi){var Ui=!Fn&&(pi||Ri!=Y)||((pt=Ri).nodeType?Gn(Ci,Ri,pi):ir(Ci,Ri,pi));return pt=null,Ui}];$n<sn;$n++)if(Lt=G.relative[$e[$n].type])Mi=[xa(Ps(Mi),Lt)];else{if(Lt=G.filter[$e[$n].type].apply(null,$e[$n].matches),Lt[rn]){for(Vt=++$n;Vt<sn&&!G.relative[$e[Vt].type];Vt++);return Ao($n>1&&Ps(Mi),$n>1&&To($e.slice(0,$n-1).concat({value:$e[$n-2].type===" "?"*":""})).replace(U,"$1"),Lt,$n<Vt&&Sa($e.slice($n,Vt)),Vt<sn&&Sa($e=$e.slice(Vt)),Vt<sn&&To($e))}Mi.push(Lt)}return Ps(Mi)}function Mo($e,pt){var Lt=pt.length>0,Vt=$e.length>0,sn=function(Fn,jn,$n,Gn,ir){var Mi,Ci,Ri,pi=0,Ui="0",Ya=Fn&&[],Ts=[],wa=Y,pa=Fn||Vt&&G.find.TAG("*",ir),Rl=It+=wa==null?1:Math.random()||.1,aa=pa.length;for(ir&&(Y=jn==Se||jn||ir);Ui!==aa&&(Mi=pa[Ui])!=null;Ui++){if(Vt&&Mi){for(Ci=0,!jn&&Mi.ownerDocument!=Se&&(ui(Mi),$n=!ze);Ri=$e[Ci++];)if(Ri(Mi,jn||Se,$n)){le.call(Gn,Mi);break}ir&&(It=Rl)}Lt&&((Mi=!Ri&&Mi)&&pi--,Fn&&Ya.push(Mi))}if(pi+=Ui,Lt&&Ui!==pi){for(Ci=0;Ri=pt[Ci++];)Ri(Ya,Ts,jn,$n);if(Fn){if(pi>0)for(;Ui--;)Ya[Ui]||Ts[Ui]||(Ts[Ui]=M.call(Gn));Ts=sa(Ts)}le.apply(Gn,Ts),ir&&!Fn&&Ts.length>0&&pi+pt.length>1&&C.uniqueSort(Gn)}return ir&&(It=Rl,Y=wa),Ya};return Lt?qa(sn):sn}function hh($e,pt){var Lt,Vt=[],sn=[],Fn=Re[$e+" "];if(!Fn){for(pt||(pt=ra($e)),Lt=pt.length;Lt--;)Fn=Sa(pt[Lt]),Fn[rn]?Vt.push(Fn):sn.push(Fn);Fn=Re($e,Mo(sn,Vt)),Fn.selector=$e}return Fn}function Jh($e,pt,Lt,Vt){var sn,Fn,jn,$n,Gn,ir=typeof $e=="function"&&$e,Mi=!Vt&&ra($e=ir.selector||$e);if(Lt=Lt||[],Mi.length===1){if(Fn=Mi[0]=Mi[0].slice(0),Fn.length>2&&(jn=Fn[0]).type==="ID"&&pt.nodeType===9&&ze&&G.relative[Fn[1].type]){if(pt=(G.find.ID(jn.matches[0].replace(wi,bi),pt)||[])[0],pt)ir&&(pt=pt.parentNode);else return Lt;$e=$e.slice(Fn.shift().value.length)}for(sn=sr.needsContext.test($e)?0:Fn.length;sn--&&(jn=Fn[sn],!G.relative[$n=jn.type]);)if((Gn=G.find[$n])&&(Vt=Gn(jn.matches[0].replace(wi,bi),ni.test(Fn[0].type)&&Bs(pt.parentNode)||pt))){if(Fn.splice(sn,1),$e=Vt.length&&To(Fn),!$e)return le.apply(Lt,Vt),Lt;break}}return(ir||hh($e,Mi))(Vt,pt,!ze,Lt,!pt||ni.test($e)&&Bs(pt.parentNode)||pt),Lt}_.sortStable=rn.split("").sort(Ue).join("")===rn,ui(),_.sortDetached=ao(function($e){return $e.compareDocumentPosition(Se.createElement("fieldset"))&1}),C.find=Fi,C.expr[":"]=C.expr.pseudos,C.unique=C.uniqueSort,Fi.compile=hh,Fi.select=Jh,Fi.setDocument=ui,Fi.tokenize=ra,Fi.escape=C.escapeSelector,Fi.getText=C.text,Fi.isXML=C.isXMLDoc,Fi.selectors=C.expr,Fi.support=C.support,Fi.uniqueSort=C.uniqueSort})();var oe=function(P,G,Y){for(var se=[],de=Y!==void 0;(P=P[G])&&P.nodeType!==9;)if(P.nodeType===1){if(de&&C(P).is(Y))break;se.push(P)}return se},ne=function(P,G){for(var Y=[];P;P=P.nextSibling)P.nodeType===1&&P!==G&&Y.push(P);return Y},ie=C.expr.match.needsContext,he=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function fe(P,G,Y){return g(G)?C.grep(P,function(se,de){return!!G.call(se,de,se)!==Y}):G.nodeType?C.grep(P,function(se){return se===G!==Y}):typeof G!="string"?C.grep(P,function(se){return l.call(G,se)>-1!==Y}):C.filter(G,P,Y)}C.filter=function(P,G,Y){var se=G[0];return Y&&(P=":not("+P+")"),G.length===1&&se.nodeType===1?C.find.matchesSelector(se,P)?[se]:[]:C.find.matches(P,C.grep(G,function(de){return de.nodeType===1}))},C.fn.extend({find:function(P){var G,Y,se=this.length,de=this;if(typeof P!="string")return this.pushStack(C(P).filter(function(){for(G=0;G<se;G++)if(C.contains(de[G],this))return!0}));for(Y=this.pushStack([]),G=0;G<se;G++)C.find(P,de[G],Y);return se>1?C.uniqueSort(Y):Y},filter:function(P){return this.pushStack(fe(this,P||[],!1))},not:function(P){return this.pushStack(fe(this,P||[],!0))},is:function(P){return!!fe(this,typeof P=="string"&&ie.test(P)?C(P):P||[],!1).length}});var ce,ae=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,ve=C.fn.init=function(P,G,Y){var se,de;if(!P)return this;if(Y=Y||ce,typeof P=="string")if(P[0]==="<"&&P[P.length-1]===">"&&P.length>=3?se=[null,P,null]:se=ae.exec(P),se&&(se[1]||!G))if(se[1]){if(G=G instanceof C?G[0]:G,C.merge(this,C.parseHTML(se[1],G&&G.nodeType?G.ownerDocument||G:u,!0)),he.test(se[1])&&C.isPlainObject(G))for(se in G)g(this[se])?this[se](G[se]):this.attr(se,G[se]);return this}else return de=u.getElementById(se[2]),de&&(this[0]=de,this.length=1),this;else return!G||G.jquery?(G||Y).find(P):this.constructor(G).find(P);else{if(P.nodeType)return this[0]=P,this.length=1,this;if(g(P))return Y.ready!==void 0?Y.ready(P):P(C)}return C.makeArray(P,this)};ve.prototype=C.fn,ce=C(u);var _e=/^(?:parents|prev(?:Until|All))/,Te={children:!0,contents:!0,next:!0,prev:!0};C.fn.extend({has:function(P){var G=C(P,this),Y=G.length;return this.filter(function(){for(var se=0;se<Y;se++)if(C.contains(this,G[se]))return!0})},closest:function(P,G){var Y,se=0,de=this.length,le=[],Se=typeof P!="string"&&C(P);if(!ie.test(P)){for(;se<de;se++)for(Y=this[se];Y&&Y!==G;Y=Y.parentNode)if(Y.nodeType<11&&(Se?Se.index(Y)>-1:Y.nodeType===1&&C.find.matchesSelector(Y,P))){le.push(Y);break}}return this.pushStack(le.length>1?C.uniqueSort(le):le)},index:function(P){return P?typeof P=="string"?l.call(C(P),this[0]):l.call(this,P.jquery?P[0]:P):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(P,G){return this.pushStack(C.uniqueSort(C.merge(this.get(),C(P,G))))},addBack:function(P){return this.add(P==null?this.prevObject:this.prevObject.filter(P))}});function Fe(P,G){for(;(P=P[G])&&P.nodeType!==1;);return P}C.each({parent:function(P){var G=P.parentNode;return G&&G.nodeType!==11?G:null},parents:function(P){return oe(P,"parentNode")},parentsUntil:function(P,G,Y){return oe(P,"parentNode",Y)},next:function(P){return Fe(P,"nextSibling")},prev:function(P){return Fe(P,"previousSibling")},nextAll:function(P){return oe(P,"nextSibling")},prevAll:function(P){return oe(P,"previousSibling")},nextUntil:function(P,G,Y){return oe(P,"nextSibling",Y)},prevUntil:function(P,G,Y){return oe(P,"previousSibling",Y)},siblings:function(P){return ne((P.parentNode||{}).firstChild,P)},children:function(P){return ne(P.firstChild)},contents:function(P){return P.contentDocument!=null&&r(P.contentDocument)?P.contentDocument:(F(P,"template")&&(P=P.content||P),C.merge([],P.childNodes))}},function(P,G){C.fn[P]=function(Y,se){var de=C.map(this,G,Y);return P.slice(-5)!=="Until"&&(se=Y),se&&typeof se=="string"&&(de=C.filter(se,de)),this.length>1&&(Te[P]||C.uniqueSort(de),_e.test(P)&&de.reverse()),this.pushStack(de)}});var We=/[^\x20\t\r\n\f]+/g;function ht(P){var G={};return C.each(P.match(We)||[],function(Y,se){G[se]=!0}),G}C.Callbacks=function(P){P=typeof P=="string"?ht(P):C.extend({},P);var G,Y,se,de,le=[],Se=[],je=-1,ze=function(){for(de=de||P.once,se=G=!0;Se.length;je=-1)for(Y=Se.shift();++je<le.length;)le[je].apply(Y[0],Y[1])===!1&&P.stopOnFalse&&(je=le.length,Y=!1);P.memory||(Y=!1),G=!1,de&&(Y?le=[]:le="")},dt={add:function(){return le&&(Y&&!G&&(je=le.length-1,Se.push(Y)),(function $t(rn){C.each(rn,function(It,yn){g(yn)?(!P.unique||!dt.has(yn))&&le.push(yn):yn&&yn.length&&T(yn)!=="string"&&$t(yn)})})(arguments),Y&&!G&&ze()),this},remove:function(){return C.each(arguments,function($t,rn){for(var It;(It=C.inArray(rn,le,It))>-1;)le.splice(It,1),It<=je&&je--}),this},has:function($t){return $t?C.inArray($t,le)>-1:le.length>0},empty:function(){return le&&(le=[]),this},disable:function(){return de=Se=[],le=Y="",this},disabled:function(){return!le},lock:function(){return de=Se=[],!Y&&!G&&(le=Y=""),this},locked:function(){return!!de},fireWith:function($t,rn){return de||(rn=rn||[],rn=[$t,rn.slice?rn.slice():rn],Se.push(rn),G||ze()),this},fire:function(){return dt.fireWith(this,arguments),this},fired:function(){return!!se}};return dt};function ft(P){return P}function Bt(P){throw P}function Me(P,G,Y,se){var de;try{P&&g(de=P.promise)?de.call(P).done(G).fail(Y):P&&g(de=P.then)?de.call(P,G,Y):G.apply(void 0,[P].slice(se))}catch(le){Y.apply(void 0,[le])}}C.extend({Deferred:function(P){var G=[["notify","progress",C.Callbacks("memory"),C.Callbacks("memory"),2],["resolve","done",C.Callbacks("once memory"),C.Callbacks("once memory"),0,"resolved"],["reject","fail",C.Callbacks("once memory"),C.Callbacks("once memory"),1,"rejected"]],Y="pending",se={state:function(){return Y},always:function(){return de.done(arguments).fail(arguments),this},catch:function(le){return se.then(null,le)},pipe:function(){var le=arguments;return C.Deferred(function(Se){C.each(G,function(je,ze){var dt=g(le[ze[4]])&&le[ze[4]];de[ze[1]](function(){var $t=dt&&dt.apply(this,arguments);$t&&g($t.promise)?$t.promise().progress(Se.notify).done(Se.resolve).fail(Se.reject):Se[ze[0]+"With"](this,dt?[$t]:arguments)})}),le=null}).promise()},then:function(le,Se,je){var ze=0;function dt($t,rn,It,yn){return function(){var hi=this,Ee=arguments,Re=function(){var Ue,He;if(!($t<ze)){if(Ue=It.apply(hi,Ee),Ue===rn.promise())throw new TypeError("Thenable self-resolution");He=Ue&&(typeof Ue=="object"||typeof Ue=="function")&&Ue.then,g(He)?yn?He.call(Ue,dt(ze,rn,ft,yn),dt(ze,rn,Bt,yn)):(ze++,He.call(Ue,dt(ze,rn,ft,yn),dt(ze,rn,Bt,yn),dt(ze,rn,ft,rn.notifyWith))):(It!==ft&&(hi=void 0,Ee=[Ue]),(yn||rn.resolveWith)(hi,Ee))}},Xe=yn?Re:function(){try{Re()}catch(Ue){C.Deferred.exceptionHook&&C.Deferred.exceptionHook(Ue,Xe.error),$t+1>=ze&&(It!==Bt&&(hi=void 0,Ee=[Ue]),rn.rejectWith(hi,Ee))}};$t?Xe():(C.Deferred.getErrorHook?Xe.error=C.Deferred.getErrorHook():C.Deferred.getStackHook&&(Xe.error=C.Deferred.getStackHook()),e.setTimeout(Xe))}}return C.Deferred(function($t){G[0][3].add(dt(0,$t,g(je)?je:ft,$t.notifyWith)),G[1][3].add(dt(0,$t,g(le)?le:ft)),G[2][3].add(dt(0,$t,g(Se)?Se:Bt))}).promise()},promise:function(le){return le!=null?C.extend(le,se):se}},de={};return C.each(G,function(le,Se){var je=Se[2],ze=Se[5];se[Se[1]]=je.add,ze&&je.add(function(){Y=ze},G[3-le][2].disable,G[3-le][3].disable,G[0][2].lock,G[0][3].lock),je.add(Se[3].fire),de[Se[0]]=function(){return de[Se[0]+"With"](this===de?void 0:this,arguments),this},de[Se[0]+"With"]=je.fireWith}),se.promise(de),P&&P.call(de,de),de},when:function(P){var G=arguments.length,Y=G,se=Array(Y),de=s.call(arguments),le=C.Deferred(),Se=function(je){return function(ze){se[je]=this,de[je]=arguments.length>1?s.call(arguments):ze,--G||le.resolveWith(se,de)}};if(G<=1&&(Me(P,le.done(Se(Y)).resolve,le.reject,!G),le.state()==="pending"||g(de[Y]&&de[Y].then)))return le.then();for(;Y--;)Me(de[Y],Se(Y),le.reject);return le.promise()}});var yt=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;C.Deferred.exceptionHook=function(P,G){e.console&&e.console.warn&&P&&yt.test(P.name)&&e.console.warn("jQuery.Deferred exception: "+P.message,P.stack,G)},C.readyException=function(P){e.setTimeout(function(){throw P})};var mt=C.Deferred();C.fn.ready=function(P){return mt.then(P).catch(function(G){C.readyException(G)}),this},C.extend({isReady:!1,readyWait:1,ready:function(P){(P===!0?--C.readyWait:C.isReady)||(C.isReady=!0,!(P!==!0&&--C.readyWait>0)&&mt.resolveWith(u,[C]))}}),C.ready.then=mt.then;function St(){u.removeEventListener("DOMContentLoaded",St),e.removeEventListener("load",St),C.ready()}u.readyState==="complete"||u.readyState!=="loading"&&!u.documentElement.doScroll?e.setTimeout(C.ready):(u.addEventListener("DOMContentLoaded",St),e.addEventListener("load",St));var nt=function(P,G,Y,se,de,le,Se){var je=0,ze=P.length,dt=Y==null;if(T(Y)==="object"){de=!0;for(je in Y)nt(P,G,je,Y[je],!0,le,Se)}else if(se!==void 0&&(de=!0,g(se)||(Se=!0),dt&&(Se?(G.call(P,se),G=null):(dt=G,G=function($t,rn,It){return dt.call(C($t),It)})),G))for(;je<ze;je++)G(P[je],Y,Se?se:se.call(P[je],je,G(P[je],Y)));return de?P:dt?G.call(P):ze?G(P[0],Y):le},Ft=/^-ms-/,qe=/-([a-z])/g;function Ke(P,G){return G.toUpperCase()}function Et(P){return P.replace(Ft,"ms-").replace(qe,Ke)}var ye=function(P){return P.nodeType===1||P.nodeType===9||!+P.nodeType};function me(){this.expando=C.expando+me.uid++}me.uid=1,me.prototype={cache:function(P){var G=P[this.expando];return G||(G={},ye(P)&&(P.nodeType?P[this.expando]=G:Object.defineProperty(P,this.expando,{value:G,configurable:!0}))),G},set:function(P,G,Y){var se,de=this.cache(P);if(typeof G=="string")de[Et(G)]=Y;else for(se in G)de[Et(se)]=G[se];return de},get:function(P,G){return G===void 0?this.cache(P):P[this.expando]&&P[this.expando][Et(G)]},access:function(P,G,Y){return G===void 0||G&&typeof G=="string"&&Y===void 0?this.get(P,G):(this.set(P,G,Y),Y!==void 0?Y:G)},remove:function(P,G){var Y,se=P[this.expando];if(se!==void 0){if(G!==void 0)for(Array.isArray(G)?G=G.map(Et):(G=Et(G),G=G in se?[G]:G.match(We)||[]),Y=G.length;Y--;)delete se[G[Y]];(G===void 0||C.isEmptyObject(se))&&(P.nodeType?P[this.expando]=void 0:delete P[this.expando])}},hasData:function(P){var G=P[this.expando];return G!==void 0&&!C.isEmptyObject(G)}};var Le=new me,it=new me,Qe=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,et=/[A-Z]/g;function At(P){return P==="true"?!0:P==="false"?!1:P==="null"?null:P===+P+""?+P:Qe.test(P)?JSON.parse(P):P}function Gt(P,G,Y){var se;if(Y===void 0&&P.nodeType===1)if(se="data-"+G.replace(et,"-$&").toLowerCase(),Y=P.getAttribute(se),typeof Y=="string"){try{Y=At(Y)}catch{}it.set(P,G,Y)}else Y=void 0;return Y}C.extend({hasData:function(P){return it.hasData(P)||Le.hasData(P)},data:function(P,G,Y){return it.access(P,G,Y)},removeData:function(P,G){it.remove(P,G)},_data:function(P,G,Y){return Le.access(P,G,Y)},_removeData:function(P,G){Le.remove(P,G)}}),C.fn.extend({data:function(P,G){var Y,se,de,le=this[0],Se=le&&le.attributes;if(P===void 0){if(this.length&&(de=it.get(le),le.nodeType===1&&!Le.get(le,"hasDataAttrs"))){for(Y=Se.length;Y--;)Se[Y]&&(se=Se[Y].name,se.indexOf("data-")===0&&(se=Et(se.slice(5)),Gt(le,se,de[se])));Le.set(le,"hasDataAttrs",!0)}return de}return typeof P=="object"?this.each(function(){it.set(this,P)}):nt(this,function(je){var ze;if(le&&je===void 0)return ze=it.get(le,P),ze!==void 0||(ze=Gt(le,P),ze!==void 0)?ze:void 0;this.each(function(){it.set(this,P,je)})},null,G,arguments.length>1,null,!0)},removeData:function(P){return this.each(function(){it.remove(this,P)})}}),C.extend({queue:function(P,G,Y){var se;if(P)return G=(G||"fx")+"queue",se=Le.get(P,G),Y&&(!se||Array.isArray(Y)?se=Le.access(P,G,C.makeArray(Y)):se.push(Y)),se||[]},dequeue:function(P,G){G=G||"fx";var Y=C.queue(P,G),se=Y.length,de=Y.shift(),le=C._queueHooks(P,G),Se=function(){C.dequeue(P,G)};de==="inprogress"&&(de=Y.shift(),se--),de&&(G==="fx"&&Y.unshift("inprogress"),delete le.stop,de.call(P,Se,le)),!se&&le&&le.empty.fire()},_queueHooks:function(P,G){var Y=G+"queueHooks";return Le.get(P,Y)||Le.access(P,Y,{empty:C.Callbacks("once memory").add(function(){Le.remove(P,[G+"queue",Y])})})}}),C.fn.extend({queue:function(P,G){var Y=2;return typeof P!="string"&&(G=P,P="fx",Y--),arguments.length<Y?C.queue(this[0],P):G===void 0?this:this.each(function(){var se=C.queue(this,P,G);C._queueHooks(this,P),P==="fx"&&se[0]!=="inprogress"&&C.dequeue(this,P)})},dequeue:function(P){return this.each(function(){C.dequeue(this,P)})},clearQueue:function(P){return this.queue(P||"fx",[])},promise:function(P,G){var Y,se=1,de=C.Deferred(),le=this,Se=this.length,je=function(){--se||de.resolveWith(le,[le])};for(typeof P!="string"&&(G=P,P=void 0),P=P||"fx";Se--;)Y=Le.get(le[Se],P+"queueHooks"),Y&&Y.empty&&(se++,Y.empty.add(je));return je(),de.promise(G)}});var on=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,fn=new RegExp("^(?:([+-])=|)("+on+")([a-z%]*)$","i"),xt=["Top","Right","Bottom","Left"],kt=u.documentElement,Xt=function(P){return C.contains(P.ownerDocument,P)},Ve={composed:!0};kt.getRootNode&&(Xt=function(P){return C.contains(P.ownerDocument,P)||P.getRootNode(Ve)===P.ownerDocument});var lt=function(P,G){return P=G||P,P.style.display==="none"||P.style.display===""&&Xt(P)&&C.css(P,"display")==="none"};function Qt(P,G,Y,se){var de,le,Se=20,je=se?function(){return se.cur()}:function(){return C.css(P,G,"")},ze=je(),dt=Y&&Y[3]||(C.cssNumber[G]?"":"px"),$t=P.nodeType&&(C.cssNumber[G]||dt!=="px"&&+ze)&&fn.exec(C.css(P,G));if($t&&$t[3]!==dt){for(ze=ze/2,dt=dt||$t[3],$t=+ze||1;Se--;)C.style(P,G,$t+dt),(1-le)*(1-(le=je()/ze||.5))<=0&&(Se=0),$t=$t/le;$t=$t*2,C.style(P,G,$t+dt),Y=Y||[]}return Y&&($t=+$t||+ze||0,de=Y[1]?$t+(Y[1]+1)*Y[2]:+Y[2],se&&(se.unit=dt,se.start=$t,se.end=de)),de}var Ye={};function ct(P){var G,Y=P.ownerDocument,se=P.nodeName,de=Ye[se];return de||(G=Y.body.appendChild(Y.createElement(se)),de=C.css(G,"display"),G.parentNode.removeChild(G),de==="none"&&(de="block"),Ye[se]=de,de)}function Dt(P,G){for(var Y,se,de=[],le=0,Se=P.length;le<Se;le++)se=P[le],se.style&&(Y=se.style.display,G?(Y==="none"&&(de[le]=Le.get(se,"display")||null,de[le]||(se.style.display="")),se.style.display===""&&lt(se)&&(de[le]=ct(se))):Y!=="none"&&(de[le]="none",Le.set(se,"display",Y)));for(le=0;le<Se;le++)de[le]!=null&&(P[le].style.display=de[le]);return P}C.fn.extend({show:function(){return Dt(this,!0)},hide:function(){return Dt(this)},toggle:function(P){return typeof P=="boolean"?P?this.show():this.hide():this.each(function(){lt(this)?C(this).show():C(this).hide()})}});var Sn=/^(?:checkbox|radio)$/i,qt=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,wt=/^$|^module$|\/(?:java|ecma)script/i;(function(){var P=u.createDocumentFragment(),G=P.appendChild(u.createElement("div")),Y=u.createElement("input");Y.setAttribute("type","radio"),Y.setAttribute("checked","checked"),Y.setAttribute("name","t"),G.appendChild(Y),_.checkClone=G.cloneNode(!0).cloneNode(!0).lastChild.checked,G.innerHTML="<textarea>x</textarea>",_.noCloneChecked=!!G.cloneNode(!0).lastChild.defaultValue,G.innerHTML="<option></option>",_.option=!!G.lastChild})();var dn={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};dn.tbody=dn.tfoot=dn.colgroup=dn.caption=dn.thead,dn.th=dn.td,_.option||(dn.optgroup=dn.option=[1,"<select multiple='multiple'>","</select>"]);function wn(P,G){var Y;return typeof P.getElementsByTagName<"u"?Y=P.getElementsByTagName(G||"*"):typeof P.querySelectorAll<"u"?Y=P.querySelectorAll(G||"*"):Y=[],G===void 0||G&&F(P,G)?C.merge([P],Y):Y}function Pn(P,G){for(var Y=0,se=P.length;Y<se;Y++)Le.set(P[Y],"globalEval",!G||Le.get(G[Y],"globalEval"))}var Wn=/<|&#?\w+;/;function Ii(P,G,Y,se,de){for(var le,Se,je,ze,dt,$t,rn=G.createDocumentFragment(),It=[],yn=0,hi=P.length;yn<hi;yn++)if(le=P[yn],le||le===0)if(T(le)==="object")C.merge(It,le.nodeType?[le]:le);else if(!Wn.test(le))It.push(G.createTextNode(le));else{for(Se=Se||rn.appendChild(G.createElement("div")),je=(qt.exec(le)||["",""])[1].toLowerCase(),ze=dn[je]||dn._default,Se.innerHTML=ze[1]+C.htmlPrefilter(le)+ze[2],$t=ze[0];$t--;)Se=Se.lastChild;C.merge(It,Se.childNodes),Se=rn.firstChild,Se.textContent=""}for(rn.textContent="",yn=0;le=It[yn++];){if(se&&C.inArray(le,se)>-1){de&&de.push(le);continue}if(dt=Xt(le),Se=wn(rn.appendChild(le),"script"),dt&&Pn(Se),Y)for($t=0;le=Se[$t++];)wt.test(le.type||"")&&Y.push(le)}return rn}var Ei=/^([^.]*)(?:\.(.+)|)/;function Si(){return!0}function er(){return!1}function Zi(P,G,Y,se,de,le){var Se,je;if(typeof G=="object"){typeof Y!="string"&&(se=se||Y,Y=void 0);for(je in G)Zi(P,je,Y,se,G[je],le);return P}if(se==null&&de==null?(de=Y,se=Y=void 0):de==null&&(typeof Y=="string"?(de=se,se=void 0):(de=se,se=Y,Y=void 0)),de===!1)de=er;else if(!de)return P;return le===1&&(Se=de,de=function(ze){return C().off(ze),Se.apply(this,arguments)},de.guid=Se.guid||(Se.guid=C.guid++)),P.each(function(){C.event.add(this,G,de,se,Y)})}C.event={global:{},add:function(P,G,Y,se,de){var le,Se,je,ze,dt,$t,rn,It,yn,hi,Ee,Re=Le.get(P);if(ye(P))for(Y.handler&&(le=Y,Y=le.handler,de=le.selector),de&&C.find.matchesSelector(kt,de),Y.guid||(Y.guid=C.guid++),(ze=Re.events)||(ze=Re.events=Object.create(null)),(Se=Re.handle)||(Se=Re.handle=function(Xe){return typeof C<"u"&&C.event.triggered!==Xe.type?C.event.dispatch.apply(P,arguments):void 0}),G=(G||"").match(We)||[""],dt=G.length;dt--;)je=Ei.exec(G[dt])||[],yn=Ee=je[1],hi=(je[2]||"").split(".").sort(),yn&&(rn=C.event.special[yn]||{},yn=(de?rn.delegateType:rn.bindType)||yn,rn=C.event.special[yn]||{},$t=C.extend({type:yn,origType:Ee,data:se,handler:Y,guid:Y.guid,selector:de,needsContext:de&&C.expr.match.needsContext.test(de),namespace:hi.join(".")},le),(It=ze[yn])||(It=ze[yn]=[],It.delegateCount=0,(!rn.setup||rn.setup.call(P,se,hi,Se)===!1)&&P.addEventListener&&P.addEventListener(yn,Se)),rn.add&&(rn.add.call(P,$t),$t.handler.guid||($t.handler.guid=Y.guid)),de?It.splice(It.delegateCount++,0,$t):It.push($t),C.event.global[yn]=!0)},remove:function(P,G,Y,se,de){var le,Se,je,ze,dt,$t,rn,It,yn,hi,Ee,Re=Le.hasData(P)&&Le.get(P);if(!(!Re||!(ze=Re.events))){for(G=(G||"").match(We)||[""],dt=G.length;dt--;){if(je=Ei.exec(G[dt])||[],yn=Ee=je[1],hi=(je[2]||"").split(".").sort(),!yn){for(yn in ze)C.event.remove(P,yn+G[dt],Y,se,!0);continue}for(rn=C.event.special[yn]||{},yn=(se?rn.delegateType:rn.bindType)||yn,It=ze[yn]||[],je=je[2]&&new RegExp("(^|\\.)"+hi.join("\\.(?:.*\\.|)")+"(\\.|$)"),Se=le=It.length;le--;)$t=It[le],(de||Ee===$t.origType)&&(!Y||Y.guid===$t.guid)&&(!je||je.test($t.namespace))&&(!se||se===$t.selector||se==="**"&&$t.selector)&&(It.splice(le,1),$t.selector&&It.delegateCount--,rn.remove&&rn.remove.call(P,$t));Se&&!It.length&&((!rn.teardown||rn.teardown.call(P,hi,Re.handle)===!1)&&C.removeEvent(P,yn,Re.handle),delete ze[yn])}C.isEmptyObject(ze)&&Le.remove(P,"handle events")}},dispatch:function(P){var G,Y,se,de,le,Se,je=new Array(arguments.length),ze=C.event.fix(P),dt=(Le.get(this,"events")||Object.create(null))[ze.type]||[],$t=C.event.special[ze.type]||{};for(je[0]=ze,G=1;G<arguments.length;G++)je[G]=arguments[G];if(ze.delegateTarget=this,!($t.preDispatch&&$t.preDispatch.call(this,ze)===!1)){for(Se=C.event.handlers.call(this,ze,dt),G=0;(de=Se[G++])&&!ze.isPropagationStopped();)for(ze.currentTarget=de.elem,Y=0;(le=de.handlers[Y++])&&!ze.isImmediatePropagationStopped();)(!ze.rnamespace||le.namespace===!1||ze.rnamespace.test(le.namespace))&&(ze.handleObj=le,ze.data=le.data,se=((C.event.special[le.origType]||{}).handle||le.handler).apply(de.elem,je),se!==void 0&&(ze.result=se)===!1&&(ze.preventDefault(),ze.stopPropagation()));return $t.postDispatch&&$t.postDispatch.call(this,ze),ze.result}},handlers:function(P,G){var Y,se,de,le,Se,je=[],ze=G.delegateCount,dt=P.target;if(ze&&dt.nodeType&&!(P.type==="click"&&P.button>=1)){for(;dt!==this;dt=dt.parentNode||this)if(dt.nodeType===1&&!(P.type==="click"&&dt.disabled===!0)){for(le=[],Se={},Y=0;Y<ze;Y++)se=G[Y],de=se.selector+" ",Se[de]===void 0&&(Se[de]=se.needsContext?C(de,this).index(dt)>-1:C.find(de,this,null,[dt]).length),Se[de]&&le.push(se);le.length&&je.push({elem:dt,handlers:le})}}return dt=this,ze<G.length&&je.push({elem:dt,handlers:G.slice(ze)}),je},addProp:function(P,G){Object.defineProperty(C.Event.prototype,P,{enumerable:!0,configurable:!0,get:g(G)?function(){if(this.originalEvent)return G(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[P]},set:function(Y){Object.defineProperty(this,P,{enumerable:!0,configurable:!0,writable:!0,value:Y})}})},fix:function(P){return P[C.expando]?P:new C.Event(P)},special:{load:{noBubble:!0},click:{setup:function(P){var G=this||P;return Sn.test(G.type)&&G.click&&F(G,"input")&&Or(G,"click",!0),!1},trigger:function(P){var G=this||P;return Sn.test(G.type)&&G.click&&F(G,"input")&&Or(G,"click"),!0},_default:function(P){var G=P.target;return Sn.test(G.type)&&G.click&&F(G,"input")&&Le.get(G,"click")||F(G,"a")}},beforeunload:{postDispatch:function(P){P.result!==void 0&&P.originalEvent&&(P.originalEvent.returnValue=P.result)}}}};function Or(P,G,Y){if(!Y){Le.get(P,G)===void 0&&C.event.add(P,G,Si);return}Le.set(P,G,!1),C.event.add(P,G,{namespace:!1,handler:function(se){var de,le=Le.get(this,G);if(se.isTrigger&1&&this[G]){if(le)(C.event.special[G]||{}).delegateType&&se.stopPropagation();else if(le=s.call(arguments),Le.set(this,G,le),this[G](),de=Le.get(this,G),Le.set(this,G,!1),le!==de)return se.stopImmediatePropagation(),se.preventDefault(),de}else le&&(Le.set(this,G,C.event.trigger(le[0],le.slice(1),this)),se.stopPropagation(),se.isImmediatePropagationStopped=Si)}})}C.removeEvent=function(P,G,Y){P.removeEventListener&&P.removeEventListener(G,Y)},C.Event=function(P,G){if(!(this instanceof C.Event))return new C.Event(P,G);P&&P.type?(this.originalEvent=P,this.type=P.type,this.isDefaultPrevented=P.defaultPrevented||P.defaultPrevented===void 0&&P.returnValue===!1?Si:er,this.target=P.target&&P.target.nodeType===3?P.target.parentNode:P.target,this.currentTarget=P.currentTarget,this.relatedTarget=P.relatedTarget):this.type=P,G&&C.extend(this,G),this.timeStamp=P&&P.timeStamp||Date.now(),this[C.expando]=!0},C.Event.prototype={constructor:C.Event,isDefaultPrevented:er,isPropagationStopped:er,isImmediatePropagationStopped:er,isSimulated:!1,preventDefault:function(){var P=this.originalEvent;this.isDefaultPrevented=Si,P&&!this.isSimulated&&P.preventDefault()},stopPropagation:function(){var P=this.originalEvent;this.isPropagationStopped=Si,P&&!this.isSimulated&&P.stopPropagation()},stopImmediatePropagation:function(){var P=this.originalEvent;this.isImmediatePropagationStopped=Si,P&&!this.isSimulated&&P.stopImmediatePropagation(),this.stopPropagation()}},C.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},C.event.addProp),C.each({focus:"focusin",blur:"focusout"},function(P,G){function Y(se){if(u.documentMode){var de=Le.get(this,"handle"),le=C.event.fix(se);le.type=se.type==="focusin"?"focus":"blur",le.isSimulated=!0,de(se),le.target===le.currentTarget&&de(le)}else C.event.simulate(G,se.target,C.event.fix(se))}C.event.special[P]={setup:function(){var se;if(Or(this,P,!0),u.documentMode)se=Le.get(this,G),se||this.addEventListener(G,Y),Le.set(this,G,(se||0)+1);else return!1},trigger:function(){return Or(this,P),!0},teardown:function(){var se;if(u.documentMode)se=Le.get(this,G)-1,se?Le.set(this,G,se):(this.removeEventListener(G,Y),Le.remove(this,G));else return!1},_default:function(se){return Le.get(se.target,P)},delegateType:G},C.event.special[G]={setup:function(){var se=this.ownerDocument||this.document||this,de=u.documentMode?this:se,le=Le.get(de,G);le||(u.documentMode?this.addEventListener(G,Y):se.addEventListener(P,Y,!0)),Le.set(de,G,(le||0)+1)},teardown:function(){var se=this.ownerDocument||this.document||this,de=u.documentMode?this:se,le=Le.get(de,G)-1;le?Le.set(de,G,le):(u.documentMode?this.removeEventListener(G,Y):se.removeEventListener(P,Y,!0),Le.remove(de,G))}}}),C.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(P,G){C.event.special[P]={delegateType:G,bindType:G,handle:function(Y){var se,de=this,le=Y.relatedTarget,Se=Y.handleObj;return(!le||le!==de&&!C.contains(de,le))&&(Y.type=Se.origType,se=Se.handler.apply(this,arguments),Y.type=G),se}}}),C.fn.extend({on:function(P,G,Y,se){return Zi(this,P,G,Y,se)},one:function(P,G,Y,se){return Zi(this,P,G,Y,se,1)},off:function(P,G,Y){var se,de;if(P&&P.preventDefault&&P.handleObj)return se=P.handleObj,C(P.delegateTarget).off(se.namespace?se.origType+"."+se.namespace:se.origType,se.selector,se.handler),this;if(typeof P=="object"){for(de in P)this.off(de,G,P[de]);return this}return(G===!1||typeof G=="function")&&(Y=G,G=void 0),Y===!1&&(Y=er),this.each(function(){C.event.remove(this,P,Y,G)})}});var Wr=/<script|<style|<link/i,jr=/checked\s*(?:[^=]|=\s*.checked.)/i,ti=/^\s*<!\[CDATA\[|\]\]>\s*$/g;function rr(P,G){return F(P,"table")&&F(G.nodeType!==11?G:G.firstChild,"tr")&&C(P).children("tbody")[0]||P}function zi(P){return P.type=(P.getAttribute("type")!==null)+"/"+P.type,P}function we(P){return(P.type||"").slice(0,5)==="true/"?P.type=P.type.slice(5):P.removeAttribute("type"),P}function Ie(P,G){var Y,se,de,le,Se,je,ze;if(G.nodeType===1){if(Le.hasData(P)&&(le=Le.get(P),ze=le.events,ze)){Le.remove(G,"handle events");for(de in ze)for(Y=0,se=ze[de].length;Y<se;Y++)C.event.add(G,de,ze[de][Y])}it.hasData(P)&&(Se=it.access(P),je=C.extend({},Se),it.set(G,je))}}function tt(P,G){var Y=G.nodeName.toLowerCase();Y==="input"&&Sn.test(P.type)?G.checked=P.checked:(Y==="input"||Y==="textarea")&&(G.defaultValue=P.defaultValue)}function Rt(P,G,Y,se){G=a(G);var de,le,Se,je,ze,dt,$t=0,rn=P.length,It=rn-1,yn=G[0],hi=g(yn);if(hi||rn>1&&typeof yn=="string"&&!_.checkClone&&jr.test(yn))return P.each(function(Ee){var Re=P.eq(Ee);hi&&(G[0]=yn.call(this,Ee,Re.html())),Rt(Re,G,Y,se)});if(rn&&(de=Ii(G,P[0].ownerDocument,!1,P,se),le=de.firstChild,de.childNodes.length===1&&(de=le),le||se)){for(Se=C.map(wn(de,"script"),zi),je=Se.length;$t<rn;$t++)ze=de,$t!==It&&(ze=C.clone(ze,!0,!0),je&&C.merge(Se,wn(ze,"script"))),Y.call(P[$t],ze,$t);if(je)for(dt=Se[Se.length-1].ownerDocument,C.map(Se,we),$t=0;$t<je;$t++)ze=Se[$t],wt.test(ze.type||"")&&!Le.access(ze,"globalEval")&&C.contains(dt,ze)&&(ze.src&&(ze.type||"").toLowerCase()!=="module"?C._evalUrl&&!ze.noModule&&C._evalUrl(ze.src,{nonce:ze.nonce||ze.getAttribute("nonce")},dt):S(ze.textContent.replace(ti,""),ze,dt))}return P}function Ot(P,G,Y){for(var se,de=G?C.filter(G,P):P,le=0;(se=de[le])!=null;le++)!Y&&se.nodeType===1&&C.cleanData(wn(se)),se.parentNode&&(Y&&Xt(se)&&Pn(wn(se,"script")),se.parentNode.removeChild(se));return P}C.extend({htmlPrefilter:function(P){return P},clone:function(P,G,Y){var se,de,le,Se,je=P.cloneNode(!0),ze=Xt(P);if(!_.noCloneChecked&&(P.nodeType===1||P.nodeType===11)&&!C.isXMLDoc(P))for(Se=wn(je),le=wn(P),se=0,de=le.length;se<de;se++)tt(le[se],Se[se]);if(G)if(Y)for(le=le||wn(P),Se=Se||wn(je),se=0,de=le.length;se<de;se++)Ie(le[se],Se[se]);else Ie(P,je);return Se=wn(je,"script"),Se.length>0&&Pn(Se,!ze&&wn(P,"script")),je},cleanData:function(P){for(var G,Y,se,de=C.event.special,le=0;(Y=P[le])!==void 0;le++)if(ye(Y)){if(G=Y[Le.expando]){if(G.events)for(se in G.events)de[se]?C.event.remove(Y,se):C.removeEvent(Y,se,G.handle);Y[Le.expando]=void 0}Y[it.expando]&&(Y[it.expando]=void 0)}}}),C.fn.extend({detach:function(P){return Ot(this,P,!0)},remove:function(P){return Ot(this,P)},text:function(P){return nt(this,function(G){return G===void 0?C.text(this):this.empty().each(function(){(this.nodeType===1||this.nodeType===11||this.nodeType===9)&&(this.textContent=G)})},null,P,arguments.length)},append:function(){return Rt(this,arguments,function(P){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var G=rr(this,P);G.appendChild(P)}})},prepend:function(){return Rt(this,arguments,function(P){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var G=rr(this,P);G.insertBefore(P,G.firstChild)}})},before:function(){return Rt(this,arguments,function(P){this.parentNode&&this.parentNode.insertBefore(P,this)})},after:function(){return Rt(this,arguments,function(P){this.parentNode&&this.parentNode.insertBefore(P,this.nextSibling)})},empty:function(){for(var P,G=0;(P=this[G])!=null;G++)P.nodeType===1&&(C.cleanData(wn(P,!1)),P.textContent="");return this},clone:function(P,G){return P=P??!1,G=G??P,this.map(function(){return C.clone(this,P,G)})},html:function(P){return nt(this,function(G){var Y=this[0]||{},se=0,de=this.length;if(G===void 0&&Y.nodeType===1)return Y.innerHTML;if(typeof G=="string"&&!Wr.test(G)&&!dn[(qt.exec(G)||["",""])[1].toLowerCase()]){G=C.htmlPrefilter(G);try{for(;se<de;se++)Y=this[se]||{},Y.nodeType===1&&(C.cleanData(wn(Y,!1)),Y.innerHTML=G);Y=0}catch{}}Y&&this.empty().append(G)},null,P,arguments.length)},replaceWith:function(){var P=[];return Rt(this,arguments,function(G){var Y=this.parentNode;C.inArray(this,P)<0&&(C.cleanData(wn(this)),Y&&Y.replaceChild(G,this))},P)}}),C.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(P,G){C.fn[P]=function(Y){for(var se,de=[],le=C(Y),Se=le.length-1,je=0;je<=Se;je++)se=je===Se?this:this.clone(!0),C(le[je])[G](se),o.apply(de,se.get());return this.pushStack(de)}});var Nt=new RegExp("^("+on+")(?!px)[a-z%]+$","i"),gn=/^--/,nn=function(P){var G=P.ownerDocument.defaultView;return(!G||!G.opener)&&(G=e),G.getComputedStyle(P)},be=function(P,G,Y){var se,de,le={};for(de in G)le[de]=P.style[de],P.style[de]=G[de];se=Y.call(P);for(de in G)P.style[de]=le[de];return se},Ge=new RegExp(xt.join("|"),"i");(function(){function P(){if(dt){ze.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",dt.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",kt.appendChild(ze).appendChild(dt);var $t=e.getComputedStyle(dt);Y=$t.top!=="1%",je=G($t.marginLeft)===12,dt.style.right="60%",le=G($t.right)===36,se=G($t.width)===36,dt.style.position="absolute",de=G(dt.offsetWidth/3)===12,kt.removeChild(ze),dt=null}}function G($t){return Math.round(parseFloat($t))}var Y,se,de,le,Se,je,ze=u.createElement("div"),dt=u.createElement("div");dt.style&&(dt.style.backgroundClip="content-box",dt.cloneNode(!0).style.backgroundClip="",_.clearCloneStyle=dt.style.backgroundClip==="content-box",C.extend(_,{boxSizingReliable:function(){return P(),se},pixelBoxStyles:function(){return P(),le},pixelPosition:function(){return P(),Y},reliableMarginLeft:function(){return P(),je},scrollboxSize:function(){return P(),de},reliableTrDimensions:function(){var $t,rn,It,yn;return Se==null&&($t=u.createElement("table"),rn=u.createElement("tr"),It=u.createElement("div"),$t.style.cssText="position:absolute;left:-11111px;border-collapse:separate",rn.style.cssText="box-sizing:content-box;border:1px solid",rn.style.height="1px",It.style.height="9px",It.style.display="block",kt.appendChild($t).appendChild(rn).appendChild(It),yn=e.getComputedStyle(rn),Se=parseInt(yn.height,10)+parseInt(yn.borderTopWidth,10)+parseInt(yn.borderBottomWidth,10)===rn.offsetHeight,kt.removeChild($t)),Se}}))})();function Ze(P,G,Y){var se,de,le,Se,je=gn.test(G),ze=P.style;return Y=Y||nn(P),Y&&(Se=Y.getPropertyValue(G)||Y[G],je&&Se&&(Se=Se.replace(U,"$1")||void 0),Se===""&&!Xt(P)&&(Se=C.style(P,G)),!_.pixelBoxStyles()&&Nt.test(Se)&&Ge.test(G)&&(se=ze.width,de=ze.minWidth,le=ze.maxWidth,ze.minWidth=ze.maxWidth=ze.width=Se,Se=Y.width,ze.width=se,ze.minWidth=de,ze.maxWidth=le)),Se!==void 0?Se+"":Se}function Be(P,G){return{get:function(){if(P()){delete this.get;return}return(this.get=G).apply(this,arguments)}}}var ut=["Webkit","Moz","ms"],Ct=u.createElement("div").style,Pt={};function en(P){for(var G=P[0].toUpperCase()+P.slice(1),Y=ut.length;Y--;)if(P=ut[Y]+G,P in Ct)return P}function un(P){var G=C.cssProps[P]||Pt[P];return G||(P in Ct?P:Pt[P]=en(P)||P)}var In=/^(none|table(?!-c[ea]).+)/,Ln={position:"absolute",visibility:"hidden",display:"block"},vn={letterSpacing:"0",fontWeight:"400"};function Bn(P,G,Y){var se=fn.exec(G);return se?Math.max(0,se[2]-(Y||0))+(se[3]||"px"):G}function Xn(P,G,Y,se,de,le){var Se=G==="width"?1:0,je=0,ze=0,dt=0;if(Y===(se?"border":"content"))return 0;for(;Se<4;Se+=2)Y==="margin"&&(dt+=C.css(P,Y+xt[Se],!0,de)),se?(Y==="content"&&(ze-=C.css(P,"padding"+xt[Se],!0,de)),Y!=="margin"&&(ze-=C.css(P,"border"+xt[Se]+"Width",!0,de))):(ze+=C.css(P,"padding"+xt[Se],!0,de),Y!=="padding"?ze+=C.css(P,"border"+xt[Se]+"Width",!0,de):je+=C.css(P,"border"+xt[Se]+"Width",!0,de));return!se&&le>=0&&(ze+=Math.max(0,Math.ceil(P["offset"+G[0].toUpperCase()+G.slice(1)]-le-ze-je-.5))||0),ze+dt}function Di(P,G,Y){var se=nn(P),de=!_.boxSizingReliable()||Y,le=de&&C.css(P,"boxSizing",!1,se)==="border-box",Se=le,je=Ze(P,G,se),ze="offset"+G[0].toUpperCase()+G.slice(1);if(Nt.test(je)){if(!Y)return je;je="auto"}return(!_.boxSizingReliable()&&le||!_.reliableTrDimensions()&&F(P,"tr")||je==="auto"||!parseFloat(je)&&C.css(P,"display",!1,se)==="inline")&&P.getClientRects().length&&(le=C.css(P,"boxSizing",!1,se)==="border-box",Se=ze in P,Se&&(je=P[ze])),je=parseFloat(je)||0,je+Xn(P,G,Y||(le?"border":"content"),Se,se,je)+"px"}C.extend({cssHooks:{opacity:{get:function(P,G){if(G){var Y=Ze(P,"opacity");return Y===""?"1":Y}}}},cssNumber:{animationIterationCount:!0,aspectRatio:!0,borderImageSlice:!0,columnCount:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,scale:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeMiterlimit:!0,strokeOpacity:!0},cssProps:{},style:function(P,G,Y,se){if(!(!P||P.nodeType===3||P.nodeType===8||!P.style)){var de,le,Se,je=Et(G),ze=gn.test(G),dt=P.style;if(ze||(G=un(je)),Se=C.cssHooks[G]||C.cssHooks[je],Y!==void 0){if(le=typeof Y,le==="string"&&(de=fn.exec(Y))&&de[1]&&(Y=Qt(P,G,de),le="number"),Y==null||Y!==Y)return;le==="number"&&!ze&&(Y+=de&&de[3]||(C.cssNumber[je]?"":"px")),!_.clearCloneStyle&&Y===""&&G.indexOf("background")===0&&(dt[G]="inherit"),(!Se||!("set"in Se)||(Y=Se.set(P,Y,se))!==void 0)&&(ze?dt.setProperty(G,Y):dt[G]=Y)}else return Se&&"get"in Se&&(de=Se.get(P,!1,se))!==void 0?de:dt[G]}},css:function(P,G,Y,se){var de,le,Se,je=Et(G),ze=gn.test(G);return ze||(G=un(je)),Se=C.cssHooks[G]||C.cssHooks[je],Se&&"get"in Se&&(de=Se.get(P,!0,Y)),de===void 0&&(de=Ze(P,G,se)),de==="normal"&&G in vn&&(de=vn[G]),Y===""||Y?(le=parseFloat(de),Y===!0||isFinite(le)?le||0:de):de}}),C.each(["height","width"],function(P,G){C.cssHooks[G]={get:function(Y,se,de){if(se)return In.test(C.css(Y,"display"))&&(!Y.getClientRects().length||!Y.getBoundingClientRect().width)?be(Y,Ln,function(){return Di(Y,G,de)}):Di(Y,G,de)},set:function(Y,se,de){var le,Se=nn(Y),je=!_.scrollboxSize()&&Se.position==="absolute",ze=je||de,dt=ze&&C.css(Y,"boxSizing",!1,Se)==="border-box",$t=de?Xn(Y,G,de,dt,Se):0;return dt&&je&&($t-=Math.ceil(Y["offset"+G[0].toUpperCase()+G.slice(1)]-parseFloat(Se[G])-Xn(Y,G,"border",!1,Se)-.5)),$t&&(le=fn.exec(se))&&(le[3]||"px")!=="px"&&(Y.style[G]=se,se=C.css(Y,G)),Bn(Y,se,$t)}}}),C.cssHooks.marginLeft=Be(_.reliableMarginLeft,function(P,G){if(G)return(parseFloat(Ze(P,"marginLeft"))||P.getBoundingClientRect().left-be(P,{marginLeft:0},function(){return P.getBoundingClientRect().left}))+"px"}),C.each({margin:"",padding:"",border:"Width"},function(P,G){C.cssHooks[P+G]={expand:function(Y){for(var se=0,de={},le=typeof Y=="string"?Y.split(" "):[Y];se<4;se++)de[P+xt[se]+G]=le[se]||le[se-2]||le[0];return de}},P!=="margin"&&(C.cssHooks[P+G].set=Bn)}),C.fn.extend({css:function(P,G){return nt(this,function(Y,se,de){var le,Se,je={},ze=0;if(Array.isArray(se)){for(le=nn(Y),Se=se.length;ze<Se;ze++)je[se[ze]]=C.css(Y,se[ze],!1,le);return je}return de!==void 0?C.style(Y,se,de):C.css(Y,se)},P,G,arguments.length>1)}});function Mn(P,G,Y,se,de){return new Mn.prototype.init(P,G,Y,se,de)}C.Tween=Mn,Mn.prototype={constructor:Mn,init:function(P,G,Y,se,de,le){this.elem=P,this.prop=Y,this.easing=de||C.easing._default,this.options=G,this.start=this.now=this.cur(),this.end=se,this.unit=le||(C.cssNumber[Y]?"":"px")},cur:function(){var P=Mn.propHooks[this.prop];return P&&P.get?P.get(this):Mn.propHooks._default.get(this)},run:function(P){var G,Y=Mn.propHooks[this.prop];return this.options.duration?this.pos=G=C.easing[this.easing](P,this.options.duration*P,0,1,this.options.duration):this.pos=G=P,this.now=(this.end-this.start)*G+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),Y&&Y.set?Y.set(this):Mn.propHooks._default.set(this),this}},Mn.prototype.init.prototype=Mn.prototype,Mn.propHooks={_default:{get:function(P){var G;return P.elem.nodeType!==1||P.elem[P.prop]!=null&&P.elem.style[P.prop]==null?P.elem[P.prop]:(G=C.css(P.elem,P.prop,""),!G||G==="auto"?0:G)},set:function(P){C.fx.step[P.prop]?C.fx.step[P.prop](P):P.elem.nodeType===1&&(C.cssHooks[P.prop]||P.elem.style[un(P.prop)]!=null)?C.style(P.elem,P.prop,P.now+P.unit):P.elem[P.prop]=P.now}}},Mn.propHooks.scrollTop=Mn.propHooks.scrollLeft={set:function(P){P.elem.nodeType&&P.elem.parentNode&&(P.elem[P.prop]=P.now)}},C.easing={linear:function(P){return P},swing:function(P){return .5-Math.cos(P*Math.PI)/2},_default:"swing"},C.fx=Mn.prototype.init,C.fx.step={};var li,Q,Ni=/^(?:toggle|show|hide)$/,Kn=/queueHooks$/;function ci(){Q&&(u.hidden===!1&&e.requestAnimationFrame?e.requestAnimationFrame(ci):e.setTimeout(ci,C.fx.interval),C.fx.tick())}function _t(){return e.setTimeout(function(){li=void 0}),li=Date.now()}function ot(P,G){var Y,se=0,de={height:P};for(G=G?1:0;se<4;se+=2-G)Y=xt[se],de["margin"+Y]=de["padding"+Y]=P;return G&&(de.opacity=de.width=P),de}function Cn(P,G,Y){for(var se,de=(zn.tweeners[G]||[]).concat(zn.tweeners["*"]),le=0,Se=de.length;le<Se;le++)if(se=de[le].call(Y,G,P))return se}function Qn(P,G,Y){var se,de,le,Se,je,ze,dt,$t,rn="width"in G||"height"in G,It=this,yn={},hi=P.style,Ee=P.nodeType&&lt(P),Re=Le.get(P,"fxshow");Y.queue||(Se=C._queueHooks(P,"fx"),Se.unqueued==null&&(Se.unqueued=0,je=Se.empty.fire,Se.empty.fire=function(){Se.unqueued||je()}),Se.unqueued++,It.always(function(){It.always(function(){Se.unqueued--,C.queue(P,"fx").length||Se.empty.fire()})}));for(se in G)if(de=G[se],Ni.test(de)){if(delete G[se],le=le||de==="toggle",de===(Ee?"hide":"show"))if(de==="show"&&Re&&Re[se]!==void 0)Ee=!0;else continue;yn[se]=Re&&Re[se]||C.style(P,se)}if(ze=!C.isEmptyObject(G),!(!ze&&C.isEmptyObject(yn))){rn&&P.nodeType===1&&(Y.overflow=[hi.overflow,hi.overflowX,hi.overflowY],dt=Re&&Re.display,dt==null&&(dt=Le.get(P,"display")),$t=C.css(P,"display"),$t==="none"&&(dt?$t=dt:(Dt([P],!0),dt=P.style.display||dt,$t=C.css(P,"display"),Dt([P]))),($t==="inline"||$t==="inline-block"&&dt!=null)&&C.css(P,"float")==="none"&&(ze||(It.done(function(){hi.display=dt}),dt==null&&($t=hi.display,dt=$t==="none"?"":$t)),hi.display="inline-block")),Y.overflow&&(hi.overflow="hidden",It.always(function(){hi.overflow=Y.overflow[0],hi.overflowX=Y.overflow[1],hi.overflowY=Y.overflow[2]})),ze=!1;for(se in yn)ze||(Re?"hidden"in Re&&(Ee=Re.hidden):Re=Le.access(P,"fxshow",{display:dt}),le&&(Re.hidden=!Ee),Ee&&Dt([P],!0),It.done(function(){Ee||Dt([P]),Le.remove(P,"fxshow");for(se in yn)C.style(P,se,yn[se])})),ze=Cn(Ee?Re[se]:0,se,It),se in Re||(Re[se]=ze.start,Ee&&(ze.end=ze.start,ze.start=0))}}function gi(P,G){var Y,se,de,le,Se;for(Y in P)if(se=Et(Y),de=G[se],le=P[Y],Array.isArray(le)&&(de=le[1],le=P[Y]=le[0]),Y!==se&&(P[se]=le,delete P[Y]),Se=C.cssHooks[se],Se&&"expand"in Se){le=Se.expand(le),delete P[se];for(Y in le)Y in P||(P[Y]=le[Y],G[Y]=de)}else G[se]=de}function zn(P,G,Y){var se,de,le=0,Se=zn.prefilters.length,je=C.Deferred().always(function(){delete ze.elem}),ze=function(){if(de)return!1;for(var rn=li||_t(),It=Math.max(0,dt.startTime+dt.duration-rn),yn=It/dt.duration||0,hi=1-yn,Ee=0,Re=dt.tweens.length;Ee<Re;Ee++)dt.tweens[Ee].run(hi);return je.notifyWith(P,[dt,hi,It]),hi<1&&Re?It:(Re||je.notifyWith(P,[dt,1,0]),je.resolveWith(P,[dt]),!1)},dt=je.promise({elem:P,props:C.extend({},G),opts:C.extend(!0,{specialEasing:{},easing:C.easing._default},Y),originalProperties:G,originalOptions:Y,startTime:li||_t(),duration:Y.duration,tweens:[],createTween:function(rn,It){var yn=C.Tween(P,dt.opts,rn,It,dt.opts.specialEasing[rn]||dt.opts.easing);return dt.tweens.push(yn),yn},stop:function(rn){var It=0,yn=rn?dt.tweens.length:0;if(de)return this;for(de=!0;It<yn;It++)dt.tweens[It].run(1);return rn?(je.notifyWith(P,[dt,1,0]),je.resolveWith(P,[dt,rn])):je.rejectWith(P,[dt,rn]),this}}),$t=dt.props;for(gi($t,dt.opts.specialEasing);le<Se;le++)if(se=zn.prefilters[le].call(dt,P,$t,dt.opts),se)return g(se.stop)&&(C._queueHooks(dt.elem,dt.opts.queue).stop=se.stop.bind(se)),se;return C.map($t,Cn,dt),g(dt.opts.start)&&dt.opts.start.call(P,dt),dt.progress(dt.opts.progress).done(dt.opts.done,dt.opts.complete).fail(dt.opts.fail).always(dt.opts.always),C.fx.timer(C.extend(ze,{elem:P,anim:dt,queue:dt.opts.queue})),dt}C.Animation=C.extend(zn,{tweeners:{"*":[function(P,G){var Y=this.createTween(P,G);return Qt(Y.elem,P,fn.exec(G),Y),Y}]},tweener:function(P,G){g(P)?(G=P,P=["*"]):P=P.match(We);for(var Y,se=0,de=P.length;se<de;se++)Y=P[se],zn.tweeners[Y]=zn.tweeners[Y]||[],zn.tweeners[Y].unshift(G)},prefilters:[Qn],prefilter:function(P,G){G?zn.prefilters.unshift(P):zn.prefilters.push(P)}}),C.speed=function(P,G,Y){var se=P&&typeof P=="object"?C.extend({},P):{complete:Y||!Y&&G||g(P)&&P,duration:P,easing:Y&&G||G&&!g(G)&&G};return C.fx.off?se.duration=0:typeof se.duration!="number"&&(se.duration in C.fx.speeds?se.duration=C.fx.speeds[se.duration]:se.duration=C.fx.speeds._default),(se.queue==null||se.queue===!0)&&(se.queue="fx"),se.old=se.complete,se.complete=function(){g(se.old)&&se.old.call(this),se.queue&&C.dequeue(this,se.queue)},se},C.fn.extend({fadeTo:function(P,G,Y,se){return this.filter(lt).css("opacity",0).show().end().animate({opacity:G},P,Y,se)},animate:function(P,G,Y,se){var de=C.isEmptyObject(P),le=C.speed(G,Y,se),Se=function(){var je=zn(this,C.extend({},P),le);(de||Le.get(this,"finish"))&&je.stop(!0)};return Se.finish=Se,de||le.queue===!1?this.each(Se):this.queue(le.queue,Se)},stop:function(P,G,Y){var se=function(de){var le=de.stop;delete de.stop,le(Y)};return typeof P!="string"&&(Y=G,G=P,P=void 0),G&&this.queue(P||"fx",[]),this.each(function(){var de=!0,le=P!=null&&P+"queueHooks",Se=C.timers,je=Le.get(this);if(le)je[le]&&je[le].stop&&se(je[le]);else for(le in je)je[le]&&je[le].stop&&Kn.test(le)&&se(je[le]);for(le=Se.length;le--;)Se[le].elem===this&&(P==null||Se[le].queue===P)&&(Se[le].anim.stop(Y),de=!1,Se.splice(le,1));(de||!Y)&&C.dequeue(this,P)})},finish:function(P){return P!==!1&&(P=P||"fx"),this.each(function(){var G,Y=Le.get(this),se=Y[P+"queue"],de=Y[P+"queueHooks"],le=C.timers,Se=se?se.length:0;for(Y.finish=!0,C.queue(this,P,[]),de&&de.stop&&de.stop.call(this,!0),G=le.length;G--;)le[G].elem===this&&le[G].queue===P&&(le[G].anim.stop(!0),le.splice(G,1));for(G=0;G<Se;G++)se[G]&&se[G].finish&&se[G].finish.call(this);delete Y.finish})}}),C.each(["toggle","show","hide"],function(P,G){var Y=C.fn[G];C.fn[G]=function(se,de,le){return se==null||typeof se=="boolean"?Y.apply(this,arguments):this.animate(ot(G,!0),se,de,le)}}),C.each({slideDown:ot("show"),slideUp:ot("hide"),slideToggle:ot("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(P,G){C.fn[P]=function(Y,se,de){return this.animate(G,Y,se,de)}}),C.timers=[],C.fx.tick=function(){var P,G=0,Y=C.timers;for(li=Date.now();G<Y.length;G++)P=Y[G],!P()&&Y[G]===P&&Y.splice(G--,1);Y.length||C.fx.stop(),li=void 0},C.fx.timer=function(P){C.timers.push(P),C.fx.start()},C.fx.interval=13,C.fx.start=function(){Q||(Q=!0,ci())},C.fx.stop=function(){Q=null},C.fx.speeds={slow:600,fast:200,_default:400},C.fn.delay=function(P,G){return P=C.fx&&C.fx.speeds[P]||P,G=G||"fx",this.queue(G,function(Y,se){var de=e.setTimeout(Y,P);se.stop=function(){e.clearTimeout(de)}})},(function(){var P=u.createElement("input"),G=u.createElement("select"),Y=G.appendChild(u.createElement("option"));P.type="checkbox",_.checkOn=P.value!=="",_.optSelected=Y.selected,P=u.createElement("input"),P.value="t",P.type="radio",_.radioValue=P.value==="t"})();var Wi,Jt=C.expr.attrHandle;C.fn.extend({attr:function(P,G){return nt(this,C.attr,P,G,arguments.length>1)},removeAttr:function(P){return this.each(function(){C.removeAttr(this,P)})}}),C.extend({attr:function(P,G,Y){var se,de,le=P.nodeType;if(!(le===3||le===8||le===2)){if(typeof P.getAttribute>"u")return C.prop(P,G,Y);if((le!==1||!C.isXMLDoc(P))&&(de=C.attrHooks[G.toLowerCase()]||(C.expr.match.bool.test(G)?Wi:void 0)),Y!==void 0){if(Y===null){C.removeAttr(P,G);return}return de&&"set"in de&&(se=de.set(P,Y,G))!==void 0?se:(P.setAttribute(G,Y+""),Y)}return de&&"get"in de&&(se=de.get(P,G))!==null?se:(se=C.find.attr(P,G),se??void 0)}},attrHooks:{type:{set:function(P,G){if(!_.radioValue&&G==="radio"&&F(P,"input")){var Y=P.value;return P.setAttribute("type",G),Y&&(P.value=Y),G}}}},removeAttr:function(P,G){var Y,se=0,de=G&&G.match(We);if(de&&P.nodeType===1)for(;Y=de[se++];)P.removeAttribute(Y)}}),Wi={set:function(P,G,Y){return G===!1?C.removeAttr(P,Y):P.setAttribute(Y,Y),Y}},C.each(C.expr.match.bool.source.match(/\w+/g),function(P,G){var Y=Jt[G]||C.find.attr;Jt[G]=function(se,de,le){var Se,je,ze=de.toLowerCase();return le||(je=Jt[ze],Jt[ze]=Se,Se=Y(se,de,le)!=null?ze:null,Jt[ze]=je),Se}});var es=/^(?:input|select|textarea|button)$/i,xs=/^(?:a|area)$/i;C.fn.extend({prop:function(P,G){return nt(this,C.prop,P,G,arguments.length>1)},removeProp:function(P){return this.each(function(){delete this[C.propFix[P]||P]})}}),C.extend({prop:function(P,G,Y){var se,de,le=P.nodeType;if(!(le===3||le===8||le===2))return(le!==1||!C.isXMLDoc(P))&&(G=C.propFix[G]||G,de=C.propHooks[G]),Y!==void 0?de&&"set"in de&&(se=de.set(P,Y,G))!==void 0?se:P[G]=Y:de&&"get"in de&&(se=de.get(P,G))!==null?se:P[G]},propHooks:{tabIndex:{get:function(P){var G=C.find.attr(P,"tabindex");return G?parseInt(G,10):es.test(P.nodeName)||xs.test(P.nodeName)&&P.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),_.optSelected||(C.propHooks.selected={get:function(P){var G=P.parentNode;return G&&G.parentNode&&G.parentNode.selectedIndex,null},set:function(P){var G=P.parentNode;G&&(G.selectedIndex,G.parentNode&&G.parentNode.selectedIndex)}}),C.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){C.propFix[this.toLowerCase()]=this});function Ks(P){var G=P.match(We)||[];return G.join(" ")}function Nr(P){return P.getAttribute&&P.getAttribute("class")||""}function Os(P){return Array.isArray(P)?P:typeof P=="string"?P.match(We)||[]:[]}C.fn.extend({addClass:function(P){var G,Y,se,de,le,Se;return g(P)?this.each(function(je){C(this).addClass(P.call(this,je,Nr(this)))}):(G=Os(P),G.length?this.each(function(){if(se=Nr(this),Y=this.nodeType===1&&" "+Ks(se)+" ",Y){for(le=0;le<G.length;le++)de=G[le],Y.indexOf(" "+de+" ")<0&&(Y+=de+" ");Se=Ks(Y),se!==Se&&this.setAttribute("class",Se)}}):this)},removeClass:function(P){var G,Y,se,de,le,Se;return g(P)?this.each(function(je){C(this).removeClass(P.call(this,je,Nr(this)))}):arguments.length?(G=Os(P),G.length?this.each(function(){if(se=Nr(this),Y=this.nodeType===1&&" "+Ks(se)+" ",Y){for(le=0;le<G.length;le++)for(de=G[le];Y.indexOf(" "+de+" ")>-1;)Y=Y.replace(" "+de+" "," ");Se=Ks(Y),se!==Se&&this.setAttribute("class",Se)}}):this):this.attr("class","")},toggleClass:function(P,G){var Y,se,de,le,Se=typeof P,je=Se==="string"||Array.isArray(P);return g(P)?this.each(function(ze){C(this).toggleClass(P.call(this,ze,Nr(this),G),G)}):typeof G=="boolean"&&je?G?this.addClass(P):this.removeClass(P):(Y=Os(P),this.each(function(){if(je)for(le=C(this),de=0;de<Y.length;de++)se=Y[de],le.hasClass(se)?le.removeClass(se):le.addClass(se);else(P===void 0||Se==="boolean")&&(se=Nr(this),se&&Le.set(this,"__className__",se),this.setAttribute&&this.setAttribute("class",se||P===!1?"":Le.get(this,"__className__")||""))}))},hasClass:function(P){var G,Y,se=0;for(G=" "+P+" ";Y=this[se++];)if(Y.nodeType===1&&(" "+Ks(Nr(Y))+" ").indexOf(G)>-1)return!0;return!1}});var Zs=/\r/g;C.fn.extend({val:function(P){var G,Y,se,de=this[0];return arguments.length?(se=g(P),this.each(function(le){var Se;this.nodeType===1&&(se?Se=P.call(this,le,C(this).val()):Se=P,Se==null?Se="":typeof Se=="number"?Se+="":Array.isArray(Se)&&(Se=C.map(Se,function(je){return je==null?"":je+""})),G=C.valHooks[this.type]||C.valHooks[this.nodeName.toLowerCase()],(!G||!("set"in G)||G.set(this,Se,"value")===void 0)&&(this.value=Se))})):de?(G=C.valHooks[de.type]||C.valHooks[de.nodeName.toLowerCase()],G&&"get"in G&&(Y=G.get(de,"value"))!==void 0?Y:(Y=de.value,typeof Y=="string"?Y.replace(Zs,""):Y??"")):void 0}}),C.extend({valHooks:{option:{get:function(P){var G=C.find.attr(P,"value");return G??Ks(C.text(P))}},select:{get:function(P){var G,Y,se,de=P.options,le=P.selectedIndex,Se=P.type==="select-one",je=Se?null:[],ze=Se?le+1:de.length;for(le<0?se=ze:se=Se?le:0;se<ze;se++)if(Y=de[se],(Y.selected||se===le)&&!Y.disabled&&(!Y.parentNode.disabled||!F(Y.parentNode,"optgroup"))){if(G=C(Y).val(),Se)return G;je.push(G)}return je},set:function(P,G){for(var Y,se,de=P.options,le=C.makeArray(G),Se=de.length;Se--;)se=de[Se],(se.selected=C.inArray(C.valHooks.option.get(se),le)>-1)&&(Y=!0);return Y||(P.selectedIndex=-1),le}}}}),C.each(["radio","checkbox"],function(){C.valHooks[this]={set:function(P,G){if(Array.isArray(G))return P.checked=C.inArray(C(P).val(),G)>-1}},_.checkOn||(C.valHooks[this].get=function(P){return P.getAttribute("value")===null?"on":P.value})});var ro=e.location,Ss={guid:Date.now()},_a=/\?/;C.parseXML=function(P){var G,Y;if(!P||typeof P!="string")return null;try{G=new e.DOMParser().parseFromString(P,"text/xml")}catch{}return Y=G&&G.getElementsByTagName("parsererror")[0],(!G||Y)&&C.error("Invalid XML: "+(Y?C.map(Y.childNodes,function(se){return se.textContent}).join(`
`):P)),G};var us=/^(?:focusinfocus|focusoutblur)$/,ws=function(P){P.stopPropagation()};C.extend(C.event,{trigger:function(P,G,Y,se){var de,le,Se,je,ze,dt,$t,rn,It=[Y||u],yn=h.call(P,"type")?P.type:P,hi=h.call(P,"namespace")?P.namespace.split("."):[];if(le=rn=Se=Y=Y||u,!(Y.nodeType===3||Y.nodeType===8)&&!us.test(yn+C.event.triggered)&&(yn.indexOf(".")>-1&&(hi=yn.split("."),yn=hi.shift(),hi.sort()),ze=yn.indexOf(":")<0&&"on"+yn,P=P[C.expando]?P:new C.Event(yn,typeof P=="object"&&P),P.isTrigger=se?2:3,P.namespace=hi.join("."),P.rnamespace=P.namespace?new RegExp("(^|\\.)"+hi.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,P.result=void 0,P.target||(P.target=Y),G=G==null?[P]:C.makeArray(G,[P]),$t=C.event.special[yn]||{},!(!se&&$t.trigger&&$t.trigger.apply(Y,G)===!1))){if(!se&&!$t.noBubble&&!y(Y)){for(je=$t.delegateType||yn,us.test(je+yn)||(le=le.parentNode);le;le=le.parentNode)It.push(le),Se=le;Se===(Y.ownerDocument||u)&&It.push(Se.defaultView||Se.parentWindow||e)}for(de=0;(le=It[de++])&&!P.isPropagationStopped();)rn=le,P.type=de>1?je:$t.bindType||yn,dt=(Le.get(le,"events")||Object.create(null))[P.type]&&Le.get(le,"handle"),dt&&dt.apply(le,G),dt=ze&&le[ze],dt&&dt.apply&&ye(le)&&(P.result=dt.apply(le,G),P.result===!1&&P.preventDefault());return P.type=yn,!se&&!P.isDefaultPrevented()&&(!$t._default||$t._default.apply(It.pop(),G)===!1)&&ye(Y)&&ze&&g(Y[yn])&&!y(Y)&&(Se=Y[ze],Se&&(Y[ze]=null),C.event.triggered=yn,P.isPropagationStopped()&&rn.addEventListener(yn,ws),Y[yn](),P.isPropagationStopped()&&rn.removeEventListener(yn,ws),C.event.triggered=void 0,Se&&(Y[ze]=Se)),P.result}},simulate:function(P,G,Y){var se=C.extend(new C.Event,Y,{type:P,isSimulated:!0});C.event.trigger(se,null,G)}}),C.fn.extend({trigger:function(P,G){return this.each(function(){C.event.trigger(P,G,this)})},triggerHandler:function(P,G){var Y=this[0];if(Y)return C.event.trigger(P,G,Y,!0)}});var ja=/\[\]$/,na=/\r?\n/g,La=/^(?:submit|button|image|reset|file)$/i,Xa=/^(?:input|select|textarea|keygen)/i;function Pa(P,G,Y,se){var de;if(Array.isArray(G))C.each(G,function(le,Se){Y||ja.test(P)?se(P,Se):Pa(P+"["+(typeof Se=="object"&&Se!=null?le:"")+"]",Se,Y,se)});else if(!Y&&T(G)==="object")for(de in G)Pa(P+"["+de+"]",G[de],Y,se);else se(P,G)}C.param=function(P,G){var Y,se=[],de=function(le,Se){var je=g(Se)?Se():Se;se[se.length]=encodeURIComponent(le)+"="+encodeURIComponent(je??"")};if(P==null)return"";if(Array.isArray(P)||P.jquery&&!C.isPlainObject(P))C.each(P,function(){de(this.name,this.value)});else for(Y in P)Pa(Y,P[Y],G,de);return se.join("&")},C.fn.extend({serialize:function(){return C.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var P=C.prop(this,"elements");return P?C.makeArray(P):this}).filter(function(){var P=this.type;return this.name&&!C(this).is(":disabled")&&Xa.test(this.nodeName)&&!La.test(P)&&(this.checked||!Sn.test(P))}).map(function(P,G){var Y=C(this).val();return Y==null?null:Array.isArray(Y)?C.map(Y,function(se){return{name:G.name,value:se.replace(na,`\r
`)}}):{name:G.name,value:Y.replace(na,`\r
`)}}).get()}});var Qs=/%20/g,so=/#.*$/,da=/([?&])_=[^&]*/,hs=/^(.*?):[ \t]*([^\r\n]*)$/mg,ko=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,So=/^(?:GET|HEAD)$/,wo=/^\/\//,ia={},Es={},Hr="*/".concat("*"),Xr=u.createElement("a");Xr.href=ro.href;function fr(P){return function(G,Y){typeof G!="string"&&(Y=G,G="*");var se,de=0,le=G.toLowerCase().match(We)||[];if(g(Y))for(;se=le[de++];)se[0]==="+"?(se=se.slice(1)||"*",(P[se]=P[se]||[]).unshift(Y)):(P[se]=P[se]||[]).push(Y)}}function ss(P,G,Y,se){var de={},le=P===Es;function Se(je){var ze;return de[je]=!0,C.each(P[je]||[],function(dt,$t){var rn=$t(G,Y,se);if(typeof rn=="string"&&!le&&!de[rn])return G.dataTypes.unshift(rn),Se(rn),!1;if(le)return!(ze=rn)}),ze}return Se(G.dataTypes[0])||!de["*"]&&Se("*")}function ba(P,G){var Y,se,de=C.ajaxSettings.flatOptions||{};for(Y in G)G[Y]!==void 0&&((de[Y]?P:se||(se={}))[Y]=G[Y]);return se&&C.extend(!0,P,se),P}function Ia(P,G,Y){for(var se,de,le,Se,je=P.contents,ze=P.dataTypes;ze[0]==="*";)ze.shift(),se===void 0&&(se=P.mimeType||G.getResponseHeader("Content-Type"));if(se){for(de in je)if(je[de]&&je[de].test(se)){ze.unshift(de);break}}if(ze[0]in Y)le=ze[0];else{for(de in Y){if(!ze[0]||P.converters[de+" "+ze[0]]){le=de;break}Se||(Se=de)}le=le||Se}if(le)return le!==ze[0]&&ze.unshift(le),Y[le]}function Ls(P,G,Y,se){var de,le,Se,je,ze,dt={},$t=P.dataTypes.slice();if($t[1])for(Se in P.converters)dt[Se.toLowerCase()]=P.converters[Se];for(le=$t.shift();le;)if(P.responseFields[le]&&(Y[P.responseFields[le]]=G),!ze&&se&&P.dataFilter&&(G=P.dataFilter(G,P.dataType)),ze=le,le=$t.shift(),le){if(le==="*")le=ze;else if(ze!=="*"&&ze!==le){if(Se=dt[ze+" "+le]||dt["* "+le],!Se){for(de in dt)if(je=de.split(" "),je[1]===le&&(Se=dt[ze+" "+je[0]]||dt["* "+je[0]],Se)){Se===!0?Se=dt[de]:dt[de]!==!0&&(le=je[0],$t.unshift(je[1]));break}}if(Se!==!0)if(Se&&P.throws)G=Se(G);else try{G=Se(G)}catch(rn){return{state:"parsererror",error:Se?rn:"No conversion from "+ze+" to "+le}}}}return{state:"success",data:G}}C.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:ro.href,type:"GET",isLocal:ko.test(ro.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Hr,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":C.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(P,G){return G?ba(ba(P,C.ajaxSettings),G):ba(C.ajaxSettings,P)},ajaxPrefilter:fr(ia),ajaxTransport:fr(Es),ajax:function(P,G){typeof P=="object"&&(G=P,P=void 0),G=G||{};var Y,se,de,le,Se,je,ze,dt,$t,rn,It=C.ajaxSetup({},G),yn=It.context||It,hi=It.context&&(yn.nodeType||yn.jquery)?C(yn):C.event,Ee=C.Deferred(),Re=C.Callbacks("once memory"),Xe=It.statusCode||{},Ue={},He={},an="canceled",tn={readyState:0,getResponseHeader:function(An){var Nn;if(ze){if(!le)for(le={};Nn=hs.exec(de);)le[Nn[1].toLowerCase()+" "]=(le[Nn[1].toLowerCase()+" "]||[]).concat(Nn[2]);Nn=le[An.toLowerCase()+" "]}return Nn==null?null:Nn.join(", ")},getAllResponseHeaders:function(){return ze?de:null},setRequestHeader:function(An,Nn){return ze==null&&(An=He[An.toLowerCase()]=He[An.toLowerCase()]||An,Ue[An]=Nn),this},overrideMimeType:function(An){return ze==null&&(It.mimeType=An),this},statusCode:function(An){var Nn;if(An)if(ze)tn.always(An[tn.status]);else for(Nn in An)Xe[Nn]=[Xe[Nn],An[Nn]];return this},abort:function(An){var Nn=An||an;return Y&&Y.abort(Nn),hn(0,Nn),this}};if(Ee.promise(tn),It.url=((P||It.url||ro.href)+"").replace(wo,ro.protocol+"//"),It.type=G.method||G.type||It.method||It.type,It.dataTypes=(It.dataType||"*").toLowerCase().match(We)||[""],It.crossDomain==null){je=u.createElement("a");try{je.href=It.url,je.href=je.href,It.crossDomain=Xr.protocol+"//"+Xr.host!=je.protocol+"//"+je.host}catch{It.crossDomain=!0}}if(It.data&&It.processData&&typeof It.data!="string"&&(It.data=C.param(It.data,It.traditional)),ss(ia,It,G,tn),ze)return tn;dt=C.event&&It.global,dt&&C.active++===0&&C.event.trigger("ajaxStart"),It.type=It.type.toUpperCase(),It.hasContent=!So.test(It.type),se=It.url.replace(so,""),It.hasContent?It.data&&It.processData&&(It.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&(It.data=It.data.replace(Qs,"+")):(rn=It.url.slice(se.length),It.data&&(It.processData||typeof It.data=="string")&&(se+=(_a.test(se)?"&":"?")+It.data,delete It.data),It.cache===!1&&(se=se.replace(da,"$1"),rn=(_a.test(se)?"&":"?")+"_="+Ss.guid+++rn),It.url=se+rn),It.ifModified&&(C.lastModified[se]&&tn.setRequestHeader("If-Modified-Since",C.lastModified[se]),C.etag[se]&&tn.setRequestHeader("If-None-Match",C.etag[se])),(It.data&&It.hasContent&&It.contentType!==!1||G.contentType)&&tn.setRequestHeader("Content-Type",It.contentType),tn.setRequestHeader("Accept",It.dataTypes[0]&&It.accepts[It.dataTypes[0]]?It.accepts[It.dataTypes[0]]+(It.dataTypes[0]!=="*"?", "+Hr+"; q=0.01":""):It.accepts["*"]);for($t in It.headers)tn.setRequestHeader($t,It.headers[$t]);if(It.beforeSend&&(It.beforeSend.call(yn,tn,It)===!1||ze))return tn.abort();if(an="abort",Re.add(It.complete),tn.done(It.success),tn.fail(It.error),Y=ss(Es,It,G,tn),!Y)hn(-1,"No Transport");else{if(tn.readyState=1,dt&&hi.trigger("ajaxSend",[tn,It]),ze)return tn;It.async&&It.timeout>0&&(Se=e.setTimeout(function(){tn.abort("timeout")},It.timeout));try{ze=!1,Y.send(Ue,hn)}catch(An){if(ze)throw An;hn(-1,An)}}function hn(An,Nn,vi,nr){var fi,Fr,sr,Rn,yi,si=Nn;ze||(ze=!0,Se&&e.clearTimeout(Se),Y=void 0,de=nr||"",tn.readyState=An>0?4:0,fi=An>=200&&An<300||An===304,vi&&(Rn=Ia(It,tn,vi)),!fi&&C.inArray("script",It.dataTypes)>-1&&C.inArray("json",It.dataTypes)<0&&(It.converters["text script"]=function(){}),Rn=Ls(It,Rn,tn,fi),fi?(It.ifModified&&(yi=tn.getResponseHeader("Last-Modified"),yi&&(C.lastModified[se]=yi),yi=tn.getResponseHeader("etag"),yi&&(C.etag[se]=yi)),An===204||It.type==="HEAD"?si="nocontent":An===304?si="notmodified":(si=Rn.state,Fr=Rn.data,sr=Rn.error,fi=!sr)):(sr=si,(An||!si)&&(si="error",An<0&&(An=0))),tn.status=An,tn.statusText=(Nn||si)+"",fi?Ee.resolveWith(yn,[Fr,si,tn]):Ee.rejectWith(yn,[tn,si,sr]),tn.statusCode(Xe),Xe=void 0,dt&&hi.trigger(fi?"ajaxSuccess":"ajaxError",[tn,It,fi?Fr:sr]),Re.fireWith(yn,[tn,si]),dt&&(hi.trigger("ajaxComplete",[tn,It]),--C.active||C.event.trigger("ajaxStop")))}return tn},getJSON:function(P,G,Y){return C.get(P,G,Y,"json")},getScript:function(P,G){return C.get(P,void 0,G,"script")}}),C.each(["get","post"],function(P,G){C[G]=function(Y,se,de,le){return g(se)&&(le=le||de,de=se,se=void 0),C.ajax(C.extend({url:Y,type:G,dataType:le,data:se,success:de},C.isPlainObject(Y)&&Y))}}),C.ajaxPrefilter(function(P){var G;for(G in P.headers)G.toLowerCase()==="content-type"&&(P.contentType=P.headers[G]||"")}),C._evalUrl=function(P,G,Y){return C.ajax({url:P,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(se){C.globalEval(se,G,Y)}})},C.fn.extend({wrapAll:function(P){var G;return this[0]&&(g(P)&&(P=P.call(this[0])),G=C(P,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&G.insertBefore(this[0]),G.map(function(){for(var Y=this;Y.firstElementChild;)Y=Y.firstElementChild;return Y}).append(this)),this},wrapInner:function(P){return g(P)?this.each(function(G){C(this).wrapInner(P.call(this,G))}):this.each(function(){var G=C(this),Y=G.contents();Y.length?Y.wrapAll(P):G.append(P)})},wrap:function(P){var G=g(P);return this.each(function(Y){C(this).wrapAll(G?P.call(this,Y):P)})},unwrap:function(P){return this.parent(P).not("body").each(function(){C(this).replaceWith(this.childNodes)}),this}}),C.expr.pseudos.hidden=function(P){return!C.expr.pseudos.visible(P)},C.expr.pseudos.visible=function(P){return!!(P.offsetWidth||P.offsetHeight||P.getClientRects().length)},C.ajaxSettings.xhr=function(){try{return new e.XMLHttpRequest}catch{}};var Tn={0:200,1223:204},A=C.ajaxSettings.xhr();_.cors=!!A&&"withCredentials"in A,_.ajax=A=!!A,C.ajaxTransport(function(P){var G,Y;if(_.cors||A&&!P.crossDomain)return{send:function(se,de){var le,Se=P.xhr();if(Se.open(P.type,P.url,P.async,P.username,P.password),P.xhrFields)for(le in P.xhrFields)Se[le]=P.xhrFields[le];P.mimeType&&Se.overrideMimeType&&Se.overrideMimeType(P.mimeType),!P.crossDomain&&!se["X-Requested-With"]&&(se["X-Requested-With"]="XMLHttpRequest");for(le in se)Se.setRequestHeader(le,se[le]);G=function(je){return function(){G&&(G=Y=Se.onload=Se.onerror=Se.onabort=Se.ontimeout=Se.onreadystatechange=null,je==="abort"?Se.abort():je==="error"?typeof Se.status!="number"?de(0,"error"):de(Se.status,Se.statusText):de(Tn[Se.status]||Se.status,Se.statusText,(Se.responseType||"text")!=="text"||typeof Se.responseText!="string"?{binary:Se.response}:{text:Se.responseText},Se.getAllResponseHeaders()))}},Se.onload=G(),Y=Se.onerror=Se.ontimeout=G("error"),Se.onabort!==void 0?Se.onabort=Y:Se.onreadystatechange=function(){Se.readyState===4&&e.setTimeout(function(){G&&Y()})},G=G("abort");try{Se.send(P.hasContent&&P.data||null)}catch(je){if(G)throw je}},abort:function(){G&&G()}}}),C.ajaxPrefilter(function(P){P.crossDomain&&(P.contents.script=!1)}),C.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(P){return C.globalEval(P),P}}}),C.ajaxPrefilter("script",function(P){P.cache===void 0&&(P.cache=!1),P.crossDomain&&(P.type="GET")}),C.ajaxTransport("script",function(P){if(P.crossDomain||P.scriptAttrs){var G,Y;return{send:function(se,de){G=C("<script>").attr(P.scriptAttrs||{}).prop({charset:P.scriptCharset,src:P.url}).on("load error",Y=function(le){G.remove(),Y=null,le&&de(le.type==="error"?404:200,le.type)}),u.head.appendChild(G[0])},abort:function(){Y&&Y()}}}});var z=[],re=/(=)\?(?=&|$)|\?\?/;C.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var P=z.pop()||C.expando+"_"+Ss.guid++;return this[P]=!0,P}}),C.ajaxPrefilter("json jsonp",function(P,G,Y){var se,de,le,Se=P.jsonp!==!1&&(re.test(P.url)?"url":typeof P.data=="string"&&(P.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&re.test(P.data)&&"data");if(Se||P.dataTypes[0]==="jsonp")return se=P.jsonpCallback=g(P.jsonpCallback)?P.jsonpCallback():P.jsonpCallback,Se?P[Se]=P[Se].replace(re,"$1"+se):P.jsonp!==!1&&(P.url+=(_a.test(P.url)?"&":"?")+P.jsonp+"="+se),P.converters["script json"]=function(){return le||C.error(se+" was not called"),le[0]},P.dataTypes[0]="json",de=e[se],e[se]=function(){le=arguments},Y.always(function(){de===void 0?C(e).removeProp(se):e[se]=de,P[se]&&(P.jsonpCallback=G.jsonpCallback,z.push(se)),le&&g(de)&&de(le[0]),le=de=void 0}),"script"}),_.createHTMLDocument=(function(){var P=u.implementation.createHTMLDocument("").body;return P.innerHTML="<form></form><form></form>",P.childNodes.length===2})(),C.parseHTML=function(P,G,Y){if(typeof P!="string")return[];typeof G=="boolean"&&(Y=G,G=!1);var se,de,le;return G||(_.createHTMLDocument?(G=u.implementation.createHTMLDocument(""),se=G.createElement("base"),se.href=u.location.href,G.head.appendChild(se)):G=u),de=he.exec(P),le=!Y&&[],de?[G.createElement(de[1])]:(de=Ii([P],G,le),le&&le.length&&C(le).remove(),C.merge([],de.childNodes))},C.fn.load=function(P,G,Y){var se,de,le,Se=this,je=P.indexOf(" ");return je>-1&&(se=Ks(P.slice(je)),P=P.slice(0,je)),g(G)?(Y=G,G=void 0):G&&typeof G=="object"&&(de="POST"),Se.length>0&&C.ajax({url:P,type:de||"GET",dataType:"html",data:G}).done(function(ze){le=arguments,Se.html(se?C("<div>").append(C.parseHTML(ze)).find(se):ze)}).always(Y&&function(ze,dt){Se.each(function(){Y.apply(this,le||[ze.responseText,dt,ze])})}),this},C.expr.pseudos.animated=function(P){return C.grep(C.timers,function(G){return P===G.elem}).length},C.offset={setOffset:function(P,G,Y){var se,de,le,Se,je,ze,dt,$t=C.css(P,"position"),rn=C(P),It={};$t==="static"&&(P.style.position="relative"),je=rn.offset(),le=C.css(P,"top"),ze=C.css(P,"left"),dt=($t==="absolute"||$t==="fixed")&&(le+ze).indexOf("auto")>-1,dt?(se=rn.position(),Se=se.top,de=se.left):(Se=parseFloat(le)||0,de=parseFloat(ze)||0),g(G)&&(G=G.call(P,Y,C.extend({},je))),G.top!=null&&(It.top=G.top-je.top+Se),G.left!=null&&(It.left=G.left-je.left+de),"using"in G?G.using.call(P,It):rn.css(It)}},C.fn.extend({offset:function(P){if(arguments.length)return P===void 0?this:this.each(function(de){C.offset.setOffset(this,P,de)});var G,Y,se=this[0];if(se)return se.getClientRects().length?(G=se.getBoundingClientRect(),Y=se.ownerDocument.defaultView,{top:G.top+Y.pageYOffset,left:G.left+Y.pageXOffset}):{top:0,left:0}},position:function(){if(this[0]){var P,G,Y,se=this[0],de={top:0,left:0};if(C.css(se,"position")==="fixed")G=se.getBoundingClientRect();else{for(G=this.offset(),Y=se.ownerDocument,P=se.offsetParent||Y.documentElement;P&&(P===Y.body||P===Y.documentElement)&&C.css(P,"position")==="static";)P=P.parentNode;P&&P!==se&&P.nodeType===1&&(de=C(P).offset(),de.top+=C.css(P,"borderTopWidth",!0),de.left+=C.css(P,"borderLeftWidth",!0))}return{top:G.top-de.top-C.css(se,"marginTop",!0),left:G.left-de.left-C.css(se,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var P=this.offsetParent;P&&C.css(P,"position")==="static";)P=P.offsetParent;return P||kt})}}),C.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(P,G){var Y=G==="pageYOffset";C.fn[P]=function(se){return nt(this,function(de,le,Se){var je;if(y(de)?je=de:de.nodeType===9&&(je=de.defaultView),Se===void 0)return je?je[G]:de[le];je?je.scrollTo(Y?je.pageXOffset:Se,Y?Se:je.pageYOffset):de[le]=Se},P,se,arguments.length)}}),C.each(["top","left"],function(P,G){C.cssHooks[G]=Be(_.pixelPosition,function(Y,se){if(se)return se=Ze(Y,G),Nt.test(se)?C(Y).position()[G]+"px":se})}),C.each({Height:"height",Width:"width"},function(P,G){C.each({padding:"inner"+P,content:G,"":"outer"+P},function(Y,se){C.fn[se]=function(de,le){var Se=arguments.length&&(Y||typeof de!="boolean"),je=Y||(de===!0||le===!0?"margin":"border");return nt(this,function(ze,dt,$t){var rn;return y(ze)?se.indexOf("outer")===0?ze["inner"+P]:ze.document.documentElement["client"+P]:ze.nodeType===9?(rn=ze.documentElement,Math.max(ze.body["scroll"+P],rn["scroll"+P],ze.body["offset"+P],rn["offset"+P],rn["client"+P])):$t===void 0?C.css(ze,dt,je):C.style(ze,dt,$t,je)},G,Se?de:void 0,Se)}})}),C.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(P,G){C.fn[G]=function(Y){return this.on(G,Y)}}),C.fn.extend({bind:function(P,G,Y){return this.on(P,null,G,Y)},unbind:function(P,G){return this.off(P,null,G)},delegate:function(P,G,Y,se){return this.on(G,P,Y,se)},undelegate:function(P,G,Y){return arguments.length===1?this.off(P,"**"):this.off(G,P||"**",Y)},hover:function(P,G){return this.on("mouseenter",P).on("mouseleave",G||P)}}),C.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(P,G){C.fn[G]=function(Y,se){return arguments.length>0?this.on(G,null,Y,se):this.trigger(G)}});var te=/^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g;C.proxy=function(P,G){var Y,se,de;if(typeof G=="string"&&(Y=P[G],G=P,P=Y),!!g(P))return se=s.call(arguments,2),de=function(){return P.apply(G||this,se.concat(s.call(arguments)))},de.guid=P.guid=P.guid||C.guid++,de},C.holdReady=function(P){P?C.readyWait++:C.ready(!0)},C.isArray=Array.isArray,C.parseJSON=JSON.parse,C.nodeName=F,C.isFunction=g,C.isWindow=y,C.camelCase=Et,C.type=T,C.now=Date.now,C.isNumeric=function(P){var G=C.type(P);return(G==="number"||G==="string")&&!isNaN(P-parseFloat(P))},C.trim=function(P){return P==null?"":(P+"").replace(te,"$1")};var Ae=e.jQuery,ke=e.$;return C.noConflict=function(P){return e.$===C&&(e.$=ke),P&&e.jQuery===C&&(e.jQuery=Ae),C},typeof t>"u"&&(e.jQuery=e.$=C),C})})(PS)),PS.exports}var wL;function N7(){if(wL)return qy;wL=1;const n=D7();return window.$=n,window.jQuery=n,(function(e,t,i,r){function s(a,o){this.settings=null,this.options=e.extend({},s.Defaults,o),this.$element=e(a),this._handlers={},this._plugins={},this._supress={},this._current=null,this._speed=null,this._coordinates=[],this._breakpoint=null,this._width=null,this._items=[],this._clones=[],this._mergers=[],this._widths=[],this._invalidated={},this._pipe=[],this._drag={time:null,target:null,pointer:null,stage:{start:null,current:null},direction:null},this._states={current:{},tags:{initializing:["busy"],animating:["busy"],dragging:["interacting"]}},e.each(["onResize","onThrottledResize"],e.proxy(function(l,c){this._handlers[c]=e.proxy(this[c],this)},this)),e.each(s.Plugins,e.proxy(function(l,c){this._plugins[l.charAt(0).toLowerCase()+l.slice(1)]=new c(this)},this)),e.each(s.Workers,e.proxy(function(l,c){this._pipe.push({filter:c.filter,run:e.proxy(c.run,this)})},this)),this.setup(),this.initialize()}s.Defaults={items:3,loop:!1,center:!1,rewind:!1,mouseDrag:!0,touchDrag:!0,pullDrag:!0,freeDrag:!1,margin:0,stagePadding:0,merge:!1,mergeFit:!0,autoWidth:!1,startPosition:0,rtl:!1,smartSpeed:250,fluidSpeed:!1,dragEndSpeed:!1,responsive:{},responsiveRefreshRate:200,responsiveBaseElement:t,fallbackEasing:"swing",info:!1,nestedItemSelector:!1,itemElement:"div",stageElement:"div",refreshClass:"owl-refresh",loadedClass:"owl-loaded",loadingClass:"owl-loading",rtlClass:"owl-rtl",responsiveClass:"owl-responsive",dragClass:"owl-drag",itemClass:"owl-item",stageClass:"owl-stage",stageOuterClass:"owl-stage-outer",grabClass:"owl-grab"},s.Width={Default:"default",Inner:"inner",Outer:"outer"},s.Type={Event:"event",State:"state"},s.Plugins={},s.Workers=[{filter:["width","settings"],run:function(){this._width=this.$element.width()}},{filter:["width","items","settings"],run:function(a){a.current=this._items&&this._items[this.relative(this._current)]}},{filter:["items","settings"],run:function(){this.$stage.children(".cloned").remove()}},{filter:["width","items","settings"],run:function(a){var o=this.settings.margin||"",l=!this.settings.autoWidth,c=this.settings.rtl,f={width:"auto","margin-left":c?o:"","margin-right":c?"":o};!l&&this.$stage.children().css(f),a.css=f}},{filter:["width","items","settings"],run:function(a){var o=(this.width()/this.settings.items).toFixed(3)-this.settings.margin,l=null,c=this._items.length,f=!this.settings.autoWidth,h=[];for(a.items={merge:!1,width:o};c--;)l=this._mergers[c],l=this.settings.mergeFit&&Math.min(l,this.settings.items)||l,a.items.merge=l>1||a.items.merge,h[c]=f?o*l:this._items[c].width();this._widths=h}},{filter:["items","settings"],run:function(){var a=[],o=this._items,l=this.settings,c=Math.max(2*l.items,4),f=2*Math.ceil(o.length/2),h=l.loop&&o.length?l.rewind?c:Math.max(c,f):0,v="",m="";for(h/=2;h>0;)a.push(this.normalize(a.length/2,!0)),v+=o[a[a.length-1]][0].outerHTML,a.push(this.normalize(o.length-1-(a.length-1)/2,!0)),m=o[a[a.length-1]][0].outerHTML+m,h-=1;this._clones=a,e(v).addClass("cloned").appendTo(this.$stage),e(m).addClass("cloned").prependTo(this.$stage)}},{filter:["width","items","settings"],run:function(){for(var a=this.settings.rtl?1:-1,o=this._clones.length+this._items.length,l=-1,c=0,f=0,h=[];++l<o;)c=h[l-1]||0,f=this._widths[this.relative(l)]+this.settings.margin,h.push(c+f*a);this._coordinates=h}},{filter:["width","items","settings"],run:function(){var a=this.settings.stagePadding,o=this._coordinates,l={width:Math.ceil(Math.abs(o[o.length-1]))+2*a,"padding-left":a||"","padding-right":a||""};this.$stage.css(l)}},{filter:["width","items","settings"],run:function(a){var o=this._coordinates.length,l=!this.settings.autoWidth,c=this.$stage.children();if(l&&a.items.merge)for(;o--;)a.css.width=this._widths[this.relative(o)],c.eq(o).css(a.css);else l&&(a.css.width=a.items.width,c.css(a.css))}},{filter:["items"],run:function(){this._coordinates.length<1&&this.$stage.removeAttr("style")}},{filter:["width","items","settings"],run:function(a){a.current=a.current?this.$stage.children().index(a.current):0,a.current=Math.max(this.minimum(),Math.min(this.maximum(),a.current)),this.reset(a.current)}},{filter:["position"],run:function(){this.animate(this.coordinates(this._current))}},{filter:["width","position","items","settings"],run:function(){var a,o,l,c,f=this.settings.rtl?1:-1,h=2*this.settings.stagePadding,v=this.coordinates(this.current())+h,m=v+this.width()*f,_=[];for(l=0,c=this._coordinates.length;c>l;l++)a=this._coordinates[l-1]||0,o=Math.abs(this._coordinates[l])+h*f,(this.op(a,"<=",v)&&this.op(a,">",m)||this.op(o,"<",v)&&this.op(o,">",m))&&_.push(l);this.$stage.children(".active").removeClass("active"),this.$stage.children(":eq("+_.join("), :eq(")+")").addClass("active"),this.$stage.children(".center").removeClass("center"),this.settings.center&&this.$stage.children().eq(this.current()).addClass("center")}}],s.prototype.initialize=function(){if(this.enter("initializing"),this.trigger("initialize"),this.$element.toggleClass(this.settings.rtlClass,this.settings.rtl),this.settings.autoWidth&&!this.is("pre-loading")){var a,o,l;a=this.$element.find("img"),o=this.settings.nestedItemSelector?"."+this.settings.nestedItemSelector:r,l=this.$element.children(o).width(),a.length&&0>=l&&this.preloadAutoWidthImages(a)}this.$element.addClass(this.options.loadingClass),this.$stage=e("<"+this.settings.stageElement+' class="'+this.settings.stageClass+'"/>').wrap('<div class="'+this.settings.stageOuterClass+'"/>'),this.$element.append(this.$stage.parent()),this.replace(this.$element.children().not(this.$stage.parent())),this.$element.is(":visible")?this.refresh():this.invalidate("width"),this.$element.removeClass(this.options.loadingClass).addClass(this.options.loadedClass),this.registerEventHandlers(),this.leave("initializing"),this.trigger("initialized")},s.prototype.setup=function(){var a=this.viewport(),o=this.options.responsive,l=-1,c=null;o?(e.each(o,function(f){a>=f&&f>l&&(l=Number(f))}),c=e.extend({},this.options,o[l]),typeof c.stagePadding=="function"&&(c.stagePadding=c.stagePadding()),delete c.responsive,c.responsiveClass&&this.$element.attr("class",this.$element.attr("class").replace(new RegExp("("+this.options.responsiveClass+"-)\\S+\\s","g"),"$1"+l))):c=e.extend({},this.options),this.trigger("change",{property:{name:"settings",value:c}}),this._breakpoint=l,this.settings=c,this.invalidate("settings"),this.trigger("changed",{property:{name:"settings",value:this.settings}})},s.prototype.optionsLogic=function(){this.settings.autoWidth&&(this.settings.stagePadding=!1,this.settings.merge=!1)},s.prototype.prepare=function(a){var o=this.trigger("prepare",{content:a});return o.data||(o.data=e("<"+this.settings.itemElement+"/>").addClass(this.options.itemClass).append(a)),this.trigger("prepared",{content:o.data}),o.data},s.prototype.update=function(){for(var a=0,o=this._pipe.length,l=e.proxy(function(f){return this[f]},this._invalidated),c={};o>a;)(this._invalidated.all||e.grep(this._pipe[a].filter,l).length>0)&&this._pipe[a].run(c),a++;this._invalidated={},!this.is("valid")&&this.enter("valid")},s.prototype.width=function(a){switch(a=a||s.Width.Default){case s.Width.Inner:case s.Width.Outer:return this._width;default:return this._width-2*this.settings.stagePadding+this.settings.margin}},s.prototype.refresh=function(){this.enter("refreshing"),this.trigger("refresh"),this.setup(),this.optionsLogic(),this.$element.addClass(this.options.refreshClass),this.update(),this.$element.removeClass(this.options.refreshClass),this.leave("refreshing"),this.trigger("refreshed")},s.prototype.onThrottledResize=function(){t.clearTimeout(this.resizeTimer),this.resizeTimer=t.setTimeout(this._handlers.onResize,this.settings.responsiveRefreshRate)},s.prototype.onResize=function(){return this._items.length?this._width===this.$element.width()?!1:this.$element.is(":visible")?(this.enter("resizing"),this.trigger("resize").isDefaultPrevented()?(this.leave("resizing"),!1):(this.invalidate("width"),this.refresh(),this.leave("resizing"),void this.trigger("resized"))):!1:!1},s.prototype.registerEventHandlers=function(){e.support.transition&&this.$stage.on(e.support.transition.end+".owl.core",e.proxy(this.onTransitionEnd,this)),this.settings.responsive!==!1&&this.on(t,"resize",this._handlers.onThrottledResize),this.settings.mouseDrag&&(this.$element.addClass(this.options.dragClass),this.$stage.on("mousedown.owl.core",e.proxy(this.onDragStart,this)),this.$stage.on("dragstart.owl.core selectstart.owl.core",function(){return!1})),this.settings.touchDrag&&(this.$stage.on("touchstart.owl.core",e.proxy(this.onDragStart,this)),this.$stage.on("touchcancel.owl.core",e.proxy(this.onDragEnd,this)))},s.prototype.onDragStart=function(a){var o=null;a.which!==3&&(e.support.transform?(o=this.$stage.css("transform").replace(/.*\(|\)| /g,"").split(","),o={x:o[o.length===16?12:4],y:o[o.length===16?13:5]}):(o=this.$stage.position(),o={x:this.settings.rtl?o.left+this.$stage.width()-this.width()+this.settings.margin:o.left,y:o.top}),this.is("animating")&&(e.support.transform?this.animate(o.x):this.$stage.stop(),this.invalidate("position")),this.$element.toggleClass(this.options.grabClass,a.type==="mousedown"),this.speed(0),this._drag.time=new Date().getTime(),this._drag.target=e(a.target),this._drag.stage.start=o,this._drag.stage.current=o,this._drag.pointer=this.pointer(a),e(i).on("mouseup.owl.core touchend.owl.core",e.proxy(this.onDragEnd,this)),e(i).one("mousemove.owl.core touchmove.owl.core",e.proxy(function(l){var c=this.difference(this._drag.pointer,this.pointer(l));e(i).on("mousemove.owl.core touchmove.owl.core",e.proxy(this.onDragMove,this)),Math.abs(c.x)<Math.abs(c.y)&&this.is("valid")||(l.preventDefault(),this.enter("dragging"),this.trigger("drag"))},this)))},s.prototype.onDragMove=function(a){var o=null,l=null,c=null,f=this.difference(this._drag.pointer,this.pointer(a)),h=this.difference(this._drag.stage.start,f);this.is("dragging")&&(a.preventDefault(),this.settings.loop?(o=this.coordinates(this.minimum()),l=this.coordinates(this.maximum()+1)-o,h.x=((h.x-o)%l+l)%l+o):(o=this.settings.rtl?this.coordinates(this.maximum()):this.coordinates(this.minimum()),l=this.settings.rtl?this.coordinates(this.minimum()):this.coordinates(this.maximum()),c=this.settings.pullDrag?-1*f.x/5:0,h.x=Math.max(Math.min(h.x,o+c),l+c)),this._drag.stage.current=h,this.animate(h.x))},s.prototype.onDragEnd=function(a){var o=this.difference(this._drag.pointer,this.pointer(a)),l=this._drag.stage.current,c=o.x>0^this.settings.rtl?"left":"right";e(i).off(".owl.core"),this.$element.removeClass(this.options.grabClass),(o.x!==0&&this.is("dragging")||!this.is("valid"))&&(this.speed(this.settings.dragEndSpeed||this.settings.smartSpeed),this.current(this.closest(l.x,o.x!==0?c:this._drag.direction)),this.invalidate("position"),this.update(),this._drag.direction=c,(Math.abs(o.x)>3||new Date().getTime()-this._drag.time>300)&&this._drag.target.one("click.owl.core",function(){return!1})),this.is("dragging")&&(this.leave("dragging"),this.trigger("dragged"))},s.prototype.closest=function(a,o){var l=-1,c=30,f=this.width(),h=this.coordinates();return this.settings.freeDrag||e.each(h,e.proxy(function(v,m){return o==="left"&&a>m-c&&m+c>a?l=v:o==="right"&&a>m-f-c&&m-f+c>a?l=v+1:this.op(a,"<",m)&&this.op(a,">",h[v+1]||m-f)&&(l=o==="left"?v+1:v),l===-1},this)),this.settings.loop||(this.op(a,">",h[this.minimum()])?l=a=this.minimum():this.op(a,"<",h[this.maximum()])&&(l=a=this.maximum())),l},s.prototype.animate=function(a){var o=this.speed()>0;this.is("animating")&&this.onTransitionEnd(),o&&(this.enter("animating"),this.trigger("translate")),e.support.transform3d&&e.support.transition?this.$stage.css({transform:"translate3d("+a+"px,0px,0px)",transition:this.speed()/1e3+"s"}):o?this.$stage.animate({left:a+"px"},this.speed(),this.settings.fallbackEasing,e.proxy(this.onTransitionEnd,this)):this.$stage.css({left:a+"px"})},s.prototype.is=function(a){return this._states.current[a]&&this._states.current[a]>0},s.prototype.current=function(a){if(a===r)return this._current;if(this._items.length===0)return r;if(a=this.normalize(a),this._current!==a){var o=this.trigger("change",{property:{name:"position",value:a}});o.data!==r&&(a=this.normalize(o.data)),this._current=a,this.invalidate("position"),this.trigger("changed",{property:{name:"position",value:this._current}})}return this._current},s.prototype.invalidate=function(a){return e.type(a)==="string"&&(this._invalidated[a]=!0,this.is("valid")&&this.leave("valid")),e.map(this._invalidated,function(o,l){return l})},s.prototype.reset=function(a){a=this.normalize(a),a!==r&&(this._speed=0,this._current=a,this.suppress(["translate","translated"]),this.animate(this.coordinates(a)),this.release(["translate","translated"]))},s.prototype.normalize=function(a,o){var l=this._items.length,c=o?0:this._clones.length;return!this.isNumeric(a)||1>l?a=r:(0>a||a>=l+c)&&(a=((a-c/2)%l+l)%l+c/2),a},s.prototype.relative=function(a){return a-=this._clones.length/2,this.normalize(a,!0)},s.prototype.maximum=function(a){var o,l,c,f=this.settings,h=this._coordinates.length;if(f.loop)h=this._clones.length/2+this._items.length-1;else if(f.autoWidth||f.merge){if(o=this._items.length)for(l=this._items[--o].width(),c=this.$element.width();o--&&(l+=this._items[o].width()+this.settings.margin,!(l>c)););h=o+1}else h=f.center?this._items.length-1:this._items.length-f.items;return a&&(h-=this._clones.length/2),Math.max(h,0)},s.prototype.minimum=function(a){return a?0:this._clones.length/2},s.prototype.items=function(a){return a===r?this._items.slice():(a=this.normalize(a,!0),this._items[a])},s.prototype.mergers=function(a){return a===r?this._mergers.slice():(a=this.normalize(a,!0),this._mergers[a])},s.prototype.clones=function(a){var o=this._clones.length/2,l=o+this._items.length,c=function(f){return f%2===0?l+f/2:o-(f+1)/2};return a===r?e.map(this._clones,function(f,h){return c(h)}):e.map(this._clones,function(f,h){return f===a?c(h):null})},s.prototype.speed=function(a){return a!==r&&(this._speed=a),this._speed},s.prototype.coordinates=function(a){var o,l=1,c=a-1;return a===r?e.map(this._coordinates,e.proxy(function(f,h){return this.coordinates(h)},this)):(this.settings.center?(this.settings.rtl&&(l=-1,c=a+1),o=this._coordinates[a],o+=(this.width()-o+(this._coordinates[c]||0))/2*l):o=this._coordinates[c]||0,o=Math.ceil(o))},s.prototype.duration=function(a,o,l){return l===0?0:Math.min(Math.max(Math.abs(o-a),1),6)*Math.abs(l||this.settings.smartSpeed)},s.prototype.to=function(a,o){var l=this.current(),c=null,f=a-this.relative(l),h=(f>0)-(0>f),v=this._items.length,m=this.minimum(),_=this.maximum();this.settings.loop?(!this.settings.rewind&&Math.abs(f)>v/2&&(f+=-1*h*v),a=l+f,c=((a-m)%v+v)%v+m,c!==a&&_>=c-f&&c-f>0&&(l=c-f,a=c,this.reset(l))):this.settings.rewind?(_+=1,a=(a%_+_)%_):a=Math.max(m,Math.min(_,a)),this.speed(this.duration(l,a,o)),this.current(a),this.$element.is(":visible")&&this.update()},s.prototype.next=function(a){a=a||!1,this.to(this.relative(this.current())+1,a)},s.prototype.prev=function(a){a=a||!1,this.to(this.relative(this.current())-1,a)},s.prototype.onTransitionEnd=function(a){return a!==r&&(a.stopPropagation(),(a.target||a.srcElement||a.originalTarget)!==this.$stage.get(0))?!1:(this.leave("animating"),void this.trigger("translated"))},s.prototype.viewport=function(){var a;return this.options.responsiveBaseElement!==t?a=e(this.options.responsiveBaseElement).width():t.innerWidth?a=t.innerWidth:i.documentElement&&i.documentElement.clientWidth?a=i.documentElement.clientWidth:console.warn("Can not detect viewport width."),a},s.prototype.replace=function(a){this.$stage.empty(),this._items=[],a&&(a=a instanceof jQuery?a:e(a)),this.settings.nestedItemSelector&&(a=a.find("."+this.settings.nestedItemSelector)),a.filter(function(){return this.nodeType===1}).each(e.proxy(function(o,l){l=this.prepare(l),this.$stage.append(l),this._items.push(l),this._mergers.push(1*l.find("[data-merge]").addBack("[data-merge]").attr("data-merge")||1)},this)),this.reset(this.isNumeric(this.settings.startPosition)?this.settings.startPosition:0),this.invalidate("items")},s.prototype.add=function(a,o){var l=this.relative(this._current);o=o===r?this._items.length:this.normalize(o,!0),a=a instanceof jQuery?a:e(a),this.trigger("add",{content:a,position:o}),a=this.prepare(a),this._items.length===0||o===this._items.length?(this._items.length===0&&this.$stage.append(a),this._items.length!==0&&this._items[o-1].after(a),this._items.push(a),this._mergers.push(1*a.find("[data-merge]").addBack("[data-merge]").attr("data-merge")||1)):(this._items[o].before(a),this._items.splice(o,0,a),this._mergers.splice(o,0,1*a.find("[data-merge]").addBack("[data-merge]").attr("data-merge")||1)),this._items[l]&&this.reset(this._items[l].index()),this.invalidate("items"),this.trigger("added",{content:a,position:o})},s.prototype.remove=function(a){a=this.normalize(a,!0),a!==r&&(this.trigger("remove",{content:this._items[a],position:a}),this._items[a].remove(),this._items.splice(a,1),this._mergers.splice(a,1),this.invalidate("items"),this.trigger("removed",{content:null,position:a}))},s.prototype.preloadAutoWidthImages=function(a){a.each(e.proxy(function(o,l){this.enter("pre-loading"),l=e(l),e(new Image).one("load",e.proxy(function(c){l.attr("src",c.target.src),l.css("opacity",1),this.leave("pre-loading"),!this.is("pre-loading")&&!this.is("initializing")&&this.refresh()},this)).attr("src",l.attr("src")||l.attr("data-src")||l.attr("data-src-retina"))},this))},s.prototype.destroy=function(){this.$element.off(".owl.core"),this.$stage.off(".owl.core"),e(i).off(".owl.core"),this.settings.responsive!==!1&&(t.clearTimeout(this.resizeTimer),this.off(t,"resize",this._handlers.onThrottledResize));for(var a in this._plugins)this._plugins[a].destroy();this.$stage.children(".cloned").remove(),this.$stage.unwrap(),this.$stage.children().contents().unwrap(),this.$stage.children().unwrap(),this.$stage.remove(),this.$element.removeClass(this.options.refreshClass).removeClass(this.options.loadingClass).removeClass(this.options.loadedClass).removeClass(this.options.rtlClass).removeClass(this.options.dragClass).removeClass(this.options.grabClass).attr("class",this.$element.attr("class").replace(new RegExp(this.options.responsiveClass+"-\\S+\\s","g"),"")).removeData("owl.carousel")},s.prototype.op=function(a,o,l){var c=this.settings.rtl;switch(o){case"<":return c?a>l:l>a;case">":return c?l>a:a>l;case">=":return c?l>=a:a>=l;case"<=":return c?a>=l:l>=a}},s.prototype.on=function(a,o,l,c){a.addEventListener?a.addEventListener(o,l,c):a.attachEvent&&a.attachEvent("on"+o,l)},s.prototype.off=function(a,o,l,c){a.removeEventListener?a.removeEventListener(o,l,c):a.detachEvent&&a.detachEvent("on"+o,l)},s.prototype.trigger=function(a,o,l,c,f){var h={item:{count:this._items.length,index:this.current()}},v=e.camelCase(e.grep(["on",a,l],function(_){return _}).join("-").toLowerCase()),m=e.Event([a,"owl",l||"carousel"].join(".").toLowerCase(),e.extend({relatedTarget:this},h,o));return this._supress[a]||(e.each(this._plugins,function(_,g){g.onTrigger&&g.onTrigger(m)}),this.register({type:s.Type.Event,name:a}),this.$element.trigger(m),this.settings&&typeof this.settings[v]=="function"&&this.settings[v].call(this,m)),m},s.prototype.enter=function(a){e.each([a].concat(this._states.tags[a]||[]),e.proxy(function(o,l){this._states.current[l]===r&&(this._states.current[l]=0),this._states.current[l]++},this))},s.prototype.leave=function(a){e.each([a].concat(this._states.tags[a]||[]),e.proxy(function(o,l){this._states.current[l]--},this))},s.prototype.register=function(a){if(a.type===s.Type.Event){if(e.event.special[a.name]||(e.event.special[a.name]={}),!e.event.special[a.name].owl){var o=e.event.special[a.name]._default;e.event.special[a.name]._default=function(l){return!o||!o.apply||l.namespace&&l.namespace.indexOf("owl")!==-1?l.namespace&&l.namespace.indexOf("owl")>-1:o.apply(this,arguments)},e.event.special[a.name].owl=!0}}else a.type===s.Type.State&&(this._states.tags[a.name]?this._states.tags[a.name]=this._states.tags[a.name].concat(a.tags):this._states.tags[a.name]=a.tags,this._states.tags[a.name]=e.grep(this._states.tags[a.name],e.proxy(function(l,c){return e.inArray(l,this._states.tags[a.name])===c},this)))},s.prototype.suppress=function(a){e.each(a,e.proxy(function(o,l){this._supress[l]=!0},this))},s.prototype.release=function(a){e.each(a,e.proxy(function(o,l){delete this._supress[l]},this))},s.prototype.pointer=function(a){var o={x:null,y:null};return a=a.originalEvent||a||t.event,a=a.touches&&a.touches.length?a.touches[0]:a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:a,a.pageX?(o.x=a.pageX,o.y=a.pageY):(o.x=a.clientX,o.y=a.clientY),o},s.prototype.isNumeric=function(a){return!isNaN(parseFloat(a))},s.prototype.difference=function(a,o){return{x:a.x-o.x,y:a.y-o.y}},e.fn.owlCarousel=function(a){var o=Array.prototype.slice.call(arguments,1);return this.each(function(){var l=e(this),c=l.data("owl.carousel");c||(c=new s(this,typeof a=="object"&&a),l.data("owl.carousel",c),e.each(["next","prev","to","destroy","refresh","replace","add","remove"],function(f,h){c.register({type:s.Type.Event,name:h}),c.$element.on(h+".owl.carousel.core",e.proxy(function(v){v.namespace&&v.relatedTarget!==this&&(this.suppress([h]),c[h].apply(this,[].slice.call(arguments,1)),this.release([h]))},c))})),typeof a=="string"&&a.charAt(0)!=="_"&&c[a].apply(c,o)})},e.fn.owlCarousel.Constructor=s})(window.Zepto||window.jQuery,window,document),(function(e,t,i,r){var s=function(a){this._core=a,this._interval=null,this._visible=null,this._handlers={"initialized.owl.carousel":e.proxy(function(o){o.namespace&&this._core.settings.autoRefresh&&this.watch()},this)},this._core.options=e.extend({},s.Defaults,this._core.options),this._core.$element.on(this._handlers)};s.Defaults={autoRefresh:!0,autoRefreshInterval:500},s.prototype.watch=function(){this._interval||(this._visible=this._core.$element.is(":visible"),this._interval=t.setInterval(e.proxy(this.refresh,this),this._core.settings.autoRefreshInterval))},s.prototype.refresh=function(){this._core.$element.is(":visible")!==this._visible&&(this._visible=!this._visible,this._core.$element.toggleClass("owl-hidden",!this._visible),this._visible&&this._core.invalidate("width")&&this._core.refresh())},s.prototype.destroy=function(){var a,o;t.clearInterval(this._interval);for(a in this._handlers)this._core.$element.off(a,this._handlers[a]);for(o in Object.getOwnPropertyNames(this))typeof this[o]!="function"&&(this[o]=null)},e.fn.owlCarousel.Constructor.Plugins.AutoRefresh=s})(window.Zepto||window.jQuery,window),(function(e,t,i,r){var s=function(a){this._core=a,this._loaded=[],this._handlers={"initialized.owl.carousel change.owl.carousel resized.owl.carousel":e.proxy(function(o){if(o.namespace&&this._core.settings&&this._core.settings.lazyLoad&&(o.property&&o.property.name=="position"||o.type=="initialized"))for(var l=this._core.settings,c=l.center&&Math.ceil(l.items/2)||l.items,f=l.center&&-1*c||0,h=(o.property&&o.property.value!==r?o.property.value:this._core.current())+f,v=this._core.clones().length,m=e.proxy(function(_,g){this.load(g)},this);f++<c;)this.load(v/2+this._core.relative(h)),v&&e.each(this._core.clones(this._core.relative(h)),m),h++},this)},this._core.options=e.extend({},s.Defaults,this._core.options),this._core.$element.on(this._handlers)};s.Defaults={lazyLoad:!1},s.prototype.load=function(a){var o=this._core.$stage.children().eq(a),l=o&&o.find(".owl-lazy");!l||e.inArray(o.get(0),this._loaded)>-1||(l.each(e.proxy(function(c,f){var h,v=e(f),m=t.devicePixelRatio>1&&v.attr("data-src-retina")||v.attr("data-src");this._core.trigger("load",{element:v,url:m},"lazy"),v.is("img")?v.one("load.owl.lazy",e.proxy(function(){v.css("opacity",1),this._core.trigger("loaded",{element:v,url:m},"lazy")},this)).attr("src",m):(h=new Image,h.onload=e.proxy(function(){v.css({"background-image":'url("'+m+'")',opacity:"1"}),this._core.trigger("loaded",{element:v,url:m},"lazy")},this),h.src=m)},this)),this._loaded.push(o.get(0)))},s.prototype.destroy=function(){var a,o;for(a in this.handlers)this._core.$element.off(a,this.handlers[a]);for(o in Object.getOwnPropertyNames(this))typeof this[o]!="function"&&(this[o]=null)},e.fn.owlCarousel.Constructor.Plugins.Lazy=s})(window.Zepto||window.jQuery,window),(function(e,t,i,r){var s=function(a){this._core=a,this._handlers={"initialized.owl.carousel refreshed.owl.carousel":e.proxy(function(o){o.namespace&&this._core.settings.autoHeight&&this.update()},this),"changed.owl.carousel":e.proxy(function(o){o.namespace&&this._core.settings.autoHeight&&o.property.name=="position"&&this.update()},this),"loaded.owl.lazy":e.proxy(function(o){o.namespace&&this._core.settings.autoHeight&&o.element.closest("."+this._core.settings.itemClass).index()===this._core.current()&&this.update()},this)},this._core.options=e.extend({},s.Defaults,this._core.options),this._core.$element.on(this._handlers)};s.Defaults={autoHeight:!1,autoHeightClass:"owl-height"},s.prototype.update=function(){var a=this._core._current,o=a+this._core.settings.items,l=this._core.$stage.children().toArray().slice(a,o),c=[],f=0;e.each(l,function(h,v){c.push(e(v).height())}),f=Math.max.apply(null,c),this._core.$stage.parent().height(f).addClass(this._core.settings.autoHeightClass)},s.prototype.destroy=function(){var a,o;for(a in this._handlers)this._core.$element.off(a,this._handlers[a]);for(o in Object.getOwnPropertyNames(this))typeof this[o]!="function"&&(this[o]=null)},e.fn.owlCarousel.Constructor.Plugins.AutoHeight=s})(window.Zepto||window.jQuery),(function(e,t,i,r){var s=function(a){this._core=a,this._videos={},this._playing=null,this._handlers={"initialized.owl.carousel":e.proxy(function(o){o.namespace&&this._core.register({type:"state",name:"playing",tags:["interacting"]})},this),"resize.owl.carousel":e.proxy(function(o){o.namespace&&this._core.settings.video&&this.isInFullScreen()&&o.preventDefault()},this),"refreshed.owl.carousel":e.proxy(function(o){o.namespace&&this._core.is("resizing")&&this._core.$stage.find(".cloned .owl-video-frame").remove()},this),"changed.owl.carousel":e.proxy(function(o){o.namespace&&o.property.name==="position"&&this._playing&&this.stop()},this),"prepared.owl.carousel":e.proxy(function(o){if(o.namespace){var l=e(o.content).find(".owl-video");l.length&&(l.css("display","none"),this.fetch(l,e(o.content)))}},this)},this._core.options=e.extend({},s.Defaults,this._core.options),this._core.$element.on(this._handlers),this._core.$element.on("click.owl.video",".owl-video-play-icon",e.proxy(function(o){this.play(o)},this))};s.Defaults={video:!1,videoHeight:!1,videoWidth:!1},s.prototype.fetch=function(a,o){var l=(function(){return a.attr("data-vimeo-id")?"vimeo":a.attr("data-vzaar-id")?"vzaar":"youtube"})(),c=a.attr("data-vimeo-id")||a.attr("data-youtube-id")||a.attr("data-vzaar-id"),f=a.attr("data-width")||this._core.settings.videoWidth,h=a.attr("data-height")||this._core.settings.videoHeight,v=a.attr("href");if(!v)throw new Error("Missing video URL.");if(c=v.match(/(http:|https:|)\/\/(player.|www.|app.)?(vimeo\.com|youtu(be\.com|\.be|be\.googleapis\.com)|vzaar\.com)\/(video\/|videos\/|embed\/|channels\/.+\/|groups\/.+\/|watch\?v=|v\/)?([A-Za-z0-9._%-]*)(\&\S+)?/),c[3].indexOf("youtu")>-1)l="youtube";else if(c[3].indexOf("vimeo")>-1)l="vimeo";else{if(!(c[3].indexOf("vzaar")>-1))throw new Error("Video URL not supported.");l="vzaar"}c=c[6],this._videos[v]={type:l,id:c,width:f,height:h},o.attr("data-video",v),this.thumbnail(a,this._videos[v])},s.prototype.thumbnail=function(a,o){var l,c,f,h=o.width&&o.height?'style="width:'+o.width+"px;height:"+o.height+'px;"':"",v=a.find("img"),m="src",_="",g=this._core.settings,y=function(u){c='<div class="owl-video-play-icon"></div>',l=g.lazyLoad?'<div class="owl-video-tn '+_+'" '+m+'="'+u+'"></div>':'<div class="owl-video-tn" style="opacity:1;background-image:url('+u+')"></div>',a.after(l),a.after(c)};return a.wrap('<div class="owl-video-wrapper"'+h+"></div>"),this._core.settings.lazyLoad&&(m="data-src",_="owl-lazy"),v.length?(y(v.attr(m)),v.remove(),!1):void(o.type==="youtube"?(f="//img.youtube.com/vi/"+o.id+"/hqdefault.jpg",y(f)):o.type==="vimeo"?e.ajax({type:"GET",url:"//vimeo.com/api/v2/video/"+o.id+".json",jsonp:"callback",dataType:"jsonp",success:function(u){f=u[0].thumbnail_large,y(f)}}):o.type==="vzaar"&&e.ajax({type:"GET",url:"//vzaar.com/api/videos/"+o.id+".json",jsonp:"callback",dataType:"jsonp",success:function(u){f=u.framegrab_url,y(f)}}))},s.prototype.stop=function(){this._core.trigger("stop",null,"video"),this._playing.find(".owl-video-frame").remove(),this._playing.removeClass("owl-video-playing"),this._playing=null,this._core.leave("playing"),this._core.trigger("stopped",null,"video")},s.prototype.play=function(a){var o,l=e(a.target),c=l.closest("."+this._core.settings.itemClass),f=this._videos[c.attr("data-video")],h=f.width||"100%",v=f.height||this._core.$stage.height();this._playing||(this._core.enter("playing"),this._core.trigger("play",null,"video"),c=this._core.items(this._core.relative(c.index())),this._core.reset(c.index()),f.type==="youtube"?o='<iframe width="'+h+'" height="'+v+'" src="//www.youtube.com/embed/'+f.id+"?autoplay=1&rel=0&v="+f.id+'" frameborder="0" allowfullscreen></iframe>':f.type==="vimeo"?o='<iframe src="//player.vimeo.com/video/'+f.id+'?autoplay=1" width="'+h+'" height="'+v+'" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe>':f.type==="vzaar"&&(o='<iframe frameborder="0"height="'+v+'"width="'+h+'" allowfullscreen mozallowfullscreen webkitAllowFullScreen src="//view.vzaar.com/'+f.id+'/player?autoplay=true"></iframe>'),e('<div class="owl-video-frame">'+o+"</div>").insertAfter(c.find(".owl-video")),this._playing=c.addClass("owl-video-playing"))},s.prototype.isInFullScreen=function(){var a=i.fullscreenElement||i.mozFullScreenElement||i.webkitFullscreenElement;return a&&e(a).parent().hasClass("owl-video-frame")},s.prototype.destroy=function(){var a,o;this._core.$element.off("click.owl.video");for(a in this._handlers)this._core.$element.off(a,this._handlers[a]);for(o in Object.getOwnPropertyNames(this))typeof this[o]!="function"&&(this[o]=null)},e.fn.owlCarousel.Constructor.Plugins.Video=s})(window.Zepto||window.jQuery,window,document),(function(e,t,i,r){var s=function(a){this.core=a,this.core.options=e.extend({},s.Defaults,this.core.options),this.swapping=!0,this.previous=r,this.next=r,this.handlers={"change.owl.carousel":e.proxy(function(o){o.namespace&&o.property.name=="position"&&(this.previous=this.core.current(),this.next=o.property.value)},this),"drag.owl.carousel dragged.owl.carousel translated.owl.carousel":e.proxy(function(o){o.namespace&&(this.swapping=o.type=="translated")},this),"translate.owl.carousel":e.proxy(function(o){o.namespace&&this.swapping&&(this.core.options.animateOut||this.core.options.animateIn)&&this.swap()},this)},this.core.$element.on(this.handlers)};s.Defaults={animateOut:!1,animateIn:!1},s.prototype.swap=function(){if(this.core.settings.items===1&&e.support.animation&&e.support.transition){this.core.speed(0);var a,o=e.proxy(this.clear,this),l=this.core.$stage.children().eq(this.previous),c=this.core.$stage.children().eq(this.next),f=this.core.settings.animateIn,h=this.core.settings.animateOut;this.core.current()!==this.previous&&(h&&(a=this.core.coordinates(this.previous)-this.core.coordinates(this.next),l.one(e.support.animation.end,o).css({left:a+"px"}).addClass("animated owl-animated-out").addClass(h)),f&&c.one(e.support.animation.end,o).addClass("animated owl-animated-in").addClass(f))}},s.prototype.clear=function(a){e(a.target).css({left:""}).removeClass("animated owl-animated-out owl-animated-in").removeClass(this.core.settings.animateIn).removeClass(this.core.settings.animateOut),this.core.onTransitionEnd()},s.prototype.destroy=function(){var a,o;for(a in this.handlers)this.core.$element.off(a,this.handlers[a]);for(o in Object.getOwnPropertyNames(this))typeof this[o]!="function"&&(this[o]=null)},e.fn.owlCarousel.Constructor.Plugins.Animate=s})(window.Zepto||window.jQuery),(function(e,t,i,r){var s=function(a){this._core=a,this._call=null,this._time=0,this._timeout=0,this._paused=!0,this._handlers={"changed.owl.carousel":e.proxy(function(o){o.namespace&&o.property.name==="settings"?this._core.settings.autoplay?this.play():this.stop():o.namespace&&o.property.name==="position"&&this._paused&&(this._time=0)},this),"initialized.owl.carousel":e.proxy(function(o){o.namespace&&this._core.settings.autoplay&&this.play()},this),"play.owl.autoplay":e.proxy(function(o,l,c){o.namespace&&this.play(l,c)},this),"stop.owl.autoplay":e.proxy(function(o){o.namespace&&this.stop()},this),"mouseover.owl.autoplay":e.proxy(function(){this._core.settings.autoplayHoverPause&&this._core.is("rotating")&&this.pause()},this),"mouseleave.owl.autoplay":e.proxy(function(){this._core.settings.autoplayHoverPause&&this._core.is("rotating")&&this.play()},this),"touchstart.owl.core":e.proxy(function(){this._core.settings.autoplayHoverPause&&this._core.is("rotating")&&this.pause()},this),"touchend.owl.core":e.proxy(function(){this._core.settings.autoplayHoverPause&&this.play()},this)},this._core.$element.on(this._handlers),this._core.options=e.extend({},s.Defaults,this._core.options)};s.Defaults={autoplay:!1,autoplayTimeout:5e3,autoplayHoverPause:!1,autoplaySpeed:!1},s.prototype._next=function(a){this._call=t.setTimeout(e.proxy(this._next,this,a),this._timeout*(Math.round(this.read()/this._timeout)+1)-this.read()),this._core.is("busy")||this._core.is("interacting")||i.hidden||this._core.next(a||this._core.settings.autoplaySpeed)},s.prototype.read=function(){return new Date().getTime()-this._time},s.prototype.play=function(a,o){var l;this._core.is("rotating")||this._core.enter("rotating"),a=a||this._core.settings.autoplayTimeout,l=Math.min(this._time%(this._timeout||a),a),this._paused?(this._time=this.read(),this._paused=!1):t.clearTimeout(this._call),this._time+=this.read()%a-l,this._timeout=a,this._call=t.setTimeout(e.proxy(this._next,this,o),a-l)},s.prototype.stop=function(){this._core.is("rotating")&&(this._time=0,this._paused=!0,t.clearTimeout(this._call),this._core.leave("rotating"))},s.prototype.pause=function(){this._core.is("rotating")&&!this._paused&&(this._time=this.read(),this._paused=!0,t.clearTimeout(this._call))},s.prototype.destroy=function(){var a,o;this.stop();for(a in this._handlers)this._core.$element.off(a,this._handlers[a]);for(o in Object.getOwnPropertyNames(this))typeof this[o]!="function"&&(this[o]=null)},e.fn.owlCarousel.Constructor.Plugins.autoplay=s})(window.Zepto||window.jQuery,window,document),(function(e,t,i,r){var s=function(a){this._core=a,this._initialized=!1,this._pages=[],this._controls={},this._templates=[],this.$element=this._core.$element,this._overrides={next:this._core.next,prev:this._core.prev,to:this._core.to},this._handlers={"prepared.owl.carousel":e.proxy(function(o){o.namespace&&this._core.settings.dotsData&&this._templates.push('<div class="'+this._core.settings.dotClass+'">'+e(o.content).find("[data-dot]").addBack("[data-dot]").attr("data-dot")+"</div>")},this),"added.owl.carousel":e.proxy(function(o){o.namespace&&this._core.settings.dotsData&&this._templates.splice(o.position,0,this._templates.pop())},this),"remove.owl.carousel":e.proxy(function(o){o.namespace&&this._core.settings.dotsData&&this._templates.splice(o.position,1)},this),"changed.owl.carousel":e.proxy(function(o){o.namespace&&o.property.name=="position"&&this.draw()},this),"initialized.owl.carousel":e.proxy(function(o){o.namespace&&!this._initialized&&(this._core.trigger("initialize",null,"navigation"),this.initialize(),this.update(),this.draw(),this._initialized=!0,this._core.trigger("initialized",null,"navigation"))},this),"refreshed.owl.carousel":e.proxy(function(o){o.namespace&&this._initialized&&(this._core.trigger("refresh",null,"navigation"),this.update(),this.draw(),this._core.trigger("refreshed",null,"navigation"))},this)},this._core.options=e.extend({},s.Defaults,this._core.options),this.$element.on(this._handlers)};s.Defaults={nav:!1,navText:['<span aria-label="prev">&#x2039;</span>','<span aria-label="next">&#x203a;</span>'],navSpeed:!1,navElement:'button role="presentation"',navContainer:!1,navContainerClass:"owl-nav",navClass:["owl-prev","owl-next"],slideBy:1,dotClass:"owl-dot",dotsClass:"owl-dots",dots:!0,dotsEach:!1,dotsData:!1,dotsSpeed:!1,dotsContainer:!1},s.prototype.initialize=function(){var a,o=this._core.settings;this._controls.$relative=(o.navContainer?e(o.navContainer):e("<div>").addClass(o.navContainerClass).appendTo(this.$element)).addClass("disabled"),this._controls.$previous=e("<"+o.navElement+">").addClass(o.navClass[0]).html(o.navText[0]).prependTo(this._controls.$relative).on("click",e.proxy(function(l){this.prev(o.navSpeed)},this)),this._controls.$next=e("<"+o.navElement+">").addClass(o.navClass[1]).html(o.navText[1]).appendTo(this._controls.$relative).on("click",e.proxy(function(l){this.next(o.navSpeed)},this)),o.dotsData||(this._templates=[e("<button>").addClass(o.dotClass).append(e("<span>")).prop("outerHTML")]),this._controls.$absolute=(o.dotsContainer?e(o.dotsContainer):e("<div>").addClass(o.dotsClass).appendTo(this.$element)).addClass("disabled"),this._controls.$absolute.on("click","button",e.proxy(function(l){var c=e(l.target).parent().is(this._controls.$absolute)?e(l.target).index():e(l.target).parent().index();l.preventDefault(),this.to(c,o.dotsSpeed)},this));for(a in this._overrides)this._core[a]=e.proxy(this[a],this)},s.prototype.destroy=function(){var a,o,l,c;for(a in this._handlers)this.$element.off(a,this._handlers[a]);for(o in this._controls)o==="$relative"&&settings.navContainer?this._controls[o].html(""):this._controls[o].remove();for(c in this.overides)this._core[c]=this._overrides[c];for(l in Object.getOwnPropertyNames(this))typeof this[l]!="function"&&(this[l]=null)},s.prototype.update=function(){var a,o,l=this._core.clones().length/2,c=l+this._core.items().length,f=this._core.maximum(!0),h=this._core.settings,v=h.center||h.autoWidth||h.dotsData?1:h.dotsEach||h.items;if(h.slideBy!=="page"&&(h.slideBy=Math.min(h.slideBy,h.items)),h.dots||h.slideBy=="page")for(this._pages=[],a=l,o=0,0;c>a;a++){if(o>=v||o===0){if(this._pages.push({start:Math.min(f,a-l),end:a-l+v-1}),Math.min(f,a-l)===f)break;o=0}o+=this._core.mergers(this._core.relative(a))}},s.prototype.draw=function(){var a,o=this._core.settings,l=this._core.items().length<=o.items,c=this._core.relative(this._core.current()),f=o.loop||o.rewind;this._controls.$relative.toggleClass("disabled",!o.nav||l),o.nav&&(this._controls.$previous.toggleClass("disabled",!f&&c<=this._core.minimum(!0)),this._controls.$next.toggleClass("disabled",!f&&c>=this._core.maximum(!0))),this._controls.$absolute.toggleClass("disabled",!o.dots||l),o.dots&&(a=this._pages.length-this._controls.$absolute.children().length,o.dotsData&&a!==0?this._controls.$absolute.html(this._templates.join("")):a>0?this._controls.$absolute.append(new Array(a+1).join(this._templates[0])):0>a&&this._controls.$absolute.children().slice(a).remove(),this._controls.$absolute.find(".active").removeClass("active"),this._controls.$absolute.children().eq(e.inArray(this.current(),this._pages)).addClass("active"))},s.prototype.onTrigger=function(a){var o=this._core.settings;a.page={index:e.inArray(this.current(),this._pages),count:this._pages.length,size:o&&(o.center||o.autoWidth||o.dotsData?1:o.dotsEach||o.items)}},s.prototype.current=function(){var a=this._core.relative(this._core.current());return e.grep(this._pages,e.proxy(function(o,l){return o.start<=a&&o.end>=a},this)).pop()},s.prototype.getPosition=function(a){var o,l,c=this._core.settings;return c.slideBy=="page"?(o=e.inArray(this.current(),this._pages),l=this._pages.length,a?++o:--o,o=this._pages[(o%l+l)%l].start):(o=this._core.relative(this._core.current()),l=this._core.items().length,a?o+=c.slideBy:o-=c.slideBy),o},s.prototype.next=function(a){e.proxy(this._overrides.to,this._core)(this.getPosition(!0),a)},s.prototype.prev=function(a){e.proxy(this._overrides.to,this._core)(this.getPosition(!1),a)},s.prototype.to=function(a,o,l){var c;!l&&this._pages.length?(c=this._pages.length,e.proxy(this._overrides.to,this._core)(this._pages[(a%c+c)%c].start,o)):e.proxy(this._overrides.to,this._core)(a,o)},e.fn.owlCarousel.Constructor.Plugins.Navigation=s})(window.Zepto||window.jQuery),(function(e,t,i,r){var s=function(a){this._core=a,this._hashes={},this.$element=this._core.$element,this._handlers={"initialized.owl.carousel":e.proxy(function(o){o.namespace&&this._core.settings.startPosition==="URLHash"&&e(t).trigger("hashchange.owl.navigation")},this),"prepared.owl.carousel":e.proxy(function(o){if(o.namespace){var l=e(o.content).find("[data-hash]").addBack("[data-hash]").attr("data-hash");if(!l)return;this._hashes[l]=o.content}},this),"changed.owl.carousel":e.proxy(function(o){if(o.namespace&&o.property.name==="position"){var l=this._core.items(this._core.relative(this._core.current())),c=e.map(this._hashes,function(f,h){return f===l?h:null}).join();if(!c||t.location.hash.slice(1)===c)return;t.location.hash=c}},this)},this._core.options=e.extend({},s.Defaults,this._core.options),this.$element.on(this._handlers),e(t).on("hashchange.owl.navigation",e.proxy(function(o){var l=t.location.hash.substring(1),c=this._core.$stage.children(),f=this._hashes[l]&&c.index(this._hashes[l]);f!==r&&f!==this._core.current()&&this._core.to(this._core.relative(f),!1,!0)},this))};s.Defaults={URLhashListener:!1},s.prototype.destroy=function(){var a,o;e(t).off("hashchange.owl.navigation");for(a in this._handlers)this._core.$element.off(a,this._handlers[a]);for(o in Object.getOwnPropertyNames(this))typeof this[o]!="function"&&(this[o]=null)},e.fn.owlCarousel.Constructor.Plugins.Hash=s})(window.Zepto||window.jQuery,window),(function(e,t,i,r){function s(h,v){var m=!1,_=h.charAt(0).toUpperCase()+h.slice(1);return e.each((h+" "+l.join(_+" ")+_).split(" "),function(g,y){return o[y]!==r?(m=v?y:!0,!1):void 0}),m}function a(h){return s(h,!0)}var o=e("<support>").get(0).style,l="Webkit Moz O ms".split(" "),c={transition:{end:{WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",transition:"transitionend"}},animation:{end:{WebkitAnimation:"webkitAnimationEnd",MozAnimation:"animationend",OAnimation:"oAnimationEnd",animation:"animationend"}}},f={csstransforms:function(){return!!s("transform")},csstransforms3d:function(){return!!s("perspective")},csstransitions:function(){return!!s("transition")},cssanimations:function(){return!!s("animation")}};f.csstransitions()&&(e.support.transition=new String(a("transition")),e.support.transition.end=c.transition.end[e.support.transition]),f.cssanimations()&&(e.support.animation=new String(a("animation")),e.support.animation.end=c.animation.end[e.support.animation]),f.csstransforms()&&(e.support.transform=new String(a("transform")),e.support.transform3d=f.csstransforms3d())})(window.Zepto||window.jQuery),jQuery.easing.jswing=jQuery.easing.swing,jQuery.extend(jQuery.easing,{def:"easeOutQuad",swing:function(e,t,i,r,s){return jQuery.easing[jQuery.easing.def](e,t,i,r,s)},easeInQuad:function(e,t,i,r,s){return r*(t/=s)*t+i},easeOutQuad:function(e,t,i,r,s){return-r*(t/=s)*(t-2)+i},easeInOutQuad:function(e,t,i,r,s){return(t/=s/2)<1?r/2*t*t+i:-r/2*(--t*(t-2)-1)+i},easeInCubic:function(e,t,i,r,s){return r*(t/=s)*t*t+i},easeOutCubic:function(e,t,i,r,s){return r*((t=t/s-1)*t*t+1)+i},easeInOutCubic:function(e,t,i,r,s){return(t/=s/2)<1?r/2*t*t*t+i:r/2*((t-=2)*t*t+2)+i},easeInQuart:function(e,t,i,r,s){return r*(t/=s)*t*t*t+i},easeOutQuart:function(e,t,i,r,s){return-r*((t=t/s-1)*t*t*t-1)+i},easeInOutQuart:function(e,t,i,r,s){return(t/=s/2)<1?r/2*t*t*t*t+i:-r/2*((t-=2)*t*t*t-2)+i},easeInQuint:function(e,t,i,r,s){return r*(t/=s)*t*t*t*t+i},easeOutQuint:function(e,t,i,r,s){return r*((t=t/s-1)*t*t*t*t+1)+i},easeInOutQuint:function(e,t,i,r,s){return(t/=s/2)<1?r/2*t*t*t*t*t+i:r/2*((t-=2)*t*t*t*t+2)+i},easeInSine:function(e,t,i,r,s){return-r*Math.cos(t/s*(Math.PI/2))+r+i},easeOutSine:function(e,t,i,r,s){return r*Math.sin(t/s*(Math.PI/2))+i},easeInOutSine:function(e,t,i,r,s){return-r/2*(Math.cos(Math.PI*t/s)-1)+i},easeInExpo:function(e,t,i,r,s){return t==0?i:r*Math.pow(2,10*(t/s-1))+i},easeOutExpo:function(e,t,i,r,s){return t==s?i+r:r*(-Math.pow(2,-10*t/s)+1)+i},easeInOutExpo:function(e,t,i,r,s){return t==0?i:t==s?i+r:(t/=s/2)<1?r/2*Math.pow(2,10*(t-1))+i:r/2*(-Math.pow(2,-10*--t)+2)+i},easeInCirc:function(e,t,i,r,s){return-r*(Math.sqrt(1-(t/=s)*t)-1)+i},easeOutCirc:function(e,t,i,r,s){return r*Math.sqrt(1-(t=t/s-1)*t)+i},easeInOutCirc:function(e,t,i,r,s){return(t/=s/2)<1?-r/2*(Math.sqrt(1-t*t)-1)+i:r/2*(Math.sqrt(1-(t-=2)*t)+1)+i},easeInElastic:function(e,t,i,r,s){var l=1.70158,a=0,o=r;if(t==0)return i;if((t/=s)==1)return i+r;if(a||(a=s*.3),o<Math.abs(r)){o=r;var l=a/4}else var l=a/(2*Math.PI)*Math.asin(r/o);return-(o*Math.pow(2,10*(t-=1))*Math.sin((t*s-l)*(2*Math.PI)/a))+i},easeOutElastic:function(e,t,i,r,s){var l=1.70158,a=0,o=r;if(t==0)return i;if((t/=s)==1)return i+r;if(a||(a=s*.3),o<Math.abs(r)){o=r;var l=a/4}else var l=a/(2*Math.PI)*Math.asin(r/o);return o*Math.pow(2,-10*t)*Math.sin((t*s-l)*(2*Math.PI)/a)+r+i},easeInOutElastic:function(e,t,i,r,s){var l=1.70158,a=0,o=r;if(t==0)return i;if((t/=s/2)==2)return i+r;if(a||(a=s*(.3*1.5)),o<Math.abs(r)){o=r;var l=a/4}else var l=a/(2*Math.PI)*Math.asin(r/o);return t<1?-.5*(o*Math.pow(2,10*(t-=1))*Math.sin((t*s-l)*(2*Math.PI)/a))+i:o*Math.pow(2,-10*(t-=1))*Math.sin((t*s-l)*(2*Math.PI)/a)*.5+r+i},easeInBack:function(e,t,i,r,s,a){return a==null&&(a=1.70158),r*(t/=s)*t*((a+1)*t-a)+i},easeOutBack:function(e,t,i,r,s,a){return a==null&&(a=1.70158),r*((t=t/s-1)*t*((a+1)*t+a)+1)+i},easeInOutBack:function(e,t,i,r,s,a){return a==null&&(a=1.70158),(t/=s/2)<1?r/2*(t*t*(((a*=1.525)+1)*t-a))+i:r/2*((t-=2)*t*(((a*=1.525)+1)*t+a)+2)+i},easeInBounce:function(e,t,i,r,s){return r-jQuery.easing.easeOutBounce(e,s-t,0,r,s)+i},easeOutBounce:function(e,t,i,r,s){return(t/=s)<1/2.75?r*(7.5625*t*t)+i:t<2/2.75?r*(7.5625*(t-=1.5/2.75)*t+.75)+i:t<2.5/2.75?r*(7.5625*(t-=2.25/2.75)*t+.9375)+i:r*(7.5625*(t-=2.625/2.75)*t+.984375)+i},easeInOutBounce:function(e,t,i,r,s){return t<s/2?jQuery.easing.easeInBounce(e,t*2,0,r,s)*.5+i:jQuery.easing.easeOutBounce(e,t*2-s,0,r,s)*.5+r*.5+i}}),(function(e){e.fn.niceSelect=function(t){function i(s){s.after(e("<div></div>").addClass("nice-select").addClass(s.attr("class")||"").addClass(s.attr("disabled")?"disabled":"").attr("tabindex",s.attr("disabled")?null:"0").html('<span class="current"></span><ul class="list"></ul>'));const a=s.next(),o=s.find("option"),l=s.find("option:selected");a.find(".current").html(l.data("display")||l.text()),o.each(function(c){const f=e(this),h=f.data("display");a.find("ul").append(e("<li></li>").attr("data-value",f.val()).attr("data-display",h||null).addClass(`option${f.is(":selected")?" selected":""}${f.is(":disabled")?" disabled":""}`).html(f.text()))})}if(typeof t=="string")return t=="update"?this.each(function(){const s=e(this),a=e(this).next(".nice-select"),o=a.hasClass("open");a.length&&(a.remove(),i(s),o&&s.next().trigger("click"))}):t=="destroy"?(this.each(function(){const s=e(this),a=e(this).next(".nice-select");a.length&&(a.remove(),s.css("display",""))}),e(".nice-select").length==0&&e(document).off(".nice_select")):console.log(`Method "${t}" does not exist.`),this;this.hide(),this.each(function(){const s=e(this);s.next().hasClass("nice-select")||i(s)}),e(document).off(".nice_select"),e(document).on("click.nice_select",".nice-select",function(s){const a=e(this);e(".nice-select").not(a).removeClass("open"),a.toggleClass("open"),a.hasClass("open")?(a.find(".option"),a.find(".focus").removeClass("focus"),a.find(".selected").addClass("focus")):a.focus()}),e(document).on("click.nice_select",s=>{e(s.target).closest(".nice-select").length===0&&e(".nice-select").removeClass("open").find(".option")}),e(document).on("click.nice_select",".nice-select .option:not(.disabled)",function(s){const a=e(this),o=a.closest(".nice-select");o.find(".selected").removeClass("selected"),a.addClass("selected");const l=a.data("display")||a.text();o.find(".current").text(l),o.prev("select").val(a.data("value")).trigger("change")}),e(document).on("keydown.nice_select",".nice-select",function(s){const a=e(this),o=e(a.find(".focus")||a.find(".list .option.selected"));if(s.keyCode==32||s.keyCode==13)return a.hasClass("open")?o.trigger("click"):a.trigger("click"),!1;if(s.keyCode==40){if(a.hasClass("open")){const l=o.nextAll(".option:not(.disabled)").first();l.length>0&&(a.find(".focus").removeClass("focus"),l.addClass("focus"))}else a.trigger("click");return!1}if(s.keyCode==38){if(a.hasClass("open")){const l=o.prevAll(".option:not(.disabled)").first();l.length>0&&(a.find(".focus").removeClass("focus"),l.addClass("focus"))}else a.trigger("click");return!1}if(s.keyCode==27)a.hasClass("open")&&a.trigger("click");else if(s.keyCode==9&&a.hasClass("open"))return!1});const r=document.createElement("a").style;return r.cssText="pointer-events:auto",r.pointerEvents!=="auto"&&e("html").addClass("no-csspointerevents"),this}})(jQuery),qy.$=n,qy.Jquery=n,qy.jquery=n,qy}var F7=N7(),fT={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var EL;function U7(){return EL||(EL=1,(function(n){(function(){var e={}.hasOwnProperty;function t(){for(var s="",a=0;a<arguments.length;a++){var o=arguments[a];o&&(s=r(s,i(o)))}return s}function i(s){if(typeof s=="string"||typeof s=="number")return s;if(typeof s!="object")return"";if(Array.isArray(s))return t.apply(null,s);if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]"))return s.toString();var a="";for(var o in s)e.call(s,o)&&s[o]&&(a=r(a,o));return a}function r(s,a){return a?s?s+" "+a:s+a:s}n.exports?(t.default=t,n.exports=t):window.classNames=t})()})(fT)),fT.exports}var k7=U7();const bo=Yc(k7);var pT={exports:{}},wr={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var CL;function B7(){if(CL)return wr;CL=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),a=Symbol.for("react.context"),o=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),c=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),h=Symbol.iterator;function v(ne){return ne===null||typeof ne!="object"?null:(ne=h&&ne[h]||ne["@@iterator"],typeof ne=="function"?ne:null)}var m={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_=Object.assign,g={};function y(ne,ie,he){this.props=ne,this.context=ie,this.refs=g,this.updater=he||m}y.prototype.isReactComponent={},y.prototype.setState=function(ne,ie){if(typeof ne!="object"&&typeof ne!="function"&&ne!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,ne,ie,"setState")},y.prototype.forceUpdate=function(ne){this.updater.enqueueForceUpdate(this,ne,"forceUpdate")};function u(){}u.prototype=y.prototype;function b(ne,ie,he){this.props=ne,this.context=ie,this.refs=g,this.updater=he||m}var S=b.prototype=new u;S.constructor=b,_(S,y.prototype),S.isPureReactComponent=!0;var T=Array.isArray,R={H:null,A:null,T:null,S:null,V:null},O=Object.prototype.hasOwnProperty;function C(ne,ie,he,fe,ce,ae){return he=ae.ref,{$$typeof:n,type:ne,key:ie,ref:he!==void 0?he:null,props:ae}}function I(ne,ie){return C(ne.type,ie,void 0,void 0,void 0,ne.props)}function F(ne){return typeof ne=="object"&&ne!==null&&ne.$$typeof===n}function M(ne){var ie={"=":"=0",":":"=2"};return"$"+ne.replace(/[=:]/g,function(he){return ie[he]})}var D=/\/+/g;function B(ne,ie){return typeof ne=="object"&&ne!==null&&ne.key!=null?M(""+ne.key):ie.toString(36)}function j(){}function U(ne){switch(ne.status){case"fulfilled":return ne.value;case"rejected":throw ne.reason;default:switch(typeof ne.status=="string"?ne.then(j,j):(ne.status="pending",ne.then(function(ie){ne.status==="pending"&&(ne.status="fulfilled",ne.value=ie)},function(ie){ne.status==="pending"&&(ne.status="rejected",ne.reason=ie)})),ne.status){case"fulfilled":return ne.value;case"rejected":throw ne.reason}}throw ne}function V(ne,ie,he,fe,ce){var ae=typeof ne;(ae==="undefined"||ae==="boolean")&&(ne=null);var ve=!1;if(ne===null)ve=!0;else switch(ae){case"bigint":case"string":case"number":ve=!0;break;case"object":switch(ne.$$typeof){case n:case e:ve=!0;break;case f:return ve=ne._init,V(ve(ne._payload),ie,he,fe,ce)}}if(ve)return ce=ce(ne),ve=fe===""?"."+B(ne,0):fe,T(ce)?(he="",ve!=null&&(he=ve.replace(D,"$&/")+"/"),V(ce,ie,he,"",function(Fe){return Fe})):ce!=null&&(F(ce)&&(ce=I(ce,he+(ce.key==null||ne&&ne.key===ce.key?"":(""+ce.key).replace(D,"$&/")+"/")+ve)),ie.push(ce)),1;ve=0;var _e=fe===""?".":fe+":";if(T(ne))for(var Te=0;Te<ne.length;Te++)fe=ne[Te],ae=_e+B(fe,Te),ve+=V(fe,ie,he,ae,ce);else if(Te=v(ne),typeof Te=="function")for(ne=Te.call(ne),Te=0;!(fe=ne.next()).done;)fe=fe.value,ae=_e+B(fe,Te++),ve+=V(fe,ie,he,ae,ce);else if(ae==="object"){if(typeof ne.then=="function")return V(U(ne),ie,he,fe,ce);throw ie=String(ne),Error("Objects are not valid as a React child (found: "+(ie==="[object Object]"?"object with keys {"+Object.keys(ne).join(", ")+"}":ie)+"). If you meant to render a collection of children, use an array instead.")}return ve}function k(ne,ie,he){if(ne==null)return ne;var fe=[],ce=0;return V(ne,fe,"","",function(ae){return ie.call(he,ae,ce++)}),fe}function Z(ne){if(ne._status===-1){var ie=ne._result;ie=ie(),ie.then(function(he){(ne._status===0||ne._status===-1)&&(ne._status=1,ne._result=he)},function(he){(ne._status===0||ne._status===-1)&&(ne._status=2,ne._result=he)}),ne._status===-1&&(ne._status=0,ne._result=ie)}if(ne._status===1)return ne._result.default;throw ne._result}var ee=typeof reportError=="function"?reportError:function(ne){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ie=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof ne=="object"&&ne!==null&&typeof ne.message=="string"?String(ne.message):String(ne),error:ne});if(!window.dispatchEvent(ie))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",ne);return}console.error(ne)};function oe(){}return wr.Children={map:k,forEach:function(ne,ie,he){k(ne,function(){ie.apply(this,arguments)},he)},count:function(ne){var ie=0;return k(ne,function(){ie++}),ie},toArray:function(ne){return k(ne,function(ie){return ie})||[]},only:function(ne){if(!F(ne))throw Error("React.Children.only expected to receive a single React element child.");return ne}},wr.Component=y,wr.Fragment=t,wr.Profiler=r,wr.PureComponent=b,wr.StrictMode=i,wr.Suspense=l,wr.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=R,wr.__COMPILER_RUNTIME={__proto__:null,c:function(ne){return R.H.useMemoCache(ne)}},wr.cache=function(ne){return function(){return ne.apply(null,arguments)}},wr.cloneElement=function(ne,ie,he){if(ne==null)throw Error("The argument must be a React element, but you passed "+ne+".");var fe=_({},ne.props),ce=ne.key,ae=void 0;if(ie!=null)for(ve in ie.ref!==void 0&&(ae=void 0),ie.key!==void 0&&(ce=""+ie.key),ie)!O.call(ie,ve)||ve==="key"||ve==="__self"||ve==="__source"||ve==="ref"&&ie.ref===void 0||(fe[ve]=ie[ve]);var ve=arguments.length-2;if(ve===1)fe.children=he;else if(1<ve){for(var _e=Array(ve),Te=0;Te<ve;Te++)_e[Te]=arguments[Te+2];fe.children=_e}return C(ne.type,ce,void 0,void 0,ae,fe)},wr.createContext=function(ne){return ne={$$typeof:a,_currentValue:ne,_currentValue2:ne,_threadCount:0,Provider:null,Consumer:null},ne.Provider=ne,ne.Consumer={$$typeof:s,_context:ne},ne},wr.createElement=function(ne,ie,he){var fe,ce={},ae=null;if(ie!=null)for(fe in ie.key!==void 0&&(ae=""+ie.key),ie)O.call(ie,fe)&&fe!=="key"&&fe!=="__self"&&fe!=="__source"&&(ce[fe]=ie[fe]);var ve=arguments.length-2;if(ve===1)ce.children=he;else if(1<ve){for(var _e=Array(ve),Te=0;Te<ve;Te++)_e[Te]=arguments[Te+2];ce.children=_e}if(ne&&ne.defaultProps)for(fe in ve=ne.defaultProps,ve)ce[fe]===void 0&&(ce[fe]=ve[fe]);return C(ne,ae,void 0,void 0,null,ce)},wr.createRef=function(){return{current:null}},wr.forwardRef=function(ne){return{$$typeof:o,render:ne}},wr.isValidElement=F,wr.lazy=function(ne){return{$$typeof:f,_payload:{_status:-1,_result:ne},_init:Z}},wr.memo=function(ne,ie){return{$$typeof:c,type:ne,compare:ie===void 0?null:ie}},wr.startTransition=function(ne){var ie=R.T,he={};R.T=he;try{var fe=ne(),ce=R.S;ce!==null&&ce(he,fe),typeof fe=="object"&&fe!==null&&typeof fe.then=="function"&&fe.then(oe,ee)}catch(ae){ee(ae)}finally{R.T=ie}},wr.unstable_useCacheRefresh=function(){return R.H.useCacheRefresh()},wr.use=function(ne){return R.H.use(ne)},wr.useActionState=function(ne,ie,he){return R.H.useActionState(ne,ie,he)},wr.useCallback=function(ne,ie){return R.H.useCallback(ne,ie)},wr.useContext=function(ne){return R.H.useContext(ne)},wr.useDebugValue=function(){},wr.useDeferredValue=function(ne,ie){return R.H.useDeferredValue(ne,ie)},wr.useEffect=function(ne,ie,he){var fe=R.H;if(typeof he=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return fe.useEffect(ne,ie)},wr.useId=function(){return R.H.useId()},wr.useImperativeHandle=function(ne,ie,he){return R.H.useImperativeHandle(ne,ie,he)},wr.useInsertionEffect=function(ne,ie){return R.H.useInsertionEffect(ne,ie)},wr.useLayoutEffect=function(ne,ie){return R.H.useLayoutEffect(ne,ie)},wr.useMemo=function(ne,ie){return R.H.useMemo(ne,ie)},wr.useOptimistic=function(ne,ie){return R.H.useOptimistic(ne,ie)},wr.useReducer=function(ne,ie,he){return R.H.useReducer(ne,ie,he)},wr.useRef=function(ne){return R.H.useRef(ne)},wr.useState=function(ne){return R.H.useState(ne)},wr.useSyncExternalStore=function(ne,ie,he){return R.H.useSyncExternalStore(ne,ie,he)},wr.useTransition=function(){return R.H.useTransition()},wr.version="19.1.1",wr}var TL;function Jg(){return TL||(TL=1,pT.exports=B7()),pT.exports}var H=Jg();const Je=Yc(H),z7=O7({__proto__:null,default:Je},[H]);function Dr(){return Dr=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Dr.apply(null,arguments)}function kF(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)!==-1)continue;t[i]=n[i]}return t}function AL(n){return"default"+n.charAt(0).toUpperCase()+n.substr(1)}function G7(n){var e=H7(n,"string");return typeof e=="symbol"?e:String(e)}function H7(n,e){if(typeof n!="object"||n===null)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}function $7(n,e,t){var i=H.useRef(n!==void 0),r=H.useState(e),s=r[0],a=r[1],o=n!==void 0,l=i.current;return i.current=o,!o&&l&&s!==e&&a(e),[o?n:s,H.useCallback(function(c){for(var f=arguments.length,h=new Array(f>1?f-1:0),v=1;v<f;v++)h[v-1]=arguments[v];t&&t.apply(void 0,[c].concat(h)),a(c)},[t])]}function BF(n,e){return Object.keys(e).reduce(function(t,i){var r,s=t,a=s[AL(i)],o=s[i],l=kF(s,[AL(i),i].map(G7)),c=e[i],f=$7(o,a,n[c]),h=f[0],v=f[1];return Dr({},l,(r={},r[i]=h,r[c]=v,r))},n)}function nM(n,e){return nM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,i){return t.__proto__=i,t},nM(n,e)}function V7(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,nM(n,e)}const W7=["xxl","xl","lg","md","sm","xs"],j7="xs",EE=H.createContext({prefixes:{},breakpoints:W7,minBreakpoint:j7}),{Consumer:EEe,Provider:CEe}=EE;function Wl(n,e){const{prefixes:t}=H.useContext(EE);return n||t[e]||e}function zF(){const{breakpoints:n}=H.useContext(EE);return n}function GF(){const{minBreakpoint:n}=H.useContext(EE);return n}function NR(n){return n&&n.ownerDocument||document}function X7(n){var e=NR(n);return e&&e.defaultView||window}function q7(n,e){return X7(n).getComputedStyle(n,e)}var Y7=/([A-Z])/g;function K7(n){return n.replace(Y7,"-$1").toLowerCase()}var Z7=/^ms-/;function Zb(n){return K7(n).replace(Z7,"-ms-")}var Q7=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function J7(n){return!!(n&&Q7.test(n))}function Vf(n,e){var t="",i="";if(typeof e=="string")return n.style.getPropertyValue(Zb(e))||q7(n).getPropertyValue(Zb(e));Object.keys(e).forEach(function(r){var s=e[r];!s&&s!==0?n.style.removeProperty(Zb(r)):J7(r)?i+=r+"("+s+") ":t+=Zb(r)+": "+s+";"}),i&&(t+="transform: "+i+";"),n.style.cssText+=";"+t}var mT={exports:{}},gT,ML;function eG(){if(ML)return gT;ML=1;var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return gT=n,gT}var vT,RL;function tG(){if(RL)return vT;RL=1;var n=eG();function e(){}function t(){}return t.resetWarningCache=e,vT=function(){function i(a,o,l,c,f,h){if(h!==n){var v=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw v.name="Invariant Violation",v}}i.isRequired=i;function r(){return i}var s={array:i,bigint:i,bool:i,func:i,number:i,object:i,string:i,symbol:i,any:i,arrayOf:r,element:i,elementType:i,instanceOf:r,node:i,objectOf:r,oneOf:r,oneOfType:r,shape:r,exact:r,checkPropTypes:t,resetWarningCache:e};return s.PropTypes=s,s},vT}var OL;function nG(){return OL||(OL=1,mT.exports=tG()()),mT.exports}var iG=nG();const Bi=Yc(iG);var yT={exports:{}},Ul={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var LL;function rG(){if(LL)return Ul;LL=1;var n=Jg();function e(l){var c="https://react.dev/errors/"+l;if(1<arguments.length){c+="?args[]="+encodeURIComponent(arguments[1]);for(var f=2;f<arguments.length;f++)c+="&args[]="+encodeURIComponent(arguments[f])}return"Minified React error #"+l+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var i={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},r=Symbol.for("react.portal");function s(l,c,f){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:h==null?null:""+h,children:l,containerInfo:c,implementation:f}}var a=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function o(l,c){if(l==="font")return"";if(typeof c=="string")return c==="use-credentials"?c:""}return Ul.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Ul.createPortal=function(l,c){var f=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!c||c.nodeType!==1&&c.nodeType!==9&&c.nodeType!==11)throw Error(e(299));return s(l,c,null,f)},Ul.flushSync=function(l){var c=a.T,f=i.p;try{if(a.T=null,i.p=2,l)return l()}finally{a.T=c,i.p=f,i.d.f()}},Ul.preconnect=function(l,c){typeof l=="string"&&(c?(c=c.crossOrigin,c=typeof c=="string"?c==="use-credentials"?c:"":void 0):c=null,i.d.C(l,c))},Ul.prefetchDNS=function(l){typeof l=="string"&&i.d.D(l)},Ul.preinit=function(l,c){if(typeof l=="string"&&c&&typeof c.as=="string"){var f=c.as,h=o(f,c.crossOrigin),v=typeof c.integrity=="string"?c.integrity:void 0,m=typeof c.fetchPriority=="string"?c.fetchPriority:void 0;f==="style"?i.d.S(l,typeof c.precedence=="string"?c.precedence:void 0,{crossOrigin:h,integrity:v,fetchPriority:m}):f==="script"&&i.d.X(l,{crossOrigin:h,integrity:v,fetchPriority:m,nonce:typeof c.nonce=="string"?c.nonce:void 0})}},Ul.preinitModule=function(l,c){if(typeof l=="string")if(typeof c=="object"&&c!==null){if(c.as==null||c.as==="script"){var f=o(c.as,c.crossOrigin);i.d.M(l,{crossOrigin:f,integrity:typeof c.integrity=="string"?c.integrity:void 0,nonce:typeof c.nonce=="string"?c.nonce:void 0})}}else c==null&&i.d.M(l)},Ul.preload=function(l,c){if(typeof l=="string"&&typeof c=="object"&&c!==null&&typeof c.as=="string"){var f=c.as,h=o(f,c.crossOrigin);i.d.L(l,f,{crossOrigin:h,integrity:typeof c.integrity=="string"?c.integrity:void 0,nonce:typeof c.nonce=="string"?c.nonce:void 0,type:typeof c.type=="string"?c.type:void 0,fetchPriority:typeof c.fetchPriority=="string"?c.fetchPriority:void 0,referrerPolicy:typeof c.referrerPolicy=="string"?c.referrerPolicy:void 0,imageSrcSet:typeof c.imageSrcSet=="string"?c.imageSrcSet:void 0,imageSizes:typeof c.imageSizes=="string"?c.imageSizes:void 0,media:typeof c.media=="string"?c.media:void 0})}},Ul.preloadModule=function(l,c){if(typeof l=="string")if(c){var f=o(c.as,c.crossOrigin);i.d.m(l,{as:typeof c.as=="string"&&c.as!=="script"?c.as:void 0,crossOrigin:f,integrity:typeof c.integrity=="string"?c.integrity:void 0})}else i.d.m(l)},Ul.requestFormReset=function(l){i.d.r(l)},Ul.unstable_batchedUpdates=function(l,c){return l(c)},Ul.useFormState=function(l,c,f){return a.H.useFormState(l,c,f)},Ul.useFormStatus=function(){return a.H.useHostTransitionStatus()},Ul.version="19.1.1",Ul}var PL;function HF(){if(PL)return yT.exports;PL=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),yT.exports=rG(),yT.exports}var CE=HF();const Tg=Yc(CE),IL={disabled:!1},$F=Je.createContext(null);var sG=function(e){return e.scrollTop},A_="unmounted",em="exited",Nh="entering",Nf="entered",n1="exiting",np=(function(n){V7(e,n);function e(i,r){var s;s=n.call(this,i,r)||this;var a=r,o=a&&!a.isMounting?i.enter:i.appear,l;return s.appearStatus=null,i.in?o?(l=em,s.appearStatus=Nh):l=Nf:i.unmountOnExit||i.mountOnEnter?l=A_:l=em,s.state={status:l},s.nextCallback=null,s}e.getDerivedStateFromProps=function(r,s){var a=r.in;return a&&s.status===A_?{status:em}:null};var t=e.prototype;return t.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},t.componentDidUpdate=function(r){var s=null;if(r!==this.props){var a=this.state.status;this.props.in?a!==Nh&&a!==Nf&&(s=Nh):(a===Nh||a===Nf)&&(s=n1)}this.updateStatus(!1,s)},t.componentWillUnmount=function(){this.cancelNextCallback()},t.getTimeouts=function(){var r=this.props.timeout,s,a,o;return s=a=o=r,r!=null&&typeof r!="number"&&(s=r.exit,a=r.enter,o=r.appear!==void 0?r.appear:a),{exit:s,enter:a,appear:o}},t.updateStatus=function(r,s){if(r===void 0&&(r=!1),s!==null)if(this.cancelNextCallback(),s===Nh){if(this.props.unmountOnExit||this.props.mountOnEnter){var a=this.props.nodeRef?this.props.nodeRef.current:Tg.findDOMNode(this);a&&sG(a)}this.performEnter(r)}else this.performExit();else this.props.unmountOnExit&&this.state.status===em&&this.setState({status:A_})},t.performEnter=function(r){var s=this,a=this.props.enter,o=this.context?this.context.isMounting:r,l=this.props.nodeRef?[o]:[Tg.findDOMNode(this),o],c=l[0],f=l[1],h=this.getTimeouts(),v=o?h.appear:h.enter;if(!r&&!a||IL.disabled){this.safeSetState({status:Nf},function(){s.props.onEntered(c)});return}this.props.onEnter(c,f),this.safeSetState({status:Nh},function(){s.props.onEntering(c,f),s.onTransitionEnd(v,function(){s.safeSetState({status:Nf},function(){s.props.onEntered(c,f)})})})},t.performExit=function(){var r=this,s=this.props.exit,a=this.getTimeouts(),o=this.props.nodeRef?void 0:Tg.findDOMNode(this);if(!s||IL.disabled){this.safeSetState({status:em},function(){r.props.onExited(o)});return}this.props.onExit(o),this.safeSetState({status:n1},function(){r.props.onExiting(o),r.onTransitionEnd(a.exit,function(){r.safeSetState({status:em},function(){r.props.onExited(o)})})})},t.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},t.safeSetState=function(r,s){s=this.setNextCallback(s),this.setState(r,s)},t.setNextCallback=function(r){var s=this,a=!0;return this.nextCallback=function(o){a&&(a=!1,s.nextCallback=null,r(o))},this.nextCallback.cancel=function(){a=!1},this.nextCallback},t.onTransitionEnd=function(r,s){this.setNextCallback(s);var a=this.props.nodeRef?this.props.nodeRef.current:Tg.findDOMNode(this),o=r==null&&!this.props.addEndListener;if(!a||o){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var l=this.props.nodeRef?[this.nextCallback]:[a,this.nextCallback],c=l[0],f=l[1];this.props.addEndListener(c,f)}r!=null&&setTimeout(this.nextCallback,r)},t.render=function(){var r=this.state.status;if(r===A_)return null;var s=this.props,a=s.children;s.in,s.mountOnEnter,s.unmountOnExit,s.appear,s.enter,s.exit,s.timeout,s.addEndListener,s.onEnter,s.onEntering,s.onEntered,s.onExit,s.onExiting,s.onExited,s.nodeRef;var o=kF(s,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return Je.createElement($F.Provider,{value:null},typeof a=="function"?a(r,o):Je.cloneElement(Je.Children.only(a),o))},e})(Je.Component);np.contextType=$F;np.propTypes={};function Nv(){}np.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Nv,onEntering:Nv,onEntered:Nv,onExit:Nv,onExiting:Nv,onExited:Nv};np.UNMOUNTED=A_;np.EXITED=em;np.ENTERING=Nh;np.ENTERED=Nf;np.EXITING=n1;function aG(n){return n.code==="Escape"||n.keyCode===27}function oG(){const n=H.version.split(".");return{major:+n[0],minor:+n[1],patch:+n[2]}}function oy(n){if(!n||typeof n=="function")return null;const{major:e}=oG();return e>=19?n.props.ref:n.ref}const TE=!!(typeof window<"u"&&window.document&&window.document.createElement);var iM=!1,rM=!1;try{var _T={get passive(){return iM=!0},get once(){return rM=iM=!0}};TE&&(window.addEventListener("test",_T,_T),window.removeEventListener("test",_T,!0))}catch{}function lG(n,e,t,i){if(i&&typeof i!="boolean"&&!rM){var r=i.once,s=i.capture,a=t;!rM&&r&&(a=t.__once||function o(l){this.removeEventListener(e,o,s),t.call(this,l)},t.__once=a),n.addEventListener(e,a,iM?i:s)}n.addEventListener(e,t,i)}function cG(n,e,t,i){var r=i&&typeof i!="boolean"?i.capture:i;n.removeEventListener(e,t,r),t.__once&&n.removeEventListener(e,t.__once,r)}function ZS(n,e,t,i){return lG(n,e,t,i),function(){cG(n,e,t,i)}}function uG(n,e,t,i){if(i===void 0&&(i=!0),n){var r=document.createEvent("HTMLEvents");r.initEvent(e,t,i),n.dispatchEvent(r)}}function hG(n){var e=Vf(n,"transitionDuration")||"",t=e.indexOf("ms")===-1?1e3:1;return parseFloat(e)*t}function dG(n,e,t){t===void 0&&(t=5);var i=!1,r=setTimeout(function(){i||uG(n,"transitionend",!0)},e+t),s=ZS(n,"transitionend",function(){i=!0},{once:!0});return function(){clearTimeout(r),s()}}function fG(n,e,t,i){t==null&&(t=hG(n)||0);var r=dG(n,t,i),s=ZS(n,"transitionend",e);return function(){r(),s()}}function DL(n,e){const t=Vf(n,e)||"",i=t.indexOf("ms")===-1?1e3:1;return parseFloat(t)*i}function FR(n,e){const t=DL(n,"transitionDuration"),i=DL(n,"transitionDelay"),r=fG(n,s=>{s.target===n&&(r(),e(s))},t+i)}function Yy(...n){return n.filter(e=>e!=null).reduce((e,t)=>{if(typeof t!="function")throw new Error("Invalid Argument Type, must only provide functions, undefined, or null.");return e===null?t:function(...r){e.apply(this,r),t.apply(this,r)}},null)}function VF(n){n.offsetHeight}const NL=n=>!n||typeof n=="function"?n:e=>{n.current=e};function pG(n,e){const t=NL(n),i=NL(e);return r=>{t&&t(r),i&&i(r)}}function mG(n,e){return H.useMemo(()=>pG(n,e),[n,e])}function gG(n){return n&&"setState"in n?Tg.findDOMNode(n):n??null}const AE=Je.forwardRef(({onEnter:n,onEntering:e,onEntered:t,onExit:i,onExiting:r,onExited:s,addEndListener:a,children:o,childRef:l,...c},f)=>{const h=H.useRef(null),v=mG(h,l),m=O=>{v(gG(O))},_=O=>C=>{O&&h.current&&O(h.current,C)},g=H.useCallback(_(n),[n]),y=H.useCallback(_(e),[e]),u=H.useCallback(_(t),[t]),b=H.useCallback(_(i),[i]),S=H.useCallback(_(r),[r]),T=H.useCallback(_(s),[s]),R=H.useCallback(_(a),[a]);return ge.jsx(np,{ref:f,...c,onEnter:g,onEntered:u,onEntering:y,onExit:b,onExited:T,onExiting:S,addEndListener:R,nodeRef:h,children:typeof o=="function"?(O,C)=>o(O,{...C,ref:m}):Je.cloneElement(o,{ref:m})})});AE.displayName="TransitionWrapper";const vG={height:["marginTop","marginBottom"],width:["marginLeft","marginRight"]};function yG(n,e){const t=`offset${n[0].toUpperCase()}${n.slice(1)}`,i=e[t],r=vG[n];return i+parseInt(Vf(e,r[0]),10)+parseInt(Vf(e,r[1]),10)}const _G={[em]:"collapse",[n1]:"collapsing",[Nh]:"collapsing",[Nf]:"collapse show"},WF=Je.forwardRef(({onEnter:n,onEntering:e,onEntered:t,onExit:i,onExiting:r,className:s,children:a,dimension:o="height",in:l=!1,timeout:c=300,mountOnEnter:f=!1,unmountOnExit:h=!1,appear:v=!1,getDimensionValue:m=yG,..._},g)=>{const y=typeof o=="function"?o():o,u=H.useMemo(()=>Yy(O=>{O.style[y]="0"},n),[y,n]),b=H.useMemo(()=>Yy(O=>{const C=`scroll${y[0].toUpperCase()}${y.slice(1)}`;O.style[y]=`${O[C]}px`},e),[y,e]),S=H.useMemo(()=>Yy(O=>{O.style[y]=null},t),[y,t]),T=H.useMemo(()=>Yy(O=>{O.style[y]=`${m(y,O)}px`,VF(O)},i),[i,m,y]),R=H.useMemo(()=>Yy(O=>{O.style[y]=null},r),[y,r]);return ge.jsx(AE,{ref:g,addEndListener:FR,..._,"aria-expanded":_.role?l:null,onEnter:u,onEntering:b,onEntered:S,onExit:T,onExiting:R,childRef:oy(a),in:l,timeout:c,mountOnEnter:f,unmountOnExit:h,appear:v,children:(O,C)=>Je.cloneElement(a,{...C,className:bo(s,a.props.className,_G[O],y==="width"&&"collapse-horizontal")})})});WF.displayName="Collapse";function bG(n){const e=H.useRef(n);return H.useEffect(()=>{e.current=n},[n]),e}function ME(n){const e=bG(n);return H.useCallback(function(...t){return e.current&&e.current(...t)},[e])}const xG=(n=>H.forwardRef((e,t)=>ge.jsx("div",{...e,ref:t,className:bo(e.className,n)})));function SG(n){const e=H.useRef(n);return H.useEffect(()=>{e.current=n},[n]),e}function Ff(n){const e=SG(n);return H.useCallback(function(...t){return e.current&&e.current(...t)},[e])}function wG(){const n=H.useRef(!0),e=H.useRef(()=>n.current);return H.useEffect(()=>(n.current=!0,()=>{n.current=!1}),[]),e.current}function EG(n){const e=H.useRef(null);return H.useEffect(()=>{e.current=n}),e.current}const CG=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",TG=typeof document<"u",FL=TG||CG?H.useLayoutEffect:H.useEffect,AG=["as","disabled"];function MG(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)>=0)continue;t[i]=n[i]}return t}function RG(n){return!n||n.trim()==="#"}function jF({tagName:n,disabled:e,href:t,target:i,rel:r,role:s,onClick:a,tabIndex:o=0,type:l}){n||(t!=null||i!=null||r!=null?n="a":n="button");const c={tagName:n};if(n==="button")return[{type:l||"button",disabled:e},c];const f=v=>{if((e||n==="a"&&RG(t))&&v.preventDefault(),e){v.stopPropagation();return}a?.(v)},h=v=>{v.key===" "&&(v.preventDefault(),f(v))};return n==="a"&&(t||(t="#"),e&&(t=void 0)),[{role:s??"button",disabled:void 0,tabIndex:e?void 0:o,href:t,target:n==="a"?i:void 0,"aria-disabled":e||void 0,rel:n==="a"?r:void 0,onClick:f,onKeyDown:h},c]}const XF=H.forwardRef((n,e)=>{let{as:t,disabled:i}=n,r=MG(n,AG);const[s,{tagName:a}]=jF(Object.assign({tagName:t,disabled:i},r));return ge.jsx(a,Object.assign({},r,s,{ref:e}))});XF.displayName="Button";const OG=["onKeyDown"];function LG(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)>=0)continue;t[i]=n[i]}return t}function PG(n){return!n||n.trim()==="#"}const qF=H.forwardRef((n,e)=>{let{onKeyDown:t}=n,i=LG(n,OG);const[r]=jF(Object.assign({tagName:"a"},i)),s=Ff(a=>{r.onKeyDown(a),t?.(a)});return PG(i.href)||i.role==="button"?ge.jsx("a",Object.assign({ref:e},i,r,{onKeyDown:s})):ge.jsx("a",Object.assign({ref:e},i,{onKeyDown:t}))});qF.displayName="Anchor";const IG={[Nh]:"show",[Nf]:"show"},YF=H.forwardRef(({className:n,children:e,transitionClasses:t={},onEnter:i,...r},s)=>{const a={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,...r},o=H.useCallback((l,c)=>{VF(l),i?.(l,c)},[i]);return ge.jsx(AE,{ref:s,addEndListener:FR,...a,onEnter:o,childRef:oy(e),children:(l,c)=>H.cloneElement(e,{...c,className:bo("fade",n,e.props.className,IG[l],t[l])})})});YF.displayName="Fade";const DG={"aria-label":Bi.string,onClick:Bi.func,variant:Bi.oneOf(["white"])},UR=H.forwardRef(({className:n,variant:e,"aria-label":t="Close",...i},r)=>ge.jsx("button",{ref:r,type:"button",className:bo("btn-close",e&&`btn-close-${e}`,n),"aria-label":t,...i}));UR.displayName="CloseButton";UR.propTypes=DG;const KF=H.createContext(null);KF.displayName="CardHeaderContext";function NG({as:n,bsPrefix:e,className:t,...i}){e=Wl(e,"col");const r=zF(),s=GF(),a=[],o=[];return r.forEach(l=>{const c=i[l];delete i[l];let f,h,v;typeof c=="object"&&c!=null?{span:f,offset:h,order:v}=c:f=c;const m=l!==s?`-${l}`:"";f&&a.push(f===!0?`${e}${m}`:`${e}${m}-${f}`),v!=null&&o.push(`order${m}-${v}`),h!=null&&o.push(`offset${m}-${h}`)}),[{...i,className:bo(t,...a,...o)},{as:n,bsPrefix:e,spans:a}]}const jo=H.forwardRef((n,e)=>{const[{className:t,...i},{as:r="div",bsPrefix:s,spans:a}]=NG(n);return ge.jsx(r,{...i,ref:e,className:bo(t,!a.length&&s)})});jo.displayName="Col";const kR=H.forwardRef(({bsPrefix:n,fluid:e=!1,as:t="div",className:i,...r},s)=>{const a=Wl(n,"container"),o=typeof e=="string"?`-${e}`:"-fluid";return ge.jsx(t,{ref:s,...r,className:bo(i,e?`${a}${o}`:a)})});kR.displayName="Container";var FG=Function.prototype.bind.call(Function.prototype.call,[].slice);function vg(n,e){return FG(n.querySelectorAll(e))}function UG(){const[,n]=H.useReducer(e=>e+1,0);return n}function UL(n,e){if(n.contains)return n.contains(e);if(n.compareDocumentPosition)return n===e||!!(n.compareDocumentPosition(e)&16)}const QS=H.createContext(null),BR=(n,e=null)=>n!=null?String(n):e||null,zR=H.createContext(null);zR.displayName="NavContext";const kG="data-rr-ui-",BG="rrUi";function RE(n){return`${kG}${n}`}function zG(n){return`${BG}${n}`}const ZF=H.createContext(TE?window:void 0);ZF.Provider;function GR(){return H.useContext(ZF)}const GG=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",HG=typeof document<"u",$G=HG||GG?H.useLayoutEffect:H.useEffect,ly=H.createContext(null);ly.displayName="NavbarContext";const kL=n=>!n||typeof n=="function"?n:e=>{n.current=e};function VG(n,e){const t=kL(n),i=kL(e);return r=>{t&&t(r),i&&i(r)}}function OE(n,e){return H.useMemo(()=>VG(n,e),[n,e])}const QF=H.createContext(null),WG=["as","active","eventKey"];function jG(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)>=0)continue;t[i]=n[i]}return t}function JF({key:n,onClick:e,active:t,id:i,role:r,disabled:s}){const a=H.useContext(QS),o=H.useContext(zR),l=H.useContext(QF);let c=t;const f={role:r};if(o){!r&&o.role==="tablist"&&(f.role="tab");const h=o.getControllerId(n??null),v=o.getControlledId(n??null);f[RE("event-key")]=n,f.id=h||i,c=t==null&&n!=null?o.activeKey===n:t,(c||!(l!=null&&l.unmountOnExit)&&!(l!=null&&l.mountOnEnter))&&(f["aria-controls"]=v)}return f.role==="tab"&&(f["aria-selected"]=c,c||(f.tabIndex=-1),s&&(f.tabIndex=-1,f["aria-disabled"]=!0)),f.onClick=Ff(h=>{s||(e?.(h),n!=null&&a&&!h.isPropagationStopped()&&a(n,h))}),[f,{isActive:c}]}const eU=H.forwardRef((n,e)=>{let{as:t=XF,active:i,eventKey:r}=n,s=jG(n,WG);const[a,o]=JF(Object.assign({key:BR(r,s.href),active:i},s));return a[RE("active")]=o.isActive,ge.jsx(t,Object.assign({},s,a,{ref:e}))});eU.displayName="NavItem";const XG=["as","onSelect","activeKey","role","onKeyDown"];function qG(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)>=0)continue;t[i]=n[i]}return t}const BL=()=>{},zL=RE("event-key"),tU=H.forwardRef((n,e)=>{let{as:t="div",onSelect:i,activeKey:r,role:s,onKeyDown:a}=n,o=qG(n,XG);const l=UG(),c=H.useRef(!1),f=H.useContext(QS),h=H.useContext(QF);let v,m;h&&(s=s||"tablist",r=h.activeKey,v=h.getControlledId,m=h.getControllerId);const _=H.useRef(null),g=S=>{const T=_.current;if(!T)return null;const R=vg(T,`[${zL}]:not([aria-disabled=true])`),O=T.querySelector("[aria-selected=true]");if(!O||O!==document.activeElement)return null;const C=R.indexOf(O);if(C===-1)return null;let I=C+S;return I>=R.length&&(I=0),I<0&&(I=R.length-1),R[I]},y=(S,T)=>{S!=null&&(i?.(S,T),f?.(S,T))},u=S=>{if(a?.(S),!h)return;let T;switch(S.key){case"ArrowLeft":case"ArrowUp":T=g(-1);break;case"ArrowRight":case"ArrowDown":T=g(1);break;default:return}T&&(S.preventDefault(),y(T.dataset[zG("EventKey")]||null,S),c.current=!0,l())};H.useEffect(()=>{if(_.current&&c.current){const S=_.current.querySelector(`[${zL}][aria-selected=true]`);S?.focus()}c.current=!1});const b=OE(e,_);return ge.jsx(QS.Provider,{value:y,children:ge.jsx(zR.Provider,{value:{role:s,activeKey:BR(r),getControlledId:v||BL,getControllerId:m||BL},children:ge.jsx(t,Object.assign({},o,{onKeyDown:u,ref:b,role:s}))})})});tU.displayName="Nav";const YG=Object.assign(tU,{Item:eU});function bT(n){n===void 0&&(n=NR());try{var e=n.activeElement;return!e||!e.nodeName?null:e}catch{return n.body}}function KG(n){const e=H.useRef(n);return e.current=n,e}function ZG(n){const e=KG(n);H.useEffect(()=>()=>e.current(),[])}function QG(n=document){const e=n.defaultView;return Math.abs(e.innerWidth-n.documentElement.clientWidth)}const GL=RE("modal-open");class HR{constructor({ownerDocument:e,handleContainerOverflow:t=!0,isRTL:i=!1}={}){this.handleContainerOverflow=t,this.isRTL=i,this.modals=[],this.ownerDocument=e}getScrollbarWidth(){return QG(this.ownerDocument)}getElement(){return(this.ownerDocument||document).body}setModalAttributes(e){}removeModalAttributes(e){}setContainerStyle(e){const t={overflow:"hidden"},i=this.isRTL?"paddingLeft":"paddingRight",r=this.getElement();e.style={overflow:r.style.overflow,[i]:r.style[i]},e.scrollBarWidth&&(t[i]=`${parseInt(Vf(r,i)||"0",10)+e.scrollBarWidth}px`),r.setAttribute(GL,""),Vf(r,t)}reset(){[...this.modals].forEach(e=>this.remove(e))}removeContainerStyle(e){const t=this.getElement();t.removeAttribute(GL),Object.assign(t.style,e.style)}add(e){let t=this.modals.indexOf(e);return t!==-1||(t=this.modals.length,this.modals.push(e),this.setModalAttributes(e),t!==0)||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),t}remove(e){const t=this.modals.indexOf(e);t!==-1&&(this.modals.splice(t,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(e))}isTopModal(e){return!!this.modals.length&&this.modals[this.modals.length-1]===e}}const xT=(n,e)=>TE?n==null?(e||NR()).body:(typeof n=="function"&&(n=n()),n&&"current"in n&&(n=n.current),n&&("nodeType"in n||n.getBoundingClientRect)?n:null):null;function JG(n,e){const t=GR(),[i,r]=H.useState(()=>xT(n,t?.document));if(!i){const s=xT(n);s&&r(s)}return H.useEffect(()=>{},[e,i]),H.useEffect(()=>{const s=xT(n);s!==i&&r(s)},[n,i]),i}function eH({children:n,in:e,onExited:t,mountOnEnter:i,unmountOnExit:r}){const s=H.useRef(null),a=H.useRef(e),o=Ff(t);H.useEffect(()=>{e?a.current=!0:o(s.current)},[e,o]);const l=OE(s,oy(n)),c=H.cloneElement(n,{ref:l});return e?c:r||!a.current&&i?null:c}const tH=["onEnter","onEntering","onEntered","onExit","onExiting","onExited","addEndListener","children"];function nH(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)>=0)continue;t[i]=n[i]}return t}function iH(n){let{onEnter:e,onEntering:t,onEntered:i,onExit:r,onExiting:s,onExited:a,addEndListener:o,children:l}=n,c=nH(n,tH);const f=H.useRef(null),h=OE(f,oy(l)),v=T=>R=>{T&&f.current&&T(f.current,R)},m=H.useCallback(v(e),[e]),_=H.useCallback(v(t),[t]),g=H.useCallback(v(i),[i]),y=H.useCallback(v(r),[r]),u=H.useCallback(v(s),[s]),b=H.useCallback(v(a),[a]),S=H.useCallback(v(o),[o]);return Object.assign({},c,{nodeRef:f},e&&{onEnter:m},t&&{onEntering:_},i&&{onEntered:g},r&&{onExit:y},s&&{onExiting:u},a&&{onExited:b},o&&{addEndListener:S},{children:typeof l=="function"?(T,R)=>l(T,Object.assign({},R,{ref:h})):H.cloneElement(l,{ref:h})})}const rH=["component"];function sH(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)>=0)continue;t[i]=n[i]}return t}const aH=H.forwardRef((n,e)=>{let{component:t}=n,i=sH(n,rH);const r=iH(i);return ge.jsx(t,Object.assign({ref:e},r))});function oH({in:n,onTransition:e}){const t=H.useRef(null),i=H.useRef(!0),r=Ff(e);return FL(()=>{if(!t.current)return;let s=!1;return r({in:n,element:t.current,initial:i.current,isStale:()=>s}),()=>{s=!0}},[n,r]),FL(()=>(i.current=!1,()=>{i.current=!0}),[]),t}function lH({children:n,in:e,onExited:t,onEntered:i,transition:r}){const[s,a]=H.useState(!e);e&&s&&a(!1);const o=oH({in:!!e,onTransition:c=>{const f=()=>{c.isStale()||(c.in?i?.(c.element,c.initial):(a(!0),t?.(c.element)))};Promise.resolve(r(c)).then(f,h=>{throw c.in||a(!0),h})}}),l=OE(o,oy(n));return s&&!e?null:H.cloneElement(n,{ref:l})}function HL(n,e,t){return n?ge.jsx(aH,Object.assign({},t,{component:n})):e?ge.jsx(lH,Object.assign({},t,{transition:e})):ge.jsx(eH,Object.assign({},t))}const cH=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","runTransition","backdropTransition","runBackdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];function uH(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)>=0)continue;t[i]=n[i]}return t}let ST;function hH(n){return ST||(ST=new HR({ownerDocument:n?.document})),ST}function dH(n){const e=GR(),t=n||hH(e),i=H.useRef({dialog:null,backdrop:null});return Object.assign(i.current,{add:()=>t.add(i.current),remove:()=>t.remove(i.current),isTopModal:()=>t.isTopModal(i.current),setDialogRef:H.useCallback(r=>{i.current.dialog=r},[]),setBackdropRef:H.useCallback(r=>{i.current.backdrop=r},[])})}const nU=H.forwardRef((n,e)=>{let{show:t=!1,role:i="dialog",className:r,style:s,children:a,backdrop:o=!0,keyboard:l=!0,onBackdropClick:c,onEscapeKeyDown:f,transition:h,runTransition:v,backdropTransition:m,runBackdropTransition:_,autoFocus:g=!0,enforceFocus:y=!0,restoreFocus:u=!0,restoreFocusOptions:b,renderDialog:S,renderBackdrop:T=yt=>ge.jsx("div",Object.assign({},yt)),manager:R,container:O,onShow:C,onHide:I=()=>{},onExit:F,onExited:M,onExiting:D,onEnter:B,onEntering:j,onEntered:U}=n,V=uH(n,cH);const k=GR(),Z=JG(O),ee=dH(R),oe=wG(),ne=EG(t),[ie,he]=H.useState(!t),fe=H.useRef(null);H.useImperativeHandle(e,()=>ee,[ee]),TE&&!ne&&t&&(fe.current=bT(k?.document)),t&&ie&&he(!1);const ce=Ff(()=>{if(ee.add(),We.current=ZS(document,"keydown",Te),Fe.current=ZS(document,"focus",()=>setTimeout(ve),!0),C&&C(),g){var yt,mt;const St=bT((yt=(mt=ee.dialog)==null?void 0:mt.ownerDocument)!=null?yt:k?.document);ee.dialog&&St&&!UL(ee.dialog,St)&&(fe.current=St,ee.dialog.focus())}}),ae=Ff(()=>{if(ee.remove(),We.current==null||We.current(),Fe.current==null||Fe.current(),u){var yt;(yt=fe.current)==null||yt.focus==null||yt.focus(b),fe.current=null}});H.useEffect(()=>{!t||!Z||ce()},[t,Z,ce]),H.useEffect(()=>{ie&&ae()},[ie,ae]),ZG(()=>{ae()});const ve=Ff(()=>{if(!y||!oe()||!ee.isTopModal())return;const yt=bT(k?.document);ee.dialog&&yt&&!UL(ee.dialog,yt)&&ee.dialog.focus()}),_e=Ff(yt=>{yt.target===yt.currentTarget&&(c?.(yt),o===!0&&I())}),Te=Ff(yt=>{l&&aG(yt)&&ee.isTopModal()&&(f?.(yt),yt.defaultPrevented||I())}),Fe=H.useRef(),We=H.useRef(),ht=(...yt)=>{he(!0),M?.(...yt)};if(!Z)return null;const ft=Object.assign({role:i,ref:ee.setDialogRef,"aria-modal":i==="dialog"?!0:void 0},V,{style:s,className:r,tabIndex:-1});let Bt=S?S(ft):ge.jsx("div",Object.assign({},ft,{children:H.cloneElement(a,{role:"document"})}));Bt=HL(h,v,{unmountOnExit:!0,mountOnEnter:!0,appear:!0,in:!!t,onExit:F,onExiting:D,onExited:ht,onEnter:B,onEntering:j,onEntered:U,children:Bt});let Me=null;return o&&(Me=T({ref:ee.setBackdropRef,onClick:_e}),Me=HL(m,_,{in:!!t,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:Me})),ge.jsx(ge.Fragment,{children:Tg.createPortal(ge.jsxs(ge.Fragment,{children:[Me,Bt]}),Z)})});nU.displayName="Modal";const fH=Object.assign(nU,{Manager:HR});function pH(n,e){return n.classList?n.classList.contains(e):(" "+(n.className.baseVal||n.className)+" ").indexOf(" "+e+" ")!==-1}function mH(n,e){n.classList?n.classList.add(e):pH(n,e)||(typeof n.className=="string"?n.className=n.className+" "+e:n.setAttribute("class",(n.className&&n.className.baseVal||"")+" "+e))}function $L(n,e){return n.replace(new RegExp("(^|\\s)"+e+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function gH(n,e){n.classList?n.classList.remove(e):typeof n.className=="string"?n.className=$L(n.className,e):n.setAttribute("class",$L(n.className&&n.className.baseVal||"",e))}const Fv={FIXED_CONTENT:".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",STICKY_CONTENT:".sticky-top",NAVBAR_TOGGLER:".navbar-toggler"};class iU extends HR{adjustAndStore(e,t,i){const r=t.style[e];t.dataset[e]=r,Vf(t,{[e]:`${parseFloat(Vf(t,e))+i}px`})}restore(e,t){const i=t.dataset[e];i!==void 0&&(delete t.dataset[e],Vf(t,{[e]:i}))}setContainerStyle(e){super.setContainerStyle(e);const t=this.getElement();if(mH(t,"modal-open"),!e.scrollBarWidth)return;const i=this.isRTL?"paddingLeft":"paddingRight",r=this.isRTL?"marginLeft":"marginRight";vg(t,Fv.FIXED_CONTENT).forEach(s=>this.adjustAndStore(i,s,e.scrollBarWidth)),vg(t,Fv.STICKY_CONTENT).forEach(s=>this.adjustAndStore(r,s,-e.scrollBarWidth)),vg(t,Fv.NAVBAR_TOGGLER).forEach(s=>this.adjustAndStore(r,s,e.scrollBarWidth))}removeContainerStyle(e){super.removeContainerStyle(e);const t=this.getElement();gH(t,"modal-open");const i=this.isRTL?"paddingLeft":"paddingRight",r=this.isRTL?"marginLeft":"marginRight";vg(t,Fv.FIXED_CONTENT).forEach(s=>this.restore(i,s)),vg(t,Fv.STICKY_CONTENT).forEach(s=>this.restore(r,s)),vg(t,Fv.NAVBAR_TOGGLER).forEach(s=>this.restore(r,s))}}let wT;function vH(n){return wT||(wT=new iU(n)),wT}const rU=H.createContext({onHide(){}}),sU=H.forwardRef(({closeLabel:n="Close",closeVariant:e,closeButton:t=!1,onHide:i,children:r,...s},a)=>{const o=H.useContext(rU),l=ME(()=>{o?.onHide(),i?.()});return ge.jsxs("div",{ref:a,...s,children:[r,t&&ge.jsx(UR,{"aria-label":n,variant:e,onClick:l})]})});sU.displayName="AbstractModalHeader";const aU=H.forwardRef(({className:n,bsPrefix:e,as:t="div",...i},r)=>(e=Wl(e,"nav-item"),ge.jsx(t,{ref:r,className:bo(n,e),...i})));aU.displayName="NavItem";const oU=H.forwardRef(({bsPrefix:n,className:e,as:t=qF,active:i,eventKey:r,disabled:s=!1,...a},o)=>{n=Wl(n,"nav-link");const[l,c]=JF({key:BR(r,a.href),active:i,disabled:s,...a});return ge.jsx(t,{...a,...l,ref:o,disabled:s,className:bo(e,n,s&&"disabled",c.isActive&&"active")})});oU.displayName="NavLink";const lU=H.forwardRef((n,e)=>{const{as:t="div",bsPrefix:i,variant:r,fill:s=!1,justify:a=!1,navbar:o,navbarScroll:l,className:c,activeKey:f,...h}=BF(n,{activeKey:"onSelect"}),v=Wl(i,"nav");let m,_,g=!1;const y=H.useContext(ly),u=H.useContext(KF);return y?(m=y.bsPrefix,g=o??!0):u&&({cardHeaderBsPrefix:_}=u),ge.jsx(YG,{as:t,ref:e,activeKey:f,className:bo(c,{[v]:!g,[`${m}-nav`]:g,[`${m}-nav-scroll`]:g&&l,[`${_}-${r}`]:!!_,[`${v}-${r}`]:!!r,[`${v}-fill`]:s,[`${v}-justified`]:a}),...h})});lU.displayName="Nav";const VL=Object.assign(lU,{Item:aU,Link:oU}),cU=H.forwardRef(({bsPrefix:n,className:e,as:t,...i},r)=>{n=Wl(n,"navbar-brand");const s=t||(i.href?"a":"span");return ge.jsx(s,{...i,ref:r,className:bo(e,n)})});cU.displayName="NavbarBrand";const uU=H.forwardRef(({children:n,bsPrefix:e,...t},i)=>{e=Wl(e,"navbar-collapse");const r=H.useContext(ly);return ge.jsx(WF,{in:!!(r&&r.expanded),...t,children:ge.jsx("div",{ref:i,className:e,children:n})})});uU.displayName="NavbarCollapse";const hU=H.forwardRef(({bsPrefix:n,className:e,children:t,label:i="Toggle navigation",as:r="button",onClick:s,...a},o)=>{n=Wl(n,"navbar-toggler");const{onToggle:l,expanded:c}=H.useContext(ly)||{},f=ME(h=>{s&&s(h),l&&l()});return r==="button"&&(a.type="button"),ge.jsx(r,{...a,ref:o,onClick:f,"aria-label":i,className:bo(e,n,!c&&"collapsed"),children:t||ge.jsx("span",{className:`${n}-icon`})})});hU.displayName="NavbarToggle";const sM=new WeakMap,WL=(n,e)=>{if(!n||!e)return;const t=sM.get(e)||new Map;sM.set(e,t);let i=t.get(n);return i||(i=e.matchMedia(n),i.refCount=0,t.set(i.media,i)),i};function yH(n,e=typeof window>"u"?void 0:window){const t=WL(n,e),[i,r]=H.useState(()=>t?t.matches:!1);return $G(()=>{let s=WL(n,e);if(!s)return r(!1);let a=sM.get(e);const o=()=>{r(s.matches)};return s.refCount++,s.addListener(o),o(),()=>{s.removeListener(o),s.refCount--,s.refCount<=0&&a?.delete(s.media),s=void 0}},[n]),i}function _H(n){const e=Object.keys(n);function t(o,l){return o===l?l:o?`${o} and ${l}`:l}function i(o){return e[Math.min(e.indexOf(o)+1,e.length-1)]}function r(o){const l=i(o);let c=n[l];return typeof c=="number"?c=`${c-.2}px`:c=`calc(${c} - 0.2px)`,`(max-width: ${c})`}function s(o){let l=n[o];return typeof l=="number"&&(l=`${l}px`),`(min-width: ${l})`}function a(o,l,c){let f;typeof o=="object"?(f=o,c=l,l=!0):(l=l||!0,f={[o]:l});let h=H.useMemo(()=>Object.entries(f).reduce((v,[m,_])=>((_==="up"||_===!0)&&(v=t(v,s(m))),(_==="down"||_===!0)&&(v=t(v,r(m))),v),""),[JSON.stringify(f)]);return yH(h,c)}return a}const bH=_H({xs:0,sm:576,md:768,lg:992,xl:1200,xxl:1400}),dU=H.forwardRef(({className:n,bsPrefix:e,as:t="div",...i},r)=>(e=Wl(e,"offcanvas-body"),ge.jsx(t,{ref:r,className:bo(n,e),...i})));dU.displayName="OffcanvasBody";const xH={[Nh]:"show",[Nf]:"show"},fU=H.forwardRef(({bsPrefix:n,className:e,children:t,in:i=!1,mountOnEnter:r=!1,unmountOnExit:s=!1,appear:a=!1,...o},l)=>(n=Wl(n,"offcanvas"),ge.jsx(AE,{ref:l,addEndListener:FR,in:i,mountOnEnter:r,unmountOnExit:s,appear:a,...o,childRef:oy(t),children:(c,f)=>H.cloneElement(t,{...f,className:bo(e,t.props.className,(c===Nh||c===n1)&&`${n}-toggling`,xH[c])})})));fU.displayName="OffcanvasToggling";const pU=H.forwardRef(({bsPrefix:n,className:e,closeLabel:t="Close",closeButton:i=!1,...r},s)=>(n=Wl(n,"offcanvas-header"),ge.jsx(sU,{ref:s,...r,className:bo(e,n),closeLabel:t,closeButton:i})));pU.displayName="OffcanvasHeader";const SH=xG("h5"),mU=H.forwardRef(({className:n,bsPrefix:e,as:t=SH,...i},r)=>(e=Wl(e,"offcanvas-title"),ge.jsx(t,{ref:r,className:bo(n,e),...i})));mU.displayName="OffcanvasTitle";function wH(n){return ge.jsx(fU,{...n})}function EH(n){return ge.jsx(YF,{...n})}const gU=H.forwardRef(({bsPrefix:n,className:e,children:t,"aria-labelledby":i,placement:r="start",responsive:s,show:a=!1,backdrop:o=!0,keyboard:l=!0,scroll:c=!1,onEscapeKeyDown:f,onShow:h,onHide:v,container:m,autoFocus:_=!0,enforceFocus:g=!0,restoreFocus:y=!0,restoreFocusOptions:u,onEntered:b,onExit:S,onExiting:T,onEnter:R,onEntering:O,onExited:C,backdropClassName:I,manager:F,renderStaticNode:M=!1,...D},B)=>{const j=H.useRef();n=Wl(n,"offcanvas");const[U,V]=H.useState(!1),k=ME(v),Z=bH(s||"xs","up");H.useEffect(()=>{V(s?a&&!Z:a)},[a,s,Z]);const ee=H.useMemo(()=>({onHide:k}),[k]);function oe(){return F||(c?(j.current||(j.current=new iU({handleContainerOverflow:!1})),j.current):vH())}const ne=(ce,...ae)=>{ce&&(ce.style.visibility="visible"),R?.(ce,...ae)},ie=(ce,...ae)=>{ce&&(ce.style.visibility=""),C?.(...ae)},he=H.useCallback(ce=>ge.jsx("div",{...ce,className:bo(`${n}-backdrop`,I)}),[I,n]),fe=ce=>ge.jsx("div",{...ce,...D,className:bo(e,s?`${n}-${s}`:n,`${n}-${r}`),"aria-labelledby":i,children:t});return ge.jsxs(ge.Fragment,{children:[!U&&(s||M)&&fe({}),ge.jsx(rU.Provider,{value:ee,children:ge.jsx(fH,{show:U,ref:B,backdrop:o,container:m,keyboard:l,autoFocus:_,enforceFocus:g&&!c,restoreFocus:y,restoreFocusOptions:u,onEscapeKeyDown:f,onShow:h,onHide:k,onEnter:ne,onEntering:O,onEntered:b,onExit:S,onExiting:T,onExited:ie,manager:oe(),transition:wH,backdropTransition:EH,renderBackdrop:he,renderDialog:fe})})]})});gU.displayName="Offcanvas";const CH=Object.assign(gU,{Body:dU,Header:pU,Title:mU}),vU=H.forwardRef(({onHide:n,...e},t)=>{const i=H.useContext(ly),r=ME(()=>{i==null||i.onToggle==null||i.onToggle(),n?.()});return ge.jsx(CH,{ref:t,show:!!(i!=null&&i.expanded),...e,renderStaticNode:!0,onHide:r})});vU.displayName="NavbarOffcanvas";const yU=H.forwardRef(({className:n,bsPrefix:e,as:t="span",...i},r)=>(e=Wl(e,"navbar-text"),ge.jsx(t,{ref:r,className:bo(n,e),...i})));yU.displayName="NavbarText";const _U=H.forwardRef((n,e)=>{const{bsPrefix:t,expand:i=!0,variant:r="light",bg:s,fixed:a,sticky:o,className:l,as:c="nav",expanded:f,onToggle:h,onSelect:v,collapseOnSelect:m=!1,..._}=BF(n,{expanded:"onToggle"}),g=Wl(t,"navbar"),y=H.useCallback((...S)=>{v?.(...S),m&&f&&h?.(!1)},[v,m,f,h]);_.role===void 0&&c!=="nav"&&(_.role="navigation");let u=`${g}-expand`;typeof i=="string"&&(u=`${u}-${i}`);const b=H.useMemo(()=>({onToggle:()=>h?.(!f),bsPrefix:g,expanded:!!f,expand:i}),[g,f,i,h]);return ge.jsx(ly.Provider,{value:b,children:ge.jsx(QS.Provider,{value:y,children:ge.jsx(c,{ref:e,..._,className:bo(l,g,i&&u,r&&`${g}-${r}`,s&&`bg-${s}`,o&&`sticky-${o}`,a&&`fixed-${a}`)})})})});_U.displayName="Navbar";const ET=Object.assign(_U,{Brand:cU,Collapse:uU,Offcanvas:vU,Text:yU,Toggle:hU}),ol=H.forwardRef(({bsPrefix:n,className:e,as:t="div",...i},r)=>{const s=Wl(n,"row"),a=zF(),o=GF(),l=`${s}-cols`,c=[];return a.forEach(f=>{const h=i[f];delete i[f];let v;h!=null&&typeof h=="object"?{cols:v}=h:v=h;const m=f!==o?`-${f}`:"";v!=null&&c.push(`${l}${m}-${v}`)}),ge.jsx(t,{ref:r,...i,className:bo(e,s,...c)})});ol.displayName="Row";var IS={exports:{}};/*!
  * Bootstrap v5.3.8 (https://getbootstrap.com/)
  * Copyright 2011-2025 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */var TH=IS.exports,jL;function AH(){return jL||(jL=1,(function(n,e){(function(t,i){n.exports=i()})(TH,function(){const t=new Map,i={set(Ce,q,pe){t.has(Ce)||t.set(Ce,new Map);const De=t.get(Ce);De.has(q)||De.size===0?De.set(q,pe):console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(De.keys())[0]}.`)},get:(Ce,q)=>t.has(Ce)&&t.get(Ce).get(q)||null,remove(Ce,q){if(!t.has(Ce))return;const pe=t.get(Ce);pe.delete(q),pe.size===0&&t.delete(Ce)}},r="transitionend",s=Ce=>(Ce&&window.CSS&&window.CSS.escape&&(Ce=Ce.replace(/#([^\s"#']+)/g,(q,pe)=>`#${CSS.escape(pe)}`)),Ce),a=Ce=>Ce==null?`${Ce}`:Object.prototype.toString.call(Ce).match(/\s([a-z]+)/i)[1].toLowerCase(),o=Ce=>{Ce.dispatchEvent(new Event(r))},l=Ce=>!(!Ce||typeof Ce!="object")&&(Ce.jquery!==void 0&&(Ce=Ce[0]),Ce.nodeType!==void 0),c=Ce=>l(Ce)?Ce.jquery?Ce[0]:Ce:typeof Ce=="string"&&Ce.length>0?document.querySelector(s(Ce)):null,f=Ce=>{if(!l(Ce)||Ce.getClientRects().length===0)return!1;const q=getComputedStyle(Ce).getPropertyValue("visibility")==="visible",pe=Ce.closest("details:not([open])");if(!pe)return q;if(pe!==Ce){const De=Ce.closest("summary");if(De&&De.parentNode!==pe||De===null)return!1}return q},h=Ce=>!Ce||Ce.nodeType!==Node.ELEMENT_NODE||!!Ce.classList.contains("disabled")||(Ce.disabled!==void 0?Ce.disabled:Ce.hasAttribute("disabled")&&Ce.getAttribute("disabled")!=="false"),v=Ce=>{if(!document.documentElement.attachShadow)return null;if(typeof Ce.getRootNode=="function"){const q=Ce.getRootNode();return q instanceof ShadowRoot?q:null}return Ce instanceof ShadowRoot?Ce:Ce.parentNode?v(Ce.parentNode):null},m=()=>{},_=Ce=>{Ce.offsetHeight},g=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,y=[],u=()=>document.documentElement.dir==="rtl",b=Ce=>{var q;q=()=>{const pe=g();if(pe){const De=Ce.NAME,bt=pe.fn[De];pe.fn[De]=Ce.jQueryInterface,pe.fn[De].Constructor=Ce,pe.fn[De].noConflict=()=>(pe.fn[De]=bt,Ce.jQueryInterface)}},document.readyState==="loading"?(y.length||document.addEventListener("DOMContentLoaded",()=>{for(const pe of y)pe()}),y.push(q)):q()},S=(Ce,q=[],pe=Ce)=>typeof Ce=="function"?Ce.call(...q):pe,T=(Ce,q,pe=!0)=>{if(!pe)return void S(Ce);const De=(Kt=>{if(!Kt)return 0;let{transitionDuration:_n,transitionDelay:Un}=window.getComputedStyle(Kt);const ei=Number.parseFloat(_n),ai=Number.parseFloat(Un);return ei||ai?(_n=_n.split(",")[0],Un=Un.split(",")[0],1e3*(Number.parseFloat(_n)+Number.parseFloat(Un))):0})(q)+5;let bt=!1;const at=({target:Kt})=>{Kt===q&&(bt=!0,q.removeEventListener(r,at),S(Ce))};q.addEventListener(r,at),setTimeout(()=>{bt||o(q)},De)},R=(Ce,q,pe,De)=>{const bt=Ce.length;let at=Ce.indexOf(q);return at===-1?!pe&&De?Ce[bt-1]:Ce[0]:(at+=pe?1:-1,De&&(at=(at+bt)%bt),Ce[Math.max(0,Math.min(at,bt-1))])},O=/[^.]*(?=\..*)\.|.*/,C=/\..*/,I=/::\d+$/,F={};let M=1;const D={mouseenter:"mouseover",mouseleave:"mouseout"},B=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function j(Ce,q){return q&&`${q}::${M++}`||Ce.uidEvent||M++}function U(Ce){const q=j(Ce);return Ce.uidEvent=q,F[q]=F[q]||{},F[q]}function V(Ce,q,pe=null){return Object.values(Ce).find(De=>De.callable===q&&De.delegationSelector===pe)}function k(Ce,q,pe){const De=typeof q=="string",bt=De?pe:q||pe;let at=ne(Ce);return B.has(at)||(at=Ce),[De,bt,at]}function Z(Ce,q,pe,De,bt){if(typeof q!="string"||!Ce)return;let[at,Kt,_n]=k(q,pe,De);q in D&&(Kt=(Qi=>function(Li){if(!Li.relatedTarget||Li.relatedTarget!==Li.delegateTarget&&!Li.delegateTarget.contains(Li.relatedTarget))return Qi.call(this,Li)})(Kt));const Un=U(Ce),ei=Un[_n]||(Un[_n]={}),ai=V(ei,Kt,at?pe:null);if(ai)return void(ai.oneOff=ai.oneOff&&bt);const Vn=j(Kt,q.replace(O,"")),Yi=at?(function(Ti,Qi,Li){return function ji(as){const ds=Ti.querySelectorAll(Qi);for(let{target:or}=as;or&&or!==this;or=or.parentNode)for(const pr of ds)if(pr===or)return he(as,{delegateTarget:or}),ji.oneOff&&ie.off(Ti,as.type,Qi,Li),Li.apply(or,[as])}})(Ce,pe,Kt):(function(Ti,Qi){return function Li(ji){return he(ji,{delegateTarget:Ti}),Li.oneOff&&ie.off(Ti,ji.type,Qi),Qi.apply(Ti,[ji])}})(Ce,Kt);Yi.delegationSelector=at?pe:null,Yi.callable=Kt,Yi.oneOff=bt,Yi.uidEvent=Vn,ei[Vn]=Yi,Ce.addEventListener(_n,Yi,at)}function ee(Ce,q,pe,De,bt){const at=V(q[pe],De,bt);at&&(Ce.removeEventListener(pe,at,!!bt),delete q[pe][at.uidEvent])}function oe(Ce,q,pe,De){const bt=q[pe]||{};for(const[at,Kt]of Object.entries(bt))at.includes(De)&&ee(Ce,q,pe,Kt.callable,Kt.delegationSelector)}function ne(Ce){return Ce=Ce.replace(C,""),D[Ce]||Ce}const ie={on(Ce,q,pe,De){Z(Ce,q,pe,De,!1)},one(Ce,q,pe,De){Z(Ce,q,pe,De,!0)},off(Ce,q,pe,De){if(typeof q!="string"||!Ce)return;const[bt,at,Kt]=k(q,pe,De),_n=Kt!==q,Un=U(Ce),ei=Un[Kt]||{},ai=q.startsWith(".");if(at===void 0){if(ai)for(const Vn of Object.keys(Un))oe(Ce,Un,Vn,q.slice(1));for(const[Vn,Yi]of Object.entries(ei)){const Ti=Vn.replace(I,"");_n&&!q.includes(Ti)||ee(Ce,Un,Kt,Yi.callable,Yi.delegationSelector)}}else{if(!Object.keys(ei).length)return;ee(Ce,Un,Kt,at,bt?pe:null)}},trigger(Ce,q,pe){if(typeof q!="string"||!Ce)return null;const De=g();let bt=null,at=!0,Kt=!0,_n=!1;q!==ne(q)&&De&&(bt=De.Event(q,pe),De(Ce).trigger(bt),at=!bt.isPropagationStopped(),Kt=!bt.isImmediatePropagationStopped(),_n=bt.isDefaultPrevented());const Un=he(new Event(q,{bubbles:at,cancelable:!0}),pe);return _n&&Un.preventDefault(),Kt&&Ce.dispatchEvent(Un),Un.defaultPrevented&&bt&&bt.preventDefault(),Un}};function he(Ce,q={}){for(const[pe,De]of Object.entries(q))try{Ce[pe]=De}catch{Object.defineProperty(Ce,pe,{configurable:!0,get:()=>De})}return Ce}function fe(Ce){if(Ce==="true")return!0;if(Ce==="false")return!1;if(Ce===Number(Ce).toString())return Number(Ce);if(Ce===""||Ce==="null")return null;if(typeof Ce!="string")return Ce;try{return JSON.parse(decodeURIComponent(Ce))}catch{return Ce}}function ce(Ce){return Ce.replace(/[A-Z]/g,q=>`-${q.toLowerCase()}`)}const ae={setDataAttribute(Ce,q,pe){Ce.setAttribute(`data-bs-${ce(q)}`,pe)},removeDataAttribute(Ce,q){Ce.removeAttribute(`data-bs-${ce(q)}`)},getDataAttributes(Ce){if(!Ce)return{};const q={},pe=Object.keys(Ce.dataset).filter(De=>De.startsWith("bs")&&!De.startsWith("bsConfig"));for(const De of pe){let bt=De.replace(/^bs/,"");bt=bt.charAt(0).toLowerCase()+bt.slice(1),q[bt]=fe(Ce.dataset[De])}return q},getDataAttribute:(Ce,q)=>fe(Ce.getAttribute(`data-bs-${ce(q)}`))};class ve{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(q){return q=this._mergeConfigObj(q),q=this._configAfterMerge(q),this._typeCheckConfig(q),q}_configAfterMerge(q){return q}_mergeConfigObj(q,pe){const De=l(pe)?ae.getDataAttribute(pe,"config"):{};return{...this.constructor.Default,...typeof De=="object"?De:{},...l(pe)?ae.getDataAttributes(pe):{},...typeof q=="object"?q:{}}}_typeCheckConfig(q,pe=this.constructor.DefaultType){for(const[De,bt]of Object.entries(pe)){const at=q[De],Kt=l(at)?"element":a(at);if(!new RegExp(bt).test(Kt))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${De}" provided type "${Kt}" but expected type "${bt}".`)}}}class _e extends ve{constructor(q,pe){super(),(q=c(q))&&(this._element=q,this._config=this._getConfig(pe),i.set(this._element,this.constructor.DATA_KEY,this))}dispose(){i.remove(this._element,this.constructor.DATA_KEY),ie.off(this._element,this.constructor.EVENT_KEY);for(const q of Object.getOwnPropertyNames(this))this[q]=null}_queueCallback(q,pe,De=!0){T(q,pe,De)}_getConfig(q){return q=this._mergeConfigObj(q,this._element),q=this._configAfterMerge(q),this._typeCheckConfig(q),q}static getInstance(q){return i.get(c(q),this.DATA_KEY)}static getOrCreateInstance(q,pe={}){return this.getInstance(q)||new this(q,typeof pe=="object"?pe:null)}static get VERSION(){return"5.3.8"}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(q){return`${q}${this.EVENT_KEY}`}}const Te=Ce=>{let q=Ce.getAttribute("data-bs-target");if(!q||q==="#"){let pe=Ce.getAttribute("href");if(!pe||!pe.includes("#")&&!pe.startsWith("."))return null;pe.includes("#")&&!pe.startsWith("#")&&(pe=`#${pe.split("#")[1]}`),q=pe&&pe!=="#"?pe.trim():null}return q?q.split(",").map(pe=>s(pe)).join(","):null},Fe={find:(Ce,q=document.documentElement)=>[].concat(...Element.prototype.querySelectorAll.call(q,Ce)),findOne:(Ce,q=document.documentElement)=>Element.prototype.querySelector.call(q,Ce),children:(Ce,q)=>[].concat(...Ce.children).filter(pe=>pe.matches(q)),parents(Ce,q){const pe=[];let De=Ce.parentNode.closest(q);for(;De;)pe.push(De),De=De.parentNode.closest(q);return pe},prev(Ce,q){let pe=Ce.previousElementSibling;for(;pe;){if(pe.matches(q))return[pe];pe=pe.previousElementSibling}return[]},next(Ce,q){let pe=Ce.nextElementSibling;for(;pe;){if(pe.matches(q))return[pe];pe=pe.nextElementSibling}return[]},focusableChildren(Ce){const q=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(pe=>`${pe}:not([tabindex^="-"])`).join(",");return this.find(q,Ce).filter(pe=>!h(pe)&&f(pe))},getSelectorFromElement(Ce){const q=Te(Ce);return q&&Fe.findOne(q)?q:null},getElementFromSelector(Ce){const q=Te(Ce);return q?Fe.findOne(q):null},getMultipleElementsFromSelector(Ce){const q=Te(Ce);return q?Fe.find(q):[]}},We=(Ce,q="hide")=>{const pe=`click.dismiss${Ce.EVENT_KEY}`,De=Ce.NAME;ie.on(document,pe,`[data-bs-dismiss="${De}"]`,function(bt){if(["A","AREA"].includes(this.tagName)&&bt.preventDefault(),h(this))return;const at=Fe.getElementFromSelector(this)||this.closest(`.${De}`);Ce.getOrCreateInstance(at)[q]()})},ht=".bs.alert",ft=`close${ht}`,Bt=`closed${ht}`;class Me extends _e{static get NAME(){return"alert"}close(){if(ie.trigger(this._element,ft).defaultPrevented)return;this._element.classList.remove("show");const q=this._element.classList.contains("fade");this._queueCallback(()=>this._destroyElement(),this._element,q)}_destroyElement(){this._element.remove(),ie.trigger(this._element,Bt),this.dispose()}static jQueryInterface(q){return this.each(function(){const pe=Me.getOrCreateInstance(this);if(typeof q=="string"){if(pe[q]===void 0||q.startsWith("_")||q==="constructor")throw new TypeError(`No method named "${q}"`);pe[q](this)}})}}We(Me,"close"),b(Me);const yt='[data-bs-toggle="button"]';class mt extends _e{static get NAME(){return"button"}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle("active"))}static jQueryInterface(q){return this.each(function(){const pe=mt.getOrCreateInstance(this);q==="toggle"&&pe[q]()})}}ie.on(document,"click.bs.button.data-api",yt,Ce=>{Ce.preventDefault();const q=Ce.target.closest(yt);mt.getOrCreateInstance(q).toggle()}),b(mt);const St=".bs.swipe",nt=`touchstart${St}`,Ft=`touchmove${St}`,qe=`touchend${St}`,Ke=`pointerdown${St}`,Et=`pointerup${St}`,ye={endCallback:null,leftCallback:null,rightCallback:null},me={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class Le extends ve{constructor(q,pe){super(),this._element=q,q&&Le.isSupported()&&(this._config=this._getConfig(pe),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents())}static get Default(){return ye}static get DefaultType(){return me}static get NAME(){return"swipe"}dispose(){ie.off(this._element,St)}_start(q){this._supportPointerEvents?this._eventIsPointerPenTouch(q)&&(this._deltaX=q.clientX):this._deltaX=q.touches[0].clientX}_end(q){this._eventIsPointerPenTouch(q)&&(this._deltaX=q.clientX-this._deltaX),this._handleSwipe(),S(this._config.endCallback)}_move(q){this._deltaX=q.touches&&q.touches.length>1?0:q.touches[0].clientX-this._deltaX}_handleSwipe(){const q=Math.abs(this._deltaX);if(q<=40)return;const pe=q/this._deltaX;this._deltaX=0,pe&&S(pe>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(ie.on(this._element,Ke,q=>this._start(q)),ie.on(this._element,Et,q=>this._end(q)),this._element.classList.add("pointer-event")):(ie.on(this._element,nt,q=>this._start(q)),ie.on(this._element,Ft,q=>this._move(q)),ie.on(this._element,qe,q=>this._end(q)))}_eventIsPointerPenTouch(q){return this._supportPointerEvents&&(q.pointerType==="pen"||q.pointerType==="touch")}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const it=".bs.carousel",Qe=".data-api",et="ArrowLeft",At="ArrowRight",Gt="next",on="prev",fn="left",xt="right",kt=`slide${it}`,Xt=`slid${it}`,Ve=`keydown${it}`,lt=`mouseenter${it}`,Qt=`mouseleave${it}`,Ye=`dragstart${it}`,ct=`load${it}${Qe}`,Dt=`click${it}${Qe}`,Sn="carousel",qt="active",wt=".active",dn=".carousel-item",wn=wt+dn,Pn={[et]:xt,[At]:fn},Wn={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},Ii={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class Ei extends _e{constructor(q,pe){super(q,pe),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=Fe.findOne(".carousel-indicators",this._element),this._addEventListeners(),this._config.ride===Sn&&this.cycle()}static get Default(){return Wn}static get DefaultType(){return Ii}static get NAME(){return"carousel"}next(){this._slide(Gt)}nextWhenVisible(){!document.hidden&&f(this._element)&&this.next()}prev(){this._slide(on)}pause(){this._isSliding&&o(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){this._config.ride&&(this._isSliding?ie.one(this._element,Xt,()=>this.cycle()):this.cycle())}to(q){const pe=this._getItems();if(q>pe.length-1||q<0)return;if(this._isSliding)return void ie.one(this._element,Xt,()=>this.to(q));const De=this._getItemIndex(this._getActive());if(De===q)return;const bt=q>De?Gt:on;this._slide(bt,pe[q])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(q){return q.defaultInterval=q.interval,q}_addEventListeners(){this._config.keyboard&&ie.on(this._element,Ve,q=>this._keydown(q)),this._config.pause==="hover"&&(ie.on(this._element,lt,()=>this.pause()),ie.on(this._element,Qt,()=>this._maybeEnableCycle())),this._config.touch&&Le.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const pe of Fe.find(".carousel-item img",this._element))ie.on(pe,Ye,De=>De.preventDefault());const q={leftCallback:()=>this._slide(this._directionToOrder(fn)),rightCallback:()=>this._slide(this._directionToOrder(xt)),endCallback:()=>{this._config.pause==="hover"&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),500+this._config.interval))}};this._swipeHelper=new Le(this._element,q)}_keydown(q){if(/input|textarea/i.test(q.target.tagName))return;const pe=Pn[q.key];pe&&(q.preventDefault(),this._slide(this._directionToOrder(pe)))}_getItemIndex(q){return this._getItems().indexOf(q)}_setActiveIndicatorElement(q){if(!this._indicatorsElement)return;const pe=Fe.findOne(wt,this._indicatorsElement);pe.classList.remove(qt),pe.removeAttribute("aria-current");const De=Fe.findOne(`[data-bs-slide-to="${q}"]`,this._indicatorsElement);De&&(De.classList.add(qt),De.setAttribute("aria-current","true"))}_updateInterval(){const q=this._activeElement||this._getActive();if(!q)return;const pe=Number.parseInt(q.getAttribute("data-bs-interval"),10);this._config.interval=pe||this._config.defaultInterval}_slide(q,pe=null){if(this._isSliding)return;const De=this._getActive(),bt=q===Gt,at=pe||R(this._getItems(),De,bt,this._config.wrap);if(at===De)return;const Kt=this._getItemIndex(at),_n=Vn=>ie.trigger(this._element,Vn,{relatedTarget:at,direction:this._orderToDirection(q),from:this._getItemIndex(De),to:Kt});if(_n(kt).defaultPrevented||!De||!at)return;const Un=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(Kt),this._activeElement=at;const ei=bt?"carousel-item-start":"carousel-item-end",ai=bt?"carousel-item-next":"carousel-item-prev";at.classList.add(ai),_(at),De.classList.add(ei),at.classList.add(ei),this._queueCallback(()=>{at.classList.remove(ei,ai),at.classList.add(qt),De.classList.remove(qt,ai,ei),this._isSliding=!1,_n(Xt)},De,this._isAnimated()),Un&&this.cycle()}_isAnimated(){return this._element.classList.contains("slide")}_getActive(){return Fe.findOne(wn,this._element)}_getItems(){return Fe.find(dn,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(q){return u()?q===fn?on:Gt:q===fn?Gt:on}_orderToDirection(q){return u()?q===on?fn:xt:q===on?xt:fn}static jQueryInterface(q){return this.each(function(){const pe=Ei.getOrCreateInstance(this,q);if(typeof q!="number"){if(typeof q=="string"){if(pe[q]===void 0||q.startsWith("_")||q==="constructor")throw new TypeError(`No method named "${q}"`);pe[q]()}}else pe.to(q)})}}ie.on(document,Dt,"[data-bs-slide], [data-bs-slide-to]",function(Ce){const q=Fe.getElementFromSelector(this);if(!q||!q.classList.contains(Sn))return;Ce.preventDefault();const pe=Ei.getOrCreateInstance(q),De=this.getAttribute("data-bs-slide-to");return De?(pe.to(De),void pe._maybeEnableCycle()):ae.getDataAttribute(this,"slide")==="next"?(pe.next(),void pe._maybeEnableCycle()):(pe.prev(),void pe._maybeEnableCycle())}),ie.on(window,ct,()=>{const Ce=Fe.find('[data-bs-ride="carousel"]');for(const q of Ce)Ei.getOrCreateInstance(q)}),b(Ei);const Si=".bs.collapse",er=`show${Si}`,Zi=`shown${Si}`,Or=`hide${Si}`,Wr=`hidden${Si}`,jr=`click${Si}.data-api`,ti="show",rr="collapse",zi="collapsing",we=`:scope .${rr} .${rr}`,Ie='[data-bs-toggle="collapse"]',tt={parent:null,toggle:!0},Rt={parent:"(null|element)",toggle:"boolean"};class Ot extends _e{constructor(q,pe){super(q,pe),this._isTransitioning=!1,this._triggerArray=[];const De=Fe.find(Ie);for(const bt of De){const at=Fe.getSelectorFromElement(bt),Kt=Fe.find(at).filter(_n=>_n===this._element);at!==null&&Kt.length&&this._triggerArray.push(bt)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return tt}static get DefaultType(){return Rt}static get NAME(){return"collapse"}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let q=[];if(this._config.parent&&(q=this._getFirstLevelChildren(".collapse.show, .collapse.collapsing").filter(bt=>bt!==this._element).map(bt=>Ot.getOrCreateInstance(bt,{toggle:!1}))),q.length&&q[0]._isTransitioning||ie.trigger(this._element,er).defaultPrevented)return;for(const bt of q)bt.hide();const pe=this._getDimension();this._element.classList.remove(rr),this._element.classList.add(zi),this._element.style[pe]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const De=`scroll${pe[0].toUpperCase()+pe.slice(1)}`;this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(zi),this._element.classList.add(rr,ti),this._element.style[pe]="",ie.trigger(this._element,Zi)},this._element,!0),this._element.style[pe]=`${this._element[De]}px`}hide(){if(this._isTransitioning||!this._isShown()||ie.trigger(this._element,Or).defaultPrevented)return;const q=this._getDimension();this._element.style[q]=`${this._element.getBoundingClientRect()[q]}px`,_(this._element),this._element.classList.add(zi),this._element.classList.remove(rr,ti);for(const pe of this._triggerArray){const De=Fe.getElementFromSelector(pe);De&&!this._isShown(De)&&this._addAriaAndCollapsedClass([pe],!1)}this._isTransitioning=!0,this._element.style[q]="",this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(zi),this._element.classList.add(rr),ie.trigger(this._element,Wr)},this._element,!0)}_isShown(q=this._element){return q.classList.contains(ti)}_configAfterMerge(q){return q.toggle=!!q.toggle,q.parent=c(q.parent),q}_getDimension(){return this._element.classList.contains("collapse-horizontal")?"width":"height"}_initializeChildren(){if(!this._config.parent)return;const q=this._getFirstLevelChildren(Ie);for(const pe of q){const De=Fe.getElementFromSelector(pe);De&&this._addAriaAndCollapsedClass([pe],this._isShown(De))}}_getFirstLevelChildren(q){const pe=Fe.find(we,this._config.parent);return Fe.find(q,this._config.parent).filter(De=>!pe.includes(De))}_addAriaAndCollapsedClass(q,pe){if(q.length)for(const De of q)De.classList.toggle("collapsed",!pe),De.setAttribute("aria-expanded",pe)}static jQueryInterface(q){const pe={};return typeof q=="string"&&/show|hide/.test(q)&&(pe.toggle=!1),this.each(function(){const De=Ot.getOrCreateInstance(this,pe);if(typeof q=="string"){if(De[q]===void 0)throw new TypeError(`No method named "${q}"`);De[q]()}})}}ie.on(document,jr,Ie,function(Ce){(Ce.target.tagName==="A"||Ce.delegateTarget&&Ce.delegateTarget.tagName==="A")&&Ce.preventDefault();for(const q of Fe.getMultipleElementsFromSelector(this))Ot.getOrCreateInstance(q,{toggle:!1}).toggle()}),b(Ot);var Nt="top",gn="bottom",nn="right",be="left",Ge="auto",Ze=[Nt,gn,nn,be],Be="start",ut="end",Ct="clippingParents",Pt="viewport",en="popper",un="reference",In=Ze.reduce(function(Ce,q){return Ce.concat([q+"-"+Be,q+"-"+ut])},[]),Ln=[].concat(Ze,[Ge]).reduce(function(Ce,q){return Ce.concat([q,q+"-"+Be,q+"-"+ut])},[]),vn="beforeRead",Bn="read",Xn="afterRead",Di="beforeMain",Mn="main",li="afterMain",Q="beforeWrite",Ni="write",Kn="afterWrite",ci=[vn,Bn,Xn,Di,Mn,li,Q,Ni,Kn];function _t(Ce){return Ce?(Ce.nodeName||"").toLowerCase():null}function ot(Ce){if(Ce==null)return window;if(Ce.toString()!=="[object Window]"){var q=Ce.ownerDocument;return q&&q.defaultView||window}return Ce}function Cn(Ce){return Ce instanceof ot(Ce).Element||Ce instanceof Element}function Qn(Ce){return Ce instanceof ot(Ce).HTMLElement||Ce instanceof HTMLElement}function gi(Ce){return typeof ShadowRoot<"u"&&(Ce instanceof ot(Ce).ShadowRoot||Ce instanceof ShadowRoot)}const zn={name:"applyStyles",enabled:!0,phase:"write",fn:function(Ce){var q=Ce.state;Object.keys(q.elements).forEach(function(pe){var De=q.styles[pe]||{},bt=q.attributes[pe]||{},at=q.elements[pe];Qn(at)&&_t(at)&&(Object.assign(at.style,De),Object.keys(bt).forEach(function(Kt){var _n=bt[Kt];_n===!1?at.removeAttribute(Kt):at.setAttribute(Kt,_n===!0?"":_n)}))})},effect:function(Ce){var q=Ce.state,pe={popper:{position:q.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(q.elements.popper.style,pe.popper),q.styles=pe,q.elements.arrow&&Object.assign(q.elements.arrow.style,pe.arrow),function(){Object.keys(q.elements).forEach(function(De){var bt=q.elements[De],at=q.attributes[De]||{},Kt=Object.keys(q.styles.hasOwnProperty(De)?q.styles[De]:pe[De]).reduce(function(_n,Un){return _n[Un]="",_n},{});Qn(bt)&&_t(bt)&&(Object.assign(bt.style,Kt),Object.keys(at).forEach(function(_n){bt.removeAttribute(_n)}))})}},requires:["computeStyles"]};function Wi(Ce){return Ce.split("-")[0]}var Jt=Math.max,es=Math.min,xs=Math.round;function Ks(){var Ce=navigator.userAgentData;return Ce!=null&&Ce.brands&&Array.isArray(Ce.brands)?Ce.brands.map(function(q){return q.brand+"/"+q.version}).join(" "):navigator.userAgent}function Nr(){return!/^((?!chrome|android).)*safari/i.test(Ks())}function Os(Ce,q,pe){q===void 0&&(q=!1),pe===void 0&&(pe=!1);var De=Ce.getBoundingClientRect(),bt=1,at=1;q&&Qn(Ce)&&(bt=Ce.offsetWidth>0&&xs(De.width)/Ce.offsetWidth||1,at=Ce.offsetHeight>0&&xs(De.height)/Ce.offsetHeight||1);var Kt=(Cn(Ce)?ot(Ce):window).visualViewport,_n=!Nr()&&pe,Un=(De.left+(_n&&Kt?Kt.offsetLeft:0))/bt,ei=(De.top+(_n&&Kt?Kt.offsetTop:0))/at,ai=De.width/bt,Vn=De.height/at;return{width:ai,height:Vn,top:ei,right:Un+ai,bottom:ei+Vn,left:Un,x:Un,y:ei}}function Zs(Ce){var q=Os(Ce),pe=Ce.offsetWidth,De=Ce.offsetHeight;return Math.abs(q.width-pe)<=1&&(pe=q.width),Math.abs(q.height-De)<=1&&(De=q.height),{x:Ce.offsetLeft,y:Ce.offsetTop,width:pe,height:De}}function ro(Ce,q){var pe=q.getRootNode&&q.getRootNode();if(Ce.contains(q))return!0;if(pe&&gi(pe)){var De=q;do{if(De&&Ce.isSameNode(De))return!0;De=De.parentNode||De.host}while(De)}return!1}function Ss(Ce){return ot(Ce).getComputedStyle(Ce)}function _a(Ce){return["table","td","th"].indexOf(_t(Ce))>=0}function us(Ce){return((Cn(Ce)?Ce.ownerDocument:Ce.document)||window.document).documentElement}function ws(Ce){return _t(Ce)==="html"?Ce:Ce.assignedSlot||Ce.parentNode||(gi(Ce)?Ce.host:null)||us(Ce)}function ja(Ce){return Qn(Ce)&&Ss(Ce).position!=="fixed"?Ce.offsetParent:null}function na(Ce){for(var q=ot(Ce),pe=ja(Ce);pe&&_a(pe)&&Ss(pe).position==="static";)pe=ja(pe);return pe&&(_t(pe)==="html"||_t(pe)==="body"&&Ss(pe).position==="static")?q:pe||(function(De){var bt=/firefox/i.test(Ks());if(/Trident/i.test(Ks())&&Qn(De)&&Ss(De).position==="fixed")return null;var at=ws(De);for(gi(at)&&(at=at.host);Qn(at)&&["html","body"].indexOf(_t(at))<0;){var Kt=Ss(at);if(Kt.transform!=="none"||Kt.perspective!=="none"||Kt.contain==="paint"||["transform","perspective"].indexOf(Kt.willChange)!==-1||bt&&Kt.willChange==="filter"||bt&&Kt.filter&&Kt.filter!=="none")return at;at=at.parentNode}return null})(Ce)||q}function La(Ce){return["top","bottom"].indexOf(Ce)>=0?"x":"y"}function Xa(Ce,q,pe){return Jt(Ce,es(q,pe))}function Pa(Ce){return Object.assign({},{top:0,right:0,bottom:0,left:0},Ce)}function Qs(Ce,q){return q.reduce(function(pe,De){return pe[De]=Ce,pe},{})}const so={name:"arrow",enabled:!0,phase:"main",fn:function(Ce){var q,pe=Ce.state,De=Ce.name,bt=Ce.options,at=pe.elements.arrow,Kt=pe.modifiersData.popperOffsets,_n=Wi(pe.placement),Un=La(_n),ei=[be,nn].indexOf(_n)>=0?"height":"width";if(at&&Kt){var ai=(function(qr,Ar){return Pa(typeof(qr=typeof qr=="function"?qr(Object.assign({},Ar.rects,{placement:Ar.placement})):qr)!="number"?qr:Qs(qr,Ze))})(bt.padding,pe),Vn=Zs(at),Yi=Un==="y"?Nt:be,Ti=Un==="y"?gn:nn,Qi=pe.rects.reference[ei]+pe.rects.reference[Un]-Kt[Un]-pe.rects.popper[ei],Li=Kt[Un]-pe.rects.reference[Un],ji=na(at),as=ji?Un==="y"?ji.clientHeight||0:ji.clientWidth||0:0,ds=Qi/2-Li/2,or=ai[Yi],pr=as-Vn[ei]-ai[Ti],Hn=as/2-Vn[ei]/2+ds,di=Xa(or,Hn,pr),Gi=Un;pe.modifiersData[De]=((q={})[Gi]=di,q.centerOffset=di-Hn,q)}},effect:function(Ce){var q=Ce.state,pe=Ce.options.element,De=pe===void 0?"[data-popper-arrow]":pe;De!=null&&(typeof De!="string"||(De=q.elements.popper.querySelector(De)))&&ro(q.elements.popper,De)&&(q.elements.arrow=De)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function da(Ce){return Ce.split("-")[1]}var hs={top:"auto",right:"auto",bottom:"auto",left:"auto"};function ko(Ce){var q,pe=Ce.popper,De=Ce.popperRect,bt=Ce.placement,at=Ce.variation,Kt=Ce.offsets,_n=Ce.position,Un=Ce.gpuAcceleration,ei=Ce.adaptive,ai=Ce.roundOffsets,Vn=Ce.isFixed,Yi=Kt.x,Ti=Yi===void 0?0:Yi,Qi=Kt.y,Li=Qi===void 0?0:Qi,ji=typeof ai=="function"?ai({x:Ti,y:Li}):{x:Ti,y:Li};Ti=ji.x,Li=ji.y;var as=Kt.hasOwnProperty("x"),ds=Kt.hasOwnProperty("y"),or=be,pr=Nt,Hn=window;if(ei){var di=na(pe),Gi="clientHeight",qr="clientWidth";di===ot(pe)&&Ss(di=us(pe)).position!=="static"&&_n==="absolute"&&(Gi="scrollHeight",qr="scrollWidth"),(bt===Nt||(bt===be||bt===nn)&&at===ut)&&(pr=gn,Li-=(Vn&&di===Hn&&Hn.visualViewport?Hn.visualViewport.height:di[Gi])-De.height,Li*=Un?1:-1),bt!==be&&(bt!==Nt&&bt!==gn||at!==ut)||(or=nn,Ti-=(Vn&&di===Hn&&Hn.visualViewport?Hn.visualViewport.width:di[qr])-De.width,Ti*=Un?1:-1)}var Ar,Lr=Object.assign({position:_n},ei&&hs),Yr=ai===!0?(function(ca,Kr){var dl=ca.x,$r=ca.y,Sr=Kr.devicePixelRatio||1;return{x:xs(dl*Sr)/Sr||0,y:xs($r*Sr)/Sr||0}})({x:Ti,y:Li},ot(pe)):{x:Ti,y:Li};return Ti=Yr.x,Li=Yr.y,Un?Object.assign({},Lr,((Ar={})[pr]=ds?"0":"",Ar[or]=as?"0":"",Ar.transform=(Hn.devicePixelRatio||1)<=1?"translate("+Ti+"px, "+Li+"px)":"translate3d("+Ti+"px, "+Li+"px, 0)",Ar)):Object.assign({},Lr,((q={})[pr]=ds?Li+"px":"",q[or]=as?Ti+"px":"",q.transform="",q))}const So={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(Ce){var q=Ce.state,pe=Ce.options,De=pe.gpuAcceleration,bt=De===void 0||De,at=pe.adaptive,Kt=at===void 0||at,_n=pe.roundOffsets,Un=_n===void 0||_n,ei={placement:Wi(q.placement),variation:da(q.placement),popper:q.elements.popper,popperRect:q.rects.popper,gpuAcceleration:bt,isFixed:q.options.strategy==="fixed"};q.modifiersData.popperOffsets!=null&&(q.styles.popper=Object.assign({},q.styles.popper,ko(Object.assign({},ei,{offsets:q.modifiersData.popperOffsets,position:q.options.strategy,adaptive:Kt,roundOffsets:Un})))),q.modifiersData.arrow!=null&&(q.styles.arrow=Object.assign({},q.styles.arrow,ko(Object.assign({},ei,{offsets:q.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:Un})))),q.attributes.popper=Object.assign({},q.attributes.popper,{"data-popper-placement":q.placement})},data:{}};var wo={passive:!0};const ia={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(Ce){var q=Ce.state,pe=Ce.instance,De=Ce.options,bt=De.scroll,at=bt===void 0||bt,Kt=De.resize,_n=Kt===void 0||Kt,Un=ot(q.elements.popper),ei=[].concat(q.scrollParents.reference,q.scrollParents.popper);return at&&ei.forEach(function(ai){ai.addEventListener("scroll",pe.update,wo)}),_n&&Un.addEventListener("resize",pe.update,wo),function(){at&&ei.forEach(function(ai){ai.removeEventListener("scroll",pe.update,wo)}),_n&&Un.removeEventListener("resize",pe.update,wo)}},data:{}};var Es={left:"right",right:"left",bottom:"top",top:"bottom"};function Hr(Ce){return Ce.replace(/left|right|bottom|top/g,function(q){return Es[q]})}var Xr={start:"end",end:"start"};function fr(Ce){return Ce.replace(/start|end/g,function(q){return Xr[q]})}function ss(Ce){var q=ot(Ce);return{scrollLeft:q.pageXOffset,scrollTop:q.pageYOffset}}function ba(Ce){return Os(us(Ce)).left+ss(Ce).scrollLeft}function Ia(Ce){var q=Ss(Ce),pe=q.overflow,De=q.overflowX,bt=q.overflowY;return/auto|scroll|overlay|hidden/.test(pe+bt+De)}function Ls(Ce){return["html","body","#document"].indexOf(_t(Ce))>=0?Ce.ownerDocument.body:Qn(Ce)&&Ia(Ce)?Ce:Ls(ws(Ce))}function Tn(Ce,q){var pe;q===void 0&&(q=[]);var De=Ls(Ce),bt=De===((pe=Ce.ownerDocument)==null?void 0:pe.body),at=ot(De),Kt=bt?[at].concat(at.visualViewport||[],Ia(De)?De:[]):De,_n=q.concat(Kt);return bt?_n:_n.concat(Tn(ws(Kt)))}function A(Ce){return Object.assign({},Ce,{left:Ce.x,top:Ce.y,right:Ce.x+Ce.width,bottom:Ce.y+Ce.height})}function z(Ce,q,pe){return q===Pt?A((function(De,bt){var at=ot(De),Kt=us(De),_n=at.visualViewport,Un=Kt.clientWidth,ei=Kt.clientHeight,ai=0,Vn=0;if(_n){Un=_n.width,ei=_n.height;var Yi=Nr();(Yi||!Yi&&bt==="fixed")&&(ai=_n.offsetLeft,Vn=_n.offsetTop)}return{width:Un,height:ei,x:ai+ba(De),y:Vn}})(Ce,pe)):Cn(q)?(function(De,bt){var at=Os(De,!1,bt==="fixed");return at.top=at.top+De.clientTop,at.left=at.left+De.clientLeft,at.bottom=at.top+De.clientHeight,at.right=at.left+De.clientWidth,at.width=De.clientWidth,at.height=De.clientHeight,at.x=at.left,at.y=at.top,at})(q,pe):A((function(De){var bt,at=us(De),Kt=ss(De),_n=(bt=De.ownerDocument)==null?void 0:bt.body,Un=Jt(at.scrollWidth,at.clientWidth,_n?_n.scrollWidth:0,_n?_n.clientWidth:0),ei=Jt(at.scrollHeight,at.clientHeight,_n?_n.scrollHeight:0,_n?_n.clientHeight:0),ai=-Kt.scrollLeft+ba(De),Vn=-Kt.scrollTop;return Ss(_n||at).direction==="rtl"&&(ai+=Jt(at.clientWidth,_n?_n.clientWidth:0)-Un),{width:Un,height:ei,x:ai,y:Vn}})(us(Ce)))}function re(Ce){var q,pe=Ce.reference,De=Ce.element,bt=Ce.placement,at=bt?Wi(bt):null,Kt=bt?da(bt):null,_n=pe.x+pe.width/2-De.width/2,Un=pe.y+pe.height/2-De.height/2;switch(at){case Nt:q={x:_n,y:pe.y-De.height};break;case gn:q={x:_n,y:pe.y+pe.height};break;case nn:q={x:pe.x+pe.width,y:Un};break;case be:q={x:pe.x-De.width,y:Un};break;default:q={x:pe.x,y:pe.y}}var ei=at?La(at):null;if(ei!=null){var ai=ei==="y"?"height":"width";switch(Kt){case Be:q[ei]=q[ei]-(pe[ai]/2-De[ai]/2);break;case ut:q[ei]=q[ei]+(pe[ai]/2-De[ai]/2)}}return q}function te(Ce,q){q===void 0&&(q={});var pe=q,De=pe.placement,bt=De===void 0?Ce.placement:De,at=pe.strategy,Kt=at===void 0?Ce.strategy:at,_n=pe.boundary,Un=_n===void 0?Ct:_n,ei=pe.rootBoundary,ai=ei===void 0?Pt:ei,Vn=pe.elementContext,Yi=Vn===void 0?en:Vn,Ti=pe.altBoundary,Qi=Ti!==void 0&&Ti,Li=pe.padding,ji=Li===void 0?0:Li,as=Pa(typeof ji!="number"?ji:Qs(ji,Ze)),ds=Yi===en?un:en,or=Ce.rects.popper,pr=Ce.elements[Qi?ds:Yi],Hn=(function(Kr,dl,$r,Sr){var Qa=dl==="clippingParents"?(function(os){var eo=Tn(ws(os)),tl=["absolute","fixed"].indexOf(Ss(os).position)>=0&&Qn(os)?na(os):os;return Cn(tl)?eo.filter(function(ua){return Cn(ua)&&ro(ua,tl)&&_t(ua)!=="body"}):[]})(Kr):[].concat(dl),Ql=[].concat(Qa,[$r]),yh=Ql[0],Ja=Ql.reduce(function(os,eo){var tl=z(Kr,eo,Sr);return os.top=Jt(tl.top,os.top),os.right=es(tl.right,os.right),os.bottom=es(tl.bottom,os.bottom),os.left=Jt(tl.left,os.left),os},z(Kr,yh,Sr));return Ja.width=Ja.right-Ja.left,Ja.height=Ja.bottom-Ja.top,Ja.x=Ja.left,Ja.y=Ja.top,Ja})(Cn(pr)?pr:pr.contextElement||us(Ce.elements.popper),Un,ai,Kt),di=Os(Ce.elements.reference),Gi=re({reference:di,element:or,placement:bt}),qr=A(Object.assign({},or,Gi)),Ar=Yi===en?qr:di,Lr={top:Hn.top-Ar.top+as.top,bottom:Ar.bottom-Hn.bottom+as.bottom,left:Hn.left-Ar.left+as.left,right:Ar.right-Hn.right+as.right},Yr=Ce.modifiersData.offset;if(Yi===en&&Yr){var ca=Yr[bt];Object.keys(Lr).forEach(function(Kr){var dl=[nn,gn].indexOf(Kr)>=0?1:-1,$r=[Nt,gn].indexOf(Kr)>=0?"y":"x";Lr[Kr]+=ca[$r]*dl})}return Lr}function Ae(Ce,q){q===void 0&&(q={});var pe=q,De=pe.placement,bt=pe.boundary,at=pe.rootBoundary,Kt=pe.padding,_n=pe.flipVariations,Un=pe.allowedAutoPlacements,ei=Un===void 0?Ln:Un,ai=da(De),Vn=ai?_n?In:In.filter(function(Qi){return da(Qi)===ai}):Ze,Yi=Vn.filter(function(Qi){return ei.indexOf(Qi)>=0});Yi.length===0&&(Yi=Vn);var Ti=Yi.reduce(function(Qi,Li){return Qi[Li]=te(Ce,{placement:Li,boundary:bt,rootBoundary:at,padding:Kt})[Wi(Li)],Qi},{});return Object.keys(Ti).sort(function(Qi,Li){return Ti[Qi]-Ti[Li]})}const ke={name:"flip",enabled:!0,phase:"main",fn:function(Ce){var q=Ce.state,pe=Ce.options,De=Ce.name;if(!q.modifiersData[De]._skip){for(var bt=pe.mainAxis,at=bt===void 0||bt,Kt=pe.altAxis,_n=Kt===void 0||Kt,Un=pe.fallbackPlacements,ei=pe.padding,ai=pe.boundary,Vn=pe.rootBoundary,Yi=pe.altBoundary,Ti=pe.flipVariations,Qi=Ti===void 0||Ti,Li=pe.allowedAutoPlacements,ji=q.options.placement,as=Wi(ji),ds=Un||(as!==ji&&Qi?(function(os){if(Wi(os)===Ge)return[];var eo=Hr(os);return[fr(os),eo,fr(eo)]})(ji):[Hr(ji)]),or=[ji].concat(ds).reduce(function(os,eo){return os.concat(Wi(eo)===Ge?Ae(q,{placement:eo,boundary:ai,rootBoundary:Vn,padding:ei,flipVariations:Qi,allowedAutoPlacements:Li}):eo)},[]),pr=q.rects.reference,Hn=q.rects.popper,di=new Map,Gi=!0,qr=or[0],Ar=0;Ar<or.length;Ar++){var Lr=or[Ar],Yr=Wi(Lr),ca=da(Lr)===Be,Kr=[Nt,gn].indexOf(Yr)>=0,dl=Kr?"width":"height",$r=te(q,{placement:Lr,boundary:ai,rootBoundary:Vn,altBoundary:Yi,padding:ei}),Sr=Kr?ca?nn:be:ca?gn:Nt;pr[dl]>Hn[dl]&&(Sr=Hr(Sr));var Qa=Hr(Sr),Ql=[];if(at&&Ql.push($r[Yr]<=0),_n&&Ql.push($r[Sr]<=0,$r[Qa]<=0),Ql.every(function(os){return os})){qr=Lr,Gi=!1;break}di.set(Lr,Ql)}if(Gi)for(var yh=function(os){var eo=or.find(function(tl){var ua=di.get(tl);if(ua)return ua.slice(0,os).every(function(Js){return Js})});if(eo)return qr=eo,"break"},Ja=Qi?3:1;Ja>0&&yh(Ja)!=="break";Ja--);q.placement!==qr&&(q.modifiersData[De]._skip=!0,q.placement=qr,q.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function P(Ce,q,pe){return pe===void 0&&(pe={x:0,y:0}),{top:Ce.top-q.height-pe.y,right:Ce.right-q.width+pe.x,bottom:Ce.bottom-q.height+pe.y,left:Ce.left-q.width-pe.x}}function G(Ce){return[Nt,nn,gn,be].some(function(q){return Ce[q]>=0})}const Y={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(Ce){var q=Ce.state,pe=Ce.name,De=q.rects.reference,bt=q.rects.popper,at=q.modifiersData.preventOverflow,Kt=te(q,{elementContext:"reference"}),_n=te(q,{altBoundary:!0}),Un=P(Kt,De),ei=P(_n,bt,at),ai=G(Un),Vn=G(ei);q.modifiersData[pe]={referenceClippingOffsets:Un,popperEscapeOffsets:ei,isReferenceHidden:ai,hasPopperEscaped:Vn},q.attributes.popper=Object.assign({},q.attributes.popper,{"data-popper-reference-hidden":ai,"data-popper-escaped":Vn})}},se={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(Ce){var q=Ce.state,pe=Ce.options,De=Ce.name,bt=pe.offset,at=bt===void 0?[0,0]:bt,Kt=Ln.reduce(function(ai,Vn){return ai[Vn]=(function(Yi,Ti,Qi){var Li=Wi(Yi),ji=[be,Nt].indexOf(Li)>=0?-1:1,as=typeof Qi=="function"?Qi(Object.assign({},Ti,{placement:Yi})):Qi,ds=as[0],or=as[1];return ds=ds||0,or=(or||0)*ji,[be,nn].indexOf(Li)>=0?{x:or,y:ds}:{x:ds,y:or}})(Vn,q.rects,at),ai},{}),_n=Kt[q.placement],Un=_n.x,ei=_n.y;q.modifiersData.popperOffsets!=null&&(q.modifiersData.popperOffsets.x+=Un,q.modifiersData.popperOffsets.y+=ei),q.modifiersData[De]=Kt}},de={name:"popperOffsets",enabled:!0,phase:"read",fn:function(Ce){var q=Ce.state,pe=Ce.name;q.modifiersData[pe]=re({reference:q.rects.reference,element:q.rects.popper,placement:q.placement})},data:{}},le={name:"preventOverflow",enabled:!0,phase:"main",fn:function(Ce){var q=Ce.state,pe=Ce.options,De=Ce.name,bt=pe.mainAxis,at=bt===void 0||bt,Kt=pe.altAxis,_n=Kt!==void 0&&Kt,Un=pe.boundary,ei=pe.rootBoundary,ai=pe.altBoundary,Vn=pe.padding,Yi=pe.tether,Ti=Yi===void 0||Yi,Qi=pe.tetherOffset,Li=Qi===void 0?0:Qi,ji=te(q,{boundary:Un,rootBoundary:ei,padding:Vn,altBoundary:ai}),as=Wi(q.placement),ds=da(q.placement),or=!ds,pr=La(as),Hn=pr==="x"?"y":"x",di=q.modifiersData.popperOffsets,Gi=q.rects.reference,qr=q.rects.popper,Ar=typeof Li=="function"?Li(Object.assign({},q.rects,{placement:q.placement})):Li,Lr=typeof Ar=="number"?{mainAxis:Ar,altAxis:Ar}:Object.assign({mainAxis:0,altAxis:0},Ar),Yr=q.modifiersData.offset?q.modifiersData.offset[q.placement]:null,ca={x:0,y:0};if(di){if(at){var Kr,dl=pr==="y"?Nt:be,$r=pr==="y"?gn:nn,Sr=pr==="y"?"height":"width",Qa=di[pr],Ql=Qa+ji[dl],yh=Qa-ji[$r],Ja=Ti?-qr[Sr]/2:0,os=ds===Be?Gi[Sr]:qr[Sr],eo=ds===Be?-qr[Sr]:-Gi[Sr],tl=q.elements.arrow,ua=Ti&&tl?Zs(tl):{width:0,height:0},Js=q.modifiersData["arrow#persistent"]?q.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},nu=Js[dl],Dl=Js[$r],_h=Xa(0,Gi[Sr],ua[Sr]),Rm=or?Gi[Sr]/2-Ja-_h-nu-Lr.mainAxis:os-_h-nu-Lr.mainAxis,iu=or?-Gi[Sr]/2+Ja+_h+Dl+Lr.mainAxis:eo+_h+Dl+Lr.mainAxis,Lc=q.elements.arrow&&na(q.elements.arrow),Om=Lc?pr==="y"?Lc.clientTop||0:Lc.clientLeft||0:0,yp=(Kr=Yr?.[pr])!=null?Kr:0,sv=Qa+iu-yp,bh=Xa(Ti?es(Ql,Qa+Rm-yp-Om):Ql,Qa,Ti?Jt(yh,sv):yh);di[pr]=bh,ca[pr]=bh-Qa}if(_n){var Lm,av=pr==="x"?Nt:be,ov=pr==="x"?gn:nn,Du=di[Hn],ad=Hn==="y"?"height":"width",Pm=Du+ji[av],lv=Du-ji[ov],_p=[Nt,be].indexOf(as)!==-1,Im=(Lm=Yr?.[Hn])!=null?Lm:0,Dm=_p?Pm:Du-Gi[ad]-qr[ad]-Im+Lr.altAxis,bp=_p?Du+Gi[ad]+qr[ad]-Im-Lr.altAxis:lv,Nm=Ti&&_p?(function(Fm,cv,xp){var Um=Xa(Fm,cv,xp);return Um>xp?xp:Um})(Dm,Du,bp):Xa(Ti?Dm:Pm,Du,Ti?bp:lv);di[Hn]=Nm,ca[Hn]=Nm-Du}q.modifiersData[De]=ca}},requiresIfExists:["offset"]};function Se(Ce,q,pe){pe===void 0&&(pe=!1);var De,bt,at=Qn(q),Kt=Qn(q)&&(function(Vn){var Yi=Vn.getBoundingClientRect(),Ti=xs(Yi.width)/Vn.offsetWidth||1,Qi=xs(Yi.height)/Vn.offsetHeight||1;return Ti!==1||Qi!==1})(q),_n=us(q),Un=Os(Ce,Kt,pe),ei={scrollLeft:0,scrollTop:0},ai={x:0,y:0};return(at||!at&&!pe)&&((_t(q)!=="body"||Ia(_n))&&(ei=(De=q)!==ot(De)&&Qn(De)?{scrollLeft:(bt=De).scrollLeft,scrollTop:bt.scrollTop}:ss(De)),Qn(q)?((ai=Os(q,!0)).x+=q.clientLeft,ai.y+=q.clientTop):_n&&(ai.x=ba(_n))),{x:Un.left+ei.scrollLeft-ai.x,y:Un.top+ei.scrollTop-ai.y,width:Un.width,height:Un.height}}function je(Ce){var q=new Map,pe=new Set,De=[];function bt(at){pe.add(at.name),[].concat(at.requires||[],at.requiresIfExists||[]).forEach(function(Kt){if(!pe.has(Kt)){var _n=q.get(Kt);_n&&bt(_n)}}),De.push(at)}return Ce.forEach(function(at){q.set(at.name,at)}),Ce.forEach(function(at){pe.has(at.name)||bt(at)}),De}var ze={placement:"bottom",modifiers:[],strategy:"absolute"};function dt(){for(var Ce=arguments.length,q=new Array(Ce),pe=0;pe<Ce;pe++)q[pe]=arguments[pe];return!q.some(function(De){return!(De&&typeof De.getBoundingClientRect=="function")})}function $t(Ce){Ce===void 0&&(Ce={});var q=Ce,pe=q.defaultModifiers,De=pe===void 0?[]:pe,bt=q.defaultOptions,at=bt===void 0?ze:bt;return function(Kt,_n,Un){Un===void 0&&(Un=at);var ei,ai,Vn={placement:"bottom",orderedModifiers:[],options:Object.assign({},ze,at),modifiersData:{},elements:{reference:Kt,popper:_n},attributes:{},styles:{}},Yi=[],Ti=!1,Qi={state:Vn,setOptions:function(ji){var as=typeof ji=="function"?ji(Vn.options):ji;Li(),Vn.options=Object.assign({},at,Vn.options,as),Vn.scrollParents={reference:Cn(Kt)?Tn(Kt):Kt.contextElement?Tn(Kt.contextElement):[],popper:Tn(_n)};var ds,or,pr=(function(Hn){var di=je(Hn);return ci.reduce(function(Gi,qr){return Gi.concat(di.filter(function(Ar){return Ar.phase===qr}))},[])})((ds=[].concat(De,Vn.options.modifiers),or=ds.reduce(function(Hn,di){var Gi=Hn[di.name];return Hn[di.name]=Gi?Object.assign({},Gi,di,{options:Object.assign({},Gi.options,di.options),data:Object.assign({},Gi.data,di.data)}):di,Hn},{}),Object.keys(or).map(function(Hn){return or[Hn]})));return Vn.orderedModifiers=pr.filter(function(Hn){return Hn.enabled}),Vn.orderedModifiers.forEach(function(Hn){var di=Hn.name,Gi=Hn.options,qr=Gi===void 0?{}:Gi,Ar=Hn.effect;if(typeof Ar=="function"){var Lr=Ar({state:Vn,name:di,instance:Qi,options:qr});Yi.push(Lr||function(){})}}),Qi.update()},forceUpdate:function(){if(!Ti){var ji=Vn.elements,as=ji.reference,ds=ji.popper;if(dt(as,ds)){Vn.rects={reference:Se(as,na(ds),Vn.options.strategy==="fixed"),popper:Zs(ds)},Vn.reset=!1,Vn.placement=Vn.options.placement,Vn.orderedModifiers.forEach(function(Ar){return Vn.modifiersData[Ar.name]=Object.assign({},Ar.data)});for(var or=0;or<Vn.orderedModifiers.length;or++)if(Vn.reset!==!0){var pr=Vn.orderedModifiers[or],Hn=pr.fn,di=pr.options,Gi=di===void 0?{}:di,qr=pr.name;typeof Hn=="function"&&(Vn=Hn({state:Vn,options:Gi,name:qr,instance:Qi})||Vn)}else Vn.reset=!1,or=-1}}},update:(ei=function(){return new Promise(function(ji){Qi.forceUpdate(),ji(Vn)})},function(){return ai||(ai=new Promise(function(ji){Promise.resolve().then(function(){ai=void 0,ji(ei())})})),ai}),destroy:function(){Li(),Ti=!0}};if(!dt(Kt,_n))return Qi;function Li(){Yi.forEach(function(ji){return ji()}),Yi=[]}return Qi.setOptions(Un).then(function(ji){!Ti&&Un.onFirstUpdate&&Un.onFirstUpdate(ji)}),Qi}}var rn=$t(),It=$t({defaultModifiers:[ia,de,So,zn]}),yn=$t({defaultModifiers:[ia,de,So,zn,se,ke,le,so,Y]});const hi=Object.freeze(Object.defineProperty({__proto__:null,afterMain:li,afterRead:Xn,afterWrite:Kn,applyStyles:zn,arrow:so,auto:Ge,basePlacements:Ze,beforeMain:Di,beforeRead:vn,beforeWrite:Q,bottom:gn,clippingParents:Ct,computeStyles:So,createPopper:yn,createPopperBase:rn,createPopperLite:It,detectOverflow:te,end:ut,eventListeners:ia,flip:ke,hide:Y,left:be,main:Mn,modifierPhases:ci,offset:se,placements:Ln,popper:en,popperGenerator:$t,popperOffsets:de,preventOverflow:le,read:Bn,reference:un,right:nn,start:Be,top:Nt,variationPlacements:In,viewport:Pt,write:Ni},Symbol.toStringTag,{value:"Module"})),Ee="dropdown",Re=".bs.dropdown",Xe=".data-api",Ue="ArrowUp",He="ArrowDown",an=`hide${Re}`,tn=`hidden${Re}`,hn=`show${Re}`,An=`shown${Re}`,Nn=`click${Re}${Xe}`,vi=`keydown${Re}${Xe}`,nr=`keyup${Re}${Xe}`,fi="show",Fr='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',sr=`${Fr}.${fi}`,Rn=".dropdown-menu",yi=u()?"top-end":"top-start",si=u()?"top-start":"top-end",ni=u()?"bottom-end":"bottom-start",wi=u()?"bottom-start":"bottom-end",bi=u()?"left-start":"right-start",fa=u()?"right-start":"left-start",Eo={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},Da={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class Fi extends _e{constructor(q,pe){super(q,pe),this._popper=null,this._parent=this._element.parentNode,this._menu=Fe.next(this._element,Rn)[0]||Fe.prev(this._element,Rn)[0]||Fe.findOne(Rn,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return Eo}static get DefaultType(){return Da}static get NAME(){return Ee}toggle(){return this._isShown()?this.hide():this.show()}show(){if(h(this._element)||this._isShown())return;const q={relatedTarget:this._element};if(!ie.trigger(this._element,hn,q).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(".navbar-nav"))for(const pe of[].concat(...document.body.children))ie.on(pe,"mouseover",m);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(fi),this._element.classList.add(fi),ie.trigger(this._element,An,q)}}hide(){if(h(this._element)||!this._isShown())return;const q={relatedTarget:this._element};this._completeHide(q)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(q){if(!ie.trigger(this._element,an,q).defaultPrevented){if("ontouchstart"in document.documentElement)for(const pe of[].concat(...document.body.children))ie.off(pe,"mouseover",m);this._popper&&this._popper.destroy(),this._menu.classList.remove(fi),this._element.classList.remove(fi),this._element.setAttribute("aria-expanded","false"),ae.removeDataAttribute(this._menu,"popper"),ie.trigger(this._element,tn,q)}}_getConfig(q){if(typeof(q=super._getConfig(q)).reference=="object"&&!l(q.reference)&&typeof q.reference.getBoundingClientRect!="function")throw new TypeError(`${Ee.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return q}_createPopper(){if(hi===void 0)throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org/docs/v2/)");let q=this._element;this._config.reference==="parent"?q=this._parent:l(this._config.reference)?q=c(this._config.reference):typeof this._config.reference=="object"&&(q=this._config.reference);const pe=this._getPopperConfig();this._popper=yn(q,this._menu,pe)}_isShown(){return this._menu.classList.contains(fi)}_getPlacement(){const q=this._parent;if(q.classList.contains("dropend"))return bi;if(q.classList.contains("dropstart"))return fa;if(q.classList.contains("dropup-center"))return"top";if(q.classList.contains("dropdown-center"))return"bottom";const pe=getComputedStyle(this._menu).getPropertyValue("--bs-position").trim()==="end";return q.classList.contains("dropup")?pe?si:yi:pe?wi:ni}_detectNavbar(){return this._element.closest(".navbar")!==null}_getOffset(){const{offset:q}=this._config;return typeof q=="string"?q.split(",").map(pe=>Number.parseInt(pe,10)):typeof q=="function"?pe=>q(pe,this._element):q}_getPopperConfig(){const q={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||this._config.display==="static")&&(ae.setDataAttribute(this._menu,"popper","static"),q.modifiers=[{name:"applyStyles",enabled:!1}]),{...q,...S(this._config.popperConfig,[void 0,q])}}_selectMenuItem({key:q,target:pe}){const De=Fe.find(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",this._menu).filter(bt=>f(bt));De.length&&R(De,pe,q===He,!De.includes(pe)).focus()}static jQueryInterface(q){return this.each(function(){const pe=Fi.getOrCreateInstance(this,q);if(typeof q=="string"){if(pe[q]===void 0)throw new TypeError(`No method named "${q}"`);pe[q]()}})}static clearMenus(q){if(q.button===2||q.type==="keyup"&&q.key!=="Tab")return;const pe=Fe.find(sr);for(const De of pe){const bt=Fi.getInstance(De);if(!bt||bt._config.autoClose===!1)continue;const at=q.composedPath(),Kt=at.includes(bt._menu);if(at.includes(bt._element)||bt._config.autoClose==="inside"&&!Kt||bt._config.autoClose==="outside"&&Kt||bt._menu.contains(q.target)&&(q.type==="keyup"&&q.key==="Tab"||/input|select|option|textarea|form/i.test(q.target.tagName)))continue;const _n={relatedTarget:bt._element};q.type==="click"&&(_n.clickEvent=q),bt._completeHide(_n)}}static dataApiKeydownHandler(q){const pe=/input|textarea/i.test(q.target.tagName),De=q.key==="Escape",bt=[Ue,He].includes(q.key);if(!bt&&!De||pe&&!De)return;q.preventDefault();const at=this.matches(Fr)?this:Fe.prev(this,Fr)[0]||Fe.next(this,Fr)[0]||Fe.findOne(Fr,q.delegateTarget.parentNode),Kt=Fi.getOrCreateInstance(at);if(bt)return q.stopPropagation(),Kt.show(),void Kt._selectMenuItem(q);Kt._isShown()&&(q.stopPropagation(),Kt.hide(),at.focus())}}ie.on(document,vi,Fr,Fi.dataApiKeydownHandler),ie.on(document,vi,Rn,Fi.dataApiKeydownHandler),ie.on(document,Nn,Fi.clearMenus),ie.on(document,nr,Fi.clearMenus),ie.on(document,Nn,Fr,function(Ce){Ce.preventDefault(),Fi.getOrCreateInstance(this).toggle()}),b(Fi);const Co="backdrop",qa="show",ao=`mousedown.bs.${Co}`,lr={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},Cs={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class ts extends ve{constructor(q){super(),this._config=this._getConfig(q),this._isAppended=!1,this._element=null}static get Default(){return lr}static get DefaultType(){return Cs}static get NAME(){return Co}show(q){if(!this._config.isVisible)return void S(q);this._append();const pe=this._getElement();this._config.isAnimated&&_(pe),pe.classList.add(qa),this._emulateAnimation(()=>{S(q)})}hide(q){this._config.isVisible?(this._getElement().classList.remove(qa),this._emulateAnimation(()=>{this.dispose(),S(q)})):S(q)}dispose(){this._isAppended&&(ie.off(this._element,ao),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const q=document.createElement("div");q.className=this._config.className,this._config.isAnimated&&q.classList.add("fade"),this._element=q}return this._element}_configAfterMerge(q){return q.rootElement=c(q.rootElement),q}_append(){if(this._isAppended)return;const q=this._getElement();this._config.rootElement.append(q),ie.on(q,ao,()=>{S(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(q){T(q,this._getElement(),this._config.isAnimated)}}const ns=".bs.focustrap",Bs=`focusin${ns}`,ui=`keydown.tab${ns}`,oo="backward",ra={autofocus:!0,trapElement:null},To={autofocus:"boolean",trapElement:"element"};class xa extends ve{constructor(q){super(),this._config=this._getConfig(q),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return ra}static get DefaultType(){return To}static get NAME(){return"focustrap"}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),ie.off(document,ns),ie.on(document,Bs,q=>this._handleFocusin(q)),ie.on(document,ui,q=>this._handleKeydown(q)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,ie.off(document,ns))}_handleFocusin(q){const{trapElement:pe}=this._config;if(q.target===document||q.target===pe||pe.contains(q.target))return;const De=Fe.focusableChildren(pe);De.length===0?pe.focus():this._lastTabNavDirection===oo?De[De.length-1].focus():De[0].focus()}_handleKeydown(q){q.key==="Tab"&&(this._lastTabNavDirection=q.shiftKey?oo:"forward")}}const Ps=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",Yd=".sticky-top",sa="padding-right",Ao="margin-right";class Sa{constructor(){this._element=document.body}getWidth(){const q=document.documentElement.clientWidth;return Math.abs(window.innerWidth-q)}hide(){const q=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,sa,pe=>pe+q),this._setElementAttributes(Ps,sa,pe=>pe+q),this._setElementAttributes(Yd,Ao,pe=>pe-q)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,sa),this._resetElementAttributes(Ps,sa),this._resetElementAttributes(Yd,Ao)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(q,pe,De){const bt=this.getWidth();this._applyManipulationCallback(q,at=>{if(at!==this._element&&window.innerWidth>at.clientWidth+bt)return;this._saveInitialAttribute(at,pe);const Kt=window.getComputedStyle(at).getPropertyValue(pe);at.style.setProperty(pe,`${De(Number.parseFloat(Kt))}px`)})}_saveInitialAttribute(q,pe){const De=q.style.getPropertyValue(pe);De&&ae.setDataAttribute(q,pe,De)}_resetElementAttributes(q,pe){this._applyManipulationCallback(q,De=>{const bt=ae.getDataAttribute(De,pe);bt!==null?(ae.removeDataAttribute(De,pe),De.style.setProperty(pe,bt)):De.style.removeProperty(pe)})}_applyManipulationCallback(q,pe){if(l(q))pe(q);else for(const De of Fe.find(q,this._element))pe(De)}}const Mo=".bs.modal",hh=`hide${Mo}`,Jh=`hidePrevented${Mo}`,$e=`hidden${Mo}`,pt=`show${Mo}`,Lt=`shown${Mo}`,Vt=`resize${Mo}`,sn=`click.dismiss${Mo}`,Fn=`mousedown.dismiss${Mo}`,jn=`keydown.dismiss${Mo}`,$n=`click${Mo}.data-api`,Gn="modal-open",ir="show",Mi="modal-static",Ci={backdrop:!0,focus:!0,keyboard:!0},Ri={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class pi extends _e{constructor(q,pe){super(q,pe),this._dialog=Fe.findOne(".modal-dialog",this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new Sa,this._addEventListeners()}static get Default(){return Ci}static get DefaultType(){return Ri}static get NAME(){return"modal"}toggle(q){return this._isShown?this.hide():this.show(q)}show(q){this._isShown||this._isTransitioning||ie.trigger(this._element,pt,{relatedTarget:q}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(Gn),this._adjustDialog(),this._backdrop.show(()=>this._showElement(q)))}hide(){this._isShown&&!this._isTransitioning&&(ie.trigger(this._element,hh).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(ir),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated())))}dispose(){ie.off(window,Mo),ie.off(this._dialog,Mo),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new ts({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new xa({trapElement:this._element})}_showElement(q){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const pe=Fe.findOne(".modal-body",this._dialog);pe&&(pe.scrollTop=0),_(this._element),this._element.classList.add(ir),this._queueCallback(()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,ie.trigger(this._element,Lt,{relatedTarget:q})},this._dialog,this._isAnimated())}_addEventListeners(){ie.on(this._element,jn,q=>{q.key==="Escape"&&(this._config.keyboard?this.hide():this._triggerBackdropTransition())}),ie.on(window,Vt,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),ie.on(this._element,Fn,q=>{ie.one(this._element,sn,pe=>{this._element===q.target&&this._element===pe.target&&(this._config.backdrop!=="static"?this._config.backdrop&&this.hide():this._triggerBackdropTransition())})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(Gn),this._resetAdjustments(),this._scrollBar.reset(),ie.trigger(this._element,$e)})}_isAnimated(){return this._element.classList.contains("fade")}_triggerBackdropTransition(){if(ie.trigger(this._element,Jh).defaultPrevented)return;const q=this._element.scrollHeight>document.documentElement.clientHeight,pe=this._element.style.overflowY;pe==="hidden"||this._element.classList.contains(Mi)||(q||(this._element.style.overflowY="hidden"),this._element.classList.add(Mi),this._queueCallback(()=>{this._element.classList.remove(Mi),this._queueCallback(()=>{this._element.style.overflowY=pe},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const q=this._element.scrollHeight>document.documentElement.clientHeight,pe=this._scrollBar.getWidth(),De=pe>0;if(De&&!q){const bt=u()?"paddingLeft":"paddingRight";this._element.style[bt]=`${pe}px`}if(!De&&q){const bt=u()?"paddingRight":"paddingLeft";this._element.style[bt]=`${pe}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(q,pe){return this.each(function(){const De=pi.getOrCreateInstance(this,q);if(typeof q=="string"){if(De[q]===void 0)throw new TypeError(`No method named "${q}"`);De[q](pe)}})}}ie.on(document,$n,'[data-bs-toggle="modal"]',function(Ce){const q=Fe.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&Ce.preventDefault(),ie.one(q,pt,De=>{De.defaultPrevented||ie.one(q,$e,()=>{f(this)&&this.focus()})});const pe=Fe.findOne(".modal.show");pe&&pi.getInstance(pe).hide(),pi.getOrCreateInstance(q).toggle(this)}),We(pi),b(pi);const Ui=".bs.offcanvas",Ya=".data-api",Ts=`load${Ui}${Ya}`,wa="show",pa="showing",Rl="hiding",aa=".offcanvas.show",Ka=`show${Ui}`,Sm=`shown${Ui}`,lo=`hide${Ui}`,co=`hidePrevented${Ui}`,ul=`hidden${Ui}`,op=`resize${Ui}`,Kd=`click${Ui}${Ya}`,Eu=`keydown.dismiss${Ui}`,lp={backdrop:!0,keyboard:!0,scroll:!1},Qc={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class ql extends _e{constructor(q,pe){super(q,pe),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return lp}static get DefaultType(){return Qc}static get NAME(){return"offcanvas"}toggle(q){return this._isShown?this.hide():this.show(q)}show(q){this._isShown||ie.trigger(this._element,Ka,{relatedTarget:q}).defaultPrevented||(this._isShown=!0,this._backdrop.show(),this._config.scroll||new Sa().hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(pa),this._queueCallback(()=>{this._config.scroll&&!this._config.backdrop||this._focustrap.activate(),this._element.classList.add(wa),this._element.classList.remove(pa),ie.trigger(this._element,Sm,{relatedTarget:q})},this._element,!0))}hide(){this._isShown&&(ie.trigger(this._element,lo).defaultPrevented||(this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(Rl),this._backdrop.hide(),this._queueCallback(()=>{this._element.classList.remove(wa,Rl),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||new Sa().reset(),ie.trigger(this._element,ul)},this._element,!0)))}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const q=!!this._config.backdrop;return new ts({className:"offcanvas-backdrop",isVisible:q,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:q?()=>{this._config.backdrop!=="static"?this.hide():ie.trigger(this._element,co)}:null})}_initializeFocusTrap(){return new xa({trapElement:this._element})}_addEventListeners(){ie.on(this._element,Eu,q=>{q.key==="Escape"&&(this._config.keyboard?this.hide():ie.trigger(this._element,co))})}static jQueryInterface(q){return this.each(function(){const pe=ql.getOrCreateInstance(this,q);if(typeof q=="string"){if(pe[q]===void 0||q.startsWith("_")||q==="constructor")throw new TypeError(`No method named "${q}"`);pe[q](this)}})}}ie.on(document,Kd,'[data-bs-toggle="offcanvas"]',function(Ce){const q=Fe.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&Ce.preventDefault(),h(this))return;ie.one(q,ul,()=>{f(this)&&this.focus()});const pe=Fe.findOne(aa);pe&&pe!==q&&ql.getInstance(pe).hide(),ql.getOrCreateInstance(q).toggle(this)}),ie.on(window,Ts,()=>{for(const Ce of Fe.find(aa))ql.getOrCreateInstance(Ce).show()}),ie.on(window,op,()=>{for(const Ce of Fe.find("[aria-modal][class*=show][class*=offcanvas-]"))getComputedStyle(Ce).position!=="fixed"&&ql.getOrCreateInstance(Ce).hide()}),We(ql),b(ql);const dh={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],dd:[],div:[],dl:[],dt:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},Cu=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),wm=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,Qo=(Ce,q)=>{const pe=Ce.nodeName.toLowerCase();return q.includes(pe)?!Cu.has(pe)||!!wm.test(Ce.nodeValue):q.filter(De=>De instanceof RegExp).some(De=>De.test(pe))},Zd={allowList:dh,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},ma={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},Em={entry:"(string|element|function|null)",selector:"(string|element)"};class Za extends ve{constructor(q){super(),this._config=this._getConfig(q)}static get Default(){return Zd}static get DefaultType(){return ma}static get NAME(){return"TemplateFactory"}getContent(){return Object.values(this._config.content).map(q=>this._resolvePossibleFunction(q)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(q){return this._checkContent(q),this._config.content={...this._config.content,...q},this}toHtml(){const q=document.createElement("div");q.innerHTML=this._maybeSanitize(this._config.template);for(const[bt,at]of Object.entries(this._config.content))this._setContent(q,at,bt);const pe=q.children[0],De=this._resolvePossibleFunction(this._config.extraClass);return De&&pe.classList.add(...De.split(" ")),pe}_typeCheckConfig(q){super._typeCheckConfig(q),this._checkContent(q.content)}_checkContent(q){for(const[pe,De]of Object.entries(q))super._typeCheckConfig({selector:pe,entry:De},Em)}_setContent(q,pe,De){const bt=Fe.findOne(De,q);bt&&((pe=this._resolvePossibleFunction(pe))?l(pe)?this._putElementInTemplate(c(pe),bt):this._config.html?bt.innerHTML=this._maybeSanitize(pe):bt.textContent=pe:bt.remove())}_maybeSanitize(q){return this._config.sanitize?(function(pe,De,bt){if(!pe.length)return pe;if(bt&&typeof bt=="function")return bt(pe);const at=new window.DOMParser().parseFromString(pe,"text/html"),Kt=[].concat(...at.body.querySelectorAll("*"));for(const _n of Kt){const Un=_n.nodeName.toLowerCase();if(!Object.keys(De).includes(Un)){_n.remove();continue}const ei=[].concat(..._n.attributes),ai=[].concat(De["*"]||[],De[Un]||[]);for(const Vn of ei)Qo(Vn,ai)||_n.removeAttribute(Vn.nodeName)}return at.body.innerHTML})(q,this._config.allowList,this._config.sanitizeFn):q}_resolvePossibleFunction(q){return S(q,[void 0,this])}_putElementInTemplate(q,pe){if(this._config.html)return pe.innerHTML="",void pe.append(q);pe.textContent=q.textContent}}const Tu=new Set(["sanitize","allowList","sanitizeFn"]),fh="fade",ph="show",ed=".tooltip-inner",Bo=".modal",td="hide.bs.modal",Mc="hover",Na="focus",zo="click",Au={AUTO:"auto",TOP:"top",RIGHT:u()?"left":"right",BOTTOM:"bottom",LEFT:u()?"right":"left"},Rc={allowList:dh,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},Oc={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class Go extends _e{constructor(q,pe){if(hi===void 0)throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org/docs/v2/)");super(q,pe),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return Rc}static get DefaultType(){return Oc}static get NAME(){return"tooltip"}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){this._isEnabled&&(this._isShown()?this._leave():this._enter())}dispose(){clearTimeout(this._timeout),ie.off(this._element.closest(Bo),td,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if(this._element.style.display==="none")throw new Error("Please use show on visible elements");if(!this._isWithContent()||!this._isEnabled)return;const q=ie.trigger(this._element,this.constructor.eventName("show")),pe=(v(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(q.defaultPrevented||!pe)return;this._disposePopper();const De=this._getTipElement();this._element.setAttribute("aria-describedby",De.getAttribute("id"));const{container:bt}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(bt.append(De),ie.trigger(this._element,this.constructor.eventName("inserted"))),this._popper=this._createPopper(De),De.classList.add(ph),"ontouchstart"in document.documentElement)for(const at of[].concat(...document.body.children))ie.on(at,"mouseover",m);this._queueCallback(()=>{ie.trigger(this._element,this.constructor.eventName("shown")),this._isHovered===!1&&this._leave(),this._isHovered=!1},this.tip,this._isAnimated())}hide(){if(this._isShown()&&!ie.trigger(this._element,this.constructor.eventName("hide")).defaultPrevented){if(this._getTipElement().classList.remove(ph),"ontouchstart"in document.documentElement)for(const q of[].concat(...document.body.children))ie.off(q,"mouseover",m);this._activeTrigger[zo]=!1,this._activeTrigger[Na]=!1,this._activeTrigger[Mc]=!1,this._isHovered=null,this._queueCallback(()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),ie.trigger(this._element,this.constructor.eventName("hidden")))},this.tip,this._isAnimated())}}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(q){const pe=this._getTemplateFactory(q).toHtml();if(!pe)return null;pe.classList.remove(fh,ph),pe.classList.add(`bs-${this.constructor.NAME}-auto`);const De=(bt=>{do bt+=Math.floor(1e6*Math.random());while(document.getElementById(bt));return bt})(this.constructor.NAME).toString();return pe.setAttribute("id",De),this._isAnimated()&&pe.classList.add(fh),pe}setContent(q){this._newContent=q,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(q){return this._templateFactory?this._templateFactory.changeContent(q):this._templateFactory=new Za({...this._config,content:q,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{[ed]:this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(q){return this.constructor.getOrCreateInstance(q.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(fh)}_isShown(){return this.tip&&this.tip.classList.contains(ph)}_createPopper(q){const pe=S(this._config.placement,[this,q,this._element]),De=Au[pe.toUpperCase()];return yn(this._element,q,this._getPopperConfig(De))}_getOffset(){const{offset:q}=this._config;return typeof q=="string"?q.split(",").map(pe=>Number.parseInt(pe,10)):typeof q=="function"?pe=>q(pe,this._element):q}_resolvePossibleFunction(q){return S(q,[this._element,this._element])}_getPopperConfig(q){const pe={placement:q,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:De=>{this._getTipElement().setAttribute("data-popper-placement",De.state.placement)}}]};return{...pe,...S(this._config.popperConfig,[void 0,pe])}}_setListeners(){const q=this._config.trigger.split(" ");for(const pe of q)if(pe==="click")ie.on(this._element,this.constructor.eventName("click"),this._config.selector,De=>{const bt=this._initializeOnDelegatedTarget(De);bt._activeTrigger[zo]=!(bt._isShown()&&bt._activeTrigger[zo]),bt.toggle()});else if(pe!=="manual"){const De=pe===Mc?this.constructor.eventName("mouseenter"):this.constructor.eventName("focusin"),bt=pe===Mc?this.constructor.eventName("mouseleave"):this.constructor.eventName("focusout");ie.on(this._element,De,this._config.selector,at=>{const Kt=this._initializeOnDelegatedTarget(at);Kt._activeTrigger[at.type==="focusin"?Na:Mc]=!0,Kt._enter()}),ie.on(this._element,bt,this._config.selector,at=>{const Kt=this._initializeOnDelegatedTarget(at);Kt._activeTrigger[at.type==="focusout"?Na:Mc]=Kt._element.contains(at.relatedTarget),Kt._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},ie.on(this._element.closest(Bo),td,this._hideModalHandler)}_fixTitle(){const q=this._element.getAttribute("title");q&&(this._element.getAttribute("aria-label")||this._element.textContent.trim()||this._element.setAttribute("aria-label",q),this._element.setAttribute("data-bs-original-title",q),this._element.removeAttribute("title"))}_enter(){this._isShown()||this._isHovered?this._isHovered=!0:(this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show))}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(q,pe){clearTimeout(this._timeout),this._timeout=setTimeout(q,pe)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(q){const pe=ae.getDataAttributes(this._element);for(const De of Object.keys(pe))Tu.has(De)&&delete pe[De];return q={...pe,...typeof q=="object"&&q?q:{}},q=this._mergeConfigObj(q),q=this._configAfterMerge(q),this._typeCheckConfig(q),q}_configAfterMerge(q){return q.container=q.container===!1?document.body:c(q.container),typeof q.delay=="number"&&(q.delay={show:q.delay,hide:q.delay}),typeof q.title=="number"&&(q.title=q.title.toString()),typeof q.content=="number"&&(q.content=q.content.toString()),q}_getDelegateConfig(){const q={};for(const[pe,De]of Object.entries(this._config))this.constructor.Default[pe]!==De&&(q[pe]=De);return q.selector=!1,q.trigger="manual",q}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(q){return this.each(function(){const pe=Go.getOrCreateInstance(this,q);if(typeof q=="string"){if(pe[q]===void 0)throw new TypeError(`No method named "${q}"`);pe[q]()}})}}b(Go);const cp=".popover-header",Cm=".popover-body",Tm={...Go.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},Ho={...Go.DefaultType,content:"(null|string|element|function)"};class As extends Go{static get Default(){return Tm}static get DefaultType(){return Ho}static get NAME(){return"popover"}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{[cp]:this._getTitle(),[Cm]:this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(q){return this.each(function(){const pe=As.getOrCreateInstance(this,q);if(typeof q=="string"){if(pe[q]===void 0)throw new TypeError(`No method named "${q}"`);pe[q]()}})}}b(As);const Ur=".bs.scrollspy",Ol=`activate${Ur}`,Jo=`click${Ur}`,up=`load${Ur}.data-api`,hl="active",hp="[href]",dp=".nav-link",Yl=`${dp}, .nav-item > ${dp}, .list-group-item`,nd={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},is={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class Kl extends _e{constructor(q,pe){super(q,pe),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement=getComputedStyle(this._element).overflowY==="visible"?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return nd}static get DefaultType(){return is}static get NAME(){return"scrollspy"}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const q of this._observableSections.values())this._observer.observe(q)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(q){return q.target=c(q.target)||document.body,q.rootMargin=q.offset?`${q.offset}px 0px -30%`:q.rootMargin,typeof q.threshold=="string"&&(q.threshold=q.threshold.split(",").map(pe=>Number.parseFloat(pe))),q}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(ie.off(this._config.target,Jo),ie.on(this._config.target,Jo,hp,q=>{const pe=this._observableSections.get(q.target.hash);if(pe){q.preventDefault();const De=this._rootElement||window,bt=pe.offsetTop-this._element.offsetTop;if(De.scrollTo)return void De.scrollTo({top:bt,behavior:"smooth"});De.scrollTop=bt}}))}_getNewObserver(){const q={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver(pe=>this._observerCallback(pe),q)}_observerCallback(q){const pe=Kt=>this._targetLinks.get(`#${Kt.target.id}`),De=Kt=>{this._previousScrollData.visibleEntryTop=Kt.target.offsetTop,this._process(pe(Kt))},bt=(this._rootElement||document.documentElement).scrollTop,at=bt>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=bt;for(const Kt of q){if(!Kt.isIntersecting){this._activeTarget=null,this._clearActiveClass(pe(Kt));continue}const _n=Kt.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(at&&_n){if(De(Kt),!bt)return}else at||_n||De(Kt)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const q=Fe.find(hp,this._config.target);for(const pe of q){if(!pe.hash||h(pe))continue;const De=Fe.findOne(decodeURI(pe.hash),this._element);f(De)&&(this._targetLinks.set(decodeURI(pe.hash),pe),this._observableSections.set(pe.hash,De))}}_process(q){this._activeTarget!==q&&(this._clearActiveClass(this._config.target),this._activeTarget=q,q.classList.add(hl),this._activateParents(q),ie.trigger(this._element,Ol,{relatedTarget:q}))}_activateParents(q){if(q.classList.contains("dropdown-item"))Fe.findOne(".dropdown-toggle",q.closest(".dropdown")).classList.add(hl);else for(const pe of Fe.parents(q,".nav, .list-group"))for(const De of Fe.prev(pe,Yl))De.classList.add(hl)}_clearActiveClass(q){q.classList.remove(hl);const pe=Fe.find(`${hp}.${hl}`,q);for(const De of pe)De.classList.remove(hl)}static jQueryInterface(q){return this.each(function(){const pe=Kl.getOrCreateInstance(this,q);if(typeof q=="string"){if(pe[q]===void 0||q.startsWith("_")||q==="constructor")throw new TypeError(`No method named "${q}"`);pe[q]()}})}}ie.on(window,up,()=>{for(const Ce of Fe.find('[data-bs-spy="scroll"]'))Kl.getOrCreateInstance(Ce)}),b(Kl);const Jc=".bs.tab",Mu=`hide${Jc}`,eu=`hidden${Jc}`,Ru=`show${Jc}`,tu=`shown${Jc}`,Am=`click${Jc}`,Qd=`keydown${Jc}`,Ll=`load${Jc}`,Jd="ArrowLeft",Zl="ArrowRight",oa="ArrowUp",id="ArrowDown",rd="Home",fp="End",mh="active",Mm="fade",la="show",ef=".dropdown-toggle",Ou=`:not(${ef})`,gh='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',vh=`.nav-link${Ou}, .list-group-item${Ou}, [role="tab"]${Ou}, ${gh}`,ar=`.${mh}[data-bs-toggle="tab"], .${mh}[data-bs-toggle="pill"], .${mh}[data-bs-toggle="list"]`;class Pl extends _e{constructor(q){super(q),this._parent=this._element.closest('.list-group, .nav, [role="tablist"]'),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),ie.on(this._element,Qd,pe=>this._keydown(pe)))}static get NAME(){return"tab"}show(){const q=this._element;if(this._elemIsActive(q))return;const pe=this._getActiveElem(),De=pe?ie.trigger(pe,Mu,{relatedTarget:q}):null;ie.trigger(q,Ru,{relatedTarget:pe}).defaultPrevented||De&&De.defaultPrevented||(this._deactivate(pe,q),this._activate(q,pe))}_activate(q,pe){q&&(q.classList.add(mh),this._activate(Fe.getElementFromSelector(q)),this._queueCallback(()=>{q.getAttribute("role")==="tab"?(q.removeAttribute("tabindex"),q.setAttribute("aria-selected",!0),this._toggleDropDown(q,!0),ie.trigger(q,tu,{relatedTarget:pe})):q.classList.add(la)},q,q.classList.contains(Mm)))}_deactivate(q,pe){q&&(q.classList.remove(mh),q.blur(),this._deactivate(Fe.getElementFromSelector(q)),this._queueCallback(()=>{q.getAttribute("role")==="tab"?(q.setAttribute("aria-selected",!1),q.setAttribute("tabindex","-1"),this._toggleDropDown(q,!1),ie.trigger(q,eu,{relatedTarget:pe})):q.classList.remove(la)},q,q.classList.contains(Mm)))}_keydown(q){if(![Jd,Zl,oa,id,rd,fp].includes(q.key))return;q.stopPropagation(),q.preventDefault();const pe=this._getChildren().filter(bt=>!h(bt));let De;if([rd,fp].includes(q.key))De=pe[q.key===rd?0:pe.length-1];else{const bt=[Zl,id].includes(q.key);De=R(pe,q.target,bt,!0)}De&&(De.focus({preventScroll:!0}),Pl.getOrCreateInstance(De).show())}_getChildren(){return Fe.find(vh,this._parent)}_getActiveElem(){return this._getChildren().find(q=>this._elemIsActive(q))||null}_setInitialAttributes(q,pe){this._setAttributeIfNotExists(q,"role","tablist");for(const De of pe)this._setInitialAttributesOnChild(De)}_setInitialAttributesOnChild(q){q=this._getInnerElement(q);const pe=this._elemIsActive(q),De=this._getOuterElement(q);q.setAttribute("aria-selected",pe),De!==q&&this._setAttributeIfNotExists(De,"role","presentation"),pe||q.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(q,"role","tab"),this._setInitialAttributesOnTargetPanel(q)}_setInitialAttributesOnTargetPanel(q){const pe=Fe.getElementFromSelector(q);pe&&(this._setAttributeIfNotExists(pe,"role","tabpanel"),q.id&&this._setAttributeIfNotExists(pe,"aria-labelledby",`${q.id}`))}_toggleDropDown(q,pe){const De=this._getOuterElement(q);if(!De.classList.contains("dropdown"))return;const bt=(at,Kt)=>{const _n=Fe.findOne(at,De);_n&&_n.classList.toggle(Kt,pe)};bt(ef,mh),bt(".dropdown-menu",la),De.setAttribute("aria-expanded",pe)}_setAttributeIfNotExists(q,pe,De){q.hasAttribute(pe)||q.setAttribute(pe,De)}_elemIsActive(q){return q.classList.contains(mh)}_getInnerElement(q){return q.matches(vh)?q:Fe.findOne(vh,q)}_getOuterElement(q){return q.closest(".nav-item, .list-group-item")||q}static jQueryInterface(q){return this.each(function(){const pe=Pl.getOrCreateInstance(this);if(typeof q=="string"){if(pe[q]===void 0||q.startsWith("_")||q==="constructor")throw new TypeError(`No method named "${q}"`);pe[q]()}})}}ie.on(document,Am,gh,function(Ce){["A","AREA"].includes(this.tagName)&&Ce.preventDefault(),h(this)||Pl.getOrCreateInstance(this).show()}),ie.on(window,Ll,()=>{for(const Ce of Fe.find(ar))Pl.getOrCreateInstance(Ce)}),b(Pl);const Ea=".bs.toast",pp=`mouseover${Ea}`,Sy=`mouseout${Ea}`,tf=`focusin${Ea}`,Il=`focusout${Ea}`,Lu=`hide${Ea}`,nf=`hidden${Ea}`,mp=`show${Ea}`,rf=`shown${Ea}`,gp="hide",el="show",Pu="showing",vp={animation:"boolean",autohide:"boolean",delay:"number"},sd={animation:!0,autohide:!0,delay:5e3};class Iu extends _e{constructor(q,pe){super(q,pe),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return sd}static get DefaultType(){return vp}static get NAME(){return"toast"}show(){ie.trigger(this._element,mp).defaultPrevented||(this._clearTimeout(),this._config.animation&&this._element.classList.add("fade"),this._element.classList.remove(gp),_(this._element),this._element.classList.add(el,Pu),this._queueCallback(()=>{this._element.classList.remove(Pu),ie.trigger(this._element,rf),this._maybeScheduleHide()},this._element,this._config.animation))}hide(){this.isShown()&&(ie.trigger(this._element,Lu).defaultPrevented||(this._element.classList.add(Pu),this._queueCallback(()=>{this._element.classList.add(gp),this._element.classList.remove(Pu,el),ie.trigger(this._element,nf)},this._element,this._config.animation)))}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(el),super.dispose()}isShown(){return this._element.classList.contains(el)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(q,pe){switch(q.type){case"mouseover":case"mouseout":this._hasMouseInteraction=pe;break;case"focusin":case"focusout":this._hasKeyboardInteraction=pe}if(pe)return void this._clearTimeout();const De=q.relatedTarget;this._element===De||this._element.contains(De)||this._maybeScheduleHide()}_setListeners(){ie.on(this._element,pp,q=>this._onInteraction(q,!0)),ie.on(this._element,Sy,q=>this._onInteraction(q,!1)),ie.on(this._element,tf,q=>this._onInteraction(q,!0)),ie.on(this._element,Il,q=>this._onInteraction(q,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(q){return this.each(function(){const pe=Iu.getOrCreateInstance(this,q);if(typeof q=="string"){if(pe[q]===void 0)throw new TypeError(`No method named "${q}"`);pe[q](this)}})}}return We(Iu),b(Iu),{Alert:Me,Button:mt,Carousel:Ei,Collapse:Ot,Dropdown:Fi,Modal:pi,Offcanvas:ql,Popover:As,ScrollSpy:Kl,Tab:Pl,Toast:Iu,Tooltip:Go}})})(IS)),IS.exports}AH();var CT={exports:{}},Ky={},TT={exports:{}},AT={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var XL;function MH(){return XL||(XL=1,(function(n){function e(k,Z){var ee=k.length;k.push(Z);e:for(;0<ee;){var oe=ee-1>>>1,ne=k[oe];if(0<r(ne,Z))k[oe]=Z,k[ee]=ne,ee=oe;else break e}}function t(k){return k.length===0?null:k[0]}function i(k){if(k.length===0)return null;var Z=k[0],ee=k.pop();if(ee!==Z){k[0]=ee;e:for(var oe=0,ne=k.length,ie=ne>>>1;oe<ie;){var he=2*(oe+1)-1,fe=k[he],ce=he+1,ae=k[ce];if(0>r(fe,ee))ce<ne&&0>r(ae,fe)?(k[oe]=ae,k[ce]=ee,oe=ce):(k[oe]=fe,k[he]=ee,oe=he);else if(ce<ne&&0>r(ae,ee))k[oe]=ae,k[ce]=ee,oe=ce;else break e}}return Z}function r(k,Z){var ee=k.sortIndex-Z.sortIndex;return ee!==0?ee:k.id-Z.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var a=Date,o=a.now();n.unstable_now=function(){return a.now()-o}}var l=[],c=[],f=1,h=null,v=3,m=!1,_=!1,g=!1,y=!1,u=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;function T(k){for(var Z=t(c);Z!==null;){if(Z.callback===null)i(c);else if(Z.startTime<=k)i(c),Z.sortIndex=Z.expirationTime,e(l,Z);else break;Z=t(c)}}function R(k){if(g=!1,T(k),!_)if(t(l)!==null)_=!0,O||(O=!0,B());else{var Z=t(c);Z!==null&&V(R,Z.startTime-k)}}var O=!1,C=-1,I=5,F=-1;function M(){return y?!0:!(n.unstable_now()-F<I)}function D(){if(y=!1,O){var k=n.unstable_now();F=k;var Z=!0;try{e:{_=!1,g&&(g=!1,b(C),C=-1),m=!0;var ee=v;try{t:{for(T(k),h=t(l);h!==null&&!(h.expirationTime>k&&M());){var oe=h.callback;if(typeof oe=="function"){h.callback=null,v=h.priorityLevel;var ne=oe(h.expirationTime<=k);if(k=n.unstable_now(),typeof ne=="function"){h.callback=ne,T(k),Z=!0;break t}h===t(l)&&i(l),T(k)}else i(l);h=t(l)}if(h!==null)Z=!0;else{var ie=t(c);ie!==null&&V(R,ie.startTime-k),Z=!1}}break e}finally{h=null,v=ee,m=!1}Z=void 0}}finally{Z?B():O=!1}}}var B;if(typeof S=="function")B=function(){S(D)};else if(typeof MessageChannel<"u"){var j=new MessageChannel,U=j.port2;j.port1.onmessage=D,B=function(){U.postMessage(null)}}else B=function(){u(D,0)};function V(k,Z){C=u(function(){k(n.unstable_now())},Z)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(k){k.callback=null},n.unstable_forceFrameRate=function(k){0>k||125<k?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<k?Math.floor(1e3/k):5},n.unstable_getCurrentPriorityLevel=function(){return v},n.unstable_next=function(k){switch(v){case 1:case 2:case 3:var Z=3;break;default:Z=v}var ee=v;v=Z;try{return k()}finally{v=ee}},n.unstable_requestPaint=function(){y=!0},n.unstable_runWithPriority=function(k,Z){switch(k){case 1:case 2:case 3:case 4:case 5:break;default:k=3}var ee=v;v=k;try{return Z()}finally{v=ee}},n.unstable_scheduleCallback=function(k,Z,ee){var oe=n.unstable_now();switch(typeof ee=="object"&&ee!==null?(ee=ee.delay,ee=typeof ee=="number"&&0<ee?oe+ee:oe):ee=oe,k){case 1:var ne=-1;break;case 2:ne=250;break;case 5:ne=1073741823;break;case 4:ne=1e4;break;default:ne=5e3}return ne=ee+ne,k={id:f++,callback:Z,priorityLevel:k,startTime:ee,expirationTime:ne,sortIndex:-1},ee>oe?(k.sortIndex=ee,e(c,k),t(l)===null&&k===t(c)&&(g?(b(C),C=-1):g=!0,V(R,ee-oe))):(k.sortIndex=ne,e(l,k),_||m||(_=!0,O||(O=!0,B()))),k},n.unstable_shouldYield=M,n.unstable_wrapCallback=function(k){var Z=v;return function(){var ee=v;v=Z;try{return k.apply(this,arguments)}finally{v=ee}}}})(AT)),AT}var qL;function RH(){return qL||(qL=1,TT.exports=MH()),TT.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var YL;function OH(){if(YL)return Ky;YL=1;var n=RH(),e=Jg(),t=HF();function i(d){var p="https://react.dev/errors/"+d;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)p+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+d+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(d){return!(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)}function s(d){var p=d,E=d;if(d.alternate)for(;p.return;)p=p.return;else{d=p;do p=d,(p.flags&4098)!==0&&(E=p.return),d=p.return;while(d)}return p.tag===3?E:null}function a(d){if(d.tag===13){var p=d.memoizedState;if(p===null&&(d=d.alternate,d!==null&&(p=d.memoizedState)),p!==null)return p.dehydrated}return null}function o(d){if(s(d)!==d)throw Error(i(188))}function l(d){var p=d.alternate;if(!p){if(p=s(d),p===null)throw Error(i(188));return p!==d?null:d}for(var E=d,L=p;;){var W=E.return;if(W===null)break;var K=W.alternate;if(K===null){if(L=W.return,L!==null){E=L;continue}break}if(W.child===K.child){for(K=W.child;K;){if(K===E)return o(W),d;if(K===L)return o(W),p;K=K.sibling}throw Error(i(188))}if(E.return!==L.return)E=W,L=K;else{for(var xe=!1,Pe=W.child;Pe;){if(Pe===E){xe=!0,E=W,L=K;break}if(Pe===L){xe=!0,L=W,E=K;break}Pe=Pe.sibling}if(!xe){for(Pe=K.child;Pe;){if(Pe===E){xe=!0,E=K,L=W;break}if(Pe===L){xe=!0,L=K,E=W;break}Pe=Pe.sibling}if(!xe)throw Error(i(189))}}if(E.alternate!==L)throw Error(i(190))}if(E.tag!==3)throw Error(i(188));return E.stateNode.current===E?d:p}function c(d){var p=d.tag;if(p===5||p===26||p===27||p===6)return d;for(d=d.child;d!==null;){if(p=c(d),p!==null)return p;d=d.sibling}return null}var f=Object.assign,h=Symbol.for("react.element"),v=Symbol.for("react.transitional.element"),m=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),g=Symbol.for("react.strict_mode"),y=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),b=Symbol.for("react.consumer"),S=Symbol.for("react.context"),T=Symbol.for("react.forward_ref"),R=Symbol.for("react.suspense"),O=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),I=Symbol.for("react.lazy"),F=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function B(d){return d===null||typeof d!="object"?null:(d=D&&d[D]||d["@@iterator"],typeof d=="function"?d:null)}var j=Symbol.for("react.client.reference");function U(d){if(d==null)return null;if(typeof d=="function")return d.$$typeof===j?null:d.displayName||d.name||null;if(typeof d=="string")return d;switch(d){case _:return"Fragment";case y:return"Profiler";case g:return"StrictMode";case R:return"Suspense";case O:return"SuspenseList";case F:return"Activity"}if(typeof d=="object")switch(d.$$typeof){case m:return"Portal";case S:return(d.displayName||"Context")+".Provider";case b:return(d._context.displayName||"Context")+".Consumer";case T:var p=d.render;return d=d.displayName,d||(d=p.displayName||p.name||"",d=d!==""?"ForwardRef("+d+")":"ForwardRef"),d;case C:return p=d.displayName||null,p!==null?p:U(d.type)||"Memo";case I:p=d._payload,d=d._init;try{return U(d(p))}catch{}}return null}var V=Array.isArray,k=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Z=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ee={pending:!1,data:null,method:null,action:null},oe=[],ne=-1;function ie(d){return{current:d}}function he(d){0>ne||(d.current=oe[ne],oe[ne]=null,ne--)}function fe(d,p){ne++,oe[ne]=d.current,d.current=p}var ce=ie(null),ae=ie(null),ve=ie(null),_e=ie(null);function Te(d,p){switch(fe(ve,p),fe(ae,d),fe(ce,null),p.nodeType){case 9:case 11:d=(d=p.documentElement)&&(d=d.namespaceURI)?qO(d):0;break;default:if(d=p.tagName,p=p.namespaceURI)p=qO(p),d=YO(p,d);else switch(d){case"svg":d=1;break;case"math":d=2;break;default:d=0}}he(ce),fe(ce,d)}function Fe(){he(ce),he(ae),he(ve)}function We(d){d.memoizedState!==null&&fe(_e,d);var p=ce.current,E=YO(p,d.type);p!==E&&(fe(ae,d),fe(ce,E))}function ht(d){ae.current===d&&(he(ce),he(ae)),_e.current===d&&(he(_e),Hy._currentValue=ee)}var ft=Object.prototype.hasOwnProperty,Bt=n.unstable_scheduleCallback,Me=n.unstable_cancelCallback,yt=n.unstable_shouldYield,mt=n.unstable_requestPaint,St=n.unstable_now,nt=n.unstable_getCurrentPriorityLevel,Ft=n.unstable_ImmediatePriority,qe=n.unstable_UserBlockingPriority,Ke=n.unstable_NormalPriority,Et=n.unstable_LowPriority,ye=n.unstable_IdlePriority,me=n.log,Le=n.unstable_setDisableYieldValue,it=null,Qe=null;function et(d){if(typeof me=="function"&&Le(d),Qe&&typeof Qe.setStrictMode=="function")try{Qe.setStrictMode(it,d)}catch{}}var At=Math.clz32?Math.clz32:fn,Gt=Math.log,on=Math.LN2;function fn(d){return d>>>=0,d===0?32:31-(Gt(d)/on|0)|0}var xt=256,kt=4194304;function Xt(d){var p=d&42;if(p!==0)return p;switch(d&-d){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return d&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return d&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return d}}function Ve(d,p,E){var L=d.pendingLanes;if(L===0)return 0;var W=0,K=d.suspendedLanes,xe=d.pingedLanes;d=d.warmLanes;var Pe=L&134217727;return Pe!==0?(L=Pe&~K,L!==0?W=Xt(L):(xe&=Pe,xe!==0?W=Xt(xe):E||(E=Pe&~d,E!==0&&(W=Xt(E))))):(Pe=L&~K,Pe!==0?W=Xt(Pe):xe!==0?W=Xt(xe):E||(E=L&~d,E!==0&&(W=Xt(E)))),W===0?0:p!==0&&p!==W&&(p&K)===0&&(K=W&-W,E=p&-p,K>=E||K===32&&(E&4194048)!==0)?p:W}function lt(d,p){return(d.pendingLanes&~(d.suspendedLanes&~d.pingedLanes)&p)===0}function Qt(d,p){switch(d){case 1:case 2:case 4:case 8:case 64:return p+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return p+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ye(){var d=xt;return xt<<=1,(xt&4194048)===0&&(xt=256),d}function ct(){var d=kt;return kt<<=1,(kt&62914560)===0&&(kt=4194304),d}function Dt(d){for(var p=[],E=0;31>E;E++)p.push(d);return p}function Sn(d,p){d.pendingLanes|=p,p!==268435456&&(d.suspendedLanes=0,d.pingedLanes=0,d.warmLanes=0)}function qt(d,p,E,L,W,K){var xe=d.pendingLanes;d.pendingLanes=E,d.suspendedLanes=0,d.pingedLanes=0,d.warmLanes=0,d.expiredLanes&=E,d.entangledLanes&=E,d.errorRecoveryDisabledLanes&=E,d.shellSuspendCounter=0;var Pe=d.entanglements,rt=d.expirationTimes,zt=d.hiddenUpdates;for(E=xe&~E;0<E;){var mn=31-At(E),En=1<<mn;Pe[mn]=0,rt[mn]=-1;var Wt=zt[mn];if(Wt!==null)for(zt[mn]=null,mn=0;mn<Wt.length;mn++){var Yt=Wt[mn];Yt!==null&&(Yt.lane&=-536870913)}E&=~En}L!==0&&wt(d,L,0),K!==0&&W===0&&d.tag!==0&&(d.suspendedLanes|=K&~(xe&~p))}function wt(d,p,E){d.pendingLanes|=p,d.suspendedLanes&=~p;var L=31-At(p);d.entangledLanes|=p,d.entanglements[L]=d.entanglements[L]|1073741824|E&4194090}function dn(d,p){var E=d.entangledLanes|=p;for(d=d.entanglements;E;){var L=31-At(E),W=1<<L;W&p|d[L]&p&&(d[L]|=p),E&=~W}}function wn(d){switch(d){case 2:d=1;break;case 8:d=4;break;case 32:d=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:d=128;break;case 268435456:d=134217728;break;default:d=0}return d}function Pn(d){return d&=-d,2<d?8<d?(d&134217727)!==0?32:268435456:8:2}function Wn(){var d=Z.p;return d!==0?d:(d=window.event,d===void 0?32:pL(d.type))}function Ii(d,p){var E=Z.p;try{return Z.p=d,p()}finally{Z.p=E}}var Ei=Math.random().toString(36).slice(2),Si="__reactFiber$"+Ei,er="__reactProps$"+Ei,Zi="__reactContainer$"+Ei,Or="__reactEvents$"+Ei,Wr="__reactListeners$"+Ei,jr="__reactHandles$"+Ei,ti="__reactResources$"+Ei,rr="__reactMarker$"+Ei;function zi(d){delete d[Si],delete d[er],delete d[Or],delete d[Wr],delete d[jr]}function we(d){var p=d[Si];if(p)return p;for(var E=d.parentNode;E;){if(p=E[Zi]||E[Si]){if(E=p.alternate,p.child!==null||E!==null&&E.child!==null)for(d=JO(d);d!==null;){if(E=d[Si])return E;d=JO(d)}return p}d=E,E=d.parentNode}return null}function Ie(d){if(d=d[Si]||d[Zi]){var p=d.tag;if(p===5||p===6||p===13||p===26||p===27||p===3)return d}return null}function tt(d){var p=d.tag;if(p===5||p===26||p===27||p===6)return d.stateNode;throw Error(i(33))}function Rt(d){var p=d[ti];return p||(p=d[ti]={hoistableStyles:new Map,hoistableScripts:new Map}),p}function Ot(d){d[rr]=!0}var Nt=new Set,gn={};function nn(d,p){be(d,p),be(d+"Capture",p)}function be(d,p){for(gn[d]=p,d=0;d<p.length;d++)Nt.add(p[d])}var Ge=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ze={},Be={};function ut(d){return ft.call(Be,d)?!0:ft.call(Ze,d)?!1:Ge.test(d)?Be[d]=!0:(Ze[d]=!0,!1)}function Ct(d,p,E){if(ut(p))if(E===null)d.removeAttribute(p);else{switch(typeof E){case"undefined":case"function":case"symbol":d.removeAttribute(p);return;case"boolean":var L=p.toLowerCase().slice(0,5);if(L!=="data-"&&L!=="aria-"){d.removeAttribute(p);return}}d.setAttribute(p,""+E)}}function Pt(d,p,E){if(E===null)d.removeAttribute(p);else{switch(typeof E){case"undefined":case"function":case"symbol":case"boolean":d.removeAttribute(p);return}d.setAttribute(p,""+E)}}function en(d,p,E,L){if(L===null)d.removeAttribute(E);else{switch(typeof L){case"undefined":case"function":case"symbol":case"boolean":d.removeAttribute(E);return}d.setAttributeNS(p,E,""+L)}}var un,In;function Ln(d){if(un===void 0)try{throw Error()}catch(E){var p=E.stack.trim().match(/\n( *(at )?)/);un=p&&p[1]||"",In=-1<E.stack.indexOf(`
    at`)?" (<anonymous>)":-1<E.stack.indexOf("@")?"@unknown:0:0":""}return`
`+un+d+In}var vn=!1;function Bn(d,p){if(!d||vn)return"";vn=!0;var E=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var L={DetermineComponentFrameRoot:function(){try{if(p){var En=function(){throw Error()};if(Object.defineProperty(En.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(En,[])}catch(Yt){var Wt=Yt}Reflect.construct(d,[],En)}else{try{En.call()}catch(Yt){Wt=Yt}d.call(En.prototype)}}else{try{throw Error()}catch(Yt){Wt=Yt}(En=d())&&typeof En.catch=="function"&&En.catch(function(){})}}catch(Yt){if(Yt&&Wt&&typeof Yt.stack=="string")return[Yt.stack,Wt.stack]}return[null,null]}};L.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var W=Object.getOwnPropertyDescriptor(L.DetermineComponentFrameRoot,"name");W&&W.configurable&&Object.defineProperty(L.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var K=L.DetermineComponentFrameRoot(),xe=K[0],Pe=K[1];if(xe&&Pe){var rt=xe.split(`
`),zt=Pe.split(`
`);for(W=L=0;L<rt.length&&!rt[L].includes("DetermineComponentFrameRoot");)L++;for(;W<zt.length&&!zt[W].includes("DetermineComponentFrameRoot");)W++;if(L===rt.length||W===zt.length)for(L=rt.length-1,W=zt.length-1;1<=L&&0<=W&&rt[L]!==zt[W];)W--;for(;1<=L&&0<=W;L--,W--)if(rt[L]!==zt[W]){if(L!==1||W!==1)do if(L--,W--,0>W||rt[L]!==zt[W]){var mn=`
`+rt[L].replace(" at new "," at ");return d.displayName&&mn.includes("<anonymous>")&&(mn=mn.replace("<anonymous>",d.displayName)),mn}while(1<=L&&0<=W);break}}}finally{vn=!1,Error.prepareStackTrace=E}return(E=d?d.displayName||d.name:"")?Ln(E):""}function Xn(d){switch(d.tag){case 26:case 27:case 5:return Ln(d.type);case 16:return Ln("Lazy");case 13:return Ln("Suspense");case 19:return Ln("SuspenseList");case 0:case 15:return Bn(d.type,!1);case 11:return Bn(d.type.render,!1);case 1:return Bn(d.type,!0);case 31:return Ln("Activity");default:return""}}function Di(d){try{var p="";do p+=Xn(d),d=d.return;while(d);return p}catch(E){return`
Error generating stack: `+E.message+`
`+E.stack}}function Mn(d){switch(typeof d){case"bigint":case"boolean":case"number":case"string":case"undefined":return d;case"object":return d;default:return""}}function li(d){var p=d.type;return(d=d.nodeName)&&d.toLowerCase()==="input"&&(p==="checkbox"||p==="radio")}function Q(d){var p=li(d)?"checked":"value",E=Object.getOwnPropertyDescriptor(d.constructor.prototype,p),L=""+d[p];if(!d.hasOwnProperty(p)&&typeof E<"u"&&typeof E.get=="function"&&typeof E.set=="function"){var W=E.get,K=E.set;return Object.defineProperty(d,p,{configurable:!0,get:function(){return W.call(this)},set:function(xe){L=""+xe,K.call(this,xe)}}),Object.defineProperty(d,p,{enumerable:E.enumerable}),{getValue:function(){return L},setValue:function(xe){L=""+xe},stopTracking:function(){d._valueTracker=null,delete d[p]}}}}function Ni(d){d._valueTracker||(d._valueTracker=Q(d))}function Kn(d){if(!d)return!1;var p=d._valueTracker;if(!p)return!0;var E=p.getValue(),L="";return d&&(L=li(d)?d.checked?"true":"false":d.value),d=L,d!==E?(p.setValue(d),!0):!1}function ci(d){if(d=d||(typeof document<"u"?document:void 0),typeof d>"u")return null;try{return d.activeElement||d.body}catch{return d.body}}var _t=/[\n"\\]/g;function ot(d){return d.replace(_t,function(p){return"\\"+p.charCodeAt(0).toString(16)+" "})}function Cn(d,p,E,L,W,K,xe,Pe){d.name="",xe!=null&&typeof xe!="function"&&typeof xe!="symbol"&&typeof xe!="boolean"?d.type=xe:d.removeAttribute("type"),p!=null?xe==="number"?(p===0&&d.value===""||d.value!=p)&&(d.value=""+Mn(p)):d.value!==""+Mn(p)&&(d.value=""+Mn(p)):xe!=="submit"&&xe!=="reset"||d.removeAttribute("value"),p!=null?gi(d,xe,Mn(p)):E!=null?gi(d,xe,Mn(E)):L!=null&&d.removeAttribute("value"),W==null&&K!=null&&(d.defaultChecked=!!K),W!=null&&(d.checked=W&&typeof W!="function"&&typeof W!="symbol"),Pe!=null&&typeof Pe!="function"&&typeof Pe!="symbol"&&typeof Pe!="boolean"?d.name=""+Mn(Pe):d.removeAttribute("name")}function Qn(d,p,E,L,W,K,xe,Pe){if(K!=null&&typeof K!="function"&&typeof K!="symbol"&&typeof K!="boolean"&&(d.type=K),p!=null||E!=null){if(!(K!=="submit"&&K!=="reset"||p!=null))return;E=E!=null?""+Mn(E):"",p=p!=null?""+Mn(p):E,Pe||p===d.value||(d.value=p),d.defaultValue=p}L=L??W,L=typeof L!="function"&&typeof L!="symbol"&&!!L,d.checked=Pe?d.checked:!!L,d.defaultChecked=!!L,xe!=null&&typeof xe!="function"&&typeof xe!="symbol"&&typeof xe!="boolean"&&(d.name=xe)}function gi(d,p,E){p==="number"&&ci(d.ownerDocument)===d||d.defaultValue===""+E||(d.defaultValue=""+E)}function zn(d,p,E,L){if(d=d.options,p){p={};for(var W=0;W<E.length;W++)p["$"+E[W]]=!0;for(E=0;E<d.length;E++)W=p.hasOwnProperty("$"+d[E].value),d[E].selected!==W&&(d[E].selected=W),W&&L&&(d[E].defaultSelected=!0)}else{for(E=""+Mn(E),p=null,W=0;W<d.length;W++){if(d[W].value===E){d[W].selected=!0,L&&(d[W].defaultSelected=!0);return}p!==null||d[W].disabled||(p=d[W])}p!==null&&(p.selected=!0)}}function Wi(d,p,E){if(p!=null&&(p=""+Mn(p),p!==d.value&&(d.value=p),E==null)){d.defaultValue!==p&&(d.defaultValue=p);return}d.defaultValue=E!=null?""+Mn(E):""}function Jt(d,p,E,L){if(p==null){if(L!=null){if(E!=null)throw Error(i(92));if(V(L)){if(1<L.length)throw Error(i(93));L=L[0]}E=L}E==null&&(E=""),p=E}E=Mn(p),d.defaultValue=E,L=d.textContent,L===E&&L!==""&&L!==null&&(d.value=L)}function es(d,p){if(p){var E=d.firstChild;if(E&&E===d.lastChild&&E.nodeType===3){E.nodeValue=p;return}}d.textContent=p}var xs=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ks(d,p,E){var L=p.indexOf("--")===0;E==null||typeof E=="boolean"||E===""?L?d.setProperty(p,""):p==="float"?d.cssFloat="":d[p]="":L?d.setProperty(p,E):typeof E!="number"||E===0||xs.has(p)?p==="float"?d.cssFloat=E:d[p]=(""+E).trim():d[p]=E+"px"}function Nr(d,p,E){if(p!=null&&typeof p!="object")throw Error(i(62));if(d=d.style,E!=null){for(var L in E)!E.hasOwnProperty(L)||p!=null&&p.hasOwnProperty(L)||(L.indexOf("--")===0?d.setProperty(L,""):L==="float"?d.cssFloat="":d[L]="");for(var W in p)L=p[W],p.hasOwnProperty(W)&&E[W]!==L&&Ks(d,W,L)}else for(var K in p)p.hasOwnProperty(K)&&Ks(d,K,p[K])}function Os(d){if(d.indexOf("-")===-1)return!1;switch(d){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Zs=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ro=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ss(d){return ro.test(""+d)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":d}var _a=null;function us(d){return d=d.target||d.srcElement||window,d.correspondingUseElement&&(d=d.correspondingUseElement),d.nodeType===3?d.parentNode:d}var ws=null,ja=null;function na(d){var p=Ie(d);if(p&&(d=p.stateNode)){var E=d[er]||null;e:switch(d=p.stateNode,p.type){case"input":if(Cn(d,E.value,E.defaultValue,E.defaultValue,E.checked,E.defaultChecked,E.type,E.name),p=E.name,E.type==="radio"&&p!=null){for(E=d;E.parentNode;)E=E.parentNode;for(E=E.querySelectorAll('input[name="'+ot(""+p)+'"][type="radio"]'),p=0;p<E.length;p++){var L=E[p];if(L!==d&&L.form===d.form){var W=L[er]||null;if(!W)throw Error(i(90));Cn(L,W.value,W.defaultValue,W.defaultValue,W.checked,W.defaultChecked,W.type,W.name)}}for(p=0;p<E.length;p++)L=E[p],L.form===d.form&&Kn(L)}break e;case"textarea":Wi(d,E.value,E.defaultValue);break e;case"select":p=E.value,p!=null&&zn(d,!!E.multiple,p,!1)}}}var La=!1;function Xa(d,p,E){if(La)return d(p,E);La=!0;try{var L=d(p);return L}finally{if(La=!1,(ws!==null||ja!==null)&&(Wu(),ws&&(p=ws,d=ja,ja=ws=null,na(p),d)))for(p=0;p<d.length;p++)na(d[p])}}function Pa(d,p){var E=d.stateNode;if(E===null)return null;var L=E[er]||null;if(L===null)return null;E=L[p];e:switch(p){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(L=!L.disabled)||(d=d.type,L=!(d==="button"||d==="input"||d==="select"||d==="textarea")),d=!L;break e;default:d=!1}if(d)return null;if(E&&typeof E!="function")throw Error(i(231,p,typeof E));return E}var Qs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),so=!1;if(Qs)try{var da={};Object.defineProperty(da,"passive",{get:function(){so=!0}}),window.addEventListener("test",da,da),window.removeEventListener("test",da,da)}catch{so=!1}var hs=null,ko=null,So=null;function wo(){if(So)return So;var d,p=ko,E=p.length,L,W="value"in hs?hs.value:hs.textContent,K=W.length;for(d=0;d<E&&p[d]===W[d];d++);var xe=E-d;for(L=1;L<=xe&&p[E-L]===W[K-L];L++);return So=W.slice(d,1<L?1-L:void 0)}function ia(d){var p=d.keyCode;return"charCode"in d?(d=d.charCode,d===0&&p===13&&(d=13)):d=p,d===10&&(d=13),32<=d||d===13?d:0}function Es(){return!0}function Hr(){return!1}function Xr(d){function p(E,L,W,K,xe){this._reactName=E,this._targetInst=W,this.type=L,this.nativeEvent=K,this.target=xe,this.currentTarget=null;for(var Pe in d)d.hasOwnProperty(Pe)&&(E=d[Pe],this[Pe]=E?E(K):K[Pe]);return this.isDefaultPrevented=(K.defaultPrevented!=null?K.defaultPrevented:K.returnValue===!1)?Es:Hr,this.isPropagationStopped=Hr,this}return f(p.prototype,{preventDefault:function(){this.defaultPrevented=!0;var E=this.nativeEvent;E&&(E.preventDefault?E.preventDefault():typeof E.returnValue!="unknown"&&(E.returnValue=!1),this.isDefaultPrevented=Es)},stopPropagation:function(){var E=this.nativeEvent;E&&(E.stopPropagation?E.stopPropagation():typeof E.cancelBubble!="unknown"&&(E.cancelBubble=!0),this.isPropagationStopped=Es)},persist:function(){},isPersistent:Es}),p}var fr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(d){return d.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ss=Xr(fr),ba=f({},fr,{view:0,detail:0}),Ia=Xr(ba),Ls,Tn,A,z=f({},ba,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:rn,button:0,buttons:0,relatedTarget:function(d){return d.relatedTarget===void 0?d.fromElement===d.srcElement?d.toElement:d.fromElement:d.relatedTarget},movementX:function(d){return"movementX"in d?d.movementX:(d!==A&&(A&&d.type==="mousemove"?(Ls=d.screenX-A.screenX,Tn=d.screenY-A.screenY):Tn=Ls=0,A=d),Ls)},movementY:function(d){return"movementY"in d?d.movementY:Tn}}),re=Xr(z),te=f({},z,{dataTransfer:0}),Ae=Xr(te),ke=f({},ba,{relatedTarget:0}),P=Xr(ke),G=f({},fr,{animationName:0,elapsedTime:0,pseudoElement:0}),Y=Xr(G),se=f({},fr,{clipboardData:function(d){return"clipboardData"in d?d.clipboardData:window.clipboardData}}),de=Xr(se),le=f({},fr,{data:0}),Se=Xr(le),je={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ze={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},dt={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function $t(d){var p=this.nativeEvent;return p.getModifierState?p.getModifierState(d):(d=dt[d])?!!p[d]:!1}function rn(){return $t}var It=f({},ba,{key:function(d){if(d.key){var p=je[d.key]||d.key;if(p!=="Unidentified")return p}return d.type==="keypress"?(d=ia(d),d===13?"Enter":String.fromCharCode(d)):d.type==="keydown"||d.type==="keyup"?ze[d.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:rn,charCode:function(d){return d.type==="keypress"?ia(d):0},keyCode:function(d){return d.type==="keydown"||d.type==="keyup"?d.keyCode:0},which:function(d){return d.type==="keypress"?ia(d):d.type==="keydown"||d.type==="keyup"?d.keyCode:0}}),yn=Xr(It),hi=f({},z,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ee=Xr(hi),Re=f({},ba,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:rn}),Xe=Xr(Re),Ue=f({},fr,{propertyName:0,elapsedTime:0,pseudoElement:0}),He=Xr(Ue),an=f({},z,{deltaX:function(d){return"deltaX"in d?d.deltaX:"wheelDeltaX"in d?-d.wheelDeltaX:0},deltaY:function(d){return"deltaY"in d?d.deltaY:"wheelDeltaY"in d?-d.wheelDeltaY:"wheelDelta"in d?-d.wheelDelta:0},deltaZ:0,deltaMode:0}),tn=Xr(an),hn=f({},fr,{newState:0,oldState:0}),An=Xr(hn),Nn=[9,13,27,32],vi=Qs&&"CompositionEvent"in window,nr=null;Qs&&"documentMode"in document&&(nr=document.documentMode);var fi=Qs&&"TextEvent"in window&&!nr,Fr=Qs&&(!vi||nr&&8<nr&&11>=nr),sr=" ",Rn=!1;function yi(d,p){switch(d){case"keyup":return Nn.indexOf(p.keyCode)!==-1;case"keydown":return p.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function si(d){return d=d.detail,typeof d=="object"&&"data"in d?d.data:null}var ni=!1;function wi(d,p){switch(d){case"compositionend":return si(p);case"keypress":return p.which!==32?null:(Rn=!0,sr);case"textInput":return d=p.data,d===sr&&Rn?null:d;default:return null}}function bi(d,p){if(ni)return d==="compositionend"||!vi&&yi(d,p)?(d=wo(),So=ko=hs=null,ni=!1,d):null;switch(d){case"paste":return null;case"keypress":if(!(p.ctrlKey||p.altKey||p.metaKey)||p.ctrlKey&&p.altKey){if(p.char&&1<p.char.length)return p.char;if(p.which)return String.fromCharCode(p.which)}return null;case"compositionend":return Fr&&p.locale!=="ko"?null:p.data;default:return null}}var fa={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Eo(d){var p=d&&d.nodeName&&d.nodeName.toLowerCase();return p==="input"?!!fa[d.type]:p==="textarea"}function Da(d,p,E,L){ws?ja?ja.push(L):ja=[L]:ws=L,p=Fb(p,"onChange"),0<p.length&&(E=new ss("onChange","change",null,E,L),d.push({event:E,listeners:p}))}var Fi=null,Co=null;function qa(d){$O(d,0)}function ao(d){var p=tt(d);if(Kn(p))return d}function lr(d,p){if(d==="change")return p}var Cs=!1;if(Qs){var ts;if(Qs){var ns="oninput"in document;if(!ns){var Bs=document.createElement("div");Bs.setAttribute("oninput","return;"),ns=typeof Bs.oninput=="function"}ts=ns}else ts=!1;Cs=ts&&(!document.documentMode||9<document.documentMode)}function ui(){Fi&&(Fi.detachEvent("onpropertychange",oo),Co=Fi=null)}function oo(d){if(d.propertyName==="value"&&ao(Co)){var p=[];Da(p,Co,d,us(d)),Xa(qa,p)}}function ra(d,p,E){d==="focusin"?(ui(),Fi=p,Co=E,Fi.attachEvent("onpropertychange",oo)):d==="focusout"&&ui()}function To(d){if(d==="selectionchange"||d==="keyup"||d==="keydown")return ao(Co)}function xa(d,p){if(d==="click")return ao(p)}function Ps(d,p){if(d==="input"||d==="change")return ao(p)}function Yd(d,p){return d===p&&(d!==0||1/d===1/p)||d!==d&&p!==p}var sa=typeof Object.is=="function"?Object.is:Yd;function Ao(d,p){if(sa(d,p))return!0;if(typeof d!="object"||d===null||typeof p!="object"||p===null)return!1;var E=Object.keys(d),L=Object.keys(p);if(E.length!==L.length)return!1;for(L=0;L<E.length;L++){var W=E[L];if(!ft.call(p,W)||!sa(d[W],p[W]))return!1}return!0}function Sa(d){for(;d&&d.firstChild;)d=d.firstChild;return d}function Mo(d,p){var E=Sa(d);d=0;for(var L;E;){if(E.nodeType===3){if(L=d+E.textContent.length,d<=p&&L>=p)return{node:E,offset:p-d};d=L}e:{for(;E;){if(E.nextSibling){E=E.nextSibling;break e}E=E.parentNode}E=void 0}E=Sa(E)}}function hh(d,p){return d&&p?d===p?!0:d&&d.nodeType===3?!1:p&&p.nodeType===3?hh(d,p.parentNode):"contains"in d?d.contains(p):d.compareDocumentPosition?!!(d.compareDocumentPosition(p)&16):!1:!1}function Jh(d){d=d!=null&&d.ownerDocument!=null&&d.ownerDocument.defaultView!=null?d.ownerDocument.defaultView:window;for(var p=ci(d.document);p instanceof d.HTMLIFrameElement;){try{var E=typeof p.contentWindow.location.href=="string"}catch{E=!1}if(E)d=p.contentWindow;else break;p=ci(d.document)}return p}function $e(d){var p=d&&d.nodeName&&d.nodeName.toLowerCase();return p&&(p==="input"&&(d.type==="text"||d.type==="search"||d.type==="tel"||d.type==="url"||d.type==="password")||p==="textarea"||d.contentEditable==="true")}var pt=Qs&&"documentMode"in document&&11>=document.documentMode,Lt=null,Vt=null,sn=null,Fn=!1;function jn(d,p,E){var L=E.window===E?E.document:E.nodeType===9?E:E.ownerDocument;Fn||Lt==null||Lt!==ci(L)||(L=Lt,"selectionStart"in L&&$e(L)?L={start:L.selectionStart,end:L.selectionEnd}:(L=(L.ownerDocument&&L.ownerDocument.defaultView||window).getSelection(),L={anchorNode:L.anchorNode,anchorOffset:L.anchorOffset,focusNode:L.focusNode,focusOffset:L.focusOffset}),sn&&Ao(sn,L)||(sn=L,L=Fb(Vt,"onSelect"),0<L.length&&(p=new ss("onSelect","select",null,p,E),d.push({event:p,listeners:L}),p.target=Lt)))}function $n(d,p){var E={};return E[d.toLowerCase()]=p.toLowerCase(),E["Webkit"+d]="webkit"+p,E["Moz"+d]="moz"+p,E}var Gn={animationend:$n("Animation","AnimationEnd"),animationiteration:$n("Animation","AnimationIteration"),animationstart:$n("Animation","AnimationStart"),transitionrun:$n("Transition","TransitionRun"),transitionstart:$n("Transition","TransitionStart"),transitioncancel:$n("Transition","TransitionCancel"),transitionend:$n("Transition","TransitionEnd")},ir={},Mi={};Qs&&(Mi=document.createElement("div").style,"AnimationEvent"in window||(delete Gn.animationend.animation,delete Gn.animationiteration.animation,delete Gn.animationstart.animation),"TransitionEvent"in window||delete Gn.transitionend.transition);function Ci(d){if(ir[d])return ir[d];if(!Gn[d])return d;var p=Gn[d],E;for(E in p)if(p.hasOwnProperty(E)&&E in Mi)return ir[d]=p[E];return d}var Ri=Ci("animationend"),pi=Ci("animationiteration"),Ui=Ci("animationstart"),Ya=Ci("transitionrun"),Ts=Ci("transitionstart"),wa=Ci("transitioncancel"),pa=Ci("transitionend"),Rl=new Map,aa="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");aa.push("scrollEnd");function Ka(d,p){Rl.set(d,p),nn(p,[d])}var Sm=new WeakMap;function lo(d,p){if(typeof d=="object"&&d!==null){var E=Sm.get(d);return E!==void 0?E:(p={value:d,source:p,stack:Di(p)},Sm.set(d,p),p)}return{value:d,source:p,stack:Di(p)}}var co=[],ul=0,op=0;function Kd(){for(var d=ul,p=op=ul=0;p<d;){var E=co[p];co[p++]=null;var L=co[p];co[p++]=null;var W=co[p];co[p++]=null;var K=co[p];if(co[p++]=null,L!==null&&W!==null){var xe=L.pending;xe===null?W.next=W:(W.next=xe.next,xe.next=W),L.pending=W}K!==0&&ql(E,W,K)}}function Eu(d,p,E,L){co[ul++]=d,co[ul++]=p,co[ul++]=E,co[ul++]=L,op|=L,d.lanes|=L,d=d.alternate,d!==null&&(d.lanes|=L)}function lp(d,p,E,L){return Eu(d,p,E,L),dh(d)}function Qc(d,p){return Eu(d,null,null,p),dh(d)}function ql(d,p,E){d.lanes|=E;var L=d.alternate;L!==null&&(L.lanes|=E);for(var W=!1,K=d.return;K!==null;)K.childLanes|=E,L=K.alternate,L!==null&&(L.childLanes|=E),K.tag===22&&(d=K.stateNode,d===null||d._visibility&1||(W=!0)),d=K,K=K.return;return d.tag===3?(K=d.stateNode,W&&p!==null&&(W=31-At(E),d=K.hiddenUpdates,L=d[W],L===null?d[W]=[p]:L.push(p),p.lane=E|536870912),K):null}function dh(d){if(50<Vu)throw Vu=0,bf=null,Error(i(185));for(var p=d.return;p!==null;)d=p,p=d.return;return d.tag===3?d.stateNode:null}var Cu={};function wm(d,p,E,L){this.tag=d,this.key=E,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=p,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=L,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Qo(d,p,E,L){return new wm(d,p,E,L)}function Zd(d){return d=d.prototype,!(!d||!d.isReactComponent)}function ma(d,p){var E=d.alternate;return E===null?(E=Qo(d.tag,p,d.key,d.mode),E.elementType=d.elementType,E.type=d.type,E.stateNode=d.stateNode,E.alternate=d,d.alternate=E):(E.pendingProps=p,E.type=d.type,E.flags=0,E.subtreeFlags=0,E.deletions=null),E.flags=d.flags&65011712,E.childLanes=d.childLanes,E.lanes=d.lanes,E.child=d.child,E.memoizedProps=d.memoizedProps,E.memoizedState=d.memoizedState,E.updateQueue=d.updateQueue,p=d.dependencies,E.dependencies=p===null?null:{lanes:p.lanes,firstContext:p.firstContext},E.sibling=d.sibling,E.index=d.index,E.ref=d.ref,E.refCleanup=d.refCleanup,E}function Em(d,p){d.flags&=65011714;var E=d.alternate;return E===null?(d.childLanes=0,d.lanes=p,d.child=null,d.subtreeFlags=0,d.memoizedProps=null,d.memoizedState=null,d.updateQueue=null,d.dependencies=null,d.stateNode=null):(d.childLanes=E.childLanes,d.lanes=E.lanes,d.child=E.child,d.subtreeFlags=0,d.deletions=null,d.memoizedProps=E.memoizedProps,d.memoizedState=E.memoizedState,d.updateQueue=E.updateQueue,d.type=E.type,p=E.dependencies,d.dependencies=p===null?null:{lanes:p.lanes,firstContext:p.firstContext}),d}function Za(d,p,E,L,W,K){var xe=0;if(L=d,typeof d=="function")Zd(d)&&(xe=1);else if(typeof d=="string")xe=v7(d,E,ce.current)?26:d==="html"||d==="head"||d==="body"?27:5;else e:switch(d){case F:return d=Qo(31,E,p,W),d.elementType=F,d.lanes=K,d;case _:return Tu(E.children,W,K,p);case g:xe=8,W|=24;break;case y:return d=Qo(12,E,p,W|2),d.elementType=y,d.lanes=K,d;case R:return d=Qo(13,E,p,W),d.elementType=R,d.lanes=K,d;case O:return d=Qo(19,E,p,W),d.elementType=O,d.lanes=K,d;default:if(typeof d=="object"&&d!==null)switch(d.$$typeof){case u:case S:xe=10;break e;case b:xe=9;break e;case T:xe=11;break e;case C:xe=14;break e;case I:xe=16,L=null;break e}xe=29,E=Error(i(130,d===null?"null":typeof d,"")),L=null}return p=Qo(xe,E,p,W),p.elementType=d,p.type=L,p.lanes=K,p}function Tu(d,p,E,L){return d=Qo(7,d,L,p),d.lanes=E,d}function fh(d,p,E){return d=Qo(6,d,null,p),d.lanes=E,d}function ph(d,p,E){return p=Qo(4,d.children!==null?d.children:[],d.key,p),p.lanes=E,p.stateNode={containerInfo:d.containerInfo,pendingChildren:null,implementation:d.implementation},p}var ed=[],Bo=0,td=null,Mc=0,Na=[],zo=0,Au=null,Rc=1,Oc="";function Go(d,p){ed[Bo++]=Mc,ed[Bo++]=td,td=d,Mc=p}function cp(d,p,E){Na[zo++]=Rc,Na[zo++]=Oc,Na[zo++]=Au,Au=d;var L=Rc;d=Oc;var W=32-At(L)-1;L&=~(1<<W),E+=1;var K=32-At(p)+W;if(30<K){var xe=W-W%5;K=(L&(1<<xe)-1).toString(32),L>>=xe,W-=xe,Rc=1<<32-At(p)+W|E<<W|L,Oc=K+d}else Rc=1<<K|E<<W|L,Oc=d}function Cm(d){d.return!==null&&(Go(d,1),cp(d,1,0))}function Tm(d){for(;d===td;)td=ed[--Bo],ed[Bo]=null,Mc=ed[--Bo],ed[Bo]=null;for(;d===Au;)Au=Na[--zo],Na[zo]=null,Oc=Na[--zo],Na[zo]=null,Rc=Na[--zo],Na[zo]=null}var Ho=null,As=null,Ur=!1,Ol=null,Jo=!1,up=Error(i(519));function hl(d){var p=Error(i(418,""));throw Kl(lo(p,d)),up}function hp(d){var p=d.stateNode,E=d.type,L=d.memoizedProps;switch(p[Si]=d,p[er]=L,E){case"dialog":zr("cancel",p),zr("close",p);break;case"iframe":case"object":case"embed":zr("load",p);break;case"video":case"audio":for(E=0;E<Fy.length;E++)zr(Fy[E],p);break;case"source":zr("error",p);break;case"img":case"image":case"link":zr("error",p),zr("load",p);break;case"details":zr("toggle",p);break;case"input":zr("invalid",p),Qn(p,L.value,L.defaultValue,L.checked,L.defaultChecked,L.type,L.name,!0),Ni(p);break;case"select":zr("invalid",p);break;case"textarea":zr("invalid",p),Jt(p,L.value,L.defaultValue,L.children),Ni(p)}E=L.children,typeof E!="string"&&typeof E!="number"&&typeof E!="bigint"||p.textContent===""+E||L.suppressHydrationWarning===!0||XO(p.textContent,E)?(L.popover!=null&&(zr("beforetoggle",p),zr("toggle",p)),L.onScroll!=null&&zr("scroll",p),L.onScrollEnd!=null&&zr("scrollend",p),L.onClick!=null&&(p.onclick=Ub),p=!0):p=!1,p||hl(d)}function dp(d){for(Ho=d.return;Ho;)switch(Ho.tag){case 5:case 13:Jo=!1;return;case 27:case 3:Jo=!0;return;default:Ho=Ho.return}}function Yl(d){if(d!==Ho)return!1;if(!Ur)return dp(d),Ur=!0,!1;var p=d.tag,E;if((E=p!==3&&p!==27)&&((E=p===5)&&(E=d.type,E=!(E!=="form"&&E!=="button")||QC(d.type,d.memoizedProps)),E=!E),E&&As&&hl(d),dp(d),p===13){if(d=d.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(i(317));e:{for(d=d.nextSibling,p=0;d;){if(d.nodeType===8)if(E=d.data,E==="/$"){if(p===0){As=Ah(d.nextSibling);break e}p--}else E!=="$"&&E!=="$!"&&E!=="$?"||p++;d=d.nextSibling}As=null}}else p===27?(p=As,Fp(d.type)?(d=nT,nT=null,As=d):As=p):As=Ho?Ah(d.stateNode.nextSibling):null;return!0}function nd(){As=Ho=null,Ur=!1}function is(){var d=Ol;return d!==null&&(Hi===null?Hi=d:Hi.push.apply(Hi,d),Ol=null),d}function Kl(d){Ol===null?Ol=[d]:Ol.push(d)}var Jc=ie(null),Mu=null,eu=null;function Ru(d,p,E){fe(Jc,p._currentValue),p._currentValue=E}function tu(d){d._currentValue=Jc.current,he(Jc)}function Am(d,p,E){for(;d!==null;){var L=d.alternate;if((d.childLanes&p)!==p?(d.childLanes|=p,L!==null&&(L.childLanes|=p)):L!==null&&(L.childLanes&p)!==p&&(L.childLanes|=p),d===E)break;d=d.return}}function Qd(d,p,E,L){var W=d.child;for(W!==null&&(W.return=d);W!==null;){var K=W.dependencies;if(K!==null){var xe=W.child;K=K.firstContext;e:for(;K!==null;){var Pe=K;K=W;for(var rt=0;rt<p.length;rt++)if(Pe.context===p[rt]){K.lanes|=E,Pe=K.alternate,Pe!==null&&(Pe.lanes|=E),Am(K.return,E,d),L||(xe=null);break e}K=Pe.next}}else if(W.tag===18){if(xe=W.return,xe===null)throw Error(i(341));xe.lanes|=E,K=xe.alternate,K!==null&&(K.lanes|=E),Am(xe,E,d),xe=null}else xe=W.child;if(xe!==null)xe.return=W;else for(xe=W;xe!==null;){if(xe===d){xe=null;break}if(W=xe.sibling,W!==null){W.return=xe.return,xe=W;break}xe=xe.return}W=xe}}function Ll(d,p,E,L){d=null;for(var W=p,K=!1;W!==null;){if(!K){if((W.flags&524288)!==0)K=!0;else if((W.flags&262144)!==0)break}if(W.tag===10){var xe=W.alternate;if(xe===null)throw Error(i(387));if(xe=xe.memoizedProps,xe!==null){var Pe=W.type;sa(W.pendingProps.value,xe.value)||(d!==null?d.push(Pe):d=[Pe])}}else if(W===_e.current){if(xe=W.alternate,xe===null)throw Error(i(387));xe.memoizedState.memoizedState!==W.memoizedState.memoizedState&&(d!==null?d.push(Hy):d=[Hy])}W=W.return}d!==null&&Qd(p,d,E,L),p.flags|=262144}function Jd(d){for(d=d.firstContext;d!==null;){if(!sa(d.context._currentValue,d.memoizedValue))return!0;d=d.next}return!1}function Zl(d){Mu=d,eu=null,d=d.dependencies,d!==null&&(d.firstContext=null)}function oa(d){return rd(Mu,d)}function id(d,p){return Mu===null&&Zl(d),rd(d,p)}function rd(d,p){var E=p._currentValue;if(p={context:p,memoizedValue:E,next:null},eu===null){if(d===null)throw Error(i(308));eu=p,d.dependencies={lanes:0,firstContext:p},d.flags|=524288}else eu=eu.next=p;return E}var fp=typeof AbortController<"u"?AbortController:function(){var d=[],p=this.signal={aborted:!1,addEventListener:function(E,L){d.push(L)}};this.abort=function(){p.aborted=!0,d.forEach(function(E){return E()})}},mh=n.unstable_scheduleCallback,Mm=n.unstable_NormalPriority,la={$$typeof:S,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ef(){return{controller:new fp,data:new Map,refCount:0}}function Ou(d){d.refCount--,d.refCount===0&&mh(Mm,function(){d.controller.abort()})}var gh=null,vh=0,ar=0,Pl=null;function Ea(d,p){if(gh===null){var E=gh=[];vh=0,ar=$C(),Pl={status:"pending",value:void 0,then:function(L){E.push(L)}}}return vh++,p.then(pp,pp),p}function pp(){if(--vh===0&&gh!==null){Pl!==null&&(Pl.status="fulfilled");var d=gh;gh=null,ar=0,Pl=null;for(var p=0;p<d.length;p++)(0,d[p])()}}function Sy(d,p){var E=[],L={status:"pending",value:null,reason:null,then:function(W){E.push(W)}};return d.then(function(){L.status="fulfilled",L.value=p;for(var W=0;W<E.length;W++)(0,E[W])(p)},function(W){for(L.status="rejected",L.reason=W,W=0;W<E.length;W++)(0,E[W])(void 0)}),L}var tf=k.S;k.S=function(d,p){typeof p=="object"&&p!==null&&typeof p.then=="function"&&Ea(d,p),tf!==null&&tf(d,p)};var Il=ie(null);function Lu(){var d=Il.current;return d!==null?d:cr.pooledCache}function nf(d,p){p===null?fe(Il,Il.current):fe(Il,p.pool)}function mp(){var d=Lu();return d===null?null:{parent:la._currentValue,pool:d}}var rf=Error(i(460)),gp=Error(i(474)),el=Error(i(542)),Pu={then:function(){}};function vp(d){return d=d.status,d==="fulfilled"||d==="rejected"}function sd(){}function Iu(d,p,E){switch(E=d[E],E===void 0?d.push(p):E!==p&&(p.then(sd,sd),p=E),p.status){case"fulfilled":return p.value;case"rejected":throw d=p.reason,pe(d),d;default:if(typeof p.status=="string")p.then(sd,sd);else{if(d=cr,d!==null&&100<d.shellSuspendCounter)throw Error(i(482));d=p,d.status="pending",d.then(function(L){if(p.status==="pending"){var W=p;W.status="fulfilled",W.value=L}},function(L){if(p.status==="pending"){var W=p;W.status="rejected",W.reason=L}})}switch(p.status){case"fulfilled":return p.value;case"rejected":throw d=p.reason,pe(d),d}throw Ce=p,rf}}var Ce=null;function q(){if(Ce===null)throw Error(i(459));var d=Ce;return Ce=null,d}function pe(d){if(d===rf||d===el)throw Error(i(483))}var De=!1;function bt(d){d.updateQueue={baseState:d.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function at(d,p){d=d.updateQueue,p.updateQueue===d&&(p.updateQueue={baseState:d.baseState,firstBaseUpdate:d.firstBaseUpdate,lastBaseUpdate:d.lastBaseUpdate,shared:d.shared,callbacks:null})}function Kt(d){return{lane:d,tag:0,payload:null,callback:null,next:null}}function _n(d,p,E){var L=d.updateQueue;if(L===null)return null;if(L=L.shared,(fs&2)!==0){var W=L.pending;return W===null?p.next=p:(p.next=W.next,W.next=p),L.pending=p,p=dh(d),ql(d,null,E),p}return Eu(d,L,p,E),dh(d)}function Un(d,p,E){if(p=p.updateQueue,p!==null&&(p=p.shared,(E&4194048)!==0)){var L=p.lanes;L&=d.pendingLanes,E|=L,p.lanes=E,dn(d,E)}}function ei(d,p){var E=d.updateQueue,L=d.alternate;if(L!==null&&(L=L.updateQueue,E===L)){var W=null,K=null;if(E=E.firstBaseUpdate,E!==null){do{var xe={lane:E.lane,tag:E.tag,payload:E.payload,callback:null,next:null};K===null?W=K=xe:K=K.next=xe,E=E.next}while(E!==null);K===null?W=K=p:K=K.next=p}else W=K=p;E={baseState:L.baseState,firstBaseUpdate:W,lastBaseUpdate:K,shared:L.shared,callbacks:L.callbacks},d.updateQueue=E;return}d=E.lastBaseUpdate,d===null?E.firstBaseUpdate=p:d.next=p,E.lastBaseUpdate=p}var ai=!1;function Vn(){if(ai){var d=Pl;if(d!==null)throw d}}function Yi(d,p,E,L){ai=!1;var W=d.updateQueue;De=!1;var K=W.firstBaseUpdate,xe=W.lastBaseUpdate,Pe=W.shared.pending;if(Pe!==null){W.shared.pending=null;var rt=Pe,zt=rt.next;rt.next=null,xe===null?K=zt:xe.next=zt,xe=rt;var mn=d.alternate;mn!==null&&(mn=mn.updateQueue,Pe=mn.lastBaseUpdate,Pe!==xe&&(Pe===null?mn.firstBaseUpdate=zt:Pe.next=zt,mn.lastBaseUpdate=rt))}if(K!==null){var En=W.baseState;xe=0,mn=zt=rt=null,Pe=K;do{var Wt=Pe.lane&-536870913,Yt=Wt!==Pe.lane;if(Yt?(Pi&Wt)===Wt:(L&Wt)===Wt){Wt!==0&&Wt===ar&&(ai=!0),mn!==null&&(mn=mn.next={lane:0,tag:Pe.tag,payload:Pe.payload,callback:null,next:null});e:{var tr=d,Xi=Pe;Wt=p;var Vs=E;switch(Xi.tag){case 1:if(tr=Xi.payload,typeof tr=="function"){En=tr.call(Vs,En,Wt);break e}En=tr;break e;case 3:tr.flags=tr.flags&-65537|128;case 0:if(tr=Xi.payload,Wt=typeof tr=="function"?tr.call(Vs,En,Wt):tr,Wt==null)break e;En=f({},En,Wt);break e;case 2:De=!0}}Wt=Pe.callback,Wt!==null&&(d.flags|=64,Yt&&(d.flags|=8192),Yt=W.callbacks,Yt===null?W.callbacks=[Wt]:Yt.push(Wt))}else Yt={lane:Wt,tag:Pe.tag,payload:Pe.payload,callback:Pe.callback,next:null},mn===null?(zt=mn=Yt,rt=En):mn=mn.next=Yt,xe|=Wt;if(Pe=Pe.next,Pe===null){if(Pe=W.shared.pending,Pe===null)break;Yt=Pe,Pe=Yt.next,Yt.next=null,W.lastBaseUpdate=Yt,W.shared.pending=null}}while(!0);mn===null&&(rt=En),W.baseState=rt,W.firstBaseUpdate=zt,W.lastBaseUpdate=mn,K===null&&(W.shared.lanes=0),uu|=xe,d.lanes=xe,d.memoizedState=En}}function Ti(d,p){if(typeof d!="function")throw Error(i(191,d));d.call(p)}function Qi(d,p){var E=d.callbacks;if(E!==null)for(d.callbacks=null,d=0;d<E.length;d++)Ti(E[d],p)}var Li=ie(null),ji=ie(0);function as(d,p){d=Fc,fe(ji,d),fe(Li,p),Fc=d|p.baseLanes}function ds(){fe(ji,Fc),fe(Li,Li.current)}function or(){Fc=ji.current,he(Li),he(ji)}var pr=0,Hn=null,di=null,Gi=null,qr=!1,Ar=!1,Lr=!1,Yr=0,ca=0,Kr=null,dl=0;function $r(){throw Error(i(321))}function Sr(d,p){if(p===null)return!1;for(var E=0;E<p.length&&E<d.length;E++)if(!sa(d[E],p[E]))return!1;return!0}function Qa(d,p,E,L,W,K){return pr=K,Hn=p,p.memoizedState=null,p.updateQueue=null,p.lanes=0,k.H=d===null||d.memoizedState===null?gv:Oy,Lr=!1,K=E(L,W),Lr=!1,Ar&&(K=yh(p,E,L,W)),Ql(d),K}function Ql(d){k.H=zm;var p=di!==null&&di.next!==null;if(pr=0,Gi=di=Hn=null,qr=!1,ca=0,Kr=null,p)throw Error(i(300));d===null||Ro||(d=d.dependencies,d!==null&&Jd(d)&&(Ro=!0))}function yh(d,p,E,L){Hn=d;var W=0;do{if(Ar&&(Kr=null),ca=0,Ar=!1,25<=W)throw Error(i(301));if(W+=1,Gi=di=null,d.updateQueue!=null){var K=d.updateQueue;K.lastEffect=null,K.events=null,K.stores=null,K.memoCache!=null&&(K.memoCache.index=0)}k.H=wb,K=p(E,L)}while(Ar);return K}function Ja(){var d=k.H,p=d.useState()[0];return p=typeof p.then=="function"?Dl(p):p,d=d.useState()[0],(di!==null?di.memoizedState:null)!==d&&(Hn.flags|=1024),p}function os(){var d=Yr!==0;return Yr=0,d}function eo(d,p,E){p.updateQueue=d.updateQueue,p.flags&=-2053,d.lanes&=~E}function tl(d){if(qr){for(d=d.memoizedState;d!==null;){var p=d.queue;p!==null&&(p.pending=null),d=d.next}qr=!1}pr=0,Gi=di=Hn=null,Ar=!1,ca=Yr=0,Kr=null}function ua(){var d={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Gi===null?Hn.memoizedState=Gi=d:Gi=Gi.next=d,Gi}function Js(){if(di===null){var d=Hn.alternate;d=d!==null?d.memoizedState:null}else d=di.next;var p=Gi===null?Hn.memoizedState:Gi.next;if(p!==null)Gi=p,di=d;else{if(d===null)throw Hn.alternate===null?Error(i(467)):Error(i(310));di=d,d={memoizedState:di.memoizedState,baseState:di.baseState,baseQueue:di.baseQueue,queue:di.queue,next:null},Gi===null?Hn.memoizedState=Gi=d:Gi=Gi.next=d}return Gi}function nu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Dl(d){var p=ca;return ca+=1,Kr===null&&(Kr=[]),d=Iu(Kr,d,p),p=Hn,(Gi===null?p.memoizedState:Gi.next)===null&&(p=p.alternate,k.H=p===null||p.memoizedState===null?gv:Oy),d}function _h(d){if(d!==null&&typeof d=="object"){if(typeof d.then=="function")return Dl(d);if(d.$$typeof===S)return oa(d)}throw Error(i(438,String(d)))}function Rm(d){var p=null,E=Hn.updateQueue;if(E!==null&&(p=E.memoCache),p==null){var L=Hn.alternate;L!==null&&(L=L.updateQueue,L!==null&&(L=L.memoCache,L!=null&&(p={data:L.data.map(function(W){return W.slice()}),index:0})))}if(p==null&&(p={data:[],index:0}),E===null&&(E=nu(),Hn.updateQueue=E),E.memoCache=p,E=p.data[p.index],E===void 0)for(E=p.data[p.index]=Array(d),L=0;L<d;L++)E[L]=M;return p.index++,E}function iu(d,p){return typeof p=="function"?p(d):p}function Lc(d){var p=Js();return Om(p,di,d)}function Om(d,p,E){var L=d.queue;if(L===null)throw Error(i(311));L.lastRenderedReducer=E;var W=d.baseQueue,K=L.pending;if(K!==null){if(W!==null){var xe=W.next;W.next=K.next,K.next=xe}p.baseQueue=W=K,L.pending=null}if(K=d.baseState,W===null)d.memoizedState=K;else{p=W.next;var Pe=xe=null,rt=null,zt=p,mn=!1;do{var En=zt.lane&-536870913;if(En!==zt.lane?(Pi&En)===En:(pr&En)===En){var Wt=zt.revertLane;if(Wt===0)rt!==null&&(rt=rt.next={lane:0,revertLane:0,action:zt.action,hasEagerState:zt.hasEagerState,eagerState:zt.eagerState,next:null}),En===ar&&(mn=!0);else if((pr&Wt)===Wt){zt=zt.next,Wt===ar&&(mn=!0);continue}else En={lane:0,revertLane:zt.revertLane,action:zt.action,hasEagerState:zt.hasEagerState,eagerState:zt.eagerState,next:null},rt===null?(Pe=rt=En,xe=K):rt=rt.next=En,Hn.lanes|=Wt,uu|=Wt;En=zt.action,Lr&&E(K,En),K=zt.hasEagerState?zt.eagerState:E(K,En)}else Wt={lane:En,revertLane:zt.revertLane,action:zt.action,hasEagerState:zt.hasEagerState,eagerState:zt.eagerState,next:null},rt===null?(Pe=rt=Wt,xe=K):rt=rt.next=Wt,Hn.lanes|=En,uu|=En;zt=zt.next}while(zt!==null&&zt!==p);if(rt===null?xe=K:rt.next=Pe,!sa(K,d.memoizedState)&&(Ro=!0,mn&&(E=Pl,E!==null)))throw E;d.memoizedState=K,d.baseState=xe,d.baseQueue=rt,L.lastRenderedState=K}return W===null&&(L.lanes=0),[d.memoizedState,L.dispatch]}function yp(d){var p=Js(),E=p.queue;if(E===null)throw Error(i(311));E.lastRenderedReducer=d;var L=E.dispatch,W=E.pending,K=p.memoizedState;if(W!==null){E.pending=null;var xe=W=W.next;do K=d(K,xe.action),xe=xe.next;while(xe!==W);sa(K,p.memoizedState)||(Ro=!0),p.memoizedState=K,p.baseQueue===null&&(p.baseState=K),E.lastRenderedState=K}return[K,L]}function sv(d,p,E){var L=Hn,W=Js(),K=Ur;if(K){if(E===void 0)throw Error(i(407));E=E()}else E=p();var xe=!sa((di||W).memoizedState,E);xe&&(W.memoizedState=E,Ro=!0),W=W.queue;var Pe=av.bind(null,L,W,d);if(wp(2048,8,Pe,[d]),W.getSnapshot!==p||xe||Gi!==null&&Gi.memoizedState.tag&1){if(L.flags|=2048,Sp(9,km(),Lm.bind(null,L,W,E,p),null),cr===null)throw Error(i(349));K||(pr&124)!==0||bh(L,p,E)}return E}function bh(d,p,E){d.flags|=16384,d={getSnapshot:p,value:E},p=Hn.updateQueue,p===null?(p=nu(),Hn.updateQueue=p,p.stores=[d]):(E=p.stores,E===null?p.stores=[d]:E.push(d))}function Lm(d,p,E,L){p.value=E,p.getSnapshot=L,ov(p)&&Du(d)}function av(d,p,E){return E(function(){ov(p)&&Du(d)})}function ov(d){var p=d.getSnapshot;d=d.value;try{var E=p();return!sa(d,E)}catch{return!0}}function Du(d){var p=Qc(d,2);p!==null&&ml(p,d,2)}function ad(d){var p=ua();if(typeof d=="function"){var E=d;if(d=E(),Lr){et(!0);try{E()}finally{et(!1)}}}return p.memoizedState=p.baseState=d,p.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:iu,lastRenderedState:d},p}function Pm(d,p,E,L){return d.baseState=E,Om(d,di,typeof L=="function"?L:iu)}function lv(d,p,E,L,W){if(mv(d))throw Error(i(485));if(d=p.action,d!==null){var K={payload:W,action:d,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(xe){K.listeners.push(xe)}};k.T!==null?E(!0):K.isTransition=!1,L(K),E=p.pending,E===null?(K.next=p.pending=K,_p(p,K)):(K.next=E.next,p.pending=E.next=K)}}function _p(d,p){var E=p.action,L=p.payload,W=d.state;if(p.isTransition){var K=k.T,xe={};k.T=xe;try{var Pe=E(W,L),rt=k.S;rt!==null&&rt(xe,Pe),Im(d,p,Pe)}catch(zt){bp(d,p,zt)}finally{k.T=K}}else try{K=E(W,L),Im(d,p,K)}catch(zt){bp(d,p,zt)}}function Im(d,p,E){E!==null&&typeof E=="object"&&typeof E.then=="function"?E.then(function(L){Dm(d,p,L)},function(L){return bp(d,p,L)}):Dm(d,p,E)}function Dm(d,p,E){p.status="fulfilled",p.value=E,Nm(p),d.state=E,p=d.pending,p!==null&&(E=p.next,E===p?d.pending=null:(E=E.next,p.next=E,_p(d,E)))}function bp(d,p,E){var L=d.pending;if(d.pending=null,L!==null){L=L.next;do p.status="rejected",p.reason=E,Nm(p),p=p.next;while(p!==L)}d.action=null}function Nm(d){d=d.listeners;for(var p=0;p<d.length;p++)(0,d[p])()}function Fm(d,p){return p}function cv(d,p){if(Ur){var E=cr.formState;if(E!==null){e:{var L=Hn;if(Ur){if(As){t:{for(var W=As,K=Jo;W.nodeType!==8;){if(!K){W=null;break t}if(W=Ah(W.nextSibling),W===null){W=null;break t}}K=W.data,W=K==="F!"||K==="F"?W:null}if(W){As=Ah(W.nextSibling),L=W.data==="F!";break e}}hl(L)}L=!1}L&&(p=E[0])}}return E=ua(),E.memoizedState=E.baseState=p,L={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fm,lastRenderedState:p},E.queue=L,E=xb.bind(null,Hn,L),L.dispatch=E,L=ad(!1),K=pv.bind(null,Hn,!1,L.queue),L=ua(),W={state:p,dispatch:null,action:d,pending:null},L.queue=W,E=lv.bind(null,Hn,W,K,E),W.dispatch=E,L.memoizedState=d,[p,E,!1]}function xp(d){var p=Js();return Um(p,di,d)}function Um(d,p,E){if(p=Om(d,p,Fm)[0],d=Lc(iu)[0],typeof p=="object"&&p!==null&&typeof p.then=="function")try{var L=Dl(p)}catch(xe){throw xe===rf?el:xe}else L=p;p=Js();var W=p.queue,K=W.dispatch;return E!==p.memoizedState&&(Hn.flags|=2048,Sp(9,km(),UC.bind(null,W,E),null)),[L,K,d]}function UC(d,p){d.action=p}function hb(d){var p=Js(),E=di;if(E!==null)return Um(p,E,d);Js(),p=p.memoizedState,E=Js();var L=E.queue.dispatch;return E.memoizedState=d,[p,L,!1]}function Sp(d,p,E,L){return d={tag:d,create:E,deps:L,inst:p,next:null},p=Hn.updateQueue,p===null&&(p=nu(),Hn.updateQueue=p),E=p.lastEffect,E===null?p.lastEffect=d.next=d:(L=E.next,E.next=d,d.next=L,p.lastEffect=d),d}function km(){return{destroy:void 0,resource:void 0}}function wy(){return Js().memoizedState}function uv(d,p,E,L){var W=ua();L=L===void 0?null:L,Hn.flags|=d,W.memoizedState=Sp(1|p,km(),E,L)}function wp(d,p,E,L){var W=Js();L=L===void 0?null:L;var K=W.memoizedState.inst;di!==null&&L!==null&&Sr(L,di.memoizedState.deps)?W.memoizedState=Sp(p,K,E,L):(Hn.flags|=d,W.memoizedState=Sp(1|p,K,E,L))}function Ey(d,p){uv(8390656,8,d,p)}function Cy(d,p){wp(2048,8,d,p)}function hv(d,p){return wp(4,2,d,p)}function dv(d,p){return wp(4,4,d,p)}function db(d,p){if(typeof p=="function"){d=d();var E=p(d);return function(){typeof E=="function"?E():p(null)}}if(p!=null)return d=d(),p.current=d,function(){p.current=null}}function fb(d,p,E){E=E!=null?E.concat([d]):null,wp(4,4,db.bind(null,p,d),E)}function Ty(){}function pb(d,p){var E=Js();p=p===void 0?null:p;var L=E.memoizedState;return p!==null&&Sr(p,L[1])?L[0]:(E.memoizedState=[d,p],d)}function Ay(d,p){var E=Js();p=p===void 0?null:p;var L=E.memoizedState;if(p!==null&&Sr(p,L[1]))return L[0];if(L=d(),Lr){et(!0);try{d()}finally{et(!1)}}return E.memoizedState=[L,p],L}function fv(d,p,E){return E===void 0||(pr&1073741824)!==0?d.memoizedState=p:(d.memoizedState=E,d=Av(),Hn.lanes|=d,uu|=d,E)}function mb(d,p,E,L){return sa(E,p)?E:Li.current!==null?(d=fv(d,E,L),sa(d,p)||(Ro=!0),d):(pr&42)===0?(Ro=!0,d.memoizedState=E):(d=Av(),Hn.lanes|=d,uu|=d,p)}function gb(d,p,E,L,W){var K=Z.p;Z.p=K!==0&&8>K?K:8;var xe=k.T,Pe={};k.T=Pe,pv(d,!1,p,E);try{var rt=W(),zt=k.S;if(zt!==null&&zt(Pe,rt),rt!==null&&typeof rt=="object"&&typeof rt.then=="function"){var mn=Sy(rt,L);Bm(d,p,mn,Aa(d))}else Bm(d,p,L,Aa(d))}catch(En){Bm(d,p,{then:function(){},status:"rejected",reason:En},Aa())}finally{Z.p=K,k.T=xe}}function kC(){}function My(d,p,E,L){if(d.tag!==5)throw Error(i(476));var W=vb(d).queue;gb(d,W,p,ee,E===null?kC:function(){return yb(d),E(L)})}function vb(d){var p=d.memoizedState;if(p!==null)return p;p={memoizedState:ee,baseState:ee,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:iu,lastRenderedState:ee},next:null};var E={};return p.next={memoizedState:E,baseState:E,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:iu,lastRenderedState:E},next:null},d.memoizedState=p,d=d.alternate,d!==null&&(d.memoizedState=p),p}function yb(d){var p=vb(d).next.queue;Bm(d,p,{},Aa())}function Ry(){return oa(Hy)}function _b(){return Js().memoizedState}function bb(){return Js().memoizedState}function BC(d){for(var p=d.return;p!==null;){switch(p.tag){case 24:case 3:var E=Aa();d=Kt(E);var L=_n(p,d,E);L!==null&&(ml(L,p,E),Un(L,p,E)),p={cache:ef()},d.payload=p;return}p=p.return}}function zC(d,p,E){var L=Aa();E={lane:L,revertLane:0,action:E,hasEagerState:!1,eagerState:null,next:null},mv(d)?Sb(p,E):(E=lp(d,p,E,L),E!==null&&(ml(E,d,L),Jl(E,p,L)))}function xb(d,p,E){var L=Aa();Bm(d,p,E,L)}function Bm(d,p,E,L){var W={lane:L,revertLane:0,action:E,hasEagerState:!1,eagerState:null,next:null};if(mv(d))Sb(p,W);else{var K=d.alternate;if(d.lanes===0&&(K===null||K.lanes===0)&&(K=p.lastRenderedReducer,K!==null))try{var xe=p.lastRenderedState,Pe=K(xe,E);if(W.hasEagerState=!0,W.eagerState=Pe,sa(Pe,xe))return Eu(d,p,W,0),cr===null&&Kd(),!1}catch{}finally{}if(E=lp(d,p,W,L),E!==null)return ml(E,d,L),Jl(E,p,L),!0}return!1}function pv(d,p,E,L){if(L={lane:2,revertLane:$C(),action:L,hasEagerState:!1,eagerState:null,next:null},mv(d)){if(p)throw Error(i(479))}else p=lp(d,E,L,2),p!==null&&ml(p,d,2)}function mv(d){var p=d.alternate;return d===Hn||p!==null&&p===Hn}function Sb(d,p){Ar=qr=!0;var E=d.pending;E===null?p.next=p:(p.next=E.next,E.next=p),d.pending=p}function Jl(d,p,E){if((E&4194048)!==0){var L=p.lanes;L&=d.pendingLanes,E|=L,p.lanes=E,dn(d,E)}}var zm={readContext:oa,use:_h,useCallback:$r,useContext:$r,useEffect:$r,useImperativeHandle:$r,useLayoutEffect:$r,useInsertionEffect:$r,useMemo:$r,useReducer:$r,useRef:$r,useState:$r,useDebugValue:$r,useDeferredValue:$r,useTransition:$r,useSyncExternalStore:$r,useId:$r,useHostTransitionStatus:$r,useFormState:$r,useActionState:$r,useOptimistic:$r,useMemoCache:$r,useCacheRefresh:$r},gv={readContext:oa,use:_h,useCallback:function(d,p){return ua().memoizedState=[d,p===void 0?null:p],d},useContext:oa,useEffect:Ey,useImperativeHandle:function(d,p,E){E=E!=null?E.concat([d]):null,uv(4194308,4,db.bind(null,p,d),E)},useLayoutEffect:function(d,p){return uv(4194308,4,d,p)},useInsertionEffect:function(d,p){uv(4,2,d,p)},useMemo:function(d,p){var E=ua();p=p===void 0?null:p;var L=d();if(Lr){et(!0);try{d()}finally{et(!1)}}return E.memoizedState=[L,p],L},useReducer:function(d,p,E){var L=ua();if(E!==void 0){var W=E(p);if(Lr){et(!0);try{E(p)}finally{et(!1)}}}else W=p;return L.memoizedState=L.baseState=W,d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:d,lastRenderedState:W},L.queue=d,d=d.dispatch=zC.bind(null,Hn,d),[L.memoizedState,d]},useRef:function(d){var p=ua();return d={current:d},p.memoizedState=d},useState:function(d){d=ad(d);var p=d.queue,E=xb.bind(null,Hn,p);return p.dispatch=E,[d.memoizedState,E]},useDebugValue:Ty,useDeferredValue:function(d,p){var E=ua();return fv(E,d,p)},useTransition:function(){var d=ad(!1);return d=gb.bind(null,Hn,d.queue,!0,!1),ua().memoizedState=d,[!1,d]},useSyncExternalStore:function(d,p,E){var L=Hn,W=ua();if(Ur){if(E===void 0)throw Error(i(407));E=E()}else{if(E=p(),cr===null)throw Error(i(349));(Pi&124)!==0||bh(L,p,E)}W.memoizedState=E;var K={value:E,getSnapshot:p};return W.queue=K,Ey(av.bind(null,L,K,d),[d]),L.flags|=2048,Sp(9,km(),Lm.bind(null,L,K,E,p),null),E},useId:function(){var d=ua(),p=cr.identifierPrefix;if(Ur){var E=Oc,L=Rc;E=(L&~(1<<32-At(L)-1)).toString(32)+E,p="Â«"+p+"R"+E,E=Yr++,0<E&&(p+="H"+E.toString(32)),p+="Â»"}else E=dl++,p="Â«"+p+"r"+E.toString(32)+"Â»";return d.memoizedState=p},useHostTransitionStatus:Ry,useFormState:cv,useActionState:cv,useOptimistic:function(d){var p=ua();p.memoizedState=p.baseState=d;var E={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return p.queue=E,p=pv.bind(null,Hn,!0,E),E.dispatch=p,[d,p]},useMemoCache:Rm,useCacheRefresh:function(){return ua().memoizedState=BC.bind(null,Hn)}},Oy={readContext:oa,use:_h,useCallback:pb,useContext:oa,useEffect:Cy,useImperativeHandle:fb,useInsertionEffect:hv,useLayoutEffect:dv,useMemo:Ay,useReducer:Lc,useRef:wy,useState:function(){return Lc(iu)},useDebugValue:Ty,useDeferredValue:function(d,p){var E=Js();return mb(E,di.memoizedState,d,p)},useTransition:function(){var d=Lc(iu)[0],p=Js().memoizedState;return[typeof d=="boolean"?d:Dl(d),p]},useSyncExternalStore:sv,useId:_b,useHostTransitionStatus:Ry,useFormState:xp,useActionState:xp,useOptimistic:function(d,p){var E=Js();return Pm(E,di,d,p)},useMemoCache:Rm,useCacheRefresh:bb},wb={readContext:oa,use:_h,useCallback:pb,useContext:oa,useEffect:Cy,useImperativeHandle:fb,useInsertionEffect:hv,useLayoutEffect:dv,useMemo:Ay,useReducer:yp,useRef:wy,useState:function(){return yp(iu)},useDebugValue:Ty,useDeferredValue:function(d,p){var E=Js();return di===null?fv(E,d,p):mb(E,di.memoizedState,d,p)},useTransition:function(){var d=yp(iu)[0],p=Js().memoizedState;return[typeof d=="boolean"?d:Dl(d),p]},useSyncExternalStore:sv,useId:_b,useHostTransitionStatus:Ry,useFormState:hb,useActionState:hb,useOptimistic:function(d,p){var E=Js();return di!==null?Pm(E,di,d,p):(E.baseState=d,[d,E.queue.dispatch])},useMemoCache:Rm,useCacheRefresh:bb},sf=null,Gm=0;function Hm(d){var p=Gm;return Gm+=1,sf===null&&(sf=[]),Iu(sf,d,p)}function Ep(d,p){p=p.props.ref,d.ref=p!==void 0?p:null}function vv(d,p){throw p.$$typeof===h?Error(i(525)):(d=Object.prototype.toString.call(p),Error(i(31,d==="[object Object]"?"object with keys {"+Object.keys(p).join(", ")+"}":d)))}function Eb(d){var p=d._init;return p(d._payload)}function Cb(d){function p(Tt,vt){if(d){var Ut=Tt.deletions;Ut===null?(Tt.deletions=[vt],Tt.flags|=16):Ut.push(vt)}}function E(Tt,vt){if(!d)return null;for(;vt!==null;)p(Tt,vt),vt=vt.sibling;return null}function L(Tt){for(var vt=new Map;Tt!==null;)Tt.key!==null?vt.set(Tt.key,Tt):vt.set(Tt.index,Tt),Tt=Tt.sibling;return vt}function W(Tt,vt){return Tt=ma(Tt,vt),Tt.index=0,Tt.sibling=null,Tt}function K(Tt,vt,Ut){return Tt.index=Ut,d?(Ut=Tt.alternate,Ut!==null?(Ut=Ut.index,Ut<vt?(Tt.flags|=67108866,vt):Ut):(Tt.flags|=67108866,vt)):(Tt.flags|=1048576,vt)}function xe(Tt){return d&&Tt.alternate===null&&(Tt.flags|=67108866),Tt}function Pe(Tt,vt,Ut,bn){return vt===null||vt.tag!==6?(vt=fh(Ut,Tt.mode,bn),vt.return=Tt,vt):(vt=W(vt,Ut),vt.return=Tt,vt)}function rt(Tt,vt,Ut,bn){var xi=Ut.type;return xi===_?mn(Tt,vt,Ut.props.children,bn,Ut.key):vt!==null&&(vt.elementType===xi||typeof xi=="object"&&xi!==null&&xi.$$typeof===I&&Eb(xi)===vt.type)?(vt=W(vt,Ut.props),Ep(vt,Ut),vt.return=Tt,vt):(vt=Za(Ut.type,Ut.key,Ut.props,null,Tt.mode,bn),Ep(vt,Ut),vt.return=Tt,vt)}function zt(Tt,vt,Ut,bn){return vt===null||vt.tag!==4||vt.stateNode.containerInfo!==Ut.containerInfo||vt.stateNode.implementation!==Ut.implementation?(vt=ph(Ut,Tt.mode,bn),vt.return=Tt,vt):(vt=W(vt,Ut.children||[]),vt.return=Tt,vt)}function mn(Tt,vt,Ut,bn,xi){return vt===null||vt.tag!==7?(vt=Tu(Ut,Tt.mode,bn,xi),vt.return=Tt,vt):(vt=W(vt,Ut),vt.return=Tt,vt)}function En(Tt,vt,Ut){if(typeof vt=="string"&&vt!==""||typeof vt=="number"||typeof vt=="bigint")return vt=fh(""+vt,Tt.mode,Ut),vt.return=Tt,vt;if(typeof vt=="object"&&vt!==null){switch(vt.$$typeof){case v:return Ut=Za(vt.type,vt.key,vt.props,null,Tt.mode,Ut),Ep(Ut,vt),Ut.return=Tt,Ut;case m:return vt=ph(vt,Tt.mode,Ut),vt.return=Tt,vt;case I:var bn=vt._init;return vt=bn(vt._payload),En(Tt,vt,Ut)}if(V(vt)||B(vt))return vt=Tu(vt,Tt.mode,Ut,null),vt.return=Tt,vt;if(typeof vt.then=="function")return En(Tt,Hm(vt),Ut);if(vt.$$typeof===S)return En(Tt,id(Tt,vt),Ut);vv(Tt,vt)}return null}function Wt(Tt,vt,Ut,bn){var xi=vt!==null?vt.key:null;if(typeof Ut=="string"&&Ut!==""||typeof Ut=="number"||typeof Ut=="bigint")return xi!==null?null:Pe(Tt,vt,""+Ut,bn);if(typeof Ut=="object"&&Ut!==null){switch(Ut.$$typeof){case v:return Ut.key===xi?rt(Tt,vt,Ut,bn):null;case m:return Ut.key===xi?zt(Tt,vt,Ut,bn):null;case I:return xi=Ut._init,Ut=xi(Ut._payload),Wt(Tt,vt,Ut,bn)}if(V(Ut)||B(Ut))return xi!==null?null:mn(Tt,vt,Ut,bn,null);if(typeof Ut.then=="function")return Wt(Tt,vt,Hm(Ut),bn);if(Ut.$$typeof===S)return Wt(Tt,vt,id(Tt,Ut),bn);vv(Tt,Ut)}return null}function Yt(Tt,vt,Ut,bn,xi){if(typeof bn=="string"&&bn!==""||typeof bn=="number"||typeof bn=="bigint")return Tt=Tt.get(Ut)||null,Pe(vt,Tt,""+bn,xi);if(typeof bn=="object"&&bn!==null){switch(bn.$$typeof){case v:return Tt=Tt.get(bn.key===null?Ut:bn.key)||null,rt(vt,Tt,bn,xi);case m:return Tt=Tt.get(bn.key===null?Ut:bn.key)||null,zt(vt,Tt,bn,xi);case I:var Br=bn._init;return bn=Br(bn._payload),Yt(Tt,vt,Ut,bn,xi)}if(V(bn)||B(bn))return Tt=Tt.get(Ut)||null,mn(vt,Tt,bn,xi,null);if(typeof bn.then=="function")return Yt(Tt,vt,Ut,Hm(bn),xi);if(bn.$$typeof===S)return Yt(Tt,vt,Ut,id(vt,bn),xi);vv(vt,bn)}return null}function tr(Tt,vt,Ut,bn){for(var xi=null,Br=null,Oi=vt,Ki=vt=0,rl=null;Oi!==null&&Ki<Ut.length;Ki++){Oi.index>Ki?(rl=Oi,Oi=null):rl=Oi.sibling;var ms=Wt(Tt,Oi,Ut[Ki],bn);if(ms===null){Oi===null&&(Oi=rl);break}d&&Oi&&ms.alternate===null&&p(Tt,Oi),vt=K(ms,vt,Ki),Br===null?xi=ms:Br.sibling=ms,Br=ms,Oi=rl}if(Ki===Ut.length)return E(Tt,Oi),Ur&&Go(Tt,Ki),xi;if(Oi===null){for(;Ki<Ut.length;Ki++)Oi=En(Tt,Ut[Ki],bn),Oi!==null&&(vt=K(Oi,vt,Ki),Br===null?xi=Oi:Br.sibling=Oi,Br=Oi);return Ur&&Go(Tt,Ki),xi}for(Oi=L(Oi);Ki<Ut.length;Ki++)rl=Yt(Oi,Tt,Ki,Ut[Ki],bn),rl!==null&&(d&&rl.alternate!==null&&Oi.delete(rl.key===null?Ki:rl.key),vt=K(rl,vt,Ki),Br===null?xi=rl:Br.sibling=rl,Br=rl);return d&&Oi.forEach(function(Gp){return p(Tt,Gp)}),Ur&&Go(Tt,Ki),xi}function Xi(Tt,vt,Ut,bn){if(Ut==null)throw Error(i(151));for(var xi=null,Br=null,Oi=vt,Ki=vt=0,rl=null,ms=Ut.next();Oi!==null&&!ms.done;Ki++,ms=Ut.next()){Oi.index>Ki?(rl=Oi,Oi=null):rl=Oi.sibling;var Gp=Wt(Tt,Oi,ms.value,bn);if(Gp===null){Oi===null&&(Oi=rl);break}d&&Oi&&Gp.alternate===null&&p(Tt,Oi),vt=K(Gp,vt,Ki),Br===null?xi=Gp:Br.sibling=Gp,Br=Gp,Oi=rl}if(ms.done)return E(Tt,Oi),Ur&&Go(Tt,Ki),xi;if(Oi===null){for(;!ms.done;Ki++,ms=Ut.next())ms=En(Tt,ms.value,bn),ms!==null&&(vt=K(ms,vt,Ki),Br===null?xi=ms:Br.sibling=ms,Br=ms);return Ur&&Go(Tt,Ki),xi}for(Oi=L(Oi);!ms.done;Ki++,ms=Ut.next())ms=Yt(Oi,Tt,Ki,ms.value,bn),ms!==null&&(d&&ms.alternate!==null&&Oi.delete(ms.key===null?Ki:ms.key),vt=K(ms,vt,Ki),Br===null?xi=ms:Br.sibling=ms,Br=ms);return d&&Oi.forEach(function(R7){return p(Tt,R7)}),Ur&&Go(Tt,Ki),xi}function Vs(Tt,vt,Ut,bn){if(typeof Ut=="object"&&Ut!==null&&Ut.type===_&&Ut.key===null&&(Ut=Ut.props.children),typeof Ut=="object"&&Ut!==null){switch(Ut.$$typeof){case v:e:{for(var xi=Ut.key;vt!==null;){if(vt.key===xi){if(xi=Ut.type,xi===_){if(vt.tag===7){E(Tt,vt.sibling),bn=W(vt,Ut.props.children),bn.return=Tt,Tt=bn;break e}}else if(vt.elementType===xi||typeof xi=="object"&&xi!==null&&xi.$$typeof===I&&Eb(xi)===vt.type){E(Tt,vt.sibling),bn=W(vt,Ut.props),Ep(bn,Ut),bn.return=Tt,Tt=bn;break e}E(Tt,vt);break}else p(Tt,vt);vt=vt.sibling}Ut.type===_?(bn=Tu(Ut.props.children,Tt.mode,bn,Ut.key),bn.return=Tt,Tt=bn):(bn=Za(Ut.type,Ut.key,Ut.props,null,Tt.mode,bn),Ep(bn,Ut),bn.return=Tt,Tt=bn)}return xe(Tt);case m:e:{for(xi=Ut.key;vt!==null;){if(vt.key===xi)if(vt.tag===4&&vt.stateNode.containerInfo===Ut.containerInfo&&vt.stateNode.implementation===Ut.implementation){E(Tt,vt.sibling),bn=W(vt,Ut.children||[]),bn.return=Tt,Tt=bn;break e}else{E(Tt,vt);break}else p(Tt,vt);vt=vt.sibling}bn=ph(Ut,Tt.mode,bn),bn.return=Tt,Tt=bn}return xe(Tt);case I:return xi=Ut._init,Ut=xi(Ut._payload),Vs(Tt,vt,Ut,bn)}if(V(Ut))return tr(Tt,vt,Ut,bn);if(B(Ut)){if(xi=B(Ut),typeof xi!="function")throw Error(i(150));return Ut=xi.call(Ut),Xi(Tt,vt,Ut,bn)}if(typeof Ut.then=="function")return Vs(Tt,vt,Hm(Ut),bn);if(Ut.$$typeof===S)return Vs(Tt,vt,id(Tt,Ut),bn);vv(Tt,Ut)}return typeof Ut=="string"&&Ut!==""||typeof Ut=="number"||typeof Ut=="bigint"?(Ut=""+Ut,vt!==null&&vt.tag===6?(E(Tt,vt.sibling),bn=W(vt,Ut),bn.return=Tt,Tt=bn):(E(Tt,vt),bn=fh(Ut,Tt.mode,bn),bn.return=Tt,Tt=bn),xe(Tt)):E(Tt,vt)}return function(Tt,vt,Ut,bn){try{Gm=0;var xi=Vs(Tt,vt,Ut,bn);return sf=null,xi}catch(Oi){if(Oi===rf||Oi===el)throw Oi;var Br=Qo(29,Oi,null,Tt.mode);return Br.lanes=bn,Br.return=Tt,Br}finally{}}}var af=Cb(!0),Tb=Cb(!1),Is=ie(null),ru=null;function od(d){var p=d.alternate;fe(Fa,Fa.current&1),fe(Is,d),ru===null&&(p===null||Li.current!==null||p.memoizedState!==null)&&(ru=d)}function Ab(d){if(d.tag===22){if(fe(Fa,Fa.current),fe(Is,d),ru===null){var p=d.alternate;p!==null&&p.memoizedState!==null&&(ru=d)}}else ld()}function ld(){fe(Fa,Fa.current),fe(Is,Is.current)}function Nu(d){he(Is),ru===d&&(ru=null),he(Fa)}var Fa=ie(0);function xh(d){for(var p=d;p!==null;){if(p.tag===13){var E=p.memoizedState;if(E!==null&&(E=E.dehydrated,E===null||E.data==="$?"||tT(E)))return p}else if(p.tag===19&&p.memoizedProps.revealOrder!==void 0){if((p.flags&128)!==0)return p}else if(p.child!==null){p.child.return=p,p=p.child;continue}if(p===d)break;for(;p.sibling===null;){if(p.return===null||p.return===d)return null;p=p.return}p.sibling.return=p.return,p=p.sibling}return null}function cd(d,p,E,L){p=d.memoizedState,E=E(L,p),E=E==null?p:f({},p,E),d.memoizedState=E,d.lanes===0&&(d.updateQueue.baseState=E)}var fl={enqueueSetState:function(d,p,E){d=d._reactInternals;var L=Aa(),W=Kt(L);W.payload=p,E!=null&&(W.callback=E),p=_n(d,W,L),p!==null&&(ml(p,d,L),Un(p,d,L))},enqueueReplaceState:function(d,p,E){d=d._reactInternals;var L=Aa(),W=Kt(L);W.tag=1,W.payload=p,E!=null&&(W.callback=E),p=_n(d,W,L),p!==null&&(ml(p,d,L),Un(p,d,L))},enqueueForceUpdate:function(d,p){d=d._reactInternals;var E=Aa(),L=Kt(E);L.tag=2,p!=null&&(L.callback=p),p=_n(d,L,E),p!==null&&(ml(p,d,E),Un(p,d,E))}};function Mb(d,p,E,L,W,K,xe){return d=d.stateNode,typeof d.shouldComponentUpdate=="function"?d.shouldComponentUpdate(L,K,xe):p.prototype&&p.prototype.isPureReactComponent?!Ao(E,L)||!Ao(W,K):!0}function Rb(d,p,E,L){d=p.state,typeof p.componentWillReceiveProps=="function"&&p.componentWillReceiveProps(E,L),typeof p.UNSAFE_componentWillReceiveProps=="function"&&p.UNSAFE_componentWillReceiveProps(E,L),p.state!==d&&fl.enqueueReplaceState(p,p.state,null)}function Fu(d,p){var E=p;if("ref"in p){E={};for(var L in p)L!=="ref"&&(E[L]=p[L])}if(d=d.defaultProps){E===p&&(E=f({},E));for(var W in d)E[W]===void 0&&(E[W]=d[W])}return E}var of=typeof reportError=="function"?reportError:function(d){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var p=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof d=="object"&&d!==null&&typeof d.message=="string"?String(d.message):String(d),error:d});if(!window.dispatchEvent(p))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",d);return}console.error(d)};function $m(d){of(d)}function yv(d){console.error(d)}function Ob(d){of(d)}function _v(d,p){try{var E=d.onUncaughtError;E(p.value,{componentStack:p.stack})}catch(L){setTimeout(function(){throw L})}}function Pc(d,p,E){try{var L=d.onCaughtError;L(E.value,{componentStack:E.stack,errorBoundary:p.tag===1?p.stateNode:null})}catch(W){setTimeout(function(){throw W})}}function bv(d,p,E){return E=Kt(E),E.tag=3,E.payload={element:null},E.callback=function(){_v(d,p)},E}function Lb(d){return d=Kt(d),d.tag=3,d}function xv(d,p,E,L){var W=E.type.getDerivedStateFromError;if(typeof W=="function"){var K=L.value;d.payload=function(){return W(K)},d.callback=function(){Pc(p,E,L)}}var xe=E.stateNode;xe!==null&&typeof xe.componentDidCatch=="function"&&(d.callback=function(){Pc(p,E,L),typeof W!="function"&&(oc===null?oc=new Set([this]):oc.add(this));var Pe=L.stack;this.componentDidCatch(L.value,{componentStack:Pe!==null?Pe:""})})}function GC(d,p,E,L,W){if(E.flags|=32768,L!==null&&typeof L=="object"&&typeof L.then=="function"){if(p=E.alternate,p!==null&&Ll(p,E,W,!0),E=Is.current,E!==null){switch(E.tag){case 13:return ru===null?x():E.alternate===null&&ea===0&&(ea=3),E.flags&=-257,E.flags|=65536,E.lanes=W,L===Pu?E.flags|=16384:(p=E.updateQueue,p===null?E.updateQueue=new Set([L]):p.add(L),Zt(d,L,W)),!1;case 22:return E.flags|=65536,L===Pu?E.flags|=16384:(p=E.updateQueue,p===null?(p={transitions:null,markerInstances:null,retryQueue:new Set([L])},E.updateQueue=p):(E=p.retryQueue,E===null?p.retryQueue=new Set([L]):E.add(L)),Zt(d,L,W)),!1}throw Error(i(435,E.tag))}return Zt(d,L,W),x(),!1}if(Ur)return p=Is.current,p!==null?((p.flags&65536)===0&&(p.flags|=256),p.flags|=65536,p.lanes=W,L!==up&&(d=Error(i(422),{cause:L}),Kl(lo(d,E)))):(L!==up&&(p=Error(i(423),{cause:L}),Kl(lo(p,E))),d=d.current.alternate,d.flags|=65536,W&=-W,d.lanes|=W,L=lo(L,E),W=bv(d.stateNode,L,W),ei(d,W),ea!==4&&(ea=2)),!1;var K=Error(i(520),{cause:L});if(K=lo(K,E),ps===null?ps=[K]:ps.push(K),ea!==4&&(ea=2),p===null)return!0;L=lo(L,E),E=p;do{switch(E.tag){case 3:return E.flags|=65536,d=W&-W,E.lanes|=d,d=bv(E.stateNode,L,d),ei(E,d),!1;case 1:if(p=E.type,K=E.stateNode,(E.flags&128)===0&&(typeof p.getDerivedStateFromError=="function"||K!==null&&typeof K.componentDidCatch=="function"&&(oc===null||!oc.has(K))))return E.flags|=65536,W&=-W,E.lanes|=W,W=Lb(W),xv(W,d,E,L),ei(E,W),!1}E=E.return}while(E!==null);return!1}var Pb=Error(i(461)),Ro=!1;function Ua(d,p,E,L){p.child=d===null?Tb(p,null,E,L):af(p,d.child,E,L)}function Nl(d,p,E,L,W){E=E.render;var K=p.ref;if("ref"in L){var xe={};for(var Pe in L)Pe!=="ref"&&(xe[Pe]=L[Pe])}else xe=L;return Zl(p),L=Qa(d,p,E,xe,K,W),Pe=os(),d!==null&&!Ro?(eo(d,p,W),Oo(d,p,W)):(Ur&&Pe&&Cm(p),p.flags|=1,Ua(d,p,L,W),p.child)}function Fl(d,p,E,L,W){if(d===null){var K=E.type;return typeof K=="function"&&!Zd(K)&&K.defaultProps===void 0&&E.compare===null?(p.tag=15,p.type=K,Ly(d,p,K,L,W)):(d=Za(E.type,null,L,p,p.mode,W),d.ref=p.ref,d.return=p,p.child=d)}if(K=d.child,!Vm(d,W)){var xe=K.memoizedProps;if(E=E.compare,E=E!==null?E:Ao,E(xe,L)&&d.ref===p.ref)return Oo(d,p,W)}return p.flags|=1,d=ma(K,L),d.ref=p.ref,d.return=p,p.child=d}function Ly(d,p,E,L,W){if(d!==null){var K=d.memoizedProps;if(Ao(K,L)&&d.ref===p.ref)if(Ro=!1,p.pendingProps=L=K,Vm(d,W))(d.flags&131072)!==0&&(Ro=!0);else return p.lanes=d.lanes,Oo(d,p,W)}return Cp(d,p,E,L,W)}function lf(d,p,E){var L=p.pendingProps,W=L.children,K=d!==null?d.memoizedState:null;if(L.mode==="hidden"){if((p.flags&128)!==0){if(L=K!==null?K.baseLanes|E:E,d!==null){for(W=p.child=d.child,K=0;W!==null;)K=K|W.lanes|W.childLanes,W=W.sibling;p.childLanes=K&~L}else p.childLanes=0,p.child=null;return cf(d,p,L,E)}if((E&536870912)!==0)p.memoizedState={baseLanes:0,cachePool:null},d!==null&&nf(p,K!==null?K.cachePool:null),K!==null?as(p,K):ds(),Ab(p);else return p.lanes=p.childLanes=536870912,cf(d,p,K!==null?K.baseLanes|E:E,E)}else K!==null?(nf(p,K.cachePool),as(p,K),ld(),p.memoizedState=null):(d!==null&&nf(p,null),ds(),ld());return Ua(d,p,W,E),p.child}function cf(d,p,E,L){var W=Lu();return W=W===null?null:{parent:la._currentValue,pool:W},p.memoizedState={baseLanes:E,cachePool:W},d!==null&&nf(p,null),ds(),Ab(p),d!==null&&Ll(d,p,L,!0),null}function uf(d,p){var E=p.ref;if(E===null)d!==null&&d.ref!==null&&(p.flags|=4194816);else{if(typeof E!="function"&&typeof E!="object")throw Error(i(284));(d===null||d.ref!==E)&&(p.flags|=4194816)}}function Cp(d,p,E,L,W){return Zl(p),E=Qa(d,p,E,L,void 0,W),L=os(),d!==null&&!Ro?(eo(d,p,W),Oo(d,p,W)):(Ur&&L&&Cm(p),p.flags|=1,Ua(d,p,E,W),p.child)}function ec(d,p,E,L,W,K){return Zl(p),p.updateQueue=null,E=yh(p,L,E,W),Ql(d),L=os(),d!==null&&!Ro?(eo(d,p,K),Oo(d,p,K)):(Ur&&L&&Cm(p),p.flags|=1,Ua(d,p,E,K),p.child)}function tc(d,p,E,L,W){if(Zl(p),p.stateNode===null){var K=Cu,xe=E.contextType;typeof xe=="object"&&xe!==null&&(K=oa(xe)),K=new E(L,K),p.memoizedState=K.state!==null&&K.state!==void 0?K.state:null,K.updater=fl,p.stateNode=K,K._reactInternals=p,K=p.stateNode,K.props=L,K.state=p.memoizedState,K.refs={},bt(p),xe=E.contextType,K.context=typeof xe=="object"&&xe!==null?oa(xe):Cu,K.state=p.memoizedState,xe=E.getDerivedStateFromProps,typeof xe=="function"&&(cd(p,E,xe,L),K.state=p.memoizedState),typeof E.getDerivedStateFromProps=="function"||typeof K.getSnapshotBeforeUpdate=="function"||typeof K.UNSAFE_componentWillMount!="function"&&typeof K.componentWillMount!="function"||(xe=K.state,typeof K.componentWillMount=="function"&&K.componentWillMount(),typeof K.UNSAFE_componentWillMount=="function"&&K.UNSAFE_componentWillMount(),xe!==K.state&&fl.enqueueReplaceState(K,K.state,null),Yi(p,L,K,W),Vn(),K.state=p.memoizedState),typeof K.componentDidMount=="function"&&(p.flags|=4194308),L=!0}else if(d===null){K=p.stateNode;var Pe=p.memoizedProps,rt=Fu(E,Pe);K.props=rt;var zt=K.context,mn=E.contextType;xe=Cu,typeof mn=="object"&&mn!==null&&(xe=oa(mn));var En=E.getDerivedStateFromProps;mn=typeof En=="function"||typeof K.getSnapshotBeforeUpdate=="function",Pe=p.pendingProps!==Pe,mn||typeof K.UNSAFE_componentWillReceiveProps!="function"&&typeof K.componentWillReceiveProps!="function"||(Pe||zt!==xe)&&Rb(p,K,L,xe),De=!1;var Wt=p.memoizedState;K.state=Wt,Yi(p,L,K,W),Vn(),zt=p.memoizedState,Pe||Wt!==zt||De?(typeof En=="function"&&(cd(p,E,En,L),zt=p.memoizedState),(rt=De||Mb(p,E,rt,L,Wt,zt,xe))?(mn||typeof K.UNSAFE_componentWillMount!="function"&&typeof K.componentWillMount!="function"||(typeof K.componentWillMount=="function"&&K.componentWillMount(),typeof K.UNSAFE_componentWillMount=="function"&&K.UNSAFE_componentWillMount()),typeof K.componentDidMount=="function"&&(p.flags|=4194308)):(typeof K.componentDidMount=="function"&&(p.flags|=4194308),p.memoizedProps=L,p.memoizedState=zt),K.props=L,K.state=zt,K.context=xe,L=rt):(typeof K.componentDidMount=="function"&&(p.flags|=4194308),L=!1)}else{K=p.stateNode,at(d,p),xe=p.memoizedProps,mn=Fu(E,xe),K.props=mn,En=p.pendingProps,Wt=K.context,zt=E.contextType,rt=Cu,typeof zt=="object"&&zt!==null&&(rt=oa(zt)),Pe=E.getDerivedStateFromProps,(zt=typeof Pe=="function"||typeof K.getSnapshotBeforeUpdate=="function")||typeof K.UNSAFE_componentWillReceiveProps!="function"&&typeof K.componentWillReceiveProps!="function"||(xe!==En||Wt!==rt)&&Rb(p,K,L,rt),De=!1,Wt=p.memoizedState,K.state=Wt,Yi(p,L,K,W),Vn();var Yt=p.memoizedState;xe!==En||Wt!==Yt||De||d!==null&&d.dependencies!==null&&Jd(d.dependencies)?(typeof Pe=="function"&&(cd(p,E,Pe,L),Yt=p.memoizedState),(mn=De||Mb(p,E,mn,L,Wt,Yt,rt)||d!==null&&d.dependencies!==null&&Jd(d.dependencies))?(zt||typeof K.UNSAFE_componentWillUpdate!="function"&&typeof K.componentWillUpdate!="function"||(typeof K.componentWillUpdate=="function"&&K.componentWillUpdate(L,Yt,rt),typeof K.UNSAFE_componentWillUpdate=="function"&&K.UNSAFE_componentWillUpdate(L,Yt,rt)),typeof K.componentDidUpdate=="function"&&(p.flags|=4),typeof K.getSnapshotBeforeUpdate=="function"&&(p.flags|=1024)):(typeof K.componentDidUpdate!="function"||xe===d.memoizedProps&&Wt===d.memoizedState||(p.flags|=4),typeof K.getSnapshotBeforeUpdate!="function"||xe===d.memoizedProps&&Wt===d.memoizedState||(p.flags|=1024),p.memoizedProps=L,p.memoizedState=Yt),K.props=L,K.state=Yt,K.context=rt,L=mn):(typeof K.componentDidUpdate!="function"||xe===d.memoizedProps&&Wt===d.memoizedState||(p.flags|=4),typeof K.getSnapshotBeforeUpdate!="function"||xe===d.memoizedProps&&Wt===d.memoizedState||(p.flags|=1024),L=!1)}return K=L,uf(d,p),L=(p.flags&128)!==0,K||L?(K=p.stateNode,E=L&&typeof E.getDerivedStateFromError!="function"?null:K.render(),p.flags|=1,d!==null&&L?(p.child=af(p,d.child,null,W),p.child=af(p,null,E,W)):Ua(d,p,E,W),p.memoizedState=K.state,d=p.child):d=Oo(d,p,W),d}function ud(d,p,E,L){return nd(),p.flags|=256,Ua(d,p,E,L),p.child}var su={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function au(d){return{baseLanes:d,cachePool:mp()}}function uo(d,p,E){return d=d!==null?d.childLanes&~E:0,p&&(d|=Uc),d}function Tp(d,p,E){var L=p.pendingProps,W=!1,K=(p.flags&128)!==0,xe;if((xe=K)||(xe=d!==null&&d.memoizedState===null?!1:(Fa.current&2)!==0),xe&&(W=!0,p.flags&=-129),xe=(p.flags&32)!==0,p.flags&=-33,d===null){if(Ur){if(W?od(p):ld(),Ur){var Pe=As,rt;if(rt=Pe){e:{for(rt=Pe,Pe=Jo;rt.nodeType!==8;){if(!Pe){Pe=null;break e}if(rt=Ah(rt.nextSibling),rt===null){Pe=null;break e}}Pe=rt}Pe!==null?(p.memoizedState={dehydrated:Pe,treeContext:Au!==null?{id:Rc,overflow:Oc}:null,retryLane:536870912,hydrationErrors:null},rt=Qo(18,null,null,0),rt.stateNode=Pe,rt.return=p,p.child=rt,Ho=p,As=null,rt=!0):rt=!1}rt||hl(p)}if(Pe=p.memoizedState,Pe!==null&&(Pe=Pe.dehydrated,Pe!==null))return tT(Pe)?p.lanes=32:p.lanes=536870912,null;Nu(p)}return Pe=L.children,L=L.fallback,W?(ld(),W=p.mode,Pe=hf({mode:"hidden",children:Pe},W),L=Tu(L,W,E,null),Pe.return=p,L.return=p,Pe.sibling=L,p.child=Pe,W=p.child,W.memoizedState=au(E),W.childLanes=uo(d,xe,E),p.memoizedState=su,L):(od(p),Uu(p,Pe))}if(rt=d.memoizedState,rt!==null&&(Pe=rt.dehydrated,Pe!==null)){if(K)p.flags&256?(od(p),p.flags&=-257,p=$o(d,p,E)):p.memoizedState!==null?(ld(),p.child=d.child,p.flags|=128,p=null):(ld(),W=L.fallback,Pe=p.mode,L=hf({mode:"visible",children:L.children},Pe),W=Tu(W,Pe,E,null),W.flags|=2,L.return=p,W.return=p,L.sibling=W,p.child=L,af(p,d.child,null,E),L=p.child,L.memoizedState=au(E),L.childLanes=uo(d,xe,E),p.memoizedState=su,p=W);else if(od(p),tT(Pe)){if(xe=Pe.nextSibling&&Pe.nextSibling.dataset,xe)var zt=xe.dgst;xe=zt,L=Error(i(419)),L.stack="",L.digest=xe,Kl({value:L,source:null,stack:null}),p=$o(d,p,E)}else if(Ro||Ll(d,p,E,!1),xe=(E&d.childLanes)!==0,Ro||xe){if(xe=cr,xe!==null&&(L=E&-E,L=(L&42)!==0?1:wn(L),L=(L&(xe.suspendedLanes|E))!==0?0:L,L!==0&&L!==rt.retryLane))throw rt.retryLane=L,Qc(d,L),ml(xe,d,L),Pb;Pe.data==="$?"||x(),p=$o(d,p,E)}else Pe.data==="$?"?(p.flags|=192,p.child=d.child,p=null):(d=rt.treeContext,As=Ah(Pe.nextSibling),Ho=p,Ur=!0,Ol=null,Jo=!1,d!==null&&(Na[zo++]=Rc,Na[zo++]=Oc,Na[zo++]=Au,Rc=d.id,Oc=d.overflow,Au=p),p=Uu(p,L.children),p.flags|=4096);return p}return W?(ld(),W=L.fallback,Pe=p.mode,rt=d.child,zt=rt.sibling,L=ma(rt,{mode:"hidden",children:L.children}),L.subtreeFlags=rt.subtreeFlags&65011712,zt!==null?W=ma(zt,W):(W=Tu(W,Pe,E,null),W.flags|=2),W.return=p,L.return=p,L.sibling=W,p.child=L,L=W,W=p.child,Pe=d.child.memoizedState,Pe===null?Pe=au(E):(rt=Pe.cachePool,rt!==null?(zt=la._currentValue,rt=rt.parent!==zt?{parent:zt,pool:zt}:rt):rt=mp(),Pe={baseLanes:Pe.baseLanes|E,cachePool:rt}),W.memoizedState=Pe,W.childLanes=uo(d,xe,E),p.memoizedState=su,L):(od(p),E=d.child,d=E.sibling,E=ma(E,{mode:"visible",children:L.children}),E.return=p,E.sibling=null,d!==null&&(xe=p.deletions,xe===null?(p.deletions=[d],p.flags|=16):xe.push(d)),p.child=E,p.memoizedState=null,E)}function Uu(d,p){return p=hf({mode:"visible",children:p},d.mode),p.return=d,d.child=p}function hf(d,p){return d=Qo(22,d,null,p),d.lanes=0,d.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},d}function $o(d,p,E){return af(p,d.child,null,E),d=Uu(p,p.pendingProps.children),d.flags|=2,p.memoizedState=null,d}function Vo(d,p,E){d.lanes|=p;var L=d.alternate;L!==null&&(L.lanes|=p),Am(d.return,p,E)}function Vr(d,p,E,L,W){var K=d.memoizedState;K===null?d.memoizedState={isBackwards:p,rendering:null,renderingStartTime:0,last:L,tail:E,tailMode:W}:(K.isBackwards=p,K.rendering=null,K.renderingStartTime=0,K.last=L,K.tail=E,K.tailMode=W)}function Ic(d,p,E){var L=p.pendingProps,W=L.revealOrder,K=L.tail;if(Ua(d,p,L.children,E),L=Fa.current,(L&2)!==0)L=L&1|2,p.flags|=128;else{if(d!==null&&(d.flags&128)!==0)e:for(d=p.child;d!==null;){if(d.tag===13)d.memoizedState!==null&&Vo(d,E,p);else if(d.tag===19)Vo(d,E,p);else if(d.child!==null){d.child.return=d,d=d.child;continue}if(d===p)break e;for(;d.sibling===null;){if(d.return===null||d.return===p)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}L&=1}switch(fe(Fa,L),W){case"forwards":for(E=p.child,W=null;E!==null;)d=E.alternate,d!==null&&xh(d)===null&&(W=E),E=E.sibling;E=W,E===null?(W=p.child,p.child=null):(W=E.sibling,E.sibling=null),Vr(p,!1,W,E,K);break;case"backwards":for(E=null,W=p.child,p.child=null;W!==null;){if(d=W.alternate,d!==null&&xh(d)===null){p.child=W;break}d=W.sibling,W.sibling=E,E=W,W=d}Vr(p,!0,E,null,K);break;case"together":Vr(p,!1,null,null,void 0);break;default:p.memoizedState=null}return p.child}function Oo(d,p,E){if(d!==null&&(p.dependencies=d.dependencies),uu|=p.lanes,(E&p.childLanes)===0)if(d!==null){if(Ll(d,p,E,!1),(E&p.childLanes)===0)return null}else return null;if(d!==null&&p.child!==d.child)throw Error(i(153));if(p.child!==null){for(d=p.child,E=ma(d,d.pendingProps),p.child=E,E.return=p;d.sibling!==null;)d=d.sibling,E=E.sibling=ma(d,d.pendingProps),E.return=p;E.sibling=null}return p.child}function Vm(d,p){return(d.lanes&p)!==0?!0:(d=d.dependencies,!!(d!==null&&Jd(d)))}function Dc(d,p,E){switch(p.tag){case 3:Te(p,p.stateNode.containerInfo),Ru(p,la,d.memoizedState.cache),nd();break;case 27:case 5:We(p);break;case 4:Te(p,p.stateNode.containerInfo);break;case 10:Ru(p,p.type,p.memoizedProps.value);break;case 13:var L=p.memoizedState;if(L!==null)return L.dehydrated!==null?(od(p),p.flags|=128,null):(E&p.child.childLanes)!==0?Tp(d,p,E):(od(p),d=Oo(d,p,E),d!==null?d.sibling:null);od(p);break;case 19:var W=(d.flags&128)!==0;if(L=(E&p.childLanes)!==0,L||(Ll(d,p,E,!1),L=(E&p.childLanes)!==0),W){if(L)return Ic(d,p,E);p.flags|=128}if(W=p.memoizedState,W!==null&&(W.rendering=null,W.tail=null,W.lastEffect=null),fe(Fa,Fa.current),L)break;return null;case 22:case 23:return p.lanes=0,lf(d,p,E);case 24:Ru(p,la,d.memoizedState.cache)}return Oo(d,p,E)}function df(d,p,E){if(d!==null)if(d.memoizedProps!==p.pendingProps)Ro=!0;else{if(!Vm(d,E)&&(p.flags&128)===0)return Ro=!1,Dc(d,p,E);Ro=(d.flags&131072)!==0}else Ro=!1,Ur&&(p.flags&1048576)!==0&&cp(p,Mc,p.index);switch(p.lanes=0,p.tag){case 16:e:{d=p.pendingProps;var L=p.elementType,W=L._init;if(L=W(L._payload),p.type=L,typeof L=="function")Zd(L)?(d=Fu(L,d),p.tag=1,p=tc(null,p,L,d,E)):(p.tag=0,p=Cp(null,p,L,d,E));else{if(L!=null){if(W=L.$$typeof,W===T){p.tag=11,p=Nl(null,p,L,d,E);break e}else if(W===C){p.tag=14,p=Fl(null,p,L,d,E);break e}}throw p=U(L)||L,Error(i(306,p,""))}}return p;case 0:return Cp(d,p,p.type,p.pendingProps,E);case 1:return L=p.type,W=Fu(L,p.pendingProps),tc(d,p,L,W,E);case 3:e:{if(Te(p,p.stateNode.containerInfo),d===null)throw Error(i(387));L=p.pendingProps;var K=p.memoizedState;W=K.element,at(d,p),Yi(p,L,null,E);var xe=p.memoizedState;if(L=xe.cache,Ru(p,la,L),L!==K.cache&&Qd(p,[la],E,!0),Vn(),L=xe.element,K.isDehydrated)if(K={element:L,isDehydrated:!1,cache:xe.cache},p.updateQueue.baseState=K,p.memoizedState=K,p.flags&256){p=ud(d,p,L,E);break e}else if(L!==W){W=lo(Error(i(424)),p),Kl(W),p=ud(d,p,L,E);break e}else{switch(d=p.stateNode.containerInfo,d.nodeType){case 9:d=d.body;break;default:d=d.nodeName==="HTML"?d.ownerDocument.body:d}for(As=Ah(d.firstChild),Ho=p,Ur=!0,Ol=null,Jo=!0,E=Tb(p,null,L,E),p.child=E;E;)E.flags=E.flags&-3|4096,E=E.sibling}else{if(nd(),L===W){p=Oo(d,p,E);break e}Ua(d,p,L,E)}p=p.child}return p;case 26:return uf(d,p),d===null?(E=iL(p.type,null,p.pendingProps,null))?p.memoizedState=E:Ur||(E=p.type,d=p.pendingProps,L=kb(ve.current).createElement(E),L[Si]=p,L[er]=d,gl(L,E,d),Ot(L),p.stateNode=L):p.memoizedState=iL(p.type,d.memoizedProps,p.pendingProps,d.memoizedState),null;case 27:return We(p),d===null&&Ur&&(L=p.stateNode=eL(p.type,p.pendingProps,ve.current),Ho=p,Jo=!0,W=As,Fp(p.type)?(nT=W,As=Ah(L.firstChild)):As=W),Ua(d,p,p.pendingProps.children,E),uf(d,p),d===null&&(p.flags|=4194304),p.child;case 5:return d===null&&Ur&&((W=L=As)&&(L=r7(L,p.type,p.pendingProps,Jo),L!==null?(p.stateNode=L,Ho=p,As=Ah(L.firstChild),Jo=!1,W=!0):W=!1),W||hl(p)),We(p),W=p.type,K=p.pendingProps,xe=d!==null?d.memoizedProps:null,L=K.children,QC(W,K)?L=null:xe!==null&&QC(W,xe)&&(p.flags|=32),p.memoizedState!==null&&(W=Qa(d,p,Ja,null,null,E),Hy._currentValue=W),uf(d,p),Ua(d,p,L,E),p.child;case 6:return d===null&&Ur&&((d=E=As)&&(E=s7(E,p.pendingProps,Jo),E!==null?(p.stateNode=E,Ho=p,As=null,d=!0):d=!1),d||hl(p)),null;case 13:return Tp(d,p,E);case 4:return Te(p,p.stateNode.containerInfo),L=p.pendingProps,d===null?p.child=af(p,null,L,E):Ua(d,p,L,E),p.child;case 11:return Nl(d,p,p.type,p.pendingProps,E);case 7:return Ua(d,p,p.pendingProps,E),p.child;case 8:return Ua(d,p,p.pendingProps.children,E),p.child;case 12:return Ua(d,p,p.pendingProps.children,E),p.child;case 10:return L=p.pendingProps,Ru(p,p.type,L.value),Ua(d,p,L.children,E),p.child;case 9:return W=p.type._context,L=p.pendingProps.children,Zl(p),W=oa(W),L=L(W),p.flags|=1,Ua(d,p,L,E),p.child;case 14:return Fl(d,p,p.type,p.pendingProps,E);case 15:return Ly(d,p,p.type,p.pendingProps,E);case 19:return Ic(d,p,E);case 31:return L=p.pendingProps,E=p.mode,L={mode:L.mode,children:L.children},d===null?(E=hf(L,E),E.ref=p.ref,p.child=E,E.return=p,p=E):(E=ma(d.child,L),E.ref=p.ref,p.child=E,E.return=p,p=E),p;case 22:return lf(d,p,E);case 24:return Zl(p),L=oa(la),d===null?(W=Lu(),W===null&&(W=cr,K=ef(),W.pooledCache=K,K.refCount++,K!==null&&(W.pooledCacheLanes|=E),W=K),p.memoizedState={parent:L,cache:W},bt(p),Ru(p,la,W)):((d.lanes&E)!==0&&(at(d,p),Yi(p,null,null,E),Vn()),W=d.memoizedState,K=p.memoizedState,W.parent!==L?(W={parent:L,cache:L},p.memoizedState=W,p.lanes===0&&(p.memoizedState=p.updateQueue.baseState=W),Ru(p,la,L)):(L=K.cache,Ru(p,la,L),L!==W.cache&&Qd(p,[la],E,!0))),Ua(d,p,p.pendingProps.children,E),p.child;case 29:throw p.pendingProps}throw Error(i(156,p.tag))}function ou(d){d.flags|=4}function Wm(d,p){if(p.type!=="stylesheet"||(p.state.loading&4)!==0)d.flags&=-16777217;else if(d.flags|=16777216,!lL(p)){if(p=Is.current,p!==null&&((Pi&4194048)===Pi?ru!==null:(Pi&62914560)!==Pi&&(Pi&536870912)===0||p!==ru))throw Ce=Pu,gp;d.flags|=8192}}function Sh(d,p){p!==null&&(d.flags|=4),d.flags&16384&&(p=d.tag!==22?ct():536870912,d.lanes|=p,Qr|=p)}function ff(d,p){if(!Ur)switch(d.tailMode){case"hidden":p=d.tail;for(var E=null;p!==null;)p.alternate!==null&&(E=p),p=p.sibling;E===null?d.tail=null:E.sibling=null;break;case"collapsed":E=d.tail;for(var L=null;E!==null;)E.alternate!==null&&(L=E),E=E.sibling;L===null?p||d.tail===null?d.tail=null:d.tail.sibling=null:L.sibling=null}}function zs(d){var p=d.alternate!==null&&d.alternate.child===d.child,E=0,L=0;if(p)for(var W=d.child;W!==null;)E|=W.lanes|W.childLanes,L|=W.subtreeFlags&65011712,L|=W.flags&65011712,W.return=d,W=W.sibling;else for(W=d.child;W!==null;)E|=W.lanes|W.childLanes,L|=W.subtreeFlags,L|=W.flags,W.return=d,W=W.sibling;return d.subtreeFlags|=L,d.childLanes=E,p}function Py(d,p,E){var L=p.pendingProps;switch(Tm(p),p.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return zs(p),null;case 1:return zs(p),null;case 3:return E=p.stateNode,L=null,d!==null&&(L=d.memoizedState.cache),p.memoizedState.cache!==L&&(p.flags|=2048),tu(la),Fe(),E.pendingContext&&(E.context=E.pendingContext,E.pendingContext=null),(d===null||d.child===null)&&(Yl(p)?ou(p):d===null||d.memoizedState.isDehydrated&&(p.flags&256)===0||(p.flags|=1024,is())),zs(p),null;case 26:return E=p.memoizedState,d===null?(ou(p),E!==null?(zs(p),Wm(p,E)):(zs(p),p.flags&=-16777217)):E?E!==d.memoizedState?(ou(p),zs(p),Wm(p,E)):(zs(p),p.flags&=-16777217):(d.memoizedProps!==L&&ou(p),zs(p),p.flags&=-16777217),null;case 27:ht(p),E=ve.current;var W=p.type;if(d!==null&&p.stateNode!=null)d.memoizedProps!==L&&ou(p);else{if(!L){if(p.stateNode===null)throw Error(i(166));return zs(p),null}d=ce.current,Yl(p)?hp(p):(d=eL(W,L,E),p.stateNode=d,ou(p))}return zs(p),null;case 5:if(ht(p),E=p.type,d!==null&&p.stateNode!=null)d.memoizedProps!==L&&ou(p);else{if(!L){if(p.stateNode===null)throw Error(i(166));return zs(p),null}if(d=ce.current,Yl(p))hp(p);else{switch(W=kb(ve.current),d){case 1:d=W.createElementNS("http://www.w3.org/2000/svg",E);break;case 2:d=W.createElementNS("http://www.w3.org/1998/Math/MathML",E);break;default:switch(E){case"svg":d=W.createElementNS("http://www.w3.org/2000/svg",E);break;case"math":d=W.createElementNS("http://www.w3.org/1998/Math/MathML",E);break;case"script":d=W.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof L.is=="string"?W.createElement("select",{is:L.is}):W.createElement("select"),L.multiple?d.multiple=!0:L.size&&(d.size=L.size);break;default:d=typeof L.is=="string"?W.createElement(E,{is:L.is}):W.createElement(E)}}d[Si]=p,d[er]=L;e:for(W=p.child;W!==null;){if(W.tag===5||W.tag===6)d.appendChild(W.stateNode);else if(W.tag!==4&&W.tag!==27&&W.child!==null){W.child.return=W,W=W.child;continue}if(W===p)break e;for(;W.sibling===null;){if(W.return===null||W.return===p)break e;W=W.return}W.sibling.return=W.return,W=W.sibling}p.stateNode=d;e:switch(gl(d,E,L),E){case"button":case"input":case"select":case"textarea":d=!!L.autoFocus;break e;case"img":d=!0;break e;default:d=!1}d&&ou(p)}}return zs(p),p.flags&=-16777217,null;case 6:if(d&&p.stateNode!=null)d.memoizedProps!==L&&ou(p);else{if(typeof L!="string"&&p.stateNode===null)throw Error(i(166));if(d=ve.current,Yl(p)){if(d=p.stateNode,E=p.memoizedProps,L=null,W=Ho,W!==null)switch(W.tag){case 27:case 5:L=W.memoizedProps}d[Si]=p,d=!!(d.nodeValue===E||L!==null&&L.suppressHydrationWarning===!0||XO(d.nodeValue,E)),d||hl(p)}else d=kb(d).createTextNode(L),d[Si]=p,p.stateNode=d}return zs(p),null;case 13:if(L=p.memoizedState,d===null||d.memoizedState!==null&&d.memoizedState.dehydrated!==null){if(W=Yl(p),L!==null&&L.dehydrated!==null){if(d===null){if(!W)throw Error(i(318));if(W=p.memoizedState,W=W!==null?W.dehydrated:null,!W)throw Error(i(317));W[Si]=p}else nd(),(p.flags&128)===0&&(p.memoizedState=null),p.flags|=4;zs(p),W=!1}else W=is(),d!==null&&d.memoizedState!==null&&(d.memoizedState.hydrationErrors=W),W=!0;if(!W)return p.flags&256?(Nu(p),p):(Nu(p),null)}if(Nu(p),(p.flags&128)!==0)return p.lanes=E,p;if(E=L!==null,d=d!==null&&d.memoizedState!==null,E){L=p.child,W=null,L.alternate!==null&&L.alternate.memoizedState!==null&&L.alternate.memoizedState.cachePool!==null&&(W=L.alternate.memoizedState.cachePool.pool);var K=null;L.memoizedState!==null&&L.memoizedState.cachePool!==null&&(K=L.memoizedState.cachePool.pool),K!==W&&(L.flags|=2048)}return E!==d&&E&&(p.child.flags|=8192),Sh(p,p.updateQueue),zs(p),null;case 4:return Fe(),d===null&&XC(p.stateNode.containerInfo),zs(p),null;case 10:return tu(p.type),zs(p),null;case 19:if(he(Fa),W=p.memoizedState,W===null)return zs(p),null;if(L=(p.flags&128)!==0,K=W.rendering,K===null)if(L)ff(W,!1);else{if(ea!==0||d!==null&&(d.flags&128)!==0)for(d=p.child;d!==null;){if(K=xh(d),K!==null){for(p.flags|=128,ff(W,!1),d=K.updateQueue,p.updateQueue=d,Sh(p,d),p.subtreeFlags=0,d=E,E=p.child;E!==null;)Em(E,d),E=E.sibling;return fe(Fa,Fa.current&1|2),p.child}d=d.sibling}W.tail!==null&&St()>nl&&(p.flags|=128,L=!0,ff(W,!1),p.lanes=4194304)}else{if(!L)if(d=xh(K),d!==null){if(p.flags|=128,L=!0,d=d.updateQueue,p.updateQueue=d,Sh(p,d),ff(W,!0),W.tail===null&&W.tailMode==="hidden"&&!K.alternate&&!Ur)return zs(p),null}else 2*St()-W.renderingStartTime>nl&&E!==536870912&&(p.flags|=128,L=!0,ff(W,!1),p.lanes=4194304);W.isBackwards?(K.sibling=p.child,p.child=K):(d=W.last,d!==null?d.sibling=K:p.child=K,W.last=K)}return W.tail!==null?(p=W.tail,W.rendering=p,W.tail=p.sibling,W.renderingStartTime=St(),p.sibling=null,d=Fa.current,fe(Fa,L?d&1|2:d&1),p):(zs(p),null);case 22:case 23:return Nu(p),or(),L=p.memoizedState!==null,d!==null?d.memoizedState!==null!==L&&(p.flags|=8192):L&&(p.flags|=8192),L?(E&536870912)!==0&&(p.flags&128)===0&&(zs(p),p.subtreeFlags&6&&(p.flags|=8192)):zs(p),E=p.updateQueue,E!==null&&Sh(p,E.retryQueue),E=null,d!==null&&d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(E=d.memoizedState.cachePool.pool),L=null,p.memoizedState!==null&&p.memoizedState.cachePool!==null&&(L=p.memoizedState.cachePool.pool),L!==E&&(p.flags|=2048),d!==null&&he(Il),null;case 24:return E=null,d!==null&&(E=d.memoizedState.cache),p.memoizedState.cache!==E&&(p.flags|=2048),tu(la),zs(p),null;case 25:return null;case 30:return null}throw Error(i(156,p.tag))}function Ap(d,p){switch(Tm(p),p.tag){case 1:return d=p.flags,d&65536?(p.flags=d&-65537|128,p):null;case 3:return tu(la),Fe(),d=p.flags,(d&65536)!==0&&(d&128)===0?(p.flags=d&-65537|128,p):null;case 26:case 27:case 5:return ht(p),null;case 13:if(Nu(p),d=p.memoizedState,d!==null&&d.dehydrated!==null){if(p.alternate===null)throw Error(i(340));nd()}return d=p.flags,d&65536?(p.flags=d&-65537|128,p):null;case 19:return he(Fa),null;case 4:return Fe(),null;case 10:return tu(p.type),null;case 22:case 23:return Nu(p),or(),d!==null&&he(Il),d=p.flags,d&65536?(p.flags=d&-65537|128,p):null;case 24:return tu(la),null;case 25:return null;default:return null}}function Mp(d,p){switch(Tm(p),p.tag){case 3:tu(la),Fe();break;case 26:case 27:case 5:ht(p);break;case 4:Fe();break;case 13:Nu(p);break;case 19:he(Fa);break;case 10:tu(p.type);break;case 22:case 23:Nu(p),or(),d!==null&&he(Il);break;case 24:tu(la)}}function pf(d,p){try{var E=p.updateQueue,L=E!==null?E.lastEffect:null;if(L!==null){var W=L.next;E=W;do{if((E.tag&d)===d){L=void 0;var K=E.create,xe=E.inst;L=K(),xe.destroy=L}E=E.next}while(E!==W)}}catch(Pe){gt(p,p.return,Pe)}}function nc(d,p,E){try{var L=p.updateQueue,W=L!==null?L.lastEffect:null;if(W!==null){var K=W.next;L=K;do{if((L.tag&d)===d){var xe=L.inst,Pe=xe.destroy;if(Pe!==void 0){xe.destroy=void 0,W=p;var rt=E,zt=Pe;try{zt()}catch(mn){gt(W,rt,mn)}}}L=L.next}while(L!==K)}}catch(mn){gt(p,p.return,mn)}}function mf(d){var p=d.updateQueue;if(p!==null){var E=d.stateNode;try{Qi(p,E)}catch(L){gt(d,d.return,L)}}}function wh(d,p,E){E.props=Fu(d.type,d.memoizedProps),E.state=d.memoizedState;try{E.componentWillUnmount()}catch(L){gt(d,p,L)}}function gf(d,p){try{var E=d.ref;if(E!==null){switch(d.tag){case 26:case 27:case 5:var L=d.stateNode;break;case 30:L=d.stateNode;break;default:L=d.stateNode}typeof E=="function"?d.refCleanup=E(L):E.current=L}}catch(W){gt(d,p,W)}}function ku(d,p){var E=d.ref,L=d.refCleanup;if(E!==null)if(typeof L=="function")try{L()}catch(W){gt(d,p,W)}finally{d.refCleanup=null,d=d.alternate,d!=null&&(d.refCleanup=null)}else if(typeof E=="function")try{E(null)}catch(W){gt(d,p,W)}else E.current=null}function Rp(d){var p=d.type,E=d.memoizedProps,L=d.stateNode;try{e:switch(p){case"button":case"input":case"select":case"textarea":E.autoFocus&&L.focus();break e;case"img":E.src?L.src=E.src:E.srcSet&&(L.srcset=E.srcSet)}}catch(W){gt(d,d.return,W)}}function jm(d,p,E){try{var L=d.stateNode;Jz(L,d.type,E,p),L[er]=p}catch(W){gt(d,d.return,W)}}function Xm(d){return d.tag===5||d.tag===3||d.tag===26||d.tag===27&&Fp(d.type)||d.tag===4}function hd(d){e:for(;;){for(;d.sibling===null;){if(d.return===null||Xm(d.return))return null;d=d.return}for(d.sibling.return=d.return,d=d.sibling;d.tag!==5&&d.tag!==6&&d.tag!==18;){if(d.tag===27&&Fp(d.type)||d.flags&2||d.child===null||d.tag===4)continue e;d.child.return=d,d=d.child}if(!(d.flags&2))return d.stateNode}}function dd(d,p,E){var L=d.tag;if(L===5||L===6)d=d.stateNode,p?(E.nodeType===9?E.body:E.nodeName==="HTML"?E.ownerDocument.body:E).insertBefore(d,p):(p=E.nodeType===9?E.body:E.nodeName==="HTML"?E.ownerDocument.body:E,p.appendChild(d),E=E._reactRootContainer,E!=null||p.onclick!==null||(p.onclick=Ub));else if(L!==4&&(L===27&&Fp(d.type)&&(E=d.stateNode,p=null),d=d.child,d!==null))for(dd(d,p,E),d=d.sibling;d!==null;)dd(d,p,E),d=d.sibling}function fd(d,p,E){var L=d.tag;if(L===5||L===6)d=d.stateNode,p?E.insertBefore(d,p):E.appendChild(d);else if(L!==4&&(L===27&&Fp(d.type)&&(E=d.stateNode),d=d.child,d!==null))for(fd(d,p,E),d=d.sibling;d!==null;)fd(d,p,E),d=d.sibling}function pd(d){var p=d.stateNode,E=d.memoizedProps;try{for(var L=d.type,W=p.attributes;W.length;)p.removeAttributeNode(W[0]);gl(p,L,E),p[Si]=d,p[er]=E}catch(K){gt(d,d.return,K)}}var Bu=!1,Gs=!1,Op=!1,ic=typeof WeakSet=="function"?WeakSet:Set,Ds=null;function ho(d,p){if(d=d.containerInfo,KC=Vb,d=Jh(d),$e(d)){if("selectionStart"in d)var E={start:d.selectionStart,end:d.selectionEnd};else e:{E=(E=d.ownerDocument)&&E.defaultView||window;var L=E.getSelection&&E.getSelection();if(L&&L.rangeCount!==0){E=L.anchorNode;var W=L.anchorOffset,K=L.focusNode;L=L.focusOffset;try{E.nodeType,K.nodeType}catch{E=null;break e}var xe=0,Pe=-1,rt=-1,zt=0,mn=0,En=d,Wt=null;t:for(;;){for(var Yt;En!==E||W!==0&&En.nodeType!==3||(Pe=xe+W),En!==K||L!==0&&En.nodeType!==3||(rt=xe+L),En.nodeType===3&&(xe+=En.nodeValue.length),(Yt=En.firstChild)!==null;)Wt=En,En=Yt;for(;;){if(En===d)break t;if(Wt===E&&++zt===W&&(Pe=xe),Wt===K&&++mn===L&&(rt=xe),(Yt=En.nextSibling)!==null)break;En=Wt,Wt=En.parentNode}En=Yt}E=Pe===-1||rt===-1?null:{start:Pe,end:rt}}else E=null}E=E||{start:0,end:0}}else E=null;for(ZC={focusedElem:d,selectionRange:E},Vb=!1,Ds=p;Ds!==null;)if(p=Ds,d=p.child,(p.subtreeFlags&1024)!==0&&d!==null)d.return=p,Ds=d;else for(;Ds!==null;){switch(p=Ds,K=p.alternate,d=p.flags,p.tag){case 0:break;case 11:case 15:break;case 1:if((d&1024)!==0&&K!==null){d=void 0,E=p,W=K.memoizedProps,K=K.memoizedState,L=E.stateNode;try{var tr=Fu(E.type,W,E.elementType===E.type);d=L.getSnapshotBeforeUpdate(tr,K),L.__reactInternalSnapshotBeforeUpdate=d}catch(Xi){gt(E,E.return,Xi)}}break;case 3:if((d&1024)!==0){if(d=p.stateNode.containerInfo,E=d.nodeType,E===9)eT(d);else if(E===1)switch(d.nodeName){case"HEAD":case"HTML":case"BODY":eT(d);break;default:d.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((d&1024)!==0)throw Error(i(163))}if(d=p.sibling,d!==null){d.return=p.return,Ds=d;break}Ds=p.return}}function Eh(d,p,E){var L=E.flags;switch(E.tag){case 0:case 11:case 15:pl(d,E),L&4&&pf(5,E);break;case 1:if(pl(d,E),L&4)if(d=E.stateNode,p===null)try{d.componentDidMount()}catch(xe){gt(E,E.return,xe)}else{var W=Fu(E.type,p.memoizedProps);p=p.memoizedState;try{d.componentDidUpdate(W,p,d.__reactInternalSnapshotBeforeUpdate)}catch(xe){gt(E,E.return,xe)}}L&64&&mf(E),L&512&&gf(E,E.return);break;case 3:if(pl(d,E),L&64&&(d=E.updateQueue,d!==null)){if(p=null,E.child!==null)switch(E.child.tag){case 27:case 5:p=E.child.stateNode;break;case 1:p=E.child.stateNode}try{Qi(d,p)}catch(xe){gt(E,E.return,xe)}}break;case 27:p===null&&L&4&&pd(E);case 26:case 5:pl(d,E),p===null&&L&4&&Rp(E),L&512&&gf(E,E.return);break;case 12:pl(d,E);break;case 13:pl(d,E),L&4&&md(d,E),L&64&&(d=E.memoizedState,d!==null&&(d=d.dehydrated,d!==null&&(E=ta.bind(null,E),a7(d,E))));break;case 22:if(L=E.memoizedState!==null||Bu,!L){p=p!==null&&p.memoizedState!==null||Gs,W=Bu;var K=Gs;Bu=L,(Gs=p)&&!K?zu(d,E,(E.subtreeFlags&8772)!==0):pl(d,E),Bu=W,Gs=K}break;case 30:break;default:pl(d,E)}}function vr(d){var p=d.alternate;p!==null&&(d.alternate=null,vr(p)),d.child=null,d.deletions=null,d.sibling=null,d.tag===5&&(p=d.stateNode,p!==null&&zi(p)),d.stateNode=null,d.return=null,d.dependencies=null,d.memoizedProps=null,d.memoizedState=null,d.pendingProps=null,d.stateNode=null,d.updateQueue=null}var ki=null,Zr=!1;function Nc(d,p,E){for(E=E.child;E!==null;)vf(d,p,E),E=E.sibling}function vf(d,p,E){if(Qe&&typeof Qe.onCommitFiberUnmount=="function")try{Qe.onCommitFiberUnmount(it,E)}catch{}switch(E.tag){case 26:Gs||ku(E,p),Nc(d,p,E),E.memoizedState?E.memoizedState.count--:E.stateNode&&(E=E.stateNode,E.parentNode.removeChild(E));break;case 27:Gs||ku(E,p);var L=ki,W=Zr;Fp(E.type)&&(ki=E.stateNode,Zr=!1),Nc(d,p,E),ky(E.stateNode),ki=L,Zr=W;break;case 5:Gs||ku(E,p);case 6:if(L=ki,W=Zr,ki=null,Nc(d,p,E),ki=L,Zr=W,ki!==null)if(Zr)try{(ki.nodeType===9?ki.body:ki.nodeName==="HTML"?ki.ownerDocument.body:ki).removeChild(E.stateNode)}catch(K){gt(E,p,K)}else try{ki.removeChild(E.stateNode)}catch(K){gt(E,p,K)}break;case 18:ki!==null&&(Zr?(d=ki,QO(d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d,E.stateNode),jy(d)):QO(ki,E.stateNode));break;case 4:L=ki,W=Zr,ki=E.stateNode.containerInfo,Zr=!0,Nc(d,p,E),ki=L,Zr=W;break;case 0:case 11:case 14:case 15:Gs||nc(2,E,p),Gs||nc(4,E,p),Nc(d,p,E);break;case 1:Gs||(ku(E,p),L=E.stateNode,typeof L.componentWillUnmount=="function"&&wh(E,p,L)),Nc(d,p,E);break;case 21:Nc(d,p,E);break;case 22:Gs=(L=Gs)||E.memoizedState!==null,Nc(d,p,E),Gs=L;break;default:Nc(d,p,E)}}function md(d,p){if(p.memoizedState===null&&(d=p.alternate,d!==null&&(d=d.memoizedState,d!==null&&(d=d.dehydrated,d!==null))))try{jy(d)}catch(E){gt(p,p.return,E)}}function Sv(d){switch(d.tag){case 13:case 19:var p=d.stateNode;return p===null&&(p=d.stateNode=new ic),p;case 22:return d=d.stateNode,p=d._retryCache,p===null&&(p=d._retryCache=new ic),p;default:throw Error(i(435,d.tag))}}function yf(d,p){var E=Sv(d);p.forEach(function(L){var W=Ji.bind(null,d,L);E.has(L)||(E.add(L),L.then(W,W))})}function Lo(d,p){var E=p.deletions;if(E!==null)for(var L=0;L<E.length;L++){var W=E[L],K=d,xe=p,Pe=xe;e:for(;Pe!==null;){switch(Pe.tag){case 27:if(Fp(Pe.type)){ki=Pe.stateNode,Zr=!1;break e}break;case 5:ki=Pe.stateNode,Zr=!1;break e;case 3:case 4:ki=Pe.stateNode.containerInfo,Zr=!0;break e}Pe=Pe.return}if(ki===null)throw Error(i(160));vf(K,xe,W),ki=null,Zr=!1,K=W.alternate,K!==null&&(K.return=null),W.return=null}if(p.subtreeFlags&13878)for(p=p.child;p!==null;)wv(p,d),p=p.sibling}var lu=null;function wv(d,p){var E=d.alternate,L=d.flags;switch(d.tag){case 0:case 11:case 14:case 15:Lo(p,d),Ca(d),L&4&&(nc(3,d,d.return),pf(3,d),nc(5,d,d.return));break;case 1:Lo(p,d),Ca(d),L&512&&(Gs||E===null||ku(E,E.return)),L&64&&Bu&&(d=d.updateQueue,d!==null&&(L=d.callbacks,L!==null&&(E=d.shared.hiddenCallbacks,d.shared.hiddenCallbacks=E===null?L:E.concat(L))));break;case 26:var W=lu;if(Lo(p,d),Ca(d),L&512&&(Gs||E===null||ku(E,E.return)),L&4){var K=E!==null?E.memoizedState:null;if(L=d.memoizedState,E===null)if(L===null)if(d.stateNode===null){e:{L=d.type,E=d.memoizedProps,W=W.ownerDocument||W;t:switch(L){case"title":K=W.getElementsByTagName("title")[0],(!K||K[rr]||K[Si]||K.namespaceURI==="http://www.w3.org/2000/svg"||K.hasAttribute("itemprop"))&&(K=W.createElement(L),W.head.insertBefore(K,W.querySelector("head > title"))),gl(K,L,E),K[Si]=d,Ot(K),L=K;break e;case"link":var xe=aL("link","href",W).get(L+(E.href||""));if(xe){for(var Pe=0;Pe<xe.length;Pe++)if(K=xe[Pe],K.getAttribute("href")===(E.href==null||E.href===""?null:E.href)&&K.getAttribute("rel")===(E.rel==null?null:E.rel)&&K.getAttribute("title")===(E.title==null?null:E.title)&&K.getAttribute("crossorigin")===(E.crossOrigin==null?null:E.crossOrigin)){xe.splice(Pe,1);break t}}K=W.createElement(L),gl(K,L,E),W.head.appendChild(K);break;case"meta":if(xe=aL("meta","content",W).get(L+(E.content||""))){for(Pe=0;Pe<xe.length;Pe++)if(K=xe[Pe],K.getAttribute("content")===(E.content==null?null:""+E.content)&&K.getAttribute("name")===(E.name==null?null:E.name)&&K.getAttribute("property")===(E.property==null?null:E.property)&&K.getAttribute("http-equiv")===(E.httpEquiv==null?null:E.httpEquiv)&&K.getAttribute("charset")===(E.charSet==null?null:E.charSet)){xe.splice(Pe,1);break t}}K=W.createElement(L),gl(K,L,E),W.head.appendChild(K);break;default:throw Error(i(468,L))}K[Si]=d,Ot(K),L=K}d.stateNode=L}else oL(W,d.type,d.stateNode);else d.stateNode=sL(W,L,d.memoizedProps);else K!==L?(K===null?E.stateNode!==null&&(E=E.stateNode,E.parentNode.removeChild(E)):K.count--,L===null?oL(W,d.type,d.stateNode):sL(W,L,d.memoizedProps)):L===null&&d.stateNode!==null&&jm(d,d.memoizedProps,E.memoizedProps)}break;case 27:Lo(p,d),Ca(d),L&512&&(Gs||E===null||ku(E,E.return)),E!==null&&L&4&&jm(d,d.memoizedProps,E.memoizedProps);break;case 5:if(Lo(p,d),Ca(d),L&512&&(Gs||E===null||ku(E,E.return)),d.flags&32){W=d.stateNode;try{es(W,"")}catch(Yt){gt(d,d.return,Yt)}}L&4&&d.stateNode!=null&&(W=d.memoizedProps,jm(d,W,E!==null?E.memoizedProps:W)),L&1024&&(Op=!0);break;case 6:if(Lo(p,d),Ca(d),L&4){if(d.stateNode===null)throw Error(i(162));L=d.memoizedProps,E=d.stateNode;try{E.nodeValue=L}catch(Yt){gt(d,d.return,Yt)}}break;case 3:if(Gb=null,W=lu,lu=Bb(p.containerInfo),Lo(p,d),lu=W,Ca(d),L&4&&E!==null&&E.memoizedState.isDehydrated)try{jy(p.containerInfo)}catch(Yt){gt(d,d.return,Yt)}Op&&(Op=!1,gd(d));break;case 4:L=lu,lu=Bb(d.stateNode.containerInfo),Lo(p,d),Ca(d),lu=L;break;case 12:Lo(p,d),Ca(d);break;case 13:Lo(p,d),Ca(d),d.child.flags&8192&&d.memoizedState!==null!=(E!==null&&E.memoizedState!==null)&&(Ms=St()),L&4&&(L=d.updateQueue,L!==null&&(d.updateQueue=null,yf(d,L)));break;case 22:W=d.memoizedState!==null;var rt=E!==null&&E.memoizedState!==null,zt=Bu,mn=Gs;if(Bu=zt||W,Gs=mn||rt,Lo(p,d),Gs=mn,Bu=zt,Ca(d),L&8192)e:for(p=d.stateNode,p._visibility=W?p._visibility&-2:p._visibility|1,W&&(E===null||rt||Bu||Gs||rc(d)),E=null,p=d;;){if(p.tag===5||p.tag===26){if(E===null){rt=E=p;try{if(K=rt.stateNode,W)xe=K.style,typeof xe.setProperty=="function"?xe.setProperty("display","none","important"):xe.display="none";else{Pe=rt.stateNode;var En=rt.memoizedProps.style,Wt=En!=null&&En.hasOwnProperty("display")?En.display:null;Pe.style.display=Wt==null||typeof Wt=="boolean"?"":(""+Wt).trim()}}catch(Yt){gt(rt,rt.return,Yt)}}}else if(p.tag===6){if(E===null){rt=p;try{rt.stateNode.nodeValue=W?"":rt.memoizedProps}catch(Yt){gt(rt,rt.return,Yt)}}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===d)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===d)break e;for(;p.sibling===null;){if(p.return===null||p.return===d)break e;E===p&&(E=null),p=p.return}E===p&&(E=null),p.sibling.return=p.return,p=p.sibling}L&4&&(L=d.updateQueue,L!==null&&(E=L.retryQueue,E!==null&&(L.retryQueue=null,yf(d,E))));break;case 19:Lo(p,d),Ca(d),L&4&&(L=d.updateQueue,L!==null&&(d.updateQueue=null,yf(d,L)));break;case 30:break;case 21:break;default:Lo(p,d),Ca(d)}}function Ca(d){var p=d.flags;if(p&2){try{for(var E,L=d.return;L!==null;){if(Xm(L)){E=L;break}L=L.return}if(E==null)throw Error(i(160));switch(E.tag){case 27:var W=E.stateNode,K=hd(d);fd(d,K,W);break;case 5:var xe=E.stateNode;E.flags&32&&(es(xe,""),E.flags&=-33);var Pe=hd(d);fd(d,Pe,xe);break;case 3:case 4:var rt=E.stateNode.containerInfo,zt=hd(d);dd(d,zt,rt);break;default:throw Error(i(161))}}catch(mn){gt(d,d.return,mn)}d.flags&=-3}p&4096&&(d.flags&=-4097)}function gd(d){if(d.subtreeFlags&1024)for(d=d.child;d!==null;){var p=d;gd(p),p.tag===5&&p.flags&1024&&p.stateNode.reset(),d=d.sibling}}function pl(d,p){if(p.subtreeFlags&8772)for(p=p.child;p!==null;)Eh(d,p.alternate,p),p=p.sibling}function rc(d){for(d=d.child;d!==null;){var p=d;switch(p.tag){case 0:case 11:case 14:case 15:nc(4,p,p.return),rc(p);break;case 1:ku(p,p.return);var E=p.stateNode;typeof E.componentWillUnmount=="function"&&wh(p,p.return,E),rc(p);break;case 27:ky(p.stateNode);case 26:case 5:ku(p,p.return),rc(p);break;case 22:p.memoizedState===null&&rc(p);break;case 30:rc(p);break;default:rc(p)}d=d.sibling}}function zu(d,p,E){for(E=E&&(p.subtreeFlags&8772)!==0,p=p.child;p!==null;){var L=p.alternate,W=d,K=p,xe=K.flags;switch(K.tag){case 0:case 11:case 15:zu(W,K,E),pf(4,K);break;case 1:if(zu(W,K,E),L=K,W=L.stateNode,typeof W.componentDidMount=="function")try{W.componentDidMount()}catch(zt){gt(L,L.return,zt)}if(L=K,W=L.updateQueue,W!==null){var Pe=L.stateNode;try{var rt=W.shared.hiddenCallbacks;if(rt!==null)for(W.shared.hiddenCallbacks=null,W=0;W<rt.length;W++)Ti(rt[W],Pe)}catch(zt){gt(L,L.return,zt)}}E&&xe&64&&mf(K),gf(K,K.return);break;case 27:pd(K);case 26:case 5:zu(W,K,E),E&&L===null&&xe&4&&Rp(K),gf(K,K.return);break;case 12:zu(W,K,E);break;case 13:zu(W,K,E),E&&xe&4&&md(W,K);break;case 22:K.memoizedState===null&&zu(W,K,E),gf(K,K.return);break;case 30:break;default:zu(W,K,E)}p=p.sibling}}function Ev(d,p){var E=null;d!==null&&d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(E=d.memoizedState.cachePool.pool),d=null,p.memoizedState!==null&&p.memoizedState.cachePool!==null&&(d=p.memoizedState.cachePool.pool),d!==E&&(d!=null&&d.refCount++,E!=null&&Ou(E))}function Cv(d,p){d=null,p.alternate!==null&&(d=p.alternate.memoizedState.cache),p=p.memoizedState.cache,p!==d&&(p.refCount++,d!=null&&Ou(d))}function Ns(d,p,E,L){if(p.subtreeFlags&10256)for(p=p.child;p!==null;)Tv(d,p,E,L),p=p.sibling}function Tv(d,p,E,L){var W=p.flags;switch(p.tag){case 0:case 11:case 15:Ns(d,p,E,L),W&2048&&pf(9,p);break;case 1:Ns(d,p,E,L);break;case 3:Ns(d,p,E,L),W&2048&&(d=null,p.alternate!==null&&(d=p.alternate.memoizedState.cache),p=p.memoizedState.cache,p!==d&&(p.refCount++,d!=null&&Ou(d)));break;case 12:if(W&2048){Ns(d,p,E,L),d=p.stateNode;try{var K=p.memoizedProps,xe=K.id,Pe=K.onPostCommit;typeof Pe=="function"&&Pe(xe,p.alternate===null?"mount":"update",d.passiveEffectDuration,-0)}catch(rt){gt(p,p.return,rt)}}else Ns(d,p,E,L);break;case 13:Ns(d,p,E,L);break;case 23:break;case 22:K=p.stateNode,xe=p.alternate,p.memoizedState!==null?K._visibility&2?Ns(d,p,E,L):cu(d,p):K._visibility&2?Ns(d,p,E,L):(K._visibility|=2,Ch(d,p,E,L,(p.subtreeFlags&10256)!==0)),W&2048&&Ev(xe,p);break;case 24:Ns(d,p,E,L),W&2048&&Cv(p.alternate,p);break;default:Ns(d,p,E,L)}}function Ch(d,p,E,L,W){for(W=W&&(p.subtreeFlags&10256)!==0,p=p.child;p!==null;){var K=d,xe=p,Pe=E,rt=L,zt=xe.flags;switch(xe.tag){case 0:case 11:case 15:Ch(K,xe,Pe,rt,W),pf(8,xe);break;case 23:break;case 22:var mn=xe.stateNode;xe.memoizedState!==null?mn._visibility&2?Ch(K,xe,Pe,rt,W):cu(K,xe):(mn._visibility|=2,Ch(K,xe,Pe,rt,W)),W&&zt&2048&&Ev(xe.alternate,xe);break;case 24:Ch(K,xe,Pe,rt,W),W&&zt&2048&&Cv(xe.alternate,xe);break;default:Ch(K,xe,Pe,rt,W)}p=p.sibling}}function cu(d,p){if(p.subtreeFlags&10256)for(p=p.child;p!==null;){var E=d,L=p,W=L.flags;switch(L.tag){case 22:cu(E,L),W&2048&&Ev(L.alternate,L);break;case 24:cu(E,L),W&2048&&Cv(L.alternate,L);break;default:cu(E,L)}p=p.sibling}}var sc=8192;function Lp(d){if(d.subtreeFlags&sc)for(d=d.child;d!==null;)Ib(d),d=d.sibling}function Ib(d){switch(d.tag){case 26:Lp(d),d.flags&sc&&d.memoizedState!==null&&_7(lu,d.memoizedState,d.memoizedProps);break;case 5:Lp(d);break;case 3:case 4:var p=lu;lu=Bb(d.stateNode.containerInfo),Lp(d),lu=p;break;case 22:d.memoizedState===null&&(p=d.alternate,p!==null&&p.memoizedState!==null?(p=sc,sc=16777216,Lp(d),sc=p):Lp(d));break;default:Lp(d)}}function Db(d){var p=d.alternate;if(p!==null&&(d=p.child,d!==null)){p.child=null;do p=d.sibling,d.sibling=null,d=p;while(d!==null)}}function Hs(d){var p=d.deletions;if((d.flags&16)!==0){if(p!==null)for(var E=0;E<p.length;E++){var L=p[E];Ds=L,Hu(L,d)}Db(d)}if(d.subtreeFlags&10256)for(d=d.child;d!==null;)Iy(d),d=d.sibling}function Iy(d){switch(d.tag){case 0:case 11:case 15:Hs(d),d.flags&2048&&nc(9,d,d.return);break;case 3:Hs(d);break;case 12:Hs(d);break;case 22:var p=d.stateNode;d.memoizedState!==null&&p._visibility&2&&(d.return===null||d.return.tag!==13)?(p._visibility&=-3,Gu(d)):Hs(d);break;default:Hs(d)}}function Gu(d){var p=d.deletions;if((d.flags&16)!==0){if(p!==null)for(var E=0;E<p.length;E++){var L=p[E];Ds=L,Hu(L,d)}Db(d)}for(d=d.child;d!==null;){switch(p=d,p.tag){case 0:case 11:case 15:nc(8,p,p.return),Gu(p);break;case 22:E=p.stateNode,E._visibility&2&&(E._visibility&=-3,Gu(p));break;default:Gu(p)}d=d.sibling}}function Hu(d,p){for(;Ds!==null;){var E=Ds;switch(E.tag){case 0:case 11:case 15:nc(8,E,p);break;case 23:case 22:if(E.memoizedState!==null&&E.memoizedState.cachePool!==null){var L=E.memoizedState.cachePool.pool;L!=null&&L.refCount++}break;case 24:Ou(E.memoizedState.cache)}if(L=E.child,L!==null)L.return=E,Ds=L;else e:for(E=d;Ds!==null;){L=Ds;var W=L.sibling,K=L.return;if(vr(L),L===E){Ds=null;break e}if(W!==null){W.return=K,Ds=W;break e}Ds=K}}}var Ta={getCacheForType:function(d){var p=oa(la),E=p.data.get(d);return E===void 0&&(E=d(),p.data.set(d,E)),E}},Dy=typeof WeakMap=="function"?WeakMap:Map,fs=0,cr=null,Mr=null,Pi=0,mr=0,ga=null,ac=!1,Pp=!1,Ip=!1,Fc=0,ea=0,uu=0,$u=0,_f=0,Uc=0,Qr=0,ps=null,Hi=null,kr=!1,Ms=0,nl=1/0,kc=null,oc=null,fo=0,il=null,Fs=null,lc=0,Th=0,qm=null,cc=null,Vu=0,bf=null;function Aa(){if((fs&2)!==0&&Pi!==0)return Pi&-Pi;if(k.T!==null){var d=ar;return d!==0?d:$C()}return Wn()}function Av(){Uc===0&&(Uc=(Pi&536870912)===0||Ur?Ye():536870912);var d=Is.current;return d!==null&&(d.flags|=32),Uc}function ml(d,p,E){(d===cr&&(mr===2||mr===9)||d.cancelPendingCommit!==null)&&(yd(d,0),hu(d,Pi,Uc,!1)),Sn(d,E),((fs&2)===0||d!==cr)&&(d===cr&&((fs&2)===0&&($u|=E),ea===4&&hu(d,Pi,Uc,!1)),xd(d))}function Dp(d,p,E){if((fs&6)!==0)throw Error(i(327));var L=!E&&(p&124)===0&&(p&d.expiredLanes)===0||lt(d,p),W=L?X(d,p):w(d,p,!0),K=L;do{if(W===0){Pp&&!L&&hu(d,p,0,!1);break}else{if(E=d.current.alternate,K&&!vd(E)){W=w(d,p,!1),K=!1;continue}if(W===2){if(K=p,d.errorRecoveryDisabledLanes&K)var xe=0;else xe=d.pendingLanes&-536870913,xe=xe!==0?xe:xe&536870912?536870912:0;if(xe!==0){p=xe;e:{var Pe=d;W=ps;var rt=Pe.current.memoizedState.isDehydrated;if(rt&&(yd(Pe,xe).flags|=256),xe=w(Pe,xe,!1),xe!==2){if(Ip&&!rt){Pe.errorRecoveryDisabledLanes|=K,$u|=K,W=4;break e}K=Hi,Hi=W,K!==null&&(Hi===null?Hi=K:Hi.push.apply(Hi,K))}W=xe}if(K=!1,W!==2)continue}}if(W===1){yd(d,0),hu(d,p,0,!0);break}e:{switch(L=d,K=W,K){case 0:case 1:throw Error(i(345));case 4:if((p&4194048)!==p)break;case 6:hu(L,p,Uc,!ac);break e;case 2:Hi=null;break;case 3:case 5:break;default:throw Error(i(329))}if((p&62914560)===p&&(W=Ms+300-St(),10<W)){if(hu(L,p,Uc,!ac),Ve(L,0,!0)!==0)break e;L.timeoutHandle=KO(Ym.bind(null,L,E,Hi,kc,kr,p,Uc,$u,Qr,ac,K,2,-0,0),W);break e}Ym(L,E,Hi,kc,kr,p,Uc,$u,Qr,ac,K,0,-0,0)}}break}while(!0);xd(d)}function Ym(d,p,E,L,W,K,xe,Pe,rt,zt,mn,En,Wt,Yt){if(d.timeoutHandle=-1,En=p.subtreeFlags,(En&8192||(En&16785408)===16785408)&&(Gy={stylesheets:null,count:0,unsuspend:y7},Ib(p),En=b7(),En!==null)){d.cancelPendingCommit=En(kn.bind(null,d,p,K,E,L,W,xe,Pe,rt,mn,1,Wt,Yt)),hu(d,K,xe,!zt);return}kn(d,p,K,E,L,W,xe,Pe,rt)}function vd(d){for(var p=d;;){var E=p.tag;if((E===0||E===11||E===15)&&p.flags&16384&&(E=p.updateQueue,E!==null&&(E=E.stores,E!==null)))for(var L=0;L<E.length;L++){var W=E[L],K=W.getSnapshot;W=W.value;try{if(!sa(K(),W))return!1}catch{return!1}}if(E=p.child,p.subtreeFlags&16384&&E!==null)E.return=p,p=E;else{if(p===d)break;for(;p.sibling===null;){if(p.return===null||p.return===d)return!0;p=p.return}p.sibling.return=p.return,p=p.sibling}}return!0}function hu(d,p,E,L){p&=~_f,p&=~$u,d.suspendedLanes|=p,d.pingedLanes&=~p,L&&(d.warmLanes|=p),L=d.expirationTimes;for(var W=p;0<W;){var K=31-At(W),xe=1<<K;L[K]=-1,W&=~xe}E!==0&&wt(d,E,p)}function Wu(){return(fs&6)===0?(Ny(0),!1):!0}function xf(){if(Mr!==null){if(mr===0)var d=Mr.return;else d=Mr,eu=Mu=null,tl(d),sf=null,Gm=0,d=Mr;for(;d!==null;)Mp(d.alternate,d),d=d.return;Mr=null}}function yd(d,p){var E=d.timeoutHandle;E!==-1&&(d.timeoutHandle=-1,t7(E)),E=d.cancelPendingCommit,E!==null&&(d.cancelPendingCommit=null,E()),xf(),cr=d,Mr=E=ma(d.current,null),Pi=p,mr=0,ga=null,ac=!1,Pp=lt(d,p),Ip=!1,Qr=Uc=_f=$u=uu=ea=0,Hi=ps=null,kr=!1,(p&8)!==0&&(p|=p&32);var L=d.entangledLanes;if(L!==0)for(d=d.entanglements,L&=p;0<L;){var W=31-At(L),K=1<<W;p|=d[W],L&=~K}return Fc=p,Kd(),E}function Mv(d,p){Hn=null,k.H=zm,p===rf||p===el?(p=q(),mr=3):p===gp?(p=q(),mr=4):mr=p===Pb?8:p!==null&&typeof p=="object"&&typeof p.then=="function"?6:1,ga=p,Mr===null&&(ea=1,_v(d,lo(p,d.current)))}function Np(){var d=k.H;return k.H=zm,d===null?zm:d}function Rv(){var d=k.A;return k.A=Ta,d}function x(){ea=4,ac||(Pi&4194048)!==Pi&&Is.current!==null||(Pp=!0),(uu&134217727)===0&&($u&134217727)===0||cr===null||hu(cr,Pi,Uc,!1)}function w(d,p,E){var L=fs;fs|=2;var W=Np(),K=Rv();(cr!==d||Pi!==p)&&(kc=null,yd(d,p)),p=!1;var xe=ea;e:do try{if(mr!==0&&Mr!==null){var Pe=Mr,rt=ga;switch(mr){case 8:xf(),xe=6;break e;case 3:case 2:case 9:case 6:Is.current===null&&(p=!0);var zt=mr;if(mr=0,ga=null,st(d,Pe,rt,zt),E&&Pp){xe=0;break e}break;default:zt=mr,mr=0,ga=null,st(d,Pe,rt,zt)}}N(),xe=ea;break}catch(mn){Mv(d,mn)}while(!0);return p&&d.shellSuspendCounter++,eu=Mu=null,fs=L,k.H=W,k.A=K,Mr===null&&(cr=null,Pi=0,Kd()),xe}function N(){for(;Mr!==null;)ue(Mr)}function X(d,p){var E=fs;fs|=2;var L=Np(),W=Rv();cr!==d||Pi!==p?(kc=null,nl=St()+500,yd(d,p)):Pp=lt(d,p);e:do try{if(mr!==0&&Mr!==null){p=Mr;var K=ga;t:switch(mr){case 1:mr=0,ga=null,st(d,p,K,1);break;case 2:case 9:if(vp(K)){mr=0,ga=null,Ne(p);break}p=function(){mr!==2&&mr!==9||cr!==d||(mr=7),xd(d)},K.then(p,p);break e;case 3:mr=7;break e;case 4:mr=5;break e;case 7:vp(K)?(mr=0,ga=null,Ne(p)):(mr=0,ga=null,st(d,p,K,7));break;case 5:var xe=null;switch(Mr.tag){case 26:xe=Mr.memoizedState;case 5:case 27:var Pe=Mr;if(!xe||lL(xe)){mr=0,ga=null;var rt=Pe.sibling;if(rt!==null)Mr=rt;else{var zt=Pe.return;zt!==null?(Mr=zt,Mt(zt)):Mr=null}break t}}mr=0,ga=null,st(d,p,K,5);break;case 6:mr=0,ga=null,st(d,p,K,6);break;case 8:xf(),ea=6;break e;default:throw Error(i(462))}}J();break}catch(mn){Mv(d,mn)}while(!0);return eu=Mu=null,k.H=L,k.A=W,fs=E,Mr!==null?0:(cr=null,Pi=0,Kd(),ea)}function J(){for(;Mr!==null&&!yt();)ue(Mr)}function ue(d){var p=df(d.alternate,d,Fc);d.memoizedProps=d.pendingProps,p===null?Mt(d):Mr=p}function Ne(d){var p=d,E=p.alternate;switch(p.tag){case 15:case 0:p=ec(E,p,p.pendingProps,p.type,void 0,Pi);break;case 11:p=ec(E,p,p.pendingProps,p.type.render,p.ref,Pi);break;case 5:tl(p);default:Mp(E,p),p=Mr=Em(p,Fc),p=df(E,p,Fc)}d.memoizedProps=d.pendingProps,p===null?Mt(d):Mr=p}function st(d,p,E,L){eu=Mu=null,tl(p),sf=null,Gm=0;var W=p.return;try{if(GC(d,W,p,E,Pi)){ea=1,_v(d,lo(E,d.current)),Mr=null;return}}catch(K){if(W!==null)throw Mr=W,K;ea=1,_v(d,lo(E,d.current)),Mr=null;return}p.flags&32768?(Ur||L===1?d=!0:Pp||(Pi&536870912)!==0?d=!1:(ac=d=!0,(L===2||L===9||L===3||L===6)&&(L=Is.current,L!==null&&L.tag===13&&(L.flags|=16384))),pn(p,d)):Mt(p)}function Mt(d){var p=d;do{if((p.flags&32768)!==0){pn(p,ac);return}d=p.return;var E=Py(p.alternate,p,Fc);if(E!==null){Mr=E;return}if(p=p.sibling,p!==null){Mr=p;return}Mr=p=d}while(p!==null);ea===0&&(ea=5)}function pn(d,p){do{var E=Ap(d.alternate,d);if(E!==null){E.flags&=32767,Mr=E;return}if(E=d.return,E!==null&&(E.flags|=32768,E.subtreeFlags=0,E.deletions=null),!p&&(d=d.sibling,d!==null)){Mr=d;return}Mr=d=E}while(d!==null);ea=6,Mr=null}function kn(d,p,E,L,W,K,xe,Pe,rt){d.cancelPendingCommit=null;do _d();while(fo!==0);if((fs&6)!==0)throw Error(i(327));if(p!==null){if(p===d.current)throw Error(i(177));if(K=p.lanes|p.childLanes,K|=op,qt(d,E,K,xe,Pe,rt),d===cr&&(Mr=cr=null,Pi=0),Fs=p,il=d,lc=E,Th=K,qm=W,cc=L,(p.subtreeFlags&10256)!==0||(p.flags&10256)!==0?(d.callbackNode=null,d.callbackPriority=0,rs(Ke,function(){return bd(),null})):(d.callbackNode=null,d.callbackPriority=0),L=(p.flags&13878)!==0,(p.subtreeFlags&13878)!==0||L){L=k.T,k.T=null,W=Z.p,Z.p=2,xe=fs,fs|=4;try{ho(d,p,E)}finally{fs=xe,Z.p=W,k.T=L}}fo=1,Jn(),ii(),ur()}}function Jn(){if(fo===1){fo=0;var d=il,p=Fs,E=(p.flags&13878)!==0;if((p.subtreeFlags&13878)!==0||E){E=k.T,k.T=null;var L=Z.p;Z.p=2;var W=fs;fs|=4;try{wv(p,d);var K=ZC,xe=Jh(d.containerInfo),Pe=K.focusedElem,rt=K.selectionRange;if(xe!==Pe&&Pe&&Pe.ownerDocument&&hh(Pe.ownerDocument.documentElement,Pe)){if(rt!==null&&$e(Pe)){var zt=rt.start,mn=rt.end;if(mn===void 0&&(mn=zt),"selectionStart"in Pe)Pe.selectionStart=zt,Pe.selectionEnd=Math.min(mn,Pe.value.length);else{var En=Pe.ownerDocument||document,Wt=En&&En.defaultView||window;if(Wt.getSelection){var Yt=Wt.getSelection(),tr=Pe.textContent.length,Xi=Math.min(rt.start,tr),Vs=rt.end===void 0?Xi:Math.min(rt.end,tr);!Yt.extend&&Xi>Vs&&(xe=Vs,Vs=Xi,Xi=xe);var Tt=Mo(Pe,Xi),vt=Mo(Pe,Vs);if(Tt&&vt&&(Yt.rangeCount!==1||Yt.anchorNode!==Tt.node||Yt.anchorOffset!==Tt.offset||Yt.focusNode!==vt.node||Yt.focusOffset!==vt.offset)){var Ut=En.createRange();Ut.setStart(Tt.node,Tt.offset),Yt.removeAllRanges(),Xi>Vs?(Yt.addRange(Ut),Yt.extend(vt.node,vt.offset)):(Ut.setEnd(vt.node,vt.offset),Yt.addRange(Ut))}}}}for(En=[],Yt=Pe;Yt=Yt.parentNode;)Yt.nodeType===1&&En.push({element:Yt,left:Yt.scrollLeft,top:Yt.scrollTop});for(typeof Pe.focus=="function"&&Pe.focus(),Pe=0;Pe<En.length;Pe++){var bn=En[Pe];bn.element.scrollLeft=bn.left,bn.element.scrollTop=bn.top}}Vb=!!KC,ZC=KC=null}finally{fs=W,Z.p=L,k.T=E}}d.current=p,fo=2}}function ii(){if(fo===2){fo=0;var d=il,p=Fs,E=(p.flags&8772)!==0;if((p.subtreeFlags&8772)!==0||E){E=k.T,k.T=null;var L=Z.p;Z.p=2;var W=fs;fs|=4;try{Eh(d,p.alternate,p)}finally{fs=W,Z.p=L,k.T=E}}fo=3}}function ur(){if(fo===4||fo===3){fo=0,mt();var d=il,p=Fs,E=lc,L=cc;(p.subtreeFlags&10256)!==0||(p.flags&10256)!==0?fo=5:(fo=0,Fs=il=null,uc(d,d.pendingLanes));var W=d.pendingLanes;if(W===0&&(oc=null),Pn(E),p=p.stateNode,Qe&&typeof Qe.onCommitFiberRoot=="function")try{Qe.onCommitFiberRoot(it,p,void 0,(p.current.flags&128)===128)}catch{}if(L!==null){p=k.T,W=Z.p,Z.p=2,k.T=null;try{for(var K=d.onRecoverableError,xe=0;xe<L.length;xe++){var Pe=L[xe];K(Pe.value,{componentStack:Pe.stack})}}finally{k.T=p,Z.p=W}}(lc&3)!==0&&_d(),xd(d),W=d.pendingLanes,(E&4194090)!==0&&(W&42)!==0?d===bf?Vu++:(Vu=0,bf=d):Vu=0,Ny(0)}}function uc(d,p){(d.pooledCacheLanes&=p)===0&&(p=d.pooledCache,p!=null&&(d.pooledCache=null,Ou(p)))}function _d(d){return Jn(),ii(),ur(),bd()}function bd(){if(fo!==5)return!1;var d=il,p=Th;Th=0;var E=Pn(lc),L=k.T,W=Z.p;try{Z.p=32>E?32:E,k.T=null,E=qm,qm=null;var K=il,xe=lc;if(fo=0,Fs=il=null,lc=0,(fs&6)!==0)throw Error(i(331));var Pe=fs;if(fs|=4,Iy(K.current),Tv(K,K.current,xe,E),fs=Pe,Ny(0,!1),Qe&&typeof Qe.onPostCommitFiberRoot=="function")try{Qe.onPostCommitFiberRoot(it,K)}catch{}return!0}finally{Z.p=W,k.T=L,uc(d,p)}}function Ht(d,p,E){p=lo(E,p),p=bv(d.stateNode,p,2),d=_n(d,p,2),d!==null&&(Sn(d,2),xd(d))}function gt(d,p,E){if(d.tag===3)Ht(d,d,E);else for(;p!==null;){if(p.tag===3){Ht(p,d,E);break}else if(p.tag===1){var L=p.stateNode;if(typeof p.type.getDerivedStateFromError=="function"||typeof L.componentDidCatch=="function"&&(oc===null||!oc.has(L))){d=lo(E,d),E=Lb(2),L=_n(p,E,2),L!==null&&(xv(E,L,p,d),Sn(L,2),xd(L));break}}p=p.return}}function Zt(d,p,E){var L=d.pingCache;if(L===null){L=d.pingCache=new Dy;var W=new Set;L.set(p,W)}else W=L.get(p),W===void 0&&(W=new Set,L.set(p,W));W.has(E)||(Ip=!0,W.add(E),d=Dn.bind(null,d,p,E),p.then(d,d))}function Dn(d,p,E){var L=d.pingCache;L!==null&&L.delete(p),d.pingedLanes|=d.suspendedLanes&E,d.warmLanes&=~E,cr===d&&(Pi&E)===E&&(ea===4||ea===3&&(Pi&62914560)===Pi&&300>St()-Ms?(fs&2)===0&&yd(d,0):_f|=E,Qr===Pi&&(Qr=0)),xd(d)}function Ai(d,p){p===0&&(p=ct()),d=Qc(d,p),d!==null&&(Sn(d,p),xd(d))}function ta(d){var p=d.memoizedState,E=0;p!==null&&(E=p.retryLane),Ai(d,E)}function Ji(d,p){var E=0;switch(d.tag){case 13:var L=d.stateNode,W=d.memoizedState;W!==null&&(E=W.retryLane);break;case 19:L=d.stateNode;break;case 22:L=d.stateNode._retryCache;break;default:throw Error(i(314))}L!==null&&L.delete(p),Ai(d,E)}function rs(d,p){return Bt(d,p)}var ka=null,Pr=null,ju=!1,Ov=!1,HC=!1,Km=0;function xd(d){d!==Pr&&d.next===null&&(Pr===null?ka=Pr=d:Pr=Pr.next=d),Ov=!0,ju||(ju=!0,jz())}function Ny(d,p){if(!HC&&Ov){HC=!0;do for(var E=!1,L=ka;L!==null;){if(d!==0){var W=L.pendingLanes;if(W===0)var K=0;else{var xe=L.suspendedLanes,Pe=L.pingedLanes;K=(1<<31-At(42|d)+1)-1,K&=W&~(xe&~Pe),K=K&201326741?K&201326741|1:K?K|2:0}K!==0&&(E=!0,zO(L,K))}else K=Pi,K=Ve(L,L===cr?K:0,L.cancelPendingCommit!==null||L.timeoutHandle!==-1),(K&3)===0||lt(L,K)||(E=!0,zO(L,K));L=L.next}while(E);HC=!1}}function Wz(){UO()}function UO(){Ov=ju=!1;var d=0;Km!==0&&(e7()&&(d=Km),Km=0);for(var p=St(),E=null,L=ka;L!==null;){var W=L.next,K=kO(L,p);K===0?(L.next=null,E===null?ka=W:E.next=W,W===null&&(Pr=E)):(E=L,(d!==0||(K&3)!==0)&&(Ov=!0)),L=W}Ny(d)}function kO(d,p){for(var E=d.suspendedLanes,L=d.pingedLanes,W=d.expirationTimes,K=d.pendingLanes&-62914561;0<K;){var xe=31-At(K),Pe=1<<xe,rt=W[xe];rt===-1?((Pe&E)===0||(Pe&L)!==0)&&(W[xe]=Qt(Pe,p)):rt<=p&&(d.expiredLanes|=Pe),K&=~Pe}if(p=cr,E=Pi,E=Ve(d,d===p?E:0,d.cancelPendingCommit!==null||d.timeoutHandle!==-1),L=d.callbackNode,E===0||d===p&&(mr===2||mr===9)||d.cancelPendingCommit!==null)return L!==null&&L!==null&&Me(L),d.callbackNode=null,d.callbackPriority=0;if((E&3)===0||lt(d,E)){if(p=E&-E,p===d.callbackPriority)return p;switch(L!==null&&Me(L),Pn(E)){case 2:case 8:E=qe;break;case 32:E=Ke;break;case 268435456:E=ye;break;default:E=Ke}return L=BO.bind(null,d),E=Bt(E,L),d.callbackPriority=p,d.callbackNode=E,p}return L!==null&&L!==null&&Me(L),d.callbackPriority=2,d.callbackNode=null,2}function BO(d,p){if(fo!==0&&fo!==5)return d.callbackNode=null,d.callbackPriority=0,null;var E=d.callbackNode;if(_d()&&d.callbackNode!==E)return null;var L=Pi;return L=Ve(d,d===cr?L:0,d.cancelPendingCommit!==null||d.timeoutHandle!==-1),L===0?null:(Dp(d,L,p),kO(d,St()),d.callbackNode!=null&&d.callbackNode===E?BO.bind(null,d):null)}function zO(d,p){if(_d())return null;Dp(d,p,!0)}function jz(){n7(function(){(fs&6)!==0?Bt(Ft,Wz):UO()})}function $C(){return Km===0&&(Km=Ye()),Km}function GO(d){return d==null||typeof d=="symbol"||typeof d=="boolean"?null:typeof d=="function"?d:Ss(""+d)}function HO(d,p){var E=p.ownerDocument.createElement("input");return E.name=p.name,E.value=p.value,d.id&&E.setAttribute("form",d.id),p.parentNode.insertBefore(E,p),d=new FormData(d),E.parentNode.removeChild(E),d}function Xz(d,p,E,L,W){if(p==="submit"&&E&&E.stateNode===W){var K=GO((W[er]||null).action),xe=L.submitter;xe&&(p=(p=xe[er]||null)?GO(p.formAction):xe.getAttribute("formAction"),p!==null&&(K=p,xe=null));var Pe=new ss("action","action",null,L,W);d.push({event:Pe,listeners:[{instance:null,listener:function(){if(L.defaultPrevented){if(Km!==0){var rt=xe?HO(W,xe):new FormData(W);My(E,{pending:!0,data:rt,method:W.method,action:K},null,rt)}}else typeof K=="function"&&(Pe.preventDefault(),rt=xe?HO(W,xe):new FormData(W),My(E,{pending:!0,data:rt,method:W.method,action:K},K,rt))},currentTarget:W}]})}}for(var VC=0;VC<aa.length;VC++){var WC=aa[VC],qz=WC.toLowerCase(),Yz=WC[0].toUpperCase()+WC.slice(1);Ka(qz,"on"+Yz)}Ka(Ri,"onAnimationEnd"),Ka(pi,"onAnimationIteration"),Ka(Ui,"onAnimationStart"),Ka("dblclick","onDoubleClick"),Ka("focusin","onFocus"),Ka("focusout","onBlur"),Ka(Ya,"onTransitionRun"),Ka(Ts,"onTransitionStart"),Ka(wa,"onTransitionCancel"),Ka(pa,"onTransitionEnd"),be("onMouseEnter",["mouseout","mouseover"]),be("onMouseLeave",["mouseout","mouseover"]),be("onPointerEnter",["pointerout","pointerover"]),be("onPointerLeave",["pointerout","pointerover"]),nn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),nn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),nn("onBeforeInput",["compositionend","keypress","textInput","paste"]),nn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),nn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),nn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Fy="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Kz=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Fy));function $O(d,p){p=(p&4)!==0;for(var E=0;E<d.length;E++){var L=d[E],W=L.event;L=L.listeners;e:{var K=void 0;if(p)for(var xe=L.length-1;0<=xe;xe--){var Pe=L[xe],rt=Pe.instance,zt=Pe.currentTarget;if(Pe=Pe.listener,rt!==K&&W.isPropagationStopped())break e;K=Pe,W.currentTarget=zt;try{K(W)}catch(mn){of(mn)}W.currentTarget=null,K=rt}else for(xe=0;xe<L.length;xe++){if(Pe=L[xe],rt=Pe.instance,zt=Pe.currentTarget,Pe=Pe.listener,rt!==K&&W.isPropagationStopped())break e;K=Pe,W.currentTarget=zt;try{K(W)}catch(mn){of(mn)}W.currentTarget=null,K=rt}}}}function zr(d,p){var E=p[Or];E===void 0&&(E=p[Or]=new Set);var L=d+"__bubble";E.has(L)||(VO(p,d,2,!1),E.add(L))}function jC(d,p,E){var L=0;p&&(L|=4),VO(E,d,L,p)}var Nb="_reactListening"+Math.random().toString(36).slice(2);function XC(d){if(!d[Nb]){d[Nb]=!0,Nt.forEach(function(E){E!=="selectionchange"&&(Kz.has(E)||jC(E,!1,d),jC(E,!0,d))});var p=d.nodeType===9?d:d.ownerDocument;p===null||p[Nb]||(p[Nb]=!0,jC("selectionchange",!1,p))}}function VO(d,p,E,L){switch(pL(p)){case 2:var W=w7;break;case 8:W=E7;break;default:W=oT}E=W.bind(null,p,E,d),W=void 0,!so||p!=="touchstart"&&p!=="touchmove"&&p!=="wheel"||(W=!0),L?W!==void 0?d.addEventListener(p,E,{capture:!0,passive:W}):d.addEventListener(p,E,!0):W!==void 0?d.addEventListener(p,E,{passive:W}):d.addEventListener(p,E,!1)}function qC(d,p,E,L,W){var K=L;if((p&1)===0&&(p&2)===0&&L!==null)e:for(;;){if(L===null)return;var xe=L.tag;if(xe===3||xe===4){var Pe=L.stateNode.containerInfo;if(Pe===W)break;if(xe===4)for(xe=L.return;xe!==null;){var rt=xe.tag;if((rt===3||rt===4)&&xe.stateNode.containerInfo===W)return;xe=xe.return}for(;Pe!==null;){if(xe=we(Pe),xe===null)return;if(rt=xe.tag,rt===5||rt===6||rt===26||rt===27){L=K=xe;continue e}Pe=Pe.parentNode}}L=L.return}Xa(function(){var zt=K,mn=us(E),En=[];e:{var Wt=Rl.get(d);if(Wt!==void 0){var Yt=ss,tr=d;switch(d){case"keypress":if(ia(E)===0)break e;case"keydown":case"keyup":Yt=yn;break;case"focusin":tr="focus",Yt=P;break;case"focusout":tr="blur",Yt=P;break;case"beforeblur":case"afterblur":Yt=P;break;case"click":if(E.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Yt=re;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Yt=Ae;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Yt=Xe;break;case Ri:case pi:case Ui:Yt=Y;break;case pa:Yt=He;break;case"scroll":case"scrollend":Yt=Ia;break;case"wheel":Yt=tn;break;case"copy":case"cut":case"paste":Yt=de;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Yt=Ee;break;case"toggle":case"beforetoggle":Yt=An}var Xi=(p&4)!==0,Vs=!Xi&&(d==="scroll"||d==="scrollend"),Tt=Xi?Wt!==null?Wt+"Capture":null:Wt;Xi=[];for(var vt=zt,Ut;vt!==null;){var bn=vt;if(Ut=bn.stateNode,bn=bn.tag,bn!==5&&bn!==26&&bn!==27||Ut===null||Tt===null||(bn=Pa(vt,Tt),bn!=null&&Xi.push(Uy(vt,bn,Ut))),Vs)break;vt=vt.return}0<Xi.length&&(Wt=new Yt(Wt,tr,null,E,mn),En.push({event:Wt,listeners:Xi}))}}if((p&7)===0){e:{if(Wt=d==="mouseover"||d==="pointerover",Yt=d==="mouseout"||d==="pointerout",Wt&&E!==_a&&(tr=E.relatedTarget||E.fromElement)&&(we(tr)||tr[Zi]))break e;if((Yt||Wt)&&(Wt=mn.window===mn?mn:(Wt=mn.ownerDocument)?Wt.defaultView||Wt.parentWindow:window,Yt?(tr=E.relatedTarget||E.toElement,Yt=zt,tr=tr?we(tr):null,tr!==null&&(Vs=s(tr),Xi=tr.tag,tr!==Vs||Xi!==5&&Xi!==27&&Xi!==6)&&(tr=null)):(Yt=null,tr=zt),Yt!==tr)){if(Xi=re,bn="onMouseLeave",Tt="onMouseEnter",vt="mouse",(d==="pointerout"||d==="pointerover")&&(Xi=Ee,bn="onPointerLeave",Tt="onPointerEnter",vt="pointer"),Vs=Yt==null?Wt:tt(Yt),Ut=tr==null?Wt:tt(tr),Wt=new Xi(bn,vt+"leave",Yt,E,mn),Wt.target=Vs,Wt.relatedTarget=Ut,bn=null,we(mn)===zt&&(Xi=new Xi(Tt,vt+"enter",tr,E,mn),Xi.target=Ut,Xi.relatedTarget=Vs,bn=Xi),Vs=bn,Yt&&tr)t:{for(Xi=Yt,Tt=tr,vt=0,Ut=Xi;Ut;Ut=Lv(Ut))vt++;for(Ut=0,bn=Tt;bn;bn=Lv(bn))Ut++;for(;0<vt-Ut;)Xi=Lv(Xi),vt--;for(;0<Ut-vt;)Tt=Lv(Tt),Ut--;for(;vt--;){if(Xi===Tt||Tt!==null&&Xi===Tt.alternate)break t;Xi=Lv(Xi),Tt=Lv(Tt)}Xi=null}else Xi=null;Yt!==null&&WO(En,Wt,Yt,Xi,!1),tr!==null&&Vs!==null&&WO(En,Vs,tr,Xi,!0)}}e:{if(Wt=zt?tt(zt):window,Yt=Wt.nodeName&&Wt.nodeName.toLowerCase(),Yt==="select"||Yt==="input"&&Wt.type==="file")var xi=lr;else if(Eo(Wt))if(Cs)xi=Ps;else{xi=To;var Br=ra}else Yt=Wt.nodeName,!Yt||Yt.toLowerCase()!=="input"||Wt.type!=="checkbox"&&Wt.type!=="radio"?zt&&Os(zt.elementType)&&(xi=lr):xi=xa;if(xi&&(xi=xi(d,zt))){Da(En,xi,E,mn);break e}Br&&Br(d,Wt,zt),d==="focusout"&&zt&&Wt.type==="number"&&zt.memoizedProps.value!=null&&gi(Wt,"number",Wt.value)}switch(Br=zt?tt(zt):window,d){case"focusin":(Eo(Br)||Br.contentEditable==="true")&&(Lt=Br,Vt=zt,sn=null);break;case"focusout":sn=Vt=Lt=null;break;case"mousedown":Fn=!0;break;case"contextmenu":case"mouseup":case"dragend":Fn=!1,jn(En,E,mn);break;case"selectionchange":if(pt)break;case"keydown":case"keyup":jn(En,E,mn)}var Oi;if(vi)e:{switch(d){case"compositionstart":var Ki="onCompositionStart";break e;case"compositionend":Ki="onCompositionEnd";break e;case"compositionupdate":Ki="onCompositionUpdate";break e}Ki=void 0}else ni?yi(d,E)&&(Ki="onCompositionEnd"):d==="keydown"&&E.keyCode===229&&(Ki="onCompositionStart");Ki&&(Fr&&E.locale!=="ko"&&(ni||Ki!=="onCompositionStart"?Ki==="onCompositionEnd"&&ni&&(Oi=wo()):(hs=mn,ko="value"in hs?hs.value:hs.textContent,ni=!0)),Br=Fb(zt,Ki),0<Br.length&&(Ki=new Se(Ki,d,null,E,mn),En.push({event:Ki,listeners:Br}),Oi?Ki.data=Oi:(Oi=si(E),Oi!==null&&(Ki.data=Oi)))),(Oi=fi?wi(d,E):bi(d,E))&&(Ki=Fb(zt,"onBeforeInput"),0<Ki.length&&(Br=new Se("onBeforeInput","beforeinput",null,E,mn),En.push({event:Br,listeners:Ki}),Br.data=Oi)),Xz(En,d,zt,E,mn)}$O(En,p)})}function Uy(d,p,E){return{instance:d,listener:p,currentTarget:E}}function Fb(d,p){for(var E=p+"Capture",L=[];d!==null;){var W=d,K=W.stateNode;if(W=W.tag,W!==5&&W!==26&&W!==27||K===null||(W=Pa(d,E),W!=null&&L.unshift(Uy(d,W,K)),W=Pa(d,p),W!=null&&L.push(Uy(d,W,K))),d.tag===3)return L;d=d.return}return[]}function Lv(d){if(d===null)return null;do d=d.return;while(d&&d.tag!==5&&d.tag!==27);return d||null}function WO(d,p,E,L,W){for(var K=p._reactName,xe=[];E!==null&&E!==L;){var Pe=E,rt=Pe.alternate,zt=Pe.stateNode;if(Pe=Pe.tag,rt!==null&&rt===L)break;Pe!==5&&Pe!==26&&Pe!==27||zt===null||(rt=zt,W?(zt=Pa(E,K),zt!=null&&xe.unshift(Uy(E,zt,rt))):W||(zt=Pa(E,K),zt!=null&&xe.push(Uy(E,zt,rt)))),E=E.return}xe.length!==0&&d.push({event:p,listeners:xe})}var Zz=/\r\n?/g,Qz=/\u0000|\uFFFD/g;function jO(d){return(typeof d=="string"?d:""+d).replace(Zz,`
`).replace(Qz,"")}function XO(d,p){return p=jO(p),jO(d)===p}function Ub(){}function $s(d,p,E,L,W,K){switch(E){case"children":typeof L=="string"?p==="body"||p==="textarea"&&L===""||es(d,L):(typeof L=="number"||typeof L=="bigint")&&p!=="body"&&es(d,""+L);break;case"className":Pt(d,"class",L);break;case"tabIndex":Pt(d,"tabindex",L);break;case"dir":case"role":case"viewBox":case"width":case"height":Pt(d,E,L);break;case"style":Nr(d,L,K);break;case"data":if(p!=="object"){Pt(d,"data",L);break}case"src":case"href":if(L===""&&(p!=="a"||E!=="href")){d.removeAttribute(E);break}if(L==null||typeof L=="function"||typeof L=="symbol"||typeof L=="boolean"){d.removeAttribute(E);break}L=Ss(""+L),d.setAttribute(E,L);break;case"action":case"formAction":if(typeof L=="function"){d.setAttribute(E,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof K=="function"&&(E==="formAction"?(p!=="input"&&$s(d,p,"name",W.name,W,null),$s(d,p,"formEncType",W.formEncType,W,null),$s(d,p,"formMethod",W.formMethod,W,null),$s(d,p,"formTarget",W.formTarget,W,null)):($s(d,p,"encType",W.encType,W,null),$s(d,p,"method",W.method,W,null),$s(d,p,"target",W.target,W,null)));if(L==null||typeof L=="symbol"||typeof L=="boolean"){d.removeAttribute(E);break}L=Ss(""+L),d.setAttribute(E,L);break;case"onClick":L!=null&&(d.onclick=Ub);break;case"onScroll":L!=null&&zr("scroll",d);break;case"onScrollEnd":L!=null&&zr("scrollend",d);break;case"dangerouslySetInnerHTML":if(L!=null){if(typeof L!="object"||!("__html"in L))throw Error(i(61));if(E=L.__html,E!=null){if(W.children!=null)throw Error(i(60));d.innerHTML=E}}break;case"multiple":d.multiple=L&&typeof L!="function"&&typeof L!="symbol";break;case"muted":d.muted=L&&typeof L!="function"&&typeof L!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(L==null||typeof L=="function"||typeof L=="boolean"||typeof L=="symbol"){d.removeAttribute("xlink:href");break}E=Ss(""+L),d.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",E);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":L!=null&&typeof L!="function"&&typeof L!="symbol"?d.setAttribute(E,""+L):d.removeAttribute(E);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":L&&typeof L!="function"&&typeof L!="symbol"?d.setAttribute(E,""):d.removeAttribute(E);break;case"capture":case"download":L===!0?d.setAttribute(E,""):L!==!1&&L!=null&&typeof L!="function"&&typeof L!="symbol"?d.setAttribute(E,L):d.removeAttribute(E);break;case"cols":case"rows":case"size":case"span":L!=null&&typeof L!="function"&&typeof L!="symbol"&&!isNaN(L)&&1<=L?d.setAttribute(E,L):d.removeAttribute(E);break;case"rowSpan":case"start":L==null||typeof L=="function"||typeof L=="symbol"||isNaN(L)?d.removeAttribute(E):d.setAttribute(E,L);break;case"popover":zr("beforetoggle",d),zr("toggle",d),Ct(d,"popover",L);break;case"xlinkActuate":en(d,"http://www.w3.org/1999/xlink","xlink:actuate",L);break;case"xlinkArcrole":en(d,"http://www.w3.org/1999/xlink","xlink:arcrole",L);break;case"xlinkRole":en(d,"http://www.w3.org/1999/xlink","xlink:role",L);break;case"xlinkShow":en(d,"http://www.w3.org/1999/xlink","xlink:show",L);break;case"xlinkTitle":en(d,"http://www.w3.org/1999/xlink","xlink:title",L);break;case"xlinkType":en(d,"http://www.w3.org/1999/xlink","xlink:type",L);break;case"xmlBase":en(d,"http://www.w3.org/XML/1998/namespace","xml:base",L);break;case"xmlLang":en(d,"http://www.w3.org/XML/1998/namespace","xml:lang",L);break;case"xmlSpace":en(d,"http://www.w3.org/XML/1998/namespace","xml:space",L);break;case"is":Ct(d,"is",L);break;case"innerText":case"textContent":break;default:(!(2<E.length)||E[0]!=="o"&&E[0]!=="O"||E[1]!=="n"&&E[1]!=="N")&&(E=Zs.get(E)||E,Ct(d,E,L))}}function YC(d,p,E,L,W,K){switch(E){case"style":Nr(d,L,K);break;case"dangerouslySetInnerHTML":if(L!=null){if(typeof L!="object"||!("__html"in L))throw Error(i(61));if(E=L.__html,E!=null){if(W.children!=null)throw Error(i(60));d.innerHTML=E}}break;case"children":typeof L=="string"?es(d,L):(typeof L=="number"||typeof L=="bigint")&&es(d,""+L);break;case"onScroll":L!=null&&zr("scroll",d);break;case"onScrollEnd":L!=null&&zr("scrollend",d);break;case"onClick":L!=null&&(d.onclick=Ub);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!gn.hasOwnProperty(E))e:{if(E[0]==="o"&&E[1]==="n"&&(W=E.endsWith("Capture"),p=E.slice(2,W?E.length-7:void 0),K=d[er]||null,K=K!=null?K[E]:null,typeof K=="function"&&d.removeEventListener(p,K,W),typeof L=="function")){typeof K!="function"&&K!==null&&(E in d?d[E]=null:d.hasAttribute(E)&&d.removeAttribute(E)),d.addEventListener(p,L,W);break e}E in d?d[E]=L:L===!0?d.setAttribute(E,""):Ct(d,E,L)}}}function gl(d,p,E){switch(p){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":zr("error",d),zr("load",d);var L=!1,W=!1,K;for(K in E)if(E.hasOwnProperty(K)){var xe=E[K];if(xe!=null)switch(K){case"src":L=!0;break;case"srcSet":W=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,p));default:$s(d,p,K,xe,E,null)}}W&&$s(d,p,"srcSet",E.srcSet,E,null),L&&$s(d,p,"src",E.src,E,null);return;case"input":zr("invalid",d);var Pe=K=xe=W=null,rt=null,zt=null;for(L in E)if(E.hasOwnProperty(L)){var mn=E[L];if(mn!=null)switch(L){case"name":W=mn;break;case"type":xe=mn;break;case"checked":rt=mn;break;case"defaultChecked":zt=mn;break;case"value":K=mn;break;case"defaultValue":Pe=mn;break;case"children":case"dangerouslySetInnerHTML":if(mn!=null)throw Error(i(137,p));break;default:$s(d,p,L,mn,E,null)}}Qn(d,K,Pe,rt,zt,xe,W,!1),Ni(d);return;case"select":zr("invalid",d),L=xe=K=null;for(W in E)if(E.hasOwnProperty(W)&&(Pe=E[W],Pe!=null))switch(W){case"value":K=Pe;break;case"defaultValue":xe=Pe;break;case"multiple":L=Pe;default:$s(d,p,W,Pe,E,null)}p=K,E=xe,d.multiple=!!L,p!=null?zn(d,!!L,p,!1):E!=null&&zn(d,!!L,E,!0);return;case"textarea":zr("invalid",d),K=W=L=null;for(xe in E)if(E.hasOwnProperty(xe)&&(Pe=E[xe],Pe!=null))switch(xe){case"value":L=Pe;break;case"defaultValue":W=Pe;break;case"children":K=Pe;break;case"dangerouslySetInnerHTML":if(Pe!=null)throw Error(i(91));break;default:$s(d,p,xe,Pe,E,null)}Jt(d,L,W,K),Ni(d);return;case"option":for(rt in E)if(E.hasOwnProperty(rt)&&(L=E[rt],L!=null))switch(rt){case"selected":d.selected=L&&typeof L!="function"&&typeof L!="symbol";break;default:$s(d,p,rt,L,E,null)}return;case"dialog":zr("beforetoggle",d),zr("toggle",d),zr("cancel",d),zr("close",d);break;case"iframe":case"object":zr("load",d);break;case"video":case"audio":for(L=0;L<Fy.length;L++)zr(Fy[L],d);break;case"image":zr("error",d),zr("load",d);break;case"details":zr("toggle",d);break;case"embed":case"source":case"link":zr("error",d),zr("load",d);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(zt in E)if(E.hasOwnProperty(zt)&&(L=E[zt],L!=null))switch(zt){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,p));default:$s(d,p,zt,L,E,null)}return;default:if(Os(p)){for(mn in E)E.hasOwnProperty(mn)&&(L=E[mn],L!==void 0&&YC(d,p,mn,L,E,void 0));return}}for(Pe in E)E.hasOwnProperty(Pe)&&(L=E[Pe],L!=null&&$s(d,p,Pe,L,E,null))}function Jz(d,p,E,L){switch(p){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var W=null,K=null,xe=null,Pe=null,rt=null,zt=null,mn=null;for(Yt in E){var En=E[Yt];if(E.hasOwnProperty(Yt)&&En!=null)switch(Yt){case"checked":break;case"value":break;case"defaultValue":rt=En;default:L.hasOwnProperty(Yt)||$s(d,p,Yt,null,L,En)}}for(var Wt in L){var Yt=L[Wt];if(En=E[Wt],L.hasOwnProperty(Wt)&&(Yt!=null||En!=null))switch(Wt){case"type":K=Yt;break;case"name":W=Yt;break;case"checked":zt=Yt;break;case"defaultChecked":mn=Yt;break;case"value":xe=Yt;break;case"defaultValue":Pe=Yt;break;case"children":case"dangerouslySetInnerHTML":if(Yt!=null)throw Error(i(137,p));break;default:Yt!==En&&$s(d,p,Wt,Yt,L,En)}}Cn(d,xe,Pe,rt,zt,mn,K,W);return;case"select":Yt=xe=Pe=Wt=null;for(K in E)if(rt=E[K],E.hasOwnProperty(K)&&rt!=null)switch(K){case"value":break;case"multiple":Yt=rt;default:L.hasOwnProperty(K)||$s(d,p,K,null,L,rt)}for(W in L)if(K=L[W],rt=E[W],L.hasOwnProperty(W)&&(K!=null||rt!=null))switch(W){case"value":Wt=K;break;case"defaultValue":Pe=K;break;case"multiple":xe=K;default:K!==rt&&$s(d,p,W,K,L,rt)}p=Pe,E=xe,L=Yt,Wt!=null?zn(d,!!E,Wt,!1):!!L!=!!E&&(p!=null?zn(d,!!E,p,!0):zn(d,!!E,E?[]:"",!1));return;case"textarea":Yt=Wt=null;for(Pe in E)if(W=E[Pe],E.hasOwnProperty(Pe)&&W!=null&&!L.hasOwnProperty(Pe))switch(Pe){case"value":break;case"children":break;default:$s(d,p,Pe,null,L,W)}for(xe in L)if(W=L[xe],K=E[xe],L.hasOwnProperty(xe)&&(W!=null||K!=null))switch(xe){case"value":Wt=W;break;case"defaultValue":Yt=W;break;case"children":break;case"dangerouslySetInnerHTML":if(W!=null)throw Error(i(91));break;default:W!==K&&$s(d,p,xe,W,L,K)}Wi(d,Wt,Yt);return;case"option":for(var tr in E)if(Wt=E[tr],E.hasOwnProperty(tr)&&Wt!=null&&!L.hasOwnProperty(tr))switch(tr){case"selected":d.selected=!1;break;default:$s(d,p,tr,null,L,Wt)}for(rt in L)if(Wt=L[rt],Yt=E[rt],L.hasOwnProperty(rt)&&Wt!==Yt&&(Wt!=null||Yt!=null))switch(rt){case"selected":d.selected=Wt&&typeof Wt!="function"&&typeof Wt!="symbol";break;default:$s(d,p,rt,Wt,L,Yt)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Xi in E)Wt=E[Xi],E.hasOwnProperty(Xi)&&Wt!=null&&!L.hasOwnProperty(Xi)&&$s(d,p,Xi,null,L,Wt);for(zt in L)if(Wt=L[zt],Yt=E[zt],L.hasOwnProperty(zt)&&Wt!==Yt&&(Wt!=null||Yt!=null))switch(zt){case"children":case"dangerouslySetInnerHTML":if(Wt!=null)throw Error(i(137,p));break;default:$s(d,p,zt,Wt,L,Yt)}return;default:if(Os(p)){for(var Vs in E)Wt=E[Vs],E.hasOwnProperty(Vs)&&Wt!==void 0&&!L.hasOwnProperty(Vs)&&YC(d,p,Vs,void 0,L,Wt);for(mn in L)Wt=L[mn],Yt=E[mn],!L.hasOwnProperty(mn)||Wt===Yt||Wt===void 0&&Yt===void 0||YC(d,p,mn,Wt,L,Yt);return}}for(var Tt in E)Wt=E[Tt],E.hasOwnProperty(Tt)&&Wt!=null&&!L.hasOwnProperty(Tt)&&$s(d,p,Tt,null,L,Wt);for(En in L)Wt=L[En],Yt=E[En],!L.hasOwnProperty(En)||Wt===Yt||Wt==null&&Yt==null||$s(d,p,En,Wt,L,Yt)}var KC=null,ZC=null;function kb(d){return d.nodeType===9?d:d.ownerDocument}function qO(d){switch(d){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function YO(d,p){if(d===0)switch(p){case"svg":return 1;case"math":return 2;default:return 0}return d===1&&p==="foreignObject"?0:d}function QC(d,p){return d==="textarea"||d==="noscript"||typeof p.children=="string"||typeof p.children=="number"||typeof p.children=="bigint"||typeof p.dangerouslySetInnerHTML=="object"&&p.dangerouslySetInnerHTML!==null&&p.dangerouslySetInnerHTML.__html!=null}var JC=null;function e7(){var d=window.event;return d&&d.type==="popstate"?d===JC?!1:(JC=d,!0):(JC=null,!1)}var KO=typeof setTimeout=="function"?setTimeout:void 0,t7=typeof clearTimeout=="function"?clearTimeout:void 0,ZO=typeof Promise=="function"?Promise:void 0,n7=typeof queueMicrotask=="function"?queueMicrotask:typeof ZO<"u"?function(d){return ZO.resolve(null).then(d).catch(i7)}:KO;function i7(d){setTimeout(function(){throw d})}function Fp(d){return d==="head"}function QO(d,p){var E=p,L=0,W=0;do{var K=E.nextSibling;if(d.removeChild(E),K&&K.nodeType===8)if(E=K.data,E==="/$"){if(0<L&&8>L){E=L;var xe=d.ownerDocument;if(E&1&&ky(xe.documentElement),E&2&&ky(xe.body),E&4)for(E=xe.head,ky(E),xe=E.firstChild;xe;){var Pe=xe.nextSibling,rt=xe.nodeName;xe[rr]||rt==="SCRIPT"||rt==="STYLE"||rt==="LINK"&&xe.rel.toLowerCase()==="stylesheet"||E.removeChild(xe),xe=Pe}}if(W===0){d.removeChild(K),jy(p);return}W--}else E==="$"||E==="$?"||E==="$!"?W++:L=E.charCodeAt(0)-48;else L=0;E=K}while(E);jy(p)}function eT(d){var p=d.firstChild;for(p&&p.nodeType===10&&(p=p.nextSibling);p;){var E=p;switch(p=p.nextSibling,E.nodeName){case"HTML":case"HEAD":case"BODY":eT(E),zi(E);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(E.rel.toLowerCase()==="stylesheet")continue}d.removeChild(E)}}function r7(d,p,E,L){for(;d.nodeType===1;){var W=E;if(d.nodeName.toLowerCase()!==p.toLowerCase()){if(!L&&(d.nodeName!=="INPUT"||d.type!=="hidden"))break}else if(L){if(!d[rr])switch(p){case"meta":if(!d.hasAttribute("itemprop"))break;return d;case"link":if(K=d.getAttribute("rel"),K==="stylesheet"&&d.hasAttribute("data-precedence"))break;if(K!==W.rel||d.getAttribute("href")!==(W.href==null||W.href===""?null:W.href)||d.getAttribute("crossorigin")!==(W.crossOrigin==null?null:W.crossOrigin)||d.getAttribute("title")!==(W.title==null?null:W.title))break;return d;case"style":if(d.hasAttribute("data-precedence"))break;return d;case"script":if(K=d.getAttribute("src"),(K!==(W.src==null?null:W.src)||d.getAttribute("type")!==(W.type==null?null:W.type)||d.getAttribute("crossorigin")!==(W.crossOrigin==null?null:W.crossOrigin))&&K&&d.hasAttribute("async")&&!d.hasAttribute("itemprop"))break;return d;default:return d}}else if(p==="input"&&d.type==="hidden"){var K=W.name==null?null:""+W.name;if(W.type==="hidden"&&d.getAttribute("name")===K)return d}else return d;if(d=Ah(d.nextSibling),d===null)break}return null}function s7(d,p,E){if(p==="")return null;for(;d.nodeType!==3;)if((d.nodeType!==1||d.nodeName!=="INPUT"||d.type!=="hidden")&&!E||(d=Ah(d.nextSibling),d===null))return null;return d}function tT(d){return d.data==="$!"||d.data==="$?"&&d.ownerDocument.readyState==="complete"}function a7(d,p){var E=d.ownerDocument;if(d.data!=="$?"||E.readyState==="complete")p();else{var L=function(){p(),E.removeEventListener("DOMContentLoaded",L)};E.addEventListener("DOMContentLoaded",L),d._reactRetry=L}}function Ah(d){for(;d!=null;d=d.nextSibling){var p=d.nodeType;if(p===1||p===3)break;if(p===8){if(p=d.data,p==="$"||p==="$!"||p==="$?"||p==="F!"||p==="F")break;if(p==="/$")return null}}return d}var nT=null;function JO(d){d=d.previousSibling;for(var p=0;d;){if(d.nodeType===8){var E=d.data;if(E==="$"||E==="$!"||E==="$?"){if(p===0)return d;p--}else E==="/$"&&p++}d=d.previousSibling}return null}function eL(d,p,E){switch(p=kb(E),d){case"html":if(d=p.documentElement,!d)throw Error(i(452));return d;case"head":if(d=p.head,!d)throw Error(i(453));return d;case"body":if(d=p.body,!d)throw Error(i(454));return d;default:throw Error(i(451))}}function ky(d){for(var p=d.attributes;p.length;)d.removeAttributeNode(p[0]);zi(d)}var Xu=new Map,tL=new Set;function Bb(d){return typeof d.getRootNode=="function"?d.getRootNode():d.nodeType===9?d:d.ownerDocument}var Sf=Z.d;Z.d={f:o7,r:l7,D:c7,C:u7,L:h7,m:d7,X:p7,S:f7,M:m7};function o7(){var d=Sf.f(),p=Wu();return d||p}function l7(d){var p=Ie(d);p!==null&&p.tag===5&&p.type==="form"?yb(p):Sf.r(d)}var Pv=typeof document>"u"?null:document;function nL(d,p,E){var L=Pv;if(L&&typeof p=="string"&&p){var W=ot(p);W='link[rel="'+d+'"][href="'+W+'"]',typeof E=="string"&&(W+='[crossorigin="'+E+'"]'),tL.has(W)||(tL.add(W),d={rel:d,crossOrigin:E,href:p},L.querySelector(W)===null&&(p=L.createElement("link"),gl(p,"link",d),Ot(p),L.head.appendChild(p)))}}function c7(d){Sf.D(d),nL("dns-prefetch",d,null)}function u7(d,p){Sf.C(d,p),nL("preconnect",d,p)}function h7(d,p,E){Sf.L(d,p,E);var L=Pv;if(L&&d&&p){var W='link[rel="preload"][as="'+ot(p)+'"]';p==="image"&&E&&E.imageSrcSet?(W+='[imagesrcset="'+ot(E.imageSrcSet)+'"]',typeof E.imageSizes=="string"&&(W+='[imagesizes="'+ot(E.imageSizes)+'"]')):W+='[href="'+ot(d)+'"]';var K=W;switch(p){case"style":K=Iv(d);break;case"script":K=Dv(d)}Xu.has(K)||(d=f({rel:"preload",href:p==="image"&&E&&E.imageSrcSet?void 0:d,as:p},E),Xu.set(K,d),L.querySelector(W)!==null||p==="style"&&L.querySelector(By(K))||p==="script"&&L.querySelector(zy(K))||(p=L.createElement("link"),gl(p,"link",d),Ot(p),L.head.appendChild(p)))}}function d7(d,p){Sf.m(d,p);var E=Pv;if(E&&d){var L=p&&typeof p.as=="string"?p.as:"script",W='link[rel="modulepreload"][as="'+ot(L)+'"][href="'+ot(d)+'"]',K=W;switch(L){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":K=Dv(d)}if(!Xu.has(K)&&(d=f({rel:"modulepreload",href:d},p),Xu.set(K,d),E.querySelector(W)===null)){switch(L){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(E.querySelector(zy(K)))return}L=E.createElement("link"),gl(L,"link",d),Ot(L),E.head.appendChild(L)}}}function f7(d,p,E){Sf.S(d,p,E);var L=Pv;if(L&&d){var W=Rt(L).hoistableStyles,K=Iv(d);p=p||"default";var xe=W.get(K);if(!xe){var Pe={loading:0,preload:null};if(xe=L.querySelector(By(K)))Pe.loading=5;else{d=f({rel:"stylesheet",href:d,"data-precedence":p},E),(E=Xu.get(K))&&iT(d,E);var rt=xe=L.createElement("link");Ot(rt),gl(rt,"link",d),rt._p=new Promise(function(zt,mn){rt.onload=zt,rt.onerror=mn}),rt.addEventListener("load",function(){Pe.loading|=1}),rt.addEventListener("error",function(){Pe.loading|=2}),Pe.loading|=4,zb(xe,p,L)}xe={type:"stylesheet",instance:xe,count:1,state:Pe},W.set(K,xe)}}}function p7(d,p){Sf.X(d,p);var E=Pv;if(E&&d){var L=Rt(E).hoistableScripts,W=Dv(d),K=L.get(W);K||(K=E.querySelector(zy(W)),K||(d=f({src:d,async:!0},p),(p=Xu.get(W))&&rT(d,p),K=E.createElement("script"),Ot(K),gl(K,"link",d),E.head.appendChild(K)),K={type:"script",instance:K,count:1,state:null},L.set(W,K))}}function m7(d,p){Sf.M(d,p);var E=Pv;if(E&&d){var L=Rt(E).hoistableScripts,W=Dv(d),K=L.get(W);K||(K=E.querySelector(zy(W)),K||(d=f({src:d,async:!0,type:"module"},p),(p=Xu.get(W))&&rT(d,p),K=E.createElement("script"),Ot(K),gl(K,"link",d),E.head.appendChild(K)),K={type:"script",instance:K,count:1,state:null},L.set(W,K))}}function iL(d,p,E,L){var W=(W=ve.current)?Bb(W):null;if(!W)throw Error(i(446));switch(d){case"meta":case"title":return null;case"style":return typeof E.precedence=="string"&&typeof E.href=="string"?(p=Iv(E.href),E=Rt(W).hoistableStyles,L=E.get(p),L||(L={type:"style",instance:null,count:0,state:null},E.set(p,L)),L):{type:"void",instance:null,count:0,state:null};case"link":if(E.rel==="stylesheet"&&typeof E.href=="string"&&typeof E.precedence=="string"){d=Iv(E.href);var K=Rt(W).hoistableStyles,xe=K.get(d);if(xe||(W=W.ownerDocument||W,xe={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},K.set(d,xe),(K=W.querySelector(By(d)))&&!K._p&&(xe.instance=K,xe.state.loading=5),Xu.has(d)||(E={rel:"preload",as:"style",href:E.href,crossOrigin:E.crossOrigin,integrity:E.integrity,media:E.media,hrefLang:E.hrefLang,referrerPolicy:E.referrerPolicy},Xu.set(d,E),K||g7(W,d,E,xe.state))),p&&L===null)throw Error(i(528,""));return xe}if(p&&L!==null)throw Error(i(529,""));return null;case"script":return p=E.async,E=E.src,typeof E=="string"&&p&&typeof p!="function"&&typeof p!="symbol"?(p=Dv(E),E=Rt(W).hoistableScripts,L=E.get(p),L||(L={type:"script",instance:null,count:0,state:null},E.set(p,L)),L):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,d))}}function Iv(d){return'href="'+ot(d)+'"'}function By(d){return'link[rel="stylesheet"]['+d+"]"}function rL(d){return f({},d,{"data-precedence":d.precedence,precedence:null})}function g7(d,p,E,L){d.querySelector('link[rel="preload"][as="style"]['+p+"]")?L.loading=1:(p=d.createElement("link"),L.preload=p,p.addEventListener("load",function(){return L.loading|=1}),p.addEventListener("error",function(){return L.loading|=2}),gl(p,"link",E),Ot(p),d.head.appendChild(p))}function Dv(d){return'[src="'+ot(d)+'"]'}function zy(d){return"script[async]"+d}function sL(d,p,E){if(p.count++,p.instance===null)switch(p.type){case"style":var L=d.querySelector('style[data-href~="'+ot(E.href)+'"]');if(L)return p.instance=L,Ot(L),L;var W=f({},E,{"data-href":E.href,"data-precedence":E.precedence,href:null,precedence:null});return L=(d.ownerDocument||d).createElement("style"),Ot(L),gl(L,"style",W),zb(L,E.precedence,d),p.instance=L;case"stylesheet":W=Iv(E.href);var K=d.querySelector(By(W));if(K)return p.state.loading|=4,p.instance=K,Ot(K),K;L=rL(E),(W=Xu.get(W))&&iT(L,W),K=(d.ownerDocument||d).createElement("link"),Ot(K);var xe=K;return xe._p=new Promise(function(Pe,rt){xe.onload=Pe,xe.onerror=rt}),gl(K,"link",L),p.state.loading|=4,zb(K,E.precedence,d),p.instance=K;case"script":return K=Dv(E.src),(W=d.querySelector(zy(K)))?(p.instance=W,Ot(W),W):(L=E,(W=Xu.get(K))&&(L=f({},E),rT(L,W)),d=d.ownerDocument||d,W=d.createElement("script"),Ot(W),gl(W,"link",L),d.head.appendChild(W),p.instance=W);case"void":return null;default:throw Error(i(443,p.type))}else p.type==="stylesheet"&&(p.state.loading&4)===0&&(L=p.instance,p.state.loading|=4,zb(L,E.precedence,d));return p.instance}function zb(d,p,E){for(var L=E.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),W=L.length?L[L.length-1]:null,K=W,xe=0;xe<L.length;xe++){var Pe=L[xe];if(Pe.dataset.precedence===p)K=Pe;else if(K!==W)break}K?K.parentNode.insertBefore(d,K.nextSibling):(p=E.nodeType===9?E.head:E,p.insertBefore(d,p.firstChild))}function iT(d,p){d.crossOrigin==null&&(d.crossOrigin=p.crossOrigin),d.referrerPolicy==null&&(d.referrerPolicy=p.referrerPolicy),d.title==null&&(d.title=p.title)}function rT(d,p){d.crossOrigin==null&&(d.crossOrigin=p.crossOrigin),d.referrerPolicy==null&&(d.referrerPolicy=p.referrerPolicy),d.integrity==null&&(d.integrity=p.integrity)}var Gb=null;function aL(d,p,E){if(Gb===null){var L=new Map,W=Gb=new Map;W.set(E,L)}else W=Gb,L=W.get(E),L||(L=new Map,W.set(E,L));if(L.has(d))return L;for(L.set(d,null),E=E.getElementsByTagName(d),W=0;W<E.length;W++){var K=E[W];if(!(K[rr]||K[Si]||d==="link"&&K.getAttribute("rel")==="stylesheet")&&K.namespaceURI!=="http://www.w3.org/2000/svg"){var xe=K.getAttribute(p)||"";xe=d+xe;var Pe=L.get(xe);Pe?Pe.push(K):L.set(xe,[K])}}return L}function oL(d,p,E){d=d.ownerDocument||d,d.head.insertBefore(E,p==="title"?d.querySelector("head > title"):null)}function v7(d,p,E){if(E===1||p.itemProp!=null)return!1;switch(d){case"meta":case"title":return!0;case"style":if(typeof p.precedence!="string"||typeof p.href!="string"||p.href==="")break;return!0;case"link":if(typeof p.rel!="string"||typeof p.href!="string"||p.href===""||p.onLoad||p.onError)break;switch(p.rel){case"stylesheet":return d=p.disabled,typeof p.precedence=="string"&&d==null;default:return!0}case"script":if(p.async&&typeof p.async!="function"&&typeof p.async!="symbol"&&!p.onLoad&&!p.onError&&p.src&&typeof p.src=="string")return!0}return!1}function lL(d){return!(d.type==="stylesheet"&&(d.state.loading&3)===0)}var Gy=null;function y7(){}function _7(d,p,E){if(Gy===null)throw Error(i(475));var L=Gy;if(p.type==="stylesheet"&&(typeof E.media!="string"||matchMedia(E.media).matches!==!1)&&(p.state.loading&4)===0){if(p.instance===null){var W=Iv(E.href),K=d.querySelector(By(W));if(K){d=K._p,d!==null&&typeof d=="object"&&typeof d.then=="function"&&(L.count++,L=Hb.bind(L),d.then(L,L)),p.state.loading|=4,p.instance=K,Ot(K);return}K=d.ownerDocument||d,E=rL(E),(W=Xu.get(W))&&iT(E,W),K=K.createElement("link"),Ot(K);var xe=K;xe._p=new Promise(function(Pe,rt){xe.onload=Pe,xe.onerror=rt}),gl(K,"link",E),p.instance=K}L.stylesheets===null&&(L.stylesheets=new Map),L.stylesheets.set(p,d),(d=p.state.preload)&&(p.state.loading&3)===0&&(L.count++,p=Hb.bind(L),d.addEventListener("load",p),d.addEventListener("error",p))}}function b7(){if(Gy===null)throw Error(i(475));var d=Gy;return d.stylesheets&&d.count===0&&sT(d,d.stylesheets),0<d.count?function(p){var E=setTimeout(function(){if(d.stylesheets&&sT(d,d.stylesheets),d.unsuspend){var L=d.unsuspend;d.unsuspend=null,L()}},6e4);return d.unsuspend=p,function(){d.unsuspend=null,clearTimeout(E)}}:null}function Hb(){if(this.count--,this.count===0){if(this.stylesheets)sT(this,this.stylesheets);else if(this.unsuspend){var d=this.unsuspend;this.unsuspend=null,d()}}}var $b=null;function sT(d,p){d.stylesheets=null,d.unsuspend!==null&&(d.count++,$b=new Map,p.forEach(x7,d),$b=null,Hb.call(d))}function x7(d,p){if(!(p.state.loading&4)){var E=$b.get(d);if(E)var L=E.get(null);else{E=new Map,$b.set(d,E);for(var W=d.querySelectorAll("link[data-precedence],style[data-precedence]"),K=0;K<W.length;K++){var xe=W[K];(xe.nodeName==="LINK"||xe.getAttribute("media")!=="not all")&&(E.set(xe.dataset.precedence,xe),L=xe)}L&&E.set(null,L)}W=p.instance,xe=W.getAttribute("data-precedence"),K=E.get(xe)||L,K===L&&E.set(null,W),E.set(xe,W),this.count++,L=Hb.bind(this),W.addEventListener("load",L),W.addEventListener("error",L),K?K.parentNode.insertBefore(W,K.nextSibling):(d=d.nodeType===9?d.head:d,d.insertBefore(W,d.firstChild)),p.state.loading|=4}}var Hy={$$typeof:S,Provider:null,Consumer:null,_currentValue:ee,_currentValue2:ee,_threadCount:0};function S7(d,p,E,L,W,K,xe,Pe){this.tag=1,this.containerInfo=d,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Dt(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Dt(0),this.hiddenUpdates=Dt(null),this.identifierPrefix=L,this.onUncaughtError=W,this.onCaughtError=K,this.onRecoverableError=xe,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=Pe,this.incompleteTransitions=new Map}function cL(d,p,E,L,W,K,xe,Pe,rt,zt,mn,En){return d=new S7(d,p,E,xe,Pe,rt,zt,En),p=1,K===!0&&(p|=24),K=Qo(3,null,null,p),d.current=K,K.stateNode=d,p=ef(),p.refCount++,d.pooledCache=p,p.refCount++,K.memoizedState={element:L,isDehydrated:E,cache:p},bt(K),d}function uL(d){return d?(d=Cu,d):Cu}function hL(d,p,E,L,W,K){W=uL(W),L.context===null?L.context=W:L.pendingContext=W,L=Kt(p),L.payload={element:E},K=K===void 0?null:K,K!==null&&(L.callback=K),E=_n(d,L,p),E!==null&&(ml(E,d,p),Un(E,d,p))}function dL(d,p){if(d=d.memoizedState,d!==null&&d.dehydrated!==null){var E=d.retryLane;d.retryLane=E!==0&&E<p?E:p}}function aT(d,p){dL(d,p),(d=d.alternate)&&dL(d,p)}function fL(d){if(d.tag===13){var p=Qc(d,67108864);p!==null&&ml(p,d,67108864),aT(d,67108864)}}var Vb=!0;function w7(d,p,E,L){var W=k.T;k.T=null;var K=Z.p;try{Z.p=2,oT(d,p,E,L)}finally{Z.p=K,k.T=W}}function E7(d,p,E,L){var W=k.T;k.T=null;var K=Z.p;try{Z.p=8,oT(d,p,E,L)}finally{Z.p=K,k.T=W}}function oT(d,p,E,L){if(Vb){var W=lT(L);if(W===null)qC(d,p,L,Wb,E),mL(d,L);else if(T7(W,d,p,E,L))L.stopPropagation();else if(mL(d,L),p&4&&-1<C7.indexOf(d)){for(;W!==null;){var K=Ie(W);if(K!==null)switch(K.tag){case 3:if(K=K.stateNode,K.current.memoizedState.isDehydrated){var xe=Xt(K.pendingLanes);if(xe!==0){var Pe=K;for(Pe.pendingLanes|=2,Pe.entangledLanes|=2;xe;){var rt=1<<31-At(xe);Pe.entanglements[1]|=rt,xe&=~rt}xd(K),(fs&6)===0&&(nl=St()+500,Ny(0))}}break;case 13:Pe=Qc(K,2),Pe!==null&&ml(Pe,K,2),Wu(),aT(K,2)}if(K=lT(L),K===null&&qC(d,p,L,Wb,E),K===W)break;W=K}W!==null&&L.stopPropagation()}else qC(d,p,L,null,E)}}function lT(d){return d=us(d),cT(d)}var Wb=null;function cT(d){if(Wb=null,d=we(d),d!==null){var p=s(d);if(p===null)d=null;else{var E=p.tag;if(E===13){if(d=a(p),d!==null)return d;d=null}else if(E===3){if(p.stateNode.current.memoizedState.isDehydrated)return p.tag===3?p.stateNode.containerInfo:null;d=null}else p!==d&&(d=null)}}return Wb=d,null}function pL(d){switch(d){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(nt()){case Ft:return 2;case qe:return 8;case Ke:case Et:return 32;case ye:return 268435456;default:return 32}default:return 32}}var uT=!1,Up=null,kp=null,Bp=null,$y=new Map,Vy=new Map,zp=[],C7="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function mL(d,p){switch(d){case"focusin":case"focusout":Up=null;break;case"dragenter":case"dragleave":kp=null;break;case"mouseover":case"mouseout":Bp=null;break;case"pointerover":case"pointerout":$y.delete(p.pointerId);break;case"gotpointercapture":case"lostpointercapture":Vy.delete(p.pointerId)}}function Wy(d,p,E,L,W,K){return d===null||d.nativeEvent!==K?(d={blockedOn:p,domEventName:E,eventSystemFlags:L,nativeEvent:K,targetContainers:[W]},p!==null&&(p=Ie(p),p!==null&&fL(p)),d):(d.eventSystemFlags|=L,p=d.targetContainers,W!==null&&p.indexOf(W)===-1&&p.push(W),d)}function T7(d,p,E,L,W){switch(p){case"focusin":return Up=Wy(Up,d,p,E,L,W),!0;case"dragenter":return kp=Wy(kp,d,p,E,L,W),!0;case"mouseover":return Bp=Wy(Bp,d,p,E,L,W),!0;case"pointerover":var K=W.pointerId;return $y.set(K,Wy($y.get(K)||null,d,p,E,L,W)),!0;case"gotpointercapture":return K=W.pointerId,Vy.set(K,Wy(Vy.get(K)||null,d,p,E,L,W)),!0}return!1}function gL(d){var p=we(d.target);if(p!==null){var E=s(p);if(E!==null){if(p=E.tag,p===13){if(p=a(E),p!==null){d.blockedOn=p,Ii(d.priority,function(){if(E.tag===13){var L=Aa();L=wn(L);var W=Qc(E,L);W!==null&&ml(W,E,L),aT(E,L)}});return}}else if(p===3&&E.stateNode.current.memoizedState.isDehydrated){d.blockedOn=E.tag===3?E.stateNode.containerInfo:null;return}}}d.blockedOn=null}function jb(d){if(d.blockedOn!==null)return!1;for(var p=d.targetContainers;0<p.length;){var E=lT(d.nativeEvent);if(E===null){E=d.nativeEvent;var L=new E.constructor(E.type,E);_a=L,E.target.dispatchEvent(L),_a=null}else return p=Ie(E),p!==null&&fL(p),d.blockedOn=E,!1;p.shift()}return!0}function vL(d,p,E){jb(d)&&E.delete(p)}function A7(){uT=!1,Up!==null&&jb(Up)&&(Up=null),kp!==null&&jb(kp)&&(kp=null),Bp!==null&&jb(Bp)&&(Bp=null),$y.forEach(vL),Vy.forEach(vL)}function Xb(d,p){d.blockedOn===p&&(d.blockedOn=null,uT||(uT=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,A7)))}var qb=null;function yL(d){qb!==d&&(qb=d,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){qb===d&&(qb=null);for(var p=0;p<d.length;p+=3){var E=d[p],L=d[p+1],W=d[p+2];if(typeof L!="function"){if(cT(L||E)===null)continue;break}var K=Ie(E);K!==null&&(d.splice(p,3),p-=3,My(K,{pending:!0,data:W,method:E.method,action:L},L,W))}}))}function jy(d){function p(rt){return Xb(rt,d)}Up!==null&&Xb(Up,d),kp!==null&&Xb(kp,d),Bp!==null&&Xb(Bp,d),$y.forEach(p),Vy.forEach(p);for(var E=0;E<zp.length;E++){var L=zp[E];L.blockedOn===d&&(L.blockedOn=null)}for(;0<zp.length&&(E=zp[0],E.blockedOn===null);)gL(E),E.blockedOn===null&&zp.shift();if(E=(d.ownerDocument||d).$$reactFormReplay,E!=null)for(L=0;L<E.length;L+=3){var W=E[L],K=E[L+1],xe=W[er]||null;if(typeof K=="function")xe||yL(E);else if(xe){var Pe=null;if(K&&K.hasAttribute("formAction")){if(W=K,xe=K[er]||null)Pe=xe.formAction;else if(cT(W)!==null)continue}else Pe=xe.action;typeof Pe=="function"?E[L+1]=Pe:(E.splice(L,3),L-=3),yL(E)}}}function hT(d){this._internalRoot=d}Yb.prototype.render=hT.prototype.render=function(d){var p=this._internalRoot;if(p===null)throw Error(i(409));var E=p.current,L=Aa();hL(E,L,d,p,null,null)},Yb.prototype.unmount=hT.prototype.unmount=function(){var d=this._internalRoot;if(d!==null){this._internalRoot=null;var p=d.containerInfo;hL(d.current,2,null,d,null,null),Wu(),p[Zi]=null}};function Yb(d){this._internalRoot=d}Yb.prototype.unstable_scheduleHydration=function(d){if(d){var p=Wn();d={blockedOn:null,target:d,priority:p};for(var E=0;E<zp.length&&p!==0&&p<zp[E].priority;E++);zp.splice(E,0,d),E===0&&gL(d)}};var _L=e.version;if(_L!=="19.1.1")throw Error(i(527,_L,"19.1.1"));Z.findDOMNode=function(d){var p=d._reactInternals;if(p===void 0)throw typeof d.render=="function"?Error(i(188)):(d=Object.keys(d).join(","),Error(i(268,d)));return d=l(p),d=d!==null?c(d):null,d=d===null?null:d.stateNode,d};var M7={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:k,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Kb=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Kb.isDisabled&&Kb.supportsFiber)try{it=Kb.inject(M7),Qe=Kb}catch{}}return Ky.createRoot=function(d,p){if(!r(d))throw Error(i(299));var E=!1,L="",W=$m,K=yv,xe=Ob,Pe=null;return p!=null&&(p.unstable_strictMode===!0&&(E=!0),p.identifierPrefix!==void 0&&(L=p.identifierPrefix),p.onUncaughtError!==void 0&&(W=p.onUncaughtError),p.onCaughtError!==void 0&&(K=p.onCaughtError),p.onRecoverableError!==void 0&&(xe=p.onRecoverableError),p.unstable_transitionCallbacks!==void 0&&(Pe=p.unstable_transitionCallbacks)),p=cL(d,1,!1,null,null,E,L,W,K,xe,Pe,null),d[Zi]=p.current,XC(d),new hT(p)},Ky.hydrateRoot=function(d,p,E){if(!r(d))throw Error(i(299));var L=!1,W="",K=$m,xe=yv,Pe=Ob,rt=null,zt=null;return E!=null&&(E.unstable_strictMode===!0&&(L=!0),E.identifierPrefix!==void 0&&(W=E.identifierPrefix),E.onUncaughtError!==void 0&&(K=E.onUncaughtError),E.onCaughtError!==void 0&&(xe=E.onCaughtError),E.onRecoverableError!==void 0&&(Pe=E.onRecoverableError),E.unstable_transitionCallbacks!==void 0&&(rt=E.unstable_transitionCallbacks),E.formState!==void 0&&(zt=E.formState)),p=cL(d,1,!0,p,E??null,L,W,K,xe,Pe,rt,zt),p.context=uL(null),E=p.current,L=Aa(),L=wn(L),W=Kt(L),W.callback=null,_n(E,W,L),E=L,p.current.lanes=E,Sn(p,E),xd(p),d[Zi]=p.current,XC(d),new Yb(p)},Ky.version="19.1.1",Ky}var KL;function LH(){if(KL)return CT.exports;KL=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),CT.exports=OH(),CT.exports}var LE=LH();const PH=Yc(LE);/**
 * react-router v7.8.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var ZL="popstate";function IH(n={}){function e(r,s){let{pathname:a="/",search:o="",hash:l=""}=ev(r.location.hash.substring(1));return!a.startsWith("/")&&!a.startsWith(".")&&(a="/"+a),aM("",{pathname:a,search:o,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function t(r,s){let a=r.document.querySelector("base"),o="";if(a&&a.getAttribute("href")){let l=r.location.href,c=l.indexOf("#");o=c===-1?l:l.slice(0,c)}return o+"#"+(typeof s=="string"?s:i1(s))}function i(r,s){Wh(r.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(s)})`)}return NH(e,t,i,n)}function Va(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Wh(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function DH(){return Math.random().toString(36).substring(2,10)}function QL(n,e){return{usr:n.state,key:n.key,idx:e}}function aM(n,e,t=null,i){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?ev(e):e,state:t,key:e&&e.key||i||DH()}}function i1({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function ev(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let i=n.indexOf("?");i>=0&&(e.search=n.substring(i),n=n.substring(0,i)),n&&(e.pathname=n)}return e}function NH(n,e,t,i={}){let{window:r=document.defaultView,v5Compat:s=!1}=i,a=r.history,o="POP",l=null,c=f();c==null&&(c=0,a.replaceState({...a.state,idx:c},""));function f(){return(a.state||{idx:null}).idx}function h(){o="POP";let y=f(),u=y==null?null:y-c;c=y,l&&l({action:o,location:g.location,delta:u})}function v(y,u){o="PUSH";let b=aM(g.location,y,u);t&&t(b,y),c=f()+1;let S=QL(b,c),T=g.createHref(b);try{a.pushState(S,"",T)}catch(R){if(R instanceof DOMException&&R.name==="DataCloneError")throw R;r.location.assign(T)}s&&l&&l({action:o,location:g.location,delta:1})}function m(y,u){o="REPLACE";let b=aM(g.location,y,u);t&&t(b,y),c=f();let S=QL(b,c),T=g.createHref(b);a.replaceState(S,"",T),s&&l&&l({action:o,location:g.location,delta:0})}function _(y){return FH(y)}let g={get action(){return o},get location(){return n(r,a)},listen(y){if(l)throw new Error("A history only accepts one active listener");return r.addEventListener(ZL,h),l=y,()=>{r.removeEventListener(ZL,h),l=null}},createHref(y){return e(r,y)},createURL:_,encodeLocation(y){let u=_(y);return{pathname:u.pathname,search:u.search,hash:u.hash}},push:v,replace:m,go(y){return a.go(y)}};return g}function FH(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),Va(t,"No window.location.(origin|href) available to create URL");let i=typeof n=="string"?n:i1(n);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=t+i),new URL(i,t)}function bU(n,e,t="/"){return UH(n,e,t,!1)}function UH(n,e,t,i){let r=typeof e=="string"?ev(e):e,s=Zf(r.pathname||"/",t);if(s==null)return null;let a=xU(n);kH(a);let o=null;for(let l=0;o==null&&l<a.length;++l){let c=YH(s);o=XH(a[l],c,i)}return o}function xU(n,e=[],t=[],i="",r=!1){let s=(a,o,l=r,c)=>{let f={relativePath:c===void 0?a.path||"":c,caseSensitive:a.caseSensitive===!0,childrenIndex:o,route:a};if(f.relativePath.startsWith("/")){if(!f.relativePath.startsWith(i)&&l)return;Va(f.relativePath.startsWith(i),`Absolute route path "${f.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(i.length)}let h=Wf([i,f.relativePath]),v=t.concat(f);a.children&&a.children.length>0&&(Va(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${h}".`),xU(a.children,e,v,h,l)),!(a.path==null&&!a.index)&&e.push({path:h,score:WH(h,a.index),routesMeta:v})};return n.forEach((a,o)=>{if(a.path===""||!a.path?.includes("?"))s(a,o);else for(let l of SU(a.path))s(a,o,!0,l)}),e}function SU(n){let e=n.split("/");if(e.length===0)return[];let[t,...i]=e,r=t.endsWith("?"),s=t.replace(/\?$/,"");if(i.length===0)return r?[s,""]:[s];let a=SU(i.join("/")),o=[];return o.push(...a.map(l=>l===""?s:[s,l].join("/"))),r&&o.push(...a),o.map(l=>n.startsWith("/")&&l===""?"/":l)}function kH(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:jH(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}var BH=/^:[\w-]+$/,zH=3,GH=2,HH=1,$H=10,VH=-2,JL=n=>n==="*";function WH(n,e){let t=n.split("/"),i=t.length;return t.some(JL)&&(i+=VH),e&&(i+=GH),t.filter(r=>!JL(r)).reduce((r,s)=>r+(BH.test(s)?zH:s===""?HH:$H),i)}function jH(n,e){return n.length===e.length&&n.slice(0,-1).every((i,r)=>i===e[r])?n[n.length-1]-e[e.length-1]:0}function XH(n,e,t=!1){let{routesMeta:i}=n,r={},s="/",a=[];for(let o=0;o<i.length;++o){let l=i[o],c=o===i.length-1,f=s==="/"?e:e.slice(s.length)||"/",h=JS({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},f),v=l.route;if(!h&&c&&t&&!i[i.length-1].route.index&&(h=JS({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},f)),!h)return null;Object.assign(r,h.params),a.push({params:r,pathname:Wf([s,h.pathname]),pathnameBase:JH(Wf([s,h.pathnameBase])),route:v}),h.pathnameBase!=="/"&&(s=Wf([s,h.pathnameBase]))}return a}function JS(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,i]=qH(n.path,n.caseSensitive,n.end),r=e.match(t);if(!r)return null;let s=r[0],a=s.replace(/(.)\/+$/,"$1"),o=r.slice(1);return{params:i.reduce((c,{paramName:f,isOptional:h},v)=>{if(f==="*"){let _=o[v]||"";a=s.slice(0,s.length-_.length).replace(/(.)\/+$/,"$1")}const m=o[v];return h&&!m?c[f]=void 0:c[f]=(m||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:a,pattern:n}}function qH(n,e=!1,t=!0){Wh(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let i=[],r="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,o,l)=>(i.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return n.endsWith("*")?(i.push({paramName:"*"}),r+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?r+="\\/*$":n!==""&&n!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,e?void 0:"i"),i]}function YH(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Wh(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function Zf(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=n.charAt(t);return i&&i!=="/"?null:n.slice(t)||"/"}function KH(n,e="/"){let{pathname:t,search:i="",hash:r=""}=typeof n=="string"?ev(n):n;return{pathname:t?t.startsWith("/")?t:ZH(t,e):e,search:e$(i),hash:t$(r)}}function ZH(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(r=>{r===".."?t.length>1&&t.pop():r!=="."&&t.push(r)}),t.length>1?t.join("/"):"/"}function MT(n,e,t,i){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function QH(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function wU(n){let e=QH(n);return e.map((t,i)=>i===e.length-1?t.pathname:t.pathnameBase)}function EU(n,e,t,i=!1){let r;typeof n=="string"?r=ev(n):(r={...n},Va(!r.pathname||!r.pathname.includes("?"),MT("?","pathname","search",r)),Va(!r.pathname||!r.pathname.includes("#"),MT("#","pathname","hash",r)),Va(!r.search||!r.search.includes("#"),MT("#","search","hash",r)));let s=n===""||r.pathname==="",a=s?"/":r.pathname,o;if(a==null)o=t;else{let h=e.length-1;if(!i&&a.startsWith("..")){let v=a.split("/");for(;v[0]==="..";)v.shift(),h-=1;r.pathname=v.join("/")}o=h>=0?e[h]:"/"}let l=KH(r,o),c=a&&a!=="/"&&a.endsWith("/"),f=(s||a===".")&&t.endsWith("/");return!l.pathname.endsWith("/")&&(c||f)&&(l.pathname+="/"),l}var Wf=n=>n.join("/").replace(/\/\/+/g,"/"),JH=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),e$=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,t$=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function n$(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var CU=["POST","PUT","PATCH","DELETE"];new Set(CU);var i$=["GET",...CU];new Set(i$);var cy=H.createContext(null);cy.displayName="DataRouter";var PE=H.createContext(null);PE.displayName="DataRouterState";H.createContext(!1);var TU=H.createContext({isTransitioning:!1});TU.displayName="ViewTransition";var r$=H.createContext(new Map);r$.displayName="Fetchers";var s$=H.createContext(null);s$.displayName="Await";var Vd=H.createContext(null);Vd.displayName="Navigation";var P1=H.createContext(null);P1.displayName="Location";var ip=H.createContext({outlet:null,matches:[],isDataRoute:!1});ip.displayName="Route";var $R=H.createContext(null);$R.displayName="RouteError";function a$(n,{relative:e}={}){Va(I1(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:i}=H.useContext(Vd),{hash:r,pathname:s,search:a}=D1(n,{relative:e}),o=s;return t!=="/"&&(o=s==="/"?t:Wf([t,s])),i.createHref({pathname:o,search:a,hash:r})}function I1(){return H.useContext(P1)!=null}function Wd(){return Va(I1(),"useLocation() may be used only in the context of a <Router> component."),H.useContext(P1).location}var AU="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function MU(n){H.useContext(Vd).static||H.useLayoutEffect(n)}function o$(){let{isDataRoute:n}=H.useContext(ip);return n?b$():l$()}function l$(){Va(I1(),"useNavigate() may be used only in the context of a <Router> component.");let n=H.useContext(cy),{basename:e,navigator:t}=H.useContext(Vd),{matches:i}=H.useContext(ip),{pathname:r}=Wd(),s=JSON.stringify(wU(i)),a=H.useRef(!1);return MU(()=>{a.current=!0}),H.useCallback((l,c={})=>{if(Wh(a.current,AU),!a.current)return;if(typeof l=="number"){t.go(l);return}let f=EU(l,JSON.parse(s),r,c.relative==="path");n==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:Wf([e,f.pathname])),(c.replace?t.replace:t.push)(f,c.state,c)},[e,t,s,r,n])}H.createContext(null);function D1(n,{relative:e}={}){let{matches:t}=H.useContext(ip),{pathname:i}=Wd(),r=JSON.stringify(wU(t));return H.useMemo(()=>EU(n,JSON.parse(r),i,e==="path"),[n,r,i,e])}function c$(n,e){return RU(n,e)}function RU(n,e,t,i,r){Va(I1(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=H.useContext(Vd),{matches:a}=H.useContext(ip),o=a[a.length-1],l=o?o.params:{},c=o?o.pathname:"/",f=o?o.pathnameBase:"/",h=o&&o.route;{let b=h&&h.path||"";OU(c,!h||b.endsWith("*")||b.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${c}" (under <Route path="${b}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${b}"> to <Route path="${b==="/"?"*":`${b}/*`}">.`)}let v=Wd(),m;if(e){let b=typeof e=="string"?ev(e):e;Va(f==="/"||b.pathname?.startsWith(f),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${f}" but pathname "${b.pathname}" was given in the \`location\` prop.`),m=b}else m=v;let _=m.pathname||"/",g=_;if(f!=="/"){let b=f.replace(/^\//,"").split("/");g="/"+_.replace(/^\//,"").split("/").slice(b.length).join("/")}let y=bU(n,{pathname:g});Wh(h||y!=null,`No routes matched location "${m.pathname}${m.search}${m.hash}" `),Wh(y==null||y[y.length-1].route.element!==void 0||y[y.length-1].route.Component!==void 0||y[y.length-1].route.lazy!==void 0,`Matched leaf route at location "${m.pathname}${m.search}${m.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let u=p$(y&&y.map(b=>Object.assign({},b,{params:Object.assign({},l,b.params),pathname:Wf([f,s.encodeLocation?s.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?f:Wf([f,s.encodeLocation?s.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),a,t,i,r);return e&&u?H.createElement(P1.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...m},navigationType:"POP"}},u):u}function u$(){let n=_$(),e=n$(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,i="rgba(200,200,200, 0.5)",r={padding:"0.5rem",backgroundColor:i},s={padding:"2px 4px",backgroundColor:i},a=null;return console.error("Error handled by React Router default ErrorBoundary:",n),a=H.createElement(H.Fragment,null,H.createElement("p",null,"ð¿ Hey developer ð"),H.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",H.createElement("code",{style:s},"ErrorBoundary")," or"," ",H.createElement("code",{style:s},"errorElement")," prop on your route.")),H.createElement(H.Fragment,null,H.createElement("h2",null,"Unexpected Application Error!"),H.createElement("h3",{style:{fontStyle:"italic"}},e),t?H.createElement("pre",{style:r},t):null,a)}var h$=H.createElement(u$,null),d$=class extends H.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){this.props.unstable_onError?this.props.unstable_onError(n,e):console.error("React Router caught the following error during render",n)}render(){return this.state.error!==void 0?H.createElement(ip.Provider,{value:this.props.routeContext},H.createElement($R.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function f$({routeContext:n,match:e,children:t}){let i=H.useContext(cy);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),H.createElement(ip.Provider,{value:n},t)}function p$(n,e=[],t=null,i=null,r=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let s=n,a=t?.errors;if(a!=null){let c=s.findIndex(f=>f.route.id&&a?.[f.route.id]!==void 0);Va(c>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),s=s.slice(0,Math.min(s.length,c+1))}let o=!1,l=-1;if(t)for(let c=0;c<s.length;c++){let f=s[c];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(l=c),f.route.id){let{loaderData:h,errors:v}=t,m=f.route.loader&&!h.hasOwnProperty(f.route.id)&&(!v||v[f.route.id]===void 0);if(f.route.lazy||m){o=!0,l>=0?s=s.slice(0,l+1):s=[s[0]];break}}}return s.reduceRight((c,f,h)=>{let v,m=!1,_=null,g=null;t&&(v=a&&f.route.id?a[f.route.id]:void 0,_=f.route.errorElement||h$,o&&(l<0&&h===0?(OU("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),m=!0,g=null):l===h&&(m=!0,g=f.route.hydrateFallbackElement||null)));let y=e.concat(s.slice(0,h+1)),u=()=>{let b;return v?b=_:m?b=g:f.route.Component?b=H.createElement(f.route.Component,null):f.route.element?b=f.route.element:b=c,H.createElement(f$,{match:f,routeContext:{outlet:c,matches:y,isDataRoute:t!=null},children:b})};return t&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?H.createElement(d$,{location:t.location,revalidation:t.revalidation,component:_,error:v,children:u(),routeContext:{outlet:null,matches:y,isDataRoute:!0},unstable_onError:i}):u()},null)}function VR(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function m$(n){let e=H.useContext(cy);return Va(e,VR(n)),e}function g$(n){let e=H.useContext(PE);return Va(e,VR(n)),e}function v$(n){let e=H.useContext(ip);return Va(e,VR(n)),e}function WR(n){let e=v$(n),t=e.matches[e.matches.length-1];return Va(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function y$(){return WR("useRouteId")}function _$(){let n=H.useContext($R),e=g$("useRouteError"),t=WR("useRouteError");return n!==void 0?n:e.errors?.[t]}function b$(){let{router:n}=m$("useNavigate"),e=WR("useNavigate"),t=H.useRef(!1);return MU(()=>{t.current=!0}),H.useCallback(async(r,s={})=>{Wh(t.current,AU),t.current&&(typeof r=="number"?n.navigate(r):await n.navigate(r,{fromRouteId:e,...s}))},[n,e])}var eP={};function OU(n,e,t){!e&&!eP[n]&&(eP[n]=!0,Wh(!1,t))}H.memo(x$);function x$({routes:n,future:e,state:t,unstable_onError:i}){return RU(n,void 0,t,i,e)}function Qp(n){Va(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function S$({basename:n="/",children:e=null,location:t,navigationType:i="POP",navigator:r,static:s=!1}){Va(!I1(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let a=n.replace(/^\/*/,"/"),o=H.useMemo(()=>({basename:a,navigator:r,static:s,future:{}}),[a,r,s]);typeof t=="string"&&(t=ev(t));let{pathname:l="/",search:c="",hash:f="",state:h=null,key:v="default"}=t,m=H.useMemo(()=>{let _=Zf(l,a);return _==null?null:{location:{pathname:_,search:c,hash:f,state:h,key:v},navigationType:i}},[a,l,c,f,h,v,i]);return Wh(m!=null,`<Router basename="${a}"> is not able to match the URL "${l}${c}${f}" because it does not start with the basename, so the <Router> won't render anything.`),m==null?null:H.createElement(Vd.Provider,{value:o},H.createElement(P1.Provider,{children:e,value:m}))}function w$({children:n,location:e}){return c$(oM(n),e)}function oM(n,e=[]){let t=[];return H.Children.forEach(n,(i,r)=>{if(!H.isValidElement(i))return;let s=[...e,r];if(i.type===H.Fragment){t.push.apply(t,oM(i.props.children,s));return}Va(i.type===Qp,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Va(!i.props.index||!i.props.children,"An index route cannot have child routes.");let a={id:i.props.id||s.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(a.children=oM(i.props.children,s)),t.push(a)}),t}var DS="get",NS="application/x-www-form-urlencoded";function IE(n){return n!=null&&typeof n.tagName=="string"}function E$(n){return IE(n)&&n.tagName.toLowerCase()==="button"}function C$(n){return IE(n)&&n.tagName.toLowerCase()==="form"}function T$(n){return IE(n)&&n.tagName.toLowerCase()==="input"}function A$(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function M$(n,e){return n.button===0&&(!e||e==="_self")&&!A$(n)}var Qb=null;function R$(){if(Qb===null)try{new FormData(document.createElement("form"),0),Qb=!1}catch{Qb=!0}return Qb}var O$=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function RT(n){return n!=null&&!O$.has(n)?(Wh(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${NS}"`),null):n}function L$(n,e){let t,i,r,s,a;if(C$(n)){let o=n.getAttribute("action");i=o?Zf(o,e):null,t=n.getAttribute("method")||DS,r=RT(n.getAttribute("enctype"))||NS,s=new FormData(n)}else if(E$(n)||T$(n)&&(n.type==="submit"||n.type==="image")){let o=n.form;if(o==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=n.getAttribute("formaction")||o.getAttribute("action");if(i=l?Zf(l,e):null,t=n.getAttribute("formmethod")||o.getAttribute("method")||DS,r=RT(n.getAttribute("formenctype"))||RT(o.getAttribute("enctype"))||NS,s=new FormData(o,n),!R$()){let{name:c,type:f,value:h}=n;if(f==="image"){let v=c?`${c}.`:"";s.append(`${v}x`,"0"),s.append(`${v}y`,"0")}else c&&s.append(c,h)}}else{if(IE(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=DS,i=null,r=NS,a=n}return s&&r==="text/plain"&&(a=s,s=void 0),{action:i,method:t.toLowerCase(),encType:r,formData:s,body:a}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function jR(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function P$(n,e,t){let i=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return i.pathname==="/"?i.pathname=`_root.${t}`:e&&Zf(i.pathname,e)==="/"?i.pathname=`${e.replace(/\/$/,"")}/_root.${t}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${t}`,i}async function I$(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function D$(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function N$(n,e,t){let i=await Promise.all(n.map(async r=>{let s=e.routes[r.route.id];if(s){let a=await I$(s,t);return a.links?a.links():[]}return[]}));return B$(i.flat(1).filter(D$).filter(r=>r.rel==="stylesheet"||r.rel==="preload").map(r=>r.rel==="stylesheet"?{...r,rel:"prefetch",as:"style"}:{...r,rel:"prefetch"}))}function tP(n,e,t,i,r,s){let a=(l,c)=>t[c]?l.route.id!==t[c].route.id:!0,o=(l,c)=>t[c].pathname!==l.pathname||t[c].route.path?.endsWith("*")&&t[c].params["*"]!==l.params["*"];return s==="assets"?e.filter((l,c)=>a(l,c)||o(l,c)):s==="data"?e.filter((l,c)=>{let f=i.routes[l.route.id];if(!f||!f.hasLoader)return!1;if(a(l,c)||o(l,c))return!0;if(l.route.shouldRevalidate){let h=l.route.shouldRevalidate({currentUrl:new URL(r.pathname+r.search+r.hash,window.origin),currentParams:t[0]?.params||{},nextUrl:new URL(n,window.origin),nextParams:l.params,defaultShouldRevalidate:!0});if(typeof h=="boolean")return h}return!0}):[]}function F$(n,e,{includeHydrateFallback:t}={}){return U$(n.map(i=>{let r=e.routes[i.route.id];if(!r)return[];let s=[r.module];return r.clientActionModule&&(s=s.concat(r.clientActionModule)),r.clientLoaderModule&&(s=s.concat(r.clientLoaderModule)),t&&r.hydrateFallbackModule&&(s=s.concat(r.hydrateFallbackModule)),r.imports&&(s=s.concat(r.imports)),s}).flat(1))}function U$(n){return[...new Set(n)]}function k$(n){let e={},t=Object.keys(n).sort();for(let i of t)e[i]=n[i];return e}function B$(n,e){let t=new Set;return new Set(e),n.reduce((i,r)=>{let s=JSON.stringify(k$(r));return t.has(s)||(t.add(s),i.push({key:s,link:r})),i},[])}function LU(){let n=H.useContext(cy);return jR(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function z$(){let n=H.useContext(PE);return jR(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var XR=H.createContext(void 0);XR.displayName="FrameworkContext";function PU(){let n=H.useContext(XR);return jR(n,"You must render this element inside a <HydratedRouter> element"),n}function G$(n,e){let t=H.useContext(XR),[i,r]=H.useState(!1),[s,a]=H.useState(!1),{onFocus:o,onBlur:l,onMouseEnter:c,onMouseLeave:f,onTouchStart:h}=e,v=H.useRef(null);H.useEffect(()=>{if(n==="render"&&a(!0),n==="viewport"){let g=u=>{u.forEach(b=>{a(b.isIntersecting)})},y=new IntersectionObserver(g,{threshold:.5});return v.current&&y.observe(v.current),()=>{y.disconnect()}}},[n]),H.useEffect(()=>{if(i){let g=setTimeout(()=>{a(!0)},100);return()=>{clearTimeout(g)}}},[i]);let m=()=>{r(!0)},_=()=>{r(!1),a(!1)};return t?n!=="intent"?[s,v,{}]:[s,v,{onFocus:Zy(o,m),onBlur:Zy(l,_),onMouseEnter:Zy(c,m),onMouseLeave:Zy(f,_),onTouchStart:Zy(h,m)}]:[!1,v,{}]}function Zy(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function H$({page:n,...e}){let{router:t}=LU(),i=H.useMemo(()=>bU(t.routes,n,t.basename),[t.routes,n,t.basename]);return i?H.createElement(V$,{page:n,matches:i,...e}):null}function $$(n){let{manifest:e,routeModules:t}=PU(),[i,r]=H.useState([]);return H.useEffect(()=>{let s=!1;return N$(n,e,t).then(a=>{s||r(a)}),()=>{s=!0}},[n,e,t]),i}function V$({page:n,matches:e,...t}){let i=Wd(),{manifest:r,routeModules:s}=PU(),{basename:a}=LU(),{loaderData:o,matches:l}=z$(),c=H.useMemo(()=>tP(n,e,l,r,i,"data"),[n,e,l,r,i]),f=H.useMemo(()=>tP(n,e,l,r,i,"assets"),[n,e,l,r,i]),h=H.useMemo(()=>{if(n===i.pathname+i.search+i.hash)return[];let _=new Set,g=!1;if(e.forEach(u=>{let b=r.routes[u.route.id];!b||!b.hasLoader||(!c.some(S=>S.route.id===u.route.id)&&u.route.id in o&&s[u.route.id]?.shouldRevalidate||b.hasClientLoader?g=!0:_.add(u.route.id))}),_.size===0)return[];let y=P$(n,a,"data");return g&&_.size>0&&y.searchParams.set("_routes",e.filter(u=>_.has(u.route.id)).map(u=>u.route.id).join(",")),[y.pathname+y.search]},[a,o,i,r,c,e,n,s]),v=H.useMemo(()=>F$(f,r),[f,r]),m=$$(f);return H.createElement(H.Fragment,null,h.map(_=>H.createElement("link",{key:_,rel:"prefetch",as:"fetch",href:_,...t})),v.map(_=>H.createElement("link",{key:_,rel:"modulepreload",href:_,...t})),m.map(({key:_,link:g})=>H.createElement("link",{key:_,nonce:t.nonce,...g})))}function W$(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var IU=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{IU&&(window.__reactRouterVersion="7.8.2")}catch{}function j$({basename:n,children:e,window:t}){let i=H.useRef();i.current==null&&(i.current=IH({window:t,v5Compat:!0}));let r=i.current,[s,a]=H.useState({action:r.action,location:r.location}),o=H.useCallback(l=>{H.startTransition(()=>a(l))},[a]);return H.useLayoutEffect(()=>r.listen(o),[r,o]),H.createElement(S$,{basename:n,children:e,location:s.location,navigationType:s.action,navigator:r})}var DU=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,NU=H.forwardRef(function({onClick:e,discover:t="render",prefetch:i="none",relative:r,reloadDocument:s,replace:a,state:o,target:l,to:c,preventScrollReset:f,viewTransition:h,...v},m){let{basename:_}=H.useContext(Vd),g=typeof c=="string"&&DU.test(c),y,u=!1;if(typeof c=="string"&&g&&(y=c,IU))try{let F=new URL(window.location.href),M=c.startsWith("//")?new URL(F.protocol+c):new URL(c),D=Zf(M.pathname,_);M.origin===F.origin&&D!=null?c=D+M.search+M.hash:u=!0}catch{Wh(!1,`<Link to="${c}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let b=a$(c,{relative:r}),[S,T,R]=G$(i,v),O=Y$(c,{replace:a,state:o,target:l,preventScrollReset:f,relative:r,viewTransition:h});function C(F){e&&e(F),F.defaultPrevented||O(F)}let I=H.createElement("a",{...v,...R,href:y||b,onClick:u||s?e:C,ref:W$(m,T),target:l,"data-discover":!g&&t==="render"?"true":void 0});return S&&!g?H.createElement(H.Fragment,null,I,H.createElement(H$,{page:b})):I});NU.displayName="Link";var FS=H.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:i="",end:r=!1,style:s,to:a,viewTransition:o,children:l,...c},f){let h=D1(a,{relative:c.relative}),v=Wd(),m=H.useContext(PE),{navigator:_,basename:g}=H.useContext(Vd),y=m!=null&&eV(h)&&o===!0,u=_.encodeLocation?_.encodeLocation(h).pathname:h.pathname,b=v.pathname,S=m&&m.navigation&&m.navigation.location?m.navigation.location.pathname:null;t||(b=b.toLowerCase(),S=S?S.toLowerCase():null,u=u.toLowerCase()),S&&g&&(S=Zf(S,g)||S);const T=u!=="/"&&u.endsWith("/")?u.length-1:u.length;let R=b===u||!r&&b.startsWith(u)&&b.charAt(T)==="/",O=S!=null&&(S===u||!r&&S.startsWith(u)&&S.charAt(u.length)==="/"),C={isActive:R,isPending:O,isTransitioning:y},I=R?e:void 0,F;typeof i=="function"?F=i(C):F=[i,R?"active":null,O?"pending":null,y?"transitioning":null].filter(Boolean).join(" ");let M=typeof s=="function"?s(C):s;return H.createElement(NU,{...c,"aria-current":I,className:F,ref:f,style:M,to:a,viewTransition:o},typeof l=="function"?l(C):l)});FS.displayName="NavLink";var X$=H.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:i,replace:r,state:s,method:a=DS,action:o,onSubmit:l,relative:c,preventScrollReset:f,viewTransition:h,...v},m)=>{let _=Q$(),g=J$(o,{relative:c}),y=a.toLowerCase()==="get"?"get":"post",u=typeof o=="string"&&DU.test(o),b=S=>{if(l&&l(S),S.defaultPrevented)return;S.preventDefault();let T=S.nativeEvent.submitter,R=T?.getAttribute("formmethod")||a;_(T||S.currentTarget,{fetcherKey:e,method:R,navigate:t,replace:r,state:s,relative:c,preventScrollReset:f,viewTransition:h})};return H.createElement("form",{ref:m,method:y,action:g,onSubmit:i?l:b,...v,"data-discover":!u&&n==="render"?"true":void 0})});X$.displayName="Form";function q$(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function FU(n){let e=H.useContext(cy);return Va(e,q$(n)),e}function Y$(n,{target:e,replace:t,state:i,preventScrollReset:r,relative:s,viewTransition:a}={}){let o=o$(),l=Wd(),c=D1(n,{relative:s});return H.useCallback(f=>{if(M$(f,e)){f.preventDefault();let h=t!==void 0?t:i1(l)===i1(c);o(n,{replace:h,state:i,preventScrollReset:r,relative:s,viewTransition:a})}},[l,o,c,t,i,e,n,r,s,a])}var K$=0,Z$=()=>`__${String(++K$)}__`;function Q$(){let{router:n}=FU("useSubmit"),{basename:e}=H.useContext(Vd),t=y$();return H.useCallback(async(i,r={})=>{let{action:s,method:a,encType:o,formData:l,body:c}=L$(i,e);if(r.navigate===!1){let f=r.fetcherKey||Z$();await n.fetch(f,t,r.action||s,{preventScrollReset:r.preventScrollReset,formData:l,body:c,formMethod:r.method||a,formEncType:r.encType||o,flushSync:r.flushSync})}else await n.navigate(r.action||s,{preventScrollReset:r.preventScrollReset,formData:l,body:c,formMethod:r.method||a,formEncType:r.encType||o,replace:r.replace,state:r.state,fromRouteId:t,flushSync:r.flushSync,viewTransition:r.viewTransition})},[n,e,t])}function J$(n,{relative:e}={}){let{basename:t}=H.useContext(Vd),i=H.useContext(ip);Va(i,"useFormAction must be used inside a RouteContext");let[r]=i.matches.slice(-1),s={...D1(n||".",{relative:e})},a=Wd();if(n==null){s.search=a.search;let o=new URLSearchParams(s.search),l=o.getAll("index");if(l.some(f=>f==="")){o.delete("index"),l.filter(h=>h).forEach(h=>o.append("index",h));let f=o.toString();s.search=f?`?${f}`:""}}return(!n||n===".")&&r.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(s.pathname=s.pathname==="/"?t:Wf([t,s.pathname])),i1(s)}function eV(n,{relative:e}={}){let t=H.useContext(TU);Va(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=FU("useViewTransitionState"),r=D1(n,{relative:e});if(!t.isTransitioning)return!1;let s=Zf(t.currentLocation.pathname,i)||t.currentLocation.pathname,a=Zf(t.nextLocation.pathname,i)||t.nextLocation.pathname;return JS(r.pathname,a)!=null||JS(r.pathname,s)!=null}var OT,nP;function tV(){if(nP)return OT;nP=1;function n(o){return o&&typeof o=="object"&&"default"in o?o.default:o}var e=Jg(),t=n(e);function i(o,l,c){return l in o?Object.defineProperty(o,l,{value:c,enumerable:!0,configurable:!0,writable:!0}):o[l]=c,o}function r(o,l){o.prototype=Object.create(l.prototype),o.prototype.constructor=o,o.__proto__=l}var s=!!(typeof window<"u"&&window.document&&window.document.createElement);function a(o,l,c){if(typeof o!="function")throw new Error("Expected reducePropsToState to be a function.");if(typeof l!="function")throw new Error("Expected handleStateChangeOnClient to be a function.");if(typeof c<"u"&&typeof c!="function")throw new Error("Expected mapStateOnServer to either be undefined or a function.");function f(h){return h.displayName||h.name||"Component"}return function(v){if(typeof v!="function")throw new Error("Expected WrappedComponent to be a React component.");var m=[],_;function g(){_=o(m.map(function(u){return u.props})),y.canUseDOM?l(_):c&&(_=c(_))}var y=(function(u){r(b,u);function b(){return u.apply(this,arguments)||this}b.peek=function(){return _},b.rewind=function(){if(b.canUseDOM)throw new Error("You may only call rewind() on the server. Call peek() to read the current state.");var R=_;return _=void 0,m=[],R};var S=b.prototype;return S.UNSAFE_componentWillMount=function(){m.push(this),g()},S.componentDidUpdate=function(){g()},S.componentWillUnmount=function(){var R=m.indexOf(this);m.splice(R,1),g()},S.render=function(){return t.createElement(v,this.props)},b})(e.PureComponent);return i(y,"displayName","SideEffect("+f(v)+")"),i(y,"canUseDOM",s),y}}return OT=a,OT}var nV=tV();const iV=Yc(nV);var LT,iP;function rV(){if(iP)return LT;iP=1;var n=typeof Element<"u",e=typeof Map=="function",t=typeof Set=="function",i=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function r(s,a){if(s===a)return!0;if(s&&a&&typeof s=="object"&&typeof a=="object"){if(s.constructor!==a.constructor)return!1;var o,l,c;if(Array.isArray(s)){if(o=s.length,o!=a.length)return!1;for(l=o;l--!==0;)if(!r(s[l],a[l]))return!1;return!0}var f;if(e&&s instanceof Map&&a instanceof Map){if(s.size!==a.size)return!1;for(f=s.entries();!(l=f.next()).done;)if(!a.has(l.value[0]))return!1;for(f=s.entries();!(l=f.next()).done;)if(!r(l.value[1],a.get(l.value[0])))return!1;return!0}if(t&&s instanceof Set&&a instanceof Set){if(s.size!==a.size)return!1;for(f=s.entries();!(l=f.next()).done;)if(!a.has(l.value[0]))return!1;return!0}if(i&&ArrayBuffer.isView(s)&&ArrayBuffer.isView(a)){if(o=s.length,o!=a.length)return!1;for(l=o;l--!==0;)if(s[l]!==a[l])return!1;return!0}if(s.constructor===RegExp)return s.source===a.source&&s.flags===a.flags;if(s.valueOf!==Object.prototype.valueOf&&typeof s.valueOf=="function"&&typeof a.valueOf=="function")return s.valueOf()===a.valueOf();if(s.toString!==Object.prototype.toString&&typeof s.toString=="function"&&typeof a.toString=="function")return s.toString()===a.toString();if(c=Object.keys(s),o=c.length,o!==Object.keys(a).length)return!1;for(l=o;l--!==0;)if(!Object.prototype.hasOwnProperty.call(a,c[l]))return!1;if(n&&s instanceof Element)return!1;for(l=o;l--!==0;)if(!((c[l]==="_owner"||c[l]==="__v"||c[l]==="__o")&&s.$$typeof)&&!r(s[c[l]],a[c[l]]))return!1;return!0}return s!==s&&a!==a}return LT=function(a,o){try{return r(a,o)}catch(l){if((l.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw l}},LT}var sV=rV();const aV=Yc(sV);/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var PT,rP;function oV(){if(rP)return PT;rP=1;var n=Object.getOwnPropertySymbols,e=Object.prototype.hasOwnProperty,t=Object.prototype.propertyIsEnumerable;function i(s){if(s==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(s)}function r(){try{if(!Object.assign)return!1;var s=new String("abc");if(s[5]="de",Object.getOwnPropertyNames(s)[0]==="5")return!1;for(var a={},o=0;o<10;o++)a["_"+String.fromCharCode(o)]=o;var l=Object.getOwnPropertyNames(a).map(function(f){return a[f]});if(l.join("")!=="0123456789")return!1;var c={};return"abcdefghijklmnopqrst".split("").forEach(function(f){c[f]=f}),Object.keys(Object.assign({},c)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}return PT=r()?Object.assign:function(s,a){for(var o,l=i(s),c,f=1;f<arguments.length;f++){o=Object(arguments[f]);for(var h in o)e.call(o,h)&&(l[h]=o[h]);if(n){c=n(o);for(var v=0;v<c.length;v++)t.call(o,c[v])&&(l[c[v]]=o[c[v]])}}return l},PT}var lV=oV();const cV=Yc(lV);var kg={BODY:"bodyAttributes",HTML:"htmlAttributes",TITLE:"titleAttributes"},gr={BASE:"base",BODY:"body",HEAD:"head",HTML:"html",LINK:"link",META:"meta",NOSCRIPT:"noscript",SCRIPT:"script",STYLE:"style",TITLE:"title"};Object.keys(gr).map(function(n){return gr[n]});var Ma={CHARSET:"charset",CSS_TEXT:"cssText",HREF:"href",HTTPEQUIV:"http-equiv",INNER_HTML:"innerHTML",ITEM_PROP:"itemprop",NAME:"name",PROPERTY:"property",REL:"rel",SRC:"src",TARGET:"target"},ew={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},r1={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate"},uV=Object.keys(ew).reduce(function(n,e){return n[ew[e]]=e,n},{}),hV=[gr.NOSCRIPT,gr.SCRIPT,gr.STYLE],kh="data-react-helmet",dV=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},fV=function(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")},pV=(function(){function n(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,i){return t&&n(e.prototype,t),i&&n(e,i),e}})(),Gc=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},mV=function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(n,e):n.__proto__=e)},sP=function(n,e){var t={};for(var i in n)e.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i]);return t},gV=function(n,e){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:n},lM=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return t===!1?String(e):String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")},vV=function(e){var t=I0(e,gr.TITLE),i=I0(e,r1.TITLE_TEMPLATE);if(i&&t)return i.replace(/%s/g,function(){return Array.isArray(t)?t.join(""):t});var r=I0(e,r1.DEFAULT_TITLE);return t||r||void 0},yV=function(e){return I0(e,r1.ON_CHANGE_CLIENT_STATE)||function(){}},IT=function(e,t){return t.filter(function(i){return typeof i[e]<"u"}).map(function(i){return i[e]}).reduce(function(i,r){return Gc({},i,r)},{})},_V=function(e,t){return t.filter(function(i){return typeof i[gr.BASE]<"u"}).map(function(i){return i[gr.BASE]}).reverse().reduce(function(i,r){if(!i.length)for(var s=Object.keys(r),a=0;a<s.length;a++){var o=s[a],l=o.toLowerCase();if(e.indexOf(l)!==-1&&r[l])return i.concat(r)}return i},[])},Qy=function(e,t,i){var r={};return i.filter(function(s){return Array.isArray(s[e])?!0:(typeof s[e]<"u"&&wV("Helmet: "+e+' should be of type "Array". Instead found type "'+dV(s[e])+'"'),!1)}).map(function(s){return s[e]}).reverse().reduce(function(s,a){var o={};a.filter(function(v){for(var m=void 0,_=Object.keys(v),g=0;g<_.length;g++){var y=_[g],u=y.toLowerCase();t.indexOf(u)!==-1&&!(m===Ma.REL&&v[m].toLowerCase()==="canonical")&&!(u===Ma.REL&&v[u].toLowerCase()==="stylesheet")&&(m=u),t.indexOf(y)!==-1&&(y===Ma.INNER_HTML||y===Ma.CSS_TEXT||y===Ma.ITEM_PROP)&&(m=y)}if(!m||!v[m])return!1;var b=v[m].toLowerCase();return r[m]||(r[m]={}),o[m]||(o[m]={}),r[m][b]?!1:(o[m][b]=!0,!0)}).reverse().forEach(function(v){return s.push(v)});for(var l=Object.keys(o),c=0;c<l.length;c++){var f=l[c],h=cV({},r[f],o[f]);r[f]=h}return s},[]).reverse()},I0=function(e,t){for(var i=e.length-1;i>=0;i--){var r=e[i];if(r.hasOwnProperty(t))return r[t]}return null},bV=function(e){return{baseTag:_V([Ma.HREF,Ma.TARGET],e),bodyAttributes:IT(kg.BODY,e),defer:I0(e,r1.DEFER),encode:I0(e,r1.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:IT(kg.HTML,e),linkTags:Qy(gr.LINK,[Ma.REL,Ma.HREF],e),metaTags:Qy(gr.META,[Ma.NAME,Ma.CHARSET,Ma.HTTPEQUIV,Ma.PROPERTY,Ma.ITEM_PROP],e),noscriptTags:Qy(gr.NOSCRIPT,[Ma.INNER_HTML],e),onChangeClientState:yV(e),scriptTags:Qy(gr.SCRIPT,[Ma.SRC,Ma.INNER_HTML],e),styleTags:Qy(gr.STYLE,[Ma.CSS_TEXT],e),title:vV(e),titleAttributes:IT(kg.TITLE,e)}},cM=(function(){var n=Date.now();return function(e){var t=Date.now();t-n>16?(n=t,e(t)):setTimeout(function(){cM(e)},0)}})(),aP=function(e){return clearTimeout(e)},xV=typeof window<"u"?window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||cM:global.requestAnimationFrame||cM,SV=typeof window<"u"?window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||aP:global.cancelAnimationFrame||aP,wV=function(e){return console&&typeof console.warn=="function"&&console.warn(e)},Jy=null,EV=function(e){Jy&&SV(Jy),e.defer?Jy=xV(function(){oP(e,function(){Jy=null})}):(oP(e),Jy=null)},oP=function(e,t){var i=e.baseTag,r=e.bodyAttributes,s=e.htmlAttributes,a=e.linkTags,o=e.metaTags,l=e.noscriptTags,c=e.onChangeClientState,f=e.scriptTags,h=e.styleTags,v=e.title,m=e.titleAttributes;uM(gr.BODY,r),uM(gr.HTML,s),CV(v,m);var _={baseTag:Uv(gr.BASE,i),linkTags:Uv(gr.LINK,a),metaTags:Uv(gr.META,o),noscriptTags:Uv(gr.NOSCRIPT,l),scriptTags:Uv(gr.SCRIPT,f),styleTags:Uv(gr.STYLE,h)},g={},y={};Object.keys(_).forEach(function(u){var b=_[u],S=b.newTags,T=b.oldTags;S.length&&(g[u]=S),T.length&&(y[u]=_[u].oldTags)}),t&&t(),c(e,g,y)},UU=function(e){return Array.isArray(e)?e.join(""):e},CV=function(e,t){typeof e<"u"&&document.title!==e&&(document.title=UU(e)),uM(gr.TITLE,t)},uM=function(e,t){var i=document.getElementsByTagName(e)[0];if(i){for(var r=i.getAttribute(kh),s=r?r.split(","):[],a=[].concat(s),o=Object.keys(t),l=0;l<o.length;l++){var c=o[l],f=t[c]||"";i.getAttribute(c)!==f&&i.setAttribute(c,f),s.indexOf(c)===-1&&s.push(c);var h=a.indexOf(c);h!==-1&&a.splice(h,1)}for(var v=a.length-1;v>=0;v--)i.removeAttribute(a[v]);s.length===a.length?i.removeAttribute(kh):i.getAttribute(kh)!==o.join(",")&&i.setAttribute(kh,o.join(","))}},Uv=function(e,t){var i=document.head||document.querySelector(gr.HEAD),r=i.querySelectorAll(e+"["+kh+"]"),s=Array.prototype.slice.call(r),a=[],o=void 0;return t&&t.length&&t.forEach(function(l){var c=document.createElement(e);for(var f in l)if(l.hasOwnProperty(f))if(f===Ma.INNER_HTML)c.innerHTML=l.innerHTML;else if(f===Ma.CSS_TEXT)c.styleSheet?c.styleSheet.cssText=l.cssText:c.appendChild(document.createTextNode(l.cssText));else{var h=typeof l[f]>"u"?"":l[f];c.setAttribute(f,h)}c.setAttribute(kh,"true"),s.some(function(v,m){return o=m,c.isEqualNode(v)})?s.splice(o,1):a.push(c)}),s.forEach(function(l){return l.parentNode.removeChild(l)}),a.forEach(function(l){return i.appendChild(l)}),{oldTags:s,newTags:a}},kU=function(e){return Object.keys(e).reduce(function(t,i){var r=typeof e[i]<"u"?i+'="'+e[i]+'"':""+i;return t?t+" "+r:r},"")},TV=function(e,t,i,r){var s=kU(i),a=UU(t);return s?"<"+e+" "+kh+'="true" '+s+">"+lM(a,r)+"</"+e+">":"<"+e+" "+kh+'="true">'+lM(a,r)+"</"+e+">"},AV=function(e,t,i){return t.reduce(function(r,s){var a=Object.keys(s).filter(function(c){return!(c===Ma.INNER_HTML||c===Ma.CSS_TEXT)}).reduce(function(c,f){var h=typeof s[f]>"u"?f:f+'="'+lM(s[f],i)+'"';return c?c+" "+h:h},""),o=s.innerHTML||s.cssText||"",l=hV.indexOf(e)===-1;return r+"<"+e+" "+kh+'="true" '+a+(l?"/>":">"+o+"</"+e+">")},"")},BU=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(e).reduce(function(i,r){return i[ew[r]||r]=e[r],i},t)},MV=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(e).reduce(function(i,r){return i[uV[r]||r]=e[r],i},t)},RV=function(e,t,i){var r,s=(r={key:t},r[kh]=!0,r),a=BU(i,s);return[Je.createElement(gr.TITLE,a,t)]},OV=function(e,t){return t.map(function(i,r){var s,a=(s={key:r},s[kh]=!0,s);return Object.keys(i).forEach(function(o){var l=ew[o]||o;if(l===Ma.INNER_HTML||l===Ma.CSS_TEXT){var c=i.innerHTML||i.cssText;a.dangerouslySetInnerHTML={__html:c}}else a[l]=i[o]}),Je.createElement(e,a)})},wf=function(e,t,i){switch(e){case gr.TITLE:return{toComponent:function(){return RV(e,t.title,t.titleAttributes)},toString:function(){return TV(e,t.title,t.titleAttributes,i)}};case kg.BODY:case kg.HTML:return{toComponent:function(){return BU(t)},toString:function(){return kU(t)}};default:return{toComponent:function(){return OV(e,t)},toString:function(){return AV(e,t,i)}}}},zU=function(e){var t=e.baseTag,i=e.bodyAttributes,r=e.encode,s=e.htmlAttributes,a=e.linkTags,o=e.metaTags,l=e.noscriptTags,c=e.scriptTags,f=e.styleTags,h=e.title,v=h===void 0?"":h,m=e.titleAttributes;return{base:wf(gr.BASE,t,r),bodyAttributes:wf(kg.BODY,i,r),htmlAttributes:wf(kg.HTML,s,r),link:wf(gr.LINK,a,r),meta:wf(gr.META,o,r),noscript:wf(gr.NOSCRIPT,l,r),script:wf(gr.SCRIPT,c,r),style:wf(gr.STYLE,f,r),title:wf(gr.TITLE,{title:v,titleAttributes:m},r)}},LV=function(e){var t,i;return i=t=(function(r){mV(s,r);function s(){return fV(this,s),gV(this,r.apply(this,arguments))}return s.prototype.shouldComponentUpdate=function(o){return!aV(this.props,o)},s.prototype.mapNestedChildrenToProps=function(o,l){if(!l)return null;switch(o.type){case gr.SCRIPT:case gr.NOSCRIPT:return{innerHTML:l};case gr.STYLE:return{cssText:l}}throw new Error("<"+o.type+" /> elements are self-closing and can not contain children. Refer to our API for more information.")},s.prototype.flattenArrayTypeChildren=function(o){var l,c=o.child,f=o.arrayTypeChildren,h=o.newChildProps,v=o.nestedChildren;return Gc({},f,(l={},l[c.type]=[].concat(f[c.type]||[],[Gc({},h,this.mapNestedChildrenToProps(c,v))]),l))},s.prototype.mapObjectTypeChildren=function(o){var l,c,f=o.child,h=o.newProps,v=o.newChildProps,m=o.nestedChildren;switch(f.type){case gr.TITLE:return Gc({},h,(l={},l[f.type]=m,l.titleAttributes=Gc({},v),l));case gr.BODY:return Gc({},h,{bodyAttributes:Gc({},v)});case gr.HTML:return Gc({},h,{htmlAttributes:Gc({},v)})}return Gc({},h,(c={},c[f.type]=Gc({},v),c))},s.prototype.mapArrayTypeChildrenToProps=function(o,l){var c=Gc({},l);return Object.keys(o).forEach(function(f){var h;c=Gc({},c,(h={},h[f]=o[f],h))}),c},s.prototype.warnOnInvalidChildren=function(o,l){return!0},s.prototype.mapChildrenToProps=function(o,l){var c=this,f={};return Je.Children.forEach(o,function(h){if(!(!h||!h.props)){var v=h.props,m=v.children,_=sP(v,["children"]),g=MV(_);switch(c.warnOnInvalidChildren(h,m),h.type){case gr.LINK:case gr.META:case gr.NOSCRIPT:case gr.SCRIPT:case gr.STYLE:f=c.flattenArrayTypeChildren({child:h,arrayTypeChildren:f,newChildProps:g,nestedChildren:m});break;default:l=c.mapObjectTypeChildren({child:h,newProps:l,newChildProps:g,nestedChildren:m});break}}}),l=this.mapArrayTypeChildrenToProps(f,l),l},s.prototype.render=function(){var o=this.props,l=o.children,c=sP(o,["children"]),f=Gc({},c);return l&&(f=this.mapChildrenToProps(l,f)),Je.createElement(e,f)},pV(s,null,[{key:"canUseDOM",set:function(o){e.canUseDOM=o}}]),s})(Je.Component),t.propTypes={base:Bi.object,bodyAttributes:Bi.object,children:Bi.oneOfType([Bi.arrayOf(Bi.node),Bi.node]),defaultTitle:Bi.string,defer:Bi.bool,encodeSpecialCharacters:Bi.bool,htmlAttributes:Bi.object,link:Bi.arrayOf(Bi.object),meta:Bi.arrayOf(Bi.object),noscript:Bi.arrayOf(Bi.object),onChangeClientState:Bi.func,script:Bi.arrayOf(Bi.object),style:Bi.arrayOf(Bi.object),title:Bi.string,titleAttributes:Bi.object,titleTemplate:Bi.string},t.defaultProps={defer:!0,encodeSpecialCharacters:!0},t.peek=e.peek,t.rewind=function(){var r=e.rewind();return r||(r=zU({baseTag:[],bodyAttributes:{},htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}})),r},i},PV=function(){return null},IV=iV(bV,EV,zU)(PV),hM=LV(IV);hM.renderStatic=hM.rewind;/**
 * @license
 * Copyright 2010-2025 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const N1="178",yg={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},_g={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},GU=0,dM=1,HU=2,DV=3,$U=0,DE=1,N_=2,Ih=3,Qf=0,xc=1,El=2,Dd=0,jf=1,fM=2,pM=3,mM=4,VU=5,tm=100,WU=101,jU=102,XU=103,qU=104,YU=200,KU=201,ZU=202,QU=203,tw=204,nw=205,JU=206,ek=207,tk=208,nk=209,ik=210,rk=211,sk=212,ak=213,ok=214,iw=0,rw=1,sw=2,Wg=3,aw=4,ow=5,lw=6,cw=7,F1=0,lk=1,ck=2,Nd=0,NE=1,uk=2,hk=3,qR=4,dk=5,fk=6,pk=7,gM="attached",mk="detached",hm=300,Ud=301,dm=302,$0=303,s1=304,uy=306,a1=1e3,Do=1001,o1=1002,Cl=1003,YR=1004,NV=1004,S0=1005,FV=1005,cs=1006,F_=1007,UV=1007,Ld=1008,vM=1008,wc=1009,FE=1010,UE=1011,V0=1012,U1=1013,kd=1014,Oa=1015,Xo=1016,kE=1017,BE=1018,W0=1020,KR=35902,ZR=1021,QR=1022,go=1023,j0=1026,X0=1027,k1=1028,B1=1029,JR=1030,zE=1031,kV=1032,GE=1033,U_=33776,k_=33777,B_=33778,z_=33779,uw=35840,hw=35841,dw=35842,fw=35843,pw=36196,mw=37492,gw=37496,vw=37808,yw=37809,_w=37810,bw=37811,xw=37812,Sw=37813,ww=37814,Ew=37815,Cw=37816,Tw=37817,Aw=37818,Mw=37819,Rw=37820,Ow=37821,G_=36492,Lw=36494,Pw=36495,e3=36283,Iw=36284,Dw=36285,Nw=36286,gk=2200,vk=2201,yk=2202,l1=2300,Fw=2301,US=2302,Ag=2400,Mg=2401,c1=2402,HE=2500,t3=2501,BV=0,zV=1,GV=2,_k=3200,n3=3201,HV=3202,$V=3203,_m=0,bk=1,Uf="",Wo="srgb",jh="srgb-linear",u1="linear",Us="srgb",VV=0,bg=7680,WV=7681,jV=7682,XV=7683,qV=34055,YV=34056,KV=5386,ZV=512,QV=513,JV=514,eW=515,tW=516,nW=517,iW=518,yM=519,xk=512,Sk=513,wk=514,i3=515,Ek=516,Ck=517,Tk=518,Ak=519,h1=35044,kS=35048,rW=35040,sW=35045,aW=35049,oW=35041,lW=35046,cW=35050,uW=35042,hW="100",_M="300 es",nh=2e3,d1=2001,dW={COMPUTE:"compute",RENDER:"render"},fW={PERSPECTIVE:"perspective",LINEAR:"linear",FLAT:"flat"},pW={NORMAL:"normal",CENTROID:"centroid",SAMPLE:"sample",FIRST:"first",EITHER:"either"};let jd=class{addEventListener(e,t){this._listeners===void 0&&(this._listeners={});const i=this._listeners;i[e]===void 0&&(i[e]=[]),i[e].indexOf(t)===-1&&i[e].push(t)}hasEventListener(e,t){const i=this._listeners;return i===void 0?!1:i[e]!==void 0&&i[e].indexOf(t)!==-1}removeEventListener(e,t){const i=this._listeners;if(i===void 0)return;const r=i[e];if(r!==void 0){const s=r.indexOf(t);s!==-1&&r.splice(s,1)}}dispatchEvent(e){const t=this._listeners;if(t===void 0)return;const i=t[e.type];if(i!==void 0){e.target=this;const r=i.slice(0);for(let s=0,a=r.length;s<a;s++)r[s].call(this,e);e.target=null}}};const kl=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let lP=1234567;const Bg=Math.PI/180,q0=180/Math.PI;function _u(){const n=Math.random()*4294967295|0,e=Math.random()*4294967295|0,t=Math.random()*4294967295|0,i=Math.random()*4294967295|0;return(kl[n&255]+kl[n>>8&255]+kl[n>>16&255]+kl[n>>24&255]+"-"+kl[e&255]+kl[e>>8&255]+"-"+kl[e>>16&15|64]+kl[e>>24&255]+"-"+kl[t&63|128]+kl[t>>8&255]+"-"+kl[t>>16&255]+kl[t>>24&255]+kl[i&255]+kl[i>>8&255]+kl[i>>16&255]+kl[i>>24&255]).toLowerCase()}function dr(n,e,t){return Math.max(e,Math.min(t,n))}function r3(n,e){return(n%e+e)%e}function mW(n,e,t,i,r){return i+(n-e)*(r-i)/(t-e)}function gW(n,e,t){return n!==e?(t-n)/(e-n):0}function H_(n,e,t){return(1-t)*n+t*e}function vW(n,e,t,i){return H_(n,e,1-Math.exp(-t*i))}function yW(n,e=1){return e-Math.abs(r3(n,e*2)-e)}function _W(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*(3-2*n))}function bW(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*n*(n*(n*6-15)+10))}function xW(n,e){return n+Math.floor(Math.random()*(e-n+1))}function SW(n,e){return n+Math.random()*(e-n)}function wW(n){return n*(.5-Math.random())}function EW(n){n!==void 0&&(lP=n);let e=lP+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function CW(n){return n*Bg}function TW(n){return n*q0}function AW(n){return(n&n-1)===0&&n!==0}function MW(n){return Math.pow(2,Math.ceil(Math.log(n)/Math.LN2))}function RW(n){return Math.pow(2,Math.floor(Math.log(n)/Math.LN2))}function OW(n,e,t,i,r){const s=Math.cos,a=Math.sin,o=s(t/2),l=a(t/2),c=s((e+i)/2),f=a((e+i)/2),h=s((e-i)/2),v=a((e-i)/2),m=s((i-e)/2),_=a((i-e)/2);switch(r){case"XYX":n.set(o*f,l*h,l*v,o*c);break;case"YZY":n.set(l*v,o*f,l*h,o*c);break;case"ZXZ":n.set(l*h,l*v,o*f,o*c);break;case"XZX":n.set(o*f,l*_,l*m,o*c);break;case"YXY":n.set(l*m,o*f,l*_,o*c);break;case"ZYZ":n.set(l*_,l*m,o*f,o*c);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+r)}}function _c(n,e){switch(e.constructor){case Float32Array:return n;case Uint32Array:return n/4294967295;case Uint16Array:return n/65535;case Uint8Array:return n/255;case Int32Array:return Math.max(n/2147483647,-1);case Int16Array:return Math.max(n/32767,-1);case Int8Array:return Math.max(n/127,-1);default:throw new Error("Invalid component type.")}}function _r(n,e){switch(e.constructor){case Float32Array:return n;case Uint32Array:return Math.round(n*4294967295);case Uint16Array:return Math.round(n*65535);case Uint8Array:return Math.round(n*255);case Int32Array:return Math.round(n*2147483647);case Int16Array:return Math.round(n*32767);case Int8Array:return Math.round(n*127);default:throw new Error("Invalid component type.")}}const z1={DEG2RAD:Bg,RAD2DEG:q0,generateUUID:_u,clamp:dr,euclideanModulo:r3,mapLinear:mW,inverseLerp:gW,lerp:H_,damp:vW,pingpong:yW,smoothstep:_W,smootherstep:bW,randInt:xW,randFloat:SW,randFloatSpread:wW,seededRandom:EW,degToRad:CW,radToDeg:TW,isPowerOfTwo:AW,ceilPowerOfTwo:MW,floorPowerOfTwo:RW,setQuaternionFromProperEuler:OW,normalize:_r,denormalize:_c};class ln{constructor(e=0,t=0){ln.prototype.isVector2=!0,this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const t=this.x,i=this.y,r=e.elements;return this.x=r[0]*t+r[3]*i+r[6],this.y=r[1]*t+r[4]*i+r[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=dr(this.x,e.x,t.x),this.y=dr(this.y,e.y,t.y),this}clampScalar(e,t){return this.x=dr(this.x,e,t),this.y=dr(this.y,e,t),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(dr(i,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const i=this.dot(e)/t;return Math.acos(dr(i,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,i=this.y-e.y;return t*t+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){const i=Math.cos(t),r=Math.sin(t),s=this.x-e.x,a=this.y-e.y;return this.x=s*i-a*r+e.x,this.y=s*r+a*i+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class Fo{constructor(e=0,t=0,i=0,r=1){this.isQuaternion=!0,this._x=e,this._y=t,this._z=i,this._w=r}static slerpFlat(e,t,i,r,s,a,o){let l=i[r+0],c=i[r+1],f=i[r+2],h=i[r+3];const v=s[a+0],m=s[a+1],_=s[a+2],g=s[a+3];if(o===0){e[t+0]=l,e[t+1]=c,e[t+2]=f,e[t+3]=h;return}if(o===1){e[t+0]=v,e[t+1]=m,e[t+2]=_,e[t+3]=g;return}if(h!==g||l!==v||c!==m||f!==_){let y=1-o;const u=l*v+c*m+f*_+h*g,b=u>=0?1:-1,S=1-u*u;if(S>Number.EPSILON){const R=Math.sqrt(S),O=Math.atan2(R,u*b);y=Math.sin(y*O)/R,o=Math.sin(o*O)/R}const T=o*b;if(l=l*y+v*T,c=c*y+m*T,f=f*y+_*T,h=h*y+g*T,y===1-o){const R=1/Math.sqrt(l*l+c*c+f*f+h*h);l*=R,c*=R,f*=R,h*=R}}e[t]=l,e[t+1]=c,e[t+2]=f,e[t+3]=h}static multiplyQuaternionsFlat(e,t,i,r,s,a){const o=i[r],l=i[r+1],c=i[r+2],f=i[r+3],h=s[a],v=s[a+1],m=s[a+2],_=s[a+3];return e[t]=o*_+f*h+l*m-c*v,e[t+1]=l*_+f*v+c*h-o*m,e[t+2]=c*_+f*m+o*v-l*h,e[t+3]=f*_-o*h-l*v-c*m,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,i,r){return this._x=e,this._y=t,this._z=i,this._w=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,t=!0){const i=e._x,r=e._y,s=e._z,a=e._order,o=Math.cos,l=Math.sin,c=o(i/2),f=o(r/2),h=o(s/2),v=l(i/2),m=l(r/2),_=l(s/2);switch(a){case"XYZ":this._x=v*f*h+c*m*_,this._y=c*m*h-v*f*_,this._z=c*f*_+v*m*h,this._w=c*f*h-v*m*_;break;case"YXZ":this._x=v*f*h+c*m*_,this._y=c*m*h-v*f*_,this._z=c*f*_-v*m*h,this._w=c*f*h+v*m*_;break;case"ZXY":this._x=v*f*h-c*m*_,this._y=c*m*h+v*f*_,this._z=c*f*_+v*m*h,this._w=c*f*h-v*m*_;break;case"ZYX":this._x=v*f*h-c*m*_,this._y=c*m*h+v*f*_,this._z=c*f*_-v*m*h,this._w=c*f*h+v*m*_;break;case"YZX":this._x=v*f*h+c*m*_,this._y=c*m*h+v*f*_,this._z=c*f*_-v*m*h,this._w=c*f*h-v*m*_;break;case"XZY":this._x=v*f*h-c*m*_,this._y=c*m*h-v*f*_,this._z=c*f*_+v*m*h,this._w=c*f*h+v*m*_;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+a)}return t===!0&&this._onChangeCallback(),this}setFromAxisAngle(e,t){const i=t/2,r=Math.sin(i);return this._x=e.x*r,this._y=e.y*r,this._z=e.z*r,this._w=Math.cos(i),this._onChangeCallback(),this}setFromRotationMatrix(e){const t=e.elements,i=t[0],r=t[4],s=t[8],a=t[1],o=t[5],l=t[9],c=t[2],f=t[6],h=t[10],v=i+o+h;if(v>0){const m=.5/Math.sqrt(v+1);this._w=.25/m,this._x=(f-l)*m,this._y=(s-c)*m,this._z=(a-r)*m}else if(i>o&&i>h){const m=2*Math.sqrt(1+i-o-h);this._w=(f-l)/m,this._x=.25*m,this._y=(r+a)/m,this._z=(s+c)/m}else if(o>h){const m=2*Math.sqrt(1+o-i-h);this._w=(s-c)/m,this._x=(r+a)/m,this._y=.25*m,this._z=(l+f)/m}else{const m=2*Math.sqrt(1+h-i-o);this._w=(a-r)/m,this._x=(s+c)/m,this._y=(l+f)/m,this._z=.25*m}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let i=e.dot(t)+1;return i<1e-8?(i=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=i):(this._x=0,this._y=-e.z,this._z=e.y,this._w=i)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=i),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(dr(this.dot(e),-1,1)))}rotateTowards(e,t){const i=this.angleTo(e);if(i===0)return this;const r=Math.min(1,t/i);return this.slerp(e,r),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){const i=e._x,r=e._y,s=e._z,a=e._w,o=t._x,l=t._y,c=t._z,f=t._w;return this._x=i*f+a*o+r*c-s*l,this._y=r*f+a*l+s*o-i*c,this._z=s*f+a*c+i*l-r*o,this._w=a*f-i*o-r*l-s*c,this._onChangeCallback(),this}slerp(e,t){if(t===0)return this;if(t===1)return this.copy(e);const i=this._x,r=this._y,s=this._z,a=this._w;let o=a*e._w+i*e._x+r*e._y+s*e._z;if(o<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,o=-o):this.copy(e),o>=1)return this._w=a,this._x=i,this._y=r,this._z=s,this;const l=1-o*o;if(l<=Number.EPSILON){const m=1-t;return this._w=m*a+t*this._w,this._x=m*i+t*this._x,this._y=m*r+t*this._y,this._z=m*s+t*this._z,this.normalize(),this}const c=Math.sqrt(l),f=Math.atan2(c,o),h=Math.sin((1-t)*f)/c,v=Math.sin(t*f)/c;return this._w=a*h+this._w*v,this._x=i*h+this._x*v,this._y=r*h+this._y*v,this._z=s*h+this._z*v,this._onChangeCallback(),this}slerpQuaternions(e,t,i){return this.copy(e).slerp(t,i)}random(){const e=2*Math.PI*Math.random(),t=2*Math.PI*Math.random(),i=Math.random(),r=Math.sqrt(1-i),s=Math.sqrt(i);return this.set(r*Math.sin(e),r*Math.cos(e),s*Math.sin(t),s*Math.cos(t))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,t=0){return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class Oe{constructor(e=0,t=0,i=0){Oe.prototype.isVector3=!0,this.x=e,this.y=t,this.z=i}set(e,t,i){return i===void 0&&(i=this.z),this.x=e,this.y=t,this.z=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return this.applyQuaternion(cP.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion(cP.setFromAxisAngle(e,t))}applyMatrix3(e){const t=this.x,i=this.y,r=this.z,s=e.elements;return this.x=s[0]*t+s[3]*i+s[6]*r,this.y=s[1]*t+s[4]*i+s[7]*r,this.z=s[2]*t+s[5]*i+s[8]*r,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const t=this.x,i=this.y,r=this.z,s=e.elements,a=1/(s[3]*t+s[7]*i+s[11]*r+s[15]);return this.x=(s[0]*t+s[4]*i+s[8]*r+s[12])*a,this.y=(s[1]*t+s[5]*i+s[9]*r+s[13])*a,this.z=(s[2]*t+s[6]*i+s[10]*r+s[14])*a,this}applyQuaternion(e){const t=this.x,i=this.y,r=this.z,s=e.x,a=e.y,o=e.z,l=e.w,c=2*(a*r-o*i),f=2*(o*t-s*r),h=2*(s*i-a*t);return this.x=t+l*c+a*h-o*f,this.y=i+l*f+o*c-s*h,this.z=r+l*h+s*f-a*c,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const t=this.x,i=this.y,r=this.z,s=e.elements;return this.x=s[0]*t+s[4]*i+s[8]*r,this.y=s[1]*t+s[5]*i+s[9]*r,this.z=s[2]*t+s[6]*i+s[10]*r,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=dr(this.x,e.x,t.x),this.y=dr(this.y,e.y,t.y),this.z=dr(this.z,e.z,t.z),this}clampScalar(e,t){return this.x=dr(this.x,e,t),this.y=dr(this.y,e,t),this.z=dr(this.z,e,t),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(dr(i,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this.z=e.z+(t.z-e.z)*i,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,t){const i=e.x,r=e.y,s=e.z,a=t.x,o=t.y,l=t.z;return this.x=r*l-s*o,this.y=s*a-i*l,this.z=i*o-r*a,this}projectOnVector(e){const t=e.lengthSq();if(t===0)return this.set(0,0,0);const i=e.dot(this)/t;return this.copy(e).multiplyScalar(i)}projectOnPlane(e){return DT.copy(this).projectOnVector(e),this.sub(DT)}reflect(e){return this.sub(DT.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const i=this.dot(e)/t;return Math.acos(dr(i,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,i=this.y-e.y,r=this.z-e.z;return t*t+i*i+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,i){const r=Math.sin(t)*e;return this.x=r*Math.sin(i),this.y=Math.cos(t)*e,this.z=r*Math.cos(i),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,i){return this.x=e*Math.sin(t),this.y=i,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){const t=this.setFromMatrixColumn(e,0).length(),i=this.setFromMatrixColumn(e,1).length(),r=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=i,this.z=r,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,t*4)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,t*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=Math.random()*Math.PI*2,t=Math.random()*2-1,i=Math.sqrt(1-t*t);return this.x=i*Math.cos(e),this.y=t,this.z=i*Math.sin(e),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const DT=new Oe,cP=new Fo;class hr{constructor(e,t,i,r,s,a,o,l,c){hr.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],e!==void 0&&this.set(e,t,i,r,s,a,o,l,c)}set(e,t,i,r,s,a,o,l,c){const f=this.elements;return f[0]=e,f[1]=r,f[2]=o,f[3]=t,f[4]=s,f[5]=l,f[6]=i,f[7]=a,f[8]=c,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const t=this.elements,i=e.elements;return t[0]=i[0],t[1]=i[1],t[2]=i[2],t[3]=i[3],t[4]=i[4],t[5]=i[5],t[6]=i[6],t[7]=i[7],t[8]=i[8],this}extractBasis(e,t,i){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),i.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const i=e.elements,r=t.elements,s=this.elements,a=i[0],o=i[3],l=i[6],c=i[1],f=i[4],h=i[7],v=i[2],m=i[5],_=i[8],g=r[0],y=r[3],u=r[6],b=r[1],S=r[4],T=r[7],R=r[2],O=r[5],C=r[8];return s[0]=a*g+o*b+l*R,s[3]=a*y+o*S+l*O,s[6]=a*u+o*T+l*C,s[1]=c*g+f*b+h*R,s[4]=c*y+f*S+h*O,s[7]=c*u+f*T+h*C,s[2]=v*g+m*b+_*R,s[5]=v*y+m*S+_*O,s[8]=v*u+m*T+_*C,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){const e=this.elements,t=e[0],i=e[1],r=e[2],s=e[3],a=e[4],o=e[5],l=e[6],c=e[7],f=e[8];return t*a*f-t*o*c-i*s*f+i*o*l+r*s*c-r*a*l}invert(){const e=this.elements,t=e[0],i=e[1],r=e[2],s=e[3],a=e[4],o=e[5],l=e[6],c=e[7],f=e[8],h=f*a-o*c,v=o*l-f*s,m=c*s-a*l,_=t*h+i*v+r*m;if(_===0)return this.set(0,0,0,0,0,0,0,0,0);const g=1/_;return e[0]=h*g,e[1]=(r*c-f*i)*g,e[2]=(o*i-r*a)*g,e[3]=v*g,e[4]=(f*t-r*l)*g,e[5]=(r*s-o*t)*g,e[6]=m*g,e[7]=(i*l-c*t)*g,e[8]=(a*t-i*s)*g,this}transpose(){let e;const t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,i,r,s,a,o){const l=Math.cos(s),c=Math.sin(s);return this.set(i*l,i*c,-i*(l*a+c*o)+a+e,-r*c,r*l,-r*(-c*a+l*o)+o+t,0,0,1),this}scale(e,t){return this.premultiply(NT.makeScale(e,t)),this}rotate(e){return this.premultiply(NT.makeRotation(-e)),this}translate(e,t){return this.premultiply(NT.makeTranslation(e,t)),this}makeTranslation(e,t){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,t,0,0,1),this}makeRotation(e){const t=Math.cos(e),i=Math.sin(e);return this.set(t,-i,0,i,t,0,0,0,1),this}makeScale(e,t){return this.set(e,0,0,0,t,0,0,0,1),this}equals(e){const t=this.elements,i=e.elements;for(let r=0;r<9;r++)if(t[r]!==i[r])return!1;return!0}fromArray(e,t=0){for(let i=0;i<9;i++)this.elements[i]=e[i+t];return this}toArray(e=[],t=0){const i=this.elements;return e[t]=i[0],e[t+1]=i[1],e[t+2]=i[2],e[t+3]=i[3],e[t+4]=i[4],e[t+5]=i[5],e[t+6]=i[6],e[t+7]=i[7],e[t+8]=i[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const NT=new hr;function Mk(n){for(let e=n.length-1;e>=0;--e)if(n[e]>=65535)return!0;return!1}const LW={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function w0(n,e){return new LW[n](e)}function f1(n){return document.createElementNS("http://www.w3.org/1999/xhtml",n)}function Rk(){const n=f1("canvas");return n.style.display="block",n}const uP={};function D0(n){n in uP||(uP[n]=!0,console.warn(n))}function PW(n,e,t){return new Promise(function(i,r){function s(){switch(n.clientWaitSync(e,n.SYNC_FLUSH_COMMANDS_BIT,0)){case n.WAIT_FAILED:r();break;case n.TIMEOUT_EXPIRED:setTimeout(s,t);break;default:i()}}setTimeout(s,t)})}function IW(n){const e=n.elements;e[2]=.5*e[2]+.5*e[3],e[6]=.5*e[6]+.5*e[7],e[10]=.5*e[10]+.5*e[11],e[14]=.5*e[14]+.5*e[15]}function DW(n){const e=n.elements;e[11]===-1?(e[10]=-e[10]-1,e[14]=-e[14]):(e[10]=-e[10],e[14]=-e[14]+1)}const hP=new hr().set(.4123908,.3575843,.1804808,.212639,.7151687,.0721923,.0193308,.1191948,.9505322),dP=new hr().set(3.2409699,-1.5373832,-.4986108,-.9692436,1.8759675,.0415551,.0556301,-.203977,1.0569715);function NW(){const n={enabled:!0,workingColorSpace:jh,spaces:{},convert:function(r,s,a){return this.enabled===!1||s===a||!s||!a||(this.spaces[s].transfer===Us&&(r.r=Xf(r.r),r.g=Xf(r.g),r.b=Xf(r.b)),this.spaces[s].primaries!==this.spaces[a].primaries&&(r.applyMatrix3(this.spaces[s].toXYZ),r.applyMatrix3(this.spaces[a].fromXYZ)),this.spaces[a].transfer===Us&&(r.r=N0(r.r),r.g=N0(r.g),r.b=N0(r.b))),r},workingToColorSpace:function(r,s){return this.convert(r,this.workingColorSpace,s)},colorSpaceToWorking:function(r,s){return this.convert(r,s,this.workingColorSpace)},getPrimaries:function(r){return this.spaces[r].primaries},getTransfer:function(r){return r===Uf?u1:this.spaces[r].transfer},getLuminanceCoefficients:function(r,s=this.workingColorSpace){return r.fromArray(this.spaces[s].luminanceCoefficients)},define:function(r){Object.assign(this.spaces,r)},_getMatrix:function(r,s,a){return r.copy(this.spaces[s].toXYZ).multiply(this.spaces[a].fromXYZ)},_getDrawingBufferColorSpace:function(r){return this.spaces[r].outputColorSpaceConfig.drawingBufferColorSpace},_getUnpackColorSpace:function(r=this.workingColorSpace){return this.spaces[r].workingColorSpaceConfig.unpackColorSpace},fromWorkingColorSpace:function(r,s){return D0("THREE.ColorManagement: .fromWorkingColorSpace() has been renamed to .workingToColorSpace()."),n.workingToColorSpace(r,s)},toWorkingColorSpace:function(r,s){return D0("THREE.ColorManagement: .toWorkingColorSpace() has been renamed to .colorSpaceToWorking()."),n.colorSpaceToWorking(r,s)}},e=[.64,.33,.3,.6,.15,.06],t=[.2126,.7152,.0722],i=[.3127,.329];return n.define({[jh]:{primaries:e,whitePoint:i,transfer:u1,toXYZ:hP,fromXYZ:dP,luminanceCoefficients:t,workingColorSpaceConfig:{unpackColorSpace:Wo},outputColorSpaceConfig:{drawingBufferColorSpace:Wo}},[Wo]:{primaries:e,whitePoint:i,transfer:Us,toXYZ:hP,fromXYZ:dP,luminanceCoefficients:t,outputColorSpaceConfig:{drawingBufferColorSpace:Wo}}}),n}const Jr=NW();function Xf(n){return n<.04045?n*.0773993808:Math.pow(n*.9478672986+.0521327014,2.4)}function N0(n){return n<.0031308?n*12.92:1.055*Math.pow(n,.41666)-.055}let kv;class Ok{static getDataURL(e,t="image/png"){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let i;if(e instanceof HTMLCanvasElement)i=e;else{kv===void 0&&(kv=f1("canvas")),kv.width=e.width,kv.height=e.height;const r=kv.getContext("2d");e instanceof ImageData?r.putImageData(e,0,0):r.drawImage(e,0,0,e.width,e.height),i=kv}return i.toDataURL(t)}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const t=f1("canvas");t.width=e.width,t.height=e.height;const i=t.getContext("2d");i.drawImage(e,0,0,e.width,e.height);const r=i.getImageData(0,0,e.width,e.height),s=r.data;for(let a=0;a<s.length;a++)s[a]=Xf(s[a]/255)*255;return i.putImageData(r,0,0),t}else if(e.data){const t=e.data.slice(0);for(let i=0;i<t.length;i++)t instanceof Uint8Array||t instanceof Uint8ClampedArray?t[i]=Math.floor(Xf(t[i]/255)*255):t[i]=Xf(t[i]);return{data:t,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let FW=0;class am{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:FW++}),this.uuid=_u(),this.data=e,this.dataReady=!0,this.version=0}getSize(e){const t=this.data;return t instanceof HTMLVideoElement?e.set(t.videoWidth,t.videoHeight):t!==null?e.set(t.width,t.height,t.depth||0):e.set(0,0,0),e}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const i={uuid:this.uuid,url:""},r=this.data;if(r!==null){let s;if(Array.isArray(r)){s=[];for(let a=0,o=r.length;a<o;a++)r[a].isDataTexture?s.push(FT(r[a].image)):s.push(FT(r[a]))}else s=FT(r);i.url=s}return t||(e.images[this.uuid]=i),i}}function FT(n){return typeof HTMLImageElement<"u"&&n instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&n instanceof ImageBitmap?Ok.getDataURL(n):n.data?{data:Array.from(n.data),width:n.width,height:n.height,type:n.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let UW=0;const UT=new Oe;class _s extends jd{constructor(e=_s.DEFAULT_IMAGE,t=_s.DEFAULT_MAPPING,i=Do,r=Do,s=cs,a=Ld,o=go,l=wc,c=_s.DEFAULT_ANISOTROPY,f=Uf){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:UW++}),this.uuid=_u(),this.name="",this.source=new am(e),this.mipmaps=[],this.mapping=t,this.channel=0,this.wrapS=i,this.wrapT=r,this.magFilter=s,this.minFilter=a,this.anisotropy=c,this.format=o,this.internalFormat=null,this.type=l,this.offset=new ln(0,0),this.repeat=new ln(1,1),this.center=new ln(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new hr,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.colorSpace=f,this.userData={},this.updateRanges=[],this.version=0,this.onUpdate=null,this.renderTarget=null,this.isRenderTargetTexture=!1,this.isArrayTexture=!!(e&&e.depth&&e.depth>1),this.pmremVersion=0}get width(){return this.source.getSize(UT).x}get height(){return this.source.getSize(UT).y}get depth(){return this.source.getSize(UT).z}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.renderTarget=e.renderTarget,this.isRenderTargetTexture=e.isRenderTargetTexture,this.isArrayTexture=e.isArrayTexture,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}setValues(e){for(const t in e){const i=e[t];if(i===void 0){console.warn(`THREE.Texture.setValues(): parameter '${t}' has value of undefined.`);continue}const r=this[t];if(r===void 0){console.warn(`THREE.Texture.setValues(): property '${t}' does not exist.`);continue}r&&i&&r.isVector2&&i.isVector2||r&&i&&r.isVector3&&i.isVector3||r&&i&&r.isMatrix3&&i.isMatrix3?r.copy(i):this[t]=i}}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const i={metadata:{version:4.7,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(i.userData=this.userData),t||(e.textures[this.uuid]=i),i}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==hm)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case a1:e.x=e.x-Math.floor(e.x);break;case Do:e.x=e.x<0?0:1;break;case o1:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case a1:e.y=e.y-Math.floor(e.y);break;case Do:e.y=e.y<0?0:1;break;case o1:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}set needsPMREMUpdate(e){e===!0&&this.pmremVersion++}}_s.DEFAULT_IMAGE=null;_s.DEFAULT_MAPPING=hm;_s.DEFAULT_ANISOTROPY=1;class Cr{constructor(e=0,t=0,i=0,r=1){Cr.prototype.isVector4=!0,this.x=e,this.y=t,this.z=i,this.w=r}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,i,r){return this.x=e,this.y=t,this.z=i,this.w=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const t=this.x,i=this.y,r=this.z,s=this.w,a=e.elements;return this.x=a[0]*t+a[4]*i+a[8]*r+a[12]*s,this.y=a[1]*t+a[5]*i+a[9]*r+a[13]*s,this.z=a[2]*t+a[6]*i+a[10]*r+a[14]*s,this.w=a[3]*t+a[7]*i+a[11]*r+a[15]*s,this}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this.w/=e.w,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,i,r,s;const l=e.elements,c=l[0],f=l[4],h=l[8],v=l[1],m=l[5],_=l[9],g=l[2],y=l[6],u=l[10];if(Math.abs(f-v)<.01&&Math.abs(h-g)<.01&&Math.abs(_-y)<.01){if(Math.abs(f+v)<.1&&Math.abs(h+g)<.1&&Math.abs(_+y)<.1&&Math.abs(c+m+u-3)<.1)return this.set(1,0,0,0),this;t=Math.PI;const S=(c+1)/2,T=(m+1)/2,R=(u+1)/2,O=(f+v)/4,C=(h+g)/4,I=(_+y)/4;return S>T&&S>R?S<.01?(i=0,r=.707106781,s=.707106781):(i=Math.sqrt(S),r=O/i,s=C/i):T>R?T<.01?(i=.707106781,r=0,s=.707106781):(r=Math.sqrt(T),i=O/r,s=I/r):R<.01?(i=.707106781,r=.707106781,s=0):(s=Math.sqrt(R),i=C/s,r=I/s),this.set(i,r,s,t),this}let b=Math.sqrt((y-_)*(y-_)+(h-g)*(h-g)+(v-f)*(v-f));return Math.abs(b)<.001&&(b=1),this.x=(y-_)/b,this.y=(h-g)/b,this.z=(v-f)/b,this.w=Math.acos((c+m+u-1)/2),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this.w=t[15],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=dr(this.x,e.x,t.x),this.y=dr(this.y,e.y,t.y),this.z=dr(this.z,e.z,t.z),this.w=dr(this.w,e.w,t.w),this}clampScalar(e,t){return this.x=dr(this.x,e,t),this.y=dr(this.y,e,t),this.z=dr(this.z,e,t),this.w=dr(this.w,e,t),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(dr(i,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this.z=e.z+(t.z-e.z)*i,this.w=e.w+(t.w-e.w)*i,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class s3 extends jd{constructor(e=1,t=1,i={}){super(),i=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:cs,depthBuffer:!0,stencilBuffer:!1,resolveDepthBuffer:!0,resolveStencilBuffer:!0,depthTexture:null,samples:0,count:1,depth:1,multiview:!1},i),this.isRenderTarget=!0,this.width=e,this.height=t,this.depth=i.depth,this.scissor=new Cr(0,0,e,t),this.scissorTest=!1,this.viewport=new Cr(0,0,e,t);const r={width:e,height:t,depth:i.depth},s=new _s(r);this.textures=[];const a=i.count;for(let o=0;o<a;o++)this.textures[o]=s.clone(),this.textures[o].isRenderTargetTexture=!0,this.textures[o].renderTarget=this;this._setTextureOptions(i),this.depthBuffer=i.depthBuffer,this.stencilBuffer=i.stencilBuffer,this.resolveDepthBuffer=i.resolveDepthBuffer,this.resolveStencilBuffer=i.resolveStencilBuffer,this._depthTexture=null,this.depthTexture=i.depthTexture,this.samples=i.samples,this.multiview=i.multiview}_setTextureOptions(e={}){const t={minFilter:cs,generateMipmaps:!1,flipY:!1,internalFormat:null};e.mapping!==void 0&&(t.mapping=e.mapping),e.wrapS!==void 0&&(t.wrapS=e.wrapS),e.wrapT!==void 0&&(t.wrapT=e.wrapT),e.wrapR!==void 0&&(t.wrapR=e.wrapR),e.magFilter!==void 0&&(t.magFilter=e.magFilter),e.minFilter!==void 0&&(t.minFilter=e.minFilter),e.format!==void 0&&(t.format=e.format),e.type!==void 0&&(t.type=e.type),e.anisotropy!==void 0&&(t.anisotropy=e.anisotropy),e.colorSpace!==void 0&&(t.colorSpace=e.colorSpace),e.flipY!==void 0&&(t.flipY=e.flipY),e.generateMipmaps!==void 0&&(t.generateMipmaps=e.generateMipmaps),e.internalFormat!==void 0&&(t.internalFormat=e.internalFormat);for(let i=0;i<this.textures.length;i++)this.textures[i].setValues(t)}get texture(){return this.textures[0]}set texture(e){this.textures[0]=e}set depthTexture(e){this._depthTexture!==null&&(this._depthTexture.renderTarget=null),e!==null&&(e.renderTarget=this),this._depthTexture=e}get depthTexture(){return this._depthTexture}setSize(e,t,i=1){if(this.width!==e||this.height!==t||this.depth!==i){this.width=e,this.height=t,this.depth=i;for(let r=0,s=this.textures.length;r<s;r++)this.textures[r].image.width=e,this.textures[r].image.height=t,this.textures[r].image.depth=i,this.textures[r].isArrayTexture=this.textures[r].image.depth>1;this.dispose()}this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.textures.length=0;for(let t=0,i=e.textures.length;t<i;t++){this.textures[t]=e.textures[t].clone(),this.textures[t].isRenderTargetTexture=!0,this.textures[t].renderTarget=this;const r=Object.assign({},e.textures[t].image);this.textures[t].source=new am(r)}return this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.resolveDepthBuffer=e.resolveDepthBuffer,this.resolveStencilBuffer=e.resolveStencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class xu extends s3{constructor(e=1,t=1,i={}){super(e,t,i),this.isWebGLRenderTarget=!0}}class $E extends _s{constructor(e=null,t=1,i=1,r=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:t,height:i,depth:r},this.magFilter=Cl,this.minFilter=Cl,this.wrapR=Do,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class kW extends xu{constructor(e=1,t=1,i=1,r={}){super(e,t,r),this.isWebGLArrayRenderTarget=!0,this.depth=i,this.texture=new $E(null,e,t,i),this._setTextureOptions(r),this.texture.isRenderTargetTexture=!0}}class VE extends _s{constructor(e=null,t=1,i=1,r=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:t,height:i,depth:r},this.magFilter=Cl,this.minFilter=Cl,this.wrapR=Do,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class BW extends xu{constructor(e=1,t=1,i=1,r={}){super(e,t,r),this.isWebGL3DRenderTarget=!0,this.depth=i,this.texture=new VE(null,e,t,i),this._setTextureOptions(r),this.texture.isRenderTargetTexture=!0}}class Wa{constructor(e=new Oe(1/0,1/0,1/0),t=new Oe(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){this.makeEmpty();for(let t=0,i=e.length;t<i;t+=3)this.expandByPoint(Mh.fromArray(e,t));return this}setFromBufferAttribute(e){this.makeEmpty();for(let t=0,i=e.count;t<i;t++)this.expandByPoint(Mh.fromBufferAttribute(e,t));return this}setFromPoints(e){this.makeEmpty();for(let t=0,i=e.length;t<i;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const i=Mh.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(i),this.max.copy(e).add(i),this}setFromObject(e,t=!1){return this.makeEmpty(),this.expandByObject(e,t)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,t=!1){e.updateWorldMatrix(!1,!1);const i=e.geometry;if(i!==void 0){const s=i.getAttribute("position");if(t===!0&&s!==void 0&&e.isInstancedMesh!==!0)for(let a=0,o=s.count;a<o;a++)e.isMesh===!0?e.getVertexPosition(a,Mh):Mh.fromBufferAttribute(s,a),Mh.applyMatrix4(e.matrixWorld),this.expandByPoint(Mh);else e.boundingBox!==void 0?(e.boundingBox===null&&e.computeBoundingBox(),Jb.copy(e.boundingBox)):(i.boundingBox===null&&i.computeBoundingBox(),Jb.copy(i.boundingBox)),Jb.applyMatrix4(e.matrixWorld),this.union(Jb)}const r=e.children;for(let s=0,a=r.length;s<a;s++)this.expandByObject(r[s],t);return this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y&&e.z>=this.min.z&&e.z<=this.max.z}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y&&e.max.z>=this.min.z&&e.min.z<=this.max.z}intersectsSphere(e){return this.clampPoint(e.center,Mh),Mh.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,i;return e.normal.x>0?(t=e.normal.x*this.min.x,i=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,i=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,i+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,i+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,i+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,i+=e.normal.z*this.min.z),t<=-e.constant&&i>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(e_),ex.subVectors(this.max,e_),Bv.subVectors(e.a,e_),zv.subVectors(e.b,e_),Gv.subVectors(e.c,e_),Hp.subVectors(zv,Bv),$p.subVectors(Gv,zv),Zm.subVectors(Bv,Gv);let t=[0,-Hp.z,Hp.y,0,-$p.z,$p.y,0,-Zm.z,Zm.y,Hp.z,0,-Hp.x,$p.z,0,-$p.x,Zm.z,0,-Zm.x,-Hp.y,Hp.x,0,-$p.y,$p.x,0,-Zm.y,Zm.x,0];return!kT(t,Bv,zv,Gv,ex)||(t=[1,0,0,0,1,0,0,0,1],!kT(t,Bv,zv,Gv,ex))?!1:(tx.crossVectors(Hp,$p),t=[tx.x,tx.y,tx.z],kT(t,Bv,zv,Gv,ex))}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,Mh).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(Mh).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(Ef[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),Ef[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),Ef[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),Ef[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),Ef[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),Ef[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),Ef[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),Ef[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(Ef),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}toJSON(){return{min:this.min.toArray(),max:this.max.toArray()}}fromJSON(e){return this.min.fromArray(e.min),this.max.fromArray(e.max),this}}const Ef=[new Oe,new Oe,new Oe,new Oe,new Oe,new Oe,new Oe,new Oe],Mh=new Oe,Jb=new Wa,Bv=new Oe,zv=new Oe,Gv=new Oe,Hp=new Oe,$p=new Oe,Zm=new Oe,e_=new Oe,ex=new Oe,tx=new Oe,Qm=new Oe;function kT(n,e,t,i,r){for(let s=0,a=n.length-3;s<=a;s+=3){Qm.fromArray(n,s);const o=r.x*Math.abs(Qm.x)+r.y*Math.abs(Qm.y)+r.z*Math.abs(Qm.z),l=e.dot(Qm),c=t.dot(Qm),f=i.dot(Qm);if(Math.max(-Math.max(l,c,f),Math.min(l,c,f))>o)return!1}return!0}const zW=new Wa,t_=new Oe,BT=new Oe;class Uo{constructor(e=new Oe,t=-1){this.isSphere=!0,this.center=e,this.radius=t}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(e,t){const i=this.center;t!==void 0?i.copy(t):zW.setFromPoints(e).getCenter(i);let r=0;for(let s=0,a=e.length;s<a;s++)r=Math.max(r,i.distanceToSquared(e[s]));return this.radius=Math.sqrt(r),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){const i=this.center.distanceToSquared(e);return t.copy(e),i>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;t_.subVectors(e,this.center);const t=t_.lengthSq();if(t>this.radius*this.radius){const i=Math.sqrt(t),r=(i-this.radius)*.5;this.center.addScaledVector(t_,r/i),this.radius+=r}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(BT.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(t_.copy(e.center).add(BT)),this.expandByPoint(t_.copy(e.center).sub(BT))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}toJSON(){return{radius:this.radius,center:this.center.toArray()}}fromJSON(e){return this.radius=e.radius,this.center.fromArray(e.center),this}}const Cf=new Oe,zT=new Oe,nx=new Oe,Vp=new Oe,GT=new Oe,ix=new Oe,HT=new Oe;class rp{constructor(e=new Oe,t=new Oe(0,0,-1)){this.origin=e,this.direction=t}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return t.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,Cf)),this}closestPointToPoint(e,t){t.subVectors(e,this.origin);const i=t.dot(this.direction);return i<0?t.copy(this.origin):t.copy(this.origin).addScaledVector(this.direction,i)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const t=Cf.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(Cf.copy(this.origin).addScaledVector(this.direction,t),Cf.distanceToSquared(e))}distanceSqToSegment(e,t,i,r){zT.copy(e).add(t).multiplyScalar(.5),nx.copy(t).sub(e).normalize(),Vp.copy(this.origin).sub(zT);const s=e.distanceTo(t)*.5,a=-this.direction.dot(nx),o=Vp.dot(this.direction),l=-Vp.dot(nx),c=Vp.lengthSq(),f=Math.abs(1-a*a);let h,v,m,_;if(f>0)if(h=a*l-o,v=a*o-l,_=s*f,h>=0)if(v>=-_)if(v<=_){const g=1/f;h*=g,v*=g,m=h*(h+a*v+2*o)+v*(a*h+v+2*l)+c}else v=s,h=Math.max(0,-(a*v+o)),m=-h*h+v*(v+2*l)+c;else v=-s,h=Math.max(0,-(a*v+o)),m=-h*h+v*(v+2*l)+c;else v<=-_?(h=Math.max(0,-(-a*s+o)),v=h>0?-s:Math.min(Math.max(-s,-l),s),m=-h*h+v*(v+2*l)+c):v<=_?(h=0,v=Math.min(Math.max(-s,-l),s),m=v*(v+2*l)+c):(h=Math.max(0,-(a*s+o)),v=h>0?s:Math.min(Math.max(-s,-l),s),m=-h*h+v*(v+2*l)+c);else v=a>0?-s:s,h=Math.max(0,-(a*v+o)),m=-h*h+v*(v+2*l)+c;return i&&i.copy(this.origin).addScaledVector(this.direction,h),r&&r.copy(zT).addScaledVector(nx,v),m}intersectSphere(e,t){Cf.subVectors(e.center,this.origin);const i=Cf.dot(this.direction),r=Cf.dot(Cf)-i*i,s=e.radius*e.radius;if(r>s)return null;const a=Math.sqrt(s-r),o=i-a,l=i+a;return l<0?null:o<0?this.at(l,t):this.at(o,t)}intersectsSphere(e){return e.radius<0?!1:this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const t=e.normal.dot(this.direction);if(t===0)return e.distanceToPoint(this.origin)===0?0:null;const i=-(this.origin.dot(e.normal)+e.constant)/t;return i>=0?i:null}intersectPlane(e,t){const i=this.distanceToPlane(e);return i===null?null:this.at(i,t)}intersectsPlane(e){const t=e.distanceToPoint(this.origin);return t===0||e.normal.dot(this.direction)*t<0}intersectBox(e,t){let i,r,s,a,o,l;const c=1/this.direction.x,f=1/this.direction.y,h=1/this.direction.z,v=this.origin;return c>=0?(i=(e.min.x-v.x)*c,r=(e.max.x-v.x)*c):(i=(e.max.x-v.x)*c,r=(e.min.x-v.x)*c),f>=0?(s=(e.min.y-v.y)*f,a=(e.max.y-v.y)*f):(s=(e.max.y-v.y)*f,a=(e.min.y-v.y)*f),i>a||s>r||((s>i||isNaN(i))&&(i=s),(a<r||isNaN(r))&&(r=a),h>=0?(o=(e.min.z-v.z)*h,l=(e.max.z-v.z)*h):(o=(e.max.z-v.z)*h,l=(e.min.z-v.z)*h),i>l||o>r)||((o>i||i!==i)&&(i=o),(l<r||r!==r)&&(r=l),r<0)?null:this.at(i>=0?i:r,t)}intersectsBox(e){return this.intersectBox(e,Cf)!==null}intersectTriangle(e,t,i,r,s){GT.subVectors(t,e),ix.subVectors(i,e),HT.crossVectors(GT,ix);let a=this.direction.dot(HT),o;if(a>0){if(r)return null;o=1}else if(a<0)o=-1,a=-a;else return null;Vp.subVectors(this.origin,e);const l=o*this.direction.dot(ix.crossVectors(Vp,ix));if(l<0)return null;const c=o*this.direction.dot(GT.cross(Vp));if(c<0||l+c>a)return null;const f=-o*Vp.dot(HT);return f<0?null:this.at(f/a,s)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class ri{constructor(e,t,i,r,s,a,o,l,c,f,h,v,m,_,g,y){ri.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e!==void 0&&this.set(e,t,i,r,s,a,o,l,c,f,h,v,m,_,g,y)}set(e,t,i,r,s,a,o,l,c,f,h,v,m,_,g,y){const u=this.elements;return u[0]=e,u[4]=t,u[8]=i,u[12]=r,u[1]=s,u[5]=a,u[9]=o,u[13]=l,u[2]=c,u[6]=f,u[10]=h,u[14]=v,u[3]=m,u[7]=_,u[11]=g,u[15]=y,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new ri().fromArray(this.elements)}copy(e){const t=this.elements,i=e.elements;return t[0]=i[0],t[1]=i[1],t[2]=i[2],t[3]=i[3],t[4]=i[4],t[5]=i[5],t[6]=i[6],t[7]=i[7],t[8]=i[8],t[9]=i[9],t[10]=i[10],t[11]=i[11],t[12]=i[12],t[13]=i[13],t[14]=i[14],t[15]=i[15],this}copyPosition(e){const t=this.elements,i=e.elements;return t[12]=i[12],t[13]=i[13],t[14]=i[14],this}setFromMatrix3(e){const t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,i){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),i.setFromMatrixColumn(this,2),this}makeBasis(e,t,i){return this.set(e.x,t.x,i.x,0,e.y,t.y,i.y,0,e.z,t.z,i.z,0,0,0,0,1),this}extractRotation(e){const t=this.elements,i=e.elements,r=1/Hv.setFromMatrixColumn(e,0).length(),s=1/Hv.setFromMatrixColumn(e,1).length(),a=1/Hv.setFromMatrixColumn(e,2).length();return t[0]=i[0]*r,t[1]=i[1]*r,t[2]=i[2]*r,t[3]=0,t[4]=i[4]*s,t[5]=i[5]*s,t[6]=i[6]*s,t[7]=0,t[8]=i[8]*a,t[9]=i[9]*a,t[10]=i[10]*a,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){const t=this.elements,i=e.x,r=e.y,s=e.z,a=Math.cos(i),o=Math.sin(i),l=Math.cos(r),c=Math.sin(r),f=Math.cos(s),h=Math.sin(s);if(e.order==="XYZ"){const v=a*f,m=a*h,_=o*f,g=o*h;t[0]=l*f,t[4]=-l*h,t[8]=c,t[1]=m+_*c,t[5]=v-g*c,t[9]=-o*l,t[2]=g-v*c,t[6]=_+m*c,t[10]=a*l}else if(e.order==="YXZ"){const v=l*f,m=l*h,_=c*f,g=c*h;t[0]=v+g*o,t[4]=_*o-m,t[8]=a*c,t[1]=a*h,t[5]=a*f,t[9]=-o,t[2]=m*o-_,t[6]=g+v*o,t[10]=a*l}else if(e.order==="ZXY"){const v=l*f,m=l*h,_=c*f,g=c*h;t[0]=v-g*o,t[4]=-a*h,t[8]=_+m*o,t[1]=m+_*o,t[5]=a*f,t[9]=g-v*o,t[2]=-a*c,t[6]=o,t[10]=a*l}else if(e.order==="ZYX"){const v=a*f,m=a*h,_=o*f,g=o*h;t[0]=l*f,t[4]=_*c-m,t[8]=v*c+g,t[1]=l*h,t[5]=g*c+v,t[9]=m*c-_,t[2]=-c,t[6]=o*l,t[10]=a*l}else if(e.order==="YZX"){const v=a*l,m=a*c,_=o*l,g=o*c;t[0]=l*f,t[4]=g-v*h,t[8]=_*h+m,t[1]=h,t[5]=a*f,t[9]=-o*f,t[2]=-c*f,t[6]=m*h+_,t[10]=v-g*h}else if(e.order==="XZY"){const v=a*l,m=a*c,_=o*l,g=o*c;t[0]=l*f,t[4]=-h,t[8]=c*f,t[1]=v*h+g,t[5]=a*f,t[9]=m*h-_,t[2]=_*h-m,t[6]=o*f,t[10]=g*h+v}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose(GW,e,HW)}lookAt(e,t,i){const r=this.elements;return du.subVectors(e,t),du.lengthSq()===0&&(du.z=1),du.normalize(),Wp.crossVectors(i,du),Wp.lengthSq()===0&&(Math.abs(i.z)===1?du.x+=1e-4:du.z+=1e-4,du.normalize(),Wp.crossVectors(i,du)),Wp.normalize(),rx.crossVectors(du,Wp),r[0]=Wp.x,r[4]=rx.x,r[8]=du.x,r[1]=Wp.y,r[5]=rx.y,r[9]=du.y,r[2]=Wp.z,r[6]=rx.z,r[10]=du.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const i=e.elements,r=t.elements,s=this.elements,a=i[0],o=i[4],l=i[8],c=i[12],f=i[1],h=i[5],v=i[9],m=i[13],_=i[2],g=i[6],y=i[10],u=i[14],b=i[3],S=i[7],T=i[11],R=i[15],O=r[0],C=r[4],I=r[8],F=r[12],M=r[1],D=r[5],B=r[9],j=r[13],U=r[2],V=r[6],k=r[10],Z=r[14],ee=r[3],oe=r[7],ne=r[11],ie=r[15];return s[0]=a*O+o*M+l*U+c*ee,s[4]=a*C+o*D+l*V+c*oe,s[8]=a*I+o*B+l*k+c*ne,s[12]=a*F+o*j+l*Z+c*ie,s[1]=f*O+h*M+v*U+m*ee,s[5]=f*C+h*D+v*V+m*oe,s[9]=f*I+h*B+v*k+m*ne,s[13]=f*F+h*j+v*Z+m*ie,s[2]=_*O+g*M+y*U+u*ee,s[6]=_*C+g*D+y*V+u*oe,s[10]=_*I+g*B+y*k+u*ne,s[14]=_*F+g*j+y*Z+u*ie,s[3]=b*O+S*M+T*U+R*ee,s[7]=b*C+S*D+T*V+R*oe,s[11]=b*I+S*B+T*k+R*ne,s[15]=b*F+S*j+T*Z+R*ie,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){const e=this.elements,t=e[0],i=e[4],r=e[8],s=e[12],a=e[1],o=e[5],l=e[9],c=e[13],f=e[2],h=e[6],v=e[10],m=e[14],_=e[3],g=e[7],y=e[11],u=e[15];return _*(+s*l*h-r*c*h-s*o*v+i*c*v+r*o*m-i*l*m)+g*(+t*l*m-t*c*v+s*a*v-r*a*m+r*c*f-s*l*f)+y*(+t*c*h-t*o*m-s*a*h+i*a*m+s*o*f-i*c*f)+u*(-r*o*f-t*l*h+t*o*v+r*a*h-i*a*v+i*l*f)}transpose(){const e=this.elements;let t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,i){const r=this.elements;return e.isVector3?(r[12]=e.x,r[13]=e.y,r[14]=e.z):(r[12]=e,r[13]=t,r[14]=i),this}invert(){const e=this.elements,t=e[0],i=e[1],r=e[2],s=e[3],a=e[4],o=e[5],l=e[6],c=e[7],f=e[8],h=e[9],v=e[10],m=e[11],_=e[12],g=e[13],y=e[14],u=e[15],b=h*y*c-g*v*c+g*l*m-o*y*m-h*l*u+o*v*u,S=_*v*c-f*y*c-_*l*m+a*y*m+f*l*u-a*v*u,T=f*g*c-_*h*c+_*o*m-a*g*m-f*o*u+a*h*u,R=_*h*l-f*g*l-_*o*v+a*g*v+f*o*y-a*h*y,O=t*b+i*S+r*T+s*R;if(O===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const C=1/O;return e[0]=b*C,e[1]=(g*v*s-h*y*s-g*r*m+i*y*m+h*r*u-i*v*u)*C,e[2]=(o*y*s-g*l*s+g*r*c-i*y*c-o*r*u+i*l*u)*C,e[3]=(h*l*s-o*v*s-h*r*c+i*v*c+o*r*m-i*l*m)*C,e[4]=S*C,e[5]=(f*y*s-_*v*s+_*r*m-t*y*m-f*r*u+t*v*u)*C,e[6]=(_*l*s-a*y*s-_*r*c+t*y*c+a*r*u-t*l*u)*C,e[7]=(a*v*s-f*l*s+f*r*c-t*v*c-a*r*m+t*l*m)*C,e[8]=T*C,e[9]=(_*h*s-f*g*s-_*i*m+t*g*m+f*i*u-t*h*u)*C,e[10]=(a*g*s-_*o*s+_*i*c-t*g*c-a*i*u+t*o*u)*C,e[11]=(f*o*s-a*h*s-f*i*c+t*h*c+a*i*m-t*o*m)*C,e[12]=R*C,e[13]=(f*g*r-_*h*r+_*i*v-t*g*v-f*i*y+t*h*y)*C,e[14]=(_*o*r-a*g*r-_*i*l+t*g*l+a*i*y-t*o*y)*C,e[15]=(a*h*r-f*o*r+f*i*l-t*h*l-a*i*v+t*o*v)*C,this}scale(e){const t=this.elements,i=e.x,r=e.y,s=e.z;return t[0]*=i,t[4]*=r,t[8]*=s,t[1]*=i,t[5]*=r,t[9]*=s,t[2]*=i,t[6]*=r,t[10]*=s,t[3]*=i,t[7]*=r,t[11]*=s,this}getMaxScaleOnAxis(){const e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],i=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],r=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,i,r))}makeTranslation(e,t,i){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,t,0,0,1,i,0,0,0,1),this}makeRotationX(e){const t=Math.cos(e),i=Math.sin(e);return this.set(1,0,0,0,0,t,-i,0,0,i,t,0,0,0,0,1),this}makeRotationY(e){const t=Math.cos(e),i=Math.sin(e);return this.set(t,0,i,0,0,1,0,0,-i,0,t,0,0,0,0,1),this}makeRotationZ(e){const t=Math.cos(e),i=Math.sin(e);return this.set(t,-i,0,0,i,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){const i=Math.cos(t),r=Math.sin(t),s=1-i,a=e.x,o=e.y,l=e.z,c=s*a,f=s*o;return this.set(c*a+i,c*o-r*l,c*l+r*o,0,c*o+r*l,f*o+i,f*l-r*a,0,c*l-r*o,f*l+r*a,s*l*l+i,0,0,0,0,1),this}makeScale(e,t,i){return this.set(e,0,0,0,0,t,0,0,0,0,i,0,0,0,0,1),this}makeShear(e,t,i,r,s,a){return this.set(1,i,s,0,e,1,a,0,t,r,1,0,0,0,0,1),this}compose(e,t,i){const r=this.elements,s=t._x,a=t._y,o=t._z,l=t._w,c=s+s,f=a+a,h=o+o,v=s*c,m=s*f,_=s*h,g=a*f,y=a*h,u=o*h,b=l*c,S=l*f,T=l*h,R=i.x,O=i.y,C=i.z;return r[0]=(1-(g+u))*R,r[1]=(m+T)*R,r[2]=(_-S)*R,r[3]=0,r[4]=(m-T)*O,r[5]=(1-(v+u))*O,r[6]=(y+b)*O,r[7]=0,r[8]=(_+S)*C,r[9]=(y-b)*C,r[10]=(1-(v+g))*C,r[11]=0,r[12]=e.x,r[13]=e.y,r[14]=e.z,r[15]=1,this}decompose(e,t,i){const r=this.elements;let s=Hv.set(r[0],r[1],r[2]).length();const a=Hv.set(r[4],r[5],r[6]).length(),o=Hv.set(r[8],r[9],r[10]).length();this.determinant()<0&&(s=-s),e.x=r[12],e.y=r[13],e.z=r[14],Rh.copy(this);const c=1/s,f=1/a,h=1/o;return Rh.elements[0]*=c,Rh.elements[1]*=c,Rh.elements[2]*=c,Rh.elements[4]*=f,Rh.elements[5]*=f,Rh.elements[6]*=f,Rh.elements[8]*=h,Rh.elements[9]*=h,Rh.elements[10]*=h,t.setFromRotationMatrix(Rh),i.x=s,i.y=a,i.z=o,this}makePerspective(e,t,i,r,s,a,o=nh){const l=this.elements,c=2*s/(t-e),f=2*s/(i-r),h=(t+e)/(t-e),v=(i+r)/(i-r);let m,_;if(o===nh)m=-(a+s)/(a-s),_=-2*a*s/(a-s);else if(o===d1)m=-a/(a-s),_=-a*s/(a-s);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+o);return l[0]=c,l[4]=0,l[8]=h,l[12]=0,l[1]=0,l[5]=f,l[9]=v,l[13]=0,l[2]=0,l[6]=0,l[10]=m,l[14]=_,l[3]=0,l[7]=0,l[11]=-1,l[15]=0,this}makeOrthographic(e,t,i,r,s,a,o=nh){const l=this.elements,c=1/(t-e),f=1/(i-r),h=1/(a-s),v=(t+e)*c,m=(i+r)*f;let _,g;if(o===nh)_=(a+s)*h,g=-2*h;else if(o===d1)_=s*h,g=-1*h;else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+o);return l[0]=2*c,l[4]=0,l[8]=0,l[12]=-v,l[1]=0,l[5]=2*f,l[9]=0,l[13]=-m,l[2]=0,l[6]=0,l[10]=g,l[14]=-_,l[3]=0,l[7]=0,l[11]=0,l[15]=1,this}equals(e){const t=this.elements,i=e.elements;for(let r=0;r<16;r++)if(t[r]!==i[r])return!1;return!0}fromArray(e,t=0){for(let i=0;i<16;i++)this.elements[i]=e[i+t];return this}toArray(e=[],t=0){const i=this.elements;return e[t]=i[0],e[t+1]=i[1],e[t+2]=i[2],e[t+3]=i[3],e[t+4]=i[4],e[t+5]=i[5],e[t+6]=i[6],e[t+7]=i[7],e[t+8]=i[8],e[t+9]=i[9],e[t+10]=i[10],e[t+11]=i[11],e[t+12]=i[12],e[t+13]=i[13],e[t+14]=i[14],e[t+15]=i[15],e}}const Hv=new Oe,Rh=new ri,GW=new Oe(0,0,0),HW=new Oe(1,1,1),Wp=new Oe,rx=new Oe,du=new Oe,fP=new ri,pP=new Fo;class Su{constructor(e=0,t=0,i=0,r=Su.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=t,this._z=i,this._order=r}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,t,i,r=this._order){return this._x=e,this._y=t,this._z=i,this._order=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,t=this._order,i=!0){const r=e.elements,s=r[0],a=r[4],o=r[8],l=r[1],c=r[5],f=r[9],h=r[2],v=r[6],m=r[10];switch(t){case"XYZ":this._y=Math.asin(dr(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(-f,m),this._z=Math.atan2(-a,s)):(this._x=Math.atan2(v,c),this._z=0);break;case"YXZ":this._x=Math.asin(-dr(f,-1,1)),Math.abs(f)<.9999999?(this._y=Math.atan2(o,m),this._z=Math.atan2(l,c)):(this._y=Math.atan2(-h,s),this._z=0);break;case"ZXY":this._x=Math.asin(dr(v,-1,1)),Math.abs(v)<.9999999?(this._y=Math.atan2(-h,m),this._z=Math.atan2(-a,c)):(this._y=0,this._z=Math.atan2(l,s));break;case"ZYX":this._y=Math.asin(-dr(h,-1,1)),Math.abs(h)<.9999999?(this._x=Math.atan2(v,m),this._z=Math.atan2(l,s)):(this._x=0,this._z=Math.atan2(-a,c));break;case"YZX":this._z=Math.asin(dr(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-f,c),this._y=Math.atan2(-h,s)):(this._x=0,this._y=Math.atan2(o,m));break;case"XZY":this._z=Math.asin(-dr(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(v,c),this._y=Math.atan2(o,s)):(this._x=Math.atan2(-f,m),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,i===!0&&this._onChangeCallback(),this}setFromQuaternion(e,t,i){return fP.makeRotationFromQuaternion(e),this.setFromRotationMatrix(fP,t,i)}setFromVector3(e,t=this._order){return this.set(e.x,e.y,e.z,t)}reorder(e){return pP.setFromEuler(this),this.setFromQuaternion(pP,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}Su.DEFAULT_ORDER="XYZ";class Y0{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let $W=0;const mP=new Oe,$v=new Fo,Tf=new ri,sx=new Oe,n_=new Oe,VW=new Oe,WW=new Fo,gP=new Oe(1,0,0),vP=new Oe(0,1,0),yP=new Oe(0,0,1),_P={type:"added"},jW={type:"removed"},Vv={type:"childadded",child:null},$T={type:"childremoved",child:null};class Tr extends jd{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:$W++}),this.uuid=_u(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Tr.DEFAULT_UP.clone();const e=new Oe,t=new Su,i=new Fo,r=new Oe(1,1,1);function s(){i.setFromEuler(t,!1)}function a(){t.setFromQuaternion(i,void 0,!1)}t._onChange(s),i._onChange(a),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:i},scale:{configurable:!0,enumerable:!0,value:r},modelViewMatrix:{value:new ri},normalMatrix:{value:new hr}}),this.matrix=new ri,this.matrixWorld=new ri,this.matrixAutoUpdate=Tr.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=Tr.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new Y0,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.customDepthMaterial=void 0,this.customDistanceMaterial=void 0,this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,t){this.quaternion.setFromAxisAngle(e,t)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,t){return $v.setFromAxisAngle(e,t),this.quaternion.multiply($v),this}rotateOnWorldAxis(e,t){return $v.setFromAxisAngle(e,t),this.quaternion.premultiply($v),this}rotateX(e){return this.rotateOnAxis(gP,e)}rotateY(e){return this.rotateOnAxis(vP,e)}rotateZ(e){return this.rotateOnAxis(yP,e)}translateOnAxis(e,t){return mP.copy(e).applyQuaternion(this.quaternion),this.position.add(mP.multiplyScalar(t)),this}translateX(e){return this.translateOnAxis(gP,e)}translateY(e){return this.translateOnAxis(vP,e)}translateZ(e){return this.translateOnAxis(yP,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(Tf.copy(this.matrixWorld).invert())}lookAt(e,t,i){e.isVector3?sx.copy(e):sx.set(e,t,i);const r=this.parent;this.updateWorldMatrix(!0,!1),n_.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?Tf.lookAt(n_,sx,this.up):Tf.lookAt(sx,n_,this.up),this.quaternion.setFromRotationMatrix(Tf),r&&(Tf.extractRotation(r.matrixWorld),$v.setFromRotationMatrix(Tf),this.quaternion.premultiply($v.invert()))}add(e){if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.removeFromParent(),e.parent=this,this.children.push(e),e.dispatchEvent(_P),Vv.child=e,this.dispatchEvent(Vv),Vv.child=null):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let i=0;i<arguments.length;i++)this.remove(arguments[i]);return this}const t=this.children.indexOf(e);return t!==-1&&(e.parent=null,this.children.splice(t,1),e.dispatchEvent(jW),$T.child=e,this.dispatchEvent($T),$T.child=null),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){return this.remove(...this.children)}attach(e){return this.updateWorldMatrix(!0,!1),Tf.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),Tf.multiply(e.parent.matrixWorld)),e.applyMatrix4(Tf),e.removeFromParent(),e.parent=this,this.children.push(e),e.updateWorldMatrix(!1,!0),e.dispatchEvent(_P),Vv.child=e,this.dispatchEvent(Vv),Vv.child=null,this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,t){if(this[e]===t)return this;for(let i=0,r=this.children.length;i<r;i++){const a=this.children[i].getObjectByProperty(e,t);if(a!==void 0)return a}}getObjectsByProperty(e,t,i=[]){this[e]===t&&i.push(this);const r=this.children;for(let s=0,a=r.length;s<a;s++)r[s].getObjectsByProperty(e,t,i);return i}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(n_,e,VW),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(n_,WW,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}raycast(){}traverse(e){e(this);const t=this.children;for(let i=0,r=t.length;i<r;i++)t[i].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const t=this.children;for(let i=0,r=t.length;i<r;i++)t[i].traverseVisible(e)}traverseAncestors(e){const t=this.parent;t!==null&&(e(t),t.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),this.matrixWorldNeedsUpdate=!1,e=!0);const t=this.children;for(let i=0,r=t.length;i<r;i++)t[i].updateMatrixWorld(e)}updateWorldMatrix(e,t){const i=this.parent;if(e===!0&&i!==null&&i.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),t===!0){const r=this.children;for(let s=0,a=r.length;s<a;s++)r[s].updateWorldMatrix(!1,!0)}}toJSON(e){const t=e===void 0||typeof e=="string",i={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},i.metadata={version:4.7,type:"Object",generator:"Object3D.toJSON"});const r={};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.castShadow===!0&&(r.castShadow=!0),this.receiveShadow===!0&&(r.receiveShadow=!0),this.visible===!1&&(r.visible=!1),this.frustumCulled===!1&&(r.frustumCulled=!1),this.renderOrder!==0&&(r.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(r.userData=this.userData),r.layers=this.layers.mask,r.matrix=this.matrix.toArray(),r.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(r.matrixAutoUpdate=!1),this.isInstancedMesh&&(r.type="InstancedMesh",r.count=this.count,r.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(r.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(r.type="BatchedMesh",r.perObjectFrustumCulled=this.perObjectFrustumCulled,r.sortObjects=this.sortObjects,r.drawRanges=this._drawRanges,r.reservedRanges=this._reservedRanges,r.geometryInfo=this._geometryInfo.map(o=>({...o,boundingBox:o.boundingBox?o.boundingBox.toJSON():void 0,boundingSphere:o.boundingSphere?o.boundingSphere.toJSON():void 0})),r.instanceInfo=this._instanceInfo.map(o=>({...o})),r.availableInstanceIds=this._availableInstanceIds.slice(),r.availableGeometryIds=this._availableGeometryIds.slice(),r.nextIndexStart=this._nextIndexStart,r.nextVertexStart=this._nextVertexStart,r.geometryCount=this._geometryCount,r.maxInstanceCount=this._maxInstanceCount,r.maxVertexCount=this._maxVertexCount,r.maxIndexCount=this._maxIndexCount,r.geometryInitialized=this._geometryInitialized,r.matricesTexture=this._matricesTexture.toJSON(e),r.indirectTexture=this._indirectTexture.toJSON(e),this._colorsTexture!==null&&(r.colorsTexture=this._colorsTexture.toJSON(e)),this.boundingSphere!==null&&(r.boundingSphere=this.boundingSphere.toJSON()),this.boundingBox!==null&&(r.boundingBox=this.boundingBox.toJSON()));function s(o,l){return o[l.uuid]===void 0&&(o[l.uuid]=l.toJSON(e)),l.uuid}if(this.isScene)this.background&&(this.background.isColor?r.background=this.background.toJSON():this.background.isTexture&&(r.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(r.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){r.geometry=s(e.geometries,this.geometry);const o=this.geometry.parameters;if(o!==void 0&&o.shapes!==void 0){const l=o.shapes;if(Array.isArray(l))for(let c=0,f=l.length;c<f;c++){const h=l[c];s(e.shapes,h)}else s(e.shapes,l)}}if(this.isSkinnedMesh&&(r.bindMode=this.bindMode,r.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(s(e.skeletons,this.skeleton),r.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const o=[];for(let l=0,c=this.material.length;l<c;l++)o.push(s(e.materials,this.material[l]));r.material=o}else r.material=s(e.materials,this.material);if(this.children.length>0){r.children=[];for(let o=0;o<this.children.length;o++)r.children.push(this.children[o].toJSON(e).object)}if(this.animations.length>0){r.animations=[];for(let o=0;o<this.animations.length;o++){const l=this.animations[o];r.animations.push(s(e.animations,l))}}if(t){const o=a(e.geometries),l=a(e.materials),c=a(e.textures),f=a(e.images),h=a(e.shapes),v=a(e.skeletons),m=a(e.animations),_=a(e.nodes);o.length>0&&(i.geometries=o),l.length>0&&(i.materials=l),c.length>0&&(i.textures=c),f.length>0&&(i.images=f),h.length>0&&(i.shapes=h),v.length>0&&(i.skeletons=v),m.length>0&&(i.animations=m),_.length>0&&(i.nodes=_)}return i.object=r,i;function a(o){const l=[];for(const c in o){const f=o[c];delete f.metadata,l.push(f)}return l}}clone(e){return new this.constructor().copy(this,e)}copy(e,t=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations.slice(),this.userData=JSON.parse(JSON.stringify(e.userData)),t===!0)for(let i=0;i<e.children.length;i++){const r=e.children[i];this.add(r.clone())}return this}}Tr.DEFAULT_UP=new Oe(0,1,0);Tr.DEFAULT_MATRIX_AUTO_UPDATE=!0;Tr.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const Oh=new Oe,Af=new Oe,VT=new Oe,Mf=new Oe,Wv=new Oe,jv=new Oe,bP=new Oe,WT=new Oe,jT=new Oe,XT=new Oe,qT=new Cr,YT=new Cr,KT=new Cr;class Wc{constructor(e=new Oe,t=new Oe,i=new Oe){this.a=e,this.b=t,this.c=i}static getNormal(e,t,i,r){r.subVectors(i,t),Oh.subVectors(e,t),r.cross(Oh);const s=r.lengthSq();return s>0?r.multiplyScalar(1/Math.sqrt(s)):r.set(0,0,0)}static getBarycoord(e,t,i,r,s){Oh.subVectors(r,t),Af.subVectors(i,t),VT.subVectors(e,t);const a=Oh.dot(Oh),o=Oh.dot(Af),l=Oh.dot(VT),c=Af.dot(Af),f=Af.dot(VT),h=a*c-o*o;if(h===0)return s.set(0,0,0),null;const v=1/h,m=(c*l-o*f)*v,_=(a*f-o*l)*v;return s.set(1-m-_,_,m)}static containsPoint(e,t,i,r){return this.getBarycoord(e,t,i,r,Mf)===null?!1:Mf.x>=0&&Mf.y>=0&&Mf.x+Mf.y<=1}static getInterpolation(e,t,i,r,s,a,o,l){return this.getBarycoord(e,t,i,r,Mf)===null?(l.x=0,l.y=0,"z"in l&&(l.z=0),"w"in l&&(l.w=0),null):(l.setScalar(0),l.addScaledVector(s,Mf.x),l.addScaledVector(a,Mf.y),l.addScaledVector(o,Mf.z),l)}static getInterpolatedAttribute(e,t,i,r,s,a){return qT.setScalar(0),YT.setScalar(0),KT.setScalar(0),qT.fromBufferAttribute(e,t),YT.fromBufferAttribute(e,i),KT.fromBufferAttribute(e,r),a.setScalar(0),a.addScaledVector(qT,s.x),a.addScaledVector(YT,s.y),a.addScaledVector(KT,s.z),a}static isFrontFacing(e,t,i,r){return Oh.subVectors(i,t),Af.subVectors(e,t),Oh.cross(Af).dot(r)<0}set(e,t,i){return this.a.copy(e),this.b.copy(t),this.c.copy(i),this}setFromPointsAndIndices(e,t,i,r){return this.a.copy(e[t]),this.b.copy(e[i]),this.c.copy(e[r]),this}setFromAttributeAndIndices(e,t,i,r){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,i),this.c.fromBufferAttribute(e,r),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return Oh.subVectors(this.c,this.b),Af.subVectors(this.a,this.b),Oh.cross(Af).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return Wc.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,t){return Wc.getBarycoord(e,this.a,this.b,this.c,t)}getInterpolation(e,t,i,r,s){return Wc.getInterpolation(e,this.a,this.b,this.c,t,i,r,s)}containsPoint(e){return Wc.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return Wc.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,t){const i=this.a,r=this.b,s=this.c;let a,o;Wv.subVectors(r,i),jv.subVectors(s,i),WT.subVectors(e,i);const l=Wv.dot(WT),c=jv.dot(WT);if(l<=0&&c<=0)return t.copy(i);jT.subVectors(e,r);const f=Wv.dot(jT),h=jv.dot(jT);if(f>=0&&h<=f)return t.copy(r);const v=l*h-f*c;if(v<=0&&l>=0&&f<=0)return a=l/(l-f),t.copy(i).addScaledVector(Wv,a);XT.subVectors(e,s);const m=Wv.dot(XT),_=jv.dot(XT);if(_>=0&&m<=_)return t.copy(s);const g=m*c-l*_;if(g<=0&&c>=0&&_<=0)return o=c/(c-_),t.copy(i).addScaledVector(jv,o);const y=f*_-m*h;if(y<=0&&h-f>=0&&m-_>=0)return bP.subVectors(s,r),o=(h-f)/(h-f+(m-_)),t.copy(r).addScaledVector(bP,o);const u=1/(y+g+v);return a=g*u,o=v*u,t.copy(i).addScaledVector(Wv,a).addScaledVector(jv,o)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}const Lk={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},jp={h:0,s:0,l:0},ax={h:0,s:0,l:0};function ZT(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*6*(2/3-t):n}let Zn=class{constructor(e,t,i){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,t,i)}set(e,t,i){if(t===void 0&&i===void 0){const r=e;r&&r.isColor?this.copy(r):typeof r=="number"?this.setHex(r):typeof r=="string"&&this.setStyle(r)}else this.setRGB(e,t,i);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,t=Wo){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,Jr.colorSpaceToWorking(this,t),this}setRGB(e,t,i,r=Jr.workingColorSpace){return this.r=e,this.g=t,this.b=i,Jr.colorSpaceToWorking(this,r),this}setHSL(e,t,i,r=Jr.workingColorSpace){if(e=r3(e,1),t=dr(t,0,1),i=dr(i,0,1),t===0)this.r=this.g=this.b=i;else{const s=i<=.5?i*(1+t):i+t-i*t,a=2*i-s;this.r=ZT(a,s,e+1/3),this.g=ZT(a,s,e),this.b=ZT(a,s,e-1/3)}return Jr.colorSpaceToWorking(this,r),this}setStyle(e,t=Wo){function i(s){s!==void 0&&parseFloat(s)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let r;if(r=/^(\w+)\(([^\)]*)\)/.exec(e)){let s;const a=r[1],o=r[2];switch(a){case"rgb":case"rgba":if(s=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return i(s[4]),this.setRGB(Math.min(255,parseInt(s[1],10))/255,Math.min(255,parseInt(s[2],10))/255,Math.min(255,parseInt(s[3],10))/255,t);if(s=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return i(s[4]),this.setRGB(Math.min(100,parseInt(s[1],10))/100,Math.min(100,parseInt(s[2],10))/100,Math.min(100,parseInt(s[3],10))/100,t);break;case"hsl":case"hsla":if(s=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return i(s[4]),this.setHSL(parseFloat(s[1])/360,parseFloat(s[2])/100,parseFloat(s[3])/100,t);break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(r=/^\#([A-Fa-f\d]+)$/.exec(e)){const s=r[1],a=s.length;if(a===3)return this.setRGB(parseInt(s.charAt(0),16)/15,parseInt(s.charAt(1),16)/15,parseInt(s.charAt(2),16)/15,t);if(a===6)return this.setHex(parseInt(s,16),t);console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,t);return this}setColorName(e,t=Wo){const i=Lk[e.toLowerCase()];return i!==void 0?this.setHex(i,t):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=Xf(e.r),this.g=Xf(e.g),this.b=Xf(e.b),this}copyLinearToSRGB(e){return this.r=N0(e.r),this.g=N0(e.g),this.b=N0(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=Wo){return Jr.workingToColorSpace(Bl.copy(this),e),Math.round(dr(Bl.r*255,0,255))*65536+Math.round(dr(Bl.g*255,0,255))*256+Math.round(dr(Bl.b*255,0,255))}getHexString(e=Wo){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,t=Jr.workingColorSpace){Jr.workingToColorSpace(Bl.copy(this),t);const i=Bl.r,r=Bl.g,s=Bl.b,a=Math.max(i,r,s),o=Math.min(i,r,s);let l,c;const f=(o+a)/2;if(o===a)l=0,c=0;else{const h=a-o;switch(c=f<=.5?h/(a+o):h/(2-a-o),a){case i:l=(r-s)/h+(r<s?6:0);break;case r:l=(s-i)/h+2;break;case s:l=(i-r)/h+4;break}l/=6}return e.h=l,e.s=c,e.l=f,e}getRGB(e,t=Jr.workingColorSpace){return Jr.workingToColorSpace(Bl.copy(this),t),e.r=Bl.r,e.g=Bl.g,e.b=Bl.b,e}getStyle(e=Wo){Jr.workingToColorSpace(Bl.copy(this),e);const t=Bl.r,i=Bl.g,r=Bl.b;return e!==Wo?`color(${e} ${t.toFixed(3)} ${i.toFixed(3)} ${r.toFixed(3)})`:`rgb(${Math.round(t*255)},${Math.round(i*255)},${Math.round(r*255)})`}offsetHSL(e,t,i){return this.getHSL(jp),this.setHSL(jp.h+e,jp.s+t,jp.l+i)}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}lerpColors(e,t,i){return this.r=e.r+(t.r-e.r)*i,this.g=e.g+(t.g-e.g)*i,this.b=e.b+(t.b-e.b)*i,this}lerpHSL(e,t){this.getHSL(jp),e.getHSL(ax);const i=H_(jp.h,ax.h,t),r=H_(jp.s,ax.s,t),s=H_(jp.l,ax.l,t);return this.setHSL(i,r,s),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const t=this.r,i=this.g,r=this.b,s=e.elements;return this.r=s[0]*t+s[3]*i+s[6]*r,this.g=s[1]*t+s[4]*i+s[7]*r,this.b=s[2]*t+s[5]*i+s[8]*r,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,t=0){return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}toArray(e=[],t=0){return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}fromBufferAttribute(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}};const Bl=new Zn;Zn.NAMES=Lk;let XW=0;class jl extends jd{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:XW++}),this.uuid=_u(),this.name="",this.type="Material",this.blending=jf,this.side=Qf,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=tw,this.blendDst=nw,this.blendEquation=tm,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new Zn(0,0,0),this.blendAlpha=0,this.depthFunc=Wg,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=yM,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=bg,this.stencilZFail=bg,this.stencilZPass=bg,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.allowOverride=!0,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const t in e){const i=e[t];if(i===void 0){console.warn(`THREE.Material: parameter '${t}' has value of undefined.`);continue}const r=this[t];if(r===void 0){console.warn(`THREE.Material: '${t}' is not a property of THREE.${this.type}.`);continue}r&&r.isColor?r.set(i):r&&r.isVector3&&i&&i.isVector3?r.copy(i):this[t]=i}}toJSON(e){const t=e===void 0||typeof e=="string";t&&(e={textures:{},images:{}});const i={metadata:{version:4.7,type:"Material",generator:"Material.toJSON"}};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.color&&this.color.isColor&&(i.color=this.color.getHex()),this.roughness!==void 0&&(i.roughness=this.roughness),this.metalness!==void 0&&(i.metalness=this.metalness),this.sheen!==void 0&&(i.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(i.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(i.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(i.emissive=this.emissive.getHex()),this.emissiveIntensity!==void 0&&this.emissiveIntensity!==1&&(i.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(i.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(i.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(i.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(i.shininess=this.shininess),this.clearcoat!==void 0&&(i.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(i.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(i.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(i.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,i.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.dispersion!==void 0&&(i.dispersion=this.dispersion),this.iridescence!==void 0&&(i.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(i.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(i.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(i.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(i.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.anisotropy!==void 0&&(i.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(i.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(i.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(i.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(i.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(i.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(i.lightMap=this.lightMap.toJSON(e).uuid,i.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(i.aoMap=this.aoMap.toJSON(e).uuid,i.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(i.bumpMap=this.bumpMap.toJSON(e).uuid,i.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(i.normalMap=this.normalMap.toJSON(e).uuid,i.normalMapType=this.normalMapType,i.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(i.displacementMap=this.displacementMap.toJSON(e).uuid,i.displacementScale=this.displacementScale,i.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(i.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(i.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(i.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(i.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(i.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(i.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(i.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(i.combine=this.combine)),this.envMapRotation!==void 0&&(i.envMapRotation=this.envMapRotation.toArray()),this.envMapIntensity!==void 0&&(i.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(i.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(i.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(i.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(i.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(i.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(i.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(i.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(i.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(i.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(i.size=this.size),this.shadowSide!==null&&(i.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(i.sizeAttenuation=this.sizeAttenuation),this.blending!==jf&&(i.blending=this.blending),this.side!==Qf&&(i.side=this.side),this.vertexColors===!0&&(i.vertexColors=!0),this.opacity<1&&(i.opacity=this.opacity),this.transparent===!0&&(i.transparent=!0),this.blendSrc!==tw&&(i.blendSrc=this.blendSrc),this.blendDst!==nw&&(i.blendDst=this.blendDst),this.blendEquation!==tm&&(i.blendEquation=this.blendEquation),this.blendSrcAlpha!==null&&(i.blendSrcAlpha=this.blendSrcAlpha),this.blendDstAlpha!==null&&(i.blendDstAlpha=this.blendDstAlpha),this.blendEquationAlpha!==null&&(i.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(i.blendColor=this.blendColor.getHex()),this.blendAlpha!==0&&(i.blendAlpha=this.blendAlpha),this.depthFunc!==Wg&&(i.depthFunc=this.depthFunc),this.depthTest===!1&&(i.depthTest=this.depthTest),this.depthWrite===!1&&(i.depthWrite=this.depthWrite),this.colorWrite===!1&&(i.colorWrite=this.colorWrite),this.stencilWriteMask!==255&&(i.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==yM&&(i.stencilFunc=this.stencilFunc),this.stencilRef!==0&&(i.stencilRef=this.stencilRef),this.stencilFuncMask!==255&&(i.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==bg&&(i.stencilFail=this.stencilFail),this.stencilZFail!==bg&&(i.stencilZFail=this.stencilZFail),this.stencilZPass!==bg&&(i.stencilZPass=this.stencilZPass),this.stencilWrite===!0&&(i.stencilWrite=this.stencilWrite),this.rotation!==void 0&&this.rotation!==0&&(i.rotation=this.rotation),this.polygonOffset===!0&&(i.polygonOffset=!0),this.polygonOffsetFactor!==0&&(i.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(i.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(i.linewidth=this.linewidth),this.dashSize!==void 0&&(i.dashSize=this.dashSize),this.gapSize!==void 0&&(i.gapSize=this.gapSize),this.scale!==void 0&&(i.scale=this.scale),this.dithering===!0&&(i.dithering=!0),this.alphaTest>0&&(i.alphaTest=this.alphaTest),this.alphaHash===!0&&(i.alphaHash=!0),this.alphaToCoverage===!0&&(i.alphaToCoverage=!0),this.premultipliedAlpha===!0&&(i.premultipliedAlpha=!0),this.forceSinglePass===!0&&(i.forceSinglePass=!0),this.wireframe===!0&&(i.wireframe=!0),this.wireframeLinewidth>1&&(i.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(i.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(i.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(i.flatShading=!0),this.visible===!1&&(i.visible=!1),this.toneMapped===!1&&(i.toneMapped=!1),this.fog===!1&&(i.fog=!1),Object.keys(this.userData).length>0&&(i.userData=this.userData);function r(s){const a=[];for(const o in s){const l=s[o];delete l.metadata,a.push(l)}return a}if(t){const s=r(e.textures),a=r(e.images);s.length>0&&(i.textures=s),a.length>0&&(i.images=a)}return i}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.blendColor.copy(e.blendColor),this.blendAlpha=e.blendAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const t=e.clippingPlanes;let i=null;if(t!==null){const r=t.length;i=new Array(r);for(let s=0;s!==r;++s)i[s]=t[s].clone()}return this.clippingPlanes=i,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}}class Xd extends jl{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new Zn(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Su,this.combine=F1,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const kf=qW();function qW(){const n=new ArrayBuffer(4),e=new Float32Array(n),t=new Uint32Array(n),i=new Uint32Array(512),r=new Uint32Array(512);for(let l=0;l<256;++l){const c=l-127;c<-27?(i[l]=0,i[l|256]=32768,r[l]=24,r[l|256]=24):c<-14?(i[l]=1024>>-c-14,i[l|256]=1024>>-c-14|32768,r[l]=-c-1,r[l|256]=-c-1):c<=15?(i[l]=c+15<<10,i[l|256]=c+15<<10|32768,r[l]=13,r[l|256]=13):c<128?(i[l]=31744,i[l|256]=64512,r[l]=24,r[l|256]=24):(i[l]=31744,i[l|256]=64512,r[l]=13,r[l|256]=13)}const s=new Uint32Array(2048),a=new Uint32Array(64),o=new Uint32Array(64);for(let l=1;l<1024;++l){let c=l<<13,f=0;for(;(c&8388608)===0;)c<<=1,f-=8388608;c&=-8388609,f+=947912704,s[l]=c|f}for(let l=1024;l<2048;++l)s[l]=939524096+(l-1024<<13);for(let l=1;l<31;++l)a[l]=l<<23;a[31]=1199570944,a[32]=2147483648;for(let l=33;l<63;++l)a[l]=2147483648+(l-32<<23);a[63]=3347054592;for(let l=1;l<64;++l)l!==32&&(o[l]=1024);return{floatView:e,uint32View:t,baseTable:i,shiftTable:r,mantissaTable:s,exponentTable:a,offsetTable:o}}function Hc(n){Math.abs(n)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),n=dr(n,-65504,65504),kf.floatView[0]=n;const e=kf.uint32View[0],t=e>>23&511;return kf.baseTable[t]+((e&8388607)>>kf.shiftTable[t])}function M_(n){const e=n>>10;return kf.uint32View[0]=kf.mantissaTable[kf.offsetTable[e]+(n&1023)]+kf.exponentTable[e],kf.floatView[0]}class Rg{static toHalfFloat(e){return Hc(e)}static fromHalfFloat(e){return M_(e)}}const Po=new Oe,ox=new ln;let YW=0;class qs{constructor(e,t,i=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,Object.defineProperty(this,"id",{value:YW++}),this.name="",this.array=e,this.itemSize=t,this.count=e!==void 0?e.length/t:0,this.normalized=i,this.usage=h1,this.updateRanges=[],this.gpuType=Oa,this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,t,i){e*=this.itemSize,i*=t.itemSize;for(let r=0,s=this.itemSize;r<s;r++)this.array[e+r]=t.array[i+r];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let t=0,i=this.count;t<i;t++)ox.fromBufferAttribute(this,t),ox.applyMatrix3(e),this.setXY(t,ox.x,ox.y);else if(this.itemSize===3)for(let t=0,i=this.count;t<i;t++)Po.fromBufferAttribute(this,t),Po.applyMatrix3(e),this.setXYZ(t,Po.x,Po.y,Po.z);return this}applyMatrix4(e){for(let t=0,i=this.count;t<i;t++)Po.fromBufferAttribute(this,t),Po.applyMatrix4(e),this.setXYZ(t,Po.x,Po.y,Po.z);return this}applyNormalMatrix(e){for(let t=0,i=this.count;t<i;t++)Po.fromBufferAttribute(this,t),Po.applyNormalMatrix(e),this.setXYZ(t,Po.x,Po.y,Po.z);return this}transformDirection(e){for(let t=0,i=this.count;t<i;t++)Po.fromBufferAttribute(this,t),Po.transformDirection(e),this.setXYZ(t,Po.x,Po.y,Po.z);return this}set(e,t=0){return this.array.set(e,t),this}getComponent(e,t){let i=this.array[e*this.itemSize+t];return this.normalized&&(i=_c(i,this.array)),i}setComponent(e,t,i){return this.normalized&&(i=_r(i,this.array)),this.array[e*this.itemSize+t]=i,this}getX(e){let t=this.array[e*this.itemSize];return this.normalized&&(t=_c(t,this.array)),t}setX(e,t){return this.normalized&&(t=_r(t,this.array)),this.array[e*this.itemSize]=t,this}getY(e){let t=this.array[e*this.itemSize+1];return this.normalized&&(t=_c(t,this.array)),t}setY(e,t){return this.normalized&&(t=_r(t,this.array)),this.array[e*this.itemSize+1]=t,this}getZ(e){let t=this.array[e*this.itemSize+2];return this.normalized&&(t=_c(t,this.array)),t}setZ(e,t){return this.normalized&&(t=_r(t,this.array)),this.array[e*this.itemSize+2]=t,this}getW(e){let t=this.array[e*this.itemSize+3];return this.normalized&&(t=_c(t,this.array)),t}setW(e,t){return this.normalized&&(t=_r(t,this.array)),this.array[e*this.itemSize+3]=t,this}setXY(e,t,i){return e*=this.itemSize,this.normalized&&(t=_r(t,this.array),i=_r(i,this.array)),this.array[e+0]=t,this.array[e+1]=i,this}setXYZ(e,t,i,r){return e*=this.itemSize,this.normalized&&(t=_r(t,this.array),i=_r(i,this.array),r=_r(r,this.array)),this.array[e+0]=t,this.array[e+1]=i,this.array[e+2]=r,this}setXYZW(e,t,i,r,s){return e*=this.itemSize,this.normalized&&(t=_r(t,this.array),i=_r(i,this.array),r=_r(r,this.array),s=_r(s,this.array)),this.array[e+0]=t,this.array[e+1]=i,this.array[e+2]=r,this.array[e+3]=s,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==h1&&(e.usage=this.usage),e}}class KW extends qs{constructor(e,t,i){super(new Int8Array(e),t,i)}}class ZW extends qs{constructor(e,t,i){super(new Uint8Array(e),t,i)}}class QW extends qs{constructor(e,t,i){super(new Uint8ClampedArray(e),t,i)}}class JW extends qs{constructor(e,t,i){super(new Int16Array(e),t,i)}}class a3 extends qs{constructor(e,t,i){super(new Uint16Array(e),t,i)}}class ej extends qs{constructor(e,t,i){super(new Int32Array(e),t,i)}}class o3 extends qs{constructor(e,t,i){super(new Uint32Array(e),t,i)}}class tj extends qs{constructor(e,t,i){super(new Uint16Array(e),t,i),this.isFloat16BufferAttribute=!0}getX(e){let t=M_(this.array[e*this.itemSize]);return this.normalized&&(t=_c(t,this.array)),t}setX(e,t){return this.normalized&&(t=_r(t,this.array)),this.array[e*this.itemSize]=Hc(t),this}getY(e){let t=M_(this.array[e*this.itemSize+1]);return this.normalized&&(t=_c(t,this.array)),t}setY(e,t){return this.normalized&&(t=_r(t,this.array)),this.array[e*this.itemSize+1]=Hc(t),this}getZ(e){let t=M_(this.array[e*this.itemSize+2]);return this.normalized&&(t=_c(t,this.array)),t}setZ(e,t){return this.normalized&&(t=_r(t,this.array)),this.array[e*this.itemSize+2]=Hc(t),this}getW(e){let t=M_(this.array[e*this.itemSize+3]);return this.normalized&&(t=_c(t,this.array)),t}setW(e,t){return this.normalized&&(t=_r(t,this.array)),this.array[e*this.itemSize+3]=Hc(t),this}setXY(e,t,i){return e*=this.itemSize,this.normalized&&(t=_r(t,this.array),i=_r(i,this.array)),this.array[e+0]=Hc(t),this.array[e+1]=Hc(i),this}setXYZ(e,t,i,r){return e*=this.itemSize,this.normalized&&(t=_r(t,this.array),i=_r(i,this.array),r=_r(r,this.array)),this.array[e+0]=Hc(t),this.array[e+1]=Hc(i),this.array[e+2]=Hc(r),this}setXYZW(e,t,i,r,s){return e*=this.itemSize,this.normalized&&(t=_r(t,this.array),i=_r(i,this.array),r=_r(r,this.array),s=_r(s,this.array)),this.array[e+0]=Hc(t),this.array[e+1]=Hc(i),this.array[e+2]=Hc(r),this.array[e+3]=Hc(s),this}}class mi extends qs{constructor(e,t,i){super(new Float32Array(e),t,i)}}let nj=0;const qu=new ri,QT=new Tr,Xv=new Oe,fu=new Wa,i_=new Wa,sl=new Oe;class xr extends jd{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:nj++}),this.uuid=_u(),this.name="",this.type="BufferGeometry",this.index=null,this.indirect=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(Mk(e)?o3:a3)(e,1):this.index=e,this}setIndirect(e){return this.indirect=e,this}getIndirect(){return this.indirect}getAttribute(e){return this.attributes[e]}setAttribute(e,t){return this.attributes[e]=t,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,t,i=0){this.groups.push({start:e,count:t,materialIndex:i})}clearGroups(){this.groups=[]}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}applyMatrix4(e){const t=this.attributes.position;t!==void 0&&(t.applyMatrix4(e),t.needsUpdate=!0);const i=this.attributes.normal;if(i!==void 0){const s=new hr().getNormalMatrix(e);i.applyNormalMatrix(s),i.needsUpdate=!0}const r=this.attributes.tangent;return r!==void 0&&(r.transformDirection(e),r.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return qu.makeRotationFromQuaternion(e),this.applyMatrix4(qu),this}rotateX(e){return qu.makeRotationX(e),this.applyMatrix4(qu),this}rotateY(e){return qu.makeRotationY(e),this.applyMatrix4(qu),this}rotateZ(e){return qu.makeRotationZ(e),this.applyMatrix4(qu),this}translate(e,t,i){return qu.makeTranslation(e,t,i),this.applyMatrix4(qu),this}scale(e,t,i){return qu.makeScale(e,t,i),this.applyMatrix4(qu),this}lookAt(e){return QT.lookAt(e),QT.updateMatrix(),this.applyMatrix4(QT.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(Xv).negate(),this.translate(Xv.x,Xv.y,Xv.z),this}setFromPoints(e){const t=this.getAttribute("position");if(t===void 0){const i=[];for(let r=0,s=e.length;r<s;r++){const a=e[r];i.push(a.x,a.y,a.z||0)}this.setAttribute("position",new mi(i,3))}else{const i=Math.min(e.length,t.count);for(let r=0;r<i;r++){const s=e[r];t.setXYZ(r,s.x,s.y,s.z||0)}e.length>t.count&&console.warn("THREE.BufferGeometry: Buffer size too small for points data. Use .dispose() and create a new geometry."),t.needsUpdate=!0}return this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Wa);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box.",this),this.boundingBox.set(new Oe(-1/0,-1/0,-1/0),new Oe(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),t)for(let i=0,r=t.length;i<r;i++){const s=t[i];fu.setFromBufferAttribute(s),this.morphTargetsRelative?(sl.addVectors(this.boundingBox.min,fu.min),this.boundingBox.expandByPoint(sl),sl.addVectors(this.boundingBox.max,fu.max),this.boundingBox.expandByPoint(sl)):(this.boundingBox.expandByPoint(fu.min),this.boundingBox.expandByPoint(fu.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Uo);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere.",this),this.boundingSphere.set(new Oe,1/0);return}if(e){const i=this.boundingSphere.center;if(fu.setFromBufferAttribute(e),t)for(let s=0,a=t.length;s<a;s++){const o=t[s];i_.setFromBufferAttribute(o),this.morphTargetsRelative?(sl.addVectors(fu.min,i_.min),fu.expandByPoint(sl),sl.addVectors(fu.max,i_.max),fu.expandByPoint(sl)):(fu.expandByPoint(i_.min),fu.expandByPoint(i_.max))}fu.getCenter(i);let r=0;for(let s=0,a=e.count;s<a;s++)sl.fromBufferAttribute(e,s),r=Math.max(r,i.distanceToSquared(sl));if(t)for(let s=0,a=t.length;s<a;s++){const o=t[s],l=this.morphTargetsRelative;for(let c=0,f=o.count;c<f;c++)sl.fromBufferAttribute(o,c),l&&(Xv.fromBufferAttribute(e,c),sl.add(Xv)),r=Math.max(r,i.distanceToSquared(sl))}this.boundingSphere.radius=Math.sqrt(r),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,t=this.attributes;if(e===null||t.position===void 0||t.normal===void 0||t.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const i=t.position,r=t.normal,s=t.uv;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new qs(new Float32Array(4*i.count),4));const a=this.getAttribute("tangent"),o=[],l=[];for(let I=0;I<i.count;I++)o[I]=new Oe,l[I]=new Oe;const c=new Oe,f=new Oe,h=new Oe,v=new ln,m=new ln,_=new ln,g=new Oe,y=new Oe;function u(I,F,M){c.fromBufferAttribute(i,I),f.fromBufferAttribute(i,F),h.fromBufferAttribute(i,M),v.fromBufferAttribute(s,I),m.fromBufferAttribute(s,F),_.fromBufferAttribute(s,M),f.sub(c),h.sub(c),m.sub(v),_.sub(v);const D=1/(m.x*_.y-_.x*m.y);isFinite(D)&&(g.copy(f).multiplyScalar(_.y).addScaledVector(h,-m.y).multiplyScalar(D),y.copy(h).multiplyScalar(m.x).addScaledVector(f,-_.x).multiplyScalar(D),o[I].add(g),o[F].add(g),o[M].add(g),l[I].add(y),l[F].add(y),l[M].add(y))}let b=this.groups;b.length===0&&(b=[{start:0,count:e.count}]);for(let I=0,F=b.length;I<F;++I){const M=b[I],D=M.start,B=M.count;for(let j=D,U=D+B;j<U;j+=3)u(e.getX(j+0),e.getX(j+1),e.getX(j+2))}const S=new Oe,T=new Oe,R=new Oe,O=new Oe;function C(I){R.fromBufferAttribute(r,I),O.copy(R);const F=o[I];S.copy(F),S.sub(R.multiplyScalar(R.dot(F))).normalize(),T.crossVectors(O,F);const D=T.dot(l[I])<0?-1:1;a.setXYZW(I,S.x,S.y,S.z,D)}for(let I=0,F=b.length;I<F;++I){const M=b[I],D=M.start,B=M.count;for(let j=D,U=D+B;j<U;j+=3)C(e.getX(j+0)),C(e.getX(j+1)),C(e.getX(j+2))}}computeVertexNormals(){const e=this.index,t=this.getAttribute("position");if(t!==void 0){let i=this.getAttribute("normal");if(i===void 0)i=new qs(new Float32Array(t.count*3),3),this.setAttribute("normal",i);else for(let v=0,m=i.count;v<m;v++)i.setXYZ(v,0,0,0);const r=new Oe,s=new Oe,a=new Oe,o=new Oe,l=new Oe,c=new Oe,f=new Oe,h=new Oe;if(e)for(let v=0,m=e.count;v<m;v+=3){const _=e.getX(v+0),g=e.getX(v+1),y=e.getX(v+2);r.fromBufferAttribute(t,_),s.fromBufferAttribute(t,g),a.fromBufferAttribute(t,y),f.subVectors(a,s),h.subVectors(r,s),f.cross(h),o.fromBufferAttribute(i,_),l.fromBufferAttribute(i,g),c.fromBufferAttribute(i,y),o.add(f),l.add(f),c.add(f),i.setXYZ(_,o.x,o.y,o.z),i.setXYZ(g,l.x,l.y,l.z),i.setXYZ(y,c.x,c.y,c.z)}else for(let v=0,m=t.count;v<m;v+=3)r.fromBufferAttribute(t,v+0),s.fromBufferAttribute(t,v+1),a.fromBufferAttribute(t,v+2),f.subVectors(a,s),h.subVectors(r,s),f.cross(h),i.setXYZ(v+0,f.x,f.y,f.z),i.setXYZ(v+1,f.x,f.y,f.z),i.setXYZ(v+2,f.x,f.y,f.z);this.normalizeNormals(),i.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let t=0,i=e.count;t<i;t++)sl.fromBufferAttribute(e,t),sl.normalize(),e.setXYZ(t,sl.x,sl.y,sl.z)}toNonIndexed(){function e(o,l){const c=o.array,f=o.itemSize,h=o.normalized,v=new c.constructor(l.length*f);let m=0,_=0;for(let g=0,y=l.length;g<y;g++){o.isInterleavedBufferAttribute?m=l[g]*o.data.stride+o.offset:m=l[g]*f;for(let u=0;u<f;u++)v[_++]=c[m++]}return new qs(v,f,h)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const t=new xr,i=this.index.array,r=this.attributes;for(const o in r){const l=r[o],c=e(l,i);t.setAttribute(o,c)}const s=this.morphAttributes;for(const o in s){const l=[],c=s[o];for(let f=0,h=c.length;f<h;f++){const v=c[f],m=e(v,i);l.push(m)}t.morphAttributes[o]=l}t.morphTargetsRelative=this.morphTargetsRelative;const a=this.groups;for(let o=0,l=a.length;o<l;o++){const c=a[o];t.addGroup(c.start,c.count,c.materialIndex)}return t}toJSON(){const e={metadata:{version:4.7,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const l=this.parameters;for(const c in l)l[c]!==void 0&&(e[c]=l[c]);return e}e.data={attributes:{}};const t=this.index;t!==null&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});const i=this.attributes;for(const l in i){const c=i[l];e.data.attributes[l]=c.toJSON(e.data)}const r={};let s=!1;for(const l in this.morphAttributes){const c=this.morphAttributes[l],f=[];for(let h=0,v=c.length;h<v;h++){const m=c[h];f.push(m.toJSON(e.data))}f.length>0&&(r[l]=f,s=!0)}s&&(e.data.morphAttributes=r,e.data.morphTargetsRelative=this.morphTargetsRelative);const a=this.groups;a.length>0&&(e.data.groups=JSON.parse(JSON.stringify(a)));const o=this.boundingSphere;return o!==null&&(e.data.boundingSphere=o.toJSON()),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const t={};this.name=e.name;const i=e.index;i!==null&&this.setIndex(i.clone());const r=e.attributes;for(const c in r){const f=r[c];this.setAttribute(c,f.clone(t))}const s=e.morphAttributes;for(const c in s){const f=[],h=s[c];for(let v=0,m=h.length;v<m;v++)f.push(h[v].clone(t));this.morphAttributes[c]=f}this.morphTargetsRelative=e.morphTargetsRelative;const a=e.groups;for(let c=0,f=a.length;c<f;c++){const h=a[c];this.addGroup(h.start,h.count,h.materialIndex)}const o=e.boundingBox;o!==null&&(this.boundingBox=o.clone());const l=e.boundingSphere;return l!==null&&(this.boundingSphere=l.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const xP=new ri,Jm=new rp,lx=new Uo,SP=new Oe,cx=new Oe,ux=new Oe,hx=new Oe,JT=new Oe,dx=new Oe,wP=new Oe,fx=new Oe;class Xs extends Tr{constructor(e=new xr,t=new Xd){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=t,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.count=1,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}updateMorphTargets(){const t=this.geometry.morphAttributes,i=Object.keys(t);if(i.length>0){const r=t[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,a=r.length;s<a;s++){const o=r[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[o]=s}}}}getVertexPosition(e,t){const i=this.geometry,r=i.attributes.position,s=i.morphAttributes.position,a=i.morphTargetsRelative;t.fromBufferAttribute(r,e);const o=this.morphTargetInfluences;if(s&&o){dx.set(0,0,0);for(let l=0,c=s.length;l<c;l++){const f=o[l],h=s[l];f!==0&&(JT.fromBufferAttribute(h,e),a?dx.addScaledVector(JT,f):dx.addScaledVector(JT.sub(t),f))}t.add(dx)}return t}raycast(e,t){const i=this.geometry,r=this.material,s=this.matrixWorld;r!==void 0&&(i.boundingSphere===null&&i.computeBoundingSphere(),lx.copy(i.boundingSphere),lx.applyMatrix4(s),Jm.copy(e.ray).recast(e.near),!(lx.containsPoint(Jm.origin)===!1&&(Jm.intersectSphere(lx,SP)===null||Jm.origin.distanceToSquared(SP)>(e.far-e.near)**2))&&(xP.copy(s).invert(),Jm.copy(e.ray).applyMatrix4(xP),!(i.boundingBox!==null&&Jm.intersectsBox(i.boundingBox)===!1)&&this._computeIntersections(e,t,Jm)))}_computeIntersections(e,t,i){let r;const s=this.geometry,a=this.material,o=s.index,l=s.attributes.position,c=s.attributes.uv,f=s.attributes.uv1,h=s.attributes.normal,v=s.groups,m=s.drawRange;if(o!==null)if(Array.isArray(a))for(let _=0,g=v.length;_<g;_++){const y=v[_],u=a[y.materialIndex],b=Math.max(y.start,m.start),S=Math.min(o.count,Math.min(y.start+y.count,m.start+m.count));for(let T=b,R=S;T<R;T+=3){const O=o.getX(T),C=o.getX(T+1),I=o.getX(T+2);r=px(this,u,e,i,c,f,h,O,C,I),r&&(r.faceIndex=Math.floor(T/3),r.face.materialIndex=y.materialIndex,t.push(r))}}else{const _=Math.max(0,m.start),g=Math.min(o.count,m.start+m.count);for(let y=_,u=g;y<u;y+=3){const b=o.getX(y),S=o.getX(y+1),T=o.getX(y+2);r=px(this,a,e,i,c,f,h,b,S,T),r&&(r.faceIndex=Math.floor(y/3),t.push(r))}}else if(l!==void 0)if(Array.isArray(a))for(let _=0,g=v.length;_<g;_++){const y=v[_],u=a[y.materialIndex],b=Math.max(y.start,m.start),S=Math.min(l.count,Math.min(y.start+y.count,m.start+m.count));for(let T=b,R=S;T<R;T+=3){const O=T,C=T+1,I=T+2;r=px(this,u,e,i,c,f,h,O,C,I),r&&(r.faceIndex=Math.floor(T/3),r.face.materialIndex=y.materialIndex,t.push(r))}}else{const _=Math.max(0,m.start),g=Math.min(l.count,m.start+m.count);for(let y=_,u=g;y<u;y+=3){const b=y,S=y+1,T=y+2;r=px(this,a,e,i,c,f,h,b,S,T),r&&(r.faceIndex=Math.floor(y/3),t.push(r))}}}}function ij(n,e,t,i,r,s,a,o){let l;if(e.side===xc?l=i.intersectTriangle(a,s,r,!0,o):l=i.intersectTriangle(r,s,a,e.side===Qf,o),l===null)return null;fx.copy(o),fx.applyMatrix4(n.matrixWorld);const c=t.ray.origin.distanceTo(fx);return c<t.near||c>t.far?null:{distance:c,point:fx.clone(),object:n}}function px(n,e,t,i,r,s,a,o,l,c){n.getVertexPosition(o,cx),n.getVertexPosition(l,ux),n.getVertexPosition(c,hx);const f=ij(n,e,t,i,cx,ux,hx,wP);if(f){const h=new Oe;Wc.getBarycoord(wP,cx,ux,hx,h),r&&(f.uv=Wc.getInterpolatedAttribute(r,o,l,c,h,new ln)),s&&(f.uv1=Wc.getInterpolatedAttribute(s,o,l,c,h,new ln)),a&&(f.normal=Wc.getInterpolatedAttribute(a,o,l,c,h,new Oe),f.normal.dot(i.direction)>0&&f.normal.multiplyScalar(-1));const v={a:o,b:l,c,normal:new Oe,materialIndex:0};Wc.getNormal(cx,ux,hx,v.normal),f.face=v,f.barycoord=h}return f}class tv extends xr{constructor(e=1,t=1,i=1,r=1,s=1,a=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:i,widthSegments:r,heightSegments:s,depthSegments:a};const o=this;r=Math.floor(r),s=Math.floor(s),a=Math.floor(a);const l=[],c=[],f=[],h=[];let v=0,m=0;_("z","y","x",-1,-1,i,t,e,a,s,0),_("z","y","x",1,-1,i,t,-e,a,s,1),_("x","z","y",1,1,e,i,t,r,a,2),_("x","z","y",1,-1,e,i,-t,r,a,3),_("x","y","z",1,-1,e,t,i,r,s,4),_("x","y","z",-1,-1,e,t,-i,r,s,5),this.setIndex(l),this.setAttribute("position",new mi(c,3)),this.setAttribute("normal",new mi(f,3)),this.setAttribute("uv",new mi(h,2));function _(g,y,u,b,S,T,R,O,C,I,F){const M=T/C,D=R/I,B=T/2,j=R/2,U=O/2,V=C+1,k=I+1;let Z=0,ee=0;const oe=new Oe;for(let ne=0;ne<k;ne++){const ie=ne*D-j;for(let he=0;he<V;he++){const fe=he*M-B;oe[g]=fe*b,oe[y]=ie*S,oe[u]=U,c.push(oe.x,oe.y,oe.z),oe[g]=0,oe[y]=0,oe[u]=O>0?1:-1,f.push(oe.x,oe.y,oe.z),h.push(he/C),h.push(1-ne/I),Z+=1}}for(let ne=0;ne<I;ne++)for(let ie=0;ie<C;ie++){const he=v+ie+V*ne,fe=v+ie+V*(ne+1),ce=v+(ie+1)+V*(ne+1),ae=v+(ie+1)+V*ne;l.push(he,fe,ae),l.push(fe,ce,ae),ee+=6}o.addGroup(m,ee,F),m+=ee,v+=Z}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new tv(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function K0(n){const e={};for(const t in n){e[t]={};for(const i in n[t]){const r=n[t][i];r&&(r.isColor||r.isMatrix3||r.isMatrix4||r.isVector2||r.isVector3||r.isVector4||r.isTexture||r.isQuaternion)?r.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[t][i]=null):e[t][i]=r.clone():Array.isArray(r)?e[t][i]=r.slice():e[t][i]=r}}return e}function mc(n){const e={};for(let t=0;t<n.length;t++){const i=K0(n[t]);for(const r in i)e[r]=i[r]}return e}function rj(n){const e=[];for(let t=0;t<n.length;t++)e.push(n[t].clone());return e}function Pk(n){const e=n.getRenderTarget();return e===null?n.outputColorSpace:e.isXRRenderTarget===!0?e.texture.colorSpace:Jr.workingColorSpace}const p1={clone:K0,merge:mc};var sj=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,aj=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class Ec extends jl{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=sj,this.fragmentShader=aj,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={clipCullDistance:!1,multiDraw:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=K0(e.uniforms),this.uniformsGroups=rj(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const t=super.toJSON(e);t.glslVersion=this.glslVersion,t.uniforms={};for(const r in this.uniforms){const a=this.uniforms[r].value;a&&a.isTexture?t.uniforms[r]={type:"t",value:a.toJSON(e).uuid}:a&&a.isColor?t.uniforms[r]={type:"c",value:a.getHex()}:a&&a.isVector2?t.uniforms[r]={type:"v2",value:a.toArray()}:a&&a.isVector3?t.uniforms[r]={type:"v3",value:a.toArray()}:a&&a.isVector4?t.uniforms[r]={type:"v4",value:a.toArray()}:a&&a.isMatrix3?t.uniforms[r]={type:"m3",value:a.toArray()}:a&&a.isMatrix4?t.uniforms[r]={type:"m4",value:a.toArray()}:t.uniforms[r]={value:a}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader,t.lights=this.lights,t.clipping=this.clipping;const i={};for(const r in this.extensions)this.extensions[r]===!0&&(i[r]=!0);return Object.keys(i).length>0&&(t.extensions=i),t}}class WE extends Tr{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new ri,this.projectionMatrix=new ri,this.projectionMatrixInverse=new ri,this.coordinateSystem=nh}copy(e,t){return super.copy(e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){return super.getWorldDirection(e).negate()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}const Xp=new Oe,EP=new ln,CP=new ln;let Ga=class extends WE{constructor(e=50,t=1,i=.1,r=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=i,this.far=r,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const t=.5*this.getFilmHeight()/e;this.fov=q0*2*Math.atan(t),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(Bg*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return q0*2*Math.atan(Math.tan(Bg*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}getViewBounds(e,t,i){Xp.set(-1,-1,.5).applyMatrix4(this.projectionMatrixInverse),t.set(Xp.x,Xp.y).multiplyScalar(-e/Xp.z),Xp.set(1,1,.5).applyMatrix4(this.projectionMatrixInverse),i.set(Xp.x,Xp.y).multiplyScalar(-e/Xp.z)}getViewSize(e,t){return this.getViewBounds(e,EP,CP),t.subVectors(CP,EP)}setViewOffset(e,t,i,r,s,a){this.aspect=e/t,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=i,this.view.offsetY=r,this.view.width=s,this.view.height=a,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let t=e*Math.tan(Bg*.5*this.fov)/this.zoom,i=2*t,r=this.aspect*i,s=-.5*r;const a=this.view;if(this.view!==null&&this.view.enabled){const l=a.fullWidth,c=a.fullHeight;s+=a.offsetX*r/l,t-=a.offsetY*i/c,r*=a.width/l,i*=a.height/c}const o=this.filmOffset;o!==0&&(s+=e*o/this.getFilmWidth()),this.projectionMatrix.makePerspective(s,s+r,t,t-i,e,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,this.view!==null&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}};const qv=-90,Yv=1;class Ik extends Tr{constructor(e,t,i){super(),this.type="CubeCamera",this.renderTarget=i,this.coordinateSystem=null,this.activeMipmapLevel=0;const r=new Ga(qv,Yv,e,t);r.layers=this.layers,this.add(r);const s=new Ga(qv,Yv,e,t);s.layers=this.layers,this.add(s);const a=new Ga(qv,Yv,e,t);a.layers=this.layers,this.add(a);const o=new Ga(qv,Yv,e,t);o.layers=this.layers,this.add(o);const l=new Ga(qv,Yv,e,t);l.layers=this.layers,this.add(l);const c=new Ga(qv,Yv,e,t);c.layers=this.layers,this.add(c)}updateCoordinateSystem(){const e=this.coordinateSystem,t=this.children.concat(),[i,r,s,a,o,l]=t;for(const c of t)this.remove(c);if(e===nh)i.up.set(0,1,0),i.lookAt(1,0,0),r.up.set(0,1,0),r.lookAt(-1,0,0),s.up.set(0,0,-1),s.lookAt(0,1,0),a.up.set(0,0,1),a.lookAt(0,-1,0),o.up.set(0,1,0),o.lookAt(0,0,1),l.up.set(0,1,0),l.lookAt(0,0,-1);else if(e===d1)i.up.set(0,-1,0),i.lookAt(-1,0,0),r.up.set(0,-1,0),r.lookAt(1,0,0),s.up.set(0,0,1),s.lookAt(0,1,0),a.up.set(0,0,-1),a.lookAt(0,-1,0),o.up.set(0,-1,0),o.lookAt(0,0,1),l.up.set(0,-1,0),l.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);for(const c of t)this.add(c),c.updateMatrixWorld()}update(e,t){this.parent===null&&this.updateMatrixWorld();const{renderTarget:i,activeMipmapLevel:r}=this;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[s,a,o,l,c,f]=this.children,h=e.getRenderTarget(),v=e.getActiveCubeFace(),m=e.getActiveMipmapLevel(),_=e.xr.enabled;e.xr.enabled=!1;const g=i.texture.generateMipmaps;i.texture.generateMipmaps=!1,e.setRenderTarget(i,0,r),e.render(t,s),e.setRenderTarget(i,1,r),e.render(t,a),e.setRenderTarget(i,2,r),e.render(t,o),e.setRenderTarget(i,3,r),e.render(t,l),e.setRenderTarget(i,4,r),e.render(t,c),i.texture.generateMipmaps=g,e.setRenderTarget(i,5,r),e.render(t,f),e.setRenderTarget(h,v,m),e.xr.enabled=_,i.texture.needsPMREMUpdate=!0}}class G1 extends _s{constructor(e=[],t=Ud,i,r,s,a,o,l,c,f){super(e,t,i,r,s,a,o,l,c,f),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class l3 extends xu{constructor(e=1,t={}){super(e,e,t),this.isWebGLCubeRenderTarget=!0;const i={width:e,height:e,depth:1},r=[i,i,i,i,i,i];this.texture=new G1(r),this._setTextureOptions(t),this.texture.isRenderTargetTexture=!0}fromEquirectangularTexture(e,t){this.texture.type=t.type,this.texture.colorSpace=t.colorSpace,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;const i={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},r=new tv(5,5,5),s=new Ec({name:"CubemapFromEquirect",uniforms:K0(i.uniforms),vertexShader:i.vertexShader,fragmentShader:i.fragmentShader,side:xc,blending:Dd});s.uniforms.tEquirect.value=t;const a=new Xs(r,s),o=t.minFilter;return t.minFilter===Ld&&(t.minFilter=cs),new Ik(1,10,this).update(e,a),t.minFilter=o,a.geometry.dispose(),a.material.dispose(),this}clear(e,t=!0,i=!0,r=!0){const s=e.getRenderTarget();for(let a=0;a<6;a++)e.setRenderTarget(this,a),e.clear(t,i,r);e.setRenderTarget(s)}}class E0 extends Tr{constructor(){super(),this.isGroup=!0,this.type="Group"}}const oj={type:"move"};class BS{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new E0,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new E0,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new Oe,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new Oe),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new E0,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new Oe,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new Oe),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const t=this._hand;if(t)for(const i of e.hand.values())this._getHandJoint(t,i)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,t,i){let r=null,s=null,a=null;const o=this._targetRay,l=this._grip,c=this._hand;if(e&&t.session.visibilityState!=="visible-blurred"){if(c&&e.hand){a=!0;for(const g of e.hand.values()){const y=t.getJointPose(g,i),u=this._getHandJoint(c,g);y!==null&&(u.matrix.fromArray(y.transform.matrix),u.matrix.decompose(u.position,u.rotation,u.scale),u.matrixWorldNeedsUpdate=!0,u.jointRadius=y.radius),u.visible=y!==null}const f=c.joints["index-finger-tip"],h=c.joints["thumb-tip"],v=f.position.distanceTo(h.position),m=.02,_=.005;c.inputState.pinching&&v>m+_?(c.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!c.inputState.pinching&&v<=m-_&&(c.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else l!==null&&e.gripSpace&&(s=t.getPose(e.gripSpace,i),s!==null&&(l.matrix.fromArray(s.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),l.matrixWorldNeedsUpdate=!0,s.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(s.linearVelocity)):l.hasLinearVelocity=!1,s.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(s.angularVelocity)):l.hasAngularVelocity=!1));o!==null&&(r=t.getPose(e.targetRaySpace,i),r===null&&s!==null&&(r=s),r!==null&&(o.matrix.fromArray(r.transform.matrix),o.matrix.decompose(o.position,o.rotation,o.scale),o.matrixWorldNeedsUpdate=!0,r.linearVelocity?(o.hasLinearVelocity=!0,o.linearVelocity.copy(r.linearVelocity)):o.hasLinearVelocity=!1,r.angularVelocity?(o.hasAngularVelocity=!0,o.angularVelocity.copy(r.angularVelocity)):o.hasAngularVelocity=!1,this.dispatchEvent(oj)))}return o!==null&&(o.visible=r!==null),l!==null&&(l.visible=s!==null),c!==null&&(c.visible=a!==null),this}_getHandJoint(e,t){if(e.joints[t.jointName]===void 0){const i=new E0;i.matrixAutoUpdate=!1,i.visible=!1,e.joints[t.jointName]=i,e.add(i)}return e.joints[t.jointName]}}class jE{constructor(e,t=25e-5){this.isFogExp2=!0,this.name="",this.color=new Zn(e),this.density=t}clone(){return new jE(this.color,this.density)}toJSON(){return{type:"FogExp2",name:this.name,color:this.color.getHex(),density:this.density}}}class XE{constructor(e,t=1,i=1e3){this.isFog=!0,this.name="",this.color=new Zn(e),this.near=t,this.far=i}clone(){return new XE(this.color,this.near,this.far)}toJSON(){return{type:"Fog",name:this.name,color:this.color.getHex(),near:this.near,far:this.far}}}class fm extends Tr{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.backgroundRotation=new Su,this.environmentIntensity=1,this.environmentRotation=new Su,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,t){return super.copy(e,t),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,this.backgroundRotation.copy(e.backgroundRotation),this.environmentIntensity=e.environmentIntensity,this.environmentRotation.copy(e.environmentRotation),e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const t=super.toJSON(e);return this.fog!==null&&(t.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(t.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(t.object.backgroundIntensity=this.backgroundIntensity),t.object.backgroundRotation=this.backgroundRotation.toArray(),this.environmentIntensity!==1&&(t.object.environmentIntensity=this.environmentIntensity),t.object.environmentRotation=this.environmentRotation.toArray(),t}}class qE{constructor(e,t){this.isInterleavedBuffer=!0,this.array=e,this.stride=t,this.count=e!==void 0?e.length/t:0,this.usage=h1,this.updateRanges=[],this.version=0,this.uuid=_u()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,t,i){e*=this.stride,i*=t.stride;for(let r=0,s=this.stride;r<s;r++)this.array[e+r]=t.array[i+r];return this}set(e,t=0){return this.array.set(e,t),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=_u()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const t=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),i=new this.constructor(t,this.stride);return i.setUsage(this.usage),i}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=_u()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const hc=new Oe;class gu{constructor(e,t,i,r=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=t,this.offset=i,this.normalized=r}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let t=0,i=this.data.count;t<i;t++)hc.fromBufferAttribute(this,t),hc.applyMatrix4(e),this.setXYZ(t,hc.x,hc.y,hc.z);return this}applyNormalMatrix(e){for(let t=0,i=this.count;t<i;t++)hc.fromBufferAttribute(this,t),hc.applyNormalMatrix(e),this.setXYZ(t,hc.x,hc.y,hc.z);return this}transformDirection(e){for(let t=0,i=this.count;t<i;t++)hc.fromBufferAttribute(this,t),hc.transformDirection(e),this.setXYZ(t,hc.x,hc.y,hc.z);return this}getComponent(e,t){let i=this.array[e*this.data.stride+this.offset+t];return this.normalized&&(i=_c(i,this.array)),i}setComponent(e,t,i){return this.normalized&&(i=_r(i,this.array)),this.data.array[e*this.data.stride+this.offset+t]=i,this}setX(e,t){return this.normalized&&(t=_r(t,this.array)),this.data.array[e*this.data.stride+this.offset]=t,this}setY(e,t){return this.normalized&&(t=_r(t,this.array)),this.data.array[e*this.data.stride+this.offset+1]=t,this}setZ(e,t){return this.normalized&&(t=_r(t,this.array)),this.data.array[e*this.data.stride+this.offset+2]=t,this}setW(e,t){return this.normalized&&(t=_r(t,this.array)),this.data.array[e*this.data.stride+this.offset+3]=t,this}getX(e){let t=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(t=_c(t,this.array)),t}getY(e){let t=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(t=_c(t,this.array)),t}getZ(e){let t=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(t=_c(t,this.array)),t}getW(e){let t=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(t=_c(t,this.array)),t}setXY(e,t,i){return e=e*this.data.stride+this.offset,this.normalized&&(t=_r(t,this.array),i=_r(i,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=i,this}setXYZ(e,t,i,r){return e=e*this.data.stride+this.offset,this.normalized&&(t=_r(t,this.array),i=_r(i,this.array),r=_r(r,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=i,this.data.array[e+2]=r,this}setXYZW(e,t,i,r,s){return e=e*this.data.stride+this.offset,this.normalized&&(t=_r(t,this.array),i=_r(i,this.array),r=_r(r,this.array),s=_r(s,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=i,this.data.array[e+2]=r,this.data.array[e+3]=s,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let i=0;i<this.count;i++){const r=i*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)t.push(this.data.array[r+s])}return new qs(new this.array.constructor(t),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new gu(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let i=0;i<this.count;i++){const r=i*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)t.push(this.data.array[r+s])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class c3 extends jl{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new Zn(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let Kv;const r_=new Oe,Zv=new Oe,Qv=new Oe,Jv=new ln,s_=new ln,Dk=new ri,mx=new Oe,a_=new Oe,gx=new Oe,TP=new ln,eA=new ln,AP=new ln;class Nk extends Tr{constructor(e=new c3){if(super(),this.isSprite=!0,this.type="Sprite",Kv===void 0){Kv=new xr;const t=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),i=new qE(t,5);Kv.setIndex([0,1,2,0,2,3]),Kv.setAttribute("position",new gu(i,3,0,!1)),Kv.setAttribute("uv",new gu(i,2,3,!1))}this.geometry=Kv,this.material=e,this.center=new ln(.5,.5),this.count=1}raycast(e,t){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),Zv.setFromMatrixScale(this.matrixWorld),Dk.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),Qv.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&Zv.multiplyScalar(-Qv.z);const i=this.material.rotation;let r,s;i!==0&&(s=Math.cos(i),r=Math.sin(i));const a=this.center;vx(mx.set(-.5,-.5,0),Qv,a,Zv,r,s),vx(a_.set(.5,-.5,0),Qv,a,Zv,r,s),vx(gx.set(.5,.5,0),Qv,a,Zv,r,s),TP.set(0,0),eA.set(1,0),AP.set(1,1);let o=e.ray.intersectTriangle(mx,a_,gx,!1,r_);if(o===null&&(vx(a_.set(-.5,.5,0),Qv,a,Zv,r,s),eA.set(0,1),o=e.ray.intersectTriangle(mx,gx,a_,!1,r_),o===null))return;const l=e.ray.origin.distanceTo(r_);l<e.near||l>e.far||t.push({distance:l,point:r_.clone(),uv:Wc.getInterpolation(r_,mx,a_,gx,TP,eA,AP,new ln),face:null,object:this})}copy(e,t){return super.copy(e,t),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}function vx(n,e,t,i,r,s){Jv.subVectors(n,t).addScalar(.5).multiply(i),r!==void 0?(s_.x=s*Jv.x-r*Jv.y,s_.y=r*Jv.x+s*Jv.y):s_.copy(Jv),n.copy(e),n.x+=s_.x,n.y+=s_.y,n.applyMatrix4(Dk)}const yx=new Oe,MP=new Oe;class Fk extends Tr{constructor(){super(),this.isLOD=!0,this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const t=e.levels;for(let i=0,r=t.length;i<r;i++){const s=t[i];this.addLevel(s.object.clone(),s.distance,s.hysteresis)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,t=0,i=0){t=Math.abs(t);const r=this.levels;let s;for(s=0;s<r.length&&!(t<r[s].distance);s++);return r.splice(s,0,{distance:t,hysteresis:i,object:e}),this.add(e),this}removeLevel(e){const t=this.levels;for(let i=0;i<t.length;i++)if(t[i].distance===e){const r=t.splice(i,1);return this.remove(r[0].object),!0}return!1}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const t=this.levels;if(t.length>0){let i,r;for(i=1,r=t.length;i<r;i++){let s=t[i].distance;if(t[i].object.visible&&(s-=s*t[i].hysteresis),e<s)break}return t[i-1].object}return null}raycast(e,t){if(this.levels.length>0){yx.setFromMatrixPosition(this.matrixWorld);const r=e.ray.origin.distanceTo(yx);this.getObjectForDistance(r).raycast(e,t)}}update(e){const t=this.levels;if(t.length>1){yx.setFromMatrixPosition(e.matrixWorld),MP.setFromMatrixPosition(this.matrixWorld);const i=yx.distanceTo(MP)/e.zoom;t[0].object.visible=!0;let r,s;for(r=1,s=t.length;r<s;r++){let a=t[r].distance;if(t[r].object.visible&&(a-=a*t[r].hysteresis),i>=a)t[r-1].object.visible=!1,t[r].object.visible=!0;else break}for(this._currentLevel=r-1;r<s;r++)t[r].object.visible=!1}}toJSON(e){const t=super.toJSON(e);this.autoUpdate===!1&&(t.object.autoUpdate=!1),t.object.levels=[];const i=this.levels;for(let r=0,s=i.length;r<s;r++){const a=i[r];t.object.levels.push({object:a.object.uuid,distance:a.distance,hysteresis:a.hysteresis})}return t}}const RP=new Oe,OP=new Cr,LP=new Cr,lj=new Oe,PP=new ri,_x=new Oe,tA=new Uo,IP=new ri,nA=new rp;class Uk extends Xs{constructor(e,t){super(e,t),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode=gM,this.bindMatrix=new ri,this.bindMatrixInverse=new ri,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const e=this.geometry;this.boundingBox===null&&(this.boundingBox=new Wa),this.boundingBox.makeEmpty();const t=e.getAttribute("position");for(let i=0;i<t.count;i++)this.getVertexPosition(i,_x),this.boundingBox.expandByPoint(_x)}computeBoundingSphere(){const e=this.geometry;this.boundingSphere===null&&(this.boundingSphere=new Uo),this.boundingSphere.makeEmpty();const t=e.getAttribute("position");for(let i=0;i<t.count;i++)this.getVertexPosition(i,_x),this.boundingSphere.expandByPoint(_x)}copy(e,t){return super.copy(e,t),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}raycast(e,t){const i=this.material,r=this.matrixWorld;i!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),tA.copy(this.boundingSphere),tA.applyMatrix4(r),e.ray.intersectsSphere(tA)!==!1&&(IP.copy(r).invert(),nA.copy(e.ray).applyMatrix4(IP),!(this.boundingBox!==null&&nA.intersectsBox(this.boundingBox)===!1)&&this._computeIntersections(e,t,nA)))}getVertexPosition(e,t){return super.getVertexPosition(e,t),this.applyBoneTransform(e,t),t}bind(e,t){this.skeleton=e,t===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.copy(t).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new Cr,t=this.geometry.attributes.skinWeight;for(let i=0,r=t.count;i<r;i++){e.fromBufferAttribute(t,i);const s=1/e.manhattanLength();s!==1/0?e.multiplyScalar(s):e.set(1,0,0,0),t.setXYZW(i,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode===gM?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode===mk?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(e,t){const i=this.skeleton,r=this.geometry;OP.fromBufferAttribute(r.attributes.skinIndex,e),LP.fromBufferAttribute(r.attributes.skinWeight,e),RP.copy(t).applyMatrix4(this.bindMatrix),t.set(0,0,0);for(let s=0;s<4;s++){const a=LP.getComponent(s);if(a!==0){const o=OP.getComponent(s);PP.multiplyMatrices(i.bones[o].matrixWorld,i.boneInverses[o]),t.addScaledVector(lj.copy(RP).applyMatrix4(PP),a)}}return t.applyMatrix4(this.bindMatrixInverse)}}class u3 extends Tr{constructor(){super(),this.isBone=!0,this.type="Bone"}}class Gh extends _s{constructor(e=null,t=1,i=1,r,s,a,o,l,c=Cl,f=Cl,h,v){super(null,a,o,l,c,f,r,s,h,v),this.isDataTexture=!0,this.image={data:e,width:t,height:i},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const DP=new ri,cj=new ri;class YE{constructor(e=[],t=[]){this.uuid=_u(),this.bones=e.slice(0),this.boneInverses=t,this.boneMatrices=null,this.boneTexture=null,this.init()}init(){const e=this.bones,t=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),t.length===0)this.calculateInverses();else if(e.length!==t.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let i=0,r=this.bones.length;i<r;i++)this.boneInverses.push(new ri)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,t=this.bones.length;e<t;e++){const i=new ri;this.bones[e]&&i.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(i)}}pose(){for(let e=0,t=this.bones.length;e<t;e++){const i=this.bones[e];i&&i.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,t=this.bones.length;e<t;e++){const i=this.bones[e];i&&(i.parent&&i.parent.isBone?(i.matrix.copy(i.parent.matrixWorld).invert(),i.matrix.multiply(i.matrixWorld)):i.matrix.copy(i.matrixWorld),i.matrix.decompose(i.position,i.quaternion,i.scale))}}update(){const e=this.bones,t=this.boneInverses,i=this.boneMatrices,r=this.boneTexture;for(let s=0,a=e.length;s<a;s++){const o=e[s]?e[s].matrixWorld:cj;DP.multiplyMatrices(o,t[s]),DP.toArray(i,s*16)}r!==null&&(r.needsUpdate=!0)}clone(){return new YE(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const t=new Float32Array(e*e*4);t.set(this.boneMatrices);const i=new Gh(t,e,e,go,Oa);return i.needsUpdate=!0,this.boneMatrices=t,this.boneTexture=i,this}getBoneByName(e){for(let t=0,i=this.bones.length;t<i;t++){const r=this.bones[t];if(r.name===e)return r}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,t){this.uuid=e.uuid;for(let i=0,r=e.bones.length;i<r;i++){const s=e.bones[i];let a=t[s];a===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",s),a=new u3),this.bones.push(a),this.boneInverses.push(new ri().fromArray(e.boneInverses[i]))}return this.init(),this}toJSON(){const e={metadata:{version:4.7,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const t=this.bones,i=this.boneInverses;for(let r=0,s=t.length;r<s;r++){const a=t[r];e.bones.push(a.uuid);const o=i[r];e.boneInverses.push(o.toArray())}return e}}class jg extends qs{constructor(e,t,i,r=1){super(e,t,i),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const e0=new ri,NP=new ri,bx=[],FP=new Wa,uj=new ri,o_=new Xs,l_=new Uo;class kk extends Xs{constructor(e,t,i){super(e,t),this.isInstancedMesh=!0,this.instanceMatrix=new jg(new Float32Array(i*16),16),this.instanceColor=null,this.morphTexture=null,this.count=i,this.boundingBox=null,this.boundingSphere=null;for(let r=0;r<i;r++)this.setMatrixAt(r,uj)}computeBoundingBox(){const e=this.geometry,t=this.count;this.boundingBox===null&&(this.boundingBox=new Wa),e.boundingBox===null&&e.computeBoundingBox(),this.boundingBox.makeEmpty();for(let i=0;i<t;i++)this.getMatrixAt(i,e0),FP.copy(e.boundingBox).applyMatrix4(e0),this.boundingBox.union(FP)}computeBoundingSphere(){const e=this.geometry,t=this.count;this.boundingSphere===null&&(this.boundingSphere=new Uo),e.boundingSphere===null&&e.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let i=0;i<t;i++)this.getMatrixAt(i,e0),l_.copy(e.boundingSphere).applyMatrix4(e0),this.boundingSphere.union(l_)}copy(e,t){return super.copy(e,t),this.instanceMatrix.copy(e.instanceMatrix),e.morphTexture!==null&&(this.morphTexture=e.morphTexture.clone()),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}getColorAt(e,t){t.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,t){t.fromArray(this.instanceMatrix.array,e*16)}getMorphAt(e,t){const i=t.morphTargetInfluences,r=this.morphTexture.source.data.data,s=i.length+1,a=e*s+1;for(let o=0;o<i.length;o++)i[o]=r[a+o]}raycast(e,t){const i=this.matrixWorld,r=this.count;if(o_.geometry=this.geometry,o_.material=this.material,o_.material!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),l_.copy(this.boundingSphere),l_.applyMatrix4(i),e.ray.intersectsSphere(l_)!==!1))for(let s=0;s<r;s++){this.getMatrixAt(s,e0),NP.multiplyMatrices(i,e0),o_.matrixWorld=NP,o_.raycast(e,bx);for(let a=0,o=bx.length;a<o;a++){const l=bx[a];l.instanceId=s,l.object=this,t.push(l)}bx.length=0}}setColorAt(e,t){this.instanceColor===null&&(this.instanceColor=new jg(new Float32Array(this.instanceMatrix.count*3).fill(1),3)),t.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,t){t.toArray(this.instanceMatrix.array,e*16)}setMorphAt(e,t){const i=t.morphTargetInfluences,r=i.length+1;this.morphTexture===null&&(this.morphTexture=new Gh(new Float32Array(r*this.count),r,this.count,k1,Oa));const s=this.morphTexture.source.data.data;let a=0;for(let c=0;c<i.length;c++)a+=i[c];const o=this.geometry.morphTargetsRelative?1:1-a,l=r*e;s[l]=o,s.set(i,l+1)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"}),this.morphTexture!==null&&(this.morphTexture.dispose(),this.morphTexture=null)}}const iA=new Oe,hj=new Oe,dj=new hr;class Fh{constructor(e=new Oe(1,0,0),t=0){this.isPlane=!0,this.normal=e,this.constant=t}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,i,r){return this.normal.set(e,t,i),this.constant=r,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,i){const r=iA.subVectors(i,t).cross(hj.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(r,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return t.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,t){const i=e.delta(iA),r=this.normal.dot(i);if(r===0)return this.distanceToPoint(e.start)===0?t.copy(e.start):null;const s=-(e.start.dot(this.normal)+this.constant)/r;return s<0||s>1?null:t.copy(e.start).addScaledVector(i,s)}intersectsLine(e){const t=this.distanceToPoint(e.start),i=this.distanceToPoint(e.end);return t<0&&i>0||i<0&&t>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){const i=t||dj.getNormalMatrix(e),r=this.coplanarPoint(iA).applyMatrix4(e),s=this.normal.applyMatrix3(i).normalize();return this.constant=-r.dot(s),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const eg=new Uo,fj=new ln(.5,.5),xx=new Oe;class hy{constructor(e=new Fh,t=new Fh,i=new Fh,r=new Fh,s=new Fh,a=new Fh){this.planes=[e,t,i,r,s,a]}set(e,t,i,r,s,a){const o=this.planes;return o[0].copy(e),o[1].copy(t),o[2].copy(i),o[3].copy(r),o[4].copy(s),o[5].copy(a),this}copy(e){const t=this.planes;for(let i=0;i<6;i++)t[i].copy(e.planes[i]);return this}setFromProjectionMatrix(e,t=nh){const i=this.planes,r=e.elements,s=r[0],a=r[1],o=r[2],l=r[3],c=r[4],f=r[5],h=r[6],v=r[7],m=r[8],_=r[9],g=r[10],y=r[11],u=r[12],b=r[13],S=r[14],T=r[15];if(i[0].setComponents(l-s,v-c,y-m,T-u).normalize(),i[1].setComponents(l+s,v+c,y+m,T+u).normalize(),i[2].setComponents(l+a,v+f,y+_,T+b).normalize(),i[3].setComponents(l-a,v-f,y-_,T-b).normalize(),i[4].setComponents(l-o,v-h,y-g,T-S).normalize(),t===nh)i[5].setComponents(l+o,v+h,y+g,T+S).normalize();else if(t===d1)i[5].setComponents(o,h,g,S).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+t);return this}intersectsObject(e){if(e.boundingSphere!==void 0)e.boundingSphere===null&&e.computeBoundingSphere(),eg.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const t=e.geometry;t.boundingSphere===null&&t.computeBoundingSphere(),eg.copy(t.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(eg)}intersectsSprite(e){eg.center.set(0,0,0);const t=fj.distanceTo(e.center);return eg.radius=.7071067811865476+t,eg.applyMatrix4(e.matrixWorld),this.intersectsSphere(eg)}intersectsSphere(e){const t=this.planes,i=e.center,r=-e.radius;for(let s=0;s<6;s++)if(t[s].distanceToPoint(i)<r)return!1;return!0}intersectsBox(e){const t=this.planes;for(let i=0;i<6;i++){const r=t[i];if(xx.x=r.normal.x>0?e.max.x:e.min.x,xx.y=r.normal.y>0?e.max.y:e.min.y,xx.z=r.normal.z>0?e.max.z:e.min.z,r.distanceToPoint(xx)<0)return!1}return!0}containsPoint(e){const t=this.planes;for(let i=0;i<6;i++)if(t[i].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}const Sd=new ri,wd=new hy;class KE{constructor(){this.coordinateSystem=nh}intersectsObject(e,t){if(!t.isArrayCamera||t.cameras.length===0)return!1;for(let i=0;i<t.cameras.length;i++){const r=t.cameras[i];if(Sd.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),wd.setFromProjectionMatrix(Sd,this.coordinateSystem),wd.intersectsObject(e))return!0}return!1}intersectsSprite(e,t){if(!t||!t.cameras||t.cameras.length===0)return!1;for(let i=0;i<t.cameras.length;i++){const r=t.cameras[i];if(Sd.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),wd.setFromProjectionMatrix(Sd,this.coordinateSystem),wd.intersectsSprite(e))return!0}return!1}intersectsSphere(e,t){if(!t||!t.cameras||t.cameras.length===0)return!1;for(let i=0;i<t.cameras.length;i++){const r=t.cameras[i];if(Sd.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),wd.setFromProjectionMatrix(Sd,this.coordinateSystem),wd.intersectsSphere(e))return!0}return!1}intersectsBox(e,t){if(!t||!t.cameras||t.cameras.length===0)return!1;for(let i=0;i<t.cameras.length;i++){const r=t.cameras[i];if(Sd.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),wd.setFromProjectionMatrix(Sd,this.coordinateSystem),wd.intersectsBox(e))return!0}return!1}containsPoint(e,t){if(!t||!t.cameras||t.cameras.length===0)return!1;for(let i=0;i<t.cameras.length;i++){const r=t.cameras[i];if(Sd.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),wd.setFromProjectionMatrix(Sd,this.coordinateSystem),wd.containsPoint(e))return!0}return!1}clone(){return new KE}}function rA(n,e){return n-e}function pj(n,e){return n.z-e.z}function mj(n,e){return e.z-n.z}class gj{constructor(){this.index=0,this.pool=[],this.list=[]}push(e,t,i,r){const s=this.pool,a=this.list;this.index>=s.length&&s.push({start:-1,count:-1,z:-1,index:-1});const o=s[this.index];a.push(o),this.index++,o.start=e,o.count=t,o.z=i,o.index=r}reset(){this.list.length=0,this.index=0}}const Bc=new ri,vj=new Zn(1,1,1),UP=new hy,yj=new KE,Sx=new Wa,tg=new Uo,c_=new Oe,kP=new Oe,_j=new Oe,sA=new gj,zl=new Xs,wx=[];function bj(n,e,t=0){const i=e.itemSize;if(n.isInterleavedBufferAttribute||n.array.constructor!==e.array.constructor){const r=n.count;for(let s=0;s<r;s++)for(let a=0;a<i;a++)e.setComponent(s+t,a,n.getComponent(s,a))}else e.array.set(n.array,t*i);e.needsUpdate=!0}function ng(n,e){if(n.constructor!==e.constructor){const t=Math.min(n.length,e.length);for(let i=0;i<t;i++)e[i]=n[i]}else{const t=Math.min(n.length,e.length);e.set(new n.constructor(n.buffer,0,t))}}class Bk extends Xs{constructor(e,t,i=t*2,r){super(new xr,r),this.isBatchedMesh=!0,this.perObjectFrustumCulled=!0,this.sortObjects=!0,this.boundingBox=null,this.boundingSphere=null,this.customSort=null,this._instanceInfo=[],this._geometryInfo=[],this._availableInstanceIds=[],this._availableGeometryIds=[],this._nextIndexStart=0,this._nextVertexStart=0,this._geometryCount=0,this._visibilityChanged=!0,this._geometryInitialized=!1,this._maxInstanceCount=e,this._maxVertexCount=t,this._maxIndexCount=i,this._multiDrawCounts=new Int32Array(e),this._multiDrawStarts=new Int32Array(e),this._multiDrawCount=0,this._multiDrawInstances=null,this._matricesTexture=null,this._indirectTexture=null,this._colorsTexture=null,this._initMatricesTexture(),this._initIndirectTexture()}get maxInstanceCount(){return this._maxInstanceCount}get instanceCount(){return this._instanceInfo.length-this._availableInstanceIds.length}get unusedVertexCount(){return this._maxVertexCount-this._nextVertexStart}get unusedIndexCount(){return this._maxIndexCount-this._nextIndexStart}_initMatricesTexture(){let e=Math.sqrt(this._maxInstanceCount*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const t=new Float32Array(e*e*4),i=new Gh(t,e,e,go,Oa);this._matricesTexture=i}_initIndirectTexture(){let e=Math.sqrt(this._maxInstanceCount);e=Math.ceil(e);const t=new Uint32Array(e*e),i=new Gh(t,e,e,B1,kd);this._indirectTexture=i}_initColorsTexture(){let e=Math.sqrt(this._maxInstanceCount);e=Math.ceil(e);const t=new Float32Array(e*e*4).fill(1),i=new Gh(t,e,e,go,Oa);i.colorSpace=Jr.workingColorSpace,this._colorsTexture=i}_initializeGeometry(e){const t=this.geometry,i=this._maxVertexCount,r=this._maxIndexCount;if(this._geometryInitialized===!1){for(const s in e.attributes){const a=e.getAttribute(s),{array:o,itemSize:l,normalized:c}=a,f=new o.constructor(i*l),h=new qs(f,l,c);t.setAttribute(s,h)}if(e.getIndex()!==null){const s=i>65535?new Uint32Array(r):new Uint16Array(r);t.setIndex(new qs(s,1))}this._geometryInitialized=!0}}_validateGeometry(e){const t=this.geometry;if(!!e.getIndex()!=!!t.getIndex())throw new Error('THREE.BatchedMesh: All geometries must consistently have "index".');for(const i in t.attributes){if(!e.hasAttribute(i))throw new Error(`THREE.BatchedMesh: Added geometry missing "${i}". All geometries must have consistent attributes.`);const r=e.getAttribute(i),s=t.getAttribute(i);if(r.itemSize!==s.itemSize||r.normalized!==s.normalized)throw new Error("THREE.BatchedMesh: All attributes must have a consistent itemSize and normalized value.")}}validateInstanceId(e){const t=this._instanceInfo;if(e<0||e>=t.length||t[e].active===!1)throw new Error(`THREE.BatchedMesh: Invalid instanceId ${e}. Instance is either out of range or has been deleted.`)}validateGeometryId(e){const t=this._geometryInfo;if(e<0||e>=t.length||t[e].active===!1)throw new Error(`THREE.BatchedMesh: Invalid geometryId ${e}. Geometry is either out of range or has been deleted.`)}setCustomSort(e){return this.customSort=e,this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Wa);const e=this.boundingBox,t=this._instanceInfo;e.makeEmpty();for(let i=0,r=t.length;i<r;i++){if(t[i].active===!1)continue;const s=t[i].geometryIndex;this.getMatrixAt(i,Bc),this.getBoundingBoxAt(s,Sx).applyMatrix4(Bc),e.union(Sx)}}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Uo);const e=this.boundingSphere,t=this._instanceInfo;e.makeEmpty();for(let i=0,r=t.length;i<r;i++){if(t[i].active===!1)continue;const s=t[i].geometryIndex;this.getMatrixAt(i,Bc),this.getBoundingSphereAt(s,tg).applyMatrix4(Bc),e.union(tg)}}addInstance(e){if(this._instanceInfo.length>=this.maxInstanceCount&&this._availableInstanceIds.length===0)throw new Error("THREE.BatchedMesh: Maximum item count reached.");const i={visible:!0,active:!0,geometryIndex:e};let r=null;this._availableInstanceIds.length>0?(this._availableInstanceIds.sort(rA),r=this._availableInstanceIds.shift(),this._instanceInfo[r]=i):(r=this._instanceInfo.length,this._instanceInfo.push(i));const s=this._matricesTexture;Bc.identity().toArray(s.image.data,r*16),s.needsUpdate=!0;const a=this._colorsTexture;return a&&(vj.toArray(a.image.data,r*4),a.needsUpdate=!0),this._visibilityChanged=!0,r}addGeometry(e,t=-1,i=-1){this._initializeGeometry(e),this._validateGeometry(e);const r={vertexStart:-1,vertexCount:-1,reservedVertexCount:-1,indexStart:-1,indexCount:-1,reservedIndexCount:-1,start:-1,count:-1,boundingBox:null,boundingSphere:null,active:!0},s=this._geometryInfo;r.vertexStart=this._nextVertexStart,r.reservedVertexCount=t===-1?e.getAttribute("position").count:t;const a=e.getIndex();if(a!==null&&(r.indexStart=this._nextIndexStart,r.reservedIndexCount=i===-1?a.count:i),r.indexStart!==-1&&r.indexStart+r.reservedIndexCount>this._maxIndexCount||r.vertexStart+r.reservedVertexCount>this._maxVertexCount)throw new Error("THREE.BatchedMesh: Reserved space request exceeds the maximum buffer size.");let l;return this._availableGeometryIds.length>0?(this._availableGeometryIds.sort(rA),l=this._availableGeometryIds.shift(),s[l]=r):(l=this._geometryCount,this._geometryCount++,s.push(r)),this.setGeometryAt(l,e),this._nextIndexStart=r.indexStart+r.reservedIndexCount,this._nextVertexStart=r.vertexStart+r.reservedVertexCount,l}setGeometryAt(e,t){if(e>=this._geometryCount)throw new Error("THREE.BatchedMesh: Maximum geometry count reached.");this._validateGeometry(t);const i=this.geometry,r=i.getIndex()!==null,s=i.getIndex(),a=t.getIndex(),o=this._geometryInfo[e];if(r&&a.count>o.reservedIndexCount||t.attributes.position.count>o.reservedVertexCount)throw new Error("THREE.BatchedMesh: Reserved space not large enough for provided geometry.");const l=o.vertexStart,c=o.reservedVertexCount;o.vertexCount=t.getAttribute("position").count;for(const f in i.attributes){const h=t.getAttribute(f),v=i.getAttribute(f);bj(h,v,l);const m=h.itemSize;for(let _=h.count,g=c;_<g;_++){const y=l+_;for(let u=0;u<m;u++)v.setComponent(y,u,0)}v.needsUpdate=!0,v.addUpdateRange(l*m,c*m)}if(r){const f=o.indexStart,h=o.reservedIndexCount;o.indexCount=t.getIndex().count;for(let v=0;v<a.count;v++)s.setX(f+v,l+a.getX(v));for(let v=a.count,m=h;v<m;v++)s.setX(f+v,l);s.needsUpdate=!0,s.addUpdateRange(f,o.reservedIndexCount)}return o.start=r?o.indexStart:o.vertexStart,o.count=r?o.indexCount:o.vertexCount,o.boundingBox=null,t.boundingBox!==null&&(o.boundingBox=t.boundingBox.clone()),o.boundingSphere=null,t.boundingSphere!==null&&(o.boundingSphere=t.boundingSphere.clone()),this._visibilityChanged=!0,e}deleteGeometry(e){const t=this._geometryInfo;if(e>=t.length||t[e].active===!1)return this;const i=this._instanceInfo;for(let r=0,s=i.length;r<s;r++)i[r].active&&i[r].geometryIndex===e&&this.deleteInstance(r);return t[e].active=!1,this._availableGeometryIds.push(e),this._visibilityChanged=!0,this}deleteInstance(e){return this.validateInstanceId(e),this._instanceInfo[e].active=!1,this._availableInstanceIds.push(e),this._visibilityChanged=!0,this}optimize(){let e=0,t=0;const i=this._geometryInfo,r=i.map((a,o)=>o).sort((a,o)=>i[a].vertexStart-i[o].vertexStart),s=this.geometry;for(let a=0,o=i.length;a<o;a++){const l=r[a],c=i[l];if(c.active!==!1){if(s.index!==null){if(c.indexStart!==t){const{indexStart:f,vertexStart:h,reservedIndexCount:v}=c,m=s.index,_=m.array,g=e-h;for(let y=f;y<f+v;y++)_[y]=_[y]+g;m.array.copyWithin(t,f,f+v),m.addUpdateRange(t,v),c.indexStart=t}t+=c.reservedIndexCount}if(c.vertexStart!==e){const{vertexStart:f,reservedVertexCount:h}=c,v=s.attributes;for(const m in v){const _=v[m],{array:g,itemSize:y}=_;g.copyWithin(e*y,f*y,(f+h)*y),_.addUpdateRange(e*y,h*y)}c.vertexStart=e}e+=c.reservedVertexCount,c.start=s.index?c.indexStart:c.vertexStart,this._nextIndexStart=s.index?c.indexStart+c.reservedIndexCount:0,this._nextVertexStart=c.vertexStart+c.reservedVertexCount}}return this}getBoundingBoxAt(e,t){if(e>=this._geometryCount)return null;const i=this.geometry,r=this._geometryInfo[e];if(r.boundingBox===null){const s=new Wa,a=i.index,o=i.attributes.position;for(let l=r.start,c=r.start+r.count;l<c;l++){let f=l;a&&(f=a.getX(f)),s.expandByPoint(c_.fromBufferAttribute(o,f))}r.boundingBox=s}return t.copy(r.boundingBox),t}getBoundingSphereAt(e,t){if(e>=this._geometryCount)return null;const i=this.geometry,r=this._geometryInfo[e];if(r.boundingSphere===null){const s=new Uo;this.getBoundingBoxAt(e,Sx),Sx.getCenter(s.center);const a=i.index,o=i.attributes.position;let l=0;for(let c=r.start,f=r.start+r.count;c<f;c++){let h=c;a&&(h=a.getX(h)),c_.fromBufferAttribute(o,h),l=Math.max(l,s.center.distanceToSquared(c_))}s.radius=Math.sqrt(l),r.boundingSphere=s}return t.copy(r.boundingSphere),t}setMatrixAt(e,t){this.validateInstanceId(e);const i=this._matricesTexture,r=this._matricesTexture.image.data;return t.toArray(r,e*16),i.needsUpdate=!0,this}getMatrixAt(e,t){return this.validateInstanceId(e),t.fromArray(this._matricesTexture.image.data,e*16)}setColorAt(e,t){return this.validateInstanceId(e),this._colorsTexture===null&&this._initColorsTexture(),t.toArray(this._colorsTexture.image.data,e*4),this._colorsTexture.needsUpdate=!0,this}getColorAt(e,t){return this.validateInstanceId(e),t.fromArray(this._colorsTexture.image.data,e*4)}setVisibleAt(e,t){return this.validateInstanceId(e),this._instanceInfo[e].visible===t?this:(this._instanceInfo[e].visible=t,this._visibilityChanged=!0,this)}getVisibleAt(e){return this.validateInstanceId(e),this._instanceInfo[e].visible}setGeometryIdAt(e,t){return this.validateInstanceId(e),this.validateGeometryId(t),this._instanceInfo[e].geometryIndex=t,this}getGeometryIdAt(e){return this.validateInstanceId(e),this._instanceInfo[e].geometryIndex}getGeometryRangeAt(e,t={}){this.validateGeometryId(e);const i=this._geometryInfo[e];return t.vertexStart=i.vertexStart,t.vertexCount=i.vertexCount,t.reservedVertexCount=i.reservedVertexCount,t.indexStart=i.indexStart,t.indexCount=i.indexCount,t.reservedIndexCount=i.reservedIndexCount,t.start=i.start,t.count=i.count,t}setInstanceCount(e){const t=this._availableInstanceIds,i=this._instanceInfo;for(t.sort(rA);t[t.length-1]===i.length;)i.pop(),t.pop();if(e<i.length)throw new Error(`BatchedMesh: Instance ids outside the range ${e} are being used. Cannot shrink instance count.`);const r=new Int32Array(e),s=new Int32Array(e);ng(this._multiDrawCounts,r),ng(this._multiDrawStarts,s),this._multiDrawCounts=r,this._multiDrawStarts=s,this._maxInstanceCount=e;const a=this._indirectTexture,o=this._matricesTexture,l=this._colorsTexture;a.dispose(),this._initIndirectTexture(),ng(a.image.data,this._indirectTexture.image.data),o.dispose(),this._initMatricesTexture(),ng(o.image.data,this._matricesTexture.image.data),l&&(l.dispose(),this._initColorsTexture(),ng(l.image.data,this._colorsTexture.image.data))}setGeometrySize(e,t){const i=[...this._geometryInfo].filter(o=>o.active);if(Math.max(...i.map(o=>o.vertexStart+o.reservedVertexCount))>e)throw new Error(`BatchedMesh: Geometry vertex values are being used outside the range ${t}. Cannot shrink further.`);if(this.geometry.index&&Math.max(...i.map(l=>l.indexStart+l.reservedIndexCount))>t)throw new Error(`BatchedMesh: Geometry index values are being used outside the range ${t}. Cannot shrink further.`);const s=this.geometry;s.dispose(),this._maxVertexCount=e,this._maxIndexCount=t,this._geometryInitialized&&(this._geometryInitialized=!1,this.geometry=new xr,this._initializeGeometry(s));const a=this.geometry;s.index&&ng(s.index.array,a.index.array);for(const o in s.attributes)ng(s.attributes[o].array,a.attributes[o].array)}raycast(e,t){const i=this._instanceInfo,r=this._geometryInfo,s=this.matrixWorld,a=this.geometry;zl.material=this.material,zl.geometry.index=a.index,zl.geometry.attributes=a.attributes,zl.geometry.boundingBox===null&&(zl.geometry.boundingBox=new Wa),zl.geometry.boundingSphere===null&&(zl.geometry.boundingSphere=new Uo);for(let o=0,l=i.length;o<l;o++){if(!i[o].visible||!i[o].active)continue;const c=i[o].geometryIndex,f=r[c];zl.geometry.setDrawRange(f.start,f.count),this.getMatrixAt(o,zl.matrixWorld).premultiply(s),this.getBoundingBoxAt(c,zl.geometry.boundingBox),this.getBoundingSphereAt(c,zl.geometry.boundingSphere),zl.raycast(e,wx);for(let h=0,v=wx.length;h<v;h++){const m=wx[h];m.object=this,m.batchId=o,t.push(m)}wx.length=0}zl.material=null,zl.geometry.index=null,zl.geometry.attributes={},zl.geometry.setDrawRange(0,1/0)}copy(e){return super.copy(e),this.geometry=e.geometry.clone(),this.perObjectFrustumCulled=e.perObjectFrustumCulled,this.sortObjects=e.sortObjects,this.boundingBox=e.boundingBox!==null?e.boundingBox.clone():null,this.boundingSphere=e.boundingSphere!==null?e.boundingSphere.clone():null,this._geometryInfo=e._geometryInfo.map(t=>({...t,boundingBox:t.boundingBox!==null?t.boundingBox.clone():null,boundingSphere:t.boundingSphere!==null?t.boundingSphere.clone():null})),this._instanceInfo=e._instanceInfo.map(t=>({...t})),this._availableInstanceIds=e._availableInstanceIds.slice(),this._availableGeometryIds=e._availableGeometryIds.slice(),this._nextIndexStart=e._nextIndexStart,this._nextVertexStart=e._nextVertexStart,this._geometryCount=e._geometryCount,this._maxInstanceCount=e._maxInstanceCount,this._maxVertexCount=e._maxVertexCount,this._maxIndexCount=e._maxIndexCount,this._geometryInitialized=e._geometryInitialized,this._multiDrawCounts=e._multiDrawCounts.slice(),this._multiDrawStarts=e._multiDrawStarts.slice(),this._indirectTexture=e._indirectTexture.clone(),this._indirectTexture.image.data=this._indirectTexture.image.data.slice(),this._matricesTexture=e._matricesTexture.clone(),this._matricesTexture.image.data=this._matricesTexture.image.data.slice(),this._colorsTexture!==null&&(this._colorsTexture=e._colorsTexture.clone(),this._colorsTexture.image.data=this._colorsTexture.image.data.slice()),this}dispose(){this.geometry.dispose(),this._matricesTexture.dispose(),this._matricesTexture=null,this._indirectTexture.dispose(),this._indirectTexture=null,this._colorsTexture!==null&&(this._colorsTexture.dispose(),this._colorsTexture=null)}onBeforeRender(e,t,i,r,s){if(!this._visibilityChanged&&!this.perObjectFrustumCulled&&!this.sortObjects)return;const a=r.getIndex(),o=a===null?1:a.array.BYTES_PER_ELEMENT,l=this._instanceInfo,c=this._multiDrawStarts,f=this._multiDrawCounts,h=this._geometryInfo,v=this.perObjectFrustumCulled,m=this._indirectTexture,_=m.image.data,g=i.isArrayCamera?yj:UP;v&&!i.isArrayCamera&&(Bc.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse).multiply(this.matrixWorld),UP.setFromProjectionMatrix(Bc,e.coordinateSystem));let y=0;if(this.sortObjects){Bc.copy(this.matrixWorld).invert(),c_.setFromMatrixPosition(i.matrixWorld).applyMatrix4(Bc),kP.set(0,0,-1).transformDirection(i.matrixWorld).transformDirection(Bc);for(let S=0,T=l.length;S<T;S++)if(l[S].visible&&l[S].active){const R=l[S].geometryIndex;this.getMatrixAt(S,Bc),this.getBoundingSphereAt(R,tg).applyMatrix4(Bc);let O=!1;if(v&&(O=!g.intersectsSphere(tg,i)),!O){const C=h[R],I=_j.subVectors(tg.center,c_).dot(kP);sA.push(C.start,C.count,I,S)}}const u=sA.list,b=this.customSort;b===null?u.sort(s.transparent?mj:pj):b.call(this,u,i);for(let S=0,T=u.length;S<T;S++){const R=u[S];c[y]=R.start*o,f[y]=R.count,_[y]=R.index,y++}sA.reset()}else for(let u=0,b=l.length;u<b;u++)if(l[u].visible&&l[u].active){const S=l[u].geometryIndex;let T=!1;if(v&&(this.getMatrixAt(u,Bc),this.getBoundingSphereAt(S,tg).applyMatrix4(Bc),T=!g.intersectsSphere(tg,i)),!T){const R=h[S];c[y]=R.start*o,f[y]=R.count,_[y]=u,y++}}m.needsUpdate=!0,this._multiDrawCount=y,this._visibilityChanged=!1}onBeforeShadow(e,t,i,r,s,a){this.onBeforeRender(e,null,r,s,a)}}class Tc extends jl{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new Zn(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const Uw=new Oe,kw=new Oe,BP=new ri,u_=new rp,Ex=new Uo,aA=new Oe,zP=new Oe;let pm=class extends Tr{constructor(e=new xr,t=new Tc){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=t,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,i=[0];for(let r=1,s=t.count;r<s;r++)Uw.fromBufferAttribute(t,r-1),kw.fromBufferAttribute(t,r),i[r]=i[r-1],i[r]+=Uw.distanceTo(kw);e.setAttribute("lineDistance",new mi(i,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,t){const i=this.geometry,r=this.matrixWorld,s=e.params.Line.threshold,a=i.drawRange;if(i.boundingSphere===null&&i.computeBoundingSphere(),Ex.copy(i.boundingSphere),Ex.applyMatrix4(r),Ex.radius+=s,e.ray.intersectsSphere(Ex)===!1)return;BP.copy(r).invert(),u_.copy(e.ray).applyMatrix4(BP);const o=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=o*o,c=this.isLineSegments?2:1,f=i.index,v=i.attributes.position;if(f!==null){const m=Math.max(0,a.start),_=Math.min(f.count,a.start+a.count);for(let g=m,y=_-1;g<y;g+=c){const u=f.getX(g),b=f.getX(g+1),S=Cx(this,e,u_,l,u,b,g);S&&t.push(S)}if(this.isLineLoop){const g=f.getX(_-1),y=f.getX(m),u=Cx(this,e,u_,l,g,y,_-1);u&&t.push(u)}}else{const m=Math.max(0,a.start),_=Math.min(v.count,a.start+a.count);for(let g=m,y=_-1;g<y;g+=c){const u=Cx(this,e,u_,l,g,g+1,g);u&&t.push(u)}if(this.isLineLoop){const g=Cx(this,e,u_,l,_-1,m,_-1);g&&t.push(g)}}}updateMorphTargets(){const t=this.geometry.morphAttributes,i=Object.keys(t);if(i.length>0){const r=t[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,a=r.length;s<a;s++){const o=r[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[o]=s}}}}};function Cx(n,e,t,i,r,s,a){const o=n.geometry.attributes.position;if(Uw.fromBufferAttribute(o,r),kw.fromBufferAttribute(o,s),t.distanceSqToSegment(Uw,kw,aA,zP)>i)return;aA.applyMatrix4(n.matrixWorld);const c=e.ray.origin.distanceTo(aA);if(!(c<e.near||c>e.far))return{distance:c,point:zP.clone().applyMatrix4(n.matrixWorld),index:a,face:null,faceIndex:null,barycoord:null,object:n}}const GP=new Oe,HP=new Oe;class qd extends pm{constructor(e,t){super(e,t),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,i=[];for(let r=0,s=t.count;r<s;r+=2)GP.fromBufferAttribute(t,r),HP.fromBufferAttribute(t,r+1),i[r]=r===0?0:i[r-1],i[r+1]=i[r]+GP.distanceTo(HP);e.setAttribute("lineDistance",new mi(i,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class zk extends pm{constructor(e,t){super(e,t),this.isLineLoop=!0,this.type="LineLoop"}}class h3 extends jl{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new Zn(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const $P=new ri,bM=new rp,Tx=new Uo,Ax=new Oe;class d3 extends Tr{constructor(e=new xr,t=new h3){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=t,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}raycast(e,t){const i=this.geometry,r=this.matrixWorld,s=e.params.Points.threshold,a=i.drawRange;if(i.boundingSphere===null&&i.computeBoundingSphere(),Tx.copy(i.boundingSphere),Tx.applyMatrix4(r),Tx.radius+=s,e.ray.intersectsSphere(Tx)===!1)return;$P.copy(r).invert(),bM.copy(e.ray).applyMatrix4($P);const o=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=o*o,c=i.index,h=i.attributes.position;if(c!==null){const v=Math.max(0,a.start),m=Math.min(c.count,a.start+a.count);for(let _=v,g=m;_<g;_++){const y=c.getX(_);Ax.fromBufferAttribute(h,y),VP(Ax,y,l,r,e,t,this)}}else{const v=Math.max(0,a.start),m=Math.min(h.count,a.start+a.count);for(let _=v,g=m;_<g;_++)Ax.fromBufferAttribute(h,_),VP(Ax,_,l,r,e,t,this)}}updateMorphTargets(){const t=this.geometry.morphAttributes,i=Object.keys(t);if(i.length>0){const r=t[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,a=r.length;s<a;s++){const o=r[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[o]=s}}}}}function VP(n,e,t,i,r,s,a){const o=bM.distanceSqToPoint(n);if(o<t){const l=new Oe;bM.closestPointToPoint(n,l),l.applyMatrix4(i);const c=r.ray.origin.distanceTo(l);if(c<r.near||c>r.far)return;s.push({distance:c,distanceToRay:Math.sqrt(o),point:l,index:e,face:null,faceIndex:null,barycoord:null,object:a})}}class Gk extends _s{constructor(e,t,i,r,s=cs,a=cs,o,l,c){super(e,t,i,r,s,a,o,l,c),this.isVideoTexture=!0,this.generateMipmaps=!1;const f=this;function h(){f.needsUpdate=!0,e.requestVideoFrameCallback(h)}"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback(h)}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}class xj extends Gk{constructor(e,t,i,r,s,a,o,l){super({},e,t,i,r,s,a,o,l),this.isVideoFrameTexture=!0}update(){}clone(){return new this.constructor().copy(this)}setFrame(e){this.image=e,this.needsUpdate=!0}}class Sj extends _s{constructor(e,t){super({width:e,height:t}),this.isFramebufferTexture=!0,this.magFilter=Cl,this.minFilter=Cl,this.generateMipmaps=!1,this.needsUpdate=!0}}class ZE extends _s{constructor(e,t,i,r,s,a,o,l,c,f,h,v){super(null,a,o,l,c,f,r,s,h,v),this.isCompressedTexture=!0,this.image={width:t,height:i},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}class wj extends ZE{constructor(e,t,i,r,s,a){super(e,t,i,s,a),this.isCompressedArrayTexture=!0,this.image.depth=r,this.wrapR=Do,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class Ej extends ZE{constructor(e,t,i){super(void 0,e[0].width,e[0].height,t,i,Ud),this.isCompressedCubeTexture=!0,this.isCubeTexture=!0,this.image=e}}class Hk extends _s{constructor(e,t,i,r,s,a,o,l,c){super(e,t,i,r,s,a,o,l,c),this.isCanvasTexture=!0,this.needsUpdate=!0}}class QE extends _s{constructor(e,t,i=kd,r,s,a,o=Cl,l=Cl,c,f=j0,h=1){if(f!==j0&&f!==X0)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");const v={width:e,height:t,depth:h};super(v,r,s,a,o,l,f,i,c),this.isDepthTexture=!0,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.source=new am(Object.assign({},e.image)),this.compareFunction=e.compareFunction,this}toJSON(e){const t=super.toJSON(e);return this.compareFunction!==null&&(t.compareFunction=this.compareFunction),t}}class JE extends xr{constructor(e=1,t=1,i=4,r=8,s=1){super(),this.type="CapsuleGeometry",this.parameters={radius:e,height:t,capSegments:i,radialSegments:r,heightSegments:s},t=Math.max(0,t),i=Math.max(1,Math.floor(i)),r=Math.max(3,Math.floor(r)),s=Math.max(1,Math.floor(s));const a=[],o=[],l=[],c=[],f=t/2,h=Math.PI/2*e,v=t,m=2*h+v,_=i*2+s,g=r+1,y=new Oe,u=new Oe;for(let b=0;b<=_;b++){let S=0,T=0,R=0,O=0;if(b<=i){const F=b/i,M=F*Math.PI/2;T=-f-e*Math.cos(M),R=e*Math.sin(M),O=-e*Math.cos(M),S=F*h}else if(b<=i+s){const F=(b-i)/s;T=-f+F*t,R=e,O=0,S=h+F*v}else{const F=(b-i-s)/i,M=F*Math.PI/2;T=f+e*Math.sin(M),R=e*Math.cos(M),O=e*Math.sin(M),S=h+v+F*h}const C=Math.max(0,Math.min(1,S/m));let I=0;b===0?I=.5/r:b===_&&(I=-.5/r);for(let F=0;F<=r;F++){const M=F/r,D=M*Math.PI*2,B=Math.sin(D),j=Math.cos(D);u.x=-R*j,u.y=T,u.z=R*B,o.push(u.x,u.y,u.z),y.set(-R*j,O,R*B),y.normalize(),l.push(y.x,y.y,y.z),c.push(M+I,C)}if(b>0){const F=(b-1)*g;for(let M=0;M<r;M++){const D=F+M,B=F+M+1,j=b*g+M,U=b*g+M+1;a.push(D,B,j),a.push(B,U,j)}}}this.setIndex(a),this.setAttribute("position",new mi(o,3)),this.setAttribute("normal",new mi(l,3)),this.setAttribute("uv",new mi(c,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new JE(e.radius,e.height,e.capSegments,e.radialSegments,e.heightSegments)}}class eC extends xr{constructor(e=1,t=32,i=0,r=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:t,thetaStart:i,thetaLength:r},t=Math.max(3,t);const s=[],a=[],o=[],l=[],c=new Oe,f=new ln;a.push(0,0,0),o.push(0,0,1),l.push(.5,.5);for(let h=0,v=3;h<=t;h++,v+=3){const m=i+h/t*r;c.x=e*Math.cos(m),c.y=e*Math.sin(m),a.push(c.x,c.y,c.z),o.push(0,0,1),f.x=(a[v]/e+1)/2,f.y=(a[v+1]/e+1)/2,l.push(f.x,f.y)}for(let h=1;h<=t;h++)s.push(h,h+1,0);this.setIndex(s),this.setAttribute("position",new mi(a,3)),this.setAttribute("normal",new mi(o,3)),this.setAttribute("uv",new mi(l,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new eC(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class H1 extends xr{constructor(e=1,t=1,i=1,r=32,s=1,a=!1,o=0,l=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:i,radialSegments:r,heightSegments:s,openEnded:a,thetaStart:o,thetaLength:l};const c=this;r=Math.floor(r),s=Math.floor(s);const f=[],h=[],v=[],m=[];let _=0;const g=[],y=i/2;let u=0;b(),a===!1&&(e>0&&S(!0),t>0&&S(!1)),this.setIndex(f),this.setAttribute("position",new mi(h,3)),this.setAttribute("normal",new mi(v,3)),this.setAttribute("uv",new mi(m,2));function b(){const T=new Oe,R=new Oe;let O=0;const C=(t-e)/i;for(let I=0;I<=s;I++){const F=[],M=I/s,D=M*(t-e)+e;for(let B=0;B<=r;B++){const j=B/r,U=j*l+o,V=Math.sin(U),k=Math.cos(U);R.x=D*V,R.y=-M*i+y,R.z=D*k,h.push(R.x,R.y,R.z),T.set(V,C,k).normalize(),v.push(T.x,T.y,T.z),m.push(j,1-M),F.push(_++)}g.push(F)}for(let I=0;I<r;I++)for(let F=0;F<s;F++){const M=g[F][I],D=g[F+1][I],B=g[F+1][I+1],j=g[F][I+1];(e>0||F!==0)&&(f.push(M,D,j),O+=3),(t>0||F!==s-1)&&(f.push(D,B,j),O+=3)}c.addGroup(u,O,0),u+=O}function S(T){const R=_,O=new ln,C=new Oe;let I=0;const F=T===!0?e:t,M=T===!0?1:-1;for(let B=1;B<=r;B++)h.push(0,y*M,0),v.push(0,M,0),m.push(.5,.5),_++;const D=_;for(let B=0;B<=r;B++){const U=B/r*l+o,V=Math.cos(U),k=Math.sin(U);C.x=F*k,C.y=y*M,C.z=F*V,h.push(C.x,C.y,C.z),v.push(0,M,0),O.x=V*.5+.5,O.y=k*.5*M+.5,m.push(O.x,O.y),_++}for(let B=0;B<r;B++){const j=R+B,U=D+B;T===!0?f.push(U,U+1,j):f.push(U+1,U,j),I+=3}c.addGroup(u,I,T===!0?1:2),u+=I}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new H1(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class $1 extends H1{constructor(e=1,t=1,i=32,r=1,s=!1,a=0,o=Math.PI*2){super(0,e,t,i,r,s,a,o),this.type="ConeGeometry",this.parameters={radius:e,height:t,radialSegments:i,heightSegments:r,openEnded:s,thetaStart:a,thetaLength:o}}static fromJSON(e){return new $1(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class bm extends xr{constructor(e=[],t=[],i=1,r=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:t,radius:i,detail:r};const s=[],a=[];o(r),c(i),f(),this.setAttribute("position",new mi(s,3)),this.setAttribute("normal",new mi(s.slice(),3)),this.setAttribute("uv",new mi(a,2)),r===0?this.computeVertexNormals():this.normalizeNormals();function o(b){const S=new Oe,T=new Oe,R=new Oe;for(let O=0;O<t.length;O+=3)m(t[O+0],S),m(t[O+1],T),m(t[O+2],R),l(S,T,R,b)}function l(b,S,T,R){const O=R+1,C=[];for(let I=0;I<=O;I++){C[I]=[];const F=b.clone().lerp(T,I/O),M=S.clone().lerp(T,I/O),D=O-I;for(let B=0;B<=D;B++)B===0&&I===O?C[I][B]=F:C[I][B]=F.clone().lerp(M,B/D)}for(let I=0;I<O;I++)for(let F=0;F<2*(O-I)-1;F++){const M=Math.floor(F/2);F%2===0?(v(C[I][M+1]),v(C[I+1][M]),v(C[I][M])):(v(C[I][M+1]),v(C[I+1][M+1]),v(C[I+1][M]))}}function c(b){const S=new Oe;for(let T=0;T<s.length;T+=3)S.x=s[T+0],S.y=s[T+1],S.z=s[T+2],S.normalize().multiplyScalar(b),s[T+0]=S.x,s[T+1]=S.y,s[T+2]=S.z}function f(){const b=new Oe;for(let S=0;S<s.length;S+=3){b.x=s[S+0],b.y=s[S+1],b.z=s[S+2];const T=y(b)/2/Math.PI+.5,R=u(b)/Math.PI+.5;a.push(T,1-R)}_(),h()}function h(){for(let b=0;b<a.length;b+=6){const S=a[b+0],T=a[b+2],R=a[b+4],O=Math.max(S,T,R),C=Math.min(S,T,R);O>.9&&C<.1&&(S<.2&&(a[b+0]+=1),T<.2&&(a[b+2]+=1),R<.2&&(a[b+4]+=1))}}function v(b){s.push(b.x,b.y,b.z)}function m(b,S){const T=b*3;S.x=e[T+0],S.y=e[T+1],S.z=e[T+2]}function _(){const b=new Oe,S=new Oe,T=new Oe,R=new Oe,O=new ln,C=new ln,I=new ln;for(let F=0,M=0;F<s.length;F+=9,M+=6){b.set(s[F+0],s[F+1],s[F+2]),S.set(s[F+3],s[F+4],s[F+5]),T.set(s[F+6],s[F+7],s[F+8]),O.set(a[M+0],a[M+1]),C.set(a[M+2],a[M+3]),I.set(a[M+4],a[M+5]),R.copy(b).add(S).add(T).divideScalar(3);const D=y(R);g(O,M+0,b,D),g(C,M+2,S,D),g(I,M+4,T,D)}}function g(b,S,T,R){R<0&&b.x===1&&(a[S]=b.x-1),T.x===0&&T.z===0&&(a[S]=R/2/Math.PI+.5)}function y(b){return Math.atan2(b.z,-b.x)}function u(b){return Math.atan2(-b.y,Math.sqrt(b.x*b.x+b.z*b.z))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new bm(e.vertices,e.indices,e.radius,e.details)}}class tC extends bm{constructor(e=1,t=0){const i=(1+Math.sqrt(5))/2,r=1/i,s=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-r,-i,0,-r,i,0,r,-i,0,r,i,-r,-i,0,-r,i,0,r,-i,0,r,i,0,-i,0,-r,i,0,-r,-i,0,r,i,0,r],a=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(s,a,e,t),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new tC(e.radius,e.detail)}}const Mx=new Oe,Rx=new Oe,oA=new Oe,Ox=new Wc;class $k extends xr{constructor(e=null,t=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:t},e!==null){const r=Math.pow(10,4),s=Math.cos(Bg*t),a=e.getIndex(),o=e.getAttribute("position"),l=a?a.count:o.count,c=[0,0,0],f=["a","b","c"],h=new Array(3),v={},m=[];for(let _=0;_<l;_+=3){a?(c[0]=a.getX(_),c[1]=a.getX(_+1),c[2]=a.getX(_+2)):(c[0]=_,c[1]=_+1,c[2]=_+2);const{a:g,b:y,c:u}=Ox;if(g.fromBufferAttribute(o,c[0]),y.fromBufferAttribute(o,c[1]),u.fromBufferAttribute(o,c[2]),Ox.getNormal(oA),h[0]=`${Math.round(g.x*r)},${Math.round(g.y*r)},${Math.round(g.z*r)}`,h[1]=`${Math.round(y.x*r)},${Math.round(y.y*r)},${Math.round(y.z*r)}`,h[2]=`${Math.round(u.x*r)},${Math.round(u.y*r)},${Math.round(u.z*r)}`,!(h[0]===h[1]||h[1]===h[2]||h[2]===h[0]))for(let b=0;b<3;b++){const S=(b+1)%3,T=h[b],R=h[S],O=Ox[f[b]],C=Ox[f[S]],I=`${T}_${R}`,F=`${R}_${T}`;F in v&&v[F]?(oA.dot(v[F].normal)<=s&&(m.push(O.x,O.y,O.z),m.push(C.x,C.y,C.z)),v[F]=null):I in v||(v[I]={index0:c[b],index1:c[S],normal:oA.clone()})}}for(const _ in v)if(v[_]){const{index0:g,index1:y}=v[_];Mx.fromBufferAttribute(o,g),Rx.fromBufferAttribute(o,y),m.push(Mx.x,Mx.y,Mx.z),m.push(Rx.x,Rx.y,Rx.z)}this.setAttribute("position",new mi(m,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}class Kh{constructor(){this.type="Curve",this.arcLengthDivisions=200,this.needsUpdate=!1,this.cacheArcLengths=null}getPoint(){console.warn("THREE.Curve: .getPoint() not implemented.")}getPointAt(e,t){const i=this.getUtoTmapping(e);return this.getPoint(i,t)}getPoints(e=5){const t=[];for(let i=0;i<=e;i++)t.push(this.getPoint(i/e));return t}getSpacedPoints(e=5){const t=[];for(let i=0;i<=e;i++)t.push(this.getPointAt(i/e));return t}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const t=[];let i,r=this.getPoint(0),s=0;t.push(0);for(let a=1;a<=e;a++)i=this.getPoint(a/e),s+=i.distanceTo(r),t.push(s),r=i;return this.cacheArcLengths=t,t}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,t=null){const i=this.getLengths();let r=0;const s=i.length;let a;t?a=t:a=e*i[s-1];let o=0,l=s-1,c;for(;o<=l;)if(r=Math.floor(o+(l-o)/2),c=i[r]-a,c<0)o=r+1;else if(c>0)l=r-1;else{l=r;break}if(r=l,i[r]===a)return r/(s-1);const f=i[r],v=i[r+1]-f,m=(a-f)/v;return(r+m)/(s-1)}getTangent(e,t){let r=e-1e-4,s=e+1e-4;r<0&&(r=0),s>1&&(s=1);const a=this.getPoint(r),o=this.getPoint(s),l=t||(a.isVector2?new ln:new Oe);return l.copy(o).sub(a).normalize(),l}getTangentAt(e,t){const i=this.getUtoTmapping(e);return this.getTangent(i,t)}computeFrenetFrames(e,t=!1){const i=new Oe,r=[],s=[],a=[],o=new Oe,l=new ri;for(let m=0;m<=e;m++){const _=m/e;r[m]=this.getTangentAt(_,new Oe)}s[0]=new Oe,a[0]=new Oe;let c=Number.MAX_VALUE;const f=Math.abs(r[0].x),h=Math.abs(r[0].y),v=Math.abs(r[0].z);f<=c&&(c=f,i.set(1,0,0)),h<=c&&(c=h,i.set(0,1,0)),v<=c&&i.set(0,0,1),o.crossVectors(r[0],i).normalize(),s[0].crossVectors(r[0],o),a[0].crossVectors(r[0],s[0]);for(let m=1;m<=e;m++){if(s[m]=s[m-1].clone(),a[m]=a[m-1].clone(),o.crossVectors(r[m-1],r[m]),o.length()>Number.EPSILON){o.normalize();const _=Math.acos(dr(r[m-1].dot(r[m]),-1,1));s[m].applyMatrix4(l.makeRotationAxis(o,_))}a[m].crossVectors(r[m],s[m])}if(t===!0){let m=Math.acos(dr(s[0].dot(s[e]),-1,1));m/=e,r[0].dot(o.crossVectors(s[0],s[e]))>0&&(m=-m);for(let _=1;_<=e;_++)s[_].applyMatrix4(l.makeRotationAxis(r[_],m*_)),a[_].crossVectors(r[_],s[_])}return{tangents:r,normals:s,binormals:a}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.7,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class nC extends Kh{constructor(e=0,t=0,i=1,r=1,s=0,a=Math.PI*2,o=!1,l=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=t,this.xRadius=i,this.yRadius=r,this.aStartAngle=s,this.aEndAngle=a,this.aClockwise=o,this.aRotation=l}getPoint(e,t=new ln){const i=t,r=Math.PI*2;let s=this.aEndAngle-this.aStartAngle;const a=Math.abs(s)<Number.EPSILON;for(;s<0;)s+=r;for(;s>r;)s-=r;s<Number.EPSILON&&(a?s=0:s=r),this.aClockwise===!0&&!a&&(s===r?s=-r:s=s-r);const o=this.aStartAngle+e*s;let l=this.aX+this.xRadius*Math.cos(o),c=this.aY+this.yRadius*Math.sin(o);if(this.aRotation!==0){const f=Math.cos(this.aRotation),h=Math.sin(this.aRotation),v=l-this.aX,m=c-this.aY;l=v*f-m*h+this.aX,c=v*h+m*f+this.aY}return i.set(l,c)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class Vk extends nC{constructor(e,t,i,r,s,a){super(e,t,i,i,r,s,a),this.isArcCurve=!0,this.type="ArcCurve"}}function f3(){let n=0,e=0,t=0,i=0;function r(s,a,o,l){n=s,e=o,t=-3*s+3*a-2*o-l,i=2*s-2*a+o+l}return{initCatmullRom:function(s,a,o,l,c){r(a,o,c*(o-s),c*(l-a))},initNonuniformCatmullRom:function(s,a,o,l,c,f,h){let v=(a-s)/c-(o-s)/(c+f)+(o-a)/f,m=(o-a)/f-(l-a)/(f+h)+(l-o)/h;v*=f,m*=f,r(a,o,v,m)},calc:function(s){const a=s*s,o=a*s;return n+e*s+t*a+i*o}}}const Lx=new Oe,lA=new f3,cA=new f3,uA=new f3;class Wk extends Kh{constructor(e=[],t=!1,i="centripetal",r=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=t,this.curveType=i,this.tension=r}getPoint(e,t=new Oe){const i=t,r=this.points,s=r.length,a=(s-(this.closed?0:1))*e;let o=Math.floor(a),l=a-o;this.closed?o+=o>0?0:(Math.floor(Math.abs(o)/s)+1)*s:l===0&&o===s-1&&(o=s-2,l=1);let c,f;this.closed||o>0?c=r[(o-1)%s]:(Lx.subVectors(r[0],r[1]).add(r[0]),c=Lx);const h=r[o%s],v=r[(o+1)%s];if(this.closed||o+2<s?f=r[(o+2)%s]:(Lx.subVectors(r[s-1],r[s-2]).add(r[s-1]),f=Lx),this.curveType==="centripetal"||this.curveType==="chordal"){const m=this.curveType==="chordal"?.5:.25;let _=Math.pow(c.distanceToSquared(h),m),g=Math.pow(h.distanceToSquared(v),m),y=Math.pow(v.distanceToSquared(f),m);g<1e-4&&(g=1),_<1e-4&&(_=g),y<1e-4&&(y=g),lA.initNonuniformCatmullRom(c.x,h.x,v.x,f.x,_,g,y),cA.initNonuniformCatmullRom(c.y,h.y,v.y,f.y,_,g,y),uA.initNonuniformCatmullRom(c.z,h.z,v.z,f.z,_,g,y)}else this.curveType==="catmullrom"&&(lA.initCatmullRom(c.x,h.x,v.x,f.x,this.tension),cA.initCatmullRom(c.y,h.y,v.y,f.y,this.tension),uA.initCatmullRom(c.z,h.z,v.z,f.z,this.tension));return i.set(lA.calc(l),cA.calc(l),uA.calc(l)),i}copy(e){super.copy(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const r=e.points[t];this.points.push(r.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,i=this.points.length;t<i;t++){const r=this.points[t];e.points.push(r.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const r=e.points[t];this.points.push(new Oe().fromArray(r))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function WP(n,e,t,i,r){const s=(i-e)*.5,a=(r-t)*.5,o=n*n,l=n*o;return(2*t-2*i+s+a)*l+(-3*t+3*i-2*s-a)*o+s*n+t}function Cj(n,e){const t=1-n;return t*t*e}function Tj(n,e){return 2*(1-n)*n*e}function Aj(n,e){return n*n*e}function $_(n,e,t,i){return Cj(n,e)+Tj(n,t)+Aj(n,i)}function Mj(n,e){const t=1-n;return t*t*t*e}function Rj(n,e){const t=1-n;return 3*t*t*n*e}function Oj(n,e){return 3*(1-n)*n*n*e}function Lj(n,e){return n*n*n*e}function V_(n,e,t,i,r){return Mj(n,e)+Rj(n,t)+Oj(n,i)+Lj(n,r)}class p3 extends Kh{constructor(e=new ln,t=new ln,i=new ln,r=new ln){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=t,this.v2=i,this.v3=r}getPoint(e,t=new ln){const i=t,r=this.v0,s=this.v1,a=this.v2,o=this.v3;return i.set(V_(e,r.x,s.x,a.x,o.x),V_(e,r.y,s.y,a.y,o.y)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class jk extends Kh{constructor(e=new Oe,t=new Oe,i=new Oe,r=new Oe){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=t,this.v2=i,this.v3=r}getPoint(e,t=new Oe){const i=t,r=this.v0,s=this.v1,a=this.v2,o=this.v3;return i.set(V_(e,r.x,s.x,a.x,o.x),V_(e,r.y,s.y,a.y,o.y),V_(e,r.z,s.z,a.z,o.z)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class m3 extends Kh{constructor(e=new ln,t=new ln){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=t}getPoint(e,t=new ln){const i=t;return e===1?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(e).add(this.v1)),i}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new ln){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class Xk extends Kh{constructor(e=new Oe,t=new Oe){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=t}getPoint(e,t=new Oe){const i=t;return e===1?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(e).add(this.v1)),i}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new Oe){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class g3 extends Kh{constructor(e=new ln,t=new ln,i=new ln){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=t,this.v2=i}getPoint(e,t=new ln){const i=t,r=this.v0,s=this.v1,a=this.v2;return i.set($_(e,r.x,s.x,a.x),$_(e,r.y,s.y,a.y)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class v3 extends Kh{constructor(e=new Oe,t=new Oe,i=new Oe){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=t,this.v2=i}getPoint(e,t=new Oe){const i=t,r=this.v0,s=this.v1,a=this.v2;return i.set($_(e,r.x,s.x,a.x),$_(e,r.y,s.y,a.y),$_(e,r.z,s.z,a.z)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class y3 extends Kh{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,t=new ln){const i=t,r=this.points,s=(r.length-1)*e,a=Math.floor(s),o=s-a,l=r[a===0?a:a-1],c=r[a],f=r[a>r.length-2?r.length-1:a+1],h=r[a>r.length-3?r.length-1:a+2];return i.set(WP(o,l.x,c.x,f.x,h.x),WP(o,l.y,c.y,f.y,h.y)),i}copy(e){super.copy(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const r=e.points[t];this.points.push(r.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,i=this.points.length;t<i;t++){const r=this.points[t];e.points.push(r.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const r=e.points[t];this.points.push(new ln().fromArray(r))}return this}}var Bw=Object.freeze({__proto__:null,ArcCurve:Vk,CatmullRomCurve3:Wk,CubicBezierCurve:p3,CubicBezierCurve3:jk,EllipseCurve:nC,LineCurve:m3,LineCurve3:Xk,QuadraticBezierCurve:g3,QuadraticBezierCurve3:v3,SplineCurve:y3});class qk extends Kh{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);if(!e.equals(t)){const i=e.isVector2===!0?"LineCurve":"LineCurve3";this.curves.push(new Bw[i](t,e))}return this}getPoint(e,t){const i=e*this.getLength(),r=this.getCurveLengths();let s=0;for(;s<r.length;){if(r[s]>=i){const a=r[s]-i,o=this.curves[s],l=o.getLength(),c=l===0?0:1-a/l;return o.getPointAt(c,t)}s++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let t=0;for(let i=0,r=this.curves.length;i<r;i++)t+=this.curves[i].getLength(),e.push(t);return this.cacheLengths=e,e}getSpacedPoints(e=40){const t=[];for(let i=0;i<=e;i++)t.push(this.getPoint(i/e));return this.autoClose&&t.push(t[0]),t}getPoints(e=12){const t=[];let i;for(let r=0,s=this.curves;r<s.length;r++){const a=s[r],o=a.isEllipseCurve?e*2:a.isLineCurve||a.isLineCurve3?1:a.isSplineCurve?e*a.points.length:e,l=a.getPoints(o);for(let c=0;c<l.length;c++){const f=l[c];i&&i.equals(f)||(t.push(f),i=f)}}return this.autoClose&&t.length>1&&!t[t.length-1].equals(t[0])&&t.push(t[0]),t}copy(e){super.copy(e),this.curves=[];for(let t=0,i=e.curves.length;t<i;t++){const r=e.curves[t];this.curves.push(r.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let t=0,i=this.curves.length;t<i;t++){const r=this.curves[t];e.curves.push(r.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let t=0,i=e.curves.length;t<i;t++){const r=e.curves[t];this.curves.push(new Bw[r.type]().fromJSON(r))}return this}}class zw extends qk{constructor(e){super(),this.type="Path",this.currentPoint=new ln,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let t=1,i=e.length;t<i;t++)this.lineTo(e[t].x,e[t].y);return this}moveTo(e,t){return this.currentPoint.set(e,t),this}lineTo(e,t){const i=new m3(this.currentPoint.clone(),new ln(e,t));return this.curves.push(i),this.currentPoint.set(e,t),this}quadraticCurveTo(e,t,i,r){const s=new g3(this.currentPoint.clone(),new ln(e,t),new ln(i,r));return this.curves.push(s),this.currentPoint.set(i,r),this}bezierCurveTo(e,t,i,r,s,a){const o=new p3(this.currentPoint.clone(),new ln(e,t),new ln(i,r),new ln(s,a));return this.curves.push(o),this.currentPoint.set(s,a),this}splineThru(e){const t=[this.currentPoint.clone()].concat(e),i=new y3(t);return this.curves.push(i),this.currentPoint.copy(e[e.length-1]),this}arc(e,t,i,r,s,a){const o=this.currentPoint.x,l=this.currentPoint.y;return this.absarc(e+o,t+l,i,r,s,a),this}absarc(e,t,i,r,s,a){return this.absellipse(e,t,i,i,r,s,a),this}ellipse(e,t,i,r,s,a,o,l){const c=this.currentPoint.x,f=this.currentPoint.y;return this.absellipse(e+c,t+f,i,r,s,a,o,l),this}absellipse(e,t,i,r,s,a,o,l){const c=new nC(e,t,i,r,s,a,o,l);if(this.curves.length>0){const h=c.getPoint(0);h.equals(this.currentPoint)||this.lineTo(h.x,h.y)}this.curves.push(c);const f=c.getPoint(1);return this.currentPoint.copy(f),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}let zg=class extends zw{constructor(e){super(e),this.uuid=_u(),this.type="Shape",this.holes=[]}getPointsHoles(e){const t=[];for(let i=0,r=this.holes.length;i<r;i++)t[i]=this.holes[i].getPoints(e);return t}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let t=0,i=e.holes.length;t<i;t++){const r=e.holes[t];this.holes.push(r.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let t=0,i=this.holes.length;t<i;t++){const r=this.holes[t];e.holes.push(r.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let t=0,i=e.holes.length;t<i;t++){const r=e.holes[t];this.holes.push(new zw().fromJSON(r))}return this}};function Pj(n,e,t=2){const i=e&&e.length,r=i?e[0]*t:n.length;let s=Yk(n,0,r,t,!0);const a=[];if(!s||s.next===s.prev)return a;let o,l,c;if(i&&(s=Uj(n,e,s,t)),n.length>80*t){o=1/0,l=1/0;let f=-1/0,h=-1/0;for(let v=t;v<r;v+=t){const m=n[v],_=n[v+1];m<o&&(o=m),_<l&&(l=_),m>f&&(f=m),_>h&&(h=_)}c=Math.max(f-o,h-l),c=c!==0?32767/c:0}return m1(s,a,t,o,l,c,0),a}function Yk(n,e,t,i,r){let s;if(r===qj(n,e,t,i)>0)for(let a=e;a<t;a+=i)s=jP(a/i|0,n[a],n[a+1],s);else for(let a=t-i;a>=e;a-=i)s=jP(a/i|0,n[a],n[a+1],s);return s&&Z0(s,s.next)&&(v1(s),s=s.next),s}function Xg(n,e){if(!n)return n;e||(e=n);let t=n,i;do if(i=!1,!t.steiner&&(Z0(t,t.next)||Ha(t.prev,t,t.next)===0)){if(v1(t),t=e=t.prev,t===t.next)break;i=!0}else t=t.next;while(i||t!==e);return e}function m1(n,e,t,i,r,s,a){if(!n)return;!a&&s&&Hj(n,i,r,s);let o=n;for(;n.prev!==n.next;){const l=n.prev,c=n.next;if(s?Dj(n,i,r,s):Ij(n)){e.push(l.i,n.i,c.i),v1(n),n=c.next,o=c.next;continue}if(n=c,n===o){a?a===1?(n=Nj(Xg(n),e),m1(n,e,t,i,r,s,2)):a===2&&Fj(n,e,t,i,r,s):m1(Xg(n),e,t,i,r,s,1);break}}}function Ij(n){const e=n.prev,t=n,i=n.next;if(Ha(e,t,i)>=0)return!1;const r=e.x,s=t.x,a=i.x,o=e.y,l=t.y,c=i.y,f=Math.min(r,s,a),h=Math.min(o,l,c),v=Math.max(r,s,a),m=Math.max(o,l,c);let _=i.next;for(;_!==e;){if(_.x>=f&&_.x<=v&&_.y>=h&&_.y<=m&&R_(r,o,s,l,a,c,_.x,_.y)&&Ha(_.prev,_,_.next)>=0)return!1;_=_.next}return!0}function Dj(n,e,t,i){const r=n.prev,s=n,a=n.next;if(Ha(r,s,a)>=0)return!1;const o=r.x,l=s.x,c=a.x,f=r.y,h=s.y,v=a.y,m=Math.min(o,l,c),_=Math.min(f,h,v),g=Math.max(o,l,c),y=Math.max(f,h,v),u=xM(m,_,e,t,i),b=xM(g,y,e,t,i);let S=n.prevZ,T=n.nextZ;for(;S&&S.z>=u&&T&&T.z<=b;){if(S.x>=m&&S.x<=g&&S.y>=_&&S.y<=y&&S!==r&&S!==a&&R_(o,f,l,h,c,v,S.x,S.y)&&Ha(S.prev,S,S.next)>=0||(S=S.prevZ,T.x>=m&&T.x<=g&&T.y>=_&&T.y<=y&&T!==r&&T!==a&&R_(o,f,l,h,c,v,T.x,T.y)&&Ha(T.prev,T,T.next)>=0))return!1;T=T.nextZ}for(;S&&S.z>=u;){if(S.x>=m&&S.x<=g&&S.y>=_&&S.y<=y&&S!==r&&S!==a&&R_(o,f,l,h,c,v,S.x,S.y)&&Ha(S.prev,S,S.next)>=0)return!1;S=S.prevZ}for(;T&&T.z<=b;){if(T.x>=m&&T.x<=g&&T.y>=_&&T.y<=y&&T!==r&&T!==a&&R_(o,f,l,h,c,v,T.x,T.y)&&Ha(T.prev,T,T.next)>=0)return!1;T=T.nextZ}return!0}function Nj(n,e){let t=n;do{const i=t.prev,r=t.next.next;!Z0(i,r)&&Zk(i,t,t.next,r)&&g1(i,r)&&g1(r,i)&&(e.push(i.i,t.i,r.i),v1(t),v1(t.next),t=n=r),t=t.next}while(t!==n);return Xg(t)}function Fj(n,e,t,i,r,s){let a=n;do{let o=a.next.next;for(;o!==a.prev;){if(a.i!==o.i&&Wj(a,o)){let l=Qk(a,o);a=Xg(a,a.next),l=Xg(l,l.next),m1(a,e,t,i,r,s,0),m1(l,e,t,i,r,s,0);return}o=o.next}a=a.next}while(a!==n)}function Uj(n,e,t,i){const r=[];for(let s=0,a=e.length;s<a;s++){const o=e[s]*i,l=s<a-1?e[s+1]*i:n.length,c=Yk(n,o,l,i,!1);c===c.next&&(c.steiner=!0),r.push(Vj(c))}r.sort(kj);for(let s=0;s<r.length;s++)t=Bj(r[s],t);return t}function kj(n,e){let t=n.x-e.x;if(t===0&&(t=n.y-e.y,t===0)){const i=(n.next.y-n.y)/(n.next.x-n.x),r=(e.next.y-e.y)/(e.next.x-e.x);t=i-r}return t}function Bj(n,e){const t=zj(n,e);if(!t)return e;const i=Qk(t,n);return Xg(i,i.next),Xg(t,t.next)}function zj(n,e){let t=e;const i=n.x,r=n.y;let s=-1/0,a;if(Z0(n,t))return t;do{if(Z0(n,t.next))return t.next;if(r<=t.y&&r>=t.next.y&&t.next.y!==t.y){const h=t.x+(r-t.y)*(t.next.x-t.x)/(t.next.y-t.y);if(h<=i&&h>s&&(s=h,a=t.x<t.next.x?t:t.next,h===i))return a}t=t.next}while(t!==e);if(!a)return null;const o=a,l=a.x,c=a.y;let f=1/0;t=a;do{if(i>=t.x&&t.x>=l&&i!==t.x&&Kk(r<c?i:s,r,l,c,r<c?s:i,r,t.x,t.y)){const h=Math.abs(r-t.y)/(i-t.x);g1(t,n)&&(h<f||h===f&&(t.x>a.x||t.x===a.x&&Gj(a,t)))&&(a=t,f=h)}t=t.next}while(t!==o);return a}function Gj(n,e){return Ha(n.prev,n,e.prev)<0&&Ha(e.next,n,n.next)<0}function Hj(n,e,t,i){let r=n;do r.z===0&&(r.z=xM(r.x,r.y,e,t,i)),r.prevZ=r.prev,r.nextZ=r.next,r=r.next;while(r!==n);r.prevZ.nextZ=null,r.prevZ=null,$j(r)}function $j(n){let e,t=1;do{let i=n,r;n=null;let s=null;for(e=0;i;){e++;let a=i,o=0;for(let c=0;c<t&&(o++,a=a.nextZ,!!a);c++);let l=t;for(;o>0||l>0&&a;)o!==0&&(l===0||!a||i.z<=a.z)?(r=i,i=i.nextZ,o--):(r=a,a=a.nextZ,l--),s?s.nextZ=r:n=r,r.prevZ=s,s=r;i=a}s.nextZ=null,t*=2}while(e>1);return n}function xM(n,e,t,i,r){return n=(n-t)*r|0,e=(e-i)*r|0,n=(n|n<<8)&16711935,n=(n|n<<4)&252645135,n=(n|n<<2)&858993459,n=(n|n<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,n|e<<1}function Vj(n){let e=n,t=n;do(e.x<t.x||e.x===t.x&&e.y<t.y)&&(t=e),e=e.next;while(e!==n);return t}function Kk(n,e,t,i,r,s,a,o){return(r-a)*(e-o)>=(n-a)*(s-o)&&(n-a)*(i-o)>=(t-a)*(e-o)&&(t-a)*(s-o)>=(r-a)*(i-o)}function R_(n,e,t,i,r,s,a,o){return!(n===a&&e===o)&&Kk(n,e,t,i,r,s,a,o)}function Wj(n,e){return n.next.i!==e.i&&n.prev.i!==e.i&&!jj(n,e)&&(g1(n,e)&&g1(e,n)&&Xj(n,e)&&(Ha(n.prev,n,e.prev)||Ha(n,e.prev,e))||Z0(n,e)&&Ha(n.prev,n,n.next)>0&&Ha(e.prev,e,e.next)>0)}function Ha(n,e,t){return(e.y-n.y)*(t.x-e.x)-(e.x-n.x)*(t.y-e.y)}function Z0(n,e){return n.x===e.x&&n.y===e.y}function Zk(n,e,t,i){const r=Ix(Ha(n,e,t)),s=Ix(Ha(n,e,i)),a=Ix(Ha(t,i,n)),o=Ix(Ha(t,i,e));return!!(r!==s&&a!==o||r===0&&Px(n,t,e)||s===0&&Px(n,i,e)||a===0&&Px(t,n,i)||o===0&&Px(t,e,i))}function Px(n,e,t){return e.x<=Math.max(n.x,t.x)&&e.x>=Math.min(n.x,t.x)&&e.y<=Math.max(n.y,t.y)&&e.y>=Math.min(n.y,t.y)}function Ix(n){return n>0?1:n<0?-1:0}function jj(n,e){let t=n;do{if(t.i!==n.i&&t.next.i!==n.i&&t.i!==e.i&&t.next.i!==e.i&&Zk(t,t.next,n,e))return!0;t=t.next}while(t!==n);return!1}function g1(n,e){return Ha(n.prev,n,n.next)<0?Ha(n,e,n.next)>=0&&Ha(n,n.prev,e)>=0:Ha(n,e,n.prev)<0||Ha(n,n.next,e)<0}function Xj(n,e){let t=n,i=!1;const r=(n.x+e.x)/2,s=(n.y+e.y)/2;do t.y>s!=t.next.y>s&&t.next.y!==t.y&&r<(t.next.x-t.x)*(s-t.y)/(t.next.y-t.y)+t.x&&(i=!i),t=t.next;while(t!==n);return i}function Qk(n,e){const t=SM(n.i,n.x,n.y),i=SM(e.i,e.x,e.y),r=n.next,s=e.prev;return n.next=e,e.prev=n,t.next=r,r.prev=t,i.next=t,t.prev=i,s.next=i,i.prev=s,i}function jP(n,e,t,i){const r=SM(n,e,t);return i?(r.next=i.next,r.prev=i,i.next.prev=r,i.next=r):(r.prev=r,r.next=r),r}function v1(n){n.next.prev=n.prev,n.prev.next=n.next,n.prevZ&&(n.prevZ.nextZ=n.nextZ),n.nextZ&&(n.nextZ.prevZ=n.prevZ)}function SM(n,e,t){return{i:n,x:e,y:t,prev:null,next:null,z:0,prevZ:null,nextZ:null,steiner:!1}}function qj(n,e,t,i){let r=0;for(let s=e,a=t-i;s<t;s+=i)r+=(n[a]-n[s])*(n[s+1]+n[a+1]),a=s;return r}class Yj{static triangulate(e,t,i=2){return Pj(e,t,i)}}class Bh{static area(e){const t=e.length;let i=0;for(let r=t-1,s=0;s<t;r=s++)i+=e[r].x*e[s].y-e[s].x*e[r].y;return i*.5}static isClockWise(e){return Bh.area(e)<0}static triangulateShape(e,t){const i=[],r=[],s=[];XP(e),qP(i,e);let a=e.length;t.forEach(XP);for(let l=0;l<t.length;l++)r.push(a),a+=t[l].length,qP(i,t[l]);const o=Yj.triangulate(i,r);for(let l=0;l<o.length;l+=3)s.push(o.slice(l,l+3));return s}}function XP(n){const e=n.length;e>2&&n[e-1].equals(n[0])&&n.pop()}function qP(n,e){for(let t=0;t<e.length;t++)n.push(e[t].x),n.push(e[t].y)}class iC extends xr{constructor(e=new zg([new ln(.5,.5),new ln(-.5,.5),new ln(-.5,-.5),new ln(.5,-.5)]),t={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:t},e=Array.isArray(e)?e:[e];const i=this,r=[],s=[];for(let o=0,l=e.length;o<l;o++){const c=e[o];a(c)}this.setAttribute("position",new mi(r,3)),this.setAttribute("uv",new mi(s,2)),this.computeVertexNormals();function a(o){const l=[],c=t.curveSegments!==void 0?t.curveSegments:12,f=t.steps!==void 0?t.steps:1,h=t.depth!==void 0?t.depth:1;let v=t.bevelEnabled!==void 0?t.bevelEnabled:!0,m=t.bevelThickness!==void 0?t.bevelThickness:.2,_=t.bevelSize!==void 0?t.bevelSize:m-.1,g=t.bevelOffset!==void 0?t.bevelOffset:0,y=t.bevelSegments!==void 0?t.bevelSegments:3;const u=t.extrudePath,b=t.UVGenerator!==void 0?t.UVGenerator:Kj;let S,T=!1,R,O,C,I;u&&(S=u.getSpacedPoints(f),T=!0,v=!1,R=u.computeFrenetFrames(f,!1),O=new Oe,C=new Oe,I=new Oe),v||(y=0,m=0,_=0,g=0);const F=o.extractPoints(c);let M=F.shape;const D=F.holes;if(!Bh.isClockWise(M)){M=M.reverse();for(let Me=0,yt=D.length;Me<yt;Me++){const mt=D[Me];Bh.isClockWise(mt)&&(D[Me]=mt.reverse())}}function j(Me){const mt=10000000000000001e-36;let St=Me[0];for(let nt=1;nt<=Me.length;nt++){const Ft=nt%Me.length,qe=Me[Ft],Ke=qe.x-St.x,Et=qe.y-St.y,ye=Ke*Ke+Et*Et,me=Math.max(Math.abs(qe.x),Math.abs(qe.y),Math.abs(St.x),Math.abs(St.y)),Le=mt*me*me;if(ye<=Le){Me.splice(Ft,1),nt--;continue}St=qe}}j(M),D.forEach(j);const U=D.length,V=M;for(let Me=0;Me<U;Me++){const yt=D[Me];M=M.concat(yt)}function k(Me,yt,mt){return yt||console.error("THREE.ExtrudeGeometry: vec does not exist"),Me.clone().addScaledVector(yt,mt)}const Z=M.length;function ee(Me,yt,mt){let St,nt,Ft;const qe=Me.x-yt.x,Ke=Me.y-yt.y,Et=mt.x-Me.x,ye=mt.y-Me.y,me=qe*qe+Ke*Ke,Le=qe*ye-Ke*Et;if(Math.abs(Le)>Number.EPSILON){const it=Math.sqrt(me),Qe=Math.sqrt(Et*Et+ye*ye),et=yt.x-Ke/it,At=yt.y+qe/it,Gt=mt.x-ye/Qe,on=mt.y+Et/Qe,fn=((Gt-et)*ye-(on-At)*Et)/(qe*ye-Ke*Et);St=et+qe*fn-Me.x,nt=At+Ke*fn-Me.y;const xt=St*St+nt*nt;if(xt<=2)return new ln(St,nt);Ft=Math.sqrt(xt/2)}else{let it=!1;qe>Number.EPSILON?Et>Number.EPSILON&&(it=!0):qe<-Number.EPSILON?Et<-Number.EPSILON&&(it=!0):Math.sign(Ke)===Math.sign(ye)&&(it=!0),it?(St=-Ke,nt=qe,Ft=Math.sqrt(me)):(St=qe,nt=Ke,Ft=Math.sqrt(me/2))}return new ln(St/Ft,nt/Ft)}const oe=[];for(let Me=0,yt=V.length,mt=yt-1,St=Me+1;Me<yt;Me++,mt++,St++)mt===yt&&(mt=0),St===yt&&(St=0),oe[Me]=ee(V[Me],V[mt],V[St]);const ne=[];let ie,he=oe.concat();for(let Me=0,yt=U;Me<yt;Me++){const mt=D[Me];ie=[];for(let St=0,nt=mt.length,Ft=nt-1,qe=St+1;St<nt;St++,Ft++,qe++)Ft===nt&&(Ft=0),qe===nt&&(qe=0),ie[St]=ee(mt[St],mt[Ft],mt[qe]);ne.push(ie),he=he.concat(ie)}let fe;if(y===0)fe=Bh.triangulateShape(V,D);else{const Me=[],yt=[];for(let mt=0;mt<y;mt++){const St=mt/y,nt=m*Math.cos(St*Math.PI/2),Ft=_*Math.sin(St*Math.PI/2)+g;for(let qe=0,Ke=V.length;qe<Ke;qe++){const Et=k(V[qe],oe[qe],Ft);Fe(Et.x,Et.y,-nt),St===0&&Me.push(Et)}for(let qe=0,Ke=U;qe<Ke;qe++){const Et=D[qe];ie=ne[qe];const ye=[];for(let me=0,Le=Et.length;me<Le;me++){const it=k(Et[me],ie[me],Ft);Fe(it.x,it.y,-nt),St===0&&ye.push(it)}St===0&&yt.push(ye)}}fe=Bh.triangulateShape(Me,yt)}const ce=fe.length,ae=_+g;for(let Me=0;Me<Z;Me++){const yt=v?k(M[Me],he[Me],ae):M[Me];T?(C.copy(R.normals[0]).multiplyScalar(yt.x),O.copy(R.binormals[0]).multiplyScalar(yt.y),I.copy(S[0]).add(C).add(O),Fe(I.x,I.y,I.z)):Fe(yt.x,yt.y,0)}for(let Me=1;Me<=f;Me++)for(let yt=0;yt<Z;yt++){const mt=v?k(M[yt],he[yt],ae):M[yt];T?(C.copy(R.normals[Me]).multiplyScalar(mt.x),O.copy(R.binormals[Me]).multiplyScalar(mt.y),I.copy(S[Me]).add(C).add(O),Fe(I.x,I.y,I.z)):Fe(mt.x,mt.y,h/f*Me)}for(let Me=y-1;Me>=0;Me--){const yt=Me/y,mt=m*Math.cos(yt*Math.PI/2),St=_*Math.sin(yt*Math.PI/2)+g;for(let nt=0,Ft=V.length;nt<Ft;nt++){const qe=k(V[nt],oe[nt],St);Fe(qe.x,qe.y,h+mt)}for(let nt=0,Ft=D.length;nt<Ft;nt++){const qe=D[nt];ie=ne[nt];for(let Ke=0,Et=qe.length;Ke<Et;Ke++){const ye=k(qe[Ke],ie[Ke],St);T?Fe(ye.x,ye.y+S[f-1].y,S[f-1].x+mt):Fe(ye.x,ye.y,h+mt)}}}ve(),_e();function ve(){const Me=r.length/3;if(v){let yt=0,mt=Z*yt;for(let St=0;St<ce;St++){const nt=fe[St];We(nt[2]+mt,nt[1]+mt,nt[0]+mt)}yt=f+y*2,mt=Z*yt;for(let St=0;St<ce;St++){const nt=fe[St];We(nt[0]+mt,nt[1]+mt,nt[2]+mt)}}else{for(let yt=0;yt<ce;yt++){const mt=fe[yt];We(mt[2],mt[1],mt[0])}for(let yt=0;yt<ce;yt++){const mt=fe[yt];We(mt[0]+Z*f,mt[1]+Z*f,mt[2]+Z*f)}}i.addGroup(Me,r.length/3-Me,0)}function _e(){const Me=r.length/3;let yt=0;Te(V,yt),yt+=V.length;for(let mt=0,St=D.length;mt<St;mt++){const nt=D[mt];Te(nt,yt),yt+=nt.length}i.addGroup(Me,r.length/3-Me,1)}function Te(Me,yt){let mt=Me.length;for(;--mt>=0;){const St=mt;let nt=mt-1;nt<0&&(nt=Me.length-1);for(let Ft=0,qe=f+y*2;Ft<qe;Ft++){const Ke=Z*Ft,Et=Z*(Ft+1),ye=yt+St+Ke,me=yt+nt+Ke,Le=yt+nt+Et,it=yt+St+Et;ht(ye,me,Le,it)}}}function Fe(Me,yt,mt){l.push(Me),l.push(yt),l.push(mt)}function We(Me,yt,mt){ft(Me),ft(yt),ft(mt);const St=r.length/3,nt=b.generateTopUV(i,r,St-3,St-2,St-1);Bt(nt[0]),Bt(nt[1]),Bt(nt[2])}function ht(Me,yt,mt,St){ft(Me),ft(yt),ft(St),ft(yt),ft(mt),ft(St);const nt=r.length/3,Ft=b.generateSideWallUV(i,r,nt-6,nt-3,nt-2,nt-1);Bt(Ft[0]),Bt(Ft[1]),Bt(Ft[3]),Bt(Ft[1]),Bt(Ft[2]),Bt(Ft[3])}function ft(Me){r.push(l[Me*3+0]),r.push(l[Me*3+1]),r.push(l[Me*3+2])}function Bt(Me){s.push(Me.x),s.push(Me.y)}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),t=this.parameters.shapes,i=this.parameters.options;return Zj(t,i,e)}static fromJSON(e,t){const i=[];for(let s=0,a=e.shapes.length;s<a;s++){const o=t[e.shapes[s]];i.push(o)}const r=e.options.extrudePath;return r!==void 0&&(e.options.extrudePath=new Bw[r.type]().fromJSON(r)),new iC(i,e.options)}}const Kj={generateTopUV:function(n,e,t,i,r){const s=e[t*3],a=e[t*3+1],o=e[i*3],l=e[i*3+1],c=e[r*3],f=e[r*3+1];return[new ln(s,a),new ln(o,l),new ln(c,f)]},generateSideWallUV:function(n,e,t,i,r,s){const a=e[t*3],o=e[t*3+1],l=e[t*3+2],c=e[i*3],f=e[i*3+1],h=e[i*3+2],v=e[r*3],m=e[r*3+1],_=e[r*3+2],g=e[s*3],y=e[s*3+1],u=e[s*3+2];return Math.abs(o-f)<Math.abs(a-c)?[new ln(a,1-l),new ln(c,1-h),new ln(v,1-_),new ln(g,1-u)]:[new ln(o,1-l),new ln(f,1-h),new ln(m,1-_),new ln(y,1-u)]}};function Zj(n,e,t){if(t.shapes=[],Array.isArray(n))for(let i=0,r=n.length;i<r;i++){const s=n[i];t.shapes.push(s.uuid)}else t.shapes.push(n.uuid);return t.options=Object.assign({},e),e.extrudePath!==void 0&&(t.options.extrudePath=e.extrudePath.toJSON()),t}class V1 extends bm{constructor(e=1,t=0){const i=(1+Math.sqrt(5))/2,r=[-1,i,0,1,i,0,-1,-i,0,1,-i,0,0,-1,i,0,1,i,0,-1,-i,0,1,-i,i,0,-1,i,0,1,-i,0,-1,-i,0,1],s=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(r,s,e,t),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new V1(e.radius,e.detail)}}class rC extends xr{constructor(e=[new ln(0,-.5),new ln(.5,0),new ln(0,.5)],t=12,i=0,r=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:e,segments:t,phiStart:i,phiLength:r},t=Math.floor(t),r=dr(r,0,Math.PI*2);const s=[],a=[],o=[],l=[],c=[],f=1/t,h=new Oe,v=new ln,m=new Oe,_=new Oe,g=new Oe;let y=0,u=0;for(let b=0;b<=e.length-1;b++)switch(b){case 0:y=e[b+1].x-e[b].x,u=e[b+1].y-e[b].y,m.x=u*1,m.y=-y,m.z=u*0,g.copy(m),m.normalize(),l.push(m.x,m.y,m.z);break;case e.length-1:l.push(g.x,g.y,g.z);break;default:y=e[b+1].x-e[b].x,u=e[b+1].y-e[b].y,m.x=u*1,m.y=-y,m.z=u*0,_.copy(m),m.x+=g.x,m.y+=g.y,m.z+=g.z,m.normalize(),l.push(m.x,m.y,m.z),g.copy(_)}for(let b=0;b<=t;b++){const S=i+b*f*r,T=Math.sin(S),R=Math.cos(S);for(let O=0;O<=e.length-1;O++){h.x=e[O].x*T,h.y=e[O].y,h.z=e[O].x*R,a.push(h.x,h.y,h.z),v.x=b/t,v.y=O/(e.length-1),o.push(v.x,v.y);const C=l[3*O+0]*T,I=l[3*O+1],F=l[3*O+0]*R;c.push(C,I,F)}}for(let b=0;b<t;b++)for(let S=0;S<e.length-1;S++){const T=S+b*e.length,R=T,O=T+e.length,C=T+e.length+1,I=T+1;s.push(R,O,I),s.push(C,I,O)}this.setIndex(s),this.setAttribute("position",new mi(a,3)),this.setAttribute("uv",new mi(o,2)),this.setAttribute("normal",new mi(c,3))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new rC(e.points,e.segments,e.phiStart,e.phiLength)}}class W1 extends bm{constructor(e=1,t=0){const i=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],r=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(i,r,e,t),this.type="OctahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new W1(e.radius,e.detail)}}class Zh extends xr{constructor(e=1,t=1,i=1,r=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:i,heightSegments:r};const s=e/2,a=t/2,o=Math.floor(i),l=Math.floor(r),c=o+1,f=l+1,h=e/o,v=t/l,m=[],_=[],g=[],y=[];for(let u=0;u<f;u++){const b=u*v-a;for(let S=0;S<c;S++){const T=S*h-s;_.push(T,-b,0),g.push(0,0,1),y.push(S/o),y.push(1-u/l)}}for(let u=0;u<l;u++)for(let b=0;b<o;b++){const S=b+c*u,T=b+c*(u+1),R=b+1+c*(u+1),O=b+1+c*u;m.push(S,T,O),m.push(T,R,O)}this.setIndex(m),this.setAttribute("position",new mi(_,3)),this.setAttribute("normal",new mi(g,3)),this.setAttribute("uv",new mi(y,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Zh(e.width,e.height,e.widthSegments,e.heightSegments)}}class sC extends xr{constructor(e=.5,t=1,i=32,r=1,s=0,a=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:i,phiSegments:r,thetaStart:s,thetaLength:a},i=Math.max(3,i),r=Math.max(1,r);const o=[],l=[],c=[],f=[];let h=e;const v=(t-e)/r,m=new Oe,_=new ln;for(let g=0;g<=r;g++){for(let y=0;y<=i;y++){const u=s+y/i*a;m.x=h*Math.cos(u),m.y=h*Math.sin(u),l.push(m.x,m.y,m.z),c.push(0,0,1),_.x=(m.x/t+1)/2,_.y=(m.y/t+1)/2,f.push(_.x,_.y)}h+=v}for(let g=0;g<r;g++){const y=g*(i+1);for(let u=0;u<i;u++){const b=u+y,S=b,T=b+i+1,R=b+i+2,O=b+1;o.push(S,T,O),o.push(T,R,O)}}this.setIndex(o),this.setAttribute("position",new mi(l,3)),this.setAttribute("normal",new mi(c,3)),this.setAttribute("uv",new mi(f,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new sC(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class aC extends xr{constructor(e=new zg([new ln(0,.5),new ln(-.5,-.5),new ln(.5,-.5)]),t=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:t};const i=[],r=[],s=[],a=[];let o=0,l=0;if(Array.isArray(e)===!1)c(e);else for(let f=0;f<e.length;f++)c(e[f]),this.addGroup(o,l,f),o+=l,l=0;this.setIndex(i),this.setAttribute("position",new mi(r,3)),this.setAttribute("normal",new mi(s,3)),this.setAttribute("uv",new mi(a,2));function c(f){const h=r.length/3,v=f.extractPoints(t);let m=v.shape;const _=v.holes;Bh.isClockWise(m)===!1&&(m=m.reverse());for(let y=0,u=_.length;y<u;y++){const b=_[y];Bh.isClockWise(b)===!0&&(_[y]=b.reverse())}const g=Bh.triangulateShape(m,_);for(let y=0,u=_.length;y<u;y++){const b=_[y];m=m.concat(b)}for(let y=0,u=m.length;y<u;y++){const b=m[y];r.push(b.x,b.y,0),s.push(0,0,1),a.push(b.x,b.y)}for(let y=0,u=g.length;y<u;y++){const b=g[y],S=b[0]+h,T=b[1]+h,R=b[2]+h;i.push(S,T,R),l+=3}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),t=this.parameters.shapes;return Qj(t,e)}static fromJSON(e,t){const i=[];for(let r=0,s=e.shapes.length;r<s;r++){const a=t[e.shapes[r]];i.push(a)}return new aC(i,e.curveSegments)}}function Qj(n,e){if(e.shapes=[],Array.isArray(n))for(let t=0,i=n.length;t<i;t++){const r=n[t];e.shapes.push(r.uuid)}else e.shapes.push(n.uuid);return e}class j1 extends xr{constructor(e=1,t=32,i=16,r=0,s=Math.PI*2,a=0,o=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:i,phiStart:r,phiLength:s,thetaStart:a,thetaLength:o},t=Math.max(3,Math.floor(t)),i=Math.max(2,Math.floor(i));const l=Math.min(a+o,Math.PI);let c=0;const f=[],h=new Oe,v=new Oe,m=[],_=[],g=[],y=[];for(let u=0;u<=i;u++){const b=[],S=u/i;let T=0;u===0&&a===0?T=.5/t:u===i&&l===Math.PI&&(T=-.5/t);for(let R=0;R<=t;R++){const O=R/t;h.x=-e*Math.cos(r+O*s)*Math.sin(a+S*o),h.y=e*Math.cos(a+S*o),h.z=e*Math.sin(r+O*s)*Math.sin(a+S*o),_.push(h.x,h.y,h.z),v.copy(h).normalize(),g.push(v.x,v.y,v.z),y.push(O+T,1-S),b.push(c++)}f.push(b)}for(let u=0;u<i;u++)for(let b=0;b<t;b++){const S=f[u][b+1],T=f[u][b],R=f[u+1][b],O=f[u+1][b+1];(u!==0||a>0)&&m.push(S,T,O),(u!==i-1||l<Math.PI)&&m.push(T,R,O)}this.setIndex(m),this.setAttribute("position",new mi(_,3)),this.setAttribute("normal",new mi(g,3)),this.setAttribute("uv",new mi(y,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new j1(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class oC extends bm{constructor(e=1,t=0){const i=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],r=[2,1,0,0,3,2,1,3,0,2,3,1];super(i,r,e,t),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new oC(e.radius,e.detail)}}class lC extends xr{constructor(e=1,t=.4,i=12,r=48,s=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:t,radialSegments:i,tubularSegments:r,arc:s},i=Math.floor(i),r=Math.floor(r);const a=[],o=[],l=[],c=[],f=new Oe,h=new Oe,v=new Oe;for(let m=0;m<=i;m++)for(let _=0;_<=r;_++){const g=_/r*s,y=m/i*Math.PI*2;h.x=(e+t*Math.cos(y))*Math.cos(g),h.y=(e+t*Math.cos(y))*Math.sin(g),h.z=t*Math.sin(y),o.push(h.x,h.y,h.z),f.x=e*Math.cos(g),f.y=e*Math.sin(g),v.subVectors(h,f).normalize(),l.push(v.x,v.y,v.z),c.push(_/r),c.push(m/i)}for(let m=1;m<=i;m++)for(let _=1;_<=r;_++){const g=(r+1)*m+_-1,y=(r+1)*(m-1)+_-1,u=(r+1)*(m-1)+_,b=(r+1)*m+_;a.push(g,y,b),a.push(y,u,b)}this.setIndex(a),this.setAttribute("position",new mi(o,3)),this.setAttribute("normal",new mi(l,3)),this.setAttribute("uv",new mi(c,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new lC(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class cC extends xr{constructor(e=1,t=.4,i=64,r=8,s=2,a=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:t,tubularSegments:i,radialSegments:r,p:s,q:a},i=Math.floor(i),r=Math.floor(r);const o=[],l=[],c=[],f=[],h=new Oe,v=new Oe,m=new Oe,_=new Oe,g=new Oe,y=new Oe,u=new Oe;for(let S=0;S<=i;++S){const T=S/i*s*Math.PI*2;b(T,s,a,e,m),b(T+.01,s,a,e,_),y.subVectors(_,m),u.addVectors(_,m),g.crossVectors(y,u),u.crossVectors(g,y),g.normalize(),u.normalize();for(let R=0;R<=r;++R){const O=R/r*Math.PI*2,C=-t*Math.cos(O),I=t*Math.sin(O);h.x=m.x+(C*u.x+I*g.x),h.y=m.y+(C*u.y+I*g.y),h.z=m.z+(C*u.z+I*g.z),l.push(h.x,h.y,h.z),v.subVectors(h,m).normalize(),c.push(v.x,v.y,v.z),f.push(S/i),f.push(R/r)}}for(let S=1;S<=i;S++)for(let T=1;T<=r;T++){const R=(r+1)*(S-1)+(T-1),O=(r+1)*S+(T-1),C=(r+1)*S+T,I=(r+1)*(S-1)+T;o.push(R,O,I),o.push(O,C,I)}this.setIndex(o),this.setAttribute("position",new mi(l,3)),this.setAttribute("normal",new mi(c,3)),this.setAttribute("uv",new mi(f,2));function b(S,T,R,O,C){const I=Math.cos(S),F=Math.sin(S),M=R/T*S,D=Math.cos(M);C.x=O*(2+D)*.5*I,C.y=O*(2+D)*F*.5,C.z=O*Math.sin(M)*.5}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new cC(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class uC extends xr{constructor(e=new v3(new Oe(-1,-1,0),new Oe(-1,1,0),new Oe(1,1,0)),t=64,i=1,r=8,s=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:t,radius:i,radialSegments:r,closed:s};const a=e.computeFrenetFrames(t,s);this.tangents=a.tangents,this.normals=a.normals,this.binormals=a.binormals;const o=new Oe,l=new Oe,c=new ln;let f=new Oe;const h=[],v=[],m=[],_=[];g(),this.setIndex(_),this.setAttribute("position",new mi(h,3)),this.setAttribute("normal",new mi(v,3)),this.setAttribute("uv",new mi(m,2));function g(){for(let S=0;S<t;S++)y(S);y(s===!1?t:0),b(),u()}function y(S){f=e.getPointAt(S/t,f);const T=a.normals[S],R=a.binormals[S];for(let O=0;O<=r;O++){const C=O/r*Math.PI*2,I=Math.sin(C),F=-Math.cos(C);l.x=F*T.x+I*R.x,l.y=F*T.y+I*R.y,l.z=F*T.z+I*R.z,l.normalize(),v.push(l.x,l.y,l.z),o.x=f.x+i*l.x,o.y=f.y+i*l.y,o.z=f.z+i*l.z,h.push(o.x,o.y,o.z)}}function u(){for(let S=1;S<=t;S++)for(let T=1;T<=r;T++){const R=(r+1)*(S-1)+(T-1),O=(r+1)*S+(T-1),C=(r+1)*S+T,I=(r+1)*(S-1)+T;_.push(R,O,I),_.push(O,C,I)}}function b(){for(let S=0;S<=t;S++)for(let T=0;T<=r;T++)c.x=S/t,c.y=T/r,m.push(c.x,c.y)}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new uC(new Bw[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class _3 extends xr{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){const t=[],i=new Set,r=new Oe,s=new Oe;if(e.index!==null){const a=e.attributes.position,o=e.index;let l=e.groups;l.length===0&&(l=[{start:0,count:o.count,materialIndex:0}]);for(let c=0,f=l.length;c<f;++c){const h=l[c],v=h.start,m=h.count;for(let _=v,g=v+m;_<g;_+=3)for(let y=0;y<3;y++){const u=o.getX(_+y),b=o.getX(_+(y+1)%3);r.fromBufferAttribute(a,u),s.fromBufferAttribute(a,b),YP(r,s,i)===!0&&(t.push(r.x,r.y,r.z),t.push(s.x,s.y,s.z))}}}else{const a=e.attributes.position;for(let o=0,l=a.count/3;o<l;o++)for(let c=0;c<3;c++){const f=3*o+c,h=3*o+(c+1)%3;r.fromBufferAttribute(a,f),s.fromBufferAttribute(a,h),YP(r,s,i)===!0&&(t.push(r.x,r.y,r.z),t.push(s.x,s.y,s.z))}}this.setAttribute("position",new mi(t,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}function YP(n,e,t){const i=`${n.x},${n.y},${n.z}-${e.x},${e.y},${e.z}`,r=`${e.x},${e.y},${e.z}-${n.x},${n.y},${n.z}`;return t.has(i)===!0||t.has(r)===!0?!1:(t.add(i),t.add(r),!0)}var KP=Object.freeze({__proto__:null,BoxGeometry:tv,CapsuleGeometry:JE,CircleGeometry:eC,ConeGeometry:$1,CylinderGeometry:H1,DodecahedronGeometry:tC,EdgesGeometry:$k,ExtrudeGeometry:iC,IcosahedronGeometry:V1,LatheGeometry:rC,OctahedronGeometry:W1,PlaneGeometry:Zh,PolyhedronGeometry:bm,RingGeometry:sC,ShapeGeometry:aC,SphereGeometry:j1,TetrahedronGeometry:oC,TorusGeometry:lC,TorusKnotGeometry:cC,TubeGeometry:uC,WireframeGeometry:_3});class Jk extends jl{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new Zn(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class eB extends Ec{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class b3 extends jl{constructor(e){super(),this.isMeshStandardMaterial=!0,this.type="MeshStandardMaterial",this.defines={STANDARD:""},this.color=new Zn(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Zn(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=_m,this.normalScale=new ln(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Su,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class tB extends b3{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new ln(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return dr(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(t){this.ior=(1+.4*t)/(1-.4*t)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new Zn(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new Zn(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new Zn(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._dispersion=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(e)}get anisotropy(){return this._anisotropy}set anisotropy(e){this._anisotropy>0!=e>0&&this.version++,this._anisotropy=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get dispersion(){return this._dispersion}set dispersion(e){this._dispersion>0!=e>0&&this.version++,this._dispersion=e}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=e.anisotropy,this.anisotropyRotation=e.anisotropyRotation,this.anisotropyMap=e.anisotropyMap,this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.dispersion=e.dispersion,this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class nB extends jl{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new Zn(16777215),this.specular=new Zn(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Zn(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=_m,this.normalScale=new ln(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Su,this.combine=F1,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class iB extends jl{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new Zn(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Zn(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=_m,this.normalScale=new ln(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class rB extends jl{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=_m,this.normalScale=new ln(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class sB extends jl{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new Zn(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Zn(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=_m,this.normalScale=new ln(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Su,this.combine=F1,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class hC extends jl{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=_k,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class dC extends jl{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}class aB extends jl{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new Zn(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=_m,this.normalScale=new ln(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this.fog=e.fog,this}}class oB extends Tc{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}function Og(n,e){return!n||n.constructor===e?n:typeof e.BYTES_PER_ELEMENT=="number"?new e(n):Array.prototype.slice.call(n)}function lB(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}function cB(n){function e(r,s){return n[r]-n[s]}const t=n.length,i=new Array(t);for(let r=0;r!==t;++r)i[r]=r;return i.sort(e),i}function wM(n,e,t){const i=n.length,r=new n.constructor(i);for(let s=0,a=0;a!==i;++s){const o=t[s]*e;for(let l=0;l!==e;++l)r[a++]=n[o+l]}return r}function x3(n,e,t,i){let r=1,s=n[0];for(;s!==void 0&&s[i]===void 0;)s=n[r++];if(s===void 0)return;let a=s[i];if(a!==void 0)if(Array.isArray(a))do a=s[i],a!==void 0&&(e.push(s.time),t.push(...a)),s=n[r++];while(s!==void 0);else if(a.toArray!==void 0)do a=s[i],a!==void 0&&(e.push(s.time),a.toArray(t,t.length)),s=n[r++];while(s!==void 0);else do a=s[i],a!==void 0&&(e.push(s.time),t.push(a)),s=n[r++];while(s!==void 0)}function Jj(n,e,t,i,r=30){const s=n.clone();s.name=e;const a=[];for(let l=0;l<s.tracks.length;++l){const c=s.tracks[l],f=c.getValueSize(),h=[],v=[];for(let m=0;m<c.times.length;++m){const _=c.times[m]*r;if(!(_<t||_>=i)){h.push(c.times[m]);for(let g=0;g<f;++g)v.push(c.values[m*f+g])}}h.length!==0&&(c.times=Og(h,c.times.constructor),c.values=Og(v,c.values.constructor),a.push(c))}s.tracks=a;let o=1/0;for(let l=0;l<s.tracks.length;++l)o>s.tracks[l].times[0]&&(o=s.tracks[l].times[0]);for(let l=0;l<s.tracks.length;++l)s.tracks[l].shift(-1*o);return s.resetDuration(),s}function eX(n,e=0,t=n,i=30){i<=0&&(i=30);const r=t.tracks.length,s=e/i;for(let a=0;a<r;++a){const o=t.tracks[a],l=o.ValueTypeName;if(l==="bool"||l==="string")continue;const c=n.tracks.find(function(u){return u.name===o.name&&u.ValueTypeName===l});if(c===void 0)continue;let f=0;const h=o.getValueSize();o.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(f=h/3);let v=0;const m=c.getValueSize();c.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(v=m/3);const _=o.times.length-1;let g;if(s<=o.times[0]){const u=f,b=h-f;g=o.values.slice(u,b)}else if(s>=o.times[_]){const u=_*h+f,b=u+h-f;g=o.values.slice(u,b)}else{const u=o.createInterpolant(),b=f,S=h-f;u.evaluate(s),g=u.resultBuffer.slice(b,S)}l==="quaternion"&&new Fo().fromArray(g).normalize().conjugate().toArray(g);const y=c.times.length;for(let u=0;u<y;++u){const b=u*m+v;if(l==="quaternion")Fo.multiplyQuaternionsFlat(c.values,b,g,0,c.values,b);else{const S=m-v*2;for(let T=0;T<S;++T)c.values[b+T]-=g[T]}}}return n.blendMode=t3,n}class tX{static convertArray(e,t){return Og(e,t)}static isTypedArray(e){return lB(e)}static getKeyframeOrder(e){return cB(e)}static sortedArray(e,t,i){return wM(e,t,i)}static flattenJSON(e,t,i,r){x3(e,t,i,r)}static subclip(e,t,i,r,s=30){return Jj(e,t,i,r,s)}static makeClipAdditive(e,t=0,i=e,r=30){return eX(e,t,i,r)}}class X1{constructor(e,t,i,r){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=r!==void 0?r:new t.constructor(i),this.sampleValues=t,this.valueSize=i,this.settings=null,this.DefaultSettings_={}}evaluate(e){const t=this.parameterPositions;let i=this._cachedIndex,r=t[i],s=t[i-1];e:{t:{let a;n:{i:if(!(e<r)){for(let o=i+2;;){if(r===void 0){if(e<s)break i;return i=t.length,this._cachedIndex=i,this.copySampleValue_(i-1)}if(i===o)break;if(s=r,r=t[++i],e<r)break t}a=t.length;break n}if(!(e>=s)){const o=t[1];e<o&&(i=2,s=o);for(let l=i-2;;){if(s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(i===l)break;if(r=s,s=t[--i-1],e>=s)break t}a=i,i=0;break n}break e}for(;i<a;){const o=i+a>>>1;e<t[o]?a=o:i=o+1}if(r=t[i],s=t[i-1],s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(r===void 0)return i=t.length,this._cachedIndex=i,this.copySampleValue_(i-1)}this._cachedIndex=i,this.intervalChanged_(i,s,r)}return this.interpolate_(i,s,e,r)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const t=this.resultBuffer,i=this.sampleValues,r=this.valueSize,s=e*r;for(let a=0;a!==r;++a)t[a]=i[s+a];return t}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class uB extends X1{constructor(e,t,i,r){super(e,t,i,r),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:Ag,endingEnd:Ag}}intervalChanged_(e,t,i){const r=this.parameterPositions;let s=e-2,a=e+1,o=r[s],l=r[a];if(o===void 0)switch(this.getSettings_().endingStart){case Mg:s=e,o=2*t-i;break;case c1:s=r.length-2,o=t+r[s]-r[s+1];break;default:s=e,o=i}if(l===void 0)switch(this.getSettings_().endingEnd){case Mg:a=e,l=2*i-t;break;case c1:a=1,l=i+r[1]-r[0];break;default:a=e-1,l=t}const c=(i-t)*.5,f=this.valueSize;this._weightPrev=c/(t-o),this._weightNext=c/(l-i),this._offsetPrev=s*f,this._offsetNext=a*f}interpolate_(e,t,i,r){const s=this.resultBuffer,a=this.sampleValues,o=this.valueSize,l=e*o,c=l-o,f=this._offsetPrev,h=this._offsetNext,v=this._weightPrev,m=this._weightNext,_=(i-t)/(r-t),g=_*_,y=g*_,u=-v*y+2*v*g-v*_,b=(1+v)*y+(-1.5-2*v)*g+(-.5+v)*_+1,S=(-1-m)*y+(1.5+m)*g+.5*_,T=m*y-m*g;for(let R=0;R!==o;++R)s[R]=u*a[f+R]+b*a[c+R]+S*a[l+R]+T*a[h+R];return s}}class S3 extends X1{constructor(e,t,i,r){super(e,t,i,r)}interpolate_(e,t,i,r){const s=this.resultBuffer,a=this.sampleValues,o=this.valueSize,l=e*o,c=l-o,f=(i-t)/(r-t),h=1-f;for(let v=0;v!==o;++v)s[v]=a[c+v]*h+a[l+v]*f;return s}}class hB extends X1{constructor(e,t,i,r){super(e,t,i,r)}interpolate_(e){return this.copySampleValue_(e-1)}}class lh{constructor(e,t,i,r){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(t===void 0||t.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=Og(t,this.TimeBufferType),this.values=Og(i,this.ValueBufferType),this.setInterpolation(r||this.DefaultInterpolation)}static toJSON(e){const t=e.constructor;let i;if(t.toJSON!==this.toJSON)i=t.toJSON(e);else{i={name:e.name,times:Og(e.times,Array),values:Og(e.values,Array)};const r=e.getInterpolation();r!==e.DefaultInterpolation&&(i.interpolation=r)}return i.type=e.ValueTypeName,i}InterpolantFactoryMethodDiscrete(e){return new hB(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new S3(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new uB(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let t;switch(e){case l1:t=this.InterpolantFactoryMethodDiscrete;break;case Fw:t=this.InterpolantFactoryMethodLinear;break;case US:t=this.InterpolantFactoryMethodSmooth;break}if(t===void 0){const i="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(i);return console.warn("THREE.KeyframeTrack:",i),this}return this.createInterpolant=t,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return l1;case this.InterpolantFactoryMethodLinear:return Fw;case this.InterpolantFactoryMethodSmooth:return US}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const t=this.times;for(let i=0,r=t.length;i!==r;++i)t[i]+=e}return this}scale(e){if(e!==1){const t=this.times;for(let i=0,r=t.length;i!==r;++i)t[i]*=e}return this}trim(e,t){const i=this.times,r=i.length;let s=0,a=r-1;for(;s!==r&&i[s]<e;)++s;for(;a!==-1&&i[a]>t;)--a;if(++a,s!==0||a!==r){s>=a&&(a=Math.max(a,1),s=a-1);const o=this.getValueSize();this.times=i.slice(s,a),this.values=this.values.slice(s*o,a*o)}return this}validate(){let e=!0;const t=this.getValueSize();t-Math.floor(t)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const i=this.times,r=this.values,s=i.length;s===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let a=null;for(let o=0;o!==s;o++){const l=i[o];if(typeof l=="number"&&isNaN(l)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,o,l),e=!1;break}if(a!==null&&a>l){console.error("THREE.KeyframeTrack: Out of order keys.",this,o,l,a),e=!1;break}a=l}if(r!==void 0&&lB(r))for(let o=0,l=r.length;o!==l;++o){const c=r[o];if(isNaN(c)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,o,c),e=!1;break}}return e}optimize(){const e=this.times.slice(),t=this.values.slice(),i=this.getValueSize(),r=this.getInterpolation()===US,s=e.length-1;let a=1;for(let o=1;o<s;++o){let l=!1;const c=e[o],f=e[o+1];if(c!==f&&(o!==1||c!==e[0]))if(r)l=!0;else{const h=o*i,v=h-i,m=h+i;for(let _=0;_!==i;++_){const g=t[h+_];if(g!==t[v+_]||g!==t[m+_]){l=!0;break}}}if(l){if(o!==a){e[a]=e[o];const h=o*i,v=a*i;for(let m=0;m!==i;++m)t[v+m]=t[h+m]}++a}}if(s>0){e[a]=e[s];for(let o=s*i,l=a*i,c=0;c!==i;++c)t[l+c]=t[o+c];++a}return a!==e.length?(this.times=e.slice(0,a),this.values=t.slice(0,a*i)):(this.times=e,this.values=t),this}clone(){const e=this.times.slice(),t=this.values.slice(),i=this.constructor,r=new i(this.name,e,t);return r.createInterpolant=this.createInterpolant,r}}lh.prototype.ValueTypeName="";lh.prototype.TimeBufferType=Float32Array;lh.prototype.ValueBufferType=Float32Array;lh.prototype.DefaultInterpolation=Fw;class nv extends lh{constructor(e,t,i){super(e,t,i)}}nv.prototype.ValueTypeName="bool";nv.prototype.ValueBufferType=Array;nv.prototype.DefaultInterpolation=l1;nv.prototype.InterpolantFactoryMethodLinear=void 0;nv.prototype.InterpolantFactoryMethodSmooth=void 0;class w3 extends lh{constructor(e,t,i,r){super(e,t,i,r)}}w3.prototype.ValueTypeName="color";class y1 extends lh{constructor(e,t,i,r){super(e,t,i,r)}}y1.prototype.ValueTypeName="number";class dB extends X1{constructor(e,t,i,r){super(e,t,i,r)}interpolate_(e,t,i,r){const s=this.resultBuffer,a=this.sampleValues,o=this.valueSize,l=(i-t)/(r-t);let c=e*o;for(let f=c+o;c!==f;c+=4)Fo.slerpFlat(s,0,a,c-o,a,c,l);return s}}class q1 extends lh{constructor(e,t,i,r){super(e,t,i,r)}InterpolantFactoryMethodLinear(e){return new dB(this.times,this.values,this.getValueSize(),e)}}q1.prototype.ValueTypeName="quaternion";q1.prototype.InterpolantFactoryMethodSmooth=void 0;class iv extends lh{constructor(e,t,i){super(e,t,i)}}iv.prototype.ValueTypeName="string";iv.prototype.ValueBufferType=Array;iv.prototype.DefaultInterpolation=l1;iv.prototype.InterpolantFactoryMethodLinear=void 0;iv.prototype.InterpolantFactoryMethodSmooth=void 0;class _1 extends lh{constructor(e,t,i,r){super(e,t,i,r)}}_1.prototype.ValueTypeName="vector";class b1{constructor(e="",t=-1,i=[],r=HE){this.name=e,this.tracks=i,this.duration=t,this.blendMode=r,this.uuid=_u(),this.duration<0&&this.resetDuration()}static parse(e){const t=[],i=e.tracks,r=1/(e.fps||1);for(let a=0,o=i.length;a!==o;++a)t.push(iX(i[a]).scale(r));const s=new this(e.name,e.duration,t,e.blendMode);return s.uuid=e.uuid,s}static toJSON(e){const t=[],i=e.tracks,r={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode};for(let s=0,a=i.length;s!==a;++s)t.push(lh.toJSON(i[s]));return r}static CreateFromMorphTargetSequence(e,t,i,r){const s=t.length,a=[];for(let o=0;o<s;o++){let l=[],c=[];l.push((o+s-1)%s,o,(o+1)%s),c.push(0,1,0);const f=cB(l);l=wM(l,1,f),c=wM(c,1,f),!r&&l[0]===0&&(l.push(s),c.push(c[0])),a.push(new y1(".morphTargetInfluences["+t[o].name+"]",l,c).scale(1/i))}return new this(e,-1,a)}static findByName(e,t){let i=e;if(!Array.isArray(e)){const r=e;i=r.geometry&&r.geometry.animations||r.animations}for(let r=0;r<i.length;r++)if(i[r].name===t)return i[r];return null}static CreateClipsFromMorphTargetSequences(e,t,i){const r={},s=/^([\w-]*?)([\d]+)$/;for(let o=0,l=e.length;o<l;o++){const c=e[o],f=c.name.match(s);if(f&&f.length>1){const h=f[1];let v=r[h];v||(r[h]=v=[]),v.push(c)}}const a=[];for(const o in r)a.push(this.CreateFromMorphTargetSequence(o,r[o],t,i));return a}static parseAnimation(e,t){if(console.warn("THREE.AnimationClip: parseAnimation() is deprecated and will be removed with r185"),!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const i=function(h,v,m,_,g){if(m.length!==0){const y=[],u=[];x3(m,y,u,_),y.length!==0&&g.push(new h(v,y,u))}},r=[],s=e.name||"default",a=e.fps||30,o=e.blendMode;let l=e.length||-1;const c=e.hierarchy||[];for(let h=0;h<c.length;h++){const v=c[h].keys;if(!(!v||v.length===0))if(v[0].morphTargets){const m={};let _;for(_=0;_<v.length;_++)if(v[_].morphTargets)for(let g=0;g<v[_].morphTargets.length;g++)m[v[_].morphTargets[g]]=-1;for(const g in m){const y=[],u=[];for(let b=0;b!==v[_].morphTargets.length;++b){const S=v[_];y.push(S.time),u.push(S.morphTarget===g?1:0)}r.push(new y1(".morphTargetInfluence["+g+"]",y,u))}l=m.length*a}else{const m=".bones["+t[h].name+"]";i(_1,m+".position",v,"pos",r),i(q1,m+".quaternion",v,"rot",r),i(_1,m+".scale",v,"scl",r)}}return r.length===0?null:new this(s,l,r,o)}resetDuration(){const e=this.tracks;let t=0;for(let i=0,r=e.length;i!==r;++i){const s=this.tracks[i];t=Math.max(t,s.times[s.times.length-1])}return this.duration=t,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let t=0;t<this.tracks.length;t++)e.push(this.tracks[t].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function nX(n){switch(n.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return y1;case"vector":case"vector2":case"vector3":case"vector4":return _1;case"color":return w3;case"quaternion":return q1;case"bool":case"boolean":return nv;case"string":return iv}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+n)}function iX(n){if(n.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=nX(n.type);if(n.times===void 0){const t=[],i=[];x3(n.keys,t,i,"value"),n.times=t,n.values=i}return e.parse!==void 0?e.parse(n):new e(n.name,n.times,n.values,n.interpolation)}const Pd={enabled:!1,files:{},add:function(n,e){this.enabled!==!1&&(this.files[n]=e)},get:function(n){if(this.enabled!==!1)return this.files[n]},remove:function(n){delete this.files[n]},clear:function(){this.files={}}};class fC{constructor(e,t,i){const r=this;let s=!1,a=0,o=0,l;const c=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=i,this.itemStart=function(f){o++,s===!1&&r.onStart!==void 0&&r.onStart(f,a,o),s=!0},this.itemEnd=function(f){a++,r.onProgress!==void 0&&r.onProgress(f,a,o),a===o&&(s=!1,r.onLoad!==void 0&&r.onLoad())},this.itemError=function(f){r.onError!==void 0&&r.onError(f)},this.resolveURL=function(f){return l?l(f):f},this.setURLModifier=function(f){return l=f,this},this.addHandler=function(f,h){return c.push(f,h),this},this.removeHandler=function(f){const h=c.indexOf(f);return h!==-1&&c.splice(h,2),this},this.getHandler=function(f){for(let h=0,v=c.length;h<v;h+=2){const m=c[h],_=c[h+1];if(m.global&&(m.lastIndex=0),m.test(f))return _}return null}}}const fB=new fC;class Ac{constructor(e){this.manager=e!==void 0?e:fB,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,t){const i=this;return new Promise(function(r,s){i.load(e,r,t,s)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}}Ac.DEFAULT_MATERIAL_NAME="__DEFAULT";const Rf={};class rX extends Error{constructor(e,t){super(e),this.response=t}}class bu extends Ac{constructor(e){super(e),this.mimeType="",this.responseType=""}load(e,t,i,r){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=Pd.get(`file:${e}`);if(s!==void 0)return this.manager.itemStart(e),setTimeout(()=>{t&&t(s),this.manager.itemEnd(e)},0),s;if(Rf[e]!==void 0){Rf[e].push({onLoad:t,onProgress:i,onError:r});return}Rf[e]=[],Rf[e].push({onLoad:t,onProgress:i,onError:r});const a=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),o=this.mimeType,l=this.responseType;fetch(a).then(c=>{if(c.status===200||c.status===0){if(c.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||c.body===void 0||c.body.getReader===void 0)return c;const f=Rf[e],h=c.body.getReader(),v=c.headers.get("X-File-Size")||c.headers.get("Content-Length"),m=v?parseInt(v):0,_=m!==0;let g=0;const y=new ReadableStream({start(u){b();function b(){h.read().then(({done:S,value:T})=>{if(S)u.close();else{g+=T.byteLength;const R=new ProgressEvent("progress",{lengthComputable:_,loaded:g,total:m});for(let O=0,C=f.length;O<C;O++){const I=f[O];I.onProgress&&I.onProgress(R)}u.enqueue(T),b()}},S=>{u.error(S)})}}});return new Response(y)}else throw new rX(`fetch for "${c.url}" responded with ${c.status}: ${c.statusText}`,c)}).then(c=>{switch(l){case"arraybuffer":return c.arrayBuffer();case"blob":return c.blob();case"document":return c.text().then(f=>new DOMParser().parseFromString(f,o));case"json":return c.json();default:if(o==="")return c.text();{const h=/charset="?([^;"\s]*)"?/i.exec(o),v=h&&h[1]?h[1].toLowerCase():void 0,m=new TextDecoder(v);return c.arrayBuffer().then(_=>m.decode(_))}}}).then(c=>{Pd.add(`file:${e}`,c);const f=Rf[e];delete Rf[e];for(let h=0,v=f.length;h<v;h++){const m=f[h];m.onLoad&&m.onLoad(c)}}).catch(c=>{const f=Rf[e];if(f===void 0)throw this.manager.itemError(e),c;delete Rf[e];for(let h=0,v=f.length;h<v;h++){const m=f[h];m.onError&&m.onError(c)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class sX extends Ac{constructor(e){super(e)}load(e,t,i,r){const s=this,a=new bu(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,function(o){try{t(s.parse(JSON.parse(o)))}catch(l){r?r(l):console.error(l),s.manager.itemError(e)}},i,r)}parse(e){const t=[];for(let i=0;i<e.length;i++){const r=b1.parse(e[i]);t.push(r)}return t}}class aX extends Ac{constructor(e){super(e)}load(e,t,i,r){const s=this,a=[],o=new ZE,l=new bu(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(s.withCredentials);let c=0;function f(h){l.load(e[h],function(v){const m=s.parse(v,!0);a[h]={width:m.width,height:m.height,format:m.format,mipmaps:m.mipmaps},c+=1,c===6&&(m.mipmapCount===1&&(o.minFilter=cs),o.image=a,o.format=m.format,o.needsUpdate=!0,t&&t(o))},i,r)}if(Array.isArray(e))for(let h=0,v=e.length;h<v;++h)f(h);else l.load(e,function(h){const v=s.parse(h,!0);if(v.isCubemap){const m=v.mipmaps.length/v.mipmapCount;for(let _=0;_<m;_++){a[_]={mipmaps:[]};for(let g=0;g<v.mipmapCount;g++)a[_].mipmaps.push(v.mipmaps[_*v.mipmapCount+g]),a[_].format=v.format,a[_].width=v.width,a[_].height=v.height}o.image=a}else o.image.width=v.width,o.image.height=v.height,o.mipmaps=v.mipmaps;v.mipmapCount===1&&(o.minFilter=cs),o.format=v.format,o.needsUpdate=!0,t&&t(o)},i,r);return o}}const t0=new WeakMap;class x1 extends Ac{constructor(e){super(e)}load(e,t,i,r){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,a=Pd.get(`image:${e}`);if(a!==void 0){if(a.complete===!0)s.manager.itemStart(e),setTimeout(function(){t&&t(a),s.manager.itemEnd(e)},0);else{let h=t0.get(a);h===void 0&&(h=[],t0.set(a,h)),h.push({onLoad:t,onError:r})}return a}const o=f1("img");function l(){f(),t&&t(this);const h=t0.get(this)||[];for(let v=0;v<h.length;v++){const m=h[v];m.onLoad&&m.onLoad(this)}t0.delete(this),s.manager.itemEnd(e)}function c(h){f(),r&&r(h),Pd.remove(`image:${e}`);const v=t0.get(this)||[];for(let m=0;m<v.length;m++){const _=v[m];_.onError&&_.onError(h)}t0.delete(this),s.manager.itemError(e),s.manager.itemEnd(e)}function f(){o.removeEventListener("load",l,!1),o.removeEventListener("error",c,!1)}return o.addEventListener("load",l,!1),o.addEventListener("error",c,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(o.crossOrigin=this.crossOrigin),Pd.add(`image:${e}`,o),s.manager.itemStart(e),o.src=e,o}}class pB extends Ac{constructor(e){super(e)}load(e,t,i,r){const s=new G1;s.colorSpace=Wo;const a=new x1(this.manager);a.setCrossOrigin(this.crossOrigin),a.setPath(this.path);let o=0;function l(c){a.load(e[c],function(f){s.images[c]=f,o++,o===6&&(s.needsUpdate=!0,t&&t(s))},void 0,r)}for(let c=0;c<e.length;++c)l(c);return s}}class E3 extends Ac{constructor(e){super(e)}load(e,t,i,r){const s=this,a=new Gh,o=new bu(this.manager);return o.setResponseType("arraybuffer"),o.setRequestHeader(this.requestHeader),o.setPath(this.path),o.setWithCredentials(s.withCredentials),o.load(e,function(l){let c;try{c=s.parse(l)}catch(f){if(r!==void 0)r(f);else{console.error(f);return}}c.image!==void 0?a.image=c.image:c.data!==void 0&&(a.image.width=c.width,a.image.height=c.height,a.image.data=c.data),a.wrapS=c.wrapS!==void 0?c.wrapS:Do,a.wrapT=c.wrapT!==void 0?c.wrapT:Do,a.magFilter=c.magFilter!==void 0?c.magFilter:cs,a.minFilter=c.minFilter!==void 0?c.minFilter:cs,a.anisotropy=c.anisotropy!==void 0?c.anisotropy:1,c.colorSpace!==void 0&&(a.colorSpace=c.colorSpace),c.flipY!==void 0&&(a.flipY=c.flipY),c.format!==void 0&&(a.format=c.format),c.type!==void 0&&(a.type=c.type),c.mipmaps!==void 0&&(a.mipmaps=c.mipmaps,a.minFilter=Ld),c.mipmapCount===1&&(a.minFilter=cs),c.generateMipmaps!==void 0&&(a.generateMipmaps=c.generateMipmaps),a.needsUpdate=!0,t&&t(a,c)},i,r),a}}class pC extends Ac{constructor(e){super(e)}load(e,t,i,r){const s=new _s,a=new x1(this.manager);return a.setCrossOrigin(this.crossOrigin),a.setPath(this.path),a.load(e,function(o){s.image=o,s.needsUpdate=!0,t!==void 0&&t(s)},i,r),s}}let xm=class extends Tr{constructor(e,t=1){super(),this.isLight=!0,this.type="Light",this.color=new Zn(e),this.intensity=t}dispose(){}copy(e,t){return super.copy(e,t),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const t=super.toJSON(e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,this.groundColor!==void 0&&(t.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(t.object.distance=this.distance),this.angle!==void 0&&(t.object.angle=this.angle),this.decay!==void 0&&(t.object.decay=this.decay),this.penumbra!==void 0&&(t.object.penumbra=this.penumbra),this.shadow!==void 0&&(t.object.shadow=this.shadow.toJSON()),this.target!==void 0&&(t.object.target=this.target.uuid),t}};class mB extends xm{constructor(e,t,i){super(e,i),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(Tr.DEFAULT_UP),this.updateMatrix(),this.groundColor=new Zn(t)}copy(e,t){return super.copy(e,t),this.groundColor.copy(e.groundColor),this}}const hA=new ri,ZP=new Oe,QP=new Oe;let C3=class{constructor(e){this.camera=e,this.intensity=1,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new ln(512,512),this.mapType=wc,this.map=null,this.mapPass=null,this.matrix=new ri,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new hy,this._frameExtents=new ln(1,1),this._viewportCount=1,this._viewports=[new Cr(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const t=this.camera,i=this.matrix;ZP.setFromMatrixPosition(e.matrixWorld),t.position.copy(ZP),QP.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(QP),t.updateMatrixWorld(),hA.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(hA),i.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),i.multiply(hA)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.intensity=e.intensity,this.bias=e.bias,this.radius=e.radius,this.autoUpdate=e.autoUpdate,this.needsUpdate=e.needsUpdate,this.normalBias=e.normalBias,this.blurSamples=e.blurSamples,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.intensity!==1&&(e.intensity=this.intensity),this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}};class oX extends C3{constructor(){super(new Ga(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1,this.aspect=1}updateMatrices(e){const t=this.camera,i=q0*2*e.angle*this.focus,r=this.mapSize.width/this.mapSize.height*this.aspect,s=e.distance||t.far;(i!==t.fov||r!==t.aspect||s!==t.far)&&(t.fov=i,t.aspect=r,t.far=s,t.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class gB extends xm{constructor(e,t,i=0,r=Math.PI/3,s=0,a=2){super(e,t),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(Tr.DEFAULT_UP),this.updateMatrix(),this.target=new Tr,this.distance=i,this.angle=r,this.penumbra=s,this.decay=a,this.map=null,this.shadow=new oX}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const JP=new ri,h_=new Oe,dA=new Oe;class lX extends C3{constructor(){super(new Ga(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new ln(4,2),this._viewportCount=6,this._viewports=[new Cr(2,1,1,1),new Cr(0,1,1,1),new Cr(3,1,1,1),new Cr(1,1,1,1),new Cr(3,0,1,1),new Cr(1,0,1,1)],this._cubeDirections=[new Oe(1,0,0),new Oe(-1,0,0),new Oe(0,0,1),new Oe(0,0,-1),new Oe(0,1,0),new Oe(0,-1,0)],this._cubeUps=[new Oe(0,1,0),new Oe(0,1,0),new Oe(0,1,0),new Oe(0,1,0),new Oe(0,0,1),new Oe(0,0,-1)]}updateMatrices(e,t=0){const i=this.camera,r=this.matrix,s=e.distance||i.far;s!==i.far&&(i.far=s,i.updateProjectionMatrix()),h_.setFromMatrixPosition(e.matrixWorld),i.position.copy(h_),dA.copy(i.position),dA.add(this._cubeDirections[t]),i.up.copy(this._cubeUps[t]),i.lookAt(dA),i.updateMatrixWorld(),r.makeTranslation(-h_.x,-h_.y,-h_.z),JP.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),this._frustum.setFromProjectionMatrix(JP)}}class vB extends xm{constructor(e,t,i=0,r=2){super(e,t),this.isPointLight=!0,this.type="PointLight",this.distance=i,this.decay=r,this.shadow=new lX}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}let Hh=class extends WE{constructor(e=-1,t=1,i=1,r=-1,s=.1,a=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=i,this.bottom=r,this.near=s,this.far=a,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,t,i,r,s,a){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=i,this.view.offsetY=r,this.view.width=s,this.view.height=a,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),i=(this.right+this.left)/2,r=(this.top+this.bottom)/2;let s=i-e,a=i+e,o=r+t,l=r-t;if(this.view!==null&&this.view.enabled){const c=(this.right-this.left)/this.view.fullWidth/this.zoom,f=(this.top-this.bottom)/this.view.fullHeight/this.zoom;s+=c*this.view.offsetX,a=s+c*this.view.width,o-=f*this.view.offsetY,l=o-f*this.view.height}this.projectionMatrix.makeOrthographic(s,a,o,l,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,this.view!==null&&(t.object.view=Object.assign({},this.view)),t}};class cX extends C3{constructor(){super(new Hh(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class yB extends xm{constructor(e,t){super(e,t),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(Tr.DEFAULT_UP),this.updateMatrix(),this.target=new Tr,this.shadow=new cX}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class _B extends xm{constructor(e,t){super(e,t),this.isAmbientLight=!0,this.type="AmbientLight"}}class bB extends xm{constructor(e,t,i=10,r=10){super(e,t),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=i,this.height=r}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const t=super.toJSON(e);return t.object.width=this.width,t.object.height=this.height,t}}class xB{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new Oe)}set(e){for(let t=0;t<9;t++)this.coefficients[t].copy(e[t]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,t){const i=e.x,r=e.y,s=e.z,a=this.coefficients;return t.copy(a[0]).multiplyScalar(.282095),t.addScaledVector(a[1],.488603*r),t.addScaledVector(a[2],.488603*s),t.addScaledVector(a[3],.488603*i),t.addScaledVector(a[4],1.092548*(i*r)),t.addScaledVector(a[5],1.092548*(r*s)),t.addScaledVector(a[6],.315392*(3*s*s-1)),t.addScaledVector(a[7],1.092548*(i*s)),t.addScaledVector(a[8],.546274*(i*i-r*r)),t}getIrradianceAt(e,t){const i=e.x,r=e.y,s=e.z,a=this.coefficients;return t.copy(a[0]).multiplyScalar(.886227),t.addScaledVector(a[1],2*.511664*r),t.addScaledVector(a[2],2*.511664*s),t.addScaledVector(a[3],2*.511664*i),t.addScaledVector(a[4],2*.429043*i*r),t.addScaledVector(a[5],2*.429043*r*s),t.addScaledVector(a[6],.743125*s*s-.247708),t.addScaledVector(a[7],2*.429043*i*s),t.addScaledVector(a[8],.429043*(i*i-r*r)),t}add(e){for(let t=0;t<9;t++)this.coefficients[t].add(e.coefficients[t]);return this}addScaledSH(e,t){for(let i=0;i<9;i++)this.coefficients[i].addScaledVector(e.coefficients[i],t);return this}scale(e){for(let t=0;t<9;t++)this.coefficients[t].multiplyScalar(e);return this}lerp(e,t){for(let i=0;i<9;i++)this.coefficients[i].lerp(e.coefficients[i],t);return this}equals(e){for(let t=0;t<9;t++)if(!this.coefficients[t].equals(e.coefficients[t]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,t=0){const i=this.coefficients;for(let r=0;r<9;r++)i[r].fromArray(e,t+r*3);return this}toArray(e=[],t=0){const i=this.coefficients;for(let r=0;r<9;r++)i[r].toArray(e,t+r*3);return e}static getBasisAt(e,t){const i=e.x,r=e.y,s=e.z;t[0]=.282095,t[1]=.488603*r,t[2]=.488603*s,t[3]=.488603*i,t[4]=1.092548*i*r,t[5]=1.092548*r*s,t[6]=.315392*(3*s*s-1),t[7]=1.092548*i*s,t[8]=.546274*(i*i-r*r)}}class SB extends xm{constructor(e=new xB,t=1){super(void 0,t),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const t=super.toJSON(e);return t.object.sh=this.sh.toArray(),t}}class mC extends Ac{constructor(e){super(e),this.textures={}}load(e,t,i,r){const s=this,a=new bu(s.manager);a.setPath(s.path),a.setRequestHeader(s.requestHeader),a.setWithCredentials(s.withCredentials),a.load(e,function(o){try{t(s.parse(JSON.parse(o)))}catch(l){r?r(l):console.error(l),s.manager.itemError(e)}},i,r)}parse(e){const t=this.textures;function i(s){return t[s]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",s),t[s]}const r=this.createMaterialFromType(e.type);if(e.uuid!==void 0&&(r.uuid=e.uuid),e.name!==void 0&&(r.name=e.name),e.color!==void 0&&r.color!==void 0&&r.color.setHex(e.color),e.roughness!==void 0&&(r.roughness=e.roughness),e.metalness!==void 0&&(r.metalness=e.metalness),e.sheen!==void 0&&(r.sheen=e.sheen),e.sheenColor!==void 0&&(r.sheenColor=new Zn().setHex(e.sheenColor)),e.sheenRoughness!==void 0&&(r.sheenRoughness=e.sheenRoughness),e.emissive!==void 0&&r.emissive!==void 0&&r.emissive.setHex(e.emissive),e.specular!==void 0&&r.specular!==void 0&&r.specular.setHex(e.specular),e.specularIntensity!==void 0&&(r.specularIntensity=e.specularIntensity),e.specularColor!==void 0&&r.specularColor!==void 0&&r.specularColor.setHex(e.specularColor),e.shininess!==void 0&&(r.shininess=e.shininess),e.clearcoat!==void 0&&(r.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=e.clearcoatRoughness),e.dispersion!==void 0&&(r.dispersion=e.dispersion),e.iridescence!==void 0&&(r.iridescence=e.iridescence),e.iridescenceIOR!==void 0&&(r.iridescenceIOR=e.iridescenceIOR),e.iridescenceThicknessRange!==void 0&&(r.iridescenceThicknessRange=e.iridescenceThicknessRange),e.transmission!==void 0&&(r.transmission=e.transmission),e.thickness!==void 0&&(r.thickness=e.thickness),e.attenuationDistance!==void 0&&(r.attenuationDistance=e.attenuationDistance),e.attenuationColor!==void 0&&r.attenuationColor!==void 0&&r.attenuationColor.setHex(e.attenuationColor),e.anisotropy!==void 0&&(r.anisotropy=e.anisotropy),e.anisotropyRotation!==void 0&&(r.anisotropyRotation=e.anisotropyRotation),e.fog!==void 0&&(r.fog=e.fog),e.flatShading!==void 0&&(r.flatShading=e.flatShading),e.blending!==void 0&&(r.blending=e.blending),e.combine!==void 0&&(r.combine=e.combine),e.side!==void 0&&(r.side=e.side),e.shadowSide!==void 0&&(r.shadowSide=e.shadowSide),e.opacity!==void 0&&(r.opacity=e.opacity),e.transparent!==void 0&&(r.transparent=e.transparent),e.alphaTest!==void 0&&(r.alphaTest=e.alphaTest),e.alphaHash!==void 0&&(r.alphaHash=e.alphaHash),e.depthFunc!==void 0&&(r.depthFunc=e.depthFunc),e.depthTest!==void 0&&(r.depthTest=e.depthTest),e.depthWrite!==void 0&&(r.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(r.colorWrite=e.colorWrite),e.blendSrc!==void 0&&(r.blendSrc=e.blendSrc),e.blendDst!==void 0&&(r.blendDst=e.blendDst),e.blendEquation!==void 0&&(r.blendEquation=e.blendEquation),e.blendSrcAlpha!==void 0&&(r.blendSrcAlpha=e.blendSrcAlpha),e.blendDstAlpha!==void 0&&(r.blendDstAlpha=e.blendDstAlpha),e.blendEquationAlpha!==void 0&&(r.blendEquationAlpha=e.blendEquationAlpha),e.blendColor!==void 0&&r.blendColor!==void 0&&r.blendColor.setHex(e.blendColor),e.blendAlpha!==void 0&&(r.blendAlpha=e.blendAlpha),e.stencilWriteMask!==void 0&&(r.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(r.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(r.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(r.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(r.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(r.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(r.stencilZPass=e.stencilZPass),e.stencilWrite!==void 0&&(r.stencilWrite=e.stencilWrite),e.wireframe!==void 0&&(r.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(r.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(r.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(r.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(r.rotation=e.rotation),e.linewidth!==void 0&&(r.linewidth=e.linewidth),e.dashSize!==void 0&&(r.dashSize=e.dashSize),e.gapSize!==void 0&&(r.gapSize=e.gapSize),e.scale!==void 0&&(r.scale=e.scale),e.polygonOffset!==void 0&&(r.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(r.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(r.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(r.dithering=e.dithering),e.alphaToCoverage!==void 0&&(r.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(r.premultipliedAlpha=e.premultipliedAlpha),e.forceSinglePass!==void 0&&(r.forceSinglePass=e.forceSinglePass),e.visible!==void 0&&(r.visible=e.visible),e.toneMapped!==void 0&&(r.toneMapped=e.toneMapped),e.userData!==void 0&&(r.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?r.vertexColors=e.vertexColors>0:r.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const s in e.uniforms){const a=e.uniforms[s];switch(r.uniforms[s]={},a.type){case"t":r.uniforms[s].value=i(a.value);break;case"c":r.uniforms[s].value=new Zn().setHex(a.value);break;case"v2":r.uniforms[s].value=new ln().fromArray(a.value);break;case"v3":r.uniforms[s].value=new Oe().fromArray(a.value);break;case"v4":r.uniforms[s].value=new Cr().fromArray(a.value);break;case"m3":r.uniforms[s].value=new hr().fromArray(a.value);break;case"m4":r.uniforms[s].value=new ri().fromArray(a.value);break;default:r.uniforms[s].value=a.value}}if(e.defines!==void 0&&(r.defines=e.defines),e.vertexShader!==void 0&&(r.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(r.fragmentShader=e.fragmentShader),e.glslVersion!==void 0&&(r.glslVersion=e.glslVersion),e.extensions!==void 0)for(const s in e.extensions)r.extensions[s]=e.extensions[s];if(e.lights!==void 0&&(r.lights=e.lights),e.clipping!==void 0&&(r.clipping=e.clipping),e.size!==void 0&&(r.size=e.size),e.sizeAttenuation!==void 0&&(r.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(r.map=i(e.map)),e.matcap!==void 0&&(r.matcap=i(e.matcap)),e.alphaMap!==void 0&&(r.alphaMap=i(e.alphaMap)),e.bumpMap!==void 0&&(r.bumpMap=i(e.bumpMap)),e.bumpScale!==void 0&&(r.bumpScale=e.bumpScale),e.normalMap!==void 0&&(r.normalMap=i(e.normalMap)),e.normalMapType!==void 0&&(r.normalMapType=e.normalMapType),e.normalScale!==void 0){let s=e.normalScale;Array.isArray(s)===!1&&(s=[s,s]),r.normalScale=new ln().fromArray(s)}return e.displacementMap!==void 0&&(r.displacementMap=i(e.displacementMap)),e.displacementScale!==void 0&&(r.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(r.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(r.roughnessMap=i(e.roughnessMap)),e.metalnessMap!==void 0&&(r.metalnessMap=i(e.metalnessMap)),e.emissiveMap!==void 0&&(r.emissiveMap=i(e.emissiveMap)),e.emissiveIntensity!==void 0&&(r.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(r.specularMap=i(e.specularMap)),e.specularIntensityMap!==void 0&&(r.specularIntensityMap=i(e.specularIntensityMap)),e.specularColorMap!==void 0&&(r.specularColorMap=i(e.specularColorMap)),e.envMap!==void 0&&(r.envMap=i(e.envMap)),e.envMapRotation!==void 0&&r.envMapRotation.fromArray(e.envMapRotation),e.envMapIntensity!==void 0&&(r.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(r.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(r.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(r.lightMap=i(e.lightMap)),e.lightMapIntensity!==void 0&&(r.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(r.aoMap=i(e.aoMap)),e.aoMapIntensity!==void 0&&(r.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(r.gradientMap=i(e.gradientMap)),e.clearcoatMap!==void 0&&(r.clearcoatMap=i(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(r.clearcoatRoughnessMap=i(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(r.clearcoatNormalMap=i(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(r.clearcoatNormalScale=new ln().fromArray(e.clearcoatNormalScale)),e.iridescenceMap!==void 0&&(r.iridescenceMap=i(e.iridescenceMap)),e.iridescenceThicknessMap!==void 0&&(r.iridescenceThicknessMap=i(e.iridescenceThicknessMap)),e.transmissionMap!==void 0&&(r.transmissionMap=i(e.transmissionMap)),e.thicknessMap!==void 0&&(r.thicknessMap=i(e.thicknessMap)),e.anisotropyMap!==void 0&&(r.anisotropyMap=i(e.anisotropyMap)),e.sheenColorMap!==void 0&&(r.sheenColorMap=i(e.sheenColorMap)),e.sheenRoughnessMap!==void 0&&(r.sheenRoughnessMap=i(e.sheenRoughnessMap)),r}setTextures(e){return this.textures=e,this}createMaterialFromType(e){return mC.createMaterialFromType(e)}static createMaterialFromType(e){const t={ShadowMaterial:Jk,SpriteMaterial:c3,RawShaderMaterial:eB,ShaderMaterial:Ec,PointsMaterial:h3,MeshPhysicalMaterial:tB,MeshStandardMaterial:b3,MeshPhongMaterial:nB,MeshToonMaterial:iB,MeshNormalMaterial:rB,MeshLambertMaterial:sB,MeshDepthMaterial:hC,MeshDistanceMaterial:dC,MeshBasicMaterial:Xd,MeshMatcapMaterial:aB,LineDashedMaterial:oB,LineBasicMaterial:Tc,Material:jl};return new t[e]}}class EM{static extractUrlBase(e){const t=e.lastIndexOf("/");return t===-1?"./":e.slice(0,t+1)}static resolveURL(e,t){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(t)&&/^\//.test(e)&&(t=t.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:t+e)}}class gC extends xr{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){const e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class wB extends Ac{constructor(e){super(e)}load(e,t,i,r){const s=this,a=new bu(s.manager);a.setPath(s.path),a.setRequestHeader(s.requestHeader),a.setWithCredentials(s.withCredentials),a.load(e,function(o){try{t(s.parse(JSON.parse(o)))}catch(l){r?r(l):console.error(l),s.manager.itemError(e)}},i,r)}parse(e){const t={},i={};function r(m,_){if(t[_]!==void 0)return t[_];const y=m.interleavedBuffers[_],u=s(m,y.buffer),b=w0(y.type,u),S=new qE(b,y.stride);return S.uuid=y.uuid,t[_]=S,S}function s(m,_){if(i[_]!==void 0)return i[_];const y=m.arrayBuffers[_],u=new Uint32Array(y).buffer;return i[_]=u,u}const a=e.isInstancedBufferGeometry?new gC:new xr,o=e.data.index;if(o!==void 0){const m=w0(o.type,o.array);a.setIndex(new qs(m,1))}const l=e.data.attributes;for(const m in l){const _=l[m];let g;if(_.isInterleavedBufferAttribute){const y=r(e.data,_.data);g=new gu(y,_.itemSize,_.offset,_.normalized)}else{const y=w0(_.type,_.array),u=_.isInstancedBufferAttribute?jg:qs;g=new u(y,_.itemSize,_.normalized)}_.name!==void 0&&(g.name=_.name),_.usage!==void 0&&g.setUsage(_.usage),a.setAttribute(m,g)}const c=e.data.morphAttributes;if(c)for(const m in c){const _=c[m],g=[];for(let y=0,u=_.length;y<u;y++){const b=_[y];let S;if(b.isInterleavedBufferAttribute){const T=r(e.data,b.data);S=new gu(T,b.itemSize,b.offset,b.normalized)}else{const T=w0(b.type,b.array);S=new qs(T,b.itemSize,b.normalized)}b.name!==void 0&&(S.name=b.name),g.push(S)}a.morphAttributes[m]=g}e.data.morphTargetsRelative&&(a.morphTargetsRelative=!0);const h=e.data.groups||e.data.drawcalls||e.data.offsets;if(h!==void 0)for(let m=0,_=h.length;m!==_;++m){const g=h[m];a.addGroup(g.start,g.count,g.materialIndex)}const v=e.data.boundingSphere;return v!==void 0&&(a.boundingSphere=new Uo().fromJSON(v)),e.name&&(a.name=e.name),e.userData&&(a.userData=e.userData),a}}class uX extends Ac{constructor(e){super(e)}load(e,t,i,r){const s=this,a=this.path===""?EM.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||a;const o=new bu(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(l){let c=null;try{c=JSON.parse(l)}catch(h){r!==void 0&&r(h),console.error("THREE:ObjectLoader: Can't parse "+e+".",h.message);return}const f=c.metadata;if(f===void 0||f.type===void 0||f.type.toLowerCase()==="geometry"){r!==void 0&&r(new Error("THREE.ObjectLoader: Can't load "+e)),console.error("THREE.ObjectLoader: Can't load "+e);return}s.parse(c,t)},i,r)}async loadAsync(e,t){const i=this,r=this.path===""?EM.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||r;const s=new bu(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials);const a=await s.loadAsync(e,t),o=JSON.parse(a),l=o.metadata;if(l===void 0||l.type===void 0||l.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return await i.parseAsync(o)}parse(e,t){const i=this.parseAnimations(e.animations),r=this.parseShapes(e.shapes),s=this.parseGeometries(e.geometries,r),a=this.parseImages(e.images,function(){t!==void 0&&t(c)}),o=this.parseTextures(e.textures,a),l=this.parseMaterials(e.materials,o),c=this.parseObject(e.object,s,l,o,i),f=this.parseSkeletons(e.skeletons,c);if(this.bindSkeletons(c,f),this.bindLightTargets(c),t!==void 0){let h=!1;for(const v in a)if(a[v].data instanceof HTMLImageElement){h=!0;break}h===!1&&t(c)}return c}async parseAsync(e){const t=this.parseAnimations(e.animations),i=this.parseShapes(e.shapes),r=this.parseGeometries(e.geometries,i),s=await this.parseImagesAsync(e.images),a=this.parseTextures(e.textures,s),o=this.parseMaterials(e.materials,a),l=this.parseObject(e.object,r,o,a,t),c=this.parseSkeletons(e.skeletons,l);return this.bindSkeletons(l,c),this.bindLightTargets(l),l}parseShapes(e){const t={};if(e!==void 0)for(let i=0,r=e.length;i<r;i++){const s=new zg().fromJSON(e[i]);t[s.uuid]=s}return t}parseSkeletons(e,t){const i={},r={};if(t.traverse(function(s){s.isBone&&(r[s.uuid]=s)}),e!==void 0)for(let s=0,a=e.length;s<a;s++){const o=new YE().fromJSON(e[s],r);i[o.uuid]=o}return i}parseGeometries(e,t){const i={};if(e!==void 0){const r=new wB;for(let s=0,a=e.length;s<a;s++){let o;const l=e[s];switch(l.type){case"BufferGeometry":case"InstancedBufferGeometry":o=r.parse(l);break;default:l.type in KP?o=KP[l.type].fromJSON(l,t):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${l.type}"`)}o.uuid=l.uuid,l.name!==void 0&&(o.name=l.name),l.userData!==void 0&&(o.userData=l.userData),i[l.uuid]=o}}return i}parseMaterials(e,t){const i={},r={};if(e!==void 0){const s=new mC;s.setTextures(t);for(let a=0,o=e.length;a<o;a++){const l=e[a];i[l.uuid]===void 0&&(i[l.uuid]=s.parse(l)),r[l.uuid]=i[l.uuid]}}return r}parseAnimations(e){const t={};if(e!==void 0)for(let i=0;i<e.length;i++){const r=e[i],s=b1.parse(r);t[s.uuid]=s}return t}parseImages(e,t){const i=this,r={};let s;function a(l){return i.manager.itemStart(l),s.load(l,function(){i.manager.itemEnd(l)},void 0,function(){i.manager.itemError(l),i.manager.itemEnd(l)})}function o(l){if(typeof l=="string"){const c=l,f=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(c)?c:i.resourcePath+c;return a(f)}else return l.data?{data:w0(l.type,l.data),width:l.width,height:l.height}:null}if(e!==void 0&&e.length>0){const l=new fC(t);s=new x1(l),s.setCrossOrigin(this.crossOrigin);for(let c=0,f=e.length;c<f;c++){const h=e[c],v=h.url;if(Array.isArray(v)){const m=[];for(let _=0,g=v.length;_<g;_++){const y=v[_],u=o(y);u!==null&&(u instanceof HTMLImageElement?m.push(u):m.push(new Gh(u.data,u.width,u.height)))}r[h.uuid]=new am(m)}else{const m=o(h.url);r[h.uuid]=new am(m)}}}return r}async parseImagesAsync(e){const t=this,i={};let r;async function s(a){if(typeof a=="string"){const o=a,l=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(o)?o:t.resourcePath+o;return await r.loadAsync(l)}else return a.data?{data:w0(a.type,a.data),width:a.width,height:a.height}:null}if(e!==void 0&&e.length>0){r=new x1(this.manager),r.setCrossOrigin(this.crossOrigin);for(let a=0,o=e.length;a<o;a++){const l=e[a],c=l.url;if(Array.isArray(c)){const f=[];for(let h=0,v=c.length;h<v;h++){const m=c[h],_=await s(m);_!==null&&(_ instanceof HTMLImageElement?f.push(_):f.push(new Gh(_.data,_.width,_.height)))}i[l.uuid]=new am(f)}else{const f=await s(l.url);i[l.uuid]=new am(f)}}}return i}parseTextures(e,t){function i(s,a){return typeof s=="number"?s:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",s),a[s])}const r={};if(e!==void 0)for(let s=0,a=e.length;s<a;s++){const o=e[s];o.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',o.uuid),t[o.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",o.image);const l=t[o.image],c=l.data;let f;Array.isArray(c)?(f=new G1,c.length===6&&(f.needsUpdate=!0)):(c&&c.data?f=new Gh:f=new _s,c&&(f.needsUpdate=!0)),f.source=l,f.uuid=o.uuid,o.name!==void 0&&(f.name=o.name),o.mapping!==void 0&&(f.mapping=i(o.mapping,hX)),o.channel!==void 0&&(f.channel=o.channel),o.offset!==void 0&&f.offset.fromArray(o.offset),o.repeat!==void 0&&f.repeat.fromArray(o.repeat),o.center!==void 0&&f.center.fromArray(o.center),o.rotation!==void 0&&(f.rotation=o.rotation),o.wrap!==void 0&&(f.wrapS=i(o.wrap[0],eI),f.wrapT=i(o.wrap[1],eI)),o.format!==void 0&&(f.format=o.format),o.internalFormat!==void 0&&(f.internalFormat=o.internalFormat),o.type!==void 0&&(f.type=o.type),o.colorSpace!==void 0&&(f.colorSpace=o.colorSpace),o.minFilter!==void 0&&(f.minFilter=i(o.minFilter,tI)),o.magFilter!==void 0&&(f.magFilter=i(o.magFilter,tI)),o.anisotropy!==void 0&&(f.anisotropy=o.anisotropy),o.flipY!==void 0&&(f.flipY=o.flipY),o.generateMipmaps!==void 0&&(f.generateMipmaps=o.generateMipmaps),o.premultiplyAlpha!==void 0&&(f.premultiplyAlpha=o.premultiplyAlpha),o.unpackAlignment!==void 0&&(f.unpackAlignment=o.unpackAlignment),o.compareFunction!==void 0&&(f.compareFunction=o.compareFunction),o.userData!==void 0&&(f.userData=o.userData),r[o.uuid]=f}return r}parseObject(e,t,i,r,s){let a;function o(v){return t[v]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",v),t[v]}function l(v){if(v!==void 0){if(Array.isArray(v)){const m=[];for(let _=0,g=v.length;_<g;_++){const y=v[_];i[y]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",y),m.push(i[y])}return m}return i[v]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",v),i[v]}}function c(v){return r[v]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",v),r[v]}let f,h;switch(e.type){case"Scene":a=new fm,e.background!==void 0&&(Number.isInteger(e.background)?a.background=new Zn(e.background):a.background=c(e.background)),e.environment!==void 0&&(a.environment=c(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?a.fog=new XE(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(a.fog=new jE(e.fog.color,e.fog.density)),e.fog.name!==""&&(a.fog.name=e.fog.name)),e.backgroundBlurriness!==void 0&&(a.backgroundBlurriness=e.backgroundBlurriness),e.backgroundIntensity!==void 0&&(a.backgroundIntensity=e.backgroundIntensity),e.backgroundRotation!==void 0&&a.backgroundRotation.fromArray(e.backgroundRotation),e.environmentIntensity!==void 0&&(a.environmentIntensity=e.environmentIntensity),e.environmentRotation!==void 0&&a.environmentRotation.fromArray(e.environmentRotation);break;case"PerspectiveCamera":a=new Ga(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(a.focus=e.focus),e.zoom!==void 0&&(a.zoom=e.zoom),e.filmGauge!==void 0&&(a.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(a.filmOffset=e.filmOffset),e.view!==void 0&&(a.view=Object.assign({},e.view));break;case"OrthographicCamera":a=new Hh(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(a.zoom=e.zoom),e.view!==void 0&&(a.view=Object.assign({},e.view));break;case"AmbientLight":a=new _B(e.color,e.intensity);break;case"DirectionalLight":a=new yB(e.color,e.intensity),a.target=e.target||"";break;case"PointLight":a=new vB(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":a=new bB(e.color,e.intensity,e.width,e.height);break;case"SpotLight":a=new gB(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay),a.target=e.target||"";break;case"HemisphereLight":a=new mB(e.color,e.groundColor,e.intensity);break;case"LightProbe":a=new SB().fromJSON(e);break;case"SkinnedMesh":f=o(e.geometry),h=l(e.material),a=new Uk(f,h),e.bindMode!==void 0&&(a.bindMode=e.bindMode),e.bindMatrix!==void 0&&a.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(a.skeleton=e.skeleton);break;case"Mesh":f=o(e.geometry),h=l(e.material),a=new Xs(f,h);break;case"InstancedMesh":f=o(e.geometry),h=l(e.material);const v=e.count,m=e.instanceMatrix,_=e.instanceColor;a=new kk(f,h,v),a.instanceMatrix=new jg(new Float32Array(m.array),16),_!==void 0&&(a.instanceColor=new jg(new Float32Array(_.array),_.itemSize));break;case"BatchedMesh":f=o(e.geometry),h=l(e.material),a=new Bk(e.maxInstanceCount,e.maxVertexCount,e.maxIndexCount,h),a.geometry=f,a.perObjectFrustumCulled=e.perObjectFrustumCulled,a.sortObjects=e.sortObjects,a._drawRanges=e.drawRanges,a._reservedRanges=e.reservedRanges,a._geometryInfo=e.geometryInfo.map(g=>{let y=null,u=null;return g.boundingBox!==void 0&&(y=new Wa().fromJSON(g.boundingBox)),g.boundingSphere!==void 0&&(u=new Uo().fromJSON(g.boundingSphere)),{...g,boundingBox:y,boundingSphere:u}}),a._instanceInfo=e.instanceInfo,a._availableInstanceIds=e._availableInstanceIds,a._availableGeometryIds=e._availableGeometryIds,a._nextIndexStart=e.nextIndexStart,a._nextVertexStart=e.nextVertexStart,a._geometryCount=e.geometryCount,a._maxInstanceCount=e.maxInstanceCount,a._maxVertexCount=e.maxVertexCount,a._maxIndexCount=e.maxIndexCount,a._geometryInitialized=e.geometryInitialized,a._matricesTexture=c(e.matricesTexture.uuid),a._indirectTexture=c(e.indirectTexture.uuid),e.colorsTexture!==void 0&&(a._colorsTexture=c(e.colorsTexture.uuid)),e.boundingSphere!==void 0&&(a.boundingSphere=new Uo().fromJSON(e.boundingSphere)),e.boundingBox!==void 0&&(a.boundingBox=new Wa().fromJSON(e.boundingBox));break;case"LOD":a=new Fk;break;case"Line":a=new pm(o(e.geometry),l(e.material));break;case"LineLoop":a=new zk(o(e.geometry),l(e.material));break;case"LineSegments":a=new qd(o(e.geometry),l(e.material));break;case"PointCloud":case"Points":a=new d3(o(e.geometry),l(e.material));break;case"Sprite":a=new Nk(l(e.material));break;case"Group":a=new E0;break;case"Bone":a=new u3;break;default:a=new Tr}if(a.uuid=e.uuid,e.name!==void 0&&(a.name=e.name),e.matrix!==void 0?(a.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(a.matrixAutoUpdate=e.matrixAutoUpdate),a.matrixAutoUpdate&&a.matrix.decompose(a.position,a.quaternion,a.scale)):(e.position!==void 0&&a.position.fromArray(e.position),e.rotation!==void 0&&a.rotation.fromArray(e.rotation),e.quaternion!==void 0&&a.quaternion.fromArray(e.quaternion),e.scale!==void 0&&a.scale.fromArray(e.scale)),e.up!==void 0&&a.up.fromArray(e.up),e.castShadow!==void 0&&(a.castShadow=e.castShadow),e.receiveShadow!==void 0&&(a.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.intensity!==void 0&&(a.shadow.intensity=e.shadow.intensity),e.shadow.bias!==void 0&&(a.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(a.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(a.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&a.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(a.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(a.visible=e.visible),e.frustumCulled!==void 0&&(a.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(a.renderOrder=e.renderOrder),e.userData!==void 0&&(a.userData=e.userData),e.layers!==void 0&&(a.layers.mask=e.layers),e.children!==void 0){const v=e.children;for(let m=0;m<v.length;m++)a.add(this.parseObject(v[m],t,i,r,s))}if(e.animations!==void 0){const v=e.animations;for(let m=0;m<v.length;m++){const _=v[m];a.animations.push(s[_])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(a.autoUpdate=e.autoUpdate);const v=e.levels;for(let m=0;m<v.length;m++){const _=v[m],g=a.getObjectByProperty("uuid",_.object);g!==void 0&&a.addLevel(g,_.distance,_.hysteresis)}}return a}bindSkeletons(e,t){Object.keys(t).length!==0&&e.traverse(function(i){if(i.isSkinnedMesh===!0&&i.skeleton!==void 0){const r=t[i.skeleton];r===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",i.skeleton):i.bind(r,i.bindMatrix)}})}bindLightTargets(e){e.traverse(function(t){if(t.isDirectionalLight||t.isSpotLight){const i=t.target,r=e.getObjectByProperty("uuid",i);r!==void 0?t.target=r:t.target=new Tr}})}}const hX={UVMapping:hm,CubeReflectionMapping:Ud,CubeRefractionMapping:dm,EquirectangularReflectionMapping:$0,EquirectangularRefractionMapping:s1,CubeUVReflectionMapping:uy},eI={RepeatWrapping:a1,ClampToEdgeWrapping:Do,MirroredRepeatWrapping:o1},tI={NearestFilter:Cl,NearestMipmapNearestFilter:YR,NearestMipmapLinearFilter:S0,LinearFilter:cs,LinearMipmapNearestFilter:F_,LinearMipmapLinearFilter:Ld},fA=new WeakMap;class dX extends Ac{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,t,i,r){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,a=Pd.get(`image-bitmap:${e}`);if(a!==void 0){if(s.manager.itemStart(e),a.then){a.then(c=>{if(fA.has(a)===!0)r&&r(fA.get(a)),s.manager.itemError(e),s.manager.itemEnd(e);else return t&&t(c),s.manager.itemEnd(e),c});return}return setTimeout(function(){t&&t(a),s.manager.itemEnd(e)},0),a}const o={};o.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",o.headers=this.requestHeader;const l=fetch(e,o).then(function(c){return c.blob()}).then(function(c){return createImageBitmap(c,Object.assign(s.options,{colorSpaceConversion:"none"}))}).then(function(c){return Pd.add(`image-bitmap:${e}`,c),t&&t(c),s.manager.itemEnd(e),c}).catch(function(c){r&&r(c),fA.set(l,c),Pd.remove(`image-bitmap:${e}`),s.manager.itemError(e),s.manager.itemEnd(e)});Pd.add(`image-bitmap:${e}`,l),s.manager.itemStart(e)}}let Dx,T3=class{static getContext(){return Dx===void 0&&(Dx=new(window.AudioContext||window.webkitAudioContext)),Dx}static setContext(e){Dx=e}};class fX extends Ac{constructor(e){super(e)}load(e,t,i,r){const s=this,a=new bu(this.manager);a.setResponseType("arraybuffer"),a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,function(l){try{const c=l.slice(0);T3.getContext().decodeAudioData(c,function(h){t(h)}).catch(o)}catch(c){o(c)}},i,r);function o(l){r?r(l):console.error(l),s.manager.itemError(e)}}}const nI=new ri,iI=new ri,ig=new ri;class pX{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new Ga,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new Ga,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const t=this._cache;if(t.focus!==e.focus||t.fov!==e.fov||t.aspect!==e.aspect*this.aspect||t.near!==e.near||t.far!==e.far||t.zoom!==e.zoom||t.eyeSep!==this.eyeSep){t.focus=e.focus,t.fov=e.fov,t.aspect=e.aspect*this.aspect,t.near=e.near,t.far=e.far,t.zoom=e.zoom,t.eyeSep=this.eyeSep,ig.copy(e.projectionMatrix);const r=t.eyeSep/2,s=r*t.near/t.focus,a=t.near*Math.tan(Bg*t.fov*.5)/t.zoom;let o,l;iI.elements[12]=-r,nI.elements[12]=r,o=-a*t.aspect+s,l=a*t.aspect+s,ig.elements[0]=2*t.near/(l-o),ig.elements[8]=(l+o)/(l-o),this.cameraL.projectionMatrix.copy(ig),o=-a*t.aspect-s,l=a*t.aspect-s,ig.elements[0]=2*t.near/(l-o),ig.elements[8]=(l+o)/(l-o),this.cameraR.projectionMatrix.copy(ig)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(iI),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(nI)}}class EB extends Ga{constructor(e=[]){super(),this.isArrayCamera=!0,this.isMultiViewCamera=!1,this.cameras=e}}class A3{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=performance.now(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const t=performance.now();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}}const rg=new Oe,pA=new Fo,mX=new Oe,sg=new Oe,ag=new Oe;class gX extends Tr{constructor(){super(),this.type="AudioListener",this.context=T3.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new A3}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const t=this.context.listener;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(rg,pA,mX),sg.set(0,0,-1).applyQuaternion(pA),ag.set(0,1,0).applyQuaternion(pA),t.positionX){const i=this.context.currentTime+this.timeDelta;t.positionX.linearRampToValueAtTime(rg.x,i),t.positionY.linearRampToValueAtTime(rg.y,i),t.positionZ.linearRampToValueAtTime(rg.z,i),t.forwardX.linearRampToValueAtTime(sg.x,i),t.forwardY.linearRampToValueAtTime(sg.y,i),t.forwardZ.linearRampToValueAtTime(sg.z,i),t.upX.linearRampToValueAtTime(ag.x,i),t.upY.linearRampToValueAtTime(ag.y,i),t.upZ.linearRampToValueAtTime(ag.z,i)}else t.setPosition(rg.x,rg.y,rg.z),t.setOrientation(sg.x,sg.y,sg.z,ag.x,ag.y,ag.z)}}class CB extends Tr{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.loopStart=this.loopStart,t.loopEnd=this.loopEnd,t.onended=this.onEnded.bind(this),t.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=t,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(e=0){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source!==null&&(this.source.stop(this.context.currentTime+e),this.source.onended=null),this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this._connected!==!1){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){return this.detune=e,this.isPlaying===!0&&this.source.detune!==void 0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1,this._progress=0}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}copy(e,t){return super.copy(e,t),e.sourceType!=="buffer"?(console.warn("THREE.Audio: Audio source type cannot be copied."),this):(this.autoplay=e.autoplay,this.buffer=e.buffer,this.detune=e.detune,this.loop=e.loop,this.loopStart=e.loopStart,this.loopEnd=e.loopEnd,this.offset=e.offset,this.duration=e.duration,this.playbackRate=e.playbackRate,this.hasPlaybackControl=e.hasPlaybackControl,this.sourceType=e.sourceType,this.filters=e.filters.slice(),this)}clone(e){return new this.constructor(this.listener).copy(this,e)}}const og=new Oe,rI=new Fo,vX=new Oe,lg=new Oe;class yX extends CB{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}connect(){return super.connect(),this.panner.connect(this.gain),this}disconnect(){return super.disconnect(),this.panner.disconnect(this.gain),this}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,t,i){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=t,this.panner.coneOuterGain=i,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(og,rI,vX),lg.set(0,0,1).applyQuaternion(rI);const t=this.panner;if(t.positionX){const i=this.context.currentTime+this.listener.timeDelta;t.positionX.linearRampToValueAtTime(og.x,i),t.positionY.linearRampToValueAtTime(og.y,i),t.positionZ.linearRampToValueAtTime(og.z,i),t.orientationX.linearRampToValueAtTime(lg.x,i),t.orientationY.linearRampToValueAtTime(lg.y,i),t.orientationZ.linearRampToValueAtTime(lg.z,i)}else t.setPosition(og.x,og.y,og.z),t.setOrientation(lg.x,lg.y,lg.z)}}class _X{constructor(e,t=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=t,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const t=this.getFrequencyData();for(let i=0;i<t.length;i++)e+=t[i];return e/t.length}}class TB{constructor(e,t,i){this.binding=e,this.valueSize=i;let r,s,a;switch(t){case"quaternion":r=this._slerp,s=this._slerpAdditive,a=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(i*6),this._workIndex=5;break;case"string":case"bool":r=this._select,s=this._select,a=this._setAdditiveIdentityOther,this.buffer=new Array(i*5);break;default:r=this._lerp,s=this._lerpAdditive,a=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(i*5)}this._mixBufferRegion=r,this._mixBufferRegionAdditive=s,this._setIdentity=a,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,t){const i=this.buffer,r=this.valueSize,s=e*r+r;let a=this.cumulativeWeight;if(a===0){for(let o=0;o!==r;++o)i[s+o]=i[o];a=t}else{a+=t;const o=t/a;this._mixBufferRegion(i,s,0,o,r)}this.cumulativeWeight=a}accumulateAdditive(e){const t=this.buffer,i=this.valueSize,r=i*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(t,r,0,e,i),this.cumulativeWeightAdditive+=e}apply(e){const t=this.valueSize,i=this.buffer,r=e*t+t,s=this.cumulativeWeight,a=this.cumulativeWeightAdditive,o=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,s<1){const l=t*this._origIndex;this._mixBufferRegion(i,r,l,1-s,t)}a>0&&this._mixBufferRegionAdditive(i,r,this._addIndex*t,1,t);for(let l=t,c=t+t;l!==c;++l)if(i[l]!==i[l+t]){o.setValue(i,r);break}}saveOriginalState(){const e=this.binding,t=this.buffer,i=this.valueSize,r=i*this._origIndex;e.getValue(t,r);for(let s=i,a=r;s!==a;++s)t[s]=t[r+s%i];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,t=e+this.valueSize;for(let i=e;i<t;i++)this.buffer[i]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,t=this._addIndex*this.valueSize;for(let i=0;i<this.valueSize;i++)this.buffer[t+i]=this.buffer[e+i]}_select(e,t,i,r,s){if(r>=.5)for(let a=0;a!==s;++a)e[t+a]=e[i+a]}_slerp(e,t,i,r){Fo.slerpFlat(e,t,e,t,e,i,r)}_slerpAdditive(e,t,i,r,s){const a=this._workIndex*s;Fo.multiplyQuaternionsFlat(e,a,e,t,e,i),Fo.slerpFlat(e,t,e,t,e,a,r)}_lerp(e,t,i,r,s){const a=1-r;for(let o=0;o!==s;++o){const l=t+o;e[l]=e[l]*a+e[i+o]*r}}_lerpAdditive(e,t,i,r,s){for(let a=0;a!==s;++a){const o=t+a;e[o]=e[o]+e[i+a]*r}}}const M3="\\[\\]\\.:\\/",bX=new RegExp("["+M3+"]","g"),R3="[^"+M3+"]",xX="[^"+M3.replace("\\.","")+"]",SX=/((?:WC+[\/:])*)/.source.replace("WC",R3),wX=/(WCOD+)?/.source.replace("WCOD",xX),EX=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",R3),CX=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",R3),TX=new RegExp("^"+SX+wX+EX+CX+"$"),AX=["material","materials","bones","map"];class MX{constructor(e,t,i){const r=i||ls.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,r)}getValue(e,t){this.bind();const i=this._targetGroup.nCachedObjects_,r=this._bindings[i];r!==void 0&&r.getValue(e,t)}setValue(e,t){const i=this._bindings;for(let r=this._targetGroup.nCachedObjects_,s=i.length;r!==s;++r)i[r].setValue(e,t)}bind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,i=e.length;t!==i;++t)e[t].bind()}unbind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,i=e.length;t!==i;++t)e[t].unbind()}}class ls{constructor(e,t,i){this.path=t,this.parsedPath=i||ls.parseTrackName(t),this.node=ls.findNode(e,this.parsedPath.nodeName),this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,t,i){return e&&e.isAnimationObjectGroup?new ls.Composite(e,t,i):new ls(e,t,i)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(bX,"")}static parseTrackName(e){const t=TX.exec(e);if(t===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const i={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},r=i.nodeName&&i.nodeName.lastIndexOf(".");if(r!==void 0&&r!==-1){const s=i.nodeName.substring(r+1);AX.indexOf(s)!==-1&&(i.nodeName=i.nodeName.substring(0,r),i.objectName=s)}if(i.propertyName===null||i.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return i}static findNode(e,t){if(t===void 0||t===""||t==="."||t===-1||t===e.name||t===e.uuid)return e;if(e.skeleton){const i=e.skeleton.getBoneByName(t);if(i!==void 0)return i}if(e.children){const i=function(s){for(let a=0;a<s.length;a++){const o=s[a];if(o.name===t||o.uuid===t)return o;const l=i(o.children);if(l)return l}return null},r=i(e.children);if(r)return r}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,t){e[t]=this.targetObject[this.propertyName]}_getValue_array(e,t){const i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)e[t++]=i[r]}_getValue_arrayElement(e,t){e[t]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,t){this.resolvedProperty.toArray(e,t)}_setValue_direct(e,t){this.targetObject[this.propertyName]=e[t]}_setValue_direct_setNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,t){const i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)i[r]=e[t++]}_setValue_array_setNeedsUpdate(e,t){const i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)i[r]=e[t++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,t){const i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)i[r]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,t){this.resolvedProperty[this.propertyIndex]=e[t]}_setValue_arrayElement_setNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,t){this.resolvedProperty.fromArray(e,t)}_setValue_fromArray_setNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,t){this.bind(),this.getValue(e,t)}_setValue_unbound(e,t){this.bind(),this.setValue(e,t)}bind(){let e=this.node;const t=this.parsedPath,i=t.objectName,r=t.propertyName;let s=t.propertyIndex;if(e||(e=ls.findNode(this.rootNode,t.nodeName),this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.warn("THREE.PropertyBinding: No target node found for track: "+this.path+".");return}if(i){let c=t.objectIndex;switch(i){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let f=0;f<e.length;f++)if(e[f].name===c){c=f;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}e=e.material.map;break;default:if(e[i]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[i]}if(c!==void 0){if(e[c]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[c]}}const a=e[r];if(a===void 0){const c=t.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+c+"."+r+" but it wasn't found.",e);return}let o=this.Versioning.None;this.targetObject=e,e.isMaterial===!0?o=this.Versioning.NeedsUpdate:e.isObject3D===!0&&(o=this.Versioning.MatrixWorldNeedsUpdate);let l=this.BindingType.Direct;if(s!==void 0){if(r==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[s]!==void 0&&(s=e.morphTargetDictionary[s])}l=this.BindingType.ArrayElement,this.resolvedProperty=a,this.propertyIndex=s}else a.fromArray!==void 0&&a.toArray!==void 0?(l=this.BindingType.HasFromToArray,this.resolvedProperty=a):Array.isArray(a)?(l=this.BindingType.EntireArray,this.resolvedProperty=a):this.propertyName=r;this.getValue=this.GetterByBindingType[l],this.setValue=this.SetterByBindingTypeAndVersioning[l][o]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}ls.Composite=MX;ls.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};ls.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};ls.prototype.GetterByBindingType=[ls.prototype._getValue_direct,ls.prototype._getValue_array,ls.prototype._getValue_arrayElement,ls.prototype._getValue_toArray];ls.prototype.SetterByBindingTypeAndVersioning=[[ls.prototype._setValue_direct,ls.prototype._setValue_direct_setNeedsUpdate,ls.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[ls.prototype._setValue_array,ls.prototype._setValue_array_setNeedsUpdate,ls.prototype._setValue_array_setMatrixWorldNeedsUpdate],[ls.prototype._setValue_arrayElement,ls.prototype._setValue_arrayElement_setNeedsUpdate,ls.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[ls.prototype._setValue_fromArray,ls.prototype._setValue_fromArray_setNeedsUpdate,ls.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class RX{constructor(){this.isAnimationObjectGroup=!0,this.uuid=_u(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let i=0,r=arguments.length;i!==r;++i)e[arguments[i].uuid]=i;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const t=this;this.stats={objects:{get total(){return t._objects.length},get inUse(){return this.total-t.nCachedObjects_}},get bindingsPerObject(){return t._bindings.length}}}add(){const e=this._objects,t=this._indicesByUUID,i=this._paths,r=this._parsedPaths,s=this._bindings,a=s.length;let o,l=e.length,c=this.nCachedObjects_;for(let f=0,h=arguments.length;f!==h;++f){const v=arguments[f],m=v.uuid;let _=t[m];if(_===void 0){_=l++,t[m]=_,e.push(v);for(let g=0,y=a;g!==y;++g)s[g].push(new ls(v,i[g],r[g]))}else if(_<c){o=e[_];const g=--c,y=e[g];t[y.uuid]=_,e[_]=y,t[m]=g,e[g]=v;for(let u=0,b=a;u!==b;++u){const S=s[u],T=S[g];let R=S[_];S[_]=T,R===void 0&&(R=new ls(v,i[u],r[u])),S[g]=R}}else e[_]!==o&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=c}remove(){const e=this._objects,t=this._indicesByUUID,i=this._bindings,r=i.length;let s=this.nCachedObjects_;for(let a=0,o=arguments.length;a!==o;++a){const l=arguments[a],c=l.uuid,f=t[c];if(f!==void 0&&f>=s){const h=s++,v=e[h];t[v.uuid]=f,e[f]=v,t[c]=h,e[h]=l;for(let m=0,_=r;m!==_;++m){const g=i[m],y=g[h],u=g[f];g[f]=y,g[h]=u}}}this.nCachedObjects_=s}uncache(){const e=this._objects,t=this._indicesByUUID,i=this._bindings,r=i.length;let s=this.nCachedObjects_,a=e.length;for(let o=0,l=arguments.length;o!==l;++o){const c=arguments[o],f=c.uuid,h=t[f];if(h!==void 0)if(delete t[f],h<s){const v=--s,m=e[v],_=--a,g=e[_];t[m.uuid]=h,e[h]=m,t[g.uuid]=v,e[v]=g,e.pop();for(let y=0,u=r;y!==u;++y){const b=i[y],S=b[v],T=b[_];b[h]=S,b[v]=T,b.pop()}}else{const v=--a,m=e[v];v>0&&(t[m.uuid]=h),e[h]=m,e.pop();for(let _=0,g=r;_!==g;++_){const y=i[_];y[h]=y[v],y.pop()}}}this.nCachedObjects_=s}subscribe_(e,t){const i=this._bindingsIndicesByPath;let r=i[e];const s=this._bindings;if(r!==void 0)return s[r];const a=this._paths,o=this._parsedPaths,l=this._objects,c=l.length,f=this.nCachedObjects_,h=new Array(c);r=s.length,i[e]=r,a.push(e),o.push(t),s.push(h);for(let v=f,m=l.length;v!==m;++v){const _=l[v];h[v]=new ls(_,e,t)}return h}unsubscribe_(e){const t=this._bindingsIndicesByPath,i=t[e];if(i!==void 0){const r=this._paths,s=this._parsedPaths,a=this._bindings,o=a.length-1,l=a[o],c=e[o];t[c]=i,a[i]=l,a.pop(),s[i]=s[o],s.pop(),r[i]=r[o],r.pop()}}}class AB{constructor(e,t,i=null,r=t.blendMode){this._mixer=e,this._clip=t,this._localRoot=i,this.blendMode=r;const s=t.tracks,a=s.length,o=new Array(a),l={endingStart:Ag,endingEnd:Ag};for(let c=0;c!==a;++c){const f=s[c].createInterpolant(null);o[c]=f,f.settings=l}this._interpolantSettings=l,this._interpolants=o,this._propertyBindings=new Array(a),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=vk,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,t){return this.loop=e,this.repetitions=t,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,t,i=!1){if(e.fadeOut(t),this.fadeIn(t),i===!0){const r=this._clip.duration,s=e._clip.duration,a=s/r,o=r/s;e.warp(1,a,t),this.warp(o,1,t)}return this}crossFadeTo(e,t,i=!1){return e.crossFadeFrom(this,t,i)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,t,i){const r=this._mixer,s=r.time,a=this.timeScale;let o=this._timeScaleInterpolant;o===null&&(o=r._lendControlInterpolant(),this._timeScaleInterpolant=o);const l=o.parameterPositions,c=o.sampleValues;return l[0]=s,l[1]=s+i,c[0]=e/a,c[1]=t/a,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,t,i,r){if(!this.enabled){this._updateWeight(e);return}const s=this._startTime;if(s!==null){const l=(e-s)*i;l<0||i===0?t=0:(this._startTime=null,t=i*l)}t*=this._updateTimeScale(e);const a=this._updateTime(t),o=this._updateWeight(e);if(o>0){const l=this._interpolants,c=this._propertyBindings;switch(this.blendMode){case t3:for(let f=0,h=l.length;f!==h;++f)l[f].evaluate(a),c[f].accumulateAdditive(o);break;case HE:default:for(let f=0,h=l.length;f!==h;++f)l[f].evaluate(a),c[f].accumulate(r,o)}}}_updateWeight(e){let t=0;if(this.enabled){t=this.weight;const i=this._weightInterpolant;if(i!==null){const r=i.evaluate(e)[0];t*=r,e>i.parameterPositions[1]&&(this.stopFading(),r===0&&(this.enabled=!1))}}return this._effectiveWeight=t,t}_updateTimeScale(e){let t=0;if(!this.paused){t=this.timeScale;const i=this._timeScaleInterpolant;if(i!==null){const r=i.evaluate(e)[0];t*=r,e>i.parameterPositions[1]&&(this.stopWarping(),t===0?this.paused=!0:this.timeScale=t)}}return this._effectiveTimeScale=t,t}_updateTime(e){const t=this._clip.duration,i=this.loop;let r=this.time+e,s=this._loopCount;const a=i===yk;if(e===0)return s===-1?r:a&&(s&1)===1?t-r:r;if(i===gk){s===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(r>=t)r=t;else if(r<0)r=0;else{this.time=r;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(s===-1&&(e>=0?(s=0,this._setEndings(!0,this.repetitions===0,a)):this._setEndings(this.repetitions===0,!0,a)),r>=t||r<0){const o=Math.floor(r/t);r-=t*o,s+=Math.abs(o);const l=this.repetitions-s;if(l<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,r=e>0?t:0,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(l===1){const c=e<0;this._setEndings(c,!c,a)}else this._setEndings(!1,!1,a);this._loopCount=s,this.time=r,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:o})}}else this.time=r;if(a&&(s&1)===1)return t-r}return r}_setEndings(e,t,i){const r=this._interpolantSettings;i?(r.endingStart=Mg,r.endingEnd=Mg):(e?r.endingStart=this.zeroSlopeAtStart?Mg:Ag:r.endingStart=c1,t?r.endingEnd=this.zeroSlopeAtEnd?Mg:Ag:r.endingEnd=c1)}_scheduleFading(e,t,i){const r=this._mixer,s=r.time;let a=this._weightInterpolant;a===null&&(a=r._lendControlInterpolant(),this._weightInterpolant=a);const o=a.parameterPositions,l=a.sampleValues;return o[0]=s,l[0]=t,o[1]=s+e,l[1]=i,this}}const OX=new Float32Array(1);class LX extends jd{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,t){const i=e._localRoot||this._root,r=e._clip.tracks,s=r.length,a=e._propertyBindings,o=e._interpolants,l=i.uuid,c=this._bindingsByRootAndName;let f=c[l];f===void 0&&(f={},c[l]=f);for(let h=0;h!==s;++h){const v=r[h],m=v.name;let _=f[m];if(_!==void 0)++_.referenceCount,a[h]=_;else{if(_=a[h],_!==void 0){_._cacheIndex===null&&(++_.referenceCount,this._addInactiveBinding(_,l,m));continue}const g=t&&t._propertyBindings[h].binding.parsedPath;_=new TB(ls.create(i,m,g),v.ValueTypeName,v.getValueSize()),++_.referenceCount,this._addInactiveBinding(_,l,m),a[h]=_}o[h].resultBuffer=_.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const i=(e._localRoot||this._root).uuid,r=e._clip.uuid,s=this._actionsByClip[r];this._bindAction(e,s&&s.knownActions[0]),this._addInactiveAction(e,r,i)}const t=e._propertyBindings;for(let i=0,r=t.length;i!==r;++i){const s=t[i];s.useCount++===0&&(this._lendBinding(s),s.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const t=e._propertyBindings;for(let i=0,r=t.length;i!==r;++i){const s=t[i];--s.useCount===0&&(s.restoreOriginalState(),this._takeBackBinding(s))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const t=e._cacheIndex;return t!==null&&t<this._nActiveActions}_addInactiveAction(e,t,i){const r=this._actions,s=this._actionsByClip;let a=s[t];if(a===void 0)a={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,s[t]=a;else{const o=a.knownActions;e._byClipCacheIndex=o.length,o.push(e)}e._cacheIndex=r.length,r.push(e),a.actionByRoot[i]=e}_removeInactiveAction(e){const t=this._actions,i=t[t.length-1],r=e._cacheIndex;i._cacheIndex=r,t[r]=i,t.pop(),e._cacheIndex=null;const s=e._clip.uuid,a=this._actionsByClip,o=a[s],l=o.knownActions,c=l[l.length-1],f=e._byClipCacheIndex;c._byClipCacheIndex=f,l[f]=c,l.pop(),e._byClipCacheIndex=null;const h=o.actionByRoot,v=(e._localRoot||this._root).uuid;delete h[v],l.length===0&&delete a[s],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const t=e._propertyBindings;for(let i=0,r=t.length;i!==r;++i){const s=t[i];--s.referenceCount===0&&this._removeInactiveBinding(s)}}_lendAction(e){const t=this._actions,i=e._cacheIndex,r=this._nActiveActions++,s=t[r];e._cacheIndex=r,t[r]=e,s._cacheIndex=i,t[i]=s}_takeBackAction(e){const t=this._actions,i=e._cacheIndex,r=--this._nActiveActions,s=t[r];e._cacheIndex=r,t[r]=e,s._cacheIndex=i,t[i]=s}_addInactiveBinding(e,t,i){const r=this._bindingsByRootAndName,s=this._bindings;let a=r[t];a===void 0&&(a={},r[t]=a),a[i]=e,e._cacheIndex=s.length,s.push(e)}_removeInactiveBinding(e){const t=this._bindings,i=e.binding,r=i.rootNode.uuid,s=i.path,a=this._bindingsByRootAndName,o=a[r],l=t[t.length-1],c=e._cacheIndex;l._cacheIndex=c,t[c]=l,t.pop(),delete o[s],Object.keys(o).length===0&&delete a[r]}_lendBinding(e){const t=this._bindings,i=e._cacheIndex,r=this._nActiveBindings++,s=t[r];e._cacheIndex=r,t[r]=e,s._cacheIndex=i,t[i]=s}_takeBackBinding(e){const t=this._bindings,i=e._cacheIndex,r=--this._nActiveBindings,s=t[r];e._cacheIndex=r,t[r]=e,s._cacheIndex=i,t[i]=s}_lendControlInterpolant(){const e=this._controlInterpolants,t=this._nActiveControlInterpolants++;let i=e[t];return i===void 0&&(i=new S3(new Float32Array(2),new Float32Array(2),1,OX),i.__cacheIndex=t,e[t]=i),i}_takeBackControlInterpolant(e){const t=this._controlInterpolants,i=e.__cacheIndex,r=--this._nActiveControlInterpolants,s=t[r];e.__cacheIndex=r,t[r]=e,s.__cacheIndex=i,t[i]=s}clipAction(e,t,i){const r=t||this._root,s=r.uuid;let a=typeof e=="string"?b1.findByName(r,e):e;const o=a!==null?a.uuid:e,l=this._actionsByClip[o];let c=null;if(i===void 0&&(a!==null?i=a.blendMode:i=HE),l!==void 0){const h=l.actionByRoot[s];if(h!==void 0&&h.blendMode===i)return h;c=l.knownActions[0],a===null&&(a=c._clip)}if(a===null)return null;const f=new AB(this,a,t,i);return this._bindAction(f,c),this._addInactiveAction(f,o,s),f}existingAction(e,t){const i=t||this._root,r=i.uuid,s=typeof e=="string"?b1.findByName(i,e):e,a=s?s.uuid:e,o=this._actionsByClip[a];return o!==void 0&&o.actionByRoot[r]||null}stopAllAction(){const e=this._actions,t=this._nActiveActions;for(let i=t-1;i>=0;--i)e[i].stop();return this}update(e){e*=this.timeScale;const t=this._actions,i=this._nActiveActions,r=this.time+=e,s=Math.sign(e),a=this._accuIndex^=1;for(let c=0;c!==i;++c)t[c]._update(r,e,s,a);const o=this._bindings,l=this._nActiveBindings;for(let c=0;c!==l;++c)o[c].apply(a);return this}setTime(e){this.time=0;for(let t=0;t<this._actions.length;t++)this._actions[t].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const t=this._actions,i=e.uuid,r=this._actionsByClip,s=r[i];if(s!==void 0){const a=s.knownActions;for(let o=0,l=a.length;o!==l;++o){const c=a[o];this._deactivateAction(c);const f=c._cacheIndex,h=t[t.length-1];c._cacheIndex=null,c._byClipCacheIndex=null,h._cacheIndex=f,t[f]=h,t.pop(),this._removeInactiveBindingsForAction(c)}delete r[i]}}uncacheRoot(e){const t=e.uuid,i=this._actionsByClip;for(const a in i){const o=i[a].actionByRoot,l=o[t];l!==void 0&&(this._deactivateAction(l),this._removeInactiveAction(l))}const r=this._bindingsByRootAndName,s=r[t];if(s!==void 0)for(const a in s){const o=s[a];o.restoreOriginalState(),this._removeInactiveBinding(o)}}uncacheAction(e,t){const i=this.existingAction(e,t);i!==null&&(this._deactivateAction(i),this._removeInactiveAction(i))}}class PX extends s3{constructor(e=1,t=1,i=1,r={}){super(e,t,r),this.isRenderTarget3D=!0,this.depth=i,this.texture=new VE(null,e,t,i),this._setTextureOptions(r),this.texture.isRenderTargetTexture=!0}}class O3{constructor(e){this.value=e}clone(){return new O3(this.value.clone===void 0?this.value:this.value.clone())}}let IX=0;class DX extends jd{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:IX++}),this.name="",this.usage=h1,this.uniforms=[]}add(e){return this.uniforms.push(e),this}remove(e){const t=this.uniforms.indexOf(e);return t!==-1&&this.uniforms.splice(t,1),this}setName(e){return this.name=e,this}setUsage(e){return this.usage=e,this}dispose(){this.dispatchEvent({type:"dispose"})}copy(e){this.name=e.name,this.usage=e.usage;const t=e.uniforms;this.uniforms.length=0;for(let i=0,r=t.length;i<r;i++){const s=Array.isArray(t[i])?t[i]:[t[i]];for(let a=0;a<s.length;a++)this.uniforms.push(s[a].clone())}return this}clone(){return new this.constructor().copy(this)}}class Gw extends qE{constructor(e,t,i=1){super(e,t),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=i}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const t=super.clone(e);return t.meshPerAttribute=this.meshPerAttribute,t}toJSON(e){const t=super.toJSON(e);return t.isInstancedInterleavedBuffer=!0,t.meshPerAttribute=this.meshPerAttribute,t}}class NX{constructor(e,t,i,r,s,a=!1){this.isGLBufferAttribute=!0,this.name="",this.buffer=e,this.type=t,this.itemSize=i,this.elementSize=r,this.count=s,this.normalized=a,this.version=0}set needsUpdate(e){e===!0&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,t){return this.type=e,this.elementSize=t,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}const sI=new ri;class L3{constructor(e,t,i=0,r=1/0){this.ray=new rp(e,t),this.near=i,this.far=r,this.camera=null,this.layers=new Y0,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,t){this.ray.set(e,t)}setFromCamera(e,t){t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):console.error("THREE.Raycaster: Unsupported camera type: "+t.type)}setFromXRController(e){return sI.identity().extractRotation(e.matrixWorld),this.ray.origin.setFromMatrixPosition(e.matrixWorld),this.ray.direction.set(0,0,-1).applyMatrix4(sI),this}intersectObject(e,t=!0,i=[]){return CM(e,this,i,t),i.sort(aI),i}intersectObjects(e,t=!0,i=[]){for(let r=0,s=e.length;r<s;r++)CM(e[r],this,i,t);return i.sort(aI),i}}function aI(n,e){return n.distance-e.distance}function CM(n,e,t,i){let r=!0;if(n.layers.test(e.layers)&&n.raycast(e,t)===!1&&(r=!1),r===!0&&i===!0){const s=n.children;for(let a=0,o=s.length;a<o;a++)CM(s[a],e,t,!0)}}class TM{constructor(e=1,t=0,i=0){this.radius=e,this.phi=t,this.theta=i}set(e,t,i){return this.radius=e,this.phi=t,this.theta=i,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=dr(this.phi,1e-6,Math.PI-1e-6),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,i){return this.radius=Math.sqrt(e*e+t*t+i*i),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,i),this.phi=Math.acos(dr(t/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class FX{constructor(e=1,t=0,i=0){this.radius=e,this.theta=t,this.y=i}set(e,t,i){return this.radius=e,this.theta=t,this.y=i,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,i){return this.radius=Math.sqrt(e*e+i*i),this.theta=Math.atan2(e,i),this.y=t,this}clone(){return new this.constructor().copy(this)}}class P3{constructor(e,t,i,r){P3.prototype.isMatrix2=!0,this.elements=[1,0,0,1],e!==void 0&&this.set(e,t,i,r)}identity(){return this.set(1,0,0,1),this}fromArray(e,t=0){for(let i=0;i<4;i++)this.elements[i]=e[i+t];return this}set(e,t,i,r){const s=this.elements;return s[0]=e,s[2]=t,s[1]=i,s[3]=r,this}}const oI=new ln;class UX{constructor(e=new ln(1/0,1/0),t=new ln(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromPoints(e){this.makeEmpty();for(let t=0,i=e.length;t<i;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const i=oI.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(i),this.max.copy(e).add(i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,oI).distanceTo(e)}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const lI=new Oe,Nx=new Oe;class MB{constructor(e=new Oe,t=new Oe){this.start=e,this.end=t}set(e,t){return this.start.copy(e),this.end.copy(t),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,t){return this.delta(t).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,t){lI.subVectors(e,this.start),Nx.subVectors(this.end,this.start);const i=Nx.dot(Nx);let s=Nx.dot(lI)/i;return t&&(s=dr(s,0,1)),s}closestPointToPoint(e,t,i){const r=this.closestPointToPointParameter(e,t);return this.delta(i).multiplyScalar(r).add(this.start)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const cI=new Oe;class kX extends Tr{constructor(e,t){super(),this.light=e,this.matrixAutoUpdate=!1,this.color=t,this.type="SpotLightHelper";const i=new xr,r=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let a=0,o=1,l=32;a<l;a++,o++){const c=a/l*Math.PI*2,f=o/l*Math.PI*2;r.push(Math.cos(c),Math.sin(c),1,Math.cos(f),Math.sin(f),1)}i.setAttribute("position",new mi(r,3));const s=new Tc({fog:!1,toneMapped:!1});this.cone=new qd(i,s),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),this.parent?(this.parent.updateWorldMatrix(!0),this.matrix.copy(this.parent.matrixWorld).invert().multiply(this.light.matrixWorld)):this.matrix.copy(this.light.matrixWorld),this.matrixWorld.copy(this.light.matrixWorld);const e=this.light.distance?this.light.distance:1e3,t=e*Math.tan(this.light.angle);this.cone.scale.set(t,t,e),cI.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(cI),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const qp=new Oe,Fx=new ri,mA=new ri;class BX extends qd{constructor(e){const t=RB(e),i=new xr,r=[],s=[],a=new Zn(0,0,1),o=new Zn(0,1,0);for(let c=0;c<t.length;c++){const f=t[c];f.parent&&f.parent.isBone&&(r.push(0,0,0),r.push(0,0,0),s.push(a.r,a.g,a.b),s.push(o.r,o.g,o.b))}i.setAttribute("position",new mi(r,3)),i.setAttribute("color",new mi(s,3));const l=new Tc({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(i,l),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=t,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(e){const t=this.bones,i=this.geometry,r=i.getAttribute("position");mA.copy(this.root.matrixWorld).invert();for(let s=0,a=0;s<t.length;s++){const o=t[s];o.parent&&o.parent.isBone&&(Fx.multiplyMatrices(mA,o.matrixWorld),qp.setFromMatrixPosition(Fx),r.setXYZ(a,qp.x,qp.y,qp.z),Fx.multiplyMatrices(mA,o.parent.matrixWorld),qp.setFromMatrixPosition(Fx),r.setXYZ(a+1,qp.x,qp.y,qp.z),a+=2)}i.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose()}}function RB(n){const e=[];n.isBone===!0&&e.push(n);for(let t=0;t<n.children.length;t++)e.push(...RB(n.children[t]));return e}class OB extends Xs{constructor(e,t,i){const r=new j1(t,4,2),s=new Xd({wireframe:!0,fog:!1,toneMapped:!1});super(r,s),this.light=e,this.color=i,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const zX=new Oe,uI=new Zn,hI=new Zn;class GX extends Tr{constructor(e,t,i){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=i,this.type="HemisphereLightHelper";const r=new W1(t);r.rotateY(Math.PI*.5),this.material=new Xd({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const s=r.getAttribute("position"),a=new Float32Array(s.count*3);r.setAttribute("color",new qs(a,3)),this.add(new Xs(r,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const t=e.geometry.getAttribute("color");uI.copy(this.light.color),hI.copy(this.light.groundColor);for(let i=0,r=t.count;i<r;i++){const s=i<r/2?uI:hI;t.setXYZ(i,s.r,s.g,s.b)}t.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),e.lookAt(zX.setFromMatrixPosition(this.light.matrixWorld).negate())}}class HX extends qd{constructor(e=10,t=10,i=4473924,r=8947848){i=new Zn(i),r=new Zn(r);const s=t/2,a=e/t,o=e/2,l=[],c=[];for(let v=0,m=0,_=-o;v<=t;v++,_+=a){l.push(-o,0,_,o,0,_),l.push(_,0,-o,_,0,o);const g=v===s?i:r;g.toArray(c,m),m+=3,g.toArray(c,m),m+=3,g.toArray(c,m),m+=3,g.toArray(c,m),m+=3}const f=new xr;f.setAttribute("position",new mi(l,3)),f.setAttribute("color",new mi(c,3));const h=new Tc({vertexColors:!0,toneMapped:!1});super(f,h),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class $X extends qd{constructor(e=10,t=16,i=8,r=64,s=4473924,a=8947848){s=new Zn(s),a=new Zn(a);const o=[],l=[];if(t>1)for(let h=0;h<t;h++){const v=h/t*(Math.PI*2),m=Math.sin(v)*e,_=Math.cos(v)*e;o.push(0,0,0),o.push(m,0,_);const g=h&1?s:a;l.push(g.r,g.g,g.b),l.push(g.r,g.g,g.b)}for(let h=0;h<i;h++){const v=h&1?s:a,m=e-e/i*h;for(let _=0;_<r;_++){let g=_/r*(Math.PI*2),y=Math.sin(g)*m,u=Math.cos(g)*m;o.push(y,0,u),l.push(v.r,v.g,v.b),g=(_+1)/r*(Math.PI*2),y=Math.sin(g)*m,u=Math.cos(g)*m,o.push(y,0,u),l.push(v.r,v.g,v.b)}}const c=new xr;c.setAttribute("position",new mi(o,3)),c.setAttribute("color",new mi(l,3));const f=new Tc({vertexColors:!0,toneMapped:!1});super(c,f),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const dI=new Oe,Ux=new Oe,fI=new Oe;class LB extends Tr{constructor(e,t,i){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=i,this.type="DirectionalLightHelper",t===void 0&&(t=1);let r=new xr;r.setAttribute("position",new mi([-t,t,0,t,t,0,t,-t,0,-t,-t,0,-t,t,0],3));const s=new Tc({fog:!1,toneMapped:!1});this.lightPlane=new pm(r,s),this.add(this.lightPlane),r=new xr,r.setAttribute("position",new mi([0,0,0,0,0,1],3)),this.targetLine=new pm(r,s),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),dI.setFromMatrixPosition(this.light.matrixWorld),Ux.setFromMatrixPosition(this.light.target.matrixWorld),fI.subVectors(Ux,dI),this.lightPlane.lookAt(Ux),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(Ux),this.targetLine.scale.z=fI.length()}}const kx=new Oe,to=new WE;class VX extends qd{constructor(e){const t=new xr,i=new Tc({color:16777215,vertexColors:!0,toneMapped:!1}),r=[],s=[],a={};o("n1","n2"),o("n2","n4"),o("n4","n3"),o("n3","n1"),o("f1","f2"),o("f2","f4"),o("f4","f3"),o("f3","f1"),o("n1","f1"),o("n2","f2"),o("n3","f3"),o("n4","f4"),o("p","n1"),o("p","n2"),o("p","n3"),o("p","n4"),o("u1","u2"),o("u2","u3"),o("u3","u1"),o("c","t"),o("p","c"),o("cn1","cn2"),o("cn3","cn4"),o("cf1","cf2"),o("cf3","cf4");function o(_,g){l(_),l(g)}function l(_){r.push(0,0,0),s.push(0,0,0),a[_]===void 0&&(a[_]=[]),a[_].push(r.length/3-1)}t.setAttribute("position",new mi(r,3)),t.setAttribute("color",new mi(s,3)),super(t,i),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=a,this.update();const c=new Zn(16755200),f=new Zn(16711680),h=new Zn(43775),v=new Zn(16777215),m=new Zn(3355443);this.setColors(c,f,h,v,m)}setColors(e,t,i,r,s){const o=this.geometry.getAttribute("color");o.setXYZ(0,e.r,e.g,e.b),o.setXYZ(1,e.r,e.g,e.b),o.setXYZ(2,e.r,e.g,e.b),o.setXYZ(3,e.r,e.g,e.b),o.setXYZ(4,e.r,e.g,e.b),o.setXYZ(5,e.r,e.g,e.b),o.setXYZ(6,e.r,e.g,e.b),o.setXYZ(7,e.r,e.g,e.b),o.setXYZ(8,e.r,e.g,e.b),o.setXYZ(9,e.r,e.g,e.b),o.setXYZ(10,e.r,e.g,e.b),o.setXYZ(11,e.r,e.g,e.b),o.setXYZ(12,e.r,e.g,e.b),o.setXYZ(13,e.r,e.g,e.b),o.setXYZ(14,e.r,e.g,e.b),o.setXYZ(15,e.r,e.g,e.b),o.setXYZ(16,e.r,e.g,e.b),o.setXYZ(17,e.r,e.g,e.b),o.setXYZ(18,e.r,e.g,e.b),o.setXYZ(19,e.r,e.g,e.b),o.setXYZ(20,e.r,e.g,e.b),o.setXYZ(21,e.r,e.g,e.b),o.setXYZ(22,e.r,e.g,e.b),o.setXYZ(23,e.r,e.g,e.b),o.setXYZ(24,t.r,t.g,t.b),o.setXYZ(25,t.r,t.g,t.b),o.setXYZ(26,t.r,t.g,t.b),o.setXYZ(27,t.r,t.g,t.b),o.setXYZ(28,t.r,t.g,t.b),o.setXYZ(29,t.r,t.g,t.b),o.setXYZ(30,t.r,t.g,t.b),o.setXYZ(31,t.r,t.g,t.b),o.setXYZ(32,i.r,i.g,i.b),o.setXYZ(33,i.r,i.g,i.b),o.setXYZ(34,i.r,i.g,i.b),o.setXYZ(35,i.r,i.g,i.b),o.setXYZ(36,i.r,i.g,i.b),o.setXYZ(37,i.r,i.g,i.b),o.setXYZ(38,r.r,r.g,r.b),o.setXYZ(39,r.r,r.g,r.b),o.setXYZ(40,s.r,s.g,s.b),o.setXYZ(41,s.r,s.g,s.b),o.setXYZ(42,s.r,s.g,s.b),o.setXYZ(43,s.r,s.g,s.b),o.setXYZ(44,s.r,s.g,s.b),o.setXYZ(45,s.r,s.g,s.b),o.setXYZ(46,s.r,s.g,s.b),o.setXYZ(47,s.r,s.g,s.b),o.setXYZ(48,s.r,s.g,s.b),o.setXYZ(49,s.r,s.g,s.b),o.needsUpdate=!0}update(){const e=this.geometry,t=this.pointMap,i=1,r=1;to.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse);const s=this.camera.coordinateSystem===nh?-1:0;po("c",t,e,to,0,0,s),po("t",t,e,to,0,0,1),po("n1",t,e,to,-i,-r,s),po("n2",t,e,to,i,-r,s),po("n3",t,e,to,-i,r,s),po("n4",t,e,to,i,r,s),po("f1",t,e,to,-i,-r,1),po("f2",t,e,to,i,-r,1),po("f3",t,e,to,-i,r,1),po("f4",t,e,to,i,r,1),po("u1",t,e,to,i*.7,r*1.1,s),po("u2",t,e,to,-i*.7,r*1.1,s),po("u3",t,e,to,0,r*2,s),po("cf1",t,e,to,-i,0,1),po("cf2",t,e,to,i,0,1),po("cf3",t,e,to,0,-r,1),po("cf4",t,e,to,0,r,1),po("cn1",t,e,to,-i,0,s),po("cn2",t,e,to,i,0,s),po("cn3",t,e,to,0,-r,s),po("cn4",t,e,to,0,r,s),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function po(n,e,t,i,r,s,a){kx.set(r,s,a).unproject(i);const o=e[n];if(o!==void 0){const l=t.getAttribute("position");for(let c=0,f=o.length;c<f;c++)l.setXYZ(o[c],kx.x,kx.y,kx.z)}}const Bx=new Wa;class WX extends qd{constructor(e,t=16776960){const i=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=new Float32Array(24),s=new xr;s.setIndex(new qs(i,1)),s.setAttribute("position",new qs(r,3)),super(s,new Tc({color:t,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(){if(this.object!==void 0&&Bx.setFromObject(this.object),Bx.isEmpty())return;const e=Bx.min,t=Bx.max,i=this.geometry.attributes.position,r=i.array;r[0]=t.x,r[1]=t.y,r[2]=t.z,r[3]=e.x,r[4]=t.y,r[5]=t.z,r[6]=e.x,r[7]=e.y,r[8]=t.z,r[9]=t.x,r[10]=e.y,r[11]=t.z,r[12]=t.x,r[13]=t.y,r[14]=e.z,r[15]=e.x,r[16]=t.y,r[17]=e.z,r[18]=e.x,r[19]=e.y,r[20]=e.z,r[21]=t.x,r[22]=e.y,r[23]=e.z,i.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,t){return super.copy(e,t),this.object=e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class jX extends qd{constructor(e,t=16776960){const i=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],s=new xr;s.setIndex(new qs(i,1)),s.setAttribute("position",new mi(r,3)),super(s,new Tc({color:t,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const t=this.box;t.isEmpty()||(t.getCenter(this.position),t.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}}class XX extends pm{constructor(e,t=1,i=16776960){const r=i,s=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],a=new xr;a.setAttribute("position",new mi(s,3)),a.computeBoundingSphere(),super(a,new Tc({color:r,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=t;const o=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],l=new xr;l.setAttribute("position",new mi(o,3)),l.computeBoundingSphere(),this.add(new Xs(l,new Xd({color:r,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const pI=new Oe;let zx,gA;class qX extends Tr{constructor(e=new Oe(0,0,1),t=new Oe(0,0,0),i=1,r=16776960,s=i*.2,a=s*.2){super(),this.type="ArrowHelper",zx===void 0&&(zx=new xr,zx.setAttribute("position",new mi([0,0,0,0,1,0],3)),gA=new $1(.5,1,5,1),gA.translate(0,-.5,0)),this.position.copy(t),this.line=new pm(zx,new Tc({color:r,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new Xs(gA,new Xd({color:r,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(i,s,a)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{pI.set(e.z,0,-e.x).normalize();const t=Math.acos(e.y);this.quaternion.setFromAxisAngle(pI,t)}}setLength(e,t=e*.2,i=t*.2){this.line.scale.set(1,Math.max(1e-4,e-t),1),this.line.updateMatrix(),this.cone.scale.set(i,t,i),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class YX extends qd{constructor(e=1){const t=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],i=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],r=new xr;r.setAttribute("position",new mi(t,3)),r.setAttribute("color",new mi(i,3));const s=new Tc({vertexColors:!0,toneMapped:!1});super(r,s),this.type="AxesHelper"}setColors(e,t,i){const r=new Zn,s=this.geometry.attributes.color.array;return r.set(e),r.toArray(s,0),r.toArray(s,3),r.set(t),r.toArray(s,6),r.toArray(s,9),r.set(i),r.toArray(s,12),r.toArray(s,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class KX{constructor(){this.type="ShapePath",this.color=new Zn,this.subPaths=[],this.currentPath=null}moveTo(e,t){return this.currentPath=new zw,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t),this}lineTo(e,t){return this.currentPath.lineTo(e,t),this}quadraticCurveTo(e,t,i,r){return this.currentPath.quadraticCurveTo(e,t,i,r),this}bezierCurveTo(e,t,i,r,s,a){return this.currentPath.bezierCurveTo(e,t,i,r,s,a),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function t(u){const b=[];for(let S=0,T=u.length;S<T;S++){const R=u[S],O=new zg;O.curves=R.curves,b.push(O)}return b}function i(u,b){const S=b.length;let T=!1;for(let R=S-1,O=0;O<S;R=O++){let C=b[R],I=b[O],F=I.x-C.x,M=I.y-C.y;if(Math.abs(M)>Number.EPSILON){if(M<0&&(C=b[O],F=-F,I=b[R],M=-M),u.y<C.y||u.y>I.y)continue;if(u.y===C.y){if(u.x===C.x)return!0}else{const D=M*(u.x-C.x)-F*(u.y-C.y);if(D===0)return!0;if(D<0)continue;T=!T}}else{if(u.y!==C.y)continue;if(I.x<=u.x&&u.x<=C.x||C.x<=u.x&&u.x<=I.x)return!0}}return T}const r=Bh.isClockWise,s=this.subPaths;if(s.length===0)return[];let a,o,l;const c=[];if(s.length===1)return o=s[0],l=new zg,l.curves=o.curves,c.push(l),c;let f=!r(s[0].getPoints());f=e?!f:f;const h=[],v=[];let m=[],_=0,g;v[_]=void 0,m[_]=[];for(let u=0,b=s.length;u<b;u++)o=s[u],g=o.getPoints(),a=r(g),a=e?!a:a,a?(!f&&v[_]&&_++,v[_]={s:new zg,p:g},v[_].s.curves=o.curves,f&&_++,m[_]=[]):m[_].push({h:o,p:g[0]});if(!v[0])return t(s);if(v.length>1){let u=!1,b=0;for(let S=0,T=v.length;S<T;S++)h[S]=[];for(let S=0,T=v.length;S<T;S++){const R=m[S];for(let O=0;O<R.length;O++){const C=R[O];let I=!0;for(let F=0;F<v.length;F++)i(C.p,v[F].p)&&(S!==F&&b++,I?(I=!1,h[F].push(C)):u=!0);I&&h[S].push(C)}}b>0&&u===!1&&(m=h)}let y;for(let u=0,b=v.length;u<b;u++){l=v[u].s,c.push(l),y=m[u];for(let S=0,T=y.length;S<T;S++)l.holes.push(y[S].h)}return c}}class ZX extends jd{constructor(e,t=null){super(),this.object=e,this.domElement=t,this.enabled=!0,this.state=-1,this.keys={},this.mouseButtons={LEFT:null,MIDDLE:null,RIGHT:null},this.touches={ONE:null,TWO:null}}connect(e){if(e===void 0){console.warn("THREE.Controls: connect() now requires an element.");return}this.domElement!==null&&this.disconnect(),this.domElement=e}disconnect(){}dispose(){}update(){}}function QX(n,e){const t=n.image&&n.image.width?n.image.width/n.image.height:1;return t>e?(n.repeat.x=1,n.repeat.y=t/e,n.offset.x=0,n.offset.y=(1-n.repeat.y)/2):(n.repeat.x=e/t,n.repeat.y=1,n.offset.x=(1-n.repeat.x)/2,n.offset.y=0),n}function JX(n,e){const t=n.image&&n.image.width?n.image.width/n.image.height:1;return t>e?(n.repeat.x=e/t,n.repeat.y=1,n.offset.x=(1-n.repeat.x)/2,n.offset.y=0):(n.repeat.x=1,n.repeat.y=t/e,n.offset.x=0,n.offset.y=(1-n.repeat.y)/2),n}function eq(n){return n.repeat.x=1,n.repeat.y=1,n.offset.x=0,n.offset.y=0,n}function AM(n,e,t,i){const r=tq(i);switch(t){case ZR:return n*e;case k1:return n*e/r.components*r.byteLength;case B1:return n*e/r.components*r.byteLength;case JR:return n*e*2/r.components*r.byteLength;case zE:return n*e*2/r.components*r.byteLength;case QR:return n*e*3/r.components*r.byteLength;case go:return n*e*4/r.components*r.byteLength;case GE:return n*e*4/r.components*r.byteLength;case U_:case k_:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*8;case B_:case z_:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*16;case hw:case fw:return Math.max(n,16)*Math.max(e,8)/4;case uw:case dw:return Math.max(n,8)*Math.max(e,8)/2;case pw:case mw:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*8;case gw:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*16;case vw:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*16;case yw:return Math.floor((n+4)/5)*Math.floor((e+3)/4)*16;case _w:return Math.floor((n+4)/5)*Math.floor((e+4)/5)*16;case bw:return Math.floor((n+5)/6)*Math.floor((e+4)/5)*16;case xw:return Math.floor((n+5)/6)*Math.floor((e+5)/6)*16;case Sw:return Math.floor((n+7)/8)*Math.floor((e+4)/5)*16;case ww:return Math.floor((n+7)/8)*Math.floor((e+5)/6)*16;case Ew:return Math.floor((n+7)/8)*Math.floor((e+7)/8)*16;case Cw:return Math.floor((n+9)/10)*Math.floor((e+4)/5)*16;case Tw:return Math.floor((n+9)/10)*Math.floor((e+5)/6)*16;case Aw:return Math.floor((n+9)/10)*Math.floor((e+7)/8)*16;case Mw:return Math.floor((n+9)/10)*Math.floor((e+9)/10)*16;case Rw:return Math.floor((n+11)/12)*Math.floor((e+9)/10)*16;case Ow:return Math.floor((n+11)/12)*Math.floor((e+11)/12)*16;case G_:case Lw:case Pw:return Math.ceil(n/4)*Math.ceil(e/4)*16;case e3:case Iw:return Math.ceil(n/4)*Math.ceil(e/4)*8;case Dw:case Nw:return Math.ceil(n/4)*Math.ceil(e/4)*16}throw new Error(`Unable to determine texture byte length for ${t} format.`)}function tq(n){switch(n){case wc:case FE:return{byteLength:1,components:1};case V0:case UE:case Xo:return{byteLength:2,components:1};case kE:case BE:return{byteLength:2,components:4};case kd:case U1:case Oa:return{byteLength:4,components:1};case KR:return{byteLength:4,components:3}}throw new Error(`Unknown texture type ${n}.`)}class nq{static contain(e,t){return QX(e,t)}static cover(e,t){return JX(e,t)}static fill(e){return eq(e)}static getByteLength(e,t,i,r){return AM(e,t,i,r)}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:N1}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=N1);/**
 * @license
 * Copyright 2010-2025 Three.js Authors
 * SPDX-License-Identifier: MIT
 */function PB(){let n=null,e=!1,t=null,i=null;function r(s,a){t(s,a),i=n.requestAnimationFrame(r)}return{start:function(){e!==!0&&t!==null&&(i=n.requestAnimationFrame(r),e=!0)},stop:function(){n.cancelAnimationFrame(i),e=!1},setAnimationLoop:function(s){t=s},setContext:function(s){n=s}}}function iq(n){const e=new WeakMap;function t(o,l){const c=o.array,f=o.usage,h=c.byteLength,v=n.createBuffer();n.bindBuffer(l,v),n.bufferData(l,c,f),o.onUploadCallback();let m;if(c instanceof Float32Array)m=n.FLOAT;else if(typeof Float16Array<"u"&&c instanceof Float16Array)m=n.HALF_FLOAT;else if(c instanceof Uint16Array)o.isFloat16BufferAttribute?m=n.HALF_FLOAT:m=n.UNSIGNED_SHORT;else if(c instanceof Int16Array)m=n.SHORT;else if(c instanceof Uint32Array)m=n.UNSIGNED_INT;else if(c instanceof Int32Array)m=n.INT;else if(c instanceof Int8Array)m=n.BYTE;else if(c instanceof Uint8Array)m=n.UNSIGNED_BYTE;else if(c instanceof Uint8ClampedArray)m=n.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+c);return{buffer:v,type:m,bytesPerElement:c.BYTES_PER_ELEMENT,version:o.version,size:h}}function i(o,l,c){const f=l.array,h=l.updateRanges;if(n.bindBuffer(c,o),h.length===0)n.bufferSubData(c,0,f);else{h.sort((m,_)=>m.start-_.start);let v=0;for(let m=1;m<h.length;m++){const _=h[v],g=h[m];g.start<=_.start+_.count+1?_.count=Math.max(_.count,g.start+g.count-_.start):(++v,h[v]=g)}h.length=v+1;for(let m=0,_=h.length;m<_;m++){const g=h[m];n.bufferSubData(c,g.start*f.BYTES_PER_ELEMENT,f,g.start,g.count)}l.clearUpdateRanges()}l.onUploadCallback()}function r(o){return o.isInterleavedBufferAttribute&&(o=o.data),e.get(o)}function s(o){o.isInterleavedBufferAttribute&&(o=o.data);const l=e.get(o);l&&(n.deleteBuffer(l.buffer),e.delete(o))}function a(o,l){if(o.isInterleavedBufferAttribute&&(o=o.data),o.isGLBufferAttribute){const f=e.get(o);(!f||f.version<o.version)&&e.set(o,{buffer:o.buffer,type:o.type,bytesPerElement:o.elementSize,version:o.version});return}const c=e.get(o);if(c===void 0)e.set(o,t(o,l));else if(c.version<o.version){if(c.size!==o.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");i(c.buffer,o,l),c.version=o.version}}return{get:r,remove:s,update:a}}var rq=`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,sq=`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,aq=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,oq=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,lq=`#ifdef USE_ALPHATEST
	#ifdef ALPHA_TO_COVERAGE
	diffuseColor.a = smoothstep( alphaTest, alphaTest + fwidth( diffuseColor.a ), diffuseColor.a );
	if ( diffuseColor.a == 0.0 ) discard;
	#else
	if ( diffuseColor.a < alphaTest ) discard;
	#endif
#endif`,cq=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,uq=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_CLEARCOAT ) 
		clearcoatSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_SHEEN ) 
		sheenSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometryNormal, geometryViewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,hq=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,dq=`#ifdef USE_BATCHING
	#if ! defined( GL_ANGLE_multi_draw )
	#define gl_DrawID _gl_DrawID
	uniform int _gl_DrawID;
	#endif
	uniform highp sampler2D batchingTexture;
	uniform highp usampler2D batchingIdTexture;
	mat4 getBatchingMatrix( const in float i ) {
		int size = textureSize( batchingTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
	float getIndirectIndex( const in int i ) {
		int size = textureSize( batchingIdTexture, 0 ).x;
		int x = i % size;
		int y = i / size;
		return float( texelFetch( batchingIdTexture, ivec2( x, y ), 0 ).r );
	}
#endif
#ifdef USE_BATCHING_COLOR
	uniform sampler2D batchingColorTexture;
	vec3 getBatchingColor( const in float i ) {
		int size = textureSize( batchingColorTexture, 0 ).x;
		int j = int( i );
		int x = j % size;
		int y = j / size;
		return texelFetch( batchingColorTexture, ivec2( x, y ), 0 ).rgb;
	}
#endif`,fq=`#ifdef USE_BATCHING
	mat4 batchingMatrix = getBatchingMatrix( getIndirectIndex( gl_DrawID ) );
#endif`,pq=`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,mq=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,gq=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,vq=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,yq=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );
		vec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,_q=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#ifdef ALPHA_TO_COVERAGE
		float distanceToPlane, distanceGradient;
		float clipOpacity = 1.0;
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
			distanceGradient = fwidth( distanceToPlane ) / 2.0;
			clipOpacity *= smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			if ( clipOpacity == 0.0 ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			float unionClipOpacity = 1.0;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
				distanceGradient = fwidth( distanceToPlane ) / 2.0;
				unionClipOpacity *= 1.0 - smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			}
			#pragma unroll_loop_end
			clipOpacity *= 1.0 - unionClipOpacity;
		#endif
		diffuseColor.a *= clipOpacity;
		if ( diffuseColor.a == 0.0 ) discard;
	#else
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			bool clipped = true;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
			}
			#pragma unroll_loop_end
			if ( clipped ) discard;
		#endif
	#endif
#endif`,bq=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,xq=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,Sq=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,wq=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,Eq=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,Cq=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	varying vec3 vColor;
#endif`,Tq=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif
#ifdef USE_BATCHING_COLOR
	vec3 batchingColor = getBatchingColor( getIndirectIndex( gl_DrawID ) );
	vColor.xyz *= batchingColor.xyz;
#endif`,Aq=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,Mq=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,Rq=`vec3 transformedNormal = objectNormal;
#ifdef USE_TANGENT
	vec3 transformedTangent = objectTangent;
#endif
#ifdef USE_BATCHING
	mat3 bm = mat3( batchingMatrix );
	transformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );
	transformedNormal = bm * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = bm * transformedTangent;
	#endif
#endif
#ifdef USE_INSTANCING
	mat3 im = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );
	transformedNormal = im * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = im * transformedTangent;
	#endif
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	transformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,Oq=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,Lq=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,Pq=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	#ifdef DECODE_VIDEO_TEXTURE_EMISSIVE
		emissiveColor = sRGBTransferEOTF( emissiveColor );
	#endif
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,Iq=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,Dq="gl_FragColor = linearToOutputTexel( gl_FragColor );",Nq=`vec4 LinearTransferOETF( in vec4 value ) {
	return value;
}
vec4 sRGBTransferEOTF( in vec4 value ) {
	return vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );
}
vec4 sRGBTransferOETF( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,Fq=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, envMapRotation * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,Uq=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	uniform mat3 envMapRotation;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,kq=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,Bq=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,zq=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,Gq=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,Hq=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,$q=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,Vq=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,Wq=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,jq=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,Xq=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,qq=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,Yq=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
#if defined( USE_LIGHT_PROBES )
	uniform vec3 lightProbe[ 9 ];
#endif
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
	if ( cutoffDistance > 0.0 ) {
		distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
	}
	return distanceFalloff;
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,Kq=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,Zq=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,Qq=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,Jq=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,eY=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,tY=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_DISPERSION
	material.dispersion = dispersion;
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	if( material.anisotropy == 0.0 ) {
		anisotropyV = vec2( 1.0, 0.0 );
	} else {
		anisotropyV /= material.anisotropy;
		material.anisotropy = saturate( material.anisotropy );
	}
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;
#endif`,nY=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	float dispersion;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecularDirect = vec3( 0.0 );
vec3 clearcoatSpecularIndirect = vec3( 0.0 );
vec3 sheenSpecularDirect = vec3( 0.0 );
vec3 sheenSpecularIndirect = vec3(0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return saturate(v);
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColor;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometryNormal;
		vec3 viewDir = geometryViewDir;
		vec3 position = geometryPosition;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometryViewDir, geometryNormal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,iY=`
vec3 geometryPosition = - vViewPosition;
vec3 geometryNormal = normal;
vec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
vec3 geometryClearcoatNormal = vec3( 0.0 );
#ifdef USE_CLEARCOAT
	geometryClearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometryViewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometryPosition, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowIntensity, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometryPosition, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowIntensity, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowIntensity, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	#if defined( USE_LIGHT_PROBES )
		irradiance += getLightProbeIrradiance( lightProbe, geometryNormal );
	#endif
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,rY=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometryNormal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,sY=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif`,aY=`#if defined( USE_LOGDEPTHBUF )
	gl_FragDepth = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,oY=`#if defined( USE_LOGDEPTHBUF )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,lY=`#ifdef USE_LOGDEPTHBUF
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,cY=`#ifdef USE_LOGDEPTHBUF
	vFragDepth = 1.0 + gl_Position.w;
	vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
#endif`,uY=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vMapUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = sRGBTransferEOTF( sampledDiffuseColor );
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,hY=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,dY=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,fY=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,pY=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,mY=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,gY=`#ifdef USE_INSTANCING_MORPH
	float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	float morphTargetBaseInfluence = texelFetch( morphTexture, ivec2( 0, gl_InstanceID ), 0 ).r;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		morphTargetInfluences[i] =  texelFetch( morphTexture, ivec2( i + 1, gl_InstanceID ), 0 ).r;
	}
#endif`,vY=`#if defined( USE_MORPHCOLORS )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,yY=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,_Y=`#ifdef USE_MORPHTARGETS
	#ifndef USE_INSTANCING_MORPH
		uniform float morphTargetBaseInfluence;
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	#endif
	uniform sampler2DArray morphTargetsTexture;
	uniform ivec2 morphTargetsTextureSize;
	vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
		int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
		int y = texelIndex / morphTargetsTextureSize.x;
		int x = texelIndex - y * morphTargetsTextureSize.x;
		ivec3 morphUV = ivec3( x, y, morphTargetIndex );
		return texelFetch( morphTargetsTexture, morphUV, 0 );
	}
#endif`,bY=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,xY=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 nonPerturbedNormal = normal;`,SY=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,wY=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,EY=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,CY=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,TY=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,AY=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = nonPerturbedNormal;
#endif`,MY=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,RY=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,OY=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,LY=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,PY=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;const float ShiftRight8 = 1. / 256.;
const float Inv255 = 1. / 255.;
const vec4 PackFactors = vec4( 1.0, 256.0, 256.0 * 256.0, 256.0 * 256.0 * 256.0 );
const vec2 UnpackFactors2 = vec2( UnpackDownscale, 1.0 / PackFactors.g );
const vec3 UnpackFactors3 = vec3( UnpackDownscale / PackFactors.rg, 1.0 / PackFactors.b );
const vec4 UnpackFactors4 = vec4( UnpackDownscale / PackFactors.rgb, 1.0 / PackFactors.a );
vec4 packDepthToRGBA( const in float v ) {
	if( v <= 0.0 )
		return vec4( 0., 0., 0., 0. );
	if( v >= 1.0 )
		return vec4( 1., 1., 1., 1. );
	float vuf;
	float af = modf( v * PackFactors.a, vuf );
	float bf = modf( vuf * ShiftRight8, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec4( vuf * Inv255, gf * PackUpscale, bf * PackUpscale, af );
}
vec3 packDepthToRGB( const in float v ) {
	if( v <= 0.0 )
		return vec3( 0., 0., 0. );
	if( v >= 1.0 )
		return vec3( 1., 1., 1. );
	float vuf;
	float bf = modf( v * PackFactors.b, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec3( vuf * Inv255, gf * PackUpscale, bf );
}
vec2 packDepthToRG( const in float v ) {
	if( v <= 0.0 )
		return vec2( 0., 0. );
	if( v >= 1.0 )
		return vec2( 1., 1. );
	float vuf;
	float gf = modf( v * 256., vuf );
	return vec2( vuf * Inv255, gf );
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors4 );
}
float unpackRGBToDepth( const in vec3 v ) {
	return dot( v, UnpackFactors3 );
}
float unpackRGToDepth( const in vec2 v ) {
	return v.r * UnpackFactors2.r + v.g * UnpackFactors2.g;
}
vec4 pack2HalfToRGBA( const in vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( const in vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,IY=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,DY=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_BATCHING
	mvPosition = batchingMatrix * mvPosition;
#endif
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,NY=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,FY=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,UY=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,kY=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,BY=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		float shadow = 1.0;
		vec3 lightToPosition = shadowCoord.xyz;
		
		float lightToPositionLength = length( lightToPosition );
		if ( lightToPositionLength - shadowCameraFar <= 0.0 && lightToPositionLength - shadowCameraNear >= 0.0 ) {
			float dp = ( lightToPositionLength - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );			dp += shadowBias;
			vec3 bd3D = normalize( lightToPosition );
			vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
			#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
				vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
				shadow = (
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
				) * ( 1.0 / 9.0 );
			#else
				shadow = texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
			#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
#endif`,zY=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,GY=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,HY=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowIntensity, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowIntensity, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowIntensity, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,$Y=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,VY=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	mat4 getBoneMatrix( const in float i ) {
		int size = textureSize( boneTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,WY=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,jY=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,XY=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,qY=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,YY=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,KY=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 CineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
const mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(
	vec3( 1.6605, - 0.1246, - 0.0182 ),
	vec3( - 0.5876, 1.1329, - 0.1006 ),
	vec3( - 0.0728, - 0.0083, 1.1187 )
);
const mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(
	vec3( 0.6274, 0.0691, 0.0164 ),
	vec3( 0.3293, 0.9195, 0.0880 ),
	vec3( 0.0433, 0.0113, 0.8956 )
);
vec3 agxDefaultContrastApprox( vec3 x ) {
	vec3 x2 = x * x;
	vec3 x4 = x2 * x2;
	return + 15.5 * x4 * x2
		- 40.14 * x4 * x
		+ 31.96 * x4
		- 6.868 * x2 * x
		+ 0.4298 * x2
		+ 0.1191 * x
		- 0.00232;
}
vec3 AgXToneMapping( vec3 color ) {
	const mat3 AgXInsetMatrix = mat3(
		vec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),
		vec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),
		vec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )
	);
	const mat3 AgXOutsetMatrix = mat3(
		vec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),
		vec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),
		vec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )
	);
	const float AgxMinEv = - 12.47393;	const float AgxMaxEv = 4.026069;
	color *= toneMappingExposure;
	color = LINEAR_SRGB_TO_LINEAR_REC2020 * color;
	color = AgXInsetMatrix * color;
	color = max( color, 1e-10 );	color = log2( color );
	color = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );
	color = clamp( color, 0.0, 1.0 );
	color = agxDefaultContrastApprox( color );
	color = AgXOutsetMatrix * color;
	color = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );
	color = LINEAR_REC2020_TO_LINEAR_SRGB * color;
	color = clamp( color, 0.0, 1.0 );
	return color;
}
vec3 NeutralToneMapping( vec3 color ) {
	const float StartCompression = 0.8 - 0.04;
	const float Desaturation = 0.15;
	color *= toneMappingExposure;
	float x = min( color.r, min( color.g, color.b ) );
	float offset = x < 0.08 ? x - 6.25 * x * x : 0.04;
	color -= offset;
	float peak = max( color.r, max( color.g, color.b ) );
	if ( peak < StartCompression ) return color;
	float d = 1. - StartCompression;
	float newPeak = 1. - d * d / ( peak + d - StartCompression );
	color *= newPeak / peak;
	float g = 1. - 1. / ( Desaturation * ( peak - newPeak ) + 1. );
	return mix( color, vec3( newPeak ), g );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,ZY=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.dispersion, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,QY=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float dispersion, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec4 transmittedLight;
		vec3 transmittance;
		#ifdef USE_DISPERSION
			float halfSpread = ( ior - 1.0 ) * 0.025 * dispersion;
			vec3 iors = vec3( ior - halfSpread, ior, ior + halfSpread );
			for ( int i = 0; i < 3; i ++ ) {
				vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, iors[ i ], modelMatrix );
				vec3 refractedRayExit = position + transmissionRay;
				vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
				vec2 refractionCoords = ndcPos.xy / ndcPos.w;
				refractionCoords += 1.0;
				refractionCoords /= 2.0;
				vec4 transmissionSample = getTransmissionSample( refractionCoords, roughness, iors[ i ] );
				transmittedLight[ i ] = transmissionSample[ i ];
				transmittedLight.a += transmissionSample.a;
				transmittance[ i ] = diffuseColor[ i ] * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance )[ i ];
			}
			transmittedLight.a /= 3.0;
		#else
			vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
			vec3 refractedRayExit = position + transmissionRay;
			vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
			vec2 refractionCoords = ndcPos.xy / ndcPos.w;
			refractionCoords += 1.0;
			refractionCoords /= 2.0;
			transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
			transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		#endif
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,JY=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,eK=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,tK=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,nK=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_BATCHING
		worldPosition = batchingMatrix * worldPosition;
	#endif
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const iK=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,rK=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,sK=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,aK=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
uniform mat3 backgroundRotation;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, backgroundRotation * vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, backgroundRotation * vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,oK=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,lK=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,cK=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,uK=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#elif DEPTH_PACKING == 3202
		gl_FragColor = vec4( packDepthToRGB( fragCoordZ ), 1.0 );
	#elif DEPTH_PACKING == 3203
		gl_FragColor = vec4( packDepthToRG( fragCoordZ ), 0.0, 1.0 );
	#endif
}`,hK=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,dK=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,fK=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,pK=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,mK=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,gK=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,vK=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,yK=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,_K=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,bK=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,xK=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,SK=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,wK=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,EK=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( 0.0, 0.0, 0.0, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), diffuseColor.a );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,CK=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,TK=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,AK=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,MK=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_DISPERSION
	uniform float dispersion;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecularDirect + sheenSpecularIndirect;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,RK=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,OK=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,LK=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,PK=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,IK=`#include <common>
#include <batching_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,DK=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,NK=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix[ 3 ];
	vec2 scale = vec2( length( modelMatrix[ 0 ].xyz ), length( modelMatrix[ 1 ].xyz ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,FK=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,yr={alphahash_fragment:rq,alphahash_pars_fragment:sq,alphamap_fragment:aq,alphamap_pars_fragment:oq,alphatest_fragment:lq,alphatest_pars_fragment:cq,aomap_fragment:uq,aomap_pars_fragment:hq,batching_pars_vertex:dq,batching_vertex:fq,begin_vertex:pq,beginnormal_vertex:mq,bsdfs:gq,iridescence_fragment:vq,bumpmap_pars_fragment:yq,clipping_planes_fragment:_q,clipping_planes_pars_fragment:bq,clipping_planes_pars_vertex:xq,clipping_planes_vertex:Sq,color_fragment:wq,color_pars_fragment:Eq,color_pars_vertex:Cq,color_vertex:Tq,common:Aq,cube_uv_reflection_fragment:Mq,defaultnormal_vertex:Rq,displacementmap_pars_vertex:Oq,displacementmap_vertex:Lq,emissivemap_fragment:Pq,emissivemap_pars_fragment:Iq,colorspace_fragment:Dq,colorspace_pars_fragment:Nq,envmap_fragment:Fq,envmap_common_pars_fragment:Uq,envmap_pars_fragment:kq,envmap_pars_vertex:Bq,envmap_physical_pars_fragment:Kq,envmap_vertex:zq,fog_vertex:Gq,fog_pars_vertex:Hq,fog_fragment:$q,fog_pars_fragment:Vq,gradientmap_pars_fragment:Wq,lightmap_pars_fragment:jq,lights_lambert_fragment:Xq,lights_lambert_pars_fragment:qq,lights_pars_begin:Yq,lights_toon_fragment:Zq,lights_toon_pars_fragment:Qq,lights_phong_fragment:Jq,lights_phong_pars_fragment:eY,lights_physical_fragment:tY,lights_physical_pars_fragment:nY,lights_fragment_begin:iY,lights_fragment_maps:rY,lights_fragment_end:sY,logdepthbuf_fragment:aY,logdepthbuf_pars_fragment:oY,logdepthbuf_pars_vertex:lY,logdepthbuf_vertex:cY,map_fragment:uY,map_pars_fragment:hY,map_particle_fragment:dY,map_particle_pars_fragment:fY,metalnessmap_fragment:pY,metalnessmap_pars_fragment:mY,morphinstance_vertex:gY,morphcolor_vertex:vY,morphnormal_vertex:yY,morphtarget_pars_vertex:_Y,morphtarget_vertex:bY,normal_fragment_begin:xY,normal_fragment_maps:SY,normal_pars_fragment:wY,normal_pars_vertex:EY,normal_vertex:CY,normalmap_pars_fragment:TY,clearcoat_normal_fragment_begin:AY,clearcoat_normal_fragment_maps:MY,clearcoat_pars_fragment:RY,iridescence_pars_fragment:OY,opaque_fragment:LY,packing:PY,premultiplied_alpha_fragment:IY,project_vertex:DY,dithering_fragment:NY,dithering_pars_fragment:FY,roughnessmap_fragment:UY,roughnessmap_pars_fragment:kY,shadowmap_pars_fragment:BY,shadowmap_pars_vertex:zY,shadowmap_vertex:GY,shadowmask_pars_fragment:HY,skinbase_vertex:$Y,skinning_pars_vertex:VY,skinning_vertex:WY,skinnormal_vertex:jY,specularmap_fragment:XY,specularmap_pars_fragment:qY,tonemapping_fragment:YY,tonemapping_pars_fragment:KY,transmission_fragment:ZY,transmission_pars_fragment:QY,uv_pars_fragment:JY,uv_pars_vertex:eK,uv_vertex:tK,worldpos_vertex:nK,background_vert:iK,background_frag:rK,backgroundCube_vert:sK,backgroundCube_frag:aK,cube_vert:oK,cube_frag:lK,depth_vert:cK,depth_frag:uK,distanceRGBA_vert:hK,distanceRGBA_frag:dK,equirect_vert:fK,equirect_frag:pK,linedashed_vert:mK,linedashed_frag:gK,meshbasic_vert:vK,meshbasic_frag:yK,meshlambert_vert:_K,meshlambert_frag:bK,meshmatcap_vert:xK,meshmatcap_frag:SK,meshnormal_vert:wK,meshnormal_frag:EK,meshphong_vert:CK,meshphong_frag:TK,meshphysical_vert:AK,meshphysical_frag:MK,meshtoon_vert:RK,meshtoon_frag:OK,points_vert:LK,points_frag:PK,shadow_vert:IK,shadow_frag:DK,sprite_vert:NK,sprite_frag:FK},qn={common:{diffuse:{value:new Zn(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new hr},alphaMap:{value:null},alphaMapTransform:{value:new hr},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new hr}},envmap:{envMap:{value:null},envMapRotation:{value:new hr},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new hr}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new hr}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new hr},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new hr},normalScale:{value:new ln(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new hr},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new hr}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new hr}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new hr}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Zn(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new Zn(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new hr},alphaTest:{value:0},uvTransform:{value:new hr}},sprite:{diffuse:{value:new Zn(16777215)},opacity:{value:1},center:{value:new ln(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new hr},alphaMap:{value:null},alphaMapTransform:{value:new hr},alphaTest:{value:0}}},Uh={basic:{uniforms:mc([qn.common,qn.specularmap,qn.envmap,qn.aomap,qn.lightmap,qn.fog]),vertexShader:yr.meshbasic_vert,fragmentShader:yr.meshbasic_frag},lambert:{uniforms:mc([qn.common,qn.specularmap,qn.envmap,qn.aomap,qn.lightmap,qn.emissivemap,qn.bumpmap,qn.normalmap,qn.displacementmap,qn.fog,qn.lights,{emissive:{value:new Zn(0)}}]),vertexShader:yr.meshlambert_vert,fragmentShader:yr.meshlambert_frag},phong:{uniforms:mc([qn.common,qn.specularmap,qn.envmap,qn.aomap,qn.lightmap,qn.emissivemap,qn.bumpmap,qn.normalmap,qn.displacementmap,qn.fog,qn.lights,{emissive:{value:new Zn(0)},specular:{value:new Zn(1118481)},shininess:{value:30}}]),vertexShader:yr.meshphong_vert,fragmentShader:yr.meshphong_frag},standard:{uniforms:mc([qn.common,qn.envmap,qn.aomap,qn.lightmap,qn.emissivemap,qn.bumpmap,qn.normalmap,qn.displacementmap,qn.roughnessmap,qn.metalnessmap,qn.fog,qn.lights,{emissive:{value:new Zn(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:yr.meshphysical_vert,fragmentShader:yr.meshphysical_frag},toon:{uniforms:mc([qn.common,qn.aomap,qn.lightmap,qn.emissivemap,qn.bumpmap,qn.normalmap,qn.displacementmap,qn.gradientmap,qn.fog,qn.lights,{emissive:{value:new Zn(0)}}]),vertexShader:yr.meshtoon_vert,fragmentShader:yr.meshtoon_frag},matcap:{uniforms:mc([qn.common,qn.bumpmap,qn.normalmap,qn.displacementmap,qn.fog,{matcap:{value:null}}]),vertexShader:yr.meshmatcap_vert,fragmentShader:yr.meshmatcap_frag},points:{uniforms:mc([qn.points,qn.fog]),vertexShader:yr.points_vert,fragmentShader:yr.points_frag},dashed:{uniforms:mc([qn.common,qn.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:yr.linedashed_vert,fragmentShader:yr.linedashed_frag},depth:{uniforms:mc([qn.common,qn.displacementmap]),vertexShader:yr.depth_vert,fragmentShader:yr.depth_frag},normal:{uniforms:mc([qn.common,qn.bumpmap,qn.normalmap,qn.displacementmap,{opacity:{value:1}}]),vertexShader:yr.meshnormal_vert,fragmentShader:yr.meshnormal_frag},sprite:{uniforms:mc([qn.sprite,qn.fog]),vertexShader:yr.sprite_vert,fragmentShader:yr.sprite_frag},background:{uniforms:{uvTransform:{value:new hr},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:yr.background_vert,fragmentShader:yr.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1},backgroundRotation:{value:new hr}},vertexShader:yr.backgroundCube_vert,fragmentShader:yr.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:yr.cube_vert,fragmentShader:yr.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:yr.equirect_vert,fragmentShader:yr.equirect_frag},distanceRGBA:{uniforms:mc([qn.common,qn.displacementmap,{referencePosition:{value:new Oe},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:yr.distanceRGBA_vert,fragmentShader:yr.distanceRGBA_frag},shadow:{uniforms:mc([qn.lights,qn.fog,{color:{value:new Zn(0)},opacity:{value:1}}]),vertexShader:yr.shadow_vert,fragmentShader:yr.shadow_frag}};Uh.physical={uniforms:mc([Uh.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new hr},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new hr},clearcoatNormalScale:{value:new ln(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new hr},dispersion:{value:0},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new hr},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new hr},sheen:{value:0},sheenColor:{value:new Zn(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new hr},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new hr},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new hr},transmissionSamplerSize:{value:new ln},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new hr},attenuationDistance:{value:0},attenuationColor:{value:new Zn(0)},specularColor:{value:new Zn(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new hr},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new hr},anisotropyVector:{value:new ln},anisotropyMap:{value:null},anisotropyMapTransform:{value:new hr}}]),vertexShader:yr.meshphysical_vert,fragmentShader:yr.meshphysical_frag};const Gx={r:0,b:0,g:0},cg=new Su,UK=new ri;function kK(n,e,t,i,r,s,a){const o=new Zn(0);let l=s===!0?0:1,c,f,h=null,v=0,m=null;function _(S){let T=S.isScene===!0?S.background:null;return T&&T.isTexture&&(T=(S.backgroundBlurriness>0?t:e).get(T)),T}function g(S){let T=!1;const R=_(S);R===null?u(o,l):R&&R.isColor&&(u(R,1),T=!0);const O=n.xr.getEnvironmentBlendMode();O==="additive"?i.buffers.color.setClear(0,0,0,1,a):O==="alpha-blend"&&i.buffers.color.setClear(0,0,0,0,a),(n.autoClear||T)&&(i.buffers.depth.setTest(!0),i.buffers.depth.setMask(!0),i.buffers.color.setMask(!0),n.clear(n.autoClearColor,n.autoClearDepth,n.autoClearStencil))}function y(S,T){const R=_(T);R&&(R.isCubeTexture||R.mapping===uy)?(f===void 0&&(f=new Xs(new tv(1,1,1),new Ec({name:"BackgroundCubeMaterial",uniforms:K0(Uh.backgroundCube.uniforms),vertexShader:Uh.backgroundCube.vertexShader,fragmentShader:Uh.backgroundCube.fragmentShader,side:xc,depthTest:!1,depthWrite:!1,fog:!1,allowOverride:!1})),f.geometry.deleteAttribute("normal"),f.geometry.deleteAttribute("uv"),f.onBeforeRender=function(O,C,I){this.matrixWorld.copyPosition(I.matrixWorld)},Object.defineProperty(f.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),r.update(f)),cg.copy(T.backgroundRotation),cg.x*=-1,cg.y*=-1,cg.z*=-1,R.isCubeTexture&&R.isRenderTargetTexture===!1&&(cg.y*=-1,cg.z*=-1),f.material.uniforms.envMap.value=R,f.material.uniforms.flipEnvMap.value=R.isCubeTexture&&R.isRenderTargetTexture===!1?-1:1,f.material.uniforms.backgroundBlurriness.value=T.backgroundBlurriness,f.material.uniforms.backgroundIntensity.value=T.backgroundIntensity,f.material.uniforms.backgroundRotation.value.setFromMatrix4(UK.makeRotationFromEuler(cg)),f.material.toneMapped=Jr.getTransfer(R.colorSpace)!==Us,(h!==R||v!==R.version||m!==n.toneMapping)&&(f.material.needsUpdate=!0,h=R,v=R.version,m=n.toneMapping),f.layers.enableAll(),S.unshift(f,f.geometry,f.material,0,0,null)):R&&R.isTexture&&(c===void 0&&(c=new Xs(new Zh(2,2),new Ec({name:"BackgroundMaterial",uniforms:K0(Uh.background.uniforms),vertexShader:Uh.background.vertexShader,fragmentShader:Uh.background.fragmentShader,side:Qf,depthTest:!1,depthWrite:!1,fog:!1,allowOverride:!1})),c.geometry.deleteAttribute("normal"),Object.defineProperty(c.material,"map",{get:function(){return this.uniforms.t2D.value}}),r.update(c)),c.material.uniforms.t2D.value=R,c.material.uniforms.backgroundIntensity.value=T.backgroundIntensity,c.material.toneMapped=Jr.getTransfer(R.colorSpace)!==Us,R.matrixAutoUpdate===!0&&R.updateMatrix(),c.material.uniforms.uvTransform.value.copy(R.matrix),(h!==R||v!==R.version||m!==n.toneMapping)&&(c.material.needsUpdate=!0,h=R,v=R.version,m=n.toneMapping),c.layers.enableAll(),S.unshift(c,c.geometry,c.material,0,0,null))}function u(S,T){S.getRGB(Gx,Pk(n)),i.buffers.color.setClear(Gx.r,Gx.g,Gx.b,T,a)}function b(){f!==void 0&&(f.geometry.dispose(),f.material.dispose(),f=void 0),c!==void 0&&(c.geometry.dispose(),c.material.dispose(),c=void 0)}return{getClearColor:function(){return o},setClearColor:function(S,T=1){o.set(S),l=T,u(o,l)},getClearAlpha:function(){return l},setClearAlpha:function(S){l=S,u(o,l)},render:g,addToRenderList:y,dispose:b}}function BK(n,e){const t=n.getParameter(n.MAX_VERTEX_ATTRIBS),i={},r=v(null);let s=r,a=!1;function o(M,D,B,j,U){let V=!1;const k=h(j,B,D);s!==k&&(s=k,c(s.object)),V=m(M,j,B,U),V&&_(M,j,B,U),U!==null&&e.update(U,n.ELEMENT_ARRAY_BUFFER),(V||a)&&(a=!1,T(M,D,B,j),U!==null&&n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,e.get(U).buffer))}function l(){return n.createVertexArray()}function c(M){return n.bindVertexArray(M)}function f(M){return n.deleteVertexArray(M)}function h(M,D,B){const j=B.wireframe===!0;let U=i[M.id];U===void 0&&(U={},i[M.id]=U);let V=U[D.id];V===void 0&&(V={},U[D.id]=V);let k=V[j];return k===void 0&&(k=v(l()),V[j]=k),k}function v(M){const D=[],B=[],j=[];for(let U=0;U<t;U++)D[U]=0,B[U]=0,j[U]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:D,enabledAttributes:B,attributeDivisors:j,object:M,attributes:{},index:null}}function m(M,D,B,j){const U=s.attributes,V=D.attributes;let k=0;const Z=B.getAttributes();for(const ee in Z)if(Z[ee].location>=0){const ne=U[ee];let ie=V[ee];if(ie===void 0&&(ee==="instanceMatrix"&&M.instanceMatrix&&(ie=M.instanceMatrix),ee==="instanceColor"&&M.instanceColor&&(ie=M.instanceColor)),ne===void 0||ne.attribute!==ie||ie&&ne.data!==ie.data)return!0;k++}return s.attributesNum!==k||s.index!==j}function _(M,D,B,j){const U={},V=D.attributes;let k=0;const Z=B.getAttributes();for(const ee in Z)if(Z[ee].location>=0){let ne=V[ee];ne===void 0&&(ee==="instanceMatrix"&&M.instanceMatrix&&(ne=M.instanceMatrix),ee==="instanceColor"&&M.instanceColor&&(ne=M.instanceColor));const ie={};ie.attribute=ne,ne&&ne.data&&(ie.data=ne.data),U[ee]=ie,k++}s.attributes=U,s.attributesNum=k,s.index=j}function g(){const M=s.newAttributes;for(let D=0,B=M.length;D<B;D++)M[D]=0}function y(M){u(M,0)}function u(M,D){const B=s.newAttributes,j=s.enabledAttributes,U=s.attributeDivisors;B[M]=1,j[M]===0&&(n.enableVertexAttribArray(M),j[M]=1),U[M]!==D&&(n.vertexAttribDivisor(M,D),U[M]=D)}function b(){const M=s.newAttributes,D=s.enabledAttributes;for(let B=0,j=D.length;B<j;B++)D[B]!==M[B]&&(n.disableVertexAttribArray(B),D[B]=0)}function S(M,D,B,j,U,V,k){k===!0?n.vertexAttribIPointer(M,D,B,U,V):n.vertexAttribPointer(M,D,B,j,U,V)}function T(M,D,B,j){g();const U=j.attributes,V=B.getAttributes(),k=D.defaultAttributeValues;for(const Z in V){const ee=V[Z];if(ee.location>=0){let oe=U[Z];if(oe===void 0&&(Z==="instanceMatrix"&&M.instanceMatrix&&(oe=M.instanceMatrix),Z==="instanceColor"&&M.instanceColor&&(oe=M.instanceColor)),oe!==void 0){const ne=oe.normalized,ie=oe.itemSize,he=e.get(oe);if(he===void 0)continue;const fe=he.buffer,ce=he.type,ae=he.bytesPerElement,ve=ce===n.INT||ce===n.UNSIGNED_INT||oe.gpuType===U1;if(oe.isInterleavedBufferAttribute){const _e=oe.data,Te=_e.stride,Fe=oe.offset;if(_e.isInstancedInterleavedBuffer){for(let We=0;We<ee.locationSize;We++)u(ee.location+We,_e.meshPerAttribute);M.isInstancedMesh!==!0&&j._maxInstanceCount===void 0&&(j._maxInstanceCount=_e.meshPerAttribute*_e.count)}else for(let We=0;We<ee.locationSize;We++)y(ee.location+We);n.bindBuffer(n.ARRAY_BUFFER,fe);for(let We=0;We<ee.locationSize;We++)S(ee.location+We,ie/ee.locationSize,ce,ne,Te*ae,(Fe+ie/ee.locationSize*We)*ae,ve)}else{if(oe.isInstancedBufferAttribute){for(let _e=0;_e<ee.locationSize;_e++)u(ee.location+_e,oe.meshPerAttribute);M.isInstancedMesh!==!0&&j._maxInstanceCount===void 0&&(j._maxInstanceCount=oe.meshPerAttribute*oe.count)}else for(let _e=0;_e<ee.locationSize;_e++)y(ee.location+_e);n.bindBuffer(n.ARRAY_BUFFER,fe);for(let _e=0;_e<ee.locationSize;_e++)S(ee.location+_e,ie/ee.locationSize,ce,ne,ie*ae,ie/ee.locationSize*_e*ae,ve)}}else if(k!==void 0){const ne=k[Z];if(ne!==void 0)switch(ne.length){case 2:n.vertexAttrib2fv(ee.location,ne);break;case 3:n.vertexAttrib3fv(ee.location,ne);break;case 4:n.vertexAttrib4fv(ee.location,ne);break;default:n.vertexAttrib1fv(ee.location,ne)}}}}b()}function R(){I();for(const M in i){const D=i[M];for(const B in D){const j=D[B];for(const U in j)f(j[U].object),delete j[U];delete D[B]}delete i[M]}}function O(M){if(i[M.id]===void 0)return;const D=i[M.id];for(const B in D){const j=D[B];for(const U in j)f(j[U].object),delete j[U];delete D[B]}delete i[M.id]}function C(M){for(const D in i){const B=i[D];if(B[M.id]===void 0)continue;const j=B[M.id];for(const U in j)f(j[U].object),delete j[U];delete B[M.id]}}function I(){F(),a=!0,s!==r&&(s=r,c(s.object))}function F(){r.geometry=null,r.program=null,r.wireframe=!1}return{setup:o,reset:I,resetDefaultState:F,dispose:R,releaseStatesOfGeometry:O,releaseStatesOfProgram:C,initAttributes:g,enableAttribute:y,disableUnusedAttributes:b}}function zK(n,e,t){let i;function r(c){i=c}function s(c,f){n.drawArrays(i,c,f),t.update(f,i,1)}function a(c,f,h){h!==0&&(n.drawArraysInstanced(i,c,f,h),t.update(f,i,h))}function o(c,f,h){if(h===0)return;e.get("WEBGL_multi_draw").multiDrawArraysWEBGL(i,c,0,f,0,h);let m=0;for(let _=0;_<h;_++)m+=f[_];t.update(m,i,1)}function l(c,f,h,v){if(h===0)return;const m=e.get("WEBGL_multi_draw");if(m===null)for(let _=0;_<c.length;_++)a(c[_],f[_],v[_]);else{m.multiDrawArraysInstancedWEBGL(i,c,0,f,0,v,0,h);let _=0;for(let g=0;g<h;g++)_+=f[g]*v[g];t.update(_,i,1)}}this.setMode=r,this.render=s,this.renderInstances=a,this.renderMultiDraw=o,this.renderMultiDrawInstances=l}function GK(n,e,t,i){let r;function s(){if(r!==void 0)return r;if(e.has("EXT_texture_filter_anisotropic")===!0){const C=e.get("EXT_texture_filter_anisotropic");r=n.getParameter(C.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else r=0;return r}function a(C){return!(C!==go&&i.convert(C)!==n.getParameter(n.IMPLEMENTATION_COLOR_READ_FORMAT))}function o(C){const I=C===Xo&&(e.has("EXT_color_buffer_half_float")||e.has("EXT_color_buffer_float"));return!(C!==wc&&i.convert(C)!==n.getParameter(n.IMPLEMENTATION_COLOR_READ_TYPE)&&C!==Oa&&!I)}function l(C){if(C==="highp"){if(n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.HIGH_FLOAT).precision>0&&n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.HIGH_FLOAT).precision>0)return"highp";C="mediump"}return C==="mediump"&&n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.MEDIUM_FLOAT).precision>0&&n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}let c=t.precision!==void 0?t.precision:"highp";const f=l(c);f!==c&&(console.warn("THREE.WebGLRenderer:",c,"not supported, using",f,"instead."),c=f);const h=t.logarithmicDepthBuffer===!0,v=t.reverseDepthBuffer===!0&&e.has("EXT_clip_control"),m=n.getParameter(n.MAX_TEXTURE_IMAGE_UNITS),_=n.getParameter(n.MAX_VERTEX_TEXTURE_IMAGE_UNITS),g=n.getParameter(n.MAX_TEXTURE_SIZE),y=n.getParameter(n.MAX_CUBE_MAP_TEXTURE_SIZE),u=n.getParameter(n.MAX_VERTEX_ATTRIBS),b=n.getParameter(n.MAX_VERTEX_UNIFORM_VECTORS),S=n.getParameter(n.MAX_VARYING_VECTORS),T=n.getParameter(n.MAX_FRAGMENT_UNIFORM_VECTORS),R=_>0,O=n.getParameter(n.MAX_SAMPLES);return{isWebGL2:!0,getMaxAnisotropy:s,getMaxPrecision:l,textureFormatReadable:a,textureTypeReadable:o,precision:c,logarithmicDepthBuffer:h,reverseDepthBuffer:v,maxTextures:m,maxVertexTextures:_,maxTextureSize:g,maxCubemapSize:y,maxAttributes:u,maxVertexUniforms:b,maxVaryings:S,maxFragmentUniforms:T,vertexTextures:R,maxSamples:O}}function HK(n){const e=this;let t=null,i=0,r=!1,s=!1;const a=new Fh,o=new hr,l={value:null,needsUpdate:!1};this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(h,v){const m=h.length!==0||v||i!==0||r;return r=v,i=h.length,m},this.beginShadows=function(){s=!0,f(null)},this.endShadows=function(){s=!1},this.setGlobalState=function(h,v){t=f(h,v,0)},this.setState=function(h,v,m){const _=h.clippingPlanes,g=h.clipIntersection,y=h.clipShadows,u=n.get(h);if(!r||_===null||_.length===0||s&&!y)s?f(null):c();else{const b=s?0:i,S=b*4;let T=u.clippingState||null;l.value=T,T=f(_,v,S,m);for(let R=0;R!==S;++R)T[R]=t[R];u.clippingState=T,this.numIntersection=g?this.numPlanes:0,this.numPlanes+=b}};function c(){l.value!==t&&(l.value=t,l.needsUpdate=i>0),e.numPlanes=i,e.numIntersection=0}function f(h,v,m,_){const g=h!==null?h.length:0;let y=null;if(g!==0){if(y=l.value,_!==!0||y===null){const u=m+g*4,b=v.matrixWorldInverse;o.getNormalMatrix(b),(y===null||y.length<u)&&(y=new Float32Array(u));for(let S=0,T=m;S!==g;++S,T+=4)a.copy(h[S]).applyMatrix4(b,o),a.normal.toArray(y,T),y[T+3]=a.constant}l.value=y,l.needsUpdate=!0}return e.numPlanes=g,e.numIntersection=0,y}}function $K(n){let e=new WeakMap;function t(a,o){return o===$0?a.mapping=Ud:o===s1&&(a.mapping=dm),a}function i(a){if(a&&a.isTexture){const o=a.mapping;if(o===$0||o===s1)if(e.has(a)){const l=e.get(a).texture;return t(l,a.mapping)}else{const l=a.image;if(l&&l.height>0){const c=new l3(l.height);return c.fromEquirectangularTexture(n,a),e.set(a,c),a.addEventListener("dispose",r),t(c.texture,a.mapping)}else return null}}return a}function r(a){const o=a.target;o.removeEventListener("dispose",r);const l=e.get(o);l!==void 0&&(e.delete(o),l.dispose())}function s(){e=new WeakMap}return{get:i,dispose:s}}const C0=4,mI=[.125,.215,.35,.446,.526,.582],wg=20,vA=new Hh,gI=new Zn;let yA=null,_A=0,bA=0,xA=!1;const xg=(1+Math.sqrt(5))/2,n0=1/xg,vI=[new Oe(-xg,n0,0),new Oe(xg,n0,0),new Oe(-n0,0,xg),new Oe(n0,0,xg),new Oe(0,xg,-n0),new Oe(0,xg,n0),new Oe(-1,1,-1),new Oe(1,1,-1),new Oe(-1,1,1),new Oe(1,1,1)],VK=new Oe;class MM{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,t=0,i=.1,r=100,s={}){const{size:a=256,position:o=VK}=s;yA=this._renderer.getRenderTarget(),_A=this._renderer.getActiveCubeFace(),bA=this._renderer.getActiveMipmapLevel(),xA=this._renderer.xr.enabled,this._renderer.xr.enabled=!1,this._setSize(a);const l=this._allocateTargets();return l.depthBuffer=!0,this._sceneToCubeUV(e,i,r,l,o),t>0&&this._blur(l,0,0,t),this._applyPMREM(l),this._cleanup(l),l}fromEquirectangular(e,t=null){return this._fromTexture(e,t)}fromCubemap(e,t=null){return this._fromTexture(e,t)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=bI(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=_I(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(yA,_A,bA),this._renderer.xr.enabled=xA,e.scissorTest=!1,Hx(e,0,0,e.width,e.height)}_fromTexture(e,t){e.mapping===Ud||e.mapping===dm?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),yA=this._renderer.getRenderTarget(),_A=this._renderer.getActiveCubeFace(),bA=this._renderer.getActiveMipmapLevel(),xA=this._renderer.xr.enabled,this._renderer.xr.enabled=!1;const i=t||this._allocateTargets();return this._textureToCubeUV(e,i),this._applyPMREM(i),this._cleanup(i),i}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),t=4*this._cubeSize,i={magFilter:cs,minFilter:cs,generateMipmaps:!1,type:Xo,format:go,colorSpace:jh,depthBuffer:!1},r=yI(e,t,i);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==t){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=yI(e,t,i);const{_lodMax:s}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=WK(s)),this._blurMaterial=jK(s,e,t)}return r}_compileMaterial(e){const t=new Xs(this._lodPlanes[0],e);this._renderer.compile(t,vA)}_sceneToCubeUV(e,t,i,r,s){const l=new Ga(90,1,t,i),c=[1,-1,1,1,1,1],f=[1,1,1,-1,-1,-1],h=this._renderer,v=h.autoClear,m=h.toneMapping;h.getClearColor(gI),h.toneMapping=Nd,h.autoClear=!1;const _=new Xd({name:"PMREM.Background",side:xc,depthWrite:!1,depthTest:!1}),g=new Xs(new tv,_);let y=!1;const u=e.background;u?u.isColor&&(_.color.copy(u),e.background=null,y=!0):(_.color.copy(gI),y=!0);for(let b=0;b<6;b++){const S=b%3;S===0?(l.up.set(0,c[b],0),l.position.set(s.x,s.y,s.z),l.lookAt(s.x+f[b],s.y,s.z)):S===1?(l.up.set(0,0,c[b]),l.position.set(s.x,s.y,s.z),l.lookAt(s.x,s.y+f[b],s.z)):(l.up.set(0,c[b],0),l.position.set(s.x,s.y,s.z),l.lookAt(s.x,s.y,s.z+f[b]));const T=this._cubeSize;Hx(r,S*T,b>2?T:0,T,T),h.setRenderTarget(r),y&&h.render(g,l),h.render(e,l)}g.geometry.dispose(),g.material.dispose(),h.toneMapping=m,h.autoClear=v,e.background=u}_textureToCubeUV(e,t){const i=this._renderer,r=e.mapping===Ud||e.mapping===dm;r?(this._cubemapMaterial===null&&(this._cubemapMaterial=bI()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=_I());const s=r?this._cubemapMaterial:this._equirectMaterial,a=new Xs(this._lodPlanes[0],s),o=s.uniforms;o.envMap.value=e;const l=this._cubeSize;Hx(t,0,0,3*l,2*l),i.setRenderTarget(t),i.render(a,vA)}_applyPMREM(e){const t=this._renderer,i=t.autoClear;t.autoClear=!1;const r=this._lodPlanes.length;for(let s=1;s<r;s++){const a=Math.sqrt(this._sigmas[s]*this._sigmas[s]-this._sigmas[s-1]*this._sigmas[s-1]),o=vI[(r-s-1)%vI.length];this._blur(e,s-1,s,a,o)}t.autoClear=i}_blur(e,t,i,r,s){const a=this._pingPongRenderTarget;this._halfBlur(e,a,t,i,r,"latitudinal",s),this._halfBlur(a,e,i,i,r,"longitudinal",s)}_halfBlur(e,t,i,r,s,a,o){const l=this._renderer,c=this._blurMaterial;a!=="latitudinal"&&a!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const f=3,h=new Xs(this._lodPlanes[r],c),v=c.uniforms,m=this._sizeLods[i]-1,_=isFinite(s)?Math.PI/(2*m):2*Math.PI/(2*wg-1),g=s/_,y=isFinite(s)?1+Math.floor(f*g):wg;y>wg&&console.warn(`sigmaRadians, ${s}, is too large and will clip, as it requested ${y} samples when the maximum is set to ${wg}`);const u=[];let b=0;for(let C=0;C<wg;++C){const I=C/g,F=Math.exp(-I*I/2);u.push(F),C===0?b+=F:C<y&&(b+=2*F)}for(let C=0;C<u.length;C++)u[C]=u[C]/b;v.envMap.value=e.texture,v.samples.value=y,v.weights.value=u,v.latitudinal.value=a==="latitudinal",o&&(v.poleAxis.value=o);const{_lodMax:S}=this;v.dTheta.value=_,v.mipInt.value=S-i;const T=this._sizeLods[r],R=3*T*(r>S-C0?r-S+C0:0),O=4*(this._cubeSize-T);Hx(t,R,O,3*T,2*T),l.setRenderTarget(t),l.render(h,vA)}}function WK(n){const e=[],t=[],i=[];let r=n;const s=n-C0+1+mI.length;for(let a=0;a<s;a++){const o=Math.pow(2,r);t.push(o);let l=1/o;a>n-C0?l=mI[a-n+C0-1]:a===0&&(l=0),i.push(l);const c=1/(o-2),f=-c,h=1+c,v=[f,f,h,f,h,h,f,f,h,h,f,h],m=6,_=6,g=3,y=2,u=1,b=new Float32Array(g*_*m),S=new Float32Array(y*_*m),T=new Float32Array(u*_*m);for(let O=0;O<m;O++){const C=O%3*2/3-1,I=O>2?0:-1,F=[C,I,0,C+2/3,I,0,C+2/3,I+1,0,C,I,0,C+2/3,I+1,0,C,I+1,0];b.set(F,g*_*O),S.set(v,y*_*O);const M=[O,O,O,O,O,O];T.set(M,u*_*O)}const R=new xr;R.setAttribute("position",new qs(b,g)),R.setAttribute("uv",new qs(S,y)),R.setAttribute("faceIndex",new qs(T,u)),e.push(R),r>C0&&r--}return{lodPlanes:e,sizeLods:t,sigmas:i}}function yI(n,e,t){const i=new xu(n,e,t);return i.texture.mapping=uy,i.texture.name="PMREM.cubeUv",i.scissorTest=!0,i}function Hx(n,e,t,i,r){n.viewport.set(e,t,i,r),n.scissor.set(e,t,i,r)}function jK(n,e,t){const i=new Float32Array(wg),r=new Oe(0,1,0);return new Ec({name:"SphericalGaussianBlur",defines:{n:wg,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/t,CUBEUV_MAX_MIP:`${n}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:i},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:r}},vertexShader:I3(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:Dd,depthTest:!1,depthWrite:!1})}function _I(){return new Ec({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:I3(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:Dd,depthTest:!1,depthWrite:!1})}function bI(){return new Ec({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:I3(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:Dd,depthTest:!1,depthWrite:!1})}function I3(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function XK(n){let e=new WeakMap,t=null;function i(o){if(o&&o.isTexture){const l=o.mapping,c=l===$0||l===s1,f=l===Ud||l===dm;if(c||f){let h=e.get(o);const v=h!==void 0?h.texture.pmremVersion:0;if(o.isRenderTargetTexture&&o.pmremVersion!==v)return t===null&&(t=new MM(n)),h=c?t.fromEquirectangular(o,h):t.fromCubemap(o,h),h.texture.pmremVersion=o.pmremVersion,e.set(o,h),h.texture;if(h!==void 0)return h.texture;{const m=o.image;return c&&m&&m.height>0||f&&m&&r(m)?(t===null&&(t=new MM(n)),h=c?t.fromEquirectangular(o):t.fromCubemap(o),h.texture.pmremVersion=o.pmremVersion,e.set(o,h),o.addEventListener("dispose",s),h.texture):null}}}return o}function r(o){let l=0;const c=6;for(let f=0;f<c;f++)o[f]!==void 0&&l++;return l===c}function s(o){const l=o.target;l.removeEventListener("dispose",s);const c=e.get(l);c!==void 0&&(e.delete(l),c.dispose())}function a(){e=new WeakMap,t!==null&&(t.dispose(),t=null)}return{get:i,dispose:a}}function qK(n){const e={};function t(i){if(e[i]!==void 0)return e[i];let r;switch(i){case"WEBGL_depth_texture":r=n.getExtension("WEBGL_depth_texture")||n.getExtension("MOZ_WEBGL_depth_texture")||n.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":r=n.getExtension("EXT_texture_filter_anisotropic")||n.getExtension("MOZ_EXT_texture_filter_anisotropic")||n.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":r=n.getExtension("WEBGL_compressed_texture_s3tc")||n.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":r=n.getExtension("WEBGL_compressed_texture_pvrtc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:r=n.getExtension(i)}return e[i]=r,r}return{has:function(i){return t(i)!==null},init:function(){t("EXT_color_buffer_float"),t("WEBGL_clip_cull_distance"),t("OES_texture_float_linear"),t("EXT_color_buffer_half_float"),t("WEBGL_multisampled_render_to_texture"),t("WEBGL_render_shared_exponent")},get:function(i){const r=t(i);return r===null&&D0("THREE.WebGLRenderer: "+i+" extension not supported."),r}}}function YK(n,e,t,i){const r={},s=new WeakMap;function a(h){const v=h.target;v.index!==null&&e.remove(v.index);for(const _ in v.attributes)e.remove(v.attributes[_]);v.removeEventListener("dispose",a),delete r[v.id];const m=s.get(v);m&&(e.remove(m),s.delete(v)),i.releaseStatesOfGeometry(v),v.isInstancedBufferGeometry===!0&&delete v._maxInstanceCount,t.memory.geometries--}function o(h,v){return r[v.id]===!0||(v.addEventListener("dispose",a),r[v.id]=!0,t.memory.geometries++),v}function l(h){const v=h.attributes;for(const m in v)e.update(v[m],n.ARRAY_BUFFER)}function c(h){const v=[],m=h.index,_=h.attributes.position;let g=0;if(m!==null){const b=m.array;g=m.version;for(let S=0,T=b.length;S<T;S+=3){const R=b[S+0],O=b[S+1],C=b[S+2];v.push(R,O,O,C,C,R)}}else if(_!==void 0){const b=_.array;g=_.version;for(let S=0,T=b.length/3-1;S<T;S+=3){const R=S+0,O=S+1,C=S+2;v.push(R,O,O,C,C,R)}}else return;const y=new(Mk(v)?o3:a3)(v,1);y.version=g;const u=s.get(h);u&&e.remove(u),s.set(h,y)}function f(h){const v=s.get(h);if(v){const m=h.index;m!==null&&v.version<m.version&&c(h)}else c(h);return s.get(h)}return{get:o,update:l,getWireframeAttribute:f}}function KK(n,e,t){let i;function r(v){i=v}let s,a;function o(v){s=v.type,a=v.bytesPerElement}function l(v,m){n.drawElements(i,m,s,v*a),t.update(m,i,1)}function c(v,m,_){_!==0&&(n.drawElementsInstanced(i,m,s,v*a,_),t.update(m,i,_))}function f(v,m,_){if(_===0)return;e.get("WEBGL_multi_draw").multiDrawElementsWEBGL(i,m,0,s,v,0,_);let y=0;for(let u=0;u<_;u++)y+=m[u];t.update(y,i,1)}function h(v,m,_,g){if(_===0)return;const y=e.get("WEBGL_multi_draw");if(y===null)for(let u=0;u<v.length;u++)c(v[u]/a,m[u],g[u]);else{y.multiDrawElementsInstancedWEBGL(i,m,0,s,v,0,g,0,_);let u=0;for(let b=0;b<_;b++)u+=m[b]*g[b];t.update(u,i,1)}}this.setMode=r,this.setIndex=o,this.render=l,this.renderInstances=c,this.renderMultiDraw=f,this.renderMultiDrawInstances=h}function ZK(n){const e={geometries:0,textures:0},t={frame:0,calls:0,triangles:0,points:0,lines:0};function i(s,a,o){switch(t.calls++,a){case n.TRIANGLES:t.triangles+=o*(s/3);break;case n.LINES:t.lines+=o*(s/2);break;case n.LINE_STRIP:t.lines+=o*(s-1);break;case n.LINE_LOOP:t.lines+=o*s;break;case n.POINTS:t.points+=o*s;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",a);break}}function r(){t.calls=0,t.triangles=0,t.points=0,t.lines=0}return{memory:e,render:t,programs:null,autoReset:!0,reset:r,update:i}}function QK(n,e,t){const i=new WeakMap,r=new Cr;function s(a,o,l){const c=a.morphTargetInfluences,f=o.morphAttributes.position||o.morphAttributes.normal||o.morphAttributes.color,h=f!==void 0?f.length:0;let v=i.get(o);if(v===void 0||v.count!==h){let M=function(){I.dispose(),i.delete(o),o.removeEventListener("dispose",M)};var m=M;v!==void 0&&v.texture.dispose();const _=o.morphAttributes.position!==void 0,g=o.morphAttributes.normal!==void 0,y=o.morphAttributes.color!==void 0,u=o.morphAttributes.position||[],b=o.morphAttributes.normal||[],S=o.morphAttributes.color||[];let T=0;_===!0&&(T=1),g===!0&&(T=2),y===!0&&(T=3);let R=o.attributes.position.count*T,O=1;R>e.maxTextureSize&&(O=Math.ceil(R/e.maxTextureSize),R=e.maxTextureSize);const C=new Float32Array(R*O*4*h),I=new $E(C,R,O,h);I.type=Oa,I.needsUpdate=!0;const F=T*4;for(let D=0;D<h;D++){const B=u[D],j=b[D],U=S[D],V=R*O*4*D;for(let k=0;k<B.count;k++){const Z=k*F;_===!0&&(r.fromBufferAttribute(B,k),C[V+Z+0]=r.x,C[V+Z+1]=r.y,C[V+Z+2]=r.z,C[V+Z+3]=0),g===!0&&(r.fromBufferAttribute(j,k),C[V+Z+4]=r.x,C[V+Z+5]=r.y,C[V+Z+6]=r.z,C[V+Z+7]=0),y===!0&&(r.fromBufferAttribute(U,k),C[V+Z+8]=r.x,C[V+Z+9]=r.y,C[V+Z+10]=r.z,C[V+Z+11]=U.itemSize===4?r.w:1)}}v={count:h,texture:I,size:new ln(R,O)},i.set(o,v),o.addEventListener("dispose",M)}if(a.isInstancedMesh===!0&&a.morphTexture!==null)l.getUniforms().setValue(n,"morphTexture",a.morphTexture,t);else{let _=0;for(let y=0;y<c.length;y++)_+=c[y];const g=o.morphTargetsRelative?1:1-_;l.getUniforms().setValue(n,"morphTargetBaseInfluence",g),l.getUniforms().setValue(n,"morphTargetInfluences",c)}l.getUniforms().setValue(n,"morphTargetsTexture",v.texture,t),l.getUniforms().setValue(n,"morphTargetsTextureSize",v.size)}return{update:s}}function JK(n,e,t,i){let r=new WeakMap;function s(l){const c=i.render.frame,f=l.geometry,h=e.get(l,f);if(r.get(h)!==c&&(e.update(h),r.set(h,c)),l.isInstancedMesh&&(l.hasEventListener("dispose",o)===!1&&l.addEventListener("dispose",o),r.get(l)!==c&&(t.update(l.instanceMatrix,n.ARRAY_BUFFER),l.instanceColor!==null&&t.update(l.instanceColor,n.ARRAY_BUFFER),r.set(l,c))),l.isSkinnedMesh){const v=l.skeleton;r.get(v)!==c&&(v.update(),r.set(v,c))}return h}function a(){r=new WeakMap}function o(l){const c=l.target;c.removeEventListener("dispose",o),t.remove(c.instanceMatrix),c.instanceColor!==null&&t.remove(c.instanceColor)}return{update:s,dispose:a}}const IB=new _s,xI=new QE(1,1),DB=new $E,NB=new VE,FB=new G1,SI=[],wI=[],EI=new Float32Array(16),CI=new Float32Array(9),TI=new Float32Array(4);function dy(n,e,t){const i=n[0];if(i<=0||i>0)return n;const r=e*t;let s=SI[r];if(s===void 0&&(s=new Float32Array(r),SI[r]=s),e!==0){i.toArray(s,0);for(let a=1,o=0;a!==e;++a)o+=t,n[a].toArray(s,o)}return s}function Yo(n,e){if(n.length!==e.length)return!1;for(let t=0,i=n.length;t<i;t++)if(n[t]!==e[t])return!1;return!0}function Ko(n,e){for(let t=0,i=e.length;t<i;t++)n[t]=e[t]}function vC(n,e){let t=wI[e];t===void 0&&(t=new Int32Array(e),wI[e]=t);for(let i=0;i!==e;++i)t[i]=n.allocateTextureUnit();return t}function eZ(n,e){const t=this.cache;t[0]!==e&&(n.uniform1f(this.addr,e),t[0]=e)}function tZ(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2f(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(Yo(t,e))return;n.uniform2fv(this.addr,e),Ko(t,e)}}function nZ(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3f(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else if(e.r!==void 0)(t[0]!==e.r||t[1]!==e.g||t[2]!==e.b)&&(n.uniform3f(this.addr,e.r,e.g,e.b),t[0]=e.r,t[1]=e.g,t[2]=e.b);else{if(Yo(t,e))return;n.uniform3fv(this.addr,e),Ko(t,e)}}function iZ(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4f(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(Yo(t,e))return;n.uniform4fv(this.addr,e),Ko(t,e)}}function rZ(n,e){const t=this.cache,i=e.elements;if(i===void 0){if(Yo(t,e))return;n.uniformMatrix2fv(this.addr,!1,e),Ko(t,e)}else{if(Yo(t,i))return;TI.set(i),n.uniformMatrix2fv(this.addr,!1,TI),Ko(t,i)}}function sZ(n,e){const t=this.cache,i=e.elements;if(i===void 0){if(Yo(t,e))return;n.uniformMatrix3fv(this.addr,!1,e),Ko(t,e)}else{if(Yo(t,i))return;CI.set(i),n.uniformMatrix3fv(this.addr,!1,CI),Ko(t,i)}}function aZ(n,e){const t=this.cache,i=e.elements;if(i===void 0){if(Yo(t,e))return;n.uniformMatrix4fv(this.addr,!1,e),Ko(t,e)}else{if(Yo(t,i))return;EI.set(i),n.uniformMatrix4fv(this.addr,!1,EI),Ko(t,i)}}function oZ(n,e){const t=this.cache;t[0]!==e&&(n.uniform1i(this.addr,e),t[0]=e)}function lZ(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2i(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(Yo(t,e))return;n.uniform2iv(this.addr,e),Ko(t,e)}}function cZ(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3i(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(Yo(t,e))return;n.uniform3iv(this.addr,e),Ko(t,e)}}function uZ(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4i(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(Yo(t,e))return;n.uniform4iv(this.addr,e),Ko(t,e)}}function hZ(n,e){const t=this.cache;t[0]!==e&&(n.uniform1ui(this.addr,e),t[0]=e)}function dZ(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2ui(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(Yo(t,e))return;n.uniform2uiv(this.addr,e),Ko(t,e)}}function fZ(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3ui(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(Yo(t,e))return;n.uniform3uiv(this.addr,e),Ko(t,e)}}function pZ(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4ui(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(Yo(t,e))return;n.uniform4uiv(this.addr,e),Ko(t,e)}}function mZ(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r);let s;this.type===n.SAMPLER_2D_SHADOW?(xI.compareFunction=i3,s=xI):s=IB,t.setTexture2D(e||s,r)}function gZ(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),t.setTexture3D(e||NB,r)}function vZ(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),t.setTextureCube(e||FB,r)}function yZ(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),t.setTexture2DArray(e||DB,r)}function _Z(n){switch(n){case 5126:return eZ;case 35664:return tZ;case 35665:return nZ;case 35666:return iZ;case 35674:return rZ;case 35675:return sZ;case 35676:return aZ;case 5124:case 35670:return oZ;case 35667:case 35671:return lZ;case 35668:case 35672:return cZ;case 35669:case 35673:return uZ;case 5125:return hZ;case 36294:return dZ;case 36295:return fZ;case 36296:return pZ;case 35678:case 36198:case 36298:case 36306:case 35682:return mZ;case 35679:case 36299:case 36307:return gZ;case 35680:case 36300:case 36308:case 36293:return vZ;case 36289:case 36303:case 36311:case 36292:return yZ}}function bZ(n,e){n.uniform1fv(this.addr,e)}function xZ(n,e){const t=dy(e,this.size,2);n.uniform2fv(this.addr,t)}function SZ(n,e){const t=dy(e,this.size,3);n.uniform3fv(this.addr,t)}function wZ(n,e){const t=dy(e,this.size,4);n.uniform4fv(this.addr,t)}function EZ(n,e){const t=dy(e,this.size,4);n.uniformMatrix2fv(this.addr,!1,t)}function CZ(n,e){const t=dy(e,this.size,9);n.uniformMatrix3fv(this.addr,!1,t)}function TZ(n,e){const t=dy(e,this.size,16);n.uniformMatrix4fv(this.addr,!1,t)}function AZ(n,e){n.uniform1iv(this.addr,e)}function MZ(n,e){n.uniform2iv(this.addr,e)}function RZ(n,e){n.uniform3iv(this.addr,e)}function OZ(n,e){n.uniform4iv(this.addr,e)}function LZ(n,e){n.uniform1uiv(this.addr,e)}function PZ(n,e){n.uniform2uiv(this.addr,e)}function IZ(n,e){n.uniform3uiv(this.addr,e)}function DZ(n,e){n.uniform4uiv(this.addr,e)}function NZ(n,e,t){const i=this.cache,r=e.length,s=vC(t,r);Yo(i,s)||(n.uniform1iv(this.addr,s),Ko(i,s));for(let a=0;a!==r;++a)t.setTexture2D(e[a]||IB,s[a])}function FZ(n,e,t){const i=this.cache,r=e.length,s=vC(t,r);Yo(i,s)||(n.uniform1iv(this.addr,s),Ko(i,s));for(let a=0;a!==r;++a)t.setTexture3D(e[a]||NB,s[a])}function UZ(n,e,t){const i=this.cache,r=e.length,s=vC(t,r);Yo(i,s)||(n.uniform1iv(this.addr,s),Ko(i,s));for(let a=0;a!==r;++a)t.setTextureCube(e[a]||FB,s[a])}function kZ(n,e,t){const i=this.cache,r=e.length,s=vC(t,r);Yo(i,s)||(n.uniform1iv(this.addr,s),Ko(i,s));for(let a=0;a!==r;++a)t.setTexture2DArray(e[a]||DB,s[a])}function BZ(n){switch(n){case 5126:return bZ;case 35664:return xZ;case 35665:return SZ;case 35666:return wZ;case 35674:return EZ;case 35675:return CZ;case 35676:return TZ;case 5124:case 35670:return AZ;case 35667:case 35671:return MZ;case 35668:case 35672:return RZ;case 35669:case 35673:return OZ;case 5125:return LZ;case 36294:return PZ;case 36295:return IZ;case 36296:return DZ;case 35678:case 36198:case 36298:case 36306:case 35682:return NZ;case 35679:case 36299:case 36307:return FZ;case 35680:case 36300:case 36308:case 36293:return UZ;case 36289:case 36303:case 36311:case 36292:return kZ}}class zZ{constructor(e,t,i){this.id=e,this.addr=i,this.cache=[],this.type=t.type,this.setValue=_Z(t.type)}}class GZ{constructor(e,t,i){this.id=e,this.addr=i,this.cache=[],this.type=t.type,this.size=t.size,this.setValue=BZ(t.type)}}class HZ{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,t,i){const r=this.seq;for(let s=0,a=r.length;s!==a;++s){const o=r[s];o.setValue(e,t[o.id],i)}}}const SA=/(\w+)(\])?(\[|\.)?/g;function AI(n,e){n.seq.push(e),n.map[e.id]=e}function $Z(n,e,t){const i=n.name,r=i.length;for(SA.lastIndex=0;;){const s=SA.exec(i),a=SA.lastIndex;let o=s[1];const l=s[2]==="]",c=s[3];if(l&&(o=o|0),c===void 0||c==="["&&a+2===r){AI(t,c===void 0?new zZ(o,n,e):new GZ(o,n,e));break}else{let h=t.map[o];h===void 0&&(h=new HZ(o),AI(t,h)),t=h}}}class zS{constructor(e,t){this.seq=[],this.map={};const i=e.getProgramParameter(t,e.ACTIVE_UNIFORMS);for(let r=0;r<i;++r){const s=e.getActiveUniform(t,r),a=e.getUniformLocation(t,s.name);$Z(s,a,this)}}setValue(e,t,i,r){const s=this.map[t];s!==void 0&&s.setValue(e,i,r)}setOptional(e,t,i){const r=t[i];r!==void 0&&this.setValue(e,i,r)}static upload(e,t,i,r){for(let s=0,a=t.length;s!==a;++s){const o=t[s],l=i[o.id];l.needsUpdate!==!1&&o.setValue(e,l.value,r)}}static seqWithValue(e,t){const i=[];for(let r=0,s=e.length;r!==s;++r){const a=e[r];a.id in t&&i.push(a)}return i}}function MI(n,e,t){const i=n.createShader(e);return n.shaderSource(i,t),n.compileShader(i),i}const VZ=37297;let WZ=0;function jZ(n,e){const t=n.split(`
`),i=[],r=Math.max(e-6,0),s=Math.min(e+6,t.length);for(let a=r;a<s;a++){const o=a+1;i.push(`${o===e?">":" "} ${o}: ${t[a]}`)}return i.join(`
`)}const RI=new hr;function XZ(n){Jr._getMatrix(RI,Jr.workingColorSpace,n);const e=`mat3( ${RI.elements.map(t=>t.toFixed(4))} )`;switch(Jr.getTransfer(n)){case u1:return[e,"LinearTransferOETF"];case Us:return[e,"sRGBTransferOETF"];default:return console.warn("THREE.WebGLProgram: Unsupported color space: ",n),[e,"LinearTransferOETF"]}}function OI(n,e,t){const i=n.getShaderParameter(e,n.COMPILE_STATUS),r=n.getShaderInfoLog(e).trim();if(i&&r==="")return"";const s=/ERROR: 0:(\d+)/.exec(r);if(s){const a=parseInt(s[1]);return t.toUpperCase()+`

`+r+`

`+jZ(n.getShaderSource(e),a)}else return r}function qZ(n,e){const t=XZ(e);return[`vec4 ${n}( vec4 value ) {`,`	return ${t[1]}( vec4( value.rgb * ${t[0]}, value.a ) );`,"}"].join(`
`)}function YZ(n,e){let t;switch(e){case NE:t="Linear";break;case uk:t="Reinhard";break;case hk:t="Cineon";break;case qR:t="ACESFilmic";break;case fk:t="AgX";break;case pk:t="Neutral";break;case dk:t="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),t="Linear"}return"vec3 "+n+"( vec3 color ) { return "+t+"ToneMapping( color ); }"}const $x=new Oe;function KZ(){Jr.getLuminanceCoefficients($x);const n=$x.x.toFixed(4),e=$x.y.toFixed(4),t=$x.z.toFixed(4);return["float luminance( const in vec3 rgb ) {",`	const vec3 weights = vec3( ${n}, ${e}, ${t} );`,"	return dot( weights, rgb );","}"].join(`
`)}function ZZ(n){return[n.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":"",n.extensionMultiDraw?"#extension GL_ANGLE_multi_draw : require":""].filter(O_).join(`
`)}function QZ(n){const e=[];for(const t in n){const i=n[t];i!==!1&&e.push("#define "+t+" "+i)}return e.join(`
`)}function JZ(n,e){const t={},i=n.getProgramParameter(e,n.ACTIVE_ATTRIBUTES);for(let r=0;r<i;r++){const s=n.getActiveAttrib(e,r),a=s.name;let o=1;s.type===n.FLOAT_MAT2&&(o=2),s.type===n.FLOAT_MAT3&&(o=3),s.type===n.FLOAT_MAT4&&(o=4),t[a]={type:s.type,location:n.getAttribLocation(e,a),locationSize:o}}return t}function O_(n){return n!==""}function LI(n,e){const t=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return n.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,t).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function PI(n,e){return n.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const eQ=/^[ \t]*#include +<([\w\d./]+)>/gm;function RM(n){return n.replace(eQ,nQ)}const tQ=new Map;function nQ(n,e){let t=yr[e];if(t===void 0){const i=tQ.get(e);if(i!==void 0)t=yr[i],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',e,i);else throw new Error("Can not resolve #include <"+e+">")}return RM(t)}const iQ=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function II(n){return n.replace(iQ,rQ)}function rQ(n,e,t,i){let r="";for(let s=parseInt(e);s<parseInt(t);s++)r+=i.replace(/\[\s*i\s*\]/g,"[ "+s+" ]").replace(/UNROLLED_LOOP_INDEX/g,s);return r}function DI(n){let e=`precision ${n.precision} float;
	precision ${n.precision} int;
	precision ${n.precision} sampler2D;
	precision ${n.precision} samplerCube;
	precision ${n.precision} sampler3D;
	precision ${n.precision} sampler2DArray;
	precision ${n.precision} sampler2DShadow;
	precision ${n.precision} samplerCubeShadow;
	precision ${n.precision} sampler2DArrayShadow;
	precision ${n.precision} isampler2D;
	precision ${n.precision} isampler3D;
	precision ${n.precision} isamplerCube;
	precision ${n.precision} isampler2DArray;
	precision ${n.precision} usampler2D;
	precision ${n.precision} usampler3D;
	precision ${n.precision} usamplerCube;
	precision ${n.precision} usampler2DArray;
	`;return n.precision==="highp"?e+=`
#define HIGH_PRECISION`:n.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:n.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function sQ(n){let e="SHADOWMAP_TYPE_BASIC";return n.shadowMapType===DE?e="SHADOWMAP_TYPE_PCF":n.shadowMapType===N_?e="SHADOWMAP_TYPE_PCF_SOFT":n.shadowMapType===Ih&&(e="SHADOWMAP_TYPE_VSM"),e}function aQ(n){let e="ENVMAP_TYPE_CUBE";if(n.envMap)switch(n.envMapMode){case Ud:case dm:e="ENVMAP_TYPE_CUBE";break;case uy:e="ENVMAP_TYPE_CUBE_UV";break}return e}function oQ(n){let e="ENVMAP_MODE_REFLECTION";if(n.envMap)switch(n.envMapMode){case dm:e="ENVMAP_MODE_REFRACTION";break}return e}function lQ(n){let e="ENVMAP_BLENDING_NONE";if(n.envMap)switch(n.combine){case F1:e="ENVMAP_BLENDING_MULTIPLY";break;case lk:e="ENVMAP_BLENDING_MIX";break;case ck:e="ENVMAP_BLENDING_ADD";break}return e}function cQ(n){const e=n.envMapCubeUVHeight;if(e===null)return null;const t=Math.log2(e)-2,i=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,t),112)),texelHeight:i,maxMip:t}}function uQ(n,e,t,i){const r=n.getContext(),s=t.defines;let a=t.vertexShader,o=t.fragmentShader;const l=sQ(t),c=aQ(t),f=oQ(t),h=lQ(t),v=cQ(t),m=ZZ(t),_=QZ(s),g=r.createProgram();let y,u,b=t.glslVersion?"#version "+t.glslVersion+`
`:"";t.isRawShaderMaterial?(y=["#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,_].filter(O_).join(`
`),y.length>0&&(y+=`
`),u=["#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,_].filter(O_).join(`
`),u.length>0&&(u+=`
`)):(y=[DI(t),"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,_,t.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",t.batching?"#define USE_BATCHING":"",t.batchingColor?"#define USE_BATCHING_COLOR":"",t.instancing?"#define USE_INSTANCING":"",t.instancingColor?"#define USE_INSTANCING_COLOR":"",t.instancingMorph?"#define USE_INSTANCING_MORPH":"",t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+f:"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.displacementMap?"#define USE_DISPLACEMENTMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.anisotropy?"#define USE_ANISOTROPY":"",t.anisotropyMap?"#define USE_ANISOTROPYMAP":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaHash?"#define USE_ALPHAHASH":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.mapUv?"#define MAP_UV "+t.mapUv:"",t.alphaMapUv?"#define ALPHAMAP_UV "+t.alphaMapUv:"",t.lightMapUv?"#define LIGHTMAP_UV "+t.lightMapUv:"",t.aoMapUv?"#define AOMAP_UV "+t.aoMapUv:"",t.emissiveMapUv?"#define EMISSIVEMAP_UV "+t.emissiveMapUv:"",t.bumpMapUv?"#define BUMPMAP_UV "+t.bumpMapUv:"",t.normalMapUv?"#define NORMALMAP_UV "+t.normalMapUv:"",t.displacementMapUv?"#define DISPLACEMENTMAP_UV "+t.displacementMapUv:"",t.metalnessMapUv?"#define METALNESSMAP_UV "+t.metalnessMapUv:"",t.roughnessMapUv?"#define ROUGHNESSMAP_UV "+t.roughnessMapUv:"",t.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+t.anisotropyMapUv:"",t.clearcoatMapUv?"#define CLEARCOATMAP_UV "+t.clearcoatMapUv:"",t.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+t.clearcoatNormalMapUv:"",t.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+t.clearcoatRoughnessMapUv:"",t.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+t.iridescenceMapUv:"",t.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+t.iridescenceThicknessMapUv:"",t.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+t.sheenColorMapUv:"",t.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+t.sheenRoughnessMapUv:"",t.specularMapUv?"#define SPECULARMAP_UV "+t.specularMapUv:"",t.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+t.specularColorMapUv:"",t.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+t.specularIntensityMapUv:"",t.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+t.transmissionMapUv:"",t.thicknessMapUv?"#define THICKNESSMAP_UV "+t.thicknessMapUv:"",t.vertexTangents&&t.flatShading===!1?"#define USE_TANGENT":"",t.vertexColors?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.flatShading?"#define FLAT_SHADED":"",t.skinning?"#define USE_SKINNING":"",t.morphTargets?"#define USE_MORPHTARGETS":"",t.morphNormals&&t.flatShading===!1?"#define USE_MORPHNORMALS":"",t.morphColors?"#define USE_MORPHCOLORS":"",t.morphTargetsCount>0?"#define MORPHTARGETS_TEXTURE_STRIDE "+t.morphTextureStride:"",t.morphTargetsCount>0?"#define MORPHTARGETS_COUNT "+t.morphTargetsCount:"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+l:"",t.sizeAttenuation?"#define USE_SIZEATTENUATION":"",t.numLightProbes>0?"#define USE_LIGHT_PROBES":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.reverseDepthBuffer?"#define USE_REVERSEDEPTHBUF":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","#ifdef USE_INSTANCING_MORPH","	uniform sampler2D morphTexture;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(O_).join(`
`),u=[DI(t),"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,_,t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.alphaToCoverage?"#define ALPHA_TO_COVERAGE":"",t.map?"#define USE_MAP":"",t.matcap?"#define USE_MATCAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+c:"",t.envMap?"#define "+f:"",t.envMap?"#define "+h:"",v?"#define CUBEUV_TEXEL_WIDTH "+v.texelWidth:"",v?"#define CUBEUV_TEXEL_HEIGHT "+v.texelHeight:"",v?"#define CUBEUV_MAX_MIP "+v.maxMip+".0":"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.anisotropy?"#define USE_ANISOTROPY":"",t.anisotropyMap?"#define USE_ANISOTROPYMAP":"",t.clearcoat?"#define USE_CLEARCOAT":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.dispersion?"#define USE_DISPERSION":"",t.iridescence?"#define USE_IRIDESCENCE":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaTest?"#define USE_ALPHATEST":"",t.alphaHash?"#define USE_ALPHAHASH":"",t.sheen?"#define USE_SHEEN":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.vertexTangents&&t.flatShading===!1?"#define USE_TANGENT":"",t.vertexColors||t.instancingColor||t.batchingColor?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.gradientMap?"#define USE_GRADIENTMAP":"",t.flatShading?"#define FLAT_SHADED":"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+l:"",t.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",t.numLightProbes>0?"#define USE_LIGHT_PROBES":"",t.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",t.decodeVideoTextureEmissive?"#define DECODE_VIDEO_TEXTURE_EMISSIVE":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.reverseDepthBuffer?"#define USE_REVERSEDEPTHBUF":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",t.toneMapping!==Nd?"#define TONE_MAPPING":"",t.toneMapping!==Nd?yr.tonemapping_pars_fragment:"",t.toneMapping!==Nd?YZ("toneMapping",t.toneMapping):"",t.dithering?"#define DITHERING":"",t.opaque?"#define OPAQUE":"",yr.colorspace_pars_fragment,qZ("linearToOutputTexel",t.outputColorSpace),KZ(),t.useDepthPacking?"#define DEPTH_PACKING "+t.depthPacking:"",`
`].filter(O_).join(`
`)),a=RM(a),a=LI(a,t),a=PI(a,t),o=RM(o),o=LI(o,t),o=PI(o,t),a=II(a),o=II(o),t.isRawShaderMaterial!==!0&&(b=`#version 300 es
`,y=[m,"#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+y,u=["#define varying in",t.glslVersion===_M?"":"layout(location = 0) out highp vec4 pc_fragColor;",t.glslVersion===_M?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+u);const S=b+y+a,T=b+u+o,R=MI(r,r.VERTEX_SHADER,S),O=MI(r,r.FRAGMENT_SHADER,T);r.attachShader(g,R),r.attachShader(g,O),t.index0AttributeName!==void 0?r.bindAttribLocation(g,0,t.index0AttributeName):t.morphTargets===!0&&r.bindAttribLocation(g,0,"position"),r.linkProgram(g);function C(D){if(n.debug.checkShaderErrors){const B=r.getProgramInfoLog(g).trim(),j=r.getShaderInfoLog(R).trim(),U=r.getShaderInfoLog(O).trim();let V=!0,k=!0;if(r.getProgramParameter(g,r.LINK_STATUS)===!1)if(V=!1,typeof n.debug.onShaderError=="function")n.debug.onShaderError(r,g,R,O);else{const Z=OI(r,R,"vertex"),ee=OI(r,O,"fragment");console.error("THREE.WebGLProgram: Shader Error "+r.getError()+" - VALIDATE_STATUS "+r.getProgramParameter(g,r.VALIDATE_STATUS)+`

Material Name: `+D.name+`
Material Type: `+D.type+`

Program Info Log: `+B+`
`+Z+`
`+ee)}else B!==""?console.warn("THREE.WebGLProgram: Program Info Log:",B):(j===""||U==="")&&(k=!1);k&&(D.diagnostics={runnable:V,programLog:B,vertexShader:{log:j,prefix:y},fragmentShader:{log:U,prefix:u}})}r.deleteShader(R),r.deleteShader(O),I=new zS(r,g),F=JZ(r,g)}let I;this.getUniforms=function(){return I===void 0&&C(this),I};let F;this.getAttributes=function(){return F===void 0&&C(this),F};let M=t.rendererExtensionParallelShaderCompile===!1;return this.isReady=function(){return M===!1&&(M=r.getProgramParameter(g,VZ)),M},this.destroy=function(){i.releaseStatesOfProgram(this),r.deleteProgram(g),this.program=void 0},this.type=t.shaderType,this.name=t.shaderName,this.id=WZ++,this.cacheKey=e,this.usedTimes=1,this.program=g,this.vertexShader=R,this.fragmentShader=O,this}let hQ=0;class dQ{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const t=e.vertexShader,i=e.fragmentShader,r=this._getShaderStage(t),s=this._getShaderStage(i),a=this._getShaderCacheForMaterial(e);return a.has(r)===!1&&(a.add(r),r.usedTimes++),a.has(s)===!1&&(a.add(s),s.usedTimes++),this}remove(e){const t=this.materialCache.get(e);for(const i of t)i.usedTimes--,i.usedTimes===0&&this.shaderCache.delete(i.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const t=this.materialCache;let i=t.get(e);return i===void 0&&(i=new Set,t.set(e,i)),i}_getShaderStage(e){const t=this.shaderCache;let i=t.get(e);return i===void 0&&(i=new fQ(e),t.set(e,i)),i}}class fQ{constructor(e){this.id=hQ++,this.code=e,this.usedTimes=0}}function pQ(n,e,t,i,r,s,a){const o=new Y0,l=new dQ,c=new Set,f=[],h=r.logarithmicDepthBuffer,v=r.vertexTextures;let m=r.precision;const _={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function g(F){return c.add(F),F===0?"uv":`uv${F}`}function y(F,M,D,B,j){const U=B.fog,V=j.geometry,k=F.isMeshStandardMaterial?B.environment:null,Z=(F.isMeshStandardMaterial?t:e).get(F.envMap||k),ee=Z&&Z.mapping===uy?Z.image.height:null,oe=_[F.type];F.precision!==null&&(m=r.getMaxPrecision(F.precision),m!==F.precision&&console.warn("THREE.WebGLProgram.getParameters:",F.precision,"not supported, using",m,"instead."));const ne=V.morphAttributes.position||V.morphAttributes.normal||V.morphAttributes.color,ie=ne!==void 0?ne.length:0;let he=0;V.morphAttributes.position!==void 0&&(he=1),V.morphAttributes.normal!==void 0&&(he=2),V.morphAttributes.color!==void 0&&(he=3);let fe,ce,ae,ve;if(oe){const Wn=Uh[oe];fe=Wn.vertexShader,ce=Wn.fragmentShader}else fe=F.vertexShader,ce=F.fragmentShader,l.update(F),ae=l.getVertexShaderID(F),ve=l.getFragmentShaderID(F);const _e=n.getRenderTarget(),Te=n.state.buffers.depth.getReversed(),Fe=j.isInstancedMesh===!0,We=j.isBatchedMesh===!0,ht=!!F.map,ft=!!F.matcap,Bt=!!Z,Me=!!F.aoMap,yt=!!F.lightMap,mt=!!F.bumpMap,St=!!F.normalMap,nt=!!F.displacementMap,Ft=!!F.emissiveMap,qe=!!F.metalnessMap,Ke=!!F.roughnessMap,Et=F.anisotropy>0,ye=F.clearcoat>0,me=F.dispersion>0,Le=F.iridescence>0,it=F.sheen>0,Qe=F.transmission>0,et=Et&&!!F.anisotropyMap,At=ye&&!!F.clearcoatMap,Gt=ye&&!!F.clearcoatNormalMap,on=ye&&!!F.clearcoatRoughnessMap,fn=Le&&!!F.iridescenceMap,xt=Le&&!!F.iridescenceThicknessMap,kt=it&&!!F.sheenColorMap,Xt=it&&!!F.sheenRoughnessMap,Ve=!!F.specularMap,lt=!!F.specularColorMap,Qt=!!F.specularIntensityMap,Ye=Qe&&!!F.transmissionMap,ct=Qe&&!!F.thicknessMap,Dt=!!F.gradientMap,Sn=!!F.alphaMap,qt=F.alphaTest>0,wt=!!F.alphaHash,dn=!!F.extensions;let wn=Nd;F.toneMapped&&(_e===null||_e.isXRRenderTarget===!0)&&(wn=n.toneMapping);const Pn={shaderID:oe,shaderType:F.type,shaderName:F.name,vertexShader:fe,fragmentShader:ce,defines:F.defines,customVertexShaderID:ae,customFragmentShaderID:ve,isRawShaderMaterial:F.isRawShaderMaterial===!0,glslVersion:F.glslVersion,precision:m,batching:We,batchingColor:We&&j._colorsTexture!==null,instancing:Fe,instancingColor:Fe&&j.instanceColor!==null,instancingMorph:Fe&&j.morphTexture!==null,supportsVertexTextures:v,outputColorSpace:_e===null?n.outputColorSpace:_e.isXRRenderTarget===!0?_e.texture.colorSpace:jh,alphaToCoverage:!!F.alphaToCoverage,map:ht,matcap:ft,envMap:Bt,envMapMode:Bt&&Z.mapping,envMapCubeUVHeight:ee,aoMap:Me,lightMap:yt,bumpMap:mt,normalMap:St,displacementMap:v&&nt,emissiveMap:Ft,normalMapObjectSpace:St&&F.normalMapType===bk,normalMapTangentSpace:St&&F.normalMapType===_m,metalnessMap:qe,roughnessMap:Ke,anisotropy:Et,anisotropyMap:et,clearcoat:ye,clearcoatMap:At,clearcoatNormalMap:Gt,clearcoatRoughnessMap:on,dispersion:me,iridescence:Le,iridescenceMap:fn,iridescenceThicknessMap:xt,sheen:it,sheenColorMap:kt,sheenRoughnessMap:Xt,specularMap:Ve,specularColorMap:lt,specularIntensityMap:Qt,transmission:Qe,transmissionMap:Ye,thicknessMap:ct,gradientMap:Dt,opaque:F.transparent===!1&&F.blending===jf&&F.alphaToCoverage===!1,alphaMap:Sn,alphaTest:qt,alphaHash:wt,combine:F.combine,mapUv:ht&&g(F.map.channel),aoMapUv:Me&&g(F.aoMap.channel),lightMapUv:yt&&g(F.lightMap.channel),bumpMapUv:mt&&g(F.bumpMap.channel),normalMapUv:St&&g(F.normalMap.channel),displacementMapUv:nt&&g(F.displacementMap.channel),emissiveMapUv:Ft&&g(F.emissiveMap.channel),metalnessMapUv:qe&&g(F.metalnessMap.channel),roughnessMapUv:Ke&&g(F.roughnessMap.channel),anisotropyMapUv:et&&g(F.anisotropyMap.channel),clearcoatMapUv:At&&g(F.clearcoatMap.channel),clearcoatNormalMapUv:Gt&&g(F.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:on&&g(F.clearcoatRoughnessMap.channel),iridescenceMapUv:fn&&g(F.iridescenceMap.channel),iridescenceThicknessMapUv:xt&&g(F.iridescenceThicknessMap.channel),sheenColorMapUv:kt&&g(F.sheenColorMap.channel),sheenRoughnessMapUv:Xt&&g(F.sheenRoughnessMap.channel),specularMapUv:Ve&&g(F.specularMap.channel),specularColorMapUv:lt&&g(F.specularColorMap.channel),specularIntensityMapUv:Qt&&g(F.specularIntensityMap.channel),transmissionMapUv:Ye&&g(F.transmissionMap.channel),thicknessMapUv:ct&&g(F.thicknessMap.channel),alphaMapUv:Sn&&g(F.alphaMap.channel),vertexTangents:!!V.attributes.tangent&&(St||Et),vertexColors:F.vertexColors,vertexAlphas:F.vertexColors===!0&&!!V.attributes.color&&V.attributes.color.itemSize===4,pointsUvs:j.isPoints===!0&&!!V.attributes.uv&&(ht||Sn),fog:!!U,useFog:F.fog===!0,fogExp2:!!U&&U.isFogExp2,flatShading:F.flatShading===!0&&F.wireframe===!1,sizeAttenuation:F.sizeAttenuation===!0,logarithmicDepthBuffer:h,reverseDepthBuffer:Te,skinning:j.isSkinnedMesh===!0,morphTargets:V.morphAttributes.position!==void 0,morphNormals:V.morphAttributes.normal!==void 0,morphColors:V.morphAttributes.color!==void 0,morphTargetsCount:ie,morphTextureStride:he,numDirLights:M.directional.length,numPointLights:M.point.length,numSpotLights:M.spot.length,numSpotLightMaps:M.spotLightMap.length,numRectAreaLights:M.rectArea.length,numHemiLights:M.hemi.length,numDirLightShadows:M.directionalShadowMap.length,numPointLightShadows:M.pointShadowMap.length,numSpotLightShadows:M.spotShadowMap.length,numSpotLightShadowsWithMaps:M.numSpotLightShadowsWithMaps,numLightProbes:M.numLightProbes,numClippingPlanes:a.numPlanes,numClipIntersection:a.numIntersection,dithering:F.dithering,shadowMapEnabled:n.shadowMap.enabled&&D.length>0,shadowMapType:n.shadowMap.type,toneMapping:wn,decodeVideoTexture:ht&&F.map.isVideoTexture===!0&&Jr.getTransfer(F.map.colorSpace)===Us,decodeVideoTextureEmissive:Ft&&F.emissiveMap.isVideoTexture===!0&&Jr.getTransfer(F.emissiveMap.colorSpace)===Us,premultipliedAlpha:F.premultipliedAlpha,doubleSided:F.side===El,flipSided:F.side===xc,useDepthPacking:F.depthPacking>=0,depthPacking:F.depthPacking||0,index0AttributeName:F.index0AttributeName,extensionClipCullDistance:dn&&F.extensions.clipCullDistance===!0&&i.has("WEBGL_clip_cull_distance"),extensionMultiDraw:(dn&&F.extensions.multiDraw===!0||We)&&i.has("WEBGL_multi_draw"),rendererExtensionParallelShaderCompile:i.has("KHR_parallel_shader_compile"),customProgramCacheKey:F.customProgramCacheKey()};return Pn.vertexUv1s=c.has(1),Pn.vertexUv2s=c.has(2),Pn.vertexUv3s=c.has(3),c.clear(),Pn}function u(F){const M=[];if(F.shaderID?M.push(F.shaderID):(M.push(F.customVertexShaderID),M.push(F.customFragmentShaderID)),F.defines!==void 0)for(const D in F.defines)M.push(D),M.push(F.defines[D]);return F.isRawShaderMaterial===!1&&(b(M,F),S(M,F),M.push(n.outputColorSpace)),M.push(F.customProgramCacheKey),M.join()}function b(F,M){F.push(M.precision),F.push(M.outputColorSpace),F.push(M.envMapMode),F.push(M.envMapCubeUVHeight),F.push(M.mapUv),F.push(M.alphaMapUv),F.push(M.lightMapUv),F.push(M.aoMapUv),F.push(M.bumpMapUv),F.push(M.normalMapUv),F.push(M.displacementMapUv),F.push(M.emissiveMapUv),F.push(M.metalnessMapUv),F.push(M.roughnessMapUv),F.push(M.anisotropyMapUv),F.push(M.clearcoatMapUv),F.push(M.clearcoatNormalMapUv),F.push(M.clearcoatRoughnessMapUv),F.push(M.iridescenceMapUv),F.push(M.iridescenceThicknessMapUv),F.push(M.sheenColorMapUv),F.push(M.sheenRoughnessMapUv),F.push(M.specularMapUv),F.push(M.specularColorMapUv),F.push(M.specularIntensityMapUv),F.push(M.transmissionMapUv),F.push(M.thicknessMapUv),F.push(M.combine),F.push(M.fogExp2),F.push(M.sizeAttenuation),F.push(M.morphTargetsCount),F.push(M.morphAttributeCount),F.push(M.numDirLights),F.push(M.numPointLights),F.push(M.numSpotLights),F.push(M.numSpotLightMaps),F.push(M.numHemiLights),F.push(M.numRectAreaLights),F.push(M.numDirLightShadows),F.push(M.numPointLightShadows),F.push(M.numSpotLightShadows),F.push(M.numSpotLightShadowsWithMaps),F.push(M.numLightProbes),F.push(M.shadowMapType),F.push(M.toneMapping),F.push(M.numClippingPlanes),F.push(M.numClipIntersection),F.push(M.depthPacking)}function S(F,M){o.disableAll(),M.supportsVertexTextures&&o.enable(0),M.instancing&&o.enable(1),M.instancingColor&&o.enable(2),M.instancingMorph&&o.enable(3),M.matcap&&o.enable(4),M.envMap&&o.enable(5),M.normalMapObjectSpace&&o.enable(6),M.normalMapTangentSpace&&o.enable(7),M.clearcoat&&o.enable(8),M.iridescence&&o.enable(9),M.alphaTest&&o.enable(10),M.vertexColors&&o.enable(11),M.vertexAlphas&&o.enable(12),M.vertexUv1s&&o.enable(13),M.vertexUv2s&&o.enable(14),M.vertexUv3s&&o.enable(15),M.vertexTangents&&o.enable(16),M.anisotropy&&o.enable(17),M.alphaHash&&o.enable(18),M.batching&&o.enable(19),M.dispersion&&o.enable(20),M.batchingColor&&o.enable(21),M.gradientMap&&o.enable(22),F.push(o.mask),o.disableAll(),M.fog&&o.enable(0),M.useFog&&o.enable(1),M.flatShading&&o.enable(2),M.logarithmicDepthBuffer&&o.enable(3),M.reverseDepthBuffer&&o.enable(4),M.skinning&&o.enable(5),M.morphTargets&&o.enable(6),M.morphNormals&&o.enable(7),M.morphColors&&o.enable(8),M.premultipliedAlpha&&o.enable(9),M.shadowMapEnabled&&o.enable(10),M.doubleSided&&o.enable(11),M.flipSided&&o.enable(12),M.useDepthPacking&&o.enable(13),M.dithering&&o.enable(14),M.transmission&&o.enable(15),M.sheen&&o.enable(16),M.opaque&&o.enable(17),M.pointsUvs&&o.enable(18),M.decodeVideoTexture&&o.enable(19),M.decodeVideoTextureEmissive&&o.enable(20),M.alphaToCoverage&&o.enable(21),F.push(o.mask)}function T(F){const M=_[F.type];let D;if(M){const B=Uh[M];D=p1.clone(B.uniforms)}else D=F.uniforms;return D}function R(F,M){let D;for(let B=0,j=f.length;B<j;B++){const U=f[B];if(U.cacheKey===M){D=U,++D.usedTimes;break}}return D===void 0&&(D=new uQ(n,M,F,s),f.push(D)),D}function O(F){if(--F.usedTimes===0){const M=f.indexOf(F);f[M]=f[f.length-1],f.pop(),F.destroy()}}function C(F){l.remove(F)}function I(){l.dispose()}return{getParameters:y,getProgramCacheKey:u,getUniforms:T,acquireProgram:R,releaseProgram:O,releaseShaderCache:C,programs:f,dispose:I}}function mQ(){let n=new WeakMap;function e(a){return n.has(a)}function t(a){let o=n.get(a);return o===void 0&&(o={},n.set(a,o)),o}function i(a){n.delete(a)}function r(a,o,l){n.get(a)[o]=l}function s(){n=new WeakMap}return{has:e,get:t,remove:i,update:r,dispose:s}}function gQ(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.material.id!==e.material.id?n.material.id-e.material.id:n.z!==e.z?n.z-e.z:n.id-e.id}function NI(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.z!==e.z?e.z-n.z:n.id-e.id}function FI(){const n=[];let e=0;const t=[],i=[],r=[];function s(){e=0,t.length=0,i.length=0,r.length=0}function a(h,v,m,_,g,y){let u=n[e];return u===void 0?(u={id:h.id,object:h,geometry:v,material:m,groupOrder:_,renderOrder:h.renderOrder,z:g,group:y},n[e]=u):(u.id=h.id,u.object=h,u.geometry=v,u.material=m,u.groupOrder=_,u.renderOrder=h.renderOrder,u.z=g,u.group=y),e++,u}function o(h,v,m,_,g,y){const u=a(h,v,m,_,g,y);m.transmission>0?i.push(u):m.transparent===!0?r.push(u):t.push(u)}function l(h,v,m,_,g,y){const u=a(h,v,m,_,g,y);m.transmission>0?i.unshift(u):m.transparent===!0?r.unshift(u):t.unshift(u)}function c(h,v){t.length>1&&t.sort(h||gQ),i.length>1&&i.sort(v||NI),r.length>1&&r.sort(v||NI)}function f(){for(let h=e,v=n.length;h<v;h++){const m=n[h];if(m.id===null)break;m.id=null,m.object=null,m.geometry=null,m.material=null,m.group=null}}return{opaque:t,transmissive:i,transparent:r,init:s,push:o,unshift:l,finish:f,sort:c}}function vQ(){let n=new WeakMap;function e(i,r){const s=n.get(i);let a;return s===void 0?(a=new FI,n.set(i,[a])):r>=s.length?(a=new FI,s.push(a)):a=s[r],a}function t(){n=new WeakMap}return{get:e,dispose:t}}function yQ(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={direction:new Oe,color:new Zn};break;case"SpotLight":t={position:new Oe,direction:new Oe,color:new Zn,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":t={position:new Oe,color:new Zn,distance:0,decay:0};break;case"HemisphereLight":t={direction:new Oe,skyColor:new Zn,groundColor:new Zn};break;case"RectAreaLight":t={color:new Zn,position:new Oe,halfWidth:new Oe,halfHeight:new Oe};break}return n[e.id]=t,t}}}function _Q(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new ln};break;case"SpotLight":t={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new ln};break;case"PointLight":t={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new ln,shadowCameraNear:1,shadowCameraFar:1e3};break}return n[e.id]=t,t}}}let bQ=0;function xQ(n,e){return(e.castShadow?2:0)-(n.castShadow?2:0)+(e.map?1:0)-(n.map?1:0)}function SQ(n){const e=new yQ,t=_Q(),i={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let c=0;c<9;c++)i.probe.push(new Oe);const r=new Oe,s=new ri,a=new ri;function o(c){let f=0,h=0,v=0;for(let F=0;F<9;F++)i.probe[F].set(0,0,0);let m=0,_=0,g=0,y=0,u=0,b=0,S=0,T=0,R=0,O=0,C=0;c.sort(xQ);for(let F=0,M=c.length;F<M;F++){const D=c[F],B=D.color,j=D.intensity,U=D.distance,V=D.shadow&&D.shadow.map?D.shadow.map.texture:null;if(D.isAmbientLight)f+=B.r*j,h+=B.g*j,v+=B.b*j;else if(D.isLightProbe){for(let k=0;k<9;k++)i.probe[k].addScaledVector(D.sh.coefficients[k],j);C++}else if(D.isDirectionalLight){const k=e.get(D);if(k.color.copy(D.color).multiplyScalar(D.intensity),D.castShadow){const Z=D.shadow,ee=t.get(D);ee.shadowIntensity=Z.intensity,ee.shadowBias=Z.bias,ee.shadowNormalBias=Z.normalBias,ee.shadowRadius=Z.radius,ee.shadowMapSize=Z.mapSize,i.directionalShadow[m]=ee,i.directionalShadowMap[m]=V,i.directionalShadowMatrix[m]=D.shadow.matrix,b++}i.directional[m]=k,m++}else if(D.isSpotLight){const k=e.get(D);k.position.setFromMatrixPosition(D.matrixWorld),k.color.copy(B).multiplyScalar(j),k.distance=U,k.coneCos=Math.cos(D.angle),k.penumbraCos=Math.cos(D.angle*(1-D.penumbra)),k.decay=D.decay,i.spot[g]=k;const Z=D.shadow;if(D.map&&(i.spotLightMap[R]=D.map,R++,Z.updateMatrices(D),D.castShadow&&O++),i.spotLightMatrix[g]=Z.matrix,D.castShadow){const ee=t.get(D);ee.shadowIntensity=Z.intensity,ee.shadowBias=Z.bias,ee.shadowNormalBias=Z.normalBias,ee.shadowRadius=Z.radius,ee.shadowMapSize=Z.mapSize,i.spotShadow[g]=ee,i.spotShadowMap[g]=V,T++}g++}else if(D.isRectAreaLight){const k=e.get(D);k.color.copy(B).multiplyScalar(j),k.halfWidth.set(D.width*.5,0,0),k.halfHeight.set(0,D.height*.5,0),i.rectArea[y]=k,y++}else if(D.isPointLight){const k=e.get(D);if(k.color.copy(D.color).multiplyScalar(D.intensity),k.distance=D.distance,k.decay=D.decay,D.castShadow){const Z=D.shadow,ee=t.get(D);ee.shadowIntensity=Z.intensity,ee.shadowBias=Z.bias,ee.shadowNormalBias=Z.normalBias,ee.shadowRadius=Z.radius,ee.shadowMapSize=Z.mapSize,ee.shadowCameraNear=Z.camera.near,ee.shadowCameraFar=Z.camera.far,i.pointShadow[_]=ee,i.pointShadowMap[_]=V,i.pointShadowMatrix[_]=D.shadow.matrix,S++}i.point[_]=k,_++}else if(D.isHemisphereLight){const k=e.get(D);k.skyColor.copy(D.color).multiplyScalar(j),k.groundColor.copy(D.groundColor).multiplyScalar(j),i.hemi[u]=k,u++}}y>0&&(n.has("OES_texture_float_linear")===!0?(i.rectAreaLTC1=qn.LTC_FLOAT_1,i.rectAreaLTC2=qn.LTC_FLOAT_2):(i.rectAreaLTC1=qn.LTC_HALF_1,i.rectAreaLTC2=qn.LTC_HALF_2)),i.ambient[0]=f,i.ambient[1]=h,i.ambient[2]=v;const I=i.hash;(I.directionalLength!==m||I.pointLength!==_||I.spotLength!==g||I.rectAreaLength!==y||I.hemiLength!==u||I.numDirectionalShadows!==b||I.numPointShadows!==S||I.numSpotShadows!==T||I.numSpotMaps!==R||I.numLightProbes!==C)&&(i.directional.length=m,i.spot.length=g,i.rectArea.length=y,i.point.length=_,i.hemi.length=u,i.directionalShadow.length=b,i.directionalShadowMap.length=b,i.pointShadow.length=S,i.pointShadowMap.length=S,i.spotShadow.length=T,i.spotShadowMap.length=T,i.directionalShadowMatrix.length=b,i.pointShadowMatrix.length=S,i.spotLightMatrix.length=T+R-O,i.spotLightMap.length=R,i.numSpotLightShadowsWithMaps=O,i.numLightProbes=C,I.directionalLength=m,I.pointLength=_,I.spotLength=g,I.rectAreaLength=y,I.hemiLength=u,I.numDirectionalShadows=b,I.numPointShadows=S,I.numSpotShadows=T,I.numSpotMaps=R,I.numLightProbes=C,i.version=bQ++)}function l(c,f){let h=0,v=0,m=0,_=0,g=0;const y=f.matrixWorldInverse;for(let u=0,b=c.length;u<b;u++){const S=c[u];if(S.isDirectionalLight){const T=i.directional[h];T.direction.setFromMatrixPosition(S.matrixWorld),r.setFromMatrixPosition(S.target.matrixWorld),T.direction.sub(r),T.direction.transformDirection(y),h++}else if(S.isSpotLight){const T=i.spot[m];T.position.setFromMatrixPosition(S.matrixWorld),T.position.applyMatrix4(y),T.direction.setFromMatrixPosition(S.matrixWorld),r.setFromMatrixPosition(S.target.matrixWorld),T.direction.sub(r),T.direction.transformDirection(y),m++}else if(S.isRectAreaLight){const T=i.rectArea[_];T.position.setFromMatrixPosition(S.matrixWorld),T.position.applyMatrix4(y),a.identity(),s.copy(S.matrixWorld),s.premultiply(y),a.extractRotation(s),T.halfWidth.set(S.width*.5,0,0),T.halfHeight.set(0,S.height*.5,0),T.halfWidth.applyMatrix4(a),T.halfHeight.applyMatrix4(a),_++}else if(S.isPointLight){const T=i.point[v];T.position.setFromMatrixPosition(S.matrixWorld),T.position.applyMatrix4(y),v++}else if(S.isHemisphereLight){const T=i.hemi[g];T.direction.setFromMatrixPosition(S.matrixWorld),T.direction.transformDirection(y),g++}}}return{setup:o,setupView:l,state:i}}function UI(n){const e=new SQ(n),t=[],i=[];function r(f){c.camera=f,t.length=0,i.length=0}function s(f){t.push(f)}function a(f){i.push(f)}function o(){e.setup(t)}function l(f){e.setupView(t,f)}const c={lightsArray:t,shadowsArray:i,camera:null,lights:e,transmissionRenderTarget:{}};return{init:r,state:c,setupLights:o,setupLightsView:l,pushLight:s,pushShadow:a}}function wQ(n){let e=new WeakMap;function t(r,s=0){const a=e.get(r);let o;return a===void 0?(o=new UI(n),e.set(r,[o])):s>=a.length?(o=new UI(n),a.push(o)):o=a[s],o}function i(){e=new WeakMap}return{get:t,dispose:i}}const EQ=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,CQ=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function TQ(n,e,t){let i=new hy;const r=new ln,s=new ln,a=new Cr,o=new hC({depthPacking:n3}),l=new dC,c={},f=t.maxTextureSize,h={[Qf]:xc,[xc]:Qf,[El]:El},v=new Ec({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new ln},radius:{value:4}},vertexShader:EQ,fragmentShader:CQ}),m=v.clone();m.defines.HORIZONTAL_PASS=1;const _=new xr;_.setAttribute("position",new qs(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const g=new Xs(_,v),y=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=DE;let u=this.type;this.render=function(O,C,I){if(y.enabled===!1||y.autoUpdate===!1&&y.needsUpdate===!1||O.length===0)return;const F=n.getRenderTarget(),M=n.getActiveCubeFace(),D=n.getActiveMipmapLevel(),B=n.state;B.setBlending(Dd),B.buffers.color.setClear(1,1,1,1),B.buffers.depth.setTest(!0),B.setScissorTest(!1);const j=u!==Ih&&this.type===Ih,U=u===Ih&&this.type!==Ih;for(let V=0,k=O.length;V<k;V++){const Z=O[V],ee=Z.shadow;if(ee===void 0){console.warn("THREE.WebGLShadowMap:",Z,"has no shadow.");continue}if(ee.autoUpdate===!1&&ee.needsUpdate===!1)continue;r.copy(ee.mapSize);const oe=ee.getFrameExtents();if(r.multiply(oe),s.copy(ee.mapSize),(r.x>f||r.y>f)&&(r.x>f&&(s.x=Math.floor(f/oe.x),r.x=s.x*oe.x,ee.mapSize.x=s.x),r.y>f&&(s.y=Math.floor(f/oe.y),r.y=s.y*oe.y,ee.mapSize.y=s.y)),ee.map===null||j===!0||U===!0){const ie=this.type!==Ih?{minFilter:Cl,magFilter:Cl}:{};ee.map!==null&&ee.map.dispose(),ee.map=new xu(r.x,r.y,ie),ee.map.texture.name=Z.name+".shadowMap",ee.camera.updateProjectionMatrix()}n.setRenderTarget(ee.map),n.clear();const ne=ee.getViewportCount();for(let ie=0;ie<ne;ie++){const he=ee.getViewport(ie);a.set(s.x*he.x,s.y*he.y,s.x*he.z,s.y*he.w),B.viewport(a),ee.updateMatrices(Z,ie),i=ee.getFrustum(),T(C,I,ee.camera,Z,this.type)}ee.isPointLightShadow!==!0&&this.type===Ih&&b(ee,I),ee.needsUpdate=!1}u=this.type,y.needsUpdate=!1,n.setRenderTarget(F,M,D)};function b(O,C){const I=e.update(g);v.defines.VSM_SAMPLES!==O.blurSamples&&(v.defines.VSM_SAMPLES=O.blurSamples,m.defines.VSM_SAMPLES=O.blurSamples,v.needsUpdate=!0,m.needsUpdate=!0),O.mapPass===null&&(O.mapPass=new xu(r.x,r.y)),v.uniforms.shadow_pass.value=O.map.texture,v.uniforms.resolution.value=O.mapSize,v.uniforms.radius.value=O.radius,n.setRenderTarget(O.mapPass),n.clear(),n.renderBufferDirect(C,null,I,v,g,null),m.uniforms.shadow_pass.value=O.mapPass.texture,m.uniforms.resolution.value=O.mapSize,m.uniforms.radius.value=O.radius,n.setRenderTarget(O.map),n.clear(),n.renderBufferDirect(C,null,I,m,g,null)}function S(O,C,I,F){let M=null;const D=I.isPointLight===!0?O.customDistanceMaterial:O.customDepthMaterial;if(D!==void 0)M=D;else if(M=I.isPointLight===!0?l:o,n.localClippingEnabled&&C.clipShadows===!0&&Array.isArray(C.clippingPlanes)&&C.clippingPlanes.length!==0||C.displacementMap&&C.displacementScale!==0||C.alphaMap&&C.alphaTest>0||C.map&&C.alphaTest>0||C.alphaToCoverage===!0){const B=M.uuid,j=C.uuid;let U=c[B];U===void 0&&(U={},c[B]=U);let V=U[j];V===void 0&&(V=M.clone(),U[j]=V,C.addEventListener("dispose",R)),M=V}if(M.visible=C.visible,M.wireframe=C.wireframe,F===Ih?M.side=C.shadowSide!==null?C.shadowSide:C.side:M.side=C.shadowSide!==null?C.shadowSide:h[C.side],M.alphaMap=C.alphaMap,M.alphaTest=C.alphaToCoverage===!0?.5:C.alphaTest,M.map=C.map,M.clipShadows=C.clipShadows,M.clippingPlanes=C.clippingPlanes,M.clipIntersection=C.clipIntersection,M.displacementMap=C.displacementMap,M.displacementScale=C.displacementScale,M.displacementBias=C.displacementBias,M.wireframeLinewidth=C.wireframeLinewidth,M.linewidth=C.linewidth,I.isPointLight===!0&&M.isMeshDistanceMaterial===!0){const B=n.properties.get(M);B.light=I}return M}function T(O,C,I,F,M){if(O.visible===!1)return;if(O.layers.test(C.layers)&&(O.isMesh||O.isLine||O.isPoints)&&(O.castShadow||O.receiveShadow&&M===Ih)&&(!O.frustumCulled||i.intersectsObject(O))){O.modelViewMatrix.multiplyMatrices(I.matrixWorldInverse,O.matrixWorld);const j=e.update(O),U=O.material;if(Array.isArray(U)){const V=j.groups;for(let k=0,Z=V.length;k<Z;k++){const ee=V[k],oe=U[ee.materialIndex];if(oe&&oe.visible){const ne=S(O,oe,F,M);O.onBeforeShadow(n,O,C,I,j,ne,ee),n.renderBufferDirect(I,null,j,ne,O,ee),O.onAfterShadow(n,O,C,I,j,ne,ee)}}}else if(U.visible){const V=S(O,U,F,M);O.onBeforeShadow(n,O,C,I,j,V,null),n.renderBufferDirect(I,null,j,V,O,null),O.onAfterShadow(n,O,C,I,j,V,null)}}const B=O.children;for(let j=0,U=B.length;j<U;j++)T(B[j],C,I,F,M)}function R(O){O.target.removeEventListener("dispose",R);for(const I in c){const F=c[I],M=O.target.uuid;M in F&&(F[M].dispose(),delete F[M])}}}const AQ={[iw]:rw,[sw]:lw,[aw]:cw,[Wg]:ow,[rw]:iw,[lw]:sw,[cw]:aw,[ow]:Wg};function MQ(n,e){function t(){let Ye=!1;const ct=new Cr;let Dt=null;const Sn=new Cr(0,0,0,0);return{setMask:function(qt){Dt!==qt&&!Ye&&(n.colorMask(qt,qt,qt,qt),Dt=qt)},setLocked:function(qt){Ye=qt},setClear:function(qt,wt,dn,wn,Pn){Pn===!0&&(qt*=wn,wt*=wn,dn*=wn),ct.set(qt,wt,dn,wn),Sn.equals(ct)===!1&&(n.clearColor(qt,wt,dn,wn),Sn.copy(ct))},reset:function(){Ye=!1,Dt=null,Sn.set(-1,0,0,0)}}}function i(){let Ye=!1,ct=!1,Dt=null,Sn=null,qt=null;return{setReversed:function(wt){if(ct!==wt){const dn=e.get("EXT_clip_control");wt?dn.clipControlEXT(dn.LOWER_LEFT_EXT,dn.ZERO_TO_ONE_EXT):dn.clipControlEXT(dn.LOWER_LEFT_EXT,dn.NEGATIVE_ONE_TO_ONE_EXT),ct=wt;const wn=qt;qt=null,this.setClear(wn)}},getReversed:function(){return ct},setTest:function(wt){wt?_e(n.DEPTH_TEST):Te(n.DEPTH_TEST)},setMask:function(wt){Dt!==wt&&!Ye&&(n.depthMask(wt),Dt=wt)},setFunc:function(wt){if(ct&&(wt=AQ[wt]),Sn!==wt){switch(wt){case iw:n.depthFunc(n.NEVER);break;case rw:n.depthFunc(n.ALWAYS);break;case sw:n.depthFunc(n.LESS);break;case Wg:n.depthFunc(n.LEQUAL);break;case aw:n.depthFunc(n.EQUAL);break;case ow:n.depthFunc(n.GEQUAL);break;case lw:n.depthFunc(n.GREATER);break;case cw:n.depthFunc(n.NOTEQUAL);break;default:n.depthFunc(n.LEQUAL)}Sn=wt}},setLocked:function(wt){Ye=wt},setClear:function(wt){qt!==wt&&(ct&&(wt=1-wt),n.clearDepth(wt),qt=wt)},reset:function(){Ye=!1,Dt=null,Sn=null,qt=null,ct=!1}}}function r(){let Ye=!1,ct=null,Dt=null,Sn=null,qt=null,wt=null,dn=null,wn=null,Pn=null;return{setTest:function(Wn){Ye||(Wn?_e(n.STENCIL_TEST):Te(n.STENCIL_TEST))},setMask:function(Wn){ct!==Wn&&!Ye&&(n.stencilMask(Wn),ct=Wn)},setFunc:function(Wn,Ii,Ei){(Dt!==Wn||Sn!==Ii||qt!==Ei)&&(n.stencilFunc(Wn,Ii,Ei),Dt=Wn,Sn=Ii,qt=Ei)},setOp:function(Wn,Ii,Ei){(wt!==Wn||dn!==Ii||wn!==Ei)&&(n.stencilOp(Wn,Ii,Ei),wt=Wn,dn=Ii,wn=Ei)},setLocked:function(Wn){Ye=Wn},setClear:function(Wn){Pn!==Wn&&(n.clearStencil(Wn),Pn=Wn)},reset:function(){Ye=!1,ct=null,Dt=null,Sn=null,qt=null,wt=null,dn=null,wn=null,Pn=null}}}const s=new t,a=new i,o=new r,l=new WeakMap,c=new WeakMap;let f={},h={},v=new WeakMap,m=[],_=null,g=!1,y=null,u=null,b=null,S=null,T=null,R=null,O=null,C=new Zn(0,0,0),I=0,F=!1,M=null,D=null,B=null,j=null,U=null;const V=n.getParameter(n.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let k=!1,Z=0;const ee=n.getParameter(n.VERSION);ee.indexOf("WebGL")!==-1?(Z=parseFloat(/^WebGL (\d)/.exec(ee)[1]),k=Z>=1):ee.indexOf("OpenGL ES")!==-1&&(Z=parseFloat(/^OpenGL ES (\d)/.exec(ee)[1]),k=Z>=2);let oe=null,ne={};const ie=n.getParameter(n.SCISSOR_BOX),he=n.getParameter(n.VIEWPORT),fe=new Cr().fromArray(ie),ce=new Cr().fromArray(he);function ae(Ye,ct,Dt,Sn){const qt=new Uint8Array(4),wt=n.createTexture();n.bindTexture(Ye,wt),n.texParameteri(Ye,n.TEXTURE_MIN_FILTER,n.NEAREST),n.texParameteri(Ye,n.TEXTURE_MAG_FILTER,n.NEAREST);for(let dn=0;dn<Dt;dn++)Ye===n.TEXTURE_3D||Ye===n.TEXTURE_2D_ARRAY?n.texImage3D(ct,0,n.RGBA,1,1,Sn,0,n.RGBA,n.UNSIGNED_BYTE,qt):n.texImage2D(ct+dn,0,n.RGBA,1,1,0,n.RGBA,n.UNSIGNED_BYTE,qt);return wt}const ve={};ve[n.TEXTURE_2D]=ae(n.TEXTURE_2D,n.TEXTURE_2D,1),ve[n.TEXTURE_CUBE_MAP]=ae(n.TEXTURE_CUBE_MAP,n.TEXTURE_CUBE_MAP_POSITIVE_X,6),ve[n.TEXTURE_2D_ARRAY]=ae(n.TEXTURE_2D_ARRAY,n.TEXTURE_2D_ARRAY,1,1),ve[n.TEXTURE_3D]=ae(n.TEXTURE_3D,n.TEXTURE_3D,1,1),s.setClear(0,0,0,1),a.setClear(1),o.setClear(0),_e(n.DEPTH_TEST),a.setFunc(Wg),mt(!1),St(dM),_e(n.CULL_FACE),Me(Dd);function _e(Ye){f[Ye]!==!0&&(n.enable(Ye),f[Ye]=!0)}function Te(Ye){f[Ye]!==!1&&(n.disable(Ye),f[Ye]=!1)}function Fe(Ye,ct){return h[Ye]!==ct?(n.bindFramebuffer(Ye,ct),h[Ye]=ct,Ye===n.DRAW_FRAMEBUFFER&&(h[n.FRAMEBUFFER]=ct),Ye===n.FRAMEBUFFER&&(h[n.DRAW_FRAMEBUFFER]=ct),!0):!1}function We(Ye,ct){let Dt=m,Sn=!1;if(Ye){Dt=v.get(ct),Dt===void 0&&(Dt=[],v.set(ct,Dt));const qt=Ye.textures;if(Dt.length!==qt.length||Dt[0]!==n.COLOR_ATTACHMENT0){for(let wt=0,dn=qt.length;wt<dn;wt++)Dt[wt]=n.COLOR_ATTACHMENT0+wt;Dt.length=qt.length,Sn=!0}}else Dt[0]!==n.BACK&&(Dt[0]=n.BACK,Sn=!0);Sn&&n.drawBuffers(Dt)}function ht(Ye){return _!==Ye?(n.useProgram(Ye),_=Ye,!0):!1}const ft={[tm]:n.FUNC_ADD,[WU]:n.FUNC_SUBTRACT,[jU]:n.FUNC_REVERSE_SUBTRACT};ft[XU]=n.MIN,ft[qU]=n.MAX;const Bt={[YU]:n.ZERO,[KU]:n.ONE,[ZU]:n.SRC_COLOR,[tw]:n.SRC_ALPHA,[ik]:n.SRC_ALPHA_SATURATE,[tk]:n.DST_COLOR,[JU]:n.DST_ALPHA,[QU]:n.ONE_MINUS_SRC_COLOR,[nw]:n.ONE_MINUS_SRC_ALPHA,[nk]:n.ONE_MINUS_DST_COLOR,[ek]:n.ONE_MINUS_DST_ALPHA,[rk]:n.CONSTANT_COLOR,[sk]:n.ONE_MINUS_CONSTANT_COLOR,[ak]:n.CONSTANT_ALPHA,[ok]:n.ONE_MINUS_CONSTANT_ALPHA};function Me(Ye,ct,Dt,Sn,qt,wt,dn,wn,Pn,Wn){if(Ye===Dd){g===!0&&(Te(n.BLEND),g=!1);return}if(g===!1&&(_e(n.BLEND),g=!0),Ye!==VU){if(Ye!==y||Wn!==F){if((u!==tm||T!==tm)&&(n.blendEquation(n.FUNC_ADD),u=tm,T=tm),Wn)switch(Ye){case jf:n.blendFuncSeparate(n.ONE,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA);break;case fM:n.blendFunc(n.ONE,n.ONE);break;case pM:n.blendFuncSeparate(n.ZERO,n.ONE_MINUS_SRC_COLOR,n.ZERO,n.ONE);break;case mM:n.blendFuncSeparate(n.DST_COLOR,n.ONE_MINUS_SRC_ALPHA,n.ZERO,n.ONE);break;default:console.error("THREE.WebGLState: Invalid blending: ",Ye);break}else switch(Ye){case jf:n.blendFuncSeparate(n.SRC_ALPHA,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA);break;case fM:n.blendFuncSeparate(n.SRC_ALPHA,n.ONE,n.ONE,n.ONE);break;case pM:console.error("THREE.WebGLState: SubtractiveBlending requires material.premultipliedAlpha = true");break;case mM:console.error("THREE.WebGLState: MultiplyBlending requires material.premultipliedAlpha = true");break;default:console.error("THREE.WebGLState: Invalid blending: ",Ye);break}b=null,S=null,R=null,O=null,C.set(0,0,0),I=0,y=Ye,F=Wn}return}qt=qt||ct,wt=wt||Dt,dn=dn||Sn,(ct!==u||qt!==T)&&(n.blendEquationSeparate(ft[ct],ft[qt]),u=ct,T=qt),(Dt!==b||Sn!==S||wt!==R||dn!==O)&&(n.blendFuncSeparate(Bt[Dt],Bt[Sn],Bt[wt],Bt[dn]),b=Dt,S=Sn,R=wt,O=dn),(wn.equals(C)===!1||Pn!==I)&&(n.blendColor(wn.r,wn.g,wn.b,Pn),C.copy(wn),I=Pn),y=Ye,F=!1}function yt(Ye,ct){Ye.side===El?Te(n.CULL_FACE):_e(n.CULL_FACE);let Dt=Ye.side===xc;ct&&(Dt=!Dt),mt(Dt),Ye.blending===jf&&Ye.transparent===!1?Me(Dd):Me(Ye.blending,Ye.blendEquation,Ye.blendSrc,Ye.blendDst,Ye.blendEquationAlpha,Ye.blendSrcAlpha,Ye.blendDstAlpha,Ye.blendColor,Ye.blendAlpha,Ye.premultipliedAlpha),a.setFunc(Ye.depthFunc),a.setTest(Ye.depthTest),a.setMask(Ye.depthWrite),s.setMask(Ye.colorWrite);const Sn=Ye.stencilWrite;o.setTest(Sn),Sn&&(o.setMask(Ye.stencilWriteMask),o.setFunc(Ye.stencilFunc,Ye.stencilRef,Ye.stencilFuncMask),o.setOp(Ye.stencilFail,Ye.stencilZFail,Ye.stencilZPass)),Ft(Ye.polygonOffset,Ye.polygonOffsetFactor,Ye.polygonOffsetUnits),Ye.alphaToCoverage===!0?_e(n.SAMPLE_ALPHA_TO_COVERAGE):Te(n.SAMPLE_ALPHA_TO_COVERAGE)}function mt(Ye){M!==Ye&&(Ye?n.frontFace(n.CW):n.frontFace(n.CCW),M=Ye)}function St(Ye){Ye!==GU?(_e(n.CULL_FACE),Ye!==D&&(Ye===dM?n.cullFace(n.BACK):Ye===HU?n.cullFace(n.FRONT):n.cullFace(n.FRONT_AND_BACK))):Te(n.CULL_FACE),D=Ye}function nt(Ye){Ye!==B&&(k&&n.lineWidth(Ye),B=Ye)}function Ft(Ye,ct,Dt){Ye?(_e(n.POLYGON_OFFSET_FILL),(j!==ct||U!==Dt)&&(n.polygonOffset(ct,Dt),j=ct,U=Dt)):Te(n.POLYGON_OFFSET_FILL)}function qe(Ye){Ye?_e(n.SCISSOR_TEST):Te(n.SCISSOR_TEST)}function Ke(Ye){Ye===void 0&&(Ye=n.TEXTURE0+V-1),oe!==Ye&&(n.activeTexture(Ye),oe=Ye)}function Et(Ye,ct,Dt){Dt===void 0&&(oe===null?Dt=n.TEXTURE0+V-1:Dt=oe);let Sn=ne[Dt];Sn===void 0&&(Sn={type:void 0,texture:void 0},ne[Dt]=Sn),(Sn.type!==Ye||Sn.texture!==ct)&&(oe!==Dt&&(n.activeTexture(Dt),oe=Dt),n.bindTexture(Ye,ct||ve[Ye]),Sn.type=Ye,Sn.texture=ct)}function ye(){const Ye=ne[oe];Ye!==void 0&&Ye.type!==void 0&&(n.bindTexture(Ye.type,null),Ye.type=void 0,Ye.texture=void 0)}function me(){try{n.compressedTexImage2D(...arguments)}catch(Ye){console.error("THREE.WebGLState:",Ye)}}function Le(){try{n.compressedTexImage3D(...arguments)}catch(Ye){console.error("THREE.WebGLState:",Ye)}}function it(){try{n.texSubImage2D(...arguments)}catch(Ye){console.error("THREE.WebGLState:",Ye)}}function Qe(){try{n.texSubImage3D(...arguments)}catch(Ye){console.error("THREE.WebGLState:",Ye)}}function et(){try{n.compressedTexSubImage2D(...arguments)}catch(Ye){console.error("THREE.WebGLState:",Ye)}}function At(){try{n.compressedTexSubImage3D(...arguments)}catch(Ye){console.error("THREE.WebGLState:",Ye)}}function Gt(){try{n.texStorage2D(...arguments)}catch(Ye){console.error("THREE.WebGLState:",Ye)}}function on(){try{n.texStorage3D(...arguments)}catch(Ye){console.error("THREE.WebGLState:",Ye)}}function fn(){try{n.texImage2D(...arguments)}catch(Ye){console.error("THREE.WebGLState:",Ye)}}function xt(){try{n.texImage3D(...arguments)}catch(Ye){console.error("THREE.WebGLState:",Ye)}}function kt(Ye){fe.equals(Ye)===!1&&(n.scissor(Ye.x,Ye.y,Ye.z,Ye.w),fe.copy(Ye))}function Xt(Ye){ce.equals(Ye)===!1&&(n.viewport(Ye.x,Ye.y,Ye.z,Ye.w),ce.copy(Ye))}function Ve(Ye,ct){let Dt=c.get(ct);Dt===void 0&&(Dt=new WeakMap,c.set(ct,Dt));let Sn=Dt.get(Ye);Sn===void 0&&(Sn=n.getUniformBlockIndex(ct,Ye.name),Dt.set(Ye,Sn))}function lt(Ye,ct){const Sn=c.get(ct).get(Ye);l.get(ct)!==Sn&&(n.uniformBlockBinding(ct,Sn,Ye.__bindingPointIndex),l.set(ct,Sn))}function Qt(){n.disable(n.BLEND),n.disable(n.CULL_FACE),n.disable(n.DEPTH_TEST),n.disable(n.POLYGON_OFFSET_FILL),n.disable(n.SCISSOR_TEST),n.disable(n.STENCIL_TEST),n.disable(n.SAMPLE_ALPHA_TO_COVERAGE),n.blendEquation(n.FUNC_ADD),n.blendFunc(n.ONE,n.ZERO),n.blendFuncSeparate(n.ONE,n.ZERO,n.ONE,n.ZERO),n.blendColor(0,0,0,0),n.colorMask(!0,!0,!0,!0),n.clearColor(0,0,0,0),n.depthMask(!0),n.depthFunc(n.LESS),a.setReversed(!1),n.clearDepth(1),n.stencilMask(4294967295),n.stencilFunc(n.ALWAYS,0,4294967295),n.stencilOp(n.KEEP,n.KEEP,n.KEEP),n.clearStencil(0),n.cullFace(n.BACK),n.frontFace(n.CCW),n.polygonOffset(0,0),n.activeTexture(n.TEXTURE0),n.bindFramebuffer(n.FRAMEBUFFER,null),n.bindFramebuffer(n.DRAW_FRAMEBUFFER,null),n.bindFramebuffer(n.READ_FRAMEBUFFER,null),n.useProgram(null),n.lineWidth(1),n.scissor(0,0,n.canvas.width,n.canvas.height),n.viewport(0,0,n.canvas.width,n.canvas.height),f={},oe=null,ne={},h={},v=new WeakMap,m=[],_=null,g=!1,y=null,u=null,b=null,S=null,T=null,R=null,O=null,C=new Zn(0,0,0),I=0,F=!1,M=null,D=null,B=null,j=null,U=null,fe.set(0,0,n.canvas.width,n.canvas.height),ce.set(0,0,n.canvas.width,n.canvas.height),s.reset(),a.reset(),o.reset()}return{buffers:{color:s,depth:a,stencil:o},enable:_e,disable:Te,bindFramebuffer:Fe,drawBuffers:We,useProgram:ht,setBlending:Me,setMaterial:yt,setFlipSided:mt,setCullFace:St,setLineWidth:nt,setPolygonOffset:Ft,setScissorTest:qe,activeTexture:Ke,bindTexture:Et,unbindTexture:ye,compressedTexImage2D:me,compressedTexImage3D:Le,texImage2D:fn,texImage3D:xt,updateUBOMapping:Ve,uniformBlockBinding:lt,texStorage2D:Gt,texStorage3D:on,texSubImage2D:it,texSubImage3D:Qe,compressedTexSubImage2D:et,compressedTexSubImage3D:At,scissor:kt,viewport:Xt,reset:Qt}}function RQ(n,e,t,i,r,s,a){const o=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,l=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),c=new ln,f=new WeakMap;let h;const v=new WeakMap;let m=!1;try{m=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function _(ye,me){return m?new OffscreenCanvas(ye,me):f1("canvas")}function g(ye,me,Le){let it=1;const Qe=Et(ye);if((Qe.width>Le||Qe.height>Le)&&(it=Le/Math.max(Qe.width,Qe.height)),it<1)if(typeof HTMLImageElement<"u"&&ye instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&ye instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&ye instanceof ImageBitmap||typeof VideoFrame<"u"&&ye instanceof VideoFrame){const et=Math.floor(it*Qe.width),At=Math.floor(it*Qe.height);h===void 0&&(h=_(et,At));const Gt=me?_(et,At):h;return Gt.width=et,Gt.height=At,Gt.getContext("2d").drawImage(ye,0,0,et,At),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+Qe.width+"x"+Qe.height+") to ("+et+"x"+At+")."),Gt}else return"data"in ye&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+Qe.width+"x"+Qe.height+")."),ye;return ye}function y(ye){return ye.generateMipmaps}function u(ye){n.generateMipmap(ye)}function b(ye){return ye.isWebGLCubeRenderTarget?n.TEXTURE_CUBE_MAP:ye.isWebGL3DRenderTarget?n.TEXTURE_3D:ye.isWebGLArrayRenderTarget||ye.isCompressedArrayTexture?n.TEXTURE_2D_ARRAY:n.TEXTURE_2D}function S(ye,me,Le,it,Qe=!1){if(ye!==null){if(n[ye]!==void 0)return n[ye];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+ye+"'")}let et=me;if(me===n.RED&&(Le===n.FLOAT&&(et=n.R32F),Le===n.HALF_FLOAT&&(et=n.R16F),Le===n.UNSIGNED_BYTE&&(et=n.R8)),me===n.RED_INTEGER&&(Le===n.UNSIGNED_BYTE&&(et=n.R8UI),Le===n.UNSIGNED_SHORT&&(et=n.R16UI),Le===n.UNSIGNED_INT&&(et=n.R32UI),Le===n.BYTE&&(et=n.R8I),Le===n.SHORT&&(et=n.R16I),Le===n.INT&&(et=n.R32I)),me===n.RG&&(Le===n.FLOAT&&(et=n.RG32F),Le===n.HALF_FLOAT&&(et=n.RG16F),Le===n.UNSIGNED_BYTE&&(et=n.RG8)),me===n.RG_INTEGER&&(Le===n.UNSIGNED_BYTE&&(et=n.RG8UI),Le===n.UNSIGNED_SHORT&&(et=n.RG16UI),Le===n.UNSIGNED_INT&&(et=n.RG32UI),Le===n.BYTE&&(et=n.RG8I),Le===n.SHORT&&(et=n.RG16I),Le===n.INT&&(et=n.RG32I)),me===n.RGB_INTEGER&&(Le===n.UNSIGNED_BYTE&&(et=n.RGB8UI),Le===n.UNSIGNED_SHORT&&(et=n.RGB16UI),Le===n.UNSIGNED_INT&&(et=n.RGB32UI),Le===n.BYTE&&(et=n.RGB8I),Le===n.SHORT&&(et=n.RGB16I),Le===n.INT&&(et=n.RGB32I)),me===n.RGBA_INTEGER&&(Le===n.UNSIGNED_BYTE&&(et=n.RGBA8UI),Le===n.UNSIGNED_SHORT&&(et=n.RGBA16UI),Le===n.UNSIGNED_INT&&(et=n.RGBA32UI),Le===n.BYTE&&(et=n.RGBA8I),Le===n.SHORT&&(et=n.RGBA16I),Le===n.INT&&(et=n.RGBA32I)),me===n.RGB&&Le===n.UNSIGNED_INT_5_9_9_9_REV&&(et=n.RGB9_E5),me===n.RGBA){const At=Qe?u1:Jr.getTransfer(it);Le===n.FLOAT&&(et=n.RGBA32F),Le===n.HALF_FLOAT&&(et=n.RGBA16F),Le===n.UNSIGNED_BYTE&&(et=At===Us?n.SRGB8_ALPHA8:n.RGBA8),Le===n.UNSIGNED_SHORT_4_4_4_4&&(et=n.RGBA4),Le===n.UNSIGNED_SHORT_5_5_5_1&&(et=n.RGB5_A1)}return(et===n.R16F||et===n.R32F||et===n.RG16F||et===n.RG32F||et===n.RGBA16F||et===n.RGBA32F)&&e.get("EXT_color_buffer_float"),et}function T(ye,me){let Le;return ye?me===null||me===kd||me===W0?Le=n.DEPTH24_STENCIL8:me===Oa?Le=n.DEPTH32F_STENCIL8:me===V0&&(Le=n.DEPTH24_STENCIL8,console.warn("DepthTexture: 16 bit depth attachment is not supported with stencil. Using 24-bit attachment.")):me===null||me===kd||me===W0?Le=n.DEPTH_COMPONENT24:me===Oa?Le=n.DEPTH_COMPONENT32F:me===V0&&(Le=n.DEPTH_COMPONENT16),Le}function R(ye,me){return y(ye)===!0||ye.isFramebufferTexture&&ye.minFilter!==Cl&&ye.minFilter!==cs?Math.log2(Math.max(me.width,me.height))+1:ye.mipmaps!==void 0&&ye.mipmaps.length>0?ye.mipmaps.length:ye.isCompressedTexture&&Array.isArray(ye.image)?me.mipmaps.length:1}function O(ye){const me=ye.target;me.removeEventListener("dispose",O),I(me),me.isVideoTexture&&f.delete(me)}function C(ye){const me=ye.target;me.removeEventListener("dispose",C),M(me)}function I(ye){const me=i.get(ye);if(me.__webglInit===void 0)return;const Le=ye.source,it=v.get(Le);if(it){const Qe=it[me.__cacheKey];Qe.usedTimes--,Qe.usedTimes===0&&F(ye),Object.keys(it).length===0&&v.delete(Le)}i.remove(ye)}function F(ye){const me=i.get(ye);n.deleteTexture(me.__webglTexture);const Le=ye.source,it=v.get(Le);delete it[me.__cacheKey],a.memory.textures--}function M(ye){const me=i.get(ye);if(ye.depthTexture&&(ye.depthTexture.dispose(),i.remove(ye.depthTexture)),ye.isWebGLCubeRenderTarget)for(let it=0;it<6;it++){if(Array.isArray(me.__webglFramebuffer[it]))for(let Qe=0;Qe<me.__webglFramebuffer[it].length;Qe++)n.deleteFramebuffer(me.__webglFramebuffer[it][Qe]);else n.deleteFramebuffer(me.__webglFramebuffer[it]);me.__webglDepthbuffer&&n.deleteRenderbuffer(me.__webglDepthbuffer[it])}else{if(Array.isArray(me.__webglFramebuffer))for(let it=0;it<me.__webglFramebuffer.length;it++)n.deleteFramebuffer(me.__webglFramebuffer[it]);else n.deleteFramebuffer(me.__webglFramebuffer);if(me.__webglDepthbuffer&&n.deleteRenderbuffer(me.__webglDepthbuffer),me.__webglMultisampledFramebuffer&&n.deleteFramebuffer(me.__webglMultisampledFramebuffer),me.__webglColorRenderbuffer)for(let it=0;it<me.__webglColorRenderbuffer.length;it++)me.__webglColorRenderbuffer[it]&&n.deleteRenderbuffer(me.__webglColorRenderbuffer[it]);me.__webglDepthRenderbuffer&&n.deleteRenderbuffer(me.__webglDepthRenderbuffer)}const Le=ye.textures;for(let it=0,Qe=Le.length;it<Qe;it++){const et=i.get(Le[it]);et.__webglTexture&&(n.deleteTexture(et.__webglTexture),a.memory.textures--),i.remove(Le[it])}i.remove(ye)}let D=0;function B(){D=0}function j(){const ye=D;return ye>=r.maxTextures&&console.warn("THREE.WebGLTextures: Trying to use "+ye+" texture units while this GPU supports only "+r.maxTextures),D+=1,ye}function U(ye){const me=[];return me.push(ye.wrapS),me.push(ye.wrapT),me.push(ye.wrapR||0),me.push(ye.magFilter),me.push(ye.minFilter),me.push(ye.anisotropy),me.push(ye.internalFormat),me.push(ye.format),me.push(ye.type),me.push(ye.generateMipmaps),me.push(ye.premultiplyAlpha),me.push(ye.flipY),me.push(ye.unpackAlignment),me.push(ye.colorSpace),me.join()}function V(ye,me){const Le=i.get(ye);if(ye.isVideoTexture&&qe(ye),ye.isRenderTargetTexture===!1&&ye.version>0&&Le.__version!==ye.version){const it=ye.image;if(it===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(it.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{ve(Le,ye,me);return}}t.bindTexture(n.TEXTURE_2D,Le.__webglTexture,n.TEXTURE0+me)}function k(ye,me){const Le=i.get(ye);if(ye.version>0&&Le.__version!==ye.version){ve(Le,ye,me);return}t.bindTexture(n.TEXTURE_2D_ARRAY,Le.__webglTexture,n.TEXTURE0+me)}function Z(ye,me){const Le=i.get(ye);if(ye.version>0&&Le.__version!==ye.version){ve(Le,ye,me);return}t.bindTexture(n.TEXTURE_3D,Le.__webglTexture,n.TEXTURE0+me)}function ee(ye,me){const Le=i.get(ye);if(ye.version>0&&Le.__version!==ye.version){_e(Le,ye,me);return}t.bindTexture(n.TEXTURE_CUBE_MAP,Le.__webglTexture,n.TEXTURE0+me)}const oe={[a1]:n.REPEAT,[Do]:n.CLAMP_TO_EDGE,[o1]:n.MIRRORED_REPEAT},ne={[Cl]:n.NEAREST,[YR]:n.NEAREST_MIPMAP_NEAREST,[S0]:n.NEAREST_MIPMAP_LINEAR,[cs]:n.LINEAR,[F_]:n.LINEAR_MIPMAP_NEAREST,[Ld]:n.LINEAR_MIPMAP_LINEAR},ie={[xk]:n.NEVER,[Ak]:n.ALWAYS,[Sk]:n.LESS,[i3]:n.LEQUAL,[wk]:n.EQUAL,[Tk]:n.GEQUAL,[Ek]:n.GREATER,[Ck]:n.NOTEQUAL};function he(ye,me){if(me.type===Oa&&e.has("OES_texture_float_linear")===!1&&(me.magFilter===cs||me.magFilter===F_||me.magFilter===S0||me.magFilter===Ld||me.minFilter===cs||me.minFilter===F_||me.minFilter===S0||me.minFilter===Ld)&&console.warn("THREE.WebGLRenderer: Unable to use linear filtering with floating point textures. OES_texture_float_linear not supported on this device."),n.texParameteri(ye,n.TEXTURE_WRAP_S,oe[me.wrapS]),n.texParameteri(ye,n.TEXTURE_WRAP_T,oe[me.wrapT]),(ye===n.TEXTURE_3D||ye===n.TEXTURE_2D_ARRAY)&&n.texParameteri(ye,n.TEXTURE_WRAP_R,oe[me.wrapR]),n.texParameteri(ye,n.TEXTURE_MAG_FILTER,ne[me.magFilter]),n.texParameteri(ye,n.TEXTURE_MIN_FILTER,ne[me.minFilter]),me.compareFunction&&(n.texParameteri(ye,n.TEXTURE_COMPARE_MODE,n.COMPARE_REF_TO_TEXTURE),n.texParameteri(ye,n.TEXTURE_COMPARE_FUNC,ie[me.compareFunction])),e.has("EXT_texture_filter_anisotropic")===!0){if(me.magFilter===Cl||me.minFilter!==S0&&me.minFilter!==Ld||me.type===Oa&&e.has("OES_texture_float_linear")===!1)return;if(me.anisotropy>1||i.get(me).__currentAnisotropy){const Le=e.get("EXT_texture_filter_anisotropic");n.texParameterf(ye,Le.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(me.anisotropy,r.getMaxAnisotropy())),i.get(me).__currentAnisotropy=me.anisotropy}}}function fe(ye,me){let Le=!1;ye.__webglInit===void 0&&(ye.__webglInit=!0,me.addEventListener("dispose",O));const it=me.source;let Qe=v.get(it);Qe===void 0&&(Qe={},v.set(it,Qe));const et=U(me);if(et!==ye.__cacheKey){Qe[et]===void 0&&(Qe[et]={texture:n.createTexture(),usedTimes:0},a.memory.textures++,Le=!0),Qe[et].usedTimes++;const At=Qe[ye.__cacheKey];At!==void 0&&(Qe[ye.__cacheKey].usedTimes--,At.usedTimes===0&&F(me)),ye.__cacheKey=et,ye.__webglTexture=Qe[et].texture}return Le}function ce(ye,me,Le){return Math.floor(Math.floor(ye/Le)/me)}function ae(ye,me,Le,it){const et=ye.updateRanges;if(et.length===0)t.texSubImage2D(n.TEXTURE_2D,0,0,0,me.width,me.height,Le,it,me.data);else{et.sort((xt,kt)=>xt.start-kt.start);let At=0;for(let xt=1;xt<et.length;xt++){const kt=et[At],Xt=et[xt],Ve=kt.start+kt.count,lt=ce(Xt.start,me.width,4),Qt=ce(kt.start,me.width,4);Xt.start<=Ve+1&&lt===Qt&&ce(Xt.start+Xt.count-1,me.width,4)===lt?kt.count=Math.max(kt.count,Xt.start+Xt.count-kt.start):(++At,et[At]=Xt)}et.length=At+1;const Gt=n.getParameter(n.UNPACK_ROW_LENGTH),on=n.getParameter(n.UNPACK_SKIP_PIXELS),fn=n.getParameter(n.UNPACK_SKIP_ROWS);n.pixelStorei(n.UNPACK_ROW_LENGTH,me.width);for(let xt=0,kt=et.length;xt<kt;xt++){const Xt=et[xt],Ve=Math.floor(Xt.start/4),lt=Math.ceil(Xt.count/4),Qt=Ve%me.width,Ye=Math.floor(Ve/me.width),ct=lt,Dt=1;n.pixelStorei(n.UNPACK_SKIP_PIXELS,Qt),n.pixelStorei(n.UNPACK_SKIP_ROWS,Ye),t.texSubImage2D(n.TEXTURE_2D,0,Qt,Ye,ct,Dt,Le,it,me.data)}ye.clearUpdateRanges(),n.pixelStorei(n.UNPACK_ROW_LENGTH,Gt),n.pixelStorei(n.UNPACK_SKIP_PIXELS,on),n.pixelStorei(n.UNPACK_SKIP_ROWS,fn)}}function ve(ye,me,Le){let it=n.TEXTURE_2D;(me.isDataArrayTexture||me.isCompressedArrayTexture)&&(it=n.TEXTURE_2D_ARRAY),me.isData3DTexture&&(it=n.TEXTURE_3D);const Qe=fe(ye,me),et=me.source;t.bindTexture(it,ye.__webglTexture,n.TEXTURE0+Le);const At=i.get(et);if(et.version!==At.__version||Qe===!0){t.activeTexture(n.TEXTURE0+Le);const Gt=Jr.getPrimaries(Jr.workingColorSpace),on=me.colorSpace===Uf?null:Jr.getPrimaries(me.colorSpace),fn=me.colorSpace===Uf||Gt===on?n.NONE:n.BROWSER_DEFAULT_WEBGL;n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,me.flipY),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,me.premultiplyAlpha),n.pixelStorei(n.UNPACK_ALIGNMENT,me.unpackAlignment),n.pixelStorei(n.UNPACK_COLORSPACE_CONVERSION_WEBGL,fn);let xt=g(me.image,!1,r.maxTextureSize);xt=Ke(me,xt);const kt=s.convert(me.format,me.colorSpace),Xt=s.convert(me.type);let Ve=S(me.internalFormat,kt,Xt,me.colorSpace,me.isVideoTexture);he(it,me);let lt;const Qt=me.mipmaps,Ye=me.isVideoTexture!==!0,ct=At.__version===void 0||Qe===!0,Dt=et.dataReady,Sn=R(me,xt);if(me.isDepthTexture)Ve=T(me.format===X0,me.type),ct&&(Ye?t.texStorage2D(n.TEXTURE_2D,1,Ve,xt.width,xt.height):t.texImage2D(n.TEXTURE_2D,0,Ve,xt.width,xt.height,0,kt,Xt,null));else if(me.isDataTexture)if(Qt.length>0){Ye&&ct&&t.texStorage2D(n.TEXTURE_2D,Sn,Ve,Qt[0].width,Qt[0].height);for(let qt=0,wt=Qt.length;qt<wt;qt++)lt=Qt[qt],Ye?Dt&&t.texSubImage2D(n.TEXTURE_2D,qt,0,0,lt.width,lt.height,kt,Xt,lt.data):t.texImage2D(n.TEXTURE_2D,qt,Ve,lt.width,lt.height,0,kt,Xt,lt.data);me.generateMipmaps=!1}else Ye?(ct&&t.texStorage2D(n.TEXTURE_2D,Sn,Ve,xt.width,xt.height),Dt&&ae(me,xt,kt,Xt)):t.texImage2D(n.TEXTURE_2D,0,Ve,xt.width,xt.height,0,kt,Xt,xt.data);else if(me.isCompressedTexture)if(me.isCompressedArrayTexture){Ye&&ct&&t.texStorage3D(n.TEXTURE_2D_ARRAY,Sn,Ve,Qt[0].width,Qt[0].height,xt.depth);for(let qt=0,wt=Qt.length;qt<wt;qt++)if(lt=Qt[qt],me.format!==go)if(kt!==null)if(Ye){if(Dt)if(me.layerUpdates.size>0){const dn=AM(lt.width,lt.height,me.format,me.type);for(const wn of me.layerUpdates){const Pn=lt.data.subarray(wn*dn/lt.data.BYTES_PER_ELEMENT,(wn+1)*dn/lt.data.BYTES_PER_ELEMENT);t.compressedTexSubImage3D(n.TEXTURE_2D_ARRAY,qt,0,0,wn,lt.width,lt.height,1,kt,Pn)}me.clearLayerUpdates()}else t.compressedTexSubImage3D(n.TEXTURE_2D_ARRAY,qt,0,0,0,lt.width,lt.height,xt.depth,kt,lt.data)}else t.compressedTexImage3D(n.TEXTURE_2D_ARRAY,qt,Ve,lt.width,lt.height,xt.depth,0,lt.data,0,0);else console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()");else Ye?Dt&&t.texSubImage3D(n.TEXTURE_2D_ARRAY,qt,0,0,0,lt.width,lt.height,xt.depth,kt,Xt,lt.data):t.texImage3D(n.TEXTURE_2D_ARRAY,qt,Ve,lt.width,lt.height,xt.depth,0,kt,Xt,lt.data)}else{Ye&&ct&&t.texStorage2D(n.TEXTURE_2D,Sn,Ve,Qt[0].width,Qt[0].height);for(let qt=0,wt=Qt.length;qt<wt;qt++)lt=Qt[qt],me.format!==go?kt!==null?Ye?Dt&&t.compressedTexSubImage2D(n.TEXTURE_2D,qt,0,0,lt.width,lt.height,kt,lt.data):t.compressedTexImage2D(n.TEXTURE_2D,qt,Ve,lt.width,lt.height,0,lt.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Ye?Dt&&t.texSubImage2D(n.TEXTURE_2D,qt,0,0,lt.width,lt.height,kt,Xt,lt.data):t.texImage2D(n.TEXTURE_2D,qt,Ve,lt.width,lt.height,0,kt,Xt,lt.data)}else if(me.isDataArrayTexture)if(Ye){if(ct&&t.texStorage3D(n.TEXTURE_2D_ARRAY,Sn,Ve,xt.width,xt.height,xt.depth),Dt)if(me.layerUpdates.size>0){const qt=AM(xt.width,xt.height,me.format,me.type);for(const wt of me.layerUpdates){const dn=xt.data.subarray(wt*qt/xt.data.BYTES_PER_ELEMENT,(wt+1)*qt/xt.data.BYTES_PER_ELEMENT);t.texSubImage3D(n.TEXTURE_2D_ARRAY,0,0,0,wt,xt.width,xt.height,1,kt,Xt,dn)}me.clearLayerUpdates()}else t.texSubImage3D(n.TEXTURE_2D_ARRAY,0,0,0,0,xt.width,xt.height,xt.depth,kt,Xt,xt.data)}else t.texImage3D(n.TEXTURE_2D_ARRAY,0,Ve,xt.width,xt.height,xt.depth,0,kt,Xt,xt.data);else if(me.isData3DTexture)Ye?(ct&&t.texStorage3D(n.TEXTURE_3D,Sn,Ve,xt.width,xt.height,xt.depth),Dt&&t.texSubImage3D(n.TEXTURE_3D,0,0,0,0,xt.width,xt.height,xt.depth,kt,Xt,xt.data)):t.texImage3D(n.TEXTURE_3D,0,Ve,xt.width,xt.height,xt.depth,0,kt,Xt,xt.data);else if(me.isFramebufferTexture){if(ct)if(Ye)t.texStorage2D(n.TEXTURE_2D,Sn,Ve,xt.width,xt.height);else{let qt=xt.width,wt=xt.height;for(let dn=0;dn<Sn;dn++)t.texImage2D(n.TEXTURE_2D,dn,Ve,qt,wt,0,kt,Xt,null),qt>>=1,wt>>=1}}else if(Qt.length>0){if(Ye&&ct){const qt=Et(Qt[0]);t.texStorage2D(n.TEXTURE_2D,Sn,Ve,qt.width,qt.height)}for(let qt=0,wt=Qt.length;qt<wt;qt++)lt=Qt[qt],Ye?Dt&&t.texSubImage2D(n.TEXTURE_2D,qt,0,0,kt,Xt,lt):t.texImage2D(n.TEXTURE_2D,qt,Ve,kt,Xt,lt);me.generateMipmaps=!1}else if(Ye){if(ct){const qt=Et(xt);t.texStorage2D(n.TEXTURE_2D,Sn,Ve,qt.width,qt.height)}Dt&&t.texSubImage2D(n.TEXTURE_2D,0,0,0,kt,Xt,xt)}else t.texImage2D(n.TEXTURE_2D,0,Ve,kt,Xt,xt);y(me)&&u(it),At.__version=et.version,me.onUpdate&&me.onUpdate(me)}ye.__version=me.version}function _e(ye,me,Le){if(me.image.length!==6)return;const it=fe(ye,me),Qe=me.source;t.bindTexture(n.TEXTURE_CUBE_MAP,ye.__webglTexture,n.TEXTURE0+Le);const et=i.get(Qe);if(Qe.version!==et.__version||it===!0){t.activeTexture(n.TEXTURE0+Le);const At=Jr.getPrimaries(Jr.workingColorSpace),Gt=me.colorSpace===Uf?null:Jr.getPrimaries(me.colorSpace),on=me.colorSpace===Uf||At===Gt?n.NONE:n.BROWSER_DEFAULT_WEBGL;n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,me.flipY),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,me.premultiplyAlpha),n.pixelStorei(n.UNPACK_ALIGNMENT,me.unpackAlignment),n.pixelStorei(n.UNPACK_COLORSPACE_CONVERSION_WEBGL,on);const fn=me.isCompressedTexture||me.image[0].isCompressedTexture,xt=me.image[0]&&me.image[0].isDataTexture,kt=[];for(let wt=0;wt<6;wt++)!fn&&!xt?kt[wt]=g(me.image[wt],!0,r.maxCubemapSize):kt[wt]=xt?me.image[wt].image:me.image[wt],kt[wt]=Ke(me,kt[wt]);const Xt=kt[0],Ve=s.convert(me.format,me.colorSpace),lt=s.convert(me.type),Qt=S(me.internalFormat,Ve,lt,me.colorSpace),Ye=me.isVideoTexture!==!0,ct=et.__version===void 0||it===!0,Dt=Qe.dataReady;let Sn=R(me,Xt);he(n.TEXTURE_CUBE_MAP,me);let qt;if(fn){Ye&&ct&&t.texStorage2D(n.TEXTURE_CUBE_MAP,Sn,Qt,Xt.width,Xt.height);for(let wt=0;wt<6;wt++){qt=kt[wt].mipmaps;for(let dn=0;dn<qt.length;dn++){const wn=qt[dn];me.format!==go?Ve!==null?Ye?Dt&&t.compressedTexSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+wt,dn,0,0,wn.width,wn.height,Ve,wn.data):t.compressedTexImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+wt,dn,Qt,wn.width,wn.height,0,wn.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):Ye?Dt&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+wt,dn,0,0,wn.width,wn.height,Ve,lt,wn.data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+wt,dn,Qt,wn.width,wn.height,0,Ve,lt,wn.data)}}}else{if(qt=me.mipmaps,Ye&&ct){qt.length>0&&Sn++;const wt=Et(kt[0]);t.texStorage2D(n.TEXTURE_CUBE_MAP,Sn,Qt,wt.width,wt.height)}for(let wt=0;wt<6;wt++)if(xt){Ye?Dt&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+wt,0,0,0,kt[wt].width,kt[wt].height,Ve,lt,kt[wt].data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+wt,0,Qt,kt[wt].width,kt[wt].height,0,Ve,lt,kt[wt].data);for(let dn=0;dn<qt.length;dn++){const Pn=qt[dn].image[wt].image;Ye?Dt&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+wt,dn+1,0,0,Pn.width,Pn.height,Ve,lt,Pn.data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+wt,dn+1,Qt,Pn.width,Pn.height,0,Ve,lt,Pn.data)}}else{Ye?Dt&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+wt,0,0,0,Ve,lt,kt[wt]):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+wt,0,Qt,Ve,lt,kt[wt]);for(let dn=0;dn<qt.length;dn++){const wn=qt[dn];Ye?Dt&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+wt,dn+1,0,0,Ve,lt,wn.image[wt]):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+wt,dn+1,Qt,Ve,lt,wn.image[wt])}}}y(me)&&u(n.TEXTURE_CUBE_MAP),et.__version=Qe.version,me.onUpdate&&me.onUpdate(me)}ye.__version=me.version}function Te(ye,me,Le,it,Qe,et){const At=s.convert(Le.format,Le.colorSpace),Gt=s.convert(Le.type),on=S(Le.internalFormat,At,Gt,Le.colorSpace),fn=i.get(me),xt=i.get(Le);if(xt.__renderTarget=me,!fn.__hasExternalTextures){const kt=Math.max(1,me.width>>et),Xt=Math.max(1,me.height>>et);Qe===n.TEXTURE_3D||Qe===n.TEXTURE_2D_ARRAY?t.texImage3D(Qe,et,on,kt,Xt,me.depth,0,At,Gt,null):t.texImage2D(Qe,et,on,kt,Xt,0,At,Gt,null)}t.bindFramebuffer(n.FRAMEBUFFER,ye),Ft(me)?o.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,it,Qe,xt.__webglTexture,0,nt(me)):(Qe===n.TEXTURE_2D||Qe>=n.TEXTURE_CUBE_MAP_POSITIVE_X&&Qe<=n.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&n.framebufferTexture2D(n.FRAMEBUFFER,it,Qe,xt.__webglTexture,et),t.bindFramebuffer(n.FRAMEBUFFER,null)}function Fe(ye,me,Le){if(n.bindRenderbuffer(n.RENDERBUFFER,ye),me.depthBuffer){const it=me.depthTexture,Qe=it&&it.isDepthTexture?it.type:null,et=T(me.stencilBuffer,Qe),At=me.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,Gt=nt(me);Ft(me)?o.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,Gt,et,me.width,me.height):Le?n.renderbufferStorageMultisample(n.RENDERBUFFER,Gt,et,me.width,me.height):n.renderbufferStorage(n.RENDERBUFFER,et,me.width,me.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,At,n.RENDERBUFFER,ye)}else{const it=me.textures;for(let Qe=0;Qe<it.length;Qe++){const et=it[Qe],At=s.convert(et.format,et.colorSpace),Gt=s.convert(et.type),on=S(et.internalFormat,At,Gt,et.colorSpace),fn=nt(me);Le&&Ft(me)===!1?n.renderbufferStorageMultisample(n.RENDERBUFFER,fn,on,me.width,me.height):Ft(me)?o.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,fn,on,me.width,me.height):n.renderbufferStorage(n.RENDERBUFFER,on,me.width,me.height)}}n.bindRenderbuffer(n.RENDERBUFFER,null)}function We(ye,me){if(me&&me.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(t.bindFramebuffer(n.FRAMEBUFFER,ye),!(me.depthTexture&&me.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");const it=i.get(me.depthTexture);it.__renderTarget=me,(!it.__webglTexture||me.depthTexture.image.width!==me.width||me.depthTexture.image.height!==me.height)&&(me.depthTexture.image.width=me.width,me.depthTexture.image.height=me.height,me.depthTexture.needsUpdate=!0),V(me.depthTexture,0);const Qe=it.__webglTexture,et=nt(me);if(me.depthTexture.format===j0)Ft(me)?o.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,Qe,0,et):n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,Qe,0);else if(me.depthTexture.format===X0)Ft(me)?o.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.TEXTURE_2D,Qe,0,et):n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.TEXTURE_2D,Qe,0);else throw new Error("Unknown depthTexture format")}function ht(ye){const me=i.get(ye),Le=ye.isWebGLCubeRenderTarget===!0;if(me.__boundDepthTexture!==ye.depthTexture){const it=ye.depthTexture;if(me.__depthDisposeCallback&&me.__depthDisposeCallback(),it){const Qe=()=>{delete me.__boundDepthTexture,delete me.__depthDisposeCallback,it.removeEventListener("dispose",Qe)};it.addEventListener("dispose",Qe),me.__depthDisposeCallback=Qe}me.__boundDepthTexture=it}if(ye.depthTexture&&!me.__autoAllocateDepthBuffer){if(Le)throw new Error("target.depthTexture not supported in Cube render targets");const it=ye.texture.mipmaps;it&&it.length>0?We(me.__webglFramebuffer[0],ye):We(me.__webglFramebuffer,ye)}else if(Le){me.__webglDepthbuffer=[];for(let it=0;it<6;it++)if(t.bindFramebuffer(n.FRAMEBUFFER,me.__webglFramebuffer[it]),me.__webglDepthbuffer[it]===void 0)me.__webglDepthbuffer[it]=n.createRenderbuffer(),Fe(me.__webglDepthbuffer[it],ye,!1);else{const Qe=ye.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,et=me.__webglDepthbuffer[it];n.bindRenderbuffer(n.RENDERBUFFER,et),n.framebufferRenderbuffer(n.FRAMEBUFFER,Qe,n.RENDERBUFFER,et)}}else{const it=ye.texture.mipmaps;if(it&&it.length>0?t.bindFramebuffer(n.FRAMEBUFFER,me.__webglFramebuffer[0]):t.bindFramebuffer(n.FRAMEBUFFER,me.__webglFramebuffer),me.__webglDepthbuffer===void 0)me.__webglDepthbuffer=n.createRenderbuffer(),Fe(me.__webglDepthbuffer,ye,!1);else{const Qe=ye.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,et=me.__webglDepthbuffer;n.bindRenderbuffer(n.RENDERBUFFER,et),n.framebufferRenderbuffer(n.FRAMEBUFFER,Qe,n.RENDERBUFFER,et)}}t.bindFramebuffer(n.FRAMEBUFFER,null)}function ft(ye,me,Le){const it=i.get(ye);me!==void 0&&Te(it.__webglFramebuffer,ye,ye.texture,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,0),Le!==void 0&&ht(ye)}function Bt(ye){const me=ye.texture,Le=i.get(ye),it=i.get(me);ye.addEventListener("dispose",C);const Qe=ye.textures,et=ye.isWebGLCubeRenderTarget===!0,At=Qe.length>1;if(At||(it.__webglTexture===void 0&&(it.__webglTexture=n.createTexture()),it.__version=me.version,a.memory.textures++),et){Le.__webglFramebuffer=[];for(let Gt=0;Gt<6;Gt++)if(me.mipmaps&&me.mipmaps.length>0){Le.__webglFramebuffer[Gt]=[];for(let on=0;on<me.mipmaps.length;on++)Le.__webglFramebuffer[Gt][on]=n.createFramebuffer()}else Le.__webglFramebuffer[Gt]=n.createFramebuffer()}else{if(me.mipmaps&&me.mipmaps.length>0){Le.__webglFramebuffer=[];for(let Gt=0;Gt<me.mipmaps.length;Gt++)Le.__webglFramebuffer[Gt]=n.createFramebuffer()}else Le.__webglFramebuffer=n.createFramebuffer();if(At)for(let Gt=0,on=Qe.length;Gt<on;Gt++){const fn=i.get(Qe[Gt]);fn.__webglTexture===void 0&&(fn.__webglTexture=n.createTexture(),a.memory.textures++)}if(ye.samples>0&&Ft(ye)===!1){Le.__webglMultisampledFramebuffer=n.createFramebuffer(),Le.__webglColorRenderbuffer=[],t.bindFramebuffer(n.FRAMEBUFFER,Le.__webglMultisampledFramebuffer);for(let Gt=0;Gt<Qe.length;Gt++){const on=Qe[Gt];Le.__webglColorRenderbuffer[Gt]=n.createRenderbuffer(),n.bindRenderbuffer(n.RENDERBUFFER,Le.__webglColorRenderbuffer[Gt]);const fn=s.convert(on.format,on.colorSpace),xt=s.convert(on.type),kt=S(on.internalFormat,fn,xt,on.colorSpace,ye.isXRRenderTarget===!0),Xt=nt(ye);n.renderbufferStorageMultisample(n.RENDERBUFFER,Xt,kt,ye.width,ye.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+Gt,n.RENDERBUFFER,Le.__webglColorRenderbuffer[Gt])}n.bindRenderbuffer(n.RENDERBUFFER,null),ye.depthBuffer&&(Le.__webglDepthRenderbuffer=n.createRenderbuffer(),Fe(Le.__webglDepthRenderbuffer,ye,!0)),t.bindFramebuffer(n.FRAMEBUFFER,null)}}if(et){t.bindTexture(n.TEXTURE_CUBE_MAP,it.__webglTexture),he(n.TEXTURE_CUBE_MAP,me);for(let Gt=0;Gt<6;Gt++)if(me.mipmaps&&me.mipmaps.length>0)for(let on=0;on<me.mipmaps.length;on++)Te(Le.__webglFramebuffer[Gt][on],ye,me,n.COLOR_ATTACHMENT0,n.TEXTURE_CUBE_MAP_POSITIVE_X+Gt,on);else Te(Le.__webglFramebuffer[Gt],ye,me,n.COLOR_ATTACHMENT0,n.TEXTURE_CUBE_MAP_POSITIVE_X+Gt,0);y(me)&&u(n.TEXTURE_CUBE_MAP),t.unbindTexture()}else if(At){for(let Gt=0,on=Qe.length;Gt<on;Gt++){const fn=Qe[Gt],xt=i.get(fn);t.bindTexture(n.TEXTURE_2D,xt.__webglTexture),he(n.TEXTURE_2D,fn),Te(Le.__webglFramebuffer,ye,fn,n.COLOR_ATTACHMENT0+Gt,n.TEXTURE_2D,0),y(fn)&&u(n.TEXTURE_2D)}t.unbindTexture()}else{let Gt=n.TEXTURE_2D;if((ye.isWebGL3DRenderTarget||ye.isWebGLArrayRenderTarget)&&(Gt=ye.isWebGL3DRenderTarget?n.TEXTURE_3D:n.TEXTURE_2D_ARRAY),t.bindTexture(Gt,it.__webglTexture),he(Gt,me),me.mipmaps&&me.mipmaps.length>0)for(let on=0;on<me.mipmaps.length;on++)Te(Le.__webglFramebuffer[on],ye,me,n.COLOR_ATTACHMENT0,Gt,on);else Te(Le.__webglFramebuffer,ye,me,n.COLOR_ATTACHMENT0,Gt,0);y(me)&&u(Gt),t.unbindTexture()}ye.depthBuffer&&ht(ye)}function Me(ye){const me=ye.textures;for(let Le=0,it=me.length;Le<it;Le++){const Qe=me[Le];if(y(Qe)){const et=b(ye),At=i.get(Qe).__webglTexture;t.bindTexture(et,At),u(et),t.unbindTexture()}}}const yt=[],mt=[];function St(ye){if(ye.samples>0){if(Ft(ye)===!1){const me=ye.textures,Le=ye.width,it=ye.height;let Qe=n.COLOR_BUFFER_BIT;const et=ye.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,At=i.get(ye),Gt=me.length>1;if(Gt)for(let fn=0;fn<me.length;fn++)t.bindFramebuffer(n.FRAMEBUFFER,At.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+fn,n.RENDERBUFFER,null),t.bindFramebuffer(n.FRAMEBUFFER,At.__webglFramebuffer),n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0+fn,n.TEXTURE_2D,null,0);t.bindFramebuffer(n.READ_FRAMEBUFFER,At.__webglMultisampledFramebuffer);const on=ye.texture.mipmaps;on&&on.length>0?t.bindFramebuffer(n.DRAW_FRAMEBUFFER,At.__webglFramebuffer[0]):t.bindFramebuffer(n.DRAW_FRAMEBUFFER,At.__webglFramebuffer);for(let fn=0;fn<me.length;fn++){if(ye.resolveDepthBuffer&&(ye.depthBuffer&&(Qe|=n.DEPTH_BUFFER_BIT),ye.stencilBuffer&&ye.resolveStencilBuffer&&(Qe|=n.STENCIL_BUFFER_BIT)),Gt){n.framebufferRenderbuffer(n.READ_FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.RENDERBUFFER,At.__webglColorRenderbuffer[fn]);const xt=i.get(me[fn]).__webglTexture;n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,xt,0)}n.blitFramebuffer(0,0,Le,it,0,0,Le,it,Qe,n.NEAREST),l===!0&&(yt.length=0,mt.length=0,yt.push(n.COLOR_ATTACHMENT0+fn),ye.depthBuffer&&ye.resolveDepthBuffer===!1&&(yt.push(et),mt.push(et),n.invalidateFramebuffer(n.DRAW_FRAMEBUFFER,mt)),n.invalidateFramebuffer(n.READ_FRAMEBUFFER,yt))}if(t.bindFramebuffer(n.READ_FRAMEBUFFER,null),t.bindFramebuffer(n.DRAW_FRAMEBUFFER,null),Gt)for(let fn=0;fn<me.length;fn++){t.bindFramebuffer(n.FRAMEBUFFER,At.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+fn,n.RENDERBUFFER,At.__webglColorRenderbuffer[fn]);const xt=i.get(me[fn]).__webglTexture;t.bindFramebuffer(n.FRAMEBUFFER,At.__webglFramebuffer),n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0+fn,n.TEXTURE_2D,xt,0)}t.bindFramebuffer(n.DRAW_FRAMEBUFFER,At.__webglMultisampledFramebuffer)}else if(ye.depthBuffer&&ye.resolveDepthBuffer===!1&&l){const me=ye.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT;n.invalidateFramebuffer(n.DRAW_FRAMEBUFFER,[me])}}}function nt(ye){return Math.min(r.maxSamples,ye.samples)}function Ft(ye){const me=i.get(ye);return ye.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&me.__useRenderToTexture!==!1}function qe(ye){const me=a.render.frame;f.get(ye)!==me&&(f.set(ye,me),ye.update())}function Ke(ye,me){const Le=ye.colorSpace,it=ye.format,Qe=ye.type;return ye.isCompressedTexture===!0||ye.isVideoTexture===!0||Le!==jh&&Le!==Uf&&(Jr.getTransfer(Le)===Us?(it!==go||Qe!==wc)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",Le)),me}function Et(ye){return typeof HTMLImageElement<"u"&&ye instanceof HTMLImageElement?(c.width=ye.naturalWidth||ye.width,c.height=ye.naturalHeight||ye.height):typeof VideoFrame<"u"&&ye instanceof VideoFrame?(c.width=ye.displayWidth,c.height=ye.displayHeight):(c.width=ye.width,c.height=ye.height),c}this.allocateTextureUnit=j,this.resetTextureUnits=B,this.setTexture2D=V,this.setTexture2DArray=k,this.setTexture3D=Z,this.setTextureCube=ee,this.rebindTextures=ft,this.setupRenderTarget=Bt,this.updateRenderTargetMipmap=Me,this.updateMultisampleRenderTarget=St,this.setupDepthRenderbuffer=ht,this.setupFrameBufferTexture=Te,this.useMultisampledRTT=Ft}function UB(n,e){function t(i,r=Uf){let s;const a=Jr.getTransfer(r);if(i===wc)return n.UNSIGNED_BYTE;if(i===kE)return n.UNSIGNED_SHORT_4_4_4_4;if(i===BE)return n.UNSIGNED_SHORT_5_5_5_1;if(i===KR)return n.UNSIGNED_INT_5_9_9_9_REV;if(i===FE)return n.BYTE;if(i===UE)return n.SHORT;if(i===V0)return n.UNSIGNED_SHORT;if(i===U1)return n.INT;if(i===kd)return n.UNSIGNED_INT;if(i===Oa)return n.FLOAT;if(i===Xo)return n.HALF_FLOAT;if(i===ZR)return n.ALPHA;if(i===QR)return n.RGB;if(i===go)return n.RGBA;if(i===j0)return n.DEPTH_COMPONENT;if(i===X0)return n.DEPTH_STENCIL;if(i===k1)return n.RED;if(i===B1)return n.RED_INTEGER;if(i===JR)return n.RG;if(i===zE)return n.RG_INTEGER;if(i===GE)return n.RGBA_INTEGER;if(i===U_||i===k_||i===B_||i===z_)if(a===Us)if(s=e.get("WEBGL_compressed_texture_s3tc_srgb"),s!==null){if(i===U_)return s.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(i===k_)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(i===B_)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(i===z_)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(s=e.get("WEBGL_compressed_texture_s3tc"),s!==null){if(i===U_)return s.COMPRESSED_RGB_S3TC_DXT1_EXT;if(i===k_)return s.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(i===B_)return s.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(i===z_)return s.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(i===uw||i===hw||i===dw||i===fw)if(s=e.get("WEBGL_compressed_texture_pvrtc"),s!==null){if(i===uw)return s.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(i===hw)return s.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(i===dw)return s.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(i===fw)return s.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(i===pw||i===mw||i===gw)if(s=e.get("WEBGL_compressed_texture_etc"),s!==null){if(i===pw||i===mw)return a===Us?s.COMPRESSED_SRGB8_ETC2:s.COMPRESSED_RGB8_ETC2;if(i===gw)return a===Us?s.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:s.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(i===vw||i===yw||i===_w||i===bw||i===xw||i===Sw||i===ww||i===Ew||i===Cw||i===Tw||i===Aw||i===Mw||i===Rw||i===Ow)if(s=e.get("WEBGL_compressed_texture_astc"),s!==null){if(i===vw)return a===Us?s.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:s.COMPRESSED_RGBA_ASTC_4x4_KHR;if(i===yw)return a===Us?s.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:s.COMPRESSED_RGBA_ASTC_5x4_KHR;if(i===_w)return a===Us?s.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:s.COMPRESSED_RGBA_ASTC_5x5_KHR;if(i===bw)return a===Us?s.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:s.COMPRESSED_RGBA_ASTC_6x5_KHR;if(i===xw)return a===Us?s.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:s.COMPRESSED_RGBA_ASTC_6x6_KHR;if(i===Sw)return a===Us?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:s.COMPRESSED_RGBA_ASTC_8x5_KHR;if(i===ww)return a===Us?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:s.COMPRESSED_RGBA_ASTC_8x6_KHR;if(i===Ew)return a===Us?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:s.COMPRESSED_RGBA_ASTC_8x8_KHR;if(i===Cw)return a===Us?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:s.COMPRESSED_RGBA_ASTC_10x5_KHR;if(i===Tw)return a===Us?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:s.COMPRESSED_RGBA_ASTC_10x6_KHR;if(i===Aw)return a===Us?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:s.COMPRESSED_RGBA_ASTC_10x8_KHR;if(i===Mw)return a===Us?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:s.COMPRESSED_RGBA_ASTC_10x10_KHR;if(i===Rw)return a===Us?s.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:s.COMPRESSED_RGBA_ASTC_12x10_KHR;if(i===Ow)return a===Us?s.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:s.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(i===G_||i===Lw||i===Pw)if(s=e.get("EXT_texture_compression_bptc"),s!==null){if(i===G_)return a===Us?s.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:s.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(i===Lw)return s.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(i===Pw)return s.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}else return null;if(i===e3||i===Iw||i===Dw||i===Nw)if(s=e.get("EXT_texture_compression_rgtc"),s!==null){if(i===G_)return s.COMPRESSED_RED_RGTC1_EXT;if(i===Iw)return s.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(i===Dw)return s.COMPRESSED_RED_GREEN_RGTC2_EXT;if(i===Nw)return s.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return i===W0?n.UNSIGNED_INT_24_8:n[i]!==void 0?n[i]:null}return{convert:t}}const OQ=`
void main() {

	gl_Position = vec4( position, 1.0 );

}`,LQ=`
uniform sampler2DArray depthColor;
uniform float depthWidth;
uniform float depthHeight;

void main() {

	vec2 coord = vec2( gl_FragCoord.x / depthWidth, gl_FragCoord.y / depthHeight );

	if ( coord.x >= 1.0 ) {

		gl_FragDepth = texture( depthColor, vec3( coord.x - 1.0, coord.y, 1 ) ).r;

	} else {

		gl_FragDepth = texture( depthColor, vec3( coord.x, coord.y, 0 ) ).r;

	}

}`;class PQ{constructor(){this.texture=null,this.mesh=null,this.depthNear=0,this.depthFar=0}init(e,t,i){if(this.texture===null){const r=new _s,s=e.properties.get(r);s.__webglTexture=t.texture,(t.depthNear!==i.depthNear||t.depthFar!==i.depthFar)&&(this.depthNear=t.depthNear,this.depthFar=t.depthFar),this.texture=r}}getMesh(e){if(this.texture!==null&&this.mesh===null){const t=e.cameras[0].viewport,i=new Ec({vertexShader:OQ,fragmentShader:LQ,uniforms:{depthColor:{value:this.texture},depthWidth:{value:t.z},depthHeight:{value:t.w}}});this.mesh=new Xs(new Zh(20,20),i)}return this.mesh}reset(){this.texture=null,this.mesh=null}getDepthTexture(){return this.texture}}class IQ extends jd{constructor(e,t){super();const i=this;let r=null,s=1,a=null,o="local-floor",l=1,c=null,f=null,h=null,v=null,m=null,_=null;const g=new PQ,y=t.getContextAttributes();let u=null,b=null;const S=[],T=[],R=new ln;let O=null;const C=new Ga;C.viewport=new Cr;const I=new Ga;I.viewport=new Cr;const F=[C,I],M=new EB;let D=null,B=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(ce){let ae=S[ce];return ae===void 0&&(ae=new BS,S[ce]=ae),ae.getTargetRaySpace()},this.getControllerGrip=function(ce){let ae=S[ce];return ae===void 0&&(ae=new BS,S[ce]=ae),ae.getGripSpace()},this.getHand=function(ce){let ae=S[ce];return ae===void 0&&(ae=new BS,S[ce]=ae),ae.getHandSpace()};function j(ce){const ae=T.indexOf(ce.inputSource);if(ae===-1)return;const ve=S[ae];ve!==void 0&&(ve.update(ce.inputSource,ce.frame,c||a),ve.dispatchEvent({type:ce.type,data:ce.inputSource}))}function U(){r.removeEventListener("select",j),r.removeEventListener("selectstart",j),r.removeEventListener("selectend",j),r.removeEventListener("squeeze",j),r.removeEventListener("squeezestart",j),r.removeEventListener("squeezeend",j),r.removeEventListener("end",U),r.removeEventListener("inputsourceschange",V);for(let ce=0;ce<S.length;ce++){const ae=T[ce];ae!==null&&(T[ce]=null,S[ce].disconnect(ae))}D=null,B=null,g.reset(),e.setRenderTarget(u),m=null,v=null,h=null,r=null,b=null,fe.stop(),i.isPresenting=!1,e.setPixelRatio(O),e.setSize(R.width,R.height,!1),i.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(ce){s=ce,i.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(ce){o=ce,i.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return c||a},this.setReferenceSpace=function(ce){c=ce},this.getBaseLayer=function(){return v!==null?v:m},this.getBinding=function(){return h},this.getFrame=function(){return _},this.getSession=function(){return r},this.setSession=async function(ce){if(r=ce,r!==null){if(u=e.getRenderTarget(),r.addEventListener("select",j),r.addEventListener("selectstart",j),r.addEventListener("selectend",j),r.addEventListener("squeeze",j),r.addEventListener("squeezestart",j),r.addEventListener("squeezeend",j),r.addEventListener("end",U),r.addEventListener("inputsourceschange",V),y.xrCompatible!==!0&&await t.makeXRCompatible(),O=e.getPixelRatio(),e.getSize(R),typeof XRWebGLBinding<"u"&&"createProjectionLayer"in XRWebGLBinding.prototype){let ve=null,_e=null,Te=null;y.depth&&(Te=y.stencil?t.DEPTH24_STENCIL8:t.DEPTH_COMPONENT24,ve=y.stencil?X0:j0,_e=y.stencil?W0:kd);const Fe={colorFormat:t.RGBA8,depthFormat:Te,scaleFactor:s};h=new XRWebGLBinding(r,t),v=h.createProjectionLayer(Fe),r.updateRenderState({layers:[v]}),e.setPixelRatio(1),e.setSize(v.textureWidth,v.textureHeight,!1),b=new xu(v.textureWidth,v.textureHeight,{format:go,type:wc,depthTexture:new QE(v.textureWidth,v.textureHeight,_e,void 0,void 0,void 0,void 0,void 0,void 0,ve),stencilBuffer:y.stencil,colorSpace:e.outputColorSpace,samples:y.antialias?4:0,resolveDepthBuffer:v.ignoreDepthValues===!1,resolveStencilBuffer:v.ignoreDepthValues===!1})}else{const ve={antialias:y.antialias,alpha:!0,depth:y.depth,stencil:y.stencil,framebufferScaleFactor:s};m=new XRWebGLLayer(r,t,ve),r.updateRenderState({baseLayer:m}),e.setPixelRatio(1),e.setSize(m.framebufferWidth,m.framebufferHeight,!1),b=new xu(m.framebufferWidth,m.framebufferHeight,{format:go,type:wc,colorSpace:e.outputColorSpace,stencilBuffer:y.stencil,resolveDepthBuffer:m.ignoreDepthValues===!1,resolveStencilBuffer:m.ignoreDepthValues===!1})}b.isXRRenderTarget=!0,this.setFoveation(l),c=null,a=await r.requestReferenceSpace(o),fe.setContext(r),fe.start(),i.isPresenting=!0,i.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(r!==null)return r.environmentBlendMode},this.getDepthTexture=function(){return g.getDepthTexture()};function V(ce){for(let ae=0;ae<ce.removed.length;ae++){const ve=ce.removed[ae],_e=T.indexOf(ve);_e>=0&&(T[_e]=null,S[_e].disconnect(ve))}for(let ae=0;ae<ce.added.length;ae++){const ve=ce.added[ae];let _e=T.indexOf(ve);if(_e===-1){for(let Fe=0;Fe<S.length;Fe++)if(Fe>=T.length){T.push(ve),_e=Fe;break}else if(T[Fe]===null){T[Fe]=ve,_e=Fe;break}if(_e===-1)break}const Te=S[_e];Te&&Te.connect(ve)}}const k=new Oe,Z=new Oe;function ee(ce,ae,ve){k.setFromMatrixPosition(ae.matrixWorld),Z.setFromMatrixPosition(ve.matrixWorld);const _e=k.distanceTo(Z),Te=ae.projectionMatrix.elements,Fe=ve.projectionMatrix.elements,We=Te[14]/(Te[10]-1),ht=Te[14]/(Te[10]+1),ft=(Te[9]+1)/Te[5],Bt=(Te[9]-1)/Te[5],Me=(Te[8]-1)/Te[0],yt=(Fe[8]+1)/Fe[0],mt=We*Me,St=We*yt,nt=_e/(-Me+yt),Ft=nt*-Me;if(ae.matrixWorld.decompose(ce.position,ce.quaternion,ce.scale),ce.translateX(Ft),ce.translateZ(nt),ce.matrixWorld.compose(ce.position,ce.quaternion,ce.scale),ce.matrixWorldInverse.copy(ce.matrixWorld).invert(),Te[10]===-1)ce.projectionMatrix.copy(ae.projectionMatrix),ce.projectionMatrixInverse.copy(ae.projectionMatrixInverse);else{const qe=We+nt,Ke=ht+nt,Et=mt-Ft,ye=St+(_e-Ft),me=ft*ht/Ke*qe,Le=Bt*ht/Ke*qe;ce.projectionMatrix.makePerspective(Et,ye,me,Le,qe,Ke),ce.projectionMatrixInverse.copy(ce.projectionMatrix).invert()}}function oe(ce,ae){ae===null?ce.matrixWorld.copy(ce.matrix):ce.matrixWorld.multiplyMatrices(ae.matrixWorld,ce.matrix),ce.matrixWorldInverse.copy(ce.matrixWorld).invert()}this.updateCamera=function(ce){if(r===null)return;let ae=ce.near,ve=ce.far;g.texture!==null&&(g.depthNear>0&&(ae=g.depthNear),g.depthFar>0&&(ve=g.depthFar)),M.near=I.near=C.near=ae,M.far=I.far=C.far=ve,(D!==M.near||B!==M.far)&&(r.updateRenderState({depthNear:M.near,depthFar:M.far}),D=M.near,B=M.far),C.layers.mask=ce.layers.mask|2,I.layers.mask=ce.layers.mask|4,M.layers.mask=C.layers.mask|I.layers.mask;const _e=ce.parent,Te=M.cameras;oe(M,_e);for(let Fe=0;Fe<Te.length;Fe++)oe(Te[Fe],_e);Te.length===2?ee(M,C,I):M.projectionMatrix.copy(C.projectionMatrix),ne(ce,M,_e)};function ne(ce,ae,ve){ve===null?ce.matrix.copy(ae.matrixWorld):(ce.matrix.copy(ve.matrixWorld),ce.matrix.invert(),ce.matrix.multiply(ae.matrixWorld)),ce.matrix.decompose(ce.position,ce.quaternion,ce.scale),ce.updateMatrixWorld(!0),ce.projectionMatrix.copy(ae.projectionMatrix),ce.projectionMatrixInverse.copy(ae.projectionMatrixInverse),ce.isPerspectiveCamera&&(ce.fov=q0*2*Math.atan(1/ce.projectionMatrix.elements[5]),ce.zoom=1)}this.getCamera=function(){return M},this.getFoveation=function(){if(!(v===null&&m===null))return l},this.setFoveation=function(ce){l=ce,v!==null&&(v.fixedFoveation=ce),m!==null&&m.fixedFoveation!==void 0&&(m.fixedFoveation=ce)},this.hasDepthSensing=function(){return g.texture!==null},this.getDepthSensingMesh=function(){return g.getMesh(M)};let ie=null;function he(ce,ae){if(f=ae.getViewerPose(c||a),_=ae,f!==null){const ve=f.views;m!==null&&(e.setRenderTargetFramebuffer(b,m.framebuffer),e.setRenderTarget(b));let _e=!1;ve.length!==M.cameras.length&&(M.cameras.length=0,_e=!0);for(let We=0;We<ve.length;We++){const ht=ve[We];let ft=null;if(m!==null)ft=m.getViewport(ht);else{const Me=h.getViewSubImage(v,ht);ft=Me.viewport,We===0&&(e.setRenderTargetTextures(b,Me.colorTexture,Me.depthStencilTexture),e.setRenderTarget(b))}let Bt=F[We];Bt===void 0&&(Bt=new Ga,Bt.layers.enable(We),Bt.viewport=new Cr,F[We]=Bt),Bt.matrix.fromArray(ht.transform.matrix),Bt.matrix.decompose(Bt.position,Bt.quaternion,Bt.scale),Bt.projectionMatrix.fromArray(ht.projectionMatrix),Bt.projectionMatrixInverse.copy(Bt.projectionMatrix).invert(),Bt.viewport.set(ft.x,ft.y,ft.width,ft.height),We===0&&(M.matrix.copy(Bt.matrix),M.matrix.decompose(M.position,M.quaternion,M.scale)),_e===!0&&M.cameras.push(Bt)}const Te=r.enabledFeatures;if(Te&&Te.includes("depth-sensing")&&r.depthUsage=="gpu-optimized"&&h){const We=h.getDepthInformation(ve[0]);We&&We.isValid&&We.texture&&g.init(e,We,r.renderState)}}for(let ve=0;ve<S.length;ve++){const _e=T[ve],Te=S[ve];_e!==null&&Te!==void 0&&Te.update(_e,ae,c||a)}ie&&ie(ce,ae),ae.detectedPlanes&&i.dispatchEvent({type:"planesdetected",data:ae}),_=null}const fe=new PB;fe.setAnimationLoop(he),this.setAnimationLoop=function(ce){ie=ce},this.dispose=function(){}}}const ug=new Su,DQ=new ri;function NQ(n,e){function t(y,u){y.matrixAutoUpdate===!0&&y.updateMatrix(),u.value.copy(y.matrix)}function i(y,u){u.color.getRGB(y.fogColor.value,Pk(n)),u.isFog?(y.fogNear.value=u.near,y.fogFar.value=u.far):u.isFogExp2&&(y.fogDensity.value=u.density)}function r(y,u,b,S,T){u.isMeshBasicMaterial||u.isMeshLambertMaterial?s(y,u):u.isMeshToonMaterial?(s(y,u),h(y,u)):u.isMeshPhongMaterial?(s(y,u),f(y,u)):u.isMeshStandardMaterial?(s(y,u),v(y,u),u.isMeshPhysicalMaterial&&m(y,u,T)):u.isMeshMatcapMaterial?(s(y,u),_(y,u)):u.isMeshDepthMaterial?s(y,u):u.isMeshDistanceMaterial?(s(y,u),g(y,u)):u.isMeshNormalMaterial?s(y,u):u.isLineBasicMaterial?(a(y,u),u.isLineDashedMaterial&&o(y,u)):u.isPointsMaterial?l(y,u,b,S):u.isSpriteMaterial?c(y,u):u.isShadowMaterial?(y.color.value.copy(u.color),y.opacity.value=u.opacity):u.isShaderMaterial&&(u.uniformsNeedUpdate=!1)}function s(y,u){y.opacity.value=u.opacity,u.color&&y.diffuse.value.copy(u.color),u.emissive&&y.emissive.value.copy(u.emissive).multiplyScalar(u.emissiveIntensity),u.map&&(y.map.value=u.map,t(u.map,y.mapTransform)),u.alphaMap&&(y.alphaMap.value=u.alphaMap,t(u.alphaMap,y.alphaMapTransform)),u.bumpMap&&(y.bumpMap.value=u.bumpMap,t(u.bumpMap,y.bumpMapTransform),y.bumpScale.value=u.bumpScale,u.side===xc&&(y.bumpScale.value*=-1)),u.normalMap&&(y.normalMap.value=u.normalMap,t(u.normalMap,y.normalMapTransform),y.normalScale.value.copy(u.normalScale),u.side===xc&&y.normalScale.value.negate()),u.displacementMap&&(y.displacementMap.value=u.displacementMap,t(u.displacementMap,y.displacementMapTransform),y.displacementScale.value=u.displacementScale,y.displacementBias.value=u.displacementBias),u.emissiveMap&&(y.emissiveMap.value=u.emissiveMap,t(u.emissiveMap,y.emissiveMapTransform)),u.specularMap&&(y.specularMap.value=u.specularMap,t(u.specularMap,y.specularMapTransform)),u.alphaTest>0&&(y.alphaTest.value=u.alphaTest);const b=e.get(u),S=b.envMap,T=b.envMapRotation;S&&(y.envMap.value=S,ug.copy(T),ug.x*=-1,ug.y*=-1,ug.z*=-1,S.isCubeTexture&&S.isRenderTargetTexture===!1&&(ug.y*=-1,ug.z*=-1),y.envMapRotation.value.setFromMatrix4(DQ.makeRotationFromEuler(ug)),y.flipEnvMap.value=S.isCubeTexture&&S.isRenderTargetTexture===!1?-1:1,y.reflectivity.value=u.reflectivity,y.ior.value=u.ior,y.refractionRatio.value=u.refractionRatio),u.lightMap&&(y.lightMap.value=u.lightMap,y.lightMapIntensity.value=u.lightMapIntensity,t(u.lightMap,y.lightMapTransform)),u.aoMap&&(y.aoMap.value=u.aoMap,y.aoMapIntensity.value=u.aoMapIntensity,t(u.aoMap,y.aoMapTransform))}function a(y,u){y.diffuse.value.copy(u.color),y.opacity.value=u.opacity,u.map&&(y.map.value=u.map,t(u.map,y.mapTransform))}function o(y,u){y.dashSize.value=u.dashSize,y.totalSize.value=u.dashSize+u.gapSize,y.scale.value=u.scale}function l(y,u,b,S){y.diffuse.value.copy(u.color),y.opacity.value=u.opacity,y.size.value=u.size*b,y.scale.value=S*.5,u.map&&(y.map.value=u.map,t(u.map,y.uvTransform)),u.alphaMap&&(y.alphaMap.value=u.alphaMap,t(u.alphaMap,y.alphaMapTransform)),u.alphaTest>0&&(y.alphaTest.value=u.alphaTest)}function c(y,u){y.diffuse.value.copy(u.color),y.opacity.value=u.opacity,y.rotation.value=u.rotation,u.map&&(y.map.value=u.map,t(u.map,y.mapTransform)),u.alphaMap&&(y.alphaMap.value=u.alphaMap,t(u.alphaMap,y.alphaMapTransform)),u.alphaTest>0&&(y.alphaTest.value=u.alphaTest)}function f(y,u){y.specular.value.copy(u.specular),y.shininess.value=Math.max(u.shininess,1e-4)}function h(y,u){u.gradientMap&&(y.gradientMap.value=u.gradientMap)}function v(y,u){y.metalness.value=u.metalness,u.metalnessMap&&(y.metalnessMap.value=u.metalnessMap,t(u.metalnessMap,y.metalnessMapTransform)),y.roughness.value=u.roughness,u.roughnessMap&&(y.roughnessMap.value=u.roughnessMap,t(u.roughnessMap,y.roughnessMapTransform)),u.envMap&&(y.envMapIntensity.value=u.envMapIntensity)}function m(y,u,b){y.ior.value=u.ior,u.sheen>0&&(y.sheenColor.value.copy(u.sheenColor).multiplyScalar(u.sheen),y.sheenRoughness.value=u.sheenRoughness,u.sheenColorMap&&(y.sheenColorMap.value=u.sheenColorMap,t(u.sheenColorMap,y.sheenColorMapTransform)),u.sheenRoughnessMap&&(y.sheenRoughnessMap.value=u.sheenRoughnessMap,t(u.sheenRoughnessMap,y.sheenRoughnessMapTransform))),u.clearcoat>0&&(y.clearcoat.value=u.clearcoat,y.clearcoatRoughness.value=u.clearcoatRoughness,u.clearcoatMap&&(y.clearcoatMap.value=u.clearcoatMap,t(u.clearcoatMap,y.clearcoatMapTransform)),u.clearcoatRoughnessMap&&(y.clearcoatRoughnessMap.value=u.clearcoatRoughnessMap,t(u.clearcoatRoughnessMap,y.clearcoatRoughnessMapTransform)),u.clearcoatNormalMap&&(y.clearcoatNormalMap.value=u.clearcoatNormalMap,t(u.clearcoatNormalMap,y.clearcoatNormalMapTransform),y.clearcoatNormalScale.value.copy(u.clearcoatNormalScale),u.side===xc&&y.clearcoatNormalScale.value.negate())),u.dispersion>0&&(y.dispersion.value=u.dispersion),u.iridescence>0&&(y.iridescence.value=u.iridescence,y.iridescenceIOR.value=u.iridescenceIOR,y.iridescenceThicknessMinimum.value=u.iridescenceThicknessRange[0],y.iridescenceThicknessMaximum.value=u.iridescenceThicknessRange[1],u.iridescenceMap&&(y.iridescenceMap.value=u.iridescenceMap,t(u.iridescenceMap,y.iridescenceMapTransform)),u.iridescenceThicknessMap&&(y.iridescenceThicknessMap.value=u.iridescenceThicknessMap,t(u.iridescenceThicknessMap,y.iridescenceThicknessMapTransform))),u.transmission>0&&(y.transmission.value=u.transmission,y.transmissionSamplerMap.value=b.texture,y.transmissionSamplerSize.value.set(b.width,b.height),u.transmissionMap&&(y.transmissionMap.value=u.transmissionMap,t(u.transmissionMap,y.transmissionMapTransform)),y.thickness.value=u.thickness,u.thicknessMap&&(y.thicknessMap.value=u.thicknessMap,t(u.thicknessMap,y.thicknessMapTransform)),y.attenuationDistance.value=u.attenuationDistance,y.attenuationColor.value.copy(u.attenuationColor)),u.anisotropy>0&&(y.anisotropyVector.value.set(u.anisotropy*Math.cos(u.anisotropyRotation),u.anisotropy*Math.sin(u.anisotropyRotation)),u.anisotropyMap&&(y.anisotropyMap.value=u.anisotropyMap,t(u.anisotropyMap,y.anisotropyMapTransform))),y.specularIntensity.value=u.specularIntensity,y.specularColor.value.copy(u.specularColor),u.specularColorMap&&(y.specularColorMap.value=u.specularColorMap,t(u.specularColorMap,y.specularColorMapTransform)),u.specularIntensityMap&&(y.specularIntensityMap.value=u.specularIntensityMap,t(u.specularIntensityMap,y.specularIntensityMapTransform))}function _(y,u){u.matcap&&(y.matcap.value=u.matcap)}function g(y,u){const b=e.get(u).light;y.referencePosition.value.setFromMatrixPosition(b.matrixWorld),y.nearDistance.value=b.shadow.camera.near,y.farDistance.value=b.shadow.camera.far}return{refreshFogUniforms:i,refreshMaterialUniforms:r}}function FQ(n,e,t,i){let r={},s={},a=[];const o=n.getParameter(n.MAX_UNIFORM_BUFFER_BINDINGS);function l(b,S){const T=S.program;i.uniformBlockBinding(b,T)}function c(b,S){let T=r[b.id];T===void 0&&(_(b),T=f(b),r[b.id]=T,b.addEventListener("dispose",y));const R=S.program;i.updateUBOMapping(b,R);const O=e.render.frame;s[b.id]!==O&&(v(b),s[b.id]=O)}function f(b){const S=h();b.__bindingPointIndex=S;const T=n.createBuffer(),R=b.__size,O=b.usage;return n.bindBuffer(n.UNIFORM_BUFFER,T),n.bufferData(n.UNIFORM_BUFFER,R,O),n.bindBuffer(n.UNIFORM_BUFFER,null),n.bindBufferBase(n.UNIFORM_BUFFER,S,T),T}function h(){for(let b=0;b<o;b++)if(a.indexOf(b)===-1)return a.push(b),b;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function v(b){const S=r[b.id],T=b.uniforms,R=b.__cache;n.bindBuffer(n.UNIFORM_BUFFER,S);for(let O=0,C=T.length;O<C;O++){const I=Array.isArray(T[O])?T[O]:[T[O]];for(let F=0,M=I.length;F<M;F++){const D=I[F];if(m(D,O,F,R)===!0){const B=D.__offset,j=Array.isArray(D.value)?D.value:[D.value];let U=0;for(let V=0;V<j.length;V++){const k=j[V],Z=g(k);typeof k=="number"||typeof k=="boolean"?(D.__data[0]=k,n.bufferSubData(n.UNIFORM_BUFFER,B+U,D.__data)):k.isMatrix3?(D.__data[0]=k.elements[0],D.__data[1]=k.elements[1],D.__data[2]=k.elements[2],D.__data[3]=0,D.__data[4]=k.elements[3],D.__data[5]=k.elements[4],D.__data[6]=k.elements[5],D.__data[7]=0,D.__data[8]=k.elements[6],D.__data[9]=k.elements[7],D.__data[10]=k.elements[8],D.__data[11]=0):(k.toArray(D.__data,U),U+=Z.storage/Float32Array.BYTES_PER_ELEMENT)}n.bufferSubData(n.UNIFORM_BUFFER,B,D.__data)}}}n.bindBuffer(n.UNIFORM_BUFFER,null)}function m(b,S,T,R){const O=b.value,C=S+"_"+T;if(R[C]===void 0)return typeof O=="number"||typeof O=="boolean"?R[C]=O:R[C]=O.clone(),!0;{const I=R[C];if(typeof O=="number"||typeof O=="boolean"){if(I!==O)return R[C]=O,!0}else if(I.equals(O)===!1)return I.copy(O),!0}return!1}function _(b){const S=b.uniforms;let T=0;const R=16;for(let C=0,I=S.length;C<I;C++){const F=Array.isArray(S[C])?S[C]:[S[C]];for(let M=0,D=F.length;M<D;M++){const B=F[M],j=Array.isArray(B.value)?B.value:[B.value];for(let U=0,V=j.length;U<V;U++){const k=j[U],Z=g(k),ee=T%R,oe=ee%Z.boundary,ne=ee+oe;T+=oe,ne!==0&&R-ne<Z.storage&&(T+=R-ne),B.__data=new Float32Array(Z.storage/Float32Array.BYTES_PER_ELEMENT),B.__offset=T,T+=Z.storage}}}const O=T%R;return O>0&&(T+=R-O),b.__size=T,b.__cache={},this}function g(b){const S={boundary:0,storage:0};return typeof b=="number"||typeof b=="boolean"?(S.boundary=4,S.storage=4):b.isVector2?(S.boundary=8,S.storage=8):b.isVector3||b.isColor?(S.boundary=16,S.storage=12):b.isVector4?(S.boundary=16,S.storage=16):b.isMatrix3?(S.boundary=48,S.storage=48):b.isMatrix4?(S.boundary=64,S.storage=64):b.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",b),S}function y(b){const S=b.target;S.removeEventListener("dispose",y);const T=a.indexOf(S.__bindingPointIndex);a.splice(T,1),n.deleteBuffer(r[S.id]),delete r[S.id],delete s[S.id]}function u(){for(const b in r)n.deleteBuffer(r[b]);a=[],r={},s={}}return{bind:l,update:c,dispose:u}}class D3{constructor(e={}){const{canvas:t=Rk(),context:i=null,depth:r=!0,stencil:s=!1,alpha:a=!1,antialias:o=!1,premultipliedAlpha:l=!0,preserveDrawingBuffer:c=!1,powerPreference:f="default",failIfMajorPerformanceCaveat:h=!1,reverseDepthBuffer:v=!1}=e;this.isWebGLRenderer=!0;let m;if(i!==null){if(typeof WebGLRenderingContext<"u"&&i instanceof WebGLRenderingContext)throw new Error("THREE.WebGLRenderer: WebGL 1 is not supported since r163.");m=i.getContextAttributes().alpha}else m=a;const _=new Uint32Array(4),g=new Int32Array(4);let y=null,u=null;const b=[],S=[];this.domElement=t,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.toneMapping=Nd,this.toneMappingExposure=1,this.transmissionResolutionScale=1;const T=this;let R=!1;this._outputColorSpace=Wo;let O=0,C=0,I=null,F=-1,M=null;const D=new Cr,B=new Cr;let j=null;const U=new Zn(0);let V=0,k=t.width,Z=t.height,ee=1,oe=null,ne=null;const ie=new Cr(0,0,k,Z),he=new Cr(0,0,k,Z);let fe=!1;const ce=new hy;let ae=!1,ve=!1;const _e=new ri,Te=new ri,Fe=new Oe,We=new Cr,ht={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};let ft=!1;function Bt(){return I===null?ee:1}let Me=i;function yt(be,Ge){return t.getContext(be,Ge)}try{const be={alpha:!0,depth:r,stencil:s,antialias:o,premultipliedAlpha:l,preserveDrawingBuffer:c,powerPreference:f,failIfMajorPerformanceCaveat:h};if("setAttribute"in t&&t.setAttribute("data-engine",`three.js r${N1}`),t.addEventListener("webglcontextlost",Sn,!1),t.addEventListener("webglcontextrestored",qt,!1),t.addEventListener("webglcontextcreationerror",wt,!1),Me===null){const Ge="webgl2";if(Me=yt(Ge,be),Me===null)throw yt(Ge)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}}catch(be){throw console.error("THREE.WebGLRenderer: "+be.message),be}let mt,St,nt,Ft,qe,Ke,Et,ye,me,Le,it,Qe,et,At,Gt,on,fn,xt,kt,Xt,Ve,lt,Qt,Ye;function ct(){mt=new qK(Me),mt.init(),lt=new UB(Me,mt),St=new GK(Me,mt,e,lt),nt=new MQ(Me,mt),St.reverseDepthBuffer&&v&&nt.buffers.depth.setReversed(!0),Ft=new ZK(Me),qe=new mQ,Ke=new RQ(Me,mt,nt,qe,St,lt,Ft),Et=new $K(T),ye=new XK(T),me=new iq(Me),Qt=new BK(Me,me),Le=new YK(Me,me,Ft,Qt),it=new JK(Me,Le,me,Ft),kt=new QK(Me,St,Ke),on=new HK(qe),Qe=new pQ(T,Et,ye,mt,St,Qt,on),et=new NQ(T,qe),At=new vQ,Gt=new wQ(mt),xt=new kK(T,Et,ye,nt,it,m,l),fn=new TQ(T,it,St),Ye=new FQ(Me,Ft,St,nt),Xt=new zK(Me,mt,Ft),Ve=new KK(Me,mt,Ft),Ft.programs=Qe.programs,T.capabilities=St,T.extensions=mt,T.properties=qe,T.renderLists=At,T.shadowMap=fn,T.state=nt,T.info=Ft}ct();const Dt=new IQ(T,Me);this.xr=Dt,this.getContext=function(){return Me},this.getContextAttributes=function(){return Me.getContextAttributes()},this.forceContextLoss=function(){const be=mt.get("WEBGL_lose_context");be&&be.loseContext()},this.forceContextRestore=function(){const be=mt.get("WEBGL_lose_context");be&&be.restoreContext()},this.getPixelRatio=function(){return ee},this.setPixelRatio=function(be){be!==void 0&&(ee=be,this.setSize(k,Z,!1))},this.getSize=function(be){return be.set(k,Z)},this.setSize=function(be,Ge,Ze=!0){if(Dt.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}k=be,Z=Ge,t.width=Math.floor(be*ee),t.height=Math.floor(Ge*ee),Ze===!0&&(t.style.width=be+"px",t.style.height=Ge+"px"),this.setViewport(0,0,be,Ge)},this.getDrawingBufferSize=function(be){return be.set(k*ee,Z*ee).floor()},this.setDrawingBufferSize=function(be,Ge,Ze){k=be,Z=Ge,ee=Ze,t.width=Math.floor(be*Ze),t.height=Math.floor(Ge*Ze),this.setViewport(0,0,be,Ge)},this.getCurrentViewport=function(be){return be.copy(D)},this.getViewport=function(be){return be.copy(ie)},this.setViewport=function(be,Ge,Ze,Be){be.isVector4?ie.set(be.x,be.y,be.z,be.w):ie.set(be,Ge,Ze,Be),nt.viewport(D.copy(ie).multiplyScalar(ee).round())},this.getScissor=function(be){return be.copy(he)},this.setScissor=function(be,Ge,Ze,Be){be.isVector4?he.set(be.x,be.y,be.z,be.w):he.set(be,Ge,Ze,Be),nt.scissor(B.copy(he).multiplyScalar(ee).round())},this.getScissorTest=function(){return fe},this.setScissorTest=function(be){nt.setScissorTest(fe=be)},this.setOpaqueSort=function(be){oe=be},this.setTransparentSort=function(be){ne=be},this.getClearColor=function(be){return be.copy(xt.getClearColor())},this.setClearColor=function(){xt.setClearColor(...arguments)},this.getClearAlpha=function(){return xt.getClearAlpha()},this.setClearAlpha=function(){xt.setClearAlpha(...arguments)},this.clear=function(be=!0,Ge=!0,Ze=!0){let Be=0;if(be){let ut=!1;if(I!==null){const Ct=I.texture.format;ut=Ct===GE||Ct===zE||Ct===B1}if(ut){const Ct=I.texture.type,Pt=Ct===wc||Ct===kd||Ct===V0||Ct===W0||Ct===kE||Ct===BE,en=xt.getClearColor(),un=xt.getClearAlpha(),In=en.r,Ln=en.g,vn=en.b;Pt?(_[0]=In,_[1]=Ln,_[2]=vn,_[3]=un,Me.clearBufferuiv(Me.COLOR,0,_)):(g[0]=In,g[1]=Ln,g[2]=vn,g[3]=un,Me.clearBufferiv(Me.COLOR,0,g))}else Be|=Me.COLOR_BUFFER_BIT}Ge&&(Be|=Me.DEPTH_BUFFER_BIT),Ze&&(Be|=Me.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),Me.clear(Be)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){t.removeEventListener("webglcontextlost",Sn,!1),t.removeEventListener("webglcontextrestored",qt,!1),t.removeEventListener("webglcontextcreationerror",wt,!1),xt.dispose(),At.dispose(),Gt.dispose(),qe.dispose(),Et.dispose(),ye.dispose(),it.dispose(),Qt.dispose(),Ye.dispose(),Qe.dispose(),Dt.dispose(),Dt.removeEventListener("sessionstart",Si),Dt.removeEventListener("sessionend",er),Zi.stop()};function Sn(be){be.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),R=!0}function qt(){console.log("THREE.WebGLRenderer: Context Restored."),R=!1;const be=Ft.autoReset,Ge=fn.enabled,Ze=fn.autoUpdate,Be=fn.needsUpdate,ut=fn.type;ct(),Ft.autoReset=be,fn.enabled=Ge,fn.autoUpdate=Ze,fn.needsUpdate=Be,fn.type=ut}function wt(be){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",be.statusMessage)}function dn(be){const Ge=be.target;Ge.removeEventListener("dispose",dn),wn(Ge)}function wn(be){Pn(be),qe.remove(be)}function Pn(be){const Ge=qe.get(be).programs;Ge!==void 0&&(Ge.forEach(function(Ze){Qe.releaseProgram(Ze)}),be.isShaderMaterial&&Qe.releaseShaderCache(be))}this.renderBufferDirect=function(be,Ge,Ze,Be,ut,Ct){Ge===null&&(Ge=ht);const Pt=ut.isMesh&&ut.matrixWorld.determinant()<0,en=tt(be,Ge,Ze,Be,ut);nt.setMaterial(Be,Pt);let un=Ze.index,In=1;if(Be.wireframe===!0){if(un=Le.getWireframeAttribute(Ze),un===void 0)return;In=2}const Ln=Ze.drawRange,vn=Ze.attributes.position;let Bn=Ln.start*In,Xn=(Ln.start+Ln.count)*In;Ct!==null&&(Bn=Math.max(Bn,Ct.start*In),Xn=Math.min(Xn,(Ct.start+Ct.count)*In)),un!==null?(Bn=Math.max(Bn,0),Xn=Math.min(Xn,un.count)):vn!=null&&(Bn=Math.max(Bn,0),Xn=Math.min(Xn,vn.count));const Di=Xn-Bn;if(Di<0||Di===1/0)return;Qt.setup(ut,Be,en,Ze,un);let Mn,li=Xt;if(un!==null&&(Mn=me.get(un),li=Ve,li.setIndex(Mn)),ut.isMesh)Be.wireframe===!0?(nt.setLineWidth(Be.wireframeLinewidth*Bt()),li.setMode(Me.LINES)):li.setMode(Me.TRIANGLES);else if(ut.isLine){let Q=Be.linewidth;Q===void 0&&(Q=1),nt.setLineWidth(Q*Bt()),ut.isLineSegments?li.setMode(Me.LINES):ut.isLineLoop?li.setMode(Me.LINE_LOOP):li.setMode(Me.LINE_STRIP)}else ut.isPoints?li.setMode(Me.POINTS):ut.isSprite&&li.setMode(Me.TRIANGLES);if(ut.isBatchedMesh)if(ut._multiDrawInstances!==null)D0("THREE.WebGLRenderer: renderMultiDrawInstances has been deprecated and will be removed in r184. Append to renderMultiDraw arguments and use indirection."),li.renderMultiDrawInstances(ut._multiDrawStarts,ut._multiDrawCounts,ut._multiDrawCount,ut._multiDrawInstances);else if(mt.get("WEBGL_multi_draw"))li.renderMultiDraw(ut._multiDrawStarts,ut._multiDrawCounts,ut._multiDrawCount);else{const Q=ut._multiDrawStarts,Ni=ut._multiDrawCounts,Kn=ut._multiDrawCount,ci=un?me.get(un).bytesPerElement:1,_t=qe.get(Be).currentProgram.getUniforms();for(let ot=0;ot<Kn;ot++)_t.setValue(Me,"_gl_DrawID",ot),li.render(Q[ot]/ci,Ni[ot])}else if(ut.isInstancedMesh)li.renderInstances(Bn,Di,ut.count);else if(Ze.isInstancedBufferGeometry){const Q=Ze._maxInstanceCount!==void 0?Ze._maxInstanceCount:1/0,Ni=Math.min(Ze.instanceCount,Q);li.renderInstances(Bn,Di,Ni)}else li.render(Bn,Di)};function Wn(be,Ge,Ze){be.transparent===!0&&be.side===El&&be.forceSinglePass===!1?(be.side=xc,be.needsUpdate=!0,zi(be,Ge,Ze),be.side=Qf,be.needsUpdate=!0,zi(be,Ge,Ze),be.side=El):zi(be,Ge,Ze)}this.compile=function(be,Ge,Ze=null){Ze===null&&(Ze=be),u=Gt.get(Ze),u.init(Ge),S.push(u),Ze.traverseVisible(function(ut){ut.isLight&&ut.layers.test(Ge.layers)&&(u.pushLight(ut),ut.castShadow&&u.pushShadow(ut))}),be!==Ze&&be.traverseVisible(function(ut){ut.isLight&&ut.layers.test(Ge.layers)&&(u.pushLight(ut),ut.castShadow&&u.pushShadow(ut))}),u.setupLights();const Be=new Set;return be.traverse(function(ut){if(!(ut.isMesh||ut.isPoints||ut.isLine||ut.isSprite))return;const Ct=ut.material;if(Ct)if(Array.isArray(Ct))for(let Pt=0;Pt<Ct.length;Pt++){const en=Ct[Pt];Wn(en,Ze,ut),Be.add(en)}else Wn(Ct,Ze,ut),Be.add(Ct)}),u=S.pop(),Be},this.compileAsync=function(be,Ge,Ze=null){const Be=this.compile(be,Ge,Ze);return new Promise(ut=>{function Ct(){if(Be.forEach(function(Pt){qe.get(Pt).currentProgram.isReady()&&Be.delete(Pt)}),Be.size===0){ut(be);return}setTimeout(Ct,10)}mt.get("KHR_parallel_shader_compile")!==null?Ct():setTimeout(Ct,10)})};let Ii=null;function Ei(be){Ii&&Ii(be)}function Si(){Zi.stop()}function er(){Zi.start()}const Zi=new PB;Zi.setAnimationLoop(Ei),typeof self<"u"&&Zi.setContext(self),this.setAnimationLoop=function(be){Ii=be,Dt.setAnimationLoop(be),be===null?Zi.stop():Zi.start()},Dt.addEventListener("sessionstart",Si),Dt.addEventListener("sessionend",er),this.render=function(be,Ge){if(Ge!==void 0&&Ge.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(R===!0)return;if(be.matrixWorldAutoUpdate===!0&&be.updateMatrixWorld(),Ge.parent===null&&Ge.matrixWorldAutoUpdate===!0&&Ge.updateMatrixWorld(),Dt.enabled===!0&&Dt.isPresenting===!0&&(Dt.cameraAutoUpdate===!0&&Dt.updateCamera(Ge),Ge=Dt.getCamera()),be.isScene===!0&&be.onBeforeRender(T,be,Ge,I),u=Gt.get(be,S.length),u.init(Ge),S.push(u),Te.multiplyMatrices(Ge.projectionMatrix,Ge.matrixWorldInverse),ce.setFromProjectionMatrix(Te),ve=this.localClippingEnabled,ae=on.init(this.clippingPlanes,ve),y=At.get(be,b.length),y.init(),b.push(y),Dt.enabled===!0&&Dt.isPresenting===!0){const Ct=T.xr.getDepthSensingMesh();Ct!==null&&Or(Ct,Ge,-1/0,T.sortObjects)}Or(be,Ge,0,T.sortObjects),y.finish(),T.sortObjects===!0&&y.sort(oe,ne),ft=Dt.enabled===!1||Dt.isPresenting===!1||Dt.hasDepthSensing()===!1,ft&&xt.addToRenderList(y,be),this.info.render.frame++,ae===!0&&on.beginShadows();const Ze=u.state.shadowsArray;fn.render(Ze,be,Ge),ae===!0&&on.endShadows(),this.info.autoReset===!0&&this.info.reset();const Be=y.opaque,ut=y.transmissive;if(u.setupLights(),Ge.isArrayCamera){const Ct=Ge.cameras;if(ut.length>0)for(let Pt=0,en=Ct.length;Pt<en;Pt++){const un=Ct[Pt];jr(Be,ut,be,un)}ft&&xt.render(be);for(let Pt=0,en=Ct.length;Pt<en;Pt++){const un=Ct[Pt];Wr(y,be,un,un.viewport)}}else ut.length>0&&jr(Be,ut,be,Ge),ft&&xt.render(be),Wr(y,be,Ge);I!==null&&C===0&&(Ke.updateMultisampleRenderTarget(I),Ke.updateRenderTargetMipmap(I)),be.isScene===!0&&be.onAfterRender(T,be,Ge),Qt.resetDefaultState(),F=-1,M=null,S.pop(),S.length>0?(u=S[S.length-1],ae===!0&&on.setGlobalState(T.clippingPlanes,u.state.camera)):u=null,b.pop(),b.length>0?y=b[b.length-1]:y=null};function Or(be,Ge,Ze,Be){if(be.visible===!1)return;if(be.layers.test(Ge.layers)){if(be.isGroup)Ze=be.renderOrder;else if(be.isLOD)be.autoUpdate===!0&&be.update(Ge);else if(be.isLight)u.pushLight(be),be.castShadow&&u.pushShadow(be);else if(be.isSprite){if(!be.frustumCulled||ce.intersectsSprite(be)){Be&&We.setFromMatrixPosition(be.matrixWorld).applyMatrix4(Te);const Pt=it.update(be),en=be.material;en.visible&&y.push(be,Pt,en,Ze,We.z,null)}}else if((be.isMesh||be.isLine||be.isPoints)&&(!be.frustumCulled||ce.intersectsObject(be))){const Pt=it.update(be),en=be.material;if(Be&&(be.boundingSphere!==void 0?(be.boundingSphere===null&&be.computeBoundingSphere(),We.copy(be.boundingSphere.center)):(Pt.boundingSphere===null&&Pt.computeBoundingSphere(),We.copy(Pt.boundingSphere.center)),We.applyMatrix4(be.matrixWorld).applyMatrix4(Te)),Array.isArray(en)){const un=Pt.groups;for(let In=0,Ln=un.length;In<Ln;In++){const vn=un[In],Bn=en[vn.materialIndex];Bn&&Bn.visible&&y.push(be,Pt,Bn,Ze,We.z,vn)}}else en.visible&&y.push(be,Pt,en,Ze,We.z,null)}}const Ct=be.children;for(let Pt=0,en=Ct.length;Pt<en;Pt++)Or(Ct[Pt],Ge,Ze,Be)}function Wr(be,Ge,Ze,Be){const ut=be.opaque,Ct=be.transmissive,Pt=be.transparent;u.setupLightsView(Ze),ae===!0&&on.setGlobalState(T.clippingPlanes,Ze),Be&&nt.viewport(D.copy(Be)),ut.length>0&&ti(ut,Ge,Ze),Ct.length>0&&ti(Ct,Ge,Ze),Pt.length>0&&ti(Pt,Ge,Ze),nt.buffers.depth.setTest(!0),nt.buffers.depth.setMask(!0),nt.buffers.color.setMask(!0),nt.setPolygonOffset(!1)}function jr(be,Ge,Ze,Be){if((Ze.isScene===!0?Ze.overrideMaterial:null)!==null)return;u.state.transmissionRenderTarget[Be.id]===void 0&&(u.state.transmissionRenderTarget[Be.id]=new xu(1,1,{generateMipmaps:!0,type:mt.has("EXT_color_buffer_half_float")||mt.has("EXT_color_buffer_float")?Xo:wc,minFilter:Ld,samples:4,stencilBuffer:s,resolveDepthBuffer:!1,resolveStencilBuffer:!1,colorSpace:Jr.workingColorSpace}));const Ct=u.state.transmissionRenderTarget[Be.id],Pt=Be.viewport||D;Ct.setSize(Pt.z*T.transmissionResolutionScale,Pt.w*T.transmissionResolutionScale);const en=T.getRenderTarget(),un=T.getActiveCubeFace(),In=T.getActiveMipmapLevel();T.setRenderTarget(Ct),T.getClearColor(U),V=T.getClearAlpha(),V<1&&T.setClearColor(16777215,.5),T.clear(),ft&&xt.render(Ze);const Ln=T.toneMapping;T.toneMapping=Nd;const vn=Be.viewport;if(Be.viewport!==void 0&&(Be.viewport=void 0),u.setupLightsView(Be),ae===!0&&on.setGlobalState(T.clippingPlanes,Be),ti(be,Ze,Be),Ke.updateMultisampleRenderTarget(Ct),Ke.updateRenderTargetMipmap(Ct),mt.has("WEBGL_multisampled_render_to_texture")===!1){let Bn=!1;for(let Xn=0,Di=Ge.length;Xn<Di;Xn++){const Mn=Ge[Xn],li=Mn.object,Q=Mn.geometry,Ni=Mn.material,Kn=Mn.group;if(Ni.side===El&&li.layers.test(Be.layers)){const ci=Ni.side;Ni.side=xc,Ni.needsUpdate=!0,rr(li,Ze,Be,Q,Ni,Kn),Ni.side=ci,Ni.needsUpdate=!0,Bn=!0}}Bn===!0&&(Ke.updateMultisampleRenderTarget(Ct),Ke.updateRenderTargetMipmap(Ct))}T.setRenderTarget(en,un,In),T.setClearColor(U,V),vn!==void 0&&(Be.viewport=vn),T.toneMapping=Ln}function ti(be,Ge,Ze){const Be=Ge.isScene===!0?Ge.overrideMaterial:null;for(let ut=0,Ct=be.length;ut<Ct;ut++){const Pt=be[ut],en=Pt.object,un=Pt.geometry,In=Pt.group;let Ln=Pt.material;Ln.allowOverride===!0&&Be!==null&&(Ln=Be),en.layers.test(Ze.layers)&&rr(en,Ge,Ze,un,Ln,In)}}function rr(be,Ge,Ze,Be,ut,Ct){be.onBeforeRender(T,Ge,Ze,Be,ut,Ct),be.modelViewMatrix.multiplyMatrices(Ze.matrixWorldInverse,be.matrixWorld),be.normalMatrix.getNormalMatrix(be.modelViewMatrix),ut.onBeforeRender(T,Ge,Ze,Be,be,Ct),ut.transparent===!0&&ut.side===El&&ut.forceSinglePass===!1?(ut.side=xc,ut.needsUpdate=!0,T.renderBufferDirect(Ze,Ge,Be,ut,be,Ct),ut.side=Qf,ut.needsUpdate=!0,T.renderBufferDirect(Ze,Ge,Be,ut,be,Ct),ut.side=El):T.renderBufferDirect(Ze,Ge,Be,ut,be,Ct),be.onAfterRender(T,Ge,Ze,Be,ut,Ct)}function zi(be,Ge,Ze){Ge.isScene!==!0&&(Ge=ht);const Be=qe.get(be),ut=u.state.lights,Ct=u.state.shadowsArray,Pt=ut.state.version,en=Qe.getParameters(be,ut.state,Ct,Ge,Ze),un=Qe.getProgramCacheKey(en);let In=Be.programs;Be.environment=be.isMeshStandardMaterial?Ge.environment:null,Be.fog=Ge.fog,Be.envMap=(be.isMeshStandardMaterial?ye:Et).get(be.envMap||Be.environment),Be.envMapRotation=Be.environment!==null&&be.envMap===null?Ge.environmentRotation:be.envMapRotation,In===void 0&&(be.addEventListener("dispose",dn),In=new Map,Be.programs=In);let Ln=In.get(un);if(Ln!==void 0){if(Be.currentProgram===Ln&&Be.lightsStateVersion===Pt)return Ie(be,en),Ln}else en.uniforms=Qe.getUniforms(be),be.onBeforeCompile(en,T),Ln=Qe.acquireProgram(en,un),In.set(un,Ln),Be.uniforms=en.uniforms;const vn=Be.uniforms;return(!be.isShaderMaterial&&!be.isRawShaderMaterial||be.clipping===!0)&&(vn.clippingPlanes=on.uniform),Ie(be,en),Be.needsLights=Ot(be),Be.lightsStateVersion=Pt,Be.needsLights&&(vn.ambientLightColor.value=ut.state.ambient,vn.lightProbe.value=ut.state.probe,vn.directionalLights.value=ut.state.directional,vn.directionalLightShadows.value=ut.state.directionalShadow,vn.spotLights.value=ut.state.spot,vn.spotLightShadows.value=ut.state.spotShadow,vn.rectAreaLights.value=ut.state.rectArea,vn.ltc_1.value=ut.state.rectAreaLTC1,vn.ltc_2.value=ut.state.rectAreaLTC2,vn.pointLights.value=ut.state.point,vn.pointLightShadows.value=ut.state.pointShadow,vn.hemisphereLights.value=ut.state.hemi,vn.directionalShadowMap.value=ut.state.directionalShadowMap,vn.directionalShadowMatrix.value=ut.state.directionalShadowMatrix,vn.spotShadowMap.value=ut.state.spotShadowMap,vn.spotLightMatrix.value=ut.state.spotLightMatrix,vn.spotLightMap.value=ut.state.spotLightMap,vn.pointShadowMap.value=ut.state.pointShadowMap,vn.pointShadowMatrix.value=ut.state.pointShadowMatrix),Be.currentProgram=Ln,Be.uniformsList=null,Ln}function we(be){if(be.uniformsList===null){const Ge=be.currentProgram.getUniforms();be.uniformsList=zS.seqWithValue(Ge.seq,be.uniforms)}return be.uniformsList}function Ie(be,Ge){const Ze=qe.get(be);Ze.outputColorSpace=Ge.outputColorSpace,Ze.batching=Ge.batching,Ze.batchingColor=Ge.batchingColor,Ze.instancing=Ge.instancing,Ze.instancingColor=Ge.instancingColor,Ze.instancingMorph=Ge.instancingMorph,Ze.skinning=Ge.skinning,Ze.morphTargets=Ge.morphTargets,Ze.morphNormals=Ge.morphNormals,Ze.morphColors=Ge.morphColors,Ze.morphTargetsCount=Ge.morphTargetsCount,Ze.numClippingPlanes=Ge.numClippingPlanes,Ze.numIntersection=Ge.numClipIntersection,Ze.vertexAlphas=Ge.vertexAlphas,Ze.vertexTangents=Ge.vertexTangents,Ze.toneMapping=Ge.toneMapping}function tt(be,Ge,Ze,Be,ut){Ge.isScene!==!0&&(Ge=ht),Ke.resetTextureUnits();const Ct=Ge.fog,Pt=Be.isMeshStandardMaterial?Ge.environment:null,en=I===null?T.outputColorSpace:I.isXRRenderTarget===!0?I.texture.colorSpace:jh,un=(Be.isMeshStandardMaterial?ye:Et).get(Be.envMap||Pt),In=Be.vertexColors===!0&&!!Ze.attributes.color&&Ze.attributes.color.itemSize===4,Ln=!!Ze.attributes.tangent&&(!!Be.normalMap||Be.anisotropy>0),vn=!!Ze.morphAttributes.position,Bn=!!Ze.morphAttributes.normal,Xn=!!Ze.morphAttributes.color;let Di=Nd;Be.toneMapped&&(I===null||I.isXRRenderTarget===!0)&&(Di=T.toneMapping);const Mn=Ze.morphAttributes.position||Ze.morphAttributes.normal||Ze.morphAttributes.color,li=Mn!==void 0?Mn.length:0,Q=qe.get(Be),Ni=u.state.lights;if(ae===!0&&(ve===!0||be!==M)){const Wi=be===M&&Be.id===F;on.setState(Be,be,Wi)}let Kn=!1;Be.version===Q.__version?(Q.needsLights&&Q.lightsStateVersion!==Ni.state.version||Q.outputColorSpace!==en||ut.isBatchedMesh&&Q.batching===!1||!ut.isBatchedMesh&&Q.batching===!0||ut.isBatchedMesh&&Q.batchingColor===!0&&ut.colorTexture===null||ut.isBatchedMesh&&Q.batchingColor===!1&&ut.colorTexture!==null||ut.isInstancedMesh&&Q.instancing===!1||!ut.isInstancedMesh&&Q.instancing===!0||ut.isSkinnedMesh&&Q.skinning===!1||!ut.isSkinnedMesh&&Q.skinning===!0||ut.isInstancedMesh&&Q.instancingColor===!0&&ut.instanceColor===null||ut.isInstancedMesh&&Q.instancingColor===!1&&ut.instanceColor!==null||ut.isInstancedMesh&&Q.instancingMorph===!0&&ut.morphTexture===null||ut.isInstancedMesh&&Q.instancingMorph===!1&&ut.morphTexture!==null||Q.envMap!==un||Be.fog===!0&&Q.fog!==Ct||Q.numClippingPlanes!==void 0&&(Q.numClippingPlanes!==on.numPlanes||Q.numIntersection!==on.numIntersection)||Q.vertexAlphas!==In||Q.vertexTangents!==Ln||Q.morphTargets!==vn||Q.morphNormals!==Bn||Q.morphColors!==Xn||Q.toneMapping!==Di||Q.morphTargetsCount!==li)&&(Kn=!0):(Kn=!0,Q.__version=Be.version);let ci=Q.currentProgram;Kn===!0&&(ci=zi(Be,Ge,ut));let _t=!1,ot=!1,Cn=!1;const Qn=ci.getUniforms(),gi=Q.uniforms;if(nt.useProgram(ci.program)&&(_t=!0,ot=!0,Cn=!0),Be.id!==F&&(F=Be.id,ot=!0),_t||M!==be){nt.buffers.depth.getReversed()?(_e.copy(be.projectionMatrix),IW(_e),DW(_e),Qn.setValue(Me,"projectionMatrix",_e)):Qn.setValue(Me,"projectionMatrix",be.projectionMatrix),Qn.setValue(Me,"viewMatrix",be.matrixWorldInverse);const Jt=Qn.map.cameraPosition;Jt!==void 0&&Jt.setValue(Me,Fe.setFromMatrixPosition(be.matrixWorld)),St.logarithmicDepthBuffer&&Qn.setValue(Me,"logDepthBufFC",2/(Math.log(be.far+1)/Math.LN2)),(Be.isMeshPhongMaterial||Be.isMeshToonMaterial||Be.isMeshLambertMaterial||Be.isMeshBasicMaterial||Be.isMeshStandardMaterial||Be.isShaderMaterial)&&Qn.setValue(Me,"isOrthographic",be.isOrthographicCamera===!0),M!==be&&(M=be,ot=!0,Cn=!0)}if(ut.isSkinnedMesh){Qn.setOptional(Me,ut,"bindMatrix"),Qn.setOptional(Me,ut,"bindMatrixInverse");const Wi=ut.skeleton;Wi&&(Wi.boneTexture===null&&Wi.computeBoneTexture(),Qn.setValue(Me,"boneTexture",Wi.boneTexture,Ke))}ut.isBatchedMesh&&(Qn.setOptional(Me,ut,"batchingTexture"),Qn.setValue(Me,"batchingTexture",ut._matricesTexture,Ke),Qn.setOptional(Me,ut,"batchingIdTexture"),Qn.setValue(Me,"batchingIdTexture",ut._indirectTexture,Ke),Qn.setOptional(Me,ut,"batchingColorTexture"),ut._colorsTexture!==null&&Qn.setValue(Me,"batchingColorTexture",ut._colorsTexture,Ke));const zn=Ze.morphAttributes;if((zn.position!==void 0||zn.normal!==void 0||zn.color!==void 0)&&kt.update(ut,Ze,ci),(ot||Q.receiveShadow!==ut.receiveShadow)&&(Q.receiveShadow=ut.receiveShadow,Qn.setValue(Me,"receiveShadow",ut.receiveShadow)),Be.isMeshGouraudMaterial&&Be.envMap!==null&&(gi.envMap.value=un,gi.flipEnvMap.value=un.isCubeTexture&&un.isRenderTargetTexture===!1?-1:1),Be.isMeshStandardMaterial&&Be.envMap===null&&Ge.environment!==null&&(gi.envMapIntensity.value=Ge.environmentIntensity),ot&&(Qn.setValue(Me,"toneMappingExposure",T.toneMappingExposure),Q.needsLights&&Rt(gi,Cn),Ct&&Be.fog===!0&&et.refreshFogUniforms(gi,Ct),et.refreshMaterialUniforms(gi,Be,ee,Z,u.state.transmissionRenderTarget[be.id]),zS.upload(Me,we(Q),gi,Ke)),Be.isShaderMaterial&&Be.uniformsNeedUpdate===!0&&(zS.upload(Me,we(Q),gi,Ke),Be.uniformsNeedUpdate=!1),Be.isSpriteMaterial&&Qn.setValue(Me,"center",ut.center),Qn.setValue(Me,"modelViewMatrix",ut.modelViewMatrix),Qn.setValue(Me,"normalMatrix",ut.normalMatrix),Qn.setValue(Me,"modelMatrix",ut.matrixWorld),Be.isShaderMaterial||Be.isRawShaderMaterial){const Wi=Be.uniformsGroups;for(let Jt=0,es=Wi.length;Jt<es;Jt++){const xs=Wi[Jt];Ye.update(xs,ci),Ye.bind(xs,ci)}}return ci}function Rt(be,Ge){be.ambientLightColor.needsUpdate=Ge,be.lightProbe.needsUpdate=Ge,be.directionalLights.needsUpdate=Ge,be.directionalLightShadows.needsUpdate=Ge,be.pointLights.needsUpdate=Ge,be.pointLightShadows.needsUpdate=Ge,be.spotLights.needsUpdate=Ge,be.spotLightShadows.needsUpdate=Ge,be.rectAreaLights.needsUpdate=Ge,be.hemisphereLights.needsUpdate=Ge}function Ot(be){return be.isMeshLambertMaterial||be.isMeshToonMaterial||be.isMeshPhongMaterial||be.isMeshStandardMaterial||be.isShadowMaterial||be.isShaderMaterial&&be.lights===!0}this.getActiveCubeFace=function(){return O},this.getActiveMipmapLevel=function(){return C},this.getRenderTarget=function(){return I},this.setRenderTargetTextures=function(be,Ge,Ze){const Be=qe.get(be);Be.__autoAllocateDepthBuffer=be.resolveDepthBuffer===!1,Be.__autoAllocateDepthBuffer===!1&&(Be.__useRenderToTexture=!1),qe.get(be.texture).__webglTexture=Ge,qe.get(be.depthTexture).__webglTexture=Be.__autoAllocateDepthBuffer?void 0:Ze,Be.__hasExternalTextures=!0},this.setRenderTargetFramebuffer=function(be,Ge){const Ze=qe.get(be);Ze.__webglFramebuffer=Ge,Ze.__useDefaultFramebuffer=Ge===void 0};const Nt=Me.createFramebuffer();this.setRenderTarget=function(be,Ge=0,Ze=0){I=be,O=Ge,C=Ze;let Be=!0,ut=null,Ct=!1,Pt=!1;if(be){const un=qe.get(be);if(un.__useDefaultFramebuffer!==void 0)nt.bindFramebuffer(Me.FRAMEBUFFER,null),Be=!1;else if(un.__webglFramebuffer===void 0)Ke.setupRenderTarget(be);else if(un.__hasExternalTextures)Ke.rebindTextures(be,qe.get(be.texture).__webglTexture,qe.get(be.depthTexture).__webglTexture);else if(be.depthBuffer){const vn=be.depthTexture;if(un.__boundDepthTexture!==vn){if(vn!==null&&qe.has(vn)&&(be.width!==vn.image.width||be.height!==vn.image.height))throw new Error("WebGLRenderTarget: Attached DepthTexture is initialized to the incorrect size.");Ke.setupDepthRenderbuffer(be)}}const In=be.texture;(In.isData3DTexture||In.isDataArrayTexture||In.isCompressedArrayTexture)&&(Pt=!0);const Ln=qe.get(be).__webglFramebuffer;be.isWebGLCubeRenderTarget?(Array.isArray(Ln[Ge])?ut=Ln[Ge][Ze]:ut=Ln[Ge],Ct=!0):be.samples>0&&Ke.useMultisampledRTT(be)===!1?ut=qe.get(be).__webglMultisampledFramebuffer:Array.isArray(Ln)?ut=Ln[Ze]:ut=Ln,D.copy(be.viewport),B.copy(be.scissor),j=be.scissorTest}else D.copy(ie).multiplyScalar(ee).floor(),B.copy(he).multiplyScalar(ee).floor(),j=fe;if(Ze!==0&&(ut=Nt),nt.bindFramebuffer(Me.FRAMEBUFFER,ut)&&Be&&nt.drawBuffers(be,ut),nt.viewport(D),nt.scissor(B),nt.setScissorTest(j),Ct){const un=qe.get(be.texture);Me.framebufferTexture2D(Me.FRAMEBUFFER,Me.COLOR_ATTACHMENT0,Me.TEXTURE_CUBE_MAP_POSITIVE_X+Ge,un.__webglTexture,Ze)}else if(Pt){const un=qe.get(be.texture),In=Ge;Me.framebufferTextureLayer(Me.FRAMEBUFFER,Me.COLOR_ATTACHMENT0,un.__webglTexture,Ze,In)}else if(be!==null&&Ze!==0){const un=qe.get(be.texture);Me.framebufferTexture2D(Me.FRAMEBUFFER,Me.COLOR_ATTACHMENT0,Me.TEXTURE_2D,un.__webglTexture,Ze)}F=-1},this.readRenderTargetPixels=function(be,Ge,Ze,Be,ut,Ct,Pt,en=0){if(!(be&&be.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let un=qe.get(be).__webglFramebuffer;if(be.isWebGLCubeRenderTarget&&Pt!==void 0&&(un=un[Pt]),un){nt.bindFramebuffer(Me.FRAMEBUFFER,un);try{const In=be.textures[en],Ln=In.format,vn=In.type;if(!St.textureFormatReadable(Ln)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}if(!St.textureTypeReadable(vn)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}Ge>=0&&Ge<=be.width-Be&&Ze>=0&&Ze<=be.height-ut&&(be.textures.length>1&&Me.readBuffer(Me.COLOR_ATTACHMENT0+en),Me.readPixels(Ge,Ze,Be,ut,lt.convert(Ln),lt.convert(vn),Ct))}finally{const In=I!==null?qe.get(I).__webglFramebuffer:null;nt.bindFramebuffer(Me.FRAMEBUFFER,In)}}},this.readRenderTargetPixelsAsync=async function(be,Ge,Ze,Be,ut,Ct,Pt,en=0){if(!(be&&be.isWebGLRenderTarget))throw new Error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let un=qe.get(be).__webglFramebuffer;if(be.isWebGLCubeRenderTarget&&Pt!==void 0&&(un=un[Pt]),un)if(Ge>=0&&Ge<=be.width-Be&&Ze>=0&&Ze<=be.height-ut){nt.bindFramebuffer(Me.FRAMEBUFFER,un);const In=be.textures[en],Ln=In.format,vn=In.type;if(!St.textureFormatReadable(Ln))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in RGBA or implementation defined format.");if(!St.textureTypeReadable(vn))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in UnsignedByteType or implementation defined type.");const Bn=Me.createBuffer();Me.bindBuffer(Me.PIXEL_PACK_BUFFER,Bn),Me.bufferData(Me.PIXEL_PACK_BUFFER,Ct.byteLength,Me.STREAM_READ),be.textures.length>1&&Me.readBuffer(Me.COLOR_ATTACHMENT0+en),Me.readPixels(Ge,Ze,Be,ut,lt.convert(Ln),lt.convert(vn),0);const Xn=I!==null?qe.get(I).__webglFramebuffer:null;nt.bindFramebuffer(Me.FRAMEBUFFER,Xn);const Di=Me.fenceSync(Me.SYNC_GPU_COMMANDS_COMPLETE,0);return Me.flush(),await PW(Me,Di,4),Me.bindBuffer(Me.PIXEL_PACK_BUFFER,Bn),Me.getBufferSubData(Me.PIXEL_PACK_BUFFER,0,Ct),Me.deleteBuffer(Bn),Me.deleteSync(Di),Ct}else throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: requested read bounds are out of range.")},this.copyFramebufferToTexture=function(be,Ge=null,Ze=0){const Be=Math.pow(2,-Ze),ut=Math.floor(be.image.width*Be),Ct=Math.floor(be.image.height*Be),Pt=Ge!==null?Ge.x:0,en=Ge!==null?Ge.y:0;Ke.setTexture2D(be,0),Me.copyTexSubImage2D(Me.TEXTURE_2D,Ze,0,0,Pt,en,ut,Ct),nt.unbindTexture()};const gn=Me.createFramebuffer(),nn=Me.createFramebuffer();this.copyTextureToTexture=function(be,Ge,Ze=null,Be=null,ut=0,Ct=null){Ct===null&&(ut!==0?(D0("WebGLRenderer: copyTextureToTexture function signature has changed to support src and dst mipmap levels."),Ct=ut,ut=0):Ct=0);let Pt,en,un,In,Ln,vn,Bn,Xn,Di;const Mn=be.isCompressedTexture?be.mipmaps[Ct]:be.image;if(Ze!==null)Pt=Ze.max.x-Ze.min.x,en=Ze.max.y-Ze.min.y,un=Ze.isBox3?Ze.max.z-Ze.min.z:1,In=Ze.min.x,Ln=Ze.min.y,vn=Ze.isBox3?Ze.min.z:0;else{const zn=Math.pow(2,-ut);Pt=Math.floor(Mn.width*zn),en=Math.floor(Mn.height*zn),be.isDataArrayTexture?un=Mn.depth:be.isData3DTexture?un=Math.floor(Mn.depth*zn):un=1,In=0,Ln=0,vn=0}Be!==null?(Bn=Be.x,Xn=Be.y,Di=Be.z):(Bn=0,Xn=0,Di=0);const li=lt.convert(Ge.format),Q=lt.convert(Ge.type);let Ni;Ge.isData3DTexture?(Ke.setTexture3D(Ge,0),Ni=Me.TEXTURE_3D):Ge.isDataArrayTexture||Ge.isCompressedArrayTexture?(Ke.setTexture2DArray(Ge,0),Ni=Me.TEXTURE_2D_ARRAY):(Ke.setTexture2D(Ge,0),Ni=Me.TEXTURE_2D),Me.pixelStorei(Me.UNPACK_FLIP_Y_WEBGL,Ge.flipY),Me.pixelStorei(Me.UNPACK_PREMULTIPLY_ALPHA_WEBGL,Ge.premultiplyAlpha),Me.pixelStorei(Me.UNPACK_ALIGNMENT,Ge.unpackAlignment);const Kn=Me.getParameter(Me.UNPACK_ROW_LENGTH),ci=Me.getParameter(Me.UNPACK_IMAGE_HEIGHT),_t=Me.getParameter(Me.UNPACK_SKIP_PIXELS),ot=Me.getParameter(Me.UNPACK_SKIP_ROWS),Cn=Me.getParameter(Me.UNPACK_SKIP_IMAGES);Me.pixelStorei(Me.UNPACK_ROW_LENGTH,Mn.width),Me.pixelStorei(Me.UNPACK_IMAGE_HEIGHT,Mn.height),Me.pixelStorei(Me.UNPACK_SKIP_PIXELS,In),Me.pixelStorei(Me.UNPACK_SKIP_ROWS,Ln),Me.pixelStorei(Me.UNPACK_SKIP_IMAGES,vn);const Qn=be.isDataArrayTexture||be.isData3DTexture,gi=Ge.isDataArrayTexture||Ge.isData3DTexture;if(be.isDepthTexture){const zn=qe.get(be),Wi=qe.get(Ge),Jt=qe.get(zn.__renderTarget),es=qe.get(Wi.__renderTarget);nt.bindFramebuffer(Me.READ_FRAMEBUFFER,Jt.__webglFramebuffer),nt.bindFramebuffer(Me.DRAW_FRAMEBUFFER,es.__webglFramebuffer);for(let xs=0;xs<un;xs++)Qn&&(Me.framebufferTextureLayer(Me.READ_FRAMEBUFFER,Me.COLOR_ATTACHMENT0,qe.get(be).__webglTexture,ut,vn+xs),Me.framebufferTextureLayer(Me.DRAW_FRAMEBUFFER,Me.COLOR_ATTACHMENT0,qe.get(Ge).__webglTexture,Ct,Di+xs)),Me.blitFramebuffer(In,Ln,Pt,en,Bn,Xn,Pt,en,Me.DEPTH_BUFFER_BIT,Me.NEAREST);nt.bindFramebuffer(Me.READ_FRAMEBUFFER,null),nt.bindFramebuffer(Me.DRAW_FRAMEBUFFER,null)}else if(ut!==0||be.isRenderTargetTexture||qe.has(be)){const zn=qe.get(be),Wi=qe.get(Ge);nt.bindFramebuffer(Me.READ_FRAMEBUFFER,gn),nt.bindFramebuffer(Me.DRAW_FRAMEBUFFER,nn);for(let Jt=0;Jt<un;Jt++)Qn?Me.framebufferTextureLayer(Me.READ_FRAMEBUFFER,Me.COLOR_ATTACHMENT0,zn.__webglTexture,ut,vn+Jt):Me.framebufferTexture2D(Me.READ_FRAMEBUFFER,Me.COLOR_ATTACHMENT0,Me.TEXTURE_2D,zn.__webglTexture,ut),gi?Me.framebufferTextureLayer(Me.DRAW_FRAMEBUFFER,Me.COLOR_ATTACHMENT0,Wi.__webglTexture,Ct,Di+Jt):Me.framebufferTexture2D(Me.DRAW_FRAMEBUFFER,Me.COLOR_ATTACHMENT0,Me.TEXTURE_2D,Wi.__webglTexture,Ct),ut!==0?Me.blitFramebuffer(In,Ln,Pt,en,Bn,Xn,Pt,en,Me.COLOR_BUFFER_BIT,Me.NEAREST):gi?Me.copyTexSubImage3D(Ni,Ct,Bn,Xn,Di+Jt,In,Ln,Pt,en):Me.copyTexSubImage2D(Ni,Ct,Bn,Xn,In,Ln,Pt,en);nt.bindFramebuffer(Me.READ_FRAMEBUFFER,null),nt.bindFramebuffer(Me.DRAW_FRAMEBUFFER,null)}else gi?be.isDataTexture||be.isData3DTexture?Me.texSubImage3D(Ni,Ct,Bn,Xn,Di,Pt,en,un,li,Q,Mn.data):Ge.isCompressedArrayTexture?Me.compressedTexSubImage3D(Ni,Ct,Bn,Xn,Di,Pt,en,un,li,Mn.data):Me.texSubImage3D(Ni,Ct,Bn,Xn,Di,Pt,en,un,li,Q,Mn):be.isDataTexture?Me.texSubImage2D(Me.TEXTURE_2D,Ct,Bn,Xn,Pt,en,li,Q,Mn.data):be.isCompressedTexture?Me.compressedTexSubImage2D(Me.TEXTURE_2D,Ct,Bn,Xn,Mn.width,Mn.height,li,Mn.data):Me.texSubImage2D(Me.TEXTURE_2D,Ct,Bn,Xn,Pt,en,li,Q,Mn);Me.pixelStorei(Me.UNPACK_ROW_LENGTH,Kn),Me.pixelStorei(Me.UNPACK_IMAGE_HEIGHT,ci),Me.pixelStorei(Me.UNPACK_SKIP_PIXELS,_t),Me.pixelStorei(Me.UNPACK_SKIP_ROWS,ot),Me.pixelStorei(Me.UNPACK_SKIP_IMAGES,Cn),Ct===0&&Ge.generateMipmaps&&Me.generateMipmap(Ni),nt.unbindTexture()},this.copyTextureToTexture3D=function(be,Ge,Ze=null,Be=null,ut=0){return D0('WebGLRenderer: copyTextureToTexture3D function has been deprecated. Use "copyTextureToTexture" instead.'),this.copyTextureToTexture(be,Ge,Ze,Be,ut)},this.initRenderTarget=function(be){qe.get(be).__webglFramebuffer===void 0&&Ke.setupRenderTarget(be)},this.initTexture=function(be){be.isCubeTexture?Ke.setTextureCube(be,0):be.isData3DTexture?Ke.setTexture3D(be,0):be.isDataArrayTexture||be.isCompressedArrayTexture?Ke.setTexture2DArray(be,0):Ke.setTexture2D(be,0),nt.unbindTexture()},this.resetState=function(){O=0,C=0,I=null,nt.reset(),Qt.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return nh}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(e){this._outputColorSpace=e;const t=this.getContext();t.drawingBufferColorSpace=Jr._getDrawingBufferColorSpace(e),t.unpackColorSpace=Jr._getUnpackColorSpace()}}const UQ=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping:qR,AddEquation:tm,AddOperation:ck,AdditiveAnimationBlendMode:t3,AdditiveBlending:fM,AgXToneMapping:fk,AlphaFormat:ZR,AlwaysCompare:Ak,AlwaysDepth:rw,AlwaysStencilFunc:yM,AmbientLight:_B,AnimationAction:AB,AnimationClip:b1,AnimationLoader:sX,AnimationMixer:LX,AnimationObjectGroup:RX,AnimationUtils:tX,ArcCurve:Vk,ArrayCamera:EB,ArrowHelper:qX,AttachedBindMode:gM,Audio:CB,AudioAnalyser:_X,AudioContext:T3,AudioListener:gX,AudioLoader:fX,AxesHelper:YX,BackSide:xc,BasicDepthPacking:_k,BasicShadowMap:$U,BatchedMesh:Bk,Bone:u3,BooleanKeyframeTrack:nv,Box2:UX,Box3:Wa,Box3Helper:jX,BoxGeometry:tv,BoxHelper:WX,BufferAttribute:qs,BufferGeometry:xr,BufferGeometryLoader:wB,ByteType:FE,Cache:Pd,Camera:WE,CameraHelper:VX,CanvasTexture:Hk,CapsuleGeometry:JE,CatmullRomCurve3:Wk,CineonToneMapping:hk,CircleGeometry:eC,ClampToEdgeWrapping:Do,Clock:A3,Color:Zn,ColorKeyframeTrack:w3,ColorManagement:Jr,CompressedArrayTexture:wj,CompressedCubeTexture:Ej,CompressedTexture:ZE,CompressedTextureLoader:aX,ConeGeometry:$1,ConstantAlphaFactor:ak,ConstantColorFactor:rk,Controls:ZX,CubeCamera:Ik,CubeReflectionMapping:Ud,CubeRefractionMapping:dm,CubeTexture:G1,CubeTextureLoader:pB,CubeUVReflectionMapping:uy,CubicBezierCurve:p3,CubicBezierCurve3:jk,CubicInterpolant:uB,CullFaceBack:dM,CullFaceFront:HU,CullFaceFrontBack:DV,CullFaceNone:GU,Curve:Kh,CurvePath:qk,CustomBlending:VU,CustomToneMapping:dk,CylinderGeometry:H1,Cylindrical:FX,Data3DTexture:VE,DataArrayTexture:$E,DataTexture:Gh,DataTextureLoader:E3,DataUtils:Rg,DecrementStencilOp:XV,DecrementWrapStencilOp:YV,DefaultLoadingManager:fB,DepthFormat:j0,DepthStencilFormat:X0,DepthTexture:QE,DetachedBindMode:mk,DirectionalLight:yB,DirectionalLightHelper:LB,DiscreteInterpolant:hB,DodecahedronGeometry:tC,DoubleSide:El,DstAlphaFactor:JU,DstColorFactor:tk,DynamicCopyUsage:cW,DynamicDrawUsage:kS,DynamicReadUsage:aW,EdgesGeometry:$k,EllipseCurve:nC,EqualCompare:wk,EqualDepth:aw,EqualStencilFunc:JV,EquirectangularReflectionMapping:$0,EquirectangularRefractionMapping:s1,Euler:Su,EventDispatcher:jd,ExtrudeGeometry:iC,FileLoader:bu,Float16BufferAttribute:tj,Float32BufferAttribute:mi,FloatType:Oa,Fog:XE,FogExp2:jE,FramebufferTexture:Sj,FrontSide:Qf,Frustum:hy,FrustumArray:KE,GLBufferAttribute:NX,GLSL1:hW,GLSL3:_M,GreaterCompare:Ek,GreaterDepth:lw,GreaterEqualCompare:Tk,GreaterEqualDepth:ow,GreaterEqualStencilFunc:iW,GreaterStencilFunc:tW,GridHelper:HX,Group:E0,HalfFloatType:Xo,HemisphereLight:mB,HemisphereLightHelper:GX,IcosahedronGeometry:V1,ImageBitmapLoader:dX,ImageLoader:x1,ImageUtils:Ok,IncrementStencilOp:jV,IncrementWrapStencilOp:qV,InstancedBufferAttribute:jg,InstancedBufferGeometry:gC,InstancedInterleavedBuffer:Gw,InstancedMesh:kk,Int16BufferAttribute:JW,Int32BufferAttribute:ej,Int8BufferAttribute:KW,IntType:U1,InterleavedBuffer:qE,InterleavedBufferAttribute:gu,Interpolant:X1,InterpolateDiscrete:l1,InterpolateLinear:Fw,InterpolateSmooth:US,InterpolationSamplingMode:pW,InterpolationSamplingType:fW,InvertStencilOp:KV,KeepStencilOp:bg,KeyframeTrack:lh,LOD:Fk,LatheGeometry:rC,Layers:Y0,LessCompare:Sk,LessDepth:sw,LessEqualCompare:i3,LessEqualDepth:Wg,LessEqualStencilFunc:eW,LessStencilFunc:QV,Light:xm,LightProbe:SB,Line:pm,Line3:MB,LineBasicMaterial:Tc,LineCurve:m3,LineCurve3:Xk,LineDashedMaterial:oB,LineLoop:zk,LineSegments:qd,LinearFilter:cs,LinearInterpolant:S3,LinearMipMapLinearFilter:vM,LinearMipMapNearestFilter:UV,LinearMipmapLinearFilter:Ld,LinearMipmapNearestFilter:F_,LinearSRGBColorSpace:jh,LinearToneMapping:NE,LinearTransfer:u1,Loader:Ac,LoaderUtils:EM,LoadingManager:fC,LoopOnce:gk,LoopPingPong:yk,LoopRepeat:vk,MOUSE:yg,Material:jl,MaterialLoader:mC,MathUtils:z1,Matrix2:P3,Matrix3:hr,Matrix4:ri,MaxEquation:qU,Mesh:Xs,MeshBasicMaterial:Xd,MeshDepthMaterial:hC,MeshDistanceMaterial:dC,MeshLambertMaterial:sB,MeshMatcapMaterial:aB,MeshNormalMaterial:rB,MeshPhongMaterial:nB,MeshPhysicalMaterial:tB,MeshStandardMaterial:b3,MeshToonMaterial:iB,MinEquation:XU,MirroredRepeatWrapping:o1,MixOperation:lk,MultiplyBlending:mM,MultiplyOperation:F1,NearestFilter:Cl,NearestMipMapLinearFilter:FV,NearestMipMapNearestFilter:NV,NearestMipmapLinearFilter:S0,NearestMipmapNearestFilter:YR,NeutralToneMapping:pk,NeverCompare:xk,NeverDepth:iw,NeverStencilFunc:ZV,NoBlending:Dd,NoColorSpace:Uf,NoToneMapping:Nd,NormalAnimationBlendMode:HE,NormalBlending:jf,NotEqualCompare:Ck,NotEqualDepth:cw,NotEqualStencilFunc:nW,NumberKeyframeTrack:y1,Object3D:Tr,ObjectLoader:uX,ObjectSpaceNormalMap:bk,OctahedronGeometry:W1,OneFactor:KU,OneMinusConstantAlphaFactor:ok,OneMinusConstantColorFactor:sk,OneMinusDstAlphaFactor:ek,OneMinusDstColorFactor:nk,OneMinusSrcAlphaFactor:nw,OneMinusSrcColorFactor:QU,OrthographicCamera:Hh,PCFShadowMap:DE,PCFSoftShadowMap:N_,PMREMGenerator:MM,Path:zw,PerspectiveCamera:Ga,Plane:Fh,PlaneGeometry:Zh,PlaneHelper:XX,PointLight:vB,PointLightHelper:OB,Points:d3,PointsMaterial:h3,PolarGridHelper:$X,PolyhedronGeometry:bm,PositionalAudio:yX,PropertyBinding:ls,PropertyMixer:TB,QuadraticBezierCurve:g3,QuadraticBezierCurve3:v3,Quaternion:Fo,QuaternionKeyframeTrack:q1,QuaternionLinearInterpolant:dB,RED_GREEN_RGTC2_Format:Dw,RED_RGTC1_Format:e3,REVISION:N1,RGBADepthPacking:n3,RGBAFormat:go,RGBAIntegerFormat:GE,RGBA_ASTC_10x10_Format:Mw,RGBA_ASTC_10x5_Format:Cw,RGBA_ASTC_10x6_Format:Tw,RGBA_ASTC_10x8_Format:Aw,RGBA_ASTC_12x10_Format:Rw,RGBA_ASTC_12x12_Format:Ow,RGBA_ASTC_4x4_Format:vw,RGBA_ASTC_5x4_Format:yw,RGBA_ASTC_5x5_Format:_w,RGBA_ASTC_6x5_Format:bw,RGBA_ASTC_6x6_Format:xw,RGBA_ASTC_8x5_Format:Sw,RGBA_ASTC_8x6_Format:ww,RGBA_ASTC_8x8_Format:Ew,RGBA_BPTC_Format:G_,RGBA_ETC2_EAC_Format:gw,RGBA_PVRTC_2BPPV1_Format:fw,RGBA_PVRTC_4BPPV1_Format:dw,RGBA_S3TC_DXT1_Format:k_,RGBA_S3TC_DXT3_Format:B_,RGBA_S3TC_DXT5_Format:z_,RGBDepthPacking:HV,RGBFormat:QR,RGBIntegerFormat:kV,RGB_BPTC_SIGNED_Format:Lw,RGB_BPTC_UNSIGNED_Format:Pw,RGB_ETC1_Format:pw,RGB_ETC2_Format:mw,RGB_PVRTC_2BPPV1_Format:hw,RGB_PVRTC_4BPPV1_Format:uw,RGB_S3TC_DXT1_Format:U_,RGDepthPacking:$V,RGFormat:JR,RGIntegerFormat:zE,RawShaderMaterial:eB,Ray:rp,Raycaster:L3,RectAreaLight:bB,RedFormat:k1,RedIntegerFormat:B1,ReinhardToneMapping:uk,RenderTarget:s3,RenderTarget3D:PX,RepeatWrapping:a1,ReplaceStencilOp:WV,ReverseSubtractEquation:jU,RingGeometry:sC,SIGNED_RED_GREEN_RGTC2_Format:Nw,SIGNED_RED_RGTC1_Format:Iw,SRGBColorSpace:Wo,SRGBTransfer:Us,Scene:fm,ShaderChunk:yr,ShaderLib:Uh,ShaderMaterial:Ec,ShadowMaterial:Jk,Shape:zg,ShapeGeometry:aC,ShapePath:KX,ShapeUtils:Bh,ShortType:UE,Skeleton:YE,SkeletonHelper:BX,SkinnedMesh:Uk,Source:am,Sphere:Uo,SphereGeometry:j1,Spherical:TM,SphericalHarmonics3:xB,SplineCurve:y3,SpotLight:gB,SpotLightHelper:kX,Sprite:Nk,SpriteMaterial:c3,SrcAlphaFactor:tw,SrcAlphaSaturateFactor:ik,SrcColorFactor:ZU,StaticCopyUsage:lW,StaticDrawUsage:h1,StaticReadUsage:sW,StereoCamera:pX,StreamCopyUsage:uW,StreamDrawUsage:rW,StreamReadUsage:oW,StringKeyframeTrack:iv,SubtractEquation:WU,SubtractiveBlending:pM,TOUCH:_g,TangentSpaceNormalMap:_m,TetrahedronGeometry:oC,Texture:_s,TextureLoader:pC,TextureUtils:nq,TimestampQuery:dW,TorusGeometry:lC,TorusKnotGeometry:cC,Triangle:Wc,TriangleFanDrawMode:GV,TriangleStripDrawMode:zV,TrianglesDrawMode:BV,TubeGeometry:uC,UVMapping:hm,Uint16BufferAttribute:a3,Uint32BufferAttribute:o3,Uint8BufferAttribute:ZW,Uint8ClampedBufferAttribute:QW,Uniform:O3,UniformsGroup:DX,UniformsLib:qn,UniformsUtils:p1,UnsignedByteType:wc,UnsignedInt248Type:W0,UnsignedInt5999Type:KR,UnsignedIntType:kd,UnsignedShort4444Type:kE,UnsignedShort5551Type:BE,UnsignedShortType:V0,VSMShadowMap:Ih,Vector2:ln,Vector3:Oe,Vector4:Cr,VectorKeyframeTrack:_1,VideoFrameTexture:xj,VideoTexture:Gk,WebGL3DRenderTarget:BW,WebGLArrayRenderTarget:kW,WebGLCoordinateSystem:nh,WebGLCubeRenderTarget:l3,WebGLRenderTarget:xu,WebGLRenderer:D3,WebGLUtils:UB,WebGPUCoordinateSystem:d1,WebXRController:BS,WireframeGeometry:_3,WrapAroundEnding:c1,ZeroCurvatureEnding:Ag,ZeroFactor:YU,ZeroSlopeEnding:Mg,ZeroStencilOp:VV,createCanvasElement:Rk},Symbol.toStringTag,{value:"Module"}));var wA={exports:{}},Of={};/**
 * @license React
 * react-reconciler-constants.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kI;function kQ(){return kI||(kI=1,Of.ConcurrentRoot=1,Of.ContinuousEventPriority=8,Of.DefaultEventPriority=32,Of.DiscreteEventPriority=2,Of.IdleEventPriority=268435456,Of.LegacyRoot=0,Of.NoEventPriority=0),Of}var BI;function BQ(){return BI||(BI=1,wA.exports=kQ()),wA.exports}var GS=BQ(),EA={exports:{}},CA={},TA={exports:{}},AA={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zI;function zQ(){if(zI)return AA;zI=1;var n=Jg();function e(h,v){return h===v&&(h!==0||1/h===1/v)||h!==h&&v!==v}var t=typeof Object.is=="function"?Object.is:e,i=n.useState,r=n.useEffect,s=n.useLayoutEffect,a=n.useDebugValue;function o(h,v){var m=v(),_=i({inst:{value:m,getSnapshot:v}}),g=_[0].inst,y=_[1];return s(function(){g.value=m,g.getSnapshot=v,l(g)&&y({inst:g})},[h,m,v]),r(function(){return l(g)&&y({inst:g}),h(function(){l(g)&&y({inst:g})})},[h]),a(m),m}function l(h){var v=h.getSnapshot;h=h.value;try{var m=v();return!t(h,m)}catch{return!0}}function c(h,v){return v()}var f=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?c:o;return AA.useSyncExternalStore=n.useSyncExternalStore!==void 0?n.useSyncExternalStore:f,AA}var GI;function GQ(){return GI||(GI=1,TA.exports=zQ()),TA.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var HI;function HQ(){if(HI)return CA;HI=1;var n=Jg(),e=GQ();function t(c,f){return c===f&&(c!==0||1/c===1/f)||c!==c&&f!==f}var i=typeof Object.is=="function"?Object.is:t,r=e.useSyncExternalStore,s=n.useRef,a=n.useEffect,o=n.useMemo,l=n.useDebugValue;return CA.useSyncExternalStoreWithSelector=function(c,f,h,v,m){var _=s(null);if(_.current===null){var g={hasValue:!1,value:null};_.current=g}else g=_.current;_=o(function(){function u(O){if(!b){if(b=!0,S=O,O=v(O),m!==void 0&&g.hasValue){var C=g.value;if(m(C,O))return T=C}return T=O}if(C=T,i(S,O))return C;var I=v(O);return m!==void 0&&m(C,I)?(S=O,C):(S=O,T=I)}var b=!1,S,T,R=h===void 0?null:h;return[function(){return u(f())},R===null?void 0:function(){return u(R())}]},[f,h,v,m]);var y=r(c,_[0],_[1]);return a(function(){g.hasValue=!0,g.value=y},[y]),l(y),y},CA}var $I;function $Q(){return $I||($I=1,EA.exports=HQ()),EA.exports}var VQ=$Q();const kB=Yc(VQ),VI=n=>{let e;const t=new Set,i=(c,f)=>{const h=typeof c=="function"?c(e):c;if(!Object.is(h,e)){const v=e;e=f??(typeof h!="object"||h===null)?h:Object.assign({},e,h),t.forEach(m=>m(e,v))}},r=()=>e,o={setState:i,getState:r,getInitialState:()=>l,subscribe:c=>(t.add(c),()=>t.delete(c))},l=e=n(i,r,o);return o},WQ=(n=>n?VI(n):VI),{useSyncExternalStoreWithSelector:jQ}=kB,XQ=n=>n;function qQ(n,e=XQ,t){const i=jQ(n.subscribe,n.getState,n.getInitialState,e,t);return Je.useDebugValue(i),i}const WI=(n,e)=>{const t=WQ(n),i=(r,s=e)=>qQ(t,r,s);return Object.assign(i,t),i},BB=((n,e)=>n?WI(n,e):WI),YQ=n=>typeof n=="object"&&typeof n.then=="function",Lg=[];function zB(n,e,t=(i,r)=>i===r){if(n===e)return!0;if(!n||!e)return!1;const i=n.length;if(e.length!==i)return!1;for(let r=0;r<i;r++)if(!t(n[r],e[r]))return!1;return!0}function GB(n,e=null,t=!1,i={}){e===null&&(e=[n]);for(const s of Lg)if(zB(e,s.keys,s.equal)){if(t)return;if(Object.prototype.hasOwnProperty.call(s,"error"))throw s.error;if(Object.prototype.hasOwnProperty.call(s,"response"))return i.lifespan&&i.lifespan>0&&(s.timeout&&clearTimeout(s.timeout),s.timeout=setTimeout(s.remove,i.lifespan)),s.response;if(!t)throw s.promise}const r={keys:e,equal:i.equal,remove:()=>{const s=Lg.indexOf(r);s!==-1&&Lg.splice(s,1)},promise:(YQ(n)?n:n(...e)).then(s=>{r.response=s,i.lifespan&&i.lifespan>0&&(r.timeout=setTimeout(r.remove,i.lifespan))}).catch(s=>r.error=s)};if(Lg.push(r),!t)throw r.promise}const HB=(n,e,t)=>GB(n,e,!1,t),KQ=(n,e,t)=>void GB(n,e,!0,t),ZQ=n=>{if(n===void 0||n.length===0)Lg.splice(0,Lg.length);else{const e=Lg.find(t=>zB(n,t.keys,t.equal));e&&e.remove()}};var MA={exports:{}},RA={exports:{}},OA={exports:{}},LA={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jI;function QQ(){return jI||(jI=1,(function(n){function e(k,Z){var ee=k.length;k.push(Z);e:for(;0<ee;){var oe=ee-1>>>1,ne=k[oe];if(0<r(ne,Z))k[oe]=Z,k[ee]=ne,ee=oe;else break e}}function t(k){return k.length===0?null:k[0]}function i(k){if(k.length===0)return null;var Z=k[0],ee=k.pop();if(ee!==Z){k[0]=ee;e:for(var oe=0,ne=k.length,ie=ne>>>1;oe<ie;){var he=2*(oe+1)-1,fe=k[he],ce=he+1,ae=k[ce];if(0>r(fe,ee))ce<ne&&0>r(ae,fe)?(k[oe]=ae,k[ce]=ee,oe=ce):(k[oe]=fe,k[he]=ee,oe=he);else if(ce<ne&&0>r(ae,ee))k[oe]=ae,k[ce]=ee,oe=ce;else break e}}return Z}function r(k,Z){var ee=k.sortIndex-Z.sortIndex;return ee!==0?ee:k.id-Z.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var a=Date,o=a.now();n.unstable_now=function(){return a.now()-o}}var l=[],c=[],f=1,h=null,v=3,m=!1,_=!1,g=!1,y=typeof setTimeout=="function"?setTimeout:null,u=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;function S(k){for(var Z=t(c);Z!==null;){if(Z.callback===null)i(c);else if(Z.startTime<=k)i(c),Z.sortIndex=Z.expirationTime,e(l,Z);else break;Z=t(c)}}function T(k){if(g=!1,S(k),!_)if(t(l)!==null)_=!0,U();else{var Z=t(c);Z!==null&&V(T,Z.startTime-k)}}var R=!1,O=-1,C=5,I=-1;function F(){return!(n.unstable_now()-I<C)}function M(){if(R){var k=n.unstable_now();I=k;var Z=!0;try{e:{_=!1,g&&(g=!1,u(O),O=-1),m=!0;var ee=v;try{t:{for(S(k),h=t(l);h!==null&&!(h.expirationTime>k&&F());){var oe=h.callback;if(typeof oe=="function"){h.callback=null,v=h.priorityLevel;var ne=oe(h.expirationTime<=k);if(k=n.unstable_now(),typeof ne=="function"){h.callback=ne,S(k),Z=!0;break t}h===t(l)&&i(l),S(k)}else i(l);h=t(l)}if(h!==null)Z=!0;else{var ie=t(c);ie!==null&&V(T,ie.startTime-k),Z=!1}}break e}finally{h=null,v=ee,m=!1}Z=void 0}}finally{Z?D():R=!1}}}var D;if(typeof b=="function")D=function(){b(M)};else if(typeof MessageChannel<"u"){var B=new MessageChannel,j=B.port2;B.port1.onmessage=M,D=function(){j.postMessage(null)}}else D=function(){y(M,0)};function U(){R||(R=!0,D())}function V(k,Z){O=y(function(){k(n.unstable_now())},Z)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(k){k.callback=null},n.unstable_continueExecution=function(){_||m||(_=!0,U())},n.unstable_forceFrameRate=function(k){0>k||125<k?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<k?Math.floor(1e3/k):5},n.unstable_getCurrentPriorityLevel=function(){return v},n.unstable_getFirstCallbackNode=function(){return t(l)},n.unstable_next=function(k){switch(v){case 1:case 2:case 3:var Z=3;break;default:Z=v}var ee=v;v=Z;try{return k()}finally{v=ee}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(k,Z){switch(k){case 1:case 2:case 3:case 4:case 5:break;default:k=3}var ee=v;v=k;try{return Z()}finally{v=ee}},n.unstable_scheduleCallback=function(k,Z,ee){var oe=n.unstable_now();switch(typeof ee=="object"&&ee!==null?(ee=ee.delay,ee=typeof ee=="number"&&0<ee?oe+ee:oe):ee=oe,k){case 1:var ne=-1;break;case 2:ne=250;break;case 5:ne=1073741823;break;case 4:ne=1e4;break;default:ne=5e3}return ne=ee+ne,k={id:f++,callback:Z,priorityLevel:k,startTime:ee,expirationTime:ne,sortIndex:-1},ee>oe?(k.sortIndex=ee,e(c,k),t(l)===null&&k===t(c)&&(g?(u(O),O=-1):g=!0,V(T,ee-oe))):(k.sortIndex=ne,e(l,k),_||m||(_=!0,U())),k},n.unstable_shouldYield=F,n.unstable_wrapCallback=function(k){var Z=v;return function(){var ee=v;v=Z;try{return k.apply(this,arguments)}finally{v=ee}}}})(LA)),LA}var XI;function $B(){return XI||(XI=1,OA.exports=QQ()),OA.exports}/**
 * @license React
 * react-reconciler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qI;function JQ(){return qI||(qI=1,(function(n){n.exports=function(e){function t(x,w,N,X){return new Am(x,w,N,X)}function i(){}function r(x){var w="https://react.dev/errors/"+x;if(1<arguments.length){w+="?args[]="+encodeURIComponent(arguments[1]);for(var N=2;N<arguments.length;N++)w+="&args[]="+encodeURIComponent(arguments[N])}return"Minified React error #"+x+"; visit "+w+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(x){return x===null||typeof x!="object"?null:(x=De&&x[De]||x["@@iterator"],typeof x=="function"?x:null)}function a(x){if(x==null)return null;if(typeof x=="function")return x.$$typeof===bt?null:x.displayName||x.name||null;if(typeof x=="string")return x;switch(x){case Lu:return"Fragment";case Il:return"Portal";case mp:return"Profiler";case nf:return"StrictMode";case vp:return"Suspense";case sd:return"SuspenseList"}if(typeof x=="object")switch(x.$$typeof){case el:return(x.displayName||"Context")+".Provider";case gp:return(x._context.displayName||"Context")+".Consumer";case Pu:var w=x.render;return x=x.displayName,x||(x=w.displayName||w.name||"",x=x!==""?"ForwardRef("+x+")":"ForwardRef"),x;case Iu:return w=x.displayName||null,w!==null?w:a(x.type)||"Memo";case Ce:w=x._payload,x=x._init;try{return a(x(w))}catch{}}return null}function o(x){if(Kt===void 0)try{throw Error()}catch(N){var w=N.stack.trim().match(/\n( *(at )?)/);Kt=w&&w[1]||"",_n=-1<N.stack.indexOf(`
    at`)?" (<anonymous>)":-1<N.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Kt+x+_n}function l(x,w){if(!x||Un)return"";Un=!0;var N=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var X={DetermineComponentFrameRoot:function(){try{if(w){var Jn=function(){throw Error()};if(Object.defineProperty(Jn.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Jn,[])}catch(ur){var ii=ur}Reflect.construct(x,[],Jn)}else{try{Jn.call()}catch(ur){ii=ur}x.call(Jn.prototype)}}else{try{throw Error()}catch(ur){ii=ur}(Jn=x())&&typeof Jn.catch=="function"&&Jn.catch(function(){})}}catch(ur){if(ur&&ii&&typeof ur.stack=="string")return[ur.stack,ii.stack]}return[null,null]}};X.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var J=Object.getOwnPropertyDescriptor(X.DetermineComponentFrameRoot,"name");J&&J.configurable&&Object.defineProperty(X.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var ue=X.DetermineComponentFrameRoot(),Ne=ue[0],st=ue[1];if(Ne&&st){var Mt=Ne.split(`
`),pn=st.split(`
`);for(J=X=0;X<Mt.length&&!Mt[X].includes("DetermineComponentFrameRoot");)X++;for(;J<pn.length&&!pn[J].includes("DetermineComponentFrameRoot");)J++;if(X===Mt.length||J===pn.length)for(X=Mt.length-1,J=pn.length-1;1<=X&&0<=J&&Mt[X]!==pn[J];)J--;for(;1<=X&&0<=J;X--,J--)if(Mt[X]!==pn[J]){if(X!==1||J!==1)do if(X--,J--,0>J||Mt[X]!==pn[J]){var kn=`
`+Mt[X].replace(" at new "," at ");return x.displayName&&kn.includes("<anonymous>")&&(kn=kn.replace("<anonymous>",x.displayName)),kn}while(1<=X&&0<=J);break}}}finally{Un=!1,Error.prepareStackTrace=N}return(N=x?x.displayName||x.name:"")?o(N):""}function c(x){switch(x.tag){case 26:case 27:case 5:return o(x.type);case 16:return o("Lazy");case 13:return o("Suspense");case 19:return o("SuspenseList");case 0:case 15:return x=l(x.type,!1),x;case 11:return x=l(x.type.render,!1),x;case 1:return x=l(x.type,!0),x;default:return""}}function f(x){try{var w="";do w+=c(x),x=x.return;while(x);return w}catch(N){return`
Error generating stack: `+N.message+`
`+N.stack}}function h(x){var w=x,N=x;if(x.alternate)for(;w.return;)w=w.return;else{x=w;do w=x,(w.flags&4098)!==0&&(N=w.return),x=w.return;while(x)}return w.tag===3?N:null}function v(x){if(h(x)!==x)throw Error(r(188))}function m(x){var w=x.alternate;if(!w){if(w=h(x),w===null)throw Error(r(188));return w!==x?null:x}for(var N=x,X=w;;){var J=N.return;if(J===null)break;var ue=J.alternate;if(ue===null){if(X=J.return,X!==null){N=X;continue}break}if(J.child===ue.child){for(ue=J.child;ue;){if(ue===N)return v(J),x;if(ue===X)return v(J),w;ue=ue.sibling}throw Error(r(188))}if(N.return!==X.return)N=J,X=ue;else{for(var Ne=!1,st=J.child;st;){if(st===N){Ne=!0,N=J,X=ue;break}if(st===X){Ne=!0,X=J,N=ue;break}st=st.sibling}if(!Ne){for(st=ue.child;st;){if(st===N){Ne=!0,N=ue,X=J;break}if(st===X){Ne=!0,X=ue,N=J;break}st=st.sibling}if(!Ne)throw Error(r(189))}}if(N.alternate!==X)throw Error(r(190))}if(N.tag!==3)throw Error(r(188));return N.stateNode.current===N?x:w}function _(x){var w=x.tag;if(w===5||w===26||w===27||w===6)return x;for(x=x.child;x!==null;){if(w=_(x),w!==null)return w;x=x.sibling}return null}function g(x){var w=x.tag;if(w===5||w===26||w===27||w===6)return x;for(x=x.child;x!==null;){if(x.tag!==4&&(w=g(x),w!==null))return w;x=x.sibling}return null}function y(x){return{current:x}}function u(x){0>xh||(x.current=Fa[xh],Fa[xh]=null,xh--)}function b(x,w){xh++,Fa[xh]=x.current,x.current=w}function S(x){return x>>>=0,x===0?32:31-(Mb(x)/Rb|0)|0}function T(x){var w=x&42;if(w!==0)return w;switch(x&-x){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return x&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return x&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return x}}function R(x,w){var N=x.pendingLanes;if(N===0)return 0;var X=0,J=x.suspendedLanes,ue=x.pingedLanes,Ne=x.warmLanes;x=x.finishedLanes!==0;var st=N&134217727;return st!==0?(N=st&~J,N!==0?X=T(N):(ue&=st,ue!==0?X=T(ue):x||(Ne=st&~Ne,Ne!==0&&(X=T(Ne))))):(st=N&~J,st!==0?X=T(st):ue!==0?X=T(ue):x||(Ne=N&~Ne,Ne!==0&&(X=T(Ne)))),X===0?0:w!==0&&w!==X&&(w&J)===0&&(J=X&-X,Ne=w&-w,J>=Ne||J===32&&(Ne&4194176)!==0)?w:X}function O(x,w){return(x.pendingLanes&~(x.suspendedLanes&~x.pingedLanes)&w)===0}function C(x,w){switch(x){case 1:case 2:case 4:case 8:return w+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return w+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function I(){var x=Fu;return Fu<<=1,(Fu&4194176)===0&&(Fu=128),x}function F(){var x=of;return of<<=1,(of&62914560)===0&&(of=4194304),x}function M(x){for(var w=[],N=0;31>N;N++)w.push(x);return w}function D(x,w){x.pendingLanes|=w,w!==268435456&&(x.suspendedLanes=0,x.pingedLanes=0,x.warmLanes=0)}function B(x,w,N,X,J,ue){var Ne=x.pendingLanes;x.pendingLanes=N,x.suspendedLanes=0,x.pingedLanes=0,x.warmLanes=0,x.expiredLanes&=N,x.entangledLanes&=N,x.errorRecoveryDisabledLanes&=N,x.shellSuspendCounter=0;var st=x.entanglements,Mt=x.expirationTimes,pn=x.hiddenUpdates;for(N=Ne&~N;0<N;){var kn=31-fl(N),Jn=1<<kn;st[kn]=0,Mt[kn]=-1;var ii=pn[kn];if(ii!==null)for(pn[kn]=null,kn=0;kn<ii.length;kn++){var ur=ii[kn];ur!==null&&(ur.lane&=-536870913)}N&=~Jn}X!==0&&j(x,X,0),ue!==0&&J===0&&x.tag!==0&&(x.suspendedLanes|=ue&~(Ne&~w))}function j(x,w,N){x.pendingLanes|=w,x.suspendedLanes&=~w;var X=31-fl(w);x.entangledLanes|=w,x.entanglements[X]=x.entanglements[X]|1073741824|N&4194218}function U(x,w){var N=x.entangledLanes|=w;for(x=x.entanglements;N;){var X=31-fl(N),J=1<<X;J&w|x[X]&w&&(x[X]|=w),N&=~J}}function V(x){return x&=-x,2<x?8<x?(x&134217727)!==0?32:268435456:8:2}function k(x){if(Nl&&typeof Nl.onCommitFiberRoot=="function")try{Nl.onCommitFiberRoot(Ua,x,void 0,(x.current.flags&128)===128)}catch{}}function Z(x){if(typeof Pb=="function"&&Ro(x),Nl&&typeof Nl.setStrictMode=="function")try{Nl.setStrictMode(Ua,x)}catch{}}function ee(x,w){return x===w&&(x!==0||1/x===1/w)||x!==x&&w!==w}function oe(x,w){if(typeof x=="object"&&x!==null){var N=Ly.get(x);return N!==void 0?N:(w={value:x,source:w,stack:f(w)},Ly.set(x,w),w)}return{value:x,source:w,stack:f(w)}}function ne(x,w){lf[cf++]=Cp,lf[cf++]=uf,uf=x,Cp=w}function ie(x,w,N){ec[tc++]=su,ec[tc++]=au,ec[tc++]=ud,ud=x;var X=su;x=au;var J=32-fl(X)-1;X&=~(1<<J),N+=1;var ue=32-fl(w)+J;if(30<ue){var Ne=J-J%5;ue=(X&(1<<Ne)-1).toString(32),X>>=Ne,J-=Ne,su=1<<32-fl(w)+J|N<<J|X,au=ue+x}else su=1<<ue|N<<J|X,au=x}function he(x){x.return!==null&&(ne(x,1),ie(x,1,0))}function fe(x){for(;x===uf;)uf=lf[--cf],lf[cf]=null,Cp=lf[--cf],lf[cf]=null;for(;x===ud;)ud=ec[--tc],ec[tc]=null,au=ec[--tc],ec[tc]=null,su=ec[--tc],ec[tc]=null}function ce(x,w){b(Uu,w),b(Tp,x),b(uo,null),x=Qi(w),u(uo),b(uo,x)}function ae(){u(uo),u(Tp),u(Uu)}function ve(x){x.memoizedState!==null&&b(hf,x);var w=uo.current,N=Li(w,x.type);w!==N&&(b(Tp,x),b(uo,N))}function _e(x){Tp.current===x&&(u(uo),u(Tp)),hf.current===x&&(u(hf),Lr?Dl._currentValue=nu:Dl._currentValue2=nu)}function Te(x){var w=Error(r(418,""));throw Bt(oe(w,x)),Vm}function Fe(x,w){if(!Kr)throw Error(r(175));yb(x.stateNode,x.type,x.memoizedProps,w,x)||Te(x)}function We(x){for($o=x.return;$o;)switch($o.tag){case 3:case 27:Oo=!0;return;case 5:case 13:Oo=!1;return;default:$o=$o.return}}function ht(x){if(!Kr||x!==$o)return!1;if(!Vr)return We(x),Vr=!0,!1;var w=!1;if(Is?x.tag!==3&&x.tag!==27&&(x.tag!==5||pv(x.type)&&!Hn(x.type,x.memoizedProps))&&(w=!0):x.tag!==3&&(x.tag!==5||pv(x.type)&&!Hn(x.type,x.memoizedProps))&&(w=!0),w&&Vo&&Te(x),We(x),x.tag===13){if(!Kr)throw Error(r(316));if(x=x.memoizedState,x=x!==null?x.dehydrated:null,!x)throw Error(r(317));Vo=bb(x)}else Vo=$o?Ay(x.stateNode):null;return!0}function ft(){Kr&&(Vo=$o=null,Vr=!1)}function Bt(x){Ic===null?Ic=[x]:Ic.push(x)}function Me(){for(var x=df,w=ou=df=0;w<x;){var N=Dc[w];Dc[w++]=null;var X=Dc[w];Dc[w++]=null;var J=Dc[w];Dc[w++]=null;var ue=Dc[w];if(Dc[w++]=null,X!==null&&J!==null){var Ne=X.pending;Ne===null?J.next=J:(J.next=Ne.next,Ne.next=J),X.pending=J}ue!==0&&nt(N,J,ue)}}function yt(x,w,N,X){Dc[df++]=x,Dc[df++]=w,Dc[df++]=N,Dc[df++]=X,ou|=X,x.lanes|=X,x=x.alternate,x!==null&&(x.lanes|=X)}function mt(x,w,N,X){return yt(x,w,N,X),Ft(x)}function St(x,w){return yt(x,null,null,w),Ft(x)}function nt(x,w,N){x.lanes|=N;var X=x.alternate;X!==null&&(X.lanes|=N);for(var J=!1,ue=x.return;ue!==null;)ue.childLanes|=N,X=ue.alternate,X!==null&&(X.childLanes|=N),ue.tag===22&&(x=ue.stateNode,x===null||x._visibility&1||(J=!0)),x=ue,ue=ue.return;J&&w!==null&&x.tag===3&&(ue=x.stateNode,J=31-fl(N),ue=ue.hiddenUpdates,x=ue[J],x===null?ue[J]=[w]:x.push(w),w.lane=N|536870912)}function Ft(x){if(50<Np)throw Np=0,Rv=null,Error(r(185));for(var w=x.return;w!==null;)x=w,w=x.return;return x.tag===3?x.stateNode:null}function qe(x){x!==Sh&&x.next===null&&(Sh===null?Wm=Sh=x:Sh=Sh.next=x),zs=!0,ff||(ff=!0,it(Et))}function Ke(x,w){if(!Py&&zs){Py=!0;do for(var N=!1,X=Wm;X!==null;){if(x!==0){var J=X.pendingLanes;if(J===0)var ue=0;else{var Ne=X.suspendedLanes,st=X.pingedLanes;ue=(1<<31-fl(42|x)+1)-1,ue&=J&~(Ne&~st),ue=ue&201326677?ue&201326677|1:ue?ue|2:0}ue!==0&&(N=!0,Le(X,ue))}else ue=kr,ue=R(X,X===ps?ue:0),(ue&3)===0||O(X,ue)||(N=!0,Le(X,ue));X=X.next}while(N);Py=!1}}function Et(){zs=ff=!1;var x=0;Ap!==0&&(yh()&&(x=Ap),Ap=0);for(var w=Pc(),N=null,X=Wm;X!==null;){var J=X.next,ue=ye(X,w);ue===0?(X.next=null,N===null?Wm=J:N.next=J,J===null&&(Sh=N)):(N=X,(x!==0||(ue&3)!==0)&&(zs=!0)),X=J}Ke(x)}function ye(x,w){for(var N=x.suspendedLanes,X=x.pingedLanes,J=x.expirationTimes,ue=x.pendingLanes&-62914561;0<ue;){var Ne=31-fl(ue),st=1<<Ne,Mt=J[Ne];Mt===-1?((st&N)===0||(st&X)!==0)&&(J[Ne]=C(st,w)):Mt<=w&&(x.expiredLanes|=st),ue&=~st}if(w=ps,N=kr,N=R(x,x===w?N:0),X=x.callbackNode,N===0||x===w&&Ms===2||x.cancelPendingCommit!==null)return X!==null&&X!==null&&yv(X),x.callbackNode=null,x.callbackPriority=0;if((N&3)===0||O(x,N)){if(w=N&-N,w===x.callbackPriority)return w;switch(X!==null&&yv(X),V(N)){case 2:case 8:N=Lb;break;case 32:N=xv;break;case 268435456:N=GC;break;default:N=xv}return X=me.bind(null,x),N=$m(N,X),x.callbackPriority=w,x.callbackNode=N,w}return X!==null&&X!==null&&yv(X),x.callbackPriority=2,x.callbackNode=null,2}function me(x,w){var N=x.callbackNode;if(Yl()&&x.callbackNode!==N)return null;var X=kr;return X=R(x,x===ps?X:0),X===0?null:(Tu(x,X,w),ye(x,Pc()),x.callbackNode!=null&&x.callbackNode===N?me.bind(null,x):null)}function Le(x,w){if(Yl())return null;Tu(x,w,!0)}function it(x){Rm?iu(function(){(Qr&6)!==0?$m(bv,x):x()}):$m(bv,x)}function Qe(){return Ap===0&&(Ap=I()),Ap}function et(x,w){if(Mp===null){var N=Mp=[];pf=0,nc=Qe(),mf={status:"pending",value:void 0,then:function(X){N.push(X)}}}return pf++,w.then(At,At),w}function At(){if(--pf===0&&Mp!==null){mf!==null&&(mf.status="fulfilled");var x=Mp;Mp=null,nc=0,mf=null;for(var w=0;w<x.length;w++)(0,x[w])()}}function Gt(x,w){var N=[],X={status:"pending",value:null,reason:null,then:function(J){N.push(J)}};return x.then(function(){X.status="fulfilled",X.value=w;for(var J=0;J<N.length;J++)(0,N[J])(w)},function(J){for(X.status="rejected",X.reason=J,J=0;J<N.length;J++)(0,N[J])(void 0)}),X}function on(x){x.updateQueue={baseState:x.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function fn(x,w){x=x.updateQueue,w.updateQueue===x&&(w.updateQueue={baseState:x.baseState,firstBaseUpdate:x.firstBaseUpdate,lastBaseUpdate:x.lastBaseUpdate,shared:x.shared,callbacks:null})}function xt(x){return{lane:x,tag:0,payload:null,callback:null,next:null}}function kt(x,w,N){var X=x.updateQueue;if(X===null)return null;if(X=X.shared,(Qr&2)!==0){var J=X.pending;return J===null?w.next=w:(w.next=J.next,J.next=w),X.pending=w,w=Ft(x),nt(x,null,N),w}return yt(x,X,w,N),Ft(x)}function Xt(x,w,N){if(w=w.updateQueue,w!==null&&(w=w.shared,(N&4194176)!==0)){var X=w.lanes;X&=x.pendingLanes,N|=X,w.lanes=N,U(x,N)}}function Ve(x,w){var N=x.updateQueue,X=x.alternate;if(X!==null&&(X=X.updateQueue,N===X)){var J=null,ue=null;if(N=N.firstBaseUpdate,N!==null){do{var Ne={lane:N.lane,tag:N.tag,payload:N.payload,callback:null,next:null};ue===null?J=ue=Ne:ue=ue.next=Ne,N=N.next}while(N!==null);ue===null?J=ue=w:ue=ue.next=w}else J=ue=w;N={baseState:X.baseState,firstBaseUpdate:J,lastBaseUpdate:ue,shared:X.shared,callbacks:X.callbacks},x.updateQueue=N;return}x=N.lastBaseUpdate,x===null?N.firstBaseUpdate=w:x.next=w,N.lastBaseUpdate=w}function lt(){if(gf){var x=mf;if(x!==null)throw x}}function Qt(x,w,N,X){gf=!1;var J=x.updateQueue;wh=!1;var ue=J.firstBaseUpdate,Ne=J.lastBaseUpdate,st=J.shared.pending;if(st!==null){J.shared.pending=null;var Mt=st,pn=Mt.next;Mt.next=null,Ne===null?ue=pn:Ne.next=pn,Ne=Mt;var kn=x.alternate;kn!==null&&(kn=kn.updateQueue,st=kn.lastBaseUpdate,st!==Ne&&(st===null?kn.firstBaseUpdate=pn:st.next=pn,kn.lastBaseUpdate=Mt))}if(ue!==null){var Jn=J.baseState;Ne=0,kn=pn=Mt=null,st=ue;do{var ii=st.lane&-536870913,ur=ii!==st.lane;if(ur?(kr&ii)===ii:(X&ii)===ii){ii!==0&&ii===nc&&(gf=!0),kn!==null&&(kn=kn.next={lane:0,tag:st.tag,payload:st.payload,callback:null,next:null});e:{var uc=x,_d=st;ii=w;var bd=N;switch(_d.tag){case 1:if(uc=_d.payload,typeof uc=="function"){Jn=uc.call(bd,Jn,ii);break e}Jn=uc;break e;case 3:uc.flags=uc.flags&-65537|128;case 0:if(uc=_d.payload,ii=typeof uc=="function"?uc.call(bd,Jn,ii):uc,ii==null)break e;Jn=pp({},Jn,ii);break e;case 2:wh=!0}}ii=st.callback,ii!==null&&(x.flags|=64,ur&&(x.flags|=8192),ur=J.callbacks,ur===null?J.callbacks=[ii]:ur.push(ii))}else ur={lane:ii,tag:st.tag,payload:st.payload,callback:st.callback,next:null},kn===null?(pn=kn=ur,Mt=Jn):kn=kn.next=ur,Ne|=ii;if(st=st.next,st===null){if(st=J.shared.pending,st===null)break;ur=st,st=ur.next,ur.next=null,J.lastBaseUpdate=ur,J.shared.pending=null}}while(!0);kn===null&&(Mt=Jn),J.baseState=Mt,J.firstBaseUpdate=pn,J.lastBaseUpdate=kn,ue===null&&(J.shared.lanes=0),lc|=Ne,x.lanes=Ne,x.memoizedState=Jn}}function Ye(x,w){if(typeof x!="function")throw Error(r(191,x));x.call(w)}function ct(x,w){var N=x.callbacks;if(N!==null)for(x.callbacks=null,x=0;x<N.length;x++)Ye(N[x],w)}function Dt(x,w){if(Fl(x,w))return!0;if(typeof x!="object"||x===null||typeof w!="object"||w===null)return!1;var N=Object.keys(x),X=Object.keys(w);if(N.length!==X.length)return!1;for(X=0;X<N.length;X++){var J=N[X];if(!ku.call(w,J)||!Fl(x[J],w[J]))return!1}return!0}function Sn(x){return x=x.status,x==="fulfilled"||x==="rejected"}function qt(){}function wt(x,w,N){switch(N=x[N],N===void 0?x.push(w):N!==w&&(w.then(qt,qt),w=N),w.status){case"fulfilled":return w.value;case"rejected":throw x=w.reason,x===Rp?Error(r(483)):x;default:if(typeof w.status=="string")w.then(qt,qt);else{if(x=ps,x!==null&&100<x.shellSuspendCounter)throw Error(r(482));x=w,x.status="pending",x.then(function(X){if(w.status==="pending"){var J=w;J.status="fulfilled",J.value=X}},function(X){if(w.status==="pending"){var J=w;J.status="rejected",J.reason=X}})}switch(w.status){case"fulfilled":return w.value;case"rejected":throw x=w.reason,x===Rp?Error(r(483)):x}throw hd=w,Rp}}function dn(){if(hd===null)throw Error(r(459));var x=hd;return hd=null,x}function wn(x){var w=fd;return fd+=1,dd===null&&(dd=[]),wt(dd,x,w)}function Pn(x,w){w=w.props.ref,x.ref=w!==void 0?w:null}function Wn(x,w){throw w.$$typeof===Sy?Error(r(525)):(x=Object.prototype.toString.call(w),Error(r(31,x==="[object Object]"?"object with keys {"+Object.keys(w).join(", ")+"}":x)))}function Ii(x){var w=x._init;return w(x._payload)}function Ei(x){function w(Ht,gt){if(x){var Zt=Ht.deletions;Zt===null?(Ht.deletions=[gt],Ht.flags|=16):Zt.push(gt)}}function N(Ht,gt){if(!x)return null;for(;gt!==null;)w(Ht,gt),gt=gt.sibling;return null}function X(Ht){for(var gt=new Map;Ht!==null;)Ht.key!==null?gt.set(Ht.key,Ht):gt.set(Ht.index,Ht),Ht=Ht.sibling;return gt}function J(Ht,gt){return Ht=Ll(Ht,gt),Ht.index=0,Ht.sibling=null,Ht}function ue(Ht,gt,Zt){return Ht.index=Zt,x?(Zt=Ht.alternate,Zt!==null?(Zt=Zt.index,Zt<gt?(Ht.flags|=33554434,gt):Zt):(Ht.flags|=33554434,gt)):(Ht.flags|=1048576,gt)}function Ne(Ht){return x&&Ht.alternate===null&&(Ht.flags|=33554434),Ht}function st(Ht,gt,Zt,Dn){return gt===null||gt.tag!==6?(gt=rd(Zt,Ht.mode,Dn),gt.return=Ht,gt):(gt=J(gt,Zt),gt.return=Ht,gt)}function Mt(Ht,gt,Zt,Dn){var Ai=Zt.type;return Ai===Lu?kn(Ht,gt,Zt.props.children,Dn,Zt.key):gt!==null&&(gt.elementType===Ai||typeof Ai=="object"&&Ai!==null&&Ai.$$typeof===Ce&&Ii(Ai)===gt.type)?(gt=J(gt,Zt.props),Pn(gt,Zt),gt.return=Ht,gt):(gt=Zl(Zt.type,Zt.key,Zt.props,null,Ht.mode,Dn),Pn(gt,Zt),gt.return=Ht,gt)}function pn(Ht,gt,Zt,Dn){return gt===null||gt.tag!==4||gt.stateNode.containerInfo!==Zt.containerInfo||gt.stateNode.implementation!==Zt.implementation?(gt=fp(Zt,Ht.mode,Dn),gt.return=Ht,gt):(gt=J(gt,Zt.children||[]),gt.return=Ht,gt)}function kn(Ht,gt,Zt,Dn,Ai){return gt===null||gt.tag!==7?(gt=oa(Zt,Ht.mode,Dn,Ai),gt.return=Ht,gt):(gt=J(gt,Zt),gt.return=Ht,gt)}function Jn(Ht,gt,Zt){if(typeof gt=="string"&&gt!==""||typeof gt=="number"||typeof gt=="bigint")return gt=rd(""+gt,Ht.mode,Zt),gt.return=Ht,gt;if(typeof gt=="object"&&gt!==null){switch(gt.$$typeof){case tf:return Zt=Zl(gt.type,gt.key,gt.props,null,Ht.mode,Zt),Pn(Zt,gt),Zt.return=Ht,Zt;case Il:return gt=fp(gt,Ht.mode,Zt),gt.return=Ht,gt;case Ce:var Dn=gt._init;return gt=Dn(gt._payload),Jn(Ht,gt,Zt)}if(ei(gt)||s(gt))return gt=oa(gt,Ht.mode,Zt,null),gt.return=Ht,gt;if(typeof gt.then=="function")return Jn(Ht,wn(gt),Zt);if(gt.$$typeof===el)return Jn(Ht,yi(Ht,gt),Zt);Wn(Ht,gt)}return null}function ii(Ht,gt,Zt,Dn){var Ai=gt!==null?gt.key:null;if(typeof Zt=="string"&&Zt!==""||typeof Zt=="number"||typeof Zt=="bigint")return Ai!==null?null:st(Ht,gt,""+Zt,Dn);if(typeof Zt=="object"&&Zt!==null){switch(Zt.$$typeof){case tf:return Zt.key===Ai?Mt(Ht,gt,Zt,Dn):null;case Il:return Zt.key===Ai?pn(Ht,gt,Zt,Dn):null;case Ce:return Ai=Zt._init,Zt=Ai(Zt._payload),ii(Ht,gt,Zt,Dn)}if(ei(Zt)||s(Zt))return Ai!==null?null:kn(Ht,gt,Zt,Dn,null);if(typeof Zt.then=="function")return ii(Ht,gt,wn(Zt),Dn);if(Zt.$$typeof===el)return ii(Ht,gt,yi(Ht,Zt),Dn);Wn(Ht,Zt)}return null}function ur(Ht,gt,Zt,Dn,Ai){if(typeof Dn=="string"&&Dn!==""||typeof Dn=="number"||typeof Dn=="bigint")return Ht=Ht.get(Zt)||null,st(gt,Ht,""+Dn,Ai);if(typeof Dn=="object"&&Dn!==null){switch(Dn.$$typeof){case tf:return Ht=Ht.get(Dn.key===null?Zt:Dn.key)||null,Mt(gt,Ht,Dn,Ai);case Il:return Ht=Ht.get(Dn.key===null?Zt:Dn.key)||null,pn(gt,Ht,Dn,Ai);case Ce:var ta=Dn._init;return Dn=ta(Dn._payload),ur(Ht,gt,Zt,Dn,Ai)}if(ei(Dn)||s(Dn))return Ht=Ht.get(Zt)||null,kn(gt,Ht,Dn,Ai,null);if(typeof Dn.then=="function")return ur(Ht,gt,Zt,wn(Dn),Ai);if(Dn.$$typeof===el)return ur(Ht,gt,Zt,yi(gt,Dn),Ai);Wn(gt,Dn)}return null}function uc(Ht,gt,Zt,Dn){for(var Ai=null,ta=null,Ji=gt,rs=gt=0,ka=null;Ji!==null&&rs<Zt.length;rs++){Ji.index>rs?(ka=Ji,Ji=null):ka=Ji.sibling;var Pr=ii(Ht,Ji,Zt[rs],Dn);if(Pr===null){Ji===null&&(Ji=ka);break}x&&Ji&&Pr.alternate===null&&w(Ht,Ji),gt=ue(Pr,gt,rs),ta===null?Ai=Pr:ta.sibling=Pr,ta=Pr,Ji=ka}if(rs===Zt.length)return N(Ht,Ji),Vr&&ne(Ht,rs),Ai;if(Ji===null){for(;rs<Zt.length;rs++)Ji=Jn(Ht,Zt[rs],Dn),Ji!==null&&(gt=ue(Ji,gt,rs),ta===null?Ai=Ji:ta.sibling=Ji,ta=Ji);return Vr&&ne(Ht,rs),Ai}for(Ji=X(Ji);rs<Zt.length;rs++)ka=ur(Ji,Ht,rs,Zt[rs],Dn),ka!==null&&(x&&ka.alternate!==null&&Ji.delete(ka.key===null?rs:ka.key),gt=ue(ka,gt,rs),ta===null?Ai=ka:ta.sibling=ka,ta=ka);return x&&Ji.forEach(function(ju){return w(Ht,ju)}),Vr&&ne(Ht,rs),Ai}function _d(Ht,gt,Zt,Dn){if(Zt==null)throw Error(r(151));for(var Ai=null,ta=null,Ji=gt,rs=gt=0,ka=null,Pr=Zt.next();Ji!==null&&!Pr.done;rs++,Pr=Zt.next()){Ji.index>rs?(ka=Ji,Ji=null):ka=Ji.sibling;var ju=ii(Ht,Ji,Pr.value,Dn);if(ju===null){Ji===null&&(Ji=ka);break}x&&Ji&&ju.alternate===null&&w(Ht,Ji),gt=ue(ju,gt,rs),ta===null?Ai=ju:ta.sibling=ju,ta=ju,Ji=ka}if(Pr.done)return N(Ht,Ji),Vr&&ne(Ht,rs),Ai;if(Ji===null){for(;!Pr.done;rs++,Pr=Zt.next())Pr=Jn(Ht,Pr.value,Dn),Pr!==null&&(gt=ue(Pr,gt,rs),ta===null?Ai=Pr:ta.sibling=Pr,ta=Pr);return Vr&&ne(Ht,rs),Ai}for(Ji=X(Ji);!Pr.done;rs++,Pr=Zt.next())Pr=ur(Ji,Ht,rs,Pr.value,Dn),Pr!==null&&(x&&Pr.alternate!==null&&Ji.delete(Pr.key===null?rs:Pr.key),gt=ue(Pr,gt,rs),ta===null?Ai=Pr:ta.sibling=Pr,ta=Pr);return x&&Ji.forEach(function(Ov){return w(Ht,Ov)}),Vr&&ne(Ht,rs),Ai}function bd(Ht,gt,Zt,Dn){if(typeof Zt=="object"&&Zt!==null&&Zt.type===Lu&&Zt.key===null&&(Zt=Zt.props.children),typeof Zt=="object"&&Zt!==null){switch(Zt.$$typeof){case tf:e:{for(var Ai=Zt.key;gt!==null;){if(gt.key===Ai){if(Ai=Zt.type,Ai===Lu){if(gt.tag===7){N(Ht,gt.sibling),Dn=J(gt,Zt.props.children),Dn.return=Ht,Ht=Dn;break e}}else if(gt.elementType===Ai||typeof Ai=="object"&&Ai!==null&&Ai.$$typeof===Ce&&Ii(Ai)===gt.type){N(Ht,gt.sibling),Dn=J(gt,Zt.props),Pn(Dn,Zt),Dn.return=Ht,Ht=Dn;break e}N(Ht,gt);break}else w(Ht,gt);gt=gt.sibling}Zt.type===Lu?(Dn=oa(Zt.props.children,Ht.mode,Dn,Zt.key),Dn.return=Ht,Ht=Dn):(Dn=Zl(Zt.type,Zt.key,Zt.props,null,Ht.mode,Dn),Pn(Dn,Zt),Dn.return=Ht,Ht=Dn)}return Ne(Ht);case Il:e:{for(Ai=Zt.key;gt!==null;){if(gt.key===Ai)if(gt.tag===4&&gt.stateNode.containerInfo===Zt.containerInfo&&gt.stateNode.implementation===Zt.implementation){N(Ht,gt.sibling),Dn=J(gt,Zt.children||[]),Dn.return=Ht,Ht=Dn;break e}else{N(Ht,gt);break}else w(Ht,gt);gt=gt.sibling}Dn=fp(Zt,Ht.mode,Dn),Dn.return=Ht,Ht=Dn}return Ne(Ht);case Ce:return Ai=Zt._init,Zt=Ai(Zt._payload),bd(Ht,gt,Zt,Dn)}if(ei(Zt))return uc(Ht,gt,Zt,Dn);if(s(Zt)){if(Ai=s(Zt),typeof Ai!="function")throw Error(r(150));return Zt=Ai.call(Zt),_d(Ht,gt,Zt,Dn)}if(typeof Zt.then=="function")return bd(Ht,gt,wn(Zt),Dn);if(Zt.$$typeof===el)return bd(Ht,gt,yi(Ht,Zt),Dn);Wn(Ht,Zt)}return typeof Zt=="string"&&Zt!==""||typeof Zt=="number"||typeof Zt=="bigint"?(Zt=""+Zt,gt!==null&&gt.tag===6?(N(Ht,gt.sibling),Dn=J(gt,Zt),Dn.return=Ht,Ht=Dn):(N(Ht,gt),Dn=rd(Zt,Ht.mode,Dn),Dn.return=Ht,Ht=Dn),Ne(Ht)):N(Ht,gt)}return function(Ht,gt,Zt,Dn){try{fd=0;var Ai=bd(Ht,gt,Zt,Dn);return dd=null,Ai}catch(Ji){if(Ji===Rp)throw Ji;var ta=t(29,Ji,null,Ht.mode);return ta.lanes=Dn,ta.return=Ht,ta}finally{}}}function Si(x,w){x=il,b(Op,x),b(Gs,w),il=x|w.baseLanes}function er(){b(Op,il),b(Gs,Gs.current)}function Zi(){il=Op.current,u(Gs),u(Op)}function Or(x){var w=x.alternate;b(ho,ho.current&1),b(ic,x),Ds===null&&(w===null||Gs.current!==null||w.memoizedState!==null)&&(Ds=x)}function Wr(x){if(x.tag===22){if(b(ho,ho.current),b(ic,x),Ds===null){var w=x.alternate;w!==null&&w.memoizedState!==null&&(Ds=x)}}else jr()}function jr(){b(ho,ho.current),b(ic,ic.current)}function ti(x){u(ic),Ds===x&&(Ds=null),u(ho)}function rr(x){for(var w=x;w!==null;){if(w.tag===13){var N=w.memoizedState;if(N!==null&&(N=N.dehydrated,N===null||hv(N)||dv(N)))return w}else if(w.tag===19&&w.memoizedProps.revealOrder!==void 0){if((w.flags&128)!==0)return w}else if(w.child!==null){w.child.return=w,w=w.child;continue}if(w===x)break;for(;w.sibling===null;){if(w.return===null||w.return===x)return null;w=w.return}w.sibling.return=w.return,w=w.sibling}return null}function zi(){throw Error(r(321))}function we(x,w){if(w===null)return!1;for(var N=0;N<w.length&&N<x.length;N++)if(!Fl(x[N],w[N]))return!1;return!0}function Ie(x,w,N,X,J,ue){return Eh=ue,vr=w,w.memoizedState=null,w.updateQueue=null,w.lanes=0,at.H=x===null||x.memoizedState===null?gd:pl,md=!1,ue=N(X,J),md=!1,vf&&(ue=Rt(w,N,X,J)),tt(x),ue}function tt(x){at.H=Ca;var w=ki!==null&&ki.next!==null;if(Eh=0,Zr=ki=vr=null,Nc=!1,yf=0,Lo=null,w)throw Error(r(300));x===null||Ns||(x=x.dependencies,x!==null&&Fr(x)&&(Ns=!0))}function Rt(x,w,N,X){vr=x;var J=0;do{if(vf&&(Lo=null),yf=0,vf=!1,25<=J)throw Error(r(301));if(J+=1,Zr=ki=null,x.updateQueue!=null){var ue=x.updateQueue;ue.lastEffect=null,ue.events=null,ue.stores=null,ue.memoCache!=null&&(ue.memoCache.index=0)}at.H=rc,ue=w(N,X)}while(vf);return ue}function Ot(){var x=at.H,w=x.useState()[0];return w=typeof w.then=="function"?Ze(w):w,x=x.useState()[0],(ki!==null?ki.memoizedState:null)!==x&&(vr.flags|=1024),w}function Nt(){var x=Sv!==0;return Sv=0,x}function gn(x,w,N){w.updateQueue=x.updateQueue,w.flags&=-2053,x.lanes&=~N}function nn(x){if(Nc){for(x=x.memoizedState;x!==null;){var w=x.queue;w!==null&&(w.pending=null),x=x.next}Nc=!1}Eh=0,Zr=ki=vr=null,vf=!1,yf=Sv=0,Lo=null}function be(){var x={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Zr===null?vr.memoizedState=Zr=x:Zr=Zr.next=x,Zr}function Ge(){if(ki===null){var x=vr.alternate;x=x!==null?x.memoizedState:null}else x=ki.next;var w=Zr===null?vr.memoizedState:Zr.next;if(w!==null)Zr=w,ki=x;else{if(x===null)throw vr.alternate===null?Error(r(467)):Error(r(310));ki=x,x={memoizedState:ki.memoizedState,baseState:ki.baseState,baseQueue:ki.baseQueue,queue:ki.queue,next:null},Zr===null?vr.memoizedState=Zr=x:Zr=Zr.next=x}return Zr}function Ze(x){var w=yf;return yf+=1,Lo===null&&(Lo=[]),x=wt(Lo,x,w),w=vr,(Zr===null?w.memoizedState:Zr.next)===null&&(w=w.alternate,at.H=w===null||w.memoizedState===null?gd:pl),x}function Be(x){if(x!==null&&typeof x=="object"){if(typeof x.then=="function")return Ze(x);if(x.$$typeof===el)return Rn(x)}throw Error(r(438,String(x)))}function ut(x){var w=null,N=vr.updateQueue;if(N!==null&&(w=N.memoCache),w==null){var X=vr.alternate;X!==null&&(X=X.updateQueue,X!==null&&(X=X.memoCache,X!=null&&(w={data:X.data.map(function(J){return J.slice()}),index:0})))}if(w==null&&(w={data:[],index:0}),N===null&&(N=wv(),vr.updateQueue=N),N.memoCache=w,N=w.data[w.index],N===void 0)for(N=w.data[w.index]=Array(x),X=0;X<x;X++)N[X]=pe;return w.index++,N}function Ct(x,w){return typeof w=="function"?w(x):w}function Pt(x){var w=Ge();return en(w,ki,x)}function en(x,w,N){var X=x.queue;if(X===null)throw Error(r(311));X.lastRenderedReducer=N;var J=x.baseQueue,ue=X.pending;if(ue!==null){if(J!==null){var Ne=J.next;J.next=ue.next,ue.next=Ne}w.baseQueue=J=ue,X.pending=null}if(ue=x.baseState,J===null)x.memoizedState=ue;else{w=J.next;var st=Ne=null,Mt=null,pn=w,kn=!1;do{var Jn=pn.lane&-536870913;if(Jn!==pn.lane?(kr&Jn)===Jn:(Eh&Jn)===Jn){var ii=pn.revertLane;if(ii===0)Mt!==null&&(Mt=Mt.next={lane:0,revertLane:0,action:pn.action,hasEagerState:pn.hasEagerState,eagerState:pn.eagerState,next:null}),Jn===nc&&(kn=!0);else if((Eh&ii)===ii){pn=pn.next,ii===nc&&(kn=!0);continue}else Jn={lane:0,revertLane:pn.revertLane,action:pn.action,hasEagerState:pn.hasEagerState,eagerState:pn.eagerState,next:null},Mt===null?(st=Mt=Jn,Ne=ue):Mt=Mt.next=Jn,vr.lanes|=ii,lc|=ii;Jn=pn.action,md&&N(ue,Jn),ue=pn.hasEagerState?pn.eagerState:N(ue,Jn)}else ii={lane:Jn,revertLane:pn.revertLane,action:pn.action,hasEagerState:pn.hasEagerState,eagerState:pn.eagerState,next:null},Mt===null?(st=Mt=ii,Ne=ue):Mt=Mt.next=ii,vr.lanes|=Jn,lc|=Jn;pn=pn.next}while(pn!==null&&pn!==w);if(Mt===null?Ne=ue:Mt.next=st,!Fl(ue,x.memoizedState)&&(Ns=!0,kn&&(N=mf,N!==null)))throw N;x.memoizedState=ue,x.baseState=Ne,x.baseQueue=Mt,X.lastRenderedState=ue}return J===null&&(X.lanes=0),[x.memoizedState,X.dispatch]}function un(x){var w=Ge(),N=w.queue;if(N===null)throw Error(r(311));N.lastRenderedReducer=x;var X=N.dispatch,J=N.pending,ue=w.memoizedState;if(J!==null){N.pending=null;var Ne=J=J.next;do ue=x(ue,Ne.action),Ne=Ne.next;while(Ne!==J);Fl(ue,w.memoizedState)||(Ns=!0),w.memoizedState=ue,w.baseQueue===null&&(w.baseState=ue),N.lastRenderedState=ue}return[ue,X]}function In(x,w,N){var X=vr,J=Ge(),ue=Vr;if(ue){if(N===void 0)throw Error(r(407));N=N()}else N=w();var Ne=!Fl((ki||J).memoizedState,N);if(Ne&&(J.memoizedState=N,Ns=!0),J=J.queue,Zs(Bn.bind(null,X,J,x),[x]),J.getSnapshot!==w||Ne||Zr!==null&&Zr.memoizedState.tag&1){if(X.flags|=2048,es(9,vn.bind(null,X,J,N,w),{destroy:void 0},null),ps===null)throw Error(r(349));ue||(Eh&60)!==0||Ln(X,w,N)}return N}function Ln(x,w,N){x.flags|=16384,x={getSnapshot:w,value:N},w=vr.updateQueue,w===null?(w=wv(),vr.updateQueue=w,w.stores=[x]):(N=w.stores,N===null?w.stores=[x]:N.push(x))}function vn(x,w,N,X){w.value=N,w.getSnapshot=X,Xn(w)&&Di(x)}function Bn(x,w,N){return N(function(){Xn(w)&&Di(x)})}function Xn(x){var w=x.getSnapshot;x=x.value;try{var N=w();return!Fl(x,N)}catch{return!0}}function Di(x){var w=St(x,2);w!==null&&Za(w,x,2)}function Mn(x){var w=be();if(typeof x=="function"){var N=x;if(x=N(),md){Z(!0);try{N()}finally{Z(!1)}}}return w.memoizedState=w.baseState=x,w.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ct,lastRenderedState:x},w}function li(x,w,N,X){return x.baseState=N,en(x,ki,typeof X=="function"?X:Ct)}function Q(x,w,N,X,J){if(Hr(x))throw Error(r(485));if(x=w.action,x!==null){var ue={payload:J,action:x,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(Ne){ue.listeners.push(Ne)}};at.T!==null?N(!0):ue.isTransition=!1,X(ue),N=w.pending,N===null?(ue.next=w.pending=ue,Ni(w,ue)):(ue.next=N.next,w.pending=N.next=ue)}}function Ni(x,w){var N=w.action,X=w.payload,J=x.state;if(w.isTransition){var ue=at.T,Ne={};at.T=Ne;try{var st=N(J,X),Mt=at.S;Mt!==null&&Mt(Ne,st),Kn(x,w,st)}catch(pn){_t(x,w,pn)}finally{at.T=ue}}else try{ue=N(J,X),Kn(x,w,ue)}catch(pn){_t(x,w,pn)}}function Kn(x,w,N){N!==null&&typeof N=="object"&&typeof N.then=="function"?N.then(function(X){ci(x,w,X)},function(X){return _t(x,w,X)}):ci(x,w,N)}function ci(x,w,N){w.status="fulfilled",w.value=N,ot(w),x.state=N,w=x.pending,w!==null&&(N=w.next,N===w?x.pending=null:(N=N.next,w.next=N,Ni(x,N)))}function _t(x,w,N){var X=x.pending;if(x.pending=null,X!==null){X=X.next;do w.status="rejected",w.reason=N,ot(w),w=w.next;while(w!==X)}x.action=null}function ot(x){x=x.listeners;for(var w=0;w<x.length;w++)(0,x[w])()}function Cn(x,w){return w}function Qn(x,w){if(Vr){var N=ps.formState;if(N!==null){e:{var X=vr;if(Vr){if(Vo){var J=Ty(Vo,Oo);if(J){Vo=Ay(J),X=pb(J);break e}}Te(X)}X=!1}X&&(w=N[0])}}N=be(),N.memoizedState=N.baseState=w,X={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Cn,lastRenderedState:w},N.queue=X,N=wo.bind(null,vr,X),X.dispatch=N,X=Mn(!1);var ue=Es.bind(null,vr,!1,X.queue);return X=be(),J={state:w,dispatch:null,action:x,pending:null},X.queue=J,N=Q.bind(null,vr,J,ue,N),J.dispatch=N,X.memoizedState=x,[w,N,!1]}function gi(x){var w=Ge();return zn(w,ki,x)}function zn(x,w,N){w=en(x,w,Cn)[0],x=Pt(Ct)[0],w=typeof w=="object"&&w!==null&&typeof w.then=="function"?Ze(w):w;var X=Ge(),J=X.queue,ue=J.dispatch;return N!==X.memoizedState&&(vr.flags|=2048,es(9,Wi.bind(null,J,N),{destroy:void 0},null)),[w,ue,x]}function Wi(x,w){x.action=w}function Jt(x){var w=Ge(),N=ki;if(N!==null)return zn(w,N,x);Ge(),w=w.memoizedState,N=Ge();var X=N.queue.dispatch;return N.memoizedState=x,[w,X,!1]}function es(x,w,N,X){return x={tag:x,create:w,inst:N,deps:X,next:null},w=vr.updateQueue,w===null&&(w=wv(),vr.updateQueue=w),N=w.lastEffect,N===null?w.lastEffect=x.next=x:(X=N.next,N.next=x,x.next=X,w.lastEffect=x),x}function xs(){return Ge().memoizedState}function Ks(x,w,N,X){var J=be();vr.flags|=x,J.memoizedState=es(1|w,N,{destroy:void 0},X===void 0?null:X)}function Nr(x,w,N,X){var J=Ge();X=X===void 0?null:X;var ue=J.memoizedState.inst;ki!==null&&X!==null&&we(X,ki.memoizedState.deps)?J.memoizedState=es(w,N,ue,X):(vr.flags|=x,J.memoizedState=es(1|w,N,ue,X))}function Os(x,w){Ks(8390656,8,x,w)}function Zs(x,w){Nr(2048,8,x,w)}function ro(x,w){return Nr(4,2,x,w)}function Ss(x,w){return Nr(4,4,x,w)}function _a(x,w){if(typeof w=="function"){x=x();var N=w(x);return function(){typeof N=="function"?N():w(null)}}if(w!=null)return x=x(),w.current=x,function(){w.current=null}}function us(x,w,N){N=N!=null?N.concat([x]):null,Nr(4,4,_a.bind(null,w,x),N)}function ws(){}function ja(x,w){var N=Ge();w=w===void 0?null:w;var X=N.memoizedState;return w!==null&&we(w,X[1])?X[0]:(N.memoizedState=[x,w],x)}function na(x,w){var N=Ge();w=w===void 0?null:w;var X=N.memoizedState;if(w!==null&&we(w,X[1]))return X[0];if(X=x(),md){Z(!0);try{x()}finally{Z(!1)}}return N.memoizedState=[X,w],X}function La(x,w,N){return N===void 0||(Eh&1073741824)!==0?x.memoizedState=w:(x.memoizedState=N,x=Em(),vr.lanes|=x,lc|=x,N)}function Xa(x,w,N,X){return Fl(N,w)?N:Gs.current!==null?(x=La(x,N,X),Fl(x,w)||(Ns=!0),x):(Eh&42)===0?(Ns=!0,x.memoizedState=N):(x=Em(),vr.lanes|=x,lc|=x,w)}function Pa(x,w,N,X,J){var ue=Qa();Sr(ue!==0&&8>ue?ue:8);var Ne=at.T,st={};at.T=st,Es(x,!1,w,N);try{var Mt=J(),pn=at.S;if(pn!==null&&pn(st,Mt),Mt!==null&&typeof Mt=="object"&&typeof Mt.then=="function"){var kn=Gt(Mt,X);ia(x,w,kn,ma(x))}else ia(x,w,X,ma(x))}catch(Jn){ia(x,w,{then:function(){},status:"rejected",reason:Jn},ma())}finally{Sr(ue),at.T=Ne}}function Qs(x){var w=x.memoizedState;if(w!==null)return w;w={memoizedState:nu,baseState:nu,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ct,lastRenderedState:nu},next:null};var N={};return w.next={memoizedState:N,baseState:N,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ct,lastRenderedState:N},next:null},x.memoizedState=w,x=x.alternate,x!==null&&(x.memoizedState=w),w}function so(){return Rn(Dl)}function da(){return Ge().memoizedState}function hs(){return Ge().memoizedState}function ko(x){for(var w=x.return;w!==null;){switch(w.tag){case 24:case 3:var N=ma();x=xt(N);var X=kt(w,x,N);X!==null&&(Za(X,w,N),Xt(X,w,N)),w={cache:ni()},x.payload=w;return}w=w.return}}function So(x,w,N){var X=ma();N={lane:X,revertLane:0,action:N,hasEagerState:!1,eagerState:null,next:null},Hr(x)?Xr(w,N):(N=mt(x,w,N,X),N!==null&&(Za(N,x,X),fr(N,w,X)))}function wo(x,w,N){var X=ma();ia(x,w,N,X)}function ia(x,w,N,X){var J={lane:X,revertLane:0,action:N,hasEagerState:!1,eagerState:null,next:null};if(Hr(x))Xr(w,J);else{var ue=x.alternate;if(x.lanes===0&&(ue===null||ue.lanes===0)&&(ue=w.lastRenderedReducer,ue!==null))try{var Ne=w.lastRenderedState,st=ue(Ne,N);if(J.hasEagerState=!0,J.eagerState=st,Fl(st,Ne))return yt(x,w,J,0),ps===null&&Me(),!1}catch{}finally{}if(N=mt(x,w,J,X),N!==null)return Za(N,x,X),fr(N,w,X),!0}return!1}function Es(x,w,N,X){if(X={lane:2,revertLane:Qe(),action:X,hasEagerState:!1,eagerState:null,next:null},Hr(x)){if(w)throw Error(r(479))}else w=mt(x,N,X,2),w!==null&&Za(w,x,2)}function Hr(x){var w=x.alternate;return x===vr||w!==null&&w===vr}function Xr(x,w){vf=Nc=!0;var N=x.pending;N===null?w.next=w:(w.next=N.next,N.next=w),x.pending=w}function fr(x,w,N){if((N&4194176)!==0){var X=w.lanes;X&=x.pendingLanes,N|=X,w.lanes=N,U(x,N)}}function ss(x,w,N,X){w=x.memoizedState,N=N(X,w),N=N==null?w:pp({},w,N),x.memoizedState=N,x.lanes===0&&(x.updateQueue.baseState=N)}function ba(x,w,N,X,J,ue,Ne){return x=x.stateNode,typeof x.shouldComponentUpdate=="function"?x.shouldComponentUpdate(X,ue,Ne):w.prototype&&w.prototype.isPureReactComponent?!Dt(N,X)||!Dt(J,ue):!0}function Ia(x,w,N,X){x=w.state,typeof w.componentWillReceiveProps=="function"&&w.componentWillReceiveProps(N,X),typeof w.UNSAFE_componentWillReceiveProps=="function"&&w.UNSAFE_componentWillReceiveProps(N,X),w.state!==x&&zu.enqueueReplaceState(w,w.state,null)}function Ls(x,w){var N=w;if("ref"in w){N={};for(var X in w)X!=="ref"&&(N[X]=w[X])}if(x=x.defaultProps){N===w&&(N=pp({},N));for(var J in x)N[J]===void 0&&(N[J]=x[J])}return N}function Tn(x,w){try{var N=x.onUncaughtError;N(w.value,{componentStack:w.stack})}catch(X){setTimeout(function(){throw X})}}function A(x,w,N){try{var X=x.onCaughtError;X(N.value,{componentStack:N.stack,errorBoundary:w.tag===1?w.stateNode:null})}catch(J){setTimeout(function(){throw J})}}function z(x,w,N){return N=xt(N),N.tag=3,N.payload={element:null},N.callback=function(){Tn(x,w)},N}function re(x){return x=xt(x),x.tag=3,x}function te(x,w,N,X){var J=N.type.getDerivedStateFromError;if(typeof J=="function"){var ue=X.value;x.payload=function(){return J(ue)},x.callback=function(){A(w,N,X)}}var Ne=N.stateNode;Ne!==null&&typeof Ne.componentDidCatch=="function"&&(x.callback=function(){A(w,N,X),typeof J!="function"&&(vd===null?vd=new Set([this]):vd.add(this));var st=X.stack;this.componentDidCatch(X.value,{componentStack:st!==null?st:""})})}function Ae(x,w,N,X,J){if(N.flags|=32768,X!==null&&typeof X=="object"&&typeof X.then=="function"){if(w=N.alternate,w!==null&&fi(w,N,J,!0),N=ic.current,N!==null){switch(N.tag){case 13:return Ds===null?Go():N.alternate===null&&Fs===0&&(Fs=3),N.flags&=-257,N.flags|=65536,N.lanes=J,X===Xm?N.flags|=16384:(w=N.updateQueue,w===null?N.updateQueue=new Set([X]):w.add(X),Kl(x,X,J)),!1;case 22:return N.flags|=65536,X===Xm?N.flags|=16384:(w=N.updateQueue,w===null?(w={transitions:null,markerInstances:null,retryQueue:new Set([X])},N.updateQueue=w):(N=w.retryQueue,N===null?w.retryQueue=new Set([X]):N.add(X)),Kl(x,X,J)),!1}throw Error(r(435,N.tag))}return Kl(x,X,J),Go(),!1}if(Vr)return w=ic.current,w!==null?((w.flags&65536)===0&&(w.flags|=256),w.flags|=65536,w.lanes=J,X!==Vm&&(x=Error(r(422),{cause:X}),Bt(oe(x,N)))):(X!==Vm&&(w=Error(r(423),{cause:X}),Bt(oe(w,N))),x=x.current.alternate,x.flags|=65536,J&=-J,x.lanes|=J,X=oe(X,N),J=z(x.stateNode,X,J),Ve(x,J),Fs!==4&&(Fs=2)),!1;var ue=Error(r(520),{cause:X});if(ue=oe(ue,N),bf===null?bf=[ue]:bf.push(ue),Fs!==4&&(Fs=2),w===null)return!0;X=oe(X,N),N=w;do{switch(N.tag){case 3:return N.flags|=65536,x=J&-J,N.lanes|=x,x=z(N.stateNode,X,x),Ve(N,x),!1;case 1:if(w=N.type,ue=N.stateNode,(N.flags&128)===0&&(typeof w.getDerivedStateFromError=="function"||ue!==null&&typeof ue.componentDidCatch=="function"&&(vd===null||!vd.has(ue))))return N.flags|=65536,J&=-J,N.lanes|=J,J=re(J),te(J,x,N,X),Ve(N,J),!1}N=N.return}while(N!==null);return!1}function ke(x,w,N,X){w.child=x===null?Bu(w,null,N,X):pd(w,x.child,N,X)}function P(x,w,N,X,J){N=N.render;var ue=w.ref;if("ref"in X){var Ne={};for(var st in X)st!=="ref"&&(Ne[st]=X[st])}else Ne=X;return sr(w),X=Ie(x,w,N,Ne,ue,J),st=Nt(),x!==null&&!Ns?(gn(x,w,J),He(x,w,J)):(Vr&&st&&he(w),w.flags|=1,ke(x,w,X,J),w.child)}function G(x,w,N,X,J){if(x===null){var ue=N.type;return typeof ue=="function"&&!Qd(ue)&&ue.defaultProps===void 0&&N.compare===null?(w.tag=15,w.type=ue,Y(x,w,ue,X,J)):(x=Zl(N.type,null,X,w,w.mode,J),x.ref=w.ref,x.return=w,w.child=x)}if(ue=x.child,!an(x,J)){var Ne=ue.memoizedProps;if(N=N.compare,N=N!==null?N:Dt,N(Ne,X)&&x.ref===w.ref)return He(x,w,J)}return w.flags|=1,x=Ll(ue,X),x.ref=w.ref,x.return=w,w.child=x}function Y(x,w,N,X,J){if(x!==null){var ue=x.memoizedProps;if(Dt(ue,X)&&x.ref===w.ref)if(Ns=!1,w.pendingProps=X=ue,an(x,J))(x.flags&131072)!==0&&(Ns=!0);else return w.lanes=x.lanes,He(x,w,J)}return Se(x,w,N,X,J)}function se(x,w,N){var X=w.pendingProps,J=X.children,ue=(w.stateNode._pendingVisibility&2)!==0,Ne=x!==null?x.memoizedState:null;if(le(x,w),X.mode==="hidden"||ue){if((w.flags&128)!==0){if(X=Ne!==null?Ne.baseLanes|N:N,x!==null){for(J=w.child=x.child,ue=0;J!==null;)ue=ue|J.lanes|J.childLanes,J=J.sibling;w.childLanes=ue&~X}else w.childLanes=0,w.child=null;return de(x,w,X,N)}if((N&536870912)!==0)w.memoizedState={baseLanes:0,cachePool:null},x!==null&&fa(w,Ne!==null?Ne.cachePool:null),Ne!==null?Si(w,Ne):er(),Wr(w);else return w.lanes=w.childLanes=536870912,de(x,w,Ne!==null?Ne.baseLanes|N:N,N)}else Ne!==null?(fa(w,Ne.cachePool),Si(w,Ne),jr(),w.memoizedState=null):(x!==null&&fa(w,null),er(),jr());return ke(x,w,J,N),w.child}function de(x,w,N,X){var J=bi();return J=J===null?null:{parent:Lr?Hs._currentValue:Hs._currentValue2,pool:J},w.memoizedState={baseLanes:N,cachePool:J},x!==null&&fa(w,null),er(),Wr(w),x!==null&&fi(x,w,X,!0),null}function le(x,w){var N=w.ref;if(N===null)x!==null&&x.ref!==null&&(w.flags|=2097664);else{if(typeof N!="function"&&typeof N!="object")throw Error(r(284));(x===null||x.ref!==N)&&(w.flags|=2097664)}}function Se(x,w,N,X,J){return sr(w),N=Ie(x,w,N,X,void 0,J),X=Nt(),x!==null&&!Ns?(gn(x,w,J),He(x,w,J)):(Vr&&X&&he(w),w.flags|=1,ke(x,w,N,J),w.child)}function je(x,w,N,X,J,ue){return sr(w),w.updateQueue=null,N=Rt(w,X,N,J),tt(x),X=Nt(),x!==null&&!Ns?(gn(x,w,ue),He(x,w,ue)):(Vr&&X&&he(w),w.flags|=1,ke(x,w,N,ue),w.child)}function ze(x,w,N,X,J){if(sr(w),w.stateNode===null){var ue=cd,Ne=N.contextType;typeof Ne=="object"&&Ne!==null&&(ue=Rn(Ne)),ue=new N(X,ue),w.memoizedState=ue.state!==null&&ue.state!==void 0?ue.state:null,ue.updater=zu,w.stateNode=ue,ue._reactInternals=w,ue=w.stateNode,ue.props=X,ue.state=w.memoizedState,ue.refs={},on(w),Ne=N.contextType,ue.context=typeof Ne=="object"&&Ne!==null?Rn(Ne):cd,ue.state=w.memoizedState,Ne=N.getDerivedStateFromProps,typeof Ne=="function"&&(ss(w,N,Ne,X),ue.state=w.memoizedState),typeof N.getDerivedStateFromProps=="function"||typeof ue.getSnapshotBeforeUpdate=="function"||typeof ue.UNSAFE_componentWillMount!="function"&&typeof ue.componentWillMount!="function"||(Ne=ue.state,typeof ue.componentWillMount=="function"&&ue.componentWillMount(),typeof ue.UNSAFE_componentWillMount=="function"&&ue.UNSAFE_componentWillMount(),Ne!==ue.state&&zu.enqueueReplaceState(ue,ue.state,null),Qt(w,X,ue,J),lt(),ue.state=w.memoizedState),typeof ue.componentDidMount=="function"&&(w.flags|=4194308),X=!0}else if(x===null){ue=w.stateNode;var st=w.memoizedProps,Mt=Ls(N,st);ue.props=Mt;var pn=ue.context,kn=N.contextType;Ne=cd,typeof kn=="object"&&kn!==null&&(Ne=Rn(kn));var Jn=N.getDerivedStateFromProps;kn=typeof Jn=="function"||typeof ue.getSnapshotBeforeUpdate=="function",st=w.pendingProps!==st,kn||typeof ue.UNSAFE_componentWillReceiveProps!="function"&&typeof ue.componentWillReceiveProps!="function"||(st||pn!==Ne)&&Ia(w,ue,X,Ne),wh=!1;var ii=w.memoizedState;ue.state=ii,Qt(w,X,ue,J),lt(),pn=w.memoizedState,st||ii!==pn||wh?(typeof Jn=="function"&&(ss(w,N,Jn,X),pn=w.memoizedState),(Mt=wh||ba(w,N,Mt,X,ii,pn,Ne))?(kn||typeof ue.UNSAFE_componentWillMount!="function"&&typeof ue.componentWillMount!="function"||(typeof ue.componentWillMount=="function"&&ue.componentWillMount(),typeof ue.UNSAFE_componentWillMount=="function"&&ue.UNSAFE_componentWillMount()),typeof ue.componentDidMount=="function"&&(w.flags|=4194308)):(typeof ue.componentDidMount=="function"&&(w.flags|=4194308),w.memoizedProps=X,w.memoizedState=pn),ue.props=X,ue.state=pn,ue.context=Ne,X=Mt):(typeof ue.componentDidMount=="function"&&(w.flags|=4194308),X=!1)}else{ue=w.stateNode,fn(x,w),Ne=w.memoizedProps,kn=Ls(N,Ne),ue.props=kn,Jn=w.pendingProps,ii=ue.context,pn=N.contextType,Mt=cd,typeof pn=="object"&&pn!==null&&(Mt=Rn(pn)),st=N.getDerivedStateFromProps,(pn=typeof st=="function"||typeof ue.getSnapshotBeforeUpdate=="function")||typeof ue.UNSAFE_componentWillReceiveProps!="function"&&typeof ue.componentWillReceiveProps!="function"||(Ne!==Jn||ii!==Mt)&&Ia(w,ue,X,Mt),wh=!1,ii=w.memoizedState,ue.state=ii,Qt(w,X,ue,J),lt();var ur=w.memoizedState;Ne!==Jn||ii!==ur||wh||x!==null&&x.dependencies!==null&&Fr(x.dependencies)?(typeof st=="function"&&(ss(w,N,st,X),ur=w.memoizedState),(kn=wh||ba(w,N,kn,X,ii,ur,Mt)||x!==null&&x.dependencies!==null&&Fr(x.dependencies))?(pn||typeof ue.UNSAFE_componentWillUpdate!="function"&&typeof ue.componentWillUpdate!="function"||(typeof ue.componentWillUpdate=="function"&&ue.componentWillUpdate(X,ur,Mt),typeof ue.UNSAFE_componentWillUpdate=="function"&&ue.UNSAFE_componentWillUpdate(X,ur,Mt)),typeof ue.componentDidUpdate=="function"&&(w.flags|=4),typeof ue.getSnapshotBeforeUpdate=="function"&&(w.flags|=1024)):(typeof ue.componentDidUpdate!="function"||Ne===x.memoizedProps&&ii===x.memoizedState||(w.flags|=4),typeof ue.getSnapshotBeforeUpdate!="function"||Ne===x.memoizedProps&&ii===x.memoizedState||(w.flags|=1024),w.memoizedProps=X,w.memoizedState=ur),ue.props=X,ue.state=ur,ue.context=Mt,X=kn):(typeof ue.componentDidUpdate!="function"||Ne===x.memoizedProps&&ii===x.memoizedState||(w.flags|=4),typeof ue.getSnapshotBeforeUpdate!="function"||Ne===x.memoizedProps&&ii===x.memoizedState||(w.flags|=1024),X=!1)}return ue=X,le(x,w),X=(w.flags&128)!==0,ue||X?(ue=w.stateNode,N=X&&typeof N.getDerivedStateFromError!="function"?null:ue.render(),w.flags|=1,x!==null&&X?(w.child=pd(w,x.child,null,J),w.child=pd(w,null,N,J)):ke(x,w,N,J),w.memoizedState=ue.state,x=w.child):x=He(x,w,J),x}function dt(x,w,N,X){return ft(),w.flags|=256,ke(x,w,N,X),w.child}function $t(x){return{baseLanes:x,cachePool:Eo()}}function rn(x,w,N){return x=x!==null?x.childLanes&~N:0,w&&(x|=cc),x}function It(x,w,N){var X=w.pendingProps,J=!1,ue=(w.flags&128)!==0,Ne;if((Ne=ue)||(Ne=x!==null&&x.memoizedState===null?!1:(ho.current&2)!==0),Ne&&(J=!0,w.flags&=-129),Ne=(w.flags&32)!==0,w.flags&=-33,x===null){if(Vr){if(J?Or(w):jr(),Vr){var st=Vo,Mt;(Mt=st)&&(st=vb(st,Oo),st!==null?(w.memoizedState={dehydrated:st,treeContext:ud!==null?{id:su,overflow:au}:null,retryLane:536870912},Mt=t(18,null,null,0),Mt.stateNode=st,Mt.return=w,w.child=Mt,$o=w,Vo=null,Mt=!0):Mt=!1),Mt||Te(w)}if(st=w.memoizedState,st!==null&&(st=st.dehydrated,st!==null))return dv(st)?w.lanes=16:w.lanes=536870912,null;ti(w)}return st=X.children,X=X.fallback,J?(jr(),J=w.mode,st=hi({mode:"hidden",children:st},J),X=oa(X,J,N,null),st.return=w,X.return=w,st.sibling=X,w.child=st,J=w.child,J.memoizedState=$t(N),J.childLanes=rn(x,Ne,N),w.memoizedState=Tv,X):(Or(w),yn(w,st))}if(Mt=x.memoizedState,Mt!==null&&(st=Mt.dehydrated,st!==null)){if(ue)w.flags&256?(Or(w),w.flags&=-257,w=Ee(x,w,N)):w.memoizedState!==null?(jr(),w.child=x.child,w.flags|=128,w=null):(jr(),J=X.fallback,st=w.mode,X=hi({mode:"visible",children:X.children},st),J=oa(J,st,N,null),J.flags|=2,X.return=w,J.return=w,X.sibling=J,w.child=X,pd(w,x.child,null,N),X=w.child,X.memoizedState=$t(N),X.childLanes=rn(x,Ne,N),w.memoizedState=Tv,w=J);else if(Or(w),dv(st))Ne=db(st).digest,X=Error(r(419)),X.stack="",X.digest=Ne,Bt({value:X,source:null,stack:null}),w=Ee(x,w,N);else if(Ns||fi(x,w,N,!1),Ne=(N&x.childLanes)!==0,Ns||Ne){if(Ne=ps,Ne!==null){if(X=N&-N,(X&42)!==0)X=1;else switch(X){case 2:X=1;break;case 8:X=4;break;case 32:X=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:X=64;break;case 268435456:X=134217728;break;default:X=0}if(X=(X&(Ne.suspendedLanes|N))!==0?0:X,X!==0&&X!==Mt.retryLane)throw Mt.retryLane=X,St(x,X),Za(Ne,x,X),Cv}hv(st)||Go(),w=Ee(x,w,N)}else hv(st)?(w.flags|=128,w.child=x.child,w=eu.bind(null,x),fb(st,w),w=null):(x=Mt.treeContext,Kr&&(Vo=gb(st),$o=w,Vr=!0,Ic=null,Oo=!1,x!==null&&(ec[tc++]=su,ec[tc++]=au,ec[tc++]=ud,su=x.id,au=x.overflow,ud=w)),w=yn(w,X.children),w.flags|=4096);return w}return J?(jr(),J=X.fallback,st=w.mode,Mt=x.child,ue=Mt.sibling,X=Ll(Mt,{mode:"hidden",children:X.children}),X.subtreeFlags=Mt.subtreeFlags&31457280,ue!==null?J=Ll(ue,J):(J=oa(J,st,N,null),J.flags|=2),J.return=w,X.return=w,X.sibling=J,w.child=X,X=J,J=w.child,st=x.child.memoizedState,st===null?st=$t(N):(Mt=st.cachePool,Mt!==null?(ue=Lr?Hs._currentValue:Hs._currentValue2,Mt=Mt.parent!==ue?{parent:ue,pool:ue}:Mt):Mt=Eo(),st={baseLanes:st.baseLanes|N,cachePool:Mt}),J.memoizedState=st,J.childLanes=rn(x,Ne,N),w.memoizedState=Tv,X):(Or(w),N=x.child,x=N.sibling,N=Ll(N,{mode:"visible",children:X.children}),N.return=w,N.sibling=null,x!==null&&(Ne=w.deletions,Ne===null?(w.deletions=[x],w.flags|=16):Ne.push(x)),w.child=N,w.memoizedState=null,N)}function yn(x,w){return w=hi({mode:"visible",children:w},x.mode),w.return=x,x.child=w}function hi(x,w){return id(x,w,0,null)}function Ee(x,w,N){return pd(w,x.child,null,N),x=yn(w,w.pendingProps.children),x.flags|=2,w.memoizedState=null,x}function Re(x,w,N){x.lanes|=w;var X=x.alternate;X!==null&&(X.lanes|=w),vi(x.return,w,N)}function Xe(x,w,N,X,J){var ue=x.memoizedState;ue===null?x.memoizedState={isBackwards:w,rendering:null,renderingStartTime:0,last:X,tail:N,tailMode:J}:(ue.isBackwards=w,ue.rendering=null,ue.renderingStartTime=0,ue.last=X,ue.tail=N,ue.tailMode=J)}function Ue(x,w,N){var X=w.pendingProps,J=X.revealOrder,ue=X.tail;if(ke(x,w,X.children,N),X=ho.current,(X&2)!==0)X=X&1|2,w.flags|=128;else{if(x!==null&&(x.flags&128)!==0)e:for(x=w.child;x!==null;){if(x.tag===13)x.memoizedState!==null&&Re(x,N,w);else if(x.tag===19)Re(x,N,w);else if(x.child!==null){x.child.return=x,x=x.child;continue}if(x===w)break e;for(;x.sibling===null;){if(x.return===null||x.return===w)break e;x=x.return}x.sibling.return=x.return,x=x.sibling}X&=1}switch(b(ho,X),J){case"forwards":for(N=w.child,J=null;N!==null;)x=N.alternate,x!==null&&rr(x)===null&&(J=N),N=N.sibling;N=J,N===null?(J=w.child,w.child=null):(J=N.sibling,N.sibling=null),Xe(w,!1,J,N,ue);break;case"backwards":for(N=null,J=w.child,w.child=null;J!==null;){if(x=J.alternate,x!==null&&rr(x)===null){w.child=J;break}x=J.sibling,J.sibling=N,N=J,J=x}Xe(w,!0,N,null,ue);break;case"together":Xe(w,!1,null,null,void 0);break;default:w.memoizedState=null}return w.child}function He(x,w,N){if(x!==null&&(w.dependencies=x.dependencies),lc|=w.lanes,(N&w.childLanes)===0)if(x!==null){if(fi(x,w,N,!1),(N&w.childLanes)===0)return null}else return null;if(x!==null&&w.child!==x.child)throw Error(r(153));if(w.child!==null){for(x=w.child,N=Ll(x,x.pendingProps),w.child=N,N.return=w;x.sibling!==null;)x=x.sibling,N=N.sibling=Ll(x,x.pendingProps),N.return=w;N.sibling=null}return w.child}function an(x,w){return(x.lanes&w)!==0?!0:(x=x.dependencies,!!(x!==null&&Fr(x)))}function tn(x,w,N){switch(w.tag){case 3:ce(w,w.stateNode.containerInfo),An(w,Hs,x.memoizedState.cache),ft();break;case 27:case 5:ve(w);break;case 4:ce(w,w.stateNode.containerInfo);break;case 10:An(w,w.type,w.memoizedProps.value);break;case 13:var X=w.memoizedState;if(X!==null)return X.dehydrated!==null?(Or(w),w.flags|=128,null):(N&w.child.childLanes)!==0?It(x,w,N):(Or(w),x=He(x,w,N),x!==null?x.sibling:null);Or(w);break;case 19:var J=(x.flags&128)!==0;if(X=(N&w.childLanes)!==0,X||(fi(x,w,N,!1),X=(N&w.childLanes)!==0),J){if(X)return Ue(x,w,N);w.flags|=128}if(J=w.memoizedState,J!==null&&(J.rendering=null,J.tail=null,J.lastEffect=null),b(ho,ho.current),X)break;return null;case 22:case 23:return w.lanes=0,se(x,w,N);case 24:An(w,Hs,x.memoizedState.cache)}return He(x,w,N)}function hn(x,w,N){if(x!==null)if(x.memoizedProps!==w.pendingProps)Ns=!0;else{if(!an(x,N)&&(w.flags&128)===0)return Ns=!1,tn(x,w,N);Ns=(x.flags&131072)!==0}else Ns=!1,Vr&&(w.flags&1048576)!==0&&ie(w,Cp,w.index);switch(w.lanes=0,w.tag){case 16:e:{x=w.pendingProps;var X=w.elementType,J=X._init;if(X=J(X._payload),w.type=X,typeof X=="function")Qd(X)?(x=Ls(X,x),w.tag=1,w=ze(null,w,X,x,N)):(w.tag=0,w=Se(null,w,X,x,N));else{if(X!=null){if(J=X.$$typeof,J===Pu){w.tag=11,w=P(null,w,X,x,N);break e}else if(J===Iu){w.tag=14,w=G(null,w,X,x,N);break e}}throw w=a(X)||X,Error(r(306,w,""))}}return w;case 0:return Se(x,w,w.type,w.pendingProps,N);case 1:return X=w.type,J=Ls(X,w.pendingProps),ze(x,w,X,J,N);case 3:e:{if(ce(w,w.stateNode.containerInfo),x===null)throw Error(r(387));var ue=w.pendingProps;J=w.memoizedState,X=J.element,fn(x,w),Qt(w,ue,null,N);var Ne=w.memoizedState;if(ue=Ne.cache,An(w,Hs,ue),ue!==J.cache&&nr(w,[Hs],N,!0),lt(),ue=Ne.element,Kr&&J.isDehydrated)if(J={element:ue,isDehydrated:!1,cache:Ne.cache},w.updateQueue.baseState=J,w.memoizedState=J,w.flags&256){w=dt(x,w,ue,N);break e}else if(ue!==X){X=oe(Error(r(424)),w),Bt(X),w=dt(x,w,ue,N);break e}else for(Kr&&(Vo=mb(w.stateNode.containerInfo),$o=w,Vr=!0,Ic=null,Oo=!0),N=Bu(w,null,ue,N),w.child=N;N;)N.flags=N.flags&-3|4096,N=N.sibling;else{if(ft(),ue===X){w=He(x,w,N);break e}ke(x,w,ue,N)}w=w.child}return w;case 26:if(Jl)return le(x,w),x===null?(N=Oy(w.type,null,w.pendingProps,null))?w.memoizedState=N:Vr||(w.stateNode=vv(w.type,w.pendingProps,Uu.current,w)):w.memoizedState=Oy(w.type,x.memoizedProps,w.pendingProps,x.memoizedState),null;case 27:if(Is)return ve(w),x===null&&Is&&Vr&&(X=w.stateNode=ru(w.type,w.pendingProps,Uu.current,uo.current,!1),$o=w,Oo=!0,Vo=fv(X)),X=w.pendingProps.children,x!==null||Vr?ke(x,w,X,N):w.child=pd(w,null,X,N),le(x,w),w.child;case 5:return x===null&&Vr&&(mv(w.type,w.pendingProps,uo.current),(J=X=Vo)&&(X=kC(X,w.type,w.pendingProps,Oo),X!==null?(w.stateNode=X,$o=w,Vo=fv(X),Oo=!1,J=!0):J=!1),J||Te(w)),ve(w),J=w.type,ue=w.pendingProps,Ne=x!==null?x.memoizedProps:null,X=ue.children,Hn(J,ue)?X=null:Ne!==null&&Hn(J,Ne)&&(w.flags|=32),w.memoizedState!==null&&(J=Ie(x,w,Ot,null,null,N),Lr?Dl._currentValue=J:Dl._currentValue2=J),le(x,w),ke(x,w,X,N),w.child;case 6:return x===null&&Vr&&(Sb(w.pendingProps,uo.current),(x=N=Vo)&&(N=My(N,w.pendingProps,Oo),N!==null?(w.stateNode=N,$o=w,Vo=null,x=!0):x=!1),x||Te(w)),null;case 13:return It(x,w,N);case 4:return ce(w,w.stateNode.containerInfo),X=w.pendingProps,x===null?w.child=pd(w,null,X,N):ke(x,w,X,N),w.child;case 11:return P(x,w,w.type,w.pendingProps,N);case 7:return ke(x,w,w.pendingProps,N),w.child;case 8:return ke(x,w,w.pendingProps.children,N),w.child;case 12:return ke(x,w,w.pendingProps.children,N),w.child;case 10:return X=w.pendingProps,An(w,w.type,X.value),ke(x,w,X.children,N),w.child;case 9:return J=w.type._context,X=w.pendingProps.children,sr(w),J=Rn(J),X=X(J),w.flags|=1,ke(x,w,X,N),w.child;case 14:return G(x,w,w.type,w.pendingProps,N);case 15:return Y(x,w,w.type,w.pendingProps,N);case 19:return Ue(x,w,N);case 22:return se(x,w,N);case 24:return sr(w),X=Rn(Hs),x===null?(J=bi(),J===null&&(J=ps,ue=ni(),J.pooledCache=ue,ue.refCount++,ue!==null&&(J.pooledCacheLanes|=N),J=ue),w.memoizedState={parent:X,cache:J},on(w),An(w,Hs,J)):((x.lanes&N)!==0&&(fn(x,w),Qt(w,null,null,N),lt()),J=x.memoizedState,ue=w.memoizedState,J.parent!==X?(J={parent:X,cache:X},w.memoizedState=J,w.lanes===0&&(w.memoizedState=w.updateQueue.baseState=J),An(w,Hs,X)):(X=ue.cache,An(w,Hs,X),X!==J.cache&&nr(w,[Hs],N,!0))),ke(x,w,w.pendingProps.children,N),w.child;case 29:throw w.pendingProps}throw Error(r(156,w.tag))}function An(x,w,N){Lr?(b(Ch,w._currentValue),w._currentValue=N):(b(Ch,w._currentValue2),w._currentValue2=N)}function Nn(x){var w=Ch.current;Lr?x._currentValue=w:x._currentValue2=w,u(Ch)}function vi(x,w,N){for(;x!==null;){var X=x.alternate;if((x.childLanes&w)!==w?(x.childLanes|=w,X!==null&&(X.childLanes|=w)):X!==null&&(X.childLanes&w)!==w&&(X.childLanes|=w),x===N)break;x=x.return}}function nr(x,w,N,X){var J=x.child;for(J!==null&&(J.return=x);J!==null;){var ue=J.dependencies;if(ue!==null){var Ne=J.child;ue=ue.firstContext;e:for(;ue!==null;){var st=ue;ue=J;for(var Mt=0;Mt<w.length;Mt++)if(st.context===w[Mt]){ue.lanes|=N,st=ue.alternate,st!==null&&(st.lanes|=N),vi(ue.return,N,x),X||(Ne=null);break e}ue=st.next}}else if(J.tag===18){if(Ne=J.return,Ne===null)throw Error(r(341));Ne.lanes|=N,ue=Ne.alternate,ue!==null&&(ue.lanes|=N),vi(Ne,N,x),Ne=null}else Ne=J.child;if(Ne!==null)Ne.return=J;else for(Ne=J;Ne!==null;){if(Ne===x){Ne=null;break}if(J=Ne.sibling,J!==null){J.return=Ne.return,Ne=J;break}Ne=Ne.return}J=Ne}}function fi(x,w,N,X){x=null;for(var J=w,ue=!1;J!==null;){if(!ue){if((J.flags&524288)!==0)ue=!0;else if((J.flags&262144)!==0)break}if(J.tag===10){var Ne=J.alternate;if(Ne===null)throw Error(r(387));if(Ne=Ne.memoizedProps,Ne!==null){var st=J.type;Fl(J.pendingProps.value,Ne.value)||(x!==null?x.push(st):x=[st])}}else if(J===hf.current){if(Ne=J.alternate,Ne===null)throw Error(r(387));Ne.memoizedState.memoizedState!==J.memoizedState.memoizedState&&(x!==null?x.push(Dl):x=[Dl])}J=J.return}x!==null&&nr(w,x,N,X),w.flags|=262144}function Fr(x){for(x=x.firstContext;x!==null;){var w=x.context;if(!Fl(Lr?w._currentValue:w._currentValue2,x.memoizedValue))return!0;x=x.next}return!1}function sr(x){cu=x,sc=null,x=x.dependencies,x!==null&&(x.firstContext=null)}function Rn(x){return si(cu,x)}function yi(x,w){return cu===null&&sr(x),si(x,w)}function si(x,w){var N=Lr?w._currentValue:w._currentValue2;if(w={context:w,memoizedValue:N,next:null},sc===null){if(x===null)throw Error(r(308));sc=w,x.dependencies={lanes:0,firstContext:w},x.flags|=524288}else sc=sc.next=w;return N}function ni(){return{controller:new Lp,data:new Map,refCount:0}}function wi(x){x.refCount--,x.refCount===0&&Ib(Db,function(){x.controller.abort()})}function bi(){var x=Gu.current;return x!==null?x:ps.pooledCache}function fa(x,w){w===null?b(Gu,Gu.current):b(Gu,w.pool)}function Eo(){var x=bi();return x===null?null:{parent:Lr?Hs._currentValue:Hs._currentValue2,pool:x}}function Da(x){x.flags|=4}function Fi(x,w){if(x!==null&&x.child===w.child)return!1;if((w.flags&16)!==0)return!0;for(x=w.child;x!==null;){if((x.flags&13878)!==0||(x.subtreeFlags&13878)!==0)return!0;x=x.sibling}return!1}function Co(x,w,N,X){if(Yr)for(N=w.child;N!==null;){if(N.tag===5||N.tag===6)or(x,N.stateNode);else if(!(N.tag===4||Is&&N.tag===27)&&N.child!==null){N.child.return=N,N=N.child;continue}if(N===w)break;for(;N.sibling===null;){if(N.return===null||N.return===w)return;N=N.return}N.sibling.return=N.return,N=N.sibling}else if(ca)for(var J=w.child;J!==null;){if(J.tag===5){var ue=J.stateNode;N&&X&&(ue=Ey(ue,J.type,J.memoizedProps)),or(x,ue)}else if(J.tag===6)ue=J.stateNode,N&&X&&(ue=Cy(ue,J.memoizedProps)),or(x,ue);else if(J.tag!==4){if(J.tag===22&&J.memoizedState!==null)ue=J.child,ue!==null&&(ue.return=J),Co(x,J,!0,!0);else if(J.child!==null){J.child.return=J,J=J.child;continue}}if(J===w)break;for(;J.sibling===null;){if(J.return===null||J.return===w)return;J=J.return}J.sibling.return=J.return,J=J.sibling}}function qa(x,w,N,X){if(ca)for(var J=w.child;J!==null;){if(J.tag===5){var ue=J.stateNode;N&&X&&(ue=Ey(ue,J.type,J.memoizedProps)),wy(x,ue)}else if(J.tag===6)ue=J.stateNode,N&&X&&(ue=Cy(ue,J.memoizedProps)),wy(x,ue);else if(J.tag!==4){if(J.tag===22&&J.memoizedState!==null)ue=J.child,ue!==null&&(ue.return=J),qa(x,J,!(J.memoizedProps!==null&&J.memoizedProps.mode==="manual"),!0);else if(J.child!==null){J.child.return=J,J=J.child;continue}}if(J===w)break;for(;J.sibling===null;){if(J.return===null||J.return===w)return;J=J.return}J.sibling.return=J.return,J=J.sibling}}function ao(x,w){if(ca&&Fi(x,w)){x=w.stateNode;var N=x.containerInfo,X=km();qa(X,w,!1,!1),x.pendingChildren=X,Da(w),uv(N,X)}}function lr(x,w,N,X){if(Yr)x.memoizedProps!==X&&Da(w);else if(ca){var J=x.stateNode,ue=x.memoizedProps;if((x=Fi(x,w))||ue!==X){var Ne=uo.current;ue=Sp(J,N,ue,X,!x,null),ue===J?w.stateNode=J:(pr(ue,N,X,Ne)&&Da(w),w.stateNode=ue,x?Co(ue,w,!1,!1):Da(w))}else w.stateNode=J}}function Cs(x,w,N){if(os(w,N)){if(x.flags|=16777216,!eo(w,N))if(Au())x.flags|=8192;else throw hd=Xm,jm}else x.flags&=-16777217}function ts(x,w){if(Cb(w)){if(x.flags|=16777216,!af(w))if(Au())x.flags|=8192;else throw hd=Xm,jm}else x.flags&=-16777217}function ns(x,w){w!==null&&(x.flags|=4),x.flags&16384&&(w=x.tag!==22?F():536870912,x.lanes|=w,Vu|=w)}function Bs(x,w){if(!Vr)switch(x.tailMode){case"hidden":w=x.tail;for(var N=null;w!==null;)w.alternate!==null&&(N=w),w=w.sibling;N===null?x.tail=null:N.sibling=null;break;case"collapsed":N=x.tail;for(var X=null;N!==null;)N.alternate!==null&&(X=N),N=N.sibling;X===null?w||x.tail===null?x.tail=null:x.tail.sibling=null:X.sibling=null}}function ui(x){var w=x.alternate!==null&&x.alternate.child===x.child,N=0,X=0;if(w)for(var J=x.child;J!==null;)N|=J.lanes|J.childLanes,X|=J.subtreeFlags&31457280,X|=J.flags&31457280,J.return=x,J=J.sibling;else for(J=x.child;J!==null;)N|=J.lanes|J.childLanes,X|=J.subtreeFlags,X|=J.flags,J.return=x,J=J.sibling;return x.subtreeFlags|=X,x.childLanes=N,w}function oo(x,w,N){var X=w.pendingProps;switch(fe(w),w.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ui(w),null;case 1:return ui(w),null;case 3:return N=w.stateNode,X=null,x!==null&&(X=x.memoizedState.cache),w.memoizedState.cache!==X&&(w.flags|=2048),Nn(Hs),ae(),N.pendingContext&&(N.context=N.pendingContext,N.pendingContext=null),(x===null||x.child===null)&&(ht(w)?Da(w):x===null||x.memoizedState.isDehydrated&&(w.flags&256)===0||(w.flags|=1024,Ic!==null&&(fh(Ic),Ic=null))),ao(x,w),ui(w),null;case 26:if(Jl){N=w.type;var J=w.memoizedState;return x===null?(Da(w),J!==null?(ui(w),ts(w,J)):(ui(w),Cs(w,N,X))):J?J!==x.memoizedState?(Da(w),ui(w),ts(w,J)):(ui(w),w.flags&=-16777217):(Yr?x.memoizedProps!==X&&Da(w):lr(x,w,N,X),ui(w),Cs(w,N,X)),null}case 27:if(Is){if(_e(w),N=Uu.current,J=w.type,x!==null&&w.stateNode!=null)Yr?x.memoizedProps!==X&&Da(w):lr(x,w,J,X);else{if(!X){if(w.stateNode===null)throw Error(r(166));return ui(w),null}x=uo.current,ht(w)?Fe(w,x):(x=ru(J,X,N,x,!0),w.stateNode=x,Da(w))}return ui(w),null}case 5:if(_e(w),N=w.type,x!==null&&w.stateNode!=null)lr(x,w,N,X);else{if(!X){if(w.stateNode===null)throw Error(r(166));return ui(w),null}x=uo.current,ht(w)?Fe(w,x):(J=ds(N,X,Uu.current,x,w),Co(J,w,!1,!1),w.stateNode=J,pr(J,N,X,x)&&Da(w))}return ui(w),Cs(w,w.type,w.pendingProps),null;case 6:if(x&&w.stateNode!=null)N=x.memoizedProps,Yr?N!==X&&Da(w):ca&&(N!==X?(w.stateNode=di(X,Uu.current,uo.current,w),Da(w)):w.stateNode=x.stateNode);else{if(typeof X!="string"&&w.stateNode===null)throw Error(r(166));if(x=Uu.current,N=uo.current,ht(w)){if(!Kr)throw Error(r(176));if(x=w.stateNode,N=w.memoizedProps,X=null,J=$o,J!==null)switch(J.tag){case 27:case 5:X=J.memoizedProps}Ry(x,N,w,X)||Te(w)}else w.stateNode=di(X,x,N,w)}return ui(w),null;case 13:if(X=w.memoizedState,x===null||x.memoizedState!==null&&x.memoizedState.dehydrated!==null){if(J=ht(w),X!==null&&X.dehydrated!==null){if(x===null){if(!J)throw Error(r(318));if(!Kr)throw Error(r(344));if(J=w.memoizedState,J=J!==null?J.dehydrated:null,!J)throw Error(r(317));_b(J,w)}else ft(),(w.flags&128)===0&&(w.memoizedState=null),w.flags|=4;ui(w),J=!1}else Ic!==null&&(fh(Ic),Ic=null),J=!0;if(!J)return w.flags&256?(ti(w),w):(ti(w),null)}if(ti(w),(w.flags&128)!==0)return w.lanes=N,w;if(N=X!==null,x=x!==null&&x.memoizedState!==null,N){X=w.child,J=null,X.alternate!==null&&X.alternate.memoizedState!==null&&X.alternate.memoizedState.cachePool!==null&&(J=X.alternate.memoizedState.cachePool.pool);var ue=null;X.memoizedState!==null&&X.memoizedState.cachePool!==null&&(ue=X.memoizedState.cachePool.pool),ue!==J&&(X.flags|=2048)}return N!==x&&N&&(w.child.flags|=8192),ns(w,w.updateQueue),ui(w),null;case 4:return ae(),ao(x,w),x===null&&$r(w.stateNode.containerInfo),ui(w),null;case 10:return Nn(w.type),ui(w),null;case 19:if(u(ho),J=w.memoizedState,J===null)return ui(w),null;if(X=(w.flags&128)!==0,ue=J.rendering,ue===null)if(X)Bs(J,!1);else{if(Fs!==0||x!==null&&(x.flags&128)!==0)for(x=w.child;x!==null;){if(ue=rr(x),ue!==null){for(w.flags|=128,Bs(J,!1),x=ue.updateQueue,w.updateQueue=x,ns(w,x),w.subtreeFlags=0,x=N,N=w.child;N!==null;)Jd(N,x),N=N.sibling;return b(ho,ho.current&1|2),w.child}x=x.sibling}J.tail!==null&&Pc()>Dp&&(w.flags|=128,X=!0,Bs(J,!1),w.lanes=4194304)}else{if(!X)if(x=rr(ue),x!==null){if(w.flags|=128,X=!0,x=x.updateQueue,w.updateQueue=x,ns(w,x),Bs(J,!0),J.tail===null&&J.tailMode==="hidden"&&!ue.alternate&&!Vr)return ui(w),null}else 2*Pc()-J.renderingStartTime>Dp&&N!==536870912&&(w.flags|=128,X=!0,Bs(J,!1),w.lanes=4194304);J.isBackwards?(ue.sibling=w.child,w.child=ue):(x=J.last,x!==null?x.sibling=ue:w.child=ue,J.last=ue)}return J.tail!==null?(w=J.tail,J.rendering=w,J.tail=w.sibling,J.renderingStartTime=Pc(),w.sibling=null,x=ho.current,b(ho,X?x&1|2:x&1),w):(ui(w),null);case 22:case 23:return ti(w),Zi(),X=w.memoizedState!==null,x!==null?x.memoizedState!==null!==X&&(w.flags|=8192):X&&(w.flags|=8192),X?(N&536870912)!==0&&(w.flags&128)===0&&(ui(w),w.subtreeFlags&6&&(w.flags|=8192)):ui(w),N=w.updateQueue,N!==null&&ns(w,N.retryQueue),N=null,x!==null&&x.memoizedState!==null&&x.memoizedState.cachePool!==null&&(N=x.memoizedState.cachePool.pool),X=null,w.memoizedState!==null&&w.memoizedState.cachePool!==null&&(X=w.memoizedState.cachePool.pool),X!==N&&(w.flags|=2048),x!==null&&u(Gu),null;case 24:return N=null,x!==null&&(N=x.memoizedState.cache),w.memoizedState.cache!==N&&(w.flags|=2048),Nn(Hs),ui(w),null;case 25:return null}throw Error(r(156,w.tag))}function ra(x,w){switch(fe(w),w.tag){case 1:return x=w.flags,x&65536?(w.flags=x&-65537|128,w):null;case 3:return Nn(Hs),ae(),x=w.flags,(x&65536)!==0&&(x&128)===0?(w.flags=x&-65537|128,w):null;case 26:case 27:case 5:return _e(w),null;case 13:if(ti(w),x=w.memoizedState,x!==null&&x.dehydrated!==null){if(w.alternate===null)throw Error(r(340));ft()}return x=w.flags,x&65536?(w.flags=x&-65537|128,w):null;case 19:return u(ho),null;case 4:return ae(),null;case 10:return Nn(w.type),null;case 22:case 23:return ti(w),Zi(),x!==null&&u(Gu),x=w.flags,x&65536?(w.flags=x&-65537|128,w):null;case 24:return Nn(Hs),null;case 25:return null;default:return null}}function To(x,w){switch(fe(w),w.tag){case 3:Nn(Hs),ae();break;case 26:case 27:case 5:_e(w);break;case 4:ae();break;case 13:ti(w);break;case 19:u(ho);break;case 10:Nn(w.type);break;case 22:case 23:ti(w),Zi(),x!==null&&u(Gu);break;case 24:Nn(Hs)}}function xa(x,w){try{var N=w.updateQueue,X=N!==null?N.lastEffect:null;if(X!==null){var J=X.next;N=J;do{if((N.tag&x)===x){X=void 0;var ue=N.create,Ne=N.inst;X=ue(),Ne.destroy=X}N=N.next}while(N!==J)}}catch(st){is(w,w.return,st)}}function Ps(x,w,N){try{var X=w.updateQueue,J=X!==null?X.lastEffect:null;if(J!==null){var ue=J.next;X=ue;do{if((X.tag&x)===x){var Ne=X.inst,st=Ne.destroy;if(st!==void 0){Ne.destroy=void 0,J=w;var Mt=N;try{st()}catch(pn){is(J,Mt,pn)}}}X=X.next}while(X!==ue)}}catch(pn){is(w,w.return,pn)}}function Yd(x){var w=x.updateQueue;if(w!==null){var N=x.stateNode;try{ct(w,N)}catch(X){is(x,x.return,X)}}}function sa(x,w,N){N.props=Ls(x.type,x.memoizedProps),N.state=x.memoizedState;try{N.componentWillUnmount()}catch(X){is(x,w,X)}}function Ao(x,w){try{var N=x.ref;if(N!==null){var X=x.stateNode;switch(x.tag){case 26:case 27:case 5:var J=Ti(X);break;default:J=X}typeof N=="function"?x.refCleanup=N(J):N.current=J}}catch(ue){is(x,w,ue)}}function Sa(x,w){var N=x.ref,X=x.refCleanup;if(N!==null)if(typeof X=="function")try{X()}catch(J){is(x,w,J)}finally{x.refCleanup=null,x=x.alternate,x!=null&&(x.refCleanup=null)}else if(typeof N=="function")try{N(null)}catch(J){is(x,w,J)}else N.current=null}function Mo(x){var w=x.type,N=x.memoizedProps,X=x.stateNode;try{lv(X,w,N,x)}catch(J){is(x,x.return,J)}}function hh(x,w,N){try{_p(x.stateNode,x.type,N,w,x)}catch(X){is(x,x.return,X)}}function Jh(x){return x.tag===5||x.tag===3||(Jl?x.tag===26:!1)||(Is?x.tag===27:!1)||x.tag===4}function $e(x){e:for(;;){for(;x.sibling===null;){if(x.return===null||Jh(x.return))return null;x=x.return}for(x.sibling.return=x.return,x=x.sibling;x.tag!==5&&x.tag!==6&&(!Is||x.tag!==27)&&x.tag!==18;){if(x.flags&2||x.child===null||x.tag===4)continue e;x.child.return=x,x=x.child}if(!(x.flags&2))return x.stateNode}}function pt(x,w,N){var X=x.tag;if(X===5||X===6)x=x.stateNode,w?Dm(N,x,w):ad(N,x);else if(!(X===4||Is&&X===27)&&(x=x.child,x!==null))for(pt(x,w,N),x=x.sibling;x!==null;)pt(x,w,N),x=x.sibling}function Lt(x,w,N){var X=x.tag;if(X===5||X===6)x=x.stateNode,w?Im(N,x,w):Du(N,x);else if(!(X===4||Is&&X===27)&&(x=x.child,x!==null))for(Lt(x,w,N),x=x.sibling;x!==null;)Lt(x,w,N),x=x.sibling}function Vt(x,w,N){x=x.containerInfo;try{wp(x,N)}catch(X){is(w,w.return,X)}}function sn(x,w){for(ji(x.containerInfo),cr=w;cr!==null;)if(x=cr,w=x.child,(x.subtreeFlags&1028)!==0&&w!==null)w.return=x,cr=w;else for(;cr!==null;){x=cr;var N=x.alternate;switch(w=x.flags,x.tag){case 0:break;case 11:case 15:break;case 1:if((w&1024)!==0&&N!==null){w=void 0;var X=x,J=N.memoizedProps;N=N.memoizedState;var ue=X.stateNode;try{var Ne=Ls(X.type,J,X.elementType===X.type);w=ue.getSnapshotBeforeUpdate(Ne,N),ue.__reactInternalSnapshotBeforeUpdate=w}catch(st){is(X,X.return,st)}}break;case 3:(w&1024)!==0&&Yr&&hb(x.stateNode.containerInfo);break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((w&1024)!==0)throw Error(r(163))}if(w=x.sibling,w!==null){w.return=x.return,cr=w;break}cr=x.return}return Ne=Mr,Mr=!1,Ne}function Fn(x,w,N){var X=N.flags;switch(N.tag){case 0:case 11:case 15:Ts(x,N),X&4&&xa(5,N);break;case 1:if(Ts(x,N),X&4)if(x=N.stateNode,w===null)try{x.componentDidMount()}catch(st){is(N,N.return,st)}else{var J=Ls(N.type,w.memoizedProps);w=w.memoizedState;try{x.componentDidUpdate(J,w,x.__reactInternalSnapshotBeforeUpdate)}catch(st){is(N,N.return,st)}}X&64&&Yd(N),X&512&&Ao(N,N.return);break;case 3:if(Ts(x,N),X&64&&(X=N.updateQueue,X!==null)){if(x=null,N.child!==null)switch(N.child.tag){case 27:case 5:x=Ti(N.child.stateNode);break;case 1:x=N.child.stateNode}try{ct(X,x)}catch(st){is(N,N.return,st)}}break;case 26:if(Jl){Ts(x,N),X&512&&Ao(N,N.return);break}case 27:case 5:Ts(x,N),w===null&&X&4&&Mo(N),X&512&&Ao(N,N.return);break;case 12:Ts(x,N);break;case 13:Ts(x,N),X&4&&ir(x,N);break;case 22:if(J=N.memoizedState!==null||Hu,!J){w=w!==null&&w.memoizedState!==null||Ta;var ue=Hu,Ne=Ta;Hu=J,(Ta=w)&&!Ne?pa(x,N,(N.subtreeFlags&8772)!==0):Ts(x,N),Hu=ue,Ta=Ne}X&512&&(N.memoizedProps.mode==="manual"?Ao(N,N.return):Sa(N,N.return));break;default:Ts(x,N)}}function jn(x){var w=x.alternate;w!==null&&(x.alternate=null,jn(w)),x.child=null,x.deletions=null,x.sibling=null,x.tag===5&&(w=x.stateNode,w!==null&&Ja(w)),x.stateNode=null,x.return=null,x.dependencies=null,x.memoizedProps=null,x.memoizedState=null,x.pendingProps=null,x.stateNode=null,x.updateQueue=null}function $n(x,w,N){for(N=N.child;N!==null;)Gn(x,w,N),N=N.sibling}function Gn(x,w,N){if(Nl&&typeof Nl.onCommitFiberUnmount=="function")try{Nl.onCommitFiberUnmount(Ua,N)}catch{}switch(N.tag){case 26:if(Jl){Ta||Sa(N,w),$n(x,w,N),N.memoizedState?sf(N.memoizedState):N.stateNode&&Ep(N.stateNode);break}case 27:if(Is){Ta||Sa(N,w);var X=Pi,J=mr;Pi=N.stateNode,$n(x,w,N),ld(N.stateNode),Pi=X,mr=J;break}case 5:Ta||Sa(N,w);case 6:if(Yr){if(X=Pi,J=mr,Pi=null,$n(x,w,N),Pi=X,mr=J,Pi!==null)if(mr)try{Nm(Pi,N.stateNode)}catch(ue){is(N,w,ue)}else try{bp(Pi,N.stateNode)}catch(ue){is(N,w,ue)}}else $n(x,w,N);break;case 18:Yr&&Pi!==null&&(mr?Bm(Pi,N.stateNode):xb(Pi,N.stateNode));break;case 4:Yr?(X=Pi,J=mr,Pi=N.stateNode.containerInfo,mr=!0,$n(x,w,N),Pi=X,mr=J):(ca&&Vt(N.stateNode,N,km()),$n(x,w,N));break;case 0:case 11:case 14:case 15:Ta||Ps(2,N,w),Ta||Ps(4,N,w),$n(x,w,N);break;case 1:Ta||(Sa(N,w),X=N.stateNode,typeof X.componentWillUnmount=="function"&&sa(N,w,X)),$n(x,w,N);break;case 21:$n(x,w,N);break;case 22:Ta||Sa(N,w),Ta=(X=Ta)||N.memoizedState!==null,$n(x,w,N),Ta=X;break;default:$n(x,w,N)}}function ir(x,w){if(Kr&&w.memoizedState===null&&(x=w.alternate,x!==null&&(x=x.memoizedState,x!==null&&(x=x.dehydrated,x!==null))))try{zC(x)}catch(N){is(w,w.return,N)}}function Mi(x){switch(x.tag){case 13:case 19:var w=x.stateNode;return w===null&&(w=x.stateNode=new fs),w;case 22:return x=x.stateNode,w=x._retryCache,w===null&&(w=x._retryCache=new fs),w;default:throw Error(r(435,x.tag))}}function Ci(x,w){var N=Mi(x);w.forEach(function(X){var J=Ru.bind(null,x,X);N.has(X)||(N.add(X),X.then(J,J))})}function Ri(x,w){var N=w.deletions;if(N!==null)for(var X=0;X<N.length;X++){var J=N[X],ue=x,Ne=w;if(Yr){var st=Ne;e:for(;st!==null;){switch(st.tag){case 27:case 5:Pi=st.stateNode,mr=!1;break e;case 3:Pi=st.stateNode.containerInfo,mr=!0;break e;case 4:Pi=st.stateNode.containerInfo,mr=!0;break e}st=st.return}if(Pi===null)throw Error(r(160));Gn(ue,Ne,J),Pi=null,mr=!1}else Gn(ue,Ne,J);ue=J.alternate,ue!==null&&(ue.return=null),J.return=null}if(w.subtreeFlags&13878)for(w=w.child;w!==null;)pi(w,x),w=w.sibling}function pi(x,w){var N=x.alternate,X=x.flags;switch(x.tag){case 0:case 11:case 14:case 15:Ri(w,x),Ui(x),X&4&&(Ps(3,x,x.return),xa(3,x),Ps(5,x,x.return));break;case 1:Ri(w,x),Ui(x),X&512&&(Ta||N===null||Sa(N,N.return)),X&64&&Hu&&(x=x.updateQueue,x!==null&&(X=x.callbacks,X!==null&&(N=x.shared.hiddenCallbacks,x.shared.hiddenCallbacks=N===null?X:N.concat(X))));break;case 26:if(Jl){var J=ga;Ri(w,x),Ui(x),X&512&&(Ta||N===null||Sa(N,N.return)),X&4&&(X=N!==null?N.memoizedState:null,w=x.memoizedState,N===null?w===null?x.stateNode===null?x.stateNode=Gm(J,x.type,x.memoizedProps,x):Hm(J,x.type,x.stateNode):x.stateNode=wb(J,w,x.memoizedProps):X!==w?(X===null?N.stateNode!==null&&Ep(N.stateNode):sf(X),w===null?Hm(J,x.type,x.stateNode):wb(J,w,x.memoizedProps)):w===null&&x.stateNode!==null&&hh(x,x.memoizedProps,N.memoizedProps));break}case 27:if(Is&&X&4&&x.alternate===null){J=x.stateNode;var ue=x.memoizedProps;try{od(J),Ab(x.type,ue,J,x)}catch(kn){is(x,x.return,kn)}}case 5:if(Ri(w,x),Ui(x),X&512&&(Ta||N===null||Sa(N,N.return)),Yr){if(x.flags&32){w=x.stateNode;try{Fm(w)}catch(kn){is(x,x.return,kn)}}X&4&&x.stateNode!=null&&(w=x.memoizedProps,hh(x,w,N!==null?N.memoizedProps:w)),X&1024&&(Dy=!0)}break;case 6:if(Ri(w,x),Ui(x),X&4&&Yr){if(x.stateNode===null)throw Error(r(162));X=x.memoizedProps,N=N!==null?N.memoizedProps:X,w=x.stateNode;try{Pm(w,N,X)}catch(kn){is(x,x.return,kn)}}break;case 3:if(Jl?(Eb(),J=ga,ga=gv(w.containerInfo),Ri(w,x),ga=J):Ri(w,x),Ui(x),X&4){if(Yr&&Kr&&N!==null&&N.memoizedState.isDehydrated)try{BC(w.containerInfo)}catch(kn){is(x,x.return,kn)}if(ca){X=w.containerInfo,N=w.pendingChildren;try{wp(X,N)}catch(kn){is(x,x.return,kn)}}}Dy&&(Dy=!1,Ya(x));break;case 4:Jl?(N=ga,ga=gv(x.stateNode.containerInfo),Ri(w,x),Ui(x),ga=N):(Ri(w,x),Ui(x)),X&4&&ca&&Vt(x.stateNode,x,x.stateNode.pendingChildren);break;case 12:Ri(w,x),Ui(x);break;case 13:Ri(w,x),Ui(x),x.child.flags&8192&&x.memoizedState!==null!=(N!==null&&N.memoizedState!==null)&&(ml=Pc()),X&4&&(X=x.updateQueue,X!==null&&(x.updateQueue=null,Ci(x,X)));break;case 22:X&512&&(Ta||N===null||Sa(N,N.return)),J=x.memoizedState!==null;var Ne=N!==null&&N.memoizedState!==null,st=Hu,Mt=Ta;if(Hu=st||J,Ta=Mt||Ne,Ri(w,x),Ta=Mt,Hu=st,Ui(x),w=x.stateNode,w._current=x,w._visibility&=-3,w._visibility|=w._pendingVisibility&2,X&8192&&(w._visibility=J?w._visibility&-2:w._visibility|1,J&&(w=Hu||Ta,N===null||Ne||w||wa(x)),Yr&&(x.memoizedProps===null||x.memoizedProps.mode!=="manual"))){e:if(N=null,Yr)for(w=x;;){if(w.tag===5||Jl&&w.tag===26||Is&&w.tag===27){if(N===null){Ne=N=w;try{ue=Ne.stateNode,J?cv(ue):Um(Ne.stateNode,Ne.memoizedProps)}catch(kn){is(Ne,Ne.return,kn)}}}else if(w.tag===6){if(N===null){Ne=w;try{var pn=Ne.stateNode;J?xp(pn):UC(pn,Ne.memoizedProps)}catch(kn){is(Ne,Ne.return,kn)}}}else if((w.tag!==22&&w.tag!==23||w.memoizedState===null||w===x)&&w.child!==null){w.child.return=w,w=w.child;continue}if(w===x)break e;for(;w.sibling===null;){if(w.return===null||w.return===x)break e;N===w&&(N=null),w=w.return}N===w&&(N=null),w.sibling.return=w.return,w=w.sibling}}X&4&&(X=x.updateQueue,X!==null&&(N=X.retryQueue,N!==null&&(X.retryQueue=null,Ci(x,N))));break;case 19:Ri(w,x),Ui(x),X&4&&(X=x.updateQueue,X!==null&&(x.updateQueue=null,Ci(x,X)));break;case 21:break;default:Ri(w,x),Ui(x)}}function Ui(x){var w=x.flags;if(w&2){try{if(Yr&&(!Is||x.tag!==27)){e:{for(var N=x.return;N!==null;){if(Jh(N)){var X=N;break e}N=N.return}throw Error(r(160))}switch(X.tag){case 27:if(Is){var J=X.stateNode,ue=$e(x);Lt(x,ue,J);break}case 5:var Ne=X.stateNode;X.flags&32&&(Fm(Ne),X.flags&=-33);var st=$e(x);Lt(x,st,Ne);break;case 3:case 4:var Mt=X.stateNode.containerInfo,pn=$e(x);pt(x,pn,Mt);break;default:throw Error(r(161))}}}catch(kn){is(x,x.return,kn)}x.flags&=-3}w&4096&&(x.flags&=-4097)}function Ya(x){if(x.subtreeFlags&1024)for(x=x.child;x!==null;){var w=x;Ya(w),w.tag===5&&w.flags&1024&&_h(w.stateNode),x=x.sibling}}function Ts(x,w){if(w.subtreeFlags&8772)for(w=w.child;w!==null;)Fn(x,w.alternate,w),w=w.sibling}function wa(x){for(x=x.child;x!==null;){var w=x;switch(w.tag){case 0:case 11:case 14:case 15:Ps(4,w,w.return),wa(w);break;case 1:Sa(w,w.return);var N=w.stateNode;typeof N.componentWillUnmount=="function"&&sa(w,w.return,N),wa(w);break;case 26:case 27:case 5:Sa(w,w.return),wa(w);break;case 22:Sa(w,w.return),w.memoizedState===null&&wa(w);break;default:wa(w)}x=x.sibling}}function pa(x,w,N){for(N=N&&(w.subtreeFlags&8772)!==0,w=w.child;w!==null;){var X=w.alternate,J=x,ue=w,Ne=ue.flags;switch(ue.tag){case 0:case 11:case 15:pa(J,ue,N),xa(4,ue);break;case 1:if(pa(J,ue,N),X=ue,J=X.stateNode,typeof J.componentDidMount=="function")try{J.componentDidMount()}catch(pn){is(X,X.return,pn)}if(X=ue,J=X.updateQueue,J!==null){var st=X.stateNode;try{var Mt=J.shared.hiddenCallbacks;if(Mt!==null)for(J.shared.hiddenCallbacks=null,J=0;J<Mt.length;J++)Ye(Mt[J],st)}catch(pn){is(X,X.return,pn)}}N&&Ne&64&&Yd(ue),Ao(ue,ue.return);break;case 26:case 27:case 5:pa(J,ue,N),N&&X===null&&Ne&4&&Mo(ue),Ao(ue,ue.return);break;case 12:pa(J,ue,N);break;case 13:pa(J,ue,N),N&&Ne&4&&ir(J,ue);break;case 22:ue.memoizedState===null&&pa(J,ue,N),Ao(ue,ue.return);break;default:pa(J,ue,N)}w=w.sibling}}function Rl(x,w){var N=null;x!==null&&x.memoizedState!==null&&x.memoizedState.cachePool!==null&&(N=x.memoizedState.cachePool.pool),x=null,w.memoizedState!==null&&w.memoizedState.cachePool!==null&&(x=w.memoizedState.cachePool.pool),x!==N&&(x!=null&&x.refCount++,N!=null&&wi(N))}function aa(x,w){x=null,w.alternate!==null&&(x=w.alternate.memoizedState.cache),w=w.memoizedState.cache,w!==x&&(w.refCount++,x!=null&&wi(x))}function Ka(x,w,N,X){if(w.subtreeFlags&10256)for(w=w.child;w!==null;)Sm(x,w,N,X),w=w.sibling}function Sm(x,w,N,X){var J=w.flags;switch(w.tag){case 0:case 11:case 15:Ka(x,w,N,X),J&2048&&xa(9,w);break;case 3:Ka(x,w,N,X),J&2048&&(x=null,w.alternate!==null&&(x=w.alternate.memoizedState.cache),w=w.memoizedState.cache,w!==x&&(w.refCount++,x!=null&&wi(x)));break;case 12:if(J&2048){Ka(x,w,N,X),x=w.stateNode;try{var ue=w.memoizedProps,Ne=ue.id,st=ue.onPostCommit;typeof st=="function"&&st(Ne,w.alternate===null?"mount":"update",x.passiveEffectDuration,-0)}catch(Mt){is(w,w.return,Mt)}}else Ka(x,w,N,X);break;case 23:break;case 22:ue=w.stateNode,w.memoizedState!==null?ue._visibility&4?Ka(x,w,N,X):co(x,w):ue._visibility&4?Ka(x,w,N,X):(ue._visibility|=4,lo(x,w,N,X,(w.subtreeFlags&10256)!==0)),J&2048&&Rl(w.alternate,w);break;case 24:Ka(x,w,N,X),J&2048&&aa(w.alternate,w);break;default:Ka(x,w,N,X)}}function lo(x,w,N,X,J){for(J=J&&(w.subtreeFlags&10256)!==0,w=w.child;w!==null;){var ue=x,Ne=w,st=N,Mt=X,pn=Ne.flags;switch(Ne.tag){case 0:case 11:case 15:lo(ue,Ne,st,Mt,J),xa(8,Ne);break;case 23:break;case 22:var kn=Ne.stateNode;Ne.memoizedState!==null?kn._visibility&4?lo(ue,Ne,st,Mt,J):co(ue,Ne):(kn._visibility|=4,lo(ue,Ne,st,Mt,J)),J&&pn&2048&&Rl(Ne.alternate,Ne);break;case 24:lo(ue,Ne,st,Mt,J),J&&pn&2048&&aa(Ne.alternate,Ne);break;default:lo(ue,Ne,st,Mt,J)}w=w.sibling}}function co(x,w){if(w.subtreeFlags&10256)for(w=w.child;w!==null;){var N=x,X=w,J=X.flags;switch(X.tag){case 22:co(N,X),J&2048&&Rl(X.alternate,X);break;case 24:co(N,X),J&2048&&aa(X.alternate,X);break;default:co(N,X)}w=w.sibling}}function ul(x){if(x.subtreeFlags&ac)for(x=x.child;x!==null;)op(x),x=x.sibling}function op(x){switch(x.tag){case 26:ul(x),x.flags&ac&&(x.memoizedState!==null?Tb(ga,x.memoizedState,x.memoizedProps):ua(x.type,x.memoizedProps));break;case 5:ul(x),x.flags&ac&&ua(x.type,x.memoizedProps);break;case 3:case 4:if(Jl){var w=ga;ga=gv(x.stateNode.containerInfo),ul(x),ga=w}else ul(x);break;case 22:x.memoizedState===null&&(w=x.alternate,w!==null&&w.memoizedState!==null?(w=ac,ac=16777216,ul(x),ac=w):ul(x));break;default:ul(x)}}function Kd(x){var w=x.alternate;if(w!==null&&(x=w.child,x!==null)){w.child=null;do w=x.sibling,x.sibling=null,x=w;while(x!==null)}}function Eu(x){var w=x.deletions;if((x.flags&16)!==0){if(w!==null)for(var N=0;N<w.length;N++){var X=w[N];cr=X,ql(X,x)}Kd(x)}if(x.subtreeFlags&10256)for(x=x.child;x!==null;)lp(x),x=x.sibling}function lp(x){switch(x.tag){case 0:case 11:case 15:Eu(x),x.flags&2048&&Ps(9,x,x.return);break;case 3:Eu(x);break;case 12:Eu(x);break;case 22:var w=x.stateNode;x.memoizedState!==null&&w._visibility&4&&(x.return===null||x.return.tag!==13)?(w._visibility&=-5,Qc(x)):Eu(x);break;default:Eu(x)}}function Qc(x){var w=x.deletions;if((x.flags&16)!==0){if(w!==null)for(var N=0;N<w.length;N++){var X=w[N];cr=X,ql(X,x)}Kd(x)}for(x=x.child;x!==null;){switch(w=x,w.tag){case 0:case 11:case 15:Ps(8,w,w.return),Qc(w);break;case 22:N=w.stateNode,N._visibility&4&&(N._visibility&=-5,Qc(w));break;default:Qc(w)}x=x.sibling}}function ql(x,w){for(;cr!==null;){var N=cr;switch(N.tag){case 0:case 11:case 15:Ps(8,N,w);break;case 23:case 22:if(N.memoizedState!==null&&N.memoizedState.cachePool!==null){var X=N.memoizedState.cachePool.pool;X!=null&&X.refCount++}break;case 24:wi(N.memoizedState.cache)}if(X=N.child,X!==null)X.return=N,cr=X;else e:for(N=x;cr!==null;){X=cr;var J=X.sibling,ue=X.return;if(jn(X),X===N){cr=null;break e}if(J!==null){J.return=ue,cr=J;break e}cr=ue}}}function dh(x){var w=dl(x);if(w!=null){if(typeof w.memoizedProps["data-testname"]!="string")throw Error(r(364));return w}if(x=Om(x),x===null)throw Error(r(362));return x.stateNode.current}function Cu(x,w){var N=x.tag;switch(w.$$typeof){case Ip:if(x.type===w.value)return!0;break;case Fc:e:{for(w=w.value,x=[x,0],N=0;N<x.length;){var X=x[N++],J=X.tag,ue=x[N++],Ne=w[ue];if(J!==5&&J!==26&&J!==27||!bh(X)){for(;Ne!=null&&Cu(X,Ne);)ue++,Ne=w[ue];if(ue===w.length){w=!0;break e}else for(X=X.child;X!==null;)x.push(X,ue),X=X.sibling}}w=!1}return w;case ea:if((N===5||N===26||N===27)&&Lm(x.stateNode,w.value))return!0;break;case $u:if((N===5||N===6||N===26||N===27)&&(x=sv(x),x!==null&&0<=x.indexOf(w.value)))return!0;break;case uu:if((N===5||N===26||N===27)&&(x=x.memoizedProps["data-testname"],typeof x=="string"&&x.toLowerCase()===w.value.toLowerCase()))return!0;break;default:throw Error(r(365))}return!1}function wm(x){switch(x.$$typeof){case Ip:return"<"+(a(x.value)||"Unknown")+">";case Fc:return":has("+(wm(x)||"")+")";case ea:return'[role="'+x.value+'"]';case $u:return'"'+x.value+'"';case uu:return'[data-testname="'+x.value+'"]';default:throw Error(r(365))}}function Qo(x,w){var N=[];x=[x,0];for(var X=0;X<x.length;){var J=x[X++],ue=J.tag,Ne=x[X++],st=w[Ne];if(ue!==5&&ue!==26&&ue!==27||!bh(J)){for(;st!=null&&Cu(J,st);)Ne++,st=w[Ne];if(Ne===w.length)N.push(J);else for(J=J.child;J!==null;)x.push(J,Ne),J=J.sibling}}return N}function Zd(x,w){if(!Lc)throw Error(r(363));x=dh(x),x=Qo(x,w),w=[],x=Array.from(x);for(var N=0;N<x.length;){var X=x[N++],J=X.tag;if(J===5||J===26||J===27)bh(X)||w.push(X.stateNode);else for(X=X.child;X!==null;)x.push(X),X=X.sibling}return w}function ma(){if((Qr&2)!==0&&kr!==0)return kr&-kr;if(at.T!==null){var x=nc;return x!==0?x:Qe()}return Ql()}function Em(){cc===0&&(cc=(kr&536870912)===0||Vr?I():536870912);var x=ic.current;return x!==null&&(x.flags|=32),cc}function Za(x,w,N){(x===ps&&Ms===2||x.cancelPendingCommit!==null)&&(Na(x,0),Bo(x,kr,cc,!1)),D(x,N),((Qr&2)===0||x!==ps)&&(x===ps&&((Qr&2)===0&&(Th|=N),Fs===4&&Bo(x,kr,cc,!1)),qe(x))}function Tu(x,w,N){if((Qr&6)!==0)throw Error(r(327));var X=!N&&(w&60)===0&&(w&x.expiredLanes)===0||O(x,w),J=X?Tm(x,w):cp(x,w,!0),ue=X;do{if(J===0){oc&&!X&&Bo(x,w,0,!1);break}else if(J===6)Bo(x,w,0,!kc);else{if(N=x.current.alternate,ue&&!ed(N)){J=cp(x,w,!1),ue=!1;continue}if(J===2){if(ue=w,x.errorRecoveryDisabledLanes&ue)var Ne=0;else Ne=x.pendingLanes&-536870913,Ne=Ne!==0?Ne:Ne&536870912?536870912:0;if(Ne!==0){w=Ne;e:{var st=x;J=bf;var Mt=Kr&&st.current.memoizedState.isDehydrated;if(Mt&&(Na(st,Ne).flags|=256),Ne=cp(st,Ne,!1),Ne!==2){if(fo&&!Mt){st.errorRecoveryDisabledLanes|=ue,Th|=ue,J=4;break e}ue=Aa,Aa=J,ue!==null&&fh(ue)}J=Ne}if(ue=!1,J!==2)continue}}if(J===1){Na(x,0),Bo(x,w,0,!0);break}e:{switch(X=x,J){case 0:case 1:throw Error(r(345));case 4:if((w&4194176)===w){Bo(X,w,cc,!kc);break e}break;case 2:Aa=null;break;case 3:case 5:break;default:throw Error(r(329))}if(X.finishedWork=N,X.finishedLanes=w,(w&62914560)===w&&(ue=ml+300-Pc(),10<ue)){if(Bo(X,w,cc,!kc),R(X,0)!==0)break e;X.timeoutHandle=Gi(ph.bind(null,X,N,Aa,Ym,Av,w,cc,Th,Vu,kc,2,-0,0),ue);break e}ph(X,N,Aa,Ym,Av,w,cc,Th,Vu,kc,0,-0,0)}}break}while(!0);qe(x)}function fh(x){Aa===null?Aa=x:Aa.push.apply(Aa,x)}function ph(x,w,N,X,J,ue,Ne,st,Mt,pn,kn,Jn,ii){var ur=w.subtreeFlags;if((ur&8192||(ur&16785408)===16785408)&&(tl(),op(w),w=Js(),w!==null)){x.cancelPendingCommit=w(hl.bind(null,x,N,X,J,Ne,st,Mt,1,Jn,ii)),Bo(x,ue,Ne,!pn);return}hl(x,N,X,J,Ne,st,Mt,kn,Jn,ii)}function ed(x){for(var w=x;;){var N=w.tag;if((N===0||N===11||N===15)&&w.flags&16384&&(N=w.updateQueue,N!==null&&(N=N.stores,N!==null)))for(var X=0;X<N.length;X++){var J=N[X],ue=J.getSnapshot;J=J.value;try{if(!Fl(ue(),J))return!1}catch{return!1}}if(N=w.child,w.subtreeFlags&16384&&N!==null)N.return=w,w=N;else{if(w===x)break;for(;w.sibling===null;){if(w.return===null||w.return===x)return!0;w=w.return}w.sibling.return=w.return,w=w.sibling}}return!0}function Bo(x,w,N,X){w&=~qm,w&=~Th,x.suspendedLanes|=w,x.pingedLanes&=~w,X&&(x.warmLanes|=w),X=x.expirationTimes;for(var J=w;0<J;){var ue=31-fl(J),Ne=1<<ue;X[ue]=-1,J&=~Ne}N!==0&&j(x,N,w)}function td(){return(Qr&6)===0?(Ke(0),!1):!0}function Mc(){if(Hi!==null){if(Ms===0)var x=Hi.return;else x=Hi,sc=cu=null,nn(x),dd=null,fd=0,x=Hi;for(;x!==null;)To(x.alternate,x),x=x.return;Hi=null}}function Na(x,w){x.finishedWork=null,x.finishedLanes=0;var N=x.timeoutHandle;N!==Ar&&(x.timeoutHandle=Ar,qr(N)),N=x.cancelPendingCommit,N!==null&&(x.cancelPendingCommit=null,N()),Mc(),ps=x,Hi=N=Ll(x.current,null),kr=w,Ms=0,nl=null,kc=!1,oc=O(x,w),fo=!1,Vu=cc=qm=Th=lc=Fs=0,Aa=bf=null,Av=!1,(w&8)!==0&&(w|=w&32);var X=x.entangledLanes;if(X!==0)for(x=x.entanglements,X&=w;0<X;){var J=31-fl(X),ue=1<<J;w|=x[J],X&=~ue}return il=w,Me(),N}function zo(x,w){vr=null,at.H=Ca,w===Rp?(w=dn(),Ms=3):w===jm?(w=dn(),Ms=4):Ms=w===Cv?8:w!==null&&typeof w=="object"&&typeof w.then=="function"?6:1,nl=w,Hi===null&&(Fs=1,Tn(x,oe(w,x.current)))}function Au(){var x=ic.current;return x===null?!0:(kr&4194176)===kr?Ds===null:(kr&62914560)===kr||(kr&536870912)!==0?x===Ds:!1}function Rc(){var x=at.H;return at.H=Ca,x===null?Ca:x}function Oc(){var x=at.A;return at.A=Pp,x}function Go(){Fs=4,kc||(kr&4194176)!==kr&&ic.current!==null||(oc=!0),(lc&134217727)===0&&(Th&134217727)===0||ps===null||Bo(ps,kr,cc,!1)}function cp(x,w,N){var X=Qr;Qr|=2;var J=Rc(),ue=Oc();(ps!==x||kr!==w)&&(Ym=null,Na(x,w)),w=!1;var Ne=Fs;e:do try{if(Ms!==0&&Hi!==null){var st=Hi,Mt=nl;switch(Ms){case 8:Mc(),Ne=6;break e;case 3:case 2:case 6:ic.current===null&&(w=!0);var pn=Ms;if(Ms=0,nl=null,Ol(x,st,Mt,pn),N&&oc){Ne=0;break e}break;default:pn=Ms,Ms=0,nl=null,Ol(x,st,Mt,pn)}}Cm(),Ne=Fs;break}catch(kn){zo(x,kn)}while(!0);return w&&x.shellSuspendCounter++,sc=cu=null,Qr=X,at.H=J,at.A=ue,Hi===null&&(ps=null,kr=0,Me()),Ne}function Cm(){for(;Hi!==null;)As(Hi)}function Tm(x,w){var N=Qr;Qr|=2;var X=Rc(),J=Oc();ps!==x||kr!==w?(Ym=null,Dp=Pc()+500,Na(x,w)):oc=O(x,w);e:do try{if(Ms!==0&&Hi!==null){w=Hi;var ue=nl;t:switch(Ms){case 1:Ms=0,nl=null,Ol(x,w,ue,1);break;case 2:if(Sn(ue)){Ms=0,nl=null,Ur(w);break}w=function(){Ms===2&&ps===x&&(Ms=7),qe(x)},ue.then(w,w);break e;case 3:Ms=7;break e;case 4:Ms=5;break e;case 7:Sn(ue)?(Ms=0,nl=null,Ur(w)):(Ms=0,nl=null,Ol(x,w,ue,7));break;case 5:var Ne=null;switch(Hi.tag){case 26:Ne=Hi.memoizedState;case 5:case 27:var st=Hi,Mt=st.type,pn=st.pendingProps;if(Ne?af(Ne):eo(Mt,pn)){Ms=0,nl=null;var kn=st.sibling;if(kn!==null)Hi=kn;else{var Jn=st.return;Jn!==null?(Hi=Jn,Jo(Jn)):Hi=null}break t}}Ms=0,nl=null,Ol(x,w,ue,5);break;case 6:Ms=0,nl=null,Ol(x,w,ue,6);break;case 8:Mc(),Fs=6;break e;default:throw Error(r(462))}}Ho();break}catch(ii){zo(x,ii)}while(!0);return sc=cu=null,at.H=X,at.A=J,Qr=N,Hi!==null?0:(ps=null,kr=0,Me(),Fs)}function Ho(){for(;Hi!==null&&!Ob();)As(Hi)}function As(x){var w=hn(x.alternate,x,il);x.memoizedProps=x.pendingProps,w===null?Jo(x):Hi=w}function Ur(x){var w=x,N=w.alternate;switch(w.tag){case 15:case 0:w=je(N,w,w.pendingProps,w.type,void 0,kr);break;case 11:w=je(N,w,w.pendingProps,w.type.render,w.ref,kr);break;case 5:nn(w);default:To(N,w),w=Hi=Jd(w,il),w=hn(N,w,il)}x.memoizedProps=x.pendingProps,w===null?Jo(x):Hi=w}function Ol(x,w,N,X){sc=cu=null,nn(w),dd=null,fd=0;var J=w.return;try{if(Ae(x,J,w,N,kr)){Fs=1,Tn(x,oe(N,x.current)),Hi=null;return}}catch(ue){if(J!==null)throw Hi=J,ue;Fs=1,Tn(x,oe(N,x.current)),Hi=null;return}w.flags&32768?(Vr||X===1?x=!0:oc||(kr&536870912)!==0?x=!1:(kc=x=!0,(X===2||X===3||X===6)&&(X=ic.current,X!==null&&X.tag===13&&(X.flags|=16384))),up(w,x)):Jo(w)}function Jo(x){var w=x;do{if((w.flags&32768)!==0){up(w,kc);return}x=w.return;var N=oo(w.alternate,w,il);if(N!==null){Hi=N;return}if(w=w.sibling,w!==null){Hi=w;return}Hi=w=x}while(w!==null);Fs===0&&(Fs=5)}function up(x,w){do{var N=ra(x.alternate,x);if(N!==null){N.flags&=32767,Hi=N;return}if(N=x.return,N!==null&&(N.flags|=32768,N.subtreeFlags=0,N.deletions=null),!w&&(x=x.sibling,x!==null)){Hi=x;return}Hi=x=N}while(x!==null);Fs=6,Hi=null}function hl(x,w,N,X,J,ue,Ne,st,Mt,pn){var kn=at.T,Jn=Qa();try{Sr(2),at.T=null,hp(x,w,N,X,Jn,J,ue,Ne,st,Mt,pn)}finally{at.T=kn,Sr(Jn)}}function hp(x,w,N,X,J,ue,Ne,st){do Yl();while(Wu!==null);if((Qr&6)!==0)throw Error(r(327));var Mt=x.finishedWork;if(X=x.finishedLanes,Mt===null)return null;if(x.finishedWork=null,x.finishedLanes=0,Mt===x.current)throw Error(r(177));x.callbackNode=null,x.callbackPriority=0,x.cancelPendingCommit=null;var pn=Mt.lanes|Mt.childLanes;if(pn|=ou,B(x,X,pn,ue,Ne,st),x===ps&&(Hi=ps=null,kr=0),(Mt.subtreeFlags&10256)===0&&(Mt.flags&10256)===0||hu||(hu=!0,yd=pn,Mv=N,tu(xv,function(){return Yl(),null})),N=(Mt.flags&15990)!==0,(Mt.subtreeFlags&15990)!==0||N?(N=at.T,at.T=null,ue=Qa(),Sr(2),Ne=Qr,Qr|=4,sn(x,Mt),pi(Mt,x),as(x.containerInfo),x.current=Mt,Fn(x,Mt.alternate,Mt),_v(),Qr=Ne,Sr(ue),at.T=N):x.current=Mt,hu?(hu=!1,Wu=x,xf=X):dp(x,pn),pn=x.pendingLanes,pn===0&&(vd=null),k(Mt.stateNode),qe(x),w!==null)for(J=x.onRecoverableError,Mt=0;Mt<w.length;Mt++)pn=w[Mt],J(pn.value,{componentStack:pn.stack});return(xf&3)!==0&&Yl(),pn=x.pendingLanes,(X&4194218)!==0&&(pn&42)!==0?x===Rv?Np++:(Np=0,Rv=x):Np=0,Ke(0),null}function dp(x,w){(x.pooledCacheLanes&=w)===0&&(w=x.pooledCache,w!=null&&(x.pooledCache=null,wi(w)))}function Yl(){if(Wu!==null){var x=Wu,w=yd;yd=0;var N=V(xf),X=32>N?32:N;N=at.T;var J=Qa();try{if(Sr(X),at.T=null,Wu===null)var ue=!1;else{X=Mv,Mv=null;var Ne=Wu,st=xf;if(Wu=null,xf=0,(Qr&6)!==0)throw Error(r(331));var Mt=Qr;if(Qr|=4,lp(Ne.current),Sm(Ne,Ne.current,st,X),Qr=Mt,Ke(0,!1),Nl&&typeof Nl.onPostCommitFiberRoot=="function")try{Nl.onPostCommitFiberRoot(Ua,Ne)}catch{}ue=!0}return ue}finally{Sr(J),at.T=N,dp(x,w)}}return!1}function nd(x,w,N){w=oe(N,w),w=z(x.stateNode,w,2),x=kt(x,w,2),x!==null&&(D(x,2),qe(x))}function is(x,w,N){if(x.tag===3)nd(x,x,N);else for(;w!==null;){if(w.tag===3){nd(w,x,N);break}else if(w.tag===1){var X=w.stateNode;if(typeof w.type.getDerivedStateFromError=="function"||typeof X.componentDidCatch=="function"&&(vd===null||!vd.has(X))){x=oe(N,x),N=re(2),X=kt(w,N,2),X!==null&&(te(N,X,w,x),D(X,2),qe(X));break}}w=w.return}}function Kl(x,w,N){var X=x.pingCache;if(X===null){X=x.pingCache=new Uc;var J=new Set;X.set(w,J)}else J=X.get(w),J===void 0&&(J=new Set,X.set(w,J));J.has(N)||(fo=!0,J.add(N),x=Jc.bind(null,x,w,N),w.then(x,x))}function Jc(x,w,N){var X=x.pingCache;X!==null&&X.delete(w),x.pingedLanes|=x.suspendedLanes&N,x.warmLanes&=~N,ps===x&&(kr&N)===N&&(Fs===4||Fs===3&&(kr&62914560)===kr&&300>Pc()-ml?(Qr&2)===0&&Na(x,0):qm|=N,Vu===kr&&(Vu=0)),qe(x)}function Mu(x,w){w===0&&(w=F()),x=St(x,w),x!==null&&(D(x,w),qe(x))}function eu(x){var w=x.memoizedState,N=0;w!==null&&(N=w.retryLane),Mu(x,N)}function Ru(x,w){var N=0;switch(x.tag){case 13:var X=x.stateNode,J=x.memoizedState;J!==null&&(N=J.retryLane);break;case 19:X=x.stateNode;break;case 22:X=x.stateNode._retryCache;break;default:throw Error(r(314))}X!==null&&X.delete(w),Mu(x,N)}function tu(x,w){return $m(x,w)}function Am(x,w,N,X){this.tag=x,this.key=N,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=w,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=X,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Qd(x){return x=x.prototype,!(!x||!x.isReactComponent)}function Ll(x,w){var N=x.alternate;return N===null?(N=t(x.tag,w,x.key,x.mode),N.elementType=x.elementType,N.type=x.type,N.stateNode=x.stateNode,N.alternate=x,x.alternate=N):(N.pendingProps=w,N.type=x.type,N.flags=0,N.subtreeFlags=0,N.deletions=null),N.flags=x.flags&31457280,N.childLanes=x.childLanes,N.lanes=x.lanes,N.child=x.child,N.memoizedProps=x.memoizedProps,N.memoizedState=x.memoizedState,N.updateQueue=x.updateQueue,w=x.dependencies,N.dependencies=w===null?null:{lanes:w.lanes,firstContext:w.firstContext},N.sibling=x.sibling,N.index=x.index,N.ref=x.ref,N.refCleanup=x.refCleanup,N}function Jd(x,w){x.flags&=31457282;var N=x.alternate;return N===null?(x.childLanes=0,x.lanes=w,x.child=null,x.subtreeFlags=0,x.memoizedProps=null,x.memoizedState=null,x.updateQueue=null,x.dependencies=null,x.stateNode=null):(x.childLanes=N.childLanes,x.lanes=N.lanes,x.child=N.child,x.subtreeFlags=0,x.deletions=null,x.memoizedProps=N.memoizedProps,x.memoizedState=N.memoizedState,x.updateQueue=N.updateQueue,x.type=N.type,w=N.dependencies,x.dependencies=w===null?null:{lanes:w.lanes,firstContext:w.firstContext}),x}function Zl(x,w,N,X,J,ue){var Ne=0;if(X=x,typeof x=="function")Qd(x)&&(Ne=1);else if(typeof x=="string")Ne=Jl&&Is?zm(x,N,uo.current)?26:Nu(x)?27:5:Jl?zm(x,N,uo.current)?26:5:Is&&Nu(x)?27:5;else e:switch(x){case Lu:return oa(N.children,J,ue,w);case nf:Ne=8,J|=24;break;case mp:return x=t(12,N,w,J|2),x.elementType=mp,x.lanes=ue,x;case vp:return x=t(13,N,w,J),x.elementType=vp,x.lanes=ue,x;case sd:return x=t(19,N,w,J),x.elementType=sd,x.lanes=ue,x;case q:return id(N,J,ue,w);default:if(typeof x=="object"&&x!==null)switch(x.$$typeof){case rf:case el:Ne=10;break e;case gp:Ne=9;break e;case Pu:Ne=11;break e;case Iu:Ne=14;break e;case Ce:Ne=16,X=null;break e}Ne=29,N=Error(r(130,x===null?"null":typeof x,"")),X=null}return w=t(Ne,N,w,J),w.elementType=x,w.type=X,w.lanes=ue,w}function oa(x,w,N,X){return x=t(7,x,X,w),x.lanes=N,x}function id(x,w,N,X){x=t(22,x,X,w),x.elementType=q,x.lanes=N;var J={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var ue=J._current;if(ue===null)throw Error(r(456));if((J._pendingVisibility&2)===0){var Ne=St(ue,2);Ne!==null&&(J._pendingVisibility|=2,Za(Ne,ue,2))}},attach:function(){var ue=J._current;if(ue===null)throw Error(r(456));if((J._pendingVisibility&2)!==0){var Ne=St(ue,2);Ne!==null&&(J._pendingVisibility&=-3,Za(Ne,ue,2))}}};return x.stateNode=J,x}function rd(x,w,N){return x=t(6,x,null,w),x.lanes=N,x}function fp(x,w,N){return w=t(4,x.children!==null?x.children:[],x.key,w),w.lanes=N,w.stateNode={containerInfo:x.containerInfo,pendingChildren:null,implementation:x.implementation},w}function mh(x,w,N,X,J,ue,Ne,st){this.tag=1,this.containerInfo=x,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=Ar,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=M(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=M(0),this.hiddenUpdates=M(null),this.identifierPrefix=X,this.onUncaughtError=J,this.onCaughtError=ue,this.onRecoverableError=Ne,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=st,this.incompleteTransitions=new Map}function Mm(x,w,N,X,J,ue,Ne,st,Mt,pn,kn,Jn){return x=new mh(x,w,N,Ne,st,Mt,pn,Jn),w=1,ue===!0&&(w|=24),ue=t(3,null,null,w),x.current=ue,ue.stateNode=x,w=ni(),w.refCount++,x.pooledCache=w,w.refCount++,ue.memoizedState={element:X,isDehydrated:N,cache:w},on(ue),x}function la(x){return x?(x=cd,x):cd}function ef(x){var w=x._reactInternals;if(w===void 0)throw typeof x.render=="function"?Error(r(188)):(x=Object.keys(x).join(","),Error(r(268,x)));return x=m(w),x=x!==null?_(x):null,x===null?null:Ti(x.stateNode)}function Ou(x,w,N,X,J,ue){J=la(J),X.context===null?X.context=J:X.pendingContext=J,X=xt(w),X.payload={element:N},ue=ue===void 0?null:ue,ue!==null&&(X.callback=ue),N=kt(x,X,w),N!==null&&(Za(N,x,w),Xt(N,x,w))}function gh(x,w){if(x=x.memoizedState,x!==null&&x.dehydrated!==null){var N=x.retryLane;x.retryLane=N!==0&&N<w?N:w}}function vh(x,w){gh(x,w),(x=x.alternate)&&gh(x,w)}var ar={},Pl=Jg(),Ea=$B(),pp=Object.assign,Sy=Symbol.for("react.element"),tf=Symbol.for("react.transitional.element"),Il=Symbol.for("react.portal"),Lu=Symbol.for("react.fragment"),nf=Symbol.for("react.strict_mode"),mp=Symbol.for("react.profiler"),rf=Symbol.for("react.provider"),gp=Symbol.for("react.consumer"),el=Symbol.for("react.context"),Pu=Symbol.for("react.forward_ref"),vp=Symbol.for("react.suspense"),sd=Symbol.for("react.suspense_list"),Iu=Symbol.for("react.memo"),Ce=Symbol.for("react.lazy"),q=Symbol.for("react.offscreen"),pe=Symbol.for("react.memo_cache_sentinel"),De=Symbol.iterator,bt=Symbol.for("react.client.reference"),at=Pl.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Kt,_n,Un=!1,ei=Array.isArray,ai=e.rendererVersion,Vn=e.rendererPackageName,Yi=e.extraDevToolsConfig,Ti=e.getPublicInstance,Qi=e.getRootHostContext,Li=e.getChildHostContext,ji=e.prepareForCommit,as=e.resetAfterCommit,ds=e.createInstance,or=e.appendInitialChild,pr=e.finalizeInitialChildren,Hn=e.shouldSetTextContent,di=e.createTextInstance,Gi=e.scheduleTimeout,qr=e.cancelTimeout,Ar=e.noTimeout,Lr=e.isPrimaryRenderer;e.warnsIfNotActing;var Yr=e.supportsMutation,ca=e.supportsPersistence,Kr=e.supportsHydration,dl=e.getInstanceFromNode;e.beforeActiveInstanceBlur,e.afterActiveInstanceBlur;var $r=e.preparePortalMount;e.prepareScopeUpdate,e.getInstanceFromScope;var Sr=e.setCurrentUpdatePriority,Qa=e.getCurrentUpdatePriority,Ql=e.resolveUpdatePriority;e.resolveEventType,e.resolveEventTimeStamp;var yh=e.shouldAttemptEagerTransition,Ja=e.detachDeletedInstance;e.requestPostPaintCallback;var os=e.maySuspendCommit,eo=e.preloadInstance,tl=e.startSuspendingCommit,ua=e.suspendInstance,Js=e.waitForCommitToBeReady,nu=e.NotPendingTransition,Dl=e.HostTransitionContext,_h=e.resetFormInstance;e.bindToConsole;var Rm=e.supportsMicrotasks,iu=e.scheduleMicrotask,Lc=e.supportsTestSelectors,Om=e.findFiberRoot,yp=e.getBoundingRect,sv=e.getTextContent,bh=e.isHiddenSubtree,Lm=e.matchAccessibilityRole,av=e.setFocusIfFocusable,ov=e.setupIntersectionObserver,Du=e.appendChild,ad=e.appendChildToContainer,Pm=e.commitTextUpdate,lv=e.commitMount,_p=e.commitUpdate,Im=e.insertBefore,Dm=e.insertInContainerBefore,bp=e.removeChild,Nm=e.removeChildFromContainer,Fm=e.resetTextContent,cv=e.hideInstance,xp=e.hideTextInstance,Um=e.unhideInstance,UC=e.unhideTextInstance,hb=e.clearContainer,Sp=e.cloneInstance,km=e.createContainerChildSet,wy=e.appendChildToContainerChildSet,uv=e.finalizeContainerChildren,wp=e.replaceContainerChildren,Ey=e.cloneHiddenInstance,Cy=e.cloneHiddenTextInstance,hv=e.isSuspenseInstancePending,dv=e.isSuspenseInstanceFallback,db=e.getSuspenseInstanceFallbackErrorDetails,fb=e.registerSuspenseInstanceRetry,Ty=e.canHydrateFormStateMarker,pb=e.isFormStateMarkerMatching,Ay=e.getNextHydratableSibling,fv=e.getFirstHydratableChild,mb=e.getFirstHydratableChildWithinContainer,gb=e.getFirstHydratableChildWithinSuspenseInstance,kC=e.canHydrateInstance,My=e.canHydrateTextInstance,vb=e.canHydrateSuspenseInstance,yb=e.hydrateInstance,Ry=e.hydrateTextInstance,_b=e.hydrateSuspenseInstance,bb=e.getNextHydratableInstanceAfterSuspenseInstance,BC=e.commitHydratedContainer,zC=e.commitHydratedSuspenseInstance,xb=e.clearSuspenseBoundary,Bm=e.clearSuspenseBoundaryFromContainer,pv=e.shouldDeleteUnhydratedTailInstances;e.diffHydratedPropsForDevWarnings,e.diffHydratedTextForDevWarnings,e.describeHydratableInstanceForDevWarnings;var mv=e.validateHydratableInstance,Sb=e.validateHydratableTextInstance,Jl=e.supportsResources,zm=e.isHostHoistableType,gv=e.getHoistableRoot,Oy=e.getResource,wb=e.acquireResource,sf=e.releaseResource,Gm=e.hydrateHoistable,Hm=e.mountHoistable,Ep=e.unmountHoistable,vv=e.createHoistableInstance,Eb=e.prepareToCommitHoistables,Cb=e.mayResourceSuspendCommit,af=e.preloadResource,Tb=e.suspendResource,Is=e.supportsSingletons,ru=e.resolveSingletonInstance,od=e.clearSingleton,Ab=e.acquireSingletonInstance,ld=e.releaseSingletonInstance,Nu=e.isHostSingletonType,Fa=[],xh=-1,cd={},fl=Math.clz32?Math.clz32:S,Mb=Math.log,Rb=Math.LN2,Fu=128,of=4194304,$m=Ea.unstable_scheduleCallback,yv=Ea.unstable_cancelCallback,Ob=Ea.unstable_shouldYield,_v=Ea.unstable_requestPaint,Pc=Ea.unstable_now,bv=Ea.unstable_ImmediatePriority,Lb=Ea.unstable_UserBlockingPriority,xv=Ea.unstable_NormalPriority,GC=Ea.unstable_IdlePriority,Pb=Ea.log,Ro=Ea.unstable_setDisableYieldValue,Ua=null,Nl=null,Fl=typeof Object.is=="function"?Object.is:ee,Ly=new WeakMap,lf=[],cf=0,uf=null,Cp=0,ec=[],tc=0,ud=null,su=1,au="",uo=y(null),Tp=y(null),Uu=y(null),hf=y(null),$o=null,Vo=null,Vr=!1,Ic=null,Oo=!1,Vm=Error(r(519)),Dc=[],df=0,ou=0,Wm=null,Sh=null,ff=!1,zs=!1,Py=!1,Ap=0,Mp=null,pf=0,nc=0,mf=null,wh=!1,gf=!1,ku=Object.prototype.hasOwnProperty,Rp=Error(r(460)),jm=Error(r(474)),Xm={then:function(){}},hd=null,dd=null,fd=0,pd=Ei(!0),Bu=Ei(!1),Gs=y(null),Op=y(0),ic=y(null),Ds=null,ho=y(0),Eh=0,vr=null,ki=null,Zr=null,Nc=!1,vf=!1,md=!1,Sv=0,yf=0,Lo=null,lu=0,wv=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}},Ca={readContext:Rn,use:Be,useCallback:zi,useContext:zi,useEffect:zi,useImperativeHandle:zi,useLayoutEffect:zi,useInsertionEffect:zi,useMemo:zi,useReducer:zi,useRef:zi,useState:zi,useDebugValue:zi,useDeferredValue:zi,useTransition:zi,useSyncExternalStore:zi,useId:zi};Ca.useCacheRefresh=zi,Ca.useMemoCache=zi,Ca.useHostTransitionStatus=zi,Ca.useFormState=zi,Ca.useActionState=zi,Ca.useOptimistic=zi;var gd={readContext:Rn,use:Be,useCallback:function(x,w){return be().memoizedState=[x,w===void 0?null:w],x},useContext:Rn,useEffect:Os,useImperativeHandle:function(x,w,N){N=N!=null?N.concat([x]):null,Ks(4194308,4,_a.bind(null,w,x),N)},useLayoutEffect:function(x,w){return Ks(4194308,4,x,w)},useInsertionEffect:function(x,w){Ks(4,2,x,w)},useMemo:function(x,w){var N=be();w=w===void 0?null:w;var X=x();if(md){Z(!0);try{x()}finally{Z(!1)}}return N.memoizedState=[X,w],X},useReducer:function(x,w,N){var X=be();if(N!==void 0){var J=N(w);if(md){Z(!0);try{N(w)}finally{Z(!1)}}}else J=w;return X.memoizedState=X.baseState=J,x={pending:null,lanes:0,dispatch:null,lastRenderedReducer:x,lastRenderedState:J},X.queue=x,x=x.dispatch=So.bind(null,vr,x),[X.memoizedState,x]},useRef:function(x){var w=be();return x={current:x},w.memoizedState=x},useState:function(x){x=Mn(x);var w=x.queue,N=wo.bind(null,vr,w);return w.dispatch=N,[x.memoizedState,N]},useDebugValue:ws,useDeferredValue:function(x,w){var N=be();return La(N,x,w)},useTransition:function(){var x=Mn(!1);return x=Pa.bind(null,vr,x.queue,!0,!1),be().memoizedState=x,[!1,x]},useSyncExternalStore:function(x,w,N){var X=vr,J=be();if(Vr){if(N===void 0)throw Error(r(407));N=N()}else{if(N=w(),ps===null)throw Error(r(349));(kr&60)!==0||Ln(X,w,N)}J.memoizedState=N;var ue={value:N,getSnapshot:w};return J.queue=ue,Os(Bn.bind(null,X,ue,x),[x]),X.flags|=2048,es(9,vn.bind(null,X,ue,N,w),{destroy:void 0},null),N},useId:function(){var x=be(),w=ps.identifierPrefix;if(Vr){var N=au,X=su;N=(X&~(1<<32-fl(X)-1)).toString(32)+N,w=":"+w+"R"+N,N=Sv++,0<N&&(w+="H"+N.toString(32)),w+=":"}else N=lu++,w=":"+w+"r"+N.toString(32)+":";return x.memoizedState=w},useCacheRefresh:function(){return be().memoizedState=ko.bind(null,vr)}};gd.useMemoCache=ut,gd.useHostTransitionStatus=so,gd.useFormState=Qn,gd.useActionState=Qn,gd.useOptimistic=function(x){var w=be();w.memoizedState=w.baseState=x;var N={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return w.queue=N,w=Es.bind(null,vr,!0,N),N.dispatch=w,[x,w]};var pl={readContext:Rn,use:Be,useCallback:ja,useContext:Rn,useEffect:Zs,useImperativeHandle:us,useInsertionEffect:ro,useLayoutEffect:Ss,useMemo:na,useReducer:Pt,useRef:xs,useState:function(){return Pt(Ct)},useDebugValue:ws,useDeferredValue:function(x,w){var N=Ge();return Xa(N,ki.memoizedState,x,w)},useTransition:function(){var x=Pt(Ct)[0],w=Ge().memoizedState;return[typeof x=="boolean"?x:Ze(x),w]},useSyncExternalStore:In,useId:da};pl.useCacheRefresh=hs,pl.useMemoCache=ut,pl.useHostTransitionStatus=so,pl.useFormState=gi,pl.useActionState=gi,pl.useOptimistic=function(x,w){var N=Ge();return li(N,ki,x,w)};var rc={readContext:Rn,use:Be,useCallback:ja,useContext:Rn,useEffect:Zs,useImperativeHandle:us,useInsertionEffect:ro,useLayoutEffect:Ss,useMemo:na,useReducer:un,useRef:xs,useState:function(){return un(Ct)},useDebugValue:ws,useDeferredValue:function(x,w){var N=Ge();return ki===null?La(N,x,w):Xa(N,ki.memoizedState,x,w)},useTransition:function(){var x=un(Ct)[0],w=Ge().memoizedState;return[typeof x=="boolean"?x:Ze(x),w]},useSyncExternalStore:In,useId:da};rc.useCacheRefresh=hs,rc.useMemoCache=ut,rc.useHostTransitionStatus=so,rc.useFormState=Jt,rc.useActionState=Jt,rc.useOptimistic=function(x,w){var N=Ge();return ki!==null?li(N,ki,x,w):(N.baseState=x,[x,N.queue.dispatch])};var zu={isMounted:function(x){return(x=x._reactInternals)?h(x)===x:!1},enqueueSetState:function(x,w,N){x=x._reactInternals;var X=ma(),J=xt(X);J.payload=w,N!=null&&(J.callback=N),w=kt(x,J,X),w!==null&&(Za(w,x,X),Xt(w,x,X))},enqueueReplaceState:function(x,w,N){x=x._reactInternals;var X=ma(),J=xt(X);J.tag=1,J.payload=w,N!=null&&(J.callback=N),w=kt(x,J,X),w!==null&&(Za(w,x,X),Xt(w,x,X))},enqueueForceUpdate:function(x,w){x=x._reactInternals;var N=ma(),X=xt(N);X.tag=2,w!=null&&(X.callback=w),w=kt(x,X,N),w!==null&&(Za(w,x,N),Xt(w,x,N))}},Ev=typeof reportError=="function"?reportError:function(x){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var w=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof x=="object"&&x!==null&&typeof x.message=="string"?String(x.message):String(x),error:x});if(!window.dispatchEvent(w))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",x);return}console.error(x)},Cv=Error(r(461)),Ns=!1,Tv={dehydrated:null,treeContext:null,retryLane:0},Ch=y(null),cu=null,sc=null,Lp=typeof AbortController<"u"?AbortController:function(){var x=[],w=this.signal={aborted:!1,addEventListener:function(N,X){x.push(X)}};this.abort=function(){w.aborted=!0,x.forEach(function(N){return N()})}},Ib=Ea.unstable_scheduleCallback,Db=Ea.unstable_NormalPriority,Hs={$$typeof:el,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0},Iy=at.S;at.S=function(x,w){typeof w=="object"&&w!==null&&typeof w.then=="function"&&et(x,w),Iy!==null&&Iy(x,w)};var Gu=y(null),Hu=!1,Ta=!1,Dy=!1,fs=typeof WeakSet=="function"?WeakSet:Set,cr=null,Mr=!1,Pi=null,mr=!1,ga=null,ac=8192,Pp={getCacheForType:function(x){var w=Rn(Hs),N=w.data.get(x);return N===void 0&&(N=x(),w.data.set(x,N)),N}},Ip=0,Fc=1,ea=2,uu=3,$u=4;if(typeof Symbol=="function"&&Symbol.for){var _f=Symbol.for;Ip=_f("selector.component"),Fc=_f("selector.has_pseudo_class"),ea=_f("selector.role"),uu=_f("selector.test_id"),$u=_f("selector.text")}var Uc=typeof WeakMap=="function"?WeakMap:Map,Qr=0,ps=null,Hi=null,kr=0,Ms=0,nl=null,kc=!1,oc=!1,fo=!1,il=0,Fs=0,lc=0,Th=0,qm=0,cc=0,Vu=0,bf=null,Aa=null,Av=!1,ml=0,Dp=1/0,Ym=null,vd=null,hu=!1,Wu=null,xf=0,yd=0,Mv=null,Np=0,Rv=null;return ar.attemptContinuousHydration=function(x){if(x.tag===13){var w=St(x,67108864);w!==null&&Za(w,x,67108864),vh(x,67108864)}},ar.attemptHydrationAtCurrentPriority=function(x){if(x.tag===13){var w=ma(),N=St(x,w);N!==null&&Za(N,x,w),vh(x,w)}},ar.attemptSynchronousHydration=function(x){switch(x.tag){case 3:if(x=x.stateNode,x.current.memoizedState.isDehydrated){var w=T(x.pendingLanes);if(w!==0){for(x.pendingLanes|=2,x.entangledLanes|=2;w;){var N=1<<31-fl(w);x.entanglements[1]|=N,w&=~N}qe(x),(Qr&6)===0&&(Dp=Pc()+500,Ke(0))}}break;case 13:w=St(x,2),w!==null&&Za(w,x,2),td(),vh(x,2)}},ar.batchedUpdates=function(x,w){return x(w)},ar.createComponentSelector=function(x){return{$$typeof:Ip,value:x}},ar.createContainer=function(x,w,N,X,J,ue,Ne,st,Mt,pn){return Mm(x,w,!1,null,N,X,ue,Ne,st,Mt,pn,null)},ar.createHasPseudoClassSelector=function(x){return{$$typeof:Fc,value:x}},ar.createHydrationContainer=function(x,w,N,X,J,ue,Ne,st,Mt,pn,kn,Jn,ii){return x=Mm(N,X,!0,x,J,ue,st,Mt,pn,kn,Jn,ii),x.context=la(null),N=x.current,X=ma(),J=xt(X),J.callback=w??null,kt(N,J,X),x.current.lanes=X,D(x,X),qe(x),x},ar.createPortal=function(x,w,N){var X=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Il,key:X==null?null:""+X,children:x,containerInfo:w,implementation:N}},ar.createRoleSelector=function(x){return{$$typeof:ea,value:x}},ar.createTestNameSelector=function(x){return{$$typeof:uu,value:x}},ar.createTextSelector=function(x){return{$$typeof:$u,value:x}},ar.defaultOnCaughtError=function(x){console.error(x)},ar.defaultOnRecoverableError=function(x){Ev(x)},ar.defaultOnUncaughtError=function(x){Ev(x)},ar.deferredUpdates=function(x){var w=at.T,N=Qa();try{return Sr(32),at.T=null,x()}finally{Sr(N),at.T=w}},ar.discreteUpdates=function(x,w,N,X,J){var ue=at.T,Ne=Qa();try{return Sr(2),at.T=null,x(w,N,X,J)}finally{Sr(Ne),at.T=ue,Qr===0&&(Dp=Pc()+500)}},ar.findAllNodes=Zd,ar.findBoundingRects=function(x,w){if(!Lc)throw Error(r(363));w=Zd(x,w),x=[];for(var N=0;N<w.length;N++)x.push(yp(w[N]));for(w=x.length-1;0<w;w--){N=x[w];for(var X=N.x,J=X+N.width,ue=N.y,Ne=ue+N.height,st=w-1;0<=st;st--)if(w!==st){var Mt=x[st],pn=Mt.x,kn=pn+Mt.width,Jn=Mt.y,ii=Jn+Mt.height;if(X>=pn&&ue>=Jn&&J<=kn&&Ne<=ii){x.splice(w,1);break}else if(X!==pn||N.width!==Mt.width||ii<ue||Jn>Ne){if(!(ue!==Jn||N.height!==Mt.height||kn<X||pn>J)){pn>X&&(Mt.width+=pn-X,Mt.x=X),kn<J&&(Mt.width=J-pn),x.splice(w,1);break}}else{Jn>ue&&(Mt.height+=Jn-ue,Mt.y=ue),ii<Ne&&(Mt.height=Ne-Jn),x.splice(w,1);break}}}return x},ar.findHostInstance=ef,ar.findHostInstanceWithNoPortals=function(x){return x=m(x),x=x!==null?g(x):null,x===null?null:Ti(x.stateNode)},ar.findHostInstanceWithWarning=function(x){return ef(x)},ar.flushPassiveEffects=Yl,ar.flushSyncFromReconciler=function(x){var w=Qr;Qr|=1;var N=at.T,X=Qa();try{if(Sr(2),at.T=null,x)return x()}finally{Sr(X),at.T=N,Qr=w,(Qr&6)===0&&Ke(0)}},ar.flushSyncWork=td,ar.focusWithin=function(x,w){if(!Lc)throw Error(r(363));for(x=dh(x),w=Qo(x,w),w=Array.from(w),x=0;x<w.length;){var N=w[x++],X=N.tag;if(!bh(N)){if((X===5||X===26||X===27)&&av(N.stateNode))return!0;for(N=N.child;N!==null;)w.push(N),N=N.sibling}}return!1},ar.getFindAllNodesFailureDescription=function(x,w){if(!Lc)throw Error(r(363));var N=0,X=[];x=[dh(x),0];for(var J=0;J<x.length;){var ue=x[J++],Ne=ue.tag,st=x[J++],Mt=w[st];if((Ne!==5&&Ne!==26&&Ne!==27||!bh(ue))&&(Cu(ue,Mt)&&(X.push(wm(Mt)),st++,st>N&&(N=st)),st<w.length))for(ue=ue.child;ue!==null;)x.push(ue,st),ue=ue.sibling}if(N<w.length){for(x=[];N<w.length;N++)x.push(wm(w[N]));return`findAllNodes was able to match part of the selector:
  `+(X.join(" > ")+`

No matching component was found for:
  `)+x.join(" > ")}return null},ar.getPublicRootInstance=function(x){if(x=x.current,!x.child)return null;switch(x.child.tag){case 27:case 5:return Ti(x.child.stateNode);default:return x.child.stateNode}},ar.injectIntoDevTools=function(){var x={bundleType:0,version:ai,rendererPackageName:Vn,currentDispatcherRef:at,findFiberByHostInstance:dl,reconcilerVersion:"19.0.0"};if(Yi!==null&&(x.rendererConfig=Yi),typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")x=!1;else{var w=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(w.isDisabled||!w.supportsFiber)x=!0;else{try{Ua=w.inject(x),Nl=w}catch{}x=!!w.checkDCE}}return x},ar.isAlreadyRendering=function(){return!1},ar.observeVisibleRects=function(x,w,N,X){if(!Lc)throw Error(r(363));x=Zd(x,w);var J=ov(x,N,X).disconnect;return{disconnect:function(){J()}}},ar.shouldError=function(){return null},ar.shouldSuspend=function(){return!1},ar.startHostTransition=function(x,w,N,X){if(x.tag!==5)throw Error(r(476));var J=Qs(x).queue;Pa(x,J,w,nu,N===null?i:function(){var ue=Qs(x).next.queue;return ia(x,ue,{},ma()),N(X)})},ar.updateContainer=function(x,w,N,X){var J=w.current,ue=ma();return Ou(J,ue,x,w,N,X),ue},ar.updateContainerSync=function(x,w,N,X){return w.tag===0&&Yl(),Ou(w.current,2,x,w,N,X),2},ar},n.exports.default=n.exports,Object.defineProperty(n.exports,"__esModule",{value:!0})})(RA)),RA.exports}var YI;function eJ(){return YI||(YI=1,MA.exports=JQ()),MA.exports}var tJ=eJ();const nJ=Yc(tJ);var KI=$B();function N3(n,e,t){if(!n)return;if(t(n)===!0)return n;let i=e?n.return:n.child;for(;i;){const r=N3(i,e,t);if(r)return r;i=e?null:i.sibling}}function VB(n){try{return Object.defineProperties(n,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return n}}const F3=VB(H.createContext(null));let WB=class extends H.Component{render(){return H.createElement(F3.Provider,{value:this._reactInternals},this.props.children)}};function jB(){const n=H.useContext(F3);if(n===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const e=H.useId();return H.useMemo(()=>{for(const t of[n,n?.alternate]){if(!t)continue;const i=N3(t,!1,r=>{let s=r.memoizedState;for(;s;){if(s.memoizedState===e)return!0;s=s.next}});if(i)return i}},[n,e])}const iJ=Symbol.for("react.context"),rJ=n=>n!==null&&typeof n=="object"&&"$$typeof"in n&&n.$$typeof===iJ;function sJ(){const n=jB(),[e]=H.useState(()=>new Map);e.clear();let t=n;for(;t;){const i=t.type;rJ(i)&&i!==F3&&!e.has(i)&&e.set(i,H.use(VB(i))),t=t.return}return e}function aJ(){const n=sJ();return H.useMemo(()=>Array.from(n.keys()).reduce((e,t)=>i=>H.createElement(e,null,H.createElement(t.Provider,{...i,value:n.get(t)})),e=>H.createElement(WB,{...e})),[n])}function XB(n){let e=n.root;for(;e.getState().previousRoot;)e=e.getState().previousRoot;return e}const qB=n=>n&&n.isOrthographicCamera,oJ=n=>n&&n.hasOwnProperty("current"),lJ=n=>n!=null&&(typeof n=="string"||typeof n=="number"||n.isColor),Y1=((n,e)=>typeof window<"u"&&(((n=window.document)==null?void 0:n.createElement)||((e=window.navigator)==null?void 0:e.product)==="ReactNative"))()?H.useLayoutEffect:H.useEffect;function U3(n){const e=H.useRef(n);return Y1(()=>void(e.current=n),[n]),e}function cJ(){const n=jB(),e=aJ();return H.useMemo(()=>({children:t})=>{const r=!!N3(n,!0,s=>s.type===H.StrictMode)?H.StrictMode:H.Fragment;return ge.jsx(r,{children:ge.jsx(e,{children:t})})},[n,e])}function uJ({set:n}){return Y1(()=>(n(new Promise(()=>null)),()=>n(!1)),[n]),null}const hJ=(n=>(n=class extends H.Component{constructor(...t){super(...t),this.state={error:!1}}componentDidCatch(t){this.props.set(t)}render(){return this.state.error?null:this.props.children}},n.getDerivedStateFromError=()=>({error:!0}),n))();function YB(n){var e;const t=typeof window<"u"?(e=window.devicePixelRatio)!=null?e:2:1;return Array.isArray(n)?Math.min(Math.max(n[0],t),n[1]):n}function i0(n){var e;return(e=n.__r3f)==null?void 0:e.root.getState()}const Ra={obj:n=>n===Object(n)&&!Ra.arr(n)&&typeof n!="function",fun:n=>typeof n=="function",str:n=>typeof n=="string",num:n=>typeof n=="number",boo:n=>typeof n=="boolean",und:n=>n===void 0,nul:n=>n===null,arr:n=>Array.isArray(n),equ(n,e,{arrays:t="shallow",objects:i="reference",strict:r=!0}={}){if(typeof n!=typeof e||!!n!=!!e)return!1;if(Ra.str(n)||Ra.num(n)||Ra.boo(n))return n===e;const s=Ra.obj(n);if(s&&i==="reference")return n===e;const a=Ra.arr(n);if(a&&t==="reference")return n===e;if((a||s)&&n===e)return!0;let o;for(o in n)if(!(o in e))return!1;if(s&&t==="shallow"&&i==="shallow"){for(o in r?e:n)if(!Ra.equ(n[o],e[o],{strict:r,objects:"reference"}))return!1}else for(o in r?e:n)if(n[o]!==e[o])return!1;if(Ra.und(o)){if(a&&n.length===0&&e.length===0||s&&Object.keys(n).length===0&&Object.keys(e).length===0)return!0;if(n!==e)return!1}return!0}};function dJ(n){const e={nodes:{},materials:{},meshes:{}};return n&&n.traverse(t=>{t.name&&(e.nodes[t.name]=t),t.material&&!e.materials[t.material.name]&&(e.materials[t.material.name]=t.material),t.isMesh&&!e.meshes[t.name]&&(e.meshes[t.name]=t)}),e}function fJ(n){n.type!=="Scene"&&(n.dispose==null||n.dispose());for(const e in n){const t=n[e];t?.type!=="Scene"&&(t==null||t.dispose==null||t.dispose())}}const KB=["children","key","ref"];function pJ(n){const e={};for(const t in n)KB.includes(t)||(e[t]=n[t]);return e}function Hw(n,e,t,i){const r=n;let s=r?.__r3f;return s||(s={root:e,type:t,parent:null,children:[],props:pJ(i),object:r,eventCount:0,handlers:{},isHidden:!1},r&&(r.__r3f=s)),s}function S1(n,e){let t=n[e];if(!e.includes("-"))return{root:n,key:e,target:t};t=n;for(const r of e.split("-")){var i;e=r,n=t,t=(i=t)==null?void 0:i[e]}return{root:n,key:e,target:t}}const ZI=/-\d+$/;function $w(n,e){if(Ra.str(e.props.attach)){if(ZI.test(e.props.attach)){const r=e.props.attach.replace(ZI,""),{root:s,key:a}=S1(n.object,r);Array.isArray(s[a])||(s[a]=[])}const{root:t,key:i}=S1(n.object,e.props.attach);e.previousAttach=t[i],t[i]=e.object}else Ra.fun(e.props.attach)&&(e.previousAttach=e.props.attach(n.object,e.object))}function Vw(n,e){if(Ra.str(e.props.attach)){const{root:t,key:i}=S1(n.object,e.props.attach),r=e.previousAttach;r===void 0?delete t[i]:t[i]=r}else e.previousAttach==null||e.previousAttach(n.object,e.object);delete e.previousAttach}const OM=[...KB,"args","dispose","attach","object","onUpdate","dispose"],QI=new Map;function mJ(n){let e=QI.get(n.constructor);try{e||(e=new n.constructor,QI.set(n.constructor,e))}catch{}return e}function gJ(n,e){const t={};for(const i in e)if(!OM.includes(i)&&!Ra.equ(e[i],n.props[i])){t[i]=e[i];for(const r in e)r.startsWith(`${i}-`)&&(t[r]=e[r])}for(const i in n.props){if(OM.includes(i)||e.hasOwnProperty(i))continue;const{root:r,key:s}=S1(n.object,i);if(r.constructor&&r.constructor.length===0){const a=mJ(r);Ra.und(a)||(t[s]=a[s])}else t[s]=0}return t}const vJ=["map","emissiveMap","sheenColorMap","specularColorMap","envMap"],yJ=/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/;function Rd(n,e){var t;const i=n.__r3f,r=i&&XB(i).getState(),s=i?.eventCount;for(const o in e){let l=e[o];if(OM.includes(o))continue;if(i&&yJ.test(o)){typeof l=="function"?i.handlers[o]=l:delete i.handlers[o],i.eventCount=Object.keys(i.handlers).length;continue}if(l===void 0)continue;let{root:c,key:f,target:h}=S1(n,o);if(h instanceof Y0&&l instanceof Y0)h.mask=l.mask;else if(h instanceof Zn&&lJ(l))h.set(l);else if(h!==null&&typeof h=="object"&&typeof h.set=="function"&&typeof h.copy=="function"&&l!=null&&l.constructor&&h.constructor===l.constructor)h.copy(l);else if(h!==null&&typeof h=="object"&&typeof h.set=="function"&&Array.isArray(l))typeof h.fromArray=="function"?h.fromArray(l):h.set(...l);else if(h!==null&&typeof h=="object"&&typeof h.set=="function"&&typeof l=="number")typeof h.setScalar=="function"?h.setScalar(l):h.set(l);else{var a;c[f]=l,r&&!r.linear&&vJ.includes(f)&&(a=c[f])!=null&&a.isTexture&&c[f].format===go&&c[f].type===wc&&(c[f].colorSpace=Wo)}}if(i!=null&&i.parent&&r!=null&&r.internal&&(t=i.object)!=null&&t.isObject3D&&s!==i.eventCount){const o=i.object,l=r.internal.interaction.indexOf(o);l>-1&&r.internal.interaction.splice(l,1),i.eventCount&&o.raycast!==null&&r.internal.interaction.push(o)}return i&&i.props.attach===void 0&&(i.object.isBufferGeometry?i.props.attach="geometry":i.object.isMaterial&&(i.props.attach="material")),i&&fy(i),n}function fy(n){var e;if(!n.parent)return;n.props.onUpdate==null||n.props.onUpdate(n.object);const t=(e=n.root)==null||e.getState==null?void 0:e.getState();t&&t.internal.frames===0&&t.invalidate()}function ZB(n,e){n.manual||(qB(n)?(n.left=e.width/-2,n.right=e.width/2,n.top=e.height/2,n.bottom=e.height/-2):n.aspect=e.width/e.height,n.updateProjectionMatrix())}const vc=n=>n?.isObject3D;function Vx(n){return(n.eventObject||n.object).uuid+"/"+n.index+n.instanceId}function QB(n,e,t,i){const r=t.get(e);r&&(t.delete(e),t.size===0&&(n.delete(i),r.target.releasePointerCapture(i)))}function _J(n,e){const{internal:t}=n.getState();t.interaction=t.interaction.filter(i=>i!==e),t.initialHits=t.initialHits.filter(i=>i!==e),t.hovered.forEach((i,r)=>{(i.eventObject===e||i.object===e)&&t.hovered.delete(r)}),t.capturedMap.forEach((i,r)=>{QB(t.capturedMap,e,i,r)})}function bJ(n){function e(l){const{internal:c}=n.getState(),f=l.offsetX-c.initialClick[0],h=l.offsetY-c.initialClick[1];return Math.round(Math.sqrt(f*f+h*h))}function t(l){return l.filter(c=>["Move","Over","Enter","Out","Leave"].some(f=>{var h;return(h=c.__r3f)==null?void 0:h.handlers["onPointer"+f]}))}function i(l,c){const f=n.getState(),h=new Set,v=[],m=c?c(f.internal.interaction):f.internal.interaction;for(let u=0;u<m.length;u++){const b=i0(m[u]);b&&(b.raycaster.camera=void 0)}f.previousRoot||f.events.compute==null||f.events.compute(l,f);function _(u){const b=i0(u);if(!b||!b.events.enabled||b.raycaster.camera===null)return[];if(b.raycaster.camera===void 0){var S;b.events.compute==null||b.events.compute(l,b,(S=b.previousRoot)==null?void 0:S.getState()),b.raycaster.camera===void 0&&(b.raycaster.camera=null)}return b.raycaster.camera?b.raycaster.intersectObject(u,!0):[]}let g=m.flatMap(_).sort((u,b)=>{const S=i0(u.object),T=i0(b.object);return!S||!T?u.distance-b.distance:T.events.priority-S.events.priority||u.distance-b.distance}).filter(u=>{const b=Vx(u);return h.has(b)?!1:(h.add(b),!0)});f.events.filter&&(g=f.events.filter(g,f));for(const u of g){let b=u.object;for(;b;){var y;(y=b.__r3f)!=null&&y.eventCount&&v.push({...u,eventObject:b}),b=b.parent}}if("pointerId"in l&&f.internal.capturedMap.has(l.pointerId))for(let u of f.internal.capturedMap.get(l.pointerId).values())h.has(Vx(u.intersection))||v.push(u.intersection);return v}function r(l,c,f,h){if(l.length){const v={stopped:!1};for(const m of l){let _=i0(m.object);if(_||m.object.traverseAncestors(g=>{const y=i0(g);if(y)return _=y,!1}),_){const{raycaster:g,pointer:y,camera:u,internal:b}=_,S=new Oe(y.x,y.y,0).unproject(u),T=F=>{var M,D;return(M=(D=b.capturedMap.get(F))==null?void 0:D.has(m.eventObject))!=null?M:!1},R=F=>{const M={intersection:m,target:c.target};b.capturedMap.has(F)?b.capturedMap.get(F).set(m.eventObject,M):b.capturedMap.set(F,new Map([[m.eventObject,M]])),c.target.setPointerCapture(F)},O=F=>{const M=b.capturedMap.get(F);M&&QB(b.capturedMap,m.eventObject,M,F)};let C={};for(let F in c){let M=c[F];typeof M!="function"&&(C[F]=M)}let I={...m,...C,pointer:y,intersections:l,stopped:v.stopped,delta:f,unprojectedPoint:S,ray:g.ray,camera:u,stopPropagation(){const F="pointerId"in c&&b.capturedMap.get(c.pointerId);if((!F||F.has(m.eventObject))&&(I.stopped=v.stopped=!0,b.hovered.size&&Array.from(b.hovered.values()).find(M=>M.eventObject===m.eventObject))){const M=l.slice(0,l.indexOf(m));s([...M,m])}},target:{hasPointerCapture:T,setPointerCapture:R,releasePointerCapture:O},currentTarget:{hasPointerCapture:T,setPointerCapture:R,releasePointerCapture:O},nativeEvent:c};if(h(I),v.stopped===!0)break}}}return l}function s(l){const{internal:c}=n.getState();for(const f of c.hovered.values())if(!l.length||!l.find(h=>h.object===f.object&&h.index===f.index&&h.instanceId===f.instanceId)){const v=f.eventObject.__r3f;if(c.hovered.delete(Vx(f)),v!=null&&v.eventCount){const m=v.handlers,_={...f,intersections:l};m.onPointerOut==null||m.onPointerOut(_),m.onPointerLeave==null||m.onPointerLeave(_)}}}function a(l,c){for(let f=0;f<c.length;f++){const h=c[f].__r3f;h==null||h.handlers.onPointerMissed==null||h.handlers.onPointerMissed(l)}}function o(l){switch(l){case"onPointerLeave":case"onPointerCancel":return()=>s([]);case"onLostPointerCapture":return c=>{const{internal:f}=n.getState();"pointerId"in c&&f.capturedMap.has(c.pointerId)&&requestAnimationFrame(()=>{f.capturedMap.has(c.pointerId)&&(f.capturedMap.delete(c.pointerId),s([]))})}}return function(f){const{onPointerMissed:h,internal:v}=n.getState();v.lastEvent.current=f;const m=l==="onPointerMove",_=l==="onClick"||l==="onContextMenu"||l==="onDoubleClick",y=i(f,m?t:void 0),u=_?e(f):0;l==="onPointerDown"&&(v.initialClick=[f.offsetX,f.offsetY],v.initialHits=y.map(S=>S.eventObject)),_&&!y.length&&u<=2&&(a(f,v.interaction),h&&h(f)),m&&s(y);function b(S){const T=S.eventObject,R=T.__r3f;if(!(R!=null&&R.eventCount))return;const O=R.handlers;if(m){if(O.onPointerOver||O.onPointerEnter||O.onPointerOut||O.onPointerLeave){const C=Vx(S),I=v.hovered.get(C);I?I.stopped&&S.stopPropagation():(v.hovered.set(C,S),O.onPointerOver==null||O.onPointerOver(S),O.onPointerEnter==null||O.onPointerEnter(S))}O.onPointerMove==null||O.onPointerMove(S)}else{const C=O[l];C?(!_||v.initialHits.includes(T))&&(a(f,v.interaction.filter(I=>!v.initialHits.includes(I))),C(S)):_&&v.initialHits.includes(T)&&a(f,v.interaction.filter(I=>!v.initialHits.includes(I)))}}r(y,f,u,b)}}return{handlePointer:o}}const JI=n=>!!(n!=null&&n.render),k3=H.createContext(null),xJ=(n,e)=>{const t=BB((o,l)=>{const c=new Oe,f=new Oe,h=new Oe;function v(u=l().camera,b=f,S=l().size){const{width:T,height:R,top:O,left:C}=S,I=T/R;b.isVector3?h.copy(b):h.set(...b);const F=u.getWorldPosition(c).distanceTo(h);if(qB(u))return{width:T/u.zoom,height:R/u.zoom,top:O,left:C,factor:1,distance:F,aspect:I};{const M=u.fov*Math.PI/180,D=2*Math.tan(M/2)*F,B=D*(T/R);return{width:B,height:D,top:O,left:C,factor:T/B,distance:F,aspect:I}}}let m;const _=u=>o(b=>({performance:{...b.performance,current:u}})),g=new ln;return{set:o,get:l,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},scene:null,xr:null,invalidate:(u=1)=>n(l(),u),advance:(u,b)=>e(u,b,l()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new A3,pointer:g,mouse:g,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const u=l();m&&clearTimeout(m),u.performance.current!==u.performance.min&&_(u.performance.min),m=setTimeout(()=>_(l().performance.max),u.performance.debounce)}},size:{width:0,height:0,top:0,left:0},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:v},setEvents:u=>o(b=>({...b,events:{...b.events,...u}})),setSize:(u,b,S=0,T=0)=>{const R=l().camera,O={width:u,height:b,top:S,left:T};o(C=>({size:O,viewport:{...C.viewport,...v(R,f,O)}}))},setDpr:u=>o(b=>{const S=YB(u);return{viewport:{...b.viewport,dpr:S,initialDpr:b.viewport.initialDpr||S}}}),setFrameloop:(u="always")=>{const b=l().clock;b.stop(),b.elapsedTime=0,u!=="never"&&(b.start(),b.elapsedTime=0),o(()=>({frameloop:u}))},previousRoot:void 0,internal:{interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,lastEvent:H.createRef(),active:!1,frames:0,priority:0,subscribe:(u,b,S)=>{const T=l().internal;return T.priority=T.priority+(b>0?1:0),T.subscribers.push({ref:u,priority:b,store:S}),T.subscribers=T.subscribers.sort((R,O)=>R.priority-O.priority),()=>{const R=l().internal;R!=null&&R.subscribers&&(R.priority=R.priority-(b>0?1:0),R.subscribers=R.subscribers.filter(O=>O.ref!==u))}}}}}),i=t.getState();let r=i.size,s=i.viewport.dpr,a=i.camera;return t.subscribe(()=>{const{camera:o,size:l,viewport:c,gl:f,set:h}=t.getState();if(l.width!==r.width||l.height!==r.height||c.dpr!==s){r=l,s=c.dpr,ZB(o,l),c.dpr>0&&f.setPixelRatio(c.dpr);const v=typeof HTMLCanvasElement<"u"&&f.domElement instanceof HTMLCanvasElement;f.setSize(l.width,l.height,v)}o!==a&&(a=o,h(v=>({viewport:{...v.viewport,...v.viewport.getCurrentViewport(o)}})))}),t.subscribe(o=>n(o)),t};function B3(){const n=H.useContext(k3);if(!n)throw new Error("R3F: Hooks can only be used within the Canvas component!");return n}function br(n=t=>t,e){return B3()(n,e)}function ch(n,e=0){const t=B3(),i=t.getState().internal.subscribe,r=U3(n);return Y1(()=>i(r,e,t),[e,i,t]),null}const eD=new WeakMap,SJ=n=>{var e;return typeof n=="function"&&(n==null||(e=n.prototype)==null?void 0:e.constructor)===n};function JB(n,e){return function(t,...i){let r;return SJ(t)?(r=eD.get(t),r||(r=new t,eD.set(t,r))):r=t,n&&n(r),Promise.all(i.map(s=>new Promise((a,o)=>r.load(s,l=>{vc(l?.scene)&&Object.assign(l,dJ(l.scene)),a(l)},e,l=>o(new Error(`Could not load ${s}: ${l?.message}`))))))}}function Jf(n,e,t,i){const r=Array.isArray(e)?e:[e],s=HB(JB(t,i),[n,...r],{equal:Ra.equ});return Array.isArray(e)?s:s[0]}Jf.preload=function(n,e,t){const i=Array.isArray(e)?e:[e];return KQ(JB(t),[n,...i])};Jf.clear=function(n,e){const t=Array.isArray(e)?e:[e];return ZQ([n,...t])};function wJ(n){const e=nJ(n);return e.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:H.version}),e}const e9=0,Q0={},EJ=/^three(?=[A-Z])/,yC=n=>`${n[0].toUpperCase()}${n.slice(1)}`;let CJ=0;const TJ=n=>typeof n=="function";function t9(n){if(TJ(n)){const e=`${CJ++}`;return Q0[e]=n,e}else Object.assign(Q0,n)}function n9(n,e){const t=yC(n),i=Q0[t];if(n!=="primitive"&&!i)throw new Error(`R3F: ${t} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(n==="primitive"&&!e.object)throw new Error("R3F: Primitives without 'object' are invalid!");if(e.args!==void 0&&!Array.isArray(e.args))throw new Error("R3F: The args prop must be an array!")}function AJ(n,e,t){var i;return n=yC(n)in Q0?n:n.replace(EJ,""),n9(n,e),n==="primitive"&&(i=e.object)!=null&&i.__r3f&&delete e.object.__r3f,Hw(e.object,t,n,e)}function MJ(n){if(!n.isHidden){var e;n.props.attach&&(e=n.parent)!=null&&e.object?Vw(n.parent,n):vc(n.object)&&(n.object.visible=!1),n.isHidden=!0,fy(n)}}function i9(n){if(n.isHidden){var e;n.props.attach&&(e=n.parent)!=null&&e.object?$w(n.parent,n):vc(n.object)&&n.props.visible!==!1&&(n.object.visible=!0),n.isHidden=!1,fy(n)}}function z3(n,e,t){const i=e.root.getState();if(!(!n.parent&&n.object!==i.scene)){if(!e.object){var r,s;const a=Q0[yC(e.type)];e.object=(r=e.props.object)!=null?r:new a(...(s=e.props.args)!=null?s:[]),e.object.__r3f=e}if(Rd(e.object,e.props),e.props.attach)$w(n,e);else if(vc(e.object)&&vc(n.object)){const a=n.object.children.indexOf(t?.object);if(t&&a!==-1){const o=n.object.children.indexOf(e.object);if(o!==-1){n.object.children.splice(o,1);const l=o<a?a-1:a;n.object.children.splice(l,0,e.object)}else e.object.parent=n.object,n.object.children.splice(a,0,e.object),e.object.dispatchEvent({type:"added"}),n.object.dispatchEvent({type:"childadded",child:e.object})}else n.object.add(e.object)}for(const a of e.children)z3(e,a);fy(e)}}function PA(n,e){e&&(e.parent=n,n.children.push(e),z3(n,e))}function tD(n,e,t){if(!e||!t)return;e.parent=n;const i=n.children.indexOf(t);i!==-1?n.children.splice(i,0,e):n.children.push(e),z3(n,e,t)}function r9(n){if(typeof n.dispose=="function"){const e=()=>{try{n.dispose()}catch{}};typeof IS_REACT_ACT_ENVIRONMENT<"u"?e():KI.unstable_scheduleCallback(KI.unstable_IdlePriority,e)}}function LM(n,e,t){if(!e)return;e.parent=null;const i=n.children.indexOf(e);i!==-1&&n.children.splice(i,1),e.props.attach?Vw(n,e):vc(e.object)&&vc(n.object)&&(n.object.remove(e.object),_J(XB(e),e.object));const r=e.props.dispose!==null&&t!==!1;for(let s=e.children.length-1;s>=0;s--){const a=e.children[s];LM(e,a,r)}e.children.length=0,delete e.object.__r3f,r&&e.type!=="primitive"&&e.object.type!=="Scene"&&r9(e.object),t===void 0&&fy(e)}function RJ(n,e){for(const t of[n,n.alternate])if(t!==null)if(typeof t.ref=="function"){t.refCleanup==null||t.refCleanup();const i=t.ref(e);typeof i=="function"&&(t.refCleanup=i)}else t.ref&&(t.ref.current=e)}const HS=[];function OJ(){for(const[t]of HS){const i=t.parent;if(i){t.props.attach?Vw(i,t):vc(t.object)&&vc(i.object)&&i.object.remove(t.object);for(const r of t.children)r.props.attach?Vw(t,r):vc(r.object)&&vc(t.object)&&t.object.remove(r.object)}t.isHidden&&i9(t),t.object.__r3f&&delete t.object.__r3f,t.type!=="primitive"&&r9(t.object)}for(const[t,i,r]of HS){t.props=i;const s=t.parent;if(s){var n,e;const a=Q0[yC(t.type)];t.object=(n=t.props.object)!=null?n:new a(...(e=t.props.args)!=null?e:[]),t.object.__r3f=t,RJ(r,t.object),Rd(t.object,t.props),t.props.attach?$w(s,t):vc(t.object)&&vc(s.object)&&s.object.add(t.object);for(const o of t.children)o.props.attach?$w(t,o):vc(o.object)&&vc(t.object)&&t.object.add(o.object);fy(t)}}HS.length=0}const IA=()=>{},nD={};let Wx=e9;const LJ=0,PJ=4,Ww=wJ({isPrimaryRenderer:!1,warnsIfNotActing:!1,supportsMutation:!0,supportsPersistence:!1,supportsHydration:!1,createInstance:AJ,removeChild:LM,appendChild:PA,appendInitialChild:PA,insertBefore:tD,appendChildToContainer(n,e){const t=n.getState().scene.__r3f;!e||!t||PA(t,e)},removeChildFromContainer(n,e){const t=n.getState().scene.__r3f;!e||!t||LM(t,e)},insertInContainerBefore(n,e,t){const i=n.getState().scene.__r3f;!e||!t||!i||tD(i,e,t)},getRootHostContext:()=>nD,getChildHostContext:()=>nD,commitUpdate(n,e,t,i,r){var s,a,o;n9(e,i);let l=!1;if((n.type==="primitive"&&t.object!==i.object||((s=i.args)==null?void 0:s.length)!==((a=t.args)==null?void 0:a.length)||(o=i.args)!=null&&o.some((f,h)=>{var v;return f!==((v=t.args)==null?void 0:v[h])}))&&(l=!0),l)HS.push([n,{...i},r]);else{const f=gJ(n,i);Object.keys(f).length&&(Object.assign(n.props,f),Rd(n.object,f))}(r.sibling===null||(r.flags&PJ)===LJ)&&OJ()},finalizeInitialChildren:()=>!1,commitMount(){},getPublicInstance:n=>n?.object,prepareForCommit:()=>null,preparePortalMount:n=>Hw(n.getState().scene,n,"",{}),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance:MJ,unhideInstance:i9,createTextInstance:IA,hideTextInstance:IA,unhideTextInstance:IA,scheduleTimeout:typeof setTimeout=="function"?setTimeout:void 0,cancelTimeout:typeof clearTimeout=="function"?clearTimeout:void 0,noTimeout:-1,getInstanceFromNode:()=>null,beforeActiveInstanceBlur(){},afterActiveInstanceBlur(){},detachDeletedInstance(){},prepareScopeUpdate(){},getInstanceFromScope:()=>null,shouldAttemptEagerTransition:()=>!1,trackSchedulerEvent:()=>{},resolveEventType:()=>null,resolveEventTimeStamp:()=>-1.1,requestPostPaintCallback(){},maySuspendCommit:()=>!1,preloadInstance:()=>!0,startSuspendingCommit(){},suspendInstance(){},waitForCommitToBeReady:()=>null,NotPendingTransition:null,HostTransitionContext:H.createContext(null),setCurrentUpdatePriority(n){Wx=n},getCurrentUpdatePriority(){return Wx},resolveUpdatePriority(){var n;if(Wx!==e9)return Wx;switch(typeof window<"u"&&((n=window.event)==null?void 0:n.type)){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return GS.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return GS.ContinuousEventPriority;default:return GS.DefaultEventPriority}},resetFormInstance(){}}),qg=new Map,r0={objects:"shallow",strict:!1};function IJ(n,e){if(!e&&typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement&&n.parentElement){const{width:t,height:i,top:r,left:s}=n.parentElement.getBoundingClientRect();return{width:t,height:i,top:r,left:s}}else if(!e&&typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas)return{width:n.width,height:n.height,top:0,left:0};return{width:0,height:0,top:0,left:0,...e}}function DJ(n){const e=qg.get(n),t=e?.fiber,i=e?.store;e&&console.warn("R3F.createRoot should only be called once!");const r=typeof reportError=="function"?reportError:console.error,s=i||xJ(DM,rD),a=t||Ww.createContainer(s,GS.ConcurrentRoot,null,!1,null,"",r,r,r,null);e||qg.set(n,{fiber:a,store:s});let o,l,c=!1,f=null;return{async configure(h={}){let v;f=new Promise(ie=>v=ie);let{gl:m,size:_,scene:g,events:y,onCreated:u,shadows:b=!1,linear:S=!1,flat:T=!1,legacy:R=!1,orthographic:O=!1,frameloop:C="always",dpr:I=[1,2],performance:F,raycaster:M,camera:D,onPointerMissed:B}=h,j=s.getState(),U=j.gl;if(!j.gl){const ie={canvas:n,powerPreference:"high-performance",antialias:!0,alpha:!0},he=typeof m=="function"?await m(ie):m;JI(he)?U=he:U=new D3({...ie,...m}),j.set({gl:U})}let V=j.raycaster;V||j.set({raycaster:V=new L3});const{params:k,...Z}=M||{};if(Ra.equ(Z,V,r0)||Rd(V,{...Z}),Ra.equ(k,V.params,r0)||Rd(V,{params:{...V.params,...k}}),!j.camera||j.camera===l&&!Ra.equ(l,D,r0)){l=D;const ie=D?.isCamera,he=ie?D:O?new Hh(0,0,0,0,.1,1e3):new Ga(75,0,.1,1e3);ie||(he.position.z=5,D&&(Rd(he,D),he.manual||("aspect"in D||"left"in D||"right"in D||"bottom"in D||"top"in D)&&(he.manual=!0,he.updateProjectionMatrix())),!j.camera&&!(D!=null&&D.rotation)&&he.lookAt(0,0,0)),j.set({camera:he}),V.camera=he}if(!j.scene){let ie;g!=null&&g.isScene?(ie=g,Hw(ie,s,"",{})):(ie=new fm,Hw(ie,s,"",{}),g&&Rd(ie,g)),j.set({scene:ie})}y&&!j.events.handlers&&j.set({events:y(s)});const ee=IJ(n,_);if(Ra.equ(ee,j.size,r0)||j.setSize(ee.width,ee.height,ee.top,ee.left),I&&j.viewport.dpr!==YB(I)&&j.setDpr(I),j.frameloop!==C&&j.setFrameloop(C),j.onPointerMissed||j.set({onPointerMissed:B}),F&&!Ra.equ(F,j.performance,r0)&&j.set(ie=>({performance:{...ie.performance,...F}})),!j.xr){var oe;const ie=(ce,ae)=>{const ve=s.getState();ve.frameloop!=="never"&&rD(ce,!0,ve,ae)},he=()=>{const ce=s.getState();ce.gl.xr.enabled=ce.gl.xr.isPresenting,ce.gl.xr.setAnimationLoop(ce.gl.xr.isPresenting?ie:null),ce.gl.xr.isPresenting||DM(ce)},fe={connect(){const ce=s.getState().gl;ce.xr.addEventListener("sessionstart",he),ce.xr.addEventListener("sessionend",he)},disconnect(){const ce=s.getState().gl;ce.xr.removeEventListener("sessionstart",he),ce.xr.removeEventListener("sessionend",he)}};typeof((oe=U.xr)==null?void 0:oe.addEventListener)=="function"&&fe.connect(),j.set({xr:fe})}if(U.shadowMap){const ie=U.shadowMap.enabled,he=U.shadowMap.type;if(U.shadowMap.enabled=!!b,Ra.boo(b))U.shadowMap.type=N_;else if(Ra.str(b)){var ne;const fe={basic:$U,percentage:DE,soft:N_,variance:Ih};U.shadowMap.type=(ne=fe[b])!=null?ne:N_}else Ra.obj(b)&&Object.assign(U.shadowMap,b);(ie!==U.shadowMap.enabled||he!==U.shadowMap.type)&&(U.shadowMap.needsUpdate=!0)}return Jr.enabled=!R,c||(U.outputColorSpace=S?jh:Wo,U.toneMapping=T?Nd:qR),j.legacy!==R&&j.set(()=>({legacy:R})),j.linear!==S&&j.set(()=>({linear:S})),j.flat!==T&&j.set(()=>({flat:T})),m&&!Ra.fun(m)&&!JI(m)&&!Ra.equ(m,U,r0)&&Rd(U,m),o=u,c=!0,v(),this},render(h){return!c&&!f&&this.configure(),f.then(()=>{Ww.updateContainer(ge.jsx(NJ,{store:s,children:h,onCreated:o,rootElement:n}),a,null,()=>{})}),s},unmount(){s9(n)}}}function NJ({store:n,children:e,onCreated:t,rootElement:i}){return Y1(()=>{const r=n.getState();r.set(s=>({internal:{...s.internal,active:!0}})),t&&t(r),n.getState().events.connected||r.events.connect==null||r.events.connect(i)},[]),ge.jsx(k3.Provider,{value:n,children:e})}function s9(n,e){const t=qg.get(n),i=t?.fiber;if(i){const r=t?.store.getState();r&&(r.internal.active=!1),Ww.updateContainer(null,i,null,()=>{r&&setTimeout(()=>{try{var s,a,o,l;r.events.disconnect==null||r.events.disconnect(),(s=r.gl)==null||(a=s.renderLists)==null||a.dispose==null||a.dispose(),(o=r.gl)==null||o.forceContextLoss==null||o.forceContextLoss(),(l=r.gl)!=null&&l.xr&&r.xr.disconnect(),fJ(r.scene),qg.delete(n)}catch{}},500)})}}function a9(n,e,t){return ge.jsx(FJ,{children:n,container:e,state:t})}function FJ({state:n={},children:e,container:t}){const{events:i,size:r,...s}=n,a=B3(),[o]=H.useState(()=>new L3),[l]=H.useState(()=>new ln),c=U3((h,v)=>{let m;if(v.camera&&r){const _=v.camera;m=h.viewport.getCurrentViewport(_,new Oe,r),_!==h.camera&&ZB(_,r)}return{...h,...v,scene:t,raycaster:o,pointer:l,mouse:l,previousRoot:a,events:{...h.events,...v.events,...i},size:{...h.size,...r},viewport:{...h.viewport,...m},setEvents:_=>v.set(g=>({...g,events:{...g.events,..._}}))}}),f=H.useMemo(()=>{const h=BB((m,_)=>({...s,set:m,get:_})),v=m=>h.setState(_=>c.current(m,_));return v(a.getState()),a.subscribe(v),h},[a,t]);return ge.jsx(ge.Fragment,{children:Ww.createPortal(ge.jsx(k3.Provider,{value:f,children:e}),f,null)})}function G3(n,e){const t={callback:n};return e.add(t),()=>void e.delete(t)}const o9=new Set,l9=new Set,c9=new Set,UJ=n=>G3(n,o9),kJ=n=>G3(n,l9),BJ=n=>G3(n,c9);function DA(n,e){if(n.size)for(const{callback:t}of n.values())t(e)}function W_(n,e){switch(n){case"before":return DA(o9,e);case"after":return DA(l9,e);case"tail":return DA(c9,e)}}let NA,FA;function PM(n,e,t){let i=e.clock.getDelta();e.frameloop==="never"&&typeof n=="number"&&(i=n-e.clock.elapsedTime,e.clock.oldTime=e.clock.elapsedTime,e.clock.elapsedTime=n),NA=e.internal.subscribers;for(let r=0;r<NA.length;r++)FA=NA[r],FA.ref.current(FA.store.getState(),i,t);return!e.internal.priority&&e.gl.render&&e.gl.render(e.scene,e.camera),e.internal.frames=Math.max(0,e.internal.frames-1),e.frameloop==="always"?1:e.internal.frames}let jw=!1,IM=!1,UA,iD,s0;function u9(n){iD=requestAnimationFrame(u9),jw=!0,UA=0,W_("before",n),IM=!0;for(const t of qg.values()){var e;s0=t.store.getState(),s0.internal.active&&(s0.frameloop==="always"||s0.internal.frames>0)&&!((e=s0.gl.xr)!=null&&e.isPresenting)&&(UA+=PM(n,s0))}if(IM=!1,W_("after",n),UA===0)return W_("tail",n),jw=!1,cancelAnimationFrame(iD)}function DM(n,e=1){var t;if(!n)return qg.forEach(i=>DM(i.store.getState(),e));(t=n.gl.xr)!=null&&t.isPresenting||!n.internal.active||n.frameloop==="never"||(e>1?n.internal.frames=Math.min(60,n.internal.frames+e):IM?n.internal.frames=2:n.internal.frames=1,jw||(jw=!0,requestAnimationFrame(u9)))}function rD(n,e=!0,t,i){if(e&&W_("before",n),t)PM(n,t,i);else for(const r of qg.values())PM(n,r.store.getState());e&&W_("after",n)}const kA={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function zJ(n){const{handlePointer:e}=bJ(n);return{priority:1,enabled:!0,compute(t,i,r){i.pointer.set(t.offsetX/i.size.width*2-1,-(t.offsetY/i.size.height)*2+1),i.raycaster.setFromCamera(i.pointer,i.camera)},connected:void 0,handlers:Object.keys(kA).reduce((t,i)=>({...t,[i]:e(i)}),{}),update:()=>{var t;const{events:i,internal:r}=n.getState();(t=r.lastEvent)!=null&&t.current&&i.handlers&&i.handlers.onPointerMove(r.lastEvent.current)},connect:t=>{const{set:i,events:r}=n.getState();if(r.disconnect==null||r.disconnect(),i(s=>({events:{...s.events,connected:t}})),r.handlers)for(const s in r.handlers){const a=r.handlers[s],[o,l]=kA[s];t.addEventListener(o,a,{passive:l})}},disconnect:()=>{const{set:t,events:i}=n.getState();if(i.connected){if(i.handlers)for(const r in i.handlers){const s=i.handlers[r],[a]=kA[r];i.connected.removeEventListener(a,s)}t(r=>({events:{...r.events,connected:void 0}}))}}}}function sD(n,e){let t;return(...i)=>{window.clearTimeout(t),t=window.setTimeout(()=>n(...i),e)}}function GJ({debounce:n,scroll:e,polyfill:t,offsetSize:i}={debounce:0,scroll:!1,offsetSize:!1}){const r=t||(typeof window>"u"?class{}:window.ResizeObserver);if(!r)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[s,a]=H.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),o=H.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:s,orientationHandler:null}),l=n?typeof n=="number"?n:n.scroll:null,c=n?typeof n=="number"?n:n.resize:null,f=H.useRef(!1);H.useEffect(()=>(f.current=!0,()=>void(f.current=!1)));const[h,v,m]=H.useMemo(()=>{const u=()=>{if(!o.current.element)return;const{left:b,top:S,width:T,height:R,bottom:O,right:C,x:I,y:F}=o.current.element.getBoundingClientRect(),M={left:b,top:S,width:T,height:R,bottom:O,right:C,x:I,y:F};o.current.element instanceof HTMLElement&&i&&(M.height=o.current.element.offsetHeight,M.width=o.current.element.offsetWidth),Object.freeze(M),f.current&&!WJ(o.current.lastBounds,M)&&a(o.current.lastBounds=M)};return[u,c?sD(u,c):u,l?sD(u,l):u]},[a,i,l,c]);function _(){o.current.scrollContainers&&(o.current.scrollContainers.forEach(u=>u.removeEventListener("scroll",m,!0)),o.current.scrollContainers=null),o.current.resizeObserver&&(o.current.resizeObserver.disconnect(),o.current.resizeObserver=null),o.current.orientationHandler&&("orientation"in screen&&"removeEventListener"in screen.orientation?screen.orientation.removeEventListener("change",o.current.orientationHandler):"onorientationchange"in window&&window.removeEventListener("orientationchange",o.current.orientationHandler))}function g(){o.current.element&&(o.current.resizeObserver=new r(m),o.current.resizeObserver.observe(o.current.element),e&&o.current.scrollContainers&&o.current.scrollContainers.forEach(u=>u.addEventListener("scroll",m,{capture:!0,passive:!0})),o.current.orientationHandler=()=>{m()},"orientation"in screen&&"addEventListener"in screen.orientation?screen.orientation.addEventListener("change",o.current.orientationHandler):"onorientationchange"in window&&window.addEventListener("orientationchange",o.current.orientationHandler))}const y=u=>{!u||u===o.current.element||(_(),o.current.element=u,o.current.scrollContainers=h9(u),g())};return $J(m,!!e),HJ(v),H.useEffect(()=>{_(),g()},[e,m,v]),H.useEffect(()=>_,[]),[y,s,h]}function HJ(n){H.useEffect(()=>{const e=n;return window.addEventListener("resize",e),()=>void window.removeEventListener("resize",e)},[n])}function $J(n,e){H.useEffect(()=>{if(e){const t=n;return window.addEventListener("scroll",t,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",t,!0)}},[n,e])}function h9(n){const e=[];if(!n||n===document.body)return e;const{overflow:t,overflowX:i,overflowY:r}=window.getComputedStyle(n);return[t,i,r].some(s=>s==="auto"||s==="scroll")&&e.push(n),[...e,...h9(n.parentElement)]}const VJ=["x","y","top","bottom","left","right","width","height"],WJ=(n,e)=>VJ.every(t=>n[t]===e[t]);function jJ({ref:n,children:e,fallback:t,resize:i,style:r,gl:s,events:a=zJ,eventSource:o,eventPrefix:l,shadows:c,linear:f,flat:h,legacy:v,orthographic:m,frameloop:_,dpr:g,performance:y,raycaster:u,camera:b,scene:S,onPointerMissed:T,onCreated:R,...O}){H.useMemo(()=>t9(UQ),[]);const C=cJ(),[I,F]=GJ({scroll:!0,debounce:{scroll:50,resize:0},...i}),M=H.useRef(null),D=H.useRef(null);H.useImperativeHandle(n,()=>M.current);const B=U3(T),[j,U]=H.useState(!1),[V,k]=H.useState(!1);if(j)throw j;if(V)throw V;const Z=H.useRef(null);Y1(()=>{const oe=M.current;if(F.width>0&&F.height>0&&oe){Z.current||(Z.current=DJ(oe));async function ne(){await Z.current.configure({gl:s,scene:S,events:a,shadows:c,linear:f,flat:h,legacy:v,orthographic:m,frameloop:_,dpr:g,performance:y,raycaster:u,camera:b,size:F,onPointerMissed:(...ie)=>B.current==null?void 0:B.current(...ie),onCreated:ie=>{ie.events.connect==null||ie.events.connect(o?oJ(o)?o.current:o:D.current),l&&ie.setEvents({compute:(he,fe)=>{const ce=he[l+"X"],ae=he[l+"Y"];fe.pointer.set(ce/fe.size.width*2-1,-(ae/fe.size.height)*2+1),fe.raycaster.setFromCamera(fe.pointer,fe.camera)}}),R?.(ie)}}),Z.current.render(ge.jsx(C,{children:ge.jsx(hJ,{set:k,children:ge.jsx(H.Suspense,{fallback:ge.jsx(uJ,{set:U}),children:e??null})})}))}ne()}}),H.useEffect(()=>{const oe=M.current;if(oe)return()=>s9(oe)},[]);const ee=o?"none":"auto";return ge.jsx("div",{ref:D,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:ee,...r},...O,children:ge.jsx("div",{ref:I,style:{width:"100%",height:"100%"},children:ge.jsx("canvas",{ref:M,style:{display:"block"},children:t})})})}function H3(n){return ge.jsx(WB,{children:ge.jsx(jJ,{...n})})}const K1=new Oe,$3=new Oe,XJ=new Oe,aD=new ln;function qJ(n,e,t){const i=K1.setFromMatrixPosition(n.matrixWorld);i.project(e);const r=t.width/2,s=t.height/2;return[i.x*r+r,-(i.y*s)+s]}function YJ(n,e){const t=K1.setFromMatrixPosition(n.matrixWorld),i=$3.setFromMatrixPosition(e.matrixWorld),r=t.sub(i),s=e.getWorldDirection(XJ);return r.angleTo(s)>Math.PI/2}function KJ(n,e,t,i){const r=K1.setFromMatrixPosition(n.matrixWorld),s=r.clone();s.project(e),aD.set(s.x,s.y),t.setFromCamera(aD,e);const a=t.intersectObjects(i,!0);if(a.length){const o=a[0].distance;return r.distanceTo(t.ray.origin)<o}return!0}function ZJ(n,e){if(e instanceof Hh)return e.zoom;if(e instanceof Ga){const t=K1.setFromMatrixPosition(n.matrixWorld),i=$3.setFromMatrixPosition(e.matrixWorld),r=e.fov*Math.PI/180,s=t.distanceTo(i);return 1/(2*Math.tan(r/2)*s)}else return 1}function QJ(n,e,t){if(e instanceof Ga||e instanceof Hh){const i=K1.setFromMatrixPosition(n.matrixWorld),r=$3.setFromMatrixPosition(e.matrixWorld),s=i.distanceTo(r),a=(t[1]-t[0])/(e.far-e.near),o=t[1]-a*e.far;return Math.round(a*s+o)}}const NM=n=>Math.abs(n)<1e-10?0:n;function d9(n,e,t=""){let i="matrix3d(";for(let r=0;r!==16;r++)i+=NM(e[r]*n.elements[r])+(r!==15?",":")");return t+i}const JJ=(n=>e=>d9(e,n))([1,-1,1,1,1,-1,1,1,1,-1,1,1,1,-1,1,1]),eee=(n=>(e,t)=>d9(e,n(t),"translate(-50%,-50%)"))(n=>[1/n,1/n,1/n,1,-1/n,-1/n,-1/n,-1,1/n,1/n,1/n,1,1,1,1,1]);function tee(n){return n&&typeof n=="object"&&"current"in n}const _C=H.forwardRef(({children:n,eps:e=.001,style:t,className:i,prepend:r,center:s,fullscreen:a,portal:o,distanceFactor:l,sprite:c=!1,transform:f=!1,occlude:h,onOcclude:v,castShadow:m,receiveShadow:_,material:g,geometry:y,zIndexRange:u=[16777271,0],calculatePosition:b=qJ,as:S="div",wrapperClass:T,pointerEvents:R="auto",...O},C)=>{const{gl:I,camera:F,scene:M,size:D,raycaster:B,events:j,viewport:U}=br(),[V]=H.useState(()=>document.createElement(S)),k=H.useRef(null),Z=H.useRef(null),ee=H.useRef(0),oe=H.useRef([0,0]),ne=H.useRef(null),ie=H.useRef(null),he=o?.current||j.connected||I.domElement.parentNode,fe=H.useRef(null),ce=H.useRef(!1),ae=H.useMemo(()=>h&&h!=="blending"||Array.isArray(h)&&h.length&&tee(h[0]),[h]);H.useLayoutEffect(()=>{const We=I.domElement;h&&h==="blending"?(We.style.zIndex=`${Math.floor(u[0]/2)}`,We.style.position="absolute",We.style.pointerEvents="none"):(We.style.zIndex=null,We.style.position=null,We.style.pointerEvents=null)},[h]),H.useLayoutEffect(()=>{if(Z.current){const We=k.current=LE.createRoot(V);if(M.updateMatrixWorld(),f)V.style.cssText="position:absolute;top:0;left:0;pointer-events:none;overflow:hidden;";else{const ht=b(Z.current,F,D);V.style.cssText=`position:absolute;top:0;left:0;transform:translate3d(${ht[0]}px,${ht[1]}px,0);transform-origin:0 0;`}return he&&(r?he.prepend(V):he.appendChild(V)),()=>{he&&he.removeChild(V),We.unmount()}}},[he,f]),H.useLayoutEffect(()=>{T&&(V.className=T)},[T]);const ve=H.useMemo(()=>f?{position:"absolute",top:0,left:0,width:D.width,height:D.height,transformStyle:"preserve-3d",pointerEvents:"none"}:{position:"absolute",transform:s?"translate3d(-50%,-50%,0)":"none",...a&&{top:-D.height/2,left:-D.width/2,width:D.width,height:D.height},...t},[t,s,a,D,f]),_e=H.useMemo(()=>({position:"absolute",pointerEvents:R}),[R]);H.useLayoutEffect(()=>{if(ce.current=!1,f){var We;(We=k.current)==null||We.render(H.createElement("div",{ref:ne,style:ve},H.createElement("div",{ref:ie,style:_e},H.createElement("div",{ref:C,className:i,style:t,children:n}))))}else{var ht;(ht=k.current)==null||ht.render(H.createElement("div",{ref:C,style:ve,className:i,children:n}))}});const Te=H.useRef(!0);ch(We=>{if(Z.current){F.updateMatrixWorld(),Z.current.updateWorldMatrix(!0,!1);const ht=f?oe.current:b(Z.current,F,D);if(f||Math.abs(ee.current-F.zoom)>e||Math.abs(oe.current[0]-ht[0])>e||Math.abs(oe.current[1]-ht[1])>e){const ft=YJ(Z.current,F);let Bt=!1;ae&&(Array.isArray(h)?Bt=h.map(St=>St.current):h!=="blending"&&(Bt=[M]));const Me=Te.current;if(Bt){const St=KJ(Z.current,F,B,Bt);Te.current=St&&!ft}else Te.current=!ft;Me!==Te.current&&(v?v(!Te.current):V.style.display=Te.current?"block":"none");const yt=Math.floor(u[0]/2),mt=h?ae?[u[0],yt]:[yt-1,0]:u;if(V.style.zIndex=`${QJ(Z.current,F,mt)}`,f){const[St,nt]=[D.width/2,D.height/2],Ft=F.projectionMatrix.elements[5]*nt,{isOrthographicCamera:qe,top:Ke,left:Et,bottom:ye,right:me}=F,Le=JJ(F.matrixWorldInverse),it=qe?`scale(${Ft})translate(${NM(-(me+Et)/2)}px,${NM((Ke+ye)/2)}px)`:`translateZ(${Ft}px)`;let Qe=Z.current.matrixWorld;c&&(Qe=F.matrixWorldInverse.clone().transpose().copyPosition(Qe).scale(Z.current.scale),Qe.elements[3]=Qe.elements[7]=Qe.elements[11]=0,Qe.elements[15]=1),V.style.width=D.width+"px",V.style.height=D.height+"px",V.style.perspective=qe?"":`${Ft}px`,ne.current&&ie.current&&(ne.current.style.transform=`${it}${Le}translate(${St}px,${nt}px)`,ie.current.style.transform=eee(Qe,1/((l||10)/400)))}else{const St=l===void 0?1:ZJ(Z.current,F)*l;V.style.transform=`translate3d(${ht[0]}px,${ht[1]}px,0) scale(${St})`}oe.current=ht,ee.current=F.zoom}}if(!ae&&fe.current&&!ce.current)if(f){if(ne.current){const ht=ne.current.children[0];if(ht!=null&&ht.clientWidth&&ht!=null&&ht.clientHeight){const{isOrthographicCamera:ft}=F;if(ft||y)O.scale&&(Array.isArray(O.scale)?O.scale instanceof Oe?fe.current.scale.copy(O.scale.clone().divideScalar(1)):fe.current.scale.set(1/O.scale[0],1/O.scale[1],1/O.scale[2]):fe.current.scale.setScalar(1/O.scale));else{const Bt=(l||10)/400,Me=ht.clientWidth*Bt,yt=ht.clientHeight*Bt;fe.current.scale.set(Me,yt,1)}ce.current=!0}}}else{const ht=V.children[0];if(ht!=null&&ht.clientWidth&&ht!=null&&ht.clientHeight){const ft=1/U.factor,Bt=ht.clientWidth*ft,Me=ht.clientHeight*ft;fe.current.scale.set(Bt,Me,1),ce.current=!0}fe.current.lookAt(We.camera.position)}});const Fe=H.useMemo(()=>({vertexShader:f?void 0:`
          /*
            This shader is from the THREE's SpriteMaterial.
            We need to turn the backing plane into a Sprite
            (make it always face the camera) if "transfrom"
            is false.
          */
          #include <common>

          void main() {
            vec2 center = vec2(0., 1.);
            float rotation = 0.0;

            // This is somewhat arbitrary, but it seems to work well
            // Need to figure out how to derive this dynamically if it even matters
            float size = 0.03;

            vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
            vec2 scale;
            scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
            scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );

            bool isPerspective = isPerspectiveMatrix( projectionMatrix );
            if ( isPerspective ) scale *= - mvPosition.z;

            vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale * size;
            vec2 rotatedPosition;
            rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
            rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
            mvPosition.xy += rotatedPosition;

            gl_Position = projectionMatrix * mvPosition;
          }
      `,fragmentShader:`
        void main() {
          gl_FragColor = vec4(0.0, 0.0, 0.0, 0.0);
        }
      `}),[f]);return H.createElement("group",Dr({},O,{ref:Z}),h&&!ae&&H.createElement("mesh",{castShadow:m,receiveShadow:_,ref:fe},y||H.createElement("planeGeometry",null),g||H.createElement("shaderMaterial",{side:El,vertexShader:Fe.vertexShader,fragmentShader:Fe.fragmentShader})))});function nee(n,e,t){return Math.max(e,Math.min(n,t))}const $l={toVector(n,e){return n===void 0&&(n=e),Array.isArray(n)?n:[n,n]},add(n,e){return[n[0]+e[0],n[1]+e[1]]},sub(n,e){return[n[0]-e[0],n[1]-e[1]]},addTo(n,e){n[0]+=e[0],n[1]+=e[1]},subTo(n,e){n[0]-=e[0],n[1]-=e[1]}};function oD(n,e,t){return e===0||Math.abs(e)===1/0?Math.pow(n,t*5):n*e*t/(e+t*n)}function lD(n,e,t,i=.15){return i===0?nee(n,e,t):n<e?-oD(e-n,t-e,i)+e:n>t?+oD(n-t,t-e,i)+t:n}function iee(n,[e,t],[i,r]){const[[s,a],[o,l]]=n;return[lD(e,s,a,i),lD(t,o,l,r)]}function ree(n,e){if(typeof n!="object"||n===null)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function see(n){var e=ree(n,"string");return typeof e=="symbol"?e:String(e)}function $c(n,e,t){return e=see(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function cD(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function $a(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?cD(Object(t),!0).forEach(function(i){$c(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):cD(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}const f9={pointer:{start:"down",change:"move",end:"up"},mouse:{start:"down",change:"move",end:"up"},touch:{start:"start",change:"move",end:"end"},gesture:{start:"start",change:"change",end:"end"}};function uD(n){return n?n[0].toUpperCase()+n.slice(1):""}const aee=["enter","leave"];function oee(n=!1,e){return n&&!aee.includes(e)}function lee(n,e="",t=!1){const i=f9[n],r=i&&i[e]||e;return"on"+uD(n)+uD(r)+(oee(t,r)?"Capture":"")}const cee=["gotpointercapture","lostpointercapture"];function uee(n){let e=n.substring(2).toLowerCase();const t=!!~e.indexOf("passive");t&&(e=e.replace("passive",""));const i=cee.includes(e)?"capturecapture":"capture",r=!!~e.indexOf(i);return r&&(e=e.replace("capture","")),{device:e,capture:r,passive:t}}function hee(n,e=""){const t=f9[n],i=t&&t[e]||e;return n+i}function bC(n){return"touches"in n}function p9(n){return bC(n)?"touch":"pointerType"in n?n.pointerType:"mouse"}function dee(n){return Array.from(n.touches).filter(e=>{var t,i;return e.target===n.currentTarget||((t=n.currentTarget)===null||t===void 0||(i=t.contains)===null||i===void 0?void 0:i.call(t,e.target))})}function fee(n){return n.type==="touchend"||n.type==="touchcancel"?n.changedTouches:n.targetTouches}function m9(n){return bC(n)?fee(n)[0]:n}function pee(n){return dee(n).map(e=>e.identifier)}function BA(n){const e=m9(n);return bC(n)?e.identifier:e.pointerId}function hD(n){const e=m9(n);return[e.clientX,e.clientY]}function mee(n){const e={};if("buttons"in n&&(e.buttons=n.buttons),"shiftKey"in n){const{shiftKey:t,altKey:i,metaKey:r,ctrlKey:s}=n;Object.assign(e,{shiftKey:t,altKey:i,metaKey:r,ctrlKey:s})}return e}function Xw(n,...e){return typeof n=="function"?n(...e):n}function gee(){}function vee(...n){return n.length===0?gee:n.length===1?n[0]:function(){let e;for(const t of n)e=t.apply(this,arguments)||e;return e}}function dD(n,e){return Object.assign({},e,n||{})}const yee=32;let _ee=class{constructor(e,t,i){this.ctrl=e,this.args=t,this.key=i,this.state||(this.state={},this.computeValues([0,0]),this.computeInitial(),this.init&&this.init(),this.reset())}get state(){return this.ctrl.state[this.key]}set state(e){this.ctrl.state[this.key]=e}get shared(){return this.ctrl.state.shared}get eventStore(){return this.ctrl.gestureEventStores[this.key]}get timeoutStore(){return this.ctrl.gestureTimeoutStores[this.key]}get config(){return this.ctrl.config[this.key]}get sharedConfig(){return this.ctrl.config.shared}get handler(){return this.ctrl.handlers[this.key]}reset(){const{state:e,shared:t,ingKey:i,args:r}=this;t[i]=e._active=e.active=e._blocked=e._force=!1,e._step=[!1,!1],e.intentional=!1,e._movement=[0,0],e._distance=[0,0],e._direction=[0,0],e._delta=[0,0],e._bounds=[[-1/0,1/0],[-1/0,1/0]],e.args=r,e.axis=void 0,e.memo=void 0,e.elapsedTime=e.timeDelta=0,e.direction=[0,0],e.distance=[0,0],e.overflow=[0,0],e._movementBound=[!1,!1],e.velocity=[0,0],e.movement=[0,0],e.delta=[0,0],e.timeStamp=0}start(e){const t=this.state,i=this.config;t._active||(this.reset(),this.computeInitial(),t._active=!0,t.target=e.target,t.currentTarget=e.currentTarget,t.lastOffset=i.from?Xw(i.from,t):t.offset,t.offset=t.lastOffset,t.startTime=t.timeStamp=e.timeStamp)}computeValues(e){const t=this.state;t._values=e,t.values=this.config.transform(e)}computeInitial(){const e=this.state;e._initial=e._values,e.initial=e.values}compute(e){const{state:t,config:i,shared:r}=this;t.args=this.args;let s=0;if(e&&(t.event=e,i.preventDefault&&e.cancelable&&t.event.preventDefault(),t.type=e.type,r.touches=this.ctrl.pointerIds.size||this.ctrl.touchIds.size,r.locked=!!document.pointerLockElement,Object.assign(r,mee(e)),r.down=r.pressed=r.buttons%2===1||r.touches>0,s=e.timeStamp-t.timeStamp,t.timeStamp=e.timeStamp,t.elapsedTime=t.timeStamp-t.startTime),t._active){const O=t._delta.map(Math.abs);$l.addTo(t._distance,O)}this.axisIntent&&this.axisIntent(e);const[a,o]=t._movement,[l,c]=i.threshold,{_step:f,values:h}=t;if(i.hasCustomTransform?(f[0]===!1&&(f[0]=Math.abs(a)>=l&&h[0]),f[1]===!1&&(f[1]=Math.abs(o)>=c&&h[1])):(f[0]===!1&&(f[0]=Math.abs(a)>=l&&Math.sign(a)*l),f[1]===!1&&(f[1]=Math.abs(o)>=c&&Math.sign(o)*c)),t.intentional=f[0]!==!1||f[1]!==!1,!t.intentional)return;const v=[0,0];if(i.hasCustomTransform){const[O,C]=h;v[0]=f[0]!==!1?O-f[0]:0,v[1]=f[1]!==!1?C-f[1]:0}else v[0]=f[0]!==!1?a-f[0]:0,v[1]=f[1]!==!1?o-f[1]:0;this.restrictToAxis&&!t._blocked&&this.restrictToAxis(v);const m=t.offset,_=t._active&&!t._blocked||t.active;_&&(t.first=t._active&&!t.active,t.last=!t._active&&t.active,t.active=r[this.ingKey]=t._active,e&&(t.first&&("bounds"in i&&(t._bounds=Xw(i.bounds,t)),this.setup&&this.setup()),t.movement=v,this.computeOffset()));const[g,y]=t.offset,[[u,b],[S,T]]=t._bounds;t.overflow=[g<u?-1:g>b?1:0,y<S?-1:y>T?1:0],t._movementBound[0]=t.overflow[0]?t._movementBound[0]===!1?t._movement[0]:t._movementBound[0]:!1,t._movementBound[1]=t.overflow[1]?t._movementBound[1]===!1?t._movement[1]:t._movementBound[1]:!1;const R=t._active?i.rubberband||[0,0]:[0,0];if(t.offset=iee(t._bounds,t.offset,R),t.delta=$l.sub(t.offset,m),this.computeMovement(),_&&(!t.last||s>yee)){t.delta=$l.sub(t.offset,m);const O=t.delta.map(Math.abs);$l.addTo(t.distance,O),t.direction=t.delta.map(Math.sign),t._direction=t._delta.map(Math.sign),!t.first&&s>0&&(t.velocity=[O[0]/s,O[1]/s],t.timeDelta=s)}}emit(){const e=this.state,t=this.shared,i=this.config;if(e._active||this.clean(),(e._blocked||!e.intentional)&&!e._force&&!i.triggerAllEvents)return;const r=this.handler($a($a($a({},t),e),{},{[this.aliasKey]:e.values}));r!==void 0&&(e.memo=r)}clean(){this.eventStore.clean(),this.timeoutStore.clean()}};function bee([n,e],t){const i=Math.abs(n),r=Math.abs(e);if(i>r&&i>t)return"x";if(r>i&&r>t)return"y"}class xee extends _ee{constructor(...e){super(...e),$c(this,"aliasKey","xy")}reset(){super.reset(),this.state.axis=void 0}init(){this.state.offset=[0,0],this.state.lastOffset=[0,0]}computeOffset(){this.state.offset=$l.add(this.state.lastOffset,this.state.movement)}computeMovement(){this.state.movement=$l.sub(this.state.offset,this.state.lastOffset)}axisIntent(e){const t=this.state,i=this.config;if(!t.axis&&e){const r=typeof i.axisThreshold=="object"?i.axisThreshold[p9(e)]:i.axisThreshold;t.axis=bee(t._movement,r)}t._blocked=(i.lockDirection||!!i.axis)&&!t.axis||!!i.axis&&i.axis!==t.axis}restrictToAxis(e){if(this.config.axis||this.config.lockDirection)switch(this.state.axis){case"x":e[1]=0;break;case"y":e[0]=0;break}}}const See=n=>n,fD=.15,g9={enabled(n=!0){return n},eventOptions(n,e,t){return $a($a({},t.shared.eventOptions),n)},preventDefault(n=!1){return n},triggerAllEvents(n=!1){return n},rubberband(n=0){switch(n){case!0:return[fD,fD];case!1:return[0,0];default:return $l.toVector(n)}},from(n){if(typeof n=="function")return n;if(n!=null)return $l.toVector(n)},transform(n,e,t){const i=n||t.shared.transform;return this.hasCustomTransform=!!i,i||See},threshold(n){return $l.toVector(n,0)}},wee=0,Z1=$a($a({},g9),{},{axis(n,e,{axis:t}){if(this.lockDirection=t==="lock",!this.lockDirection)return t},axisThreshold(n=wee){return n},bounds(n={}){if(typeof n=="function")return s=>Z1.bounds(n(s));if("current"in n)return()=>n.current;if(typeof HTMLElement=="function"&&n instanceof HTMLElement)return n;const{left:e=-1/0,right:t=1/0,top:i=-1/0,bottom:r=1/0}=n;return[[e,t],[i,r]]}}),pD={ArrowRight:(n,e=1)=>[n*e,0],ArrowLeft:(n,e=1)=>[-1*n*e,0],ArrowUp:(n,e=1)=>[0,-1*n*e],ArrowDown:(n,e=1)=>[0,n*e]};class Eee extends xee{constructor(...e){super(...e),$c(this,"ingKey","dragging")}reset(){super.reset();const e=this.state;e._pointerId=void 0,e._pointerActive=!1,e._keyboardActive=!1,e._preventScroll=!1,e._delayed=!1,e.swipe=[0,0],e.tap=!1,e.canceled=!1,e.cancel=this.cancel.bind(this)}setup(){const e=this.state;if(e._bounds instanceof HTMLElement){const t=e._bounds.getBoundingClientRect(),i=e.currentTarget.getBoundingClientRect(),r={left:t.left-i.left+e.offset[0],right:t.right-i.right+e.offset[0],top:t.top-i.top+e.offset[1],bottom:t.bottom-i.bottom+e.offset[1]};e._bounds=Z1.bounds(r)}}cancel(){const e=this.state;e.canceled||(e.canceled=!0,e._active=!1,setTimeout(()=>{this.compute(),this.emit()},0))}setActive(){this.state._active=this.state._pointerActive||this.state._keyboardActive}clean(){this.pointerClean(),this.state._pointerActive=!1,this.state._keyboardActive=!1,super.clean()}pointerDown(e){const t=this.config,i=this.state;if(e.buttons!=null&&(Array.isArray(t.pointerButtons)?!t.pointerButtons.includes(e.buttons):t.pointerButtons!==-1&&t.pointerButtons!==e.buttons))return;const r=this.ctrl.setEventIds(e);t.pointerCapture&&e.target.setPointerCapture(e.pointerId),!(r&&r.size>1&&i._pointerActive)&&(this.start(e),this.setupPointer(e),i._pointerId=BA(e),i._pointerActive=!0,this.computeValues(hD(e)),this.computeInitial(),t.preventScrollAxis&&p9(e)!=="mouse"?(i._active=!1,this.setupScrollPrevention(e)):t.delay>0?(this.setupDelayTrigger(e),t.triggerAllEvents&&(this.compute(e),this.emit())):this.startPointerDrag(e))}startPointerDrag(e){const t=this.state;t._active=!0,t._preventScroll=!0,t._delayed=!1,this.compute(e),this.emit()}pointerMove(e){const t=this.state,i=this.config;if(!t._pointerActive)return;const r=BA(e);if(t._pointerId!==void 0&&r!==t._pointerId)return;const s=hD(e);if(document.pointerLockElement===e.target?t._delta=[e.movementX,e.movementY]:(t._delta=$l.sub(s,t._values),this.computeValues(s)),$l.addTo(t._movement,t._delta),this.compute(e),t._delayed&&t.intentional){this.timeoutStore.remove("dragDelay"),t.active=!1,this.startPointerDrag(e);return}if(i.preventScrollAxis&&!t._preventScroll)if(t.axis)if(t.axis===i.preventScrollAxis||i.preventScrollAxis==="xy"){t._active=!1,this.clean();return}else{this.timeoutStore.remove("startPointerDrag"),this.startPointerDrag(e);return}else return;this.emit()}pointerUp(e){this.ctrl.setEventIds(e);try{this.config.pointerCapture&&e.target.hasPointerCapture(e.pointerId)&&e.target.releasePointerCapture(e.pointerId)}catch{}const t=this.state,i=this.config;if(!t._active||!t._pointerActive)return;const r=BA(e);if(t._pointerId!==void 0&&r!==t._pointerId)return;this.state._pointerActive=!1,this.setActive(),this.compute(e);const[s,a]=t._distance;if(t.tap=s<=i.tapsThreshold&&a<=i.tapsThreshold,t.tap&&i.filterTaps)t._force=!0;else{const[o,l]=t._delta,[c,f]=t._movement,[h,v]=i.swipe.velocity,[m,_]=i.swipe.distance,g=i.swipe.duration;if(t.elapsedTime<g){const y=Math.abs(o/t.timeDelta),u=Math.abs(l/t.timeDelta);y>h&&Math.abs(c)>m&&(t.swipe[0]=Math.sign(o)),u>v&&Math.abs(f)>_&&(t.swipe[1]=Math.sign(l))}}this.emit()}pointerClick(e){!this.state.tap&&e.detail>0&&(e.preventDefault(),e.stopPropagation())}setupPointer(e){const t=this.config,i=t.device;t.pointerLock&&e.currentTarget.requestPointerLock(),t.pointerCapture||(this.eventStore.add(this.sharedConfig.window,i,"change",this.pointerMove.bind(this)),this.eventStore.add(this.sharedConfig.window,i,"end",this.pointerUp.bind(this)),this.eventStore.add(this.sharedConfig.window,i,"cancel",this.pointerUp.bind(this)))}pointerClean(){this.config.pointerLock&&document.pointerLockElement===this.state.currentTarget&&document.exitPointerLock()}preventScroll(e){this.state._preventScroll&&e.cancelable&&e.preventDefault()}setupScrollPrevention(e){this.state._preventScroll=!1,Cee(e);const t=this.eventStore.add(this.sharedConfig.window,"touch","change",this.preventScroll.bind(this),{passive:!1});this.eventStore.add(this.sharedConfig.window,"touch","end",t),this.eventStore.add(this.sharedConfig.window,"touch","cancel",t),this.timeoutStore.add("startPointerDrag",this.startPointerDrag.bind(this),this.config.preventScrollDelay,e)}setupDelayTrigger(e){this.state._delayed=!0,this.timeoutStore.add("dragDelay",()=>{this.state._step=[0,0],this.startPointerDrag(e)},this.config.delay)}keyDown(e){const t=pD[e.key];if(t){const i=this.state,r=e.shiftKey?10:e.altKey?.1:1;this.start(e),i._delta=t(this.config.keyboardDisplacement,r),i._keyboardActive=!0,$l.addTo(i._movement,i._delta),this.compute(e),this.emit()}}keyUp(e){e.key in pD&&(this.state._keyboardActive=!1,this.setActive(),this.compute(e),this.emit())}bind(e){const t=this.config.device;e(t,"start",this.pointerDown.bind(this)),this.config.pointerCapture&&(e(t,"change",this.pointerMove.bind(this)),e(t,"end",this.pointerUp.bind(this)),e(t,"cancel",this.pointerUp.bind(this)),e("lostPointerCapture","",this.pointerUp.bind(this))),this.config.keys&&(e("key","down",this.keyDown.bind(this)),e("key","up",this.keyUp.bind(this))),this.config.filterTaps&&e("click","",this.pointerClick.bind(this),{capture:!0,passive:!1})}}function Cee(n){"persist"in n&&typeof n.persist=="function"&&n.persist()}const Q1=typeof window<"u"&&window.document&&window.document.createElement;function v9(){return Q1&&"ontouchstart"in window}function Tee(){return v9()||Q1&&window.navigator.maxTouchPoints>1}function Aee(){return Q1&&"onpointerdown"in window}function Mee(){return Q1&&"exitPointerLock"in window.document}function Ree(){try{return"constructor"in GestureEvent}catch{return!1}}const Ju={isBrowser:Q1,gesture:Ree(),touch:v9(),touchscreen:Tee(),pointer:Aee(),pointerLock:Mee()},Oee=250,Lee=180,Pee=.5,Iee=50,Dee=250,Nee=10,mD={mouse:0,touch:0,pen:8},Fee=$a($a({},Z1),{},{device(n,e,{pointer:{touch:t=!1,lock:i=!1,mouse:r=!1}={}}){return this.pointerLock=i&&Ju.pointerLock,Ju.touch&&t?"touch":this.pointerLock?"mouse":Ju.pointer&&!r?"pointer":Ju.touch?"touch":"mouse"},preventScrollAxis(n,e,{preventScroll:t}){if(this.preventScrollDelay=typeof t=="number"?t:t||t===void 0&&n?Oee:void 0,!(!Ju.touchscreen||t===!1))return n||(t!==void 0?"y":void 0)},pointerCapture(n,e,{pointer:{capture:t=!0,buttons:i=1,keys:r=!0}={}}){return this.pointerButtons=i,this.keys=r,!this.pointerLock&&this.device==="pointer"&&t},threshold(n,e,{filterTaps:t=!1,tapsThreshold:i=3,axis:r=void 0}){const s=$l.toVector(n,t?i:r?1:0);return this.filterTaps=t,this.tapsThreshold=i,s},swipe({velocity:n=Pee,distance:e=Iee,duration:t=Dee}={}){return{velocity:this.transform($l.toVector(n)),distance:this.transform($l.toVector(e)),duration:t}},delay(n=0){switch(n){case!0:return Lee;case!1:return 0;default:return n}},axisThreshold(n){return n?$a($a({},mD),n):mD},keyboardDisplacement(n=Nee){return n}});$a($a({},g9),{},{device(n,e,{shared:t,pointer:{touch:i=!1}={}}){if(t.target&&!Ju.touch&&Ju.gesture)return"gesture";if(Ju.touch&&i)return"touch";if(Ju.touchscreen){if(Ju.pointer)return"pointer";if(Ju.touch)return"touch"}},bounds(n,e,{scaleBounds:t={},angleBounds:i={}}){const r=a=>{const o=dD(Xw(t,a),{min:-1/0,max:1/0});return[o.min,o.max]},s=a=>{const o=dD(Xw(i,a),{min:-1/0,max:1/0});return[o.min,o.max]};return typeof t!="function"&&typeof i!="function"?[r(),s()]:a=>[r(a),s(a)]},threshold(n,e,t){return this.lockDirection=t.axis==="lock",$l.toVector(n,this.lockDirection?[.1,3]:0)},modifierKey(n){return n===void 0?"ctrlKey":n},pinchOnWheel(n=!0){return n}});$a($a({},Z1),{},{mouseOnly:(n=!0)=>n});$a($a({},Z1),{},{mouseOnly:(n=!0)=>n});const y9=new Map,FM=new Map;function Uee(n){y9.set(n.key,n.engine),FM.set(n.key,n.resolver)}const kee={key:"drag",engine:Eee,resolver:Fee};function Bee(n,e){if(n==null)return{};var t={},i=Object.keys(n),r,s;for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&(t[r]=n[r]);return t}function zee(n,e){if(n==null)return{};var t=Bee(n,e),i,r;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(r=0;r<s.length;r++)i=s[r],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(n,i)&&(t[i]=n[i])}return t}const Gee={target(n){if(n)return()=>"current"in n?n.current:n},enabled(n=!0){return n},window(n=Ju.isBrowser?window:void 0){return n},eventOptions({passive:n=!0,capture:e=!1}={}){return{passive:n,capture:e}},transform(n){return n}},Hee=["target","eventOptions","window","enabled","transform"];function $S(n={},e){const t={};for(const[i,r]of Object.entries(e))switch(typeof r){case"function":t[i]=r.call(t,n[i],i,n);break;case"object":t[i]=$S(n[i],r);break;case"boolean":r&&(t[i]=n[i]);break}return t}function $ee(n,e,t={}){const i=n,{target:r,eventOptions:s,window:a,enabled:o,transform:l}=i,c=zee(i,Hee);if(t.shared=$S({target:r,eventOptions:s,window:a,enabled:o,transform:l},Gee),e){const f=FM.get(e);t[e]=$S($a({shared:t.shared},c),f)}else for(const f in c){const h=FM.get(f);h&&(t[f]=$S($a({shared:t.shared},c[f]),h))}return t}class _9{constructor(e,t){$c(this,"_listeners",new Set),this._ctrl=e,this._gestureKey=t}add(e,t,i,r,s){const a=this._listeners,o=hee(t,i),l=this._gestureKey?this._ctrl.config[this._gestureKey].eventOptions:{},c=$a($a({},l),s);e.addEventListener(o,r,c);const f=()=>{e.removeEventListener(o,r,c),a.delete(f)};return a.add(f),f}clean(){this._listeners.forEach(e=>e()),this._listeners.clear()}}class Vee{constructor(){$c(this,"_timeouts",new Map)}add(e,t,i=140,...r){this.remove(e),this._timeouts.set(e,window.setTimeout(t,i,...r))}remove(e){const t=this._timeouts.get(e);t&&window.clearTimeout(t)}clean(){this._timeouts.forEach(e=>void window.clearTimeout(e)),this._timeouts.clear()}}class Wee{constructor(e){$c(this,"gestures",new Set),$c(this,"_targetEventStore",new _9(this)),$c(this,"gestureEventStores",{}),$c(this,"gestureTimeoutStores",{}),$c(this,"handlers",{}),$c(this,"config",{}),$c(this,"pointerIds",new Set),$c(this,"touchIds",new Set),$c(this,"state",{shared:{shiftKey:!1,metaKey:!1,ctrlKey:!1,altKey:!1}}),jee(this,e)}setEventIds(e){if(bC(e))return this.touchIds=new Set(pee(e)),this.touchIds;if("pointerId"in e)return e.type==="pointerup"||e.type==="pointercancel"?this.pointerIds.delete(e.pointerId):e.type==="pointerdown"&&this.pointerIds.add(e.pointerId),this.pointerIds}applyHandlers(e,t){this.handlers=e,this.nativeHandlers=t}applyConfig(e,t){this.config=$ee(e,t,this.config)}clean(){this._targetEventStore.clean();for(const e of this.gestures)this.gestureEventStores[e].clean(),this.gestureTimeoutStores[e].clean()}effect(){return this.config.shared.target&&this.bind(),()=>this._targetEventStore.clean()}bind(...e){const t=this.config.shared,i={};let r;if(!(t.target&&(r=t.target(),!r))){if(t.enabled){for(const a of this.gestures){const o=this.config[a],l=gD(i,o.eventOptions,!!r);if(o.enabled){const c=y9.get(a);new c(this,e,a).bind(l)}}const s=gD(i,t.eventOptions,!!r);for(const a in this.nativeHandlers)s(a,"",o=>this.nativeHandlers[a]($a($a({},this.state.shared),{},{event:o,args:e})),void 0,!0)}for(const s in i)i[s]=vee(...i[s]);if(!r)return i;for(const s in i){const{device:a,capture:o,passive:l}=uee(s);this._targetEventStore.add(r,a,"",i[s],{capture:o,passive:l})}}}}function a0(n,e){n.gestures.add(e),n.gestureEventStores[e]=new _9(n,e),n.gestureTimeoutStores[e]=new Vee}function jee(n,e){e.drag&&a0(n,"drag"),e.wheel&&a0(n,"wheel"),e.scroll&&a0(n,"scroll"),e.move&&a0(n,"move"),e.pinch&&a0(n,"pinch"),e.hover&&a0(n,"hover")}const gD=(n,e,t)=>(i,r,s,a={},o=!1)=>{var l,c;const f=(l=a.capture)!==null&&l!==void 0?l:e.capture,h=(c=a.passive)!==null&&c!==void 0?c:e.passive;let v=o?i:lee(i,r,f);t&&h&&(v+="Passive"),n[v]=n[v]||[],n[v].push(s)};function Xee(n,e={},t,i){const r=Je.useMemo(()=>new Wee(n),[]);if(r.applyHandlers(n,i),r.applyConfig(e,t),Je.useEffect(r.effect.bind(r)),Je.useEffect(()=>r.clean.bind(r),[]),e.target===void 0)return r.bind.bind(r)}function qee(n,e){return Uee(kee),Xee({drag:n},e||{},"drag")}const xC=parseInt(N1.replace(/\D+/g,"")),b9=xC>=125?"uv1":"uv2";var th=Uint8Array,om=Uint16Array,UM=Uint32Array,x9=new th([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),S9=new th([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),Yee=new th([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),w9=function(n,e){for(var t=new om(31),i=0;i<31;++i)t[i]=e+=1<<n[i-1];for(var r=new UM(t[30]),i=1;i<30;++i)for(var s=t[i];s<t[i+1];++s)r[s]=s-t[i]<<5|i;return[t,r]},E9=w9(x9,2),C9=E9[0],Kee=E9[1];C9[28]=258,Kee[258]=28;var Zee=w9(S9,0),Qee=Zee[0],kM=new om(32768);for(var ya=0;ya<32768;++ya){var Yp=(ya&43690)>>>1|(ya&21845)<<1;Yp=(Yp&52428)>>>2|(Yp&13107)<<2,Yp=(Yp&61680)>>>4|(Yp&3855)<<4,kM[ya]=((Yp&65280)>>>8|(Yp&255)<<8)>>>1}var j_=(function(n,e,t){for(var i=n.length,r=0,s=new om(e);r<i;++r)++s[n[r]-1];var a=new om(e);for(r=0;r<e;++r)a[r]=a[r-1]+s[r-1]<<1;var o;if(t){o=new om(1<<e);var l=15-e;for(r=0;r<i;++r)if(n[r])for(var c=r<<4|n[r],f=e-n[r],h=a[n[r]-1]++<<f,v=h|(1<<f)-1;h<=v;++h)o[kM[h]>>>l]=c}else for(o=new om(i),r=0;r<i;++r)n[r]&&(o[r]=kM[a[n[r]-1]++]>>>15-n[r]);return o}),J1=new th(288);for(var ya=0;ya<144;++ya)J1[ya]=8;for(var ya=144;ya<256;++ya)J1[ya]=9;for(var ya=256;ya<280;++ya)J1[ya]=7;for(var ya=280;ya<288;++ya)J1[ya]=8;var T9=new th(32);for(var ya=0;ya<32;++ya)T9[ya]=5;var Jee=j_(J1,9,1),ete=j_(T9,5,1),zA=function(n){for(var e=n[0],t=1;t<n.length;++t)n[t]>e&&(e=n[t]);return e},Lh=function(n,e,t){var i=e/8|0;return(n[i]|n[i+1]<<8)>>(e&7)&t},GA=function(n,e){var t=e/8|0;return(n[t]|n[t+1]<<8|n[t+2]<<16)>>(e&7)},tte=function(n){return(n/8|0)+(n&7&&1)},nte=function(n,e,t){(t==null||t>n.length)&&(t=n.length);var i=new(n instanceof om?om:n instanceof UM?UM:th)(t-e);return i.set(n.subarray(e,t)),i},ite=function(n,e,t){var i=n.length;if(!i||t&&!t.l&&i<5)return e||new th(0);var r=!e||t,s=!t||t.i;t||(t={}),e||(e=new th(i*3));var a=function(ve){var _e=e.length;if(ve>_e){var Te=new th(Math.max(_e*2,ve));Te.set(e),e=Te}},o=t.f||0,l=t.p||0,c=t.b||0,f=t.l,h=t.d,v=t.m,m=t.n,_=i*8;do{if(!f){t.f=o=Lh(n,l,1);var g=Lh(n,l+1,3);if(l+=3,g)if(g==1)f=Jee,h=ete,v=9,m=5;else if(g==2){var S=Lh(n,l,31)+257,T=Lh(n,l+10,15)+4,R=S+Lh(n,l+5,31)+1;l+=14;for(var O=new th(R),C=new th(19),I=0;I<T;++I)C[Yee[I]]=Lh(n,l+I*3,7);l+=T*3;for(var F=zA(C),M=(1<<F)-1,D=j_(C,F,1),I=0;I<R;){var B=D[Lh(n,l,M)];l+=B&15;var y=B>>>4;if(y<16)O[I++]=y;else{var j=0,U=0;for(y==16?(U=3+Lh(n,l,3),l+=2,j=O[I-1]):y==17?(U=3+Lh(n,l,7),l+=3):y==18&&(U=11+Lh(n,l,127),l+=7);U--;)O[I++]=j}}var V=O.subarray(0,S),k=O.subarray(S);v=zA(V),m=zA(k),f=j_(V,v,1),h=j_(k,m,1)}else throw"invalid block type";else{var y=tte(l)+4,u=n[y-4]|n[y-3]<<8,b=y+u;if(b>i){if(s)throw"unexpected EOF";break}r&&a(c+u),e.set(n.subarray(y,b),c),t.b=c+=u,t.p=l=b*8;continue}if(l>_){if(s)throw"unexpected EOF";break}}r&&a(c+131072);for(var Z=(1<<v)-1,ee=(1<<m)-1,oe=l;;oe=l){var j=f[GA(n,l)&Z],ne=j>>>4;if(l+=j&15,l>_){if(s)throw"unexpected EOF";break}if(!j)throw"invalid length/literal";if(ne<256)e[c++]=ne;else if(ne==256){oe=l,f=null;break}else{var ie=ne-254;if(ne>264){var I=ne-257,he=x9[I];ie=Lh(n,l,(1<<he)-1)+C9[I],l+=he}var fe=h[GA(n,l)&ee],ce=fe>>>4;if(!fe)throw"invalid distance";l+=fe&15;var k=Qee[ce];if(ce>3){var he=S9[ce];k+=GA(n,l)&(1<<he)-1,l+=he}if(l>_){if(s)throw"unexpected EOF";break}r&&a(c+131072);for(var ae=c+ie;c<ae;c+=4)e[c]=e[c-k],e[c+1]=e[c+1-k],e[c+2]=e[c+2-k],e[c+3]=e[c+3-k];c=ae}}t.l=f,t.p=oe,t.b=c,f&&(o=1,t.m=v,t.d=h,t.n=m)}while(!o);return c==e.length?e:nte(e,0,c)},rte=new th(0),ste=function(n){if((n[0]&15)!=8||n[0]>>>4>7||(n[0]<<8|n[1])%31)throw"invalid zlib data";if(n[1]&32)throw"invalid zlib data: preset dictionaries not supported"};function jx(n,e){return ite((ste(n),n.subarray(2,-4)),e)}var ate=typeof TextDecoder<"u"&&new TextDecoder,ote=0;try{ate.decode(rte,{stream:!0}),ote=1}catch{}const lte=n=>n&&n.isCubeTexture;class cte extends Xs{constructor(e,t){var i,r;const s=lte(e),o=((r=s?(i=e.image[0])==null?void 0:i.width:e.image.width)!=null?r:1024)/4,l=Math.floor(Math.log2(o)),c=Math.pow(2,l),f=3*Math.max(c,112),h=4*c,v=[s?"#define ENVMAP_TYPE_CUBE":"",`#define CUBEUV_TEXEL_WIDTH ${1/f}`,`#define CUBEUV_TEXEL_HEIGHT ${1/h}`,`#define CUBEUV_MAX_MIP ${l}.0`],m=`
        varying vec3 vWorldPosition;
        void main() 
        {
            vec4 worldPosition = ( modelMatrix * vec4( position, 1.0 ) );
            vWorldPosition = worldPosition.xyz;
            
            gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
        }
        `,_=v.join(`
`)+`
        #define ENVMAP_TYPE_CUBE_UV
        varying vec3 vWorldPosition;
        uniform float radius;
        uniform float height;
        uniform float angle;
        #ifdef ENVMAP_TYPE_CUBE
            uniform samplerCube map;
        #else
            uniform sampler2D map;
        #endif
        // From: https://www.shadertoy.com/view/4tsBD7
        float diskIntersectWithBackFaceCulling( vec3 ro, vec3 rd, vec3 c, vec3 n, float r ) 
        {
            float d = dot ( rd, n );
            
            if( d > 0.0 ) { return 1e6; }
            
            vec3  o = ro - c;
            float t = - dot( n, o ) / d;
            vec3  q = o + rd * t;
            
            return ( dot( q, q ) < r * r ) ? t : 1e6;
        }
        // From: https://www.iquilezles.org/www/articles/intersectors/intersectors.htm
        float sphereIntersect( vec3 ro, vec3 rd, vec3 ce, float ra ) 
        {
            vec3 oc = ro - ce;
            float b = dot( oc, rd );
            float c = dot( oc, oc ) - ra * ra;
            float h = b * b - c;
            
            if( h < 0.0 ) { return -1.0; }
            
            h = sqrt( h );
            
            return - b + h;
        }
        vec3 project() 
        {
            vec3 p = normalize( vWorldPosition );
            vec3 camPos = cameraPosition;
            camPos.y -= height;
            float intersection = sphereIntersect( camPos, p, vec3( 0.0 ), radius );
            if( intersection > 0.0 ) {
                
                vec3 h = vec3( 0.0, - height, 0.0 );
                float intersection2 = diskIntersectWithBackFaceCulling( camPos, p, h, vec3( 0.0, 1.0, 0.0 ), radius );
                p = ( camPos + min( intersection, intersection2 ) * p ) / radius;
            } else {
                p = vec3( 0.0, 1.0, 0.0 );
            }
            return p;
        }
        #include <common>
        #include <cube_uv_reflection_fragment>
        void main() 
        {
            vec3 projectedWorldPosition = project();
            
            #ifdef ENVMAP_TYPE_CUBE
                vec3 outcolor = textureCube( map, projectedWorldPosition ).rgb;
            #else
                vec3 direction = normalize( projectedWorldPosition );
                vec2 uv = equirectUv( direction );
                vec3 outcolor = texture2D( map, uv ).rgb;
            #endif
            gl_FragColor = vec4( outcolor, 1.0 );
            #include <tonemapping_fragment>
            #include <${xC>=154?"colorspace_fragment":"encodings_fragment"}>
        }
        `,g={map:{value:e},height:{value:t?.height||15},radius:{value:t?.radius||100}},y=new V1(1,16),u=new Ec({uniforms:g,fragmentShader:_,vertexShader:m,side:El});super(y,u)}set radius(e){this.material.uniforms.radius.value=e}get radius(){return this.material.uniforms.radius.value}set height(e){this.material.uniforms.height.value=e}get height(){return this.material.uniforms.height.value}}var ute=Object.defineProperty,hte=(n,e,t)=>e in n?ute(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,dte=(n,e,t)=>(hte(n,e+"",t),t);let fte=class{constructor(){dte(this,"_listeners")}addEventListener(e,t){this._listeners===void 0&&(this._listeners={});const i=this._listeners;i[e]===void 0&&(i[e]=[]),i[e].indexOf(t)===-1&&i[e].push(t)}hasEventListener(e,t){if(this._listeners===void 0)return!1;const i=this._listeners;return i[e]!==void 0&&i[e].indexOf(t)!==-1}removeEventListener(e,t){if(this._listeners===void 0)return;const r=this._listeners[e];if(r!==void 0){const s=r.indexOf(t);s!==-1&&r.splice(s,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const i=this._listeners[e.type];if(i!==void 0){e.target=this;const r=i.slice(0);for(let s=0,a=r.length;s<a;s++)r[s].call(this,e);e.target=null}}};var pte=Object.defineProperty,mte=(n,e,t)=>e in n?pte(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,$i=(n,e,t)=>(mte(n,typeof e!="symbol"?e+"":e,t),t);const Xx=new rp,vD=new Fh,gte=Math.cos(70*(Math.PI/180)),yD=(n,e)=>(n%e+e)%e;let vte=class extends fte{constructor(e,t){super(),$i(this,"object"),$i(this,"domElement"),$i(this,"enabled",!0),$i(this,"target",new Oe),$i(this,"minDistance",0),$i(this,"maxDistance",1/0),$i(this,"minZoom",0),$i(this,"maxZoom",1/0),$i(this,"minPolarAngle",0),$i(this,"maxPolarAngle",Math.PI),$i(this,"minAzimuthAngle",-1/0),$i(this,"maxAzimuthAngle",1/0),$i(this,"enableDamping",!1),$i(this,"dampingFactor",.05),$i(this,"enableZoom",!0),$i(this,"zoomSpeed",1),$i(this,"enableRotate",!0),$i(this,"rotateSpeed",1),$i(this,"enablePan",!0),$i(this,"panSpeed",1),$i(this,"screenSpacePanning",!0),$i(this,"keyPanSpeed",7),$i(this,"zoomToCursor",!1),$i(this,"autoRotate",!1),$i(this,"autoRotateSpeed",2),$i(this,"reverseOrbit",!1),$i(this,"reverseHorizontalOrbit",!1),$i(this,"reverseVerticalOrbit",!1),$i(this,"keys",{LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"}),$i(this,"mouseButtons",{LEFT:yg.ROTATE,MIDDLE:yg.DOLLY,RIGHT:yg.PAN}),$i(this,"touches",{ONE:_g.ROTATE,TWO:_g.DOLLY_PAN}),$i(this,"target0"),$i(this,"position0"),$i(this,"zoom0"),$i(this,"_domElementKeyEvents",null),$i(this,"getPolarAngle"),$i(this,"getAzimuthalAngle"),$i(this,"setPolarAngle"),$i(this,"setAzimuthalAngle"),$i(this,"getDistance"),$i(this,"getZoomScale"),$i(this,"listenToKeyEvents"),$i(this,"stopListenToKeyEvents"),$i(this,"saveState"),$i(this,"reset"),$i(this,"update"),$i(this,"connect"),$i(this,"dispose"),$i(this,"dollyIn"),$i(this,"dollyOut"),$i(this,"getScale"),$i(this,"setScale"),this.object=e,this.domElement=t,this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=()=>f.phi,this.getAzimuthalAngle=()=>f.theta,this.setPolarAngle=Ve=>{let lt=yD(Ve,2*Math.PI),Qt=f.phi;Qt<0&&(Qt+=2*Math.PI),lt<0&&(lt+=2*Math.PI);let Ye=Math.abs(lt-Qt);2*Math.PI-Ye<Ye&&(lt<Qt?lt+=2*Math.PI:Qt+=2*Math.PI),h.phi=lt-Qt,i.update()},this.setAzimuthalAngle=Ve=>{let lt=yD(Ve,2*Math.PI),Qt=f.theta;Qt<0&&(Qt+=2*Math.PI),lt<0&&(lt+=2*Math.PI);let Ye=Math.abs(lt-Qt);2*Math.PI-Ye<Ye&&(lt<Qt?lt+=2*Math.PI:Qt+=2*Math.PI),h.theta=lt-Qt,i.update()},this.getDistance=()=>i.object.position.distanceTo(i.target),this.listenToKeyEvents=Ve=>{Ve.addEventListener("keydown",et),this._domElementKeyEvents=Ve},this.stopListenToKeyEvents=()=>{this._domElementKeyEvents.removeEventListener("keydown",et),this._domElementKeyEvents=null},this.saveState=()=>{i.target0.copy(i.target),i.position0.copy(i.object.position),i.zoom0=i.object.zoom},this.reset=()=>{i.target.copy(i.target0),i.object.position.copy(i.position0),i.object.zoom=i.zoom0,i.object.updateProjectionMatrix(),i.dispatchEvent(r),i.update(),l=o.NONE},this.update=(()=>{const Ve=new Oe,lt=new Oe(0,1,0),Qt=new Fo().setFromUnitVectors(e.up,lt),Ye=Qt.clone().invert(),ct=new Oe,Dt=new Fo,Sn=2*Math.PI;return function(){const wt=i.object.position;Qt.setFromUnitVectors(e.up,lt),Ye.copy(Qt).invert(),Ve.copy(wt).sub(i.target),Ve.applyQuaternion(Qt),f.setFromVector3(Ve),i.autoRotate&&l===o.NONE&&U(B()),i.enableDamping?(f.theta+=h.theta*i.dampingFactor,f.phi+=h.phi*i.dampingFactor):(f.theta+=h.theta,f.phi+=h.phi);let dn=i.minAzimuthAngle,wn=i.maxAzimuthAngle;isFinite(dn)&&isFinite(wn)&&(dn<-Math.PI?dn+=Sn:dn>Math.PI&&(dn-=Sn),wn<-Math.PI?wn+=Sn:wn>Math.PI&&(wn-=Sn),dn<=wn?f.theta=Math.max(dn,Math.min(wn,f.theta)):f.theta=f.theta>(dn+wn)/2?Math.max(dn,f.theta):Math.min(wn,f.theta)),f.phi=Math.max(i.minPolarAngle,Math.min(i.maxPolarAngle,f.phi)),f.makeSafe(),i.enableDamping===!0?i.target.addScaledVector(m,i.dampingFactor):i.target.add(m),i.zoomToCursor&&F||i.object.isOrthographicCamera?f.radius=fe(f.radius):f.radius=fe(f.radius*v),Ve.setFromSpherical(f),Ve.applyQuaternion(Ye),wt.copy(i.target).add(Ve),i.object.matrixAutoUpdate||i.object.updateMatrix(),i.object.lookAt(i.target),i.enableDamping===!0?(h.theta*=1-i.dampingFactor,h.phi*=1-i.dampingFactor,m.multiplyScalar(1-i.dampingFactor)):(h.set(0,0,0),m.set(0,0,0));let Pn=!1;if(i.zoomToCursor&&F){let Wn=null;if(i.object instanceof Ga&&i.object.isPerspectiveCamera){const Ii=Ve.length();Wn=fe(Ii*v);const Ei=Ii-Wn;i.object.position.addScaledVector(C,Ei),i.object.updateMatrixWorld()}else if(i.object.isOrthographicCamera){const Ii=new Oe(I.x,I.y,0);Ii.unproject(i.object),i.object.zoom=Math.max(i.minZoom,Math.min(i.maxZoom,i.object.zoom/v)),i.object.updateProjectionMatrix(),Pn=!0;const Ei=new Oe(I.x,I.y,0);Ei.unproject(i.object),i.object.position.sub(Ei).add(Ii),i.object.updateMatrixWorld(),Wn=Ve.length()}else console.warn("WARNING: OrbitControls.js encountered an unknown camera type - zoom to cursor disabled."),i.zoomToCursor=!1;Wn!==null&&(i.screenSpacePanning?i.target.set(0,0,-1).transformDirection(i.object.matrix).multiplyScalar(Wn).add(i.object.position):(Xx.origin.copy(i.object.position),Xx.direction.set(0,0,-1).transformDirection(i.object.matrix),Math.abs(i.object.up.dot(Xx.direction))<gte?e.lookAt(i.target):(vD.setFromNormalAndCoplanarPoint(i.object.up,i.target),Xx.intersectPlane(vD,i.target))))}else i.object instanceof Hh&&i.object.isOrthographicCamera&&(Pn=v!==1,Pn&&(i.object.zoom=Math.max(i.minZoom,Math.min(i.maxZoom,i.object.zoom/v)),i.object.updateProjectionMatrix()));return v=1,F=!1,Pn||ct.distanceToSquared(i.object.position)>c||8*(1-Dt.dot(i.object.quaternion))>c?(i.dispatchEvent(r),ct.copy(i.object.position),Dt.copy(i.object.quaternion),Pn=!1,!0):!1}})(),this.connect=Ve=>{i.domElement=Ve,i.domElement.style.touchAction="none",i.domElement.addEventListener("contextmenu",on),i.domElement.addEventListener("pointerdown",Et),i.domElement.addEventListener("pointercancel",me),i.domElement.addEventListener("wheel",Qe)},this.dispose=()=>{var Ve,lt,Qt,Ye,ct,Dt;i.domElement&&(i.domElement.style.touchAction="auto"),(Ve=i.domElement)==null||Ve.removeEventListener("contextmenu",on),(lt=i.domElement)==null||lt.removeEventListener("pointerdown",Et),(Qt=i.domElement)==null||Qt.removeEventListener("pointercancel",me),(Ye=i.domElement)==null||Ye.removeEventListener("wheel",Qe),(ct=i.domElement)==null||ct.ownerDocument.removeEventListener("pointermove",ye),(Dt=i.domElement)==null||Dt.ownerDocument.removeEventListener("pointerup",me),i._domElementKeyEvents!==null&&i._domElementKeyEvents.removeEventListener("keydown",et)};const i=this,r={type:"change"},s={type:"start"},a={type:"end"},o={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let l=o.NONE;const c=1e-6,f=new TM,h=new TM;let v=1;const m=new Oe,_=new ln,g=new ln,y=new ln,u=new ln,b=new ln,S=new ln,T=new ln,R=new ln,O=new ln,C=new Oe,I=new ln;let F=!1;const M=[],D={};function B(){return 2*Math.PI/60/60*i.autoRotateSpeed}function j(){return Math.pow(.95,i.zoomSpeed)}function U(Ve){i.reverseOrbit||i.reverseHorizontalOrbit?h.theta+=Ve:h.theta-=Ve}function V(Ve){i.reverseOrbit||i.reverseVerticalOrbit?h.phi+=Ve:h.phi-=Ve}const k=(()=>{const Ve=new Oe;return function(Qt,Ye){Ve.setFromMatrixColumn(Ye,0),Ve.multiplyScalar(-Qt),m.add(Ve)}})(),Z=(()=>{const Ve=new Oe;return function(Qt,Ye){i.screenSpacePanning===!0?Ve.setFromMatrixColumn(Ye,1):(Ve.setFromMatrixColumn(Ye,0),Ve.crossVectors(i.object.up,Ve)),Ve.multiplyScalar(Qt),m.add(Ve)}})(),ee=(()=>{const Ve=new Oe;return function(Qt,Ye){const ct=i.domElement;if(ct&&i.object instanceof Ga&&i.object.isPerspectiveCamera){const Dt=i.object.position;Ve.copy(Dt).sub(i.target);let Sn=Ve.length();Sn*=Math.tan(i.object.fov/2*Math.PI/180),k(2*Qt*Sn/ct.clientHeight,i.object.matrix),Z(2*Ye*Sn/ct.clientHeight,i.object.matrix)}else ct&&i.object instanceof Hh&&i.object.isOrthographicCamera?(k(Qt*(i.object.right-i.object.left)/i.object.zoom/ct.clientWidth,i.object.matrix),Z(Ye*(i.object.top-i.object.bottom)/i.object.zoom/ct.clientHeight,i.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),i.enablePan=!1)}})();function oe(Ve){i.object instanceof Ga&&i.object.isPerspectiveCamera||i.object instanceof Hh&&i.object.isOrthographicCamera?v=Ve:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),i.enableZoom=!1)}function ne(Ve){oe(v/Ve)}function ie(Ve){oe(v*Ve)}function he(Ve){if(!i.zoomToCursor||!i.domElement)return;F=!0;const lt=i.domElement.getBoundingClientRect(),Qt=Ve.clientX-lt.left,Ye=Ve.clientY-lt.top,ct=lt.width,Dt=lt.height;I.x=Qt/ct*2-1,I.y=-(Ye/Dt)*2+1,C.set(I.x,I.y,1).unproject(i.object).sub(i.object.position).normalize()}function fe(Ve){return Math.max(i.minDistance,Math.min(i.maxDistance,Ve))}function ce(Ve){_.set(Ve.clientX,Ve.clientY)}function ae(Ve){he(Ve),T.set(Ve.clientX,Ve.clientY)}function ve(Ve){u.set(Ve.clientX,Ve.clientY)}function _e(Ve){g.set(Ve.clientX,Ve.clientY),y.subVectors(g,_).multiplyScalar(i.rotateSpeed);const lt=i.domElement;lt&&(U(2*Math.PI*y.x/lt.clientHeight),V(2*Math.PI*y.y/lt.clientHeight)),_.copy(g),i.update()}function Te(Ve){R.set(Ve.clientX,Ve.clientY),O.subVectors(R,T),O.y>0?ne(j()):O.y<0&&ie(j()),T.copy(R),i.update()}function Fe(Ve){b.set(Ve.clientX,Ve.clientY),S.subVectors(b,u).multiplyScalar(i.panSpeed),ee(S.x,S.y),u.copy(b),i.update()}function We(Ve){he(Ve),Ve.deltaY<0?ie(j()):Ve.deltaY>0&&ne(j()),i.update()}function ht(Ve){let lt=!1;switch(Ve.code){case i.keys.UP:ee(0,i.keyPanSpeed),lt=!0;break;case i.keys.BOTTOM:ee(0,-i.keyPanSpeed),lt=!0;break;case i.keys.LEFT:ee(i.keyPanSpeed,0),lt=!0;break;case i.keys.RIGHT:ee(-i.keyPanSpeed,0),lt=!0;break}lt&&(Ve.preventDefault(),i.update())}function ft(){if(M.length==1)_.set(M[0].pageX,M[0].pageY);else{const Ve=.5*(M[0].pageX+M[1].pageX),lt=.5*(M[0].pageY+M[1].pageY);_.set(Ve,lt)}}function Bt(){if(M.length==1)u.set(M[0].pageX,M[0].pageY);else{const Ve=.5*(M[0].pageX+M[1].pageX),lt=.5*(M[0].pageY+M[1].pageY);u.set(Ve,lt)}}function Me(){const Ve=M[0].pageX-M[1].pageX,lt=M[0].pageY-M[1].pageY,Qt=Math.sqrt(Ve*Ve+lt*lt);T.set(0,Qt)}function yt(){i.enableZoom&&Me(),i.enablePan&&Bt()}function mt(){i.enableZoom&&Me(),i.enableRotate&&ft()}function St(Ve){if(M.length==1)g.set(Ve.pageX,Ve.pageY);else{const Qt=Xt(Ve),Ye=.5*(Ve.pageX+Qt.x),ct=.5*(Ve.pageY+Qt.y);g.set(Ye,ct)}y.subVectors(g,_).multiplyScalar(i.rotateSpeed);const lt=i.domElement;lt&&(U(2*Math.PI*y.x/lt.clientHeight),V(2*Math.PI*y.y/lt.clientHeight)),_.copy(g)}function nt(Ve){if(M.length==1)b.set(Ve.pageX,Ve.pageY);else{const lt=Xt(Ve),Qt=.5*(Ve.pageX+lt.x),Ye=.5*(Ve.pageY+lt.y);b.set(Qt,Ye)}S.subVectors(b,u).multiplyScalar(i.panSpeed),ee(S.x,S.y),u.copy(b)}function Ft(Ve){const lt=Xt(Ve),Qt=Ve.pageX-lt.x,Ye=Ve.pageY-lt.y,ct=Math.sqrt(Qt*Qt+Ye*Ye);R.set(0,ct),O.set(0,Math.pow(R.y/T.y,i.zoomSpeed)),ne(O.y),T.copy(R)}function qe(Ve){i.enableZoom&&Ft(Ve),i.enablePan&&nt(Ve)}function Ke(Ve){i.enableZoom&&Ft(Ve),i.enableRotate&&St(Ve)}function Et(Ve){var lt,Qt;i.enabled!==!1&&(M.length===0&&((lt=i.domElement)==null||lt.ownerDocument.addEventListener("pointermove",ye),(Qt=i.domElement)==null||Qt.ownerDocument.addEventListener("pointerup",me)),fn(Ve),Ve.pointerType==="touch"?At(Ve):Le(Ve))}function ye(Ve){i.enabled!==!1&&(Ve.pointerType==="touch"?Gt(Ve):it(Ve))}function me(Ve){var lt,Qt,Ye;xt(Ve),M.length===0&&((lt=i.domElement)==null||lt.releasePointerCapture(Ve.pointerId),(Qt=i.domElement)==null||Qt.ownerDocument.removeEventListener("pointermove",ye),(Ye=i.domElement)==null||Ye.ownerDocument.removeEventListener("pointerup",me)),i.dispatchEvent(a),l=o.NONE}function Le(Ve){let lt;switch(Ve.button){case 0:lt=i.mouseButtons.LEFT;break;case 1:lt=i.mouseButtons.MIDDLE;break;case 2:lt=i.mouseButtons.RIGHT;break;default:lt=-1}switch(lt){case yg.DOLLY:if(i.enableZoom===!1)return;ae(Ve),l=o.DOLLY;break;case yg.ROTATE:if(Ve.ctrlKey||Ve.metaKey||Ve.shiftKey){if(i.enablePan===!1)return;ve(Ve),l=o.PAN}else{if(i.enableRotate===!1)return;ce(Ve),l=o.ROTATE}break;case yg.PAN:if(Ve.ctrlKey||Ve.metaKey||Ve.shiftKey){if(i.enableRotate===!1)return;ce(Ve),l=o.ROTATE}else{if(i.enablePan===!1)return;ve(Ve),l=o.PAN}break;default:l=o.NONE}l!==o.NONE&&i.dispatchEvent(s)}function it(Ve){if(i.enabled!==!1)switch(l){case o.ROTATE:if(i.enableRotate===!1)return;_e(Ve);break;case o.DOLLY:if(i.enableZoom===!1)return;Te(Ve);break;case o.PAN:if(i.enablePan===!1)return;Fe(Ve);break}}function Qe(Ve){i.enabled===!1||i.enableZoom===!1||l!==o.NONE&&l!==o.ROTATE||(Ve.preventDefault(),i.dispatchEvent(s),We(Ve),i.dispatchEvent(a))}function et(Ve){i.enabled===!1||i.enablePan===!1||ht(Ve)}function At(Ve){switch(kt(Ve),M.length){case 1:switch(i.touches.ONE){case _g.ROTATE:if(i.enableRotate===!1)return;ft(),l=o.TOUCH_ROTATE;break;case _g.PAN:if(i.enablePan===!1)return;Bt(),l=o.TOUCH_PAN;break;default:l=o.NONE}break;case 2:switch(i.touches.TWO){case _g.DOLLY_PAN:if(i.enableZoom===!1&&i.enablePan===!1)return;yt(),l=o.TOUCH_DOLLY_PAN;break;case _g.DOLLY_ROTATE:if(i.enableZoom===!1&&i.enableRotate===!1)return;mt(),l=o.TOUCH_DOLLY_ROTATE;break;default:l=o.NONE}break;default:l=o.NONE}l!==o.NONE&&i.dispatchEvent(s)}function Gt(Ve){switch(kt(Ve),l){case o.TOUCH_ROTATE:if(i.enableRotate===!1)return;St(Ve),i.update();break;case o.TOUCH_PAN:if(i.enablePan===!1)return;nt(Ve),i.update();break;case o.TOUCH_DOLLY_PAN:if(i.enableZoom===!1&&i.enablePan===!1)return;qe(Ve),i.update();break;case o.TOUCH_DOLLY_ROTATE:if(i.enableZoom===!1&&i.enableRotate===!1)return;Ke(Ve),i.update();break;default:l=o.NONE}}function on(Ve){i.enabled!==!1&&Ve.preventDefault()}function fn(Ve){M.push(Ve)}function xt(Ve){delete D[Ve.pointerId];for(let lt=0;lt<M.length;lt++)if(M[lt].pointerId==Ve.pointerId){M.splice(lt,1);return}}function kt(Ve){let lt=D[Ve.pointerId];lt===void 0&&(lt=new ln,D[Ve.pointerId]=lt),lt.set(Ve.pageX,Ve.pageY)}function Xt(Ve){const lt=Ve.pointerId===M[0].pointerId?M[1]:M[0];return D[lt.pointerId]}this.dollyIn=(Ve=j())=>{ie(Ve),i.update()},this.dollyOut=(Ve=j())=>{ne(Ve),i.update()},this.getScale=()=>v,this.setScale=Ve=>{oe(Ve),i.update()},this.getZoomScale=()=>j(),t!==void 0&&this.connect(t),this.update()}};class yte extends E3{constructor(e){super(e),this.type=Xo}parse(e){const a=function(I,F){switch(I){case 1:throw new Error("THREE.RGBELoader: Read Error: "+(F||""));case 2:throw new Error("THREE.RGBELoader: Write Error: "+(F||""));case 3:throw new Error("THREE.RGBELoader: Bad File Format: "+(F||""));default:case 4:throw new Error("THREE.RGBELoader: Memory Error: "+(F||""))}},h=function(I,F,M){F=F||1024;let B=I.pos,j=-1,U=0,V="",k=String.fromCharCode.apply(null,new Uint16Array(I.subarray(B,B+128)));for(;0>(j=k.indexOf(`
`))&&U<F&&B<I.byteLength;)V+=k,U+=k.length,B+=128,k+=String.fromCharCode.apply(null,new Uint16Array(I.subarray(B,B+128)));return-1<j?(I.pos+=U+j+1,V+k.slice(0,j)):!1},v=function(I){const F=/^#\?(\S+)/,M=/^\s*GAMMA\s*=\s*(\d+(\.\d+)?)\s*$/,D=/^\s*EXPOSURE\s*=\s*(\d+(\.\d+)?)\s*$/,B=/^\s*FORMAT=(\S+)\s*$/,j=/^\s*\-Y\s+(\d+)\s+\+X\s+(\d+)\s*$/,U={valid:0,string:"",comments:"",programtype:"RGBE",format:"",gamma:1,exposure:1,width:0,height:0};let V,k;for((I.pos>=I.byteLength||!(V=h(I)))&&a(1,"no header found"),(k=V.match(F))||a(3,"bad initial token"),U.valid|=1,U.programtype=k[1],U.string+=V+`
`;V=h(I),V!==!1;){if(U.string+=V+`
`,V.charAt(0)==="#"){U.comments+=V+`
`;continue}if((k=V.match(M))&&(U.gamma=parseFloat(k[1])),(k=V.match(D))&&(U.exposure=parseFloat(k[1])),(k=V.match(B))&&(U.valid|=2,U.format=k[1]),(k=V.match(j))&&(U.valid|=4,U.height=parseInt(k[1],10),U.width=parseInt(k[2],10)),U.valid&2&&U.valid&4)break}return U.valid&2||a(3,"missing format specifier"),U.valid&4||a(3,"missing image size specifier"),U},m=function(I,F,M){const D=F;if(D<8||D>32767||I[0]!==2||I[1]!==2||I[2]&128)return new Uint8Array(I);D!==(I[2]<<8|I[3])&&a(3,"wrong scanline width");const B=new Uint8Array(4*F*M);B.length||a(4,"unable to allocate buffer space");let j=0,U=0;const V=4*D,k=new Uint8Array(4),Z=new Uint8Array(V);let ee=M;for(;ee>0&&U<I.byteLength;){U+4>I.byteLength&&a(1),k[0]=I[U++],k[1]=I[U++],k[2]=I[U++],k[3]=I[U++],(k[0]!=2||k[1]!=2||(k[2]<<8|k[3])!=D)&&a(3,"bad rgbe scanline format");let oe=0,ne;for(;oe<V&&U<I.byteLength;){ne=I[U++];const he=ne>128;if(he&&(ne-=128),(ne===0||oe+ne>V)&&a(3,"bad scanline data"),he){const fe=I[U++];for(let ce=0;ce<ne;ce++)Z[oe++]=fe}else Z.set(I.subarray(U,U+ne),oe),oe+=ne,U+=ne}const ie=D;for(let he=0;he<ie;he++){let fe=0;B[j]=Z[he+fe],fe+=D,B[j+1]=Z[he+fe],fe+=D,B[j+2]=Z[he+fe],fe+=D,B[j+3]=Z[he+fe],j+=4}ee--}return B},_=function(I,F,M,D){const B=I[F+3],j=Math.pow(2,B-128)/255;M[D+0]=I[F+0]*j,M[D+1]=I[F+1]*j,M[D+2]=I[F+2]*j,M[D+3]=1},g=function(I,F,M,D){const B=I[F+3],j=Math.pow(2,B-128)/255;M[D+0]=Rg.toHalfFloat(Math.min(I[F+0]*j,65504)),M[D+1]=Rg.toHalfFloat(Math.min(I[F+1]*j,65504)),M[D+2]=Rg.toHalfFloat(Math.min(I[F+2]*j,65504)),M[D+3]=Rg.toHalfFloat(1)},y=new Uint8Array(e);y.pos=0;const u=v(y),b=u.width,S=u.height,T=m(y.subarray(y.pos),b,S);let R,O,C;switch(this.type){case Oa:C=T.length/4;const I=new Float32Array(C*4);for(let M=0;M<C;M++)_(T,M*4,I,M*4);R=I,O=Oa;break;case Xo:C=T.length/4;const F=new Uint16Array(C*4);for(let M=0;M<C;M++)g(T,M*4,F,M*4);R=F,O=Xo;break;default:throw new Error("THREE.RGBELoader: Unsupported type: "+this.type)}return{width:b,height:S,data:R,header:u.string,gamma:u.gamma,exposure:u.exposure,type:O}}setDataType(e){return this.type=e,this}load(e,t,i,r){function s(a,o){switch(a.type){case Oa:case Xo:"colorSpace"in a?a.colorSpace="srgb-linear":a.encoding=3e3,a.minFilter=cs,a.magFilter=cs,a.generateMipmaps=!1,a.flipY=!0;break}t&&t(a,o)}return super.load(e,s,i,r)}}const d_=xC>=152;class _te extends E3{constructor(e){super(e),this.type=Xo}parse(e){const F=Math.pow(2.7182818,2.2);function M(we,Ie){for(var tt=0,Rt=0;Rt<65536;++Rt)(Rt==0||we[Rt>>3]&1<<(Rt&7))&&(Ie[tt++]=Rt);for(var Ot=tt-1;tt<65536;)Ie[tt++]=0;return Ot}function D(we){for(var Ie=0;Ie<16384;Ie++)we[Ie]={},we[Ie].len=0,we[Ie].lit=0,we[Ie].p=null}const B={l:0,c:0,lc:0};function j(we,Ie,tt,Rt,Ot){for(;tt<we;)Ie=Ie<<8|Xt(Rt,Ot),tt+=8;tt-=we,B.l=Ie>>tt&(1<<we)-1,B.c=Ie,B.lc=tt}const U=new Array(59);function V(we){for(var Ie=0;Ie<=58;++Ie)U[Ie]=0;for(var Ie=0;Ie<65537;++Ie)U[we[Ie]]+=1;for(var tt=0,Ie=58;Ie>0;--Ie){var Rt=tt+U[Ie]>>1;U[Ie]=tt,tt=Rt}for(var Ie=0;Ie<65537;++Ie){var Ot=we[Ie];Ot>0&&(we[Ie]=Ot|U[Ot]++<<6)}}function k(we,Ie,tt,Rt,Ot,Nt,gn){for(var nn=tt,be=0,Ge=0;Ot<=Nt;Ot++){if(nn.value-tt.value>Rt)return!1;j(6,be,Ge,we,nn);var Ze=B.l;if(be=B.c,Ge=B.lc,gn[Ot]=Ze,Ze==63){if(nn.value-tt.value>Rt)throw"Something wrong with hufUnpackEncTable";j(8,be,Ge,we,nn);var Be=B.l+6;if(be=B.c,Ge=B.lc,Ot+Be>Nt+1)throw"Something wrong with hufUnpackEncTable";for(;Be--;)gn[Ot++]=0;Ot--}else if(Ze>=59){var Be=Ze-59+2;if(Ot+Be>Nt+1)throw"Something wrong with hufUnpackEncTable";for(;Be--;)gn[Ot++]=0;Ot--}}V(gn)}function Z(we){return we&63}function ee(we){return we>>6}function oe(we,Ie,tt,Rt){for(;Ie<=tt;Ie++){var Ot=ee(we[Ie]),Nt=Z(we[Ie]);if(Ot>>Nt)throw"Invalid table entry";if(Nt>14){var gn=Rt[Ot>>Nt-14];if(gn.len)throw"Invalid table entry";if(gn.lit++,gn.p){var nn=gn.p;gn.p=new Array(gn.lit);for(var be=0;be<gn.lit-1;++be)gn.p[be]=nn[be]}else gn.p=new Array(1);gn.p[gn.lit-1]=Ie}else if(Nt)for(var Ge=0,be=1<<14-Nt;be>0;be--){var gn=Rt[(Ot<<14-Nt)+Ge];if(gn.len||gn.p)throw"Invalid table entry";gn.len=Nt,gn.lit=Ie,Ge++}}return!0}const ne={c:0,lc:0};function ie(we,Ie,tt,Rt){we=we<<8|Xt(tt,Rt),Ie+=8,ne.c=we,ne.lc=Ie}const he={c:0,lc:0};function fe(we,Ie,tt,Rt,Ot,Nt,gn,nn,be,Ge){if(we==Ie){Rt<8&&(ie(tt,Rt,Ot,gn),tt=ne.c,Rt=ne.lc),Rt-=8;var Ze=tt>>Rt,Ze=new Uint8Array([Ze])[0];if(be.value+Ze>Ge)return!1;for(var Be=nn[be.value-1];Ze-- >0;)nn[be.value++]=Be}else if(be.value<Ge)nn[be.value++]=we;else return!1;he.c=tt,he.lc=Rt}function ce(we){return we&65535}function ae(we){var Ie=ce(we);return Ie>32767?Ie-65536:Ie}const ve={a:0,b:0};function _e(we,Ie){var tt=ae(we),Rt=ae(Ie),Ot=Rt,Nt=tt+(Ot&1)+(Ot>>1),gn=Nt,nn=Nt-Ot;ve.a=gn,ve.b=nn}function Te(we,Ie){var tt=ce(we),Rt=ce(Ie),Ot=tt-(Rt>>1)&65535,Nt=Rt+Ot-32768&65535;ve.a=Nt,ve.b=Ot}function Fe(we,Ie,tt,Rt,Ot,Nt,gn){for(var nn=gn<16384,be=tt>Ot?Ot:tt,Ge=1,Ze;Ge<=be;)Ge<<=1;for(Ge>>=1,Ze=Ge,Ge>>=1;Ge>=1;){for(var Be=0,ut=Be+Nt*(Ot-Ze),Ct=Nt*Ge,Pt=Nt*Ze,en=Rt*Ge,un=Rt*Ze,In,Ln,vn,Bn;Be<=ut;Be+=Pt){for(var Xn=Be,Di=Be+Rt*(tt-Ze);Xn<=Di;Xn+=un){var Mn=Xn+en,li=Xn+Ct,Q=li+en;nn?(_e(we[Xn+Ie],we[li+Ie]),In=ve.a,vn=ve.b,_e(we[Mn+Ie],we[Q+Ie]),Ln=ve.a,Bn=ve.b,_e(In,Ln),we[Xn+Ie]=ve.a,we[Mn+Ie]=ve.b,_e(vn,Bn),we[li+Ie]=ve.a,we[Q+Ie]=ve.b):(Te(we[Xn+Ie],we[li+Ie]),In=ve.a,vn=ve.b,Te(we[Mn+Ie],we[Q+Ie]),Ln=ve.a,Bn=ve.b,Te(In,Ln),we[Xn+Ie]=ve.a,we[Mn+Ie]=ve.b,Te(vn,Bn),we[li+Ie]=ve.a,we[Q+Ie]=ve.b)}if(tt&Ge){var li=Xn+Ct;nn?_e(we[Xn+Ie],we[li+Ie]):Te(we[Xn+Ie],we[li+Ie]),In=ve.a,we[li+Ie]=ve.b,we[Xn+Ie]=In}}if(Ot&Ge)for(var Xn=Be,Di=Be+Rt*(tt-Ze);Xn<=Di;Xn+=un){var Mn=Xn+en;nn?_e(we[Xn+Ie],we[Mn+Ie]):Te(we[Xn+Ie],we[Mn+Ie]),In=ve.a,we[Mn+Ie]=ve.b,we[Xn+Ie]=In}Ze=Ge,Ge>>=1}return Be}function We(we,Ie,tt,Rt,Ot,Nt,gn,nn,be,Ge){for(var Ze=0,Be=0,ut=nn,Ct=Math.trunc(Ot.value+(Nt+7)/8);Ot.value<Ct;)for(ie(Ze,Be,tt,Ot),Ze=ne.c,Be=ne.lc;Be>=14;){var Pt=Ze>>Be-14&16383,en=Ie[Pt];if(en.len)Be-=en.len,fe(en.lit,gn,Ze,Be,tt,Rt,Ot,be,Ge,ut),Ze=he.c,Be=he.lc;else{if(!en.p)throw"hufDecode issues";var un;for(un=0;un<en.lit;un++){for(var In=Z(we[en.p[un]]);Be<In&&Ot.value<Ct;)ie(Ze,Be,tt,Ot),Ze=ne.c,Be=ne.lc;if(Be>=In&&ee(we[en.p[un]])==(Ze>>Be-In&(1<<In)-1)){Be-=In,fe(en.p[un],gn,Ze,Be,tt,Rt,Ot,be,Ge,ut),Ze=he.c,Be=he.lc;break}}if(un==en.lit)throw"hufDecode issues"}}var Ln=8-Nt&7;for(Ze>>=Ln,Be-=Ln;Be>0;){var en=Ie[Ze<<14-Be&16383];if(en.len)Be-=en.len,fe(en.lit,gn,Ze,Be,tt,Rt,Ot,be,Ge,ut),Ze=he.c,Be=he.lc;else throw"hufDecode issues"}return!0}function ht(we,Ie,tt,Rt,Ot,Nt){var gn={value:0},nn=tt.value,be=kt(Ie,tt),Ge=kt(Ie,tt);tt.value+=4;var Ze=kt(Ie,tt);if(tt.value+=4,be<0||be>=65537||Ge<0||Ge>=65537)throw"Something wrong with HUF_ENCSIZE";var Be=new Array(65537),ut=new Array(16384);D(ut);var Ct=Rt-(tt.value-nn);if(k(we,Ie,tt,Ct,be,Ge,Be),Ze>8*(Rt-(tt.value-nn)))throw"Something wrong with hufUncompress";oe(Be,be,Ge,ut),We(Be,ut,we,Ie,tt,Ze,Ge,Nt,Ot,gn)}function ft(we,Ie,tt){for(var Rt=0;Rt<tt;++Rt)Ie[Rt]=we[Ie[Rt]]}function Bt(we){for(var Ie=1;Ie<we.length;Ie++){var tt=we[Ie-1]+we[Ie]-128;we[Ie]=tt}}function Me(we,Ie){for(var tt=0,Rt=Math.floor((we.length+1)/2),Ot=0,Nt=we.length-1;!(Ot>Nt||(Ie[Ot++]=we[tt++],Ot>Nt));)Ie[Ot++]=we[Rt++]}function yt(we){for(var Ie=we.byteLength,tt=new Array,Rt=0,Ot=new DataView(we);Ie>0;){var Nt=Ot.getInt8(Rt++);if(Nt<0){var gn=-Nt;Ie-=gn+1;for(var nn=0;nn<gn;nn++)tt.push(Ot.getUint8(Rt++))}else{var gn=Nt;Ie-=2;for(var be=Ot.getUint8(Rt++),nn=0;nn<gn+1;nn++)tt.push(be)}}return tt}function mt(we,Ie,tt,Rt,Ot,Nt){var Mn=new DataView(Nt.buffer),gn=tt[we.idx[0]].width,nn=tt[we.idx[0]].height,be=3,Ge=Math.floor(gn/8),Ze=Math.ceil(gn/8),Be=Math.ceil(nn/8),ut=gn-(Ze-1)*8,Ct=nn-(Be-1)*8,Pt={value:0},en=new Array(be),un=new Array(be),In=new Array(be),Ln=new Array(be),vn=new Array(be);for(let ci=0;ci<be;++ci)vn[ci]=Ie[we.idx[ci]],en[ci]=ci<1?0:en[ci-1]+Ze*Be,un[ci]=new Float32Array(64),In[ci]=new Uint16Array(64),Ln[ci]=new Uint16Array(Ze*64);for(let ci=0;ci<Be;++ci){var Bn=8;ci==Be-1&&(Bn=Ct);var Xn=8;for(let ot=0;ot<Ze;++ot){ot==Ze-1&&(Xn=ut);for(let Cn=0;Cn<be;++Cn)In[Cn].fill(0),In[Cn][0]=Ot[en[Cn]++],St(Pt,Rt,In[Cn]),nt(In[Cn],un[Cn]),Ft(un[Cn]);qe(un);for(let Cn=0;Cn<be;++Cn)Ke(un[Cn],Ln[Cn],ot*64)}let _t=0;for(let ot=0;ot<be;++ot){const Cn=tt[we.idx[ot]].type;for(let Qn=8*ci;Qn<8*ci+Bn;++Qn){_t=vn[ot][Qn];for(let gi=0;gi<Ge;++gi){const zn=gi*64+(Qn&7)*8;Mn.setUint16(_t+0*Cn,Ln[ot][zn+0],!0),Mn.setUint16(_t+2*Cn,Ln[ot][zn+1],!0),Mn.setUint16(_t+4*Cn,Ln[ot][zn+2],!0),Mn.setUint16(_t+6*Cn,Ln[ot][zn+3],!0),Mn.setUint16(_t+8*Cn,Ln[ot][zn+4],!0),Mn.setUint16(_t+10*Cn,Ln[ot][zn+5],!0),Mn.setUint16(_t+12*Cn,Ln[ot][zn+6],!0),Mn.setUint16(_t+14*Cn,Ln[ot][zn+7],!0),_t+=16*Cn}}if(Ge!=Ze)for(let Qn=8*ci;Qn<8*ci+Bn;++Qn){const gi=vn[ot][Qn]+8*Ge*2*Cn,zn=Ge*64+(Qn&7)*8;for(let Wi=0;Wi<Xn;++Wi)Mn.setUint16(gi+Wi*2*Cn,Ln[ot][zn+Wi],!0)}}}for(var Di=new Uint16Array(gn),Mn=new DataView(Nt.buffer),li=0;li<be;++li){tt[we.idx[li]].decoded=!0;var Q=tt[we.idx[li]].type;if(tt[li].type==2)for(var Ni=0;Ni<nn;++Ni){const ci=vn[li][Ni];for(var Kn=0;Kn<gn;++Kn)Di[Kn]=Mn.getUint16(ci+Kn*2*Q,!0);for(var Kn=0;Kn<gn;++Kn)Mn.setFloat32(ci+Kn*2*Q,ct(Di[Kn]),!0)}}}function St(we,Ie,tt){for(var Rt,Ot=1;Ot<64;)Rt=Ie[we.value],Rt==65280?Ot=64:Rt>>8==255?Ot+=Rt&255:(tt[Ot]=Rt,Ot++),we.value++}function nt(we,Ie){Ie[0]=ct(we[0]),Ie[1]=ct(we[1]),Ie[2]=ct(we[5]),Ie[3]=ct(we[6]),Ie[4]=ct(we[14]),Ie[5]=ct(we[15]),Ie[6]=ct(we[27]),Ie[7]=ct(we[28]),Ie[8]=ct(we[2]),Ie[9]=ct(we[4]),Ie[10]=ct(we[7]),Ie[11]=ct(we[13]),Ie[12]=ct(we[16]),Ie[13]=ct(we[26]),Ie[14]=ct(we[29]),Ie[15]=ct(we[42]),Ie[16]=ct(we[3]),Ie[17]=ct(we[8]),Ie[18]=ct(we[12]),Ie[19]=ct(we[17]),Ie[20]=ct(we[25]),Ie[21]=ct(we[30]),Ie[22]=ct(we[41]),Ie[23]=ct(we[43]),Ie[24]=ct(we[9]),Ie[25]=ct(we[11]),Ie[26]=ct(we[18]),Ie[27]=ct(we[24]),Ie[28]=ct(we[31]),Ie[29]=ct(we[40]),Ie[30]=ct(we[44]),Ie[31]=ct(we[53]),Ie[32]=ct(we[10]),Ie[33]=ct(we[19]),Ie[34]=ct(we[23]),Ie[35]=ct(we[32]),Ie[36]=ct(we[39]),Ie[37]=ct(we[45]),Ie[38]=ct(we[52]),Ie[39]=ct(we[54]),Ie[40]=ct(we[20]),Ie[41]=ct(we[22]),Ie[42]=ct(we[33]),Ie[43]=ct(we[38]),Ie[44]=ct(we[46]),Ie[45]=ct(we[51]),Ie[46]=ct(we[55]),Ie[47]=ct(we[60]),Ie[48]=ct(we[21]),Ie[49]=ct(we[34]),Ie[50]=ct(we[37]),Ie[51]=ct(we[47]),Ie[52]=ct(we[50]),Ie[53]=ct(we[56]),Ie[54]=ct(we[59]),Ie[55]=ct(we[61]),Ie[56]=ct(we[35]),Ie[57]=ct(we[36]),Ie[58]=ct(we[48]),Ie[59]=ct(we[49]),Ie[60]=ct(we[57]),Ie[61]=ct(we[58]),Ie[62]=ct(we[62]),Ie[63]=ct(we[63])}function Ft(we){const Ie=.5*Math.cos(.7853975),tt=.5*Math.cos(3.14159/16),Rt=.5*Math.cos(3.14159/8),Ot=.5*Math.cos(3*3.14159/16),Nt=.5*Math.cos(5*3.14159/16),gn=.5*Math.cos(3*3.14159/8),nn=.5*Math.cos(7*3.14159/16);for(var be=new Array(4),Ge=new Array(4),Ze=new Array(4),Be=new Array(4),ut=0;ut<8;++ut){var Ct=ut*8;be[0]=Rt*we[Ct+2],be[1]=gn*we[Ct+2],be[2]=Rt*we[Ct+6],be[3]=gn*we[Ct+6],Ge[0]=tt*we[Ct+1]+Ot*we[Ct+3]+Nt*we[Ct+5]+nn*we[Ct+7],Ge[1]=Ot*we[Ct+1]-nn*we[Ct+3]-tt*we[Ct+5]-Nt*we[Ct+7],Ge[2]=Nt*we[Ct+1]-tt*we[Ct+3]+nn*we[Ct+5]+Ot*we[Ct+7],Ge[3]=nn*we[Ct+1]-Nt*we[Ct+3]+Ot*we[Ct+5]-tt*we[Ct+7],Ze[0]=Ie*(we[Ct+0]+we[Ct+4]),Ze[3]=Ie*(we[Ct+0]-we[Ct+4]),Ze[1]=be[0]+be[3],Ze[2]=be[1]-be[2],Be[0]=Ze[0]+Ze[1],Be[1]=Ze[3]+Ze[2],Be[2]=Ze[3]-Ze[2],Be[3]=Ze[0]-Ze[1],we[Ct+0]=Be[0]+Ge[0],we[Ct+1]=Be[1]+Ge[1],we[Ct+2]=Be[2]+Ge[2],we[Ct+3]=Be[3]+Ge[3],we[Ct+4]=Be[3]-Ge[3],we[Ct+5]=Be[2]-Ge[2],we[Ct+6]=Be[1]-Ge[1],we[Ct+7]=Be[0]-Ge[0]}for(var Pt=0;Pt<8;++Pt)be[0]=Rt*we[16+Pt],be[1]=gn*we[16+Pt],be[2]=Rt*we[48+Pt],be[3]=gn*we[48+Pt],Ge[0]=tt*we[8+Pt]+Ot*we[24+Pt]+Nt*we[40+Pt]+nn*we[56+Pt],Ge[1]=Ot*we[8+Pt]-nn*we[24+Pt]-tt*we[40+Pt]-Nt*we[56+Pt],Ge[2]=Nt*we[8+Pt]-tt*we[24+Pt]+nn*we[40+Pt]+Ot*we[56+Pt],Ge[3]=nn*we[8+Pt]-Nt*we[24+Pt]+Ot*we[40+Pt]-tt*we[56+Pt],Ze[0]=Ie*(we[Pt]+we[32+Pt]),Ze[3]=Ie*(we[Pt]-we[32+Pt]),Ze[1]=be[0]+be[3],Ze[2]=be[1]-be[2],Be[0]=Ze[0]+Ze[1],Be[1]=Ze[3]+Ze[2],Be[2]=Ze[3]-Ze[2],Be[3]=Ze[0]-Ze[1],we[0+Pt]=Be[0]+Ge[0],we[8+Pt]=Be[1]+Ge[1],we[16+Pt]=Be[2]+Ge[2],we[24+Pt]=Be[3]+Ge[3],we[32+Pt]=Be[3]-Ge[3],we[40+Pt]=Be[2]-Ge[2],we[48+Pt]=Be[1]-Ge[1],we[56+Pt]=Be[0]-Ge[0]}function qe(we){for(var Ie=0;Ie<64;++Ie){var tt=we[0][Ie],Rt=we[1][Ie],Ot=we[2][Ie];we[0][Ie]=tt+1.5747*Ot,we[1][Ie]=tt-.1873*Rt-.4682*Ot,we[2][Ie]=tt+1.8556*Rt}}function Ke(we,Ie,tt){for(var Rt=0;Rt<64;++Rt)Ie[tt+Rt]=Rg.toHalfFloat(Et(we[Rt]))}function Et(we){return we<=1?Math.sign(we)*Math.pow(Math.abs(we),2.2):Math.sign(we)*Math.pow(F,Math.abs(we)-1)}function ye(we){return new DataView(we.array.buffer,we.offset.value,we.size)}function me(we){var Ie=we.viewer.buffer.slice(we.offset.value,we.offset.value+we.size),tt=new Uint8Array(yt(Ie)),Rt=new Uint8Array(tt.length);return Bt(tt),Me(tt,Rt),new DataView(Rt.buffer)}function Le(we){var Ie=we.array.slice(we.offset.value,we.offset.value+we.size),tt=jx(Ie),Rt=new Uint8Array(tt.length);return Bt(tt),Me(tt,Rt),new DataView(Rt.buffer)}function it(we){for(var Ie=we.viewer,tt={value:we.offset.value},Rt=new Uint16Array(we.width*we.scanlineBlockSize*(we.channels*we.type)),Ot=new Uint8Array(8192),Nt=0,gn=new Array(we.channels),nn=0;nn<we.channels;nn++)gn[nn]={},gn[nn].start=Nt,gn[nn].end=gn[nn].start,gn[nn].nx=we.width,gn[nn].ny=we.lines,gn[nn].size=we.type,Nt+=gn[nn].nx*gn[nn].ny*gn[nn].size;var be=Dt(Ie,tt),Ge=Dt(Ie,tt);if(Ge>=8192)throw"Something is wrong with PIZ_COMPRESSION BITMAP_SIZE";if(be<=Ge)for(var nn=0;nn<Ge-be+1;nn++)Ot[nn+be]=Ve(Ie,tt);var Ze=new Uint16Array(65536),Be=M(Ot,Ze),ut=kt(Ie,tt);ht(we.array,Ie,tt,ut,Rt,Nt);for(var nn=0;nn<we.channels;++nn)for(var Ct=gn[nn],Pt=0;Pt<gn[nn].size;++Pt)Fe(Rt,Ct.start+Pt,Ct.nx,Ct.size,Ct.ny,Ct.nx*Ct.size,Be);ft(Ze,Rt,Nt);for(var en=0,un=new Uint8Array(Rt.buffer.byteLength),In=0;In<we.lines;In++)for(var Ln=0;Ln<we.channels;Ln++){var Ct=gn[Ln],vn=Ct.nx*Ct.size,Bn=new Uint8Array(Rt.buffer,Ct.end*2,vn*2);un.set(Bn,en),en+=vn*2,Ct.end+=vn}return new DataView(un.buffer)}function Qe(we){var Ie=we.array.slice(we.offset.value,we.offset.value+we.size),tt=jx(Ie);const Rt=we.lines*we.channels*we.width,Ot=we.type==1?new Uint16Array(Rt):new Uint32Array(Rt);let Nt=0,gn=0;const nn=new Array(4);for(let be=0;be<we.lines;be++)for(let Ge=0;Ge<we.channels;Ge++){let Ze=0;switch(we.type){case 1:nn[0]=Nt,nn[1]=nn[0]+we.width,Nt=nn[1]+we.width;for(let Be=0;Be<we.width;++Be){const ut=tt[nn[0]++]<<8|tt[nn[1]++];Ze+=ut,Ot[gn]=Ze,gn++}break;case 2:nn[0]=Nt,nn[1]=nn[0]+we.width,nn[2]=nn[1]+we.width,Nt=nn[2]+we.width;for(let Be=0;Be<we.width;++Be){const ut=tt[nn[0]++]<<24|tt[nn[1]++]<<16|tt[nn[2]++]<<8;Ze+=ut,Ot[gn]=Ze,gn++}break}}return new DataView(Ot.buffer)}function et(we){var Ie=we.viewer,tt={value:we.offset.value},Rt=new Uint8Array(we.width*we.lines*(we.channels*we.type*2)),Ot={version:lt(Ie,tt),unknownUncompressedSize:lt(Ie,tt),unknownCompressedSize:lt(Ie,tt),acCompressedSize:lt(Ie,tt),dcCompressedSize:lt(Ie,tt),rleCompressedSize:lt(Ie,tt),rleUncompressedSize:lt(Ie,tt),rleRawSize:lt(Ie,tt),totalAcUncompressedCount:lt(Ie,tt),totalDcUncompressedCount:lt(Ie,tt),acCompression:lt(Ie,tt)};if(Ot.version<2)throw"EXRLoader.parse: "+jr.compression+" version "+Ot.version+" is unsupported";for(var Nt=new Array,gn=Dt(Ie,tt)-2;gn>0;){var nn=At(Ie.buffer,tt),be=Ve(Ie,tt),Ge=be>>2&3,Ze=(be>>4)-1,Be=new Int8Array([Ze])[0],ut=Ve(Ie,tt);Nt.push({name:nn,index:Be,type:ut,compression:Ge}),gn-=nn.length+3}for(var Ct=jr.channels,Pt=new Array(we.channels),en=0;en<we.channels;++en){var un=Pt[en]={},In=Ct[en];un.name=In.name,un.compression=0,un.decoded=!1,un.type=In.pixelType,un.pLinear=In.pLinear,un.width=we.width,un.height=we.lines}for(var Ln={idx:new Array(3)},vn=0;vn<we.channels;++vn)for(var un=Pt[vn],en=0;en<Nt.length;++en){var Bn=Nt[en];un.name==Bn.name&&(un.compression=Bn.compression,Bn.index>=0&&(Ln.idx[Bn.index]=vn),un.offset=vn)}if(Ot.acCompressedSize>0)switch(Ot.acCompression){case 0:var Mn=new Uint16Array(Ot.totalAcUncompressedCount);ht(we.array,Ie,tt,Ot.acCompressedSize,Mn,Ot.totalAcUncompressedCount);break;case 1:var Xn=we.array.slice(tt.value,tt.value+Ot.totalAcUncompressedCount),Di=jx(Xn),Mn=new Uint16Array(Di.buffer);tt.value+=Ot.totalAcUncompressedCount;break}if(Ot.dcCompressedSize>0){var li={array:we.array,offset:tt,size:Ot.dcCompressedSize},Q=new Uint16Array(Le(li).buffer);tt.value+=Ot.dcCompressedSize}if(Ot.rleRawSize>0){var Xn=we.array.slice(tt.value,tt.value+Ot.rleCompressedSize),Di=jx(Xn),Ni=yt(Di.buffer);tt.value+=Ot.rleCompressedSize}for(var Kn=0,ci=new Array(Pt.length),en=0;en<ci.length;++en)ci[en]=new Array;for(var _t=0;_t<we.lines;++_t)for(var ot=0;ot<Pt.length;++ot)ci[ot].push(Kn),Kn+=Pt[ot].width*we.type*2;mt(Ln,ci,Pt,Mn,Q,Rt);for(var en=0;en<Pt.length;++en){var un=Pt[en];if(!un.decoded)switch(un.compression){case 2:for(var Cn=0,Qn=0,_t=0;_t<we.lines;++_t){for(var gi=ci[en][Cn],zn=0;zn<un.width;++zn){for(var Wi=0;Wi<2*un.type;++Wi)Rt[gi++]=Ni[Qn+Wi*un.width*un.height];Qn++}Cn++}break;case 1:default:throw"EXRLoader.parse: unsupported channel compression"}}return new DataView(Rt.buffer)}function At(we,Ie){for(var tt=new Uint8Array(we),Rt=0;tt[Ie.value+Rt]!=0;)Rt+=1;var Ot=new TextDecoder().decode(tt.slice(Ie.value,Ie.value+Rt));return Ie.value=Ie.value+Rt+1,Ot}function Gt(we,Ie,tt){var Rt=new TextDecoder().decode(new Uint8Array(we).slice(Ie.value,Ie.value+tt));return Ie.value=Ie.value+tt,Rt}function on(we,Ie){var tt=xt(we,Ie),Rt=kt(we,Ie);return[tt,Rt]}function fn(we,Ie){var tt=kt(we,Ie),Rt=kt(we,Ie);return[tt,Rt]}function xt(we,Ie){var tt=we.getInt32(Ie.value,!0);return Ie.value=Ie.value+4,tt}function kt(we,Ie){var tt=we.getUint32(Ie.value,!0);return Ie.value=Ie.value+4,tt}function Xt(we,Ie){var tt=we[Ie.value];return Ie.value=Ie.value+1,tt}function Ve(we,Ie){var tt=we.getUint8(Ie.value);return Ie.value=Ie.value+1,tt}const lt=function(we,Ie){let tt;return"getBigInt64"in DataView.prototype?tt=Number(we.getBigInt64(Ie.value,!0)):tt=we.getUint32(Ie.value+4,!0)+Number(we.getUint32(Ie.value,!0)<<32),Ie.value+=8,tt};function Qt(we,Ie){var tt=we.getFloat32(Ie.value,!0);return Ie.value+=4,tt}function Ye(we,Ie){return Rg.toHalfFloat(Qt(we,Ie))}function ct(we){var Ie=(we&31744)>>10,tt=we&1023;return(we>>15?-1:1)*(Ie?Ie===31?tt?NaN:1/0:Math.pow(2,Ie-15)*(1+tt/1024):6103515625e-14*(tt/1024))}function Dt(we,Ie){var tt=we.getUint16(Ie.value,!0);return Ie.value+=2,tt}function Sn(we,Ie){return ct(Dt(we,Ie))}function qt(we,Ie,tt,Rt){for(var Ot=tt.value,Nt=[];tt.value<Ot+Rt-1;){var gn=At(Ie,tt),nn=xt(we,tt),be=Ve(we,tt);tt.value+=3;var Ge=xt(we,tt),Ze=xt(we,tt);Nt.push({name:gn,pixelType:nn,pLinear:be,xSampling:Ge,ySampling:Ze})}return tt.value+=1,Nt}function wt(we,Ie){var tt=Qt(we,Ie),Rt=Qt(we,Ie),Ot=Qt(we,Ie),Nt=Qt(we,Ie),gn=Qt(we,Ie),nn=Qt(we,Ie),be=Qt(we,Ie),Ge=Qt(we,Ie);return{redX:tt,redY:Rt,greenX:Ot,greenY:Nt,blueX:gn,blueY:nn,whiteX:be,whiteY:Ge}}function dn(we,Ie){var tt=["NO_COMPRESSION","RLE_COMPRESSION","ZIPS_COMPRESSION","ZIP_COMPRESSION","PIZ_COMPRESSION","PXR24_COMPRESSION","B44_COMPRESSION","B44A_COMPRESSION","DWAA_COMPRESSION","DWAB_COMPRESSION"],Rt=Ve(we,Ie);return tt[Rt]}function wn(we,Ie){var tt=kt(we,Ie),Rt=kt(we,Ie),Ot=kt(we,Ie),Nt=kt(we,Ie);return{xMin:tt,yMin:Rt,xMax:Ot,yMax:Nt}}function Pn(we,Ie){var tt=["INCREASING_Y"],Rt=Ve(we,Ie);return tt[Rt]}function Wn(we,Ie){var tt=Qt(we,Ie),Rt=Qt(we,Ie);return[tt,Rt]}function Ii(we,Ie){var tt=Qt(we,Ie),Rt=Qt(we,Ie),Ot=Qt(we,Ie);return[tt,Rt,Ot]}function Ei(we,Ie,tt,Rt,Ot){if(Rt==="string"||Rt==="stringvector"||Rt==="iccProfile")return Gt(Ie,tt,Ot);if(Rt==="chlist")return qt(we,Ie,tt,Ot);if(Rt==="chromaticities")return wt(we,tt);if(Rt==="compression")return dn(we,tt);if(Rt==="box2i")return wn(we,tt);if(Rt==="lineOrder")return Pn(we,tt);if(Rt==="float")return Qt(we,tt);if(Rt==="v2f")return Wn(we,tt);if(Rt==="v3f")return Ii(we,tt);if(Rt==="int")return xt(we,tt);if(Rt==="rational")return on(we,tt);if(Rt==="timecode")return fn(we,tt);if(Rt==="preview")return tt.value+=Ot,"skipped";tt.value+=Ot}function Si(we,Ie,tt){const Rt={};if(we.getUint32(0,!0)!=20000630)throw"THREE.EXRLoader: provided file doesn't appear to be in OpenEXR format.";Rt.version=we.getUint8(4);const Ot=we.getUint8(5);Rt.spec={singleTile:!!(Ot&2),longName:!!(Ot&4),deepFormat:!!(Ot&8),multiPart:!!(Ot&16)},tt.value=8;for(var Nt=!0;Nt;){var gn=At(Ie,tt);if(gn==0)Nt=!1;else{var nn=At(Ie,tt),be=kt(we,tt),Ge=Ei(we,Ie,tt,nn,be);Ge===void 0?console.warn(`EXRLoader.parse: skipped unknown header attribute type '${nn}'.`):Rt[gn]=Ge}}if((Ot&-5)!=0)throw console.error("EXRHeader:",Rt),"THREE.EXRLoader: provided file is currently unsupported.";return Rt}function er(we,Ie,tt,Rt,Ot){const Nt={size:0,viewer:Ie,array:tt,offset:Rt,width:we.dataWindow.xMax-we.dataWindow.xMin+1,height:we.dataWindow.yMax-we.dataWindow.yMin+1,channels:we.channels.length,bytesPerLine:null,lines:null,inputSize:null,type:we.channels[0].pixelType,uncompress:null,getter:null,format:null,[d_?"colorSpace":"encoding"]:null};switch(we.compression){case"NO_COMPRESSION":Nt.lines=1,Nt.uncompress=ye;break;case"RLE_COMPRESSION":Nt.lines=1,Nt.uncompress=me;break;case"ZIPS_COMPRESSION":Nt.lines=1,Nt.uncompress=Le;break;case"ZIP_COMPRESSION":Nt.lines=16,Nt.uncompress=Le;break;case"PIZ_COMPRESSION":Nt.lines=32,Nt.uncompress=it;break;case"PXR24_COMPRESSION":Nt.lines=16,Nt.uncompress=Qe;break;case"DWAA_COMPRESSION":Nt.lines=32,Nt.uncompress=et;break;case"DWAB_COMPRESSION":Nt.lines=256,Nt.uncompress=et;break;default:throw"EXRLoader.parse: "+we.compression+" is unsupported"}if(Nt.scanlineBlockSize=Nt.lines,Nt.type==1)switch(Ot){case Oa:Nt.getter=Sn,Nt.inputSize=2;break;case Xo:Nt.getter=Dt,Nt.inputSize=2;break}else if(Nt.type==2)switch(Ot){case Oa:Nt.getter=Qt,Nt.inputSize=4;break;case Xo:Nt.getter=Ye,Nt.inputSize=4}else throw"EXRLoader.parse: unsupported pixelType "+Nt.type+" for "+we.compression+".";Nt.blockCount=(we.dataWindow.yMax+1)/Nt.scanlineBlockSize;for(var gn=0;gn<Nt.blockCount;gn++)lt(Ie,Rt);Nt.outputChannels=Nt.channels==3?4:Nt.channels;const nn=Nt.width*Nt.height*Nt.outputChannels;switch(Ot){case Oa:Nt.byteArray=new Float32Array(nn),Nt.channels<Nt.outputChannels&&Nt.byteArray.fill(1,0,nn);break;case Xo:Nt.byteArray=new Uint16Array(nn),Nt.channels<Nt.outputChannels&&Nt.byteArray.fill(15360,0,nn);break;default:console.error("THREE.EXRLoader: unsupported type: ",Ot);break}return Nt.bytesPerLine=Nt.width*Nt.inputSize*Nt.channels,Nt.outputChannels==4?Nt.format=go:Nt.format=k1,d_?Nt.colorSpace="srgb-linear":Nt.encoding=3e3,Nt}const Zi=new DataView(e),Or=new Uint8Array(e),Wr={value:0},jr=Si(Zi,e,Wr),ti=er(jr,Zi,Or,Wr,this.type),rr={value:0},zi={R:0,G:1,B:2,A:3,Y:0};for(let we=0;we<ti.height/ti.scanlineBlockSize;we++){const Ie=kt(Zi,Wr);ti.size=kt(Zi,Wr),ti.lines=Ie+ti.scanlineBlockSize>ti.height?ti.height-Ie:ti.scanlineBlockSize;const Rt=ti.size<ti.lines*ti.bytesPerLine?ti.uncompress(ti):ye(ti);Wr.value+=ti.size;for(let Ot=0;Ot<ti.scanlineBlockSize;Ot++){const Nt=Ot+we*ti.scanlineBlockSize;if(Nt>=ti.height)break;for(let gn=0;gn<ti.channels;gn++){const nn=zi[jr.channels[gn].name];for(let be=0;be<ti.width;be++){rr.value=(Ot*(ti.channels*ti.width)+gn*ti.width+be)*ti.inputSize;const Ge=(ti.height-1-Nt)*(ti.width*ti.outputChannels)+be*ti.outputChannels+nn;ti.byteArray[Ge]=ti.getter(Rt,rr)}}}}return{header:jr,width:ti.width,height:ti.height,data:ti.byteArray,format:ti.format,[d_?"colorSpace":"encoding"]:ti[d_?"colorSpace":"encoding"],type:this.type}}setDataType(e){return this.type=e,this}load(e,t,i,r){function s(a,o){d_?a.colorSpace=o.colorSpace:a.encoding=o.encoding,a.minFilter=cs,a.magFilter=cs,a.generateMipmaps=!1,a.flipY=!1,t&&t(a,o)}return super.load(e,s,i,r)}}const _D=new Wa,qx=new Oe;class V3 extends gC{constructor(){super(),this.isLineSegmentsGeometry=!0,this.type="LineSegmentsGeometry";const e=[-1,2,0,1,2,0,-1,1,0,1,1,0,-1,0,0,1,0,0,-1,-1,0,1,-1,0],t=[-1,2,1,2,-1,1,1,1,-1,-1,1,-1,-1,-2,1,-2],i=[0,2,1,2,3,1,2,4,3,4,5,3,4,6,5,6,7,5];this.setIndex(i),this.setAttribute("position",new mi(e,3)),this.setAttribute("uv",new mi(t,2))}applyMatrix4(e){const t=this.attributes.instanceStart,i=this.attributes.instanceEnd;return t!==void 0&&(t.applyMatrix4(e),i.applyMatrix4(e),t.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}setPositions(e){let t;e instanceof Float32Array?t=e:Array.isArray(e)&&(t=new Float32Array(e));const i=new Gw(t,6,1);return this.setAttribute("instanceStart",new gu(i,3,0)),this.setAttribute("instanceEnd",new gu(i,3,3)),this.computeBoundingBox(),this.computeBoundingSphere(),this}setColors(e,t=3){let i;e instanceof Float32Array?i=e:Array.isArray(e)&&(i=new Float32Array(e));const r=new Gw(i,t*2,1);return this.setAttribute("instanceColorStart",new gu(r,t,0)),this.setAttribute("instanceColorEnd",new gu(r,t,t)),this}fromWireframeGeometry(e){return this.setPositions(e.attributes.position.array),this}fromEdgesGeometry(e){return this.setPositions(e.attributes.position.array),this}fromMesh(e){return this.fromWireframeGeometry(new _3(e.geometry)),this}fromLineSegments(e){const t=e.geometry;return this.setPositions(t.attributes.position.array),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Wa);const e=this.attributes.instanceStart,t=this.attributes.instanceEnd;e!==void 0&&t!==void 0&&(this.boundingBox.setFromBufferAttribute(e),_D.setFromBufferAttribute(t),this.boundingBox.union(_D))}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Uo),this.boundingBox===null&&this.computeBoundingBox();const e=this.attributes.instanceStart,t=this.attributes.instanceEnd;if(e!==void 0&&t!==void 0){const i=this.boundingSphere.center;this.boundingBox.getCenter(i);let r=0;for(let s=0,a=e.count;s<a;s++)qx.fromBufferAttribute(e,s),r=Math.max(r,i.distanceToSquared(qx)),qx.fromBufferAttribute(t,s),r=Math.max(r,i.distanceToSquared(qx));this.boundingSphere.radius=Math.sqrt(r),isNaN(this.boundingSphere.radius)&&console.error("THREE.LineSegmentsGeometry.computeBoundingSphere(): Computed radius is NaN. The instanced position data is likely to have NaN values.",this)}}toJSON(){}applyMatrix(e){return console.warn("THREE.LineSegmentsGeometry: applyMatrix() has been renamed to applyMatrix4()."),this.applyMatrix4(e)}}class A9 extends V3{constructor(){super(),this.isLineGeometry=!0,this.type="LineGeometry"}setPositions(e){const t=e.length-3,i=new Float32Array(2*t);for(let r=0;r<t;r+=3)i[2*r]=e[r],i[2*r+1]=e[r+1],i[2*r+2]=e[r+2],i[2*r+3]=e[r+3],i[2*r+4]=e[r+4],i[2*r+5]=e[r+5];return super.setPositions(i),this}setColors(e,t=3){const i=e.length-t,r=new Float32Array(2*i);if(t===3)for(let s=0;s<i;s+=t)r[2*s]=e[s],r[2*s+1]=e[s+1],r[2*s+2]=e[s+2],r[2*s+3]=e[s+3],r[2*s+4]=e[s+4],r[2*s+5]=e[s+5];else for(let s=0;s<i;s+=t)r[2*s]=e[s],r[2*s+1]=e[s+1],r[2*s+2]=e[s+2],r[2*s+3]=e[s+3],r[2*s+4]=e[s+4],r[2*s+5]=e[s+5],r[2*s+6]=e[s+6],r[2*s+7]=e[s+7];return super.setColors(r,t),this}fromLine(e){const t=e.geometry;return this.setPositions(t.attributes.position.array),this}}class W3 extends Ec{constructor(e){super({type:"LineMaterial",uniforms:p1.clone(p1.merge([qn.common,qn.fog,{worldUnits:{value:1},linewidth:{value:1},resolution:{value:new ln(1,1)},dashOffset:{value:0},dashScale:{value:1},dashSize:{value:1},gapSize:{value:1}}])),vertexShader:`
				#include <common>
				#include <fog_pars_vertex>
				#include <logdepthbuf_pars_vertex>
				#include <clipping_planes_pars_vertex>

				uniform float linewidth;
				uniform vec2 resolution;

				attribute vec3 instanceStart;
				attribute vec3 instanceEnd;

				#ifdef USE_COLOR
					#ifdef USE_LINE_COLOR_ALPHA
						varying vec4 vLineColor;
						attribute vec4 instanceColorStart;
						attribute vec4 instanceColorEnd;
					#else
						varying vec3 vLineColor;
						attribute vec3 instanceColorStart;
						attribute vec3 instanceColorEnd;
					#endif
				#endif

				#ifdef WORLD_UNITS

					varying vec4 worldPos;
					varying vec3 worldStart;
					varying vec3 worldEnd;

					#ifdef USE_DASH

						varying vec2 vUv;

					#endif

				#else

					varying vec2 vUv;

				#endif

				#ifdef USE_DASH

					uniform float dashScale;
					attribute float instanceDistanceStart;
					attribute float instanceDistanceEnd;
					varying float vLineDistance;

				#endif

				void trimSegment( const in vec4 start, inout vec4 end ) {

					// trim end segment so it terminates between the camera plane and the near plane

					// conservative estimate of the near plane
					float a = projectionMatrix[ 2 ][ 2 ]; // 3nd entry in 3th column
					float b = projectionMatrix[ 3 ][ 2 ]; // 3nd entry in 4th column
					float nearEstimate = - 0.5 * b / a;

					float alpha = ( nearEstimate - start.z ) / ( end.z - start.z );

					end.xyz = mix( start.xyz, end.xyz, alpha );

				}

				void main() {

					#ifdef USE_COLOR

						vLineColor = ( position.y < 0.5 ) ? instanceColorStart : instanceColorEnd;

					#endif

					#ifdef USE_DASH

						vLineDistance = ( position.y < 0.5 ) ? dashScale * instanceDistanceStart : dashScale * instanceDistanceEnd;
						vUv = uv;

					#endif

					float aspect = resolution.x / resolution.y;

					// camera space
					vec4 start = modelViewMatrix * vec4( instanceStart, 1.0 );
					vec4 end = modelViewMatrix * vec4( instanceEnd, 1.0 );

					#ifdef WORLD_UNITS

						worldStart = start.xyz;
						worldEnd = end.xyz;

					#else

						vUv = uv;

					#endif

					// special case for perspective projection, and segments that terminate either in, or behind, the camera plane
					// clearly the gpu firmware has a way of addressing this issue when projecting into ndc space
					// but we need to perform ndc-space calculations in the shader, so we must address this issue directly
					// perhaps there is a more elegant solution -- WestLangley

					bool perspective = ( projectionMatrix[ 2 ][ 3 ] == - 1.0 ); // 4th entry in the 3rd column

					if ( perspective ) {

						if ( start.z < 0.0 && end.z >= 0.0 ) {

							trimSegment( start, end );

						} else if ( end.z < 0.0 && start.z >= 0.0 ) {

							trimSegment( end, start );

						}

					}

					// clip space
					vec4 clipStart = projectionMatrix * start;
					vec4 clipEnd = projectionMatrix * end;

					// ndc space
					vec3 ndcStart = clipStart.xyz / clipStart.w;
					vec3 ndcEnd = clipEnd.xyz / clipEnd.w;

					// direction
					vec2 dir = ndcEnd.xy - ndcStart.xy;

					// account for clip-space aspect ratio
					dir.x *= aspect;
					dir = normalize( dir );

					#ifdef WORLD_UNITS

						// get the offset direction as perpendicular to the view vector
						vec3 worldDir = normalize( end.xyz - start.xyz );
						vec3 offset;
						if ( position.y < 0.5 ) {

							offset = normalize( cross( start.xyz, worldDir ) );

						} else {

							offset = normalize( cross( end.xyz, worldDir ) );

						}

						// sign flip
						if ( position.x < 0.0 ) offset *= - 1.0;

						float forwardOffset = dot( worldDir, vec3( 0.0, 0.0, 1.0 ) );

						// don't extend the line if we're rendering dashes because we
						// won't be rendering the endcaps
						#ifndef USE_DASH

							// extend the line bounds to encompass  endcaps
							start.xyz += - worldDir * linewidth * 0.5;
							end.xyz += worldDir * linewidth * 0.5;

							// shift the position of the quad so it hugs the forward edge of the line
							offset.xy -= dir * forwardOffset;
							offset.z += 0.5;

						#endif

						// endcaps
						if ( position.y > 1.0 || position.y < 0.0 ) {

							offset.xy += dir * 2.0 * forwardOffset;

						}

						// adjust for linewidth
						offset *= linewidth * 0.5;

						// set the world position
						worldPos = ( position.y < 0.5 ) ? start : end;
						worldPos.xyz += offset;

						// project the worldpos
						vec4 clip = projectionMatrix * worldPos;

						// shift the depth of the projected points so the line
						// segments overlap neatly
						vec3 clipPose = ( position.y < 0.5 ) ? ndcStart : ndcEnd;
						clip.z = clipPose.z * clip.w;

					#else

						vec2 offset = vec2( dir.y, - dir.x );
						// undo aspect ratio adjustment
						dir.x /= aspect;
						offset.x /= aspect;

						// sign flip
						if ( position.x < 0.0 ) offset *= - 1.0;

						// endcaps
						if ( position.y < 0.0 ) {

							offset += - dir;

						} else if ( position.y > 1.0 ) {

							offset += dir;

						}

						// adjust for linewidth
						offset *= linewidth;

						// adjust for clip-space to screen-space conversion // maybe resolution should be based on viewport ...
						offset /= resolution.y;

						// select end
						vec4 clip = ( position.y < 0.5 ) ? clipStart : clipEnd;

						// back to clip space
						offset *= clip.w;

						clip.xy += offset;

					#endif

					gl_Position = clip;

					vec4 mvPosition = ( position.y < 0.5 ) ? start : end; // this is an approximation

					#include <logdepthbuf_vertex>
					#include <clipping_planes_vertex>
					#include <fog_vertex>

				}
			`,fragmentShader:`
				uniform vec3 diffuse;
				uniform float opacity;
				uniform float linewidth;

				#ifdef USE_DASH

					uniform float dashOffset;
					uniform float dashSize;
					uniform float gapSize;

				#endif

				varying float vLineDistance;

				#ifdef WORLD_UNITS

					varying vec4 worldPos;
					varying vec3 worldStart;
					varying vec3 worldEnd;

					#ifdef USE_DASH

						varying vec2 vUv;

					#endif

				#else

					varying vec2 vUv;

				#endif

				#include <common>
				#include <fog_pars_fragment>
				#include <logdepthbuf_pars_fragment>
				#include <clipping_planes_pars_fragment>

				#ifdef USE_COLOR
					#ifdef USE_LINE_COLOR_ALPHA
						varying vec4 vLineColor;
					#else
						varying vec3 vLineColor;
					#endif
				#endif

				vec2 closestLineToLine(vec3 p1, vec3 p2, vec3 p3, vec3 p4) {

					float mua;
					float mub;

					vec3 p13 = p1 - p3;
					vec3 p43 = p4 - p3;

					vec3 p21 = p2 - p1;

					float d1343 = dot( p13, p43 );
					float d4321 = dot( p43, p21 );
					float d1321 = dot( p13, p21 );
					float d4343 = dot( p43, p43 );
					float d2121 = dot( p21, p21 );

					float denom = d2121 * d4343 - d4321 * d4321;

					float numer = d1343 * d4321 - d1321 * d4343;

					mua = numer / denom;
					mua = clamp( mua, 0.0, 1.0 );
					mub = ( d1343 + d4321 * ( mua ) ) / d4343;
					mub = clamp( mub, 0.0, 1.0 );

					return vec2( mua, mub );

				}

				void main() {

					#include <clipping_planes_fragment>

					#ifdef USE_DASH

						if ( vUv.y < - 1.0 || vUv.y > 1.0 ) discard; // discard endcaps

						if ( mod( vLineDistance + dashOffset, dashSize + gapSize ) > dashSize ) discard; // todo - FIX

					#endif

					float alpha = opacity;

					#ifdef WORLD_UNITS

						// Find the closest points on the view ray and the line segment
						vec3 rayEnd = normalize( worldPos.xyz ) * 1e5;
						vec3 lineDir = worldEnd - worldStart;
						vec2 params = closestLineToLine( worldStart, worldEnd, vec3( 0.0, 0.0, 0.0 ), rayEnd );

						vec3 p1 = worldStart + lineDir * params.x;
						vec3 p2 = rayEnd * params.y;
						vec3 delta = p1 - p2;
						float len = length( delta );
						float norm = len / linewidth;

						#ifndef USE_DASH

							#ifdef USE_ALPHA_TO_COVERAGE

								float dnorm = fwidth( norm );
								alpha = 1.0 - smoothstep( 0.5 - dnorm, 0.5 + dnorm, norm );

							#else

								if ( norm > 0.5 ) {

									discard;

								}

							#endif

						#endif

					#else

						#ifdef USE_ALPHA_TO_COVERAGE

							// artifacts appear on some hardware if a derivative is taken within a conditional
							float a = vUv.x;
							float b = ( vUv.y > 0.0 ) ? vUv.y - 1.0 : vUv.y + 1.0;
							float len2 = a * a + b * b;
							float dlen = fwidth( len2 );

							if ( abs( vUv.y ) > 1.0 ) {

								alpha = 1.0 - smoothstep( 1.0 - dlen, 1.0 + dlen, len2 );

							}

						#else

							if ( abs( vUv.y ) > 1.0 ) {

								float a = vUv.x;
								float b = ( vUv.y > 0.0 ) ? vUv.y - 1.0 : vUv.y + 1.0;
								float len2 = a * a + b * b;

								if ( len2 > 1.0 ) discard;

							}

						#endif

					#endif

					vec4 diffuseColor = vec4( diffuse, alpha );
					#ifdef USE_COLOR
						#ifdef USE_LINE_COLOR_ALPHA
							diffuseColor *= vLineColor;
						#else
							diffuseColor.rgb *= vLineColor;
						#endif
					#endif

					#include <logdepthbuf_fragment>

					gl_FragColor = diffuseColor;

					#include <tonemapping_fragment>
					#include <${xC>=154?"colorspace_fragment":"encodings_fragment"}>
					#include <fog_fragment>
					#include <premultiplied_alpha_fragment>

				}
			`,clipping:!0}),this.isLineMaterial=!0,this.onBeforeCompile=function(){this.transparent?this.defines.USE_LINE_COLOR_ALPHA="1":delete this.defines.USE_LINE_COLOR_ALPHA},Object.defineProperties(this,{color:{enumerable:!0,get:function(){return this.uniforms.diffuse.value},set:function(t){this.uniforms.diffuse.value=t}},worldUnits:{enumerable:!0,get:function(){return"WORLD_UNITS"in this.defines},set:function(t){t===!0?this.defines.WORLD_UNITS="":delete this.defines.WORLD_UNITS}},linewidth:{enumerable:!0,get:function(){return this.uniforms.linewidth.value},set:function(t){this.uniforms.linewidth.value=t}},dashed:{enumerable:!0,get:function(){return"USE_DASH"in this.defines},set(t){!!t!="USE_DASH"in this.defines&&(this.needsUpdate=!0),t===!0?this.defines.USE_DASH="":delete this.defines.USE_DASH}},dashScale:{enumerable:!0,get:function(){return this.uniforms.dashScale.value},set:function(t){this.uniforms.dashScale.value=t}},dashSize:{enumerable:!0,get:function(){return this.uniforms.dashSize.value},set:function(t){this.uniforms.dashSize.value=t}},dashOffset:{enumerable:!0,get:function(){return this.uniforms.dashOffset.value},set:function(t){this.uniforms.dashOffset.value=t}},gapSize:{enumerable:!0,get:function(){return this.uniforms.gapSize.value},set:function(t){this.uniforms.gapSize.value=t}},opacity:{enumerable:!0,get:function(){return this.uniforms.opacity.value},set:function(t){this.uniforms.opacity.value=t}},resolution:{enumerable:!0,get:function(){return this.uniforms.resolution.value},set:function(t){this.uniforms.resolution.value.copy(t)}},alphaToCoverage:{enumerable:!0,get:function(){return"USE_ALPHA_TO_COVERAGE"in this.defines},set:function(t){!!t!="USE_ALPHA_TO_COVERAGE"in this.defines&&(this.needsUpdate=!0),t===!0?(this.defines.USE_ALPHA_TO_COVERAGE="",this.extensions.derivatives=!0):(delete this.defines.USE_ALPHA_TO_COVERAGE,this.extensions.derivatives=!1)}}}),this.setValues(e)}}const HA=new Cr,bD=new Oe,xD=new Oe,vl=new Cr,yl=new Cr,Ed=new Cr,$A=new Oe,VA=new ri,xl=new MB,SD=new Oe,Yx=new Wa,Kx=new Uo,Cd=new Cr;let Od,Gg;function wD(n,e,t){return Cd.set(0,0,-e,1).applyMatrix4(n.projectionMatrix),Cd.multiplyScalar(1/Cd.w),Cd.x=Gg/t.width,Cd.y=Gg/t.height,Cd.applyMatrix4(n.projectionMatrixInverse),Cd.multiplyScalar(1/Cd.w),Math.abs(Math.max(Cd.x,Cd.y))}function bte(n,e){const t=n.matrixWorld,i=n.geometry,r=i.attributes.instanceStart,s=i.attributes.instanceEnd,a=Math.min(i.instanceCount,r.count);for(let o=0,l=a;o<l;o++){xl.start.fromBufferAttribute(r,o),xl.end.fromBufferAttribute(s,o),xl.applyMatrix4(t);const c=new Oe,f=new Oe;Od.distanceSqToSegment(xl.start,xl.end,f,c),f.distanceTo(c)<Gg*.5&&e.push({point:f,pointOnLine:c,distance:Od.origin.distanceTo(f),object:n,face:null,faceIndex:o,uv:null,[b9]:null})}}function xte(n,e,t){const i=e.projectionMatrix,s=n.material.resolution,a=n.matrixWorld,o=n.geometry,l=o.attributes.instanceStart,c=o.attributes.instanceEnd,f=Math.min(o.instanceCount,l.count),h=-e.near;Od.at(1,Ed),Ed.w=1,Ed.applyMatrix4(e.matrixWorldInverse),Ed.applyMatrix4(i),Ed.multiplyScalar(1/Ed.w),Ed.x*=s.x/2,Ed.y*=s.y/2,Ed.z=0,$A.copy(Ed),VA.multiplyMatrices(e.matrixWorldInverse,a);for(let v=0,m=f;v<m;v++){if(vl.fromBufferAttribute(l,v),yl.fromBufferAttribute(c,v),vl.w=1,yl.w=1,vl.applyMatrix4(VA),yl.applyMatrix4(VA),vl.z>h&&yl.z>h)continue;if(vl.z>h){const S=vl.z-yl.z,T=(vl.z-h)/S;vl.lerp(yl,T)}else if(yl.z>h){const S=yl.z-vl.z,T=(yl.z-h)/S;yl.lerp(vl,T)}vl.applyMatrix4(i),yl.applyMatrix4(i),vl.multiplyScalar(1/vl.w),yl.multiplyScalar(1/yl.w),vl.x*=s.x/2,vl.y*=s.y/2,yl.x*=s.x/2,yl.y*=s.y/2,xl.start.copy(vl),xl.start.z=0,xl.end.copy(yl),xl.end.z=0;const g=xl.closestPointToPointParameter($A,!0);xl.at(g,SD);const y=z1.lerp(vl.z,yl.z,g),u=y>=-1&&y<=1,b=$A.distanceTo(SD)<Gg*.5;if(u&&b){xl.start.fromBufferAttribute(l,v),xl.end.fromBufferAttribute(c,v),xl.start.applyMatrix4(a),xl.end.applyMatrix4(a);const S=new Oe,T=new Oe;Od.distanceSqToSegment(xl.start,xl.end,T,S),t.push({point:T,pointOnLine:S,distance:Od.origin.distanceTo(T),object:n,face:null,faceIndex:v,uv:null,[b9]:null})}}}class M9 extends Xs{constructor(e=new V3,t=new W3({color:Math.random()*16777215})){super(e,t),this.isLineSegments2=!0,this.type="LineSegments2"}computeLineDistances(){const e=this.geometry,t=e.attributes.instanceStart,i=e.attributes.instanceEnd,r=new Float32Array(2*t.count);for(let a=0,o=0,l=t.count;a<l;a++,o+=2)bD.fromBufferAttribute(t,a),xD.fromBufferAttribute(i,a),r[o]=o===0?0:r[o-1],r[o+1]=r[o]+bD.distanceTo(xD);const s=new Gw(r,2,1);return e.setAttribute("instanceDistanceStart",new gu(s,1,0)),e.setAttribute("instanceDistanceEnd",new gu(s,1,1)),this}raycast(e,t){const i=this.material.worldUnits,r=e.camera;r===null&&!i&&console.error('LineSegments2: "Raycaster.camera" needs to be set in order to raycast against LineSegments2 while worldUnits is set to false.');const s=e.params.Line2!==void 0&&e.params.Line2.threshold||0;Od=e.ray;const a=this.matrixWorld,o=this.geometry,l=this.material;Gg=l.linewidth+s,o.boundingSphere===null&&o.computeBoundingSphere(),Kx.copy(o.boundingSphere).applyMatrix4(a);let c;if(i)c=Gg*.5;else{const h=Math.max(r.near,Kx.distanceToPoint(Od.origin));c=wD(r,h,l.resolution)}if(Kx.radius+=c,Od.intersectsSphere(Kx)===!1)return;o.boundingBox===null&&o.computeBoundingBox(),Yx.copy(o.boundingBox).applyMatrix4(a);let f;if(i)f=Gg*.5;else{const h=Math.max(r.near,Yx.distanceToPoint(Od.origin));f=wD(r,h,l.resolution)}Yx.expandByScalar(f),Od.intersectsBox(Yx)!==!1&&(i?bte(this,t):xte(this,r,t))}onBeforeRender(e){const t=this.material.uniforms;t&&t.resolution&&(e.getViewport(HA),this.material.uniforms.resolution.value.set(HA.z,HA.w))}}class Ste extends M9{constructor(e=new A9,t=new W3({color:Math.random()*16777215})){super(e,t),this.isLine2=!0,this.type="Line2"}}const wte=new Oe,Ete=new Oe,Cte=new Oe,Tte=(n,e,t)=>{const i=t.width/2,r=t.height/2;e.updateMatrixWorld(!1);const s=n.project(e);return s.x=s.x*i+i,s.y=-(s.y*r)+r,s},Ate=(n,e,t,i=1)=>{const r=wte.set(n.x/t.width*2-1,-(n.y/t.height)*2+1,i);return r.unproject(e),r},R9=(n,e,t,i)=>{const r=Tte(Cte.copy(n),t,i);let s=0;for(let a=0;a<2;++a){const o=Ete.copy(r).setComponent(a,r.getComponent(a)+e),l=Ate(o,t,i,o.z);s=Math.max(s,n.distanceTo(l))}return s},qw=H.forwardRef(function({points:e,color:t=16777215,vertexColors:i,linewidth:r,lineWidth:s,segments:a,dashed:o,...l},c){var f,h;const v=br(u=>u.size),m=H.useMemo(()=>a?new M9:new Ste,[a]),[_]=H.useState(()=>new W3),g=(i==null||(f=i[0])==null?void 0:f.length)===4?4:3,y=H.useMemo(()=>{const u=a?new V3:new A9,b=e.map(S=>{const T=Array.isArray(S);return S instanceof Oe||S instanceof Cr?[S.x,S.y,S.z]:S instanceof ln?[S.x,S.y,0]:T&&S.length===3?[S[0],S[1],S[2]]:T&&S.length===2?[S[0],S[1],0]:S});if(u.setPositions(b.flat()),i){t=16777215;const S=i.map(T=>T instanceof Zn?T.toArray():T);u.setColors(S.flat(),g)}return u},[e,a,i,g]);return H.useLayoutEffect(()=>{m.computeLineDistances()},[e,m]),H.useLayoutEffect(()=>{o?_.defines.USE_DASH="":delete _.defines.USE_DASH,_.needsUpdate=!0},[o,_]),H.useEffect(()=>()=>{y.dispose(),_.dispose()},[y]),H.createElement("primitive",Dr({object:m,ref:c},l),H.createElement("primitive",{object:y,attach:"geometry"}),H.createElement("primitive",Dr({object:_,attach:"material",color:t,vertexColors:!!i,resolution:[v.width,v.height],linewidth:(h=r??s)!==null&&h!==void 0?h:1,dashed:o,transparent:g===4},l)))});function Mte(){var n=Object.create(null);function e(r,s){var a=r.id,o=r.name,l=r.dependencies;l===void 0&&(l=[]);var c=r.init;c===void 0&&(c=function(){});var f=r.getTransferables;if(f===void 0&&(f=null),!n[a])try{l=l.map(function(v){return v&&v.isWorkerModule&&(e(v,function(m){if(m instanceof Error)throw m}),v=n[v.id].value),v}),c=i("<"+o+">.init",c),f&&(f=i("<"+o+">.getTransferables",f));var h=null;typeof c=="function"?h=c.apply(void 0,l):console.error("worker module init function failed to rehydrate"),n[a]={id:a,value:h,getTransferables:f},s(h)}catch(v){v&&v.noLog||console.error(v),s(v)}}function t(r,s){var a,o=r.id,l=r.args;(!n[o]||typeof n[o].value!="function")&&s(new Error("Worker module "+o+": not found or its 'init' did not return a function"));try{var c=(a=n[o]).value.apply(a,l);c&&typeof c.then=="function"?c.then(f,function(h){return s(h instanceof Error?h:new Error(""+h))}):f(c)}catch(h){s(h)}function f(h){try{var v=n[o].getTransferables&&n[o].getTransferables(h);(!v||!Array.isArray(v)||!v.length)&&(v=void 0),s(h,v)}catch(m){console.error(m),s(m)}}}function i(r,s){var a=void 0;self.troikaDefine=function(l){return a=l};var o=URL.createObjectURL(new Blob(["/** "+r.replace(/\*/g,"")+` **/

troikaDefine(
`+s+`
)`],{type:"application/javascript"}));try{importScripts(o)}catch(l){console.error(l)}return URL.revokeObjectURL(o),delete self.troikaDefine,a}self.addEventListener("message",function(r){var s=r.data,a=s.messageId,o=s.action,l=s.data;try{o==="registerModule"&&e(l,function(c){c instanceof Error?postMessage({messageId:a,success:!1,error:c.message}):postMessage({messageId:a,success:!0,result:{isCallable:typeof c=="function"}})}),o==="callModule"&&t(l,function(c,f){c instanceof Error?postMessage({messageId:a,success:!1,error:c.message}):postMessage({messageId:a,success:!0,result:c},f||void 0)})}catch(c){postMessage({messageId:a,success:!1,error:c.stack})}})}function Rte(n){var e=function(){for(var t=[],i=arguments.length;i--;)t[i]=arguments[i];return e._getInitResult().then(function(r){if(typeof r=="function")return r.apply(void 0,t);throw new Error("Worker module function was called but `init` did not return a callable function")})};return e._getInitResult=function(){var t=n.dependencies,i=n.init;t=Array.isArray(t)?t.map(function(s){return s&&(s=s.onMainThread||s,s._getInitResult&&(s=s._getInitResult())),s}):[];var r=Promise.all(t).then(function(s){return i.apply(null,s)});return e._getInitResult=function(){return r},r},e}var O9=function(){var n=!1;if(typeof window<"u"&&typeof window.document<"u")try{var e=new Worker(URL.createObjectURL(new Blob([""],{type:"application/javascript"})));e.terminate(),n=!0}catch(t){console.log("Troika createWorkerModule: web workers not allowed; falling back to main thread execution. Cause: ["+t.message+"]")}return O9=function(){return n},n},Ote=0,Lte=0,WA=!1,X_=Object.create(null),q_=Object.create(null),BM=Object.create(null);function py(n){if((!n||typeof n.init!="function")&&!WA)throw new Error("requires `options.init` function");var e=n.dependencies,t=n.init,i=n.getTransferables,r=n.workerId,s=Rte(n);r==null&&(r="#default");var a="workerModule"+ ++Ote,o=n.name||a,l=null;e=e&&e.map(function(f){return typeof f=="function"&&!f.workerModuleData&&(WA=!0,f=py({workerId:r,name:"<"+o+"> function dependency: "+f.name,init:`function(){return (
`+VS(f)+`
)}`}),WA=!1),f&&f.workerModuleData&&(f=f.workerModuleData),f});function c(){for(var f=[],h=arguments.length;h--;)f[h]=arguments[h];if(!O9())return s.apply(void 0,f);if(!l){l=ED(r,"registerModule",c.workerModuleData);var v=function(){l=null,q_[r].delete(v)};(q_[r]||(q_[r]=new Set)).add(v)}return l.then(function(m){var _=m.isCallable;if(_)return ED(r,"callModule",{id:a,args:f});throw new Error("Worker module function was called but `init` did not return a callable function")})}return c.workerModuleData={isWorkerModule:!0,id:a,name:o,dependencies:e,init:VS(t),getTransferables:i&&VS(i)},c.onMainThread=s,c}function Pte(n){q_[n]&&q_[n].forEach(function(e){e()}),X_[n]&&(X_[n].terminate(),delete X_[n])}function VS(n){var e=n.toString();return!/^function/.test(e)&&/^\w+\s*\(/.test(e)&&(e="function "+e),e}function Ite(n){var e=X_[n];if(!e){var t=VS(Mte);e=X_[n]=new Worker(URL.createObjectURL(new Blob(["/** Worker Module Bootstrap: "+n.replace(/\*/g,"")+` **/

;(`+t+")()"],{type:"application/javascript"}))),e.onmessage=function(i){var r=i.data,s=r.messageId,a=BM[s];if(!a)throw new Error("WorkerModule response with empty or unknown messageId");delete BM[s],a(r)}}return e}function ED(n,e,t){return new Promise(function(i,r){var s=++Lte;BM[s]=function(a){a.success?i(a.result):r(new Error("Error in worker "+e+" call: "+a.error))},Ite(n).postMessage({messageId:s,action:e,data:t})})}function L9(){var n=(function(e){function t(oe,ne,ie,he,fe,ce,ae,ve){var _e=1-ae;ve.x=_e*_e*oe+2*_e*ae*ie+ae*ae*fe,ve.y=_e*_e*ne+2*_e*ae*he+ae*ae*ce}function i(oe,ne,ie,he,fe,ce,ae,ve,_e,Te){var Fe=1-_e;Te.x=Fe*Fe*Fe*oe+3*Fe*Fe*_e*ie+3*Fe*_e*_e*fe+_e*_e*_e*ae,Te.y=Fe*Fe*Fe*ne+3*Fe*Fe*_e*he+3*Fe*_e*_e*ce+_e*_e*_e*ve}function r(oe,ne){for(var ie=/([MLQCZ])([^MLQCZ]*)/g,he,fe,ce,ae,ve;he=ie.exec(oe);){var _e=he[2].replace(/^\s*|\s*$/g,"").split(/[,\s]+/).map(function(Te){return parseFloat(Te)});switch(he[1]){case"M":ae=fe=_e[0],ve=ce=_e[1];break;case"L":(_e[0]!==ae||_e[1]!==ve)&&ne("L",ae,ve,ae=_e[0],ve=_e[1]);break;case"Q":{ne("Q",ae,ve,ae=_e[2],ve=_e[3],_e[0],_e[1]);break}case"C":{ne("C",ae,ve,ae=_e[4],ve=_e[5],_e[0],_e[1],_e[2],_e[3]);break}case"Z":(ae!==fe||ve!==ce)&&ne("L",ae,ve,fe,ce);break}}}function s(oe,ne,ie){ie===void 0&&(ie=16);var he={x:0,y:0};r(oe,function(fe,ce,ae,ve,_e,Te,Fe,We,ht){switch(fe){case"L":ne(ce,ae,ve,_e);break;case"Q":{for(var ft=ce,Bt=ae,Me=1;Me<ie;Me++)t(ce,ae,Te,Fe,ve,_e,Me/(ie-1),he),ne(ft,Bt,he.x,he.y),ft=he.x,Bt=he.y;break}case"C":{for(var yt=ce,mt=ae,St=1;St<ie;St++)i(ce,ae,Te,Fe,We,ht,ve,_e,St/(ie-1),he),ne(yt,mt,he.x,he.y),yt=he.x,mt=he.y;break}}})}var a="precision highp float;attribute vec2 aUV;varying vec2 vUV;void main(){vUV=aUV;gl_Position=vec4(mix(vec2(-1.0),vec2(1.0),aUV),0.0,1.0);}",o="precision highp float;uniform sampler2D tex;varying vec2 vUV;void main(){gl_FragColor=texture2D(tex,vUV);}",l=new WeakMap,c={premultipliedAlpha:!1,preserveDrawingBuffer:!0,antialias:!1,depth:!1};function f(oe,ne){var ie=oe.getContext?oe.getContext("webgl",c):oe,he=l.get(ie);if(!he){let yt=function(Ke){var Et=ce[Ke];if(!Et&&(Et=ce[Ke]=ie.getExtension(Ke),!Et))throw new Error(Ke+" not supported");return Et},mt=function(Ke,Et){var ye=ie.createShader(Et);return ie.shaderSource(ye,Ke),ie.compileShader(ye),ye},St=function(Ke,Et,ye,me){if(!ae[Ke]){var Le={},it={},Qe=ie.createProgram();ie.attachShader(Qe,mt(Et,ie.VERTEX_SHADER)),ie.attachShader(Qe,mt(ye,ie.FRAGMENT_SHADER)),ie.linkProgram(Qe),ae[Ke]={program:Qe,transaction:function(At){ie.useProgram(Qe),At({setUniform:function(on,fn){for(var xt=[],kt=arguments.length-2;kt-- >0;)xt[kt]=arguments[kt+2];var Xt=it[fn]||(it[fn]=ie.getUniformLocation(Qe,fn));ie["uniform"+on].apply(ie,[Xt].concat(xt))},setAttribute:function(on,fn,xt,kt,Xt){var Ve=Le[on];Ve||(Ve=Le[on]={buf:ie.createBuffer(),loc:ie.getAttribLocation(Qe,on),data:null}),ie.bindBuffer(ie.ARRAY_BUFFER,Ve.buf),ie.vertexAttribPointer(Ve.loc,fn,ie.FLOAT,!1,0,0),ie.enableVertexAttribArray(Ve.loc),fe?ie.vertexAttribDivisor(Ve.loc,kt):yt("ANGLE_instanced_arrays").vertexAttribDivisorANGLE(Ve.loc,kt),Xt!==Ve.data&&(ie.bufferData(ie.ARRAY_BUFFER,Xt,xt),Ve.data=Xt)}})}}}ae[Ke].transaction(me)},nt=function(Ke,Et){_e++;try{ie.activeTexture(ie.TEXTURE0+_e);var ye=ve[Ke];ye||(ye=ve[Ke]=ie.createTexture(),ie.bindTexture(ie.TEXTURE_2D,ye),ie.texParameteri(ie.TEXTURE_2D,ie.TEXTURE_MIN_FILTER,ie.NEAREST),ie.texParameteri(ie.TEXTURE_2D,ie.TEXTURE_MAG_FILTER,ie.NEAREST)),ie.bindTexture(ie.TEXTURE_2D,ye),Et(ye,_e)}finally{_e--}},Ft=function(Ke,Et,ye){var me=ie.createFramebuffer();Te.push(me),ie.bindFramebuffer(ie.FRAMEBUFFER,me),ie.activeTexture(ie.TEXTURE0+Et),ie.bindTexture(ie.TEXTURE_2D,Ke),ie.framebufferTexture2D(ie.FRAMEBUFFER,ie.COLOR_ATTACHMENT0,ie.TEXTURE_2D,Ke,0);try{ye(me)}finally{ie.deleteFramebuffer(me),ie.bindFramebuffer(ie.FRAMEBUFFER,Te[--Te.length-1]||null)}},qe=function(){ce={},ae={},ve={},_e=-1,Te.length=0};var Fe=yt,We=mt,ht=St,ft=nt,Bt=Ft,Me=qe,fe=typeof WebGL2RenderingContext<"u"&&ie instanceof WebGL2RenderingContext,ce={},ae={},ve={},_e=-1,Te=[];ie.canvas.addEventListener("webglcontextlost",function(Ke){qe(),Ke.preventDefault()},!1),l.set(ie,he={gl:ie,isWebGL2:fe,getExtension:yt,withProgram:St,withTexture:nt,withTextureFramebuffer:Ft,handleContextLoss:qe})}ne(he)}function h(oe,ne,ie,he,fe,ce,ae,ve){ae===void 0&&(ae=15),ve===void 0&&(ve=null),f(oe,function(_e){var Te=_e.gl,Fe=_e.withProgram,We=_e.withTexture;We("copy",function(ht,ft){Te.texImage2D(Te.TEXTURE_2D,0,Te.RGBA,fe,ce,0,Te.RGBA,Te.UNSIGNED_BYTE,ne),Fe("copy",a,o,function(Bt){var Me=Bt.setUniform,yt=Bt.setAttribute;yt("aUV",2,Te.STATIC_DRAW,0,new Float32Array([0,0,2,0,0,2])),Me("1i","image",ft),Te.bindFramebuffer(Te.FRAMEBUFFER,ve||null),Te.disable(Te.BLEND),Te.colorMask(ae&8,ae&4,ae&2,ae&1),Te.viewport(ie,he,fe,ce),Te.scissor(ie,he,fe,ce),Te.drawArrays(Te.TRIANGLES,0,3)})})})}function v(oe,ne,ie){var he=oe.width,fe=oe.height;f(oe,function(ce){var ae=ce.gl,ve=new Uint8Array(he*fe*4);ae.readPixels(0,0,he,fe,ae.RGBA,ae.UNSIGNED_BYTE,ve),oe.width=ne,oe.height=ie,h(ae,ve,0,0,he,fe)})}var m=Object.freeze({__proto__:null,withWebGLContext:f,renderImageData:h,resizeWebGLCanvasWithoutClearing:v});function _(oe,ne,ie,he,fe,ce){ce===void 0&&(ce=1);var ae=new Uint8Array(oe*ne),ve=he[2]-he[0],_e=he[3]-he[1],Te=[];s(ie,function(yt,mt,St,nt){Te.push({x1:yt,y1:mt,x2:St,y2:nt,minX:Math.min(yt,St),minY:Math.min(mt,nt),maxX:Math.max(yt,St),maxY:Math.max(mt,nt)})}),Te.sort(function(yt,mt){return yt.maxX-mt.maxX});for(var Fe=0;Fe<oe;Fe++)for(var We=0;We<ne;We++){var ht=Bt(he[0]+ve*(Fe+.5)/oe,he[1]+_e*(We+.5)/ne),ft=Math.pow(1-Math.abs(ht)/fe,ce)/2;ht<0&&(ft=1-ft),ft=Math.max(0,Math.min(255,Math.round(ft*255))),ae[We*oe+Fe]=ft}return ae;function Bt(yt,mt){for(var St=1/0,nt=1/0,Ft=Te.length;Ft--;){var qe=Te[Ft];if(qe.maxX+nt<=yt)break;if(yt+nt>qe.minX&&mt-nt<qe.maxY&&mt+nt>qe.minY){var Ke=u(yt,mt,qe.x1,qe.y1,qe.x2,qe.y2);Ke<St&&(St=Ke,nt=Math.sqrt(St))}}return Me(yt,mt)&&(nt=-nt),nt}function Me(yt,mt){for(var St=0,nt=Te.length;nt--;){var Ft=Te[nt];if(Ft.maxX<=yt)break;var qe=Ft.y1>mt!=Ft.y2>mt&&yt<(Ft.x2-Ft.x1)*(mt-Ft.y1)/(Ft.y2-Ft.y1)+Ft.x1;qe&&(St+=Ft.y1<Ft.y2?1:-1)}return St!==0}}function g(oe,ne,ie,he,fe,ce,ae,ve,_e,Te){ce===void 0&&(ce=1),ve===void 0&&(ve=0),_e===void 0&&(_e=0),Te===void 0&&(Te=0),y(oe,ne,ie,he,fe,ce,ae,null,ve,_e,Te)}function y(oe,ne,ie,he,fe,ce,ae,ve,_e,Te,Fe){ce===void 0&&(ce=1),_e===void 0&&(_e=0),Te===void 0&&(Te=0),Fe===void 0&&(Fe=0);for(var We=_(oe,ne,ie,he,fe,ce),ht=new Uint8Array(We.length*4),ft=0;ft<We.length;ft++)ht[ft*4+Fe]=We[ft];h(ae,ht,_e,Te,oe,ne,1<<3-Fe,ve)}function u(oe,ne,ie,he,fe,ce){var ae=fe-ie,ve=ce-he,_e=ae*ae+ve*ve,Te=_e?Math.max(0,Math.min(1,((oe-ie)*ae+(ne-he)*ve)/_e)):0,Fe=oe-(ie+Te*ae),We=ne-(he+Te*ve);return Fe*Fe+We*We}var b=Object.freeze({__proto__:null,generate:_,generateIntoCanvas:g,generateIntoFramebuffer:y}),S="precision highp float;uniform vec4 uGlyphBounds;attribute vec2 aUV;attribute vec4 aLineSegment;varying vec4 vLineSegment;varying vec2 vGlyphXY;void main(){vLineSegment=aLineSegment;vGlyphXY=mix(uGlyphBounds.xy,uGlyphBounds.zw,aUV);gl_Position=vec4(mix(vec2(-1.0),vec2(1.0),aUV),0.0,1.0);}",T="precision highp float;uniform vec4 uGlyphBounds;uniform float uMaxDistance;uniform float uExponent;varying vec4 vLineSegment;varying vec2 vGlyphXY;float absDistToSegment(vec2 point,vec2 lineA,vec2 lineB){vec2 lineDir=lineB-lineA;float lenSq=dot(lineDir,lineDir);float t=lenSq==0.0 ? 0.0 : clamp(dot(point-lineA,lineDir)/lenSq,0.0,1.0);vec2 linePt=lineA+t*lineDir;return distance(point,linePt);}void main(){vec4 seg=vLineSegment;vec2 p=vGlyphXY;float dist=absDistToSegment(p,seg.xy,seg.zw);float val=pow(1.0-clamp(dist/uMaxDistance,0.0,1.0),uExponent)*0.5;bool crossing=(seg.y>p.y!=seg.w>p.y)&&(p.x<(seg.z-seg.x)*(p.y-seg.y)/(seg.w-seg.y)+seg.x);bool crossingUp=crossing&&vLineSegment.y<vLineSegment.w;gl_FragColor=vec4(crossingUp ? 1.0/255.0 : 0.0,crossing&&!crossingUp ? 1.0/255.0 : 0.0,0.0,val);}",R="precision highp float;uniform sampler2D tex;varying vec2 vUV;void main(){vec4 color=texture2D(tex,vUV);bool inside=color.r!=color.g;float val=inside ? 1.0-color.a : color.a;gl_FragColor=vec4(val);}",O=new Float32Array([0,0,2,0,0,2]),C=null,I=!1,F={},M=new WeakMap;function D(oe){if(!I&&!V(oe))throw new Error("WebGL generation not supported")}function B(oe,ne,ie,he,fe,ce,ae){if(ce===void 0&&(ce=1),ae===void 0&&(ae=null),!ae&&(ae=C,!ae)){var ve=typeof OffscreenCanvas=="function"?new OffscreenCanvas(1,1):typeof document<"u"?document.createElement("canvas"):null;if(!ve)throw new Error("OffscreenCanvas or DOM canvas not supported");ae=C=ve.getContext("webgl",{depth:!1})}D(ae);var _e=new Uint8Array(oe*ne*4);f(ae,function(ht){var ft=ht.gl,Bt=ht.withTexture,Me=ht.withTextureFramebuffer;Bt("readable",function(yt,mt){ft.texImage2D(ft.TEXTURE_2D,0,ft.RGBA,oe,ne,0,ft.RGBA,ft.UNSIGNED_BYTE,null),Me(yt,mt,function(St){U(oe,ne,ie,he,fe,ce,ft,St,0,0,0),ft.readPixels(0,0,oe,ne,ft.RGBA,ft.UNSIGNED_BYTE,_e)})})});for(var Te=new Uint8Array(oe*ne),Fe=0,We=0;Fe<_e.length;Fe+=4)Te[We++]=_e[Fe];return Te}function j(oe,ne,ie,he,fe,ce,ae,ve,_e,Te){ce===void 0&&(ce=1),ve===void 0&&(ve=0),_e===void 0&&(_e=0),Te===void 0&&(Te=0),U(oe,ne,ie,he,fe,ce,ae,null,ve,_e,Te)}function U(oe,ne,ie,he,fe,ce,ae,ve,_e,Te,Fe){ce===void 0&&(ce=1),_e===void 0&&(_e=0),Te===void 0&&(Te=0),Fe===void 0&&(Fe=0),D(ae);var We=[];s(ie,function(ht,ft,Bt,Me){We.push(ht,ft,Bt,Me)}),We=new Float32Array(We),f(ae,function(ht){var ft=ht.gl,Bt=ht.isWebGL2,Me=ht.getExtension,yt=ht.withProgram,mt=ht.withTexture,St=ht.withTextureFramebuffer,nt=ht.handleContextLoss;if(mt("rawDistances",function(Ft,qe){(oe!==Ft._lastWidth||ne!==Ft._lastHeight)&&ft.texImage2D(ft.TEXTURE_2D,0,ft.RGBA,Ft._lastWidth=oe,Ft._lastHeight=ne,0,ft.RGBA,ft.UNSIGNED_BYTE,null),yt("main",S,T,function(Ke){var Et=Ke.setAttribute,ye=Ke.setUniform,me=!Bt&&Me("ANGLE_instanced_arrays"),Le=!Bt&&Me("EXT_blend_minmax");Et("aUV",2,ft.STATIC_DRAW,0,O),Et("aLineSegment",4,ft.DYNAMIC_DRAW,1,We),ye.apply(void 0,["4f","uGlyphBounds"].concat(he)),ye("1f","uMaxDistance",fe),ye("1f","uExponent",ce),St(Ft,qe,function(it){ft.enable(ft.BLEND),ft.colorMask(!0,!0,!0,!0),ft.viewport(0,0,oe,ne),ft.scissor(0,0,oe,ne),ft.blendFunc(ft.ONE,ft.ONE),ft.blendEquationSeparate(ft.FUNC_ADD,Bt?ft.MAX:Le.MAX_EXT),ft.clear(ft.COLOR_BUFFER_BIT),Bt?ft.drawArraysInstanced(ft.TRIANGLES,0,3,We.length/4):me.drawArraysInstancedANGLE(ft.TRIANGLES,0,3,We.length/4)})}),yt("post",a,R,function(Ke){Ke.setAttribute("aUV",2,ft.STATIC_DRAW,0,O),Ke.setUniform("1i","tex",qe),ft.bindFramebuffer(ft.FRAMEBUFFER,ve),ft.disable(ft.BLEND),ft.colorMask(Fe===0,Fe===1,Fe===2,Fe===3),ft.viewport(_e,Te,oe,ne),ft.scissor(_e,Te,oe,ne),ft.drawArrays(ft.TRIANGLES,0,3)})}),ft.isContextLost())throw nt(),new Error("webgl context lost")})}function V(oe){var ne=!oe||oe===C?F:oe.canvas||oe,ie=M.get(ne);if(ie===void 0){I=!0;var he=null;try{var fe=[97,106,97,61,99,137,118,80,80,118,137,99,61,97,106,97],ce=B(4,4,"M8,8L16,8L24,24L16,24Z",[0,0,32,32],24,1,oe);ie=ce&&fe.length===ce.length&&ce.every(function(ae,ve){return ae===fe[ve]}),ie||(he="bad trial run results",console.info(fe,ce))}catch(ae){ie=!1,he=ae.message}he&&console.warn("WebGL SDF generation not supported:",he),I=!1,M.set(ne,ie)}return ie}var k=Object.freeze({__proto__:null,generate:B,generateIntoCanvas:j,generateIntoFramebuffer:U,isSupported:V});function Z(oe,ne,ie,he,fe,ce){fe===void 0&&(fe=Math.max(he[2]-he[0],he[3]-he[1])/2),ce===void 0&&(ce=1);try{return B.apply(k,arguments)}catch(ae){return console.info("WebGL SDF generation failed, falling back to JS",ae),_.apply(b,arguments)}}function ee(oe,ne,ie,he,fe,ce,ae,ve,_e,Te){fe===void 0&&(fe=Math.max(he[2]-he[0],he[3]-he[1])/2),ce===void 0&&(ce=1),ve===void 0&&(ve=0),_e===void 0&&(_e=0),Te===void 0&&(Te=0);try{return j.apply(k,arguments)}catch(Fe){return console.info("WebGL SDF generation failed, falling back to JS",Fe),g.apply(b,arguments)}}return e.forEachPathCommand=r,e.generate=Z,e.generateIntoCanvas=ee,e.javascript=b,e.pathToLineSegments=s,e.webgl=k,e.webglUtils=m,Object.defineProperty(e,"__esModule",{value:!0}),e})({});return n}function Dte(){var n=(function(e){var t={R:"13k,1a,2,3,3,2+1j,ch+16,a+1,5+2,2+n,5,a,4,6+16,4+3,h+1b,4mo,179q,2+9,2+11,2i9+7y,2+68,4,3+4,5+13,4+3,2+4k,3+29,8+cf,1t+7z,w+17,3+3m,1t+3z,16o1+5r,8+30,8+mc,29+1r,29+4v,75+73",EN:"1c+9,3d+1,6,187+9,513,4+5,7+9,sf+j,175h+9,qw+q,161f+1d,4xt+a,25i+9",ES:"17,2,6dp+1,f+1,av,16vr,mx+1,4o,2",ET:"z+2,3h+3,b+1,ym,3e+1,2o,p4+1,8,6u,7c,g6,1wc,1n9+4,30+1b,2n,6d,qhx+1,h0m,a+1,49+2,63+1,4+1,6bb+3,12jj",AN:"16o+5,2j+9,2+1,35,ed,1ff2+9,87+u",CS:"18,2+1,b,2u,12k,55v,l,17v0,2,3,53,2+1,b",B:"a,3,f+2,2v,690",S:"9,2,k",WS:"c,k,4f4,1vk+a,u,1j,335",ON:"x+1,4+4,h+5,r+5,r+3,z,5+3,2+1,2+1,5,2+2,3+4,o,w,ci+1,8+d,3+d,6+8,2+g,39+1,9,6+1,2,33,b8,3+1,3c+1,7+1,5r,b,7h+3,sa+5,2,3i+6,jg+3,ur+9,2v,ij+1,9g+9,7+a,8m,4+1,49+x,14u,2+2,c+2,e+2,e+2,e+1,i+n,e+e,2+p,u+2,e+2,36+1,2+3,2+1,b,2+2,6+5,2,2,2,h+1,5+4,6+3,3+f,16+2,5+3l,3+81,1y+p,2+40,q+a,m+13,2r+ch,2+9e,75+hf,3+v,2+2w,6e+5,f+6,75+2a,1a+p,2+2g,d+5x,r+b,6+3,4+o,g,6+1,6+2,2k+1,4,2j,5h+z,1m+1,1e+f,t+2,1f+e,d+3,4o+3,2s+1,w,535+1r,h3l+1i,93+2,2s,b+1,3l+x,2v,4g+3,21+3,kz+1,g5v+1,5a,j+9,n+v,2,3,2+8,2+1,3+2,2,3,46+1,4+4,h+5,r+5,r+a,3h+2,4+6,b+4,78,1r+24,4+c,4,1hb,ey+6,103+j,16j+c,1ux+7,5+g,fsh,jdq+1t,4,57+2e,p1,1m,1m,1m,1m,4kt+1,7j+17,5+2r,d+e,3+e,2+e,2+10,m+4,w,1n+5,1q,4z+5,4b+rb,9+c,4+c,4+37,d+2g,8+b,l+b,5+1j,9+9,7+13,9+t,3+1,27+3c,2+29,2+3q,d+d,3+4,4+2,6+6,a+o,8+6,a+2,e+6,16+42,2+1i",BN:"0+8,6+d,2s+5,2+p,e,4m9,1kt+2,2b+5,5+5,17q9+v,7k,6p+8,6+1,119d+3,440+7,96s+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+75,6p+2rz,1ben+1,1ekf+1,1ekf+1",NSM:"lc+33,7o+6,7c+18,2,2+1,2+1,2,21+a,1d+k,h,2u+6,3+5,3+1,2+3,10,v+q,2k+a,1n+8,a,p+3,2+8,2+2,2+4,18+2,3c+e,2+v,1k,2,5+7,5,4+6,b+1,u,1n,5+3,9,l+1,r,3+1,1m,5+1,5+1,3+2,4,v+1,4,c+1,1m,5+4,2+1,5,l+1,n+5,2,1n,3,2+3,9,8+1,c+1,v,1q,d,1f,4,1m+2,6+2,2+3,8+1,c+1,u,1n,g+1,l+1,t+1,1m+1,5+3,9,l+1,u,21,8+2,2,2j,3+6,d+7,2r,3+8,c+5,23+1,s,2,2,1k+d,2+4,2+1,6+a,2+z,a,2v+3,2+5,2+1,3+1,q+1,5+2,h+3,e,3+1,7,g,jk+2,qb+2,u+2,u+1,v+1,1t+1,2+6,9,3+a,a,1a+2,3c+1,z,3b+2,5+1,a,7+2,64+1,3,1n,2+6,2,2,3+7,7+9,3,1d+g,1s+3,1d,2+4,2,6,15+8,d+1,x+3,3+1,2+2,1l,2+1,4,2+2,1n+7,3+1,49+2,2+c,2+6,5,7,4+1,5j+1l,2+4,k1+w,2db+2,3y,2p+v,ff+3,30+1,n9x+3,2+9,x+1,29+1,7l,4,5,q+1,6,48+1,r+h,e,13+7,q+a,1b+2,1d,3+3,3+1,14,1w+5,3+1,3+1,d,9,1c,1g,2+2,3+1,6+1,2,17+1,9,6n,3,5,fn5,ki+f,h+f,r2,6b,46+4,1af+2,2+1,6+3,15+2,5,4m+1,fy+3,as+1,4a+a,4x,1j+e,1l+2,1e+3,3+1,1y+2,11+4,2+7,1r,d+1,1h+8,b+3,3,2o+2,3,2+1,7,4h,4+7,m+1,1m+1,4,12+6,4+4,5g+7,3+2,2,o,2d+5,2,5+1,2+1,6n+3,7+1,2+1,s+1,2e+7,3,2+1,2z,2,3+5,2,2u+2,3+3,2+4,78+8,2+1,75+1,2,5,41+3,3+1,5,x+5,3+1,15+5,3+3,9,a+5,3+2,1b+c,2+1,bb+6,2+5,2d+l,3+6,2+1,2+1,3f+5,4,2+1,2+6,2,21+1,4,2,9o+1,f0c+4,1o+6,t5,1s+3,2a,f5l+1,43t+2,i+7,3+6,v+3,45+2,1j0+1i,5+1d,9,f,n+4,2+e,11t+6,2+g,3+6,2+1,2+4,7a+6,c6+3,15t+6,32+6,gzhy+6n",AL:"16w,3,2,e+1b,z+2,2+2s,g+1,8+1,b+m,2+t,s+2i,c+e,4h+f,1d+1e,1bwe+dp,3+3z,x+c,2+1,35+3y,2rm+z,5+7,b+5,dt+l,c+u,17nl+27,1t+27,4x+6n,3+d",LRO:"6ct",RLO:"6cu",LRE:"6cq",RLE:"6cr",PDF:"6cs",LRI:"6ee",RLI:"6ef",FSI:"6eg",PDI:"6eh"},i={},r={};i.L=1,r[1]="L",Object.keys(t).forEach(function(nt,Ft){i[nt]=1<<Ft+1,r[i[nt]]=nt}),Object.freeze(i);var s=i.LRI|i.RLI|i.FSI,a=i.L|i.R|i.AL,o=i.B|i.S|i.WS|i.ON|i.FSI|i.LRI|i.RLI|i.PDI,l=i.BN|i.RLE|i.LRE|i.RLO|i.LRO|i.PDF,c=i.S|i.WS|i.B|s|i.PDI|l,f=null;function h(){if(!f){f=new Map;var nt=function(qe){if(t.hasOwnProperty(qe)){var Ke=0;t[qe].split(",").forEach(function(Et){var ye=Et.split("+"),me=ye[0],Le=ye[1];me=parseInt(me,36),Le=Le?parseInt(Le,36):0,f.set(Ke+=me,i[qe]);for(var it=0;it<Le;it++)f.set(++Ke,i[qe])})}};for(var Ft in t)nt(Ft)}}function v(nt){return h(),f.get(nt.codePointAt(0))||i.L}function m(nt){return r[v(nt)]}var _={pairs:"14>1,1e>2,u>2,2wt>1,1>1,1ge>1,1wp>1,1j>1,f>1,hm>1,1>1,u>1,u6>1,1>1,+5,28>1,w>1,1>1,+3,b8>1,1>1,+3,1>3,-1>-1,3>1,1>1,+2,1s>1,1>1,x>1,th>1,1>1,+2,db>1,1>1,+3,3>1,1>1,+2,14qm>1,1>1,+1,4q>1,1e>2,u>2,2>1,+1",canonical:"6f1>-6dx,6dy>-6dx,6ec>-6ed,6ee>-6ed,6ww>2jj,-2ji>2jj,14r4>-1e7l,1e7m>-1e7l,1e7m>-1e5c,1e5d>-1e5b,1e5c>-14qx,14qy>-14qx,14vn>-1ecg,1ech>-1ecg,1edu>-1ecg,1eci>-1ecg,1eda>-1ecg,1eci>-1ecg,1eci>-168q,168r>-168q,168s>-14ye,14yf>-14ye"};function g(nt,Ft){var qe=36,Ke=0,Et=new Map,ye=Ft&&new Map,me;return nt.split(",").forEach(function Le(it){if(it.indexOf("+")!==-1)for(var Qe=+it;Qe--;)Le(me);else{me=it;var et=it.split(">"),At=et[0],Gt=et[1];At=String.fromCodePoint(Ke+=parseInt(At,qe)),Gt=String.fromCodePoint(Ke+=parseInt(Gt,qe)),Et.set(At,Gt),Ft&&ye.set(Gt,At)}}),{map:Et,reverseMap:ye}}var y,u,b;function S(){if(!y){var nt=g(_.pairs,!0),Ft=nt.map,qe=nt.reverseMap;y=Ft,u=qe,b=g(_.canonical,!1).map}}function T(nt){return S(),y.get(nt)||null}function R(nt){return S(),u.get(nt)||null}function O(nt){return S(),b.get(nt)||null}var C=i.L,I=i.R,F=i.EN,M=i.ES,D=i.ET,B=i.AN,j=i.CS,U=i.B,V=i.S,k=i.ON,Z=i.BN,ee=i.NSM,oe=i.AL,ne=i.LRO,ie=i.RLO,he=i.LRE,fe=i.RLE,ce=i.PDF,ae=i.LRI,ve=i.RLI,_e=i.FSI,Te=i.PDI;function Fe(nt,Ft){for(var qe=125,Ke=new Uint32Array(nt.length),Et=0;Et<nt.length;Et++)Ke[Et]=v(nt[Et]);var ye=new Map;function me(se,de){var le=Ke[se];Ke[se]=de,ye.set(le,ye.get(le)-1),le&o&&ye.set(o,ye.get(o)-1),ye.set(de,(ye.get(de)||0)+1),de&o&&ye.set(o,(ye.get(o)||0)+1)}for(var Le=new Uint8Array(nt.length),it=new Map,Qe=[],et=null,At=0;At<nt.length;At++)et||Qe.push(et={start:At,end:nt.length-1,level:Ft==="rtl"?1:Ft==="ltr"?0:G(At,!1)}),Ke[At]&U&&(et.end=At,et=null);for(var Gt=fe|he|ie|ne|s|Te|ce|U,on=function(se){return se+(se&1?1:2)},fn=function(se){return se+(se&1?2:1)},xt=0;xt<Qe.length;xt++){et=Qe[xt];var kt=[{_level:et.level,_override:0,_isolate:0}],Xt=void 0,Ve=0,lt=0,Qt=0;ye.clear();for(var Ye=et.start;Ye<=et.end;Ye++){var ct=Ke[Ye];if(Xt=kt[kt.length-1],ye.set(ct,(ye.get(ct)||0)+1),ct&o&&ye.set(o,(ye.get(o)||0)+1),ct&Gt)if(ct&(fe|he)){Le[Ye]=Xt._level;var Dt=(ct===fe?fn:on)(Xt._level);Dt<=qe&&!Ve&&!lt?kt.push({_level:Dt,_override:0,_isolate:0}):Ve||lt++}else if(ct&(ie|ne)){Le[Ye]=Xt._level;var Sn=(ct===ie?fn:on)(Xt._level);Sn<=qe&&!Ve&&!lt?kt.push({_level:Sn,_override:ct&ie?I:C,_isolate:0}):Ve||lt++}else if(ct&s){ct&_e&&(ct=G(Ye+1,!0)===1?ve:ae),Le[Ye]=Xt._level,Xt._override&&me(Ye,Xt._override);var qt=(ct===ve?fn:on)(Xt._level);qt<=qe&&Ve===0&&lt===0?(Qt++,kt.push({_level:qt,_override:0,_isolate:1,_isolInitIndex:Ye})):Ve++}else if(ct&Te){if(Ve>0)Ve--;else if(Qt>0){for(lt=0;!kt[kt.length-1]._isolate;)kt.pop();var wt=kt[kt.length-1]._isolInitIndex;wt!=null&&(it.set(wt,Ye),it.set(Ye,wt)),kt.pop(),Qt--}Xt=kt[kt.length-1],Le[Ye]=Xt._level,Xt._override&&me(Ye,Xt._override)}else ct&ce?(Ve===0&&(lt>0?lt--:!Xt._isolate&&kt.length>1&&(kt.pop(),Xt=kt[kt.length-1])),Le[Ye]=Xt._level):ct&U&&(Le[Ye]=et.level);else Le[Ye]=Xt._level,Xt._override&&ct!==Z&&me(Ye,Xt._override)}for(var dn=[],wn=null,Pn=et.start;Pn<=et.end;Pn++){var Wn=Ke[Pn];if(!(Wn&l)){var Ii=Le[Pn],Ei=Wn&s,Si=Wn===Te;wn&&Ii===wn._level?(wn._end=Pn,wn._endsWithIsolInit=Ei):dn.push(wn={_start:Pn,_end:Pn,_level:Ii,_startsWithPDI:Si,_endsWithIsolInit:Ei})}}for(var er=[],Zi=0;Zi<dn.length;Zi++){var Or=dn[Zi];if(!Or._startsWithPDI||Or._startsWithPDI&&!it.has(Or._start)){for(var Wr=[wn=Or],jr=void 0;wn&&wn._endsWithIsolInit&&(jr=it.get(wn._end))!=null;)for(var ti=Zi+1;ti<dn.length;ti++)if(dn[ti]._start===jr){Wr.push(wn=dn[ti]);break}for(var rr=[],zi=0;zi<Wr.length;zi++)for(var we=Wr[zi],Ie=we._start;Ie<=we._end;Ie++)rr.push(Ie);for(var tt=Le[rr[0]],Rt=et.level,Ot=rr[0]-1;Ot>=0;Ot--)if(!(Ke[Ot]&l)){Rt=Le[Ot];break}var Nt=rr[rr.length-1],gn=Le[Nt],nn=et.level;if(!(Ke[Nt]&s)){for(var be=Nt+1;be<=et.end;be++)if(!(Ke[be]&l)){nn=Le[be];break}}er.push({_seqIndices:rr,_sosType:Math.max(Rt,tt)%2?I:C,_eosType:Math.max(nn,gn)%2?I:C})}}for(var Ge=0;Ge<er.length;Ge++){var Ze=er[Ge],Be=Ze._seqIndices,ut=Ze._sosType,Ct=Ze._eosType,Pt=Le[Be[0]]&1?I:C;if(ye.get(ee))for(var en=0;en<Be.length;en++){var un=Be[en];if(Ke[un]&ee){for(var In=ut,Ln=en-1;Ln>=0;Ln--)if(!(Ke[Be[Ln]]&l)){In=Ke[Be[Ln]];break}me(un,In&(s|Te)?k:In)}}if(ye.get(F))for(var vn=0;vn<Be.length;vn++){var Bn=Be[vn];if(Ke[Bn]&F)for(var Xn=vn-1;Xn>=-1;Xn--){var Di=Xn===-1?ut:Ke[Be[Xn]];if(Di&a){Di===oe&&me(Bn,B);break}}}if(ye.get(oe))for(var Mn=0;Mn<Be.length;Mn++){var li=Be[Mn];Ke[li]&oe&&me(li,I)}if(ye.get(M)||ye.get(j))for(var Q=1;Q<Be.length-1;Q++){var Ni=Be[Q];if(Ke[Ni]&(M|j)){for(var Kn=0,ci=0,_t=Q-1;_t>=0&&(Kn=Ke[Be[_t]],!!(Kn&l));_t--);for(var ot=Q+1;ot<Be.length&&(ci=Ke[Be[ot]],!!(ci&l));ot++);Kn===ci&&(Ke[Ni]===M?Kn===F:Kn&(F|B))&&me(Ni,Kn)}}if(ye.get(F))for(var Cn=0;Cn<Be.length;Cn++){var Qn=Be[Cn];if(Ke[Qn]&F){for(var gi=Cn-1;gi>=0&&Ke[Be[gi]]&(D|l);gi--)me(Be[gi],F);for(Cn++;Cn<Be.length&&Ke[Be[Cn]]&(D|l|F);Cn++)Ke[Be[Cn]]!==F&&me(Be[Cn],F)}}if(ye.get(D)||ye.get(M)||ye.get(j))for(var zn=0;zn<Be.length;zn++){var Wi=Be[zn];if(Ke[Wi]&(D|M|j)){me(Wi,k);for(var Jt=zn-1;Jt>=0&&Ke[Be[Jt]]&l;Jt--)me(Be[Jt],k);for(var es=zn+1;es<Be.length&&Ke[Be[es]]&l;es++)me(Be[es],k)}}if(ye.get(F))for(var xs=0,Ks=ut;xs<Be.length;xs++){var Nr=Be[xs],Os=Ke[Nr];Os&F?Ks===C&&me(Nr,C):Os&a&&(Ks=Os)}if(ye.get(o)){var Zs=I|F|B,ro=Zs|C,Ss=[];{for(var _a=[],us=0;us<Be.length;us++)if(Ke[Be[us]]&o){var ws=nt[Be[us]],ja=void 0;if(T(ws)!==null)if(_a.length<63)_a.push({char:ws,seqIndex:us});else break;else if((ja=R(ws))!==null)for(var na=_a.length-1;na>=0;na--){var La=_a[na].char;if(La===ja||La===R(O(ws))||T(O(La))===ws){Ss.push([_a[na].seqIndex,us]),_a.length=na;break}}}Ss.sort(function(se,de){return se[0]-de[0]})}for(var Xa=0;Xa<Ss.length;Xa++){for(var Pa=Ss[Xa],Qs=Pa[0],so=Pa[1],da=!1,hs=0,ko=Qs+1;ko<so;ko++){var So=Be[ko];if(Ke[So]&ro){da=!0;var wo=Ke[So]&Zs?I:C;if(wo===Pt){hs=wo;break}}}if(da&&!hs){hs=ut;for(var ia=Qs-1;ia>=0;ia--){var Es=Be[ia];if(Ke[Es]&ro){var Hr=Ke[Es]&Zs?I:C;Hr!==Pt?hs=Hr:hs=Pt;break}}}if(hs){if(Ke[Be[Qs]]=Ke[Be[so]]=hs,hs!==Pt){for(var Xr=Qs+1;Xr<Be.length;Xr++)if(!(Ke[Be[Xr]]&l)){v(nt[Be[Xr]])&ee&&(Ke[Be[Xr]]=hs);break}}if(hs!==Pt){for(var fr=so+1;fr<Be.length;fr++)if(!(Ke[Be[fr]]&l)){v(nt[Be[fr]])&ee&&(Ke[Be[fr]]=hs);break}}}}for(var ss=0;ss<Be.length;ss++)if(Ke[Be[ss]]&o){for(var ba=ss,Ia=ss,Ls=ut,Tn=ss-1;Tn>=0;Tn--)if(Ke[Be[Tn]]&l)ba=Tn;else{Ls=Ke[Be[Tn]]&Zs?I:C;break}for(var A=Ct,z=ss+1;z<Be.length;z++)if(Ke[Be[z]]&(o|l))Ia=z;else{A=Ke[Be[z]]&Zs?I:C;break}for(var re=ba;re<=Ia;re++)Ke[Be[re]]=Ls===A?Ls:Pt;ss=Ia}}}for(var te=et.start;te<=et.end;te++){var Ae=Le[te],ke=Ke[te];if(Ae&1?ke&(C|F|B)&&Le[te]++:ke&I?Le[te]++:ke&(B|F)&&(Le[te]+=2),ke&l&&(Le[te]=te===0?et.level:Le[te-1]),te===et.end||v(nt[te])&(V|U))for(var P=te;P>=0&&v(nt[P])&c;P--)Le[P]=et.level}}return{levels:Le,paragraphs:Qe};function G(se,de){for(var le=se;le<nt.length;le++){var Se=Ke[le];if(Se&(I|oe))return 1;if(Se&(U|C)||de&&Se===Te)return 0;if(Se&s){var je=Y(le);le=je===-1?nt.length:je}}return 0}function Y(se){for(var de=1,le=se+1;le<nt.length;le++){var Se=Ke[le];if(Se&U)break;if(Se&Te){if(--de===0)return le}else Se&s&&de++}return-1}}var We="14>1,j>2,t>2,u>2,1a>g,2v3>1,1>1,1ge>1,1wd>1,b>1,1j>1,f>1,ai>3,-2>3,+1,8>1k0,-1jq>1y7,-1y6>1hf,-1he>1h6,-1h5>1ha,-1h8>1qi,-1pu>1,6>3u,-3s>7,6>1,1>1,f>1,1>1,+2,3>1,1>1,+13,4>1,1>1,6>1eo,-1ee>1,3>1mg,-1me>1mk,-1mj>1mi,-1mg>1mi,-1md>1,1>1,+2,1>10k,-103>1,1>1,4>1,5>1,1>1,+10,3>1,1>8,-7>8,+1,-6>7,+1,a>1,1>1,u>1,u6>1,1>1,+5,26>1,1>1,2>1,2>2,8>1,7>1,4>1,1>1,+5,b8>1,1>1,+3,1>3,-2>1,2>1,1>1,+2,c>1,3>1,1>1,+2,h>1,3>1,a>1,1>1,2>1,3>1,1>1,d>1,f>1,3>1,1a>1,1>1,6>1,7>1,13>1,k>1,1>1,+19,4>1,1>1,+2,2>1,1>1,+18,m>1,a>1,1>1,lk>1,1>1,4>1,2>1,f>1,3>1,1>1,+3,db>1,1>1,+3,3>1,1>1,+2,14qm>1,1>1,+1,6>1,4j>1,j>2,t>2,u>2,2>1,+1",ht;function ft(){if(!ht){var nt=g(We,!0),Ft=nt.map,qe=nt.reverseMap;qe.forEach(function(Ke,Et){Ft.set(Et,Ke)}),ht=Ft}}function Bt(nt){return ft(),ht.get(nt)||null}function Me(nt,Ft,qe,Ke){var Et=nt.length;qe=Math.max(0,qe==null?0:+qe),Ke=Math.min(Et-1,Ke==null?Et-1:+Ke);for(var ye=new Map,me=qe;me<=Ke;me++)if(Ft[me]&1){var Le=Bt(nt[me]);Le!==null&&ye.set(me,Le)}return ye}function yt(nt,Ft,qe,Ke){var Et=nt.length;qe=Math.max(0,qe==null?0:+qe),Ke=Math.min(Et-1,Ke==null?Et-1:+Ke);var ye=[];return Ft.paragraphs.forEach(function(me){var Le=Math.max(qe,me.start),it=Math.min(Ke,me.end);if(Le<it){for(var Qe=Ft.levels.slice(Le,it+1),et=it;et>=Le&&v(nt[et])&c;et--)Qe[et]=me.level;for(var At=me.level,Gt=1/0,on=0;on<Qe.length;on++){var fn=Qe[on];fn>At&&(At=fn),fn<Gt&&(Gt=fn|1)}for(var xt=At;xt>=Gt;xt--)for(var kt=0;kt<Qe.length;kt++)if(Qe[kt]>=xt){for(var Xt=kt;kt+1<Qe.length&&Qe[kt+1]>=xt;)kt++;kt>Xt&&ye.push([Xt+Le,kt+Le])}}}),ye}function mt(nt,Ft,qe,Ke){var Et=St(nt,Ft,qe,Ke),ye=[].concat(nt);return Et.forEach(function(me,Le){ye[Le]=(Ft.levels[me]&1?Bt(nt[me]):null)||nt[me]}),ye.join("")}function St(nt,Ft,qe,Ke){for(var Et=yt(nt,Ft,qe,Ke),ye=[],me=0;me<nt.length;me++)ye[me]=me;return Et.forEach(function(Le){for(var it=Le[0],Qe=Le[1],et=ye.slice(it,Qe+1),At=et.length;At--;)ye[Qe-At]=et[At]}),ye}return e.closingToOpeningBracket=R,e.getBidiCharType=v,e.getBidiCharTypeName=m,e.getCanonicalBracket=O,e.getEmbeddingLevels=Fe,e.getMirroredCharacter=Bt,e.getMirroredCharactersMap=Me,e.getReorderSegments=yt,e.getReorderedIndices=St,e.getReorderedString=mt,e.openingToClosingBracket=T,Object.defineProperty(e,"__esModule",{value:!0}),e})({});return n}const P9=/\bvoid\s+main\s*\(\s*\)\s*{/g;function zM(n){const e=/^[ \t]*#include +<([\w\d./]+)>/gm;function t(i,r){let s=yr[r];return s?zM(s):i}return n.replace(e,t)}const bl=[];for(let n=0;n<256;n++)bl[n]=(n<16?"0":"")+n.toString(16);function Nte(){const n=Math.random()*4294967295|0,e=Math.random()*4294967295|0,t=Math.random()*4294967295|0,i=Math.random()*4294967295|0;return(bl[n&255]+bl[n>>8&255]+bl[n>>16&255]+bl[n>>24&255]+"-"+bl[e&255]+bl[e>>8&255]+"-"+bl[e>>16&15|64]+bl[e>>24&255]+"-"+bl[t&63|128]+bl[t>>8&255]+"-"+bl[t>>16&255]+bl[t>>24&255]+bl[i&255]+bl[i>>8&255]+bl[i>>16&255]+bl[i>>24&255]).toUpperCase()}const hg=Object.assign||function(){let n=arguments[0];for(let e=1,t=arguments.length;e<t;e++){let i=arguments[e];if(i)for(let r in i)Object.prototype.hasOwnProperty.call(i,r)&&(n[r]=i[r])}return n},Fte=Date.now(),CD=new WeakMap,TD=new Map;let Ute=1e10;function GM(n,e){const t=Gte(e);let i=CD.get(n);if(i||CD.set(n,i=Object.create(null)),i[t])return new i[t];const r=`_onBeforeCompile${t}`,s=function(c,f){n.onBeforeCompile.call(this,c,f);const h=this.customProgramCacheKey()+"|"+c.vertexShader+"|"+c.fragmentShader;let v=TD[h];if(!v){const m=kte(this,c,e,t);v=TD[h]=m}c.vertexShader=v.vertexShader,c.fragmentShader=v.fragmentShader,hg(c.uniforms,this.uniforms),e.timeUniform&&(c.uniforms[e.timeUniform]={get value(){return Date.now()-Fte}}),this[r]&&this[r](c)},a=function(){return o(e.chained?n:n.clone())},o=function(c){const f=Object.create(c,l);return Object.defineProperty(f,"baseMaterial",{value:n}),Object.defineProperty(f,"id",{value:Ute++}),f.uuid=Nte(),f.uniforms=hg({},c.uniforms,e.uniforms),f.defines=hg({},c.defines,e.defines),f.defines[`TROIKA_DERIVED_MATERIAL_${t}`]="",f.extensions=hg({},c.extensions,e.extensions),f._listeners=void 0,f},l={constructor:{value:a},isDerivedMaterial:{value:!0},type:{get:()=>n.type,set:c=>{n.type=c}},isDerivedFrom:{writable:!0,configurable:!0,value:function(c){const f=this.baseMaterial;return c===f||f.isDerivedMaterial&&f.isDerivedFrom(c)||!1}},customProgramCacheKey:{writable:!0,configurable:!0,value:function(){return n.customProgramCacheKey()+"|"+t}},onBeforeCompile:{get(){return s},set(c){this[r]=c}},copy:{writable:!0,configurable:!0,value:function(c){return n.copy.call(this,c),!n.isShaderMaterial&&!n.isDerivedMaterial&&(hg(this.extensions,c.extensions),hg(this.defines,c.defines),hg(this.uniforms,p1.clone(c.uniforms))),this}},clone:{writable:!0,configurable:!0,value:function(){const c=new n.constructor;return o(c).copy(this)}},getDepthMaterial:{writable:!0,configurable:!0,value:function(){let c=this._depthMaterial;return c||(c=this._depthMaterial=GM(n.isDerivedMaterial?n.getDepthMaterial():new hC({depthPacking:n3}),e),c.defines.IS_DEPTH_MATERIAL="",c.uniforms=this.uniforms),c}},getDistanceMaterial:{writable:!0,configurable:!0,value:function(){let c=this._distanceMaterial;return c||(c=this._distanceMaterial=GM(n.isDerivedMaterial?n.getDistanceMaterial():new dC,e),c.defines.IS_DISTANCE_MATERIAL="",c.uniforms=this.uniforms),c}},dispose:{writable:!0,configurable:!0,value(){const{_depthMaterial:c,_distanceMaterial:f}=this;c&&c.dispose(),f&&f.dispose(),n.dispose.call(this)}}};return i[t]=a,new a}function kte(n,{vertexShader:e,fragmentShader:t},i,r){let{vertexDefs:s,vertexMainIntro:a,vertexMainOutro:o,vertexTransform:l,fragmentDefs:c,fragmentMainIntro:f,fragmentMainOutro:h,fragmentColorTransform:v,customRewriter:m,timeUniform:_}=i;if(s=s||"",a=a||"",o=o||"",c=c||"",f=f||"",h=h||"",(l||m)&&(e=zM(e)),(v||m)&&(t=t.replace(/^[ \t]*#include <((?:tonemapping|encodings|colorspace|fog|premultiplied_alpha|dithering)_fragment)>/gm,`
//!BEGIN_POST_CHUNK $1
$&
//!END_POST_CHUNK
`),t=zM(t)),m){let g=m({vertexShader:e,fragmentShader:t});e=g.vertexShader,t=g.fragmentShader}if(v){let g=[];t=t.replace(/^\/\/!BEGIN_POST_CHUNK[^]+?^\/\/!END_POST_CHUNK/gm,y=>(g.push(y),"")),h=`${v}
${g.join(`
`)}
${h}`}if(_){const g=`
uniform float ${_};
`;s=g+s,c=g+c}return l&&(e=`vec3 troika_position_${r};
vec3 troika_normal_${r};
vec2 troika_uv_${r};
${e}
`,s=`${s}
void troikaVertexTransform${r}(inout vec3 position, inout vec3 normal, inout vec2 uv) {
  ${l}
}
`,a=`
troika_position_${r} = vec3(position);
troika_normal_${r} = vec3(normal);
troika_uv_${r} = vec2(uv);
troikaVertexTransform${r}(troika_position_${r}, troika_normal_${r}, troika_uv_${r});
${a}
`,e=e.replace(/\b(position|normal|uv)\b/g,(g,y,u,b)=>/\battribute\s+vec[23]\s+$/.test(b.substr(0,u))?y:`troika_${y}_${r}`),n.map&&n.map.channel>0||(e=e.replace(/\bMAP_UV\b/g,`troika_uv_${r}`))),e=AD(e,r,s,a,o),t=AD(t,r,c,f,h),{vertexShader:e,fragmentShader:t}}function AD(n,e,t,i,r){return(i||r||t)&&(n=n.replace(P9,`
${t}
void troikaOrigMain${e}() {`),n+=`
void main() {
  ${i}
  troikaOrigMain${e}();
  ${r}
}`),n}function Bte(n,e){return n==="uniforms"?void 0:typeof e=="function"?e.toString():e}let zte=0;const MD=new Map;function Gte(n){const e=JSON.stringify(n,Bte);let t=MD.get(e);return t==null&&MD.set(e,t=++zte),t}/*!
Custom build of Typr.ts (https://github.com/fredli74/Typr.ts) for use in Troika text rendering.
Original MIT license applies: https://github.com/fredli74/Typr.ts/blob/master/LICENSE
*/function Hte(){return typeof window>"u"&&(self.window=self),(function(n){var e={parse:function(r){var s=e._bin,a=new Uint8Array(r);if(s.readASCII(a,0,4)=="ttcf"){var o=4;s.readUshort(a,o),o+=2,s.readUshort(a,o),o+=2;var l=s.readUint(a,o);o+=4;for(var c=[],f=0;f<l;f++){var h=s.readUint(a,o);o+=4,c.push(e._readFont(a,h))}return c}return[e._readFont(a,0)]},_readFont:function(r,s){var a=e._bin,o=s;a.readFixed(r,s),s+=4;var l=a.readUshort(r,s);s+=2,a.readUshort(r,s),s+=2,a.readUshort(r,s),s+=2,a.readUshort(r,s),s+=2;for(var c=["cmap","head","hhea","maxp","hmtx","name","OS/2","post","loca","glyf","kern","CFF ","GDEF","GPOS","GSUB","SVG "],f={_data:r,_offset:o},h={},v=0;v<l;v++){var m=a.readASCII(r,s,4);s+=4,a.readUint(r,s),s+=4;var _=a.readUint(r,s);s+=4;var g=a.readUint(r,s);s+=4,h[m]={offset:_,length:g}}for(v=0;v<c.length;v++){var y=c[v];h[y]&&(f[y.trim()]=e[y.trim()].parse(r,h[y].offset,h[y].length,f))}return f},_tabOffset:function(r,s,a){for(var o=e._bin,l=o.readUshort(r,a+4),c=a+12,f=0;f<l;f++){var h=o.readASCII(r,c,4);c+=4,o.readUint(r,c),c+=4;var v=o.readUint(r,c);if(c+=4,o.readUint(r,c),c+=4,h==s)return v}return 0}};e._bin={readFixed:function(r,s){return(r[s]<<8|r[s+1])+(r[s+2]<<8|r[s+3])/65540},readF2dot14:function(r,s){return e._bin.readShort(r,s)/16384},readInt:function(r,s){return e._bin._view(r).getInt32(s)},readInt8:function(r,s){return e._bin._view(r).getInt8(s)},readShort:function(r,s){return e._bin._view(r).getInt16(s)},readUshort:function(r,s){return e._bin._view(r).getUint16(s)},readUshorts:function(r,s,a){for(var o=[],l=0;l<a;l++)o.push(e._bin.readUshort(r,s+2*l));return o},readUint:function(r,s){return e._bin._view(r).getUint32(s)},readUint64:function(r,s){return 4294967296*e._bin.readUint(r,s)+e._bin.readUint(r,s+4)},readASCII:function(r,s,a){for(var o="",l=0;l<a;l++)o+=String.fromCharCode(r[s+l]);return o},readUnicode:function(r,s,a){for(var o="",l=0;l<a;l++){var c=r[s++]<<8|r[s++];o+=String.fromCharCode(c)}return o},_tdec:typeof window<"u"&&window.TextDecoder?new window.TextDecoder:null,readUTF8:function(r,s,a){var o=e._bin._tdec;return o&&s==0&&a==r.length?o.decode(r):e._bin.readASCII(r,s,a)},readBytes:function(r,s,a){for(var o=[],l=0;l<a;l++)o.push(r[s+l]);return o},readASCIIArray:function(r,s,a){for(var o=[],l=0;l<a;l++)o.push(String.fromCharCode(r[s+l]));return o},_view:function(r){return r._dataView||(r._dataView=r.buffer?new DataView(r.buffer,r.byteOffset,r.byteLength):new DataView(new Uint8Array(r).buffer))}},e._lctf={},e._lctf.parse=function(r,s,a,o,l){var c=e._bin,f={},h=s;c.readFixed(r,s),s+=4;var v=c.readUshort(r,s);s+=2;var m=c.readUshort(r,s);s+=2;var _=c.readUshort(r,s);return s+=2,f.scriptList=e._lctf.readScriptList(r,h+v),f.featureList=e._lctf.readFeatureList(r,h+m),f.lookupList=e._lctf.readLookupList(r,h+_,l),f},e._lctf.readLookupList=function(r,s,a){var o=e._bin,l=s,c=[],f=o.readUshort(r,s);s+=2;for(var h=0;h<f;h++){var v=o.readUshort(r,s);s+=2;var m=e._lctf.readLookupTable(r,l+v,a);c.push(m)}return c},e._lctf.readLookupTable=function(r,s,a){var o=e._bin,l=s,c={tabs:[]};c.ltype=o.readUshort(r,s),s+=2,c.flag=o.readUshort(r,s),s+=2;var f=o.readUshort(r,s);s+=2;for(var h=c.ltype,v=0;v<f;v++){var m=o.readUshort(r,s);s+=2;var _=a(r,h,l+m,c);c.tabs.push(_)}return c},e._lctf.numOfOnes=function(r){for(var s=0,a=0;a<32;a++)(r>>>a&1)!=0&&s++;return s},e._lctf.readClassDef=function(r,s){var a=e._bin,o=[],l=a.readUshort(r,s);if(s+=2,l==1){var c=a.readUshort(r,s);s+=2;var f=a.readUshort(r,s);s+=2;for(var h=0;h<f;h++)o.push(c+h),o.push(c+h),o.push(a.readUshort(r,s)),s+=2}if(l==2){var v=a.readUshort(r,s);for(s+=2,h=0;h<v;h++)o.push(a.readUshort(r,s)),s+=2,o.push(a.readUshort(r,s)),s+=2,o.push(a.readUshort(r,s)),s+=2}return o},e._lctf.getInterval=function(r,s){for(var a=0;a<r.length;a+=3){var o=r[a],l=r[a+1];if(r[a+2],o<=s&&s<=l)return a}return-1},e._lctf.readCoverage=function(r,s){var a=e._bin,o={};o.fmt=a.readUshort(r,s),s+=2;var l=a.readUshort(r,s);return s+=2,o.fmt==1&&(o.tab=a.readUshorts(r,s,l)),o.fmt==2&&(o.tab=a.readUshorts(r,s,3*l)),o},e._lctf.coverageIndex=function(r,s){var a=r.tab;if(r.fmt==1)return a.indexOf(s);if(r.fmt==2){var o=e._lctf.getInterval(a,s);if(o!=-1)return a[o+2]+(s-a[o])}return-1},e._lctf.readFeatureList=function(r,s){var a=e._bin,o=s,l=[],c=a.readUshort(r,s);s+=2;for(var f=0;f<c;f++){var h=a.readASCII(r,s,4);s+=4;var v=a.readUshort(r,s);s+=2;var m=e._lctf.readFeatureTable(r,o+v);m.tag=h.trim(),l.push(m)}return l},e._lctf.readFeatureTable=function(r,s){var a=e._bin,o=s,l={},c=a.readUshort(r,s);s+=2,c>0&&(l.featureParams=o+c);var f=a.readUshort(r,s);s+=2,l.tab=[];for(var h=0;h<f;h++)l.tab.push(a.readUshort(r,s+2*h));return l},e._lctf.readScriptList=function(r,s){var a=e._bin,o=s,l={},c=a.readUshort(r,s);s+=2;for(var f=0;f<c;f++){var h=a.readASCII(r,s,4);s+=4;var v=a.readUshort(r,s);s+=2,l[h.trim()]=e._lctf.readScriptTable(r,o+v)}return l},e._lctf.readScriptTable=function(r,s){var a=e._bin,o=s,l={},c=a.readUshort(r,s);s+=2,c>0&&(l.default=e._lctf.readLangSysTable(r,o+c));var f=a.readUshort(r,s);s+=2;for(var h=0;h<f;h++){var v=a.readASCII(r,s,4);s+=4;var m=a.readUshort(r,s);s+=2,l[v.trim()]=e._lctf.readLangSysTable(r,o+m)}return l},e._lctf.readLangSysTable=function(r,s){var a=e._bin,o={};a.readUshort(r,s),s+=2,o.reqFeature=a.readUshort(r,s),s+=2;var l=a.readUshort(r,s);return s+=2,o.features=a.readUshorts(r,s,l),o},e.CFF={},e.CFF.parse=function(r,s,a){var o=e._bin;(r=new Uint8Array(r.buffer,s,a))[s=0],r[++s],r[++s],r[++s],s++;var l=[];s=e.CFF.readIndex(r,s,l);for(var c=[],f=0;f<l.length-1;f++)c.push(o.readASCII(r,s+l[f],l[f+1]-l[f]));s+=l[l.length-1];var h=[];s=e.CFF.readIndex(r,s,h);var v=[];for(f=0;f<h.length-1;f++)v.push(e.CFF.readDict(r,s+h[f],s+h[f+1]));s+=h[h.length-1];var m=v[0],_=[];s=e.CFF.readIndex(r,s,_);var g=[];for(f=0;f<_.length-1;f++)g.push(o.readASCII(r,s+_[f],_[f+1]-_[f]));if(s+=_[_.length-1],e.CFF.readSubrs(r,s,m),m.CharStrings){s=m.CharStrings,_=[],s=e.CFF.readIndex(r,s,_);var y=[];for(f=0;f<_.length-1;f++)y.push(o.readBytes(r,s+_[f],_[f+1]-_[f]));m.CharStrings=y}if(m.ROS){s=m.FDArray;var u=[];for(s=e.CFF.readIndex(r,s,u),m.FDArray=[],f=0;f<u.length-1;f++){var b=e.CFF.readDict(r,s+u[f],s+u[f+1]);e.CFF._readFDict(r,b,g),m.FDArray.push(b)}s+=u[u.length-1],s=m.FDSelect,m.FDSelect=[];var S=r[s];if(s++,S!=3)throw S;var T=o.readUshort(r,s);for(s+=2,f=0;f<T+1;f++)m.FDSelect.push(o.readUshort(r,s),r[s+2]),s+=3}return m.Encoding&&(m.Encoding=e.CFF.readEncoding(r,m.Encoding,m.CharStrings.length)),m.charset&&(m.charset=e.CFF.readCharset(r,m.charset,m.CharStrings.length)),e.CFF._readFDict(r,m,g),m},e.CFF._readFDict=function(r,s,a){var o;for(var l in s.Private&&(o=s.Private[1],s.Private=e.CFF.readDict(r,o,o+s.Private[0]),s.Private.Subrs&&e.CFF.readSubrs(r,o+s.Private.Subrs,s.Private)),s)["FamilyName","FontName","FullName","Notice","version","Copyright"].indexOf(l)!=-1&&(s[l]=a[s[l]-426+35])},e.CFF.readSubrs=function(r,s,a){var o=e._bin,l=[];s=e.CFF.readIndex(r,s,l);var c,f=l.length;c=f<1240?107:f<33900?1131:32768,a.Bias=c,a.Subrs=[];for(var h=0;h<l.length-1;h++)a.Subrs.push(o.readBytes(r,s+l[h],l[h+1]-l[h]))},e.CFF.tableSE=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,0,111,112,113,114,0,115,116,117,118,119,120,121,122,0,123,0,124,125,126,127,128,129,130,131,0,132,133,0,134,135,136,137,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,138,0,139,0,0,0,0,140,141,142,143,0,0,0,0,0,144,0,0,0,145,0,0,146,147,148,149,0,0,0,0],e.CFF.glyphByUnicode=function(r,s){for(var a=0;a<r.charset.length;a++)if(r.charset[a]==s)return a;return-1},e.CFF.glyphBySE=function(r,s){return s<0||s>255?-1:e.CFF.glyphByUnicode(r,e.CFF.tableSE[s])},e.CFF.readEncoding=function(r,s,a){e._bin;var o=[".notdef"],l=r[s];if(s++,l!=0)throw"error: unknown encoding format: "+l;var c=r[s];s++;for(var f=0;f<c;f++)o.push(r[s+f]);return o},e.CFF.readCharset=function(r,s,a){var o=e._bin,l=[".notdef"],c=r[s];if(s++,c==0)for(var f=0;f<a;f++){var h=o.readUshort(r,s);s+=2,l.push(h)}else{if(c!=1&&c!=2)throw"error: format: "+c;for(;l.length<a;){h=o.readUshort(r,s),s+=2;var v=0;for(c==1?(v=r[s],s++):(v=o.readUshort(r,s),s+=2),f=0;f<=v;f++)l.push(h),h++}}return l},e.CFF.readIndex=function(r,s,a){var o=e._bin,l=o.readUshort(r,s)+1,c=r[s+=2];if(s++,c==1)for(var f=0;f<l;f++)a.push(r[s+f]);else if(c==2)for(f=0;f<l;f++)a.push(o.readUshort(r,s+2*f));else if(c==3)for(f=0;f<l;f++)a.push(16777215&o.readUint(r,s+3*f-1));else if(l!=1)throw"unsupported offset size: "+c+", count: "+l;return(s+=l*c)-1},e.CFF.getCharString=function(r,s,a){var o=e._bin,l=r[s],c=r[s+1];r[s+2],r[s+3],r[s+4];var f=1,h=null,v=null;l<=20&&(h=l,f=1),l==12&&(h=100*l+c,f=2),21<=l&&l<=27&&(h=l,f=1),l==28&&(v=o.readShort(r,s+1),f=3),29<=l&&l<=31&&(h=l,f=1),32<=l&&l<=246&&(v=l-139,f=1),247<=l&&l<=250&&(v=256*(l-247)+c+108,f=2),251<=l&&l<=254&&(v=256*-(l-251)-c-108,f=2),l==255&&(v=o.readInt(r,s+1)/65535,f=5),a.val=v??"o"+h,a.size=f},e.CFF.readCharString=function(r,s,a){for(var o=s+a,l=e._bin,c=[];s<o;){var f=r[s],h=r[s+1];r[s+2],r[s+3],r[s+4];var v=1,m=null,_=null;f<=20&&(m=f,v=1),f==12&&(m=100*f+h,v=2),f!=19&&f!=20||(m=f,v=2),21<=f&&f<=27&&(m=f,v=1),f==28&&(_=l.readShort(r,s+1),v=3),29<=f&&f<=31&&(m=f,v=1),32<=f&&f<=246&&(_=f-139,v=1),247<=f&&f<=250&&(_=256*(f-247)+h+108,v=2),251<=f&&f<=254&&(_=256*-(f-251)-h-108,v=2),f==255&&(_=l.readInt(r,s+1)/65535,v=5),c.push(_??"o"+m),s+=v}return c},e.CFF.readDict=function(r,s,a){for(var o=e._bin,l={},c=[];s<a;){var f=r[s],h=r[s+1];r[s+2],r[s+3],r[s+4];var v=1,m=null,_=null;if(f==28&&(_=o.readShort(r,s+1),v=3),f==29&&(_=o.readInt(r,s+1),v=5),32<=f&&f<=246&&(_=f-139,v=1),247<=f&&f<=250&&(_=256*(f-247)+h+108,v=2),251<=f&&f<=254&&(_=256*-(f-251)-h-108,v=2),f==255)throw _=o.readInt(r,s+1)/65535,v=5,"unknown number";if(f==30){var g=[];for(v=1;;){var y=r[s+v];v++;var u=y>>4,b=15&y;if(u!=15&&g.push(u),b!=15&&g.push(b),b==15)break}for(var S="",T=[0,1,2,3,4,5,6,7,8,9,".","e","e-","reserved","-","endOfNumber"],R=0;R<g.length;R++)S+=T[g[R]];_=parseFloat(S)}f<=21&&(m=["version","Notice","FullName","FamilyName","Weight","FontBBox","BlueValues","OtherBlues","FamilyBlues","FamilyOtherBlues","StdHW","StdVW","escape","UniqueID","XUID","charset","Encoding","CharStrings","Private","Subrs","defaultWidthX","nominalWidthX"][f],v=1,f==12&&(m=["Copyright","isFixedPitch","ItalicAngle","UnderlinePosition","UnderlineThickness","PaintType","CharstringType","FontMatrix","StrokeWidth","BlueScale","BlueShift","BlueFuzz","StemSnapH","StemSnapV","ForceBold",0,0,"LanguageGroup","ExpansionFactor","initialRandomSeed","SyntheticBase","PostScript","BaseFontName","BaseFontBlend",0,0,0,0,0,0,"ROS","CIDFontVersion","CIDFontRevision","CIDFontType","CIDCount","UIDBase","FDArray","FDSelect","FontName"][h],v=2)),m!=null?(l[m]=c.length==1?c[0]:c,c=[]):c.push(_),s+=v}return l},e.cmap={},e.cmap.parse=function(r,s,a){r=new Uint8Array(r.buffer,s,a),s=0;var o=e._bin,l={};o.readUshort(r,s),s+=2;var c=o.readUshort(r,s);s+=2;var f=[];l.tables=[];for(var h=0;h<c;h++){var v=o.readUshort(r,s);s+=2;var m=o.readUshort(r,s);s+=2;var _=o.readUint(r,s);s+=4;var g="p"+v+"e"+m,y=f.indexOf(_);if(y==-1){var u;y=l.tables.length,f.push(_);var b=o.readUshort(r,_);b==0?u=e.cmap.parse0(r,_):b==4?u=e.cmap.parse4(r,_):b==6?u=e.cmap.parse6(r,_):b==12?u=e.cmap.parse12(r,_):console.debug("unknown format: "+b,v,m,_),l.tables.push(u)}if(l[g]!=null)throw"multiple tables for one platform+encoding";l[g]=y}return l},e.cmap.parse0=function(r,s){var a=e._bin,o={};o.format=a.readUshort(r,s),s+=2;var l=a.readUshort(r,s);s+=2,a.readUshort(r,s),s+=2,o.map=[];for(var c=0;c<l-6;c++)o.map.push(r[s+c]);return o},e.cmap.parse4=function(r,s){var a=e._bin,o=s,l={};l.format=a.readUshort(r,s),s+=2;var c=a.readUshort(r,s);s+=2,a.readUshort(r,s),s+=2;var f=a.readUshort(r,s);s+=2;var h=f/2;l.searchRange=a.readUshort(r,s),s+=2,l.entrySelector=a.readUshort(r,s),s+=2,l.rangeShift=a.readUshort(r,s),s+=2,l.endCount=a.readUshorts(r,s,h),s+=2*h,s+=2,l.startCount=a.readUshorts(r,s,h),s+=2*h,l.idDelta=[];for(var v=0;v<h;v++)l.idDelta.push(a.readShort(r,s)),s+=2;for(l.idRangeOffset=a.readUshorts(r,s,h),s+=2*h,l.glyphIdArray=[];s<o+c;)l.glyphIdArray.push(a.readUshort(r,s)),s+=2;return l},e.cmap.parse6=function(r,s){var a=e._bin,o={};o.format=a.readUshort(r,s),s+=2,a.readUshort(r,s),s+=2,a.readUshort(r,s),s+=2,o.firstCode=a.readUshort(r,s),s+=2;var l=a.readUshort(r,s);s+=2,o.glyphIdArray=[];for(var c=0;c<l;c++)o.glyphIdArray.push(a.readUshort(r,s)),s+=2;return o},e.cmap.parse12=function(r,s){var a=e._bin,o={};o.format=a.readUshort(r,s),s+=2,s+=2,a.readUint(r,s),s+=4,a.readUint(r,s),s+=4;var l=a.readUint(r,s);s+=4,o.groups=[];for(var c=0;c<l;c++){var f=s+12*c,h=a.readUint(r,f+0),v=a.readUint(r,f+4),m=a.readUint(r,f+8);o.groups.push([h,v,m])}return o},e.glyf={},e.glyf.parse=function(r,s,a,o){for(var l=[],c=0;c<o.maxp.numGlyphs;c++)l.push(null);return l},e.glyf._parseGlyf=function(r,s){var a=e._bin,o=r._data,l=e._tabOffset(o,"glyf",r._offset)+r.loca[s];if(r.loca[s]==r.loca[s+1])return null;var c={};if(c.noc=a.readShort(o,l),l+=2,c.xMin=a.readShort(o,l),l+=2,c.yMin=a.readShort(o,l),l+=2,c.xMax=a.readShort(o,l),l+=2,c.yMax=a.readShort(o,l),l+=2,c.xMin>=c.xMax||c.yMin>=c.yMax)return null;if(c.noc>0){c.endPts=[];for(var f=0;f<c.noc;f++)c.endPts.push(a.readUshort(o,l)),l+=2;var h=a.readUshort(o,l);if(l+=2,o.length-l<h)return null;c.instructions=a.readBytes(o,l,h),l+=h;var v=c.endPts[c.noc-1]+1;for(c.flags=[],f=0;f<v;f++){var m=o[l];if(l++,c.flags.push(m),(8&m)!=0){var _=o[l];l++;for(var g=0;g<_;g++)c.flags.push(m),f++}}for(c.xs=[],f=0;f<v;f++){var y=(2&c.flags[f])!=0,u=(16&c.flags[f])!=0;y?(c.xs.push(u?o[l]:-o[l]),l++):u?c.xs.push(0):(c.xs.push(a.readShort(o,l)),l+=2)}for(c.ys=[],f=0;f<v;f++)y=(4&c.flags[f])!=0,u=(32&c.flags[f])!=0,y?(c.ys.push(u?o[l]:-o[l]),l++):u?c.ys.push(0):(c.ys.push(a.readShort(o,l)),l+=2);var b=0,S=0;for(f=0;f<v;f++)b+=c.xs[f],S+=c.ys[f],c.xs[f]=b,c.ys[f]=S}else{var T;c.parts=[];do{T=a.readUshort(o,l),l+=2;var R={m:{a:1,b:0,c:0,d:1,tx:0,ty:0},p1:-1,p2:-1};if(c.parts.push(R),R.glyphIndex=a.readUshort(o,l),l+=2,1&T){var O=a.readShort(o,l);l+=2;var C=a.readShort(o,l);l+=2}else O=a.readInt8(o,l),l++,C=a.readInt8(o,l),l++;2&T?(R.m.tx=O,R.m.ty=C):(R.p1=O,R.p2=C),8&T?(R.m.a=R.m.d=a.readF2dot14(o,l),l+=2):64&T?(R.m.a=a.readF2dot14(o,l),l+=2,R.m.d=a.readF2dot14(o,l),l+=2):128&T&&(R.m.a=a.readF2dot14(o,l),l+=2,R.m.b=a.readF2dot14(o,l),l+=2,R.m.c=a.readF2dot14(o,l),l+=2,R.m.d=a.readF2dot14(o,l),l+=2)}while(32&T);if(256&T){var I=a.readUshort(o,l);for(l+=2,c.instr=[],f=0;f<I;f++)c.instr.push(o[l]),l++}}return c},e.GDEF={},e.GDEF.parse=function(r,s,a,o){var l=s;s+=4;var c=e._bin.readUshort(r,s);return{glyphClassDef:c===0?null:e._lctf.readClassDef(r,l+c)}},e.GPOS={},e.GPOS.parse=function(r,s,a,o){return e._lctf.parse(r,s,a,o,e.GPOS.subt)},e.GPOS.subt=function(r,s,a,o){var l=e._bin,c=a,f={};if(f.fmt=l.readUshort(r,a),a+=2,s==1||s==2||s==3||s==7||s==8&&f.fmt<=2){var h=l.readUshort(r,a);a+=2,f.coverage=e._lctf.readCoverage(r,h+c)}if(s==1&&f.fmt==1){var v=l.readUshort(r,a);a+=2,v!=0&&(f.pos=e.GPOS.readValueRecord(r,a,v))}else if(s==2&&f.fmt>=1&&f.fmt<=2){v=l.readUshort(r,a),a+=2;var m=l.readUshort(r,a);a+=2;var _=e._lctf.numOfOnes(v),g=e._lctf.numOfOnes(m);if(f.fmt==1){f.pairsets=[];var y=l.readUshort(r,a);a+=2;for(var u=0;u<y;u++){var b=c+l.readUshort(r,a);a+=2;var S=l.readUshort(r,b);b+=2;for(var T=[],R=0;R<S;R++){var O=l.readUshort(r,b);b+=2,v!=0&&(B=e.GPOS.readValueRecord(r,b,v),b+=2*_),m!=0&&(j=e.GPOS.readValueRecord(r,b,m),b+=2*g),T.push({gid2:O,val1:B,val2:j})}f.pairsets.push(T)}}if(f.fmt==2){var C=l.readUshort(r,a);a+=2;var I=l.readUshort(r,a);a+=2;var F=l.readUshort(r,a);a+=2;var M=l.readUshort(r,a);for(a+=2,f.classDef1=e._lctf.readClassDef(r,c+C),f.classDef2=e._lctf.readClassDef(r,c+I),f.matrix=[],u=0;u<F;u++){var D=[];for(R=0;R<M;R++){var B=null,j=null;v!=0&&(B=e.GPOS.readValueRecord(r,a,v),a+=2*_),m!=0&&(j=e.GPOS.readValueRecord(r,a,m),a+=2*g),D.push({val1:B,val2:j})}f.matrix.push(D)}}}else if(s==4&&f.fmt==1)f.markCoverage=e._lctf.readCoverage(r,l.readUshort(r,a)+c),f.baseCoverage=e._lctf.readCoverage(r,l.readUshort(r,a+2)+c),f.markClassCount=l.readUshort(r,a+4),f.markArray=e.GPOS.readMarkArray(r,l.readUshort(r,a+6)+c),f.baseArray=e.GPOS.readBaseArray(r,l.readUshort(r,a+8)+c,f.markClassCount);else if(s==6&&f.fmt==1)f.mark1Coverage=e._lctf.readCoverage(r,l.readUshort(r,a)+c),f.mark2Coverage=e._lctf.readCoverage(r,l.readUshort(r,a+2)+c),f.markClassCount=l.readUshort(r,a+4),f.mark1Array=e.GPOS.readMarkArray(r,l.readUshort(r,a+6)+c),f.mark2Array=e.GPOS.readBaseArray(r,l.readUshort(r,a+8)+c,f.markClassCount);else{if(s==9&&f.fmt==1){var U=l.readUshort(r,a);a+=2;var V=l.readUint(r,a);if(a+=4,o.ltype==9)o.ltype=U;else if(o.ltype!=U)throw"invalid extension substitution";return e.GPOS.subt(r,o.ltype,c+V)}console.debug("unsupported GPOS table LookupType",s,"format",f.fmt)}return f},e.GPOS.readValueRecord=function(r,s,a){var o=e._bin,l=[];return l.push(1&a?o.readShort(r,s):0),s+=1&a?2:0,l.push(2&a?o.readShort(r,s):0),s+=2&a?2:0,l.push(4&a?o.readShort(r,s):0),s+=4&a?2:0,l.push(8&a?o.readShort(r,s):0),s+=8&a?2:0,l},e.GPOS.readBaseArray=function(r,s,a){var o=e._bin,l=[],c=s,f=o.readUshort(r,s);s+=2;for(var h=0;h<f;h++){for(var v=[],m=0;m<a;m++)v.push(e.GPOS.readAnchorRecord(r,c+o.readUshort(r,s))),s+=2;l.push(v)}return l},e.GPOS.readMarkArray=function(r,s){var a=e._bin,o=[],l=s,c=a.readUshort(r,s);s+=2;for(var f=0;f<c;f++){var h=e.GPOS.readAnchorRecord(r,a.readUshort(r,s+2)+l);h.markClass=a.readUshort(r,s),o.push(h),s+=4}return o},e.GPOS.readAnchorRecord=function(r,s){var a=e._bin,o={};return o.fmt=a.readUshort(r,s),o.x=a.readShort(r,s+2),o.y=a.readShort(r,s+4),o},e.GSUB={},e.GSUB.parse=function(r,s,a,o){return e._lctf.parse(r,s,a,o,e.GSUB.subt)},e.GSUB.subt=function(r,s,a,o){var l=e._bin,c=a,f={};if(f.fmt=l.readUshort(r,a),a+=2,s!=1&&s!=2&&s!=4&&s!=5&&s!=6)return null;if(s==1||s==2||s==4||s==5&&f.fmt<=2||s==6&&f.fmt<=2){var h=l.readUshort(r,a);a+=2,f.coverage=e._lctf.readCoverage(r,c+h)}if(s==1&&f.fmt>=1&&f.fmt<=2){if(f.fmt==1)f.delta=l.readShort(r,a),a+=2;else if(f.fmt==2){var v=l.readUshort(r,a);a+=2,f.newg=l.readUshorts(r,a,v),a+=2*f.newg.length}}else if(s==2&&f.fmt==1){v=l.readUshort(r,a),a+=2,f.seqs=[];for(var m=0;m<v;m++){var _=l.readUshort(r,a)+c;a+=2;var g=l.readUshort(r,_);f.seqs.push(l.readUshorts(r,_+2,g))}}else if(s==4)for(f.vals=[],v=l.readUshort(r,a),a+=2,m=0;m<v;m++){var y=l.readUshort(r,a);a+=2,f.vals.push(e.GSUB.readLigatureSet(r,c+y))}else if(s==5&&f.fmt==2){if(f.fmt==2){var u=l.readUshort(r,a);a+=2,f.cDef=e._lctf.readClassDef(r,c+u),f.scset=[];var b=l.readUshort(r,a);for(a+=2,m=0;m<b;m++){var S=l.readUshort(r,a);a+=2,f.scset.push(S==0?null:e.GSUB.readSubClassSet(r,c+S))}}}else if(s==6&&f.fmt==3){if(f.fmt==3){for(m=0;m<3;m++){v=l.readUshort(r,a),a+=2;for(var T=[],R=0;R<v;R++)T.push(e._lctf.readCoverage(r,c+l.readUshort(r,a+2*R)));a+=2*v,m==0&&(f.backCvg=T),m==1&&(f.inptCvg=T),m==2&&(f.ahedCvg=T)}v=l.readUshort(r,a),a+=2,f.lookupRec=e.GSUB.readSubstLookupRecords(r,a,v)}}else{if(s==7&&f.fmt==1){var O=l.readUshort(r,a);a+=2;var C=l.readUint(r,a);if(a+=4,o.ltype==9)o.ltype=O;else if(o.ltype!=O)throw"invalid extension substitution";return e.GSUB.subt(r,o.ltype,c+C)}console.debug("unsupported GSUB table LookupType",s,"format",f.fmt)}return f},e.GSUB.readSubClassSet=function(r,s){var a=e._bin.readUshort,o=s,l=[],c=a(r,s);s+=2;for(var f=0;f<c;f++){var h=a(r,s);s+=2,l.push(e.GSUB.readSubClassRule(r,o+h))}return l},e.GSUB.readSubClassRule=function(r,s){var a=e._bin.readUshort,o={},l=a(r,s),c=a(r,s+=2);s+=2,o.input=[];for(var f=0;f<l-1;f++)o.input.push(a(r,s)),s+=2;return o.substLookupRecords=e.GSUB.readSubstLookupRecords(r,s,c),o},e.GSUB.readSubstLookupRecords=function(r,s,a){for(var o=e._bin.readUshort,l=[],c=0;c<a;c++)l.push(o(r,s),o(r,s+2)),s+=4;return l},e.GSUB.readChainSubClassSet=function(r,s){var a=e._bin,o=s,l=[],c=a.readUshort(r,s);s+=2;for(var f=0;f<c;f++){var h=a.readUshort(r,s);s+=2,l.push(e.GSUB.readChainSubClassRule(r,o+h))}return l},e.GSUB.readChainSubClassRule=function(r,s){for(var a=e._bin,o={},l=["backtrack","input","lookahead"],c=0;c<l.length;c++){var f=a.readUshort(r,s);s+=2,c==1&&f--,o[l[c]]=a.readUshorts(r,s,f),s+=2*o[l[c]].length}return f=a.readUshort(r,s),s+=2,o.subst=a.readUshorts(r,s,2*f),s+=2*o.subst.length,o},e.GSUB.readLigatureSet=function(r,s){var a=e._bin,o=s,l=[],c=a.readUshort(r,s);s+=2;for(var f=0;f<c;f++){var h=a.readUshort(r,s);s+=2,l.push(e.GSUB.readLigature(r,o+h))}return l},e.GSUB.readLigature=function(r,s){var a=e._bin,o={chain:[]};o.nglyph=a.readUshort(r,s),s+=2;var l=a.readUshort(r,s);s+=2;for(var c=0;c<l-1;c++)o.chain.push(a.readUshort(r,s)),s+=2;return o},e.head={},e.head.parse=function(r,s,a){var o=e._bin,l={};return o.readFixed(r,s),s+=4,l.fontRevision=o.readFixed(r,s),s+=4,o.readUint(r,s),s+=4,o.readUint(r,s),s+=4,l.flags=o.readUshort(r,s),s+=2,l.unitsPerEm=o.readUshort(r,s),s+=2,l.created=o.readUint64(r,s),s+=8,l.modified=o.readUint64(r,s),s+=8,l.xMin=o.readShort(r,s),s+=2,l.yMin=o.readShort(r,s),s+=2,l.xMax=o.readShort(r,s),s+=2,l.yMax=o.readShort(r,s),s+=2,l.macStyle=o.readUshort(r,s),s+=2,l.lowestRecPPEM=o.readUshort(r,s),s+=2,l.fontDirectionHint=o.readShort(r,s),s+=2,l.indexToLocFormat=o.readShort(r,s),s+=2,l.glyphDataFormat=o.readShort(r,s),s+=2,l},e.hhea={},e.hhea.parse=function(r,s,a){var o=e._bin,l={};return o.readFixed(r,s),s+=4,l.ascender=o.readShort(r,s),s+=2,l.descender=o.readShort(r,s),s+=2,l.lineGap=o.readShort(r,s),s+=2,l.advanceWidthMax=o.readUshort(r,s),s+=2,l.minLeftSideBearing=o.readShort(r,s),s+=2,l.minRightSideBearing=o.readShort(r,s),s+=2,l.xMaxExtent=o.readShort(r,s),s+=2,l.caretSlopeRise=o.readShort(r,s),s+=2,l.caretSlopeRun=o.readShort(r,s),s+=2,l.caretOffset=o.readShort(r,s),s+=2,s+=8,l.metricDataFormat=o.readShort(r,s),s+=2,l.numberOfHMetrics=o.readUshort(r,s),s+=2,l},e.hmtx={},e.hmtx.parse=function(r,s,a,o){for(var l=e._bin,c={aWidth:[],lsBearing:[]},f=0,h=0,v=0;v<o.maxp.numGlyphs;v++)v<o.hhea.numberOfHMetrics&&(f=l.readUshort(r,s),s+=2,h=l.readShort(r,s),s+=2),c.aWidth.push(f),c.lsBearing.push(h);return c},e.kern={},e.kern.parse=function(r,s,a,o){var l=e._bin,c=l.readUshort(r,s);if(s+=2,c==1)return e.kern.parseV1(r,s-2,a,o);var f=l.readUshort(r,s);s+=2;for(var h={glyph1:[],rval:[]},v=0;v<f;v++){s+=2,a=l.readUshort(r,s),s+=2;var m=l.readUshort(r,s);s+=2;var _=m>>>8;if((_&=15)!=0)throw"unknown kern table format: "+_;s=e.kern.readFormat0(r,s,h)}return h},e.kern.parseV1=function(r,s,a,o){var l=e._bin;l.readFixed(r,s),s+=4;var c=l.readUint(r,s);s+=4;for(var f={glyph1:[],rval:[]},h=0;h<c;h++){l.readUint(r,s),s+=4;var v=l.readUshort(r,s);s+=2,l.readUshort(r,s),s+=2;var m=v>>>8;if((m&=15)!=0)throw"unknown kern table format: "+m;s=e.kern.readFormat0(r,s,f)}return f},e.kern.readFormat0=function(r,s,a){var o=e._bin,l=-1,c=o.readUshort(r,s);s+=2,o.readUshort(r,s),s+=2,o.readUshort(r,s),s+=2,o.readUshort(r,s),s+=2;for(var f=0;f<c;f++){var h=o.readUshort(r,s);s+=2;var v=o.readUshort(r,s);s+=2;var m=o.readShort(r,s);s+=2,h!=l&&(a.glyph1.push(h),a.rval.push({glyph2:[],vals:[]}));var _=a.rval[a.rval.length-1];_.glyph2.push(v),_.vals.push(m),l=h}return s},e.loca={},e.loca.parse=function(r,s,a,o){var l=e._bin,c=[],f=o.head.indexToLocFormat,h=o.maxp.numGlyphs+1;if(f==0)for(var v=0;v<h;v++)c.push(l.readUshort(r,s+(v<<1))<<1);if(f==1)for(v=0;v<h;v++)c.push(l.readUint(r,s+(v<<2)));return c},e.maxp={},e.maxp.parse=function(r,s,a){var o=e._bin,l={},c=o.readUint(r,s);return s+=4,l.numGlyphs=o.readUshort(r,s),s+=2,c==65536&&(l.maxPoints=o.readUshort(r,s),s+=2,l.maxContours=o.readUshort(r,s),s+=2,l.maxCompositePoints=o.readUshort(r,s),s+=2,l.maxCompositeContours=o.readUshort(r,s),s+=2,l.maxZones=o.readUshort(r,s),s+=2,l.maxTwilightPoints=o.readUshort(r,s),s+=2,l.maxStorage=o.readUshort(r,s),s+=2,l.maxFunctionDefs=o.readUshort(r,s),s+=2,l.maxInstructionDefs=o.readUshort(r,s),s+=2,l.maxStackElements=o.readUshort(r,s),s+=2,l.maxSizeOfInstructions=o.readUshort(r,s),s+=2,l.maxComponentElements=o.readUshort(r,s),s+=2,l.maxComponentDepth=o.readUshort(r,s),s+=2),l},e.name={},e.name.parse=function(r,s,a){var o=e._bin,l={};o.readUshort(r,s),s+=2;var c=o.readUshort(r,s);s+=2,o.readUshort(r,s);for(var f,h=["copyright","fontFamily","fontSubfamily","ID","fullName","version","postScriptName","trademark","manufacturer","designer","description","urlVendor","urlDesigner","licence","licenceURL","---","typoFamilyName","typoSubfamilyName","compatibleFull","sampleText","postScriptCID","wwsFamilyName","wwsSubfamilyName","lightPalette","darkPalette"],v=s+=2,m=0;m<c;m++){var _=o.readUshort(r,s);s+=2;var g=o.readUshort(r,s);s+=2;var y=o.readUshort(r,s);s+=2;var u=o.readUshort(r,s);s+=2;var b=o.readUshort(r,s);s+=2;var S=o.readUshort(r,s);s+=2;var T,R=h[u],O=v+12*c+S;if(_==0)T=o.readUnicode(r,O,b/2);else if(_==3&&g==0)T=o.readUnicode(r,O,b/2);else if(g==0)T=o.readASCII(r,O,b);else if(g==1)T=o.readUnicode(r,O,b/2);else if(g==3)T=o.readUnicode(r,O,b/2);else{if(_!=1)throw"unknown encoding "+g+", platformID: "+_;T=o.readASCII(r,O,b),console.debug("reading unknown MAC encoding "+g+" as ASCII")}var C="p"+_+","+y.toString(16);l[C]==null&&(l[C]={}),l[C][R!==void 0?R:u]=T,l[C]._lang=y}for(var I in l)if(l[I].postScriptName!=null&&l[I]._lang==1033)return l[I];for(var I in l)if(l[I].postScriptName!=null&&l[I]._lang==0)return l[I];for(var I in l)if(l[I].postScriptName!=null&&l[I]._lang==3084)return l[I];for(var I in l)if(l[I].postScriptName!=null)return l[I];for(var I in l){f=I;break}return console.debug("returning name table with languageID "+l[f]._lang),l[f]},e["OS/2"]={},e["OS/2"].parse=function(r,s,a){var o=e._bin.readUshort(r,s);s+=2;var l={};if(o==0)e["OS/2"].version0(r,s,l);else if(o==1)e["OS/2"].version1(r,s,l);else if(o==2||o==3||o==4)e["OS/2"].version2(r,s,l);else{if(o!=5)throw"unknown OS/2 table version: "+o;e["OS/2"].version5(r,s,l)}return l},e["OS/2"].version0=function(r,s,a){var o=e._bin;return a.xAvgCharWidth=o.readShort(r,s),s+=2,a.usWeightClass=o.readUshort(r,s),s+=2,a.usWidthClass=o.readUshort(r,s),s+=2,a.fsType=o.readUshort(r,s),s+=2,a.ySubscriptXSize=o.readShort(r,s),s+=2,a.ySubscriptYSize=o.readShort(r,s),s+=2,a.ySubscriptXOffset=o.readShort(r,s),s+=2,a.ySubscriptYOffset=o.readShort(r,s),s+=2,a.ySuperscriptXSize=o.readShort(r,s),s+=2,a.ySuperscriptYSize=o.readShort(r,s),s+=2,a.ySuperscriptXOffset=o.readShort(r,s),s+=2,a.ySuperscriptYOffset=o.readShort(r,s),s+=2,a.yStrikeoutSize=o.readShort(r,s),s+=2,a.yStrikeoutPosition=o.readShort(r,s),s+=2,a.sFamilyClass=o.readShort(r,s),s+=2,a.panose=o.readBytes(r,s,10),s+=10,a.ulUnicodeRange1=o.readUint(r,s),s+=4,a.ulUnicodeRange2=o.readUint(r,s),s+=4,a.ulUnicodeRange3=o.readUint(r,s),s+=4,a.ulUnicodeRange4=o.readUint(r,s),s+=4,a.achVendID=[o.readInt8(r,s),o.readInt8(r,s+1),o.readInt8(r,s+2),o.readInt8(r,s+3)],s+=4,a.fsSelection=o.readUshort(r,s),s+=2,a.usFirstCharIndex=o.readUshort(r,s),s+=2,a.usLastCharIndex=o.readUshort(r,s),s+=2,a.sTypoAscender=o.readShort(r,s),s+=2,a.sTypoDescender=o.readShort(r,s),s+=2,a.sTypoLineGap=o.readShort(r,s),s+=2,a.usWinAscent=o.readUshort(r,s),s+=2,a.usWinDescent=o.readUshort(r,s),s+=2},e["OS/2"].version1=function(r,s,a){var o=e._bin;return s=e["OS/2"].version0(r,s,a),a.ulCodePageRange1=o.readUint(r,s),s+=4,a.ulCodePageRange2=o.readUint(r,s),s+=4},e["OS/2"].version2=function(r,s,a){var o=e._bin;return s=e["OS/2"].version1(r,s,a),a.sxHeight=o.readShort(r,s),s+=2,a.sCapHeight=o.readShort(r,s),s+=2,a.usDefault=o.readUshort(r,s),s+=2,a.usBreak=o.readUshort(r,s),s+=2,a.usMaxContext=o.readUshort(r,s),s+=2},e["OS/2"].version5=function(r,s,a){var o=e._bin;return s=e["OS/2"].version2(r,s,a),a.usLowerOpticalPointSize=o.readUshort(r,s),s+=2,a.usUpperOpticalPointSize=o.readUshort(r,s),s+=2},e.post={},e.post.parse=function(r,s,a){var o=e._bin,l={};return l.version=o.readFixed(r,s),s+=4,l.italicAngle=o.readFixed(r,s),s+=4,l.underlinePosition=o.readShort(r,s),s+=2,l.underlineThickness=o.readShort(r,s),s+=2,l},e==null&&(e={}),e.U==null&&(e.U={}),e.U.codeToGlyph=function(r,s){var a=r.cmap,o=-1;if(a.p0e4!=null?o=a.p0e4:a.p3e1!=null?o=a.p3e1:a.p1e0!=null?o=a.p1e0:a.p0e3!=null&&(o=a.p0e3),o==-1)throw"no familiar platform and encoding!";var l=a.tables[o];if(l.format==0)return s>=l.map.length?0:l.map[s];if(l.format==4){for(var c=-1,f=0;f<l.endCount.length;f++)if(s<=l.endCount[f]){c=f;break}return c==-1||l.startCount[c]>s?0:65535&(l.idRangeOffset[c]!=0?l.glyphIdArray[s-l.startCount[c]+(l.idRangeOffset[c]>>1)-(l.idRangeOffset.length-c)]:s+l.idDelta[c])}if(l.format==12){if(s>l.groups[l.groups.length-1][1])return 0;for(f=0;f<l.groups.length;f++){var h=l.groups[f];if(h[0]<=s&&s<=h[1])return h[2]+(s-h[0])}return 0}throw"unknown cmap table format "+l.format},e.U.glyphToPath=function(r,s){var a={cmds:[],crds:[]};if(r.SVG&&r.SVG.entries[s]){var o=r.SVG.entries[s];return o==null?a:(typeof o=="string"&&(o=e.SVG.toPath(o),r.SVG.entries[s]=o),o)}if(r.CFF){var l={x:0,y:0,stack:[],nStems:0,haveWidth:!1,width:r.CFF.Private?r.CFF.Private.defaultWidthX:0,open:!1},c=r.CFF,f=r.CFF.Private;if(c.ROS){for(var h=0;c.FDSelect[h+2]<=s;)h+=2;f=c.FDArray[c.FDSelect[h+1]].Private}e.U._drawCFF(r.CFF.CharStrings[s],l,c,f,a)}else r.glyf&&e.U._drawGlyf(s,r,a);return a},e.U._drawGlyf=function(r,s,a){var o=s.glyf[r];o==null&&(o=s.glyf[r]=e.glyf._parseGlyf(s,r)),o!=null&&(o.noc>-1?e.U._simpleGlyph(o,a):e.U._compoGlyph(o,s,a))},e.U._simpleGlyph=function(r,s){for(var a=0;a<r.noc;a++){for(var o=a==0?0:r.endPts[a-1]+1,l=r.endPts[a],c=o;c<=l;c++){var f=c==o?l:c-1,h=c==l?o:c+1,v=1&r.flags[c],m=1&r.flags[f],_=1&r.flags[h],g=r.xs[c],y=r.ys[c];if(c==o)if(v){if(!m){e.U.P.moveTo(s,g,y);continue}e.U.P.moveTo(s,r.xs[f],r.ys[f])}else m?e.U.P.moveTo(s,r.xs[f],r.ys[f]):e.U.P.moveTo(s,(r.xs[f]+g)/2,(r.ys[f]+y)/2);v?m&&e.U.P.lineTo(s,g,y):_?e.U.P.qcurveTo(s,g,y,r.xs[h],r.ys[h]):e.U.P.qcurveTo(s,g,y,(g+r.xs[h])/2,(y+r.ys[h])/2)}e.U.P.closePath(s)}},e.U._compoGlyph=function(r,s,a){for(var o=0;o<r.parts.length;o++){var l={cmds:[],crds:[]},c=r.parts[o];e.U._drawGlyf(c.glyphIndex,s,l);for(var f=c.m,h=0;h<l.crds.length;h+=2){var v=l.crds[h],m=l.crds[h+1];a.crds.push(v*f.a+m*f.b+f.tx),a.crds.push(v*f.c+m*f.d+f.ty)}for(h=0;h<l.cmds.length;h++)a.cmds.push(l.cmds[h])}},e.U._getGlyphClass=function(r,s){var a=e._lctf.getInterval(s,r);return a==-1?0:s[a+2]},e.U._applySubs=function(r,s,a,o){for(var l=r.length-s-1,c=0;c<a.tabs.length;c++)if(a.tabs[c]!=null){var f,h=a.tabs[c];if(!h.coverage||(f=e._lctf.coverageIndex(h.coverage,r[s]))!=-1){if(a.ltype==1)r[s],h.fmt==1?r[s]=r[s]+h.delta:r[s]=h.newg[f];else if(a.ltype==4)for(var v=h.vals[f],m=0;m<v.length;m++){var _=v[m],g=_.chain.length;if(!(g>l)){for(var y=!0,u=0,b=0;b<g;b++){for(;r[s+u+(1+b)]==-1;)u++;_.chain[b]!=r[s+u+(1+b)]&&(y=!1)}if(y){for(r[s]=_.nglyph,b=0;b<g+u;b++)r[s+b+1]=-1;break}}}else if(a.ltype==5&&h.fmt==2)for(var S=e._lctf.getInterval(h.cDef,r[s]),T=h.cDef[S+2],R=h.scset[T],O=0;O<R.length;O++){var C=R[O],I=C.input;if(!(I.length>l)){for(y=!0,b=0;b<I.length;b++){var F=e._lctf.getInterval(h.cDef,r[s+1+b]);if(S==-1&&h.cDef[F+2]!=I[b]){y=!1;break}}if(y){var M=C.substLookupRecords;for(m=0;m<M.length;m+=2)M[m],M[m+1]}}}else if(a.ltype==6&&h.fmt==3){if(!e.U._glsCovered(r,h.backCvg,s-h.backCvg.length)||!e.U._glsCovered(r,h.inptCvg,s)||!e.U._glsCovered(r,h.ahedCvg,s+h.inptCvg.length))continue;var D=h.lookupRec;for(O=0;O<D.length;O+=2){S=D[O];var B=o[D[O+1]];e.U._applySubs(r,s+S,B,o)}}}}},e.U._glsCovered=function(r,s,a){for(var o=0;o<s.length;o++)if(e._lctf.coverageIndex(s[o],r[a+o])==-1)return!1;return!0},e.U.glyphsToPath=function(r,s,a){for(var o={cmds:[],crds:[]},l=0,c=0;c<s.length;c++){var f=s[c];if(f!=-1){for(var h=c<s.length-1&&s[c+1]!=-1?s[c+1]:0,v=e.U.glyphToPath(r,f),m=0;m<v.crds.length;m+=2)o.crds.push(v.crds[m]+l),o.crds.push(v.crds[m+1]);for(a&&o.cmds.push(a),m=0;m<v.cmds.length;m++)o.cmds.push(v.cmds[m]);a&&o.cmds.push("X"),l+=r.hmtx.aWidth[f],c<s.length-1&&(l+=e.U.getPairAdjustment(r,f,h))}}return o},e.U.P={},e.U.P.moveTo=function(r,s,a){r.cmds.push("M"),r.crds.push(s,a)},e.U.P.lineTo=function(r,s,a){r.cmds.push("L"),r.crds.push(s,a)},e.U.P.curveTo=function(r,s,a,o,l,c,f){r.cmds.push("C"),r.crds.push(s,a,o,l,c,f)},e.U.P.qcurveTo=function(r,s,a,o,l){r.cmds.push("Q"),r.crds.push(s,a,o,l)},e.U.P.closePath=function(r){r.cmds.push("Z")},e.U._drawCFF=function(r,s,a,o,l){for(var c=s.stack,f=s.nStems,h=s.haveWidth,v=s.width,m=s.open,_=0,g=s.x,y=s.y,u=0,b=0,S=0,T=0,R=0,O=0,C=0,I=0,F=0,M=0,D={val:0,size:0};_<r.length;){e.CFF.getCharString(r,_,D);var B=D.val;if(_+=D.size,B=="o1"||B=="o18")c.length%2!=0&&!h&&(v=c.shift()+o.nominalWidthX),f+=c.length>>1,c.length=0,h=!0;else if(B=="o3"||B=="o23")c.length%2!=0&&!h&&(v=c.shift()+o.nominalWidthX),f+=c.length>>1,c.length=0,h=!0;else if(B=="o4")c.length>1&&!h&&(v=c.shift()+o.nominalWidthX,h=!0),m&&e.U.P.closePath(l),y+=c.pop(),e.U.P.moveTo(l,g,y),m=!0;else if(B=="o5")for(;c.length>0;)g+=c.shift(),y+=c.shift(),e.U.P.lineTo(l,g,y);else if(B=="o6"||B=="o7")for(var j=c.length,U=B=="o6",V=0;V<j;V++){var k=c.shift();U?g+=k:y+=k,U=!U,e.U.P.lineTo(l,g,y)}else if(B=="o8"||B=="o24"){j=c.length;for(var Z=0;Z+6<=j;)u=g+c.shift(),b=y+c.shift(),S=u+c.shift(),T=b+c.shift(),g=S+c.shift(),y=T+c.shift(),e.U.P.curveTo(l,u,b,S,T,g,y),Z+=6;B=="o24"&&(g+=c.shift(),y+=c.shift(),e.U.P.lineTo(l,g,y))}else{if(B=="o11")break;if(B=="o1234"||B=="o1235"||B=="o1236"||B=="o1237")B=="o1234"&&(b=y,S=(u=g+c.shift())+c.shift(),M=T=b+c.shift(),O=T,I=y,g=(C=(R=(F=S+c.shift())+c.shift())+c.shift())+c.shift(),e.U.P.curveTo(l,u,b,S,T,F,M),e.U.P.curveTo(l,R,O,C,I,g,y)),B=="o1235"&&(u=g+c.shift(),b=y+c.shift(),S=u+c.shift(),T=b+c.shift(),F=S+c.shift(),M=T+c.shift(),R=F+c.shift(),O=M+c.shift(),C=R+c.shift(),I=O+c.shift(),g=C+c.shift(),y=I+c.shift(),c.shift(),e.U.P.curveTo(l,u,b,S,T,F,M),e.U.P.curveTo(l,R,O,C,I,g,y)),B=="o1236"&&(u=g+c.shift(),b=y+c.shift(),S=u+c.shift(),M=T=b+c.shift(),O=T,C=(R=(F=S+c.shift())+c.shift())+c.shift(),I=O+c.shift(),g=C+c.shift(),e.U.P.curveTo(l,u,b,S,T,F,M),e.U.P.curveTo(l,R,O,C,I,g,y)),B=="o1237"&&(u=g+c.shift(),b=y+c.shift(),S=u+c.shift(),T=b+c.shift(),F=S+c.shift(),M=T+c.shift(),R=F+c.shift(),O=M+c.shift(),C=R+c.shift(),I=O+c.shift(),Math.abs(C-g)>Math.abs(I-y)?g=C+c.shift():y=I+c.shift(),e.U.P.curveTo(l,u,b,S,T,F,M),e.U.P.curveTo(l,R,O,C,I,g,y));else if(B=="o14"){if(c.length>0&&!h&&(v=c.shift()+a.nominalWidthX,h=!0),c.length==4){var ee=c.shift(),oe=c.shift(),ne=c.shift(),ie=c.shift(),he=e.CFF.glyphBySE(a,ne),fe=e.CFF.glyphBySE(a,ie);e.U._drawCFF(a.CharStrings[he],s,a,o,l),s.x=ee,s.y=oe,e.U._drawCFF(a.CharStrings[fe],s,a,o,l)}m&&(e.U.P.closePath(l),m=!1)}else if(B=="o19"||B=="o20")c.length%2!=0&&!h&&(v=c.shift()+o.nominalWidthX),f+=c.length>>1,c.length=0,h=!0,_+=f+7>>3;else if(B=="o21")c.length>2&&!h&&(v=c.shift()+o.nominalWidthX,h=!0),y+=c.pop(),g+=c.pop(),m&&e.U.P.closePath(l),e.U.P.moveTo(l,g,y),m=!0;else if(B=="o22")c.length>1&&!h&&(v=c.shift()+o.nominalWidthX,h=!0),g+=c.pop(),m&&e.U.P.closePath(l),e.U.P.moveTo(l,g,y),m=!0;else if(B=="o25"){for(;c.length>6;)g+=c.shift(),y+=c.shift(),e.U.P.lineTo(l,g,y);u=g+c.shift(),b=y+c.shift(),S=u+c.shift(),T=b+c.shift(),g=S+c.shift(),y=T+c.shift(),e.U.P.curveTo(l,u,b,S,T,g,y)}else if(B=="o26")for(c.length%2&&(g+=c.shift());c.length>0;)u=g,b=y+c.shift(),g=S=u+c.shift(),y=(T=b+c.shift())+c.shift(),e.U.P.curveTo(l,u,b,S,T,g,y);else if(B=="o27")for(c.length%2&&(y+=c.shift());c.length>0;)b=y,S=(u=g+c.shift())+c.shift(),T=b+c.shift(),g=S+c.shift(),y=T,e.U.P.curveTo(l,u,b,S,T,g,y);else if(B=="o10"||B=="o29"){var ce=B=="o10"?o:a;if(c.length==0)console.debug("error: empty stack");else{var ae=c.pop(),ve=ce.Subrs[ae+ce.Bias];s.x=g,s.y=y,s.nStems=f,s.haveWidth=h,s.width=v,s.open=m,e.U._drawCFF(ve,s,a,o,l),g=s.x,y=s.y,f=s.nStems,h=s.haveWidth,v=s.width,m=s.open}}else if(B=="o30"||B=="o31"){var _e=c.length,Te=(Z=0,B=="o31");for(Z+=_e-(j=-3&_e);Z<j;)Te?(b=y,S=(u=g+c.shift())+c.shift(),y=(T=b+c.shift())+c.shift(),j-Z==5?(g=S+c.shift(),Z++):g=S,Te=!1):(u=g,b=y+c.shift(),S=u+c.shift(),T=b+c.shift(),g=S+c.shift(),j-Z==5?(y=T+c.shift(),Z++):y=T,Te=!0),e.U.P.curveTo(l,u,b,S,T,g,y),Z+=4}else{if((B+"").charAt(0)=="o")throw console.debug("Unknown operation: "+B,r),B;c.push(B)}}}s.x=g,s.y=y,s.nStems=f,s.haveWidth=h,s.width=v,s.open=m};var t=e,i={Typr:t};return n.Typr=t,n.default=i,Object.defineProperty(n,"__esModule",{value:!0}),n})({}).Typr}/*!
Custom bundle of woff2otf (https://github.com/arty-name/woff2otf) with fflate
(https://github.com/101arrowz/fflate) for use in Troika text rendering. 
Original licenses apply: 
- fflate: https://github.com/101arrowz/fflate/blob/master/LICENSE (MIT)
- woff2otf.js: https://github.com/arty-name/woff2otf/blob/master/woff2otf.js (Apache2)
*/function $te(){return(function(n){var e=Uint8Array,t=Uint16Array,i=Uint32Array,r=new e([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),s=new e([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),a=new e([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),o=function(B,j){for(var U=new t(31),V=0;V<31;++V)U[V]=j+=1<<B[V-1];var k=new i(U[30]);for(V=1;V<30;++V)for(var Z=U[V];Z<U[V+1];++Z)k[Z]=Z-U[V]<<5|V;return[U,k]},l=o(r,2),c=l[0],f=l[1];c[28]=258,f[258]=28;for(var h=o(s,0)[0],v=new t(32768),m=0;m<32768;++m){var _=(43690&m)>>>1|(21845&m)<<1;_=(61680&(_=(52428&_)>>>2|(13107&_)<<2))>>>4|(3855&_)<<4,v[m]=((65280&_)>>>8|(255&_)<<8)>>>1}var g=function(B,j,U){for(var V=B.length,k=0,Z=new t(j);k<V;++k)++Z[B[k]-1];var ee,oe=new t(j);for(k=0;k<j;++k)oe[k]=oe[k-1]+Z[k-1]<<1;{ee=new t(1<<j);var ne=15-j;for(k=0;k<V;++k)if(B[k])for(var ie=k<<4|B[k],he=j-B[k],fe=oe[B[k]-1]++<<he,ce=fe|(1<<he)-1;fe<=ce;++fe)ee[v[fe]>>>ne]=ie}return ee},y=new e(288);for(m=0;m<144;++m)y[m]=8;for(m=144;m<256;++m)y[m]=9;for(m=256;m<280;++m)y[m]=7;for(m=280;m<288;++m)y[m]=8;var u=new e(32);for(m=0;m<32;++m)u[m]=5;var b=g(y,9),S=g(u,5),T=function(B){for(var j=B[0],U=1;U<B.length;++U)B[U]>j&&(j=B[U]);return j},R=function(B,j,U){var V=j/8|0;return(B[V]|B[V+1]<<8)>>(7&j)&U},O=function(B,j){var U=j/8|0;return(B[U]|B[U+1]<<8|B[U+2]<<16)>>(7&j)},C=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],I=function(B,j,U){var V=new Error(j||C[B]);if(V.code=B,Error.captureStackTrace&&Error.captureStackTrace(V,I),!U)throw V;return V},F=function(B,j,U){var V=B.length;if(!V||U&&!U.l&&V<5)return j||new e(0);var k=!j||U,Z=!U||U.i;U||(U={}),j||(j=new e(3*V));var ee,oe=function(Xt){var Ve=j.length;if(Xt>Ve){var lt=new e(Math.max(2*Ve,Xt));lt.set(j),j=lt}},ne=U.f||0,ie=U.p||0,he=U.b||0,fe=U.l,ce=U.d,ae=U.m,ve=U.n,_e=8*V;do{if(!fe){U.f=ne=R(B,ie,1);var Te=R(B,ie+1,3);if(ie+=3,!Te){var Fe=B[(qe=((ee=ie)/8|0)+(7&ee&&1)+4)-4]|B[qe-3]<<8,We=qe+Fe;if(We>V){Z&&I(0);break}k&&oe(he+Fe),j.set(B.subarray(qe,We),he),U.b=he+=Fe,U.p=ie=8*We;continue}if(Te==1)fe=b,ce=S,ae=9,ve=5;else if(Te==2){var ht=R(B,ie,31)+257,ft=R(B,ie+10,15)+4,Bt=ht+R(B,ie+5,31)+1;ie+=14;for(var Me=new e(Bt),yt=new e(19),mt=0;mt<ft;++mt)yt[a[mt]]=R(B,ie+3*mt,7);ie+=3*ft;var St=T(yt),nt=(1<<St)-1,Ft=g(yt,St);for(mt=0;mt<Bt;){var qe,Ke=Ft[R(B,ie,nt)];if(ie+=15&Ke,(qe=Ke>>>4)<16)Me[mt++]=qe;else{var Et=0,ye=0;for(qe==16?(ye=3+R(B,ie,3),ie+=2,Et=Me[mt-1]):qe==17?(ye=3+R(B,ie,7),ie+=3):qe==18&&(ye=11+R(B,ie,127),ie+=7);ye--;)Me[mt++]=Et}}var me=Me.subarray(0,ht),Le=Me.subarray(ht);ae=T(me),ve=T(Le),fe=g(me,ae),ce=g(Le,ve)}else I(1);if(ie>_e){Z&&I(0);break}}k&&oe(he+131072);for(var it=(1<<ae)-1,Qe=(1<<ve)-1,et=ie;;et=ie){var At=(Et=fe[O(B,ie)&it])>>>4;if((ie+=15&Et)>_e){Z&&I(0);break}if(Et||I(2),At<256)j[he++]=At;else{if(At==256){et=ie,fe=null;break}var Gt=At-254;if(At>264){var on=r[mt=At-257];Gt=R(B,ie,(1<<on)-1)+c[mt],ie+=on}var fn=ce[O(B,ie)&Qe],xt=fn>>>4;if(fn||I(3),ie+=15&fn,Le=h[xt],xt>3&&(on=s[xt],Le+=O(B,ie)&(1<<on)-1,ie+=on),ie>_e){Z&&I(0);break}k&&oe(he+131072);for(var kt=he+Gt;he<kt;he+=4)j[he]=j[he-Le],j[he+1]=j[he+1-Le],j[he+2]=j[he+2-Le],j[he+3]=j[he+3-Le];he=kt}}U.l=fe,U.p=et,U.b=he,fe&&(ne=1,U.m=ae,U.d=ce,U.n=ve)}while(!ne);return he==j.length?j:(function(Xt,Ve,lt){(lt==null||lt>Xt.length)&&(lt=Xt.length);var Qt=new(Xt instanceof t?t:Xt instanceof i?i:e)(lt-Ve);return Qt.set(Xt.subarray(Ve,lt)),Qt})(j,0,he)},M=new e(0),D=typeof TextDecoder<"u"&&new TextDecoder;try{D.decode(M,{stream:!0})}catch{}return n.convert_streams=function(B){var j=new DataView(B),U=0;function V(){var ht=j.getUint16(U);return U+=2,ht}function k(){var ht=j.getUint32(U);return U+=4,ht}function Z(ht){Fe.setUint16(We,ht),We+=2}function ee(ht){Fe.setUint32(We,ht),We+=4}for(var oe={signature:k(),flavor:k(),length:k(),numTables:V(),reserved:V(),totalSfntSize:k(),majorVersion:V(),minorVersion:V(),metaOffset:k(),metaLength:k(),metaOrigLength:k(),privOffset:k(),privLength:k()},ne=0;Math.pow(2,ne)<=oe.numTables;)ne++;ne--;for(var ie=16*Math.pow(2,ne),he=16*oe.numTables-ie,fe=12,ce=[],ae=0;ae<oe.numTables;ae++)ce.push({tag:k(),offset:k(),compLength:k(),origLength:k(),origChecksum:k()}),fe+=16;var ve,_e=new Uint8Array(12+16*ce.length+ce.reduce((function(ht,ft){return ht+ft.origLength+4}),0)),Te=_e.buffer,Fe=new DataView(Te),We=0;return ee(oe.flavor),Z(oe.numTables),Z(ie),Z(ne),Z(he),ce.forEach((function(ht){ee(ht.tag),ee(ht.origChecksum),ee(fe),ee(ht.origLength),ht.outOffset=fe,(fe+=ht.origLength)%4!=0&&(fe+=4-fe%4)})),ce.forEach((function(ht){var ft,Bt=B.slice(ht.offset,ht.offset+ht.compLength);if(ht.compLength!=ht.origLength){var Me=new Uint8Array(ht.origLength);ft=new Uint8Array(Bt,2),F(ft,Me)}else Me=new Uint8Array(Bt);_e.set(Me,ht.outOffset);var yt=0;(fe=ht.outOffset+ht.origLength)%4!=0&&(yt=4-fe%4),_e.set(new Uint8Array(yt).buffer,ht.outOffset+ht.origLength),ve=fe+yt})),Te.slice(0,ve)},Object.defineProperty(n,"__esModule",{value:!0}),n})({}).convert_streams}function Vte(n,e){const t={M:2,L:2,Q:4,C:6,Z:0},i={C:"18g,ca,368,1kz",D:"17k,6,2,2+4,5+c,2+6,2+1,10+1,9+f,j+11,2+1,a,2,2+1,15+2,3,j+2,6+3,2+8,2,2,2+1,w+a,4+e,3+3,2,3+2,3+5,23+w,2f+4,3,2+9,2,b,2+3,3,1k+9,6+1,3+1,2+2,2+d,30g,p+y,1,1+1g,f+x,2,sd2+1d,jf3+4,f+3,2+4,2+2,b+3,42,2,4+2,2+1,2,3,t+1,9f+w,2,el+2,2+g,d+2,2l,2+1,5,3+1,2+1,2,3,6,16wm+1v",R:"17m+3,2,2,6+3,m,15+2,2+2,h+h,13,3+8,2,2,3+1,2,p+1,x,5+4,5,a,2,2,3,u,c+2,g+1,5,2+1,4+1,5j,6+1,2,b,2+2,f,2+1,1s+2,2,3+1,7,1ez0,2,2+1,4+4,b,4,3,b,42,2+2,4,3,2+1,2,o+3,ae,ep,x,2o+2,3+1,3,5+1,6",L:"x9u,jff,a,fd,jv",T:"4t,gj+33,7o+4,1+1,7c+18,2,2+1,2+1,2,21+a,2,1b+k,h,2u+6,3+5,3+1,2+3,y,2,v+q,2k+a,1n+8,a,p+3,2+8,2+2,2+4,18+2,3c+e,2+v,1k,2,5+7,5,4+6,b+1,u,1n,5+3,9,l+1,r,3+1,1m,5+1,5+1,3+2,4,v+1,4,c+1,1m,5+4,2+1,5,l+1,n+5,2,1n,3,2+3,9,8+1,c+1,v,1q,d,1f,4,1m+2,6+2,2+3,8+1,c+1,u,1n,3,7,6+1,l+1,t+1,1m+1,5+3,9,l+1,u,21,8+2,2,2j,3+6,d+7,2r,3+8,c+5,23+1,s,2,2,1k+d,2+4,2+1,6+a,2+z,a,2v+3,2+5,2+1,3+1,q+1,5+2,h+3,e,3+1,7,g,jk+2,qb+2,u+2,u+1,v+1,1t+1,2+6,9,3+a,a,1a+2,3c+1,z,3b+2,5+1,a,7+2,64+1,3,1n,2+6,2,2,3+7,7+9,3,1d+d,1,1+1,1s+3,1d,2+4,2,6,15+8,d+1,x+3,3+1,2+2,1l,2+1,4,2+2,1n+7,3+1,49+2,2+c,2+6,5,7,4+1,5j+1l,2+4,ek,3+1,r+4,1e+4,6+5,2p+c,1+3,1,1+2,1+b,2db+2,3y,2p+v,ff+3,30+1,n9x,1+2,2+9,x+1,29+1,7l,4,5,q+1,6,48+1,r+h,e,13+7,q+a,1b+2,1d,3+3,3+1,14,1w+5,3+1,3+1,d,9,1c,1g,2+2,3+1,6+1,2,17+1,9,6n,3,5,fn5,ki+f,h+f,5s,6y+2,ea,6b,46+4,1af+2,2+1,6+3,15+2,5,4m+1,fy+3,as+1,4a+a,4x,1j+e,1l+2,1e+3,3+1,1y+2,11+4,2+7,1r,d+1,1h+8,b+3,3,2o+2,3,2+1,7,4h,4+7,m+1,1m+1,4,12+6,4+4,5g+7,3+2,2,o,2d+5,2,5+1,2+1,6n+3,7+1,2+1,s+1,2e+7,3,2+1,2z,2,3+5,2,2u+2,3+3,2+4,78+8,2+1,75+1,2,5,41+3,3+1,5,x+9,15+5,3+3,9,a+5,3+2,1b+c,2+1,bb+6,2+5,2,2b+l,3+6,2+1,2+1,3f+5,4,2+1,2+6,2,21+1,4,2,9o+1,470+8,at4+4,1o+6,t5,1s+3,2a,f5l+1,2+3,43o+2,a+7,1+7,3+6,v+3,45+2,1j0+1i,5+1d,9,f,n+4,2+e,11t+6,2+g,3+6,2+1,2+4,7a+6,c6+3,15t+6,32+6,1,gzau,v+2n,3l+6n"},r=1,s=2,a=4,o=8,l=16,c=32;let f;function h(C){if(!f){const I={R:s,L:r,D:a,C:l,U:c,T:o};f=new Map;for(let F in i){let M=0;i[F].split(",").forEach(D=>{let[B,j]=D.split("+");B=parseInt(B,36),j=j?parseInt(j,36):0,f.set(M+=B,I[F]);for(let U=j;U--;)f.set(++M,I[F])})}}return f.get(C)||c}const v=1,m=2,_=3,g=4,y=[null,"isol","init","fina","medi"];function u(C){const I=new Uint8Array(C.length);let F=c,M=v,D=-1;for(let B=0;B<C.length;B++){const j=C.codePointAt(B);let U=h(j)|0,V=v;U&o||(F&(r|a|l)?U&(s|a|l)?(V=_,(M===v||M===_)&&I[D]++):U&(r|c)&&(M===m||M===g)&&I[D]--:F&(s|c)&&(M===m||M===g)&&I[D]--,M=I[B]=V,F=U,D=B,j>65535&&B++)}return I}function b(C,I){const F=[];for(let D=0;D<I.length;D++){const B=I.codePointAt(D);B>65535&&D++,F.push(n.U.codeToGlyph(C,B))}const M=C.GSUB;if(M){const{lookupList:D,featureList:B}=M;let j;const U=/^(rlig|liga|mset|isol|init|fina|medi|half|pres|blws|ccmp)$/,V=[];B.forEach(k=>{if(U.test(k.tag))for(let Z=0;Z<k.tab.length;Z++){if(V[k.tab[Z]])continue;V[k.tab[Z]]=!0;const ee=D[k.tab[Z]],oe=/^(isol|init|fina|medi)$/.test(k.tag);oe&&!j&&(j=u(I));for(let ne=0;ne<F.length;ne++)(!j||!oe||y[j[ne]]===k.tag)&&n.U._applySubs(F,ne,ee,D)}})}return F}function S(C,I){const F=new Int16Array(I.length*3);let M=0;for(;M<I.length;M++){const U=I[M];if(U===-1)continue;F[M*3+2]=C.hmtx.aWidth[U];const V=C.GPOS;if(V){const k=V.lookupList;for(let Z=0;Z<k.length;Z++){const ee=k[Z];for(let oe=0;oe<ee.tabs.length;oe++){const ne=ee.tabs[oe];if(ee.ltype===1){if(n._lctf.coverageIndex(ne.coverage,U)!==-1&&ne.pos){j(ne.pos,M);break}}else if(ee.ltype===2){let ie=null,he=D();if(he!==-1){const fe=n._lctf.coverageIndex(ne.coverage,I[he]);if(fe!==-1){if(ne.fmt===1){const ce=ne.pairsets[fe];for(let ae=0;ae<ce.length;ae++)ce[ae].gid2===U&&(ie=ce[ae])}else if(ne.fmt===2){const ce=n.U._getGlyphClass(I[he],ne.classDef1),ae=n.U._getGlyphClass(U,ne.classDef2);ie=ne.matrix[ce][ae]}if(ie){ie.val1&&j(ie.val1,he),ie.val2&&j(ie.val2,M);break}}}}else if(ee.ltype===4){const ie=n._lctf.coverageIndex(ne.markCoverage,U);if(ie!==-1){const he=D(B),fe=he===-1?-1:n._lctf.coverageIndex(ne.baseCoverage,I[he]);if(fe!==-1){const ce=ne.markArray[ie],ae=ne.baseArray[fe][ce.markClass];F[M*3]=ae.x-ce.x+F[he*3]-F[he*3+2],F[M*3+1]=ae.y-ce.y+F[he*3+1];break}}}else if(ee.ltype===6){const ie=n._lctf.coverageIndex(ne.mark1Coverage,U);if(ie!==-1){const he=D();if(he!==-1){const fe=I[he];if(T(C,fe)===3){const ce=n._lctf.coverageIndex(ne.mark2Coverage,fe);if(ce!==-1){const ae=ne.mark1Array[ie],ve=ne.mark2Array[ce][ae.markClass];F[M*3]=ve.x-ae.x+F[he*3]-F[he*3+2],F[M*3+1]=ve.y-ae.y+F[he*3+1];break}}}}}}}}else if(C.kern&&!C.cff){const k=D();if(k!==-1){const Z=C.kern.glyph1.indexOf(I[k]);if(Z!==-1){const ee=C.kern.rval[Z].glyph2.indexOf(U);ee!==-1&&(F[k*3+2]+=C.kern.rval[Z].vals[ee])}}}}return F;function D(U){for(let V=M-1;V>=0;V--)if(I[V]!==-1&&(!U||U(I[V])))return V;return-1}function B(U){return T(C,U)===1}function j(U,V){for(let k=0;k<3;k++)F[V*3+k]+=U[k]||0}}function T(C,I){const F=C.GDEF&&C.GDEF.glyphClassDef;return F?n.U._getGlyphClass(I,F):0}function R(...C){for(let I=0;I<C.length;I++)if(typeof C[I]=="number")return C[I]}function O(C){const I=Object.create(null),F=C["OS/2"],M=C.hhea,D=C.head.unitsPerEm,B=R(F&&F.sTypoAscender,M&&M.ascender,D),j={unitsPerEm:D,ascender:B,descender:R(F&&F.sTypoDescender,M&&M.descender,0),capHeight:R(F&&F.sCapHeight,B),xHeight:R(F&&F.sxHeight,B),lineGap:R(F&&F.sTypoLineGap,M&&M.lineGap),supportsCodePoint(U){return n.U.codeToGlyph(C,U)>0},forEachGlyph(U,V,k,Z){let ee=0;const oe=1/j.unitsPerEm*V,ne=b(C,U);let ie=0;const he=S(C,ne);return ne.forEach((fe,ce)=>{if(fe!==-1){let ae=I[fe];if(!ae){const{cmds:ve,crds:_e}=n.U.glyphToPath(C,fe);let Te="",Fe=0;for(let Me=0,yt=ve.length;Me<yt;Me++){const mt=t[ve[Me]];Te+=ve[Me];for(let St=1;St<=mt;St++)Te+=(St>1?",":"")+_e[Fe++]}let We,ht,ft,Bt;if(_e.length){We=ht=1/0,ft=Bt=-1/0;for(let Me=0,yt=_e.length;Me<yt;Me+=2){let mt=_e[Me],St=_e[Me+1];mt<We&&(We=mt),St<ht&&(ht=St),mt>ft&&(ft=mt),St>Bt&&(Bt=St)}}else We=ft=ht=Bt=0;ae=I[fe]={index:fe,advanceWidth:C.hmtx.aWidth[fe],xMin:We,yMin:ht,xMax:ft,yMax:Bt,path:Te}}Z.call(null,ae,ee+he[ce*3]*oe,he[ce*3+1]*oe,ie),ee+=he[ce*3+2]*oe,k&&(ee+=k*V)}ie+=U.codePointAt(ie)>65535?2:1}),ee}};return j}return function(I){const F=new Uint8Array(I,0,4),M=n._bin.readASCII(F,0,4);if(M==="wOFF")I=e(I);else if(M==="wOF2")throw new Error("woff2 fonts not supported");return O(n.parse(I)[0])}}const Wte=py({name:"Typr Font Parser",dependencies:[Hte,$te,Vte],init(n,e,t){const i=n(),r=e();return t(i,r)}});/*!
Custom bundle of @unicode-font-resolver/client v1.0.2 (https://github.com/lojjic/unicode-font-resolver)
for use in Troika text rendering. 
Original MIT license applies
*/function jte(){return(function(n){var e=function(){this.buckets=new Map};e.prototype.add=function(S){var T=S>>5;this.buckets.set(T,(this.buckets.get(T)||0)|1<<(31&S))},e.prototype.has=function(S){var T=this.buckets.get(S>>5);return T!==void 0&&(T&1<<(31&S))!=0},e.prototype.serialize=function(){var S=[];return this.buckets.forEach((function(T,R){S.push((+R).toString(36)+":"+T.toString(36))})),S.join(",")},e.prototype.deserialize=function(S){var T=this;this.buckets.clear(),S.split(",").forEach((function(R){var O=R.split(":");T.buckets.set(parseInt(O[0],36),parseInt(O[1],36))}))};var t=Math.pow(2,8),i=t-1,r=~i;function s(S){var T=(function(O){return O&r})(S).toString(16),R=(function(O){return(O&r)+t-1})(S).toString(16);return"codepoint-index/plane"+(S>>16)+"/"+T+"-"+R+".json"}function a(S,T){var R=S&i,O=T.codePointAt(R/6|0);return((O=(O||48)-48)&1<<R%6)!=0}function o(S,T){var R;(R=S,R.replace(/U\+/gi,"").replace(/^,+|,+$/g,"").split(/,+/).map((function(O){return O.split("-").map((function(C){return parseInt(C.trim(),16)}))}))).forEach((function(O){var C=O[0],I=O[1];I===void 0&&(I=C),T(C,I)}))}function l(S,T){o(S,(function(R,O){for(var C=R;C<=O;C++)T(C)}))}var c={},f={},h=new WeakMap,v="https://cdn.jsdelivr.net/gh/lojjic/unicode-font-resolver@v1.0.1/packages/data";function m(S){var T=h.get(S);return T||(T=new e,l(S.ranges,(function(R){return T.add(R)})),h.set(S,T)),T}var _,g=new Map;function y(S,T,R){return S[T]?T:S[R]?R:(function(O){for(var C in O)return C})(S)}function u(S,T){var R=T;if(!S.includes(R)){R=1/0;for(var O=0;O<S.length;O++)Math.abs(S[O]-T)<Math.abs(R-T)&&(R=S[O])}return R}function b(S){return _||(_=new Set,l("9-D,20,85,A0,1680,2000-200A,2028-202F,205F,3000",(function(T){_.add(T)}))),_.has(S)}return n.CodePointSet=e,n.clearCache=function(){c={},f={}},n.getFontsForString=function(S,T){T===void 0&&(T={});var R,O=T.lang;O===void 0&&(O=new RegExp("\\p{Script=Hangul}","u").test(R=S)?"ko":new RegExp("\\p{Script=Hiragana}|\\p{Script=Katakana}","u").test(R)?"ja":"en");var C=T.category;C===void 0&&(C="sans-serif");var I=T.style;I===void 0&&(I="normal");var F=T.weight;F===void 0&&(F=400);var M=(T.dataUrl||v).replace(/\/$/g,""),D=new Map,B=new Uint8Array(S.length),j={},U={},V=new Array(S.length),k=new Map,Z=!1;function ee(ie){var he=g.get(ie);return he||(he=fetch(M+"/"+ie).then((function(fe){if(!fe.ok)throw new Error(fe.statusText);return fe.json().then((function(ce){if(!Array.isArray(ce)||ce[0]!==1)throw new Error("Incorrect schema version; need 1, got "+ce[0]);return ce[1]}))})).catch((function(fe){if(M!==v)return Z||(console.error('unicode-font-resolver: Failed loading from dataUrl "'+M+'", trying default CDN. '+fe.message),Z=!0),M=v,g.delete(ie),ee(ie);throw fe})),g.set(ie,he)),he}for(var oe=function(ie){var he=S.codePointAt(ie),fe=s(he);V[ie]=fe,c[fe]||k.has(fe)||k.set(fe,ee(fe).then((function(ce){c[fe]=ce}))),he>65535&&(ie++,ne=ie)},ne=0;ne<S.length;ne++)oe(ne);return Promise.all(k.values()).then((function(){k.clear();for(var ie=function(fe){var ce=S.codePointAt(fe),ae=null,ve=c[V[fe]],_e=void 0;for(var Te in ve){var Fe=U[Te];if(Fe===void 0&&(Fe=U[Te]=new RegExp(Te).test(O||"en")),Fe){for(var We in _e=Te,ve[Te])if(a(ce,ve[Te][We])){ae=We;break}break}}if(!ae){e:for(var ht in ve)if(ht!==_e){for(var ft in ve[ht])if(a(ce,ve[ht][ft])){ae=ft;break e}}}ae||(console.debug("No font coverage for U+"+ce.toString(16)),ae="latin"),V[fe]=ae,f[ae]||k.has(ae)||k.set(ae,ee("font-meta/"+ae+".json").then((function(Bt){f[ae]=Bt}))),ce>65535&&(fe++,he=fe)},he=0;he<S.length;he++)ie(he);return Promise.all(k.values())})).then((function(){for(var ie,he=null,fe=0;fe<S.length;fe++){var ce=S.codePointAt(fe);if(he&&(b(ce)||m(he).has(ce)))B[fe]=B[fe-1];else{he=f[V[fe]];var ae=j[he.id];if(!ae){var ve=he.typeforms,_e=y(ve,C,"sans-serif"),Te=y(ve[_e],I,"normal"),Fe=u((ie=ve[_e])===null||ie===void 0?void 0:ie[Te],F);ae=j[he.id]=M+"/font-files/"+he.id+"/"+_e+"."+Te+"."+Fe+".woff"}var We=D.get(ae);We==null&&(We=D.size,D.set(ae,We)),B[fe]=We}ce>65535&&(fe++,B[fe]=B[fe-1])}return{fontUrls:Array.from(D.keys()),chars:B}}))},Object.defineProperty(n,"__esModule",{value:!0}),n})({})}function Xte(n,e){const t=Object.create(null),i=Object.create(null);function r(a,o){const l=c=>{console.error(`Failure loading font ${a}`,c)};try{const c=new XMLHttpRequest;c.open("get",a,!0),c.responseType="arraybuffer",c.onload=function(){if(c.status>=400)l(new Error(c.statusText));else if(c.status>0)try{const f=n(c.response);f.src=a,o(f)}catch(f){l(f)}},c.onerror=l,c.send()}catch(c){l(c)}}function s(a,o){let l=t[a];l?o(l):i[a]?i[a].push(o):(i[a]=[o],r(a,c=>{c.src=a,t[a]=c,i[a].forEach(f=>f(c)),delete i[a]}))}return function(a,o,{lang:l,fonts:c=[],style:f="normal",weight:h="normal",unicodeFontsURL:v}={}){const m=new Uint8Array(a.length),_=[];a.length||b();const g=new Map,y=[];if(f!=="italic"&&(f="normal"),typeof h!="number"&&(h=h==="bold"?700:400),c&&!Array.isArray(c)&&(c=[c]),c=c.slice().filter(T=>!T.lang||T.lang.test(l)).reverse(),c.length){let C=0;(function I(F=0){for(let M=F,D=a.length;M<D;M++){const B=a.codePointAt(M);if(C===1&&_[m[M-1]].supportsCodePoint(B)||M>0&&/\s/.test(a[M]))m[M]=m[M-1],C===2&&(y[y.length-1][1]=M);else for(let j=m[M],U=c.length;j<=U;j++)if(j===U){const V=C===2?y[y.length-1]:y[y.length]=[M,M];V[1]=M,C=2}else{m[M]=j;const{src:V,unicodeRange:k}=c[j];if(!k||S(B,k)){const Z=t[V];if(!Z){s(V,()=>{I(M)});return}if(Z.supportsCodePoint(B)){let ee=g.get(Z);typeof ee!="number"&&(ee=_.length,_.push(Z),g.set(Z,ee)),m[M]=ee,C=1;break}}}B>65535&&M+1<D&&(m[M+1]=m[M],M++,C===2&&(y[y.length-1][1]=M))}u()})()}else y.push([0,a.length-1]),u();function u(){if(y.length){const T=y.map(R=>a.substring(R[0],R[1]+1)).join(`
`);e.getFontsForString(T,{lang:l||void 0,style:f,weight:h,dataUrl:v}).then(({fontUrls:R,chars:O})=>{const C=_.length;let I=0;y.forEach(M=>{for(let D=0,B=M[1]-M[0];D<=B;D++)m[M[0]+D]=O[I++]+C;I++});let F=0;R.forEach((M,D)=>{s(M,B=>{_[D+C]=B,++F===R.length&&b()})})})}else b()}function b(){o({chars:m,fonts:_})}function S(T,R){for(let O=0;O<R.length;O++){const[C,I=C]=R[O];if(C<=T&&T<=I)return!0}return!1}}}const qte=py({name:"FontResolver",dependencies:[Xte,Wte,jte],init(n,e,t){return n(e,t())}});function Yte(n,e){const i=/[\u00AD\u034F\u061C\u115F-\u1160\u17B4-\u17B5\u180B-\u180E\u200B-\u200F\u202A-\u202E\u2060-\u206F\u3164\uFE00-\uFE0F\uFEFF\uFFA0\uFFF0-\uFFF8]/,r="[^\\S\\u00A0]",s=new RegExp(`${r}|[\\-\\u007C\\u00AD\\u2010\\u2012-\\u2014\\u2027\\u2056\\u2E17\\u2E40]`);function a({text:_,lang:g,fonts:y,style:u,weight:b,preResolvedFonts:S,unicodeFontsURL:T},R){const O=({chars:C,fonts:I})=>{let F,M;const D=[];for(let B=0;B<C.length;B++)C[B]!==M?(M=C[B],D.push(F={start:B,end:B,fontObj:I[C[B]]})):F.end=B;R(D)};S?O(S):n(_,O,{lang:g,fonts:y,style:u,weight:b,unicodeFontsURL:T})}function o({text:_="",font:g,lang:y,sdfGlyphSize:u=64,fontSize:b=400,fontWeight:S=1,fontStyle:T="normal",letterSpacing:R=0,lineHeight:O="normal",maxWidth:C=1/0,direction:I,textAlign:F="left",textIndent:M=0,whiteSpace:D="normal",overflowWrap:B="normal",anchorX:j=0,anchorY:U=0,metricsOnly:V=!1,unicodeFontsURL:k,preResolvedFonts:Z=null,includeCaretPositions:ee=!1,chunkedBoundsSize:oe=8192,colorRanges:ne=null},ie){const he=h(),fe={fontLoad:0,typesetting:0};_.indexOf("\r")>-1&&(console.info("Typesetter: got text with \\r chars; normalizing to \\n"),_=_.replace(/\r\n/g,`
`).replace(/\r/g,`
`)),b=+b,R=+R,C=+C,O=O||"normal",M=+M,a({text:_,lang:y,style:T,weight:S,fonts:typeof g=="string"?[{src:g}]:g,unicodeFontsURL:k,preResolvedFonts:Z},ce=>{fe.fontLoad=h()-he;const ae=isFinite(C);let ve=null,_e=null,Te=null,Fe=null,We=null,ht=null,ft=null,Bt=null,Me=0,yt=0,mt=D!=="nowrap";const St=new Map,nt=h();let Ft=M,qe=0,Ke=new v;const Et=[Ke];ce.forEach(Qe=>{const{fontObj:et}=Qe,{ascender:At,descender:Gt,unitsPerEm:on,lineGap:fn,capHeight:xt,xHeight:kt}=et;let Xt=St.get(et);if(!Xt){const ct=b/on,Dt=O==="normal"?(At-Gt+fn)*ct:O*b,Sn=(Dt-(At-Gt)*ct)/2,qt=Math.min(Dt,(At-Gt)*ct),wt=(At+Gt)/2*ct+qt/2;Xt={index:St.size,src:et.src,fontObj:et,fontSizeMult:ct,unitsPerEm:on,ascender:At*ct,descender:Gt*ct,capHeight:xt*ct,xHeight:kt*ct,lineHeight:Dt,baseline:-Sn-At*ct,caretTop:wt,caretBottom:wt-qt},St.set(et,Xt)}const{fontSizeMult:Ve}=Xt,lt=_.slice(Qe.start,Qe.end+1);let Qt,Ye;et.forEachGlyph(lt,b,R,(ct,Dt,Sn,qt)=>{Dt+=qe,qt+=Qe.start,Qt=Dt,Ye=ct;const wt=_.charAt(qt),dn=ct.advanceWidth*Ve,wn=Ke.count;let Pn;if("isEmpty"in ct||(ct.isWhitespace=!!wt&&new RegExp(r).test(wt),ct.canBreakAfter=!!wt&&s.test(wt),ct.isEmpty=ct.xMin===ct.xMax||ct.yMin===ct.yMax||i.test(wt)),!ct.isWhitespace&&!ct.isEmpty&&yt++,mt&&ae&&!ct.isWhitespace&&Dt+dn+Ft>C&&wn){if(Ke.glyphAt(wn-1).glyphObj.canBreakAfter)Pn=new v,Ft=-Dt;else for(let Ii=wn;Ii--;)if(Ii===0&&B==="break-word"){Pn=new v,Ft=-Dt;break}else if(Ke.glyphAt(Ii).glyphObj.canBreakAfter){Pn=Ke.splitAt(Ii+1);const Ei=Pn.glyphAt(0).x;Ft-=Ei;for(let Si=Pn.count;Si--;)Pn.glyphAt(Si).x-=Ei;break}Pn&&(Ke.isSoftWrapped=!0,Ke=Pn,Et.push(Ke),Me=C)}let Wn=Ke.glyphAt(Ke.count);Wn.glyphObj=ct,Wn.x=Dt+Ft,Wn.y=Sn,Wn.width=dn,Wn.charIndex=qt,Wn.fontData=Xt,wt===`
`&&(Ke=new v,Et.push(Ke),Ft=-(Dt+dn+R*b)+M)}),qe=Qt+Ye.advanceWidth*Ve+R*b});let ye=0;Et.forEach(Qe=>{let et=!0;for(let At=Qe.count;At--;){const Gt=Qe.glyphAt(At);et&&!Gt.glyphObj.isWhitespace&&(Qe.width=Gt.x+Gt.width,Qe.width>Me&&(Me=Qe.width),et=!1);let{lineHeight:on,capHeight:fn,xHeight:xt,baseline:kt}=Gt.fontData;on>Qe.lineHeight&&(Qe.lineHeight=on);const Xt=kt-Qe.baseline;Xt<0&&(Qe.baseline+=Xt,Qe.cap+=Xt,Qe.ex+=Xt),Qe.cap=Math.max(Qe.cap,Qe.baseline+fn),Qe.ex=Math.max(Qe.ex,Qe.baseline+xt)}Qe.baseline-=ye,Qe.cap-=ye,Qe.ex-=ye,ye+=Qe.lineHeight});let me=0,Le=0;if(j&&(typeof j=="number"?me=-j:typeof j=="string"&&(me=-Me*(j==="left"?0:j==="center"?.5:j==="right"?1:c(j)))),U&&(typeof U=="number"?Le=-U:typeof U=="string"&&(Le=U==="top"?0:U==="top-baseline"?-Et[0].baseline:U==="top-cap"?-Et[0].cap:U==="top-ex"?-Et[0].ex:U==="middle"?ye/2:U==="bottom"?ye:U==="bottom-baseline"?-Et[Et.length-1].baseline:c(U)*ye)),!V){const Qe=e.getEmbeddingLevels(_,I);ve=new Uint16Array(yt),_e=new Uint8Array(yt),Te=new Float32Array(yt*2),Fe={},ft=[1/0,1/0,-1/0,-1/0],Bt=[],ee&&(ht=new Float32Array(_.length*4)),ne&&(We=new Uint8Array(yt*3));let et=0,At=-1,Gt=-1,on,fn;if(Et.forEach((xt,kt)=>{let{count:Xt,width:Ve}=xt;if(Xt>0){let lt=0;for(let qt=Xt;qt--&&xt.glyphAt(qt).glyphObj.isWhitespace;)lt++;let Qt=0,Ye=0;if(F==="center")Qt=(Me-Ve)/2;else if(F==="right")Qt=Me-Ve;else if(F==="justify"&&xt.isSoftWrapped){let qt=0;for(let wt=Xt-lt;wt--;)xt.glyphAt(wt).glyphObj.isWhitespace&&qt++;Ye=(Me-Ve)/qt}if(Ye||Qt){let qt=0;for(let wt=0;wt<Xt;wt++){let dn=xt.glyphAt(wt);const wn=dn.glyphObj;dn.x+=Qt+qt,Ye!==0&&wn.isWhitespace&&wt<Xt-lt&&(qt+=Ye,dn.width+=Ye)}}const ct=e.getReorderSegments(_,Qe,xt.glyphAt(0).charIndex,xt.glyphAt(xt.count-1).charIndex);for(let qt=0;qt<ct.length;qt++){const[wt,dn]=ct[qt];let wn=1/0,Pn=-1/0;for(let Wn=0;Wn<Xt;Wn++)if(xt.glyphAt(Wn).charIndex>=wt){let Ii=Wn,Ei=Wn;for(;Ei<Xt;Ei++){let Si=xt.glyphAt(Ei);if(Si.charIndex>dn)break;Ei<Xt-lt&&(wn=Math.min(wn,Si.x),Pn=Math.max(Pn,Si.x+Si.width))}for(let Si=Ii;Si<Ei;Si++){const er=xt.glyphAt(Si);er.x=Pn-(er.x+er.width-wn)}break}}let Dt;const Sn=qt=>Dt=qt;for(let qt=0;qt<Xt;qt++){const wt=xt.glyphAt(qt);Dt=wt.glyphObj;const dn=Dt.index,wn=Qe.levels[wt.charIndex]&1;if(wn){const Pn=e.getMirroredCharacter(_[wt.charIndex]);Pn&&wt.fontData.fontObj.forEachGlyph(Pn,0,0,Sn)}if(ee){const{charIndex:Pn,fontData:Wn}=wt,Ii=wt.x+me,Ei=wt.x+wt.width+me;ht[Pn*4]=wn?Ei:Ii,ht[Pn*4+1]=wn?Ii:Ei,ht[Pn*4+2]=xt.baseline+Wn.caretBottom+Le,ht[Pn*4+3]=xt.baseline+Wn.caretTop+Le;const Si=Pn-At;Si>1&&f(ht,At,Si),At=Pn}if(ne){const{charIndex:Pn}=wt;for(;Pn>Gt;)Gt++,ne.hasOwnProperty(Gt)&&(fn=ne[Gt])}if(!Dt.isWhitespace&&!Dt.isEmpty){const Pn=et++,{fontSizeMult:Wn,src:Ii,index:Ei}=wt.fontData,Si=Fe[Ii]||(Fe[Ii]={});Si[dn]||(Si[dn]={path:Dt.path,pathBounds:[Dt.xMin,Dt.yMin,Dt.xMax,Dt.yMax]});const er=wt.x+me,Zi=wt.y+xt.baseline+Le;Te[Pn*2]=er,Te[Pn*2+1]=Zi;const Or=er+Dt.xMin*Wn,Wr=Zi+Dt.yMin*Wn,jr=er+Dt.xMax*Wn,ti=Zi+Dt.yMax*Wn;Or<ft[0]&&(ft[0]=Or),Wr<ft[1]&&(ft[1]=Wr),jr>ft[2]&&(ft[2]=jr),ti>ft[3]&&(ft[3]=ti),Pn%oe===0&&(on={start:Pn,end:Pn,rect:[1/0,1/0,-1/0,-1/0]},Bt.push(on)),on.end++;const rr=on.rect;if(Or<rr[0]&&(rr[0]=Or),Wr<rr[1]&&(rr[1]=Wr),jr>rr[2]&&(rr[2]=jr),ti>rr[3]&&(rr[3]=ti),ve[Pn]=dn,_e[Pn]=Ei,ne){const zi=Pn*3;We[zi]=fn>>16&255,We[zi+1]=fn>>8&255,We[zi+2]=fn&255}}}}}),ht){const xt=_.length-At;xt>1&&f(ht,At,xt)}}const it=[];St.forEach(({index:Qe,src:et,unitsPerEm:At,ascender:Gt,descender:on,lineHeight:fn,capHeight:xt,xHeight:kt})=>{it[Qe]={src:et,unitsPerEm:At,ascender:Gt,descender:on,lineHeight:fn,capHeight:xt,xHeight:kt}}),fe.typesetting=h()-nt,ie({glyphIds:ve,glyphFontIndices:_e,glyphPositions:Te,glyphData:Fe,fontData:it,caretPositions:ht,glyphColors:We,chunkedBounds:Bt,fontSize:b,topBaseline:Le+Et[0].baseline,blockBounds:[me,Le-ye,me+Me,Le],visibleBounds:ft,timings:fe})})}function l(_,g){o({..._,metricsOnly:!0},y=>{const[u,b,S,T]=y.blockBounds;g({width:S-u,height:T-b})})}function c(_){let g=_.match(/^([\d.]+)%$/),y=g?parseFloat(g[1]):NaN;return isNaN(y)?0:y/100}function f(_,g,y){const u=_[g*4],b=_[g*4+1],S=_[g*4+2],T=_[g*4+3],R=(b-u)/y;for(let O=0;O<y;O++){const C=(g+O)*4;_[C]=u+R*O,_[C+1]=u+R*(O+1),_[C+2]=S,_[C+3]=T}}function h(){return(self.performance||Date).now()}function v(){this.data=[]}const m=["glyphObj","x","y","width","charIndex","fontData"];return v.prototype={width:0,lineHeight:0,baseline:0,cap:0,ex:0,isSoftWrapped:!1,get count(){return Math.ceil(this.data.length/m.length)},glyphAt(_){let g=v.flyweight;return g.data=this.data,g.index=_,g},splitAt(_){let g=new v;return g.data=this.data.splice(_*m.length),g}},v.flyweight=m.reduce((_,g,y,u)=>(Object.defineProperty(_,g,{get(){return this.data[this.index*m.length+y]},set(b){this.data[this.index*m.length+y]=b}}),_),{data:null,index:0}),{typeset:o,measure:l}}const Hg=()=>(self.performance||Date).now(),SC=L9();let RD;function Kte(n,e,t,i,r,s,a,o,l,c,f=!0){return f?Qte(n,e,t,i,r,s,a,o,l,c).then(null,h=>(RD||(console.warn("WebGL SDF generation failed, falling back to JS",h),RD=!0),LD(n,e,t,i,r,s,a,o,l,c))):LD(n,e,t,i,r,s,a,o,l,c)}const WS=[],Zte=5;let HM=0;function I9(){const n=Hg();for(;WS.length&&Hg()-n<Zte;)WS.shift()();HM=WS.length?setTimeout(I9,0):0}const Qte=(...n)=>new Promise((e,t)=>{WS.push(()=>{const i=Hg();try{SC.webgl.generateIntoCanvas(...n),e({timing:Hg()-i})}catch(r){t(r)}}),HM||(HM=setTimeout(I9,0))}),Jte=4,ene=2e3,OD={};let tne=0;function LD(n,e,t,i,r,s,a,o,l,c){const f="TroikaTextSDFGenerator_JS_"+tne++%Jte;let h=OD[f];return h||(h=OD[f]={workerModule:py({name:f,workerId:f,dependencies:[L9,Hg],init(v,m){const _=v().javascript.generate;return function(...g){const y=m();return{textureData:_(...g),timing:m()-y}}},getTransferables(v){return[v.textureData.buffer]}}),requests:0,idleTimer:null}),h.requests++,clearTimeout(h.idleTimer),h.workerModule(n,e,t,i,r,s).then(({textureData:v,timing:m})=>{const _=Hg(),g=new Uint8Array(v.length*4);for(let y=0;y<v.length;y++)g[y*4+c]=v[y];return SC.webglUtils.renderImageData(a,g,o,l,n,e,1<<3-c),m+=Hg()-_,--h.requests===0&&(h.idleTimer=setTimeout(()=>{Pte(f)},ene)),{timing:m}})}function nne(n){n._warm||(SC.webgl.isSupported(n),n._warm=!0)}const ine=SC.webglUtils.resizeWebGLCanvasWithoutClearing,L_={unicodeFontsURL:null,sdfGlyphSize:64,sdfMargin:1/16,sdfExponent:9,textureWidth:2048},rne=new Zn;function o0(){return(self.performance||Date).now()}const PD=Object.create(null);function D9(n,e){n=one({},n);const t=o0(),i=[];if(n.font&&i.push({label:"user",src:lne(n.font)}),n.font=i,n.text=""+n.text,n.sdfGlyphSize=n.sdfGlyphSize||L_.sdfGlyphSize,n.unicodeFontsURL=n.unicodeFontsURL||L_.unicodeFontsURL,n.colorRanges!=null){let v={};for(let m in n.colorRanges)if(n.colorRanges.hasOwnProperty(m)){let _=n.colorRanges[m];typeof _!="number"&&(_=rne.set(_).getHex()),v[m]=_}n.colorRanges=v}Object.freeze(n);const{textureWidth:r,sdfExponent:s}=L_,{sdfGlyphSize:a}=n,o=r/a*4;let l=PD[a];if(!l){const v=document.createElement("canvas");v.width=r,v.height=a*256/o,l=PD[a]={glyphCount:0,sdfGlyphSize:a,sdfCanvas:v,sdfTexture:new _s(v,void 0,void 0,void 0,cs,cs),contextLost:!1,glyphsByFont:new Map},l.sdfTexture.generateMipmaps=!1,sne(l)}const{sdfTexture:c,sdfCanvas:f}=l;U9(n).then(v=>{const{glyphIds:m,glyphFontIndices:_,fontData:g,glyphPositions:y,fontSize:u,timings:b}=v,S=[],T=new Float32Array(m.length*4);let R=0,O=0;const C=o0(),I=g.map(j=>{let U=l.glyphsByFont.get(j.src);return U||l.glyphsByFont.set(j.src,U=new Map),U});m.forEach((j,U)=>{const V=_[U],{src:k,unitsPerEm:Z}=g[V];let ee=I[V].get(j);if(!ee){const{path:fe,pathBounds:ce}=v.glyphData[k][j],ae=Math.max(ce[2]-ce[0],ce[3]-ce[1])/a*(L_.sdfMargin*a+.5),ve=l.glyphCount++,_e=[ce[0]-ae,ce[1]-ae,ce[2]+ae,ce[3]+ae];I[V].set(j,ee={path:fe,atlasIndex:ve,sdfViewBox:_e}),S.push(ee)}const{sdfViewBox:oe}=ee,ne=y[O++],ie=y[O++],he=u/Z;T[R++]=ne+oe[0]*he,T[R++]=ie+oe[1]*he,T[R++]=ne+oe[2]*he,T[R++]=ie+oe[3]*he,m[U]=ee.atlasIndex}),b.quads=(b.quads||0)+(o0()-C);const F=o0();b.sdf={};const M=f.height,D=Math.ceil(l.glyphCount/o),B=Math.pow(2,Math.ceil(Math.log2(D*a)));B>M&&(console.info(`Increasing SDF texture size ${M}->${B}`),ine(f,r,B),c.dispose()),Promise.all(S.map(j=>N9(j,l,n.gpuAccelerateSDF).then(({timing:U})=>{b.sdf[j.atlasIndex]=U}))).then(()=>{S.length&&!l.contextLost&&(F9(l),c.needsUpdate=!0),b.sdfTotal=o0()-F,b.total=o0()-t,e(Object.freeze({parameters:n,sdfTexture:c,sdfGlyphSize:a,sdfExponent:s,glyphBounds:T,glyphAtlasIndices:m,glyphColors:v.glyphColors,caretPositions:v.caretPositions,chunkedBounds:v.chunkedBounds,ascender:v.ascender,descender:v.descender,lineHeight:v.lineHeight,capHeight:v.capHeight,xHeight:v.xHeight,topBaseline:v.topBaseline,blockBounds:v.blockBounds,visibleBounds:v.visibleBounds,timings:v.timings}))})}),Promise.resolve().then(()=>{l.contextLost||nne(f)})}function N9({path:n,atlasIndex:e,sdfViewBox:t},{sdfGlyphSize:i,sdfCanvas:r,contextLost:s},a){if(s)return Promise.resolve({timing:-1});const{textureWidth:o,sdfExponent:l}=L_,c=Math.max(t[2]-t[0],t[3]-t[1]),f=Math.floor(e/4),h=f%(o/i)*i,v=Math.floor(f/(o/i))*i,m=e%4;return Kte(i,i,n,t,c,l,r,h,v,m,a)}function sne(n){const e=n.sdfCanvas;e.addEventListener("webglcontextlost",t=>{console.log("Context Lost",t),t.preventDefault(),n.contextLost=!0}),e.addEventListener("webglcontextrestored",t=>{console.log("Context Restored",t),n.contextLost=!1;const i=[];n.glyphsByFont.forEach(r=>{r.forEach(s=>{i.push(N9(s,n,!0))})}),Promise.all(i).then(()=>{F9(n),n.sdfTexture.needsUpdate=!0})})}function ane({font:n,characters:e,sdfGlyphSize:t},i){let r=Array.isArray(e)?e.join(`
`):""+e;D9({font:n,sdfGlyphSize:t,text:r},i)}function one(n,e){for(let t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}let Zx;function lne(n){return Zx||(Zx=typeof document>"u"?{}:document.createElement("a")),Zx.href=n,Zx.href}function F9(n){if(typeof createImageBitmap!="function"){console.info("Safari<15: applying SDF canvas workaround");const{sdfCanvas:e,sdfTexture:t}=n,{width:i,height:r}=e,s=n.sdfCanvas.getContext("webgl");let a=t.image.data;(!a||a.length!==i*r*4)&&(a=new Uint8Array(i*r*4),t.image={width:i,height:r,data:a},t.flipY=!1,t.isDataTexture=!0),s.readPixels(0,0,i,r,s.RGBA,s.UNSIGNED_BYTE,a)}}const cne=py({name:"Typesetter",dependencies:[Yte,qte,Dte],init(n,e,t){return n(e,t())}}),U9=py({name:"Typesetter",dependencies:[cne],init(n){return function(e){return new Promise(t=>{n.typeset(e,t)})}},getTransferables(n){const e=[];for(let t in n)n[t]&&n[t].buffer&&e.push(n[t].buffer);return e}});U9.onMainThread;const ID={};function une(n){let e=ID[n];return e||(e=ID[n]=new Zh(1,1,n,n).translate(.5,.5,0)),e}const hne="aTroikaGlyphBounds",DD="aTroikaGlyphIndex",dne="aTroikaGlyphColor";class fne extends gC{constructor(){super(),this.detail=1,this.curveRadius=0,this.groups=[{start:0,count:1/0,materialIndex:0},{start:0,count:1/0,materialIndex:1}],this.boundingSphere=new Uo,this.boundingBox=new Wa}computeBoundingSphere(){}computeBoundingBox(){}set detail(e){if(e!==this._detail){this._detail=e,(typeof e!="number"||e<1)&&(e=1);let t=une(e);["position","normal","uv"].forEach(i=>{this.attributes[i]=t.attributes[i].clone()}),this.setIndex(t.getIndex().clone())}}get detail(){return this._detail}set curveRadius(e){e!==this._curveRadius&&(this._curveRadius=e,this._updateBounds())}get curveRadius(){return this._curveRadius}updateGlyphs(e,t,i,r,s){this.updateAttributeData(hne,e,4),this.updateAttributeData(DD,t,1),this.updateAttributeData(dne,s,3),this._blockBounds=i,this._chunkedBounds=r,this.instanceCount=t.length,this._updateBounds()}_updateBounds(){const e=this._blockBounds;if(e){const{curveRadius:t,boundingBox:i}=this;if(t){const{PI:r,floor:s,min:a,max:o,sin:l,cos:c}=Math,f=r/2,h=r*2,v=Math.abs(t),m=e[0]/v,_=e[2]/v,g=s((m+f)/h)!==s((_+f)/h)?-v:a(l(m)*v,l(_)*v),y=s((m-f)/h)!==s((_-f)/h)?v:o(l(m)*v,l(_)*v),u=s((m+r)/h)!==s((_+r)/h)?v*2:o(v-c(m)*v,v-c(_)*v);i.min.set(g,e[1],t<0?-u:0),i.max.set(y,e[3],t<0?0:u)}else i.min.set(e[0],e[1],0),i.max.set(e[2],e[3],0);i.getBoundingSphere(this.boundingSphere)}}applyClipRect(e){let t=this.getAttribute(DD).count,i=this._chunkedBounds;if(i)for(let r=i.length;r--;){t=i[r].end;let s=i[r].rect;if(s[1]<e.w&&s[3]>e.y&&s[0]<e.z&&s[2]>e.x)break}this.instanceCount=t}updateAttributeData(e,t,i){const r=this.getAttribute(e);t?r&&r.array.length===t.length?(r.array.set(t),r.needsUpdate=!0):(this.setAttribute(e,new jg(t,i)),delete this._maxInstanceCount,this.dispose()):r&&this.deleteAttribute(e)}}const pne=`
uniform vec2 uTroikaSDFTextureSize;
uniform float uTroikaSDFGlyphSize;
uniform vec4 uTroikaTotalBounds;
uniform vec4 uTroikaClipRect;
uniform mat3 uTroikaOrient;
uniform bool uTroikaUseGlyphColors;
uniform float uTroikaEdgeOffset;
uniform float uTroikaBlurRadius;
uniform vec2 uTroikaPositionOffset;
uniform float uTroikaCurveRadius;
attribute vec4 aTroikaGlyphBounds;
attribute float aTroikaGlyphIndex;
attribute vec3 aTroikaGlyphColor;
varying vec2 vTroikaGlyphUV;
varying vec4 vTroikaTextureUVBounds;
varying float vTroikaTextureChannel;
varying vec3 vTroikaGlyphColor;
varying vec2 vTroikaGlyphDimensions;
`,mne=`
vec4 bounds = aTroikaGlyphBounds;
bounds.xz += uTroikaPositionOffset.x;
bounds.yw -= uTroikaPositionOffset.y;

vec4 outlineBounds = vec4(
  bounds.xy - uTroikaEdgeOffset - uTroikaBlurRadius,
  bounds.zw + uTroikaEdgeOffset + uTroikaBlurRadius
);
vec4 clippedBounds = vec4(
  clamp(outlineBounds.xy, uTroikaClipRect.xy, uTroikaClipRect.zw),
  clamp(outlineBounds.zw, uTroikaClipRect.xy, uTroikaClipRect.zw)
);

vec2 clippedXY = (mix(clippedBounds.xy, clippedBounds.zw, position.xy) - bounds.xy) / (bounds.zw - bounds.xy);

position.xy = mix(bounds.xy, bounds.zw, clippedXY);

uv = (position.xy - uTroikaTotalBounds.xy) / (uTroikaTotalBounds.zw - uTroikaTotalBounds.xy);

float rad = uTroikaCurveRadius;
if (rad != 0.0) {
  float angle = position.x / rad;
  position.xz = vec2(sin(angle) * rad, rad - cos(angle) * rad);
  normal.xz = vec2(sin(angle), cos(angle));
}
  
position = uTroikaOrient * position;
normal = uTroikaOrient * normal;

vTroikaGlyphUV = clippedXY.xy;
vTroikaGlyphDimensions = vec2(bounds[2] - bounds[0], bounds[3] - bounds[1]);


float txCols = uTroikaSDFTextureSize.x / uTroikaSDFGlyphSize;
vec2 txUvPerSquare = uTroikaSDFGlyphSize / uTroikaSDFTextureSize;
vec2 txStartUV = txUvPerSquare * vec2(
  mod(floor(aTroikaGlyphIndex / 4.0), txCols),
  floor(floor(aTroikaGlyphIndex / 4.0) / txCols)
);
vTroikaTextureUVBounds = vec4(txStartUV, vec2(txStartUV) + txUvPerSquare);
vTroikaTextureChannel = mod(aTroikaGlyphIndex, 4.0);
`,gne=`
uniform sampler2D uTroikaSDFTexture;
uniform vec2 uTroikaSDFTextureSize;
uniform float uTroikaSDFGlyphSize;
uniform float uTroikaSDFExponent;
uniform float uTroikaEdgeOffset;
uniform float uTroikaFillOpacity;
uniform float uTroikaBlurRadius;
uniform vec3 uTroikaStrokeColor;
uniform float uTroikaStrokeWidth;
uniform float uTroikaStrokeOpacity;
uniform bool uTroikaSDFDebug;
varying vec2 vTroikaGlyphUV;
varying vec4 vTroikaTextureUVBounds;
varying float vTroikaTextureChannel;
varying vec2 vTroikaGlyphDimensions;

float troikaSdfValueToSignedDistance(float alpha) {
  // Inverse of exponential encoding in webgl-sdf-generator
  
  float maxDimension = max(vTroikaGlyphDimensions.x, vTroikaGlyphDimensions.y);
  float absDist = (1.0 - pow(2.0 * (alpha > 0.5 ? 1.0 - alpha : alpha), 1.0 / uTroikaSDFExponent)) * maxDimension;
  float signedDist = absDist * (alpha > 0.5 ? -1.0 : 1.0);
  return signedDist;
}

float troikaGlyphUvToSdfValue(vec2 glyphUV) {
  vec2 textureUV = mix(vTroikaTextureUVBounds.xy, vTroikaTextureUVBounds.zw, glyphUV);
  vec4 rgba = texture2D(uTroikaSDFTexture, textureUV);
  float ch = floor(vTroikaTextureChannel + 0.5); //NOTE: can't use round() in WebGL1
  return ch == 0.0 ? rgba.r : ch == 1.0 ? rgba.g : ch == 2.0 ? rgba.b : rgba.a;
}

float troikaGlyphUvToDistance(vec2 uv) {
  return troikaSdfValueToSignedDistance(troikaGlyphUvToSdfValue(uv));
}

float troikaGetAADist() {
  
  #if defined(GL_OES_standard_derivatives) || __VERSION__ >= 300
  return length(fwidth(vTroikaGlyphUV * vTroikaGlyphDimensions)) * 0.5;
  #else
  return vTroikaGlyphDimensions.x / 64.0;
  #endif
}

float troikaGetFragDistValue() {
  vec2 clampedGlyphUV = clamp(vTroikaGlyphUV, 0.5 / uTroikaSDFGlyphSize, 1.0 - 0.5 / uTroikaSDFGlyphSize);
  float distance = troikaGlyphUvToDistance(clampedGlyphUV);
 
  // Extrapolate distance when outside bounds:
  distance += clampedGlyphUV == vTroikaGlyphUV ? 0.0 : 
    length((vTroikaGlyphUV - clampedGlyphUV) * vTroikaGlyphDimensions);

  

  return distance;
}

float troikaGetEdgeAlpha(float distance, float distanceOffset, float aaDist) {
  #if defined(IS_DEPTH_MATERIAL) || defined(IS_DISTANCE_MATERIAL)
  float alpha = step(-distanceOffset, -distance);
  #else

  float alpha = smoothstep(
    distanceOffset + aaDist,
    distanceOffset - aaDist,
    distance
  );
  #endif

  return alpha;
}
`,vne=`
float aaDist = troikaGetAADist();
float fragDistance = troikaGetFragDistValue();
float edgeAlpha = uTroikaSDFDebug ?
  troikaGlyphUvToSdfValue(vTroikaGlyphUV) :
  troikaGetEdgeAlpha(fragDistance, uTroikaEdgeOffset, max(aaDist, uTroikaBlurRadius));

#if !defined(IS_DEPTH_MATERIAL) && !defined(IS_DISTANCE_MATERIAL)
vec4 fillRGBA = gl_FragColor;
fillRGBA.a *= uTroikaFillOpacity;
vec4 strokeRGBA = uTroikaStrokeWidth == 0.0 ? fillRGBA : vec4(uTroikaStrokeColor, uTroikaStrokeOpacity);
if (fillRGBA.a == 0.0) fillRGBA.rgb = strokeRGBA.rgb;
gl_FragColor = mix(fillRGBA, strokeRGBA, smoothstep(
  -uTroikaStrokeWidth - aaDist,
  -uTroikaStrokeWidth + aaDist,
  fragDistance
));
gl_FragColor.a *= edgeAlpha;
#endif

if (edgeAlpha == 0.0) {
  discard;
}
`;function yne(n){const e=GM(n,{chained:!0,extensions:{derivatives:!0},uniforms:{uTroikaSDFTexture:{value:null},uTroikaSDFTextureSize:{value:new ln},uTroikaSDFGlyphSize:{value:0},uTroikaSDFExponent:{value:0},uTroikaTotalBounds:{value:new Cr(0,0,0,0)},uTroikaClipRect:{value:new Cr(0,0,0,0)},uTroikaEdgeOffset:{value:0},uTroikaFillOpacity:{value:1},uTroikaPositionOffset:{value:new ln},uTroikaCurveRadius:{value:0},uTroikaBlurRadius:{value:0},uTroikaStrokeWidth:{value:0},uTroikaStrokeColor:{value:new Zn},uTroikaStrokeOpacity:{value:1},uTroikaOrient:{value:new hr},uTroikaUseGlyphColors:{value:!0},uTroikaSDFDebug:{value:!1}},vertexDefs:pne,vertexTransform:mne,fragmentDefs:gne,fragmentColorTransform:vne,customRewriter({vertexShader:t,fragmentShader:i}){let r=/\buniform\s+vec3\s+diffuse\b/;return r.test(i)&&(i=i.replace(r,"varying vec3 vTroikaGlyphColor").replace(/\bdiffuse\b/g,"vTroikaGlyphColor"),r.test(t)||(t=t.replace(P9,`uniform vec3 diffuse;
$&
vTroikaGlyphColor = uTroikaUseGlyphColors ? aTroikaGlyphColor / 255.0 : diffuse;
`))),{vertexShader:t,fragmentShader:i}}});return e.transparent=!0,e.forceSinglePass=!0,Object.defineProperties(e,{isTroikaTextMaterial:{value:!0},shadowSide:{get(){return this.side},set(){}}}),e}const j3=new Xd({color:16777215,side:El,transparent:!0}),ND=8421504,FD=new ri,Qx=new Oe,jA=new Oe,f_=[],_ne=new Oe,XA="+x+y";function UD(n){return Array.isArray(n)?n[0]:n}let k9=()=>{const n=new Xs(new Zh(1,1),j3);return k9=()=>n,n},B9=()=>{const n=new Xs(new Zh(1,1,32,1),j3);return B9=()=>n,n};const bne={type:"syncstart"},xne={type:"synccomplete"},z9=["font","fontSize","fontStyle","fontWeight","lang","letterSpacing","lineHeight","maxWidth","overflowWrap","text","direction","textAlign","textIndent","whiteSpace","anchorX","anchorY","colorRanges","sdfGlyphSize"],Sne=z9.concat("material","color","depthOffset","clipRect","curveRadius","orientation","glyphGeometryDetail");let G9=class extends Xs{constructor(){const e=new fne;super(e,null),this.text="",this.anchorX=0,this.anchorY=0,this.curveRadius=0,this.direction="auto",this.font=null,this.unicodeFontsURL=null,this.fontSize=.1,this.fontWeight="normal",this.fontStyle="normal",this.lang=null,this.letterSpacing=0,this.lineHeight="normal",this.maxWidth=1/0,this.overflowWrap="normal",this.textAlign="left",this.textIndent=0,this.whiteSpace="normal",this.material=null,this.color=null,this.colorRanges=null,this.outlineWidth=0,this.outlineColor=0,this.outlineOpacity=1,this.outlineBlur=0,this.outlineOffsetX=0,this.outlineOffsetY=0,this.strokeWidth=0,this.strokeColor=ND,this.strokeOpacity=1,this.fillOpacity=1,this.depthOffset=0,this.clipRect=null,this.orientation=XA,this.glyphGeometryDetail=1,this.sdfGlyphSize=null,this.gpuAccelerateSDF=!0,this.debugSDF=!1}sync(e){this._needsSync&&(this._needsSync=!1,this._isSyncing?(this._queuedSyncs||(this._queuedSyncs=[])).push(e):(this._isSyncing=!0,this.dispatchEvent(bne),D9({text:this.text,font:this.font,lang:this.lang,fontSize:this.fontSize||.1,fontWeight:this.fontWeight||"normal",fontStyle:this.fontStyle||"normal",letterSpacing:this.letterSpacing||0,lineHeight:this.lineHeight||"normal",maxWidth:this.maxWidth,direction:this.direction||"auto",textAlign:this.textAlign,textIndent:this.textIndent,whiteSpace:this.whiteSpace,overflowWrap:this.overflowWrap,anchorX:this.anchorX,anchorY:this.anchorY,colorRanges:this.colorRanges,includeCaretPositions:!0,sdfGlyphSize:this.sdfGlyphSize,gpuAccelerateSDF:this.gpuAccelerateSDF,unicodeFontsURL:this.unicodeFontsURL},t=>{this._isSyncing=!1,this._textRenderInfo=t,this.geometry.updateGlyphs(t.glyphBounds,t.glyphAtlasIndices,t.blockBounds,t.chunkedBounds,t.glyphColors);const i=this._queuedSyncs;i&&(this._queuedSyncs=null,this._needsSync=!0,this.sync(()=>{i.forEach(r=>r&&r())})),this.dispatchEvent(xne),e&&e()})))}onBeforeRender(e,t,i,r,s,a){this.sync(),s.isTroikaTextMaterial&&this._prepareForRender(s)}dispose(){this.geometry.dispose()}get textRenderInfo(){return this._textRenderInfo||null}createDerivedMaterial(e){return yne(e)}get material(){let e=this._derivedMaterial;const t=this._baseMaterial||this._defaultMaterial||(this._defaultMaterial=j3.clone());if((!e||!e.isDerivedFrom(t))&&(e=this._derivedMaterial=this.createDerivedMaterial(t),t.addEventListener("dispose",function i(){t.removeEventListener("dispose",i),e.dispose()})),this.hasOutline()){let i=e._outlineMtl;return i||(i=e._outlineMtl=Object.create(e,{id:{value:e.id+.1}}),i.isTextOutlineMaterial=!0,i.depthWrite=!1,i.map=null,e.addEventListener("dispose",function r(){e.removeEventListener("dispose",r),i.dispose()})),[i,e]}else return e}set material(e){e&&e.isTroikaTextMaterial?(this._derivedMaterial=e,this._baseMaterial=e.baseMaterial):this._baseMaterial=e}hasOutline(){return!!(this.outlineWidth||this.outlineBlur||this.outlineOffsetX||this.outlineOffsetY)}get glyphGeometryDetail(){return this.geometry.detail}set glyphGeometryDetail(e){this.geometry.detail=e}get curveRadius(){return this.geometry.curveRadius}set curveRadius(e){this.geometry.curveRadius=e}get customDepthMaterial(){return UD(this.material).getDepthMaterial()}set customDepthMaterial(e){}get customDistanceMaterial(){return UD(this.material).getDistanceMaterial()}set customDistanceMaterial(e){}_prepareForRender(e){const t=e.isTextOutlineMaterial,i=e.uniforms,r=this.textRenderInfo;if(r){const{sdfTexture:o,blockBounds:l}=r;i.uTroikaSDFTexture.value=o,i.uTroikaSDFTextureSize.value.set(o.image.width,o.image.height),i.uTroikaSDFGlyphSize.value=r.sdfGlyphSize,i.uTroikaSDFExponent.value=r.sdfExponent,i.uTroikaTotalBounds.value.fromArray(l),i.uTroikaUseGlyphColors.value=!t&&!!r.glyphColors;let c=0,f=0,h=0,v,m,_,g=0,y=0;if(t){let{outlineWidth:b,outlineOffsetX:S,outlineOffsetY:T,outlineBlur:R,outlineOpacity:O}=this;c=this._parsePercent(b)||0,f=Math.max(0,this._parsePercent(R)||0),v=O,g=this._parsePercent(S)||0,y=this._parsePercent(T)||0}else h=Math.max(0,this._parsePercent(this.strokeWidth)||0),h&&(_=this.strokeColor,i.uTroikaStrokeColor.value.set(_??ND),m=this.strokeOpacity,m==null&&(m=1)),v=this.fillOpacity;i.uTroikaEdgeOffset.value=c,i.uTroikaPositionOffset.value.set(g,y),i.uTroikaBlurRadius.value=f,i.uTroikaStrokeWidth.value=h,i.uTroikaStrokeOpacity.value=m,i.uTroikaFillOpacity.value=v??1,i.uTroikaCurveRadius.value=this.curveRadius||0;let u=this.clipRect;if(u&&Array.isArray(u)&&u.length===4)i.uTroikaClipRect.value.fromArray(u);else{const b=(this.fontSize||.1)*100;i.uTroikaClipRect.value.set(l[0]-b,l[1]-b,l[2]+b,l[3]+b)}this.geometry.applyClipRect(i.uTroikaClipRect.value)}i.uTroikaSDFDebug.value=!!this.debugSDF,e.polygonOffset=!!this.depthOffset,e.polygonOffsetFactor=e.polygonOffsetUnits=this.depthOffset||0;const s=t?this.outlineColor||0:this.color;if(s==null)delete e.color;else{const o=e.hasOwnProperty("color")?e.color:e.color=new Zn;(s!==o._input||typeof s=="object")&&o.set(o._input=s)}let a=this.orientation||XA;if(a!==e._orientation){let o=i.uTroikaOrient.value;a=a.replace(/[^-+xyz]/g,"");let l=a!==XA&&a.match(/^([-+])([xyz])([-+])([xyz])$/);if(l){let[,c,f,h,v]=l;Qx.set(0,0,0)[f]=c==="-"?1:-1,jA.set(0,0,0)[v]=h==="-"?-1:1,FD.lookAt(_ne,Qx.cross(jA),jA),o.setFromMatrix4(FD)}else o.identity();e._orientation=a}}_parsePercent(e){if(typeof e=="string"){let t=e.match(/^(-?[\d.]+)%$/),i=t?parseFloat(t[1]):NaN;e=(isNaN(i)?0:i/100)*this.fontSize}return e}localPositionToTextCoords(e,t=new ln){t.copy(e);const i=this.curveRadius;return i&&(t.x=Math.atan2(e.x,Math.abs(i)-Math.abs(e.z))*Math.abs(i)),t}worldPositionToTextCoords(e,t=new ln){return Qx.copy(e),this.localPositionToTextCoords(this.worldToLocal(Qx),t)}raycast(e,t){const{textRenderInfo:i,curveRadius:r}=this;if(i){const s=i.blockBounds,a=r?B9():k9(),o=a.geometry,{position:l,uv:c}=o.attributes;for(let f=0;f<c.count;f++){let h=s[0]+c.getX(f)*(s[2]-s[0]);const v=s[1]+c.getY(f)*(s[3]-s[1]);let m=0;r&&(m=r-Math.cos(h/r)*r,h=Math.sin(h/r)*r),l.setXYZ(f,h,v,m)}o.boundingSphere=this.geometry.boundingSphere,o.boundingBox=this.geometry.boundingBox,a.matrixWorld=this.matrixWorld,a.material.side=this.material.side,f_.length=0,a.raycast(e,f_);for(let f=0;f<f_.length;f++)f_[f].object=this,t.push(f_[f])}}copy(e){const t=this.geometry;return super.copy(e),this.geometry=t,Sne.forEach(i=>{this[i]=e[i]}),this}clone(){return new this.constructor().copy(this)}};z9.forEach(n=>{const e="_private_"+n;Object.defineProperty(G9.prototype,n,{get(){return this[e]},set(t){t!==this[e]&&(this[e]=t,this._needsSync=!0)}})});new Wa;new Zn;const qA=n=>n===Object(n)&&!Array.isArray(n)&&typeof n!="function";function X3(n,e){const t=br(s=>s.gl),i=Jf(pC,qA(n)?Object.values(n):n);return H.useLayoutEffect(()=>{e?.(i)},[e]),H.useEffect(()=>{if("initTexture"in t){let s=[];Array.isArray(i)?s=i:i instanceof _s?s=[i]:qA(i)&&(s=Object.values(i)),s.forEach(a=>{a instanceof _s&&t.initTexture(a)})}},[t,i]),H.useMemo(()=>{if(qA(n)){const s={};let a=0;for(const o in n)s[o]=i[a++];return s}else return i},[n,i])}X3.preload=n=>Jf.preload(pC,n);X3.clear=n=>Jf.clear(pC,n);function H9(n,e,t){const i=br(m=>m.size),r=br(m=>m.viewport),s=typeof n=="number"?n:i.width*r.dpr,a=i.height*r.dpr,o=(typeof n=="number"?t:n)||{},{samples:l=0,depth:c,...f}=o,h=c??o.depthBuffer,v=H.useMemo(()=>{const m=new xu(s,a,{minFilter:cs,magFilter:cs,type:Xo,...f});return h&&(m.depthTexture=new QE(s,a,Oa)),m.samples=l,m},[]);return H.useLayoutEffect(()=>{v.setSize(s,a),l&&(v.samples=l)},[l,v,s,a]),H.useEffect(()=>()=>v.dispose(),[]),v}const wne=n=>typeof n=="function",$9=H.forwardRef(({envMap:n,resolution:e=256,frames:t=1/0,children:i,makeDefault:r,...s},a)=>{const o=br(({set:y})=>y),l=br(({camera:y})=>y),c=br(({size:y})=>y),f=H.useRef(null);H.useImperativeHandle(a,()=>f.current,[]);const h=H.useRef(null),v=H9(e);H.useLayoutEffect(()=>{s.manual||f.current.updateProjectionMatrix()},[c,s]),H.useLayoutEffect(()=>{f.current.updateProjectionMatrix()}),H.useLayoutEffect(()=>{if(r){const y=l;return o(()=>({camera:f.current})),()=>o(()=>({camera:y}))}},[f,r,o]);let m=0,_=null;const g=wne(i);return ch(y=>{g&&(t===1/0||m<t)&&(h.current.visible=!1,y.gl.setRenderTarget(v),_=y.scene.background,n&&(y.scene.background=n),y.gl.render(y.scene,f.current),y.scene.background=_,y.gl.setRenderTarget(null),h.current.visible=!0,m++)}),H.createElement(H.Fragment,null,H.createElement("orthographicCamera",Dr({left:c.width/-2,right:c.width/2,top:c.height/2,bottom:c.height/-2,ref:f},s),!g&&i),H.createElement("group",{ref:h},g&&i(v.texture)))}),Ene=n=>typeof n=="function",Cne=H.forwardRef(({envMap:n,resolution:e=256,frames:t=1/0,makeDefault:i,children:r,...s},a)=>{const o=br(({set:y})=>y),l=br(({camera:y})=>y),c=br(({size:y})=>y),f=H.useRef(null);H.useImperativeHandle(a,()=>f.current,[]);const h=H.useRef(null),v=H9(e);H.useLayoutEffect(()=>{s.manual||(f.current.aspect=c.width/c.height)},[c,s]),H.useLayoutEffect(()=>{f.current.updateProjectionMatrix()});let m=0,_=null;const g=Ene(r);return ch(y=>{g&&(t===1/0||m<t)&&(h.current.visible=!1,y.gl.setRenderTarget(v),_=y.scene.background,n&&(y.scene.background=n),y.gl.render(y.scene,f.current),y.scene.background=_,y.gl.setRenderTarget(null),h.current.visible=!0,m++)}),H.useLayoutEffect(()=>{if(i){const y=l;return o(()=>({camera:f.current})),()=>o(()=>({camera:y}))}},[f,i,o]),H.createElement(H.Fragment,null,H.createElement("perspectiveCamera",Dr({ref:f},s),!g&&r),H.createElement("group",{ref:h},g&&r(v.texture)))}),$M=H.forwardRef(({makeDefault:n,camera:e,regress:t,domElement:i,enableDamping:r=!0,keyEvents:s=!1,onChange:a,onStart:o,onEnd:l,...c},f)=>{const h=br(O=>O.invalidate),v=br(O=>O.camera),m=br(O=>O.gl),_=br(O=>O.events),g=br(O=>O.setEvents),y=br(O=>O.set),u=br(O=>O.get),b=br(O=>O.performance),S=e||v,T=i||_.connected||m.domElement,R=H.useMemo(()=>new vte(S),[S]);return ch(()=>{R.enabled&&R.update()},-1),H.useEffect(()=>(s&&R.connect(s===!0?T:s),R.connect(T),()=>void R.dispose()),[s,T,t,R,h]),H.useEffect(()=>{const O=F=>{h(),t&&b.regress(),a&&a(F)},C=F=>{o&&o(F)},I=F=>{l&&l(F)};return R.addEventListener("change",O),R.addEventListener("start",C),R.addEventListener("end",I),()=>{R.removeEventListener("start",C),R.removeEventListener("end",I),R.removeEventListener("change",O)}},[a,o,l,R,h,g]),H.useEffect(()=>{if(n){const O=u().controls;return y({controls:R}),()=>y({controls:O})}},[n,R]),H.createElement("primitive",Dr({ref:f,object:R,enableDamping:r},c))});function Tne({defaultScene:n,defaultCamera:e,renderPriority:t=1}){const{gl:i,scene:r,camera:s}=br();let a;return ch(()=>{a=i.autoClear,t===1&&(i.autoClear=!0,i.render(n,e)),i.autoClear=!1,i.clearDepth(),i.render(r,s),i.autoClear=a},t),H.createElement("group",{onPointerOver:()=>null})}function Ane({children:n,renderPriority:e=1}){const{scene:t,camera:i}=br(),[r]=H.useState(()=>new fm);return H.createElement(H.Fragment,null,a9(H.createElement(H.Fragment,null,n,H.createElement(Tne,{defaultScene:t,defaultCamera:i,renderPriority:e})),r,{events:{priority:e+1}}))}const V9=H.createContext({}),Mne=()=>H.useContext(V9),Rne=2*Math.PI,YA=new Tr,kD=new ri,[l0,KA]=[new Fo,new Fo],BD=new Oe,zD=new Oe,One=n=>"minPolarAngle"in n,GD=n=>"getTarget"in n,W9=({alignment:n="bottom-right",margin:e=[80,80],renderPriority:t=1,onUpdate:i,onTarget:r,children:s})=>{const a=br(O=>O.size),o=br(O=>O.camera),l=br(O=>O.controls),c=br(O=>O.invalidate),f=H.useRef(null),h=H.useRef(null),v=H.useRef(!1),m=H.useRef(0),_=H.useRef(new Oe(0,0,0)),g=H.useRef(new Oe(0,0,0));H.useEffect(()=>{g.current.copy(o.up),YA.up.copy(o.up)},[o]);const y=H.useCallback(O=>{v.current=!0,(l||r)&&(_.current=r?.()||(GD(l)?l.getTarget(_.current):l?.target)),m.current=o.position.distanceTo(BD),l0.copy(o.quaternion),zD.copy(O).multiplyScalar(m.current).add(BD),YA.lookAt(zD),KA.copy(YA.quaternion),c()},[l,o,r,c]);ch((O,C)=>{if(h.current&&f.current){var I;if(v.current)if(l0.angleTo(KA)<.01)v.current=!1,One(l)&&o.up.copy(g.current);else{const F=C*Rne;l0.rotateTowards(KA,F),o.position.set(0,0,1).applyQuaternion(l0).multiplyScalar(m.current).add(_.current),o.up.set(0,1,0).applyQuaternion(l0).normalize(),o.quaternion.copy(l0),GD(l)&&l.setPosition(o.position.x,o.position.y,o.position.z),i?i():l&&l.update(C),c()}kD.copy(o.matrix).invert(),(I=f.current)==null||I.quaternion.setFromRotationMatrix(kD)}});const u=H.useMemo(()=>({tweenCamera:y}),[y]),[b,S]=e,T=n.endsWith("-center")?0:n.endsWith("-left")?-a.width/2+b:a.width/2-b,R=n.startsWith("center-")?0:n.startsWith("top-")?a.height/2-S:-a.height/2+S;return H.createElement(Ane,{renderPriority:t},H.createElement(V9.Provider,{value:u},H.createElement($9,{makeDefault:!0,ref:h,position:[0,0,200]}),H.createElement("group",{ref:f,position:[T,R,0]},s)))};function ZA({scale:n=[.8,.05,.05],color:e,rotation:t}){return H.createElement("group",{rotation:t},H.createElement("mesh",{position:[.4,0,0]},H.createElement("boxGeometry",{args:n}),H.createElement("meshBasicMaterial",{color:e,toneMapped:!1})))}function c0({onClick:n,font:e,disabled:t,arcStyle:i,label:r,labelColor:s,axisHeadScale:a=1,...o}){const l=br(g=>g.gl),c=H.useMemo(()=>{const g=document.createElement("canvas");g.width=64,g.height=64;const y=g.getContext("2d");return y.beginPath(),y.arc(32,32,16,0,2*Math.PI),y.closePath(),y.fillStyle=i,y.fill(),r&&(y.font=e,y.textAlign="center",y.fillStyle=s,y.fillText(r,32,41)),new Hk(g)},[i,r,s,e]),[f,h]=H.useState(!1),v=(r?1:.75)*(f?1.2:1)*a,m=g=>{g.stopPropagation(),h(!0)},_=g=>{g.stopPropagation(),h(!1)};return H.createElement("sprite",Dr({scale:v,onPointerOver:t?void 0:m,onPointerOut:t?void 0:n||_},o),H.createElement("spriteMaterial",{map:c,"map-anisotropy":l.capabilities.getMaxAnisotropy()||1,alphaTest:.3,opacity:r?1:.75,toneMapped:!1}))}const j9=({hideNegativeAxes:n,hideAxisHeads:e,disabled:t,font:i="18px Inter var, Arial, sans-serif",axisColors:r=["#ff2060","#20df80","#2080ff"],axisHeadScale:s=1,axisScale:a,labels:o=["X","Y","Z"],labelColor:l="#000",onClick:c,...f})=>{const[h,v,m]=r,{tweenCamera:_}=Mne(),g={font:i,disabled:t,labelColor:l,onClick:c,axisHeadScale:s,onPointerDown:t?void 0:y=>{_(y.object.position),y.stopPropagation()}};return H.createElement("group",Dr({scale:40},f),H.createElement(ZA,{color:h,rotation:[0,0,0],scale:a}),H.createElement(ZA,{color:v,rotation:[0,0,Math.PI/2],scale:a}),H.createElement(ZA,{color:m,rotation:[0,-Math.PI/2,0],scale:a}),!e&&H.createElement(H.Fragment,null,H.createElement(c0,Dr({arcStyle:h,position:[1,0,0],label:o[0]},g)),H.createElement(c0,Dr({arcStyle:v,position:[0,1,0],label:o[1]},g)),H.createElement(c0,Dr({arcStyle:m,position:[0,0,1],label:o[2]},g)),!n&&H.createElement(H.Fragment,null,H.createElement(c0,Dr({arcStyle:h,position:[-1,0,0]},g)),H.createElement(c0,Dr({arcStyle:v,position:[0,-1,0]},g)),H.createElement(c0,Dr({arcStyle:m,position:[0,0,-1]},g)))))};function X9(n,e,...t){const i=H.useRef(null),r=br(s=>s.scene);return H.useLayoutEffect(()=>{let s;if(n&&n!=null&&n.current&&e&&(i.current=s=new e(n.current,...t)),s)return s.traverse(a=>a.raycast=()=>null),r.add(s),()=>{i.current=void 0,r.remove(s),s.dispose==null||s.dispose()}},[r,e,n,...t]),ch(()=>{var s;return void((s=i.current)==null||s.update==null?void 0:s.update())}),i}const Lne=H.forwardRef(({children:n,enabled:e=!0,speed:t=1,rotationIntensity:i=1,floatIntensity:r=1,floatingRange:s=[-.1,.1],autoInvalidate:a=!1,...o},l)=>{const c=H.useRef(null);H.useImperativeHandle(l,()=>c.current,[]);const f=H.useRef(Math.random()*1e4);return ch(h=>{var v,m;if(!e||t===0)return;a&&h.invalidate();const _=f.current+h.clock.elapsedTime;c.current.rotation.x=Math.cos(_/4*t)/8*i,c.current.rotation.y=Math.sin(_/4*t)/8*i,c.current.rotation.z=Math.sin(_/4*t)/20*i;let g=Math.sin(_/4*t)/10;g=z1.mapLinear(g,-.1,.1,(v=s?.[0])!==null&&v!==void 0?v:-.1,(m=s?.[1])!==null&&m!==void 0?m:.1),c.current.position.y=g*r,c.current.updateMatrix()}),H.createElement("group",o,H.createElement("group",{ref:c,matrixAutoUpdate:!1},n))}),q9=(n,e,t)=>{let i;switch(n){case wc:i=new Uint8ClampedArray(e*t*4);break;case Xo:i=new Uint16Array(e*t*4);break;case kd:i=new Uint32Array(e*t*4);break;case FE:i=new Int8Array(e*t*4);break;case UE:i=new Int16Array(e*t*4);break;case U1:i=new Int32Array(e*t*4);break;case Oa:i=new Float32Array(e*t*4);break;default:throw new Error("Unsupported data type")}return i};let Jx;const Pne=(n,e,t,i)=>{if(Jx!==void 0)return Jx;const r=new xu(1,1,i);e.setRenderTarget(r);const s=new Xs(new Zh,new Xd({color:16777215}));e.render(s,t),e.setRenderTarget(null);const a=q9(n,r.width,r.height);return e.readRenderTargetPixels(r,0,0,r.width,r.height,a),r.dispose(),s.geometry.dispose(),s.material.dispose(),Jx=a[0]!==0,Jx};class q3{constructor(e){var t,i,r,s,a,o,l,c,f,h,v,m,_,g,y,u;this._rendererIsDisposable=!1,this._supportsReadPixels=!0,this.render=()=>{this._renderer.setRenderTarget(this._renderTarget);try{this._renderer.render(this._scene,this._camera)}catch(S){throw this._renderer.setRenderTarget(null),S}this._renderer.setRenderTarget(null)},this._width=e.width,this._height=e.height,this._type=e.type,this._colorSpace=e.colorSpace;const b={format:go,depthBuffer:!1,stencilBuffer:!1,type:this._type,colorSpace:this._colorSpace,anisotropy:((t=e.renderTargetOptions)===null||t===void 0?void 0:t.anisotropy)!==void 0?(i=e.renderTargetOptions)===null||i===void 0?void 0:i.anisotropy:1,generateMipmaps:((r=e.renderTargetOptions)===null||r===void 0?void 0:r.generateMipmaps)!==void 0?(s=e.renderTargetOptions)===null||s===void 0?void 0:s.generateMipmaps:!1,magFilter:((a=e.renderTargetOptions)===null||a===void 0?void 0:a.magFilter)!==void 0?(o=e.renderTargetOptions)===null||o===void 0?void 0:o.magFilter:cs,minFilter:((l=e.renderTargetOptions)===null||l===void 0?void 0:l.minFilter)!==void 0?(c=e.renderTargetOptions)===null||c===void 0?void 0:c.minFilter:cs,samples:((f=e.renderTargetOptions)===null||f===void 0?void 0:f.samples)!==void 0?(h=e.renderTargetOptions)===null||h===void 0?void 0:h.samples:void 0,wrapS:((v=e.renderTargetOptions)===null||v===void 0?void 0:v.wrapS)!==void 0?(m=e.renderTargetOptions)===null||m===void 0?void 0:m.wrapS:Do,wrapT:((_=e.renderTargetOptions)===null||_===void 0?void 0:_.wrapT)!==void 0?(g=e.renderTargetOptions)===null||g===void 0?void 0:g.wrapT:Do};if(this._material=e.material,e.renderer?this._renderer=e.renderer:(this._renderer=q3.instantiateRenderer(),this._rendererIsDisposable=!0),this._scene=new fm,this._camera=new Hh,this._camera.position.set(0,0,10),this._camera.left=-.5,this._camera.right=.5,this._camera.top=.5,this._camera.bottom=-.5,this._camera.updateProjectionMatrix(),!Pne(this._type,this._renderer,this._camera,b)){let S;switch(this._type){case Xo:S=this._renderer.extensions.has("EXT_color_buffer_float")?Oa:void 0;break}S!==void 0?(console.warn(`This browser does not support reading pixels from ${this._type} RenderTargets, switching to ${Oa}`),this._type=S):(this._supportsReadPixels=!1,console.warn("This browser dos not support toArray or toDataTexture, calls to those methods will result in an error thrown"))}this._quad=new Xs(new Zh,this._material),this._quad.geometry.computeBoundingBox(),this._scene.add(this._quad),this._renderTarget=new xu(this.width,this.height,b),this._renderTarget.texture.mapping=((y=e.renderTargetOptions)===null||y===void 0?void 0:y.mapping)!==void 0?(u=e.renderTargetOptions)===null||u===void 0?void 0:u.mapping:hm}static instantiateRenderer(){const e=new D3;return e.setSize(128,128),e}toArray(){if(!this._supportsReadPixels)throw new Error("Can't read pixels in this browser");const e=q9(this._type,this._width,this._height);return this._renderer.readRenderTargetPixels(this._renderTarget,0,0,this._width,this._height,e),e}toDataTexture(e){const t=new Gh(this.toArray(),this.width,this.height,go,this._type,e?.mapping||hm,e?.wrapS||Do,e?.wrapT||Do,e?.magFilter||cs,e?.minFilter||cs,e?.anisotropy||1,jh);return t.generateMipmaps=e?.generateMipmaps!==void 0?e?.generateMipmaps:!1,t}disposeOnDemandRenderer(){this._renderer.setRenderTarget(null),this._rendererIsDisposable&&(this._renderer.dispose(),this._renderer.forceContextLoss())}dispose(e){this.disposeOnDemandRenderer(),e&&this.renderTarget.dispose(),this.material instanceof Ec&&Object.values(this.material.uniforms).forEach(t=>{t.value instanceof _s&&t.value.dispose()}),Object.values(this.material).forEach(t=>{t instanceof _s&&t.dispose()}),this.material.dispose(),this._quad.geometry.dispose()}get width(){return this._width}set width(e){this._width=e,this._renderTarget.setSize(this._width,this._height)}get height(){return this._height}set height(e){this._height=e,this._renderTarget.setSize(this._width,this._height)}get renderer(){return this._renderer}get renderTarget(){return this._renderTarget}set renderTarget(e){this._renderTarget=e,this._width=e.width,this._height=e.height}get material(){return this._material}get type(){return this._type}get colorSpace(){return this._colorSpace}}const Ine=`
varying vec2 vUv;

void main() {
  vUv = uv;
  gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);
}
`,Dne=`
// min half float value
#define HALF_FLOAT_MIN vec3( -65504, -65504, -65504 )
// max half float value
#define HALF_FLOAT_MAX vec3( 65504, 65504, 65504 )

uniform sampler2D sdr;
uniform sampler2D gainMap;
uniform vec3 gamma;
uniform vec3 offsetHdr;
uniform vec3 offsetSdr;
uniform vec3 gainMapMin;
uniform vec3 gainMapMax;
uniform float weightFactor;

varying vec2 vUv;

void main() {
  vec3 rgb = texture2D( sdr, vUv ).rgb;
  vec3 recovery = texture2D( gainMap, vUv ).rgb;
  vec3 logRecovery = pow( recovery, gamma );
  vec3 logBoost = gainMapMin * ( 1.0 - logRecovery ) + gainMapMax * logRecovery;
  vec3 hdrColor = (rgb + offsetSdr) * exp2( logBoost * weightFactor ) - offsetHdr;
  vec3 clampedHdrColor = max( HALF_FLOAT_MIN, min( HALF_FLOAT_MAX, hdrColor ));
  gl_FragColor = vec4( clampedHdrColor , 1.0 );
}
`;class Nne extends Ec{constructor({gamma:e,offsetHdr:t,offsetSdr:i,gainMapMin:r,gainMapMax:s,maxDisplayBoost:a,hdrCapacityMin:o,hdrCapacityMax:l,sdr:c,gainMap:f}){super({name:"GainMapDecoderMaterial",vertexShader:Ine,fragmentShader:Dne,uniforms:{sdr:{value:c},gainMap:{value:f},gamma:{value:new Oe(1/e[0],1/e[1],1/e[2])},offsetHdr:{value:new Oe().fromArray(t)},offsetSdr:{value:new Oe().fromArray(i)},gainMapMin:{value:new Oe().fromArray(r)},gainMapMax:{value:new Oe().fromArray(s)},weightFactor:{value:(Math.log2(a)-o)/(l-o)}},blending:Dd,depthTest:!1,depthWrite:!1}),this._maxDisplayBoost=a,this._hdrCapacityMin=o,this._hdrCapacityMax=l,this.needsUpdate=!0,this.uniformsNeedUpdate=!0}get sdr(){return this.uniforms.sdr.value}set sdr(e){this.uniforms.sdr.value=e}get gainMap(){return this.uniforms.gainMap.value}set gainMap(e){this.uniforms.gainMap.value=e}get offsetHdr(){return this.uniforms.offsetHdr.value.toArray()}set offsetHdr(e){this.uniforms.offsetHdr.value.fromArray(e)}get offsetSdr(){return this.uniforms.offsetSdr.value.toArray()}set offsetSdr(e){this.uniforms.offsetSdr.value.fromArray(e)}get gainMapMin(){return this.uniforms.gainMapMin.value.toArray()}set gainMapMin(e){this.uniforms.gainMapMin.value.fromArray(e)}get gainMapMax(){return this.uniforms.gainMapMax.value.toArray()}set gainMapMax(e){this.uniforms.gainMapMax.value.fromArray(e)}get gamma(){const e=this.uniforms.gamma.value;return[1/e.x,1/e.y,1/e.z]}set gamma(e){const t=this.uniforms.gamma.value;t.x=1/e[0],t.y=1/e[1],t.z=1/e[2]}get hdrCapacityMin(){return this._hdrCapacityMin}set hdrCapacityMin(e){this._hdrCapacityMin=e,this.calculateWeight()}get hdrCapacityMax(){return this._hdrCapacityMax}set hdrCapacityMax(e){this._hdrCapacityMax=e,this.calculateWeight()}get maxDisplayBoost(){return this._maxDisplayBoost}set maxDisplayBoost(e){this._maxDisplayBoost=Math.max(1,Math.min(65504,e)),this.calculateWeight()}calculateWeight(){const e=(Math.log2(this._maxDisplayBoost)-this._hdrCapacityMin)/(this._hdrCapacityMax-this._hdrCapacityMin);this.uniforms.weightFactor.value=Math.max(0,Math.min(1,e))}}class Y9 extends Error{}class K9 extends Error{}const p_=(n,e,t)=>{const i=new RegExp(`${e}="([^"]*)"`,"i").exec(n);if(i)return i[1];const r=new RegExp(`<${e}[^>]*>([\\s\\S]*?)</${e}>`,"i").exec(n);if(r){const s=r[1].match(/<rdf:li>([^<]*)<\/rdf:li>/g);return s&&s.length===3?s.map(a=>a.replace(/<\/?rdf:li>/g,"")):r[1].trim()}if(t!==void 0)return t;throw new Error(`Can't find ${e} in gainmap metadata`)},Fne=n=>{let e;typeof TextDecoder<"u"?e=new TextDecoder().decode(n):e=n.toString();let t=e.indexOf("<x:xmpmeta");for(;t!==-1;){const i=e.indexOf("x:xmpmeta>",t),r=e.slice(t,i+10);try{const s=p_(r,"hdrgm:GainMapMin","0"),a=p_(r,"hdrgm:GainMapMax"),o=p_(r,"hdrgm:Gamma","1"),l=p_(r,"hdrgm:OffsetSDR","0.015625"),c=p_(r,"hdrgm:OffsetHDR","0.015625"),f=/hdrgm:HDRCapacityMin="([^"]*)"/.exec(r),h=f?f[1]:"0",v=/hdrgm:HDRCapacityMax="([^"]*)"/.exec(r);if(!v)throw new Error("Incomplete gainmap metadata");const m=v[1];return{gainMapMin:Array.isArray(s)?s.map(_=>parseFloat(_)):[parseFloat(s),parseFloat(s),parseFloat(s)],gainMapMax:Array.isArray(a)?a.map(_=>parseFloat(_)):[parseFloat(a),parseFloat(a),parseFloat(a)],gamma:Array.isArray(o)?o.map(_=>parseFloat(_)):[parseFloat(o),parseFloat(o),parseFloat(o)],offsetSdr:Array.isArray(l)?l.map(_=>parseFloat(_)):[parseFloat(l),parseFloat(l),parseFloat(l)],offsetHdr:Array.isArray(c)?c.map(_=>parseFloat(_)):[parseFloat(c),parseFloat(c),parseFloat(c)],hdrCapacityMin:parseFloat(h),hdrCapacityMax:parseFloat(m)}}catch{}t=e.indexOf("<x:xmpmeta",i)}};class Une{constructor(e){this.options={debug:e&&e.debug!==void 0?e.debug:!1,extractFII:e&&e.extractFII!==void 0?e.extractFII:!0,extractNonFII:e&&e.extractNonFII!==void 0?e.extractNonFII:!0}}extract(e){return new Promise((t,i)=>{const r=this.options.debug,s=new DataView(e.buffer);if(s.getUint16(0)!==65496){i(new Error("Not a valid jpeg"));return}const a=s.byteLength;let o=2,l=0,c;for(;o<a;){if(++l>250){i(new Error(`Found no marker after ${l} loops ðµ`));return}if(s.getUint8(o)!==255){i(new Error(`Not a valid marker at offset 0x${o.toString(16)}, found: 0x${s.getUint8(o).toString(16)}`));return}if(c=s.getUint8(o+1),r&&console.log(`Marker: ${c.toString(16)}`),c===226){r&&console.log("Found APP2 marker (0xffe2)");const f=o+4;if(s.getUint32(f)===1297106432){const h=f+4;let v;if(s.getUint16(h)===18761)v=!1;else if(s.getUint16(h)===19789)v=!0;else{i(new Error("No valid endianness marker found in TIFF header"));return}if(s.getUint16(h+2,!v)!==42){i(new Error("Not valid TIFF data! (no 0x002A marker)"));return}const m=s.getUint32(h+4,!v);if(m<8){i(new Error("Not valid TIFF data! (First offset less than 8)"));return}const _=h+m,g=s.getUint16(_,!v),y=_+2;let u=0;for(let R=y;R<y+12*g;R+=12)s.getUint16(R,!v)===45057&&(u=s.getUint32(R+8,!v));const S=_+2+g*12+4,T=[];for(let R=S;R<S+u*16;R+=16){const O={MPType:s.getUint32(R,!v),size:s.getUint32(R+4,!v),dataOffset:s.getUint32(R+8,!v),dependantImages:s.getUint32(R+12,!v),start:-1,end:-1,isFII:!1};O.dataOffset?(O.start=h+O.dataOffset,O.isFII=!1):(O.start=0,O.isFII=!0),O.end=O.start+O.size,T.push(O)}if(this.options.extractNonFII&&T.length){const R=new Blob([s]),O=[];for(const C of T){if(C.isFII&&!this.options.extractFII)continue;const I=R.slice(C.start,C.end+1,"image/jpeg");O.push(I)}t(O)}}}o+=2+s.getUint16(o+2)}})}}const kne=async n=>{const e=Fne(n);if(!e)throw new K9("Gain map XMP metadata not found");const i=await new Une({extractFII:!0,extractNonFII:!0}).extract(n);if(i.length!==2)throw new Y9("Gain map recovery image not found");return{sdr:new Uint8Array(await i[0].arrayBuffer()),gainMap:new Uint8Array(await i[1].arrayBuffer()),metadata:e}},HD=n=>new Promise((e,t)=>{const i=document.createElement("img");i.onload=()=>{e(i)},i.onerror=r=>{t(r)},i.src=URL.createObjectURL(n)});class Z9 extends Ac{constructor(e,t){super(t),e&&(this._renderer=e),this._internalLoadingManager=new fC}setRenderer(e){return this._renderer=e,this}setRenderTargetOptions(e){return this._renderTargetOptions=e,this}prepareQuadRenderer(){this._renderer||console.warn("WARNING: An existing WebGL Renderer was not passed to this Loader constructor or in setRenderer, the result of this Loader will need to be converted to a Data Texture with toDataTexture() before you can use it in your renderer.");const e=new Nne({gainMapMax:[1,1,1],gainMapMin:[0,0,0],gamma:[1,1,1],offsetHdr:[1,1,1],offsetSdr:[1,1,1],hdrCapacityMax:1,hdrCapacityMin:0,maxDisplayBoost:1,gainMap:new _s,sdr:new _s});return new q3({width:16,height:16,type:Xo,colorSpace:jh,material:e,renderer:this._renderer,renderTargetOptions:this._renderTargetOptions})}async render(e,t,i,r){const s=r?new Blob([r],{type:"image/jpeg"}):void 0,a=new Blob([i],{type:"image/jpeg"});let o,l,c=!1;if(typeof createImageBitmap>"u"){const v=await Promise.all([s?HD(s):Promise.resolve(void 0),HD(a)]);l=v[0],o=v[1],c=!0}else{const v=await Promise.all([s?createImageBitmap(s,{imageOrientation:"flipY"}):Promise.resolve(void 0),createImageBitmap(a,{imageOrientation:"flipY"})]);l=v[0],o=v[1]}const f=new _s(l||new ImageData(2,2),hm,Do,Do,cs,vM,go,wc,1,jh);f.flipY=c,f.needsUpdate=!0;const h=new _s(o,hm,Do,Do,cs,vM,go,wc,1,Wo);h.flipY=c,h.needsUpdate=!0,e.width=o.width,e.height=o.height,e.material.gainMap=f,e.material.sdr=h,e.material.gainMapMin=t.gainMapMin,e.material.gainMapMax=t.gainMapMax,e.material.offsetHdr=t.offsetHdr,e.material.offsetSdr=t.offsetSdr,e.material.gamma=t.gamma,e.material.hdrCapacityMin=t.hdrCapacityMin,e.material.hdrCapacityMax=t.hdrCapacityMax,e.material.maxDisplayBoost=Math.pow(2,t.hdrCapacityMax),e.material.needsUpdate=!0,e.render()}}class Bne extends Z9{load([e,t,i],r,s,a){const o=this.prepareQuadRenderer();let l,c,f;const h=async()=>{if(l&&c&&f){try{await this.render(o,f,l,c)}catch(F){this.manager.itemError(e),this.manager.itemError(t),this.manager.itemError(i),typeof a=="function"&&a(F),o.disposeOnDemandRenderer();return}typeof r=="function"&&r(o),this.manager.itemEnd(e),this.manager.itemEnd(t),this.manager.itemEnd(i),o.disposeOnDemandRenderer()}};let v=!0,m=0,_=0,g=!0,y=0,u=0,b=!0,S=0,T=0;const R=()=>{if(typeof s=="function"){const F=m+y+S,M=_+u+T,D=v&&g&&b;s(new ProgressEvent("progress",{lengthComputable:D,loaded:M,total:F}))}};this.manager.itemStart(e),this.manager.itemStart(t),this.manager.itemStart(i);const O=new bu(this._internalLoadingManager);O.setResponseType("arraybuffer"),O.setRequestHeader(this.requestHeader),O.setPath(this.path),O.setWithCredentials(this.withCredentials),O.load(e,async F=>{if(typeof F=="string")throw new Error("Invalid sdr buffer");l=F,await h()},F=>{v=F.lengthComputable,_=F.loaded,m=F.total,R()},F=>{this.manager.itemError(e),typeof a=="function"&&a(F)});const C=new bu(this._internalLoadingManager);C.setResponseType("arraybuffer"),C.setRequestHeader(this.requestHeader),C.setPath(this.path),C.setWithCredentials(this.withCredentials),C.load(t,async F=>{if(typeof F=="string")throw new Error("Invalid gainmap buffer");c=F,await h()},F=>{g=F.lengthComputable,u=F.loaded,y=F.total,R()},F=>{this.manager.itemError(t),typeof a=="function"&&a(F)});const I=new bu(this._internalLoadingManager);return I.setRequestHeader(this.requestHeader),I.setPath(this.path),I.setWithCredentials(this.withCredentials),I.load(i,async F=>{if(typeof F!="string")throw new Error("Invalid metadata string");f=JSON.parse(F),await h()},F=>{b=F.lengthComputable,T=F.loaded,S=F.total,R()},F=>{this.manager.itemError(i),typeof a=="function"&&a(F)}),o}}class zne extends Z9{load(e,t,i,r){const s=this.prepareQuadRenderer(),a=new bu(this._internalLoadingManager);return a.setResponseType("arraybuffer"),a.setRequestHeader(this.requestHeader),a.setPath(this.path),a.setWithCredentials(this.withCredentials),this.manager.itemStart(e),a.load(e,async o=>{if(typeof o=="string")throw new Error("Invalid buffer, received [string], was expecting [ArrayBuffer]");const l=new Uint8Array(o);let c,f,h;try{const v=await kne(l);c=v.sdr,f=v.gainMap,h=v.metadata}catch(v){if(v instanceof K9||v instanceof Y9)console.warn(`Failure to reconstruct an HDR image from ${e}: Gain map metadata not found in the file, HDRJPGLoader will render the SDR jpeg`),h={gainMapMin:[0,0,0],gainMapMax:[1,1,1],gamma:[1,1,1],hdrCapacityMin:0,hdrCapacityMax:1,offsetHdr:[0,0,0],offsetSdr:[0,0,0]},c=l;else throw v}try{await this.render(s,h,c,f)}catch(v){this.manager.itemError(e),typeof r=="function"&&r(v),s.disposeOnDemandRenderer();return}typeof t=="function"&&t(s),this.manager.itemEnd(e),s.disposeOnDemandRenderer()},i,o=>{this.manager.itemError(e),typeof r=="function"&&r(o)}),s}}const w1={apartment:"lebombo_1k.hdr",city:"potsdamer_platz_1k.hdr",dawn:"kiara_1_dawn_1k.hdr",forest:"forest_slope_1k.hdr",lobby:"st_fagans_interior_1k.hdr",night:"dikhololo_night_1k.hdr",park:"rooitou_park_1k.hdr",studio:"studio_small_03_1k.hdr",sunset:"venice_sunset_1k.hdr",warehouse:"empty_warehouse_01_1k.hdr"},Q9="https://raw.githack.com/pmndrs/drei-assets/456060a26bbeb8fdf79326f224b6d99b8bcce736/hdri/",F0=n=>Array.isArray(n),Y3=["/px.png","/nx.png","/py.png","/ny.png","/pz.png","/nz.png"];function wC({files:n=Y3,path:e="",preset:t=void 0,colorSpace:i=void 0,extensions:r}={}){t&&(K3(t),n=w1[t],e=Q9);const s=F0(n),{extension:a,isCubemap:o}=Z3(n),l=Q3(a);if(!l)throw new Error("useEnvironment: Unrecognized file extension: "+n);const c=br(m=>m.gl);H.useLayoutEffect(()=>{if(a!=="webp"&&a!=="jpg"&&a!=="jpeg")return;function m(){Jf.clear(l,s?[n]:n)}c.domElement.addEventListener("webglcontextlost",m,{once:!0})},[n,c.domElement]);const f=Jf(l,s?[n]:n,m=>{(a==="webp"||a==="jpg"||a==="jpeg")&&m.setRenderer(c),m.setPath==null||m.setPath(e),r&&r(m)});let h=s?f[0]:f;if(a==="jpg"||a==="jpeg"||a==="webp"){var v;h=(v=h.renderTarget)==null?void 0:v.texture}return h.mapping=o?Ud:$0,h.colorSpace=i??(o?"srgb":"srgb-linear"),h}const Gne={files:Y3,path:"",preset:void 0,extensions:void 0};wC.preload=n=>{const e={...Gne,...n};let{files:t,path:i=""}=e;const{preset:r,extensions:s}=e;r&&(K3(r),t=w1[r],i=Q9);const{extension:a}=Z3(t);if(a==="webp"||a==="jpg"||a==="jpeg")throw new Error("useEnvironment: Preloading gainmaps is not supported");const o=Q3(a);if(!o)throw new Error("useEnvironment: Unrecognized file extension: "+t);Jf.preload(o,F0(t)?[t]:t,l=>{l.setPath==null||l.setPath(i),s&&s(l)})};const Hne={files:Y3,preset:void 0};wC.clear=n=>{const e={...Hne,...n};let{files:t}=e;const{preset:i}=e;i&&(K3(i),t=w1[i]);const{extension:r}=Z3(t),s=Q3(r);if(!s)throw new Error("useEnvironment: Unrecognized file extension: "+t);Jf.clear(s,F0(t)?[t]:t)};function K3(n){if(!(n in w1))throw new Error("Preset must be one of: "+Object.keys(w1).join(", "))}function Z3(n){var e;const t=F0(n)&&n.length===6,i=F0(n)&&n.length===3&&n.some(a=>a.endsWith("json")),r=F0(n)?n[0]:n;return{extension:t?"cube":i?"webp":r.startsWith("data:application/exr")?"exr":r.startsWith("data:application/hdr")?"hdr":r.startsWith("data:image/jpeg")?"jpg":(e=r.split(".").pop())==null||(e=e.split("?"))==null||(e=e.shift())==null?void 0:e.toLowerCase(),isCubemap:t,isGainmap:i}}function Q3(n){return n==="cube"?pB:n==="hdr"?yte:n==="exr"?_te:n==="jpg"||n==="jpeg"?zne:n==="webp"?Bne:null}const $ne=n=>n.current&&n.current.isScene,Vne=n=>$ne(n)?n.current:n;function J3(n,e,t,i,r={}){var s,a,o,l;r={backgroundBlurriness:0,backgroundIntensity:1,backgroundRotation:[0,0,0],environmentIntensity:1,environmentRotation:[0,0,0],...r};const c=Vne(e||t),f=c.background,h=c.environment,v={backgroundBlurriness:c.backgroundBlurriness,backgroundIntensity:c.backgroundIntensity,backgroundRotation:(s=(a=c.backgroundRotation)==null||a.clone==null?void 0:a.clone())!==null&&s!==void 0?s:[0,0,0],environmentIntensity:c.environmentIntensity,environmentRotation:(o=(l=c.environmentRotation)==null||l.clone==null?void 0:l.clone())!==null&&o!==void 0?o:[0,0,0]};return n!=="only"&&(c.environment=i),n&&(c.background=i),Rd(c,r),()=>{n!=="only"&&(c.environment=h),n&&(c.background=f),Rd(c,v)}}function eO({scene:n,background:e=!1,map:t,...i}){const r=br(s=>s.scene);return H.useLayoutEffect(()=>{if(t)return J3(e,n,r,t,i)}),null}function J9({background:n=!1,scene:e,blur:t,backgroundBlurriness:i,backgroundIntensity:r,backgroundRotation:s,environmentIntensity:a,environmentRotation:o,...l}){const c=wC(l),f=br(h=>h.scene);return H.useLayoutEffect(()=>J3(n,e,f,c,{backgroundBlurriness:t??i,backgroundIntensity:r,backgroundRotation:s,environmentIntensity:a,environmentRotation:o})),H.useEffect(()=>()=>{c.dispose()},[c]),null}function Wne({children:n,near:e=.1,far:t=1e3,resolution:i=256,frames:r=1,map:s,background:a=!1,blur:o,backgroundBlurriness:l,backgroundIntensity:c,backgroundRotation:f,environmentIntensity:h,environmentRotation:v,scene:m,files:_,path:g,preset:y=void 0,extensions:u}){const b=br(I=>I.gl),S=br(I=>I.scene),T=H.useRef(null),[R]=H.useState(()=>new fm),O=H.useMemo(()=>{const I=new l3(i);return I.texture.type=Xo,I},[i]);H.useEffect(()=>()=>{O.dispose()},[O]),H.useLayoutEffect(()=>{if(r===1){const I=b.autoClear;b.autoClear=!0,T.current.update(b,R),b.autoClear=I}return J3(a,m,S,O.texture,{backgroundBlurriness:o??l,backgroundIntensity:c,backgroundRotation:f,environmentIntensity:h,environmentRotation:v})},[n,R,O.texture,m,S,a,r,b]);let C=1;return ch(()=>{if(r===1/0||C<r){const I=b.autoClear;b.autoClear=!0,T.current.update(b,R),b.autoClear=I,C++}}),H.createElement(H.Fragment,null,a9(H.createElement(H.Fragment,null,n,H.createElement("cubeCamera",{ref:T,args:[e,t,O]}),_||y?H.createElement(J9,{background:!0,files:_,preset:y,path:g,extensions:u}):s?H.createElement(eO,{background:!0,map:s,extensions:u}):null),R))}function jne(n){var e,t,i,r;const s=wC(n),a=n.map||s;H.useMemo(()=>t9({GroundProjectedEnvImpl:cte}),[]),H.useEffect(()=>()=>{s.dispose()},[s]);const o=H.useMemo(()=>[a],[a]),l=(e=n.ground)==null?void 0:e.height,c=(t=n.ground)==null?void 0:t.radius,f=(i=(r=n.ground)==null?void 0:r.scale)!==null&&i!==void 0?i:1e3;return H.createElement(H.Fragment,null,H.createElement(eO,Dr({},n,{map:a})),H.createElement("groundProjectedEnvImpl",{args:o,scale:f,height:l,radius:c}))}function Xne(n){return n.ground?H.createElement(jne,n):n.map?H.createElement(eO,n):n.children?H.createElement(Wne,n):H.createElement(J9,n)}const eb=H.createContext(null),eS=new Oe,$D=new Oe,qne=(n,e,t,i)=>{const r=e.dot(e),s=e.dot(n)-e.dot(t),a=e.dot(i);return a===0?-s/r:(eS.copy(i).multiplyScalar(r/a).sub(e),$D.copy(i).multiplyScalar(s/a).add(t).sub(n),-eS.dot($D)/eS.dot(eS))},Yne=new Oe(0,1,0),VD=new ri,QA=({direction:n,axis:e})=>{const{translation:t,translationLimits:i,annotations:r,annotationsClass:s,depthTest:a,scale:o,lineWidth:l,fixed:c,axisColors:f,hoveredColor:h,opacity:v,renderOrder:m,onDragStart:_,onDrag:g,onDragEnd:y,userData:u}=H.useContext(eb),b=br(ee=>ee.controls),S=H.useRef(null),T=H.useRef(null),R=H.useRef(null),O=H.useRef(0),[C,I]=H.useState(!1),F=H.useCallback(ee=>{r&&(S.current.innerText=`${t.current[e].toFixed(2)}`,S.current.style.display="block"),ee.stopPropagation();const oe=new ri().extractRotation(T.current.matrixWorld),ne=ee.point.clone(),ie=new Oe().setFromMatrixPosition(T.current.matrixWorld),he=n.clone().applyMatrix4(oe).normalize();R.current={clickPoint:ne,dir:he},O.current=t.current[e],_({component:"Arrow",axis:e,origin:ie,directions:[he]}),b&&(b.enabled=!1),ee.target.setPointerCapture(ee.pointerId)},[r,n,b,_,t,e]),M=H.useCallback(ee=>{if(ee.stopPropagation(),C||I(!0),R.current){const{clickPoint:oe,dir:ne}=R.current,[ie,he]=i?.[e]||[void 0,void 0];let fe=qne(oe,ne,ee.ray.origin,ee.ray.direction);ie!==void 0&&(fe=Math.max(fe,ie-O.current)),he!==void 0&&(fe=Math.min(fe,he-O.current)),t.current[e]=O.current+fe,r&&(S.current.innerText=`${t.current[e].toFixed(2)}`),VD.makeTranslation(ne.x*fe,ne.y*fe,ne.z*fe),g(VD)}},[r,g,C,t,i,e]),D=H.useCallback(ee=>{r&&(S.current.style.display="none"),ee.stopPropagation(),R.current=null,y(),b&&(b.enabled=!0),ee.target.releasePointerCapture(ee.pointerId)},[r,b,y]),B=H.useCallback(ee=>{ee.stopPropagation(),I(!1)},[]),{cylinderLength:j,coneWidth:U,coneLength:V,matrixL:k}=H.useMemo(()=>{const ee=c?l/o*1.6:o/20,oe=c?.2:o/5,ne=c?1-oe:o-oe,ie=new Fo().setFromUnitVectors(Yne,n.clone().normalize()),he=new ri().makeRotationFromQuaternion(ie);return{cylinderLength:ne,coneWidth:ee,coneLength:oe,matrixL:he}},[n,o,l,c]),Z=C?h:f[e];return H.createElement("group",{ref:T},H.createElement("group",{matrix:k,matrixAutoUpdate:!1,onPointerDown:F,onPointerMove:M,onPointerUp:D,onPointerOut:B},r&&H.createElement(_C,{position:[0,-V,0]},H.createElement("div",{style:{display:"none",background:"#151520",color:"white",padding:"6px 8px",borderRadius:7,whiteSpace:"nowrap"},className:s,ref:S})),H.createElement("mesh",{visible:!1,position:[0,(j+V)/2,0],userData:u},H.createElement("cylinderGeometry",{args:[U*1.4,U*1.4,j+V,8,1]})),H.createElement(qw,{transparent:!0,raycast:()=>null,depthTest:a,points:[0,0,0,0,j,0],lineWidth:l,side:El,color:Z,opacity:v,polygonOffset:!0,renderOrder:1,polygonOffsetFactor:-10,fog:!1}),H.createElement("mesh",{raycast:()=>null,position:[0,j+V/2,0],renderOrder:m},H.createElement("coneGeometry",{args:[U,V,24,1]}),H.createElement("meshBasicMaterial",{transparent:!0,depthTest:a,color:Z,opacity:v,polygonOffset:!0,polygonOffsetFactor:-10,fog:!1}))))},JA=new Oe,e2=new Oe,t2=n=>n*180/Math.PI,Kne=n=>n*Math.PI/180,Zne=(n,e,t,i,r)=>{JA.copy(n).sub(t),e2.copy(e).sub(t);const s=i.dot(i),a=r.dot(r),o=JA.dot(i)/s,l=JA.dot(r)/a,c=e2.dot(i)/s,f=e2.dot(r)/a,h=Math.atan2(l,o);return Math.atan2(f,c)-h},Qne=(n,e)=>{let t=Math.floor(n/e);return t=t<0?t+1:t,n-t*e},WD=n=>{let e=Qne(n,2*Math.PI);return Math.abs(e)<1e-6?0:(e<0&&(e+=2*Math.PI),e)},tS=new ri,jD=new Oe,nS=new rp,n2=new Oe,i2=({dir1:n,dir2:e,axis:t})=>{const{rotationLimits:i,annotations:r,annotationsClass:s,depthTest:a,scale:o,lineWidth:l,fixed:c,axisColors:f,hoveredColor:h,renderOrder:v,opacity:m,onDragStart:_,onDrag:g,onDragEnd:y,userData:u}=H.useContext(eb),b=br(Z=>Z.controls),S=H.useRef(null),T=H.useRef(null),R=H.useRef(0),O=H.useRef(0),C=H.useRef(null),[I,F]=H.useState(!1),M=H.useCallback(Z=>{r&&(S.current.innerText=`${t2(O.current).toFixed(0)}Âº`,S.current.style.display="block"),Z.stopPropagation();const ee=Z.point.clone(),oe=new Oe().setFromMatrixPosition(T.current.matrixWorld),ne=new Oe().setFromMatrixColumn(T.current.matrixWorld,0).normalize(),ie=new Oe().setFromMatrixColumn(T.current.matrixWorld,1).normalize(),he=new Oe().setFromMatrixColumn(T.current.matrixWorld,2).normalize(),fe=new Fh().setFromNormalAndCoplanarPoint(he,oe);C.current={clickPoint:ee,origin:oe,e1:ne,e2:ie,normal:he,plane:fe},_({component:"Rotator",axis:t,origin:oe,directions:[ne,ie,he]}),b&&(b.enabled=!1),Z.target.setPointerCapture(Z.pointerId)},[r,b,_,t]),D=H.useCallback(Z=>{if(Z.stopPropagation(),I||F(!0),C.current){const{clickPoint:ee,origin:oe,e1:ne,e2:ie,normal:he,plane:fe}=C.current,[ce,ae]=i?.[t]||[void 0,void 0];nS.copy(Z.ray),nS.intersectPlane(fe,n2),nS.direction.negate(),nS.intersectPlane(fe,n2);let ve=Zne(ee,n2,oe,ne,ie),_e=t2(ve);Z.shiftKey&&(_e=Math.round(_e/10)*10,ve=Kne(_e)),ce!==void 0&&ae!==void 0&&ae-ce<2*Math.PI?(ve=WD(ve),ve=ve>Math.PI?ve-2*Math.PI:ve,ve=z1.clamp(ve,ce-R.current,ae-R.current),O.current=R.current+ve):(O.current=WD(R.current+ve),O.current=O.current>Math.PI?O.current-2*Math.PI:O.current),r&&(_e=t2(O.current),S.current.innerText=`${_e.toFixed(0)}Âº`),tS.makeRotationAxis(he,ve),jD.copy(oe).applyMatrix4(tS).sub(oe).negate(),tS.setPosition(jD),g(tS)}},[r,g,I,i,t]),B=H.useCallback(Z=>{r&&(S.current.style.display="none"),Z.stopPropagation(),R.current=O.current,C.current=null,y(),b&&(b.enabled=!0),Z.target.releasePointerCapture(Z.pointerId)},[r,b,y]),j=H.useCallback(Z=>{Z.stopPropagation(),F(!1)},[]),U=H.useMemo(()=>{const Z=n.clone().normalize(),ee=e.clone().normalize();return new ri().makeBasis(Z,ee,Z.clone().cross(ee))},[n,e]),V=c?.65:o*.65,k=H.useMemo(()=>{const ee=[];for(let oe=0;oe<=32;oe++){const ne=oe*(Math.PI/2)/32;ee.push(new Oe(Math.cos(ne)*V,Math.sin(ne)*V,0))}return ee},[V]);return H.createElement("group",{ref:T,onPointerDown:M,onPointerMove:D,onPointerUp:B,onPointerOut:j,matrix:U,matrixAutoUpdate:!1},r&&H.createElement(_C,{position:[V,V,0]},H.createElement("div",{style:{display:"none",background:"#151520",color:"white",padding:"6px 8px",borderRadius:7,whiteSpace:"nowrap"},className:s,ref:S})),H.createElement(qw,{points:k,lineWidth:l*4,visible:!1,userData:u}),H.createElement(qw,{transparent:!0,raycast:()=>null,depthTest:a,points:k,lineWidth:l,side:El,color:I?h:f[t],opacity:m,polygonOffset:!0,polygonOffsetFactor:-10,renderOrder:v,fog:!1}))},Jne=(n,e,t)=>{const i=Math.abs(n.x)>=Math.abs(n.y)&&Math.abs(n.x)>=Math.abs(n.z)?0:Math.abs(n.y)>=Math.abs(n.x)&&Math.abs(n.y)>=Math.abs(n.z)?1:2,r=[0,1,2].sort((_,g)=>Math.abs(e.getComponent(g))-Math.abs(e.getComponent(_))),s=i===r[0]?r[1]:r[0],a=n.getComponent(i),o=n.getComponent(s),l=e.getComponent(i),c=e.getComponent(s),f=t.getComponent(i),v=(t.getComponent(s)-f*(o/a))/(c-l*(o/a));return[(f-v*l)/a,v]},iS=new rp,rS=new Oe,XD=new ri,r2=({dir1:n,dir2:e,axis:t})=>{const{translation:i,translationLimits:r,annotations:s,annotationsClass:a,depthTest:o,scale:l,lineWidth:c,fixed:f,axisColors:h,hoveredColor:v,opacity:m,onDragStart:_,onDrag:g,onDragEnd:y,userData:u}=H.useContext(eb),b=br(oe=>oe.controls),S=H.useRef(null),T=H.useRef(null),R=H.useRef(null),O=H.useRef(0),C=H.useRef(0),[I,F]=H.useState(!1),M=H.useCallback(oe=>{s&&(S.current.innerText=`${i.current[(t+1)%3].toFixed(2)}, ${i.current[(t+2)%3].toFixed(2)}`,S.current.style.display="block"),oe.stopPropagation();const ne=oe.point.clone(),ie=new Oe().setFromMatrixPosition(T.current.matrixWorld),he=new Oe().setFromMatrixColumn(T.current.matrixWorld,0).normalize(),fe=new Oe().setFromMatrixColumn(T.current.matrixWorld,1).normalize(),ce=new Oe().setFromMatrixColumn(T.current.matrixWorld,2).normalize(),ae=new Fh().setFromNormalAndCoplanarPoint(ce,ie);R.current={clickPoint:ne,e1:he,e2:fe,plane:ae},O.current=i.current[(t+1)%3],C.current=i.current[(t+2)%3],_({component:"Slider",axis:t,origin:ie,directions:[he,fe,ce]}),b&&(b.enabled=!1),oe.target.setPointerCapture(oe.pointerId)},[s,b,_,t]),D=H.useCallback(oe=>{if(oe.stopPropagation(),I||F(!0),R.current){const{clickPoint:ne,e1:ie,e2:he,plane:fe}=R.current,[ce,ae]=r?.[(t+1)%3]||[void 0,void 0],[ve,_e]=r?.[(t+2)%3]||[void 0,void 0];iS.copy(oe.ray),iS.intersectPlane(fe,rS),iS.direction.negate(),iS.intersectPlane(fe,rS),rS.sub(ne);let[Te,Fe]=Jne(ie,he,rS);ce!==void 0&&(Te=Math.max(Te,ce-O.current)),ae!==void 0&&(Te=Math.min(Te,ae-O.current)),ve!==void 0&&(Fe=Math.max(Fe,ve-C.current)),_e!==void 0&&(Fe=Math.min(Fe,_e-C.current)),i.current[(t+1)%3]=O.current+Te,i.current[(t+2)%3]=C.current+Fe,s&&(S.current.innerText=`${i.current[(t+1)%3].toFixed(2)}, ${i.current[(t+2)%3].toFixed(2)}`),XD.makeTranslation(Te*ie.x+Fe*he.x,Te*ie.y+Fe*he.y,Te*ie.z+Fe*he.z),g(XD)}},[s,g,I,i,r,t]),B=H.useCallback(oe=>{s&&(S.current.style.display="none"),oe.stopPropagation(),R.current=null,y(),b&&(b.enabled=!0),oe.target.releasePointerCapture(oe.pointerId)},[s,b,y]),j=H.useCallback(oe=>{oe.stopPropagation(),F(!1)},[]),U=H.useMemo(()=>{const oe=n.clone().normalize(),ne=e.clone().normalize();return new ri().makeBasis(oe,ne,oe.clone().cross(ne))},[n,e]),V=f?1/7:l/7,k=f?.225:l*.225,Z=I?v:h[t],ee=H.useMemo(()=>[new Oe(0,0,0),new Oe(0,k,0),new Oe(k,k,0),new Oe(k,0,0),new Oe(0,0,0)],[k]);return H.createElement("group",{ref:T,matrix:U,matrixAutoUpdate:!1},s&&H.createElement(_C,{position:[0,0,0]},H.createElement("div",{style:{display:"none",background:"#151520",color:"white",padding:"6px 8px",borderRadius:7,whiteSpace:"nowrap"},className:a,ref:S})),H.createElement("group",{position:[V*1.7,V*1.7,0]},H.createElement("mesh",{visible:!0,onPointerDown:M,onPointerMove:D,onPointerUp:B,onPointerOut:j,scale:k,userData:u},H.createElement("planeGeometry",null),H.createElement("meshBasicMaterial",{transparent:!0,depthTest:o,color:Z,polygonOffset:!0,polygonOffsetFactor:-10,side:El,fog:!1})),H.createElement(qw,{position:[-k/2,-k/2,0],transparent:!0,depthTest:o,points:ee,lineWidth:c,color:Z,opacity:m,polygonOffset:!0,polygonOffsetFactor:-10,userData:u,fog:!1})))},P_=new Oe,qD=new Oe,eie=(n,e,t,i)=>{const r=e.dot(e),s=e.dot(n)-e.dot(t),a=e.dot(i);return a===0?-s/r:(P_.copy(i).multiplyScalar(r/a).sub(e),qD.copy(i).multiplyScalar(s/a).add(t).sub(n),-P_.dot(qD)/P_.dot(P_))},tie=new Oe(0,1,0),m_=new Oe,YD=new ri,s2=({direction:n,axis:e})=>{const{scaleLimits:t,annotations:i,annotationsClass:r,depthTest:s,scale:a,lineWidth:o,fixed:l,axisColors:c,hoveredColor:f,opacity:h,renderOrder:v,onDragStart:m,onDrag:_,onDragEnd:g,userData:y}=H.useContext(eb),u=br(oe=>oe.size),b=br(oe=>oe.controls),S=H.useRef(null),T=H.useRef(null),R=H.useRef(null),O=H.useRef(1),C=H.useRef(1),I=H.useRef(null),[F,M]=H.useState(!1),D=l?1.2:1.2*a,B=H.useCallback(oe=>{i&&(S.current.innerText=`${C.current.toFixed(2)}`,S.current.style.display="block"),oe.stopPropagation();const ne=new ri().extractRotation(T.current.matrixWorld),ie=oe.point.clone(),he=new Oe().setFromMatrixPosition(T.current.matrixWorld),fe=n.clone().applyMatrix4(ne).normalize(),ce=T.current.matrixWorld.clone(),ae=ce.clone().invert(),ve=l?1/R9(T.current.getWorldPosition(P_),a,oe.camera,u):1;I.current={clickPoint:ie,dir:fe,mPLG:ce,mPLGInv:ae,offsetMultiplier:ve},m({component:"Sphere",axis:e,origin:he,directions:[fe]}),b&&(b.enabled=!1),oe.target.setPointerCapture(oe.pointerId)},[i,b,n,m,e,l,a,u]),j=H.useCallback(oe=>{if(oe.stopPropagation(),F||M(!0),I.current){const{clickPoint:ne,dir:ie,mPLG:he,mPLGInv:fe,offsetMultiplier:ce}=I.current,[ae,ve]=t?.[e]||[1e-5,void 0],Te=eie(ne,ie,oe.ray.origin,oe.ray.direction)*ce,Fe=l?Te:Te/a;let We=Math.pow(2,Fe*.2);oe.shiftKey&&(We=Math.round(We*10)/10),We=Math.max(We,ae/O.current),ve!==void 0&&(We=Math.min(We,ve/O.current)),C.current=O.current*We,R.current.position.set(0,D+Te,0),i&&(S.current.innerText=`${C.current.toFixed(2)}`),m_.set(1,1,1),m_.setComponent(e,We),YD.makeScale(m_.x,m_.y,m_.z).premultiply(he).multiply(fe),_(YD)}},[i,D,_,F,t,e]),U=H.useCallback(oe=>{i&&(S.current.style.display="none"),oe.stopPropagation(),O.current=C.current,I.current=null,R.current.position.set(0,D,0),g(),b&&(b.enabled=!0),oe.target.releasePointerCapture(oe.pointerId)},[i,b,g,D]),V=H.useCallback(oe=>{oe.stopPropagation(),M(!1)},[]),{radius:k,matrixL:Z}=H.useMemo(()=>{const oe=l?o/a*1.8:a/22.5,ne=new Fo().setFromUnitVectors(tie,n.clone().normalize()),ie=new ri().makeRotationFromQuaternion(ne);return{radius:oe,matrixL:ie}},[n,a,o,l]),ee=F?f:c[e];return H.createElement("group",{ref:T},H.createElement("group",{matrix:Z,matrixAutoUpdate:!1,onPointerDown:B,onPointerMove:j,onPointerUp:U,onPointerOut:V},i&&H.createElement(_C,{position:[0,D/2,0]},H.createElement("div",{style:{display:"none",background:"#151520",color:"white",padding:"6px 8px",borderRadius:7,whiteSpace:"nowrap"},className:r,ref:S})),H.createElement("mesh",{ref:R,position:[0,D,0],renderOrder:v,userData:y},H.createElement("sphereGeometry",{args:[k,12,12]}),H.createElement("meshBasicMaterial",{transparent:!0,depthTest:s,color:ee,opacity:h,polygonOffset:!0,polygonOffsetFactor:-10}))))},KD=new ri,ZD=new ri,QD=new ri,sS=new ri,a2=new ri,u0=new ri,JD=new ri,e4=new ri,t4=new ri,h0=new Wa,o2=new Wa,n4=new Oe,i4=new Oe,r4=new Oe,s4=new Oe,g_=new Oe,d0=new Oe(1,0,0),f0=new Oe(0,1,0),p0=new Oe(0,0,1),nie=H.forwardRef(({enabled:n=!0,matrix:e,onDragStart:t,onDrag:i,onDragEnd:r,autoTransform:s=!0,anchor:a,disableAxes:o=!1,disableSliders:l=!1,disableRotations:c=!1,disableScaling:f=!1,activeAxes:h=[!0,!0,!0],offset:v=[0,0,0],rotation:m=[0,0,0],scale:_=1,lineWidth:g=4,fixed:y=!1,translationLimits:u,rotationLimits:b,scaleLimits:S,depthTest:T=!0,renderOrder:R=500,axisColors:O=["#ff2060","#20df80","#2080ff"],hoveredColor:C="#ffff40",annotations:I=!1,annotationsClass:F,opacity:M=1,visible:D=!0,userData:B,children:j,...U},V)=>{const k=br(ve=>ve.invalidate),Z=H.useRef(null),ee=H.useRef(null),oe=H.useRef(null),ne=H.useRef(null),ie=H.useRef([0,0,0]),he=H.useRef(new Oe(1,1,1)),fe=H.useRef(new Oe(1,1,1));H.useLayoutEffect(()=>{a&&(ne.current.updateWorldMatrix(!0,!0),sS.copy(ne.current.matrixWorld).invert(),h0.makeEmpty(),ne.current.traverse(ve=>{ve.geometry&&(ve.geometry.boundingBox||ve.geometry.computeBoundingBox(),u0.copy(ve.matrixWorld).premultiply(sS),o2.copy(ve.geometry.boundingBox),o2.applyMatrix4(u0),h0.union(o2))}),n4.copy(h0.max).add(h0.min).multiplyScalar(.5),i4.copy(h0.max).sub(h0.min).multiplyScalar(.5),r4.copy(i4).multiply(new Oe(...a)).add(n4),s4.set(...v).add(r4),oe.current.position.copy(s4),k())});const ce=H.useMemo(()=>({onDragStart:ve=>{KD.copy(ee.current.matrix),ZD.copy(ee.current.matrixWorld),t&&t(ve),k()},onDrag:ve=>{QD.copy(Z.current.matrixWorld),sS.copy(QD).invert(),a2.copy(ZD).premultiply(ve),u0.copy(a2).premultiply(sS),JD.copy(KD).invert(),e4.copy(u0).multiply(JD),s&&ee.current.matrix.copy(u0),i&&i(u0,e4,a2,ve),k()},onDragEnd:()=>{r&&r(),k()},translation:ie,translationLimits:u,rotationLimits:b,axisColors:O,hoveredColor:C,opacity:M,scale:_,lineWidth:g,fixed:y,depthTest:T,renderOrder:R,userData:B,annotations:I,annotationsClass:F}),[t,i,r,ie,u,b,S,T,_,g,y,...O,C,M,B,s,I,F]),ae=new Oe;return ch(ve=>{if(y){const _e=R9(oe.current.getWorldPosition(ae),_,ve.camera,ve.size);he.current.setScalar(_e)}e&&e instanceof ri&&(ee.current.matrix=e),ee.current.updateWorldMatrix(!0,!0),t4.makeRotationFromEuler(oe.current.rotation).setPosition(oe.current.position).premultiply(ee.current.matrixWorld),fe.current.setFromMatrixScale(t4),g_.copy(he.current).divide(fe.current),(Math.abs(oe.current.scale.x-g_.x)>1e-4||Math.abs(oe.current.scale.y-g_.y)>1e-4||Math.abs(oe.current.scale.z-g_.z)>1e-4)&&(oe.current.scale.copy(g_),ve.invalidate())}),H.useImperativeHandle(V,()=>ee.current,[]),H.createElement(eb.Provider,{value:ce},H.createElement("group",{ref:Z},H.createElement("group",Dr({ref:ee,matrix:e,matrixAutoUpdate:!1},U),H.createElement("group",{visible:D,ref:oe,position:v,rotation:m},n&&H.createElement(H.Fragment,null,!o&&h[0]&&H.createElement(QA,{axis:0,direction:d0}),!o&&h[1]&&H.createElement(QA,{axis:1,direction:f0}),!o&&h[2]&&H.createElement(QA,{axis:2,direction:p0}),!l&&h[0]&&h[1]&&H.createElement(r2,{axis:2,dir1:d0,dir2:f0}),!l&&h[0]&&h[2]&&H.createElement(r2,{axis:1,dir1:p0,dir2:d0}),!l&&h[2]&&h[1]&&H.createElement(r2,{axis:0,dir1:f0,dir2:p0}),!c&&h[0]&&h[1]&&H.createElement(i2,{axis:2,dir1:d0,dir2:f0}),!c&&h[0]&&h[2]&&H.createElement(i2,{axis:1,dir1:p0,dir2:d0}),!c&&h[2]&&h[1]&&H.createElement(i2,{axis:0,dir1:f0,dir2:p0}),!f&&h[0]&&H.createElement(s2,{axis:0,direction:d0}),!f&&h[1]&&H.createElement(s2,{axis:1,direction:f0}),!f&&h[2]&&H.createElement(s2,{axis:2,direction:p0}))),H.createElement("group",{ref:ne},j))))});function iie(n,e){typeof n=="function"?n(e):n!=null&&(n.current=e)}function rie(...n){return e=>n.forEach(t=>iie(t,e))}const e6=H.forwardRef((n,e)=>{const{children:t,...i}=n,r=H.Children.toArray(t),s=r.find(aie);if(s){const a=s.props.children,o=r.map(l=>l===s?H.Children.count(a)>1?H.Children.only(null):H.isValidElement(a)?a.props.children:null:l);return H.createElement(VM,Dr({},i,{ref:e}),H.isValidElement(a)?H.cloneElement(a,void 0,o):null)}return H.createElement(VM,Dr({},i,{ref:e}),t)});e6.displayName="Slot";const VM=H.forwardRef((n,e)=>{const{children:t,...i}=n;return H.isValidElement(t)?H.cloneElement(t,{...oie(i,t.props),ref:rie(e,t.ref)}):H.Children.count(t)>1?H.Children.only(null):null});VM.displayName="SlotClone";const sie=({children:n})=>H.createElement(H.Fragment,null,n);function aie(n){return H.isValidElement(n)&&n.type===sie}function oie(n,e){const t={...e};for(const i in e){const r=n[i],s=e[i];/^on[A-Z]/.test(i)?r&&s?t[i]=(...o)=>{s(...o),r(...o)}:r&&(t[i]=r):i==="style"?t[i]={...r,...s}:i==="className"&&(t[i]=[r,s].filter(Boolean).join(" "))}return{...n,...t}}const lie=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],cie=lie.reduce((n,e)=>{const t=H.forwardRef((i,r)=>{const{asChild:s,...a}=i,o=s?e6:e;return H.useEffect(()=>{window[Symbol.for("radix-ui")]=!0},[]),H.createElement(o,Dr({},a,{ref:r}))});return t.displayName=`Primitive.${e}`,{...n,[e]:t}},{}),uie=H.forwardRef((n,e)=>{var t;const{container:i=globalThis==null||(t=globalThis.document)===null||t===void 0?void 0:t.body,...r}=n;return i?Tg.createPortal(H.createElement(cie.div,Dr({},r,{ref:e})),i):null}),hie=uie;var a4=Object.prototype.hasOwnProperty;function E1(n,e){var t,i;if(n===e)return!0;if(n&&e&&(t=n.constructor)===e.constructor){if(t===Date)return n.getTime()===e.getTime();if(t===RegExp)return n.toString()===e.toString();if(t===Array){if((i=n.length)===e.length)for(;i--&&E1(n[i],e[i]););return i===-1}if(!t||typeof n=="object"){i=0;for(t in n)if(a4.call(n,t)&&++i&&!a4.call(e,t)||!(t in e)||!E1(n[t],e[t]))return!1;return Object.keys(e).length===i}}return n!==n&&e!==e}function EC(n,e){if(Object.is(n,e))return!0;if(typeof n!="object"||n===null||typeof e!="object"||e===null)return!1;const t=Object.keys(n);if(t.length!==Object.keys(e).length)return!1;for(let i=0;i<t.length;i++)if(!Object.prototype.hasOwnProperty.call(e,t[i])||!Object.is(n[t[i]],e[t[i]]))return!1;return!0}var CC=function(e,t,i,r){this.name=e,this.fn=t,this.args=i,this.modifiers=r};CC.prototype._test=function(e){var t=this.fn;try{U0(this.modifiers.slice(),t,this)(e)}catch{t=function(){return!1}}try{return U0(this.modifiers.slice(),t,this)(e)}catch{return!1}};CC.prototype._check=function(e){try{U0(this.modifiers.slice(),this.fn,this)(e)}catch{if(U0(this.modifiers.slice(),function(i){return i},this)(!1))return}if(!U0(this.modifiers.slice(),this.fn,this)(e))throw null};CC.prototype._testAsync=function(e){var t=this;return new Promise(function(i,r){n6(t.modifiers.slice(),t.fn,t)(e).then(function(s){s?i(e):r(null)}).catch(function(s){return r(s)})})};function t6(n,e){return e===void 0&&(e="simple"),typeof n=="object"?n[e]:n}function U0(n,e,t){if(n.length){var i=n.shift(),r=U0(n,e,t);return i.perform(r,t)}else return t6(e)}function n6(n,e,t){if(n.length){var i=n.shift(),r=n6(n,e,t);return i.performAsync(r,t)}else return function(s){return Promise.resolve(t6(e,"async")(s))}}var die=function(e,t,i){this.name=e,this.perform=t,this.performAsync=i},tO=(function(n){function e(t,i,r,s){for(var a=[],o=arguments.length-4;o-- >0;)a[o]=arguments[o+4];n.call(this,a),n.captureStackTrace&&n.captureStackTrace(this,e),this.rule=t,this.value=i,this.cause=r,this.target=s}return n&&(e.__proto__=n),e.prototype=Object.create(n&&n.prototype),e.prototype.constructor=e,e})(Error),Bd=function(e,t){e===void 0&&(e=[]),t===void 0&&(t=[]),this.chain=e,this.nextRuleModifiers=t};Bd.prototype._applyRule=function(e,t){var i=this;return function(){for(var r=[],s=arguments.length;s--;)r[s]=arguments[s];return i.chain.push(new CC(t,e.apply(i,r),r,i.nextRuleModifiers)),i.nextRuleModifiers=[],i}};Bd.prototype._applyModifier=function(e,t){return this.nextRuleModifiers.push(new die(t,e.simple,e.async)),this};Bd.prototype._clone=function(){return new Bd(this.chain.slice(),this.nextRuleModifiers.slice())};Bd.prototype.test=function(e){return this.chain.every(function(t){return t._test(e)})};Bd.prototype.testAll=function(e){var t=[];return this.chain.forEach(function(i){try{i._check(e)}catch(r){t.push(new tO(i,e,r))}}),t};Bd.prototype.check=function(e){this.chain.forEach(function(t){try{t._check(e)}catch(i){throw new tO(t,e,i)}})};Bd.prototype.testAsync=function(e){var t=this;return new Promise(function(i,r){i6(e,t.chain.slice(),i,r)})};function i6(n,e,t,i){if(e.length){var r=e.shift();r._testAsync(n).then(function(){i6(n,e,t,i)},function(s){i(new tO(r,n,s))})}else t(n)}var o4=function(n,e){return e&&typeof n=="string"&&n.trim().length===0?!0:n==null};function fie(n,e){return e===void 0&&(e=!1),{simple:function(t){return o4(t,e)||n.check(t)===void 0},async:function(t){return o4(t,e)||n.testAsync(t)}}}function jc(){return typeof Proxy<"u"?r6(new Bd):WM(new Bd)}var C1={};jc.extend=function(n){Object.assign(C1,n)};jc.clearCustomRules=function(){C1={}};function r6(n){return new Proxy(n,{get:function(t,i){if(i in t)return t[i];var r=r6(n._clone());if(i in Yw)return r._applyModifier(Yw[i],i);if(i in C1)return r._applyRule(C1[i],i);if(i in jM)return r._applyRule(jM[i],i)}})}function WM(n){var e=function(r,s){return Object.keys(r).forEach(function(a){s[a]=function(){for(var o=[],l=arguments.length;l--;)o[l]=arguments[l];var c=WM(s._clone()),f=c._applyRule(r[a],a).apply(void 0,o);return f}}),s},t=e(jM,n),i=e(C1,t);return Object.keys(Yw).forEach(function(r){Object.defineProperty(i,r,{get:function(){var s=WM(i._clone());return s._applyModifier(Yw[r],r)}})}),i}var Yw={not:{simple:function(n){return function(e){return!n(e)}},async:function(n){return function(e){return Promise.resolve(n(e)).then(function(t){return!t}).catch(function(){return!0})}}},some:{simple:function(n){return function(e){return aS(e).some(function(t){try{return n(t)}catch{return!1}})}},async:function(n){return function(e){return Promise.all(aS(e).map(function(t){try{return n(t).catch(function(){return!1})}catch{return!1}})).then(function(t){return t.some(Boolean)})}}},every:{simple:function(n){return function(e){return e!==!1&&aS(e).every(n)}},async:function(n){return function(e){return Promise.all(aS(e).map(n)).then(function(t){return t.every(Boolean)})}}},strict:{simple:function(n,e){return function(t){return l4(e)&&t&&typeof t=="object"?Object.keys(e.args[0]).length===Object.keys(t).length&&n(t):n(t)}},async:function(n,e){return function(t){return Promise.resolve(n(t)).then(function(i){return l4(e)&&t&&typeof t=="object"?Object.keys(e.args[0]).length===Object.keys(t).length&&i:i}).catch(function(){return!1})}}}};function l4(n){return n&&n.name==="schema"&&n.args.length>0&&typeof n.args[0]=="object"}function aS(n){return typeof n=="string"?n.split(""):n}var jM={equal:function(n){return function(e){return e==n}},exact:function(n){return function(e){return e===n}},number:function(n){return n===void 0&&(n=!0),function(e){return typeof e=="number"&&(n||isFinite(e))}},integer:function(){return function(n){var e=Number.isInteger||pie;return e(n)}},numeric:function(){return function(n){return!isNaN(parseFloat(n))&&isFinite(n)}},string:function(){return m0("string")},boolean:function(){return m0("boolean")},undefined:function(){return m0("undefined")},null:function(){return m0("null")},array:function(){return m0("array")},object:function(){return m0("object")},instanceOf:function(n){return function(e){return e instanceof n}},pattern:function(n){return function(e){return n.test(e)}},lowercase:function(){return function(n){return typeof n=="boolean"||n===n.toLowerCase()&&n.trim()!==""}},uppercase:function(){return function(n){return n===n.toUpperCase()&&n.trim()!==""}},vowel:function(){return function(n){return/^[aeiou]+$/i.test(n)}},consonant:function(){return function(n){return/^(?=[^aeiou])([a-z]+)$/i.test(n)}},first:function(n){return function(e){return e[0]==n}},last:function(n){return function(e){return e[e.length-1]==n}},empty:function(){return function(n){return n.length===0}},length:function(n,e){return function(t){return t.length>=n&&t.length<=(e||n)}},minLength:function(n){return function(e){return e.length>=n}},maxLength:function(n){return function(e){return e.length<=n}},negative:function(){return function(n){return n<0}},positive:function(){return function(n){return n>=0}},between:function(n,e){return function(t){return t>=n&&t<=e}},range:function(n,e){return function(t){return t>=n&&t<=e}},lessThan:function(n){return function(e){return e<n}},lessThanOrEqual:function(n){return function(e){return e<=n}},greaterThan:function(n){return function(e){return e>n}},greaterThanOrEqual:function(n){return function(e){return e>=n}},even:function(){return function(n){return n%2===0}},odd:function(){return function(n){return n%2!==0}},includes:function(n){return function(e){return~e.indexOf(n)}},schema:function(n){return mie(n)},passesAnyOf:function(){for(var n=[],e=arguments.length;e--;)n[e]=arguments[e];return function(t){return n.some(function(i){return i.test(t)})}},optional:fie};function m0(n){return function(e){return Array.isArray(e)&&n==="array"||e===null&&n==="null"||typeof e===n}}function pie(n){return typeof n=="number"&&isFinite(n)&&Math.floor(n)===n}function mie(n){return{simple:function(e){var t=[];if(Object.keys(n).forEach(function(i){var r=n[i];try{r.check((e||{})[i])}catch(s){s.target=i,t.push(s)}}),t.length>0)throw t;return!0},async:function(e){var t=[],i=Object.keys(n).map(function(r){var s=n[r];return s.testAsync((e||{})[r]).catch(function(a){a.target=r,t.push(a)})});return Promise.all(i).then(function(){if(t.length>0)throw t;return!0})}}}var Ws="colors",dc="sizes",_i="space",gie={gap:_i,gridGap:_i,columnGap:_i,gridColumnGap:_i,rowGap:_i,gridRowGap:_i,inset:_i,insetBlock:_i,insetBlockEnd:_i,insetBlockStart:_i,insetInline:_i,insetInlineEnd:_i,insetInlineStart:_i,margin:_i,marginTop:_i,marginRight:_i,marginBottom:_i,marginLeft:_i,marginBlock:_i,marginBlockEnd:_i,marginBlockStart:_i,marginInline:_i,marginInlineEnd:_i,marginInlineStart:_i,padding:_i,paddingTop:_i,paddingRight:_i,paddingBottom:_i,paddingLeft:_i,paddingBlock:_i,paddingBlockEnd:_i,paddingBlockStart:_i,paddingInline:_i,paddingInlineEnd:_i,paddingInlineStart:_i,top:_i,right:_i,bottom:_i,left:_i,scrollMargin:_i,scrollMarginTop:_i,scrollMarginRight:_i,scrollMarginBottom:_i,scrollMarginLeft:_i,scrollMarginX:_i,scrollMarginY:_i,scrollMarginBlock:_i,scrollMarginBlockEnd:_i,scrollMarginBlockStart:_i,scrollMarginInline:_i,scrollMarginInlineEnd:_i,scrollMarginInlineStart:_i,scrollPadding:_i,scrollPaddingTop:_i,scrollPaddingRight:_i,scrollPaddingBottom:_i,scrollPaddingLeft:_i,scrollPaddingX:_i,scrollPaddingY:_i,scrollPaddingBlock:_i,scrollPaddingBlockEnd:_i,scrollPaddingBlockStart:_i,scrollPaddingInline:_i,scrollPaddingInlineEnd:_i,scrollPaddingInlineStart:_i,fontSize:"fontSizes",background:Ws,backgroundColor:Ws,backgroundImage:Ws,borderImage:Ws,border:Ws,borderBlock:Ws,borderBlockEnd:Ws,borderBlockStart:Ws,borderBottom:Ws,borderBottomColor:Ws,borderColor:Ws,borderInline:Ws,borderInlineEnd:Ws,borderInlineStart:Ws,borderLeft:Ws,borderLeftColor:Ws,borderRight:Ws,borderRightColor:Ws,borderTop:Ws,borderTopColor:Ws,caretColor:Ws,color:Ws,columnRuleColor:Ws,fill:Ws,outline:Ws,outlineColor:Ws,stroke:Ws,textDecorationColor:Ws,fontFamily:"fonts",fontWeight:"fontWeights",lineHeight:"lineHeights",letterSpacing:"letterSpacings",blockSize:dc,minBlockSize:dc,maxBlockSize:dc,inlineSize:dc,minInlineSize:dc,maxInlineSize:dc,width:dc,minWidth:dc,maxWidth:dc,height:dc,minHeight:dc,maxHeight:dc,flexBasis:dc,gridTemplateColumns:dc,gridTemplateRows:dc,borderWidth:"borderWidths",borderTopWidth:"borderWidths",borderRightWidth:"borderWidths",borderBottomWidth:"borderWidths",borderLeftWidth:"borderWidths",borderStyle:"borderStyles",borderTopStyle:"borderStyles",borderRightStyle:"borderStyles",borderBottomStyle:"borderStyles",borderLeftStyle:"borderStyles",borderRadius:"radii",borderTopLeftRadius:"radii",borderTopRightRadius:"radii",borderBottomRightRadius:"radii",borderBottomLeftRadius:"radii",boxShadow:"shadows",textShadow:"shadows",transition:"transitions",zIndex:"zIndices"},vie=(n,e)=>typeof e=="function"?{"()":Function.prototype.toString.call(e)}:e,my=()=>{const n=Object.create(null);return(e,t,...i)=>{const r=(s=>JSON.stringify(s,vie))(e);return r in n?n[r]:n[r]=t(e,...i)}},$g=Symbol.for("sxs.internal"),nO=(n,e)=>Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)),c4=n=>{for(const e in n)return!0;return!1},{hasOwnProperty:yie}=Object.prototype,XM=n=>n.includes("-")?n:n.replace(/[A-Z]/g,(e=>"-"+e.toLowerCase())),_ie=/\s+(?![^()]*\))/,g0=n=>e=>n(...typeof e=="string"?String(e).split(_ie):[e]),u4={appearance:n=>({WebkitAppearance:n,appearance:n}),backfaceVisibility:n=>({WebkitBackfaceVisibility:n,backfaceVisibility:n}),backdropFilter:n=>({WebkitBackdropFilter:n,backdropFilter:n}),backgroundClip:n=>({WebkitBackgroundClip:n,backgroundClip:n}),boxDecorationBreak:n=>({WebkitBoxDecorationBreak:n,boxDecorationBreak:n}),clipPath:n=>({WebkitClipPath:n,clipPath:n}),content:n=>({content:n.includes('"')||n.includes("'")||/^([A-Za-z]+\([^]*|[^]*-quote|inherit|initial|none|normal|revert|unset)$/.test(n)?n:`"${n}"`}),hyphens:n=>({WebkitHyphens:n,hyphens:n}),maskImage:n=>({WebkitMaskImage:n,maskImage:n}),maskSize:n=>({WebkitMaskSize:n,maskSize:n}),tabSize:n=>({MozTabSize:n,tabSize:n}),textSizeAdjust:n=>({WebkitTextSizeAdjust:n,textSizeAdjust:n}),userSelect:n=>({WebkitUserSelect:n,userSelect:n}),marginBlock:g0(((n,e)=>({marginBlockStart:n,marginBlockEnd:e||n}))),marginInline:g0(((n,e)=>({marginInlineStart:n,marginInlineEnd:e||n}))),maxSize:g0(((n,e)=>({maxBlockSize:n,maxInlineSize:e||n}))),minSize:g0(((n,e)=>({minBlockSize:n,minInlineSize:e||n}))),paddingBlock:g0(((n,e)=>({paddingBlockStart:n,paddingBlockEnd:e||n}))),paddingInline:g0(((n,e)=>({paddingInlineStart:n,paddingInlineEnd:e||n})))},l2=/([\d.]+)([^]*)/,bie=(n,e)=>n.length?n.reduce(((t,i)=>(t.push(...e.map((r=>r.includes("&")?r.replace(/&/g,/[ +>|~]/.test(i)&&/&.*&/.test(r)?`:is(${i})`:i):i+" "+r))),t)),[]):e,xie=(n,e)=>n in Sie&&typeof e=="string"?e.replace(/^((?:[^]*[^\w-])?)(fit-content|stretch)((?:[^\w-][^]*)?)$/,((t,i,r,s)=>i+(r==="stretch"?`-moz-available${s};${XM(n)}:${i}-webkit-fill-available`:`-moz-fit-content${s};${XM(n)}:${i}fit-content`)+s)):String(e),Sie={blockSize:1,height:1,inlineSize:1,maxBlockSize:1,maxHeight:1,maxInlineSize:1,maxWidth:1,minBlockSize:1,minHeight:1,minInlineSize:1,minWidth:1,width:1},ep=n=>n?n+"-":"",s6=(n,e,t)=>n.replace(/([+-])?((?:\d+(?:\.\d*)?|\.\d+)(?:[Ee][+-]?\d+)?)?(\$|--)([$\w-]+)/g,((i,r,s,a,o)=>a=="$"==!!s?i:(r||a=="--"?"calc(":"")+"var(--"+(a==="$"?ep(e)+(o.includes("$")?"":ep(t))+o.replace(/\$/g,"-"):o)+")"+(r||a=="--"?"*"+(r||"")+(s||"1")+")":""))),wie=/\s*,\s*(?![^()]*\))/,Eie=Object.prototype.toString,T0=(n,e,t,i,r)=>{let s,a,o;const l=(c,f,h)=>{let v,m;const _=g=>{for(v in g){const b=v.charCodeAt(0)===64,S=b&&Array.isArray(g[v])?g[v]:[g[v]];for(m of S){const T=/[A-Z]/.test(u=v)?u:u.replace(/-[^]/g,(O=>O[1].toUpperCase())),R=typeof m=="object"&&m&&m.toString===Eie&&(!i.utils[T]||!f.length);if(T in i.utils&&!R){const O=i.utils[T];if(O!==a){a=O,_(O(m)),a=null;continue}}else if(T in u4){const O=u4[T];if(O!==o){o=O,_(O(m)),o=null;continue}}if(b&&(y=v.slice(1)in i.media?"@media "+i.media[v.slice(1)]:v,v=y.replace(/\(\s*([\w-]+)\s*(=|<|<=|>|>=)\s*([\w-]+)\s*(?:(<|<=|>|>=)\s*([\w-]+)\s*)?\)/g,((O,C,I,F,M,D)=>{const B=l2.test(C),j=.0625*(B?-1:1),[U,V]=B?[F,C]:[C,F];return"("+(I[0]==="="?"":I[0]===">"===B?"max-":"min-")+U+":"+(I[0]!=="="&&I.length===1?V.replace(l2,((k,Z,ee)=>Number(Z)+j*(I===">"?1:-1)+ee)):V)+(M?") and ("+(M[0]===">"?"min-":"max-")+U+":"+(M.length===1?D.replace(l2,((k,Z,ee)=>Number(Z)+j*(M===">"?-1:1)+ee)):D):"")+")"}))),R){const O=b?h.concat(v):[...h],C=b?[...f]:bie(f,v.split(wie));s!==void 0&&r(h4(...s)),s=void 0,l(m,C,O)}else s===void 0&&(s=[[],f,h]),v=b||v.charCodeAt(0)!==36?v:`--${ep(i.prefix)}${v.slice(1).replace(/\$/g,"-")}`,m=R?m:typeof m=="number"?m&&T in Cie?String(m)+"px":String(m):s6(xie(T,m??""),i.prefix,i.themeMap[T]),s[0].push(`${b?`${v} `:`${XM(v)}:`}${m}`)}}var y,u};_(c),s!==void 0&&r(h4(...s)),s=void 0};l(n,e,t)},h4=(n,e,t)=>`${t.map((i=>`${i}{`)).join("")}${e.length?`${e.join(",")}{`:""}${n.join(";")}${e.length?"}":""}${Array(t.length?t.length+1:0).join("}")}`,Cie={animationDelay:1,animationDuration:1,backgroundSize:1,blockSize:1,border:1,borderBlock:1,borderBlockEnd:1,borderBlockEndWidth:1,borderBlockStart:1,borderBlockStartWidth:1,borderBlockWidth:1,borderBottom:1,borderBottomLeftRadius:1,borderBottomRightRadius:1,borderBottomWidth:1,borderEndEndRadius:1,borderEndStartRadius:1,borderInlineEnd:1,borderInlineEndWidth:1,borderInlineStart:1,borderInlineStartWidth:1,borderInlineWidth:1,borderLeft:1,borderLeftWidth:1,borderRadius:1,borderRight:1,borderRightWidth:1,borderSpacing:1,borderStartEndRadius:1,borderStartStartRadius:1,borderTop:1,borderTopLeftRadius:1,borderTopRightRadius:1,borderTopWidth:1,borderWidth:1,bottom:1,columnGap:1,columnRule:1,columnRuleWidth:1,columnWidth:1,containIntrinsicSize:1,flexBasis:1,fontSize:1,gap:1,gridAutoColumns:1,gridAutoRows:1,gridTemplateColumns:1,gridTemplateRows:1,height:1,inlineSize:1,inset:1,insetBlock:1,insetBlockEnd:1,insetBlockStart:1,insetInline:1,insetInlineEnd:1,insetInlineStart:1,left:1,letterSpacing:1,margin:1,marginBlock:1,marginBlockEnd:1,marginBlockStart:1,marginBottom:1,marginInline:1,marginInlineEnd:1,marginInlineStart:1,marginLeft:1,marginRight:1,marginTop:1,maxBlockSize:1,maxHeight:1,maxInlineSize:1,maxWidth:1,minBlockSize:1,minHeight:1,minInlineSize:1,minWidth:1,offsetDistance:1,offsetRotate:1,outline:1,outlineOffset:1,outlineWidth:1,overflowClipMargin:1,padding:1,paddingBlock:1,paddingBlockEnd:1,paddingBlockStart:1,paddingBottom:1,paddingInline:1,paddingInlineEnd:1,paddingInlineStart:1,paddingLeft:1,paddingRight:1,paddingTop:1,perspective:1,right:1,rowGap:1,scrollMargin:1,scrollMarginBlock:1,scrollMarginBlockEnd:1,scrollMarginBlockStart:1,scrollMarginBottom:1,scrollMarginInline:1,scrollMarginInlineEnd:1,scrollMarginInlineStart:1,scrollMarginLeft:1,scrollMarginRight:1,scrollMarginTop:1,scrollPadding:1,scrollPaddingBlock:1,scrollPaddingBlockEnd:1,scrollPaddingBlockStart:1,scrollPaddingBottom:1,scrollPaddingInline:1,scrollPaddingInlineEnd:1,scrollPaddingInlineStart:1,scrollPaddingLeft:1,scrollPaddingRight:1,scrollPaddingTop:1,shapeMargin:1,textDecoration:1,textDecorationThickness:1,textIndent:1,textUnderlineOffset:1,top:1,transitionDelay:1,transitionDuration:1,verticalAlign:1,width:1,wordSpacing:1},d4=n=>String.fromCharCode(n+(n>25?39:97)),Vg=n=>(e=>{let t,i="";for(t=Math.abs(e);t>52;t=t/52|0)i=d4(t%52)+i;return d4(t%52)+i})(((e,t)=>{let i=t.length;for(;i;)e=33*e^t.charCodeAt(--i);return e})(5381,JSON.stringify(n))>>>0),I_=["themed","global","styled","onevar","resonevar","allvar","inline"],Tie=n=>{if(n.href&&!n.href.startsWith(location.origin))return!1;try{return!!n.cssRules}catch{return!1}},Aie=n=>{let e;const t=()=>{const{cssRules:r}=e.sheet;return[].map.call(r,((s,a)=>{const{cssText:o}=s;let l="";if(o.startsWith("--sxs"))return"";if(r[a-1]&&(l=r[a-1].cssText).startsWith("--sxs")){if(!s.cssRules.length)return"";for(const c in e.rules)if(e.rules[c].group===s)return`--sxs{--sxs:${[...e.rules[c].cache].join(" ")}}${o}`;return s.cssRules.length?`${l}${o}`:""}return o})).join("")},i=()=>{if(e){const{rules:o,sheet:l}=e;if(!l.deleteRule){for(;Object(Object(l.cssRules)[0]).type===3;)l.cssRules.splice(0,1);l.cssRules=[]}for(const c in o)delete o[c]}const r=Object(n).styleSheets||[];for(const o of r)if(Tie(o)){for(let l=0,c=o.cssRules;c[l];++l){const f=Object(c[l]);if(f.type!==1)continue;const h=Object(c[l+1]);if(h.type!==4)continue;++l;const{cssText:v}=f;if(!v.startsWith("--sxs"))continue;const m=v.slice(14,-3).trim().split(/\s+/),_=I_[m[0]];_&&(e||(e={sheet:o,reset:i,rules:{},toString:t}),e.rules[_]={group:h,index:l,cache:new Set(m)})}if(e)break}if(!e){const o=(l,c)=>({type:c,cssRules:[],insertRule(f,h){this.cssRules.splice(h,0,o(f,{import:3,undefined:1}[(f.toLowerCase().match(/^@([a-z]+)/)||[])[1]]||4))},get cssText(){return l==="@media{}"?`@media{${[].map.call(this.cssRules,(f=>f.cssText)).join("")}}`:l}});e={sheet:n?(n.head||n).appendChild(document.createElement("style")).sheet:o("","text/css"),rules:{},reset:i,toString:t}}const{sheet:s,rules:a}=e;for(let o=I_.length-1;o>=0;--o){const l=I_[o];if(!a[l]){const c=I_[o+1],f=a[c]?a[c].index:s.cssRules.length;s.insertRule("@media{}",f),s.insertRule(`--sxs{--sxs:${o}}`,f),a[l]={group:s.cssRules[f+1],index:f,cache:new Set([o])}}Mie(a[l])}};return i(),e},Mie=n=>{const e=n.group;let t=e.cssRules.length;n.apply=i=>{try{e.insertRule(i,t),++t}catch{}}},v_=Symbol(),Rie=my(),f4=(n,e)=>Rie(n,(()=>(...t)=>{let i={type:null,composers:new Set};for(const r of t)if(r!=null)if(r[$g]){i.type==null&&(i.type=r[$g].type);for(const s of r[$g].composers)i.composers.add(s)}else r.constructor!==Object||r.$$typeof?i.type==null&&(i.type=r):i.composers.add(Oie(r,n));return i.type==null&&(i.type="span"),i.composers.size||i.composers.add(["PJLV",{},[],[],{},[]]),Lie(n,i,e)})),Oie=({variants:n,compoundVariants:e,defaultVariants:t,...i},r)=>{const s=`${ep(r.prefix)}c-${Vg(i)}`,a=[],o=[],l=Object.create(null),c=[];for(const v in t)l[v]=String(t[v]);if(typeof n=="object"&&n)for(const v in n){f=l,h=v,yie.call(f,h)||(l[v]="undefined");const m=n[v];for(const _ in m){const g={[v]:String(_)};String(_)==="undefined"&&c.push(v);const y=m[_],u=[g,y,!c4(y)];a.push(u)}}var f,h;if(typeof e=="object"&&e)for(const v of e){let{css:m,..._}=v;m=typeof m=="object"&&m||{};for(const y in _)_[y]=String(_[y]);const g=[_,m,!c4(m)];o.push(g)}return[s,i,a,o,l,c]},Lie=(n,e,t)=>{const[i,r,s,a]=Pie(e.composers),o=typeof e.type=="function"||e.type.$$typeof?(h=>{function v(){for(let m=0;m<v[v_].length;m++){const[_,g]=v[v_][m];h.rules[_].apply(g)}return v[v_]=[],null}return v[v_]=[],v.rules={},I_.forEach((m=>v.rules[m]={apply:_=>v[v_].push([m,_])})),v})(t):null,l=(o||t).rules,c=`.${i}${r.length>1?`:where(.${r.slice(1).join(".")})`:""}`,f=h=>{h=typeof h=="object"&&h||Iie;const{css:v,...m}=h,_={};for(const u in s)if(delete m[u],u in h){let b=h[u];typeof b=="object"&&b?_[u]={"@initial":s[u],...b}:(b=String(b),_[u]=b!=="undefined"||a.has(u)?b:s[u])}else _[u]=s[u];const g=new Set([...r]);for(const[u,b,S,T]of e.composers){t.rules.styled.cache.has(u)||(t.rules.styled.cache.add(u),T0(b,[`.${u}`],[],n,(C=>{l.styled.apply(C)})));const R=p4(S,_,n.media),O=p4(T,_,n.media,!0);for(const C of R)if(C!==void 0)for(const[I,F,M]of C){const D=`${u}-${Vg(F)}-${I}`;g.add(D);const B=(M?t.rules.resonevar:t.rules.onevar).cache,j=M?l.resonevar:l.onevar;B.has(D)||(B.add(D),T0(F,[`.${D}`],[],n,(U=>{j.apply(U)})))}for(const C of O)if(C!==void 0)for(const[I,F]of C){const M=`${u}-${Vg(F)}-${I}`;g.add(M),t.rules.allvar.cache.has(M)||(t.rules.allvar.cache.add(M),T0(F,[`.${M}`],[],n,(D=>{l.allvar.apply(D)})))}}if(typeof v=="object"&&v){const u=`${i}-i${Vg(v)}-css`;g.add(u),t.rules.inline.cache.has(u)||(t.rules.inline.cache.add(u),T0(v,[`.${u}`],[],n,(b=>{l.inline.apply(b)})))}for(const u of String(h.className||"").trim().split(/\s+/))u&&g.add(u);const y=m.className=[...g].join(" ");return{type:e.type,className:y,selector:c,props:m,toString:()=>y,deferredInjector:o}};return nO(f,{className:i,selector:c,[$g]:e,toString:()=>(t.rules.styled.cache.has(i)||f(),i)})},Pie=n=>{let e="";const t=[],i={},r=[];for(const[s,,,,a,o]of n){e===""&&(e=s),t.push(s),r.push(...o);for(const l in a){const c=a[l];(i[l]===void 0||c!=="undefined"||o.includes(c))&&(i[l]=c)}}return[e,t,i,new Set(r)]},p4=(n,e,t,i)=>{const r=[];e:for(let[s,a,o]of n){if(o)continue;let l,c=0,f=!1;for(l in s){const h=s[l];let v=e[l];if(v!==h){if(typeof v!="object"||!v)continue e;{let m,_,g=0;for(const y in v){if(h===String(v[y])){if(y!=="@initial"){const u=y.slice(1);(_=_||[]).push(u in t?t[u]:y.replace(/^@media ?/,"")),f=!0}c+=g,m=!0}++g}if(_&&_.length&&(a={["@media "+_.join(", ")]:a}),!m)continue e}}}(r[c]=r[c]||[]).push([i?"cv":`${l}-${s[l]}`,a,f])}return r},Iie={},Die=my(),Nie=(n,e)=>Die(n,(()=>(...t)=>{const i=()=>{for(let r of t){r=typeof r=="object"&&r||{};let s=Vg(r);if(!e.rules.global.cache.has(s)){if(e.rules.global.cache.add(s),"@import"in r){let a=[].indexOf.call(e.sheet.cssRules,e.rules.themed.group)-1;for(let o of[].concat(r["@import"]))o=o.includes('"')||o.includes("'")?o:`"${o}"`,e.sheet.insertRule(`@import ${o};`,a++);delete r["@import"]}T0(r,[],[],n,(a=>{e.rules.global.apply(a)}))}}return""};return nO(i,{toString:i})})),Fie=my(),Uie=(n,e)=>Fie(n,(()=>t=>{const i=`${ep(n.prefix)}k-${Vg(t)}`,r=()=>{if(!e.rules.global.cache.has(i)){e.rules.global.cache.add(i);const s=[];T0(t,[],[],n,(o=>s.push(o)));const a=`@keyframes ${i}{${s.join("")}}`;e.rules.global.apply(a)}return i};return nO(r,{get name(){return r()},toString:r})})),kie=class{constructor(n,e,t,i){this.token=n==null?"":String(n),this.value=e==null?"":String(e),this.scale=t==null?"":String(t),this.prefix=i==null?"":String(i)}get computedValue(){return"var("+this.variable+")"}get variable(){return"--"+ep(this.prefix)+ep(this.scale)+this.token}toString(){return this.computedValue}},Bie=my(),zie=(n,e)=>Bie(n,(()=>(t,i)=>{i=typeof t=="object"&&t||Object(i);const r=`.${t=(t=typeof t=="string"?t:"")||`${ep(n.prefix)}t-${Vg(i)}`}`,s={},a=[];for(const l in i){s[l]={};for(const c in i[l]){const f=`--${ep(n.prefix)}${l}-${c}`,h=s6(String(i[l][c]),n.prefix,l);s[l][c]=new kie(c,h,l,n.prefix),a.push(`${f}:${h}`)}}const o=()=>{if(a.length&&!e.rules.themed.cache.has(t)){e.rules.themed.cache.add(t);const l=`${i===n.theme?":root,":""}.${t}{${a.join(";")}}`;e.rules.themed.apply(l)}return t};return{...s,get className(){return o()},selector:r,toString:o}})),Gie=my(),m4,Hie=my(),a6=n=>{const e=(t=>{let i=!1;const r=Gie(t,(s=>{i=!0;const a="prefix"in(s=typeof s=="object"&&s||{})?String(s.prefix):"",o=typeof s.media=="object"&&s.media||{},l=typeof s.root=="object"?s.root||null:globalThis.document||null,c=typeof s.theme=="object"&&s.theme||{},f={prefix:a,media:o,theme:c,themeMap:typeof s.themeMap=="object"&&s.themeMap||{...gie},utils:typeof s.utils=="object"&&s.utils||{}},h=Aie(l),v={css:f4(f,h),globalCss:Nie(f,h),keyframes:Uie(f,h),createTheme:zie(f,h),reset(){h.reset(),v.theme.toString()},theme:{},sheet:h,config:f,prefix:a,getCssText:h.toString,toString:h.toString};return String(v.theme=v.createTheme(c)),v}));return i||r.reset(),r})(n);return e.styled=(({config:t,sheet:i})=>Hie(t,(()=>{const r=f4(t,i);return(...s)=>{const a=r(...s),o=a[$g].type,l=Je.forwardRef(((c,f)=>{const h=c&&c.as||o,{props:v,deferredInjector:m}=a(c);return delete v.as,v.ref=f,m?Je.createElement(Je.Fragment,null,Je.createElement(h,v),Je.createElement(m,null)):Je.createElement(h,v)}));return l.className=a.className,l.displayName=`Styled.${o.displayName||o.name||o}`,l.selector=a.selector,l.toString=()=>a.selector,l[$g]=a[$g],l}})))(e),e},$ie=()=>m4||(m4=a6()),Zo=(...n)=>$ie().styled(...n);function Df(n,e,{checkForDefaultPrevented:t=!0}={}){return function(r){if(n?.(r),t===!1||!r.defaultPrevented)return e?.(r)}}function Vie(n,e){typeof n=="function"?n(e):n!=null&&(n.current=e)}function o6(...n){return e=>n.forEach(t=>Vie(t,e))}function gy(...n){return H.useCallback(o6(...n),n)}function l6(n,e=[]){let t=[];function i(s,a){const o=H.createContext(a),l=t.length;t=[...t,a];function c(h){const{scope:v,children:m,..._}=h,g=v?.[n][l]||o,y=H.useMemo(()=>_,Object.values(_));return H.createElement(g.Provider,{value:y},m)}function f(h,v){const m=v?.[n][l]||o,_=H.useContext(m);if(_)return _;if(a!==void 0)return a;throw new Error(`\`${h}\` must be used within \`${s}\``)}return c.displayName=s+"Provider",[c,f]}const r=()=>{const s=t.map(a=>H.createContext(a));return function(o){const l=o?.[n]||s;return H.useMemo(()=>({[`__scope${n}`]:{...o,[n]:l}}),[o,l])}};return r.scopeName=n,[i,Wie(r,...e)]}function Wie(...n){const e=n[0];if(n.length===1)return e;const t=()=>{const i=n.map(r=>({useScope:r(),scopeName:r.scopeName}));return function(s){const a=i.reduce((o,{useScope:l,scopeName:c})=>{const h=l(s)[`__scope${c}`];return{...o,...h}},{});return H.useMemo(()=>({[`__scope${e.scopeName}`]:a}),[a])}};return t.scopeName=e.scopeName,t}const c6=H.forwardRef((n,e)=>{const{children:t,...i}=n,r=H.Children.toArray(t),s=r.find(jie);if(s){const a=s.props.children,o=r.map(l=>l===s?H.Children.count(a)>1?H.Children.only(null):H.isValidElement(a)?a.props.children:null:l);return H.createElement(qM,Dr({},i,{ref:e}),H.isValidElement(a)?H.cloneElement(a,void 0,o):null)}return H.createElement(qM,Dr({},i,{ref:e}),t)});c6.displayName="Slot";const qM=H.forwardRef((n,e)=>{const{children:t,...i}=n;return H.isValidElement(t)?H.cloneElement(t,{...Xie(i,t.props),ref:o6(e,t.ref)}):H.Children.count(t)>1?H.Children.only(null):null});qM.displayName="SlotClone";const u6=({children:n})=>H.createElement(H.Fragment,null,n);function jie(n){return H.isValidElement(n)&&n.type===u6}function Xie(n,e){const t={...e};for(const i in e){const r=n[i],s=e[i];/^on[A-Z]/.test(i)?r&&s?t[i]=(...o)=>{s(...o),r(...o)}:r&&(t[i]=r):i==="style"?t[i]={...r,...s}:i==="className"&&(t[i]=[r,s].filter(Boolean).join(" "))}return{...n,...t}}const qie=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Yg=qie.reduce((n,e)=>{const t=H.forwardRef((i,r)=>{const{asChild:s,...a}=i,o=s?c6:e;return H.useEffect(()=>{window[Symbol.for("radix-ui")]=!0},[]),H.createElement(o,Dr({},a,{ref:r}))});return t.displayName=`Primitive.${e}`,{...n,[e]:t}},{});function Yie(n,e){n&&CE.flushSync(()=>n.dispatchEvent(e))}function iO(n){const e=H.useRef(n);return H.useEffect(()=>{e.current=n}),H.useMemo(()=>(...t)=>{var i;return(i=e.current)===null||i===void 0?void 0:i.call(e,...t)},[])}function Kie(n,e=globalThis?.document){const t=iO(n);H.useEffect(()=>{const i=r=>{r.key==="Escape"&&t(r)};return e.addEventListener("keydown",i),()=>e.removeEventListener("keydown",i)},[t,e])}const YM="dismissableLayer.update",Zie="dismissableLayer.pointerDownOutside",Qie="dismissableLayer.focusOutside";let g4;const Jie=H.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),ere=H.forwardRef((n,e)=>{var t;const{disableOutsidePointerEvents:i=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:a,onInteractOutside:o,onDismiss:l,...c}=n,f=H.useContext(Jie),[h,v]=H.useState(null),m=(t=h?.ownerDocument)!==null&&t!==void 0?t:globalThis?.document,[,_]=H.useState({}),g=gy(e,I=>v(I)),y=Array.from(f.layers),[u]=[...f.layersWithOutsidePointerEventsDisabled].slice(-1),b=y.indexOf(u),S=h?y.indexOf(h):-1,T=f.layersWithOutsidePointerEventsDisabled.size>0,R=S>=b,O=tre(I=>{const F=I.target,M=[...f.branches].some(D=>D.contains(F));!R||M||(s?.(I),o?.(I),I.defaultPrevented||l?.())},m),C=nre(I=>{const F=I.target;[...f.branches].some(D=>D.contains(F))||(a?.(I),o?.(I),I.defaultPrevented||l?.())},m);return Kie(I=>{S===f.layers.size-1&&(r?.(I),!I.defaultPrevented&&l&&(I.preventDefault(),l()))},m),H.useEffect(()=>{if(h)return i&&(f.layersWithOutsidePointerEventsDisabled.size===0&&(g4=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),f.layersWithOutsidePointerEventsDisabled.add(h)),f.layers.add(h),v4(),()=>{i&&f.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=g4)}},[h,m,i,f]),H.useEffect(()=>()=>{h&&(f.layers.delete(h),f.layersWithOutsidePointerEventsDisabled.delete(h),v4())},[h,f]),H.useEffect(()=>{const I=()=>_({});return document.addEventListener(YM,I),()=>document.removeEventListener(YM,I)},[]),H.createElement(Yg.div,Dr({},c,{ref:g,style:{pointerEvents:T?R?"auto":"none":void 0,...n.style},onFocusCapture:Df(n.onFocusCapture,C.onFocusCapture),onBlurCapture:Df(n.onBlurCapture,C.onBlurCapture),onPointerDownCapture:Df(n.onPointerDownCapture,O.onPointerDownCapture)}))});function tre(n,e=globalThis?.document){const t=iO(n),i=H.useRef(!1),r=H.useRef(()=>{});return H.useEffect(()=>{const s=o=>{if(o.target&&!i.current){let f=function(){h6(Zie,t,c,{discrete:!0})};var l=f;const c={originalEvent:o};o.pointerType==="touch"?(e.removeEventListener("click",r.current),r.current=f,e.addEventListener("click",r.current,{once:!0})):f()}i.current=!1},a=window.setTimeout(()=>{e.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(a),e.removeEventListener("pointerdown",s),e.removeEventListener("click",r.current)}},[e,t]),{onPointerDownCapture:()=>i.current=!0}}function nre(n,e=globalThis?.document){const t=iO(n),i=H.useRef(!1);return H.useEffect(()=>{const r=s=>{s.target&&!i.current&&h6(Qie,t,{originalEvent:s},{discrete:!1})};return e.addEventListener("focusin",r),()=>e.removeEventListener("focusin",r)},[e,t]),{onFocusCapture:()=>i.current=!0,onBlurCapture:()=>i.current=!1}}function v4(){const n=new CustomEvent(YM);document.dispatchEvent(n)}function h6(n,e,t,{discrete:i}){const r=t.originalEvent.target,s=new CustomEvent(n,{bubbles:!1,cancelable:!0,detail:t});e&&r.addEventListener(n,e,{once:!0}),i?Yie(r,s):r.dispatchEvent(s)}const ire=globalThis?.document?H.useLayoutEffect:()=>{},rre=z7.useId||(()=>{});let sre=0;function are(n){const[e,t]=H.useState(rre());return ire(()=>{t(i=>i??String(sre++))},[n]),e?`radix-${e}`:""}function rv(n){return n.split("-")[0]}function tb(n){return n.split("-")[1]}function vy(n){return["top","bottom"].includes(rv(n))?"x":"y"}function rO(n){return n==="y"?"height":"width"}function y4(n,e,t){let{reference:i,floating:r}=n;const s=i.x+i.width/2-r.width/2,a=i.y+i.height/2-r.height/2,o=vy(e),l=rO(o),c=i[l]/2-r[l]/2,f=o==="x";let h;switch(rv(e)){case"top":h={x:s,y:i.y-r.height};break;case"bottom":h={x:s,y:i.y+i.height};break;case"right":h={x:i.x+i.width,y:a};break;case"left":h={x:i.x-r.width,y:a};break;default:h={x:i.x,y:i.y}}switch(tb(e)){case"start":h[o]-=c*(t&&f?-1:1);break;case"end":h[o]+=c*(t&&f?-1:1)}return h}const ore=async(n,e,t)=>{const{placement:i="bottom",strategy:r="absolute",middleware:s=[],platform:a}=t,o=await(a.isRTL==null?void 0:a.isRTL(e));let l=await a.getElementRects({reference:n,floating:e,strategy:r}),{x:c,y:f}=y4(l,i,o),h=i,v={},m=0;for(let _=0;_<s.length;_++){const{name:g,fn:y}=s[_],{x:u,y:b,data:S,reset:T}=await y({x:c,y:f,initialPlacement:i,placement:h,strategy:r,middlewareData:v,rects:l,platform:a,elements:{reference:n,floating:e}});c=u??c,f=b??f,v={...v,[g]:{...v[g],...S}},T&&m<=50&&(m++,typeof T=="object"&&(T.placement&&(h=T.placement),T.rects&&(l=T.rects===!0?await a.getElementRects({reference:n,floating:e,strategy:r}):T.rects),{x:c,y:f}=y4(l,h,o)),_=-1)}return{x:c,y:f,placement:h,strategy:r,middlewareData:v}};function d6(n){return typeof n!="number"?(function(e){return{top:0,right:0,bottom:0,left:0,...e}})(n):{top:n,right:n,bottom:n,left:n}}function Kw(n){return{...n,top:n.y,left:n.x,right:n.x+n.width,bottom:n.y+n.height}}async function T1(n,e){var t;e===void 0&&(e={});const{x:i,y:r,platform:s,rects:a,elements:o,strategy:l}=n,{boundary:c="clippingAncestors",rootBoundary:f="viewport",elementContext:h="floating",altBoundary:v=!1,padding:m=0}=e,_=d6(m),g=o[v?h==="floating"?"reference":"floating":h],y=Kw(await s.getClippingRect({element:(t=await(s.isElement==null?void 0:s.isElement(g)))==null||t?g:g.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(o.floating)),boundary:c,rootBoundary:f,strategy:l})),u=Kw(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({rect:h==="floating"?{...a.floating,x:i,y:r}:a.reference,offsetParent:await(s.getOffsetParent==null?void 0:s.getOffsetParent(o.floating)),strategy:l}):a[h]);return{top:y.top-u.top+_.top,bottom:u.bottom-y.bottom+_.bottom,left:y.left-u.left+_.left,right:u.right-y.right+_.right}}const lre=Math.min,Sg=Math.max;function KM(n,e,t){return Sg(n,lre(e,t))}const _4=n=>({name:"arrow",options:n,async fn(e){const{element:t,padding:i=0}=n??{},{x:r,y:s,placement:a,rects:o,platform:l}=e;if(t==null)return{};const c=d6(i),f={x:r,y:s},h=vy(a),v=tb(a),m=rO(h),_=await l.getDimensions(t),g=h==="y"?"top":"left",y=h==="y"?"bottom":"right",u=o.reference[m]+o.reference[h]-f[h]-o.floating[m],b=f[h]-o.reference[h],S=await(l.getOffsetParent==null?void 0:l.getOffsetParent(t));let T=S?h==="y"?S.clientHeight||0:S.clientWidth||0:0;T===0&&(T=o.floating[m]);const R=u/2-b/2,O=c[g],C=T-_[m]-c[y],I=T/2-_[m]/2+R,F=KM(O,I,C),M=(v==="start"?c[g]:c[y])>0&&I!==F&&o.reference[m]<=o.floating[m];return{[h]:f[h]-(M?I<O?O-I:C-I:0),data:{[h]:F,centerOffset:I-F}}}}),cre={left:"right",right:"left",bottom:"top",top:"bottom"};function Zw(n){return n.replace(/left|right|bottom|top/g,(e=>cre[e]))}function ure(n,e,t){t===void 0&&(t=!1);const i=tb(n),r=vy(n),s=rO(r);let a=r==="x"?i===(t?"end":"start")?"right":"left":i==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(a=Zw(a)),{main:a,cross:Zw(a)}}const hre={start:"end",end:"start"};function b4(n){return n.replace(/start|end/g,(e=>hre[e]))}const f6=["top","right","bottom","left"];f6.reduce(((n,e)=>n.concat(e,e+"-start",e+"-end")),[]);const dre=function(n){return n===void 0&&(n={}),{name:"flip",options:n,async fn(e){var t;const{placement:i,middlewareData:r,rects:s,initialPlacement:a,platform:o,elements:l}=e,{mainAxis:c=!0,crossAxis:f=!0,fallbackPlacements:h,fallbackStrategy:v="bestFit",flipAlignment:m=!0,..._}=n,g=rv(i),y=h||(g===a||!m?[Zw(a)]:(function(I){const F=Zw(I);return[b4(I),F,b4(F)]})(a)),u=[a,...y],b=await T1(e,_),S=[];let T=((t=r.flip)==null?void 0:t.overflows)||[];if(c&&S.push(b[g]),f){const{main:I,cross:F}=ure(i,s,await(o.isRTL==null?void 0:o.isRTL(l.floating)));S.push(b[I],b[F])}if(T=[...T,{placement:i,overflows:S}],!S.every((I=>I<=0))){var R,O;const I=((R=(O=r.flip)==null?void 0:O.index)!=null?R:0)+1,F=u[I];if(F)return{data:{index:I,overflows:T},reset:{placement:F}};let M="bottom";switch(v){case"bestFit":{var C;const D=(C=T.map((B=>[B,B.overflows.filter((j=>j>0)).reduce(((j,U)=>j+U),0)])).sort(((B,j)=>B[1]-j[1]))[0])==null?void 0:C[0].placement;D&&(M=D);break}case"initialPlacement":M=a}if(i!==M)return{reset:{placement:M}}}return{}}}};function x4(n,e){return{top:n.top-e.height,right:n.right-e.width,bottom:n.bottom-e.height,left:n.left-e.width}}function S4(n){return f6.some((e=>n[e]>=0))}const fre=function(n){let{strategy:e="referenceHidden",...t}=n===void 0?{}:n;return{name:"hide",async fn(i){const{rects:r}=i;switch(e){case"referenceHidden":{const s=x4(await T1(i,{...t,elementContext:"reference"}),r.reference);return{data:{referenceHiddenOffsets:s,referenceHidden:S4(s)}}}case"escaped":{const s=x4(await T1(i,{...t,altBoundary:!0}),r.floating);return{data:{escapedOffsets:s,escaped:S4(s)}}}default:return{}}}}},pre=function(n){return n===void 0&&(n=0),{name:"offset",options:n,async fn(e){const{x:t,y:i}=e,r=await(async function(s,a){const{placement:o,platform:l,elements:c}=s,f=await(l.isRTL==null?void 0:l.isRTL(c.floating)),h=rv(o),v=tb(o),m=vy(o)==="x",_=["left","top"].includes(h)?-1:1,g=f&&m?-1:1,y=typeof a=="function"?a(s):a;let{mainAxis:u,crossAxis:b,alignmentAxis:S}=typeof y=="number"?{mainAxis:y,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...y};return v&&typeof S=="number"&&(b=v==="end"?-1*S:S),m?{x:b*g,y:u*_}:{x:u*_,y:b*g}})(e,n);return{x:t+r.x,y:i+r.y,data:r}}}};function p6(n){return n==="x"?"y":"x"}const mre=function(n){return n===void 0&&(n={}),{name:"shift",options:n,async fn(e){const{x:t,y:i,placement:r}=e,{mainAxis:s=!0,crossAxis:a=!1,limiter:o={fn:y=>{let{x:u,y:b}=y;return{x:u,y:b}}},...l}=n,c={x:t,y:i},f=await T1(e,l),h=vy(rv(r)),v=p6(h);let m=c[h],_=c[v];if(s){const y=h==="y"?"bottom":"right";m=KM(m+f[h==="y"?"top":"left"],m,m-f[y])}if(a){const y=v==="y"?"bottom":"right";_=KM(_+f[v==="y"?"top":"left"],_,_-f[y])}const g=o.fn({...e,[h]:m,[v]:_});return{...g,data:{x:g.x-t,y:g.y-i}}}}},gre=function(n){return n===void 0&&(n={}),{options:n,fn(e){const{x:t,y:i,placement:r,rects:s,middlewareData:a}=e,{offset:o=0,mainAxis:l=!0,crossAxis:c=!0}=n,f={x:t,y:i},h=vy(r),v=p6(h);let m=f[h],_=f[v];const g=typeof o=="function"?o({...s,placement:r}):o,y=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(l){const R=h==="y"?"height":"width",O=s.reference[h]-s.floating[R]+y.mainAxis,C=s.reference[h]+s.reference[R]-y.mainAxis;m<O?m=O:m>C&&(m=C)}if(c){var u,b,S,T;const R=h==="y"?"width":"height",O=["top","left"].includes(rv(r)),C=s.reference[v]-s.floating[R]+(O&&(u=(b=a.offset)==null?void 0:b[v])!=null?u:0)+(O?0:y.crossAxis),I=s.reference[v]+s.reference[R]+(O?0:(S=(T=a.offset)==null?void 0:T[v])!=null?S:0)-(O?y.crossAxis:0);_<C?_=C:_>I&&(_=I)}return{[h]:m,[v]:_}}}},vre=function(n){return n===void 0&&(n={}),{name:"size",options:n,async fn(e){const{placement:t,rects:i,platform:r,elements:s}=e,{apply:a,...o}=n,l=await T1(e,o),c=rv(t),f=tb(t);let h,v;c==="top"||c==="bottom"?(h=c,v=f===(await(r.isRTL==null?void 0:r.isRTL(s.floating))?"start":"end")?"left":"right"):(v=c,h=f==="end"?"top":"bottom");const m=Sg(l.left,0),_=Sg(l.right,0),g=Sg(l.top,0),y=Sg(l.bottom,0),u={availableHeight:i.floating.height-(["left","right"].includes(t)?2*(g!==0||y!==0?g+y:Sg(l.top,l.bottom)):l[h]),availableWidth:i.floating.width-(["top","bottom"].includes(t)?2*(m!==0||_!==0?m+_:Sg(l.left,l.right)):l[v])},b=await r.getDimensions(s.floating);a?.({...e,...u});const S=await r.getDimensions(s.floating);return b.width!==S.width||b.height!==S.height?{reset:{rects:!0}}:{}}}};function m6(n){return n&&n.document&&n.location&&n.alert&&n.setInterval}function sp(n){if(n==null)return window;if(!m6(n)){const e=n.ownerDocument;return e&&e.defaultView||window}return n}function nb(n){return sp(n).getComputedStyle(n)}function qf(n){return m6(n)?"":n?(n.nodeName||"").toLowerCase():""}function g6(){const n=navigator.userAgentData;return n!=null&&n.brands?n.brands.map((e=>e.brand+"/"+e.version)).join(" "):navigator.userAgent}function zd(n){return n instanceof sp(n).HTMLElement}function mm(n){return n instanceof sp(n).Element}function sO(n){return typeof ShadowRoot>"u"?!1:n instanceof sp(n).ShadowRoot||n instanceof ShadowRoot}function TC(n){const{overflow:e,overflowX:t,overflowY:i}=nb(n);return/auto|scroll|overlay|hidden/.test(e+i+t)}function yre(n){return["table","td","th"].includes(qf(n))}function w4(n){const e=/firefox/i.test(g6()),t=nb(n);return t.transform!=="none"||t.perspective!=="none"||t.contain==="paint"||["transform","perspective"].includes(t.willChange)||e&&t.willChange==="filter"||e&&!!t.filter&&t.filter!=="none"}function v6(){return!/^((?!chrome|android).)*safari/i.test(g6())}const E4=Math.min,Y_=Math.max,Qw=Math.round;function Yf(n,e,t){var i,r,s,a;e===void 0&&(e=!1),t===void 0&&(t=!1);const o=n.getBoundingClientRect();let l=1,c=1;e&&zd(n)&&(l=n.offsetWidth>0&&Qw(o.width)/n.offsetWidth||1,c=n.offsetHeight>0&&Qw(o.height)/n.offsetHeight||1);const f=mm(n)?sp(n):window,h=!v6()&&t,v=(o.left+(h&&(i=(r=f.visualViewport)==null?void 0:r.offsetLeft)!=null?i:0))/l,m=(o.top+(h&&(s=(a=f.visualViewport)==null?void 0:a.offsetTop)!=null?s:0))/c,_=o.width/l,g=o.height/c;return{width:_,height:g,top:m,right:v+_,bottom:m+g,left:v,x:v,y:m}}function um(n){return(e=n,(e instanceof sp(e).Node?n.ownerDocument:n.document)||window.document).documentElement;var e}function AC(n){return mm(n)?{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}:{scrollLeft:n.pageXOffset,scrollTop:n.pageYOffset}}function y6(n){return Yf(um(n)).left+AC(n).scrollLeft}function _re(n,e,t){const i=zd(e),r=um(e),s=Yf(n,i&&(function(l){const c=Yf(l);return Qw(c.width)!==l.offsetWidth||Qw(c.height)!==l.offsetHeight})(e),t==="fixed");let a={scrollLeft:0,scrollTop:0};const o={x:0,y:0};if(i||!i&&t!=="fixed")if((qf(e)!=="body"||TC(r))&&(a=AC(e)),zd(e)){const l=Yf(e,!0);o.x=l.x+e.clientLeft,o.y=l.y+e.clientTop}else r&&(o.x=y6(r));return{x:s.left+a.scrollLeft-o.x,y:s.top+a.scrollTop-o.y,width:s.width,height:s.height}}function _6(n){return qf(n)==="html"?n:n.assignedSlot||n.parentNode||(sO(n)?n.host:null)||um(n)}function C4(n){return zd(n)&&getComputedStyle(n).position!=="fixed"?n.offsetParent:null}function ZM(n){const e=sp(n);let t=C4(n);for(;t&&yre(t)&&getComputedStyle(t).position==="static";)t=C4(t);return t&&(qf(t)==="html"||qf(t)==="body"&&getComputedStyle(t).position==="static"&&!w4(t))?e:t||(function(i){let r=_6(i);for(sO(r)&&(r=r.host);zd(r)&&!["html","body"].includes(qf(r));){if(w4(r))return r;r=r.parentNode}return null})(n)||e}function T4(n){if(zd(n))return{width:n.offsetWidth,height:n.offsetHeight};const e=Yf(n);return{width:e.width,height:e.height}}function b6(n){const e=_6(n);return["html","body","#document"].includes(qf(e))?n.ownerDocument.body:zd(e)&&TC(e)?e:b6(e)}function Jw(n,e){var t;e===void 0&&(e=[]);const i=b6(n),r=i===((t=n.ownerDocument)==null?void 0:t.body),s=sp(i),a=r?[s].concat(s.visualViewport||[],TC(i)?i:[]):i,o=e.concat(a);return r?o:o.concat(Jw(a))}function A4(n,e,t){return e==="viewport"?Kw((function(i,r){const s=sp(i),a=um(i),o=s.visualViewport;let l=a.clientWidth,c=a.clientHeight,f=0,h=0;if(o){l=o.width,c=o.height;const v=v6();(v||!v&&r==="fixed")&&(f=o.offsetLeft,h=o.offsetTop)}return{width:l,height:c,x:f,y:h}})(n,t)):mm(e)?(function(i,r){const s=Yf(i,!1,r==="fixed"),a=s.top+i.clientTop,o=s.left+i.clientLeft;return{top:a,left:o,x:o,y:a,right:o+i.clientWidth,bottom:a+i.clientHeight,width:i.clientWidth,height:i.clientHeight}})(e,t):Kw((function(i){var r;const s=um(i),a=AC(i),o=(r=i.ownerDocument)==null?void 0:r.body,l=Y_(s.scrollWidth,s.clientWidth,o?o.scrollWidth:0,o?o.clientWidth:0),c=Y_(s.scrollHeight,s.clientHeight,o?o.scrollHeight:0,o?o.clientHeight:0);let f=-a.scrollLeft+y6(i);const h=-a.scrollTop;return nb(o||s).direction==="rtl"&&(f+=Y_(s.clientWidth,o?o.clientWidth:0)-l),{width:l,height:c,x:f,y:h}})(um(n)))}function bre(n){const e=Jw(n),t=["absolute","fixed"].includes(nb(n).position)&&zd(n)?ZM(n):n;return mm(t)?e.filter((i=>mm(i)&&(function(r,s){const a=s.getRootNode==null?void 0:s.getRootNode();if(r.contains(s))return!0;if(a&&sO(a)){let o=s;do{if(o&&r===o)return!0;o=o.parentNode||o.host}while(o)}return!1})(i,t)&&qf(i)!=="body")):[]}const xre={getClippingRect:function(n){let{element:e,boundary:t,rootBoundary:i,strategy:r}=n;const s=[...t==="clippingAncestors"?bre(e):[].concat(t),i],a=s[0],o=s.reduce(((l,c)=>{const f=A4(e,c,r);return l.top=Y_(f.top,l.top),l.right=E4(f.right,l.right),l.bottom=E4(f.bottom,l.bottom),l.left=Y_(f.left,l.left),l}),A4(e,a,r));return{width:o.right-o.left,height:o.bottom-o.top,x:o.left,y:o.top}},convertOffsetParentRelativeRectToViewportRelativeRect:function(n){let{rect:e,offsetParent:t,strategy:i}=n;const r=zd(t),s=um(t);if(t===s)return e;let a={scrollLeft:0,scrollTop:0};const o={x:0,y:0};if((r||!r&&i!=="fixed")&&((qf(t)!=="body"||TC(s))&&(a=AC(t)),zd(t))){const l=Yf(t,!0);o.x=l.x+t.clientLeft,o.y=l.y+t.clientTop}return{...e,x:e.x-a.scrollLeft+o.x,y:e.y-a.scrollTop+o.y}},isElement:mm,getDimensions:T4,getOffsetParent:ZM,getDocumentElement:um,getElementRects:n=>{let{reference:e,floating:t,strategy:i}=n;return{reference:_re(e,ZM(t),i),floating:{...T4(t),x:0,y:0}}},getClientRects:n=>Array.from(n.getClientRects()),isRTL:n=>nb(n).direction==="rtl"};function Sre(n,e,t,i){i===void 0&&(i={});const{ancestorScroll:r=!0,ancestorResize:s=!0,elementResize:a=!0,animationFrame:o=!1}=i,l=r&&!o,c=s&&!o,f=l||c?[...mm(n)?Jw(n):[],...Jw(e)]:[];f.forEach((_=>{l&&_.addEventListener("scroll",t,{passive:!0}),c&&_.addEventListener("resize",t)}));let h,v=null;if(a){let _=!0;v=new ResizeObserver((()=>{_||t(),_=!1})),mm(n)&&!o&&v.observe(n),v.observe(e)}let m=o?Yf(n):null;return o&&(function _(){const g=Yf(n);!m||g.x===m.x&&g.y===m.y&&g.width===m.width&&g.height===m.height||t(),m=g,h=requestAnimationFrame(_)})(),t(),()=>{var _;f.forEach((g=>{l&&g.removeEventListener("scroll",t),c&&g.removeEventListener("resize",t)})),(_=v)==null||_.disconnect(),v=null,o&&cancelAnimationFrame(h)}}const wre=(n,e,t)=>ore(n,e,{platform:xre,...t});var QM=typeof document<"u"?H.useLayoutEffect:H.useEffect;function JM(n,e){if(n===e)return!0;if(typeof n!=typeof e)return!1;if(typeof n=="function"&&n.toString()===e.toString())return!0;let t,i,r;if(n&&e&&typeof n=="object"){if(Array.isArray(n)){if(t=n.length,t!=e.length)return!1;for(i=t;i--!==0;)if(!JM(n[i],e[i]))return!1;return!0}if(r=Object.keys(n),t=r.length,t!==Object.keys(e).length)return!1;for(i=t;i--!==0;)if(!Object.prototype.hasOwnProperty.call(e,r[i]))return!1;for(i=t;i--!==0;){const s=r[i];if(!(s==="_owner"&&n.$$typeof)&&!JM(n[s],e[s]))return!1}return!0}return n!==n&&e!==e}function Ere(n){const e=H.useRef(n);return QM(()=>{e.current=n}),e}function Cre(n){let{middleware:e,placement:t="bottom",strategy:i="absolute",whileElementsMounted:r}=n===void 0?{}:n;const s=H.useRef(null),a=H.useRef(null),o=Ere(r),l=H.useRef(null),[c,f]=H.useState({x:null,y:null,strategy:i,placement:t,middlewareData:{}}),[h,v]=H.useState(e);JM(h?.map(S=>{let{options:T}=S;return T}),e?.map(S=>{let{options:T}=S;return T}))||v(e);const m=H.useCallback(()=>{!s.current||!a.current||wre(s.current,a.current,{middleware:h,placement:t,strategy:i}).then(S=>{_.current&&CE.flushSync(()=>{f(S)})})},[h,t,i]);QM(()=>{_.current&&m()},[m]);const _=H.useRef(!1);QM(()=>(_.current=!0,()=>{_.current=!1}),[]);const g=H.useCallback(()=>{if(typeof l.current=="function"&&(l.current(),l.current=null),s.current&&a.current)if(o.current){const S=o.current(s.current,a.current,m);l.current=S}else m()},[m,o]),y=H.useCallback(S=>{s.current=S,g()},[g]),u=H.useCallback(S=>{a.current=S,g()},[g]),b=H.useMemo(()=>({reference:s,floating:a}),[]);return H.useMemo(()=>({...c,update:m,refs:b,reference:y,floating:u}),[c,m,b,y,u])}const Tre=n=>{const{element:e,padding:t}=n;function i(r){return Object.prototype.hasOwnProperty.call(r,"current")}return{name:"arrow",options:n,fn(r){return i(e)?e.current!=null?_4({element:e.current,padding:t}).fn(r):{}:e?_4({element:e,padding:t}).fn(r):{}}}},Are=H.forwardRef((n,e)=>{const{children:t,width:i=10,height:r=5,...s}=n;return H.createElement(Yg.svg,Dr({},s,{ref:e,width:i,height:r,viewBox:"0 0 30 10",preserveAspectRatio:"none"}),n.asChild?t:H.createElement("polygon",{points:"0,0 30,0 15,10"}))}),Mre=Are;function Rre(n){const e=H.useRef(n);return H.useEffect(()=>{e.current=n}),H.useMemo(()=>(...t)=>{var i;return(i=e.current)===null||i===void 0?void 0:i.call(e,...t)},[])}const D_=globalThis?.document?H.useLayoutEffect:()=>{};function Ore(n){const[e,t]=H.useState(void 0);return D_(()=>{if(n){t({width:n.offsetWidth,height:n.offsetHeight});const i=new ResizeObserver(r=>{if(!Array.isArray(r)||!r.length)return;const s=r[0];let a,o;if("borderBoxSize"in s){const l=s.borderBoxSize,c=Array.isArray(l)?l[0]:l;a=c.inlineSize,o=c.blockSize}else a=n.offsetWidth,o=n.offsetHeight;t({width:a,height:o})});return i.observe(n,{box:"border-box"}),()=>i.unobserve(n)}else t(void 0)},[n]),e}const x6="Popper",[aO,S6]=l6(x6),[Lre,w6]=aO(x6),Pre=n=>{const{__scopePopper:e,children:t}=n,[i,r]=H.useState(null);return H.createElement(Lre,{scope:e,anchor:i,onAnchorChange:r},t)},Ire="PopperAnchor",Dre=H.forwardRef((n,e)=>{const{__scopePopper:t,virtualRef:i,...r}=n,s=w6(Ire,t),a=H.useRef(null),o=gy(e,a);return H.useEffect(()=>{s.onAnchorChange(i?.current||a.current)}),i?null:H.createElement(Yg.div,Dr({},r,{ref:o}))}),eE="PopperContent",[Nre,Fre]=aO(eE),[Ure,kre]=aO(eE,{hasParent:!1,positionUpdateFns:new Set}),Bre=H.forwardRef((n,e)=>{var t,i,r,s,a,o,l,c;const{__scopePopper:f,side:h="bottom",sideOffset:v=0,align:m="center",alignOffset:_=0,arrowPadding:g=0,collisionBoundary:y=[],collisionPadding:u=0,sticky:b="partial",hideWhenDetached:S=!1,avoidCollisions:T=!0,onPlaced:R,...O}=n,C=w6(eE,f),[I,F]=H.useState(null),M=gy(e,Et=>F(Et)),[D,B]=H.useState(null),j=Ore(D),U=(t=j?.width)!==null&&t!==void 0?t:0,V=(i=j?.height)!==null&&i!==void 0?i:0,k=h+(m!=="center"?"-"+m:""),Z=typeof u=="number"?u:{top:0,right:0,bottom:0,left:0,...u},ee=Array.isArray(y)?y:[y],oe=ee.length>0,ne={padding:Z,boundary:ee.filter(Vre),altBoundary:oe},{reference:ie,floating:he,strategy:fe,x:ce,y:ae,placement:ve,middlewareData:_e,update:Te}=Cre({strategy:"fixed",placement:k,whileElementsMounted:Sre,middleware:[Wre(),pre({mainAxis:v+V,alignmentAxis:_}),T?mre({mainAxis:!0,crossAxis:!1,limiter:b==="partial"?gre():void 0,...ne}):void 0,D?Tre({element:D,padding:g}):void 0,T?dre({...ne}):void 0,vre({...ne,apply:({elements:Et,availableWidth:ye,availableHeight:me})=>{Et.floating.style.setProperty("--radix-popper-available-width",`${ye}px`),Et.floating.style.setProperty("--radix-popper-available-height",`${me}px`)}}),jre({arrowWidth:U,arrowHeight:V}),S?fre({strategy:"referenceHidden"}):void 0].filter($re)});D_(()=>{ie(C.anchor)},[ie,C.anchor]);const Fe=ce!==null&&ae!==null,[We,ht]=E6(ve),ft=Rre(R);D_(()=>{Fe&&ft?.()},[Fe,ft]);const Bt=(r=_e.arrow)===null||r===void 0?void 0:r.x,Me=(s=_e.arrow)===null||s===void 0?void 0:s.y,yt=((a=_e.arrow)===null||a===void 0?void 0:a.centerOffset)!==0,[mt,St]=H.useState();D_(()=>{I&&St(window.getComputedStyle(I).zIndex)},[I]);const{hasParent:nt,positionUpdateFns:Ft}=kre(eE,f),qe=!nt;H.useLayoutEffect(()=>{if(!qe)return Ft.add(Te),()=>{Ft.delete(Te)}},[qe,Ft,Te]),D_(()=>{qe&&Fe&&Array.from(Ft).reverse().forEach(Et=>requestAnimationFrame(Et))},[qe,Fe,Ft]);const Ke={"data-side":We,"data-align":ht,...O,ref:M,style:{...O.style,animation:Fe?void 0:"none",opacity:(o=_e.hide)!==null&&o!==void 0&&o.referenceHidden?0:void 0}};return H.createElement("div",{ref:he,"data-radix-popper-content-wrapper":"",style:{position:fe,left:0,top:0,transform:Fe?`translate3d(${Math.round(ce)}px, ${Math.round(ae)}px, 0)`:"translate3d(0, -200%, 0)",minWidth:"max-content",zIndex:mt,"--radix-popper-transform-origin":[(l=_e.transformOrigin)===null||l===void 0?void 0:l.x,(c=_e.transformOrigin)===null||c===void 0?void 0:c.y].join(" ")},dir:n.dir},H.createElement(Nre,{scope:f,placedSide:We,onArrowChange:B,arrowX:Bt,arrowY:Me,shouldHideArrow:yt},qe?H.createElement(Ure,{scope:f,hasParent:!0,positionUpdateFns:Ft},H.createElement(Yg.div,Ke)):H.createElement(Yg.div,Ke)))}),zre="PopperArrow",Gre={top:"bottom",right:"left",bottom:"top",left:"right"},Hre=H.forwardRef(function(e,t){const{__scopePopper:i,...r}=e,s=Fre(zre,i),a=Gre[s.placedSide];return H.createElement("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[a]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0}},H.createElement(Mre,Dr({},r,{ref:t,style:{...r.style,display:"block"}})))});function $re(n){return n!==void 0}function Vre(n){return n!==null}const Wre=()=>({name:"anchorCssProperties",fn(n){const{rects:e,elements:t}=n,{width:i,height:r}=e.reference;return t.floating.style.setProperty("--radix-popper-anchor-width",`${i}px`),t.floating.style.setProperty("--radix-popper-anchor-height",`${r}px`),{}}}),jre=n=>({name:"transformOrigin",options:n,fn(e){var t,i,r,s,a;const{placement:o,rects:l,middlewareData:c}=e,h=((t=c.arrow)===null||t===void 0?void 0:t.centerOffset)!==0,v=h?0:n.arrowWidth,m=h?0:n.arrowHeight,[_,g]=E6(o),y={start:"0%",center:"50%",end:"100%"}[g],u=((i=(r=c.arrow)===null||r===void 0?void 0:r.x)!==null&&i!==void 0?i:0)+v/2,b=((s=(a=c.arrow)===null||a===void 0?void 0:a.y)!==null&&s!==void 0?s:0)+m/2;let S="",T="";return _==="bottom"?(S=h?y:`${u}px`,T=`${-m}px`):_==="top"?(S=h?y:`${u}px`,T=`${l.floating.height+m}px`):_==="right"?(S=`${-m}px`,T=h?y:`${b}px`):_==="left"&&(S=`${l.floating.width+m}px`,T=h?y:`${b}px`),{data:{x:S,y:T}}}});function E6(n){const[e,t="center"]=n.split("-");return[e,t]}const Xre=Pre,qre=Dre,Yre=Bre,Kre=Hre,M4=globalThis?.document?H.useLayoutEffect:()=>{};function Zre(n,e){return H.useReducer((t,i)=>{const r=e[t][i];return r??t},n)}const C6=n=>{const{present:e,children:t}=n,i=Qre(e),r=typeof t=="function"?t({present:i.isPresent}):H.Children.only(t),s=gy(i.ref,r.ref);return typeof t=="function"||i.isPresent?H.cloneElement(r,{ref:s}):null};C6.displayName="Presence";function Qre(n){const[e,t]=H.useState(),i=H.useRef({}),r=H.useRef(n),s=H.useRef("none"),a=n?"mounted":"unmounted",[o,l]=Zre(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return H.useEffect(()=>{const c=oS(i.current);s.current=o==="mounted"?c:"none"},[o]),M4(()=>{const c=i.current,f=r.current;if(f!==n){const v=s.current,m=oS(c);n?l("MOUNT"):m==="none"||c?.display==="none"?l("UNMOUNT"):l(f&&v!==m?"ANIMATION_OUT":"UNMOUNT"),r.current=n}},[n,l]),M4(()=>{if(e){const c=h=>{const m=oS(i.current).includes(h.animationName);h.target===e&&m&&CE.flushSync(()=>l("ANIMATION_END"))},f=h=>{h.target===e&&(s.current=oS(i.current))};return e.addEventListener("animationstart",f),e.addEventListener("animationcancel",c),e.addEventListener("animationend",c),()=>{e.removeEventListener("animationstart",f),e.removeEventListener("animationcancel",c),e.removeEventListener("animationend",c)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(o),ref:H.useCallback(c=>{c&&(i.current=getComputedStyle(c)),t(c)},[])}}function oS(n){return n?.animationName||"none"}function T6(n){const e=H.useRef(n);return H.useEffect(()=>{e.current=n}),H.useMemo(()=>(...t)=>{var i;return(i=e.current)===null||i===void 0?void 0:i.call(e,...t)},[])}function Jre({prop:n,defaultProp:e,onChange:t=()=>{}}){const[i,r]=ese({defaultProp:e,onChange:t}),s=n!==void 0,a=s?n:i,o=T6(t),l=H.useCallback(c=>{if(s){const h=typeof c=="function"?c(n):c;h!==n&&o(h)}else r(c)},[s,n,r,o]);return[a,l]}function ese({defaultProp:n,onChange:e}){const t=H.useState(n),[i]=t,r=H.useRef(i),s=T6(e);return H.useEffect(()=>{r.current!==i&&(s(i),r.current=i)},[i,r,s]),t}const tse=H.forwardRef((n,e)=>H.createElement(Yg.span,Dr({},n,{ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...n.style}}))),nse=tse,[MC,GEe]=l6("Tooltip",[S6]),RC=S6(),ise="TooltipProvider",eR="tooltip.open",[HEe,oO]=MC(ise),lO="Tooltip",[rse,OC]=MC(lO),sse=n=>{const{__scopeTooltip:e,children:t,open:i,defaultOpen:r=!1,onOpenChange:s,disableHoverableContent:a,delayDuration:o}=n,l=oO(lO,n.__scopeTooltip),c=RC(e),[f,h]=H.useState(null),v=are(),m=H.useRef(0),_=a??l.disableHoverableContent,g=o??l.delayDuration,y=H.useRef(!1),[u=!1,b]=Jre({prop:i,defaultProp:r,onChange:C=>{C?(l.onOpen(),document.dispatchEvent(new CustomEvent(eR))):l.onClose(),s?.(C)}}),S=H.useMemo(()=>u?y.current?"delayed-open":"instant-open":"closed",[u]),T=H.useCallback(()=>{window.clearTimeout(m.current),y.current=!1,b(!0)},[b]),R=H.useCallback(()=>{window.clearTimeout(m.current),b(!1)},[b]),O=H.useCallback(()=>{window.clearTimeout(m.current),m.current=window.setTimeout(()=>{y.current=!0,b(!0)},g)},[g,b]);return H.useEffect(()=>()=>window.clearTimeout(m.current),[]),H.createElement(Xre,c,H.createElement(rse,{scope:e,contentId:v,open:u,stateAttribute:S,trigger:f,onTriggerChange:h,onTriggerEnter:H.useCallback(()=>{l.isOpenDelayed?O():T()},[l.isOpenDelayed,O,T]),onTriggerLeave:H.useCallback(()=>{_?R():window.clearTimeout(m.current)},[R,_]),onOpen:T,onClose:R,disableHoverableContent:_},t))},R4="TooltipTrigger",ase=H.forwardRef((n,e)=>{const{__scopeTooltip:t,...i}=n,r=OC(R4,t),s=oO(R4,t),a=RC(t),o=H.useRef(null),l=gy(e,o,r.onTriggerChange),c=H.useRef(!1),f=H.useRef(!1),h=H.useCallback(()=>c.current=!1,[]);return H.useEffect(()=>()=>document.removeEventListener("pointerup",h),[h]),H.createElement(qre,Dr({asChild:!0},a),H.createElement(Yg.button,Dr({"aria-describedby":r.open?r.contentId:void 0,"data-state":r.stateAttribute},i,{ref:l,onPointerMove:Df(n.onPointerMove,v=>{v.pointerType!=="touch"&&!f.current&&!s.isPointerInTransitRef.current&&(r.onTriggerEnter(),f.current=!0)}),onPointerLeave:Df(n.onPointerLeave,()=>{r.onTriggerLeave(),f.current=!1}),onPointerDown:Df(n.onPointerDown,()=>{c.current=!0,document.addEventListener("pointerup",h,{once:!0})}),onFocus:Df(n.onFocus,()=>{c.current||r.onOpen()}),onBlur:Df(n.onBlur,r.onClose),onClick:Df(n.onClick,r.onClose)})))}),ose="TooltipPortal",[$Ee,lse]=MC(ose,{forceMount:void 0}),A1="TooltipContent",cse=H.forwardRef((n,e)=>{const t=lse(A1,n.__scopeTooltip),{forceMount:i=t.forceMount,side:r="top",...s}=n,a=OC(A1,n.__scopeTooltip);return H.createElement(C6,{present:i||a.open},a.disableHoverableContent?H.createElement(A6,Dr({side:r},s,{ref:e})):H.createElement(use,Dr({side:r},s,{ref:e})))}),use=H.forwardRef((n,e)=>{const t=OC(A1,n.__scopeTooltip),i=oO(A1,n.__scopeTooltip),r=H.useRef(null),s=gy(e,r),[a,o]=H.useState(null),{trigger:l,onClose:c}=t,f=r.current,{onPointerInTransitChange:h}=i,v=H.useCallback(()=>{o(null),h(!1)},[h]),m=H.useCallback((_,g)=>{const y=_.currentTarget,u={x:_.clientX,y:_.clientY},b=mse(u,y.getBoundingClientRect()),S=b==="right"||b==="bottom"?-5:5,R=b==="right"||b==="left"?{x:_.clientX+S,y:_.clientY}:{x:_.clientX,y:_.clientY+S},O=gse(g.getBoundingClientRect()),C=yse([R,...O]);o(C),h(!0)},[h]);return H.useEffect(()=>()=>v(),[v]),H.useEffect(()=>{if(l&&f){const _=y=>m(y,f),g=y=>m(y,l);return l.addEventListener("pointerleave",_),f.addEventListener("pointerleave",g),()=>{l.removeEventListener("pointerleave",_),f.removeEventListener("pointerleave",g)}}},[l,f,m,v]),H.useEffect(()=>{if(a){const _=g=>{const y=g.target,u={x:g.clientX,y:g.clientY},b=l?.contains(y)||f?.contains(y),S=!vse(u,a);b?v():S&&(v(),c())};return document.addEventListener("pointermove",_),()=>document.removeEventListener("pointermove",_)}},[l,f,a,c,v]),H.createElement(A6,Dr({},n,{ref:s}))}),[hse,dse]=MC(lO,{isInside:!1}),A6=H.forwardRef((n,e)=>{const{__scopeTooltip:t,children:i,"aria-label":r,onEscapeKeyDown:s,onPointerDownOutside:a,...o}=n,l=OC(A1,t),c=RC(t),{onClose:f}=l;return H.useEffect(()=>(document.addEventListener(eR,f),()=>document.removeEventListener(eR,f)),[f]),H.useEffect(()=>{if(l.trigger){const h=v=>{const m=v.target;m!=null&&m.contains(l.trigger)&&f()};return window.addEventListener("scroll",h,{capture:!0}),()=>window.removeEventListener("scroll",h,{capture:!0})}},[l.trigger,f]),H.createElement(ere,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:s,onPointerDownOutside:a,onFocusOutside:h=>h.preventDefault(),onDismiss:f},H.createElement(Yre,Dr({"data-state":l.stateAttribute},c,o,{ref:e,style:{...o.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"}}),H.createElement(u6,null,i),H.createElement(hse,{scope:t,isInside:!0},H.createElement(nse,{id:l.contentId,role:"tooltip"},r||i))))}),fse="TooltipArrow",pse=H.forwardRef((n,e)=>{const{__scopeTooltip:t,...i}=n,r=RC(t);return dse(fse,t).isInside?null:H.createElement(Kre,Dr({},r,i,{ref:e}))});function mse(n,e){const t=Math.abs(e.top-n.y),i=Math.abs(e.bottom-n.y),r=Math.abs(e.right-n.x),s=Math.abs(e.left-n.x);switch(Math.min(t,i,r,s)){case s:return"left";case r:return"right";case t:return"top";case i:return"bottom";default:return null}}function gse(n){const{top:e,right:t,bottom:i,left:r}=n;return[{x:r,y:e},{x:t,y:e},{x:t,y:i},{x:r,y:i}]}function vse(n,e){const{x:t,y:i}=n;let r=!1;for(let s=0,a=e.length-1;s<e.length;a=s++){const o=e[s].x,l=e[s].y,c=e[a].x,f=e[a].y;l>i!=f>i&&t<(c-o)*(i-l)/(f-l)+o&&(r=!r)}return r}function yse(n){const e=n.slice();return e.sort((t,i)=>t.x<i.x?-1:t.x>i.x?1:t.y<i.y?-1:t.y>i.y?1:0),_se(e)}function _se(n){if(n.length<=1)return n.slice();const e=[];for(let i=0;i<n.length;i++){const r=n[i];for(;e.length>=2;){const s=e[e.length-1],a=e[e.length-2];if((s.x-a.x)*(r.y-a.y)>=(s.y-a.y)*(r.x-a.x))e.pop();else break}e.push(r)}e.pop();const t=[];for(let i=n.length-1;i>=0;i--){const r=n[i];for(;t.length>=2;){const s=t[t.length-1],a=t[t.length-2];if((s.x-a.x)*(r.y-a.y)>=(s.y-a.y)*(r.x-a.x))t.pop();else break}t.push(r)}return t.pop(),e.length===1&&t.length===1&&e[0].x===t[0].x&&e[0].y===t[0].y?e:e.concat(t)}const bse=sse,xse=ase,Sse=cse,wse=pse;function Ese(n,e){if(n==null)return{};var t={},i=Object.keys(n),r,s;for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&(t[r]=n[r]);return t}function Ys(n,e){if(n==null)return{};var t=Ese(n,e),i,r;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(r=0;r<s.length;r++)i=s[r],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(n,i)&&(t[i]=n[i])}return t}let za;(function(n){n[n.UNSUPPORTED_INPUT=0]="UNSUPPORTED_INPUT",n[n.NO_COMPONENT_FOR_TYPE=1]="NO_COMPONENT_FOR_TYPE",n[n.UNKNOWN_INPUT=2]="UNKNOWN_INPUT",n[n.DUPLICATE_KEYS=3]="DUPLICATE_KEYS",n[n.ALREADY_REGISTERED_TYPE=4]="ALREADY_REGISTERED_TYPE",n[n.CLIPBOARD_ERROR=5]="CLIPBOARD_ERROR",n[n.THEME_ERROR=6]="THEME_ERROR",n[n.PATH_DOESNT_EXIST=7]="PATH_DOESNT_EXIST",n[n.INPUT_TYPE_OVERRIDE=8]="INPUT_TYPE_OVERRIDE",n[n.EMPTY_KEY=9]="EMPTY_KEY"})(za||(za={}));const Cse={[za.UNSUPPORTED_INPUT]:(n,e)=>[`An input with type \`${n}\` input was found at path \`${e}\` but it's not supported yet.`],[za.NO_COMPONENT_FOR_TYPE]:(n,e)=>[`Type \`${n}\` found at path \`${e}\` can't be displayed in panel because no component supports it yet.`],[za.UNKNOWN_INPUT]:(n,e)=>[`input at path \`${n}\` is not recognized.`,e],[za.DUPLICATE_KEYS]:(n,e,t)=>[`Key \`${n}\` of path \`${e}\` already exists at path \`${t}\`. Even nested keys need to be unique. Rename one of the keys.`],[za.ALREADY_REGISTERED_TYPE]:n=>[`Type ${n} has already been registered. You can't register a component with the same type.`],[za.CLIPBOARD_ERROR]:n=>["Error copying the value",n],[za.THEME_ERROR]:(n,e)=>[`Error accessing the theme \`${n}.${e}\` value.`],[za.PATH_DOESNT_EXIST]:n=>[`Error getting the value at path \`${n}\`. There is probably an error in your \`render\` function.`],[za.PATH_DOESNT_EXIST]:n=>[`Error accessing the value at path \`${n}\``],[za.INPUT_TYPE_OVERRIDE]:(n,e,t)=>[`Input at path \`${n}\` already exists with type: \`${e}\`. Its type cannot be overridden with type \`${t}\`.`],[za.EMPTY_KEY]:()=>["Keys can not be empty, if you want to hide a label use whitespace."]};function M6(n,e,...t){const[i,...r]=Cse[e](...t);console[n]("LEVA: "+i,...r)}const Bf=M6.bind(null,"warn"),Tse=M6.bind(null,"log"),Ase=["value"],Mse=["schema"],Rse=["value"],R6=[],Kg={};function O4(n){let{value:e}=n,t=Ys(n,Ase);for(let i of R6){const r=i(e,t);if(r)return r}}function ap(n,e){let{schema:t}=e,i=Ys(e,Mse);if(n in Kg){Bf(za.ALREADY_REGISTERED_TYPE,n);return}R6.push((r,s)=>t(r,s)&&n),Kg[n]=i}function c2(n,e,t,i){const{normalize:r}=Kg[n];if(r)return r(e,t,i);if(typeof e!="object"||!("value"in e))return{value:e};const{value:s}=e,a=Ys(e,Rse);return{value:s,settings:a}}function Ose(n,e,t,i,r,s){const{sanitize:a}=Kg[n];return a?a(e,t,i,r,s):e}function L4(n,e,t){const{format:i}=Kg[n];return i?i(e,t):e}function Lse(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function P4(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function qi(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?P4(Object(t),!0).forEach(function(i){Lse(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):P4(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}const gm=(n,e,t)=>n>t?t:n<e?e:n,Pse=n=>{if(n===""||typeof n=="number")return n;try{const e=Jp(n);if(!isNaN(e))return e}catch{}return parseFloat(n)},Ise=Math.log(10);function I4(n){let e=Math.abs(+String(n).replace(".",""));if(e===0)return .01;for(;e!==0&&e%10===0;)e/=10;const t=Math.floor(Math.log(e)/Ise)+1,i=Math.floor(Math.log10(Math.abs(n))),r=Math.pow(10,i-t);return Math.max(r,.001)}const tE=(n,e,t)=>t===e?0:(gm(n,e,t)-e)/(t-e),nE=(n,e,t)=>n*(t-e)+e,Dse=()=>"_"+Math.random().toString(36).substr(2,9),D4=/\(([0-9+\-*/^ .]+)\)/,N4=/(\d+(?:\.\d+)?) ?\^ ?(\d+(?:\.\d+)?)/,F4=/(\d+(?:\.\d+)?) ?\* ?(\d+(?:\.\d+)?)/,U4=/(\d+(?:\.\d+)?) ?\/ ?(\d+(?:\.\d+)?)/,k4=/(\d+(?:\.\d+)?) ?\+ ?(\d+(?:\.\d+)?)/,B4=/(\d+(?:\.\d+)?) ?- ?(\d+(?:\.\d+)?)/;function Jp(n){if(isNaN(Number(n)))if(D4.test(n)){const e=n.replace(D4,(t,i)=>String(Jp(i)));return Jp(e)}else if(N4.test(n)){const e=n.replace(N4,(t,i,r)=>String(Math.pow(Number(i),Number(r))));return Jp(e)}else if(F4.test(n)){const e=n.replace(F4,(t,i,r)=>String(Number(i)*Number(r)));return Jp(e)}else if(U4.test(n)){const e=n.replace(U4,(t,i,r)=>{if(r!=0)return String(Number(i)/Number(r));throw new Error("Division by zero")});return Jp(e)}else if(k4.test(n)){const e=n.replace(k4,(t,i,r)=>String(Number(i)+Number(r)));return Jp(e)}else if(B4.test(n)){const e=n.replace(B4,(t,i,r)=>String(Number(i)-Number(r)));return Jp(e)}else return Number(n);return Number(n)}function Nse(n,e){return e.reduce((t,i)=>(n&&n.hasOwnProperty(i)&&(t[i]=n[i]),t),{})}function Fse(n,e){const t=qi({},n);return e.forEach(i=>i in n&&delete t[i]),t}function Use(n,e){return n.reduce((t,i,r)=>Object.assign(t,{[e[r]]:i}),{})}function O6(n){return Object.prototype.toString.call(n)==="[object Object]"}const kse=n=>O6(n)&&Object.keys(n).length===0;let ah;(function(n){n.BUTTON="BUTTON",n.BUTTON_GROUP="BUTTON_GROUP",n.MONITOR="MONITOR",n.FOLDER="FOLDER"})(ah||(ah={}));let Xh;(function(n){n.SELECT="SELECT",n.IMAGE="IMAGE",n.NUMBER="NUMBER",n.COLOR="COLOR",n.STRING="STRING",n.BOOLEAN="BOOLEAN",n.INTERVAL="INTERVAL",n.VECTOR3D="VECTOR3D",n.VECTOR2D="VECTOR2D"})(Xh||(Xh={}));const Bse=["type","__customInput"],zse=["render","label","optional","order","disabled","hint","onChange","onEditStart","onEditEnd","transient"],Gse=["type"];function L6(n,e,t={},i){var r,s;if(typeof n!="object"||Array.isArray(n))return{type:i,input:n,options:qi({key:e,label:e,optional:!1,disabled:!1,order:0},t)};if("__customInput"in n){const{type:R,__customInput:O}=n,C=Ys(n,Bse);return L6(O,e,C,R)}const{render:a,label:o,optional:l,order:c=0,disabled:f,hint:h,onChange:v,onEditStart:m,onEditEnd:_,transient:g}=n,y=Ys(n,zse),u=qi({render:a,key:e,label:o??e,hint:h,transient:g??!!v,onEditStart:m,onEditEnd:_,disabled:f,optional:l,order:c},t);let{type:b}=y,S=Ys(y,Gse);if(b=i??b,b in ah)return{type:b,input:S,options:u};let T;return i&&O6(S)&&"value"in S?T=S.value:T=kse(S)?void 0:S,{type:b,input:T,options:qi(qi({},u),{},{onChange:v,optional:(r=u.optional)!==null&&r!==void 0?r:!1,disabled:(s=u.disabled)!==null&&s!==void 0?s:!1})}}function Hse(n,e,t,i){const r=L6(n,e),{type:s,input:a,options:o}=r;if(s)return s in ah?r:{type:s,input:c2(s,a,t,i),options:o};let l=O4(a);return l?{type:l,input:c2(l,a,t,i),options:o}:(l=O4({value:a}),l?{type:l,input:c2(l,{value:a},t,i),options:o}:!1)}function z4(n,e,t,i,r){const{value:s,type:a,settings:o}=n;n.value=P6({type:a,value:s,settings:o},e,t,i),n.fromPanel=r}const $se=function(e,t,i){this.type="LEVA_ERROR",this.message="LEVA: "+e,this.previousValue=t,this.error=i};function P6({type:n,value:e,settings:t},i,r,s){const a=n!=="SELECT"&&typeof i=="function"?i(e):i;let o;try{o=Ose(n,a,t,e,r,s)}catch(l){throw new $se(`The value \`${i}\` did not result in a correct value.`,e,l)}return E1(o,e)?e:o}const I6=(n,e,t=!1)=>{let i=0;return function(){const r=arguments,s=t&&!i,a=()=>n.apply(this,r);window.clearTimeout(i),i=window.setTimeout(a,e),s&&a()}},D6=n=>n.shiftKey?5:n.altKey?1/5:1,Vse=["value"],Wse=["min","max"],jse=n=>{if(typeof n=="number")return!0;if(typeof n=="string"){const e=parseFloat(n);return isNaN(e)?!1:n.substring((""+e).length).trim().length<4}return!1},N6=(n,{min:e=-1/0,max:t=1/0,suffix:i})=>{const r=parseFloat(n);if(n===""||isNaN(r))throw Error("Invalid number");const s=gm(r,e,t);return i?s+i:s},Xse=(n,{pad:e=0,suffix:t})=>{const i=parseFloat(n).toFixed(e);return t?i+t:i},F6=n=>{let{value:e}=n,t=Ys(n,Vse);const{min:i=-1/0,max:r=1/0}=t,s=Ys(t,Wse);let a=parseFloat(e);const o=typeof e=="string"?e.substring((""+a).length):void 0;a=gm(a,i,r);let l=t.step;l||(Number.isFinite(i)?Number.isFinite(r)?l=+(Math.abs(r-i)/100).toPrecision(1):l=+(Math.abs(a-i)/100).toPrecision(1):Number.isFinite(r)&&(l=+(Math.abs(r-a)/100).toPrecision(1)));const c=l?I4(l)*10:I4(a);l=l||c/10;const f=Math.round(gm(Math.log10(1/c),0,2));return{value:o?a+o:a,settings:qi({initialValue:a,step:l,pad:f,min:i,max:r,suffix:o},s)}},U6=(n,{step:e,initialValue:t})=>{const i=Math.round((n-t)/e);return t+i*e};var k6=Object.freeze({__proto__:null,schema:jse,sanitize:N6,format:Xse,normalize:F6,sanitizeStep:U6});function io(){return io=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},io.apply(this,arguments)}const B6=H.createContext({});function Xl(){return H.useContext(B6)}const cO=H.createContext(null),z6=H.createContext(null),G6=H.createContext(null);function ib(){return H.useContext(z6)}function qse(){return H.useContext(G6)}const H6=()=>({colors:{elevation1:"#292d39",elevation2:"#181c20",elevation3:"#373c4b",accent1:"#0066dc",accent2:"#007bff",accent3:"#3c93ff",highlight1:"#535760",highlight2:"#8c92a4",highlight3:"#fefefe",vivid1:"#ffcc00",folderWidgetColor:"$highlight2",folderTextColor:"$highlight3",toolTipBackground:"$highlight3",toolTipText:"$elevation2"},radii:{xs:"2px",sm:"3px",lg:"10px"},space:{xs:"3px",sm:"6px",md:"10px",rowGap:"7px",colGap:"7px"},fonts:{mono:"ui-monospace, SFMono-Regular, Menlo, 'Roboto Mono', monospace",sans:"system-ui, sans-serif"},fontSizes:{root:"11px",toolTip:"$root"},sizes:{rootWidth:"280px",controlWidth:"160px",numberInputMinWidth:"38px",scrubberWidth:"8px",scrubberHeight:"16px",rowHeight:"24px",folderTitleHeight:"20px",checkboxSize:"16px",joystickWidth:"100px",joystickHeight:"100px",colorPickerWidth:"$controlWidth",colorPickerHeight:"100px",imagePreviewWidth:"$controlWidth",imagePreviewHeight:"100px",monitorHeight:"60px",titleBarHeight:"39px"},shadows:{level1:"0 0 9px 0 #00000088",level2:"0 4px 14px #00000033"},borderWidths:{root:"0px",input:"1px",focus:"1px",hover:"1px",active:"1px",folder:"1px"},fontWeights:{label:"normal",folder:"normal",button:"normal"}});function lS(n,e){const[t,i]=n.split(" "),r={};return t!=="none"&&(r.boxShadow=`${e.inset?"inset ":""}0 0 0 $borderWidths${[e.key]} $colors${t!=="default"&&t||e.borderColor}`),i&&(r.backgroundColor=i),r}const y_={$inputStyle:()=>n=>lS(n,{key:"$input",borderColor:"$highlight1",inset:!0}),$focusStyle:()=>n=>lS(n,{key:"$focus",borderColor:"$accent2"}),$hoverStyle:()=>n=>lS(n,{key:"$hover",borderColor:"$accent1",inset:!0}),$activeStyle:()=>n=>lS(n,{key:"$active",borderColor:"$accent1",inset:!0})},{styled:Vi,css:VEe,createTheme:Yse,globalCss:Kse,keyframes:WEe}=a6({prefix:"leva",theme:H6(),utils:qi(qi({},y_),{},{$flex:()=>({display:"flex",alignItems:"center"}),$flexCenter:()=>({display:"flex",alignItems:"center",justifyContent:"center"}),$reset:()=>({outline:"none",fontSize:"inherit",fontWeight:"inherit",color:"inherit",fontFamily:"inherit",border:"none",backgroundColor:"transparent",appearance:"none"}),$draggable:()=>({touchAction:"none",WebkitUserDrag:"none",userSelect:"none"}),$focus:n=>({"&:focus":y_.$focusStyle()(n)}),$focusWithin:n=>({"&:focus-within":y_.$focusStyle()(n)}),$hover:n=>({"&:hover":y_.$hoverStyle()(n)}),$active:n=>({"&:active":y_.$activeStyle()(n)})})}),Zse=Kse({".leva__panel__dragged":{WebkitUserDrag:"none",userSelect:"none",input:{userSelect:"none"},"*":{cursor:"ew-resize !important"}}});function Qse(n){const e=H6();if(!n)return{theme:e,className:""};Object.keys(n).forEach(i=>{Object.assign(e[i],n[i])});const t=Yse(e);return{theme:e,className:t.className}}function Kf(n,e){const{theme:t}=H.useContext(cO);if(!(n in t)||!(e in t[n]))return Bf(za.THEME_ERROR,n,e),"";let i=e;for(;;){let r=t[n][i];if(typeof r=="string"&&r.charAt(0)==="$")i=r.substr(1);else return r}}const $6=Vi("input",{$reset:"",padding:"0 $sm",width:0,minWidth:0,flex:1,height:"100%",variants:{levaType:{number:{textAlign:"right"}},as:{textarea:{padding:"$sm"}}}}),V6=Vi("div",{$draggable:"",height:"100%",$flexCenter:"",position:"relative",padding:"0 $xs",fontSize:"0.8em",opacity:.8,cursor:"default",touchAction:"none",[`& + ${$6}`]:{paddingLeft:0}}),Jse=Vi(V6,{cursor:"ew-resize",marginRight:"-$xs",textTransform:"uppercase",opacity:.3,"&:hover":{opacity:1},variants:{dragging:{true:{backgroundColor:"$accent2",opacity:1}}}}),eae=Vi("div",{$flex:"",position:"relative",borderRadius:"$sm",overflow:"hidden",color:"inherit",height:"$rowHeight",backgroundColor:"$elevation3",$inputStyle:"$elevation1",$hover:"",$focusWithin:"",variants:{textArea:{true:{height:"auto"}}}}),tae=["innerLabel","value","onUpdate","onChange","onKeyDown","type","id","inputType","rows"],nae=["onUpdate"];function uO(n){let{innerLabel:e,value:t,onUpdate:i,onChange:r,onKeyDown:s,type:a,id:o,inputType:l="text",rows:c=0}=n,f=Ys(n,tae);const{id:h,emitOnEditStart:v,emitOnEditEnd:m,disabled:_}=Xl(),g=o||h,y=H.useRef(null),u=c>0,b=u?"textarea":"input",S=H.useCallback(O=>C=>{const I=C.currentTarget.value;O(I)},[]);Je.useEffect(()=>{const O=y.current,C=S(I=>{i(I),m()});return O?.addEventListener("blur",C),()=>O?.removeEventListener("blur",C)},[S,i,m]);const T=H.useCallback(O=>{O.key==="Enter"&&S(i)(O)},[S,i]),R=Object.assign({as:b},u?{rows:c}:{},f);return Je.createElement(eae,{textArea:u},e&&typeof e=="string"?Je.createElement(V6,null,e):e,Je.createElement($6,io({levaType:a,ref:y,id:g,type:l,autoComplete:"off",spellCheck:"false",value:t,onChange:S(r),onFocus:()=>v(),onKeyPress:T,onKeyDown:s,disabled:_},R)))}function iae(n){let{onUpdate:e}=n,t=Ys(n,nae);const i=H.useCallback(s=>e(Pse(s)),[e]),r=H.useCallback(s=>{const a=s.key==="ArrowUp"?1:s.key==="ArrowDown"?-1:0;if(a){s.preventDefault();const o=s.altKey?.1:s.shiftKey?10:1;e(l=>parseFloat(l)+a*o)}},[e]);return Je.createElement(uO,io({},t,{onUpdate:i,onKeyDown:r,type:"number"}))}const iE=Vi("div",{}),tR=Vi("div",{position:"relative",background:"$elevation2",transition:"height 300ms ease",variants:{fill:{true:{},false:{}},flat:{false:{},true:{}},isRoot:{true:{},false:{paddingLeft:"$md","&::after":{content:'""',position:"absolute",left:0,top:0,width:"$borderWidths$folder",height:"100%",backgroundColor:"$folderWidgetColor",opacity:.4,transform:"translateX(-50%)"}}}},compoundVariants:[{isRoot:!0,fill:!1,css:{overflowY:"auto",maxHeight:"calc(100vh - 20px - $$titleBarHeight)"}},{isRoot:!0,flat:!1,css:{borderRadius:"$lg"}}]}),rae=Vi("div",{$flex:"",color:"$folderTextColor",userSelect:"none",cursor:"pointer",height:"$folderTitleHeight",fontWeight:"$folder","> svg":{marginLeft:-4,marginRight:4,cursor:"pointer",fill:"$folderWidgetColor",opacity:.6},"&:hover > svg":{fill:"$folderWidgetColor"},[`&:hover + ${tR}::after`]:{opacity:.6},[`${iE}:hover > & + ${tR}::after`]:{opacity:.6},[`${iE}:hover > & > svg`]:{opacity:1}}),W6=Vi("div",{position:"relative",display:"grid",gridTemplateColumns:"100%",rowGap:"$rowGap",transition:"opacity 250ms ease",variants:{toggled:{true:{opacity:1,transitionDelay:"250ms"},false:{opacity:0,transitionDelay:"0ms",pointerEvents:"none"}},isRoot:{true:{"& > div":{paddingLeft:"$md",paddingRight:"$md"},"& > div:first-of-type":{paddingTop:"$sm"},"& > div:last-of-type":{paddingBottom:"$sm"},[`> ${iE}:not(:first-of-type)`]:{paddingTop:"$sm",marginTop:"$md",borderTop:"$borderWidths$folder solid $colors$elevation1"}}}}}),j6=Vi("div",{position:"relative",zIndex:100,display:"grid",rowGap:"$rowGap",gridTemplateRows:"minmax($sizes$rowHeight, max-content)",alignItems:"center",color:"$highlight2",[`${W6} > &`]:{"&:first-of-type":{marginTop:"$rowGap"},"&:last-of-type":{marginBottom:"$rowGap"}},variants:{disabled:{true:{pointerEvents:"none"},false:{"&:hover,&:focus-within":{color:"$highlight3"}}}}}),X6=Vi(j6,{gridTemplateColumns:"auto $sizes$controlWidth",columnGap:"$colGap"}),sae=Vi("div",{$flex:"",height:"100%",position:"relative",overflow:"hidden","& > div":{marginLeft:"$colGap",padding:"0 $xs",opacity:.4},"& > div:hover":{opacity:.8},"& > div > svg":{display:"none",cursor:"pointer",width:13,minWidth:13,height:13,backgroundColor:"$elevation2"},"&:hover > div > svg":{display:"block"},variants:{align:{top:{height:"100%",alignItems:"flex-start",paddingTop:"$sm"}}}}),aae=Vi("input",{$reset:"",height:0,width:0,opacity:0,margin:0,"& + label":{position:"relative",$flexCenter:"",height:"100%",userSelect:"none",cursor:"pointer",paddingLeft:2,paddingRight:"$sm",pointerEvents:"auto"},"& + label:after":{content:'""',width:6,height:6,backgroundColor:"$elevation3",borderRadius:"50%",$activeStyle:""},"&:focus + label:after":{$focusStyle:""},"& + label:active:after":{backgroundColor:"$accent1",$focusStyle:""},"&:checked + label:after":{backgroundColor:"$accent1"}}),nR=Vi("label",{fontWeight:"$label",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap","& > svg":{display:"block"}}),oae=Vi("div",{opacity:1,variants:{disabled:{true:{opacity:.6,pointerEvents:"none",[`& ${nR}`]:{pointerEvents:"auto"}}}}}),q6=Vi("div",{position:"fixed",top:0,bottom:0,right:0,left:0,zIndex:1e3,userSelect:"none"}),lae=Vi("div",{background:"$toolTipBackground",fontFamily:"$sans",fontSize:"$toolTip",padding:"$xs $sm",color:"$toolTipText",borderRadius:"$xs",boxShadow:"$level2",maxWidth:260}),cae=Vi(wse,{fill:"$toolTipBackground"});function hO({children:n}){const{className:e}=H.useContext(cO);return Je.createElement(hie,{className:e},n)}const uae=["align"];function hae(){const{id:n,disable:e,disabled:t}=Xl();return Je.createElement(Je.Fragment,null,Je.createElement(aae,{id:n+"__disable",type:"checkbox",checked:!t,onChange:()=>e(!t)}),Je.createElement("label",{htmlFor:n+"__disable"}))}function dae(n){const{id:e,optional:t,hint:i}=Xl(),r=n.htmlFor||(e?{htmlFor:e}:null),s=!i&&typeof n.children=="string"?{title:n.children}:null;return Je.createElement(Je.Fragment,null,t&&Je.createElement(hae,null),i!==void 0?Je.createElement(bse,null,Je.createElement(xse,{asChild:!0},Je.createElement(nR,io({},r,n))),Je.createElement(Sse,{side:"top",sideOffset:2},Je.createElement(lae,null,i,Je.createElement(cae,null)))):Je.createElement(nR,io({},r,s,n)))}function Qh(n){let{align:e}=n,t=Ys(n,uae);const{value:i,label:r,key:s,disabled:a}=Xl(),{hideCopyButton:o}=qse(),l=!o&&s!==void 0,[c,f]=H.useState(!1),h=async()=>{try{await navigator.clipboard.writeText(JSON.stringify({[s]:i??""})),f(!0)}catch{Bf(za.CLIPBOARD_ERROR,{[s]:i})}};return Je.createElement(sae,{align:e,onPointerLeave:()=>f(!1)},Je.createElement(dae,t),l&&!a&&Je.createElement("div",{title:`Click to copy ${typeof r=="string"?r:s} value`},c?Je.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},Je.createElement("path",{d:"M9 2a1 1 0 000 2h2a1 1 0 100-2H9z"}),Je.createElement("path",{fillRule:"evenodd",d:"M4 5a2 2 0 012-2 3 3 0 003 3h2a3 3 0 003-3 2 2 0 012 2v11a2 2 0 01-2 2H6a2 2 0 01-2-2V5zm9.707 5.707a1 1 0 00-1.414-1.414L9 12.586l-1.293-1.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})):Je.createElement("svg",{onClick:h,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},Je.createElement("path",{d:"M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z"}),Je.createElement("path",{d:"M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z"}))))}const fae=["toggled"],pae=Vi("svg",{fill:"currentColor",transition:"transform 350ms ease, fill 250ms ease"});function dO(n){let{toggled:e}=n,t=Ys(n,fae);return Je.createElement(pae,io({width:"9",height:"5",viewBox:"0 0 9 5",xmlns:"http://www.w3.org/2000/svg",style:{transform:`rotate(${e?0:-90}deg)`}},t),Je.createElement("path",{d:"M3.8 4.4c.4.3 1 .3 1.4 0L8 1.7A1 1 0 007.4 0H1.6a1 1 0 00-.7 1.7l3 2.7z"}))}const mae=["input"];function uh(n){let{input:e}=n,t=Ys(n,mae);return e?Je.createElement(X6,t):Je.createElement(j6,t)}function Y6({value:n,type:e,settings:t,setValue:i}){const[r,s]=H.useState(L4(e,n,t)),a=H.useRef(n),o=H.useRef(t);o.current=t;const l=H.useCallback(f=>s(L4(e,f,o.current)),[e]),c=H.useCallback(f=>{try{i(f)}catch(h){const{type:v,previousValue:m}=h;if(v!=="LEVA_ERROR")throw h;l(m)}},[l,i]);return H.useEffect(()=>{E1(n,a.current)||l(n),a.current=n},[n,l]),{displayValue:r,onChange:s,onUpdate:c}}function rb(n,e){const{emitOnEditStart:t,emitOnEditEnd:i}=Xl();return qee(r=>{r.first&&(document.body.classList.add("leva__panel__dragged"),t?.());const s=n(r);return r.last&&(document.body.classList.remove("leva__panel__dragged"),i?.()),s},e)}function gae(n){const e=H.useRef(null),t=H.useRef(null),i=H.useRef(!1);return H.useEffect(()=>{const r=I6(()=>{e.current.width=e.current.offsetWidth*window.devicePixelRatio,e.current.height=e.current.offsetHeight*window.devicePixelRatio,n(e.current,t.current)},250);return window.addEventListener("resize",r),i.current||(r(),i.current=!0),()=>window.removeEventListener("resize",r)},[n]),H.useEffect(()=>{t.current=e.current.getContext("2d")},[]),[e,t]}function K6(){const n=H.useRef(null),e=H.useRef({x:0,y:0}),t=H.useCallback(i=>{Object.assign(e.current,i),n.current&&(n.current.style.transform=`translate3d(${e.current.x}px, ${e.current.y}px, 0)`)},[]);return[n,t]}const vae=["__refCount"],u2=(n,e)=>{if(!n[e])return null;const t=n[e];return Ys(t,vae)};function yae(n){const e=ib(),[t,i]=H.useState(u2(e.getData(),n)),r=H.useCallback(c=>e.setValueAtPath(n,c,!0),[n,e]),s=H.useCallback(c=>e.setSettingsAtPath(n,c),[n,e]),a=H.useCallback(c=>e.disableInputAtPath(n,c),[n,e]),o=H.useCallback(()=>e.emitOnEditStart(n),[n,e]),l=H.useCallback(()=>e.emitOnEditEnd(n),[n,e]);return H.useEffect(()=>{i(u2(e.getData(),n));const c=e.useStore.subscribe(f=>u2(f.data,n),i,{equalityFn:EC});return()=>c()},[e,n]),[t,{set:r,setSettings:s,disable:a,storeId:e.storeId,emitOnEditStart:o,emitOnEditEnd:l}]}const _ae=Vi("div",{variants:{hasRange:{true:{position:"relative",display:"grid",gridTemplateColumns:"auto $sizes$numberInputMinWidth",columnGap:"$colGap",alignItems:"center"}}}}),Z6=Vi("div",{position:"relative",width:"100%",height:2,borderRadius:"$xs",backgroundColor:"$elevation1"}),iR=Vi("div",{position:"absolute",width:"$scrubberWidth",height:"$scrubberHeight",borderRadius:"$xs",boxShadow:"0 0 0 2px $colors$elevation2",backgroundColor:"$accent2",cursor:"pointer",$active:"none $accent1",$hover:"none $accent3",variants:{position:{left:{borderTopRightRadius:0,borderBottomRightRadius:0,transform:"translateX(calc(-0.5 * ($sizes$scrubberWidth + 4px)))"},right:{borderTopLeftRadius:0,borderBottomLeftRadius:0,transform:"translateX(calc(0.5 * ($sizes$scrubberWidth + 4px)))"}}}}),Q6=Vi("div",{position:"relative",$flex:"",height:"100%",cursor:"pointer",touchAction:"none"}),J6=Vi("div",{position:"absolute",height:"100%",backgroundColor:"$accent2"});function bae({value:n,min:e,max:t,onDrag:i,step:r,initialValue:s}){const a=H.useRef(null),o=H.useRef(null),l=H.useRef(0),c=Kf("sizes","scrubberWidth"),f=rb(({event:v,first:m,xy:[_],movement:[g],memo:y})=>{if(m){const{width:b,left:S}=a.current.getBoundingClientRect();l.current=b-parseFloat(c),y=v?.target===o.current?n:nE((_-S)/b,e,t)}const u=y+nE(g/l.current,0,t-e);return i(U6(u,{step:r,initialValue:s})),y}),h=tE(n,e,t);return Je.createElement(Q6,io({ref:a},f()),Je.createElement(Z6,null,Je.createElement(J6,{style:{left:0,right:`${(1-h)*100}%`}})),Je.createElement(iR,{ref:o,style:{left:`calc(${h} * (100% - ${c}))`}}))}const xae=Je.memo(({label:n,onUpdate:e,step:t,innerLabelTrim:i})=>{const[r,s]=H.useState(!1),a=rb(({active:o,delta:[l],event:c,memo:f=0,first:h,last:v,target:m})=>(h&&m.requestPointerLock(),v&&document.exitPointerLock(),s(o),f+=l/2,Math.abs(f)>=1&&(e(_=>parseFloat(_)+Math.floor(f)*t*D6(c)),f=0),f));return Je.createElement(Jse,io({dragging:r,title:n.length>1?n:""},a()),n.slice(0,i))});function e8({label:n,id:e,displayValue:t,onUpdate:i,onChange:r,settings:s,innerLabelTrim:a=1}){const o=a>0&&Je.createElement(xae,{label:n,step:s.step,onUpdate:i,innerLabelTrim:a});return Je.createElement(iae,{id:e,value:String(t),onUpdate:i,onChange:r,innerLabel:o})}function Sae(){const n=Xl(),{label:e,value:t,onUpdate:i,settings:r,id:s}=n,{min:a,max:o}=r,l=o!==1/0&&a!==-1/0;return Je.createElement(uh,{input:!0},Je.createElement(Qh,null,e),Je.createElement(_ae,{hasRange:l},l&&Je.createElement(bae,io({value:parseFloat(t),onDrag:i},r)),Je.createElement(e8,io({},n,{id:s,label:"value",innerLabelTrim:l?0:1}))))}const{sanitizeStep:wae}=k6,Eae=Ys(k6,["sanitizeStep"]);var Cae=qi({component:Sae},Eae);const Tae=(n,e)=>jc().schema({options:jc().passesAnyOf(jc().object(),jc().array())}).test(e),Aae=(n,{values:e})=>{if(e.indexOf(n)<0)throw Error("Selected value doesn't match Select options");return n},Mae=(n,{values:e})=>e.indexOf(n),Rae=n=>{let{value:e,options:t}=n,i,r;return Array.isArray(t)?(r=t,i=t.map(s=>String(s))):(r=Object.values(t),i=Object.keys(t)),"value"in n?r.includes(e)||(i.unshift(String(e)),r.unshift(e)):e=r[0],Object.values(t).includes(e)||(t[String(e)]=e),{value:e,settings:{keys:i,values:r}}};var Oae=Object.freeze({__proto__:null,schema:Tae,sanitize:Aae,format:Mae,normalize:Rae});const Lae=Vi("div",{$flexCenter:"",position:"relative","> svg":{pointerEvents:"none",position:"absolute",right:"$md"}}),rR=Vi("select",{position:"absolute",top:0,left:0,width:"100%",height:"100%",opacity:0}),Pae=Vi("div",{display:"flex",alignItems:"center",width:"100%",height:"$rowHeight",backgroundColor:"$elevation3",borderRadius:"$sm",padding:"0 $sm",cursor:"pointer",[`${rR}:focus + &`]:{$focusStyle:""},[`${rR}:hover + &`]:{$hoverStyle:""}});function Iae({displayValue:n,value:e,onUpdate:t,id:i,settings:r,disabled:s}){const{keys:a,values:o}=r,l=H.useRef();return e===o[n]&&(l.current=a[n]),Je.createElement(Lae,null,Je.createElement(rR,{id:i,value:n,onChange:c=>t(o[Number(c.currentTarget.value)]),disabled:s},a.map((c,f)=>Je.createElement("option",{key:c,value:f},c))),Je.createElement(Pae,null,l.current),Je.createElement(dO,{toggled:!0}))}function Dae(){const{label:n,value:e,displayValue:t,onUpdate:i,id:r,disabled:s,settings:a}=Xl();return Je.createElement(uh,{input:!0},Je.createElement(Qh,null,n),Je.createElement(Iae,{id:r,value:e,displayValue:t,onUpdate:i,settings:a,disabled:s}))}var Nae=qi({component:Dae},Oae);const Fae=n=>jc().string().test(n),Uae=n=>{if(typeof n!="string")throw Error("Invalid string");return n},kae=({value:n,editable:e=!0,rows:t=!1})=>({value:n,settings:{editable:e,rows:typeof t=="number"?t:t?5:0}});var Bae=Object.freeze({__proto__:null,schema:Fae,sanitize:Uae,normalize:kae});const zae=["displayValue","onUpdate","onChange","editable"],Gae=Vi("div",{whiteSpace:"pre-wrap"});function Hae(n){let{displayValue:e,onUpdate:t,onChange:i,editable:r=!0}=n,s=Ys(n,zae);return r?Je.createElement(uO,io({value:e,onUpdate:t,onChange:i},s)):Je.createElement(Gae,null,e)}function $ae(){const{label:n,settings:e,displayValue:t,onUpdate:i,onChange:r}=Xl();return Je.createElement(uh,{input:!0},Je.createElement(Qh,null,n),Je.createElement(Hae,io({displayValue:t,onUpdate:i,onChange:r},e)))}var Vae=qi({component:$ae},Bae);const Wae=n=>jc().boolean().test(n),jae=n=>{if(typeof n!="boolean")throw Error("Invalid boolean");return n};var Xae=Object.freeze({__proto__:null,schema:Wae,sanitize:jae});const qae=Vi("div",{position:"relative",$flex:"",height:"$rowHeight",input:{$reset:"",height:0,width:0,opacity:0,margin:0},label:{position:"relative",$flexCenter:"",userSelect:"none",cursor:"pointer",height:"$checkboxSize",width:"$checkboxSize",backgroundColor:"$elevation3",borderRadius:"$sm",$hover:""},"input:focus + label":{$focusStyle:""},"input:focus:checked + label, input:checked + label:hover":{$hoverStyle:"$accent3"},"input + label:active":{backgroundColor:"$accent1"},"input:checked + label:active":{backgroundColor:"$accent1"},"label > svg":{display:"none",width:"90%",height:"90%",stroke:"$highlight3"},"input:checked + label":{backgroundColor:"$accent2"},"input:checked + label > svg":{display:"block"}});function Yae({value:n,onUpdate:e,id:t,disabled:i}){return Je.createElement(qae,null,Je.createElement("input",{id:t,type:"checkbox",checked:n,onChange:r=>e(r.currentTarget.checked),disabled:i}),Je.createElement("label",{htmlFor:t},Je.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},Je.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"}))))}function Kae(){const{label:n,value:e,onUpdate:t,disabled:i,id:r}=Xl();return Je.createElement(uh,{input:!0},Je.createElement(Qh,null,n),Je.createElement(Yae,{value:e,onUpdate:t,id:r,disabled:i}))}var Zae=qi({component:Kae},Xae);const Qae=["locked"];function Jae({value:n,id:e,valueKey:t,settings:i,onUpdate:r,innerLabelTrim:s}){const a=H.useRef(n[t]);a.current=n[t];const o=H.useCallback(c=>r({[t]:P6({type:"NUMBER",value:a.current,settings:i},c)}),[r,i,t]),l=Y6({type:"NUMBER",value:n[t],settings:i,setValue:o});return Je.createElement(e8,{id:e,label:t,value:n[t],displayValue:l.displayValue,onUpdate:l.onUpdate,onChange:l.onChange,settings:i,innerLabelTrim:s})}const eoe=Vi("div",{display:"grid",columnGap:"$colGap",gridAutoFlow:"column dense",alignItems:"center",variants:{withLock:{true:{gridTemplateColumns:"10px auto","> svg":{cursor:"pointer"}}}}});function toe(n){let{locked:e}=n,t=Ys(n,Qae);return Je.createElement("svg",io({width:"10",height:"10",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),e?Je.createElement("path",{d:"M5 4.63601C5 3.76031 5.24219 3.1054 5.64323 2.67357C6.03934 2.24705 6.64582 1.9783 7.5014 1.9783C8.35745 1.9783 8.96306 2.24652 9.35823 2.67208C9.75838 3.10299 10 3.75708 10 4.63325V5.99999H5V4.63601ZM4 5.99999V4.63601C4 3.58148 4.29339 2.65754 4.91049 1.99307C5.53252 1.32329 6.42675 0.978302 7.5014 0.978302C8.57583 0.978302 9.46952 1.32233 10.091 1.99162C10.7076 2.65557 11 3.57896 11 4.63325V5.99999H12C12.5523 5.99999 13 6.44771 13 6.99999V13C13 13.5523 12.5523 14 12 14H3C2.44772 14 2 13.5523 2 13V6.99999C2 6.44771 2.44772 5.99999 3 5.99999H4ZM3 6.99999H12V13H3V6.99999Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"}):Je.createElement("path",{d:"M9 3.63601C9 2.76044 9.24207 2.11211 9.64154 1.68623C10.0366 1.26502 10.6432 1 11.5014 1C12.4485 1 13.0839 1.30552 13.4722 1.80636C13.8031 2.23312 14 2.84313 14 3.63325H15C15 2.68242 14.7626 1.83856 14.2625 1.19361C13.6389 0.38943 12.6743 0 11.5014 0C10.4294 0 9.53523 0.337871 8.91218 1.0021C8.29351 1.66167 8 2.58135 8 3.63601V6H1C0.447715 6 0 6.44772 0 7V13C0 13.5523 0.447715 14 1 14H10C10.5523 14 11 13.5523 11 13V7C11 6.44772 10.5523 6 10 6H9V3.63601ZM1 7H10V13H1V7Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"}))}function fO({value:n,onUpdate:e,settings:t,innerLabelTrim:i}){const{id:r,setSettings:s}=Xl(),{lock:a,locked:o}=t;return Je.createElement(eoe,{withLock:a},a&&Je.createElement(toe,{locked:o,onClick:()=>s({locked:!o})}),Object.keys(n).map((l,c)=>Je.createElement(Jae,{id:c===0?r:`${r}.${l}`,key:l,valueKey:l,value:n,settings:t[l],onUpdate:e,innerLabelTrim:i})))}const t8=(n,e)=>{const t={};let i=0,r=1/0;Object.entries(n).forEach(([s,a])=>{t[s]=F6(qi({value:a},e[s])).settings,i=Math.max(i,t[s].step),r=Math.min(r,t[s].pad)});for(let s in t){const{step:a,min:o,max:l}=e[s]||{};!isFinite(a)&&(!isFinite(o)||!isFinite(l))&&(t[s].step=i,t[s].pad=r)}return t},noe=["lock"],ioe=["value"];function roe(n){const e=jc().array().length(n).every.number(),t=i=>{if(!i||typeof i!="object")return!1;const r=Object.values(i);return r.length===n&&r.every(s=>isFinite(s))};return i=>e.test(i)||t(i)}function soe(n){return Array.isArray(n)?"array":"object"}function K_(n,e,t){return soe(n)===e?n:e==="array"?Object.values(n):Use(n,t)}const aoe=(n,e,t)=>{const i=K_(n,"object",e.keys);for(let a in i)i[a]=N6(i[a],e[a]);const r=Object.keys(i);let s={};if(r.length===e.keys.length)s=i;else{const a=K_(t,"object",e.keys);if(r.length===1&&e.locked){const o=r[0],l=i[o],c=a[o],f=c!==0?l/c:1;for(let h in a)h===o?s[o]=l:s[h]=a[h]*f}else s=qi(qi({},a),i)}return K_(s,e.format,e.keys)},ooe=(n,e)=>K_(n,"object",e.keys),loe=n=>!!n&&("step"in n||"min"in n||"max"in n);function coe(n,e,t=[]){const{lock:i=!1}=e,r=Ys(e,noe),s=Array.isArray(n)?"array":"object",a=s==="object"?Object.keys(n):t,o=K_(n,"object",a),l=loe(r)?a.reduce((f,h)=>Object.assign(f,{[h]:r}),{}):r,c=t8(o,l);return{value:s==="array"?n:o,settings:qi(qi({},c),{},{format:s,keys:a,lock:i,locked:!1})}}function n8(n){return{schema:roe(n.length),normalize:e=>{let{value:t}=e,i=Ys(e,ioe);return coe(t,i,n)},format:(e,t)=>ooe(e,t),sanitize:(e,t,i)=>aoe(e,t,i)}}var uoe={grad:.9,turn:360,rad:360/(2*Math.PI)},Lf=function(n){return typeof n=="string"?n.length>0:typeof n=="number"},al=function(n,e,t){return e===void 0&&(e=0),t===void 0&&(t=Math.pow(10,e)),Math.round(t*n)/t+0},ih=function(n,e,t){return e===void 0&&(e=0),t===void 0&&(t=1),n>t?t:n>e?n:e},i8=function(n){return(n=isFinite(n)?n%360:0)>0?n:n+360},G4=function(n){return{r:ih(n.r,0,255),g:ih(n.g,0,255),b:ih(n.b,0,255),a:ih(n.a)}},h2=function(n){return{r:al(n.r),g:al(n.g),b:al(n.b),a:al(n.a,3)}},hoe=/^#([0-9a-f]{3,8})$/i,cS=function(n){var e=n.toString(16);return e.length<2?"0"+e:e},r8=function(n){var e=n.r,t=n.g,i=n.b,r=n.a,s=Math.max(e,t,i),a=s-Math.min(e,t,i),o=a?s===e?(t-i)/a:s===t?2+(i-e)/a:4+(e-t)/a:0;return{h:60*(o<0?o+6:o),s:s?a/s*100:0,v:s/255*100,a:r}},s8=function(n){var e=n.h,t=n.s,i=n.v,r=n.a;e=e/360*6,t/=100,i/=100;var s=Math.floor(e),a=i*(1-t),o=i*(1-(e-s)*t),l=i*(1-(1-e+s)*t),c=s%6;return{r:255*[i,o,a,a,l,i][c],g:255*[l,i,i,o,a,a][c],b:255*[a,a,l,i,i,o][c],a:r}},H4=function(n){return{h:i8(n.h),s:ih(n.s,0,100),l:ih(n.l,0,100),a:ih(n.a)}},$4=function(n){return{h:al(n.h),s:al(n.s),l:al(n.l),a:al(n.a,3)}},V4=function(n){return s8((t=(e=n).s,{h:e.h,s:(t*=((i=e.l)<50?i:100-i)/100)>0?2*t/(i+t)*100:0,v:i+t,a:e.a}));var e,t,i},Z_=function(n){return{h:(e=r8(n)).h,s:(r=(200-(t=e.s))*(i=e.v)/100)>0&&r<200?t*i/100/(r<=100?r:200-r)*100:0,l:r/2,a:e.a};var e,t,i,r},doe=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*,\s*([+-]?\d*\.?\d+)%\s*,\s*([+-]?\d*\.?\d+)%\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,foe=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,poe=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,moe=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,sR={string:[[function(n){var e=hoe.exec(n);return e?(n=e[1]).length<=4?{r:parseInt(n[0]+n[0],16),g:parseInt(n[1]+n[1],16),b:parseInt(n[2]+n[2],16),a:n.length===4?al(parseInt(n[3]+n[3],16)/255,2):1}:n.length===6||n.length===8?{r:parseInt(n.substr(0,2),16),g:parseInt(n.substr(2,2),16),b:parseInt(n.substr(4,2),16),a:n.length===8?al(parseInt(n.substr(6,2),16)/255,2):1}:null:null},"hex"],[function(n){var e=poe.exec(n)||moe.exec(n);return e?e[2]!==e[4]||e[4]!==e[6]?null:G4({r:Number(e[1])/(e[2]?100/255:1),g:Number(e[3])/(e[4]?100/255:1),b:Number(e[5])/(e[6]?100/255:1),a:e[7]===void 0?1:Number(e[7])/(e[8]?100:1)}):null},"rgb"],[function(n){var e=doe.exec(n)||foe.exec(n);if(!e)return null;var t,i,r=H4({h:(t=e[1],i=e[2],i===void 0&&(i="deg"),Number(t)*(uoe[i]||1)),s:Number(e[3]),l:Number(e[4]),a:e[5]===void 0?1:Number(e[5])/(e[6]?100:1)});return V4(r)},"hsl"]],object:[[function(n){var e=n.r,t=n.g,i=n.b,r=n.a,s=r===void 0?1:r;return Lf(e)&&Lf(t)&&Lf(i)?G4({r:Number(e),g:Number(t),b:Number(i),a:Number(s)}):null},"rgb"],[function(n){var e=n.h,t=n.s,i=n.l,r=n.a,s=r===void 0?1:r;if(!Lf(e)||!Lf(t)||!Lf(i))return null;var a=H4({h:Number(e),s:Number(t),l:Number(i),a:Number(s)});return V4(a)},"hsl"],[function(n){var e=n.h,t=n.s,i=n.v,r=n.a,s=r===void 0?1:r;if(!Lf(e)||!Lf(t)||!Lf(i))return null;var a=(function(o){return{h:i8(o.h),s:ih(o.s,0,100),v:ih(o.v,0,100),a:ih(o.a)}})({h:Number(e),s:Number(t),v:Number(i),a:Number(s)});return s8(a)},"hsv"]]},W4=function(n,e){for(var t=0;t<e.length;t++){var i=e[t][0](n);if(i)return[i,e[t][1]]}return[null,void 0]},a8=function(n){return typeof n=="string"?W4(n.trim(),sR.string):typeof n=="object"&&n!==null?W4(n,sR.object):[null,void 0]},goe=function(n){return a8(n)[1]},d2=function(n,e){var t=Z_(n);return{h:t.h,s:ih(t.s+100*e,0,100),l:t.l,a:t.a}},f2=function(n){return(299*n.r+587*n.g+114*n.b)/1e3/255},j4=function(n,e){var t=Z_(n);return{h:t.h,s:t.s,l:ih(t.l+100*e,0,100),a:t.a}},aR=(function(){function n(e){this.parsed=a8(e)[0],this.rgba=this.parsed||{r:0,g:0,b:0,a:1}}return n.prototype.isValid=function(){return this.parsed!==null},n.prototype.brightness=function(){return al(f2(this.rgba),2)},n.prototype.isDark=function(){return f2(this.rgba)<.5},n.prototype.isLight=function(){return f2(this.rgba)>=.5},n.prototype.toHex=function(){return e=h2(this.rgba),t=e.r,i=e.g,r=e.b,a=(s=e.a)<1?cS(al(255*s)):"","#"+cS(t)+cS(i)+cS(r)+a;var e,t,i,r,s,a},n.prototype.toRgb=function(){return h2(this.rgba)},n.prototype.toRgbString=function(){return e=h2(this.rgba),t=e.r,i=e.g,r=e.b,(s=e.a)<1?"rgba("+t+", "+i+", "+r+", "+s+")":"rgb("+t+", "+i+", "+r+")";var e,t,i,r,s},n.prototype.toHsl=function(){return $4(Z_(this.rgba))},n.prototype.toHslString=function(){return e=$4(Z_(this.rgba)),t=e.h,i=e.s,r=e.l,(s=e.a)<1?"hsla("+t+", "+i+"%, "+r+"%, "+s+")":"hsl("+t+", "+i+"%, "+r+"%)";var e,t,i,r,s},n.prototype.toHsv=function(){return e=r8(this.rgba),{h:al(e.h),s:al(e.s),v:al(e.v),a:al(e.a,3)};var e},n.prototype.invert=function(){return gc({r:255-(e=this.rgba).r,g:255-e.g,b:255-e.b,a:e.a});var e},n.prototype.saturate=function(e){return e===void 0&&(e=.1),gc(d2(this.rgba,e))},n.prototype.desaturate=function(e){return e===void 0&&(e=.1),gc(d2(this.rgba,-e))},n.prototype.grayscale=function(){return gc(d2(this.rgba,-1))},n.prototype.lighten=function(e){return e===void 0&&(e=.1),gc(j4(this.rgba,e))},n.prototype.darken=function(e){return e===void 0&&(e=.1),gc(j4(this.rgba,-e))},n.prototype.rotate=function(e){return e===void 0&&(e=15),this.hue(this.hue()+e)},n.prototype.alpha=function(e){return typeof e=="number"?gc({r:(t=this.rgba).r,g:t.g,b:t.b,a:e}):al(this.rgba.a,3);var t},n.prototype.hue=function(e){var t=Z_(this.rgba);return typeof e=="number"?gc({h:e,s:t.s,l:t.l,a:t.a}):al(t.h)},n.prototype.isEqual=function(e){return this.toHex()===gc(e).toHex()},n})(),gc=function(n){return n instanceof aR?n:new aR(n)},X4=[],voe=function(n){n.forEach(function(e){X4.indexOf(e)<0&&(e(aR,sR),X4.push(e))})};function yoe(n,e){var t={white:"#ffffff",bisque:"#ffe4c4",blue:"#0000ff",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",antiquewhite:"#faebd7",aqua:"#00ffff",azure:"#f0ffff",whitesmoke:"#f5f5f5",papayawhip:"#ffefd5",plum:"#dda0dd",blanchedalmond:"#ffebcd",black:"#000000",gold:"#ffd700",goldenrod:"#daa520",gainsboro:"#dcdcdc",cornsilk:"#fff8dc",cornflowerblue:"#6495ed",burlywood:"#deb887",aquamarine:"#7fffd4",beige:"#f5f5dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkkhaki:"#bdb76b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",peachpuff:"#ffdab9",darkmagenta:"#8b008b",darkred:"#8b0000",darkorchid:"#9932cc",darkorange:"#ff8c00",darkslateblue:"#483d8b",gray:"#808080",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",deeppink:"#ff1493",deepskyblue:"#00bfff",wheat:"#f5deb3",firebrick:"#b22222",floralwhite:"#fffaf0",ghostwhite:"#f8f8ff",darkviolet:"#9400d3",magenta:"#ff00ff",green:"#008000",dodgerblue:"#1e90ff",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",blueviolet:"#8a2be2",forestgreen:"#228b22",lawngreen:"#7cfc00",indianred:"#cd5c5c",indigo:"#4b0082",fuchsia:"#ff00ff",brown:"#a52a2a",maroon:"#800000",mediumblue:"#0000cd",lightcoral:"#f08080",darkturquoise:"#00ced1",lightcyan:"#e0ffff",ivory:"#fffff0",lightyellow:"#ffffe0",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",linen:"#faf0e6",mediumaquamarine:"#66cdaa",lemonchiffon:"#fffacd",lime:"#00ff00",khaki:"#f0e68c",mediumseagreen:"#3cb371",limegreen:"#32cd32",mediumspringgreen:"#00fa9a",lightskyblue:"#87cefa",lightblue:"#add8e6",midnightblue:"#191970",lightpink:"#ffb6c1",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",mintcream:"#f5fffa",lightslategray:"#778899",lightslategrey:"#778899",navajowhite:"#ffdead",navy:"#000080",mediumvioletred:"#c71585",powderblue:"#b0e0e6",palegoldenrod:"#eee8aa",oldlace:"#fdf5e6",paleturquoise:"#afeeee",mediumturquoise:"#48d1cc",mediumorchid:"#ba55d3",rebeccapurple:"#663399",lightsteelblue:"#b0c4de",mediumslateblue:"#7b68ee",thistle:"#d8bfd8",tan:"#d2b48c",orchid:"#da70d6",mediumpurple:"#9370db",purple:"#800080",pink:"#ffc0cb",skyblue:"#87ceeb",springgreen:"#00ff7f",palegreen:"#98fb98",red:"#ff0000",yellow:"#ffff00",slateblue:"#6a5acd",lavenderblush:"#fff0f5",peru:"#cd853f",palevioletred:"#db7093",violet:"#ee82ee",teal:"#008080",slategray:"#708090",slategrey:"#708090",aliceblue:"#f0f8ff",darkseagreen:"#8fbc8f",darkolivegreen:"#556b2f",greenyellow:"#adff2f",seagreen:"#2e8b57",seashell:"#fff5ee",tomato:"#ff6347",silver:"#c0c0c0",sienna:"#a0522d",lavender:"#e6e6fa",lightgreen:"#90ee90",orange:"#ffa500",orangered:"#ff4500",steelblue:"#4682b4",royalblue:"#4169e1",turquoise:"#40e0d0",yellowgreen:"#9acd32",salmon:"#fa8072",saddlebrown:"#8b4513",sandybrown:"#f4a460",rosybrown:"#bc8f8f",darksalmon:"#e9967a",lightgoldenrodyellow:"#fafad2",snow:"#fffafa",lightgrey:"#d3d3d3",lightgray:"#d3d3d3",dimgray:"#696969",dimgrey:"#696969",olivedrab:"#6b8e23",olive:"#808000"},i={};for(var r in t)i[t[r]]=r;var s={};n.prototype.toName=function(a){if(!(this.rgba.a||this.rgba.r||this.rgba.g||this.rgba.b))return"transparent";var o,l,c=i[this.toHex()];if(c)return c;if(a?.closest){var f=this.toRgb(),h=1/0,v="black";if(!s.length)for(var m in t)s[m]=new n(t[m]).toRgb();for(var _ in t){var g=(o=f,l=s[_],Math.pow(o.r-l.r,2)+Math.pow(o.g-l.g,2)+Math.pow(o.b-l.b,2));g<h&&(h=g,v=_)}return v}},e.string.push([function(a){var o=a.toLowerCase(),l=o==="transparent"?"#0000":t[o];return l?new n(l).toRgb():null},"name"])}function yy(){return(yy=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n}).apply(this,arguments)}function pO(n,e){if(n==null)return{};var t,i,r={},s=Object.keys(n);for(i=0;i<s.length;i++)e.indexOf(t=s[i])>=0||(r[t]=n[t]);return r}function oR(n){var e=H.useRef(n),t=H.useRef(function(i){e.current&&e.current(i)});return e.current=n,t.current}var J0=function(n,e,t){return e===void 0&&(e=0),t===void 0&&(t=1),n>t?t:n<e?e:n},Q_=function(n){return"touches"in n},lR=function(n){return n&&n.ownerDocument.defaultView||self},q4=function(n,e,t){var i=n.getBoundingClientRect(),r=Q_(e)?(function(s,a){for(var o=0;o<s.length;o++)if(s[o].identifier===a)return s[o];return s[0]})(e.touches,t):e;return{left:J0((r.pageX-(i.left+lR(n).pageXOffset))/i.width),top:J0((r.pageY-(i.top+lR(n).pageYOffset))/i.height)}},Y4=function(n){!Q_(n)&&n.preventDefault()},mO=Je.memo(function(n){var e=n.onMove,t=n.onKey,i=pO(n,["onMove","onKey"]),r=H.useRef(null),s=oR(e),a=oR(t),o=H.useRef(null),l=H.useRef(!1),c=H.useMemo(function(){var m=function(y){Y4(y),(Q_(y)?y.touches.length>0:y.buttons>0)&&r.current?s(q4(r.current,y,o.current)):g(!1)},_=function(){return g(!1)};function g(y){var u=l.current,b=lR(r.current),S=y?b.addEventListener:b.removeEventListener;S(u?"touchmove":"mousemove",m),S(u?"touchend":"mouseup",_)}return[function(y){var u=y.nativeEvent,b=r.current;if(b&&(Y4(u),!(function(T,R){return R&&!Q_(T)})(u,l.current)&&b)){if(Q_(u)){l.current=!0;var S=u.changedTouches||[];S.length&&(o.current=S[0].identifier)}b.focus(),s(q4(b,u,o.current)),g(!0)}},function(y){var u=y.which||y.keyCode;u<37||u>40||(y.preventDefault(),a({left:u===39?.05:u===37?-.05:0,top:u===40?.05:u===38?-.05:0}))},g]},[a,s]),f=c[0],h=c[1],v=c[2];return H.useEffect(function(){return v},[v]),Je.createElement("div",yy({},i,{onTouchStart:f,onMouseDown:f,className:"react-colorful__interactive",ref:r,onKeyDown:h,tabIndex:0,role:"slider"}))}),sb=function(n){return n.filter(Boolean).join(" ")},gO=function(n){var e=n.color,t=n.left,i=n.top,r=i===void 0?.5:i,s=sb(["react-colorful__pointer",n.className]);return Je.createElement("div",{className:s,style:{top:100*r+"%",left:100*t+"%"}},Je.createElement("div",{className:"react-colorful__pointer-fill",style:{backgroundColor:e}}))},bc=function(n,e,t){return e===void 0&&(e=0),t===void 0&&(t=Math.pow(10,e)),Math.round(t*n)/t},o8=function(n){var e=n.s,t=n.v,i=n.a,r=(200-e)*t/100;return{h:bc(n.h),s:bc(r>0&&r<200?e*t/100/(r<=100?r:200-r)*100:0),l:bc(r/2),a:bc(i,2)}},cR=function(n){var e=o8(n);return"hsl("+e.h+", "+e.s+"%, "+e.l+"%)"},p2=function(n){var e=o8(n);return"hsla("+e.h+", "+e.s+"%, "+e.l+"%, "+e.a+")"},l8=function(n){var e=n.h,t=n.s,i=n.v,r=n.a;e=e/360*6,t/=100,i/=100;var s=Math.floor(e),a=i*(1-t),o=i*(1-(e-s)*t),l=i*(1-(1-e+s)*t),c=s%6;return{r:bc(255*[i,o,a,a,l,i][c]),g:bc(255*[l,i,i,o,a,a][c]),b:bc(255*[a,a,l,i,i,o][c]),a:bc(r,2)}},c8=function(n){var e=n.r,t=n.g,i=n.b,r=n.a,s=Math.max(e,t,i),a=s-Math.min(e,t,i),o=a?s===e?(t-i)/a:s===t?2+(i-e)/a:4+(e-t)/a:0;return{h:bc(60*(o<0?o+6:o)),s:bc(s?a/s*100:0),v:bc(s/255*100),a:r}},u8=Je.memo(function(n){var e=n.hue,t=n.onChange,i=sb(["react-colorful__hue",n.className]);return Je.createElement("div",{className:i},Je.createElement(mO,{onMove:function(r){t({h:360*r.left})},onKey:function(r){t({h:J0(e+360*r.left,0,360)})},"aria-label":"Hue","aria-valuenow":bc(e),"aria-valuemax":"360","aria-valuemin":"0"},Je.createElement(gO,{className:"react-colorful__hue-pointer",left:e/360,color:cR({h:e,s:100,v:100,a:1})})))}),h8=Je.memo(function(n){var e=n.hsva,t=n.onChange,i={backgroundColor:cR({h:e.h,s:100,v:100,a:1})};return Je.createElement("div",{className:"react-colorful__saturation",style:i},Je.createElement(mO,{onMove:function(r){t({s:100*r.left,v:100-100*r.top})},onKey:function(r){t({s:J0(e.s+100*r.left,0,100),v:J0(e.v-100*r.top,0,100)})},"aria-label":"Color","aria-valuetext":"Saturation "+bc(e.s)+"%, Brightness "+bc(e.v)+"%"},Je.createElement(gO,{className:"react-colorful__saturation-pointer",top:1-e.v/100,left:e.s/100,color:cR(e)})))}),vO=function(n,e){if(n===e)return!0;for(var t in n)if(n[t]!==e[t])return!1;return!0};function d8(n,e,t){var i=oR(t),r=H.useState(function(){return n.toHsva(e)}),s=r[0],a=r[1],o=H.useRef({color:e,hsva:s});H.useEffect(function(){if(!n.equal(e,o.current.color)){var c=n.toHsva(e);o.current={hsva:c,color:e},a(c)}},[e,n]),H.useEffect(function(){var c;vO(s,o.current.hsva)||n.equal(c=n.fromHsva(s),o.current.color)||(o.current={hsva:s,color:c},i(c))},[s,n,i]);var l=H.useCallback(function(c){a(function(f){return Object.assign({},f,c)})},[]);return[s,l]}var _oe=typeof window<"u"?H.useLayoutEffect:H.useEffect,boe=function(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:void 0},K4=new Map,f8=function(n){_oe(function(){var e=n.current?n.current.ownerDocument:document;if(e!==void 0&&!K4.has(e)){var t=e.createElement("style");t.innerHTML=`.react-colorful{position:relative;display:flex;flex-direction:column;width:200px;height:200px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.react-colorful__saturation{position:relative;flex-grow:1;border-color:transparent;border-bottom:12px solid #000;border-radius:8px 8px 0 0;background-image:linear-gradient(0deg,#000,transparent),linear-gradient(90deg,#fff,hsla(0,0%,100%,0))}.react-colorful__alpha-gradient,.react-colorful__pointer-fill{content:"";position:absolute;left:0;top:0;right:0;bottom:0;pointer-events:none;border-radius:inherit}.react-colorful__alpha-gradient,.react-colorful__saturation{box-shadow:inset 0 0 0 1px rgba(0,0,0,.05)}.react-colorful__alpha,.react-colorful__hue{position:relative;height:24px}.react-colorful__hue{background:linear-gradient(90deg,red 0,#ff0 17%,#0f0 33%,#0ff 50%,#00f 67%,#f0f 83%,red)}.react-colorful__last-control{border-radius:0 0 8px 8px}.react-colorful__interactive{position:absolute;left:0;top:0;right:0;bottom:0;border-radius:inherit;outline:none;touch-action:none}.react-colorful__pointer{position:absolute;z-index:1;box-sizing:border-box;width:28px;height:28px;transform:translate(-50%,-50%);background-color:#fff;border:2px solid #fff;border-radius:50%;box-shadow:0 2px 4px rgba(0,0,0,.2)}.react-colorful__interactive:focus .react-colorful__pointer{transform:translate(-50%,-50%) scale(1.1)}.react-colorful__alpha,.react-colorful__alpha-pointer{background-color:#fff;background-image:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill-opacity=".05"><path d="M8 0h8v8H8zM0 8h8v8H0z"/></svg>')}.react-colorful__saturation-pointer{z-index:3}.react-colorful__hue-pointer{z-index:2}`,K4.set(e,t);var i=boe();i&&t.setAttribute("nonce",i),e.head.appendChild(t)}},[])},xoe=function(n){var e=n.className,t=n.colorModel,i=n.color,r=i===void 0?t.defaultColor:i,s=n.onChange,a=pO(n,["className","colorModel","color","onChange"]),o=H.useRef(null);f8(o);var l=d8(t,r,s),c=l[0],f=l[1],h=sb(["react-colorful",e]);return Je.createElement("div",yy({},a,{ref:o,className:h}),Je.createElement(h8,{hsva:c,onChange:f}),Je.createElement(u8,{hue:c.h,onChange:f,className:"react-colorful__last-control"}))},Soe=function(n){var e=n.className,t=n.hsva,i=n.onChange,r={backgroundImage:"linear-gradient(90deg, "+p2(Object.assign({},t,{a:0}))+", "+p2(Object.assign({},t,{a:1}))+")"},s=sb(["react-colorful__alpha",e]),a=bc(100*t.a);return Je.createElement("div",{className:s},Je.createElement("div",{className:"react-colorful__alpha-gradient",style:r}),Je.createElement(mO,{onMove:function(o){i({a:o.left})},onKey:function(o){i({a:J0(t.a+o.left)})},"aria-label":"Alpha","aria-valuetext":a+"%","aria-valuenow":a,"aria-valuemin":"0","aria-valuemax":"100"},Je.createElement(gO,{className:"react-colorful__alpha-pointer",left:t.a,color:p2(t)})))},woe=function(n){var e=n.className,t=n.colorModel,i=n.color,r=i===void 0?t.defaultColor:i,s=n.onChange,a=pO(n,["className","colorModel","color","onChange"]),o=H.useRef(null);f8(o);var l=d8(t,r,s),c=l[0],f=l[1],h=sb(["react-colorful",e]);return Je.createElement("div",yy({},a,{ref:o,className:h}),Je.createElement(h8,{hsva:c,onChange:f}),Je.createElement(u8,{hue:c.h,onChange:f}),Je.createElement(Soe,{hsva:c,onChange:f,className:"react-colorful__last-control"}))},Eoe={defaultColor:{r:0,g:0,b:0,a:1},toHsva:c8,fromHsva:l8,equal:vO},Coe=function(n){return Je.createElement(woe,yy({},n,{colorModel:Eoe}))},Toe={defaultColor:{r:0,g:0,b:0},toHsva:function(n){return c8({r:n.r,g:n.g,b:n.b,a:1})},fromHsva:function(n){return{r:(e=l8(n)).r,g:e.g,b:e.b};var e},equal:vO},Aoe=function(n){return Je.createElement(xoe,yy({},n,{colorModel:Toe}))};function _y(n,e,t,i){function r(s){return s instanceof t?s:new t(function(a){a(s)})}return new(t||(t=Promise))(function(s,a){function o(f){try{c(i.next(f))}catch(h){a(h)}}function l(f){try{c(i.throw(f))}catch(h){a(h)}}function c(f){f.done?s(f.value):r(f.value).then(o,l)}c((i=i.apply(n,e||[])).next())})}function by(n,e){var t={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},i,r,s,a=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return a.next=o(0),a.throw=o(1),a.return=o(2),typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function o(c){return function(f){return l([c,f])}}function l(c){if(i)throw new TypeError("Generator is already executing.");for(;a&&(a=0,c[0]&&(t=0)),t;)try{if(i=1,r&&(s=c[0]&2?r.return:c[0]?r.throw||((s=r.return)&&s.call(r),0):r.next)&&!(s=s.call(r,c[1])).done)return s;switch(r=0,s&&(c=[c[0]&2,s.value]),c[0]){case 0:case 1:s=c;break;case 4:return t.label++,{value:c[1],done:!1};case 5:t.label++,r=c[1],c=[0];continue;case 7:c=t.ops.pop(),t.trys.pop();continue;default:if(s=t.trys,!(s=s.length>0&&s[s.length-1])&&(c[0]===6||c[0]===2)){t=0;continue}if(c[0]===3&&(!s||c[1]>s[0]&&c[1]<s[3])){t.label=c[1];break}if(c[0]===6&&t.label<s[1]){t.label=s[1],s=c;break}if(s&&t.label<s[2]){t.label=s[2],t.ops.push(c);break}s[2]&&t.ops.pop(),t.trys.pop();continue}c=e.call(n,t)}catch(f){c=[6,f],r=0}finally{i=s=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}function Moe(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var i=t.call(n),r,s=[],a;try{for(;(e===void 0||e-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(o){a={error:o}}finally{try{r&&!r.done&&(t=i.return)&&t.call(i)}finally{if(a)throw a.error}}return s}function Roe(){for(var n=[],e=0;e<arguments.length;e++)n=n.concat(Moe(arguments[e]));return n}var Ooe=new Map([["aac","audio/aac"],["abw","application/x-abiword"],["arc","application/x-freearc"],["avif","image/avif"],["avi","video/x-msvideo"],["azw","application/vnd.amazon.ebook"],["bin","application/octet-stream"],["bmp","image/bmp"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["cda","application/x-cdf"],["csh","application/x-csh"],["css","text/css"],["csv","text/csv"],["doc","application/msword"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["eot","application/vnd.ms-fontobject"],["epub","application/epub+zip"],["gz","application/gzip"],["gif","image/gif"],["heic","image/heic"],["heif","image/heif"],["htm","text/html"],["html","text/html"],["ico","image/vnd.microsoft.icon"],["ics","text/calendar"],["jar","application/java-archive"],["jpeg","image/jpeg"],["jpg","image/jpeg"],["js","text/javascript"],["json","application/json"],["jsonld","application/ld+json"],["mid","audio/midi"],["midi","audio/midi"],["mjs","text/javascript"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mpeg","video/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["opus","audio/opus"],["otf","font/otf"],["png","image/png"],["pdf","application/pdf"],["php","application/x-httpd-php"],["ppt","application/vnd.ms-powerpoint"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["rar","application/vnd.rar"],["rtf","application/rtf"],["sh","application/x-sh"],["svg","image/svg+xml"],["swf","application/x-shockwave-flash"],["tar","application/x-tar"],["tif","image/tiff"],["tiff","image/tiff"],["ts","video/mp2t"],["ttf","font/ttf"],["txt","text/plain"],["vsd","application/vnd.visio"],["wav","audio/wav"],["weba","audio/webm"],["webm","video/webm"],["webp","image/webp"],["woff","font/woff"],["woff2","font/woff2"],["xhtml","application/xhtml+xml"],["xls","application/vnd.ms-excel"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xml","application/xml"],["xul","application/vnd.mozilla.xul+xml"],["zip","application/zip"],["7z","application/x-7z-compressed"],["mkv","video/x-matroska"],["mov","video/quicktime"],["msg","application/vnd.ms-outlook"]]);function ab(n,e){var t=Loe(n);if(typeof t.path!="string"){var i=n.webkitRelativePath;Object.defineProperty(t,"path",{value:typeof e=="string"?e:typeof i=="string"&&i.length>0?i:n.name,writable:!1,configurable:!1,enumerable:!0})}return t}function Loe(n){var e=n.name,t=e&&e.lastIndexOf(".")!==-1;if(t&&!n.type){var i=e.split(".").pop().toLowerCase(),r=Ooe.get(i);r&&Object.defineProperty(n,"type",{value:r,writable:!1,configurable:!1,enumerable:!0})}return n}var Poe=[".DS_Store","Thumbs.db"];function Ioe(n){return _y(this,void 0,void 0,function(){return by(this,function(e){return rE(n)&&Doe(n)?[2,koe(n.dataTransfer,n.type)]:Noe(n)?[2,Foe(n)]:Array.isArray(n)&&n.every(function(t){return"getFile"in t&&typeof t.getFile=="function"})?[2,Uoe(n)]:[2,[]]})})}function Doe(n){return rE(n.dataTransfer)}function Noe(n){return rE(n)&&rE(n.target)}function rE(n){return typeof n=="object"&&n!==null}function Foe(n){return uR(n.target.files).map(function(e){return ab(e)})}function Uoe(n){return _y(this,void 0,void 0,function(){var e;return by(this,function(t){switch(t.label){case 0:return[4,Promise.all(n.map(function(i){return i.getFile()}))];case 1:return e=t.sent(),[2,e.map(function(i){return ab(i)})]}})})}function koe(n,e){return _y(this,void 0,void 0,function(){var t,i;return by(this,function(r){switch(r.label){case 0:return n===null?[2,[]]:n.items?(t=uR(n.items).filter(function(s){return s.kind==="file"}),e!=="drop"?[2,t]:[4,Promise.all(t.map(Boe))]):[3,2];case 1:return i=r.sent(),[2,Z4(p8(i))];case 2:return[2,Z4(uR(n.files).map(function(s){return ab(s)}))]}})})}function Z4(n){return n.filter(function(e){return Poe.indexOf(e.name)===-1})}function uR(n){if(n===null)return[];for(var e=[],t=0;t<n.length;t++){var i=n[t];e.push(i)}return e}function Boe(n){if(typeof n.webkitGetAsEntry!="function")return Q4(n);var e=n.webkitGetAsEntry();return e&&e.isDirectory?m8(e):Q4(n)}function p8(n){return n.reduce(function(e,t){return Roe(e,Array.isArray(t)?p8(t):[t])},[])}function Q4(n){var e=n.getAsFile();if(!e)return Promise.reject(n+" is not a File");var t=ab(e);return Promise.resolve(t)}function zoe(n){return _y(this,void 0,void 0,function(){return by(this,function(e){return[2,n.isDirectory?m8(n):Goe(n)]})})}function m8(n){var e=n.createReader();return new Promise(function(t,i){var r=[];function s(){var a=this;e.readEntries(function(o){return _y(a,void 0,void 0,function(){var l,c,f;return by(this,function(h){switch(h.label){case 0:if(o.length)return[3,5];h.label=1;case 1:return h.trys.push([1,3,,4]),[4,Promise.all(r)];case 2:return l=h.sent(),t(l),[3,4];case 3:return c=h.sent(),i(c),[3,4];case 4:return[3,6];case 5:f=Promise.all(o.map(zoe)),r.push(f),s(),h.label=6;case 6:return[2]}})})},function(o){i(o)})}s()})}function Goe(n){return _y(this,void 0,void 0,function(){return by(this,function(e){return[2,new Promise(function(t,i){n.file(function(r){var s=ab(r,n.fullPath);t(s)},function(r){i(r)})})]})})}var uS={},J4;function Hoe(){return J4||(J4=1,uS.__esModule=!0,uS.default=function(n,e){if(n&&e){var t=Array.isArray(e)?e:e.split(",");if(t.length===0)return!0;var i=n.name||"",r=(n.type||"").toLowerCase(),s=r.replace(/\/.*$/,"");return t.some(function(a){var o=a.trim().toLowerCase();return o.charAt(0)==="."?i.toLowerCase().endsWith(o):o.endsWith("/*")?s===o.replace(/\/.*$/,""):r===o})}return!0}),uS}var $oe=Hoe();const Voe=Yc($oe);function eN(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function tN(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?eN(Object(t),!0).forEach(function(i){g8(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):eN(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function g8(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function nN(n,e){return qoe(n)||Xoe(n,e)||joe(n,e)||Woe()}function Woe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function joe(n,e){if(n){if(typeof n=="string")return iN(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return iN(n,e)}}function iN(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,i=new Array(e);t<e;t++)i[t]=n[t];return i}function Xoe(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var i=[],r=!0,s=!1,a,o;try{for(t=t.call(n);!(r=(a=t.next()).done)&&(i.push(a.value),!(e&&i.length===e));r=!0);}catch(l){s=!0,o=l}finally{try{!r&&t.return!=null&&t.return()}finally{if(s)throw o}}return i}}function qoe(n){if(Array.isArray(n))return n}var Yoe="file-invalid-type",Koe="file-too-large",Zoe="file-too-small",Qoe="too-many-files",Joe=function(e){e=Array.isArray(e)&&e.length===1?e[0]:e;var t=Array.isArray(e)?"one of ".concat(e.join(", ")):e;return{code:Yoe,message:"File type must be ".concat(t)}},rN=function(e){return{code:Koe,message:"File is larger than ".concat(e," ").concat(e===1?"byte":"bytes")}},sN=function(e){return{code:Zoe,message:"File is smaller than ".concat(e," ").concat(e===1?"byte":"bytes")}},ele={code:Qoe,message:"Too many files"};function v8(n,e){var t=n.type==="application/x-moz-file"||Voe(n,e);return[t,t?null:Joe(e)]}function y8(n,e,t){if(__(n.size))if(__(e)&&__(t)){if(n.size>t)return[!1,rN(t)];if(n.size<e)return[!1,sN(e)]}else{if(__(e)&&n.size<e)return[!1,sN(e)];if(__(t)&&n.size>t)return[!1,rN(t)]}return[!0,null]}function __(n){return n!=null}function tle(n){var e=n.files,t=n.accept,i=n.minSize,r=n.maxSize,s=n.multiple,a=n.maxFiles;return!s&&e.length>1||s&&a>=1&&e.length>a?!1:e.every(function(o){var l=v8(o,t),c=nN(l,1),f=c[0],h=y8(o,i,r),v=nN(h,1),m=v[0];return f&&m})}function sE(n){return typeof n.isPropagationStopped=="function"?n.isPropagationStopped():typeof n.cancelBubble<"u"?n.cancelBubble:!1}function hS(n){return n.dataTransfer?Array.prototype.some.call(n.dataTransfer.types,function(e){return e==="Files"||e==="application/x-moz-file"}):!!n.target&&!!n.target.files}function aN(n){n.preventDefault()}function nle(n){return n.indexOf("MSIE")!==-1||n.indexOf("Trident/")!==-1}function ile(n){return n.indexOf("Edge/")!==-1}function rle(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return nle(n)||ile(n)}function Td(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return function(i){for(var r=arguments.length,s=new Array(r>1?r-1:0),a=1;a<r;a++)s[a-1]=arguments[a];return e.some(function(o){return!sE(i)&&o&&o.apply(void 0,[i].concat(s)),sE(i)})}}function sle(){return"showOpenFilePicker"in window}function ale(n){return n=typeof n=="string"?n.split(","):n,[{description:"everything",accept:Array.isArray(n)?n.filter(function(e){return e==="audio/*"||e==="video/*"||e==="image/*"||e==="text/*"||/\w+\/[-+.\w]+/g.test(e)}).reduce(function(e,t){return tN(tN({},e),{},g8({},t,[]))},{}):{}}]}function ole(n){return n instanceof DOMException&&(n.name==="AbortError"||n.code===n.ABORT_ERR)}function lle(n){return n instanceof DOMException&&(n.name==="SecurityError"||n.code===n.SECURITY_ERR)}var cle=["children"],ule=["open"],hle=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],dle=["refKey","onChange","onClick"];function fle(n){return gle(n)||mle(n)||_8(n)||ple()}function ple(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mle(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function gle(n){if(Array.isArray(n))return hR(n)}function m2(n,e){return _le(n)||yle(n,e)||_8(n,e)||vle()}function vle(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _8(n,e){if(n){if(typeof n=="string")return hR(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return hR(n,e)}}function hR(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,i=new Array(e);t<e;t++)i[t]=n[t];return i}function yle(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var i=[],r=!0,s=!1,a,o;try{for(t=t.call(n);!(r=(a=t.next()).done)&&(i.push(a.value),!(e&&i.length===e));r=!0);}catch(l){s=!0,o=l}finally{try{!r&&t.return!=null&&t.return()}finally{if(s)throw o}}return i}}function _le(n){if(Array.isArray(n))return n}function oN(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function Ba(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?oN(Object(t),!0).forEach(function(i){dR(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):oN(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function dR(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function aE(n,e){if(n==null)return{};var t=ble(n,e),i,r;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(r=0;r<s.length;r++)i=s[r],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(n,i)&&(t[i]=n[i])}return t}function ble(n,e){if(n==null)return{};var t={},i=Object.keys(n),r,s;for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&(t[r]=n[r]);return t}var yO=H.forwardRef(function(n,e){var t=n.children,i=aE(n,cle),r=x8(i),s=r.open,a=aE(r,ule);return H.useImperativeHandle(e,function(){return{open:s}},[s]),Je.createElement(H.Fragment,null,t(Ba(Ba({},a),{},{open:s})))});yO.displayName="Dropzone";var b8={disabled:!1,getFilesFromEvent:Ioe,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!0};yO.defaultProps=b8;yO.propTypes={children:Bi.func,accept:Bi.oneOfType([Bi.string,Bi.arrayOf(Bi.string)]),multiple:Bi.bool,preventDropOnDocument:Bi.bool,noClick:Bi.bool,noKeyboard:Bi.bool,noDrag:Bi.bool,noDragEventsBubbling:Bi.bool,minSize:Bi.number,maxSize:Bi.number,maxFiles:Bi.number,disabled:Bi.bool,getFilesFromEvent:Bi.func,onFileDialogCancel:Bi.func,onFileDialogOpen:Bi.func,useFsAccessApi:Bi.bool,onDragEnter:Bi.func,onDragLeave:Bi.func,onDragOver:Bi.func,onDrop:Bi.func,onDropAccepted:Bi.func,onDropRejected:Bi.func,validator:Bi.func};var fR={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,draggedFiles:[],acceptedFiles:[],fileRejections:[]};function x8(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=Ba(Ba({},b8),n),t=e.accept,i=e.disabled,r=e.getFilesFromEvent,s=e.maxSize,a=e.minSize,o=e.multiple,l=e.maxFiles,c=e.onDragEnter,f=e.onDragLeave,h=e.onDragOver,v=e.onDrop,m=e.onDropAccepted,_=e.onDropRejected,g=e.onFileDialogCancel,y=e.onFileDialogOpen,u=e.useFsAccessApi,b=e.preventDropOnDocument,S=e.noClick,T=e.noKeyboard,R=e.noDrag,O=e.noDragEventsBubbling,C=e.validator,I=H.useMemo(function(){return typeof y=="function"?y:lN},[y]),F=H.useMemo(function(){return typeof g=="function"?g:lN},[g]),M=H.useRef(null),D=H.useRef(null),B=H.useReducer(xle,fR),j=m2(B,2),U=j[0],V=j[1],k=U.isFocused,Z=U.isFileDialogActive,ee=U.draggedFiles,oe=H.useRef(typeof window<"u"&&window.isSecureContext&&u&&sle()),ne=function(){!oe.current&&Z&&setTimeout(function(){if(D.current){var me=D.current.files;me.length||(V({type:"closeDialog"}),F())}},300)};H.useEffect(function(){return window.addEventListener("focus",ne,!1),function(){window.removeEventListener("focus",ne,!1)}},[D,Z,F,oe]);var ie=H.useRef([]),he=function(me){M.current&&M.current.contains(me.target)||(me.preventDefault(),ie.current=[])};H.useEffect(function(){return b&&(document.addEventListener("dragover",aN,!1),document.addEventListener("drop",he,!1)),function(){b&&(document.removeEventListener("dragover",aN),document.removeEventListener("drop",he))}},[M,b]);var fe=H.useCallback(function(ye){ye.preventDefault(),ye.persist(),mt(ye),ie.current=[].concat(fle(ie.current),[ye.target]),hS(ye)&&Promise.resolve(r(ye)).then(function(me){sE(ye)&&!O||(V({draggedFiles:me,isDragActive:!0,type:"setDraggedFiles"}),c&&c(ye))})},[r,c,O]),ce=H.useCallback(function(ye){ye.preventDefault(),ye.persist(),mt(ye);var me=hS(ye);if(me&&ye.dataTransfer)try{ye.dataTransfer.dropEffect="copy"}catch{}return me&&h&&h(ye),!1},[h,O]),ae=H.useCallback(function(ye){ye.preventDefault(),ye.persist(),mt(ye);var me=ie.current.filter(function(it){return M.current&&M.current.contains(it)}),Le=me.indexOf(ye.target);Le!==-1&&me.splice(Le,1),ie.current=me,!(me.length>0)&&(V({isDragActive:!1,type:"setDraggedFiles",draggedFiles:[]}),hS(ye)&&f&&f(ye))},[M,f,O]),ve=H.useCallback(function(ye,me){var Le=[],it=[];ye.forEach(function(Qe){var et=v8(Qe,t),At=m2(et,2),Gt=At[0],on=At[1],fn=y8(Qe,a,s),xt=m2(fn,2),kt=xt[0],Xt=xt[1],Ve=C?C(Qe):null;if(Gt&&kt&&!Ve)Le.push(Qe);else{var lt=[on,Xt];Ve&&(lt=lt.concat(Ve)),it.push({file:Qe,errors:lt.filter(function(Qt){return Qt})})}}),(!o&&Le.length>1||o&&l>=1&&Le.length>l)&&(Le.forEach(function(Qe){it.push({file:Qe,errors:[ele]})}),Le.splice(0)),V({acceptedFiles:Le,fileRejections:it,type:"setFiles"}),v&&v(Le,it,me),it.length>0&&_&&_(it,me),Le.length>0&&m&&m(Le,me)},[V,o,t,a,s,l,v,m,_,C]),_e=H.useCallback(function(ye){ye.preventDefault(),ye.persist(),mt(ye),ie.current=[],hS(ye)&&Promise.resolve(r(ye)).then(function(me){sE(ye)&&!O||ve(me,ye)}),V({type:"reset"})},[r,ve,O]),Te=H.useCallback(function(){if(oe.current){V({type:"openDialog"}),I();var ye={multiple:o,types:ale(t)};window.showOpenFilePicker(ye).then(function(me){return r(me)}).then(function(me){ve(me,null),V({type:"closeDialog"})}).catch(function(me){ole(me)?(F(me),V({type:"closeDialog"})):lle(me)&&(oe.current=!1,D.current&&(D.current.value=null,D.current.click()))});return}D.current&&(V({type:"openDialog"}),I(),D.current.value=null,D.current.click())},[V,I,F,u,ve,t,o]),Fe=H.useCallback(function(ye){!M.current||!M.current.isEqualNode(ye.target)||(ye.key===" "||ye.key==="Enter"||ye.keyCode===32||ye.keyCode===13)&&(ye.preventDefault(),Te())},[M,Te]),We=H.useCallback(function(){V({type:"focus"})},[]),ht=H.useCallback(function(){V({type:"blur"})},[]),ft=H.useCallback(function(){S||(rle()?setTimeout(Te,0):Te())},[S,Te]),Bt=function(me){return i?null:me},Me=function(me){return T?null:Bt(me)},yt=function(me){return R?null:Bt(me)},mt=function(me){O&&me.stopPropagation()},St=H.useMemo(function(){return function(){var ye=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},me=ye.refKey,Le=me===void 0?"ref":me,it=ye.role,Qe=ye.onKeyDown,et=ye.onFocus,At=ye.onBlur,Gt=ye.onClick,on=ye.onDragEnter,fn=ye.onDragOver,xt=ye.onDragLeave,kt=ye.onDrop,Xt=aE(ye,hle);return Ba(Ba(dR({onKeyDown:Me(Td(Qe,Fe)),onFocus:Me(Td(et,We)),onBlur:Me(Td(At,ht)),onClick:Bt(Td(Gt,ft)),onDragEnter:yt(Td(on,fe)),onDragOver:yt(Td(fn,ce)),onDragLeave:yt(Td(xt,ae)),onDrop:yt(Td(kt,_e)),role:typeof it=="string"&&it!==""?it:"button"},Le,M),!i&&!T?{tabIndex:0}:{}),Xt)}},[M,Fe,We,ht,ft,fe,ce,ae,_e,T,R,i]),nt=H.useCallback(function(ye){ye.stopPropagation()},[]),Ft=H.useMemo(function(){return function(){var ye=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},me=ye.refKey,Le=me===void 0?"ref":me,it=ye.onChange,Qe=ye.onClick,et=aE(ye,dle),At=dR({accept:t,multiple:o,type:"file",style:{display:"none"},onChange:Bt(Td(it,_e)),onClick:Bt(Td(Qe,nt)),tabIndex:-1},Le,D);return Ba(Ba({},At),et)}},[D,t,o,_e,i]),qe=ee.length,Ke=qe>0&&tle({files:ee,accept:t,minSize:a,maxSize:s,multiple:o,maxFiles:l}),Et=qe>0&&!Ke;return Ba(Ba({},U),{},{isDragAccept:Ke,isDragReject:Et,isFocused:k&&!i,getRootProps:St,getInputProps:Ft,rootRef:M,inputRef:D,open:Bt(Te)})}function xle(n,e){switch(e.type){case"focus":return Ba(Ba({},n),{},{isFocused:!0});case"blur":return Ba(Ba({},n),{},{isFocused:!1});case"openDialog":return Ba(Ba({},fR),{},{isFileDialogActive:!0});case"closeDialog":return Ba(Ba({},n),{},{isFileDialogActive:!1});case"setDraggedFiles":var t=e.isDragActive,i=e.draggedFiles;return Ba(Ba({},n),{},{draggedFiles:i,isDragActive:t});case"setFiles":return Ba(Ba({},n),{},{acceptedFiles:e.acceptedFiles,fileRejections:e.fileRejections});case"reset":return Ba({},fR);default:return n}}function lN(){}function Sle(n){let e;const t=new Set,i=(c,f)=>{const h=typeof c=="function"?c(e):c;if(h!==e){const v=e;e=f?h:Object.assign({},e,h),t.forEach(m=>m(e,v))}},r=()=>e,s=(c,f=r,h=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let v=f(e);function m(){const _=f(e);if(!h(v,_)){const g=v;c(v=_,g)}}return t.add(m),()=>t.delete(m)},l={setState:i,getState:r,subscribe:(c,f,h)=>f||h?s(c,f,h):(t.add(c),()=>t.delete(c)),destroy:()=>t.clear()};return e=n(i,r,l),l}const wle=typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),cN=wle?H.useEffect:H.useLayoutEffect;function Ele(n){const e=typeof n=="function"?Sle(n):n,t=(i=e.getState,r=Object.is)=>{const[,s]=H.useReducer(y=>y+1,0),a=e.getState(),o=H.useRef(a),l=H.useRef(i),c=H.useRef(r),f=H.useRef(!1),h=H.useRef();h.current===void 0&&(h.current=i(a));let v,m=!1;(o.current!==a||l.current!==i||c.current!==r||f.current)&&(v=i(a),m=!r(h.current,v)),cN(()=>{m&&(h.current=v),o.current=a,l.current=i,c.current=r,f.current=!1});const _=H.useRef(a);cN(()=>{const y=()=>{try{const b=e.getState(),S=l.current(b);c.current(h.current,S)||(o.current=b,h.current=S,s())}catch{f.current=!0,s()}},u=e.subscribe(y);return e.getState()!==_.current&&y(),u},[]);const g=m?v:h.current;return H.useDebugValue(g),g};return Object.assign(t,e),t[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");const i=[t,e];return{next(){const r=i.length<=0;return{value:i.shift(),done:r}}}},t}const Cle=n=>(e,t,i)=>{const r=i.subscribe;return i.subscribe=(a,o,l)=>{let c=a;if(o){const f=l?.equalityFn||Object.is;let h=a(i.getState());c=v=>{const m=a(v);if(!f(h,m)){const _=h;o(h=m,_)}},l?.fireImmediately&&o(h,h)}return r(c)},n(e,t,i)};/*!
 * isobject <https://github.com/jonschlinkert/isobject>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */var g2,uN;function Tle(){return uN||(uN=1,g2=function(e){return e!=null&&typeof e=="object"&&Array.isArray(e)===!1}),g2}/*!
 * is-plain-object <https://github.com/jonschlinkert/is-plain-object>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */var v2,hN;function S8(){if(hN)return v2;hN=1;var n=Tle();function e(t){return n(t)===!0&&Object.prototype.toString.call(t)==="[object Object]"}return v2=function(i){var r,s;return!(e(i)===!1||(r=i.constructor,typeof r!="function")||(s=r.prototype,e(s)===!1)||s.hasOwnProperty("isPrototypeOf")===!1)},v2}/*!
 * is-extendable <https://github.com/jonschlinkert/is-extendable>
 *
 * Copyright (c) 2015-2017, Jon Schlinkert.
 * Released under the MIT License.
 */var y2,dN;function _O(){if(dN)return y2;dN=1;var n=S8();return y2=function(t){return n(t)||typeof t=="function"||Array.isArray(t)},y2}/*!
 * for-in <https://github.com/jonschlinkert/for-in>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */var _2,fN;function Ale(){return fN||(fN=1,_2=function(e,t,i){for(var r in e)if(t.call(i,e[r],r,e)===!1)break}),_2}var b2,pN;function Mle(){if(pN)return b2;pN=1;var n=_O(),e=Ale();function t(a,o){for(var l=arguments.length,c=0;++c<l;){var f=arguments[c];r(f)&&e(f,i,a)}return a}function i(a,o){if(s(o)){var l=this[o];r(a)&&r(l)?t(l,a):this[o]=a}}function r(a){return n(a)&&!Array.isArray(a)}function s(a){return a!=="__proto__"&&a!=="constructor"&&a!=="prototype"}return b2=t,b2}/*!
 * get-value <https://github.com/jonschlinkert/get-value>
 *
 * Copyright (c) 2014-2015, Jon Schlinkert.
 * Licensed under the MIT License.
 */var x2,mN;function Rle(){if(mN)return x2;mN=1,x2=function(t,i,r,s,a){if(!n(t)||!i)return t;if(i=e(i),r&&(i+="."+e(r)),s&&(i+="."+e(s)),a&&(i+="."+e(a)),i in t)return t[i];for(var o=i.split("."),l=o.length,c=-1;t&&++c<l;){for(var f=o[c];f[f.length-1]==="\\";)f=f.slice(0,-1)+"."+o[++c];t=t[f]}return t};function n(t){return t!==null&&(typeof t=="object"||typeof t=="function")}function e(t){return t?Array.isArray(t)?t.join("."):t:""}return x2}/*!
 * assign-symbols <https://github.com/jonschlinkert/assign-symbols>
 *
 * Copyright (c) 2015, Jon Schlinkert.
 * Licensed under the MIT License.
 */var S2,gN;function Ole(){return gN||(gN=1,S2=function(n,e){if(n===null||typeof n>"u")throw new TypeError("expected first argument to be an object.");if(typeof e>"u"||typeof Symbol>"u"||typeof Object.getOwnPropertySymbols!="function")return n;for(var t=Object.prototype.propertyIsEnumerable,i=Object(n),r=arguments.length,s=0;++s<r;)for(var a=Object(arguments[s]),o=Object.getOwnPropertySymbols(a),l=0;l<o.length;l++){var c=o[l];t.call(a,c)&&(i[c]=a[c])}return i}),S2}var w2,vN;function Lle(){if(vN)return w2;vN=1;var n=_O(),e=Ole();w2=Object.assign||function(o){if(o===null||typeof o>"u")throw new TypeError("Cannot convert undefined or null to object");s(o)||(o={});for(var l=1;l<arguments.length;l++){var c=arguments[l];i(c)&&(c=r(c)),s(c)&&(t(o,c),e(o,c))}return o};function t(o,l){for(var c in l)a(l,c)&&(o[c]=l[c])}function i(o){return o&&typeof o=="string"}function r(o){var l={};for(var c in o)l[c]=o[c];return l}function s(o){return o&&typeof o=="object"||n(o)}function a(o,l){return Object.prototype.hasOwnProperty.call(o,l)}return w2}/*!
 * split-string <https://github.com/jonschlinkert/split-string>
 *
 * Copyright (c) 2015-2017, Jon Schlinkert.
 * Released under the MIT License.
 */var E2,yN;function Ple(){if(yN)return E2;yN=1;var n=Lle();E2=function(r,s,a){if(typeof r!="string")throw new TypeError("expected a string");typeof s=="function"&&(a=s,s=null),typeof s=="string"&&(s={sep:s});var o=n({sep:"."},s),l=o.quotes||['"',"'","`"],c;o.brackets===!0?c={"<":">","(":")","[":"]","{":"}"}:o.brackets&&(c=o.brackets);var f=[],h=[],v=[""],m=o.sep,_=r.length,g=-1,y;function u(){if(c&&h.length)return c[h[h.length-1]]}for(;++g<_;){var b=r[g],S=r[g+1],T={val:b,idx:g,arr:v,str:r};if(f.push(T),b==="\\"){T.val=i(o,r,g)===!0?b+S:S,T.escaped=!0,typeof a=="function"&&a(T),v[v.length-1]+=T.val,g++;continue}if(c&&c[b]){h.push(b);var R=u(),O=g+1;if(r.indexOf(R,O+1)!==-1)for(;h.length&&O<_;){var C=r[++O];if(C==="\\"){C++;continue}if(l.indexOf(C)!==-1){O=e(r,C,O+1);continue}if(R=u(),h.length&&r.indexOf(R,O+1)===-1)break;if(c[C]){h.push(C);continue}R===C&&h.pop()}if(y=O,y===-1){v[v.length-1]+=b;continue}b=r.slice(g,y+1),T.val=b,T.idx=g=y}if(l.indexOf(b)!==-1){if(y=e(r,b,g+1),y===-1){v[v.length-1]+=b;continue}t(b,o)===!0?b=r.slice(g,y+1):b=r.slice(g+1,y),T.val=b,T.idx=g=y}if(typeof a=="function"&&(a(T,f),b=T.val,g=T.idx),T.val===m&&T.split!==!1){v.push("");continue}v[v.length-1]+=T.val}return v};function e(r,s,a,o){var l=r.indexOf(s,a);return r.charAt(l-1)==="\\"?e(r,s,l+1):l}function t(r,s){return s.keepDoubleQuotes===!0&&r==='"'||s.keepSingleQuotes===!0&&r==="'"?!0:s.keepQuotes}function i(r,s,a){return typeof r.keepEscaping=="function"?r.keepEscaping(s,a):r.keepEscaping===!0||s[a+1]==="\\"}return E2}/*!
 * is-extendable <https://github.com/jonschlinkert/is-extendable>
 *
 * Copyright (c) 2015, Jon Schlinkert.
 * Licensed under the MIT License.
 */var C2,_N;function Ile(){return _N||(_N=1,C2=function(e){return typeof e<"u"&&e!==null&&(typeof e=="object"||typeof e=="function")}),C2}var T2,bN;function Dle(){if(bN)return T2;bN=1;var n=Ile();T2=function(r){n(r)||(r={});for(var s=arguments.length,a=1;a<s;a++){var o=arguments[a];n(o)&&e(r,o)}return r};function e(i,r){for(var s in r)t(r,s)&&(i[s]=r[s])}function t(i,r){return Object.prototype.hasOwnProperty.call(i,r)}return T2}/*!
 * is-extendable <https://github.com/jonschlinkert/is-extendable>
 *
 * Copyright (c) 2015, Jon Schlinkert.
 * Licensed under the MIT License.
 */var A2,xN;function Nle(){return xN||(xN=1,A2=function(e){return typeof e<"u"&&e!==null&&(typeof e=="object"||typeof e=="function")}),A2}/*!
 * set-value <https://github.com/jonschlinkert/set-value>
 *
 * Copyright (c) 2014-2015, 2017, Jon Schlinkert.
 * Released under the MIT License.
 */var M2,SN;function Fle(){if(SN)return M2;SN=1;var n=Ple(),e=Dle(),t=S8(),i=Nle();M2=function(s,a,o){if(!i(s)||(Array.isArray(a)&&(a=[].concat.apply([],a).join(".")),typeof a!="string"))return s;for(var l=n(a,{sep:".",brackets:!0}).filter(r),c=l.length,f=-1,h=s;++f<c;){var v=l[f];if(f!==c-1){i(h[v])||(h[v]={}),h=h[v];continue}t(h[v])&&t(o)?h[v]=e({},h[v],o):h[v]=o}return s};function r(s){return s!=="__proto__"&&s!=="constructor"&&s!=="prototype"}return M2}var R2,wN;function Ule(){if(wN)return R2;wN=1;var n=_O(),e=Mle(),t=Rle(),i=Fle();return R2=function(s,a,o){if(!n(s))throw new TypeError("expected an object");if(typeof a!="string"||o==null)return e.apply(null,arguments);if(typeof o=="string")return i(s,a,o),s;var l=t(s,a);return n(o)&&n(l)&&(o=e({},l,o)),i(s,a,o),s},R2}var kle=Ule();const Ble=Yc(kle),bO=(...n)=>n.filter(Boolean).join(".");function zle(n){const e=n.split(".");return[e.pop(),e.join(".")||void 0]}function Gle(n,e){return Object.entries(Nse(n,e)).reduce((t,[,{value:i,disabled:r,key:s}])=>(t[s]=r?void 0:i,t),{})}function Hle(n,e){const t=H.useRef();return E1(n,t.current)||(t.current=n),t.current}function w8(n,e){return H.useMemo(n,Hle(e))}function $le(n){const e=H.useRef(null),t=H.useRef(null),i=H.useRef(!0);return H.useLayoutEffect(()=>{n||(e.current.style.height="0px",e.current.style.overflow="hidden")},[]),H.useEffect(()=>{if(i.current){i.current=!1;return}let r;const s=e.current,a=()=>{n&&(s.style.removeProperty("height"),s.style.removeProperty("overflow"),t.current.scrollIntoView({behavior:"smooth",block:"nearest"}))};s.addEventListener("transitionend",a,{once:!0});const{height:o}=t.current.getBoundingClientRect();return s.style.height=o+"px",n||(s.style.overflow="hidden",r=window.setTimeout(()=>s.style.height="0px",50)),()=>{s.removeEventListener("transitionend",a),clearTimeout(r)}},[n]),{wrapperRef:e,contentRef:t}}const Vle=n=>{const[e,t]=H.useState(n.getVisiblePaths());return H.useEffect(()=>{t(n.getVisiblePaths());const i=n.useStore.subscribe(n.getVisiblePaths,t,{equalityFn:EC});return()=>i()},[n]),e};function Wle(n,e,t){return n.useStore(r=>{const s=qi(qi({},t),r.data);return Gle(s,e)},EC)}function E8(n=3){const e=H.useRef(null),t=H.useRef(null),[i,r]=H.useState(!1),s=H.useCallback(()=>r(!0),[]),a=H.useCallback(()=>r(!1),[]);return H.useLayoutEffect(()=>{if(i){const{bottom:o,top:l,left:c}=e.current.getBoundingClientRect(),{height:f}=t.current.getBoundingClientRect(),h=o+f>window.innerHeight-40?"up":"down";t.current.style.position="fixed",t.current.style.zIndex="10000",t.current.style.left=c+"px",h==="down"?t.current.style.top=o+n+"px":t.current.style.bottom=window.innerHeight-l+n+"px"}},[n,i]),{popinRef:e,wrapperRef:t,shown:i,show:s,hide:a}}voe([yoe]);const jle={rgb:"toRgb",hsl:"toHsl",hsv:"toHsv",hex:"toHex"};jc.extend({color:()=>n=>gc(n).isValid()});const Xle=n=>jc().color().test(n);function C8(n,{format:e,hasAlpha:t,isString:i}){const r=jle[e]+(i&&e!=="hex"?"String":""),s=n[r]();return typeof s=="object"&&!t?Fse(s,["a"]):s}const T8=(n,e)=>{const t=gc(n);if(!t.isValid())throw Error("Invalid color");return C8(t,e)},qle=(n,e)=>C8(gc(n),qi(qi({},e),{},{isString:!0,format:"hex"})),Yle=({value:n})=>{const e=goe(n),t=e==="name"?"hex":e,i=typeof n=="object"?"a"in n:e==="hex"&&n.length===8||/^(rgba)|(hsla)|(hsva)/.test(n),r={format:t,hasAlpha:i,isString:typeof n=="string"};return{value:T8(n,r),settings:r}};var Kle=Object.freeze({__proto__:null,schema:Xle,sanitize:T8,format:qle,normalize:Yle});const Zle=Vi("div",{position:"relative",boxSizing:"border-box",borderRadius:"$sm",overflow:"hidden",cursor:"pointer",height:"$rowHeight",width:"$rowHeight",backgroundColor:"#fff",backgroundImage:`url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill-opacity=".05"><path d="M8 0h8v8H8zM0 8h8v8H0z"/></svg>')`,$inputStyle:"",$hover:"",zIndex:1,variants:{active:{true:{$inputStyle:"$accent1"}}},"&::before":{content:'""',position:"absolute",top:0,bottom:0,right:0,left:0,backgroundColor:"currentColor",zIndex:1}}),Qle=Vi("div",{position:"relative",display:"grid",gridTemplateColumns:"$sizes$rowHeight auto",columnGap:"$colGap",alignItems:"center"}),Jle=Vi("div",{width:"$colorPickerWidth",height:"$colorPickerHeight",".react-colorful":{width:"100%",height:"100%",boxShadow:"$level2",cursor:"crosshair"},".react-colorful__saturation":{borderRadius:"$sm $sm 0 0"},".react-colorful__alpha, .react-colorful__hue":{height:10},".react-colorful__last-control":{borderRadius:"0 0 $sm $sm"},".react-colorful__pointer":{height:12,width:12}});function EN(n,e){return e!=="rgb"?gc(n).toRgb():n}function ece({value:n,displayValue:e,settings:t,onUpdate:i}){const{emitOnEditStart:r,emitOnEditEnd:s}=Xl(),{format:a,hasAlpha:o}=t,{popinRef:l,wrapperRef:c,shown:f,show:h,hide:v}=E8(),m=H.useRef(0),[_,g]=H.useState(()=>EN(n,a)),y=o?Coe:Aoe,u=()=>{g(EN(n,a)),h(),r()},b=()=>{v(),s(),window.clearTimeout(m.current)},S=()=>{m.current=window.setTimeout(b,500)};return H.useEffect(()=>()=>window.clearTimeout(m.current),[]),Je.createElement(Je.Fragment,null,Je.createElement(Zle,{ref:l,active:f,onClick:()=>u(),style:{color:e}}),f&&Je.createElement(hO,null,Je.createElement(q6,{onPointerUp:b}),Je.createElement(Jle,{ref:c,onMouseEnter:()=>window.clearTimeout(m.current),onMouseLeave:T=>T.buttons===0&&S()},Je.createElement(y,{color:_,onChange:i}))))}function tce(){const{value:n,displayValue:e,label:t,onChange:i,onUpdate:r,settings:s}=Xl();return Je.createElement(uh,{input:!0},Je.createElement(Qh,null,t),Je.createElement(Qle,null,Je.createElement(ece,{value:n,displayValue:e,onChange:i,onUpdate:r,settings:s}),Je.createElement(uO,{value:e,onChange:i,onUpdate:r})))}var nce=qi({component:tce},Kle);function ice(){const{label:n,displayValue:e,onUpdate:t,settings:i}=Xl();return Je.createElement(uh,{input:!0},Je.createElement(Qh,null,n),Je.createElement(fO,{value:e,settings:i,onUpdate:t}))}var rce=qi({component:ice},n8(["x","y","z"]));const sce=Vi("div",{$flexCenter:"",position:"relative",backgroundColor:"$elevation3",borderRadius:"$sm",cursor:"pointer",height:"$rowHeight",width:"$rowHeight",touchAction:"none",$draggable:"",$hover:"","&:active":{cursor:"none"},"&::after":{content:'""',backgroundColor:"$accent2",height:4,width:4,borderRadius:2}}),oce=Vi("div",{$flexCenter:"",width:"$joystickWidth",height:"$joystickHeight",borderRadius:"$sm",boxShadow:"$level2",position:"fixed",zIndex:1e4,overflow:"hidden",$draggable:"",transform:"translate(-50%, -50%)",variants:{isOutOfBounds:{true:{backgroundColor:"$elevation1"},false:{backgroundColor:"$elevation3"}}},"> div":{position:"absolute",$flexCenter:"",borderStyle:"solid",borderWidth:1,borderColor:"$highlight1",backgroundColor:"$elevation3",width:"80%",height:"80%","&::after,&::before":{content:'""',position:"absolute",zindex:10,backgroundColor:"$highlight1"},"&::before":{width:"100%",height:1},"&::after":{height:"100%",width:1}},"> span":{position:"relative",zindex:100,width:10,height:10,backgroundColor:"$accent2",borderRadius:"50%"}});function lce({value:n,settings:e,onUpdate:t}){const i=H.useRef(),r=H.useRef(0),s=H.useRef(0),a=H.useRef(1),[o,l]=H.useState(!1),[c,f]=H.useState(!1),[h,v]=K6(),m=H.useRef(null),_=H.useRef(null);H.useLayoutEffect(()=>{if(o){const{top:B,left:j,width:U,height:V}=m.current.getBoundingClientRect();_.current.style.left=j+U/2+"px",_.current.style.top=B+V/2+"px"}},[o]);const{keys:[g,y],joystick:u}=e,b=u==="invertY"?1:-1,{[g]:{step:S},[y]:{step:T}}=e,R=Kf("sizes","joystickWidth"),O=Kf("sizes","joystickHeight"),C=parseFloat(R)*.8/2,I=parseFloat(O)*.8/2,F=H.useCallback(()=>{i.current||(f(!0),r.current&&v({x:r.current*C}),s.current&&v({y:s.current*-I}),i.current=window.setInterval(()=>{t(B=>{const j=S*r.current*a.current,U=b*T*s.current*a.current;return Array.isArray(B)?{[g]:B[0]+j,[y]:B[1]+U}:{[g]:B[g]+j,[y]:B[y]+U}})},16))},[C,I,t,v,S,T,g,y,b]),M=H.useCallback(()=>{window.clearTimeout(i.current),i.current=void 0,f(!1)},[]);H.useEffect(()=>{function B(j){a.current=D6(j)}return window.addEventListener("keydown",B),window.addEventListener("keyup",B),()=>{window.clearTimeout(i.current),window.removeEventListener("keydown",B),window.removeEventListener("keyup",B)}},[]);const D=rb(({first:B,active:j,delta:[U,V],movement:[k,Z]})=>{B&&l(!0);const ee=gm(k,-C,C),oe=gm(Z,-I,I);r.current=Math.abs(k)>Math.abs(ee)?Math.sign(k-ee):0,s.current=Math.abs(Z)>Math.abs(oe)?Math.sign(oe-Z):0;let ne=n[g],ie=n[y];j?(r.current||(ne+=U*S*a.current,v({x:ee})),s.current||(ie-=b*V*T*a.current,v({y:oe})),r.current||s.current?F():M(),t({[g]:ne,[y]:ie})):(l(!1),r.current=0,s.current=0,v({x:0,y:0}),M())});return Je.createElement(sce,io({ref:m},D()),o&&Je.createElement(hO,null,Je.createElement(oce,{ref:_,isOutOfBounds:c},Je.createElement("div",null),Je.createElement("span",{ref:h}))))}const cce=Vi("div",{display:"grid",columnGap:"$colGap",variants:{withJoystick:{true:{gridTemplateColumns:"$sizes$rowHeight auto"},false:{gridTemplateColumns:"auto"}}}});function uce(){const{label:n,displayValue:e,onUpdate:t,settings:i}=Xl();return Je.createElement(uh,{input:!0},Je.createElement(Qh,null,n),Je.createElement(cce,{withJoystick:!!i.joystick},i.joystick&&Je.createElement(lce,{value:e,settings:i,onUpdate:t}),Je.createElement(fO,{value:e,settings:i,onUpdate:t})))}const hce=["joystick"],A8=n8(["x","y"]),dce=n=>{let{joystick:e=!0}=n,t=Ys(n,hce);const{value:i,settings:r}=A8.normalize(t);return{value:i,settings:qi(qi({},r),{},{joystick:e})}};var fce=qi(qi({component:uce},A8),{},{normalize:dce});const pce=n=>{if(n!==void 0){if(n instanceof File)try{return URL.createObjectURL(n)}catch{return}if(typeof n=="string"&&n.indexOf("blob:")===0)return n;throw Error("Invalid image format [undefined | blob |Â File].")}},mce=(n,e)=>typeof e=="object"&&"image"in e,gce=({image:n})=>({value:n});var vce=Object.freeze({__proto__:null,sanitize:pce,schema:mce,normalize:gce});const yce=Vi("div",{position:"relative",display:"grid",gridTemplateColumns:"$sizes$rowHeight auto 20px",columnGap:"$colGap",alignItems:"center"}),_ce=Vi("div",{$flexCenter:"",overflow:"hidden",height:"$rowHeight",background:"$elevation3",textAlign:"center",color:"inherit",borderRadius:"$sm",outline:"none",userSelect:"none",cursor:"pointer",$inputStyle:"",$hover:"",$focusWithin:"",$active:"$accent1 $elevation1",variants:{isDragAccept:{true:{$inputStyle:"$accent1",backgroundColor:"$elevation1"}}}}),bce=Vi("div",{boxSizing:"border-box",borderRadius:"$sm",height:"$rowHeight",width:"$rowHeight",$inputStyle:"",backgroundSize:"cover",backgroundPosition:"center",variants:{hasImage:{true:{cursor:"pointer",$hover:"",$active:""}}}}),xce=Vi("div",{$flexCenter:"",width:"$imagePreviewWidth",height:"$imagePreviewHeight",borderRadius:"$sm",boxShadow:"$level2",pointerEvents:"none",$inputStyle:"",backgroundSize:"cover",backgroundPosition:"center"}),Sce=Vi("div",{fontSize:"0.8em",height:"100%",padding:"$rowGap $md"}),wce=Vi("div",{$flexCenter:"",top:"0",right:"0",marginRight:"$sm",height:"100%",cursor:"pointer",variants:{disabled:{true:{color:"$elevation3",cursor:"default"}}},"&::after,&::before":{content:'""',position:"absolute",height:2,width:10,borderRadius:1,backgroundColor:"currentColor"},"&::after":{transform:"rotate(45deg)"},"&::before":{transform:"rotate(-45deg)"}});function Ece(){const{label:n,value:e,onUpdate:t,disabled:i}=Xl(),{popinRef:r,wrapperRef:s,shown:a,show:o,hide:l}=E8(),c=H.useCallback(_=>{_.length&&t(_[0])},[t]),f=H.useCallback(_=>{_.stopPropagation(),t(void 0)},[t]),{getRootProps:h,getInputProps:v,isDragAccept:m}=x8({maxFiles:1,accept:"image/*",onDrop:c,disabled:i});return Je.createElement(uh,{input:!0},Je.createElement(Qh,null,n),Je.createElement(yce,null,Je.createElement(bce,{ref:r,hasImage:!!e,onPointerDown:()=>!!e&&o(),onPointerUp:l,style:{backgroundImage:e?`url(${e})`:"none"}}),a&&!!e&&Je.createElement(hO,null,Je.createElement(q6,{onPointerUp:l,style:{cursor:"pointer"}}),Je.createElement(xce,{ref:s,style:{backgroundImage:`url(${e})`}})),Je.createElement(_ce,h({isDragAccept:m}),Je.createElement("input",v()),Je.createElement(Sce,null,m?"drop image":"click or drop")),Je.createElement(wce,{onClick:f,disabled:!e})))}var Cce=qi({component:Ece},vce);const CN=jc().number(),Tce=(n,e)=>jc().array().length(2).every.number().test(n)&&jc().schema({min:CN,max:CN}).test(e),oE=n=>({min:n[0],max:n[1]}),M8=(n,{bounds:[e,t]},i)=>{const r=Array.isArray(n)?oE(n):n,s={min:i[0],max:i[1]},{min:a,max:o}=qi(qi({},s),r);return[gm(Number(a),e,Math.max(e,o)),gm(Number(o),Math.min(t,a),t)]},Ace=({value:n,min:e,max:t})=>{const i={min:e,max:t},r=t8(oE(n),{min:i,max:i}),s=[e,t],a=qi(qi({},r),{},{bounds:s});return{value:M8(oE(n),a,n),settings:a}};var Mce=Object.freeze({__proto__:null,schema:Tce,format:oE,sanitize:M8,normalize:Ace});const Rce=["value","bounds","onDrag"],Oce=["bounds"],Lce=Vi("div",{display:"grid",columnGap:"$colGap",gridTemplateColumns:"auto calc($sizes$numberInputMinWidth * 2 + $space$rowGap)"});function Pce(n){let{value:e,bounds:[t,i],onDrag:r}=n,s=Ys(n,Rce);const a=H.useRef(null),o=H.useRef(null),l=H.useRef(null),c=H.useRef(0),f=Kf("sizes","scrubberWidth"),h=rb(({event:_,first:g,xy:[y],movement:[u],memo:b={}})=>{if(g){const{width:T,left:R}=a.current.getBoundingClientRect();c.current=T-parseFloat(f);const O=_?.target===o.current||_?.target===l.current;b.pos=nE((y-R)/T,t,i);const C=Math.abs(b.pos-e.min)-Math.abs(b.pos-e.max);b.key=C<0||C===0&&b.pos<=e.min?"min":"max",O&&(b.pos=e[b.key])}const S=b.pos+nE(u/c.current,0,i-t);return r({[b.key]:wae(S,s[b.key])}),b}),v=`calc(${tE(e.min,t,i)} * (100% - ${f} - 8px) + 4px)`,m=`calc(${1-tE(e.max,t,i)} * (100% - ${f} - 8px) + 4px)`;return Je.createElement(Q6,io({ref:a},h()),Je.createElement(Z6,null,Je.createElement(J6,{style:{left:v,right:m}})),Je.createElement(iR,{position:"left",ref:o,style:{left:v}}),Je.createElement(iR,{position:"right",ref:l,style:{right:m}}))}function Ice(){const{label:n,displayValue:e,onUpdate:t,settings:i}=Xl(),r=Ys(i,Oce);return Je.createElement(Je.Fragment,null,Je.createElement(uh,{input:!0},Je.createElement(Qh,null,n),Je.createElement(Lce,null,Je.createElement(Pce,io({value:e},i,{onDrag:t})),Je.createElement(fO,{value:e,settings:r,onUpdate:t,innerLabelTrim:0}))))}var Dce=qi({component:Ice},Mce);const Nce=()=>{const n=new Map;return{on:(e,t)=>{let i=n.get(e);i===void 0&&(i=new Set,n.set(e,i)),i.add(t)},off:(e,t)=>{const i=n.get(e);i!==void 0&&(i.delete(t),i.size===0&&n.delete(e))},emit:(e,...t)=>{const i=n.get(e);if(i!==void 0)for(const r of i)r(...t)}}},Fce=["type","value"],Uce=["onChange","transient","onEditStart","onEditEnd"],kce=function(){const e=Ele(Cle(()=>({data:{}}))),t=Nce();this.storeId=Dse(),this.useStore=e;const i={},r=new Set;this.getVisiblePaths=()=>{const a=this.getData(),o=Object.keys(a),l=[];Object.entries(i).forEach(([f,h])=>{h.render&&o.some(v=>v.indexOf(f)===0)&&!h.render(this.get)&&l.push(f+".")});const c=[];return r.forEach(f=>{f in a&&a[f].__refCount>0&&l.every(h=>f.indexOf(h)===-1)&&(!a[f].render||a[f].render(this.get))&&c.push(f)}),c},this.setOrderedPaths=a=>{a.forEach(o=>r.add(o))},this.orderPaths=a=>(this.setOrderedPaths(a),a),this.disposePaths=a=>{e.setState(o=>{const l=o.data;return a.forEach(c=>{if(c in l){const f=l[c];f.__refCount--,f.__refCount===0&&f.type in ah&&delete l[c]}}),{data:l}})},this.dispose=()=>{e.setState(()=>({data:{}}))},this.getFolderSettings=a=>i[a]||{},this.getData=()=>e.getState().data,this.addData=(a,o)=>{e.setState(l=>{const c=l.data;return Object.entries(a).forEach(([f,h])=>{let v=c[f];if(v){const{type:m,value:_}=h,g=Ys(h,Fce);m!==v.type?Bf(za.INPUT_TYPE_OVERRIDE,m):((v.__refCount===0||o)&&Object.assign(v,g),v.__refCount++)}else c[f]=qi(qi({},h),{},{__refCount:1})}),{data:c}})},this.setValueAtPath=(a,o,l)=>{e.setState(c=>{const f=c.data;return z4(f[a],o,a,this,l),{data:f}})},this.setSettingsAtPath=(a,o)=>{e.setState(l=>{const c=l.data;return c[a].settings=qi(qi({},c[a].settings),o),{data:c}})},this.disableInputAtPath=(a,o)=>{e.setState(l=>{const c=l.data;return c[a].disabled=o,{data:c}})},this.set=(a,o)=>{e.setState(l=>{const c=l.data;return Object.entries(a).forEach(([f,h])=>{try{z4(c[f],h,void 0,void 0,o)}catch{}}),{data:c}})},this.getInput=a=>{try{return this.getData()[a]}catch{Bf(za.PATH_DOESNT_EXIST,a)}},this.get=a=>{var o;return(o=this.getInput(a))===null||o===void 0?void 0:o.value},this.emitOnEditStart=a=>{t.emit(`onEditStart:${a}`,this.get(a),a,qi(qi({},this.getInput(a)),{},{get:this.get}))},this.emitOnEditEnd=a=>{t.emit(`onEditEnd:${a}`,this.get(a),a,qi(qi({},this.getInput(a)),{},{get:this.get}))},this.subscribeToEditStart=(a,o)=>{const l=`onEditStart:${a}`;return t.on(l,o),()=>t.off(l,o)},this.subscribeToEditEnd=(a,o)=>{const l=`onEditEnd:${a}`;return t.on(l,o),()=>t.off(l,o)};const s=(a,o,l)=>{const c={};return Object.entries(a).forEach(([f,h])=>{if(f==="")return Bf(za.EMPTY_KEY);let v=bO(o,f);if(h.type===ah.FOLDER){const m=s(h.schema,v,l);Object.assign(c,m),v in i||(i[v]=h.settings)}else if(f in l)Bf(za.DUPLICATE_KEYS,f,v,l[f].path);else{const m=Hse(h,f,v,c);if(m){const{type:_,options:g,input:y}=m,{onChange:u,transient:b,onEditStart:S,onEditEnd:T}=g,R=Ys(g,Uce);c[v]=qi(qi(qi({type:_},R),y),{},{fromPanel:!0}),l[f]={path:v,onChange:u,transient:b,onEditStart:S,onEditEnd:T}}else Bf(za.UNKNOWN_INPUT,v,h)}}),c};this.getDataFromSchema=a=>{const o={};return[s(a,"",o),o]}},R8=new kce,Bce={collapsed:!1};function xn(n,e){return{type:ah.FOLDER,schema:n,settings:qi(qi({},Bce),e)}}const zce={disabled:!1};function Ph(n,e){return{type:ah.BUTTON,onClick:n,settings:qi(qi({},zce),e)}}const TN=n=>"__levaInput"in n,Gce=(n,e)=>{const t={},i=e?e.toLowerCase():null;return n.forEach(r=>{const[s,a]=zle(r);(!i||s.toLowerCase().indexOf(i)>-1)&&Ble(t,a,{[s]:{__levaInput:!0,path:r}})}),t},Hce=["type","label","path","valueKey","value","settings","setValue","disabled"];function $ce(n){let{type:e,label:t,path:i,valueKey:r,value:s,settings:a,setValue:o,disabled:l}=n,c=Ys(n,Hce);const{displayValue:f,onChange:h,onUpdate:v}=Y6({type:e,value:s,settings:a,setValue:o}),m=Kg[e].component;return m?Je.createElement(B6.Provider,{value:qi({key:r,path:i,id:""+i,label:t,displayValue:f,value:s,onChange:h,onUpdate:v,settings:a,setValue:o,disabled:l},c)},Je.createElement(oae,{disabled:l},Je.createElement(m,null))):(Bf(za.NO_COMPONENT_FOR_TYPE,e,i),null)}const Vce=Vi("button",{display:"block",$reset:"",fontWeight:"$button",height:"$rowHeight",borderStyle:"none",borderRadius:"$sm",backgroundColor:"$elevation1",color:"$highlight1","&:not(:disabled)":{color:"$highlight3",backgroundColor:"$accent2",cursor:"pointer",$hover:"$accent3",$active:"$accent3 $accent1",$focus:""}});function Wce({onClick:n,settings:e,label:t}){const i=ib();return Je.createElement(uh,null,Je.createElement(Vce,{disabled:e.disabled,onClick:()=>n(i.get)},t))}const jce=Vi("div",{$flex:"",justifyContent:"flex-end",gap:"$colGap"}),Xce=Vi("button",{$reset:"",cursor:"pointer",borderRadius:"$xs","&:hover":{backgroundColor:"$elevation3"}}),qce=({label:n,opts:e})=>{let t=typeof n=="string"&&n.trim()===""?null:n,i=e;return typeof e.opts=="object"&&(i.label!==void 0&&(t=e.label),i=e.opts),{label:t,opts:i}};function Yce(n){const{label:e,opts:t}=qce(n),i=ib();return Je.createElement(uh,{input:!!e},e&&Je.createElement(Qh,null,e),Je.createElement(jce,null,Object.entries(t).map(([r,s])=>Je.createElement(Xce,{key:r,onClick:()=>s(i.get)},r))))}const Kce=Vi("canvas",{height:"$monitorHeight",width:"100%",display:"block",borderRadius:"$sm"}),O8=100;function Zce(n,e){n.push(e),n.length>O8&&n.shift()}const Qce=H.forwardRef(function({initialValue:n},e){const t=Kf("colors","highlight3"),i=Kf("colors","elevation2"),r=Kf("colors","highlight1"),[s,a]=H.useMemo(()=>[gc(r).alpha(.4).toRgbString(),gc(r).alpha(.1).toRgbString()],[r]),o=H.useRef([n]),l=H.useRef(n),c=H.useRef(n),f=H.useRef(),h=H.useCallback((_,g)=>{if(!_)return;const{width:y,height:u}=_,b=new Path2D,S=y/O8,T=u*.05;for(let C=0;C<o.current.length;C++){const I=tE(o.current[C],l.current,c.current),F=S*C,M=u-I*(u-T*2)-T;b.lineTo(F,M)}g.clearRect(0,0,y,u);const R=new Path2D(b);R.lineTo(S*(o.current.length+1),u),R.lineTo(0,u),R.lineTo(0,0);const O=g.createLinearGradient(0,0,0,u);O.addColorStop(0,s),O.addColorStop(1,a),g.fillStyle=O,g.fill(R),g.strokeStyle=i,g.lineJoin="round",g.lineWidth=14,g.stroke(b),g.strokeStyle=t,g.lineWidth=2,g.stroke(b)},[t,i,s,a]),[v,m]=gae(h);return H.useImperativeHandle(e,()=>({frame:_=>{(l.current===void 0||_<l.current)&&(l.current=_),(c.current===void 0||_>c.current)&&(c.current=_),Zce(o.current,_),f.current=requestAnimationFrame(()=>h(v.current,m.current))}}),[v,m,h]),H.useEffect(()=>()=>cancelAnimationFrame(f.current),[]),Je.createElement(Kce,{ref:v})}),AN=n=>Number.isFinite(n)?n.toPrecision(2):n.toString(),Jce=H.forwardRef(function({initialValue:n},e){const[t,i]=H.useState(AN(n));return H.useImperativeHandle(e,()=>({frame:r=>i(AN(r))}),[]),Je.createElement("div",null,t)});function MN(n){return typeof n=="function"?n():n.current}function eue({label:n,objectOrFn:e,settings:t}){const i=H.useRef(),r=H.useRef(MN(e));return H.useEffect(()=>{const s=window.setInterval(()=>{var a;document.hidden||(a=i.current)===null||a===void 0||a.frame(MN(e))},t.interval);return()=>window.clearInterval(s)},[e,t.interval]),Je.createElement(uh,{input:!0},Je.createElement(Qh,{align:"top"},n),t.graph?Je.createElement(Qce,{ref:i,initialValue:r.current}):Je.createElement(Jce,{ref:i,initialValue:r.current}))}const tue=["type","label","key"],nue={[ah.BUTTON]:Wce,[ah.BUTTON_GROUP]:Yce,[ah.MONITOR]:eue},iue=Je.memo(({path:n})=>{const[e,{set:t,setSettings:i,disable:r,storeId:s,emitOnEditStart:a,emitOnEditEnd:o}]=yae(n);if(!e)return null;const{type:l,label:c,key:f}=e,h=Ys(e,tue);if(l in ah){const v=nue[l];return Je.createElement(v,io({label:c,path:n},h))}return l in Kg?Je.createElement($ce,io({key:s+n,type:l,label:c,storeId:s,path:n,valueKey:f,setValue:t,setSettings:i,disable:r,emitOnEditStart:a,emitOnEditEnd:o},h)):(Tse(za.UNSUPPORTED_INPUT,l,n),null)});function rue({toggle:n,toggled:e,name:t}){return Je.createElement(rae,{onClick:()=>n()},Je.createElement(dO,{toggled:e}),Je.createElement("div",null,t))}const sue=({name:n,path:e,tree:t})=>{const i=ib(),r=bO(e,n),{collapsed:s,color:a}=i.getFolderSettings(r),[o,l]=H.useState(!s),c=H.useRef(null),f=Kf("colors","folderWidgetColor"),h=Kf("colors","folderTextColor");return H.useLayoutEffect(()=>{c.current.style.setProperty("--leva-colors-folderWidgetColor",a||f),c.current.style.setProperty("--leva-colors-folderTextColor",a||h)},[a,f,h]),Je.createElement(iE,{ref:c},Je.createElement(rue,{name:n,toggled:o,toggle:()=>l(v=>!v)}),Je.createElement(L8,{parent:r,tree:t,toggled:o}))},L8=Je.memo(({isRoot:n=!1,fill:e=!1,flat:t=!1,parent:i,tree:r,toggled:s})=>{const{wrapperRef:a,contentRef:o}=$le(s),l=ib(),c=([h,v])=>{var m;return(TN(v)?(m=l.getInput(v.path))===null||m===void 0?void 0:m.order:l.getFolderSettings(bO(i,h)).order)||0},f=Object.entries(r).sort((h,v)=>c(h)-c(v));return Je.createElement(tR,{ref:a,isRoot:n,fill:e,flat:t},Je.createElement(W6,{ref:o,isRoot:n,toggled:s},f.map(([h,v])=>TN(v)?Je.createElement(iue,{key:v.path,valueKey:v.valueKey,path:v.path}):Je.createElement(sue,{key:h,name:h,path:i,tree:v}))))}),aue=Vi("div",{position:"relative",fontFamily:"$mono",fontSize:"$root",color:"$rootText",backgroundColor:"$elevation1",variants:{fill:{false:{position:"fixed",top:"10px",right:"10px",zIndex:1e3,width:"$rootWidth"},true:{position:"relative",width:"100%"}},flat:{false:{borderRadius:"$lg",boxShadow:"$level1"}},oneLineLabels:{true:{[`${X6}`]:{gridTemplateColumns:"auto",gridAutoColumns:"minmax(max-content, 1fr)",gridAutoRows:"minmax($sizes$rowHeight), auto)",rowGap:0,columnGap:0,marginTop:"$rowGap"}}},hideTitleBar:{true:{$$titleBarHeight:"0px"},false:{$$titleBarHeight:"$sizes$titleBarHeight"}}},"&,*,*:after,*:before":{boxSizing:"border-box"},"*::selection":{backgroundColor:"$accent2"}}),P8=40,lE=Vi("i",{$flexCenter:"",width:P8,userSelect:"none",cursor:"pointer","> svg":{fill:"$highlight1",transition:"transform 350ms ease, fill 250ms ease"},"&:hover > svg":{fill:"$highlight3"},variants:{active:{true:{"> svg":{fill:"$highlight2"}}}}}),oue=Vi("div",{display:"flex",alignItems:"stretch",justifyContent:"space-between",height:"$titleBarHeight",variants:{mode:{drag:{cursor:"grab"}}}}),lue=Vi("div",{$flex:"",position:"relative",width:"100%",overflow:"hidden",transition:"height 250ms ease",color:"$highlight3",paddingLeft:"$md",[`> ${lE}`]:{height:30},variants:{toggled:{true:{height:30},false:{height:0}}}}),cue=Vi("input",{$reset:"",flex:1,position:"relative",height:30,width:"100%",backgroundColor:"transparent",fontSize:"10px",borderRadius:"$root","&:focus":{},"&::placeholder":{color:"$highlight2"}}),uue=Vi("div",{touchAction:"none",$flexCenter:"",flex:1,"> svg":{fill:"$highlight1"},color:"$highlight1",variants:{drag:{true:{$draggable:"","> svg":{transition:"fill 250ms ease"},"&:hover":{color:"$highlight3"},"&:hover > svg":{fill:"$highlight3"}}},filterEnabled:{false:{paddingRight:P8}}}}),hue=Je.forwardRef(({setFilter:n,toggle:e},t)=>{const[i,r]=H.useState(""),s=H.useMemo(()=>I6(n,250),[n]),a=()=>{n(""),r("")},o=l=>{const c=l.currentTarget.value;e(!0),r(c)};return H.useEffect(()=>{s(i)},[i,s]),Je.createElement(Je.Fragment,null,Je.createElement(cue,{ref:t,value:i,placeholder:"[Open filter with CMD+SHIFT+L]",onPointerDown:l=>l.stopPropagation(),onChange:o}),Je.createElement(lE,{onClick:()=>a(),style:{visibility:i?"visible":"hidden"}},Je.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",height:"14",width:"14",viewBox:"0 0 20 20",fill:"currentColor"},Je.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"}))))});function due({setFilter:n,onDrag:e,onDragStart:t,onDragEnd:i,toggle:r,toggled:s,title:a,drag:o,filterEnabled:l,from:c}){const[f,h]=H.useState(!1),v=H.useRef(null);H.useEffect(()=>{var _,g;f?(_=v.current)===null||_===void 0||_.focus():(g=v.current)===null||g===void 0||g.blur()},[f]);const m=rb(({offset:[_,g],first:y,last:u})=>{e({x:_,y:g}),y&&t({x:_,y:g}),u&&i({x:_,y:g})},{filterTaps:!0,from:({offset:[_,g]})=>[c?.x||_,c?.y||g]});return H.useEffect(()=>{const _=g=>{g.key==="L"&&g.shiftKey&&g.metaKey&&h(y=>!y)};return window.addEventListener("keydown",_),()=>window.removeEventListener("keydown",_)},[]),Je.createElement(Je.Fragment,null,Je.createElement(oue,{mode:o?"drag":void 0},Je.createElement(lE,{active:!s,onClick:()=>r()},Je.createElement(dO,{toggled:s,width:12,height:8})),Je.createElement(uue,io({},o?m():{},{drag:o,filterEnabled:l}),a===void 0&&o?Je.createElement("svg",{width:"20",height:"10",viewBox:"0 0 28 14",xmlns:"http://www.w3.org/2000/svg"},Je.createElement("circle",{cx:"2",cy:"2",r:"2"}),Je.createElement("circle",{cx:"14",cy:"2",r:"2"}),Je.createElement("circle",{cx:"26",cy:"2",r:"2"}),Je.createElement("circle",{cx:"2",cy:"12",r:"2"}),Je.createElement("circle",{cx:"14",cy:"12",r:"2"}),Je.createElement("circle",{cx:"26",cy:"12",r:"2"})):a),l&&Je.createElement(lE,{active:f,onClick:()=>h(_=>!_)},Je.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",height:"20",viewBox:"0 0 20 20"},Je.createElement("path",{d:"M9 9a2 2 0 114 0 2 2 0 01-4 0z"}),Je.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-13a4 4 0 00-3.446 6.032l-2.261 2.26a1 1 0 101.414 1.415l2.261-2.261A4 4 0 1011 5z",clipRule:"evenodd"})))),Je.createElement(lue,{toggled:f},Je.createElement(hue,{ref:v,setFilter:n,toggle:r})))}const fue=["store","hidden","theme","collapsed"];function pue(n){let{store:e,hidden:t=!1,theme:i,collapsed:r=!1}=n,s=Ys(n,fue);const a=w8(()=>Qse(i),[i]),[o,l]=H.useState(!r),c=typeof r=="object"?!r.collapsed:o,f=H.useMemo(()=>typeof r=="object"?h=>{typeof h=="function"?r.onChange(!h(!r.collapsed)):r.onChange(!h)}:l,[r]);return!e||t?null:Je.createElement(cO.Provider,{value:a},Je.createElement(mue,io({store:e},s,{toggled:c,setToggle:f,rootClass:a.className})))}const mue=Je.memo(({store:n,rootClass:e,fill:t=!1,flat:i=!1,neverHide:r=!1,oneLineLabels:s=!1,titleBar:a={title:void 0,drag:!0,filter:!0,position:void 0,onDrag:void 0,onDragStart:void 0,onDragEnd:void 0},hideCopyButton:o=!1,toggled:l,setToggle:c})=>{var f,h;const v=Vle(n),[m,_]=H.useState(""),g=H.useMemo(()=>Gce(v,m),[v,m]),[y,u]=K6(),b=r||v.length>0,S=typeof a=="object"&&a.title||void 0,T=typeof a=="object"&&(f=a.drag)!==null&&f!==void 0?f:!0,R=typeof a=="object"&&(h=a.filter)!==null&&h!==void 0?h:!0,O=typeof a=="object"&&a.position||void 0,C=typeof a=="object"&&a.onDrag||void 0,I=typeof a=="object"&&a.onDragStart||void 0,F=typeof a=="object"&&a.onDragEnd||void 0;return Je.useEffect(()=>{u({x:O?.x,y:O?.y})},[O,u]),Zse(),Je.createElement(G6.Provider,{value:{hideCopyButton:o}},Je.createElement(aue,{ref:y,className:e,fill:t,flat:i,oneLineLabels:s,hideTitleBar:!a,style:{display:b?"block":"none"}},a&&Je.createElement(due,{onDrag:M=>{u(M),C?.(M)},onDragStart:M=>I?.(M),onDragEnd:M=>F?.(M),setFilter:_,toggle:M=>c(D=>M??!D),toggled:l,title:S,drag:T,filterEnabled:R,from:O}),b&&Je.createElement(z6.Provider,{value:n},Je.createElement(L8,{isRoot:!0,fill:t,flat:i,tree:g,toggled:l}))))}),gue=["isRoot"];let cE=!1,Pg=null;function I8(n){let{isRoot:e=!1}=n,t=Ys(n,gue);return H.useEffect(()=>(cE=!0,!e&&Pg&&(Pg.remove(),Pg=null),()=>{e||(cE=!1)}),[e]),Je.createElement(pue,io({store:R8},t))}function vue(n){H.useEffect(()=>{n&&!cE&&(Pg||(Pg=document.getElementById("leva__root")||Object.assign(document.createElement("div"),{id:"leva__root"}),document.body&&(document.body.appendChild(Pg),LE.createRoot(Pg).render(Je.createElement(I8,{isRoot:!0})))),cE=!0)},[n])}function yue(n,e,t,i,r){let s,a,o,l,c;return typeof n=="string"?(a=n,s=e,Array.isArray(t)?c=t:t&&("store"in t?(l=t,c=i):(o=t,Array.isArray(i)?c=i:(l=i,c=r)))):(s=n,Array.isArray(e)?c=e:(l=e,c=t)),{schema:s,folderName:a,folderSettings:o,hookSettings:l,deps:c||[]}}function D8(n,e,t,i,r){const{folderName:s,schema:a,folderSettings:o,hookSettings:l,deps:c}=yue(n,e,t,i,r),f=typeof a=="function",h=H.useRef(!1),v=H.useRef(!0),m=w8(()=>{h.current=!0;const D=typeof a=="function"?a():a;return s?{[s]:xn(D,o)}:D},c),_=!(l!=null&&l.store);vue(_);const[g]=H.useState(()=>l?.store||R8),[y,u]=H.useMemo(()=>g.getDataFromSchema(m),[g,m]),[b,S,T,R,O]=H.useMemo(()=>{const D=[],B=[],j={},U={},V={};return Object.values(u).forEach(({path:k,onChange:Z,onEditStart:ee,onEditEnd:oe,transient:ne})=>{D.push(k),Z?(j[k]=Z,ne||B.push(k)):B.push(k),ee&&(U[k]=ee),oe&&(V[k]=oe)}),[D,B,j,U,V]},[u]),C=H.useMemo(()=>g.orderPaths(b),[b,g]),I=Wle(g,S,y),F=H.useCallback(D=>{const B=Object.entries(D).reduce((j,[U,V])=>Object.assign(j,{[u[U].path]:V}),{});g.set(B,!1)},[g,u]),M=H.useCallback(D=>g.get(u[D].path),[g,u]);return H.useEffect(()=>{const D=!v.current&&h.current;return g.addData(y,D),v.current=!1,h.current=!1,()=>g.disposePaths(C)},[g,C,y]),H.useEffect(()=>{const D=[];return Object.entries(T).forEach(([B,j])=>{j(g.get(B),B,qi({initial:!0,get:g.get},g.getInput(B)));const U=g.useStore.subscribe(V=>{const k=V.data[B];return[k.disabled?void 0:k.value,k]},([V,k])=>j(V,B,qi({initial:!1,get:g.get},k)),{equalityFn:EC});D.push(U)}),()=>D.forEach(B=>B())},[g,T]),H.useEffect(()=>{const D=[];return Object.entries(R).forEach(([B,j])=>D.push(g.subscribeToEditStart(B,j))),Object.entries(O).forEach(([B,j])=>D.push(g.subscribeToEditEnd(B,j))),()=>D.forEach(B=>B())},[R,O,g]),f?[I,F,M]:I}ap(Xh.SELECT,Nae);ap(Xh.IMAGE,Cce);ap(Xh.NUMBER,Cae);ap(Xh.COLOR,nce);ap(Xh.STRING,Vae);ap(Xh.BOOLEAN,Zae);ap(Xh.INTERVAL,Dce);ap(Xh.VECTOR3D,rce);ap(Xh.VECTOR2D,fce);var jS={exports:{}},_ue=jS.exports,RN;function bue(){return RN||(RN=1,(function(n,e){(function(t,i){n.exports=i()})(_ue,function(){var t=function(){var i=0,r=document.createElement("div");function s(m){return r.appendChild(m.dom),m}function a(m){for(var _=0;_<r.children.length;_++)r.children[_].style.display=_===m?"block":"none";i=m}r.style.cssText="position:fixed;top:0;left:0;cursor:pointer;opacity:0.9;z-index:10000",r.addEventListener("click",function(m){m.preventDefault(),a(++i%r.children.length)},!1);var o=(performance||Date).now(),l=o,c=0,f=s(new t.Panel("FPS","#0ff","#002")),h=s(new t.Panel("MS","#0f0","#020"));if(self.performance&&self.performance.memory)var v=s(new t.Panel("MB","#f08","#201"));return a(0),{REVISION:16,dom:r,addPanel:s,showPanel:a,begin:function(){o=(performance||Date).now()},end:function(){c++;var m=(performance||Date).now();if(h.update(m-o,200),l+1e3<=m&&(f.update(1e3*c/(m-l),100),l=m,c=0,v)){var _=performance.memory;v.update(_.usedJSHeapSize/1048576,_.jsHeapSizeLimit/1048576)}return m},update:function(){o=this.end()},domElement:r,setMode:a}};return t.Panel=function(i,r,s){var a=1/0,o=0,l=Math.round,c=l(window.devicePixelRatio||1),f=80*c,h=48*c,v=3*c,m=2*c,_=3*c,g=15*c,y=74*c,u=30*c,b=document.createElement("canvas");b.width=f,b.height=h,b.style.cssText="width:80px;height:48px";var S=b.getContext("2d");return S.font="bold "+9*c+"px Helvetica,Arial,sans-serif",S.textBaseline="top",S.fillStyle=s,S.fillRect(0,0,f,h),S.fillStyle=r,S.fillText(i,v,m),S.fillRect(_,g,y,u),S.fillStyle=s,S.globalAlpha=.9,S.fillRect(_,g,y,u),{dom:b,update:function(T,R){a=Math.min(a,T),o=Math.max(o,T),S.fillStyle=s,S.globalAlpha=1,S.fillRect(0,0,f,g),S.fillStyle=r,S.fillText(l(T)+" "+i+" ("+l(a)+"-"+l(o)+")",v,m),S.drawImage(b,_+c,g,y-c,u,_,g,y-c,u),S.fillRect(_+y-c,g,c,u),S.fillStyle=s,S.globalAlpha=.9,S.fillRect(_+y-c,g,c,l((1-T/R)*u))}}},t})})(jS)),jS.exports}var xue=bue();const N8=Yc(xue);var O2={exports:{}},ON;function Sue(){return ON||(ON=1,(function(n,e){(function(t,i){n.exports=i()})(self,(()=>(()=>{var t={874:(s,a)=>{Object.defineProperty(a,"__esModule",{value:!0})},327:(s,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.makeEveryOtherGenerator=a.makeGenerator=void 0,a.makeGenerator=function(o){var l=function(c){return typeof c=="string"?c:c==null?"":Array.isArray(c)?c.map(l).join(""):c.type in o?o[c.type](c):"NO GENERATOR FOR ".concat(c.type)+c};return l},a.makeEveryOtherGenerator=function(o){return function(l,c){return l.reduce((function(f,h,v){return f+o(h)+(v===l.length-1?"":o(c[v]))}),"")}}},83:function(s,a,o){var l=this&&this.__createBinding||(Object.create?function(f,h,v,m){m===void 0&&(m=v);var _=Object.getOwnPropertyDescriptor(h,v);_&&!("get"in _?!h.__esModule:_.writable||_.configurable)||(_={enumerable:!0,get:function(){return h[v]}}),Object.defineProperty(f,m,_)}:function(f,h,v,m){m===void 0&&(m=v),f[m]=h[v]}),c=this&&this.__exportStar||function(f,h){for(var v in f)v==="default"||Object.prototype.hasOwnProperty.call(h,v)||l(h,f,v)};Object.defineProperty(a,"__esModule",{value:!0}),c(o(327),a),c(o(416),a),c(o(874),a)},416:(s,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.visit=void 0,a.visit=function(o,l){var c=function(f,h,v,m,_){var g,y=l[f.type],u=(function(S,T,R,O,C){return{node:S,parent:T,parentPath:R,key:O,index:C,skip:function(){this.skipped=!0},remove:function(){this.removed=!0},replaceWith:function(I){this.replaced=I},findParent:function(I){return R&&(I(R)?R:R.findParent(I))}}})(f,h,v,m,_),b=h;if(y?.enter){if(y.enter(u),u.removed){if(!m||!h)throw new Error("Asked to remove ".concat(f," but no parent key was present in ").concat(h));return typeof _=="number"?b[m].splice(_,1):b[m]=null,u}if(u.replaced){if(!m||!h)throw new Error("Asked to remove ".concat(f," but no parent key was present in ").concat(h));typeof _=="number"?b[m].splice(_,1,u.replaced):b[m]=u.replaced}if(u.skipped)return u}Object.entries(f).filter((function(S){return S[0],(function(T){return(function(R){return!!R?.type})(T)||Array.isArray(T)})(S[1])})).forEach((function(S){var T=S[0],R=S[1];if(Array.isArray(R))for(var O=0,C=0;O-C<R.length;O++){var I=R[O-C],F=c(I,f,u,T,O-C);F?.removed&&(C+=1)}else c(R,f,u,T)})),(g=y?.exit)===null||g===void 0||g.call(y,u)};c(o)}},851:(s,a,o)=>{Object.defineProperty(a,"__esModule",{value:!0});var l=(0,o(83).makeGenerator)({program:function(c){return l(c.program)+l(c.wsEnd)},segment:function(c){return l(c.blocks)},text:function(c){return l(c.text)},literal:function(c){return l(c.wsStart)+l(c.literal)+l(c.wsEnd)},identifier:function(c){return l(c.identifier)+l(c.wsEnd)},binary:function(c){return l(c.left)+l(c.operator)+l(c.right)},group:function(c){return l(c.lp)+l(c.expression)+l(c.rp)},unary:function(c){return l(c.operator)+l(c.expression)},unary_defined:function(c){return l(c.operator)+l(c.lp)+l(c.identifier)+l(c.rp)},int_constant:function(c){return l(c.token)+l(c.wsEnd)},elseif:function(c){return l(c.token)+l(c.expression)+l(c.wsEnd)+l(c.body)},if:function(c){return l(c.token)+l(c.expression)+l(c.wsEnd)+l(c.body)},ifdef:function(c){return l(c.token)+l(c.identifier)+l(c.wsEnd)},ifndef:function(c){return l(c.token)+l(c.identifier)+l(c.wsEnd)},else:function(c){return l(c.token)+l(c.body)+l(c.wsEnd)},error:function(c){return l(c.error)+l(c.message)+l(c.wsEnd)},undef:function(c){return l(c.undef)+l(c.identifier)+l(c.wsEnd)},define:function(c){return l(c.wsStart)+l(c.define)+l(c.identifier)+l(c.body)+l(c.wsEnd)},define_arguments:function(c){return l(c.wsStart)+l(c.define)+l(c.identifier)+l(c.lp)+l(c.args)+l(c.rp)+l(c.body)+l(c.wsEnd)},conditional:function(c){return l(c.wsStart)+l(c.ifPart)+l(c.elseIfParts)+l(c.elsePart)+l(c.endif)+l(c.wsEnd)},version:function(c){return l(c.version)+l(c.value)+l(c.profile)+l(c.wsEnd)},pragma:function(c){return l(c.pragma)+l(c.body)+l(c.wsEnd)},line:function(c){return l(c.line)+l(c.value)+l(c.wsEnd)},extension:function(c){return l(c.extension)+l(c.name)+l(c.colon)+l(c.behavior)+l(c.wsEnd)}});a.default=l},29:function(s,a,o){var l=this&&this.__importDefault||function(m){return m&&m.__esModule?m:{default:m}};Object.defineProperty(a,"__esModule",{value:!0}),a.parser=a.preprocess=a.generate=a.preprocessComments=a.preprocessAst=void 0;var c=l(o(851));a.generate=c.default;var f=o(168);Object.defineProperty(a,"preprocessAst",{enumerable:!0,get:function(){return f.preprocessAst}}),Object.defineProperty(a,"preprocessComments",{enumerable:!0,get:function(){return f.preprocessComments}});var h=l(o(180));a.parser=h.default;var v=function(m,_){return(0,c.default)((0,f.preprocessAst)(h.default.parse(_.preserveComments?m:(0,f.preprocessComments)(m)),_))};a.preprocess=v,a.default=v},180:s=>{function a(l,c,f,h){var v=Error.call(this,l);return Object.setPrototypeOf&&Object.setPrototypeOf(v,a.prototype),v.expected=c,v.found=f,v.location=h,v.name="SyntaxError",v}function o(l,c,f){return f=f||" ",l.length>c?l:(c-=l.length,l+(f+=f.repeat(c)).slice(0,c))}(function(l,c){function f(){this.constructor=l}f.prototype=c.prototype,l.prototype=new f})(a,Error),a.prototype.format=function(l){var c="Error: "+this.message;if(this.location){var f,h=null;for(f=0;f<l.length;f++)if(l[f].source===this.location.source){h=l[f].text.split(/\r\n|\n|\r/g);break}var v=this.location.start,m=this.location.source+":"+v.line+":"+v.column;if(h){var _=this.location.end,g=o("",v.line.toString().length),y=h[v.line-1],u=v.line===_.line?_.column:y.length+1;c+=`
 --> `+m+`
`+g+` |
`+v.line+" | "+y+`
`+g+" | "+o("",v.column-1)+o("",u-v.column,"^")}else c+=`
 at `+m}return c},a.buildMessage=function(l,c){var f={literal:function(g){return'"'+v(g.text)+'"'},class:function(g){var y=g.parts.map((function(u){return Array.isArray(u)?m(u[0])+"-"+m(u[1]):m(u)}));return"["+(g.inverted?"^":"")+y+"]"},any:function(){return"any character"},end:function(){return"end of input"},other:function(g){return g.description}};function h(g){return g.charCodeAt(0).toString(16).toUpperCase()}function v(g){return g.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(y){return"\\x0"+h(y)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(y){return"\\x"+h(y)}))}function m(g){return g.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(y){return"\\x0"+h(y)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(y){return"\\x"+h(y)}))}function _(g){return f[g.type](g)}return"Expected "+(function(g){var y,u,b=g.map(_);if(b.sort(),b.length>0){for(y=1,u=1;y<b.length;y++)b[y-1]!==b[y]&&(b[u]=b[y],u++);b.length=u}switch(b.length){case 1:return b[0];case 2:return b[0]+" or "+b[1];default:return b.slice(0,-1).join(", ")+", or "+b[b.length-1]}})(l)+" but "+(function(g){return g?'"'+v(g)+'"':"end of input"})(c)+" found."},s.exports={SyntaxError:a,parse:function(l,c){var f,h={},v=(c=c!==void 0?c:{}).grammarSource,m={start:es},_=es,g="#define",y="#line",u="#undef",b="#error",S="#pragma",T="defined",R="#ifdef",O="#ifndef",C="#elif",I="#else",F="#endif",M="#version",D="#extension",B="*/",j=/^[A-Za-z_]/,U=/^[A-Za-z_0-9]/,V=/^[uU]/,k=/^[1-9]/,Z=/^[0-7]/,ee=/^[xX]/,oe=/^[0-9a-fA-F]/,ne=/^[0-9]/,ie=/^[\n]/,he=/^[^\n]/,fe=/^[ \t]/,ce=Cn("<<",!1),ae=Cn(">>",!1),ve=Cn("<=",!1),_e=Cn(">=",!1),Te=Cn("==",!1),Fe=Cn("!=",!1),We=Cn("&&",!1),ht=Cn("||",!1),ft=Cn("(",!1),Bt=Cn(")",!1),Me=Cn(",",!1),yt=Cn("!",!1),mt=Cn("-",!1),St=Cn("~",!1),nt=Cn("+",!1),Ft=Cn("*",!1),qe=Cn("/",!1),Ke=Cn("%",!1),Et=Cn("<",!1),ye=Cn(">",!1),me=Cn("|",!1),Le=Cn("^",!1),it=Cn("&",!1),Qe=Cn(":",!1),et=Cn("#define",!1),At=Cn("#line",!1),Gt=Cn("#undef",!1),on=Cn("#error",!1),fn=Cn("#pragma",!1),xt=Cn("defined",!1),kt=Cn("#if",!1),Xt=Cn("#ifdef",!1),Ve=Cn("#ifndef",!1),lt=Cn("#elif",!1),Qt=Cn("#else",!1),Ye=Cn("#endif",!1),ct=Cn("#version",!1),Dt=Cn("#extension",!1),Sn=Qn([["A","Z"],["a","z"],"_"],!1,!1),qt=Qn([["A","Z"],["a","z"],"_",["0","9"]],!1,!1),wt=gi("number"),dn=Qn(["u","U"],!1,!1),wn=Qn([["1","9"]],!1,!1),Pn=Cn("0",!1),Wn=Qn([["0","7"]],!1,!1),Ii=Qn(["x","X"],!1,!1),Ei=Qn([["0","9"],["a","f"],["A","F"]],!1,!1),Si=Qn([["0","9"]],!1,!1),er=gi("control line"),Zi=Qn([`
`],!1,!1),Or=gi("token string"),Wr=Qn([`
`],!0,!1),jr=gi("text"),ti=Cn("#",!1),rr=gi("if"),zi=gi("primary expression"),we=gi("unary expression"),Ie=gi("multiplicative expression"),tt=gi("additive expression"),Rt=gi("shift expression"),Ot=gi("relational expression"),Nt=gi("equality expression"),gn=gi("and expression"),nn=gi("exclusive or expression"),be=gi("inclusive or expression"),Ge=gi("logical and expression"),Ze=gi("logical or expression"),Be=gi("constant expression"),ut=gi("whitespace or comment"),Ct=Cn("//",!1),Pt=Cn("/*",!1),en=Cn("*/",!1),un={type:"any"},In=gi("whitespace"),Ln=Qn([" ","	"],!1,!1),vn=function(Ee,Re){return ze("literal",{literal:Ee,wsEnd:Re})},Bn=function(Ee,Re,Xe){return ze("literal",{literal:Re,wsStart:Ee,wsEnd:Xe})},Xn=function(Ee){return ze("text",{text:Ee.join("")})},Di=function(Ee,Re,Xe,Ue,He){return ze("elseif",{token:Re,expression:Xe,wsEnd:Ue,body:He})},Mn=function(Ee,Re){return rn(Ee,Re)},li=function(Ee,Re,Xe){return dt(Re,Xe)},Q=0,Ni=[{line:1,column:1}],Kn=0,ci=[],_t=0,ot={};if("startRule"in c){if(!(c.startRule in m))throw new Error(`Can't start parsing from rule "`+c.startRule+'".');_=m[c.startRule]}function Cn(Ee,Re){return{type:"literal",text:Ee,ignoreCase:Re}}function Qn(Ee,Re,Xe){return{type:"class",parts:Ee,inverted:Re,ignoreCase:Xe}}function gi(Ee){return{type:"other",description:Ee}}function zn(Ee){var Re,Xe=Ni[Ee];if(Xe)return Xe;for(Re=Ee-1;!Ni[Re];)Re--;for(Xe={line:(Xe=Ni[Re]).line,column:Xe.column};Re<Ee;)l.charCodeAt(Re)===10?(Xe.line++,Xe.column=1):Xe.column++,Re++;return Ni[Ee]=Xe,Xe}function Wi(Ee,Re){var Xe=zn(Ee),Ue=zn(Re);return{source:v,start:{offset:Ee,line:Xe.line,column:Xe.column},end:{offset:Re,line:Ue.line,column:Ue.column}}}function Jt(Ee){Q<Kn||(Q>Kn&&(Kn=Q,ci=[]),ci.push(Ee))}function es(){var Ee,Re=74*Q+0,Xe=ot[Re];return Xe?(Q=Xe.nextPos,Xe.result):(Ee=(function(){var Ue,He,an,tn=74*Q+1,hn=ot[tn];return hn?(Q=hn.nextPos,hn.result):(Ue=Q,(He=ss())!==h?(an=le(),Ue=ze("program",{program:He.blocks,wsEnd:an})):(Q=Ue,Ue=h),ot[tn]={nextPos:Q,result:Ue},Ue)})(),ot[Re]={nextPos:Q,result:Ee},Ee)}function xs(){var Ee,Re,Xe,Ue=74*Q+3,He=ot[Ue];return He?(Q=He.nextPos,He.result):(Ee=Q,l.substr(Q,2)==="<<"?(Re="<<",Q+=2):(Re=h,_t===0&&Jt(ce)),Re!==h?(Xe=le(),Ee=vn(Re,Xe)):(Q=Ee,Ee=h),ot[Ue]={nextPos:Q,result:Ee},Ee)}function Ks(){var Ee,Re,Xe,Ue=74*Q+4,He=ot[Ue];return He?(Q=He.nextPos,He.result):(Ee=Q,l.substr(Q,2)===">>"?(Re=">>",Q+=2):(Re=h,_t===0&&Jt(ae)),Re!==h?(Xe=le(),Ee=vn(Re,Xe)):(Q=Ee,Ee=h),ot[Ue]={nextPos:Q,result:Ee},Ee)}function Nr(){var Ee,Re,Xe,Ue=74*Q+5,He=ot[Ue];return He?(Q=He.nextPos,He.result):(Ee=Q,l.substr(Q,2)==="<="?(Re="<=",Q+=2):(Re=h,_t===0&&Jt(ve)),Re!==h?(Xe=le(),Ee=vn(Re,Xe)):(Q=Ee,Ee=h),ot[Ue]={nextPos:Q,result:Ee},Ee)}function Os(){var Ee,Re,Xe,Ue=74*Q+6,He=ot[Ue];return He?(Q=He.nextPos,He.result):(Ee=Q,l.substr(Q,2)===">="?(Re=">=",Q+=2):(Re=h,_t===0&&Jt(_e)),Re!==h?(Xe=le(),Ee=vn(Re,Xe)):(Q=Ee,Ee=h),ot[Ue]={nextPos:Q,result:Ee},Ee)}function Zs(){var Ee,Re,Xe,Ue=74*Q+7,He=ot[Ue];return He?(Q=He.nextPos,He.result):(Ee=Q,l.substr(Q,2)==="=="?(Re="==",Q+=2):(Re=h,_t===0&&Jt(Te)),Re!==h?(Xe=le(),Ee=vn(Re,Xe)):(Q=Ee,Ee=h),ot[Ue]={nextPos:Q,result:Ee},Ee)}function ro(){var Ee,Re,Xe,Ue=74*Q+8,He=ot[Ue];return He?(Q=He.nextPos,He.result):(Ee=Q,l.substr(Q,2)==="!="?(Re="!=",Q+=2):(Re=h,_t===0&&Jt(Fe)),Re!==h?(Xe=le(),Ee=vn(Re,Xe)):(Q=Ee,Ee=h),ot[Ue]={nextPos:Q,result:Ee},Ee)}function Ss(){var Ee,Re,Xe,Ue=74*Q+9,He=ot[Ue];return He?(Q=He.nextPos,He.result):(Ee=Q,l.substr(Q,2)==="&&"?(Re="&&",Q+=2):(Re=h,_t===0&&Jt(We)),Re!==h?(Xe=le(),Ee=vn(Re,Xe)):(Q=Ee,Ee=h),ot[Ue]={nextPos:Q,result:Ee},Ee)}function _a(){var Ee,Re,Xe,Ue=74*Q+10,He=ot[Ue];return He?(Q=He.nextPos,He.result):(Ee=Q,l.substr(Q,2)==="||"?(Re="||",Q+=2):(Re=h,_t===0&&Jt(ht)),Re!==h?(Xe=le(),Ee=vn(Re,Xe)):(Q=Ee,Ee=h),ot[Ue]={nextPos:Q,result:Ee},Ee)}function us(){var Ee,Re,Xe,Ue=74*Q+11,He=ot[Ue];return He?(Q=He.nextPos,He.result):(Ee=Q,l.charCodeAt(Q)===40?(Re="(",Q++):(Re=h,_t===0&&Jt(ft)),Re!==h?(Xe=le(),Ee=vn(Re,Xe)):(Q=Ee,Ee=h),ot[Ue]={nextPos:Q,result:Ee},Ee)}function ws(){var Ee,Re,Xe,Ue=74*Q+12,He=ot[Ue];return He?(Q=He.nextPos,He.result):(Ee=Q,l.charCodeAt(Q)===41?(Re=")",Q++):(Re=h,_t===0&&Jt(Bt)),Re!==h?(Xe=le(),Ee=vn(Re,Xe)):(Q=Ee,Ee=h),ot[Ue]={nextPos:Q,result:Ee},Ee)}function ja(){var Ee,Re,Xe,Ue=74*Q+13,He=ot[Ue];return He?(Q=He.nextPos,He.result):(Ee=Q,l.charCodeAt(Q)===44?(Re=",",Q++):(Re=h,_t===0&&Jt(Me)),Re!==h?(Xe=le(),Ee=vn(Re,Xe)):(Q=Ee,Ee=h),ot[Ue]={nextPos:Q,result:Ee},Ee)}function na(){var Ee,Re,Xe,Ue=74*Q+15,He=ot[Ue];return He?(Q=He.nextPos,He.result):(Ee=Q,l.charCodeAt(Q)===45?(Re="-",Q++):(Re=h,_t===0&&Jt(mt)),Re!==h?(Xe=le(),Ee=vn(Re,Xe)):(Q=Ee,Ee=h),ot[Ue]={nextPos:Q,result:Ee},Ee)}function La(){var Ee,Re,Xe,Ue=74*Q+17,He=ot[Ue];return He?(Q=He.nextPos,He.result):(Ee=Q,l.charCodeAt(Q)===43?(Re="+",Q++):(Re=h,_t===0&&Jt(nt)),Re!==h?(Xe=le(),Ee=vn(Re,Xe)):(Q=Ee,Ee=h),ot[Ue]={nextPos:Q,result:Ee},Ee)}function Xa(){var Ee,Re,Xe,Ue=74*Q+18,He=ot[Ue];return He?(Q=He.nextPos,He.result):(Ee=Q,l.charCodeAt(Q)===42?(Re="*",Q++):(Re=h,_t===0&&Jt(Ft)),Re!==h?(Xe=le(),Ee=vn(Re,Xe)):(Q=Ee,Ee=h),ot[Ue]={nextPos:Q,result:Ee},Ee)}function Pa(){var Ee,Re,Xe,Ue=74*Q+19,He=ot[Ue];return He?(Q=He.nextPos,He.result):(Ee=Q,l.charCodeAt(Q)===47?(Re="/",Q++):(Re=h,_t===0&&Jt(qe)),Re!==h?(Xe=le(),Ee=vn(Re,Xe)):(Q=Ee,Ee=h),ot[Ue]={nextPos:Q,result:Ee},Ee)}function Qs(){var Ee,Re,Xe,Ue=74*Q+20,He=ot[Ue];return He?(Q=He.nextPos,He.result):(Ee=Q,l.charCodeAt(Q)===37?(Re="%",Q++):(Re=h,_t===0&&Jt(Ke)),Re!==h?(Xe=le(),Ee=vn(Re,Xe)):(Q=Ee,Ee=h),ot[Ue]={nextPos:Q,result:Ee},Ee)}function so(){var Ee,Re,Xe,Ue=74*Q+21,He=ot[Ue];return He?(Q=He.nextPos,He.result):(Ee=Q,l.charCodeAt(Q)===60?(Re="<",Q++):(Re=h,_t===0&&Jt(Et)),Re!==h?(Xe=le(),Ee=vn(Re,Xe)):(Q=Ee,Ee=h),ot[Ue]={nextPos:Q,result:Ee},Ee)}function da(){var Ee,Re,Xe,Ue=74*Q+22,He=ot[Ue];return He?(Q=He.nextPos,He.result):(Ee=Q,l.charCodeAt(Q)===62?(Re=">",Q++):(Re=h,_t===0&&Jt(ye)),Re!==h?(Xe=le(),Ee=vn(Re,Xe)):(Q=Ee,Ee=h),ot[Ue]={nextPos:Q,result:Ee},Ee)}function hs(){var Ee,Re,Xe,Ue=74*Q+23,He=ot[Ue];return He?(Q=He.nextPos,He.result):(Ee=Q,l.charCodeAt(Q)===124?(Re="|",Q++):(Re=h,_t===0&&Jt(me)),Re!==h?(Xe=le(),Ee=vn(Re,Xe)):(Q=Ee,Ee=h),ot[Ue]={nextPos:Q,result:Ee},Ee)}function ko(){var Ee,Re,Xe,Ue=74*Q+24,He=ot[Ue];return He?(Q=He.nextPos,He.result):(Ee=Q,l.charCodeAt(Q)===94?(Re="^",Q++):(Re=h,_t===0&&Jt(Le)),Re!==h?(Xe=le(),Ee=vn(Re,Xe)):(Q=Ee,Ee=h),ot[Ue]={nextPos:Q,result:Ee},Ee)}function So(){var Ee,Re,Xe,Ue=74*Q+25,He=ot[Ue];return He?(Q=He.nextPos,He.result):(Ee=Q,l.charCodeAt(Q)===38?(Re="&",Q++):(Re=h,_t===0&&Jt(it)),Re!==h?(Xe=le(),Ee=vn(Re,Xe)):(Q=Ee,Ee=h),ot[Ue]={nextPos:Q,result:Ee},Ee)}function wo(){var Ee,Re,Xe,Ue,He=74*Q+27,an=ot[He];return an?(Q=an.nextPos,an.result):(Ee=Q,Re=le(),l.substr(Q,7)===g?(Xe=g,Q+=7):(Xe=h,_t===0&&Jt(et)),Xe!==h?(Ue=le(),Ee=Bn(Re,Xe,Ue)):(Q=Ee,Ee=h),ot[He]={nextPos:Q,result:Ee},Ee)}function ia(){var Ee,Re,Xe,Ue,He=74*Q+37,an=ot[He];return an?(Q=an.nextPos,an.result):(Ee=Q,Re=le(),l.substr(Q,5)===C?(Xe=C,Q+=5):(Xe=h,_t===0&&Jt(lt)),Xe!==h?(Ue=le(),Ee=Bn(Re,Xe,Ue)):(Q=Ee,Ee=h),ot[He]={nextPos:Q,result:Ee},Ee)}function Es(){var Ee,Re,Xe,Ue,He,an,tn=74*Q+42,hn=ot[tn];if(hn)return Q=hn.nextPos,hn.result;if(Ee=Q,Re=Q,Xe=Q,j.test(l.charAt(Q))?(Ue=l.charAt(Q),Q++):(Ue=h,_t===0&&Jt(Sn)),Ue!==h){for(He=[],U.test(l.charAt(Q))?(an=l.charAt(Q),Q++):(an=h,_t===0&&Jt(qt));an!==h;)He.push(an),U.test(l.charAt(Q))?(an=l.charAt(Q),Q++):(an=h,_t===0&&Jt(qt));Xe=Ue=[Ue,He]}else Q=Xe,Xe=h;return(Re=Xe!==h?l.substring(Re,Q):Xe)!==h?(Xe=le(),Ee=ze("identifier",{identifier:Re,wsEnd:Xe})):(Q=Ee,Ee=h),ot[tn]={nextPos:Q,result:Ee},Ee}function Hr(){var Ee,Re,Xe,Ue,He=74*Q+44,an=ot[He];return an?(Q=an.nextPos,an.result):(_t++,Ee=Q,Re=Q,Xe=(function(){var tn,hn,An,Nn,vi,nr=74*Q+46,fi=ot[nr];if(fi)return Q=fi.nextPos,fi.result;if(tn=Q,hn=Q,k.test(l.charAt(Q))?(An=l.charAt(Q),Q++):(An=h,_t===0&&Jt(wn)),An!==h){for(Nn=[],vi=fr();vi!==h;)Nn.push(vi),vi=fr();hn=An=[An,Nn]}else Q=hn,hn=h;return tn=hn!==h?l.substring(tn,Q):hn,ot[nr]={nextPos:Q,result:tn},tn})(),Xe!==h?((Ue=Xr())===h&&(Ue=null),Re=Xe=[Xe,Ue]):(Q=Re,Re=h),(Ee=Re!==h?l.substring(Ee,Q):Re)===h&&(Ee=Q,Re=Q,Xe=(function(){var tn,hn,An,Nn,vi=74*Q+47,nr=ot[vi];if(nr)return Q=nr.nextPos,nr.result;if(tn=Q,l.charCodeAt(Q)===48?(hn="0",Q++):(hn=h,_t===0&&Jt(Pn)),hn!==h){for(An=[],Z.test(l.charAt(Q))?(Nn=l.charAt(Q),Q++):(Nn=h,_t===0&&Jt(Wn));Nn!==h;)An.push(Nn),Z.test(l.charAt(Q))?(Nn=l.charAt(Q),Q++):(Nn=h,_t===0&&Jt(Wn));tn=hn=[hn,An]}else Q=tn,tn=h;return ot[vi]={nextPos:Q,result:tn},tn})(),Xe!==h?((Ue=Xr())===h&&(Ue=null),Re=Xe=[Xe,Ue]):(Q=Re,Re=h),(Ee=Re!==h?l.substring(Ee,Q):Re)===h&&(Ee=Q,Re=Q,Xe=(function(){var tn,hn,An,Nn,vi,nr=74*Q+48,fi=ot[nr];if(fi)return Q=fi.nextPos,fi.result;if(tn=Q,l.charCodeAt(Q)===48?(hn="0",Q++):(hn=h,_t===0&&Jt(Pn)),hn!==h)if(ee.test(l.charAt(Q))?(An=l.charAt(Q),Q++):(An=h,_t===0&&Jt(Ii)),An!==h){for(Nn=[],oe.test(l.charAt(Q))?(vi=l.charAt(Q),Q++):(vi=h,_t===0&&Jt(Ei));vi!==h;)Nn.push(vi),oe.test(l.charAt(Q))?(vi=l.charAt(Q),Q++):(vi=h,_t===0&&Jt(Ei));tn=hn=[hn,An,Nn]}else Q=tn,tn=h;else Q=tn,tn=h;return ot[nr]={nextPos:Q,result:tn},tn})(),Xe!==h?((Ue=Xr())===h&&(Ue=null),Re=Xe=[Xe,Ue]):(Q=Re,Re=h),Ee=Re!==h?l.substring(Ee,Q):Re)),_t--,Ee===h&&(Re=h,_t===0&&Jt(wt)),ot[He]={nextPos:Q,result:Ee},Ee)}function Xr(){var Ee,Re=74*Q+45,Xe=ot[Re];return Xe?(Q=Xe.nextPos,Xe.result):(V.test(l.charAt(Q))?(Ee=l.charAt(Q),Q++):(Ee=h,_t===0&&Jt(dn)),ot[Re]={nextPos:Q,result:Ee},Ee)}function fr(){var Ee,Re=74*Q+49,Xe=ot[Re];return Xe?(Q=Xe.nextPos,Xe.result):(ne.test(l.charAt(Q))?(Ee=l.charAt(Q),Q++):(Ee=h,_t===0&&Jt(Si)),ot[Re]={nextPos:Q,result:Ee},Ee)}function ss(){var Ee,Re,Xe,Ue,He,an=74*Q+50,tn=ot[an];if(tn)return Q=tn.nextPos,tn.result;if(Ee=Q,Re=[],(Xe=ba())===h){if(Xe=Q,Ue=[],(He=Ls())!==h)for(;He!==h;)Ue.push(He),He=Ls();else Ue=h;Ue!==h&&(Ue=Xn(Ue)),Xe=Ue}if(Xe!==h){for(;Xe!==h;)if(Re.push(Xe),(Xe=ba())===h){if(Xe=Q,Ue=[],(He=Ls())!==h)for(;He!==h;)Ue.push(He),He=Ls();else Ue=h;Ue!==h&&(Ue=Xn(Ue)),Xe=Ue}}else Re=h;return Re!==h&&(Re=ze("segment",{blocks:Re})),Ee=Re,ot[an]={nextPos:Q,result:Ee},Ee}function ba(){var Ee,Re,Xe,Ue,He,an,tn,hn,An,Nn,vi,nr,fi,Fr=74*Q+51,sr=ot[Fr];if(sr)return Q=sr.nextPos,sr.result;if(_t++,Ee=(function(){var Rn,yi,si,ni,wi,bi,fa,Eo,Da,Fi,Co,qa=74*Q+54,ao=ot[qa];if(ao)return Q=ao.nextPos,ao.result;if(Rn=Q,yi=Q,si=(function(){var lr,Cs,ts,ns=74*Q+55,Bs=ot[ns];return Bs?(Q=Bs.nextPos,Bs.result):(_t++,lr=Q,Cs=(function(){var ui,oo,ra,To,xa=74*Q+35,Ps=ot[xa];return Ps?(Q=Ps.nextPos,Ps.result):(ui=Q,oo=le(),l.substr(Q,6)===R?(ra=R,Q+=6):(ra=h,_t===0&&Jt(Xt)),ra!==h?(To=le(),ui=Bn(oo,ra,To)):(Q=ui,ui=h),ot[xa]={nextPos:Q,result:ui},ui)})(),Cs!==h&&(ts=Es())!==h?lr=ze("ifdef",{token:Cs,identifier:ts}):(Q=lr,lr=h),lr===h&&(lr=Q,Cs=(function(){var ui,oo,ra,To,xa=74*Q+36,Ps=ot[xa];return Ps?(Q=Ps.nextPos,Ps.result):(ui=Q,oo=le(),l.substr(Q,7)===O?(ra=O,Q+=7):(ra=h,_t===0&&Jt(Ve)),ra!==h?(To=le(),ui=Bn(oo,ra,To)):(Q=ui,ui=h),ot[xa]={nextPos:Q,result:ui},ui)})(),Cs!==h&&(ts=Es())!==h?lr=ze("ifndef",{token:Cs,identifier:ts}):(Q=lr,lr=h),lr===h&&(lr=Q,Cs=(function(){var ui,oo,ra,To,xa=74*Q+34,Ps=ot[xa];return Ps?(Q=Ps.nextPos,Ps.result):(ui=Q,oo=le(),l.substr(Q,3)==="#if"?(ra="#if",Q+=3):(ra=h,_t===0&&Jt(kt)),ra!==h?(To=le(),ui=Bn(oo,ra,To)):(Q=ui,ui=h),ot[xa]={nextPos:Q,result:ui},ui)})(),Cs!==h?((ts=de())===h&&(ts=null),lr=(function(ui,oo){return ze("if",{token:ui,expression:oo})})(Cs,ts)):(Q=lr,lr=h))),_t--,lr===h&&(Cs=h,_t===0&&Jt(rr)),ot[ns]={nextPos:Q,result:lr},lr)})(),si!==h?(ie.test(l.charAt(Q))?(ni=l.charAt(Q),Q++):(ni=h,_t===0&&Jt(Zi)),ni!==h?((wi=ss())===h&&(wi=null),Da=si,Fi=ni,Co=wi,yi={...Da,body:Co,wsEnd:Fi}):(Q=yi,yi=h)):(Q=yi,yi=h),yi!==h){for(si=[],ni=Q,(wi=ia())!==h&&(bi=de())!==h?(ie.test(l.charAt(Q))?(fa=l.charAt(Q),Q++):(fa=h,_t===0&&Jt(Zi)),fa!==h?((Eo=ss())===h&&(Eo=null),ni=Di(0,wi,bi,fa,Eo)):(Q=ni,ni=h)):(Q=ni,ni=h);ni!==h;)si.push(ni),ni=Q,(wi=ia())!==h&&(bi=de())!==h?(ie.test(l.charAt(Q))?(fa=l.charAt(Q),Q++):(fa=h,_t===0&&Jt(Zi)),fa!==h?((Eo=ss())===h&&(Eo=null),ni=Di(0,wi,bi,fa,Eo)):(Q=ni,ni=h)):(Q=ni,ni=h);ni=Q,wi=(function(){var lr,Cs,ts,ns,Bs=74*Q+38,ui=ot[Bs];return ui?(Q=ui.nextPos,ui.result):(lr=Q,Cs=le(),l.substr(Q,5)===I?(ts=I,Q+=5):(ts=h,_t===0&&Jt(Qt)),ts!==h?(ns=le(),lr=Bn(Cs,ts,ns)):(Q=lr,lr=h),ot[Bs]={nextPos:Q,result:lr},lr)})(),wi!==h?(ie.test(l.charAt(Q))?(bi=l.charAt(Q),Q++):(bi=h,_t===0&&Jt(Zi)),bi!==h?((fa=ss())===h&&(fa=null),ni=(function(lr,Cs,ts,ns,Bs){return ze("else",{token:ts,wsEnd:ns,body:Bs})})(0,0,wi,bi,fa)):(Q=ni,ni=h)):(Q=ni,ni=h),ni===h&&(ni=null),wi=(function(){var lr,Cs,ts,ns,Bs=74*Q+39,ui=ot[Bs];return ui?(Q=ui.nextPos,ui.result):(lr=Q,Cs=le(),l.substr(Q,6)===F?(ts=F,Q+=6):(ts=h,_t===0&&Jt(Ye)),ts!==h?(ns=le(),lr=Bn(Cs,ts,ns)):(Q=lr,lr=h),ot[Bs]={nextPos:Q,result:lr},lr)})(),wi!==h?(ie.test(l.charAt(Q))?(bi=l.charAt(Q),Q++):(bi=h,_t===0&&Jt(Zi)),bi===h&&(bi=null),Rn=(function(lr,Cs,ts,ns,Bs){return ze("conditional",{ifPart:lr,elseIfParts:Cs,elsePart:ts,endif:ns,wsEnd:Bs})})(yi,si,ni,wi,bi)):(Q=Rn,Rn=h)}else Q=Rn,Rn=h;return ot[qa]={nextPos:Q,result:Rn},Rn})(),Ee===h){if(Ee=Q,Re=Q,(Xe=wo())!==h)if((Ue=(function(){var Rn,yi,si,ni,wi,bi,fa=74*Q+43,Eo=ot[fa];if(Eo)return Q=Eo.nextPos,Eo.result;if(Rn=Q,yi=Q,si=Q,j.test(l.charAt(Q))?(ni=l.charAt(Q),Q++):(ni=h,_t===0&&Jt(Sn)),ni!==h){for(wi=[],U.test(l.charAt(Q))?(bi=l.charAt(Q),Q++):(bi=h,_t===0&&Jt(qt));bi!==h;)wi.push(bi),U.test(l.charAt(Q))?(bi=l.charAt(Q),Q++):(bi=h,_t===0&&Jt(qt));si=ni=[ni,wi]}else Q=si,si=h;return(yi=si!==h?l.substring(yi,Q):si)!==h&&(yi=ze("identifier",{identifier:yi})),Rn=yi,ot[fa]={nextPos:Q,result:Rn},Rn})())!==h)if((He=us())!==h){if(an=Q,(tn=Es())!==h){for(hn=[],An=Q,(Nn=ja())!==h&&(vi=Es())!==h?An=Nn=[Nn,vi]:(Q=An,An=h);An!==h;)hn.push(An),An=Q,(Nn=ja())!==h&&(vi=Es())!==h?An=Nn=[Nn,vi]:(Q=An,An=h);an=[tn,...hn.flat()]}else Q=an,an=h;an===h&&(an=null),(tn=ws())!==h?((hn=Ia())===h&&(hn=null),Re=(function(Rn,yi,si,ni,wi,bi){return ze("define_arguments",{define:Rn,identifier:yi,lp:si,args:ni||[],rp:wi,body:bi})})(Xe,Ue,He,an,tn,hn)):(Q=Re,Re=h)}else Q=Re,Re=h;else Q=Re,Re=h;else Q=Re,Re=h;if(Re===h&&(Re=Q,(Xe=wo())!==h&&(Ue=Es())!==h?((He=Ia())===h&&(He=null),Re=(function(Rn,yi,si){return ze("define",{define:Rn,identifier:yi,body:si})})(Xe,Ue,He)):(Q=Re,Re=h),Re===h)){if(Re=Q,Xe=(function(){var Rn,yi,si,ni,wi=74*Q+29,bi=ot[wi];return bi?(Q=bi.nextPos,bi.result):(Rn=Q,yi=le(),l.substr(Q,5)===y?(si=y,Q+=5):(si=h,_t===0&&Jt(At)),si!==h?(ni=le(),Rn=Bn(yi,si,ni)):(Q=Rn,Rn=h),ot[wi]={nextPos:Q,result:Rn},Rn)})(),Xe!==h){if(Ue=Q,He=[],(an=fr())!==h)for(;an!==h;)He.push(an),an=fr();else He=h;(Ue=He!==h?l.substring(Ue,Q):He)!==h?Re=ze("line",{line:Xe,value:Ue}):(Q=Re,Re=h)}else Q=Re,Re=h;Re===h&&(Re=Q,Xe=(function(){var Rn,yi,si,ni,wi=74*Q+30,bi=ot[wi];return bi?(Q=bi.nextPos,bi.result):(Rn=Q,yi=le(),l.substr(Q,6)===u?(si=u,Q+=6):(si=h,_t===0&&Jt(Gt)),si!==h?(ni=le(),Rn=Bn(yi,si,ni)):(Q=Rn,Rn=h),ot[wi]={nextPos:Q,result:Rn},Rn)})(),Xe!==h&&(Ue=Es())!==h?Re=ze("undef",{undef:Xe,identifier:Ue}):(Q=Re,Re=h),Re===h&&(Re=Q,Xe=(function(){var Rn,yi,si,ni,wi=74*Q+31,bi=ot[wi];return bi?(Q=bi.nextPos,bi.result):(Rn=Q,yi=le(),l.substr(Q,6)===b?(si=b,Q+=6):(si=h,_t===0&&Jt(on)),si!==h?(ni=le(),Rn=Bn(yi,si,ni)):(Q=Rn,Rn=h),ot[wi]={nextPos:Q,result:Rn},Rn)})(),Xe!==h&&(Ue=Ia())!==h?Re=ze("error",{error:Xe,message:Ue}):(Q=Re,Re=h),Re===h&&(Re=Q,Xe=(function(){var Rn,yi,si,ni,wi=74*Q+32,bi=ot[wi];return bi?(Q=bi.nextPos,bi.result):(Rn=Q,yi=le(),l.substr(Q,7)===S?(si=S,Q+=7):(si=h,_t===0&&Jt(fn)),si!==h?(ni=le(),Rn=Bn(yi,si,ni)):(Q=Rn,Rn=h),ot[wi]={nextPos:Q,result:Rn},Rn)})(),Xe!==h&&(Ue=Ia())!==h?Re=ze("pragma",{pragma:Xe,body:Ue}):(Q=Re,Re=h),Re===h&&(Re=Q,Xe=(function(){var Rn,yi,si,ni,wi=74*Q+40,bi=ot[wi];return bi?(Q=bi.nextPos,bi.result):(Rn=Q,yi=le(),l.substr(Q,8)===M?(si=M,Q+=8):(si=h,_t===0&&Jt(ct)),si!==h?(ni=le(),Rn=Bn(yi,si,ni)):(Q=Rn,Rn=h),ot[wi]={nextPos:Q,result:Rn},Rn)})(),Xe!==h&&(Ue=Hr())!==h?((He=Ia())===h&&(He=null),Re=ze("version",{version:Xe,value:Ue,profile:He})):(Q=Re,Re=h),Re===h&&(Re=Q,Xe=(function(){var Rn,yi,si,ni,wi=74*Q+41,bi=ot[wi];return bi?(Q=bi.nextPos,bi.result):(Rn=Q,yi=le(),l.substr(Q,10)===D?(si=D,Q+=10):(si=h,_t===0&&Jt(Dt)),si!==h?(ni=le(),Rn=Bn(yi,si,ni)):(Q=Rn,Rn=h),ot[wi]={nextPos:Q,result:Rn},Rn)})(),Xe!==h&&(Ue=Es())!==h?(He=(function(){var Rn,yi,si,ni=74*Q+26,wi=ot[ni];return wi?(Q=wi.nextPos,wi.result):(Rn=Q,l.charCodeAt(Q)===58?(yi=":",Q++):(yi=h,_t===0&&Jt(Qe)),yi!==h?(si=le(),Rn=vn(yi,si)):(Q=Rn,Rn=h),ot[ni]={nextPos:Q,result:Rn},Rn)})(),He!==h&&(an=Ia())!==h?Re=ze("extension",{extension:Xe,name:Ue,colon:He,behavior:an}):(Q=Re,Re=h)):(Q=Re,Re=h))))))}Re!==h?(ie.test(l.charAt(Q))?(Xe=l.charAt(Q),Q++):(Xe=h,_t===0&&Jt(Zi)),Xe===h&&(Xe=null),nr=Re,fi=Xe,Ee={...nr,wsEnd:fi}):(Q=Ee,Ee=h)}return _t--,Ee===h&&(Re=h,_t===0&&Jt(er)),ot[Fr]={nextPos:Q,result:Ee},Ee}function Ia(){var Ee,Re,Xe,Ue=74*Q+52,He=ot[Ue];if(He)return Q=He.nextPos,He.result;if(_t++,Ee=Q,Re=[],he.test(l.charAt(Q))?(Xe=l.charAt(Q),Q++):(Xe=h,_t===0&&Jt(Wr)),Xe!==h)for(;Xe!==h;)Re.push(Xe),he.test(l.charAt(Q))?(Xe=l.charAt(Q),Q++):(Xe=h,_t===0&&Jt(Wr));else Re=h;return Ee=Re!==h?l.substring(Ee,Q):Re,_t--,Ee===h&&(Re=h,_t===0&&Jt(Or)),ot[Ue]={nextPos:Q,result:Ee},Ee}function Ls(){var Ee,Re,Xe,Ue,He,an,tn=74*Q+53,hn=ot[tn];if(hn)return Q=hn.nextPos,hn.result;if(_t++,Ee=Q,Re=Q,Xe=Q,_t++,Ue=Q,(He=je())===h&&(He=null),l.charCodeAt(Q)===35?(an="#",Q++):(an=h,_t===0&&Jt(ti)),an!==h?Ue=He=[He,an]:(Q=Ue,Ue=h),_t--,Ue===h?Xe=void 0:(Q=Xe,Xe=h),Xe!==h){if(Ue=[],he.test(l.charAt(Q))?(He=l.charAt(Q),Q++):(He=h,_t===0&&Jt(Wr)),He!==h)for(;He!==h;)Ue.push(He),he.test(l.charAt(Q))?(He=l.charAt(Q),Q++):(He=h,_t===0&&Jt(Wr));else Ue=h;Ue!==h?(ie.test(l.charAt(Q))?(He=l.charAt(Q),Q++):(He=h,_t===0&&Jt(Zi)),He===h&&(He=null),Re=Xe=[Xe,Ue,He]):(Q=Re,Re=h)}else Q=Re,Re=h;return Re===h&&(ie.test(l.charAt(Q))?(Re=l.charAt(Q),Q++):(Re=h,_t===0&&Jt(Zi))),Ee=Re!==h?l.substring(Ee,Q):Re,_t--,Ee===h&&(Re=h,_t===0&&Jt(jr)),ot[tn]={nextPos:Q,result:Ee},Ee}function Tn(){var Ee,Re,Xe,Ue,He=74*Q+56,an=ot[He];return an?(Q=an.nextPos,an.result):(_t++,(Ee=(function(){var tn,hn,An,Nn=74*Q+2,vi=ot[Nn];return vi?(Q=vi.nextPos,vi.result):(tn=Q,(hn=Hr())!==h?(An=le(),tn=ze("int_constant",{token:hn,wsEnd:An})):(Q=tn,tn=h),ot[Nn]={nextPos:Q,result:tn},tn)})())===h&&(Ee=Q,(Re=us())!==h&&(Xe=de())!==h&&(Ue=ws())!==h?Ee=ze("group",{lp:Re,expression:Xe,rp:Ue}):(Q=Ee,Ee=h),Ee===h&&(Ee=Es())),_t--,Ee===h&&(Re=h,_t===0&&Jt(zi)),ot[He]={nextPos:Q,result:Ee},Ee)}function A(){var Ee,Re,Xe,Ue,He,an=74*Q+57,tn=ot[an];return tn?(Q=tn.nextPos,tn.result):(_t++,Ee=Q,Re=(function(){var hn,An,Nn,vi,nr=74*Q+33,fi=ot[nr];return fi?(Q=fi.nextPos,fi.result):(hn=Q,An=le(),l.substr(Q,7)===T?(Nn=T,Q+=7):(Nn=h,_t===0&&Jt(xt)),Nn!==h?(vi=le(),hn=Bn(An,Nn,vi)):(Q=hn,hn=h),ot[nr]={nextPos:Q,result:hn},hn)})(),Re!==h&&(Xe=us())!==h&&(Ue=Es())!==h&&(He=ws())!==h?Ee=ze("unary_defined",{operator:Re,lp:Xe,identifier:Ue,rp:He}):(Q=Ee,Ee=h),Ee===h&&(Ee=Q,(Re=La())===h&&(Re=na())===h&&(Re=(function(){var hn,An,Nn,vi=74*Q+14,nr=ot[vi];return nr?(Q=nr.nextPos,nr.result):(hn=Q,l.charCodeAt(Q)===33?(An="!",Q++):(An=h,_t===0&&Jt(yt)),An!==h?(Nn=le(),hn=vn(An,Nn)):(Q=hn,hn=h),ot[vi]={nextPos:Q,result:hn},hn)})(),Re===h&&(Re=(function(){var hn,An,Nn,vi=74*Q+16,nr=ot[vi];return nr?(Q=nr.nextPos,nr.result):(hn=Q,l.charCodeAt(Q)===126?(An="~",Q++):(An=h,_t===0&&Jt(St)),An!==h?(Nn=le(),hn=vn(An,Nn)):(Q=hn,hn=h),ot[vi]={nextPos:Q,result:hn},hn)})())),Re!==h&&(Xe=A())!==h?Ee=ze("unary",{operator:Re,expression:Xe}):(Q=Ee,Ee=h),Ee===h&&(Ee=Tn())),_t--,Ee===h&&(Re=h,_t===0&&Jt(we)),ot[an]={nextPos:Q,result:Ee},Ee)}function z(){var Ee,Re,Xe,Ue,He,an,tn=74*Q+58,hn=ot[tn];if(hn)return Q=hn.nextPos,hn.result;if(_t++,Ee=Q,(Re=A())!==h){for(Xe=[],Ue=Q,(He=Xa())===h&&(He=Pa())===h&&(He=Qs()),He!==h&&(an=A())!==h?Ue=He=[He,an]:(Q=Ue,Ue=h);Ue!==h;)Xe.push(Ue),Ue=Q,(He=Xa())===h&&(He=Pa())===h&&(He=Qs()),He!==h&&(an=A())!==h?Ue=He=[He,an]:(Q=Ue,Ue=h);Ee=Mn(Re,Xe)}else Q=Ee,Ee=h;return _t--,Ee===h&&(Re=h,_t===0&&Jt(Ie)),ot[tn]={nextPos:Q,result:Ee},Ee}function re(){var Ee,Re,Xe,Ue,He,an,tn=74*Q+59,hn=ot[tn];if(hn)return Q=hn.nextPos,hn.result;if(_t++,Ee=Q,(Re=z())!==h){for(Xe=[],Ue=Q,(He=La())===h&&(He=na()),He!==h&&(an=z())!==h?Ue=He=[He,an]:(Q=Ue,Ue=h);Ue!==h;)Xe.push(Ue),Ue=Q,(He=La())===h&&(He=na()),He!==h&&(an=z())!==h?Ue=He=[He,an]:(Q=Ue,Ue=h);Ee=Mn(Re,Xe)}else Q=Ee,Ee=h;return _t--,Ee===h&&(Re=h,_t===0&&Jt(tt)),ot[tn]={nextPos:Q,result:Ee},Ee}function te(){var Ee,Re,Xe,Ue,He,an,tn=74*Q+60,hn=ot[tn];if(hn)return Q=hn.nextPos,hn.result;if(_t++,Ee=Q,(Re=re())!==h){for(Xe=[],Ue=Q,(He=Ks())===h&&(He=xs()),He!==h&&(an=re())!==h?Ue=He=[He,an]:(Q=Ue,Ue=h);Ue!==h;)Xe.push(Ue),Ue=Q,(He=Ks())===h&&(He=xs()),He!==h&&(an=re())!==h?Ue=He=[He,an]:(Q=Ue,Ue=h);Ee=Mn(Re,Xe)}else Q=Ee,Ee=h;return _t--,Ee===h&&(Re=h,_t===0&&Jt(Rt)),ot[tn]={nextPos:Q,result:Ee},Ee}function Ae(){var Ee,Re,Xe,Ue,He,an,tn=74*Q+61,hn=ot[tn];if(hn)return Q=hn.nextPos,hn.result;if(_t++,Ee=Q,(Re=te())!==h){for(Xe=[],Ue=Q,(He=Nr())===h&&(He=Os())===h&&(He=so())===h&&(He=da()),He!==h&&(an=te())!==h?Ue=He=[He,an]:(Q=Ue,Ue=h);Ue!==h;)Xe.push(Ue),Ue=Q,(He=Nr())===h&&(He=Os())===h&&(He=so())===h&&(He=da()),He!==h&&(an=te())!==h?Ue=He=[He,an]:(Q=Ue,Ue=h);Ee=Mn(Re,Xe)}else Q=Ee,Ee=h;return _t--,Ee===h&&(Re=h,_t===0&&Jt(Ot)),ot[tn]={nextPos:Q,result:Ee},Ee}function ke(){var Ee,Re,Xe,Ue,He,an,tn=74*Q+62,hn=ot[tn];if(hn)return Q=hn.nextPos,hn.result;if(_t++,Ee=Q,(Re=Ae())!==h){for(Xe=[],Ue=Q,(He=Zs())===h&&(He=ro()),He!==h&&(an=Ae())!==h?Ue=He=[He,an]:(Q=Ue,Ue=h);Ue!==h;)Xe.push(Ue),Ue=Q,(He=Zs())===h&&(He=ro()),He!==h&&(an=Ae())!==h?Ue=He=[He,an]:(Q=Ue,Ue=h);Ee=Mn(Re,Xe)}else Q=Ee,Ee=h;return _t--,Ee===h&&(Re=h,_t===0&&Jt(Nt)),ot[tn]={nextPos:Q,result:Ee},Ee}function P(){var Ee,Re,Xe,Ue,He,an,tn=74*Q+63,hn=ot[tn];if(hn)return Q=hn.nextPos,hn.result;if(_t++,Ee=Q,(Re=ke())!==h){for(Xe=[],Ue=Q,(He=So())!==h&&(an=ke())!==h?Ue=He=[He,an]:(Q=Ue,Ue=h);Ue!==h;)Xe.push(Ue),Ue=Q,(He=So())!==h&&(an=ke())!==h?Ue=He=[He,an]:(Q=Ue,Ue=h);Ee=Mn(Re,Xe)}else Q=Ee,Ee=h;return _t--,Ee===h&&(Re=h,_t===0&&Jt(gn)),ot[tn]={nextPos:Q,result:Ee},Ee}function G(){var Ee,Re,Xe,Ue,He,an,tn=74*Q+64,hn=ot[tn];if(hn)return Q=hn.nextPos,hn.result;if(_t++,Ee=Q,(Re=P())!==h){for(Xe=[],Ue=Q,(He=ko())!==h&&(an=P())!==h?Ue=He=[He,an]:(Q=Ue,Ue=h);Ue!==h;)Xe.push(Ue),Ue=Q,(He=ko())!==h&&(an=P())!==h?Ue=He=[He,an]:(Q=Ue,Ue=h);Ee=Mn(Re,Xe)}else Q=Ee,Ee=h;return _t--,Ee===h&&(Re=h,_t===0&&Jt(nn)),ot[tn]={nextPos:Q,result:Ee},Ee}function Y(){var Ee,Re,Xe,Ue,He,an,tn=74*Q+65,hn=ot[tn];if(hn)return Q=hn.nextPos,hn.result;if(_t++,Ee=Q,(Re=G())!==h){for(Xe=[],Ue=Q,(He=hs())!==h&&(an=G())!==h?Ue=He=[He,an]:(Q=Ue,Ue=h);Ue!==h;)Xe.push(Ue),Ue=Q,(He=hs())!==h&&(an=G())!==h?Ue=He=[He,an]:(Q=Ue,Ue=h);Ee=Mn(Re,Xe)}else Q=Ee,Ee=h;return _t--,Ee===h&&(Re=h,_t===0&&Jt(be)),ot[tn]={nextPos:Q,result:Ee},Ee}function se(){var Ee,Re,Xe,Ue,He,an,tn=74*Q+66,hn=ot[tn];if(hn)return Q=hn.nextPos,hn.result;if(_t++,Ee=Q,(Re=Y())!==h){for(Xe=[],Ue=Q,(He=Ss())!==h&&(an=Y())!==h?Ue=He=[He,an]:(Q=Ue,Ue=h);Ue!==h;)Xe.push(Ue),Ue=Q,(He=Ss())!==h&&(an=Y())!==h?Ue=He=[He,an]:(Q=Ue,Ue=h);Ee=Mn(Re,Xe)}else Q=Ee,Ee=h;return _t--,Ee===h&&(Re=h,_t===0&&Jt(Ge)),ot[tn]={nextPos:Q,result:Ee},Ee}function de(){var Ee,Re=74*Q+68,Xe=ot[Re];return Xe?(Q=Xe.nextPos,Xe.result):(_t++,Ee=(function(){var Ue,He,an,tn,hn,An,Nn=74*Q+67,vi=ot[Nn];if(vi)return Q=vi.nextPos,vi.result;if(_t++,Ue=Q,(He=se())!==h){for(an=[],tn=Q,(hn=_a())!==h&&(An=se())!==h?tn=hn=[hn,An]:(Q=tn,tn=h);tn!==h;)an.push(tn),tn=Q,(hn=_a())!==h&&(An=se())!==h?tn=hn=[hn,An]:(Q=tn,tn=h);Ue=Mn(He,an)}else Q=Ue,Ue=h;return _t--,Ue===h&&(He=h,_t===0&&Jt(Ze)),ot[Nn]={nextPos:Q,result:Ue},Ue})(),_t--,Ee===h&&_t===0&&Jt(Be),ot[Re]={nextPos:Q,result:Ee},Ee)}function le(){var Ee,Re,Xe,Ue,He,an,tn=74*Q+69,hn=ot[tn];if(hn)return Q=hn.nextPos,hn.result;for(_t++,Ee=Q,(Re=je())===h&&(Re=null),Xe=[],Ue=Q,(He=Se())!==h?((an=je())===h&&(an=null),Ue=He=[He,an]):(Q=Ue,Ue=h);Ue!==h;)Xe.push(Ue),Ue=Q,(He=Se())!==h?((an=je())===h&&(an=null),Ue=He=[He,an]):(Q=Ue,Ue=h);return Ee=$t(Re,Xe),_t--,Re=h,_t===0&&Jt(ut),ot[tn]={nextPos:Q,result:Ee},Ee}function Se(){var Ee,Re,Xe,Ue,He,an,tn=74*Q+70,hn=ot[tn];if(hn)return Q=hn.nextPos,hn.result;if(Ee=(function(){var An,Nn,vi,nr,fi,Fr=74*Q+71,sr=ot[Fr];if(sr)return Q=sr.nextPos,sr.result;if(An=Q,Nn=Q,l.substr(Q,2)==="//"?(vi="//",Q+=2):(vi=h,_t===0&&Jt(Ct)),vi!==h){for(nr=[],he.test(l.charAt(Q))?(fi=l.charAt(Q),Q++):(fi=h,_t===0&&Jt(Wr));fi!==h;)nr.push(fi),he.test(l.charAt(Q))?(fi=l.charAt(Q),Q++):(fi=h,_t===0&&Jt(Wr));Nn=vi=[vi,nr]}else Q=Nn,Nn=h;return An=Nn!==h?l.substring(An,Q):Nn,ot[Fr]={nextPos:Q,result:An},An})(),Ee===h)if(Ee=Q,Re=(function(){var An,Nn,vi,nr,fi,Fr,sr,Rn=74*Q+72,yi=ot[Rn];if(yi)return Q=yi.nextPos,yi.result;if(An=Q,Nn=Q,l.substr(Q,2)==="/*"?(vi="/*",Q+=2):(vi=h,_t===0&&Jt(Pt)),vi!==h){for(nr=[],fi=Q,Fr=Q,_t++,l.substr(Q,2)===B?(sr=B,Q+=2):(sr=h,_t===0&&Jt(en)),_t--,sr===h?Fr=void 0:(Q=Fr,Fr=h),Fr!==h?(l.length>Q?(sr=l.charAt(Q),Q++):(sr=h,_t===0&&Jt(un)),sr!==h?fi=sr:(Q=fi,fi=h)):(Q=fi,fi=h);fi!==h;)nr.push(fi),fi=Q,Fr=Q,_t++,l.substr(Q,2)===B?(sr=B,Q+=2):(sr=h,_t===0&&Jt(en)),_t--,sr===h?Fr=void 0:(Q=Fr,Fr=h),Fr!==h?(l.length>Q?(sr=l.charAt(Q),Q++):(sr=h,_t===0&&Jt(un)),sr!==h?fi=sr:(Q=fi,fi=h)):(Q=fi,fi=h);l.substr(Q,2)===B?(fi=B,Q+=2):(fi=h,_t===0&&Jt(en)),fi!==h?Nn=vi=[vi,nr,fi]:(Q=Nn,Nn=h)}else Q=Nn,Nn=h;return An=Nn!==h?l.substring(An,Q):Nn,ot[Rn]={nextPos:Q,result:An},An})(),Re!==h){for(Xe=[],Ue=Q,(He=je())!==h&&(an=Se())!==h?Ue=li(0,He,an):(Q=Ue,Ue=h);Ue!==h;)Xe.push(Ue),Ue=Q,(He=je())!==h&&(an=Se())!==h?Ue=li(0,He,an):(Q=Ue,Ue=h);Ee=dt(Re,Xe.flat())}else Q=Ee,Ee=h;return ot[tn]={nextPos:Q,result:Ee},Ee}function je(){var Ee,Re,Xe,Ue=74*Q+73,He=ot[Ue];if(He)return Q=He.nextPos,He.result;if(_t++,Ee=Q,Re=[],fe.test(l.charAt(Q))?(Xe=l.charAt(Q),Q++):(Xe=h,_t===0&&Jt(Ln)),Xe!==h)for(;Xe!==h;)Re.push(Xe),fe.test(l.charAt(Q))?(Xe=l.charAt(Q),Q++):(Xe=h,_t===0&&Jt(Ln));else Re=h;return Ee=Re!==h?l.substring(Ee,Q):Re,_t--,Ee===h&&(Re=h,_t===0&&Jt(In)),ot[Ue]={nextPos:Q,result:Ee},Ee}const ze=(Ee,Re)=>({type:Ee,...Re}),dt=(...Ee)=>Ee.flat().filter((Re=>Re!=null&&Re!==""&&Re.length!==0)),$t=(...Ee)=>{return(Re=dt(Ee)).length>1?Re:Re[0];var Re},rn=(...Ee)=>Ee.flat().reduce(((Re,[Xe,Ue])=>({type:"binary",operator:Xe,left:Re,right:Ue})));if((f=_())!==h&&Q===l.length)return f;throw f!==h&&Q<l.length&&Jt({type:"end"}),It=ci,yn=Kn<l.length?l.charAt(Kn):null,hi=Kn<l.length?Wi(Kn,Kn+1):Wi(Kn,Kn),new a(a.buildMessage(It,yn),It,yn,hi);var It,yn,hi}}},168:function(s,a,o){var l=this&&this.__assign||function(){return l=Object.assign||function(b){for(var S,T=1,R=arguments.length;T<R;T++)for(var O in S=arguments[T])Object.prototype.hasOwnProperty.call(S,O)&&(b[O]=S[O]);return b},l.apply(this,arguments)},c=this&&this.__spreadArray||function(b,S,T){if(T||arguments.length===2)for(var R,O=0,C=S.length;O<C;O++)!R&&O in S||(R||(R=Array.prototype.slice.call(S,0,O)),R[O]=S[O]);return b.concat(R||Array.prototype.slice.call(S))};Object.defineProperty(a,"__esModule",{value:!0}),a.preprocessComments=a.preprocessAst=void 0;var f=o(416),h=function(b){for(var S=[],T=1;T<arguments.length;T++)S[T-1]=arguments[T];return Object.entries(b).reduce((function(R,O){var C,I=O[0],F=O[1];return l(l({},R),!S.includes(I)&&((C={})[I]=F,C))}),{})};a.preprocessComments=function(b){var S,T,R,O="",C=1,I=0,F=0;for(S=0;S<b.length;S++)T=b.substr(S,1),R=b.substr(S+1,1),T!="/"||R!="/"||I||F?(T==`
`&&I&&(I=0),T!="/"||R!="*"||F||I?T=="*"&&R=="/"&&F?(F==C&&(O+=" "),F=0,S++):(F||I)&&T!=`
`||(O+=T,C++):(F=C,S++)):(I=C,S++);return O};var v=function(b){return b.replace(/\s+##\s+/g,"")},m=function(b,S){return Object.entries(S).reduce((function(T,R){var O=R[0],C=R[1];return C.args?(function(I,F,M,D){for(var B,j="\\b".concat(F,"\\s*\\("),U=new RegExp(j,"m"),V="",k=D,Z=function(){var ee=(function(_e){for(var Te,Fe=0,We=[],ht="",ft=0;ft<_e.length;ft++){if((Te=_e.charAt(ft))==="("&&Fe++,Te===")"&&Fe--,Fe===-1)return(ht!==""||We.length)&&We.push(ht),{args:We,length:ft};Te===","&&Fe===0?(We.push(ht),ht=""):ht+=Te}return null})(k.substring(B.index+B[0].length));if(ee===null)throw new Error("".concat(k.match(U)," unterminated macro invocation"));var oe=(M.args||[]).filter((function(_e){return _e.literal!==","})),ne=ee.args,ie=ee.length,he=B[0].length+ie+1;if(ne.length>oe.length)throw new Error("'".concat(F,"': Too many arguments for macro"));if(ne.length<oe.length)throw new Error("'".concat(F,"': Not enough arguments for macro"));var fe=v(oe.reduce((function(_e,Te,Fe){return _e.replace(new RegExp("\\b".concat(Te.identifier,"\\b"),"g"),ne[Fe].trim())}),M.body)),ce=m(fe,h(I,F)),ae=B.index+ce.length,ve=k.replace(k.substr(B.index,he),ce);V+=ve.substr(0,ae),k=ve.substr(ae)};B=U.exec(k);)Z();return V+k})(S,O,C,T):(function(I,F,M,D){var B=D;if(new RegExp("\\b".concat(F,"\\b"),"g").test(D)){var j=M.body||"",U=v(D.replace(new RegExp("\\b".concat(F,"\\b"),"g"),j));B=m(U,h(I,F))}return B})(S,O,C,T)}),b)},_=function(b){return!!b},g=function(b){for(var S=[],T=1;T<arguments.length;T++)S[T-1]=arguments[T];S.forEach((function(R){u(R,{unary_defined:{enter:function(O){O.skip()}},identifier:{enter:function(O){O.node.identifier=m(O.node.identifier,b)}}})}))},y=function(b,S){return T={int_constant:function(O){return parseInt(O.token,10)},unary_defined:function(O){return O.identifier.identifier in S},identifier:function(O){return O.identifier},group:function(O,C){return C(O.expression)},binary:function(O,C){var I=O.left,F=O.right,M=O.operator.literal;switch(M){case"*":return C(I)*C(F);case"/":return C(I)/C(F);case"%":return C(I)%C(F);case"+":return C(I)+C(F);case"-":return C(I)-C(F);case"<<":return C(I)<<C(F);case">>":return C(I)>>C(F);case"<":return C(I)<C(F);case">":return C(I)>C(F);case"<=":return C(I)<=C(F);case">=":return C(I)>=C(F);case"==":return C(I)==C(F);case"!=":return C(I)!=C(F);case"&":return C(I)&C(F);case"^":return C(I)^C(F);case"|":return C(I)|C(F);case"&&":return C(I)&&C(F);case"||":return C(I)||C(F);default:throw new Error("Preprocessing error: Unknown binary operator ".concat(M))}},unary:function(O,C){switch(O.operator.literal){case"+":return C(O.expression);case"-":return-1*C(O.expression);case"!":return!C(O.expression);case"~":return~C(O.expression);default:throw new Error("Preprocessing error: Unknown unary operator ".concat(O.operator.literal))}}},R=function(O){var C=T[O.type];if(!C)throw new Error("No evaluate() evaluator for ".concat(O.type));return C(O,R)},R(b);var T,R},u=f.visit;a.preprocessAst=function(b,S){S===void 0&&(S={});var T,R=Object.entries(S.defines||{}).reduce((function(C,I){var F,M=I[0],D=I[1];return l(l({},C),((F={})[M]={body:D},F))}),{}),O=((T=S.preserve)===void 0&&(T={}),function(C){var I=T?.[C.node.type];return typeof I=="function"?I(C):I});return u(b,{conditional:{enter:function(C){var I=C,F=I.node;O(I)||(g.apply(void 0,c([R],c([F.ifPart.expression],F.elseIfParts.map((function(M){return M.expression})),!0).filter(_),!1)),(function(M,D){return D.type==="if"?y(D.expression,M):D.type==="ifdef"?D.identifier.identifier in M:D.type==="ifndef"?!(D.identifier.identifier in M):void 0})(R,F.ifPart)?I.replaceWith(F.ifPart.body):F.elseIfParts.reduce((function(M,D){return M||y(D.expression,R)&&(I.replaceWith(D.body),!0)}),!1)||(F.elsePart?I.replaceWith(F.elsePart.body):I.remove()))}},text:{enter:function(C){var I=C;I.node.text=m(I.node.text,R)}},define_arguments:{enter:function(C){var I=C,F=I.node,M=F.identifier.identifier,D=F.body,B=F.args;R[M]={args:B,body:D},!O(I)&&I.remove()}},define:{enter:function(C){var I=C,F=I.node,M=F.identifier.identifier,D=F.body;R[M]={body:D},!O(I)&&I.remove()}},undef:{enter:function(C){var I=C;delete R[I.node.identifier.identifier],!O(I)&&I.remove()}},error:{enter:function(C){var I=C;if(S.stopOnError)throw new Error(I.node.message);!O(I)&&I.remove()}},pragma:{enter:function(C){var I=C;!O(I)&&I.remove()}},version:{enter:function(C){var I=C;!O(I)&&I.remove()}},extension:{enter:function(C){var I=C;!O(I)&&I.remove()}},line:{enter:function(C){var I=C;!O(I)&&I.remove()}}}),b}},866:(s,a,o)=>{o.d(a,{Z:()=>v});var l=o(81),c=o.n(l),f=o(645),h=o.n(f)()(c());h.push([s.id,"@import url(https://fonts.googleapis.com/css?family=Montserrat:300,400);"]),h.push([s.id,'.captureMenuComponent{position:absolute;padding:7px;z-index:99999;top:10px;left:50%;margin-left:-209px;height:40px;width:400px;border:2px solid #222;background-color:#2c2c2c;visibility:hidden;display:none;color:#f9f9f9;font-family:Consolas,monaco,monospace;font-size:14px;font-weight:500}.captureMenuComponent.active{visibility:visible;display:block}.captureMenuComponent,.captureMenuComponent:after,.captureMenuComponent:before{box-sizing:content-box}.captureMenuLogComponent{position:absolute;padding:7px;z-index:80000;top:66px;left:50%;margin-left:-209px;height:40px;width:400px;border:2px solid #222;background-color:#2c2c2c;visibility:hidden;display:none;color:#f9f9f9;font-family:Consolas,monaco,monospace;font-size:14px;font-weight:500}.captureMenuLogComponent.active{visibility:visible;display:block}.captureMenuLogComponent,.captureMenuLogComponent:after,.captureMenuLogComponent:before{box-sizing:content-box}.captureMenuLogComponent span.error{color:red}.canvasListComponent{float:left;width:50%;height:100%}.canvasListComponent [commandName=onCanvasSelection]{vertical-align:center;line-height:40px;white-space:nowrap;text-overflow:ellipsis;width:190px;display:inline-block;overflow:hidden;margin:0px 5px}.canvasListComponent [commandName=onCanvasSelection]:hover{color:#c9c9c9;cursor:pointer;transition:color .3s;-webkit-transition:color .3s;-moz-transition:color .3s}.canvasListComponent ul{margin:0px;padding:7px;list-style:none;position:absolute;top:54px;left:-2px;width:400px;border:2px solid #222;background-color:#2c2c2c}.canvasListComponent ul li{margin:5px}.canvasListComponent ul li:hover{color:#c9c9c9;cursor:pointer;transition:color .3s;-webkit-transition:color .3s;-moz-transition:color .3s}.captureMenuActionsComponent{float:left;width:30%;height:100%;margin-top:7.5px}.captureMenuActionsComponent div{float:left}.captureMenuActionsComponent [commandName=onCaptureRequested]{border-radius:50%;background:#2c2c2c;border:2px solid red;width:21px;height:21px}.captureMenuActionsComponent [commandName=onCaptureRequested]:hover{background:red;cursor:pointer;transition:background .3s;-webkit-transition:background .3s;-moz-transition:background .3s}.captureMenuActionsComponent [commandName=onPlayRequested],.captureMenuActionsComponent [commandName=onPlayNextFrameRequested]{width:21px;height:21px;border:2px solid #f9f9f9;border-radius:50%;margin-left:9px}.captureMenuActionsComponent [commandName=onPlayRequested]:before,.captureMenuActionsComponent [commandName=onPlayNextFrameRequested]:before{content:"";position:absolute;display:inline-block;margin-top:6px;margin-left:4px;width:7px;height:7px;border-top:2px solid #f9f9f9;border-right:2px solid #f9f9f9;background-color:#f9f9f9;-moz-transform:rotate(45deg);-webkit-transform:rotate(45deg);transform:rotate(45deg);z-index:-20}.captureMenuActionsComponent [commandName=onPlayRequested]:after,.captureMenuActionsComponent [commandName=onPlayNextFrameRequested]:after{content:"";position:absolute;display:inline-block;width:8px;height:20px;background-color:#2c2c2c;z-index:-10}.captureMenuActionsComponent [commandName=onPlayRequested]:hover,.captureMenuActionsComponent [commandName=onPlayNextFrameRequested]:hover{cursor:pointer;border:2px solid #c9c9c9;transition:border .3s;-webkit-transition:border .3s;-moz-transition:border .3s}.captureMenuActionsComponent [commandName=onPauseRequested]{width:21px;height:21px;border:2px solid #f9f9f9;border-radius:50%;margin-left:9px}.captureMenuActionsComponent [commandName=onPauseRequested]:before{content:"";position:absolute;display:inline-block;width:2px;height:13px;margin-left:12px;margin-top:4px;background-color:#f9f9f9}.captureMenuActionsComponent [commandName=onPauseRequested]:after{content:"";position:absolute;display:inline-block;width:2px;height:13px;margin-left:7px;margin-top:4px;background-color:#f9f9f9}.captureMenuActionsComponent [commandName=onPauseRequested]:hover{cursor:pointer;border:2px solid #c9c9c9;transition:border .3s;-webkit-transition:border .3s;-moz-transition:border .3s}.captureMenuActionsComponent [commandName=onPlayNextFrameRequested]:before{background-color:#2c2c2c}.fpsCounterComponent{float:left;width:20%;vertical-align:center;line-height:40px;white-space:nowrap}',""]);const v=h},625:(s,a,o)=>{o.d(a,{Z:()=>v});var l=o(81),c=o.n(l),f=o(645),h=o.n(f)()(c());h.push([s.id,"@import url(https://fonts.googleapis.com/css?family=Montserrat:300,400);"]),h.push([s.id,'.resultViewComponent{position:absolute;z-index:99999;border:1px solid #000;top:0;left:0;bottom:0;right:0;background-color:#222;opacity:1;visibility:hidden;display:none;color:#f9f9f9;font-family:Consolas,monaco,monospace;font-size:14px;font-weight:500}.resultViewComponent.active{visibility:visible;display:block}.resultViewComponent,.resultViewComponent:after,.resultViewComponent:before{box-sizing:content-box}.resultViewMenuComponent{font-family:"Montserrat",sans-serif;font-size:13px;font-weight:300;line-height:40px;flex:1 100%;display:flex;flex-flow:row wrap;height:42px;outline:0 none;border-bottom:2px solid #222;box-sizing:border-box;list-style:none;margin:0;background:#2c2c2c;display:-webkit-box;display:-moz-box;display:-ms-flexbox;display:-webkit-flex;display:flex;-webkit-flex-flow:row wrap;flex-flow:row wrap;justify-content:flex-end}.resultViewMenuComponent .resultViewMenuOpen{display:none;visibility:hidden}.resultViewMenuComponent a{outline:0 none;text-decoration:none;display:block;padding:0 20px 0 20px;color:#ccc;background:#2c2c2c;box-sizing:border-box;height:100%}.resultViewMenuComponent a.active{background:#222;color:#fff;font-weight:400;border-bottom:2px solid #f0640d}.resultViewMenuComponent a:hover{background:#222;color:#c9c9c9;cursor:pointer;transition:color .3s;-webkit-transition:color .3s;-moz-transition:color .3s}.resultViewMenuComponent a:hover.active{color:#f0640d;transition:color 0;-webkit-transition:color 0;-moz-transition:color 0}.resultViewMenuComponent a.clearSearch{padding:0px;margin-left:-30px;margin-right:20px;z-index:9000;color:#f9f9f9}.resultViewMenuComponent a.clearSearch:hover{background:#2c2c2c;color:#f0640d}@media all and (max-width: 1024px){.resultViewMenuComponent{padding:0px;position:absolute;overflow-y:visible;top:0px;left:0px;right:0px;bottom:0px;z-index:999999;display:block}.resultViewMenuComponent .resultViewMenuOpen{display:block;visibility:visible}.resultViewMenuComponent li:not(.resultViewMenuSmall){display:none;visibility:hidden}.resultViewMenuComponent li{background:#2c2c2c}.resultViewMenuComponent li.searchContainer{background:#464646}.resultViewMenuComponent a.active{background:#2c2c2c}}.resultViewMenuComponent input{border:0;font-family:"Montserrat",sans-serif;font-weight:300;padding:0 20px 0 20px;background:#464646;color:#f9f9f9;height:40px;position:relative;top:-1px;box-sizing:border-box}.resultViewMenuComponent input:focus{border:0;outline:0 none}.resultViewMenuComponent .clearSearch{position:relative;background:rgba(0,0,0,0);display:inline;padding:0px;margin-left:-30px;z-index:9000;color:#f0640d}.resultViewMenuComponent .clearSearch:hover{background:rgba(0,0,0,0) !important}.resultViewMenuComponent ::-webkit-input-placeholder{color:#ccc}.resultViewMenuComponent :-moz-placeholder{color:#ccc}.resultViewMenuComponent ::-moz-placeholder{color:#ccc}.resultViewMenuComponent :-ms-input-placeholder{color:#ccc}.resultViewContentComponent{position:absolute;top:40px;left:0;bottom:0;right:0}.informationColumnLeftComponent{position:absolute;top:0;left:0;bottom:0;right:50%;overflow:auto;overflow-x:hidden;overflow-y:visible}.informationColumnRightComponent{position:absolute;top:0;left:50%;bottom:0;right:0;overflow:auto;overflow-x:hidden;overflow-y:visible}.captureListComponent{position:absolute;top:40px;left:0;bottom:0;right:0;background:#222;z-index:9000;display:none;visibility:hidden;overflow-y:visible;overflow-x:hidden}.captureListComponent.active{display:block;visibility:visible}.captureListComponent .openCaptureFile{border:1px dashed #f9f9f9;display:block;margin:5px;padding:5px;text-align:center;font-style:italic}.captureListComponent .openCaptureFile span{line-height:100%;vertical-align:middle}.captureListComponent ul{margin:0px;padding:0px;list-style:none;display:-webkit-box;display:-moz-box;display:-ms-flexbox;display:-webkit-flex;display:flex;-webkit-flex-flow:row wrap;flex-flow:row wrap;justify-content:flex-start}.captureListComponent ul li{margin:5px;border:1px solid #606060}.captureListComponent ul li img{width:295px;background-image:-webkit-gradient(linear, 0 100%, 100% 0, color-stop(0.25, #c9c9c9), color-stop(0.25, transparent)),-webkit-gradient(linear, 0 0, 100% 100%, color-stop(0.25, #c9c9c9), color-stop(0.25, transparent)),-webkit-gradient(linear, 0 100%, 100% 0, color-stop(0.75, transparent), color-stop(0.75, #c9c9c9)),-webkit-gradient(linear, 0 0, 100% 100%, color-stop(0.75, transparent), color-stop(0.75, #c9c9c9));background-image:-moz-linear-gradient(45deg, #d9d9d9 25%, transparent 25%),-moz-linear-gradient(-45deg, #d9d9d9 25%, transparent 25%),-moz-linear-gradient(45deg, transparent 75%, #d9d9d9 75%),-moz-linear-gradient(-45deg, transparent 75%, #d9d9d9 75%);-webkit-background-size:50px 51px;-moz-background-size:50px 50px;background-size:50px 50px;background-position:0 0,25px 0,25px -25px,0px 25px;display:block}.captureListComponent ul li span{display:block;text-align:center;border:5px solid #222}.captureListComponent ul li span .captureListItemSave{color:#f9f9f9;font-size:16px;margin-left:10px;position:relative;padding:3px 8px 3px 32px}.captureListComponent ul li span .captureListItemSave:before,.captureListComponent ul li span .captureListItemSave:after{box-sizing:border-box;content:"";position:absolute}.captureListComponent ul li span .captureListItemSave:before{background:#d9d9d9;border-color:#f9f9f9;border-style:solid;border-width:7px 2px 1px;border-radius:1px;height:16px;left:8px;top:5px;width:16px}.captureListComponent ul li span .captureListItemSave:after{background:#f9f9f9;border-color:#d9d9d9;border-style:solid;border-width:1px 1px 1px 4px;height:5px;left:13px;top:5px;width:7px}.captureListComponent ul li:hover{cursor:pointer}.captureListComponent ul li.active span{background:#f0640d;border:5px solid #f0640d}.captureListComponent ul li.active span .captureListItemSave:before{background:#f0640d}.captureListComponent ul li.active span .captureListItemSave:after{border-color:#f0640d}.visualStateListComponent{position:absolute;top:0;left:0;bottom:0;padding:5px;right:80%;overflow-y:visible;overflow-x:hidden}.visualStateListComponent ul{margin:0px;padding:0px;list-style:none}.visualStateListComponent ul li{margin:20px 15px 0px 15px;border:1px solid #606060}.visualStateListComponent ul li img{display:block;padding:0px;box-sizing:border-box;max-height:600px;width:100%;margin:0 auto;background-image:-webkit-gradient(linear, 0 100%, 100% 0, color-stop(0.25, #c9c9c9), color-stop(0.25, transparent)),-webkit-gradient(linear, 0 0, 100% 100%, color-stop(0.25, #c9c9c9), color-stop(0.25, transparent)),-webkit-gradient(linear, 0 100%, 100% 0, color-stop(0.75, transparent), color-stop(0.75, #c9c9c9)),-webkit-gradient(linear, 0 0, 100% 100%, color-stop(0.75, transparent), color-stop(0.75, #c9c9c9));background-image:-moz-linear-gradient(45deg, #d9d9d9 25%, transparent 25%),-moz-linear-gradient(-45deg, #d9d9d9 25%, transparent 25%),-moz-linear-gradient(45deg, transparent 75%, #d9d9d9 75%),-moz-linear-gradient(-45deg, transparent 75%, #d9d9d9 75%);-webkit-background-size:50px 51px;-moz-background-size:50px 50px;background-size:50px 50px;background-position:0 0,25px 0,25px -25px,0px 25px}.visualStateListComponent ul li:hover{cursor:pointer}.visualStateListComponent ul li span{border:5px solid #222;background:#222;box-sizing:border-box;display:inline-block;width:100%;margin:0px;padding:5px;word-wrap:break-word}.visualStateListComponent ul li.active{border:2px solid #f0640d}.commandListComponent{position:absolute;top:0;left:20%;right:40%;bottom:0;color:#d3d3d3}.commandListComponent ul{margin:0px;padding:0px;list-style:none;overflow-y:visible;overflow-x:hidden;height:100%}.commandListComponent ul li{padding:8px}.commandListComponent ul li span{word-wrap:break-word;line-height:22px}.commandListComponent ul li:hover{color:#f9f9f9;cursor:pointer;transition:color .3s;-webkit-transition:color .3s;-moz-transition:color .3s}.commandListComponent ul li:nth-child(even){background:#2c2c2c}.commandListComponent ul li:nth-child(odd){background:#222}.commandListComponent ul li .important{font-weight:800}.commandListComponent ul li .important.deprecated{color:red}.commandListComponent ul li .important.unused{color:#ff0}.commandListComponent ul li .important.disabled{color:gray}.commandListComponent ul li .important.redundant{color:orange}.commandListComponent ul li .important.valid{color:#adff2f}.commandListComponent ul li .marker{font-size:16px;font-weight:900;color:#adff2f}.commandListComponent ul li.active{background:#f37628;color:#222}.commandListComponent ul li.drawCall{background:#5db0d7;color:#222}.commandListComponent ul li a{margin-left:5px;margin-right:5px;color:#5db0d7;background:#222;padding:5px;font-weight:900;display:inline-block}.commandDetailComponent{position:absolute;top:0;left:60%;right:0;bottom:0;overflow-y:visible;overflow-x:hidden}.jsonGroupComponent{display:block;margin:10px;padding:10px;padding-bottom:5px}.jsonGroupComponent .jsonGroupComponentTitle{display:block;font-size:16px;color:#5db0d7;border-bottom:1px solid #5db0d7;padding-bottom:5px;margin-bottom:5px;text-transform:capitalize}.jsonGroupComponent ul{margin:0px;padding:0px;list-style:none}.jsonGroupComponent ul li:nth-child(even){background:#222}.jsonGroupComponent ul li:nth-child(odd){background:#222}.jsonItemComponentKey{color:#f0640d}.jsonItemComponentValue{white-space:pre-wrap}.jsonItemImageHolder{width:50%;margin:auto}.jsonItemImageHolder .jsonItemImage{margin:5px;display:block;border:1px solid #606060;width:100%}.jsonItemImageHolder .jsonItemImage img{width:100%;display:block;margin:auto;max-width:256px;background-image:-webkit-gradient(linear, 0 100%, 100% 0, color-stop(0.25, #c9c9c9), color-stop(0.25, transparent)),-webkit-gradient(linear, 0 0, 100% 100%, color-stop(0.25, #c9c9c9), color-stop(0.25, transparent)),-webkit-gradient(linear, 0 100%, 100% 0, color-stop(0.75, transparent), color-stop(0.75, #c9c9c9)),-webkit-gradient(linear, 0 0, 100% 100%, color-stop(0.75, transparent), color-stop(0.75, #c9c9c9));background-image:-moz-linear-gradient(45deg, #d9d9d9 25%, transparent 25%),-moz-linear-gradient(-45deg, #d9d9d9 25%, transparent 25%),-moz-linear-gradient(45deg, transparent 75%, #d9d9d9 75%),-moz-linear-gradient(-45deg, transparent 75%, #d9d9d9 75%);-webkit-background-size:50px 51px;-moz-background-size:50px 50px;background-size:50px 50px;background-position:0 0,25px 0,25px -25px,0px 25px}.jsonItemImageHolder .jsonItemImage span{margin:0px;padding:5px;word-wrap:break-word;display:inline-block;width:100%;box-sizing:border-box}[commandName=onOpenSourceClicked]:hover{color:#f9f9f9;cursor:pointer;transition:color .3s;-webkit-transition:color .3s;-moz-transition:color .3s}.jsonVisualStateItemComponent{text-align:center;padding:10px}.jsonVisualStateItemComponent img{background-image:-webkit-gradient(linear, 0 100%, 100% 0, color-stop(0.25, #c9c9c9), color-stop(0.25, transparent)),-webkit-gradient(linear, 0 0, 100% 100%, color-stop(0.25, #c9c9c9), color-stop(0.25, transparent)),-webkit-gradient(linear, 0 100%, 100% 0, color-stop(0.75, transparent), color-stop(0.75, #c9c9c9)),-webkit-gradient(linear, 0 0, 100% 100%, color-stop(0.75, transparent), color-stop(0.75, #c9c9c9));background-image:-moz-linear-gradient(45deg, #d9d9d9 25%, transparent 25%),-moz-linear-gradient(-45deg, #d9d9d9 25%, transparent 25%),-moz-linear-gradient(45deg, transparent 75%, #d9d9d9 75%),-moz-linear-gradient(-45deg, transparent 75%, #d9d9d9 75%);-webkit-background-size:50px 51px;-moz-background-size:50px 50px;background-size:50px 50px;background-position:0 0,25px 0,25px -25px,0px 25px;border:1px solid #606060;margin:5px;width:100%;max-width:512px;max-height:800px}.jsonVisualStateItemComponent span{display:block}.jsonContentComponent{position:absolute;top:0;left:0;right:0;bottom:0;padding:10px;overflow-y:visible;overflow-x:hidden}.jsonItemComponentValue{word-break:break-all;white-space:normal}.jsonSourceItemComponentOpen{font-weight:bold;color:#5db0d7;text-decoration:underline}.sourceCodeMenuComponentContainer{position:absolute;left:0;top:0;bottom:48px;right:40%}.sourceCodeMenuComponentFooter{position:absolute;left:0;right:40%;bottom:0;padding:0 15px}.sourceCodeMenuComponent{font-family:"Montserrat",sans-serif;font-size:13px;font-weight:300;line-height:40px;flex:1 100%;display:flex;flex-flow:row wrap;height:42px;outline:0 none;border-bottom:2px solid #222;box-sizing:border-box;list-style:none;margin:0;background:#2c2c2c;display:-webkit-box;display:-moz-box;display:-ms-flexbox;display:-webkit-flex;display:flex;-webkit-flex-flow:row wrap;flex-flow:row wrap;justify-content:flex-end}.sourceCodeMenuComponent .resultViewMenuOpen{display:none;visibility:hidden}.sourceCodeMenuComponent a{outline:0 none;text-decoration:none;display:block;padding:0 20px 0 20px;color:#ccc;background:#2c2c2c;box-sizing:border-box;height:100%}.sourceCodeMenuComponent a.active{background:#222;color:#fff;font-weight:400;border-bottom:2px solid #f0640d}.sourceCodeMenuComponent a:hover{background:#222;color:#c9c9c9;cursor:pointer;transition:color .3s;-webkit-transition:color .3s;-moz-transition:color .3s}.sourceCodeMenuComponent a:hover.active{color:#f0640d;transition:color 0;-webkit-transition:color 0;-moz-transition:color 0}.sourceCodeMenuComponent a.clearSearch{display:inline-block;padding:0px;margin-left:-30px;margin-right:20px;z-index:9000;color:#f9f9f9}.sourceCodeMenuComponent a.clearSearch:hover{background:#2c2c2c;color:#f0640d}.sourceCodeMenuComponent input{border:0;font-family:"Montserrat",sans-serif;font-weight:300;padding:0 20px 0 20px;background:#464646;color:#f9f9f9;height:100%;position:relative;top:-1px;box-sizing:border-box}.sourceCodeMenuComponent input:focus{border:0;outline:0 none}.sourceCodeMenuComponent .clearSearch{position:relative;background:rgba(0,0,0,0);display:inline;padding:0px;margin-left:-30px;z-index:9000;color:#f0640d}.sourceCodeMenuComponent .clearSearch:hover{background:rgba(0,0,0,0) !important}.sourceCodeMenuComponent ::-webkit-input-placeholder{color:#ccc}.sourceCodeMenuComponent :-moz-placeholder{color:#ccc}.sourceCodeMenuComponent ::-moz-placeholder{color:#ccc}.sourceCodeMenuComponent :-ms-input-placeholder{color:#ccc}.sourceCodeComponent{position:absolute;top:42px;left:0;bottom:48px;right:40%;background:#222;z-index:9000;overflow-x:visible;overflow:auto}.sourceCodeComponent .sourceCodeComponentTitle{font-size:16px;font-weight:800;line-height:50px;color:#f0640d;padding:1em;margin:.5em 0}',""]);const v=h},827:(s,a,o)=>{o.d(a,{Z:()=>v});var l=o(81),c=o.n(l),f=o(645),h=o.n(f)()(c());h.push([s.id,`.ace-monokai {\r
    color: #f9f9f9;\r
    font-size: 14px;\r
}\r
\r
.ace-monokai .ace_entity.ace_name.ace_tag,\r
.ace-monokai .ace_keyword,\r
.ace-monokai .ace_meta.ace_tag,\r
.ace-monokai .ace_storage {\r
    color: #F0640D\r
}\r
\r
.ace-monokai .ace_constant.ace_character,\r
.ace-monokai .ace_constant.ace_other {\r
    color: #5db0d7;\r
}\r
\r
.ace-monokai .ace_marker-layer .ace_selection {\r
    background: #a6e22e\r
}\r
\r
.ace-monokai .ace_marker-layer .ace_bracket {\r
    margin: -1px 0 0 -1px;\r
    border: 1px solid #a6e22e;\r
}\r
\r
.ace-monokai .ace_marker-layer .ace_active-line {\r
    background: #2c2c2c\r
}\r
.ace-monokai .ace_gutter-active-line {\r
    background-color: #2c2c2c\r
}\r
.ace-monokai .ace_marker-layer .ace_selected-word {\r
    border: 1px solid #a6e22e\r
}\r
\r
.ace-monokai .ace_constant.ace_language {\r
    color: #e6db74\r
}\r
.ace-monokai .ace_constant.ace_numeric {\r
    color: #ae81ff\r
}\r
\r
.ace-monokai .ace_gutter {\r
    background: #222;\r
    color: #8F908A;\r
}`,""]);const v=h},645:s=>{s.exports=function(a){var o=[];return o.toString=function(){return this.map((function(l){var c="",f=l[5]!==void 0;return l[4]&&(c+="@supports (".concat(l[4],") {")),l[2]&&(c+="@media ".concat(l[2]," {")),f&&(c+="@layer".concat(l[5].length>0?" ".concat(l[5]):""," {")),c+=a(l),f&&(c+="}"),l[2]&&(c+="}"),l[4]&&(c+="}"),c})).join("")},o.i=function(l,c,f,h,v){typeof l=="string"&&(l=[[null,l,void 0]]);var m={};if(f)for(var _=0;_<this.length;_++){var g=this[_][0];g!=null&&(m[g]=!0)}for(var y=0;y<l.length;y++){var u=[].concat(l[y]);f&&m[u[0]]||(v!==void 0&&(u[5]===void 0||(u[1]="@layer".concat(u[5].length>0?" ".concat(u[5]):""," {").concat(u[1],"}")),u[5]=v),c&&(u[2]&&(u[1]="@media ".concat(u[2]," {").concat(u[1],"}")),u[2]=c),h&&(u[4]?(u[1]="@supports (".concat(u[4],") {").concat(u[1],"}"),u[4]=h):u[4]="".concat(h)),o.push(u))}},o}},81:s=>{s.exports=function(a){return a[1]}},819:(s,a,o)=>{s=o.nmd(s),(function(){var l=(function(){return this})();l||typeof window>"u"||(l=window);var c=function(g,y,u){typeof g=="string"?(arguments.length==2&&(u=y),c.modules[g]||(c.payloads[g]=u,c.modules[g]=null)):c.original?c.original.apply(this,arguments):(console.error("dropping module because define wasn't a string."),console.trace())};c.modules={},c.payloads={};var f,h=function(g,y,u){if(typeof y=="string"){var b=_(g,y);if(b!=null)return u&&u(),b}else if(Object.prototype.toString.call(y)==="[object Array]"){for(var S=[],T=0,R=y.length;T<R;++T){var O=_(g,y[T]);if(O==null&&v.original)return;S.push(O)}return u&&u.apply(null,S)||!0}},v=function(g,y){var u=h("",g,y);return u==null&&v.original?v.original.apply(this,arguments):u},m=function(g,y){if(y.indexOf("!")!==-1){var u=y.split("!");return m(g,u[0])+"!"+m(g,u[1])}if(y.charAt(0)==".")for(y=g.split("/").slice(0,-1).join("/")+"/"+y;y.indexOf(".")!==-1&&b!=y;){var b=y;y=y.replace(/\/\.\//,"/").replace(/[^\/]+\/\.\.\//,"")}return y},_=function(g,y){y=m(g,y);var u=c.modules[y];if(!u){if(typeof(u=c.payloads[y])=="function"){var b={},S={id:y,uri:"",exports:b,packaged:!0};b=u((function(T,R){return h(y,T,R)}),b,S)||S.exports,c.modules[y]=b,delete c.payloads[y]}u=c.modules[y]=b||u}return u};f=l,l.ace||(l.ace={}),f=l.ace,f.define&&f.define.packaged||(c.original=f.define,f.define=c,f.define.packaged=!0),f.require&&f.require.packaged||(v.original=f.require,f.require=v,f.require.packaged=!0)})(),ace.define("ace/lib/regexp",["require","exports","module"],(function(l,c,f){var h,v={exec:RegExp.prototype.exec,test:RegExp.prototype.test,replace:String.prototype.replace},m=v.exec.call(/()??/,"")[1]===void 0,_=(h=/^/g,v.test.call(h,""),!h.lastIndex);function g(u){return(u.global?"g":"")+(u.ignoreCase?"i":"")+(u.multiline?"m":"")+(u.extended?"x":"")+(u.sticky?"y":"")}function y(u,b,S){if(Array.prototype.indexOf)return u.indexOf(b,S);for(var T=0;T<u.length;T++)if(u[T]===b)return T;return-1}_&&m||(RegExp.prototype.exec=function(u){var b,S,T=v.exec.apply(this,arguments);if(typeof u=="string"&&T){if(!m&&T.length>1&&y(T,"")>-1&&(S=RegExp(this.source,v.replace.call(g(this),"g","")),v.replace.call(u.slice(T.index),S,(function(){for(var O=1;O<arguments.length-2;O++)arguments[O]===void 0&&(T[O]=void 0)}))),this._xregexp&&this._xregexp.captureNames)for(var R=1;R<T.length;R++)(b=this._xregexp.captureNames[R-1])&&(T[b]=T[R]);!_&&this.global&&!T[0].length&&this.lastIndex>T.index&&this.lastIndex--}return T},_||(RegExp.prototype.test=function(u){var b=v.exec.call(this,u);return b&&this.global&&!b[0].length&&this.lastIndex>b.index&&this.lastIndex--,!!b}))})),ace.define("ace/lib/es5-shim",["require","exports","module"],(function(l,c,f){function h(){}Function.prototype.bind||(Function.prototype.bind=function(ae){var ve=this;if(typeof ve!="function")throw new TypeError("Function.prototype.bind called on incompatible "+ve);var _e=T.call(arguments,1),Te=function(){if(this instanceof Te){var Fe=ve.apply(this,_e.concat(T.call(arguments)));return Object(Fe)===Fe?Fe:this}return ve.apply(ae,_e.concat(T.call(arguments)))};return ve.prototype&&(h.prototype=ve.prototype,Te.prototype=new h,h.prototype=null),Te});var v,m,_,g,y,u=Function.prototype.call,b=Array.prototype,S=Object.prototype,T=b.slice,R=u.bind(S.toString),O=u.bind(S.hasOwnProperty);if((y=O(S,"__defineGetter__"))&&(v=u.bind(S.__defineGetter__),m=u.bind(S.__defineSetter__),_=u.bind(S.__lookupGetter__),g=u.bind(S.__lookupSetter__)),[1,2].splice(0).length!=2)if((function(){function ae(Te){var Fe=new Array(Te+2);return Fe[0]=Fe[1]=0,Fe}var ve,_e=[];if(_e.splice.apply(_e,ae(20)),_e.splice.apply(_e,ae(26)),ve=_e.length,_e.splice(5,0,"XXX"),ve+1==_e.length)return!0})()){var C=Array.prototype.splice;Array.prototype.splice=function(ae,ve){return arguments.length?C.apply(this,[ae===void 0?0:ae,ve===void 0?this.length-ae:ve].concat(T.call(arguments,2))):[]}}else Array.prototype.splice=function(ae,ve){var _e=this.length;ae>0?ae>_e&&(ae=_e):ae==null?ae=0:ae<0&&(ae=Math.max(_e+ae,0)),ae+ve<_e||(ve=_e-ae);var Te=this.slice(ae,ae+ve),Fe=T.call(arguments,2),We=Fe.length;if(ae===_e)We&&this.push.apply(this,Fe);else{var ht=Math.min(ve,_e-ae),ft=ae+ht,Bt=ft+We-ht,Me=_e-ft,yt=_e-ht;if(Bt<ft)for(var mt=0;mt<Me;++mt)this[Bt+mt]=this[ft+mt];else if(Bt>ft)for(mt=Me;mt--;)this[Bt+mt]=this[ft+mt];if(We&&ae===yt)this.length=yt,this.push.apply(this,Fe);else for(this.length=yt+We,mt=0;mt<We;++mt)this[ae+mt]=Fe[mt]}return Te};Array.isArray||(Array.isArray=function(ae){return R(ae)=="[object Array]"});var I,F,M=Object("a"),D=M[0]!="a"||!(0 in M);function B(ae){try{return Object.defineProperty(ae,"sentinel",{}),"sentinel"in ae}catch{}}if(Array.prototype.forEach||(Array.prototype.forEach=function(ae){var ve=ce(this),_e=D&&R(this)=="[object String]"?this.split(""):ve,Te=arguments[1],Fe=-1,We=_e.length>>>0;if(R(ae)!="[object Function]")throw new TypeError;for(;++Fe<We;)Fe in _e&&ae.call(Te,_e[Fe],Fe,ve)}),Array.prototype.map||(Array.prototype.map=function(ae){var ve=ce(this),_e=D&&R(this)=="[object String]"?this.split(""):ve,Te=_e.length>>>0,Fe=Array(Te),We=arguments[1];if(R(ae)!="[object Function]")throw new TypeError(ae+" is not a function");for(var ht=0;ht<Te;ht++)ht in _e&&(Fe[ht]=ae.call(We,_e[ht],ht,ve));return Fe}),Array.prototype.filter||(Array.prototype.filter=function(ae){var ve,_e=ce(this),Te=D&&R(this)=="[object String]"?this.split(""):_e,Fe=Te.length>>>0,We=[],ht=arguments[1];if(R(ae)!="[object Function]")throw new TypeError(ae+" is not a function");for(var ft=0;ft<Fe;ft++)ft in Te&&(ve=Te[ft],ae.call(ht,ve,ft,_e)&&We.push(ve));return We}),Array.prototype.every||(Array.prototype.every=function(ae){var ve=ce(this),_e=D&&R(this)=="[object String]"?this.split(""):ve,Te=_e.length>>>0,Fe=arguments[1];if(R(ae)!="[object Function]")throw new TypeError(ae+" is not a function");for(var We=0;We<Te;We++)if(We in _e&&!ae.call(Fe,_e[We],We,ve))return!1;return!0}),Array.prototype.some||(Array.prototype.some=function(ae){var ve=ce(this),_e=D&&R(this)=="[object String]"?this.split(""):ve,Te=_e.length>>>0,Fe=arguments[1];if(R(ae)!="[object Function]")throw new TypeError(ae+" is not a function");for(var We=0;We<Te;We++)if(We in _e&&ae.call(Fe,_e[We],We,ve))return!0;return!1}),Array.prototype.reduce||(Array.prototype.reduce=function(ae){var ve=ce(this),_e=D&&R(this)=="[object String]"?this.split(""):ve,Te=_e.length>>>0;if(R(ae)!="[object Function]")throw new TypeError(ae+" is not a function");if(!Te&&arguments.length==1)throw new TypeError("reduce of empty array with no initial value");var Fe,We=0;if(arguments.length>=2)Fe=arguments[1];else for(;;){if(We in _e){Fe=_e[We++];break}if(++We>=Te)throw new TypeError("reduce of empty array with no initial value")}for(;We<Te;We++)We in _e&&(Fe=ae.call(void 0,Fe,_e[We],We,ve));return Fe}),Array.prototype.reduceRight||(Array.prototype.reduceRight=function(ae){var ve=ce(this),_e=D&&R(this)=="[object String]"?this.split(""):ve,Te=_e.length>>>0;if(R(ae)!="[object Function]")throw new TypeError(ae+" is not a function");if(!Te&&arguments.length==1)throw new TypeError("reduceRight of empty array with no initial value");var Fe,We=Te-1;if(arguments.length>=2)Fe=arguments[1];else for(;;){if(We in _e){Fe=_e[We--];break}if(--We<0)throw new TypeError("reduceRight of empty array with no initial value")}do We in this&&(Fe=ae.call(void 0,Fe,_e[We],We,ve));while(We--);return Fe}),Array.prototype.indexOf&&[0,1].indexOf(1,2)==-1||(Array.prototype.indexOf=function(ae){var ve=D&&R(this)=="[object String]"?this.split(""):ce(this),_e=ve.length>>>0;if(!_e)return-1;var Te=0;for(arguments.length>1&&(Te=fe(arguments[1])),Te=Te>=0?Te:Math.max(0,_e+Te);Te<_e;Te++)if(Te in ve&&ve[Te]===ae)return Te;return-1}),Array.prototype.lastIndexOf&&[0,1].lastIndexOf(0,-3)==-1||(Array.prototype.lastIndexOf=function(ae){var ve=D&&R(this)=="[object String]"?this.split(""):ce(this),_e=ve.length>>>0;if(!_e)return-1;var Te=_e-1;for(arguments.length>1&&(Te=Math.min(Te,fe(arguments[1]))),Te=Te>=0?Te:_e-Math.abs(Te);Te>=0;Te--)if(Te in ve&&ae===ve[Te])return Te;return-1}),Object.getPrototypeOf||(Object.getPrototypeOf=function(ae){return ae.__proto__||(ae.constructor?ae.constructor.prototype:S)}),Object.getOwnPropertyDescriptor||(Object.getOwnPropertyDescriptor=function(ae,ve){if(typeof ae!="object"&&typeof ae!="function"||ae===null)throw new TypeError("Object.getOwnPropertyDescriptor called on a non-object: "+ae);if(O(ae,ve)){var _e;if(_e={enumerable:!0,configurable:!0},y){var Te=ae.__proto__;ae.__proto__=S;var Fe=_(ae,ve),We=g(ae,ve);if(ae.__proto__=Te,Fe||We)return Fe&&(_e.get=Fe),We&&(_e.set=We),_e}return _e.value=ae[ve],_e}}),Object.getOwnPropertyNames||(Object.getOwnPropertyNames=function(ae){return Object.keys(ae)}),Object.create||(I=Object.prototype.__proto__===null?function(){return{__proto__:null}}:function(){var ae={};for(var ve in ae)ae[ve]=null;return ae.constructor=ae.hasOwnProperty=ae.propertyIsEnumerable=ae.isPrototypeOf=ae.toLocaleString=ae.toString=ae.valueOf=ae.__proto__=null,ae},Object.create=function(ae,ve){var _e;if(ae===null)_e=I();else{if(typeof ae!="object")throw new TypeError("typeof prototype["+typeof ae+"] != 'object'");var Te=function(){};Te.prototype=ae,(_e=new Te).__proto__=ae}return ve!==void 0&&Object.defineProperties(_e,ve),_e}),Object.defineProperty){var j=B({}),U=typeof document>"u"||B(document.createElement("div"));if(!j||!U)var V=Object.defineProperty}Object.defineProperty&&!V||(Object.defineProperty=function(ae,ve,_e){if(typeof ae!="object"&&typeof ae!="function"||ae===null)throw new TypeError("Object.defineProperty called on non-object: "+ae);if(typeof _e!="object"&&typeof _e!="function"||_e===null)throw new TypeError("Property description must be an object: "+_e);if(V)try{return V.call(Object,ae,ve,_e)}catch{}if(O(_e,"value"))if(y&&(_(ae,ve)||g(ae,ve))){var Te=ae.__proto__;ae.__proto__=S,delete ae[ve],ae[ve]=_e.value,ae.__proto__=Te}else ae[ve]=_e.value;else{if(!y)throw new TypeError("getters & setters can not be defined on this javascript engine");O(_e,"get")&&v(ae,ve,_e.get),O(_e,"set")&&m(ae,ve,_e.set)}return ae}),Object.defineProperties||(Object.defineProperties=function(ae,ve){for(var _e in ve)O(ve,_e)&&Object.defineProperty(ae,_e,ve[_e]);return ae}),Object.seal||(Object.seal=function(ae){return ae}),Object.freeze||(Object.freeze=function(ae){return ae});try{Object.freeze((function(){}))}catch{Object.freeze=(F=Object.freeze,function(ve){return typeof ve=="function"?ve:F(ve)})}if(Object.preventExtensions||(Object.preventExtensions=function(ae){return ae}),Object.isSealed||(Object.isSealed=function(ae){return!1}),Object.isFrozen||(Object.isFrozen=function(ae){return!1}),Object.isExtensible||(Object.isExtensible=function(ae){if(Object(ae)===ae)throw new TypeError;for(var ve="";O(ae,ve);)ve+="?";ae[ve]=!0;var _e=O(ae,ve);return delete ae[ve],_e}),!Object.keys){var k=!0,Z=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],ee=Z.length;for(var oe in{toString:null})k=!1;Object.keys=function(ae){if(typeof ae!="object"&&typeof ae!="function"||ae===null)throw new TypeError("Object.keys called on a non-object");var ve=[];for(var _e in ae)O(ae,_e)&&ve.push(_e);if(k)for(var Te=0,Fe=ee;Te<Fe;Te++){var We=Z[Te];O(ae,We)&&ve.push(We)}return ve}}Date.now||(Date.now=function(){return new Date().getTime()});var ne=`	
\v\f\r Â áââââââââââââ¯âã\u2028\u2029\uFEFF`;if(!String.prototype.trim){ne="["+ne+"]";var ie=new RegExp("^"+ne+ne+"*"),he=new RegExp(ne+ne+"*$");String.prototype.trim=function(){return String(this).replace(ie,"").replace(he,"")}}function fe(ae){return(ae=+ae)!=ae?ae=0:ae!==0&&ae!==1/0&&ae!==-1/0&&(ae=(ae>0||-1)*Math.floor(Math.abs(ae))),ae}var ce=function(ae){if(ae==null)throw new TypeError("can't convert "+ae+" to object");return Object(ae)}})),ace.define("ace/lib/fixoldbrowsers",["require","exports","module","ace/lib/regexp","ace/lib/es5-shim"],(function(l,c,f){l("./regexp"),l("./es5-shim"),typeof Element>"u"||Element.prototype.remove||Object.defineProperty(Element.prototype,"remove",{enumerable:!1,writable:!0,configurable:!0,value:function(){this.parentNode&&this.parentNode.removeChild(this)}})})),ace.define("ace/lib/useragent",["require","exports","module"],(function(l,c,f){c.OS={LINUX:"LINUX",MAC:"MAC",WINDOWS:"WINDOWS"},c.getOS=function(){return c.isMac?c.OS.MAC:c.isLinux?c.OS.LINUX:c.OS.WINDOWS};var h=typeof navigator=="object"?navigator:{},v=(/mac|win|linux/i.exec(h.platform)||["other"])[0].toLowerCase(),m=h.userAgent||"",_=h.appName||"";c.isWin=v=="win",c.isMac=v=="mac",c.isLinux=v=="linux",c.isIE=_=="Microsoft Internet Explorer"||_.indexOf("MSAppHost")>=0?parseFloat((m.match(/(?:MSIE |Trident\/[0-9]+[\.0-9]+;.*rv:)([0-9]+[\.0-9]+)/)||[])[1]):parseFloat((m.match(/(?:Trident\/[0-9]+[\.0-9]+;.*rv:)([0-9]+[\.0-9]+)/)||[])[1]),c.isOldIE=c.isIE&&c.isIE<9,c.isGecko=c.isMozilla=m.match(/ Gecko\/\d+/),c.isOpera=typeof opera=="object"&&Object.prototype.toString.call(window.opera)=="[object Opera]",c.isWebKit=parseFloat(m.split("WebKit/")[1])||void 0,c.isChrome=parseFloat(m.split(" Chrome/")[1])||void 0,c.isEdge=parseFloat(m.split(" Edge/")[1])||void 0,c.isAIR=m.indexOf("AdobeAIR")>=0,c.isAndroid=m.indexOf("Android")>=0,c.isChromeOS=m.indexOf(" CrOS ")>=0,c.isIOS=/iPad|iPhone|iPod/.test(m)&&!window.MSStream,c.isIOS&&(c.isMac=!0),c.isMobile=c.isIOS||c.isAndroid})),ace.define("ace/lib/dom",["require","exports","module","ace/lib/useragent"],(function(l,c,f){var h=l("./useragent");if(c.buildDom=function m(_,g,y){if(typeof _=="string"&&_){var u=document.createTextNode(_);return g&&g.appendChild(u),u}if(!Array.isArray(_))return _;if(typeof _[0]!="string"||!_[0]){for(var b=[],S=0;S<_.length;S++){var T=m(_[S],g,y);T&&b.push(T)}return b}var R=document.createElement(_[0]),O=_[1],C=1;for(O&&typeof O=="object"&&!Array.isArray(O)&&(C=2),S=C;S<_.length;S++)m(_[S],R,y);return C==2&&Object.keys(O).forEach((function(I){var F=O[I];I==="class"?R.className=Array.isArray(F)?F.join(" "):F:typeof F=="function"||I=="value"?R[I]=F:I==="ref"?y&&(y[F]=R):F!=null&&R.setAttribute(I,F)})),g&&g.appendChild(R),R},c.getDocumentHead=function(m){return m||(m=document),m.head||m.getElementsByTagName("head")[0]||m.documentElement},c.createElement=function(m,_){return document.createElementNS?document.createElementNS(_||"http://www.w3.org/1999/xhtml",m):document.createElement(m)},c.removeChildren=function(m){m.innerHTML=""},c.createTextNode=function(m,_){return(_?_.ownerDocument:document).createTextNode(m)},c.createFragment=function(m){return(m?m.ownerDocument:document).createDocumentFragment()},c.hasCssClass=function(m,_){return(m.className+"").split(/\s+/g).indexOf(_)!==-1},c.addCssClass=function(m,_){c.hasCssClass(m,_)||(m.className+=" "+_)},c.removeCssClass=function(m,_){for(var g=m.className.split(/\s+/g);;){var y=g.indexOf(_);if(y==-1)break;g.splice(y,1)}m.className=g.join(" ")},c.toggleCssClass=function(m,_){for(var g=m.className.split(/\s+/g),y=!0;;){var u=g.indexOf(_);if(u==-1)break;y=!1,g.splice(u,1)}return y&&g.push(_),m.className=g.join(" "),y},c.setCssClass=function(m,_,g){g?c.addCssClass(m,_):c.removeCssClass(m,_)},c.hasCssString=function(m,_){var g,y=0;if(g=(_=_||document).querySelectorAll("style")){for(;y<g.length;)if(g[y++].id===m)return!0}},c.importCssString=function(m,_,g){var y=g;g&&g.getRootNode&&(y=g.getRootNode())&&y!=g||(y=document);var u=y.ownerDocument||y;if(_&&c.hasCssString(_,y))return null;_&&(m+=`
/*# sourceURL=ace/css/`+_+" */");var b=c.createElement("style");b.appendChild(u.createTextNode(m)),_&&(b.id=_),y==u&&(y=c.getDocumentHead(u)),y.insertBefore(b,y.firstChild)},c.importCssStylsheet=function(m,_){c.buildDom(["link",{rel:"stylesheet",href:m}],c.getDocumentHead(_))},c.scrollbarWidth=function(m){var _=c.createElement("ace_inner");_.style.width="100%",_.style.minWidth="0px",_.style.height="200px",_.style.display="block";var g=c.createElement("ace_outer"),y=g.style;y.position="absolute",y.left="-10000px",y.overflow="hidden",y.width="200px",y.minWidth="0px",y.height="150px",y.display="block",g.appendChild(_);var u=m.documentElement;u.appendChild(g);var b=_.offsetWidth;y.overflow="scroll";var S=_.offsetWidth;return b==S&&(S=g.clientWidth),u.removeChild(g),b-S},typeof document>"u"&&(c.importCssString=function(){}),c.computedStyle=function(m,_){return window.getComputedStyle(m,"")||{}},c.setStyle=function(m,_,g){m[_]!==g&&(m[_]=g)},c.HAS_CSS_ANIMATION=!1,c.HAS_CSS_TRANSFORMS=!1,c.HI_DPI=!h.isWin||typeof window<"u"&&window.devicePixelRatio>=1.5,typeof document<"u"){var v=document.createElement("div");c.HI_DPI&&v.style.transform!==void 0&&(c.HAS_CSS_TRANSFORMS=!0),h.isEdge||v.style.animationName===void 0||(c.HAS_CSS_ANIMATION=!0),v=null}c.HAS_CSS_TRANSFORMS?c.translate=function(m,_,g){m.style.transform="translate("+Math.round(_)+"px, "+Math.round(g)+"px)"}:c.translate=function(m,_,g){m.style.top=Math.round(g)+"px",m.style.left=Math.round(_)+"px"}})),ace.define("ace/lib/oop",["require","exports","module"],(function(l,c,f){c.inherits=function(h,v){h.super_=v,h.prototype=Object.create(v.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}})},c.mixin=function(h,v){for(var m in v)h[m]=v[m];return h},c.implement=function(h,v){c.mixin(h,v)}})),ace.define("ace/lib/keys",["require","exports","module","ace/lib/oop"],(function(l,c,f){var h=l("./oop"),v=(function(){var m,_,g={MODIFIER_KEYS:{16:"Shift",17:"Ctrl",18:"Alt",224:"Meta",91:"MetaLeft",92:"MetaRight",93:"ContextMenu"},KEY_MODS:{ctrl:1,alt:2,option:2,shift:4,super:8,meta:8,command:8,cmd:8},FUNCTION_KEYS:{8:"Backspace",9:"Tab",13:"Return",19:"Pause",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"Print",45:"Insert",46:"Delete",96:"Numpad0",97:"Numpad1",98:"Numpad2",99:"Numpad3",100:"Numpad4",101:"Numpad5",102:"Numpad6",103:"Numpad7",104:"Numpad8",105:"Numpad9","-13":"NumpadEnter",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"Numlock",145:"Scrolllock"},PRINTABLE_KEYS:{32:" ",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",61:"=",65:"a",66:"b",67:"c",68:"d",69:"e",70:"f",71:"g",72:"h",73:"i",74:"j",75:"k",76:"l",77:"m",78:"n",79:"o",80:"p",81:"q",82:"r",83:"s",84:"t",85:"u",86:"v",87:"w",88:"x",89:"y",90:"z",107:"+",109:"-",110:".",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",111:"/",106:"*"}};for(_ in g.FUNCTION_KEYS)m=g.FUNCTION_KEYS[_].toLowerCase(),g[m]=parseInt(_,10);for(_ in g.PRINTABLE_KEYS)m=g.PRINTABLE_KEYS[_].toLowerCase(),g[m]=parseInt(_,10);return h.mixin(g,g.MODIFIER_KEYS),h.mixin(g,g.PRINTABLE_KEYS),h.mixin(g,g.FUNCTION_KEYS),g.enter=g.return,g.escape=g.esc,g.del=g.delete,g[173]="-",(function(){for(var y=["cmd","ctrl","alt","shift"],u=Math.pow(2,y.length);u--;)g.KEY_MODS[u]=y.filter((function(b){return u&g.KEY_MODS[b]})).join("-")+"-"})(),g.KEY_MODS[0]="",g.KEY_MODS[-1]="input-",g})();h.mixin(c,v),c.keyCodeToString=function(m){var _=v[m];return typeof _!="string"&&(_=String.fromCharCode(m)),_.toLowerCase()}})),ace.define("ace/lib/event",["require","exports","module","ace/lib/keys","ace/lib/useragent"],(function(l,c,f){var h=l("./keys"),v=l("./useragent"),m=null,_=0;c.addListener=function(S,T,R){if(S.addEventListener)return S.addEventListener(T,R,!1);if(S.attachEvent){var O=function(){R.call(S,window.event)};R._wrapper=O,S.attachEvent("on"+T,O)}},c.removeListener=function(S,T,R){if(S.removeEventListener)return S.removeEventListener(T,R,!1);S.detachEvent&&S.detachEvent("on"+T,R._wrapper||R)},c.stopEvent=function(S){return c.stopPropagation(S),c.preventDefault(S),!1},c.stopPropagation=function(S){S.stopPropagation?S.stopPropagation():S.cancelBubble=!0},c.preventDefault=function(S){S.preventDefault?S.preventDefault():S.returnValue=!1},c.getButton=function(S){return S.type=="dblclick"?0:S.type=="contextmenu"||v.isMac&&S.ctrlKey&&!S.altKey&&!S.shiftKey?2:S.preventDefault?S.button:{1:0,2:2,4:1}[S.button]},c.capture=function(S,T,R){function O(C){T&&T(C),R&&R(C),c.removeListener(document,"mousemove",T,!0),c.removeListener(document,"mouseup",O,!0),c.removeListener(document,"dragstart",O,!0)}return c.addListener(document,"mousemove",T,!0),c.addListener(document,"mouseup",O,!0),c.addListener(document,"dragstart",O,!0),O},c.addMouseWheelListener=function(S,T){"onmousewheel"in S?c.addListener(S,"mousewheel",(function(R){R.wheelDeltaX!==void 0?(R.wheelX=-R.wheelDeltaX/8,R.wheelY=-R.wheelDeltaY/8):(R.wheelX=0,R.wheelY=-R.wheelDelta/8),T(R)})):"onwheel"in S?c.addListener(S,"wheel",(function(R){switch(R.deltaMode){case R.DOM_DELTA_PIXEL:R.wheelX=.35*R.deltaX||0,R.wheelY=.35*R.deltaY||0;break;case R.DOM_DELTA_LINE:case R.DOM_DELTA_PAGE:R.wheelX=5*(R.deltaX||0),R.wheelY=5*(R.deltaY||0)}T(R)})):c.addListener(S,"DOMMouseScroll",(function(R){R.axis&&R.axis==R.HORIZONTAL_AXIS?(R.wheelX=5*(R.detail||0),R.wheelY=0):(R.wheelX=0,R.wheelY=5*(R.detail||0)),T(R)}))},c.addMultiMouseDownListener=function(S,T,R,O){var C,I,F,M=0,D={2:"dblclick",3:"tripleclick",4:"quadclick"};function B(U){if(c.getButton(U)!==0?M=0:U.detail>1?++M>4&&(M=1):M=1,v.isIE){var V=Math.abs(U.clientX-C)>5||Math.abs(U.clientY-I)>5;F&&!V||(M=1),F&&clearTimeout(F),F=setTimeout((function(){F=null}),T[M-1]||600),M==1&&(C=U.clientX,I=U.clientY)}if(U._clicks=M,R[O]("mousedown",U),M>4)M=0;else if(M>1)return R[O](D[M],U)}function j(U){M=2,F&&clearTimeout(F),F=setTimeout((function(){F=null}),T[M-1]||600),R[O]("mousedown",U),R[O](D[M],U)}Array.isArray(S)||(S=[S]),S.forEach((function(U){c.addListener(U,"mousedown",B),v.isOldIE&&c.addListener(U,"dblclick",j)}))};var g=v.isMac&&v.isOpera&&!("KeyboardEvent"in window)?function(S){return 0|(S.metaKey?1:0)|(S.altKey?2:0)|(S.shiftKey?4:0)|(S.ctrlKey?8:0)}:function(S){return 0|(S.ctrlKey?1:0)|(S.altKey?2:0)|(S.shiftKey?4:0)|(S.metaKey?8:0)};function y(S,T,R){var O=g(T);if(!v.isMac&&m){if(T.getModifierState&&(T.getModifierState("OS")||T.getModifierState("Win"))&&(O|=8),m.altGr){if((3&O)==3)return;m.altGr=0}if(R===18||R===17){var C="location"in T?T.location:T.keyLocation;R===17&&C===1?m[R]==1&&(_=T.timeStamp):R===18&&O===3&&C===2&&T.timeStamp-_<50&&(m.altGr=!0)}}if(R in h.MODIFIER_KEYS&&(R=-1),O||R!==13||(C="location"in T?T.location:T.keyLocation)!==3||(S(T,O,-R),!T.defaultPrevented)){if(v.isChromeOS&&8&O){if(S(T,O,R),T.defaultPrevented)return;O&=-9}return!!(O||R in h.FUNCTION_KEYS||R in h.PRINTABLE_KEYS)&&S(T,O,R)}}function u(){m=Object.create(null)}if(c.getModifierString=function(S){return h.KEY_MODS[g(S)]},c.addCommandKeyListener=function(S,T){var R=c.addListener;if(v.isOldGecko||v.isOpera&&!("KeyboardEvent"in window)){var O=null;R(S,"keydown",(function(I){O=I.keyCode})),R(S,"keypress",(function(I){return y(T,I,O)}))}else{var C=null;R(S,"keydown",(function(I){m[I.keyCode]=(m[I.keyCode]||0)+1;var F=y(T,I,I.keyCode);return C=I.defaultPrevented,F})),R(S,"keypress",(function(I){C&&(I.ctrlKey||I.altKey||I.shiftKey||I.metaKey)&&(c.stopEvent(I),C=null)})),R(S,"keyup",(function(I){m[I.keyCode]=null})),m||(u(),R(window,"focus",u))}},typeof window=="object"&&window.postMessage&&!v.isOldIE){var b=1;c.nextTick=function(S,T){T=T||window;var R="zero-timeout-message-"+b++,O=function(C){C.data==R&&(c.stopPropagation(C),c.removeListener(T,"message",O),S())};c.addListener(T,"message",O),T.postMessage(R,"*")}}c.$idleBlocked=!1,c.onIdle=function(S,T){return setTimeout((function R(){c.$idleBlocked?setTimeout(R,100):S()}),T)},c.$idleBlockId=null,c.blockIdle=function(S){c.$idleBlockId&&clearTimeout(c.$idleBlockId),c.$idleBlocked=!0,c.$idleBlockId=setTimeout((function(){c.$idleBlocked=!1}),S||100)},c.nextFrame=typeof window=="object"&&(window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame),c.nextFrame?c.nextFrame=c.nextFrame.bind(window):c.nextFrame=function(S){setTimeout(S,17)}})),ace.define("ace/range",["require","exports","module"],(function(l,c,f){var h=function(v,m,_,g){this.start={row:v,column:m},this.end={row:_,column:g}};(function(){this.isEqual=function(v){return this.start.row===v.start.row&&this.end.row===v.end.row&&this.start.column===v.start.column&&this.end.column===v.end.column},this.toString=function(){return"Range: ["+this.start.row+"/"+this.start.column+"] -> ["+this.end.row+"/"+this.end.column+"]"},this.contains=function(v,m){return this.compare(v,m)==0},this.compareRange=function(v){var m,_=v.end,g=v.start;return(m=this.compare(_.row,_.column))==1?(m=this.compare(g.row,g.column))==1?2:m==0?1:0:m==-1?-2:(m=this.compare(g.row,g.column))==-1?-1:m==1?42:0},this.comparePoint=function(v){return this.compare(v.row,v.column)},this.containsRange=function(v){return this.comparePoint(v.start)==0&&this.comparePoint(v.end)==0},this.intersects=function(v){var m=this.compareRange(v);return m==-1||m==0||m==1},this.isEnd=function(v,m){return this.end.row==v&&this.end.column==m},this.isStart=function(v,m){return this.start.row==v&&this.start.column==m},this.setStart=function(v,m){typeof v=="object"?(this.start.column=v.column,this.start.row=v.row):(this.start.row=v,this.start.column=m)},this.setEnd=function(v,m){typeof v=="object"?(this.end.column=v.column,this.end.row=v.row):(this.end.row=v,this.end.column=m)},this.inside=function(v,m){return this.compare(v,m)==0&&!this.isEnd(v,m)&&!this.isStart(v,m)},this.insideStart=function(v,m){return this.compare(v,m)==0&&!this.isEnd(v,m)},this.insideEnd=function(v,m){return this.compare(v,m)==0&&!this.isStart(v,m)},this.compare=function(v,m){return this.isMultiLine()||v!==this.start.row?v<this.start.row?-1:v>this.end.row?1:this.start.row===v?m>=this.start.column?0:-1:this.end.row===v?m<=this.end.column?0:1:0:m<this.start.column?-1:m>this.end.column?1:0},this.compareStart=function(v,m){return this.start.row==v&&this.start.column==m?-1:this.compare(v,m)},this.compareEnd=function(v,m){return this.end.row==v&&this.end.column==m?1:this.compare(v,m)},this.compareInside=function(v,m){return this.end.row==v&&this.end.column==m?1:this.start.row==v&&this.start.column==m?-1:this.compare(v,m)},this.clipRows=function(v,m){if(this.end.row>m)var _={row:m+1,column:0};else this.end.row<v&&(_={row:v,column:0});if(this.start.row>m)var g={row:m+1,column:0};else this.start.row<v&&(g={row:v,column:0});return h.fromPoints(g||this.start,_||this.end)},this.extend=function(v,m){var _=this.compare(v,m);if(_==0)return this;if(_==-1)var g={row:v,column:m};else var y={row:v,column:m};return h.fromPoints(g||this.start,y||this.end)},this.isEmpty=function(){return this.start.row===this.end.row&&this.start.column===this.end.column},this.isMultiLine=function(){return this.start.row!==this.end.row},this.clone=function(){return h.fromPoints(this.start,this.end)},this.collapseRows=function(){return this.end.column==0?new h(this.start.row,0,Math.max(this.start.row,this.end.row-1),0):new h(this.start.row,0,this.end.row,0)},this.toScreenRange=function(v){var m=v.documentToScreenPosition(this.start),_=v.documentToScreenPosition(this.end);return new h(m.row,m.column,_.row,_.column)},this.moveBy=function(v,m){this.start.row+=v,this.start.column+=m,this.end.row+=v,this.end.column+=m}}).call(h.prototype),h.fromPoints=function(v,m){return new h(v.row,v.column,m.row,m.column)},h.comparePoints=function(v,m){return v.row-m.row||v.column-m.column},h.comparePoints=function(v,m){return v.row-m.row||v.column-m.column},c.Range=h})),ace.define("ace/lib/lang",["require","exports","module"],(function(l,c,f){c.last=function(m){return m[m.length-1]},c.stringReverse=function(m){return m.split("").reverse().join("")},c.stringRepeat=function(m,_){for(var g="";_>0;)1&_&&(g+=m),(_>>=1)&&(m+=m);return g};var h=/^\s\s*/,v=/\s\s*$/;c.stringTrimLeft=function(m){return m.replace(h,"")},c.stringTrimRight=function(m){return m.replace(v,"")},c.copyObject=function(m){var _={};for(var g in m)_[g]=m[g];return _},c.copyArray=function(m){for(var _=[],g=0,y=m.length;g<y;g++)m[g]&&typeof m[g]=="object"?_[g]=this.copyObject(m[g]):_[g]=m[g];return _},c.deepCopy=function m(_){if(typeof _!="object"||!_)return _;var g;if(Array.isArray(_)){g=[];for(var y=0;y<_.length;y++)g[y]=m(_[y]);return g}if(Object.prototype.toString.call(_)!=="[object Object]")return _;for(var y in g={},_)g[y]=m(_[y]);return g},c.arrayToMap=function(m){for(var _={},g=0;g<m.length;g++)_[m[g]]=1;return _},c.createMap=function(m){var _=Object.create(null);for(var g in m)_[g]=m[g];return _},c.arrayRemove=function(m,_){for(var g=0;g<=m.length;g++)_===m[g]&&m.splice(g,1)},c.escapeRegExp=function(m){return m.replace(/([.*+?^${}()|[\]\/\\])/g,"\\$1")},c.escapeHTML=function(m){return(""+m).replace(/&/g,"&#38;").replace(/"/g,"&#34;").replace(/'/g,"&#39;").replace(/</g,"&#60;")},c.getMatchOffsets=function(m,_){var g=[];return m.replace(_,(function(y){g.push({offset:arguments[arguments.length-2],length:y.length})})),g},c.deferredCall=function(m){var _=null,g=function(){_=null,m()},y=function(u){return y.cancel(),_=setTimeout(g,u||0),y};return y.schedule=y,y.call=function(){return this.cancel(),m(),y},y.cancel=function(){return clearTimeout(_),_=null,y},y.isPending=function(){return _},y},c.delayedCall=function(m,_){var g=null,y=function(){g=null,m()},u=function(b){g==null&&(g=setTimeout(y,b||_))};return u.delay=function(b){g&&clearTimeout(g),g=setTimeout(y,b||_)},u.schedule=u,u.call=function(){this.cancel(),m()},u.cancel=function(){g&&clearTimeout(g),g=null},u.isPending=function(){return g},u}})),ace.define("ace/clipboard",["require","exports","module"],(function(l,c,f){var h;f.exports={lineMode:!1,pasteCancelled:function(){return!!(h&&h>Date.now()-50)||(h=!1)},cancel:function(){h=Date.now()}}})),ace.define("ace/keyboard/textinput",["require","exports","module","ace/lib/event","ace/lib/useragent","ace/lib/dom","ace/lib/lang","ace/clipboard","ace/lib/keys"],(function(l,c,f){var h=l("../lib/event"),v=l("../lib/useragent"),m=l("../lib/dom"),_=l("../lib/lang"),g=l("../clipboard"),y=v.isChrome<18,u=v.isIE,b=v.isChrome>63,S=400,T=l("../lib/keys"),R=T.KEY_MODS,O=v.isIOS,C=O?/\s/:/\n/;c.TextInput=function(I,F){var M=m.createElement("textarea");M.className="ace_text-input",M.setAttribute("wrap","off"),M.setAttribute("autocorrect","off"),M.setAttribute("autocapitalize","off"),M.setAttribute("spellcheck",!1),M.style.opacity="0",I.insertBefore(M,I.firstChild);var D=!1,B=!1,j=!1,U=!1,V="";v.isMobile||(M.style.fontSize="1px");var k=!1,Z=!1,ee="",oe=0,ne=0,ie=0;try{var he=document.activeElement===M}catch{}h.addListener(M,"blur",(function(qe){Z||(F.onBlur(qe),he=!1)})),h.addListener(M,"focus",(function(qe){if(!Z){if(he=!0,v.isEdge)try{if(!document.hasFocus())return}catch{}F.onFocus(qe),v.isEdge?setTimeout(fe):fe()}})),this.$focusScroll=!1,this.focus=function(){if(V||b||this.$focusScroll=="browser")return M.focus({preventScroll:!0});var qe=M.style.top;M.style.position="fixed",M.style.top="0px";try{var Ke=M.getBoundingClientRect().top!=0}catch{return}var Et=[];if(Ke)for(var ye=M.parentElement;ye&&ye.nodeType==1;)Et.push(ye),ye.setAttribute("ace_nocontext",!0),ye=!ye.parentElement&&ye.getRootNode?ye.getRootNode().host:ye.parentElement;M.focus({preventScroll:!0}),Ke&&Et.forEach((function(me){me.removeAttribute("ace_nocontext")})),setTimeout((function(){M.style.position="",M.style.top=="0px"&&(M.style.top=qe)}),0)},this.blur=function(){M.blur()},this.isFocused=function(){return he},F.on("beforeEndOperation",(function(){F.curOp&&F.curOp.command.name=="insertstring"||(j&&(ee=M.value="",Me()),fe())}));var fe=O?function(qe){if(he&&(!D||qe)&&!U){qe||(qe="");var Ke=`
 ab`+qe+`cde fg
`;Ke!=M.value&&(M.value=ee=Ke);var Et=4+(qe.length||(F.selection.isEmpty()?0:1));oe==4&&ne==Et||M.setSelectionRange(4,Et),oe=4,ne=Et}}:function(){if(!j&&!U&&(he||ae)){j=!0;var qe=F.selection,Ke=qe.getRange(),Et=qe.cursor.row,ye=Ke.start.column,me=Ke.end.column,Le=F.session.getLine(Et);if(Ke.start.row!=Et){var it=F.session.getLine(Et-1);ye=Ke.start.row<Et-1?0:ye,me+=it.length+1,Le=it+`
`+Le}else if(Ke.end.row!=Et){var Qe=F.session.getLine(Et+1);me=Ke.end.row>Et+1?Qe.length:me,me+=Le.length+1,Le=Le+`
`+Qe}Le.length>S&&(ye<S&&me<S?Le=Le.slice(0,S):(Le=`
`,ye=0,me=1));var et=Le+`

`;if(et!=ee&&(M.value=ee=et,oe=ne=et.length),ae&&(oe=M.selectionStart,ne=M.selectionEnd),ne!=me||oe!=ye||M.selectionEnd!=ne)try{M.setSelectionRange(ye,me),oe=ye,ne=me}catch{}j=!1}};he&&F.onFocus();var ce=null;this.setInputHandler=function(qe){ce=qe},this.getInputHandler=function(){return ce};var ae=!1,ve=function(qe,Ke){if(ae&&(ae=!1),B)return fe(),qe&&F.onPaste(qe),B=!1,"";for(var Et=M.selectionStart,ye=M.selectionEnd,me=oe,Le=ee.length-ne,it=qe,Qe=qe.length-Et,et=qe.length-ye,At=0;me>0&&ee[At]==qe[At];)At++,me--;for(it=it.slice(At),At=1;Le>0&&ee.length-At>oe-1&&ee[ee.length-At]==qe[qe.length-At];)At++,Le--;Qe-=At-1,et-=At-1;var Gt=it.length-At+1;return Gt<0&&(me=-Gt,Gt=0),it=it.slice(0,Gt),Ke||it||Qe||me||Le||et?(U=!0,it&&!me&&!Le&&!Qe&&!et||k?F.onTextInput(it):F.onTextInput(it,{extendLeft:me,extendRight:Le,restoreStart:Qe,restoreEnd:et}),U=!1,ee=qe,oe=Et,ne=ye,ie=et,it):""},_e=function(qe){if(j)return Bt();if(qe&&qe.inputType){if(qe.inputType=="historyUndo")return F.execCommand("undo");if(qe.inputType=="historyRedo")return F.execCommand("redo")}var Ke=M.value,Et=ve(Ke,!0);(Ke.length>500||C.test(Et))&&fe()},Te=function(qe,Ke,Et){var ye=qe.clipboardData||window.clipboardData;if(ye&&!y){var me=u||Et?"Text":"text/plain";try{return Ke?ye.setData(me,Ke)!==!1:ye.getData(me)}catch(Le){if(!Et)return Te(Le,Ke,!0)}}},Fe=function(qe,Ke){var Et=F.getCopyText();if(!Et)return h.preventDefault(qe);Te(qe,Et)?(O&&(fe(Et),D=Et,setTimeout((function(){D=!1}),10)),Ke?F.onCut():F.onCopy(),h.preventDefault(qe)):(D=!0,M.value=Et,M.select(),setTimeout((function(){D=!1,fe(),Ke?F.onCut():F.onCopy()})))},We=function(qe){Fe(qe,!0)},ht=function(qe){Fe(qe,!1)},ft=function(qe){var Ke=Te(qe);g.pasteCancelled()||(typeof Ke=="string"?(Ke&&F.onPaste(Ke,qe),v.isIE&&setTimeout(fe),h.preventDefault(qe)):(M.value="",B=!0))};h.addCommandKeyListener(M,F.onCommandKey.bind(F)),h.addListener(M,"select",(function(qe){j||(D?D=!1:(function(Ke){return Ke.selectionStart===0&&Ke.selectionEnd>=ee.length&&Ke.value===ee&&ee&&Ke.selectionEnd!==ne})(M)&&(F.selectAll(),fe()))})),h.addListener(M,"input",_e),h.addListener(M,"cut",We),h.addListener(M,"copy",ht),h.addListener(M,"paste",ft),"oncut"in M&&"oncopy"in M&&"onpaste"in M||h.addListener(I,"keydown",(function(qe){if((!v.isMac||qe.metaKey)&&qe.ctrlKey)switch(qe.keyCode){case 67:ht(qe);break;case 86:ft(qe);break;case 88:We(qe)}}));var Bt=function(){if(j&&F.onCompositionUpdate&&!F.$readOnly){if(k)return yt();if(j.useTextareaForIME)F.onCompositionUpdate(M.value);else{var qe=M.value;ve(qe),j.markerRange&&(j.context&&(j.markerRange.start.column=j.selectionStart=j.context.compositionStartOffset),j.markerRange.end.column=j.markerRange.start.column+ne-j.selectionStart+ie)}}},Me=function(qe){F.onCompositionEnd&&!F.$readOnly&&(j=!1,F.onCompositionEnd(),F.off("mousedown",yt),qe&&_e())};function yt(){Z=!0,M.blur(),M.focus(),Z=!1}var mt,St=_.delayedCall(Bt,50).schedule.bind(null,null);function nt(){clearTimeout(mt),mt=setTimeout((function(){V&&(M.style.cssText=V,V=""),F.renderer.$isMousePressed=!1,F.renderer.$keepTextAreaAtCursor&&F.renderer.$moveTextAreaToCursor()}),0)}h.addListener(M,"compositionstart",(function(qe){if(!j&&F.onCompositionStart&&!F.$readOnly&&(j={},!k)){setTimeout(Bt,0),F.on("mousedown",yt);var Ke=F.getSelectionRange();Ke.end.row=Ke.start.row,Ke.end.column=Ke.start.column,j.markerRange=Ke,j.selectionStart=oe,F.onCompositionStart(j),j.useTextareaForIME?(M.value="",ee="",oe=0,ne=0):(M.msGetInputContext&&(j.context=M.msGetInputContext()),M.getInputContext&&(j.context=M.getInputContext()))}})),h.addListener(M,"compositionupdate",Bt),h.addListener(M,"keyup",(function(qe){qe.keyCode==27&&M.value.length<M.selectionStart&&(j||(ee=M.value),oe=ne=-1,fe()),St()})),h.addListener(M,"keydown",St),h.addListener(M,"compositionend",Me),this.getElement=function(){return M},this.setCommandMode=function(qe){k=qe,M.readOnly=!1},this.setReadOnly=function(qe){k||(M.readOnly=qe)},this.setCopyWithEmptySelection=function(qe){},this.onContextMenu=function(qe){ae=!0,fe(),F._emit("nativecontextmenu",{target:F,domEvent:qe}),this.moveToMouse(qe,!0)},this.moveToMouse=function(qe,Ke){V||(V=M.style.cssText),M.style.cssText=(Ke?"z-index:100000;":"")+(v.isIE?"opacity:0.1;":"")+"text-indent: -"+(oe+ne)*F.renderer.characterWidth*.5+"px;";var Et=F.container.getBoundingClientRect(),ye=m.computedStyle(F.container),me=Et.top+(parseInt(ye.borderTopWidth)||0),Le=Et.left+(parseInt(Et.borderLeftWidth)||0),it=Et.bottom-me-M.clientHeight-2,Qe=function(et){m.translate(M,et.clientX-Le-2,Math.min(et.clientY-me-2,it))};Qe(qe),qe.type=="mousedown"&&(F.renderer.$isMousePressed=!0,clearTimeout(mt),v.isWin&&h.capture(F.container,Qe,nt))},this.onContextMenuClose=nt;var Ft=function(qe){F.textInput.onContextMenu(qe),nt()};h.addListener(M,"mouseup",Ft),h.addListener(M,"mousedown",(function(qe){qe.preventDefault(),nt()})),h.addListener(F.renderer.scroller,"contextmenu",Ft),h.addListener(M,"contextmenu",Ft),O&&(function(qe,Ke,Et){var ye=null,me=!1;Et.addEventListener("keydown",(function(it){ye&&clearTimeout(ye),me=!0}),!0),Et.addEventListener("keyup",(function(it){ye=setTimeout((function(){me=!1}),100)}),!0);var Le=function(it){if(document.activeElement===Et&&!(me||j||Ke.$mouseHandler.isMousePressed||D)){var Qe=Et.selectionStart,et=Et.selectionEnd,At=null,Gt=0;if(Qe==0?At=T.up:Qe==1?At=T.home:et>ne&&ee[et]==`
`?At=T.end:Qe<oe&&ee[Qe-1]==" "?(At=T.left,Gt=R.option):Qe<oe||Qe==oe&&ne!=oe&&Qe==et?At=T.left:et>ne&&ee.slice(0,et).split(`
`).length>2?At=T.down:et>ne&&ee[et-1]==" "?(At=T.right,Gt=R.option):(et>ne||et==ne&&ne!=oe&&Qe==et)&&(At=T.right),Qe!==et&&(Gt|=R.shift),At){if(!Ke.onCommandKey({},Gt,At)&&Ke.commands){At=T.keyCodeToString(At);var on=Ke.commands.findKeyCommand(Gt,At);on&&Ke.execCommand(on)}oe=Qe,ne=et,fe("")}}};document.addEventListener("selectionchange",Le),Ke.on("destroy",(function(){document.removeEventListener("selectionchange",Le)}))})(0,F,M)}})),ace.define("ace/mouse/default_handlers",["require","exports","module","ace/lib/useragent"],(function(l,c,f){var h=l("../lib/useragent");function v(_){_.$clickSelection=null;var g=_.editor;g.setDefaultHandler("mousedown",this.onMouseDown.bind(_)),g.setDefaultHandler("dblclick",this.onDoubleClick.bind(_)),g.setDefaultHandler("tripleclick",this.onTripleClick.bind(_)),g.setDefaultHandler("quadclick",this.onQuadClick.bind(_)),g.setDefaultHandler("mousewheel",this.onMouseWheel.bind(_)),["select","startSelect","selectEnd","selectAllEnd","selectByWordsEnd","selectByLinesEnd","dragWait","dragWaitEnd","focusWait"].forEach((function(y){_[y]=this[y]}),this),_.selectByLines=this.extendSelectionBy.bind(_,"getLineRange"),_.selectByWords=this.extendSelectionBy.bind(_,"getWordRange")}function m(_,g){if(_.start.row==_.end.row)var y=2*g.column-_.start.column-_.end.column;else _.start.row!=_.end.row-1||_.start.column||_.end.column?y=2*g.row-_.start.row-_.end.row:y=g.column-4;return y<0?{cursor:_.start,anchor:_.end}:{cursor:_.end,anchor:_.start}}(function(){this.onMouseDown=function(_){var g=_.inSelection(),y=_.getDocumentPosition();this.mousedownEvent=_;var u=this.editor,b=_.getButton();return b!==0?((u.getSelectionRange().isEmpty()||b==1)&&u.selection.moveToPosition(y),void(b==2&&(u.textInput.onContextMenu(_.domEvent),h.isMozilla||_.preventDefault()))):(this.mousedownEvent.time=Date.now(),!g||u.isFocused()||(u.focus(),!this.$focusTimeout||this.$clickSelection||u.inMultiSelectMode)?(this.captureMouse(_),this.startSelect(y,_.domEvent._clicks>1),_.preventDefault()):(this.setState("focusWait"),void this.captureMouse(_)))},this.startSelect=function(_,g){_=_||this.editor.renderer.screenToTextCoordinates(this.x,this.y);var y=this.editor;this.mousedownEvent&&(this.mousedownEvent.getShiftKey()?y.selection.selectToPosition(_):g||y.selection.moveToPosition(_),g||this.select(),y.renderer.scroller.setCapture&&y.renderer.scroller.setCapture(),y.setStyle("ace_selecting"),this.setState("select"))},this.select=function(){var _,g=this.editor,y=g.renderer.screenToTextCoordinates(this.x,this.y);if(this.$clickSelection){var u=this.$clickSelection.comparePoint(y);if(u==-1)_=this.$clickSelection.end;else if(u==1)_=this.$clickSelection.start;else{var b=m(this.$clickSelection,y);y=b.cursor,_=b.anchor}g.selection.setSelectionAnchor(_.row,_.column)}g.selection.selectToPosition(y),g.renderer.scrollCursorIntoView()},this.extendSelectionBy=function(_){var g,y=this.editor,u=y.renderer.screenToTextCoordinates(this.x,this.y),b=y.selection[_](u.row,u.column);if(this.$clickSelection){var S=this.$clickSelection.comparePoint(b.start),T=this.$clickSelection.comparePoint(b.end);if(S==-1&&T<=0)g=this.$clickSelection.end,b.end.row==u.row&&b.end.column==u.column||(u=b.start);else if(T==1&&S>=0)g=this.$clickSelection.start,b.start.row==u.row&&b.start.column==u.column||(u=b.end);else if(S==-1&&T==1)u=b.end,g=b.start;else{var R=m(this.$clickSelection,u);u=R.cursor,g=R.anchor}y.selection.setSelectionAnchor(g.row,g.column)}y.selection.selectToPosition(u),y.renderer.scrollCursorIntoView()},this.selectEnd=this.selectAllEnd=this.selectByWordsEnd=this.selectByLinesEnd=function(){this.$clickSelection=null,this.editor.unsetStyle("ace_selecting"),this.editor.renderer.scroller.releaseCapture&&this.editor.renderer.scroller.releaseCapture()},this.focusWait=function(){var _,g,y,u,b=(_=this.mousedownEvent.x,g=this.mousedownEvent.y,y=this.x,u=this.y,Math.sqrt(Math.pow(y-_,2)+Math.pow(u-g,2))),S=Date.now();(b>0||S-this.mousedownEvent.time>this.$focusTimeout)&&this.startSelect(this.mousedownEvent.getDocumentPosition())},this.onDoubleClick=function(_){var g=_.getDocumentPosition(),y=this.editor,u=y.session.getBracketRange(g);u?(u.isEmpty()&&(u.start.column--,u.end.column++),this.setState("select")):(u=y.selection.getWordRange(g.row,g.column),this.setState("selectByWords")),this.$clickSelection=u,this.select()},this.onTripleClick=function(_){var g=_.getDocumentPosition(),y=this.editor;this.setState("selectByLines");var u=y.getSelectionRange();u.isMultiLine()&&u.contains(g.row,g.column)?(this.$clickSelection=y.selection.getLineRange(u.start.row),this.$clickSelection.end=y.selection.getLineRange(u.end.row).end):this.$clickSelection=y.selection.getLineRange(g.row),this.select()},this.onQuadClick=function(_){var g=this.editor;g.selectAll(),this.$clickSelection=g.getSelectionRange(),this.setState("selectAll")},this.onMouseWheel=function(_){if(!_.getAccelKey()){_.getShiftKey()&&_.wheelY&&!_.wheelX&&(_.wheelX=_.wheelY,_.wheelY=0);var g=this.editor;this.$lastScroll||(this.$lastScroll={t:0,vx:0,vy:0,allowed:0});var y=this.$lastScroll,u=_.domEvent.timeStamp,b=u-y.t,S=b?_.wheelX/b:y.vx,T=b?_.wheelY/b:y.vy;b<550&&(S=(S+y.vx)/2,T=(T+y.vy)/2);var R=Math.abs(S/T),O=!1;return R>=1&&g.renderer.isScrollableBy(_.wheelX*_.speed,0)&&(O=!0),R<=1&&g.renderer.isScrollableBy(0,_.wheelY*_.speed)&&(O=!0),O?y.allowed=u:u-y.allowed<550&&(Math.abs(S)<=1.5*Math.abs(y.vx)&&Math.abs(T)<=1.5*Math.abs(y.vy)?(O=!0,y.allowed=u):y.allowed=0),y.t=u,y.vx=S,y.vy=T,O?(g.renderer.scrollBy(_.wheelX*_.speed,_.wheelY*_.speed),_.stop()):void 0}}}).call(v.prototype),c.DefaultHandlers=v})),ace.define("ace/tooltip",["require","exports","module","ace/lib/oop","ace/lib/dom"],(function(l,c,f){l("./lib/oop");var h=l("./lib/dom");function v(m){this.isOpen=!1,this.$element=null,this.$parentNode=m}(function(){this.$init=function(){return this.$element=h.createElement("div"),this.$element.className="ace_tooltip",this.$element.style.display="none",this.$parentNode.appendChild(this.$element),this.$element},this.getElement=function(){return this.$element||this.$init()},this.setText=function(m){this.getElement().textContent=m},this.setHtml=function(m){this.getElement().innerHTML=m},this.setPosition=function(m,_){this.getElement().style.left=m+"px",this.getElement().style.top=_+"px"},this.setClassName=function(m){h.addCssClass(this.getElement(),m)},this.show=function(m,_,g){m!=null&&this.setText(m),_!=null&&g!=null&&this.setPosition(_,g),this.isOpen||(this.getElement().style.display="block",this.isOpen=!0)},this.hide=function(){this.isOpen&&(this.getElement().style.display="none",this.isOpen=!1)},this.getHeight=function(){return this.getElement().offsetHeight},this.getWidth=function(){return this.getElement().offsetWidth},this.destroy=function(){this.isOpen=!1,this.$element&&this.$element.parentNode&&this.$element.parentNode.removeChild(this.$element)}}).call(v.prototype),c.Tooltip=v})),ace.define("ace/mouse/default_gutter_handler",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/event","ace/tooltip"],(function(l,c,f){var h=l("../lib/dom"),v=l("../lib/oop"),m=l("../lib/event"),_=l("../tooltip").Tooltip;function g(y){_.call(this,y)}v.inherits(g,_),(function(){this.setPosition=function(y,u){var b=window.innerWidth||document.documentElement.clientWidth,S=window.innerHeight||document.documentElement.clientHeight,T=this.getWidth(),R=this.getHeight();(y+=15)+T>b&&(y-=y+T-b),(u+=15)+R>S&&(u-=20+R),_.prototype.setPosition.call(this,y,u)}}).call(g.prototype),c.GutterHandler=function(y){var u,b,S,T=y.editor,R=T.renderer.$gutterLayer,O=new g(T.container);function C(){u&&(u=clearTimeout(u)),S&&(O.hide(),S=null,T._signal("hideGutterTooltip",O),T.removeEventListener("mousewheel",C))}function I(F){O.setPosition(F.x,F.y)}y.editor.setDefaultHandler("guttermousedown",(function(F){if(T.isFocused()&&F.getButton()==0&&R.getRegion(F)!="foldWidgets"){var M=F.getDocumentPosition().row,D=T.session.selection;if(F.getShiftKey())D.selectTo(M,0);else{if(F.domEvent.detail==2)return T.selectAll(),F.preventDefault();y.$clickSelection=T.selection.getLineRange(M)}return y.setState("selectByLines"),y.captureMouse(F),F.preventDefault()}})),y.editor.setDefaultHandler("guttermousemove",(function(F){var M=F.domEvent.target||F.domEvent.srcElement;if(h.hasCssClass(M,"ace_fold-widget"))return C();S&&y.$tooltipFollowsMouse&&I(F),b=F,u||(u=setTimeout((function(){u=null,b&&!y.isMousePressed?(function(){var D=b.getDocumentPosition().row,B=R.$annotations[D];if(!B)return C();if(D==T.session.getLength()){var j=T.renderer.pixelToScreenCoordinates(0,b.y).row,U=b.$pos;if(j>T.session.documentToScreenRow(U.row,U.column))return C()}if(S!=B)if(S=B.text.join("<br/>"),O.setHtml(S),O.show(),T._signal("showGutterTooltip",O),T.on("mousewheel",C),y.$tooltipFollowsMouse)I(b);else{var V=b.domEvent.target.getBoundingClientRect(),k=O.getElement().style;k.left=V.right+"px",k.top=V.bottom+"px"}})():C()}),50))})),m.addListener(T.renderer.$gutter,"mouseout",(function(F){b=null,S&&!u&&(u=setTimeout((function(){u=null,C()}),50))})),T.on("changeSession",C)}})),ace.define("ace/mouse/mouse_event",["require","exports","module","ace/lib/event","ace/lib/useragent"],(function(l,c,f){var h=l("../lib/event"),v=l("../lib/useragent"),m=c.MouseEvent=function(_,g){this.domEvent=_,this.editor=g,this.x=this.clientX=_.clientX,this.y=this.clientY=_.clientY,this.$pos=null,this.$inSelection=null,this.propagationStopped=!1,this.defaultPrevented=!1};(function(){this.stopPropagation=function(){h.stopPropagation(this.domEvent),this.propagationStopped=!0},this.preventDefault=function(){h.preventDefault(this.domEvent),this.defaultPrevented=!0},this.stop=function(){this.stopPropagation(),this.preventDefault()},this.getDocumentPosition=function(){return this.$pos||(this.$pos=this.editor.renderer.screenToTextCoordinates(this.clientX,this.clientY)),this.$pos},this.inSelection=function(){if(this.$inSelection!==null)return this.$inSelection;var _=this.editor.getSelectionRange();if(_.isEmpty())this.$inSelection=!1;else{var g=this.getDocumentPosition();this.$inSelection=_.contains(g.row,g.column)}return this.$inSelection},this.getButton=function(){return h.getButton(this.domEvent)},this.getShiftKey=function(){return this.domEvent.shiftKey},this.getAccelKey=v.isMac?function(){return this.domEvent.metaKey}:function(){return this.domEvent.ctrlKey}}).call(m.prototype)})),ace.define("ace/mouse/dragdrop_handler",["require","exports","module","ace/lib/dom","ace/lib/event","ace/lib/useragent"],(function(l,c,f){var h=l("../lib/dom"),v=l("../lib/event"),m=l("../lib/useragent");function _(y){var u=y.editor,b=h.createElement("img");b.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",m.isOpera&&(b.style.cssText="width:1px;height:1px;position:fixed;top:0;left:0;z-index:2147483647;opacity:0;"),["dragWait","dragWaitEnd","startDrag","dragReadyEnd","onMouseDrag"].forEach((function(fe){y[fe]=this[fe]}),this),u.addEventListener("mousedown",this.onMouseDown.bind(y));var S,T,R,O,C,I,F,M,D,B,j,U=u.container,V=0;function k(){var fe=I;(function(ce,ae){var ve=Date.now(),_e=!ae||ce.row!=ae.row,Te=!ae||ce.column!=ae.column;!B||_e||Te?(u.moveCursorToPosition(ce),B=ve,j={x:T,y:R}):g(j.x,j.y,T,R)>5?B=null:ve-B>=200&&(u.renderer.scrollCursorIntoView(),B=null)})(I=u.renderer.screenToTextCoordinates(T,R),fe),(function(ce,ae){var ve=Date.now(),_e=u.renderer.layerConfig.lineHeight,Te=u.renderer.layerConfig.characterWidth,Fe=u.renderer.scroller.getBoundingClientRect(),We={x:{left:T-Fe.left,right:Fe.right-T},y:{top:R-Fe.top,bottom:Fe.bottom-R}},ht=Math.min(We.x.left,We.x.right),ft=Math.min(We.y.top,We.y.bottom),Bt={row:ce.row,column:ce.column};ht/Te<=2&&(Bt.column+=We.x.left<We.x.right?-3:2),ft/_e<=1&&(Bt.row+=We.y.top<We.y.bottom?-1:1);var Me=ce.row!=Bt.row,yt=ce.column!=Bt.column,mt=!ae||ce.row!=ae.row;Me||yt&&!mt?D?ve-D>=200&&u.renderer.scrollCursorIntoView(Bt):D=ve:D=null})(I,fe)}function Z(){C=u.selection.toOrientedRange(),S=u.session.addMarker(C,"ace_selection",u.getSelectionStyle()),u.clearSelection(),u.isFocused()&&u.renderer.$cursorLayer.setBlinking(!1),clearInterval(O),k(),O=setInterval(k,20),V=0,v.addListener(document,"mousemove",ne)}function ee(){clearInterval(O),u.session.removeMarker(S),S=null,u.selection.fromOrientedRange(C),u.isFocused()&&!M&&u.$resetCursorStyle(),C=null,I=null,V=0,D=null,B=null,v.removeListener(document,"mousemove",ne)}this.onDragStart=function(fe){if(this.cancelDrag||!U.draggable){var ce=this;return setTimeout((function(){ce.startSelect(),ce.captureMouse(fe)}),0),fe.preventDefault()}C=u.getSelectionRange();var ae=fe.dataTransfer;ae.effectAllowed=u.getReadOnly()?"copy":"copyMove",m.isOpera&&(u.container.appendChild(b),b.scrollTop=0),ae.setDragImage&&ae.setDragImage(b,0,0),m.isOpera&&u.container.removeChild(b),ae.clearData(),ae.setData("Text",u.session.getTextRange()),M=!0,this.setState("drag")},this.onDragEnd=function(fe){if(U.draggable=!1,M=!1,this.setState(null),!u.getReadOnly()){var ce=fe.dataTransfer.dropEffect;F||ce!="move"||u.session.remove(u.getSelectionRange()),u.$resetCursorStyle()}this.editor.unsetStyle("ace_dragging"),this.editor.renderer.setCursorStyle("")},this.onDragEnter=function(fe){if(!u.getReadOnly()&&ie(fe.dataTransfer))return T=fe.clientX,R=fe.clientY,S||Z(),V++,fe.dataTransfer.dropEffect=F=he(fe),v.preventDefault(fe)},this.onDragOver=function(fe){if(!u.getReadOnly()&&ie(fe.dataTransfer))return T=fe.clientX,R=fe.clientY,S||(Z(),V++),oe!==null&&(oe=null),fe.dataTransfer.dropEffect=F=he(fe),v.preventDefault(fe)},this.onDragLeave=function(fe){if(--V<=0&&S)return ee(),F=null,v.preventDefault(fe)},this.onDrop=function(fe){if(I){var ce=fe.dataTransfer;if(M)switch(F){case"move":C=C.contains(I.row,I.column)?{start:I,end:I}:u.moveText(C,I);break;case"copy":C=u.moveText(C,I,!0)}else{var ae=ce.getData("Text");C={start:I,end:u.session.insert(I,ae)},u.focus(),F=null}return ee(),v.preventDefault(fe)}},v.addListener(U,"dragstart",this.onDragStart.bind(y)),v.addListener(U,"dragend",this.onDragEnd.bind(y)),v.addListener(U,"dragenter",this.onDragEnter.bind(y)),v.addListener(U,"dragover",this.onDragOver.bind(y)),v.addListener(U,"dragleave",this.onDragLeave.bind(y)),v.addListener(U,"drop",this.onDrop.bind(y));var oe=null;function ne(){oe==null&&(oe=setTimeout((function(){oe!=null&&S&&ee()}),20))}function ie(fe){var ce=fe.types;return!ce||Array.prototype.some.call(ce,(function(ae){return ae=="text/plain"||ae=="Text"}))}function he(fe){var ce=["copy","copymove","all","uninitialized"],ae=m.isMac?fe.altKey:fe.ctrlKey,ve="uninitialized";try{ve=fe.dataTransfer.effectAllowed.toLowerCase()}catch{}var _e="none";return ae&&ce.indexOf(ve)>=0?_e="copy":["move","copymove","linkmove","all","uninitialized"].indexOf(ve)>=0?_e="move":ce.indexOf(ve)>=0&&(_e="copy"),_e}}function g(y,u,b,S){return Math.sqrt(Math.pow(b-y,2)+Math.pow(S-u,2))}(function(){this.dragWait=function(){Date.now()-this.mousedownEvent.time>this.editor.getDragDelay()&&this.startDrag()},this.dragWaitEnd=function(){this.editor.container.draggable=!1,this.startSelect(this.mousedownEvent.getDocumentPosition()),this.selectEnd()},this.dragReadyEnd=function(y){this.editor.$resetCursorStyle(),this.editor.unsetStyle("ace_dragging"),this.editor.renderer.setCursorStyle(""),this.dragWaitEnd()},this.startDrag=function(){this.cancelDrag=!1;var y=this.editor;y.container.draggable=!0,y.renderer.$cursorLayer.setBlinking(!1),y.setStyle("ace_dragging");var u=m.isWin?"default":"move";y.renderer.setCursorStyle(u),this.setState("dragReady")},this.onMouseDrag=function(y){var u=this.editor.container;m.isIE&&this.state=="dragReady"&&g(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y)>3&&u.dragDrop(),this.state==="dragWait"&&g(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y)>0&&(u.draggable=!1,this.startSelect(this.mousedownEvent.getDocumentPosition()))},this.onMouseDown=function(y){if(this.$dragEnabled){this.mousedownEvent=y;var u=this.editor,b=y.inSelection(),S=y.getButton();if((y.domEvent.detail||1)===1&&S===0&&b){if(y.editor.inMultiSelectMode&&(y.getAccelKey()||y.getShiftKey()))return;this.mousedownEvent.time=Date.now();var T=y.domEvent.target||y.domEvent.srcElement;"unselectable"in T&&(T.unselectable="on"),u.getDragDelay()?(m.isWebKit&&(this.cancelDrag=!0,u.container.draggable=!0),this.setState("dragWait")):this.startDrag(),this.captureMouse(y,this.onMouseDrag.bind(this)),y.defaultPrevented=!0}}}}).call(_.prototype),c.DragdropHandler=_})),ace.define("ace/mouse/touch_handler",["require","exports","module","ace/mouse/mouse_event","ace/lib/dom"],(function(l,c,f){var h=l("./mouse_event").MouseEvent,v=l("../lib/dom");c.addTouchListeners=function(m,_){var g,y,u,b,S,T,R,O,C,I="scroll",F=0,M=0,D=0,B=0;function j(){var k,Z,ee;C||(k=window.navigator&&window.navigator.clipboard,Z=!1,ee=function(he){var fe,ce,ae=he.target.getAttribute("action");if(ae=="more"||!Z)return Z=!Z,fe=_.getCopyText(),ce=_.session.getUndoManager().hasUndo(),void C.replaceChild(v.buildDom(Z?["span",!fe&&["span",{class:"ace_mobile-button",action:"selectall"},"Select All"],fe&&["span",{class:"ace_mobile-button",action:"copy"},"Copy"],fe&&["span",{class:"ace_mobile-button",action:"cut"},"Cut"],k&&["span",{class:"ace_mobile-button",action:"paste"},"Paste"],ce&&["span",{class:"ace_mobile-button",action:"undo"},"Undo"],["span",{class:"ace_mobile-button",action:"find"},"Find"],["span",{class:"ace_mobile-button",action:"openCommandPallete"},"Pallete"]]:["span"]),C.firstChild);ae=="paste"?k.readText().then((function(ve){_.execCommand(ae,ve)})):ae&&(ae!="cut"&&ae!="copy"||(k?k.writeText(_.getCopyText()):document.execCommand("copy")),_.execCommand(ae)),C.firstChild.style.display="none",Z=!1,ae!="openCommandPallete"&&_.focus()},C=v.buildDom(["div",{class:"ace_mobile-menu",ontouchstart:function(he){I="menu",he.stopPropagation(),he.preventDefault(),_.textInput.focus()},ontouchend:function(he){he.stopPropagation(),he.preventDefault(),ee(he)},onclick:ee},["span"],["span",{class:"ace_mobile-button",action:"more"},"..."]],_.container));var oe=_.selection.cursor,ne=_.renderer.textToScreenCoordinates(oe.row,oe.column),ie=_.container.getBoundingClientRect();C.style.top=ne.pageY-ie.top-3+"px",C.style.right="10px",C.style.display="",C.firstChild.style.display="none",_.on("input",U)}function U(k){C&&(C.style.display="none"),_.off("input",U)}function V(){S=null,clearTimeout(S);var k=_.selection.getRange(),Z=k.contains(R.row,R.column);!k.isEmpty()&&Z||(_.selection.moveToPosition(R),_.selection.selectWord()),I="wait",j()}m.addEventListener("contextmenu",(function(k){O&&_.textInput.getElement().focus()})),m.addEventListener("touchstart",(function(k){var Z=k.touches;if(S||Z.length>1)return clearTimeout(S),S=null,u=-1,void(I="zoom");O=_.$mouseHandler.isMousePressed=!0;var ee=_.renderer.layerConfig.lineHeight,oe=_.renderer.layerConfig.lineHeight,ne=k.timeStamp;b=ne;var ie=Z[0],he=ie.clientX,fe=ie.clientY;Math.abs(g-he)+Math.abs(y-fe)>ee&&(u=-1),g=k.clientX=he,y=k.clientY=fe,D=B=0;var ce=new h(k,_);if(R=ce.getDocumentPosition(),ne-u<500&&Z.length==1&&!F)M++,k.preventDefault(),k.button=0,(function(){S=null,clearTimeout(S),_.selection.moveToPosition(R);var Bt=M>=2?_.selection.getLineRange(R.row):_.session.getBracketRange(R);Bt&&!Bt.isEmpty()?_.selection.setRange(Bt):_.selection.selectWord(),I="wait"})();else{M=0;var ae=_.selection.cursor,ve=_.selection.isEmpty()?ae:_.selection.anchor,_e=_.renderer.$cursorLayer.getPixelPosition(ae,!0),Te=_.renderer.$cursorLayer.getPixelPosition(ve,!0),Fe=_.renderer.scroller.getBoundingClientRect(),We=function(Bt,Me){return(Bt/=oe)*Bt+(Me=Me/ee-.75)*Me};if(k.clientX<Fe.left)return void(I="zoom");var ht=We(k.clientX-Fe.left-_e.left,k.clientY-Fe.top-_e.top),ft=We(k.clientX-Fe.left-Te.left,k.clientY-Fe.top-Te.top);ht<3.5&&ft<3.5&&(I=ht>ft?"cursor":"anchor"),I=ft<3.5?"anchor":ht<3.5?"cursor":"scroll",S=setTimeout(V,450)}u=ne})),m.addEventListener("touchend",(function(k){O=_.$mouseHandler.isMousePressed=!1,T&&clearInterval(T),I=="zoom"?(I="",F=0):S?(_.selection.moveToPosition(R),F=0,j()):I=="scroll"?(F+=60,T=setInterval((function(){F--<=0&&(clearInterval(T),T=null),Math.abs(D)<.01&&(D=0),Math.abs(B)<.01&&(B=0),F<20&&(D*=.9),F<20&&(B*=.9);var Z=_.session.getScrollTop();_.renderer.scrollBy(10*D,10*B),Z==_.session.getScrollTop()&&(F=0)}),10),k.preventDefault(),U()):j(),clearTimeout(S),S=null})),m.addEventListener("touchmove",(function(k){S&&(clearTimeout(S),S=null);var Z=k.touches;if(!(Z.length>1||I=="zoom")){var ee=Z[0],oe=g-ee.clientX,ne=y-ee.clientY;if(I=="wait"){if(!(oe*oe+ne*ne>4))return k.preventDefault();I="cursor"}g=ee.clientX,y=ee.clientY,k.clientX=ee.clientX,k.clientY=ee.clientY;var ie=k.timeStamp,he=ie-b;if(b=ie,I=="scroll"){var fe=new h(k,_);fe.speed=1,fe.wheelX=oe,fe.wheelY=ne,10*Math.abs(oe)<Math.abs(ne)&&(oe=0),10*Math.abs(ne)<Math.abs(oe)&&(ne=0),he!=0&&(D=oe/he,B=ne/he),_._emit("mousewheel",fe),fe.propagationStopped||(D=B=0)}else{var ce=new h(k,_).getDocumentPosition();I=="cursor"?_.selection.moveCursorToPosition(ce):I=="anchor"&&_.selection.setSelectionAnchor(ce.row,ce.column),_.renderer.scrollCursorIntoView(ce),k.preventDefault()}}}))}})),ace.define("ace/lib/net",["require","exports","module","ace/lib/dom"],(function(l,c,f){var h=l("./dom");c.get=function(v,m){var _=new XMLHttpRequest;_.open("GET",v,!0),_.onreadystatechange=function(){_.readyState===4&&m(_.responseText)},_.send(null)},c.loadScript=function(v,m){var _=h.getDocumentHead(),g=document.createElement("script");g.src=v,_.appendChild(g),g.onload=g.onreadystatechange=function(y,u){!u&&g.readyState&&g.readyState!="loaded"&&g.readyState!="complete"||(g=g.onload=g.onreadystatechange=null,u||m())}},c.qualifyURL=function(v){var m=document.createElement("a");return m.href=v,m.href}})),ace.define("ace/lib/event_emitter",["require","exports","module"],(function(l,c,f){var h={},v=function(){this.propagationStopped=!0},m=function(){this.defaultPrevented=!0};h._emit=h._dispatchEvent=function(_,g){this._eventRegistry||(this._eventRegistry={}),this._defaultHandlers||(this._defaultHandlers={});var y=this._eventRegistry[_]||[],u=this._defaultHandlers[_];if(y.length||u){typeof g=="object"&&g||(g={}),g.type||(g.type=_),g.stopPropagation||(g.stopPropagation=v),g.preventDefault||(g.preventDefault=m),y=y.slice();for(var b=0;b<y.length&&(y[b](g,this),!g.propagationStopped);b++);return u&&!g.defaultPrevented?u(g,this):void 0}},h._signal=function(_,g){var y=(this._eventRegistry||{})[_];if(y){y=y.slice();for(var u=0;u<y.length;u++)y[u](g,this)}},h.once=function(_,g){var y=this;if(this.addEventListener(_,(function u(){y.removeEventListener(_,u),g.apply(null,arguments)})),!g)return new Promise((function(u){g=u}))},h.setDefaultHandler=function(_,g){var y=this._defaultHandlers;if(y||(y=this._defaultHandlers={_disabled_:{}}),y[_]){var u=y[_],b=y._disabled_[_];b||(y._disabled_[_]=b=[]),b.push(u);var S=b.indexOf(g);S!=-1&&b.splice(S,1)}y[_]=g},h.removeDefaultHandler=function(_,g){var y=this._defaultHandlers;if(y){var u=y._disabled_[_];if(y[_]==g)u&&this.setDefaultHandler(_,u.pop());else if(u){var b=u.indexOf(g);b!=-1&&u.splice(b,1)}}},h.on=h.addEventListener=function(_,g,y){this._eventRegistry=this._eventRegistry||{};var u=this._eventRegistry[_];return u||(u=this._eventRegistry[_]=[]),u.indexOf(g)==-1&&u[y?"unshift":"push"](g),g},h.off=h.removeListener=h.removeEventListener=function(_,g){this._eventRegistry=this._eventRegistry||{};var y=this._eventRegistry[_];if(y){var u=y.indexOf(g);u!==-1&&y.splice(u,1)}},h.removeAllListeners=function(_){this._eventRegistry&&(this._eventRegistry[_]=[])},c.EventEmitter=h})),ace.define("ace/lib/app_config",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],(function(l,c,f){var h=l("./oop"),v=l("./event_emitter").EventEmitter,m={setOptions:function(u){Object.keys(u).forEach((function(b){this.setOption(b,u[b])}),this)},getOptions:function(u){var b={};if(u)Array.isArray(u)||(b=u,u=Object.keys(b));else{var S=this.$options;u=Object.keys(S).filter((function(T){return!S[T].hidden}))}return u.forEach((function(T){b[T]=this.getOption(T)}),this),b},setOption:function(u,b){if(this["$"+u]!==b){var S=this.$options[u];if(!S)return _('misspelled option "'+u+'"');if(S.forwardTo)return this[S.forwardTo]&&this[S.forwardTo].setOption(u,b);S.handlesSet||(this["$"+u]=b),S&&S.set&&S.set.call(this,b)}},getOption:function(u){var b=this.$options[u];return b?b.forwardTo?this[b.forwardTo]&&this[b.forwardTo].getOption(u):b&&b.get?b.get.call(this):this["$"+u]:_('misspelled option "'+u+'"')}};function _(u){typeof console<"u"&&console.warn&&console.warn.apply(console,arguments)}function g(u,b){var S=new Error(u);S.data=b,typeof console=="object"&&console.error&&console.error(S),setTimeout((function(){throw S}))}var y=function(){this.$defaultOptions={}};(function(){h.implement(this,v),this.defineOptions=function(u,b,S){return u.$options||(this.$defaultOptions[b]=u.$options={}),Object.keys(S).forEach((function(T){var R=S[T];typeof R=="string"&&(R={forwardTo:R}),R.name||(R.name=T),u.$options[R.name]=R,"initialValue"in R&&(u["$"+R.name]=R.initialValue)})),h.implement(u,m),this},this.resetOptions=function(u){Object.keys(u.$options).forEach((function(b){var S=u.$options[b];"value"in S&&u.setOption(b,S.value)}))},this.setDefaultValue=function(u,b,S){if(!u){for(u in this.$defaultOptions)if(this.$defaultOptions[u][b])break;if(!this.$defaultOptions[u][b])return!1}var T=this.$defaultOptions[u]||(this.$defaultOptions[u]={});T[b]&&(T.forwardTo?this.setDefaultValue(T.forwardTo,b,S):T[b].value=S)},this.setDefaultValues=function(u,b){Object.keys(b).forEach((function(S){this.setDefaultValue(u,S,b[S])}),this)},this.warn=_,this.reportError=g}).call(y.prototype),c.AppConfig=y})),ace.define("ace/config",["require","exports","module","ace/lib/lang","ace/lib/oop","ace/lib/net","ace/lib/app_config"],(function(l,c,f){var h=l("./lib/lang"),v=(l("./lib/oop"),l("./lib/net")),m=l("./lib/app_config").AppConfig;f.exports=c=new m;var _=(function(){return this||typeof window<"u"&&window})(),g={packaged:!1,workerPath:null,modePath:null,themePath:null,basePath:"",suffix:".js",$moduleUrls:{},loadWorkerFromBlob:!0,sharedPopups:!1};c.get=function(b){if(!g.hasOwnProperty(b))throw new Error("Unknown config key: "+b);return g[b]},c.set=function(b,S){if(g.hasOwnProperty(b))g[b]=S;else if(this.setDefaultValue("",b,S)==0)throw new Error("Unknown config key: "+b)},c.all=function(){return h.copyObject(g)},c.$modes={},c.moduleUrl=function(b,S){if(g.$moduleUrls[b])return g.$moduleUrls[b];var T=b.split("/"),R=(S=S||T[T.length-2]||"")=="snippets"?"/":"-",O=T[T.length-1];if(S=="worker"&&R=="-"){var C=new RegExp("^"+S+"[\\-_]|[\\-_]"+S+"$","g");O=O.replace(C,"")}(!O||O==S)&&T.length>1&&(O=T[T.length-2]);var I=g[S+"Path"];return I==null?I=g.basePath:R=="/"&&(S=R=""),I&&I.slice(-1)!="/"&&(I+="/"),I+S+R+O+this.get("suffix")},c.setModuleUrl=function(b,S){return g.$moduleUrls[b]=S},c.$loading={},c.loadModule=function(b,S){var T,R;Array.isArray(b)&&(R=b[0],b=b[1]);try{T=l(b)}catch{}if(T&&!c.$loading[b])return S&&S(T);if(c.$loading[b]||(c.$loading[b]=[]),c.$loading[b].push(S),!(c.$loading[b].length>1)){var O=function(){l([b],(function(C){c._emit("load.module",{name:b,module:C});var I=c.$loading[b];c.$loading[b]=null,I.forEach((function(F){F&&F(C)}))}))};if(!c.get("packaged"))return O();v.loadScript(c.moduleUrl(b,R),O),y()}};var y=function(){g.basePath||g.workerPath||g.modePath||g.themePath||Object.keys(g.$moduleUrls).length||(console.error("Unable to infer path to ace from script src,","use ace.config.set('basePath', 'path') to enable dynamic loading of modes and themes","or with webpack use ace/webpack-resolver"),y=function(){})};function u(b){if(_&&_.document){g.packaged=b||l.packaged||f.packaged||_.define&&o.amdD.packaged;for(var S,T={},R="",O=document.currentScript||document._currentScript,C=(O&&O.ownerDocument||document).getElementsByTagName("script"),I=0;I<C.length;I++){var F=C[I],M=F.src||F.getAttribute("src");if(M){for(var D=F.attributes,B=0,j=D.length;B<j;B++){var U=D[B];U.name.indexOf("data-ace-")===0&&(T[S=U.name.replace(/^data-ace-/,""),S.replace(/-(.)/g,(function(Z,ee){return ee.toUpperCase()}))]=U.value)}var V=M.match(/^(.*)\/ace(\-\w+)?\.js(\?|$)/);V&&(R=V[1])}}for(var k in R&&(T.base=T.base||R,T.packaged=!0),T.basePath=T.base,T.workerPath=T.workerPath||T.base,T.modePath=T.modePath||T.base,T.themePath=T.themePath||T.base,delete T.base,T)T[k]!==void 0&&c.set(k,T[k])}}u(!0),c.init=u,c.version="1.4.7"})),ace.define("ace/mouse/mouse_handler",["require","exports","module","ace/lib/event","ace/lib/useragent","ace/mouse/default_handlers","ace/mouse/default_gutter_handler","ace/mouse/mouse_event","ace/mouse/dragdrop_handler","ace/mouse/touch_handler","ace/config"],(function(l,c,f){var h=l("../lib/event"),v=l("../lib/useragent"),m=l("./default_handlers").DefaultHandlers,_=l("./default_gutter_handler").GutterHandler,g=l("./mouse_event").MouseEvent,y=l("./dragdrop_handler").DragdropHandler,u=l("./touch_handler").addTouchListeners,b=l("../config"),S=function(T){var R=this;this.editor=T,new m(this),new _(this),new y(this);var O=function(F){(!document.hasFocus||!document.hasFocus()||!T.isFocused()&&document.activeElement==(T.textInput&&T.textInput.getElement()))&&window.focus(),T.focus()},C=T.renderer.getMouseEventTarget();h.addListener(C,"click",this.onMouseEvent.bind(this,"click")),h.addListener(C,"mousemove",this.onMouseMove.bind(this,"mousemove")),h.addMultiMouseDownListener([C,T.renderer.scrollBarV&&T.renderer.scrollBarV.inner,T.renderer.scrollBarH&&T.renderer.scrollBarH.inner,T.textInput&&T.textInput.getElement()].filter(Boolean),[400,300,250],this,"onMouseEvent"),h.addMouseWheelListener(T.container,this.onMouseWheel.bind(this,"mousewheel")),u(T.container,T);var I=T.renderer.$gutter;h.addListener(I,"mousedown",this.onMouseEvent.bind(this,"guttermousedown")),h.addListener(I,"click",this.onMouseEvent.bind(this,"gutterclick")),h.addListener(I,"dblclick",this.onMouseEvent.bind(this,"gutterdblclick")),h.addListener(I,"mousemove",this.onMouseEvent.bind(this,"guttermousemove")),h.addListener(C,"mousedown",O),h.addListener(I,"mousedown",O),v.isIE&&T.renderer.scrollBarV&&(h.addListener(T.renderer.scrollBarV.element,"mousedown",O),h.addListener(T.renderer.scrollBarH.element,"mousedown",O)),T.on("mousemove",(function(F){if(!R.state&&!R.$dragDelay&&R.$dragEnabled){var M=T.renderer.screenToTextCoordinates(F.x,F.y),D=T.session.selection.getRange(),B=T.renderer;!D.isEmpty()&&D.insideStart(M.row,M.column)?B.setCursorStyle("default"):B.setCursorStyle("")}}))};(function(){this.onMouseEvent=function(T,R){this.editor._emit(T,new g(R,this.editor))},this.onMouseMove=function(T,R){var O=this.editor._eventRegistry&&this.editor._eventRegistry.mousemove;O&&O.length&&this.editor._emit(T,new g(R,this.editor))},this.onMouseWheel=function(T,R){var O=new g(R,this.editor);O.speed=2*this.$scrollSpeed,O.wheelX=R.wheelX,O.wheelY=R.wheelY,this.editor._emit(T,O)},this.setState=function(T){this.state=T},this.captureMouse=function(T,R){this.x=T.x,this.y=T.y,this.isMousePressed=!0;var O=this.editor,C=this.editor.renderer;C.$isMousePressed=!0;var I=this,F=function(U){if(U){if(v.isWebKit&&!U.which&&I.releaseMouse)return I.releaseMouse();I.x=U.clientX,I.y=U.clientY,R&&R(U),I.mouseEvent=new g(U,I.editor),I.$mouseMoved=!0}},M=function(U){O.off("beforeEndOperation",B),clearInterval(j),D(),I[I.state+"End"]&&I[I.state+"End"](U),I.state="",I.isMousePressed=C.$isMousePressed=!1,C.$keepTextAreaAtCursor&&C.$moveTextAreaToCursor(),I.$onCaptureMouseMove=I.releaseMouse=null,U&&I.onMouseEvent("mouseup",U),O.endOperation()},D=function(){I[I.state]&&I[I.state](),I.$mouseMoved=!1};if(v.isOldIE&&T.domEvent.type=="dblclick")return setTimeout((function(){M(T)}));var B=function(U){I.releaseMouse&&O.curOp.command.name&&O.curOp.selectionChanged&&(I[I.state+"End"]&&I[I.state+"End"](),I.state="",I.releaseMouse())};O.on("beforeEndOperation",B),O.startOperation({command:{name:"mouse"}}),I.$onCaptureMouseMove=F,I.releaseMouse=h.capture(this.editor.container,F,M);var j=setInterval(D,20)},this.releaseMouse=null,this.cancelContextMenu=function(){var T=(function(R){R&&R.domEvent&&R.domEvent.type!="contextmenu"||(this.editor.off("nativecontextmenu",T),R&&R.domEvent&&h.stopEvent(R.domEvent))}).bind(this);setTimeout(T,10),this.editor.on("nativecontextmenu",T)}}).call(S.prototype),b.defineOptions(S.prototype,"mouseHandler",{scrollSpeed:{initialValue:2},dragDelay:{initialValue:v.isMac?150:0},dragEnabled:{initialValue:!0},focusTimeout:{initialValue:0},tooltipFollowsMouse:{initialValue:!0}}),c.MouseHandler=S})),ace.define("ace/mouse/fold_handler",["require","exports","module","ace/lib/dom"],(function(l,c,f){var h=l("../lib/dom");c.FoldHandler=function(v){v.on("click",(function(m){var _=m.getDocumentPosition(),g=v.session,y=g.getFoldAt(_.row,_.column,1);y&&(m.getAccelKey()?g.removeFold(y):g.expandFold(y),m.stop());var u=m.domEvent&&m.domEvent.target;u&&h.hasCssClass(u,"ace_inline_button")&&h.hasCssClass(u,"ace_toggle_wrap")&&(g.setOption("wrap",!g.getUseWrapMode()),v.renderer.scrollCursorIntoView())})),v.on("gutterclick",(function(m){if(v.renderer.$gutterLayer.getRegion(m)=="foldWidgets"){var _=m.getDocumentPosition().row,g=v.session;g.foldWidgets&&g.foldWidgets[_]&&v.session.onFoldWidgetClick(_,m),v.isFocused()||v.focus(),m.stop()}})),v.on("gutterdblclick",(function(m){if(v.renderer.$gutterLayer.getRegion(m)=="foldWidgets"){var _=m.getDocumentPosition().row,g=v.session,y=g.getParentFoldRangeData(_,!0),u=y.range||y.firstRange;if(u){_=u.start.row;var b=g.getFoldAt(_,g.getLine(_).length,1);b?g.removeFold(b):(g.addFold("...",u),v.renderer.scrollCursorIntoView({row:u.start.row,column:0}))}m.stop()}}))}})),ace.define("ace/keyboard/keybinding",["require","exports","module","ace/lib/keys","ace/lib/event"],(function(l,c,f){var h=l("../lib/keys"),v=l("../lib/event"),m=function(_){this.$editor=_,this.$data={editor:_},this.$handlers=[],this.setDefaultHandler(_.commands)};(function(){this.setDefaultHandler=function(_){this.removeKeyboardHandler(this.$defaultHandler),this.$defaultHandler=_,this.addKeyboardHandler(_,0)},this.setKeyboardHandler=function(_){var g=this.$handlers;if(g[g.length-1]!=_){for(;g[g.length-1]&&g[g.length-1]!=this.$defaultHandler;)this.removeKeyboardHandler(g[g.length-1]);this.addKeyboardHandler(_,1)}},this.addKeyboardHandler=function(_,g){if(_){typeof _!="function"||_.handleKeyboard||(_.handleKeyboard=_);var y=this.$handlers.indexOf(_);y!=-1&&this.$handlers.splice(y,1),g==null?this.$handlers.push(_):this.$handlers.splice(g,0,_),y==-1&&_.attach&&_.attach(this.$editor)}},this.removeKeyboardHandler=function(_){var g=this.$handlers.indexOf(_);return g!=-1&&(this.$handlers.splice(g,1),_.detach&&_.detach(this.$editor),!0)},this.getKeyboardHandler=function(){return this.$handlers[this.$handlers.length-1]},this.getStatusText=function(){var _=this.$data,g=_.editor;return this.$handlers.map((function(y){return y.getStatusText&&y.getStatusText(g,_)||""})).filter(Boolean).join(" ")},this.$callKeyboardHandlers=function(_,g,y,u){for(var b,S=!1,T=this.$editor.commands,R=this.$handlers.length;R--&&!((b=this.$handlers[R].handleKeyboard(this.$data,_,g,y,u))&&b.command&&((S=b.command=="null"||T.exec(b.command,this.$editor,b.args,u))&&u&&_!=-1&&b.passEvent!=1&&b.command.passEvent!=1&&v.stopEvent(u),S)););return S||_!=-1||(b={command:"insertstring"},S=T.exec("insertstring",this.$editor,g)),S&&this.$editor._signal&&this.$editor._signal("keyboardActivity",b),S},this.onCommandKey=function(_,g,y){var u=h.keyCodeToString(y);return this.$callKeyboardHandlers(g,u,y,_)},this.onTextInput=function(_){return this.$callKeyboardHandlers(-1,_)}}).call(m.prototype),c.KeyBinding=m})),ace.define("ace/lib/bidiutil",["require","exports","module"],(function(l,c,f){var h=0,v=0,m=!1,_=!1,g=!1,y=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],u=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],b=11,S=18,T=[S,S,S,S,S,S,S,S,S,6,5,6,8,5,S,S,S,S,S,S,S,S,S,S,S,S,S,S,5,5,5,6,8,4,4,b,b,b,4,4,4,4,4,10,9,10,9,9,2,2,2,2,2,2,2,2,2,2,9,4,4,4,4,4,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,4,4,4,4,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,4,4,4,S,S,S,S,S,S,5,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,9,4,b,b,b,b,4,4,4,4,0,4,4,S,4,4,b,b,2,2,4,0,4,4,4,2,0,4,4,4,4,4],R=[8,8,8,8,8,8,8,8,8,8,8,S,S,S,0,1,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,8,5,13,14,15,16,17,9,b,b,b,b,b,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,9,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,8];function O(F,M,D){if(!(v<F))if(F!=1||h!=1||_)for(var B,j,U,V,k=D.length,Z=0;Z<k;){if(M[Z]>=F){for(B=Z+1;B<k&&M[B]>=F;)B++;for(j=Z,U=B-1;j<U;j++,U--)V=D[j],D[j]=D[U],D[U]=V;Z=B}Z++}else D.reverse()}function C(F,M,D,B){var j,U,V,k,Z=M[B];switch(Z){case 0:case 1:m=!1;case 4:case 3:return Z;case 2:return m?3:2;case 7:return m=!0,1;case 8:return 4;case 9:return B<1||B+1>=M.length||(j=D[B-1])!=2&&j!=3||(U=M[B+1])!=2&&U!=3?4:(m&&(U=3),U==j?U:4);case 10:return(j=B>0?D[B-1]:5)==2&&B+1<M.length&&M[B+1]==2?2:4;case b:if(B>0&&D[B-1]==2)return 2;if(m)return 4;for(k=B+1,V=M.length;k<V&&M[k]==b;)k++;return k<V&&M[k]==2?2:4;case 12:for(V=M.length,k=B+1;k<V&&M[k]==12;)k++;if(k<V){var ee=F[B],oe=ee>=1425&&ee<=2303||ee==64286;if(j=M[k],oe&&(j==1||j==7))return 1}return B<1||(j=M[B-1])==5?4:D[B-1];case 5:return m=!1,_=!0,h;case 6:return g=!0,4;case 13:case 14:case 16:case 17:case 15:m=!1;case S:return 4}}function I(F){var M=F.charCodeAt(0),D=M>>8;return D==0?M>191?0:T[M]:D==5?/[\u0591-\u05f4]/.test(F)?1:0:D==6?/[\u0610-\u061a\u064b-\u065f\u06d6-\u06e4\u06e7-\u06ed]/.test(F)?12:/[\u0660-\u0669\u066b-\u066c]/.test(F)?3:M==1642?b:/[\u06f0-\u06f9]/.test(F)?2:7:D==32&&M<=8287?R[255&M]:D==254&&M>=65136?7:4}c.L=0,c.R=1,c.EN=2,c.ON_R=3,c.AN=4,c.R_H=5,c.B=6,c.RLE=7,c.DOT="Â·",c.doBidiReorder=function(F,M,D){if(F.length<2)return{};var B=F.split(""),j=new Array(B.length),U=new Array(B.length),V=[];h=D?1:0,(function(Z,ee,oe,ne){var ie=h?u:y,he=null,fe=null,ce=null,ae=0,ve=null,_e=-1,Te=null,Fe=null,We=[];if(!ne)for(Te=0,ne=[];Te<oe;Te++)ne[Te]=I(Z[Te]);for(v=h,m=!1,_=!1,g=!1,Fe=0;Fe<oe;Fe++){if(he=ae,We[Fe]=fe=C(Z,ne,We,Fe),ve=240&(ae=ie[he][fe]),ae&=15,ee[Fe]=ce=ie[ae][5],ve>0)if(ve==16){for(Te=_e;Te<Fe;Te++)ee[Te]=1;_e=-1}else _e=-1;if(ie[ae][6])_e==-1&&(_e=Fe);else if(_e>-1){for(Te=_e;Te<Fe;Te++)ee[Te]=ce;_e=-1}ne[Fe]==5&&(ee[Fe]=0),v|=ce}if(g){for(Te=0;Te<oe;Te++)if(ne[Te]==6){ee[Te]=h;for(var ht=Te-1;ht>=0&&ne[ht]==8;ht--)ee[ht]=h}}})(B,V,B.length,M);for(var k=0;k<j.length;j[k]=k,k++);for(O(2,V,j),O(1,V,j),k=0;k<j.length-1;k++)M[k]===3?V[k]=c.AN:V[k]===1&&(M[k]>7&&M[k]<13||M[k]===4||M[k]===S)?V[k]=c.ON_R:k>0&&B[k-1]==="Ù"&&/\u0622|\u0623|\u0625|\u0627/.test(B[k])&&(V[k-1]=V[k]=c.R_H,k++);for(B[B.length-1]===c.DOT&&(V[B.length-1]=c.B),B[0]==="â«"&&(V[0]=c.RLE),k=0;k<j.length;k++)U[k]=V[j[k]];return{logicalFromVisual:j,bidiLevels:U}},c.hasBidiCharacters=function(F,M){for(var D=!1,B=0;B<F.length;B++)M[B]=I(F.charAt(B)),D||M[B]!=1&&M[B]!=7&&M[B]!=3||(D=!0);return D},c.getVisualFromLogicalIdx=function(F,M){for(var D=0;D<M.logicalFromVisual.length;D++)if(M.logicalFromVisual[D]==F)return D;return 0}})),ace.define("ace/bidihandler",["require","exports","module","ace/lib/bidiutil","ace/lib/lang"],(function(l,c,f){var h=l("./lib/bidiutil"),v=l("./lib/lang"),m=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\u202B]/,_=function(g){this.session=g,this.bidiMap={},this.currentRow=null,this.bidiUtil=h,this.charWidths=[],this.EOL="Â¬",this.showInvisibles=!0,this.isRtlDir=!1,this.$isRtl=!1,this.line="",this.wrapIndent=0,this.EOF="Â¶",this.RLE="â«",this.contentWidth=0,this.fontMetrics=null,this.rtlLineOffset=0,this.wrapOffset=0,this.isMoveLeftOperation=!1,this.seenBidi=m.test(g.getValue())};(function(){this.isBidiRow=function(g,y,u){return!!this.seenBidi&&(g!==this.currentRow&&(this.currentRow=g,this.updateRowLine(y,u),this.updateBidiMap()),this.bidiMap.bidiLevels)},this.onChange=function(g){this.seenBidi?this.currentRow=null:g.action=="insert"&&m.test(g.lines.join(`
`))&&(this.seenBidi=!0,this.currentRow=null)},this.getDocumentRow=function(){var g=0,y=this.session.$screenRowCache;if(y.length){var u=this.session.$getRowCacheIndex(y,this.currentRow);u>=0&&(g=this.session.$docRowCache[u])}return g},this.getSplitIndex=function(){var g=0,y=this.session.$screenRowCache;if(y.length)for(var u,b=this.session.$getRowCacheIndex(y,this.currentRow);this.currentRow-g>0&&(u=this.session.$getRowCacheIndex(y,this.currentRow-g-1))===b;)b=u,g++;else g=this.currentRow;return g},this.updateRowLine=function(g,y){g===void 0&&(g=this.getDocumentRow());var u=g===this.session.getLength()-1?this.EOF:this.EOL;if(this.wrapIndent=0,this.line=this.session.getLine(g),this.isRtlDir=this.$isRtl||this.line.charAt(0)===this.RLE,this.session.$useWrapMode){var b=this.session.$wrapData[g];b&&(y===void 0&&(y=this.getSplitIndex()),y>0&&b.length?(this.wrapIndent=b.indent,this.wrapOffset=this.wrapIndent*this.charWidths[h.L],this.line=y<b.length?this.line.substring(b[y-1],b[y]):this.line.substring(b[b.length-1])):this.line=this.line.substring(0,b[y])),y==b.length&&(this.line+=this.showInvisibles?u:h.DOT)}else this.line+=this.showInvisibles?u:h.DOT;var S,T=this.session,R=0;this.line=this.line.replace(/\t|[\u1100-\u2029, \u202F-\uFFE6]/g,(function(O,C){return O==="	"||T.isFullWidth(O.charCodeAt(0))?(S=O==="	"?T.getScreenTabSize(C+R):2,R+=S-1,v.stringRepeat(h.DOT,S)):O})),this.isRtlDir&&(this.fontMetrics.$main.textContent=this.line.charAt(this.line.length-1)==h.DOT?this.line.substr(0,this.line.length-1):this.line,this.rtlLineOffset=this.contentWidth-this.fontMetrics.$main.getBoundingClientRect().width)},this.updateBidiMap=function(){var g=[];h.hasBidiCharacters(this.line,g)||this.isRtlDir?this.bidiMap=h.doBidiReorder(this.line,g,this.isRtlDir):this.bidiMap={}},this.markAsDirty=function(){this.currentRow=null},this.updateCharacterWidths=function(g){if(this.characterWidth!==g.$characterSize.width){this.fontMetrics=g;var y=this.characterWidth=g.$characterSize.width,u=g.$measureCharWidth("×");this.charWidths[h.L]=this.charWidths[h.EN]=this.charWidths[h.ON_R]=y,this.charWidths[h.R]=this.charWidths[h.AN]=u,this.charWidths[h.R_H]=.45*u,this.charWidths[h.B]=this.charWidths[h.RLE]=0,this.currentRow=null}},this.setShowInvisibles=function(g){this.showInvisibles=g,this.currentRow=null},this.setEolChar=function(g){this.EOL=g},this.setContentWidth=function(g){this.contentWidth=g},this.isRtlLine=function(g){return!!this.$isRtl||(g!=null?this.session.getLine(g).charAt(0)==this.RLE:this.isRtlDir)},this.setRtlDirection=function(g,y){for(var u=g.getCursorPosition(),b=g.selection.getSelectionAnchor().row;b<=u.row;b++)y||g.session.getLine(b).charAt(0)!==g.session.$bidiHandler.RLE?y&&g.session.getLine(b).charAt(0)!==g.session.$bidiHandler.RLE&&g.session.doc.insert({column:0,row:b},g.session.$bidiHandler.RLE):g.session.doc.removeInLine(b,0,1)},this.getPosLeft=function(g){g-=this.wrapIndent;var y=this.line.charAt(0)===this.RLE?1:0,u=g>y?this.session.getOverwrite()?g:g-1:y,b=h.getVisualFromLogicalIdx(u,this.bidiMap),S=this.bidiMap.bidiLevels,T=0;!this.session.getOverwrite()&&g<=y&&S[b]%2!=0&&b++;for(var R=0;R<b;R++)T+=this.charWidths[S[R]];return!this.session.getOverwrite()&&g>y&&S[b]%2==0&&(T+=this.charWidths[S[b]]),this.wrapIndent&&(T+=this.isRtlDir?-1*this.wrapOffset:this.wrapOffset),this.isRtlDir&&(T+=this.rtlLineOffset),T},this.getSelections=function(g,y){var u,b=this.bidiMap,S=b.bidiLevels,T=[],R=0,O=Math.min(g,y)-this.wrapIndent,C=Math.max(g,y)-this.wrapIndent,I=!1,F=!1,M=0;this.wrapIndent&&(R+=this.isRtlDir?-1*this.wrapOffset:this.wrapOffset);for(var D,B=0;B<S.length;B++)D=b.logicalFromVisual[B],u=S[B],(I=D>=O&&D<C)&&!F?M=R:!I&&F&&T.push({left:M,width:R-M}),R+=this.charWidths[u],F=I;if(I&&B===S.length&&T.push({left:M,width:R-M}),this.isRtlDir)for(var j=0;j<T.length;j++)T[j].left+=this.rtlLineOffset;return T},this.offsetToCol=function(g){this.isRtlDir&&(g-=this.rtlLineOffset);var y=0,u=(g=Math.max(g,0),0),b=0,S=this.bidiMap.bidiLevels,T=this.charWidths[S[b]];for(this.wrapIndent&&(g-=this.isRtlDir?-1*this.wrapOffset:this.wrapOffset);g>u+T/2;){if(u+=T,b===S.length-1){T=0;break}T=this.charWidths[S[++b]]}return b>0&&S[b-1]%2!=0&&S[b]%2==0?(g<u&&b--,y=this.bidiMap.logicalFromVisual[b]):b>0&&S[b-1]%2==0&&S[b]%2!=0?y=1+(g>u?this.bidiMap.logicalFromVisual[b]:this.bidiMap.logicalFromVisual[b-1]):this.isRtlDir&&b===S.length-1&&T===0&&S[b-1]%2==0||!this.isRtlDir&&b===0&&S[b]%2!=0?y=1+this.bidiMap.logicalFromVisual[b]:(b>0&&S[b-1]%2!=0&&T!==0&&b--,y=this.bidiMap.logicalFromVisual[b]),y===0&&this.isRtlDir&&y++,y+this.wrapIndent}}).call(_.prototype),c.BidiHandler=_})),ace.define("ace/selection",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/lib/event_emitter","ace/range"],(function(l,c,f){var h=l("./lib/oop"),v=l("./lib/lang"),m=l("./lib/event_emitter").EventEmitter,_=l("./range").Range,g=function(y){this.session=y,this.doc=y.getDocument(),this.clearSelection(),this.cursor=this.lead=this.doc.createAnchor(0,0),this.anchor=this.doc.createAnchor(0,0),this.$silent=!1;var u=this;this.cursor.on("change",(function(b){u.$cursorChanged=!0,u.$silent||u._emit("changeCursor"),u.$isEmpty||u.$silent||u._emit("changeSelection"),u.$keepDesiredColumnOnChange||b.old.column==b.value.column||(u.$desiredColumn=null)})),this.anchor.on("change",(function(){u.$anchorChanged=!0,u.$isEmpty||u.$silent||u._emit("changeSelection")}))};(function(){h.implement(this,m),this.isEmpty=function(){return this.$isEmpty||this.anchor.row==this.lead.row&&this.anchor.column==this.lead.column},this.isMultiLine=function(){return!this.$isEmpty&&this.anchor.row!=this.cursor.row},this.getCursor=function(){return this.lead.getPosition()},this.setSelectionAnchor=function(y,u){this.$isEmpty=!1,this.anchor.setPosition(y,u)},this.getAnchor=this.getSelectionAnchor=function(){return this.$isEmpty?this.getSelectionLead():this.anchor.getPosition()},this.getSelectionLead=function(){return this.lead.getPosition()},this.isBackwards=function(){var y=this.anchor,u=this.lead;return y.row>u.row||y.row==u.row&&y.column>u.column},this.getRange=function(){var y=this.anchor,u=this.lead;return this.$isEmpty?_.fromPoints(u,u):this.isBackwards()?_.fromPoints(u,y):_.fromPoints(y,u)},this.clearSelection=function(){this.$isEmpty||(this.$isEmpty=!0,this._emit("changeSelection"))},this.selectAll=function(){this.$setSelection(0,0,Number.MAX_VALUE,Number.MAX_VALUE)},this.setRange=this.setSelectionRange=function(y,u){var b=u?y.end:y.start,S=u?y.start:y.end;this.$setSelection(b.row,b.column,S.row,S.column)},this.$setSelection=function(y,u,b,S){var T=this.$isEmpty,R=this.inMultiSelectMode;this.$silent=!0,this.$cursorChanged=this.$anchorChanged=!1,this.anchor.setPosition(y,u),this.cursor.setPosition(b,S),this.$isEmpty=!_.comparePoints(this.anchor,this.cursor),this.$silent=!1,this.$cursorChanged&&this._emit("changeCursor"),(this.$cursorChanged||this.$anchorChanged||T!=this.$isEmpty||R)&&this._emit("changeSelection")},this.$moveSelection=function(y){var u=this.lead;this.$isEmpty&&this.setSelectionAnchor(u.row,u.column),y.call(this)},this.selectTo=function(y,u){this.$moveSelection((function(){this.moveCursorTo(y,u)}))},this.selectToPosition=function(y){this.$moveSelection((function(){this.moveCursorToPosition(y)}))},this.moveTo=function(y,u){this.clearSelection(),this.moveCursorTo(y,u)},this.moveToPosition=function(y){this.clearSelection(),this.moveCursorToPosition(y)},this.selectUp=function(){this.$moveSelection(this.moveCursorUp)},this.selectDown=function(){this.$moveSelection(this.moveCursorDown)},this.selectRight=function(){this.$moveSelection(this.moveCursorRight)},this.selectLeft=function(){this.$moveSelection(this.moveCursorLeft)},this.selectLineStart=function(){this.$moveSelection(this.moveCursorLineStart)},this.selectLineEnd=function(){this.$moveSelection(this.moveCursorLineEnd)},this.selectFileEnd=function(){this.$moveSelection(this.moveCursorFileEnd)},this.selectFileStart=function(){this.$moveSelection(this.moveCursorFileStart)},this.selectWordRight=function(){this.$moveSelection(this.moveCursorWordRight)},this.selectWordLeft=function(){this.$moveSelection(this.moveCursorWordLeft)},this.getWordRange=function(y,u){if(u===void 0){var b=y||this.lead;y=b.row,u=b.column}return this.session.getWordRange(y,u)},this.selectWord=function(){this.setSelectionRange(this.getWordRange())},this.selectAWord=function(){var y=this.getCursor(),u=this.session.getAWordRange(y.row,y.column);this.setSelectionRange(u)},this.getLineRange=function(y,u){var b,S=typeof y=="number"?y:this.lead.row,T=this.session.getFoldLine(S);return T?(S=T.start.row,b=T.end.row):b=S,u===!0?new _(S,0,b,this.session.getLine(b).length):new _(S,0,b+1,0)},this.selectLine=function(){this.setSelectionRange(this.getLineRange())},this.moveCursorUp=function(){this.moveCursorBy(-1,0)},this.moveCursorDown=function(){this.moveCursorBy(1,0)},this.wouldMoveIntoSoftTab=function(y,u,b){var S=y.column,T=y.column+u;return b<0&&(S=y.column-u,T=y.column),this.session.isTabStop(y)&&this.doc.getLine(y.row).slice(S,T).split(" ").length-1==u},this.moveCursorLeft=function(){var y,u=this.lead.getPosition();if(y=this.session.getFoldAt(u.row,u.column,-1))this.moveCursorTo(y.start.row,y.start.column);else if(u.column===0)u.row>0&&this.moveCursorTo(u.row-1,this.doc.getLine(u.row-1).length);else{var b=this.session.getTabSize();this.wouldMoveIntoSoftTab(u,b,-1)&&!this.session.getNavigateWithinSoftTabs()?this.moveCursorBy(0,-b):this.moveCursorBy(0,-1)}},this.moveCursorRight=function(){var y,u=this.lead.getPosition();if(y=this.session.getFoldAt(u.row,u.column,1))this.moveCursorTo(y.end.row,y.end.column);else if(this.lead.column==this.doc.getLine(this.lead.row).length)this.lead.row<this.doc.getLength()-1&&this.moveCursorTo(this.lead.row+1,0);else{var b=this.session.getTabSize();u=this.lead,this.wouldMoveIntoSoftTab(u,b,1)&&!this.session.getNavigateWithinSoftTabs()?this.moveCursorBy(0,b):this.moveCursorBy(0,1)}},this.moveCursorLineStart=function(){var y=this.lead.row,u=this.lead.column,b=this.session.documentToScreenRow(y,u),S=this.session.screenToDocumentPosition(b,0),T=this.session.getDisplayLine(y,null,S.row,S.column).match(/^\s*/);T[0].length==u||this.session.$useEmacsStyleLineStart||(S.column+=T[0].length),this.moveCursorToPosition(S)},this.moveCursorLineEnd=function(){var y=this.lead,u=this.session.getDocumentLastRowColumnPosition(y.row,y.column);if(this.lead.column==u.column){var b=this.session.getLine(u.row);if(u.column==b.length){var S=b.search(/\s+$/);S>0&&(u.column=S)}}this.moveCursorTo(u.row,u.column)},this.moveCursorFileEnd=function(){var y=this.doc.getLength()-1,u=this.doc.getLine(y).length;this.moveCursorTo(y,u)},this.moveCursorFileStart=function(){this.moveCursorTo(0,0)},this.moveCursorLongWordRight=function(){var y=this.lead.row,u=this.lead.column,b=this.doc.getLine(y),S=b.substring(u);this.session.nonTokenRe.lastIndex=0,this.session.tokenRe.lastIndex=0;var T=this.session.getFoldAt(y,u,1);if(T)this.moveCursorTo(T.end.row,T.end.column);else{if(this.session.nonTokenRe.exec(S)&&(u+=this.session.nonTokenRe.lastIndex,this.session.nonTokenRe.lastIndex=0,S=b.substring(u)),u>=b.length)return this.moveCursorTo(y,b.length),this.moveCursorRight(),void(y<this.doc.getLength()-1&&this.moveCursorWordRight());this.session.tokenRe.exec(S)&&(u+=this.session.tokenRe.lastIndex,this.session.tokenRe.lastIndex=0),this.moveCursorTo(y,u)}},this.moveCursorLongWordLeft=function(){var y,u=this.lead.row,b=this.lead.column;if(y=this.session.getFoldAt(u,b,-1))this.moveCursorTo(y.start.row,y.start.column);else{var S=this.session.getFoldStringAt(u,b,-1);S==null&&(S=this.doc.getLine(u).substring(0,b));var T=v.stringReverse(S);if(this.session.nonTokenRe.lastIndex=0,this.session.tokenRe.lastIndex=0,this.session.nonTokenRe.exec(T)&&(b-=this.session.nonTokenRe.lastIndex,T=T.slice(this.session.nonTokenRe.lastIndex),this.session.nonTokenRe.lastIndex=0),b<=0)return this.moveCursorTo(u,0),this.moveCursorLeft(),void(u>0&&this.moveCursorWordLeft());this.session.tokenRe.exec(T)&&(b-=this.session.tokenRe.lastIndex,this.session.tokenRe.lastIndex=0),this.moveCursorTo(u,b)}},this.$shortWordEndIndex=function(y){var u,b=0,S=/\s/,T=this.session.tokenRe;if(T.lastIndex=0,this.session.tokenRe.exec(y))b=this.session.tokenRe.lastIndex;else{for(;(u=y[b])&&S.test(u);)b++;if(b<1){for(T.lastIndex=0;(u=y[b])&&!T.test(u);)if(T.lastIndex=0,b++,S.test(u)){if(b>2){b--;break}for(;(u=y[b])&&S.test(u);)b++;if(b>2)break}}}return T.lastIndex=0,b},this.moveCursorShortWordRight=function(){var y=this.lead.row,u=this.lead.column,b=this.doc.getLine(y),S=b.substring(u),T=this.session.getFoldAt(y,u,1);if(T)return this.moveCursorTo(T.end.row,T.end.column);if(u==b.length){var R=this.doc.getLength();do y++,S=this.doc.getLine(y);while(y<R&&/^\s*$/.test(S));/^\s+/.test(S)||(S=""),u=0}var O=this.$shortWordEndIndex(S);this.moveCursorTo(y,u+O)},this.moveCursorShortWordLeft=function(){var y,u=this.lead.row,b=this.lead.column;if(y=this.session.getFoldAt(u,b,-1))return this.moveCursorTo(y.start.row,y.start.column);var S=this.session.getLine(u).substring(0,b);if(b===0){do u--,S=this.doc.getLine(u);while(u>0&&/^\s*$/.test(S));b=S.length,/\s+$/.test(S)||(S="")}var T=v.stringReverse(S),R=this.$shortWordEndIndex(T);return this.moveCursorTo(u,b-R)},this.moveCursorWordRight=function(){this.session.$selectLongWords?this.moveCursorLongWordRight():this.moveCursorShortWordRight()},this.moveCursorWordLeft=function(){this.session.$selectLongWords?this.moveCursorLongWordLeft():this.moveCursorShortWordLeft()},this.moveCursorBy=function(y,u){var b,S=this.session.documentToScreenPosition(this.lead.row,this.lead.column);u===0&&(y!==0&&(this.session.$bidiHandler.isBidiRow(S.row,this.lead.row)?(b=this.session.$bidiHandler.getPosLeft(S.column),S.column=Math.round(b/this.session.$bidiHandler.charWidths[0])):b=S.column*this.session.$bidiHandler.charWidths[0]),this.$desiredColumn?S.column=this.$desiredColumn:this.$desiredColumn=S.column);var T=this.session.screenToDocumentPosition(S.row+y,S.column,b);y!==0&&u===0&&T.row===this.lead.row&&T.column===this.lead.column&&this.session.lineWidgets&&this.session.lineWidgets[T.row]&&(T.row>0||y>0)&&T.row++,this.moveCursorTo(T.row,T.column+u,u===0)},this.moveCursorToPosition=function(y){this.moveCursorTo(y.row,y.column)},this.moveCursorTo=function(y,u,b){var S=this.session.getFoldAt(y,u,1);S&&(y=S.start.row,u=S.start.column),this.$keepDesiredColumnOnChange=!0;var T=this.session.getLine(y);/[\uDC00-\uDFFF]/.test(T.charAt(u))&&T.charAt(u-1)&&(this.lead.row==y&&this.lead.column==u+1?u-=1:u+=1),this.lead.setPosition(y,u),this.$keepDesiredColumnOnChange=!1,b||(this.$desiredColumn=null)},this.moveCursorToScreen=function(y,u,b){var S=this.session.screenToDocumentPosition(y,u);this.moveCursorTo(S.row,S.column,b)},this.detach=function(){this.lead.detach(),this.anchor.detach(),this.session=this.doc=null},this.fromOrientedRange=function(y){this.setSelectionRange(y,y.cursor==y.start),this.$desiredColumn=y.desiredColumn||this.$desiredColumn},this.toOrientedRange=function(y){var u=this.getRange();return y?(y.start.column=u.start.column,y.start.row=u.start.row,y.end.column=u.end.column,y.end.row=u.end.row):y=u,y.cursor=this.isBackwards()?y.start:y.end,y.desiredColumn=this.$desiredColumn,y},this.getRangeOfMovements=function(y){var u=this.getCursor();try{y(this);var b=this.getCursor();return _.fromPoints(u,b)}catch{return _.fromPoints(u,u)}finally{this.moveCursorToPosition(u)}},this.toJSON=function(){if(this.rangeCount)var y=this.ranges.map((function(u){var b=u.clone();return b.isBackwards=u.cursor==u.start,b}));else(y=this.getRange()).isBackwards=this.isBackwards();return y},this.fromJSON=function(y){if(y.start==null){if(this.rangeList&&y.length>1){this.toSingleRange(y[0]);for(var u=y.length;u--;){var b=_.fromPoints(y[u].start,y[u].end);y[u].isBackwards&&(b.cursor=b.start),this.addRange(b,!0)}return}y=y[0]}this.rangeList&&this.toSingleRange(y),this.setSelectionRange(y,y.isBackwards)},this.isEqual=function(y){if((y.length||this.rangeCount)&&y.length!=this.rangeCount)return!1;if(!y.length||!this.ranges)return this.getRange().isEqual(y);for(var u=this.ranges.length;u--;)if(!this.ranges[u].isEqual(y[u]))return!1;return!0}}).call(g.prototype),c.Selection=g})),ace.define("ace/tokenizer",["require","exports","module","ace/config"],(function(l,c,f){var h=l("./config"),v=2e3,m=function(_){for(var g in this.states=_,this.regExps={},this.matchMappings={},this.states){for(var y=this.states[g],u=[],b=0,S=this.matchMappings[g]={defaultToken:"text"},T="g",R=[],O=0;O<y.length;O++){var C=y[O];if(C.defaultToken&&(S.defaultToken=C.defaultToken),C.caseInsensitive&&(T="gi"),C.regex!=null){C.regex instanceof RegExp&&(C.regex=C.regex.toString().slice(1,-1));var I=C.regex,F=new RegExp("(?:("+I+")|(.))").exec("a").length-2;Array.isArray(C.token)?C.token.length==1||F==1?C.token=C.token[0]:F-1!=C.token.length?(this.reportError("number of classes and regexp groups doesn't match",{rule:C,groupCount:F-1}),C.token=C.token[0]):(C.tokenArray=C.token,C.token=null,C.onMatch=this.$arrayTokens):typeof C.token!="function"||C.onMatch||(C.onMatch=F>1?this.$applyToken:C.token),F>1&&(/\\\d/.test(C.regex)?I=C.regex.replace(/\\([0-9]+)/g,(function(M,D){return"\\"+(parseInt(D,10)+b+1)})):(F=1,I=this.removeCapturingGroups(C.regex)),C.splitRegex||typeof C.token=="string"||R.push(C)),S[b]=O,b+=F,u.push(I),C.onMatch||(C.onMatch=null)}}u.length||(S[0]=0,u.push("$")),R.forEach((function(M){M.splitRegex=this.createSplitterRegexp(M.regex,T)}),this),this.regExps[g]=new RegExp("("+u.join(")|(")+")|($)",T)}};(function(){this.$setMaxTokenCount=function(_){v=0|_},this.$applyToken=function(_){var g=this.splitRegex.exec(_).slice(1),y=this.token.apply(this,g);if(typeof y=="string")return[{type:y,value:_}];for(var u=[],b=0,S=y.length;b<S;b++)g[b]&&(u[u.length]={type:y[b],value:g[b]});return u},this.$arrayTokens=function(_){if(!_)return[];var g=this.splitRegex.exec(_);if(!g)return"text";for(var y=[],u=this.tokenArray,b=0,S=u.length;b<S;b++)g[b+1]&&(y[y.length]={type:u[b],value:g[b+1]});return y},this.removeCapturingGroups=function(_){return _.replace(/\\.|\[(?:\\.|[^\\\]])*|\(\?[:=!]|(\()/g,(function(g,y){return y?"(?:":g}))},this.createSplitterRegexp=function(_,g){if(_.indexOf("(?=")!=-1){var y=0,u=!1,b={};_.replace(/(\\.)|(\((?:\?[=!])?)|(\))|([\[\]])/g,(function(S,T,R,O,C,I){return u?u=C!="]":C?u=!0:O?(y==b.stack&&(b.end=I+1,b.stack=-1),y--):R&&(y++,R.length!=1&&(b.stack=y,b.start=I)),S})),b.end!=null&&/^\)*$/.test(_.substr(b.end))&&(_=_.substring(0,b.start)+_.substr(b.end))}return _.charAt(0)!="^"&&(_="^"+_),_.charAt(_.length-1)!="$"&&(_+="$"),new RegExp(_,(g||"").replace("g",""))},this.getLineTokens=function(_,g){if(g&&typeof g!="string"){var y=g.slice(0);(g=y[0])==="#tmp"&&(y.shift(),g=y.shift())}else y=[];var u=g||"start",b=this.states[u];b||(u="start",b=this.states[u]);var S=this.matchMappings[u],T=this.regExps[u];T.lastIndex=0;for(var R,O=[],C=0,I=0,F={type:null,value:""};R=T.exec(_);){var M=S.defaultToken,D=null,B=R[0],j=T.lastIndex;if(j-B.length>C){var U=_.substring(C,j-B.length);F.type==M?F.value+=U:(F.type&&O.push(F),F={type:M,value:U})}for(var V=0;V<R.length-2;V++)if(R[V+1]!==void 0){M=(D=b[S[V]]).onMatch?D.onMatch(B,u,y,_):D.token,D.next&&(u=typeof D.next=="string"?D.next:D.next(u,y),(b=this.states[u])||(this.reportError("state doesn't exist",u),u="start",b=this.states[u]),S=this.matchMappings[u],C=j,(T=this.regExps[u]).lastIndex=j),D.consumeLineEnd&&(C=j);break}if(B){if(typeof M=="string")D&&D.merge===!1||F.type!==M?(F.type&&O.push(F),F={type:M,value:B}):F.value+=B;else if(M)for(F.type&&O.push(F),F={type:null,value:""},V=0;V<M.length;V++)O.push(M[V])}if(C==_.length)break;if(C=j,I++>v){for(I>2*_.length&&this.reportError("infinite loop with in ace tokenizer",{startState:g,line:_});C<_.length;)F.type&&O.push(F),F={value:_.substring(C,C+=500),type:"overflow"};u="start",y=[];break}}return F.type&&O.push(F),y.length>1&&y[0]!==u&&y.unshift("#tmp",u),{tokens:O,state:y.length?y:u}},this.reportError=h.reportError}).call(m.prototype),c.Tokenizer=m})),ace.define("ace/mode/text_highlight_rules",["require","exports","module","ace/lib/lang"],(function(l,c,f){var h=l("../lib/lang"),v=function(){this.$rules={start:[{token:"empty_line",regex:"^$"},{defaultToken:"text"}]}};(function(){this.addRules=function(g,y){if(y)for(var u in g){for(var b=g[u],S=0;S<b.length;S++){var T=b[S];(T.next||T.onMatch)&&(typeof T.next=="string"&&T.next.indexOf(y)!==0&&(T.next=y+T.next),T.nextState&&T.nextState.indexOf(y)!==0&&(T.nextState=y+T.nextState))}this.$rules[y+u]=b}else for(var u in g)this.$rules[u]=g[u]},this.getRules=function(){return this.$rules},this.embedRules=function(g,y,u,b,S){var T=typeof g=="function"?new g().getRules():g;if(b)for(var R=0;R<b.length;R++)b[R]=y+b[R];else for(var O in b=[],T)b.push(y+O);if(this.addRules(T,y),u){var C=Array.prototype[S?"push":"unshift"];for(R=0;R<b.length;R++)C.apply(this.$rules[b[R]],h.deepCopy(u))}this.$embeds||(this.$embeds=[]),this.$embeds.push(y)},this.getEmbeds=function(){return this.$embeds};var m=function(g,y){return(g!="start"||y.length)&&y.unshift(this.nextState,g),this.nextState},_=function(g,y){return y.shift(),y.shift()||"start"};this.normalizeRules=function(){var g=0,y=this.$rules;Object.keys(y).forEach((function u(b){var S=y[b];S.processed=!0;for(var T=0;T<S.length;T++){var R=S[T],O=null;Array.isArray(R)&&(O=R,R={}),!R.regex&&R.start&&(R.regex=R.start,R.next||(R.next=[]),R.next.push({defaultToken:R.token},{token:R.token+".end",regex:R.end||R.start,next:"pop"}),R.token=R.token+".start",R.push=!0);var C=R.next||R.push;if(C&&Array.isArray(C)){var I=R.stateName;I||(typeof(I=R.token)!="string"&&(I=I[0]||""),y[I]&&(I+=g++)),y[I]=C,R.next=I,u(I)}else C=="pop"&&(R.next=_);if(R.push&&(R.nextState=R.next||R.push,R.next=m,delete R.push),R.rules)for(var F in R.rules)y[F]?y[F].push&&y[F].push.apply(y[F],R.rules[F]):y[F]=R.rules[F];var M=typeof R=="string"?R:R.include;if(M&&(O=Array.isArray(M)?M.map((function(B){return y[B]})):y[M]),O){var D=[T,1].concat(O);R.noEscape&&(D=D.filter((function(B){return!B.next}))),S.splice.apply(S,D),T--}R.keywordMap&&(R.token=this.createKeywordMapper(R.keywordMap,R.defaultToken||"text",R.caseInsensitive),delete R.defaultToken)}}),this)},this.createKeywordMapper=function(g,y,u,b){var S=Object.create(null);return Object.keys(g).forEach((function(T){var R=g[T];u&&(R=R.toLowerCase());for(var O=R.split(b||"|"),C=O.length;C--;)S[O[C]]=T})),Object.getPrototypeOf(S)&&(S.__proto__=null),this.$keywordList=Object.keys(S),g=null,u?function(T){return S[T.toLowerCase()]||y}:function(T){return S[T]||y}},this.getKeywords=function(){return this.$keywords}}).call(v.prototype),c.TextHighlightRules=v})),ace.define("ace/mode/behaviour",["require","exports","module"],(function(l,c,f){var h=function(){this.$behaviours={}};(function(){this.add=function(v,m,_){switch(void 0){case this.$behaviours:this.$behaviours={};case this.$behaviours[v]:this.$behaviours[v]={}}this.$behaviours[v][m]=_},this.addBehaviours=function(v){for(var m in v)for(var _ in v[m])this.add(m,_,v[m][_])},this.remove=function(v){this.$behaviours&&this.$behaviours[v]&&delete this.$behaviours[v]},this.inherit=function(v,m){if(typeof v=="function")var _=new v().getBehaviours(m);else _=v.getBehaviours(m);this.addBehaviours(_)},this.getBehaviours=function(v){if(v){for(var m={},_=0;_<v.length;_++)this.$behaviours[v[_]]&&(m[v[_]]=this.$behaviours[v[_]]);return m}return this.$behaviours}}).call(h.prototype),c.Behaviour=h})),ace.define("ace/token_iterator",["require","exports","module","ace/range"],(function(l,c,f){var h=l("./range").Range,v=function(m,_,g){this.$session=m,this.$row=_,this.$rowTokens=m.getTokens(_);var y=m.getTokenAt(_,g);this.$tokenIndex=y?y.index:-1};(function(){this.stepBackward=function(){for(this.$tokenIndex-=1;this.$tokenIndex<0;){if(this.$row-=1,this.$row<0)return this.$row=0,null;this.$rowTokens=this.$session.getTokens(this.$row),this.$tokenIndex=this.$rowTokens.length-1}return this.$rowTokens[this.$tokenIndex]},this.stepForward=function(){var m;for(this.$tokenIndex+=1;this.$tokenIndex>=this.$rowTokens.length;){if(this.$row+=1,m||(m=this.$session.getLength()),this.$row>=m)return this.$row=m-1,null;this.$rowTokens=this.$session.getTokens(this.$row),this.$tokenIndex=0}return this.$rowTokens[this.$tokenIndex]},this.getCurrentToken=function(){return this.$rowTokens[this.$tokenIndex]},this.getCurrentTokenRow=function(){return this.$row},this.getCurrentTokenColumn=function(){var m=this.$rowTokens,_=this.$tokenIndex,g=m[_].start;if(g!==void 0)return g;for(g=0;_>0;)g+=m[_-=1].value.length;return g},this.getCurrentTokenPosition=function(){return{row:this.$row,column:this.getCurrentTokenColumn()}},this.getCurrentTokenRange=function(){var m=this.$rowTokens[this.$tokenIndex],_=this.getCurrentTokenColumn();return new h(this.$row,_,this.$row,_+m.value.length)}}).call(v.prototype),c.TokenIterator=v})),ace.define("ace/mode/behaviour/cstyle",["require","exports","module","ace/lib/oop","ace/mode/behaviour","ace/token_iterator","ace/lib/lang"],(function(l,c,f){var h,v=l("../../lib/oop"),m=l("../behaviour").Behaviour,_=l("../../token_iterator").TokenIterator,g=l("../../lib/lang"),y=["text","paren.rparen","rparen","paren","punctuation.operator"],u=["text","paren.rparen","rparen","paren","punctuation.operator","comment"],b={},S={'"':'"',"'":"'"},T=function(C){var I=-1;if(C.multiSelect&&(I=C.selection.index,b.rangeCount!=C.multiSelect.rangeCount&&(b={rangeCount:C.multiSelect.rangeCount})),b[I])return h=b[I];h=b[I]={autoInsertedBrackets:0,autoInsertedRow:-1,autoInsertedLineEnd:"",maybeInsertedBrackets:0,maybeInsertedRow:-1,maybeInsertedLineStart:"",maybeInsertedLineEnd:""}},R=function(C,I,F,M){var D=C.end.row-C.start.row;return{text:F+I+M,selection:[0,C.start.column+1,D,C.end.column+(D?0:1)]}},O=function(C){this.add("braces","insertion",(function(I,F,M,D,B){var j=M.getCursorPosition(),U=D.doc.getLine(j.row);if(B=="{"){T(M);var V=M.getSelectionRange(),k=D.doc.getTextRange(V);if(k!==""&&k!=="{"&&M.getWrapBehavioursEnabled())return R(V,k,"{","}");if(O.isSaneInsertion(M,D))return/[\]\}\)]/.test(U[j.column])||M.inMultiSelectMode||C&&C.braces?(O.recordAutoInsert(M,D,"}"),{text:"{}",selection:[1,1]}):(O.recordMaybeInsert(M,D,"{"),{text:"{",selection:[1,1]})}else if(B=="}"){if(T(M),U.substring(j.column,j.column+1)=="}"&&D.$findOpeningBracket("}",{column:j.column+1,row:j.row})!==null&&O.isAutoInsertedClosing(j,U,B))return O.popAutoInsertedClosing(),{text:"",selection:[1,1]}}else{if(B==`
`||B==`\r
`){T(M);var Z="";if(O.isMaybeInsertedClosing(j,U)&&(Z=g.stringRepeat("}",h.maybeInsertedBrackets),O.clearMaybeInsertedClosing()),U.substring(j.column,j.column+1)==="}"){var ee=D.findMatchingBracket({row:j.row,column:j.column+1},"}");if(!ee)return null;var oe=this.$getIndent(D.getLine(ee.row))}else{if(!Z)return void O.clearMaybeInsertedClosing();oe=this.$getIndent(U)}var ne=oe+D.getTabString();return{text:`
`+ne+`
`+oe+Z,selection:[1,ne.length,1,ne.length]}}O.clearMaybeInsertedClosing()}})),this.add("braces","deletion",(function(I,F,M,D,B){var j=D.doc.getTextRange(B);if(!B.isMultiLine()&&j=="{"){if(T(M),D.doc.getLine(B.start.row).substring(B.end.column,B.end.column+1)=="}")return B.end.column++,B;h.maybeInsertedBrackets--}})),this.add("parens","insertion",(function(I,F,M,D,B){if(B=="("){T(M);var j=M.getSelectionRange(),U=D.doc.getTextRange(j);if(U!==""&&M.getWrapBehavioursEnabled())return R(j,U,"(",")");if(O.isSaneInsertion(M,D))return O.recordAutoInsert(M,D,")"),{text:"()",selection:[1,1]}}else if(B==")"){T(M);var V=M.getCursorPosition(),k=D.doc.getLine(V.row);if(k.substring(V.column,V.column+1)==")"&&D.$findOpeningBracket(")",{column:V.column+1,row:V.row})!==null&&O.isAutoInsertedClosing(V,k,B))return O.popAutoInsertedClosing(),{text:"",selection:[1,1]}}})),this.add("parens","deletion",(function(I,F,M,D,B){var j=D.doc.getTextRange(B);if(!B.isMultiLine()&&j=="("&&(T(M),D.doc.getLine(B.start.row).substring(B.start.column+1,B.start.column+2)==")"))return B.end.column++,B})),this.add("brackets","insertion",(function(I,F,M,D,B){if(B=="["){T(M);var j=M.getSelectionRange(),U=D.doc.getTextRange(j);if(U!==""&&M.getWrapBehavioursEnabled())return R(j,U,"[","]");if(O.isSaneInsertion(M,D))return O.recordAutoInsert(M,D,"]"),{text:"[]",selection:[1,1]}}else if(B=="]"){T(M);var V=M.getCursorPosition(),k=D.doc.getLine(V.row);if(k.substring(V.column,V.column+1)=="]"&&D.$findOpeningBracket("]",{column:V.column+1,row:V.row})!==null&&O.isAutoInsertedClosing(V,k,B))return O.popAutoInsertedClosing(),{text:"",selection:[1,1]}}})),this.add("brackets","deletion",(function(I,F,M,D,B){var j=D.doc.getTextRange(B);if(!B.isMultiLine()&&j=="["&&(T(M),D.doc.getLine(B.start.row).substring(B.start.column+1,B.start.column+2)=="]"))return B.end.column++,B})),this.add("string_dquotes","insertion",(function(I,F,M,D,B){var j=D.$mode.$quotes||S;if(B.length==1&&j[B]){if(this.lineCommentStart&&this.lineCommentStart.indexOf(B)!=-1)return;T(M);var U=B,V=M.getSelectionRange(),k=D.doc.getTextRange(V);if(!(k===""||k.length==1&&j[k])&&M.getWrapBehavioursEnabled())return R(V,k,U,U);if(!k){var Z=M.getCursorPosition(),ee=D.doc.getLine(Z.row),oe=ee.substring(Z.column-1,Z.column),ne=ee.substring(Z.column,Z.column+1),ie=D.getTokenAt(Z.row,Z.column),he=D.getTokenAt(Z.row,Z.column+1);if(oe=="\\"&&ie&&/escape/.test(ie.type))return null;var fe,ce=ie&&/string|escape/.test(ie.type),ae=!he||/string|escape/.test(he.type);if(ne==U)(fe=ce!==ae)&&/string\.end/.test(he.type)&&(fe=!1);else{if(ce&&!ae||ce&&ae)return null;var ve=D.$mode.tokenRe;ve.lastIndex=0;var _e=ve.test(oe);ve.lastIndex=0;var Te=ve.test(oe);if(_e||Te||ne&&!/[\s;,.})\]\\]/.test(ne))return null;var Fe=ee[Z.column-2];if(oe==U&&(Fe==U||ve.test(Fe)))return null;fe=!0}return{text:fe?U+U:"",selection:[1,1]}}}})),this.add("string_dquotes","deletion",(function(I,F,M,D,B){var j=D.$mode.$quotes||S,U=D.doc.getTextRange(B);if(!B.isMultiLine()&&j.hasOwnProperty(U)&&(T(M),D.doc.getLine(B.start.row).substring(B.start.column+1,B.start.column+2)==U))return B.end.column++,B}))};O.isSaneInsertion=function(C,I){var F=C.getCursorPosition(),M=new _(I,F.row,F.column);if(!this.$matchTokenType(M.getCurrentToken()||"text",y)){if(/[)}\]]/.test(C.session.getLine(F.row)[F.column]))return!0;var D=new _(I,F.row,F.column+1);if(!this.$matchTokenType(D.getCurrentToken()||"text",y))return!1}return M.stepForward(),M.getCurrentTokenRow()!==F.row||this.$matchTokenType(M.getCurrentToken()||"text",u)},O.$matchTokenType=function(C,I){return I.indexOf(C.type||C)>-1},O.recordAutoInsert=function(C,I,F){var M=C.getCursorPosition(),D=I.doc.getLine(M.row);this.isAutoInsertedClosing(M,D,h.autoInsertedLineEnd[0])||(h.autoInsertedBrackets=0),h.autoInsertedRow=M.row,h.autoInsertedLineEnd=F+D.substr(M.column),h.autoInsertedBrackets++},O.recordMaybeInsert=function(C,I,F){var M=C.getCursorPosition(),D=I.doc.getLine(M.row);this.isMaybeInsertedClosing(M,D)||(h.maybeInsertedBrackets=0),h.maybeInsertedRow=M.row,h.maybeInsertedLineStart=D.substr(0,M.column)+F,h.maybeInsertedLineEnd=D.substr(M.column),h.maybeInsertedBrackets++},O.isAutoInsertedClosing=function(C,I,F){return h.autoInsertedBrackets>0&&C.row===h.autoInsertedRow&&F===h.autoInsertedLineEnd[0]&&I.substr(C.column)===h.autoInsertedLineEnd},O.isMaybeInsertedClosing=function(C,I){return h.maybeInsertedBrackets>0&&C.row===h.maybeInsertedRow&&I.substr(C.column)===h.maybeInsertedLineEnd&&I.substr(0,C.column)==h.maybeInsertedLineStart},O.popAutoInsertedClosing=function(){h.autoInsertedLineEnd=h.autoInsertedLineEnd.substr(1),h.autoInsertedBrackets--},O.clearMaybeInsertedClosing=function(){h&&(h.maybeInsertedBrackets=0,h.maybeInsertedRow=-1)},v.inherits(O,m),c.CstyleBehaviour=O})),ace.define("ace/unicode",["require","exports","module"],(function(l,c,f){for(var h=[48,9,8,25,5,0,2,25,48,0,11,0,5,0,6,22,2,30,2,457,5,11,15,4,8,0,2,0,18,116,2,1,3,3,9,0,2,2,2,0,2,19,2,82,2,138,2,4,3,155,12,37,3,0,8,38,10,44,2,0,2,1,2,1,2,0,9,26,6,2,30,10,7,61,2,9,5,101,2,7,3,9,2,18,3,0,17,58,3,100,15,53,5,0,6,45,211,57,3,18,2,5,3,11,3,9,2,1,7,6,2,2,2,7,3,1,3,21,2,6,2,0,4,3,3,8,3,1,3,3,9,0,5,1,2,4,3,11,16,2,2,5,5,1,3,21,2,6,2,1,2,1,2,1,3,0,2,4,5,1,3,2,4,0,8,3,2,0,8,15,12,2,2,8,2,2,2,21,2,6,2,1,2,4,3,9,2,2,2,2,3,0,16,3,3,9,18,2,2,7,3,1,3,21,2,6,2,1,2,4,3,8,3,1,3,2,9,1,5,1,2,4,3,9,2,0,17,1,2,5,4,2,2,3,4,1,2,0,2,1,4,1,4,2,4,11,5,4,4,2,2,3,3,0,7,0,15,9,18,2,2,7,2,2,2,22,2,9,2,4,4,7,2,2,2,3,8,1,2,1,7,3,3,9,19,1,2,7,2,2,2,22,2,9,2,4,3,8,2,2,2,3,8,1,8,0,2,3,3,9,19,1,2,7,2,2,2,22,2,15,4,7,2,2,2,3,10,0,9,3,3,9,11,5,3,1,2,17,4,23,2,8,2,0,3,6,4,0,5,5,2,0,2,7,19,1,14,57,6,14,2,9,40,1,2,0,3,1,2,0,3,0,7,3,2,6,2,2,2,0,2,0,3,1,2,12,2,2,3,4,2,0,2,5,3,9,3,1,35,0,24,1,7,9,12,0,2,0,2,0,5,9,2,35,5,19,2,5,5,7,2,35,10,0,58,73,7,77,3,37,11,42,2,0,4,328,2,3,3,6,2,0,2,3,3,40,2,3,3,32,2,3,3,6,2,0,2,3,3,14,2,56,2,3,3,66,5,0,33,15,17,84,13,619,3,16,2,25,6,74,22,12,2,6,12,20,12,19,13,12,2,2,2,1,13,51,3,29,4,0,5,1,3,9,34,2,3,9,7,87,9,42,6,69,11,28,4,11,5,11,11,39,3,4,12,43,5,25,7,10,38,27,5,62,2,28,3,10,7,9,14,0,89,75,5,9,18,8,13,42,4,11,71,55,9,9,4,48,83,2,2,30,14,230,23,280,3,5,3,37,3,5,3,7,2,0,2,0,2,0,2,30,3,52,2,6,2,0,4,2,2,6,4,3,3,5,5,12,6,2,2,6,67,1,20,0,29,0,14,0,17,4,60,12,5,0,4,11,18,0,5,0,3,9,2,0,4,4,7,0,2,0,2,0,2,3,2,10,3,3,6,4,5,0,53,1,2684,46,2,46,2,132,7,6,15,37,11,53,10,0,17,22,10,6,2,6,2,6,2,6,2,6,2,6,2,6,2,6,2,31,48,0,470,1,36,5,2,4,6,1,5,85,3,1,3,2,2,89,2,3,6,40,4,93,18,23,57,15,513,6581,75,20939,53,1164,68,45,3,268,4,27,21,31,3,13,13,1,2,24,9,69,11,1,38,8,3,102,3,1,111,44,25,51,13,68,12,9,7,23,4,0,5,45,3,35,13,28,4,64,15,10,39,54,10,13,3,9,7,22,4,1,5,66,25,2,227,42,2,1,3,9,7,11171,13,22,5,48,8453,301,3,61,3,105,39,6,13,4,6,11,2,12,2,4,2,0,2,1,2,1,2,107,34,362,19,63,3,53,41,11,5,15,17,6,13,1,25,2,33,4,2,134,20,9,8,25,5,0,2,25,12,88,4,5,3,5,3,5,3,2],v=0,m=[],_=0;_<h.length;_+=2)m.push(v+=h[_]),h[_+1]&&m.push(45,v+=h[_+1]);c.wordChars=String.fromCharCode.apply(null,m)})),ace.define("ace/mode/text",["require","exports","module","ace/config","ace/tokenizer","ace/mode/text_highlight_rules","ace/mode/behaviour/cstyle","ace/unicode","ace/lib/lang","ace/token_iterator","ace/range"],(function(l,c,f){var h=l("../config"),v=l("../tokenizer").Tokenizer,m=l("./text_highlight_rules").TextHighlightRules,_=l("./behaviour/cstyle").CstyleBehaviour,g=l("../unicode"),y=l("../lib/lang"),u=l("../token_iterator").TokenIterator,b=l("../range").Range,S=function(){this.HighlightRules=m};(function(){this.$defaultBehaviour=new _,this.tokenRe=new RegExp("^["+g.wordChars+"\\$_]+","g"),this.nonTokenRe=new RegExp("^(?:[^"+g.wordChars+"\\$_]|\\s])+","g"),this.getTokenizer=function(){return this.$tokenizer||(this.$highlightRules=this.$highlightRules||new this.HighlightRules(this.$highlightRuleConfig),this.$tokenizer=new v(this.$highlightRules.getRules())),this.$tokenizer},this.lineCommentStart="",this.blockComment="",this.toggleCommentLines=function(T,R,O,C){var I=R.doc,F=!0,M=!0,D=1/0,B=R.getTabSize(),j=!1;if(this.lineCommentStart){Array.isArray(this.lineCommentStart)?(ee=this.lineCommentStart.map(y.escapeRegExp).join("|"),k=this.lineCommentStart[0]):(ee=y.escapeRegExp(this.lineCommentStart),k=this.lineCommentStart),ee=new RegExp("^(\\s*)(?:"+ee+") ?"),j=R.getUseSoftTabs(),ie=function(ae,ve){var _e=ae.match(ee);if(_e){var Te=_e[1].length,Fe=_e[0].length;V(ae,Te,Fe)||_e[0][Fe-1]!=" "||Fe--,I.removeInLine(ve,Te,Fe)}};var U=k+" ",V=(ne=function(ae,ve){F&&!/\S/.test(ae)||(V(ae,D,D)?I.insertInLine({row:ve,column:D},U):I.insertInLine({row:ve,column:D},k))},he=function(ae,ve){return ee.test(ae)},function(ae,ve,_e){for(var Te=0;ve--&&ae.charAt(ve)==" ";)Te++;if(Te%B!=0)return!1;for(Te=0;ae.charAt(_e++)==" ";)Te++;return B>2?Te%B!=B-1:Te%B==0})}else{if(!this.blockComment)return!1;var k=this.blockComment.start,Z=this.blockComment.end,ee=new RegExp("^(\\s*)(?:"+y.escapeRegExp(k)+")"),oe=new RegExp("(?:"+y.escapeRegExp(Z)+")\\s*$"),ne=function(ae,ve){he(ae,ve)||F&&!/\S/.test(ae)||(I.insertInLine({row:ve,column:ae.length},Z),I.insertInLine({row:ve,column:D},k))},ie=function(ae,ve){var _e;(_e=ae.match(oe))&&I.removeInLine(ve,ae.length-_e[0].length,ae.length),(_e=ae.match(ee))&&I.removeInLine(ve,_e[1].length,_e[0].length)},he=function(ae,ve){if(ee.test(ae))return!0;for(var _e=R.getTokens(ve),Te=0;Te<_e.length;Te++)if(_e[Te].type==="comment")return!0}}function fe(ae){for(var ve=O;ve<=C;ve++)ae(I.getLine(ve),ve)}var ce=1/0;fe((function(ae,ve){var _e=ae.search(/\S/);_e!==-1?(_e<D&&(D=_e),M&&!he(ae,ve)&&(M=!1)):ce>ae.length&&(ce=ae.length)})),D==1/0&&(D=ce,F=!1,M=!1),j&&D%B!=0&&(D=Math.floor(D/B)*B),fe(M?ie:ne)},this.toggleBlockComment=function(T,R,O,C){var I=this.blockComment;if(I){!I.start&&I[0]&&(I=I[0]);var F,M,D=(Z=new u(R,C.row,C.column)).getCurrentToken(),B=(R.selection,R.selection.toOrientedRange());if(D&&/comment/.test(D.type)){for(var j,U;D&&/comment/.test(D.type);){if((ee=D.value.indexOf(I.start))!=-1){var V=Z.getCurrentTokenRow(),k=Z.getCurrentTokenColumn()+ee;j=new b(V,k,V,k+I.start.length);break}D=Z.stepBackward()}var Z;for(D=(Z=new u(R,C.row,C.column)).getCurrentToken();D&&/comment/.test(D.type);){var ee;if((ee=D.value.indexOf(I.end))!=-1){V=Z.getCurrentTokenRow(),k=Z.getCurrentTokenColumn()+ee,U=new b(V,k,V,k+I.end.length);break}D=Z.stepForward()}U&&R.remove(U),j&&(R.remove(j),F=j.start.row,M=-I.start.length)}else M=I.start.length,F=O.start.row,R.insert(O.end,I.end),R.insert(O.start,I.start);B.start.row==F&&(B.start.column+=M),B.end.row==F&&(B.end.column+=M),R.selection.fromOrientedRange(B)}},this.getNextLineIndent=function(T,R,O){return this.$getIndent(R)},this.checkOutdent=function(T,R,O){return!1},this.autoOutdent=function(T,R,O){},this.$getIndent=function(T){return T.match(/^\s*/)[0]},this.createWorker=function(T){return null},this.createModeDelegates=function(T){for(var R in this.$embeds=[],this.$modes={},T)if(T[R]){var O=T[R],C=O.prototype.$id,I=h.$modes[C];I||(h.$modes[C]=I=new O),h.$modes[R]||(h.$modes[R]=I),this.$embeds.push(R),this.$modes[R]=I}var F=["toggleBlockComment","toggleCommentLines","getNextLineIndent","checkOutdent","autoOutdent","transformAction","getCompletions"];for(R=0;R<F.length;R++)(function(M){var D=F[R],B=M[D];M[F[R]]=function(){return this.$delegator(D,arguments,B)}})(this)},this.$delegator=function(T,R,O){var C=R[0]||"start";if(typeof C!="string"){if(Array.isArray(C[2])){var I=C[2][C[2].length-1];if(M=this.$modes[I])return M[T].apply(M,[C[1]].concat([].slice.call(R,1)))}C=C[0]||"start"}for(var F=0;F<this.$embeds.length;F++)if(this.$modes[this.$embeds[F]]){var M,D=C.split(this.$embeds[F]);if(!D[0]&&D[1])return R[0]=D[1],(M=this.$modes[this.$embeds[F]])[T].apply(M,R)}var B=O.apply(this,R);return O?B:void 0},this.transformAction=function(T,R,O,C,I){if(this.$behaviour){var F=this.$behaviour.getBehaviours();for(var M in F)if(F[M][R]){var D=F[M][R].apply(this,arguments);if(D)return D}}},this.getKeywords=function(T){if(!this.completionKeywords){var R=this.$tokenizer.rules,O=[];for(var C in R)for(var I=R[C],F=0,M=I.length;F<M;F++)if(typeof I[F].token=="string")/keyword|support|storage/.test(I[F].token)&&O.push(I[F].regex);else if(typeof I[F].token=="object")for(var D=0,B=I[F].token.length;D<B;D++)/keyword|support|storage/.test(I[F].token[D])&&(C=I[F].regex.match(/\(.+?\)/g)[D],O.push(C.substr(1,C.length-2)));this.completionKeywords=O}return T?O.concat(this.$keywordList||[]):this.$keywordList},this.$createKeywordList=function(){return this.$highlightRules||this.getTokenizer(),this.$keywordList=this.$highlightRules.$keywordList||[]},this.getCompletions=function(T,R,O,C){return(this.$keywordList||this.$createKeywordList()).map((function(I){return{name:I,value:I,score:0,meta:"keyword"}}))},this.$id="ace/mode/text"}).call(S.prototype),c.Mode=S})),ace.define("ace/apply_delta",["require","exports","module"],(function(l,c,f){c.applyDelta=function(h,v,m){var _=v.start.row,g=v.start.column,y=h[_]||"";switch(v.action){case"insert":if(v.lines.length===1)h[_]=y.substring(0,g)+v.lines[0]+y.substring(g);else{var u=[_,1].concat(v.lines);h.splice.apply(h,u),h[_]=y.substring(0,g)+h[_],h[_+v.lines.length-1]+=y.substring(g)}break;case"remove":var b=v.end.column,S=v.end.row;_===S?h[_]=y.substring(0,g)+y.substring(b):h.splice(_,S-_+1,y.substring(0,g)+h[S].substring(b))}}})),ace.define("ace/anchor",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],(function(l,c,f){var h=l("./lib/oop"),v=l("./lib/event_emitter").EventEmitter,m=c.Anchor=function(_,g,y){this.$onChange=this.onChange.bind(this),this.attach(_),y===void 0?this.setPosition(g.row,g.column):this.setPosition(g,y)};(function(){function _(g,y,u){var b=u?g.column<=y.column:g.column<y.column;return g.row<y.row||g.row==y.row&&b}h.implement(this,v),this.getPosition=function(){return this.$clipPositionToDocument(this.row,this.column)},this.getDocument=function(){return this.document},this.$insertRight=!1,this.onChange=function(g){if(!(g.start.row==g.end.row&&g.start.row!=this.row||g.start.row>this.row)){var y=(function(u,b,S){var T=u.action=="insert",R=(T?1:-1)*(u.end.row-u.start.row),O=(T?1:-1)*(u.end.column-u.start.column),C=u.start,I=T?C:u.end;return _(b,C,S)?{row:b.row,column:b.column}:_(I,b,!S)?{row:b.row+R,column:b.column+(b.row==I.row?O:0)}:{row:C.row,column:C.column}})(g,{row:this.row,column:this.column},this.$insertRight);this.setPosition(y.row,y.column,!0)}},this.setPosition=function(g,y,u){var b;if(b=u?{row:g,column:y}:this.$clipPositionToDocument(g,y),this.row!=b.row||this.column!=b.column){var S={row:this.row,column:this.column};this.row=b.row,this.column=b.column,this._signal("change",{old:S,value:b})}},this.detach=function(){this.document.removeEventListener("change",this.$onChange)},this.attach=function(g){this.document=g||this.document,this.document.on("change",this.$onChange)},this.$clipPositionToDocument=function(g,y){var u={};return g>=this.document.getLength()?(u.row=Math.max(0,this.document.getLength()-1),u.column=this.document.getLine(u.row).length):g<0?(u.row=0,u.column=0):(u.row=g,u.column=Math.min(this.document.getLine(u.row).length,Math.max(0,y))),y<0&&(u.column=0),u}}).call(m.prototype)})),ace.define("ace/document",["require","exports","module","ace/lib/oop","ace/apply_delta","ace/lib/event_emitter","ace/range","ace/anchor"],(function(l,c,f){var h=l("./lib/oop"),v=l("./apply_delta").applyDelta,m=l("./lib/event_emitter").EventEmitter,_=l("./range").Range,g=l("./anchor").Anchor,y=function(u){this.$lines=[""],u.length===0?this.$lines=[""]:Array.isArray(u)?this.insertMergedLines({row:0,column:0},u):this.insert({row:0,column:0},u)};(function(){h.implement(this,m),this.setValue=function(u){var b=this.getLength()-1;this.remove(new _(0,0,b,this.getLine(b).length)),this.insert({row:0,column:0},u)},this.getValue=function(){return this.getAllLines().join(this.getNewLineCharacter())},this.createAnchor=function(u,b){return new g(this,u,b)},"aaa".split(/a/).length===0?this.$split=function(u){return u.replace(/\r\n|\r/g,`
`).split(`
`)}:this.$split=function(u){return u.split(/\r\n|\r|\n/)},this.$detectNewLine=function(u){var b=u.match(/^.*?(\r\n|\r|\n)/m);this.$autoNewLine=b?b[1]:`
`,this._signal("changeNewLineMode")},this.getNewLineCharacter=function(){switch(this.$newLineMode){case"windows":return`\r
`;case"unix":return`
`;default:return this.$autoNewLine||`
`}},this.$autoNewLine="",this.$newLineMode="auto",this.setNewLineMode=function(u){this.$newLineMode!==u&&(this.$newLineMode=u,this._signal("changeNewLineMode"))},this.getNewLineMode=function(){return this.$newLineMode},this.isNewLine=function(u){return u==`\r
`||u=="\r"||u==`
`},this.getLine=function(u){return this.$lines[u]||""},this.getLines=function(u,b){return this.$lines.slice(u,b+1)},this.getAllLines=function(){return this.getLines(0,this.getLength())},this.getLength=function(){return this.$lines.length},this.getTextRange=function(u){return this.getLinesForRange(u).join(this.getNewLineCharacter())},this.getLinesForRange=function(u){var b;if(u.start.row===u.end.row)b=[this.getLine(u.start.row).substring(u.start.column,u.end.column)];else{(b=this.getLines(u.start.row,u.end.row))[0]=(b[0]||"").substring(u.start.column);var S=b.length-1;u.end.row-u.start.row==S&&(b[S]=b[S].substring(0,u.end.column))}return b},this.insertLines=function(u,b){return console.warn("Use of document.insertLines is deprecated. Use the insertFullLines method instead."),this.insertFullLines(u,b)},this.removeLines=function(u,b){return console.warn("Use of document.removeLines is deprecated. Use the removeFullLines method instead."),this.removeFullLines(u,b)},this.insertNewLine=function(u){return console.warn("Use of document.insertNewLine is deprecated. Use insertMergedLines(position, ['', '']) instead."),this.insertMergedLines(u,["",""])},this.insert=function(u,b){return this.getLength()<=1&&this.$detectNewLine(b),this.insertMergedLines(u,this.$split(b))},this.insertInLine=function(u,b){var S=this.clippedPos(u.row,u.column),T=this.pos(u.row,u.column+b.length);return this.applyDelta({start:S,end:T,action:"insert",lines:[b]},!0),this.clonePos(T)},this.clippedPos=function(u,b){var S=this.getLength();u===void 0?u=S:u<0?u=0:u>=S&&(u=S-1,b=void 0);var T=this.getLine(u);return b==null&&(b=T.length),{row:u,column:b=Math.min(Math.max(b,0),T.length)}},this.clonePos=function(u){return{row:u.row,column:u.column}},this.pos=function(u,b){return{row:u,column:b}},this.$clipPosition=function(u){var b=this.getLength();return u.row>=b?(u.row=Math.max(0,b-1),u.column=this.getLine(b-1).length):(u.row=Math.max(0,u.row),u.column=Math.min(Math.max(u.column,0),this.getLine(u.row).length)),u},this.insertFullLines=function(u,b){var S=0;(u=Math.min(Math.max(u,0),this.getLength()))<this.getLength()?(b=b.concat([""]),S=0):(b=[""].concat(b),u--,S=this.$lines[u].length),this.insertMergedLines({row:u,column:S},b)},this.insertMergedLines=function(u,b){var S=this.clippedPos(u.row,u.column),T={row:S.row+b.length-1,column:(b.length==1?S.column:0)+b[b.length-1].length};return this.applyDelta({start:S,end:T,action:"insert",lines:b}),this.clonePos(T)},this.remove=function(u){var b=this.clippedPos(u.start.row,u.start.column),S=this.clippedPos(u.end.row,u.end.column);return this.applyDelta({start:b,end:S,action:"remove",lines:this.getLinesForRange({start:b,end:S})}),this.clonePos(b)},this.removeInLine=function(u,b,S){var T=this.clippedPos(u,b),R=this.clippedPos(u,S);return this.applyDelta({start:T,end:R,action:"remove",lines:this.getLinesForRange({start:T,end:R})},!0),this.clonePos(T)},this.removeFullLines=function(u,b){u=Math.min(Math.max(0,u),this.getLength()-1);var S=(b=Math.min(Math.max(0,b),this.getLength()-1))==this.getLength()-1&&u>0,T=b<this.getLength()-1,R=S?u-1:u,O=S?this.getLine(R).length:0,C=T?b+1:b,I=T?0:this.getLine(C).length,F=new _(R,O,C,I),M=this.$lines.slice(u,b+1);return this.applyDelta({start:F.start,end:F.end,action:"remove",lines:this.getLinesForRange(F)}),M},this.removeNewLine=function(u){u<this.getLength()-1&&u>=0&&this.applyDelta({start:this.pos(u,this.getLine(u).length),end:this.pos(u+1,0),action:"remove",lines:["",""]})},this.replace=function(u,b){return u instanceof _||(u=_.fromPoints(u.start,u.end)),b.length===0&&u.isEmpty()?u.start:b==this.getTextRange(u)?u.end:(this.remove(u),b?this.insert(u.start,b):u.start)},this.applyDeltas=function(u){for(var b=0;b<u.length;b++)this.applyDelta(u[b])},this.revertDeltas=function(u){for(var b=u.length-1;b>=0;b--)this.revertDelta(u[b])},this.applyDelta=function(u,b){var S=u.action=="insert";(S?u.lines.length<=1&&!u.lines[0]:!_.comparePoints(u.start,u.end))||(S&&u.lines.length>2e4?this.$splitAndapplyLargeDelta(u,2e4):(v(this.$lines,u,b),this._signal("change",u)))},this.$splitAndapplyLargeDelta=function(u,b){for(var S=u.lines,T=S.length-b+1,R=u.start.row,O=u.start.column,C=0,I=0;C<T;C=I){I+=b-1;var F=S.slice(C,I);F.push(""),this.applyDelta({start:this.pos(R+C,O),end:this.pos(R+I,O=0),action:u.action,lines:F},!0)}u.lines=S.slice(C),u.start.row=R+C,u.start.column=O,this.applyDelta(u,!0)},this.revertDelta=function(u){this.applyDelta({start:this.clonePos(u.start),end:this.clonePos(u.end),action:u.action=="insert"?"remove":"insert",lines:u.lines.slice()})},this.indexToPosition=function(u,b){for(var S=this.$lines||this.getAllLines(),T=this.getNewLineCharacter().length,R=b||0,O=S.length;R<O;R++)if((u-=S[R].length+T)<0)return{row:R,column:u+S[R].length+T};return{row:O-1,column:u+S[O-1].length+T}},this.positionToIndex=function(u,b){for(var S=this.$lines||this.getAllLines(),T=this.getNewLineCharacter().length,R=0,O=Math.min(u.row,S.length),C=b||0;C<O;++C)R+=S[C].length+T;return R+u.column}}).call(y.prototype),c.Document=y})),ace.define("ace/background_tokenizer",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],(function(l,c,f){var h=l("./lib/oop"),v=l("./lib/event_emitter").EventEmitter,m=function(_,g){this.running=!1,this.lines=[],this.states=[],this.currentLine=0,this.tokenizer=_;var y=this;this.$worker=function(){if(y.running){for(var u=new Date,b=y.currentLine,S=-1,T=y.doc,R=b;y.lines[b];)b++;var O=T.getLength(),C=0;for(y.running=!1;b<O;){y.$tokenizeRow(b),S=b;do b++;while(y.lines[b]);if(++C%5==0&&new Date-u>20){y.running=setTimeout(y.$worker,20);break}}y.currentLine=b,S==-1&&(S=b),R<=S&&y.fireUpdateEvent(R,S)}}};(function(){h.implement(this,v),this.setTokenizer=function(_){this.tokenizer=_,this.lines=[],this.states=[],this.start(0)},this.setDocument=function(_){this.doc=_,this.lines=[],this.states=[],this.stop()},this.fireUpdateEvent=function(_,g){var y={first:_,last:g};this._signal("update",{data:y})},this.start=function(_){this.currentLine=Math.min(_||0,this.currentLine,this.doc.getLength()),this.lines.splice(this.currentLine,this.lines.length),this.states.splice(this.currentLine,this.states.length),this.stop(),this.running=setTimeout(this.$worker,700)},this.scheduleStart=function(){this.running||(this.running=setTimeout(this.$worker,700))},this.$updateOnChange=function(_){var g=_.start.row,y=_.end.row-g;if(y===0)this.lines[g]=null;else if(_.action=="remove")this.lines.splice(g,y+1,null),this.states.splice(g,y+1,null);else{var u=Array(y+1);u.unshift(g,1),this.lines.splice.apply(this.lines,u),this.states.splice.apply(this.states,u)}this.currentLine=Math.min(g,this.currentLine,this.doc.getLength()),this.stop()},this.stop=function(){this.running&&clearTimeout(this.running),this.running=!1},this.getTokens=function(_){return this.lines[_]||this.$tokenizeRow(_)},this.getState=function(_){return this.currentLine==_&&this.$tokenizeRow(_),this.states[_]||"start"},this.$tokenizeRow=function(_){var g=this.doc.getLine(_),y=this.states[_-1],u=this.tokenizer.getLineTokens(g,y,_);return this.states[_]+""!=u.state+""?(this.states[_]=u.state,this.lines[_+1]=null,this.currentLine>_+1&&(this.currentLine=_+1)):this.currentLine==_&&(this.currentLine=_+1),this.lines[_]=u.tokens}}).call(m.prototype),c.BackgroundTokenizer=m})),ace.define("ace/search_highlight",["require","exports","module","ace/lib/lang","ace/lib/oop","ace/range"],(function(l,c,f){var h=l("./lib/lang"),v=(l("./lib/oop"),l("./range").Range),m=function(_,g,y){this.setRegexp(_),this.clazz=g,this.type=y||"text"};(function(){this.MAX_RANGES=500,this.setRegexp=function(_){this.regExp+""!=_+""&&(this.regExp=_,this.cache=[])},this.update=function(_,g,y,u){if(this.regExp)for(var b=u.firstRow,S=u.lastRow,T=b;T<=S;T++){var R=this.cache[T];R==null&&((R=h.getMatchOffsets(y.getLine(T),this.regExp)).length>this.MAX_RANGES&&(R=R.slice(0,this.MAX_RANGES)),R=R.map((function(C){return new v(T,C.offset,T,C.offset+C.length)})),this.cache[T]=R.length?R:"");for(var O=R.length;O--;)g.drawSingleLineMarker(_,R[O].toScreenRange(y),this.clazz,u)}}}).call(m.prototype),c.SearchHighlight=m})),ace.define("ace/edit_session/fold_line",["require","exports","module","ace/range"],(function(l,c,f){var h=l("../range").Range;function v(m,_){this.foldData=m,Array.isArray(_)?this.folds=_:_=this.folds=[_];var g=_[_.length-1];this.range=new h(_[0].start.row,_[0].start.column,g.end.row,g.end.column),this.start=this.range.start,this.end=this.range.end,this.folds.forEach((function(y){y.setFoldLine(this)}),this)}(function(){this.shiftRow=function(m){this.start.row+=m,this.end.row+=m,this.folds.forEach((function(_){_.start.row+=m,_.end.row+=m}))},this.addFold=function(m){if(m.sameRow){if(m.start.row<this.startRow||m.endRow>this.endRow)throw new Error("Can't add a fold to this FoldLine as it has no connection");this.folds.push(m),this.folds.sort((function(_,g){return-_.range.compareEnd(g.start.row,g.start.column)})),this.range.compareEnd(m.start.row,m.start.column)>0?(this.end.row=m.end.row,this.end.column=m.end.column):this.range.compareStart(m.end.row,m.end.column)<0&&(this.start.row=m.start.row,this.start.column=m.start.column)}else if(m.start.row==this.end.row)this.folds.push(m),this.end.row=m.end.row,this.end.column=m.end.column;else{if(m.end.row!=this.start.row)throw new Error("Trying to add fold to FoldRow that doesn't have a matching row");this.folds.unshift(m),this.start.row=m.start.row,this.start.column=m.start.column}m.foldLine=this},this.containsRow=function(m){return m>=this.start.row&&m<=this.end.row},this.walk=function(m,_,g){var y,u,b=0,S=this.folds,T=!0;_==null&&(_=this.end.row,g=this.end.column);for(var R=0;R<S.length;R++){if((u=(y=S[R]).range.compareStart(_,g))==-1)return void m(null,_,g,b,T);if(!m(null,y.start.row,y.start.column,b,T)&&m(y.placeholder,y.start.row,y.start.column,b)||u===0)return;T=!y.sameRow,b=y.end.column}m(null,_,g,b,T)},this.getNextFoldTo=function(m,_){for(var g,y,u=0;u<this.folds.length;u++){if((y=(g=this.folds[u]).range.compareEnd(m,_))==-1)return{fold:g,kind:"after"};if(y===0)return{fold:g,kind:"inside"}}return null},this.addRemoveChars=function(m,_,g){var y,u,b=this.getNextFoldTo(m,_);if(b){if(y=b.fold,b.kind=="inside"&&y.start.column!=_&&y.start.row!=m)window.console&&window.console.log(m,_,y);else if(y.start.row==m){var S=(u=this.folds).indexOf(y);for(S===0&&(this.start.column+=g);S<u.length;S++){if((y=u[S]).start.column+=g,!y.sameRow)return;y.end.column+=g}this.end.column+=g}}},this.split=function(m,_){var g=this.getNextFoldTo(m,_);if(!g||g.kind=="inside")return null;var y=g.fold,u=this.folds,b=this.foldData,S=u.indexOf(y),T=u[S-1];this.end.row=T.end.row,this.end.column=T.end.column;var R=new v(b,u=u.splice(S,u.length-S));return b.splice(b.indexOf(this)+1,0,R),R},this.merge=function(m){for(var _=m.folds,g=0;g<_.length;g++)this.addFold(_[g]);var y=this.foldData;y.splice(y.indexOf(m),1)},this.toString=function(){var m=[this.range.toString()+": ["];return this.folds.forEach((function(_){m.push("  "+_.toString())})),m.push("]"),m.join(`
`)},this.idxToPosition=function(m){for(var _=0,g=0;g<this.folds.length;g++){var y=this.folds[g];if((m-=y.start.column-_)<0)return{row:y.start.row,column:y.start.column+m};if((m-=y.placeholder.length)<0)return y.start;_=y.end.column}return{row:this.end.row,column:this.end.column+m}}}).call(v.prototype),c.FoldLine=v})),ace.define("ace/range_list",["require","exports","module","ace/range"],(function(l,c,f){var h=l("./range").Range.comparePoints,v=function(){this.ranges=[],this.$bias=1};(function(){this.comparePoints=h,this.pointIndex=function(m,_,g){for(var y=this.ranges,u=g||0;u<y.length;u++){var b=y[u],S=h(m,b.end);if(!(S>0)){var T=h(m,b.start);return S===0?_&&T!==0?-u-2:u:T>0||T===0&&!_?u:-u-1}}return-u-1},this.add=function(m){var _=!m.isEmpty(),g=this.pointIndex(m.start,_);g<0&&(g=-g-1);var y=this.pointIndex(m.end,_,g);return y<0?y=-y-1:y++,this.ranges.splice(g,y-g,m)},this.addList=function(m){for(var _=[],g=m.length;g--;)_.push.apply(_,this.add(m[g]));return _},this.substractPoint=function(m){var _=this.pointIndex(m);if(_>=0)return this.ranges.splice(_,1)},this.merge=function(){for(var m,_=[],g=this.ranges,y=(g=g.sort((function(S,T){return h(S.start,T.start)})))[0],u=1;u<g.length;u++){m=y,y=g[u];var b=h(m.end,y.start);b<0||(b!=0||m.isEmpty()||y.isEmpty())&&(h(m.end,y.end)<0&&(m.end.row=y.end.row,m.end.column=y.end.column),g.splice(u,1),_.push(y),y=m,u--)}return this.ranges=g,_},this.contains=function(m,_){return this.pointIndex({row:m,column:_})>=0},this.containsPoint=function(m){return this.pointIndex(m)>=0},this.rangeAtPoint=function(m){var _=this.pointIndex(m);if(_>=0)return this.ranges[_]},this.clipRows=function(m,_){var g=this.ranges;if(g[0].start.row>_||g[g.length-1].start.row<m)return[];var y=this.pointIndex({row:m,column:0});y<0&&(y=-y-1);var u=this.pointIndex({row:_,column:0},y);u<0&&(u=-u-1);for(var b=[],S=y;S<u;S++)b.push(g[S]);return b},this.removeAll=function(){return this.ranges.splice(0,this.ranges.length)},this.attach=function(m){this.session&&this.detach(),this.session=m,this.onChange=this.$onChange.bind(this),this.session.on("change",this.onChange)},this.detach=function(){this.session&&(this.session.removeListener("change",this.onChange),this.session=null)},this.$onChange=function(m){for(var _=m.start,g=m.end,y=_.row,u=g.row,b=this.ranges,S=0,T=b.length;S<T&&!((C=b[S]).end.row>=y);S++);if(m.action=="insert"){for(var R=u-y,O=-_.column+g.column;S<T&&!((C=b[S]).start.row>y);S++)if(C.start.row==y&&C.start.column>=_.column&&(C.start.column==_.column&&this.$bias<=0||(C.start.column+=O,C.start.row+=R)),C.end.row==y&&C.end.column>=_.column){if(C.end.column==_.column&&this.$bias<0)continue;C.end.column==_.column&&O>0&&S<T-1&&C.end.column>C.start.column&&C.end.column==b[S+1].start.column&&(C.end.column-=O),C.end.column+=O,C.end.row+=R}}else for(R=y-u,O=_.column-g.column;S<T&&!((C=b[S]).start.row>u);S++)C.end.row<u&&(y<C.end.row||y==C.end.row&&_.column<C.end.column)?(C.end.row=y,C.end.column=_.column):C.end.row==u?C.end.column<=g.column?(R||C.end.column>_.column)&&(C.end.column=_.column,C.end.row=_.row):(C.end.column+=O,C.end.row+=R):C.end.row>u&&(C.end.row+=R),C.start.row<u&&(y<C.start.row||y==C.start.row&&_.column<C.start.column)?(C.start.row=y,C.start.column=_.column):C.start.row==u?C.start.column<=g.column?(R||C.start.column>_.column)&&(C.start.column=_.column,C.start.row=_.row):(C.start.column+=O,C.start.row+=R):C.start.row>u&&(C.start.row+=R);if(R!=0&&S<T)for(;S<T;S++){var C;(C=b[S]).start.row+=R,C.end.row+=R}}}).call(v.prototype),c.RangeList=v})),ace.define("ace/edit_session/fold",["require","exports","module","ace/range_list","ace/lib/oop"],(function(l,c,f){var h=l("../range_list").RangeList,v=l("../lib/oop"),m=c.Fold=function(y,u){this.foldLine=null,this.placeholder=u,this.range=y,this.start=y.start,this.end=y.end,this.sameRow=y.start.row==y.end.row,this.subFolds=this.ranges=[]};function _(y,u){y.row-=u.row,y.row==0&&(y.column-=u.column)}function g(y,u){y.row==0&&(y.column+=u.column),y.row+=u.row}v.inherits(m,h),(function(){this.toString=function(){return'"'+this.placeholder+'" '+this.range.toString()},this.setFoldLine=function(y){this.foldLine=y,this.subFolds.forEach((function(u){u.setFoldLine(y)}))},this.clone=function(){var y=this.range.clone(),u=new m(y,this.placeholder);return this.subFolds.forEach((function(b){u.subFolds.push(b.clone())})),u.collapseChildren=this.collapseChildren,u},this.addSubFold=function(y){if(!this.range.isEqual(y)){var u,b;u=y,b=this.start,_(u.start,b),_(u.end,b);for(var S=y.start.row,T=y.start.column,R=0,O=-1;R<this.subFolds.length&&(O=this.subFolds[R].range.compare(S,T))==1;R++);var C=this.subFolds[R],I=0;if(O==0){if(C.range.containsRange(y))return C.addSubFold(y);I=1}S=y.range.end.row,T=y.range.end.column;var F=R;for(O=-1;F<this.subFolds.length&&(O=this.subFolds[F].range.compare(S,T))==1;F++);O==0&&F++;for(var M=this.subFolds.splice(R,F-R,y),D=O==0?M.length-1:M.length,B=I;B<D;B++)y.addSubFold(M[B]);return y.setFoldLine(this.foldLine),y}},this.restoreRange=function(y){return(function(u,b){g(u.start,b),g(u.end,b)})(y,this.start)}}).call(m.prototype)})),ace.define("ace/edit_session/folding",["require","exports","module","ace/range","ace/edit_session/fold_line","ace/edit_session/fold","ace/token_iterator"],(function(l,c,f){var h=l("../range").Range,v=l("./fold_line").FoldLine,m=l("./fold").Fold,_=l("../token_iterator").TokenIterator;c.Folding=function(){this.getFoldAt=function(g,y,u){var b=this.getFoldLine(g);if(!b)return null;for(var S=b.folds,T=0;T<S.length;T++){var R=S[T].range;if(R.contains(g,y)){if(u==1&&R.isEnd(g,y)&&!R.isEmpty()||u==-1&&R.isStart(g,y)&&!R.isEmpty())continue;return S[T]}}},this.getFoldsInRange=function(g){var y=g.start,u=g.end,b=this.$foldData,S=[];y.column+=1,u.column-=1;for(var T=0;T<b.length;T++){var R=b[T].range.compareRange(g);if(R!=2){if(R==-2)break;for(var O=b[T].folds,C=0;C<O.length;C++){var I=O[C];if((R=I.range.compareRange(g))==-2)break;if(R!=2){if(R==42)break;S.push(I)}}}}return y.column-=1,u.column+=1,S},this.getFoldsInRangeList=function(g){if(Array.isArray(g)){var y=[];g.forEach((function(u){y=y.concat(this.getFoldsInRange(u))}),this)}else y=this.getFoldsInRange(g);return y},this.getAllFolds=function(){for(var g=[],y=this.$foldData,u=0;u<y.length;u++)for(var b=0;b<y[u].folds.length;b++)g.push(y[u].folds[b]);return g},this.getFoldStringAt=function(g,y,u,b){if(!(b=b||this.getFoldLine(g)))return null;for(var S,T,R={end:{column:0}},O=0;O<b.folds.length;O++){var C=(T=b.folds[O]).range.compareEnd(g,y);if(C==-1){S=this.getLine(T.start.row).substring(R.end.column,T.start.column);break}if(C===0)return null;R=T}return S||(S=this.getLine(T.start.row).substring(R.end.column)),u==-1?S.substring(0,y-R.end.column):u==1?S.substring(y-R.end.column):S},this.getFoldLine=function(g,y){var u=this.$foldData,b=0;for(y&&(b=u.indexOf(y)),b==-1&&(b=0);b<u.length;b++){var S=u[b];if(S.start.row<=g&&S.end.row>=g)return S;if(S.end.row>g)return null}return null},this.getNextFoldLine=function(g,y){var u=this.$foldData,b=0;for(y&&(b=u.indexOf(y)),b==-1&&(b=0);b<u.length;b++){var S=u[b];if(S.end.row>=g)return S}return null},this.getFoldedRowCount=function(g,y){for(var u=this.$foldData,b=y-g+1,S=0;S<u.length;S++){var T=u[S],R=T.end.row,O=T.start.row;if(R>=y){O<y&&(O>=g?b-=y-O:b=0);break}R>=g&&(b-=O>=g?R-O:R-g+1)}return b},this.$addFoldLine=function(g){return this.$foldData.push(g),this.$foldData.sort((function(y,u){return y.start.row-u.start.row})),g},this.addFold=function(g,y){var u,b=this.$foldData,S=!1;g instanceof m?u=g:(u=new m(y,g)).collapseChildren=y.collapseChildren,this.$clipRangeToDocument(u.range);var T=u.start.row,R=u.start.column,O=u.end.row,C=u.end.column,I=this.getFoldAt(T,R,1),F=this.getFoldAt(O,C,-1);if(I&&F==I)return I.addSubFold(u);I&&!I.range.isStart(T,R)&&this.removeFold(I),F&&!F.range.isEnd(O,C)&&this.removeFold(F);var M=this.getFoldsInRange(u.range);M.length>0&&(this.removeFolds(M),M.forEach((function(U){u.addSubFold(U)})));for(var D=0;D<b.length;D++){var B=b[D];if(O==B.start.row){B.addFold(u),S=!0;break}if(T==B.end.row){if(B.addFold(u),S=!0,!u.sameRow){var j=b[D+1];if(j&&j.start.row==O){B.merge(j);break}}break}if(O<=B.start.row)break}return S||(B=this.$addFoldLine(new v(this.$foldData,u))),this.$useWrapMode?this.$updateWrapData(B.start.row,B.start.row):this.$updateRowLengthCache(B.start.row,B.start.row),this.$modified=!0,this._signal("changeFold",{data:u,action:"add"}),u},this.addFolds=function(g){g.forEach((function(y){this.addFold(y)}),this)},this.removeFold=function(g){var y=g.foldLine,u=y.start.row,b=y.end.row,S=this.$foldData,T=y.folds;if(T.length==1)S.splice(S.indexOf(y),1);else if(y.range.isEnd(g.end.row,g.end.column))T.pop(),y.end.row=T[T.length-1].end.row,y.end.column=T[T.length-1].end.column;else if(y.range.isStart(g.start.row,g.start.column))T.shift(),y.start.row=T[0].start.row,y.start.column=T[0].start.column;else if(g.sameRow)T.splice(T.indexOf(g),1);else{var R=y.split(g.start.row,g.start.column);(T=R.folds).shift(),R.start.row=T[0].start.row,R.start.column=T[0].start.column}this.$updating||(this.$useWrapMode?this.$updateWrapData(u,b):this.$updateRowLengthCache(u,b)),this.$modified=!0,this._signal("changeFold",{data:g,action:"remove"})},this.removeFolds=function(g){for(var y=[],u=0;u<g.length;u++)y.push(g[u]);y.forEach((function(b){this.removeFold(b)}),this),this.$modified=!0},this.expandFold=function(g){this.removeFold(g),g.subFolds.forEach((function(y){g.restoreRange(y),this.addFold(y)}),this),g.collapseChildren>0&&this.foldAll(g.start.row+1,g.end.row,g.collapseChildren-1),g.subFolds=[]},this.expandFolds=function(g){g.forEach((function(y){this.expandFold(y)}),this)},this.unfold=function(g,y){var u,b;if(g==null?(u=new h(0,0,this.getLength(),0),y=!0):u=typeof g=="number"?new h(g,0,g,this.getLine(g).length):"row"in g?h.fromPoints(g,g):g,b=this.getFoldsInRangeList(u),y)this.removeFolds(b);else for(var S=b;S.length;)this.expandFolds(S),S=this.getFoldsInRangeList(u);if(b.length)return b},this.isRowFolded=function(g,y){return!!this.getFoldLine(g,y)},this.getRowFoldEnd=function(g,y){var u=this.getFoldLine(g,y);return u?u.end.row:g},this.getRowFoldStart=function(g,y){var u=this.getFoldLine(g,y);return u?u.start.row:g},this.getFoldDisplayLine=function(g,y,u,b,S){b==null&&(b=g.start.row),S==null&&(S=0),y==null&&(y=g.end.row),u==null&&(u=this.getLine(y).length);var T=this.doc,R="";return g.walk((function(O,C,I,F){if(!(C<b)){if(C==b){if(I<S)return;F=Math.max(S,F)}R+=O??T.getLine(C).substring(F,I)}}),y,u),R},this.getDisplayLine=function(g,y,u,b){var S,T=this.getFoldLine(g);return T?this.getFoldDisplayLine(T,g,y,u,b):(S=this.doc.getLine(g)).substring(b||0,y||S.length)},this.$cloneFoldData=function(){var g=[];return g=this.$foldData.map((function(y){var u=y.folds.map((function(b){return b.clone()}));return new v(g,u)}))},this.toggleFold=function(g){var y,u,b=this.selection.getRange();if(b.isEmpty()){var S=b.start;if(y=this.getFoldAt(S.row,S.column))return void this.expandFold(y);(u=this.findMatchingBracket(S))?b.comparePoint(u)==1?b.end=u:(b.start=u,b.start.column++,b.end.column--):(u=this.findMatchingBracket({row:S.row,column:S.column+1}))?(b.comparePoint(u)==1?b.end=u:b.start=u,b.start.column++):b=this.getCommentFoldRange(S.row,S.column)||b}else{var T=this.getFoldsInRange(b);if(g&&T.length)return void this.expandFolds(T);T.length==1&&(y=T[0])}if(y||(y=this.getFoldAt(b.start.row,b.start.column)),y&&y.range.toString()==b.toString())this.expandFold(y);else{var R="...";if(!b.isMultiLine()){if((R=this.getTextRange(b)).length<4)return;R=R.trim().substring(0,2)+".."}this.addFold(R,b)}},this.getCommentFoldRange=function(g,y,u){var b=new _(this,g,y),S=b.getCurrentToken(),T=S.type;if(S&&/^comment|string/.test(T)){(T=T.match(/comment|string/)[0])=="comment"&&(T+="|doc-start");var R=new RegExp(T),O=new h;if(u!=1){do S=b.stepBackward();while(S&&R.test(S.type));b.stepForward()}if(O.start.row=b.getCurrentTokenRow(),O.start.column=b.getCurrentTokenColumn()+2,b=new _(this,g,y),u!=-1){var C=-1;do if(S=b.stepForward(),C==-1){var I=this.getState(b.$row);R.test(I)||(C=b.$row)}else if(b.$row>C)break;while(S&&R.test(S.type));S=b.stepBackward()}else S=b.getCurrentToken();return O.end.row=b.getCurrentTokenRow(),O.end.column=b.getCurrentTokenColumn()+S.value.length-2,O}},this.foldAll=function(g,y,u){u==null&&(u=1e5);var b=this.foldWidgets;if(b){y=y||this.getLength();for(var S=g=g||0;S<y;S++)if(b[S]==null&&(b[S]=this.getFoldWidget(S)),b[S]=="start"){var T=this.getFoldWidgetRange(S);if(T&&T.isMultiLine()&&T.end.row<=y&&T.start.row>=g){S=T.end.row;try{var R=this.addFold("...",T);R&&(R.collapseChildren=u)}catch{}}}}},this.$foldStyles={manual:1,markbegin:1,markbeginend:1},this.$foldStyle="markbegin",this.setFoldStyle=function(g){if(!this.$foldStyles[g])throw new Error("invalid fold style: "+g+"["+Object.keys(this.$foldStyles).join(", ")+"]");if(this.$foldStyle!=g){this.$foldStyle=g,g=="manual"&&this.unfold();var y=this.$foldMode;this.$setFolding(null),this.$setFolding(y)}},this.$setFolding=function(g){this.$foldMode!=g&&(this.$foldMode=g,this.off("change",this.$updateFoldWidgets),this.off("tokenizerUpdate",this.$tokenizerUpdateFoldWidgets),this._signal("changeAnnotation"),g&&this.$foldStyle!="manual"?(this.foldWidgets=[],this.getFoldWidget=g.getFoldWidget.bind(g,this,this.$foldStyle),this.getFoldWidgetRange=g.getFoldWidgetRange.bind(g,this,this.$foldStyle),this.$updateFoldWidgets=this.updateFoldWidgets.bind(this),this.$tokenizerUpdateFoldWidgets=this.tokenizerUpdateFoldWidgets.bind(this),this.on("change",this.$updateFoldWidgets),this.on("tokenizerUpdate",this.$tokenizerUpdateFoldWidgets)):this.foldWidgets=null)},this.getParentFoldRangeData=function(g,y){var u=this.foldWidgets;if(!u||y&&u[g])return{};for(var b,S=g-1;S>=0;){var T=u[S];if(T==null&&(T=u[S]=this.getFoldWidget(S)),T=="start"){var R=this.getFoldWidgetRange(S);if(b||(b=R),R&&R.end.row>=g)break}S--}return{range:S!==-1&&R,firstRange:b}},this.onFoldWidgetClick=function(g,y){var u={children:(y=y.domEvent).shiftKey,all:y.ctrlKey||y.metaKey,siblings:y.altKey};if(!this.$toggleFoldWidget(g,u)){var b=y.target||y.srcElement;b&&/ace_fold-widget/.test(b.className)&&(b.className+=" ace_invalid")}},this.$toggleFoldWidget=function(g,y){if(this.getFoldWidget){var u=this.getFoldWidget(g),b=this.getLine(g),S=u==="end"?-1:1,T=this.getFoldAt(g,S===-1?0:b.length,S);if(T)return y.children||y.all?this.removeFold(T):this.expandFold(T),T;var R=this.getFoldWidgetRange(g,!0);if(R&&!R.isMultiLine()&&(T=this.getFoldAt(R.start.row,R.start.column,1))&&R.isEqual(T.range))return this.removeFold(T),T;if(y.siblings){var O=this.getParentFoldRangeData(g);if(O.range)var C=O.range.start.row+1,I=O.range.end.row;this.foldAll(C,I,y.all?1e4:0)}else y.children?(I=R?R.end.row:this.getLength(),this.foldAll(g+1,I,y.all?1e4:0)):R&&(y.all&&(R.collapseChildren=1e4),this.addFold("...",R));return R}},this.toggleFoldWidget=function(g){var y=this.selection.getCursor().row;y=this.getRowFoldStart(y);var u=this.$toggleFoldWidget(y,{});if(!u){var b=this.getParentFoldRangeData(y,!0);if(u=b.range||b.firstRange){y=u.start.row;var S=this.getFoldAt(y,this.getLine(y).length,1);S?this.removeFold(S):this.addFold("...",u)}}},this.updateFoldWidgets=function(g){var y=g.start.row,u=g.end.row-y;if(u===0)this.foldWidgets[y]=null;else if(g.action=="remove")this.foldWidgets.splice(y,u+1,null);else{var b=Array(u+1);b.unshift(y,1),this.foldWidgets.splice.apply(this.foldWidgets,b)}},this.tokenizerUpdateFoldWidgets=function(g){var y=g.data;y.first!=y.last&&this.foldWidgets.length>y.first&&this.foldWidgets.splice(y.first,this.foldWidgets.length)}}})),ace.define("ace/edit_session/bracket_match",["require","exports","module","ace/token_iterator","ace/range"],(function(l,c,f){var h=l("../token_iterator").TokenIterator,v=l("../range").Range;c.BracketMatch=function(){this.findMatchingBracket=function(m,_){if(m.column==0)return null;var g=_||this.getLine(m.row).charAt(m.column-1);if(g=="")return null;var y=g.match(/([\(\[\{])|([\)\]\}])/);return y?y[1]?this.$findClosingBracket(y[1],m):this.$findOpeningBracket(y[2],m):null},this.getBracketRange=function(m){var _,g=this.getLine(m.row),y=!0,u=g.charAt(m.column-1),b=u&&u.match(/([\(\[\{])|([\)\]\}])/);if(b||(u=g.charAt(m.column),m={row:m.row,column:m.column+1},b=u&&u.match(/([\(\[\{])|([\)\]\}])/),y=!1),!b)return null;if(b[1]){if(!(S=this.$findClosingBracket(b[1],m)))return null;_=v.fromPoints(m,S),y||(_.end.column++,_.start.column--),_.cursor=_.end}else{var S;if(!(S=this.$findOpeningBracket(b[2],m)))return null;_=v.fromPoints(S,m),y||(_.start.column++,_.end.column--),_.cursor=_.start}return _},this.$brackets={")":"(","(":")","]":"[","[":"]","{":"}","}":"{","<":">",">":"<"},this.$findOpeningBracket=function(m,_,g){var y=this.$brackets[m],u=1,b=new h(this,_.row,_.column),S=b.getCurrentToken();if(S||(S=b.stepForward()),S){g||(g=new RegExp("(\\.?"+S.type.replace(".","\\.").replace("rparen",".paren").replace(/\b(?:end)\b/,"(?:start|begin|end)")+")+"));for(var T=_.column-b.getCurrentTokenColumn()-2,R=S.value;;){for(;T>=0;){var O=R.charAt(T);if(O==y){if((u-=1)==0)return{row:b.getCurrentTokenRow(),column:T+b.getCurrentTokenColumn()}}else O==m&&(u+=1);T-=1}do S=b.stepBackward();while(S&&!g.test(S.type));if(S==null)break;T=(R=S.value).length-1}return null}},this.$findClosingBracket=function(m,_,g){var y=this.$brackets[m],u=1,b=new h(this,_.row,_.column),S=b.getCurrentToken();if(S||(S=b.stepForward()),S){g||(g=new RegExp("(\\.?"+S.type.replace(".","\\.").replace("lparen",".paren").replace(/\b(?:start|begin)\b/,"(?:start|begin|end)")+")+"));for(var T=_.column-b.getCurrentTokenColumn();;){for(var R=S.value,O=R.length;T<O;){var C=R.charAt(T);if(C==y){if((u-=1)==0)return{row:b.getCurrentTokenRow(),column:T+b.getCurrentTokenColumn()}}else C==m&&(u+=1);T+=1}do S=b.stepForward();while(S&&!g.test(S.type));if(S==null)break;T=0}return null}}}})),ace.define("ace/edit_session",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/bidihandler","ace/config","ace/lib/event_emitter","ace/selection","ace/mode/text","ace/range","ace/document","ace/background_tokenizer","ace/search_highlight","ace/edit_session/folding","ace/edit_session/bracket_match"],(function(l,c,f){var h=l("./lib/oop"),v=l("./lib/lang"),m=l("./bidihandler").BidiHandler,_=l("./config"),g=l("./lib/event_emitter").EventEmitter,y=l("./selection").Selection,u=l("./mode/text").Mode,b=l("./range").Range,S=l("./document").Document,T=l("./background_tokenizer").BackgroundTokenizer,R=l("./search_highlight").SearchHighlight,O=function(C,I){this.$breakpoints=[],this.$decorations=[],this.$frontMarkers={},this.$backMarkers={},this.$markerId=1,this.$undoSelect=!0,this.$foldData=[],this.id="session"+ ++O.$uid,this.$foldData.toString=function(){return this.join(`
`)},this.on("changeFold",this.onChangeFold.bind(this)),this.$onChange=this.onChange.bind(this),typeof C=="object"&&C.getLine||(C=new S(C)),this.setDocument(C),this.selection=new y(this),this.$bidiHandler=new m(this),_.resetOptions(this),this.setMode(I),_._signal("session",this)};O.$uid=0,(function(){h.implement(this,g),this.setDocument=function(M){this.doc&&this.doc.removeListener("change",this.$onChange),this.doc=M,M.on("change",this.$onChange),this.bgTokenizer&&this.bgTokenizer.setDocument(this.getDocument()),this.resetCaches()},this.getDocument=function(){return this.doc},this.$resetRowCache=function(M){if(!M)return this.$docRowCache=[],void(this.$screenRowCache=[]);var D=this.$docRowCache.length,B=this.$getRowCacheIndex(this.$docRowCache,M)+1;D>B&&(this.$docRowCache.splice(B,D),this.$screenRowCache.splice(B,D))},this.$getRowCacheIndex=function(M,D){for(var B=0,j=M.length-1;B<=j;){var U=B+j>>1,V=M[U];if(D>V)B=U+1;else{if(!(D<V))return U;j=U-1}}return B-1},this.resetCaches=function(){this.$modified=!0,this.$wrapData=[],this.$rowLengthCache=[],this.$resetRowCache(0),this.bgTokenizer&&this.bgTokenizer.start(0)},this.onChangeFold=function(M){var D=M.data;this.$resetRowCache(D.start.row)},this.onChange=function(M){this.$modified=!0,this.$bidiHandler.onChange(M),this.$resetRowCache(M.start.row);var D=this.$updateInternalDataOnChange(M);!this.$fromUndo&&this.$undoManager&&(D&&D.length&&(this.$undoManager.add({action:"removeFolds",folds:D},this.mergeUndoDeltas),this.mergeUndoDeltas=!0),this.$undoManager.add(M,this.mergeUndoDeltas),this.mergeUndoDeltas=!0,this.$informUndoManager.schedule()),this.bgTokenizer&&this.bgTokenizer.$updateOnChange(M),this._signal("change",M)},this.setValue=function(M){this.doc.setValue(M),this.selection.moveTo(0,0),this.$resetRowCache(0),this.setUndoManager(this.$undoManager),this.getUndoManager().reset()},this.getValue=this.toString=function(){return this.doc.getValue()},this.getSelection=function(){return this.selection},this.getState=function(M){return this.bgTokenizer.getState(M)},this.getTokens=function(M){return this.bgTokenizer.getTokens(M)},this.getTokenAt=function(M,D){var B,j=this.bgTokenizer.getTokens(M),U=0;if(D==null){var V=j.length-1;U=this.getLine(M).length}else for(V=0;V<j.length&&!((U+=j[V].value.length)>=D);V++);return(B=j[V])?(B.index=V,B.start=U-B.value.length,B):null},this.setUndoManager=function(M){if(this.$undoManager=M,this.$informUndoManager&&this.$informUndoManager.cancel(),M){var D=this;M.addSession(this),this.$syncInformUndoManager=function(){D.$informUndoManager.cancel(),D.mergeUndoDeltas=!1},this.$informUndoManager=v.delayedCall(this.$syncInformUndoManager)}else this.$syncInformUndoManager=function(){}},this.markUndoGroup=function(){this.$syncInformUndoManager&&this.$syncInformUndoManager()},this.$defaultUndoManager={undo:function(){},redo:function(){},hasUndo:function(){},hasRedo:function(){},reset:function(){},add:function(){},addSelection:function(){},startNewGroup:function(){},addSession:function(){}},this.getUndoManager=function(){return this.$undoManager||this.$defaultUndoManager},this.getTabString=function(){return this.getUseSoftTabs()?v.stringRepeat(" ",this.getTabSize()):"	"},this.setUseSoftTabs=function(M){this.setOption("useSoftTabs",M)},this.getUseSoftTabs=function(){return this.$useSoftTabs&&!this.$mode.$indentWithTabs},this.setTabSize=function(M){this.setOption("tabSize",M)},this.getTabSize=function(){return this.$tabSize},this.isTabStop=function(M){return this.$useSoftTabs&&M.column%this.$tabSize==0},this.setNavigateWithinSoftTabs=function(M){this.setOption("navigateWithinSoftTabs",M)},this.getNavigateWithinSoftTabs=function(){return this.$navigateWithinSoftTabs},this.$overwrite=!1,this.setOverwrite=function(M){this.setOption("overwrite",M)},this.getOverwrite=function(){return this.$overwrite},this.toggleOverwrite=function(){this.setOverwrite(!this.$overwrite)},this.addGutterDecoration=function(M,D){this.$decorations[M]||(this.$decorations[M]=""),this.$decorations[M]+=" "+D,this._signal("changeBreakpoint",{})},this.removeGutterDecoration=function(M,D){this.$decorations[M]=(this.$decorations[M]||"").replace(" "+D,""),this._signal("changeBreakpoint",{})},this.getBreakpoints=function(){return this.$breakpoints},this.setBreakpoints=function(M){this.$breakpoints=[];for(var D=0;D<M.length;D++)this.$breakpoints[M[D]]="ace_breakpoint";this._signal("changeBreakpoint",{})},this.clearBreakpoints=function(){this.$breakpoints=[],this._signal("changeBreakpoint",{})},this.setBreakpoint=function(M,D){D===void 0&&(D="ace_breakpoint"),D?this.$breakpoints[M]=D:delete this.$breakpoints[M],this._signal("changeBreakpoint",{})},this.clearBreakpoint=function(M){delete this.$breakpoints[M],this._signal("changeBreakpoint",{})},this.addMarker=function(M,D,B,j){var U=this.$markerId++,V={range:M,type:B||"line",renderer:typeof B=="function"?B:null,clazz:D,inFront:!!j,id:U};return j?(this.$frontMarkers[U]=V,this._signal("changeFrontMarker")):(this.$backMarkers[U]=V,this._signal("changeBackMarker")),U},this.addDynamicMarker=function(M,D){if(M.update){var B=this.$markerId++;return M.id=B,M.inFront=!!D,D?(this.$frontMarkers[B]=M,this._signal("changeFrontMarker")):(this.$backMarkers[B]=M,this._signal("changeBackMarker")),M}},this.removeMarker=function(M){var D=this.$frontMarkers[M]||this.$backMarkers[M];D&&(delete(D.inFront?this.$frontMarkers:this.$backMarkers)[M],this._signal(D.inFront?"changeFrontMarker":"changeBackMarker"))},this.getMarkers=function(M){return M?this.$frontMarkers:this.$backMarkers},this.highlight=function(M){if(!this.$searchHighlight){var D=new R(null,"ace_selected-word","text");this.$searchHighlight=this.addDynamicMarker(D)}this.$searchHighlight.setRegexp(M)},this.highlightLines=function(M,D,B,j){typeof D!="number"&&(B=D,D=M),B||(B="ace_step");var U=new b(M,0,D,1/0);return U.id=this.addMarker(U,B,"fullLine",j),U},this.setAnnotations=function(M){this.$annotations=M,this._signal("changeAnnotation",{})},this.getAnnotations=function(){return this.$annotations||[]},this.clearAnnotations=function(){this.setAnnotations([])},this.$detectNewLine=function(M){var D=M.match(/^.*?(\r?\n)/m);this.$autoNewLine=D?D[1]:`
`},this.getWordRange=function(M,D){var B=this.getLine(M),j=!1;if(D>0&&(j=!!B.charAt(D-1).match(this.tokenRe)),j||(j=!!B.charAt(D).match(this.tokenRe)),j)var U=this.tokenRe;else U=/^\s+$/.test(B.slice(D-1,D+1))?/\s/:this.nonTokenRe;var V=D;if(V>0){do V--;while(V>=0&&B.charAt(V).match(U));V++}for(var k=D;k<B.length&&B.charAt(k).match(U);)k++;return new b(M,V,M,k)},this.getAWordRange=function(M,D){for(var B=this.getWordRange(M,D),j=this.getLine(B.end.row);j.charAt(B.end.column).match(/[ \t]/);)B.end.column+=1;return B},this.setNewLineMode=function(M){this.doc.setNewLineMode(M)},this.getNewLineMode=function(){return this.doc.getNewLineMode()},this.setUseWorker=function(M){this.setOption("useWorker",M)},this.getUseWorker=function(){return this.$useWorker},this.onReloadTokenizer=function(M){var D=M.data;this.bgTokenizer.start(D.first),this._signal("tokenizerUpdate",M)},this.$modes=_.$modes,this.$mode=null,this.$modeId=null,this.setMode=function(M,D){if(M&&typeof M=="object"){if(M.getTokenizer)return this.$onChangeMode(M);var B=M,j=B.path}else j=M||"ace/mode/text";if(this.$modes["ace/mode/text"]||(this.$modes["ace/mode/text"]=new u),this.$modes[j]&&!B)return this.$onChangeMode(this.$modes[j]),void(D&&D());this.$modeId=j,_.loadModule(["mode",j],(function(U){if(this.$modeId!==j)return D&&D();this.$modes[j]&&!B?this.$onChangeMode(this.$modes[j]):U&&U.Mode&&(U=new U.Mode(B),B||(this.$modes[j]=U,U.$id=j),this.$onChangeMode(U)),D&&D()}).bind(this)),this.$mode||this.$onChangeMode(this.$modes["ace/mode/text"],!0)},this.$onChangeMode=function(M,D){if(D||(this.$modeId=M.$id),this.$mode!==M){this.$mode=M,this.$stopWorker(),this.$useWorker&&this.$startWorker();var B=M.getTokenizer();if(B.addEventListener!==void 0){var j=this.onReloadTokenizer.bind(this);B.addEventListener("update",j)}if(this.bgTokenizer)this.bgTokenizer.setTokenizer(B);else{this.bgTokenizer=new T(B);var U=this;this.bgTokenizer.addEventListener("update",(function(V){U._signal("tokenizerUpdate",V)}))}this.bgTokenizer.setDocument(this.getDocument()),this.tokenRe=M.tokenRe,this.nonTokenRe=M.nonTokenRe,D||(M.attachToSession&&M.attachToSession(this),this.$options.wrapMethod.set.call(this,this.$wrapMethod),this.$setFolding(M.foldingRules),this.bgTokenizer.start(0),this._emit("changeMode"))}},this.$stopWorker=function(){this.$worker&&(this.$worker.terminate(),this.$worker=null)},this.$startWorker=function(){try{this.$worker=this.$mode.createWorker(this)}catch(M){_.warn("Could not load worker",M),this.$worker=null}},this.getMode=function(){return this.$mode},this.$scrollTop=0,this.setScrollTop=function(M){this.$scrollTop===M||isNaN(M)||(this.$scrollTop=M,this._signal("changeScrollTop",M))},this.getScrollTop=function(){return this.$scrollTop},this.$scrollLeft=0,this.setScrollLeft=function(M){this.$scrollLeft===M||isNaN(M)||(this.$scrollLeft=M,this._signal("changeScrollLeft",M))},this.getScrollLeft=function(){return this.$scrollLeft},this.getScreenWidth=function(){return this.$computeWidth(),this.lineWidgets?Math.max(this.getLineWidgetMaxWidth(),this.screenWidth):this.screenWidth},this.getLineWidgetMaxWidth=function(){if(this.lineWidgetsWidth!=null)return this.lineWidgetsWidth;var M=0;return this.lineWidgets.forEach((function(D){D&&D.screenWidth>M&&(M=D.screenWidth)})),this.lineWidgetWidth=M},this.$computeWidth=function(M){if(this.$modified||M){if(this.$modified=!1,this.$useWrapMode)return this.screenWidth=this.$wrapLimit;for(var D=this.doc.getAllLines(),B=this.$rowLengthCache,j=0,U=0,V=this.$foldData[U],k=V?V.start.row:1/0,Z=D.length,ee=0;ee<Z;ee++){if(ee>k){if((ee=V.end.row+1)>=Z)break;k=(V=this.$foldData[U++])?V.start.row:1/0}B[ee]==null&&(B[ee]=this.$getStringScreenWidth(D[ee])[0]),B[ee]>j&&(j=B[ee])}this.screenWidth=j}},this.getLine=function(M){return this.doc.getLine(M)},this.getLines=function(M,D){return this.doc.getLines(M,D)},this.getLength=function(){return this.doc.getLength()},this.getTextRange=function(M){return this.doc.getTextRange(M||this.selection.getRange())},this.insert=function(M,D){return this.doc.insert(M,D)},this.remove=function(M){return this.doc.remove(M)},this.removeFullLines=function(M,D){return this.doc.removeFullLines(M,D)},this.undoChanges=function(M,D){if(M.length){this.$fromUndo=!0;for(var B=M.length-1;B!=-1;B--){var j=M[B];j.action=="insert"||j.action=="remove"?this.doc.revertDelta(j):j.folds&&this.addFolds(j.folds)}!D&&this.$undoSelect&&(M.selectionBefore?this.selection.fromJSON(M.selectionBefore):this.selection.setRange(this.$getUndoSelection(M,!0))),this.$fromUndo=!1}},this.redoChanges=function(M,D){if(M.length){this.$fromUndo=!0;for(var B=0;B<M.length;B++){var j=M[B];j.action!="insert"&&j.action!="remove"||this.doc.applyDelta(j)}!D&&this.$undoSelect&&(M.selectionAfter?this.selection.fromJSON(M.selectionAfter):this.selection.setRange(this.$getUndoSelection(M,!1))),this.$fromUndo=!1}},this.setUndoSelect=function(M){this.$undoSelect=M},this.$getUndoSelection=function(M,D){function B(Z){return D?Z.action!=="insert":Z.action==="insert"}for(var j,U,V=0;V<M.length;V++){var k=M[V];k.start&&(j?B(k)?(U=k.start,j.compare(U.row,U.column)==-1&&j.setStart(U),U=k.end,j.compare(U.row,U.column)==1&&j.setEnd(U)):(U=k.start,j.compare(U.row,U.column)==-1&&(j=b.fromPoints(k.start,k.start))):j=B(k)?b.fromPoints(k.start,k.end):b.fromPoints(k.start,k.start))}return j},this.replace=function(M,D){return this.doc.replace(M,D)},this.moveText=function(M,D,B){var j=this.getTextRange(M),U=this.getFoldsInRange(M),V=b.fromPoints(D,D);if(!B){this.remove(M);var k=M.start.row-M.end.row;(oe=k?-M.end.column:M.start.column-M.end.column)&&(V.start.row==M.end.row&&V.start.column>M.end.column&&(V.start.column+=oe),V.end.row==M.end.row&&V.end.column>M.end.column&&(V.end.column+=oe)),k&&V.start.row>=M.end.row&&(V.start.row+=k,V.end.row+=k)}if(V.end=this.insert(V.start,j),U.length){var Z=M.start,ee=V.start,oe=(k=ee.row-Z.row,ee.column-Z.column);this.addFolds(U.map((function(ne){return(ne=ne.clone()).start.row==Z.row&&(ne.start.column+=oe),ne.end.row==Z.row&&(ne.end.column+=oe),ne.start.row+=k,ne.end.row+=k,ne})))}return V},this.indentRows=function(M,D,B){B=B.replace(/\t/g,this.getTabString());for(var j=M;j<=D;j++)this.doc.insertInLine({row:j,column:0},B)},this.outdentRows=function(M){for(var D=M.collapseRows(),B=new b(0,0,0,0),j=this.getTabSize(),U=D.start.row;U<=D.end.row;++U){var V=this.getLine(U);B.start.row=U,B.end.row=U;for(var k=0;k<j&&V.charAt(k)==" ";++k);k<j&&V.charAt(k)=="	"?(B.start.column=k,B.end.column=k+1):(B.start.column=0,B.end.column=k),this.remove(B)}},this.$moveLines=function(M,D,B){if(M=this.getRowFoldStart(M),D=this.getRowFoldEnd(D),B<0){if((U=this.getRowFoldStart(M+B))<0)return 0;var j=U-M}else if(B>0){var U;if((U=this.getRowFoldEnd(D+B))>this.doc.getLength()-1)return 0;j=U-D}else M=this.$clipRowToDocument(M),j=(D=this.$clipRowToDocument(D))-M+1;var V=new b(M,0,D,Number.MAX_VALUE),k=this.getFoldsInRange(V).map((function(ee){return(ee=ee.clone()).start.row+=j,ee.end.row+=j,ee})),Z=B==0?this.doc.getLines(M,D):this.doc.removeFullLines(M,D);return this.doc.insertFullLines(M+j,Z),k.length&&this.addFolds(k),j},this.moveLinesUp=function(M,D){return this.$moveLines(M,D,-1)},this.moveLinesDown=function(M,D){return this.$moveLines(M,D,1)},this.duplicateLines=function(M,D){return this.$moveLines(M,D,0)},this.$clipRowToDocument=function(M){return Math.max(0,Math.min(M,this.doc.getLength()-1))},this.$clipColumnToRow=function(M,D){return D<0?0:Math.min(this.doc.getLine(M).length,D)},this.$clipPositionToDocument=function(M,D){if(D=Math.max(0,D),M<0)M=0,D=0;else{var B=this.doc.getLength();M>=B?(M=B-1,D=this.doc.getLine(B-1).length):D=Math.min(this.doc.getLine(M).length,D)}return{row:M,column:D}},this.$clipRangeToDocument=function(M){M.start.row<0?(M.start.row=0,M.start.column=0):M.start.column=this.$clipColumnToRow(M.start.row,M.start.column);var D=this.doc.getLength()-1;return M.end.row>D?(M.end.row=D,M.end.column=this.doc.getLine(D).length):M.end.column=this.$clipColumnToRow(M.end.row,M.end.column),M},this.$wrapLimit=80,this.$useWrapMode=!1,this.$wrapLimitRange={min:null,max:null},this.setUseWrapMode=function(M){if(M!=this.$useWrapMode){if(this.$useWrapMode=M,this.$modified=!0,this.$resetRowCache(0),M){var D=this.getLength();this.$wrapData=Array(D),this.$updateWrapData(0,D-1)}this._signal("changeWrapMode")}},this.getUseWrapMode=function(){return this.$useWrapMode},this.setWrapLimitRange=function(M,D){this.$wrapLimitRange.min===M&&this.$wrapLimitRange.max===D||(this.$wrapLimitRange={min:M,max:D},this.$modified=!0,this.$bidiHandler.markAsDirty(),this.$useWrapMode&&this._signal("changeWrapMode"))},this.adjustWrapLimit=function(M,D){var B=this.$wrapLimitRange;B.max<0&&(B={min:D,max:D});var j=this.$constrainWrapLimit(M,B.min,B.max);return j!=this.$wrapLimit&&j>1&&(this.$wrapLimit=j,this.$modified=!0,this.$useWrapMode&&(this.$updateWrapData(0,this.getLength()-1),this.$resetRowCache(0),this._signal("changeWrapLimit")),!0)},this.$constrainWrapLimit=function(M,D,B){return D&&(M=Math.max(D,M)),B&&(M=Math.min(B,M)),M},this.getWrapLimit=function(){return this.$wrapLimit},this.setWrapLimit=function(M){this.setWrapLimitRange(M,M)},this.getWrapLimitRange=function(){return{min:this.$wrapLimitRange.min,max:this.$wrapLimitRange.max}},this.$updateInternalDataOnChange=function(M){var D=this.$useWrapMode,B=M.action,j=M.start,U=M.end,V=j.row,k=U.row,Z=k-V,ee=null;if(this.$updating=!0,Z!=0)if(B==="remove"){this[D?"$wrapData":"$rowLengthCache"].splice(V,Z);var oe=this.$foldData;ee=this.getFoldsInRange(M),this.removeFolds(ee);var ne=0;if(ae=this.getFoldLine(U.row)){ae.addRemoveChars(U.row,U.column,j.column-U.column),ae.shiftRow(-Z);var ie=this.getFoldLine(V);ie&&ie!==ae&&(ie.merge(ae),ae=ie),ne=oe.indexOf(ae)+1}for(;ne<oe.length;ne++)(ae=oe[ne]).start.row>=U.row&&ae.shiftRow(-Z);k=V}else{var he=Array(Z);he.unshift(V,0);var fe=D?this.$wrapData:this.$rowLengthCache;if(fe.splice.apply(fe,he),oe=this.$foldData,ne=0,ae=this.getFoldLine(V)){var ce=ae.range.compareInside(j.row,j.column);ce==0?(ae=ae.split(j.row,j.column))&&(ae.shiftRow(Z),ae.addRemoveChars(k,0,U.column-j.column)):ce==-1&&(ae.addRemoveChars(V,0,U.column-j.column),ae.shiftRow(Z)),ne=oe.indexOf(ae)+1}for(;ne<oe.length;ne++){var ae;(ae=oe[ne]).start.row>=V&&ae.shiftRow(Z)}}else Z=Math.abs(M.start.column-M.end.column),B==="remove"&&(ee=this.getFoldsInRange(M),this.removeFolds(ee),Z=-Z),(ae=this.getFoldLine(V))&&ae.addRemoveChars(V,j.column,Z);return D&&this.$wrapData.length!=this.doc.getLength()&&console.error("doc.getLength() and $wrapData.length have to be the same!"),this.$updating=!1,D?this.$updateWrapData(V,k):this.$updateRowLengthCache(V,k),ee},this.$updateRowLengthCache=function(M,D,B){this.$rowLengthCache[M]=null,this.$rowLengthCache[D]=null},this.$updateWrapData=function(M,D){var B,j,U=this.doc.getAllLines(),V=this.getTabSize(),k=this.$wrapData,Z=this.$wrapLimit,ee=M;for(D=Math.min(D,U.length-1);ee<=D;)(j=this.getFoldLine(ee,j))?(B=[],j.walk((function(oe,ne,ie,he){var fe;if(oe!=null){(fe=this.$getDisplayTokens(oe,B.length))[0]=C;for(var ce=1;ce<fe.length;ce++)fe[ce]=I}else fe=this.$getDisplayTokens(U[ne].substring(he,ie),B.length);B=B.concat(fe)}).bind(this),j.end.row,U[j.end.row].length+1),k[j.start.row]=this.$computeWrapSplits(B,Z,V),ee=j.end.row+1):(B=this.$getDisplayTokens(U[ee]),k[ee]=this.$computeWrapSplits(B,Z,V),ee++)};var C=3,I=4;function F(M){return!(M<4352)&&(M>=4352&&M<=4447||M>=4515&&M<=4519||M>=4602&&M<=4607||M>=9001&&M<=9002||M>=11904&&M<=11929||M>=11931&&M<=12019||M>=12032&&M<=12245||M>=12272&&M<=12283||M>=12288&&M<=12350||M>=12353&&M<=12438||M>=12441&&M<=12543||M>=12549&&M<=12589||M>=12593&&M<=12686||M>=12688&&M<=12730||M>=12736&&M<=12771||M>=12784&&M<=12830||M>=12832&&M<=12871||M>=12880&&M<=13054||M>=13056&&M<=19903||M>=19968&&M<=42124||M>=42128&&M<=42182||M>=43360&&M<=43388||M>=44032&&M<=55203||M>=55216&&M<=55238||M>=55243&&M<=55291||M>=63744&&M<=64255||M>=65040&&M<=65049||M>=65072&&M<=65106||M>=65108&&M<=65126||M>=65128&&M<=65131||M>=65281&&M<=65376||M>=65504&&M<=65510)}this.$computeWrapSplits=function(M,D,B){if(M.length==0)return[];var j=[],U=M.length,V=0,k=0,Z=this.$wrapAsCode,ee=this.$indentedSoftWrap,oe=D<=Math.max(2*B,8)||ee===!1?0:Math.floor(D/2);function ne(ce){for(var ae=ce-V,ve=V;ve<ce;ve++){var _e=M[ve];_e!==12&&_e!==2||(ae-=1)}j.length||(ie=(function(){var Te=0;if(oe===0)return Te;if(ee)for(var Fe=0;Fe<M.length;Fe++){var We=M[Fe];if(We==10)Te+=1;else{if(We!=11){if(We==12)continue;break}Te+=B}}return Z&&ee!==!1&&(Te+=B),Math.min(Te,oe)})(),j.indent=ie),k+=ae,j.push(k),V=ce}for(var ie=0;U-V>D-ie;){var he=V+D-ie;if(M[he-1]>=10&&M[he]>=10)ne(he);else if(M[he]!=C&&M[he]!=I){for(var fe=Math.max(he-(D-(D>>2)),V-1);he>fe&&M[he]<C;)he--;if(Z){for(;he>fe&&M[he]<C;)he--;for(;he>fe&&M[he]==9;)he--}else for(;he>fe&&M[he]<10;)he--;he>fe?ne(++he):(M[he=V+D]==2&&he--,ne(he-ie))}else{for(;he!=V-1&&M[he]!=C;he--);if(he>V){ne(he);continue}for(he=V+D;he<M.length&&M[he]==I;he++);if(he==M.length)break;ne(he)}}return j},this.$getDisplayTokens=function(M,D){var B,j=[];D=D||0;for(var U=0;U<M.length;U++){var V=M.charCodeAt(U);if(V==9){B=this.getScreenTabSize(j.length+D),j.push(11);for(var k=1;k<B;k++)j.push(12)}else V==32?j.push(10):V>39&&V<48||V>57&&V<64?j.push(9):V>=4352&&F(V)?j.push(1,2):j.push(1)}return j},this.$getStringScreenWidth=function(M,D,B){if(D==0)return[0,0];var j,U;for(D==null&&(D=1/0),B=B||0,U=0;U<M.length&&((j=M.charCodeAt(U))==9?B+=this.getScreenTabSize(B):j>=4352&&F(j)?B+=2:B+=1,!(B>D));U++);return[B,U]},this.lineWidgets=null,this.getRowLength=function(M){if(this.lineWidgets)var D=this.lineWidgets[M]&&this.lineWidgets[M].rowCount||0;else D=0;return this.$useWrapMode&&this.$wrapData[M]?this.$wrapData[M].length+1+D:1+D},this.getRowLineCount=function(M){return this.$useWrapMode&&this.$wrapData[M]?this.$wrapData[M].length+1:1},this.getRowWrapIndent=function(M){if(this.$useWrapMode){var D=this.screenToDocumentPosition(M,Number.MAX_VALUE),B=this.$wrapData[D.row];return B.length&&B[0]<D.column?B.indent:0}return 0},this.getScreenLastRowColumn=function(M){var D=this.screenToDocumentPosition(M,Number.MAX_VALUE);return this.documentToScreenColumn(D.row,D.column)},this.getDocumentLastRowColumn=function(M,D){var B=this.documentToScreenRow(M,D);return this.getScreenLastRowColumn(B)},this.getDocumentLastRowColumnPosition=function(M,D){var B=this.documentToScreenRow(M,D);return this.screenToDocumentPosition(B,Number.MAX_VALUE/10)},this.getRowSplitData=function(M){return this.$useWrapMode?this.$wrapData[M]:void 0},this.getScreenTabSize=function(M){return this.$tabSize-(M%this.$tabSize|0)},this.screenToDocumentRow=function(M,D){return this.screenToDocumentPosition(M,D).row},this.screenToDocumentColumn=function(M,D){return this.screenToDocumentPosition(M,D).column},this.screenToDocumentPosition=function(M,D,B){if(M<0)return{row:0,column:0};var j,U,V=0,k=0,Z=0,ee=0,oe=this.$screenRowCache,ne=this.$getRowCacheIndex(oe,M),ie=oe.length;if(ie&&ne>=0){Z=oe[ne],V=this.$docRowCache[ne];var he=M>oe[ie-1]}else he=!ie;for(var fe=this.getLength()-1,ce=this.getNextFoldLine(V),ae=ce?ce.start.row:1/0;Z<=M&&!(Z+(ee=this.getRowLength(V))>M||V>=fe);)Z+=ee,++V>ae&&(V=ce.end.row+1,ae=(ce=this.getNextFoldLine(V,ce))?ce.start.row:1/0),he&&(this.$docRowCache.push(V),this.$screenRowCache.push(Z));if(ce&&ce.start.row<=V)j=this.getFoldDisplayLine(ce),V=ce.start.row;else{if(Z+ee<=M||V>fe)return{row:fe,column:this.getLine(fe).length};j=this.getLine(V),ce=null}var ve=0,_e=Math.floor(M-Z);if(this.$useWrapMode){var Te=this.$wrapData[V];Te&&(U=Te[_e],_e>0&&Te.length&&(ve=Te.indent,k=Te[_e-1]||Te[Te.length-1],j=j.substring(k)))}return B!==void 0&&this.$bidiHandler.isBidiRow(Z+_e,V,_e)&&(D=this.$bidiHandler.offsetToCol(B)),k+=this.$getStringScreenWidth(j,D-ve)[1],this.$useWrapMode&&k>=U&&(k=U-1),ce?ce.idxToPosition(k):{row:V,column:k}},this.documentToScreenPosition=function(M,D){if(D===void 0)var B=this.$clipPositionToDocument(M.row,M.column);else B=this.$clipPositionToDocument(M,D);M=B.row,D=B.column;var j,U=0,V=null;(j=this.getFoldAt(M,D,1))&&(M=j.start.row,D=j.start.column);var k,Z=0,ee=this.$docRowCache,oe=this.$getRowCacheIndex(ee,M),ne=ee.length;if(ne&&oe>=0){Z=ee[oe],U=this.$screenRowCache[oe];var ie=M>ee[ne-1]}else ie=!ne;for(var he=this.getNextFoldLine(Z),fe=he?he.start.row:1/0;Z<M;){if(Z>=fe){if((k=he.end.row+1)>M)break;fe=(he=this.getNextFoldLine(k,he))?he.start.row:1/0}else k=Z+1;U+=this.getRowLength(Z),Z=k,ie&&(this.$docRowCache.push(Z),this.$screenRowCache.push(U))}var ce="";he&&Z>=fe?(ce=this.getFoldDisplayLine(he,M,D),V=he.start.row):(ce=this.getLine(M).substring(0,D),V=M);var ae=0;if(this.$useWrapMode){var ve=this.$wrapData[V];if(ve){for(var _e=0;ce.length>=ve[_e];)U++,_e++;ce=ce.substring(ve[_e-1]||0,ce.length),ae=_e>0?ve.indent:0}}return{row:U,column:ae+this.$getStringScreenWidth(ce)[0]}},this.documentToScreenColumn=function(M,D){return this.documentToScreenPosition(M,D).column},this.documentToScreenRow=function(M,D){return this.documentToScreenPosition(M,D).row},this.getScreenLength=function(){var M=0,D=null;if(this.$useWrapMode)for(var B=this.$wrapData.length,j=0,U=(Z=0,(D=this.$foldData[Z++])?D.start.row:1/0);j<B;){var V=this.$wrapData[j];M+=V?V.length+1:1,++j>U&&(j=D.end.row+1,U=(D=this.$foldData[Z++])?D.start.row:1/0)}else{M=this.getLength();for(var k=this.$foldData,Z=0;Z<k.length;Z++)M-=(D=k[Z]).end.row-D.start.row}return this.lineWidgets&&(M+=this.$getWidgetScreenLength()),M},this.$setFontMetrics=function(M){this.$enableVarChar&&(this.$getStringScreenWidth=function(D,B,j){if(B===0)return[0,0];var U,V;for(B||(B=1/0),j=j||0,V=0;V<D.length&&!((j+=(U=D.charAt(V))==="	"?this.getScreenTabSize(j):M.getCharacterWidth(U))>B);V++);return[j,V]})},this.destroy=function(){this.bgTokenizer&&(this.bgTokenizer.setDocument(null),this.bgTokenizer=null),this.$stopWorker()},this.isFullWidth=F}).call(O.prototype),l("./edit_session/folding").Folding.call(O.prototype),l("./edit_session/bracket_match").BracketMatch.call(O.prototype),_.defineOptions(O.prototype,"session",{wrap:{set:function(C){if(C&&C!="off"?C=="free"?C=!0:C=="printMargin"?C=-1:typeof C=="string"&&(C=parseInt(C,10)||!1):C=!1,this.$wrap!=C)if(this.$wrap=C,C){var I=typeof C=="number"?C:null;this.setWrapLimitRange(I,I),this.setUseWrapMode(!0)}else this.setUseWrapMode(!1)},get:function(){return this.getUseWrapMode()?this.$wrap==-1?"printMargin":this.getWrapLimitRange().min?this.$wrap:"free":"off"},handlesSet:!0},wrapMethod:{set:function(C){(C=C=="auto"?this.$mode.type!="text":C!="text")!=this.$wrapAsCode&&(this.$wrapAsCode=C,this.$useWrapMode&&(this.$useWrapMode=!1,this.setUseWrapMode(!0)))},initialValue:"auto"},indentedSoftWrap:{set:function(){this.$useWrapMode&&(this.$useWrapMode=!1,this.setUseWrapMode(!0))},initialValue:!0},firstLineNumber:{set:function(){this._signal("changeBreakpoint")},initialValue:1},useWorker:{set:function(C){this.$useWorker=C,this.$stopWorker(),C&&this.$startWorker()},initialValue:!0},useSoftTabs:{initialValue:!0},tabSize:{set:function(C){(C=parseInt(C))>0&&this.$tabSize!==C&&(this.$modified=!0,this.$rowLengthCache=[],this.$tabSize=C,this._signal("changeTabSize"))},initialValue:4,handlesSet:!0},navigateWithinSoftTabs:{initialValue:!1},foldStyle:{set:function(C){this.setFoldStyle(C)},handlesSet:!0},overwrite:{set:function(C){this._signal("changeOverwrite")},initialValue:!1},newLineMode:{set:function(C){this.doc.setNewLineMode(C)},get:function(){return this.doc.getNewLineMode()},handlesSet:!0},mode:{set:function(C){this.setMode(C)},get:function(){return this.$modeId},handlesSet:!0}}),c.EditSession=O})),ace.define("ace/search",["require","exports","module","ace/lib/lang","ace/lib/oop","ace/range"],(function(l,c,f){var h=l("./lib/lang"),v=l("./lib/oop"),m=l("./range").Range,_=function(){this.$options={}};(function(){this.set=function(g){return v.mixin(this.$options,g),this},this.getOptions=function(){return h.copyObject(this.$options)},this.setOptions=function(g){this.$options=g},this.find=function(g){var y=this.$options,u=this.$matchIterator(g,y);if(!u)return!1;var b=null;return u.forEach((function(S,T,R,O){return b=new m(S,T,R,O),!(T==O&&y.start&&y.start.start&&y.skipCurrent!=0&&b.isEqual(y.start)&&(b=null,1))})),b},this.findAll=function(g){var y=this.$options;if(!y.needle)return[];this.$assembleRegExp(y);var u=y.range,b=u?g.getLines(u.start.row,u.end.row):g.doc.getAllLines(),S=[],T=y.re;if(y.$isMultiLine){var R,O=T.length,C=b.length-O;e:for(var I=T.offset||0;I<=C;I++){for(var F=0;F<O;F++)if(b[I+F].search(T[F])==-1)continue e;var M=b[I],D=b[I+O-1],B=M.length-M.match(T[0])[0].length,j=D.match(T[O-1])[0].length;R&&R.end.row===I&&R.end.column>B||(S.push(R=new m(I,B,I+O-1,j)),O>2&&(I=I+O-2))}}else for(var U=0;U<b.length;U++){var V=h.getMatchOffsets(b[U],T);for(F=0;F<V.length;F++){var k=V[F];S.push(new m(U,k.offset,U,k.offset+k.length))}}if(u){var Z=u.start.column,ee=u.start.column;for(U=0,F=S.length-1;U<F&&S[U].start.column<Z&&S[U].start.row==u.start.row;)U++;for(;U<F&&S[F].end.column>ee&&S[F].end.row==u.end.row;)F--;for(S=S.slice(U,F+1),U=0,F=S.length;U<F;U++)S[U].start.row+=u.start.row,S[U].end.row+=u.start.row}return S},this.replace=function(g,y){var u=this.$options,b=this.$assembleRegExp(u);if(u.$isMultiLine)return y;if(b){var S=b.exec(g);if(!S||S[0].length!=g.length)return null;if(y=g.replace(b,y),u.preserveCase){y=y.split("");for(var T=Math.min(g.length,g.length);T--;){var R=g[T];R&&R.toLowerCase()!=R?y[T]=y[T].toUpperCase():y[T]=y[T].toLowerCase()}y=y.join("")}return y}},this.$assembleRegExp=function(g,y){if(g.needle instanceof RegExp)return g.re=g.needle;var u=g.needle;if(!g.needle)return g.re=!1;g.regExp||(u=h.escapeRegExp(u)),g.wholeWord&&(u=(function(T,R){function O(C){return/\w/.test(C)||R.regExp?"\\b":""}return O(T[0])+T+O(T[T.length-1])})(u,g));var b=g.caseSensitive?"gm":"gmi";if(g.$isMultiLine=!y&&/[\n\r]/.test(u),g.$isMultiLine)return g.re=this.$assembleMultilineRegExp(u,b);try{var S=new RegExp(u,b)}catch{S=!1}return g.re=S},this.$assembleMultilineRegExp=function(g,y){for(var u=g.replace(/\r\n|\r|\n/g,`$
^`).split(`
`),b=[],S=0;S<u.length;S++)try{b.push(new RegExp(u[S],y))}catch{return!1}return b},this.$matchIterator=function(g,y){var u=this.$assembleRegExp(y);if(!u)return!1;var b=y.backwards==1,S=y.skipCurrent!=0,T=y.range,R=y.start;R||(R=T?T[b?"end":"start"]:g.selection.getRange()),R.start&&(R=R[S!=b?"end":"start"]);var O=T?T.start.row:0,C=T?T.end.row:g.getLength()-1;if(b)var I=function(D){var B=R.row;if(!M(B,R.column,D)){for(B--;B>=O;B--)if(M(B,Number.MAX_VALUE,D))return;if(y.wrap!=0){for(B=C,O=R.row;B>=O;B--)if(M(B,Number.MAX_VALUE,D))return}}};else I=function(D){var B=R.row;if(!M(B,R.column,D)){for(B+=1;B<=C;B++)if(M(B,0,D))return;if(y.wrap!=0){for(B=O,C=R.row;B<=C;B++)if(M(B,0,D))return}}};if(y.$isMultiLine)var F=u.length,M=function(D,B,j){var U=b?D-F+1:D;if(!(U<0)){var V=g.getLine(U),k=V.search(u[0]);if(!(!b&&k<B||k===-1)){for(var Z=1;Z<F;Z++)if((V=g.getLine(U+Z)).search(u[Z])==-1)return;var ee=V.match(u[F-1])[0].length;if(!(b&&ee>B))return!!j(U,k,U+F-1,ee)||void 0}}};else M=b?function(D,B,j){var U,V=g.getLine(D),k=[],Z=0;for(u.lastIndex=0;U=u.exec(V);){var ee=U[0].length;if(Z=U.index,!ee){if(Z>=V.length)break;u.lastIndex=Z+=1}if(U.index+ee>B)break;k.push(U.index,ee)}for(var oe=k.length-1;oe>=0;oe-=2){var ne=k[oe-1];if(j(D,ne,D,ne+(ee=k[oe])))return!0}}:function(D,B,j){var U,V,k=g.getLine(D);for(u.lastIndex=B;V=u.exec(k);){var Z=V[0].length;if(j(D,U=V.index,D,U+Z))return!0;if(!Z&&(u.lastIndex=U+=1,U>=k.length))return!1}};return{forEach:I}}}).call(_.prototype),c.Search=_})),ace.define("ace/keyboard/hash_handler",["require","exports","module","ace/lib/keys","ace/lib/useragent"],(function(l,c,f){var h=l("../lib/keys"),v=l("../lib/useragent"),m=h.KEY_MODS;function _(y,u){this.platform=u||(v.isMac?"mac":"win"),this.commands={},this.commandKeyBinding={},this.addCommands(y),this.$singleCommand=!0}function g(y,u){_.call(this,y,u),this.$singleCommand=!1}g.prototype=_.prototype,(function(){function y(u){return typeof u=="object"&&u.bindKey&&u.bindKey.position||(u.isDefault?-100:0)}this.addCommand=function(u){this.commands[u.name]&&this.removeCommand(u),this.commands[u.name]=u,u.bindKey&&this._buildKeyHash(u)},this.removeCommand=function(u,b){var S=u&&(typeof u=="string"?u:u.name);u=this.commands[S],b||delete this.commands[S];var T=this.commandKeyBinding;for(var R in T){var O=T[R];if(O==u)delete T[R];else if(Array.isArray(O)){var C=O.indexOf(u);C!=-1&&(O.splice(C,1),O.length==1&&(T[R]=O[0]))}}},this.bindKey=function(u,b,S){if(typeof u=="object"&&u&&(S==null&&(S=u.position),u=u[this.platform]),u)return typeof b=="function"?this.addCommand({exec:b,bindKey:u,name:b.name||u}):void u.split("|").forEach((function(T){var R="";if(T.indexOf(" ")!=-1){var O=T.split(/\s+/);T=O.pop(),O.forEach((function(F){var M=this.parseKeys(F),D=m[M.hashId]+M.key;R+=(R?" ":"")+D,this._addCommandToBinding(R,"chainKeys")}),this),R+=" "}var C=this.parseKeys(T),I=m[C.hashId]+C.key;this._addCommandToBinding(R+I,b,S)}),this)},this._addCommandToBinding=function(u,b,S){var T,R=this.commandKeyBinding;if(b)if(!R[u]||this.$singleCommand)R[u]=b;else{Array.isArray(R[u])?(T=R[u].indexOf(b))!=-1&&R[u].splice(T,1):R[u]=[R[u]],typeof S!="number"&&(S=y(b));var O=R[u];for(T=0;T<O.length&&!(y(O[T])>S);T++);O.splice(T,0,b)}else delete R[u]},this.addCommands=function(u){u&&Object.keys(u).forEach((function(b){var S=u[b];if(S){if(typeof S=="string")return this.bindKey(S,b);typeof S=="function"&&(S={exec:S}),typeof S=="object"&&(S.name||(S.name=b),this.addCommand(S))}}),this)},this.removeCommands=function(u){Object.keys(u).forEach((function(b){this.removeCommand(u[b])}),this)},this.bindKeys=function(u){Object.keys(u).forEach((function(b){this.bindKey(b,u[b])}),this)},this._buildKeyHash=function(u){this.bindKey(u.bindKey,u)},this.parseKeys=function(u){var b=u.toLowerCase().split(/[\-\+]([\-\+])?/).filter((function(I){return I})),S=b.pop(),T=h[S];if(h.FUNCTION_KEYS[T])S=h.FUNCTION_KEYS[T].toLowerCase();else{if(!b.length)return{key:S,hashId:-1};if(b.length==1&&b[0]=="shift")return{key:S.toUpperCase(),hashId:-1}}for(var R=0,O=b.length;O--;){var C=h.KEY_MODS[b[O]];if(C==null)return typeof console<"u"&&console.error("invalid modifier "+b[O]+" in "+u),!1;R|=C}return{key:S,hashId:R}},this.findKeyCommand=function(u,b){var S=m[u]+b;return this.commandKeyBinding[S]},this.handleKeyboard=function(u,b,S,T){if(!(T<0)){var R=m[b]+S,O=this.commandKeyBinding[R];return u.$keyChain&&(u.$keyChain+=" "+R,O=this.commandKeyBinding[u.$keyChain]||O),!O||O!="chainKeys"&&O[O.length-1]!="chainKeys"?(u.$keyChain&&(b&&b!=4||S.length!=1?(b==-1||T>0)&&(u.$keyChain=""):u.$keyChain=u.$keyChain.slice(0,-R.length-1)),{command:O}):(u.$keyChain=u.$keyChain||R,{command:"null"})}},this.getStatusText=function(u,b){return b.$keyChain||""}}).call(_.prototype),c.HashHandler=_,c.MultiHashHandler=g})),ace.define("ace/commands/command_manager",["require","exports","module","ace/lib/oop","ace/keyboard/hash_handler","ace/lib/event_emitter"],(function(l,c,f){var h=l("../lib/oop"),v=l("../keyboard/hash_handler").MultiHashHandler,m=l("../lib/event_emitter").EventEmitter,_=function(g,y){v.call(this,y,g),this.byName=this.commands,this.setDefaultHandler("exec",(function(u){return u.command.exec(u.editor,u.args||{})}))};h.inherits(_,v),(function(){h.implement(this,m),this.exec=function(g,y,u){if(Array.isArray(g)){for(var b=g.length;b--;)if(this.exec(g[b],y,u))return!0;return!1}if(typeof g=="string"&&(g=this.commands[g]),!g||y&&y.$readOnly&&!g.readOnly||this.$checkCommandState!=0&&g.isAvailable&&!g.isAvailable(y))return!1;var S={editor:y,command:g,args:u};return S.returnValue=this._emit("exec",S),this._signal("afterExec",S),S.returnValue!==!1},this.toggleRecording=function(g){if(!this.$inReplay)return g&&g._emit("changeStatus"),this.recording?(this.macro.pop(),this.removeEventListener("exec",this.$addCommandToMacro),this.macro.length||(this.macro=this.oldMacro),this.recording=!1):(this.$addCommandToMacro||(this.$addCommandToMacro=(function(y){this.macro.push([y.command,y.args])}).bind(this)),this.oldMacro=this.macro,this.macro=[],this.on("exec",this.$addCommandToMacro),this.recording=!0)},this.replay=function(g){if(!this.$inReplay&&this.macro){if(this.recording)return this.toggleRecording(g);try{this.$inReplay=!0,this.macro.forEach((function(y){typeof y=="string"?this.exec(y,g):this.exec(y[0],g,y[1])}),this)}finally{this.$inReplay=!1}}},this.trimMacro=function(g){return g.map((function(y){return typeof y[0]!="string"&&(y[0]=y[0].name),y[1]||(y=y[0]),y}))}}).call(_.prototype),c.CommandManager=_})),ace.define("ace/commands/default_commands",["require","exports","module","ace/lib/lang","ace/config","ace/range"],(function(l,c,f){var h=l("../lib/lang"),v=l("../config"),m=l("../range").Range;function _(g,y){return{win:g,mac:y}}c.commands=[{name:"showSettingsMenu",bindKey:_("Ctrl-,","Command-,"),exec:function(g){v.loadModule("ace/ext/settings_menu",(function(y){y.init(g),g.showSettingsMenu()}))},readOnly:!0},{name:"goToNextError",bindKey:_("Alt-E","F4"),exec:function(g){v.loadModule("./ext/error_marker",(function(y){y.showErrorMarker(g,1)}))},scrollIntoView:"animate",readOnly:!0},{name:"goToPreviousError",bindKey:_("Alt-Shift-E","Shift-F4"),exec:function(g){v.loadModule("./ext/error_marker",(function(y){y.showErrorMarker(g,-1)}))},scrollIntoView:"animate",readOnly:!0},{name:"selectall",description:"Select all",bindKey:_("Ctrl-A","Command-A"),exec:function(g){g.selectAll()},readOnly:!0},{name:"centerselection",description:"Center selection",bindKey:_(null,"Ctrl-L"),exec:function(g){g.centerSelection()},readOnly:!0},{name:"gotoline",description:"Go to line...",bindKey:_("Ctrl-L","Command-L"),exec:function(g,y){typeof y!="number"||isNaN(y)||g.gotoLine(y),g.prompt({$type:"gotoLine"})},readOnly:!0},{name:"fold",bindKey:_("Alt-L|Ctrl-F1","Command-Alt-L|Command-F1"),exec:function(g){g.session.toggleFold(!1)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"unfold",bindKey:_("Alt-Shift-L|Ctrl-Shift-F1","Command-Alt-Shift-L|Command-Shift-F1"),exec:function(g){g.session.toggleFold(!0)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"toggleFoldWidget",bindKey:_("F2","F2"),exec:function(g){g.session.toggleFoldWidget()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"toggleParentFoldWidget",bindKey:_("Alt-F2","Alt-F2"),exec:function(g){g.session.toggleFoldWidget(!0)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"foldall",description:"Fold all",bindKey:_(null,"Ctrl-Command-Option-0"),exec:function(g){g.session.foldAll()},scrollIntoView:"center",readOnly:!0},{name:"foldOther",description:"Fold other",bindKey:_("Alt-0","Command-Option-0"),exec:function(g){g.session.foldAll(),g.session.unfold(g.selection.getAllRanges())},scrollIntoView:"center",readOnly:!0},{name:"unfoldall",description:"Unfold all",bindKey:_("Alt-Shift-0","Command-Option-Shift-0"),exec:function(g){g.session.unfold()},scrollIntoView:"center",readOnly:!0},{name:"findnext",description:"Find next",bindKey:_("Ctrl-K","Command-G"),exec:function(g){g.findNext()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"findprevious",description:"Find previous",bindKey:_("Ctrl-Shift-K","Command-Shift-G"),exec:function(g){g.findPrevious()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"selectOrFindNext",description:"Select or find next",bindKey:_("Alt-K","Ctrl-G"),exec:function(g){g.selection.isEmpty()?g.selection.selectWord():g.findNext()},readOnly:!0},{name:"selectOrFindPrevious",description:"Select or find previous",bindKey:_("Alt-Shift-K","Ctrl-Shift-G"),exec:function(g){g.selection.isEmpty()?g.selection.selectWord():g.findPrevious()},readOnly:!0},{name:"find",description:"Find",bindKey:_("Ctrl-F","Command-F"),exec:function(g){v.loadModule("ace/ext/searchbox",(function(y){y.Search(g)}))},readOnly:!0},{name:"overwrite",description:"Overwrite",bindKey:"Insert",exec:function(g){g.toggleOverwrite()},readOnly:!0},{name:"selecttostart",description:"Select to start",bindKey:_("Ctrl-Shift-Home","Command-Shift-Home|Command-Shift-Up"),exec:function(g){g.getSelection().selectFileStart()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"gotostart",description:"Go to start",bindKey:_("Ctrl-Home","Command-Home|Command-Up"),exec:function(g){g.navigateFileStart()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"selectup",description:"Select up",bindKey:_("Shift-Up","Shift-Up|Ctrl-Shift-P"),exec:function(g){g.getSelection().selectUp()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"golineup",description:"Go line up",bindKey:_("Up","Up|Ctrl-P"),exec:function(g,y){g.navigateUp(y.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttoend",description:"Select to end",bindKey:_("Ctrl-Shift-End","Command-Shift-End|Command-Shift-Down"),exec:function(g){g.getSelection().selectFileEnd()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"gotoend",description:"Go to end",bindKey:_("Ctrl-End","Command-End|Command-Down"),exec:function(g){g.navigateFileEnd()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"selectdown",description:"Select down",bindKey:_("Shift-Down","Shift-Down|Ctrl-Shift-N"),exec:function(g){g.getSelection().selectDown()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"golinedown",description:"Go line down",bindKey:_("Down","Down|Ctrl-N"),exec:function(g,y){g.navigateDown(y.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectwordleft",description:"Select word left",bindKey:_("Ctrl-Shift-Left","Option-Shift-Left"),exec:function(g){g.getSelection().selectWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotowordleft",description:"Go to word left",bindKey:_("Ctrl-Left","Option-Left"),exec:function(g){g.navigateWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttolinestart",description:"Select to line start",bindKey:_("Alt-Shift-Left","Command-Shift-Left|Ctrl-Shift-A"),exec:function(g){g.getSelection().selectLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotolinestart",description:"Go to line start",bindKey:_("Alt-Left|Home","Command-Left|Home|Ctrl-A"),exec:function(g){g.navigateLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectleft",description:"Select left",bindKey:_("Shift-Left","Shift-Left|Ctrl-Shift-B"),exec:function(g){g.getSelection().selectLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotoleft",description:"Go to left",bindKey:_("Left","Left|Ctrl-B"),exec:function(g,y){g.navigateLeft(y.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectwordright",description:"Select word right",bindKey:_("Ctrl-Shift-Right","Option-Shift-Right"),exec:function(g){g.getSelection().selectWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotowordright",description:"Go to word right",bindKey:_("Ctrl-Right","Option-Right"),exec:function(g){g.navigateWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttolineend",description:"Select to line end",bindKey:_("Alt-Shift-Right","Command-Shift-Right|Shift-End|Ctrl-Shift-E"),exec:function(g){g.getSelection().selectLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotolineend",description:"Go to line end",bindKey:_("Alt-Right|End","Command-Right|End|Ctrl-E"),exec:function(g){g.navigateLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectright",description:"Select right",bindKey:_("Shift-Right","Shift-Right"),exec:function(g){g.getSelection().selectRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotoright",description:"Go to right",bindKey:_("Right","Right|Ctrl-F"),exec:function(g,y){g.navigateRight(y.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectpagedown",description:"Select page down",bindKey:"Shift-PageDown",exec:function(g){g.selectPageDown()},readOnly:!0},{name:"pagedown",description:"Page down",bindKey:_(null,"Option-PageDown"),exec:function(g){g.scrollPageDown()},readOnly:!0},{name:"gotopagedown",description:"Go to page down",bindKey:_("PageDown","PageDown|Ctrl-V"),exec:function(g){g.gotoPageDown()},readOnly:!0},{name:"selectpageup",description:"Select page up",bindKey:"Shift-PageUp",exec:function(g){g.selectPageUp()},readOnly:!0},{name:"pageup",description:"Page up",bindKey:_(null,"Option-PageUp"),exec:function(g){g.scrollPageUp()},readOnly:!0},{name:"gotopageup",description:"Go to page up",bindKey:"PageUp",exec:function(g){g.gotoPageUp()},readOnly:!0},{name:"scrollup",description:"Scroll up",bindKey:_("Ctrl-Up",null),exec:function(g){g.renderer.scrollBy(0,-2*g.renderer.layerConfig.lineHeight)},readOnly:!0},{name:"scrolldown",description:"Scroll down",bindKey:_("Ctrl-Down",null),exec:function(g){g.renderer.scrollBy(0,2*g.renderer.layerConfig.lineHeight)},readOnly:!0},{name:"selectlinestart",description:"Select line start",bindKey:"Shift-Home",exec:function(g){g.getSelection().selectLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectlineend",description:"Select line end",bindKey:"Shift-End",exec:function(g){g.getSelection().selectLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"togglerecording",description:"Toggle recording",bindKey:_("Ctrl-Alt-E","Command-Option-E"),exec:function(g){g.commands.toggleRecording(g)},readOnly:!0},{name:"replaymacro",description:"Replay macro",bindKey:_("Ctrl-Shift-E","Command-Shift-E"),exec:function(g){g.commands.replay(g)},readOnly:!0},{name:"jumptomatching",description:"Jump to matching",bindKey:_("Ctrl-\\|Ctrl-P","Command-\\"),exec:function(g){g.jumpToMatching()},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"selecttomatching",description:"Select to matching",bindKey:_("Ctrl-Shift-\\|Ctrl-Shift-P","Command-Shift-\\"),exec:function(g){g.jumpToMatching(!0)},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"expandToMatching",description:"Expand to matching",bindKey:_("Ctrl-Shift-M","Ctrl-Shift-M"),exec:function(g){g.jumpToMatching(!0,!0)},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"passKeysToBrowser",description:"Pass keys to browser",bindKey:_(null,null),exec:function(){},passEvent:!0,readOnly:!0},{name:"copy",description:"Copy",exec:function(g){},readOnly:!0},{name:"cut",description:"Cut",exec:function(g){var y=g.$copyWithEmptySelection&&g.selection.isEmpty()?g.selection.getLineRange():g.selection.getRange();g._emit("cut",y),y.isEmpty()||g.session.remove(y),g.clearSelection()},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"paste",description:"Paste",exec:function(g,y){g.$handlePaste(y)},scrollIntoView:"cursor"},{name:"removeline",description:"Remove line",bindKey:_("Ctrl-D","Command-D"),exec:function(g){g.removeLines()},scrollIntoView:"cursor",multiSelectAction:"forEachLine"},{name:"duplicateSelection",description:"Duplicate selection",bindKey:_("Ctrl-Shift-D","Command-Shift-D"),exec:function(g){g.duplicateSelection()},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"sortlines",description:"Sort lines",bindKey:_("Ctrl-Alt-S","Command-Alt-S"),exec:function(g){g.sortLines()},scrollIntoView:"selection",multiSelectAction:"forEachLine"},{name:"togglecomment",description:"Toggle comment",bindKey:_("Ctrl-/","Command-/"),exec:function(g){g.toggleCommentLines()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"toggleBlockComment",description:"Toggle block comment",bindKey:_("Ctrl-Shift-/","Command-Shift-/"),exec:function(g){g.toggleBlockComment()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"modifyNumberUp",description:"Modify number up",bindKey:_("Ctrl-Shift-Up","Alt-Shift-Up"),exec:function(g){g.modifyNumber(1)},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"modifyNumberDown",description:"Modify number down",bindKey:_("Ctrl-Shift-Down","Alt-Shift-Down"),exec:function(g){g.modifyNumber(-1)},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"replace",description:"Replace",bindKey:_("Ctrl-H","Command-Option-F"),exec:function(g){v.loadModule("ace/ext/searchbox",(function(y){y.Search(g,!0)}))}},{name:"undo",description:"Undo",bindKey:_("Ctrl-Z","Command-Z"),exec:function(g){g.undo()}},{name:"redo",description:"Redo",bindKey:_("Ctrl-Shift-Z|Ctrl-Y","Command-Shift-Z|Command-Y"),exec:function(g){g.redo()}},{name:"copylinesup",description:"Copy lines up",bindKey:_("Alt-Shift-Up","Command-Option-Up"),exec:function(g){g.copyLinesUp()},scrollIntoView:"cursor"},{name:"movelinesup",description:"Move lines up",bindKey:_("Alt-Up","Option-Up"),exec:function(g){g.moveLinesUp()},scrollIntoView:"cursor"},{name:"copylinesdown",description:"Copy lines down",bindKey:_("Alt-Shift-Down","Command-Option-Down"),exec:function(g){g.copyLinesDown()},scrollIntoView:"cursor"},{name:"movelinesdown",description:"Move lines down",bindKey:_("Alt-Down","Option-Down"),exec:function(g){g.moveLinesDown()},scrollIntoView:"cursor"},{name:"del",description:"Delete",bindKey:_("Delete","Delete|Ctrl-D|Shift-Delete"),exec:function(g){g.remove("right")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"backspace",description:"Backspace",bindKey:_("Shift-Backspace|Backspace","Ctrl-Backspace|Shift-Backspace|Backspace|Ctrl-H"),exec:function(g){g.remove("left")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"cut_or_delete",description:"Cut or delete",bindKey:_("Shift-Delete",null),exec:function(g){if(!g.selection.isEmpty())return!1;g.remove("left")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolinestart",description:"Remove to line start",bindKey:_("Alt-Backspace","Command-Backspace"),exec:function(g){g.removeToLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolineend",description:"Remove to line end",bindKey:_("Alt-Delete","Ctrl-K|Command-Delete"),exec:function(g){g.removeToLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolinestarthard",description:"Remove to line start hard",bindKey:_("Ctrl-Shift-Backspace",null),exec:function(g){var y=g.selection.getRange();y.start.column=0,g.session.remove(y)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolineendhard",description:"Remove to line end hard",bindKey:_("Ctrl-Shift-Delete",null),exec:function(g){var y=g.selection.getRange();y.end.column=Number.MAX_VALUE,g.session.remove(y)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removewordleft",description:"Remove word left",bindKey:_("Ctrl-Backspace","Alt-Backspace|Ctrl-Alt-Backspace"),exec:function(g){g.removeWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removewordright",description:"Remove word right",bindKey:_("Ctrl-Delete","Alt-Delete"),exec:function(g){g.removeWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"outdent",description:"Outdent",bindKey:_("Shift-Tab","Shift-Tab"),exec:function(g){g.blockOutdent()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"indent",description:"Indent",bindKey:_("Tab","Tab"),exec:function(g){g.indent()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"blockoutdent",description:"Block outdent",bindKey:_("Ctrl-[","Ctrl-["),exec:function(g){g.blockOutdent()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"blockindent",description:"Block indent",bindKey:_("Ctrl-]","Ctrl-]"),exec:function(g){g.blockIndent()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"insertstring",description:"Insert string",exec:function(g,y){g.insert(y)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"inserttext",description:"Insert text",exec:function(g,y){g.insert(h.stringRepeat(y.text||"",y.times||1))},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"splitline",description:"Split line",bindKey:_(null,"Ctrl-O"),exec:function(g){g.splitLine()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"transposeletters",description:"Transpose letters",bindKey:_("Alt-Shift-X","Ctrl-T"),exec:function(g){g.transposeLetters()},multiSelectAction:function(g){g.transposeSelections(1)},scrollIntoView:"cursor"},{name:"touppercase",description:"To uppercase",bindKey:_("Ctrl-U","Ctrl-U"),exec:function(g){g.toUpperCase()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"tolowercase",description:"To lowercase",bindKey:_("Ctrl-Shift-U","Ctrl-Shift-U"),exec:function(g){g.toLowerCase()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"expandtoline",description:"Expand to line",bindKey:_("Ctrl-Shift-L","Command-Shift-L"),exec:function(g){var y=g.selection.getRange();y.start.column=y.end.column=0,y.end.row++,g.selection.setRange(y,!1)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"joinlines",description:"Join lines",bindKey:_(null,null),exec:function(g){for(var y=g.selection.isBackwards(),u=y?g.selection.getSelectionLead():g.selection.getSelectionAnchor(),b=y?g.selection.getSelectionAnchor():g.selection.getSelectionLead(),S=g.session.doc.getLine(u.row).length,T=g.session.doc.getTextRange(g.selection.getRange()).replace(/\n\s*/," ").length,R=g.session.doc.getLine(u.row),O=u.row+1;O<=b.row+1;O++){var C=h.stringTrimLeft(h.stringTrimRight(g.session.doc.getLine(O)));C.length!==0&&(C=" "+C),R+=C}b.row+1<g.session.doc.getLength()-1&&(R+=g.session.doc.getNewLineCharacter()),g.clearSelection(),g.session.doc.replace(new m(u.row,0,b.row+2,0),R),T>0?(g.selection.moveCursorTo(u.row,u.column),g.selection.selectTo(u.row,u.column+T)):(S=g.session.doc.getLine(u.row).length>S?S+1:S,g.selection.moveCursorTo(u.row,S))},multiSelectAction:"forEach",readOnly:!0},{name:"invertSelection",description:"Invert selection",bindKey:_(null,null),exec:function(g){var y=g.session.doc.getLength()-1,u=g.session.doc.getLine(y).length,b=g.selection.rangeList.ranges,S=[];b.length<1&&(b=[g.selection.getRange()]);for(var T=0;T<b.length;T++)T==b.length-1&&(b[T].end.row===y&&b[T].end.column===u||S.push(new m(b[T].end.row,b[T].end.column,y,u))),T===0?b[T].start.row===0&&b[T].start.column===0||S.push(new m(0,0,b[T].start.row,b[T].start.column)):S.push(new m(b[T-1].end.row,b[T-1].end.column,b[T].start.row,b[T].start.column));for(g.exitMultiSelectMode(),g.clearSelection(),T=0;T<S.length;T++)g.selection.addRange(S[T],!1)},readOnly:!0,scrollIntoView:"none"},{name:"openCommandPallete",description:"Open command pallete",bindKey:_("F1","F1"),exec:function(g){g.prompt({$type:"commands"})},readOnly:!0},{name:"modeSelect",description:"Change language mode...",bindKey:_(null,null),exec:function(g){g.prompt({$type:"modes"})},readOnly:!0}]})),ace.define("ace/editor",["require","exports","module","ace/lib/fixoldbrowsers","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/lib/useragent","ace/keyboard/textinput","ace/mouse/mouse_handler","ace/mouse/fold_handler","ace/keyboard/keybinding","ace/edit_session","ace/search","ace/range","ace/lib/event_emitter","ace/commands/command_manager","ace/commands/default_commands","ace/config","ace/token_iterator","ace/clipboard"],(function(l,c,f){l("./lib/fixoldbrowsers");var h=l("./lib/oop"),v=l("./lib/dom"),m=l("./lib/lang"),_=l("./lib/useragent"),g=l("./keyboard/textinput").TextInput,y=l("./mouse/mouse_handler").MouseHandler,u=l("./mouse/fold_handler").FoldHandler,b=l("./keyboard/keybinding").KeyBinding,S=l("./edit_session").EditSession,T=l("./search").Search,R=l("./range").Range,O=l("./lib/event_emitter").EventEmitter,C=l("./commands/command_manager").CommandManager,I=l("./commands/default_commands").commands,F=l("./config"),M=l("./token_iterator").TokenIterator,D=l("./clipboard"),B=function(U,V,k){var Z=U.getContainerElement();this.container=Z,this.renderer=U,this.id="editor"+ ++B.$uid,this.commands=new C(_.isMac?"mac":"win",I),typeof document=="object"&&(this.textInput=new g(U.getTextAreaContainer(),this),this.renderer.textarea=this.textInput.getElement(),this.$mouseHandler=new y(this),new u(this)),this.keyBinding=new b(this),this.$search=new T().set({wrap:!0}),this.$historyTracker=this.$historyTracker.bind(this),this.commands.on("exec",this.$historyTracker),this.$initOperationListeners(),this._$emitInputEvent=m.delayedCall((function(){this._signal("input",{}),this.session&&this.session.bgTokenizer&&this.session.bgTokenizer.scheduleStart()}).bind(this)),this.on("change",(function(ee,oe){oe._$emitInputEvent.schedule(31)})),this.setSession(V||k&&k.session||new S("")),F.resetOptions(this),k&&this.setOptions(k),F._signal("editor",this)};B.$uid=0,(function(){h.implement(this,O),this.$initOperationListeners=function(){this.commands.on("exec",this.startOperation.bind(this),!0),this.commands.on("afterExec",this.endOperation.bind(this),!0),this.$opResetTimer=m.delayedCall(this.endOperation.bind(this,!0)),this.on("change",(function(){this.curOp||(this.startOperation(),this.curOp.selectionBefore=this.$lastSel),this.curOp.docChanged=!0}).bind(this),!0),this.on("changeSelection",(function(){this.curOp||(this.startOperation(),this.curOp.selectionBefore=this.$lastSel),this.curOp.selectionChanged=!0}).bind(this),!0)},this.curOp=null,this.prevOp={},this.startOperation=function(U){if(this.curOp){if(!U||this.curOp.command)return;this.prevOp=this.curOp}U||(this.previousCommand=null,U={}),this.$opResetTimer.schedule(),this.curOp=this.session.curOp={command:U.command||{},args:U.args,scrollTop:this.renderer.scrollTop},this.curOp.selectionBefore=this.selection.toJSON()},this.endOperation=function(U){if(this.curOp){if(U&&U.returnValue===!1)return this.curOp=null;if(U==1&&this.curOp.command&&this.curOp.command.name=="mouse"||(this._signal("beforeEndOperation"),!this.curOp))return;var V=this.curOp.command,k=V&&V.scrollIntoView;if(k){switch(k){case"center-animate":k="animate";case"center":this.renderer.scrollCursorIntoView(null,.5);break;case"animate":case"cursor":this.renderer.scrollCursorIntoView();break;case"selectionPart":var Z=this.selection.getRange(),ee=this.renderer.layerConfig;(Z.start.row>=ee.lastRow||Z.end.row<=ee.firstRow)&&this.renderer.scrollSelectionIntoView(this.selection.anchor,this.selection.lead)}k=="animate"&&this.renderer.animateScrolling(this.curOp.scrollTop)}var oe=this.selection.toJSON();this.curOp.selectionAfter=oe,this.$lastSel=this.selection.toJSON(),this.session.getUndoManager().addSelection(oe),this.prevOp=this.curOp,this.curOp=null}},this.$mergeableCommands=["backspace","del","insertstring"],this.$historyTracker=function(U){if(this.$mergeUndoDeltas){var V=this.prevOp,k=this.$mergeableCommands,Z=V.command&&U.command.name==V.command.name;if(U.command.name=="insertstring"){var ee=U.args;this.mergeNextCommand===void 0&&(this.mergeNextCommand=!0),Z=Z&&this.mergeNextCommand&&(!/\s/.test(ee)||/\s/.test(V.args)),this.mergeNextCommand=!0}else Z=Z&&k.indexOf(U.command.name)!==-1;this.$mergeUndoDeltas!="always"&&Date.now()-this.sequenceStartTime>2e3&&(Z=!1),Z?this.session.mergeUndoDeltas=!0:k.indexOf(U.command.name)!==-1&&(this.sequenceStartTime=Date.now())}},this.setKeyboardHandler=function(U,V){if(U&&typeof U=="string"&&U!="ace"){this.$keybindingId=U;var k=this;F.loadModule(["keybinding",U],(function(Z){k.$keybindingId==U&&k.keyBinding.setKeyboardHandler(Z&&Z.handler),V&&V()}))}else this.$keybindingId=null,this.keyBinding.setKeyboardHandler(U),V&&V()},this.getKeyboardHandler=function(){return this.keyBinding.getKeyboardHandler()},this.setSession=function(U){if(this.session!=U){this.curOp&&this.endOperation(),this.curOp={};var V=this.session;if(V){this.session.off("change",this.$onDocumentChange),this.session.off("changeMode",this.$onChangeMode),this.session.off("tokenizerUpdate",this.$onTokenizerUpdate),this.session.off("changeTabSize",this.$onChangeTabSize),this.session.off("changeWrapLimit",this.$onChangeWrapLimit),this.session.off("changeWrapMode",this.$onChangeWrapMode),this.session.off("changeFold",this.$onChangeFold),this.session.off("changeFrontMarker",this.$onChangeFrontMarker),this.session.off("changeBackMarker",this.$onChangeBackMarker),this.session.off("changeBreakpoint",this.$onChangeBreakpoint),this.session.off("changeAnnotation",this.$onChangeAnnotation),this.session.off("changeOverwrite",this.$onCursorChange),this.session.off("changeScrollTop",this.$onScrollTopChange),this.session.off("changeScrollLeft",this.$onScrollLeftChange);var k=this.session.getSelection();k.off("changeCursor",this.$onCursorChange),k.off("changeSelection",this.$onSelectionChange)}this.session=U,U?(this.$onDocumentChange=this.onDocumentChange.bind(this),U.on("change",this.$onDocumentChange),this.renderer.setSession(U),this.$onChangeMode=this.onChangeMode.bind(this),U.on("changeMode",this.$onChangeMode),this.$onTokenizerUpdate=this.onTokenizerUpdate.bind(this),U.on("tokenizerUpdate",this.$onTokenizerUpdate),this.$onChangeTabSize=this.renderer.onChangeTabSize.bind(this.renderer),U.on("changeTabSize",this.$onChangeTabSize),this.$onChangeWrapLimit=this.onChangeWrapLimit.bind(this),U.on("changeWrapLimit",this.$onChangeWrapLimit),this.$onChangeWrapMode=this.onChangeWrapMode.bind(this),U.on("changeWrapMode",this.$onChangeWrapMode),this.$onChangeFold=this.onChangeFold.bind(this),U.on("changeFold",this.$onChangeFold),this.$onChangeFrontMarker=this.onChangeFrontMarker.bind(this),this.session.on("changeFrontMarker",this.$onChangeFrontMarker),this.$onChangeBackMarker=this.onChangeBackMarker.bind(this),this.session.on("changeBackMarker",this.$onChangeBackMarker),this.$onChangeBreakpoint=this.onChangeBreakpoint.bind(this),this.session.on("changeBreakpoint",this.$onChangeBreakpoint),this.$onChangeAnnotation=this.onChangeAnnotation.bind(this),this.session.on("changeAnnotation",this.$onChangeAnnotation),this.$onCursorChange=this.onCursorChange.bind(this),this.session.on("changeOverwrite",this.$onCursorChange),this.$onScrollTopChange=this.onScrollTopChange.bind(this),this.session.on("changeScrollTop",this.$onScrollTopChange),this.$onScrollLeftChange=this.onScrollLeftChange.bind(this),this.session.on("changeScrollLeft",this.$onScrollLeftChange),this.selection=U.getSelection(),this.selection.on("changeCursor",this.$onCursorChange),this.$onSelectionChange=this.onSelectionChange.bind(this),this.selection.on("changeSelection",this.$onSelectionChange),this.onChangeMode(),this.onCursorChange(),this.onScrollTopChange(),this.onScrollLeftChange(),this.onSelectionChange(),this.onChangeFrontMarker(),this.onChangeBackMarker(),this.onChangeBreakpoint(),this.onChangeAnnotation(),this.session.getUseWrapMode()&&this.renderer.adjustWrapLimit(),this.renderer.updateFull()):(this.selection=null,this.renderer.setSession(U)),this._signal("changeSession",{session:U,oldSession:V}),this.curOp=null,V&&V._signal("changeEditor",{oldEditor:this}),U&&U._signal("changeEditor",{editor:this}),U&&U.bgTokenizer&&U.bgTokenizer.scheduleStart()}},this.getSession=function(){return this.session},this.setValue=function(U,V){return this.session.doc.setValue(U),V?V==1?this.navigateFileEnd():V==-1&&this.navigateFileStart():this.selectAll(),U},this.getValue=function(){return this.session.getValue()},this.getSelection=function(){return this.selection},this.resize=function(U){this.renderer.onResize(U)},this.setTheme=function(U,V){this.renderer.setTheme(U,V)},this.getTheme=function(){return this.renderer.getTheme()},this.setStyle=function(U){this.renderer.setStyle(U)},this.unsetStyle=function(U){this.renderer.unsetStyle(U)},this.getFontSize=function(){return this.getOption("fontSize")||v.computedStyle(this.container).fontSize},this.setFontSize=function(U){this.setOption("fontSize",U)},this.$highlightBrackets=function(){if(this.session.$bracketHighlight&&(this.session.removeMarker(this.session.$bracketHighlight),this.session.$bracketHighlight=null),!this.$highlightPending){var U=this;this.$highlightPending=!0,setTimeout((function(){U.$highlightPending=!1;var V=U.session;if(V&&V.bgTokenizer){var k=V.findMatchingBracket(U.getCursorPosition());if(k)var Z=new R(k.row,k.column,k.row,k.column+1);else V.$mode.getMatching&&(Z=V.$mode.getMatching(U.session));Z&&(V.$bracketHighlight=V.addMarker(Z,"ace_bracket","text"))}}),50)}},this.$highlightTags=function(){if(!this.$highlightTagPending){var U=this;this.$highlightTagPending=!0,setTimeout((function(){U.$highlightTagPending=!1;var V=U.session;if(V&&V.bgTokenizer){var k=U.getCursorPosition(),Z=new M(U.session,k.row,k.column),ee=Z.getCurrentToken();if(!ee||!/\b(?:tag-open|tag-name)/.test(ee.type))return V.removeMarker(V.$tagHighlight),void(V.$tagHighlight=null);if(ee.type.indexOf("tag-open")==-1||(ee=Z.stepForward())){var oe=ee.value,ne=0,ie=Z.stepBackward();if(ie.value=="<")do ie=ee,(ee=Z.stepForward())&&ee.value===oe&&ee.type.indexOf("tag-name")!==-1&&(ie.value==="<"?ne++:ie.value==="</"&&ne--);while(ee&&ne>=0);else{do ee=ie,ie=Z.stepBackward(),ee&&ee.value===oe&&ee.type.indexOf("tag-name")!==-1&&(ie.value==="<"?ne++:ie.value==="</"&&ne--);while(ie&&ne<=0);Z.stepForward()}if(!ee)return V.removeMarker(V.$tagHighlight),void(V.$tagHighlight=null);var he=Z.getCurrentTokenRow(),fe=Z.getCurrentTokenColumn(),ce=new R(he,fe,he,fe+ee.value.length),ae=V.$backMarkers[V.$tagHighlight];V.$tagHighlight&&ae!=null&&ce.compareRange(ae.range)!==0&&(V.removeMarker(V.$tagHighlight),V.$tagHighlight=null),V.$tagHighlight||(V.$tagHighlight=V.addMarker(ce,"ace_bracket","text"))}}}),50)}},this.focus=function(){var U=this;setTimeout((function(){U.isFocused()||U.textInput.focus()})),this.textInput.focus()},this.isFocused=function(){return this.textInput.isFocused()},this.blur=function(){this.textInput.blur()},this.onFocus=function(U){this.$isFocused||(this.$isFocused=!0,this.renderer.showCursor(),this.renderer.visualizeFocus(),this._emit("focus",U))},this.onBlur=function(U){this.$isFocused&&(this.$isFocused=!1,this.renderer.hideCursor(),this.renderer.visualizeBlur(),this._emit("blur",U))},this.$cursorChange=function(){this.renderer.updateCursor()},this.onDocumentChange=function(U){var V=this.session.$useWrapMode,k=U.start.row==U.end.row?U.end.row:1/0;this.renderer.updateLines(U.start.row,k,V),this._signal("change",U),this.$cursorChange(),this.$updateHighlightActiveLine()},this.onTokenizerUpdate=function(U){var V=U.data;this.renderer.updateLines(V.first,V.last)},this.onScrollTopChange=function(){this.renderer.scrollToY(this.session.getScrollTop())},this.onScrollLeftChange=function(){this.renderer.scrollToX(this.session.getScrollLeft())},this.onCursorChange=function(){this.$cursorChange(),this.$highlightBrackets(),this.$highlightTags(),this.$updateHighlightActiveLine(),this._signal("changeSelection")},this.$updateHighlightActiveLine=function(){var U,V=this.getSession();if(this.$highlightActiveLine&&(this.$selectionStyle=="line"&&this.selection.isMultiLine()||(U=this.getCursorPosition()),this.renderer.theme&&this.renderer.theme.$selectionColorConflict&&!this.selection.isEmpty()&&(U=!1),!this.renderer.$maxLines||this.session.getLength()!==1||this.renderer.$minLines>1||(U=!1)),V.$highlightLineMarker&&!U)V.removeMarker(V.$highlightLineMarker.id),V.$highlightLineMarker=null;else if(!V.$highlightLineMarker&&U){var k=new R(U.row,U.column,U.row,1/0);k.id=V.addMarker(k,"ace_active-line","screenLine"),V.$highlightLineMarker=k}else U&&(V.$highlightLineMarker.start.row=U.row,V.$highlightLineMarker.end.row=U.row,V.$highlightLineMarker.start.column=U.column,V._signal("changeBackMarker"))},this.onSelectionChange=function(U){var V=this.session;if(V.$selectionMarker&&V.removeMarker(V.$selectionMarker),V.$selectionMarker=null,this.selection.isEmpty())this.$updateHighlightActiveLine();else{var k=this.selection.getRange(),Z=this.getSelectionStyle();V.$selectionMarker=V.addMarker(k,"ace_selection",Z)}var ee=this.$highlightSelectedWord&&this.$getSelectionHighLightRegexp();this.session.highlight(ee),this._signal("changeSelection")},this.$getSelectionHighLightRegexp=function(){var U=this.session,V=this.getSelectionRange();if(!V.isEmpty()&&!V.isMultiLine()){var k=V.start.column,Z=V.end.column,ee=U.getLine(V.start.row),oe=ee.substring(k,Z);if(!(oe.length>5e3)&&/[\w\d]/.test(oe)){var ne=this.$search.$assembleRegExp({wholeWord:!0,caseSensitive:!0,needle:oe}),ie=ee.substring(k-1,Z+1);if(ne.test(ie))return ne}}},this.onChangeFrontMarker=function(){this.renderer.updateFrontMarkers()},this.onChangeBackMarker=function(){this.renderer.updateBackMarkers()},this.onChangeBreakpoint=function(){this.renderer.updateBreakpoints()},this.onChangeAnnotation=function(){this.renderer.setAnnotations(this.session.getAnnotations())},this.onChangeMode=function(U){this.renderer.updateText(),this._emit("changeMode",U)},this.onChangeWrapLimit=function(){this.renderer.updateFull()},this.onChangeWrapMode=function(){this.renderer.onResize(!0)},this.onChangeFold=function(){this.$updateHighlightActiveLine(),this.renderer.updateFull()},this.getSelectedText=function(){return this.session.getTextRange(this.getSelectionRange())},this.getCopyText=function(){var U=this.getSelectedText(),V=this.session.doc.getNewLineCharacter(),k=!1;if(!U&&this.$copyWithEmptySelection){k=!0;for(var Z=this.selection.getAllRanges(),ee=0;ee<Z.length;ee++){var oe=Z[ee];ee&&Z[ee-1].start.row==oe.start.row||(U+=this.session.getLine(oe.start.row)+V)}}var ne={text:U};return this._signal("copy",ne),D.lineMode=k?ne.text:"",ne.text},this.onCopy=function(){this.commands.exec("copy",this)},this.onCut=function(){this.commands.exec("cut",this)},this.onPaste=function(U,V){var k={text:U,event:V};this.commands.exec("paste",this,k)},this.$handlePaste=function(U){typeof U=="string"&&(U={text:U}),this._signal("paste",U);var V=U.text,k=V==D.lineMode,Z=this.session;if(!this.inMultiSelectMode||this.inVirtualSelectionMode)k?Z.insert({row:this.selection.lead.row,column:0},V):this.insert(V);else if(k)this.selection.rangeList.ranges.forEach((function(fe){Z.insert({row:fe.start.row,column:0},V)}));else{var ee=V.split(/\r\n|\r|\n/),oe=this.selection.rangeList.ranges,ne=!(ee.length!=2||ee[0]&&ee[1]);if(ee.length!=oe.length||ne)return this.commands.exec("insertstring",this,V);for(var ie=oe.length;ie--;){var he=oe[ie];he.isEmpty()||Z.remove(he),Z.insert(he.start,ee[ie])}}},this.execCommand=function(U,V){return this.commands.exec(U,this,V)},this.insert=function(U,V){var k=this.session,Z=k.getMode(),ee=this.getCursorPosition();if(this.getBehavioursEnabled()&&!V){var oe=Z.transformAction(k.getState(ee.row),"insertion",this,k,U);oe&&(U!==oe.text&&(this.inVirtualSelectionMode||(this.session.mergeUndoDeltas=!1,this.mergeNextCommand=!1)),U=oe.text)}if(U=="	"&&(U=this.session.getTabString()),this.selection.isEmpty())this.session.getOverwrite()&&U.indexOf(`
`)==-1&&((ne=new R.fromPoints(ee,ee)).end.column+=U.length,this.session.remove(ne));else{var ne=this.getSelectionRange();ee=this.session.remove(ne),this.clearSelection()}if(U==`
`||U==`\r
`){var ie=k.getLine(ee.row);if(ee.column>ie.search(/\S|$/)){var he=ie.substr(ee.column).search(/\S|$/);k.doc.removeInLine(ee.row,ee.column,ee.column+he)}}this.clearSelection();var fe=ee.column,ce=k.getState(ee.row),ae=(ie=k.getLine(ee.row),Z.checkOutdent(ce,ie,U));if(k.insert(ee,U),oe&&oe.selection&&(oe.selection.length==2?this.selection.setSelectionRange(new R(ee.row,fe+oe.selection[0],ee.row,fe+oe.selection[1])):this.selection.setSelectionRange(new R(ee.row+oe.selection[0],oe.selection[1],ee.row+oe.selection[2],oe.selection[3]))),k.getDocument().isNewLine(U)){var ve=Z.getNextLineIndent(ce,ie.slice(0,ee.column),k.getTabString());k.insert({row:ee.row+1,column:0},ve)}ae&&Z.autoOutdent(ce,k,ee.row)},this.onTextInput=function(U,V){if(!V)return this.keyBinding.onTextInput(U);this.startOperation({command:{name:"insertstring"}});var k=this.applyComposition.bind(this,U,V);this.selection.rangeCount?this.forEachSelection(k):k(),this.endOperation()},this.applyComposition=function(U,V){var k;(V.extendLeft||V.extendRight)&&((k=this.selection.getRange()).start.column-=V.extendLeft,k.end.column+=V.extendRight,this.selection.setRange(k),U||k.isEmpty()||this.remove()),!U&&this.selection.isEmpty()||this.insert(U,!0),(V.restoreStart||V.restoreEnd)&&((k=this.selection.getRange()).start.column-=V.restoreStart,k.end.column-=V.restoreEnd,this.selection.setRange(k))},this.onCommandKey=function(U,V,k){return this.keyBinding.onCommandKey(U,V,k)},this.setOverwrite=function(U){this.session.setOverwrite(U)},this.getOverwrite=function(){return this.session.getOverwrite()},this.toggleOverwrite=function(){this.session.toggleOverwrite()},this.setScrollSpeed=function(U){this.setOption("scrollSpeed",U)},this.getScrollSpeed=function(){return this.getOption("scrollSpeed")},this.setDragDelay=function(U){this.setOption("dragDelay",U)},this.getDragDelay=function(){return this.getOption("dragDelay")},this.setSelectionStyle=function(U){this.setOption("selectionStyle",U)},this.getSelectionStyle=function(){return this.getOption("selectionStyle")},this.setHighlightActiveLine=function(U){this.setOption("highlightActiveLine",U)},this.getHighlightActiveLine=function(){return this.getOption("highlightActiveLine")},this.setHighlightGutterLine=function(U){this.setOption("highlightGutterLine",U)},this.getHighlightGutterLine=function(){return this.getOption("highlightGutterLine")},this.setHighlightSelectedWord=function(U){this.setOption("highlightSelectedWord",U)},this.getHighlightSelectedWord=function(){return this.$highlightSelectedWord},this.setAnimatedScroll=function(U){this.renderer.setAnimatedScroll(U)},this.getAnimatedScroll=function(){return this.renderer.getAnimatedScroll()},this.setShowInvisibles=function(U){this.renderer.setShowInvisibles(U)},this.getShowInvisibles=function(){return this.renderer.getShowInvisibles()},this.setDisplayIndentGuides=function(U){this.renderer.setDisplayIndentGuides(U)},this.getDisplayIndentGuides=function(){return this.renderer.getDisplayIndentGuides()},this.setShowPrintMargin=function(U){this.renderer.setShowPrintMargin(U)},this.getShowPrintMargin=function(){return this.renderer.getShowPrintMargin()},this.setPrintMarginColumn=function(U){this.renderer.setPrintMarginColumn(U)},this.getPrintMarginColumn=function(){return this.renderer.getPrintMarginColumn()},this.setReadOnly=function(U){this.setOption("readOnly",U)},this.getReadOnly=function(){return this.getOption("readOnly")},this.setBehavioursEnabled=function(U){this.setOption("behavioursEnabled",U)},this.getBehavioursEnabled=function(){return this.getOption("behavioursEnabled")},this.setWrapBehavioursEnabled=function(U){this.setOption("wrapBehavioursEnabled",U)},this.getWrapBehavioursEnabled=function(){return this.getOption("wrapBehavioursEnabled")},this.setShowFoldWidgets=function(U){this.setOption("showFoldWidgets",U)},this.getShowFoldWidgets=function(){return this.getOption("showFoldWidgets")},this.setFadeFoldWidgets=function(U){this.setOption("fadeFoldWidgets",U)},this.getFadeFoldWidgets=function(){return this.getOption("fadeFoldWidgets")},this.remove=function(U){this.selection.isEmpty()&&(U=="left"?this.selection.selectLeft():this.selection.selectRight());var V=this.getSelectionRange();if(this.getBehavioursEnabled()){var k=this.session,Z=k.getState(V.start.row),ee=k.getMode().transformAction(Z,"deletion",this,k,V);if(V.end.column===0){var oe=k.getTextRange(V);if(oe[oe.length-1]==`
`){var ne=k.getLine(V.end.row);/^\s+$/.test(ne)&&(V.end.column=ne.length)}}ee&&(V=ee)}this.session.remove(V),this.clearSelection()},this.removeWordRight=function(){this.selection.isEmpty()&&this.selection.selectWordRight(),this.session.remove(this.getSelectionRange()),this.clearSelection()},this.removeWordLeft=function(){this.selection.isEmpty()&&this.selection.selectWordLeft(),this.session.remove(this.getSelectionRange()),this.clearSelection()},this.removeToLineStart=function(){this.selection.isEmpty()&&this.selection.selectLineStart(),this.selection.isEmpty()&&this.selection.selectLeft(),this.session.remove(this.getSelectionRange()),this.clearSelection()},this.removeToLineEnd=function(){this.selection.isEmpty()&&this.selection.selectLineEnd();var U=this.getSelectionRange();U.start.column==U.end.column&&U.start.row==U.end.row&&(U.end.column=0,U.end.row++),this.session.remove(U),this.clearSelection()},this.splitLine=function(){this.selection.isEmpty()||(this.session.remove(this.getSelectionRange()),this.clearSelection());var U=this.getCursorPosition();this.insert(`
`),this.moveCursorToPosition(U)},this.transposeLetters=function(){if(this.selection.isEmpty()){var U=this.getCursorPosition(),V=U.column;if(V!==0){var k,Z,ee=this.session.getLine(U.row);V<ee.length?(k=ee.charAt(V)+ee.charAt(V-1),Z=new R(U.row,V-1,U.row,V+1)):(k=ee.charAt(V-1)+ee.charAt(V-2),Z=new R(U.row,V-2,U.row,V)),this.session.replace(Z,k),this.session.selection.moveToPosition(Z.end)}}},this.toLowerCase=function(){var U=this.getSelectionRange();this.selection.isEmpty()&&this.selection.selectWord();var V=this.getSelectionRange(),k=this.session.getTextRange(V);this.session.replace(V,k.toLowerCase()),this.selection.setSelectionRange(U)},this.toUpperCase=function(){var U=this.getSelectionRange();this.selection.isEmpty()&&this.selection.selectWord();var V=this.getSelectionRange(),k=this.session.getTextRange(V);this.session.replace(V,k.toUpperCase()),this.selection.setSelectionRange(U)},this.indent=function(){var U=this.session,V=this.getSelectionRange();if(!(V.start.row<V.end.row)){if(V.start.column<V.end.column){var k=U.getTextRange(V);if(!/^\s+$/.test(k))return fe=this.$getSelectedRows(),void U.indentRows(fe.first,fe.last,"	")}var Z=U.getLine(V.start.row),ee=V.start,oe=U.getTabSize(),ne=U.documentToScreenColumn(ee.row,ee.column);if(this.session.getUseSoftTabs())var ie=oe-ne%oe,he=m.stringRepeat(" ",ie);else{for(ie=ne%oe;Z[V.start.column-1]==" "&&ie;)V.start.column--,ie--;this.selection.setSelectionRange(V),he="	"}return this.insert(he)}var fe=this.$getSelectedRows();U.indentRows(fe.first,fe.last,"	")},this.blockIndent=function(){var U=this.$getSelectedRows();this.session.indentRows(U.first,U.last,"	")},this.blockOutdent=function(){var U=this.session.getSelection();this.session.outdentRows(U.getRange())},this.sortLines=function(){for(var U=this.$getSelectedRows(),V=this.session,k=[],Z=U.first;Z<=U.last;Z++)k.push(V.getLine(Z));k.sort((function(ne,ie){return ne.toLowerCase()<ie.toLowerCase()?-1:ne.toLowerCase()>ie.toLowerCase()?1:0}));var ee=new R(0,0,0,0);for(Z=U.first;Z<=U.last;Z++){var oe=V.getLine(Z);ee.start.row=Z,ee.end.row=Z,ee.end.column=oe.length,V.replace(ee,k[Z-U.first])}},this.toggleCommentLines=function(){var U=this.session.getState(this.getCursorPosition().row),V=this.$getSelectedRows();this.session.getMode().toggleCommentLines(U,this.session,V.first,V.last)},this.toggleBlockComment=function(){var U=this.getCursorPosition(),V=this.session.getState(U.row),k=this.getSelectionRange();this.session.getMode().toggleBlockComment(V,this.session,k,U)},this.getNumberAt=function(U,V){var k=/[\-]?[0-9]+(?:\.[0-9]+)?/g;k.lastIndex=0;for(var Z=this.session.getLine(U);k.lastIndex<V;){var ee=k.exec(Z);if(ee.index<=V&&ee.index+ee[0].length>=V)return{value:ee[0],start:ee.index,end:ee.index+ee[0].length}}return null},this.modifyNumber=function(U){var V=this.selection.getCursor().row,k=this.selection.getCursor().column,Z=new R(V,k-1,V,k),ee=this.session.getTextRange(Z);if(!isNaN(parseFloat(ee))&&isFinite(ee)){var oe=this.getNumberAt(V,k);if(oe){var ne=oe.value.indexOf(".")>=0?oe.start+oe.value.indexOf(".")+1:oe.end,ie=oe.start+oe.value.length-ne,he=parseFloat(oe.value);he*=Math.pow(10,ie),ne!==oe.end&&k<ne?U*=Math.pow(10,oe.end-k-1):U*=Math.pow(10,oe.end-k),he+=U;var fe=(he/=Math.pow(10,ie)).toFixed(ie),ce=new R(V,oe.start,V,oe.end);this.session.replace(ce,fe),this.moveCursorTo(V,Math.max(oe.start+1,k+fe.length-oe.value.length))}}else this.toggleWord()},this.$toggleWordPairs=[["first","last"],["true","false"],["yes","no"],["width","height"],["top","bottom"],["right","left"],["on","off"],["x","y"],["get","set"],["max","min"],["horizontal","vertical"],["show","hide"],["add","remove"],["up","down"],["before","after"],["even","odd"],["in","out"],["inside","outside"],["next","previous"],["increase","decrease"],["attach","detach"],["&&","||"],["==","!="]],this.toggleWord=function(){var U=this.selection.getCursor().row,V=this.selection.getCursor().column;this.selection.selectWord();var k=this.getSelectedText(),Z=this.selection.getWordRange().start.column,ee=k.replace(/([a-z]+|[A-Z]+)(?=[A-Z_]|$)/g,"$1 ").split(/\s/),oe=V-Z-1;oe<0&&(oe=0);var ne=0,ie=0,he=this;k.match(/[A-Za-z0-9_]+/)&&ee.forEach((function(We,ht){ie=ne+We.length,oe>=ne&&oe<=ie&&(k=We,he.selection.clearSelection(),he.moveCursorTo(U,ne+Z),he.selection.selectTo(U,ie+Z)),ne=ie}));for(var fe,ce=this.$toggleWordPairs,ae=0;ae<ce.length;ae++)for(var ve=ce[ae],_e=0;_e<=1;_e++){var Te=+!_e,Fe=k.match(new RegExp("^\\s?_?("+m.escapeRegExp(ve[_e])+")\\s?$","i"));Fe&&k.match(new RegExp("([_]|^|\\s)("+m.escapeRegExp(Fe[1])+")($|\\s)","g"))&&(fe=k.replace(new RegExp(m.escapeRegExp(ve[_e]),"i"),(function(We){var ht=ve[Te];return We.toUpperCase()==We?ht=ht.toUpperCase():We.charAt(0).toUpperCase()==We.charAt(0)&&(ht=ht.substr(0,0)+ve[Te].charAt(0).toUpperCase()+ht.substr(1)),ht})),this.insert(fe),fe="")}},this.removeLines=function(){var U=this.$getSelectedRows();this.session.removeFullLines(U.first,U.last),this.clearSelection()},this.duplicateSelection=function(){var U=this.selection,V=this.session,k=U.getRange(),Z=U.isBackwards();if(k.isEmpty()){var ee=k.start.row;V.duplicateLines(ee,ee)}else{var oe=Z?k.start:k.end,ne=V.insert(oe,V.getTextRange(k),!1);k.start=oe,k.end=ne,U.setSelectionRange(k,Z)}},this.moveLinesDown=function(){this.$moveLines(1,!1)},this.moveLinesUp=function(){this.$moveLines(-1,!1)},this.moveText=function(U,V,k){return this.session.moveText(U,V,k)},this.copyLinesUp=function(){this.$moveLines(-1,!0)},this.copyLinesDown=function(){this.$moveLines(1,!0)},this.$moveLines=function(U,V){var k,Z,ee=this.selection;if(!ee.inMultiSelectMode||this.inVirtualSelectionMode){var oe=ee.toOrientedRange();k=this.$getSelectedRows(oe),Z=this.session.$moveLines(k.first,k.last,V?0:U),V&&U==-1&&(Z=0),oe.moveBy(Z,0),ee.fromOrientedRange(oe)}else{var ne=ee.rangeList.ranges;ee.rangeList.detach(this.session),this.inVirtualSelectionMode=!0;for(var ie=0,he=0,fe=ne.length,ce=0;ce<fe;ce++){var ae=ce;ne[ce].moveBy(ie,0);for(var ve=(k=this.$getSelectedRows(ne[ce])).first,_e=k.last;++ce<fe;){he&&ne[ce].moveBy(he,0);var Te=this.$getSelectedRows(ne[ce]);if(V&&Te.first!=_e||!V&&Te.first>_e+1)break;_e=Te.last}for(ce--,ie=this.session.$moveLines(ve,_e,V?0:U),V&&U==-1&&(ae=ce+1);ae<=ce;)ne[ae].moveBy(ie,0),ae++;V||(ie=0),he+=ie}ee.fromOrientedRange(ee.ranges[0]),ee.rangeList.attach(this.session),this.inVirtualSelectionMode=!1}},this.$getSelectedRows=function(U){return U=(U||this.getSelectionRange()).collapseRows(),{first:this.session.getRowFoldStart(U.start.row),last:this.session.getRowFoldEnd(U.end.row)}},this.onCompositionStart=function(U){this.renderer.showComposition(U)},this.onCompositionUpdate=function(U){this.renderer.setCompositionText(U)},this.onCompositionEnd=function(){this.renderer.hideComposition()},this.getFirstVisibleRow=function(){return this.renderer.getFirstVisibleRow()},this.getLastVisibleRow=function(){return this.renderer.getLastVisibleRow()},this.isRowVisible=function(U){return U>=this.getFirstVisibleRow()&&U<=this.getLastVisibleRow()},this.isRowFullyVisible=function(U){return U>=this.renderer.getFirstFullyVisibleRow()&&U<=this.renderer.getLastFullyVisibleRow()},this.$getVisibleRowCount=function(){return this.renderer.getScrollBottomRow()-this.renderer.getScrollTopRow()+1},this.$moveByPage=function(U,V){var k=this.renderer,Z=this.renderer.layerConfig,ee=U*Math.floor(Z.height/Z.lineHeight);V===!0?this.selection.$moveSelection((function(){this.moveCursorBy(ee,0)})):V===!1&&(this.selection.moveCursorBy(ee,0),this.selection.clearSelection());var oe=k.scrollTop;k.scrollBy(0,ee*Z.lineHeight),V!=null&&k.scrollCursorIntoView(null,.5),k.animateScrolling(oe)},this.selectPageDown=function(){this.$moveByPage(1,!0)},this.selectPageUp=function(){this.$moveByPage(-1,!0)},this.gotoPageDown=function(){this.$moveByPage(1,!1)},this.gotoPageUp=function(){this.$moveByPage(-1,!1)},this.scrollPageDown=function(){this.$moveByPage(1)},this.scrollPageUp=function(){this.$moveByPage(-1)},this.scrollToRow=function(U){this.renderer.scrollToRow(U)},this.scrollToLine=function(U,V,k,Z){this.renderer.scrollToLine(U,V,k,Z)},this.centerSelection=function(){var U=this.getSelectionRange(),V={row:Math.floor(U.start.row+(U.end.row-U.start.row)/2),column:Math.floor(U.start.column+(U.end.column-U.start.column)/2)};this.renderer.alignCursor(V,.5)},this.getCursorPosition=function(){return this.selection.getCursor()},this.getCursorPositionScreen=function(){return this.session.documentToScreenPosition(this.getCursorPosition())},this.getSelectionRange=function(){return this.selection.getRange()},this.selectAll=function(){this.selection.selectAll()},this.clearSelection=function(){this.selection.clearSelection()},this.moveCursorTo=function(U,V){this.selection.moveCursorTo(U,V)},this.moveCursorToPosition=function(U){this.selection.moveCursorToPosition(U)},this.jumpToMatching=function(U,V){var k=this.getCursorPosition(),Z=new M(this.session,k.row,k.column),ee=Z.getCurrentToken(),oe=ee||Z.stepForward();if(oe){var ne,ie,he=!1,fe={},ce=k.column-oe.start,ae={")":"(","(":"(","]":"[","[":"[","{":"{","}":"{"};do{if(oe.value.match(/[{}()\[\]]/g)){for(;ce<oe.value.length&&!he;ce++)if(ae[oe.value[ce]])switch(ie=ae[oe.value[ce]]+"."+oe.type.replace("rparen","lparen"),isNaN(fe[ie])&&(fe[ie]=0),oe.value[ce]){case"(":case"[":case"{":fe[ie]++;break;case")":case"]":case"}":fe[ie]--,fe[ie]===-1&&(ne="bracket",he=!0)}}else oe.type.indexOf("tag-name")!==-1&&(isNaN(fe[oe.value])&&(fe[oe.value]=0),ee.value==="<"?fe[oe.value]++:ee.value==="</"&&fe[oe.value]--,fe[oe.value]===-1&&(ne="tag",he=!0));he||(ee=oe,oe=Z.stepForward(),ce=0)}while(oe&&!he);if(ne){var ve,_e;if(ne==="bracket")(ve=this.session.getBracketRange(k))||(_e=(ve=new R(Z.getCurrentTokenRow(),Z.getCurrentTokenColumn()+ce-1,Z.getCurrentTokenRow(),Z.getCurrentTokenColumn()+ce-1)).start,(V||_e.row===k.row&&Math.abs(_e.column-k.column)<2)&&(ve=this.session.getBracketRange(_e)));else if(ne==="tag"){if(!oe||oe.type.indexOf("tag-name")===-1)return;var Te=oe.value;if((ve=new R(Z.getCurrentTokenRow(),Z.getCurrentTokenColumn()-2,Z.getCurrentTokenRow(),Z.getCurrentTokenColumn()-2)).compare(k.row,k.column)===0){he=!1;do oe=ee,(ee=Z.stepBackward())&&(ee.type.indexOf("tag-close")!==-1&&ve.setEnd(Z.getCurrentTokenRow(),Z.getCurrentTokenColumn()+1),oe.value===Te&&oe.type.indexOf("tag-name")!==-1&&(ee.value==="<"?fe[Te]++:ee.value==="</"&&fe[Te]--,fe[Te]===0&&(he=!0)));while(ee&&!he)}oe&&oe.type.indexOf("tag-name")&&(_e=ve.start).row==k.row&&Math.abs(_e.column-k.column)<2&&(_e=ve.end)}(_e=ve&&ve.cursor||_e)&&(U?ve&&V?this.selection.setRange(ve):ve&&ve.isEqual(this.getSelectionRange())?this.clearSelection():this.selection.selectTo(_e.row,_e.column):this.selection.moveTo(_e.row,_e.column))}}},this.gotoLine=function(U,V,k){this.selection.clearSelection(),this.session.unfold({row:U-1,column:V||0}),this.exitMultiSelectMode&&this.exitMultiSelectMode(),this.moveCursorTo(U-1,V||0),this.isRowFullyVisible(U-1)||this.scrollToLine(U-1,!0,k)},this.navigateTo=function(U,V){this.selection.moveTo(U,V)},this.navigateUp=function(U){if(this.selection.isMultiLine()&&!this.selection.isBackwards()){var V=this.selection.anchor.getPosition();return this.moveCursorToPosition(V)}this.selection.clearSelection(),this.selection.moveCursorBy(-U||-1,0)},this.navigateDown=function(U){if(this.selection.isMultiLine()&&this.selection.isBackwards()){var V=this.selection.anchor.getPosition();return this.moveCursorToPosition(V)}this.selection.clearSelection(),this.selection.moveCursorBy(U||1,0)},this.navigateLeft=function(U){if(this.selection.isEmpty())for(U=U||1;U--;)this.selection.moveCursorLeft();else{var V=this.getSelectionRange().start;this.moveCursorToPosition(V)}this.clearSelection()},this.navigateRight=function(U){if(this.selection.isEmpty())for(U=U||1;U--;)this.selection.moveCursorRight();else{var V=this.getSelectionRange().end;this.moveCursorToPosition(V)}this.clearSelection()},this.navigateLineStart=function(){this.selection.moveCursorLineStart(),this.clearSelection()},this.navigateLineEnd=function(){this.selection.moveCursorLineEnd(),this.clearSelection()},this.navigateFileEnd=function(){this.selection.moveCursorFileEnd(),this.clearSelection()},this.navigateFileStart=function(){this.selection.moveCursorFileStart(),this.clearSelection()},this.navigateWordRight=function(){this.selection.moveCursorWordRight(),this.clearSelection()},this.navigateWordLeft=function(){this.selection.moveCursorWordLeft(),this.clearSelection()},this.replace=function(U,V){V&&this.$search.set(V);var k=this.$search.find(this.session),Z=0;return k&&(this.$tryReplace(k,U)&&(Z=1),this.selection.setSelectionRange(k),this.renderer.scrollSelectionIntoView(k.start,k.end)),Z},this.replaceAll=function(U,V){V&&this.$search.set(V);var k=this.$search.findAll(this.session),Z=0;if(!k.length)return Z;var ee=this.getSelectionRange();this.selection.moveTo(0,0);for(var oe=k.length-1;oe>=0;--oe)this.$tryReplace(k[oe],U)&&Z++;return this.selection.setSelectionRange(ee),Z},this.$tryReplace=function(U,V){var k=this.session.getTextRange(U);return(V=this.$search.replace(k,V))!==null?(U.end=this.session.replace(U,V),U):null},this.getLastSearchOptions=function(){return this.$search.getOptions()},this.find=function(U,V,k){V||(V={}),typeof U=="string"||U instanceof RegExp?V.needle=U:typeof U=="object"&&h.mixin(V,U);var Z=this.selection.getRange();V.needle==null&&((U=this.session.getTextRange(Z)||this.$search.$options.needle)||(Z=this.session.getWordRange(Z.start.row,Z.start.column),U=this.session.getTextRange(Z)),this.$search.set({needle:U})),this.$search.set(V),V.start||this.$search.set({start:Z});var ee=this.$search.find(this.session);return V.preventScroll?ee:ee?(this.revealRange(ee,k),ee):(V.backwards?Z.start=Z.end:Z.end=Z.start,void this.selection.setRange(Z))},this.findNext=function(U,V){this.find({skipCurrent:!0,backwards:!1},U,V)},this.findPrevious=function(U,V){this.find(U,{skipCurrent:!0,backwards:!0},V)},this.revealRange=function(U,V){this.session.unfold(U),this.selection.setSelectionRange(U);var k=this.renderer.scrollTop;this.renderer.scrollSelectionIntoView(U.start,U.end,.5),V!==!1&&this.renderer.animateScrolling(k)},this.undo=function(){this.session.getUndoManager().undo(this.session),this.renderer.scrollCursorIntoView(null,.5)},this.redo=function(){this.session.getUndoManager().redo(this.session),this.renderer.scrollCursorIntoView(null,.5)},this.destroy=function(){this.renderer.destroy(),this._signal("destroy",this),this.session&&this.session.destroy()},this.setAutoScrollEditorIntoView=function(U){if(U){var V,k=this,Z=!1;this.$scrollAnchor||(this.$scrollAnchor=document.createElement("div"));var ee=this.$scrollAnchor;ee.style.cssText="position:absolute",this.container.insertBefore(ee,this.container.firstChild);var oe=this.on("changeSelection",(function(){Z=!0})),ne=this.renderer.on("beforeRender",(function(){Z&&(V=k.renderer.container.getBoundingClientRect())})),ie=this.renderer.on("afterRender",(function(){if(Z&&V&&(k.isFocused()||k.searchBox&&k.searchBox.isFocused())){var he=k.renderer,fe=he.$cursorLayer.$pixelPos,ce=he.layerConfig,ae=fe.top-ce.offset;(Z=fe.top>=0&&ae+V.top<0||!(fe.top<ce.height&&fe.top+V.top+ce.lineHeight>window.innerHeight)&&null)!=null&&(ee.style.top=ae+"px",ee.style.left=fe.left+"px",ee.style.height=ce.lineHeight+"px",ee.scrollIntoView(Z)),Z=V=null}}));this.setAutoScrollEditorIntoView=function(he){he||(delete this.setAutoScrollEditorIntoView,this.off("changeSelection",oe),this.renderer.off("afterRender",ie),this.renderer.off("beforeRender",ne))}}},this.$resetCursorStyle=function(){var U=this.$cursorStyle||"ace",V=this.renderer.$cursorLayer;V&&(V.setSmoothBlinking(/smooth/.test(U)),V.isBlinking=!this.$readOnly&&U!="wide",v.setCssClass(V.element,"ace_slim-cursors",/slim/.test(U)))},this.prompt=function(U,V,k){var Z=this;F.loadModule("./ext/prompt",(function(ee){ee.prompt(Z,U,V,k)}))}}).call(B.prototype),F.defineOptions(B.prototype,"editor",{selectionStyle:{set:function(U){this.onSelectionChange(),this._signal("changeSelectionStyle",{data:U})},initialValue:"line"},highlightActiveLine:{set:function(){this.$updateHighlightActiveLine()},initialValue:!0},highlightSelectedWord:{set:function(U){this.$onSelectionChange()},initialValue:!0},readOnly:{set:function(U){this.textInput.setReadOnly(U),this.$resetCursorStyle()},initialValue:!1},copyWithEmptySelection:{set:function(U){this.textInput.setCopyWithEmptySelection(U)},initialValue:!1},cursorStyle:{set:function(U){this.$resetCursorStyle()},values:["ace","slim","smooth","wide"],initialValue:"ace"},mergeUndoDeltas:{values:[!1,!0,"always"],initialValue:!0},behavioursEnabled:{initialValue:!0},wrapBehavioursEnabled:{initialValue:!0},autoScrollEditorIntoView:{set:function(U){this.setAutoScrollEditorIntoView(U)}},keyboardHandler:{set:function(U){this.setKeyboardHandler(U)},get:function(){return this.$keybindingId},handlesSet:!0},value:{set:function(U){this.session.setValue(U)},get:function(){return this.getValue()},handlesSet:!0,hidden:!0},session:{set:function(U){this.setSession(U)},get:function(){return this.session},handlesSet:!0,hidden:!0},showLineNumbers:{set:function(U){this.renderer.$gutterLayer.setShowLineNumbers(U),this.renderer.$loop.schedule(this.renderer.CHANGE_GUTTER),U&&this.$relativeLineNumbers?j.attach(this):j.detach(this)},initialValue:!0},relativeLineNumbers:{set:function(U){this.$showLineNumbers&&U?j.attach(this):j.detach(this)}},placeholder:{set:function(U){this.$updatePlaceholder||(this.$updatePlaceholder=(function(){var V=this.renderer.$composition||this.getValue();if(V&&this.renderer.placeholderNode)this.renderer.off("afterRender",this.$updatePlaceholder),v.removeCssClass(this.container,"ace_hasPlaceholder"),this.renderer.placeholderNode.remove(),this.renderer.placeholderNode=null;else if(!V&&!this.renderer.placeholderNode){this.renderer.on("afterRender",this.$updatePlaceholder),v.addCssClass(this.container,"ace_hasPlaceholder");var k=v.createElement("div");k.className="ace_placeholder",k.textContent=this.$placeholder||"",this.renderer.placeholderNode=k,this.renderer.content.appendChild(this.renderer.placeholderNode)}}).bind(this),this.on("input",this.$updatePlaceholder)),this.$updatePlaceholder()}},hScrollBarAlwaysVisible:"renderer",vScrollBarAlwaysVisible:"renderer",highlightGutterLine:"renderer",animatedScroll:"renderer",showInvisibles:"renderer",showPrintMargin:"renderer",printMarginColumn:"renderer",printMargin:"renderer",fadeFoldWidgets:"renderer",showFoldWidgets:"renderer",displayIndentGuides:"renderer",showGutter:"renderer",fontSize:"renderer",fontFamily:"renderer",maxLines:"renderer",minLines:"renderer",scrollPastEnd:"renderer",fixedWidthGutter:"renderer",theme:"renderer",hasCssTransforms:"renderer",maxPixelHeight:"renderer",useTextareaForIME:"renderer",scrollSpeed:"$mouseHandler",dragDelay:"$mouseHandler",dragEnabled:"$mouseHandler",focusTimeout:"$mouseHandler",tooltipFollowsMouse:"$mouseHandler",firstLineNumber:"session",overwrite:"session",newLineMode:"session",useWorker:"session",useSoftTabs:"session",navigateWithinSoftTabs:"session",tabSize:"session",wrap:"session",indentedSoftWrap:"session",foldStyle:"session",mode:"session"});var j={getText:function(U,V){return(Math.abs(U.selection.lead.row-V)||V+1+(V<9?"Â·":""))+""},getWidth:function(U,V,k){return Math.max(V.toString().length,(k.lastRow+1).toString().length,2)*k.characterWidth},update:function(U,V){V.renderer.$loop.schedule(V.renderer.CHANGE_GUTTER)},attach:function(U){U.renderer.$gutterLayer.$renderer=this,U.on("changeSelection",this.update),this.update(null,U)},detach:function(U){U.renderer.$gutterLayer.$renderer==this&&(U.renderer.$gutterLayer.$renderer=null),U.off("changeSelection",this.update),this.update(null,U)}};c.Editor=B})),ace.define("ace/undomanager",["require","exports","module","ace/range"],(function(l,c,f){var h=function(){this.$maxRev=0,this.$fromUndo=!1,this.reset()};(function(){this.addSession=function(I){this.$session=I},this.add=function(I,F,M){this.$fromUndo||I!=this.$lastDelta&&(F!==!1&&this.lastDeltas||(this.lastDeltas=[],this.$undoStack.push(this.lastDeltas),I.id=this.$rev=++this.$maxRev),I.action!="remove"&&I.action!="insert"||(this.$lastDelta=I),this.lastDeltas.push(I))},this.addSelection=function(I,F){this.selections.push({value:I,rev:F||this.$rev})},this.startNewGroup=function(){return this.lastDeltas=null,this.$rev},this.markIgnored=function(I,F){F==null&&(F=this.$rev+1);for(var M=this.$undoStack,D=M.length;D--;){var B=M[D][0];if(B.id<=I)break;B.id<F&&(B.ignore=!0)}this.lastDeltas=null},this.getSelection=function(I,F){for(var M=this.selections,D=M.length;D--;){var B=M[D];if(B.rev<I)return F&&(B=M[D+1]),B}},this.getRevision=function(){return this.$rev},this.getDeltas=function(I,F){F==null&&(F=this.$rev+1);for(var M=this.$undoStack,D=null,B=0,j=M.length;j--;){var U=M[j][0];if(U.id<F&&!D&&(D=j+1),U.id<=I){B=j+1;break}}return M.slice(B,D)},this.getChangedRanges=function(I,F){F==null&&(F=this.$rev+1)},this.getChangedLines=function(I,F){F==null&&(F=this.$rev+1)},this.undo=function(I,F){this.lastDeltas=null;var M=this.$undoStack;if((function(j,U){for(var V=U;V--;){var k=j[V];if(k&&!k[0].ignore){for(;V<U-1;){var Z=b(j[V],j[V+1]);j[V]=Z[0],j[V+1]=Z[1],V++}return!0}}})(M,M.length)){I||(I=this.$session),this.$redoStackBaseRev!==this.$rev&&this.$redoStack.length&&(this.$redoStack=[]),this.$fromUndo=!0;var D=M.pop(),B=null;return D&&D.length&&(B=I.undoChanges(D,F),this.$redoStack.push(D),this.$syncRev()),this.$fromUndo=!1,B}},this.redo=function(I,F){if(this.lastDeltas=null,I||(I=this.$session),this.$fromUndo=!0,this.$redoStackBaseRev!=this.$rev){var M=this.getDeltas(this.$redoStackBaseRev,this.$rev+1);(function(j,U){for(var V=0;V<U.length;V++)for(var k=U[V],Z=0;Z<k.length;Z++)C(j,k[Z])})(this.$redoStack,M),this.$redoStackBaseRev=this.$rev,this.$redoStack.forEach((function(j){j[0].id=++this.$maxRev}),this)}var D=this.$redoStack.pop(),B=null;return D&&(B=I.redoChanges(D,F),this.$undoStack.push(D),this.$syncRev()),this.$fromUndo=!1,B},this.$syncRev=function(){var I=this.$undoStack,F=I[I.length-1],M=F&&F[0].id||0;this.$redoStackBaseRev=M,this.$rev=M},this.reset=function(){this.lastDeltas=null,this.$lastDelta=null,this.$undoStack=[],this.$redoStack=[],this.$rev=0,this.mark=0,this.$redoStackBaseRev=this.$rev,this.selections=[]},this.canUndo=function(){return this.$undoStack.length>0},this.canRedo=function(){return this.$redoStack.length>0},this.bookmark=function(I){I==null&&(I=this.$rev),this.mark=I},this.isAtBookmark=function(){return this.$rev===this.mark},this.toJSON=function(){},this.fromJSON=function(){},this.hasUndo=this.canUndo,this.hasRedo=this.canRedo,this.isClean=this.isAtBookmark,this.markClean=this.bookmark,this.$prettyPrint=function(I){return I?g(I):g(this.$undoStack)+`
---
`+g(this.$redoStack)}}).call(h.prototype);var v=l("./range").Range,m=v.comparePoints;function _(I){return{row:I.row,column:I.column}}function g(I){if(I=I||this,Array.isArray(I))return I.map(g).join(`
`);var F="";return I.action?(F=I.action=="insert"?"+":"-",F+="["+I.lines+"]"):I.value&&(F=Array.isArray(I.value)?I.value.map(y).join(`
`):y(I.value)),I.start&&(F+=y(I)),(I.id||I.rev)&&(F+="	("+(I.id||I.rev)+")"),F}function y(I){return I.start.row+":"+I.start.column+"=>"+I.end.row+":"+I.end.column}function u(I,F){var M=I.action=="insert",D=F.action=="insert";if(M&&D)if(m(F.start,I.end)>=0)T(F,I,-1);else{if(!(m(F.start,I.start)<=0))return null;T(I,F,1)}else if(M&&!D)if(m(F.start,I.end)>=0)T(F,I,-1);else{if(!(m(F.end,I.start)<=0))return null;T(I,F,-1)}else if(!M&&D)if(m(F.start,I.start)>=0)T(F,I,1);else{if(!(m(F.start,I.start)<=0))return null;T(I,F,1)}else if(!M&&!D)if(m(F.start,I.start)>=0)T(F,I,1);else{if(!(m(F.end,I.start)<=0))return null;T(I,F,-1)}return[F,I]}function b(I,F){for(var M=I.length;M--;)for(var D=0;D<F.length;D++)if(!u(I[M],F[D])){for(;M<I.length;){for(;D--;)u(F[D],I[M]);D=F.length,M++}return[I,F]}return I.selectionBefore=F.selectionBefore=I.selectionAfter=F.selectionAfter=null,[F,I]}function S(I,F){var M=I.action=="insert",D=F.action=="insert";if(M&&D)m(I.start,F.start)<0?T(F,I,1):T(I,F,1);else if(M&&!D)m(I.start,F.end)>=0?T(I,F,-1):(m(I.start,F.start)<=0||T(I,v.fromPoints(F.start,I.start),-1),T(F,I,1));else if(!M&&D)m(F.start,I.end)>=0?T(F,I,-1):(m(F.start,I.start)<=0||T(F,v.fromPoints(I.start,F.start),-1),T(I,F,1));else if(!M&&!D)if(m(F.start,I.end)>=0)T(F,I,-1);else{var B,j;if(!(m(F.end,I.start)<=0))return m(I.start,F.start)<0&&(B=I,I=O(I,F.start)),m(I.end,F.end)>0&&(j=O(I,F.end)),R(F.end,I.start,I.end,-1),j&&!B&&(I.lines=j.lines,I.start=j.start,I.end=j.end,j=I),[F,B,j].filter(Boolean);T(I,F,-1)}return[F,I]}function T(I,F,M){R(I.start,F.start,F.end,M),R(I.end,F.start,F.end,M)}function R(I,F,M,D){I.row==(D==1?F:M).row&&(I.column+=D*(M.column-F.column)),I.row+=D*(M.row-F.row)}function O(I,F){var M=I.lines,D=I.end;I.end=_(F);var B=I.end.row-I.start.row,j=M.splice(B,M.length),U=B?F.column:F.column-I.start.column;return M.push(j[0].substring(0,U)),j[0]=j[0].substr(U),{start:_(F),end:D,lines:j,action:I.action}}function C(I,F){F=(function(U){return{start:_(U.start),end:_(U.end),action:U.action,lines:U.lines.slice()}})(F);for(var M=I.length;M--;){for(var D=I[M],B=0;B<D.length;B++){var j=S(D[B],F);F=j[0],j.length!=2&&(j[2]?(D.splice(B+1,1,j[1],j[2]),B++):j[1]||(D.splice(B,1),B--))}D.length||I.splice(M,1)}return I}v.comparePoints,c.UndoManager=h})),ace.define("ace/layer/lines",["require","exports","module","ace/lib/dom"],(function(l,c,f){var h=l("../lib/dom"),v=function(m,_){this.element=m,this.canvasHeight=_||5e5,this.element.style.height=2*this.canvasHeight+"px",this.cells=[],this.cellCache=[],this.$offsetCoefficient=0};(function(){this.moveContainer=function(m){h.translate(this.element,0,-m.firstRowScreen*m.lineHeight%this.canvasHeight-m.offset*this.$offsetCoefficient)},this.pageChanged=function(m,_){return Math.floor(m.firstRowScreen*m.lineHeight/this.canvasHeight)!==Math.floor(_.firstRowScreen*_.lineHeight/this.canvasHeight)},this.computeLineTop=function(m,_,g){var y=_.firstRowScreen*_.lineHeight,u=Math.floor(y/this.canvasHeight);return g.documentToScreenRow(m,0)*_.lineHeight-u*this.canvasHeight},this.computeLineHeight=function(m,_,g){return _.lineHeight*g.getRowLength(m)},this.getLength=function(){return this.cells.length},this.get=function(m){return this.cells[m]},this.shift=function(){this.$cacheCell(this.cells.shift())},this.pop=function(){this.$cacheCell(this.cells.pop())},this.push=function(m){if(Array.isArray(m)){this.cells.push.apply(this.cells,m);for(var _=h.createFragment(this.element),g=0;g<m.length;g++)_.appendChild(m[g].element);this.element.appendChild(_)}else this.cells.push(m),this.element.appendChild(m.element)},this.unshift=function(m){if(Array.isArray(m)){this.cells.unshift.apply(this.cells,m);for(var _=h.createFragment(this.element),g=0;g<m.length;g++)_.appendChild(m[g].element);this.element.firstChild?this.element.insertBefore(_,this.element.firstChild):this.element.appendChild(_)}else this.cells.unshift(m),this.element.insertAdjacentElement("afterbegin",m.element)},this.last=function(){return this.cells.length?this.cells[this.cells.length-1]:null},this.$cacheCell=function(m){m&&(m.element.remove(),this.cellCache.push(m))},this.createCell=function(m,_,g,y){var u=this.cellCache.pop();if(!u){var b=h.createElement("div");y&&y(b),this.element.appendChild(b),u={element:b,text:"",row:m}}return u.row=m,u}}).call(v.prototype),c.Lines=v})),ace.define("ace/layer/gutter",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/lang","ace/lib/event_emitter","ace/layer/lines"],(function(l,c,f){var h=l("../lib/dom"),v=l("../lib/oop"),m=l("../lib/lang"),_=l("../lib/event_emitter").EventEmitter,g=l("./lines").Lines,y=function(b){this.element=h.createElement("div"),this.element.className="ace_layer ace_gutter-layer",b.appendChild(this.element),this.setShowFoldWidgets(this.$showFoldWidgets),this.gutterWidth=0,this.$annotations=[],this.$updateAnnotations=this.$updateAnnotations.bind(this),this.$lines=new g(this.element),this.$lines.$offsetCoefficient=1};function u(b){var S=document.createTextNode("");b.appendChild(S);var T=h.createElement("span");return b.appendChild(T),b}(function(){v.implement(this,_),this.setSession=function(b){this.session&&this.session.removeEventListener("change",this.$updateAnnotations),this.session=b,b&&b.on("change",this.$updateAnnotations)},this.addGutterDecoration=function(b,S){window.console&&console.warn&&console.warn("deprecated use session.addGutterDecoration"),this.session.addGutterDecoration(b,S)},this.removeGutterDecoration=function(b,S){window.console&&console.warn&&console.warn("deprecated use session.removeGutterDecoration"),this.session.removeGutterDecoration(b,S)},this.setAnnotations=function(b){this.$annotations=[];for(var S=0;S<b.length;S++){var T=b[S],R=T.row,O=this.$annotations[R];O||(O=this.$annotations[R]={text:[]});var C=T.text;C=C?m.escapeHTML(C):T.html||"",O.text.indexOf(C)===-1&&O.text.push(C);var I=T.type;I=="error"?O.className=" ace_error":I=="warning"&&O.className!=" ace_error"?O.className=" ace_warning":I!="info"||O.className||(O.className=" ace_info")}},this.$updateAnnotations=function(b){if(this.$annotations.length){var S=b.start.row,T=b.end.row-S;if(T!==0)if(b.action=="remove")this.$annotations.splice(S,T+1,null);else{var R=new Array(T+1);R.unshift(S,1),this.$annotations.splice.apply(this.$annotations,R)}}},this.update=function(b){this.config=b;var S=this.session,T=b.firstRow,R=Math.min(b.lastRow+b.gutterOffset,S.getLength()-1);this.oldLastRow=R,this.config=b,this.$lines.moveContainer(b),this.$updateCursorRow();for(var O=S.getNextFoldLine(T),C=O?O.start.row:1/0,I=null,F=-1,M=T;;){if(M>C&&(M=O.end.row+1,C=(O=S.getNextFoldLine(M,O))?O.start.row:1/0),M>R){for(;this.$lines.getLength()>F+1;)this.$lines.pop();break}(I=this.$lines.get(++F))?I.row=M:(I=this.$lines.createCell(M,b,this.session,u),this.$lines.push(I)),this.$renderCell(I,b,O,M),M++}this._signal("afterRender"),this.$updateGutterWidth(b)},this.$updateGutterWidth=function(b){var S=this.session,T=S.gutterRenderer||this.$renderer,R=S.$firstLineNumber,O=this.$lines.last()?this.$lines.last().text:"";(this.$fixedWidth||S.$useWrapMode)&&(O=S.getLength()+R-1);var C=T?T.getWidth(S,O,b):O.toString().length*b.characterWidth,I=this.$padding||this.$computePadding();(C+=I.left+I.right)===this.gutterWidth||isNaN(C)||(this.gutterWidth=C,this.element.parentNode.style.width=this.element.style.width=Math.ceil(this.gutterWidth)+"px",this._signal("changeGutterWidth",C))},this.$updateCursorRow=function(){if(this.$highlightGutterLine){var b=this.session.selection.getCursor();this.$cursorRow!==b.row&&(this.$cursorRow=b.row)}},this.updateLineHighlight=function(){if(this.$highlightGutterLine){var b=this.session.selection.cursor.row;if(this.$cursorRow=b,!this.$cursorCell||this.$cursorCell.row!=b){this.$cursorCell&&(this.$cursorCell.element.className=this.$cursorCell.element.className.replace("ace_gutter-active-line ",""));var S=this.$lines.cells;this.$cursorCell=null;for(var T=0;T<S.length;T++){var R=S[T];if(R.row>=this.$cursorRow){if(R.row>this.$cursorRow){var O=this.session.getFoldLine(this.$cursorRow);if(!(T>0&&O&&O.start.row==S[T-1].row))break;R=S[T-1]}R.element.className="ace_gutter-active-line "+R.element.className,this.$cursorCell=R;break}}}}},this.scrollLines=function(b){var S=this.config;if(this.config=b,this.$updateCursorRow(),this.$lines.pageChanged(S,b))return this.update(b);this.$lines.moveContainer(b);var T=Math.min(b.lastRow+b.gutterOffset,this.session.getLength()-1),R=this.oldLastRow;if(this.oldLastRow=T,!S||R<b.firstRow)return this.update(b);if(T<S.firstRow)return this.update(b);if(S.firstRow<b.firstRow)for(var O=this.session.getFoldedRowCount(S.firstRow,b.firstRow-1);O>0;O--)this.$lines.shift();if(R>T)for(O=this.session.getFoldedRowCount(T+1,R);O>0;O--)this.$lines.pop();b.firstRow<S.firstRow&&this.$lines.unshift(this.$renderLines(b,b.firstRow,S.firstRow-1)),T>R&&this.$lines.push(this.$renderLines(b,R+1,T)),this.updateLineHighlight(),this._signal("afterRender"),this.$updateGutterWidth(b)},this.$renderLines=function(b,S,T){for(var R=[],O=S,C=this.session.getNextFoldLine(O),I=C?C.start.row:1/0;O>I&&(O=C.end.row+1,I=(C=this.session.getNextFoldLine(O,C))?C.start.row:1/0),!(O>T);){var F=this.$lines.createCell(O,b,this.session,u);this.$renderCell(F,b,C,O),R.push(F),O++}return R},this.$renderCell=function(b,S,T,R){var O=b.element,C=this.session,I=O.childNodes[0],F=O.childNodes[1],M=C.$firstLineNumber,D=C.$breakpoints,B=C.$decorations,j=C.gutterRenderer||this.$renderer,U=this.$showFoldWidgets&&C.foldWidgets,V=T?T.start.row:Number.MAX_VALUE,k="ace_gutter-cell ";if(this.$highlightGutterLine&&(R==this.$cursorRow||T&&R<this.$cursorRow&&R>=V&&this.$cursorRow<=T.end.row)&&(k+="ace_gutter-active-line ",this.$cursorCell!=b&&(this.$cursorCell&&(this.$cursorCell.element.className=this.$cursorCell.element.className.replace("ace_gutter-active-line ","")),this.$cursorCell=b)),D[R]&&(k+=D[R]),B[R]&&(k+=B[R]),this.$annotations[R]&&(k+=this.$annotations[R].className),O.className!=k&&(O.className=k),U){var Z=U[R];Z==null&&(Z=U[R]=C.getFoldWidget(R))}if(Z){k="ace_fold-widget ace_"+Z,Z=="start"&&R==V&&R<T.end.row?k+=" ace_closed":k+=" ace_open",F.className!=k&&(F.className=k);var ee=S.lineHeight+"px";h.setStyle(F.style,"height",ee),h.setStyle(F.style,"display","inline-block")}else F&&h.setStyle(F.style,"display","none");var oe=(j?j.getText(C,R):R+M).toString();return oe!==I.data&&(I.data=oe),h.setStyle(b.element.style,"height",this.$lines.computeLineHeight(R,S,C)+"px"),h.setStyle(b.element.style,"top",this.$lines.computeLineTop(R,S,C)+"px"),b.text=oe,b},this.$fixedWidth=!1,this.$highlightGutterLine=!0,this.$renderer="",this.setHighlightGutterLine=function(b){this.$highlightGutterLine=b},this.$showLineNumbers=!0,this.$renderer="",this.setShowLineNumbers=function(b){this.$renderer=!b&&{getWidth:function(){return 0},getText:function(){return""}}},this.getShowLineNumbers=function(){return this.$showLineNumbers},this.$showFoldWidgets=!0,this.setShowFoldWidgets=function(b){b?h.addCssClass(this.element,"ace_folding-enabled"):h.removeCssClass(this.element,"ace_folding-enabled"),this.$showFoldWidgets=b,this.$padding=null},this.getShowFoldWidgets=function(){return this.$showFoldWidgets},this.$computePadding=function(){if(!this.element.firstChild)return{left:0,right:0};var b=h.computedStyle(this.element.firstChild);return this.$padding={},this.$padding.left=(parseInt(b.borderLeftWidth)||0)+(parseInt(b.paddingLeft)||0)+1,this.$padding.right=(parseInt(b.borderRightWidth)||0)+(parseInt(b.paddingRight)||0),this.$padding},this.getRegion=function(b){var S=this.$padding||this.$computePadding(),T=this.element.getBoundingClientRect();return b.x<S.left+T.left?"markers":this.$showFoldWidgets&&b.x>T.right-S.right?"foldWidgets":void 0}}).call(y.prototype),c.Gutter=y})),ace.define("ace/layer/marker",["require","exports","module","ace/range","ace/lib/dom"],(function(l,c,f){var h=l("../range").Range,v=l("../lib/dom"),m=function(_){this.element=v.createElement("div"),this.element.className="ace_layer ace_marker-layer",_.appendChild(this.element)};(function(){this.$padding=0,this.setPadding=function(_){this.$padding=_},this.setSession=function(_){this.session=_},this.setMarkers=function(_){this.markers=_},this.elt=function(_,g){var y=this.i!=-1&&this.element.childNodes[this.i];y?this.i++:(y=document.createElement("div"),this.element.appendChild(y),this.i=-1),y.style.cssText=g,y.className=_},this.update=function(_){if(_){var g;for(var y in this.config=_,this.i=0,this.markers){var u=this.markers[y];if(u.range){var b=u.range.clipRows(_.firstRow,_.lastRow);if(!b.isEmpty())if(b=b.toScreenRange(this.session),u.renderer){var S=this.$getTop(b.start.row,_),T=this.$padding+b.start.column*_.characterWidth;u.renderer(g,b,T,S,_)}else u.type=="fullLine"?this.drawFullLineMarker(g,b,u.clazz,_):u.type=="screenLine"?this.drawScreenLineMarker(g,b,u.clazz,_):b.isMultiLine()?u.type=="text"?this.drawTextMarker(g,b,u.clazz,_):this.drawMultiLineMarker(g,b,u.clazz,_):this.drawSingleLineMarker(g,b,u.clazz+" ace_start ace_br15",_)}else u.update(g,this,this.session,_)}if(this.i!=-1)for(;this.i<this.element.childElementCount;)this.element.removeChild(this.element.lastChild)}},this.$getTop=function(_,g){return(_-g.firstRowScreen)*g.lineHeight},this.drawTextMarker=function(_,g,y,u,b){for(var S=this.session,T=g.start.row,R=g.end.row,O=T,C=0,I=0,F=S.getScreenLastRowColumn(O),M=new h(O,g.start.column,O,I);O<=R;O++)M.start.row=M.end.row=O,M.start.column=O==T?g.start.column:S.getRowWrapIndent(O),M.end.column=F,C=I,I=F,F=O+1<R?S.getScreenLastRowColumn(O+1):O==R?0:g.end.column,this.drawSingleLineMarker(_,M,y+(O==T?" ace_start":"")+" ace_br"+((O==T||O==T+1&&g.start.column?1:0)|(C<I?2:0)|(I>F?4:0)|(O==R?8:0)),u,O==R?0:1,b)},this.drawMultiLineMarker=function(_,g,y,u,b){var S=this.$padding,T=u.lineHeight,R=this.$getTop(g.start.row,u),O=S+g.start.column*u.characterWidth;if(b=b||"",this.session.$bidiHandler.isBidiRow(g.start.row)?((C=g.clone()).end.row=C.start.row,C.end.column=this.session.getLine(C.start.row).length,this.drawBidiSingleLineMarker(_,C,y+" ace_br1 ace_start",u,null,b)):this.elt(y+" ace_br1 ace_start","height:"+T+"px;right:0;top:"+R+"px;left:"+O+"px;"+(b||"")),this.session.$bidiHandler.isBidiRow(g.end.row)){var C;(C=g.clone()).start.row=C.end.row,C.start.column=0,this.drawBidiSingleLineMarker(_,C,y+" ace_br12",u,null,b)}else{R=this.$getTop(g.end.row,u);var I=g.end.column*u.characterWidth;this.elt(y+" ace_br12","height:"+T+"px;width:"+I+"px;top:"+R+"px;left:"+S+"px;"+(b||""))}if(!((T=(g.end.row-g.start.row-1)*u.lineHeight)<=0)){R=this.$getTop(g.start.row+1,u);var F=(g.start.column?1:0)|(g.end.column?0:8);this.elt(y+(F?" ace_br"+F:""),"height:"+T+"px;right:0;top:"+R+"px;left:"+S+"px;"+(b||""))}},this.drawSingleLineMarker=function(_,g,y,u,b,S){if(this.session.$bidiHandler.isBidiRow(g.start.row))return this.drawBidiSingleLineMarker(_,g,y,u,b,S);var T=u.lineHeight,R=(g.end.column+(b||0)-g.start.column)*u.characterWidth,O=this.$getTop(g.start.row,u),C=this.$padding+g.start.column*u.characterWidth;this.elt(y,"height:"+T+"px;width:"+R+"px;top:"+O+"px;left:"+C+"px;"+(S||""))},this.drawBidiSingleLineMarker=function(_,g,y,u,b,S){var T=u.lineHeight,R=this.$getTop(g.start.row,u),O=this.$padding;this.session.$bidiHandler.getSelections(g.start.column,g.end.column).forEach((function(C){this.elt(y,"height:"+T+"px;width:"+C.width+(b||0)+"px;top:"+R+"px;left:"+(O+C.left)+"px;"+(S||""))}),this)},this.drawFullLineMarker=function(_,g,y,u,b){var S=this.$getTop(g.start.row,u),T=u.lineHeight;g.start.row!=g.end.row&&(T+=this.$getTop(g.end.row,u)-S),this.elt(y,"height:"+T+"px;top:"+S+"px;left:0;right:0;"+(b||""))},this.drawScreenLineMarker=function(_,g,y,u,b){var S=this.$getTop(g.start.row,u),T=u.lineHeight;this.elt(y,"height:"+T+"px;top:"+S+"px;left:0;right:0;"+(b||""))}}).call(m.prototype),c.Marker=m})),ace.define("ace/layer/text",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/layer/lines","ace/lib/event_emitter"],(function(l,c,f){var h=l("../lib/oop"),v=l("../lib/dom"),m=l("../lib/lang"),_=l("./lines").Lines,g=l("../lib/event_emitter").EventEmitter,y=function(u){this.dom=v,this.element=this.dom.createElement("div"),this.element.className="ace_layer ace_text-layer",u.appendChild(this.element),this.$updateEolChar=this.$updateEolChar.bind(this),this.$lines=new _(this.element)};(function(){h.implement(this,g),this.EOF_CHAR="Â¶",this.EOL_CHAR_LF="Â¬",this.EOL_CHAR_CRLF="Â¤",this.EOL_CHAR=this.EOL_CHAR_LF,this.TAB_CHAR="â",this.SPACE_CHAR="Â·",this.$padding=0,this.MAX_LINE_LENGTH=1e4,this.$updateEolChar=function(){var u=this.session.doc,b=u.getNewLineCharacter()==`
`&&u.getNewLineMode()!="windows"?this.EOL_CHAR_LF:this.EOL_CHAR_CRLF;if(this.EOL_CHAR!=b)return this.EOL_CHAR=b,!0},this.setPadding=function(u){this.$padding=u,this.element.style.margin="0 "+u+"px"},this.getLineHeight=function(){return this.$fontMetrics.$characterSize.height||0},this.getCharacterWidth=function(){return this.$fontMetrics.$characterSize.width||0},this.$setFontMetrics=function(u){this.$fontMetrics=u,this.$fontMetrics.on("changeCharacterSize",(function(b){this._signal("changeCharacterSize",b)}).bind(this)),this.$pollSizeChanges()},this.checkForSizeChanges=function(){this.$fontMetrics.checkForSizeChanges()},this.$pollSizeChanges=function(){return this.$pollSizeChangesTimer=this.$fontMetrics.$pollSizeChanges()},this.setSession=function(u){this.session=u,u&&this.$computeTabString()},this.showInvisibles=!1,this.setShowInvisibles=function(u){return this.showInvisibles!=u&&(this.showInvisibles=u,this.$computeTabString(),!0)},this.displayIndentGuides=!0,this.setDisplayIndentGuides=function(u){return this.displayIndentGuides!=u&&(this.displayIndentGuides=u,this.$computeTabString(),!0)},this.$tabStrings=[],this.onChangeTabSize=this.$computeTabString=function(){var u=this.session.getTabSize();this.tabSize=u;for(var b=this.$tabStrings=[0],S=1;S<u+1;S++)this.showInvisibles?((T=this.dom.createElement("span")).className="ace_invisible ace_invisible_tab",T.textContent=m.stringRepeat(this.TAB_CHAR,S),b.push(T)):b.push(this.dom.createTextNode(m.stringRepeat(" ",S),this.element));if(this.displayIndentGuides){this.$indentGuideRe=/\s\S| \t|\t |\s$/;var T,R="ace_indent-guide",O="",C="";if(this.showInvisibles){R+=" ace_invisible",O=" ace_invisible_space",C=" ace_invisible_tab";var I=m.stringRepeat(this.SPACE_CHAR,this.tabSize),F=m.stringRepeat(this.TAB_CHAR,this.tabSize)}else F=I=m.stringRepeat(" ",this.tabSize);(T=this.dom.createElement("span")).className=R+O,T.textContent=I,this.$tabStrings[" "]=T,(T=this.dom.createElement("span")).className=R+C,T.textContent=F,this.$tabStrings["	"]=T}},this.updateLines=function(u,b,S){if(this.config.lastRow!=u.lastRow||this.config.firstRow!=u.firstRow)return this.update(u);this.config=u;for(var T=Math.max(b,u.firstRow),R=Math.min(S,u.lastRow),O=this.element.childNodes,C=0,I=u.firstRow;I<T;I++){if(F=this.session.getFoldLine(I)){if(F.containsRow(T)){T=F.start.row;break}I=F.end.row}C++}for(var F,M=!1,D=(I=T,(F=this.session.getNextFoldLine(I))?F.start.row:1/0);I>D&&(I=F.end.row+1,D=(F=this.session.getNextFoldLine(I,F))?F.start.row:1/0),!(I>R);){var B=O[C++];if(B){this.dom.removeChildren(B),this.$renderLine(B,I,I==D&&F),M&&(B.style.top=this.$lines.computeLineTop(I,u,this.session)+"px");var j=u.lineHeight*this.session.getRowLength(I)+"px";B.style.height!=j&&(M=!0,B.style.height=j)}I++}if(M)for(;C<this.$lines.cells.length;){var U=this.$lines.cells[C++];U.element.style.top=this.$lines.computeLineTop(U.row,u,this.session)+"px"}},this.scrollLines=function(u){var b=this.config;if(this.config=u,this.$lines.pageChanged(b,u))return this.update(u);this.$lines.moveContainer(u);var S=u.lastRow,T=b?b.lastRow:-1;if(!b||T<u.firstRow)return this.update(u);if(S<b.firstRow)return this.update(u);if(!b||b.lastRow<u.firstRow)return this.update(u);if(u.lastRow<b.firstRow)return this.update(u);if(b.firstRow<u.firstRow)for(var R=this.session.getFoldedRowCount(b.firstRow,u.firstRow-1);R>0;R--)this.$lines.shift();if(b.lastRow>u.lastRow)for(R=this.session.getFoldedRowCount(u.lastRow+1,b.lastRow);R>0;R--)this.$lines.pop();u.firstRow<b.firstRow&&this.$lines.unshift(this.$renderLinesFragment(u,u.firstRow,b.firstRow-1)),u.lastRow>b.lastRow&&this.$lines.push(this.$renderLinesFragment(u,b.lastRow+1,u.lastRow))},this.$renderLinesFragment=function(u,b,S){for(var T=[],R=b,O=this.session.getNextFoldLine(R),C=O?O.start.row:1/0;R>C&&(R=O.end.row+1,C=(O=this.session.getNextFoldLine(R,O))?O.start.row:1/0),!(R>S);){var I=this.$lines.createCell(R,u,this.session),F=I.element;this.dom.removeChildren(F),v.setStyle(F.style,"height",this.$lines.computeLineHeight(R,u,this.session)+"px"),v.setStyle(F.style,"top",this.$lines.computeLineTop(R,u,this.session)+"px"),this.$renderLine(F,R,R==C&&O),this.$useLineGroups()?F.className="ace_line_group":F.className="ace_line",T.push(I),R++}return T},this.update=function(u){this.$lines.moveContainer(u),this.config=u;for(var b=u.firstRow,S=u.lastRow,T=this.$lines;T.getLength();)T.pop();T.push(this.$renderLinesFragment(u,b,S))},this.$textToken={text:!0,rparen:!0,lparen:!0},this.$renderToken=function(u,b,S,T){for(var R,O=this,C=/(\t)|( +)|([\x00-\x1f\x80-\xa0\xad\u1680\u180E\u2000-\u200f\u2028\u2029\u202F\u205F\uFEFF\uFFF9-\uFFFC]+)|(\u3000)|([\u1100-\u115F\u11A3-\u11A7\u11FA-\u11FF\u2329-\u232A\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u2FFB\u3001-\u303E\u3041-\u3096\u3099-\u30FF\u3105-\u312D\u3131-\u318E\u3190-\u31BA\u31C0-\u31E3\u31F0-\u321E\u3220-\u3247\u3250-\u32FE\u3300-\u4DBF\u4E00-\uA48C\uA490-\uA4C6\uA960-\uA97C\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFAFF\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE66\uFE68-\uFE6B\uFF01-\uFF60\uFFE0-\uFFE6]|[\uD800-\uDBFF][\uDC00-\uDFFF])/g,I=this.dom.createFragment(this.element),F=0;R=C.exec(T);){var M=R[1],D=R[2],B=R[3],j=R[4],U=R[5];if(O.showInvisibles||!D){var V=F!=R.index?T.slice(F,R.index):"";if(F=R.index+R[0].length,V&&I.appendChild(this.dom.createTextNode(V,this.element)),M){var k=O.session.getScreenTabSize(b+R.index);I.appendChild(O.$tabStrings[k].cloneNode(!0)),b+=k-1}else D?O.showInvisibles?((ee=this.dom.createElement("span")).className="ace_invisible ace_invisible_space",ee.textContent=m.stringRepeat(O.SPACE_CHAR,D.length),I.appendChild(ee)):I.appendChild(this.com.createTextNode(D,this.element)):B?((ee=this.dom.createElement("span")).className="ace_invisible ace_invisible_space ace_invalid",ee.textContent=m.stringRepeat(O.SPACE_CHAR,B.length),I.appendChild(ee)):j?(b+=1,(ee=this.dom.createElement("span")).style.width=2*O.config.characterWidth+"px",ee.className=O.showInvisibles?"ace_cjk ace_invisible ace_invisible_space":"ace_cjk",ee.textContent=O.showInvisibles?O.SPACE_CHAR:j,I.appendChild(ee)):U&&(b+=1,(ee=this.dom.createElement("span")).style.width=2*O.config.characterWidth+"px",ee.className="ace_cjk",ee.textContent=U,I.appendChild(ee))}}if(I.appendChild(this.dom.createTextNode(F?T.slice(F):T,this.element)),this.$textToken[S.type])u.appendChild(I);else{var Z="ace_"+S.type.replace(/\./g," ace_"),ee=this.dom.createElement("span");S.type=="fold"&&(ee.style.width=S.value.length*this.config.characterWidth+"px"),ee.className=Z,ee.appendChild(I),u.appendChild(ee)}return b+T.length},this.renderIndentGuide=function(u,b,S){var T=b.search(this.$indentGuideRe);if(T<=0||T>=S)return b;if(b[0]==" "){for(var R=(T-=T%this.tabSize)/this.tabSize,O=0;O<R;O++)u.appendChild(this.$tabStrings[" "].cloneNode(!0));return b.substr(T)}if(b[0]=="	"){for(O=0;O<T;O++)u.appendChild(this.$tabStrings["	"].cloneNode(!0));return b.substr(T)}return b},this.$createLineElement=function(u){var b=this.dom.createElement("div");return b.className="ace_line",b.style.height=this.config.lineHeight+"px",b},this.$renderWrappedLine=function(u,b,S){var T=0,R=0,O=S[0],C=0,I=this.$createLineElement();u.appendChild(I);for(var F=0;F<b.length;F++){var M=b[F],D=M.value;if(F==0&&this.displayIndentGuides){if(T=D.length,!(D=this.renderIndentGuide(I,D,O)))continue;T-=D.length}if(T+D.length<O)C=this.$renderToken(I,C,M,D),T+=D.length;else{for(;T+D.length>=O;)C=this.$renderToken(I,C,M,D.substring(0,O-T)),D=D.substring(O-T),T=O,I=this.$createLineElement(),u.appendChild(I),I.appendChild(this.dom.createTextNode(m.stringRepeat("Â ",S.indent),this.element)),C=0,O=S[++R]||Number.MAX_VALUE;D.length!=0&&(T+=D.length,C=this.$renderToken(I,C,M,D))}}S[S.length-1]>this.MAX_LINE_LENGTH&&this.$renderOverflowMessage(I,C,null,"",!0)},this.$renderSimpleLine=function(u,b){var S=0,T=b[0],R=T.value;this.displayIndentGuides&&(R=this.renderIndentGuide(u,R)),R&&(S=this.$renderToken(u,S,T,R));for(var O=1;O<b.length;O++){if(S+(R=(T=b[O]).value).length>this.MAX_LINE_LENGTH)return this.$renderOverflowMessage(u,S,T,R);S=this.$renderToken(u,S,T,R)}},this.$renderOverflowMessage=function(u,b,S,T,R){S&&this.$renderToken(u,b,S,T.slice(0,this.MAX_LINE_LENGTH-b));var O=this.dom.createElement("span");O.className="ace_inline_button ace_keyword ace_toggle_wrap",O.textContent=R?"<hide>":"<click to see more...>",u.appendChild(O)},this.$renderLine=function(u,b,S){if(S||S==0||(S=this.session.getFoldLine(b)),S)var T=this.$getFoldLineTokens(b,S);else T=this.session.getTokens(b);var R=u;if(T.length){var O=this.session.getRowSplitData(b);O&&O.length?(this.$renderWrappedLine(u,T,O),R=u.lastChild):(R=u,this.$useLineGroups()&&(R=this.$createLineElement(),u.appendChild(R)),this.$renderSimpleLine(R,T))}else this.$useLineGroups()&&(R=this.$createLineElement(),u.appendChild(R));if(this.showInvisibles&&R){S&&(b=S.end.row);var C=this.dom.createElement("span");C.className="ace_invisible ace_invisible_eol",C.textContent=b==this.session.getLength()-1?this.EOF_CHAR:this.EOL_CHAR,R.appendChild(C)}},this.$getFoldLineTokens=function(u,b){var S=this.session,T=[],R=S.getTokens(u);return b.walk((function(O,C,I,F,M){O!=null?T.push({type:"fold",value:O}):(M&&(R=S.getTokens(C)),R.length&&(function(D,B,j){for(var U=0,V=0;V+D[U].value.length<B;)if(V+=D[U].value.length,++U==D.length)return;for(V!=B&&((k=D[U].value.substring(B-V)).length>j-B&&(k=k.substring(0,j-B)),T.push({type:D[U].type,value:k}),V=B+k.length,U+=1);V<j&&U<D.length;){var k;(k=D[U].value).length+V>j?T.push({type:D[U].type,value:k.substring(0,j-V)}):T.push(D[U]),V+=k.length,U+=1}})(R,F,I))}),b.end.row,this.session.getLine(b.end.row).length),T},this.$useLineGroups=function(){return this.session.getUseWrapMode()},this.destroy=function(){}}).call(y.prototype),c.Text=y})),ace.define("ace/layer/cursor",["require","exports","module","ace/lib/dom"],(function(l,c,f){var h=l("../lib/dom"),v=function(m){this.element=h.createElement("div"),this.element.className="ace_layer ace_cursor-layer",m.appendChild(this.element),this.isVisible=!1,this.isBlinking=!0,this.blinkInterval=1e3,this.smoothBlinking=!1,this.cursors=[],this.cursor=this.addCursor(),h.addCssClass(this.element,"ace_hidden-cursors"),this.$updateCursors=this.$updateOpacity.bind(this)};(function(){this.$updateOpacity=function(m){for(var _=this.cursors,g=_.length;g--;)h.setStyle(_[g].style,"opacity",m?"":"0")},this.$startCssAnimation=function(){for(var m=this.cursors,_=m.length;_--;)m[_].style.animationDuration=this.blinkInterval+"ms";setTimeout((function(){h.addCssClass(this.element,"ace_animate-blinking")}).bind(this))},this.$stopCssAnimation=function(){h.removeCssClass(this.element,"ace_animate-blinking")},this.$padding=0,this.setPadding=function(m){this.$padding=m},this.setSession=function(m){this.session=m},this.setBlinking=function(m){m!=this.isBlinking&&(this.isBlinking=m,this.restartTimer())},this.setBlinkInterval=function(m){m!=this.blinkInterval&&(this.blinkInterval=m,this.restartTimer())},this.setSmoothBlinking=function(m){m!=this.smoothBlinking&&(this.smoothBlinking=m,h.setCssClass(this.element,"ace_smooth-blinking",m),this.$updateCursors(!0),this.restartTimer())},this.addCursor=function(){var m=h.createElement("div");return m.className="ace_cursor",this.element.appendChild(m),this.cursors.push(m),m},this.removeCursor=function(){if(this.cursors.length>1){var m=this.cursors.pop();return m.parentNode.removeChild(m),m}},this.hideCursor=function(){this.isVisible=!1,h.addCssClass(this.element,"ace_hidden-cursors"),this.restartTimer()},this.showCursor=function(){this.isVisible=!0,h.removeCssClass(this.element,"ace_hidden-cursors"),this.restartTimer()},this.restartTimer=function(){var m=this.$updateCursors;if(clearInterval(this.intervalId),clearTimeout(this.timeoutId),this.$stopCssAnimation(),this.smoothBlinking&&h.removeCssClass(this.element,"ace_smooth-blinking"),m(!0),this.isBlinking&&this.blinkInterval&&this.isVisible)if(this.smoothBlinking&&setTimeout((function(){h.addCssClass(this.element,"ace_smooth-blinking")}).bind(this)),h.HAS_CSS_ANIMATION)this.$startCssAnimation();else{var _=(function(){this.timeoutId=setTimeout((function(){m(!1)}),.6*this.blinkInterval)}).bind(this);this.intervalId=setInterval((function(){m(!0),_()}),this.blinkInterval),_()}else this.$stopCssAnimation()},this.getPixelPosition=function(m,_){if(!this.config||!this.session)return{left:0,top:0};m||(m=this.session.selection.getCursor());var g=this.session.documentToScreenPosition(m);return{left:this.$padding+(this.session.$bidiHandler.isBidiRow(g.row,m.row)?this.session.$bidiHandler.getPosLeft(g.column):g.column*this.config.characterWidth),top:(g.row-(_?this.config.firstRowScreen:0))*this.config.lineHeight}},this.isCursorInView=function(m,_){return m.top>=0&&m.top<_.maxHeight},this.update=function(m){this.config=m;var _=this.session.$selectionMarkers,g=0,y=0;_!==void 0&&_.length!==0||(_=[{cursor:null}]),g=0;for(var u=_.length;g<u;g++){var b=this.getPixelPosition(_[g].cursor,!0);if(!((b.top>m.height+m.offset||b.top<0)&&g>1)){var S=this.cursors[y++]||this.addCursor(),T=S.style;this.drawCursor?this.drawCursor(S,b,m,_[g],this.session):this.isCursorInView(b,m)?(h.setStyle(T,"display","block"),h.translate(S,b.left,b.top),h.setStyle(T,"width",Math.round(m.characterWidth)+"px"),h.setStyle(T,"height",m.lineHeight+"px")):h.setStyle(T,"display","none")}}for(;this.cursors.length>y;)this.removeCursor();var R=this.session.getOverwrite();this.$setOverwrite(R),this.$pixelPos=b,this.restartTimer()},this.drawCursor=null,this.$setOverwrite=function(m){m!=this.overwrite&&(this.overwrite=m,m?h.addCssClass(this.element,"ace_overwrite-cursors"):h.removeCssClass(this.element,"ace_overwrite-cursors"))},this.destroy=function(){clearInterval(this.intervalId),clearTimeout(this.timeoutId)}}).call(v.prototype),c.Cursor=v})),ace.define("ace/scrollbar",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/event","ace/lib/event_emitter"],(function(l,c,f){var h=l("./lib/oop"),v=l("./lib/dom"),m=l("./lib/event"),_=l("./lib/event_emitter").EventEmitter,g=32768,y=function(S){this.element=v.createElement("div"),this.element.className="ace_scrollbar ace_scrollbar"+this.classSuffix,this.inner=v.createElement("div"),this.inner.className="ace_scrollbar-inner",this.inner.textContent="Â ",this.element.appendChild(this.inner),S.appendChild(this.element),this.setVisible(!1),this.skipEvent=!1,m.addListener(this.element,"scroll",this.onScroll.bind(this)),m.addListener(this.element,"mousedown",m.preventDefault)};(function(){h.implement(this,_),this.setVisible=function(S){this.element.style.display=S?"":"none",this.isVisible=S,this.coeff=1}}).call(y.prototype);var u=function(S,T){y.call(this,S),this.scrollTop=0,this.scrollHeight=0,T.$scrollbarWidth=this.width=v.scrollbarWidth(S.ownerDocument),this.inner.style.width=this.element.style.width=(this.width||15)+5+"px",this.$minWidth=0};h.inherits(u,y),(function(){this.classSuffix="-v",this.onScroll=function(){if(!this.skipEvent){if(this.scrollTop=this.element.scrollTop,this.coeff!=1){var S=this.element.clientHeight/this.scrollHeight;this.scrollTop=this.scrollTop*(1-S)/(this.coeff-S)}this._emit("scroll",{data:this.scrollTop})}this.skipEvent=!1},this.getWidth=function(){return Math.max(this.isVisible?this.width:0,this.$minWidth||0)},this.setHeight=function(S){this.element.style.height=S+"px"},this.setInnerHeight=this.setScrollHeight=function(S){this.scrollHeight=S,S>g?(this.coeff=g/S,S=g):this.coeff!=1&&(this.coeff=1),this.inner.style.height=S+"px"},this.setScrollTop=function(S){this.scrollTop!=S&&(this.skipEvent=!0,this.scrollTop=S,this.element.scrollTop=S*this.coeff)}}).call(u.prototype);var b=function(S,T){y.call(this,S),this.scrollLeft=0,this.height=T.$scrollbarWidth,this.inner.style.height=this.element.style.height=(this.height||15)+5+"px"};h.inherits(b,y),(function(){this.classSuffix="-h",this.onScroll=function(){this.skipEvent||(this.scrollLeft=this.element.scrollLeft,this._emit("scroll",{data:this.scrollLeft})),this.skipEvent=!1},this.getHeight=function(){return this.isVisible?this.height:0},this.setWidth=function(S){this.element.style.width=S+"px"},this.setInnerWidth=function(S){this.inner.style.width=S+"px"},this.setScrollWidth=function(S){this.inner.style.width=S+"px"},this.setScrollLeft=function(S){this.scrollLeft!=S&&(this.skipEvent=!0,this.scrollLeft=this.element.scrollLeft=S)}}).call(b.prototype),c.ScrollBar=u,c.ScrollBarV=u,c.ScrollBarH=b,c.VScrollBar=u,c.HScrollBar=b})),ace.define("ace/renderloop",["require","exports","module","ace/lib/event"],(function(l,c,f){var h=l("./lib/event"),v=function(m,_){this.onRender=m,this.pending=!1,this.changes=0,this.$recursionLimit=2,this.window=_||window;var g=this;this._flush=function(y){g.pending=!1;var u=g.changes;if(u&&(h.blockIdle(100),g.changes=0,g.onRender(u)),g.changes){if(g.$recursionLimit--<0)return;g.schedule()}else g.$recursionLimit=2}};(function(){this.schedule=function(m){this.changes=this.changes|m,this.changes&&!this.pending&&(h.nextFrame(this._flush),this.pending=!0)},this.clear=function(m){var _=this.changes;return this.changes=0,_}}).call(v.prototype),c.RenderLoop=v})),ace.define("ace/layer/font_metrics",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/lib/event","ace/lib/useragent","ace/lib/event_emitter"],(function(l,c,f){var h=l("../lib/oop"),v=l("../lib/dom"),m=l("../lib/lang"),_=l("../lib/event"),g=l("../lib/useragent"),y=l("../lib/event_emitter").EventEmitter,u=256,b=typeof ResizeObserver=="function",S=200,T=c.FontMetrics=function(R){this.el=v.createElement("div"),this.$setMeasureNodeStyles(this.el.style,!0),this.$main=v.createElement("div"),this.$setMeasureNodeStyles(this.$main.style),this.$measureNode=v.createElement("div"),this.$setMeasureNodeStyles(this.$measureNode.style),this.el.appendChild(this.$main),this.el.appendChild(this.$measureNode),R.appendChild(this.el),this.$measureNode.innerHTML=m.stringRepeat("X",u),this.$characterSize={width:0,height:0},b?this.$addObserver():this.checkForSizeChanges()};(function(){h.implement(this,y),this.$characterSize={width:0,height:0},this.$setMeasureNodeStyles=function(R,O){R.width=R.height="auto",R.left=R.top="0px",R.visibility="hidden",R.position="absolute",R.whiteSpace="pre",g.isIE<8?R["font-family"]="inherit":R.font="inherit",R.overflow=O?"hidden":"visible"},this.checkForSizeChanges=function(R){if(R===void 0&&(R=this.$measureSizes()),R&&(this.$characterSize.width!==R.width||this.$characterSize.height!==R.height)){this.$measureNode.style.fontWeight="bold";var O=this.$measureSizes();this.$measureNode.style.fontWeight="",this.$characterSize=R,this.charSizes=Object.create(null),this.allowBoldFonts=O&&O.width===R.width&&O.height===R.height,this._emit("changeCharacterSize",{data:R})}},this.$addObserver=function(){var R=this;this.$observer=new window.ResizeObserver((function(O){var C=O[0].contentRect;R.checkForSizeChanges({height:C.height,width:C.width/u})})),this.$observer.observe(this.$measureNode)},this.$pollSizeChanges=function(){if(this.$pollSizeChangesTimer||this.$observer)return this.$pollSizeChangesTimer;var R=this;return this.$pollSizeChangesTimer=_.onIdle((function O(){R.checkForSizeChanges(),_.onIdle(O,500)}),500)},this.setPolling=function(R){R?this.$pollSizeChanges():this.$pollSizeChangesTimer&&(clearInterval(this.$pollSizeChangesTimer),this.$pollSizeChangesTimer=0)},this.$measureSizes=function(R){var O={height:(R||this.$measureNode).clientHeight,width:(R||this.$measureNode).clientWidth/u};return O.width===0||O.height===0?null:O},this.$measureCharWidth=function(R){return this.$main.innerHTML=m.stringRepeat(R,u),this.$main.getBoundingClientRect().width/u},this.getCharacterWidth=function(R){var O=this.charSizes[R];return O===void 0&&(O=this.charSizes[R]=this.$measureCharWidth(R)/this.$characterSize.width),O},this.destroy=function(){clearInterval(this.$pollSizeChangesTimer),this.$observer&&this.$observer.disconnect(),this.el&&this.el.parentNode&&this.el.parentNode.removeChild(this.el)},this.$getZoom=function R(O){return O?(window.getComputedStyle(O).zoom||1)*R(O.parentElement):1},this.$initTransformMeasureNodes=function(){var R=function(O,C){return["div",{style:"position: absolute;top:"+O+"px;left:"+C+"px;"}]};this.els=v.buildDom([R(0,0),R(S,0),R(0,S),R(S,S)],this.el)},this.transformCoordinates=function(R,O){function C(ce,ae,ve){var _e=ce[1]*ae[0]-ce[0]*ae[1];return[(-ae[1]*ve[0]+ae[0]*ve[1])/_e,(+ce[1]*ve[0]-ce[0]*ve[1])/_e]}function I(ce,ae){return[ce[0]-ae[0],ce[1]-ae[1]]}function F(ce,ae){return[ce[0]+ae[0],ce[1]+ae[1]]}function M(ce,ae){return[ce*ae[0],ce*ae[1]]}function D(ce){var ae=ce.getBoundingClientRect();return[ae.left,ae.top]}R&&(R=M(1/this.$getZoom(this.el),R)),this.els||this.$initTransformMeasureNodes();var B=D(this.els[0]),j=D(this.els[1]),U=D(this.els[2]),V=D(this.els[3]),k=C(I(V,j),I(V,U),I(F(j,U),F(V,B))),Z=M(1+k[0],I(j,B)),ee=M(1+k[1],I(U,B));if(O){var oe=O,ne=k[0]*oe[0]/S+k[1]*oe[1]/S+1,ie=F(M(oe[0],Z),M(oe[1],ee));return F(M(1/ne/S,ie),B)}var he=I(R,B),fe=C(I(Z,M(k[0],he)),I(ee,M(k[1],he)),he);return M(S,fe)}}).call(T.prototype)})),ace.define("ace/virtual_renderer",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/config","ace/layer/gutter","ace/layer/marker","ace/layer/text","ace/layer/cursor","ace/scrollbar","ace/scrollbar","ace/renderloop","ace/layer/font_metrics","ace/lib/event_emitter","ace/lib/useragent"],(function(l,c,f){var h=l("./lib/oop"),v=l("./lib/dom"),m=l("./config"),_=l("./layer/gutter").Gutter,g=l("./layer/marker").Marker,y=l("./layer/text").Text,u=l("./layer/cursor").Cursor,b=l("./scrollbar").HScrollBar,S=l("./scrollbar").VScrollBar,T=l("./renderloop").RenderLoop,R=l("./layer/font_metrics").FontMetrics,O=l("./lib/event_emitter").EventEmitter,C=`.ace_br1 {border-top-left-radius    : 3px;}.ace_br2 {border-top-right-radius   : 3px;}.ace_br3 {border-top-left-radius    : 3px; border-top-right-radius:    3px;}.ace_br4 {border-bottom-right-radius: 3px;}.ace_br5 {border-top-left-radius    : 3px; border-bottom-right-radius: 3px;}.ace_br6 {border-top-right-radius   : 3px; border-bottom-right-radius: 3px;}.ace_br7 {border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px;}.ace_br8 {border-bottom-left-radius : 3px;}.ace_br9 {border-top-left-radius    : 3px; border-bottom-left-radius:  3px;}.ace_br10{border-top-right-radius   : 3px; border-bottom-left-radius:  3px;}.ace_br11{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-left-radius:  3px;}.ace_br12{border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}.ace_br13{border-top-left-radius    : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}.ace_br14{border-top-right-radius   : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}.ace_br15{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px;}.ace_editor {position: relative;overflow: hidden;font: 12px/normal 'Monaco', 'Menlo', 'Ubuntu Mono', 'Consolas', 'source-code-pro', monospace;direction: ltr;text-align: left;-webkit-tap-highlight-color: rgba(0, 0, 0, 0);}.ace_scroller {position: absolute;overflow: hidden;top: 0;bottom: 0;background-color: inherit;-ms-user-select: none;-moz-user-select: none;-webkit-user-select: none;user-select: none;cursor: text;}.ace_content {position: absolute;box-sizing: border-box;min-width: 100%;contain: style size layout;}.ace_dragging .ace_scroller:before{position: absolute;top: 0;left: 0;right: 0;bottom: 0;content: '';background: rgba(250, 250, 250, 0.01);z-index: 1000;}.ace_dragging.ace_dark .ace_scroller:before{background: rgba(0, 0, 0, 0.01);}.ace_selecting, .ace_selecting * {cursor: text !important;}.ace_gutter {position: absolute;overflow : hidden;width: auto;top: 0;bottom: 0;left: 0;cursor: default;z-index: 4;-ms-user-select: none;-moz-user-select: none;-webkit-user-select: none;user-select: none;contain: style size layout;}.ace_gutter-active-line {position: absolute;left: 0;right: 0;}.ace_scroller.ace_scroll-left {box-shadow: 17px 0 16px -16px rgba(0, 0, 0, 0.4) inset;}.ace_gutter-cell {position: absolute;top: 0;left: 0;right: 0;padding-left: 19px;padding-right: 6px;background-repeat: no-repeat;}.ace_gutter-cell.ace_error {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAABOFBMVEX/////////QRswFAb/Ui4wFAYwFAYwFAaWGAfDRymzOSH/PxswFAb/SiUwFAYwFAbUPRvjQiDllog5HhHdRybsTi3/Tyv9Tir+Syj/UC3////XurebMBIwFAb/RSHbPx/gUzfdwL3kzMivKBAwFAbbvbnhPx66NhowFAYwFAaZJg8wFAaxKBDZurf/RB6mMxb/SCMwFAYwFAbxQB3+RB4wFAb/Qhy4Oh+4QifbNRcwFAYwFAYwFAb/QRzdNhgwFAYwFAbav7v/Uy7oaE68MBK5LxLewr/r2NXewLswFAaxJw4wFAbkPRy2PyYwFAaxKhLm1tMwFAazPiQwFAaUGAb/QBrfOx3bvrv/VC/maE4wFAbRPBq6MRO8Qynew8Dp2tjfwb0wFAbx6eju5+by6uns4uH9/f36+vr/GkHjAAAAYnRSTlMAGt+64rnWu/bo8eAA4InH3+DwoN7j4eLi4xP99Nfg4+b+/u9B/eDs1MD1mO7+4PHg2MXa347g7vDizMLN4eG+Pv7i5evs/v79yu7S3/DV7/498Yv24eH+4ufQ3Ozu/v7+y13sRqwAAADLSURBVHjaZc/XDsFgGIBhtDrshlitmk2IrbHFqL2pvXf/+78DPokj7+Fz9qpU/9UXJIlhmPaTaQ6QPaz0mm+5gwkgovcV6GZzd5JtCQwgsxoHOvJO15kleRLAnMgHFIESUEPmawB9ngmelTtipwwfASilxOLyiV5UVUyVAfbG0cCPHig+GBkzAENHS0AstVF6bacZIOzgLmxsHbt2OecNgJC83JERmePUYq8ARGkJx6XtFsdddBQgZE2nPR6CICZhawjA4Fb/chv+399kfR+MMMDGOQAAAABJRU5ErkJggg==");background-repeat: no-repeat;background-position: 2px center;}.ace_gutter-cell.ace_warning {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAAmVBMVEX///8AAAD///8AAAAAAABPSzb/5sAAAAB/blH/73z/ulkAAAAAAAD85pkAAAAAAAACAgP/vGz/rkDerGbGrV7/pkQICAf////e0IsAAAD/oED/qTvhrnUAAAD/yHD/njcAAADuv2r/nz//oTj/p064oGf/zHAAAAA9Nir/tFIAAAD/tlTiuWf/tkIAAACynXEAAAAAAAAtIRW7zBpBAAAAM3RSTlMAABR1m7RXO8Ln31Z36zT+neXe5OzooRDfn+TZ4p3h2hTf4t3k3ucyrN1K5+Xaks52Sfs9CXgrAAAAjklEQVR42o3PbQ+CIBQFYEwboPhSYgoYunIqqLn6/z8uYdH8Vmdnu9vz4WwXgN/xTPRD2+sgOcZjsge/whXZgUaYYvT8QnuJaUrjrHUQreGczuEafQCO/SJTufTbroWsPgsllVhq3wJEk2jUSzX3CUEDJC84707djRc5MTAQxoLgupWRwW6UB5fS++NV8AbOZgnsC7BpEAAAAABJRU5ErkJggg==");background-position: 2px center;}.ace_gutter-cell.ace_info {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAAAAAA6mKC9AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAAJ0Uk5TAAB2k804AAAAPklEQVQY02NgIB68QuO3tiLznjAwpKTgNyDbMegwisCHZUETUZV0ZqOquBpXj2rtnpSJT1AEnnRmL2OgGgAAIKkRQap2htgAAAAASUVORK5CYII=");background-position: 2px center;}.ace_dark .ace_gutter-cell.ace_info {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQBAMAAADt3eJSAAAAJFBMVEUAAAChoaGAgIAqKiq+vr6tra1ZWVmUlJSbm5s8PDxubm56enrdgzg3AAAAAXRSTlMAQObYZgAAAClJREFUeNpjYMAPdsMYHegyJZFQBlsUlMFVCWUYKkAZMxZAGdxlDMQBAG+TBP4B6RyJAAAAAElFTkSuQmCC");}.ace_scrollbar {contain: strict;position: absolute;right: 0;bottom: 0;z-index: 6;}.ace_scrollbar-inner {position: absolute;cursor: text;left: 0;top: 0;}.ace_scrollbar-v{overflow-x: hidden;overflow-y: scroll;top: 0;}.ace_scrollbar-h {overflow-x: scroll;overflow-y: hidden;left: 0;}.ace_print-margin {position: absolute;height: 100%;}.ace_text-input {position: absolute;z-index: 0;width: 0.5em;height: 1em;opacity: 0;background: transparent;-moz-appearance: none;appearance: none;border: none;resize: none;outline: none;overflow: hidden;font: inherit;padding: 0 1px;margin: 0 -1px;contain: strict;-ms-user-select: text;-moz-user-select: text;-webkit-user-select: text;user-select: text;white-space: pre!important;}.ace_text-input.ace_composition {background: transparent;color: inherit;z-index: 1000;opacity: 1;}.ace_composition_placeholder { color: transparent }.ace_composition_marker { border-bottom: 1px solid;position: absolute;border-radius: 0;margin-top: 1px;}[ace_nocontext=true] {transform: none!important;filter: none!important;perspective: none!important;clip-path: none!important;mask : none!important;contain: none!important;perspective: none!important;mix-blend-mode: initial!important;z-index: auto;}.ace_layer {z-index: 1;position: absolute;overflow: hidden;word-wrap: normal;white-space: pre;height: 100%;width: 100%;box-sizing: border-box;pointer-events: none;}.ace_gutter-layer {position: relative;width: auto;text-align: right;pointer-events: auto;height: 1000000px;contain: style size layout;}.ace_text-layer {font: inherit !important;position: absolute;height: 1000000px;width: 1000000px;contain: style size layout;}.ace_text-layer > .ace_line, .ace_text-layer > .ace_line_group {contain: style size layout;position: absolute;top: 0;left: 0;right: 0;}.ace_hidpi .ace_text-layer,.ace_hidpi .ace_gutter-layer,.ace_hidpi .ace_content,.ace_hidpi .ace_gutter {contain: strict;will-change: transform;}.ace_hidpi .ace_text-layer > .ace_line, .ace_hidpi .ace_text-layer > .ace_line_group {contain: strict;}.ace_cjk {display: inline-block;text-align: center;}.ace_cursor-layer {z-index: 4;}.ace_cursor {z-index: 4;position: absolute;box-sizing: border-box;border-left: 2px solid;transform: translatez(0);}.ace_multiselect .ace_cursor {border-left-width: 1px;}.ace_slim-cursors .ace_cursor {border-left-width: 1px;}.ace_overwrite-cursors .ace_cursor {border-left-width: 0;border-bottom: 1px solid;}.ace_hidden-cursors .ace_cursor {opacity: 0.2;}.ace_hasPlaceholder .ace_hidden-cursors .ace_cursor {opacity: 0;}.ace_smooth-blinking .ace_cursor {transition: opacity 0.18s;}.ace_animate-blinking .ace_cursor {animation-duration: 1000ms;animation-timing-function: step-end;animation-name: blink-ace-animate;animation-iteration-count: infinite;}.ace_animate-blinking.ace_smooth-blinking .ace_cursor {animation-duration: 1000ms;animation-timing-function: ease-in-out;animation-name: blink-ace-animate-smooth;}@keyframes blink-ace-animate {from, to { opacity: 1; }60% { opacity: 0; }}@keyframes blink-ace-animate-smooth {from, to { opacity: 1; }45% { opacity: 1; }60% { opacity: 0; }85% { opacity: 0; }}.ace_marker-layer .ace_step, .ace_marker-layer .ace_stack {position: absolute;z-index: 3;}.ace_marker-layer .ace_selection {position: absolute;z-index: 5;}.ace_marker-layer .ace_bracket {position: absolute;z-index: 6;}.ace_marker-layer .ace_active-line {position: absolute;z-index: 2;}.ace_marker-layer .ace_selected-word {position: absolute;z-index: 4;box-sizing: border-box;}.ace_line .ace_fold {box-sizing: border-box;display: inline-block;height: 11px;margin-top: -2px;vertical-align: middle;background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII="),url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACJJREFUeNpi+P//fxgTAwPDBxDxD078RSX+YeEyDFMCIMAAI3INmXiwf2YAAAAASUVORK5CYII=");background-repeat: no-repeat, repeat-x;background-position: center center, top left;color: transparent;border: 1px solid black;border-radius: 2px;cursor: pointer;pointer-events: auto;}.ace_dark .ace_fold {}.ace_fold:hover{background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII="),url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACBJREFUeNpi+P//fz4TAwPDZxDxD5X4i5fLMEwJgAADAEPVDbjNw87ZAAAAAElFTkSuQmCC");}.ace_tooltip {background-color: #FFF;background-image: linear-gradient(to bottom, transparent, rgba(0, 0, 0, 0.1));border: 1px solid gray;border-radius: 1px;box-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);color: black;max-width: 100%;padding: 3px 4px;position: fixed;z-index: 999999;box-sizing: border-box;cursor: default;white-space: pre;word-wrap: break-word;line-height: normal;font-style: normal;font-weight: normal;letter-spacing: normal;pointer-events: none;}.ace_folding-enabled > .ace_gutter-cell {padding-right: 13px;}.ace_fold-widget {box-sizing: border-box;margin: 0 -12px 0 1px;display: none;width: 11px;vertical-align: top;background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42mWKsQ0AMAzC8ixLlrzQjzmBiEjp0A6WwBCSPgKAXoLkqSot7nN3yMwR7pZ32NzpKkVoDBUxKAAAAABJRU5ErkJggg==");background-repeat: no-repeat;background-position: center;border-radius: 3px;border: 1px solid transparent;cursor: pointer;}.ace_folding-enabled .ace_fold-widget {display: inline-block;   }.ace_fold-widget.ace_end {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42m3HwQkAMAhD0YzsRchFKI7sAikeWkrxwScEB0nh5e7KTPWimZki4tYfVbX+MNl4pyZXejUO1QAAAABJRU5ErkJggg==");}.ace_fold-widget.ace_closed {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAGCAYAAAAG5SQMAAAAOUlEQVR42jXKwQkAMAgDwKwqKD4EwQ26sSOkVWjgIIHAzPiCgaqiqnJHZnKICBERHN194O5b9vbLuAVRL+l0YWnZAAAAAElFTkSuQmCCXA==");}.ace_fold-widget:hover {border: 1px solid rgba(0, 0, 0, 0.3);background-color: rgba(255, 255, 255, 0.2);box-shadow: 0 1px 1px rgba(255, 255, 255, 0.7);}.ace_fold-widget:active {border: 1px solid rgba(0, 0, 0, 0.4);background-color: rgba(0, 0, 0, 0.05);box-shadow: 0 1px 1px rgba(255, 255, 255, 0.8);}.ace_dark .ace_fold-widget {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAHklEQVQIW2P4//8/AzoGEQ7oGCaLLAhWiSwB146BAQCSTPYocqT0AAAAAElFTkSuQmCC");}.ace_dark .ace_fold-widget.ace_end {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAH0lEQVQIW2P4//8/AxQ7wNjIAjDMgC4AxjCVKBirIAAF0kz2rlhxpAAAAABJRU5ErkJggg==");}.ace_dark .ace_fold-widget.ace_closed {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAFCAYAAACAcVaiAAAAHElEQVQIW2P4//+/AxAzgDADlOOAznHAKgPWAwARji8UIDTfQQAAAABJRU5ErkJggg==");}.ace_dark .ace_fold-widget:hover {box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);background-color: rgba(255, 255, 255, 0.1);}.ace_dark .ace_fold-widget:active {box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);}.ace_inline_button {border: 1px solid lightgray;display: inline-block;margin: -1px 8px;padding: 0 5px;pointer-events: auto;cursor: pointer;}.ace_inline_button:hover {border-color: gray;background: rgba(200,200,200,0.2);display: inline-block;pointer-events: auto;}.ace_fold-widget.ace_invalid {background-color: #FFB4B4;border-color: #DE5555;}.ace_fade-fold-widgets .ace_fold-widget {transition: opacity 0.4s ease 0.05s;opacity: 0;}.ace_fade-fold-widgets:hover .ace_fold-widget {transition: opacity 0.05s ease 0.05s;opacity:1;}.ace_underline {text-decoration: underline;}.ace_bold {font-weight: bold;}.ace_nobold .ace_bold {font-weight: normal;}.ace_italic {font-style: italic;}.ace_error-marker {background-color: rgba(255, 0, 0,0.2);position: absolute;z-index: 9;}.ace_highlight-marker {background-color: rgba(255, 255, 0,0.2);position: absolute;z-index: 8;}.ace_mobile-menu {position: absolute;line-height: 1.5;border-radius: 4px;-ms-user-select: none;-moz-user-select: none;-webkit-user-select: none;user-select: none;background: white;box-shadow: 1px 3px 2px grey;border: 1px solid #dcdcdc;color: black;}.ace_dark > .ace_mobile-menu {background: #333;color: #ccc;box-shadow: 1px 3px 2px grey;border: 1px solid #444;}.ace_mobile-button {padding: 2px;cursor: pointer;overflow: hidden;}.ace_mobile-button:hover {background-color: #eee;opacity:1;}.ace_mobile-button:active {background-color: #ddd;}.ace_placeholder {font-family: arial;transform: scale(0.9);opacity: 0.7;transform-origin: left;text-indent: 10px;}`,I=l("./lib/useragent"),F=I.isIE;v.importCssString(C,"ace_editor.css");var M=function(D,B){var j=this;this.container=D||v.createElement("div"),v.addCssClass(this.container,"ace_editor"),v.HI_DPI&&v.addCssClass(this.container,"ace_hidpi"),this.setTheme(B),this.$gutter=v.createElement("div"),this.$gutter.className="ace_gutter",this.container.appendChild(this.$gutter),this.$gutter.setAttribute("aria-hidden",!0),this.scroller=v.createElement("div"),this.scroller.className="ace_scroller",this.container.appendChild(this.scroller),this.content=v.createElement("div"),this.content.className="ace_content",this.scroller.appendChild(this.content),this.$gutterLayer=new _(this.$gutter),this.$gutterLayer.on("changeGutterWidth",this.onGutterResize.bind(this)),this.$markerBack=new g(this.content);var U=this.$textLayer=new y(this.content);this.canvas=U.element,this.$markerFront=new g(this.content),this.$cursorLayer=new u(this.content),this.$horizScroll=!1,this.$vScroll=!1,this.scrollBar=this.scrollBarV=new S(this.container,this),this.scrollBarH=new b(this.container,this),this.scrollBarV.addEventListener("scroll",(function(V){j.$scrollAnimation||j.session.setScrollTop(V.data-j.scrollMargin.top)})),this.scrollBarH.addEventListener("scroll",(function(V){j.$scrollAnimation||j.session.setScrollLeft(V.data-j.scrollMargin.left)})),this.scrollTop=0,this.scrollLeft=0,this.cursorPos={row:0,column:0},this.$fontMetrics=new R(this.container),this.$textLayer.$setFontMetrics(this.$fontMetrics),this.$textLayer.addEventListener("changeCharacterSize",(function(V){j.updateCharacterSize(),j.onResize(!0,j.gutterWidth,j.$size.width,j.$size.height),j._signal("changeCharacterSize",V)})),this.$size={width:0,height:0,scrollerHeight:0,scrollerWidth:0,$dirty:!0},this.layerConfig={width:1,padding:0,firstRow:0,firstRowScreen:0,lastRow:0,lineHeight:0,characterWidth:0,minHeight:1,maxHeight:1,offset:0,height:1,gutterOffset:1},this.scrollMargin={left:0,right:0,top:0,bottom:0,v:0,h:0},this.margin={left:0,right:0,top:0,bottom:0,v:0,h:0},this.$keepTextAreaAtCursor=!I.isIOS,this.$loop=new T(this.$renderChanges.bind(this),this.container.ownerDocument.defaultView),this.$loop.schedule(this.CHANGE_FULL),this.updateCharacterSize(),this.setPadding(4),m.resetOptions(this),m._signal("renderer",this)};(function(){this.CHANGE_CURSOR=1,this.CHANGE_MARKER=2,this.CHANGE_GUTTER=4,this.CHANGE_SCROLL=8,this.CHANGE_LINES=16,this.CHANGE_TEXT=32,this.CHANGE_SIZE=64,this.CHANGE_MARKER_BACK=128,this.CHANGE_MARKER_FRONT=256,this.CHANGE_FULL=512,this.CHANGE_H_SCROLL=1024,h.implement(this,O),this.updateCharacterSize=function(){this.$textLayer.allowBoldFonts!=this.$allowBoldFonts&&(this.$allowBoldFonts=this.$textLayer.allowBoldFonts,this.setStyle("ace_nobold",!this.$allowBoldFonts)),this.layerConfig.characterWidth=this.characterWidth=this.$textLayer.getCharacterWidth(),this.layerConfig.lineHeight=this.lineHeight=this.$textLayer.getLineHeight(),this.$updatePrintMargin(),v.setStyle(this.scroller.style,"line-height",this.lineHeight+"px")},this.setSession=function(D){this.session&&this.session.doc.off("changeNewLineMode",this.onChangeNewLineMode),this.session=D,D&&this.scrollMargin.top&&D.getScrollTop()<=0&&D.setScrollTop(-this.scrollMargin.top),this.$cursorLayer.setSession(D),this.$markerBack.setSession(D),this.$markerFront.setSession(D),this.$gutterLayer.setSession(D),this.$textLayer.setSession(D),D&&(this.$loop.schedule(this.CHANGE_FULL),this.session.$setFontMetrics(this.$fontMetrics),this.scrollBarH.scrollLeft=this.scrollBarV.scrollTop=null,this.onChangeNewLineMode=this.onChangeNewLineMode.bind(this),this.onChangeNewLineMode(),this.session.doc.on("changeNewLineMode",this.onChangeNewLineMode))},this.updateLines=function(D,B,j){if(B===void 0&&(B=1/0),this.$changedLines?(this.$changedLines.firstRow>D&&(this.$changedLines.firstRow=D),this.$changedLines.lastRow<B&&(this.$changedLines.lastRow=B)):this.$changedLines={firstRow:D,lastRow:B},this.$changedLines.lastRow<this.layerConfig.firstRow){if(!j)return;this.$changedLines.lastRow=this.layerConfig.lastRow}this.$changedLines.firstRow>this.layerConfig.lastRow||this.$loop.schedule(this.CHANGE_LINES)},this.onChangeNewLineMode=function(){this.$loop.schedule(this.CHANGE_TEXT),this.$textLayer.$updateEolChar(),this.session.$bidiHandler.setEolChar(this.$textLayer.EOL_CHAR)},this.onChangeTabSize=function(){this.$loop.schedule(this.CHANGE_TEXT|this.CHANGE_MARKER),this.$textLayer.onChangeTabSize()},this.updateText=function(){this.$loop.schedule(this.CHANGE_TEXT)},this.updateFull=function(D){D?this.$renderChanges(this.CHANGE_FULL,!0):this.$loop.schedule(this.CHANGE_FULL)},this.updateFontSize=function(){this.$textLayer.checkForSizeChanges()},this.$changes=0,this.$updateSizeAsync=function(){this.$loop.pending?this.$size.$dirty=!0:this.onResize()},this.onResize=function(D,B,j,U){if(!(this.resizing>2)){this.resizing>0?this.resizing++:this.resizing=D?1:0;var V=this.container;U||(U=V.clientHeight||V.scrollHeight),j||(j=V.clientWidth||V.scrollWidth);var k=this.$updateCachedSize(D,B,j,U);if(!this.$size.scrollerHeight||!j&&!U)return this.resizing=0;D&&(this.$gutterLayer.$padding=null),D?this.$renderChanges(k|this.$changes,!0):this.$loop.schedule(k|this.$changes),this.resizing&&(this.resizing=0),this.scrollBarV.scrollLeft=this.scrollBarV.scrollTop=null}},this.$updateCachedSize=function(D,B,j,U){U-=this.$extraHeight||0;var V=0,k=this.$size,Z={width:k.width,height:k.height,scrollerHeight:k.scrollerHeight,scrollerWidth:k.scrollerWidth};if(U&&(D||k.height!=U)&&(k.height=U,V|=this.CHANGE_SIZE,k.scrollerHeight=k.height,this.$horizScroll&&(k.scrollerHeight-=this.scrollBarH.getHeight()),this.scrollBarV.element.style.bottom=this.scrollBarH.getHeight()+"px",V|=this.CHANGE_SCROLL),j&&(D||k.width!=j)){V|=this.CHANGE_SIZE,k.width=j,B==null&&(B=this.$showGutter?this.$gutter.offsetWidth:0),this.gutterWidth=B,v.setStyle(this.scrollBarH.element.style,"left",B+"px"),v.setStyle(this.scroller.style,"left",B+this.margin.left+"px"),k.scrollerWidth=Math.max(0,j-B-this.scrollBarV.getWidth()-this.margin.h),v.setStyle(this.$gutter.style,"left",this.margin.left+"px");var ee=this.scrollBarV.getWidth()+"px";v.setStyle(this.scrollBarH.element.style,"right",ee),v.setStyle(this.scroller.style,"right",ee),v.setStyle(this.scroller.style,"bottom",this.scrollBarH.getHeight()),(this.session&&this.session.getUseWrapMode()&&this.adjustWrapLimit()||D)&&(V|=this.CHANGE_FULL)}return k.$dirty=!j||!U,V&&this._signal("resize",Z),V},this.onGutterResize=function(D){var B=this.$showGutter?D:0;B!=this.gutterWidth&&(this.$changes|=this.$updateCachedSize(!0,B,this.$size.width,this.$size.height)),this.session.getUseWrapMode()&&this.adjustWrapLimit()||this.$size.$dirty?this.$loop.schedule(this.CHANGE_FULL):this.$computeLayerConfig()},this.adjustWrapLimit=function(){var D=this.$size.scrollerWidth-2*this.$padding,B=Math.floor(D/this.characterWidth);return this.session.adjustWrapLimit(B,this.$showPrintMargin&&this.$printMarginColumn)},this.setAnimatedScroll=function(D){this.setOption("animatedScroll",D)},this.getAnimatedScroll=function(){return this.$animatedScroll},this.setShowInvisibles=function(D){this.setOption("showInvisibles",D),this.session.$bidiHandler.setShowInvisibles(D)},this.getShowInvisibles=function(){return this.getOption("showInvisibles")},this.getDisplayIndentGuides=function(){return this.getOption("displayIndentGuides")},this.setDisplayIndentGuides=function(D){this.setOption("displayIndentGuides",D)},this.setShowPrintMargin=function(D){this.setOption("showPrintMargin",D)},this.getShowPrintMargin=function(){return this.getOption("showPrintMargin")},this.setPrintMarginColumn=function(D){this.setOption("printMarginColumn",D)},this.getPrintMarginColumn=function(){return this.getOption("printMarginColumn")},this.getShowGutter=function(){return this.getOption("showGutter")},this.setShowGutter=function(D){return this.setOption("showGutter",D)},this.getFadeFoldWidgets=function(){return this.getOption("fadeFoldWidgets")},this.setFadeFoldWidgets=function(D){this.setOption("fadeFoldWidgets",D)},this.setHighlightGutterLine=function(D){this.setOption("highlightGutterLine",D)},this.getHighlightGutterLine=function(){return this.getOption("highlightGutterLine")},this.$updatePrintMargin=function(){if(this.$showPrintMargin||this.$printMarginEl){if(!this.$printMarginEl){var D=v.createElement("div");D.className="ace_layer ace_print-margin-layer",this.$printMarginEl=v.createElement("div"),this.$printMarginEl.className="ace_print-margin",D.appendChild(this.$printMarginEl),this.content.insertBefore(D,this.content.firstChild)}var B=this.$printMarginEl.style;B.left=Math.round(this.characterWidth*this.$printMarginColumn+this.$padding)+"px",B.visibility=this.$showPrintMargin?"visible":"hidden",this.session&&this.session.$wrap==-1&&this.adjustWrapLimit()}},this.getContainerElement=function(){return this.container},this.getMouseEventTarget=function(){return this.scroller},this.getTextAreaContainer=function(){return this.container},this.$moveTextAreaToCursor=function(){if(!this.$isMousePressed){var D=this.textarea.style,B=this.$composition;if(this.$keepTextAreaAtCursor||B){var j=this.$cursorLayer.$pixelPos;if(j){B&&B.markerRange&&(j=this.$cursorLayer.getPixelPosition(B.markerRange.start,!0));var U=this.layerConfig,V=j.top,k=j.left;V-=U.offset;var Z=B&&B.useTextareaForIME?this.lineHeight:F?0:1;if(V<0||V>U.height-Z)v.translate(this.textarea,0,0);else{var ee=1,oe=this.$size.height-Z;if(B)if(B.useTextareaForIME){var ne=this.textarea.value;ee=this.characterWidth*this.session.$getStringScreenWidth(ne)[0]}else V+=this.lineHeight+2;else V+=this.lineHeight;(k-=this.scrollLeft)>this.$size.scrollerWidth-ee&&(k=this.$size.scrollerWidth-ee),k+=this.gutterWidth+this.margin.left,v.setStyle(D,"height",Z+"px"),v.setStyle(D,"width",ee+"px"),v.translate(this.textarea,Math.min(k,this.$size.scrollerWidth-ee),Math.min(V,oe))}}}else v.translate(this.textarea,-100,0)}},this.getFirstVisibleRow=function(){return this.layerConfig.firstRow},this.getFirstFullyVisibleRow=function(){return this.layerConfig.firstRow+(this.layerConfig.offset===0?0:1)},this.getLastFullyVisibleRow=function(){var D=this.layerConfig,B=D.lastRow;return this.session.documentToScreenRow(B,0)*D.lineHeight-this.session.getScrollTop()>D.height-D.lineHeight?B-1:B},this.getLastVisibleRow=function(){return this.layerConfig.lastRow},this.$padding=null,this.setPadding=function(D){this.$padding=D,this.$textLayer.setPadding(D),this.$cursorLayer.setPadding(D),this.$markerFront.setPadding(D),this.$markerBack.setPadding(D),this.$loop.schedule(this.CHANGE_FULL),this.$updatePrintMargin()},this.setScrollMargin=function(D,B,j,U){var V=this.scrollMargin;V.top=0|D,V.bottom=0|B,V.right=0|U,V.left=0|j,V.v=V.top+V.bottom,V.h=V.left+V.right,V.top&&this.scrollTop<=0&&this.session&&this.session.setScrollTop(-V.top),this.updateFull()},this.setMargin=function(D,B,j,U){var V=this.margin;V.top=0|D,V.bottom=0|B,V.right=0|U,V.left=0|j,V.v=V.top+V.bottom,V.h=V.left+V.right,this.$updateCachedSize(!0,this.gutterWidth,this.$size.width,this.$size.height),this.updateFull()},this.getHScrollBarAlwaysVisible=function(){return this.$hScrollBarAlwaysVisible},this.setHScrollBarAlwaysVisible=function(D){this.setOption("hScrollBarAlwaysVisible",D)},this.getVScrollBarAlwaysVisible=function(){return this.$vScrollBarAlwaysVisible},this.setVScrollBarAlwaysVisible=function(D){this.setOption("vScrollBarAlwaysVisible",D)},this.$updateScrollBarV=function(){var D=this.layerConfig.maxHeight,B=this.$size.scrollerHeight;!this.$maxLines&&this.$scrollPastEnd&&(D-=(B-this.lineHeight)*this.$scrollPastEnd,this.scrollTop>D-B&&(D=this.scrollTop+B,this.scrollBarV.scrollTop=null)),this.scrollBarV.setScrollHeight(D+this.scrollMargin.v),this.scrollBarV.setScrollTop(this.scrollTop+this.scrollMargin.top)},this.$updateScrollBarH=function(){this.scrollBarH.setScrollWidth(this.layerConfig.width+2*this.$padding+this.scrollMargin.h),this.scrollBarH.setScrollLeft(this.scrollLeft+this.scrollMargin.left)},this.$frozen=!1,this.freeze=function(){this.$frozen=!0},this.unfreeze=function(){this.$frozen=!1},this.$renderChanges=function(D,B){if(this.$changes&&(D|=this.$changes,this.$changes=0),this.session&&this.container.offsetWidth&&!this.$frozen&&(D||B)){if(this.$size.$dirty)return this.$changes|=D,this.onResize(!0);this.lineHeight||this.$textLayer.checkForSizeChanges(),this._signal("beforeRender"),this.session&&this.session.$bidiHandler&&this.session.$bidiHandler.updateCharacterWidths(this.$fontMetrics);var j=this.layerConfig;if(D&this.CHANGE_FULL||D&this.CHANGE_SIZE||D&this.CHANGE_TEXT||D&this.CHANGE_LINES||D&this.CHANGE_SCROLL||D&this.CHANGE_H_SCROLL){if(D|=this.$computeLayerConfig()|this.$loop.clear(),j.firstRow!=this.layerConfig.firstRow&&j.firstRowScreen==this.layerConfig.firstRowScreen){var U=this.scrollTop+(j.firstRow-this.layerConfig.firstRow)*this.lineHeight;U>0&&(this.scrollTop=U,D|=this.CHANGE_SCROLL,D|=this.$computeLayerConfig()|this.$loop.clear())}j=this.layerConfig,this.$updateScrollBarV(),D&this.CHANGE_H_SCROLL&&this.$updateScrollBarH(),v.translate(this.content,-this.scrollLeft,-j.offset);var V=j.width+2*this.$padding+"px",k=j.minHeight+"px";v.setStyle(this.content.style,"width",V),v.setStyle(this.content.style,"height",k)}if(D&this.CHANGE_H_SCROLL&&(v.translate(this.content,-this.scrollLeft,-j.offset),this.scroller.className=this.scrollLeft<=0?"ace_scroller":"ace_scroller ace_scroll-left"),D&this.CHANGE_FULL)return this.$changedLines=null,this.$textLayer.update(j),this.$showGutter&&this.$gutterLayer.update(j),this.$markerBack.update(j),this.$markerFront.update(j),this.$cursorLayer.update(j),this.$moveTextAreaToCursor(),void this._signal("afterRender");if(D&this.CHANGE_SCROLL)return this.$changedLines=null,D&this.CHANGE_TEXT||D&this.CHANGE_LINES?this.$textLayer.update(j):this.$textLayer.scrollLines(j),this.$showGutter&&(D&this.CHANGE_GUTTER||D&this.CHANGE_LINES?this.$gutterLayer.update(j):this.$gutterLayer.scrollLines(j)),this.$markerBack.update(j),this.$markerFront.update(j),this.$cursorLayer.update(j),this.$moveTextAreaToCursor(),void this._signal("afterRender");D&this.CHANGE_TEXT?(this.$changedLines=null,this.$textLayer.update(j),this.$showGutter&&this.$gutterLayer.update(j)):D&this.CHANGE_LINES?(this.$updateLines()||D&this.CHANGE_GUTTER&&this.$showGutter)&&this.$gutterLayer.update(j):D&this.CHANGE_TEXT||D&this.CHANGE_GUTTER?this.$showGutter&&this.$gutterLayer.update(j):D&this.CHANGE_CURSOR&&this.$highlightGutterLine&&this.$gutterLayer.updateLineHighlight(j),D&this.CHANGE_CURSOR&&(this.$cursorLayer.update(j),this.$moveTextAreaToCursor()),D&(this.CHANGE_MARKER|this.CHANGE_MARKER_FRONT)&&this.$markerFront.update(j),D&(this.CHANGE_MARKER|this.CHANGE_MARKER_BACK)&&this.$markerBack.update(j),this._signal("afterRender")}else this.$changes|=D},this.$autosize=function(){var D=this.session.getScreenLength()*this.lineHeight,B=this.$maxLines*this.lineHeight,j=Math.min(B,Math.max((this.$minLines||1)*this.lineHeight,D))+this.scrollMargin.v+(this.$extraHeight||0);this.$horizScroll&&(j+=this.scrollBarH.getHeight()),this.$maxPixelHeight&&j>this.$maxPixelHeight&&(j=this.$maxPixelHeight);var U=!(j<=2*this.lineHeight)&&D>B;if(j!=this.desiredHeight||this.$size.height!=this.desiredHeight||U!=this.$vScroll){U!=this.$vScroll&&(this.$vScroll=U,this.scrollBarV.setVisible(U));var V=this.container.clientWidth;this.container.style.height=j+"px",this.$updateCachedSize(!0,this.$gutterWidth,V,j),this.desiredHeight=j,this._signal("autosize")}},this.$computeLayerConfig=function(){var D=this.session,B=this.$size,j=B.height<=2*this.lineHeight,U=this.session.getScreenLength()*this.lineHeight,V=this.$getLongestLine(),k=!j&&(this.$hScrollBarAlwaysVisible||B.scrollerWidth-V-2*this.$padding<0),Z=this.$horizScroll!==k;Z&&(this.$horizScroll=k,this.scrollBarH.setVisible(k));var ee=this.$vScroll;this.$maxLines&&this.lineHeight>1&&this.$autosize();var oe=B.scrollerHeight+this.lineHeight,ne=!this.$maxLines&&this.$scrollPastEnd?(B.scrollerHeight-this.lineHeight)*this.$scrollPastEnd:0;U+=ne;var ie=this.scrollMargin;this.session.setScrollTop(Math.max(-ie.top,Math.min(this.scrollTop,U-B.scrollerHeight+ie.bottom))),this.session.setScrollLeft(Math.max(-ie.left,Math.min(this.scrollLeft,V+2*this.$padding-B.scrollerWidth+ie.right)));var he=!j&&(this.$vScrollBarAlwaysVisible||B.scrollerHeight-U+ne<0||this.scrollTop>ie.top),fe=ee!==he;fe&&(this.$vScroll=he,this.scrollBarV.setVisible(he));var ce,ae,ve=this.scrollTop%this.lineHeight,_e=Math.ceil(oe/this.lineHeight)-1,Te=Math.max(0,Math.round((this.scrollTop-ve)/this.lineHeight)),Fe=Te+_e,We=this.lineHeight;Te=D.screenToDocumentRow(Te,0);var ht=D.getFoldLine(Te);ht&&(Te=ht.start.row),ce=D.documentToScreenRow(Te,0),ae=D.getRowLength(Te)*We,Fe=Math.min(D.screenToDocumentRow(Fe,0),D.getLength()-1),oe=B.scrollerHeight+D.getRowLength(Fe)*We+ae,ve=this.scrollTop-ce*We;var ft=0;return(this.layerConfig.width!=V||Z)&&(ft=this.CHANGE_H_SCROLL),(Z||fe)&&(ft|=this.$updateCachedSize(!0,this.gutterWidth,B.width,B.height),this._signal("scrollbarVisibilityChanged"),fe&&(V=this.$getLongestLine())),this.layerConfig={width:V,padding:this.$padding,firstRow:Te,firstRowScreen:ce,lastRow:Fe,lineHeight:We,characterWidth:this.characterWidth,minHeight:oe,maxHeight:U,offset:ve,gutterOffset:We?Math.max(0,Math.ceil((ve+B.height-B.scrollerHeight)/We)):0,height:this.$size.scrollerHeight},this.session.$bidiHandler&&this.session.$bidiHandler.setContentWidth(V-this.$padding),ft},this.$updateLines=function(){if(this.$changedLines){var D=this.$changedLines.firstRow,B=this.$changedLines.lastRow;this.$changedLines=null;var j=this.layerConfig;if(!(D>j.lastRow+1||B<j.firstRow))return B===1/0?(this.$showGutter&&this.$gutterLayer.update(j),void this.$textLayer.update(j)):(this.$textLayer.updateLines(j,D,B),!0)}},this.$getLongestLine=function(){var D=this.session.getScreenWidth();return this.showInvisibles&&!this.session.$useWrapMode&&(D+=1),this.$textLayer&&D>this.$textLayer.MAX_LINE_LENGTH&&(D=this.$textLayer.MAX_LINE_LENGTH+30),Math.max(this.$size.scrollerWidth-2*this.$padding,Math.round(D*this.characterWidth))},this.updateFrontMarkers=function(){this.$markerFront.setMarkers(this.session.getMarkers(!0)),this.$loop.schedule(this.CHANGE_MARKER_FRONT)},this.updateBackMarkers=function(){this.$markerBack.setMarkers(this.session.getMarkers()),this.$loop.schedule(this.CHANGE_MARKER_BACK)},this.addGutterDecoration=function(D,B){this.$gutterLayer.addGutterDecoration(D,B)},this.removeGutterDecoration=function(D,B){this.$gutterLayer.removeGutterDecoration(D,B)},this.updateBreakpoints=function(D){this.$loop.schedule(this.CHANGE_GUTTER)},this.setAnnotations=function(D){this.$gutterLayer.setAnnotations(D),this.$loop.schedule(this.CHANGE_GUTTER)},this.updateCursor=function(){this.$loop.schedule(this.CHANGE_CURSOR)},this.hideCursor=function(){this.$cursorLayer.hideCursor()},this.showCursor=function(){this.$cursorLayer.showCursor()},this.scrollSelectionIntoView=function(D,B,j){this.scrollCursorIntoView(D,j),this.scrollCursorIntoView(B,j)},this.scrollCursorIntoView=function(D,B,j){if(this.$size.scrollerHeight!==0){var U=this.$cursorLayer.getPixelPosition(D),V=U.left,k=U.top,Z=j&&j.top||0,ee=j&&j.bottom||0,oe=this.$scrollAnimation?this.session.getScrollTop():this.scrollTop;oe+Z>k?(B&&oe+Z>k+this.lineHeight&&(k-=B*this.$size.scrollerHeight),k===0&&(k=-this.scrollMargin.top),this.session.setScrollTop(k)):oe+this.$size.scrollerHeight-ee<k+this.lineHeight&&(B&&oe+this.$size.scrollerHeight-ee<k-this.lineHeight&&(k+=B*this.$size.scrollerHeight),this.session.setScrollTop(k+this.lineHeight+ee-this.$size.scrollerHeight));var ne=this.scrollLeft;ne>V?(V<this.$padding+2*this.layerConfig.characterWidth&&(V=-this.scrollMargin.left),this.session.setScrollLeft(V)):ne+this.$size.scrollerWidth<V+this.characterWidth?this.session.setScrollLeft(Math.round(V+this.characterWidth-this.$size.scrollerWidth)):ne<=this.$padding&&V-ne<this.characterWidth&&this.session.setScrollLeft(0)}},this.getScrollTop=function(){return this.session.getScrollTop()},this.getScrollLeft=function(){return this.session.getScrollLeft()},this.getScrollTopRow=function(){return this.scrollTop/this.lineHeight},this.getScrollBottomRow=function(){return Math.max(0,Math.floor((this.scrollTop+this.$size.scrollerHeight)/this.lineHeight)-1)},this.scrollToRow=function(D){this.session.setScrollTop(D*this.lineHeight)},this.alignCursor=function(D,B){typeof D=="number"&&(D={row:D,column:0});var j=this.$cursorLayer.getPixelPosition(D),U=this.$size.scrollerHeight-this.lineHeight,V=j.top-U*(B||0);return this.session.setScrollTop(V),V},this.STEPS=8,this.$calcSteps=function(D,B){var j,U,V=0,k=this.STEPS,Z=[];for(V=0;V<k;++V)Z.push((j=V/this.STEPS,U=D,(B-D)*(Math.pow(j-1,3)+1)+U));return Z},this.scrollToLine=function(D,B,j,U){var V=this.$cursorLayer.getPixelPosition({row:D,column:0}).top;B&&(V-=this.$size.scrollerHeight/2);var k=this.scrollTop;this.session.setScrollTop(V),j!==!1&&this.animateScrolling(k,U)},this.animateScrolling=function(D,B){var j=this.scrollTop;if(this.$animatedScroll){var U=this;if(D!=j){if(this.$scrollAnimation){var V=this.$scrollAnimation.steps;if(V.length&&(D=V[0])==j)return}var k=U.$calcSteps(D,j);this.$scrollAnimation={from:D,to:j,steps:k},clearInterval(this.$timer),U.session.setScrollTop(k.shift()),U.session.$scrollTop=j,this.$timer=setInterval((function(){k.length?(U.session.setScrollTop(k.shift()),U.session.$scrollTop=j):j!=null?(U.session.$scrollTop=-1,U.session.setScrollTop(j),j=null):(U.$timer=clearInterval(U.$timer),U.$scrollAnimation=null,B&&B())}),10)}}},this.scrollToY=function(D){this.scrollTop!==D&&(this.$loop.schedule(this.CHANGE_SCROLL),this.scrollTop=D)},this.scrollToX=function(D){this.scrollLeft!==D&&(this.scrollLeft=D),this.$loop.schedule(this.CHANGE_H_SCROLL)},this.scrollTo=function(D,B){this.session.setScrollTop(B),this.session.setScrollLeft(B)},this.scrollBy=function(D,B){B&&this.session.setScrollTop(this.session.getScrollTop()+B),D&&this.session.setScrollLeft(this.session.getScrollLeft()+D)},this.isScrollableBy=function(D,B){return B<0&&this.session.getScrollTop()>=1-this.scrollMargin.top||B>0&&this.session.getScrollTop()+this.$size.scrollerHeight-this.layerConfig.maxHeight<-1+this.scrollMargin.bottom||D<0&&this.session.getScrollLeft()>=1-this.scrollMargin.left||D>0&&this.session.getScrollLeft()+this.$size.scrollerWidth-this.layerConfig.width<-1+this.scrollMargin.right||void 0},this.pixelToScreenCoordinates=function(D,B){var j;if(this.$hasCssTransforms){j={top:0,left:0};var U=this.$fontMetrics.transformCoordinates([D,B]);D=U[1]-this.gutterWidth-this.margin.left,B=U[0]}else j=this.scroller.getBoundingClientRect();var V=D+this.scrollLeft-j.left-this.$padding,k=V/this.characterWidth,Z=Math.floor((B+this.scrollTop-j.top)/this.lineHeight),ee=this.$blockCursor?Math.floor(k):Math.round(k);return{row:Z,column:ee,side:k-ee>0?1:-1,offsetX:V}},this.screenToTextCoordinates=function(D,B){var j;if(this.$hasCssTransforms){j={top:0,left:0};var U=this.$fontMetrics.transformCoordinates([D,B]);D=U[1]-this.gutterWidth-this.margin.left,B=U[0]}else j=this.scroller.getBoundingClientRect();var V=D+this.scrollLeft-j.left-this.$padding,k=V/this.characterWidth,Z=this.$blockCursor?Math.floor(k):Math.round(k),ee=Math.floor((B+this.scrollTop-j.top)/this.lineHeight);return this.session.screenToDocumentPosition(ee,Math.max(Z,0),V)},this.textToScreenCoordinates=function(D,B){var j=this.scroller.getBoundingClientRect(),U=this.session.documentToScreenPosition(D,B),V=this.$padding+(this.session.$bidiHandler.isBidiRow(U.row,D)?this.session.$bidiHandler.getPosLeft(U.column):Math.round(U.column*this.characterWidth)),k=U.row*this.lineHeight;return{pageX:j.left+V-this.scrollLeft,pageY:j.top+k-this.scrollTop}},this.visualizeFocus=function(){v.addCssClass(this.container,"ace_focus")},this.visualizeBlur=function(){v.removeCssClass(this.container,"ace_focus")},this.showComposition=function(D){this.$composition=D,D.cssText||(D.cssText=this.textarea.style.cssText),D.useTextareaForIME=this.$useTextareaForIME,this.$useTextareaForIME?(v.addCssClass(this.textarea,"ace_composition"),this.textarea.style.cssText="",this.$moveTextAreaToCursor(),this.$cursorLayer.element.style.display="none"):D.markerId=this.session.addMarker(D.markerRange,"ace_composition_marker","text")},this.setCompositionText=function(D){var B=this.session.selection.cursor;this.addToken(D,"composition_placeholder",B.row,B.column),this.$moveTextAreaToCursor()},this.hideComposition=function(){this.$composition&&(this.$composition.markerId&&this.session.removeMarker(this.$composition.markerId),v.removeCssClass(this.textarea,"ace_composition"),this.textarea.style.cssText=this.$composition.cssText,this.$composition=null,this.$cursorLayer.element.style.display="")},this.addToken=function(D,B,j,U){var V=this.session;V.bgTokenizer.lines[j]=null;var k={type:B,value:D},Z=V.getTokens(j);if(U==null)Z.push(k);else for(var ee=0,oe=0;oe<Z.length;oe++){var ne=Z[oe];if(U<=(ee+=ne.value.length)){var ie=ne.value.length-(ee-U),he=ne.value.slice(0,ie),fe=ne.value.slice(ie);Z.splice(oe,1,{type:ne.type,value:he},k,{type:ne.type,value:fe});break}}this.updateLines(j,j)},this.setTheme=function(D,B){var j=this;if(this.$themeId=D,j._dispatchEvent("themeChange",{theme:D}),D&&typeof D!="string")V(D);else{var U=D||this.$options.theme.initialValue;m.loadModule(["theme",U],V)}function V(k){if(j.$themeId!=D)return B&&B();if(!k||!k.cssClass)throw new Error("couldn't load module "+D+" or it didn't call define");k.$id&&(j.$themeId=k.$id),v.importCssString(k.cssText,k.cssClass,j.container),j.theme&&v.removeCssClass(j.container,j.theme.cssClass);var Z="padding"in k?k.padding:"padding"in(j.theme||{})?4:j.$padding;j.$padding&&Z!=j.$padding&&j.setPadding(Z),j.$theme=k.cssClass,j.theme=k,v.addCssClass(j.container,k.cssClass),v.setCssClass(j.container,"ace_dark",k.isDark),j.$size&&(j.$size.width=0,j.$updateSizeAsync()),j._dispatchEvent("themeLoaded",{theme:k}),B&&B()}},this.getTheme=function(){return this.$themeId},this.setStyle=function(D,B){v.setCssClass(this.container,D,B!==!1)},this.unsetStyle=function(D){v.removeCssClass(this.container,D)},this.setCursorStyle=function(D){v.setStyle(this.scroller.style,"cursor",D)},this.setMouseCursor=function(D){v.setStyle(this.scroller.style,"cursor",D)},this.attachToShadowRoot=function(){v.importCssString(C,"ace_editor.css",this.container)},this.destroy=function(){this.freeze(),this.$fontMetrics.destroy(),this.$cursorLayer.destroy()}}).call(M.prototype),m.defineOptions(M.prototype,"renderer",{animatedScroll:{initialValue:!1},showInvisibles:{set:function(D){this.$textLayer.setShowInvisibles(D)&&this.$loop.schedule(this.CHANGE_TEXT)},initialValue:!1},showPrintMargin:{set:function(){this.$updatePrintMargin()},initialValue:!0},printMarginColumn:{set:function(){this.$updatePrintMargin()},initialValue:80},printMargin:{set:function(D){typeof D=="number"&&(this.$printMarginColumn=D),this.$showPrintMargin=!!D,this.$updatePrintMargin()},get:function(){return this.$showPrintMargin&&this.$printMarginColumn}},showGutter:{set:function(D){this.$gutter.style.display=D?"block":"none",this.$loop.schedule(this.CHANGE_FULL),this.onGutterResize()},initialValue:!0},fadeFoldWidgets:{set:function(D){v.setCssClass(this.$gutter,"ace_fade-fold-widgets",D)},initialValue:!1},showFoldWidgets:{set:function(D){this.$gutterLayer.setShowFoldWidgets(D),this.$loop.schedule(this.CHANGE_GUTTER)},initialValue:!0},displayIndentGuides:{set:function(D){this.$textLayer.setDisplayIndentGuides(D)&&this.$loop.schedule(this.CHANGE_TEXT)},initialValue:!0},highlightGutterLine:{set:function(D){this.$gutterLayer.setHighlightGutterLine(D),this.$loop.schedule(this.CHANGE_GUTTER)},initialValue:!0},hScrollBarAlwaysVisible:{set:function(D){this.$hScrollBarAlwaysVisible&&this.$horizScroll||this.$loop.schedule(this.CHANGE_SCROLL)},initialValue:!1},vScrollBarAlwaysVisible:{set:function(D){this.$vScrollBarAlwaysVisible&&this.$vScroll||this.$loop.schedule(this.CHANGE_SCROLL)},initialValue:!1},fontSize:{set:function(D){typeof D=="number"&&(D+="px"),this.container.style.fontSize=D,this.updateFontSize()},initialValue:12},fontFamily:{set:function(D){this.container.style.fontFamily=D,this.updateFontSize()}},maxLines:{set:function(D){this.updateFull()}},minLines:{set:function(D){this.$minLines<562949953421311||(this.$minLines=0),this.updateFull()}},maxPixelHeight:{set:function(D){this.updateFull()},initialValue:0},scrollPastEnd:{set:function(D){D=+D||0,this.$scrollPastEnd!=D&&(this.$scrollPastEnd=D,this.$loop.schedule(this.CHANGE_SCROLL))},initialValue:0,handlesSet:!0},fixedWidthGutter:{set:function(D){this.$gutterLayer.$fixedWidth=!!D,this.$loop.schedule(this.CHANGE_GUTTER)}},theme:{set:function(D){this.setTheme(D)},get:function(){return this.$themeId||this.theme},initialValue:"./theme/textmate",handlesSet:!0},hasCssTransforms:{},useTextareaForIME:{initialValue:!I.isMobile&&!I.isIE}}),c.VirtualRenderer=M})),ace.define("ace/worker/worker_client",["require","exports","module","ace/lib/oop","ace/lib/net","ace/lib/event_emitter","ace/config"],(function(l,c,f){var h=l("../lib/oop"),v=l("../lib/net"),m=l("../lib/event_emitter").EventEmitter,_=l("../config");function g(u){if(typeof Worker>"u")return{postMessage:function(){},terminate:function(){}};if(_.get("loadWorkerFromBlob")){var b=(function(T){var R="importScripts('"+v.qualifyURL(T)+"');";try{return new Blob([R],{type:"application/javascript"})}catch{var O=new(window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder);return O.append(R),O.getBlob("application/javascript")}})(u),S=(window.URL||window.webkitURL).createObjectURL(b);return new Worker(S)}return new Worker(u)}var y=function(u){u.postMessage||(u=this.$createWorkerFromOldConfig.apply(this,arguments)),this.$worker=u,this.$sendDeltaQueue=this.$sendDeltaQueue.bind(this),this.changeListener=this.changeListener.bind(this),this.onMessage=this.onMessage.bind(this),this.callbackId=1,this.callbacks={},this.$worker.onmessage=this.onMessage};(function(){h.implement(this,m),this.$createWorkerFromOldConfig=function(u,b,S,T,R){if(l.nameToUrl&&!l.toUrl&&(l.toUrl=l.nameToUrl),_.get("packaged")||!l.toUrl)T=T||_.moduleUrl(b,"worker");else{var O=this.$normalizePath;T=T||O(l.toUrl("ace/worker/worker.js",null,"_"));var C={};u.forEach((function(I){C[I]=O(l.toUrl(I,null,"_").replace(/(\.js)?(\?.*)?$/,""))}))}return this.$worker=g(T),R&&this.send("importScripts",R),this.$worker.postMessage({init:!0,tlns:C,module:b,classname:S}),this.$worker},this.onMessage=function(u){var b=u.data;switch(b.type){case"event":this._signal(b.name,{data:b.data});break;case"call":var S=this.callbacks[b.id];S&&(S(b.data),delete this.callbacks[b.id]);break;case"error":this.reportError(b.data);break;case"log":window.console&&console.log&&console.log.apply(console,b.data)}},this.reportError=function(u){window.console&&console.error&&console.error(u)},this.$normalizePath=function(u){return v.qualifyURL(u)},this.terminate=function(){this._signal("terminate",{}),this.deltaQueue=null,this.$worker.terminate(),this.$worker=null,this.$doc&&this.$doc.off("change",this.changeListener),this.$doc=null},this.send=function(u,b){this.$worker.postMessage({command:u,args:b})},this.call=function(u,b,S){if(S){var T=this.callbackId++;this.callbacks[T]=S,b.push(T)}this.send(u,b)},this.emit=function(u,b){try{b.data&&b.data.err&&(b.data.err={message:b.data.err.message,stack:b.data.err.stack,code:b.data.err.code}),this.$worker.postMessage({event:u,data:{data:b.data}})}catch(S){console.error(S.stack)}},this.attachToDocument=function(u){this.$doc&&this.terminate(),this.$doc=u,this.call("setValue",[u.getValue()]),u.on("change",this.changeListener)},this.changeListener=function(u){this.deltaQueue||(this.deltaQueue=[],setTimeout(this.$sendDeltaQueue,0)),u.action=="insert"?this.deltaQueue.push(u.start,u.lines):this.deltaQueue.push(u.start,u.end)},this.$sendDeltaQueue=function(){var u=this.deltaQueue;u&&(this.deltaQueue=null,u.length>50&&u.length>this.$doc.getLength()>>1?this.call("setValue",[this.$doc.getValue()]):this.emit("change",{data:u}))}}).call(y.prototype),c.UIWorkerClient=function(u,b,S){var T=null,R=!1,O=Object.create(m),C=[],I=new y({messageBuffer:C,terminate:function(){},postMessage:function(M){C.push(M),T&&(R?setTimeout(F):F())}});I.setEmitSync=function(M){R=M};var F=function(){var M=C.shift();M.command?T[M.command].apply(T,M.args):M.event&&O._signal(M.event,M.data)};return O.postMessage=function(M){I.onMessage({data:M})},O.callback=function(M,D){this.postMessage({type:"call",id:D,data:M})},O.emit=function(M,D){this.postMessage({type:"event",name:M,data:D})},_.loadModule(["worker",b],(function(M){for(T=new M[S](O);C.length;)F()})),I},c.WorkerClient=y,c.createWorker=g})),ace.define("ace/placeholder",["require","exports","module","ace/range","ace/lib/event_emitter","ace/lib/oop"],(function(l,c,f){var h=l("./range").Range,v=l("./lib/event_emitter").EventEmitter,m=l("./lib/oop"),_=function(g,y,u,b,S,T){var R=this;this.length=y,this.session=g,this.doc=g.getDocument(),this.mainClass=S,this.othersClass=T,this.$onUpdate=this.onUpdate.bind(this),this.doc.on("change",this.$onUpdate),this.$others=b,this.$onCursorChange=function(){setTimeout((function(){R.onCursorChange()}))},this.$pos=u;var O=g.getUndoManager().$undoStack||g.getUndoManager().$undostack||{length:-1};this.$undoStackDepth=O.length,this.setup(),g.selection.on("changeCursor",this.$onCursorChange)};(function(){m.implement(this,v),this.setup=function(){var g=this,y=this.doc,u=this.session;this.selectionBefore=u.selection.toJSON(),u.selection.inMultiSelectMode&&u.selection.toSingleRange(),this.pos=y.createAnchor(this.$pos.row,this.$pos.column);var b=this.pos;b.$insertRight=!0,b.detach(),b.markerId=u.addMarker(new h(b.row,b.column,b.row,b.column+this.length),this.mainClass,null,!1),this.others=[],this.$others.forEach((function(S){var T=y.createAnchor(S.row,S.column);T.$insertRight=!0,T.detach(),g.others.push(T)})),u.setUndoSelect(!1)},this.showOtherMarkers=function(){if(!this.othersActive){var g=this.session,y=this;this.othersActive=!0,this.others.forEach((function(u){u.markerId=g.addMarker(new h(u.row,u.column,u.row,u.column+y.length),y.othersClass,null,!1)}))}},this.hideOtherMarkers=function(){if(this.othersActive){this.othersActive=!1;for(var g=0;g<this.others.length;g++)this.session.removeMarker(this.others[g].markerId)}},this.onUpdate=function(g){if(this.$updating)return this.updateAnchors(g);var y=g;if(y.start.row===y.end.row&&y.start.row===this.pos.row){this.$updating=!0;var u=g.action==="insert"?y.end.column-y.start.column:y.start.column-y.end.column,b=y.start.column>=this.pos.column&&y.start.column<=this.pos.column+this.length+1,S=y.start.column-this.pos.column;if(this.updateAnchors(g),b&&(this.length+=u),b&&!this.session.$fromUndo){if(g.action==="insert")for(var T=this.others.length-1;T>=0;T--){var R={row:(O=this.others[T]).row,column:O.column+S};this.doc.insertMergedLines(R,g.lines)}else if(g.action==="remove")for(T=this.others.length-1;T>=0;T--){var O;R={row:(O=this.others[T]).row,column:O.column+S},this.doc.remove(new h(R.row,R.column,R.row,R.column-u))}}this.$updating=!1,this.updateMarkers()}},this.updateAnchors=function(g){this.pos.onChange(g);for(var y=this.others.length;y--;)this.others[y].onChange(g);this.updateMarkers()},this.updateMarkers=function(){if(!this.$updating){var g=this,y=this.session,u=function(S,T){y.removeMarker(S.markerId),S.markerId=y.addMarker(new h(S.row,S.column,S.row,S.column+g.length),T,null,!1)};u(this.pos,this.mainClass);for(var b=this.others.length;b--;)u(this.others[b],this.othersClass)}},this.onCursorChange=function(g){if(!this.$updating&&this.session){var y=this.session.selection.getCursor();y.row===this.pos.row&&y.column>=this.pos.column&&y.column<=this.pos.column+this.length?(this.showOtherMarkers(),this._emit("cursorEnter",g)):(this.hideOtherMarkers(),this._emit("cursorLeave",g))}},this.detach=function(){this.session.removeMarker(this.pos&&this.pos.markerId),this.hideOtherMarkers(),this.doc.removeEventListener("change",this.$onUpdate),this.session.selection.removeEventListener("changeCursor",this.$onCursorChange),this.session.setUndoSelect(!0),this.session=null},this.cancel=function(){if(this.$undoStackDepth!==-1){for(var g=this.session.getUndoManager(),y=(g.$undoStack||g.$undostack).length-this.$undoStackDepth,u=0;u<y;u++)g.undo(this.session,!0);this.selectionBefore&&this.session.selection.fromJSON(this.selectionBefore)}}}).call(_.prototype),c.PlaceHolder=_})),ace.define("ace/mouse/multi_select_handler",["require","exports","module","ace/lib/event","ace/lib/useragent"],(function(l,c,f){var h=l("../lib/event"),v=l("../lib/useragent");function m(_,g){return _.row==g.row&&_.column==g.column}c.onMouseDown=function(_){var g=_.domEvent,y=g.altKey,u=g.shiftKey,b=g.ctrlKey,S=_.getAccelKey(),T=_.getButton();if(b&&v.isMac&&(T=g.button),_.editor.inMultiSelectMode&&T==2)_.editor.textInput.onContextMenu(_.domEvent);else if(b||y||S){if(T===0){var R,O=_.editor,C=O.selection,I=O.inMultiSelectMode,F=_.getDocumentPosition(),M=C.getCursor(),D=_.inSelection()||C.isEmpty()&&m(F,M),B=_.x,j=_.y,U=O.session,V=O.renderer.pixelToScreenCoordinates(B,j),k=V;if(O.$mouseHandler.$enableJumpToDef)b&&y||S&&y?R=u?"block":"add":y&&O.$blockSelectEnabled&&(R="block");else if(S&&!y){if(R="add",!I&&u)return}else y&&O.$blockSelectEnabled&&(R="block");if(R&&v.isMac&&g.ctrlKey&&O.$mouseHandler.cancelContextMenu(),R=="add"){if(!I&&D)return;if(!I){var Z=C.toOrientedRange();O.addSelectionMarker(Z)}var ee=C.rangeList.rangeAtPoint(F);O.inVirtualSelectionMode=!0,u&&(ee=null,Z=C.ranges[0]||Z,O.removeSelectionMarker(Z)),O.once("mouseup",(function(){var ce=C.toOrientedRange();ee&&ce.isEmpty()&&m(ee.cursor,ce.cursor)?C.substractPoint(ce.cursor):(u?C.substractPoint(Z.cursor):Z&&(O.removeSelectionMarker(Z),C.addRange(Z)),C.addRange(ce)),O.inVirtualSelectionMode=!1}))}else if(R=="block"){var oe;_.stop(),O.inVirtualSelectionMode=!0;var ne=[],ie=function(){var ce=O.renderer.pixelToScreenCoordinates(B,j),ae=U.screenToDocumentPosition(ce.row,ce.column,ce.offsetX);m(k,ce)&&m(ae,C.lead)||(k=ce,O.selection.moveToPosition(ae),O.renderer.scrollCursorIntoView(),O.removeSelectionMarkers(ne),ne=C.rectangularRangeBlock(k,V),O.$mouseHandler.$clickSelection&&ne.length==1&&ne[0].isEmpty()&&(ne[0]=O.$mouseHandler.$clickSelection.clone()),ne.forEach(O.addSelectionMarker,O),O.updateSelectionMarkers())};I&&!S?C.toSingleRange():!I&&S&&(oe=C.toOrientedRange(),O.addSelectionMarker(oe)),u?V=U.documentToScreenPosition(C.lead):C.moveToPosition(F),k={row:-1,column:-1};var he=ie;h.capture(O.container,(function(ce){B=ce.clientX,j=ce.clientY}),(function(ce){ie(),clearInterval(fe),O.removeSelectionMarkers(ne),ne.length||(ne=[C.toOrientedRange()]),oe&&(O.removeSelectionMarker(oe),C.toSingleRange(oe));for(var ae=0;ae<ne.length;ae++)C.addRange(ne[ae]);O.inVirtualSelectionMode=!1,O.$mouseHandler.$clickSelection=null}));var fe=setInterval((function(){he()}),20);return _.preventDefault()}}}else T===0&&_.editor.inMultiSelectMode&&_.editor.exitMultiSelectMode()}})),ace.define("ace/commands/multi_select_commands",["require","exports","module","ace/keyboard/hash_handler"],(function(l,c,f){c.defaultCommands=[{name:"addCursorAbove",description:"Add cursor above",exec:function(v){v.selectMoreLines(-1)},bindKey:{win:"Ctrl-Alt-Up",mac:"Ctrl-Alt-Up"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorBelow",description:"Add cursor below",exec:function(v){v.selectMoreLines(1)},bindKey:{win:"Ctrl-Alt-Down",mac:"Ctrl-Alt-Down"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorAboveSkipCurrent",description:"Add cursor above (skip current)",exec:function(v){v.selectMoreLines(-1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Up",mac:"Ctrl-Alt-Shift-Up"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorBelowSkipCurrent",description:"Add cursor below (skip current)",exec:function(v){v.selectMoreLines(1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Down",mac:"Ctrl-Alt-Shift-Down"},scrollIntoView:"cursor",readOnly:!0},{name:"selectMoreBefore",description:"Select more before",exec:function(v){v.selectMore(-1)},bindKey:{win:"Ctrl-Alt-Left",mac:"Ctrl-Alt-Left"},scrollIntoView:"cursor",readOnly:!0},{name:"selectMoreAfter",description:"Select more after",exec:function(v){v.selectMore(1)},bindKey:{win:"Ctrl-Alt-Right",mac:"Ctrl-Alt-Right"},scrollIntoView:"cursor",readOnly:!0},{name:"selectNextBefore",description:"Select next before",exec:function(v){v.selectMore(-1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Left",mac:"Ctrl-Alt-Shift-Left"},scrollIntoView:"cursor",readOnly:!0},{name:"selectNextAfter",description:"Select next after",exec:function(v){v.selectMore(1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Right",mac:"Ctrl-Alt-Shift-Right"},scrollIntoView:"cursor",readOnly:!0},{name:"splitIntoLines",description:"Split into lines",exec:function(v){v.multiSelect.splitIntoLines()},bindKey:{win:"Ctrl-Alt-L",mac:"Ctrl-Alt-L"},readOnly:!0},{name:"alignCursors",description:"Align cursors",exec:function(v){v.alignCursors()},bindKey:{win:"Ctrl-Alt-A",mac:"Ctrl-Alt-A"},scrollIntoView:"cursor"},{name:"findAll",description:"Find all",exec:function(v){v.findAll()},bindKey:{win:"Ctrl-Alt-K",mac:"Ctrl-Alt-G"},scrollIntoView:"cursor",readOnly:!0}],c.multiSelectCommands=[{name:"singleSelection",description:"Single selection",bindKey:"esc",exec:function(v){v.exitMultiSelectMode()},scrollIntoView:"cursor",readOnly:!0,isAvailable:function(v){return v&&v.inMultiSelectMode}}];var h=l("../keyboard/hash_handler").HashHandler;c.keyboardHandler=new h(c.multiSelectCommands)})),ace.define("ace/multi_select",["require","exports","module","ace/range_list","ace/range","ace/selection","ace/mouse/multi_select_handler","ace/lib/event","ace/lib/lang","ace/commands/multi_select_commands","ace/search","ace/edit_session","ace/editor","ace/config"],(function(l,c,f){var h=l("./range_list").RangeList,v=l("./range").Range,m=l("./selection").Selection,_=l("./mouse/multi_select_handler").onMouseDown,g=l("./lib/event"),y=l("./lib/lang"),u=l("./commands/multi_select_commands");c.commands=u.defaultCommands.concat(u.multiSelectCommands);var b=new(l("./search")).Search,S=l("./edit_session").EditSession;(function(){this.getSelectionMarkers=function(){return this.$selectionMarkers}}).call(S.prototype),(function(){this.ranges=null,this.rangeList=null,this.addRange=function(O,C){if(O){if(!this.inMultiSelectMode&&this.rangeCount===0){var I=this.toOrientedRange();if(this.rangeList.add(I),this.rangeList.add(O),this.rangeList.ranges.length!=2)return this.rangeList.removeAll(),C||this.fromOrientedRange(O);this.rangeList.removeAll(),this.rangeList.add(I),this.$onAddRange(I)}O.cursor||(O.cursor=O.end);var F=this.rangeList.add(O);return this.$onAddRange(O),F.length&&this.$onRemoveRange(F),this.rangeCount>1&&!this.inMultiSelectMode&&(this._signal("multiSelect"),this.inMultiSelectMode=!0,this.session.$undoSelect=!1,this.rangeList.attach(this.session)),C||this.fromOrientedRange(O)}},this.toSingleRange=function(O){O=O||this.ranges[0];var C=this.rangeList.removeAll();C.length&&this.$onRemoveRange(C),O&&this.fromOrientedRange(O)},this.substractPoint=function(O){var C=this.rangeList.substractPoint(O);if(C)return this.$onRemoveRange(C),C[0]},this.mergeOverlappingRanges=function(){var O=this.rangeList.merge();O.length&&this.$onRemoveRange(O)},this.$onAddRange=function(O){this.rangeCount=this.rangeList.ranges.length,this.ranges.unshift(O),this._signal("addRange",{range:O})},this.$onRemoveRange=function(O){if(this.rangeCount=this.rangeList.ranges.length,this.rangeCount==1&&this.inMultiSelectMode){var C=this.rangeList.ranges.pop();O.push(C),this.rangeCount=0}for(var I=O.length;I--;){var F=this.ranges.indexOf(O[I]);this.ranges.splice(F,1)}this._signal("removeRange",{ranges:O}),this.rangeCount===0&&this.inMultiSelectMode&&(this.inMultiSelectMode=!1,this._signal("singleSelect"),this.session.$undoSelect=!0,this.rangeList.detach(this.session)),(C=C||this.ranges[0])&&!C.isEqual(this.getRange())&&this.fromOrientedRange(C)},this.$initRangeList=function(){this.rangeList||(this.rangeList=new h,this.ranges=[],this.rangeCount=0)},this.getAllRanges=function(){return this.rangeCount?this.rangeList.ranges.concat():[this.getRange()]},this.splitIntoLines=function(){if(this.rangeCount>1){var O=this.rangeList.ranges,C=O[O.length-1],I=v.fromPoints(O[0].start,C.end);this.toSingleRange(),this.setSelectionRange(I,C.cursor==C.start)}else{I=this.getRange();var F=this.isBackwards(),M=I.start.row,D=I.end.row;if(M==D){if(F)var B=I.end,j=I.start;else B=I.start,j=I.end;return this.addRange(v.fromPoints(j,j)),void this.addRange(v.fromPoints(B,B))}var U=[],V=this.getLineRange(M,!0);V.start.column=I.start.column,U.push(V);for(var k=M+1;k<D;k++)U.push(this.getLineRange(k,!0));(V=this.getLineRange(D,!0)).end.column=I.end.column,U.push(V),U.forEach(this.addRange,this)}},this.toggleBlockSelection=function(){if(this.rangeCount>1){var O=this.rangeList.ranges,C=O[O.length-1],I=v.fromPoints(O[0].start,C.end);this.toSingleRange(),this.setSelectionRange(I,C.cursor==C.start)}else{var F=this.session.documentToScreenPosition(this.cursor),M=this.session.documentToScreenPosition(this.anchor);this.rectangularRangeBlock(F,M).forEach(this.addRange,this)}},this.rectangularRangeBlock=function(O,C,I){var F=[],M=O.column<C.column;if(M)var D=O.column,B=C.column,j=O.offsetX,U=C.offsetX;else D=C.column,B=O.column,j=C.offsetX,U=O.offsetX;var V,k,Z,ee=O.row<C.row;if(ee)var oe=O.row,ne=C.row;else oe=C.row,ne=O.row;D<0&&(D=0),oe<0&&(oe=0),oe==ne&&(I=!0);for(var ie=oe;ie<=ne;ie++){var he=v.fromPoints(this.session.screenToDocumentPosition(ie,D,j),this.session.screenToDocumentPosition(ie,B,U));if(he.isEmpty()){if(V&&(Z=V,(k=he.end).row==Z.row&&k.column==Z.column))break;V=he.end}he.cursor=M?he.start:he.end,F.push(he)}if(ee&&F.reverse(),!I){for(var fe=F.length-1;F[fe].isEmpty()&&fe>0;)fe--;if(fe>0)for(var ce=0;F[ce].isEmpty();)ce++;for(var ae=fe;ae>=ce;ae--)F[ae].isEmpty()&&F.splice(ae,1)}return F}}).call(m.prototype);var T=l("./editor").Editor;function R(O){O.$multiselectOnSessionChange||(O.$onAddRange=O.$onAddRange.bind(O),O.$onRemoveRange=O.$onRemoveRange.bind(O),O.$onMultiSelect=O.$onMultiSelect.bind(O),O.$onSingleSelect=O.$onSingleSelect.bind(O),O.$multiselectOnSessionChange=c.onSessionChange.bind(O),O.$checkMultiselectChange=O.$checkMultiselectChange.bind(O),O.$multiselectOnSessionChange(O),O.on("changeSession",O.$multiselectOnSessionChange),O.on("mousedown",_),O.commands.addCommands(u.defaultCommands),(function(C){if(C.textInput){var I=C.textInput.getElement(),F=!1;g.addListener(I,"keydown",(function(D){var B=D.keyCode==18&&!(D.ctrlKey||D.shiftKey||D.metaKey);C.$blockSelectEnabled&&B?F||(C.renderer.setMouseCursor("crosshair"),F=!0):F&&M()})),g.addListener(I,"keyup",M),g.addListener(I,"blur",M)}function M(D){F&&(C.renderer.setMouseCursor(""),F=!1)}})(O))}(function(){this.updateSelectionMarkers=function(){this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.addSelectionMarker=function(O){O.cursor||(O.cursor=O.end);var C=this.getSelectionStyle();return O.marker=this.session.addMarker(O,"ace_selection",C),this.session.$selectionMarkers.push(O),this.session.selectionMarkerCount=this.session.$selectionMarkers.length,O},this.removeSelectionMarker=function(O){if(O.marker){this.session.removeMarker(O.marker);var C=this.session.$selectionMarkers.indexOf(O);C!=-1&&this.session.$selectionMarkers.splice(C,1),this.session.selectionMarkerCount=this.session.$selectionMarkers.length}},this.removeSelectionMarkers=function(O){for(var C=this.session.$selectionMarkers,I=O.length;I--;){var F=O[I];if(F.marker){this.session.removeMarker(F.marker);var M=C.indexOf(F);M!=-1&&C.splice(M,1)}}this.session.selectionMarkerCount=C.length},this.$onAddRange=function(O){this.addSelectionMarker(O.range),this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.$onRemoveRange=function(O){this.removeSelectionMarkers(O.ranges),this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.$onMultiSelect=function(O){this.inMultiSelectMode||(this.inMultiSelectMode=!0,this.setStyle("ace_multiselect"),this.keyBinding.addKeyboardHandler(u.keyboardHandler),this.commands.setDefaultHandler("exec",this.$onMultiSelectExec),this.renderer.updateCursor(),this.renderer.updateBackMarkers())},this.$onSingleSelect=function(O){this.session.multiSelect.inVirtualMode||(this.inMultiSelectMode=!1,this.unsetStyle("ace_multiselect"),this.keyBinding.removeKeyboardHandler(u.keyboardHandler),this.commands.removeDefaultHandler("exec",this.$onMultiSelectExec),this.renderer.updateCursor(),this.renderer.updateBackMarkers(),this._emit("changeSelection"))},this.$onMultiSelectExec=function(O){var C=O.command,I=O.editor;if(I.multiSelect){if(C.multiSelectAction)C.multiSelectAction=="forEach"?F=I.forEachSelection(C,O.args):C.multiSelectAction=="forEachLine"?F=I.forEachSelection(C,O.args,!0):C.multiSelectAction=="single"?(I.exitMultiSelectMode(),F=C.exec(I,O.args||{})):F=C.multiSelectAction(I,O.args||{});else{var F=C.exec(I,O.args||{});I.multiSelect.addRange(I.multiSelect.toOrientedRange()),I.multiSelect.mergeOverlappingRanges()}return F}},this.forEachSelection=function(O,C,I){if(!this.inVirtualSelectionMode){var F,M=I&&I.keepOrder,D=I==1||I&&I.$byLines,B=this.session,j=this.selection,U=j.rangeList,V=(M?j:U).ranges;if(!V.length)return O.exec?O.exec(this,C||{}):O(this,C||{});var k=j._eventRegistry;j._eventRegistry={};var Z=new m(B);this.inVirtualSelectionMode=!0;for(var ee=V.length;ee--;){if(D)for(;ee>0&&V[ee].start.row==V[ee-1].end.row;)ee--;Z.fromOrientedRange(V[ee]),Z.index=ee,this.selection=B.selection=Z;var oe=O.exec?O.exec(this,C||{}):O(this,C||{});F||oe===void 0||(F=oe),Z.toOrientedRange(V[ee])}Z.detach(),this.selection=B.selection=j,this.inVirtualSelectionMode=!1,j._eventRegistry=k,j.mergeOverlappingRanges(),j.ranges[0]&&j.fromOrientedRange(j.ranges[0]);var ne=this.renderer.$scrollAnimation;return this.onCursorChange(),this.onSelectionChange(),ne&&ne.from==ne.to&&this.renderer.animateScrolling(ne.from),F}},this.exitMultiSelectMode=function(){this.inMultiSelectMode&&!this.inVirtualSelectionMode&&this.multiSelect.toSingleRange()},this.getSelectedText=function(){var O="";if(this.inMultiSelectMode&&!this.inVirtualSelectionMode){for(var C=this.multiSelect.rangeList.ranges,I=[],F=0;F<C.length;F++)I.push(this.session.getTextRange(C[F]));var M=this.session.getDocument().getNewLineCharacter();(O=I.join(M)).length==(I.length-1)*M.length&&(O="")}else this.selection.isEmpty()||(O=this.session.getTextRange(this.getSelectionRange()));return O},this.$checkMultiselectChange=function(O,C){if(this.inMultiSelectMode&&!this.inVirtualSelectionMode){var I=this.multiSelect.ranges[0];if(this.multiSelect.isEmpty()&&C==this.multiSelect.anchor)return;var F=C==this.multiSelect.anchor?I.cursor==I.start?I.end:I.start:I.cursor;F.row!=C.row||this.session.$clipPositionToDocument(F.row,F.column).column!=C.column?this.multiSelect.toSingleRange(this.multiSelect.toOrientedRange()):this.multiSelect.mergeOverlappingRanges()}},this.findAll=function(O,C,I){if((C=C||{}).needle=O||C.needle,C.needle==null){var F=this.selection.isEmpty()?this.selection.getWordRange():this.selection.getRange();C.needle=this.session.getTextRange(F)}this.$search.set(C);var M=this.$search.findAll(this.session);if(!M.length)return 0;var D=this.multiSelect;I||D.toSingleRange(M[0]);for(var B=M.length;B--;)D.addRange(M[B],!0);return F&&D.rangeList.rangeAtPoint(F.start)&&D.addRange(F,!0),M.length},this.selectMoreLines=function(O,C){var I=this.selection.toOrientedRange(),F=I.cursor==I.end,M=this.session.documentToScreenPosition(I.cursor);this.selection.$desiredColumn&&(M.column=this.selection.$desiredColumn);var D,B=this.session.screenToDocumentPosition(M.row+O,M.column);if(I.isEmpty())U=B;else var j=this.session.documentToScreenPosition(F?I.end:I.start),U=this.session.screenToDocumentPosition(j.row+O,j.column);if(F?(D=v.fromPoints(B,U)).cursor=D.start:(D=v.fromPoints(U,B)).cursor=D.end,D.desiredColumn=M.column,this.selection.inMultiSelectMode){if(C)var V=I.cursor}else this.selection.addRange(I);this.selection.addRange(D),V&&this.selection.substractPoint(V)},this.transposeSelections=function(O){for(var C=this.session,I=C.multiSelect,F=I.ranges,M=F.length;M--;)if((j=F[M]).isEmpty()){var D=C.getWordRange(j.start.row,j.start.column);j.start.row=D.start.row,j.start.column=D.start.column,j.end.row=D.end.row,j.end.column=D.end.column}I.mergeOverlappingRanges();var B=[];for(M=F.length;M--;){var j=F[M];B.unshift(C.getTextRange(j))}for(O<0?B.unshift(B.pop()):B.push(B.shift()),M=F.length;M--;)D=(j=F[M]).clone(),C.replace(j,B[M]),j.start.row=D.start.row,j.start.column=D.start.column;I.fromOrientedRange(I.ranges[0])},this.selectMore=function(O,C,I){var F=this.session,M=F.multiSelect.toOrientedRange();if(!M.isEmpty()||((M=F.getWordRange(M.start.row,M.start.column)).cursor=O==-1?M.start:M.end,this.multiSelect.addRange(M),!I)){var D=F.getTextRange(M),B=(function(j,U,V){return b.$options.wrap=!0,b.$options.needle=U,b.$options.backwards=V==-1,b.find(j)})(F,D,O);B&&(B.cursor=O==-1?B.start:B.end,this.session.unfold(B),this.multiSelect.addRange(B),this.renderer.scrollCursorIntoView(null,.5)),C&&this.multiSelect.substractPoint(M.cursor)}},this.alignCursors=function(){var O=this.session,C=O.multiSelect,I=C.ranges,F=-1,M=I.filter((function(ie){if(ie.cursor.row==F)return!0;F=ie.cursor.row}));if(I.length&&M.length!=I.length-1){M.forEach((function(ie){C.substractPoint(ie.cursor)}));var D=0,B=1/0,j=I.map((function(ie){var he=ie.cursor,fe=O.getLine(he.row).substr(he.column).search(/\S/g);return fe==-1&&(fe=0),he.column>D&&(D=he.column),fe<B&&(B=fe),fe}));I.forEach((function(ie,he){var fe=ie.cursor,ce=D-fe.column,ae=j[he]-B;ce>ae?O.insert(fe,y.stringRepeat(" ",ce-ae)):O.remove(new v(fe.row,fe.column,fe.row,fe.column-ce+ae)),ie.start.column=ie.end.column=D,ie.start.row=ie.end.row=fe.row,ie.cursor=ie.end})),C.fromOrientedRange(I[0]),this.renderer.updateCursor(),this.renderer.updateBackMarkers()}else{var U=this.selection.getRange(),V=U.start.row,k=U.end.row,Z=V==k;if(Z){var ee,oe=this.session.getLength();do ee=this.session.getLine(k);while(/[=:]/.test(ee)&&++k<oe);do ee=this.session.getLine(V);while(/[=:]/.test(ee)&&--V>0);V<0&&(V=0),k>=oe&&(k=oe-1)}var ne=this.session.removeFullLines(V,k);ne=this.$reAlignText(ne,Z),this.session.insert({row:V,column:0},ne.join(`
`)+`
`),Z||(U.start.column=0,U.end.column=ne[ne.length-1].length),this.selection.setRange(U)}},this.$reAlignText=function(O,C){var I,F,M,D=!0,B=!0;return O.map((function(V){var k=V.match(/(\s*)(.*?)(\s*)([=:].*)/);return k?I==null?(I=k[1].length,F=k[2].length,M=k[3].length,k):(I+F+M!=k[1].length+k[2].length+k[3].length&&(B=!1),I!=k[1].length&&(D=!1),I>k[1].length&&(I=k[1].length),F<k[2].length&&(F=k[2].length),M>k[3].length&&(M=k[3].length),k):[V]})).map(C?U:D?B?function(V){return V[2]?j(I+F-V[2].length)+V[2]+j(M)+V[4].replace(/^([=:])\s+/,"$1 "):V[0]}:U:function(V){return V[2]?j(I)+V[2]+j(M)+V[4].replace(/^([=:])\s+/,"$1 "):V[0]});function j(V){return y.stringRepeat(" ",V)}function U(V){return V[2]?j(I)+V[2]+j(F-V[2].length+M)+V[4].replace(/^([=:])\s+/,"$1 "):V[0]}}}).call(T.prototype),c.onSessionChange=function(O){var C=O.session;C&&!C.multiSelect&&(C.$selectionMarkers=[],C.selection.$initRangeList(),C.multiSelect=C.selection),this.multiSelect=C&&C.multiSelect;var I=O.oldSession;I&&(I.multiSelect.off("addRange",this.$onAddRange),I.multiSelect.off("removeRange",this.$onRemoveRange),I.multiSelect.off("multiSelect",this.$onMultiSelect),I.multiSelect.off("singleSelect",this.$onSingleSelect),I.multiSelect.lead.off("change",this.$checkMultiselectChange),I.multiSelect.anchor.off("change",this.$checkMultiselectChange)),C&&(C.multiSelect.on("addRange",this.$onAddRange),C.multiSelect.on("removeRange",this.$onRemoveRange),C.multiSelect.on("multiSelect",this.$onMultiSelect),C.multiSelect.on("singleSelect",this.$onSingleSelect),C.multiSelect.lead.on("change",this.$checkMultiselectChange),C.multiSelect.anchor.on("change",this.$checkMultiselectChange)),C&&this.inMultiSelectMode!=C.selection.inMultiSelectMode&&(C.selection.inMultiSelectMode?this.$onMultiSelect():this.$onSingleSelect())},c.MultiSelect=R,l("./config").defineOptions(T.prototype,"editor",{enableMultiselect:{set:function(O){R(this),O?(this.on("changeSession",this.$multiselectOnSessionChange),this.on("mousedown",_)):(this.off("changeSession",this.$multiselectOnSessionChange),this.off("mousedown",_))},value:!0},enableBlockSelect:{set:function(O){this.$blockSelectEnabled=O},value:!0}})})),ace.define("ace/mode/folding/fold_mode",["require","exports","module","ace/range"],(function(l,c,f){var h=l("../../range").Range,v=c.FoldMode=function(){};(function(){this.foldingStartMarker=null,this.foldingStopMarker=null,this.getFoldWidget=function(m,_,g){var y=m.getLine(g);return this.foldingStartMarker.test(y)?"start":_=="markbeginend"&&this.foldingStopMarker&&this.foldingStopMarker.test(y)?"end":""},this.getFoldWidgetRange=function(m,_,g){return null},this.indentationBlock=function(m,_,g){var y=/\S/,u=m.getLine(_),b=u.search(y);if(b!=-1){for(var S=g||u.length,T=m.getLength(),R=_,O=_;++_<T;){var C=m.getLine(_).search(y);if(C!=-1){if(C<=b){var I=m.getTokenAt(_,0);if(!I||I.type!=="string")break}O=_}}if(O>R){var F=m.getLine(O).length;return new h(R,S,O,F)}}},this.openingBracketBlock=function(m,_,g,y,u){var b={row:g,column:y+1},S=m.$findClosingBracket(_,b,u);if(S){var T=m.foldWidgets[S.row];return T==null&&(T=m.getFoldWidget(S.row)),T=="start"&&S.row>b.row&&(S.row--,S.column=m.getLine(S.row).length),h.fromPoints(b,S)}},this.closingBracketBlock=function(m,_,g,y,u){var b={row:g,column:y},S=m.$findOpeningBracket(_,b);if(S)return S.column++,b.column--,h.fromPoints(S,b)}}).call(v.prototype)})),ace.define("ace/theme/textmate",["require","exports","module","ace/lib/dom"],(function(l,c,f){c.isDark=!1,c.cssClass="ace-tm",c.cssText='.ace-tm .ace_gutter {background: #f0f0f0;color: #333;}.ace-tm .ace_print-margin {width: 1px;background: #e8e8e8;}.ace-tm .ace_fold {background-color: #6B72E6;}.ace-tm {background-color: #FFFFFF;color: black;}.ace-tm .ace_cursor {color: black;}.ace-tm .ace_invisible {color: rgb(191, 191, 191);}.ace-tm .ace_storage,.ace-tm .ace_keyword {color: blue;}.ace-tm .ace_constant {color: rgb(197, 6, 11);}.ace-tm .ace_constant.ace_buildin {color: rgb(88, 72, 246);}.ace-tm .ace_constant.ace_language {color: rgb(88, 92, 246);}.ace-tm .ace_constant.ace_library {color: rgb(6, 150, 14);}.ace-tm .ace_invalid {background-color: rgba(255, 0, 0, 0.1);color: red;}.ace-tm .ace_support.ace_function {color: rgb(60, 76, 114);}.ace-tm .ace_support.ace_constant {color: rgb(6, 150, 14);}.ace-tm .ace_support.ace_type,.ace-tm .ace_support.ace_class {color: rgb(109, 121, 222);}.ace-tm .ace_keyword.ace_operator {color: rgb(104, 118, 135);}.ace-tm .ace_string {color: rgb(3, 106, 7);}.ace-tm .ace_comment {color: rgb(76, 136, 107);}.ace-tm .ace_comment.ace_doc {color: rgb(0, 102, 255);}.ace-tm .ace_comment.ace_doc.ace_tag {color: rgb(128, 159, 191);}.ace-tm .ace_constant.ace_numeric {color: rgb(0, 0, 205);}.ace-tm .ace_variable {color: rgb(49, 132, 149);}.ace-tm .ace_xml-pe {color: rgb(104, 104, 91);}.ace-tm .ace_entity.ace_name.ace_function {color: #0000A2;}.ace-tm .ace_heading {color: rgb(12, 7, 255);}.ace-tm .ace_list {color:rgb(185, 6, 144);}.ace-tm .ace_meta.ace_tag {color:rgb(0, 22, 142);}.ace-tm .ace_string.ace_regex {color: rgb(255, 0, 0)}.ace-tm .ace_marker-layer .ace_selection {background: rgb(181, 213, 255);}.ace-tm.ace_multiselect .ace_selection.ace_start {box-shadow: 0 0 3px 0px white;}.ace-tm .ace_marker-layer .ace_step {background: rgb(252, 255, 0);}.ace-tm .ace_marker-layer .ace_stack {background: rgb(164, 229, 101);}.ace-tm .ace_marker-layer .ace_bracket {margin: -1px 0 0 -1px;border: 1px solid rgb(192, 192, 192);}.ace-tm .ace_marker-layer .ace_active-line {background: rgba(0, 0, 0, 0.07);}.ace-tm .ace_gutter-active-line {background-color : #dcdcdc;}.ace-tm .ace_marker-layer .ace_selected-word {background: rgb(250, 250, 255);border: 1px solid rgb(200, 200, 250);}.ace-tm .ace_indent-guide {background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAE0lEQVQImWP4////f4bLly//BwAmVgd1/w11/gAAAABJRU5ErkJggg==") right repeat-y;}',c.$id="ace/theme/textmate",l("../lib/dom").importCssString(c.cssText,c.cssClass)})),ace.define("ace/line_widgets",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/range"],(function(l,c,f){l("./lib/oop");var h=l("./lib/dom");function v(m){this.session=m,this.session.widgetManager=this,this.session.getRowLength=this.getRowLength,this.session.$getWidgetScreenLength=this.$getWidgetScreenLength,this.updateOnChange=this.updateOnChange.bind(this),this.renderWidgets=this.renderWidgets.bind(this),this.measureWidgets=this.measureWidgets.bind(this),this.session._changedWidgets=[],this.$onChangeEditor=this.$onChangeEditor.bind(this),this.session.on("change",this.updateOnChange),this.session.on("changeFold",this.updateOnFold),this.session.on("changeEditor",this.$onChangeEditor)}l("./range").Range,(function(){this.getRowLength=function(m){var _;return _=this.lineWidgets&&this.lineWidgets[m]&&this.lineWidgets[m].rowCount||0,this.$useWrapMode&&this.$wrapData[m]?this.$wrapData[m].length+1+_:1+_},this.$getWidgetScreenLength=function(){var m=0;return this.lineWidgets.forEach((function(_){_&&_.rowCount&&!_.hidden&&(m+=_.rowCount)})),m},this.$onChangeEditor=function(m){this.attach(m.editor)},this.attach=function(m){m&&m.widgetManager&&m.widgetManager!=this&&m.widgetManager.detach(),this.editor!=m&&(this.detach(),this.editor=m,m&&(m.widgetManager=this,m.renderer.on("beforeRender",this.measureWidgets),m.renderer.on("afterRender",this.renderWidgets)))},this.detach=function(m){var _=this.editor;if(_){this.editor=null,_.widgetManager=null,_.renderer.off("beforeRender",this.measureWidgets),_.renderer.off("afterRender",this.renderWidgets);var g=this.session.lineWidgets;g&&g.forEach((function(y){y&&y.el&&y.el.parentNode&&(y._inDocument=!1,y.el.parentNode.removeChild(y.el))}))}},this.updateOnFold=function(m,_){var g=_.lineWidgets;if(g&&m.action){for(var y=m.data,u=y.start.row,b=y.end.row,S=m.action=="add",T=u+1;T<b;T++)g[T]&&(g[T].hidden=S);g[b]&&(S?g[u]?g[b].hidden=S:g[u]=g[b]:(g[u]==g[b]&&(g[u]=void 0),g[b].hidden=S))}},this.updateOnChange=function(m){var _=this.session.lineWidgets;if(_){var g=m.start.row,y=m.end.row-g;if(y!==0)if(m.action=="remove")_.splice(g+1,y).forEach((function(b){b&&this.removeLineWidget(b)}),this),this.$updateRows();else{var u=new Array(y);u.unshift(g,0),_.splice.apply(_,u),this.$updateRows()}}},this.$updateRows=function(){var m=this.session.lineWidgets;if(m){var _=!0;m.forEach((function(g,y){if(g)for(_=!1,g.row=y;g.$oldWidget;)g.$oldWidget.row=y,g=g.$oldWidget})),_&&(this.session.lineWidgets=null)}},this.addLineWidget=function(m){this.session.lineWidgets||(this.session.lineWidgets=new Array(this.session.getLength()));var _=this.session.lineWidgets[m.row];_&&(m.$oldWidget=_,_.el&&_.el.parentNode&&(_.el.parentNode.removeChild(_.el),_._inDocument=!1)),this.session.lineWidgets[m.row]=m,m.session=this.session;var g=this.editor.renderer;m.html&&!m.el&&(m.el=h.createElement("div"),m.el.innerHTML=m.html),m.el&&(h.addCssClass(m.el,"ace_lineWidgetContainer"),m.el.style.position="absolute",m.el.style.zIndex=5,g.container.appendChild(m.el),m._inDocument=!0),m.coverGutter||(m.el.style.zIndex=3),m.pixelHeight==null&&(m.pixelHeight=m.el.offsetHeight),m.rowCount==null&&(m.rowCount=m.pixelHeight/g.layerConfig.lineHeight);var y=this.session.getFoldAt(m.row,0);if(m.$fold=y,y){var u=this.session.lineWidgets;m.row!=y.end.row||u[y.start.row]?m.hidden=!0:u[y.start.row]=m}return this.session._emit("changeFold",{data:{start:{row:m.row}}}),this.$updateRows(),this.renderWidgets(null,g),this.onWidgetChanged(m),m},this.removeLineWidget=function(m){if(m._inDocument=!1,m.session=null,m.el&&m.el.parentNode&&m.el.parentNode.removeChild(m.el),m.editor&&m.editor.destroy)try{m.editor.destroy()}catch{}if(this.session.lineWidgets){var _=this.session.lineWidgets[m.row];if(_==m)this.session.lineWidgets[m.row]=m.$oldWidget,m.$oldWidget&&this.onWidgetChanged(m.$oldWidget);else for(;_;){if(_.$oldWidget==m){_.$oldWidget=m.$oldWidget;break}_=_.$oldWidget}}this.session._emit("changeFold",{data:{start:{row:m.row}}}),this.$updateRows()},this.getWidgetsAtRow=function(m){for(var _=this.session.lineWidgets,g=_&&_[m],y=[];g;)y.push(g),g=g.$oldWidget;return y},this.onWidgetChanged=function(m){this.session._changedWidgets.push(m),this.editor&&this.editor.renderer.updateFull()},this.measureWidgets=function(m,_){var g=this.session._changedWidgets,y=_.layerConfig;if(g&&g.length){for(var u=1/0,b=0;b<g.length;b++){var S=g[b];if(S&&S.el&&S.session==this.session){if(!S._inDocument){if(this.session.lineWidgets[S.row]!=S)continue;S._inDocument=!0,_.container.appendChild(S.el)}S.h=S.el.offsetHeight,S.fixedWidth||(S.w=S.el.offsetWidth,S.screenWidth=Math.ceil(S.w/y.characterWidth));var T=S.h/y.lineHeight;S.coverLine&&(T-=this.session.getRowLineCount(S.row))<0&&(T=0),S.rowCount!=T&&(S.rowCount=T,S.row<u&&(u=S.row))}}u!=1/0&&(this.session._emit("changeFold",{data:{start:{row:u}}}),this.session.lineWidgetWidth=null),this.session._changedWidgets=[]}},this.renderWidgets=function(m,_){var g=_.layerConfig,y=this.session.lineWidgets;if(y){for(var u=Math.min(this.firstRow,g.firstRow),b=Math.max(this.lastRow,g.lastRow,y.length);u>0&&!y[u];)u--;this.firstRow=g.firstRow,this.lastRow=g.lastRow,_.$cursorLayer.config=g;for(var S=u;S<=b;S++){var T=y[S];if(T&&T.el)if(T.hidden)T.el.style.top=-100-(T.pixelHeight||0)+"px";else{T._inDocument||(T._inDocument=!0,_.container.appendChild(T.el));var R=_.$cursorLayer.getPixelPosition({row:S,column:0},!0).top;T.coverLine||(R+=g.lineHeight*this.session.getRowLineCount(T.row)),T.el.style.top=R-g.offset+"px";var O=T.coverGutter?0:_.gutterWidth;T.fixedWidth||(O-=_.scrollLeft),T.el.style.left=O+"px",T.fullWidth&&T.screenWidth&&(T.el.style.minWidth=g.width+2*g.padding+"px"),T.fixedWidth?T.el.style.right=_.scrollBar.getWidth()+"px":T.el.style.right=""}}}}}).call(v.prototype),c.LineWidgets=v})),ace.define("ace/ext/error_marker",["require","exports","module","ace/line_widgets","ace/lib/dom","ace/range"],(function(l,c,f){var h=l("../line_widgets").LineWidgets,v=l("../lib/dom"),m=l("../range").Range;c.showErrorMarker=function(_,g){var y=_.session;y.widgetManager||(y.widgetManager=new h(y),y.widgetManager.attach(_));var u=_.getCursorPosition(),b=u.row,S=y.widgetManager.getWidgetsAtRow(b).filter((function(B){return B.type=="errorMarker"}))[0];S?S.destroy():b-=g;var T,R=(function(B,j,U){var V=B.getAnnotations().sort(m.comparePoints);if(V.length){var k=(function(oe,ne,ie){for(var he=0,fe=oe.length-1;he<=fe;){var ce=he+fe>>1,ae=ie(ne,oe[ce]);if(ae>0)he=ce+1;else{if(!(ae<0))return ce;fe=ce-1}}return-(he+1)})(V,{row:j,column:-1},m.comparePoints);k<0&&(k=-k-1),k>=V.length?k=U>0?0:V.length-1:k===0&&U<0&&(k=V.length-1);var Z=V[k];if(Z&&U){if(Z.row===j){do Z=V[k+=U];while(Z&&Z.row===j);if(!Z)return V.slice()}var ee=[];j=Z.row;do ee[U<0?"unshift":"push"](Z),Z=V[k+=U];while(Z&&Z.row==j);return ee.length&&ee}}})(y,b,g);if(R){var O=R[0];u.column=(O.pos&&typeof O.column!="number"?O.pos.sc:O.column)||0,u.row=O.row,T=_.renderer.$gutterLayer.$annotations[u.row]}else{if(S)return;T={text:["Looks good!"],className:"ace_ok"}}_.session.unfold(u.row),_.selection.moveToPosition(u);var C={row:u.row,fixedWidth:!0,coverGutter:!0,el:v.createElement("div"),type:"errorMarker"},I=C.el.appendChild(v.createElement("div")),F=C.el.appendChild(v.createElement("div"));F.className="error_widget_arrow "+T.className;var M=_.renderer.$cursorLayer.getPixelPosition(u).left;F.style.left=M+_.renderer.gutterWidth-5+"px",C.el.className="error_widget_wrapper",I.className="error_widget "+T.className,I.innerHTML=T.text.join("<br>"),I.appendChild(v.createElement("div"));var D=function(B,j,U){if(j===0&&(U==="esc"||U==="return"))return C.destroy(),{command:"null"}};C.destroy=function(){_.$mouseHandler.isMousePressed||(_.keyBinding.removeKeyboardHandler(D),y.widgetManager.removeLineWidget(C),_.off("changeSelection",C.destroy),_.off("changeSession",C.destroy),_.off("mouseup",C.destroy),_.off("change",C.destroy))},_.keyBinding.addKeyboardHandler(D),_.on("changeSelection",C.destroy),_.on("changeSession",C.destroy),_.on("mouseup",C.destroy),_.on("change",C.destroy),_.session.widgetManager.addLineWidget(C),C.el.onmousedown=_.focus.bind(_),_.renderer.scrollCursorIntoView(null,.5,{bottom:C.el.offsetHeight})},v.importCssString("    .error_widget_wrapper {        background: inherit;        color: inherit;        border:none    }    .error_widget {        border-top: solid 2px;        border-bottom: solid 2px;        margin: 5px 0;        padding: 10px 40px;        white-space: pre-wrap;    }    .error_widget.ace_error, .error_widget_arrow.ace_error{        border-color: #ff5a5a    }    .error_widget.ace_warning, .error_widget_arrow.ace_warning{        border-color: #F1D817    }    .error_widget.ace_info, .error_widget_arrow.ace_info{        border-color: #5a5a5a    }    .error_widget.ace_ok, .error_widget_arrow.ace_ok{        border-color: #5aaa5a    }    .error_widget_arrow {        position: absolute;        border: solid 5px;        border-top-color: transparent!important;        border-right-color: transparent!important;        border-left-color: transparent!important;        top: -5px;    }","")})),ace.define("ace/ace",["require","exports","module","ace/lib/fixoldbrowsers","ace/lib/dom","ace/lib/event","ace/range","ace/editor","ace/edit_session","ace/undomanager","ace/virtual_renderer","ace/worker/worker_client","ace/keyboard/hash_handler","ace/placeholder","ace/multi_select","ace/mode/folding/fold_mode","ace/theme/textmate","ace/ext/error_marker","ace/config"],(function(l,c,f){l("./lib/fixoldbrowsers");var h=l("./lib/dom"),v=l("./lib/event"),m=l("./range").Range,_=l("./editor").Editor,g=l("./edit_session").EditSession,y=l("./undomanager").UndoManager,u=l("./virtual_renderer").VirtualRenderer;l("./worker/worker_client"),l("./keyboard/hash_handler"),l("./placeholder"),l("./multi_select"),l("./mode/folding/fold_mode"),l("./theme/textmate"),l("./ext/error_marker"),c.config=l("./config"),c.require=l,c.define=o.amdD,c.edit=function(b,S){if(typeof b=="string"){var T=b;if(!(b=document.getElementById(T)))throw new Error("ace.edit can't find div #"+T)}if(b&&b.env&&b.env.editor instanceof _)return b.env.editor;var R="";if(b&&/input|textarea/i.test(b.tagName)){var O=b;R=O.value,b=h.createElement("pre"),O.parentNode.replaceChild(b,O)}else b&&(R=b.textContent,b.innerHTML="");var C=c.createEditSession(R),I=new _(new u(b),C,S),F={document:C,editor:I,onResize:I.resize.bind(I,null)};return O&&(F.textarea=O),v.addListener(window,"resize",F.onResize),I.on("destroy",(function(){v.removeListener(window,"resize",F.onResize),F.editor.container.env=null})),I.container.env=I.env=F,I},c.createEditSession=function(b,S){var T=new g(b,S);return T.setUndoManager(new y),T},c.Range=m,c.Editor=_,c.EditSession=g,c.UndoManager=y,c.VirtualRenderer=u,c.version=c.config.version})),ace.require(["ace/ace"],(function(l){for(var c in l&&(l.config.init(!0),l.define=ace.define),window.ace||(window.ace=l),l)l.hasOwnProperty(c)&&(window.ace[c]=l[c]);window.ace.default=window.ace,s&&(s.exports=window.ace)})),s.exports={ace}},655:(s,a,o)=>{var l=o(379),c=o.n(l),f=o(795),h=o.n(f),v=o(569),m=o.n(v),_=o(565),g=o.n(_),y=o(216),u=o.n(y),b=o(589),S=o.n(b),T=o(827),R={};R.styleTagTransform=S(),R.setAttributes=g(),R.insert=m().bind(null,"html"),R.domAPI=h(),R.insertStyleElement=u(),c()(T.Z,R),T.Z&&T.Z.locals&&T.Z.locals},379:s=>{var a=[];function o(f){for(var h=-1,v=0;v<a.length;v++)if(a[v].identifier===f){h=v;break}return h}function l(f,h){for(var v={},m=[],_=0;_<f.length;_++){var g=f[_],y=h.base?g[0]+h.base:g[0],u=v[y]||0,b="".concat(y," ").concat(u);v[y]=u+1;var S=o(b),T={css:g[1],media:g[2],sourceMap:g[3],supports:g[4],layer:g[5]};if(S!==-1)a[S].references++,a[S].updater(T);else{var R=c(T,h);h.byIndex=_,a.splice(_,0,{identifier:b,updater:R,references:1})}m.push(b)}return m}function c(f,h){var v=h.domAPI(h);return v.update(f),function(m){if(m){if(m.css===f.css&&m.media===f.media&&m.sourceMap===f.sourceMap&&m.supports===f.supports&&m.layer===f.layer)return;v.update(f=m)}else v.remove()}}s.exports=function(f,h){var v=l(f=f||[],h=h||{});return function(m){m=m||[];for(var _=0;_<v.length;_++){var g=o(v[_]);a[g].references--}for(var y=l(m,h),u=0;u<v.length;u++){var b=o(v[u]);a[b].references===0&&(a[b].updater(),a.splice(b,1))}v=y}}},569:s=>{var a={};s.exports=function(o,l){var c=(function(f){if(a[f]===void 0){var h=document.querySelector(f);if(window.HTMLIFrameElement&&h instanceof window.HTMLIFrameElement)try{h=h.contentDocument.head}catch{h=null}a[f]=h}return a[f]})(o);if(!c)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");c.appendChild(l)}},216:s=>{s.exports=function(a){var o=document.createElement("style");return a.setAttributes(o,a.attributes),a.insert(o,a.options),o}},565:(s,a,o)=>{s.exports=function(l){var c=o.nc;c&&l.setAttribute("nonce",c)}},795:s=>{s.exports=function(a){var o=a.insertStyleElement(a);return{update:function(l){(function(c,f,h){var v="";h.supports&&(v+="@supports (".concat(h.supports,") {")),h.media&&(v+="@media ".concat(h.media," {"));var m=h.layer!==void 0;m&&(v+="@layer".concat(h.layer.length>0?" ".concat(h.layer):""," {")),v+=h.css,m&&(v+="}"),h.media&&(v+="}"),h.supports&&(v+="}");var _=h.sourceMap;_&&typeof btoa<"u"&&(v+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(_))))," */")),f.styleTagTransform(v,c,f.options)})(o,a,l)},remove:function(){(function(l){if(l.parentNode===null)return!1;l.parentNode.removeChild(l)})(o)}}}},589:s=>{s.exports=function(a,o){if(o.styleSheet)o.styleSheet.cssText=a;else{for(;o.firstChild;)o.removeChild(o.firstChild);o.appendChild(document.createTextNode(a))}}},986:(s,a,o)=>{o.r(a),o.d(a,{EmbeddedFrontend:()=>Ia,Spector:()=>Ls});class l{static isBuildableProgram(A){return!!A&&!!A[this.rebuildProgramFunctionName]}static rebuildProgram(A,z,re,te,Ae){this.isBuildableProgram(A)&&A[this.rebuildProgramFunctionName](z,re,te,Ae)}}var c;l.rebuildProgramFunctionName="__SPECTOR_rebuildProgram",(function(Tn){Tn[Tn.noLog=0]="noLog",Tn[Tn.error=1]="error",Tn[Tn.warning=2]="warning",Tn[Tn.info=3]="info"})(c||(c={}));class f{static error(A,...z){this.level>0&&console.error(A,z)}static warn(A,...z){this.level>1&&console.warn(A,z)}static info(A,...z){this.level>2&&console.log(A,z)}}f.level=c.warning;class h{constructor(){this.callbacks=[],this.counter=-1}add(A,z){return this.counter++,z&&(A=A.bind(z)),this.callbacks[this.counter]=A,this.counter}remove(A){delete this.callbacks[A]}clear(){this.callbacks={}}trigger(A){for(const z in this.callbacks)this.callbacks.hasOwnProperty(z)&&this.callbacks[z](A)}}class v{constructor(){if(window.performance&&window.performance.now)this.nowFunction=this.dateBasedPerformanceNow.bind(this);else{const A=new Date;this.nowFunction=A.getTime.bind(A)}}dateBasedPerformanceNow(){return performance.timing.navigationStart+performance.now()}static get now(){return v.instance.nowFunction()}}v.instance=new v;class m{constructor(A){this.options=A}appendAnalysis(A){A.analyses=A.analyses||[];const z=this.getAnalysis(A);A.analyses.push(z)}getAnalysis(A){const z={analyserName:this.analyserName};return this.appendToAnalysis(A,z),z}}class _ extends m{get analyserName(){return _.analyserName}appendToAnalysis(A,z){if(!A.commands)return;const re={};for(const Ae of A.commands)re[Ae.name]=re[Ae.name]||0,re[Ae.name]++;const te=Object.keys(re).map((Ae=>[Ae,re[Ae]]));te.sort(((Ae,ke)=>{const P=ke[1]-Ae[1];return P===0?Ae[0].localeCompare(ke[0]):P}));for(const Ae of te)z[Ae[0]]=Ae[1]}}_.analyserName="Commands";const g=["drawArrays","drawElements","drawArraysInstanced","drawArraysInstancedANGLE","drawElementsInstanced","drawElementsInstancedANGLE","drawRangeElements","multiDrawArraysWEBGL","multiDrawElementsWEBGL","multiDrawArraysInstancedWEBGL","multiDrawElementsInstancedWEBGL","multiDrawArraysInstancedBaseInstanceWEBGL","multiDrawElementsInstancedBaseVertexBaseInstanceWEBGL","drawArraysInstancedBaseInstanceWEBGL","drawElementsInstancedBaseVertexBaseInstanceWEBGL"];class y extends m{get analyserName(){return y.analyserName}appendToAnalysis(A,z){if(A.commands){z.total=A.commands.length,z.draw=0,z.clear=0;for(const re of A.commands)re.name==="clear"?z.clear++:g.indexOf(re.name)>-1&&z.draw++}}}y.analyserName="CommandsSummary";class u{static isWebGlConstant(A){return S[A]!==null&&S[A]!==void 0}static stringifyWebGlConstant(A,z){if(A==null)return"";if(A===0)return this.zeroMeaningByCommand[z]||"0";if(A===1)return this.oneMeaningByCommand[z]||"1";const re=S[A];return re?re.name:A+""}}u.DEPTH_BUFFER_BIT={name:"DEPTH_BUFFER_BIT",value:256,description:"Passed to clear to clear the current depth buffer."},u.STENCIL_BUFFER_BIT={name:"STENCIL_BUFFER_BIT",value:1024,description:"Passed to clear to clear the current stencil buffer."},u.COLOR_BUFFER_BIT={name:"COLOR_BUFFER_BIT",value:16384,description:"Passed to clear to clear the current color buffer."},u.POINTS={name:"POINTS",value:0,description:"Passed to drawElements or drawArrays to draw single points."},u.LINES={name:"LINES",value:1,description:"Passed to drawElements or drawArrays to draw lines. Each vertex connects to the one after it."},u.LINE_LOOP={name:"LINE_LOOP",value:2,description:"Passed to drawElements or drawArrays to draw lines. Each set of two vertices is treated as a separate line segment."},u.LINE_STRIP={name:"LINE_STRIP",value:3,description:"Passed to drawElements or drawArrays to draw a connected group of line segments from the first vertex to the last."},u.TRIANGLES={name:"TRIANGLES",value:4,description:"Passed to drawElements or drawArrays to draw triangles. Each set of three vertices creates a separate triangle."},u.TRIANGLE_STRIP={name:"TRIANGLE_STRIP",value:5,description:"Passed to drawElements or drawArrays to draw a connected group of triangles."},u.TRIANGLE_FAN={name:"TRIANGLE_FAN",value:6,description:"Passed to drawElements or drawArrays to draw a connected group of triangles. Each vertex connects to the previous and the first vertex in the fan."},u.ZERO={name:"ZERO",value:0,description:"Passed to blendFunc or blendFuncSeparate to turn off a component."},u.ONE={name:"ONE",value:1,description:"Passed to blendFunc or blendFuncSeparate to turn on a component."},u.SRC_COLOR={name:"SRC_COLOR",value:768,description:"Passed to blendFunc or blendFuncSeparate to multiply a component by the source elements color."},u.ONE_MINUS_SRC_COLOR={name:"ONE_MINUS_SRC_COLOR",value:769,description:"Passed to blendFunc or blendFuncSeparate to multiply a component by one minus the source elements color."},u.SRC_ALPHA={name:"SRC_ALPHA",value:770,description:"Passed to blendFunc or blendFuncSeparate to multiply a component by the source's alpha."},u.ONE_MINUS_SRC_ALPHA={name:"ONE_MINUS_SRC_ALPHA",value:771,description:"Passed to blendFunc or blendFuncSeparate to multiply a component by one minus the source's alpha."},u.DST_ALPHA={name:"DST_ALPHA",value:772,description:"Passed to blendFunc or blendFuncSeparate to multiply a component by the destination's alpha."},u.ONE_MINUS_DST_ALPHA={name:"ONE_MINUS_DST_ALPHA",value:773,description:"Passed to blendFunc or blendFuncSeparate to multiply a component by one minus the destination's alpha."},u.DST_COLOR={name:"DST_COLOR",value:774,description:"Passed to blendFunc or blendFuncSeparate to multiply a component by the destination's color."},u.ONE_MINUS_DST_COLOR={name:"ONE_MINUS_DST_COLOR",value:775,description:"Passed to blendFunc or blendFuncSeparate to multiply a component by one minus the destination's color."},u.SRC_ALPHA_SATURATE={name:"SRC_ALPHA_SATURATE",value:776,description:"Passed to blendFunc or blendFuncSeparate to multiply a component by the minimum of source's alpha or one minus the destination's alpha."},u.CONSTANT_COLOR={name:"CONSTANT_COLOR",value:32769,description:"Passed to blendFunc or blendFuncSeparate to specify a constant color blend function."},u.ONE_MINUS_CONSTANT_COLOR={name:"ONE_MINUS_CONSTANT_COLOR",value:32770,description:"Passed to blendFunc or blendFuncSeparate to specify one minus a constant color blend function."},u.CONSTANT_ALPHA={name:"CONSTANT_ALPHA",value:32771,description:"Passed to blendFunc or blendFuncSeparate to specify a constant alpha blend function."},u.ONE_MINUS_CONSTANT_ALPHA={name:"ONE_MINUS_CONSTANT_ALPHA",value:32772,description:"Passed to blendFunc or blendFuncSeparate to specify one minus a constant alpha blend function."},u.FUNC_ADD={name:"FUNC_ADD",value:32774,description:"Passed to blendEquation or blendEquationSeparate to set an addition blend function."},u.FUNC_SUBSTRACT={name:"FUNC_SUBSTRACT",value:32778,description:"Passed to blendEquation or blendEquationSeparate to specify a subtraction blend function (source - destination)."},u.FUNC_REVERSE_SUBTRACT={name:"FUNC_REVERSE_SUBTRACT",value:32779,description:"Passed to blendEquation or blendEquationSeparate to specify a reverse subtraction blend function (destination - source)."},u.BLEND_EQUATION={name:"BLEND_EQUATION",value:32777,description:"Passed to getParameter to get the current RGB blend function."},u.BLEND_EQUATION_RGB={name:"BLEND_EQUATION_RGB",value:32777,description:"Passed to getParameter to get the current RGB blend function. Same as BLEND_EQUATION"},u.BLEND_EQUATION_ALPHA={name:"BLEND_EQUATION_ALPHA",value:34877,description:"Passed to getParameter to get the current alpha blend function. Same as BLEND_EQUATION"},u.BLEND_DST_RGB={name:"BLEND_DST_RGB",value:32968,description:"Passed to getParameter to get the current destination RGB blend function."},u.BLEND_SRC_RGB={name:"BLEND_SRC_RGB",value:32969,description:"Passed to getParameter to get the current destination RGB blend function."},u.BLEND_DST_ALPHA={name:"BLEND_DST_ALPHA",value:32970,description:"Passed to getParameter to get the current destination alpha blend function."},u.BLEND_SRC_ALPHA={name:"BLEND_SRC_ALPHA",value:32971,description:"Passed to getParameter to get the current source alpha blend function."},u.BLEND_COLOR={name:"BLEND_COLOR",value:32773,description:"Passed to getParameter to return a the current blend color."},u.ARRAY_BUFFER_BINDING={name:"ARRAY_BUFFER_BINDING",value:34964,description:"Passed to getParameter to get the array buffer binding."},u.ELEMENT_ARRAY_BUFFER_BINDING={name:"ELEMENT_ARRAY_BUFFER_BINDING",value:34965,description:"Passed to getParameter to get the current element array buffer."},u.LINE_WIDTH={name:"LINE_WIDTH",value:2849,description:"Passed to getParameter to get the current lineWidth (set by the lineWidth method)."},u.ALIASED_POINT_SIZE_RANGE={name:"ALIASED_POINT_SIZE_RANGE",value:33901,description:"Passed to getParameter to get the current size of a point drawn with gl.POINTS"},u.ALIASED_LINE_WIDTH_RANGE={name:"ALIASED_LINE_WIDTH_RANGE",value:33902,description:"Passed to getParameter to get the range of available widths for a line. Returns a length-2 array with the lo value at 0, and hight at 1."},u.CULL_FACE_MODE={name:"CULL_FACE_MODE",value:2885,description:"Passed to getParameter to get the current value of cullFace. Should return FRONT, BACK, or FRONT_AND_BACK"},u.FRONT_FACE={name:"FRONT_FACE",value:2886,description:"Passed to getParameter to determine the current value of frontFace. Should return CW or CCW."},u.DEPTH_RANGE={name:"DEPTH_RANGE",value:2928,description:"Passed to getParameter to return a length-2 array of floats giving the current depth range."},u.DEPTH_WRITEMASK={name:"DEPTH_WRITEMASK",value:2930,description:"Passed to getParameter to determine if the depth write mask is enabled."},u.DEPTH_CLEAR_VALUE={name:"DEPTH_CLEAR_VALUE",value:2931,description:"Passed to getParameter to determine the current depth clear value."},u.DEPTH_FUNC={name:"DEPTH_FUNC",value:2932,description:"Passed to getParameter to get the current depth function. Returns NEVER, ALWAYS, LESS, EQUAL, LEQUAL, GREATER, GEQUAL, or NOTEQUAL."},u.STENCIL_CLEAR_VALUE={name:"STENCIL_CLEAR_VALUE",value:2961,description:"Passed to getParameter to get the value the stencil will be cleared to."},u.STENCIL_FUNC={name:"STENCIL_FUNC",value:2962,description:"Passed to getParameter to get the current stencil function. Returns NEVER, ALWAYS, LESS, EQUAL, LEQUAL, GREATER, GEQUAL, or NOTEQUAL."},u.STENCIL_FAIL={name:"STENCIL_FAIL",value:2964,description:"Passed to getParameter to get the current stencil fail function. Should return KEEP, REPLACE, INCR, DECR, INVERT, INCR_WRAP, or DECR_WRAP."},u.STENCIL_PASS_DEPTH_FAIL={name:"STENCIL_PASS_DEPTH_FAIL",value:2965,description:"Passed to getParameter to get the current stencil fail function should the depth buffer test fail. Should return KEEP, REPLACE, INCR, DECR, INVERT, INCR_WRAP, or DECR_WRAP."},u.STENCIL_PASS_DEPTH_PASS={name:"STENCIL_PASS_DEPTH_PASS",value:2966,description:"Passed to getParameter to get the current stencil fail function should the depth buffer test pass. Should return KEEP, REPLACE, INCR, DECR, INVERT, INCR_WRAP, or DECR_WRAP."},u.STENCIL_REF={name:"STENCIL_REF",value:2967,description:"Passed to getParameter to get the reference value used for stencil tests."},u.STENCIL_VALUE_MASK={name:"STENCIL_VALUE_MASK",value:2963,description:"Â "},u.STENCIL_WRITEMASK={name:"STENCIL_WRITEMASK",value:2968,description:"Â "},u.STENCIL_BACK_FUNC={name:"STENCIL_BACK_FUNC",value:34816,description:"Â "},u.STENCIL_BACK_FAIL={name:"STENCIL_BACK_FAIL",value:34817,description:"Â "},u.STENCIL_BACK_PASS_DEPTH_FAIL={name:"STENCIL_BACK_PASS_DEPTH_FAIL",value:34818,description:"Â "},u.STENCIL_BACK_PASS_DEPTH_PASS={name:"STENCIL_BACK_PASS_DEPTH_PASS",value:34819,description:"Â "},u.STENCIL_BACK_REF={name:"STENCIL_BACK_REF",value:36003,description:"Â "},u.STENCIL_BACK_VALUE_MASK={name:"STENCIL_BACK_VALUE_MASK",value:36004,description:"Â "},u.STENCIL_BACK_WRITEMASK={name:"STENCIL_BACK_WRITEMASK",value:36005,description:"Â "},u.VIEWPORT={name:"VIEWPORT",value:2978,description:"Returns an Int32Array with four elements for the current viewport dimensions."},u.SCISSOR_BOX={name:"SCISSOR_BOX",value:3088,description:"Returns an Int32Array with four elements for the current scissor box dimensions."},u.COLOR_CLEAR_VALUE={name:"COLOR_CLEAR_VALUE",value:3106,description:"Â "},u.COLOR_WRITEMASK={name:"COLOR_WRITEMASK",value:3107,description:"Â "},u.UNPACK_ALIGNMENT={name:"UNPACK_ALIGNMENT",value:3317,description:"Â "},u.PACK_ALIGNMENT={name:"PACK_ALIGNMENT",value:3333,description:"Â "},u.MAX_TEXTURE_SIZE={name:"MAX_TEXTURE_SIZE",value:3379,description:"Â "},u.MAX_VIEWPORT_DIMS={name:"MAX_VIEWPORT_DIMS",value:3386,description:"Â "},u.SUBPIXEL_BITS={name:"SUBPIXEL_BITS",value:3408,description:"Â "},u.RED_BITS={name:"RED_BITS",value:3410,description:"Â "},u.GREEN_BITS={name:"GREEN_BITS",value:3411,description:"Â "},u.BLUE_BITS={name:"BLUE_BITS",value:3412,description:"Â "},u.ALPHA_BITS={name:"ALPHA_BITS",value:3413,description:"Â "},u.DEPTH_BITS={name:"DEPTH_BITS",value:3414,description:"Â "},u.STENCIL_BITS={name:"STENCIL_BITS",value:3415,description:"Â "},u.POLYGON_OFFSET_UNITS={name:"POLYGON_OFFSET_UNITS",value:10752,description:"Â "},u.POLYGON_OFFSET_FACTOR={name:"POLYGON_OFFSET_FACTOR",value:32824,description:"Â "},u.TEXTURE_BINDING_2D={name:"TEXTURE_BINDING_2D",value:32873,description:"Â "},u.SAMPLE_BUFFERS={name:"SAMPLE_BUFFERS",value:32936,description:"Â "},u.SAMPLES={name:"SAMPLES",value:32937,description:"Â "},u.SAMPLE_COVERAGE_VALUE={name:"SAMPLE_COVERAGE_VALUE",value:32938,description:"Â "},u.SAMPLE_COVERAGE_INVERT={name:"SAMPLE_COVERAGE_INVERT",value:32939,description:"Â "},u.COMPRESSED_TEXTURE_FORMATS={name:"COMPRESSED_TEXTURE_FORMATS",value:34467,description:"Â "},u.VENDOR={name:"VENDOR",value:7936,description:"Â "},u.RENDERER={name:"RENDERER",value:7937,description:"Â "},u.VERSION={name:"VERSION",value:7938,description:"Â "},u.IMPLEMENTATION_COLOR_READ_TYPE={name:"IMPLEMENTATION_COLOR_READ_TYPE",value:35738,description:"Â "},u.IMPLEMENTATION_COLOR_READ_FORMAT={name:"IMPLEMENTATION_COLOR_READ_FORMAT",value:35739,description:"Â "},u.BROWSER_DEFAULT_WEBGL={name:"BROWSER_DEFAULT_WEBGL",value:37444,description:"Â "},u.STATIC_DRAW={name:"STATIC_DRAW",value:35044,description:"Passed to bufferData as a hint about whether the contents of the buffer are likely to be used often and not change often."},u.STREAM_DRAW={name:"STREAM_DRAW",value:35040,description:"Passed to bufferData as a hint about whether the contents of the buffer are likely to not be used often."},u.DYNAMIC_DRAW={name:"DYNAMIC_DRAW",value:35048,description:"Passed to bufferData as a hint about whether the contents of the buffer are likely to be used often and change often."},u.ARRAY_BUFFER={name:"ARRAY_BUFFER",value:34962,description:"Passed to bindBuffer or bufferData to specify the type of buffer being used."},u.ELEMENT_ARRAY_BUFFER={name:"ELEMENT_ARRAY_BUFFER",value:34963,description:"Passed to bindBuffer or bufferData to specify the type of buffer being used."},u.BUFFER_SIZE={name:"BUFFER_SIZE",value:34660,description:"Passed to getBufferParameter to get a buffer's size."},u.BUFFER_USAGE={name:"BUFFER_USAGE",value:34661,description:"Passed toÂ getBufferParameter to get the hint for the buffer passed in when it was created."},u.CURRENT_VERTEX_ATTRIB={name:"CURRENT_VERTEX_ATTRIB",value:34342,description:"Passed to getVertexAttrib to read back the current vertex attribute."},u.VERTEX_ATTRIB_ARRAY_ENABLED={name:"VERTEX_ATTRIB_ARRAY_ENABLED",value:34338,description:"Â "},u.VERTEX_ATTRIB_ARRAY_SIZE={name:"VERTEX_ATTRIB_ARRAY_SIZE",value:34339,description:"Â "},u.VERTEX_ATTRIB_ARRAY_STRIDE={name:"VERTEX_ATTRIB_ARRAY_STRIDE",value:34340,description:"Â "},u.VERTEX_ATTRIB_ARRAY_TYPE={name:"VERTEX_ATTRIB_ARRAY_TYPE",value:34341,description:"Â "},u.VERTEX_ATTRIB_ARRAY_NORMALIZED={name:"VERTEX_ATTRIB_ARRAY_NORMALIZED",value:34922,description:"Â "},u.VERTEX_ATTRIB_ARRAY_POINTER={name:"VERTEX_ATTRIB_ARRAY_POINTER",value:34373,description:"Â "},u.VERTEX_ATTRIB_ARRAY_BUFFER_BINDING={name:"VERTEX_ATTRIB_ARRAY_BUFFER_BINDING",value:34975,description:"Â "},u.CULL_FACE={name:"CULL_FACE",value:2884,description:"Passed to enable/disable to turn on/off culling. Can also be used with getParameter to find the current culling method."},u.FRONT={name:"FRONT",value:1028,description:"Passed to cullFace to specify that only front faces should be drawn."},u.BACK={name:"BACK",value:1029,description:"Passed to cullFace to specify that only back faces should be drawn."},u.FRONT_AND_BACK={name:"FRONT_AND_BACK",value:1032,description:"Passed toÂ cullFace to specify that front and back faces should be drawn."},u.BLEND={name:"BLEND",value:3042,description:"Passed to enable/disable to turn on/off blending. Can also be used with getParameter to find the current blending method."},u.DEPTH_TEST={name:"DEPTH_TEST",value:2929,description:"Passed to enable/disable to turn on/off the depth test. Can also be used with getParameter to query the depth test."},u.DITHER={name:"DITHER",value:3024,description:"Passed to enable/disable to turn on/off dithering. Can also be used with getParameter to find the current dithering method."},u.POLYGON_OFFSET_FILL={name:"POLYGON_OFFSET_FILL",value:32823,description:"Passed to enable/disable to turn on/off the polygon offset. Useful for rendering hidden-line images, decals, and or solids with highlighted edges. Can also be used with getParameter to query the scissor test."},u.SAMPLE_ALPHA_TO_COVERAGE={name:"SAMPLE_ALPHA_TO_COVERAGE",value:32926,description:"Passed to enable/disable to turn on/off the alpha to coverage. Used in multi-sampling alpha channels."},u.SAMPLE_COVERAGE={name:"SAMPLE_COVERAGE",value:32928,description:"Passed to enable/disable to turn on/off the sample coverage. Used in multi-sampling."},u.SCISSOR_TEST={name:"SCISSOR_TEST",value:3089,description:"Passed to enable/disable to turn on/off the scissor test. Can also be used with getParameter to query the scissor test."},u.STENCIL_TEST={name:"STENCIL_TEST",value:2960,description:"Passed to enable/disable to turn on/off the stencil test. Can also be used with getParameter to query the stencil test."},u.NO_ERROR={name:"NO_ERROR",value:0,description:"Returned from getError."},u.INVALID_ENUM={name:"INVALID_ENUM",value:1280,description:"Returned from getError."},u.INVALID_VALUE={name:"INVALID_VALUE",value:1281,description:"Returned from getError."},u.INVALID_OPERATION={name:"INVALID_OPERATION",value:1282,description:"Returned from getError."},u.OUT_OF_MEMORY={name:"OUT_OF_MEMORY",value:1285,description:"Returned from getError."},u.CONTEXT_LOST_WEBGL={name:"CONTEXT_LOST_WEBGL",value:37442,description:"Returned from getError."},u.CW={name:"CW",value:2304,description:"Passed to frontFace to specify the front face of a polygon is drawn in the clockwise direction"},u.CCW={name:"CCW",value:2305,description:"Passed to frontFace to specify the front face of a polygon is drawn in the counter clockwise direction"},u.DONT_CARE={name:"DONT_CARE",value:4352,description:"There is no preference for this behavior."},u.FASTEST={name:"FASTEST",value:4353,description:"The most efficient behavior should be used."},u.NICEST={name:"NICEST",value:4354,description:"The most correct or the highest quality option should be used."},u.GENERATE_MIPMAP_HINT={name:"GENERATE_MIPMAP_HINT",value:33170,description:"Hint for the quality of filtering when generating mipmap images with WebGLRenderingContext.generateMipmap()."},u.BYTE={name:"BYTE",value:5120,description:"Â "},u.UNSIGNED_BYTE={name:"UNSIGNED_BYTE",value:5121,description:"Â "},u.SHORT={name:"SHORT",value:5122,description:"Â "},u.UNSIGNED_SHORT={name:"UNSIGNED_SHORT",value:5123,description:"Â "},u.INT={name:"INT",value:5124,description:"Â "},u.UNSIGNED_INT={name:"UNSIGNED_INT",value:5125,description:"Â "},u.FLOAT={name:"FLOAT",value:5126,description:"Â "},u.DEPTH_COMPONENT={name:"DEPTH_COMPONENT",value:6402,description:"Â "},u.ALPHA={name:"ALPHA",value:6406,description:"Â "},u.RGB={name:"RGB",value:6407,description:"Â "},u.RGBA={name:"RGBA",value:6408,description:"Â "},u.LUMINANCE={name:"LUMINANCE",value:6409,description:"Â "},u.LUMINANCE_ALPHA={name:"LUMINANCE_ALPHA",value:6410,description:"Â "},u.UNSIGNED_SHORT_4_4_4_4={name:"UNSIGNED_SHORT_4_4_4_4",value:32819,description:"Â "},u.UNSIGNED_SHORT_5_5_5_1={name:"UNSIGNED_SHORT_5_5_5_1",value:32820,description:"Â "},u.UNSIGNED_SHORT_5_6_5={name:"UNSIGNED_SHORT_5_6_5",value:33635,description:"Â "},u.FRAGMENT_SHADER={name:"FRAGMENT_SHADER",value:35632,description:"Passed to createShader to define a fragment shader."},u.VERTEX_SHADER={name:"VERTEX_SHADER",value:35633,description:"Passed to createShader to define a vertex shader"},u.COMPILE_STATUS={name:"COMPILE_STATUS",value:35713,description:"Passed to getShaderParamter to get the status of the compilation. Returns false if the shader was not compiled. You can then query getShaderInfoLog to find the exact error"},u.DELETE_STATUS={name:"DELETE_STATUS",value:35712,description:"Passed to getShaderParamter to determine if a shader was deleted via deleteShader. Returns true if it was, false otherwise."},u.LINK_STATUS={name:"LINK_STATUS",value:35714,description:"Passed to getProgramParameter after calling linkProgram to determine if a program was linked correctly. Returns false if there were errors. Use getProgramInfoLog to find the exact error."},u.VALIDATE_STATUS={name:"VALIDATE_STATUS",value:35715,description:"Passed to getProgramParameter after calling validateProgram to determine if it is valid. Returns false if errors were found."},u.ATTACHED_SHADERS={name:"ATTACHED_SHADERS",value:35717,description:"Passed to getProgramParameter after calling attachShader to determine if the shader was attached correctly. Returns false if errors occurred."},u.ACTIVE_ATTRIBUTES={name:"ACTIVE_ATTRIBUTES",value:35721,description:"Passed to getProgramParameter to get the number of attributes active in a program."},u.ACTIVE_UNIFORMS={name:"ACTIVE_UNIFORMS",value:35718,description:"Passed to getProgramParamter to get the number of uniforms active in a program."},u.MAX_VERTEX_ATTRIBS={name:"MAX_VERTEX_ATTRIBS",value:34921,description:"Â "},u.MAX_VERTEX_UNIFORM_VECTORS={name:"MAX_VERTEX_UNIFORM_VECTORS",value:36347,description:"Â "},u.MAX_VARYING_VECTORS={name:"MAX_VARYING_VECTORS",value:36348,description:"Â "},u.MAX_COMBINED_TEXTURE_IMAGE_UNITS={name:"MAX_COMBINED_TEXTURE_IMAGE_UNITS",value:35661,description:"Â "},u.MAX_VERTEX_TEXTURE_IMAGE_UNITS={name:"MAX_VERTEX_TEXTURE_IMAGE_UNITS",value:35660,description:"Â "},u.MAX_TEXTURE_IMAGE_UNITS={name:"MAX_TEXTURE_IMAGE_UNITS",value:34930,description:"Implementation dependent number of maximum texture units. At least 8."},u.MAX_FRAGMENT_UNIFORM_VECTORS={name:"MAX_FRAGMENT_UNIFORM_VECTORS",value:36349,description:"Â "},u.SHADER_TYPE={name:"SHADER_TYPE",value:35663,description:"Â "},u.SHADING_LANGUAGE_VERSION={name:"SHADING_LANGUAGE_VERSION",value:35724,description:"Â "},u.CURRENT_PROGRAM={name:"CURRENT_PROGRAM",value:35725,description:"Â "},u.NEVER={name:"NEVER",value:512,description:"Passed to depthFunction or stencilFunction to specify depth or stencil tests will never pass. i.e. Nothing will be drawn."},u.ALWAYS={name:"ALWAYS",value:519,description:"Passed to depthFunction or stencilFunction to specify depth or stencil tests will always pass. i.e. Pixels will be drawn in the order they are drawn."},u.LESS={name:"LESS",value:513,description:"Passed to depthFunction or stencilFunction to specify depth or stencil tests will pass if the new depth value is less than the stored value."},u.EQUAL={name:"EQUAL",value:514,description:"Passed to depthFunction or stencilFunction to specify depth or stencil tests will pass if the new depth value is equals to the stored value."},u.LEQUAL={name:"LEQUAL",value:515,description:"Passed to depthFunction or stencilFunction to specify depth or stencil tests will pass if the new depth value is less than or equal to the stored value."},u.GREATER={name:"GREATER",value:516,description:"Passed to depthFunction or stencilFunction to specify depth or stencil tests will pass if the new depth value is greater than the stored value."},u.GEQUAL={name:"GEQUAL",value:518,description:"Passed to depthFunction or stencilFunction to specify depth or stencil tests will pass if the new depth value is greater than or equal to the stored value."},u.NOTEQUAL={name:"NOTEQUAL",value:517,description:"Passed to depthFunction or stencilFunction to specify depth or stencil tests will pass if the new depth value is not equal to the stored value."},u.KEEP={name:"KEEP",value:7680,description:"Â "},u.REPLACE={name:"REPLACE",value:7681,description:"Â "},u.INCR={name:"INCR",value:7682,description:"Â "},u.DECR={name:"DECR",value:7683,description:"Â "},u.INVERT={name:"INVERT",value:5386,description:"Â "},u.INCR_WRAP={name:"INCR_WRAP",value:34055,description:"Â "},u.DECR_WRAP={name:"DECR_WRAP",value:34056,description:"Â "},u.NEAREST={name:"NEAREST",value:9728,description:"Â "},u.LINEAR={name:"LINEAR",value:9729,description:"Â "},u.NEAREST_MIPMAP_NEAREST={name:"NEAREST_MIPMAP_NEAREST",value:9984,description:"Â "},u.LINEAR_MIPMAP_NEAREST={name:"LINEAR_MIPMAP_NEAREST",value:9985,description:"Â "},u.NEAREST_MIPMAP_LINEAR={name:"NEAREST_MIPMAP_LINEAR",value:9986,description:"Â "},u.LINEAR_MIPMAP_LINEAR={name:"LINEAR_MIPMAP_LINEAR",value:9987,description:"Â "},u.TEXTURE_MAG_FILTER={name:"TEXTURE_MAG_FILTER",value:10240,description:"Â "},u.TEXTURE_MIN_FILTER={name:"TEXTURE_MIN_FILTER",value:10241,description:"Â "},u.TEXTURE_WRAP_S={name:"TEXTURE_WRAP_S",value:10242,description:"Â "},u.TEXTURE_WRAP_T={name:"TEXTURE_WRAP_T",value:10243,description:"Â "},u.TEXTURE_2D={name:"TEXTURE_2D",value:3553,description:"Â "},u.TEXTURE={name:"TEXTURE",value:5890,description:"Â "},u.TEXTURE_CUBE_MAP={name:"TEXTURE_CUBE_MAP",value:34067,description:"Â "},u.TEXTURE_BINDING_CUBE_MAP={name:"TEXTURE_BINDING_CUBE_MAP",value:34068,description:"Â "},u.TEXTURE_CUBE_MAP_POSITIVE_X={name:"TEXTURE_CUBE_MAP_POSITIVE_X",value:34069,description:"Â "},u.TEXTURE_CUBE_MAP_NEGATIVE_X={name:"TEXTURE_CUBE_MAP_NEGATIVE_X",value:34070,description:"Â "},u.TEXTURE_CUBE_MAP_POSITIVE_Y={name:"TEXTURE_CUBE_MAP_POSITIVE_Y",value:34071,description:"Â "},u.TEXTURE_CUBE_MAP_NEGATIVE_Y={name:"TEXTURE_CUBE_MAP_NEGATIVE_Y",value:34072,description:"Â "},u.TEXTURE_CUBE_MAP_POSITIVE_Z={name:"TEXTURE_CUBE_MAP_POSITIVE_Z",value:34073,description:"Â "},u.TEXTURE_CUBE_MAP_NEGATIVE_Z={name:"TEXTURE_CUBE_MAP_NEGATIVE_Z",value:34074,description:"Â "},u.MAX_CUBE_MAP_TEXTURE_SIZE={name:"MAX_CUBE_MAP_TEXTURE_SIZE",value:34076,description:"Â "},u.TEXTURE0={name:"TEXTURE0",value:33984,description:"A texture unit."},u.TEXTURE1={name:"TEXTURE1",value:33985,description:"A texture unit."},u.TEXTURE2={name:"TEXTURE2",value:33986,description:"A texture unit."},u.TEXTURE3={name:"TEXTURE3",value:33987,description:"A texture unit."},u.TEXTURE4={name:"TEXTURE4",value:33988,description:"A texture unit."},u.TEXTURE5={name:"TEXTURE5",value:33989,description:"A texture unit."},u.TEXTURE6={name:"TEXTURE6",value:33990,description:"A texture unit."},u.TEXTURE7={name:"TEXTURE7",value:33991,description:"A texture unit."},u.TEXTURE8={name:"TEXTURE8",value:33992,description:"A texture unit."},u.TEXTURE9={name:"TEXTURE9",value:33993,description:"A texture unit."},u.TEXTURE10={name:"TEXTURE10",value:33994,description:"A texture unit."},u.TEXTURE11={name:"TEXTURE11",value:33995,description:"A texture unit."},u.TEXTURE12={name:"TEXTURE12",value:33996,description:"A texture unit."},u.TEXTURE13={name:"TEXTURE13",value:33997,description:"A texture unit."},u.TEXTURE14={name:"TEXTURE14",value:33998,description:"A texture unit."},u.TEXTURE15={name:"TEXTURE15",value:33999,description:"A texture unit."},u.TEXTURE16={name:"TEXTURE16",value:34e3,description:"A texture unit."},u.TEXTURE17={name:"TEXTURE17",value:34001,description:"A texture unit."},u.TEXTURE18={name:"TEXTURE18",value:34002,description:"A texture unit."},u.TEXTURE19={name:"TEXTURE19",value:34003,description:"A texture unit."},u.TEXTURE20={name:"TEXTURE20",value:34004,description:"A texture unit."},u.TEXTURE21={name:"TEXTURE21",value:34005,description:"A texture unit."},u.TEXTURE22={name:"TEXTURE22",value:34006,description:"A texture unit."},u.TEXTURE23={name:"TEXTURE23",value:34007,description:"A texture unit."},u.TEXTURE24={name:"TEXTURE24",value:34008,description:"A texture unit."},u.TEXTURE25={name:"TEXTURE25",value:34009,description:"A texture unit."},u.TEXTURE26={name:"TEXTURE26",value:34010,description:"A texture unit."},u.TEXTURE27={name:"TEXTURE27",value:34011,description:"A texture unit."},u.TEXTURE28={name:"TEXTURE28",value:34012,description:"A texture unit."},u.TEXTURE29={name:"TEXTURE29",value:34013,description:"A texture unit."},u.TEXTURE30={name:"TEXTURE30",value:34014,description:"A texture unit."},u.TEXTURE31={name:"TEXTURE31",value:34015,description:"A texture unit."},u.ACTIVE_TEXTURE={name:"ACTIVE_TEXTURE",value:34016,description:"The current active texture unit."},u.REPEAT={name:"REPEAT",value:10497,description:"Â "},u.CLAMP_TO_EDGE={name:"CLAMP_TO_EDGE",value:33071,description:"Â "},u.MIRRORED_REPEAT={name:"MIRRORED_REPEAT",value:33648,description:"Â "},u.FLOAT_VEC2={name:"FLOAT_VEC2",value:35664,description:"Â "},u.FLOAT_VEC3={name:"FLOAT_VEC3",value:35665,description:"Â "},u.FLOAT_VEC4={name:"FLOAT_VEC4",value:35666,description:"Â "},u.INT_VEC2={name:"INT_VEC2",value:35667,description:"Â "},u.INT_VEC3={name:"INT_VEC3",value:35668,description:"Â "},u.INT_VEC4={name:"INT_VEC4",value:35669,description:"Â "},u.BOOL={name:"BOOL",value:35670,description:"Â "},u.BOOL_VEC2={name:"BOOL_VEC2",value:35671,description:"Â "},u.BOOL_VEC3={name:"BOOL_VEC3",value:35672,description:"Â "},u.BOOL_VEC4={name:"BOOL_VEC4",value:35673,description:"Â "},u.FLOAT_MAT2={name:"FLOAT_MAT2",value:35674,description:"Â "},u.FLOAT_MAT3={name:"FLOAT_MAT3",value:35675,description:"Â "},u.FLOAT_MAT4={name:"FLOAT_MAT4",value:35676,description:"Â "},u.SAMPLER_2D={name:"SAMPLER_2D",value:35678,description:"Â "},u.SAMPLER_CUBE={name:"SAMPLER_CUBE",value:35680,description:"Â "},u.LOW_FLOAT={name:"LOW_FLOAT",value:36336,description:"Â "},u.MEDIUM_FLOAT={name:"MEDIUM_FLOAT",value:36337,description:"Â "},u.HIGH_FLOAT={name:"HIGH_FLOAT",value:36338,description:"Â "},u.LOW_INT={name:"LOW_INT",value:36339,description:"Â "},u.MEDIUM_INT={name:"MEDIUM_INT",value:36340,description:"Â "},u.HIGH_INT={name:"HIGH_INT",value:36341,description:"Â "},u.FRAMEBUFFER={name:"FRAMEBUFFER",value:36160,description:"Â "},u.RENDERBUFFER={name:"RENDERBUFFER",value:36161,description:"Â "},u.RGBA4={name:"RGBA4",value:32854,description:"Â "},u.RGB5_A1={name:"RGB5_A1",value:32855,description:"Â "},u.RGB565={name:"RGB565",value:36194,description:"Â "},u.DEPTH_COMPONENT16={name:"DEPTH_COMPONENT16",value:33189,description:"Â "},u.STENCIL_INDEX={name:"STENCIL_INDEX",value:6401,description:"Â "},u.STENCIL_INDEX8={name:"STENCIL_INDEX8",value:36168,description:"Â "},u.DEPTH_STENCIL={name:"DEPTH_STENCIL",value:34041,description:"Â "},u.RENDERBUFFER_WIDTH={name:"RENDERBUFFER_WIDTH",value:36162,description:"Â "},u.RENDERBUFFER_HEIGHT={name:"RENDERBUFFER_HEIGHT",value:36163,description:"Â "},u.RENDERBUFFER_INTERNAL_FORMAT={name:"RENDERBUFFER_INTERNAL_FORMAT",value:36164,description:"Â "},u.RENDERBUFFER_RED_SIZE={name:"RENDERBUFFER_RED_SIZE",value:36176,description:"Â "},u.RENDERBUFFER_GREEN_SIZE={name:"RENDERBUFFER_GREEN_SIZE",value:36177,description:"Â "},u.RENDERBUFFER_BLUE_SIZE={name:"RENDERBUFFER_BLUE_SIZE",value:36178,description:"Â "},u.RENDERBUFFER_ALPHA_SIZE={name:"RENDERBUFFER_ALPHA_SIZE",value:36179,description:"Â "},u.RENDERBUFFER_DEPTH_SIZE={name:"RENDERBUFFER_DEPTH_SIZE",value:36180,description:"Â "},u.RENDERBUFFER_STENCIL_SIZE={name:"RENDERBUFFER_STENCIL_SIZE",value:36181,description:"Â "},u.FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE={name:"FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE",value:36048,description:"Â "},u.FRAMEBUFFER_ATTACHMENT_OBJECT_NAME={name:"FRAMEBUFFER_ATTACHMENT_OBJECT_NAME",value:36049,description:"Â "},u.FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL={name:"FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL",value:36050,description:"Â "},u.FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE={name:"FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE",value:36051,description:"Â "},u.COLOR_ATTACHMENT0={name:"COLOR_ATTACHMENT0",value:36064,description:"Â "},u.DEPTH_ATTACHMENT={name:"DEPTH_ATTACHMENT",value:36096,description:"Â "},u.STENCIL_ATTACHMENT={name:"STENCIL_ATTACHMENT",value:36128,description:"Â "},u.DEPTH_STENCIL_ATTACHMENT={name:"DEPTH_STENCIL_ATTACHMENT",value:33306,description:"Â "},u.NONE={name:"NONE",value:0,description:"Â "},u.FRAMEBUFFER_COMPLETE={name:"FRAMEBUFFER_COMPLETE",value:36053,description:"Â "},u.FRAMEBUFFER_INCOMPLETE_ATTACHMENT={name:"FRAMEBUFFER_INCOMPLETE_ATTACHMENT",value:36054,description:"Â "},u.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT={name:"FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT",value:36055,description:"Â "},u.FRAMEBUFFER_INCOMPLETE_DIMENSIONS={name:"FRAMEBUFFER_INCOMPLETE_DIMENSIONS",value:36057,description:"Â "},u.FRAMEBUFFER_UNSUPPORTED={name:"FRAMEBUFFER_UNSUPPORTED",value:36061,description:"Â "},u.FRAMEBUFFER_BINDING={name:"FRAMEBUFFER_BINDING",value:36006,description:"Â "},u.RENDERBUFFER_BINDING={name:"RENDERBUFFER_BINDING",value:36007,description:"Â "},u.MAX_RENDERBUFFER_SIZE={name:"MAX_RENDERBUFFER_SIZE",value:34024,description:"Â "},u.INVALID_FRAMEBUFFER_OPERATION={name:"INVALID_FRAMEBUFFER_OPERATION",value:1286,description:"Â "},u.UNPACK_FLIP_Y_WEBGL={name:"UNPACK_FLIP_Y_WEBGL",value:37440,description:"Â "},u.UNPACK_PREMULTIPLY_ALPHA_WEBGL={name:"UNPACK_PREMULTIPLY_ALPHA_WEBGL",value:37441,description:"Â "},u.UNPACK_COLORSPACE_CONVERSION_WEBGL={name:"UNPACK_COLORSPACE_CONVERSION_WEBGL",value:37443,description:"Â "},u.READ_BUFFER={name:"READ_BUFFER",value:3074,description:"Â "},u.UNPACK_ROW_LENGTH={name:"UNPACK_ROW_LENGTH",value:3314,description:"Â "},u.UNPACK_SKIP_ROWS={name:"UNPACK_SKIP_ROWS",value:3315,description:"Â "},u.UNPACK_SKIP_PIXELS={name:"UNPACK_SKIP_PIXELS",value:3316,description:"Â "},u.PACK_ROW_LENGTH={name:"PACK_ROW_LENGTH",value:3330,description:"Â "},u.PACK_SKIP_ROWS={name:"PACK_SKIP_ROWS",value:3331,description:"Â "},u.PACK_SKIP_PIXELS={name:"PACK_SKIP_PIXELS",value:3332,description:"Â "},u.TEXTURE_BINDING_3D={name:"TEXTURE_BINDING_3D",value:32874,description:"Â "},u.UNPACK_SKIP_IMAGES={name:"UNPACK_SKIP_IMAGES",value:32877,description:"Â "},u.UNPACK_IMAGE_HEIGHT={name:"UNPACK_IMAGE_HEIGHT",value:32878,description:"Â "},u.MAX_3D_TEXTURE_SIZE={name:"MAX_3D_TEXTURE_SIZE",value:32883,description:"Â "},u.MAX_ELEMENTS_VERTICES={name:"MAX_ELEMENTS_VERTICES",value:33e3,description:"Â "},u.MAX_ELEMENTS_INDICES={name:"MAX_ELEMENTS_INDICES",value:33001,description:"Â "},u.MAX_TEXTURE_LOD_BIAS={name:"MAX_TEXTURE_LOD_BIAS",value:34045,description:"Â "},u.MAX_FRAGMENT_UNIFORM_COMPONENTS={name:"MAX_FRAGMENT_UNIFORM_COMPONENTS",value:35657,description:"Â "},u.MAX_VERTEX_UNIFORM_COMPONENTS={name:"MAX_VERTEX_UNIFORM_COMPONENTS",value:35658,description:"Â "},u.MAX_ARRAY_TEXTURE_LAYERS={name:"MAX_ARRAY_TEXTURE_LAYERS",value:35071,description:"Â "},u.MIN_PROGRAM_TEXEL_OFFSET={name:"MIN_PROGRAM_TEXEL_OFFSET",value:35076,description:"Â "},u.MAX_PROGRAM_TEXEL_OFFSET={name:"MAX_PROGRAM_TEXEL_OFFSET",value:35077,description:"Â "},u.MAX_VARYING_COMPONENTS={name:"MAX_VARYING_COMPONENTS",value:35659,description:"Â "},u.FRAGMENT_SHADER_DERIVATIVE_HINT={name:"FRAGMENT_SHADER_DERIVATIVE_HINT",value:35723,description:"Â "},u.RASTERIZER_DISCARD={name:"RASTERIZER_DISCARD",value:35977,description:"Â "},u.VERTEX_ARRAY_BINDING={name:"VERTEX_ARRAY_BINDING",value:34229,description:"Â "},u.MAX_VERTEX_OUTPUT_COMPONENTS={name:"MAX_VERTEX_OUTPUT_COMPONENTS",value:37154,description:"Â "},u.MAX_FRAGMENT_INPUT_COMPONENTS={name:"MAX_FRAGMENT_INPUT_COMPONENTS",value:37157,description:"Â "},u.MAX_SERVER_WAIT_TIMEOUT={name:"MAX_SERVER_WAIT_TIMEOUT",value:37137,description:"Â "},u.MAX_ELEMENT_INDEX={name:"MAX_ELEMENT_INDEX",value:36203,description:"Â "},u.RED={name:"RED",value:6403,description:"Â "},u.RGB8={name:"RGB8",value:32849,description:"Â "},u.RGBA8={name:"RGBA8",value:32856,description:"Â "},u.RGB10_A2={name:"RGB10_A2",value:32857,description:"Â "},u.TEXTURE_3D={name:"TEXTURE_3D",value:32879,description:"Â "},u.TEXTURE_WRAP_R={name:"TEXTURE_WRAP_R",value:32882,description:"Â "},u.TEXTURE_MIN_LOD={name:"TEXTURE_MIN_LOD",value:33082,description:"Â "},u.TEXTURE_MAX_LOD={name:"TEXTURE_MAX_LOD",value:33083,description:"Â "},u.TEXTURE_BASE_LEVEL={name:"TEXTURE_BASE_LEVEL",value:33084,description:"Â "},u.TEXTURE_MAX_LEVEL={name:"TEXTURE_MAX_LEVEL",value:33085,description:"Â "},u.TEXTURE_COMPARE_MODE={name:"TEXTURE_COMPARE_MODE",value:34892,description:"Â "},u.TEXTURE_COMPARE_FUNC={name:"TEXTURE_COMPARE_FUNC",value:34893,description:"Â "},u.SRGB={name:"SRGB",value:35904,description:"Â "},u.SRGB8={name:"SRGB8",value:35905,description:"Â "},u.SRGB8_ALPHA8={name:"SRGB8_ALPHA8",value:35907,description:"Â "},u.COMPARE_REF_TO_TEXTURE={name:"COMPARE_REF_TO_TEXTURE",value:34894,description:"Â "},u.RGBA32F={name:"RGBA32F",value:34836,description:"Â "},u.RGB32F={name:"RGB32F",value:34837,description:"Â "},u.RGBA16F={name:"RGBA16F",value:34842,description:"Â "},u.RGB16F={name:"RGB16F",value:34843,description:"Â "},u.TEXTURE_2D_ARRAY={name:"TEXTURE_2D_ARRAY",value:35866,description:"Â "},u.TEXTURE_BINDING_2D_ARRAY={name:"TEXTURE_BINDING_2D_ARRAY",value:35869,description:"Â "},u.R11F_G11F_B10F={name:"R11F_G11F_B10F",value:35898,description:"Â "},u.RGB9_E5={name:"RGB9_E5",value:35901,description:"Â "},u.RGBA32UI={name:"RGBA32UI",value:36208,description:"Â "},u.RGB32UI={name:"RGB32UI",value:36209,description:"Â "},u.RGBA16UI={name:"RGBA16UI",value:36214,description:"Â "},u.RGB16UI={name:"RGB16UI",value:36215,description:"Â "},u.RGBA8UI={name:"RGBA8UI",value:36220,description:"Â "},u.RGB8UI={name:"RGB8UI",value:36221,description:"Â "},u.RGBA32I={name:"RGBA32I",value:36226,description:"Â "},u.RGB32I={name:"RGB32I",value:36227,description:"Â "},u.RGBA16I={name:"RGBA16I",value:36232,description:"Â "},u.RGB16I={name:"RGB16I",value:36233,description:"Â "},u.RGBA8I={name:"RGBA8I",value:36238,description:"Â "},u.RGB8I={name:"RGB8I",value:36239,description:"Â "},u.RED_INTEGER={name:"RED_INTEGER",value:36244,description:"Â "},u.RGB_INTEGER={name:"RGB_INTEGER",value:36248,description:"Â "},u.RGBA_INTEGER={name:"RGBA_INTEGER",value:36249,description:"Â "},u.R8={name:"R8",value:33321,description:"Â "},u.RG8={name:"RG8",value:33323,description:"Â "},u.R16F={name:"R16F",value:33325,description:"Â "},u.R32F={name:"R32F",value:33326,description:"Â "},u.RG16F={name:"RG16F",value:33327,description:"Â "},u.RG32F={name:"RG32F",value:33328,description:"Â "},u.R8I={name:"R8I",value:33329,description:"Â "},u.R8UI={name:"R8UI",value:33330,description:"Â "},u.R16I={name:"R16I",value:33331,description:"Â "},u.R16UI={name:"R16UI",value:33332,description:"Â "},u.R32I={name:"R32I",value:33333,description:"Â "},u.R32UI={name:"R32UI",value:33334,description:"Â "},u.RG8I={name:"RG8I",value:33335,description:"Â "},u.RG8UI={name:"RG8UI",value:33336,description:"Â "},u.RG16I={name:"RG16I",value:33337,description:"Â "},u.RG16UI={name:"RG16UI",value:33338,description:"Â "},u.RG32I={name:"RG32I",value:33339,description:"Â "},u.RG32UI={name:"RG32UI",value:33340,description:"Â "},u.R8_SNORM={name:"R8_SNORM",value:36756,description:"Â "},u.RG8_SNORM={name:"RG8_SNORM",value:36757,description:"Â "},u.RGB8_SNORM={name:"RGB8_SNORM",value:36758,description:"Â "},u.RGBA8_SNORM={name:"RGBA8_SNORM",value:36759,description:"Â "},u.RGB10_A2UI={name:"RGB10_A2UI",value:36975,description:"Â "},u.TEXTURE_IMMUTABLE_FORMAT={name:"TEXTURE_IMMUTABLE_FORMAT",value:37167,description:"Â "},u.TEXTURE_IMMUTABLE_LEVELS={name:"TEXTURE_IMMUTABLE_LEVELS",value:33503,description:"Â "},u.UNSIGNED_INT_2_10_10_10_REV={name:"UNSIGNED_INT_2_10_10_10_REV",value:33640,description:"Â "},u.UNSIGNED_INT_10F_11F_11F_REV={name:"UNSIGNED_INT_10F_11F_11F_REV",value:35899,description:"Â "},u.UNSIGNED_INT_5_9_9_9_REV={name:"UNSIGNED_INT_5_9_9_9_REV",value:35902,description:"Â "},u.FLOAT_32_UNSIGNED_INT_24_8_REV={name:"FLOAT_32_UNSIGNED_INT_24_8_REV",value:36269,description:"Â "},u.UNSIGNED_INT_24_8={name:"UNSIGNED_INT_24_8",value:34042,description:"Â "},u.HALF_FLOAT={name:"HALF_FLOAT",value:5131,description:"Â "},u.RG={name:"RG",value:33319,description:"Â "},u.RG_INTEGER={name:"RG_INTEGER",value:33320,description:"Â "},u.INT_2_10_10_10_REV={name:"INT_2_10_10_10_REV",value:36255,description:"Â "},u.CURRENT_QUERY={name:"CURRENT_QUERY",value:34917,description:"Â "},u.QUERY_RESULT={name:"QUERY_RESULT",value:34918,description:"Â "},u.QUERY_RESULT_AVAILABLE={name:"QUERY_RESULT_AVAILABLE",value:34919,description:"Â "},u.ANY_SAMPLES_PASSED={name:"ANY_SAMPLES_PASSED",value:35887,description:"Â "},u.ANY_SAMPLES_PASSED_CONSERVATIVE={name:"ANY_SAMPLES_PASSED_CONSERVATIVE",value:36202,description:"Â "},u.MAX_DRAW_BUFFERS={name:"MAX_DRAW_BUFFERS",value:34852,description:"Â "},u.DRAW_BUFFER0={name:"DRAW_BUFFER0",value:34853,description:"Â "},u.DRAW_BUFFER1={name:"DRAW_BUFFER1",value:34854,description:"Â "},u.DRAW_BUFFER2={name:"DRAW_BUFFER2",value:34855,description:"Â "},u.DRAW_BUFFER3={name:"DRAW_BUFFER3",value:34856,description:"Â "},u.DRAW_BUFFER4={name:"DRAW_BUFFER4",value:34857,description:"Â "},u.DRAW_BUFFER5={name:"DRAW_BUFFER5",value:34858,description:"Â "},u.DRAW_BUFFER6={name:"DRAW_BUFFER6",value:34859,description:"Â "},u.DRAW_BUFFER7={name:"DRAW_BUFFER7",value:34860,description:"Â "},u.DRAW_BUFFER8={name:"DRAW_BUFFER8",value:34861,description:"Â "},u.DRAW_BUFFER9={name:"DRAW_BUFFER9",value:34862,description:"Â "},u.DRAW_BUFFER10={name:"DRAW_BUFFER10",value:34863,description:"Â "},u.DRAW_BUFFER11={name:"DRAW_BUFFER11",value:34864,description:"Â "},u.DRAW_BUFFER12={name:"DRAW_BUFFER12",value:34865,description:"Â "},u.DRAW_BUFFER13={name:"DRAW_BUFFER13",value:34866,description:"Â "},u.DRAW_BUFFER14={name:"DRAW_BUFFER14",value:34867,description:"Â "},u.DRAW_BUFFER15={name:"DRAW_BUFFER15",value:34868,description:"Â "},u.MAX_COLOR_ATTACHMENTS={name:"MAX_COLOR_ATTACHMENTS",value:36063,description:"Â "},u.COLOR_ATTACHMENT1={name:"COLOR_ATTACHMENT1",value:36065,description:"Â "},u.COLOR_ATTACHMENT2={name:"COLOR_ATTACHMENT2",value:36066,description:"Â "},u.COLOR_ATTACHMENT3={name:"COLOR_ATTACHMENT3",value:36067,description:"Â "},u.COLOR_ATTACHMENT4={name:"COLOR_ATTACHMENT4",value:36068,description:"Â "},u.COLOR_ATTACHMENT5={name:"COLOR_ATTACHMENT5",value:36069,description:"Â "},u.COLOR_ATTACHMENT6={name:"COLOR_ATTACHMENT6",value:36070,description:"Â "},u.COLOR_ATTACHMENT7={name:"COLOR_ATTACHMENT7",value:36071,description:"Â "},u.COLOR_ATTACHMENT8={name:"COLOR_ATTACHMENT8",value:36072,description:"Â "},u.COLOR_ATTACHMENT9={name:"COLOR_ATTACHMENT9",value:36073,description:"Â "},u.COLOR_ATTACHMENT10={name:"COLOR_ATTACHMENT10",value:36074,description:"Â "},u.COLOR_ATTACHMENT11={name:"COLOR_ATTACHMENT11",value:36075,description:"Â "},u.COLOR_ATTACHMENT12={name:"COLOR_ATTACHMENT12",value:36076,description:"Â "},u.COLOR_ATTACHMENT13={name:"COLOR_ATTACHMENT13",value:36077,description:"Â "},u.COLOR_ATTACHMENT14={name:"COLOR_ATTACHMENT14",value:36078,description:"Â "},u.COLOR_ATTACHMENT15={name:"COLOR_ATTACHMENT15",value:36079,description:"Â "},u.SAMPLER_3D={name:"SAMPLER_3D",value:35679,description:"Â "},u.SAMPLER_2D_SHADOW={name:"SAMPLER_2D_SHADOW",value:35682,description:"Â "},u.SAMPLER_2D_ARRAY={name:"SAMPLER_2D_ARRAY",value:36289,description:"Â "},u.SAMPLER_2D_ARRAY_SHADOW={name:"SAMPLER_2D_ARRAY_SHADOW",value:36292,description:"Â "},u.SAMPLER_CUBE_SHADOW={name:"SAMPLER_CUBE_SHADOW",value:36293,description:"Â "},u.INT_SAMPLER_2D={name:"INT_SAMPLER_2D",value:36298,description:"Â "},u.INT_SAMPLER_3D={name:"INT_SAMPLER_3D",value:36299,description:"Â "},u.INT_SAMPLER_CUBE={name:"INT_SAMPLER_CUBE",value:36300,description:"Â "},u.INT_SAMPLER_2D_ARRAY={name:"INT_SAMPLER_2D_ARRAY",value:36303,description:"Â "},u.UNSIGNED_INT_SAMPLER_2D={name:"UNSIGNED_INT_SAMPLER_2D",value:36306,description:"Â "},u.UNSIGNED_INT_SAMPLER_3D={name:"UNSIGNED_INT_SAMPLER_3D",value:36307,description:"Â "},u.UNSIGNED_INT_SAMPLER_CUBE={name:"UNSIGNED_INT_SAMPLER_CUBE",value:36308,description:"Â "},u.UNSIGNED_INT_SAMPLER_2D_ARRAY={name:"UNSIGNED_INT_SAMPLER_2D_ARRAY",value:36311,description:"Â "},u.MAX_SAMPLES={name:"MAX_SAMPLES",value:36183,description:"Â "},u.SAMPLER_BINDING={name:"SAMPLER_BINDING",value:35097,description:"Â "},u.PIXEL_PACK_BUFFER={name:"PIXEL_PACK_BUFFER",value:35051,description:"Â "},u.PIXEL_UNPACK_BUFFER={name:"PIXEL_UNPACK_BUFFER",value:35052,description:"Â "},u.PIXEL_PACK_BUFFER_BINDING={name:"PIXEL_PACK_BUFFER_BINDING",value:35053,description:"Â "},u.PIXEL_UNPACK_BUFFER_BINDING={name:"PIXEL_UNPACK_BUFFER_BINDING",value:35055,description:"Â "},u.COPY_READ_BUFFER={name:"COPY_READ_BUFFER",value:36662,description:"Â "},u.COPY_WRITE_BUFFER={name:"COPY_WRITE_BUFFER",value:36663,description:"Â "},u.COPY_READ_BUFFER_BINDING={name:"COPY_READ_BUFFER_BINDING",value:36662,description:"Â "},u.COPY_WRITE_BUFFER_BINDING={name:"COPY_WRITE_BUFFER_BINDING",value:36663,description:"Â "},u.FLOAT_MAT2x3={name:"FLOAT_MAT2x3",value:35685,description:"Â "},u.FLOAT_MAT2x4={name:"FLOAT_MAT2x4",value:35686,description:"Â "},u.FLOAT_MAT3x2={name:"FLOAT_MAT3x2",value:35687,description:"Â "},u.FLOAT_MAT3x4={name:"FLOAT_MAT3x4",value:35688,description:"Â "},u.FLOAT_MAT4x2={name:"FLOAT_MAT4x2",value:35689,description:"Â "},u.FLOAT_MAT4x3={name:"FLOAT_MAT4x3",value:35690,description:"Â "},u.UNSIGNED_INT_VEC2={name:"UNSIGNED_INT_VEC2",value:36294,description:"Â "},u.UNSIGNED_INT_VEC3={name:"UNSIGNED_INT_VEC3",value:36295,description:"Â "},u.UNSIGNED_INT_VEC4={name:"UNSIGNED_INT_VEC4",value:36296,description:"Â "},u.UNSIGNED_NORMALIZED={name:"UNSIGNED_NORMALIZED",value:35863,description:"Â "},u.SIGNED_NORMALIZED={name:"SIGNED_NORMALIZED",value:36764,description:"Â "},u.VERTEX_ATTRIB_ARRAY_INTEGER={name:"VERTEX_ATTRIB_ARRAY_INTEGER",value:35069,description:"Â "},u.VERTEX_ATTRIB_ARRAY_DIVISOR={name:"VERTEX_ATTRIB_ARRAY_DIVISOR",value:35070,description:"Â "},u.TRANSFORM_FEEDBACK_BUFFER_MODE={name:"TRANSFORM_FEEDBACK_BUFFER_MODE",value:35967,description:"Â "},u.MAX_TRANSFORM_FEEDBACK_SEPARATE_COMPONENTS={name:"MAX_TRANSFORM_FEEDBACK_SEPARATE_COMPONENTS",value:35968,description:"Â "},u.TRANSFORM_FEEDBACK_VARYINGS={name:"TRANSFORM_FEEDBACK_VARYINGS",value:35971,description:"Â "},u.TRANSFORM_FEEDBACK_BUFFER_START={name:"TRANSFORM_FEEDBACK_BUFFER_START",value:35972,description:"Â "},u.TRANSFORM_FEEDBACK_BUFFER_SIZE={name:"TRANSFORM_FEEDBACK_BUFFER_SIZE",value:35973,description:"Â "},u.TRANSFORM_FEEDBACK_PRIMITIVES_WRITTEN={name:"TRANSFORM_FEEDBACK_PRIMITIVES_WRITTEN",value:35976,description:"Â "},u.MAX_TRANSFORM_FEEDBACK_INTERLEAVED_COMPONENTS={name:"MAX_TRANSFORM_FEEDBACK_INTERLEAVED_COMPONENTS",value:35978,description:"Â "},u.MAX_TRANSFORM_FEEDBACK_SEPARATE_ATTRIBS={name:"MAX_TRANSFORM_FEEDBACK_SEPARATE_ATTRIBS",value:35979,description:"Â "},u.INTERLEAVED_ATTRIBS={name:"INTERLEAVED_ATTRIBS",value:35980,description:"Â "},u.SEPARATE_ATTRIBS={name:"SEPARATE_ATTRIBS",value:35981,description:"Â "},u.TRANSFORM_FEEDBACK_BUFFER={name:"TRANSFORM_FEEDBACK_BUFFER",value:35982,description:"Â "},u.TRANSFORM_FEEDBACK_BUFFER_BINDING={name:"TRANSFORM_FEEDBACK_BUFFER_BINDING",value:35983,description:"Â "},u.TRANSFORM_FEEDBACK={name:"TRANSFORM_FEEDBACK",value:36386,description:"Â "},u.TRANSFORM_FEEDBACK_PAUSED={name:"TRANSFORM_FEEDBACK_PAUSED",value:36387,description:"Â "},u.TRANSFORM_FEEDBACK_ACTIVE={name:"TRANSFORM_FEEDBACK_ACTIVE",value:36388,description:"Â "},u.TRANSFORM_FEEDBACK_BINDING={name:"TRANSFORM_FEEDBACK_BINDING",value:36389,description:"Â "},u.FRAMEBUFFER_ATTACHMENT_COLOR_ENCODING={name:"FRAMEBUFFER_ATTACHMENT_COLOR_ENCODING",value:33296,description:"Â "},u.FRAMEBUFFER_ATTACHMENT_COMPONENT_TYPE={name:"FRAMEBUFFER_ATTACHMENT_COMPONENT_TYPE",value:33297,description:"Â "},u.FRAMEBUFFER_ATTACHMENT_RED_SIZE={name:"FRAMEBUFFER_ATTACHMENT_RED_SIZE",value:33298,description:"Â "},u.FRAMEBUFFER_ATTACHMENT_GREEN_SIZE={name:"FRAMEBUFFER_ATTACHMENT_GREEN_SIZE",value:33299,description:"Â "},u.FRAMEBUFFER_ATTACHMENT_BLUE_SIZE={name:"FRAMEBUFFER_ATTACHMENT_BLUE_SIZE",value:33300,description:"Â "},u.FRAMEBUFFER_ATTACHMENT_ALPHA_SIZE={name:"FRAMEBUFFER_ATTACHMENT_ALPHA_SIZE",value:33301,description:"Â "},u.FRAMEBUFFER_ATTACHMENT_DEPTH_SIZE={name:"FRAMEBUFFER_ATTACHMENT_DEPTH_SIZE",value:33302,description:"Â "},u.FRAMEBUFFER_ATTACHMENT_STENCIL_SIZE={name:"FRAMEBUFFER_ATTACHMENT_STENCIL_SIZE",value:33303,description:"Â "},u.FRAMEBUFFER_DEFAULT={name:"FRAMEBUFFER_DEFAULT",value:33304,description:"Â "},u.DEPTH24_STENCIL8={name:"DEPTH24_STENCIL8",value:35056,description:"Â "},u.DRAW_FRAMEBUFFER_BINDING={name:"DRAW_FRAMEBUFFER_BINDING",value:36006,description:"Â "},u.READ_FRAMEBUFFER={name:"READ_FRAMEBUFFER",value:36008,description:"Â "},u.DRAW_FRAMEBUFFER={name:"DRAW_FRAMEBUFFER",value:36009,description:"Â "},u.READ_FRAMEBUFFER_BINDING={name:"READ_FRAMEBUFFER_BINDING",value:36010,description:"Â "},u.RENDERBUFFER_SAMPLES={name:"RENDERBUFFER_SAMPLES",value:36011,description:"Â "},u.FRAMEBUFFER_ATTACHMENT_TEXTURE_LAYER={name:"FRAMEBUFFER_ATTACHMENT_TEXTURE_LAYER",value:36052,description:"Â "},u.FRAMEBUFFER_INCOMPLETE_MULTISAMPLE={name:"FRAMEBUFFER_INCOMPLETE_MULTISAMPLE",value:36182,description:"Â "},u.UNIFORM_BUFFER={name:"UNIFORM_BUFFER",value:35345,description:"Â "},u.UNIFORM_BUFFER_BINDING={name:"UNIFORM_BUFFER_BINDING",value:35368,description:"Â "},u.UNIFORM_BUFFER_START={name:"UNIFORM_BUFFER_START",value:35369,description:"Â "},u.UNIFORM_BUFFER_SIZE={name:"UNIFORM_BUFFER_SIZE",value:35370,description:"Â "},u.MAX_VERTEX_UNIFORM_BLOCKS={name:"MAX_VERTEX_UNIFORM_BLOCKS",value:35371,description:"Â "},u.MAX_FRAGMENT_UNIFORM_BLOCKS={name:"MAX_FRAGMENT_UNIFORM_BLOCKS",value:35373,description:"Â "},u.MAX_COMBINED_UNIFORM_BLOCKS={name:"MAX_COMBINED_UNIFORM_BLOCKS",value:35374,description:"Â "},u.MAX_UNIFORM_BUFFER_BINDINGS={name:"MAX_UNIFORM_BUFFER_BINDINGS",value:35375,description:"Â "},u.MAX_UNIFORM_BLOCK_SIZE={name:"MAX_UNIFORM_BLOCK_SIZE",value:35376,description:"Â "},u.MAX_COMBINED_VERTEX_UNIFORM_COMPONENTS={name:"MAX_COMBINED_VERTEX_UNIFORM_COMPONENTS",value:35377,description:"Â "},u.MAX_COMBINED_FRAGMENT_UNIFORM_COMPONENTS={name:"MAX_COMBINED_FRAGMENT_UNIFORM_COMPONENTS",value:35379,description:"Â "},u.UNIFORM_BUFFER_OFFSET_ALIGNMENT={name:"UNIFORM_BUFFER_OFFSET_ALIGNMENT",value:35380,description:"Â "},u.ACTIVE_UNIFORM_BLOCKS={name:"ACTIVE_UNIFORM_BLOCKS",value:35382,description:"Â "},u.UNIFORM_TYPE={name:"UNIFORM_TYPE",value:35383,description:"Â "},u.UNIFORM_SIZE={name:"UNIFORM_SIZE",value:35384,description:"Â "},u.UNIFORM_BLOCK_INDEX={name:"UNIFORM_BLOCK_INDEX",value:35386,description:"Â "},u.UNIFORM_OFFSET={name:"UNIFORM_OFFSET",value:35387,description:"Â "},u.UNIFORM_ARRAY_STRIDE={name:"UNIFORM_ARRAY_STRIDE",value:35388,description:"Â "},u.UNIFORM_MATRIX_STRIDE={name:"UNIFORM_MATRIX_STRIDE",value:35389,description:"Â "},u.UNIFORM_IS_ROW_MAJOR={name:"UNIFORM_IS_ROW_MAJOR",value:35390,description:"Â "},u.UNIFORM_BLOCK_BINDING={name:"UNIFORM_BLOCK_BINDING",value:35391,description:"Â "},u.UNIFORM_BLOCK_DATA_SIZE={name:"UNIFORM_BLOCK_DATA_SIZE",value:35392,description:"Â "},u.UNIFORM_BLOCK_ACTIVE_UNIFORMS={name:"UNIFORM_BLOCK_ACTIVE_UNIFORMS",value:35394,description:"Â "},u.UNIFORM_BLOCK_ACTIVE_UNIFORM_INDICES={name:"UNIFORM_BLOCK_ACTIVE_UNIFORM_INDICES",value:35395,description:"Â "},u.UNIFORM_BLOCK_REFERENCED_BY_VERTEX_SHADER={name:"UNIFORM_BLOCK_REFERENCED_BY_VERTEX_SHADER",value:35396,description:"Â "},u.UNIFORM_BLOCK_REFERENCED_BY_FRAGMENT_SHADER={name:"UNIFORM_BLOCK_REFERENCED_BY_FRAGMENT_SHADER",value:35398,description:"Â "},u.OBJECT_TYPE={name:"OBJECT_TYPE",value:37138,description:"Â "},u.SYNC_CONDITION={name:"SYNC_CONDITION",value:37139,description:"Â "},u.SYNC_STATUS={name:"SYNC_STATUS",value:37140,description:"Â "},u.SYNC_FLAGS={name:"SYNC_FLAGS",value:37141,description:"Â "},u.SYNC_FENCE={name:"SYNC_FENCE",value:37142,description:"Â "},u.SYNC_GPU_COMMANDS_COMPLETE={name:"SYNC_GPU_COMMANDS_COMPLETE",value:37143,description:"Â "},u.UNSIGNALED={name:"UNSIGNALED",value:37144,description:"Â "},u.SIGNALED={name:"SIGNALED",value:37145,description:"Â "},u.ALREADY_SIGNALED={name:"ALREADY_SIGNALED",value:37146,description:"Â "},u.TIMEOUT_EXPIRED={name:"TIMEOUT_EXPIRED",value:37147,description:"Â "},u.CONDITION_SATISFIED={name:"CONDITION_SATISFIED",value:37148,description:"Â "},u.WAIT_FAILED={name:"WAIT_FAILED",value:37149,description:"Â "},u.SYNC_FLUSH_COMMANDS_BIT={name:"SYNC_FLUSH_COMMANDS_BIT",value:1,description:"Â "},u.COLOR={name:"COLOR",value:6144,description:"Â "},u.DEPTH={name:"DEPTH",value:6145,description:"Â "},u.STENCIL={name:"STENCIL",value:6146,description:"Â "},u.MIN={name:"MIN",value:32775,description:"Â "},u.MAX={name:"MAX",value:32776,description:"Â "},u.DEPTH_COMPONENT24={name:"DEPTH_COMPONENT24",value:33190,description:"Â "},u.STREAM_READ={name:"STREAM_READ",value:35041,description:"Â "},u.STREAM_COPY={name:"STREAM_COPY",value:35042,description:"Â "},u.STATIC_READ={name:"STATIC_READ",value:35045,description:"Â "},u.STATIC_COPY={name:"STATIC_COPY",value:35046,description:"Â "},u.DYNAMIC_READ={name:"DYNAMIC_READ",value:35049,description:"Â "},u.DYNAMIC_COPY={name:"DYNAMIC_COPY",value:35050,description:"Â "},u.DEPTH_COMPONENT32F={name:"DEPTH_COMPONENT32F",value:36012,description:"Â "},u.DEPTH32F_STENCIL8={name:"DEPTH32F_STENCIL8",value:36013,description:"Â "},u.INVALID_INDEX={name:"INVALID_INDEX",value:4294967295,description:"Â "},u.TIMEOUT_IGNORED={name:"TIMEOUT_IGNORED",value:-1,description:"Â "},u.MAX_CLIENT_WAIT_TIMEOUT_WEBGL={name:"MAX_CLIENT_WAIT_TIMEOUT_WEBGL",value:37447,description:"Â "},u.VERTEX_ATTRIB_ARRAY_DIVISOR_ANGLE={name:"VERTEX_ATTRIB_ARRAY_DIVISOR_ANGLE",value:35070,description:"Describes the frequency divisor used for instanced rendering.",extensionName:"ANGLE_instanced_arrays"},u.UNMASKED_VENDOR_WEBGL={name:"UNMASKED_VENDOR_WEBGL",value:37445,description:"Passed to getParameter to get the vendor string of the graphics driver.",extensionName:"ANGLE_instanced_arrays"},u.UNMASKED_RENDERER_WEBGL={name:"UNMASKED_RENDERER_WEBGL",value:37446,description:"Passed to getParameter to get the renderer string of the graphics driver.",extensionName:"WEBGL_debug_renderer_info"},u.MAX_TEXTURE_MAX_ANISOTROPY_EXT={name:"MAX_TEXTURE_MAX_ANISOTROPY_EXT",value:34047,description:"Returns the maximum available anisotropy.",extensionName:"EXT_texture_filter_anisotropic"},u.TEXTURE_MAX_ANISOTROPY_EXT={name:"TEXTURE_MAX_ANISOTROPY_EXT",value:34046,description:"Passed to texParameter to set the desired maximum anisotropy for a texture.",extensionName:"EXT_texture_filter_anisotropic"},u.COMPRESSED_RGB_S3TC_DXT1_EXT={name:"COMPRESSED_RGB_S3TC_DXT1_EXT",value:33776,description:"A DXT1-compressed image in an RGB image format.",extensionName:"WEBGL_compressed_texture_s3tc"},u.COMPRESSED_RGBA_S3TC_DXT1_EXT={name:"COMPRESSED_RGBA_S3TC_DXT1_EXT",value:33777,description:"A DXT1-compressed image in an RGB image format with a simple on/off alpha value.",extensionName:"WEBGL_compressed_texture_s3tc"},u.COMPRESSED_RGBA_S3TC_DXT3_EXT={name:"COMPRESSED_RGBA_S3TC_DXT3_EXT",value:33778,description:"A DXT3-compressed image in an RGBA image format. Compared to a 32-bit RGBA texture, it offers 4:1 compression.",extensionName:"WEBGL_compressed_texture_s3tc"},u.COMPRESSED_RGBA_S3TC_DXT5_EXT={name:"COMPRESSED_RGBA_S3TC_DXT5_EXT",value:33779,description:"A DXT5-compressed image in an RGBA image format. It also provides a 4:1 compression, but differs to the DXT3 compression in how the alpha compression is done.",extensionName:"WEBGL_compressed_texture_s3tc"},u.COMPRESSED_R11_EAC={name:"COMPRESSED_R11_EAC",value:37488,description:"One-channel (red) unsigned format compression.",extensionName:"WEBGL_compressed_texture_etc"},u.COMPRESSED_SIGNED_R11_EAC={name:"COMPRESSED_SIGNED_R11_EAC",value:37489,description:"One-channel (red) signed format compression.",extensionName:"WEBGL_compressed_texture_etc"},u.COMPRESSED_RG11_EAC={name:"COMPRESSED_RG11_EAC",value:37490,description:"Two-channel (red and green) unsigned format compression.",extensionName:"WEBGL_compressed_texture_etc"},u.COMPRESSED_SIGNED_RG11_EAC={name:"COMPRESSED_SIGNED_RG11_EAC",value:37491,description:"Two-channel (red and green) signed format compression.",extensionName:"WEBGL_compressed_texture_etc"},u.COMPRESSED_RGB8_ETC2={name:"COMPRESSED_RGB8_ETC2",value:37492,description:"Compresses RBG8 data with no alpha channel.",extensionName:"WEBGL_compressed_texture_etc"},u.COMPRESSED_RGBA8_ETC2_EAC={name:"COMPRESSED_RGBA8_ETC2_EAC",value:37493,description:"Compresses RGBA8 data. The RGB part is encoded the same as RGB_ETC2, but the alpha part is encoded separately.",extensionName:"WEBGL_compressed_texture_etc"},u.COMPRESSED_SRGB8_ETC2={name:"COMPRESSED_SRGB8_ETC2",value:37494,description:"Compresses sRBG8 data with no alpha channel.",extensionName:"WEBGL_compressed_texture_etc"},u.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC={name:"COMPRESSED_SRGB8_ALPHA8_ETC2_EAC",value:37495,description:"Compresses sRGBA8 data. The sRGB part is encoded the same as SRGB_ETC2, but the alpha part is encoded separately.",extensionName:"WEBGL_compressed_texture_etc"},u.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2={name:"COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2",value:37496,description:"Similar to RGB8_ETC, but with ability to punch through the alpha channel, which means to make it completely opaque or transparent.",extensionName:"WEBGL_compressed_texture_etc"},u.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2={name:"COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2",value:37497,description:"Similar to SRGB8_ETC, but with ability to punch through the alpha channel, which means to make it completely opaque or transparent.",extensionName:"WEBGL_compressed_texture_etc"},u.COMPRESSED_RGB_PVRTC_4BPPV1_IMG={name:"COMPRESSED_RGB_PVRTC_4BPPV1_IMG",value:35840,description:"RGB compression in 4-bit mode. One block for each 4Ã4 pixels.",extensionName:"WEBGL_compressed_texture_pvrtc"},u.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG={name:"COMPRESSED_RGBA_PVRTC_4BPPV1_IMG",value:35842,description:"RGBA compression in 4-bit mode. One block for each 4Ã4 pixels.",extensionName:"WEBGL_compressed_texture_pvrtc"},u.COMPRESSED_RGB_PVRTC_2BPPV1_IMG={name:"COMPRESSED_RGB_PVRTC_2BPPV1_IMG",value:35841,description:"RGB compression in 2-bit mode. One block for each 8Ã4 pixels.",extensionName:"WEBGL_compressed_texture_pvrtc"},u.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG={name:"COMPRESSED_RGBA_PVRTC_2BPPV1_IMG",value:35843,description:"RGBA compression in 2-bit mode. One block for each 8Ã4 pixe",extensionName:"WEBGL_compressed_texture_pvrtc"},u.COMPRESSED_RGB_ETC1_WEBGL={name:"COMPRESSED_RGB_ETC1_WEBGL",value:36196,description:"Compresses 24-bit RGB data with no alpha channel.",extensionName:"WEBGL_compressed_texture_etc1"},u.COMPRESSED_RGB_ATC_WEBGL={name:"COMPRESSED_RGB_ATC_WEBGL",value:35986,description:"Compresses RGB textures with no alpha channel.",extensionName:"WEBGL_compressed_texture_atc"},u.COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL={name:"COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL",value:35986,description:"Compresses RGBA textures using explicit alpha encoding (useful when alpha transitions are sharp).",extensionName:"WEBGL_compressed_texture_atc"},u.COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL={name:"COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL",value:34798,description:"Compresses RGBA textures using interpolated alpha encoding (useful when alpha transitions are gradient).",extensionName:"WEBGL_compressed_texture_atc"},u.UNSIGNED_INT_24_8_WEBGL={name:"UNSIGNED_INT_24_8_WEBGL",value:34042,description:"Unsigned integer type for 24-bit depth texture data.",extensionName:"WEBGL_depth_texture"},u.HALF_FLOAT_OES={name:"HALF_FLOAT_OES",value:36193,description:"Half floating-point type (16-bit).",extensionName:"OES_texture_half_float"},u.FRAMEBUFFER_ATTACHMENT_COMPONENT_TYPE_EXT={name:"FRAMEBUFFER_ATTACHMENT_COMPONENT_TYPE_EXT",value:33297,description:"Â ",extensionName:"WEBGL_color_buffer_float"},u.UNSIGNED_NORMALIZED_EXT={name:"UNSIGNED_NORMALIZED_EXT",value:35863,description:"Â ",extensionName:"WEBGL_color_buffer_float"},u.MIN_EXT={name:"MIN_EXT",value:32775,description:"Produces the minimum color components of the source and destination colors.",extensionName:"EXT_blend_minmax"},u.MAX_EXT={name:"MAX_EXT",value:32776,description:"Produces the maximum color components of the source and destination colors.",extensionName:"EXT_blend_minmax"},u.SRGB_EXT={name:"SRGB_EXT",value:35904,description:"Unsized sRGB format that leaves the precision up to the driver.",extensionName:"EXT_sRGB"},u.SRGB_ALPHA_EXT={name:"SRGB_ALPHA_EXT",value:35906,description:"Unsized sRGB format with unsized alpha component.",extensionName:"EXT_sRGB"},u.SRGB8_ALPHA8_EXT={name:"SRGB8_ALPHA8_EXT",value:35907,description:"Sized (8-bit) sRGB and alpha formats.",extensionName:"EXT_sRGB"},u.FRAMEBUFFER_ATTACHMENT_COLOR_ENCODING_EXT={name:"FRAMEBUFFER_ATTACHMENT_COLOR_ENCODING_EXT",value:33296,description:"Returns the framebuffer color encoding.",extensionName:"EXT_sRGB"},u.FRAGMENT_SHADER_DERIVATIVE_HINT_OES={name:"FRAGMENT_SHADER_DERIVATIVE_HINT_OES",value:35723,description:"Indicates the accuracy of the derivative calculation for the GLSL built-in functions: dFdx, dFdy, and fwidth.",extensionName:"OES_standard_derivatives"},u.COLOR_ATTACHMENT0_WEBGL={name:"COLOR_ATTACHMENT0_WEBGL",value:36064,description:"Framebuffer color attachment point",extensionName:"WEBGL_draw_buffers"},u.COLOR_ATTACHMENT1_WEBGL={name:"COLOR_ATTACHMENT1_WEBGL",value:36065,description:"Framebuffer color attachment point",extensionName:"WEBGL_draw_buffers"},u.COLOR_ATTACHMENT2_WEBGL={name:"COLOR_ATTACHMENT2_WEBGL",value:36066,description:"Framebuffer color attachment point",extensionName:"WEBGL_draw_buffers"},u.COLOR_ATTACHMENT3_WEBGL={name:"COLOR_ATTACHMENT3_WEBGL",value:36067,description:"Framebuffer color attachment point",extensionName:"WEBGL_draw_buffers"},u.COLOR_ATTACHMENT4_WEBGL={name:"COLOR_ATTACHMENT4_WEBGL",value:36068,description:"Framebuffer color attachment point",extensionName:"WEBGL_draw_buffers"},u.COLOR_ATTACHMENT5_WEBGL={name:"COLOR_ATTACHMENT5_WEBGL",value:36069,description:"Framebuffer color attachment point",extensionName:"WEBGL_draw_buffers"},u.COLOR_ATTACHMENT6_WEBGL={name:"COLOR_ATTACHMENT6_WEBGL",value:36070,description:"Framebuffer color attachment point",extensionName:"WEBGL_draw_buffers"},u.COLOR_ATTACHMENT7_WEBGL={name:"COLOR_ATTACHMENT7_WEBGL",value:36071,description:"Framebuffer color attachment point",extensionName:"WEBGL_draw_buffers"},u.COLOR_ATTACHMENT8_WEBGL={name:"COLOR_ATTACHMENT8_WEBGL",value:36072,description:"Framebuffer color attachment point",extensionName:"WEBGL_draw_buffers"},u.COLOR_ATTACHMENT9_WEBGL={name:"COLOR_ATTACHMENT9_WEBGL",value:36073,description:"Framebuffer color attachment point",extensionName:"WEBGL_draw_buffers"},u.COLOR_ATTACHMENT10_WEBGL={name:"COLOR_ATTACHMENT10_WEBGL",value:36074,description:"Framebuffer color attachment point",extensionName:"WEBGL_draw_buffers"},u.COLOR_ATTACHMENT11_WEBGL={name:"COLOR_ATTACHMENT11_WEBGL",value:36075,description:"Framebuffer color attachment point",extensionName:"WEBGL_draw_buffers"},u.COLOR_ATTACHMENT12_WEBGL={name:"COLOR_ATTACHMENT12_WEBGL",value:36076,description:"Framebuffer color attachment point",extensionName:"WEBGL_draw_buffers"},u.COLOR_ATTACHMENT13_WEBGL={name:"COLOR_ATTACHMENT13_WEBGL",value:36077,description:"Framebuffer color attachment point",extensionName:"WEBGL_draw_buffers"},u.COLOR_ATTACHMENT14_WEBGL={name:"COLOR_ATTACHMENT14_WEBGL",value:36078,description:"Framebuffer color attachment point",extensionName:"WEBGL_draw_buffers"},u.COLOR_ATTACHMENT15_WEBGL={name:"COLOR_ATTACHMENT15_WEBGL",value:36079,description:"Framebuffer color attachment point",extensionName:"WEBGL_draw_buffers"},u.DRAW_BUFFER0_WEBGL={name:"DRAW_BUFFER0_WEBGL",value:34853,description:"Draw buffer",extensionName:"WEBGL_draw_buffers"},u.DRAW_BUFFER1_WEBGL={name:"DRAW_BUFFER1_WEBGL",value:34854,description:"Draw buffer",extensionName:"WEBGL_draw_buffers"},u.DRAW_BUFFER2_WEBGL={name:"DRAW_BUFFER2_WEBGL",value:34855,description:"Draw buffer",extensionName:"WEBGL_draw_buffers"},u.DRAW_BUFFER3_WEBGL={name:"DRAW_BUFFER3_WEBGL",value:34856,description:"Draw buffer",extensionName:"WEBGL_draw_buffers"},u.DRAW_BUFFER4_WEBGL={name:"DRAW_BUFFER4_WEBGL",value:34857,description:"Draw buffer",extensionName:"WEBGL_draw_buffers"},u.DRAW_BUFFER5_WEBGL={name:"DRAW_BUFFER5_WEBGL",value:34858,description:"Draw buffer",extensionName:"WEBGL_draw_buffers"},u.DRAW_BUFFER6_WEBGL={name:"DRAW_BUFFER6_WEBGL",value:34859,description:"Draw buffer",extensionName:"WEBGL_draw_buffers"},u.DRAW_BUFFER7_WEBGL={name:"DRAW_BUFFER7_WEBGL",value:34860,description:"Draw buffer",extensionName:"WEBGL_draw_buffers"},u.DRAW_BUFFER8_WEBGL={name:"DRAW_BUFFER8_WEBGL",value:34861,description:"Draw buffer",extensionName:"WEBGL_draw_buffers"},u.DRAW_BUFFER9_WEBGL={name:"DRAW_BUFFER9_WEBGL",value:34862,description:"Draw buffer",extensionName:"WEBGL_draw_buffers"},u.DRAW_BUFFER10_WEBGL={name:"DRAW_BUFFER10_WEBGL",value:34863,description:"Draw buffer",extensionName:"WEBGL_draw_buffers"},u.DRAW_BUFFER11_WEBGL={name:"DRAW_BUFFER11_WEBGL",value:34864,description:"Draw buffer",extensionName:"WEBGL_draw_buffers"},u.DRAW_BUFFER12_WEBGL={name:"DRAW_BUFFER12_WEBGL",value:34865,description:"Draw buffer",extensionName:"WEBGL_draw_buffers"},u.DRAW_BUFFER13_WEBGL={name:"DRAW_BUFFER13_WEBGL",value:34866,description:"Draw buffer",extensionName:"WEBGL_draw_buffers"},u.DRAW_BUFFER14_WEBGL={name:"DRAW_BUFFER14_WEBGL",value:34867,description:"Draw buffer",extensionName:"WEBGL_draw_buffers"},u.DRAW_BUFFER15_WEBGL={name:"DRAW_BUFFER15_WEBGL",value:34868,description:"Draw buffer",extensionName:"WEBGL_draw_buffers"},u.MAX_COLOR_ATTACHMENTS_WEBGL={name:"MAX_COLOR_ATTACHMENTS_WEBGL",value:36063,description:"Maximum number of framebuffer color attachment points",extensionName:"WEBGL_draw_buffers"},u.MAX_DRAW_BUFFERS_WEBGL={name:"MAX_DRAW_BUFFERS_WEBGL",value:34852,description:"Maximum number of draw buffers",extensionName:"WEBGL_draw_buffers"},u.VERTEX_ARRAY_BINDING_OES={name:"VERTEX_ARRAY_BINDING_OES",value:34229,description:"The bound vertex array object (VAO).",extensionName:"VERTEX_ARRAY_BINDING_OES"},u.QUERY_COUNTER_BITS_EXT={name:"QUERY_COUNTER_BITS_EXT",value:34916,description:"The number of bits used to hold the query result for the given target.",extensionName:"EXT_disjoint_timer_query"},u.CURRENT_QUERY_EXT={name:"CURRENT_QUERY_EXT",value:34917,description:"The currently active query.",extensionName:"EXT_disjoint_timer_query"},u.QUERY_RESULT_EXT={name:"QUERY_RESULT_EXT",value:34918,description:"The query result.",extensionName:"EXT_disjoint_timer_query"},u.QUERY_RESULT_AVAILABLE_EXT={name:"QUERY_RESULT_AVAILABLE_EXT",value:34919,description:"A Boolean indicating whether or not a query result is available.",extensionName:"EXT_disjoint_timer_query"},u.TIME_ELAPSED_EXT={name:"TIME_ELAPSED_EXT",value:35007,description:"Elapsed time (in nanoseconds).",extensionName:"EXT_disjoint_timer_query"},u.TIMESTAMP_EXT={name:"TIMESTAMP_EXT",value:36392,description:"The current time.",extensionName:"EXT_disjoint_timer_query"},u.GPU_DISJOINT_EXT={name:"GPU_DISJOINT_EXT",value:36795,description:"A Boolean indicating whether or not the GPU performed any disjoint operation.",extensionName:"EXT_disjoint_timer_query"},u.zeroMeaningByCommand={getError:"NO_ERROR",blendFunc:"ZERO",blendFuncSeparate:"ZERO",readBuffer:"NONE",getFramebufferAttachmentParameter:"NONE",texParameterf:"NONE",texParameteri:"NONE",drawArrays:"POINTS",drawElements:"POINTS",drawArraysInstanced:"POINTS",drawArraysInstancedAngle:"POINTS",drawBuffers:"POINTS",drawElementsInstanced:"POINTS",drawRangeElements:"POINTS"},u.oneMeaningByCommand={blendFunc:"ONE",blendFuncSeparate:"ONE",drawArrays:"LINES",drawElements:"LINES",drawArraysInstanced:"LINES",drawArraysInstancedAngle:"LINES",drawBuffers:"LINES",drawElementsInstanced:"LINES",drawRangeElements:"LINES"};const b={},S={};(function(){for(const Tn in u)if(u.hasOwnProperty(Tn)){const A=u[Tn];b[A.name]=A,S[A.value]=A}})();class T extends m{get analyserName(){return T.analyserName}appendToAnalysis(A,z){if(!A.commands)return;const re={total:0,totalTriangles:0,totalTriangleStrip:0,totalTriangleFan:0,totalLines:0,totalLineStrip:0,totalLineLoop:0,totalPoints:0};for(const te of A.commands)te.name==="drawArrays"&&te.commandArguments.length>=3||te.name==="drawArraysInstanced"&&te.commandArguments.length>=3||te.name==="drawArraysInstancedANGLE"&&te.commandArguments.length>=3?this.appendToPrimitives(re,te.commandArguments[0],te.commandArguments[2]):te.name==="drawElements"&&te.commandArguments.length>=2||te.name==="drawElementsInstanced"&&te.commandArguments.length>=2||te.name==="drawElementsInstancedANGLE"&&te.commandArguments.length>=2?this.appendToPrimitives(re,te.commandArguments[0],te.commandArguments[1]):te.name==="drawRangeElements"&&te.commandArguments.length>=4&&this.appendToPrimitives(re,te.commandArguments[0],te.commandArguments[3]);z.total=re.total,z.triangles=re.totalTriangles,z.triangleStrip=re.totalTriangleStrip,z.triangleFan=re.totalTriangleFan,z.lines=re.totalLines,z.lineStrip=re.totalLineStrip,z.lineLoop=re.totalLineLoop,z.points=re.totalPoints}appendToPrimitives(A,z,re){z===u.POINTS.value?A.totalPoints+=re:z===u.LINES.value?A.totalLines+=re:z===u.LINE_STRIP.value?A.totalLineStrip+=re:z===u.LINE_LOOP.value?A.totalLineLoop+=re:z===u.TRIANGLES.value?A.totalTriangles+=re:z===u.TRIANGLE_STRIP.value?A.totalTriangleStrip+=re:z===u.TRIANGLE_FAN.value&&(A.totalTriangleFan+=re),A.total+=re}}T.analyserName="Primitives";class R{constructor(A){this.contextInformation=A,this.analysers=[],this.initAnalysers()}appendAnalyses(A){for(const z in this.analysers)this.analysers.hasOwnProperty(z)&&this.analysers[z].appendAnalysis(A)}initAnalysers(){this.analysers.push(new _(this.contextInformation),new y(this.contextInformation),new T(this.contextInformation))}}class O{static getWebGlObjectTag(A){return A[O.SPECTOROBJECTTAGKEY]}static attachWebGlObjectTag(A,z){z.displayText=O.stringifyWebGlObjectTag(z),A[O.SPECTOROBJECTTAGKEY]=z}static stringifyWebGlObjectTag(A){return A?`${A.typeName} - ID: ${A.id}`:"No tag available."}}O.SPECTOROBJECTTAGKEY="__SPECTOR_Object_TAG";class C{constructor(){this.id=0}get type(){return window[this.typeName]||null}tagWebGlObject(A){if(!this.type)return;let z;if(!A||(z=O.getWebGlObjectTag(A),z))return z;if(A instanceof this.type){const re=this.getNextId();return z={typeName:this.typeName,id:re},O.attachWebGlObjectTag(A,z),z}return z}getNextId(){return this.id++}}class I{constructor(A){this.options=A}createCapture(A,z,re){const te=(class{static getStackTrace(P=0,G=0){const Y=[];try{throw new Error("Errorator.")}catch(se){if(se.stack){const de=se.stack.split(`
`);for(let le=0,Se=de.length;le<Se;le++)de[le].match(/^\s*[A-Za-z0-9\-_\$]+\(/)?Y.push(de[le]):de[le].indexOf("    at ")===0?(de[le]=de[le].replace("    at ",""),Y.push(de[le])):de[le].indexOf("/<@http")!==-1?(de[le]=de[le].substring(de[le].indexOf("/<@http")+3),Y.push(de[le])):de[le].indexOf("@http")!==-1&&(de[le]=de[le].replace("@http"," (http"),de[le]=de[le]+")",Y.push(de[le]))}else if(se.message){const de=se.message.split(`
`);for(let le=0,Se=de.length;le<Se;le++)if(de[le].match(/^\s*[A-Za-z0-9\-_\$]+\(/)){let je=de[le];de[le+1]&&(je+=" at "+de[le+1],le++),Y.push(je)}}}if(!Y){let se=arguments.callee.caller;for(;se;){const de=se.toString(),le=de.substring(de.indexOf("function")+8,de.indexOf(""))||"anonymous";Y.push(le),se=se.caller}}if(Y){Y.shift();for(let se=0;se<P&&Y.length>0;se++)Y.shift();for(let se=0;se<G&&Y.length>0;se++)Y.pop()}return Y}}).getStackTrace(4,1),Ae=A.name.indexOf("uniform")===0?this.stringifyUniform(A.arguments):this.stringify(A.arguments,A.result),ke={id:z,startTime:A.startTime,commandEndTime:A.endTime,endTime:0,name:A.name,commandArguments:A.arguments,result:A.result,stackTrace:te,status:0,marker:re,text:Ae};this.transformCapture(ke);for(let P=0;P<ke.commandArguments.length;P++){const G=ke.commandArguments[P];G&&G.length&&G.length>50&&(ke.commandArguments[P]="Array Length: "+G.length)}if(ke.commandArguments){const P=[];for(let G=0;G<ke.commandArguments.length;G++){const Y=ke.commandArguments[G];Y===void 0?P.push(void 0):Y===null?P.push(null):P.push(JSON.parse(this.stringifyJSON(Y)))}ke.commandArguments=P}return ke.result&&(ke.result=JSON.parse(this.stringifyJSON(ke.result))),ke}stringifyJSON(A){try{return JSON.stringify(A)}catch{return null}}transformCapture(A){}stringify(A,z){let re=this.spiedCommandName;return A&&A.length>0&&(re+=": "+this.stringifyArgs(A).join(", ")),z!=null&&(re+=" -> "+this.stringifyResult(z)),re}stringifyUniform(A){let z=this.spiedCommandName;if(A&&A.length>0){const re=[];re.push(this.stringifyValue(A[0]));for(let te=1;te<A.length;te++)if(typeof A[te]=="number"){const Ae=A[te]+"";re.push(Ae)}else{const Ae=this.stringifyValue(A[te]);re.push(Ae)}z+=": "+re.join(", ")}return z}stringifyArgs(A){const z=[];for(let re=0;re<A.length;re++){const te=A[re],Ae=this.stringifyValue(te);z.push(Ae)}return z}stringifyResult(A){if(A)return this.stringifyValue(A)}stringifyValue(A){if(A===null)return"null";if(A===void 0)return"undefined";const z=O.getWebGlObjectTag(A);return z?z.displayText:typeof A=="number"&&u.isWebGlConstant(A)?u.stringifyWebGlConstant(A,this.spiedCommandName):typeof A=="string"?A:A instanceof HTMLImageElement?A.src:A instanceof ArrayBuffer?"[--("+A.byteLength+")--]":A.length?"[..("+A.length+")..]":A.byteLength?"[..("+A.byteLength+")..]":A}}class F extends I{get spiedCommandName(){return F.commandName}stringifyArgs(A){var z,re;const te=[];for(let Ae=0;Ae<A.length;Ae++){const ke=A[Ae];if(Ae>0&&typeof ke=="number")te.push((re=(z=A[Ae])===null||z===void 0?void 0:z.toFixed(0))!==null&&re!==void 0?re:"0");else{const P=this.stringifyValue(ke);te.push(P)}}return te}}F.commandName="bufferSubData";class M{static storeOriginFunction(A,z){if(!A||!A[z])return;const re=this.getOriginFunctionName(z);A[re]||(A[re]=A[z])}static resetOriginFunction(A,z){if(!A||!A[z])return;const re=this.getOriginFunctionName(z);A[re]&&(A[z]=A[re],delete A[re])}static storePrototypeOriginFunction(A,z){if(!A||!A.prototype[z])return;const re=this.getOriginFunctionName(z);A.prototype[re]||(A.prototype[re]=A.prototype[z])}static executePrototypeOriginFunction(A,z,re,te){if(!A)return;const Ae=this.getOriginFunctionName(re);return z.prototype[Ae]?(A[Ae]||(A[Ae]=z.prototype[Ae]),this.executeFunction(A,Ae,te)):void 0}static executeOriginFunction(A,z,re){if(!A)return;const te=this.getOriginFunctionName(z);return A[te]?this.executeFunction(A,te,re):void 0}static executeFunction(A,z,re){const te=re;if(te===void 0||te.length===0)return A[z]();switch(te.length){case 1:return A[z](te[0]);case 2:return A[z](te[0],te[1]);case 3:return A[z](te[0],te[1],te[2]);case 4:return A[z](te[0],te[1],te[2],te[3]);case 5:return A[z](te[0],te[1],te[2],te[3],te[4]);case 6:return A[z](te[0],te[1],te[2],te[3],te[4],te[5]);case 7:return A[z](te[0],te[1],te[2],te[3],te[4],te[5],te[6]);case 8:return A[z](te[0],te[1],te[2],te[3],te[4],te[5],te[6],te[7]);case 9:return A[z](te[0],te[1],te[2],te[3],te[4],te[5],te[6],te[7],te[8]);case 10:return A[z](te[0],te[1],te[2],te[3],te[4],te[5],te[6],te[7],te[8],te[9]);case 11:return A[z](te[0],te[1],te[2],te[3],te[4],te[5],te[6],te[7],te[8],te[9],te[10]);case 12:return A[z](te[0],te[1],te[2],te[3],te[4],te[5],te[6],te[7],te[8],te[9],te[10],te[11]);case 13:return A[z](te[0],te[1],te[2],te[3],te[4],te[5],te[6],te[7],te[8],te[9],te[10],te[11],te[12]);case 14:return A[z](te[0],te[1],te[2],te[3],te[4],te[5],te[6],te[7],te[8],te[9],te[10],te[11],te[12],te[13]);case 15:return A[z](te[0],te[1],te[2],te[3],te[4],te[5],te[6],te[7],te[8],te[9],te[10],te[11],te[12],te[13],te[14]);case 16:return A[z](te[0],te[1],te[2],te[3],te[4],te[5],te[6],te[7],te[8],te[9],te[10],te[11],te[12],te[13],te[14],te[15]);case 17:return A[z](te[0],te[1],te[2],te[3],te[4],te[5],te[6],te[7],te[8],te[9],te[10],te[11],te[12],te[13],te[14],te[15],te[16]);case 18:return A[z](te[0],te[1],te[2],te[3],te[4],te[5],te[6],te[7],te[8],te[9],te[10],te[11],te[12],te[13],te[14],te[15],te[16],te[17]);case 19:return A[z](te[0],te[1],te[2],te[3],te[4],te[5],te[6],te[7],te[8],te[9],te[10],te[11],te[12],te[13],te[14],te[15],te[16],te[17],te[18]);case 20:return A[z](te[0],te[1],te[2],te[3],te[4],te[5],te[6],te[7],te[8],te[9],te[10],te[11],te[12],te[13],te[14],te[15],te[16],te[17],te[18],te[19]);default:return A[z].apply(A,te)}}static getOriginFunctionName(A){return this.originFunctionPrefix+A}}M.originFunctionPrefix="__SPECTOR_Origin_";class D extends I{get spiedCommandName(){return D.commandName}stringifyArgs(A){const z=[];if(A.length>0){const re=A[0],te=this.stringifyValue(re);z.push(te)}if(A.length>1){const re=""+A[1];z.push(re)}return A.length>2&&z.push(A[2]),z}}D.commandName="bindAttribLocation";class B extends I{get spiedCommandName(){return B.commandName}stringifyArgs(A){const z=[],re=this.options.context.getParameter(u.READ_FRAMEBUFFER_BINDING.value),te=this.options.tagWebGlObject(re);z.push("READ FROM: "+this.stringifyValue(te));const Ae=this.options.context.getParameter(u.DRAW_FRAMEBUFFER_BINDING.value),ke=this.options.tagWebGlObject(Ae);z.push("WRITE TO: "+this.stringifyValue(ke));for(let P=0;P<8;P++)z.push(A[P]);return(A[8]&u.DEPTH_BUFFER_BIT.value)===u.DEPTH_BUFFER_BIT.value&&z.push(u.DEPTH_BUFFER_BIT.name),(A[8]&u.STENCIL_BUFFER_BIT.value)===u.STENCIL_BUFFER_BIT.value&&z.push(u.STENCIL_BUFFER_BIT.name),(A[8]&u.COLOR_BUFFER_BIT.value)===u.COLOR_BUFFER_BIT.value&&z.push(u.COLOR_BUFFER_BIT.name),z.push(u.stringifyWebGlConstant(A[9],"blitFrameBuffer")),z}}B.commandName="blitFrameBuffer";class j extends I{get spiedCommandName(){return j.commandName}stringifyArgs(A){const z=[];return(A[0]&u.DEPTH_BUFFER_BIT.value)===u.DEPTH_BUFFER_BIT.value&&z.push(u.DEPTH_BUFFER_BIT.name),(A[0]&u.STENCIL_BUFFER_BIT.value)===u.STENCIL_BUFFER_BIT.value&&z.push(u.STENCIL_BUFFER_BIT.name),(A[0]&u.COLOR_BUFFER_BIT.value)===u.COLOR_BUFFER_BIT.value&&z.push(u.COLOR_BUFFER_BIT.name),z}}j.commandName="clear";const U=["lineWidth"];class V extends I{constructor(A,z){super(A),this.internalSpiedCommandName=z,this.isDeprecated=U.indexOf(this.spiedCommandName)>-1}get spiedCommandName(){return this.internalSpiedCommandName}transformCapture(A){this.isDeprecated&&(A.status=50)}}class k extends I{get spiedCommandName(){return k.commandName}stringifyArgs(A){const z=[];return z.push(A[0]),z}}k.commandName="disableVertexAttribArray";class Z extends I{get spiedCommandName(){return Z.commandName}stringifyArgs(A){const z=[];return z.push(u.stringifyWebGlConstant(A[0],"drawArrays")),z.push(A[1]+" indices"),z.push(A[2]),z}}Z.commandName="drawArrays";class ee extends I{get spiedCommandName(){return ee.commandName}stringifyArgs(A){const z=[];return z.push(u.stringifyWebGlConstant(A[0],"drawArraysInstanced")),z.push(A[1]),z.push(A[2]),z.push(A[3]),z}}ee.commandName="drawArraysInstanced";class oe extends I{get spiedCommandName(){return oe.commandName}stringifyArgs(A){const z=[];return z.push(u.stringifyWebGlConstant(A[0],"drawArraysInstancedANGLE")),z.push(A[1]),z.push(A[2]),z.push(A[3]),z}}oe.commandName="drawArraysInstancedANGLE";class ne extends I{get spiedCommandName(){return ne.commandName}stringifyArgs(A){const z=[];return z.push(u.stringifyWebGlConstant(A[0],"drawElements")),z.push(A[1]+" indices"),z.push(u.stringifyWebGlConstant(A[2],"drawElements")),z.push(A[3]),z}}ne.commandName="drawElements";class ie extends I{get spiedCommandName(){return ie.commandName}stringifyArgs(A){const z=[];return z.push(u.stringifyWebGlConstant(A[0],"drawElementsInstancedANGLE")),z.push(A[1]+" indices"),z.push(u.stringifyWebGlConstant(A[2],"drawElementsInstancedANGLE")),z.push(A[3]),z.push(A[4]),z}}ie.commandName="drawElementsInstancedANGLE";class he extends I{get spiedCommandName(){return he.commandName}stringifyArgs(A){const z=[];return z.push(u.stringifyWebGlConstant(A[0],"drawElementsInstanced")),z.push(A[1]+" indices"),z.push(u.stringifyWebGlConstant(A[2],"drawElementsInstanced")),z.push(A[3]),z.push(A[4]),z}}he.commandName="drawElementsInstanced";class fe extends I{get spiedCommandName(){return fe.commandName}stringifyArgs(A){const z=[];return z.push(u.stringifyWebGlConstant(A[0],"drawRangeElements")),z.push(A[1]),z.push(A[2]),z.push(A[3]),z.push(u.stringifyWebGlConstant(A[4],"drawRangeElements")),z.push(A[5]),z}}fe.commandName="drawRangeElements";class ce extends I{get spiedCommandName(){return ce.commandName}stringifyResult(A){if(A)return`name: ${A.name}, size: ${A.size}, type: ${A.type}`}}ce.commandName="getActiveAttrib";class ae extends I{get spiedCommandName(){return ae.commandName}stringifyResult(A){if(A)return`name: ${A.name}, size: ${A.size}, type: ${A.type}`}}ae.commandName="getActiveUniform";class ve extends I{get spiedCommandName(){return ve.commandName}stringifyResult(A){var z;if(A!=null)return(z=A?.toFixed(0))!==null&&z!==void 0?z:"0"}}ve.commandName="getAttribLocation";class _e extends I{get spiedCommandName(){return _e.commandName}stringifyResult(A){return A?"true":"false"}}_e.commandName="getExtension";class Te extends I{get spiedCommandName(){return Te.commandName}stringifyResult(A){if(!A)return"null";const z=O.getWebGlObjectTag(A);return z?z.displayText:A}}Te.commandName="getParameter";class Fe extends I{get spiedCommandName(){return Fe.commandName}stringifyResult(A){if(A)return`min: ${A.rangeMin}, max: ${A.rangeMax}, precision: ${A.precision}`}}Fe.commandName="getShaderPrecisionFormat";class We extends I{get spiedCommandName(){return We.commandName}stringifyResult(A){if(A)return`name: ${A.name}, size: ${A.size}, type: ${A.type}`}}We.commandName="getTransformFeedbackVarying";class ht extends I{get spiedCommandName(){return ht.commandName}stringifyArgs(A){const z=[];return z.push(u.stringifyWebGlConstant(A[0],"multiDrawArraysInstancedBaseInstanceWEBGL")),z.push(`drawCount=${A[9]}`),z.push(A[2]),z.push(A[4]),z.push(A[6]),z.push(A[8]),z}}ht.commandName="multiDrawArraysInstancedBaseInstanceWEBGL";class ft extends I{get spiedCommandName(){return ft.commandName}stringifyArgs(A){const z=[];return z.push(u.stringifyWebGlConstant(A[0],"drawArrays")),z.push(`drawCount=${A[7]}`),z.push(A[2]),z.push(A[4]),z.push(A[6]),z}}ft.commandName="multiDrawArraysInstancedWEBGL";class Bt extends I{get spiedCommandName(){return Bt.commandName}stringifyArgs(A){const z=[];return z.push(u.stringifyWebGlConstant(A[0],"drawArrays")),z.push(`drawCount=${A[5]}`),z.push(A[2]),z.push(A[4]),z}}Bt.commandName="multiDrawArraysWEBGL";class Me extends I{get spiedCommandName(){return Me.commandName}stringifyArgs(A){const z=[];return z.push(u.stringifyWebGlConstant(A[0],"drawArrays")),z.push(u.stringifyWebGlConstant(A[3],"drawArrays")),z.push(`drawCount=${A[11]}`),z.push(A[2]),z.push(A[4]),z.push(A[6]),z.push(A[8]),z.push(A[10]),z}}Me.commandName="multiDrawElementsInstancedBaseVertexBaseInstanceWEBGL";class yt extends I{get spiedCommandName(){return yt.commandName}stringifyArgs(A){const z=[];return z.push(u.stringifyWebGlConstant(A[0],"drawArrays")),z.push(u.stringifyWebGlConstant(A[3],"drawArrays")),z.push(`drawCount=${A[8]}`),z.push(A[2]),z.push(A[5]),z.push(A[7]),z}}yt.commandName="multiDrawElementsInstancedWEBGL";class mt extends I{get spiedCommandName(){return mt.commandName}stringifyArgs(A){const z=[];return z.push(u.stringifyWebGlConstant(A[0],"drawArrays")),z.push(u.stringifyWebGlConstant(A[3],"drawArrays")),z.push(`drawCount=${A[6]}`),z.push(A[2]),z.push(A[5]),z}}mt.commandName="multiDrawElementsWEBGL";class St extends I{get spiedCommandName(){return St.commandName}stringifyArgs(A){const z=[];return z.push(u.stringifyWebGlConstant(A[0],"drawArraysInstanced")),z.push(A[1]),z.push(A[2]),z.push(A[3]),z.push(`baseInstance = ${A[4]}`),z}}St.commandName="drawArraysInstancedBaseInstanceWEBGL";class nt extends I{get spiedCommandName(){return nt.commandName}stringifyArgs(A){const z=[];return z.push(u.stringifyWebGlConstant(A[0],"drawElementsInstanced")),z.push(A[1]+" indices"),z.push(u.stringifyWebGlConstant(A[2],"drawElementsInstanced")),z.push(A[3]),z.push(A[4]),z.push(`baseVertex = ${A[5]}`),z.push(`baseInstance = ${A[6]}`),z}}nt.commandName="drawElementsInstancedBaseVertexBaseInstanceWEBGL";class Ft extends I{get spiedCommandName(){return Ft.commandName}stringifyArgs(A){var z,re;const te=[];for(let Ae=0;Ae<4;Ae++)te.push((re=(z=A[Ae])===null||z===void 0?void 0:z.toFixed(0))!==null&&re!==void 0?re:"0");return te}}function qe(Tn){return Tn==null?"":`${Tn.toFixed(0)} (0b${(Tn>>>0).toString(2)})`}Ft.commandName="scissor";class Ke extends I{get spiedCommandName(){return Ke.commandName}stringifyArgs(A){const z=[];return z.push(qe(A[0])),z}}Ke.commandName="stencilMask";class Et extends I{get spiedCommandName(){return Et.commandName}stringifyArgs(A){const z=[];return z.push(u.stringifyWebGlConstant(A[0],"stencilMaskSeparate")),z.push(qe(A[1])),z}}Et.commandName="stencilMaskSeparate";class ye extends I{get spiedCommandName(){return ye.commandName}stringifyArgs(A){const z=[];return z.push(u.stringifyWebGlConstant(A[0],"stencilFunc")),z.push(qe(A[1])),z.push(qe(A[2])),z}}ye.commandName="stencilFunc";class me extends I{get spiedCommandName(){return me.commandName}stringifyArgs(A){const z=[];return z.push(u.stringifyWebGlConstant(A[0],"stencilFuncSeparate")),z.push(u.stringifyWebGlConstant(A[1],"stencilFuncSeparate")),z.push(qe(A[2])),z.push(qe(A[3])),z}}me.commandName="stencilFuncSeparate";class Le extends I{get spiedCommandName(){return Le.commandName}stringifyArgs(A){const z=[];return z.push(A[0]),z.push(A[1]),z.push(u.stringifyWebGlConstant(A[2],"vertexAttribPointer")),z.push(A[3]),z.push(A[4]),z.push(A[5]),z}}Le.commandName="vertexAttribPointer";class it extends I{get spiedCommandName(){return it.commandName}stringifyArgs(A){const z=[];for(let re=0;re<4;re++)z.push(A[re].toFixed(0));return z}}it.commandName="viewport";class Qe extends I{get spiedCommandName(){return Qe.commandName}stringifyArgs(A){const z=[];return z.push(A[0]),z}}Qe.commandName="enableVertexAttribArray";class et{constructor(A){this.spiedCommandName=A.spiedCommandName,this.spiedCommandRunningContext=A.spiedCommandRunningContext,this.spiedCommand=this.spiedCommandRunningContext[this.spiedCommandName],M.storeOriginFunction(this.spiedCommandRunningContext,this.spiedCommandName),this.callback=A.callback,this.commandOptions={context:A.context,contextVersion:A.contextVersion,extensions:A.extensions,toggleCapture:A.toggleCapture},this.initCustomCommands(),this.initCommand()}spy(){this.spiedCommandRunningContext[this.spiedCommandName]=this.overloadedCommand}unSpy(){this.spiedCommandRunningContext[this.spiedCommandName]=this.spiedCommand}createCapture(A,z,re){return this.command.createCapture(A,z,re)}initCommand(){et.customCommandsConstructors[this.spiedCommandName]?this.command=et.customCommandsConstructors[this.spiedCommandName](this.commandOptions):this.command=new V(this.commandOptions,this.spiedCommandName),this.overloadedCommand=this.getSpy()}getSpy(){const A=this;return function(){const z=v.now,re=M.executeOriginFunction(A.spiedCommandRunningContext,A.spiedCommandName,arguments),te=v.now,Ae={name:A.spiedCommandName,arguments,result:re,startTime:z,endTime:te};return A.callback(A,Ae),re}}initCustomCommands(){et.customCommandsConstructors||(et.customCommandsConstructors={[D.commandName]:A=>new D(A),[B.commandName]:A=>new B(A),[F.commandName]:A=>new F(A),[j.commandName]:A=>new j(A),[k.commandName]:A=>new k(A),[Z.commandName]:A=>new Z(A),[ee.commandName]:A=>new ee(A),[oe.commandName]:A=>new oe(A),[ne.commandName]:A=>new ne(A),[he.commandName]:A=>new he(A),[ie.commandName]:A=>new ie(A),[fe.commandName]:A=>new fe(A),[ce.commandName]:A=>new ce(A),[ae.commandName]:A=>new ae(A),[ve.commandName]:A=>new ve(A),[_e.commandName]:A=>new _e(A),[Te.commandName]:A=>new Te(A),[Fe.commandName]:A=>new Fe(A),[We.commandName]:A=>new We(A),[ht.commandName]:A=>new ht(A),[ft.commandName]:A=>new ft(A),[Bt.commandName]:A=>new Bt(A),[Me.commandName]:A=>new Me(A),[yt.commandName]:A=>new yt(A),[mt.commandName]:A=>new mt(A),[St.commandName]:A=>new St(A),[nt.commandName]:A=>new nt(A),[Ft.commandName]:A=>new Ft(A),[Ke.commandName]:A=>new Ke(A),[Et.commandName]:A=>new Et(A),[ye.commandName]:A=>new ye(A),[me.commandName]:A=>new me(A),[Le.commandName]:A=>new Le(A),[it.commandName]:A=>new it(A),[Qe.commandName]:A=>new Qe(A)})}}class At{constructor(A){this.options=A,this.context=A.context,this.contextVersion=A.contextVersion,this.extensions=A.extensions,this.toggleCapture=A.toggleCapture,this.consumeCommands=this.getConsumeCommands(),this.changeCommandsByState=this.getChangeCommandsByState(),this.commandNameToStates=this.getCommandNameToStates()}get requireStartAndStopStates(){return!0}startCapture(A,z,re){return this.quickCapture=z,this.fullCapture=re,this.capturedCommandsByState={},A&&this.requireStartAndStopStates&&(this.currentState={},this.readFromContextNoSideEffects()),this.copyCurrentStateToPrevious(),this.currentState={},this.previousState}stopCapture(){return this.requireStartAndStopStates&&this.readFromContextNoSideEffects(),this.analyse(void 0),this.currentState}registerCallbacks(A){for(const z in this.changeCommandsByState)if(this.changeCommandsByState.hasOwnProperty(z))for(const re of this.changeCommandsByState[z])A[re]=A[re]||[],A[re].push(this.onChangeCommand.bind(this));for(const z of this.consumeCommands)A[z]=A[z]||[],A[z].push(this.onConsumeCommand.bind(this))}getStateData(){return this.currentState}getConsumeCommands(){return[]}getChangeCommandsByState(){return{}}copyCurrentStateToPrevious(){this.currentState&&(this.previousState=this.currentState)}onChangeCommand(A){const z=this.commandNameToStates[A.name];for(const re of z){if(!this.isValidChangeCommand(A,re))return;this.capturedCommandsByState[re]=this.capturedCommandsByState[re]||[],this.capturedCommandsByState[re].push(A)}}isValidChangeCommand(A,z){return!0}onConsumeCommand(A){this.isValidConsumeCommand(A)&&(this.readFromContextNoSideEffects(),this.analyse(A),this.storeCommandIds(),A[this.stateName]=this.currentState,this.startCapture(!1,this.quickCapture,this.fullCapture))}isValidConsumeCommand(A){return this.lastCommandName=A?.name,!0}analyse(A){for(const z in this.capturedCommandsByState)if(this.capturedCommandsByState.hasOwnProperty(z)){const re=this.capturedCommandsByState[z],te=re.length-1;if(te>=0)if(A){for(let P=0;P<te;P++){const G=re[P];G.consumeCommandId=A.id,this.changeCommandCaptureStatus(G,30)}const Ae=this.isStateEnableNoSideEffects(z,A.commandArguments),ke=re[te];ke.consumeCommandId=A.id,this.areStatesEquals(this.currentState[z],this.previousState[z])?this.changeCommandCaptureStatus(ke,30):Ae?this.changeCommandCaptureStatus(ke,40):this.changeCommandCaptureStatus(ke,20)}else for(let Ae=0;Ae<re.length;Ae++){const ke=re[Ae];this.changeCommandCaptureStatus(ke,10)}}}storeCommandIds(){const A=["unusedCommandIds","disabledCommandIds","redundantCommandIds","validCommandIds"];for(const z of A)this.currentState[z]=[];for(const z in this.capturedCommandsByState)if(this.capturedCommandsByState.hasOwnProperty(z)){const re=this.capturedCommandsByState[z];for(const te of re)switch(te.status){case 10:this.currentState.unusedCommandIds.push(te.id);break;case 20:this.currentState.disabledCommandIds.push(te.id);break;case 30:this.currentState.redundantCommandIds.push(te.id);break;case 40:this.currentState.validCommandIds.push(te.id)}}for(const z of A)this.currentState[z].length||delete this.currentState[z]}changeCommandCaptureStatus(A,z){return A.status<z&&(A.status=z,!0)}areStatesEquals(A,z){if(typeof A!=typeof z||A&&!z||z&&!A)return!1;if(A==null)return!0;if(A.length&&z.length&&typeof A!="string"){if(A.length!==z.length)return!1;for(let re=0;re<A.length;re++)if(A[re]!==z[re])return!1;return!0}return A===z}isStateEnable(A,z){return!0}getSpectorData(A){if(A)return{__SPECTOR_Object_TAG:O.getWebGlObjectTag(A)||this.options.tagWebGlObject(A),__SPECTOR_Object_CustomData:A.__SPECTOR_Object_CustomData,__SPECTOR_Metadata:A.__SPECTOR_Metadata}}readFromContextNoSideEffects(){this.toggleCapture(!1),this.readFromContext(),this.toggleCapture(!0)}isStateEnableNoSideEffects(A,z){this.toggleCapture(!1);const re=this.isStateEnable(A,z);return this.toggleCapture(!0),re}getCommandNameToStates(){const A={};for(const z in this.changeCommandsByState)if(this.changeCommandsByState.hasOwnProperty(z))for(const re of this.changeCommandsByState[z])A[re]=A[re]||[],A[re].push(z);return A}}class Gt extends At{getWebgl1Parameters(){return[]}getWebgl2Parameters(){return[]}getChangeCommandsByState(){this.parameters=[],this.parameters.push(this.getWebgl1Parameters()),this.contextVersion>1&&this.parameters.push(this.getWebgl2Parameters());const A={};for(let z=1;z<=this.contextVersion&&!(z>this.parameters.length);z++)if(this.parameters[z-1]){for(const re of this.parameters[z-1])if(re.changeCommands)for(const te of re.changeCommands)A[re.constant.name]=A[re.constant.name]||[],A[re.constant.name].push(te)}return A}readFromContext(){for(let A=1;A<=this.contextVersion&&!(A>this.parameters.length);A++)for(const z of this.parameters[A-1]){const re=this.readParameterFromContext(z);if(re==null){const Ae=this.stringifyParameterValue(re,z);this.currentState[z.constant.name]=Ae;continue}const te=O.getWebGlObjectTag(re);if(te)this.currentState[z.constant.name]=te;else{const Ae=this.stringifyParameterValue(re,z);this.currentState[z.constant.name]=Ae}}}readParameterFromContext(A){return A.constant.extensionName&&!this.extensions[A.constant.extensionName]?`Extension ${A.constant.extensionName} is unavailable.`:this.context.getParameter(A.constant.value)}stringifyParameterValue(A,z){if(A===null)return"null";if(A===void 0)return"undefined";if(z.returnType===30)return qe(A);if(typeof A=="number"&&u.isWebGlConstant(A)){if(z.returnType===20){const re=z.changeCommands&&z.changeCommands[0]||"";return u.stringifyWebGlConstant(A,re)}return A}if(A.length&&typeof A!="string"){const re=[];for(let te=0;te<A.length;te++)re.push(A[te]);return re}return A}}class on extends Gt{get stateName(){return on.stateName}getWebgl1Parameters(){return[{constant:u.PACK_ALIGNMENT,changeCommands:["pixelStorei"]},{constant:u.UNPACK_ALIGNMENT,changeCommands:["pixelStorei"]},{constant:u.UNPACK_COLORSPACE_CONVERSION_WEBGL,returnType:20,changeCommands:["pixelStorei"]},{constant:u.UNPACK_FLIP_Y_WEBGL,changeCommands:["pixelStorei"]},{constant:u.UNPACK_PREMULTIPLY_ALPHA_WEBGL,changeCommands:["pixelStorei"]}]}getWebgl2Parameters(){return[{constant:u.PACK_ROW_LENGTH,changeCommands:["pixelStorei"]},{constant:u.PACK_SKIP_PIXELS,changeCommands:["pixelStorei"]},{constant:u.PACK_SKIP_ROWS,changeCommands:["pixelStorei"]},{constant:u.UNPACK_IMAGE_HEIGHT,changeCommands:["pixelStorei"]},{constant:u.UNPACK_SKIP_PIXELS,changeCommands:["pixelStorei"]},{constant:u.UNPACK_SKIP_ROWS,changeCommands:["pixelStorei"]},{constant:u.UNPACK_SKIP_IMAGES,changeCommands:["pixelStorei"]}]}getConsumeCommands(){return["readPixels","texImage2D","texSubImage2D"]}isValidChangeCommand(A,z){return b[z].value===A.commandArguments[0]}}on.stateName="AlignmentState";class fn extends Gt{get stateName(){return fn.stateName}getWebgl1Parameters(){return[{constant:u.BLEND,changeCommands:["enable","disable"]},{constant:u.BLEND_COLOR,changeCommands:["blendColor"]},{constant:u.BLEND_DST_ALPHA,returnType:20,changeCommands:["blendFunc","blendFuncSeparate"]},{constant:u.BLEND_DST_RGB,returnType:20,changeCommands:["blendFunc","blendFuncSeparate"]},{constant:u.BLEND_EQUATION_ALPHA,returnType:20,changeCommands:["blendEquation","blendEquationSeparate"]},{constant:u.BLEND_EQUATION_RGB,returnType:20,changeCommands:["blendEquation","blendEquationSeparate"]},{constant:u.BLEND_SRC_ALPHA,returnType:20,changeCommands:["blendFunc","blendFuncSeparate"]},{constant:u.BLEND_SRC_RGB,returnType:20,changeCommands:["blendFunc","blendFuncSeparate"]}]}isValidChangeCommand(A,z){return A.name!=="enable"&&A.name!=="disable"||A.commandArguments[0]===u.BLEND.value}getConsumeCommands(){return g}isStateEnable(A,z){return this.context.isEnabled(u.BLEND.value)}}fn.stateName="BlendState";class xt extends Gt{get stateName(){return xt.stateName}getWebgl1Parameters(){return[{constant:u.COLOR_CLEAR_VALUE,changeCommands:["clearColor"]},{constant:u.DEPTH_CLEAR_VALUE,changeCommands:["clearDepth"]},{constant:u.STENCIL_CLEAR_VALUE,changeCommands:["clearStencil"]}]}getConsumeCommands(){return["clear"]}isStateEnable(A,z){switch(A){case u.COLOR_CLEAR_VALUE.name:return u.COLOR_BUFFER_BIT.value===(z[0]&u.COLOR_BUFFER_BIT.value);case u.DEPTH_CLEAR_VALUE.name:return u.DEPTH_BUFFER_BIT.value===(z[0]&u.DEPTH_BUFFER_BIT.value);case u.STENCIL_CLEAR_VALUE.name:return u.STENCIL_BUFFER_BIT.value===(z[0]&u.STENCIL_BUFFER_BIT.value)}return!1}}xt.stateName="ClearState";class kt extends Gt{get stateName(){return kt.stateName}getWebgl1Parameters(){return[{constant:u.COLOR_WRITEMASK,changeCommands:["colorMask"]}]}getConsumeCommands(){return g}}kt.stateName="ColorState";class Xt extends Gt{get stateName(){return Xt.stateName}getWebgl1Parameters(){return[{constant:u.SAMPLE_COVERAGE_VALUE,changeCommands:["sampleCoverage"]},{constant:u.SAMPLE_COVERAGE_INVERT,changeCommands:["sampleCoverage"]}]}getWebgl2Parameters(){return[{constant:u.SAMPLE_COVERAGE,changeCommands:["enable","disable"]},{constant:u.SAMPLE_ALPHA_TO_COVERAGE,changeCommands:["enable","disable"]}]}isValidChangeCommand(A,z){return A.name!=="enable"&&A.name!=="disable"||(A.commandArguments[0]===u.SAMPLE_COVERAGE.value?z===u.SAMPLE_COVERAGE.name:A.commandArguments[0]===u.SAMPLE_ALPHA_TO_COVERAGE.value&&z===u.SAMPLE_ALPHA_TO_COVERAGE.name)}getConsumeCommands(){return g}isStateEnable(A,z){return this.contextVersion===2&&this.context.isEnabled(u.SAMPLE_COVERAGE.value)}}Xt.stateName="CoverageState";class Ve extends Gt{get stateName(){return Ve.stateName}getWebgl1Parameters(){return[{constant:u.CULL_FACE,changeCommands:["enable","disable"]},{constant:u.CULL_FACE_MODE,returnType:20,changeCommands:["cullFace"]}]}getConsumeCommands(){return g}isValidChangeCommand(A,z){return A.name!=="enable"&&A.name!=="disable"||A.commandArguments[0]===u.CULL_FACE.value}isStateEnable(A,z){return this.context.isEnabled(u.CULL_FACE.value)}}Ve.stateName="CullState";class lt extends Gt{get stateName(){return lt.stateName}getWebgl1Parameters(){return[{constant:u.DEPTH_TEST,changeCommands:["enable","disable"]},{constant:u.DEPTH_FUNC,returnType:20,changeCommands:["depthFunc"]},{constant:u.DEPTH_RANGE,changeCommands:["depthRange"]},{constant:u.DEPTH_WRITEMASK,changeCommands:["depthMask"]}]}getConsumeCommands(){return g}isValidChangeCommand(A,z){return A.name!=="enable"&&A.name!=="disable"||A.commandArguments[0]===u.DEPTH_TEST.value}isStateEnable(A,z){return this.context.isEnabled(u.DEPTH_TEST.value)}}lt.stateName="DepthState";class Qt extends Gt{get stateName(){return Qt.stateName}getWebgl1Parameters(){return[{constant:u.DITHER,changeCommands:["enable","disable"]},{constant:u.VIEWPORT,changeCommands:["viewPort"]},{constant:u.FRONT_FACE,returnType:20,changeCommands:["frontFace"]},{constant:u.FRAGMENT_SHADER_DERIVATIVE_HINT_OES,changeCommands:["hint"]}]}getWebgl2Parameters(){return[{constant:u.RASTERIZER_DISCARD,changeCommands:["enable","disable"]},{constant:u.FRAGMENT_SHADER_DERIVATIVE_HINT,changeCommands:["hint"]}]}isValidChangeCommand(A,z){return A.name==="enable"||A.name==="disable"?A.commandArguments[0]===u.DITHER.value?z===u.DITHER.name:A.commandArguments[0]===u.RASTERIZER_DISCARD.value&&z===u.RASTERIZER_DISCARD.name:A.name!=="hint"||(A.commandArguments[0]===u.FRAGMENT_SHADER_DERIVATIVE_HINT_OES.value?z===u.FRAGMENT_SHADER_DERIVATIVE_HINT_OES.name:A.commandArguments[0]===u.FRAGMENT_SHADER_DERIVATIVE_HINT.value&&z===u.FRAGMENT_SHADER_DERIVATIVE_HINT.name)}getConsumeCommands(){return g}isStateEnable(A,z){switch(A){case u.DITHER.name:return this.context.isEnabled(u.DITHER.value);case u.RASTERIZER_DISCARD.name:return this.context.isEnabled(u.RASTERIZER_DISCARD.value)}return!0}}Qt.stateName="DrawState";class Ye extends Gt{get stateName(){return Ye.stateName}getWebgl1Parameters(){return[{constant:u.GENERATE_MIPMAP_HINT,changeCommands:["hint"]}]}getConsumeCommands(){return["generateMipmap"]}}Ye.stateName="MipmapHintState";class ct extends Gt{get stateName(){return ct.stateName}getWebgl1Parameters(){return[{constant:u.POLYGON_OFFSET_FILL,changeCommands:["enable","disable"]},{constant:u.POLYGON_OFFSET_FACTOR,changeCommands:["polygonOffset"]},{constant:u.POLYGON_OFFSET_UNITS,changeCommands:["polygonOffset"]}]}isValidChangeCommand(A,z){return A.name!=="enable"&&A.name!=="disable"||A.commandArguments[0]===u.POLYGON_OFFSET_FILL.value}getConsumeCommands(){return g}isStateEnable(A,z){return this.context.isEnabled(u.POLYGON_OFFSET_FILL.value)}}ct.stateName="PolygonOffsetState";class Dt extends Gt{get stateName(){return Dt.stateName}getWebgl1Parameters(){return[{constant:u.SCISSOR_TEST,changeCommands:["enable","disable"]},{constant:u.SCISSOR_BOX,changeCommands:["scissor"]}]}isValidChangeCommand(A,z){return A.name!=="enable"&&A.name!=="disable"||A.commandArguments[0]===u.SCISSOR_TEST.value}getConsumeCommands(){return[...g,"clear"]}isStateEnable(A,z){return this.context.isEnabled(u.SCISSOR_TEST.value)}}Dt.stateName="ScissorState";class Sn extends Gt{get stateName(){return Sn.stateName}getWebgl1Parameters(){return[{constant:u.STENCIL_TEST,changeCommands:["enable","disable"]},{constant:u.STENCIL_BACK_FAIL,returnType:20,changeCommands:["stencilOp","stencilOpSeparate"]},{constant:u.STENCIL_BACK_FUNC,returnType:20,changeCommands:["stencilFunc","stencilFuncSeparate"]},{constant:u.STENCIL_BACK_PASS_DEPTH_FAIL,returnType:20,changeCommands:["stencilOp","stencilOpSeparate"]},{constant:u.STENCIL_BACK_PASS_DEPTH_PASS,returnType:20,changeCommands:["stencilOp","stencilOpSeparate"]},{constant:u.STENCIL_BACK_REF,changeCommands:["stencilFunc","stencilFuncSeparate"]},{constant:u.STENCIL_BACK_VALUE_MASK,returnType:30,changeCommands:["stencilFunc","stencilFuncSeparate"]},{constant:u.STENCIL_BACK_WRITEMASK,returnType:30,changeCommands:["stencilMask","stencilMaskSeparate"]},{constant:u.STENCIL_FAIL,returnType:20,changeCommands:["stencilOp","stencilOpSeparate"]},{constant:u.STENCIL_FUNC,returnType:20,changeCommands:["stencilFunc","stencilFuncSeparate"]},{constant:u.STENCIL_PASS_DEPTH_FAIL,returnType:20,changeCommands:["stencilOp","stencilOpSeparate"]},{constant:u.STENCIL_PASS_DEPTH_PASS,returnType:20,changeCommands:["stencilOp","stencilOpSeparate"]},{constant:u.STENCIL_REF,changeCommands:["stencilFunc","stencilFuncSeparate"]},{constant:u.STENCIL_VALUE_MASK,returnType:30,changeCommands:["stencilFunc","stencilFuncSeparate"]},{constant:u.STENCIL_WRITEMASK,returnType:30,changeCommands:["stencilMask","stencilMaskSeparate"]}]}readFromContext(){super.readFromContext();const A=this.context,z=u.FRAMEBUFFER.value,re=u.STENCIL_ATTACHMENT.value;let te=0;A.getParameter(u.FRAMEBUFFER_BINDING.value)?this.context.getFramebufferAttachmentParameter(z,re,u.FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE.value)!==u.NONE.value&&(this.contextVersion>1?te=this.context.getFramebufferAttachmentParameter(z,re,u.FRAMEBUFFER_ATTACHMENT_STENCIL_SIZE.value):this.context.getFramebufferAttachmentParameter(z,re,u.FRAMEBUFFER_ATTACHMENT_OBJECT_NAME.value)===u.RENDERBUFFER.value&&(te=A.getRenderbufferParameter(A.RENDERBUFFER,A.RENDERBUFFER_STENCIL_SIZE))):te=this.readParameterFromContext({constant:u.STENCIL_BITS}),this.currentState[u.STENCIL_BITS.name]=""+te}isValidChangeCommand(A,z){return A.name==="enable"||A.name==="disable"?A.commandArguments[0]===u.STENCIL_TEST.value:A.name==="stencilOp"||A.name==="stencilOpSeparate"?Sn.stencilOpStates.indexOf(A.commandArguments[0])>0:A.name==="stencilFunc"||A.name==="stencilFuncSeparate"?Sn.stencilFuncStates.indexOf(A.commandArguments[0])>0:A.name!=="stencilMask"&&A.name!=="stencilMaskSeparate"||Sn.stencilMaskStates.indexOf(A.commandArguments[0])>0}getConsumeCommands(){return g}isStateEnable(A,z){return this.context.isEnabled(u.STENCIL_TEST.value)}}Sn.stateName="StencilState",Sn.stencilOpStates=[u.STENCIL_BACK_FAIL.value,u.STENCIL_BACK_PASS_DEPTH_FAIL.value,u.STENCIL_BACK_PASS_DEPTH_PASS.value,u.STENCIL_FAIL.value,u.STENCIL_PASS_DEPTH_FAIL.value,u.STENCIL_PASS_DEPTH_PASS.value],Sn.stencilFuncStates=[u.STENCIL_BACK_FUNC.value,u.STENCIL_BACK_REF.value,u.STENCIL_BACK_VALUE_MASK.value,u.STENCIL_FUNC.value,u.STENCIL_REF.value,u.STENCIL_VALUE_MASK.value],Sn.stencilMaskStates=[u.STENCIL_BACK_WRITEMASK.value,u.STENCIL_WRITEMASK.value];class qt{static isSupportedCombination(A,z,re){return A=A||u.UNSIGNED_BYTE.value,((z=z||u.RGBA.value)===u.RGB.value||z===u.RGBA.value)&&(re===u.RGB.value||re===u.RGBA.value||re===u.RGBA8.value||re===u.RGBA16F.value||re===u.RGBA32F.value||re===u.RGB16F.value||re===u.RGB32F.value||re===u.R11F_G11F_B10F.value||re===u.SRGB8.value||re===u.SRGB8_ALPHA8.value)&&this.isSupportedComponentType(A)}static readPixels(A,z,re,te,Ae,ke){A.getError(),ke===u.UNSIGNED_NORMALIZED.value&&(ke=u.UNSIGNED_BYTE.value);const P=te*Ae*4;let G;if(ke===u.UNSIGNED_BYTE.value?G=new Uint8Array(P):(ke=u.FLOAT.value,G=new Float32Array(P)),A.readPixels(z,re,te,Ae,A.RGBA,ke,G),A.getError())return;if(ke===u.UNSIGNED_BYTE.value)return G;const Y=new Uint8Array(te*Ae*4);for(let se=0;se<Ae;se++)for(let de=0;de<te;de++)Y[se*te*4+4*de+0]=255*Math.min(Math.max(G[se*te*4+4*de+0],0),1),Y[se*te*4+4*de+1]=255*Math.min(Math.max(G[se*te*4+4*de+1],0),1),Y[se*te*4+4*de+2]=255*Math.min(Math.max(G[se*te*4+4*de+2],0),1),Y[se*te*4+4*de+3]=255*Math.min(Math.max(G[se*te*4+4*de+3],0),1);return Y}static isSupportedComponentType(A){return A===u.UNSIGNED_BYTE.value||A===u.UNSIGNED_SHORT_4_4_4_4.value||A===u.UNSIGNED_SHORT_5_5_5_1.value||A===u.UNSIGNED_SHORT_5_6_5.value||A===u.HALF_FLOAT.value||A===u.HALF_FLOAT_OES.value||A===u.FLOAT.value}}class wt extends At{constructor(A){super(A),this.captureFrameBuffer=A.context.createFramebuffer(),this.workingCanvas=document.createElement("canvas"),this.workingContext2D=this.workingCanvas.getContext("2d"),this.captureCanvas=document.createElement("canvas"),this.captureContext2D=this.captureCanvas.getContext("2d"),this.captureContext2D.imageSmoothingEnabled=!0,this.captureContext2D.mozImageSmoothingEnabled=!0,this.captureContext2D.oImageSmoothingEnabled=!0,this.captureContext2D.webkitImageSmoothingEnabled=!0,this.captureContext2D.msImageSmoothingEnabled=!0}get stateName(){return wt.stateName}getConsumeCommands(){return["clear","clearBufferfv","clearBufferiv","clearBufferuiv","clearBufferfi",...g]}readFromContext(){const A=this.context;this.currentState.Attachments=[];const z=this.context.getParameter(u.FRAMEBUFFER_BINDING.value);if(!z)return this.currentState.FrameBuffer=null,void this.getCapture(A,"Canvas COLOR_ATTACHMENT",0,0,A.drawingBufferWidth,A.drawingBufferHeight,0,0,u.UNSIGNED_BYTE.value);const re=A.getParameter(A.VIEWPORT),te=re[0],Ae=re[1],ke=re[2],P=re[3];this.currentState.FrameBuffer=this.getSpectorData(z);const G=this.context.checkFramebufferStatus(u.FRAMEBUFFER.value);if(this.currentState.FrameBufferStatus=S[G].name,G===u.FRAMEBUFFER_COMPLETE.value)if(this.extensions[u.MAX_DRAW_BUFFERS_WEBGL.extensionName]){const Y=this.context.getParameter(u.MAX_DRAW_BUFFERS_WEBGL.value);for(let se=0;se<Y;se++)this.readFrameBufferAttachmentFromContext(this.context,z,b["COLOR_ATTACHMENT"+se+"_WEBGL"],te,Ae,ke,P)}else if(this.contextVersion>1){const Y=this.context.getParameter(u.MAX_DRAW_BUFFERS.value);for(let se=0;se<Y;se++)this.readFrameBufferAttachmentFromContext(this.context,z,b["COLOR_ATTACHMENT"+se],te,Ae,ke,P)}else this.readFrameBufferAttachmentFromContext(this.context,z,b.COLOR_ATTACHMENT0,te,Ae,ke,P)}readFrameBufferAttachmentFromContext(A,z,re,te,Ae,ke,P){const G=u.FRAMEBUFFER.value,Y=this.context.getFramebufferAttachmentParameter(G,re.value,u.FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE.value);if(Y===u.NONE.value)return;const se=this.context.getFramebufferAttachmentParameter(G,re.value,u.FRAMEBUFFER_ATTACHMENT_OBJECT_NAME.value);if(!se)return;const de=this.contextVersion>1?this.context.getFramebufferAttachmentParameter(G,re.value,u.FRAMEBUFFER_ATTACHMENT_COMPONENT_TYPE.value):u.UNSIGNED_BYTE.value;Y===u.RENDERBUFFER.value?this.readFrameBufferAttachmentFromRenderBuffer(A,z,re,te,Ae,ke,P,G,de,se):Y===u.TEXTURE.value&&this.readFrameBufferAttachmentFromTexture(A,z,re,te,Ae,ke,P,G,de,se)}readFrameBufferAttachmentFromRenderBuffer(A,z,re,te,Ae,ke,P,G,Y,se){let de=0,le=0;if(se.__SPECTOR_Object_CustomData){const Se=se.__SPECTOR_Object_CustomData;if(ke=Se.width,P=Se.height,de=Se.samples,le=Se.internalFormat,!de&&!qt.isSupportedCombination(Y,u.RGBA.value,le))return}else ke+=te,P+=Ae;if(te=Ae=0,de){const Se=A,je=A.createRenderbuffer(),ze=A.getParameter(A.RENDERBUFFER_BINDING);A.bindRenderbuffer(A.RENDERBUFFER,je),A.renderbufferStorage(A.RENDERBUFFER,le,ke,P),A.bindRenderbuffer(A.RENDERBUFFER,ze),A.bindFramebuffer(u.FRAMEBUFFER.value,this.captureFrameBuffer),A.framebufferRenderbuffer(u.FRAMEBUFFER.value,u.COLOR_ATTACHMENT0.value,u.RENDERBUFFER.value,je);const dt=Se.getParameter(Se.READ_FRAMEBUFFER_BINDING),$t=Se.getParameter(Se.DRAW_FRAMEBUFFER_BINDING);Se.bindFramebuffer(Se.READ_FRAMEBUFFER,z),Se.bindFramebuffer(Se.DRAW_FRAMEBUFFER,this.captureFrameBuffer),Se.blitFramebuffer(0,0,ke,P,0,0,ke,P,A.COLOR_BUFFER_BIT,A.NEAREST),Se.bindFramebuffer(u.FRAMEBUFFER.value,this.captureFrameBuffer),Se.bindFramebuffer(Se.READ_FRAMEBUFFER,dt),Se.bindFramebuffer(Se.DRAW_FRAMEBUFFER,$t),this.context.checkFramebufferStatus(u.FRAMEBUFFER.value)===u.FRAMEBUFFER_COMPLETE.value&&this.getCapture(A,re.name,te,Ae,ke,P,0,0,Y),A.bindFramebuffer(u.FRAMEBUFFER.value,z),A.deleteRenderbuffer(je)}else A.bindFramebuffer(u.FRAMEBUFFER.value,this.captureFrameBuffer),A.framebufferRenderbuffer(u.FRAMEBUFFER.value,u.COLOR_ATTACHMENT0.value,u.RENDERBUFFER.value,se),this.context.checkFramebufferStatus(u.FRAMEBUFFER.value)===u.FRAMEBUFFER_COMPLETE.value&&this.getCapture(A,re.name,te,Ae,ke,P,0,0,Y),A.bindFramebuffer(u.FRAMEBUFFER.value,z)}readFrameBufferAttachmentFromTexture(A,z,re,te,Ae,ke,P,G,Y,se){let de=0;this.contextVersion>1&&(de=this.context.getFramebufferAttachmentParameter(G,re.value,u.FRAMEBUFFER_ATTACHMENT_TEXTURE_LAYER.value));const le=this.context.getFramebufferAttachmentParameter(G,re.value,u.FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL.value),Se=this.context.getFramebufferAttachmentParameter(G,re.value,u.FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE.value);Se>0?S[Se].name:u.TEXTURE_2D.name;let je=!1,ze=Y;if(se.__SPECTOR_Object_CustomData){const dt=se.__SPECTOR_Object_CustomData;if(ke=dt.width,P=dt.height,dt.type!==void 0&&(ze=dt.type),je=dt.target===u.TEXTURE_2D_ARRAY.name,!qt.isSupportedCombination(dt.type,dt.format,dt.internalFormat))return}else ke+=te,P+=Ae;te=Ae=0,A.bindFramebuffer(u.FRAMEBUFFER.value,this.captureFrameBuffer),de>0||je?A.framebufferTextureLayer(u.FRAMEBUFFER.value,u.COLOR_ATTACHMENT0.value,se,le,de):A.framebufferTexture2D(u.FRAMEBUFFER.value,u.COLOR_ATTACHMENT0.value,Se||u.TEXTURE_2D.value,se,le),this.context.checkFramebufferStatus(u.FRAMEBUFFER.value)===u.FRAMEBUFFER_COMPLETE.value&&this.getCapture(A,re.name,te,Ae,ke,P,Se,de,ze),A.bindFramebuffer(u.FRAMEBUFFER.value,z)}getCapture(A,z,re,te,Ae,ke,P,G,Y){const se={attachmentName:z,src:null,textureCubeMapFace:P?S[P].name:null,textureLayer:G};if(!this.quickCapture)try{const de=qt.readPixels(A,re,te,Ae,ke,Y);if(de){this.workingCanvas.width=Ae,this.workingCanvas.height=ke;const le=this.workingContext2D.createImageData(Math.ceil(Ae),Math.ceil(ke));if(le.data.set(de),this.workingContext2D.putImageData(le,0,0),this.fullCapture)this.captureCanvas.width=this.workingCanvas.width,this.captureCanvas.height=this.workingCanvas.height;else{const Se=Ae/ke;Se<1?(this.captureCanvas.width=wt.captureBaseSize*Se,this.captureCanvas.height=wt.captureBaseSize):Se>1?(this.captureCanvas.width=wt.captureBaseSize,this.captureCanvas.height=wt.captureBaseSize/Se):(this.captureCanvas.width=wt.captureBaseSize,this.captureCanvas.height=wt.captureBaseSize)}this.captureCanvas.width=Math.max(this.captureCanvas.width,1),this.captureCanvas.height=Math.max(this.captureCanvas.height,1),this.captureContext2D.globalCompositeOperation="copy",this.captureContext2D.scale(1,-1),this.captureContext2D.translate(0,-this.captureCanvas.height),this.captureContext2D.drawImage(this.workingCanvas,0,0,Ae,ke,0,0,this.captureCanvas.width,this.captureCanvas.height),this.captureContext2D.setTransform(1,0,0,1,0,0),this.captureContext2D.globalCompositeOperation="source-over",se.src=this.captureCanvas.toDataURL()}}catch(de){f.warn("Spector can not capture the visual state: "+de)}this.currentState.Attachments.push(se)}analyse(A){}}wt.stateName="VisualState",wt.captureBaseSize=256;class dn{constructor(A){this.context=A.context,this.captureFrameBuffer=A.context.createFramebuffer(),this.workingCanvas=document.createElement("canvas"),this.workingContext2D=this.workingCanvas.getContext("2d"),this.captureCanvas=document.createElement("canvas"),this.captureContext2D=this.captureCanvas.getContext("2d"),this._setSmoothing(!0)}appendTextureState(A,z,re=null,te){if(!z)return;const Ae=z.__SPECTOR_Object_CustomData;if(Ae&&(this.fullCapture=te,Ae.type&&(A.textureType=this.getWebGlConstant(Ae.type)),Ae.format&&(A.format=this.getWebGlConstant(Ae.format)),Ae.internalFormat&&(A.internalFormat=this.getWebGlConstant(Ae.internalFormat)),A.width=Ae.width,A.height=Ae.height,Ae.depth&&(A.depth=Ae.depth),re)){const ke=A.samplerMagFilter==="NEAREST"||A.magFilter==="NEAREST";A.visual=this.getTextureVisualState(re,z,Ae,ke)}}getTextureVisualState(A,z,re,te){try{const Ae=this.context,ke={};if(!qt.isSupportedCombination(re.type,re.format,re.internalFormat))return ke;const P=this.context.getParameter(u.FRAMEBUFFER_BINDING.value);Ae.bindFramebuffer(u.FRAMEBUFFER.value,this.captureFrameBuffer);try{const Y=re.width,se=re.height;if(A===u.TEXTURE_3D&&re.depth){const de=Ae;for(let le=0;le<re.depth;le++)le>2&&le<re.depth-3||(de.framebufferTextureLayer(u.FRAMEBUFFER.value,u.COLOR_ATTACHMENT0.value,z,0,le),ke["3D Layer "+le]=this.getCapture(Ae,0,0,Y,se,re.type,te))}else if(A===u.TEXTURE_2D_ARRAY&&re.depth){const de=Ae;for(let le=0;le<re.depth;le++)le>2&&le<re.depth-3||(de.framebufferTextureLayer(u.FRAMEBUFFER.value,u.COLOR_ATTACHMENT0.value,z,0,le),ke["Layer "+le]=this.getCapture(Ae,0,0,Y,se,re.type,te))}else if(A===u.TEXTURE_CUBE_MAP)for(const de of dn.cubeMapFaces)Ae.framebufferTexture2D(u.FRAMEBUFFER.value,u.COLOR_ATTACHMENT0.value,de.value,z,0),ke[de.name]=this.getCapture(Ae,0,0,Y,se,re.type,te);else Ae.framebufferTexture2D(u.FRAMEBUFFER.value,u.COLOR_ATTACHMENT0.value,u.TEXTURE_2D.value,z,0),ke[u.TEXTURE_2D.name]=this.getCapture(Ae,0,0,Y,se,re.type,te)}catch{}return Ae.bindFramebuffer(u.FRAMEBUFFER.value,P),ke}catch{}}getCapture(A,z,re,te,Ae,ke,P){try{if(this.context.checkFramebufferStatus(u.FRAMEBUFFER.value)!==u.FRAMEBUFFER_COMPLETE.value)return;ke=ke||u.UNSIGNED_BYTE.value;const G=qt.readPixels(A,z,re,te,Ae,ke);if(!G)return;this.workingCanvas.width=te,this.workingCanvas.height=Ae;const Y=this.workingContext2D.createImageData(te,Ae);if(Y.data.set(G),this.workingContext2D.putImageData(Y,0,0),this.fullCapture)this.captureCanvas.width=this.workingCanvas.width,this.captureCanvas.height=this.workingCanvas.height;else{const se=te/Ae;se<1?(this.captureCanvas.width=wt.captureBaseSize*se,this.captureCanvas.height=wt.captureBaseSize):se>1?(this.captureCanvas.width=wt.captureBaseSize,this.captureCanvas.height=wt.captureBaseSize/se):(this.captureCanvas.width=wt.captureBaseSize,this.captureCanvas.height=wt.captureBaseSize)}return this.captureCanvas.width=Math.max(this.captureCanvas.width,1),this.captureCanvas.height=Math.max(this.captureCanvas.height,1),this.captureContext2D.globalCompositeOperation="copy",this.captureContext2D.scale(1,-1),this.captureContext2D.translate(0,-this.captureCanvas.height),this._setSmoothing(!P),this.captureContext2D.drawImage(this.workingCanvas,0,0,te,Ae,0,0,this.captureCanvas.width,this.captureCanvas.height),this.captureContext2D.setTransform(1,0,0,1,0,0),this.captureContext2D.globalCompositeOperation="source-over",this.captureCanvas.toDataURL()}catch{}}getWebGlConstant(A){const z=S[A];return z?z.name:A+""}_setSmoothing(A){this.captureContext2D.imageSmoothingEnabled=A,this.captureContext2D.mozImageSmoothingEnabled=A,this.captureContext2D.oImageSmoothingEnabled=A,this.captureContext2D.webkitImageSmoothingEnabled=A,this.captureContext2D.msImageSmoothingEnabled=A}}dn.captureBaseSize=64,dn.cubeMapFaces=[u.TEXTURE_CUBE_MAP_POSITIVE_X,u.TEXTURE_CUBE_MAP_POSITIVE_Y,u.TEXTURE_CUBE_MAP_POSITIVE_Z,u.TEXTURE_CUBE_MAP_NEGATIVE_X,u.TEXTURE_CUBE_MAP_NEGATIVE_Y,u.TEXTURE_CUBE_MAP_NEGATIVE_Z];class wn{constructor(A){this.context=A.context}getUboValue(A,z,re,te){const Ae=wn.uboTypes[te];if(!Ae)return;const ke=new Ae.arrayBufferView(re*Ae.lengthMultiplier),P=this.context,G=P.getIndexedParameter(u.UNIFORM_BUFFER_BINDING.value,A);if(G){const Y=P.getIndexedParameter(u.UNIFORM_BUFFER_START.value,A),se=P.getParameter(u.UNIFORM_BUFFER_BINDING.value);try{P.bindBuffer(u.UNIFORM_BUFFER.value,G),P.getBufferSubData(u.UNIFORM_BUFFER.value,Y+z,ke)}catch{return}se&&P.bindBuffer(u.UNIFORM_BUFFER.value,se)}return Array.prototype.slice.call(ke)}}wn.uboTypes={[u.BOOL.value]:{arrayBufferView:Uint8Array,lengthMultiplier:1},[u.BOOL_VEC2.value]:{arrayBufferView:Uint8Array,lengthMultiplier:2},[u.BOOL_VEC3.value]:{arrayBufferView:Uint8Array,lengthMultiplier:3},[u.BOOL_VEC4.value]:{arrayBufferView:Uint8Array,lengthMultiplier:4},[u.INT.value]:{arrayBufferView:Int32Array,lengthMultiplier:1},[u.INT_VEC2.value]:{arrayBufferView:Int32Array,lengthMultiplier:2},[u.INT_VEC3.value]:{arrayBufferView:Int32Array,lengthMultiplier:3},[u.INT_VEC4.value]:{arrayBufferView:Int32Array,lengthMultiplier:4},[u.UNSIGNED_INT.value]:{arrayBufferView:Uint32Array,lengthMultiplier:1},[u.UNSIGNED_INT_VEC2.value]:{arrayBufferView:Uint32Array,lengthMultiplier:2},[u.UNSIGNED_INT_VEC3.value]:{arrayBufferView:Uint32Array,lengthMultiplier:3},[u.UNSIGNED_INT_VEC4.value]:{arrayBufferView:Uint32Array,lengthMultiplier:4},[u.FLOAT.value]:{arrayBufferView:Float32Array,lengthMultiplier:1},[u.FLOAT_VEC2.value]:{arrayBufferView:Float32Array,lengthMultiplier:2},[u.FLOAT_VEC3.value]:{arrayBufferView:Float32Array,lengthMultiplier:3},[u.FLOAT_VEC4.value]:{arrayBufferView:Float32Array,lengthMultiplier:4},[u.FLOAT_MAT2.value]:{arrayBufferView:Float32Array,lengthMultiplier:4},[u.FLOAT_MAT2x3.value]:{arrayBufferView:Float32Array,lengthMultiplier:6},[u.FLOAT_MAT2x4.value]:{arrayBufferView:Float32Array,lengthMultiplier:8},[u.FLOAT_MAT3.value]:{arrayBufferView:Float32Array,lengthMultiplier:9},[u.FLOAT_MAT3x2.value]:{arrayBufferView:Float32Array,lengthMultiplier:6},[u.FLOAT_MAT3x4.value]:{arrayBufferView:Float32Array,lengthMultiplier:12},[u.FLOAT_MAT4.value]:{arrayBufferView:Float32Array,lengthMultiplier:16},[u.FLOAT_MAT4x2.value]:{arrayBufferView:Float32Array,lengthMultiplier:8},[u.FLOAT_MAT4x3.value]:{arrayBufferView:Float32Array,lengthMultiplier:12},[u.SAMPLER_2D.value]:{arrayBufferView:Uint8Array,lengthMultiplier:1},[u.SAMPLER_CUBE.value]:{arrayBufferView:Uint8Array,lengthMultiplier:1}};class Pn extends C{get typeName(){return"WebGLBuffer"}}class Wn extends C{get typeName(){return"WebGLFramebuffer"}}class Ii extends C{get typeName(){return"WebGLProgram"}static saveInGlobalStore(A){const z=O.getWebGlObjectTag(A);z&&(this.store[z.id]=A)}static getFromGlobalStore(A){return this.store[A]}static updateInGlobalStore(A,z){if(!z)return;const re=this.getFromGlobalStore(A);if(!re)return;const te=O.getWebGlObjectTag(re);te&&(O.attachWebGlObjectTag(z,te),this.store[te.id]=z)}}Ii.store={};class Ei extends C{get typeName(){return"WebGLQuery"}}class Si extends C{get typeName(){return"WebGLRenderbuffer"}}class er extends C{get typeName(){return"WebGLSampler"}}class Zi extends C{get typeName(){return"WebGLShader"}}class Or extends C{get typeName(){return"WebGLSync"}}class Wr extends C{get typeName(){return"WebGLTexture"}}class jr extends C{get typeName(){return"WebGLTransformFeedback"}}class ti extends C{get typeName(){return"WebGLUniformLocation"}}class rr extends C{get typeName(){return"WebGLVertexArrayObject"}}class zi{static getProgramData(A,z){const re={LINK_STATUS:A.getProgramParameter(z,u.LINK_STATUS.value),VALIDATE_STATUS:A.getProgramParameter(z,u.VALIDATE_STATUS.value)},te=A.getAttachedShaders(z),Ae=new Array(2);let ke=0;for(const P of te){const G=this.readShaderFromContext(A,P);ke+=G.source.length,G.shaderType===u.FRAGMENT_SHADER.name?Ae[1]=G:Ae[0]=G}return{programStatus:re,shaders:Ae,length:ke}}static readShaderFromContext(A,z){const re=A.getShaderSource(z),te=A.getExtension("WEBGL_debug_shaders"),Ae=te?te.getTranslatedShaderSource(z):null,ke=A.getShaderParameter(z,u.SHADER_TYPE.value)===u.FRAGMENT_SHADER.value;let P=z&&z.__SPECTOR_Metadata&&z.__SPECTOR_Metadata.name?z.__SPECTOR_Metadata.name:this.readNameFromShaderSource(re);return P||(P=ke?"Fragment":"Vertex"),{COMPILE_STATUS:A.getShaderParameter(z,u.COMPILE_STATUS.value),shaderType:ke?u.FRAGMENT_SHADER.name:u.VERTEX_SHADER.name,name:P,source:re,translatedSource:Ae}}static readNameFromShaderSource(A){try{let z,re="";const te=/#define[\s]+SHADER_NAME[\s]+([\S]+)(\n|$)/gi;if(z=te.exec(A),z!==null&&(z.index===te.lastIndex&&te.lastIndex++,re=z[1]),re===""){const Ae=/#define[\s]+SHADER_NAME_B64[\s]+([\S]+)(\n|$)/gi;z=Ae.exec(A),z!==null&&(z.index===Ae.lastIndex&&Ae.lastIndex++,re=z[1]),re&&(re=decodeURIComponent(atob(re)))}return re}catch{return null}}}class we extends At{constructor(A){super(A),this.drawCallTextureInputState=new dn(A),this.drawCallUboInputState=new wn(A)}get stateName(){return we.stateName}get requireStartAndStopStates(){return!1}getConsumeCommands(){return g}getChangeCommandsByState(){return{}}readFromContext(){var A,z;const re=this.context.getParameter(u.CURRENT_PROGRAM.value);if(!re)return;this.currentState.frameBuffer=this.readFrameBufferFromContext();const te=re.__SPECTOR_Object_CustomData?re.__SPECTOR_Object_CustomData:zi.getProgramData(this.context,re);if(this.currentState.programStatus=Object.assign({},te.programStatus),this.currentState.programStatus.program=this.getSpectorData(re),this.currentState.programStatus.RECOMPILABLE=l.isBuildableProgram(re),this.currentState.programStatus.RECOMPILABLE&&Ii.saveInGlobalStore(re),this.currentState.shaders=te.shaders,((A=this.lastCommandName)===null||A===void 0?void 0:A.indexOf("Elements"))>=0){const G=this.context.getParameter(this.context.ELEMENT_ARRAY_BUFFER_BINDING);G&&(this.currentState.elementArray={},this.currentState.elementArray.arrayBuffer=this.getSpectorData(G))}const Ae=this.context.getProgramParameter(re,u.ACTIVE_ATTRIBUTES.value);this.currentState.attributes=[];for(let G=0;G<Ae;G++){const Y=this.readAttributeFromContext(re,G);this.currentState.attributes.push(Y)}const ke=this.context.getProgramParameter(re,u.ACTIVE_UNIFORMS.value);this.currentState.uniforms=[];const P=[];for(let G=0;G<ke;G++){P.push(G);const Y=this.readUniformFromContext(re,G);this.currentState.uniforms.push(Y)}if(this.contextVersion>1){const G=this.context.getProgramParameter(re,u.ACTIVE_UNIFORM_BLOCKS.value);this.currentState.uniformBlocks=[];for(let Y=0;Y<G;Y++){const se=this.readUniformBlockFromContext(re,Y);this.currentState.uniformBlocks.push(se)}if(this.readUniformsFromContextIntoState(re,P,this.currentState.uniforms,this.currentState.uniformBlocks),this.context.getParameter(u.TRANSFORM_FEEDBACK_ACTIVE.value)){const Y=this.context.getProgramParameter(re,u.TRANSFORM_FEEDBACK_BUFFER_MODE.value);this.currentState.transformFeedbackMode=this.getWebGlConstant(Y),this.currentState.transformFeedbacks=[];const se=this.context.getProgramParameter(re,u.TRANSFORM_FEEDBACK_VARYINGS.value);for(let de=0;de<se;de++){const le=this.readTransformFeedbackFromContext(re,de);this.currentState.transformFeedbacks.push(le)}}}for(let G=0;G<P.length;G++){const Y=this.currentState.uniforms[G],se=(z=Y.value)!==null&&z!==void 0?z:Y.values;if(se!=null){const de=we.samplerTypes[Y.typeValue];if(de)if(se.length){Y.textures=[];for(let le=0;le<se.length;le++)Y.textures.push(this.readTextureFromContext(se[le].value,de))}else Y.texture=this.readTextureFromContext(se,de)}delete Y.typeValue}}readFrameBufferFromContext(){const A=this.context.getParameter(u.FRAMEBUFFER_BINDING.value);if(!A)return null;const z={};if(z.frameBuffer=this.getSpectorData(A),this.readFrameBufferAttachmentFromContext(u.DEPTH_ATTACHMENT.value)&&(z.depthAttachment=this.readFrameBufferAttachmentFromContext(u.DEPTH_ATTACHMENT.value)),this.readFrameBufferAttachmentFromContext(u.STENCIL_ATTACHMENT.value)&&(z.stencilAttachment=this.readFrameBufferAttachmentFromContext(u.STENCIL_ATTACHMENT.value)),this.extensions[u.MAX_DRAW_BUFFERS_WEBGL.extensionName]){z.colorAttachments=[];const re=this.context.getParameter(u.MAX_DRAW_BUFFERS_WEBGL.value);for(let te=0;te<re;te++){const Ae=this.readFrameBufferAttachmentFromContext(b["COLOR_ATTACHMENT"+te+"_WEBGL"].value);Ae&&z.colorAttachments.push(Ae)}}else if(this.contextVersion>1){const re=this.context;z.colorAttachments=[];const te=re.getParameter(u.MAX_DRAW_BUFFERS.value);for(let Ae=0;Ae<te;Ae++){const ke=this.readFrameBufferAttachmentFromContext(b["COLOR_ATTACHMENT"+Ae].value);ke&&z.colorAttachments.push(ke)}}else{const re=this.readFrameBufferAttachmentFromContext(b.COLOR_ATTACHMENT0.value);re&&(z.colorAttachments=[re])}return z}readFrameBufferAttachmentFromContext(A){const z=u.FRAMEBUFFER.value,re=this.context.getFramebufferAttachmentParameter(z,A,u.FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE.value);if(re===u.NONE.value)return;const te={},Ae=this.context.getFramebufferAttachmentParameter(z,A,u.FRAMEBUFFER_ATTACHMENT_OBJECT_NAME.value);if(re===u.RENDERBUFFER.value){if(te.type="RENDERBUFFER",te.buffer=this.getSpectorData(Ae),Ae){const ke=Ae.__SPECTOR_Object_CustomData;ke&&(ke.internalFormat&&(te.internalFormat=this.getWebGlConstant(ke.internalFormat)),te.width=ke.width,te.height=ke.height,te.msaaSamples=ke.samples)}}else if(re===u.TEXTURE.value){te.type="TEXTURE",te.texture=this.getSpectorData(Ae),te.textureLevel=this.context.getFramebufferAttachmentParameter(z,A,u.FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL.value);const ke=this.context.getFramebufferAttachmentParameter(z,A,u.FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE.value);te.textureCubeMapFace=this.getWebGlConstant(ke),this.drawCallTextureInputState.appendTextureState(te,Ae,null,this.fullCapture)}return this.extensions.EXT_sRGB&&(te.encoding=this.getWebGlConstant(this.context.getFramebufferAttachmentParameter(z,A,u.FRAMEBUFFER_ATTACHMENT_COLOR_ENCODING_EXT.value))),this.contextVersion>1&&(te.alphaSize=this.context.getFramebufferAttachmentParameter(z,A,u.FRAMEBUFFER_ATTACHMENT_ALPHA_SIZE.value),te.blueSize=this.context.getFramebufferAttachmentParameter(z,A,u.FRAMEBUFFER_ATTACHMENT_BLUE_SIZE.value),te.encoding=this.getWebGlConstant(this.context.getFramebufferAttachmentParameter(z,A,u.FRAMEBUFFER_ATTACHMENT_COLOR_ENCODING.value)),te.componentType=this.getWebGlConstant(this.context.getFramebufferAttachmentParameter(z,A,u.FRAMEBUFFER_ATTACHMENT_COMPONENT_TYPE.value)),te.depthSize=this.context.getFramebufferAttachmentParameter(z,A,u.FRAMEBUFFER_ATTACHMENT_DEPTH_SIZE.value),te.greenSize=this.context.getFramebufferAttachmentParameter(z,A,u.FRAMEBUFFER_ATTACHMENT_GREEN_SIZE.value),te.redSize=this.context.getFramebufferAttachmentParameter(z,A,u.FRAMEBUFFER_ATTACHMENT_RED_SIZE.value),te.stencilSize=this.context.getFramebufferAttachmentParameter(z,A,u.FRAMEBUFFER_ATTACHMENT_STENCIL_SIZE.value),re===u.TEXTURE.value&&(te.textureLayer=this.context.getFramebufferAttachmentParameter(z,A,u.FRAMEBUFFER_ATTACHMENT_TEXTURE_LAYER.value))),te}readAttributeFromContext(A,z){const re=this.context.getActiveAttrib(A,z),te=this.context.getAttribLocation(A,re.name);if(te===-1)return{name:re.name,size:re.size,type:this.getWebGlConstant(re.type),location:-1};const Ae=this.context.getVertexAttrib(te,u.CURRENT_VERTEX_ATTRIB.value),ke=this.context.getVertexAttrib(te,u.VERTEX_ATTRIB_ARRAY_BUFFER_BINDING.value),P={name:re.name,size:re.size,type:this.getWebGlConstant(re.type),location:te,offsetPointer:this.context.getVertexAttribOffset(te,u.VERTEX_ATTRIB_ARRAY_POINTER.value),bufferBinding:this.getSpectorData(ke),enabled:this.context.getVertexAttrib(te,u.VERTEX_ATTRIB_ARRAY_ENABLED.value),arraySize:this.context.getVertexAttrib(te,u.VERTEX_ATTRIB_ARRAY_SIZE.value),stride:this.context.getVertexAttrib(te,u.VERTEX_ATTRIB_ARRAY_STRIDE.value),arrayType:this.getWebGlConstant(this.context.getVertexAttrib(te,u.VERTEX_ATTRIB_ARRAY_TYPE.value)),normalized:this.context.getVertexAttrib(te,u.VERTEX_ATTRIB_ARRAY_NORMALIZED.value),vertexAttrib:Array.prototype.slice.call(Ae)};return this.extensions[u.VERTEX_ATTRIB_ARRAY_DIVISOR_ANGLE.extensionName]?P.divisor=this.context.getVertexAttrib(te,u.VERTEX_ATTRIB_ARRAY_DIVISOR_ANGLE.value):this.contextVersion>1&&(P.integer=this.context.getVertexAttrib(te,u.VERTEX_ATTRIB_ARRAY_INTEGER.value),P.divisor=this.context.getVertexAttrib(te,u.VERTEX_ATTRIB_ARRAY_DIVISOR.value)),this.appendBufferCustomData(P,ke),P}readUniformFromContext(A,z){const re=this.context.getActiveUniform(A,z),te=this.context.getUniformLocation(A,re.name);if(te){if(re.size>1&&re.name&&re.name.indexOf("[0]")===re.name.length-3){const Ae=[];for(let ke=0;ke<re.size;ke++){const P=this.context.getUniformLocation(A,re.name.replace("[0]","["+ke+"]"));if(P){let G=this.context.getUniform(A,P);G.length&&(G=Array.prototype.slice.call(G)),Ae.push({value:G})}}return{name:re.name.replace("[0]",""),size:re.size,type:this.getWebGlConstant(re.type),typeValue:re.type,location:this.getSpectorData(te),values:Ae}}{let Ae=this.context.getUniform(A,te);return Ae.length&&(Ae=Array.prototype.slice.call(Ae)),{name:re.name,size:re.size,type:this.getWebGlConstant(re.type),typeValue:re.type,location:this.getSpectorData(te),value:Ae}}}return{name:re.name,size:re.size,type:this.getWebGlConstant(re.type),typeValue:re.type}}readTextureFromContext(A,z){const re=this.context.getParameter(u.ACTIVE_TEXTURE.value);this.context.activeTexture(u.TEXTURE0.value+A);const te={magFilter:this.getWebGlConstant(this.context.getTexParameter(z.value,u.TEXTURE_MAG_FILTER.value)),minFilter:this.getWebGlConstant(this.context.getTexParameter(z.value,u.TEXTURE_MIN_FILTER.value)),wrapS:this.getWebGlConstant(this.context.getTexParameter(z.value,u.TEXTURE_WRAP_S.value)),wrapT:this.getWebGlConstant(this.context.getTexParameter(z.value,u.TEXTURE_WRAP_T.value))};if(this.extensions[u.TEXTURE_MAX_ANISOTROPY_EXT.extensionName]&&(te.anisotropy=this.context.getTexParameter(z.value,u.TEXTURE_MAX_ANISOTROPY_EXT.value)),this.contextVersion>1){te.baseLevel=this.context.getTexParameter(z.value,u.TEXTURE_BASE_LEVEL.value),te.immutable=this.context.getTexParameter(z.value,u.TEXTURE_IMMUTABLE_FORMAT.value),te.immutableLevels=this.context.getTexParameter(z.value,u.TEXTURE_IMMUTABLE_LEVELS.value),te.maxLevel=this.context.getTexParameter(z.value,u.TEXTURE_MAX_LEVEL.value);const ke=this.context.getParameter(u.SAMPLER_BINDING.value);if(ke){te.sampler=this.getSpectorData(ke);const P=this.context;te.samplerMaxLod=P.getSamplerParameter(ke,u.TEXTURE_MAX_LOD.value),te.samplerMinLod=P.getSamplerParameter(ke,u.TEXTURE_MIN_LOD.value),te.samplerCompareFunc=this.getWebGlConstant(P.getSamplerParameter(ke,u.TEXTURE_COMPARE_FUNC.value)),te.samplerCompareMode=this.getWebGlConstant(P.getSamplerParameter(ke,u.TEXTURE_COMPARE_MODE.value)),te.samplerWrapS=this.getWebGlConstant(P.getSamplerParameter(ke,u.TEXTURE_WRAP_S.value)),te.samplerWrapT=this.getWebGlConstant(P.getSamplerParameter(ke,u.TEXTURE_WRAP_T.value)),te.samplerWrapR=this.getWebGlConstant(P.getSamplerParameter(ke,u.TEXTURE_WRAP_R.value)),te.samplerMagFilter=this.getWebGlConstant(P.getSamplerParameter(ke,u.TEXTURE_MAG_FILTER.value)),te.samplerMinFilter=this.getWebGlConstant(P.getSamplerParameter(ke,u.TEXTURE_MIN_FILTER.value))}else te.maxLod=this.context.getTexParameter(z.value,u.TEXTURE_MAX_LOD.value),te.minLod=this.context.getTexParameter(z.value,u.TEXTURE_MIN_LOD.value),te.compareFunc=this.getWebGlConstant(this.context.getTexParameter(z.value,u.TEXTURE_COMPARE_FUNC.value)),te.compareMode=this.getWebGlConstant(this.context.getTexParameter(z.value,u.TEXTURE_COMPARE_MODE.value)),te.wrapR=this.getWebGlConstant(this.context.getTexParameter(z.value,u.TEXTURE_WRAP_R.value))}const Ae=this.getTextureStorage(z);if(Ae){const ke=this.quickCapture?null:z;this.drawCallTextureInputState.appendTextureState(te,Ae,ke,this.fullCapture)}return this.context.activeTexture(re),te}getTextureStorage(A){return A===u.TEXTURE_2D?this.context.getParameter(u.TEXTURE_BINDING_2D.value):A===u.TEXTURE_CUBE_MAP?this.context.getParameter(u.TEXTURE_BINDING_CUBE_MAP.value):A===u.TEXTURE_3D?this.context.getParameter(u.TEXTURE_BINDING_3D.value):A===u.TEXTURE_2D_ARRAY?this.context.getParameter(u.TEXTURE_BINDING_2D_ARRAY.value):void 0}readUniformsFromContextIntoState(A,z,re,te){const Ae=this.context,ke=Ae.getActiveUniforms(A,z,u.UNIFORM_TYPE.value),P=Ae.getActiveUniforms(A,z,u.UNIFORM_SIZE.value),G=Ae.getActiveUniforms(A,z,u.UNIFORM_BLOCK_INDEX.value),Y=Ae.getActiveUniforms(A,z,u.UNIFORM_OFFSET.value),se=Ae.getActiveUniforms(A,z,u.UNIFORM_ARRAY_STRIDE.value),de=Ae.getActiveUniforms(A,z,u.UNIFORM_MATRIX_STRIDE.value),le=Ae.getActiveUniforms(A,z,u.UNIFORM_IS_ROW_MAJOR.value);for(let Se=0;Se<z.length;Se++){const je=re[Se];if(je.type=this.getWebGlConstant(ke[Se]),je.size=P[Se],je.blockIndice=G[Se],je.blockIndice>-1&&(je.blockName=Ae.getActiveUniformBlockName(A,je.blockIndice)),je.offset=Y[Se],je.arrayStride=se[Se],je.matrixStride=de[Se],je.rowMajor=le[Se],je.blockIndice>-1){const ze=te[G[Se]].bindingPoint;je.value=this.drawCallUboInputState.getUboValue(ze,je.offset,je.size,ke[Se])}}}readTransformFeedbackFromContext(A,z){const re=this.context,te=re.getTransformFeedbackVarying(A,z),Ae=re.getIndexedParameter(u.TRANSFORM_FEEDBACK_BUFFER_BINDING.value,z),ke={name:te.name,size:te.size,type:this.getWebGlConstant(te.type),buffer:this.getSpectorData(Ae),bufferSize:re.getIndexedParameter(u.TRANSFORM_FEEDBACK_BUFFER_SIZE.value,z),bufferStart:re.getIndexedParameter(u.TRANSFORM_FEEDBACK_BUFFER_START.value,z)};return this.appendBufferCustomData(ke,Ae),ke}readUniformBlockFromContext(A,z){const re=this.context,te=re.getActiveUniformBlockParameter(A,z,u.UNIFORM_BLOCK_BINDING.value),Ae=re.getIndexedParameter(u.UNIFORM_BUFFER_BINDING.value,te),ke={name:re.getActiveUniformBlockName(A,z),bindingPoint:te,size:re.getActiveUniformBlockParameter(A,z,u.UNIFORM_BLOCK_DATA_SIZE.value),activeUniformCount:re.getActiveUniformBlockParameter(A,z,u.UNIFORM_BLOCK_ACTIVE_UNIFORMS.value),vertex:re.getActiveUniformBlockParameter(A,z,u.UNIFORM_BLOCK_REFERENCED_BY_VERTEX_SHADER.value),fragment:re.getActiveUniformBlockParameter(A,z,u.UNIFORM_BLOCK_REFERENCED_BY_FRAGMENT_SHADER.value),buffer:this.getSpectorData(Ae)};return this.appendBufferCustomData(ke,Ae),ke}appendBufferCustomData(A,z){if(z){const re=z.__SPECTOR_Object_CustomData;re&&(re.usage&&(A.bufferUsage=this.getWebGlConstant(re.usage)),A.bufferLength=re.length,re.offset&&(A.bufferOffset=re.offset),re.sourceLength&&(A.bufferSourceLength=re.sourceLength))}}getWebGlConstant(A){const z=S[A];return z?z.name:A}}we.stateName="DrawCall",we.samplerTypes={[u.SAMPLER_2D.value]:u.TEXTURE_2D,[u.SAMPLER_CUBE.value]:u.TEXTURE_CUBE_MAP,[u.SAMPLER_3D.value]:u.TEXTURE_3D,[u.SAMPLER_2D_SHADOW.value]:u.TEXTURE_2D,[u.SAMPLER_2D_ARRAY.value]:u.TEXTURE_2D_ARRAY,[u.SAMPLER_2D_ARRAY_SHADOW.value]:u.TEXTURE_2D_ARRAY,[u.SAMPLER_CUBE_SHADOW.value]:u.TEXTURE_CUBE_MAP,[u.INT_SAMPLER_2D.value]:u.TEXTURE_2D,[u.INT_SAMPLER_3D.value]:u.TEXTURE_3D,[u.INT_SAMPLER_CUBE.value]:u.TEXTURE_CUBE_MAP,[u.INT_SAMPLER_2D_ARRAY.value]:u.TEXTURE_2D_ARRAY,[u.UNSIGNED_INT_SAMPLER_2D.value]:u.TEXTURE_2D,[u.UNSIGNED_INT_SAMPLER_3D.value]:u.TEXTURE_3D,[u.UNSIGNED_INT_SAMPLER_CUBE.value]:u.TEXTURE_CUBE_MAP,[u.UNSIGNED_INT_SAMPLER_2D_ARRAY.value]:u.TEXTURE_2D_ARRAY};class Ie{constructor(A){this.contextInformation=A,this.stateTrackers=[],this.onCommandCapturedCallbacks={},this.initStateTrackers()}startCapture(A,z,re){for(const te of this.stateTrackers){const Ae=te.startCapture(!0,z,re);te.requireStartAndStopStates&&(A.initState[te.stateName]=Ae)}}stopCapture(A){for(const z of this.stateTrackers){const re=z.stopCapture();z.requireStartAndStopStates&&(A.endState[z.stateName]=re)}}captureState(A){const z=this.onCommandCapturedCallbacks[A.name];if(z)for(const re of z)re(A)}initStateTrackers(){this.stateTrackers.push(new on(this.contextInformation),new fn(this.contextInformation),new xt(this.contextInformation),new kt(this.contextInformation),new Xt(this.contextInformation),new Ve(this.contextInformation),new lt(this.contextInformation),new Qt(this.contextInformation),new Ye(this.contextInformation),new ct(this.contextInformation),new Dt(this.contextInformation),new Sn(this.contextInformation),new wt(this.contextInformation),new we(this.contextInformation));for(const A of this.stateTrackers)A.registerCallbacks(this.onCommandCapturedCallbacks)}}class tt{constructor(A){this.options=A,this.createCommandNames=this.getCreateCommandNames(),this.updateCommandNames=this.getUpdateCommandNames(),this.deleteCommandNames=this.getDeleteCommandNames(),this.startTime=v.now,this.memoryPerSecond={},this.totalMemory=0,this.frameMemory=0,this.capturing=!1,tt.initializeByteSizeFormat()}static initializeByteSizeFormat(){this.byteSizePerInternalFormat||(this.byteSizePerInternalFormat={[u.R8.value]:1,[u.R16F.value]:2,[u.R32F.value]:4,[u.R8UI.value]:1,[u.RG8.value]:2,[u.RG16F.value]:4,[u.RG32F.value]:8,[u.ALPHA.value]:1,[u.RGB.value]:3,[u.RGBA.value]:4,[u.LUMINANCE.value]:1,[u.LUMINANCE_ALPHA.value]:2,[u.DEPTH_COMPONENT.value]:1,[u.DEPTH_STENCIL.value]:2,[u.SRGB_EXT.value]:3,[u.SRGB_ALPHA_EXT.value]:4,[u.RGB8.value]:3,[u.SRGB8.value]:3,[u.RGB565.value]:2,[u.R11F_G11F_B10F.value]:4,[u.RGB9_E5.value]:2,[u.RGB16F.value]:6,[u.RGB32F.value]:12,[u.RGB8UI.value]:3,[u.RGBA8.value]:4,[u.RGB5_A1.value]:2,[u.RGBA16F.value]:8,[u.RGBA32F.value]:16,[u.RGBA8UI.value]:4,[u.COMPRESSED_R11_EAC.value]:4,[u.COMPRESSED_SIGNED_R11_EAC.value]:4,[u.COMPRESSED_RG11_EAC.value]:4,[u.COMPRESSED_SIGNED_RG11_EAC.value]:4,[u.COMPRESSED_RGB8_ETC2.value]:4,[u.COMPRESSED_RGBA8_ETC2_EAC.value]:4,[u.COMPRESSED_SRGB8_ETC2.value]:4,[u.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC.value]:4,[u.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2.value]:4,[u.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2.value]:4,[u.COMPRESSED_RGB_S3TC_DXT1_EXT.value]:.5,[u.COMPRESSED_RGBA_S3TC_DXT3_EXT.value]:1,[u.COMPRESSED_RGBA_S3TC_DXT5_EXT.value]:1,[u.COMPRESSED_RGB_PVRTC_4BPPV1_IMG.value]:.5,[u.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG.value]:.5,[u.COMPRESSED_RGB_PVRTC_2BPPV1_IMG.value]:.25,[u.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG.value]:.25,[u.COMPRESSED_RGB_ETC1_WEBGL.value]:.5,[u.COMPRESSED_RGB_ATC_WEBGL.value]:.5,[u.COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL.value]:1,[u.COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL.value]:1})}registerCallbacks(A){for(const z of this.createCommandNames)A[z]=A[z]||[],A[z].push(this.createWithoutSideEffects.bind(this));for(const z of this.updateCommandNames)A[z]=A[z]||[],A[z].push(this.updateWithoutSideEffects.bind(this));for(const z of this.deleteCommandNames)A[z]=A[z]||[],A[z].push(this.deleteWithoutSideEffects.bind(this))}startCapture(){this.frameMemory=0,this.capturing=!0}stopCapture(){this.frameMemory=0,this.capturing=!1}appendRecordedInformation(A){A.frameMemory[this.objectName]=this.frameMemory,A.memory[this.objectName]=this.memoryPerSecond}create(A){}createWithoutSideEffects(A){this.options.toggleCapture(!1),this.create(A),this.options.toggleCapture(!0)}updateWithoutSideEffects(A){if(!A||A.arguments.length===0)return;this.options.toggleCapture(!1);const z=A.arguments[0],re=this.getBoundInstance(z);if(!re)return void this.options.toggleCapture(!0);if(!O.getWebGlObjectTag(re))return void this.options.toggleCapture(!0);const te=this.getWebGlConstant(z),Ae=this.update(A,te,re);this.changeMemorySize(Ae),this.options.toggleCapture(!0)}deleteWithoutSideEffects(A){if(!A||!A.arguments||A.arguments.length<1)return;const z=A.arguments[0];if(!z)return;this.options.toggleCapture(!1);const re=this.delete(z);this.changeMemorySize(-re),this.options.toggleCapture(!0)}changeMemorySize(A){this.totalMemory+=A,this.capturing&&(this.frameMemory+=A);const z=v.now-this.startTime,re=Math.round(z/1e3);this.memoryPerSecond[re]=this.totalMemory}getWebGlConstant(A){const z=S[A];return z?z.name:A+""}getByteSizeForInternalFormat(A){return tt.byteSizePerInternalFormat[A]||4}}class Rt extends tt{get objectName(){return"Buffer"}getCreateCommandNames(){return["createBuffer"]}getUpdateCommandNames(){return["bufferData"]}getDeleteCommandNames(){return["deleteBuffer"]}getBoundInstance(A){const z=this.options.context;return A===u.ARRAY_BUFFER.value?z.getParameter(u.ARRAY_BUFFER_BINDING.value):A===u.ELEMENT_ARRAY_BUFFER.value?z.getParameter(u.ELEMENT_ARRAY_BUFFER_BINDING.value):A===u.COPY_READ_BUFFER.value?z.getParameter(u.COPY_READ_BUFFER_BINDING.value):A===u.COPY_WRITE_BUFFER.value?z.getParameter(u.COPY_WRITE_BUFFER_BINDING.value):A===u.TRANSFORM_FEEDBACK_BUFFER.value?z.getParameter(u.TRANSFORM_FEEDBACK_BUFFER_BINDING.value):A===u.UNIFORM_BUFFER.value?z.getParameter(u.UNIFORM_BUFFER_BINDING.value):A===u.PIXEL_PACK_BUFFER.value?z.getParameter(u.PIXEL_PACK_BUFFER_BINDING.value):A===u.PIXEL_UNPACK_BUFFER.value?z.getParameter(u.PIXEL_UNPACK_BUFFER_BINDING.value):void 0}delete(A){const z=A.__SPECTOR_Object_CustomData;return z?z.length:0}update(A,z,re){const te=this.getCustomData(z,A);if(!te)return 0;const Ae=re.__SPECTOR_Object_CustomData?re.__SPECTOR_Object_CustomData.length:0;return re.__SPECTOR_Object_CustomData=te,te.length-Ae}getCustomData(A,z){const re=this.getLength(z);return z.arguments.length>=4?{target:A,length:re,usage:z.arguments[2],offset:z.arguments[3],sourceLength:z.arguments[1]?z.arguments[1].length:-1}:z.arguments.length===3?{target:A,length:re,usage:z.arguments[2]}:void 0}getLength(A){let z=-1,re=0;return A.arguments.length===5&&(z=A.arguments[4],re=A.arguments[3]),z<=0&&(z=typeof A.arguments[1]=="number"?A.arguments[1]:A.arguments[1]&&(A.arguments[1].byteLength||A.arguments[1].length)||0),z-re}}class Ot extends tt{get objectName(){return"Renderbuffer"}getCreateCommandNames(){return["createRenderbuffer"]}getUpdateCommandNames(){return["renderbufferStorage","renderbufferStorageMultisample"]}getDeleteCommandNames(){return["deleteRenderbuffer"]}getBoundInstance(A){const z=this.options.context;if(A===u.RENDERBUFFER.value)return z.getParameter(u.RENDERBUFFER_BINDING.value)}delete(A){const z=A.__SPECTOR_Object_CustomData;return z?z.length:0}update(A,z,re){const te=this.getCustomData(A,z);if(!te)return 0;const Ae=re.__SPECTOR_Object_CustomData?re.__SPECTOR_Object_CustomData.length:0;return te.length=te.width*te.height*this.getByteSizeForInternalFormat(te.internalFormat),re.__SPECTOR_Object_CustomData=te,te.length-Ae}getCustomData(A,z){return A.arguments.length===4?{target:z,internalFormat:A.arguments[1],width:A.arguments[2],height:A.arguments[3],length:0,samples:0}:{target:z,internalFormat:A.arguments[2],width:A.arguments[3],height:A.arguments[4],length:0,samples:A.arguments[1]}}}class Nt extends tt{get objectName(){return"Texture2d"}getCreateCommandNames(){return["createTexture"]}getUpdateCommandNames(){return["texImage2D","compressedTexImage2D","texStorage2D"]}getDeleteCommandNames(){return["deleteTexture"]}getBoundInstance(A){const z=this.options.context;return A===u.TEXTURE_2D.value?z.getParameter(u.TEXTURE_BINDING_2D.value):A===u.TEXTURE_CUBE_MAP_POSITIVE_X.value||A===u.TEXTURE_CUBE_MAP_POSITIVE_Y.value||A===u.TEXTURE_CUBE_MAP_POSITIVE_Z.value||A===u.TEXTURE_CUBE_MAP_NEGATIVE_X.value||A===u.TEXTURE_CUBE_MAP_NEGATIVE_Y.value||A===u.TEXTURE_CUBE_MAP_NEGATIVE_Z.value?z.getParameter(u.TEXTURE_BINDING_CUBE_MAP.value):void 0}delete(A){const z=A.__SPECTOR_Object_CustomData;return z?z.target===u.TEXTURE_2D_ARRAY.name||z.target===u.TEXTURE_3D.name?0:z.length:0}update(A,z,re){const te=this.getCustomData(A,z,re);if(!te)return 0;const Ae=re.__SPECTOR_Object_CustomData?re.__SPECTOR_Object_CustomData.length:0;if(te.isCompressed){if(A.arguments.length>=7){const ke=A.arguments[6];te.length=typeof ke=="number"?ke:ke?.byteLength}}else{const ke=z==="TEXTURE_2D"?1:6;let P=te.internalFormat;P===u.RGBA.value&&(te.type===u.FLOAT.value&&(P=u.RGBA32F.value),te.type===u.HALF_FLOAT_OES.value&&(P=u.RGBA16F.value)),te.length=te.width*te.height*ke*this.getByteSizeForInternalFormat(P)}return te.length=0|te.length,re.__SPECTOR_Object_CustomData=te,te.length-Ae}getCustomData(A,z,re){return A.name==="texImage2D"?this.getTexImage2DCustomData(A,z,re):A.name==="compressedTexImage2D"?this.getCompressedTexImage2DCustomData(A,z,re):A.name==="texStorage2D"?this.getTexStorage2DCustomData(A,z,re):void 0}getTexStorage2DCustomData(A,z,re){let te;return A.arguments.length===5&&(te={target:z,internalFormat:A.arguments[2],width:A.arguments[3],height:A.arguments[4],length:0,isCompressed:!1}),te}getCompressedTexImage2DCustomData(A,z,re){if(A.arguments[1]!==0)return;let te;return A.arguments.length>=7&&(te={target:z,internalFormat:A.arguments[2],width:A.arguments[3],height:A.arguments[4],length:0,isCompressed:!0}),te}getTexImage2DCustomData(A,z,re){if(A.arguments[1]!==0)return;let te;return A.arguments.length>=8?te={target:z,internalFormat:A.arguments[2],width:A.arguments[3],height:A.arguments[4],format:A.arguments[6],type:A.arguments[7],length:0,isCompressed:!1}:A.arguments.length===6&&(te={target:z,internalFormat:A.arguments[2],width:A.arguments[5].width,height:A.arguments[5].height,format:A.arguments[3],type:A.arguments[4],length:0,isCompressed:!1}),te}}class gn extends tt{get objectName(){return"Texture3d"}getCreateCommandNames(){return["createTexture"]}getUpdateCommandNames(){return["texImage3D","compressedTexImage3D","texStorage3D"]}getDeleteCommandNames(){return["deleteTexture"]}getBoundInstance(A){const z=this.options.context;return A===u.TEXTURE_2D_ARRAY.value?z.getParameter(u.TEXTURE_BINDING_2D_ARRAY.value):A===u.TEXTURE_3D.value?z.getParameter(u.TEXTURE_BINDING_3D.value):void 0}delete(A){const z=A.__SPECTOR_Object_CustomData;return z?z.target!==u.TEXTURE_2D_ARRAY.name&&z.target!==u.TEXTURE_3D.name?0:z.length:0}update(A,z,re){if(A.arguments.length>=2&&A.arguments[1]!==0)return 0;const te=this.getCustomData(A,z,re);if(!te)return 0;const Ae=re.__SPECTOR_Object_CustomData?re.__SPECTOR_Object_CustomData.length:0;if(te.isCompressed){if(A.arguments.length>=7){const ke=A.arguments[6];te.length=typeof ke=="number"?ke:ke?.byteLength}}else te.length=te.width*te.height*te.depth*this.getByteSizeForInternalFormat(te.internalFormat);return te.length=0|te.length,re.__SPECTOR_Object_CustomData=te,te.length-Ae}getCustomData(A,z,re){return A.name==="texImage3D"?this.getTexImage3DCustomData(A,z,re):A.name==="compressedTexImage3D"?this.getCompressedTexImage3DCustomData(A,z,re):A.name==="texStorage3D"?this.getTexStorage3DCustomData(A,z,re):void 0}getTexStorage3DCustomData(A,z,re){let te;return A.arguments.length===6&&(te={target:z,internalFormat:A.arguments[2],width:A.arguments[3],height:A.arguments[4],depth:A.arguments[5],length:0,isCompressed:!1}),te}getCompressedTexImage3DCustomData(A,z,re){if(A.arguments[1]!==0)return;let te;return A.arguments.length>=8&&(te={target:z,internalFormat:A.arguments[2],width:A.arguments[3],height:A.arguments[4],depth:A.arguments[5],length:0,isCompressed:!0}),te}getTexImage3DCustomData(A,z,re){if(A.arguments[1]!==0)return;let te;return A.arguments.length>=9&&(te={target:z,internalFormat:A.arguments[2],width:A.arguments[3],height:A.arguments[4],depth:A.arguments[5],format:A.arguments[7],type:A.arguments[8],length:0,isCompressed:!1}),te}}class nn extends tt{get objectName(){return"Program"}getCreateCommandNames(){return["createProgram"]}getUpdateCommandNames(){return["linkProgram"]}getDeleteCommandNames(){return["deleteProgram"]}getBoundInstance(A){return A}delete(A){const z=A.__SPECTOR_Object_CustomData;return z?z.length:0}update(A,z,re){if(A.arguments.length>=1&&!A.arguments[0])return 0;const te=this.getCustomData(re);if(!te)return 0;const Ae=re.__SPECTOR_Object_CustomData?re.__SPECTOR_Object_CustomData.length:0;return re.__SPECTOR_Object_CustomData=te,te.length-Ae}getCustomData(A){const z=this.options.context;return zi.getProgramData(z,A)}}class be{constructor(A){this.contextInformation=A,this.onCommandCallbacks={},this.recorders=[],this.initRecorders()}recordCommand(A){const z=this.onCommandCallbacks[A.name];if(z)for(const re of z)re(A)}startCapture(){for(const A of this.recorders)A.startCapture()}stopCapture(){for(const A of this.recorders)A.stopCapture()}appendRecordedInformation(A){for(const z of this.recorders)z.appendRecordedInformation(A)}initRecorders(){this.recorders.push(new Rt(this.contextInformation),new Ot(this.contextInformation),new Nt(this.contextInformation),new gn(this.contextInformation),new nn(this.contextInformation));for(const A of this.recorders)A.registerCallbacks(this.onCommandCallbacks)}}class Ge{constructor(A){this.contextInformation=A,this.webGlObjects=[],this.initWebglObjects()}tagWebGlObjects(A){for(const z of this.webGlObjects){for(let re=0;re<A.arguments.length;re++){const te=A.arguments[re];if(z.tagWebGlObject(te))break}if(z.tagWebGlObject(A.result))break}}tagWebGlObject(A){for(const z of this.webGlObjects){const re=z.tagWebGlObject(A);if(re)return re}}initWebglObjects(){this.webGlObjects.push(new Pn,new Wn,new Ii,new Ei,new Si,new er,new Or,new Wr,new jr,new ti,new rr,new Zi)}}class Ze extends At{constructor(A){super(A),this.extensionDefinition=[[{name:"ANGLE_instanced_arrays",description:""},{name:"EXT_blend_minmax",description:""},{name:"EXT_color_buffer_float",description:""},{name:"EXT_color_buffer_half_float",description:""},{name:"EXT_disjoint_timer_query",description:""},{name:"EXT_frag_depth",description:""},{name:"EXT_sRGB",description:""},{name:"EXT_shader_texture_lod",description:""},{name:"EXT_texture_filter_anisotropic",description:""},{name:"OES_element_index_uint",description:""},{name:"OES_standard_derivatives",description:""},{name:"OES_texture_float",description:""},{name:"OES_texture_float_linear",description:""},{name:"OES_texture_half_float",description:""},{name:"OES_texture_half_float_linear",description:""},{name:"OES_vertex_array_object",description:""},{name:"WEBGL_color_buffer_float",description:""},{name:"WEBGL_compressed_texture_astc",description:""},{name:"WEBGL_compressed_texture_atc",description:""},{name:"WEBGL_compressed_texture_etc",description:""},{name:"WEBGL_compressed_texture_etc1",description:""},{name:"WEBGL_compressed_texture_pvrtc",description:""},{name:"WEBGL_compressed_texture_s3tc",description:""},{name:"WEBGL_depth_texture",description:""},{name:"WEBGL_draw_buffers",description:""}],[{name:"EXT_color_buffer_float",description:""},{name:"EXT_disjoint_timer_query",description:""},{name:"EXT_disjoint_timer_query_webgl2",description:""},{name:"EXT_texture_filter_anisotropic",description:""},{name:"OES_texture_float_linear",description:""},{name:"WEBGL_compressed_texture_astc",description:""},{name:"WEBGL_compressed_texture_atc",description:""},{name:"WEBGL_compressed_texture_etc",description:""},{name:"WEBGL_compressed_texture_etc1",description:""},{name:"WEBGL_compressed_texture_pvrtc",description:""},{name:"WEBGL_compressed_texture_s3tc",description:""},{name:"WEBGL_multi_draw",description:""},{name:"WEBGL_multi_draw_instanced_base_vertex_base_instance",description:""},{name:"WEBGL_draw_instanced_base_vertex_base_instance",description:""}]],this.currentState=this.startCapture(!0,this.quickCapture,this.fullCapture)}get stateName(){return"Extensions"}getExtensions(){return this.extensions}readFromContext(){const A=this.contextVersion===1?this.extensionDefinition[0]:this.extensionDefinition[1];for(const z of A){const re=this.context.getExtension(z.name);re?(this.currentState[z.name]=!0,this.extensions[z.name]=re):this.currentState[z.name]=!1}}}class Be extends Gt{get stateName(){return"CompressedTextures"}constructor(A){super(A),this.currentState=this.startCapture(!0,this.quickCapture,this.fullCapture)}getWebgl1Parameters(){return[{constant:u.COMPRESSED_TEXTURE_FORMATS}]}stringifyParameterValue(A,z){const re=[];for(const te of A)re.push(u.stringifyWebGlConstant(te,"getParameter"));return re}}class ut extends Gt{get stateName(){return"Capabilities"}constructor(A){super(A),this.currentState=this.startCapture(!0,this.quickCapture,this.fullCapture)}getWebgl1Parameters(){return[{constant:u.RENDERER},{constant:u.VENDOR},{constant:u.VERSION},{constant:u.SHADING_LANGUAGE_VERSION},{constant:u.SAMPLES},{constant:u.SAMPLE_BUFFERS},{constant:u.RED_BITS},{constant:u.GREEN_BITS},{constant:u.BLUE_BITS},{constant:u.ALPHA_BITS},{constant:u.DEPTH_BITS},{constant:u.STENCIL_BITS},{constant:u.SUBPIXEL_BITS},{constant:u.LINE_WIDTH},{constant:u.ALIASED_LINE_WIDTH_RANGE},{constant:u.ALIASED_POINT_SIZE_RANGE},{constant:u.IMPLEMENTATION_COLOR_READ_FORMAT,returnType:20},{constant:u.IMPLEMENTATION_COLOR_READ_TYPE,returnType:20},{constant:u.MAX_COMBINED_TEXTURE_IMAGE_UNITS},{constant:u.MAX_CUBE_MAP_TEXTURE_SIZE},{constant:u.MAX_FRAGMENT_UNIFORM_VECTORS},{constant:u.MAX_RENDERBUFFER_SIZE},{constant:u.MAX_TEXTURE_IMAGE_UNITS},{constant:u.MAX_TEXTURE_SIZE},{constant:u.MAX_VARYING_VECTORS},{constant:u.MAX_VERTEX_ATTRIBS},{constant:u.MAX_VERTEX_TEXTURE_IMAGE_UNITS},{constant:u.MAX_VERTEX_UNIFORM_VECTORS},{constant:u.MAX_VIEWPORT_DIMS},{constant:u.MAX_TEXTURE_MAX_ANISOTROPY_EXT},{constant:u.MAX_COLOR_ATTACHMENTS_WEBGL},{constant:u.MAX_DRAW_BUFFERS_WEBGL}]}getWebgl2Parameters(){return[{constant:u.MAX_3D_TEXTURE_SIZE},{constant:u.MAX_ARRAY_TEXTURE_LAYERS},{constant:u.MAX_CLIENT_WAIT_TIMEOUT_WEBGL},{constant:u.MAX_COLOR_ATTACHMENTS},{constant:u.MAX_COMBINED_FRAGMENT_UNIFORM_COMPONENTS},{constant:u.MAX_COMBINED_UNIFORM_BLOCKS},{constant:u.MAX_COMBINED_VERTEX_UNIFORM_COMPONENTS},{constant:u.MAX_DRAW_BUFFERS},{constant:u.MAX_ELEMENT_INDEX},{constant:u.MAX_ELEMENTS_INDICES},{constant:u.MAX_ELEMENTS_VERTICES},{constant:u.MAX_FRAGMENT_INPUT_COMPONENTS},{constant:u.MAX_FRAGMENT_UNIFORM_BLOCKS},{constant:u.MAX_FRAGMENT_UNIFORM_COMPONENTS},{constant:u.MAX_PROGRAM_TEXEL_OFFSET},{constant:u.MAX_SAMPLES},{constant:u.MAX_SERVER_WAIT_TIMEOUT},{constant:u.MAX_TEXTURE_LOD_BIAS},{constant:u.MAX_TRANSFORM_FEEDBACK_INTERLEAVED_COMPONENTS},{constant:u.MAX_TRANSFORM_FEEDBACK_SEPARATE_ATTRIBS},{constant:u.MAX_TRANSFORM_FEEDBACK_SEPARATE_COMPONENTS},{constant:u.MAX_UNIFORM_BLOCK_SIZE},{constant:u.MAX_UNIFORM_BUFFER_BINDINGS},{constant:u.MAX_VARYING_COMPONENTS},{constant:u.MAX_VERTEX_OUTPUT_COMPONENTS},{constant:u.MAX_VERTEX_UNIFORM_BLOCKS},{constant:u.MAX_VERTEX_UNIFORM_COMPONENTS},{constant:u.MIN_PROGRAM_TEXEL_OFFSET}]}}class Ct{constructor(A){this.options=A,this.commandId=0,this.context=A.context,this.version=A.version,this.onMaxCommand=new h,this.capturing=!1,this.globalCapturing=!0,this.contextInformation={context:this.context,contextVersion:this.version,toggleCapture:this.toggleGlobalCapturing.bind(this),tagWebGlObject:this.tagWebGlObject.bind(this),extensions:{}},this.commandSpies={},this.stateSpy=new Ie(this.contextInformation),this.recorderSpy=new be(this.contextInformation),this.webGlObjectSpy=new Ge(this.contextInformation),this.analyser=new R(this.contextInformation),this.initStaticCapture(),A.recordAlways&&this.spy()}spy(){this.spyContext(this.context);const{extensions:A}=this.contextInformation;for(const z in A)A.hasOwnProperty(z)&&this.spyContext(A[z])}unSpy(){for(const A in this.commandSpies)this.commandSpies.hasOwnProperty(A)&&this.commandSpies[A].unSpy()}startCapture(A=0,z=!1,re=!1){const te=v.now;this.maxCommands=A,this.options.recordAlways||this.spy(),this.capturing=!0,this.commandId=0,this.currentCapture={canvas:this.canvasCapture,context:this.contextCapture,commands:[],initState:{},endState:{},startTime:te,listenCommandsStartTime:0,listenCommandsEndTime:0,endTime:0,analyses:[],frameMemory:{},memory:{}},this.currentCapture.canvas.width=this.context.canvas.width,this.currentCapture.canvas.height=this.context.canvas.height,this.currentCapture.canvas.clientWidth=this.context.canvas.clientWidth||this.context.canvas.width,this.currentCapture.canvas.clientHeight=this.context.canvas.clientHeight||this.context.canvas.height,this.stateSpy.startCapture(this.currentCapture,z,re),this.recorderSpy.startCapture(),this.currentCapture.listenCommandsStartTime=v.now}stopCapture(){const A=v.now;return this.options.recordAlways||this.unSpy(),this.capturing=!1,this.stateSpy.stopCapture(this.currentCapture),this.recorderSpy.stopCapture(),this.currentCapture.listenCommandsEndTime=A,this.currentCapture.endTime=v.now,this.recorderSpy.appendRecordedInformation(this.currentCapture),this.analyser.appendAnalyses(this.currentCapture),this.currentCapture}isCapturing(){return this.globalCapturing&&this.capturing}setMarker(A){this.marker=A}clearMarker(){this.marker=null}log(A){this.currentCapture.commands.push({name:"LOG",text:A,commandArguments:[],commandEndTime:v.now,endTime:v.now,stackTrace:[],marker:"",status:40,startTime:v.now,result:void 0,id:this.getNextCommandCaptureId()})}getNextCommandCaptureId(){return this.commandId++}onCommand(A,z){if(this.globalCapturing&&(this.webGlObjectSpy.tagWebGlObjects(z),this.recorderSpy.recordCommand(z),this.isCapturing())){const re=A.createCapture(z,this.getNextCommandCaptureId(),this.marker);this.stateSpy.captureState(re),this.currentCapture.commands.push(re),re.endTime=v.now,this.maxCommands>0&&this.currentCapture.commands.length===this.maxCommands&&this.onMaxCommand.trigger(this)}}spyContext(A){const z=[];for(const re in A)re&&z.push(re);for(let re=0;re<z.length;re++){const te=z[re];if(!~Ct.unSpyableMembers.indexOf(te))try{typeof A[te]!="number"&&this.spyFunction(te,A)}catch(Ae){f.error("Cant Spy member: "+te),f.error(Ae)}}}initStaticCapture(){const A=new Ze(this.contextInformation),z=A.getExtensions();for(const Ae in z)z.hasOwnProperty(Ae)&&(this.contextInformation.extensions[Ae]=z[Ae]);const re=new ut(this.contextInformation),te=new Be(this.contextInformation);this.contextCapture={version:this.version,contextAttributes:this.context.getContextAttributes(),capabilities:re.getStateData(),extensions:A.getStateData(),compressedTextures:te.getStateData()},this.canvasCapture={width:this.context.canvas.width,height:this.context.canvas.height,clientWidth:this.context.canvas.clientWidth||this.context.canvas.width,clientHeight:this.context.canvas.clientHeight||this.context.canvas.height,browserAgent:navigator?navigator.userAgent:""}}spyFunction(A,z){if(A.indexOf("__SPECTOR_Origin_")!==0){if(!this.commandSpies[A]){const re=(function(te,Ae){const ke={};for(const P in te)te.hasOwnProperty(P)&&(ke[P]=te[P]);for(const P in Ae)ke.hasOwnProperty(P)||(ke[P]=Ae[P]);return ke})(this.contextInformation,{spiedCommandName:A,spiedCommandRunningContext:z,callback:this.onCommand.bind(this)});this.commandSpies[A]=new et(re)}this.commandSpies[A].spy()}}toggleGlobalCapturing(A){this.globalCapturing=A}tagWebGlObject(A){return this.webGlObjectSpy.tagWebGlObject(A)}}Ct.unSpyableMembers=["canvas","drawingBufferWidth","drawingBufferHeight","drawingBufferColorSpace","unpackColorSpace","glp"];class Pt{constructor(A){this.spiedScope=A||window,this.lastFrame=0,this.speedRatio=1,this.willPlayNextFrame=!1,this.onFrameStart=new h,this.onFrameEnd=new h,this.onError=new h,this.lastSixtyFramesDuration=[],this.lastSixtyFramesCurrentIndex=0,this.lastSixtyFramesPreviousStart=0;for(let z=0;z<Pt.fpsWindowSize;z++)this.lastSixtyFramesDuration[z]=0;this.init()}playNextFrame(){this.willPlayNextFrame=!0}changeSpeedRatio(A){this.speedRatio=A}static getRequestAnimationFrameFunctionNames(){return[...Pt.requestAnimationFrameFunctions]}addRequestAnimationFrameFunctionName(A){Pt.requestAnimationFrameFunctions.push(A)}getSpiedScope(){return this.spiedScope}setSpiedScope(A){this.spiedScope=A}getFps(){let A=0;for(let z=0;z<Pt.fpsWindowSize;z++)A+=this.lastSixtyFramesDuration[z];return A===0?0:6e4/A}init(){for(const A of Pt.requestAnimationFrameFunctions)this.spyRequestAnimationFrame(A,this.spiedScope);for(const A of Pt.setTimerFunctions)this.spySetTimer(A);this.spiedScope.VRDisplay&&this.spiedScope.addEventListener("vrdisplaypresentchange",(A=>{this.spyRequestAnimationFrame("requestAnimationFrame",A.display)}))}spyRequestAnimationFrame(A,z){const re=this;M.storeOriginFunction(z,A),z[A]=function(){const te=arguments[0],Ae=re.getCallback(re,te,(()=>{re.spiedScope[A](te)}));return M.executeOriginFunction(z,A,[Ae])}}spySetTimer(A){const z=this,re=this.spiedScope,te=A==="setTimeout";M.storeOriginFunction(re,A),re[A]=function(){const Ae=arguments[0],ke=arguments[1],P=Array.prototype.slice.call(arguments);return Pt.setTimerCommonValues.indexOf(ke)>-1&&(P[0]=z.getCallback(z,Ae,te?()=>{re[A](Ae)}:null)),M.executeOriginFunction(re,A,P)}}getCallback(A,z,re=null){return function(){const te=v.now;if(A.lastFrame=++A.lastFrame%A.speedRatio,A.willPlayNextFrame||A.speedRatio&&!A.lastFrame){A.onFrameStart.trigger(A);try{z.apply(A.spiedScope,arguments)}catch(Ae){A.onError.trigger(Ae)}A.lastSixtyFramesCurrentIndex=(A.lastSixtyFramesCurrentIndex+1)%Pt.fpsWindowSize,A.lastSixtyFramesDuration[A.lastSixtyFramesCurrentIndex]=te-A.lastSixtyFramesPreviousStart,A.onFrameEnd.trigger(A),A.willPlayNextFrame=!1}else re&&re();A.lastSixtyFramesPreviousStart=te}}}Pt.requestAnimationFrameFunctions=["requestAnimationFrame","msRequestAnimationFrame","webkitRequestAnimationFrame","mozRequestAnimationFrame","oRequestAnimationFrame"],Pt.setTimerFunctions=["setTimeout","setInterval"],Pt.setTimerCommonValues=[0,15,16,33,32,40],Pt.fpsWindowSize=60;class en{constructor(A){this.canvas=A,this.onContextRequested=new h,this.init()}init(){const A=this,z=function(){const re=this instanceof HTMLCanvasElement?HTMLCanvasElement:OffscreenCanvas,te=A.canvas?M.executeOriginFunction(this,"getContext",arguments):M.executePrototypeOriginFunction(this,re,"getContext",arguments);if(arguments.length>0&&arguments[0]==="2d")return te;if(te){const Ae=Array.prototype.slice.call(arguments),ke=Ae[0]==="webgl2"||Ae[0]==="experimental-webgl2"?2:1;A.onContextRequested.trigger({context:te,contextVersion:ke})}return te};this.canvas?(M.storeOriginFunction(this.canvas,"getContext"),this.canvas.getContext=z):(M.storePrototypeOriginFunction(HTMLCanvasElement,"getContext"),HTMLCanvasElement.prototype.getContext=z,typeof OffscreenCanvas<"u"&&(M.storePrototypeOriginFunction(OffscreenCanvas,"getContext"),OffscreenCanvas.prototype.getContext=z))}}var un=o(379),In=o.n(un),Ln=o(795),vn=o.n(Ln),Bn=o(569),Xn=o.n(Bn),Di=o(565),Mn=o.n(Di),li=o(216),Q=o.n(li),Ni=o(589),Kn=o.n(Ni),ci=o(866),_t={};_t.styleTagTransform=Kn(),_t.setAttributes=Mn(),_t.insert=Xn().bind(null,"html"),_t.domAPI=vn(),_t.insertStyleElement=Q(),In()(ci.Z,_t),ci.Z&&ci.Z.locals&&ci.Z.locals;class ot{constructor(A,z){this.placeHolder=A,this.stateStore=z}compose(A){const z=this.stateStore.getStatesToProcess();let re=!1;for(const Ae in z)if(z.hasOwnProperty(Ae)){const ke=z[Ae],P=this.stateStore.getLastOperation(ke),G=this.stateStore.getComponentInstance(ke),Y=this.stateStore.getData(ke);G.render(Y,ke,P),re=!0}if(!re)return;const te=this.stateStore.getLastOperation(A);this.composeInContainer(this.placeHolder,Number.MAX_VALUE,A,te)}composeChildren(A,z){if(!z)return;const re=this.stateStore.getChildrenIds(A);let te=0;for(let Ae=0;Ae<re.length;Ae++){const ke=re[Ae],P=this.stateStore.getLastOperation(ke);this.composeInContainer(z,te,ke,P),P!==50&&te++}}composeInContainer(A,z,re,te){const Ae=this.stateStore.getComponentInstance(re).composeInContainer(A,z,te);this.composeChildren(re,Ae)}}class Cn{constructor(){this.store={},this.idGenerator=0,this.pendingOperation={}}getLastOperation(A){return this.store[A].lastOperation}getData(A){return this.store[A].data}getComponentInstance(A){return this.store[A].componentInstance}getParentId(A){return this.store[A].parent?this.store[A].parent.id:-1}getChildrenIds(A){const z=[];for(const re of this.store[A].children)z.push(re.id);return z}hasChildren(A){return this.store[A].children.length>0}add(A,z){const re=this.getNewId();return this.pendingOperation[re]=re,this.store[re]={data:A,id:re,parent:null,children:[],componentInstance:z,lastOperation:20},re}update(A,z){this.store[A],this.pendingOperation[A]=A,this.store[A].data=z,this.store[A].lastOperation=40}addChild(A,z,re){const te=this.store[A],Ae=this.add(z,re);this.pendingOperation[Ae]=Ae;const ke=this.store[Ae];return ke.parent=te,te.children.push(ke),Ae}insertChildAt(A,z,re,te){const Ae=this.store[A],ke=this.add(re,te);this.pendingOperation[ke]=ke;const P=this.store[ke];return P.parent=Ae,z>=Ae.children.length?Ae.children.push(P):z>=0?Ae.children.splice(z,0,P):Ae.children.unshift(P),ke}removeChildById(A,z){const re=this.store[A];for(let te=re.children.length-1;te>=0;te--)if(re.children[te].id===z){this.removeChildAt(A,te);break}}removeChildAt(A,z){const re=this.store[A];let te;z>re.children.length-1?(te=re.children[re.children.length-1],re.children[re.children.length-1].parent=null,re.children.splice(re.children.length-1,1)):z>=0?(te=re.children[z],re.children[z].parent=null,re.children.splice(z,1)):(te=re.children[0],re.children[0].parent=null,re.children.splice(0,1)),te.parent=null,this.remove(te.id)}remove(A){const z=this.store[A];z.parent?(this.store[z.parent.id],this.removeChildById(z.parent.id,A)):(this.removeChildren(A),this.store[A].lastOperation=50,this.pendingOperation[A]=A)}removeChildren(A){const z=this.store[A];for(;z.children.length;)this.remove(z.children[0].id)}getStatesToProcess(){return this.pendingOperation}flushPendingOperations(){for(const A in this.pendingOperation)this.pendingOperation[A]&&(this.store[A].lastOperation===50?delete this.store[A]:this.store[A].lastOperation=0);this.pendingOperation={}}getNewId(){return++this.idGenerator}}class Qn{constructor(A){this.component=A}render(A,z,re){re!==0&&(re!==50?this.domNode=this.component.render(A,z):this.removeNode())}composeInContainer(A,z,re){if(re===50)return this.removeNode(),null;const te=this.cachedCurrentChildrenContainer;if(re===0)return te;const Ae=this.domNode,ke=Ae.getAttribute("childrencontainer")?Ae:Ae.querySelector("[childrenContainer]");if(ke&&te){const P=te.children;for(;P.length>0;)ke.appendChild(P[0])}if(this.cachedCurrentChildrenContainer=ke,z>=A.children.length)A.appendChild(Ae),this.cachedCurrentDomNode&&re===40&&(this.cachedCurrentDomNode.remove?this.cachedCurrentDomNode.remove():this.cachedCurrentDomNode.parentNode&&this.cachedCurrentDomNode.parentNode.removeChild(this.cachedCurrentDomNode));else{const P=A.children[z];A.insertBefore(Ae,P),re===40&&A.removeChild(P)}return this.cachedCurrentDomNode=this.domNode,ke}removeNode(){this.domNode&&this.domNode.parentElement&&(this.domNode.remove?this.domNode.remove():this.domNode.parentNode&&this.domNode.parentNode.removeChild(this.domNode)),this.cachedCurrentDomNode&&this.cachedCurrentDomNode.parentElement&&(this.cachedCurrentDomNode.remove?this.cachedCurrentDomNode.remove():this.cachedCurrentDomNode.parentNode&&this.cachedCurrentDomNode.parentNode.removeChild(this.cachedCurrentDomNode))}}Qn.idGenerator=0;class gi{constructor(A){this.stateStore=new Cn,this.compositor=new ot(A,this.stateStore),this.willRender=!1,this.rootStateId=-1}addRootState(A,z,re=!1){const te=new Qn(z),Ae=this.stateStore.add(A,te);return this.rootStateId=Ae,this.setForRender(re),Ae}addChildState(A,z,re,te=!1){const Ae=this.insertChildState(A,z,Number.MAX_VALUE,re);return this.setForRender(te),Ae}insertChildState(A,z,re,te,Ae=!1){const ke=new Qn(te),P=this.stateStore.insertChildAt(A,re,z,ke);return this.setForRender(Ae),P}updateState(A,z,re=!1){this.stateStore.update(A,z),this.setForRender(re)}removeState(A,z=!1){this.stateStore.remove(A),this.setForRender(z)}removeChildrenStates(A,z=!1){this.stateStore.removeChildren(A),this.setForRender(z)}getState(A){return this.stateStore.getData(A)}getGenericState(A){return this.getState(A)}getChildrenState(A){return this.stateStore.getChildrenIds(A).map((z=>this.stateStore.getData(A)))}getChildrenGenericState(A){return this.getChildrenState(A)}hasChildren(A){return this.stateStore.hasChildren(A)}updateAllChildrenState(A,z){const re=this.stateStore.getChildrenIds(A);for(const te of re){const Ae=this.getGenericState(te);z(Ae),this.updateState(te,Ae)}}updateAllChildrenGenericState(A,z){this.updateAllChildrenState(A,z)}setForRender(A){this.willRender||(this.willRender=!0,A?this.compose():setTimeout(this.compose.bind(this),gi.REFRESHRATEINMILLISECONDS))}compose(){this.willRender=!1,this.compositor.compose(this.rootStateId),this.stateStore.flushPendingOperations()}}gi.REFRESHRATEINMILLISECONDS=100;class zn extends class{constructor(){this.dummyTextGeneratorElement=document.createElement("div")}createFromHtml(A){const z=document.createElement("div");return z.innerHTML=A,z.firstElementChild}htmlTemplate(A,...z){const re=A.raw;let te="";return z.forEach(((Ae,ke)=>{let P=re[ke];Array.isArray(Ae)&&(Ae=Ae.join("")),P&&P.length>0&&P[P.length-1]==="$"?P=P.slice(0,-1):Ae=this.htmlEscape(Ae),te+=P,te+=Ae})),te+=re[re.length-1],te}htmlEscape(A){return A==null||A.length===0?A:(this.dummyTextGeneratorElement.innerText=A,this.dummyTextGeneratorElement.innerHTML)}}{constructor(){super(),this.events={}}addEventListener(A,z,re=null){return this.events[A]?this.events[A].add(z,re):-1}removeEventListener(A,z){this.events[A]&&this.events[A].remove(z)}renderElementFromTemplate(A,z,re){const te=this.createFromHtml(A);return this.bindCommands(te,z,re),te}bindCommands(A,z,re){A.getAttribute("commandname")&&this.bindCommand(A,z,re);const te=A.querySelectorAll("[commandName]");for(let Ae=0;Ae<te.length;Ae++){const ke=te[Ae];this.bindCommand(ke,z,re)}}bindCommand(A,z,re){const te=A.getAttribute("commandname");let Ae=A.getAttribute("commandeventbinding")||"";Ae.length===0&&(Ae="click");const ke=A.getAttribute("usecapture")==="true",P=A.getAttribute("stoppropagation")==="true";this.createEvent(te),this.mapEventListener(A,Ae,te,z,re,ke,P)}mapEventListener(A,z,re,te,Ae,ke=!1,P=!1){const G=this;P?A.addEventListener(z,(function(Y){return Y.stopPropagation(),Y.preventDefault(),G.triggerEvent(re,this,te,Ae),!1}),ke):A.addEventListener(z,(function(){G.triggerEvent(re,this,te,Ae)}),ke)}createEvent(A){if(!this.events[A]){const z=new h;this.events[A]=z}return this.events[A]}triggerEvent(A,z,re,te){this.events[A].trigger({sender:z,stateId:te,state:re})}}class Wi extends zn{render(A,z){const re=this.htmlTemplate`<div>
            <div childrenContainer="true" class="captureMenuComponent ${A?"active":""}">
            </div>
            <div class="captureMenuLogComponent ${A.logVisible?"active":""}">
                <span class="${A.logLevel===c.error?"error":""}">${A.logText}<span>
            </div>
        </div>`;return this.renderElementFromTemplate(re,A,z)}}class Jt extends zn{constructor(){super(),this.onCanvasSelected=this.createEvent("onCanvasSelected")}render(A,z){const re=document.createElement("li"),te=document.createElement("span");return te.innerText=`Id: ${A.id} - Size: ${A.width}*${A.height}`,re.appendChild(te),this.mapEventListener(re,"click","onCanvasSelected",A,z),re}}class es extends zn{constructor(){super(),this.onCaptureRequested=this.createEvent("onCaptureRequested"),this.onPlayRequested=this.createEvent("onPlayRequested"),this.onPauseRequested=this.createEvent("onPauseRequested"),this.onPlayNextFrameRequested=this.createEvent("onPlayNextFrameRequested")}render(A,z){const re=this.htmlTemplate`
        <div class="captureMenuActionsComponent">
            <div commandName="onCaptureRequested">
            </div>
            $${A?`<div commandName="onPauseRequested">
                </div>`:`<div commandName="onPlayRequested">
                </div>
                <div commandName="onPlayNextFrameRequested">
                </div>`}
        </div>`;return this.renderElementFromTemplate(re,A,z)}}class xs extends zn{constructor(){super(),this.onCanvasSelection=this.createEvent("onCanvasSelection")}render(A,z){const re=this.htmlTemplate`
        <div class="canvasListComponent">
            <span commandName="onCanvasSelection">
                ${A.currentCanvasInformation?`${A.currentCanvasInformation.id} (${A.currentCanvasInformation.width}*${A.currentCanvasInformation.height})`:"Choose Canvas..."}
            </span>
            <ul childrenContainer="true" style="${A.showList?"display:block;visibility:visible":"display:none;visibility:hidden"}"></ul>
        </div>`;return this.renderElementFromTemplate(re,A,z)}}class Ks extends zn{render(A,z){const re=document.createElement("span");return re.className="fpsCounterComponent",re.innerText=A.toFixed(2)+" Fps",re}}class Nr{constructor(A={}){this.options=A,this.rootPlaceHolder=A.rootPlaceHolder||document.body,this.mvx=new gi(this.rootPlaceHolder),this.isTrackingCanvas=!1,this.onCanvasSelected=new h,this.onCaptureRequested=new h,this.onPauseRequested=new h,this.onPlayRequested=new h,this.onPlayNextFrameRequested=new h,this.captureMenuComponent=new Wi,this.canvasListComponent=new xs,this.canvasListItemComponent=new Jt,this.actionsComponent=new es,this.fpsCounterComponent=new Ks,this.rootStateId=this.mvx.addRootState({visible:!0,logLevel:c.info,logText:Nr.SelectCanvasHelpText,logVisible:!this.options.hideLog},this.captureMenuComponent),this.canvasListStateId=this.mvx.addChildState(this.rootStateId,{currentCanvasInformation:null,showList:!1},this.canvasListComponent),this.actionsStateId=this.mvx.addChildState(this.rootStateId,!0,this.actionsComponent),this.fpsStateId=this.mvx.addChildState(this.rootStateId,0,this.fpsCounterComponent),this.actionsComponent.onCaptureRequested.add((()=>{const z=this.getSelectedCanvasInformation();z&&this.updateMenuStateLog(c.info,Nr.PleaseWaitHelpText,!0),setTimeout((()=>{this.onCaptureRequested.trigger(z)}),200)})),this.actionsComponent.onPauseRequested.add((()=>{this.onPauseRequested.trigger(this.getSelectedCanvasInformation()),this.mvx.updateState(this.actionsStateId,!1)})),this.actionsComponent.onPlayRequested.add((()=>{this.onPlayRequested.trigger(this.getSelectedCanvasInformation()),this.mvx.updateState(this.actionsStateId,!0)})),this.actionsComponent.onPlayNextFrameRequested.add((()=>{this.onPlayNextFrameRequested.trigger(this.getSelectedCanvasInformation())})),this.canvasListComponent.onCanvasSelection.add((z=>{this.mvx.updateState(this.canvasListStateId,{currentCanvasInformation:null,showList:!z.state.showList}),this.updateMenuStateLog(c.info,Nr.SelectCanvasHelpText),this.onCanvasSelected.trigger(null),this.isTrackingCanvas&&this.trackPageCanvases(),z.state.showList?this.showMenuStateLog():this.hideMenuStateLog()})),this.canvasListItemComponent.onCanvasSelected.add((z=>{this.mvx.updateState(this.canvasListStateId,{currentCanvasInformation:z.state,showList:!1}),this.onCanvasSelected.trigger(z.state),this.updateMenuStateLog(c.info,Nr.ActionsHelpText),this.showMenuStateLog()}))}getSelectedCanvasInformation(){return this.mvx.getGenericState(this.canvasListStateId).currentCanvasInformation}trackPageCanvases(){if(this.isTrackingCanvas=!0,document.body){const A=document.body.querySelectorAll("canvas");this.updateCanvasesList(A)}}updateCanvasesList(A){this.updateCanvasesListInformationInternal(A,(z=>({id:z.id,width:z.width,height:z.height,ref:z})))}updateCanvasesListInformation(A){this.updateCanvasesListInformationInternal(A,(z=>({id:z.id,width:z.width,height:z.height,ref:z.ref})))}display(){this.updateMenuStateVisibility(!0)}hide(){this.updateMenuStateVisibility(!1)}captureComplete(A){A?this.updateMenuStateLog(c.error,A):this.updateMenuStateLog(c.info,Nr.ActionsHelpText)}setFPS(A){this.mvx.updateState(this.fpsStateId,A)}updateCanvasesListInformationInternal(A,z){this.mvx.removeChildrenStates(this.canvasListStateId);const re=[];for(let ke=0;ke<A.length;ke++){const P=z(A[ke]);re.push(P),this.mvx.addChildState(this.canvasListStateId,P,this.canvasListItemComponent)}const te=re.length,Ae=this.mvx.getGenericState(this.canvasListStateId).showList;if(!Ae)if(te===1){const ke=re[0];this.mvx.updateState(this.canvasListStateId,{currentCanvasInformation:ke,showList:Ae}),this.updateMenuStateLog(c.info,Nr.ActionsHelpText),this.onCanvasSelected.trigger(ke)}else this.updateMenuStateLog(c.info,Nr.SelectCanvasHelpText),this.onCanvasSelected.trigger(null)}hideMenuStateLog(){const A=this.mvx.getGenericState(this.rootStateId);this.mvx.updateState(this.rootStateId,{visible:A.visible,logLevel:A.logLevel,logText:A.logText,logVisible:!1})}showMenuStateLog(){const A=this.mvx.getGenericState(this.rootStateId);this.mvx.updateState(this.rootStateId,{visible:A.visible,logLevel:A.logLevel,logText:A.logText,logVisible:!this.options.hideLog})}updateMenuStateLog(A,z,re=!1){const te=this.mvx.getGenericState(this.rootStateId);this.mvx.updateState(this.rootStateId,{visible:te.visible,logLevel:A,logText:z,logVisible:!this.options.hideLog},re)}updateMenuStateVisibility(A){const z=this.mvx.getGenericState(this.rootStateId);this.mvx.updateState(this.rootStateId,{visible:A,logLevel:z.logLevel,logText:z.logText,logVisible:z.logVisible})}}Nr.SelectCanvasHelpText="Please, select a canvas in the list above.",Nr.ActionsHelpText="Record with the red button, you can also pause or continue playing the current scene.",Nr.PleaseWaitHelpText="Capturing, be patient (this can take up to 3 minutes)...";var Os=o(625),Zs={};Zs.styleTagTransform=Kn(),Zs.setAttributes=Mn(),Zs.insert=Xn().bind(null,"html"),Zs.domAPI=vn(),Zs.insertStyleElement=Q(),In()(Os.Z,Zs),Os.Z&&Os.Z.locals&&Os.Z.locals;class ro extends zn{constructor(){super(),this.onCaptureLoaded=new h}render(A,z){const re=this.htmlTemplate`
        <div class="captureListComponent ${A?"active":""}">
            <div class="openCaptureFile">
                <Span>Drag files here to open a previously saved capture.</span>
            </div>
            <ul childrenContainer="true"></ul>
        </div>`,te=this.renderElementFromTemplate(re,A,z),Ae=te.querySelector(".openCaptureFile");return Ae.addEventListener("dragenter",(ke=>(this.drag(ke),!1)),!1),Ae.addEventListener("dragover",(ke=>(this.drag(ke),!1)),!1),Ae.addEventListener("drop",(ke=>{this.drop(ke)}),!1),te}drag(A){A.stopPropagation(),A.preventDefault()}drop(A){A.stopPropagation(),A.preventDefault(),this.loadFiles(A)}loadFiles(A){let z=null;if(A&&A.dataTransfer&&A.dataTransfer.files&&(z=A.dataTransfer.files),A&&A.target&&A.target.files&&(z=A.target.files),z&&z.length>0)for(let re=0;re<z.length;re++){const te=z[re].name.toLowerCase().split(".").pop();if(z[re].type,te==="json"){const Ae=z[re],ke=new FileReader;ke.onerror=P=>{f.error("Error while reading file: "+Ae.name+P)},ke.onload=P=>{try{const G=JSON.parse(P.target.result);this.onCaptureLoaded.trigger(G)}catch(G){f.error("Error while reading file: "+Ae.name+G)}},ke.readAsText(Ae)}}}}class Ss extends zn{constructor(){super(),this.onCaptureSelected=this.createEvent("onCaptureSelected"),this.onSaveRequested=this.createEvent("onSaveRequested")}render(A,z){const re=document.createElement("li");if(A.active&&(re.className="active"),A.capture.endState.VisualState.Attachments)for(const ke of A.capture.endState.VisualState.Attachments){const P=document.createElement("img");P.src=encodeURI(ke.src),re.appendChild(P)}else{const ke=document.createElement("span");ke.innerText=A.capture.endState.VisualState.FrameBufferStatus,re.appendChild(ke)}const te=document.createElement("span");te.innerText=new Date(A.capture.startTime).toTimeString().split(" ")[0],re.appendChild(te);const Ae=document.createElement("a");return Ae.href="#",Ae.className="captureListItemSave",this.mapEventListener(Ae,"click","onSaveRequested",A,z,!1,!0),te.appendChild(Ae),this.mapEventListener(re,"click","onCaptureSelected",A,z),re}}class _a extends zn{render(A,z){const re=this.htmlTemplate`
        <div class="visualStateListComponent">
            <ul childrenContainer="true"></ul>
        </div>`;return this.renderElementFromTemplate(re,A,z)}}class us{static scrollIntoView(A){const z=A.getBoundingClientRect();let re=A.parentElement;for(;re&&re.clientHeight===re.offsetHeight;)re=re.parentElement;if(!re)return;const te=re.getBoundingClientRect();z.top<te.top?A.scrollIntoView(!0):z.bottom>te.bottom&&A.scrollIntoView(!1)}}class ws extends zn{constructor(){super(),this.onVisualStateSelected=this.createEvent("onVisualStateSelected")}render(A,z){const re=document.createElement("li");if(A.active&&(re.className="active",setTimeout((()=>{us.scrollIntoView(re)}),1)),A.VisualState.Attachments)for(const Ae of A.VisualState.Attachments){if(!Ae.src)continue;const ke=document.createElement("img");if(ke.src=encodeURI(Ae.src),re.appendChild(ke),A.VisualState.Attachments.length>1){const P=document.createElement("span");P.innerText=Ae.attachmentName,re.appendChild(P)}if(Ae.textureLayer){const P=document.createElement("span");P.innerText="Layer: "+Ae.textureLayer,re.appendChild(P)}if(Ae.textureCubeMapFace){const P=document.createElement("span");P.innerText=Ae.textureCubeMapFace,re.appendChild(P)}}else{const Ae=document.createElement("span");Ae.innerText=A.VisualState.FrameBufferStatus,re.appendChild(Ae)}const te=document.createElement("span");return te.innerText=A.VisualState.FrameBuffer?"Frame buffer: "+A.VisualState.FrameBuffer.__SPECTOR_Object_TAG.id:"Canvas frame buffer",re.appendChild(te),this.mapEventListener(re,"click","onVisualStateSelected",A,z),re}}class ja extends zn{render(A,z){const re=this.htmlTemplate`
        <div class="commandListComponent">
            <ul childrenContainer="true"></ul>
        </div>`;return this.renderElementFromTemplate(re,A,z)}}class na extends zn{constructor(){super(),this.onCommandSelected=this.createEvent("onCommandSelected"),this.onVertexSelected=this.createEvent("onVertexSelected"),this.onFragmentSelected=this.createEvent("onFragmentSelected")}render(A,z){const re=document.createElement("li");let te="unknown";switch(A.capture.status){case 50:te="deprecated";break;case 10:te="unused";break;case 20:te="disabled";break;case 30:te="redundant";break;case 40:te="valid"}if(A.capture.VisualState&&(re.className=" drawCall"),A.active&&(re.className=" active",setTimeout((()=>{us.scrollIntoView(re)}),1)),A.capture.marker){const Ae=document.createElement("span");Ae.className=te+" marker important",Ae.innerText=A.capture.marker+" ",Ae.style.fontWeight="1000",re.appendChild(Ae)}if(A.capture.name==="LOG"){const Ae=document.createElement("span");Ae.className=te+" marker important",Ae.innerText=A.capture.text+" ",Ae.style.fontWeight="1000",re.appendChild(Ae)}else{const Ae=document.createElement("span");let ke=A.capture.text;ke=ke.replace(A.capture.name,`<span class=" ${te} important">${A.capture.name}</span>`),Ae.innerHTML=ke,re.appendChild(Ae)}if(A.capture.VisualState&&A.capture.name!=="clear")try{const Ae=A.capture.DrawCall.shaders[0],ke=A.capture.DrawCall.shaders[1],P=document.createElement("a");P.innerText=Ae.name,P.href="#",re.appendChild(P),this.mapEventListener(P,"click","onVertexSelected",A,z);const G=document.createElement("a");G.innerText=ke.name,G.href="#",re.appendChild(G),this.mapEventListener(G,"click","onFragmentSelected",A,z)}catch{}return this.mapEventListener(re,"click","onCommandSelected",A,z),re}}class La extends zn{render(A,z){const re=this.htmlTemplate`
        <div class="commandDetailComponent" childrenContainer="true">
        </div>`;return this.renderElementFromTemplate(re,A,z)}}class Xa extends zn{render(A,z){const re=this.htmlTemplate`
        <div class="jsonContentComponent" childrenContainer="true">
        </div>`;return this.renderElementFromTemplate(re,A,z)}}class Pa extends zn{render(A,z){const re=this.htmlTemplate`
        <div class="jsonGroupComponent">
            <div class="jsonGroupComponentTitle">${A?A.replace(/([A-Z])/g," $1").trim():""}</div>
            <ul childrenContainer="true"></ul>
        </div>`;return this.renderElementFromTemplate(re,A,z)}}class Qs extends zn{render(A,z){const re=this.htmlTemplate`
            <li><span class="jsonItemComponentKey">${A.key}: </span><span class="jsonItemComponentValue">${A.value}</span><li>`;return this.renderElementFromTemplate(re,A,z)}}class so extends zn{render(A,z){const re=this.htmlTemplate`
        <li class="jsonItemImageHolder"><div class="jsonItemImage"><img src="${A.value}" style="${A.pixelated?"image-rendering: pixelated;":""}" /><span>${A.key}</span></div></li>`;return this.renderElementFromTemplate(re,A,z)}}class da extends zn{render(A,z){const re=this.htmlTemplate`
            <li><span class="jsonItemComponentKey">${A.key}: </span>
                <span class="jsonItemComponentValue">${A.value} (<a href="${A.help}" target="_blank" class="jsonSourceItemComponentOpen">Open help page</a>)
                </span>
            <li>`;return this.renderElementFromTemplate(re,A,z)}}class hs extends zn{render(A,z){const re=document.createElement("div");if(re.className="jsonVisualStateItemComponent",A.Attachments)for(const Ae of A.Attachments){if(!Ae.src)continue;const ke=document.createElement("img");if(ke.src=encodeURI(Ae.src),re.appendChild(ke),A.Attachments.length>1){const P=document.createElement("span");P.innerText=Ae.attachmentName,re.appendChild(P)}}else{const Ae=document.createElement("span");Ae.innerText=A.FrameBufferStatus,re.appendChild(Ae)}const te=document.createElement("span");return te.innerText=A.FrameBuffer?A.FrameBuffer.__SPECTOR_Object_TAG.displayText:"Canvas frame buffer",re.appendChild(te),re}}class ko extends zn{constructor(){super(),this.onCapturesClicked=this.createEvent("onCapturesClicked"),this.onCommandsClicked=this.createEvent("onCommandsClicked"),this.onInformationClicked=this.createEvent("onInformationClicked"),this.onInitStateClicked=this.createEvent("onInitStateClicked"),this.onEndStateClicked=this.createEvent("onEndStateClicked"),this.onCloseClicked=this.createEvent("onCloseClicked"),this.onSearchTextChanged=this.createEvent("onSearchTextChanged"),this.onSearchTextCleared=this.createEvent("onSearchTextCleared")}render(A,z){const re=this.htmlTemplate`<ul class="resultViewMenuComponent">
                <li class="resultViewMenuOpen resultViewMenuSmall"><a href="#" role="button">Menu</a></li>

                <li class="searchContainer">
                    <input type="text" placeHolder="Search..." value="${A.searchText}" commandName="onSearchTextChanged" commandEventBinding="change">
                    <a class="clearSearch" stoppropagation="true" CommandName="onSearchTextCleared">X</a>
                </li>
                <li><a class="${A.status===0?"active":""} href="#" role="button" commandName="onCapturesClicked">Captures</a></li>
                <li><a class="${A.status===10?"active":""} href="#" role="button" commandName="onInformationClicked">Information</a></li>
                <li><a class="${A.status===20?"active":""} href="#" role="button" commandName="onInitStateClicked">Init State</a></li>
                <li>
                    <a class="${A.status===40?"active":""} href="#" role="button" commandName="onCommandsClicked">
                        Commands${A.commandCount>0?" ("+A.commandCount+")":""}
                    </a>
                </li>
                <li><a class="${A.status===30?"active":""} href="#" role="button" commandName="onEndStateClicked">End State</a></li>
                <li><a role="button" commandName="onCloseClicked" stoppropagation="true">Close</a></li>
            </ul>`,te=this.renderElementFromTemplate(re,A,z),Ae=te.querySelector(".resultViewMenuOpen"),ke=te.querySelectorAll("li:not(.resultViewMenuSmall)");return Ae.addEventListener("click",(P=>{if(Ae.getAttribute("open")==="true"){Ae.setAttribute("open","false");for(let G=0;G<ke.length;G++)ke[G].style.display="none",ke[G].style.visibility="hidden"}else{Ae.setAttribute("open","true");for(let G=0;G<ke.length;G++)ke[G].style.display="block",ke[G].style.visibility="visible"}})),te}}class So extends zn{render(A,z){return this.renderElementFromTemplate('<div childrenContainer="true" class="resultViewContentComponent"></div>',A,z)}}class wo extends zn{render(A,z){const re=this.htmlTemplate`
            <div childrenContainer="true" class="resultViewComponent ${A?"active":""}">
            </div>`;return this.renderElementFromTemplate(re,A,z)}}var ia=o(29),Es=o.n(ia);class Hr extends zn{constructor(){super(),this.onTranslatedVertexSourceClicked=this.createEvent("onTranslatedVertexSourceClicked"),this.onTranslatedFragmentSourceClicked=this.createEvent("onTranslatedFragmentSourceClicked"),this.onVertexSourceClicked=this.createEvent("onVertexSourceClicked"),this.onFragmentSourceClicked=this.createEvent("onFragmentSourceClicked"),this.onSourceCodeCloseClicked=this.createEvent("onSourceCodeCloseClicked"),this.onSourceCodeChanged=this.createEvent("onSourceCodeChanged"),this.onBeautifyChanged=this.createEvent("onBeautifyChanged"),this.onPreprocessChanged=this.createEvent("onPreprocessChanged")}showError(A){if(!this.editor)return;const z=[];if(A=A||""){const re=/^.*ERROR:\W([0-9]+):([0-9]+):(.*)$/gm;let te=re.exec(A);for(;te!=null;)z.push({row:+te[2]-1,column:te[1],text:te[3]||"Error",type:"error"}),te=re.exec(A)}this.editor.getSession().setAnnotations(z)}render(A,z){const re=A.fragment?A.sourceFragment:A.sourceVertex;let te,Ae=A.preprocessed;A.translated?(te=A.fragment?A.translatedSourceFragment:A.translatedSourceVertex,Ae=!1):te=re??"";let ke=te;if(Ae)try{ke=Es()(ke,{preserveComments:!1,stopOnError:!0})}catch(se){f.error("shader preprocess failed",se)}A.beautify&&(ke=this._indentIfdef(this._beautify(ke)));const P=this.htmlTemplate`
        <div class="sourceCodeComponentContainer">
            <div class="sourceCodeMenuComponentContainer">
                <ul class="sourceCodeMenuComponent">
                    $${A.translatedSourceVertex?this.htmlTemplate`<li><a class="${!A.fragment&&A.translated?"active":""}" href="#" role="button" commandName="onTranslatedVertexSourceClicked">Translated Vertex</a></li>`:""}
                    $${A.translatedSourceFragment?this.htmlTemplate`<li><a class="${A.fragment&&A.translated?"active":""}" href="#" role="button" commandName="onTranslatedFragmentSourceClicked">Translated Fragment</a></li>`:""}
                    <li><a class="${A.fragment||A.translated?"":"active"}" href="#" role="button" commandName="onVertexSourceClicked">Vertex</a></li>
                    <li><a class="${A.fragment&&!A.translated?"active":""}" href="#" role="button" commandName="onFragmentSourceClicked">Fragment</a></li>
                    <li><a href="#" role="button" commandName="onSourceCodeCloseClicked">Close</a></li>
                </ul>
            </div>
            $${this.htmlTemplate`<div class="sourceCodeComponent">${ke}</div>`}
            <div class="sourceCodeMenuComponentFooter">
                <p>
                    <label><input type="checkbox" commandName="onBeautifyChanged" ${A.beautify?"checked":""} /> Beautify</label>
                    <label><input type="checkbox" commandName="onPreprocessChanged" ${A.preprocessed?"checked":""} /> Preprocess</label>
                </p>
            </div>
        </div>`,G=this.renderElementFromTemplate(P.replace(/<br>/g,`
`),A,z);this.editor=ace.edit(G.querySelector(".sourceCodeComponent")),this.editor.setTheme("ace/theme/monokai"),this.editor.getSession().setMode("ace/mode/glsl"),this.editor.setShowPrintMargin(!1);let Y=-1;return this.editor.setReadOnly(!A.editable&&!A.translated),this.editor.getSession().on("change",(se=>{Y!==-1&&clearTimeout(Y),Y=setTimeout((()=>{this._triggerCompilation(this.editor,A,G,z)}),1500)})),G}_triggerCompilation(A,z,re,te){z.fragment?z.sourceFragment=A.getValue():z.sourceVertex=A.getValue(),this.triggerEvent("onSourceCodeChanged",re,z,te)}_beautify(A,z=0){let re="";for(let Y=0;Y<z;Y++)re+="    ";const te=A;if((A=A.trim())[0]==="#"){const Y=te.indexOf("#"),se=te.indexOf(`
`);let de="";se!==-1&&se<Y&&(de=re+`
`);const le=A.indexOf(`
`),Se=le!==-1?le:A.length,je=A.substr(0,Se),ze=A.substr(Se+1);return de+re+je+`
`+this._beautify(ze,z)}A=this._adaptComments(A);const Ae=this._getBracket(A),ke=Ae.firstIteration,P=Ae.lastIteration;let G;if(ke===-1)G=A=(A=(A=(A=(A=(A=(A=(A=re+A).replace(/;(?![^\(]*\))\s*(\/\/.*)?/g,(Y=>Y.trim()+`
`))).replace(/\s*([*+-/=><\s]*=)\s*/g,(Y=>" "+Y.trim()+" "))).replace(/\s*(,)\s*/g,(Y=>Y.trim()+" "))).replace(/\n[ \t]+/g,`
`)).replace(/\n/g,`
`+re)).replace(/\s+$/g,"")).replace(/\n+$/g,"");else{const Y=A.substr(0,ke).trim(),se=A.substr(P+1,A.length).trim(),de=A.substr(ke+1,P-ke-1).trim();G=(Y===""?re+"{":this._beautify(Y,z)+` {
`)+this._beautify(de,z+1)+`
`+re+`}
`+this._beautify(se,z),G=G.replace(/\s*\n+\s*;/g,";")}return G=G.replace(Hr.semicolonReplacementKeyRegex,";"),G=G.replace(Hr.openCurlyReplacementKeyRegex,"{"),G=G.replace(Hr.closeCurlyReplacementKeyRegex,"}"),G}_adaptComments(A){let z=!1,re=!1;for(let te=0;te<A.length;te++){const Ae=A[te];Ae==="/"?A[te-1]==="*"?re=!1:A[te+1]==="*"?z||(re=!0,te++):A[te+1]==="/"&&(re||(z=!0,te++)):Ae===`
`?z=!1:Ae===";"?(z||re)&&(A=A.substr(0,te)+Hr.semicolonReplacementKey+A.substr(te+1)):Ae==="{"?(z||re)&&(A=A.substr(0,te)+Hr.openCurlyReplacementKey+A.substr(te+1)):Ae==="}"&&(z||re)&&(A=A.substr(0,te)+Hr.closeCurlyReplacementKey+A.substr(te+1))}return A}_getBracket(A,z=-1){const re=A.indexOf("{",z),te=A.substr(re+1).split("");let Ae=1,ke=re,P=0;for(const G of te)if(ke++,G==="{"&&Ae++,G==="}"&&Ae--,Ae===0){P=ke;break}return re>-1&&P===0?this._getBracket(A,re+1):{firstIteration:re,lastIteration:P}}_indentIfdef(A){let z=0;const re=A.split(`
`);for(let te=0;te<re.length;te++){const Ae=re[te];Ae.indexOf("#endif")!==-1&&z--,Ae.indexOf("#else")!==-1&&z--;let ke="";for(let P=0;P<z;P++)ke+="    ";re[te]=ke+Ae,Ae.indexOf("#if")===-1&&Ae.indexOf("#else")===-1||z++}return re.join(`
`)}}Hr.semicolonReplacementKey="[[[semicolonReplacementKey]]]",Hr.semicolonReplacementKeyRegex=new RegExp("\\[\\[\\[semicolonReplacementKey\\]\\]\\]","g"),Hr.openCurlyReplacementKey="[[[openCurlyReplacementKey]]]",Hr.openCurlyReplacementKeyRegex=new RegExp("\\[\\[\\[openCurlyReplacementKey\\]\\]\\]","g"),Hr.closeCurlyReplacementKey="[[[closeCurlyReplacementKey]]]",Hr.closeCurlyReplacementKeyRegex=new RegExp("\\[\\[\\[closeCurlyReplacementKey\\]\\]\\]","g");class Xr extends zn{render(A,z){const re=this.htmlTemplate`
                <div childrenContainer="true" class="${A?"informationColumnLeftComponent":"informationColumnRightComponent"}"></div>`;return this.renderElementFromTemplate(re,A,z)}}class fr{static getMDNLink(A){const z=fr.WebGL2Functions[A];if(z)return fr.WebGL2RootUrl+z;const re=fr.WebGLFunctions[A];if(re)return fr.WebGLRootUrl+re;const te=fr.AngleInstancedArraysExtFunctions[A];return te?fr.AngleInstancedArraysExtRootUrl+te:fr.WebGLRootUrl+A}}fr.WebGL2RootUrl="https://developer.mozilla.org/en-US/docs/Web/API/WebGL2RenderingContext/",fr.WebGLRootUrl="https://developer.mozilla.org/en-US/docs/Web/API/WebGLRenderingContext/",fr.AngleInstancedArraysExtRootUrl="https://developer.mozilla.org/en-US/docs/Web/API/ANGLE_instanced_arrays/",fr.WebGL2Functions={beginQuery:"beginQuery",beginTransformFeedback:"beginTransformFeedback",bindBufferBase:"bindBufferBase",bindBufferRange:"bindBufferRange",bindSampler:"bindSampler",bindTransformFeedback:"bindTransformFeedback",bindVertexArray:"bindVertexArray",blitFramebuffer:"blitFramebuffer",clearBufferfv:"clearBuffer",clearBufferiv:"clearBuffer",clearBufferuiv:"clearBuffer",clearBufferfi:"clearBuffer",clientWaitSync:"clientWaitSync",compressedTexImage3D:"compressedTexImage3D",compressedTexSubImage3D:"compressedTexSubImage3D",copyBufferSubData:"copyBufferSubData",copyTexSubImage3D:"copyTexSubImage3D",createQuery:"createQuery",createSampler:"createSampler",createTransformFeedback:"createTransformFeedback",createVertexArray:"createVertexArray",deleteQuery:"deleteQuery",deleteSampler:"deleteSampler",deleteSync:"deleteSync",deleteTransformFeedback:"deleteTransformFeedback",deleteVertexArray:"deleteVertexArray",drawArraysInstanced:"drawArraysInstanced",drawBuffers:"drawBuffers",drawElementsInstanced:"drawElementsInstanced",drawRangeElements:"drawRangeElements",endQuery:"endQuery",endTransformFeedback:"endTransformFeedback",fenceSync:"fenceSync",framebufferTextureLayer:"framebufferTextureLayer",getActiveUniformBlockName:"getActiveUniformBlockName",getActiveUniformBlockParameter:"getActiveUniformBlockParameter",getActiveUniforms:"getActiveUniforms",getBufferSubData:"getBufferSubData",getFragDataLocation:"getFragDataLocation",getIndexedParameter:"getIndexedParameter",getInternalformatParameter:"getInternalformatParameter",getQuery:"getQuery",getQueryParameter:"getQueryParameter",getSamplerParameter:"getSamplerParameter",getSyncParameter:"getSyncParameter",getTransformFeedbackVarying:"getTransformFeedbackVarying",getUniformBlockIndex:"getUniformBlockIndex",getUniformIndices:"getUniformIndices",invalidateFramebuffer:"invalidateFramebuffer",invalidateSubFramebuffer:"invalidateSubFramebuffer",isQuery:"isQuery",isSampler:"isSampler",isSync:"isSync",isTransformFeedback:"isTransformFeedback",isVertexArray:"isVertexArray",pauseTransformFeedback:"pauseTransformFeedback",readBuffer:"readBuffer",renderbufferStorageMultisample:"renderbufferStorageMultisample",resumeTransformFeedback:"resumeTransformFeedback",samplerParameteri:"samplerParameter",samplerParameterf:"samplerParameter",texImage3D:"texImage3D",texStorage2D:"texStorage2D",texStorage3D:"texStorage3D",texSubImage3D:"texSubImage3D",transformFeedbackVaryings:"transformFeedbackVaryings",uniform1ui:"uniform",uniform2ui:"uniform",uniform3ui:"uniform",uniform4ui:"uniform",uniform1fv:"uniform",uniform2fv:"uniform",uniform3fv:"uniform",uniform4fv:"uniform",uniform1iv:"uniform",uniform2iv:"uniform",uniform3iv:"uniform",uniform4iv:"uniform",uniform1uiv:"uniform",uniform2uiv:"uniform",uniform3uiv:"uniform",uniform4uiv:"uniform",uniformBlockBinding:"uniformBlockBinding",uniformMatrix2fv:"uniformMatrix",uniformMatrix3x2fv:"uniformMatrix",uniformMatrix4x2fv:"uniformMatrix",uniformMatrix2x3fv:"uniformMatrix",uniformMatrix3fv:"uniformMatrix",uniformMatrix4x3fv:"uniformMatrix",uniformMatrix2x4fv:"uniformMatrix",uniformMatrix3x4fv:"uniformMatrix",uniformMatrix4fv:"uniformMatrix",vertexAttribDivisor:"vertexAttribDivisor",vertexAttribI4i:"vertexAttribI",vertexAttribI4ui:"vertexAttribI",vertexAttribI4iv:"vertexAttribI",vertexAttribI4uiv:"vertexAttribI",vertexAttribIPointer:"vertexAttribIPointer",waitSync:"waitSync"},fr.WebGLFunctions={uniform1f:"uniform",uniform1fv:"uniform",uniform1i:"uniform",uniform1iv:"uniform",uniform2f:"uniform",uniform2fv:"uniform",uniform2i:"uniform",uniform2iv:"uniform",uniform3f:"uniform",uniform3i:"uniform",uniform3iv:"uniform",uniform4f:"uniform",uniform4fv:"uniform",uniform4i:"uniform",uniform4iv:"uniform",uniformMatrix2fv:"uniformMatrix",uniformMatrix3fv:"uniformMatrix",uniformMatrix4fv:"uniformMatrix",vertexAttrib1f:"vertexAttrib",vertexAttrib2f:"vertexAttrib",vertexAttrib3f:"vertexAttrib",vertexAttrib4f:"vertexAttrib",vertexAttrib1fv:"vertexAttrib",vertexAttrib2fv:"vertexAttrib",vertexAttrib3fv:"vertexAttrib",vertexAttrib4fv:"vertexAttrib"},fr.AngleInstancedArraysExtFunctions={drawArraysInstancedANGLE:"drawArraysInstancedANGLE",drawElementsInstancedANGLE:"drawElementsInstancedANGLE",vertexAttribDivisorANGLE:"vertexAttribDivisorANGLE"};class ss{constructor(A=null){this.rootPlaceHolder=A,this.onSourceCodeChanged=new h,this.rootPlaceHolder=this.rootPlaceHolder||document.body,this.mvx=new gi(this.rootPlaceHolder),this.searchText="",this.currentCommandId=-1,this.visible=!1,this.commandCount=0,this.commandListStateId=-1,this.commandDetailStateId=-1,this.currentCaptureStateId=-1,this.currentCommandStateId=-1,this.currentVisualStateId=-1,this.visualStateListStateId=-1,this.initVisualStateId=-1,this.sourceCodeComponentStateId=-1,this.captureListComponent=new ro,this.captureListItemComponent=new Ss,this.visualStateListComponent=new _a,this.visualStateListItemComponent=new ws,this.commandListComponent=new ja,this.commandListItemComponent=new na,this.commandDetailComponent=new La,this.jsonContentComponent=new Xa,this.jsonGroupComponent=new Pa,this.jsonItemComponent=new Qs,this.jsonImageItemComponent=new so,this.jsonHelpItemComponent=new da,this.jsonVisualStateItemComponent=new hs,this.resultViewMenuComponent=new ko,this.resultViewContentComponent=new So,this.resultViewComponent=new wo,this.sourceCodeComponent=new Hr,this.informationColumnComponent=new Xr,this.rootStateId=this.mvx.addRootState(null,this.resultViewComponent),this.menuStateId=this.mvx.addChildState(this.rootStateId,null,this.resultViewMenuComponent),this.contentStateId=this.mvx.addChildState(this.rootStateId,null,this.resultViewContentComponent),this.captureListStateId=this.mvx.addChildState(this.rootStateId,!1,this.captureListComponent),this.initKeyboardEvents(),this.initMenuComponent(),this.captureListComponent.onCaptureLoaded.add((z=>{this.addCapture(z)})),this.captureListItemComponent.onCaptureSelected.add((z=>{this.selectCapture(z.stateId)})),this.captureListItemComponent.onSaveRequested.add((z=>{this.saveCapture(z.state.capture)})),this.visualStateListItemComponent.onVisualStateSelected.add((z=>{this.selectVisualState(z.stateId)})),this.commandListItemComponent.onCommandSelected.add((z=>{this.selectCommand(z.stateId)})),this.commandListItemComponent.onVertexSelected.add((z=>{this.selectCommand(z.stateId),this.openShader(!1)})),this.commandListItemComponent.onFragmentSelected.add((z=>{this.selectCommand(z.stateId),this.openShader(!0)})),this.sourceCodeComponent.onSourceCodeCloseClicked.add((()=>{this.displayCurrentCapture()})),this.sourceCodeComponent.onTranslatedVertexSourceClicked.add((z=>{const re=this.mvx.getGenericState(this.sourceCodeComponentStateId);re.fragment=!1,re.translated=!0,this.mvx.updateState(this.sourceCodeComponentStateId,re)})),this.sourceCodeComponent.onTranslatedFragmentSourceClicked.add((z=>{const re=this.mvx.getGenericState(this.sourceCodeComponentStateId);re.fragment=!0,re.translated=!0,this.mvx.updateState(this.sourceCodeComponentStateId,re)})),this.sourceCodeComponent.onVertexSourceClicked.add((z=>{const re=this.mvx.getGenericState(this.sourceCodeComponentStateId);re.fragment=!1,re.translated=!1,this.mvx.updateState(this.sourceCodeComponentStateId,re)})),this.sourceCodeComponent.onFragmentSourceClicked.add((z=>{const re=this.mvx.getGenericState(this.sourceCodeComponentStateId);re.fragment=!0,re.translated=!1,this.mvx.updateState(this.sourceCodeComponentStateId,re)})),this.sourceCodeComponent.onSourceCodeChanged.add((z=>{this.onSourceCodeChanged.trigger({programId:z.state.programId,sourceFragment:z.state.sourceFragment,sourceVertex:z.state.sourceVertex,translatedSourceFragment:z.state.translatedSourceFragment,translatedSourceVertex:z.state.translatedSourceVertex})})),this.sourceCodeComponent.onBeautifyChanged.add((z=>{const re=this.mvx.getGenericState(this.sourceCodeComponentStateId);re.beautify=z.sender.checked,this.mvx.updateState(this.sourceCodeComponentStateId,re)})),this.sourceCodeComponent.onPreprocessChanged.add((z=>{const re=this.mvx.getGenericState(this.sourceCodeComponentStateId);re.preprocessed=z.sender.checked,this.mvx.updateState(this.sourceCodeComponentStateId,re)})),this.updateViewState()}saveCapture(A){const z=JSON.stringify(A,null,4),re=new Blob([z],{type:"octet/stream"}),te="capture "+new Date(A.startTime).toTimeString().split(" ")[0]+".json";if(navigator.msSaveBlob)navigator.msSaveBlob(re,te);else{const Ae=document.createElement("a"),ke=window.URL.createObjectURL(re);Ae.setAttribute("href",ke),Ae.setAttribute("download",te),Ae.click()}}selectCapture(A){this.currentCommandId=-1,this.currentCaptureStateId=A,this.displayCurrentCapture()}selectCommand(A){this.currentCommandStateId=A,this.currentVisualStateId=this.displayCurrentCommand(),this.displayCurrentVisualState()}selectVisualState(A){this.currentVisualStateId=A,this.currentCommandStateId=this.displayCurrentVisualState(),this.displayCurrentCommand()}display(){this.visible=!0,this.updateViewState()}hide(){this.visible=!1,this.updateViewState()}addCapture(A){const z=this.mvx.insertChildState(this.captureListStateId,{capture:A,active:!1},0,this.captureListItemComponent);return this.selectCapture(z),z}showSourceCodeError(A){this.sourceCodeComponent.showError(A)}initKeyboardEvents(){this.rootPlaceHolder.addEventListener("keydown",(A=>{this.mvx.getGenericState(this.menuStateId).status===40&&(A.keyCode===38?(A.preventDefault(),A.stopPropagation(),this.selectPreviousCommand()):A.keyCode===40?(A.preventDefault(),A.stopPropagation(),this.selectNextCommand()):A.keyCode===33?(A.preventDefault(),A.stopPropagation(),this.selectPreviousVisualState()):A.keyCode===34&&(A.preventDefault(),A.stopPropagation(),this.selectNextVisualState()))}))}openShader(A){this.mvx.removeChildrenStates(this.contentStateId);const z=this.mvx.getGenericState(this.currentCommandStateId);this.sourceCodeComponentStateId=this.mvx.addChildState(this.contentStateId,{programId:z.capture.DrawCall.programStatus.program.__SPECTOR_Object_TAG.id,nameVertex:z.capture.DrawCall.shaders[0].name,nameFragment:z.capture.DrawCall.shaders[1].name,sourceVertex:z.capture.DrawCall.shaders[0].source,sourceFragment:z.capture.DrawCall.shaders[1].source,translatedSourceVertex:z.capture.DrawCall.shaders[0].translatedSource,translatedSourceFragment:z.capture.DrawCall.shaders[1].translatedSource,fragment:A,translated:!1,editable:z.capture.DrawCall.programStatus.RECOMPILABLE,beautify:!0},this.sourceCodeComponent),this.commandDetailStateId=this.mvx.addChildState(this.contentStateId,null,this.commandDetailComponent),this.displayCurrentCommandDetail(z)}selectPreviousCommand(){const A=this.mvx.getGenericState(this.currentCommandStateId);A.previousCommandStateId<0||this.selectCommand(A.previousCommandStateId)}selectNextCommand(){const A=this.mvx.getGenericState(this.currentCommandStateId);A.nextCommandStateId<0||this.selectCommand(A.nextCommandStateId)}selectPreviousVisualState(){const A=this.mvx.getGenericState(this.currentVisualStateId);A.previousVisualStateId<0||this.selectVisualState(A.previousVisualStateId)}selectNextVisualState(){const A=this.mvx.getGenericState(this.currentVisualStateId);A.nextVisualStateId<0||this.selectVisualState(A.nextVisualStateId)}initMenuComponent(){this.mvx.updateState(this.menuStateId,{status:0,searchText:this.searchText,commandCount:0}),this.resultViewMenuComponent.onCloseClicked.add((A=>{this.hide()})),this.resultViewMenuComponent.onCapturesClicked.add((A=>{this.displayCaptures()})),this.resultViewMenuComponent.onCommandsClicked.add((A=>{this.displayCurrentCapture()})),this.resultViewMenuComponent.onInformationClicked.add((A=>{this.displayInformation()})),this.resultViewMenuComponent.onInitStateClicked.add((A=>{this.displayInitState()})),this.resultViewMenuComponent.onEndStateClicked.add((A=>{this.displayEndState()})),this.resultViewMenuComponent.onSearchTextChanged.add((A=>{this.search(A.sender.value)})),this.resultViewMenuComponent.onSearchTextCleared.add((A=>{this.mvx.updateState(this.menuStateId,{status:A.state.status,searchText:"",commandCount:A.state.commandCount}),this.search("")}))}onCaptureRelatedAction(A){const z=this.mvx.getGenericState(this.currentCaptureStateId);return this.commandCount=z.capture.commands.length,this.mvx.removeChildrenStates(this.contentStateId),this.mvx.updateState(this.menuStateId,{status:A,searchText:this.searchText,commandCount:this.commandCount}),this.mvx.getGenericState(this.captureListStateId)&&this.mvx.updateState(this.captureListStateId,!1),z.capture}displayCaptures(){this.mvx.updateState(this.menuStateId,{status:0,searchText:this.searchText,commandCount:this.commandCount}),this.mvx.updateState(this.captureListStateId,!0)}displayInformation(){const A=this.onCaptureRelatedAction(10),z=this.mvx.addChildState(this.contentStateId,!0,this.informationColumnComponent),re=this.mvx.addChildState(this.contentStateId,!1,this.informationColumnComponent),te=this.mvx.addChildState(z,null,this.jsonContentComponent);this.displayJSONGroup(te,"Canvas",A.canvas),this.displayJSONGroup(te,"Context",A.context);const Ae=this.mvx.addChildState(re,null,this.jsonContentComponent);for(const ke of A.analyses)ke.analyserName==="Primitives"?this.displayJSONGroup(Ae,"Vertices count",ke):this.displayJSONGroup(Ae,ke.analyserName,ke);this.displayJSONGroup(Ae,"Frame Memory Changes",A.frameMemory),this.displayJSONGroup(Ae,"Total Memory (seconds since application start: bytes)",A.memory)}displayJSON(A,z){z.VisualState&&this.mvx.addChildState(A,z.VisualState,this.jsonVisualStateItemComponent);for(const re in z){if(re==="VisualState"||re==="analyserName"||re==="source"||re==="translatedSource")continue;const te=z[re];if(re==="visual")for(const Ae in te)te.hasOwnProperty(Ae)&&te[Ae]&&this.mvx.addChildState(A,{key:Ae,value:te[Ae],pixelated:z.samplerMagFilter==="NEAREST"||z.magFilter==="NEAREST"},this.jsonImageItemComponent);else{const Ae=this.getJSONAsString(A,re,te);if(Ae==null||this.toFilter(re)&&this.toFilter(te))continue;this.mvx.addChildState(A,{key:re,value:Ae},this.jsonItemComponent)}te&&te.__SPECTOR_Metadata&&this.displayJSONGroup(A,"Metadata",te.__SPECTOR_Metadata)}}getJSONAsString(A,z,re){if(re===null)return"null";if(re===void 0)return"undefined";if(typeof re=="number")return Math.floor(re)===re?re.toFixed(0):re.toFixed(4);if(typeof re=="string")return re;if(typeof re=="boolean")return re?"true":"false";if(re.length===0)return"Empty Array";if(re.length){const te=[];for(let Ae=0;Ae<re.length;Ae++){const ke=this.getJSONAsString(A,`${z}(${Ae.toFixed(0)})`,re[Ae]);ke!==null&&te.push(ke)}return te.length===0?null:te.join(", ")}return re.help?(this.mvx.addChildState(A,{key:z,value:re.name,help:re.help},this.jsonHelpItemComponent),null):re.__SPECTOR_Object_TAG?re.__SPECTOR_Object_TAG.displayText:re.displayText?re.displayText:(typeof re=="object"&&this.displayJSONGroup(A,z,re),null)}displayJSONGroup(A,z,re){if(!re)return;const te=this.mvx.addChildState(A,z,this.jsonGroupComponent);this.displayJSON(te,re),this.mvx.hasChildren(te)||this.mvx.removeState(te)}displayInitState(){const A=this.onCaptureRelatedAction(20),z=this.mvx.addChildState(this.contentStateId,null,this.jsonContentComponent);this.displayJSON(z,A.initState)}displayEndState(){const A=this.onCaptureRelatedAction(30),z=this.mvx.addChildState(this.contentStateId,null,this.jsonContentComponent);this.displayJSON(z,A.endState)}displayCurrentCapture(){const A=this.onCaptureRelatedAction(40);this.mvx.updateAllChildrenGenericState(this.captureListStateId,(z=>(z.active=!1,z))),this.mvx.updateState(this.currentCaptureStateId,{capture:A,active:!0}),this.createVisualStates(A),this.commandListStateId=this.mvx.addChildState(this.contentStateId,null,this.commandListComponent),this.commandDetailStateId=this.mvx.addChildState(this.contentStateId,null,this.commandDetailComponent),this.createCommands(A)}displayCurrentCommand(){if(this.mvx.getGenericState(this.menuStateId).status!==40)return-1;const A=this.mvx.getGenericState(this.currentCommandStateId),z=A.capture;return this.currentCommandId=z.id,this.mvx.updateAllChildrenGenericState(this.commandListStateId,(re=>(re.active=!1,re))),this.mvx.updateState(this.currentCommandStateId,{capture:z,visualStateId:A.visualStateId,previousCommandStateId:A.previousCommandStateId,nextCommandStateId:A.nextCommandStateId,active:!0}),this.displayCurrentCommandDetail(A)}displayCurrentCommandDetail(A){const z=A.capture;this.mvx.removeChildrenStates(this.commandDetailStateId);const re=this.mvx.getGenericState(A.visualStateId);this.mvx.addChildState(this.commandDetailStateId,re.VisualState,this.jsonVisualStateItemComponent);let te="Unknown";switch(z.status){case 50:te="Deprecated";break;case 10:te="Unused";break;case 20:te="Disabled";break;case 30:te="Redundant";break;case 40:te="Valid"}const Ae=fr.getMDNLink(z.name);z.result?this.displayJSONGroup(this.commandDetailStateId,"Global",{name:{help:Ae,name:z.name},duration:z.commandEndTime-z.startTime,result:z.result,status:te}):z.name!=="LOG"&&this.displayJSONGroup(this.commandDetailStateId,"Global",{name:{help:Ae,name:z.name},duration:z.commandEndTime-z.startTime,status:te});for(const ke in z)ke!=="VisualState"&&ke!=="result"&&typeof z[ke]=="object"&&this.displayJSONGroup(this.commandDetailStateId,ke,z[ke]);return A.visualStateId}displayCurrentVisualState(){if(this.mvx.getGenericState(this.menuStateId).status!==40)return null;const A=this.mvx.getGenericState(this.currentVisualStateId);return A.commandStateId===Number.MIN_VALUE?this.displayInitState():A.commandStateId===Number.MAX_VALUE&&this.displayEndState(),this.mvx.updateAllChildrenGenericState(this.visualStateListStateId,(z=>(z.active=!1,z))),A.active=!0,this.mvx.updateState(this.currentVisualStateId,A),A.commandStateId}createVisualStates(A){this.visualStateListStateId=this.mvx.addChildState(this.contentStateId,null,this.visualStateListComponent),this.mvx.removeChildrenStates(this.visualStateListStateId),this.initVisualStateId=this.mvx.addChildState(this.visualStateListStateId,{VisualState:A.initState.VisualState,time:A.startTime,commandStateId:Number.MIN_VALUE,active:!1},this.visualStateListItemComponent)}createCommands(A){this.mvx.removeChildrenStates(this.commandListStateId);let z=this.initVisualStateId,re=!1,te=null,Ae=-1,ke=null,P=-1;for(let G=0;G<A.commands.length;G++){const Y=A.commands[G];if(this.toFilter(Y.marker)&&this.toFilter(Y.name)&&Y.id!==this.currentCommandId&&(Y.name!=="LOG"||this.toFilter(Y.text)))continue;const se={capture:Y,previousCommandStateId:Ae,nextCommandStateId:-1,visualStateId:void 0,active:!1},de=this.mvx.addChildState(this.commandListStateId,se,this.commandListItemComponent);if(te&&(te=this.mvx.getGenericState(Ae),te.nextCommandStateId=de,this.mvx.updateState(Ae,te)),Ae=de,te=se,Y.VisualState){const le={VisualState:Y.VisualState,time:Y.endTime,commandStateId:de,active:!1,previousVisualStateId:P,nextVisualStateId:-1};z=this.mvx.addChildState(this.visualStateListStateId,le,this.visualStateListItemComponent),ke&&(ke=this.mvx.getGenericState(P),ke.nextVisualStateId=z,this.mvx.updateState(P,ke)),ke=le,P=z,re=!0}else if(!re){const le=this.mvx.getGenericState(this.initVisualStateId);le.commandStateId=de,le.previousVisualStateId=-1,le.nextVisualStateId=-1,this.mvx.updateState(this.initVisualStateId,le),ke=le,P=z,re=!0}se.visualStateId=z,this.mvx.updateState(de,se),(this.currentCommandId===-1&&G===0||this.currentCommandId===Y.id)&&(this.currentCommandStateId=de,this.displayCurrentCommand(),this.currentVisualStateId=z,this.displayCurrentVisualState())}}updateViewState(){this.mvx.updateState(this.rootStateId,this.visible)}toFilter(A){return A=(A+="").toLowerCase(),!!(this.searchText&&this.searchText.length>2&&A.indexOf(this.searchText.toLowerCase())===-1)}search(A){switch(this.searchText=A,this.mvx.getGenericState(this.menuStateId).status){case 0:case 40:this.displayCurrentCapture();break;case 30:this.displayEndState();break;case 10:this.displayInformation();break;case 20:this.displayInitState()}this.searchText=""}}class ba{constructor(A){this.timeSpy=A,this.init()}spyXRSession(A){this.currentXRSession&&this.unspyXRSession();for(const z of Pt.getRequestAnimationFrameFunctionNames())M.resetOriginFunction(this.timeSpy.getSpiedScope(),z);this.timeSpy.spyRequestAnimationFrame("requestAnimationFrame",A),this.currentXRSession=A}unspyXRSession(){if(this.currentXRSession){M.resetOriginFunction(this.currentXRSession,"requestAnimationFrame"),this.currentXRSession=void 0;for(const A of Pt.getRequestAnimationFrameFunctionNames())this.timeSpy.spyRequestAnimationFrame(A,this.timeSpy.getSpiedScope())}}init(){if(!navigator.xr)return;class A extends XRWebGLLayer{constructor(Ae,ke,P){super(Ae,ke,P),this.glContext=ke}getContext(){return this.glContext}}class z extends XRWebGLBinding{constructor(Ae,ke){super(Ae,ke),this.glContext=ke}createProjectionLayer(Ae){const ke=super.createProjectionLayer(Ae);return ke.glContext=this.glContext,ke}}window.XRWebGLLayer=A,window.XRWebGLBinding=z;const re=navigator.xr.requestSession;Object.defineProperty(navigator.xr,"requestSessionInternal",{writable:!0}),navigator.xr.requestSessionInternal=re,Object.defineProperty(navigator.xr,"requestSession",{writable:!0}),navigator.xr.requestSession=(te,Ae)=>((ke,P)=>navigator.xr.requestSessionInternal(ke,P).then((G=>{const Y=G;return Y._updateRenderState=G.updateRenderState,Y.updateRenderState=se=>{return de=this,le=void 0,je=function*(){if(se.baseLayer){const ze=se.baseLayer;Y.glContext=ze.getContext()}if(se.layers)for(const ze of se.layers){const dt=ze;dt.glContext&&(Y.glContext=dt.glContext)}return Y._updateRenderState(se)},new((Se=void 0)||(Se=Promise))((function(ze,dt){function $t(yn){try{It(je.next(yn))}catch(hi){dt(hi)}}function rn(yn){try{It(je.throw(yn))}catch(hi){dt(hi)}}function It(yn){var hi;yn.done?ze(yn.value):(hi=yn.value,hi instanceof Se?hi:new Se((function(Ee){Ee(hi)}))).then($t,rn)}It((je=je.apply(de,le||[])).next())}));var de,le,Se,je},this.spyXRSession(Y),G.addEventListener("end",(()=>{this.unspyXRSession()})),Promise.resolve(G)})))(te,Ae)}}const Ia={CaptureMenu:Nr,ResultView:ss};class Ls{constructor(A={}){this.noFrameTimeout=-1,this.options=Object.assign({enableXRCapture:!1},A),this.captureNextFrames=0,this.captureNextCommands=0,this.quickCapture=!1,this.fullCapture=!1,this.retry=0,this.contexts=[],this.timeSpy=new Pt,this.onCaptureStarted=new h,this.onCapture=new h,this.onError=new h,this.timeSpy.onFrameStart.add(this.onFrameStart,this),this.timeSpy.onFrameEnd.add(this.onFrameEnd,this),this.timeSpy.onError.add(this.onErrorInternal,this),this.options.enableXRCapture&&(this.xrSpy=new ba(this.timeSpy))}static getFirstAvailable3dContext(A){return this.tryGetContextFromHelperField(A)||this.tryGetContextFromCanvas(A,"webgl")||this.tryGetContextFromCanvas(A,"experimental-webgl")||this.tryGetContextFromCanvas(A,"webgl2")||this.tryGetContextFromCanvas(A,"experimental-webgl2")}static tryGetContextFromHelperField(A){const z=A instanceof HTMLCanvasElement?A.getAttribute("__spector_context_type"):A.__spector_context_type;if(z)return this.tryGetContextFromCanvas(A,z)}static tryGetContextFromCanvas(A,z){let re;try{re=A.getContext(z)}catch{}return re}displayUI(A=!1){this.captureMenu||(this.getCaptureUI(),this.captureMenu.onPauseRequested.add(this.pause,this),this.captureMenu.onPlayRequested.add(this.play,this),this.captureMenu.onPlayNextFrameRequested.add(this.playNextFrame,this),this.captureMenu.onCaptureRequested.add((z=>{z&&this.captureCanvas(z.ref)}),this),setInterval((()=>{this.captureMenu.setFPS(this.getFps())}),1e3),A||this.captureMenu.trackPageCanvases(),this.captureMenu.display()),this.resultView||(this.getResultUI(),this.onCapture.add((z=>{this.resultView.display(),this.resultView.addCapture(z)})))}getResultUI(){return this.resultView||(this.resultView=new ss,this.resultView.onSourceCodeChanged.add((A=>{this.rebuildProgramFromProgramId(A.programId,A.sourceVertex,A.sourceFragment,(z=>{this.referenceNewProgram(A.programId,z),this.resultView.showSourceCodeError(null)}),(z=>{this.resultView.showSourceCodeError(z)}))}))),this.resultView}getCaptureUI(){return this.captureMenu||(this.captureMenu=new Nr),this.captureMenu}rebuildProgramFromProgramId(A,z,re,te,Ae){const ke=Ii.getFromGlobalStore(A);this.rebuildProgram(ke,z,re,te,Ae)}rebuildProgram(A,z,re,te,Ae){l.rebuildProgram(A,z,re,te,Ae)}referenceNewProgram(A,z){Ii.updateInGlobalStore(A,z)}pause(){this.timeSpy.changeSpeedRatio(0)}play(){this.timeSpy.changeSpeedRatio(1)}playNextFrame(){this.timeSpy.playNextFrame()}drawOnlyEveryXFrame(A){this.timeSpy.changeSpeedRatio(A)}getFps(){return this.timeSpy.getFps()}spyCanvases(){this.canvasSpy?this.onErrorInternal("Already spying canvas."):(this.canvasSpy=new en,this.canvasSpy.onContextRequested.add(this.spyContext,this))}spyCanvas(A){this.canvasSpy?this.onErrorInternal("Already spying canvas."):(this.canvasSpy=new en(A),this.canvasSpy.onContextRequested.add(this.spyContext,this))}getAvailableContexts(){return this.getAvailableContexts()}captureCanvas(A,z=0,re=!1,te=!1){const Ae=this.getAvailableContextSpyByCanvas(A);if(Ae)this.captureContextSpy(Ae,z,re,te);else{const ke=Ls.getFirstAvailable3dContext(A);ke?this.captureContext(ke,z,re,te):f.error("No webgl context available on the chosen canvas.")}}captureContext(A,z=0,re=!1,te=!1){let Ae=this.getAvailableContextSpyByCanvas(A.canvas);Ae||(Ae=A.getIndexedParameter?new Ct({context:A,version:2,recordAlways:!1}):new Ct({context:A,version:1,recordAlways:!1}),Ae.onMaxCommand.add(this.stopCapture,this),this.contexts.push({canvas:Ae.context.canvas,contextSpy:Ae})),Ae&&this.captureContextSpy(Ae,z,re,te)}captureXRContext(A=0,z=!1,re=!1){this.captureContext(this.getXRContext(),A,z,re)}captureContextSpy(A,z=0,re=!1,te=!1){this.quickCapture=re,this.fullCapture=te,this.capturingContext?this.onErrorInternal("Already capturing a context."):(this.retry=0,this.capturingContext=A,this.capturingContext.setMarker(this.marker),(z=Math.min(z,1e4))>0?this.captureCommands(z):this.captureFrames(1),this.noFrameTimeout=setTimeout((()=>{z>0?this.stopCapture():this.capturingContext&&this.retry>1?this.onErrorInternal("No frames with gl commands detected. Try moving the camera."):this.onErrorInternal("No frames detected. Try moving the camera or implementing requestAnimationFrame.")}),1e4))}captureNextFrame(A,z=!1,re=!1){A instanceof HTMLCanvasElement||self.OffscreenCanvas&&A instanceof OffscreenCanvas?this.captureCanvas(A,0,z,re):this.captureContext(A,0,z,re)}startCapture(A,z,re=!1,te=!1){A instanceof HTMLCanvasElement||self.OffscreenCanvas&&A instanceof OffscreenCanvas?this.captureCanvas(A,z,re,te):this.captureContext(A,z,re,te)}stopCapture(){if(this.capturingContext){const A=this.capturingContext.stopCapture();if(A.commands.length>0)return this.noFrameTimeout>-1&&clearTimeout(this.noFrameTimeout),this.triggerCapture(A),this.capturingContext=void 0,this.captureNextFrames=0,this.captureNextCommands=0,A;this.captureNextCommands===0&&(this.retry++,this.captureFrames(1))}}setMarker(A){this.marker=A,this.capturingContext&&this.capturingContext.setMarker(A)}clearMarker(){this.marker=null,this.capturingContext&&this.capturingContext.clearMarker()}addRequestAnimationFrameFunctionName(A){this.timeSpy.addRequestAnimationFrameFunctionName(A)}setSpiedScope(A){this.timeSpy.setSpiedScope(A)}log(A){this.capturingContext&&this.capturingContext.log(A)}captureFrames(A){this.captureNextFrames=A,this.captureNextCommands=0,this.playNextFrame()}captureCommands(A){this.captureNextFrames=0,this.captureNextCommands=A,this.play(),this.capturingContext?(this.onCaptureStarted.trigger(void 0),this.capturingContext.startCapture(A,this.quickCapture,this.fullCapture)):(this.onErrorInternal("No context to capture from."),this.captureNextCommands=0)}spyContext(A){let z=this.getAvailableContextSpyByCanvas(A.context.canvas);z||(z=new Ct({context:A.context,version:A.contextVersion,recordAlways:!0}),z.onMaxCommand.add(this.stopCapture,this),this.contexts.push({canvas:z.context.canvas,contextSpy:z})),z.spy()}getAvailableContextSpyByCanvas(A){for(const z of this.contexts)if(z.canvas===A)return z.contextSpy}getXRContext(){return this.options.enableXRCapture||f.error("Cannot retrieve WebXR context if capturing WebXR is disabled."),this.xrSpy.currentXRSession||f.error("No currently active WebXR session."),this.xrSpy.currentXRSession.glContext}onFrameStart(){this.captureNextCommands>0||(this.captureNextFrames>0?(this.capturingContext&&(this.onCaptureStarted.trigger(void 0),this.capturingContext.startCapture(0,this.quickCapture,this.fullCapture)),this.captureNextFrames--):this.capturingContext=void 0)}onFrameEnd(){this.captureNextCommands>0||this.captureNextFrames===0&&this.stopCapture()}triggerCapture(A){this.captureMenu&&this.captureMenu.captureComplete(null),this.onCapture.trigger(A)}onErrorInternal(A){if(f.error(A),this.noFrameTimeout>-1&&clearTimeout(this.noFrameTimeout),!this.capturingContext)throw A;this.capturingContext=void 0,this.captureNextFrames=0,this.captureNextCommands=0,this.retry=0,this.captureMenu&&this.captureMenu.captureComplete(A),this.onError.trigger(A)}}},18:(s,a,o)=>{s=o.nmd(s),ace.define("ace/ext/searchbox",["require","exports","module","ace/lib/dom","ace/lib/lang","ace/lib/event","ace/keyboard/hash_handler","ace/lib/keys"],(function(l,c,f){var h=l("../lib/dom"),v=l("../lib/lang"),m=l("../lib/event"),_='.ace_search {background-color: #ddd;color: #666;border: 1px solid #cbcbcb;border-top: 0 none;overflow: hidden;margin: 0;padding: 4px 6px 0 4px;position: absolute;top: 0;z-index: 99;white-space: normal;}.ace_search.left {border-left: 0 none;border-radius: 0px 0px 5px 0px;left: 0;}.ace_search.right {border-radius: 0px 0px 0px 5px;border-right: 0 none;right: 0;}.ace_search_form, .ace_replace_form {margin: 0 20px 4px 0;overflow: hidden;line-height: 1.9;}.ace_replace_form {margin-right: 0;}.ace_search_form.ace_nomatch {outline: 1px solid red;}.ace_search_field {border-radius: 3px 0 0 3px;background-color: white;color: black;border: 1px solid #cbcbcb;border-right: 0 none;outline: 0;padding: 0;font-size: inherit;margin: 0;line-height: inherit;padding: 0 6px;min-width: 17em;vertical-align: top;min-height: 1.8em;box-sizing: content-box;}.ace_searchbtn {border: 1px solid #cbcbcb;line-height: inherit;display: inline-block;padding: 0 6px;background: #fff;border-right: 0 none;border-left: 1px solid #dcdcdc;cursor: pointer;margin: 0;position: relative;color: #666;}.ace_searchbtn:last-child {border-radius: 0 3px 3px 0;border-right: 1px solid #cbcbcb;}.ace_searchbtn:disabled {background: none;cursor: default;}.ace_searchbtn:hover {background-color: #eef1f6;}.ace_searchbtn.prev, .ace_searchbtn.next {padding: 0px 0.7em}.ace_searchbtn.prev:after, .ace_searchbtn.next:after {content: "";border: solid 2px #888;width: 0.5em;height: 0.5em;border-width:  2px 0 0 2px;display:inline-block;transform: rotate(-45deg);}.ace_searchbtn.next:after {border-width: 0 2px 2px 0 ;}.ace_searchbtn_close {background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAcCAYAAABRVo5BAAAAZ0lEQVR42u2SUQrAMAhDvazn8OjZBilCkYVVxiis8H4CT0VrAJb4WHT3C5xU2a2IQZXJjiQIRMdkEoJ5Q2yMqpfDIo+XY4k6h+YXOyKqTIj5REaxloNAd0xiKmAtsTHqW8sR2W5f7gCu5nWFUpVjZwAAAABJRU5ErkJggg==) no-repeat 50% 0;border-radius: 50%;border: 0 none;color: #656565;cursor: pointer;font: 16px/16px Arial;padding: 0;height: 14px;width: 14px;top: 9px;right: 7px;position: absolute;}.ace_searchbtn_close:hover {background-color: #656565;background-position: 50% 100%;color: white;}.ace_button {margin-left: 2px;cursor: pointer;-webkit-user-select: none;-moz-user-select: none;-o-user-select: none;-ms-user-select: none;user-select: none;overflow: hidden;opacity: 0.7;border: 1px solid rgba(100,100,100,0.23);padding: 1px;box-sizing:    border-box!important;color: black;}.ace_button:hover {background-color: #eee;opacity:1;}.ace_button:active {background-color: #ddd;}.ace_button.checked {border-color: #3399ff;opacity:1;}.ace_search_options{margin-bottom: 3px;text-align: right;-webkit-user-select: none;-moz-user-select: none;-o-user-select: none;-ms-user-select: none;user-select: none;clear: both;}.ace_search_counter {float: left;font-family: arial;padding: 0 8px;}',g=l("../keyboard/hash_handler").HashHandler,y=l("../lib/keys");h.importCssString(_,"ace_searchbox");var u=function(b,S,T){var R=h.createElement("div");h.buildDom(["div",{class:"ace_search right"},["span",{action:"hide",class:"ace_searchbtn_close"}],["div",{class:"ace_search_form"},["input",{class:"ace_search_field",placeholder:"Search for",spellcheck:"false"}],["span",{action:"findPrev",class:"ace_searchbtn prev"},"â"],["span",{action:"findNext",class:"ace_searchbtn next"},"â"],["span",{action:"findAll",class:"ace_searchbtn",title:"Alt-Enter"},"All"]],["div",{class:"ace_replace_form"},["input",{class:"ace_search_field",placeholder:"Replace with",spellcheck:"false"}],["span",{action:"replaceAndFindNext",class:"ace_searchbtn"},"Replace"],["span",{action:"replaceAll",class:"ace_searchbtn"},"All"]],["div",{class:"ace_search_options"},["span",{action:"toggleReplace",class:"ace_button",title:"Toggle Replace mode",style:"float:left;margin-top:-2px;padding:0 5px;"},"+"],["span",{class:"ace_search_counter"}],["span",{action:"toggleRegexpMode",class:"ace_button",title:"RegExp Search"},".*"],["span",{action:"toggleCaseSensitive",class:"ace_button",title:"CaseSensitive Search"},"Aa"],["span",{action:"toggleWholeWords",class:"ace_button",title:"Whole Word Search"},"\\b"],["span",{action:"searchInSelection",class:"ace_button",title:"Search In Selection"},"S"]]],R),this.element=R.firstChild,this.setSession=this.setSession.bind(this),this.$init(),this.setEditor(b),h.importCssString(_,"ace_searchbox",b.container)};(function(){this.setEditor=function(b){b.searchBox=this,b.renderer.scroller.appendChild(this.element),this.editor=b},this.setSession=function(b){this.searchRange=null,this.$syncOptions(!0)},this.$initElements=function(b){this.searchBox=b.querySelector(".ace_search_form"),this.replaceBox=b.querySelector(".ace_replace_form"),this.searchOption=b.querySelector("[action=searchInSelection]"),this.replaceOption=b.querySelector("[action=toggleReplace]"),this.regExpOption=b.querySelector("[action=toggleRegexpMode]"),this.caseSensitiveOption=b.querySelector("[action=toggleCaseSensitive]"),this.wholeWordOption=b.querySelector("[action=toggleWholeWords]"),this.searchInput=this.searchBox.querySelector(".ace_search_field"),this.replaceInput=this.replaceBox.querySelector(".ace_search_field"),this.searchCounter=b.querySelector(".ace_search_counter")},this.$init=function(){var b=this.element;this.$initElements(b);var S=this;m.addListener(b,"mousedown",(function(T){setTimeout((function(){S.activeInput.focus()}),0),m.stopPropagation(T)})),m.addListener(b,"click",(function(T){var R=(T.target||T.srcElement).getAttribute("action");R&&S[R]?S[R]():S.$searchBarKb.commands[R]&&S.$searchBarKb.commands[R].exec(S),m.stopPropagation(T)})),m.addCommandKeyListener(b,(function(T,R,O){var C=y.keyCodeToString(O),I=S.$searchBarKb.findKeyCommand(R,C);I&&I.exec&&(I.exec(S),m.stopEvent(T))})),this.$onChange=v.delayedCall((function(){S.find(!1,!1)})),m.addListener(this.searchInput,"input",(function(){S.$onChange.schedule(20)})),m.addListener(this.searchInput,"focus",(function(){S.activeInput=S.searchInput,S.searchInput.value&&S.highlight()})),m.addListener(this.replaceInput,"focus",(function(){S.activeInput=S.replaceInput,S.searchInput.value&&S.highlight()}))},this.$closeSearchBarKb=new g([{bindKey:"Esc",name:"closeSearchBar",exec:function(b){b.searchBox.hide()}}]),this.$searchBarKb=new g,this.$searchBarKb.bindKeys({"Ctrl-f|Command-f":function(b){var S=b.isReplace=!b.isReplace;b.replaceBox.style.display=S?"":"none",b.replaceOption.checked=!1,b.$syncOptions(),b.searchInput.focus()},"Ctrl-H|Command-Option-F":function(b){b.editor.getReadOnly()||(b.replaceOption.checked=!0,b.$syncOptions(),b.replaceInput.focus())},"Ctrl-G|Command-G":function(b){b.findNext()},"Ctrl-Shift-G|Command-Shift-G":function(b){b.findPrev()},esc:function(b){setTimeout((function(){b.hide()}))},Return:function(b){b.activeInput==b.replaceInput&&b.replace(),b.findNext()},"Shift-Return":function(b){b.activeInput==b.replaceInput&&b.replace(),b.findPrev()},"Alt-Return":function(b){b.activeInput==b.replaceInput&&b.replaceAll(),b.findAll()},Tab:function(b){(b.activeInput==b.replaceInput?b.searchInput:b.replaceInput).focus()}}),this.$searchBarKb.addCommands([{name:"toggleRegexpMode",bindKey:{win:"Alt-R|Alt-/",mac:"Ctrl-Alt-R|Ctrl-Alt-/"},exec:function(b){b.regExpOption.checked=!b.regExpOption.checked,b.$syncOptions()}},{name:"toggleCaseSensitive",bindKey:{win:"Alt-C|Alt-I",mac:"Ctrl-Alt-R|Ctrl-Alt-I"},exec:function(b){b.caseSensitiveOption.checked=!b.caseSensitiveOption.checked,b.$syncOptions()}},{name:"toggleWholeWords",bindKey:{win:"Alt-B|Alt-W",mac:"Ctrl-Alt-B|Ctrl-Alt-W"},exec:function(b){b.wholeWordOption.checked=!b.wholeWordOption.checked,b.$syncOptions()}},{name:"toggleReplace",exec:function(b){b.replaceOption.checked=!b.replaceOption.checked,b.$syncOptions()}},{name:"searchInSelection",exec:function(b){b.searchOption.checked=!b.searchRange,b.setSearchRange(b.searchOption.checked&&b.editor.getSelectionRange()),b.$syncOptions()}}]),this.setSearchRange=function(b){this.searchRange=b,b?this.searchRangeMarker=this.editor.session.addMarker(b,"ace_active-line"):this.searchRangeMarker&&(this.editor.session.removeMarker(this.searchRangeMarker),this.searchRangeMarker=null)},this.$syncOptions=function(b){h.setCssClass(this.replaceOption,"checked",this.searchRange),h.setCssClass(this.searchOption,"checked",this.searchOption.checked),this.replaceOption.textContent=this.replaceOption.checked?"-":"+",h.setCssClass(this.regExpOption,"checked",this.regExpOption.checked),h.setCssClass(this.wholeWordOption,"checked",this.wholeWordOption.checked),h.setCssClass(this.caseSensitiveOption,"checked",this.caseSensitiveOption.checked);var S=this.editor.getReadOnly();this.replaceOption.style.display=S?"none":"",this.replaceBox.style.display=this.replaceOption.checked&&!S?"":"none",this.find(!1,!1,b)},this.highlight=function(b){this.editor.session.highlight(b||this.editor.$search.$options.re),this.editor.renderer.updateBackMarkers()},this.find=function(b,S,T){var R=!this.editor.find(this.searchInput.value,{skipCurrent:b,backwards:S,wrap:!0,regExp:this.regExpOption.checked,caseSensitive:this.caseSensitiveOption.checked,wholeWord:this.wholeWordOption.checked,preventScroll:T,range:this.searchRange})&&this.searchInput.value;h.setCssClass(this.searchBox,"ace_nomatch",R),this.editor._emit("findSearchBox",{match:!R}),this.highlight(),this.updateCounter()},this.updateCounter=function(){var b=this.editor,S=b.$search.$options.re,T=0,R=0;if(S){var O=this.searchRange?b.session.getTextRange(this.searchRange):b.getValue(),C=b.session.doc.positionToIndex(b.selection.anchor);this.searchRange&&(C-=b.session.doc.positionToIndex(this.searchRange.start));for(var I,F=S.lastIndex=0;(I=S.exec(O))&&(T++,(F=I.index)<=C&&R++,!(T>999))&&(I[0]||(S.lastIndex=F+=1,!(F>=O.length))););}this.searchCounter.textContent=R+" of "+(T>999?"999+":T)},this.findNext=function(){this.find(!0,!1)},this.findPrev=function(){this.find(!0,!0)},this.findAll=function(){var b=!this.editor.findAll(this.searchInput.value,{regExp:this.regExpOption.checked,caseSensitive:this.caseSensitiveOption.checked,wholeWord:this.wholeWordOption.checked})&&this.searchInput.value;h.setCssClass(this.searchBox,"ace_nomatch",b),this.editor._emit("findSearchBox",{match:!b}),this.highlight(),this.hide()},this.replace=function(){this.editor.getReadOnly()||this.editor.replace(this.replaceInput.value)},this.replaceAndFindNext=function(){this.editor.getReadOnly()||(this.editor.replace(this.replaceInput.value),this.findNext())},this.replaceAll=function(){this.editor.getReadOnly()||this.editor.replaceAll(this.replaceInput.value)},this.hide=function(){this.active=!1,this.setSearchRange(null),this.editor.off("changeSession",this.setSession),this.element.style.display="none",this.editor.keyBinding.removeKeyboardHandler(this.$closeSearchBarKb),this.editor.focus()},this.show=function(b,S){this.active=!0,this.editor.on("changeSession",this.setSession),this.element.style.display="",this.replaceOption.checked=S,b&&(this.searchInput.value=b),this.searchInput.focus(),this.searchInput.select(),this.editor.keyBinding.addKeyboardHandler(this.$closeSearchBarKb),this.$syncOptions(!0)},this.isFocused=function(){var b=document.activeElement;return b==this.searchInput||b==this.replaceInput}}).call(u.prototype),c.SearchBox=u,c.Search=function(b,S){(b.searchBox||new u(b)).show(b.session.getTextRange(),S)}})),ace.require(["ace/ext/searchbox"],(function(l){s&&(s.exports=l)}))},176:(s,a,o)=>{s=o.nmd(s),ace.define("ace/mode/doc_comment_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/text_highlight_rules"],(function(l,c,f){var h=l("../lib/oop"),v=l("./text_highlight_rules").TextHighlightRules,m=function(){this.$rules={start:[{token:"comment.doc.tag",regex:"@[\\w\\d_]+"},m.getTagRule(),{defaultToken:"comment.doc",caseInsensitive:!0}]}};h.inherits(m,v),m.getTagRule=function(_){return{token:"comment.doc.tag.storage.type",regex:"\\b(?:TODO|FIXME|XXX|HACK)\\b"}},m.getStartRule=function(_){return{token:"comment.doc",regex:"\\/\\*(?=\\*)",next:_}},m.getEndRule=function(_){return{token:"comment.doc",regex:"\\*\\/",next:_}},c.DocCommentHighlightRules=m})),ace.define("ace/mode/c_cpp_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/doc_comment_highlight_rules","ace/mode/text_highlight_rules"],(function(l,c,f){var h=l("../lib/oop"),v=l("./doc_comment_highlight_rules").DocCommentHighlightRules,m=l("./text_highlight_rules").TextHighlightRules,_=c.cFunctions="\\b(?:hypot(?:f|l)?|s(?:scanf|ystem|nprintf|ca(?:nf|lb(?:n(?:f|l)?|ln(?:f|l)?))|i(?:n(?:h(?:f|l)?|f|l)?|gn(?:al|bit))|tr(?:s(?:tr|pn)|nc(?:py|at|mp)|c(?:spn|hr|oll|py|at|mp)|to(?:imax|d|u(?:l(?:l)?|max)|k|f|l(?:d|l)?)|error|pbrk|ftime|len|rchr|xfrm)|printf|et(?:jmp|vbuf|locale|buf)|qrt(?:f|l)?|w(?:scanf|printf)|rand)|n(?:e(?:arbyint(?:f|l)?|xt(?:toward(?:f|l)?|after(?:f|l)?))|an(?:f|l)?)|c(?:s(?:in(?:h(?:f|l)?|f|l)?|qrt(?:f|l)?)|cos(?:h(?:f)?|f|l)?|imag(?:f|l)?|t(?:ime|an(?:h(?:f|l)?|f|l)?)|o(?:s(?:h(?:f|l)?|f|l)?|nj(?:f|l)?|pysign(?:f|l)?)|p(?:ow(?:f|l)?|roj(?:f|l)?)|e(?:il(?:f|l)?|xp(?:f|l)?)|l(?:o(?:ck|g(?:f|l)?)|earerr)|a(?:sin(?:h(?:f|l)?|f|l)?|cos(?:h(?:f|l)?|f|l)?|tan(?:h(?:f|l)?|f|l)?|lloc|rg(?:f|l)?|bs(?:f|l)?)|real(?:f|l)?|brt(?:f|l)?)|t(?:ime|o(?:upper|lower)|an(?:h(?:f|l)?|f|l)?|runc(?:f|l)?|gamma(?:f|l)?|mp(?:nam|file))|i(?:s(?:space|n(?:ormal|an)|cntrl|inf|digit|u(?:nordered|pper)|p(?:unct|rint)|finite|w(?:space|c(?:ntrl|type)|digit|upper|p(?:unct|rint)|lower|al(?:num|pha)|graph|xdigit|blank)|l(?:ower|ess(?:equal|greater)?)|al(?:num|pha)|gr(?:eater(?:equal)?|aph)|xdigit|blank)|logb(?:f|l)?|max(?:div|abs))|di(?:v|fftime)|_Exit|unget(?:c|wc)|p(?:ow(?:f|l)?|ut(?:s|c(?:har)?|wc(?:har)?)|error|rintf)|e(?:rf(?:c(?:f|l)?|f|l)?|x(?:it|p(?:2(?:f|l)?|f|l|m1(?:f|l)?)?))|v(?:s(?:scanf|nprintf|canf|printf|w(?:scanf|printf))|printf|f(?:scanf|printf|w(?:scanf|printf))|w(?:scanf|printf)|a_(?:start|copy|end|arg))|qsort|f(?:s(?:canf|e(?:tpos|ek))|close|tell|open|dim(?:f|l)?|p(?:classify|ut(?:s|c|w(?:s|c))|rintf)|e(?:holdexcept|set(?:e(?:nv|xceptflag)|round)|clearexcept|testexcept|of|updateenv|r(?:aiseexcept|ror)|get(?:e(?:nv|xceptflag)|round))|flush|w(?:scanf|ide|printf|rite)|loor(?:f|l)?|abs(?:f|l)?|get(?:s|c|pos|w(?:s|c))|re(?:open|e|ad|xp(?:f|l)?)|m(?:in(?:f|l)?|od(?:f|l)?|a(?:f|l|x(?:f|l)?)?))|l(?:d(?:iv|exp(?:f|l)?)|o(?:ngjmp|cal(?:time|econv)|g(?:1(?:p(?:f|l)?|0(?:f|l)?)|2(?:f|l)?|f|l|b(?:f|l)?)?)|abs|l(?:div|abs|r(?:int(?:f|l)?|ound(?:f|l)?))|r(?:int(?:f|l)?|ound(?:f|l)?)|gamma(?:f|l)?)|w(?:scanf|c(?:s(?:s(?:tr|pn)|nc(?:py|at|mp)|c(?:spn|hr|oll|py|at|mp)|to(?:imax|d|u(?:l(?:l)?|max)|k|f|l(?:d|l)?|mbs)|pbrk|ftime|len|r(?:chr|tombs)|xfrm)|to(?:b|mb)|rtomb)|printf|mem(?:set|c(?:hr|py|mp)|move))|a(?:s(?:sert|ctime|in(?:h(?:f|l)?|f|l)?)|cos(?:h(?:f|l)?|f|l)?|t(?:o(?:i|f|l(?:l)?)|exit|an(?:h(?:f|l)?|2(?:f|l)?|f|l)?)|b(?:s|ort))|g(?:et(?:s|c(?:har)?|env|wc(?:har)?)|mtime)|r(?:int(?:f|l)?|ound(?:f|l)?|e(?:name|alloc|wind|m(?:ove|quo(?:f|l)?|ainder(?:f|l)?))|a(?:nd|ise))|b(?:search|towc)|m(?:odf(?:f|l)?|em(?:set|c(?:hr|py|mp)|move)|ktime|alloc|b(?:s(?:init|towcs|rtowcs)|towc|len|r(?:towc|len))))\\b",g=function(){var y=this.$keywords=this.createKeywordMapper({"keyword.control":"break|case|continue|default|do|else|for|goto|if|_Pragma|return|switch|while|catch|operator|try|throw|using","storage.type":"asm|__asm__|auto|bool|_Bool|char|_Complex|double|enum|float|_Imaginary|int|long|short|signed|struct|typedef|union|unsigned|void|class|wchar_t|template|char16_t|char32_t","storage.modifier":"const|extern|register|restrict|static|volatile|inline|private|protected|public|friend|explicit|virtual|export|mutable|typename|constexpr|new|delete|alignas|alignof|decltype|noexcept|thread_local","keyword.operator":"and|and_eq|bitand|bitor|compl|not|not_eq|or|or_eq|typeid|xor|xor_eq|const_cast|dynamic_cast|reinterpret_cast|static_cast|sizeof|namespace","variable.language":"this","constant.language":"NULL|true|false|TRUE|FALSE|nullptr"},"identifier"),u=/\\(?:['"?\\abfnrtv]|[0-7]{1,3}|x[a-fA-F\d]{2}|u[a-fA-F\d]{4}U[a-fA-F\d]{8}|.)/.source,b="%"+/(\d+\$)?/.source+/[#0\- +']*/.source+/[,;:_]?/.source+/((-?\d+)|\*(-?\d+\$)?)?/.source+/(\.((-?\d+)|\*(-?\d+\$)?)?)?/.source+/(hh|h|ll|l|j|t|z|q|L|vh|vl|v|hv|hl)?/.source+/(\[[^"\]]+\]|[diouxXDOUeEfFgGaACcSspn%])/.source;this.$rules={start:[{token:"comment",regex:"//$",next:"start"},{token:"comment",regex:"//",next:"singleLineComment"},v.getStartRule("doc-start"),{token:"comment",regex:"\\/\\*",next:"comment"},{token:"string",regex:"'(?:"+u+"|.)?'"},{token:"string.start",regex:'"',stateName:"qqstring",next:[{token:"string",regex:/\\\s*$/,next:"qqstring"},{token:"constant.language.escape",regex:u},{token:"constant.language.escape",regex:b},{token:"string.end",regex:'"|$',next:"start"},{defaultToken:"string"}]},{token:"string.start",regex:'R"\\(',stateName:"rawString",next:[{token:"string.end",regex:'\\)"',next:"start"},{defaultToken:"string"}]},{token:"constant.numeric",regex:"0[xX][0-9a-fA-F]+(L|l|UL|ul|u|U|F|f|ll|LL|ull|ULL)?\\b"},{token:"constant.numeric",regex:"[+-]?\\d+(?:(?:\\.\\d*)?(?:[eE][+-]?\\d+)?)?(L|l|UL|ul|u|U|F|f|ll|LL|ull|ULL)?\\b"},{token:"keyword",regex:"#\\s*(?:include|import|pragma|line|define|undef|version)\\b",next:"directive"},{token:"keyword",regex:"#\\s*(?:endif|if|ifdef|else|elif|ifndef)\\b"},{token:"support.function.C99.c",regex:_},{token:y,regex:"[a-zA-Z_$][a-zA-Z0-9_$]*"},{token:"keyword.operator",regex:/--|\+\+|<<=|>>=|>>>=|<>|&&|\|\||\?:|[*%\/+\-&\^|~!<>=]=?/},{token:"punctuation.operator",regex:"\\?|\\:|\\,|\\;|\\."},{token:"paren.lparen",regex:"[[({]"},{token:"paren.rparen",regex:"[\\])}]"},{token:"text",regex:"\\s+"}],comment:[{token:"comment",regex:"\\*\\/",next:"start"},{defaultToken:"comment"}],singleLineComment:[{token:"comment",regex:/\\$/,next:"singleLineComment"},{token:"comment",regex:/$/,next:"start"},{defaultToken:"comment"}],directive:[{token:"constant.other.multiline",regex:/\\/},{token:"constant.other.multiline",regex:/.*\\/},{token:"constant.other",regex:"\\s*<.+?>",next:"start"},{token:"constant.other",regex:'\\s*["](?:(?:\\\\.)|(?:[^"\\\\]))*?["]',next:"start"},{token:"constant.other",regex:"\\s*['](?:(?:\\\\.)|(?:[^'\\\\]))*?[']",next:"start"},{token:"constant.other",regex:/[^\\\/]+/,next:"start"}]},this.embedRules(v,"doc-",[v.getEndRule("start")]),this.normalizeRules()};h.inherits(g,m),c.c_cppHighlightRules=g})),ace.define("ace/mode/matching_brace_outdent",["require","exports","module","ace/range"],(function(l,c,f){var h=l("../range").Range,v=function(){};(function(){this.checkOutdent=function(m,_){return!!/^\s+$/.test(m)&&/^\s*\}/.test(_)},this.autoOutdent=function(m,_){var g=m.getLine(_).match(/^(\s*\})/);if(!g)return 0;var y=g[1].length,u=m.findMatchingBracket({row:_,column:y});if(!u||u.row==_)return 0;var b=this.$getIndent(m.getLine(u.row));m.replace(new h(_,0,_,y-1),b)},this.$getIndent=function(m){return m.match(/^\s*/)[0]}}).call(v.prototype),c.MatchingBraceOutdent=v})),ace.define("ace/mode/folding/cstyle",["require","exports","module","ace/lib/oop","ace/range","ace/mode/folding/fold_mode"],(function(l,c,f){var h=l("../../lib/oop"),v=l("../../range").Range,m=l("./fold_mode").FoldMode,_=c.FoldMode=function(g){g&&(this.foldingStartMarker=new RegExp(this.foldingStartMarker.source.replace(/\|[^|]*?$/,"|"+g.start)),this.foldingStopMarker=new RegExp(this.foldingStopMarker.source.replace(/\|[^|]*?$/,"|"+g.end)))};h.inherits(_,m),(function(){this.foldingStartMarker=/([\{\[\(])[^\}\]\)]*$|^\s*(\/\*)/,this.foldingStopMarker=/^[^\[\{\(]*([\}\]\)])|^[\s\*]*(\*\/)/,this.singleLineBlockCommentRe=/^\s*(\/\*).*\*\/\s*$/,this.tripleStarBlockCommentRe=/^\s*(\/\*\*\*).*\*\/\s*$/,this.startRegionRe=/^\s*(\/\*|\/\/)#?region\b/,this._getFoldWidgetBase=this.getFoldWidget,this.getFoldWidget=function(g,y,u){var b=g.getLine(u);if(this.singleLineBlockCommentRe.test(b)&&!this.startRegionRe.test(b)&&!this.tripleStarBlockCommentRe.test(b))return"";var S=this._getFoldWidgetBase(g,y,u);return!S&&this.startRegionRe.test(b)?"start":S},this.getFoldWidgetRange=function(g,y,u,b){var S,T=g.getLine(u);if(this.startRegionRe.test(T))return this.getCommentRegionBlock(g,T,u);if(S=T.match(this.foldingStartMarker)){var R=S.index;if(S[1])return this.openingBracketBlock(g,S[1],u,R);var O=g.getCommentFoldRange(u,R+S[0].length,1);return O&&!O.isMultiLine()&&(b?O=this.getSectionRange(g,u):y!="all"&&(O=null)),O}return y!=="markbegin"&&(S=T.match(this.foldingStopMarker))?(R=S.index+S[0].length,S[1]?this.closingBracketBlock(g,S[1],u,R):g.getCommentFoldRange(u,R,-1)):void 0},this.getSectionRange=function(g,y){for(var u=g.getLine(y),b=u.search(/\S/),S=y,T=u.length,R=y+=1,O=g.getLength();++y<O;){var C=(u=g.getLine(y)).search(/\S/);if(C!==-1){if(b>C)break;var I=this.getFoldWidgetRange(g,"all",y);if(I){if(I.start.row<=S)break;if(I.isMultiLine())y=I.end.row;else if(b==C)break}R=y}}return new v(S,T,R,g.getLine(R).length)},this.getCommentRegionBlock=function(g,y,u){for(var b=y.search(/\s*$/),S=g.getLength(),T=u,R=/^\s*(?:\/\*|\/\/|--)#?(end)?region\b/,O=1;++u<S;){y=g.getLine(u);var C=R.exec(y);if(C&&(C[1]?O--:O++,!O))break}if(u>T)return new v(T,b,u,y.length)}}).call(_.prototype)})),ace.define("ace/mode/c_cpp",["require","exports","module","ace/lib/oop","ace/mode/text","ace/mode/c_cpp_highlight_rules","ace/mode/matching_brace_outdent","ace/range","ace/mode/behaviour/cstyle","ace/mode/folding/cstyle"],(function(l,c,f){var h=l("../lib/oop"),v=l("./text").Mode,m=l("./c_cpp_highlight_rules").c_cppHighlightRules,_=l("./matching_brace_outdent").MatchingBraceOutdent,g=(l("../range").Range,l("./behaviour/cstyle").CstyleBehaviour),y=l("./folding/cstyle").FoldMode,u=function(){this.HighlightRules=m,this.$outdent=new _,this.$behaviour=new g,this.foldingRules=new y};h.inherits(u,v),(function(){this.lineCommentStart="//",this.blockComment={start:"/*",end:"*/"},this.getNextLineIndent=function(b,S,T){var R=this.$getIndent(S),O=this.getTokenizer().getLineTokens(S,b),C=O.tokens,I=O.state;if(C.length&&C[C.length-1].type=="comment")return R;if(b=="start")(F=S.match(/^.*[\{\(\[]\s*$/))&&(R+=T);else if(b=="doc-start"){if(I=="start")return"";var F;(F=S.match(/^\s*(\/?)\*/))&&(F[1]&&(R+=" "),R+="* ")}return R},this.checkOutdent=function(b,S,T){return this.$outdent.checkOutdent(S,T)},this.autoOutdent=function(b,S,T){this.$outdent.autoOutdent(S,T)},this.$id="ace/mode/c_cpp"}).call(u.prototype),c.Mode=u})),ace.define("ace/mode/glsl_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/c_cpp_highlight_rules"],(function(l,c,f){var h=l("../lib/oop"),v=l("./c_cpp_highlight_rules").c_cppHighlightRules,m=function(){var _=this.createKeywordMapper({"variable.language":"this",keyword:"layout|attribute|const|uniform|varying|break|continue|do|for|while|if|else|in|out|inout|float|int|void|bool|true|false|lowp|mediump|highp|precision|invariant|discard|return|mat2|mat3|mat4|vec2|vec3|vec4|ivec2|ivec3|ivec4|bvec2|bvec3|bvec4|sampler2D|samplerCube|struct","constant.language":"radians|degrees|sin|cos|tan|asin|acos|atan|pow|exp|log|exp2|log2|sqrt|inversesqrt|abs|sign|floor|ceil|fract|mod|min|max|clamp|mix|step|smoothstep|length|distance|dot|cross|normalize|faceforward|reflect|refract|matrixCompMult|lessThan|lessThanEqual|greaterThan|greaterThanEqual|equal|notEqual|any|all|not|dFdx|dFdy|fwidth|texture2D|texture2DProj|texture2DLod|texture2DProjLod|textureCube|textureCubeLod|gl_MaxVertexAttribs|gl_MaxVertexUniformVectors|gl_MaxVaryingVectors|gl_MaxVertexTextureImageUnits|gl_MaxCombinedTextureImageUnits|gl_MaxTextureImageUnits|gl_MaxFragmentUniformVectors|gl_MaxDrawBuffers|gl_DepthRangeParameters|gl_DepthRange|gl_Position|gl_PointSize|gl_FragCoord|gl_FrontFacing|gl_PointCoord|gl_FragColor|gl_FragData"},"identifier");this.$rules=new v().$rules,this.$rules.start.forEach((function(g){typeof g.token=="function"&&(g.token=_)}))};h.inherits(m,v),c.glslHighlightRules=m})),ace.define("ace/mode/glsl",["require","exports","module","ace/lib/oop","ace/mode/c_cpp","ace/mode/glsl_highlight_rules","ace/mode/matching_brace_outdent","ace/range","ace/mode/behaviour/cstyle","ace/mode/folding/cstyle"],(function(l,c,f){var h=l("../lib/oop"),v=l("./c_cpp").Mode,m=l("./glsl_highlight_rules").glslHighlightRules,_=l("./matching_brace_outdent").MatchingBraceOutdent,g=(l("../range").Range,l("./behaviour/cstyle").CstyleBehaviour),y=l("./folding/cstyle").FoldMode,u=function(){this.HighlightRules=m,this.$outdent=new _,this.$behaviour=new g,this.foldingRules=new y};h.inherits(u,v),(function(){this.$id="ace/mode/glsl"}).call(u.prototype),c.Mode=u})),ace.require(["ace/mode/glsl"],(function(l){s&&(s.exports=l)}))},793:(s,a,o)=>{s=o.nmd(s),ace.define("ace/theme/monokai",["require","exports","module","ace/lib/dom"],(function(l,c,f){c.isDark=!0,c.cssClass="ace-monokai",c.cssText=".ace-monokai .ace_gutter {background: #2F3129;color: #8F908A}.ace-monokai .ace_print-margin {width: 1px;background: #555651}.ace-monokai {background-color: #272822;color: #F8F8F2}.ace-monokai .ace_cursor {color: #F8F8F0}.ace-monokai .ace_marker-layer .ace_selection {background: #49483E}.ace-monokai.ace_multiselect .ace_selection.ace_start {box-shadow: 0 0 3px 0px #272822;}.ace-monokai .ace_marker-layer .ace_step {background: rgb(102, 82, 0)}.ace-monokai .ace_marker-layer .ace_bracket {margin: -1px 0 0 -1px;border: 1px solid #49483E}.ace-monokai .ace_marker-layer .ace_active-line {background: #202020}.ace-monokai .ace_gutter-active-line {background-color: #272727}.ace-monokai .ace_marker-layer .ace_selected-word {border: 1px solid #49483E}.ace-monokai .ace_invisible {color: #52524d}.ace-monokai .ace_entity.ace_name.ace_tag,.ace-monokai .ace_keyword,.ace-monokai .ace_meta.ace_tag,.ace-monokai .ace_storage {color: #F92672}.ace-monokai .ace_punctuation,.ace-monokai .ace_punctuation.ace_tag {color: #fff}.ace-monokai .ace_constant.ace_character,.ace-monokai .ace_constant.ace_language,.ace-monokai .ace_constant.ace_numeric,.ace-monokai .ace_constant.ace_other {color: #AE81FF}.ace-monokai .ace_invalid {color: #F8F8F0;background-color: #F92672}.ace-monokai .ace_invalid.ace_deprecated {color: #F8F8F0;background-color: #AE81FF}.ace-monokai .ace_support.ace_constant,.ace-monokai .ace_support.ace_function {color: #66D9EF}.ace-monokai .ace_fold {background-color: #A6E22E;border-color: #F8F8F2}.ace-monokai .ace_storage.ace_type,.ace-monokai .ace_support.ace_class,.ace-monokai .ace_support.ace_type {font-style: italic;color: #66D9EF}.ace-monokai .ace_entity.ace_name.ace_function,.ace-monokai .ace_entity.ace_other,.ace-monokai .ace_entity.ace_other.ace_attribute-name,.ace-monokai .ace_variable {color: #A6E22E}.ace-monokai .ace_variable.ace_parameter {font-style: italic;color: #FD971F}.ace-monokai .ace_string {color: #E6DB74}.ace-monokai .ace_comment {color: #75715E}.ace-monokai .ace_indent-guide {background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAEklEQVQImWPQ0FD0ZXBzd/wPAAjVAoxeSgNeAAAAAElFTkSuQmCC) right repeat-y}",l("../lib/dom").importCssString(c.cssText,c.cssClass)})),ace.require(["ace/theme/monokai"],(function(l){s&&(s.exports=l)}))}},i={};function r(s){var a=i[s];if(a!==void 0)return a.exports;var o=i[s]={id:s,loaded:!1,exports:{}};return t[s].call(o.exports,o,o.exports,r),o.loaded=!0,o.exports}return r.amdD=function(){throw new Error("define cannot be used indirect")},r.n=s=>{var a=s&&s.__esModule?()=>s.default:()=>s;return r.d(a,{a}),a},r.d=(s,a)=>{for(var o in a)r.o(a,o)&&!r.o(s,o)&&Object.defineProperty(s,o,{enumerable:!0,get:a[o]})},r.o=(s,a)=>Object.prototype.hasOwnProperty.call(s,a),r.r=s=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(s,"__esModule",{value:!0})},r.nmd=s=>(s.paths=[],s.children||(s.children=[]),s),r.nc=void 0,r(819),r(176),r(793),r(655),r(18),r(986)})()))})(O2)),O2.exports}var wue=Sue();let Xc=!1;function eh(){return Xc}function J_({children:n,position:e=[0,0,0],rotation:t=[0,0,0],scale:i=1,disableTranslation:r=!1,disableRotations:s=!1,disableScaling:a=!1}){return ge.jsx(nie,{anchor:[0,0,0],depthTest:!1,disableAxes:r,disableSliders:r,disableRotations:s,disableScaling:a,scale:i,rotation:t,children:ge.jsx("group",{position:e,children:n})})}function ey(n,e){const t=D8(Xc?n:"",Xc?e:{},{collapsed:!0},[Xc]);return setTimeout(function(){jQuery(".leva-c-dosbYs").each(function(){$(this).children().last().text($(this).children().last().text().split("_").pop())})},1e3),Xc?t:{}}let XS;function Eue(){const n=H.useRef(),e=H.useRef(),t=H.useRef(0),i=H.useCallback(function(){if(!e.current)return;e.current.begin(),n.current=requestAnimationFrame(i),e.current.end();const r=Date.now();return r>=t.current+1e3&&(U8(),t.current=r),function(){cancelAnimationFrame(n.current)}},[]);H.useEffect(function(){if(Xc){const r=window.devicePixelRatio;return window.devicePixelRatio=2,e.current=new N8,XS=e.current,window.devicePixelRatio=r,jQuery("body").append(e.current.dom),jQuery("body").children().last().wrap("<div id='stats-js'></div>"),n.current=requestAnimationFrame(i),function(){n.current&&cancelAnimationFrame(n.current),jQuery("#stats-js").remove(),e.current=null}}},[Xc])}let A0,F8=[];function Cue(n){if(F8=n,Xc&&XS&&!A0){let e=window.devicePixelRatio;window.devicePixelRatio=2;let t=new N8.Panel("P","#ffff7f","#222211");window.devicePixelRatio=e,A0=XS.addPanel(t),XS.showPanel(0),U8()}!Xc&&A0&&(A0=null)}function U8(){A0&&A0.update(F8.length,1e3)}function Tue(){const n=H.useRef(),e=H.useCallback(function(){return n.current=requestAnimationFrame(e),$(".fpsCounterComponent").text(""),function(){cancelAnimationFrame(n.current)}},[]);H.useEffect(function(){if(Xc){const t=new wue.Spector;return n.current=requestAnimationFrame(e),t.displayUI(),function(){t.stopCapture(),n.current&&cancelAnimationFrame(n.current),jQuery(".captureMenuComponent").parent().remove(),jQuery(".resultViewComponent").remove()}}else return function(){}},[Xc])}function Aue(){const n=Wd();return Xc=H.useMemo(function(){return new URLSearchParams(n.search).has("debug")},[n.search]),Eue(),Tue(),ge.jsxs(ge.Fragment,{children:[Xc?ge.jsx(I8,{oneLineLabels:!0}):null,Xc?ge.jsx("div",{id:"overlay",children:ge.jsx(kR,{children:ge.jsx(ol,{children:Array.from({length:12}).map(function(e,t){return ge.jsx(jo,{md:1,children:ge.jsx("div",{className:"overlay-col"})},t)})})})}):null]})}const Ig="generated",M1="pointerdown",Mue="pointerup",pR="pointerleave",Rue="pointerout",Zg="pointermove",R1="touchstart",LN="touchend",Oue="touchmove",Lue="touchcancel",Pue="resize",Iue="visibilitychange",cl="tsParticles - Error",Ir=100,Rr=.5,js=1e3,Io={x:0,y:0,z:0},dS={a:1,b:0,c:0,d:1},ty="random",qS="mid",ll=2,k8=Math.PI*ll,L2=60,Due=1,B8="true",PN="false",P2="canvas",IN=0,zf=2,DN=4,Nue=1,NN=1,FN=1,Fue=4,z8=1,YS=255,Dg=360,mR=100,gR=100,UN=0,vR=0,Uue=60,kue=0,uE=.25,kN=Rr+uE,BN=0,Bue=1,zue=0,Gue=0,Hue=1,xO=1,$ue=1,zN=1,hE=0,G8=1,Vue=0,Wue=120,jue=0,Xue=0,que=1e4,Yue=0,Kue=1,O1=0,H8=1,Zue=1,Que=0,GN=1,Jue=0,ehe=0,HN=-uE,$N=1.5,VN=0,the=1,nhe=0,yR=0,$8=1,ihe=1,dE=1,rhe=500,WN=50,V8=0,_R=1,W8=0,jN=1,she=0,dg=255,I2=3,D2=6,ahe=1,ohe=1,lhe=0,che=0,uhe=0,hhe=0;var wl;(function(n){n.bottom="bottom",n.bottomLeft="bottom-left",n.bottomRight="bottom-right",n.left="left",n.none="none",n.right="right",n.top="top",n.topLeft="top-left",n.topRight="top-right",n.outside="outside",n.inside="inside"})(wl||(wl={}));function j8(n){return typeof n=="boolean"}function Cc(n){return typeof n=="string"}function Ml(n){return typeof n=="number"}function LC(n){return typeof n=="function"}function lm(n){return typeof n=="object"&&n!==null}function qo(n){return Array.isArray(n)}function jt(n){return n==null}class pu{constructor(e,t,i){if(this._updateFromAngle=(r,s)=>{this.x=Math.cos(r)*s,this.y=Math.sin(r)*s},!Ml(e)&&e){this.x=e.x,this.y=e.y;const r=e;this.z=r.z?r.z:Io.z}else if(e!==void 0&&t!==void 0)this.x=e,this.y=t,this.z=i??Io.z;else throw new Error(`${cl} Vector3d not initialized correctly`)}static get origin(){return pu.create(Io.x,Io.y,Io.z)}get angle(){return Math.atan2(this.y,this.x)}set angle(e){this._updateFromAngle(e,this.length)}get length(){return Math.sqrt(this.getLengthSq())}set length(e){this._updateFromAngle(this.angle,e)}static clone(e){return pu.create(e.x,e.y,e.z)}static create(e,t,i){return new pu(e,t,i)}add(e){return pu.create(this.x+e.x,this.y+e.y,this.z+e.z)}addTo(e){this.x+=e.x,this.y+=e.y,this.z+=e.z}copy(){return pu.clone(this)}distanceTo(e){return this.sub(e).length}distanceToSq(e){return this.sub(e).getLengthSq()}div(e){return pu.create(this.x/e,this.y/e,this.z/e)}divTo(e){this.x/=e,this.y/=e,this.z/=e}getLengthSq(){return this.x**zf+this.y**zf}mult(e){return pu.create(this.x*e,this.y*e,this.z*e)}multTo(e){this.x*=e,this.y*=e,this.z*=e}normalize(){const e=this.length;e!=O1&&this.multTo(z8/e)}rotate(e){return pu.create(this.x*Math.cos(e)-this.y*Math.sin(e),this.x*Math.sin(e)+this.y*Math.cos(e),Io.z)}setTo(e){this.x=e.x,this.y=e.y;const t=e;this.z=t.z?t.z:Io.z}sub(e){return pu.create(this.x-e.x,this.y-e.y,this.z-e.z)}subFrom(e){this.x-=e.x,this.y-=e.y,this.z-=e.z}}class Er extends pu{constructor(e,t){super(e,t,Io.z)}static get origin(){return Er.create(Io.x,Io.y)}static clone(e){return Er.create(e.x,e.y)}static create(e,t){return new Er(e,t)}}let dhe=Math.random;const X8={nextFrame:n=>requestAnimationFrame(n),cancel:n=>cancelAnimationFrame(n)};function Yn(){return qc(dhe(),0,1-Number.EPSILON)}function fhe(n){return X8.nextFrame(n)}function phe(n){X8.cancel(n)}function qc(n,e,t){return Math.min(Math.max(n,e),t)}function N2(n,e,t,i){return Math.floor((n*t+e*i)/(t+i))}function vo(n){const e=vu(n),t=0;let i=ny(n);return e===i&&(i=t),Yn()*(e-i)+i}function cn(n){return Ml(n)?n:vo(n)}function ny(n){return Ml(n)?n:n.min}function vu(n){return Ml(n)?n:n.max}function oi(n,e){if(n===e||e===void 0&&Ml(n))return n;const t=ny(n),i=vu(n);return e!==void 0?{min:Math.min(t,e),max:Math.max(i,e)}:oi(t,i)}function _o(n,e){const t=n.x-e.x,i=n.y-e.y,r=2;return{dx:t,dy:i,distance:Math.sqrt(t**r+i**r)}}function Tl(n,e){return _o(n,e).distance}function $h(n){return n*Math.PI/180}function mhe(n,e,t){if(Ml(n))return $h(n);switch(n){case wl.top:return-Math.PI*Rr;case wl.topRight:return-Math.PI*uE;case wl.right:return kue;case wl.bottomRight:return Math.PI*uE;case wl.bottom:return Math.PI*Rr;case wl.bottomLeft:return Math.PI*kN;case wl.left:return Math.PI;case wl.topLeft:return-Math.PI*kN;case wl.inside:return Math.atan2(t.y-e.y,t.x-e.x);case wl.outside:return Math.atan2(e.y-t.y,e.x-t.x);default:return Yn()*k8}}function ghe(n){const e=Er.origin;return e.length=1,e.angle=n,e}function XN(n,e,t,i){return Er.create(n.x*(t-i)/(t+i)+e.x*ll*i/(t+i),n.y)}function q8(n){return{x:(n.position?.x??Yn()*Ir)*n.size.width/Ir,y:(n.position?.y??Yn()*Ir)*n.size.height/Ir}}function Y8(n){const e={x:n.position?.x!==void 0?cn(n.position.x):void 0,y:n.position?.y!==void 0?cn(n.position.y):void 0};return q8({size:n.size,position:e})}function vhe(n){return{x:n.position?.x??Yn()*n.size.width,y:n.position?.y??Yn()*n.size.height}}function ob(n){return n?n.endsWith("%")?parseFloat(n)/Ir:parseFloat(n):1}var Ng;(function(n){n.auto="auto",n.increase="increase",n.decrease="decrease",n.random="random"})(Ng||(Ng={}));var ks;(function(n){n.increasing="increasing",n.decreasing="decreasing"})(ks||(ks={}));var Gd;(function(n){n.none="none",n.max="max",n.min="min"})(Gd||(Gd={}));var Gr;(function(n){n.bottom="bottom",n.left="left",n.right="right",n.top="top"})(Gr||(Gr={}));var qh;(function(n){n.precise="precise",n.percent="percent"})(qh||(qh={}));var Fd;(function(n){n.max="max",n.min="min",n.random="random"})(Fd||(Fd={}));const yhe={debug:console.debug,error:console.error,info:console.info,log:console.log,verbose:console.log,warning:console.warn};function tp(){return yhe}function _he(n){const e=new Map;return(...t)=>{const i=JSON.stringify(t);if(e.has(i))return e.get(i);const r=n(...t);return e.set(i,r),r}}function qN(n){const e={bounced:!1},{pSide:t,pOtherSide:i,rectSide:r,rectOtherSide:s,velocity:a,factor:o}=n;return i.min<s.min||i.min>s.max||i.max<s.min||i.max>s.max||(t.max>=r.min&&t.max<=(r.max+r.min)*Rr&&a>BN||t.min<=r.max&&t.min>(r.max+r.min)*Rr&&a<BN)&&(e.velocity=a*-o,e.bounced=!0),e}function bhe(n,e){const t=ha(e,i=>n.matches(i));return qo(t)?t.some(i=>i):t}function Qg(){return typeof window>"u"||!window||typeof window.document>"u"||!window.document}function xhe(){return!Qg()&&typeof matchMedia<"u"}function SO(n){if(xhe())return matchMedia(n)}function She(n){if(!(Qg()||typeof IntersectionObserver>"u"))return new IntersectionObserver(n)}function whe(n){if(!(Qg()||typeof MutationObserver>"u"))return new MutationObserver(n)}function Rs(n,e){return n===e||qo(e)&&e.indexOf(n)>-1}async function bR(n,e){try{await document.fonts.load(`${e??"400"} 36px '${n??"Verdana"}'`)}catch{}}function K8(n){return Math.floor(Yn()*n.length)}function Hd(n,e,t=!0){return n[e!==void 0&&t?e%n.length:K8(n)]}function lb(n,e,t,i,r){return Ehe(cb(n,i??0),e,t,r)}function Ehe(n,e,t,i){let r=!0;return(!i||i===Gr.bottom)&&(r=n.top<e.height+t.x),r&&(!i||i===Gr.left)&&(r=n.right>t.x),r&&(!i||i===Gr.right)&&(r=n.left<e.width+t.y),r&&(!i||i===Gr.top)&&(r=n.bottom>t.y),r}function cb(n,e){return{bottom:n.y+e,left:n.x-e,right:n.x+e,top:n.y-e}}function ys(n,...e){for(const t of e){if(t==null)continue;if(!lm(t)){n=t;continue}const i=Array.isArray(t);i&&(lm(n)||!n||!Array.isArray(n))?n=[]:!i&&(lm(n)||!n||Array.isArray(n))&&(n={});for(const r in t){if(r==="__proto__")continue;const s=t,a=s[r],o=n;o[r]=lm(a)&&Array.isArray(a)?a.map(l=>ys(o[r],l)):ys(o[r],a)}}return n}function wO(n,e){return!!J8(e,t=>t.enable&&Rs(n,t.mode))}function EO(n,e,t){ha(e,i=>{const r=i.mode;i.enable&&Rs(n,r)&&Che(i,t)})}function Che(n,e){const t=n.selectors;ha(t,i=>{e(i,n)})}function Z8(n,e){if(!(!e||!n))return J8(n,t=>bhe(e,t.selectors))}function xR(n){return{position:n.getPosition(),radius:n.getRadius(),mass:n.getMass(),velocity:n.velocity,factor:Er.create(cn(n.options.bounce.horizontal.value),cn(n.options.bounce.vertical.value))}}function Q8(n,e){const{x:t,y:i}=n.velocity.sub(e.velocity),[r,s]=[n.position,e.position],{dx:a,dy:o}=_o(s,r);if(t*a+i*o<0)return;const c=-Math.atan2(o,a),f=n.mass,h=e.mass,v=n.velocity.rotate(c),m=e.velocity.rotate(c),_=XN(v,m,f,h),g=XN(m,v,f,h),y=_.rotate(-c),u=g.rotate(-c);n.velocity.x=y.x*n.factor.x,n.velocity.y=y.y*n.factor.y,e.velocity.x=u.x*e.factor.x,e.velocity.y=u.y*e.factor.y}function The(n,e){const t=n.getPosition(),i=n.getRadius(),r=cb(t,i),s=n.options.bounce,a=qN({pSide:{min:r.left,max:r.right},pOtherSide:{min:r.top,max:r.bottom},rectSide:{min:e.left,max:e.right},rectOtherSide:{min:e.top,max:e.bottom},velocity:n.velocity.x,factor:cn(s.horizontal.value)});a.bounced&&(a.velocity!==void 0&&(n.velocity.x=a.velocity),a.position!==void 0&&(n.position.x=a.position));const o=qN({pSide:{min:r.top,max:r.bottom},pOtherSide:{min:r.left,max:r.right},rectSide:{min:e.top,max:e.bottom},rectOtherSide:{min:e.left,max:e.right},velocity:n.velocity.y,factor:cn(s.vertical.value)});o.bounced&&(o.velocity!==void 0&&(n.velocity.y=o.velocity),o.position!==void 0&&(n.position.y=o.position))}function ha(n,e){return qo(n)?n.map((i,r)=>e(i,r)):e(n,0)}function yo(n,e,t){return qo(n)?Hd(n,e,t):n}function J8(n,e){return qo(n)?n.find((i,r)=>e(i,r)):e(n,0)?n:void 0}function ez(n,e){const t=n.value,i=n.animation,r={delayTime:cn(i.delay)*js,enable:i.enable,value:cn(n.value)*e,max:vu(t)*e,min:ny(t)*e,loops:0,maxLoops:cn(i.count),time:0},s=1;if(i.enable){switch(r.decay=s-cn(i.decay),i.mode){case Ng.increase:r.status=ks.increasing;break;case Ng.decrease:r.status=ks.decreasing;break;case Ng.random:r.status=Yn()>=Rr?ks.increasing:ks.decreasing;break}const a=i.mode===Ng.auto;switch(i.startValue){case Fd.min:r.value=r.min,a&&(r.status=ks.increasing);break;case Fd.max:r.value=r.max,a&&(r.status=ks.decreasing);break;case Fd.random:default:r.value=vo(r),a&&(r.status=Yn()>=Rr?ks.increasing:ks.decreasing);break}}return r.initialValue=r.value,r}function tz(n,e){if(!(n.mode===qh.percent)){const{mode:r,...s}=n;return s}return"x"in n?{x:n.x/Ir*e.width,y:n.y/Ir*e.height}:{width:n.width/Ir*e.width,height:n.height/Ir*e.height}}function CO(n,e){return tz(n,e)}function YN(n,e){return tz(n,e)}function Ahe(n,e,t,i,r){switch(e){case Gd.max:t>=r&&n.destroy();break;case Gd.min:t<=i&&n.destroy();break}}function iy(n,e,t,i,r){if(n.destroyed||!e||!e.enable||(e.maxLoops??0)>0&&(e.loops??0)>(e.maxLoops??0))return;const f=(e.velocity??0)*r.factor,h=e.min,v=e.max,m=e.decay??1;if(e.time||(e.time=0),(e.delayTime??0)>0&&e.time<(e.delayTime??0)&&(e.time+=r.value),!((e.delayTime??0)>0&&e.time<(e.delayTime??0))){switch(e.status){case ks.increasing:e.value>=v?(t?e.status=ks.decreasing:e.value-=v,e.loops||(e.loops=0),e.loops++):e.value+=f;break;case ks.decreasing:e.value<=h?(t?e.status=ks.increasing:e.value+=v,e.loops||(e.loops=0),e.loops++):e.value-=f}e.velocity&&m!==1&&(e.velocity*=m),Ahe(n,i,e.value,h,v),n.destroyed||(e.value=qc(e.value,h,v))}}function Mhe(n){const e=document.createElement("div").style;if(!n)return e;for(const t in n){const i=n[t];if(!Object.prototype.hasOwnProperty.call(n,t)||jt(i))continue;const r=n.getPropertyValue?.(i);if(!r)continue;const s=n.getPropertyPriority?.(i);s?e.setProperty?.(i,r,s):e.setProperty?.(i,r)}return e}function Rhe(n){const e=document.createElement("div").style,t=10,i={width:"100%",height:"100%",margin:"0",padding:"0",borderWidth:"0",position:"fixed",zIndex:n.toString(t),"z-index":n.toString(t),top:"0",left:"0"};for(const r in i){const s=i[r];e.setProperty(r,s)}return e}const Ohe=_he(Rhe);var nm;(function(n){n.darken="darken",n.enlighten="enlighten"})(nm||(nm={}));function nz(n,e){if(e){for(const t of n.colorManagers.values())if(e.startsWith(t.stringPrefix))return t.parseString(e)}}function Al(n,e,t,i=!0){if(!e)return;const r=Cc(e)?{value:e}:e;if(Cc(r.value))return iz(n,r.value,t,i);if(qo(r.value))return Al(n,{value:Hd(r.value,t,i)});for(const s of n.colorManagers.values()){const a=s.handleRangeColor(r);if(a)return a}}function iz(n,e,t,i=!0){if(!e)return;const r=Cc(e)?{value:e}:e;if(Cc(r.value))return r.value===ty?sz():Phe(n,r.value);if(qo(r.value))return iz(n,{value:Hd(r.value,t,i)});for(const s of n.colorManagers.values()){const a=s.handleColor(r);if(a)return a}}function $d(n,e,t,i=!0){const r=Al(n,e,t,i);return r?rz(r):void 0}function rz(n){const e=n.r/YS,t=n.g/YS,i=n.b/YS,r=Math.max(e,t,i),s=Math.min(e,t,i),a={h:UN,l:(r+s)*Rr,s:vR};return r!==s&&(a.s=a.l<Rr?(r-s)/(r+s):(r-s)/(ll-r-s),a.h=e===r?(t-i)/(r-s):a.h=t===r?ll+(i-e)/(r-s):ll*ll+(e-t)/(r-s)),a.l*=gR,a.s*=mR,a.h*=Uue,a.h<UN&&(a.h+=Dg),a.h>=Dg&&(a.h-=Dg),a}function Lhe(n,e){return nz(n,e)?.a}function Phe(n,e){return nz(n,e)}function ry(n){const e=(n.h%Dg+Dg)%Dg,t=Math.max(vR,Math.min(mR,n.s)),i=Math.max(she,Math.min(gR,n.l)),r=e/Dg,s=t/mR,a=i/gR;if(t===vR){const _=Math.round(a*dg);return{r:_,g:_,b:_}}const o=(_,g,y)=>{if(y<0&&y++,y>1&&y--,y*D2<1)return _+(g-_)*D2*y;if(y*ll<1)return g;if(y*I2<1*ll){const S=ll/I2;return _+(g-_)*(S-y)*D2}return _},l=a<Rr?a*(ahe+s):a+s-a*s,c=ll*a-l,f=ohe/I2,h=Math.min(dg,dg*o(c,l,r+f)),v=Math.min(dg,dg*o(c,l,r)),m=Math.min(dg,dg*o(c,l,r-f));return{r:Math.round(h),g:Math.round(v),b:Math.round(m)}}function Ihe(n){const e=ry(n);return{a:n.a,b:e.b,g:e.g,r:e.r}}function sz(n){const e=lhe,t=YS+_R;return{b:Math.floor(vo(oi(e,t))),g:Math.floor(vo(oi(e,t))),r:Math.floor(vo(oi(e,t)))}}function Sc(n,e){return`rgba(${n.r}, ${n.g}, ${n.b}, ${e??xO})`}function vm(n,e){return`hsla(${n.h}, ${n.s}%, ${n.l}%, ${e??xO})`}function TO(n,e,t,i){let r=n,s=e;return r.r===void 0&&(r=ry(n)),s.r===void 0&&(s=ry(e)),{b:N2(r.b,s.b,t,i),g:N2(r.g,s.g,t,i),r:N2(r.r,s.r,t,i)}}function SR(n,e,t){if(t===ty)return sz();if(t===qS){const i=n.getFillColor()??n.getStrokeColor(),r=e?.getFillColor()??e?.getStrokeColor();if(i&&r&&e)return TO(i,r,n.getRadius(),e.getRadius());{const s=i??r;if(s)return ry(s)}}else return t}function az(n,e,t,i){const r=Cc(e)?e:e.value;return r===ty?i?Al(n,{value:r}):t?ty:qS:r===qS?qS:Al(n,{value:r})}function KN(n){return n!==void 0?{h:n.h.value,s:n.s.value,l:n.l.value}:void 0}function AO(n,e,t){const i={h:{enable:!1,value:n.h},s:{enable:!1,value:n.s},l:{enable:!1,value:n.l}};return e&&(F2(i.h,e.h,t),F2(i.s,e.s,t),F2(i.l,e.l,t)),i}function F2(n,e,t){n.enable=e.enable,n.enable?(n.velocity=cn(e.speed)/Ir*t,n.decay=H8-cn(e.decay),n.status=ks.increasing,n.loops=uhe,n.maxLoops=cn(e.count),n.time=hhe,n.delayTime=cn(e.delay)*js,e.sync||(n.velocity*=Yn(),n.value*=Yn()),n.initialValue=n.value,n.offset=oi(e.offset)):n.velocity=che}function U2(n,e,t,i){if(!n||!n.enable||(n.maxLoops??0)>0&&(n.loops??0)>(n.maxLoops??0)||(n.time||(n.time=0),(n.delayTime??0)>0&&n.time<(n.delayTime??0)&&(n.time+=i.value),(n.delayTime??0)>0&&n.time<(n.delayTime??0)))return;const f=n.offset?vo(n.offset):0,h=(n.velocity??0)*i.factor+f*3.6,v=n.decay??1,m=vu(e),_=ny(e);!t||n.status===ks.increasing?(n.value+=h,n.value>m&&(n.loops||(n.loops=0),n.loops++,t?n.status=ks.decreasing:n.value-=m)):(n.value-=h,n.value<0&&(n.loops||(n.loops=0),n.loops++,n.status=ks.increasing)),n.velocity&&v!==1&&(n.velocity*=v),n.value=qc(n.value,_,m)}function MO(n,e){if(!n)return;const{h:t,s:i,l:r}=n,s={h:{min:0,max:360},s:{min:0,max:100},l:{min:0,max:100}};t&&U2(t,s.h,!1,e),i&&U2(i,s.s,!0,e),r&&U2(r,s.l,!0,e)}function e1(n,e,t){n.beginPath(),n.moveTo(e.x,e.y),n.lineTo(t.x,t.y),n.closePath()}function Dhe(n,e,t){n.fillStyle=t??"rgba(0,0,0,0)",n.fillRect(Io.x,Io.y,e.width,e.height)}function Nhe(n,e,t,i){t&&(n.globalAlpha=i,n.drawImage(t,Io.x,Io.y,e.width,e.height),n.globalAlpha=1)}function k2(n,e){n.clearRect(Io.x,Io.y,e.width,e.height)}function Fhe(n){const{container:e,context:t,particle:i,delta:r,colorStyles:s,backgroundMask:a,composite:o,radius:l,opacity:c,shadow:f,transform:h}=n,v=i.getPosition(),m=i.rotation+(i.pathRotation?i.velocity.angle:V8),_={sin:Math.sin(m),cos:Math.cos(m)},g=!!m,y={a:_.cos*(h.a??dS.a),b:g?_.sin*(h.b??_R):h.b??dS.b,c:g?-_.sin*(h.c??_R):h.c??dS.c,d:_.cos*(h.d??dS.d)};t.setTransform(y.a,y.b,y.c,y.d,v.x,v.y),a&&(t.globalCompositeOperation=o);const u=i.shadowColor;f.enable&&u&&(t.shadowBlur=f.blur,t.shadowColor=Sc(u),t.shadowOffsetX=f.offset.x,t.shadowOffsetY=f.offset.y),s.fill&&(t.fillStyle=s.fill);const b=i.strokeWidth??W8;t.lineWidth=b,s.stroke&&(t.strokeStyle=s.stroke);const S={container:e,context:t,particle:i,radius:l,opacity:c,delta:r,transformData:y,strokeWidth:b};khe(S),Bhe(S),Uhe(S),t.globalCompositeOperation="source-over",t.resetTransform()}function Uhe(n){const{container:e,context:t,particle:i,radius:r,opacity:s,delta:a,transformData:o}=n;if(!i.effect)return;const l=e.effectDrawers.get(i.effect);l&&l.draw({context:t,particle:i,radius:r,opacity:s,delta:a,pixelRatio:e.retina.pixelRatio,transformData:{...o}})}function khe(n){const{container:e,context:t,particle:i,radius:r,opacity:s,delta:a,strokeWidth:o,transformData:l}=n;if(!i.shape)return;const c=e.shapeDrawers.get(i.shape);c&&(t.beginPath(),c.draw({context:t,particle:i,radius:r,opacity:s,delta:a,pixelRatio:e.retina.pixelRatio,transformData:{...l}}),i.shapeClose&&t.closePath(),o>W8&&t.stroke(),i.shapeFill&&t.fill())}function Bhe(n){const{container:e,context:t,particle:i,radius:r,opacity:s,delta:a,transformData:o}=n;if(!i.shape)return;const l=e.shapeDrawers.get(i.shape);l?.afterDraw&&l.afterDraw({context:t,particle:i,radius:r,opacity:s,delta:a,pixelRatio:e.retina.pixelRatio,transformData:{...o}})}function zhe(n,e,t){e.draw&&e.draw(n,t)}function Ghe(n,e,t,i){e.drawParticle&&e.drawParticle(n,t,i)}function Hhe(n,e,t){return{h:n.h,s:n.s,l:n.l+(e===nm.darken?-jN:jN)*t}}function $he(n,e,t){const i=e[t];i!==void 0&&(n[t]=(n[t]??Bue)*i)}function ZN(n,e,t=!1){if(!e)return;const i=n;if(!i)return;const r=i.style;if(!r)return;const s=new Set;for(const a in r)Object.prototype.hasOwnProperty.call(r,a)&&s.add(r[a]);for(const a in e)Object.prototype.hasOwnProperty.call(e,a)&&s.add(e[a]);for(const a of s){const o=e.getPropertyValue(a);o?r.setProperty(a,o,t?"important":""):r.removeProperty(a)}}class Vhe{constructor(e,t){this.container=e,this._applyPostDrawUpdaters=s=>{for(const a of this._postDrawUpdaters)a.afterDraw?.(s)},this._applyPreDrawUpdaters=(s,a,o,l,c,f)=>{for(const h of this._preDrawUpdaters){if(h.getColorStyles){const{fill:v,stroke:m}=h.getColorStyles(a,s,o,l);v&&(c.fill=v),m&&(c.stroke=m)}if(h.getTransformValues){const v=h.getTransformValues(a);for(const m in v)$he(f,v,m)}h.beforeDraw?.(a)}},this._applyResizePlugins=()=>{for(const s of this._resizePlugins)s.resize?.()},this._getPluginParticleColors=s=>{let a,o;for(const l of this._colorPlugins)if(!a&&l.particleFillColor&&(a=$d(this._engine,l.particleFillColor(s))),!o&&l.particleStrokeColor&&(o=$d(this._engine,l.particleStrokeColor(s))),a&&o)break;return[a,o]},this._initCover=async()=>{const s=this.container.actualOptions,a=s.backgroundMask.cover,o=a.color;if(o){const l=Al(this._engine,o);if(l){const c={...l,a:a.opacity};this._coverColorStyle=Sc(c,c.a)}}else await new Promise((l,c)=>{if(!a.image)return;const f=document.createElement("img");f.addEventListener("load",()=>{this._coverImage={image:f,opacity:a.opacity},l()}),f.addEventListener("error",h=>{c(h.error)}),f.src=a.image})},this._initStyle=()=>{const s=this.element,a=this.container.actualOptions;if(s){this._fullScreen?this._setFullScreenStyle():this._resetOriginalStyle();for(const o in a.style){if(!o||!a.style||!Object.prototype.hasOwnProperty.call(a.style,o))continue;const l=a.style[o];l&&s.style.setProperty(o,l,"important")}}},this._initTrail=async()=>{const s=this.container.actualOptions,a=s.particles.move.trail,o=a.fill;if(!a.enable)return;const l=z8/a.length;if(o.color){const c=Al(this._engine,o.color);if(!c)return;this._trailFill={color:{...c},opacity:l}}else await new Promise((c,f)=>{if(!o.image)return;const h=document.createElement("img");h.addEventListener("load",()=>{this._trailFill={image:h,opacity:l},c()}),h.addEventListener("error",v=>{f(v.error)}),h.src=o.image})},this._paintBase=s=>{this.draw(a=>Dhe(a,this.size,s))},this._paintImage=(s,a)=>{this.draw(o=>Nhe(o,this.size,s,a))},this._repairStyle=()=>{const s=this.element;if(!s)return;this._safeMutationObserver(o=>o.disconnect()),this._initStyle(),this.initBackground();const a=this._pointerEvents;s.style.pointerEvents=a,s.setAttribute("pointer-events",a),this._safeMutationObserver(o=>{!s||!(s instanceof Node)||o.observe(s,{attributes:!0})})},this._resetOriginalStyle=()=>{const s=this.element,a=this._originalStyle;!s||!a||ZN(s,a,!0)},this._safeMutationObserver=s=>{this._mutationObserver&&s(this._mutationObserver)},this._setFullScreenStyle=()=>{const s=this.element;s&&ZN(s,Ohe(this.container.actualOptions.fullScreen.zIndex),!0)},this._engine=t,this._standardSize={height:0,width:0};const i=e.retina.pixelRatio,r=this._standardSize;this.size={height:r.height*i,width:r.width*i},this._context=null,this._generated=!1,this._preDrawUpdaters=[],this._postDrawUpdaters=[],this._resizePlugins=[],this._colorPlugins=[],this._pointerEvents="none"}get _fullScreen(){return this.container.actualOptions.fullScreen.enable}clear(){const e=this.container.actualOptions,t=e.particles.move.trail,i=this._trailFill;e.backgroundMask.enable?this.paint():t.enable&&t.length>Gue&&i?i.color?this._paintBase(Sc(i.color,i.opacity)):i.image&&this._paintImage(i.image,i.opacity):e.clear&&this.draw(r=>{k2(r,this.size)})}destroy(){this.stop(),this._generated?(this.element?.remove(),this.element=void 0):this._resetOriginalStyle(),this._preDrawUpdaters=[],this._postDrawUpdaters=[],this._resizePlugins=[],this._colorPlugins=[]}draw(e){const t=this._context;if(t)return e(t)}drawAsync(e){const t=this._context;if(t)return e(t)}drawParticle(e,t){if(e.spawning||e.destroyed)return;const i=e.getRadius();if(i<=zue)return;const r=e.getFillColor(),s=e.getStrokeColor()??r;let[a,o]=this._getPluginParticleColors(e);a||(a=r),o||(o=s),!(!a&&!o)&&this.draw(l=>{const c=this.container,f=c.actualOptions,h=e.options.zIndex,v=Hue-e.zIndexFactor,m=v**h.opacityRate,_=e.bubble.opacity??e.opacity?.value??xO,g=e.strokeOpacity??_,y=_*m,u=g*m,b={},S={fill:a?vm(a,y):void 0};S.stroke=o?vm(o,u):S.fill,this._applyPreDrawUpdaters(l,e,i,y,S,b),Fhe({container:c,context:l,particle:e,delta:t,colorStyles:S,backgroundMask:f.backgroundMask.enable,composite:f.backgroundMask.composite,radius:i*v**h.sizeRate,opacity:y,shadow:e.options.shadow,transform:b}),this._applyPostDrawUpdaters(e)})}drawParticlePlugin(e,t,i){this.draw(r=>Ghe(r,e,t,i))}drawPlugin(e,t){this.draw(i=>zhe(i,e,t))}async init(){this._safeMutationObserver(e=>e.disconnect()),this._mutationObserver=whe(e=>{for(const t of e)t.type==="attributes"&&t.attributeName==="style"&&this._repairStyle()}),this.resize(),this._initStyle(),await this._initCover();try{await this._initTrail()}catch(e){tp().error(e)}this.initBackground(),this._safeMutationObserver(e=>{!this.element||!(this.element instanceof Node)||e.observe(this.element,{attributes:!0})}),this.initUpdaters(),this.initPlugins(),this.paint()}initBackground(){const e=this.container.actualOptions,t=e.background,i=this.element;if(!i)return;const r=i.style;if(r){if(t.color){const s=Al(this._engine,t.color);r.backgroundColor=s?Sc(s,t.opacity):""}else r.backgroundColor="";r.backgroundImage=t.image||"",r.backgroundPosition=t.position||"",r.backgroundRepeat=t.repeat||"",r.backgroundSize=t.size||""}}initPlugins(){this._resizePlugins=[];for(const e of this.container.plugins.values())e.resize&&this._resizePlugins.push(e),(e.particleFillColor??e.particleStrokeColor)&&this._colorPlugins.push(e)}initUpdaters(){this._preDrawUpdaters=[],this._postDrawUpdaters=[];for(const e of this.container.particles.updaters)e.afterDraw&&this._postDrawUpdaters.push(e),(e.getColorStyles??e.getTransformValues??e.beforeDraw)&&this._preDrawUpdaters.push(e)}loadCanvas(e){this._generated&&this.element&&this.element.remove(),this._generated=e.dataset&&Ig in e.dataset?e.dataset[Ig]==="true":this._generated,this.element=e,this.element.ariaHidden="true",this._originalStyle=Mhe(this.element.style);const t=this._standardSize;t.height=e.offsetHeight,t.width=e.offsetWidth;const i=this.container.retina.pixelRatio,r=this.size;e.height=r.height=t.height*i,e.width=r.width=t.width*i,this._context=this.element.getContext("2d"),this._safeMutationObserver(s=>s.disconnect()),this.container.retina.init(),this.initBackground(),this._safeMutationObserver(s=>{!this.element||!(this.element instanceof Node)||s.observe(this.element,{attributes:!0})})}paint(){const e=this.container.actualOptions;this.draw(t=>{e.backgroundMask.enable&&e.backgroundMask.cover?(k2(t,this.size),this._coverImage?this._paintImage(this._coverImage.image,this._coverImage.opacity):this._coverColorStyle?this._paintBase(this._coverColorStyle):this._paintBase()):this._paintBase()})}resize(){if(!this.element)return!1;const e=this.container,t=e.canvas._standardSize,i={width:this.element.offsetWidth,height:this.element.offsetHeight},r=e.retina.pixelRatio,s={width:i.width*r,height:i.height*r};if(i.height===t.height&&i.width===t.width&&s.height===this.element.height&&s.width===this.element.width)return!1;const a={...t};t.height=i.height,t.width=i.width;const o=this.size;return this.element.width=o.width=s.width,this.element.height=o.height=s.height,this.container.started&&e.particles.setResizeFactor({width:t.width/a.width,height:t.height/a.height}),!0}setPointerEvents(e){this.element&&(this._pointerEvents=e,this._repairStyle())}stop(){this._safeMutationObserver(e=>e.disconnect()),this._mutationObserver=void 0,this.draw(e=>k2(e,this.size))}async windowResize(){if(!this.element||!this.resize())return;const e=this.container,t=e.updateActualOptions();e.particles.setDensity(),this._applyResizePlugins(),t&&await e.refresh()}}var k0;(function(n){n.canvas="canvas",n.parent="parent",n.window="window"})(k0||(k0={}));function Yu(n,e,t,i,r){if(i){let s={passive:!0};j8(r)?s.capture=r:r!==void 0&&(s=r),n.addEventListener(e,t,s)}else{const s=r;n.removeEventListener(e,t,s)}}class Whe{constructor(e){this.container=e,this._doMouseTouchClick=t=>{const i=this.container,r=i.actualOptions;if(this._canPush){const s=i.interactivity.mouse,a=s.position;if(!a)return;s.clickPosition={...a},s.clickTime=new Date().getTime();const o=r.interactivity.events.onClick;ha(o.mode,l=>this.container.handleClickMode(l))}t.type==="touchend"&&setTimeout(()=>this._mouseTouchFinish(),rhe)},this._handleThemeChange=t=>{const i=t,r=this.container,s=r.options,a=s.defaultThemes,o=i.matches?a.dark:a.light;s.themes.find(c=>c.name===o)?.default.auto&&r.loadTheme(o)},this._handleVisibilityChange=()=>{const t=this.container,i=t.actualOptions;this._mouseTouchFinish(),i.pauseOnBlur&&(document?.hidden?(t.pageHidden=!0,t.pause()):(t.pageHidden=!1,t.animationStatus?t.play(!0):t.draw(!0)))},this._handleWindowResize=()=>{this._resizeTimeout&&(clearTimeout(this._resizeTimeout),delete this._resizeTimeout);const t=async()=>{await this.container.canvas?.windowResize()};this._resizeTimeout=setTimeout(()=>void t(),this.container.actualOptions.interactivity.events.resize.delay*js)},this._manageInteractivityListeners=(t,i)=>{const r=this._handlers,s=this.container,a=s.actualOptions,o=s.interactivity.element;if(!o)return;const l=o,c=s.canvas;c.setPointerEvents(l===c.element?"initial":"none"),(a.interactivity.events.onHover.enable||a.interactivity.events.onClick.enable)&&(Yu(o,Zg,r.mouseMove,i),Yu(o,R1,r.touchStart,i),Yu(o,Oue,r.touchMove,i),a.interactivity.events.onClick.enable?(Yu(o,LN,r.touchEndClick,i),Yu(o,Mue,r.mouseUp,i),Yu(o,M1,r.mouseDown,i)):Yu(o,LN,r.touchEnd,i),Yu(o,t,r.mouseLeave,i),Yu(o,Lue,r.touchCancel,i))},this._manageListeners=t=>{const i=this._handlers,r=this.container,s=r.actualOptions,a=s.interactivity.detectsOn,o=r.canvas.element;let l=pR;a===k0.window?(r.interactivity.element=window,l=Rue):a===k0.parent&&o?r.interactivity.element=o.parentElement??o.parentNode:r.interactivity.element=o,this._manageMediaMatch(t),this._manageResize(t),this._manageInteractivityListeners(l,t),document&&Yu(document,Iue,i.visibilityChange,t,!1)},this._manageMediaMatch=t=>{const i=this._handlers,r=SO("(prefers-color-scheme: dark)");if(r){if(r.addEventListener!==void 0){Yu(r,"change",i.themeChange,t);return}r.addListener!==void 0&&(t?r.addListener(i.oldThemeChange):r.removeListener(i.oldThemeChange))}},this._manageResize=t=>{const i=this._handlers,r=this.container;if(!r.actualOptions.interactivity.events.resize)return;if(typeof ResizeObserver>"u"){Yu(window,Pue,i.resize,t);return}const a=r.canvas.element;this._resizeObserver&&!t?(a&&this._resizeObserver.unobserve(a),this._resizeObserver.disconnect(),delete this._resizeObserver):!this._resizeObserver&&t&&a&&(this._resizeObserver=new ResizeObserver(o=>{o.find(c=>c.target===a)&&this._handleWindowResize()}),this._resizeObserver.observe(a))},this._mouseDown=()=>{const{interactivity:t}=this.container;if(!t)return;const{mouse:i}=t;i.clicking=!0,i.downPosition=i.position},this._mouseTouchClick=t=>{const i=this.container,r=i.actualOptions,{mouse:s}=i.interactivity;s.inside=!0;let a=!1;const o=s.position;if(!(!o||!r.interactivity.events.onClick.enable)){for(const l of i.plugins.values())if(l.clickPositionValid&&(a=l.clickPositionValid(o),a))break;a||this._doMouseTouchClick(t),s.clicking=!1}},this._mouseTouchFinish=()=>{const t=this.container.interactivity;if(!t)return;const i=t.mouse;delete i.position,delete i.clickPosition,delete i.downPosition,t.status=pR,i.inside=!1,i.clicking=!1},this._mouseTouchMove=t=>{const i=this.container,r=i.actualOptions,s=i.interactivity,a=i.canvas.element;if(!s?.element)return;s.mouse.inside=!0;let o;if(t.type.startsWith("pointer")){this._canPush=!0;const c=t;if(s.element===window){if(a){const f=a.getBoundingClientRect();o={x:c.clientX-f.left,y:c.clientY-f.top}}}else if(r.interactivity.detectsOn===k0.parent){const f=c.target,h=c.currentTarget;if(f&&h&&a){const v=f.getBoundingClientRect(),m=h.getBoundingClientRect(),_=a.getBoundingClientRect();o={x:c.offsetX+ll*v.left-(m.left+_.left),y:c.offsetY+ll*v.top-(m.top+_.top)}}else o={x:c.offsetX??c.clientX,y:c.offsetY??c.clientY}}else c.target===a&&(o={x:c.offsetX??c.clientX,y:c.offsetY??c.clientY})}else if(this._canPush=t.type!=="touchmove",a){const c=t,f=c.touches[c.touches.length-$8],h=a.getBoundingClientRect();o={x:f.clientX-(h.left??hE),y:f.clientY-(h.top??hE)}}const l=i.retina.pixelRatio;o&&(o.x*=l,o.y*=l),s.mouse.position=o,s.status=Zg},this._touchEnd=t=>{const i=t,r=Array.from(i.changedTouches);for(const s of r)this._touches.delete(s.identifier);this._mouseTouchFinish()},this._touchEndClick=t=>{const i=t,r=Array.from(i.changedTouches);for(const s of r)this._touches.delete(s.identifier);this._mouseTouchClick(t)},this._touchStart=t=>{const i=t,r=Array.from(i.changedTouches);for(const s of r)this._touches.set(s.identifier,performance.now());this._mouseTouchMove(t)},this._canPush=!0,this._touches=new Map,this._handlers={mouseDown:()=>this._mouseDown(),mouseLeave:()=>this._mouseTouchFinish(),mouseMove:t=>this._mouseTouchMove(t),mouseUp:t=>this._mouseTouchClick(t),touchStart:t=>this._touchStart(t),touchMove:t=>this._mouseTouchMove(t),touchEnd:t=>this._touchEnd(t),touchCancel:t=>this._touchEnd(t),touchEndClick:t=>this._touchEndClick(t),visibilityChange:()=>this._handleVisibilityChange(),themeChange:t=>this._handleThemeChange(t),oldThemeChange:t=>this._handleThemeChange(t),resize:()=>{this._handleWindowResize()}}}addListeners(){this._manageListeners(!0)}removeListeners(){this._manageListeners(!1)}}var yc;(function(n){n.configAdded="configAdded",n.containerInit="containerInit",n.particlesSetup="particlesSetup",n.containerStarted="containerStarted",n.containerStopped="containerStopped",n.containerDestroyed="containerDestroyed",n.containerPaused="containerPaused",n.containerPlay="containerPlay",n.containerBuilt="containerBuilt",n.particleAdded="particleAdded",n.particleDestroyed="particleDestroyed",n.particleRemoved="particleRemoved"})(yc||(yc={}));class vs{constructor(){this.value=""}static create(e,t){const i=new vs;return i.load(e),t!==void 0&&(Cc(t)||qo(t)?i.load({value:t}):i.load(t)),i}load(e){jt(e)||jt(e.value)||(this.value=e.value)}}class jhe{constructor(){this.color=new vs,this.color.value="",this.image="",this.position="",this.repeat="",this.size="",this.opacity=1}load(e){jt(e)||(e.color!==void 0&&(this.color=vs.create(this.color,e.color)),e.image!==void 0&&(this.image=e.image),e.position!==void 0&&(this.position=e.position),e.repeat!==void 0&&(this.repeat=e.repeat),e.size!==void 0&&(this.size=e.size),e.opacity!==void 0&&(this.opacity=e.opacity))}}class Xhe{constructor(){this.opacity=1}load(e){jt(e)||(e.color!==void 0&&(this.color=vs.create(this.color,e.color)),e.image!==void 0&&(this.image=e.image),e.opacity!==void 0&&(this.opacity=e.opacity))}}class qhe{constructor(){this.composite="destination-out",this.cover=new Xhe,this.enable=!1}load(e){if(!jt(e)){if(e.composite!==void 0&&(this.composite=e.composite),e.cover!==void 0){const t=e.cover,i=Cc(e.cover)?{color:e.cover}:e.cover;this.cover.load(t.color!==void 0||t.image!==void 0?t:{color:i})}e.enable!==void 0&&(this.enable=e.enable)}}}class Yhe{constructor(){this.enable=!0,this.zIndex=0}load(e){jt(e)||(e.enable!==void 0&&(this.enable=e.enable),e.zIndex!==void 0&&(this.zIndex=e.zIndex))}}class Khe{constructor(){this.enable=!1,this.mode=[]}load(e){jt(e)||(e.enable!==void 0&&(this.enable=e.enable),e.mode!==void 0&&(this.mode=e.mode))}}var sy;(function(n){n.circle="circle",n.rectangle="rectangle"})(sy||(sy={}));class QN{constructor(){this.selectors=[],this.enable=!1,this.mode=[],this.type=sy.circle}load(e){jt(e)||(e.selectors!==void 0&&(this.selectors=e.selectors),e.enable!==void 0&&(this.enable=e.enable),e.mode!==void 0&&(this.mode=e.mode),e.type!==void 0&&(this.type=e.type))}}class Zhe{constructor(){this.enable=!1,this.force=2,this.smooth=10}load(e){jt(e)||(e.enable!==void 0&&(this.enable=e.enable),e.force!==void 0&&(this.force=e.force),e.smooth!==void 0&&(this.smooth=e.smooth))}}class Qhe{constructor(){this.enable=!1,this.mode=[],this.parallax=new Zhe}load(e){jt(e)||(e.enable!==void 0&&(this.enable=e.enable),e.mode!==void 0&&(this.mode=e.mode),this.parallax.load(e.parallax))}}class Jhe{constructor(){this.delay=.5,this.enable=!0}load(e){jt(e)||(e.delay!==void 0&&(this.delay=e.delay),e.enable!==void 0&&(this.enable=e.enable))}}class ede{constructor(){this.onClick=new Khe,this.onDiv=new QN,this.onHover=new Qhe,this.resize=new Jhe}load(e){if(jt(e))return;this.onClick.load(e.onClick);const t=e.onDiv;t!==void 0&&(this.onDiv=ha(t,i=>{const r=new QN;return r.load(i),r})),this.onHover.load(e.onHover),this.resize.load(e.resize)}}class tde{constructor(e,t){this._engine=e,this._container=t}load(e){if(jt(e)||!this._container)return;const t=this._engine.interactors.get(this._container);if(t)for(const i of t)i.loadModeOptions&&i.loadModeOptions(this,e)}}class oz{constructor(e,t){this.detectsOn=k0.window,this.events=new ede,this.modes=new tde(e,t)}load(e){if(jt(e))return;const t=e.detectsOn;t!==void 0&&(this.detectsOn=t),this.events.load(e.events),this.modes.load(e.modes)}}class nde{load(e){jt(e)||(e.position&&(this.position={x:e.position.x??WN,y:e.position.y??WN,mode:e.position.mode??qh.percent}),e.options&&(this.options=ys({},e.options)))}}var Fg;(function(n){n.screen="screen",n.canvas="canvas"})(Fg||(Fg={}));class ide{constructor(){this.maxWidth=1/0,this.options={},this.mode=Fg.canvas}load(e){jt(e)||(jt(e.maxWidth)||(this.maxWidth=e.maxWidth),jt(e.mode)||(e.mode===Fg.screen?this.mode=Fg.screen:this.mode=Fg.canvas),jt(e.options)||(this.options=ys({},e.options)))}}var im;(function(n){n.any="any",n.dark="dark",n.light="light"})(im||(im={}));class rde{constructor(){this.auto=!1,this.mode=im.any,this.value=!1}load(e){jt(e)||(e.auto!==void 0&&(this.auto=e.auto),e.mode!==void 0&&(this.mode=e.mode),e.value!==void 0&&(this.value=e.value))}}class sde{constructor(){this.name="",this.default=new rde}load(e){jt(e)||(e.name!==void 0&&(this.name=e.name),this.default.load(e.default),e.options!==void 0&&(this.options=ys({},e.options)))}}class PC{constructor(){this.count=0,this.enable=!1,this.speed=1,this.decay=0,this.delay=0,this.sync=!1}load(e){jt(e)||(e.count!==void 0&&(this.count=oi(e.count)),e.enable!==void 0&&(this.enable=e.enable),e.speed!==void 0&&(this.speed=oi(e.speed)),e.decay!==void 0&&(this.decay=oi(e.decay)),e.delay!==void 0&&(this.delay=oi(e.delay)),e.sync!==void 0&&(this.sync=e.sync))}}class RO extends PC{constructor(){super(),this.mode=Ng.auto,this.startValue=Fd.random}load(e){super.load(e),!jt(e)&&(e.mode!==void 0&&(this.mode=e.mode),e.startValue!==void 0&&(this.startValue=e.startValue))}}class B2 extends PC{constructor(){super(),this.offset=0,this.sync=!0}load(e){super.load(e),!jt(e)&&e.offset!==void 0&&(this.offset=oi(e.offset))}}class ade{constructor(){this.h=new B2,this.s=new B2,this.l=new B2}load(e){jt(e)||(this.h.load(e.h),this.s.load(e.s),this.l.load(e.l))}}class ym extends vs{constructor(){super(),this.animation=new ade}static create(e,t){const i=new ym;return i.load(e),t!==void 0&&(Cc(t)||qo(t)?i.load({value:t}):i.load(t)),i}load(e){if(super.load(e),jt(e))return;const t=e.animation;t!==void 0&&(t.enable!==void 0?this.animation.h.load(t):this.animation.load(e.animation))}}var B0;(function(n){n.absorb="absorb",n.bounce="bounce",n.destroy="destroy"})(B0||(B0={}));class ode{constructor(){this.speed=2}load(e){jt(e)||e.speed!==void 0&&(this.speed=e.speed)}}class lde{constructor(){this.enable=!0,this.retries=0}load(e){jt(e)||(e.enable!==void 0&&(this.enable=e.enable),e.retries!==void 0&&(this.retries=e.retries))}}class wu{constructor(){this.value=0}load(e){jt(e)||jt(e.value)||(this.value=oi(e.value))}}class cde extends wu{constructor(){super(),this.animation=new PC}load(e){if(super.load(e),jt(e))return;const t=e.animation;t!==void 0&&this.animation.load(t)}}class lz extends cde{constructor(){super(),this.animation=new RO}load(e){super.load(e)}}class JN extends wu{constructor(){super(),this.value=1}}class cz{constructor(){this.horizontal=new JN,this.vertical=new JN}load(e){jt(e)||(this.horizontal.load(e.horizontal),this.vertical.load(e.vertical))}}class ude{constructor(){this.absorb=new ode,this.bounce=new cz,this.enable=!1,this.maxSpeed=50,this.mode=B0.bounce,this.overlap=new lde}load(e){jt(e)||(this.absorb.load(e.absorb),this.bounce.load(e.bounce),e.enable!==void 0&&(this.enable=e.enable),e.maxSpeed!==void 0&&(this.maxSpeed=oi(e.maxSpeed)),e.mode!==void 0&&(this.mode=e.mode),this.overlap.load(e.overlap))}}class hde{constructor(){this.close=!0,this.fill=!0,this.options={},this.type=[]}load(e){if(jt(e))return;const t=e.options;if(t!==void 0)for(const i in t){const r=t[i];r&&(this.options[i]=ys(this.options[i]??{},r))}e.close!==void 0&&(this.close=e.close),e.fill!==void 0&&(this.fill=e.fill),e.type!==void 0&&(this.type=e.type)}}class dde{constructor(){this.offset=0,this.value=90}load(e){jt(e)||(e.offset!==void 0&&(this.offset=oi(e.offset)),e.value!==void 0&&(this.value=oi(e.value)))}}class fde{constructor(){this.distance=200,this.enable=!1,this.rotate={x:3e3,y:3e3}}load(e){if(!jt(e)&&(e.distance!==void 0&&(this.distance=oi(e.distance)),e.enable!==void 0&&(this.enable=e.enable),e.rotate)){const t=e.rotate.x;t!==void 0&&(this.rotate.x=t);const i=e.rotate.y;i!==void 0&&(this.rotate.y=i)}}}class pde{constructor(){this.x=50,this.y=50,this.mode=qh.percent,this.radius=0}load(e){jt(e)||(e.x!==void 0&&(this.x=e.x),e.y!==void 0&&(this.y=e.y),e.mode!==void 0&&(this.mode=e.mode),e.radius!==void 0&&(this.radius=e.radius))}}class mde{constructor(){this.acceleration=9.81,this.enable=!1,this.inverse=!1,this.maxSpeed=50}load(e){jt(e)||(e.acceleration!==void 0&&(this.acceleration=oi(e.acceleration)),e.enable!==void 0&&(this.enable=e.enable),e.inverse!==void 0&&(this.inverse=e.inverse),e.maxSpeed!==void 0&&(this.maxSpeed=oi(e.maxSpeed)))}}class gde{constructor(){this.clamp=!0,this.delay=new wu,this.enable=!1,this.options={}}load(e){jt(e)||(e.clamp!==void 0&&(this.clamp=e.clamp),this.delay.load(e.delay),e.enable!==void 0&&(this.enable=e.enable),this.generator=e.generator,e.options&&(this.options=ys(this.options,e.options)))}}class vde{load(e){jt(e)||(e.color!==void 0&&(this.color=vs.create(this.color,e.color)),e.image!==void 0&&(this.image=e.image))}}class yde{constructor(){this.enable=!1,this.length=10,this.fill=new vde}load(e){jt(e)||(e.enable!==void 0&&(this.enable=e.enable),e.fill!==void 0&&this.fill.load(e.fill),e.length!==void 0&&(this.length=e.length))}}var No;(function(n){n.bounce="bounce",n.none="none",n.out="out",n.destroy="destroy",n.split="split"})(No||(No={}));class _de{constructor(){this.default=No.out}load(e){jt(e)||(e.default!==void 0&&(this.default=e.default),this.bottom=e.bottom??e.default,this.left=e.left??e.default,this.right=e.right??e.default,this.top=e.top??e.default)}}class bde{constructor(){this.acceleration=0,this.enable=!1}load(e){jt(e)||(e.acceleration!==void 0&&(this.acceleration=oi(e.acceleration)),e.enable!==void 0&&(this.enable=e.enable),e.position&&(this.position=ys({},e.position)))}}class xde{constructor(){this.angle=new dde,this.attract=new fde,this.center=new pde,this.decay=0,this.distance={},this.direction=wl.none,this.drift=0,this.enable=!1,this.gravity=new mde,this.path=new gde,this.outModes=new _de,this.random=!1,this.size=!1,this.speed=2,this.spin=new bde,this.straight=!1,this.trail=new yde,this.vibrate=!1,this.warp=!1}load(e){if(jt(e))return;this.angle.load(Ml(e.angle)?{value:e.angle}:e.angle),this.attract.load(e.attract),this.center.load(e.center),e.decay!==void 0&&(this.decay=oi(e.decay)),e.direction!==void 0&&(this.direction=e.direction),e.distance!==void 0&&(this.distance=Ml(e.distance)?{horizontal:e.distance,vertical:e.distance}:{...e.distance}),e.drift!==void 0&&(this.drift=oi(e.drift)),e.enable!==void 0&&(this.enable=e.enable),this.gravity.load(e.gravity);const t=e.outModes;t!==void 0&&(lm(t)?this.outModes.load(t):this.outModes.load({default:t})),this.path.load(e.path),e.random!==void 0&&(this.random=e.random),e.size!==void 0&&(this.size=e.size),e.speed!==void 0&&(this.speed=oi(e.speed)),this.spin.load(e.spin),e.straight!==void 0&&(this.straight=e.straight),this.trail.load(e.trail),e.vibrate!==void 0&&(this.vibrate=e.vibrate),e.warp!==void 0&&(this.warp=e.warp)}}class Sde extends RO{constructor(){super(),this.destroy=Gd.none,this.speed=2}load(e){super.load(e),!jt(e)&&e.destroy!==void 0&&(this.destroy=e.destroy)}}class wde extends lz{constructor(){super(),this.animation=new Sde,this.value=1}load(e){if(jt(e))return;super.load(e);const t=e.animation;t!==void 0&&this.animation.load(t)}}class Ede{constructor(){this.enable=!1,this.width=1920,this.height=1080}load(e){if(jt(e))return;e.enable!==void 0&&(this.enable=e.enable);const t=e.width;t!==void 0&&(this.width=t);const i=e.height;i!==void 0&&(this.height=i)}}var L1;(function(n){n.delete="delete",n.wait="wait"})(L1||(L1={}));class Cde{constructor(){this.mode=L1.delete,this.value=0}load(e){jt(e)||(e.mode!==void 0&&(this.mode=e.mode),e.value!==void 0&&(this.value=e.value))}}class Tde{constructor(){this.density=new Ede,this.limit=new Cde,this.value=0}load(e){jt(e)||(this.density.load(e.density),this.limit.load(e.limit),e.value!==void 0&&(this.value=e.value))}}class Ade{constructor(){this.blur=0,this.color=new vs,this.enable=!1,this.offset={x:0,y:0},this.color.value="#000"}load(e){jt(e)||(e.blur!==void 0&&(this.blur=e.blur),this.color=vs.create(this.color,e.color),e.enable!==void 0&&(this.enable=e.enable),e.offset!==void 0&&(e.offset.x!==void 0&&(this.offset.x=e.offset.x),e.offset.y!==void 0&&(this.offset.y=e.offset.y)))}}class Mde{constructor(){this.close=!0,this.fill=!0,this.options={},this.type="circle"}load(e){if(jt(e))return;const t=e.options;if(t!==void 0)for(const i in t){const r=t[i];r&&(this.options[i]=ys(this.options[i]??{},r))}e.close!==void 0&&(this.close=e.close),e.fill!==void 0&&(this.fill=e.fill),e.type!==void 0&&(this.type=e.type)}}class Rde extends RO{constructor(){super(),this.destroy=Gd.none,this.speed=5}load(e){super.load(e),!jt(e)&&e.destroy!==void 0&&(this.destroy=e.destroy)}}class Ode extends lz{constructor(){super(),this.animation=new Rde,this.value=3}load(e){if(super.load(e),jt(e))return;const t=e.animation;t!==void 0&&this.animation.load(t)}}class e5{constructor(){this.width=0}load(e){jt(e)||(e.color!==void 0&&(this.color=ym.create(this.color,e.color)),e.width!==void 0&&(this.width=oi(e.width)),e.opacity!==void 0&&(this.opacity=oi(e.opacity)))}}class Lde extends wu{constructor(){super(),this.opacityRate=1,this.sizeRate=1,this.velocityRate=1}load(e){super.load(e),!jt(e)&&(e.opacityRate!==void 0&&(this.opacityRate=e.opacityRate),e.sizeRate!==void 0&&(this.sizeRate=e.sizeRate),e.velocityRate!==void 0&&(this.velocityRate=e.velocityRate))}}class Pde{constructor(e,t){this._engine=e,this._container=t,this.bounce=new cz,this.collisions=new ude,this.color=new ym,this.color.value="#fff",this.effect=new hde,this.groups={},this.move=new xde,this.number=new Tde,this.opacity=new wde,this.reduceDuplicates=!1,this.shadow=new Ade,this.shape=new Mde,this.size=new Ode,this.stroke=new e5,this.zIndex=new Lde}load(e){if(jt(e))return;if(e.groups!==void 0)for(const i of Object.keys(e.groups)){if(!Object.hasOwn(e.groups,i))continue;const r=e.groups[i];r!==void 0&&(this.groups[i]=ys(this.groups[i]??{},r))}e.reduceDuplicates!==void 0&&(this.reduceDuplicates=e.reduceDuplicates),this.bounce.load(e.bounce),this.color.load(ym.create(this.color,e.color)),this.effect.load(e.effect),this.move.load(e.move),this.number.load(e.number),this.opacity.load(e.opacity),this.shape.load(e.shape),this.size.load(e.size),this.shadow.load(e.shadow),this.zIndex.load(e.zIndex),this.collisions.load(e.collisions),e.interactivity!==void 0&&(this.interactivity=ys({},e.interactivity));const t=e.stroke;if(t&&(this.stroke=ha(t,i=>{const r=new e5;return r.load(i),r})),this._container){const i=this._engine.updaters.get(this._container);if(i)for(const s of i)s.loadOptions&&s.loadOptions(this,e);const r=this._engine.interactors.get(this._container);if(r)for(const s of r)s.loadParticlesOptions&&s.loadParticlesOptions(this,e)}}}function uz(n,...e){for(const t of e)n.load(t)}function OO(n,e,...t){const i=new Pde(n,e);return uz(i,...t),i}class Ide{constructor(e,t){this._findDefaultTheme=i=>this.themes.find(r=>r.default.value&&r.default.mode===i)??this.themes.find(r=>r.default.value&&r.default.mode===im.any),this._importPreset=i=>{this.load(this._engine.getPreset(i))},this._engine=e,this._container=t,this.autoPlay=!0,this.background=new jhe,this.backgroundMask=new qhe,this.clear=!0,this.defaultThemes={},this.delay=0,this.fullScreen=new Yhe,this.detectRetina=!0,this.duration=0,this.fpsLimit=120,this.interactivity=new oz(e,t),this.manualParticles=[],this.particles=OO(this._engine,this._container),this.pauseOnBlur=!0,this.pauseOnOutsideViewport=!0,this.responsive=[],this.smooth=!1,this.style={},this.themes=[],this.zLayers=100}load(e){if(jt(e))return;e.preset!==void 0&&ha(e.preset,a=>this._importPreset(a)),e.autoPlay!==void 0&&(this.autoPlay=e.autoPlay),e.clear!==void 0&&(this.clear=e.clear),e.key!==void 0&&(this.key=e.key),e.name!==void 0&&(this.name=e.name),e.delay!==void 0&&(this.delay=oi(e.delay));const t=e.detectRetina;t!==void 0&&(this.detectRetina=t),e.duration!==void 0&&(this.duration=oi(e.duration));const i=e.fpsLimit;i!==void 0&&(this.fpsLimit=i),e.pauseOnBlur!==void 0&&(this.pauseOnBlur=e.pauseOnBlur),e.pauseOnOutsideViewport!==void 0&&(this.pauseOnOutsideViewport=e.pauseOnOutsideViewport),e.zLayers!==void 0&&(this.zLayers=e.zLayers),this.background.load(e.background);const r=e.fullScreen;j8(r)?this.fullScreen.enable=r:this.fullScreen.load(r),this.backgroundMask.load(e.backgroundMask),this.interactivity.load(e.interactivity),e.manualParticles&&(this.manualParticles=e.manualParticles.map(a=>{const o=new nde;return o.load(a),o})),this.particles.load(e.particles),this.style=ys(this.style,e.style),this._engine.loadOptions(this,e),e.smooth!==void 0&&(this.smooth=e.smooth);const s=this._engine.interactors.get(this._container);if(s)for(const a of s)a.loadOptions&&a.loadOptions(this,e);if(e.responsive!==void 0)for(const a of e.responsive){const o=new ide;o.load(a),this.responsive.push(o)}if(this.responsive.sort((a,o)=>a.maxWidth-o.maxWidth),e.themes!==void 0)for(const a of e.themes){const o=this.themes.find(l=>l.name===a.name);if(o)o.load(a);else{const l=new sde;l.load(a),this.themes.push(l)}}this.defaultThemes.dark=this._findDefaultTheme(im.dark)?.name,this.defaultThemes.light=this._findDefaultTheme(im.light)?.name}setResponsive(e,t,i){this.load(i);const r=this.responsive.find(s=>s.mode===Fg.screen&&screen?s.maxWidth>screen.availWidth:s.maxWidth*t>e);return this.load(r?.options),r?.maxWidth}setTheme(e){if(e){const t=this.themes.find(i=>i.name===e);t&&this.load(t.options)}else{const t=SO("(prefers-color-scheme: dark)"),i=t?.matches,r=this._findDefaultTheme(i?im.dark:im.light);r&&this.load(r.options)}}}var ay;(function(n){n.external="external",n.particles="particles"})(ay||(ay={}));class Dde{constructor(e,t){this.container=t,this._engine=e,this._interactors=[],this._externalInteractors=[],this._particleInteractors=[]}externalInteract(e){for(const t of this._externalInteractors)t.isEnabled()&&t.interact(e)}handleClickMode(e){for(const t of this._externalInteractors)t.handleClickMode?.(e)}async init(){this._interactors=await this._engine.getInteractors(this.container,!0),this._externalInteractors=[],this._particleInteractors=[];for(const e of this._interactors){switch(e.type){case ay.external:this._externalInteractors.push(e);break;case ay.particles:this._particleInteractors.push(e);break}e.init()}}particlesInteract(e,t){for(const i of this._externalInteractors)i.clear(e,t);for(const i of this._particleInteractors)i.isEnabled(e)&&i.interact(e,t)}reset(e){for(const t of this._externalInteractors)t.isEnabled()&&t.reset(e);for(const t of this._particleInteractors)t.isEnabled(e)&&t.reset(e)}}var Vh;(function(n){n.normal="normal",n.inside="inside",n.outside="outside"})(Vh||(Vh={}));function Nde(n,e,t,i){const r=e.options[n];if(r)return ys({close:e.close,fill:e.fill},yo(r,t,i))}function Fde(n,e,t,i){const r=e.options[n];if(r)return ys({close:e.close,fill:e.fill},yo(r,t,i))}function t5(n){if(!Rs(n.outMode,n.checkModes))return;const e=n.radius*ll;n.coord>n.maxCoord-e?n.setCb(-n.radius):n.coord<e&&n.setCb(n.radius)}class Ude{constructor(e,t){this.container=t,this._calcPosition=(i,r,s,a=IN)=>{for(const _ of i.plugins.values()){const g=_.particlePosition!==void 0?_.particlePosition(r,this):void 0;if(g)return pu.create(g.x,g.y,s)}const o=i.canvas.size,l=vhe({size:o,position:r}),c=pu.create(l.x,l.y,s),f=this.getRadius(),h=this.options.move.outModes,v=_=>{t5({outMode:_,checkModes:[No.bounce],coord:c.x,maxCoord:i.canvas.size.width,setCb:g=>c.x+=g,radius:f})},m=_=>{t5({outMode:_,checkModes:[No.bounce],coord:c.y,maxCoord:i.canvas.size.height,setCb:g=>c.y+=g,radius:f})};return v(h.left??h.default),v(h.right??h.default),m(h.top??h.default),m(h.bottom??h.default),this._checkOverlap(c,a)?this._calcPosition(i,void 0,s,a+Zue):c},this._calculateVelocity=()=>{const i=ghe(this.direction),r=i.copy(),s=this.options.move;if(s.direction===wl.inside||s.direction===wl.outside)return r;const a=$h(cn(s.angle.value)),o=$h(cn(s.angle.offset)),l={left:o-a*Rr,right:o+a*Rr};return s.straight||(r.angle+=vo(oi(l.left,l.right))),s.random&&typeof s.speed=="number"&&(r.length*=Yn()),r},this._checkOverlap=(i,r=IN)=>{const s=this.options.collisions,a=this.getRadius();if(!s.enable)return!1;const o=s.overlap;if(o.enable)return!1;const l=o.retries;if(l>=Que&&r>l)throw new Error(`${cl} particle is overlapping and can't be placed`);return!!this.container.particles.find(c=>Tl(i,c.position)<a+c.getRadius())},this._getRollColor=i=>{if(!i||!this.roll||!this.backColor&&!this.roll.alter)return i;const r=this.roll.horizontal&&this.roll.vertical?ll*GN:GN,s=this.roll.horizontal?Math.PI*Rr:O1;return Math.floor(((this.roll.angle??O1)+s)/(Math.PI/r))%ll?this.backColor?this.backColor:this.roll.alter?Hhe(i,this.roll.alter.type,this.roll.alter.value):i:i},this._initPosition=i=>{const r=this.container,s=cn(this.options.zIndex.value);this.position=this._calcPosition(r,i,qc(s,Jue,r.zLayers)),this.initialPosition=this.position.copy();const a=r.canvas.size;switch(this.moveCenter={...CO(this.options.move.center,a),radius:this.options.move.center.radius??ehe,mode:this.options.move.center.mode??qh.percent},this.direction=mhe(this.options.move.direction,this.position,this.moveCenter),this.options.move.direction){case wl.inside:this.outType=Vh.inside;break;case wl.outside:this.outType=Vh.outside;break}this.offset=Er.origin},this._engine=e}destroy(e){if(this.unbreakable||this.destroyed)return;this.destroyed=!0,this.bubble.inRange=!1,this.slow.inRange=!1;const t=this.container,i=this.pathGenerator;t.shapeDrawers.get(this.shape)?.particleDestroy?.(this);for(const s of t.plugins.values())s.particleDestroyed?.(this,e);for(const s of t.particles.updaters)s.particleDestroyed?.(this,e);i?.reset(this),this._engine.dispatchEvent(yc.particleDestroyed,{container:this.container,data:{particle:this}})}draw(e){const t=this.container,i=t.canvas;for(const r of t.plugins.values())i.drawParticlePlugin(r,this,e);i.drawParticle(this,e)}getFillColor(){return this._getRollColor(this.bubble.color??KN(this.color))}getMass(){return this.getRadius()**zf*Math.PI*Rr}getPosition(){return{x:this.position.x+this.offset.x,y:this.position.y+this.offset.y,z:this.position.z}}getRadius(){return this.bubble.radius??this.size.value}getStrokeColor(){return this._getRollColor(this.bubble.color??KN(this.strokeColor))}init(e,t,i,r){const s=this.container,a=this._engine;this.id=e,this.group=r,this.effectClose=!0,this.effectFill=!0,this.shapeClose=!0,this.shapeFill=!0,this.pathRotation=!1,this.lastPathTime=0,this.destroyed=!1,this.unbreakable=!1,this.isRotating=!1,this.rotation=0,this.misplaced=!1,this.retina={maxDistance:{}},this.outType=Vh.normal,this.ignoresResizeRatio=!0;const o=s.retina.pixelRatio,l=s.actualOptions,c=OO(this._engine,s,l.particles),{reduceDuplicates:f}=c,h=c.effect.type,v=c.shape.type;this.effect=yo(h,this.id,f),this.shape=yo(v,this.id,f);const m=c.effect,_=c.shape;if(i){if(i.effect?.type){const C=i.effect.type,I=yo(C,this.id,f);I&&(this.effect=I,m.load(i.effect))}if(i.shape?.type){const C=i.shape.type,I=yo(C,this.id,f);I&&(this.shape=I,_.load(i.shape))}}if(this.effect===ty){const C=[...this.container.effectDrawers.keys()];this.effect=C[Math.floor(Yn()*C.length)]}if(this.shape===ty){const C=[...this.container.shapeDrawers.keys()];this.shape=C[Math.floor(Yn()*C.length)]}this.effectData=Nde(this.effect,m,this.id,f),this.shapeData=Fde(this.shape,_,this.id,f),c.load(i);const g=this.effectData;g&&c.load(g.particles);const y=this.shapeData;y&&c.load(y.particles);const u=new oz(a,s);u.load(s.actualOptions.interactivity),u.load(c.interactivity),this.interactivity=u,this.effectFill=g?.fill??c.effect.fill,this.effectClose=g?.close??c.effect.close,this.shapeFill=y?.fill??c.shape.fill,this.shapeClose=y?.close??c.shape.close,this.options=c;const b=this.options.move.path;this.pathDelay=cn(b.delay.value)*js,b.generator&&(this.pathGenerator=this._engine.getPathGenerator(b.generator),this.pathGenerator&&s.addPath(b.generator,this.pathGenerator)&&this.pathGenerator.init(s)),s.retina.initParticle(this),this.size=ez(this.options.size,o),this.bubble={inRange:!1},this.slow={inRange:!1,factor:1},this._initPosition(t),this.initialVelocity=this._calculateVelocity(),this.velocity=this.initialVelocity.copy(),this.moveDecay=H8-cn(this.options.move.decay);const S=s.particles;S.setLastZIndex(this.position.z),this.zIndexFactor=this.position.z/s.zLayers,this.sides=24;let T=s.effectDrawers.get(this.effect);T||(T=this._engine.getEffectDrawer(this.effect),T&&s.effectDrawers.set(this.effect,T)),T?.loadEffect&&T.loadEffect(this);let R=s.shapeDrawers.get(this.shape);R||(R=this._engine.getShapeDrawer(this.shape),R&&s.shapeDrawers.set(this.shape,R)),R?.loadShape&&R.loadShape(this);const O=R?.getSidesCount;O&&(this.sides=O(this)),this.spawning=!1,this.shadowColor=Al(this._engine,this.options.shadow.color);for(const C of S.updaters)C.init(this);for(const C of S.movers)C.init?.(this);T?.particleInit?.(s,this),R?.particleInit?.(s,this);for(const C of s.plugins.values())C.particleCreated?.(this)}isInsideCanvas(){const e=this.getRadius(),t=this.container.canvas.size,i=this.position;return i.x>=-e&&i.y>=-e&&i.y<=t.height+e&&i.x<=t.width+e}isVisible(){return!this.destroyed&&!this.spawning&&this.isInsideCanvas()}reset(){for(const e of this.container.particles.updaters)e.reset?.(this)}}class kde{constructor(e,t){this.position=e,this.particle=t}}var z0;(function(n){n.circle="circle",n.rectangle="rectangle"})(z0||(z0={}));class hz{constructor(e,t,i){this.position={x:e,y:t},this.type=i}}class Vl extends hz{constructor(e,t,i){super(e,t,z0.circle),this.radius=i}contains(e){return Tl(e,this.position)<=this.radius}intersects(e){const t=this.position,i=e.position,r={x:Math.abs(i.x-t.x),y:Math.abs(i.y-t.y)},s=this.radius;if(e instanceof Vl||e.type===z0.circle){const a=e,o=s+a.radius,l=Math.sqrt(r.x**zf+r.y**zf);return o>l}else if(e instanceof Yh||e.type===z0.rectangle){const a=e,{width:o,height:l}=a.size;return Math.pow(r.x-o,zf)+Math.pow(r.y-l,zf)<=s**zf||r.x<=s+o&&r.y<=s+l||r.x<=o||r.y<=l}return!1}}class Yh extends hz{constructor(e,t,i,r){super(e,t,z0.rectangle),this.size={height:r,width:i}}contains(e){const t=this.size.width,i=this.size.height,r=this.position;return e.x>=r.x&&e.x<=r.x+t&&e.y>=r.y&&e.y<=r.y+i}intersects(e){if(e instanceof Vl)return e.intersects(this);const t=this.size.width,i=this.size.height,r=this.position,s=e.position,a=e instanceof Yh?e.size:{width:0,height:0},o=a.width,l=a.height;return s.x<r.x+t&&s.x+o>r.x&&s.y<r.y+i&&s.y+l>r.y}}class fE{constructor(e,t){this.rectangle=e,this.capacity=t,this._subdivide=()=>{const{x:i,y:r}=this.rectangle.position,{width:s,height:a}=this.rectangle.size,{capacity:o}=this;for(let l=0;l<Fue;l++){const c=l%ll;this._subs.push(new fE(new Yh(i+s*Rr*c,r+a*Rr*(Math.round(l*Rr)-c),s*Rr,a*Rr),o))}this._divided=!0},this._points=[],this._divided=!1,this._subs=[]}insert(e){return this.rectangle.contains(e.position)?this._points.length<this.capacity?(this._points.push(e),!0):(this._divided||this._subdivide(),this._subs.some(t=>t.insert(e))):!1}query(e,t){const i=[];if(!e.intersects(this.rectangle))return[];for(const r of this._points)!e.contains(r.position)&&Tl(e.position,r.position)>r.particle.getRadius()&&(!t||t(r.particle))||i.push(r.particle);if(this._divided)for(const r of this._subs)i.push(...r.query(e,t));return i}queryCircle(e,t,i){return this.query(new Vl(e.x,e.y,t),i)}queryRectangle(e,t,i){return this.query(new Yh(e.x,e.y,t.width,t.height),i)}}const n5=n=>{const{height:e,width:t}=n;return new Yh(HN*t,HN*e,$N*t,$N*e)};let Bde=class{constructor(e,t){this._addToPool=(...r)=>{this._pool.push(...r)},this._applyDensity=(r,s,a,o)=>{const l=r.number;if(!r.number.density?.enable){a===void 0?this._limit=l.limit.value:(o?.number.limit?.value??l.limit.value)&&this._groupLimits.set(a,o?.number.limit?.value??l.limit.value);return}const c=this._initDensityFactor(l.density),f=l.value,h=l.limit.value>VN?l.limit.value:f,v=Math.min(f,h)*c+s,m=Math.min(this.count,this.filter(_=>_.group===a).length);a===void 0?this._limit=l.limit.value*c:this._groupLimits.set(a,l.limit.value*c),m<v?this.push(Math.abs(v-m),void 0,r,a):m>v&&this.removeQuantity(m-v,a)},this._initDensityFactor=r=>{const s=this._container;if(!s.canvas.element||!r.enable)return ihe;const a=s.canvas.element,o=s.retina.pixelRatio;return a.width*a.height/(r.height*r.width*o**zf)},this._pushParticle=(r,s,a,o)=>{try{let l=this._pool.pop();l||(l=new Ude(this._engine,this._container)),l.init(this._nextId,r,s,a);let c=!0;return o&&(c=o(l)),c?(this._array.push(l),this._zArray.push(l),this._nextId++,this._engine.dispatchEvent(yc.particleAdded,{container:this._container,data:{particle:l}}),l):void 0}catch(l){tp().warning(`${cl} adding particle: ${l}`)}},this._removeParticle=(r,s,a)=>{const o=this._array[r];if(!o||o.group!==s)return!1;const l=this._zArray.indexOf(o);return this._array.splice(r,dE),this._zArray.splice(l,dE),o.destroy(a),this._engine.dispatchEvent(yc.particleRemoved,{container:this._container,data:{particle:o}}),this._addToPool(o),!0},this._engine=e,this._container=t,this._nextId=0,this._array=[],this._zArray=[],this._pool=[],this._limit=0,this._groupLimits=new Map,this._needsSort=!1,this._lastZIndex=0,this._interactionManager=new Dde(e,t),this._pluginsInitialized=!1;const i=t.canvas.size;this.quadTree=new fE(n5(i),DN),this.movers=[],this.updaters=[]}get count(){return this._array.length}addManualParticles(){const e=this._container;e.actualOptions.manualParticles.forEach(i=>this.addParticle(i.position?CO(i.position,e.canvas.size):void 0,i.options))}addParticle(e,t,i,r){const s=this._container.actualOptions.particles.number.limit.mode,a=i===void 0?this._limit:this._groupLimits.get(i)??this._limit,o=this.count;if(a>VN)switch(s){case L1.delete:{const l=o+the-a;l>nhe&&this.removeQuantity(l);break}case L1.wait:if(o>=a)return;break}return this._pushParticle(e,t,i,r)}clear(){this._array=[],this._zArray=[],this._pluginsInitialized=!1}destroy(){this._array=[],this._zArray=[],this.movers=[],this.updaters=[]}draw(e){const t=this._container,i=t.canvas;i.clear(),this.update(e);for(const r of t.plugins.values())i.drawPlugin(r,e);for(const r of this._zArray)r.draw(e)}filter(e){return this._array.filter(e)}find(e){return this._array.find(e)}get(e){return this._array[e]}handleClickMode(e){this._interactionManager.handleClickMode(e)}async init(){const e=this._container,t=e.actualOptions;this._lastZIndex=0,this._needsSort=!1,await this.initPlugins();let i=!1;for(const r of e.plugins.values())if(i=r.particlesInitialization?.()??i,i)break;if(this.addManualParticles(),!i){const r=t.particles,s=r.groups;for(const a in s){const o=s[a];for(let l=this.count,c=0;c<o.number?.value&&l<r.number.value;l++,c++)this.addParticle(void 0,o,a)}for(let a=this.count;a<r.number.value;a++)this.addParticle()}}async initPlugins(){if(this._pluginsInitialized)return;const e=this._container;this.movers=await this._engine.getMovers(e,!0),this.updaters=await this._engine.getUpdaters(e,!0),await this._interactionManager.init();for(const t of e.pathGenerators.values())t.init(e)}push(e,t,i,r){for(let s=0;s<e;s++)this.addParticle(t?.position,i,r)}async redraw(){this.clear(),await this.init(),this.draw({value:0,factor:0})}remove(e,t,i){this.removeAt(this._array.indexOf(e),void 0,t,i)}removeAt(e,t=Nue,i,r){if(e<yR||e>this.count)return;let s=0;for(let a=e;s<t&&a<this.count;a++)this._removeParticle(a,i,r)&&(a--,s++)}removeQuantity(e,t){this.removeAt(yR,e,t)}setDensity(){const e=this._container.actualOptions,t=e.particles.groups,i=e.manualParticles.length;for(const r in t)this._applyDensity(t[r],i,r);this._applyDensity(e.particles,i)}setLastZIndex(e){this._lastZIndex=e,this._needsSort=this._needsSort||this._lastZIndex<e}setResizeFactor(e){this._resizeFactor=e}update(e){const t=this._container,i=new Set;this.quadTree=new fE(n5(t.canvas.size),DN);for(const s of t.pathGenerators.values())s.update();for(const s of t.plugins.values())s.update?.(e);const r=this._resizeFactor;for(const s of this._array){r&&!s.ignoresResizeRatio&&(s.position.x*=r.width,s.position.y*=r.height,s.initialPosition.x*=r.width,s.initialPosition.y*=r.height),s.ignoresResizeRatio=!1,this._interactionManager.reset(s);for(const a of this._container.plugins.values()){if(s.destroyed)break;a.particleUpdate?.(s,e)}for(const a of this.movers)a.isEnabled(s)&&a.move(s,e);if(s.destroyed){i.add(s);continue}this.quadTree.insert(new kde(s.getPosition(),s))}if(i.size){const s=a=>!i.has(a);this._array=this.filter(s),this._zArray=this._zArray.filter(s);for(const a of i)this._engine.dispatchEvent(yc.particleRemoved,{container:this._container,data:{particle:a}});this._addToPool(...i)}this._interactionManager.externalInteract(e);for(const s of this._array){for(const a of this.updaters)a.update(s,e);!s.destroyed&&!s.spawning&&this._interactionManager.particlesInteract(s,e)}if(delete this._resizeFactor,this._needsSort){const s=this._zArray;s.sort((a,o)=>o.position.z-a.position.z||a.id-o.id),this._lastZIndex=s[s.length-$8].position.z,this._needsSort=!1}}};class zde{constructor(e){this.container=e,this.pixelRatio=NN,this.reduceFactor=FN}init(){const e=this.container,t=e.actualOptions;this.pixelRatio=!t.detectRetina||Qg()?NN:devicePixelRatio,this.reduceFactor=FN;const i=this.pixelRatio,r=e.canvas;if(r.element){const o=r.element;r.size.width=o.offsetWidth*i,r.size.height=o.offsetHeight*i}const s=t.particles,a=s.move;this.maxSpeed=cn(a.gravity.maxSpeed)*i,this.sizeAnimationSpeed=cn(s.size.animation.speed)*i}initParticle(e){const t=e.options,i=this.pixelRatio,r=t.move,s=r.distance,a=e.retina;a.moveDrift=cn(r.drift)*i,a.moveSpeed=cn(r.speed)*i,a.sizeAnimationSpeed=cn(t.size.animation.speed)*i;const o=a.maxDistance;o.horizontal=s.horizontal!==void 0?s.horizontal*i:void 0,o.vertical=s.vertical!==void 0?s.vertical*i:void 0,a.maxSpeed=cn(r.gravity.maxSpeed)*i}}function no(n){return n&&!n.destroyed}function Gde(n,e=L2,t=!1){return{value:n,factor:t?L2/e:L2*n/js}}function v0(n,e,...t){const i=new Ide(n,e);return uz(i,...t),i}class Hde{constructor(e,t,i){this._intersectionManager=r=>{if(!(!no(this)||!this.actualOptions.pauseOnOutsideViewport))for(const s of r)s.target===this.interactivity.element&&(s.isIntersecting?this.play():this.pause())},this._nextFrame=r=>{try{if(!this._smooth&&this._lastFrameTime!==void 0&&r<this._lastFrameTime+js/this.fpsLimit){this.draw(!1);return}this._lastFrameTime??=r;const s=Gde(r-this._lastFrameTime,this.fpsLimit,this._smooth);if(this.addLifeTime(s.value),this._lastFrameTime=r,s.value>js){this.draw(!1);return}if(this.particles.draw(s),!this.alive()){this.destroy();return}this.animationStatus&&this.draw(!1)}catch(s){tp().error(`${cl} in animation loop`,s)}},this._engine=e,this.id=Symbol(t),this.fpsLimit=120,this._smooth=!1,this._delay=0,this._duration=0,this._lifeTime=0,this._firstStart=!0,this.started=!1,this.destroyed=!1,this._paused=!0,this._lastFrameTime=0,this.zLayers=100,this.pageHidden=!1,this._clickHandlers=new Map,this._sourceOptions=i,this._initialSourceOptions=i,this.retina=new zde(this),this.canvas=new Vhe(this,this._engine),this.particles=new Bde(this._engine,this),this.pathGenerators=new Map,this.interactivity={mouse:{clicking:!1,inside:!1}},this.plugins=new Map,this.effectDrawers=new Map,this.shapeDrawers=new Map,this._options=v0(this._engine,this),this.actualOptions=v0(this._engine,this),this._eventListeners=new Whe(this),this._intersectionObserver=She(r=>this._intersectionManager(r)),this._engine.dispatchEvent(yc.containerBuilt,{container:this})}get animationStatus(){return!this._paused&&!this.pageHidden&&no(this)}get options(){return this._options}get sourceOptions(){return this._sourceOptions}addClickHandler(e){if(!no(this))return;const t=this.interactivity.element;if(!t)return;const i=(h,v,m)=>{if(!no(this))return;const _=this.retina.pixelRatio,g={x:v.x*_,y:v.y*_},y=this.particles.quadTree.queryCircle(g,m*_);e(h,y)},r=h=>{if(!no(this))return;const v=h,m={x:v.offsetX||v.clientX,y:v.offsetY||v.clientY};i(h,m,$ue)},s=()=>{no(this)&&(c=!0,f=!1)},a=()=>{no(this)&&(f=!0)},o=h=>{if(no(this)){if(c&&!f){const v=h;let m=v.touches[v.touches.length-zN];if(!m&&(m=v.changedTouches[v.changedTouches.length-zN],!m))return;const _=this.canvas.element,g=_?_.getBoundingClientRect():void 0,y={x:m.clientX-(g?g.left:hE),y:m.clientY-(g?g.top:hE)};i(h,y,Math.max(m.radiusX,m.radiusY))}c=!1,f=!1}},l=()=>{no(this)&&(c=!1,f=!1)};let c=!1,f=!1;this._clickHandlers.set("click",r),this._clickHandlers.set("touchstart",s),this._clickHandlers.set("touchmove",a),this._clickHandlers.set("touchend",o),this._clickHandlers.set("touchcancel",l);for(const[h,v]of this._clickHandlers)t.addEventListener(h,v)}addLifeTime(e){this._lifeTime+=e}addPath(e,t,i=!1){return!no(this)||!i&&this.pathGenerators.has(e)?!1:(this.pathGenerators.set(e,t),!0)}alive(){return!this._duration||this._lifeTime<=this._duration}clearClickHandlers(){if(no(this)){for(const[e,t]of this._clickHandlers)this.interactivity.element?.removeEventListener(e,t);this._clickHandlers.clear()}}destroy(e=!0){if(no(this)){this.stop(),this.clearClickHandlers(),this.particles.destroy(),this.canvas.destroy();for(const t of this.effectDrawers.values())t.destroy?.(this);for(const t of this.shapeDrawers.values())t.destroy?.(this);for(const t of this.effectDrawers.keys())this.effectDrawers.delete(t);for(const t of this.shapeDrawers.keys())this.shapeDrawers.delete(t);if(this._engine.clearPlugins(this),this.destroyed=!0,e){const t=this._engine.items,i=t.findIndex(r=>r===this);i>=Vue&&t.splice(i,G8)}this._engine.dispatchEvent(yc.containerDestroyed,{container:this})}}draw(e){if(!no(this))return;let t=e;const i=r=>{t&&(this._lastFrameTime=void 0,t=!1),this._nextFrame(r)};this._drawAnimationFrame=fhe(r=>i(r))}async export(e,t={}){for(const i of this.plugins.values()){if(!i.export)continue;const r=await i.export(e,t);if(r.supported)return r.blob}tp().error(`${cl} - Export plugin with type ${e} not found`)}handleClickMode(e){if(no(this)){this.particles.handleClickMode(e);for(const t of this.plugins.values())t.handleClickMode?.(e)}}async init(){if(!no(this))return;const e=this._engine.getSupportedEffects();for(const c of e){const f=this._engine.getEffectDrawer(c);f&&this.effectDrawers.set(c,f)}const t=this._engine.getSupportedShapes();for(const c of t){const f=this._engine.getShapeDrawer(c);f&&this.shapeDrawers.set(c,f)}await this.particles.initPlugins(),this._options=v0(this._engine,this,this._initialSourceOptions,this.sourceOptions),this.actualOptions=v0(this._engine,this,this._options);const i=await this._engine.getAvailablePlugins(this);for(const[c,f]of i)this.plugins.set(c,f);this.retina.init(),await this.canvas.init(),this.updateActualOptions(),this.canvas.initBackground(),this.canvas.resize();const{zLayers:r,duration:s,delay:a,fpsLimit:o,smooth:l}=this.actualOptions;this.zLayers=r,this._duration=cn(s)*js,this._delay=cn(a)*js,this._lifeTime=0,this.fpsLimit=o>jue?o:Wue,this._smooth=l;for(const c of this.effectDrawers.values())await c.init?.(this);for(const c of this.shapeDrawers.values())await c.init?.(this);for(const c of this.plugins.values())await c.init?.();this._engine.dispatchEvent(yc.containerInit,{container:this}),await this.particles.init(),this.particles.setDensity();for(const c of this.plugins.values())c.particlesSetup?.();this._engine.dispatchEvent(yc.particlesSetup,{container:this})}async loadTheme(e){no(this)&&(this._currentTheme=e,await this.refresh())}pause(){if(no(this)&&(this._drawAnimationFrame!==void 0&&(phe(this._drawAnimationFrame),delete this._drawAnimationFrame),!this._paused)){for(const e of this.plugins.values())e.pause?.();this.pageHidden||(this._paused=!0),this._engine.dispatchEvent(yc.containerPaused,{container:this})}}play(e){if(!no(this))return;const t=this._paused||e;if(this._firstStart&&!this.actualOptions.autoPlay){this._firstStart=!1;return}if(this._paused&&(this._paused=!1),t)for(const i of this.plugins.values())i.play&&i.play();this._engine.dispatchEvent(yc.containerPlay,{container:this}),this.draw(t??!1)}async refresh(){if(no(this))return this.stop(),this.start()}async reset(e){if(no(this))return this._initialSourceOptions=e,this._sourceOptions=e,this._options=v0(this._engine,this,this._initialSourceOptions,this.sourceOptions),this.actualOptions=v0(this._engine,this,this._options),this.refresh()}async start(){!no(this)||this.started||(await this.init(),this.started=!0,await new Promise(e=>{const t=async()=>{this._eventListeners.addListeners(),this.interactivity.element instanceof HTMLElement&&this._intersectionObserver&&this._intersectionObserver.observe(this.interactivity.element);for(const i of this.plugins.values())await i.start?.();this._engine.dispatchEvent(yc.containerStarted,{container:this}),this.play(),e()};this._delayTimeout=setTimeout(()=>void t(),this._delay)}))}stop(){if(!(!no(this)||!this.started)){this._delayTimeout&&(clearTimeout(this._delayTimeout),delete this._delayTimeout),this._firstStart=!0,this.started=!1,this._eventListeners.removeListeners(),this.pause(),this.particles.clear(),this.canvas.stop(),this.interactivity.element instanceof HTMLElement&&this._intersectionObserver&&this._intersectionObserver.unobserve(this.interactivity.element);for(const e of this.plugins.values())e.stop?.();for(const e of this.plugins.keys())this.plugins.delete(e);this._sourceOptions=this._options,this._engine.dispatchEvent(yc.containerStopped,{container:this})}}updateActualOptions(){this.actualOptions.responsive=[];const e=this.actualOptions.setResponsive(this.canvas.size.width,this.retina.pixelRatio,this._options);return this.actualOptions.setTheme(this._currentTheme),this._responsiveMaxWidth===e?!1:(this._responsiveMaxWidth=e,!0)}}class $de{constructor(){this._listeners=new Map}addEventListener(e,t){this.removeEventListener(e,t);let i=this._listeners.get(e);i||(i=[],this._listeners.set(e,i)),i.push(t)}dispatchEvent(e,t){this._listeners.get(e)?.forEach(r=>r(t))}hasEventListener(e){return!!this._listeners.get(e)}removeAllEventListeners(e){e?this._listeners.delete(e):this._listeners=new Map}removeEventListener(e,t){const i=this._listeners.get(e);if(!i)return;const r=i.length,s=i.indexOf(t);s<yR||(r===dE?this._listeners.delete(e):i.splice(s,dE))}}async function z2(n,e,t,i=!1){let r=e.get(n);return(!r||i)&&(r=await Promise.all([...t.values()].map(s=>s(n))),e.set(n,r)),r}async function Vde(n){const e=yo(n.url,n.index);if(!e)return n.fallback;const t=await fetch(e);return t.ok?await t.json():(tp().error(`${cl} ${t.status} while retrieving config file`),n.fallback)}const Wde=n=>{let e;if(n instanceof HTMLCanvasElement||n.tagName.toLowerCase()===P2)e=n,e.dataset[Ig]||(e.dataset[Ig]=PN);else{const i=n.getElementsByTagName(P2);i.length?(e=i[Xue],e.dataset[Ig]=PN):(e=document.createElement(P2),e.dataset[Ig]=B8,n.appendChild(e))}const t="100%";return e.style.width||(e.style.width=t),e.style.height||(e.style.height=t),e},jde=(n,e)=>{let t=e??document.getElementById(n);return t||(t=document.createElement("div"),t.id=n,t.dataset[Ig]=B8,document.body.append(t),t)};class Xde{constructor(){this._configs=new Map,this._domArray=[],this._eventDispatcher=new $de,this._initialized=!1,this.plugins=[],this.colorManagers=new Map,this.easingFunctions=new Map,this._initializers={interactors:new Map,movers:new Map,updaters:new Map},this.interactors=new Map,this.movers=new Map,this.updaters=new Map,this.presets=new Map,this.effectDrawers=new Map,this.shapeDrawers=new Map,this.pathGenerators=new Map}get configs(){const e={};for(const[t,i]of this._configs)e[t]=i;return e}get items(){return this._domArray}get version(){return"3.9.1"}async addColorManager(e,t=!0){this.colorManagers.set(e.key,e),await this.refresh(t)}addConfig(e){const t=e.key??e.name??"default";this._configs.set(t,e),this._eventDispatcher.dispatchEvent(yc.configAdded,{data:{name:t,config:e}})}async addEasing(e,t,i=!0){this.getEasing(e)||(this.easingFunctions.set(e,t),await this.refresh(i))}async addEffect(e,t,i=!0){ha(e,r=>{this.getEffectDrawer(r)||this.effectDrawers.set(r,t)}),await this.refresh(i)}addEventListener(e,t){this._eventDispatcher.addEventListener(e,t)}async addInteractor(e,t,i=!0){this._initializers.interactors.set(e,t),await this.refresh(i)}async addMover(e,t,i=!0){this._initializers.movers.set(e,t),await this.refresh(i)}async addParticleUpdater(e,t,i=!0){this._initializers.updaters.set(e,t),await this.refresh(i)}async addPathGenerator(e,t,i=!0){this.getPathGenerator(e)||this.pathGenerators.set(e,t),await this.refresh(i)}async addPlugin(e,t=!0){this.getPlugin(e.id)||this.plugins.push(e),await this.refresh(t)}async addPreset(e,t,i=!1,r=!0){(i||!this.getPreset(e))&&this.presets.set(e,t),await this.refresh(r)}async addShape(e,t=!0){for(const i of e.validTypes)this.getShapeDrawer(i)||this.shapeDrawers.set(i,e);await this.refresh(t)}checkVersion(e){if(this.version!==e)throw new Error(`The tsParticles version is different from the loaded plugins version. Engine version: ${this.version}. Plugin version: ${e}`)}clearPlugins(e){this.updaters.delete(e),this.movers.delete(e),this.interactors.delete(e)}dispatchEvent(e,t){this._eventDispatcher.dispatchEvent(e,t)}dom(){return this.items}domItem(e){return this.item(e)}async getAvailablePlugins(e){const t=new Map;for(const i of this.plugins)i.needsPlugin(e.actualOptions)&&t.set(i.id,await i.getPlugin(e));return t}getEasing(e){return this.easingFunctions.get(e)??(t=>t)}getEffectDrawer(e){return this.effectDrawers.get(e)}async getInteractors(e,t=!1){return z2(e,this.interactors,this._initializers.interactors,t)}async getMovers(e,t=!1){return z2(e,this.movers,this._initializers.movers,t)}getPathGenerator(e){return this.pathGenerators.get(e)}getPlugin(e){return this.plugins.find(t=>t.id===e)}getPreset(e){return this.presets.get(e)}getShapeDrawer(e){return this.shapeDrawers.get(e)}getSupportedEffects(){return this.effectDrawers.keys()}getSupportedShapes(){return this.shapeDrawers.keys()}async getUpdaters(e,t=!1){return z2(e,this.updaters,this._initializers.updaters,t)}init(){this._initialized||(this._initialized=!0)}item(e){const{items:t}=this,i=t[e];if(!i||i.destroyed){t.splice(e,G8);return}return i}async load(e){const t=e.id??e.element?.id??`tsparticles${Math.floor(Yn()*que)}`,{index:i,url:r}=e,s=r?await Vde({fallback:e.options,url:r,index:i}):e.options,a=yo(s,i),{items:o}=this,l=o.findIndex(v=>v.id.description===t),c=new Hde(this,t,a);if(l>=Yue){const v=this.item(l),m=v?Kue:O1;v&&!v.destroyed&&v.destroy(!1),o.splice(l,m,c)}else o.push(c);const f=jde(t,e.element),h=Wde(f);return c.canvas.loadCanvas(h),await c.start(),c}loadOptions(e,t){this.plugins.forEach(i=>i.loadOptions?.(e,t))}loadParticlesOptions(e,t,...i){const r=this.updaters.get(e);r&&r.forEach(s=>s.loadOptions?.(t,...i))}async refresh(e=!0){e&&await Promise.all(this.items.map(t=>t.refresh()))}removeEventListener(e,t){this._eventDispatcher.removeEventListener(e,t)}setOnClickHandler(e){const{items:t}=this;if(!t.length)throw new Error(`${cl} can only set click handlers after calling tsParticles.load()`);t.forEach(i=>i.addClickHandler(e))}}function qde(){const n=new Xde;return n.init(),n}class Kc{constructor(e){this.type=ay.external,this.container=e}}class xy{constructor(e){this.type=ay.particles,this.container=e}}var mo;(function(n){n.clockwise="clockwise",n.counterClockwise="counter-clockwise",n.random="random"})(mo||(mo={}));var pE;(function(n){n.linear="linear",n.radial="radial",n.random="random"})(pE||(pE={}));var bs;(function(n){n.easeInBack="ease-in-back",n.easeInCirc="ease-in-circ",n.easeInCubic="ease-in-cubic",n.easeInLinear="ease-in-linear",n.easeInQuad="ease-in-quad",n.easeInQuart="ease-in-quart",n.easeInQuint="ease-in-quint",n.easeInExpo="ease-in-expo",n.easeInSine="ease-in-sine",n.easeOutBack="ease-out-back",n.easeOutCirc="ease-out-circ",n.easeOutCubic="ease-out-cubic",n.easeOutLinear="ease-out-linear",n.easeOutQuad="ease-out-quad",n.easeOutQuart="ease-out-quart",n.easeOutQuint="ease-out-quint",n.easeOutExpo="ease-out-expo",n.easeOutSine="ease-out-sine",n.easeInOutBack="ease-in-out-back",n.easeInOutCirc="ease-in-out-circ",n.easeInOutCubic="ease-in-out-cubic",n.easeInOutLinear="ease-in-out-linear",n.easeInOutQuad="ease-in-out-quad",n.easeInOutQuart="ease-in-out-quart",n.easeInOutQuint="ease-in-out-quint",n.easeInOutExpo="ease-in-out-expo",n.easeInOutSine="ease-in-out-sine"})(bs||(bs={}));const IC=qde();Qg()||(window.tsParticles=IC);const Yde=n=>{const e=n.id??"tsparticles";return H.useEffect(()=>{let t;return IC.load({id:e,url:n.url,options:n.options}).then(i=>{var r;t=i,(r=n.particlesLoaded)==null||r.call(n,i)}),()=>{t?.destroy()}},[e,n,n.url,n.options]),ge.jsx("div",{id:e,className:n.className})};async function Kde(n){await n(IC)}const Zde=120,Qde=.5,Jde=100,efe=3;class mE{static init(e){const t=new mE,i=e.selector;if(!i)throw new Error("No selector provided");const r=document.querySelector(i);if(!r)throw new Error("No element found for selector");return IC.load({element:r,id:i.replace(".","").replace("!",""),options:{fullScreen:{enable:!1},particles:{color:{value:e.color??"!000000"},links:{color:"random",distance:e.minDistance??Zde,enable:e.connectParticles??!1},move:{enable:!0,speed:e.speed??Qde},number:{value:e.maxParticles??Jde},size:{value:{min:1,max:e.sizeVariations??efe}}},responsive:e.responsive?.map(s=>({maxWidth:s.breakpoint,options:{particles:{color:{value:s.options?.color},links:{distance:s.options?.minDistance,enable:s.options?.connectParticles},number:{value:e.maxParticles},move:{enable:!0,speed:s.options?.speed},size:{value:s.options?.sizeVariations}}}}))}}).then(s=>{t._container=s}),t}destroy(){this._container?.destroy()}pauseAnimation(){this._container?.pause()}resumeAnimation(){this._container?.play()}}const tfe=0,nfe=0,ife=3,rfe={particles:{number:{value:400,density:{enable:!0,value_area:800}},color:{value:"#fff"},shape:{type:"circle",stroke:{width:0,color:"#ff0000"},polygon:{nb_sides:5},image:{src:"",width:100,height:100}},opacity:{value:1,random:!1,anim:{enable:!1,speed:2,opacity_min:0,sync:!1}},size:{value:20,random:!1,anim:{enable:!1,speed:20,size_min:0,sync:!1}},line_linked:{enable:!0,distance:100,color:"#fff",opacity:1,width:1},move:{enable:!0,speed:2,direction:"none",random:!1,straight:!1,out_mode:"out",bounce:!1,attract:{enable:!1,rotateX:3e3,rotateY:3e3}}},interactivity:{detect_on:"canvas",events:{onhover:{enable:!0,mode:"grab"},onclick:{enable:!0,mode:"push"},resize:!0},modes:{grab:{distance:100,line_linked:{opacity:1}},bubble:{distance:200,size:80,duration:.4,opacity:1,speed:3},repulse:{distance:200,duration:.4},push:{particles_nb:4},remove:{particles_nb:2}}},retina_detect:!1},sfe=n=>{const e=(i,r)=>{const s=ys(rfe,r);return n.load({id:i,options:{fullScreen:{enable:!1},detectRetina:s.retina_detect,smooth:!0,interactivity:{detectsOn:s.interactivity.detect_on,events:{onHover:{enable:s.interactivity.events.onhover.enable,mode:s.interactivity.events.onhover.mode},onClick:{enable:s.interactivity.events.onclick.enable,mode:s.interactivity.events.onclick.mode},resize:{enable:s.interactivity.events.resize}},modes:{grab:{distance:s.interactivity.modes.grab.distance,links:{opacity:s.interactivity.modes.grab.line_linked.opacity}},bubble:{distance:s.interactivity.modes.bubble.distance,size:s.interactivity.modes.bubble.size,duration:s.interactivity.modes.bubble.duration,opacity:s.interactivity.modes.bubble.opacity,speed:s.interactivity.modes.bubble.speed},repulse:{distance:s.interactivity.modes.repulse.distance,duration:s.interactivity.modes.repulse.duration},push:{quantity:s.interactivity.modes.push.particles_nb},remove:{quantity:s.interactivity.modes.remove.particles_nb}}},particles:{collisions:{enable:s.particles.move.bounce},number:{value:s.particles.number.value,density:{enable:s.particles.number.density.enable,width:s.particles.number.density.value_area}},color:{value:s.particles.color.value},stroke:{width:s.particles.shape.stroke.width,color:{value:s.particles.shape.stroke.color}},shape:{type:s.particles.shape.type,options:{polygon:{sides:s.particles.shape.polygon.nb_sides},image:{src:s.particles.shape.image.src,width:s.particles.shape.image.width,height:s.particles.shape.image.height}}},opacity:{value:s.particles.opacity.random?{min:s.particles.opacity.anim.enable?s.particles.opacity.anim.opacity_min:tfe,max:s.particles.opacity.value}:s.particles.opacity.value,animation:{enable:s.particles.opacity.anim.enable,speed:s.particles.opacity.anim.speed,sync:s.particles.opacity.anim.sync}},size:{value:s.particles.size.random?{min:s.particles.size.anim.enable?s.particles.size.anim.size_min:nfe,max:s.particles.size.value}:s.particles.size.value,animation:{enable:s.particles.size.anim.enable,speed:s.particles.size.anim.speed,sync:s.particles.size.anim.sync}},links:{enable:s.particles.line_linked.enable,distance:s.particles.line_linked.distance,color:s.particles.line_linked.color,opacity:s.particles.line_linked.opacity,width:s.particles.line_linked.width},move:{enable:s.particles.move.enable,speed:s.particles.move.speed/ife,direction:s.particles.move.direction,random:s.particles.move.random,straight:s.particles.move.straight,outModes:s.particles.move.out_mode,attract:{enable:s.particles.move.attract.enable,rotate:{x:s.particles.move.attract.rotateX,y:s.particles.move.attract.rotateY}}}}}})};e.load=(i,r,s)=>{n.load({id:i,url:r}).then(a=>{a&&s(a)}).catch(()=>{s(void 0)})},e.setOnClickHandler=i=>{n.setOnClickHandler(i)};const t=n.dom();return{particlesJS:e,pJSDom:t}},afe=n=>{n.checkVersion("3.9.1");const{particlesJS:e,pJSDom:t}=sfe(n);return window.particlesJS=e,window.pJSDom=t,window.Particles=mE,{particlesJS:e,pJSDom:t,Particles:mE}},ofe=2,lfe=.5,cfe=.2,ufe=.5,fc=.5,G2={y:0};function hfe(n){const{context:e,particle:t,radius:i}=n,r=i*ofe,s=t.heightFactor??lfe,a=t.headWidthFactor??cfe,o=t.bodyHeightFactor??ufe,l=r*s,c=r*a,f=l*o;e.moveTo(-r*fc,G2.y),e.lineTo(-r*fc,-f*fc),e.lineTo(r*fc-c,-f*fc),e.lineTo(r*fc-c,-l*fc),e.lineTo(r*fc+c,G2.y),e.lineTo(r*fc-c,l*fc),e.lineTo(r*fc-c,f*fc),e.lineTo(-r*fc,f*fc),e.lineTo(-r*fc,G2.y)}const dfe=.5,ffe=.2,pfe=.5;class mfe{constructor(){this.validTypes=["arrow"]}draw(e){hfe(e)}particleInit(e,t){const i=t.shapeData;t.heightFactor=cn(i?.heightFactor??dfe),t.headWidthFactor=cn(i?.headWidthFactor??ffe),t.bodyHeightFactor=cn(i?.bodyHeightFactor??pfe)}}async function gfe(n,e=!0){n.checkVersion("3.9.1"),await n.addShape(new mfe,e)}const vfe=3;class yfe{draw(e){const{context:t,radius:i}=e,r=i/vfe;t.beginPath(),t.arc(r,-r,r,V8,k8,!1),t.closePath(),t.fillStyle="#fff9",t.fill()}}async function _fe(n,e=!0){n.checkVersion("3.9.1"),await n.addEffect("bubble",new yfe,e)}class bfe{constructor(){this.color=!0,this.opacity=!1}load(e){jt(e)||(e.color!==void 0&&(this.color=e.color),e.opacity!==void 0&&(this.opacity=e.opacity))}}const xfe=0;class Sfe{constructor(){this.filter=e=>e.a>xfe,this.offset=4}load(e){if(!jt(e)){if(e.filter!==void 0)if(Cc(e.filter)){if(Object.hasOwn(window,e.filter)){const t=window[e.filter];LC(t)&&(this.filter=t)}}else this.filter=e.filter;e.offset!==void 0&&(this.offset=e.offset)}}}class wfe{constructor(){this.src=""}load(e){jt(e)||e.src!==void 0&&(this.src=e.src)}}class Efe{constructor(){this.family="sans-serif",this.size=100}load(e){jt(e)||(e.family!==void 0&&(this.family=e.family),e.size!==void 0&&(this.size=e.size),e.style!==void 0&&(this.style=e.style),e.variant!==void 0&&(this.variant=e.variant),e.weight!==void 0&&(this.weight=e.weight))}}class Cfe{constructor(){this.separator=`
`,this.spacing=10}load(e){jt(e)||(e.separator!==void 0&&(this.separator=e.separator),e.spacing!==void 0&&(this.spacing=e.spacing))}}class Tfe{constructor(){this.color="#000000",this.font=new Efe,this.lines=new Cfe,this.text=""}load(e){jt(e)||(e.color!==void 0&&(this.color=e.color),this.font.load(e.font),this.lines.load(e.lines),e.text!==void 0&&(this.text=e.text))}}class Afe{constructor(){this.enable=!1,this.override=new bfe,this.pixels=new Sfe,this.position={x:50,y:50},this.scale=1}load(e){jt(e)||(e.element!==void 0&&e.element instanceof HTMLCanvasElement&&(this.element=e.element),e.enable!==void 0&&(this.enable=e.enable),e.image&&(this.image||(this.image=new wfe),this.image.load(e.image)),this.pixels.load(e.pixels),e.position&&(this.position={x:e.position.x??this.position.x,y:e.position.y??this.position.y}),this.override.load(e.override),e.scale!==void 0&&(this.scale=e.scale),e.selector!==void 0&&(this.selector=e.selector),e.text&&(this.text||(this.text=new Tfe),this.text.load(e.text)))}}const i5=.5,Hf={x:0,y:0},Mfe=0;function Rfe(n,e,t,i,r,s){const{height:a,width:o}=e,l=a*o,c=Pfe(Ife(l)),f=Math.min(l,n.actualOptions.particles.number.value),h=n.canvas.size;let v=0;const m={x:h.width*t.x/Ir-o*i*i5,y:h.height*t.y/Ir-a*i*i5};for(;v<f&&c.length;){const g=c.pop()??0,y={x:g%o,y:Math.floor(g/o)},u=e.pixels[y.y][y.x];if(!s(u))continue;const S={x:y.x*i+m.x,y:y.y*i+m.y},T={};r.color&&(T.color={value:u}),r.opacity&&(T.opacity={value:u.a}),n.particles.addParticle(S,T),v++}}function LO(n,e,t,i=!0){const r=n.getImageData(Hf.x,Hf.y,e.width,e.height).data;i&&n.clearRect(Hf.x,Hf.y,e.width,e.height);const s=[];for(let a=0;a<r.length;a+=t){const o=a/t,l={x:o%e.width,y:Math.floor(o/e.width)};s[l.y]||(s[l.y]=[]);const c={r:0,g:1,b:2,a:3},f=255;s[l.y][l.x]={r:r[a+c.r],g:r[a+c.g],b:r[a+c.b],a:r[a+c.a]/f}}return{pixels:s,width:Math.min(...s.map(a=>a.length)),height:s.length}}function Ofe(n,e){const t=new Image;t.crossOrigin="Anonymous";const i=new Promise((r,s)=>{t.onerror=s,t.onload=()=>{const a=document.createElement("canvas");a.width=t.width,a.height=t.height;const o=a.getContext("2d");if(!o)return s(new Error(`${cl} Could not get canvas context`));o.drawImage(t,Hf.x,Hf.y,t.width,t.height,Hf.x,Hf.y,a.width,a.height),r(LO(o,a,e))}});return t.src=n,i}function Lfe(n,e){const t=document.createElement("canvas"),i=t.getContext("2d"),{font:r,text:s,lines:a,color:o}=n;if(!s||!i)return;const l=s.split(a.separator),c=Ml(r.size)?`${r.size}px`:r.size,f=[];let h=0,v=0;for(const _ of l){i.font=`${r.style??""} ${r.variant??""} ${r.weight??""} ${c} ${r.family}`;const g=i.measureText(_),y={measure:g,text:_,height:g.actualBoundingBoxAscent+g.actualBoundingBoxDescent,width:g.width};h=Math.max(h||Mfe,y.width),v+=y.height+a.spacing,f.push(y)}t.width=h,t.height=v;let m=0;for(const _ of f)i.font=`${r.style??""} ${r.variant??""} ${r.weight??""} ${c} ${r.family}`,i.fillStyle=o,i.fillText(_.text,Hf.x,m+_.measure.actualBoundingBoxAscent),m+=_.height+a.spacing;return LO(i,t,e)}function Pfe(n){for(let i=n.length-1;i>=0;i--){const r=Math.floor(Yn()*i);[n[i],n[r]]=[n[r],n[i]]}return n}const Ife=n=>[...Array(n).keys()];class Dfe{constructor(e){this._container=e}async init(){const e=this._container,t=e.actualOptions.canvasMask;if(!t?.enable)return;let i={pixels:[],height:0,width:0};const r=t.pixels.offset;if(t.image){const s=t.image.src;if(!s)return;i=await Ofe(s,r)}else if(t.text){const s=t.text,a=Lfe(s,r);if(jt(a))return;i=a}else if(t.element??t.selector){const s=t.element??(t.selector&&document.querySelector(t.selector));if(!s)return;const a=s.getContext("2d");if(!a)return;i=LO(a,s,r)}Rfe(e,i,t.position,t.scale,t.override,t.pixels.filter)}}class Nfe{constructor(){this.id="canvasMask"}getPlugin(e){return Promise.resolve(new Dfe(e))}loadOptions(e,t){if(!this.needsPlugin(e)&&!this.needsPlugin(t))return;let i=e.canvasMask;i?.load===void 0&&(e.canvasMask=i=new Afe),i.load(t?.canvasMask)}needsPlugin(e){return e?.canvasMask?.enable??!1}}async function Ffe(n,e=!0){n.checkVersion("3.9.1"),await n.addPlugin(new Nfe,e)}function DC(n,e){if(!e.segments.length||!e.segments[0].values.length)return;const{context:t,radius:i}=n;t.moveTo(e.segments[0].values[0].x*i,e.segments[0].values[0].y*i);for(const r of e.segments)t.bezierCurveTo(r.values[1].x*i,r.values[1].y*i,r.values[2].x*i,r.values[2].y*i,r.values[3].x*i,r.values[3].y*i);for(let r=e.segments.length-1;r>=0;r--){const s=e.segments[r];t.bezierCurveTo(-s.values[2].x*i,s.values[2].y*i,-s.values[1].x*i,s.values[1].y*i,-s.values[0].x*i,s.values[0].y*i)}}const On=1/2,NC={heart:{segments:[{values:[{x:0,y:On},{x:0,y:On},{x:On,y:0},{x:On,y:-On/2}]},{values:[{x:On,y:-On/2},{x:On,y:-On/2},{x:On,y:-On},{x:On/2,y:-On}]},{values:[{x:On/2,y:-On},{x:On/2,y:-On},{x:0,y:-On},{x:0,y:-On/2}]}]},diamond:{segments:[{values:[{x:0,y:On},{x:0,y:On},{x:3*On/4,y:0},{x:3*On/4,y:0}]},{values:[{x:3*On/4,y:0},{x:3*On/4,y:0},{x:0,y:-On},{x:0,y:-On}]}]},club:{segments:[{values:[{x:0,y:-On},{x:0,y:-On},{x:On/2,y:-On},{x:On/2,y:-On/2}]},{values:[{x:On/2,y:-On/2},{x:On/2,y:-On/2},{x:On,y:-On/2},{x:On,y:0}]},{values:[{x:On,y:0},{x:On,y:0},{x:On,y:On/2},{x:On/2,y:On/2}]},{values:[{x:On/2,y:On/2},{x:On/2,y:On/2},{x:On/8,y:On/2},{x:On/8,y:On/8}]},{values:[{x:On/8,y:On/8},{x:On/8,y:On/2},{x:On/2,y:On},{x:On/2,y:On}]},{values:[{x:On/2,y:On},{x:On/2,y:On},{x:0,y:On},{x:0,y:On}]}]},spade:{segments:[{values:[{x:0,y:-On},{x:0,y:-On},{x:On,y:-On/2},{x:On,y:0}]},{values:[{x:On,y:0},{x:On,y:0},{x:On,y:On/2},{x:On/2,y:On/2}]},{values:[{x:On/2,y:On/2},{x:On/2,y:On/2},{x:On/8,y:On/2},{x:On/8,y:On/8}]},{values:[{x:On/8,y:On/8},{x:On/8,y:On/2},{x:On/2,y:On},{x:On/2,y:On}]},{values:[{x:On/2,y:On},{x:On/2,y:On},{x:0,y:On},{x:0,y:On}]}]}};class Ufe{constructor(){this.validTypes=["club","clubs"]}draw(e){DC(e,NC.club)}}class kfe{constructor(){this.validTypes=["diamond","diamonds"]}draw(e){DC(e,NC.diamond)}}let Bfe=class{constructor(){this.validTypes=["heart","hearts"]}draw(e){DC(e,NC.heart)}};class zfe{constructor(){this.validTypes=["spade","spades"]}draw(e){DC(e,NC.spade)}}async function Gfe(n,e=!0){n.checkVersion("3.9.1"),await n.addShape(new zfe,e),await n.addShape(new Bfe,e),await n.addShape(new kfe,e),await n.addShape(new Ufe,e)}const dz=2,wR=Math.PI*dz,Hfe=0,H2={x:0,y:0},r5=.005;function $fe(n){const{context:e,particle:t,radius:i}=n;if(t.cogHoleRadius===void 0||t.cogInnerRadius===void 0||t.cogInnerTaper===void 0||t.cogNotches===void 0||t.cogOuterTaper===void 0)return;const r=i*t.cogHoleRadius/Ir;e.globalCompositeOperation="destination-out",e.beginPath(),e.moveTo(r,H2.y),e.arc(H2.x,H2.y,r,Hfe,wR),e.closePath(),e.fill(),e.globalCompositeOperation="source-over"}function Vfe(n){const{context:e,particle:t,radius:i}=n;if(t.cogHoleRadius===void 0||t.cogInnerRadius===void 0||t.cogInnerTaper===void 0||t.cogNotches===void 0||t.cogOuterTaper===void 0)return;const r=wR/(t.cogNotches*dz),s=r*t.cogInnerTaper*r5,a=r*t.cogOuterTaper*r5,o=i*t.cogInnerRadius/Ir;let l=r,c=!1;for(e.moveTo(i*Math.cos(a),i*Math.sin(a));l<=wR;l+=r)c?(e.lineTo(o*Math.cos(l-s),o*Math.sin(l-s)),e.lineTo(i*Math.cos(l+a),i*Math.sin(l+a))):(e.lineTo(i*Math.cos(l-a),i*Math.sin(l-a)),e.lineTo(o*Math.cos(l+s),o*Math.sin(l+s))),c=!c}const Wfe=44,jfe=72,Xfe=35,qfe=7,Yfe=50;class Kfe{constructor(){this.validTypes=["cog"]}afterDraw(e){$fe(e)}draw(e){Vfe(e)}particleInit(e,t){const i=t.shapeData;t.cogHoleRadius=cn(i?.holeRadius??Wfe),t.cogInnerRadius=cn(i?.innerRadius??jfe),t.cogInnerTaper=cn(i?.innerTaper??Xfe),t.cogNotches=cn(i?.notches??qfe),t.cogOuterTaper=cn(i?.outerTaper??Yfe)}}async function Zfe(n,e=!0){n.checkVersion("3.9.1"),await n.addShape(new Kfe,e)}function rh(n){const e=new Uint32Array(1);return e[0]=n[0]*1664525+1013904223,e}class Qfe{constructor(){this._NORM_2D=1/47,this._SQUISH_2D=(Math.sqrt(3)-1)/2,this._STRETCH_2D=(1/Math.sqrt(3)-1)/2,this._base2D=[[1,1,0,1,0,1,0,0,0],[1,1,0,1,0,1,2,1,1]],this._gradients2D=[5,2,2,5,-5,2,-2,5,5,-2,2,-5,-5,-2,-2,-5],this._lookup=[],this._lookupPairs2D=[0,1,1,0,4,1,17,0,20,2,21,2,22,5,23,5,26,4,39,3,42,4,43,3],this._p2D=[0,0,1,-1,0,0,-1,1,0,2,1,1,1,2,2,0,1,2,0,2,1,0,0,0],this._perm=new Uint8Array(256),this._perm2D=new Uint8Array(256)}noise(e,t){const{_gradients2D:i,_NORM_2D:r,_SQUISH_2D:s,_STRETCH_2D:a,_lookup:o,_perm:l,_perm2D:c}=this,f=(e+t)*a,h=e+f,v=t+f,m=Math.floor(h),_=Math.floor(v),g=(m+_)*s,y=e-(m+g),u=t-(_+g),b=h-m,S=v-_,T=b+S,R=b-S+1|T<<1|T+S<<2|T+b<<4;let O=0;for(let C=o[R];C!==void 0;C=C.next){const I=y+C.dx,F=u+C.dy,M=2-I*I-F*F;if(M>0){const D=m+C.xsb,B=_+C.ysb,j=l[D&255],U=c[j+B&255],V=i[U]*I+i[U+1]*F;O+=M*M*M*M*V}}return O*r}seed(e){const{_p2D:t,_base2D:i,_lookupPairs2D:r}=this,s=[];for(let l=0;l<t.length;l+=4){const c=i[t[l]];let f=null,h=null;for(let v=0;v<c.length;v+=3)h=this._contribution2D(c[v],c[v+1],c[v+2]),f===null?s[l/4]=h:f.next=h,f=h;h&&(h.next=this._contribution2D(t[l+1],t[l+2],t[l+3]))}this._lookup=[];for(let l=0;l<r.length;l+=2)this._lookup[r[l]]=s[r[l+1]];this._perm=new Uint8Array(256),this._perm2D=new Uint8Array(256);const a=new Uint8Array(256);for(let l=0;l<256;l++)a[l]=l;let o=new Uint32Array(1);o[0]=e,o=rh(rh(rh(o)));for(let l=255;l>=0;l--){o=rh(o);const c=new Uint32Array(1);c[0]=(o[0]+31)%(l+1),c[0]<0&&(c[0]+=l+1),this._perm[l]=a[c[0]],this._perm2D[l]=this._perm[l]&14,a[c[0]]=a[l]}}_contribution2D(e,t,i){const{_SQUISH_2D:r}=this;return{dx:-t-e*r,dy:-i-e*r,xsb:t,ysb:i}}}class Jfe{constructor(){this._NORM_3D=1/103,this._SQUISH_3D=(Math.sqrt(4)-1)/3,this._STRETCH_3D=(1/Math.sqrt(4)-1)/3,this._base3D=[[0,0,0,0,1,1,0,0,1,0,1,0,1,0,0,1],[2,1,1,0,2,1,0,1,2,0,1,1,3,1,1,1],[1,1,0,0,1,0,1,0,1,0,0,1,2,1,1,0,2,1,0,1,2,0,1,1]],this._gradients3D=[-11,4,4,-4,11,4,-4,4,11,11,4,4,4,11,4,4,4,11,-11,-4,4,-4,-11,4,-4,-4,11,11,-4,4,4,-11,4,4,-4,11,-11,4,-4,-4,11,-4,-4,4,-11,11,4,-4,4,11,-4,4,4,-11,-11,-4,-4,-4,-11,-4,-4,-4,-11,11,-4,-4,4,-11,-4,4,-4,-11],this._lookup=[],this._lookupPairs3D=[0,2,1,1,2,2,5,1,6,0,7,0,32,2,34,2,129,1,133,1,160,5,161,5,518,0,519,0,546,4,550,4,645,3,647,3,672,5,673,5,674,4,677,3,678,4,679,3,680,13,681,13,682,12,685,14,686,12,687,14,712,20,714,18,809,21,813,23,840,20,841,21,1198,19,1199,22,1226,18,1230,19,1325,23,1327,22,1352,15,1353,17,1354,15,1357,17,1358,16,1359,16,1360,11,1361,10,1362,11,1365,10,1366,9,1367,9,1392,11,1394,11,1489,10,1493,10,1520,8,1521,8,1878,9,1879,9,1906,7,1910,7,2005,6,2007,6,2032,8,2033,8,2034,7,2037,6,2038,7,2039,6],this._p3D=[0,0,1,-1,0,0,1,0,-1,0,0,-1,1,0,0,0,1,-1,0,0,-1,0,1,0,0,-1,1,0,2,1,1,0,1,1,1,-1,0,2,1,0,1,1,1,-1,1,0,2,0,1,1,1,-1,1,1,1,3,2,1,0,3,1,2,0,1,3,2,0,1,3,1,0,2,1,3,0,2,1,3,0,1,2,1,1,1,0,0,2,2,0,0,1,1,0,1,0,2,0,2,0,1,1,0,0,1,2,0,0,2,2,0,0,0,0,1,1,-1,1,2,0,0,0,0,1,-1,1,1,2,0,0,0,0,1,1,1,-1,2,3,1,1,1,2,0,0,2,2,3,1,1,1,2,2,0,0,2,3,1,1,1,2,0,2,0,2,1,1,-1,1,2,0,0,2,2,1,1,-1,1,2,2,0,0,2,1,-1,1,1,2,0,0,2,2,1,-1,1,1,2,0,2,0,2,1,1,1,-1,2,2,0,0,2,1,1,1,-1,2,0,2,0],this._perm=new Uint8Array(256),this._perm3D=new Uint8Array(256)}noise(e,t,i){const{_STRETCH_3D:r,_NORM_3D:s,_SQUISH_3D:a,_lookup:o,_perm:l,_perm3D:c,_gradients3D:f}=this,h=(e+t+i)*r,v=e+h,m=t+h,_=i+h,g=Math.floor(v),y=Math.floor(m),u=Math.floor(_),b=(g+y+u)*a,S=e-(g+b),T=t-(y+b),R=i-(u+b),O=v-g,C=m-y,I=_-u,F=O+C+I,M=C-I+1|O-C+1<<1|O-I+1<<2|F<<3|F+I<<5|F+C<<7|F+O<<9;let D=0;for(let B=o[M];B!==void 0;B=B.next){const j=S+B.dx,U=T+B.dy,V=R+B.dz,k=2-j*j-U*U-V*V;if(k>0){const Z=g+B.xsb,ee=y+B.ysb,oe=u+B.zsb,ne=l[Z&255],ie=l[ne+ee&255],he=c[ie+oe&255],fe=f[he]*j+f[he+1]*U+f[he+2]*V;D+=k*k*k*k*fe}}return D*s}seed(e){const{_base3D:t,_lookupPairs3D:i,_p3D:r}=this,s=[];for(let l=0;l<r.length;l+=9){const c=t[r[l]];let f=null,h=null;for(let v=0;v<c.length;v+=4)h=this._contribution3D(c[v],c[v+1],c[v+2],c[v+3]),f===null?s[l/9]=h:f.next=h,f=h;h&&(h.next=this._contribution3D(r[l+1],r[l+2],r[l+3],r[l+4]),h.next.next=this._contribution3D(r[l+5],r[l+6],r[l+7],r[l+8]))}this._lookup=[];for(let l=0;l<i.length;l+=2)this._lookup[i[l]]=s[i[l+1]];this._perm=new Uint8Array(256),this._perm3D=new Uint8Array(256);const a=new Uint8Array(256);for(let l=0;l<256;l++)a[l]=l;let o=new Uint32Array(1);o[0]=e,o=rh(rh(rh(o)));for(let l=255;l>=0;l--){o=rh(o);const c=new Uint32Array(1);c[0]=(o[0]+31)%(l+1),c[0]<0&&(c[0]+=l+1),this._perm[l]=a[c[0]],this._perm3D[l]=this._perm[l]%24*3,a[c[0]]=a[l]}}_contribution3D(e,t,i,r){const{_SQUISH_3D:s}=this;return{dx:-t-e*s,dy:-i-e*s,dz:-r-e*s,xsb:t,ysb:i,zsb:r}}}class epe{constructor(){this._NORM_4D=1/30,this._SQUISH_4D=(Math.sqrt(5)-1)*.25,this._STRETCH_4D=(1/Math.sqrt(5)-1)*.25,this._lookup=[],this._perm=new Uint8Array(0),this._perm4D=new Uint8Array(0),this._base4D=[[0,0,0,0,0,1,1,0,0,0,1,0,1,0,0,1,0,0,1,0,1,0,0,0,1],[3,1,1,1,0,3,1,1,0,1,3,1,0,1,1,3,0,1,1,1,4,1,1,1,1],[1,1,0,0,0,1,0,1,0,0,1,0,0,1,0,1,0,0,0,1,2,1,1,0,0,2,1,0,1,0,2,1,0,0,1,2,0,1,1,0,2,0,1,0,1,2,0,0,1,1],[3,1,1,1,0,3,1,1,0,1,3,1,0,1,1,3,0,1,1,1,2,1,1,0,0,2,1,0,1,0,2,1,0,0,1,2,0,1,1,0,2,0,1,0,1,2,0,0,1,1]],this._gradients4D=[3,1,1,1,1,3,1,1,1,1,3,1,1,1,1,3,-3,1,1,1,-1,3,1,1,-1,1,3,1,-1,1,1,3,3,-1,1,1,1,-3,1,1,1,-1,3,1,1,-1,1,3,-3,-1,1,1,-1,-3,1,1,-1,-1,3,1,-1,-1,1,3,3,1,-1,1,1,3,-1,1,1,1,-3,1,1,1,-1,3,-3,1,-1,1,-1,3,-1,1,-1,1,-3,1,-1,1,-1,3,3,-1,-1,1,1,-3,-1,1,1,-1,-3,1,1,-1,-1,3,-3,-1,-1,1,-1,-3,-1,1,-1,-1,-3,1,-1,-1,-1,3,3,1,1,-1,1,3,1,-1,1,1,3,-1,1,1,1,-3,-3,1,1,-1,-1,3,1,-1,-1,1,3,-1,-1,1,1,-3,3,-1,1,-1,1,-3,1,-1,1,-1,3,-1,1,-1,1,-3,-3,-1,1,-1,-1,-3,1,-1,-1,-1,3,-1,-1,-1,1,-3,3,1,-1,-1,1,3,-1,-1,1,1,-3,-1,1,1,-1,-3,-3,1,-1,-1,-1,3,-1,-1,-1,1,-3,-1,-1,1,-1,-3,3,-1,-1,-1,1,-3,-1,-1,1,-1,-3,-1,1,-1,-1,-3,-3,-1,-1,-1,-1,-3,-1,-1,-1,-1,-3,-1,-1,-1,-1,-3],this._lookupPairs4D=[0,3,1,2,2,3,5,2,6,1,7,1,8,3,9,2,10,3,13,2,16,3,18,3,22,1,23,1,24,3,26,3,33,2,37,2,38,1,39,1,41,2,45,2,54,1,55,1,56,0,57,0,58,0,59,0,60,0,61,0,62,0,63,0,256,3,258,3,264,3,266,3,272,3,274,3,280,3,282,3,2049,2,2053,2,2057,2,2061,2,2081,2,2085,2,2089,2,2093,2,2304,9,2305,9,2312,9,2313,9,16390,1,16391,1,16406,1,16407,1,16422,1,16423,1,16438,1,16439,1,16642,8,16646,8,16658,8,16662,8,18437,6,18439,6,18469,6,18471,6,18688,9,18689,9,18690,8,18693,6,18694,8,18695,6,18696,9,18697,9,18706,8,18710,8,18725,6,18727,6,131128,0,131129,0,131130,0,131131,0,131132,0,131133,0,131134,0,131135,0,131352,7,131354,7,131384,7,131386,7,133161,5,133165,5,133177,5,133181,5,133376,9,133377,9,133384,9,133385,9,133400,7,133402,7,133417,5,133421,5,133432,7,133433,5,133434,7,133437,5,147510,4,147511,4,147518,4,147519,4,147714,8,147718,8,147730,8,147734,8,147736,7,147738,7,147766,4,147767,4,147768,7,147770,7,147774,4,147775,4,149509,6,149511,6,149541,6,149543,6,149545,5,149549,5,149558,4,149559,4,149561,5,149565,5,149566,4,149567,4,149760,9,149761,9,149762,8,149765,6,149766,8,149767,6,149768,9,149769,9,149778,8,149782,8,149784,7,149786,7,149797,6,149799,6,149801,5,149805,5,149814,4,149815,4,149816,7,149817,5,149818,7,149821,5,149822,4,149823,4,149824,37,149825,37,149826,36,149829,34,149830,36,149831,34,149832,37,149833,37,149842,36,149846,36,149848,35,149850,35,149861,34,149863,34,149865,33,149869,33,149878,32,149879,32,149880,35,149881,33,149882,35,149885,33,149886,32,149887,32,150080,49,150082,48,150088,49,150098,48,150104,47,150106,47,151873,46,151877,45,151881,46,151909,45,151913,44,151917,44,152128,49,152129,46,152136,49,152137,46,166214,43,166215,42,166230,43,166247,42,166262,41,166263,41,166466,48,166470,43,166482,48,166486,43,168261,45,168263,42,168293,45,168295,42,168512,31,168513,28,168514,31,168517,28,168518,25,168519,25,280952,40,280953,39,280954,40,280957,39,280958,38,280959,38,281176,47,281178,47,281208,40,281210,40,282985,44,282989,44,283001,39,283005,39,283208,30,283209,27,283224,30,283241,27,283256,22,283257,22,297334,41,297335,41,297342,38,297343,38,297554,29,297558,24,297562,29,297590,24,297594,21,297598,21,299365,26,299367,23,299373,26,299383,23,299389,20,299391,20,299584,31,299585,28,299586,31,299589,28,299590,25,299591,25,299592,30,299593,27,299602,29,299606,24,299608,30,299610,29,299621,26,299623,23,299625,27,299629,26,299638,24,299639,23,299640,22,299641,22,299642,21,299645,20,299646,21,299647,20,299648,61,299649,60,299650,61,299653,60,299654,59,299655,59,299656,58,299657,57,299666,55,299670,54,299672,58,299674,55,299685,52,299687,51,299689,57,299693,52,299702,54,299703,51,299704,56,299705,56,299706,53,299709,50,299710,53,299711,50,299904,61,299906,61,299912,58,299922,55,299928,58,299930,55,301697,60,301701,60,301705,57,301733,52,301737,57,301741,52,301952,79,301953,79,301960,76,301961,76,316038,59,316039,59,316054,54,316071,51,316086,54,316087,51,316290,78,316294,78,316306,73,316310,73,318085,77,318087,77,318117,70,318119,70,318336,79,318337,79,318338,78,318341,77,318342,78,318343,77,430776,56,430777,56,430778,53,430781,50,430782,53,430783,50,431e3,75,431002,72,431032,75,431034,72,432809,74,432813,69,432825,74,432829,69,433032,76,433033,76,433048,75,433065,74,433080,75,433081,74,447158,71,447159,68,447166,71,447167,68,447378,73,447382,73,447386,72,447414,71,447418,72,447422,71,449189,70,449191,70,449197,69,449207,68,449213,69,449215,68,449408,67,449409,67,449410,66,449413,64,449414,66,449415,64,449416,67,449417,67,449426,66,449430,66,449432,65,449434,65,449445,64,449447,64,449449,63,449453,63,449462,62,449463,62,449464,65,449465,63,449466,65,449469,63,449470,62,449471,62,449472,19,449473,19,449474,18,449477,16,449478,18,449479,16,449480,19,449481,19,449490,18,449494,18,449496,17,449498,17,449509,16,449511,16,449513,15,449517,15,449526,14,449527,14,449528,17,449529,15,449530,17,449533,15,449534,14,449535,14,449728,19,449729,19,449730,18,449734,18,449736,19,449737,19,449746,18,449750,18,449752,17,449754,17,449784,17,449786,17,451520,19,451521,19,451525,16,451527,16,451528,19,451529,19,451557,16,451559,16,451561,15,451565,15,451577,15,451581,15,451776,19,451777,19,451784,19,451785,19,465858,18,465861,16,465862,18,465863,16,465874,18,465878,18,465893,16,465895,16,465910,14,465911,14,465918,14,465919,14,466114,18,466118,18,466130,18,466134,18,467909,16,467911,16,467941,16,467943,16,468160,13,468161,13,468162,13,468163,13,468164,13,468165,13,468166,13,468167,13,580568,17,580570,17,580585,15,580589,15,580598,14,580599,14,580600,17,580601,15,580602,17,580605,15,580606,14,580607,14,580824,17,580826,17,580856,17,580858,17,582633,15,582637,15,582649,15,582653,15,582856,12,582857,12,582872,12,582873,12,582888,12,582889,12,582904,12,582905,12,596982,14,596983,14,596990,14,596991,14,597202,11,597206,11,597210,11,597214,11,597234,11,597238,11,597242,11,597246,11,599013,10,599015,10,599021,10,599023,10,599029,10,599031,10,599037,10,599039,10,599232,13,599233,13,599234,13,599235,13,599236,13,599237,13,599238,13,599239,13,599240,12,599241,12,599250,11,599254,11,599256,12,599257,12,599258,11,599262,11,599269,10,599271,10,599272,12,599273,12,599277,10,599279,10,599282,11,599285,10,599286,11,599287,10,599288,12,599289,12,599290,11,599293,10,599294,11,599295,10],this._p4D=[0,0,1,-1,0,0,0,1,0,-1,0,0,1,0,0,-1,0,0,-1,1,0,0,0,0,1,-1,0,0,0,1,0,-1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,-1,0,0,-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,2,1,1,0,0,1,1,1,-1,0,1,1,1,0,-1,0,2,1,0,1,0,1,1,-1,1,0,1,1,0,1,-1,0,2,0,1,1,0,1,-1,1,1,0,1,0,1,1,-1,0,2,1,0,0,1,1,1,-1,0,1,1,1,0,-1,1,0,2,0,1,0,1,1,-1,1,0,1,1,0,1,-1,1,0,2,0,0,1,1,1,-1,0,1,1,1,0,-1,1,1,1,4,2,1,1,0,4,1,2,1,0,4,1,1,2,0,1,4,2,1,0,1,4,1,2,0,1,4,1,1,0,2,1,4,2,0,1,1,4,1,0,2,1,4,1,0,1,2,1,4,0,2,1,1,4,0,1,2,1,4,0,1,1,2,1,2,1,1,0,0,3,2,1,0,0,3,1,2,0,0,1,2,1,0,1,0,3,2,0,1,0,3,1,0,2,0,1,2,0,1,1,0,3,0,2,1,0,3,0,1,2,0,1,2,1,0,0,1,3,2,0,0,1,3,1,0,0,2,1,2,0,1,0,1,3,0,2,0,1,3,0,1,0,2,1,2,0,0,1,1,3,0,0,2,1,3,0,0,1,2,2,3,1,1,1,0,2,1,1,1,-1,2,2,0,0,0,2,3,1,1,0,1,2,1,1,-1,1,2,2,0,0,0,2,3,1,0,1,1,2,1,-1,1,1,2,2,0,0,0,2,3,1,1,1,0,2,1,1,1,-1,2,0,2,0,0,2,3,1,1,0,1,2,1,1,-1,1,2,0,2,0,0,2,3,0,1,1,1,2,-1,1,1,1,2,0,2,0,0,2,3,1,1,1,0,2,1,1,1,-1,2,0,0,2,0,2,3,1,0,1,1,2,1,-1,1,1,2,0,0,2,0,2,3,0,1,1,1,2,-1,1,1,1,2,0,0,2,0,2,3,1,1,0,1,2,1,1,-1,1,2,0,0,0,2,2,3,1,0,1,1,2,1,-1,1,1,2,0,0,0,2,2,3,0,1,1,1,2,-1,1,1,1,2,0,0,0,2,2,1,1,1,-1,0,1,1,1,0,-1,0,0,0,0,0,2,1,1,-1,1,0,1,1,0,1,-1,0,0,0,0,0,2,1,-1,1,1,0,1,0,1,1,-1,0,0,0,0,0,2,1,1,-1,0,1,1,1,0,-1,1,0,0,0,0,0,2,1,-1,1,0,1,1,0,1,-1,1,0,0,0,0,0,2,1,-1,0,1,1,1,0,-1,1,1,0,0,0,0,0,2,1,1,1,-1,0,1,1,1,0,-1,2,2,0,0,0,2,1,1,-1,1,0,1,1,0,1,-1,2,2,0,0,0,2,1,1,-1,0,1,1,1,0,-1,1,2,2,0,0,0,2,1,1,1,-1,0,1,1,1,0,-1,2,0,2,0,0,2,1,-1,1,1,0,1,0,1,1,-1,2,0,2,0,0,2,1,-1,1,0,1,1,0,1,-1,1,2,0,2,0,0,2,1,1,-1,1,0,1,1,0,1,-1,2,0,0,2,0,2,1,-1,1,1,0,1,0,1,1,-1,2,0,0,2,0,2,1,-1,0,1,1,1,0,-1,1,1,2,0,0,2,0,2,1,1,-1,0,1,1,1,0,-1,1,2,0,0,0,2,2,1,-1,1,0,1,1,0,1,-1,1,2,0,0,0,2,2,1,-1,0,1,1,1,0,-1,1,1,2,0,0,0,2,3,1,1,0,0,0,2,2,0,0,0,2,1,1,1,-1,3,1,0,1,0,0,2,0,2,0,0,2,1,1,1,-1,3,1,0,0,1,0,2,0,0,2,0,2,1,1,1,-1,3,1,1,0,0,0,2,2,0,0,0,2,1,1,-1,1,3,1,0,1,0,0,2,0,2,0,0,2,1,1,-1,1,3,1,0,0,0,1,2,0,0,0,2,2,1,1,-1,1,3,1,1,0,0,0,2,2,0,0,0,2,1,-1,1,1,3,1,0,0,1,0,2,0,0,2,0,2,1,-1,1,1,3,1,0,0,0,1,2,0,0,0,2,2,1,-1,1,1,3,1,0,1,0,0,2,0,2,0,0,2,-1,1,1,1,3,1,0,0,1,0,2,0,0,2,0,2,-1,1,1,1,3,1,0,0,0,1,2,0,0,0,2,2,-1,1,1,1,3,3,2,1,0,0,3,1,2,0,0,4,1,1,1,1,3,3,2,0,1,0,3,1,0,2,0,4,1,1,1,1,3,3,0,2,1,0,3,0,1,2,0,4,1,1,1,1,3,3,2,0,0,1,3,1,0,0,2,4,1,1,1,1,3,3,0,2,0,1,3,0,1,0,2,4,1,1,1,1,3,3,0,0,2,1,3,0,0,1,2,4,1,1,1,1,3,3,2,1,0,0,3,1,2,0,0,2,1,1,1,-1,3,3,2,0,1,0,3,1,0,2,0,2,1,1,1,-1,3,3,0,2,1,0,3,0,1,2,0,2,1,1,1,-1,3,3,2,1,0,0,3,1,2,0,0,2,1,1,-1,1,3,3,2,0,0,1,3,1,0,0,2,2,1,1,-1,1,3,3,0,2,0,1,3,0,1,0,2,2,1,1,-1,1,3,3,2,0,1,0,3,1,0,2,0,2,1,-1,1,1,3,3,2,0,0,1,3,1,0,0,2,2,1,-1,1,1,3,3,0,0,2,1,3,0,0,1,2,2,1,-1,1,1,3,3,0,2,1,0,3,0,1,2,0,2,-1,1,1,1,3,3,0,2,0,1,3,0,1,0,2,2,-1,1,1,1,3,3,0,0,2,1,3,0,0,1,2,2,-1,1,1,1]}noise(e,t,i,r){const{_perm:s,_perm4D:a,_lookup:o,_STRETCH_4D:l,_SQUISH_4D:c,_gradients4D:f,_NORM_4D:h}=this,v=(e+t+i+r)*l,m=e+v,_=t+v,g=i+v,y=r+v,u=Math.floor(m),b=Math.floor(_),S=Math.floor(g),T=Math.floor(y),R=(u+b+S+T)*c,O=e-(u+R),C=t-(b+R),I=i-(S+R),F=r-(T+R),M=m-u,D=_-b,B=g-S,j=y-T,U=M+D+B+j,V=B-j+1|D-B+1<<1|D-j+1<<2|M-D+1<<3|M-B+1<<4|M-j+1<<5|U<<6|U+j<<8|U+B<<11|U+D<<14|U+M<<17;let k=0;for(let Z=o[V];Z!==void 0;Z=Z.next){const ee=O+Z.dx,oe=C+Z.dy,ne=I+Z.dz,ie=F+Z.dw,he=2-ee*ee-oe*oe-ne*ne-ie*ie;if(he>0){const fe=u+Z.xsb,ce=b+Z.ysb,ae=S+Z.zsb,ve=T+Z.wsb,_e=s[fe&255],Te=s[_e+ce&255],Fe=s[Te+ae&255],We=a[Fe+ve&255],ht=f[We]*ee+f[We+1]*oe+f[We+2]*ne+f[We+3]*ie;k+=he*he*he*he*ht}}return k*h}seed(e){const{_p4D:t,_base4D:i,_lookupPairs4D:r}=this,s=[];for(let l=0;l<t.length;l+=16){const c=i[t[l]];let f=null,h=null;for(let v=0;v<c.length;v+=5)h=this._contribution4D(c[v],c[v+1],c[v+2],c[v+3],c[v+4]),f===null?s[l/16]=h:f.next=h,f=h;h&&(h.next=this._contribution4D(t[l+1],t[l+2],t[l+3],t[l+4],t[l+5]),h.next.next=this._contribution4D(t[l+6],t[l+7],t[l+8],t[l+9],t[l+10]),h.next.next.next=this._contribution4D(t[l+11],t[l+12],t[l+13],t[l+14],t[l+15]))}this._lookup=[];for(let l=0;l<r.length;l+=2)this._lookup[r[l]]=s[r[l+1]];this._perm=new Uint8Array(256),this._perm4D=new Uint8Array(256);const a=new Uint8Array(256);for(let l=0;l<256;l++)a[l]=l;let o=new Uint32Array(1);o[0]=e,o=rh(rh(rh(o)));for(let l=255;l>=0;l--){o=rh(o);const c=new Uint32Array(1);c[0]=(o[0]+31)%(l+1),c[0]<0&&(c[0]+=l+1),this._perm[l]=a[c[0]],this._perm4D[l]=this._perm[l]&252,a[c[0]]=a[l]}}_contribution4D(e,t,i,r,s){const{_SQUISH_4D:a}=this;return{dx:-t-e*a,dy:-i-e*a,dz:-r-e*a,dw:-s-e*a,xsb:t,ysb:i,zsb:r,wsb:s}}}class fz{constructor(){this.noise2d=new Qfe,this.noise3d=new Jfe,this.noise4d=new epe}}const $2={speed:.2,step:250},s5=2;class tpe{constructor(){const e=new fz;this._simplex=e.noise2d,this.options=ys({},$2)}generate(e){const t=e.getPosition(),{speed:i,step:r}=this.options,s=t.x/r,a=t.y/r,o=.001,l=this._simplex.noise(s,a+o),c=this._simplex.noise(s,a-o),f=(l-c)/(s5*o),h=this._simplex.noise(s+o,a),v=this._simplex.noise(s-o,a),m=(h-v)/(s5*o);return e.velocity.x=0,e.velocity.y=0,Er.create(i*f,i*-m)}init(e){const t=e.actualOptions.particles.move.path.options;this.options.seed=t?.seed,this.options.speed=(t?.speed??$2.speed)*e.retina.pixelRatio,this.options.step=t?.step??$2.step,this._simplex.seed(this.options.seed??Yn())}reset(){}update(){}}const npe="curlNoise";async function ipe(n,e=!0){n.checkVersion("3.9.1"),await n.addPathGenerator(npe,new tpe,e)}function rpe(n,e,t,i,r=0,s=1){const a=[],o=[],l=[],c=[],f=[],h=n??Yn;let v=0;t<1&&(t=1);for(let m=1;m<=t;++m)a[m]=h(),o[m]=h(),l[m]=m===1?1:l[m-1]*i,v+=l[m],c[m]=m/e,f[m]=h();return l.forEach((m,_)=>l[_]=m/v*(s-r)),()=>{let m,_,g=0;for(let y=t;y>=1;--y)m=f[y]+=c[y],f[y]>=1&&(m=f[y]-=1,a[y]=o[y],o[y]=h()),_=m**2*(3-2*m),g+=(a[y]*(1-_)+o[y]*_)*l[y];return g+r}}const spe=2,a5=Math.PI*spe;function ape(){return Yn()*.6+.8}class ope{constructor(){this.options={rndFunc:null,period:100,nbHarmonics:2,attenHarmonics:.8,lowValue:-.03,highValue:.03}}generate(e){if(!e.pathGen){const t=this.options;e.pathGen=rpe(t.rndFunc,t.period,t.nbHarmonics,t.attenHarmonics,t.lowValue,t.highValue)}return e.curveVelocity?(e.curveVelocity.length+=.01,e.curveVelocity.angle=(e.curveVelocity.angle+e.pathGen())%a5):(e.curveVelocity=Er.origin,e.curveVelocity.length=ape(),e.curveVelocity.angle=Yn()*a5),e.velocity.x=0,e.velocity.y=0,e.curveVelocity}init(e){const t=e.actualOptions.particles.move.path.options,{options:i}=this;LC(t.rndFunc)?i.rndFunc=t.rndFunc:Cc(t.rndFunc)&&(i.rndFunc=window[t.rndFunc]??this.options.rndFunc),i.period=t.period??i.period,i.nbHarmonics=t.nbHarmonics??i.nbHarmonics,i.attenHarmonics=t.attenHarmonics??i.attenHarmonics,i.lowValue=t.lowValue??i.lowValue,i.highValue=t.highValue??i.highValue}reset(e){delete e.pathGen,delete e.curveVelocity}update(){}}const lpe="curvesPathGenerator";async function cpe(n,e=!0){n.checkVersion("3.9.1"),await n.addPathGenerator(lpe,new ope,e)}async function upe(n,e=!0){n.checkVersion("3.9.1"),await n.addEasing(bs.easeInBack,t=>2.70158*t**3-1.70158*t**2,!1),await n.addEasing(bs.easeOutBack,t=>1+2.70158*Math.pow(t-1,3)+1.70158*Math.pow(t-1,2),!1),await n.addEasing(bs.easeInOutBack,t=>{const r=2.5949095;return t<.5?(2*t)**2*((r+1)*2*t-r)/2:((2*t-2)**2*((r+1)*(t*2-2)+r)+2)/2},!1),await n.refresh(e)}async function hpe(n,e){n.checkVersion("3.9.1"),await n.addEasing(bs.easeInCirc,t=>1-Math.sqrt(1-t**2),!1),await n.addEasing(bs.easeOutCirc,t=>Math.sqrt(1-(t-1)**2),!1),await n.addEasing(bs.easeInOutCirc,t=>t<.5?(1-Math.sqrt(1-(2*t)**2))/2:(Math.sqrt(1-(-2*t+2)**2)+1)/2,!1),await n.refresh(e)}async function dpe(n,e=!0){n.checkVersion("3.9.1"),await n.addEasing(bs.easeInCubic,t=>t**3,!1),await n.addEasing(bs.easeOutCubic,t=>1-(1-t)**3,!1),await n.addEasing(bs.easeInOutCubic,t=>t<.5?4*t**3:1-(-2*t+2)**3/2,!1),await n.refresh(e)}async function fpe(n,e=!0){n.checkVersion("3.9.1"),await n.addEasing(bs.easeInExpo,t=>t?2**(10*t-10):0,!1),await n.addEasing(bs.easeOutExpo,t=>t===1?1:1-Math.pow(2,-10*t),!1),await n.addEasing(bs.easeInOutExpo,t=>t===1?t?1:0:t?t<.5?2**(20*t-10)/2:(2-2**(-20*t+10))/2:0,!1),await n.refresh(e)}async function ppe(n,e=!0){n.checkVersion("3.9.1"),await n.addEasing(bs.easeInLinear,t=>t,!1),await n.addEasing(bs.easeOutLinear,t=>t,!1),await n.addEasing(bs.easeInOutLinear,t=>t,!1),await n.refresh(e)}async function mpe(n,e=!0){n.checkVersion("3.9.1"),await n.addEasing(bs.easeInQuart,t=>t**4,!1),await n.addEasing(bs.easeOutQuart,t=>1-(1-t)**4,!1),await n.addEasing(bs.easeInOutQuart,t=>t<.5?8*t**4:1-(-2*t+2)**4/2,!1),await n.refresh(e)}async function gpe(n,e=!0){n.checkVersion("3.9.1"),await n.addEasing(bs.easeInQuint,t=>t**5,!1),await n.addEasing(bs.easeOutQuint,t=>1-(1-t)**5,!1),await n.addEasing(bs.easeInOutQuint,t=>t<.5?16*t**5:1-(-2*t+2)**5/2,!1),await n.refresh(e)}async function vpe(n,e=!0){n.checkVersion("3.9.1"),await n.addEasing(bs.easeInSine,t=>1-Math.cos(t*Math.PI/2),!1),await n.addEasing(bs.easeOutSine,t=>Math.sin(t*Math.PI/2),!1),await n.addEasing(bs.easeInOutSine,t=>-(Math.cos(Math.PI*t)-1)/2,!1),await n.refresh(e)}class ype{constructor(){this.wait=!1}load(e){jt(e)||(e.count!==void 0&&(this.count=e.count),e.delay!==void 0&&(this.delay=oi(e.delay)),e.duration!==void 0&&(this.duration=oi(e.duration)),e.wait!==void 0&&(this.wait=e.wait))}}class _pe{constructor(){this.quantity=1,this.delay=.1}load(e){jt(e)||(e.quantity!==void 0&&(this.quantity=oi(e.quantity)),e.delay!==void 0&&(this.delay=oi(e.delay)))}}class bpe{constructor(){this.color=!1,this.opacity=!1}load(e){jt(e)||(e.color!==void 0&&(this.color=e.color),e.opacity!==void 0&&(this.opacity=e.opacity))}}class xpe{constructor(){this.options={},this.replace=new bpe,this.type="square"}load(e){jt(e)||(e.options!==void 0&&(this.options=ys({},e.options??{})),this.replace.load(e.replace),e.type!==void 0&&(this.type=e.type))}}class pz{constructor(){this.mode=qh.percent,this.height=0,this.width=0}load(e){jt(e)||(e.mode!==void 0&&(this.mode=e.mode),e.height!==void 0&&(this.height=e.height),e.width!==void 0&&(this.width=e.width))}}class rm{constructor(){this.autoPlay=!0,this.fill=!0,this.life=new ype,this.rate=new _pe,this.shape=new xpe,this.startCount=0}load(e){jt(e)||(e.autoPlay!==void 0&&(this.autoPlay=e.autoPlay),e.size!==void 0&&(this.size||(this.size=new pz),this.size.load(e.size)),e.direction!==void 0&&(this.direction=e.direction),this.domId=e.domId,e.fill!==void 0&&(this.fill=e.fill),this.life.load(e.life),this.name=e.name,this.particles=ha(e.particles,t=>ys({},t)),this.rate.load(e.rate),this.shape.load(e.shape),e.position!==void 0&&(this.position={},e.position.x!==void 0&&(this.position.x=oi(e.position.x)),e.position.y!==void 0&&(this.position.y=oi(e.position.y))),e.spawnColor!==void 0&&(this.spawnColor===void 0&&(this.spawnColor=new ym),this.spawnColor.load(e.spawnColor)),e.startCount!==void 0&&(this.startCount=e.startCount))}}var gE;(function(n){n.emitter="emitter"})(gE||(gE={}));const o5=.5,l5=0,fS=0,c5=0,Spe=0,wpe=-1,Epe=1;function u5(n,e){n.color?n.color.value=e:n.color={value:e}}class Cpe{constructor(e,t,i,r,s){this.emitters=t,this.container=i,this._destroy=()=>{this._mutationObserver?.disconnect(),this._mutationObserver=void 0,this._resizeObserver?.disconnect(),this._resizeObserver=void 0,this.emitters.removeEmitter(this),this._engine.dispatchEvent("emitterDestroyed",{container:this.container,data:{emitter:this}})},this._prepareToDie=()=>{if(this._paused)return;const c=this.options.life?.duration!==void 0?cn(this.options.life.duration):void 0;(this._lifeCount>0||this._immortal)&&c!==void 0&&c>0&&(this._duration=c*js)},this._setColorAnimation=(c,f,h,v=Epe)=>{const m=this.container;if(!c.enable)return f;const _=vo(c.offset),g=cn(this.options.rate.delay),y=m.retina.reduceFactor?g*js/m.retina.reduceFactor:1/0,u=0,b=cn(c.speed??u);return(f+b*m.fpsLimit/y+_*v)%h},this._engine=e,this._currentDuration=0,this._currentEmitDelay=0,this._currentSpawnDelay=0,this._initialPosition=s,r instanceof rm?this.options=r:(this.options=new rm,this.options.load(r)),this._spawnDelay=i.retina.reduceFactor?cn(this.options.life.delay??l5)*js/i.retina.reduceFactor:1/0,this.position=this._initialPosition??this._calcPosition(),this.name=this.options.name,this.fill=this.options.fill,this._firstSpawn=!this.options.life.wait,this._startParticlesAdded=!1;let a=ys({},this.options.particles);if(a??={},a.move??={},a.move.direction??=this.options.direction,this.options.spawnColor&&(this.spawnColor=$d(this._engine,this.options.spawnColor)),this._paused=!this.options.autoPlay,this._particlesOptions=a,this._size=this._calcSize(),this.size=YN(this._size,this.container.canvas.size),this._lifeCount=this.options.life.count??wpe,this._immortal=this._lifeCount<=fS,this.options.domId){const c=document.getElementById(this.options.domId);c&&(this._mutationObserver=new MutationObserver(()=>{this.resize()}),this._resizeObserver=new ResizeObserver(()=>{this.resize()}),this._mutationObserver.observe(c,{attributes:!0,attributeFilter:["style","width","height"]}),this._resizeObserver.observe(c))}const o=this.options.shape,l=this._engine.emitterShapeManager?.getShapeGenerator(o.type);l&&(this._shape=l.generate(this.position,this.size,this.fill,o.options)),this._engine.dispatchEvent("emitterCreated",{container:i,data:{emitter:this}}),this.play()}externalPause(){this._paused=!0,this.pause()}externalPlay(){this._paused=!1,this.play()}async init(){await this._shape?.init()}pause(){this._paused||delete this._emitDelay}play(){if(this._paused||!((this._lifeCount>fS||this._immortal||!this.options.life.count)&&(this._firstSpawn||this._currentSpawnDelay>=(this._spawnDelay??c5))))return;const e=this.container;if(this._emitDelay===void 0){const t=cn(this.options.rate.delay);this._emitDelay=e.retina.reduceFactor?t*js/e.retina.reduceFactor:1/0}(this._lifeCount>fS||this._immortal)&&this._prepareToDie()}resize(){const e=this._initialPosition,t=this.container;this.position=e&&lb(e,t.canvas.size,Er.origin)?e:this._calcPosition(),this._size=this._calcSize(),this.size=YN(this._size,t.canvas.size),this._shape?.resize(this.position,this.size)}update(e){if(this._paused)return;const t=this.container;this._firstSpawn&&(this._firstSpawn=!1,this._currentSpawnDelay=this._spawnDelay??c5,this._currentEmitDelay=this._emitDelay??Spe),this._startParticlesAdded||(this._startParticlesAdded=!0,this._emitParticles(this.options.startCount)),this._duration!==void 0&&(this._currentDuration+=e.value,this._currentDuration>=this._duration&&(this.pause(),this._spawnDelay!==void 0&&delete this._spawnDelay,this._immortal||this._lifeCount--,this._lifeCount>fS||this._immortal?(this.position=this._calcPosition(),this._shape?.resize(this.position,this.size),this._spawnDelay=t.retina.reduceFactor?cn(this.options.life.delay??l5)*js/t.retina.reduceFactor:1/0):this._destroy(),this._currentDuration-=this._duration,delete this._duration)),this._spawnDelay!==void 0&&(this._currentSpawnDelay+=e.value,this._currentSpawnDelay>=this._spawnDelay&&(this._engine.dispatchEvent("emitterPlay",{container:this.container}),this.play(),this._currentSpawnDelay-=this._currentSpawnDelay,delete this._spawnDelay)),this._emitDelay!==void 0&&(this._currentEmitDelay+=e.value,this._currentEmitDelay>=this._emitDelay&&(this._emit(),this._currentEmitDelay-=this._emitDelay))}_calcPosition(){const e=this.container;if(this.options.domId){const t=document.getElementById(this.options.domId);if(t){const i=t.getBoundingClientRect(),r=e.retina.pixelRatio;return{x:(i.x+i.width*o5)*r,y:(i.y+i.height*o5)*r}}}return Y8({size:e.canvas.size,position:this.options.position})}_calcSize(){const e=this.container;if(this.options.domId){const t=document.getElementById(this.options.domId);if(t){const i=t.getBoundingClientRect();return{width:i.width*e.retina.pixelRatio,height:i.height*e.retina.pixelRatio,mode:qh.precise}}}return this.options.size??(()=>{const t=new pz;return t.load({height:0,mode:qh.percent,width:0}),t})()}_emit(){if(this._paused)return;const e=cn(this.options.rate.quantity);this._emitParticles(e)}_emitParticles(e){const t=yo(this._particlesOptions),i=this.container.retina.reduceFactor;for(let r=0;r<e*i;r++){const s=ys({},t);if(this.spawnColor){const l=this.options.spawnColor?.animation;if(l){const c={h:360,s:100,l:100},f=3.6;this.spawnColor.h=this._setColorAnimation(l.h,this.spawnColor.h,c.h,f),this.spawnColor.s=this._setColorAnimation(l.s,this.spawnColor.s,c.s),this.spawnColor.l=this._setColorAnimation(l.l,this.spawnColor.l,c.l)}u5(s,this.spawnColor)}const a=this.options.shape;let o=this.position;if(this._shape){const l=this._shape.randomPosition();if(l){o=l.position;const c=a.replace;c.color&&l.color&&u5(s,l.color),c.opacity&&(s.opacity?s.opacity.value=l.opacity:s.opacity={value:l.opacity})}else o=null}o&&this.container.particles.addParticle(o,s)}}}class Tpe{constructor(e,t){this.container=t,this._engine=e,this.array=[],this.emitters=[],this.interactivityEmitters={random:{count:1,enable:!1},value:[]};const i=0;t.getEmitter=r=>r===void 0||Ml(r)?this.array[r??i]:this.array.find(s=>s.name===r),t.addEmitter=async(r,s)=>this.addEmitter(r,s),t.removeEmitter=r=>{const s=t.getEmitter(r);s&&this.removeEmitter(s)},t.playEmitter=r=>{const s=t.getEmitter(r);s&&s.externalPlay()},t.pauseEmitter=r=>{const s=t.getEmitter(r);s&&s.externalPause()}}async addEmitter(e,t){const i=new rm;i.load(e);const r=new Cpe(this._engine,this,this.container,i,t);return await r.init(),this.array.push(r),r}handleClickMode(e){const t=this.emitters,i=this.interactivityEmitters;if(e!==gE.emitter)return;let r;if(i&&qo(i.value))if(i.value.length>0&&i.random.enable){r=[];const l=[];for(let c=0;c<i.random.count;c++){const f=K8(i.value);if(l.includes(f)&&l.length<i.value.length){c--;continue}l.push(f),r.push(Hd(i.value,f))}}else r=i.value;else r=i?.value;const s=r??t,a=this.container.interactivity.mouse.clickPosition;ha(s,async o=>{await this.addEmitter(o,a)})}async init(){if(this.emitters=this.container.actualOptions.emitters,this.interactivityEmitters=this.container.actualOptions.interactivity.modes.emitters,!!this.emitters)if(qo(this.emitters))for(const e of this.emitters)await this.addEmitter(e);else await this.addEmitter(this.emitters)}pause(){for(const e of this.array)e.pause()}play(){for(const e of this.array)e.play()}removeEmitter(e){const t=this.array.indexOf(e);t>=0&&this.array.splice(t,1)}resize(){for(const e of this.array)e.resize()}stop(){this.array=[]}update(e){for(const t of this.array)t.update(e)}}class Ape{constructor(e){this._engine=e,this.id="emitters"}getPlugin(e){return Promise.resolve(new Tpe(this._engine,e))}loadOptions(e,t){if(!this.needsPlugin(e)&&!this.needsPlugin(t))return;t?.emitters&&(e.emitters=ha(t.emitters,r=>{const s=new rm;return s.load(r),s}));const i=t?.interactivity?.modes?.emitters;if(i)if(qo(i))e.interactivity.modes.emitters={random:{count:1,enable:!0},value:i.map(r=>{const s=new rm;return s.load(r),s})};else{const r=i;if(r.value!==void 0)if(qo(r.value))e.interactivity.modes.emitters={random:{count:r.random.count??1,enable:r.random.enable??!1},value:r.value.map(a=>{const o=new rm;return o.load(a),o})};else{const a=new rm;a.load(r.value),e.interactivity.modes.emitters={random:{count:r.random.count??1,enable:r.random.enable??!1},value:a}}else(e.interactivity.modes.emitters={random:{count:1,enable:!1},value:new rm}).value.load(i)}}needsPlugin(e){if(!e)return!1;const t=e.emitters;return qo(t)&&!!t.length||t!==void 0||!!e.interactivity?.events?.onClick?.mode&&Rs(gE.emitter,e.interactivity.events.onClick.mode)}}const V2=new Map;class Mpe{constructor(e){this._engine=e}addShapeGenerator(e,t){this.getShapeGenerator(e)||V2.set(e,t)}getShapeGenerator(e){return V2.get(e)}getSupportedShapeGenerators(){return V2.keys()}}class ub{constructor(e,t,i,r){this.position=e,this.size=t,this.fill=i,this.options=r}resize(e,t){this.position=e,this.size=t}}async function Rpe(n,e=!0){n.checkVersion("3.9.1"),n.emitterShapeManager||(n.emitterShapeManager=new Mpe(n)),n.addEmitterShapeGenerator||(n.addEmitterShapeGenerator=(i,r)=>{n.emitterShapeManager?.addShapeGenerator(i,r)});const t=new Ape(n);await n.addPlugin(t,e)}const Id={x:0,y:0},Ope=0;function PO(n,e,t,i=!0){const r=n.getImageData(Id.x,Id.y,e.width,e.height).data;i&&n.clearRect(Id.x,Id.y,e.width,e.height);const s=[];for(let a=0;a<r.length;a+=t){const o=a/t,l={x:o%e.width,y:Math.floor(o/e.width)};s[l.y]||(s[l.y]=[]);const c={r:0,g:1,b:2,a:3},f=255;s[l.y][l.x]={r:r[a+c.r],g:r[a+c.g],b:r[a+c.b],a:r[a+c.a]/f}}return{pixels:s,width:Math.min(...s.map(a=>a.length)),height:s.length}}function Lpe(n,e){const t=new Image;t.crossOrigin="Anonymous";const i=new Promise((r,s)=>{t.onerror=s,t.onload=()=>{const a=document.createElement("canvas");a.width=t.width,a.height=t.height;const o=a.getContext("2d");if(!o)return s(new Error(`${cl} Could not get canvas context`));o.drawImage(t,Id.x,Id.y,t.width,t.height,Id.x,Id.y,a.width,a.height),r(PO(o,a,e))}});return t.src=n,i}function Ppe(n,e,t){const i=document.createElement("canvas"),r=i.getContext("2d"),{font:s,text:a,lines:o,color:l}=n;if(!a||!r)return;const c=a.split(o.separator),f=Ml(s.size)?`${s.size}px`:s.size,h=[];let v=0,m=0;for(const g of c){r.font=`${s.style||""} ${s.variant||""} ${s.weight||""} ${f} ${s.family}`;const y=r.measureText(g),u={measure:y,text:g,height:y.actualBoundingBoxAscent+y.actualBoundingBoxDescent,width:y.width};v=Math.max(v||Ope,u.width),m+=u.height+o.spacing,h.push(u)}i.width=v,i.height=m;let _=0;for(const g of h)r.font=`${s.style||""} ${s.variant||""} ${s.weight||""} ${f} ${s.family}`,t?(r.fillStyle=l,r.fillText(g.text,Id.x,_+g.measure.actualBoundingBoxAscent)):(r.strokeStyle=l,r.strokeText(g.text,Id.x,_+g.measure.actualBoundingBoxAscent)),_+=g.height+o.spacing;return PO(r,i,e)}const Ipe=100,h5=.5;class Dpe extends ub{constructor(e,t,i,r){super(e,t,i,r);const s=r.filter,a=0;let o=l=>l.a>a;if(s!==void 0)if(Cc(s)){if(Object.hasOwn(window,s)){const l=window[s];LC(l)&&(o=l)}}else o=s;this.filter=o,this.scale=r.scale,this.pixelData={pixels:[],height:0,width:0}}async init(){let e;const t=this.options,i=t.selector,r=t.pixels,s=t.image,a=t.element,o=t.text,l=r.offset;if(s){const c=s.src;if(!c)return;e=await Lpe(c,l)}else if(o){const c=Ppe(o,l,this.fill);if(jt(c))return;e=c}else if(a??i){const c=a??(i&&document.querySelector(i));if(!c)return;const f=c.getContext("2d");if(!f)return;e=PO(f,c,l)}e&&(this.pixelData=e)}randomPosition(){const{height:e,width:t}=this.pixelData,i=this.pixelData,r=this.position,s=this.scale,a={x:r.x-t*s*h5,y:r.y-e*s*h5};for(let o=0;o<Ipe;o++){const l=Math.floor(Yn()*t*e),c={x:l%t,y:Math.floor(l/t)},f=i.pixels[c.y][c.x];if(this.filter(f))return{position:{x:c.x*s+a.x,y:c.y*s+a.y},color:{...f},opacity:f.a}}return null}resize(e,t){super.resize(e,t)}}class Npe{constructor(){this.offset=4}load(e){jt(e)||e.offset!==void 0&&(this.offset=e.offset)}}class Fpe{constructor(){this.family="Verdana",this.size=32,this.style="",this.variant="",this.weight=""}load(e){jt(e)||(e.family!==void 0&&(this.family=e.family),e.size!==void 0&&(this.size=e.size),e.style!==void 0&&(this.style=e.style),e.variant!==void 0&&(this.variant=e.variant),e.weight!==void 0&&(this.weight=e.weight))}}class Upe{constructor(){this.separator=`
`,this.spacing=0}load(e){jt(e)||(e.separator!==void 0&&(this.separator=e.separator),e.spacing!==void 0&&(this.spacing=e.spacing))}}class kpe{constructor(){this.color="#000000",this.font=new Fpe,this.lines=new Upe,this.text=""}load(e){jt(e)||(e.color!==void 0&&(this.color=e.color),this.font.load(e.font),this.lines.load(e.lines),e.text!==void 0&&(this.text=e.text))}}const Bpe=0;class zpe{constructor(){this.filter=e=>e.a>Bpe,this.pixels=new Npe,this.scale=1,this.selector="",this.text=new kpe}load(e){jt(e)||(e.element!==void 0&&(this.element=e.element),e.filter!==void 0&&(this.filter=e.filter),this.pixels.load(e.pixels),e.scale!==void 0&&(this.scale=e.scale),e.selector!==void 0&&(this.selector=e.selector),e.image!==void 0&&(this.image=e.image),this.text.load(e.text))}}class Gpe{generate(e,t,i,r){const s=new zpe;return s.load(r),new Dpe(e,t,i,s)}}async function Hpe(n,e=!0){const t=n;t.checkVersion("3.9.1"),t.addEmitterShapeGenerator?.("canvas",new Gpe),await t.refresh(e)}const mz=100,vE=.5;function $pe(n,e,t,i){let r=null;for(let s=0;s<mz;s++){const a={x:t.x+Yn()*i.width-i.width*vE,y:t.y+Yn()*i.height-i.height*vE};if(n.isPointInPath(e,a.x,a.y)){r=a;break}}return r}function Vpe(n,e,t,i){let r=null;for(let s=0;s<mz;s++){const a={x:t.x+Yn()*i.width-i.width*vE,y:t.y+Yn()*i.height-i.height*vE};if(n.isPointInStroke(e,a.x,a.y)){r=a;break}}return r}const pS=.5;class Wpe extends ub{constructor(e,t,i,r){super(e,t,i,r);const s=document.createElement("canvas").getContext("2d");if(!s)throw new Error(`${cl} No 2d context available`);this.checkContext=s,this.points=r.points;const a=this.points,o=new Path2D,l={x:e.x-t.width*pS,y:e.y-t.height*pS};for(const[h,v]of a.entries()){const m={x:l.x+v.x*t.width/Ir,y:l.y+v.y*t.height/Ir};h?o.lineTo(m.x,m.y):o.moveTo(m.x,m.y)}const c=0,f=a[c];if(f){const h={x:l.x+f.x*t.width/Ir,y:l.y+f.y*t.height/Ir};o.lineTo(h.x,h.y)}this.path=o}async init(){}randomPosition(){const e=this.checkContext,t=this.position,i=this.size,r=this.fill,s=this.path,a=r?$pe(e,s,t,i):Vpe(e,s,t,i);return a?{position:a}:null}resize(e,t){super.resize(e,t);const i=this.points,r=new Path2D,s={x:e.x-t.width*pS,y:e.y-t.height*pS};for(const[l,c]of i.entries()){const f={x:s.x+c.x*t.width/Ir,y:s.y+c.y*t.height/Ir};l?r.lineTo(f.x,f.y):r.moveTo(f.x,f.y)}const a=0,o=i[a];if(o){const l={x:s.x+o.x*t.width/Ir,y:s.y+o.y*t.height/Ir};r.lineTo(l.x,l.y)}this.path=r}}const d5={x:50,y:50};class jpe{constructor(){this.points=[]}load(e){jt(e)||e.points!==void 0&&(this.points=e.points.map(t=>({x:t.x??d5.x,y:t.y??d5.y})))}}class Xpe{generate(e,t,i,r){const s=new jpe;return s.load(r),new Wpe(e,t,i,s)}}async function qpe(n,e=!0){const t=n;t.checkVersion("3.9.1"),t.addEmitterShapeGenerator?.("path",new Xpe),await t.refresh(e)}const Ype=2,Kpe=Math.PI*Ype,Zpe=0,Qpe=100;function f5(n,e,t,i=Zpe){const r=[],s=Kpe/e;for(let a=0;a<e;a++){const o=s*a+i;r.push({x:n.x+t*Math.cos(o),y:n.y+t*Math.sin(o)})}return r}function Jpe(n){const t=n[0],i={...t},r={...t};for(const a of n)a.x<i.x&&(i.x=a.x),a.x>r.x&&(r.x=a.x),a.y<i.y&&(i.y=a.y),a.y>r.y&&(r.y=a.y);let s=null;for(let a=0;a<Qpe;a++){const o={x:i.x+Yn()*(r.x-i.x),y:i.y+Yn()*(r.y-i.y)};if(tme(o,n)){s=o;break}}return s}function eme(n){const e=Math.floor(Yn()*n.length),t=n[e],i=1,r=n[(e+i)%n.length],s=Yn();return{x:t.x+(r.x-t.x)*s,y:t.y+(r.y-t.y)*s}}function tme(n,e){let t=!1;const i=1;for(let r=0,s=e.length-i;r<e.length;s=r++){const a=e[r],o=e[s];a.y>n.y!=o.y>n.y&&n.x<(o.x-a.x)*(n.y-a.y)/(o.y-a.y)+a.x&&(t=!t)}return t}const p5=.5;class nme extends ub{constructor(e,t,i,r){super(e,t,i,r),this.sides=r.sides,this.angle=$h(r.angle),this.polygon=f5(e,this.sides,t.width*p5,this.angle)}async init(){}randomPosition(){const e=this.fill,t=this.polygon,i=e?Jpe(t):eme(t);return i?{position:i}:null}resize(e,t){super.resize(e,t),this.polygon=f5(e,this.sides,t.width*p5,this.angle)}}class ime{constructor(){this.angle=0,this.sides=5}load(e){jt(e)||(e.angle!==void 0&&(this.angle=e.angle),e.sides!==void 0&&(this.sides=e.sides))}}class rme{generate(e,t,i,r){const s=new ime;return s.load(r),new nme(e,t,i,s)}}async function sme(n,e=!0){const t=n;t.checkVersion("3.9.1"),t.addEmitterShapeGenerator?.("polygon",new rme),await t.refresh(e)}class ame{constructor(e,t){this._exportImage=async i=>{const r=this._container.canvas.element;if(r)return new Promise(s=>{r.toBlob(a=>{if(!a){s(void 0);return}s(a)},i.type??"image/png",i.quality)})},this._container=e,this._engine=t}async export(e,t){const i={supported:!1};switch(e){case"image":i.supported=!0,i.blob=await this._exportImage(t);break}return i}}class ome{constructor(e){this.id="export-image",this._engine=e}getPlugin(e){return Promise.resolve(new ame(e,this._engine))}loadOptions(){}needsPlugin(){return!0}}async function lme(n,e=!0){n.checkVersion("3.9.1"),await n.addPlugin(new ome(n),e)}const cme=2;class ume{constructor(e,t){this._exportJSON=async()=>{const i=JSON.stringify(this._container.actualOptions,(r,s)=>{if(!r.startsWith("_"))return s},cme);return Promise.resolve(new Blob([i],{type:"application/json"}))},this._container=e,this._engine=t}async export(e){const t={supported:!1};switch(e){case"json":t.supported=!0,t.blob=await this._exportJSON();break}return t}}class hme{constructor(e){this.id="export-json",this._engine=e}getPlugin(e){return Promise.resolve(new ume(e,this._engine))}loadOptions(){}needsPlugin(){return!0}}async function dme(n,e=!0){n.checkVersion("3.9.1"),await n.addPlugin(new hme(n),e)}const fme=["webm","ogg","mp4","x-matroska"],pme=["vp9","vp9.0","vp8","vp8.0","avc1","av1","h265","h.265","h264","h.264","opus","pcm","aac","mpeg","mp4a"];function mme(){const n=t=>MediaRecorder.isTypeSupported(t),e=[];return fme.forEach(t=>{const i=`video/${t}`;pme.forEach(r=>[`${i};codecs=${r}`,`${i};codecs=${r.toUpperCase()}`].forEach(s=>{n(s)&&e.push(s)})),n(i)&&e.push(i)}),e}class gme{constructor(e,t){this._supportedTypes=[],this._exportVideo=async i=>{const r=this._container.canvas.element;if(r)return new Promise(s=>{const a=r.captureStream(i.fps??this._container.actualOptions.fpsLimit),o=0,l=i.mimeType??this._supportedTypes[o],c=new MediaRecorder(a,{mimeType:l}),f=[],h=5;c.addEventListener("dataavailable",v=>{f.push(v.data)}),c.addEventListener("stop",()=>{s(new Blob(f,{type:l}))}),c.start(),setTimeout(()=>{c.stop()},i.duration??h*js)})},this._container=e,this._engine=t,this._supportedTypes=mme()}async export(e,t){const i={supported:!1};switch(e){case"video":i.supported=!0,i.blob=await this._exportVideo(t);break}return i}}class vme{constructor(e){this.id="export-video",this._engine=e}getPlugin(e){return Promise.resolve(new gme(e,this._engine))}loadOptions(){}needsPlugin(){return!0}}async function yme(n,e=!0){n.checkVersion("3.9.1"),await n.addPlugin(new vme(n),e)}class _me{constructor(){this.replaceCursor=!1,this.pauseOnStop=!1,this.stopDelay=0}load(e){jt(e)||(e.options!==void 0&&(this.options=ys({},e.options)),e.replaceCursor!==void 0&&(this.replaceCursor=e.replaceCursor),e.pauseOnStop!==void 0&&(this.pauseOnStop=e.pauseOnStop),e.stopDelay!==void 0&&(this.stopDelay=e.stopDelay))}}const m5="particle";class bme extends Kc{constructor(e){super(e)}clear(){}init(){}interact(){const e=this.container,{interactivity:t}=e,i=e.actualOptions;if(!e.retina.reduceFactor)return;const r=t.mouse.position,s=i.interactivity.modes.particle;if(!s)return;const a=s.pauseOnStop&&(t.mouse.position===this._lastPosition||t.mouse.position?.x===this._lastPosition?.x&&t.mouse.position?.y===this._lastPosition?.y),o=s.stopDelay;if(r?this._lastPosition={...r}:delete this._lastPosition,!!this._lastPosition){if(a){if(this._clearTimeout)return;this._clearTimeout=setTimeout(()=>{if(this._particle){if(s.replaceCursor){const l=t.element;l&&(l instanceof Window?document.body.style.cursor="":l.style.cursor="")}this.container.particles.remove(this._particle,void 0,!0),delete this._particle}},o);return}if(this._clearTimeout&&(clearTimeout(this._clearTimeout),delete this._clearTimeout),!this._particle){const l=ys(s.options,{move:{enable:!1}});if(this._particle=e.particles.addParticle(this._lastPosition,l),s.replaceCursor){const c=t.element;c&&(c instanceof Window?document.body.style.cursor="none":c.style.cursor="none")}}this._particle&&(this._particle.position.x=this._lastPosition.x,this._particle.position.y=this._lastPosition.y)}}isEnabled(e){const t=this.container,i=t.actualOptions,r=t.interactivity.mouse,s=(e?.interactivity??i.interactivity).events;return r.clicking&&r.inside&&!!r.position&&Rs(m5,s.onClick.mode)||r.inside&&!!r.position&&Rs(m5,s.onHover.mode)}loadModeOptions(e,...t){e.particle||(e.particle=new _me);for(const i of t)e.particle.load(i?.particle)}reset(){}}async function xme(n,e=!0){n.checkVersion("3.9.1"),await n.addInteractor("externalParticle",t=>Promise.resolve(new bme(t)),e)}const Sme="pop";class wme extends Kc{constructor(e){super(e),this.handleClickMode=t=>{const i=this.container;if(t!==Sme)return;const r=i.interactivity.mouse.clickPosition;if(!r)return;const s=i.particles.quadTree.queryCircle(r,i.retina.pixelRatio);if(s.length)for(const a of s)i.particles.remove(a)}}clear(){}init(){}interact(){}isEnabled(){return!0}reset(){}}async function Eme(n,e=!0){n.checkVersion("3.9.1"),await n.addInteractor("externalPop",t=>Promise.resolve(new wme(t)),e)}const va=(n,e,t)=>n+t*(e-n),Pf=n=>n*n*(3-2*n),b_=n=>n-Math.floor(n);class Cme{constructor(){this._coeffW=29.537,this._coeffX=127.1,this._coeffY=311.7,this._coeffZ=78.233,this._coeffZW=37.719,this._scaleFactor=43758.5453}noise2d(e,t){const i=Math.floor(e),r=Math.floor(t),s=i+1,a=r+1,o=Pf(e-i),l=Pf(t-r),c=this._valueNoise2D(i,r),f=this._valueNoise2D(s,r),h=this._valueNoise2D(i,a),v=this._valueNoise2D(s,a),m=va(c,f,o),_=va(h,v,o);return va(m,_,l)}noise3d(e,t,i){const r=Math.floor(e),s=Math.floor(t),a=Math.floor(i),o=r+1,l=s+1,c=a+1,f=Pf(e-r),h=Pf(t-s),v=Pf(i-a),m=this._valueNoise3D(r,s,a),_=this._valueNoise3D(o,s,a),g=this._valueNoise3D(r,l,a),y=this._valueNoise3D(o,l,a),u=this._valueNoise3D(r,s,c),b=this._valueNoise3D(o,s,c),S=this._valueNoise3D(r,l,c),T=this._valueNoise3D(o,l,c),R=va(m,_,f),O=va(g,y,f),C=va(u,b,f),I=va(S,T,f),F=va(R,O,h),M=va(C,I,h);return va(F,M,v)}noise4d(e,t,i,r){const s=Math.floor(e),a=Math.floor(t),o=Math.floor(i),l=Math.floor(r),c=s+1,f=a+1,h=o+1,v=l+1,m=Pf(e-s),_=Pf(t-a),g=Pf(i-o),y=Pf(r-l),u=this._valueNoise4D(s,a,o,l),b=this._valueNoise4D(c,a,o,l),S=this._valueNoise4D(s,f,o,l),T=this._valueNoise4D(c,f,o,l),R=this._valueNoise4D(s,a,h,l),O=this._valueNoise4D(c,a,h,l),C=this._valueNoise4D(s,f,h,l),I=this._valueNoise4D(c,f,h,l),F=this._valueNoise4D(s,a,o,v),M=this._valueNoise4D(c,a,o,v),D=this._valueNoise4D(s,f,o,v),B=this._valueNoise4D(c,f,o,v),j=this._valueNoise4D(s,a,h,v),U=this._valueNoise4D(c,a,h,v),V=this._valueNoise4D(s,f,h,v),k=this._valueNoise4D(c,f,h,v),Z=va(u,b,m),ee=va(S,T,m),oe=va(R,O,m),ne=va(C,I,m),ie=va(F,M,m),he=va(D,B,m),fe=va(j,U,m),ce=va(V,k,m),ae=va(Z,ee,_),ve=va(oe,ne,_),_e=va(ie,he,_),Te=va(fe,ce,_),Fe=va(ae,ve,g),We=va(_e,Te,g);return va(Fe,We,y)}seed(e){const t=Math.sin(e)*1e4;this._coeffX=b_(t*15731),this._coeffY=b_(t*789221),this._coeffZ=b_(t*1376312589),this._coeffZW=b_(t*974634777),this._coeffW=b_(t*592558533),this._scaleFactor=43758.5453}_valueNoise2D(e,t){const i=Math.sin(e*this._coeffX+t*this._coeffY)*this._scaleFactor;return(i-Math.floor(i))*2-1}_valueNoise3D(e,t,i){const r=Math.sin(e*this._coeffX+t*this._coeffY+i*this._coeffZ)*this._scaleFactor;return(r-Math.floor(r))*2-1}_valueNoise4D(e,t,i,r){const s=Math.sin(e*this._coeffX+t*this._coeffY+i*this._coeffZW+r*this._coeffW)*this._scaleFactor;return(s-Math.floor(s))*2-1}}class Tme{constructor(){this._smoothValueNoise=new Cme}noise2d(e,t,i=5,r=.5,s=2){let a=0,o=1,l=1,c=0;for(let f=0;f<i;f++)a+=this._smoothValueNoise.noise2d(e*o,t*o)*l,c+=l,l*=r,o*=s;return a/c}noise3d(e,t,i,r=5,s=.5,a=2){let o=0,l=1,c=1,f=0;for(let h=0;h<r;h++)o+=this._smoothValueNoise.noise3d(e*l,t*l,i*l)*c,f+=c,c*=s,l*=a;return o/f}noise4d(e,t,i,r,s=5,a=.5,o=2){let l=0,c=1,f=1,h=0;for(let v=0;v<s;v++)l+=this._smoothValueNoise.noise4d(e*c,t*c,i*c,r*c)*f,h+=f,f*=a,c*=o;return l/h}seed(e){this._smoothValueNoise.seed(e)}}const y0={size:20,increment:.004,columns:0,rows:0,layers:0,width:0,height:0,offset:{x:4e4,y:4e4,z:4e4}};class Ame{constructor(){this._fractal=new Tme,this.field=[],this.noiseW=0,this.options=ys({},y0)}generate(e){const t=e.getPosition(),i={x:Math.max(Math.floor(t.x/this.options.size),0),y:Math.max(Math.floor(t.y/this.options.size),0),z:Math.max(Math.floor(t.z/this.options.size),0)},r=Er.origin;return this.field?.[i.x]?.[i.y]?.[i.z]&&r.setTo(this.field[i.x][i.y][i.z]),r}init(e){this.container=e,this._setup()}reset(){}update(){this.container&&(this._calculateField(),this.noiseW+=this.options.increment)}_calculateField(){const e=this.options;for(let t=0;t<e.columns;t++)for(let i=0;i<e.rows;i++)for(let r=0;r<e.layers;r++)this.field[t][i][r].angle=this._fractal.noise4d(t/50,i/50,r/50,this.noiseW)*Math.PI*2,this.field[t][i][r].length=this._fractal.noise4d(t/100+e.offset.x,i/100+e.offset.y,r/100+e.offset.z,this.noiseW)}_initField(){this.field=new Array(this.options.columns);for(let e=0;e<this.options.columns;e++){this.field[e]=new Array(this.options.rows);for(let t=0;t<this.options.rows;t++){this.field[e][t]=new Array(this.options.layers);for(let i=0;i<this.options.layers;i++)this.field[e][t][i]=Er.origin}}}_resetField(){const e=this.container;if(!e)return;const t=e.actualOptions.particles.move.path.options;this.options.size=t.size>0?t.size:y0.size,this.options.increment=t.increment>0?t.increment:y0.increment,this.options.width=e.canvas.size.width,this.options.height=e.canvas.size.height;const i=t.offset;this.options.offset.x=i?.x??y0.offset.x,this.options.offset.y=i?.y??y0.offset.y,this.options.offset.z=i?.z??y0.offset.z,this.options.seed=t.seed,this._fractal.seed(this.options.seed??Yn()),this.options.columns=Math.floor(this.options.width/this.options.size)+1,this.options.rows=Math.floor(this.options.height/this.options.size)+1,this.options.layers=Math.floor(e.zLayers/this.options.size)+1,this._initField()}_setup(){this.noiseW=0,this._resetField(),addEventListener("resize",()=>this._resetField())}}const Mme="fractalNoise";async function Rme(n,e=!0){n.checkVersion("3.9.1"),await n.addPathGenerator(Mme,new Ame,e)}class Ome{constructor(){this.radius=0,this.mass=0}load(e){jt(e)||(e.mass!==void 0&&(this.mass=e.mass),e.radius!==void 0&&(this.radius=e.radius))}}class Lme extends wu{constructor(){super(),this.density=5,this.value=50,this.limit=new Ome}load(e){jt(e)||(super.load(e),e.density!==void 0&&(this.density=e.density),Ml(e.limit)?this.limit.radius=e.limit:this.limit.load(e.limit))}}class yE{constructor(){this.color=new vs,this.color.value="#000000",this.draggable=!1,this.opacity=1,this.destroy=!0,this.orbits=!1,this.size=new Lme}load(e){jt(e)||(e.color!==void 0&&(this.color=vs.create(this.color,e.color)),e.draggable!==void 0&&(this.draggable=e.draggable),this.name=e.name,e.opacity!==void 0&&(this.opacity=e.opacity),e.position!==void 0&&(this.position={},e.position.x!==void 0&&(this.position.x=oi(e.position.x)),e.position.y!==void 0&&(this.position.y=oi(e.position.y))),e.size!==void 0&&this.size.load(e.size),e.destroy!==void 0&&(this.destroy=e.destroy),e.orbits!==void 0&&(this.orbits=e.orbits))}}var _E;(function(n){n.absorber="absorber"})(_E||(_E={}));const Pme=2,Ime=.033,Dme=0,Nme=0,Fme=0,Ume=0,kme=2,g5=Math.PI*kme,v5=0;class Bme{constructor(e,t,i,r,s){this._calcPosition=()=>{const o=Y8({size:this._container.canvas.size,position:this.options.position});return Er.create(o.x,o.y)},this._updateParticlePosition=(o,l)=>{if(o.destroyed)return;const c=this._container,f=c.canvas.size;if(o.needsNewPosition){const h=q8({size:f});o.position.setTo(h),o.velocity.setTo(o.initialVelocity),o.absorberOrbit=void 0,o.needsNewPosition=!1}if(this.options.orbits){if(o.absorberOrbit===void 0&&(o.absorberOrbit=Er.origin,o.absorberOrbit.length=Tl(o.getPosition(),this.position),o.absorberOrbit.angle=Yn()*g5),o.absorberOrbit.length<=this.size&&!this.options.destroy){const g=Math.min(f.width,f.height),y=1,u=.1,b=.2;o.absorberOrbit.length=g*(y+(Yn()*b-u))}o.absorberOrbitDirection===void 0&&(o.absorberOrbitDirection=o.velocity.x>=v5?mo.clockwise:mo.counterClockwise);const h=o.absorberOrbit.length,v=o.absorberOrbit.angle,m=o.absorberOrbitDirection;o.velocity.setTo(Er.origin);const _={x:m===mo.clockwise?Math.cos:Math.sin,y:m===mo.clockwise?Math.sin:Math.cos};o.position.x=this.position.x+h*_.x(v),o.position.y=this.position.y+h*_.y(v),o.absorberOrbit.length-=l.length,o.absorberOrbit.angle+=(o.retina.moveSpeed??v5)*c.retina.pixelRatio/Ir*c.retina.reduceFactor}else{const h=Er.origin;h.length=l.length,h.angle=l.angle,o.velocity.addTo(h)}},this._absorbers=e,this._container=t,this._engine=i,this.initialPosition=s?Er.create(s.x,s.y):void 0,r instanceof yE?this.options=r:(this.options=new yE,this.options.load(r)),this.dragging=!1,this.name=this.options.name,this.opacity=this.options.opacity,this.size=cn(this.options.size.value)*t.retina.pixelRatio,this.mass=this.size*this.options.size.density*t.retina.reduceFactor;const a=this.options.size.limit;this.limit={radius:a.radius*t.retina.pixelRatio*t.retina.reduceFactor,mass:a.mass},this.color=Al(this._engine,this.options.color)??{b:0,g:0,r:0},this.position=this.initialPosition?.copy()??this._calcPosition()}attract(e){const t=this._container,i=this.options;if(i.draggable){const c=t.interactivity.mouse;c.clicking&&c.downPosition?Tl(this.position,c.downPosition)<=this.size&&(this.dragging=!0):this.dragging=!1,this.dragging&&c.position&&(this.position.x=c.position.x,this.position.y=c.position.y)}const r=e.getPosition(),{dx:s,dy:a,distance:o}=_o(this.position,r),l=Er.create(s,a);if(l.length=this.mass/Math.pow(o,Pme)*t.retina.reduceFactor,o<this.size+e.getRadius()){const c=e.getRadius()*Ime*t.retina.pixelRatio;this.size>e.getRadius()&&o<this.size-e.getRadius()||e.absorberOrbit!==void 0&&e.absorberOrbit.length<Dme?i.destroy?e.destroy():(e.needsNewPosition=!0,this._updateParticlePosition(e,l)):(i.destroy&&(e.size.value-=c),this._updateParticlePosition(e,l)),(this.limit.radius<=Nme||this.size<this.limit.radius)&&(this.size+=c),(this.limit.mass<=Fme||this.mass<this.limit.mass)&&(this.mass+=c*this.options.size.density*t.retina.reduceFactor)}else this._updateParticlePosition(e,l)}draw(e){e.translate(this.position.x,this.position.y),e.beginPath(),e.arc(Io.x,Io.y,this.size,Ume,g5,!1),e.closePath(),e.fillStyle=Sc(this.color,this.opacity),e.fill()}resize(){const e=this.initialPosition;this.position=e&&lb(e,this._container.canvas.size,Er.origin)?e:this._calcPosition()}}const y5=0;class zme{constructor(e,t){this._container=e,this._engine=t,this.array=[],this.absorbers=[],this.interactivityAbsorbers=[],e.getAbsorber=i=>i===void 0||Ml(i)?this.array[i??y5]:this.array.find(r=>r.name===i),e.addAbsorber=async(i,r)=>this.addAbsorber(i,r)}async addAbsorber(e,t){const i=new Bme(this,this._container,this._engine,e,t);return this.array.push(i),Promise.resolve(i)}draw(e){for(const t of this.array)t.draw(e)}handleClickMode(e){const t=this.absorbers,i=this.interactivityAbsorbers;if(e===_E.absorber){const r=yo(i),s=r??yo(t),a=this._container.interactivity.mouse.clickPosition;this.addAbsorber(s,a)}}async init(){this.absorbers=this._container.actualOptions.absorbers,this.interactivityAbsorbers=this._container.actualOptions.interactivity.modes.absorbers;const e=ha(this.absorbers,async t=>{await this.addAbsorber(t)});e instanceof Array?await Promise.all(e):await e}particleUpdate(e){for(const t of this.array)if(t.attract(e),e.destroyed)break}removeAbsorber(e){const t=this.array.indexOf(e);t>=y5&&this.array.splice(t,1)}resize(){for(const e of this.array)e.resize()}stop(){this.array=[]}}class Gme{constructor(e){this.id="absorbers",this._engine=e}async getPlugin(e){return Promise.resolve(new zme(e,this._engine))}loadOptions(e,t){!this.needsPlugin(e)&&!this.needsPlugin(t)||(t?.absorbers&&(e.absorbers=ha(t.absorbers,i=>{const r=new yE;return r.load(i),r})),e.interactivity.modes.absorbers=ha(t?.interactivity?.modes?.absorbers,i=>{const r=new yE;return r.load(i),r}))}needsPlugin(e){if(!e)return!1;const t=e.absorbers;return qo(t)?!!t.length:t?!0:!!(e.interactivity?.events?.onClick?.mode&&Rs(_E.absorber,e.interactivity.events.onClick.mode))}}async function Hme(n,e=!0){n.checkVersion("3.9.1"),await n.addPlugin(new Gme(n),e)}class $me{load(e){jt(e)||(e.bottom!==void 0&&(this.bottom=oi(e.bottom)),e.left!==void 0&&(this.left=oi(e.left)),e.right!==void 0&&(this.right=oi(e.right)),e.top!==void 0&&(this.top=oi(e.top)))}}var bE;(function(n){n.none="none",n.split="split"})(bE||(bE={}));class Vme extends wu{constructor(){super(),this.value=3}}class Wme extends wu{constructor(){super(),this.value={min:4,max:9}}}class jme{constructor(){this.count=1,this.factor=new Vme,this.rate=new Wme,this.sizeOffset=!0}load(e){jt(e)||(e.color!==void 0&&(this.color=vs.create(this.color,e.color)),e.count!==void 0&&(this.count=e.count),this.factor.load(e.factor),this.rate.load(e.rate),this.particles=ha(e.particles,t=>ys({},t)),e.sizeOffset!==void 0&&(this.sizeOffset=e.sizeOffset),e.colorOffset&&(this.colorOffset=this.colorOffset??{},e.colorOffset.h!==void 0&&(this.colorOffset.h=e.colorOffset.h),e.colorOffset.s!==void 0&&(this.colorOffset.s=e.colorOffset.s),e.colorOffset.l!==void 0&&(this.colorOffset.l=e.colorOffset.l)))}}class Xme{constructor(){this.bounds=new $me,this.mode=bE.none,this.split=new jme}load(e){jt(e)||(e.mode&&(this.mode=e.mode),e.bounds&&this.bounds.load(e.bounds),this.split.load(e.split))}}const mS=0,qme=.5,Yme=0,Kme=1,Zme=500,Qme=0;function Jme(n,e,t,i){const r=t.options.destroy;if(!r)return;const s=r.split,a=OO(n,e,t.options),o=cn(s.factor.value),l=t.getFillColor();s.color?a.color.load(s.color):s.colorOffset&&l?a.color.load({value:{hsl:{h:l.h+cn(s.colorOffset.h??mS),s:l.s+cn(s.colorOffset.s??mS),l:l.l+cn(s.colorOffset.l??mS)}}}):a.color.load({value:{hsl:t.getFillColor()}}),a.move.load({center:{x:t.position.x,y:t.position.y,mode:qh.precise}}),Ml(a.size.value)?a.size.value/=o:(a.size.value.min/=o,a.size.value.max/=o),a.load(i);const c=s.sizeOffset?oi(-t.size.value,t.size.value):mS,f={x:t.position.x+vo(c),y:t.position.y+vo(c)};return e.particles.addParticle(f,a,t.group,h=>h.size.value<qme?!1:(h.velocity.length=vo(oi(t.velocity.length,h.velocity.length)),h.splitCount=(t.splitCount??Yme)+Kme,h.unbreakable=!0,setTimeout(()=>{h.unbreakable=!1},Zme),!0))}function ege(n,e,t){const i=t.options.destroy;if(!i)return;const r=i.split;if(r.count>=Qme&&(t.splitCount===void 0||t.splitCount++>r.count))return;const s=cn(r.rate.value),a=yo(r.particles);for(let o=0;o<s;o++)Jme(n,e,t,a)}class tge{constructor(e,t){this.container=t,this.engine=e}init(e){const t=this.container,i=e.options,r=i.destroy;if(!r)return;e.splitCount=0;const s=r.bounds;e.destroyBounds||(e.destroyBounds={});const{bottom:a,left:o,right:l,top:c}=s,{destroyBounds:f}=e,h=t.canvas.size;a&&(f.bottom=cn(a)*h.height/Ir),o&&(f.left=cn(o)*h.width/Ir),l&&(f.right=cn(l)*h.width/Ir),c&&(f.top=cn(c)*h.height/Ir)}isEnabled(e){return!e.destroyed}loadOptions(e,...t){e.destroy||(e.destroy=new Xme);for(const i of t)e.destroy.load(i?.destroy)}particleDestroyed(e,t){if(t)return;const i=e.options.destroy;i&&i.mode===bE.split&&ege(this.engine,this.container,e)}update(e){if(!this.isEnabled(e))return;const t=e.getPosition(),i=e.destroyBounds;i&&(i.bottom!==void 0&&t.y>=i.bottom||i.left!==void 0&&t.x<=i.left||i.right!==void 0&&t.x>=i.right||i.top!==void 0&&t.y<=i.top)&&e.destroy()}}async function nge(n,e=!0){n.checkVersion("3.9.1"),await n.addParticleUpdater("destroy",t=>Promise.resolve(new tge(n,t)),e)}const x_=.25,ER=2,ige=Math.PI*ER,_5=2,b5=.5;class rge extends ub{constructor(e,t,i,r){super(e,t,i,r)}async init(){}randomPosition(){const e=this.size,t=this.fill,i=this.position,r=(h,v)=>{const m=Yn()*x_,_=Math.atan(v/h*Math.tan(ige*m)),g=Yn();return g<x_?_:g<ER*x_?Math.PI-_:g<ER*x_+x_?Math.PI+_:-_},s=(h,v,m)=>h*v/Math.sqrt((v*Math.cos(m))**_5+(h*Math.sin(m))**_5),[a,o]=[e.width*b5,e.height*b5],l=r(a,o),c=s(a,o,l),f=t?c*Math.sqrt(Yn()):c;return{position:{x:i.x+f*Math.cos(l),y:i.y+f*Math.sin(l)}}}}class sge{generate(e,t,i,r){return new rge(e,t,i,r)}}async function age(n,e=!0){const t=n;t.checkVersion("3.9.1"),t.addEmitterShapeGenerator?.("circle",new sge),await t.refresh(e)}const oge=4;var M0;(function(n){n[n.TopLeft=0]="TopLeft",n[n.TopRight=1]="TopRight",n[n.BottomRight=2]="BottomRight",n[n.BottomLeft=3]="BottomLeft"})(M0||(M0={}));function x5(n,e){return n+e*(Yn()-Rr)}class lge extends ub{constructor(e,t,i,r){super(e,t,i,r)}async init(){}randomPosition(){const e=this.fill,t=this.position,i=this.size;if(e)return{position:{x:x5(t.x,i.width),y:x5(t.y,i.height)}};{const r=i.width*Rr,s=i.height*Rr,a=Math.floor(Yn()*oge),o=(Yn()-Rr)*ll;switch(a){case M0.TopLeft:return{position:{x:t.x+o*r,y:t.y-s}};case M0.TopRight:return{position:{x:t.x-r,y:t.y+o*s}};case M0.BottomRight:return{position:{x:t.x+o*r,y:t.y+s}};case M0.BottomLeft:default:return{position:{x:t.x+r,y:t.y+o*s}}}}}}class cge{generate(e,t,i,r){return new lge(e,t,i,r)}}async function uge(n,e=!0){const t=n;t.checkVersion("3.9.1"),t.addEmitterShapeGenerator?.("square",new cge),await t.refresh(e)}class hge{constructor(){this.delay=1,this.pauseOnStop=!1,this.quantity=1}load(e){jt(e)||(e.delay!==void 0&&(this.delay=e.delay),e.quantity!==void 0&&(this.quantity=e.quantity),e.particles!==void 0&&(this.particles=ys({},e.particles)),e.pauseOnStop!==void 0&&(this.pauseOnStop=e.pauseOnStop))}}const S5="trail";class dge extends Kc{constructor(e){super(e),this._delay=0}clear(){}init(){}interact(e){const t=this.container,{interactivity:i}=t;if(!t.retina.reduceFactor)return;const r=t.actualOptions,s=r.interactivity.modes.trail;if(!s)return;const a=s.delay*js/this.container.retina.reduceFactor;if(this._delay<a&&(this._delay+=e.value),this._delay<a)return;const o=!(s.pauseOnStop&&(i.mouse.position===this._lastPosition||i.mouse.position?.x===this._lastPosition?.x&&i.mouse.position?.y===this._lastPosition?.y)),l=t.interactivity.mouse.position;l?this._lastPosition={...l}:delete this._lastPosition,o&&t.particles.push(s.quantity,t.interactivity.mouse,s.particles),this._delay-=a}isEnabled(e){const t=this.container,i=t.actualOptions,r=t.interactivity.mouse,s=(e?.interactivity??i.interactivity).events;return r.clicking&&r.inside&&!!r.position&&Rs(S5,s.onClick.mode)||r.inside&&!!r.position&&Rs(S5,s.onHover.mode)}loadModeOptions(e,...t){e.trail||(e.trail=new hge);for(const i of t)e.trail.load(i?.trail)}reset(){}}async function fge(n,e=!0){n.checkVersion("3.9.1"),await n.addInteractor("externalTrail",t=>Promise.resolve(new dge(t)),e)}var Ug;(function(n){n.both="both",n.horizontal="horizontal",n.vertical="vertical"})(Ug||(Ug={}));const pge=2,gz=Math.PI*pge,mge=360;function gge(n,e){const t=e.options.roll;if(!t?.enable){e.roll={enable:!1,horizontal:!1,vertical:!1,angle:0,speed:0};return}if(e.roll={enable:t.enable,horizontal:t.mode===Ug.horizontal||t.mode===Ug.both,vertical:t.mode===Ug.vertical||t.mode===Ug.both,angle:Yn()*gz,speed:cn(t.speed)/mge},t.backColor)e.backColor=$d(n,t.backColor);else if(t.darken.enable&&t.enlighten.enable){const i=Yn()>=Rr?nm.darken:nm.enlighten;e.roll.alter={type:i,value:cn(i===nm.darken?t.darken.value:t.enlighten.value)}}else t.darken.enable?e.roll.alter={type:nm.darken,value:cn(t.darken.value)}:t.enlighten.enable&&(e.roll.alter={type:nm.enlighten,value:cn(t.enlighten.value)})}function vge(n,e){const t=n.options.roll,i=n.roll;if(!i||!t?.enable)return;const r=i.speed*e.factor,s=gz;i.angle+=r,i.angle>s&&(i.angle-=s)}class w5{constructor(){this.enable=!1,this.value=0}load(e){jt(e)||(e.enable!==void 0&&(this.enable=e.enable),e.value!==void 0&&(this.value=oi(e.value)))}}class yge{constructor(){this.darken=new w5,this.enable=!1,this.enlighten=new w5,this.mode=Ug.vertical,this.speed=25}load(e){jt(e)||(e.backColor!==void 0&&(this.backColor=vs.create(this.backColor,e.backColor)),this.darken.load(e.darken),e.enable!==void 0&&(this.enable=e.enable),this.enlighten.load(e.enlighten),e.mode!==void 0&&(this.mode=e.mode),e.speed!==void 0&&(this.speed=oi(e.speed)))}}class _ge{constructor(e){this._engine=e}getTransformValues(e){const t=e.roll?.enable&&e.roll,i=t&&t.horizontal,r=t&&t.vertical;return{a:i?Math.cos(t.angle):void 0,d:r?Math.sin(t.angle):void 0}}init(e){gge(this._engine,e)}isEnabled(e){const t=e.options.roll;return!e.destroyed&&!e.spawning&&!!t?.enable}loadOptions(e,...t){e.roll||(e.roll=new yge);for(const i of t)e.roll.load(i?.roll)}update(e,t){this.isEnabled(e)&&vge(e,t)}}async function bge(n,e=!0){n.checkVersion("3.9.1"),await n.addParticleUpdater("roll",()=>Promise.resolve(new _ge(n)),e)}const CR=.5,xge=2,cm=0,zh=1,E5=60,C5=0,Sge=.01,wge=Math.PI*xge;function Ege(n){const e=n.initialPosition,{dx:t,dy:i}=_o(e,n.position),r=Math.abs(t),s=Math.abs(i),{maxDistance:a}=n.retina,o=a.horizontal,l=a.vertical;if(!o&&!l)return;const c=(o&&r>=o)??!1,f=(l&&s>=l)??!1;if((c||f)&&!n.misplaced)n.misplaced=!!o&&r>o||!!l&&s>l,o&&(n.velocity.x=n.velocity.y*CR-n.velocity.x),l&&(n.velocity.y=n.velocity.x*CR-n.velocity.y);else if((!o||r<o)&&(!l||s<l)&&n.misplaced)n.misplaced=!1;else if(n.misplaced){const h=n.position,v=n.velocity;o&&(h.x<e.x&&v.x<cm||h.x>e.x&&v.x>cm)&&(v.x*=-Yn()),l&&(h.y<e.y&&v.y<cm||h.y>e.y&&v.y>cm)&&(v.y*=-Yn())}}function Cge(n,e,t,i,r,s,a){Age(n,a);const o=n.gravity,l=o?.enable&&o.inverse?-zh:zh;r&&t&&(n.velocity.x+=r*a.factor/(E5*t)),o?.enable&&t&&(n.velocity.y+=l*(o.acceleration*a.factor)/(E5*t));const c=n.moveDecay;n.velocity.multTo(c);const f=n.velocity.mult(t);o?.enable&&i>cm&&(!o.inverse&&f.y>=cm&&f.y>=i||o.inverse&&f.y<=cm&&f.y<=-i)&&(f.y=l*i,t&&(n.velocity.y=f.y/t));const h=n.options.zIndex,v=(zh-n.zIndexFactor)**h.velocityRate;f.multTo(v),f.multTo(s);const{position:m}=n;m.addTo(f),e.vibrate&&(m.x+=Math.sin(m.x*Math.cos(m.y))*s,m.y+=Math.cos(m.y*Math.sin(m.x))*s)}function Tge(n,e,t){const i=n.container;if(!n.spin)return;const r=n.spin.direction===mo.clockwise,s={x:r?Math.cos:Math.sin,y:r?Math.sin:Math.cos};n.position.x=n.spin.center.x+n.spin.radius*s.x(n.spin.angle)*t,n.position.y=n.spin.center.y+n.spin.radius*s.y(n.spin.angle)*t,n.spin.radius+=n.spin.acceleration*t;const a=Math.max(i.canvas.size.width,i.canvas.size.height),o=a*CR;n.spin.radius>o?(n.spin.radius=o,n.spin.acceleration*=-zh):n.spin.radius<C5&&(n.spin.radius=C5,n.spin.acceleration*=-zh),n.spin.angle+=e*Sge*(zh-n.spin.radius/a)}function Age(n,e){const t=n.options,i=t.move.path;if(!i.enable)return;if(n.lastPathTime<=n.pathDelay){n.lastPathTime+=e.value;return}const s=n.pathGenerator?.generate(n,e);s&&n.velocity.addTo(s),i.clamp&&(n.velocity.x=qc(n.velocity.x,-zh,zh),n.velocity.y=qc(n.velocity.y,-zh,zh)),n.lastPathTime-=n.pathDelay}function Mge(n){return n.slow.inRange?n.slow.factor:zh}function Rge(n){const e=n.container,t=n.options,i=t.move.spin;if(!i.enable)return;const r=i.position??{x:50,y:50},s=.01,a={x:r.x*s*e.canvas.size.width,y:r.y*s*e.canvas.size.height},o=n.getPosition(),l=Tl(o,a),c=cn(i.acceleration);n.retina.spinAcceleration=c*e.retina.pixelRatio,n.spin={center:a,direction:n.velocity.x>=cm?mo.clockwise:mo.counterClockwise,angle:Yn()*wge,radius:l,acceleration:n.retina.spinAcceleration}}const Oge=2,Lge=1,Pge=1;class Ige{init(e){const t=e.options,i=t.move.gravity;e.gravity={enable:i.enable,acceleration:cn(i.acceleration),inverse:i.inverse},Rge(e)}isEnabled(e){return!e.destroyed&&e.options.move.enable}move(e,t){const i=e.options,r=i.move;if(!r.enable)return;const s=e.container,a=s.retina.pixelRatio;e.retina.moveSpeed??=cn(r.speed)*a,e.retina.moveDrift??=cn(e.options.move.drift)*a;const o=Mge(e),l=s.retina.reduceFactor,c=e.retina.moveSpeed,f=e.retina.moveDrift,h=vu(i.size.value)*a,v=r.size?e.getRadius()/h:Lge,m=t.factor||Pge,_=c*v*o*m/Oge,g=e.retina.maxSpeed??s.retina.maxSpeed;r.spin.enable?Tge(e,_,l):Cge(e,r,_,g,f,l,t),Ege(e)}}async function Dge(n,e=!0){n.checkVersion("3.9.1"),await n.addMover("base",()=>Promise.resolve(new Ige),e)}const Nge=2,Fge=Math.PI*Nge,Uge=0,T5={x:0,y:0};function kge(n){const{context:e,particle:t,radius:i}=n;t.circleRange||(t.circleRange={min:Uge,max:Fge});const r=t.circleRange;e.arc(T5.x,T5.y,i,r.min,r.max,!1)}const Bge=12,zge=360,A5=0;class Gge{constructor(){this.validTypes=["circle"]}draw(e){kge(e)}getSidesCount(){return Bge}particleInit(e,t){const i=t.shapeData,r=i?.angle??{max:zge,min:A5};t.circleRange=lm(r)?{min:$h(r.min),max:$h(r.max)}:{min:A5,max:$h(r)}}}async function Hge(n,e=!0){n.checkVersion("3.9.1"),await n.addShape(new Gge,e)}class $ge{constructor(e,t){this._container=e,this._engine=t}init(e){const t=$d(this._engine,e.options.color,e.id,e.options.reduceDuplicates);t&&(e.color=AO(t,e.options.color.animation,this._container.retina.reduceFactor))}isEnabled(e){const{h:t,s:i,l:r}=e.options.color.animation,{color:s}=e;return!e.destroyed&&!e.spawning&&(s?.h.value!==void 0&&t.enable||s?.s.value!==void 0&&i.enable||s?.l.value!==void 0&&r.enable)}update(e,t){MO(e.color,t)}}async function Vge(n,e=!0){n.checkVersion("3.9.1"),await n.addParticleUpdater("color",t=>Promise.resolve(new $ge(t,n)),e)}var Eg;(function(n){n[n.r=1]="r",n[n.g=2]="g",n[n.b=3]="b",n[n.a=4]="a"})(Eg||(Eg={}));const Wge=/^#?([a-f\d])([a-f\d])([a-f\d])([a-f\d])?$/i,jge=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})?$/i,gS=16,Xge=1,qge=255;class Yge{constructor(){this.key="hex",this.stringPrefix="#"}handleColor(e){return this._parseString(e.value)}handleRangeColor(e){return this._parseString(e.value)}parseString(e){return this._parseString(e)}_parseString(e){if(typeof e!="string"||!e?.startsWith(this.stringPrefix))return;const t=e.replace(Wge,(r,s,a,o,l)=>s+s+a+a+o+o+(l!==void 0?l+l:"")),i=jge.exec(t);return i?{a:i[Eg.a]!==void 0?parseInt(i[Eg.a],gS)/qge:Xge,b:parseInt(i[Eg.b],gS),g:parseInt(i[Eg.g],gS),r:parseInt(i[Eg.r],gS)}:void 0}}async function Kge(n,e=!0){n.checkVersion("3.9.1"),await n.addColorManager(new Yge,e)}var R0;(function(n){n[n.h=1]="h",n[n.s=2]="s",n[n.l=3]="l",n[n.a=5]="a"})(R0||(R0={}));class Zge{constructor(){this.key="hsl",this.stringPrefix="hsl"}handleColor(e){const t=e.value,i=t.hsl??e.value;if(i.h!==void 0&&i.s!==void 0&&i.l!==void 0)return ry(i)}handleRangeColor(e){const t=e.value,i=t.hsl??e.value;if(i.h!==void 0&&i.l!==void 0)return ry({h:cn(i.h),l:cn(i.l),s:cn(i.s)})}parseString(e){if(!e.startsWith("hsl"))return;const t=/hsla?\(\s*(\d+)\s*[\s,]\s*(\d+)%\s*[\s,]\s*(\d+)%\s*([\s,]\s*(0|1|0?\.\d+|(\d{1,3})%)\s*)?\)/i,i=t.exec(e),r=4,s=1,a=10;return i?Ihe({a:i.length>r?ob(i[R0.a]):s,h:parseInt(i[R0.h],a),l:parseInt(i[R0.l],a),s:parseInt(i[R0.s],a)}):void 0}}async function Qge(n,e=!0){n.checkVersion("3.9.1"),await n.addColorManager(new Zge,e)}class Jge{constructor(e){this.container=e}init(e){const t=e.options.opacity,i=1;e.opacity=ez(t,i);const r=t.animation;r.enable&&(e.opacity.velocity=cn(r.speed)/Ir*this.container.retina.reduceFactor,r.sync||(e.opacity.velocity*=Yn()))}isEnabled(e){return!e.destroyed&&!e.spawning&&!!e.opacity&&e.opacity.enable&&((e.opacity.maxLoops??0)<=0||(e.opacity.maxLoops??0)>0&&(e.opacity.loops??0)<(e.opacity.maxLoops??0))}reset(e){e.opacity&&(e.opacity.time=0,e.opacity.loops=0)}update(e,t){!this.isEnabled(e)||!e.opacity||iy(e,e.opacity,!0,e.options.opacity.animation.destroy,t)}}async function eve(n,e=!0){n.checkVersion("3.9.1"),await n.addParticleUpdater("opacity",t=>Promise.resolve(new Jge(t)),e)}const xE=0,G0=0;function tve(n){if(n.outMode!==No.bounce&&n.outMode!==No.split||n.direction!==Gr.left&&n.direction!==Gr.right)return;n.bounds.right<G0&&n.direction===Gr.left?n.particle.position.x=n.size+n.offset.x:n.bounds.left>n.canvasSize.width&&n.direction===Gr.right&&(n.particle.position.x=n.canvasSize.width-n.size-n.offset.x);const e=n.particle.velocity.x;let t=!1;if(n.direction===Gr.right&&n.bounds.right>=n.canvasSize.width&&e>xE||n.direction===Gr.left&&n.bounds.left<=G0&&e<xE){const r=cn(n.particle.options.bounce.horizontal.value);n.particle.velocity.x*=-r,t=!0}if(!t)return;const i=n.offset.x+n.size;n.bounds.right>=n.canvasSize.width&&n.direction===Gr.right?n.particle.position.x=n.canvasSize.width-i:n.bounds.left<=G0&&n.direction===Gr.left&&(n.particle.position.x=i),n.outMode===No.split&&n.particle.destroy()}function nve(n){if(n.outMode!==No.bounce&&n.outMode!==No.split||n.direction!==Gr.bottom&&n.direction!==Gr.top)return;n.bounds.bottom<G0&&n.direction===Gr.top?n.particle.position.y=n.size+n.offset.y:n.bounds.top>n.canvasSize.height&&n.direction===Gr.bottom&&(n.particle.position.y=n.canvasSize.height-n.size-n.offset.y);const e=n.particle.velocity.y;let t=!1;if(n.direction===Gr.bottom&&n.bounds.bottom>=n.canvasSize.height&&e>xE||n.direction===Gr.top&&n.bounds.top<=G0&&e<xE){const r=cn(n.particle.options.bounce.vertical.value);n.particle.velocity.y*=-r,t=!0}if(!t)return;const i=n.offset.y+n.size;n.bounds.bottom>=n.canvasSize.height&&n.direction===Gr.bottom?n.particle.position.y=n.canvasSize.height-i:n.bounds.top<=G0&&n.direction===Gr.top&&(n.particle.position.y=i),n.outMode===No.split&&n.particle.destroy()}class ive{constructor(e){this.container=e,this.modes=[No.bounce,No.split]}update(e,t,i,r){if(!this.modes.includes(r))return;const s=this.container;let a=!1;for(const v of s.plugins.values())if(v.particleBounce!==void 0&&(a=v.particleBounce(e,i,t)),a)break;if(a)return;const o=e.getPosition(),l=e.offset,c=e.getRadius(),f=cb(o,c),h=s.canvas.size;tve({particle:e,outMode:r,direction:t,bounds:f,canvasSize:h,offset:l,size:c}),nve({particle:e,outMode:r,direction:t,bounds:f,canvasSize:h,offset:l,size:c})}}const vS=0;class rve{constructor(e){this.container=e,this.modes=[No.destroy]}update(e,t,i,r){if(!this.modes.includes(r))return;const s=this.container;switch(e.outType){case Vh.normal:case Vh.outside:if(lb(e.position,s.canvas.size,Er.origin,e.getRadius(),t))return;break;case Vh.inside:{const{dx:a,dy:o}=_o(e.position,e.moveCenter),{x:l,y:c}=e.velocity;if(l<vS&&a>e.moveCenter.radius||c<vS&&o>e.moveCenter.radius||l>=vS&&a<-e.moveCenter.radius||c>=vS&&o<-e.moveCenter.radius)return;break}}s.particles.remove(e,e.group,!0)}}const yS=0;class sve{constructor(e){this.container=e,this.modes=[No.none]}update(e,t,i,r){if(!this.modes.includes(r)||((e.options.move.distance.horizontal&&(t===Gr.left||t===Gr.right))??(e.options.move.distance.vertical&&(t===Gr.top||t===Gr.bottom))))return;const s=e.options.move.gravity,a=this.container,o=a.canvas.size,l=e.getRadius();if(s.enable){const c=e.position;(!s.inverse&&c.y>o.height+l&&t===Gr.bottom||s.inverse&&c.y<-l&&t===Gr.top)&&a.particles.remove(e)}else{if(e.velocity.y>yS&&e.position.y<=o.height+l||e.velocity.y<yS&&e.position.y>=-l||e.velocity.x>yS&&e.position.x<=o.width+l||e.velocity.x<yS&&e.position.x>=-l)return;lb(e.position,a.canvas.size,Er.origin,l,t)||a.particles.remove(e)}}}const _S=0,bS=0;class ave{constructor(e){this.container=e,this.modes=[No.out]}update(e,t,i,r){if(!this.modes.includes(r))return;const s=this.container;switch(e.outType){case Vh.inside:{const{x:a,y:o}=e.velocity,l=Er.origin;l.length=e.moveCenter.radius,l.angle=e.velocity.angle+Math.PI,l.addTo(Er.create(e.moveCenter));const{dx:c,dy:f}=_o(e.position,l);if(a<=_S&&c>=bS||o<=_S&&f>=bS||a>=_S&&c<=bS||o>=_S&&f<=bS)return;e.position.x=Math.floor(vo({min:0,max:s.canvas.size.width})),e.position.y=Math.floor(vo({min:0,max:s.canvas.size.height}));const{dx:h,dy:v}=_o(e.position,e.moveCenter);e.direction=Math.atan2(-v,-h),e.velocity.angle=e.direction;break}default:{if(lb(e.position,s.canvas.size,Er.origin,e.getRadius(),t))return;switch(e.outType){case Vh.outside:{e.position.x=Math.floor(vo({min:-e.moveCenter.radius,max:e.moveCenter.radius}))+e.moveCenter.x,e.position.y=Math.floor(vo({min:-e.moveCenter.radius,max:e.moveCenter.radius}))+e.moveCenter.y;const{dx:a,dy:o}=_o(e.position,e.moveCenter);e.moveCenter.radius&&(e.direction=Math.atan2(o,a),e.velocity.angle=e.direction);break}case Vh.normal:{const a=e.options.move.warp,o=s.canvas.size,l={bottom:o.height+e.getRadius()+e.offset.y,left:-e.getRadius()-e.offset.x,right:o.width+e.getRadius()+e.offset.x,top:-e.getRadius()-e.offset.y},c=e.getRadius(),f=cb(e.position,c);t===Gr.right&&f.left>o.width+e.offset.x?(e.position.x=l.left,e.initialPosition.x=e.position.x,a||(e.position.y=Yn()*o.height,e.initialPosition.y=e.position.y)):t===Gr.left&&f.right<-e.offset.x&&(e.position.x=l.right,e.initialPosition.x=e.position.x,a||(e.position.y=Yn()*o.height,e.initialPosition.y=e.position.y)),t===Gr.bottom&&f.top>o.height+e.offset.y?(a||(e.position.x=Yn()*o.width,e.initialPosition.x=e.position.x),e.position.y=l.top,e.initialPosition.y=e.position.y):t===Gr.top&&f.bottom<-e.offset.y&&(a||(e.position.x=Yn()*o.width,e.initialPosition.x=e.position.x),e.position.y=l.bottom,e.initialPosition.y=e.position.y);break}}break}}}}const ove=(n,e)=>n.default===e||n.bottom===e||n.left===e||n.right===e||n.top===e;class lve{constructor(e){this._addUpdaterIfMissing=(t,i,r)=>{const s=t.options.move.outModes;!this.updaters.has(i)&&ove(s,i)&&this.updaters.set(i,r(this.container))},this._updateOutMode=(t,i,r,s)=>{for(const a of this.updaters.values())a.update(t,s,i,r)},this.container=e,this.updaters=new Map}init(e){this._addUpdaterIfMissing(e,No.bounce,t=>new ive(t)),this._addUpdaterIfMissing(e,No.out,t=>new ave(t)),this._addUpdaterIfMissing(e,No.destroy,t=>new rve(t)),this._addUpdaterIfMissing(e,No.none,t=>new sve(t))}isEnabled(e){return!e.destroyed&&!e.spawning}update(e,t){const i=e.options.move.outModes;this._updateOutMode(e,t,i.bottom??i.default,Gr.bottom),this._updateOutMode(e,t,i.left??i.default,Gr.left),this._updateOutMode(e,t,i.right??i.default,Gr.right),this._updateOutMode(e,t,i.top??i.default,Gr.top)}}async function cve(n,e=!0){n.checkVersion("3.9.1"),await n.addParticleUpdater("outModes",t=>Promise.resolve(new lve(t)),e)}var O0;(function(n){n[n.r=1]="r",n[n.g=2]="g",n[n.b=3]="b",n[n.a=5]="a"})(O0||(O0={}));class uve{constructor(){this.key="rgb",this.stringPrefix="rgb"}handleColor(e){const t=e.value,i=t.rgb??e.value;if(i.r!==void 0)return i}handleRangeColor(e){const t=e.value,i=t.rgb??e.value;if(i.r!==void 0)return{r:cn(i.r),g:cn(i.g),b:cn(i.b)}}parseString(e){if(!e.startsWith(this.stringPrefix))return;const t=/rgba?\(\s*(\d{1,3})\s*[\s,]\s*(\d{1,3})\s*[\s,]\s*(\d{1,3})\s*([\s,]\s*(0|1|0?\.\d+|(\d{1,3})%)\s*)?\)/i,i=t.exec(e),r=10;return i?{a:i.length>4?ob(i[O0.a]):1,b:parseInt(i[O0.b],r),g:parseInt(i[O0.g],r),r:parseInt(i[O0.r],r)}:void 0}}async function hve(n,e=!0){n.checkVersion("3.9.1"),await n.addColorManager(new uve,e)}const fg=0;class dve{init(e){const t=e.container,i=e.options.size,r=i.animation;r.enable&&(e.size.velocity=(e.retina.sizeAnimationSpeed??t.retina.sizeAnimationSpeed)/Ir*t.retina.reduceFactor,r.sync||(e.size.velocity*=Yn()))}isEnabled(e){return!e.destroyed&&!e.spawning&&e.size.enable&&((e.size.maxLoops??fg)<=fg||(e.size.maxLoops??fg)>fg&&(e.size.loops??fg)<(e.size.maxLoops??fg))}reset(e){e.size.loops=fg}update(e,t){this.isEnabled(e)&&iy(e,e.size,!0,e.options.size.animation.destroy,t)}}async function fve(n,e=!0){n.checkVersion("3.9.1"),await n.addParticleUpdater("size",()=>Promise.resolve(new dve),e)}async function pve(n,e=!0){n.checkVersion("3.9.1"),await Kge(n,!1),await Qge(n,!1),await hve(n,!1),await Dge(n,!1),await Hge(n,!1),await Vge(n,!1),await eve(n,!1),await cve(n,!1),await fve(n,!1),await n.refresh(e)}async function mve(n,e=!0){n.checkVersion("3.9.1"),await n.addEasing(bs.easeInQuad,t=>t**2,!1),await n.addEasing(bs.easeOutQuad,t=>1-(1-t)**2,!1),await n.addEasing(bs.easeInOutQuad,t=>t<.5?2*t**2:1-(-2*t+2)**2/2,!1),await n.refresh(e)}function gve(n,e){const{context:t,opacity:i}=n,r=.5,s=t.globalAlpha;if(!e)return;const a=e.width,o=a*r;t.globalAlpha=i,t.drawImage(e,-o,-o,a,a),t.globalAlpha=s}const W2='"Twemoji Mozilla", Apple Color Emoji, "Segoe UI Emoji", "Noto Color Emoji", "EmojiOne Color"',M5=0;class vve{constructor(){this.validTypes=["emoji"],this._emojiShapeDict=new Map}destroy(){for(const[e,t]of this._emojiShapeDict)t instanceof ImageBitmap&&t?.close(),this._emojiShapeDict.delete(e)}draw(e){const t=e.particle.emojiDataKey;if(!t)return;const i=this._emojiShapeDict.get(t);i&&gve(e,i)}async init(e){const t=e.actualOptions,{validTypes:i}=this;if(!i.find(a=>Rs(a,t.particles.shape.type)))return;const r=[bR(W2)],s=i.map(a=>t.particles.shape.options[a]).find(a=>!!a);s&&ha(s,a=>{a.font&&r.push(bR(a.font))}),await Promise.all(r)}particleDestroy(e){e.emojiDataKey=void 0}particleInit(e,t){const r=t.shapeData;if(!r?.value)return;const s=yo(r.value,t.randomIndexData);if(!s)return;const a=typeof s=="string"?{font:r.font??W2,padding:r.padding??M5,value:s}:{font:W2,padding:M5,...r,...s},o=a.font,l=a.value,c=`${l}_${o}`;if(this._emojiShapeDict.has(c)){t.emojiDataKey=c;return}const f=a.padding*2,h=vu(t.size.value),v=h+f,m=v*2;let _;if(typeof OffscreenCanvas<"u"){const g=new OffscreenCanvas(m,m),y=g.getContext("2d");if(!y)return;y.font=`400 ${h*2}px ${o}`,y.textBaseline="middle",y.textAlign="center",y.fillText(l,v,v),_=g.transferToImageBitmap()}else{const g=document.createElement("canvas");g.width=m,g.height=m;const y=g.getContext("2d");if(!y)return;y.font=`400 ${h*2}px ${o}`,y.textBaseline="middle",y.textAlign="center",y.fillText(l,v,v),_=g}this._emojiShapeDict.set(c,_),t.emojiDataKey=c}}async function yve(n,e=!0){n.checkVersion("3.9.1"),await n.addShape(new vve,e)}const _ve=1,bve=1,vz=0;function yz(n,e,t,i,r,s){const a=e.actualOptions.interactivity.modes.attract;if(!a)return;const o=e.particles.quadTree.query(r,s);for(const l of o){const{dx:c,dy:f,distance:h}=_o(l.position,t),v=a.speed*a.factor,m=qc(n.getEasing(a.easing)(bve-h/i)*v,_ve,a.maxSpeed),_=Er.create(h?c/h*m:v,h?f/h*m:v);l.position.subFrom(_)}}function xve(n,e,t){e.attract||(e.attract={particles:[]});const{attract:i}=e;if(i.finish||(i.count||(i.count=0),i.count++,i.count===e.particles.count&&(i.finish=!0)),i.clicking){const r=e.interactivity.mouse.clickPosition,s=e.retina.attractModeDistance;if(!s||s<vz||!r)return;yz(n,e,r,s,new Vl(r.x,r.y,s),a=>t(a))}else i.clicking===!1&&(i.particles=[])}function Sve(n,e,t){const i=e.interactivity.mouse.position,r=e.retina.attractModeDistance;!r||r<vz||!i||yz(n,e,i,r,new Vl(i.x,i.y,r),s=>t(s))}class wve{constructor(){this.distance=200,this.duration=.4,this.easing=bs.easeOutQuad,this.factor=1,this.maxSpeed=50,this.speed=1}load(e){jt(e)||(e.distance!==void 0&&(this.distance=e.distance),e.duration!==void 0&&(this.duration=e.duration),e.easing!==void 0&&(this.easing=e.easing),e.factor!==void 0&&(this.factor=e.factor),e.maxSpeed!==void 0&&(this.maxSpeed=e.maxSpeed),e.speed!==void 0&&(this.speed=e.speed))}}const S_="attract";let Eve=class extends Kc{constructor(e,t){super(t),this._engine=e,t.attract||(t.attract={particles:[]}),this.handleClickMode=i=>{const r=this.container.actualOptions,s=r.interactivity.modes.attract;if(!(!s||i!==S_)){t.attract||(t.attract={particles:[]}),t.attract.clicking=!0,t.attract.count=0;for(const a of t.attract.particles)this.isEnabled(a)&&a.velocity.setTo(a.initialVelocity);t.attract.particles=[],t.attract.finish=!1,setTimeout(()=>{t.destroyed||(t.attract||(t.attract={particles:[]}),t.attract.clicking=!1)},s.duration*js)}}}clear(){}init(){const e=this.container,t=e.actualOptions.interactivity.modes.attract;t&&(e.retina.attractModeDistance=t.distance*e.retina.pixelRatio)}interact(){const e=this.container,t=e.actualOptions,i=e.interactivity.status===Zg,r=t.interactivity.events,{enable:s,mode:a}=r.onHover,{enable:o,mode:l}=r.onClick;i&&s&&Rs(S_,a)?Sve(this._engine,this.container,c=>this.isEnabled(c)):o&&Rs(S_,l)&&xve(this._engine,this.container,c=>this.isEnabled(c))}isEnabled(e){const t=this.container,i=t.actualOptions,r=t.interactivity.mouse,s=(e?.interactivity??i.interactivity).events;if((!r.position||!s.onHover.enable)&&(!r.clickPosition||!s.onClick.enable))return!1;const a=s.onHover.mode,o=s.onClick.mode;return Rs(S_,a)||Rs(S_,o)}loadModeOptions(e,...t){e.attract||(e.attract=new wve);for(const i of t)e.attract.load(i?.attract)}reset(){}};async function Cve(n,e=!0){n.checkVersion("3.9.1"),await n.addInteractor("externalAttract",t=>Promise.resolve(new Eve(n,t)),e)}const Tve=2,KS=.5,Ave=Math.PI*KS,R5=2,_z=10,Mve=0;function bz(n,e,t,i,r){const s=n.particles.quadTree.query(i,r);for(const a of s)i instanceof Vl?Q8(xR(a),{position:e,mass:t**Tve*Ave,velocity:Er.origin,factor:Er.origin}):i instanceof Yh&&The(a,cb(e,t))}function Rve(n,e,t,i){const r=document.querySelectorAll(e);r.length&&r.forEach(s=>{const a=s,o=n.retina.pixelRatio,l={x:(a.offsetLeft+a.offsetWidth*KS)*o,y:(a.offsetTop+a.offsetHeight*KS)*o},c=a.offsetWidth*KS*o,f=_z*o,h=t.type===sy.circle?new Vl(l.x,l.y,c+f):new Yh(a.offsetLeft*o-f,a.offsetTop*o-f,a.offsetWidth*o+f*R5,a.offsetHeight*o+f*R5);i(l,c,h)})}function Ove(n,e,t,i){EO(t,e,(r,s)=>Rve(n,r,s,(a,o,l)=>bz(n,a,o,l,i)))}function Lve(n,e){const t=n.retina.pixelRatio,i=_z*t,r=n.interactivity.mouse.position,s=n.retina.bounceModeDistance;!s||s<Mve||!r||bz(n,r,s,new Vl(r.x,r.y,s+i),e)}class Pve{constructor(){this.distance=200}load(e){jt(e)||e.distance!==void 0&&(this.distance=e.distance)}}const xS="bounce";class Ive extends Kc{constructor(e){super(e)}clear(){}init(){const e=this.container,t=e.actualOptions.interactivity.modes.bounce;t&&(e.retina.bounceModeDistance=t.distance*e.retina.pixelRatio)}interact(){const e=this.container,t=e.actualOptions,i=t.interactivity.events,r=e.interactivity.status===Zg,s=i.onHover.enable,a=i.onHover.mode,o=i.onDiv;r&&s&&Rs(xS,a)?Lve(this.container,l=>this.isEnabled(l)):Ove(this.container,o,xS,l=>this.isEnabled(l))}isEnabled(e){const t=this.container,i=t.actualOptions,r=t.interactivity.mouse,s=(e?.interactivity??i.interactivity).events,a=s.onDiv;return!!r.position&&s.onHover.enable&&Rs(xS,s.onHover.mode)||wO(xS,a)}loadModeOptions(e,...t){e.bounce||(e.bounce=new Pve);for(const i of t)e.bounce.load(i?.bounce)}reset(){}}async function Dve(n,e=!0){n.checkVersion("3.9.1"),await n.addInteractor("externalBounce",t=>Promise.resolve(new Ive(t)),e)}class xz{constructor(){this.distance=200,this.duration=.4,this.mix=!1}load(e){if(!jt(e)){if(e.distance!==void 0&&(this.distance=e.distance),e.duration!==void 0&&(this.duration=e.duration),e.mix!==void 0&&(this.mix=e.mix),e.opacity!==void 0&&(this.opacity=e.opacity),e.color!==void 0){const t=qo(this.color)?void 0:this.color;this.color=ha(e.color,i=>vs.create(t,i))}e.size!==void 0&&(this.size=e.size)}}}class Nve extends xz{constructor(){super(),this.selectors=[]}load(e){super.load(e),!jt(e)&&e.selectors!==void 0&&(this.selectors=e.selectors)}}class Fve extends xz{load(e){super.load(e),!jt(e)&&(this.divs=ha(e.divs,t=>{const i=new Nve;return i.load(t),i}))}}var Ad;(function(n){n.color="color",n.opacity="opacity",n.size="size"})(Ad||(Ad={}));function O5(n,e,t,i){if(e>=t){const r=n+(e-t)*i;return qc(r,n,e)}else if(e<t){const r=n-(t-e)*i;return qc(r,e,n)}}const pg="bubble",j2=0,Uve=0,kve=2,L5=1,P5=1,Bve=0,zve=0,X2=.5,q2=1;class Gve extends Kc{constructor(e,t){super(e),this._clickBubble=()=>{const i=this.container,r=i.actualOptions,s=i.interactivity.mouse.clickPosition,a=r.interactivity.modes.bubble;if(!a||!s)return;i.bubble||(i.bubble={});const o=i.retina.bubbleModeDistance;if(!o||o<j2)return;const l=i.particles.quadTree.queryCircle(s,o,f=>this.isEnabled(f)),{bubble:c}=i;for(const f of l){if(!c.clicking)continue;f.bubble.inRange=!c.durationEnd;const h=f.getPosition(),v=Tl(h,s),m=(new Date().getTime()-(i.interactivity.mouse.clickTime??Uve))/js;m>a.duration&&(c.durationEnd=!0),m>a.duration*kve&&(c.clicking=!1,c.durationEnd=!1);const _={bubbleObj:{optValue:i.retina.bubbleModeSize,value:f.bubble.radius},particlesObj:{optValue:vu(f.options.size.value)*i.retina.pixelRatio,value:f.size.value},type:Ad.size};this._process(f,v,m,_);const g={bubbleObj:{optValue:a.opacity,value:f.bubble.opacity},particlesObj:{optValue:vu(f.options.opacity.value),value:f.opacity?.value??L5},type:Ad.opacity};this._process(f,v,m,g),!c.durationEnd&&v<=o?this._hoverBubbleColor(f,v):delete f.bubble.color}},this._hoverBubble=()=>{const i=this.container,r=i.interactivity.mouse.position,s=i.retina.bubbleModeDistance;if(!s||s<j2||!r)return;const a=i.particles.quadTree.queryCircle(r,s,o=>this.isEnabled(o));for(const o of a){o.bubble.inRange=!0;const l=o.getPosition(),c=Tl(l,r),f=P5-c/s;c<=s?f>=zve&&i.interactivity.status===Zg&&(this._hoverBubbleSize(o,f),this._hoverBubbleOpacity(o,f),this._hoverBubbleColor(o,f)):this.reset(o),i.interactivity.status===pR&&this.reset(o)}},this._hoverBubbleColor=(i,r,s)=>{const a=this.container.actualOptions,o=s??a.interactivity.modes.bubble;if(o){if(!i.bubble.finalColor){const l=o.color;if(!l)return;const c=yo(l);i.bubble.finalColor=$d(this._engine,c)}if(i.bubble.finalColor)if(o.mix){i.bubble.color=void 0;const l=i.getFillColor();i.bubble.color=l?rz(TO(l,i.bubble.finalColor,P5-r,r)):i.bubble.finalColor}else i.bubble.color=i.bubble.finalColor}},this._hoverBubbleOpacity=(i,r,s)=>{const a=this.container,o=a.actualOptions,l=s?.opacity??o.interactivity.modes.bubble?.opacity;if(!l)return;const c=i.options.opacity.value,f=i.opacity?.value??L5,h=O5(f,l,vu(c),r);h!==void 0&&(i.bubble.opacity=h)},this._hoverBubbleSize=(i,r,s)=>{const a=this.container,o=s?.size?s.size*a.retina.pixelRatio:a.retina.bubbleModeSize;if(o===void 0)return;const l=vu(i.options.size.value)*a.retina.pixelRatio,c=i.size.value,f=O5(c,o,l,r);f!==void 0&&(i.bubble.radius=f)},this._process=(i,r,s,a)=>{const o=this.container,l=a.bubbleObj.optValue,c=o.actualOptions,f=c.interactivity.modes.bubble;if(!f||l===void 0)return;const h=f.duration,v=o.retina.bubbleModeDistance,m=a.particlesObj.optValue,_=a.bubbleObj.value,g=a.particlesObj.value??Bve,y=a.type;if(!(!v||v<j2||l===m))if(o.bubble||(o.bubble={}),o.bubble.durationEnd)_&&(y===Ad.size&&delete i.bubble.radius,y===Ad.opacity&&delete i.bubble.opacity);else if(r<=v){if((_??g)!==l){const b=g-s*(g-l)/h;y===Ad.size&&(i.bubble.radius=b),y===Ad.opacity&&(i.bubble.opacity=b)}}else y===Ad.size&&delete i.bubble.radius,y===Ad.opacity&&delete i.bubble.opacity},this._singleSelectorHover=(i,r,s)=>{const a=this.container,o=document.querySelectorAll(r),l=a.actualOptions.interactivity.modes.bubble;!l||!o.length||o.forEach(c=>{const f=c,h=a.retina.pixelRatio,v={x:(f.offsetLeft+f.offsetWidth*X2)*h,y:(f.offsetTop+f.offsetHeight*X2)*h},m=f.offsetWidth*X2*h,_=s.type===sy.circle?new Vl(v.x,v.y,m):new Yh(f.offsetLeft*h,f.offsetTop*h,f.offsetWidth*h,f.offsetHeight*h),g=a.particles.quadTree.query(_,y=>this.isEnabled(y));for(const y of g){if(!_.contains(y.getPosition()))continue;y.bubble.inRange=!0;const u=l.divs,b=Z8(u,f);(!y.bubble.div||y.bubble.div!==f)&&(this.clear(y,i,!0),y.bubble.div=f),this._hoverBubbleSize(y,q2,b),this._hoverBubbleOpacity(y,q2,b),this._hoverBubbleColor(y,q2,b)}})},this._engine=t,e.bubble||(e.bubble={}),this.handleClickMode=i=>{i===pg&&(e.bubble||(e.bubble={}),e.bubble.clicking=!0)}}clear(e,t,i){e.bubble.inRange&&!i||(delete e.bubble.div,delete e.bubble.opacity,delete e.bubble.radius,delete e.bubble.color)}init(){const e=this.container,t=e.actualOptions.interactivity.modes.bubble;t&&(e.retina.bubbleModeDistance=t.distance*e.retina.pixelRatio,t.size!==void 0&&(e.retina.bubbleModeSize=t.size*e.retina.pixelRatio))}interact(e){const t=this.container.actualOptions,i=t.interactivity.events,r=i.onHover,s=i.onClick,a=r.enable,o=r.mode,l=s.enable,c=s.mode,f=i.onDiv;a&&Rs(pg,o)?this._hoverBubble():l&&Rs(pg,c)?this._clickBubble():EO(pg,f,(h,v)=>this._singleSelectorHover(e,h,v))}isEnabled(e){const t=this.container,i=t.actualOptions,r=t.interactivity.mouse,s=(e?.interactivity??i.interactivity).events,{onClick:a,onDiv:o,onHover:l}=s,c=wO(pg,o);return c||l.enable&&r.position||a.enable&&r.clickPosition?Rs(pg,l.mode)||Rs(pg,a.mode)||c:!1}loadModeOptions(e,...t){e.bubble||(e.bubble=new Fve);for(const i of t)e.bubble.load(i?.bubble)}reset(e){e.bubble.inRange=!1}}async function Hve(n,e=!0){n.checkVersion("3.9.1"),await n.addInteractor("externalBubble",t=>Promise.resolve(new Gve(t,n)),e)}class $ve{constructor(){this.opacity=.5}load(e){jt(e)||e.opacity!==void 0&&(this.opacity=e.opacity)}}class Vve{constructor(){this.distance=80,this.links=new $ve,this.radius=60}load(e){jt(e)||(e.distance!==void 0&&(this.distance=e.distance),this.links.load(e.links),e.radius!==void 0&&(this.radius=e.radius))}}const I5=0,D5=1,Wve=0;function jve(n,e,t,i){const r=Math.floor(t.getRadius()/e.getRadius()),s=e.getFillColor(),a=t.getFillColor();if(!s||!a)return;const o=e.getPosition(),l=t.getPosition(),c=TO(s,a,e.getRadius(),t.getRadius()),f=n.createLinearGradient(o.x,o.y,l.x,l.y);return f.addColorStop(I5,vm(s,i)),f.addColorStop(qc(r,I5,D5),Sc(c,i)),f.addColorStop(D5,vm(a,i)),f}function Xve(n,e,t,i,r){e1(n,i,r),n.lineWidth=e,n.strokeStyle=t,n.stroke()}function qve(n,e,t,i){const r=n.actualOptions,s=r.interactivity.modes.connect;if(s)return jve(e,t,i,s.links.opacity)}function Yve(n,e,t){n.canvas.draw(i=>{const r=qve(n,i,e,t);if(!r)return;const s=e.getPosition(),a=t.getPosition();Xve(i,e.retina.linksWidth??Wve,r,s,a)})}const Kve="connect",N5=0;class Zve extends Kc{constructor(e){super(e)}clear(){}init(){const e=this.container,t=e.actualOptions.interactivity.modes.connect;t&&(e.retina.connectModeDistance=t.distance*e.retina.pixelRatio,e.retina.connectModeRadius=t.radius*e.retina.pixelRatio)}interact(){const e=this.container;if(e.actualOptions.interactivity.events.onHover.enable&&e.interactivity.status==="pointermove"){const i=e.interactivity.mouse.position,{connectModeDistance:r,connectModeRadius:s}=e.retina;if(!r||r<N5||!s||s<N5||!i)return;const a=Math.abs(s),o=e.particles.quadTree.queryCircle(i,a,l=>this.isEnabled(l));o.forEach((l,c)=>{const f=l.getPosition(),h=1;for(const v of o.slice(c+h)){const m=v.getPosition(),_=Math.abs(r),g=Math.abs(f.x-m.x),y=Math.abs(f.y-m.y);g<_&&y<_&&Yve(e,l,v)}})}}isEnabled(e){const t=this.container,i=t.interactivity.mouse,r=(e?.interactivity??t.actualOptions.interactivity).events;return r.onHover.enable&&i.position?Rs(Kve,r.onHover.mode):!1}loadModeOptions(e,...t){e.connect||(e.connect=new Vve);for(const i of t)e.connect.load(i?.connect)}reset(){}}async function Qve(n,e=!0){n.checkVersion("3.9.1"),await n.addInteractor("externalConnect",t=>Promise.resolve(new Zve(t)),e)}class Jve{constructor(){this.blink=!1,this.consent=!1,this.opacity=1}load(e){jt(e)||(e.blink!==void 0&&(this.blink=e.blink),e.color!==void 0&&(this.color=vs.create(this.color,e.color)),e.consent!==void 0&&(this.consent=e.consent),e.opacity!==void 0&&(this.opacity=e.opacity))}}class e0e{constructor(){this.distance=100,this.links=new Jve}load(e){jt(e)||(e.distance!==void 0&&(this.distance=e.distance),this.links.load(e.links))}}const t0e=0;function n0e(n,e,t,i,r,s){e1(n,t,i),n.strokeStyle=Sc(r,s),n.lineWidth=e,n.stroke()}function i0e(n,e,t,i,r){n.canvas.draw(s=>{const a=e.getPosition();n0e(s,e.retina.linksWidth??t0e,a,r,t,i)})}const r0e="grab",s0e=0,a0e=0;class o0e extends Kc{constructor(e,t){super(e),this._engine=t}clear(){}init(){const e=this.container,t=e.actualOptions.interactivity.modes.grab;t&&(e.retina.grabModeDistance=t.distance*e.retina.pixelRatio)}interact(){const e=this.container,t=e.actualOptions,i=t.interactivity;if(!i.modes.grab||!i.events.onHover.enable||e.interactivity.status!==Zg)return;const r=e.interactivity.mouse.position;if(!r)return;const s=e.retina.grabModeDistance;if(!s||s<s0e)return;const a=e.particles.quadTree.queryCircle(r,s,o=>this.isEnabled(o));for(const o of a){const l=o.getPosition(),c=Tl(l,r);if(c>s)continue;const f=i.modes.grab.links,h=f.opacity,v=h-c*h/s;if(v<=a0e)continue;const m=f.color??o.options.links?.color;if(!e.particles.grabLineColor&&m){const g=i.modes.grab.links;e.particles.grabLineColor=az(this._engine,m,g.blink,g.consent)}const _=SR(o,void 0,e.particles.grabLineColor);_&&i0e(e,o,_,v,r)}}isEnabled(e){const t=this.container,i=t.interactivity.mouse,r=(e?.interactivity??t.actualOptions.interactivity).events;return r.onHover.enable&&!!i.position&&Rs(r0e,r.onHover.mode)}loadModeOptions(e,...t){e.grab||(e.grab=new e0e);for(const i of t)e.grab.load(i?.grab)}reset(){}}async function l0e(n,e=!0){n.checkVersion("3.9.1"),await n.addInteractor("externalGrab",t=>Promise.resolve(new o0e(t,n)),e)}const c0e="pause";class u0e extends Kc{constructor(e){super(e),this.handleClickMode=t=>{if(t!==c0e)return;const i=this.container;i.animationStatus?i.pause():i.play()}}clear(){}init(){}interact(){}isEnabled(){return!0}reset(){}}async function h0e(n,e=!0){n.checkVersion("3.9.1"),await n.addInteractor("externalPause",t=>Promise.resolve(new u0e(t)),e)}class d0e{constructor(){this.default=!0,this.groups=[],this.quantity=4}load(e){if(jt(e))return;e.default!==void 0&&(this.default=e.default),e.groups!==void 0&&(this.groups=e.groups.map(i=>i)),this.groups.length||(this.default=!0);const t=e.quantity;t!==void 0&&(this.quantity=oi(t)),this.particles=ha(e.particles,i=>ys({},i))}}const f0e="push",p0e=0;class m0e extends Kc{constructor(e){super(e),this.handleClickMode=t=>{if(t!==f0e)return;const i=this.container,r=i.actualOptions,s=r.interactivity.modes.push;if(!s)return;const a=cn(s.quantity);if(a<=p0e)return;const o=Hd([void 0,...s.groups]),l=o!==void 0?i.actualOptions.particles.groups[o]:void 0,c=yo(s.particles),f=ys(l,c);i.particles.push(a,i.interactivity.mouse,f,o)}}clear(){}init(){}interact(){}isEnabled(){return!0}loadModeOptions(e,...t){e.push||(e.push=new d0e);for(const i of t)e.push.load(i?.push)}reset(){}}async function g0e(n,e=!0){n.checkVersion("3.9.1"),await n.addInteractor("externalPush",t=>Promise.resolve(new m0e(t)),e)}class v0e{constructor(){this.quantity=2}load(e){if(jt(e))return;const t=e.quantity;t!==void 0&&(this.quantity=oi(t))}}const y0e="remove";class _0e extends Kc{constructor(e){super(e),this.handleClickMode=t=>{const i=this.container,r=i.actualOptions;if(!r.interactivity.modes.remove||t!==y0e)return;const s=cn(r.interactivity.modes.remove.quantity);i.particles.removeQuantity(s)}}clear(){}init(){}interact(){}isEnabled(){return!0}loadModeOptions(e,...t){e.remove||(e.remove=new v0e);for(const i of t)e.remove.load(i?.remove)}reset(){}}async function b0e(n,e=!0){n.checkVersion("3.9.1"),await n.addInteractor("externalRemove",t=>Promise.resolve(new _0e(t)),e)}class Sz{constructor(){this.distance=200,this.duration=.4,this.factor=100,this.speed=1,this.maxSpeed=50,this.easing=bs.easeOutQuad}load(e){jt(e)||(e.distance!==void 0&&(this.distance=e.distance),e.duration!==void 0&&(this.duration=e.duration),e.easing!==void 0&&(this.easing=e.easing),e.factor!==void 0&&(this.factor=e.factor),e.speed!==void 0&&(this.speed=e.speed),e.maxSpeed!==void 0&&(this.maxSpeed=e.maxSpeed))}}class x0e extends Sz{constructor(){super(),this.selectors=[]}load(e){super.load(e),!jt(e)&&e.selectors!==void 0&&(this.selectors=e.selectors)}}class S0e extends Sz{load(e){super.load(e),!jt(e)&&(this.divs=ha(e.divs,t=>{const i=new x0e;return i.load(t),i}))}}const mg="repulse",w0e=0,E0e=6,C0e=3,T0e=2,A0e=0,M0e=0,R0e=1,Y2=.5;let O0e=class extends Kc{constructor(e,t){super(t),this._clickRepulse=()=>{const i=this.container,r=i.actualOptions.interactivity.modes.repulse;if(!r)return;const s=i.repulse??{particles:[]};if(s.finish||(s.count||(s.count=0),s.count++,s.count===i.particles.count&&(s.finish=!0)),s.clicking){const a=i.retina.repulseModeDistance;if(!a||a<w0e)return;const o=Math.pow(a/E0e,C0e),l=i.interactivity.mouse.clickPosition;if(l===void 0)return;const c=new Vl(l.x,l.y,o),f=i.particles.quadTree.query(c,h=>this.isEnabled(h));for(const h of f){const{dx:v,dy:m,distance:_}=_o(l,h.position),g=_**T0e,y=r.speed,u=-o*y/g;if(g<=o){s.particles.push(h);const b=Er.create(v,m);b.length=u,h.velocity.setTo(b)}}}else if(s.clicking===!1){for(const a of s.particles)a.velocity.setTo(a.initialVelocity);s.particles=[]}},this._hoverRepulse=()=>{const i=this.container,r=i.interactivity.mouse.position,s=i.retina.repulseModeDistance;!s||s<A0e||!r||this._processRepulse(r,s,new Vl(r.x,r.y,s))},this._processRepulse=(i,r,s,a)=>{const o=this.container,l=o.particles.quadTree.query(s,y=>this.isEnabled(y)),c=o.actualOptions.interactivity.modes.repulse;if(!c)return;const{easing:f,speed:h,factor:v,maxSpeed:m}=c,_=this._engine.getEasing(f),g=(a?.speed??h)*v;for(const y of l){const{dx:u,dy:b,distance:S}=_o(y.position,i),T=qc(_(R0e-S/r)*g,M0e,m),R=Er.create(S?u/S*T:g,S?b/S*T:g);y.position.addTo(R)}},this._singleSelectorRepulse=(i,r)=>{const s=this.container,a=s.actualOptions.interactivity.modes.repulse;if(!a)return;const o=document.querySelectorAll(i);o.length&&o.forEach(l=>{const c=l,f=s.retina.pixelRatio,h={x:(c.offsetLeft+c.offsetWidth*Y2)*f,y:(c.offsetTop+c.offsetHeight*Y2)*f},v=c.offsetWidth*Y2*f,m=r.type===sy.circle?new Vl(h.x,h.y,v):new Yh(c.offsetLeft*f,c.offsetTop*f,c.offsetWidth*f,c.offsetHeight*f),_=a.divs,g=Z8(_,c);this._processRepulse(h,v,m,g)})},this._engine=e,t.repulse||(t.repulse={particles:[]}),this.handleClickMode=i=>{const r=this.container.actualOptions,s=r.interactivity.modes.repulse;if(!s||i!==mg)return;t.repulse||(t.repulse={particles:[]});const a=t.repulse;a.clicking=!0,a.count=0;for(const o of t.repulse.particles)this.isEnabled(o)&&o.velocity.setTo(o.initialVelocity);a.particles=[],a.finish=!1,setTimeout(()=>{t.destroyed||(a.clicking=!1)},s.duration*js)}}clear(){}init(){const e=this.container,t=e.actualOptions.interactivity.modes.repulse;t&&(e.retina.repulseModeDistance=t.distance*e.retina.pixelRatio)}interact(){const e=this.container,t=e.actualOptions,i=e.interactivity.status===Zg,r=t.interactivity.events,s=r.onHover,a=s.enable,o=s.mode,l=r.onClick,c=l.enable,f=l.mode,h=r.onDiv;i&&a&&Rs(mg,o)?this._hoverRepulse():c&&Rs(mg,f)?this._clickRepulse():EO(mg,h,(v,m)=>this._singleSelectorRepulse(v,m))}isEnabled(e){const t=this.container,i=t.actualOptions,r=t.interactivity.mouse,s=(e?.interactivity??i.interactivity).events,a=s.onDiv,o=s.onHover,l=s.onClick,c=wO(mg,a);if(!(c||o.enable&&r.position||l.enable&&r.clickPosition))return!1;const f=o.mode,h=l.mode;return Rs(mg,f)||Rs(mg,h)||c}loadModeOptions(e,...t){e.repulse||(e.repulse=new S0e);for(const i of t)e.repulse.load(i?.repulse)}reset(){}};async function L0e(n,e=!0){n.checkVersion("3.9.1"),await n.addInteractor("externalRepulse",t=>Promise.resolve(new O0e(n,t)),e)}class P0e{constructor(){this.factor=3,this.radius=200}load(e){jt(e)||(e.factor!==void 0&&(this.factor=e.factor),e.radius!==void 0&&(this.radius=e.radius))}}const I0e="slow",D0e=0;class N0e extends Kc{constructor(e){super(e)}clear(e,t,i){e.slow.inRange&&!i||(e.slow.factor=1)}init(){const e=this.container,t=e.actualOptions.interactivity.modes.slow;t&&(e.retina.slowModeRadius=t.radius*e.retina.pixelRatio)}interact(){}isEnabled(e){const t=this.container,i=t.interactivity.mouse,r=(e?.interactivity??t.actualOptions.interactivity).events;return r.onHover.enable&&!!i.position&&Rs(I0e,r.onHover.mode)}loadModeOptions(e,...t){e.slow||(e.slow=new P0e);for(const i of t)e.slow.load(i?.slow)}reset(e){e.slow.inRange=!1;const t=this.container,i=t.actualOptions,r=t.interactivity.mouse.position,s=t.retina.slowModeRadius,a=i.interactivity.modes.slow;if(!a||!s||s<D0e||!r)return;const o=e.getPosition(),l=Tl(r,o),c=l/s,f=a.factor,{slow:h}=e;l>s||(h.inRange=!0,h.factor=c/f)}}async function F0e(n,e=!0){n.checkVersion("3.9.1"),await n.addInteractor("externalSlow",t=>Promise.resolve(new N0e(t)),e)}const U0e=0,k0e=1,B0e=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d.]+%?\))|currentcolor/gi;function z0e(n,e,t){const{svgData:i}=n;if(!i)return"";const r=vm(e,t);if(i.includes("fill"))return i.replace(B0e,()=>r);const s=i.indexOf(">");return`${i.substring(U0e,s)} fill="${r}"${i.substring(s)}`}async function FC(n){return new Promise(e=>{n.loading=!0;const t=new Image;n.element=t,t.addEventListener("load",()=>{n.loading=!1,e()}),t.addEventListener("error",()=>{n.element=void 0,n.error=!0,n.loading=!1,tp().error(`${cl} loading image: ${n.source}`),e()}),t.src=n.source})}async function G0e(n){if(n.type!=="svg"){await FC(n);return}n.loading=!0;const e=await fetch(n.source);e.ok?n.svgData=await e.text():(tp().error(`${cl} Image not found`),n.error=!0),n.loading=!1}function H0e(n,e,t,i){const r=z0e(n,t,i.opacity?.value??k0e),s={color:t,gif:e.gif,data:{...n,svgData:r},loaded:!1,ratio:e.width/e.height,replaceColor:e.replaceColor,source:e.src};return new Promise(a=>{const o=new Blob([r],{type:"image/svg+xml"}),l=URL||window.URL||window.webkitURL||window,c=l.createObjectURL(o),f=new Image;f.addEventListener("load",()=>{s.loaded=!0,s.element=f,a(s),l.revokeObjectURL(c)});const h=async()=>{l.revokeObjectURL(c);const v={...n,error:!1,loading:!0};await FC(v),s.loaded=!0,s.element=v.element,a(s)};f.addEventListener("error",()=>void h()),f.src=c})}const K2=[0,4,2,1],F5=[8,8,4,2];class $0e{constructor(e){this.pos=0,this.data=new Uint8ClampedArray(e)}getString(e){const t=this.data.slice(this.pos,this.pos+e);return this.pos+=t.length,t.reduce((i,r)=>i+String.fromCharCode(r),"")}nextByte(){return this.data[this.pos++]}nextTwoBytes(){return this.pos+=2,this.data[this.pos-2]+(this.data[this.pos-1]<<8)}readSubBlocks(){let e="",t=0;const i=0,r=0;do{t=this.data[this.pos++];for(let s=t;--s>=i;e+=String.fromCharCode(this.data[this.pos++]));}while(t!==r);return e}readSubBlocksBin(){let e=this.data[this.pos],t=0;const i=0,r=1;for(let a=0;e!==i;a+=e+r,e=this.data[this.pos+a])t+=e;const s=new Uint8Array(t);e=this.data[this.pos++];for(let a=0;e!==i;e=this.data[this.pos++])for(let o=e;--o>=i;s[a++]=this.data[this.pos++]);return s}skipSubBlocks(){for(const e=1,t=0;this.data[this.pos]!==t;this.pos+=this.data[this.pos]+e);this.pos++}}var Dh;(function(n){n[n.Replace=0]="Replace",n[n.Combine=1]="Combine",n[n.RestoreBackground=2]="RestoreBackground",n[n.RestorePrevious=3]="RestorePrevious",n[n.UndefinedA=4]="UndefinedA",n[n.UndefinedB=5]="UndefinedB",n[n.UndefinedC=6]="UndefinedC",n[n.UndefinedD=7]="UndefinedD"})(Dh||(Dh={}));var $f;(function(n){n[n.Extension=33]="Extension",n[n.ApplicationExtension=255]="ApplicationExtension",n[n.GraphicsControlExtension=249]="GraphicsControlExtension",n[n.PlainTextExtension=1]="PlainTextExtension",n[n.CommentExtension=254]="CommentExtension",n[n.Image=44]="Image",n[n.EndOfFile=59]="EndOfFile"})($f||($f={}));const zc={x:0,y:0},V0e=0,U5=.5,W0e=0,k5=0,TR=0;function wz(n,e){const t=[];for(let i=0;i<e;i++)t.push({r:n.data[n.pos],g:n.data[n.pos+1],b:n.data[n.pos+2]}),n.pos+=3;return t}function j0e(n,e,t,i){switch(n.nextByte()){case $f.GraphicsControlExtension:{const r=e.frames[t(!1)];n.pos++;const s=n.nextByte();r.GCreserved=(s&224)>>>5,r.disposalMethod=(s&28)>>>2,r.userInputDelayFlag=(s&2)===2;const a=(s&1)===1;r.delayTime=n.nextTwoBytes()*10;const o=n.nextByte();a&&i(o),n.pos++;break}case $f.ApplicationExtension:{n.pos++;const r={identifier:n.getString(8),authenticationCode:n.getString(3),data:n.readSubBlocksBin()};e.applicationExtensions.push(r);break}case $f.CommentExtension:{e.comments.push([t(!1),n.readSubBlocks()]);break}case $f.PlainTextExtension:{if(e.globalColorTable.length===0)throw new EvalError("plain text extension without global color table");n.pos++,e.frames[t(!1)].plainTextData={left:n.nextTwoBytes(),top:n.nextTwoBytes(),width:n.nextTwoBytes(),height:n.nextTwoBytes(),charSize:{width:n.nextTwoBytes(),height:n.nextTwoBytes()},foregroundColor:n.nextByte(),backgroundColor:n.nextByte(),text:n.readSubBlocks()};break}default:n.skipSubBlocks();break}}async function X0e(n,e,t,i,r,s){const a=e.frames[i(!0)];a.left=n.nextTwoBytes(),a.top=n.nextTwoBytes(),a.width=n.nextTwoBytes(),a.height=n.nextTwoBytes();const o=n.nextByte(),l=(o&128)===128,c=(o&64)===64;a.sortFlag=(o&32)===32,a.reserved=(o&24)>>>3;const f=1<<(o&7)+1;l&&(a.localColorTable=wz(n,f));const h=u=>{const{r:b,g:S,b:T}=(l?a.localColorTable:e.globalColorTable)[u];return u!==r(null)?{r:b,g:S,b:T,a:255}:{r:b,g:S,b:T,a:t?~~((b+S+T)/3):0}},v=(()=>{try{return new ImageData(a.width,a.height,{colorSpace:"srgb"})}catch(u){if(u instanceof DOMException&&u.name==="IndexSizeError")return null;throw u}})();if(v==null)throw new EvalError("GIF frame size is to large");const m=n.nextByte(),_=n.readSubBlocksBin(),g=1<<m,y=(u,b)=>{const S=u>>>3,T=u&7;return(_[S]+(_[S+1]<<8)+(_[S+2]<<16)&(1<<b)-1<<T)>>>T};if(c){for(let u=0,b=m+1,S=0,T=[[0]],R=0;R<4;R++)if(K2[R]<a.height){let O=0,C=0,I=!1;for(;!I;){const F=u;if(u=y(S,b),S+=b+1,u===g){b=m+1,T.length=g+2;for(let M=0;M<T.length;M++)T[M]=M<g?[M]:[]}else{u>=T.length?T.push(T[F].concat(T[F][0])):F!==g&&T.push(T[F].concat(T[u][0]));for(const M of T[u]){const{r:D,g:B,b:j,a:U}=h(M);v.data.set([D,B,j,U],K2[R]*a.width+F5[R]*C+O%(a.width*4)),O+=4}T.length===1<<b&&b<12&&b++}O===a.width*4*(C+1)&&(C++,K2[R]+F5[R]*C>=a.height&&(I=!0))}}a.image=v,a.bitmap=await createImageBitmap(v)}else{let u=0,b=m+1,S=0,T=-4,R=!1;const O=[[0]];for(;!R;){const C=u;if(u=y(S,b),S+=b,u===g){b=m+1,O.length=g+2;for(let I=0;I<O.length;I++)O[I]=I<g?[I]:[]}else{if(u===g+1){R=!0;break}u>=O.length?O.push(O[C].concat(O[C][0])):C!==g&&O.push(O[C].concat(O[u][0]));for(const I of O[u]){const{r:F,g:M,b:D,a:B}=h(I);v.data.set([F,M,D,B],T+=4)}O.length>=1<<b&&b<12&&b++}}a.image=v,a.bitmap=await createImageBitmap(v)}}async function q0e(n,e,t,i,r,s){switch(n.nextByte()){case $f.EndOfFile:return!0;case $f.Image:await X0e(n,e,t,i,r);break;case $f.Extension:j0e(n,e,i,r);break;default:throw new EvalError("undefined block found")}return!1}function Y0e(n){for(const e of n.applicationExtensions)if(e.identifier+e.authenticationCode==="NETSCAPE2.0")return e.data[1]+(e.data[2]<<8);return NaN}async function K0e(n,e,t){t||(t=!1);const i=await fetch(n);if(!i.ok&&i.status===404)throw new EvalError("file not found");const r=await i.arrayBuffer(),s={width:0,height:0,totalTime:0,colorRes:0,pixelAspectRatio:0,frames:[],sortFlag:!1,globalColorTable:[],backgroundImage:new ImageData(1,1,{colorSpace:"srgb"}),comments:[],applicationExtensions:[]},a=new $0e(new Uint8ClampedArray(r));if(a.getString(6)!=="GIF89a")throw new Error("not a supported GIF file");s.width=a.nextTwoBytes(),s.height=a.nextTwoBytes();const o=a.nextByte(),l=(o&128)===128;s.colorRes=(o&112)>>>4,s.sortFlag=(o&8)===8;const c=1<<(o&7)+1,f=a.nextByte();s.pixelAspectRatio=a.nextByte(),s.pixelAspectRatio!==0&&(s.pixelAspectRatio=(s.pixelAspectRatio+15)/64),l&&(s.globalColorTable=wz(a,c));const h=(()=>{try{return new ImageData(s.width,s.height,{colorSpace:"srgb"})}catch(T){if(T instanceof DOMException&&T.name==="IndexSizeError")return null;throw T}})();if(h==null)throw new Error("GIF frame size is to large");const{r:v,g:m,b:_}=s.globalColorTable[f];h.data.set(l?[v,m,_,255]:[0,0,0,0]);for(let T=4;T<h.data.length;T*=2)h.data.copyWithin(T,0,T);s.backgroundImage=h;let g=-1,y=!0,u=-1;const b=T=>(T&&(y=!0),g),S=T=>(T!=null&&(u=T),u);try{do y&&(s.frames.push({left:0,top:0,width:0,height:0,disposalMethod:Dh.Replace,image:new ImageData(1,1,{colorSpace:"srgb"}),plainTextData:null,userInputDelayFlag:!1,delayTime:0,sortFlag:!1,localColorTable:[],reserved:0,GCreserved:0}),g++,u=-1,y=!1);while(!await q0e(a,s,t,b,S,e));s.frames.length--;for(const T of s.frames){if(T.userInputDelayFlag&&T.delayTime===0){s.totalTime=1/0;break}s.totalTime+=T.delayTime}return s}catch(T){throw T instanceof EvalError?new Error(`error while parsing frame ${g} "${T.message}"`):T}}function Z0e(n){const{context:e,radius:t,particle:i,delta:r}=n,s=i.image;if(!s?.gifData||!s.gif)return;const a=new OffscreenCanvas(s.gifData.width,s.gifData.height),o=a.getContext("2d");if(!o)throw new Error("could not create offscreen canvas context");o.imageSmoothingQuality="low",o.imageSmoothingEnabled=!1,o.clearRect(zc.x,zc.y,a.width,a.height),i.gifLoopCount===void 0&&(i.gifLoopCount=s.gifLoopCount??TR);let l=i.gifFrame??V0e;const c={x:-s.gifData.width*U5,y:-s.gifData.height*U5},f=s.gifData.frames[l];if(i.gifTime===void 0&&(i.gifTime=W0e),!!f.bitmap){switch(e.scale(t/s.gifData.width,t/s.gifData.height),f.disposalMethod){case Dh.UndefinedA:case Dh.UndefinedB:case Dh.UndefinedC:case Dh.UndefinedD:case Dh.Replace:o.drawImage(f.bitmap,f.left,f.top),e.drawImage(a,c.x,c.y),o.clearRect(zc.x,zc.y,a.width,a.height);break;case Dh.Combine:o.drawImage(f.bitmap,f.left,f.top),e.drawImage(a,c.x,c.y);break;case Dh.RestoreBackground:o.drawImage(f.bitmap,f.left,f.top),e.drawImage(a,c.x,c.y),o.clearRect(zc.x,zc.y,a.width,a.height),s.gifData.globalColorTable.length?o.putImageData(s.gifData.backgroundImage,c.x,c.y):o.putImageData(s.gifData.frames[k5].image,c.x+f.left,c.y+f.top);break;case Dh.RestorePrevious:{const h=o.getImageData(zc.x,zc.y,a.width,a.height);o.drawImage(f.bitmap,f.left,f.top),e.drawImage(a,c.x,c.y),o.clearRect(zc.x,zc.y,a.width,a.height),o.putImageData(h,zc.x,zc.y)}break}if(i.gifTime+=r.value,i.gifTime>f.delayTime){if(i.gifTime-=f.delayTime,++l>=s.gifData.frames.length){if(--i.gifLoopCount<=TR)return;l=k5,o.clearRect(zc.x,zc.y,a.width,a.height)}i.gifFrame=l}e.scale(s.gifData.width/t,s.gifData.height/t)}}async function Q0e(n){if(n.type!=="gif"){await FC(n);return}n.loading=!0;try{n.gifData=await K0e(n.source),n.gifLoopCount=Y0e(n.gifData)??TR,n.gifLoopCount||(n.gifLoopCount=1/0)}catch{n.error=!0}n.loading=!1}const J0e=2,eye=1,tye=12,nye=1;class iye{constructor(e){this.validTypes=["image","images"],this.loadImageShape=async t=>{if(!this._engine.loadImage)throw new Error(`${cl} image shape not initialized`);await this._engine.loadImage({gif:t.gif,name:t.name,replaceColor:t.replaceColor??!1,src:t.src})},this._engine=e}addImage(e){this._engine.images||(this._engine.images=[]),this._engine.images.push(e)}draw(e){const{context:t,radius:i,particle:r,opacity:s}=e,a=r.image,o=a?.element;if(a){if(t.globalAlpha=s,a.gif&&a.gifData)Z0e(e);else if(o){const l=a.ratio,c={x:-i,y:-i},f=i*J0e;t.drawImage(o,c.x,c.y,f,f/l)}t.globalAlpha=eye}}getSidesCount(){return tye}async init(e){const t=e.actualOptions;if(!(!t.preload||!this._engine.loadImage))for(const i of t.preload)await this._engine.loadImage(i)}loadShape(e){if(e.shape!=="image"&&e.shape!=="images")return;this._engine.images||(this._engine.images=[]);const t=e.shapeData;if(!t)return;this._engine.images.find(r=>r.name===t.name||r.source===t.src)||this.loadImageShape(t).then(()=>{this.loadShape(e)})}particleInit(e,t){if(t.shape!=="image"&&t.shape!=="images")return;this._engine.images||(this._engine.images=[]);const i=this._engine.images,r=t.shapeData;if(!r)return;const s=t.getFillColor(),a=i.find(l=>l.name===r.name||l.source===r.src);if(!a)return;const o=r.replaceColor??a.replaceColor;if(a.loading){setTimeout(()=>{this.particleInit(e,t)});return}(async()=>{let l;a.svgData&&s?l=await H0e(a,r,s,t):l={color:s,data:a,element:a.element,gif:a.gif,gifData:a.gifData,gifLoopCount:a.gifLoopCount,loaded:!0,ratio:r.width&&r.height?r.width/r.height:a.ratio??nye,replaceColor:o,source:r.src},l.ratio||(l.ratio=1);const c=r.fill??t.shapeFill,f=r.close??t.shapeClose,h={image:l,fill:c,close:f};t.image=h.image,t.shapeFill=h.fill,t.shapeClose=h.close})()}}class rye{constructor(){this.src="",this.gif=!1}load(e){jt(e)||(e.gif!==void 0&&(this.gif=e.gif),e.height!==void 0&&(this.height=e.height),e.name!==void 0&&(this.name=e.name),e.replaceColor!==void 0&&(this.replaceColor=e.replaceColor),e.src!==void 0&&(this.src=e.src),e.width!==void 0&&(this.width=e.width))}}class sye{constructor(e){this.id="imagePreloader",this._engine=e}async getPlugin(){return await Promise.resolve(),{}}loadOptions(e,t){if(!t?.preload)return;e.preload||(e.preload=[]);const i=e.preload;for(const r of t.preload){const s=i.find(a=>a.name===r.name||a.src===r.src);if(s)s.load(r);else{const a=new rye;a.load(r),i.push(a)}}}needsPlugin(){return!0}}const aye=3;function oye(n){n.loadImage||(n.loadImage=async e=>{if(!e.name&&!e.src)throw new Error(`${cl} no image source provided`);if(n.images||(n.images=[]),!n.images.find(t=>t.name===e.name||t.source===e.src))try{const t={gif:e.gif??!1,name:e.name??e.src,source:e.src,type:e.src.substring(e.src.length-aye),error:!1,loading:!0,replaceColor:e.replaceColor,ratio:e.width&&e.height?e.width/e.height:void 0};n.images.push(t);let i;e.gif?i=Q0e:i=e.replaceColor?G0e:FC,await i(t)}catch{throw new Error(`${cl} ${e.name??e.src} not found`)}})}async function lye(n,e=!0){n.checkVersion("3.9.1"),oye(n);const t=new sye(n);await n.addPlugin(t,e),await n.addShape(new iye(n),e)}class cye extends wu{constructor(){super(),this.sync=!1}load(e){jt(e)||(super.load(e),e.sync!==void 0&&(this.sync=e.sync))}}class uye extends wu{constructor(){super(),this.sync=!1}load(e){jt(e)||(super.load(e),e.sync!==void 0&&(this.sync=e.sync))}}class hye{constructor(){this.count=0,this.delay=new cye,this.duration=new uye}load(e){jt(e)||(e.count!==void 0&&(this.count=e.count),this.delay.load(e.delay),this.duration.load(e.duration))}}const _0=0,dye=-1,B5=0,z5=0;function fye(n,e,t){if(!n.life)return;const i=n.life;let r=!1;if(n.spawning)if(i.delayTime+=e.value,i.delayTime>=n.life.delay)r=!0,n.spawning=!1,i.delayTime=_0,i.time=_0;else return;if(i.duration===dye||n.spawning||(r?i.time=_0:i.time+=e.value,i.time<i.duration))return;if(i.time=_0,n.life.count>B5&&n.life.count--,n.life.count===B5){n.destroy();return}const s=oi(z5,t.width),a=oi(z5,t.width);n.position.x=vo(s),n.position.y=vo(a),n.spawning=!0,i.delayTime=_0,i.time=_0,n.reset();const o=n.options.life;o&&(i.delay=cn(o.delay.value)*js,i.duration=cn(o.duration.value)*js)}const gg=0,G5=1,H5=-1;class pye{constructor(e){this.container=e}init(e){const t=this.container,i=e.options,r=i.life;r&&(e.life={delay:t.retina.reduceFactor?cn(r.delay.value)*(r.delay.sync?G5:Yn())/t.retina.reduceFactor*js:gg,delayTime:gg,duration:t.retina.reduceFactor?cn(r.duration.value)*(r.duration.sync?G5:Yn())/t.retina.reduceFactor*js:gg,time:gg,count:r.count},e.life.duration<=gg&&(e.life.duration=H5),e.life.count<=gg&&(e.life.count=H5),e.life&&(e.spawning=e.life.delay>gg))}isEnabled(e){return!e.destroyed}loadOptions(e,...t){e.life||(e.life=new hye);for(const i of t)e.life.load(i?.life)}update(e,t){!this.isEnabled(e)||!e.life||fye(e,t,this.container.canvas.size)}}async function mye(n,e=!0){n.checkVersion("3.9.1"),await n.addParticleUpdater("life",async t=>Promise.resolve(new pye(t)),e)}function gye(n){const{context:e,particle:t,radius:i}=n,r=t.shapeData,s=0;e.moveTo(-i,s),e.lineTo(i,s),e.lineCap=r?.cap??"butt"}const vye=1;class yye{constructor(){this.validTypes=["line"]}draw(e){gye(e)}getSidesCount(){return vye}}async function _ye(n,e=!0){n.checkVersion("3.9.1"),await n.addShape(new yye,e)}const $5=.5;class bye{init(){}isEnabled(e){return!Qg()&&!e.destroyed&&e.container.actualOptions.interactivity.events.onHover.parallax.enable}move(e){const t=e.container,i=t.actualOptions,r=i.interactivity.events.onHover.parallax;if(Qg()||!r.enable)return;const s=r.force,a=t.interactivity.mouse.position;if(!a)return;const o=t.canvas.size,l={x:o.width*$5,y:o.height*$5},c=r.smooth,f=e.getRadius()/s,h={x:(a.x-l.x)*f,y:(a.y-l.y)*f},{offset:v}=e;v.x+=(h.x-v.x)/c,v.y+=(h.y-v.y)/c}}async function xye(n,e=!0){n.checkVersion("3.9.1"),await n.addMover("parallax",()=>Promise.resolve(new bye),e)}const V5=1e3,Sye=1;class wye extends xy{constructor(e){super(e)}clear(){}init(){}interact(e){const t=this.container;e.attractDistance===void 0&&(e.attractDistance=cn(e.options.move.attract.distance)*t.retina.pixelRatio);const i=e.attractDistance,r=e.getPosition(),s=t.particles.quadTree.queryCircle(r,i);for(const a of s){if(e===a||!a.options.move.attract.enable||a.destroyed||a.spawning)continue;const o=a.getPosition(),{dx:l,dy:c}=_o(r,o),f=e.options.move.attract.rotate,h=l/(f.x*V5),v=c/(f.y*V5),m=a.size.value/e.size.value,_=Sye/m;e.velocity.x-=h*m,e.velocity.y-=v*m,a.velocity.x+=h*_,a.velocity.y+=v*_}}isEnabled(e){return e.options.move.attract.enable}reset(){}}async function Eye(n,e=!0){n.checkVersion("3.9.1"),await n.addInteractor("particlesAttract",t=>Promise.resolve(new wye(t)),e)}const Cye=.5,Tye=10,Aye=0;function W5(n,e,t,i,r,s){const a=qc(n.options.collisions.absorb.speed*r.factor/Tye,Aye,i);n.size.value+=a*Cye,t.size.value-=a,i<=s&&(t.size.value=0,t.destroy())}function Mye(n,e,t,i){const r=n.getRadius(),s=e.getRadius();r===void 0&&s!==void 0?n.destroy():r!==void 0&&s===void 0?e.destroy():r!==void 0&&s!==void 0&&(r>=s?W5(n,r,e,s,t,i):W5(e,s,n,r,t,i))}const j5=n=>{n.collisionMaxSpeed===void 0&&(n.collisionMaxSpeed=cn(n.options.collisions.maxSpeed)),n.velocity.length>n.collisionMaxSpeed&&(n.velocity.length=n.collisionMaxSpeed)};function Ez(n,e){Q8(xR(n),xR(e)),j5(n),j5(e)}function Rye(n,e){!n.unbreakable&&!e.unbreakable&&Ez(n,e),n.getRadius()===void 0&&e.getRadius()!==void 0?n.destroy():n.getRadius()!==void 0&&e.getRadius()===void 0?e.destroy():n.getRadius()!==void 0&&e.getRadius()!==void 0&&(n.getRadius()>=e.getRadius()?e:n).destroy()}function Oye(n,e,t,i){switch(n.options.collisions.mode){case B0.absorb:{Mye(n,e,t,i);break}case B0.bounce:{Ez(n,e);break}case B0.destroy:{Rye(n,e);break}}}const Lye=2;class Pye extends xy{constructor(e){super(e)}clear(){}init(){}interact(e,t){if(e.destroyed||e.spawning)return;const i=this.container,r=e.getPosition(),s=e.getRadius(),a=i.particles.quadTree.queryCircle(r,s*Lye);for(const o of a){if(e===o||!o.options.collisions.enable||e.options.collisions.mode!==o.options.collisions.mode||o.destroyed||o.spawning)continue;const l=o.getPosition(),c=o.getRadius();if(Math.abs(Math.round(r.z)-Math.round(l.z))>s+c)continue;const f=Tl(r,l),h=s+c;f>h||Oye(e,o,t,i.retina.pixelRatio)}}isEnabled(e){return e.options.collisions.enable}reset(){}}async function Iye(n,e=!0){n.checkVersion("3.9.1"),await n.addInteractor("particlesCollisions",t=>Promise.resolve(new Pye(t)),e)}const Z2=2;class Dye extends Vl{constructor(e,t,i,r){super(e,t,i),this.canvasSize=r,this.canvasSize={...r}}contains(e){const{width:t,height:i}=this.canvasSize,{x:r,y:s}=e;return super.contains(e)||super.contains({x:r-t,y:s})||super.contains({x:r-t,y:s-i})||super.contains({x:r,y:s-i})}intersects(e){if(super.intersects(e))return!0;const t=e,i=e,r={x:e.position.x-this.canvasSize.width,y:e.position.y-this.canvasSize.height};if(i.radius!==void 0){const s=new Vl(r.x,r.y,i.radius*Z2);return super.intersects(s)}else if(t.size!==void 0){const s=new Yh(r.x,r.y,t.size.width*Z2,t.size.height*Z2);return super.intersects(s)}return!1}}class Nye{constructor(){this.blur=5,this.color=new vs,this.color.value="#000",this.enable=!1}load(e){jt(e)||(e.blur!==void 0&&(this.blur=e.blur),this.color=vs.create(this.color,e.color),e.enable!==void 0&&(this.enable=e.enable))}}class Fye{constructor(){this.enable=!1,this.frequency=1}load(e){jt(e)||(e.color!==void 0&&(this.color=vs.create(this.color,e.color)),e.enable!==void 0&&(this.enable=e.enable),e.frequency!==void 0&&(this.frequency=e.frequency),e.opacity!==void 0&&(this.opacity=e.opacity))}}class Uye{constructor(){this.blink=!1,this.color=new vs,this.color.value="#fff",this.consent=!1,this.distance=100,this.enable=!1,this.frequency=1,this.opacity=1,this.shadow=new Nye,this.triangles=new Fye,this.width=1,this.warp=!1}load(e){jt(e)||(e.id!==void 0&&(this.id=e.id),e.blink!==void 0&&(this.blink=e.blink),this.color=vs.create(this.color,e.color),e.consent!==void 0&&(this.consent=e.consent),e.distance!==void 0&&(this.distance=e.distance),e.enable!==void 0&&(this.enable=e.enable),e.frequency!==void 0&&(this.frequency=e.frequency),e.opacity!==void 0&&(this.opacity=e.opacity),this.shadow.load(e.shadow),this.triangles.load(e.triangles),e.width!==void 0&&(this.width=e.width),e.warp!==void 0&&(this.warp=e.warp))}}const X5=2,kye=1,SS={x:0,y:0},Bye=0;function zye(n,e,t,i,r){const{dx:s,dy:a,distance:o}=_o(n,e);if(!r||o<=t)return o;const l={x:Math.abs(s),y:Math.abs(a)},c={x:Math.min(l.x,i.width-l.x),y:Math.min(l.y,i.height-l.y)};return Math.sqrt(c.x**X5+c.y**X5)}class Gye extends xy{constructor(e,t){super(e),this._setColor=i=>{if(!i.options.links)return;const r=this._linkContainer,s=i.options.links;let a=s.id===void 0?r.particles.linksColor:r.particles.linksColors.get(s.id);if(a)return;const o=s.color;a=az(this._engine,o,s.blink,s.consent),s.id===void 0?r.particles.linksColor=a:r.particles.linksColors.set(s.id,a)},this._linkContainer=e,this._engine=t}clear(){}init(){this._linkContainer.particles.linksColor=void 0,this._linkContainer.particles.linksColors=new Map}interact(e){if(!e.options.links)return;e.links=[];const t=e.getPosition(),i=this.container,r=i.canvas.size;if(t.x<SS.x||t.y<SS.y||t.x>r.width||t.y>r.height)return;const s=e.options.links,a=s.opacity,o=e.retina.linksDistance??Bye,l=s.warp;let c;l?c=new Dye(t.x,t.y,o,r):c=new Vl(t.x,t.y,o);const f=i.particles.quadTree.query(c);for(const h of f){const v=h.options.links;if(e===h||!v?.enable||s.id!==v.id||h.spawning||h.destroyed||!h.links||e.links.some(y=>y.destination===h)||h.links.some(y=>y.destination===e))continue;const m=h.getPosition();if(m.x<SS.x||m.y<SS.y||m.x>r.width||m.y>r.height)continue;const _=zye(t,m,o,r,l&&v.warp);if(_>o)continue;const g=(kye-_/o)*a;this._setColor(e),e.links.push({destination:h,opacity:g})}}isEnabled(e){return!!e.options.links?.enable}loadParticlesOptions(e,...t){e.links||(e.links=new Uye);for(const i of t)e.links.load(i?.links)}reset(){}}async function Hye(n,e=!0){await n.addInteractor("particlesLinks",async t=>Promise.resolve(new Gye(t,n)),e)}function $ye(n,e,t,i){n.beginPath(),n.moveTo(e.x,e.y),n.lineTo(t.x,t.y),n.lineTo(i.x,i.y),n.closePath()}function Vye(n){let e=!1;const{begin:t,end:i,engine:r,maxDistance:s,context:a,canvasSize:o,width:l,backgroundMask:c,colorLine:f,opacity:h,links:v}=n;if(Tl(t,i)<=s)e1(a,t,i),e=!0;else if(v.warp){let _,g;const y={x:i.x-o.width,y:i.y},u=_o(t,y);if(u.distance<=s){const b=t.y-u.dy/u.dx*t.x;_={x:0,y:b},g={x:o.width,y:b}}else{const b={x:i.x,y:i.y-o.height},S=_o(t,b);if(S.distance<=s){const R=-(t.y-S.dy/S.dx*t.x)/(S.dy/S.dx);_={x:R,y:0},g={x:R,y:o.height}}else{const T={x:i.x-o.width,y:i.y-o.height},R=_o(t,T);if(R.distance<=s){const O=t.y-R.dy/R.dx*t.x;_={x:-O/(R.dy/R.dx),y:O},g={x:_.x+o.width,y:_.y+o.height}}}}_&&g&&(e1(a,t,_),e1(a,i,g),e=!0)}if(!e)return;a.lineWidth=l,c.enable&&(a.globalCompositeOperation=c.composite),a.strokeStyle=Sc(f,h);const{shadow:m}=v;if(m.enable){const _=Al(r,m.color);_&&(a.shadowBlur=m.blur,a.shadowColor=Sc(_))}a.stroke()}function Wye(n){const{context:e,pos1:t,pos2:i,pos3:r,backgroundMask:s,colorTriangle:a,opacityTriangle:o}=n;$ye(e,t,i,r),s.enable&&(e.globalCompositeOperation=s.composite),e.fillStyle=Sc(a,o),e.fill()}function jye(n){return n.sort((e,t)=>e-t),n.join("_")}function q5(n,e){const t=jye(n.map(r=>r.id));let i=e.get(t);return i===void 0&&(i=Yn(),e.set(t,i)),i}const Y5=0,Q2=0,K5=0,Xye=.5,qye=1;class Yye{constructor(e,t){this._drawLinkLine=(i,r)=>{const s=i.options.links;if(!s?.enable)return;const a=this._container,o=a.actualOptions,l=r.destination,c=i.getPosition(),f=l.getPosition();let h=r.opacity;a.canvas.draw(v=>{let m;const _=i.options.twinkle?.lines;if(_?.enable){const b=_.frequency,S=Al(this._engine,_.color);Yn()<b&&S&&(m=S,h=cn(_.opacity))}if(!m){const b=s.id!==void 0?a.particles.linksColors.get(s.id):a.particles.linksColor;m=SR(i,l,b)}if(!m)return;const g=i.retina.linksWidth??Q2,y=i.retina.linksDistance??K5,{backgroundMask:u}=o;Vye({context:v,width:g,begin:c,end:f,engine:this._engine,maxDistance:y,canvasSize:a.canvas.size,links:s,backgroundMask:u,colorLine:m,opacity:h})})},this._drawLinkTriangle=(i,r,s)=>{const a=i.options.links;if(!a?.enable)return;const o=a.triangles;if(!o.enable)return;const l=this._container,c=l.actualOptions,f=r.destination,h=s.destination,v=o.opacity??(r.opacity+s.opacity)*Xye;v<=Y5||l.canvas.draw(m=>{const _=i.getPosition(),g=f.getPosition(),y=h.getPosition(),u=i.retina.linksDistance??K5;if(Tl(_,g)>u||Tl(y,g)>u||Tl(y,_)>u)return;let b=Al(this._engine,o.color);if(!b){const S=a.id!==void 0?l.particles.linksColors.get(a.id):l.particles.linksColor;b=SR(i,f,S)}b&&Wye({context:m,pos1:_,pos2:g,pos3:y,backgroundMask:c.backgroundMask,colorTriangle:b,opacityTriangle:v})})},this._drawTriangles=(i,r,s,a)=>{const o=s.destination;if(!(i.links?.triangles.enable&&o.options.links?.triangles.enable))return;const l=o.links?.filter(c=>{const f=this._getLinkFrequency(o,c.destination);return o.options.links&&f<=o.options.links.frequency&&a.findIndex(v=>v.destination===c.destination)>=0});if(l?.length)for(const c of l){const f=c.destination;this._getTriangleFrequency(r,o,f)>i.links.triangles.frequency||this._drawLinkTriangle(r,s,c)}},this._getLinkFrequency=(i,r)=>q5([i,r],this._freqs.links),this._getTriangleFrequency=(i,r,s)=>q5([i,r,s],this._freqs.triangles),this._container=e,this._engine=t,this._freqs={links:new Map,triangles:new Map}}drawParticle(e,t){const{links:i,options:r}=t;if(!i?.length)return;const s=i.filter(a=>r.links&&(r.links.frequency>=qye||this._getLinkFrequency(t,a.destination)<=r.links.frequency));for(const a of s)this._drawTriangles(r,t,a,s),a.opacity>Y5&&(t.retina.linksWidth??Q2)>Q2&&this._drawLinkLine(t,a)}async init(){this._freqs.links=new Map,this._freqs.triangles=new Map,await Promise.resolve()}particleCreated(e){if(e.links=[],!e.options.links)return;const t=this._container.retina.pixelRatio,{retina:i}=e,{distance:r,width:s}=e.options.links;i.linksDistance=r*t,i.linksWidth=s*t}particleDestroyed(e){e.links=[]}}class Kye{constructor(e){this.id="links",this._engine=e}getPlugin(e){return Promise.resolve(new Yye(e,this._engine))}loadOptions(){}needsPlugin(){return!0}}async function Zye(n,e=!0){const t=new Kye(n);await n.addPlugin(t,e)}async function Qye(n,e=!0){n.checkVersion("3.9.1"),await Hye(n,e),await Zye(n,e)}const Jye=180,wS={x:0,y:0},e_e=2;function t_e(n,e,t){const{context:i}=n,r=t.count.numerator*t.count.denominator,s=t.count.numerator/t.count.denominator,a=Jye*(s-e_e)/s,o=Math.PI-$h(a);if(i){i.beginPath(),i.translate(e.x,e.y),i.moveTo(wS.x,wS.y);for(let l=0;l<r;l++)i.lineTo(t.length,wS.y),i.translate(t.length,wS.y),i.rotate(o)}}const n_e=5;class Cz{draw(e){const{particle:t,radius:i}=e,r=this.getCenter(t,i),s=this.getSidesData(t,i);t_e(e,r,s)}getSidesCount(e){const t=e.shapeData;return Math.round(cn(t?.sides??n_e))}}const Z5=3.5,Q5=2.66,i_e=3;class r_e extends Cz{constructor(){super(...arguments),this.validTypes=["polygon"]}getCenter(e,t){return{x:-t/(e.sides/Z5),y:-t/(Q5/Z5)}}getSidesData(e,t){const i=e.sides;return{count:{denominator:1,numerator:i},length:t*Q5/(i/i_e)}}}const s_e=1.66,a_e=3,o_e=2;class l_e extends Cz{constructor(){super(...arguments),this.validTypes=["triangle"]}getCenter(e,t){return{x:-t,y:t/s_e}}getSidesCount(){return a_e}getSidesData(e,t){const i=t*o_e;return{count:{denominator:2,numerator:3},length:i}}}async function c_e(n,e=!0){n.checkVersion("3.9.1"),await n.addShape(new r_e,e)}async function u_e(n,e=!0){n.checkVersion("3.9.1"),await n.addShape(new l_e,e)}async function h_e(n,e=!0){n.checkVersion("3.9.1"),await c_e(n,e),await u_e(n,e)}class d_e{constructor(){this.enable=!1,this.speed=0,this.decay=0,this.sync=!1}load(e){jt(e)||(e.enable!==void 0&&(this.enable=e.enable),e.speed!==void 0&&(this.speed=oi(e.speed)),e.decay!==void 0&&(this.decay=oi(e.decay)),e.sync!==void 0&&(this.sync=e.sync))}}class f_e extends wu{constructor(){super(),this.animation=new d_e,this.direction=mo.clockwise,this.path=!1,this.value=0}load(e){jt(e)||(super.load(e),e.direction!==void 0&&(this.direction=e.direction),this.animation.load(e.animation),e.path!==void 0&&(this.path=e.path))}}const Tz=2,p_e=Math.PI*Tz,m_e=1,g_e=360;class v_e{constructor(e){this.container=e}init(e){const t=e.options.rotate;if(!t)return;e.rotate={enable:t.animation.enable,value:$h(cn(t.value)),min:0,max:p_e},e.pathRotation=t.path;let i=t.direction;switch(i===mo.random&&(i=Math.floor(Yn()*Tz)>0?mo.counterClockwise:mo.clockwise),i){case mo.counterClockwise:case"counterClockwise":e.rotate.status=ks.decreasing;break;case mo.clockwise:e.rotate.status=ks.increasing;break}const r=t.animation;r.enable&&(e.rotate.decay=m_e-cn(r.decay),e.rotate.velocity=cn(r.speed)/g_e*this.container.retina.reduceFactor,r.sync||(e.rotate.velocity*=Yn())),e.rotation=e.rotate.value}isEnabled(e){const t=e.options.rotate;return t?!e.destroyed&&!e.spawning&&(!!t.value||t.animation.enable||t.path):!1}loadOptions(e,...t){e.rotate||(e.rotate=new f_e);for(const i of t)e.rotate.load(i?.rotate)}update(e,t){this.isEnabled(e)&&(e.isRotating=!!e.rotate,e.rotate&&(iy(e,e.rotate,!1,Gd.none,t),e.rotation=e.rotate.value))}}async function y_e(n,e=!0){n.checkVersion("3.9.1"),await n.addParticleUpdater("rotate",t=>Promise.resolve(new v_e(t)),e)}const __e=2,b_e=Math.sqrt(__e),x_e=2;function S_e(n){const{context:e,radius:t}=n,i=t/b_e,r=i*x_e;e.rect(-i,-i,r,r)}const w_e=4;class E_e{constructor(){this.validTypes=["edge","square"]}draw(e){S_e(e)}getSidesCount(){return w_e}}async function C_e(n,e=!0){n.checkVersion("3.9.1"),await n.addShape(new E_e,e)}const T_e=2,b0={x:0,y:0};function A_e(n){const{context:e,particle:t,radius:i}=n,r=t.sides,s=t.starInset??T_e;e.moveTo(b0.x,b0.y-i);for(let a=0;a<r;a++)e.rotate(Math.PI/r),e.lineTo(b0.x,b0.y-i*s),e.rotate(Math.PI/r),e.lineTo(b0.x,b0.y-i)}const M_e=2,R_e=5;class O_e{constructor(){this.validTypes=["star"]}draw(e){A_e(e)}getSidesCount(e){const t=e.shapeData;return Math.round(cn(t?.sides??R_e))}particleInit(e,t){const i=t.shapeData;t.starInset=cn(i?.inset??M_e)}}async function L_e(n,e=!0){n.checkVersion("3.9.1"),await n.addShape(new O_e,e)}const P_e=1;class I_e{constructor(e,t){this._container=e,this._engine=t}init(e){const t=this._container,i=e.options,r=yo(i.stroke,e.id,i.reduceDuplicates);e.strokeWidth=cn(r.width)*t.retina.pixelRatio,e.strokeOpacity=cn(r.opacity??P_e),e.strokeAnimation=r.color?.animation;const s=$d(this._engine,r.color)??e.getFillColor();s&&(e.strokeColor=AO(s,e.strokeAnimation,t.retina.reduceFactor))}isEnabled(e){const t=e.strokeAnimation,{strokeColor:i}=e;return!e.destroyed&&!e.spawning&&!!t&&(i?.h.value!==void 0&&i.h.enable||i?.s.value!==void 0&&i.s.enable||i?.l.value!==void 0&&i.l.enable)}update(e,t){this.isEnabled(e)&&MO(e.strokeColor,t)}}async function D_e(n,e=!0){n.checkVersion("3.9.1"),await n.addParticleUpdater("strokeColor",t=>Promise.resolve(new I_e(t,n)),e)}async function N_e(n,e=!0){n.checkVersion("3.9.1"),await xye(n,!1),await Cve(n,!1),await Dve(n,!1),await Hve(n,!1),await Qve(n,!1),await l0e(n,!1),await h0e(n,!1),await g0e(n,!1),await b0e(n,!1),await L0e(n,!1),await F0e(n,!1),await Eye(n,!1),await Iye(n,!1),await Qye(n,!1),await mve(n,!1),await yve(n,!1),await lye(n,!1),await _ye(n,!1),await h_e(n,!1),await C_e(n,!1),await L_e(n,!1),await mye(n,!1),await y_e(n,!1),await D_e(n,!1),await pve(n,e)}const Az=2,J5=.5;function F_e(n){const{context:e,particle:t,radius:i,opacity:r}=n,s=t.shapeData;if(!s)return;const a=s.value;if(a===void 0)return;t.text===void 0&&(t.text=yo(a,t.randomIndexData));const o=t.text,l=s.style??"",c=s.weight??"400",f=Math.round(i)*Az,h=s.font??"Verdana",v=t.shapeFill,m=o?.split(`
`);if(m){e.font=`${l} ${c} ${f}px "${h}"`,e.globalAlpha=r;for(let _=0;_<m.length;_++)U_e(e,m[_],i,r,_,v);e.globalAlpha=1}}function U_e(n,e,t,i,r,s){const a=e.length*t*J5,o={x:-a,y:t*J5},l=t*Az;s?n.fillText(e,o.x,o.y+l*r):n.strokeText(e,o.x,o.y+l*r)}class k_e{constructor(){this.validTypes=["text","character","char","multiline-text"]}draw(e){F_e(e)}async init(e){const t=e.actualOptions,{validTypes:i}=this;if(i.find(r=>Rs(r,t.particles.shape.type))){const r=i.map(a=>t.particles.shape.options[a]).find(a=>!!a),s=[];ha(r,a=>{s.push(bR(a.font,a.weight))}),await Promise.all(s)}}particleInit(e,t){if(!t.shape||!this.validTypes.includes(t.shape))return;const i=t.shapeData;if(i===void 0)return;const r=i.value;r!==void 0&&(t.text=yo(r,t.randomIndexData))}}async function B_e(n,e=!0){n.checkVersion("3.9.1"),await n.addShape(new k_e,e)}var sm;(function(n){n.clockwise="clockwise",n.counterClockwise="counter-clockwise",n.random="random"})(sm||(sm={}));class z_e{constructor(){this.enable=!1,this.speed=0,this.decay=0,this.sync=!1}load(e){jt(e)||(e.enable!==void 0&&(this.enable=e.enable),e.speed!==void 0&&(this.speed=oi(e.speed)),e.decay!==void 0&&(this.decay=oi(e.decay)),e.sync!==void 0&&(this.sync=e.sync))}}class G_e extends wu{constructor(){super(),this.animation=new z_e,this.direction=sm.clockwise,this.enable=!1,this.value=0}load(e){super.load(e),!jt(e)&&(this.animation.load(e.animation),e.direction!==void 0&&(this.direction=e.direction),e.enable!==void 0&&(this.enable=e.enable))}}const w_=1,Mz=2,H_e=Math.PI*Mz,$_e=360;class V_e{constructor(e){this.container=e}getTransformValues(e){const t=e.tilt?.enable&&e.tilt;return{b:t?Math.cos(t.value)*t.cosDirection:void 0,c:t?Math.sin(t.value)*t.sinDirection:void 0}}init(e){const t=e.options.tilt;if(!t)return;e.tilt={enable:t.enable,value:$h(cn(t.value)),sinDirection:Yn()>=Rr?w_:-w_,cosDirection:Yn()>=Rr?w_:-w_,min:0,max:H_e};let i=t.direction;switch(i===sm.random&&(i=Math.floor(Yn()*Mz)>0?sm.counterClockwise:sm.clockwise),i){case sm.counterClockwise:case"counterClockwise":e.tilt.status=ks.decreasing;break;case sm.clockwise:e.tilt.status=ks.increasing;break}const r=e.options.tilt?.animation;r?.enable&&(e.tilt.decay=w_-cn(r.decay),e.tilt.velocity=cn(r.speed)/$_e*this.container.retina.reduceFactor,r.sync||(e.tilt.velocity*=Yn()))}isEnabled(e){const t=e.options.tilt?.animation;return!e.destroyed&&!e.spawning&&!!t?.enable}loadOptions(e,...t){e.tilt||(e.tilt=new G_e);for(const i of t)e.tilt.load(i?.tilt)}async update(e,t){!this.isEnabled(e)||!e.tilt||(iy(e,e.tilt,!1,Gd.none,t),await Promise.resolve())}}async function W_e(n,e=!0){n.checkVersion("3.9.1"),await n.addParticleUpdater("tilt",t=>Promise.resolve(new V_e(t)),e)}class eF{constructor(){this.enable=!1,this.frequency=.05,this.opacity=1}load(e){jt(e)||(e.color!==void 0&&(this.color=vs.create(this.color,e.color)),e.enable!==void 0&&(this.enable=e.enable),e.frequency!==void 0&&(this.frequency=e.frequency),e.opacity!==void 0&&(this.opacity=oi(e.opacity)))}}class j_e{constructor(){this.lines=new eF,this.particles=new eF}load(e){jt(e)||(this.lines.load(e.lines),this.particles.load(e.particles))}}class X_e{constructor(e){this._engine=e}getColorStyles(e,t,i,r){const s=e.options,a=s.twinkle;if(!a)return{};const o=a.particles,l=o.enable&&Yn()<o.frequency,c=e.options.zIndex,f=1,h=(f-e.zIndexFactor)**c.opacityRate,v=l?cn(o.opacity)*h:r,m=$d(this._engine,o.color),_=m?vm(m,v):void 0,g={},y=l&&_;return g.fill=y?_:void 0,g.stroke=y?_:void 0,g}async init(){await Promise.resolve()}isEnabled(e){const t=e.options,i=t.twinkle;return i?i.particles.enable:!1}loadOptions(e,...t){e.twinkle||(e.twinkle=new j_e);for(const i of t)e.twinkle.load(i?.twinkle)}async update(){await Promise.resolve()}}async function q_e(n,e=!0){n.checkVersion("3.9.1"),await n.addParticleUpdater("twinkle",()=>Promise.resolve(new X_e(n)),e)}class Y_e{constructor(){this.angle=50,this.move=10}load(e){jt(e)||(e.angle!==void 0&&(this.angle=oi(e.angle)),e.move!==void 0&&(this.move=oi(e.move)))}}class K_e{constructor(){this.distance=5,this.enable=!1,this.speed=new Y_e}load(e){if(!jt(e)&&(e.distance!==void 0&&(this.distance=oi(e.distance)),e.enable!==void 0&&(this.enable=e.enable),e.speed!==void 0))if(Ml(e.speed))this.speed.load({angle:e.speed});else{const t=e.speed;t.min!==void 0?this.speed.load({angle:t}):this.speed.load(e.speed)}}}const Z_e=0,Q_e=2,J_e=Math.PI*Q_e,e1e=60;function t1e(n,e){const{wobble:t}=n.options,{container:i,wobble:r}=n;if(!t?.enable||!r)return;const s=i.retina.reduceFactor,a=r.angleSpeed*e.factor*s,o=r.moveSpeed*e.factor*s,l=o*(n.retina.wobbleDistance??Z_e)/(js/e1e),c=J_e,{position:f}=n;r.angle+=a,r.angle>c&&(r.angle-=c),f.x+=l*Math.cos(r.angle),f.y+=l*Math.abs(Math.sin(r.angle))}const n1e=2,i1e=Math.PI*n1e,r1e=360,s1e=10,a1e=0;class o1e{constructor(e){this.container=e}init(e){const t=e.options.wobble;t?.enable?e.wobble={angle:Yn()*i1e,angleSpeed:cn(t.speed.angle)/r1e,moveSpeed:cn(t.speed.move)/s1e}:e.wobble={angle:0,angleSpeed:0,moveSpeed:0},e.retina.wobbleDistance=cn(t?.distance??a1e)*this.container.retina.pixelRatio}isEnabled(e){return!e.destroyed&&!e.spawning&&!!e.options.wobble?.enable}loadOptions(e,...t){e.wobble||(e.wobble=new K_e);for(const i of t)e.wobble.load(i?.wobble)}update(e,t){this.isEnabled(e)&&t1e(e,t)}}async function l1e(n,e=!0){n.checkVersion("3.9.1"),await n.addParticleUpdater("wobble",t=>Promise.resolve(new o1e(t)),e)}async function c1e(n,e=!0){n.checkVersion("3.9.1"),await nge(n,!1),await bge(n,!1),await W_e(n,!1),await q_e(n,!1),await l1e(n,!1),await B_e(n,!1),await fge(n,!1),await Hme(n,!1),await Rpe(n,!1),await age(n,!1),await uge(n,!1),await N_e(n,e)}class u1e{constructor(){this.count=0,this.enable=!1,this.speed=0,this.decay=0,this.delay=0,this.sync=!1,this.startValue=Fd.random}load(e){jt(e)||(e.count!==void 0&&(this.count=oi(e.count)),e.enable!==void 0&&(this.enable=e.enable),e.speed!==void 0&&(this.speed=oi(e.speed)),e.sync!==void 0&&(this.sync=e.sync),e.startValue!==void 0&&(this.startValue=e.startValue),e.decay!==void 0&&(this.decay=oi(e.decay)),e.delay!==void 0&&(this.delay=oi(e.delay)))}}class h1e{constructor(){this.value=0,this.animation=new u1e}load(e){jt(e)||(this.animation.load(e.animation),e.value!==void 0&&(this.value=oi(e.value)))}}class d1e{constructor(){this.stop=0,this.value=new ym}load(e){jt(e)||(e.stop!==void 0&&(this.stop=e.stop),this.value=ym.create(this.value,e.value),e.opacity!==void 0&&(this.opacity=new h1e,Ml(e.opacity)?this.opacity.value=e.opacity:this.opacity.load(e.opacity)))}}class f1e{constructor(){this.count=0,this.enable=!1,this.speed=0,this.decay=0,this.delay=0,this.sync=!1}load(e){jt(e)||(e.count!==void 0&&(this.count=oi(e.count)),e.enable!==void 0&&(this.enable=e.enable),e.speed!==void 0&&(this.speed=oi(e.speed)),e.decay!==void 0&&(this.decay=oi(e.decay)),e.delay!==void 0&&(this.delay=oi(e.delay)),e.sync!==void 0&&(this.sync=e.sync))}}class p1e{constructor(){this.value=0,this.animation=new f1e,this.direction=mo.clockwise}load(e){jt(e)||(this.animation.load(e.animation),e.value!==void 0&&(this.value=oi(e.value)),e.direction!==void 0&&(this.direction=e.direction))}}class m1e{constructor(){this.angle=new p1e,this.colors=[],this.type=pE.random}load(e){jt(e)||(this.angle.load(e.angle),e.colors!==void 0&&(this.colors=e.colors.map(t=>{const i=new d1e;return i.load(t),i})),e.type!==void 0&&(this.type=e.type))}}function g1e(n,e){const{gradient:t}=n;if(t){iy(n,t.angle,!1,Gd.none,e);for(const i of t.colors)MO(i.value,e),i.opacity&&iy(n,i.opacity,!0,Gd.none,e)}}const v1e=2,y1e=Math.PI*v1e;class _1e{constructor(e){this._engine=e}getColorStyles(e,t,i,r){const s=e.gradient;if(!s)return{};const a=s.angle.value,o={x:0,y:0},l=0,c=s.type===pE.radial?t.createRadialGradient(o.x,o.y,l,o.x,o.y,i):t.createLinearGradient(Math.cos(a)*-i,Math.sin(a)*-i,Math.cos(a)*i,Math.sin(a)*i);for(const{stop:f,value:h,opacity:v}of s.colors)c.addColorStop(f,vm({h:h.h.value,s:h.s.value,l:h.l.value},v?.value??r));return{fill:c}}init(e){const t=yo(e.options.gradient);if(!t)return;const{angle:i}=t,r=360,s=1;e.gradient={angle:{value:cn(i.value),enable:i.animation.enable,velocity:cn(i.animation.speed)/r*e.container.retina.reduceFactor,decay:s-cn(i.animation.decay),delayTime:cn(i.animation.delay)*js,max:y1e,min:0,time:0},type:t.type,colors:[]};let a=t.angle.direction;switch(a===mo.random&&(a=Yn()>Rr?mo.counterClockwise:mo.clockwise),a){case mo.counterClockwise:case"counterClockwise":e.gradient.angle.status=ks.decreasing;break;case mo.clockwise:e.gradient.angle.status=ks.increasing;break}const o=e.options.reduceDuplicates;for(const l of t.colors){const c=$d(this._engine,l.value,e.id,o);if(!c)continue;const f=AO(c,l.value.animation,e.container.retina.reduceFactor),h={stop:l.stop,value:f,opacity:l.opacity?{enable:l.opacity.animation.enable,max:vu(l.opacity.value),min:ny(l.opacity.value),status:ks.increasing,value:cn(l.opacity.value),velocity:cn(l.opacity.animation.speed)/Ir*e.container.retina.reduceFactor,decay:s-cn(l.opacity.animation.decay),delayTime:cn(l.opacity.animation.delay)*js,time:0}:void 0},{opacity:v}=h;if(l.opacity&&v){const m=l.opacity.value;switch(v.min=ny(m),v.max=vu(m),l.opacity.animation.startValue){case Fd.min:v.value=v.min,v.status=ks.increasing;break;case Fd.max:v.value=v.max,v.status=ks.decreasing;break;case Fd.random:default:v.value=vo(v),v.status=Yn()>=Rr?ks.increasing:ks.decreasing;break}}e.gradient.colors.push(h)}}isEnabled(e){return!e.destroyed&&!e.spawning&&(!!e.gradient?.angle.enable||(e.gradient?.colors.some(t=>t.value.h.enable||t.value.s.enable||t.value.l.enable)??!1))}loadOptions(e,...t){for(const i of t){if(!i?.gradient)continue;const r=i.gradient;r&&(e.gradient=ha(r,s=>{const a=new m1e;return a.load(s),a}))}}update(e,t){g1e(e,t)}}async function b1e(n,e=!0){n.checkVersion("3.9.1"),await n.addParticleUpdater("gradient",()=>Promise.resolve(new _1e(n)),e)}const x1e=.5,S1e=2;function w1e(n){const{context:e,radius:t}=n,i=t*S1e,r=t*x1e,s=t+r,a=-t,o=-t;e.moveTo(a,o+r),e.quadraticCurveTo(a,o,a+r,o),e.quadraticCurveTo(a+t,o,a+t,o+r),e.quadraticCurveTo(a+t,o,a+s,o),e.quadraticCurveTo(a+i,o,a+i,o+r),e.quadraticCurveTo(a+i,o+t,a+s,o+s),e.lineTo(a+t,o+i),e.lineTo(a+r,o+s),e.quadraticCurveTo(a,o+t,a,o+r)}class E1e{constructor(){this.validTypes=["heart"]}draw(e){w1e(e)}}async function C1e(n,e=!0){n.checkVersion("3.9.1"),await n.addShape(new E1e,e)}const J2=255;function AR(n){const e={b:0,g:0,r:0},t=60,i={h:n.h/t,s:n.s/Ir,v:n.v/Ir},r=1,s=2,a=i.v*i.s,o=a*(r-Math.abs(i.h%s-r));let l;const c={min:0,max:1},f={min:1,max:2},h={min:2,max:3},v={min:3,max:4},m={min:4,max:5},_={min:5,max:6};if(i.h>=c.min&&i.h<=c.max?l={r:a,g:o,b:0}:i.h>f.min&&i.h<=f.max?l={r:o,g:a,b:0}:i.h>h.min&&i.h<=h.max?l={r:0,g:a,b:o}:i.h>v.min&&i.h<=v.max?l={r:0,g:o,b:a}:i.h>m.min&&i.h<=m.max?l={r:o,g:0,b:a}:i.h>_.min&&i.h<=_.max&&(l={r:a,g:0,b:o}),l){const g=i.v-a;e.r=Math.floor((l.r+g)*J2),e.g=Math.floor((l.g+g)*J2),e.b=Math.floor((l.b+g)*J2)}return e}function T1e(n){return{a:n.a,...AR(n)}}class A1e{constructor(){this.key="hsv",this.stringPrefix="hsv"}handleColor(e){const t=e.value,i=t.hsv??e.value;if(i.h!==void 0&&i.v!==void 0)return AR(i)}handleRangeColor(e){const t=e.value,i=t.hsv??e.value;if(i.h!==void 0&&i.v!==void 0)return AR({h:cn(i.h),s:cn(i.s),v:cn(i.v)})}parseString(e){if(!e.startsWith("hsv"))return;const t=/hsva?\(\s*(\d+)Â°\s*[\s,]\s*(\d+)%\s*[\s,]\s*(\d+)%\s*([\s,]\s*(0|1|0?\.\d+|(\d{1,3})%)\s*)?\)/i,i=t.exec(e),r=4,s={h:1,s:2,v:3,a:5},a=1,o=10;return i?T1e({a:i.length>r?ob(i[s.a]):a,h:parseInt(i[s.h],o),s:parseInt(i[s.s],o),v:parseInt(i[s.v],o)}):void 0}}async function M1e(n,e=!0){n.checkVersion("3.9.1"),await n.addColorManager(new A1e,e)}class R1e{constructor(){this.color=new vs,this.color.value="#ff0000",this.radius=0,this.rate=1}load(e){jt(e)||(e.color!==void 0&&(this.color=vs.create(this.color,e.color)),this.duration=e.duration,this.infectedStage=e.infectedStage,e.radius!==void 0&&(this.radius=e.radius),e.rate!==void 0&&(this.rate=e.rate))}}class O1e{constructor(){this.cure=!1,this.delay=0,this.enable=!1,this.infections=0,this.stages=[]}load(e){jt(e)||(e.cure!==void 0&&(this.cure=e.cure),e.delay!==void 0&&(this.delay=e.delay),e.enable!==void 0&&(this.enable=e.enable),e.infections!==void 0&&(this.infections=e.infections),e.stages!==void 0&&(this.stages=e.stages.map(t=>{const i=new R1e;return i.load(t),i})))}}const ES=0,L1e=0;class P1e{constructor(e){this._nextInfectionStage=t=>{const i=this._container.actualOptions.infection,{infection:r}=t;if(!i||!r)return;const s=i.stages.length;s<=ES||r.stage===void 0||(r.time=0,s<=++r.stage&&(i.cure?(delete r.stage,delete r.time):(r.stage=0,r.time=0)))},this._container=e}startInfection(e,t){const i=this._container.actualOptions.infection,{infection:r}=e;if(!i||!r)return;const s=i.stages,a=s.length;t>a||t<ES||(r.delay=0,r.delayStage=t)}updateInfection(e,t){const i=this._container.actualOptions.infection,{infection:r}=e;if(!i||!r)return;const s=i.stages,a=s.length;if(r.delay!==void 0&&r.delayStage!==void 0){const o=r.delayStage;if(o>a||o<ES)return;r.delay>=i.delay*js?(r.stage=o,r.time=0,delete r.delay,delete r.delayStage):r.delay+=t}else delete r.delay,delete r.delayStage;if(r.stage!==void 0&&r.time!==void 0){const o=s[r.stage];o.duration!==void 0&&o.duration>=L1e&&r.time>o.duration*js?this._nextInfectionStage(e):r.time+=t}else delete r.stage,delete r.time}updateInfectionStage(e,t){const i=this._container.actualOptions,{infection:r}=e;if(!i.infection||!r)return;const s=i.infection.stages.length;t>s||t<ES||r.stage!==void 0&&r.stage>t||(r.stage=t,r.time=0)}}const I1e=0;class D1e{constructor(e){this._container=e,this._container.infecter=new P1e(this._container)}particleFillColor(e){const t=this._container.actualOptions;if(!e.infection||!t.infection)return;const i=e.infection.stage,r=t.infection,s=r.stages;return i!==void 0?s[i].color:void 0}particleStrokeColor(e){return this.particleFillColor(e)}particlesSetup(){const e=this._container.actualOptions;if(e.infection)for(let t=0;t<e.infection.infections;t++){const i=this._container.particles.filter(s=>{const a=s;return a.infection||(a.infection={}),a.infection.stage===void 0}),r=Hd(i);this._container.infecter?.startInfection(r,I1e)}}}class N1e{constructor(){this.id="infection"}getPlugin(e){return Promise.resolve(new D1e(e))}loadOptions(e,t){if(!this.needsPlugin(e)&&!this.needsPlugin(t))return;let i=e.infection;i?.load===void 0&&(e.infection=i=new O1e),i.load(t?.infection)}needsPlugin(e){return e?.infection?.enable??!1}}const F1e=1,U1e=2;class k1e extends xy{constructor(e){super(e)}clear(){}init(){}interact(e,t){const i=this.container.infecter;if(!i||(i.updateInfection(e,t.value),e.infection?.stage===void 0))return;const r=this.container,s=r.actualOptions,a=s.infection;if(!a?.enable||a.stages.length<F1e)return;const o=a.stages[e.infection.stage],l=r.retina.pixelRatio,c=e.getRadius()*U1e+o.radius*l,f=e.getPosition(),h=o.infectedStage??e.infection.stage,v=r.particles.quadTree.queryCircle(f,c),m=o.rate,_=v.length;for(const g of v){const y=g;if(!(y===e||y.destroyed||y.spawning||!(y.infection?.stage===void 0||y.infection.stage!==e.infection.stage)||Yn()>=m/_)){if(y.infection?.stage===void 0)i.startInfection(y,h);else if(y.infection.stage<e.infection.stage)i.updateInfectionStage(y,h);else if(y.infection.stage>e.infection.stage){const b=a.stages[y.infection.stage]?.infectedStage??y.infection.stage;i.updateInfectionStage(e,b)}}}}isEnabled(){return this.container.actualOptions?.infection?.enable??!1}reset(){}}async function B1e(n,e=!0){n.checkVersion("3.9.1");const t=new N1e;await n.addPlugin(t,e),await n.addInteractor("particlesInfection",i=>Promise.resolve(new k1e(i)),e)}const If={x:0,y:0},z1e=.55;function G1e(n){const{context:e,radius:t}=n,i=t*z1e;e.moveTo(If.x,If.y),e.bezierCurveTo(i,-t,i,t,If.x,If.y),e.moveTo(If.x,If.y),e.bezierCurveTo(-i,-t,If.x-i,t,If.x,If.y)}class H1e{constructor(){this.validTypes=["infinity"]}draw(e){G1e(e)}}async function $1e(n,e=!0){n.checkVersion("3.9.1"),await n.addShape(new H1e,e)}const tF={max:1,min:0},V1e=.5,W1e=2,nF=Math.PI*V1e,Rz=Math.PI*W1e,j1e=.25,X1e=Math.PI*j1e,iF=0,Oz="light";function q1e(n,e,t){const i=n.actualOptions.interactivity.modes.light?.area;if(!i)return;e.beginPath(),e.arc(t.x,t.y,i.radius,iF,Rz);const r=e.createRadialGradient(t.x,t.y,iF,t.x,t.y,i.radius),s=n.canvas.mouseLight;!s?.start||!s.stop||(r.addColorStop(tF.min,Sc(s.start)),r.addColorStop(tF.max,Sc(s.stop)),e.fillStyle=r,e.fill())}function Y1e(n,e,t,i){const r=t.getPosition(),s=n.actualOptions.interactivity.modes.light?.shadow;if(!s)return;const a=t.lightShadow;if(!a)return;const o=t.getRadius(),l=t.sides,c=Rz/l,f=-t.rotation+X1e,h=1,v=[];for(let S=0;S<l;S++)v.push({x:r.x+o*Math.sin(f+c*S)*h,y:r.y+o*Math.cos(f+c*S)*h});const m=[],_=s.length;for(const S of v){const T=Math.atan2(i.y-S.y,i.x-S.x),R={x:S.x+_*Math.sin(-T-nF),y:S.y+_*Math.cos(-T-nF)};m.push({end:R,start:S})}const g=Sc(a),y=1,u=0,b=m.length-y;for(let S=b,T=0;S>=u;T=S--)e.beginPath(),e.moveTo(m[S].start.x,m[S].start.y),e.lineTo(m[T].start.x,m[T].start.y),e.lineTo(m[T].end.x,m[T].end.y),e.lineTo(m[S].end.x,m[S].end.y),e.fillStyle=g,e.fill()}class K1e{constructor(){this.start=new vs,this.stop=new vs,this.start.value="#ffffff",this.stop.value="#000000"}load(e){jt(e)||(this.start=vs.create(this.start,e.start),this.stop=vs.create(this.stop,e.stop))}}class Z1e{constructor(){this.gradient=new K1e,this.radius=1e3}load(e){jt(e)||(this.gradient.load(e.gradient),e.radius!==void 0&&(this.radius=e.radius))}}class Q1e{constructor(){this.color=new vs,this.color.value="#000000",this.length=2e3}load(e){jt(e)||(this.color=vs.create(this.color,e.color),e.length!==void 0&&(this.length=e.length))}}class J1e{constructor(){this.area=new Z1e,this.shadow=new Q1e}load(e){jt(e)||(this.area.load(e.area),this.shadow.load(e.shadow))}}class ebe extends Kc{constructor(e,t){super(e),this._engine=t}clear(){}init(){}interact(){const e=this.container,t=e.actualOptions,i=e.interactivity;if(!t.interactivity.events.onHover.enable||i.status!=="pointermove")return;const r=i.mouse.position;r&&e.canvas.draw(s=>{q1e(e,s,r)})}isEnabled(e){const t=this.container,i=t.interactivity.mouse,r=e?.interactivity??t.actualOptions.interactivity,s=r.events;if(!(s.onHover.enable&&i.position))return!1;const a=Rs(Oz,s.onHover.mode);if(a&&r.modes.light){const o=r.modes.light.area.gradient;t.canvas.mouseLight={start:Al(this._engine,o.start),stop:Al(this._engine,o.stop)}}return a}loadModeOptions(e,...t){e.light||(e.light=new J1e);for(const i of t)e.light.load(i?.light)}reset(){}}class tbe extends xy{constructor(e,t){super(e),this._engine=t}clear(){}init(){}interact(e){const t=this.container,i=t.actualOptions,r=t.interactivity;if(!i.interactivity.events.onHover.enable||r.status!=="pointermove")return;const s=r.mouse.position;s&&t.canvas.draw(a=>{Y1e(t,a,e,s)})}isEnabled(e){const t=this.container,i=e.interactivity??t.actualOptions.interactivity,r=t.interactivity.mouse,s=i.events;if(!(s.onHover.enable&&r.position))return!1;const a=Rs(Oz,s.onHover.mode);if(a&&i.modes.light){const o=i.modes.light.shadow;e.lightShadow=Al(this._engine,o.color)}return a}reset(){}}async function nbe(n,e=!0){n.checkVersion("3.9.1"),await n.addInteractor("externalLight",t=>Promise.resolve(new ebe(t,n)),e),await n.addInteractor("particlesLight",t=>Promise.resolve(new tbe(t,n)),e)}class ibe{constructor(){this.factor=4,this.value=!0}load(e){jt(e)||(e.factor!==void 0&&(this.factor=e.factor),e.value!==void 0&&(this.value=e.value))}}class rbe{constructor(){this.disable=!0,this.reduce=new ibe}load(e){jt(e)||(e.disable!==void 0&&(this.disable=e.disable),this.reduce.load(e.reduce))}}const rF=1,sbe=1,abe=0,obe=1;class lbe{constructor(e,t){this._handleMotionChange=i=>{const r=this._container,s=r.actualOptions.motion;s&&(i.matches?s.disable?r.retina.reduceFactor=abe:r.retina.reduceFactor=s.reduce.value?obe/s.reduce.factor:rF:r.retina.reduceFactor=sbe)},this._container=e,this._engine=t}async init(){const e=this._container,t=e.actualOptions.motion;if(!(t&&(t.disable||t.reduce.value))){e.retina.reduceFactor=1;return}const i=SO("(prefers-reduced-motion: reduce)");if(!i){e.retina.reduceFactor=rF;return}this._handleMotionChange(i);const r=()=>{(async()=>{this._handleMotionChange(i);try{await e.refresh()}catch{}})()};i.addEventListener!==void 0?i.addEventListener("change",r):i.addListener!==void 0&&i.addListener(r),await Promise.resolve()}}class cbe{constructor(e){this.id="motion",this._engine=e}getPlugin(e){return Promise.resolve(new lbe(e,this._engine))}loadOptions(e,t){if(!this.needsPlugin())return;let i=e.motion;i?.load||(e.motion=i=new rbe),i.load(t?.motion)}needsPlugin(){return!0}}async function ube(n,e=!0){n.checkVersion("3.9.1"),await n.addPlugin(new cbe(n),e)}const hbe=new Map([["aliceblue",{r:240,g:248,b:255}],["antiquewhite",{r:250,g:235,b:215}],["aqua",{r:0,g:255,b:255}],["aquamarine",{r:127,g:255,b:212}],["azure",{r:240,g:255,b:255}],["beige",{r:245,g:245,b:220}],["bisque",{r:255,g:228,b:196}],["black",{r:0,g:0,b:0}],["blanchedalmond",{r:255,g:235,b:205}],["blue",{r:0,g:0,b:255}],["blueviolet",{r:138,g:43,b:226}],["brown",{r:165,g:42,b:42}],["burlywood",{r:222,g:184,b:135}],["cadetblue",{r:95,g:158,b:160}],["chartreuse",{r:127,g:255,b:0}],["chocolate",{r:210,g:105,b:30}],["coral",{r:255,g:127,b:80}],["cornflowerblue",{r:100,g:149,b:237}],["cornsilk",{r:255,g:248,b:220}],["crimson",{r:220,g:20,b:60}],["cyan",{r:0,g:255,b:255}],["darkblue",{r:0,g:0,b:139}],["darkcyan",{r:0,g:139,b:139}],["darkgoldenrod",{r:184,g:134,b:11}],["darkgray",{r:169,g:169,b:169}],["darkgreen",{r:0,g:100,b:0}],["darkgrey",{r:169,g:169,b:169}],["darkkhaki",{r:189,g:183,b:107}],["darkmagenta",{r:139,g:0,b:139}],["darkolivegreen",{r:85,g:107,b:47}],["darkorange",{r:255,g:140,b:0}],["darkorchid",{r:153,g:50,b:204}],["darkred",{r:139,g:0,b:0}],["darksalmon",{r:233,g:150,b:122}],["darkseagreen",{r:143,g:188,b:143}],["darkslateblue",{r:72,g:61,b:139}],["darkslategray",{r:47,g:79,b:79}],["darkslategrey",{r:47,g:79,b:79}],["darkturquoise",{r:0,g:206,b:209}],["darkviolet",{r:148,g:0,b:211}],["deeppink",{r:255,g:20,b:147}],["deepskyblue",{r:0,g:191,b:255}],["dimgray",{r:105,g:105,b:105}],["dimgrey",{r:105,g:105,b:105}],["dodgerblue",{r:30,g:144,b:255}],["firebrick",{r:178,g:34,b:34}],["floralwhite",{r:255,g:250,b:240}],["forestgreen",{r:34,g:139,b:34}],["fuchsia",{r:255,g:0,b:255}],["gainsboro",{r:220,g:220,b:220}],["ghostwhite",{r:248,g:248,b:255}],["gold",{r:255,g:215,b:0}],["goldenrod",{r:218,g:165,b:32}],["gray",{r:128,g:128,b:128}],["green",{r:0,g:128,b:0}],["greenyellow",{r:173,g:255,b:47}],["grey",{r:128,g:128,b:128}],["honeydew",{r:240,g:255,b:240}],["hotpink",{r:255,g:105,b:180}],["indianred",{r:205,g:92,b:92}],["indigo",{r:75,g:0,b:130}],["ivory",{r:255,g:255,b:240}],["khaki",{r:240,g:230,b:140}],["lavender",{r:230,g:230,b:250}],["lavenderblush",{r:255,g:240,b:245}],["lawngreen",{r:124,g:252,b:0}],["lemonchiffon",{r:255,g:250,b:205}],["lightblue",{r:173,g:216,b:230}],["lightcoral",{r:240,g:128,b:128}],["lightcyan",{r:224,g:255,b:255}],["lightgoldenrodyellow",{r:250,g:250,b:210}],["lightgray",{r:211,g:211,b:211}],["lightgreen",{r:144,g:238,b:144}],["lightgrey",{r:211,g:211,b:211}],["lightpink",{r:255,g:182,b:193}],["lightsalmon",{r:255,g:160,b:122}],["lightseagreen",{r:32,g:178,b:170}],["lightskyblue",{r:135,g:206,b:250}],["lightslategray",{r:119,g:136,b:153}],["lightslategrey",{r:119,g:136,b:153}],["lightsteelblue",{r:176,g:196,b:222}],["lightyellow",{r:255,g:255,b:224}],["lime",{r:0,g:255,b:0}],["limegreen",{r:50,g:205,b:50}],["linen",{r:250,g:240,b:230}],["magenta",{r:255,g:0,b:255}],["maroon",{r:128,g:0,b:0}],["mediumaquamarine",{r:102,g:205,b:170}],["mediumblue",{r:0,g:0,b:205}],["mediumorchid",{r:186,g:85,b:211}],["mediumpurple",{r:147,g:112,b:219}],["mediumseagreen",{r:60,g:179,b:113}],["mediumslateblue",{r:123,g:104,b:238}],["mediumspringgreen",{r:0,g:250,b:154}],["mediumturquoise",{r:72,g:209,b:204}],["mediumvioletred",{r:199,g:21,b:133}],["midnightblue",{r:25,g:25,b:112}],["mintcream",{r:245,g:255,b:250}],["mistyrose",{r:255,g:228,b:225}],["moccasin",{r:255,g:228,b:181}],["navajowhite",{r:255,g:222,b:173}],["navy",{r:0,g:0,b:128}],["oldlace",{r:253,g:245,b:230}],["olive",{r:128,g:128,b:0}],["olivedrab",{r:107,g:142,b:35}],["orange",{r:255,g:165,b:0}],["orangered",{r:255,g:69,b:0}],["orchid",{r:218,g:112,b:214}],["palegoldenrod",{r:238,g:232,b:170}],["palegreen",{r:152,g:251,b:152}],["paleturquoise",{r:175,g:238,b:238}],["palevioletred",{r:219,g:112,b:147}],["papayawhip",{r:255,g:239,b:213}],["peachpuff",{r:255,g:218,b:185}],["peru",{r:205,g:133,b:63}],["pink",{r:255,g:192,b:203}],["plum",{r:221,g:160,b:221}],["powderblue",{r:176,g:224,b:230}],["purple",{r:128,g:0,b:128}],["rebeccapurple",{r:102,g:51,b:153}],["red",{r:255,g:0,b:0}],["rosybrown",{r:188,g:143,b:143}],["royalblue",{r:65,g:105,b:225}],["saddlebrown",{r:139,g:69,b:19}],["salmon",{r:250,g:128,b:114}],["sandybrown",{r:244,g:164,b:96}],["seagreen",{r:46,g:139,b:87}],["seashell",{r:255,g:245,b:238}],["sienna",{r:160,g:82,b:45}],["silver",{r:192,g:192,b:192}],["skyblue",{r:135,g:206,b:235}],["slateblue",{r:106,g:90,b:205}],["slategray",{r:112,g:128,b:144}],["slategrey",{r:112,g:128,b:144}],["snow",{r:255,g:250,b:250}],["springgreen",{r:0,g:255,b:127}],["steelblue",{r:70,g:130,b:180}],["tan",{r:210,g:180,b:140}],["teal",{r:0,g:128,b:128}],["thistle",{r:216,g:191,b:216}],["tomato",{r:255,g:99,b:71}],["turquoise",{r:64,g:224,b:208}],["violet",{r:238,g:130,b:238}],["wheat",{r:245,g:222,b:179}],["white",{r:255,g:255,b:255}],["whitesmoke",{r:245,g:245,b:245}],["yellow",{r:255,g:255,b:0}],["yellowgreen",{r:154,g:205,b:50}]]);class dbe{constructor(){this.key="named",this.stringPrefix=""}handleColor(e){return this._parseString(e.value)}handleRangeColor(e){return this._parseString(e.value)}parseString(e){return this._parseString(e)}_parseString(e){if(!e||typeof e!="string")return;const t=hbe.get(e.toLowerCase());if(!t){tp().error("Color not found",e);return}return{...t,a:255}}}async function fbe(n,e=!0){n.checkVersion("3.9.1"),await n.addColorManager(new dbe,e)}const H0=255,Lz=360;function MR(n){const e=n.l/Ir,t=n.c,i=n.h/Lz,r={r:0,g:0,b:0};return r.r=Math.floor(e*H0),r.g=Math.floor(t*H0),r.b=Math.floor(i*H0),r}function pbe(n){return{a:n.a,...MR(n)}}function RR(n){const e=n.l/Ir,t=n.c/Ir,i=n.h/Lz,r={r:0,g:0,b:0};return r.r=Math.floor(e*H0),r.g=Math.floor(t*H0),r.b=Math.floor(i*H0),r}function mbe(n){return{a:n.a,...RR(n)}}class gbe{constructor(){this.key="lch",this.stringPrefix="lch"}handleColor(e){const t=e.value,i=t.lch??e.value;if(i.l!==void 0&&i.c!==void 0&&i.h!==void 0)return MR(i)}handleRangeColor(e){const t=e.value,i=t.lch??e.value;if(i.l!==void 0&&i.c!==void 0&&i.h!==void 0)return MR({l:cn(i.l),c:cn(i.c),h:cn(i.h)})}parseString(e){if(!e.startsWith("lch"))return;const i=/lch\(\s*(\d+(\.\d+)?)%\s+(\d+(\.\d+)?)\s+(\d+(\.\d+)?)(?:\s*\/\s*(0|1|0?\.\d+|\d{1,3}%))?\s*\)/i,r=i.exec(e),s={l:1,c:3,h:5,a:7};return r?pbe({a:r[s.a]?ob(r[s.a]):1,c:parseFloat(r[s.c]),h:parseFloat(r[s.h]),l:parseFloat(r[s.l])}):void 0}}class vbe{constructor(){this.key="oklch",this.stringPrefix="oklch"}handleColor(e){const t=e.value,i=t.oklch??e.value;if(i.l!==void 0&&i.c!==void 0&&i.h!==void 0)return RR(i)}handleRangeColor(e){const t=e.value,i=t.oklch??e.value;if(i.l!==void 0&&i.c!==void 0&&i.h!==void 0)return RR({l:cn(i.l),c:cn(i.c),h:cn(i.h)})}parseString(e){if(!e.startsWith("oklch"))return;const i=/oklch\(\s*(\d+(\.\d+)?)%\s+(\d+(\.\d+)?)\s+(\d+(\.\d+)?)(Â°)?(?:\s*\/\s*(0|1|0?\.\d+|\d{1,3}%))?\s*\)/i,r=i.exec(e),s={l:1,c:3,h:5,a:7};return r?mbe({a:r[s.a]?ob(r[s.a]):1,c:parseFloat(r[s.c]),h:parseFloat(r[s.h]),l:parseFloat(r[s.l])}):void 0}}async function ybe(n,e=!0){n.checkVersion("3.9.1"),await n.addColorManager(new vbe,e),await n.addColorManager(new gbe,e)}class _be extends wu{constructor(){super(),this.value=45}load(e){jt(e)||super.load(e)}}class bbe{constructor(){this.animation=new PC,this.enable=!1,this.opacity=1,this.rotation=new _be,this.width=1}load(e){jt(e)||(this.animation.load(e.animation),this.rotation.load(e.rotation),e.enable!==void 0&&(this.enable=e.enable),e.opacity!==void 0&&(this.opacity=oi(e.opacity)),e.width!==void 0&&(this.width=oi(e.width)),e.radius!==void 0&&(this.radius=oi(e.radius)),e.color!==void 0&&(this.color=vs.create(this.color,e.color)))}}var L0;(function(n){n.front="front",n.back="back"})(L0||(L0={}));const xbe=0,Sbe=.5,wbe=2;function Ebe(n,e,t,i,r,s,a,o,l){if(s<=xbe)return;const c=e.getPosition();t&&(n.strokeStyle=vm(t,r)),n.lineWidth=s;const f=$h(a);n.beginPath(),n.ellipse(c.x,c.y,i*Sbe,i*wbe,f,o,l),n.stroke()}const Cbe=2,Tbe=.5,sF=Math.PI*Cbe,aF=0,OR=Math.PI*Tbe,oF=Math.PI+OR,Abe=0,Mbe=1,Rbe=1,lF=0;class Obe{constructor(e,t){this._engine=t,this._container=e}afterDraw(e){e.options.orbit?.enable&&this.drawOrbit(e,L0.front)}beforeDraw(e){e.options.orbit?.enable&&this.drawOrbit(e,L0.back)}drawOrbit(e,t){const i=this._container;let r,s;switch(t){case L0.back:r=OR,s=oF;break;case L0.front:r=oF,s=OR;break;default:r=Abe,s=sF}i.canvas.draw(a=>{Ebe(a,e,e.orbitColor??e.getFillColor(),e.retina.orbitRadius??i.retina.orbitRadius??e.getRadius(),e.orbitOpacity??Mbe,e.orbitWidth??Rbe,(e.orbitRotation??lF)*i.retina.pixelRatio,r,s)})}init(e){const t=this._container,i=e.options,r=i.orbit;r?.enable&&(e.orbitRotation=cn(r.rotation.value),e.orbitColor=$d(this._engine,r.color),e.retina.orbitRadius=r.radius!==void 0?cn(r.radius)*t.retina.pixelRatio:void 0,t.retina.orbitRadius=e.retina.orbitRadius,e.orbitAnimationSpeed=r.animation.enable?cn(r.animation.speed):aF,e.orbitWidth=cn(r.width),e.orbitOpacity=cn(r.opacity))}isEnabled(e){const t=e.options.orbit?.animation;return!e.destroyed&&!e.spawning&&!!t?.enable}loadOptions(e,...t){e.orbit||(e.orbit=new bbe);for(const i of t)e.orbit.load(i?.orbit)}update(e,t){this.isEnabled(e)&&(e.orbitRotation===void 0&&(e.orbitRotation=lF),e.orbitRotation+=(e.orbitAnimationSpeed??aF/sF)*t.factor)}}async function Lbe(n,e=!0){n.checkVersion("3.9.1"),await n.addParticleUpdater("orbit",t=>Promise.resolve(new Obe(t,n)),e)}class Pbe extends wu{constructor(){super(),this.enabled=!1,this.distance=1,this.duration=1,this.factor=1,this.speed=1}load(e){super.load(e),!jt(e)&&(e.enabled!==void 0&&(this.enabled=e.enabled),e.distance!==void 0&&(this.distance=oi(e.distance)),e.duration!==void 0&&(this.duration=oi(e.duration)),e.factor!==void 0&&(this.factor=oi(e.factor)),e.speed!==void 0&&(this.speed=oi(e.speed)))}}const Ibe=0,Dbe=1,Nbe=2,Fbe=0;class Ube extends xy{constructor(e){super(e)}clear(){}init(){}interact(e){const t=this.container;if(!e.repulse){const s=e.options.repulse;if(!s)return;e.repulse={distance:cn(s.distance)*t.retina.pixelRatio,speed:cn(s.speed),factor:cn(s.factor)}}const i=e.getPosition(),r=t.particles.quadTree.queryCircle(i,e.repulse.distance);for(const s of r){if(e===s||s.destroyed)continue;const a=s.getPosition(),{dx:o,dy:l,distance:c}=_o(a,i),f=e.repulse.speed*e.repulse.factor;if(c>Ibe){const h=qc((Dbe-Math.pow(c/e.repulse.distance,Nbe))*f,Fbe,f),v=Er.create(o/c*h,l/c*h);s.position.addTo(v)}else{const h=Er.create(f,f);s.position.addTo(h)}}}isEnabled(e){return e.options.repulse?.enabled??!1}loadParticlesOptions(e,...t){e.repulse||(e.repulse=new Pbe);for(const i of t)e.repulse.load(i?.repulse)}reset(){}}async function kbe(n,e=!0){n.checkVersion("3.9.1"),await n.addInteractor("particlesRepulse",t=>Promise.resolve(new Ube(t)),e)}var Zu;(function(n){n.line="line",n.bezier="bezier",n.quadratic="quadratic",n.arc="arc",n.ellipse="ellipse"})(Zu||(Zu={}));function Bbe(n,e,t){const r=t.segments[0],s=r.values[0];n.moveTo(s.x*e,s.y*e);for(const l of t.segments){const c=l.values[0],f=1,h=2,v=3;switch(l.type){case Zu.line:n.lineTo(c.x*e,c.y*e);break;case Zu.bezier:n.bezierCurveTo(l.values[f].x*e,l.values[f].y*e,l.values[h].x*e,l.values[h].y*e,l.values[v].x*e,l.values[v].y*e);break;case Zu.quadratic:n.quadraticCurveTo(l.values[f].x*e,l.values[f].y*e,l.values[h].x*e,l.values[h].y*e);break;case Zu.arc:n.arc(c.x*e,c.y*e,l.values[f].x*e,l.values[h].x,l.values[h].y);break;case Zu.ellipse:n.ellipse(c.x*e,c.y*e,l.values[f].x*e,l.values[f].y*e,l.values[h].x,l.values[v].x,l.values[v].y)}}if(!t.half)return;const a=1,o=0;for(let l=t.segments.length-a;l>=o;l--){const c=t.segments[l],f=c.values[0],h=1,v=2;switch(c.type){case Zu.line:n.lineTo(f.x*-e,f.y*e);break;case Zu.bezier:n.bezierCurveTo(-c.values[v].x*e,c.values[v].y*e,-c.values[h].x*e,c.values[h].y*e,f.x*e,f.y*e);break;case Zu.quadratic:n.quadraticCurveTo(-c.values[h].x*e,c.values[h].y*e,-c.values[v].x*e,c.values[v].y*e);break;case Zu.arc:case Zu.ellipse:}}}class zbe{constructor(){this.validTypes=["path"]}draw(e){const{context:t,particle:i,radius:r}=e;i.pathData&&Bbe(t,r,i.pathData)}particleInit(e,t){const i=t.shapeData;i&&(t.pathData=ys({},i))}}async function Gbe(n,e=!0){n.checkVersion("3.9.1"),await n.addShape(new zbe,e)}class gs{constructor(e,t,i,r){this.x=e,this.y=t,this.z=i,this.w=r}dot2(e,t){return this.x*e+this.y*t}dot3(e,t,i){return this.dot2(e,t)+this.z*i}dot4(e,t,i,r){return this.dot3(e,t,i)+this.w*r}}class Hbe{constructor(){this._grad4=[new gs(0,1,1,1),new gs(0,1,1,-1),new gs(0,1,-1,1),new gs(0,1,-1,-1),new gs(0,-1,1,1),new gs(0,-1,1,-1),new gs(0,-1,-1,1),new gs(0,-1,-1,-1),new gs(1,0,1,1),new gs(1,0,1,-1),new gs(1,0,-1,1),new gs(1,0,-1,-1),new gs(-1,0,1,1),new gs(-1,0,1,-1),new gs(-1,0,-1,1),new gs(-1,0,-1,-1),new gs(1,1,0,1),new gs(1,1,0,-1),new gs(1,-1,0,1),new gs(1,-1,0,-1),new gs(-1,1,0,1),new gs(-1,1,0,-1),new gs(-1,-1,0,1),new gs(-1,-1,0,-1),new gs(1,1,1,0),new gs(1,1,-1,0),new gs(1,-1,1,0),new gs(1,-1,-1,0),new gs(-1,1,1,0),new gs(-1,1,-1,0),new gs(-1,-1,1,0),new gs(-1,-1,-1,0)],this._p=[151,160,137,91,90,15,131,13,201,95,96,53,194,233,7,225,140,36,103,30,69,142,8,99,37,240,21,10,23,190,6,148,247,120,234,75,0,26,197,62,94,252,219,203,117,35,11,32,57,177,33,88,237,149,56,87,174,20,125,136,171,168,68,175,74,165,71,134,139,48,27,166,77,146,158,231,83,111,229,122,60,211,133,230,220,105,92,41,55,46,245,40,244,102,143,54,65,25,63,161,1,216,80,73,209,76,132,187,208,89,18,169,200,196,135,130,116,188,159,86,164,100,109,198,173,186,3,64,52,217,226,250,124,123,5,202,38,147,118,126,255,82,85,212,207,206,59,227,47,16,58,17,182,189,28,42,223,183,170,213,119,248,152,2,44,154,163,70,221,153,101,155,167,43,172,9,129,22,39,253,19,98,108,110,79,113,224,232,178,185,112,104,218,246,97,228,251,34,242,193,238,210,144,12,191,179,162,241,81,51,145,235,249,14,239,107,49,192,214,31,181,199,106,157,184,84,204,176,115,121,50,45,127,4,150,254,138,236,205,93,222,114,67,29,24,72,243,141,128,195,78,66,215,61,156,180],this._gradP=new Array(512),this._perm=new Array(512)}noise2d(e,t){const{_gradP:i,_perm:r}=this;let s=Math.floor(e),a=Math.floor(t);e-=s,t-=a,s&=255,a&=255;const o=i[s+r[a]].dot2(e,t),l=i[s+r[a+1]].dot2(e,t-1),c=i[s+1+r[a]].dot2(e-1,t),f=i[s+1+r[a+1]].dot2(e-1,t-1),h=this._fade(e);return this._lerp(this._lerp(o,c,h),this._lerp(l,f,h),this._fade(t))}noise3d(e,t,i){const{_gradP:r,_perm:s}=this;let a=Math.floor(e),o=Math.floor(t),l=Math.floor(i);e=e-a,t=t-o,i=i-l,a=a&255,o=o&255,l=l&255;const c=r[a+s[o+s[l]]].dot3(e,t,i),f=r[a+s[o+s[l+1]]].dot3(e,t,i-1),h=r[a+s[o+1+s[l]]].dot3(e,t-1,i),v=r[a+s[o+1+s[l+1]]].dot3(e,t-1,i-1),m=r[a+1+s[o+s[l]]].dot3(e-1,t,i),_=r[a+1+s[o+s[l+1]]].dot3(e-1,t,i-1),g=r[a+1+s[o+1+s[l]]].dot3(e-1,t-1,i),y=r[a+1+s[o+1+s[l+1]]].dot3(e-1,t-1,i-1),u=this._fade(e),b=this._fade(t),S=this._fade(i);return this._lerp(this._lerp(this._lerp(c,m,u),this._lerp(f,_,u),S),this._lerp(this._lerp(h,g,u),this._lerp(v,y,u),S),b)}noise4d(e,t,i,r){const{_gradP:s,_perm:a}=this;let o=Math.floor(e),l=Math.floor(t),c=Math.floor(i),f=Math.floor(r);e-=o,t-=l,i-=c,r-=f,o&=255,l&=255,c&=255,f&=255;const h=this._fade(e),v=this._fade(t),m=this._fade(i),_=this._fade(r),g=(We,ht,ft,Bt)=>s[o+We+a[l+ht+a[c+ft+a[f+Bt]]]],y=g(0,0,0,0).dot4(e,t,i,r),u=g(0,0,0,1).dot4(e,t,i,r-1),b=g(0,0,1,0).dot4(e,t,i-1,r),S=g(0,0,1,1).dot4(e,t,i-1,r-1),T=g(0,1,0,0).dot4(e,t-1,i,r),R=g(0,1,0,1).dot4(e,t-1,i,r-1),O=g(0,1,1,0).dot4(e,t-1,i-1,r),C=g(0,1,1,1).dot4(e,t-1,i-1,r-1),I=g(1,0,0,0).dot4(e-1,t,i,r),F=g(1,0,0,1).dot4(e-1,t,i,r-1),M=g(1,0,1,0).dot4(e-1,t,i-1,r),D=g(1,0,1,1).dot4(e-1,t,i-1,r-1),B=g(1,1,0,0).dot4(e-1,t-1,i,r),j=g(1,1,0,1).dot4(e-1,t-1,i,r-1),U=g(1,1,1,0).dot4(e-1,t-1,i-1,r),V=g(1,1,1,1).dot4(e-1,t-1,i-1,r-1),k=this._lerp(y,I,h),Z=this._lerp(u,F,h),ee=this._lerp(b,M,h),oe=this._lerp(S,D,h),ne=this._lerp(k,ee,m),ie=this._lerp(Z,oe,m),he=this._lerp(T,B,h),fe=this._lerp(R,j,h),ce=this._lerp(O,U,h),ae=this._lerp(C,V,h),ve=this._lerp(he,ce,m),_e=this._lerp(fe,ae,m),Te=this._lerp(ne,ve,v),Fe=this._lerp(ie,_e,v);return this._lerp(Te,Fe,_)}seed(e){const{_grad4:t,_gradP:i,_perm:r,_p:s}=this;let a=e;a>0&&a<1&&(a*=65536),a=Math.floor(a),a<256&&(a|=a<<8);const o=t.length;for(let l=0;l<256;l++){const c=l&1?s[l]^a&255:s[l]^a>>8&255;r[l]=r[l+256]=c,i[l]=i[l+256]=t[c%o]}}_fade(e){return e*e*e*(e*(e*6-15)+10)}_lerp(e,t,i){return(1-i)*e+i*t}}const $be=2,Vbe=Math.PI*$be,Kp={draw:!1,size:20,increment:.004,columns:0,rows:0,layers:0,width:0,height:0,factor:{angle:.02,length:.01},offset:{x:4e4,y:4e4,z:4e4}};class Wbe{constructor(){this.noiseGen=new Hbe,this.field=[],this.noiseW=0,this.options=ys({},Kp)}generate(e){const t=e.getPosition(),{size:i}=this.options,r={x:Math.max(Math.floor(t.x/i),0),y:Math.max(Math.floor(t.y/i),0),z:Math.max(Math.floor(t.z/i),0)},s=Er.origin,{field:a}=this;return a?.[r.x]?.[r.y]?.[r.z]?a[r.x][r.y][r.z].copy():s}init(e){this.container=e,this._setup()}reset(){}update(){this.container&&(this._calculateField(),this.noiseW+=this.options.increment,this.options.draw&&this.container.canvas.draw(e=>this._drawField(e)))}_calculateField(){const{field:e,noiseGen:t,options:i,noiseW:r}=this,s=i.factor.length,a=i.factor.angle;for(let o=0;o<i.columns;o++)for(let l=0;l<i.rows;l++)for(let c=0;c<i.layers;c++){const f=e[o][l][c];f.length=t.noise4d(o*s+i.offset.x,l*s+i.offset.y,c*s+i.offset.z,r),f.angle=t.noise4d(o*a,l*a,c*a,r)*Vbe}}_drawField(e){const{field:t,options:i}=this;for(let r=0;r<i.columns;r++){const s=t[r];for(let a=0;a<i.rows;a++){const o=s[a][0],{angle:l,length:c}=o;e.setTransform(1,0,0,1,r*this.options.size,a*this.options.size),e.rotate(l),e.strokeStyle="white",e.beginPath(),e.moveTo(0,0),e.lineTo(0,this.options.size*c),e.stroke(),e.setTransform(1,0,0,1,0,0)}}}_initField(){const{columns:e,rows:t,layers:i}=this.options;this.field=new Array(e);for(let r=0;r<e;r++){this.field[r]=new Array(t);for(let s=0;s<t;s++){this.field[r][s]=new Array(i);for(let a=0;a<i;a++)this.field[r][s][a]=Er.origin}}}_resetField(){const e=this.container;if(!e)return;const t=e.actualOptions.particles.move.path.options,{options:i}=this;i.width=e.canvas.size.width,i.height=e.canvas.size.height,i.size=t.size>0?t.size:Kp.size,i.increment=t.increment>0?t.increment:Kp.increment,i.draw=!!t.draw;const r=t.offset;i.offset.x=r?.x??Kp.offset.x,i.offset.y=r?.y??Kp.offset.y,i.offset.z=r?.z??Kp.offset.z;const s=t.factor;i.factor.angle=s?.angle??Kp.factor.angle,i.factor.length=s?.length??Kp.factor.length,i.seed=t.seed,this.noiseGen.seed(i.seed??Yn()),i.columns=Math.floor(i.width/i.size)+1,i.rows=Math.floor(i.height/i.size)+1,i.layers=Math.floor(e.zLayers/i.size)+1,this._initField()}_setup(){this.noiseW=0,this._resetField(),addEventListener("resize",()=>this._resetField())}}const jbe="perlinNoise";async function Xbe(n,e=!0){n.checkVersion("3.9.1"),await n.addPathGenerator(jbe,new Wbe,e)}class qbe{constructor(){this.enable=!1,this.dimensions=2,this.radius=0,this.retries=30,this.steps=0}load(e){jt(e)||(e.enable!==void 0&&(this.enable=e.enable),e.dimensions!==void 0&&(this.dimensions=e.dimensions),e.radius!==void 0&&(this.radius=e.radius),e.retries!==void 0&&(this.retries=e.retries))}}const Pz=2,Ybe=Math.PI*Pz;class Kbe{constructor(e,t,i,r,s){this.size={...e},this.radius=t,this.retries=i,this.dimensions=r,this.cellSize=Math.floor(this.radius/Math.sqrt(this.dimensions)),this.cols=Math.floor(this.size.width/this.cellSize),this.rows=Math.floor(this.size.height/this.cellSize),this.points=[],this.active=[],this.grid=[],this.firstPoint=s?{...s}:void 0,this.reset()}addPoint(e){const t={position:{...e},gridPosition:{x:Math.floor(e.x/this.cellSize),y:Math.floor(e.y/this.cellSize)}},i=this.points.length;this.points.push(t),this.grid[t.gridPosition.y][t.gridPosition.x]=i,this.active.push(i)}getRandom(e,t){return Math.floor(Yn()*(t-e))+e}initialiseGrid(){for(let e=0;e<=this.rows;e++){this.grid[e]=[];for(let t=0;t<=this.cols;t++)this.grid[e][t]=-1}}reset(){this.points=[],this.active=[],this.grid=[],this.initialiseGrid(),this.firstPoint?this.addPoint(this.firstPoint):this.addPoint({x:this.getRandom(0,this.size.width),y:this.getRandom(0,this.size.height)})}async run(){this.reset();const e=0,t=1;for(;this.active.length>e;)await this.steps(t)}async steps(e){for(let i=0;i<e;i++)this.active.length<=0||await this._step()}_getNewPoint(e,t){const a=t*(Ybe/this.retries),o=this.getRandom(this.radius,this.radius*Pz),l={x:Math.cos(a)*o,y:Math.sin(a)*o},c={x:Math.floor(e.position.x+l.x),y:Math.floor(e.position.y+l.y)},f={x:Math.floor(c.x/this.cellSize),y:Math.floor(c.y/this.cellSize)};if(c.x>0&&c.x<this.size.width&&c.y>0&&c.y<this.size.height)if(this.grid[f.y][f.x]<0)for(let h=-1;h<=1;h++)for(let v=-1;v<=1;v++){const m={x:f.x+v,y:f.y+h};if(m.x>=0&&m.y>=0&&m.x<this.cols&&m.y<this.rows&&(m.x!==f.x||m.y!==f.y)&&this.grid[m.y][m.x]>=0){const _=this.grid[m.y][m.x],g=this.points[_];if(Tl(c,g.position)<this.radius)return}}else return;else return;return c}async _step(){const t=this.getRandom(0,this.active.length);return new Promise(i=>{let r=!1;for(let s=0;s<this.retries;s++){const a=this._getNewPoint(this.points[this.active[t]],s);if(a){r=!0,this.addPoint(a);break}}r||this.active.splice(t,1),i()})}}class Zbe{constructor(e,t){this._container=e,this._engine=t,this._currentIndex=0}async init(){await this._initData()}particlePosition(e){const t=this._container,i=t.actualOptions.poisson;if(!(!this.poissonDisc||!(i?.enable??!1)||this._currentIndex>=this.poissonDisc.points.length))return e??this.poissonDisc?.points[this._currentIndex++]?.position}resize(){const e=this._container;if(!(e.actualOptions.poisson?.enable??!1))return;this.redrawTimeout&&clearTimeout(this.redrawTimeout);const i=250;this.redrawTimeout=setTimeout(()=>{(async()=>(await this._initData(),await e.particles.redraw()))()},i)}stop(){delete this.poissonDisc}async _initData(){const e=this._container,t=e.actualOptions.poisson,i=e.actualOptions.particles,r=e.canvas.size,s=e.retina.pixelRatio;if(!t?.enable)return;this._currentIndex=0,this.poissonDisc=new Kbe(r,t.radius?t.radius*s:Math.max(vu(i.size.value)*s,Math.sqrt(r.width*r.height/i.number.value)),t.retries,t.dimensions),t.steps>0?await this.poissonDisc.steps(t.steps):await this.poissonDisc.run()}}class Qbe{constructor(e){this.id="poisson",this._engine=e}getPlugin(e){return Promise.resolve(new Zbe(e,this._engine))}loadOptions(e,t){if(!this.needsPlugin(e)&&!this.needsPlugin(t))return;let i=e.poisson;i?.load===void 0&&(e.poisson=i=new qbe),i.load(t?.poisson)}needsPlugin(e){return e?.poisson?.enable??!1}}async function Jbe(n,e=!0){n.checkVersion("3.9.1"),await n.addPlugin(new Qbe(n),e)}(function(){try{if(typeof window>"u")return;"SVGPathSeg"in window||(window.SVGPathSeg=function(n,e,t){this.pathSegType=n,this.pathSegTypeAsLetter=e,this._owningPathSegList=t},window.SVGPathSeg.prototype.classname="SVGPathSeg",window.SVGPathSeg.PATHSEG_UNKNOWN=0,window.SVGPathSeg.PATHSEG_CLOSEPATH=1,window.SVGPathSeg.PATHSEG_MOVETO_ABS=2,window.SVGPathSeg.PATHSEG_MOVETO_REL=3,window.SVGPathSeg.PATHSEG_LINETO_ABS=4,window.SVGPathSeg.PATHSEG_LINETO_REL=5,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS=6,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL=7,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS=8,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL=9,window.SVGPathSeg.PATHSEG_ARC_ABS=10,window.SVGPathSeg.PATHSEG_ARC_REL=11,window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS=12,window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL=13,window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS=14,window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL=15,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS=16,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL=17,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS=18,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL=19,window.SVGPathSeg.prototype._segmentChanged=function(){this._owningPathSegList&&this._owningPathSegList.segmentChanged(this)},window.SVGPathSegClosePath=function(n){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CLOSEPATH,"z",n)},window.SVGPathSegClosePath.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegClosePath.prototype.toString=function(){return"[object SVGPathSegClosePath]"},window.SVGPathSegClosePath.prototype._asPathString=function(){return this.pathSegTypeAsLetter},window.SVGPathSegClosePath.prototype.clone=function(){return new window.SVGPathSegClosePath(void 0)},window.SVGPathSegMovetoAbs=function(n,e,t){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_MOVETO_ABS,"M",n),this._x=e,this._y=t},window.SVGPathSegMovetoAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegMovetoAbs.prototype.toString=function(){return"[object SVGPathSegMovetoAbs]"},window.SVGPathSegMovetoAbs.prototype._asPathString=function(){return`${this.pathSegTypeAsLetter} ${this._x} ${this._y}`},window.SVGPathSegMovetoAbs.prototype.clone=function(){return new window.SVGPathSegMovetoAbs(void 0,this._x,this._y)},Object.defineProperty(window.SVGPathSegMovetoAbs.prototype,"x",{get:function(){return this._x},set:function(n){this._x=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegMovetoAbs.prototype,"y",{get:function(){return this._y},set:function(n){this._y=n,this._segmentChanged()},enumerable:!0}),window.SVGPathSegMovetoRel=function(n,e,t){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_MOVETO_REL,"m",n),this._x=e,this._y=t},window.SVGPathSegMovetoRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegMovetoRel.prototype.toString=function(){return"[object SVGPathSegMovetoRel]"},window.SVGPathSegMovetoRel.prototype._asPathString=function(){return`${this.pathSegTypeAsLetter} ${this._x} ${this._y}`},window.SVGPathSegMovetoRel.prototype.clone=function(){return new window.SVGPathSegMovetoRel(void 0,this._x,this._y)},Object.defineProperty(window.SVGPathSegMovetoRel.prototype,"x",{get:function(){return this._x},set:function(n){this._x=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegMovetoRel.prototype,"y",{get:function(){return this._y},set:function(n){this._y=n,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoAbs=function(n,e,t){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_LINETO_ABS,"L",n),this._x=e,this._y=t},window.SVGPathSegLinetoAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegLinetoAbs.prototype.toString=function(){return"[object SVGPathSegLinetoAbs]"},window.SVGPathSegLinetoAbs.prototype._asPathString=function(){return`${this.pathSegTypeAsLetter} ${this._x} ${this._y}`},window.SVGPathSegLinetoAbs.prototype.clone=function(){return new window.SVGPathSegLinetoAbs(void 0,this._x,this._y)},Object.defineProperty(window.SVGPathSegLinetoAbs.prototype,"x",{get:function(){return this._x},set:function(n){this._x=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegLinetoAbs.prototype,"y",{get:function(){return this._y},set:function(n){this._y=n,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoRel=function(n,e,t){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_LINETO_REL,"l",n),this._x=e,this._y=t},window.SVGPathSegLinetoRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegLinetoRel.prototype.toString=function(){return"[object SVGPathSegLinetoRel]"},window.SVGPathSegLinetoRel.prototype._asPathString=function(){return`${this.pathSegTypeAsLetter} ${this._x} ${this._y}`},window.SVGPathSegLinetoRel.prototype.clone=function(){return new window.SVGPathSegLinetoRel(void 0,this._x,this._y)},Object.defineProperty(window.SVGPathSegLinetoRel.prototype,"x",{get:function(){return this._x},set:function(n){this._x=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegLinetoRel.prototype,"y",{get:function(){return this._y},set:function(n){this._y=n,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoCubicAbs=function(n,e,t,i,r,s,a){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS,"C",n),this._x=e,this._y=t,this._x1=i,this._y1=r,this._x2=s,this._y2=a},window.SVGPathSegCurvetoCubicAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoCubicAbs.prototype.toString=function(){return"[object SVGPathSegCurvetoCubicAbs]"},window.SVGPathSegCurvetoCubicAbs.prototype._asPathString=function(){return`${this.pathSegTypeAsLetter}  ${this._x1} ${this._y1} ${this._x2} ${this._y2} ${this._x} ${this._y}`},window.SVGPathSegCurvetoCubicAbs.prototype.clone=function(){return new window.SVGPathSegCurvetoCubicAbs(void 0,this._x,this._y,this._x1,this._y1,this._x2,this._y2)},Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype,"x",{get:function(){return this._x},set:function(n){this._x=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype,"y",{get:function(){return this._y},set:function(n){this._y=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype,"x1",{get:function(){return this._x1},set:function(n){this._x1=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype,"y1",{get:function(){return this._y1},set:function(n){this._y1=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype,"x2",{get:function(){return this._x2},set:function(n){this._x2=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype,"y2",{get:function(){return this._y2},set:function(n){this._y2=n,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoCubicRel=function(n,e,t,i,r,s,a){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL,"c",n),this._x=e,this._y=t,this._x1=i,this._y1=r,this._x2=s,this._y2=a},window.SVGPathSegCurvetoCubicRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoCubicRel.prototype.toString=function(){return"[object SVGPathSegCurvetoCubicRel]"},window.SVGPathSegCurvetoCubicRel.prototype._asPathString=function(){return`${this.pathSegTypeAsLetter} ${this._x1} ${this._y1} ${this._x2} ${this._y2} ${this._x} ${this._y}`},window.SVGPathSegCurvetoCubicRel.prototype.clone=function(){return new window.SVGPathSegCurvetoCubicRel(void 0,this._x,this._y,this._x1,this._y1,this._x2,this._y2)},Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype,"x",{get:function(){return this._x},set:function(n){this._x=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype,"y",{get:function(){return this._y},set:function(n){this._y=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype,"x1",{get:function(){return this._x1},set:function(n){this._x1=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype,"y1",{get:function(){return this._y1},set:function(n){this._y1=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype,"x2",{get:function(){return this._x2},set:function(n){this._x2=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype,"y2",{get:function(){return this._y2},set:function(n){this._y2=n,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoQuadraticAbs=function(n,e,t,i,r){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS,"Q",n),this._x=e,this._y=t,this._x1=i,this._y1=r},window.SVGPathSegCurvetoQuadraticAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoQuadraticAbs.prototype.toString=function(){return"[object SVGPathSegCurvetoQuadraticAbs]"},window.SVGPathSegCurvetoQuadraticAbs.prototype._asPathString=function(){return`${this.pathSegTypeAsLetter} ${this._x1} ${this._y1} ${this._x} ${this._y}`},window.SVGPathSegCurvetoQuadraticAbs.prototype.clone=function(){return new window.SVGPathSegCurvetoQuadraticAbs(void 0,this._x,this._y,this._x1,this._y1)},Object.defineProperty(window.SVGPathSegCurvetoQuadraticAbs.prototype,"x",{get:function(){return this._x},set:function(n){this._x=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticAbs.prototype,"y",{get:function(){return this._y},set:function(n){this._y=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticAbs.prototype,"x1",{get:function(){return this._x1},set:function(n){this._x1=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticAbs.prototype,"y1",{get:function(){return this._y1},set:function(n){this._y1=n,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoQuadraticRel=function(n,e,t,i,r){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL,"q",n),this._x=e,this._y=t,this._x1=i,this._y1=r},window.SVGPathSegCurvetoQuadraticRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoQuadraticRel.prototype.toString=function(){return"[object SVGPathSegCurvetoQuadraticRel]"},window.SVGPathSegCurvetoQuadraticRel.prototype._asPathString=function(){return`${this.pathSegTypeAsLetter} ${this._x1} ${this._y1} ${this._x} ${this._y}`},window.SVGPathSegCurvetoQuadraticRel.prototype.clone=function(){return new window.SVGPathSegCurvetoQuadraticRel(void 0,this._x,this._y,this._x1,this._y1)},Object.defineProperty(window.SVGPathSegCurvetoQuadraticRel.prototype,"x",{get:function(){return this._x},set:function(n){this._x=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticRel.prototype,"y",{get:function(){return this._y},set:function(n){this._y=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticRel.prototype,"x1",{get:function(){return this._x1},set:function(n){this._x1=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticRel.prototype,"y1",{get:function(){return this._y1},set:function(n){this._y1=n,this._segmentChanged()},enumerable:!0}),window.SVGPathSegArcAbs=function(n,e,t,i,r,s,a,o){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_ARC_ABS,"A",n),this._x=e,this._y=t,this._r1=i,this._r2=r,this._angle=s,this._largeArcFlag=a,this._sweepFlag=o},window.SVGPathSegArcAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegArcAbs.prototype.toString=function(){return"[object SVGPathSegArcAbs]"},window.SVGPathSegArcAbs.prototype._asPathString=function(){return`${this.pathSegTypeAsLetter} ${this._r1} ${this._r2} ${this._angle} ${this._largeArcFlag?"1":"0"} ${this._sweepFlag?"1":"0"} ${this._x} ${this._y}`},window.SVGPathSegArcAbs.prototype.clone=function(){return new window.SVGPathSegArcAbs(void 0,this._x,this._y,this._r1,this._r2,this._angle,this._largeArcFlag,this._sweepFlag)},Object.defineProperty(window.SVGPathSegArcAbs.prototype,"x",{get:function(){return this._x},set:function(n){this._x=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcAbs.prototype,"y",{get:function(){return this._y},set:function(n){this._y=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcAbs.prototype,"r1",{get:function(){return this._r1},set:function(n){this._r1=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcAbs.prototype,"r2",{get:function(){return this._r2},set:function(n){this._r2=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcAbs.prototype,"angle",{get:function(){return this._angle},set:function(n){this._angle=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcAbs.prototype,"largeArcFlag",{get:function(){return this._largeArcFlag},set:function(n){this._largeArcFlag=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcAbs.prototype,"sweepFlag",{get:function(){return this._sweepFlag},set:function(n){this._sweepFlag=n,this._segmentChanged()},enumerable:!0}),window.SVGPathSegArcRel=function(n,e,t,i,r,s,a,o){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_ARC_REL,"a",n),this._x=e,this._y=t,this._r1=i,this._r2=r,this._angle=s,this._largeArcFlag=a,this._sweepFlag=o},window.SVGPathSegArcRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegArcRel.prototype.toString=function(){return"[object SVGPathSegArcRel]"},window.SVGPathSegArcRel.prototype._asPathString=function(){return`${this.pathSegTypeAsLetter} ${this._r1} ${this._r2} ${this._angle} ${this._largeArcFlag?"1":"0"} ${this._sweepFlag?"1":"0"} ${this._x} ${this._y}`},window.SVGPathSegArcRel.prototype.clone=function(){return new window.SVGPathSegArcRel(void 0,this._x,this._y,this._r1,this._r2,this._angle,this._largeArcFlag,this._sweepFlag)},Object.defineProperty(window.SVGPathSegArcRel.prototype,"x",{get:function(){return this._x},set:function(n){this._x=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcRel.prototype,"y",{get:function(){return this._y},set:function(n){this._y=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcRel.prototype,"r1",{get:function(){return this._r1},set:function(n){this._r1=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcRel.prototype,"r2",{get:function(){return this._r2},set:function(n){this._r2=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcRel.prototype,"angle",{get:function(){return this._angle},set:function(n){this._angle=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcRel.prototype,"largeArcFlag",{get:function(){return this._largeArcFlag},set:function(n){this._largeArcFlag=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcRel.prototype,"sweepFlag",{get:function(){return this._sweepFlag},set:function(n){this._sweepFlag=n,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoHorizontalAbs=function(n,e){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS,"H",n),this._x=e},window.SVGPathSegLinetoHorizontalAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegLinetoHorizontalAbs.prototype.toString=function(){return"[object SVGPathSegLinetoHorizontalAbs]"},window.SVGPathSegLinetoHorizontalAbs.prototype._asPathString=function(){return`${this.pathSegTypeAsLetter} ${this._x}`},window.SVGPathSegLinetoHorizontalAbs.prototype.clone=function(){return new window.SVGPathSegLinetoHorizontalAbs(void 0,this._x)},Object.defineProperty(window.SVGPathSegLinetoHorizontalAbs.prototype,"x",{get:function(){return this._x},set:function(n){this._x=n,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoHorizontalRel=function(n,e){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL,"h",n),this._x=e},window.SVGPathSegLinetoHorizontalRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegLinetoHorizontalRel.prototype.toString=function(){return"[object SVGPathSegLinetoHorizontalRel]"},window.SVGPathSegLinetoHorizontalRel.prototype._asPathString=function(){return`${this.pathSegTypeAsLetter} ${this._x}`},window.SVGPathSegLinetoHorizontalRel.prototype.clone=function(){return new window.SVGPathSegLinetoHorizontalRel(void 0,this._x)},Object.defineProperty(window.SVGPathSegLinetoHorizontalRel.prototype,"x",{get:function(){return this._x},set:function(n){this._x=n,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoVerticalAbs=function(n,e){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS,"V",n),this._y=e},window.SVGPathSegLinetoVerticalAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegLinetoVerticalAbs.prototype.toString=function(){return"[object SVGPathSegLinetoVerticalAbs]"},window.SVGPathSegLinetoVerticalAbs.prototype._asPathString=function(){return`${this.pathSegTypeAsLetter} ${this._y}`},window.SVGPathSegLinetoVerticalAbs.prototype.clone=function(){return new window.SVGPathSegLinetoVerticalAbs(void 0,this._y)},Object.defineProperty(window.SVGPathSegLinetoVerticalAbs.prototype,"y",{get:function(){return this._y},set:function(n){this._y=n,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoVerticalRel=function(n,e){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL,"v",n),this._y=e},window.SVGPathSegLinetoVerticalRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegLinetoVerticalRel.prototype.toString=function(){return"[object SVGPathSegLinetoVerticalRel]"},window.SVGPathSegLinetoVerticalRel.prototype._asPathString=function(){return`${this.pathSegTypeAsLetter} ${this._y}`},window.SVGPathSegLinetoVerticalRel.prototype.clone=function(){return new window.SVGPathSegLinetoVerticalRel(void 0,this._y)},Object.defineProperty(window.SVGPathSegLinetoVerticalRel.prototype,"y",{get:function(){return this._y},set:function(n){this._y=n,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoCubicSmoothAbs=function(n,e,t,i,r){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS,"S",n),this._x=e,this._y=t,this._x2=i,this._y2=r},window.SVGPathSegCurvetoCubicSmoothAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoCubicSmoothAbs.prototype.toString=function(){return"[object SVGPathSegCurvetoCubicSmoothAbs]"},window.SVGPathSegCurvetoCubicSmoothAbs.prototype._asPathString=function(){return`${this.pathSegTypeAsLetter} ${this._x2} ${this._y2} ${this._x} ${this._y}`},window.SVGPathSegCurvetoCubicSmoothAbs.prototype.clone=function(){return new window.SVGPathSegCurvetoCubicSmoothAbs(void 0,this._x,this._y,this._x2,this._y2)},Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothAbs.prototype,"x",{get:function(){return this._x},set:function(n){this._x=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothAbs.prototype,"y",{get:function(){return this._y},set:function(n){this._y=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothAbs.prototype,"x2",{get:function(){return this._x2},set:function(n){this._x2=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothAbs.prototype,"y2",{get:function(){return this._y2},set:function(n){this._y2=n,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoCubicSmoothRel=function(n,e,t,i,r){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL,"s",n),this._x=e,this._y=t,this._x2=i,this._y2=r},window.SVGPathSegCurvetoCubicSmoothRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoCubicSmoothRel.prototype.toString=function(){return"[object SVGPathSegCurvetoCubicSmoothRel]"},window.SVGPathSegCurvetoCubicSmoothRel.prototype._asPathString=function(){return`${this.pathSegTypeAsLetter} ${this._x2} ${this._y2} ${this._x} ${this._y}`},window.SVGPathSegCurvetoCubicSmoothRel.prototype.clone=function(){return new window.SVGPathSegCurvetoCubicSmoothRel(void 0,this._x,this._y,this._x2,this._y2)},Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothRel.prototype,"x",{get:function(){return this._x},set:function(n){this._x=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothRel.prototype,"y",{get:function(){return this._y},set:function(n){this._y=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothRel.prototype,"x2",{get:function(){return this._x2},set:function(n){this._x2=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothRel.prototype,"y2",{get:function(){return this._y2},set:function(n){this._y2=n,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoQuadraticSmoothAbs=function(n,e,t){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS,"T",n),this._x=e,this._y=t},window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype.toString=function(){return"[object SVGPathSegCurvetoQuadraticSmoothAbs]"},window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype._asPathString=function(){return`${this.pathSegTypeAsLetter} ${this._x} ${this._y}`},window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype.clone=function(){return new window.SVGPathSegCurvetoQuadraticSmoothAbs(void 0,this._x,this._y)},Object.defineProperty(window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype,"x",{get:function(){return this._x},set:function(n){this._x=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype,"y",{get:function(){return this._y},set:function(n){this._y=n,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoQuadraticSmoothRel=function(n,e,t){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL,"t",n),this._x=e,this._y=t},window.SVGPathSegCurvetoQuadraticSmoothRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoQuadraticSmoothRel.prototype.toString=function(){return"[object SVGPathSegCurvetoQuadraticSmoothRel]"},window.SVGPathSegCurvetoQuadraticSmoothRel.prototype._asPathString=function(){return`${this.pathSegTypeAsLetter} ${this._x} ${this._y}`},window.SVGPathSegCurvetoQuadraticSmoothRel.prototype.clone=function(){return new window.SVGPathSegCurvetoQuadraticSmoothRel(void 0,this._x,this._y)},Object.defineProperty(window.SVGPathSegCurvetoQuadraticSmoothRel.prototype,"x",{get:function(){return this._x},set:function(n){this._x=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticSmoothRel.prototype,"y",{get:function(){return this._y},set:function(n){this._y=n,this._segmentChanged()},enumerable:!0}),window.SVGPathElement.prototype.createSVGPathSegClosePath=function(){return new window.SVGPathSegClosePath(void 0)},window.SVGPathElement.prototype.createSVGPathSegMovetoAbs=function(n,e){return new window.SVGPathSegMovetoAbs(void 0,n,e)},window.SVGPathElement.prototype.createSVGPathSegMovetoRel=function(n,e){return new window.SVGPathSegMovetoRel(void 0,n,e)},window.SVGPathElement.prototype.createSVGPathSegLinetoAbs=function(n,e){return new window.SVGPathSegLinetoAbs(void 0,n,e)},window.SVGPathElement.prototype.createSVGPathSegLinetoRel=function(n,e){return new window.SVGPathSegLinetoRel(void 0,n,e)},window.SVGPathElement.prototype.createSVGPathSegCurvetoCubicAbs=function(n,e,t,i,r,s){return new window.SVGPathSegCurvetoCubicAbs(void 0,n,e,t,i,r,s)},window.SVGPathElement.prototype.createSVGPathSegCurvetoCubicRel=function(n,e,t,i,r,s){return new window.SVGPathSegCurvetoCubicRel(void 0,n,e,t,i,r,s)},window.SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticAbs=function(n,e,t,i){return new window.SVGPathSegCurvetoQuadraticAbs(void 0,n,e,t,i)},window.SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticRel=function(n,e,t,i){return new window.SVGPathSegCurvetoQuadraticRel(void 0,n,e,t,i)},window.SVGPathElement.prototype.createSVGPathSegArcAbs=function(n,e,t,i,r,s,a){return new window.SVGPathSegArcAbs(void 0,n,e,t,i,r,s,a)},window.SVGPathElement.prototype.createSVGPathSegArcRel=function(n,e,t,i,r,s,a){return new window.SVGPathSegArcRel(void 0,n,e,t,i,r,s,a)},window.SVGPathElement.prototype.createSVGPathSegLinetoHorizontalAbs=function(n){return new window.SVGPathSegLinetoHorizontalAbs(void 0,n)},window.SVGPathElement.prototype.createSVGPathSegLinetoHorizontalRel=function(n){return new window.SVGPathSegLinetoHorizontalRel(void 0,n)},window.SVGPathElement.prototype.createSVGPathSegLinetoVerticalAbs=function(n){return new window.SVGPathSegLinetoVerticalAbs(void 0,n)},window.SVGPathElement.prototype.createSVGPathSegLinetoVerticalRel=function(n){return new window.SVGPathSegLinetoVerticalRel(void 0,n)},window.SVGPathElement.prototype.createSVGPathSegCurvetoCubicSmoothAbs=function(n,e,t,i){return new window.SVGPathSegCurvetoCubicSmoothAbs(void 0,n,e,t,i)},window.SVGPathElement.prototype.createSVGPathSegCurvetoCubicSmoothRel=function(n,e,t,i){return new window.SVGPathSegCurvetoCubicSmoothRel(void 0,n,e,t,i)},window.SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticSmoothAbs=function(n,e){return new window.SVGPathSegCurvetoQuadraticSmoothAbs(void 0,n,e)},window.SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticSmoothRel=function(n,e){return new window.SVGPathSegCurvetoQuadraticSmoothRel(void 0,n,e)},"getPathSegAtLength"in window.SVGPathElement.prototype||(window.SVGPathElement.prototype.getPathSegAtLength=function(n){if(n===void 0||!isFinite(n))throw"Invalid arguments.";const e=document.createElementNS("http://www.w3.org/2000/svg","path");e.setAttribute("d",this.getAttribute("d"));let t=e.pathSegList.numberOfItems-1;if(t<=0)return 0;do{if(e.pathSegList.removeItem(t),n>e.getTotalLength())break;t--}while(t>0);return t})),(!("SVGPathSegList"in window)||!("appendItem"in window.SVGPathSegList.prototype))&&(window.SVGPathSegList=function(n){this._pathElement=n,this._list=this._parsePath(this._pathElement.getAttribute("d")),this._mutationObserverConfig={attributes:!0,attributeFilter:["d"]},this._pathElementMutationObserver=new MutationObserver(this._updateListFromPathMutations.bind(this)),this._pathElementMutationObserver.observe(this._pathElement,this._mutationObserverConfig)},window.SVGPathSegList.prototype.classname="SVGPathSegList",Object.defineProperty(window.SVGPathSegList.prototype,"numberOfItems",{get:function(){return this._checkPathSynchronizedToList(),this._list.length},enumerable:!0}),Object.defineProperty(window.SVGPathSegList.prototype,"length",{get:function(){return this._checkPathSynchronizedToList(),this._list.length},enumerable:!0}),Object.defineProperty(window.SVGPathElement.prototype,"pathSegList",{get:function(){return this._pathSegList||(this._pathSegList=new window.SVGPathSegList(this)),this._pathSegList},enumerable:!0}),Object.defineProperty(window.SVGPathElement.prototype,"normalizedPathSegList",{get:function(){return this.pathSegList},enumerable:!0}),Object.defineProperty(window.SVGPathElement.prototype,"animatedPathSegList",{get:function(){return this.pathSegList},enumerable:!0}),Object.defineProperty(window.SVGPathElement.prototype,"animatedNormalizedPathSegList",{get:function(){return this.pathSegList},enumerable:!0}),window.SVGPathSegList.prototype._checkPathSynchronizedToList=function(){this._updateListFromPathMutations(this._pathElementMutationObserver.takeRecords())},window.SVGPathSegList.prototype._updateListFromPathMutations=function(n){if(!this._pathElement)return;let e=!1;n.forEach(function(t){t.attributeName=="d"&&(e=!0)}),e&&(this._list=this._parsePath(this._pathElement.getAttribute("d")))},window.SVGPathSegList.prototype._writeListToPath=function(){this._pathElementMutationObserver.disconnect(),this._pathElement.setAttribute("d",window.SVGPathSegList._pathSegArrayAsString(this._list)),this._pathElementMutationObserver.observe(this._pathElement,this._mutationObserverConfig)},window.SVGPathSegList.prototype.segmentChanged=function(){this._writeListToPath()},window.SVGPathSegList.prototype.clear=function(){this._checkPathSynchronizedToList(),this._list.forEach(function(n){n._owningPathSegList=null}),this._list=[],this._writeListToPath()},window.SVGPathSegList.prototype.initialize=function(n){return this._checkPathSynchronizedToList(),this._list=[n],n._owningPathSegList=this,this._writeListToPath(),n},window.SVGPathSegList.prototype._checkValidIndex=function(n){if(isNaN(n)||n<0||n>=this.numberOfItems)throw"INDEX_SIZE_ERR"},window.SVGPathSegList.prototype.getItem=function(n){return this._checkPathSynchronizedToList(),this._checkValidIndex(n),this._list[n]},window.SVGPathSegList.prototype.insertItemBefore=function(n,e){return this._checkPathSynchronizedToList(),e>this.numberOfItems&&(e=this.numberOfItems),n._owningPathSegList&&(n=n.clone()),this._list.splice(e,0,n),n._owningPathSegList=this,this._writeListToPath(),n},window.SVGPathSegList.prototype.replaceItem=function(n,e){return this._checkPathSynchronizedToList(),n._owningPathSegList&&(n=n.clone()),this._checkValidIndex(e),this._list[e]=n,n._owningPathSegList=this,this._writeListToPath(),n},window.SVGPathSegList.prototype.removeItem=function(n){this._checkPathSynchronizedToList(),this._checkValidIndex(n);const e=this._list[n];return this._list.splice(n,1),this._writeListToPath(),e},window.SVGPathSegList.prototype.appendItem=function(n){return this._checkPathSynchronizedToList(),n._owningPathSegList&&(n=n.clone()),this._list.push(n),n._owningPathSegList=this,this._writeListToPath(),n},window.SVGPathSegList._pathSegArrayAsString=function(n){let e="",t=!0;return n.forEach(function(i){t?(t=!1,e+=i._asPathString()):e+=` ${i._asPathString()}`}),e},window.SVGPathSegList.prototype._parsePath=function(n){if(!n||!n.length)return[];const e=this,t=function(){this.pathSegList=[]};t.prototype.appendSegment=function(a){this.pathSegList.push(a)};const i=function(a){this._string=a,this._currentIndex=0,this._endIndex=this._string.length,this._previousCommand=window.SVGPathSeg.PATHSEG_UNKNOWN,this._skipOptionalSpaces()};i.prototype._isCurrentSpace=function(){const a=this._string[this._currentIndex];return a<=" "&&(a==" "||a==`
`||a=="	"||a=="\r"||a=="\f")},i.prototype._skipOptionalSpaces=function(){for(;this._currentIndex<this._endIndex&&this._isCurrentSpace();)this._currentIndex++;return this._currentIndex<this._endIndex},i.prototype._skipOptionalSpacesOrDelimiter=function(){return this._currentIndex<this._endIndex&&!this._isCurrentSpace()&&this._string.charAt(this._currentIndex)!=","?!1:(this._skipOptionalSpaces()&&this._currentIndex<this._endIndex&&this._string.charAt(this._currentIndex)==","&&(this._currentIndex++,this._skipOptionalSpaces()),this._currentIndex<this._endIndex)},i.prototype.hasMoreData=function(){return this._currentIndex<this._endIndex},i.prototype.peekSegmentType=function(){const a=this._string[this._currentIndex];return this._pathSegTypeFromChar(a)},i.prototype._pathSegTypeFromChar=function(a){switch(a){case"Z":case"z":return window.SVGPathSeg.PATHSEG_CLOSEPATH;case"M":return window.SVGPathSeg.PATHSEG_MOVETO_ABS;case"m":return window.SVGPathSeg.PATHSEG_MOVETO_REL;case"L":return window.SVGPathSeg.PATHSEG_LINETO_ABS;case"l":return window.SVGPathSeg.PATHSEG_LINETO_REL;case"C":return window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS;case"c":return window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL;case"Q":return window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS;case"q":return window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL;case"A":return window.SVGPathSeg.PATHSEG_ARC_ABS;case"a":return window.SVGPathSeg.PATHSEG_ARC_REL;case"H":return window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS;case"h":return window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL;case"V":return window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS;case"v":return window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL;case"S":return window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS;case"s":return window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL;case"T":return window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS;case"t":return window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL;default:return window.SVGPathSeg.PATHSEG_UNKNOWN}},i.prototype._nextCommandHelper=function(a,o){return(a=="+"||a=="-"||a=="."||a>="0"&&a<="9")&&o!=window.SVGPathSeg.PATHSEG_CLOSEPATH?o==window.SVGPathSeg.PATHSEG_MOVETO_ABS?window.SVGPathSeg.PATHSEG_LINETO_ABS:o==window.SVGPathSeg.PATHSEG_MOVETO_REL?window.SVGPathSeg.PATHSEG_LINETO_REL:o:window.SVGPathSeg.PATHSEG_UNKNOWN},i.prototype.initialCommandIsMoveTo=function(){if(!this.hasMoreData())return!0;const a=this.peekSegmentType();return a==window.SVGPathSeg.PATHSEG_MOVETO_ABS||a==window.SVGPathSeg.PATHSEG_MOVETO_REL},i.prototype._parseNumber=function(){let a=0,o=0,l=1,c=0,f=1,h=1;const v=this._currentIndex;if(this._skipOptionalSpaces(),this._currentIndex<this._endIndex&&this._string.charAt(this._currentIndex)=="+"?this._currentIndex++:this._currentIndex<this._endIndex&&this._string.charAt(this._currentIndex)=="-"&&(this._currentIndex++,f=-1),this._currentIndex==this._endIndex||(this._string.charAt(this._currentIndex)<"0"||this._string.charAt(this._currentIndex)>"9")&&this._string.charAt(this._currentIndex)!=".")return;const m=this._currentIndex;for(;this._currentIndex<this._endIndex&&this._string.charAt(this._currentIndex)>="0"&&this._string.charAt(this._currentIndex)<="9";)this._currentIndex++;if(this._currentIndex!=m){let g=this._currentIndex-1,y=1;for(;g>=m;)o+=y*(this._string.charAt(g--)-"0"),y*=10}if(this._currentIndex<this._endIndex&&this._string.charAt(this._currentIndex)=="."){if(this._currentIndex++,this._currentIndex>=this._endIndex||this._string.charAt(this._currentIndex)<"0"||this._string.charAt(this._currentIndex)>"9")return;for(;this._currentIndex<this._endIndex&&this._string.charAt(this._currentIndex)>="0"&&this._string.charAt(this._currentIndex)<="9";)l*=10,c+=(this._string.charAt(this._currentIndex)-"0")/l,this._currentIndex+=1}if(this._currentIndex!=v&&this._currentIndex+1<this._endIndex&&(this._string.charAt(this._currentIndex)=="e"||this._string.charAt(this._currentIndex)=="E")&&this._string.charAt(this._currentIndex+1)!="x"&&this._string.charAt(this._currentIndex+1)!="m"){if(this._currentIndex++,this._string.charAt(this._currentIndex)=="+"?this._currentIndex++:this._string.charAt(this._currentIndex)=="-"&&(this._currentIndex++,h=-1),this._currentIndex>=this._endIndex||this._string.charAt(this._currentIndex)<"0"||this._string.charAt(this._currentIndex)>"9")return;for(;this._currentIndex<this._endIndex&&this._string.charAt(this._currentIndex)>="0"&&this._string.charAt(this._currentIndex)<="9";)a*=10,a+=this._string.charAt(this._currentIndex)-"0",this._currentIndex++}let _=o+c;if(_*=f,a&&(_*=Math.pow(10,h*a)),v!=this._currentIndex)return this._skipOptionalSpacesOrDelimiter(),_},i.prototype._parseArcFlag=function(){if(this._currentIndex>=this._endIndex)return;let a=!1;const o=this._string.charAt(this._currentIndex++);if(o=="0")a=!1;else if(o=="1")a=!0;else return;return this._skipOptionalSpacesOrDelimiter(),a},i.prototype.parseSegment=function(){const a=this._string[this._currentIndex];let o=this._pathSegTypeFromChar(a);if(o==window.SVGPathSeg.PATHSEG_UNKNOWN){if(this._previousCommand==window.SVGPathSeg.PATHSEG_UNKNOWN||(o=this._nextCommandHelper(a,this._previousCommand),o==window.SVGPathSeg.PATHSEG_UNKNOWN))return null}else this._currentIndex++;this._previousCommand=o;let l;switch(o){case window.SVGPathSeg.PATHSEG_MOVETO_REL:return new window.SVGPathSegMovetoRel(e,this._parseNumber(),this._parseNumber());case window.SVGPathSeg.PATHSEG_MOVETO_ABS:return new window.SVGPathSegMovetoAbs(e,this._parseNumber(),this._parseNumber());case window.SVGPathSeg.PATHSEG_LINETO_REL:return new window.SVGPathSegLinetoRel(e,this._parseNumber(),this._parseNumber());case window.SVGPathSeg.PATHSEG_LINETO_ABS:return new window.SVGPathSegLinetoAbs(e,this._parseNumber(),this._parseNumber());case window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL:return new window.SVGPathSegLinetoHorizontalRel(e,this._parseNumber());case window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS:return new window.SVGPathSegLinetoHorizontalAbs(e,this._parseNumber());case window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL:return new window.SVGPathSegLinetoVerticalRel(e,this._parseNumber());case window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS:return new window.SVGPathSegLinetoVerticalAbs(e,this._parseNumber());case window.SVGPathSeg.PATHSEG_CLOSEPATH:return this._skipOptionalSpaces(),new window.SVGPathSegClosePath(e);case window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL:return l={x1:this._parseNumber(),y1:this._parseNumber(),x2:this._parseNumber(),y2:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()},new window.SVGPathSegCurvetoCubicRel(e,l.x,l.y,l.x1,l.y1,l.x2,l.y2);case window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS:return l={x1:this._parseNumber(),y1:this._parseNumber(),x2:this._parseNumber(),y2:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()},new window.SVGPathSegCurvetoCubicAbs(e,l.x,l.y,l.x1,l.y1,l.x2,l.y2);case window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL:return l={x2:this._parseNumber(),y2:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()},new window.SVGPathSegCurvetoCubicSmoothRel(e,l.x,l.y,l.x2,l.y2);case window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS:return l={x2:this._parseNumber(),y2:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()},new window.SVGPathSegCurvetoCubicSmoothAbs(e,l.x,l.y,l.x2,l.y2);case window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL:return l={x1:this._parseNumber(),y1:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()},new window.SVGPathSegCurvetoQuadraticRel(e,l.x,l.y,l.x1,l.y1);case window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS:return l={x1:this._parseNumber(),y1:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()},new window.SVGPathSegCurvetoQuadraticAbs(e,l.x,l.y,l.x1,l.y1);case window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL:return new window.SVGPathSegCurvetoQuadraticSmoothRel(e,this._parseNumber(),this._parseNumber());case window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS:return new window.SVGPathSegCurvetoQuadraticSmoothAbs(e,this._parseNumber(),this._parseNumber());case window.SVGPathSeg.PATHSEG_ARC_REL:return l={x1:this._parseNumber(),y1:this._parseNumber(),arcAngle:this._parseNumber(),arcLarge:this._parseArcFlag(),arcSweep:this._parseArcFlag(),x:this._parseNumber(),y:this._parseNumber()},new window.SVGPathSegArcRel(e,l.x,l.y,l.x1,l.y1,l.arcAngle,l.arcLarge,l.arcSweep);case window.SVGPathSeg.PATHSEG_ARC_ABS:return l={x1:this._parseNumber(),y1:this._parseNumber(),arcAngle:this._parseNumber(),arcLarge:this._parseArcFlag(),arcSweep:this._parseArcFlag(),x:this._parseNumber(),y:this._parseNumber()},new window.SVGPathSegArcAbs(e,l.x,l.y,l.x1,l.y1,l.arcAngle,l.arcLarge,l.arcSweep);default:throw"Unknown path seg type."}};const r=new t,s=new i(n);if(!s.initialCommandIsMoveTo())return[];for(;s.hasMoreData();){const a=s.parseSegment();if(!a)return[];r.appendSegment(a)}return r.pathSegList})}catch(n){console.warn("An error occurred in tsParticles pathseg polyfill. If the Polygon Mask is not working, please open an issue here: https://github.com/tsparticles/tsparticles",n)}})();class exe{constructor(e){this._engine=e,this.color=new vs,this.width=.5,this.opacity=1}load(e){jt(e)||(this.color=vs.create(this.color,e.color),Cc(this.color.value)&&(this.opacity=Lhe(this._engine,this.color.value)??this.opacity),e.opacity!==void 0&&(this.opacity=e.opacity),e.width!==void 0&&(this.width=e.width))}}class txe{constructor(e){this.enable=!1,this.stroke=new exe(e)}load(e){if(jt(e))return;e.enable!==void 0&&(this.enable=e.enable);const t=e.stroke;this.stroke.load(t)}}var Md;(function(n){n.equidistant="equidistant",n.onePerPoint="one-per-point",n.perPoint="per-point",n.randomLength="random-length",n.randomPoint="random-point"})(Md||(Md={}));class nxe{constructor(){this.arrangement=Md.onePerPoint}load(e){jt(e)||e.arrangement!==void 0&&(this.arrangement=e.arrangement)}}class ixe{constructor(){this.path=[],this.size={height:0,width:0}}load(e){jt(e)||(e.path!==void 0&&(this.path=e.path),e.size!==void 0&&(e.size.width!==void 0&&(this.size.width=e.size.width),e.size.height!==void 0&&(this.size.height=e.size.height)))}}var LR;(function(n){n.path="path",n.radius="radius"})(LR||(LR={}));class rxe{constructor(){this.radius=10,this.type=LR.path}load(e){jt(e)||(e.radius!==void 0&&(this.radius=e.radius),e.type!==void 0&&(this.type=e.type))}}var Sl;(function(n){n.inline="inline",n.inside="inside",n.outside="outside",n.none="none"})(Sl||(Sl={}));class sxe{constructor(e){this.draw=new txe(e),this.enable=!1,this.inline=new nxe,this.move=new rxe,this.scale=1,this.type=Sl.none}load(e){jt(e)||(this.draw.load(e.draw),this.inline.load(e.inline),this.move.load(e.move),e.scale!==void 0&&(this.scale=e.scale),e.type!==void 0&&(this.type=e.type),e.enable!==void 0?this.enable=e.enable:this.enable=this.type!==Sl.none,e.url!==void 0&&(this.url=e.url),e.data!==void 0&&(Cc(e.data)?this.data=e.data:(this.data=new ixe,this.data.load(e.data))),e.position!==void 0&&(this.position=ys({},e.position)))}}const cF=2,CS={min:0,max:1},axe=2;function oxe(n,e,t,i){const r=Al(n,i.color);if(!r)return;const s=0,a=t[s];e.beginPath(),e.moveTo(a.x,a.y);for(const o of t)e.lineTo(o.x,o.y);e.closePath(),e.strokeStyle=Sc(r),e.lineWidth=i.width,e.stroke()}function lxe(n,e,t,i,r){const s={a:1,b:0,c:0,d:1};e.setTransform(s.a,s.b,s.c,s.d,r.x,r.y);const a=Al(n,i.color);a&&(e.strokeStyle=Sc(a,i.opacity),e.lineWidth=i.width,e.stroke(t),e.resetTransform())}function cxe(n,e,t){const i=[];for(const s of n){const a=s.element.pathSegList,o=a?.numberOfItems??0,l={x:0,y:0};for(let c=0;c<o;c++){const f=a?.getItem(c),h=window.SVGPathSeg;switch(f?.pathSegType){case h.PATHSEG_MOVETO_ABS:case h.PATHSEG_LINETO_ABS:case h.PATHSEG_CURVETO_CUBIC_ABS:case h.PATHSEG_CURVETO_QUADRATIC_ABS:case h.PATHSEG_ARC_ABS:case h.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS:case h.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS:{const v=f;l.x=v.x,l.y=v.y;break}case h.PATHSEG_LINETO_HORIZONTAL_ABS:l.x=f.x;break;case h.PATHSEG_LINETO_VERTICAL_ABS:l.y=f.y;break;case h.PATHSEG_LINETO_REL:case h.PATHSEG_MOVETO_REL:case h.PATHSEG_CURVETO_CUBIC_REL:case h.PATHSEG_CURVETO_QUADRATIC_REL:case h.PATHSEG_ARC_REL:case h.PATHSEG_CURVETO_CUBIC_SMOOTH_REL:case h.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL:{const v=f;l.x+=v.x,l.y+=v.y;break}case h.PATHSEG_LINETO_HORIZONTAL_REL:l.x+=f.x;break;case h.PATHSEG_LINETO_VERTICAL_REL:l.y+=f.y;break;case h.PATHSEG_UNKNOWN:case h.PATHSEG_CLOSEPATH:continue}i.push({x:l.x*e+t.x,y:l.y*e+t.y})}}return i}function uxe(n,e,t){const{dx:i,dy:r}=_o(t,n),{dx:s,dy:a}=_o(e,n),o=(i*s+r*a)/(s**cF+a**cF),l={x:n.x+s*o,y:n.y+a*o,isOnSegment:o>=CS.min&&o<=CS.max};return o<CS.min?(l.x=n.x,l.y=n.y):o>CS.max&&(l.x=e.x,l.y=e.y),l}function hxe(n,e,t){const{dx:i,dy:r}=_o(n,e),s=Math.atan2(r,i),a=Er.create(Math.sin(s),-Math.cos(s)),o=axe*(t.x*a.x+t.y*a.y);a.multTo(o),t.subFrom(a)}const TS=`${cl} No polygon data loaded.`,dxe=`${cl} No polygon found, you need to specify SVG url in config.`,x0={x:0,y:0},AS=.5,fxe=2;class pxe{constructor(e,t){this._checkInsidePolygon=i=>{const r=this._container,s=r.actualOptions.polygon;if(!s?.enable||s.type===Sl.none||s.type===Sl.inline)return!0;if(!this.raw)throw new Error(dxe);const a=r.canvas.size,o=i?.x??Yn()*a.width,l=i?.y??Yn()*a.height,c=1;let f=!1;for(let h=0,v=this.raw.length-c;h<this.raw.length;v=h++){const m=this.raw[h],_=this.raw[v];m.y>l!=_.y>l&&o<(_.x-m.x)*(l-m.y)/(_.y-m.y)+m.x&&(f=!f)}return s.type===Sl.inside?f:s.type===Sl.outside?!f:!1},this._createPath2D=()=>{if(!(!this._container.actualOptions.polygon||!this.paths?.length))for(const s of this.paths){const a=s.element?.getAttribute("d");if(a){const c=new Path2D(a),f=document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGMatrix(),h=new Path2D,v=f.scale(this._scale);h.addPath?(h.addPath(c,v),s.path2d=h):delete s.path2d}else delete s.path2d;if(s.path2d??!this.raw)continue;s.path2d=new Path2D;const o=0,l=this.raw[o];s.path2d.moveTo(l.x,l.y),this.raw.forEach((c,f)=>{f>o&&s.path2d?.lineTo(c.x,c.y)}),s.path2d.closePath()}},this._downloadSvgPath=async(i,r)=>{const s=this._container.actualOptions.polygon;if(!s)return;const a=i??s.url,o=r??!1;if(!a||this.paths!==void 0&&!o)return this.raw;const l=await fetch(a);if(!l.ok)throw new Error(`${cl} occurred during polygon mask download`);return this._parseSvgPath(await l.text(),r)},this._drawPoints=()=>{if(this.raw)for(const i of this.raw)this._container.particles.addParticle({x:i.x,y:i.y})},this._getEquidistantPointByIndex=i=>{const r=this._container,s=r.actualOptions;if(!s.polygon)return;if(!this.raw?.length||!this.paths?.length)throw new Error(TS);let o=0,l;const c=0,f=this.paths.reduce((m,_)=>m+_.length,c),h=f/s.particles.number.value;for(const m of this.paths){const _=h*i-o;if(_<=m.length){l=m.element.getPointAtLength(_);break}else o+=m.length}const v=this._scale;return{x:(l?.x??x0.x)*v+(this.offset?.x??x0.x),y:(l?.y??x0.y)*v+(this.offset?.y??x0.y)}},this._getPointByIndex=i=>{if(!this.raw?.length)throw new Error(TS);const r=this.raw[i%this.raw.length];return{x:r.x,y:r.y}},this._getRandomPoint=()=>{if(!this.raw?.length)throw new Error(TS);const i=Hd(this.raw);return{x:i.x,y:i.y}},this._getRandomPointByLength=()=>{if(!this._container.actualOptions.polygon)return;if(!this.raw?.length||!this.paths?.length)throw new Error(TS);const s=Hd(this.paths),a=1,o=Math.floor(Yn()*s.length)+a,l=s.element.getPointAtLength(o),c=this._scale;return{x:l.x*c+(this.offset?.x??x0.x),y:l.y*c+(this.offset?.y??x0.y)}},this._initRawData=async i=>{const r=this._container.actualOptions.polygon;if(r){if(r.url)this.raw=await this._downloadSvgPath(r.url,i);else if(r.data){const s=r.data;let a;if(Cc(s))a=s;else{const o=f=>`<path d="${f}" />`,l=qo(s.path)?s.path.map(o).join(""):o(s.path);a=`<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="${s.size.width}" height="${s.size.height}">${l}</svg>`}this.raw=this._parseSvgPath(a,i)}this._createPath2D(),this._engine.dispatchEvent("polygonMaskLoaded",{container:this._container})}},this._parseSvgPath=(i,r)=>{const s=r??!1;if(this.paths!==void 0&&!s)return this.raw;const a=this._container,o=a.actualOptions.polygon;if(!o)return;const l=new DOMParser,c=l.parseFromString(i,"image/svg+xml"),f=0,h=c.getElementsByTagName("svg")[f];let v=h.getElementsByTagName("path");v.length||(v=c.getElementsByTagName("path")),this.paths=[];for(let y=0;y<v.length;y++){const u=v.item(y);u&&this.paths.push({element:u,length:u.getTotalLength()})}const m=this._scale;this.dimension.width=parseFloat(h.getAttribute("width")??"0")*m,this.dimension.height=parseFloat(h.getAttribute("height")??"0")*m;const _=o.position??{x:50,y:50},g=a.canvas.size;return this.offset={x:g.width*_.x/Ir-this.dimension.width*AS,y:g.height*_.y/Ir-this.dimension.height*AS},cxe(this.paths,m,this.offset)},this._polygonBounce=(i,r,s)=>{const a=this._container.actualOptions.polygon;if(!this.raw||!a?.enable||s!==Gr.top)return!1;if(a.type===Sl.inside||a.type===Sl.outside){let o,l,c;const f=i.getPosition(),h=i.getRadius(),v=1;for(let m=0,_=this.raw.length-v;m<this.raw.length;_=m++){const g=this.raw[m],y=this.raw[_];o=uxe(g,y,f);const u=_o(f,o);if([l,c]=[u.dx,u.dy],u.distance<h)return hxe(g,y,i.velocity),!0}if(o&&l!==void 0&&c!==void 0&&!this._checkInsidePolygon(f)){const m={x:1,y:1},_=h*fxe,g=-1;return f.x>=o.x&&(m.x=-1),f.y>=o.y&&(m.y=-1),i.position.x=o.x+_*m.x,i.position.y=o.y+_*m.y,i.velocity.mult(g),!0}}else if(a.type===Sl.inline&&i.initialPosition){const o=Tl(i.initialPosition,i.getPosition()),{velocity:l}=i;if(o>this._moveRadius)return l.x=l.y*AS-l.x,l.y=l.x*AS-l.y,!0}return!1},this._randomPoint=()=>{const i=this._container,r=i.actualOptions.polygon;if(!r)return;let s;if(r.type===Sl.inline)switch(r.inline.arrangement){case Md.randomPoint:s=this._getRandomPoint();break;case Md.randomLength:s=this._getRandomPointByLength();break;case Md.equidistant:s=this._getEquidistantPointByIndex(i.particles.count);break;case Md.onePerPoint:case Md.perPoint:default:s=this._getPointByIndex(i.particles.count)}else{const a=i.canvas.size;s={x:Yn()*a.width,y:Yn()*a.height}}return this._checkInsidePolygon(s)?s:this._randomPoint()},this._container=e,this._engine=t,this.dimension={height:0,width:0},this._moveRadius=0,this._scale=1}clickPositionValid(e){const t=this._container.actualOptions.polygon;return!!t?.enable&&t.type!==Sl.none&&t.type!==Sl.inline&&this._checkInsidePolygon(e)}draw(e){if(!this.paths?.length)return;const t=this._container.actualOptions.polygon;if(!t?.enable)return;const i=t.draw;if(!i.enable)return;const r=this.raw;for(const s of this.paths){const a=s.path2d;e&&(a&&this.offset?lxe(this._engine,e,a,i.stroke,this.offset):r&&oxe(this._engine,e,r,i.stroke))}}async init(){const e=this._container,t=e.actualOptions.polygon,i=e.retina.pixelRatio;t&&(this._moveRadius=t.move.radius*i,this._scale=t.scale*i,t.enable&&await this._initRawData())}particleBounce(e,t,i){return this._polygonBounce(e,t,i)}particlePosition(e){const t=this._container.actualOptions.polygon,i=0;if(t?.enable&&(this.raw?.length??i)>i)return ys({},e||this._randomPoint())}particlesInitialization(){const e=this._container.actualOptions.polygon;return e?.enable&&e.type===Sl.inline&&(e.inline.arrangement===Md.onePerPoint||e.inline.arrangement===Md.perPoint)?(this._drawPoints(),!0):!1}resize(){const e=this._container,t=e.actualOptions.polygon;if(!(t?.enable&&t.type!==Sl.none))return;this.redrawTimeout&&clearTimeout(this.redrawTimeout);const i=250;this.redrawTimeout=setTimeout(()=>{(async()=>(await this._initRawData(!0),await e.particles.redraw()))()},i)}stop(){delete this.raw,delete this.paths}}class mxe{constructor(e){this.id="polygonMask",this._engine=e}getPlugin(e){return Promise.resolve(new pxe(e,this._engine))}loadOptions(e,t){if(!this.needsPlugin(e)&&!this.needsPlugin(t))return;let i=e.polygon;i?.load===void 0&&(e.polygon=i=new sxe(this._engine)),i.load(t?.polygon)}needsPlugin(e){return e?.polygon?.enable??(e?.polygon?.type!==void 0&&e.polygon.type!==Sl.none)}}async function gxe(n,e=!0){n.checkVersion("3.9.1"),await n.addPlugin(new mxe(n),e)}class vxe{constructor(){this._createDirs=()=>{this.dirsList=[];for(let e=0;e<360;e+=360/this.options.sides){const t=this.options.angle+e;this.dirsList.push(Er.create(Math.cos(t*Math.PI/180),Math.sin(t*Math.PI/180)))}},this.dirsList=[],this.options={sides:6,turnSteps:20,angle:30}}generate(e){const{sides:t}=this.options;e.hexStep===void 0&&(e.hexStep=0),e.hexDirection===void 0&&(e.hexDirection=t===6?(Yn()*3|0)*2:Yn()*t|0),e.hexSpeed===void 0&&(e.hexSpeed=e.velocity.length),e.hexStep%this.options.turnSteps===0&&(e.hexDirection=Yn()>.5?(e.hexDirection+1)%t:(e.hexDirection+t-1)%t),e.velocity.x=0,e.velocity.y=0,e.hexStep++;const i=this.dirsList[e.hexDirection];return Er.create(i.x*e.hexSpeed,i.y*e.hexSpeed)}init(e){const t=e.actualOptions.particles.move.path.options;this.options.sides=t.sides>0?t.sides:6,this.options.angle=t.angle??30,this.options.turnSteps=t.turnSteps>=0?t.turnSteps:20,this._createDirs()}reset(e){delete e.hexStep,delete e.hexDirection,delete e.hexSpeed}update(){}}const yxe="polygonPathGenerator";async function _xe(n,e=!0){n.checkVersion("3.9.1"),await n.addPathGenerator(yxe,new vxe,e)}const bxe=2,xxe=Math.PI*bxe,MS=.5,Sxe=0;function wxe(n,e,t=Sxe){const i=xxe/n,r=[];for(let s=0;s<n;s++)r.push({x:Math.cos(s*i+t)*e,y:Math.sin(s*i+t)*e});return r}function Exe(n,e,t){let a=e[0],o=e[1];const l=e.length;n.moveTo((a.x+o.x)*MS,(a.y+o.y)*MS);for(let c=1;c<=l;c++)a=o,o=e[(c+1)%l],n.arcTo(a.x,a.y,(a.x+o.x)*MS,(a.y+o.y)*MS,t)}const uF=5,Cxe=5;class Txe{constructor(){this.validTypes=["rounded-polygon"]}draw(e){const{context:t,particle:i,radius:r}=e;Exe(t,wxe(i.sides,r),i.borderRadius??Cxe)}getSidesCount(e){const t=e.shapeData;return Math.round(cn(t?.sides??uF))}particleInit(e,t){const i=t.shapeData;t.borderRadius=Math.round(cn(i?.radius??uF))*e.retina.pixelRatio}}async function Axe(n,e=!0){n.checkVersion("3.9.1"),await n.addShape(new Txe,e)}function Mxe(n,e,t,i){const r={x:-e,y:-e,height:t,width:t},s={topLeft:i,topRight:i,bottomLeft:i,bottomRight:i},{x:a,y:o,width:l,height:c}=r,f=a+l,h=o+c;n.moveTo(a+s.topLeft,o),n.lineTo(f-s.topRight,o),n.quadraticCurveTo(f,o,f,o+s.topRight),n.lineTo(f,o+c-s.bottomRight),n.quadraticCurveTo(f,h,f-s.bottomRight,h),n.lineTo(a+s.bottomLeft,h),n.quadraticCurveTo(a,h,a,h-s.bottomLeft),n.lineTo(a,o+s.topLeft),n.quadraticCurveTo(a,o,a+s.topLeft,o)}const Rxe=2,Oxe=Math.sqrt(Rxe),Lxe=2,hF=5;class Pxe{constructor(){this.validTypes=["rounded-rect"]}draw(e){const{context:t,particle:i,radius:r}=e,s=r/Oxe,a=s*Lxe,o=i.borderRadius??hF;"roundRect"in t?t.roundRect(-s,-s,a,a,o):Mxe(t,s,a,o)}particleInit(e,t){const i=t.shapeData;t.borderRadius=cn(i?.radius??hF)*e.retina.pixelRatio}}async function Ixe(n,e=!0){n.checkVersion("3.9.1"),await n.addShape(new Pxe,e)}var Cg;(function(n){n[n.normal=0]="normal",n[n.reverse=1]="reverse"})(Cg||(Cg={}));const Dxe=1,Nxe=0,Fxe=0,Uxe=0,kxe=1;class Bxe{constructor(){this._paths=[],this._reverse=!1,this._size={width:0,height:0},this._scale=1,this._offset={x:0,y:0,mode:qh.percent},this._width=0}generate(e,t){const i=e.container,r=i.retina.pixelRatio;e.svgDirection===void 0&&(e.svgDirection=Yn()>Rr?Cg.normal:Cg.reverse),e.svgPathIndex===void 0&&(e.svgPathIndex=Math.floor(Yn()*this._paths.length)),e.svgSpeed===void 0&&(e.svgSpeed=e.velocity.mult((e.retina.moveSpeed??Dxe)*Rr).length),e.svgStep===void 0&&(e.svgStep=vo({min:0,max:this._paths[e.svgPathIndex].length})*r),e.svgOffset===void 0&&(e.svgOffset={width:vo({min:-this._width*Rr,max:this._width*Rr})*r,height:vo({min:-this._width*Rr,max:this._width*Rr})*r}),e.svgInitialPosition===void 0&&(e.svgInitialPosition={...e.position}),e.velocity.x=0,e.velocity.y=0,e.svgDirection===Cg.normal?e.svgStep+=e.svgSpeed*t.factor:e.svgStep-=e.svgSpeed*t.factor;let s=this._paths[e.svgPathIndex];if(s){const a=s.length,o=1;e.svgStep>=a?(e.svgPathIndex=e.svgPathIndex+o,e.svgPathIndex>=this._paths.length&&(this._reverse?(e.svgPathIndex=this._paths.length-o,e.svgDirection=Cg.reverse):(e.svgPathIndex=0,e.svgStep=0))):e.svgStep<=Nxe&&(e.svgPathIndex=e.svgPathIndex-o,e.svgPathIndex<Fxe&&(this._reverse?(e.svgPathIndex=0,e.svgDirection=Cg.normal):(e.svgPathIndex=this._paths.length-o,s=this._paths[e.svgPathIndex],e.svgStep=s.length))),s=this._paths[e.svgPathIndex]}if(s){const a=s.element,o=a.getPointAtLength(e.svgStep),l=e.container.canvas.size,c=CO(this._offset,l),f=this._scale*r;e.position.x=(o.x-this._size.width*Rr)*f+e.svgInitialPosition.x+c.x+e.svgOffset.width,e.position.y=(o.y-this._size.height*Rr)*f+e.svgInitialPosition.y+c.y+e.svgOffset.height}return Er.origin}init(e){const t=e.actualOptions.particles.move.path.options,i=t.position??this._offset;if(this._reverse=t.reverse??this._reverse,this._scale=t.scale??kxe,this._offset.x=i.x,this._offset.y=i.y,this._offset.mode=i.mode,this._width=t.width??Uxe,t.url&&!t.path){const r=t.url;(async()=>{const s=await fetch(r),a=await s.text(),o=new DOMParser,l=o.parseFromString(a,"image/svg+xml"),c=0,f=l.getElementsByTagName("svg")[c];let h=f.getElementsByTagName("path");h.length||(h=l.getElementsByTagName("path")),this._paths=[];for(let v=0;v<h.length;v++){const m=h.item(v);m&&this._paths.push({element:m,length:m.getTotalLength()})}this._size.height=parseFloat(f.getAttribute("height")??"0"),this._size.width=parseFloat(f.getAttribute("width")??"0")})()}else if(t.path){const r=t.path;this._paths=[];for(const s of r.data){const a=document.createElementNS("http://www.w3.org/2000/svg","path");a.setAttribute("d",s),this._paths.push({element:a,length:a.getTotalLength()})}this._size.height=r.size.height,this._size.width=r.size.width}}reset(){}update(){}}const zxe="svgPathGenerator";async function Gxe(n,e=!0){n.checkVersion("3.9.1"),await n.addPathGenerator(zxe,new Bxe,e)}const Zp={draw:!1,size:20,increment:.004,columns:0,rows:0,layers:0,width:0,height:0,factor:{angle:.02,length:.01},offset:{x:4e4,y:4e4,z:4e4}};class Hxe{constructor(){const e=new fz;this._simplex=e.noise4d,this.field=[],this.noiseW=0,this.options=ys({},Zp)}generate(e){const t=e.getPosition(),{size:i}=this.options,r={x:Math.max(Math.floor(t.x/i),0),y:Math.max(Math.floor(t.y/i),0),z:Math.max(Math.floor(t.z/i),0)},s=Er.origin,{field:a}=this;return a?.[r.x]?.[r.y]?.[r.z]?a[r.x][r.y][r.z].copy():s}init(e){this.container=e,this._setup()}reset(){}update(){this.container&&(this._calculateField(),this.noiseW+=this.options.increment,this.options.draw&&this.container.canvas.draw(e=>this._drawField(e)))}_calculateField(){const{options:e,field:t,_simplex:i,noiseW:r}=this,s=e.factor.length,a=e.factor.angle;for(let o=0;o<e.columns;o++)for(let l=0;l<e.rows;l++)for(let c=0;c<e.layers;c++){const f=t[o][l][c];f.length=i.noise(o*s+e.offset.x,l*s+e.offset.y,c*s+e.offset.z,r),f.angle=i.noise(o*a,l*a,c*a,r)*Math.PI*2}}_drawField(e){const{field:t,options:i}=this;for(let r=0;r<i.columns;r++){const s=t[r];for(let a=0;a<i.rows;a++){const o=s[a][0],{angle:l,length:c}=o;e.setTransform(1,0,0,1,r*this.options.size,a*this.options.size),e.rotate(l),e.strokeStyle="white",e.beginPath(),e.moveTo(0,0),e.lineTo(0,this.options.size*c),e.stroke(),e.setTransform(1,0,0,1,0,0)}}}_initField(){const{columns:e,rows:t,layers:i}=this.options;this.field=new Array(e);for(let r=0;r<e;r++){this.field[r]=new Array(t);for(let s=0;s<t;s++){this.field[r][s]=new Array(i);for(let a=0;a<i;a++)this.field[r][s][a]=Er.origin}}}_resetField(){const e=this.container;if(!e)return;const t=e.actualOptions.particles.move.path.options,{options:i}=this;i.width=e.canvas.size.width,i.height=e.canvas.size.height,i.size=t.size>0?t.size:Zp.size,i.increment=t.increment>0?t.increment:Zp.increment,i.draw=!!t.draw;const r=t.offset;i.offset.x=r?.x??Zp.offset.x,i.offset.y=r?.y??Zp.offset.y,i.offset.z=r?.z??Zp.offset.z;const s=t.factor;i.factor.angle=s?.angle??Zp.factor.angle,i.factor.length=s?.length??Zp.factor.length,i.seed=t.seed,this._simplex.seed(i.seed??Yn()),i.columns=Math.floor(i.width/i.size)+1,i.rows=Math.floor(i.height/i.size)+1,i.layers=Math.floor(e.zLayers/i.size)+1,this._initField()}_setup(){this.noiseW=0,this._resetField(),addEventListener("resize",()=>this._resetField())}}const $xe="simplexNoise";async function Vxe(n,e=!0){n.checkVersion("3.9.1"),await n.addPathGenerator($xe,new Hxe,e)}class dF{constructor(){this.loop=!1,this.source=""}load(e){jt(e)||(lm(e)?(e.loop!==void 0&&(this.loop=e.loop),e.source!==void 0&&(this.source=e.source)):this.source=e)}}class Iz{constructor(){this.duration=500,this.value=[]}load(e){jt(e)||(e.duration!==void 0&&(this.duration=e.duration),e.value!==void 0&&(this.value=e.value))}}class IO{constructor(){this.loop=!1,this.melodies=[],this.notes=[]}load(e){jt(e)||(e.loop!==void 0&&(this.loop=e.loop),e.melodies!==void 0&&(this.melodies=e.melodies.map(t=>{const i=new IO;return i.load(t),i})),e.notes!==void 0&&(this.notes=e.notes.map(t=>{const i=new Iz;return i.load(t),i})))}}class Wxe{constructor(){this.event=[],this.notes=[]}load(e){if(!jt(e)&&(e.event!==void 0&&(this.event=e.event),e.audio!==void 0&&(qo(e.audio)?this.audio=e.audio.map(t=>{const i=new dF;return i.load(t),i}):(this.audio=new dF,this.audio.load(e.audio))),e.notes!==void 0&&(this.notes=e.notes.map(t=>{const i=new Iz;return i.load(t),i})),e.melodies!==void 0&&(this.melodies=e.melodies.map(t=>{const i=new IO;return i.load(t),i})),e.filter))if(Cc(e.filter)){const t=window[e.filter];LC(t)&&(this.filter=t)}else this.filter=e.filter}}class RS{constructor(){this.width=24,this.height=24,this.style=""}load(e){jt(e)||(e.path!==void 0&&(this.path=e.path),e.svg!==void 0&&(this.svg=e.svg),e.width!==void 0&&(this.width=e.width),e.height!==void 0&&(this.height=e.height))}}class jxe{constructor(){this.mute=new RS,this.unmute=new RS,this.volumeDown=new RS,this.volumeUp=new RS,this.enable=!1,this.mute.svg=`<?xml version="1.0"?>
<svg baseProfile="tiny" height="24px" version="1.2" viewBox="0 0 24 24" width="24px"
    xml:space="preserve" xmlns="http://www.w3.org/2000/svg"
    xmlns:xlink="http://www.w3.org/1999/xlink">
    <g id="Layer_1">
        <path fill="#fff" d="M19.707,5.293c-0.391-0.391-1.023-0.391-1.414,0l-1.551,1.551c-0.345-0.688-0.987-1.02-1.604-1.02c-0.449,0-0.905,0.152-1.356,0.453l-2.672,1.781C10.357,8.561,8.904,9,8,9c-1.654,0-3,1.346-3,3v2c0,1.237,0.754,2.302,1.826,2.76l-1.533,1.533c-0.391,0.391-0.391,1.023,0,1.414C5.488,19.902,5.744,20,6,20s0.512-0.098,0.707-0.293l2.527-2.527c0.697,0.174,1.416,0.455,1.875,0.762l2.672,1.781c0.451,0.301,0.907,0.453,1.356,0.453C16.035,20.176,17,19.495,17,18V9.414l2.707-2.707C20.098,6.316,20.098,5.684,19.707,5.293z M14.891,7.941c0.038-0.025,0.073-0.046,0.104-0.062C14.998,7.914,15,7.954,15,8v1.293l-2,2V9.202L14.891,7.941z M7,12c0-0.552,0.448-1,1-1c1.211,0,2.907-0.495,4-1.146v2.439l-2.83,2.83C8.757,15.046,8.356,15,8,15c-0.552,0-1-0.448-1-1V12z M10.301,15.406L12,13.707v2.439C11.519,15.859,10.925,15.604,10.301,15.406z M14.994,18.12c-0.03-0.016-0.065-0.036-0.104-0.062L13,16.798v-4.091l2-2V18C15,18.046,14.998,18.086,14.994,18.12z"/>
    </g>
</svg>`,this.unmute.svg=`<?xml version="1.0"?>
<svg baseProfile="tiny" height="24px" version="1.2" viewBox="0 0 24 24" width="24px"
    xml:space="preserve" xmlns="http://www.w3.org/2000/svg"
    xmlns:xlink="http://www.w3.org/1999/xlink">
    <g id="Layer_1">
        <path fill="#fff" d="M17.138,5.824c-0.449,0-0.905,0.152-1.356,0.453l-2.672,1.781C12.357,8.561,10.904,9,10,9c-1.654,0-3,1.346-3,3v2c0,1.654,1.346,3,3,3c0.904,0,2.357,0.439,3.109,0.941l2.672,1.781c0.451,0.301,0.907,0.453,1.356,0.453C18.035,20.176,19,19.495,19,18V8C19,6.505,18.035,5.824,17.138,5.824z M14,16.146C12.907,15.495,11.211,15,10,15c-0.552,0-1-0.448-1-1v-2c0-0.552,0.448-1,1-1c1.211,0,2.907-0.495,4-1.146V16.146z M17,18c0,0.046-0.002,0.086-0.006,0.12c-0.03-0.016-0.065-0.036-0.104-0.062L15,16.798V9.202l1.891-1.261c0.038-0.025,0.073-0.046,0.104-0.062C16.998,7.914,17,7.954,17,8V18z"/>
    </g>
</svg>`,this.volumeDown.svg=`<?xml version="1.0"?>
<svg baseProfile="tiny" height="24px" version="1.2" viewBox="0 0 24 24" width="24px"
    xml:space="preserve" xmlns="http://www.w3.org/2000/svg"
    xmlns:xlink="http://www.w3.org/1999/xlink">
    <g id="Layer_1">
        <path fill="#fff" d="M15.138,5.824c-0.449,0-0.905,0.152-1.356,0.453l-2.672,1.781C10.357,8.561,8.904,9,8,9c-1.654,0-3,1.346-3,3v2c0,1.654,1.346,3,3,3c0.904,0,2.357,0.439,3.109,0.941l2.672,1.781c0.451,0.301,0.907,0.453,1.356,0.453C16.035,20.176,17,19.495,17,18V8C17,6.505,16.035,5.824,15.138,5.824z M8,15c-0.552,0-1-0.448-1-1v-2c0-0.552,0.448-1,1-1c1.211,0,2.907-0.495,4-1.146v6.293C10.907,15.495,9.211,15,8,15z M15,18c0,0.046-0.002,0.086-0.006,0.12c-0.03-0.016-0.065-0.036-0.104-0.062L13,16.798V9.202l1.891-1.261c0.038-0.025,0.073-0.046,0.104-0.062C14.998,7.914,15,7.954,15,8V18z"/>
        <path fill="#fff" d="M18.292,10.294c-0.39,0.391-0.39,1.023,0.002,1.414c0.345,0.345,0.535,0.803,0.535,1.291c0,0.489-0.19,0.948-0.536,1.294c-0.391,0.39-0.391,1.023,0,1.414C18.488,15.902,18.744,16,19,16s0.512-0.098,0.707-0.293c0.724-0.723,1.122-1.685,1.122-2.708s-0.398-1.984-1.123-2.707C19.317,9.903,18.683,9.901,18.292,10.294z"/>
    </g>
</svg>`,this.volumeUp.svg=`<?xml version="1.0"?>
<svg baseProfile="tiny" height="24px" version="1.2" viewBox="0 0 24 24" width="24px"
    xml:space="preserve" xmlns="http://www.w3.org/2000/svg"
    xmlns:xlink="http://www.w3.org/1999/xlink">
    <g id="Layer_1">
        <path fill="#fff" d="M16.706,10.292c-0.389-0.389-1.023-0.391-1.414,0.002c-0.39,0.391-0.39,1.023,0.002,1.414c0.345,0.345,0.535,0.803,0.535,1.291c0,0.489-0.19,0.948-0.536,1.294c-0.391,0.39-0.391,1.023,0,1.414C15.488,15.902,15.744,16,16,16s0.512-0.098,0.707-0.293c0.724-0.723,1.122-1.685,1.122-2.708S17.431,11.015,16.706,10.292z"/>
        <path fill="#fff" d="M18.706,8.292c-0.391-0.389-1.023-0.39-1.414,0.002c-0.39,0.391-0.39,1.024,0.002,1.414c0.879,0.877,1.363,2.044,1.364,3.287c0.001,1.246-0.484,2.417-1.365,3.298c-0.391,0.391-0.391,1.023,0,1.414C17.488,17.902,17.744,18,18,18s0.512-0.098,0.707-0.293c1.259-1.259,1.952-2.933,1.951-4.713C20.657,11.217,19.964,9.547,18.706,8.292z"/>
        <path fill="#fff" d="M20.706,6.292c-0.391-0.389-1.023-0.39-1.414,0.002c-0.39,0.391-0.39,1.024,0.002,1.414c1.412,1.409,2.191,3.285,2.192,5.284c0.002,2.002-0.777,3.885-2.193,5.301c-0.391,0.391-0.391,1.023,0,1.414C19.488,19.902,19.744,20,20,20s0.512-0.098,0.707-0.293c1.794-1.794,2.781-4.18,2.779-6.717C23.485,10.457,22.497,8.078,20.706,6.292z"/>
        <path fill="#fff" d="M12.138,5.824c-0.449,0-0.905,0.152-1.356,0.453L8.109,8.059C7.357,8.561,5.904,9,5,9c-1.654,0-3,1.346-3,3v2c0,1.654,1.346,3,3,3c0.904,0,2.357,0.439,3.109,0.941l2.672,1.781c0.451,0.301,0.907,0.453,1.356,0.453C13.035,20.176,14,19.495,14,18V8C14,6.505,13.035,5.824,12.138,5.824z M5,15c-0.552,0-1-0.448-1-1v-2c0-0.552,0.448-1,1-1c1.211,0,2.907-0.495,4-1.146v6.293C7.907,15.495,6.211,15,5,15z M12,18c0,0.046-0.002,0.086-0.006,0.12c-0.03-0.016-0.065-0.036-0.104-0.062L10,16.798V9.202l1.891-1.261c0.038-0.025,0.073-0.046,0.104-0.062C11.998,7.914,12,7.954,12,8V18z"/>
    </g>
</svg>`}load(e){jt(e)||(e.enable!==void 0&&(this.enable=e.enable),this.mute.load(e.mute),this.unmute.load(e.unmute),this.volumeDown.load(e.volumeDown),this.volumeUp.load(e.volumeUp))}}class Xxe{constructor(){this.value=100,this.max=100,this.min=0,this.step=10}load(e){jt(e)||(lm(e)?(e.max!==void 0&&(this.max=e.max),e.min!==void 0&&(this.min=e.min),e.step!==void 0&&(this.step=e.step),e.value!==void 0&&(this.value=e.value)):this.value=e)}}class qxe{constructor(){this.autoPlay=!0,this.enable=!1,this.events=[],this.icons=new jxe,this.volume=new Xxe}load(e){jt(e)||(e.autoPlay!==void 0&&(this.autoPlay=e.autoPlay),e.enable!==void 0&&(this.enable=e.enable),e.events!==void 0&&(this.events=e.events.map(t=>{const i=new Wxe;return i.load(t),i})),this.icons.load(e.icons),e.volume!==void 0&&this.volume.load(e.volume))}}var SE;(function(n){n.mute="soundsMuted",n.unmute="soundsUnmuted"})(SE||(SE={}));var t1;(function(n){n.Block="block",n.None="none"})(t1||(t1={}));const Zc=new Map;Zc.set("C",[16.35,32.7,65.41,130.81,261.63,523.25,1046.5,2093,4186.01]);Zc.set("Db",[17.32,34.65,69.3,138.59,277.18,554.37,1108.73,2217.46,4434.92]);Zc.set("D",[18.35,36.71,73.42,146.83,293.66,587.33,1174.66,2349.32,4698.63]);Zc.set("Eb",[19.45,38.89,77.78,155.56,311.13,622.25,1244.51,2489.02,4978.03]);Zc.set("E",[20.6,41.2,82.41,164.81,329.63,659.25,1318.51,2637.02,5274.04]);Zc.set("F",[21.83,43.65,87.31,174.61,349.23,698.46,1396.91,2793.83,5587.65]);Zc.set("Gb",[23.12,46.25,92.5,185,369.99,739.99,1479.98,2959.96,5919.91]);Zc.set("G",[24.5,49,98,196,392,783.99,1567.98,3135.96,6271.93]);Zc.set("Ab",[25.96,51.91,103.83,207.65,415.3,830.61,1661.22,3322.44,6644.88]);Zc.set("A",[27.5,55,110,220,440,880,1760,3520,7040]);Zc.set("Bb",[29.14,58.27,116.54,233.08,466.16,932.33,1864.66,3729.31,7458.62]);Zc.set("B",[30.87,61.74,123.47,246.94,493.88,987.77,1975.53,3951.07,7902.13]);Zc.set("pause",[0]);function Yxe(n){const e=/(([A-G]b?)(\d))|pause/i,t=e.exec(n),i=2,r=0,s=3;if(!t?.length)return;const a=t[i]||t[r],o=Zc.get(a);if(o)return o[parseInt(t[s]||"0")]}let Dz=!0;const fF=()=>Dz,Nz=()=>{Dz=!1},Fz=1,Kxe=1,pF=0;function OS(n){const e=document.createElement("img"),{clickCb:t,container:i,display:r,iconOptions:s,margin:a,options:o,pos:l,rightOffsets:c}=n,{width:f,path:h,style:v,svg:m}=s;return Zxe(e,l.top+a,l.right-(a*(c.length+Kxe)+f+c.reduce((y,u)=>y+u,0)),r,o.fullScreen.zIndex+Fz,f,a,v),e.src=h??(m?`data:image/svg+xml;base64,${btoa(m)}`:""),(i.canvas.element?.parentNode??document.body).append(e),e.addEventListener("click",()=>{t()}),e}function LS(n){n&&n.remove()}function Zxe(n,e,t,i,r,s,a,o){n.style.userSelect="none",n.style.webkitUserSelect="none",n.style.position="absolute",n.style.top=`${e+a}px`,n.style.left=`${t-a-s}px`,n.style.display=i,n.style.zIndex=`${r+Fz}`,n.style.cssText+=o}class Qxe{constructor(e,t){this._addBuffer=i=>{const r=i.createBufferSource();return this._audioSources.push(r),r},this._addOscillator=i=>{const r=i.createOscillator();return this._audioSources.push(r),r},this._initEvents=()=>{const i=this._container,r=i.actualOptions.sounds;if(!(!r?.enable||!i.canvas.element))for(const s of r.events){const a=o=>{(async()=>{const l=s.filter&&!s.filter(o);if(this._container!==o.container)return;if(!this._container||this._container.muted||this._container.destroyed){ha(s.event,f=>{this._engine.removeEventListener(f,a)});return}if(l)return;const c=0;if(s.audio)this._playBuffer(yo(s.audio));else if(s.melodies){const f=Hd(s.melodies);f.melodies.length?await Promise.allSettled(f.melodies.map(h=>this._playNote(h.notes,c,f.loop))):await this._playNote(f.notes,c,f.loop)}else if(s.notes){const f=Hd(s.notes);await this._playNote([f],c,!1)}})()};ha(s.event,o=>{this._engine.addEventListener(o,a)})}},this._mute=async()=>{const i=this._container,r=this._getAudioContext();for(const s of this._audioSources)this._removeAudioSource(s);this._gain&&this._gain.disconnect(),await r.close(),i.audioContext=void 0,this._engine.dispatchEvent(SE.mute,{container:this._container})},this._playBuffer=i=>{const r=this._audioMap.get(i.source);if(!r)return;const s=this._container.audioContext;if(!s)return;const a=this._addBuffer(s);a.loop=i.loop,a.buffer=r,a.connect(this._gain??s.destination),a.start()},this._playFrequency=async(i,r)=>{if(!this._gain||this._container.muted)return;const s=this._getAudioContext(),a=this._addOscillator(s);return a.connect(this._gain),a.type="sine",a.frequency.value=i,a.start(),new Promise(o=>{setTimeout(()=>{this._removeAudioSource(a),o()},r)})},this._playMuteSound=()=>{if(this._container.muted)return;const i=this._getAudioContext(),r=i.createGain();r.connect(i.destination),r.gain.value=0;const s=i.createOscillator();s.connect(r),s.type="sine",s.frequency.value=1,s.start(),setTimeout(()=>{s.stop(),s.disconnect(),r.disconnect()})},this._playNote=async(i,r,s)=>{if(this._container.muted)return;const a=i[r];if(!a)return;const o=a.value,l=ha(o,async(h,v)=>this._playNoteValue(i,r,v));await(qo(l)?Promise.allSettled(l):l);let f=r+1;s&&f>=i.length&&(f=f%i.length),!this._container.muted&&await this._playNote(i,f,s)},this._playNoteValue=async(i,r,s)=>{const a=i[r];if(!a)return;const o=yo(a.value,s,!0);try{const l=Yxe(o);if(!Ml(l))return;await this._playFrequency(l,a.duration)}catch(l){tp().error(l)}},this._removeAudioSource=i=>{i.stop(),i.disconnect(),this._audioSources.splice(this._audioSources.indexOf(i),1)},this._unmute=()=>{const i=this._container,r=i.actualOptions,s=r.sounds;if(!s)return;const a=this._getAudioContext();this._audioSources||(this._audioSources=[]);const o=a.createGain();o.connect(a.destination),o.gain.value=s.volume.value/Ir,this._gain=o,this._initEvents(),this._engine.dispatchEvent(SE.unmute,{container:this._container})},this._updateMuteIcons=()=>{const i=this._container,r=i.actualOptions.sounds;if(!r?.enable||!r.icons.enable)return;const s=this._muteImg,a=this._unmuteImg;s&&(s.style.display=i.muted?"block":"none"),a&&(a.style.display=i.muted?"none":"block")},this._updateMuteStatus=async()=>{const i=this._container,r=this._getAudioContext();i.muted?(await r?.suspend(),await this._mute()):(await r?.resume(),this._unmute(),this._playMuteSound())},this._updateVolume=async()=>{const i=this._container,r=i.actualOptions.sounds;if(!r?.enable)return;qc(this._volume,r.volume.min,r.volume.max);let s=!1;this._volume<=pF&&!i.muted?(this._volume=0,i.muted=!0,s=!0):this._volume>pF&&i.muted&&(i.muted=!1,s=!0),s&&(this._updateMuteIcons(),await this._updateMuteStatus()),this._gain?.gain&&(this._gain.gain.value=this._volume/Ir)},this._container=e,this._engine=t,this._volume=0,this._audioSources=[],this._audioMap=new Map}async init(){const e=this._container,t=e.actualOptions,i=t.sounds;if(!i?.enable)return;if(i.autoPlay&&fF()){const s=()=>{removeEventListener(M1,s),removeEventListener(R1,s),Nz(),this.unmute()},a={capture:!0,once:!0};addEventListener(M1,s,a),addEventListener(R1,s,a)}this._volume=i.volume.value;const r=i.events;this._audioMap=new Map;for(const s of r){if(!s.audio)continue;const a=ha(s.audio,async o=>{const l=await fetch(o.source);if(!l.ok)return;const c=await l.arrayBuffer(),f=this._getAudioContext(),h=await f.decodeAudioData(c);this._audioMap.set(o.source,h)});a instanceof Promise?await a:await Promise.allSettled(a)}}async mute(){this._container.muted||await this.toggleMute()}async start(){const e=this._container,t=e.actualOptions,i=t.sounds;if(!i?.enable||!e.canvas.element)return;e.muted=!0;const r=e.canvas.element,s={top:r.offsetTop,right:r.offsetLeft+r.offsetWidth},{mute:a,unmute:o,volumeDown:l,volumeUp:c}=i.icons,f=10,h=async()=>{await this.toggleMute()},v=i.icons.enable,m=v?t1.Block:t1.None;this._muteImg=OS({container:e,options:t,pos:s,display:m,iconOptions:a,margin:f,rightOffsets:[l.width,c.width],clickCb:h}),this._unmuteImg=OS({container:e,options:t,pos:s,display:t1.None,iconOptions:o,margin:f,rightOffsets:[l.width,c.width],clickCb:h}),this._volumeDownImg=OS({container:e,options:t,pos:s,display:m,iconOptions:l,margin:f,rightOffsets:[c.width],clickCb:async()=>{await this.volumeDown()}}),this._volumeUpImg=OS({container:e,options:t,pos:s,display:m,iconOptions:c,margin:f,rightOffsets:[],clickCb:async()=>{await this.volumeUp()}}),!fF()&&i.autoPlay&&await this.unmute()}stop(){this._container.muted=!0,(async()=>(await this._mute(),LS(this._muteImg),LS(this._unmuteImg),LS(this._volumeDownImg),LS(this._volumeUpImg)))()}async toggleMute(){const e=this._container;e.muted=!e.muted,this._updateMuteIcons(),await this._updateMuteStatus()}async unmute(){this._container.muted&&await this.toggleMute()}async volumeDown(){const e=this._container,t=e.actualOptions.sounds;t?.enable&&(e.muted&&(this._volume=0),this._volume-=t.volume.step,await this._updateVolume())}async volumeUp(){const e=this._container,t=e.actualOptions.sounds;t?.enable&&(this._volume+=t.volume.step,await this._updateVolume())}_getAudioContext(){const e=this._container;return e.audioContext||(e.audioContext=new AudioContext),e.audioContext}}const wE=()=>{removeEventListener(M1,wE),removeEventListener(R1,wE),Nz()};class Jxe{constructor(e){this.id="sounds",this._engine=e;const t={capture:!0,once:!0};addEventListener(M1,wE,t),addEventListener(R1,wE,t)}getPlugin(e){return Promise.resolve(new Qxe(e,this._engine))}loadOptions(e,t){if(!this.needsPlugin(e)&&!this.needsPlugin(t))return;let i=e.sounds;i?.load===void 0&&(e.sounds=i=new qxe),i.load(t?.sounds)}needsPlugin(e){return e?.sounds?.enable??!1}}async function eSe(n,e=!0){n.checkVersion("3.9.1"),await n.addPlugin(new Jxe(n),e)}function tSe(n){const{context:e,particle:t,radius:i}=n;if(t.spiralInnerRadius===void 0||t.spiralLineSpacing===void 0||t.spiralWidthFactor===void 0)return;const r=(i-t.spiralInnerRadius)/t.spiralLineSpacing,s=10;for(let a=0;a<r*s;a++){const o=a/s,l=t.spiralInnerRadius+t.spiralLineSpacing*o,c={x:l*Math.cos(o),y:l*Math.sin(o)};e.lineTo(c.x,c.y)}}const nSe=1,iSe=1,rSe=10;class sSe{constructor(){this.validTypes=["spiral"]}draw(e){tSe(e)}particleInit(e,t){const i=e.retina.pixelRatio,r=t.shapeData;t.spiralInnerRadius=cn(r?.innerRadius??nSe)*i,t.spiralLineSpacing=cn(r?.lineSpacing??iSe)*i,t.spiralWidthFactor=cn(r?.widthFactor??rSe)}}async function aSe(n,e=!0){n.checkVersion("3.9.1"),await n.addShape(new sSe,e)}const oSe=2,mF=1,lSe=-1,cSe=10,gF={a:1,b:0,c:0,d:1};class uSe{draw(e){const{context:t,radius:i,particle:r,transformData:s}=e,a=i*ll,o=r.container.retina.pixelRatio,l=r.getPosition(),c=r.trail;if(!c||!r.trailLength)return;const f=r.trailLength+i;if(c.push({color:t.fillStyle??t.strokeStyle,position:{x:l.x,y:l.y},transformData:{...e.transformData}}),c.length<oSe)return;for(;c.length>f;)c.shift();const h=Math.min(c.length,f),v={width:r.container.canvas.size.width+a,height:r.container.canvas.size.height+a};let m=c[h-mF].position;for(let _=h;_>O1;_--){const g=c[_-mF],y=g.position,u=r.trailTransform?g.transformData??gF:gF;t.setTransform(u.a,u.b,u.c,u.d,y.x,y.y),t.beginPath(),t.moveTo(m.x-y.x,m.y-y.y);const b={x:(m.x+v.width)%v.width,y:(m.y+v.height)%v.height};if(Math.abs(m.x-y.x)>v.width*Rr||Math.abs(m.y-y.y)>v.height*Rr){m=y;continue}t.lineTo(Math.abs(m.x-y.x)>v.width*Rr?b.x:Io.x,Math.abs(m.y-y.y)>v.height*Rr?b.y:Io.y);const S=Math.max(_/h*a,o,r.trailMinWidth??lSe),T=t.globalAlpha;t.globalAlpha=r.trailFade?_/h:Due,t.lineWidth=r.trailMaxWidth?Math.min(S,r.trailMaxWidth):S,t.strokeStyle=g.color,t.stroke(),t.globalAlpha=T,m=y}t.setTransform(s.a,s.b,s.c,s.d,l.x,l.y)}particleInit(e,t){t.trail=[];const i=t.effectData;t.trailFade=i?.fade??!0,t.trailLength=cn(i?.length??cSe)*e.retina.pixelRatio,t.trailMaxWidth=i?.maxWidth?cn(i.maxWidth)*e.retina.pixelRatio:void 0,t.trailMinWidth=i?.minWidth?cn(i.minWidth)*e.retina.pixelRatio:void 0,t.trailTransform=i?.transform??!1}}async function hSe(n,e=!0){n.checkVersion("3.9.1"),await n.addEffect("trail",new uSe,e)}const dSe=.5,fSe=.5,vF=Math.PI*fSe;class pSe{constructor(){this.options={waveHeight:{min:0,max:3},waveLength:{min:0,max:5}}}generate(e,t){e.zigzag===void 0&&(e.zigzag={counter:Yn(),waveHeight:cn(this.options.waveHeight),waveLength:cn(this.options.waveLength)});const i=dSe/e.zigzag.waveLength*t.factor;e.zigzag.counter+=i;const r=e.zigzag.waveHeight*Math.sin(e.zigzag.counter);return e.position.x+=r*Math.cos(e.velocity.angle+vF),e.position.y+=r*Math.sin(e.velocity.angle+vF),Er.origin}init(e){const t=e.actualOptions.particles.move.path.options;this.options.waveLength=t.waveLength??this.options.waveLength,this.options.waveHeight=t.waveHeight??this.options.waveHeight}reset(){}update(){}}const mSe="zigZagPathGenerator";async function gSe(n,e=!0){n.checkVersion("3.9.1"),await n.addPathGenerator(mSe,new pSe,e)}async function vSe(n,e=!0){n.checkVersion("3.9.1"),afe(n),await c1e(n,!1),await M1e(n,!1),await fbe(n,!1),await ybe(n,!1),await upe(n,!1),await hpe(n,!1),await dpe(n,!1),await fpe(n,!1),await ppe(n,!1),await mpe(n,!1),await gpe(n,!1),await vpe(n,!1),await Hpe(n,!1),await qpe(n,!1),await sme(n,!1),await Ffe(n,!1),await B1e(n,!1),await ube(n,!1),await gxe(n,!1),await eSe(n,!1),await lme(n,!1),await dme(n,!1),await yme(n,!1),await xme(n,!1),await Eme(n,!1),await nbe(n,!1),await kbe(n,!1),await b1e(n,!1),await Lbe(n,!1),await cpe(n,!1),await ipe(n,!1),await Rme(n,!1),await Xbe(n,!1),await Jbe(n,!1),await _xe(n,!1),await Gxe(n,!1),await gSe(n,!1),await Vxe(n,!1),await _fe(n,!1),await gfe(n,!1),await Gfe(n,!1),await Zfe(n,!1),await C1e(n,!1),await $1e(n,!1),await Gbe(n,!1),await Axe(n,!1),await Ixe(n,!1),await aSe(n,!1),await hSe(n,!1),await n.refresh(e)}function ySe({particlesContainer:n,BackgroundConfig:e}){const[t,i]=H.useState(window.innerWidth);H.useEffect(function(){const a=function(){i(window.innerWidth)};return window.addEventListener("resize",a),function(){window.removeEventListener("resize",a)}},[]),H.useEffect(function(){Kde(async function(a){await vSe(a)})},[]);let r=ey("particles",{autoplay:{value:e.autoplay},background:xn({background_color:xn({background_color_value:xn({...e.background.color.value.reduce(function(a,o,l){return a[`background_color_value_${l}`]={value:o,label:`${l}`},a},{})},{label:"value",collapsed:!1})},{label:"value",collapsed:!0}),background_image:{value:e.background.image,label:"image"},background_opacity:{value:e.background.opacity,label:"opacity",min:0,max:1,step:.01},background_position:{value:e.background.position,label:"position"},background_repeat:{value:e.background.repeat,label:"repeat"},background_size:{value:e.background.size,label:"size"}},{collapsed:!0}),backgroundMask:xn({backgroundMask_composite:{value:e.backgroundMask.composite,label:"composite",options:["source-over","source-in","source-out","source-atop","destination-over","destination-in","destination-out","destination-atop","lighter","copy","xor","multiply","screen","overlay","darken","lighten","color-edge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"]},backgroundMask_cover:xn({backgroundMask_cover_color:xn({backgroundMask_cover_color_value:xn({...e.backgroundMask.cover.color.value.reduce(function(a,o,l){return a[`backgroundMask_cover_color_value_${l}`]={value:o,label:`${l}`},a},{})},{label:"value",collapsed:!1})},{label:"color",collapsed:!1}),backgroundMask_cover_opacity:{value:e.backgroundMask.cover.opacity,label:"opacity",min:0,max:1,step:.01}},{label:"cover",collapsed:!0}),backgroundMask_enable:{value:e.backgroundMask.enable,label:"enable"}},{collapsed:!0}),delay:{value:[e.delay.min,e.delay.max],label:"delay",min:0,max:10,step:.1},detectRetina:{value:e.detectRetina},duration:{value:[e.duration.min,e.duration.max],label:"duration",min:0,max:100,step:.1},fpsLimit:{value:e.fpsLimit,min:0,max:360,step:1},fullScreen:xn({fullScreen_enable:{value:e.fullScreen.enable,label:"enable"},fullScreen_zIndex:{value:e.fullScreen.zIndex,label:"zIndex",min:0,max:1e3,step:1}},{collapsed:!0}),interactivity:xn({interactivity_detectsOn:{value:e.interactivity.detectsOn,label:"detectsOn",options:["canvas","parent","window"]},interactivity_events:xn({interactivity_events_onClick:xn({interactivity_events_onClick_enable:{value:e.interactivity.events.onClick.enable,label:"enable"},interactivity_events_onClick_mode:xn({...e.interactivity.events.onClick.mode.reduce(function(a,o,l){return a[`interactivity_events_onClick_mode_${l}`]={value:o,label:`${l}`,options:["attract","bubble","push","remove","repulse","pause","trail"]},a},{})},{label:"mode",collapsed:!1})},{label:"onClick",collapsed:!1}),interactivity_events_onDiv:xn({interactivity_events_onDiv_enable:{value:e.interactivity.events.onDiv.enable,label:"enable"},interactivity_events_onDiv_mode:xn({...e.interactivity.events.onDiv.mode.reduce(function(a,o,l){return a[`interactivity_events_onDiv_mode_${l}`]={value:o,label:`${l}`,options:["bounce","bubble","repulse"]},a},{})},{label:"mode",collapsed:!1}),interactivity_events_onDiv_selectors:xn({...e.interactivity.events.onDiv.selectors.reduce(function(a,o,l){return a[`interactivity_events_onDiv_selectors_${l}`]={value:o,label:`${l}`},a},{})},{label:"selectors",collapsed:!1}),interactivity_events_onDiv_type:{value:e.interactivity.events.onDiv.type,label:"type",options:["circle","rectangle"]}},{label:"onDiv",collapsed:!1}),interactivity_events_onHover:xn({interactivity_events_onHover_enable:{value:e.interactivity.events.onHover.enable,label:"enable"},interactivity_events_onHover_mode:xn({...e.interactivity.events.onHover.mode.reduce(function(a,o,l){return a[`interactivity_events_onHover_mode_${l}`]={value:o,label:`${l}`,options:["attract","bounce","bubble","connect","grab","light","repulse","slow","trail"]},a},{})},{label:"mode",collapsed:!1}),interactivity_events_onHover_parallax:xn({interactivity_events_onHover_parallax_enable:{value:e.interactivity.events.onHover.parallax.enable,label:"enable"},interactivity_events_onHover_parallax_force:{value:e.interactivity.events.onHover.parallax.force,label:"force",min:0,max:100,step:1},interactivity_events_onHover_parallax_smooth:{value:e.interactivity.events.onHover.parallax.smooth,label:"smooth",min:0,max:100,step:1}},{label:"parallax",collapsed:!1})},{label:"onHover",collapsed:!1}),interactivity_events_resize:xn({interactivity_events_resize_delay:{value:e.interactivity.events.resize.delay,label:"delay",min:0,max:10,step:.1},interactivity_events_resize_enable:{value:e.interactivity.events.resize.enable,label:"enable"}},{label:"resize",collapsed:!1})},{label:"events",collapsed:!0}),interactivity_modes:xn({interactivity_modes_attract:xn({interactivity_modes_attract_distance:{value:e.interactivity.modes.attract.distance,label:"distance",min:0,max:Math.max(window.innerWidth,window.innerHeight),step:1},interactivity_modes_attract_duration:{value:e.interactivity.modes.attract.duration,label:"duration",min:0,max:10,step:.5},interactivity_modes_attract_easing:{value:e.interactivity.modes.attract.easing,label:"easing",options:["ease-in-back","ease-out-back","ease-in-out-back","ease-in-circ","ease-out-circ","ease-in-out-circ","ease-in-cubic","ease-out-cubic","ease-in-out-cubic","ease-in-quad","ease-out-quad","ease-in-out-quad","ease-in-quart","ease-out-quart","ease-in-out-quart","ease-in-quint","ease-out-quint","ease-in-out-quint","ease-in-expo","ease-out-expo","ease-in-out-expo","ease-in-sine","ease-out-sine","ease-in-out-sine"]},interactivity_modes_attract_factor:{value:e.interactivity.modes.attract.factor,label:"factor",min:0,max:10,step:1},interactivity_modes_attract_maxSpeed:{value:e.interactivity.modes.attract.maxSpeed,label:"maxSpeed",min:0,max:100,step:1},interactivity_modes_attract_speed:{value:e.interactivity.modes.attract.speed,label:"speed",min:0,max:100,step:1}},{label:"attract",collapsed:!1}),interactivity_modes_bounce:xn({interactivity_modes_bounce_distance:{value:e.interactivity.modes.bounce.distance,label:"distance",min:0,max:Math.max(window.innerWidth,window.innerHeight),step:1}},{label:"bounce",collapsed:!1}),interactivity_modes_bubble:xn({interactivity_modes_bubble_distance:{value:e.interactivity.modes.bubble.distance,label:"distance",min:0,max:Math.max(window.innerWidth,window.innerHeight),step:1},interactivity_modes_bubble_duration:{value:e.interactivity.modes.bubble.duration,label:"duration",min:0,max:10,step:.1},interactivity_modes_bubble_mix:{value:e.interactivity.modes.bubble.mix,label:"mix"},interactivity_modes_bubble_opacity:{value:e.interactivity.modes.bubble.opacity,label:"opacity",min:0,max:1,step:.01},interactivity_modes_bubble_color:xn({interactivity_modes_bubble_color_value:xn({...e.interactivity.modes.bubble.color.value.reduce(function(a,o,l){return a[`interactivity_modes_bubble_color_value_${l}`]={value:o,label:`${l}`},a},{})},{label:"value",collapsed:!1})},{label:"color",collapsed:!1}),interactivity_modes_bubble_size:{value:e.interactivity.modes.bubble.size,label:"size",min:0,max:1e3,step:1},interactivity_modes_bubble_divs:xn({interactivity_modes_bubble_divs_distance:{value:e.interactivity.modes.bubble.divs.distance,label:"distance",min:0,max:Math.max(window.innerWidth,window.innerHeight),step:1},interactivity_modes_bubble_divs_duration:{value:e.interactivity.modes.bubble.divs.duration,label:"duration",min:0,max:10,step:.1},interactivity_modes_bubble_divs_mix:{value:e.interactivity.modes.bubble.divs.mix,label:"mix"},interactivity_modes_bubble_divs_selectors:xn({...e.interactivity.modes.bubble.divs.selectors.reduce(function(a,o,l){return a[`interactivity_modes_bubble_divs_selectors_${l}`]={value:o,label:`${l}`},a},{})},{label:"selectors",collapsed:!1})},{label:"divs",collapsed:!1})},{label:"bubble",collapsed:!1}),interactivity_modes_connect:xn({interactivity_modes_connect_distance:{value:e.interactivity.modes.connect.distance,label:"distance",min:0,max:Math.max(window.innerWidth,window.innerHeight),step:1},interactivity_modes_connect_links:xn({interactivity_modes_connect_links_opacity:{value:e.interactivity.modes.connect.links.opacity,label:"opacity",min:0,max:1,step:.01}},{label:"links",collapsed:!1}),interactivity_modes_connect_radius:{value:e.interactivity.modes.connect.radius,label:"radius",min:0,max:Math.max(window.innerWidth,window.innerHeight),step:1}},{label:"connect",collapsed:!1}),interactivity_modes_grab:xn({interactivity_modes_grab_distance:{value:e.interactivity.modes.grab.distance,label:"distance",min:0,max:Math.max(window.innerWidth,window.innerHeight),step:1},interactivity_modes_grab_links:xn({interactivity_modes_grab_links_blink:{value:e.interactivity.modes.grab.links.blink,label:"blink",min:0,max:1,step:.01},interactivity_modes_grab_links_consent:{value:e.interactivity.modes.grab.links.consent,label:"consent",min:0,max:1,step:.01},interactivity_modes_grab_links_opacity:{value:e.interactivity.modes.grab.links.opacity,label:"opacity",min:0,max:1,step:.01}},{label:"links",collapsed:!1})},{label:"grab",collapsed:!1}),interactivity_modes_light:xn({interactivity_modes_light_area:xn({interactivity_modes_light_area_gradient:xn({interactivity_modes_light_area_gradient_start:xn({interactivity_modes_light_area_gradient_start_value:xn({...e.interactivity.modes.light.area.gradient.start.value.reduce(function(a,o,l){return a[`interactivity_modes_light_area_gradient_start_value_${l}`]={value:o,label:`${l}`},a},{})},{label:"value",collapsed:!1})},{label:"start",collapsed:!1}),interactivity_modes_light_area_gradient_stop:xn({interactivity_modes_light_area_gradient_stop_value:xn({...e.interactivity.modes.light.area.gradient.stop.value.reduce(function(a,o,l){return a[`interactivity_modes_light_area_gradient_stop_value_${l}`]={value:o,label:`${l}`},a},{})},{label:"value",collapsed:!1})},{label:"stop",collapsed:!1})},{label:"gradient",collapsed:!1}),interactivity_modes_light_area_radius:{value:e.interactivity.modes.light.area.radius,label:"radius",min:0,max:1e3,step:1}},{label:"area",collapsed:!1}),interactivity_modes_light_shadow:xn({interactivity_modes_light_shadow_color:xn({interactivity_modes_light_shadow_color_value:xn({...e.interactivity.modes.light.shadow.color.value.reduce(function(a,o,l){return a[`interactivity_modes_light_shadow_color_value_${l}`]={value:o,label:`${l}`},a},{})},{label:"value",collapsed:!1})},{label:"color",collapsed:!1}),interactivity_modes_light_shadow_length:{value:e.interactivity.modes.light.shadow.length,label:"length",min:0,max:1e4,step:1}},{label:"shadow",collapsed:!1})},{label:"light",collapsed:!1}),interactivity_modes_push:xn({interactivity_modes_push_default:{value:e.interactivity.modes.push.default,label:"default"},interactivity_modes_push_groups:xn({...e.interactivity.modes.push.groups.reduce(function(a,o,l){return a[`interactivity_modes_push_groups_${l}`]={value:o,label:`${l}`,min:0,max:50,step:1},a},{})},{label:"groups",collapsed:!1}),interactivity_modes_push_quantity:{value:e.interactivity.modes.push.quantity,label:"quantity",min:0,max:50,step:1}},{label:"push",collapsed:!1}),interactivity_modes_remove:xn({interactivity_modes_remove_quantity:{value:e.interactivity.modes.remove.quantity,label:"quantity",min:0,max:50,step:1}},{label:"remove",collapsed:!1}),interactivity_modes_repulse:xn({interactivity_modes_repulse_distance:{value:e.interactivity.modes.repulse.distance,label:"distance",min:0,max:Math.max(window.innerWidth,window.innerHeight),step:1},interactivity_modes_repulse_duration:{value:e.interactivity.modes.repulse.duration,label:"duration",min:0,max:10,step:.1},interactivity_modes_repulse_factor:{value:e.interactivity.modes.repulse.factor,label:"factor",min:0,max:10,step:1},interactivity_modes_repulse_speed:{value:e.interactivity.modes.repulse.speed,label:"speed",min:0,max:100,step:1},interactivity_modes_repulse_maxSpeed:{value:e.interactivity.modes.repulse.maxSpeed,label:"maxSpeed",min:0,max:100,step:1},interactivity_modes_repulse_easing:{value:e.interactivity.modes.repulse.easing,label:"easing",options:["ease-in-back","ease-out-back","ease-in-out-back","ease-in-circ","ease-out-circ","ease-in-out-circ","ease-in-cubic","ease-out-cubic","ease-in-out-cubic","ease-in-quad","ease-out-quad","ease-in-out-quad","ease-in-quart","ease-out-quart","ease-in-out-quart","ease-in-quint","ease-out-quint","ease-in-out-quint","ease-in-expo","ease-out-expo","ease-in-out-expo","ease-in-sine","ease-out-sine","ease-in-out-sine"]},interactivity_modes_repulse_divs:xn({interactivity_modes_repulse_divs_distance:{value:e.interactivity.modes.repulse.divs.distance,label:"distance",min:0,max:Math.max(window.innerWidth,window.innerHeight),step:1},interactivity_modes_repulse_divs_duration:{value:e.interactivity.modes.repulse.divs.duration,label:"duration",min:0,max:10,step:.1},interactivity_modes_repulse_divs_factor:{value:e.interactivity.modes.repulse.divs.factor,label:"factor",min:0,max:10,step:1},interactivity_modes_repulse_divs_speed:{value:e.interactivity.modes.repulse.divs.speed,label:"speed",min:0,max:100,step:1},interactivity_modes_repulse_divs_maxSpeed:{value:e.interactivity.modes.repulse.divs.maxSpeed,label:"maxSpeed",min:0,max:100,step:1},interactivity_modes_repulse_divs_easing:{value:e.interactivity.modes.repulse.divs.easing,label:"easing",options:["ease-in-back","ease-out-back","ease-in-out-back","ease-in-circ","ease-out-circ","ease-in-out-circ","ease-in-cubic","ease-out-cubic","ease-in-out-cubic","ease-in-quad","ease-out-quad","ease-in-out-quad","ease-in-quart","ease-out-quart","ease-in-out-quart","ease-in-quint","ease-out-quint","ease-in-out-quint","ease-in-expo","ease-out-expo","ease-in-out-expo","ease-in-sine","ease-out-sine","ease-in-out-sine"]},interactivity_modes_repulse_divs_selectors:xn({...e.interactivity.modes.repulse.divs.selectors.reduce(function(a,o,l){return a[`interactivity_modes_repulse_divs_selectors_${l}`]={value:o,label:`${l}`},a},{})},{label:"selectors",collapsed:!1})},{label:"divs",collapsed:!1})},{label:"repulse",collapsed:!1}),interactivity_modes_pause:{value:e.interactivity.modes.pause,label:"pause"},interactivity_modes_slow:xn({interactivity_modes_slow_factor:{value:e.interactivity.modes.slow.factor,label:"factor",min:0,max:10,step:1},interactivity_modes_slow_radius:{value:e.interactivity.modes.slow.radius,label:"radius",min:0,max:Math.max(window.innerWidth,window.innerHeight),step:1}},{label:"slow",collapsed:!1}),interactivity_modes_trail:xn({interactivity_modes_trail_delay:{value:e.interactivity.modes.trail.delay,label:"delay",min:0,max:10,step:.1},interactivity_modes_trail_pauseOnStop:{value:e.interactivity.modes.trail.pauseOnStop,label:"pauseOnStop"},interactivity_modes_trail_quantity:{value:e.interactivity.modes.trail.quantity,label:"quantity",min:0,max:50,step:1}},{label:"trail",collapsed:!1})},{label:"modes",collapsed:!0})},{collapsed:!0}),manualParticles:xn({...e.manualParticles.reduce(function(a,o,l){return a[`manualParticles_${l}`]=xn({[`manualParticles_${l}_position_show`]:{value:!0,label:"Show position"},[`manualParticles_${l}_position`]:{value:o.position,label:"position",min:0,max:Math.max(window.innerWidth,window.innerHeight),step:1,render:function(c){return c(`particles.manualParticles.manualParticles_${l}.manualParticles_${l}_position_show`)}}},{label:`${l}`,collapsed:!0}),a},{})},{collapsed:!0}),particles:xn({particles_bounce:xn({particles_bounce_horizontal:xn({particles_bounce_horizontal_value:{value:[e.particles.bounce.horizontal.value.min,e.particles.bounce.horizontal.value.max],label:"value",min:0,max:1e3,step:1}},{label:"horizontal",collapsed:!1}),particles_bounce_vertical:xn({particles_bounce_vertical_value:{value:[e.particles.bounce.vertical.value.min,e.particles.bounce.vertical.value.max],label:"value",min:0,max:1e3,step:1}},{label:"vertical",collapsed:!1})},{label:"bounce",collapsed:!0}),particles_collisions:xn({particles_collisions_absorb:xn({particles_collisions_absorb_speed:{value:e.particles.collisions.absorb.speed,label:"speed",min:0,max:1e3,step:1}},{label:"absorb",collapsed:!1}),particles_collisions_enable:{value:e.particles.collisions.enable,label:"enable"},particles_collisions_mode:{value:e.particles.collisions.mode,label:"mode",options:["absorb","bounce","destroy"]},particles_collisions_overlap:xn({particles_collisions_overlap_enable:{value:e.particles.collisions.overlap.enable,label:"enable"},particles_collisions_overlap_retries:{value:e.particles.collisions.overlap.retries,label:"retries",min:0,max:1e3,step:1}},{label:"overlap",collapsed:!1})},{label:"collisions",collapsed:!0}),particles_color:xn({particles_color_value:xn({...e.particles.color.value.reduce(function(a,o,l){return a[`particles_color_value_${l}`]={value:o,label:`${l}`},a},{})},{label:"value",collapsed:!1})},{label:"color",collapsed:!0}),particles_links:xn({particles_links_blink:{value:e.particles.links.blink,label:"blink"},particles_links_color:xn({particles_links_color_value:xn({...e.particles.links.color.value.reduce(function(a,o,l){return a[`particles_links_color_value_${l}`]={value:o,label:`${l}`},a},{})},{label:"value",collapsed:!1})},{label:"color",collapsed:!1}),particles_links_consent:{value:e.particles.links.consent,label:"consent"},particles_links_distance:{value:e.particles.links.distance,label:"distance",min:0,max:1e3,step:1},particles_links_enable:{value:e.particles.links.enable,label:"enable"},particles_links_frequency:{value:e.particles.links.frequency,label:"frequency",min:0,max:1,step:.01},particles_links_opacity:{value:e.particles.links.opacity,label:"opacity",min:0,max:1,step:.01},particles_links_shadow:xn({particles_links_shadow_blur:{value:e.particles.links.shadow.blur,label:"blur",min:0,max:50,step:1},particles_links_shadow_color:xn({particles_links_shadow_color_value:xn({...e.particles.links.shadow.color.value.reduce(function(a,o,l){return a[`particles_links_shadow_color_value_${l}`]={value:o,label:`${l}`},a},{})},{label:"value",collapsed:!1})},{label:"color",collapsed:!1}),particles_links_shadow_enable:{value:e.particles.links.shadow.enable,label:"enable"}},{label:"shadow",collapsed:!1}),particles_links_triangles:xn({particles_links_triangles_enable:{value:e.particles.links.triangles.enable,label:"enable"},particles_links_triangles_frequency:{value:e.particles.links.triangles.frequency,label:"frequency",min:0,max:1,step:.01},particles_links_triangles_opacity:{value:e.particles.links.triangles.opacity,label:"opacity",min:0,max:1,step:.01}},{label:"triangles",collapsed:!1}),particles_links_width:{value:e.particles.links.width,label:"width",min:0,max:1e3,step:1},particles_links_warp:{value:e.particles.links.warp,label:"warp"}},{label:"links",collapsed:!0}),particles_move:xn({particles_move_angle:xn({particles_move_angle_offset:{value:[e.particles.move.angle.offset.min,e.particles.move.angle.offset.max],label:"offset",min:-Math.max(window.innerWidth,window.innerHeight),max:Math.max(window.innerWidth,window.innerHeight),step:1},particles_move_angle_value:{value:[e.particles.move.angle.value.min,e.particles.move.angle.value.max],label:"value",min:0,max:1e3,step:1}},{label:"angle",collapsed:!1}),particles_move_attract:xn({particles_move_attract_distance:{value:[e.particles.move.attract.distance.min,e.particles.move.attract.distance.max],label:"distance",min:0,max:1e3,step:1},particles_move_attract_enable:{value:e.particles.move.attract.enable,label:"enable"},particles_move_attract_rotate:{value:e.particles.move.attract.rotate,label:"rotate",min:0,max:1e4,step:1}},{label:"attract",collapsed:!1}),particles_move_center:xn({particles_move_center_mode:{value:e.particles.move.center.mode,label:"mode",options:["precise","percent"]},particles_move_center_radius:{value:e.particles.move.center.radius,label:"radius",min:0,max:1e3,step:1}},{label:"center",collapsed:!1}),particles_move_decay:{value:[e.particles.move.decay.min,e.particles.move.decay.max],label:"decay",min:0,max:1e3,step:1},particles_move_direction:{value:e.particles.move.direction,label:"direction",options:["bottom","bottom-left","bottom-right","left","none","right","top","top-left","top-right","outside","inside"]},particles_move_distance:xn({particles_move_distance_horizontal:{value:e.particles.move.distance.horizontal,label:"horizontal",min:0,max:Math.max(window.innerWidth,window.innerHeight),step:1},particles_move_distance_vertical:{value:e.particles.move.distance.vertical,label:"vertical",min:0,max:Math.max(window.innerWidth,window.innerHeight),step:1}},{label:"distance",collapsed:!1}),particles_move_drift:{value:[e.particles.move.drift.min,e.particles.move.drift.max],label:"drift",min:0,max:10,step:.01},particles_move_enable:{value:e.particles.move.enable,label:"enable"},particles_move_gravity:xn({particles_move_gravity_acceleration:{value:[e.particles.move.gravity.acceleration.min,e.particles.move.gravity.acceleration.max],label:"acceleration",min:0,max:1e3,step:1},particles_move_gravity_enable:{value:e.particles.move.gravity.enable,label:"enable"},particles_move_gravity_inverse:{value:e.particles.move.gravity.inverse,label:"inverse"},particles_move_gravity_maxSpeed:{value:[e.particles.move.gravity.maxSpeed.min,e.particles.move.gravity.maxSpeed.max],label:"maxSpeed",min:0,max:1e3,step:1}},{label:"gravity",collapsed:!1}),particles_move_outModes:xn({particles_move_outModes_bottom_show:{value:!0,label:"Show bottom"},particles_move_outModes_bottom:{value:e.particles.move.outModes.bottom,label:"bottom",options:["bounce","bounce-horizontal","bounce-vertical","none","out","destroy","split"],render:function(a){return a("particles.particles.particles_move.particles_move_outModes.particles_move_outModes_bottom_show")}},particles_move_outModes_default:{value:e.particles.move.outModes.default,label:"default",options:["bounce","bounce-horizontal","bounce-vertical","none","out","destroy","split"]},particles_move_outModes_left_show:{value:!0,label:"Show left"},particles_move_outModes_left:{value:e.particles.move.outModes.left,label:"left",options:["bounce","bounce-horizontal","bounce-vertical","none","out","destroy","split"],render:function(a){return a("particles.particles.particles_move.particles_move_outModes.particles_move_outModes_left_show")}},particles_move_outModes_right_show:{value:!0,label:"Show right"},particles_move_outModes_right:{value:e.particles.move.outModes.right,label:"right",options:["bounce","bounce-horizontal","bounce-vertical","none","out","destroy","split"],render:function(a){return a("particles.particles.particles_move.particles_move_outModes.particles_move_outModes_right_show")}},particles_move_outModes_top_show:{value:!0,label:"Show top"},particles_move_outModes_top:{value:e.particles.move.outModes.top,label:"top",options:["bounce","bounce-horizontal","bounce-vertical","none","out","destroy","split"],render:function(a){return a("particles.particles.particles_move.particles_move_outModes.particles_move_outModes_top_show")}}},{label:"outModes",collapsed:!1}),particles_move_path:xn({particles_move_path_clamp:{value:e.particles.move.path.clamp,label:"clamp"},particles_move_path_delay:xn({particles_move_path_delay_value:{value:[e.particles.move.path.delay.value.min,e.particles.move.path.delay.value.max],label:"value",min:0,max:10,step:.1}},{label:"delay",collapsed:!1}),particles_move_path_enable:{value:e.particles.move.path.enable,label:"enable"},particles_move_path_generator_show:{value:!0,label:"Show generator"},particles_move_path_generator:{value:e.particles.move.path.generator,label:"generator",render:function(a){return a("particles.particles.particles_move.particles_move_path.particles_move_path_generator_show")}},particles_move_path_options:{value:e.particles.move.path.options,label:"options"}},{label:"path",collapsed:!1}),particles_move_random:{value:e.particles.move.random,label:"random"},particles_move_size:{value:e.particles.move.size,label:"size",min:0,max:1e3,step:1},particles_move_speed:{value:[e.particles.move.speed.min,e.particles.move.speed.max],label:"speed",min:0,max:100,step:1},particles_move_spin:xn({particles_move_spin_acceleration:{value:[e.particles.move.spin.acceleration.min,e.particles.move.spin.acceleration.max],label:"acceleration",min:0,max:10,step:.01},particles_move_spin_enable:{value:e.particles.move.spin.enable,label:"enable"},particles_move_spin_position_show:{value:!0,label:"Show position"},particles_move_spin_position:{value:e.particles.move.spin.position,label:"position",min:0,max:100,step:1,render:function(a){return a("particles.particles.particles_move.particles_move_spin.particles_move_spin_position_show")}}},{label:"spin",collapsed:!1}),particles_move_straight:{value:e.particles.move.straight,label:"straight"},particles_move_trail:xn({particles_move_trail_enable:{value:e.particles.move.trail.enable,label:"enable"},particles_move_trail_fill:xn({particles_move_trail_fill_color_show:{value:!0,label:"Show color"},particles_move_trail_fill_color:xn({particles_move_trail_fill_color_value:xn({...e.particles.move.trail.fill.color.value.reduce(function(a,o,l){return a[`particles_move_trail_fill_color_value_${l}`]={value:o,label:`${l}`},a},{})},{label:"value",collapsed:!1})},{label:"color",render:function(a){return a("particles.particles.particles_move.particles_move_trail.particles_move_trail_fill.particles_move_trail_fill_color_show")},collapsed:!1}),particles_move_trail_fill_image_show:{value:!0,label:"Show image"},particles_move_trail_fill_image:{value:e.particles.move.trail.fill.image,label:"image",render:function(a){return a("particles.particles.particles_move.particles_move_trail.particles_move_trail_fill.particles_move_trail_fill_image_show")}}},{label:"fill",collapsed:!1}),particles_move_trail_length:{value:e.particles.move.trail.length,label:"length",min:0,max:1e3,step:1}},{label:"trail",collapsed:!1}),particles_move_vibrate:{value:e.particles.move.vibrate,label:"vibrate"},particles_move_warp:{value:e.particles.move.warp,label:"warp"}},{label:"move",collapsed:!0}),particles_number:xn({particles_number_density:xn({particles_number_density_enable:{value:e.particles.number.density.enable,label:"enable"},particles_number_density_height:{value:e.particles.number.density.height,label:"height",min:0,max:1e4,step:1},particles_number_density_width:{value:e.particles.number.density.width,label:"width",min:0,max:1e4,step:1}},{label:"density",collapsed:!1}),particles_number_limit:{value:e.particles.number.limit,label:"limit",min:0,max:1e4,step:1},particles_number_value:{value:e.particles.number.value,label:"value",min:0,max:1e4,step:1}},{label:"number",collapsed:!0}),particles_opacity:xn({particles_opacity_value:{value:e.particles.opacity.value,label:"value",min:0,max:1,step:.01},particles_opacity_random:{value:e.particles.opacity.random,label:"random"},particles_opacity_animation:xn({particles_opacity_animation_destroy:{value:e.particles.opacity.animation.destroy,label:"destroy",options:["none","max","min"]},particles_opacity_animation_startValue:{value:e.particles.opacity.animation.startValue,label:"startValue",options:["max","min","random"]}},{label:"animation",collapsed:!1})},{label:"opacity",collapsed:!0}),particles_reduceDuplicates:{value:e.particles.reduceDuplicates,label:"reduceDuplicates"},particles_shadow:xn({particles_shadow_blur:{value:e.particles.shadow.blur,label:"blur",min:0,max:50,step:1},particles_shadow_color:xn({particles_shadow_color_value:xn({...e.particles.shadow.color.value.reduce(function(a,o,l){return a[`particles_shadow_color_value_${l}`]={value:o,label:`${l}`},a},{})},{label:"value",collapsed:!1})},{label:"color",collapsed:!1}),particles_shadow_enable:{value:e.particles.shadow.enable,label:"enable"},particles_shadow_offset:{value:e.particles.shadow.offset,label:"offset",min:-Math.max(window.innerWidth,window.innerHeight),max:Math.max(window.innerWidth,window.innerHeight),step:1}},{label:"shadow",collapsed:!0}),particles_shape:xn({particles_shape_options:xn({...e.particles.shape.options.reduce(function(a,o,l){return a[`particles_shape_options_${l}`]=xn({[`particles_shape_options_${l}_close_show`]:{value:!0,label:"Show close"},[`particles_shape_options_${l}_close`]:{value:o.close,label:"close",render:function(c){return c(`particles.particles.particles_shape.particles_shape_options.particles_shape_options_${l}.particles_shape_options_${l}_close_show`)}},[`particles_shape_options_${l}_fill_show`]:{value:!0,label:"Show fill"},[`particles_shape_options_${l}_fill`]:{value:o.fill,label:"fill",render:function(c){return c(`particles.particles.particles_shape.particles_shape_options.particles_shape_options_${l}.particles_shape_options_${l}_fill_show`)}},[`particles_shape_options_${l}_font_show`]:{value:!0,label:"Show font",render:function(c){return c("particles.particles.particles_shape.particles_shape_type.particles_shape_type_0")=="character"}},[`particles_shape_options_${l}_font`]:{value:o.font,label:"font",render:function(c){return c("particles.particles.particles_shape.particles_shape_type.particles_shape_type_0")=="character"&&c(`particles.particles.particles_shape.particles_shape_options.particles_shape_options_${l}.particles_shape_options_${l}_font_show`)}},[`particles_shape_options_${l}_style_show`]:{value:!0,label:"Show style",render:function(c){return c("particles.particles.particles_shape.particles_shape_type.particles_shape_type_0")=="character"}},[`particles_shape_options_${l}_style`]:{value:o.style,label:"style",render:function(c){return c("particles.particles.particles_shape.particles_shape_type.particles_shape_type_0")=="character"&&c(`particles.particles.particles_shape.particles_shape_options.particles_shape_options_${l}.particles_shape_options_${l}_style_show`)}},[`particles_shape_options_${l}_value_show`]:{value:!0,label:"Show value",render:function(c){return c("particles.particles.particles_shape.particles_shape_type.particles_shape_type_0")=="character"}},[`particles_shape_options_${l}_value`]:xn({...o.value.reduce(function(c,f,h){return c[`particles_shape_options_${l}_value_${h}`]={value:f,label:`${h}`},c},{})},{label:"value",render:function(c){return c("particles.particles.particles_shape.particles_shape_type.particles_shape_type_0")=="character"&&c("particles.particles.particles_shape.particles_shape_options.particles_shape_options_${i}.particles_shape_options_${i}_value_show")},collapsed:!1}),[`particles_shape_options_${l}_weight_show`]:{value:!0,label:"Show weight",render:function(c){return c("particles.particles.particles_shape.particles_shape_type.particles_shape_type_0")=="character"}},[`particles_shape_options_${l}_weight`]:{value:o.weight,label:"weight",render:function(c){return c("particles.particles.particles_shape.particles_shape_type.particles_shape_type_0")=="character"&&c(`particles.particles.particles_shape.particles_shape_options.particles_shape_options_${l}.particles_shape_options_${l}_weight_show`)}},[`particles_shape_options_${l}_height_show`]:{value:!0,label:"Show height",render:function(c){return c("particles.particles.particles_shape.particles_shape_type.particles_shape_type_0")=="image"}},[`particles_shape_options_${l}_height`]:{value:o.height,label:"height",min:0,max:Math.max(window.innerWidth,window.innerHeight),step:1,render:function(c){return c("particles.particles.particles_shape.particles_shape_type.particles_shape_type_0")=="image"&&c(`particles.particles.particles_shape.particles_shape_options.particles_shape_options_${l}.particles_shape_options_${l}_height_show`)}},[`particles_shape_options_${l}_replaceColor_show`]:{value:!0,label:"Show replaceColor",render:function(c){return c("particles.particles.particles_shape.particles_shape_type.particles_shape_type_0")=="image"}},[`particles_shape_options_${l}_replaceColor`]:{value:o.replaceColor,label:"replaceColor",render:function(c){return c("particles.particles.particles_shape.particles_shape_type.particles_shape_type_0")=="image"&&c(`particles.particles.particles_shape.particles_shape_options.particles_shape_options_${l}.particles_shape_options_${l}_replaceColor_show`)}},[`particles_shape_options_${l}_src_show`]:{value:!0,label:"Show src",render:function(c){return c("particles.particles.particles_shape.particles_shape_type.particles_shape_type_0")=="image"}},[`particles_shape_options_${l}_src`]:{value:o.src,label:"src",render:function(c){return c("particles.particles.particles_shape.particles_shape_type.particles_shape_type_0")=="image"&&c(`particles.particles.particles_shape.particles_shape_options.particles_shape_options_${l}.particles_shape_options_${l}_src_show`)}},[`particles_shape_options_${l}_width_show`]:{value:!0,label:"Show width",render:function(c){return c("particles.particles.particles_shape.particles_shape_type.particles_shape_type_0")=="image"}},[`particles_shape_options_${l}_width`]:{value:o.width,label:"width",min:0,max:Math.max(window.innerWidth,window.innerHeight),step:1,render:function(c){return c("particles.particles.particles_shape.particles_shape_type.particles_shape_type_0")=="image"&&c(`particles.particles.particles_shape.particles_shape_options.particles_shape_options_${l}.particles_shape_options_${l}_width_show`)}},[`particles_shape_options_${l}_inset_show`]:{value:!0,label:"Show inset",render:function(c){return c("particles.particles.particles_shape.particles_shape_type.particles_shape_type_0")=="star"}},[`particles_shape_options_${l}_inset`]:{value:o.inset,label:"inset",min:0,max:1e3,step:1,render:function(c){return c("particles.particles.particles_shape.particles_shape_type.particles_shape_type_0")=="star"&&c(`particles.particles.particles_shape.particles_shape_options.particles_shape_options_${l}.particles_shape_options_${l}_inset_show`)}},[`particles_shape_options_${l}_sides_show`]:{value:!0,label:"Show sides",render:function(c){return c("particles.particles.particles_shape.particles_shape_type.particles_shape_type_0")=="polygon"||c("particles.particles.particles_shape.particles_shape_type.particles_shape_type_0")=="star"}},[`particles_shape_options_${l}_sides`]:{value:o.sides,label:"sides",min:0,max:1e3,step:1,render:function(c){return(c("particles.particles.particles_shape.particles_shape_type.particles_shape_type_0")=="polygon"||c("particles.particles.particles_shape.particles_shape_type.particles_shape_type_0")=="star")&&c(`particles.particles.particles_shape.particles_shape_options.particles_shape_options_${l}.particles_shape_options_${l}_sides_show`)}}},{label:`${l}`,collapsed:!1}),a},{})},{label:"options",collapsed:!1}),particles_shape_type:xn({...e.particles.shape.type.reduce(function(a,o,l){return a[`particles_shape_type_${l}`]={value:o,label:`${l}`,options:["character","image","polygon","star","circle","square","triangle"]},a},{})},{label:"type",collapsed:!1})},{label:"shape",collapsed:!0}),particles_size:xn({particles_size_value:{value:[e.particles.size.value.min,e.particles.size.value.max],label:"value",min:0,max:1e3,step:1},particles_size_animation:xn({particles_size_animation_destroy:{value:e.particles.size.animation.destroy,label:"destroy",options:["none","max","min"]},particles_size_animation_startValue:{value:e.particles.size.animation.startValue,label:"startValue",options:["max","min","random"]}},{label:"animation",collapsed:!1})},{label:"size",collapsed:!0}),particles_stroke:xn({...e.particles.stroke.reduce(function(a,o,l){return a[`particles_stroke_${l}`]=xn({[`particles_stroke_${l}_color`]:xn({[`particles_stroke_${l}_color_value`]:xn({...o.color.value.reduce(function(c,f,h){return c[`particles_stroke_${l}_color_value_${h}`]={value:f,label:`${h}`},c},{})},{label:"value",collapsed:!1})},{label:"color",collapsed:!1}),[`particles_stroke_${l}_opacity_show`]:{value:!0,label:"Show opacity"},[`particles_stroke_${l}_opacity`]:{value:[o.opacity.min,o.opacity.max],label:"opacity",min:0,max:1,step:.01,render:function(c){return c(`particles.particles.particles_stroke.particles_stroke_${l}.particles_stroke_${l}_opacity_show`)}},[`particles_stroke_${l}_width_show`]:{value:!0,label:"Show width"},[`particles_stroke_${l}_width`]:{value:[o.width.min,o.width.max],label:"width",min:0,max:1e3,step:1,render:function(c){return c(`particles.particles.particles_stroke.particles_stroke_${l}.particles_stroke_${l}_width_show`)}}},{label:`${l}`,collapsed:!1}),a},{})},{label:"stroke",collapsed:!0}),particles_zIndex:xn({particles_zIndex_value:{value:e.particles.zIndex.value,label:"value",min:0,max:10,step:1},particles_zIndex_opacityRate:{value:e.particles.zIndex.opacityRate,label:"opacityRate",min:0,max:10,step:1},particles_zIndex_sizeRate:{value:e.particles.zIndex.sizeRate,label:"sizeRate",min:0,max:10,step:1},particles_zIndex_velocityRate:{value:e.particles.zIndex.velocityRate,label:"velocityRate",min:0,max:10,step:1}},{label:"zIndex",collapsed:!0})},{collapsed:!0}),pauseOnBlur:{value:e.pauseOnBlur},pauseOnOutSideViewport:{value:e.pauseOnOutSideViewport},preset_show:{value:!0,label:"Show preset"},preset:xn({...e.preset.reduce(function(a,o,l){return a[`preset_${l}`]={value:o,label:`${l}`,options:["","basic","confetti","fireworks","stars","snow","bubbles","firefly","links","fire","seaAnemone","fountain","bigCircles","blossomFallV1","FlyingBat"],render:function(c){return c("particles.preset_show")}},a},{})},{collapsed:!0}),responsive:xn({...e.responsive.reduce(function(a,o,l){return a[`responsive_${l}`]=xn({[`responsive_${l}_maxWidth`]:{value:o.maxWidth,label:"maxWidth",min:0,max:1e4,step:1},[`responsive_${l}_mode`]:{value:o.mode,label:"mode",options:["screen","canvas"]}},{label:`${l}`,collapsed:!0}),a},{})},{collapsed:!0}),smooth:{value:e.smooth},style:{value:e.style},themes:xn({...e.themes.reduce(function(a,o,l){return a[`themes_${l}`]=xn({[`themes_${l}_default`]:xn({[`themes_${l}_default_auto`]:{value:o.default.auto,label:"auto"},[`themes_${l}_default_mode`]:{value:o.default.mode,label:"mode",options:["any","dark","light"]},[`themes_${l}_default_value`]:{value:o.default.value,label:"value"}},{label:"default",collapsed:!1})},{label:`${l}`,collapsed:!0}),a},{})},{collapsed:!0}),zLayers:{value:e.zLayers,min:0,max:100,step:1}});r==null||JSON.stringify(r)==="{}"?r={...e}:(r.background={},r.background.color={},r.background.color.value=e.background.color.value.map(function(a,o){return r[`background_color_value_${o}`]}),e.background.color.value.map(function(a,o){delete r[`background_color_value_${o}`]}),r.background.image=r.background_image,delete r.background_image,r.background.opacity=r.background_opacity,delete r.background_opacity,r.background.position=r.background_position,delete r.background_position,r.background.repeat=r.background_repeat,delete r.background_repeat,r.background.size=r.background_size,delete r.background_size,r.backgroundMask={},r.backgroundMask.composite=r.backgroundMask_composite,delete r.backgroundMask_composite,r.backgroundMask.cover={},r.backgroundMask.cover.color={},r.backgroundMask.cover.color.value=e.backgroundMask.cover.color.value.map(function(a,o){return r[`backgroundMask_cover_color_value_${o}`]}),e.backgroundMask.cover.color.value.map(function(a,o){delete r[`backgroundMask_cover_color_value_${o}`]}),r.backgroundMask.cover.opacity=r.backgroundMask_cover_opacity,delete r.backgroundMask_cover_opacity,r.backgroundMask.enable=r.backgroundMask_enable,delete r.backgroundMask_enable,r.delay={},r.delay.min=r.delay[0],r.delay.max=r.delay[1],r.duration={},r.duration.min=r.duration[0],r.duration.max=r.duration[1],r.fullScreen={},r.fullScreen.enable=r.fullScreen_enable,delete r.fullScreen_enable,r.fullScreen.zIndex=r.fullScreen_zIndex,delete r.fullScreen_zIndex,r.interactivity={},r.interactivity.detectsOn=r.interactivity_detectsOn,delete r.interactivity_detectsOn,r.interactivity.events={},r.interactivity.events.onClick={},r.interactivity.events.onClick.enable=r.interactivity_events_onClick_enable,delete r.interactivity_events_onClick_enable,r.interactivity.events.onClick.mode=e.interactivity.events.onClick.mode.map(function(a,o){return r[`interactivity_events_onClick_mode_${o}`]}),e.interactivity.events.onClick.mode.map(function(a,o){delete r[`interactivity_events_onClick_mode_${o}`]}),r.interactivity.events.onDiv={},r.interactivity.events.onDiv.enable=r.interactivity_events_onDiv_enable,delete r.interactivity_events_onDiv_enable,r.interactivity.events.onDiv.mode=e.interactivity.events.onDiv.mode.map(function(a,o){return r[`interactivity_events_onDiv_mode_${o}`]}),e.interactivity.events.onDiv.mode.map(function(a,o){delete r[`interactivity_events_onDiv_mode_${o}`]}),r.interactivity.events.onDiv.selectors=e.interactivity.events.onDiv.selectors.map(function(a,o){return r[`interactivity_events_onDiv_selectors_${o}`]}),e.interactivity.events.onDiv.selectors.map(function(a,o){delete r[`interactivity_events_onDiv_selectors_${o}`]}),r.interactivity.events.onDiv.type=r.interactivity_events_onDiv_type,delete r.interactivity_events_onDiv_type,r.interactivity.events.onHover={},r.interactivity.events.onHover.enable=r.interactivity_events_onHover_enable,delete r.interactivity_events_onHover_enable,r.interactivity.events.onHover.mode=e.interactivity.events.onHover.mode.map(function(a,o){return r[`interactivity_events_onHover_mode_${o}`]}),e.interactivity.events.onHover.mode.map(function(a,o){delete r[`interactivity_events_onHover_mode_${o}`]}),r.interactivity.events.onHover.parallax={},r.interactivity.events.onHover.parallax.enable=r.interactivity_events_onHover_parallax_enable,delete r.interactivity_events_onHover_parallax_enable,r.interactivity.events.onHover.parallax.force=r.interactivity_events_onHover_parallax_force,delete r.interactivity_events_onHover_parallax_force,r.interactivity.events.onHover.parallax.smooth=r.interactivity_events_onHover_parallax_smooth,delete r.interactivity_events_onHover_parallax_smooth,r.interactivity.events.resize={},r.interactivity.events.resize.delay=r.interactivity_events_resize_delay,delete r.interactivity_events_resize_delay,r.interactivity.events.resize.enable=r.interactivity_events_resize_enable,delete r.interactivity_events_resize_enable,r.interactivity.modes={},r.interactivity.modes.attract={},r.interactivity.modes.attract.distance=r.interactivity_modes_attract_distance,delete r.interactivity_modes_attract_distance,r.interactivity.modes.attract.duration=r.interactivity_modes_attract_duration,delete r.interactivity_modes_attract_duration,r.interactivity.modes.attract.easing=r.interactivity_modes_attract_easing,delete r.interactivity_modes_attract_easing,r.interactivity.modes.attract.factor=r.interactivity_modes_attract_factor,delete r.interactivity_modes_attract_factor,r.interactivity.modes.attract.maxSpeed=r.interactivity_modes_attract_maxSpeed,delete r.interactivity_modes_attract_maxSpeed,r.interactivity.modes.attract.speed=r.interactivity_modes_attract_speed,delete r.interactivity_modes_attract_speed,r.interactivity.modes.bounce={},r.interactivity.modes.bounce.distance=r.interactivity_modes_bounce_distance,delete r.interactivity_modes_bounce_distance,r.interactivity.modes.bubble={},r.interactivity.modes.bubble.distance=r.interactivity_modes_bubble_distance,delete r.interactivity_modes_bubble_distance,r.interactivity.modes.bubble.duration=r.interactivity_modes_bubble_duration,delete r.interactivity_modes_bubble_duration,r.interactivity.modes.bubble.mix=r.interactivity_modes_bubble_mix,delete r.interactivity_modes_bubble_mix,r.interactivity.modes.bubble.opacity=r.interactivity_modes_bubble_opacity,delete r.interactivity_modes_bubble_opacity,r.interactivity.modes.bubble.color={},r.interactivity.modes.bubble.color.value=e.interactivity.modes.bubble.color.value.map(function(a,o){return r[`interactivity_modes_bubble_color_value_${o}`]}),e.interactivity.modes.bubble.color.value.map(function(a,o){delete r[`interactivity_modes_bubble_color_value_${o}`]}),r.interactivity.modes.bubble.size=r.interactivity_modes_bubble_size,delete r.interactivity_modes_bubble_size,r.interactivity.modes.bubble.divs={},r.interactivity.modes.bubble.divs.distance=r.interactivity_modes_bubble_divs_distance,delete r.interactivity_modes_bubble_divs_distance,r.interactivity.modes.bubble.divs.duration=r.interactivity_modes_bubble_divs_duration,delete r.interactivity_modes_bubble_divs_duration,r.interactivity.modes.bubble.divs.mix=r.interactivity_modes_bubble_divs_mix,delete r.interactivity_modes_bubble_divs_mix,r.interactivity.modes.bubble.divs.selectors=e.interactivity.modes.bubble.divs.selectors.map(function(a,o){return r[`interactivity_modes_bubble_divs_selectors_${o}`]}),e.interactivity.modes.bubble.divs.selectors.map(function(a,o){delete r[`interactivity_modes_bubble_divs_selectors_${o}`]}),r.interactivity.modes.connect={},r.interactivity.modes.connect.distance=r.interactivity_modes_connect_distance,delete r.interactivity_modes_connect_distance,r.interactivity.modes.connect.links={},r.interactivity.modes.connect.links.opacity=r.interactivity_modes_connect_links_opacity,delete r.interactivity_modes_connect_links_opacity,r.interactivity.modes.connect.radius=r.interactivity_modes_connect_radius,delete r.interactivity_modes_connect_radius,r.interactivity.modes.grab={},r.interactivity.modes.grab.distance=r.interactivity_modes_grab_distance,delete r.interactivity_modes_grab_distance,r.interactivity.modes.grab.links={},r.interactivity.modes.grab.links.blink=r.interactivity_modes_grab_links_blink,delete r.interactivity_modes_grab_links_blink,r.interactivity.modes.grab.links.consent=r.interactivity_modes_grab_links_consent,delete r.interactivity_modes_grab_links_consent,r.interactivity.modes.grab.links.opacity=r.interactivity_modes_grab_links_opacity,delete r.interactivity_modes_grab_links_opacity,r.interactivity.modes.light={},r.interactivity.modes.light.area={},r.interactivity.modes.light.area.gradient={},r.interactivity.modes.light.area.gradient.start={},r.interactivity.modes.light.area.gradient.start.value=e.interactivity.modes.light.area.gradient.start.value.map(function(a,o){return r[`interactivity_modes_light_area_gradient_start_value_${o}`]}),e.interactivity.modes.light.area.gradient.start.value.map(function(a,o){delete r[`interactivity_modes_light_area_gradient_start_value_${o}`]}),r.interactivity.modes.light.area.gradient.stop={},r.interactivity.modes.light.area.gradient.stop.value=e.interactivity.modes.light.area.gradient.stop.value.map(function(a,o){return r[`interactivity_modes_light_area_gradient_stop_value_${o}`]}),e.interactivity.modes.light.area.gradient.stop.value.map(function(a,o){delete r[`interactivity_modes_light_area_gradient_stop_value_${o}`]}),r.interactivity.modes.light.area.radius=r.interactivity_modes_light_area_radius,delete r.interactivity_modes_light_area_radius,r.interactivity.modes.light.shadow={},r.interactivity.modes.light.shadow.color={},r.interactivity.modes.light.shadow.color.value=e.interactivity.modes.light.shadow.color.value.map(function(a,o){return r[`interactivity_modes_light_shadow_color_value_${o}`]}),e.interactivity.modes.light.shadow.color.value.map(function(a,o){delete r[`interactivity_modes_light_shadow_color_value_${o}`]}),r.interactivity.modes.light.shadow.length=r.interactivity_modes_light_shadow_length,delete r.interactivity_modes_light_shadow_length,r.interactivity.modes.push={},r.interactivity.modes.push.default=r.interactivity_modes_push_default,delete r.interactivity_modes_push_default,r.interactivity.modes.push.groups=e.interactivity.modes.push.groups.map(function(a,o){return r[`interactivity_modes_push_groups_${o}`]}),e.interactivity.modes.push.groups.map(function(a,o){delete r[`interactivity_modes_push_groups_${o}`]}),r.interactivity.modes.push.quantity=r.interactivity_modes_push_quantity,delete r.interactivity_modes_push_quantity,r.interactivity.modes.remove={},r.interactivity.modes.remove.quantity=r.interactivity_modes_remove_quantity,delete r.interactivity_modes_remove_quantity,r.interactivity.modes.repulse={},r.interactivity.modes.repulse.distance=r.interactivity_modes_repulse_distance,delete r.interactivity_modes_repulse_distance,r.interactivity.modes.repulse.duration=r.interactivity_modes_repulse_duration,delete r.interactivity_modes_repulse_duration,r.interactivity.modes.repulse.factor=r.interactivity_modes_repulse_factor,delete r.interactivity_modes_repulse_factor,r.interactivity.modes.repulse.speed=r.interactivity_modes_repulse_speed,delete r.interactivity_modes_repulse_speed,r.interactivity.modes.repulse.maxSpeed=r.interactivity_modes_repulse_maxSpeed,delete r.interactivity_modes_repulse_maxSpeed,r.interactivity.modes.repulse.easing=r.interactivity_modes_repulse_easing,delete r.interactivity_modes_repulse_easing,r.interactivity.modes.repulse.divs={},r.interactivity.modes.repulse.divs.distance=r.interactivity_modes_repulse_divs_distance,delete r.interactivity_modes_repulse_divs_distance,r.interactivity.modes.repulse.divs.duration=r.interactivity_modes_repulse_divs_duration,delete r.interactivity_modes_repulse_divs_duration,r.interactivity.modes.repulse.divs.factor=r.interactivity_modes_repulse_divs_factor,delete r.interactivity_modes_repulse_divs_factor,r.interactivity.modes.repulse.divs.speed=r.interactivity_modes_repulse_divs_speed,delete r.interactivity_modes_repulse_divs_speed,r.interactivity.modes.repulse.divs.maxSpeed=r.interactivity_modes_repulse_divs_maxSpeed,delete r.interactivity_modes_repulse_divs_maxSpeed,r.interactivity.modes.repulse.divs.easing=r.interactivity_modes_repulse_divs_easing,delete r.interactivity_modes_repulse_divs_easing,r.interactivity.modes.repulse.divs.selectors=e.interactivity.modes.repulse.divs.selectors.map(function(a,o){return r[`interactivity_modes_repulse_divs_selectors_${o}`]}),e.interactivity.modes.repulse.divs.selectors.map(function(a,o){delete r[`interactivity_modes_repulse_divs_selectors_${o}`]}),r.interactivity.modes.pause=e.interactivity.modes.pause,delete r.interactivity_modes_pause,r.interactivity.modes.slow={},r.interactivity.modes.slow.factor=r.interactivity_modes_slow_factor,delete r.interactivity_modes_slow_factor,r.interactivity.modes.slow.radius=r.interactivity_modes_slow_radius,delete r.interactivity_modes_slow_radius,r.interactivity.modes.trail={},r.interactivity.modes.trail.delay=r.interactivity_modes_trail_delay,delete r.interactivity_modes_trail_delay,r.interactivity.modes.trail.pauseOnStop=r.interactivity_modes_trail_pauseOnStop,delete r.interactivity_modes_trail_pauseOnStop,r.interactivity.modes.trail.quantity=r.interactivity_modes_trail_quantity,delete r.interactivity_modes_trail_quantity,r.manualParticles=e.manualParticles.map(function(a,o){let l={};return l.options=e.manualParticles[o].options?e.manualParticles[o].options:null,l.position=r[`manualParticles_${o}_position_show`]?r[`manualParticles_${o}_position_show`]:null,l}),e.manualParticles.map(function(a,o){delete r[`manualParticles_${o}_position_show`],delete r[`manualParticles_${o}_position`]}),r.particles={},r.particles.bounce={},r.particles.bounce.horizontal={},r.particles.bounce.horizontal.value={},r.particles.bounce.horizontal.value.min=r.particles_bounce_horizontal_value[0],r.particles.bounce.horizontal.value.max=r.particles_bounce_horizontal_value[1],delete r.particles_bounce_horizontal_value,r.particles.bounce.vertical={},r.particles.bounce.vertical.min=r.particles_bounce_vertical_value[0],r.particles.bounce.vertical.max=r.particles_bounce_vertical_value[1],delete r.particles_bounce_vertical_value,r.particles.collisions={},r.particles.collisions.absorb={},r.particles.collisions.absorb.speed=r.particles_collisions_absorb_speed,delete r.particles_collisions_absorb_speed,r.particles.collisions.bounce=e.particles.collisions.bounce,r.particles.collisions.enable=r.particles_collisions_enable,delete r.particles_collisions_enable,r.particles.collisions.mode=r.particles_collisions_mode,delete r.particles_collisions_mode,r.particles.collisions.overlap={},r.particles.collisions.overlap.enable=r.particles_collisions_overlap_enable,delete r.particles_collisions_overlap_enable,r.particles.collisions.overlap.retries=r.particles_collisions_overlap_retries,delete r.particles_collisions_overlap_retries,r.particles.color={},r.particles.color.value=e.particles.color.value.map(function(a,o){return r[`particles_color_value_${o}`]}),e.particles.color.value.map(function(a,o){delete r[`particles_color_value_${o}`]}),r.particles.groups=e.particles.groups,r.particles.interactivity=e.particles.interactivity?e.particles.interactivity:null,r.particles.links={},r.particles.links.blink=r.particles_links_blink,delete r.particles_links_blink,r.particles.links.color={},r.particles.links.color.value=e.particles.links.color.value.map(function(a,o){return r[`particles_links_color_value_${o}`]}),e.particles.links.color.value.map(function(a,o){delete r[`particles_links_color_value_${o}`]}),r.particles.links.consent=r.particles_links_consent,delete r.particles_links_consent,r.particles.links.distance=r.particles_links_distance,delete r.particles_links_distance,r.particles.links.enable=r.particles_links_enable,delete r.particles_links_enable,r.particles.links.frequency=r.particles_links_frequency,delete r.particles_links_frequency,r.particles.links.opacity=r.particles_links_opacity,delete r.particles_links_opacity,r.particles.links.shadow={},r.particles.links.shadow.blur=r.particles_links_shadow_blur,delete r.particles_links_shadow_blur,r.particles.links.shadow.color={},r.particles.links.shadow.color.value=e.particles.links.shadow.color.value.map(function(a,o){return r[`particles_links_shadow_color_value_${o}`]}),e.particles.links.shadow.color.value.map(function(a,o){delete r[`particles_links_shadow_color_value_${o}`]}),r.particles.links.shadow.enable=r.particles_links_shadow_enable,delete r.particles_links_shadow_enable,r.particles.links.triangles={},r.particles.links.triangles.enable=r.particles_links_triangles_enable,delete r.particles_links_triangles_enable,r.particles.links.triangles.frequency=r.particles_links_triangles_frequency,delete r.particles_links_triangles_frequency,r.particles.links.triangles.opacity=r.particles_links_triangles_opacity,delete r.particles_links_triangles_opacity,r.particles.links.width=r.particles_links_width,delete r.particles_links_width,r.particles.links.warp=r.particles_links_warp,delete r.particles_links_warp,r.particles.move={},r.particles.move.angle={},r.particles.move.angle.offset={},r.particles.move.angle.offset.min=r.particles_move_angle_offset[0],r.particles.move.angle.offset.max=r.particles_move_angle_offset[1],delete r.particles_move_angle_offset,r.particles.move.angle.value={},r.particles.move.angle.value.min=r.particles_move_angle_value[0],r.particles.move.angle.value.max=r.particles_move_angle_value[1],delete r.particles_move_angle_value,r.particles.move.attract={},r.particles.move.attract.distance={},r.particles.move.attract.distance.min=r.particles_move_attract_distance[0],r.particles.move.attract.distance.max=r.particles_move_attract_distance[1],delete r.particles_move_attract_distance,r.particles.move.attract.enable=r.particles_move_attract_enable,delete r.particles_move_attract_enable,r.particles.move.attract.rotate=r.particles_move_attract_rotate,delete r.particles_move_attract_rotate,r.particles.move.center={},r.particles.move.center.mode=r.particles_move_center_mode,delete r.particles_move_center_mode,r.particles.move.center.radius=r.particles_move_center_radius,delete r.particles_move_center_radius,r.particles.move.decay={},r.particles.move.decay.min=r.particles_move_decay[0],r.particles.move.decay.max=r.particles_move_decay[1],delete r.particles_move_decay,r.particles.move.direction=r.particles_move_direction,delete r.particles_move_direction,r.particles.move.distance={},r.particles.move.distance.horizontal=r.particles_move_distance_horizontal,delete r.particles_move_distance_horizontal,r.particles.move.distance.vertical=r.particles_move_distance_vertical,delete r.particles_move_distance_vertical,r.particles.move.drift={},r.particles.move.drift.min=r.particles_move_drift[0],r.particles.move.drift.max=r.particles_move_drift[1],delete r.particles_move_drift,r.particles.move.enable=r.particles_move_enable,delete r.particles_move_enable,r.particles.move.gravity={},r.particles.move.gravity.acceleration={},r.particles.move.gravity.acceleration.min=r.particles_move_gravity_acceleration[0],r.particles.move.gravity.acceleration.max=r.particles_move_gravity_acceleration[1],delete r.particles_move_gravity_acceleration,r.particles.move.gravity.enable=r.particles_move_gravity_enable,delete r.particles_move_gravity_enable,r.particles.move.gravity.inverse=r.particles_move_gravity_inverse,delete r.particles_move_gravity_inverse,r.particles.move.gravity.maxSpeed={},r.particles.move.gravity.maxSpeed.min=r.particles_move_gravity_maxSpeed[0],r.particles.move.gravity.maxSpeed.max=r.particles_move_gravity_maxSpeed[1],delete r.particles_move_gravity_maxSpeed,r.particles.move.outModes={},r.particles.move.outModes.bottom=r.particles_move_outModes_bottom_show?r.particles_move_outModes_bottom:null,delete r.particles_move_outModes_bottom_show,delete r.particles_move_outModes_bottom,r.particles.move.outModes.default=r.particles_move_outModes_default,delete r.particles_move_outModes_default,r.particles.move.outModes.left=r.particles_move_outModes_left_show?r.particles_move_outModes_left:null,delete r.particles_move_outModes_left_show,delete r.particles_move_outModes_left,r.particles.move.outModes.right=r.particles_move_outModes_right_show?r.particles_move_outModes_right:null,delete r.particles_move_outModes_right_show,delete r.particles_move_outModes_right,r.particles.move.outModes.top=r.particles_move_outModes_top_show?r.particles_move_outModes_top:null,delete r.particles_move_outModes_top_show,delete r.particles_move_outModes_top,r.particles.move.path={},r.particles.move.path.clamp=r.particles_move_path_clamp,delete r.particles_move_path_clamp,r.particles.move.path.delay={},r.particles.move.path.delay.value={},r.particles.move.path.delay.value.min=r.particles_move_path_delay_value[0],r.particles.move.path.delay.value.max=r.particles_move_path_delay_value[1],delete r.particles_move_path_delay_value,r.particles.move.path.enable=r.particles_move_path_enable,delete r.particles_move_path_enable,r.particles.move.path.generator=r.particles_move_path_generator_show?r.particles_move_path_generator:null,delete r.particles_move_path_generator_show,delete r.particles_move_path_generator,r.particles.move.path.options=r.particles_move_path_options,delete r.particles_move_path_options,r.particles.move.random=r.particles_move_random,delete r.particles_move_random,r.particles.move.size=r.particles_move_size,delete r.particles_move_size,r.particles.move.speed={},r.particles.move.speed.min=r.particles_move_speed[0],r.particles.move.speed.max=r.particles_move_speed[1],delete r.particles_move_speed,r.particles.move.spin={},r.particles.move.spin.acceleration={},r.particles.move.spin.acceleration.min=r.particles_move_spin_acceleration[0],r.particles.move.spin.acceleration.max=r.particles_move_spin_acceleration[1],delete r.particles_move_spin_acceleration,r.particles.move.spin.enable=r.particles_move_spin_enable,delete r.particles_move_spin_enable,r.particles.move.spin.position=r.particles_move_spin_position_show?r.particles_move_spin_position:null,delete r.particles_move_spin_position_show,delete r.particles_move_spin_position,r.particles.move.straight=r.particles_move_straight,delete r.particles_move_straight,r.particles.move.trail={},r.particles.move.trail.enable=r.particles_move_trail_enable,delete r.particles_move_trail_enable,r.particles.move.trail.fill={},r.particles.move.trail.fill.color={},r.particles.move.trail.fill.color.value=e.particles.move.trail.fill.color.value.map(function(a,o){return r.particles_move_trail_fill_color_show?r[`particles_move_trail_fill_color_value_${o}`]:null}),e.particles.move.trail.fill.color.value.map(function(a,o){delete r[`particles_move_trail_fill_color_value_${o}`]}),r.particles.move.trail.fill.image=r.particles_move_trail_fill_image_show?r.particles_move_trail_fill_image:null,delete r.particles_move_trail_fill_image_show,delete r.particles_move_trail_fill_image,r.particles.move.trail.length=r.particles_move_trail_length,delete r.particles_move_trail_length,r.particles.move.vibrate=r.particles_move_vibrate,delete r.particles_move_vibrate,r.particles.move.warp=r.particles_move_warp,delete r.particles_move_warp,r.particles.number={},r.particles.number.density={},r.particles.number.density.enable=r.particles_number_density_enable,delete r.particles_number_density_enable,r.particles.number.density.height=r.particles_number_density_height,delete r.particles_number_density_height,r.particles.number.density.width=r.particles_number_density_width,delete r.particles_number_density_width,r.particles.number.limit=r.particles_number_limit,delete r.particles_number_limit,r.particles.number.value=r.particles_number_value,delete r.particles_number_value,r.particles.opacity={},r.particles.opacity.value=r.particles_opacity_value,delete r.particles_opacity_value,r.particles.opacity.random=r.particles_opacity_random,delete r.particles_opacity_random,r.particles.opacity.animation={},r.particles.opacity.animation.destroy=r.particles_opacity_animation_destroy,delete r.particles_opacity_animation_destroy,r.particles.opacity.animation.startValue=r.particles_opacity_animation_startValue,delete r.particles_opacity_animation_startValue,r.particles.reduceDuplicates=r.particles_reduceDuplicates,delete r.particles_reduceDuplicates,r.particles.shadow={},r.particles.shadow.blur=r.particles_shadow_blur,delete r.particles_shadow_blur,r.particles.shadow.color={},r.particles.shadow.color.value=e.particles.shadow.color.value.map(function(a,o){return r[`particles_shadow_color_value_${o}`]}),e.particles.shadow.color.value.map(function(a,o){delete r[`particles_shadow_color_value_${o}`]}),r.particles.shadow.enable=r.particles_shadow_enable,delete r.particles_shadow_enable,r.particles.shadow.offset=r.particles_shadow_offset,delete r.particles_shadow_offset,r.particles.shape={},r.particles.shape.options=e.particles.shape.options.map(function(a,o){let l={};return l.close=r[`particles_shape_options_${o}_close_show`]?r[`particles_shape_options_${o}_close`]:null,l.fill=r[`particles_shape_options_${o}_fill_show`]?r[`particles_shape_options_${o}_fill`]:null,l.particles=e.particles.shape.options[0].particles?e.particles.shape.options[0].particles:null,l.font=r.particles_shape_type_0=="character"&&r[`particles_shape_options_${o}_font_show`]?r[`particles_shape_options_${o}_font`]:null,l.style=r.particles_shape_type_0=="character"&&r[`particles_shape_options_${o}_style_show`]?r[`particles_shape_options_${o}_style`]:null,l.value=a.value.map(function(c,f){return r.particles_shape_type_0=="character"&&r[`particles_shape_options_${o}_value_show`]?r[`particles_shape_options_${o}_value_${f}`]:null}),l.weight=r.particles_shape_type_0=="character"&&r[`particles_shape_options_${o}_weight_show`]?r[`particles_shape_options_${o}_weight`]:null,l.height=r.particles_shape_type_0=="image"&&r[`particles_shape_options_${o}_height_show`]?r[`particles_shape_options_${o}_height`]:null,l.replaceColor=r.particles_shape_type_0=="image"&&r[`particles_shape_options_${o}_replaceColor_show`]?r[`particles_shape_options_${o}_replaceColor`]:null,l.src=r.particles_shape_type_0=="image"&&r[`particles_shape_options_${o}_src_show`]?r[`particles_shape_options_${o}_src`]:null,l.width=r.particles_shape_type_0=="image"&&r[`particles_shape_options_${o}_width_show`]?r[`particles_shape_options_${o}_width`]:null,l.inset=r.particles_shape_type_0=="star"&&r[`particles_shape_options_${o}_inset_show`]?r[`particles_shape_options_${o}_inset`]:null,l.sides=(r.particles_shape_type_0=="polygon"||r.particles_shape_type_0=="star")&&r[`particles_shape_options_${o}_sides_show`]?r[`particles_shape_options_${o}_sides`]:null,l}),e.particles.shape.options.map(function(a,o){delete r[`particles_shape_options_${o}_close_show`],delete r[`particles_shape_options_${o}_close`],delete r[`particles_shape_options_${o}_fill_show`],delete r[`particles_shape_options_${o}_fill`],delete e.particles.shape.options[0].particles,delete e.particles.shape.options[0].particles,delete r[`particles_shape_options_${o}_font_show`],delete r[`particles_shape_options_${o}_font`],delete r[`particles_shape_options_${o}_style_show`],delete r[`particles_shape_options_${o}_style`],a.value.map(function(l,c){delete r[`particles_shape_options_${o}_value_show`],delete r[`particles_shape_options_${o}_value_${c}`]}),delete r[`particles_shape_options_${o}_weight_show`],delete r[`particles_shape_options_${o}_weight`],delete r[`particles_shape_options_${o}_height_show`],delete r[`particles_shape_options_${o}_height`],delete r[`particles_shape_options_${o}_replaceColor_show`],delete r[`particles_shape_options_${o}_replaceColor`],delete r[`particles_shape_options_${o}_src_show`],delete r[`particles_shape_options_${o}_src`],delete r[`particles_shape_options_${o}_width_show`],delete r[`particles_shape_options_${o}_width`],delete r[`particles_shape_options_${o}_inset_show`],delete r[`particles_shape_options_${o}_inset`],delete r[`particles_shape_options_${o}_sides_show`],delete r[`particles_shape_options_${o}_sides`]}),r.particles.shape.type=e.particles.shape.type.map(function(a,o){return r[`particles_shape_type_${o}`]}),e.particles.shape.type.map(function(a,o){delete r[`particles_shape_type_${o}`]}),r.particles.size={},r.particles.size.value={},r.particles.size.value.min=r.particles_size_value[0],r.particles.size.value.max=r.particles_size_value[1],delete r.particles_size_value,r.particles.size.animation={},r.particles.size.animation.destroy=r.particles_size_animation_destroy,delete r.particles_size_animation_destroy,r.particles.size.animation.startValue=r.particles_size_animation_startValue,delete r.particles_size_animation_startValue,r.particles.stroke=e.particles.stroke.map(function(a,o){let l={};return l.color={},l.color.value=a.color.value.map(function(c,f){return r[`particles_stroke_${o}_color_value_${f}`]}),l.opacity={},l.opacity.min=r[`particles_stroke_${o}_opacity_show`]?r[`particles_stroke_${o}_opacity`][0]:null,l.opacity.max=r[`particles_stroke_${o}_opacity_show`]?r[`particles_stroke_${o}_opacity`][1]:null,l.width={},l.width.min=r[`particles_stroke_${o}_width_show`]?r[`particles_stroke_${o}_width`][0]:null,l.width.max=r[`particles_stroke_${o}_width_show`]?r[`particles_stroke_${o}_width`][1]:null,l}),e.particles.stroke.map(function(a,o){a.color.value.map(function(l,c){delete r[`particles_stroke_${o}_color_value_${c}`]}),delete r[`particles_stroke_${o}_opacity_show`],delete r[`particles_stroke_${o}_opacity`],delete r[`particles_stroke_${o}_width_show`],delete r[`particles_stroke_${o}_width`]}),r.particles.zIndex={},r.particles.zIndex.value=r.particles_zIndex_value,delete r.particles_zIndex_value,r.particles.zIndex.opacityRate=r.particles_zIndex_opacityRate,delete r.particles_zIndex_opacityRate,r.particles.zIndex.sizeRate=r.particles_zIndex_sizeRate,delete r.particles_zIndex_sizeRate,r.particles.zIndex.velocityRate=r.particles_zIndex_velocityRate,delete r.particles_zIndex_velocityRate,r.preset=e.preset.map(function(a,o){return r.preset_show?r[`preset_${o}`]:null}),e.preset.map(function(a,o){delete r[`preset_${o}`]}),r.responsive=e.responsive.map(function(a,o){let l={};return l.maxWidth=r[`responsive_${o}_maxWidth`],l.mode=r[`responsive_${o}_mode`],l.options=e.responsive[o].options,l}),e.responsive.map(function(a,o){delete r[`responsive_${o}_maxWidth`],delete r[`responsive_${o}_mode`]}),r.themes=e.themes.map(function(a,o){let l={};return l.default={},l.default.auto=r[`themes_${o}_default_auto`],l.default.mode=r[`themes_${o}_default_mode`],l.default.value=r[`themes_${o}_default_value`],l.name=r[`themes_${o}_name`],l.options=e.themes[0].options?e.themes[0].options:null,l}),e.themes.map(function(a,o){delete r[`themes_${o}_default_auto`],delete r[`themes_${o}_default_mode`],delete r[`themes_${o}_default_value`],delete r[`themes_${o}_name`]}),r.canvasMask=e.canvasMask,r.exportImage=e.exportImage,r.exportJSON=e.exportJSON,r.exportVideo=e.exportVideo,r.infection=e.infection,r.motion=e.motion,r.polygon=e.polygon,r.sounds=e.sounds);const s=H.useCallback(async function(a){Cue(a.particles._array)},[]);return H.useEffect(function(){n.includes("404")&&(window.innerWidth<=1080?(r.particles.links.distance=55,r.particles.move.speed.max=.25,r.particles.number.value=60,r.polygon.move.radius=2.5,r.polygon.url="/src/img/404_small.svg",r.polygon.position.x=15):(r.polygon.move.radius=15,r.polygon.url="/src/img/404.svg",r.polygon.position.x=5))},[n,t,r]),ge.jsx(ge.Fragment,{children:ge.jsx(Yde,{id:n,particlesLoaded:s,options:r})})}function PR(){return PR=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},PR.apply(this,arguments)}var _Se={strings:["These are the default values...","You know what you should do?","Use your own!","Have a great day!"],stringsElement:null,typeSpeed:0,startDelay:0,backSpeed:0,smartBackspace:!0,shuffle:!1,backDelay:700,fadeOut:!1,fadeOutClass:"typed-fade-out",fadeOutDelay:500,loop:!1,loopCount:1/0,showCursor:!0,cursorChar:"|",autoInsertCss:!0,attr:null,bindInputFocusEvents:!1,contentType:"html",onBegin:function(n){},onComplete:function(n){},preStringTyped:function(n,e){},onStringTyped:function(n,e){},onLastStringBackspaced:function(n){},onTypingPaused:function(n,e){},onTypingResumed:function(n,e){},onReset:function(n){},onStop:function(n,e){},onStart:function(n,e){},onDestroy:function(n){}},bSe=new((function(){function n(){}var e=n.prototype;return e.load=function(t,i,r){if(t.el=typeof r=="string"?document.querySelector(r):r,t.options=PR({},_Se,i),t.isInput=t.el.tagName.toLowerCase()==="input",t.attr=t.options.attr,t.bindInputFocusEvents=t.options.bindInputFocusEvents,t.showCursor=!t.isInput&&t.options.showCursor,t.cursorChar=t.options.cursorChar,t.cursorBlinking=!0,t.elContent=t.attr?t.el.getAttribute(t.attr):t.el.textContent,t.contentType=t.options.contentType,t.typeSpeed=t.options.typeSpeed,t.startDelay=t.options.startDelay,t.backSpeed=t.options.backSpeed,t.smartBackspace=t.options.smartBackspace,t.backDelay=t.options.backDelay,t.fadeOut=t.options.fadeOut,t.fadeOutClass=t.options.fadeOutClass,t.fadeOutDelay=t.options.fadeOutDelay,t.isPaused=!1,t.strings=t.options.strings.map(function(c){return c.trim()}),t.stringsElement=typeof t.options.stringsElement=="string"?document.querySelector(t.options.stringsElement):t.options.stringsElement,t.stringsElement){t.strings=[],t.stringsElement.style.cssText="clip: rect(0 0 0 0);clip-path:inset(50%);height:1px;overflow:hidden;position:absolute;white-space:nowrap;width:1px;";var s=Array.prototype.slice.apply(t.stringsElement.children),a=s.length;if(a)for(var o=0;o<a;o+=1)t.strings.push(s[o].innerHTML.trim())}for(var l in t.strPos=0,t.currentElContent=this.getCurrentElContent(t),t.currentElContent&&t.currentElContent.length>0&&(t.strPos=t.currentElContent.length-1,t.strings.unshift(t.currentElContent)),t.sequence=[],t.strings)t.sequence[l]=l;t.arrayPos=0,t.stopNum=0,t.loop=t.options.loop,t.loopCount=t.options.loopCount,t.curLoop=0,t.shuffle=t.options.shuffle,t.pause={status:!1,typewrite:!0,curString:"",curStrPos:0},t.typingComplete=!1,t.autoInsertCss=t.options.autoInsertCss,t.autoInsertCss&&(this.appendCursorAnimationCss(t),this.appendFadeOutAnimationCss(t))},e.getCurrentElContent=function(t){return t.attr?t.el.getAttribute(t.attr):t.isInput?t.el.value:t.contentType==="html"?t.el.innerHTML:t.el.textContent},e.appendCursorAnimationCss=function(t){var i="data-typed-js-cursor-css";if(t.showCursor&&!document.querySelector("["+i+"]")){var r=document.createElement("style");r.setAttribute(i,"true"),r.innerHTML=`
        .typed-cursor{
          opacity: 1;
        }
        .typed-cursor.typed-cursor--blink{
          animation: typedjsBlink 0.7s infinite;
          -webkit-animation: typedjsBlink 0.7s infinite;
                  animation: typedjsBlink 0.7s infinite;
        }
        @keyframes typedjsBlink{
          50% { opacity: 0.0; }
        }
        @-webkit-keyframes typedjsBlink{
          0% { opacity: 1; }
          50% { opacity: 0.0; }
          100% { opacity: 1; }
        }
      `,document.body.appendChild(r)}},e.appendFadeOutAnimationCss=function(t){var i="data-typed-fadeout-js-css";if(t.fadeOut&&!document.querySelector("["+i+"]")){var r=document.createElement("style");r.setAttribute(i,"true"),r.innerHTML=`
        .typed-fade-out{
          opacity: 0;
          transition: opacity .25s;
        }
        .typed-cursor.typed-cursor--blink.typed-fade-out{
          -webkit-animation: 0;
          animation: 0;
        }
      `,document.body.appendChild(r)}},n})()),yF=new((function(){function n(){}var e=n.prototype;return e.typeHtmlChars=function(t,i,r){if(r.contentType!=="html")return i;var s=t.substring(i).charAt(0);if(s==="<"||s==="&"){var a;for(a=s==="<"?">":";";t.substring(i+1).charAt(0)!==a&&!(1+ ++i>t.length););i++}return i},e.backSpaceHtmlChars=function(t,i,r){if(r.contentType!=="html")return i;var s=t.substring(i).charAt(0);if(s===">"||s===";"){var a;for(a=s===">"?"<":"&";t.substring(i-1).charAt(0)!==a&&!(--i<0););i--}return i},n})()),xSe=(function(){function n(t,i){bSe.load(this,i,t),this.begin()}var e=n.prototype;return e.toggle=function(){this.pause.status?this.start():this.stop()},e.stop=function(){this.typingComplete||this.pause.status||(this.toggleBlinking(!0),this.pause.status=!0,this.options.onStop(this.arrayPos,this))},e.start=function(){this.typingComplete||this.pause.status&&(this.pause.status=!1,this.pause.typewrite?this.typewrite(this.pause.curString,this.pause.curStrPos):this.backspace(this.pause.curString,this.pause.curStrPos),this.options.onStart(this.arrayPos,this))},e.destroy=function(){this.reset(!1),this.options.onDestroy(this)},e.reset=function(t){t===void 0&&(t=!0),clearInterval(this.timeout),this.replaceText(""),this.cursor&&this.cursor.parentNode&&(this.cursor.parentNode.removeChild(this.cursor),this.cursor=null),this.strPos=0,this.arrayPos=0,this.curLoop=0,t&&(this.insertCursor(),this.options.onReset(this),this.begin())},e.begin=function(){var t=this;this.options.onBegin(this),this.typingComplete=!1,this.shuffleStringsIfNeeded(this),this.insertCursor(),this.bindInputFocusEvents&&this.bindFocusEvents(),this.timeout=setTimeout(function(){t.strPos===0?t.typewrite(t.strings[t.sequence[t.arrayPos]],t.strPos):t.backspace(t.strings[t.sequence[t.arrayPos]],t.strPos)},this.startDelay)},e.typewrite=function(t,i){var r=this;this.fadeOut&&this.el.classList.contains(this.fadeOutClass)&&(this.el.classList.remove(this.fadeOutClass),this.cursor&&this.cursor.classList.remove(this.fadeOutClass));var s=this.humanizer(this.typeSpeed),a=1;this.pause.status!==!0?this.timeout=setTimeout(function(){i=yF.typeHtmlChars(t,i,r);var o=0,l=t.substring(i);if(l.charAt(0)==="^"&&/^\^\d+/.test(l)){var c=1;c+=(l=/\d+/.exec(l)[0]).length,o=parseInt(l),r.temporaryPause=!0,r.options.onTypingPaused(r.arrayPos,r),t=t.substring(0,i)+t.substring(i+c),r.toggleBlinking(!0)}if(l.charAt(0)==="`"){for(;t.substring(i+a).charAt(0)!=="`"&&(a++,!(i+a>t.length)););var f=t.substring(0,i),h=t.substring(f.length+1,i+a),v=t.substring(i+a+1);t=f+h+v,a--}r.timeout=setTimeout(function(){r.toggleBlinking(!1),i>=t.length?r.doneTyping(t,i):r.keepTyping(t,i,a),r.temporaryPause&&(r.temporaryPause=!1,r.options.onTypingResumed(r.arrayPos,r))},o)},s):this.setPauseStatus(t,i,!0)},e.keepTyping=function(t,i,r){i===0&&(this.toggleBlinking(!1),this.options.preStringTyped(this.arrayPos,this));var s=t.substring(0,i+=r);this.replaceText(s),this.typewrite(t,i)},e.doneTyping=function(t,i){var r=this;this.options.onStringTyped(this.arrayPos,this),this.toggleBlinking(!0),this.arrayPos===this.strings.length-1&&(this.complete(),this.loop===!1||this.curLoop===this.loopCount)||(this.timeout=setTimeout(function(){r.backspace(t,i)},this.backDelay))},e.backspace=function(t,i){var r=this;if(this.pause.status!==!0){if(this.fadeOut)return this.initFadeOut();this.toggleBlinking(!1);var s=this.humanizer(this.backSpeed);this.timeout=setTimeout(function(){i=yF.backSpaceHtmlChars(t,i,r);var a=t.substring(0,i);if(r.replaceText(a),r.smartBackspace){var o=r.strings[r.arrayPos+1];r.stopNum=o&&a===o.substring(0,i)?i:0}i>r.stopNum?(i--,r.backspace(t,i)):i<=r.stopNum&&(r.arrayPos++,r.arrayPos===r.strings.length?(r.arrayPos=0,r.options.onLastStringBackspaced(),r.shuffleStringsIfNeeded(),r.begin()):r.typewrite(r.strings[r.sequence[r.arrayPos]],i))},s)}else this.setPauseStatus(t,i,!1)},e.complete=function(){this.options.onComplete(this),this.loop?this.curLoop++:this.typingComplete=!0},e.setPauseStatus=function(t,i,r){this.pause.typewrite=r,this.pause.curString=t,this.pause.curStrPos=i},e.toggleBlinking=function(t){this.cursor&&(this.pause.status||this.cursorBlinking!==t&&(this.cursorBlinking=t,t?this.cursor.classList.add("typed-cursor--blink"):this.cursor.classList.remove("typed-cursor--blink")))},e.humanizer=function(t){return Math.round(Math.random()*t/2)+t},e.shuffleStringsIfNeeded=function(){this.shuffle&&(this.sequence=this.sequence.sort(function(){return Math.random()-.5}))},e.initFadeOut=function(){var t=this;return this.el.className+=" "+this.fadeOutClass,this.cursor&&(this.cursor.className+=" "+this.fadeOutClass),setTimeout(function(){t.arrayPos++,t.replaceText(""),t.strings.length>t.arrayPos?t.typewrite(t.strings[t.sequence[t.arrayPos]],0):(t.typewrite(t.strings[0],0),t.arrayPos=0)},this.fadeOutDelay)},e.replaceText=function(t){this.attr?this.el.setAttribute(this.attr,t):this.isInput?this.el.value=t:this.contentType==="html"?this.el.innerHTML=t:this.el.textContent=t},e.bindFocusEvents=function(){var t=this;this.isInput&&(this.el.addEventListener("focus",function(i){t.stop()}),this.el.addEventListener("blur",function(i){t.el.value&&t.el.value.length!==0||t.start()}))},e.insertCursor=function(){this.showCursor&&(this.cursor||(this.cursor=document.createElement("span"),this.cursor.className="typed-cursor",this.cursor.setAttribute("aria-hidden",!0),this.cursor.innerHTML=this.cursorChar,this.el.parentNode&&this.el.parentNode.insertBefore(this.cursor,this.el.nextSibling)))},n})();function SSe({typedContainer:n,TypingConfig:e}){const t=H.useRef();let i=ey("typed",{strings:xn({...e.strings.reduce(function(r,s,a){return r[`string_${a}`]={value:s,label:`${a}`},r},{})},{collapsed:!0}),stringsElement:{value:e.stringsElement==null?"":e.stringsElement},typeSpeed:{value:e.typeSpeed,min:0,max:100,step:1},startDelay:{value:e.startDelay,min:0,max:1e4,step:100},backSpeed:{value:e.backSpeed,min:0,max:100,step:1},smartBackspace:{value:e.smartBackspace},shuffle:{value:e.shuffle},backDelay:{value:e.backDelay,min:0,max:1e4,step:100},fadeOut:{value:e.fadeOut},fadeOutClass:{value:e.fadeOutClass},fadeOutDelay:{value:e.fadeOutDelay,min:0,max:1e4,step:100},loop:{value:e.loop},loopCount:{value:e.loopCount==1/0?0:e.loopCount,min:0,max:1e3,step:1},showCursor:{value:e.showCursor},cursorChar:{value:e.cursorChar},autoInsertCss:{value:e.autoInsertCss},attr:{value:e.attr==null?"":e.attr},bindInputFocusEvents:{value:e.bindInputFocusEvents},contentType:{value:e.contentType,options:["html","null"]},onBegin:Ph(e.onBegin),onComplete:Ph(e.onComplete),preStringTyped:Ph(e.preStringTyped),onStringTyped:Ph(e.onStringTyped),onLastStringBackspaced:Ph(e.onLastStringBackspaced),onTypingPaused:Ph(e.onTypingPaused),onTypingResumed:Ph(e.onTypingResumed),onReset:Ph(e.onReset),onStop:Ph(e.onStop),onStart:Ph(e.onStart),onDestroy:Ph(e.onDestroy)});return i==null||JSON.stringify(i)==="{}"?i={...e}:(i.strings=e.strings.map(function(r,s){return i[`string_${s}`]}),e.strings.map(function(r,s){delete i[`string_${s}`]}),i.stringsElement!=null&&(i.stringsElement==""||i.stringsElement.trim()=="")&&(i.stringsElement=null),i.loopCount==0&&(i.loopCount=1/0),i.attr!=null&&(i.attr==""||i.attr.trim()=="")&&(i.attr=null),i.onBegin=e.onBegin,i.onComplete=e.onComplete,i.preStringTyped=e.preStringTyped,i.onStringTyped=e.onStringTyped,i.onLastStringBackspaced=e.onLastStringBackspaced,i.onTypingPaused=e.onTypingPaused,i.onTypingResumed=e.onTypingResumed,i.onReset=e.onReset,i.onStop=e.onStop,i.onStart=e.onStart,i.onDestroy=e.onDestroy),H.useEffect(function(){return jQuery("body").append(`<div class="${n}box"><span id="${n}"></span></div>`),function(){jQuery("body>#"+n).parent().remove()}},[]),H.useEffect(function(){return t.current=new xSe("#"+n,i),function(){t.current?.destroy()}},[i]),ge.jsx(ge.Fragment,{children:ge.jsx("div",{className:n+"box",children:ge.jsx("span",{id:n})})})}const wSe={strings:["I'm coding it."],stringsElement:null,typeSpeed:60,startDelay:1e3,backSpeed:30,smartBackspace:!0,shuffle:!1,backDelay:700,fadeOut:!1,fadeOutClass:"typed-fade-out",fadeOutDelay:500,loop:!1,loopCount:1/0,showCursor:!0,cursorChar:"|",autoInsertCss:!0,attr:null,bindInputFocusEvents:!1,contentType:"html",onBegin:function(n){},onComplete:function(n){},preStringTyped:function(n,e){},onStringTyped:function(n,e){},onLastStringBackspaced:function(n){},onTypingPaused:function(n,e){},onTypingResumed:function(n,e){},onReset:function(n){},onStop:function(n,e){},onStart:function(n,e){},onDestroy:function(n){}};function _F({typedContainer:n="typed"}){return console.log(`
     ####  #   ##   #    # #      #    #  ####    ##   ######   ##   #####  ##### 
    #    # #  #  #  ##   # #      #    # #    #  #  #  #       #  #  #    # #    #
    #      # #    # # #  # #      #    # #      #    # #####  #    # #####  #    #
    #  ### # ###### #  # # #      #    # #      ###### #      ###### #    # ##### 
    #    # # #    # #   ## #      #    # #    # #    # #      #    # #    # #   # 
     ####  # #    # #    # ######  ####   ####  #    # #      #    # #####  #    #
                                                                                  
    #  ####      ####  # ##### #    # #    # #####     #  ####                    
    # #         #    # #   #   #    # #    # #    #    # #    #                   
    #  ####     #      #   #   ###### #    # #####     # #    #                   
    #      #    #  ### #   #   #    # #    # #    #    # #    #                   
    # #    # ## #    # #   #   #    # #    # #    # ## # #    #                   
    #  ####  ##  ####  #   #   #    #  ####  #####  ## #  ####                    
    `),ge.jsxs(ge.Fragment,{children:[ge.jsx(ol,{children:ge.jsxs(jo,{md:12,className:"blur",children:[ge.jsx(SSe,{typedContainer:n,TypingConfig:wSe}),ge.jsx("style",{children:`
                #typed,.typed-cursor{
                    font-size: 10em;
                }
                `})]})}),ge.jsx(ol,{children:ge.jsx(jo,{md:12,className:"blur",children:ge.jsxs("p",{children:["For now you can visit the following pages (still WIP) ",ge.jsx("a",{href:"/#/printables",children:"Printables"}),", ",ge.jsx("a",{href:"/#/thesis",children:"Thesis"}),", ",ge.jsx("a",{href:"/#/solarsystem",children:"Solar System"}),", ",ge.jsx("a",{href:"/#/citiesguesser",children:"Cities Guesser"}),", and ",ge.jsx("a",{href:"https://gianlucafabris.github.io/MultimaterialToSwapGCode/",target:"_blank",children:"MultimaterialToSwapGCode"}),"."]})})})]})}var bF={exports:{}},E_={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xF;function ESe(){if(xF)return E_;xF=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(i,r,s){var a=null;if(s!==void 0&&(a=""+s),r.key!==void 0&&(a=""+r.key),"key"in r){s={};for(var o in r)o!=="key"&&(s[o]=r[o])}else s=r;return r=s.ref,{$$typeof:n,type:i,key:a,ref:r!==void 0?r:null,props:s}}return E_.Fragment=e,E_.jsx=t,E_.jsxs=t,E_}var SF;function CSe(){return SF||(SF=1,bF.exports=ESe()),bF.exports}var _l=CSe(),TSe="Invariant failed";function Uz(n,e){if(!n)throw new Error(TSe)}function ASe(n){const e=H.useRef(null);return H.useLayoutEffect(()=>{if(!e.current)return;const t=new ResizeObserver(i=>{Uz(i[0]),n(i[0].contentRect.width)});return t.observe(e.current),n(e.current.getBoundingClientRect().width),()=>{t.disconnect()}},[n]),e}function MSe(n,e,t,i){const r=i==="taller"?Math.max(e,t):Math.min(e,t);return n*r}function wF(n){return n.naturalHeight/n.naturalWidth}const IR=n=>{const{aspectRatio:e="taller",handle:t=null,handleSize:i=40,hover:r=!1,leftImage:s,leftImageAlt:a="",leftImageCss:o={},leftImageLabel:l=null,onSliderPositionChange:c,rightImage:f,rightImageAlt:h="",rightImageCss:v={},rightImageLabel:m=null,skeleton:_=null,sliderLineColor:g="#ffffff",sliderLineWidth:y=2,sliderPositionPercentage:u=.5,vertical:b=!1}=n,S=!b,[T,R]=H.useState(u),[O,C]=H.useState(!1),[I,F]=H.useState(0),[M,D]=H.useState(0),B=ASe(oe=>F(oe)),j=H.useRef(null),U=H.useRef(null),[V,k]=H.useState(!1),Z=H.useCallback(()=>{U.current?.complete&&j.current?.complete&&k(!0)},[]);H.useEffect(()=>(Z(),()=>{k(!1)}),[s,f,Z]),H.useEffect(()=>{if(!(U.current&&j.current)||I===0||!V)return;const oe=MSe(I,wF(U.current),wF(j.current),e);D(oe)},[I,V,e]),H.useEffect(()=>{if(!B.current||!V)return;const oe=fe=>{if(!B.current)return;const ce=B.current.getBoundingClientRect();let ae,ve;if(fe instanceof TouchEvent){const ht=fe.touches[0];Uz(ht),ae=ht.clientX,ve=ht.clientY}else ae=fe.clientX,ve=fe.clientY;const _e=S?ae-ce.left:ve-ce.top,Te=y/2,Fe=S?I-Te:M-Te,We=Math.min(Math.max(_e,Te),Fe)/(S?I:M);R(We),c?.(We)},ne=fe=>{C(!0),"touches"in fe||fe.preventDefault(),oe(fe),window.addEventListener("mousemove",oe),window.addEventListener("touchmove",oe)},ie=()=>{C(!1),window.removeEventListener("mousemove",oe),window.removeEventListener("touchmove",oe)},he=B.current;return he.addEventListener("touchstart",ne),window.addEventListener("touchend",ie),r?(he.addEventListener("mousemove",oe),he.addEventListener("mouseleave",ie)):(he.addEventListener("mousedown",ne),window.addEventListener("mouseup",ie)),()=>{he.removeEventListener("touchstart",ne),window.removeEventListener("touchend",ie),he.removeEventListener("mousemove",oe),he.removeEventListener("mouseleave",ie),he.removeEventListener("mousedown",ne),window.removeEventListener("mouseup",ie),window.removeEventListener("mousemove",oe),window.removeEventListener("touchmove",oe)}},[V,e,M,I,S,r,y,B]);const ee={container:{boxSizing:"border-box",position:"relative",width:"100%",height:`${M}px`,overflow:"hidden"},rightImage:{clipPath:S?`inset(0px 0px 0px ${I*T}px)`:`inset(${M*T}px 0px 0px 0px)`,display:"block",height:"100%",objectFit:"cover",position:"absolute",width:"100%",...v},leftImage:{clipPath:S?`inset(0px ${I*(1-T)}px 0px 0px)`:`inset(0px 0px ${M*(1-T)}px 0px)`,display:"block",height:"100%",objectFit:"cover",position:"absolute",width:"100%",...o},slider:{alignItems:"center",display:"flex",justifyContent:"center",position:"absolute",...S?{cursor:"ew-resize",flexDirection:"column",height:"100%",left:`${I*T-i/2}px`,top:0,width:`${i}px`}:{cursor:"ns-resize",flexDirection:"row",height:`${i}px`,left:0,top:`${M*T-i/2}px`,width:"100%"}},line:{background:g,boxShadow:"0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12)",flex:"0 1 auto",height:S?"100%":`${y}px`,width:S?`${y}px`:"100%"},handleCustom:{alignItems:"center",boxSizing:"border-box",display:"flex",flex:"1 0 auto",height:"auto",justifyContent:"center",width:"auto"},handleDefault:{alignItems:"center",border:`${y}px solid ${g}`,borderRadius:"100%",boxShadow:"0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12)",boxSizing:"border-box",display:"flex",flex:"1 0 auto",height:`${i}px`,justifyContent:"center",width:`${i}px`,transform:S?"none":"rotate(90deg)"},leftArrow:{border:`inset ${i*.15}px rgba(0,0,0,0)`,borderRight:`${i*.15}px solid ${g}`,height:"0px",marginLeft:`-${i*.25}px`,marginRight:`${i*.25}px`,width:"0px"},rightArrow:{border:`inset ${i*.15}px rgba(0,0,0,0)`,borderLeft:`${i*.15}px solid ${g}`,height:"0px",marginRight:`-${i*.25}px`,width:"0px"},leftLabel:{background:"rgba(0, 0, 0, 0.5)",color:"white",left:S?"5%":"50%",opacity:O?0:1,padding:"10px 20px",position:"absolute",top:S?"50%":"3%",transform:S?"translate(0,-50%)":"translate(-50%, 0)",transition:"opacity 0.1s ease-out"},rightLabel:{background:"rgba(0, 0, 0, 0.5)",color:"white",opacity:O?0:1,padding:"10px 20px",position:"absolute",...S?{right:"5%",top:"50%",transform:"translate(0,-50%)"}:{left:"50%",bottom:"3%",transform:"translate(-50%, 0)"},transition:"opacity 0.1s ease-out"},leftLabelContainer:{clipPath:S?`inset(0px ${I*(1-T)}px 0px 0px)`:`inset(0px 0px ${M*(1-T)}px 0px)`,height:"100%",position:"absolute",width:"100%"},rightLabelContainer:{clipPath:S?`inset(0px 0px 0px ${I*T}px)`:`inset(${M*T}px 0px 0px 0px)`,height:"100%",position:"absolute",width:"100%"}};return _l.jsxs(_l.Fragment,{children:[_&&!V&&_l.jsx("div",{style:{...ee.container},children:_}),_l.jsxs("div",{style:{...ee.container,display:V?"block":"none"},ref:B,"data-testid":"container",children:[_l.jsx("img",{onLoad:()=>Z(),alt:h,"data-testid":"right-image",ref:j,src:f,style:ee.rightImage}),_l.jsx("img",{onLoad:()=>Z(),alt:a,"data-testid":"left-image",ref:U,src:s,style:ee.leftImage}),_l.jsxs("div",{style:ee.slider,children:[_l.jsx("div",{style:ee.line}),t?_l.jsx("div",{style:ee.handleCustom,children:t}):_l.jsxs("div",{style:ee.handleDefault,children:[_l.jsx("div",{style:ee.leftArrow}),_l.jsx("div",{style:ee.rightArrow})]}),_l.jsx("div",{style:ee.line})]}),l&&_l.jsx("div",{style:ee.leftLabelContainer,children:_l.jsx("div",{style:ee.leftLabel,children:l})}),m&&_l.jsx("div",{style:ee.rightLabelContainer,children:_l.jsx("div",{style:ee.rightLabel,children:m})})]})]})},RSe={},EF=n=>{let e;const t=new Set,i=(f,h)=>{const v=typeof f=="function"?f(e):f;if(!Object.is(v,e)){const m=e;e=h??(typeof v!="object"||v===null)?v:Object.assign({},e,v),t.forEach(_=>_(e,m))}},r=()=>e,l={setState:i,getState:r,getInitialState:()=>c,subscribe:f=>(t.add(f),()=>t.delete(f)),destroy:()=>{(RSe?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),t.clear()}},c=e=n(i,r,l);return l},OSe=n=>n?EF(n):EF,{useDebugValue:LSe}=Je,{useSyncExternalStoreWithSelector:PSe}=kB,ISe=n=>n;function DSe(n,e=ISe,t){const i=PSe(n.subscribe,n.getState,n.getServerState||n.getInitialState,e,t);return LSe(i),i}const CF=(n,e)=>{const t=OSe(n),i=(r,s=e)=>DSe(t,r,s);return Object.assign(i,t),i},NSe=(n,e)=>n?CF(n,e):CF;function FSe(n,e){if(Object.is(n,e))return!0;if(typeof n!="object"||n===null||typeof e!="object"||e===null)return!1;if(n instanceof Map&&e instanceof Map){if(n.size!==e.size)return!1;for(const[i,r]of n)if(!Object.is(r,e.get(i)))return!1;return!0}if(n instanceof Set&&e instanceof Set){if(n.size!==e.size)return!1;for(const i of n)if(!e.has(i))return!1;return!0}const t=Object.keys(n);if(t.length!==Object.keys(e).length)return!1;for(const i of t)if(!Object.prototype.hasOwnProperty.call(e,i)||!Object.is(n[i],e[i]))return!1;return!0}const DO=NSe((n,e)=>{function t(){var i;const{accumulated:r,startTime:s,infos:a}=e(),o=(i=e().log)==null?void 0:i.maxMemory,{totalFrames:l,log:c,gl:f,max:h}=r,v={calls:f.calls/l,triangles:f.triangles/l,points:f.points/l,lines:f.lines/l},m={gpu:c.gpu/l,cpu:c.cpu/l,mem:c.mem/l,fps:c.fps/l};return{sessionTime:(window.performance.now()-s)/1e3,infos:a,log:m,gl:v,max:h,maxMemory:o,totalFrames:l}}return{log:null,paused:!1,triggerProgramsUpdate:0,startTime:0,customData:0,fpsLimit:60,overclockingFps:!1,accumulated:{totalFrames:0,gl:{calls:0,triangles:0,points:0,lines:0,counts:0},log:{gpu:0,cpu:0,mem:0,fps:0},max:{gl:{calls:0,triangles:0,points:0,lines:0,counts:0},log:{gpu:0,cpu:0,mem:0,fps:0}}},chart:{data:{fps:[],cpu:[],gpu:[],mem:[]},circularId:0},gl:void 0,objectWithMaterials:null,scene:void 0,programs:new Map,sceneLength:void 0,tab:"infos",getReport:t}}),oh=n=>DO(n,FSe);Object.assign(oh,DO);const{getState:sh,setState:mu}=DO,Qu={value:0,fpsLimit:60,isOverLimit:0},C_=n=>n?.reduce((e,t)=>e+t,0)/n.length;class USe{constructor(e={}){this.names=[""],this.finished=[],this.paused=!1,this.overClock=!1,this.queryHasResult=!1,this.queryCreated=!1,this.isWebGL2=!0,this.memAccums=[],this.gpuAccums=[],this.activeAccums=[],this.logsAccums={mem:[],gpu:[],cpu:[],fps:[],fpsFixed:[]},this.fpsChart=[],this.gpuChart=[],this.cpuChart=[],this.memChart=[],this.paramLogger=()=>{},this.glFinish=()=>{},this.chartLogger=()=>{},this.chartLen=60,this.logsPerSecond=10,this.maxMemory=1500,this.chartHz=10,this.startCpuProfiling=!1,this.lastCalculateFixed=0,this.chartFrame=0,this.gpuTimeProcess=0,this.chartTime=0,this.activeQueries=0,this.circularId=0,this.detected=0,this.frameId=0,this.rafId=0,this.idleCbId=0,this.checkQueryId=0,this.uuid=void 0,this.currentCpu=0,this.currentMem=0,this.paramFrame=0,this.paramTime=0,this.now=()=>{},this.t0=0,window.GLPerf=window.GLPerf||{},Object.assign(this,e),this.fpsChart=new Array(this.chartLen).fill(0),this.gpuChart=new Array(this.chartLen).fill(0),this.cpuChart=new Array(this.chartLen).fill(0),this.memChart=new Array(this.chartLen).fill(0),this.now=()=>window.performance&&window.performance.now?window.performance.now():Date.now(),this.initGpu(),this.is120hz()}initGpu(){this.uuid=z1.generateUUID(),this.gl&&(this.isWebGL2=!0,this.extension||(this.extension=this.gl.getExtension("EXT_disjoint_timer_query_webgl2")),this.extension===null&&(this.isWebGL2=!1))}is120hz(){let e=0;const t=i=>{++e<20?this.rafId=window.requestAnimationFrame(t):(this.detected=Math.ceil(1e3*e/(i-this.t0)/70),window.cancelAnimationFrame(this.rafId)),this.t0||(this.t0=i)};this.rafId=window.requestAnimationFrame(t)}addUI(e){this.names.indexOf(e)===-1&&(this.names.push(e),this.gpuAccums.push(0),this.activeAccums.push(!1))}nextFps(e){const t=16.666666666666668,i=t-e.timeRemaining(),r=t*Qu.fpsLimit/10/i;r<0||(Qu.value=r,Qu.isOverLimit<25?Qu.isOverLimit++:mu({overclockingFps:!0}))}nextFrame(e){this.frameId++;const t=e||this.now();let i=t-this.paramTime,r=0;if(this.frameId<=1)this.paramFrame=this.frameId,this.paramTime=t;else if(t>=this.paramTime){this.maxMemory=window.performance.memory?window.performance.memory.jsHeapSizeLimit/1048576:0;const s=this.frameId-this.paramFrame,a=s*1e3/i,o=sh().overclockingFps?Qu.value:a;if(r=this.isWebGL2?this.gpuAccums[0]:this.gpuAccums[0]/i,this.isWebGL2?this.gpuAccums[0]=0:Promise.all(this.finished).then(()=>{this.gpuAccums[0]=0,this.finished=[]}),this.currentMem=Math.round(window.performance&&window.performance.memory?window.performance.memory.usedJSHeapSize/1048576:0),window.performance&&this.startCpuProfiling){window.performance.mark("cpu-finished");const l=performance.measure("cpu-duration","cpu-started","cpu-finished");this.currentCpu=l?.duration||0,this.logsAccums.cpu.push(this.currentCpu),this.startCpuProfiling=!1}this.logsAccums.mem.push(this.currentMem),this.logsAccums.fpsFixed.push(a),this.logsAccums.fps.push(o),this.logsAccums.gpu.push(r),this.overClock&&typeof window.requestIdleCallback<"u"&&(Qu.isOverLimit>0&&o>a?Qu.isOverLimit--:sh().overclockingFps&&mu({overclockingFps:!1})),t>=this.paramTime+1e3/this.logsPerSecond&&(this.paramLogger({cpu:C_(this.logsAccums.cpu),gpu:C_(this.logsAccums.gpu),mem:C_(this.logsAccums.mem),fps:C_(this.logsAccums.fps),duration:Math.round(i),maxMemory:this.maxMemory,frameCount:s}),this.logsAccums.mem=[],this.logsAccums.fps=[],this.logsAccums.gpu=[],this.logsAccums.cpu=[],this.paramFrame=this.frameId,this.paramTime=t),this.overClock&&t-this.lastCalculateFixed>=2*1e3&&(this.lastCalculateFixed=e,Qu.fpsLimit=Math.round(C_(this.logsAccums.fpsFixed)/10)*100,mu({fpsLimit:Qu.fpsLimit/10}),this.logsAccums.fpsFixed=[],this.paramFrame=this.frameId,this.paramTime=t)}if(!this.detected||!this.chartFrame)this.chartFrame=this.frameId,this.chartTime=t,this.circularId=0;else{const s=t-this.chartTime;let a=this.chartHz*s/1e3;for(;--a>0&&this.detected;){const l=(this.frameId-this.chartFrame)/s*1e3,c=sh().overclockingFps?Qu.value:l;this.fpsChart[this.circularId%this.chartLen]=c;const f=1e3/this.currentMem,h=this.currentCpu,v=(this.isWebGL2?this.gpuAccums[1]*2:Math.round(this.gpuAccums[1]/i*100))+4;v>0&&(this.gpuChart[this.circularId%this.chartLen]=v),h>0&&(this.cpuChart[this.circularId%this.chartLen]=h),f>0&&(this.memChart[this.circularId%this.chartLen]=f);for(let m=0;m<this.names.length;m++)this.chartLogger({i:m,data:{fps:this.fpsChart,gpu:this.gpuChart,cpu:this.cpuChart,mem:this.memChart},circularId:this.circularId});this.circularId++,this.chartFrame=this.frameId,this.chartTime=t}}}startGpu(){const e=this.gl,t=this.extension;if(!(!e||!t)&&this.isWebGL2){let i=!1,r,s;if(this.query){this.queryHasResult=!1;let a=this.query;if(i=e.getQueryParameter(a,e.QUERY_RESULT_AVAILABLE),r=e.getParameter(t.GPU_DISJOINT_EXT),i&&!r){s=e.getQueryParameter(this.query,e.QUERY_RESULT);const o=s*1e-6;(i||r)&&(e.deleteQuery(this.query),a=null),i&&o>0&&(r||this.activeAccums.forEach((l,c)=>{this.gpuAccums[c]=o}))}}(i||!this.query)&&(this.queryCreated=!0,this.query=e.createQuery(),e.beginQuery(t.TIME_ELAPSED_EXT,this.query))}}endGpu(){const e=this.extension,t=this.gl;this.isWebGL2&&this.queryCreated&&t.getQuery(e.TIME_ELAPSED_EXT,t.CURRENT_QUERY)&&t.endQuery(e.TIME_ELAPSED_EXT)}begin(e){this.startGpu(),this.updateAccums(e)}end(e){this.endGpu(),this.updateAccums(e)}updateAccums(e){let t=this.names.indexOf(e);t===-1&&(t=this.names.length,this.addUI(e));const i=this.now();this.activeAccums[t]=!this.activeAccums[t],this.t0=i}}const kSe=n=>{n.forEach((e,t)=>{const{meshes:i}=e;if(!i)return;let r={total:0,type:"Triangle",data:[]};Object.keys(i).forEach(s=>{const a=i[s],{geometry:o,material:l}=a;let c=o.index;const f=o.attributes.position;if(!f)return;let h=1;l.wireframe===!0&&(h=0);const v=c!==null?c.count:f.count,m=o.drawRange.start*h,_=o.drawRange.count*h,g=m,y=Math.min(v,m+_)-1;let u=1;const b=a.count||1;let S="Triangle",T=0;a.isMesh?l.wireframe===!0?(S="Line",u=u/2):(S="Triangle",u=u/3):a.isLine?(S="Line",a.isLineSegments?u=u/2:a.isLineLoop?u=u:u=u-1):a.isPoints?(S="Point",u=u):a.isSprite&&(S="Triangle",u=u/3);const R=Math.round(Math.max(0,y-g+1)*(u*b));R>T&&(T=R,r.type=S),r.total+=R,r.data.push({drawCount:R,type:S}),a.userData.drawCount={type:S,count:R}}),e.drawCounts=r})};var eM={exports:{}},TF;function BSe(){return TF||(TF=1,(function(n){var e=Object.prototype.hasOwnProperty,t="~";function i(){}Object.create&&(i.prototype=Object.create(null),new i().__proto__||(t=!1));function r(l,c,f){this.fn=l,this.context=c,this.once=f||!1}function s(l,c,f,h,v){if(typeof f!="function")throw new TypeError("The listener must be a function");var m=new r(f,h||l,v),_=t?t+c:c;return l._events[_]?l._events[_].fn?l._events[_]=[l._events[_],m]:l._events[_].push(m):(l._events[_]=m,l._eventsCount++),l}function a(l,c){--l._eventsCount===0?l._events=new i:delete l._events[c]}function o(){this._events=new i,this._eventsCount=0}o.prototype.eventNames=function(){var c=[],f,h;if(this._eventsCount===0)return c;for(h in f=this._events)e.call(f,h)&&c.push(t?h.slice(1):h);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(f)):c},o.prototype.listeners=function(c){var f=t?t+c:c,h=this._events[f];if(!h)return[];if(h.fn)return[h.fn];for(var v=0,m=h.length,_=new Array(m);v<m;v++)_[v]=h[v].fn;return _},o.prototype.listenerCount=function(c){var f=t?t+c:c,h=this._events[f];return h?h.fn?1:h.length:0},o.prototype.emit=function(c,f,h,v,m,_){var g=t?t+c:c;if(!this._events[g])return!1;var y=this._events[g],u=arguments.length,b,S;if(y.fn){switch(y.once&&this.removeListener(c,y.fn,void 0,!0),u){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,f),!0;case 3:return y.fn.call(y.context,f,h),!0;case 4:return y.fn.call(y.context,f,h,v),!0;case 5:return y.fn.call(y.context,f,h,v,m),!0;case 6:return y.fn.call(y.context,f,h,v,m,_),!0}for(S=1,b=new Array(u-1);S<u;S++)b[S-1]=arguments[S];y.fn.apply(y.context,b)}else{var T=y.length,R;for(S=0;S<T;S++)switch(y[S].once&&this.removeListener(c,y[S].fn,void 0,!0),u){case 1:y[S].fn.call(y[S].context);break;case 2:y[S].fn.call(y[S].context,f);break;case 3:y[S].fn.call(y[S].context,f,h);break;case 4:y[S].fn.call(y[S].context,f,h,v);break;default:if(!b)for(R=1,b=new Array(u-1);R<u;R++)b[R-1]=arguments[R];y[S].fn.apply(y[S].context,b)}}return!0},o.prototype.on=function(c,f,h){return s(this,c,f,h,!1)},o.prototype.once=function(c,f,h){return s(this,c,f,h,!0)},o.prototype.removeListener=function(c,f,h,v){var m=t?t+c:c;if(!this._events[m])return this;if(!f)return a(this,m),this;var _=this._events[m];if(_.fn)_.fn===f&&(!v||_.once)&&(!h||_.context===h)&&a(this,m);else{for(var g=0,y=[],u=_.length;g<u;g++)(_[g].fn!==f||v&&!_[g].once||h&&_[g].context!==h)&&y.push(_[g]);y.length?this._events[m]=y.length===1?y[0]:y:a(this,m)}return this},o.prototype.removeAllListeners=function(c){var f;return c?(f=t?t+c:c,this._events[f]&&a(this,f)):(this._events=new i,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=t,o.EventEmitter=o,n.exports=o})(eM)),eM.exports}var zSe=BSe();const GSe=Yc(zSe),NO=new GSe;function HSe(n,e,t){return NO.on(n,e)}function $Se(n,e,t){var i;NO.removeListener(n,e,(i=t?.context)!=null?i:null,t?.once)}function VSe(n,e){NO.emit(n,e)}function WSe(n,e,t=[],i){const r=H.useRef(e);H.useEffect(()=>void(r.current=e),[e]),H.useEffect(()=>{const s=o=>{var l;return(l=r.current)==null?void 0:l.call(r,o)},a=HSe(n,s);return()=>$Se(n,s,{...i,context:a})},[n,void 0,...t])}const jSe=Tr.prototype.updateMatrixWorld,XSe=Tr.prototype.updateWorldMatrix,AF=Tr.prototype.updateMatrix,MF=["calls","triangles","points","lines"],RF=["gpu","cpu","mem","fps"];let P0={value:0},yu={value:0};const qSe=n=>{let e=""+n;return e=e.match("^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$"),e!==null},OF=(n,e)=>{n.defines||(n.defines={}),n.defines&&!n.defines.muiPerf&&(n.defines=Object.assign(n.defines||{},{muiPerf:n.uuid}));const t=n.uuid;return e[t]||(e[t]={meshes:{},material:n},n.needsUpdate=!0),n.needsUpdate=!1,t},YSe=n=>n==="muiPerf",KSe=({overClock:n,logsPerSecond:e,chart:t,deepAnalyze:i,matrixUpdate:r})=>{const{gl:s,scene:a}=br();mu({gl:s,scene:a});const o=H.useMemo(()=>{const l=new USe({trackGPU:!0,overClock:n,chartLen:t?t.length:120,chartHz:t?t.hz:60,logsPerSecond:e||10,gl:s.getContext(),chartLogger:y=>{mu({chart:y})},paramLogger:y=>{const u={maxMemory:y.maxMemory,gpu:y.gpu,cpu:y.cpu,mem:y.mem,fps:y.fps,totalTime:y.duration,frameCount:y.frameCount};mu({log:u});const{accumulated:b}=sh(),S=s.info.render;b.totalFrames++,b.gl.calls+=S.calls,b.gl.triangles+=S.triangles,b.gl.points+=S.points,b.gl.lines+=S.lines,b.log.gpu+=y.gpu,b.log.cpu+=y.cpu,b.log.mem+=y.mem,b.log.fps+=y.fps;for(let T=0;T<MF.length;T++){const R=MF[T],O=S[R];O>b.max.gl[R]&&(b.max.gl[R]=O)}for(let T=0;T<RF.length;T++){const R=RF[T],O=y[R];O>b.max.log[R]&&(b.max.log[R]=O)}mu({accumulated:b}),VSe("log",[u,s])}}),c=s.getContext();let f=null,h=null;const v=c.getExtension("WEBGL_debug_renderer_info"),m=c.getParameter(c.VERSION);v!=null&&(f=c.getParameter(v.UNMASKED_RENDERER_WEBGL),h=c.getParameter(v.UNMASKED_VENDOR_WEBGL)),h||(h="Unknown vendor"),f||(f=c.getParameter(c.RENDERER)),mu({startTime:window.performance.now(),infos:{version:m,renderer:f,vendor:h}});const _=new Map,g=new Map;return Object.defineProperty(fm.prototype,"onBeforeRender",{get(){return(...y)=>{var u;l&&l.begin("profiler"),(u=_.get(this))==null||u(...y)}},set(y){_.set(this,y)},configurable:!0}),Object.defineProperty(fm.prototype,"onAfterRender",{get(){return(...y)=>{var u;l&&l.end("profiler"),(u=g.get(this))==null||u(...y)}},set(y){g.set(this,y)},configurable:!0}),l},[]);return H.useEffect(()=>{o&&(o.overClock=n||!1,n===!1&&(mu({overclockingFps:!1}),Qu.value=0,Qu.isOverLimit=0),o.chartHz=t?.hz||60,o.chartLen=t?.length||120)},[n,o,t?.length,t?.hz]),H.useEffect(()=>{r&&(Tr.prototype.updateMatrixWorld=function(){(this.matrixWorldNeedsUpdate||arguments[0])&&P0.value++,jSe.apply(this,arguments)},Tr.prototype.updateWorldMatrix=function(){P0.value++,XSe.apply(this,arguments)},Tr.prototype.updateMatrix=function(){yu.value++,AF.apply(this,arguments)}),s.info.autoReset=!1;let l=null,c=null;if(s.info)return l=UJ(function(){sh().paused&&mu({paused:!1}),window.performance&&(window.performance.mark("cpu-started"),o.startCpuProfiling=!0),yu.value-=1,P0.value=0,yu.value=0,s.info&&s.info.reset()}),c=kJ(function(){var h,v;if(o&&!o.paused&&(o.nextFrame(window.performance.now()),n&&typeof window.requestIdleCallback<"u"&&(o.idleCbId=requestIdleCallback(o.nextFps))),i){const m={},_=new Map;a.traverse(function(y){if((y instanceof Xs||y instanceof d3)&&y.material){let u=y.material.uuid;Array.isArray(y.material)&&y.material.length>1?u=OF(y.material[1],m):u=OF(y.material,m),m[u].meshes[y.uuid]=y}}),(v=(h=s?.info)==null?void 0:h.programs)==null||v.forEach(g=>{const y=g.cacheKey.split(","),u=y[y.findIndex(YSe)+1];if(qSe(u)&&m[u]){const{material:b,meshes:S}=m[u];_.set(u,{program:g,material:b,meshes:S,drawCounts:{total:0,type:"triangle",data:[]},expand:!1,visible:!0})}}),_.size!==sh().programs.size&&(kSe(_),mu({programs:_,triggerProgramsUpdate:sh().triggerProgramsUpdate++}))}}),()=>{o&&(typeof window.cancelIdleCallback<"u"&&window.cancelIdleCallback(o.idleCbId),window.cancelAnimationFrame(o.rafId),window.cancelAnimationFrame(o.checkQueryId)),r&&(Tr.prototype.updateMatrixWorld=AF),l(),c()}},[o,s,t,r]),H.useEffect(()=>{const l=BJ(function(){return o&&(o.paused=!0,yu.value=0,P0.value=0,mu({paused:!0,log:{maxMemory:0,gpu:0,mem:0,cpu:0,fps:0,totalTime:0,frameCount:0}})),!1});return()=>{l()}},[]),null},ZSe=Zo("div",{position:"fixed",top:0,right:0,zIndex:9999,fontFamily:`-apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen',
    'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue',
    sans-serif`,backgroundColor:"rgba(36, 36, 36, .9)",color:"#fff",margin:0,minHeight:"100px",padding:"4px 0","-webkit-font-smoothing":"antialiased","-moz-osx-font-smoothing":"grayscale",userSelect:"none","&.top-left":{right:"initial",left:0},"&.bottom-left":{right:"initial",top:"initial",bottom:0,left:0,".__perf_toggle":{top:"-20px",bottom:"initial"}},"&.bottom-right":{top:"initial",bottom:0,".__perf_toggle":{top:"-20px",bottom:"initial"}},"&.minimal":{backgroundColor:"rgba(36, 36, 36, .75)"},"*":{margin:"0",padding:"0",border:"0",fontSize:"100%",lineHeight:"1",verticalAlign:"baseline"}}),tM=Zo("small",{position:"absolute",right:0,fontSize:"10px"}),Gl=Zo("div",{display:"inline-flex",fontStyle:"normal",padding:0,lineHeight:"13px",fontSize:"14px",width:"62px",position:"relative",pointerEvents:"auto",cursor:"default",fontWeight:500,letterSpacing:"0px",textAlign:"left",height:"29px",whiteSpace:"nowrap",justifyContent:"space-evenly",fontVariantNumeric:"tabular-nums",small:{paddingLeft:"12px"},svg:{padding:0,color:"rgba(145, 145, 145, 0.3)",fontSize:"40px",position:"absolute",zIndex:1,maxHeight:"20px",left:" 50%",marginLeft:"-23px",top:"4px"}}),Vc=Zo("span",{verticalAlign:"bottom",position:"absolute",bottom:"5px",color:"rgba(101, 197, 188, 1)",textAlign:"right",letterSpacing:"1px",fontSize:"8px",fontWeight:"500",width:"60px"}),QSe=Zo("div",{display:"flex"}),JSe=Zo("div",{backgroundColor:"#404040",padding:"6px",display:"block",fontSize:"12px",marginBottom:"6px",cursor:"pointer","*":{cursor:"pointer !important"},"> span":{},small:{fontSize:"9px"},"> b":{marginRight:"4px",cursor:"pointer"}}),ewe=Zo("div",{height:"66px",overflow:"hidden",position:"absolute",pointerEvents:"none",display:"flex",top:"0px",justifyContent:"center",width:"100%",minWidth:"310px",margin:"0 auto",canvas:{background:"transparent !important",position:"absolute !important"}}),twe=Zo("div",{textAlign:"center",fontWeight:700,fontSize:"12px",lineHeight:"12px",display:"flex",justifyContent:"center",alignItems:"center",verticalAlign:"middle",color:"#f1f1f1",padding:"7px",width:"100%",backgroundColor:"rgba(36, 36, 37, 0.8)",zIndex:1,position:"absolute",height:"100%"}),FO=Zo("div",{pointerEvents:"auto",justifyContent:"center",cursor:"pointer",fontSize:"12px",backgroundColor:"rgb(41, 43, 45)",marginTop:"6px",width:"auto",margin:"0",color:"rgba(145, 145, 145, 1)",textAlign:"center",display:"inline-block",verticalAlign:"middle",padding:"4px 6px","&.__perf_toggle_tab_active":{backgroundColor:"rgb(31 31 31)"},svg:{width:"12px",height:"12px",float:"left"}}),nwe=Zo("div",{pointerEvents:"auto",justifyContent:"center",cursor:"pointer",fontSize:"12px",float:"right",backgroundColor:"rgb(41, 43, 45)",width:"auto",margin:"0",color:"rgba(145, 145, 145, 1)",textAlign:"center",display:"inline-block",verticalAlign:"middle",padding:"4px 6px","&.__perf_toggle_tab_active":{backgroundColor:"rgb(31 31 31)"},svg:{width:"12px",height:"12px",float:"left"}}),iwe=Zo("div",{padding:"4px 6px",fontSize:"12px",pointerEvents:"auto"}),rwe=Zo("span",{fontWeight:"bold",letterSpacing:"0.08em",maxWidth:"145px",overflow:"hidden",textOverflow:"ellipsis",display:"inline-block",verticalAlign:"middle",fontSize:"11px",marginRight:"10px"}),swe=Zo("div",{maxHeight:"50vh",overflowY:"auto",marginTop:"38px"}),awe=Zo("div",{marginTop:"0"}),LF=Zo("div",{display:"flex",position:"relative",fontWeight:"bold",color:"#fff",lineHeight:"14px",svg:{marginRight:"4px",display:"inline-block"}}),kz=Zo("ul",{display:"block",position:"relative",paddingLeft:"10px",margin:"6px 6px",img:{maxHeight:"60px",maxWidth:"100%",margin:"6px auto",display:"block"},"&:after":{content:"",position:"absolute",left:"0px",top:"0px",width:"1px",height:"100%",backgroundColor:"grey",transform:"translateX(-50%)",maxHeight:"50vh",overflowY:"auto"},li:{borderBottom:"1px solid #313131",display:"block",padding:"4px",margin:0,lineHeight:1,verticalAlign:"middle",height:"24px"},b:{fontWeight:"bold"},small:{textAlign:"revert",letterSpacing:"1px",fontSize:"10px",fontWeight:"500",marginLeft:"2px",color:"rgb(101, 197, 188)"}}),Bz=Zo("button",{fontWeight:"bold",letterSpacing:"0.02em",backgroundColor:"rgb(41, 43, 45)",color:"rgb(211, 211, 211)",overflow:"hidden",textOverflow:"ellipsis",cursor:"pointer",display:"block",verticalAlign:"middle",fontSize:"11px",padding:"5px",margin:"4px auto"}),owe=Zo("div",{display:"flex",justifyContent:"center",cursor:"pointer",fontSize:"12px",backgroundColor:"rgb(41, 43, 45)",marginTop:"6px",width:"auto",margin:"0 auto",color:"rgba(145, 145, 145, 1)",textAlign:"center",position:"absolute",right:0,bottom:" -20px",svg:{width:"12px",height:"12px",float:"left"}}),lwe=Zo("li",{display:"flex !important",height:"auto !important",span:{height:"40px",display:"block",position:"relative"},b:{paddingLeft:"12px"}});function xo(n,e){if(n==null)return{};var t={},i=Object.keys(n),r,s;for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&(t[r]=n[r]);return t}var cwe=["color"],zz=H.forwardRef(function(n,e){var t=n.color,i=t===void 0?"currentColor":t,r=xo(n,cwe);return H.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r,{ref:e}),H.createElement("path",{d:"M0 1.5C0 1.22386 0.223858 1 0.5 1H2.5C2.77614 1 3 1.22386 3 1.5C3 1.77614 2.77614 2 2.5 2H0.5C0.223858 2 0 1.77614 0 1.5ZM4 1.5C4 1.22386 4.22386 1 4.5 1H14.5C14.7761 1 15 1.22386 15 1.5C15 1.77614 14.7761 2 14.5 2H4.5C4.22386 2 4 1.77614 4 1.5ZM4 4.5C4 4.22386 4.22386 4 4.5 4H11.5C11.7761 4 12 4.22386 12 4.5C12 4.77614 11.7761 5 11.5 5H4.5C4.22386 5 4 4.77614 4 4.5ZM0 7.5C0 7.22386 0.223858 7 0.5 7H2.5C2.77614 7 3 7.22386 3 7.5C3 7.77614 2.77614 8 2.5 8H0.5C0.223858 8 0 7.77614 0 7.5ZM4 7.5C4 7.22386 4.22386 7 4.5 7H14.5C14.7761 7 15 7.22386 15 7.5C15 7.77614 14.7761 8 14.5 8H4.5C4.22386 8 4 7.77614 4 7.5ZM4 10.5C4 10.2239 4.22386 10 4.5 10H11.5C11.7761 10 12 10.2239 12 10.5C12 10.7761 11.7761 11 11.5 11H4.5C4.22386 11 4 10.7761 4 10.5ZM0 13.5C0 13.2239 0.223858 13 0.5 13H2.5C2.77614 13 3 13.2239 3 13.5C3 13.7761 2.77614 14 2.5 14H0.5C0.223858 14 0 13.7761 0 13.5ZM4 13.5C4 13.2239 4.22386 13 4.5 13H14.5C14.7761 13 15 13.2239 15 13.5C15 13.7761 14.7761 14 14.5 14H4.5C4.22386 14 4 13.7761 4 13.5Z",fill:i,fillRule:"evenodd",clipRule:"evenodd"}))}),uwe=["color"],hwe=H.forwardRef(function(n,e){var t=n.color,i=t===void 0?"currentColor":t,r=xo(n,uwe);return H.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r,{ref:e}),H.createElement("path",{d:"M11.5 1C11.7761 1 12 1.22386 12 1.5V13.5C12 13.7761 11.7761 14 11.5 14C11.2239 14 11 13.7761 11 13.5V1.5C11 1.22386 11.2239 1 11.5 1ZM9.5 3C9.77614 3 10 3.22386 10 3.5V13.5C10 13.7761 9.77614 14 9.5 14C9.22386 14 9 13.7761 9 13.5V3.5C9 3.22386 9.22386 3 9.5 3ZM13.5 3C13.7761 3 14 3.22386 14 3.5V13.5C14 13.7761 13.7761 14 13.5 14C13.2239 14 13 13.7761 13 13.5V3.5C13 3.22386 13.2239 3 13.5 3ZM5.5 4C5.77614 4 6 4.22386 6 4.5V13.5C6 13.7761 5.77614 14 5.5 14C5.22386 14 5 13.7761 5 13.5V4.5C5 4.22386 5.22386 4 5.5 4ZM1.5 5C1.77614 5 2 5.22386 2 5.5V13.5C2 13.7761 1.77614 14 1.5 14C1.22386 14 1 13.7761 1 13.5V5.5C1 5.22386 1.22386 5 1.5 5ZM7.5 5C7.77614 5 8 5.22386 8 5.5V13.5C8 13.7761 7.77614 14 7.5 14C7.22386 14 7 13.7761 7 13.5V5.5C7 5.22386 7.22386 5 7.5 5ZM3.5 7C3.77614 7 4 7.22386 4 7.5V13.5C4 13.7761 3.77614 14 3.5 14C3.22386 14 3 13.7761 3 13.5V7.5C3 7.22386 3.22386 7 3.5 7Z",fill:i,fillRule:"evenodd",clipRule:"evenodd"}))}),dwe=["color"],fwe=H.forwardRef(function(n,e){var t=n.color,i=t===void 0?"currentColor":t,r=xo(n,dwe);return H.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r,{ref:e}),H.createElement("path",{d:"M2 5H13C13.5523 5 14 5.44772 14 6V9C14 9.55228 13.5523 10 13 10H2C1.44772 10 1 9.55228 1 9V6C1 5.44772 1.44772 5 2 5ZM0 6C0 4.89543 0.895431 4 2 4H13C14.1046 4 15 4.89543 15 6V9C15 10.1046 14.1046 11 13 11H2C0.89543 11 0 10.1046 0 9V6ZM4.5 6.75C4.08579 6.75 3.75 7.08579 3.75 7.5C3.75 7.91421 4.08579 8.25 4.5 8.25C4.91421 8.25 5.25 7.91421 5.25 7.5C5.25 7.08579 4.91421 6.75 4.5 6.75ZM6.75 7.5C6.75 7.08579 7.08579 6.75 7.5 6.75C7.91421 6.75 8.25 7.08579 8.25 7.5C8.25 7.91421 7.91421 8.25 7.5 8.25C7.08579 8.25 6.75 7.91421 6.75 7.5ZM10.5 6.75C10.0858 6.75 9.75 7.08579 9.75 7.5C9.75 7.91421 10.0858 8.25 10.5 8.25C10.9142 8.25 11.25 7.91421 11.25 7.5C11.25 7.08579 10.9142 6.75 10.5 6.75Z",fill:i,fillRule:"evenodd",clipRule:"evenodd"}))}),pwe=["color"],mwe=H.forwardRef(function(n,e){var t=n.color,i=t===void 0?"currentColor":t,r=xo(n,pwe);return H.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r,{ref:e}),H.createElement("path",{d:"M7.28856 0.796908C7.42258 0.734364 7.57742 0.734364 7.71144 0.796908L13.7114 3.59691C13.8875 3.67906 14 3.85574 14 4.05V10.95C14 11.1443 13.8875 11.3209 13.7114 11.4031L7.71144 14.2031C7.57742 14.2656 7.42258 14.2656 7.28856 14.2031L1.28856 11.4031C1.11252 11.3209 1 11.1443 1 10.95V4.05C1 3.85574 1.11252 3.67906 1.28856 3.59691L7.28856 0.796908ZM2 4.80578L7 6.93078V12.9649L2 10.6316V4.80578ZM8 12.9649L13 10.6316V4.80578L8 6.93078V12.9649ZM7.5 6.05672L12.2719 4.02866L7.5 1.80176L2.72809 4.02866L7.5 6.05672Z",fill:i,fillRule:"evenodd",clipRule:"evenodd"}))}),gwe=["color"],vwe=H.forwardRef(function(n,e){var t=n.color,i=t===void 0?"currentColor":t,r=xo(n,gwe);return H.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r,{ref:e}),H.createElement("path",{d:"M7.5 9.125C8.39746 9.125 9.125 8.39746 9.125 7.5C9.125 6.60254 8.39746 5.875 7.5 5.875C6.60254 5.875 5.875 6.60254 5.875 7.5C5.875 8.39746 6.60254 9.125 7.5 9.125ZM7.5 10.125C8.94975 10.125 10.125 8.94975 10.125 7.5C10.125 6.05025 8.94975 4.875 7.5 4.875C6.05025 4.875 4.875 6.05025 4.875 7.5C4.875 8.94975 6.05025 10.125 7.5 10.125Z",fill:i,fillRule:"evenodd",clipRule:"evenodd"}))}),ywe=["color"],_we=H.forwardRef(function(n,e){var t=n.color,i=t===void 0?"currentColor":t,r=xo(n,ywe);return H.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r,{ref:e}),H.createElement("path",{d:"M7.49999 3.09998C7.27907 3.09998 7.09999 3.27906 7.09999 3.49998C7.09999 3.72089 7.27907 3.89998 7.49999 3.89998H14.5C14.7209 3.89998 14.9 3.72089 14.9 3.49998C14.9 3.27906 14.7209 3.09998 14.5 3.09998H7.49999ZM7.49998 5.1C7.27907 5.1 7.09998 5.27908 7.09998 5.5C7.09998 5.72091 7.27907 5.9 7.49998 5.9H14.5C14.7209 5.9 14.9 5.72091 14.9 5.5C14.9 5.27908 14.7209 5.1 14.5 5.1H7.49998ZM7.1 7.5C7.1 7.27908 7.27909 7.1 7.5 7.1H14.5C14.7209 7.1 14.9 7.27908 14.9 7.5C14.9 7.72091 14.7209 7.9 14.5 7.9H7.5C7.27909 7.9 7.1 7.72091 7.1 7.5ZM7.49998 9.1C7.27907 9.1 7.09998 9.27908 7.09998 9.5C7.09998 9.72091 7.27907 9.9 7.49998 9.9H14.5C14.7209 9.9 14.9 9.72091 14.9 9.5C14.9 9.27908 14.7209 9.1 14.5 9.1H7.49998ZM7.09998 11.5C7.09998 11.2791 7.27907 11.1 7.49998 11.1H14.5C14.7209 11.1 14.9 11.2791 14.9 11.5C14.9 11.7209 14.7209 11.9 14.5 11.9H7.49998C7.27907 11.9 7.09998 11.7209 7.09998 11.5ZM2.5 9.25003L5 6.00003H0L2.5 9.25003Z",fill:i,fillRule:"evenodd",clipRule:"evenodd"}))}),bwe=["color"],xwe=H.forwardRef(function(n,e){var t=n.color,i=t===void 0?"currentColor":t,r=xo(n,bwe);return H.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r,{ref:e}),H.createElement("path",{d:"M13.3536 2.35355C13.5488 2.15829 13.5488 1.84171 13.3536 1.64645C13.1583 1.45118 12.8417 1.45118 12.6464 1.64645L10.6828 3.61012C9.70652 3.21671 8.63759 3 7.5 3C4.30786 3 1.65639 4.70638 0.0760002 7.23501C-0.0253338 7.39715 -0.0253334 7.60288 0.0760014 7.76501C0.902945 9.08812 2.02314 10.1861 3.36061 10.9323L1.64645 12.6464C1.45118 12.8417 1.45118 13.1583 1.64645 13.3536C1.84171 13.5488 2.15829 13.5488 2.35355 13.3536L4.31723 11.3899C5.29348 11.7833 6.36241 12 7.5 12C10.6921 12 13.3436 10.2936 14.924 7.76501C15.0253 7.60288 15.0253 7.39715 14.924 7.23501C14.0971 5.9119 12.9769 4.81391 11.6394 4.06771L13.3536 2.35355ZM9.90428 4.38861C9.15332 4.1361 8.34759 4 7.5 4C4.80285 4 2.52952 5.37816 1.09622 7.50001C1.87284 8.6497 2.89609 9.58106 4.09974 10.1931L9.90428 4.38861ZM5.09572 10.6114L10.9003 4.80685C12.1039 5.41894 13.1272 6.35031 13.9038 7.50001C12.4705 9.62183 10.1971 11 7.5 11C6.65241 11 5.84668 10.8639 5.09572 10.6114Z",fill:i,fillRule:"evenodd",clipRule:"evenodd"}))}),Swe=["color"],wwe=H.forwardRef(function(n,e){var t=n.color,i=t===void 0?"currentColor":t,r=xo(n,Swe);return H.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r,{ref:e}),H.createElement("path",{d:"M7.5 11C4.80285 11 2.52952 9.62184 1.09622 7.50001C2.52952 5.37816 4.80285 4 7.5 4C10.1971 4 12.4705 5.37816 13.9038 7.50001C12.4705 9.62183 10.1971 11 7.5 11ZM7.5 3C4.30786 3 1.65639 4.70638 0.0760002 7.23501C-0.0253338 7.39715 -0.0253334 7.60288 0.0760014 7.76501C1.65639 10.2936 4.30786 12 7.5 12C10.6921 12 13.3436 10.2936 14.924 7.76501C15.0253 7.60288 15.0253 7.39715 14.924 7.23501C13.3436 4.70638 10.6921 3 7.5 3ZM7.5 9.5C8.60457 9.5 9.5 8.60457 9.5 7.5C9.5 6.39543 8.60457 5.5 7.5 5.5C6.39543 5.5 5.5 6.39543 5.5 7.5C5.5 8.60457 6.39543 9.5 7.5 9.5Z",fill:i,fillRule:"evenodd",clipRule:"evenodd"}))}),Ewe=["color"],DR=H.forwardRef(function(n,e){var t=n.color,i=t===void 0?"currentColor":t,r=xo(n,Ewe);return H.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r,{ref:e}),H.createElement("path",{d:"M2.5 1H12.5C13.3284 1 14 1.67157 14 2.5V12.5C14 13.3284 13.3284 14 12.5 14H2.5C1.67157 14 1 13.3284 1 12.5V2.5C1 1.67157 1.67157 1 2.5 1ZM2.5 2C2.22386 2 2 2.22386 2 2.5V8.3636L3.6818 6.6818C3.76809 6.59551 3.88572 6.54797 4.00774 6.55007C4.12975 6.55216 4.24568 6.60372 4.32895 6.69293L7.87355 10.4901L10.6818 7.6818C10.8575 7.50607 11.1425 7.50607 11.3182 7.6818L13 9.3636V2.5C13 2.22386 12.7761 2 12.5 2H2.5ZM2 12.5V9.6364L3.98887 7.64753L7.5311 11.4421L8.94113 13H2.5C2.22386 13 2 12.7761 2 12.5ZM12.5 13H10.155L8.48336 11.153L11 8.6364L13 10.6364V12.5C13 12.7761 12.7761 13 12.5 13ZM6.64922 5.5C6.64922 5.03013 7.03013 4.64922 7.5 4.64922C7.96987 4.64922 8.35078 5.03013 8.35078 5.5C8.35078 5.96987 7.96987 6.35078 7.5 6.35078C7.03013 6.35078 6.64922 5.96987 6.64922 5.5ZM7.5 3.74922C6.53307 3.74922 5.74922 4.53307 5.74922 5.5C5.74922 6.46693 6.53307 7.25078 7.5 7.25078C8.46693 7.25078 9.25078 6.46693 9.25078 5.5C9.25078 4.53307 8.46693 3.74922 7.5 3.74922Z",fill:i,fillRule:"evenodd",clipRule:"evenodd"}))}),Cwe=["color"],Twe=H.forwardRef(function(n,e){var t=n.color,i=t===void 0?"currentColor":t,r=xo(n,Cwe);return H.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r,{ref:e}),H.createElement("path",{d:"M5.49998 0.5C5.49998 0.223858 5.72383 0 5.99998 0H7.49998H8.99998C9.27612 0 9.49998 0.223858 9.49998 0.5C9.49998 0.776142 9.27612 1 8.99998 1H7.99998V2.11922C9.09832 2.20409 10.119 2.56622 10.992 3.13572C11.0116 3.10851 11.0336 3.08252 11.058 3.05806L12.058 2.05806C12.3021 1.81398 12.6978 1.81398 12.9419 2.05806C13.186 2.30214 13.186 2.69786 12.9419 2.94194L11.967 3.91682C13.1595 5.07925 13.9 6.70314 13.9 8.49998C13.9 12.0346 11.0346 14.9 7.49998 14.9C3.96535 14.9 1.09998 12.0346 1.09998 8.49998C1.09998 5.13361 3.69904 2.3743 6.99998 2.11922V1H5.99998C5.72383 1 5.49998 0.776142 5.49998 0.5ZM2.09998 8.49998C2.09998 5.51764 4.51764 3.09998 7.49998 3.09998C10.4823 3.09998 12.9 5.51764 12.9 8.49998C12.9 11.4823 10.4823 13.9 7.49998 13.9C4.51764 13.9 2.09998 11.4823 2.09998 8.49998ZM7.49998 8.49998V4.09998C5.06992 4.09998 3.09998 6.06992 3.09998 8.49998C3.09998 10.93 5.06992 12.9 7.49998 12.9C8.715 12.9 9.815 12.4075 10.6112 11.6112L7.49998 8.49998Z",fill:i,fillRule:"evenodd",clipRule:"evenodd"}))}),Awe=["color"],Mwe=H.forwardRef(function(n,e){var t=n.color,i=t===void 0?"currentColor":t,r=xo(n,Awe);return H.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r,{ref:e}),H.createElement("path",{d:"M7.75432 0.819537C7.59742 0.726821 7.4025 0.726821 7.24559 0.819537L1.74559 4.06954C1.59336 4.15949 1.49996 4.32317 1.49996 4.5C1.49996 4.67683 1.59336 4.84051 1.74559 4.93046L7.24559 8.18046C7.4025 8.27318 7.59742 8.27318 7.75432 8.18046L13.2543 4.93046C13.4066 4.84051 13.5 4.67683 13.5 4.5C13.5 4.32317 13.4066 4.15949 13.2543 4.06954L7.75432 0.819537ZM7.49996 7.16923L2.9828 4.5L7.49996 1.83077L12.0171 4.5L7.49996 7.16923ZM1.5695 7.49564C1.70998 7.2579 2.01659 7.17906 2.25432 7.31954L7.49996 10.4192L12.7456 7.31954C12.9833 7.17906 13.2899 7.2579 13.4304 7.49564C13.5709 7.73337 13.4921 8.03998 13.2543 8.18046L7.75432 11.4305C7.59742 11.5232 7.4025 11.5232 7.24559 11.4305L1.74559 8.18046C1.50786 8.03998 1.42901 7.73337 1.5695 7.49564ZM1.56949 10.4956C1.70998 10.2579 2.01658 10.1791 2.25432 10.3195L7.49996 13.4192L12.7456 10.3195C12.9833 10.1791 13.2899 10.2579 13.4304 10.4956C13.5709 10.7334 13.4921 11.04 13.2543 11.1805L7.75432 14.4305C7.59742 14.5232 7.4025 14.5232 7.24559 14.4305L1.74559 11.1805C1.50785 11.04 1.42901 10.7334 1.56949 10.4956Z",fill:i,fillRule:"evenodd",clipRule:"evenodd"}))}),Rwe=["color"],Owe=H.forwardRef(function(n,e){var t=n.color,i=t===void 0?"currentColor":t,r=xo(n,Rwe);return H.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r,{ref:e}),H.createElement("path",{d:"M8.69667 0.0403541C8.90859 0.131038 9.03106 0.354857 8.99316 0.582235L8.0902 6.00001H12.5C12.6893 6.00001 12.8625 6.10701 12.9472 6.27641C13.0319 6.4458 13.0136 6.6485 12.8999 6.80001L6.89997 14.8C6.76167 14.9844 6.51521 15.0503 6.30328 14.9597C6.09135 14.869 5.96888 14.6452 6.00678 14.4178L6.90974 9H2.49999C2.31061 9 2.13748 8.893 2.05278 8.72361C1.96809 8.55422 1.98636 8.35151 2.09999 8.2L8.09997 0.200038C8.23828 0.0156255 8.48474 -0.0503301 8.69667 0.0403541ZM3.49999 8.00001H7.49997C7.64695 8.00001 7.78648 8.06467 7.88148 8.17682C7.97648 8.28896 8.01733 8.43723 7.99317 8.5822L7.33027 12.5596L11.5 7.00001H7.49997C7.353 7.00001 7.21347 6.93534 7.11846 6.8232C7.02346 6.71105 6.98261 6.56279 7.00678 6.41781L7.66968 2.44042L3.49999 8.00001Z",fill:i,fillRule:"evenodd",clipRule:"evenodd"}))}),Lwe=["color"],Pwe=H.forwardRef(function(n,e){var t=n.color,i=t===void 0?"currentColor":t,r=xo(n,Lwe);return H.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r,{ref:e}),H.createElement("path",{d:"M1.49988 2.00012C1.77602 2.00012 1.99988 1.77626 1.99988 1.50012C1.99988 1.22398 1.77602 1.00012 1.49988 1.00012C1.22374 1.00012 0.999878 1.22398 0.999878 1.50012C0.999878 1.77626 1.22374 2.00012 1.49988 2.00012ZM4.49988 2.00012C4.77602 2.00012 4.99988 1.77626 4.99988 1.50012C4.99988 1.22398 4.77602 1.00012 4.49988 1.00012C4.22374 1.00012 3.99988 1.22398 3.99988 1.50012C3.99988 1.77626 4.22374 2.00012 4.49988 2.00012ZM7.99988 1.50012C7.99988 1.77626 7.77602 2.00012 7.49988 2.00012C7.22374 2.00012 6.99988 1.77626 6.99988 1.50012C6.99988 1.22398 7.22374 1.00012 7.49988 1.00012C7.77602 1.00012 7.99988 1.22398 7.99988 1.50012ZM10.4999 2.00012C10.776 2.00012 10.9999 1.77626 10.9999 1.50012C10.9999 1.22398 10.776 1.00012 10.4999 1.00012C10.2237 1.00012 9.99988 1.22398 9.99988 1.50012C9.99988 1.77626 10.2237 2.00012 10.4999 2.00012ZM13.9999 1.50012C13.9999 1.77626 13.776 2.00012 13.4999 2.00012C13.2237 2.00012 12.9999 1.77626 12.9999 1.50012C12.9999 1.22398 13.2237 1.00012 13.4999 1.00012C13.776 1.00012 13.9999 1.22398 13.9999 1.50012ZM1.49988 14.0001C1.77602 14.0001 1.99988 13.7763 1.99988 13.5001C1.99988 13.224 1.77602 13.0001 1.49988 13.0001C1.22374 13.0001 0.999878 13.224 0.999878 13.5001C0.999878 13.7763 1.22374 14.0001 1.49988 14.0001ZM1.99988 10.5001C1.99988 10.7763 1.77602 11.0001 1.49988 11.0001C1.22374 11.0001 0.999878 10.7763 0.999878 10.5001C0.999878 10.224 1.22374 10.0001 1.49988 10.0001C1.77602 10.0001 1.99988 10.224 1.99988 10.5001ZM1.49988 8.00012C1.77602 8.00012 1.99988 7.77626 1.99988 7.50012C1.99988 7.22398 1.77602 7.00012 1.49988 7.00012C1.22374 7.00012 0.999878 7.22398 0.999878 7.50012C0.999878 7.77626 1.22374 8.00012 1.49988 8.00012ZM1.99988 4.50012C1.99988 4.77626 1.77602 5.00012 1.49988 5.00012C1.22374 5.00012 0.999878 4.77626 0.999878 4.50012C0.999878 4.22398 1.22374 4.00012 1.49988 4.00012C1.77602 4.00012 1.99988 4.22398 1.99988 4.50012ZM13.4999 11.0001C13.776 11.0001 13.9999 10.7763 13.9999 10.5001C13.9999 10.224 13.776 10.0001 13.4999 10.0001C13.2237 10.0001 12.9999 10.224 12.9999 10.5001C12.9999 10.7763 13.2237 11.0001 13.4999 11.0001ZM13.9999 7.50012C13.9999 7.77626 13.776 8.00012 13.4999 8.00012C13.2237 8.00012 12.9999 7.77626 12.9999 7.50012C12.9999 7.22398 13.2237 7.00012 13.4999 7.00012C13.776 7.00012 13.9999 7.22398 13.9999 7.50012ZM13.4999 5.00012C13.776 5.00012 13.9999 4.77626 13.9999 4.50012C13.9999 4.22398 13.776 4.00012 13.4999 4.00012C13.2237 4.00012 12.9999 4.22398 12.9999 4.50012C12.9999 4.77626 13.2237 5.00012 13.4999 5.00012ZM4.99988 13.5001C4.99988 13.7763 4.77602 14.0001 4.49988 14.0001C4.22374 14.0001 3.99988 13.7763 3.99988 13.5001C3.99988 13.224 4.22374 13.0001 4.49988 13.0001C4.77602 13.0001 4.99988 13.224 4.99988 13.5001ZM7.49988 14.0001C7.77602 14.0001 7.99988 13.7763 7.99988 13.5001C7.99988 13.224 7.77602 13.0001 7.49988 13.0001C7.22374 13.0001 6.99988 13.224 6.99988 13.5001C6.99988 13.7763 7.22374 14.0001 7.49988 14.0001ZM10.9999 13.5001C10.9999 13.7763 10.776 14.0001 10.4999 14.0001C10.2237 14.0001 9.99988 13.7763 9.99988 13.5001C9.99988 13.224 10.2237 13.0001 10.4999 13.0001C10.776 13.0001 10.9999 13.224 10.9999 13.5001ZM13.4999 14.0001C13.776 14.0001 13.9999 13.7763 13.9999 13.5001C13.9999 13.224 13.776 13.0001 13.4999 13.0001C13.2237 13.0001 12.9999 13.224 12.9999 13.5001C12.9999 13.7763 13.2237 14.0001 13.4999 14.0001ZM3.99988 5.00012C3.99988 4.44784 4.44759 4.00012 4.99988 4.00012H9.99988C10.5522 4.00012 10.9999 4.44784 10.9999 5.00012V10.0001C10.9999 10.5524 10.5522 11.0001 9.99988 11.0001H4.99988C4.44759 11.0001 3.99988 10.5524 3.99988 10.0001V5.00012ZM4.99988 5.00012H9.99988V10.0001H4.99988V5.00012Z",fill:i,fillRule:"evenodd",clipRule:"evenodd"}))}),Iwe=["color"],Dwe=H.forwardRef(function(n,e){var t=n.color,i=t===void 0?"currentColor":t,r=xo(n,Iwe);return H.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r,{ref:e}),H.createElement("path",{d:"M2.25 7.5C2.25 7.22386 2.47386 7 2.75 7H12.25C12.5261 7 12.75 7.22386 12.75 7.5C12.75 7.77614 12.5261 8 12.25 8H2.75C2.47386 8 2.25 7.77614 2.25 7.5Z",fill:i,fillRule:"evenodd",clipRule:"evenodd"}))}),Nwe=["color"],Fwe=H.forwardRef(function(n,e){var t=n.color,i=t===void 0?"currentColor":t,r=xo(n,Nwe);return H.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r,{ref:e}),H.createElement("path",{d:"M6.04995 2.74998C6.04995 2.44623 5.80371 2.19998 5.49995 2.19998C5.19619 2.19998 4.94995 2.44623 4.94995 2.74998V12.25C4.94995 12.5537 5.19619 12.8 5.49995 12.8C5.80371 12.8 6.04995 12.5537 6.04995 12.25V2.74998ZM10.05 2.74998C10.05 2.44623 9.80371 2.19998 9.49995 2.19998C9.19619 2.19998 8.94995 2.44623 8.94995 2.74998V12.25C8.94995 12.5537 9.19619 12.8 9.49995 12.8C9.80371 12.8 10.05 12.5537 10.05 12.25V2.74998Z",fill:i,fillRule:"evenodd",clipRule:"evenodd"}))}),Uwe=["color"],kwe=H.forwardRef(function(n,e){var t=n.color,i=t===void 0?"currentColor":t,r=xo(n,Uwe);return H.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r,{ref:e}),H.createElement("path",{d:"M6.85357 3.85355L7.65355 3.05353C8.2981 2.40901 9.42858 1.96172 10.552 1.80125C11.1056 1.72217 11.6291 1.71725 12.0564 1.78124C12.4987 1.84748 12.7698 1.97696 12.8965 2.10357C13.0231 2.23018 13.1526 2.50125 13.2188 2.94357C13.2828 3.37086 13.2779 3.89439 13.1988 4.44801C13.0383 5.57139 12.591 6.70188 11.9464 7.34645L7.49999 11.7929L6.35354 10.6465C6.15827 10.4512 5.84169 10.4512 5.64643 10.6465C5.45117 10.8417 5.45117 11.1583 5.64643 11.3536L7.14644 12.8536C7.34171 13.0488 7.65829 13.0488 7.85355 12.8536L8.40073 12.3064L9.57124 14.2572C9.65046 14.3893 9.78608 14.4774 9.9389 14.4963C10.0917 14.5151 10.2447 14.4624 10.3535 14.3536L12.3535 12.3536C12.4648 12.2423 12.5172 12.0851 12.495 11.9293L12.0303 8.67679L12.6536 8.05355C13.509 7.19808 14.0117 5.82855 14.1887 4.58943C14.2784 3.9618 14.2891 3.33847 14.2078 2.79546C14.1287 2.26748 13.9519 1.74482 13.6035 1.39645C13.2552 1.04809 12.7325 0.871332 12.2045 0.792264C11.6615 0.710945 11.0382 0.721644 10.4105 0.8113C9.17143 0.988306 7.80189 1.491 6.94644 2.34642L6.32322 2.96968L3.07071 2.50504C2.91492 2.48278 2.75773 2.53517 2.64645 2.64646L0.646451 4.64645C0.537579 4.75533 0.484938 4.90829 0.50375 5.0611C0.522563 5.21391 0.61073 5.34954 0.742757 5.42876L2.69364 6.59928L2.14646 7.14645C2.0527 7.24022 2.00002 7.3674 2.00002 7.50001C2.00002 7.63261 2.0527 7.75979 2.14646 7.85356L3.64647 9.35356C3.84173 9.54883 4.15831 9.54883 4.35357 9.35356C4.54884 9.1583 4.54884 8.84172 4.35357 8.64646L3.20712 7.50001L3.85357 6.85356L6.85357 3.85355ZM10.0993 13.1936L9.12959 11.5775L11.1464 9.56067L11.4697 11.8232L10.0993 13.1936ZM3.42251 5.87041L5.43935 3.85356L3.17678 3.53034L1.80638 4.90074L3.42251 5.87041ZM2.35356 10.3535C2.54882 10.1583 2.54882 9.8417 2.35356 9.64644C2.1583 9.45118 1.84171 9.45118 1.64645 9.64644L0.646451 10.6464C0.451188 10.8417 0.451188 11.1583 0.646451 11.3535C0.841713 11.5488 1.1583 11.5488 1.35356 11.3535L2.35356 10.3535ZM3.85358 11.8536C4.04884 11.6583 4.04885 11.3417 3.85359 11.1465C3.65833 10.9512 3.34175 10.9512 3.14648 11.1465L1.14645 13.1464C0.95119 13.3417 0.951187 13.6583 1.14645 13.8535C1.34171 14.0488 1.65829 14.0488 1.85355 13.8536L3.85358 11.8536ZM5.35356 13.3535C5.54882 13.1583 5.54882 12.8417 5.35356 12.6464C5.1583 12.4512 4.84171 12.4512 4.64645 12.6464L3.64645 13.6464C3.45119 13.8417 3.45119 14.1583 3.64645 14.3535C3.84171 14.5488 4.1583 14.5488 4.35356 14.3535L5.35356 13.3535ZM9.49997 6.74881C10.1897 6.74881 10.7488 6.1897 10.7488 5.5C10.7488 4.8103 10.1897 4.25118 9.49997 4.25118C8.81026 4.25118 8.25115 4.8103 8.25115 5.5C8.25115 6.1897 8.81026 6.74881 9.49997 6.74881Z",fill:i,fillRule:"evenodd",clipRule:"evenodd"}))}),Bwe=["color"],zwe=H.forwardRef(function(n,e){var t=n.color,i=t===void 0?"currentColor":t,r=xo(n,Bwe);return H.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r,{ref:e}),H.createElement("path",{d:"M0.5 4C0.223858 4 0 4.22386 0 4.5V10.5C0 10.7761 0.223858 11 0.5 11H14.5C14.7761 11 15 10.7761 15 10.5V4.5C15 4.22386 14.7761 4 14.5 4H0.5ZM1 10V5H2.075V7.5C2.075 7.73472 2.26528 7.925 2.5 7.925C2.73472 7.925 2.925 7.73472 2.925 7.5V5H4.075V6.5C4.075 6.73472 4.26528 6.925 4.5 6.925C4.73472 6.925 4.925 6.73472 4.925 6.5V5H6.075V6.5C6.075 6.73472 6.26528 6.925 6.5 6.925C6.73472 6.925 6.925 6.73472 6.925 6.5V5H8.075V7.5C8.075 7.73472 8.26528 7.925 8.5 7.925C8.73472 7.925 8.925 7.73472 8.925 7.5V5H10.075V6.5C10.075 6.73472 10.2653 6.925 10.5 6.925C10.7347 6.925 10.925 6.73472 10.925 6.5V5H12.075V6.5C12.075 6.73472 12.2653 6.925 12.5 6.925C12.7347 6.925 12.925 6.73472 12.925 6.5V5H14V10H1Z",fill:i,fillRule:"evenodd",clipRule:"evenodd"}))}),Gwe=["color"],Hwe=H.forwardRef(function(n,e){var t=n.color,i=t===void 0?"currentColor":t,r=xo(n,Gwe);return H.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r,{ref:e}),H.createElement("path",{d:"M2.5 4C2.22386 4 2 4.22386 2 4.5C2 4.77614 2.22386 5 2.5 5H12.5C12.7761 5 13 4.77614 13 4.5C13 4.22386 12.7761 4 12.5 4H2.5ZM2 7.5C2 7.22386 2.22386 7 2.5 7H12.5C12.7761 7 13 7.22386 13 7.5C13 7.77614 12.7761 8 12.5 8H2.5C2.22386 8 2 7.77614 2 7.5ZM2 10.5C2 10.2239 2.22386 10 2.5 10H12.5C12.7761 10 13 10.2239 13 10.5C13 10.7761 12.7761 11 12.5 11H2.5C2.22386 11 2 10.7761 2 10.5Z",fill:i,fillRule:"evenodd",clipRule:"evenodd"}))}),$we=["color"],Gz=H.forwardRef(function(n,e){var t=n.color,i=t===void 0?"currentColor":t,r=xo(n,$we);return H.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r,{ref:e}),H.createElement("path",{d:"M4 6H11L7.5 10.5L4 6Z",fill:i}))}),Vwe=["color"],Hz=H.forwardRef(function(n,e){var t=n.color,i=t===void 0?"currentColor":t,r=xo(n,Vwe);return H.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r,{ref:e}),H.createElement("path",{d:"M4 9H11L7.5 4.5L4 9Z",fill:i}))}),Wwe=["color"],$z=H.forwardRef(function(n,e){var t=n.color,i=t===void 0?"currentColor":t,r=xo(n,Wwe);return H.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r,{ref:e}),H.createElement("path",{d:"M7.49998 1L6.92321 2.00307L1.17498 12L0.599976 13H1.7535H13.2464H14.4L13.825 12L8.07674 2.00307L7.49998 1ZM7.49998 3.00613L2.3285 12H12.6714L7.49998 3.00613Z",fill:i,fillRule:"evenodd",clipRule:"evenodd"}))});const PF=H.forwardRef(({sdfGlyphSize:n=64,anchorX:e="center",anchorY:t="middle",font:i,fontSize:r=1,children:s,characters:a,onSync:o,...l},c)=>{const f=br(({invalidate:_})=>_),[h]=H.useState(()=>new G9),[v,m]=H.useMemo(()=>{const _=[];let g="";return H.Children.forEach(s,y=>{typeof y=="string"||typeof y=="number"?g+=y:_.push(y)}),[_,g]},[s]);return HB(()=>new Promise(_=>ane({font:i,characters:a},_)),["troika-text",i,a]),H.useLayoutEffect(()=>void h.sync(()=>{f(),o&&o(h)})),H.useEffect(()=>()=>h.dispose(),[h]),H.createElement("primitive",Dr({object:h,ref:c,font:i,text:m,anchorX:e,anchorY:t,fontSize:r,sdfGlyphSize:n},l),v)}),IF="data:font/woff;base64,d09GRk9UVE8AAC6gAA0AAAAAQzgAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAABDRkYgAAAFIAAAIfMAAChRZFKn5EZGVE0AAC1EAAAAHAAAAByCRgjeR0RFRgAAJxQAAAArAAAANACwACRHUE9TAAAn9AAABU8AAA+MgotnaUdTVUIAACdAAAAAsQAAAWRlFnIQT1MvMgAAAZAAAABUAAAAYJf2spxjbWFwAAAEcAAAAJkAAAFCnGFvpGhlYWQAAAEwAAAANgAAADYNzYU0aGhlYQAAAWgAAAAgAAAAJA8QBSlobXR4AAAtYAAAAT8AAAGAjJsgS21heHAAAAGIAAAABgAAAAYAYFAAbmFtZQAAAeQAAAKJAAAFH4LLI15wb3N0AAAFDAAAABMAAAAg/20AZAABAAAAAiMSbAClT18PPPUACwgAAAAAAMTwES4AAAAA4yMHK/+1/jEG5QabAAAACAACAAAAAAAAeJxjYGRg4Cj+u5aBgV3j/9b/n9meMgBFUEACAKj9B0gAAFAAAGAAAHicY2BmUWT8wsDKwMI6i9WYgYFRHkIzX2RIY2JgYABhCHjAwPQ/gEEhGshUAPHd/f3dGRyA7Do2hn9APkcxU7ACA+N8kByLFesGoIwCAxMAY8AM0niclZS/TttQFMY/O5CIkiAQZUFVdSdUIWKTMEQCtWoUIYQEDKHqhKoa+5JYGN/IdojoC3Tt0k4dO1V9gj5Cxy59g459gg797BxCoHRoLF//7vlzz/E5xwHw2IphYfxz8VrYQg1fhG1U8E24RPkv4RmsWE+EZ7FsnQmXUbM+CFegrJ/CcyjbK8LzeGA3hatYtrVwDY79Q3gB66UT4UWUS++Fl8ifmYk1M8fdqyKrnC2s4p2wTe+vwiXKvwvPYB2/hWexZj0TLmPVeiNcwXPrk/AcqnZFeB4P7UfCVazZT4VrOLGvhBfwolQWXkS19FZ4ifwRHRgMcIUEIXroI4NCE5to8FLYo9ZQHkFzt48YPhxSm5KIz+7EKy12mk/Nsy65BrRExwyukrDXz1Rzs9FQe8b0Iq32Y99R7ShS3VyVqq5OdXKpAzp0Ge+Ud8Zb4bA4J8QQF1SZU5MZdaiDcJhvqetRE8FjRHR1bxh5yf+d8C9L9dfp055qEutl8bYpvQxrk1fOYd220MLOpI4tmukkDU2smk5jq7WTl6J1O3r9vjzr9+cZFrX2eGeM7dFL0yfP8pwyg7M7fXMm2Yep8lSWeIG+8JJzZc6kH7SYdsBYijun+OSLa6XjG3KHrU+KhDKuXlGCcbJ5WfKhyMuCTj8J0yz0YsVEdJKlhsIDevi0i4uRCeg5JAeFZ/5q/WLk2hxOj3bj3W2fDUrua8AmDw99Hac6UMM40InK+lq1B57Ph2g21E1PaJ9PcMZQ2/y/cTEqLoeBb4I7DJCwFi6rMZ1ESskBv4wOdnGEY6716yT6WTbYdt3RaOR4RXDHJD03GieQugf7nd2j4916kcB0i6VduD0TMgx/AIq26g8AAAB4nGNgYGBmgGAZBkYGELAB8hjBfBYGBSDNAoQgft3//0BS4f///w+hKhkY2RhgTJyAkYmZhZWNnYOTi5uHl49fQFBIWERUTFxCUkpaRlZOXkFRSVlFVU1dQ1NLW0dXT9/A0MjYxNTM3MLSytrG1s7ewdHJ2cXVzd3D08vbx9fPPyAwKDgkNCw8IjIqOiY2Lp6A7bQHAPlYGQAAAAB4nGNgZgCD/1kMKQxYAAAqHwHRAHiclXoHXFRX0/ddYXcvllVYF42uig07dkWpoiIWkKYodekKKEhbrPjkMWKcmKDJEyxBsSIgRUS6xqgIYsOuiA01diOJZu7uWfi+uWie8v7e7/u973KWPew9Zc7/zPxn5hwknLExJ5FIFJ6xIbGJsaNcw8OWJi3jJB04Ceci9OYEtUTo00HoayT0MGb+nY1+62zctyNnvGloP4B/VjrLHQ2hatkztWyXVM1d6armuG5qybemas5KPeShGWcsjtaZs+HcuYBxVmPHT7axGDdm7OTpsXEr45dGLkkU/xprMSs2NjIm3GL28lAri2kxMRae4qMEC8/whPD45PAwq08SWnySkL6OTIoJjv+PLzl6SbgOnBFnzEk5GSfnlnAmXEeuE03ehVNwXblunClnxim57pyKM+d6cD25L7heXG9OzfXh+nL9OAuuPzeAG8gN4gZzltwQbig3jBvOjeBGcqM4K240N4Yby43jxnMTuIncJG4yZ81N4abSwmw5O86ec+AcuTWcEzedm8HN5Jy5WZwLN5ubw83l5nGunBs3nwDw4Dw5L86bW8At5Hy4Rdxizpfz4/y5AC6QC+I0IlKDaOKvuArJqA5Ko+HGQ4znGVdLR0lXSfdKG6UtMmOZWlYmeyjX8GP5BBMTk59NnnZ83Wl/p986L+m8uXNe58tdtnX9ouv8rn9222FqZupgGmlmYjbVzNss1+yZ0li5WLmlu3P3fNUKVbN5hfnDHtY9gnvs6XG9p1HPET0Deqb0PNSzrufdnvjFuV6Ler3tnaruro7oM6LPyj63+wb23dm3pJ9jv20WIyxO9p/ff+sAvwE5AyUDBw8MGvj9wAeD5IO0g7YO5gdvYaHQoqtrkbS0CIYWoxZzXZ3+h9Y6WUublUpXJxha6+SK1nBFq/1a3KE2rtCa4UA8zDZjuPIR1eQqiMhYtj9+f3x+ahmUQX7G/gP7D2TkQBGvbICjqXnxB+IPRGVoQANRqfHxfHx8ajSE89vUUjvVvrYMDIf9+gypwnBBv0nIMnuPTswJ++GkT5/KrPf6TSrsB1LlKYuOyk34iyHr05/pFh0Vu7OSBSsch5dwvDBBK3ktWKlwNTgYrNAWbtOTxPa6TXv9OwAcx1ZADbX+kurjWRhI7woTmA3YGSawJPhX/SAAG49p4MEusR0gFaaZi50Sxb+lilW4SH9fGG/2G6ax+ZiGxjRSP5yA3TFN+eo3Yb4KWM+C/tdsrtm0+GPPNTxbiOPRR45dt78uabjacLXgV0Ap1H7588ryleUrjkXlR+WH5Pge8j3kcnhSLj8p1y0/soBX3oosWFUBNXAxs7qwoLDgxE8X4CKcSDjqd9RvtwtM5nGjDLBH9Md59+fdH1vF+J94jGMT2HI5k68brXGZ4TJj6RhgRsAm32XdcLR1ZfzF2IfLHi6rjSqMKIzIDABPHtxS/EIjQiM8VjqAPbjtC67gla+CK5IvwkNegQe1OEjogZa0wYMFc7SUvEN7zEW7B+0f9kbv9M9UYHXYsca7xvtW3DN4Dreyz9Ar+zo089fl8GvsTa8zXmccDlvBaJi23NPL0yt2Oozn0d5edVMOlRnFBw4fOJy/4zgchyNrDy4/uHx7BATwTnLwXRceHxsfu3RNCARD1M4V2Suy1xVBBX+xbbgKTafr/NTG8cz0upRtbtujgjHZTme9znrdjn0BLz6LcEgU4ZocXi6/5XHa47RT9hgYC9NiPbw9vJc7wTgSwU4UoXp78cHsg9lHdpRAiShC7MFYEsGfd5TD4nXhCbEJsVFrNRACS3auOLziMIlQzivuanEhG5WslkrQx+wxaUBXTMFajKzASGXpY6EPbX7XsiGPHR47oDwcB4FYuhX/cZdXLr8/HAuAReFW6UOUH8chgLN4FimDYdpxITY8y8dH765Lr548cTKXfnaehjp4vvTOrPOzzk/M6w/MBEYtdZ7tPHvJWGAyHvwz/PYu3ru42O3sDMbZT58V4cVHeK10BRdeWYpp36vg7rGGe3V87l68ZugkneFtHzcFnMAjS3Oc1xxPOg2XeaXVB52fCqp3HMvOy847uquSLLdw7eG4w3E7yDrBM9k/JIKPiWdGDlLnR0uvwhle0WaiTxe2m91HV+aK45VZ9/XpKhwvWuZBoTegKXMFMuMdZAkrjLC78JTAmJLFRpSwvlTqmOIe60Dlkf3TIL4Ke0sHPbDBLp44jkosugAG8t88lqajxxG0qUFLKrexw8trvB8OkI4LmuRgwyRU3JhpCOtLJZlZArPiFYatggRTjI6xJlUV6y19Vvq48QFKqdShaQn2pbIHBwAO5TfflW7EfgnYW4PmVNywo80Hmw/WNyeV8H5MnRsrfTX6Out6ko2kcoDZAXPlE+XANMvZHA82nooN6zjEnlewRrW0SGsmSHEWs8ZhyqxD+nIV1oxnoewAWg5GZ8xDF1aCgz8yf9yN9U8WoCM7weQE0078nc0ivLJ2sjfsNJpIFWOF2xgvERbieqMrwm2VYGaYieuFmUI3jDd0E4ax9YZhBjOZonUvaxJqJWiOy42y2bcq7GEnPV1Rfq7gWsG1zKvfXOO/wekslljLQ7rZf0PA2sC1gXE+YW6EzhkhExdJrgl7ja4JmSphLy4y7KXxhqzHPRLsjYVG9KuLqn9HhWGKuCzJFmaqQi8Qrqplo5gX7ScpvP45+kg+4EZhCaYZfRBeqLawoBI26t7AewOxow+OBZwA2OmXux/vfjyG4wDDeUyXf41BoTjKrsWuhXU+ycYDmwiss4/dALsBYYx0mNpsZPtU+EC+BbvveVlUW1R7LrcRmqA2pmhu0dzdQ4D14dl9+desh3Z4hGuEq8cyO5gK84+EXw6/nPIeUM0rssgOj2sltKiNRmirz1OhDhWgZrG4EYAexYDhIguXKoCWcJ2W0IRpQhgtoUn0KGkyeLD3UmlVaVXd/ka4BKeSizXFmt1e4AwL1/oso5/Fs2fa8YaVhoPAbPSR5DEWtloDCoKp9MX7K89K7pXc23MbbpDeh7ybcm3KNWZUwPrDMJigdQxzDPP0Dp3Bh85ItiG+ETEUlqG34Eak0UhCBBFxrMCNyg+NQi8ykm7lQ586PnVEeQRaAFoCmhQ/u/PsTvkfxPDQlHw1+FzwufmlNof4S4d/KTtewyuF4zV76sgfoHnIe+sb1jeYvIgNhvFgs3LG0hlLvf1C3ULdUmaBIy+usi6r6vjR40d/2X0RbsHplMLwwvDd3rTK6cneQeFB4e4pjpt5NpR540DZU7iSXB7CKz+Uh+xzJ5/gkOShCdWEztc6iuSxR3NMcyz5Z7ggIo930Edvp5XoZhCgPwsxqm1sqM6ENPAO+U2gp7Pptw+j33o79h1IDSZtdir8P8KNzDwwfGhXK+EBLsJSjJCgClOFWBoHVcSg21i3qqFPHJ44YIdw/AJwGOFR9ujJoyelaEJ2DDg8DDvZP7V/alHG+gE/CRxSXML4Y/heuENTRrTuA9vWeFzoJy3MP7I3NyM3o2hrGelV/YoKnwqffc4wDkYnOwUvDF7oGecIvAssyAw5GnJ0xS9fXhM3apHwlKQ6iQESNKGdisevjNBEqKVdcipn/Z9ZPLPATgtwMGB/QFlF8/Pm52XYqV2sgRFoMu3Xab8OLmcq4FkXGBJiN2UnflH9e9ONphsoKUL1Fj4HA+JlbC2wWdNZNzZYfM9j/sC+p61iJuSVsk4cOVaWU5ZTvfMUXIMzsaXepd5Z5DdhfPKM4AXBCzzjpgM/HdzzAi8EXkh8BMi124HxW9LvBvpQ6b4Cw101U+L3IBBTEXq92776ZMdCHPoILqSDf9BkEbS6oWSDkRS2/P6H0J9WqCwd3OzY7Ih8uLhA8lzyouZbzbdKWwC7w53kqyF1IXUe1Q4FfH3eibKiM7zyTdGZzHoSE7uFvrW5YXODcYWsDzA1MC7SxsnGKXQYKTfM2D2v0Isv9KoOqo92jPLwC3HlQ1yTZ4Idr/wd0zJUcCOr5njZ8bKze6+JS04qDSoN2usO02Ga1iOEXh7JTsA7gWdWcCkfXJp8Fq7RzEd0A1RwOfNUYXFhcfWe83AeqrVFIUUhmQthHrisXBgZFhm2WOsKvCss3hNZzEcWrzxFXk/xFQbgUfQU/iRWfIEbhEjijhd6f1q95VHW8fbY22Nbgmi1KIFXpU2Pv2QWmoH2LvYurMNSNvBrfgkLOCzD1C048yp2wr7i+xz6A+7ir8gB52pwyESUUGH8aTYERoF10gzNDI23W5hdmF3KBBjB44ZtKniSdeN4zfGa09lX4SqcjSqbUzZn7wSw4EfKE32jwjSxmtjAtb4wE7yyg88En0m+Cb/yitYZxNhCo8ja5iJrm7eztu6ZMYRtj6H4Or4gtRTKoWD7AXpl5MJRKE7NjT8Yf3DJ9kDgA2HpuvgV8StSYyCMxlqjo4HMUIKFbBMuV2ZV/E9cCv/ZpyhP1auNz6r+F/Pyf03MPPXNWkm9kK/S3TWQMacZmjFRaMYUqrbeNfBSxSQUaIMSMFCCg1FQ6X7HgNbfZZhgTLVAqinYFHEICjGmqHQfBB5wQav4wf4utDGtoY2tkSpYairu0H1MRhcMMqvFtBzMZj+iluJ15Z+1+rvt1H86s6wgryCv4qezUAvlq3OjcqN2+ZHm+K8LigtZFRcSNGceP2dekEfSwqSF62eKMaNW9s3rfTfKTvDYFbtI3384+aeoJKiIeOV4xfHKgHzWC5g5DFhq68zbOodabWYdeaUeD7aFUXb043+bHf17asRTpLsuPoGPT6DciJAS3hoW40iy4gAMwQHMAq11zjiaNHeYWQtOV0vVOEb5XYsQrdrAFh1itvWsfx1T/zoQu0wXi+UStANeOf8qNPzQsKth1+mskkNk1H2kmsRFK93W8cpCt3XuG7yA9QXG54yoG1E3/WkA8lRSsO/3OHErjjuC/c9hNypNL99f5N9fRPkRcka4lHz9nI+sB5Uq5r6ebU5jfOLIIKcgJ6/IWUSt4Ze2Y0/+Z6FW6lG26LBmh2aH7zYvch4zE+b4zfFb6BI8IXhC3LD1TJLKeu2xOGHDK/udsLkZ+gaqoXJ7+YHyA8eO5p8k+UoG3VuEXQCV8Fv1zdc3X5dgj+/R5nuctwInumMfKuP+YJ1viGVgEZtKfGsNbEgo6z6ViiUznsYseXqHMOu/s7m8rqOvajuqD7dUXq28WltwE3LhyFdH1vGBhr9Jtd4rgqKjSY7o6KVrImEBhO2Pr4yv/PuVH8jqsCd5uueo0Q/WSjLNcRdgR3wu1FG0w57jT2CoopiJaUE6rG2wCiOF9xhpeC9V0PNAwQ/dhFGoMcOhuFVIw3S2DNOVH3CouZAtw8mAZkVPbjy5UfoBsA88SLqmOac5N/+YbVbD4VPHC0+Riy88lVkLlykC0LydeGniJWZ6hE0B3pAmw61q1ktF45+W03ijN92hUHUEzEzyDgwLDHPV2hIW+TqViibfLG+G+tUltDihJDrLhxh1TtKioMigSNdV1ErxUUsLu47BkhbcpuuH6UYtur4U2vU6wDpWWVZZNtg+8X7i3RKHZGRTAb8o/a35t+azqNiJo3mWLls3MHra4sDFgY5JQ4FJwLrE64HXg1jsDDiWR5X8Gxydgx3P3Tt371EJdoBXcD2xOqA6IMchYwBFh7LVON4Tuw1rHtbMVGViaNgJ+seO8Rzj6WzjO8B3QAK5T4r/FGRjgfoC1EjaUbyN24xEACfLRFXks1vOtpxtvHf6w+kPh0Rd6cvfIBJWx2EX7w/eH+zvDzk75CyTHha9scHpM2w02Ew59X4X3GDdYJ0vTjOOnyrfzEZHss4zrGdYDw5hXxA2TuIWeqO/YPl5cnFi/TzioPmCt/AK/Q2vBEudC2raZsoU/bOShVZqP/Pf2pK4rRTgBBoeCDN1E6jdWJkCJ2uplQkFgvswSPKRULcg1D/qhhHqfQ6xLicHnRx03fal90tv5GIpkqXA4mPmi4IXBTd+PtXAC6cN1RSlnWJH5d7uo5fTslhHGF06u3l281Ls2g67MQXT43Kx07n75+4/LkEp4HRoGZ/NpvP4jSwFR3igfOS9kfeY6hibRMROFuM6gHWjspA5AIsjfU/MStb1xiDhd237StrVon01ut66fq29MV1U+HTD7639hN/ZVkok+otBOOUNOFlsOdn8cwuZYhStVW2s10rKMV3wooflwngSuU9J/wf2D+zRJBxHUsxEMUZJ8/3m+6VoBNiP129l6W3pcrDVuoYGhgZ6J84i7vDaHV4cXpxyDu7witq/pvsXzL4ynILThTmtJngKDA26n4Wjui/YOTDYG7YxCzYNdA5sKwVAjDAiiX79V2e9Je3nMPpKXIlw7tPQosGms3TU6oE+tahVPhLnSRcSZcob8TqVMK3tIwW3gpP+T6myLr7VHAyJmE5J3Q1x4ffkhslt7w3W+vesiebEhH+Tl8D87pPM+kyZrk9bJm4V05QiCo+hbW9rP/3edjlxrhbD9PUUF7dQH08StUVnr/qG9TvAup6wOGFxfcpzj+ceH2Oxo6ggH7Kf1zyvuXa/GjkqB9CUQOWb5JtxQDx2W/zn4j9n3h99dvTZAYfJwqgMiB3tMdpjpvViJqGygpkCI3vcOk31kCx2bB52Of/4/ONHx0XPZgzNmrqJdRNzKIRjE3kHyoWtY5jp/EnzJ03UMGPxcGlCmWuza3MMdiOvwCvukhkcJd1J/8te736yV6odxV9k5JKwx7GXjS8bK8TNpq3v54fGIx6NeMS6H2eTyUipzdZWfxUNcEH+cPOlhCr/Kv/988AWbBLc/IP9g52TxpJp/guf1+34bDN6/d/jYwKVUPpdyQ881rOv0RqHsm/RR9p4rq6p7H3Z+ywxbO/7H1DN+AuqzqJp/T+hekRQjfkM1cO/oAqum1Q3KVeEyvq/QiUVoZpY5vrU9WnMJ0NVVBJUNQTVmr+gOvxPda7BAhmWG2pwP8B2dk/4Q/qw4NLJykuVl/Y1wRvCLQAlY26NucXMjzJiccMPImguKhpqj/zJ5ktJZZoyzb75YAeOCe5+Gj+NS/IkAi1di/76Rgw0u4lbWRhNk49blS9uCvNUMOaATbVztXPDgidhT8LepJBDGk/eqfDF9RfXK18DEeut1Reiz/DRZxZXO5c6l44pZtJ8KlPyfQt55R3fwvgyOAX1e09UFFQUXMh8AGISWaWpEoVwEKkeHibeDmwIbJj3i22RbdGY3ZbARlFaED7CYYSD/3DxZIv1usQk+IU136B5GYomS6jcX1JOP3t9YS64JwaIPmv2yvEwGOz2eZfzyhfe5XEX4AGvyBBTn6cEovB3sq1yqquEhWqmxu+oKviiRs3WyhR//EVFaEp23CQSlamQQmQ0rpp1fTvu7TjsGYg2gFNIQSvePXv37IRIvqN5fTCxka+cBQ8fxHz6jgCng74nfU/G34I3vD6EpcsVLz9bdyb9Vgm71Xp3/BqELNGmc8EgU7Mthg5q4wSpQrjyuaUYMKjwqdgyDbBQX4U5bVW4EeirdiJgiW1NLFvfxJYAy21rZMn6Rqni4ufOJeZYCXhZyMVLhlysAsNCXbwwTxfByoGdM+xj54R9VBVcWyOkip8+9xE2kIFsa5dvbdtIMBzBbQDCEWGNfiQ7AuxJqzN7onOWKrb85WnvmesbiBZ3y3Qb9Y1k123HKAfQ6NZD61dtN6SK1nGU4XuoZT7oaYY9hZGGkRRWP8Ke7I5KGIkeMmUDm0JPZfTdFPQ0jJQpDJ3aBdnTLsMHte46bgDDB7Vs1H8OliFYsTRxrAzWW8U8BCu1/JrBinnKlQ1oo9blUOgvtA90SrdMhSGAzkIwzjIEYzCwk7pocmBE8bXMC70k35ozL/0w9JIrDFfUxlfxjKRaiDGqVss4Fe5jZzAQmA+eET2CFn2YVTIRzij8AV3NnlFObEkyVD/DM2QY+fYNrg2uT2I+mfirY3eaeOWa7/1/iPoxmRzqT7K4mrV3SReENfKvUR721PGC4wXLPKYEa3BYM2v5rOULQ8J8wny03uDefhBTmllQkF2QXbH9NFyAqlW5S3OX7goCL34GGyYXD8i6xkx05Se6BlNVTh0OqODsvvLy3PLcK7ueAY89mEaWHBYdHZzIK6uDEwNS/cAHQrbHZMdkry6CSl5hp0VfNjZZ3xv9BGfyY90oy0/DOGE1rSgZu5ljHGSgiVRZeW3M2wCKrCkM+uPErXe33hVhL0BbfgdFTzMoS3B86/h2YDXrKfqLUSEzrSnyYGlyTFMzB5XgKS99frPiAzRC7fIS9xL3LJLWhI+hCEqeNCnEM8TTPdYB+oNjpeYl5XvjtbhQtwJ9JOKpVwiuNGoUcsjuppWx3k+HPR2GnX1xBNyFGz9dzr+c/0tlcU1xTVb9t5d5tlK2ySc5KHRJ6JLFK93ABtyyg2uCa5KeAJrwxcS/fFZz6dnSs7XZjVAHJ7THQo+FZi361pXHlbI0VAS/m3pr6q0BRWKMNBJYZ9/xQ8cPDRJXNIVXOP4nTJ8kS2NxGKesbBQqqMv0Ytbv7uC7g39fJKLUBd6U3XjCK1dlMGOCUKoUFYmlGU7KZ9wbfYzJxbRv4CJ7S97eMoxiR2ZDe5esAjTNelV6vvR8bW4jvIPrmvIJvCFEHjDOKWgokfP8nODzweeTHgN2IJh6EkxYis6YSVDpCnGD0QPhHyTIxEqmej389XA09UUreAZNmdcLrxeeqy69yLMeaCqdOXZMIPkWW5h90Odnn59jrm14yut83soAHUPwC5uXNi+ZrJINASuYnODo7+jv4RI8KXhS8ghgHI9b3ql+fHDwYkllSeUv+y5TqnEq+Wjw0eC9bulT+ZVkOluykvW9KIfORn8JRmCaUbm+lwqntPXCNPo+Dl1Y3GsZdqqpRb5vAeRuOrSR34qeUr+MwK0awhysolzmuMyJsqI6P5RNkStmGuzRG6PQV7cU/bRas/u4UVhKyMdirLLpfjvyzsdYv3uW9yz/WCwibwIviq/eFa+EJiXO8w/yD5qXNFXMNUaXOT7lmZxZSosX1mhuR92OurOKqGo4YOeSJ/ef3C8ja8UBvLJRn89i5ZRsSpVvZjweXkoRIOsBAxbbDuFth4Sx3sBsedwo7lXXvS/L6svq6/PuwVu4HlIxhTfEyf0nOwUPI3Bd84LOB51PekT5Pq8YlfWX5kiwC6nOKPHYsos5pul2yKqab5S+gXqoXJ0Xkxfzkw848q1u9MRHvgl3MRMiydVAGYdlgO1oXmggm1K0LqLhLmtxGv5oRs4pm20nW32Ppmqp16djg4T9Cfnr2o8Ntu+nV/uxQVFqbsKBhANLM4KAD4KlqQnxfEL8+hiIIMe4U63PV9EGXWZpFJyHGGajv1o65PMEMppgG03wwpGlqJi3vGR96Vfl8BGaDp+uOV1ziBZoxKuNdzKy9AD51+NDgiivjobl38Zv5Uko4unJn256Sagj/3+hoj4JlSoKpWCT2hcpLG93wASXKcGFH2XIoRHeNIRhPhg8dJ0ES8FH9GQ/s2cOI0HfkaURo4sAkblRTwuxpwX1bLc+iterPu2E9hPTibwtvrurlU0i16XpDshKGhuOvRHPEC7O/ZYp+VZ/TJNv1q2S7qjaf7QgpyCnYudpaIATq3Oic6J3LgZnvtWb+vlRRKha9sbjkselsUfEqHkgsA7etsxoIRoNPc0GA/HIwCCHccTCG1DKVpKUo/8lymedUN75pBQ/yqqe3ih7S9ZVtTonKidq5yJxGg96EiRPwx+ZHFUsqf3gyM9mOK8s34Cm7SPO+XfizMSNRJyFZB925Uz9fPDzwahYjKPgN3i673bF7YpzF0seljzc8wr+5DeflW7A0YvRdMzLMS9Zx0pmCUNhQpJDgEOA+5zPxt//L4La97KyvpKUXrx2qY+unFs5d/8E0b5Y18RRAXMD5s6LngL8FJibG1AfUJ/4RFQPhZ2hX7JgQcIt+yf05GQShWTcqHyF3QwTSPuEf8iu2b0KEwPs7tBy4vZvt387Kp7k2/A7ycVMj0B1u4s5IRJyVxiumTGBV976G3ZgicSurzCtdZ9KSJSX3r9e8g7uwfno0nml87ImEmkBUyaNCnINcp0fbQ/8EJh+POghr5j1l0iEl/YToQeTVDEYo2xqFCpFWhEJ3fKu5R+LUCVevj8vunaLN6STOigb1dJGFiNfayFyxKORx8UTgZ7EEfZDefuh7Rxh9xmu7ntflZ0vO38+9w68gqthlba8Yb3cf8qMkBFgD/Nzg+qD6pOa2zEyfE9ZtIDrPuNDAUy7QqbIih/dEhPdfDiyKW8j/w2mSBN/iE1fAgNhqr/7KF5Z9BV2YWvEQMZJi3N0m3GO2S1cz/zxb4IS/658cQtfqmDO7vnFXsVevwQ1RDdEN65+KvrxDzlNtU21x+5RglCztnpFCb+iJLRgweEFhx32j8wamTU3KyaLYvWYrNWHyVRLdh3JP5B/oCzjFJyFijUFMQUxP4WBf3uM0hL6wOaCzYWBeaLr7AJDYmzn2c4LsyMPwozqJmEX99NxDUkPVvEPVp3TFiYWJv4UBRoIWxUVlRCV4Js6F2bDwp2huUREoblJ5ZvOEhaVWgzQhaOLBIkKjb4XfYizQSdjIS8G4fy+J+GX70/v5NFdvnxD7KZYCIblP6zOXJ35ZS6U8MJ79CI340XkmcZ2MWe5wuqz775MyHaifbYidMuxk2BK0prnDq11rnV+ulS8JuoBLcevPeSVKVv740oAkQ8BWjOlyvKQSTbBlN3xTObZgH366dxEHmbL2ylKsld/WSUo2i5jJAidqBMF5Ctbd7I1up2Ul5d9anOE2mA1tfEHTNGtxjWtq8VqFTX/GzDH1lSWpEtlc4HFt2rZdJ2WdjPgU89cc9wHGC3IMMYgwyxgr4QKfCjksH3AQpjAAlFgWYAPDDnUZx1xd5BaOkgryRCF6tZ2fomVdOXChIiYpJgk/1Q34AO+BeYuLU0t/qoAxGtX418v4RxecFIbP2AZwOJa49lKXbw4PZBxuOAiyX1zfQdcaLghE37WxQNatT6h2H6RUAiGitZoqcJQIhxEZwluoUDtjHBQhaoLjmx4P7ZUns5SsTMbjqmz+SrsL2XyovktaWTPuJQMeoTHn0xeh/K6Gsodh/MYI/8ObWpbUF7E+6GFlJlEjV0wf9r8aTHDv6ZQgC2RsxFzHZmqr6I1+NPZiBPaGKGTeBtso5adZDayf0oSiilGh1isqor1l2KX/Gdnam/X3j78G3EXj4vlOPziLVT1RWc5U825hcP7oT+J03XZe/fb7rfHnGZd8nk/ZiFFk/Dagd8ye56FUrA2ps4Cu3iyLp5u/cX/H2Bh8k3Mfv5AZhLOK9Bc6IFB+8TbBxNcoFuH7uLln50KF8jgTEb5wYKDBQU/lcMBOPDV3vV71xfFnQw4GVAZfTzleEr5l9XAv4LGovqb9Tfz3ohxKnOXgdda/9iI2IjIlEBYAfFbk35M+jEy26/MrywgL2hP0B6/H3yBHwq2kW5Obk7LRon/2qFQG3/TXW18RaXdo7+8B//cUwsyg/0/5NC5IwZ2RJ9tnTtjGun+Pzp3UXNWSq6DRNLZoUDoAdiHOYG003+5l8lov5fJa7+XyWu/l8n4dC+T2n4fJF42dPq/PLzfuwB4nGNgZGBi4GNgYJAAYgUgmxEI44GYBchnAmJGMMkDxAJANojPAAAadADVAHicY2BkYGDgYmhjWMDA4uLmE8IglVxZlMOgkV6Ums1glpNYksfgwsACVMPw/z8DE5BixMvTY2B3jHJVYNBzDgoBkm5BjkDS198HSPo5hgHJIH9fIBkS5A0kkfQxJSfnFjDwpRUlJjOIgEUYwCRQhoGNQQKIGYBYisGIwYshgaGMoQcswsgwgYEZTPMBsQhUhxdYN6a4N5q4ENQeaokyAt0JEgcBJiBLEOhesBwAlTAg4wAAAHicpVfrT1xFFP/dZSmw7MKyVrSIL6zYilYsAVo0jUGkmDQVRQrFplqxagqpiEbTpGn8oA3xo/+AJNpgYqQmpTE+SGmCjxZF2liF2IrQAgssIG35Zvb4m7l7dy+wy+7G2ZyzM+fMecyZM+fOwADgwj68A2dV9a7nkdd8pL0Vm15rP9iCstYDbx9GFZycAxE4+GckMXI0t73VhqyWg+2HsV5ToDE5WIcsPTbg07MdKHZUcORCKjaihmMne6nkpPFnIAd5pBXgMbhhGIPaUj4qObMGu+n/y2jDMXTgPIbwOy5jHv8aLiPf2GLUGnuMl4wPjU6j2+gxviH0U1+pKNyITKSgnN5tQyEqkEuaV9JJu0dOol4W0CijHLlkEjvkJvaT4sBOmSd9Bl54gvPIJhTIEyiSYpRSU6X8hSqZxVOEakINoZbwHKGOevZQskH8aCLQAzmr8c/E9YyJk56NolyuYZsEUCFXaL1UBkmZ42iII4Oe18kZylzgbBct7mB06mQc+3GLpmST4iZllpQspCONPDUvU34lx0f/Z8gd5vpmtIyyP8F1FXFdZQQXrXgp5w1p93E9fq7Hz/X4uR4/1+LXkqnkBMgJkBMgJ0BOgNI7KVePrYxvDrXX0r5Bmoc2PPI+sgnKWoDWAuTkE1JoL4MWC7j7hXgAD+FhPEoNJYxpOXengjv/OHXsQh01N1BzE3fd4T6qMiHTndlPqfthbz6rI1cZTavlYHnLsdPkGuOwqjGOVu9zucR9MPszhGnbrDE5Tryk6Ks1yJDclCXdX5JBWZAOOaRZbk1bJHQQRqRfftT+0Hs5pXnnmA/q/0oUvYu2/j/h3mcRj+305Jt8mcCcORPzZJjjSaL1MebG9MWK6jLa4moaqQvxfVolsxRNK/PCHr/rCWm6EZWagKwpaVqMvjLdsm0Se+WPODqX5Zp91xNrMiljxBNmHssUa0LisvsIn4RHZxjNYeIROSRnZUAC0sk89vHE/CDj3HdPaN60ym4VC9mg91Ll+eshXmf06K7hwwyrldkLROF28Tx3STG96pBG+Vq6SfSyvp+UHp6zyHk5paIuizIQDMoxZqJXvguSK0cJm1bvVbTdjtintb4Y3g5bJ+D/nMmwtll10ojnVGwZb6tyeZLWNClTWpPOH2bBWBwBq2ZmcfYrhAtrar+arD9aSsczmXyMqcmsT5c1Hoftu7CseW0SdTE03bCw7NYVJXRW5b3Q/y+WndD4jWCrdK3QUZOE50vx53BWn8bX+TUmlg/ELyXBaTUK8XlCgn+rsypfSW+YunWZDtYZ+V5n0Qn1JeJ9w8791Nb/MwGPAhGcaIu+02Ym8ss6x+/uqMpSmFk3EFPPm+Fef1ybE3Iu7hx/uBeqTfKbzoCLrC2niUesXZKemDo2h3vNa1hKunqvoet0VOqRWDbWPqPysXyxgtK3MnLyk8ZTya4jmEB1kHrpJbzK2lwiL3J8AOarANIixyPVhzeqVP3/UbBMsvUcBO/i2J2MR+GWRB2NdiexfRF65NsYcpcIvTIt3epkygm+Oczm09/Fi1FlzgfftfTJdkTuoOoOvRcbwhMjvXtDEL85eBdX74HUMMXFF9LtIf25IVoWqXfiDvroXnGfXseY38b/dD1yhulO/lLUfuDWECUD6paobvym35EbY6SXh7sJibR12ndrDardZ1uTCV6uRPmdS5/dkfqoWxrMd6n5Io20FP6U54ZeNRiXDL2GDNZ+g68U9WrxsF9Aexv5/ijEZjyIIv162YJHUMw3TCnK9Atmu37DVOJJvqir8TRfrc+gFs/yPdPA9Tfhhf8AO0d8HwAAAAABAAAAANoy8IQAAAAAxPARLgAAAADjIwcreJwdzs0rxFEUxvHv79xzjcwskGyGNAs11IgiLyklUiyYIUkp5SUvKzSJTKGJRKR+CwsLZcOGlX/A0grJxkYie8USh8Wnp3vvc++5CgTfINUcyBFT+sK47jHpn5nwlQwHo2TkhnW5J+l2iGuWruCaCjmhR9rZdrWI9WfNmUmbftNoNkzWdJsZMyZVbAbv1GkJHbrKoday7l5pjyRt3iClPkboW5n2bYS6ZaZsvcicvySUTk51gZSP2v4QYSSwswuzZf3K/xzXbzt7oFefrNdMzqcojRRR74up0WcieseANJB3I5RZxtw8Te4YJyEN9uaobrCm9fb/vOljUB5J6Q4Zm7siUXIS/FxpyjLKXsGXdZdY0X3r/t3bpV9uLRP0yTmFusiy+6Tcf5DQAqrcGzHLjFzSIsKFZdynyf4CCpdPRgA=",Ku=H.memo(({isPerf:n,color:e,colorBlind:t,customData:i,isMemory:r,isShadersInfo:s,metric:a,fontSize:o,offsetY:l=0,offsetX:c,round:f,hasInstance:h})=>{const{width:v,height:m}=br(y=>y.viewport),_=H.useRef(null),g=H.useRef(null);return WSe("log",function([u,b]){var S;if(!u||!_.current||(i&&(_.current.text=(Math.round(sh().customData*Math.pow(10,f))/Math.pow(10,f)).toFixed(f)),!a))return;let T=u[a];if(s?T=(S=b.info.programs)==null?void 0:S.length:a==="matriceCount"?T=yu.value:!n&&b.info.render&&(T=(r?b.info.memory:b.info.render)[a]),a==="fps"&&(_.current.color=sh().overclockingFps?Hl(t).overClock.toString():`rgb(${Hl(t).fps.toString()})`),_.current.text=(Math.round(T*Math.pow(10,f))/Math.pow(10,f)).toFixed(f),h){const R=b.info.instance;if(typeof R>"u"&&a!=="matriceCount")return;let O;a==="matriceCount"?O=P0.value:O=R[a],O>0?(_.current.fontSize=o/1.15,g.current.fontSize=T>0?o/1.4:o,_.current.position.y=m/2-l-o/1.9,g.current.text=" Â±	"+(Math.round(O*Math.pow(10,f))/Math.pow(10,f)).toFixed(f)):(g.current.text&&(g.current.text=""),_.current.position.y=m/2-l-o,_.current.fontSize=o)}yu.value-=1,_.current.updateMatrix(),_.current.matrixWorld.copy(_.current.matrix)}),ge.jsxs(H.Suspense,{fallback:null,children:[ge.jsxs(PF,{textAlign:"justify",matrixAutoUpdate:!1,ref:_,font:IF,fontSize:o,position:[-v/2+c+o,m/2-l-o,0],color:e,characters:"0123456789",onUpdate:y=>{y.updateMatrix(),yu.value-=1,y.matrixWorld.copy(y.matrix)},children:[ge.jsx("meshBasicMaterial",{blending:jf}),"0"]}),h&&ge.jsx(PF,{textAlign:"justify",matrixAutoUpdate:!1,ref:g,font:IF,fontSize:8,position:[-v/2+c+o,m/2-l-o*1.15,0],color:"lightgrey",characters:"0123456789",onUpdate:y=>{y.updateMatrix(),yu.value-=1,y.matrixWorld.copy(y.matrix)},children:ge.jsx("meshBasicMaterial",{blending:jf})})]})}),jwe=({colorBlind:n,customData:e,minimal:t,matrixUpdate:i})=>ge.jsxs(ge.Fragment,{children:[ge.jsx(Ku,{colorBlind:n,color:`rgb(${Hl(n).fps.toString()})`,isPerf:!0,metric:"fps",fontSize:14,offsetX:140,round:0}),ge.jsx(Ku,{color:`rgb(${Hl(n).cpu.toString()})`,isPerf:!0,metric:"cpu",fontSize:14,offsetX:72,round:3}),ge.jsx(Ku,{color:`rgb(${Hl(n).gpu.toString()})`,isPerf:!0,metric:"gpu",fontSize:14,offsetX:10,round:3}),t?null:ge.jsxs(ge.Fragment,{children:[ge.jsx(Ku,{metric:"calls",fontSize:14,offsetX:200,round:0,hasInstance:!0}),ge.jsx(Ku,{metric:"triangles",fontSize:14,offsetX:260,round:0,hasInstance:!0}),ge.jsx(Ku,{isMemory:!0,metric:"geometries",fontSize:14,offsetY:30,offsetX:0,round:0}),ge.jsx(Ku,{isMemory:!0,metric:"textures",fontSize:14,offsetY:30,offsetX:80,round:0}),ge.jsx(Ku,{isShadersInfo:!0,metric:"programs",fontSize:14,offsetY:30,offsetX:140,round:0}),ge.jsx(Ku,{metric:"lines",fontSize:14,offsetY:30,offsetX:200,round:0,hasInstance:!0}),ge.jsx(Ku,{metric:"points",fontSize:14,offsetY:30,offsetX:260,round:0,hasInstance:!0}),i&&ge.jsx(Ku,{isPerf:!0,metric:"matriceCount",fontSize:14,offsetY:30,offsetX:320,round:0,hasInstance:!0})]}),e&&ge.jsx(Ku,{color:`rgb(${Hl(n).custom.toString()})`,customData:e,fontSize:14,offsetY:0,offsetX:t?200:320,round:e.round||2})]}),Xwe=({colorBlind:n,minimal:e,chart:t={length:120,hz:60}})=>{const i=H.useMemo(()=>({fps:new Float32Array(t.length*3),cpu:new Float32Array(t.length*3),gpu:new Float32Array(t.length*3)}),[t]),r=H.useRef(null),s=H.useRef(null),a=H.useRef(null),o=H.useRef(null),l=H.useMemo(()=>new Oe(0,0,0),[]),c=(f,h=1,v,m)=>{let _=0;const{width:g,height:y}=m,u=sh().chart.data[f];if(!u||u.length===0)return;const b=e?2:6,S=e?12:50;let T=u.length;for(let R=0;R<T;R++){let O=(sh().chart.circularId+R+1)%T;u[O]!==void 0&&(u[O]>_&&(_=u[O]*h),l.set(b+R/(T-1)*(g-b*2)-g/2,Math.min(100,u[O])*h/100*(y-b*2-S)-y/2,0),l.toArray(v.attributes.position.array,R*3))}v.attributes.position.needsUpdate=!0};return ch(function({viewport:h}){c("fps",1,r.current,h),s.current&&s.current.color.set(sh().overclockingFps?Hl(n).overClock.toString():`rgb(${Hl(n).fps.toString()})`),c("gpu",5,a.current,h),c("cpu",5,o.current,h)}),ge.jsxs(ge.Fragment,{children:[ge.jsxs("line",{onUpdate:f=>{f.updateMatrix(),yu.value-=1,f.matrixWorld.copy(f.matrix)},children:[ge.jsx("bufferGeometry",{ref:r,children:ge.jsx("bufferAttribute",{attach:"attributes-position",count:t.length,array:i.fps,itemSize:3,usage:kS,needsUpdate:!0})}),ge.jsx("lineBasicMaterial",{ref:s,color:`rgb(${Hl(n).fps.toString()})`,transparent:!0,opacity:.5})]}),ge.jsxs("line",{onUpdate:f=>{f.updateMatrix(),yu.value-=1,f.matrixWorld.copy(f.matrix)},children:[ge.jsx("bufferGeometry",{ref:a,children:ge.jsx("bufferAttribute",{attach:"attributes-position",count:t.length,array:i.gpu,itemSize:3,usage:kS,needsUpdate:!0})}),ge.jsx("lineBasicMaterial",{color:`rgb(${Hl(n).gpu.toString()})`,transparent:!0,opacity:.5})]}),ge.jsxs("line",{onUpdate:f=>{f.updateMatrix(),yu.value-=1,f.matrixWorld.copy(f.matrix)},children:[ge.jsx("bufferGeometry",{ref:o,children:ge.jsx("bufferAttribute",{attach:"attributes-position",count:t.length,array:i.cpu,itemSize:3,usage:kS,needsUpdate:!0})}),ge.jsx("lineBasicMaterial",{color:`rgb(${Hl(n).cpu.toString()})`,transparent:!0,opacity:.5})]})]})},qwe=({colorBlind:n,chart:e,customData:t,matrixUpdate:i,showGraph:r=!0,antialias:s=!0,minimal:a})=>{const o=H.useRef(void 0),l=oh(c=>c.paused);return ge.jsxs(ewe,{style:{display:"flex",position:"absolute",height:`${a?37:r?100:60}px`,minWidth:`${a?"100px":t?"370px":"310px"}`},children:[ge.jsx(H3,{ref:o,orthographic:!0,camera:{rotation:[0,0,0]},dpr:s?[1,2]:1,gl:{antialias:!0,alpha:!0,stencil:!1,depth:!1},onCreated:({scene:c})=>{c.traverse(f=>{f.matrixWorldAutoUpdate=!1,f.matrixAutoUpdate=!1})},flat:!0,style:{marginBottom:"-42px",position:"relative",pointerEvents:"none",background:"transparent !important",height:`${a?37:r?100:60}px`},children:l?null:ge.jsxs(ge.Fragment,{children:[ge.jsx(Ywe,{}),ge.jsx(jwe,{customData:t,minimal:a,matrixUpdate:i}),r&&ge.jsx(Xwe,{colorBlind:n,minimal:a,chart:e})]})}),l&&ge.jsxs(twe,{children:[ge.jsx(Fwe,{})," PAUSED"]})]})},Ywe=()=>(ch(function({gl:e,scene:t,camera:i}){i.updateMatrix(),yu.value-=1,i.matrixWorld.copy(i.matrix),i.matrixWorldInverse.copy(i.matrixWorld).invert(),e.render(t,i),P0.value=0,yu.value=0},1/0),null),Kwe=H.forwardRef(({portal:n,className:e,children:t,name:i,...r},s)=>{const a=br(f=>f.gl),o=H.useRef(null),l=H.useRef(null),c=n?.current!=null?n.current:a.domElement.parentNode;return H.useLayoutEffect(()=>{if(!o.current||!c)return;const f=document.createElement("div"),h=l.current=LE.createRoot(f);return c.appendChild(f),()=>{h.unmount(),l.current=null,c.removeChild(f)}},[c]),H.useLayoutEffect(()=>{const f=l.current;f&&f.render(ge.jsx("div",{ref:s,className:e,children:t}))}),ge.jsx("group",{name:i,...r,ref:o})});function Zwe(n){let e=0;for(let i in n.attributes){const r=n.getAttribute(i);e+=r.count*r.itemSize*r.array.BYTES_PER_ELEMENT}const t=n.getIndex();return e+=t?t.count*t.itemSize*t.array.BYTES_PER_ELEMENT:0,e}const DF=(n,e)=>{const t=r=>{switch(r){case 1e3:return"RepeatWrapping";case 1001:return"ClampToEdgeWrapping";case 1002:return"MirroredRepeatWrapping";default:return"ClampToEdgeWrapping"}},i=r=>{switch(r){case 3e3:return"LinearEncoding";case 3001:return"sRGBEncoding";case 3002:return"RGBEEncoding";case 3003:return"LogLuvEncoding";case 3004:return"RGBM7Encoding";case 3005:return"RGBM16Encoding";case 3006:return"RGBDEncoding";case 3007:return"GammaEncoding";default:return"ClampToEdgeWrapping"}};return{name:n,url:e.image.currentSrc,encoding:i(e.encoding),wrapT:t(e.wrapT),flipY:e.flipY.toString()}},Qwe=({program:n,material:e,setTexNumber:t})=>{const i=oh(a=>a.gl),[r,s]=H.useState(null);return H.useEffect(()=>{if(i){const a=n?.getUniforms();let o=0;const l=new Map;a.seq.forEach(c=>{if(!c.id.includes("uTroika")&&c.id!=="isOrthographic"&&c.id!=="uvTransform"&&c.id!=="lightProbe"&&c.id!=="projectionMatrix"&&c.id!=="viewMatrix"&&c.id!=="normalMatrix"&&c.id!=="modelMatrix"&&c.id!=="modelViewMatrix"){let f=[],h={name:c.id};c.cache&&(c.cache.forEach(v=>{typeof v<"u"&&f.push(v.toString().substring(0,4))}),h.value=f.join(),e[c.id]&&e[c.id].image&&e[c.id].image&&(o++,h.value=DF(c.id,e[c.id])),h.value||(h.value="empty"),l.set(c.id,h))}}),e.uniforms&&Object.keys(e.uniforms).forEach(c=>{const f=e.uniforms[c];if(f.value){const{value:h}=f;let v={name:c};if(c.includes("uTroika"))return;if(h.isTexture)o++,v.value=DF(c,h);else{let m=JSON.stringify(h);try{m=JSON.stringify(h)}catch{m=h.toString()}v.value=m}l.set(c,v)}}),o>0&&t(o),s(l)}},[]),ge.jsx(kz,{children:r&&Array.from(r.values()).map(a=>ge.jsx("span",{children:typeof a.value=="string"?ge.jsx("li",{children:ge.jsxs("span",{children:[a.name," :"," ",ge.jsxs("b",{children:[a.value.substring(0,30),a.value.length>30?"...":""]})]})}):ge.jsxs(ge.Fragment,{children:[ge.jsx("li",{children:ge.jsxs("b",{children:[a.value.name,":"]})}),ge.jsxs("div",{children:[Object.keys(a.value).map(o=>o!=="name"?ge.jsx("div",{children:o==="url"?ge.jsx("a",{href:a.value[o],target:"_blank",children:ge.jsx("img",{src:a.value[o]})}):ge.jsxs("li",{children:[o,": ",ge.jsx("b",{children:a.value[o]})]})},o):null),ge.jsxs(Bz,{onClick:()=>{var o;console.info(e[a.value.name]||((o=e?.uniforms[a.value.name])==null?void 0:o.value))},children:["console.info(",a.value.name,");"]})]})]})},a.name))})},Jwe=({el:n})=>{oh(i=>i.log);const e=oh(i=>i.gl),t=i=>{if(!e)return 0;const r=Math.round(i.drawCounts.total/(e.info.render.triangles+e.info.render.lines+e.info.render.points)*100*10)/10;return isFinite(r)&&r||0};return ge.jsx(ge.Fragment,{children:n.drawCounts.total>0&&ge.jsxs(Gl,{style:{height:"auto",width:"auto",margin:"0 4px"},children:[n.drawCounts.type==="Triangle"?ge.jsx($z,{style:{top:"-1px"}}):ge.jsx(zz,{style:{top:"-1px"}}),n.drawCounts.total,ge.jsxs("small",{children:[n.drawCounts.type,"s"]}),e&&ge.jsxs(Vc,{style:{bottom:"-10px",width:"40px",fontWeight:"bold"},children:[n.visible&&!n.material.wireframe?t(n):0,"%"]})]})})},eEe=({el:n})=>{const[e,t]=H.useState(n.visible),[i,r]=H.useState(n.expand),[s,a]=H.useState(0),{meshes:o,program:l,material:c}=n;return ge.jsxs(iwe,{children:[ge.jsxs(JSe,{onClick:()=>{n.expand=!i,Object.keys(o).forEach(f=>{const h=o[f];h.material.wireframe=!1}),r(!i)},children:[ge.jsx(FO,{style:{marginRight:"6px"},children:i?ge.jsx("span",{children:ge.jsx(Gz,{})}):ge.jsx("span",{children:ge.jsx(Hz,{})})}),l&&ge.jsxs("span",{children:[ge.jsx(rwe,{children:l.name}),ge.jsxs(Gl,{style:{height:"auto",width:"auto",margin:"0 4px"},children:[ge.jsx(Mwe,{style:{top:"-1px"}}),Object.keys(o).length,ge.jsx("small",{children:Object.keys(o).length>1?"users":"user"})]}),s>0&&ge.jsxs(Gl,{style:{height:"auto",width:"auto",margin:"0 4px"},children:[s>1?ge.jsx(DR,{style:{top:"-1px"}}):ge.jsx(DR,{style:{top:"-1px"}}),s,ge.jsx("small",{children:"tex"})]}),ge.jsx(Jwe,{el:n}),c.glslVersion==="300 es"&&ge.jsxs(Gl,{style:{height:"auto",width:"auto",margin:"0 4px"},children:[ge.jsx(kwe,{style:{top:"-1px"}}),"300",ge.jsx("small",{children:"es"}),ge.jsx(Vc,{style:{bottom:"-10px",width:"40px"},children:"glsl"})]})]}),ge.jsx(nwe,{onPointerEnter:()=>{Object.keys(o).forEach(f=>{const h=o[f];h.material.wireframe=!0})},onPointerLeave:()=>{Object.keys(o).forEach(f=>{const h=o[f];h.material.wireframe=!1})},onClick:f=>{f.stopPropagation(),Object.keys(o).forEach(h=>{const v=o[h],m=!e;v.visible=m,n.visible=m,t(m)})},children:e?ge.jsx(wwe,{}):ge.jsx(xwe,{})})]}),ge.jsxs("div",{style:{maxHeight:i?"9999px":0,overflow:"hidden"},children:[ge.jsxs(LF,{children:[ge.jsx(fwe,{})," Uniforms:"]}),ge.jsx(Qwe,{program:l,material:c,setTexNumber:a}),ge.jsxs(LF,{children:[ge.jsx(mwe,{})," Geometries:"]}),ge.jsx(kz,{children:o&&Object.keys(o).map(f=>o[f]&&o[f].geometry&&ge.jsxs(lwe,{children:[ge.jsxs("span",{children:[o[f].geometry.type,": "]}),o[f].userData&&o[f].userData.drawCount&&ge.jsxs("b",{children:[ge.jsxs("div",{children:[o[f].userData.drawCount.count,ge.jsxs("small",{children:[" ",o[f].userData.drawCount.type,"s"]})]}),ge.jsx("br",{}),ge.jsxs("div",{children:[Math.round(Zwe(o[f].geometry)/1024*1e3)/1e3,"Kb",ge.jsx("small",{children:" memory used"})]})]})]},f))}),ge.jsxs(Bz,{onClick:()=>{console.info(c)},children:["console.info(",c.type,")"]})]})]})},tEe=()=>{oh(e=>e.triggerProgramsUpdate);const n=oh(e=>e.programs);return ge.jsx(awe,{children:n&&Array.from(n.values()).map(e=>e&&e?ge.jsx(eEe,{el:e},e.material.uuid):null)})},Hl=n=>({overClock:"#ff6eff",fps:n?"100, 143, 255":"238,38,110",cpu:n?"254, 254, 98":"66,226,46",gpu:n?"254,254,254":"253,151,31",custom:n?"86,180,233":"40,255,255"}),nEe=({showGraph:n,colorBlind:e})=>{const t=oh(r=>r.overclockingFps),i=oh(r=>r.fpsLimit);return ge.jsxs(Vc,{style:n?{color:t?Hl(e).overClock.toString():`rgb(${Hl(e).fps})`}:{},children:["FPS ",t?`${i}ð`:""]})},iEe=({showGraph:n,colorBlind:e,customData:t,minimal:i})=>{const r=oh(s=>s.gl);return r?ge.jsxs(QSe,{children:[ge.jsxs(Gl,{children:[ge.jsx(Owe,{}),ge.jsx(Vc,{style:n?{color:`rgb(${Hl(e).gpu.toString()})`}:{},children:"GPU"}),ge.jsx(tM,{children:"ms"})]}),ge.jsxs(Gl,{children:[ge.jsx(zwe,{}),ge.jsx(Vc,{style:n?{color:`rgb(${Hl(e).cpu.toString()})`}:{},children:"CPU"}),ge.jsx(tM,{children:"ms"})]}),ge.jsxs(Gl,{children:[ge.jsx(Twe,{}),ge.jsx(nEe,{showGraph:n,colorBlind:e})]}),!i&&r&&ge.jsxs(Gl,{children:[ge.jsx(Hwe,{}),ge.jsx(Vc,{children:r.info.render.calls===1?"call":"calls"})]}),!i&&r&&ge.jsxs(Gl,{children:[ge.jsx($z,{}),ge.jsx(Vc,{children:"Triangles"})]}),t&&ge.jsxs(Gl,{children:[ge.jsx(hwe,{}),ge.jsx(Vc,{style:n?{color:`rgb(${Hl(e).custom})`}:{},children:t.name}),t.info&&ge.jsx(tM,{children:t.info})]})]}):null},rEe=({showGraph:n,colorBlind:e,deepAnalyze:t,customData:i,matrixUpdate:r,openByDefault:s,minimal:a})=>ge.jsxs(ge.Fragment,{children:[ge.jsx(iEe,{showGraph:n,colorBlind:e,customData:i,minimal:a}),!a&&ge.jsx(aEe,{matrixUpdate:r,openByDefault:s,deepAnalyze:t,showGraph:n})]}),sEe=({matrixUpdate:n})=>ge.jsxs("div",{children:[ge.jsxs(Gl,{children:[ge.jsx(Pwe,{}),ge.jsx(Vc,{children:"Geometries"})]}),ge.jsxs(Gl,{children:[ge.jsx(DR,{}),ge.jsx(Vc,{children:"Textures"})]}),ge.jsxs(Gl,{children:[ge.jsx(zz,{}),ge.jsx(Vc,{children:"shaders"})]}),ge.jsxs(Gl,{children:[ge.jsx(Dwe,{}),ge.jsx(Vc,{children:"Lines"})]}),ge.jsxs(Gl,{children:[ge.jsx(vwe,{}),ge.jsx(Vc,{children:"Points"})]}),n&&ge.jsxs(Gl,{children:[ge.jsx(_we,{}),ge.jsx(Vc,{children:"Matrices"})]})]}),NF=({tab:n,title:e,set:t})=>{const i=oh(r=>r.tab);return ge.jsx(FO,{className:`${i===n?" __perf_toggle_tab_active":""}`,onClick:()=>{t(!0),mu({tab:n})},children:ge.jsx("span",{children:e})})},aEe=({openByDefault:n,showGraph:e,deepAnalyze:t,matrixUpdate:i})=>{const[r,s]=Je.useState(n);return ge.jsxs("span",{children:[ge.jsx(oEe,{show:r,showGraph:e,matrixUpdate:i}),n&&!t?null:ge.jsxs(owe,{className:"__perf_toggle",children:[t&&ge.jsx(NF,{tab:"programs",title:"Programs",set:s}),t&&ge.jsx(NF,{tab:"infos",title:"Infos",set:s}),ge.jsx(FO,{onClick:()=>{s(!r)},children:r?ge.jsxs("span",{children:[ge.jsx(Gz,{})," Minimize"]}):ge.jsxs("span",{children:[ge.jsx(Hz,{})," More"]})})]})]})},oEe=({show:n,showGraph:e,matrixUpdate:t})=>{const i=oh(r=>r.tab);return ge.jsxs(ge.Fragment,{children:[ge.jsx(sEe,{matrixUpdate:t}),n&&ge.jsx("div",{children:ge.jsx(swe,{style:{marginTop:e?"38px":0},children:i==="programs"&&ge.jsx(tEe,{})})})]})},Vz=({showGraph:n=!0,colorBlind:e=!1,openByDefault:t=!0,className:i,overClock:r=!1,style:s,position:a="top-right",chart:o,logsPerSecond:l,deepAnalyze:c=!1,antialias:f=!0,customData:h,matrixUpdate:v,minimal:m})=>{const _=H.useRef(null);return ge.jsxs(ge.Fragment,{children:[ge.jsx(KSe,{logsPerSecond:l,chart:o,overClock:r,deepAnalyze:c,matrixUpdate:v}),ge.jsx(Kwe,{name:"r3f-perf",children:ge.jsxs(ZSe,{className:(i?" ".concat(i):" ")+` ${a||""} ${m?"minimal":""}`,style:{minHeight:m?"37px":n?"100px":"60px",...s},ref:_,children:[ge.jsx(qwe,{perfContainerRef:_,colorBlind:e,chart:o,showGraph:n,antialias:f,customData:h,minimal:m,matrixUpdate:v}),ge.jsx(rEe,{colorBlind:e,showGraph:n,deepAnalyze:c,openByDefault:t,customData:h,matrixUpdate:v,minimal:m})]})})]})},pc={ambientLight:{intensity:.1,color:"#ffffff"},directionalLight:{position:[.75,1,1],lookAt:[0,0,0],intensity:3.5,color:"#ffffff"},printables:{float:{speed:2.5,rotationIntensity:1,floatIntensity:1,floatingRange:[-.1,.1]},scale:[1,1,1],position:[0,0,0],rotation:[0,0,0],color:"#eb6f40"}},FF=function({config:n}){return ge.jsx(Lne,{speed:n.float.speed,rotationIntensity:n.float.rotationIntensity,floatIntensity:n.float.floatIntensity,floatingRange:n.float.floatingRange,children:ge.jsxs("group",{scale:n.scale,position:n.position,rotation:n.rotation,children:[ge.jsxs("mesh",{children:[ge.jsx("boxGeometry",{}),ge.jsx("meshStandardMaterial",{color:n.color})]}),ge.jsxs("mesh",{position:[0,-1,-.5],children:[ge.jsx("planeGeometry",{}),ge.jsx("meshStandardMaterial",{color:n.color})]})]})})};function lEe(){const n=H.useRef(),e=H.useRef();let t=ey("3d experience debug",{show_3Ddebug:{value:!0,label:"show 3Ddebug"},show_pivotcontrols:{value:!0,label:"show pivot controls"}});t==null&&(t={},t.show_3Ddebug=!1,t.show_pivotcontrols=!1);let i=ey("3d experience",{ambientLight:xn({ambientLight_intensity:{value:pc.ambientLight.intensity,min:0,max:10,step:.1,label:"intensity"},ambientLight_color:{value:pc.ambientLight.color,label:"color"}},{collapsed:!0}),directionalLight:xn({directionalLight_position:{value:pc.directionalLight.position,min:-10,max:10,step:.1,label:"position"},directionalLight_lookAt:{value:pc.directionalLight.lookAt,min:-10,max:10,step:.1,label:"lookAt"},directionalLight_intensity:{value:pc.directionalLight.intensity,min:0,max:10,step:.1,label:"intensity"},directionalLight_color:{value:pc.directionalLight.color,label:"color"}},{collapsed:!0}),printables:xn({printables_float:xn({printables_float_speed:{value:pc.printables.float.speed,min:0,max:10,step:.1,label:"speed"},printables_float_rotationIntensity:{value:pc.printables.float.rotationIntensity,min:0,max:10,step:.1,label:"rotationIntensity"},printables_float_floatIntensity:{value:pc.printables.float.floatIntensity,min:0,max:10,step:.1,label:"floatIntensity"},printables_float_floatingRange:{value:pc.printables.float.floatingRange,min:-10,max:10,step:.1,label:"floatingRange"}},{collapsed:!0}),printables_scale:{value:pc.printables.scale,min:0,max:10,step:.1,label:"scale"},printables_position:{value:pc.printables.position,min:-10,max:10,step:.1,label:"position"},printables_rotation:{value:pc.printables.rotation,min:0,max:2*Math.PI,step:.1,label:"rotation"},printables_color:{value:pc.printables.color,label:"color"}},{collapsed:!0})});return i==null||JSON.stringify(i)==="{}"?i={...pc}:(i.ambientLight={},i.ambientLight.intensity=i.ambientLight_intensity,delete i.ambientLight_intensity,i.ambientLight.color=i.ambientLight_color,delete i.ambientLight_color,i.directionalLight={},i.directionalLight.position=i.directionalLight_position,delete i.directionalLight_position,i.directionalLight.lookAt=i.directionalLight_lookAt,delete i.directionalLight_lookAt,i.directionalLight.intensity=i.directionalLight_intensity,delete i.directionalLight_intensity,i.directionalLight.color=i.directionalLight_color,delete i.directionalLight_color,i.printables={},i.printables.float={},i.printables.float.speed=i.printables_float_speed,delete i.printables_float_speed,i.printables.float.rotationIntensity=i.printables_float_rotationIntensity,delete i.printables_float_rotationIntensity,i.printables.float.printables_floatIntensity=i.printables_float_floatIntensity,delete i.printables_float_floatIntensity,i.printables.float.printables_floatingRange=i.printables_float_floatingRange,delete i.printables_float_floatingRange,i.printables.scale=i.printables_scale,delete i.printables_scale,i.printables.position=i.printables_position,delete i.printables_position,i.printables.rotation=i.printables_rotation,delete i.printables_rotation,i.printables.color=i.printables_color,delete i.printables_color),X9(eh()&&t.show_3Ddebug&&n,LB,i.directionalLight.intensity/10,i.directionalLight.color),H.useEffect(function(){n.current&&e.current&&(n.current.target=e.current)},[i.directionalLight.lookAt]),ge.jsxs(ge.Fragment,{children:[eh()?ge.jsx(Vz,{position:"bottom-left",logsPerSecond:1,chart:{hz:1,length:80},antialias:!0,overClock:!0,showGraph:!0,matrixUpdate:!0}):null,eh()?ge.jsx($M,{makeDefault:!0}):null,eh()&&t.show_3Ddebug?ge.jsx(W9,{children:ge.jsx(j9,{})}):null,ge.jsx("ambientLight",{intensity:i.ambientLight.intensity,color:i.ambientLight.color}),eh()&&t.show_3Ddebug&&t.show_pivotcontrols?ge.jsxs(ge.Fragment,{children:[ge.jsxs(J_,{position:i.directionalLight.position,disableRotations:!0,disableScaling:!0,scale:.5,children:[ge.jsx("directionalLight",{ref:n,position:[0,0,0],intensity:i.directionalLight.intensity,color:i.directionalLight.color}),ge.jsxs("mesh",{scale:[.1,.1,.1],children:[ge.jsx("sphereGeometry",{args:[.1,16,16]}),ge.jsx("meshBasicMaterial",{color:"red"})]})]}),ge.jsx(J_,{position:i.directionalLight.lookAt,disableRotations:!0,disableScaling:!0,scale:.5,children:ge.jsxs("mesh",{ref:e,position:[0,0,0],scale:[.1,.1,.1],children:[ge.jsx("sphereGeometry",{args:[.1,16,16]}),ge.jsx("meshBasicMaterial",{color:"red"})]})})]}):ge.jsx("directionalLight",{ref:n,position:i.directionalLight.position,intensity:i.directionalLight.intensity,color:i.directionalLight.color}),eh()&&t.show_3Ddebug&&t.show_pivotcontrols?ge.jsx(J_,{children:ge.jsx(FF,{config:i.printables})}):ge.jsx(FF,{config:i.printables})]})}function cEe({printablesContainer:n}){return ge.jsx(ge.Fragment,{children:ge.jsx("div",{className:n,style:{width:"100%",height:"390px",position:"relative",minHeight:"390px"},children:ge.jsxs(H3,{gl:function(e){e.toneMapping=NE,e.toneMappingExposure=1,e.outputColorSpace=Wo},children:[ge.jsx($9,{makeDefault:!0,position:[-3,3,3],zoom:150,onUpdate:function(e){e.lookAt(0,0,0)}}),ge.jsx(lEe,{})]})})})}function uEe({leftImage:n,leftImageAlt:e,leftImageLabel:t,rightImage1:i,rightImage1Alt:r,rightImage1Label:s,rightImage2:a,rightImage2Alt:o,rightImage2Label:l,interval:c=5e3}){const[f,h]=H.useState(!0);return H.useEffect(function(){const v=setInterval(function(){h(function(m){return!m})},c);return function(){clearInterval(v)}},[c]),ge.jsx(IR,{leftImage:n,leftImageAlt:e,leftImageLabel:t,rightImage:f?i:a,rightImageAlt:f?r:o,rightImageLabel:f?s:l})}function hEe(){return ge.jsxs(ge.Fragment,{children:[ge.jsx(ol,{children:ge.jsx(jo,{md:12,children:ge.jsx("h1",{children:"Printables.com"})})}),ge.jsxs(ol,{children:[ge.jsxs(jo,{md:6,className:"blur",children:[ge.jsx("p",{children:"Printables.com is a platform that offers a huge variety of 3D models and a great relationship with the 3D printing community."}),ge.jsx("p",{children:"Printables.com is famous for its extensive database of 3D models. The variety and quality of the models available are impressive and being designed for 3D printing they are easy to print."}),ge.jsx("p",{children:"Printables.com's points system, called Prusameters, adds an element of incentive for users. Accumulating points through interacting with the platform, creating 3D models appreciated by the community or winning contests, leads to advantages such as spools of filament and even free printers. This system not only stimulates user interaction but also rewards their active involvement."}),ge.jsx("p",{children:"Printables.com regularly hosts contests that encourage creativity and innovation among its community of creators. These contests offer users the opportunity to test their skills, compete against other community members, and earn recognition and prizes. These events add an element of community, challenge and engagement to the platform."}),ge.jsx("p",{children:"One of Printables.com's strengths is its commitment to supporting creators. The new system implemented to support creators is a significant step forward in this process. Through this initiative, Printables.com users can offer support to creators who produce high-quality content for the platform. This not only benefits the creators themselves but also enriches the overall offering of templates and content available to users."}),ge.jsx("p",{children:"In summary, Printables.com stands out for its vast database of 3D models, engaging points system, inspiring contests and system to support creators. It is a valuable resource for 3D design professionals and enthusiasts, offering a dynamic, community-focused platform for access to high-quality content and creative expression."})]}),ge.jsx(jo,{md:6,children:ge.jsx(cEe,{printablesContainer:"canvasExperience"})})]}),ge.jsx(ol,{children:ge.jsxs(jo,{md:12,className:"blur",children:[ge.jsx("p",{children:"Here are some suggestions for improving some pages."}),ge.jsxs("section",{children:[ge.jsx("p",{children:"Collections and user profile:"}),ge.jsxs("ul",{children:[ge.jsx("li",{children:"Adding filters: using filters on the collections page to make it easier for users to quickly find models they're interested in when collections have many models, such as on the all models page on Printable.com."}),ge.jsx("li",{children:"Increased medals display: modify the user profile to allow up to six medals to be displayed instead of three, allowing users to showcase a wider range of their achievements."}),ge.jsx("li",{children:"Displaying the number of models and makes: next to the number of likes and downloads of the models, also include the total number of models uploaded and how many models have been printed (make)."})]}),ge.jsx("div",{className:"imagecompare collections",children:ge.jsx(IR,{leftImage:"/src/img/printables/collections.png",leftImageAlt:"collections and user original",leftImageLabel:"original",rightImage:"/src/img/printables/collections mod.png",rightImageAlt:"collections and user modified",rightImageLabel:"modified"})})]}),ge.jsxs("section",{children:[ge.jsx("p",{children:"About the user - medals section:"}),ge.jsx("ul",{children:ge.jsx("li",{children:"Redesign of the medals section: to allow users to download the medal for past levels and see who achieved each level, giving users additional motivation to achieve higher goals"})}),ge.jsx("div",{className:"imagecompare badges",children:ge.jsx(uEe,{leftImage:"/src/img/printables/badges.png",leftImageAlt:"badges original",leftImageLabel:"original",rightImage1:"/src/img/printables/badges mod.png",rightImage1Alt:"badges modified",rightImage1Label:"modified",rightImage2:"/src/img/printables/badges mod2.png",rightImage2Alt:"badges modified",rightImage2Label:"modified"})})]}),ge.jsxs("section",{children:[ge.jsx("p",{children:"Model:"}),ge.jsxs("ul",{children:[ge.jsx("li",{children:"Adding monthly likes and downloads progress for Prusameters: on the model page integrate the section showing the monthly progress of likes and downloads towards the PrusaMeters milestone, in order to provide users with detailed information on the performance of their model over time."}),ge.jsx("li",{children:"Redesign of the print statistics section: to allow viewing of multiple files and support different printers, giving users a more complete overview of model printing times on different printer configurations."})]}),ge.jsx("div",{className:"imagecompare model",children:ge.jsx(IR,{leftImage:"/src/img/printables/model.png",leftImageAlt:"model original",leftImageLabel:"original",rightImage:"/src/img/printables/model mod.png",rightImageAlt:"model modified",rightImageLabel:"modified"})})]}),ge.jsx("p",{children:"By implementing these proposals, the overall experience of users on the platform could be improved, making it easier for them to navigate, share and track their activities and successes."})]})})]})}function dEe(){return ge.jsxs(ge.Fragment,{children:[ge.jsx(ol,{children:ge.jsx(jo,{md:12,children:ge.jsx("h1",{children:"Decreasing the Reality Gap of a Vehicle Simulation Digital Sibling Using the Addition of a Road Slope Study"})})}),ge.jsx(ol,{children:ge.jsxs(jo,{md:12,className:"blur",children:[ge.jsx("h2",{children:"About this thesis"}),ge.jsx("p",{children:"This thesis focuses on reducing the reality gap in vehicle simulation platforms by integrating a comprehensive study of road slopes. Simulation platforms are critical tools for developing and testing driver-assistance systems (ADAS) and autonomous vehicles, offering a safe, cost-effective alternative to real-world tests. However, achieving high levels of realism, especially in road and vehicle dynamics, remains a significant challenge."}),ge.jsx("p",{children:"By incorporating detailed road slope data, this work aims to bridge the gap between simulated and real-world driving conditions. The enhanced realism enables more accurate testing of ADAS and autonomous driving technologies. This thesis delves into how custom soft-body physics engines and adaptable road models contribute to more reliable and immersive simulations, making it ideal for both academic and industry applications."})]})}),ge.jsx(ol,{children:ge.jsxs(jo,{md:12,className:"blur",children:[ge.jsx("h2",{children:"Introduction"}),ge.jsx("p",{children:"As the complexity of modern driver training systems, ADAS, and autonomous driving technologies continues to grow, the demand for hyper-realistic simulation platforms becomes more pronounced. These platforms are indispensable for safely testing complex driving scenarios without exposing vehicles or drivers to real-world risks. However, one of the significant hurdles is accurately modeling real-world conditions such as road geometry, traffic patterns, and environmental factors like slopes."}),ge.jsx("p",{children:"This research leverages platforms like BeamNG.tech and Hexagonâs Virtual Test Drive (VTD) to improve the accuracy of road simulations. A major innovation of this thesis is the integration of OpenStreetMap (OSM) road data with a specific focus on road slopes, a critical factor in vehicle dynamics. This addition allows for a more realistic replication of how vehicles interact with varying terrain, which is essential for ADAS testing and the development of autonomous agents."}),ge.jsx("p",{children:"By focusing on the customization of simulation inputs, this research enhances the ability of simulation platforms to more closely mirror real-world driving environments. The study compares the performance of standard road data imports against customized imports, ultimately demonstrating how improved realism can lead to better development and testing outcomes."})]})}),ge.jsx(ol,{children:ge.jsxs(jo,{md:12,className:"blur",children:[ge.jsx("h2",{children:"Resources"}),ge.jsx("p",{children:ge.jsx("a",{href:"https://drive.google.com/file/d/1siuiS3j4CdlGHEfWTbJEy1xZIaBR9Jmx/view?usp=sharing",target:"_blank",children:"thesis"})}),ge.jsx("p",{children:ge.jsx("a",{href:"https://drive.google.com/file/d/1mmctSXk7NwZpZN3yfJdmJLWTZgccr9b0/view?usp=sharing",target:"_blank",children:"presentation"})}),ge.jsx("p",{children:ge.jsx("a",{href:"https://github.com/gianlucafabris/BeamNGpy---Road-test",target:"_blank",children:"Github - BeamNGpy - Road test"})}),ge.jsx("p",{children:ge.jsx("a",{href:"https://github.com/gianlucafabris/Import-OSM-custom",target:"_blank",children:"Github - Import OSM custom"})}),ge.jsx("p",{children:ge.jsx("a",{href:"https://github.com/gianlucafabris/Import-OSM-custom---analysis-BeamNG-and-Hexagon",target:"_blank",children:"Github - Import OSM custom - analysis BeamNG and Hexagon"})})]})})]})}const Gf={ambientLight:{intensity:.1,color:"#ffffff"},pointLight:{intensity:1.74*1e18/(5*1e7),color:"#ffffff"},planets:[{name:"Sun",radius:696.34,rotation:[0,0,0],distance:0,elevation:0,elevationBias:0,textures:[{type:"color",url:"/src/img/solarsystem/00_Sun/color.png"},{type:"emissive",url:"/src/img/solarsystem/00_Sun/emissive.png"}],satellites:[]},{name:"Mercury",radius:2.44,rotation:[0,0,0],distance:58e3,elevation:9.86,elevationBias:-5.38,textures:[{type:"color",url:"/src/img/solarsystem/01_Mercury/color.png"}],satellites:[]},{name:"Venus",radius:6.052,rotation:[0,0,0],distance:108200,elevation:13,elevationBias:0,textures:[{type:"color",url:"/src/img/solarsystem/02_Venus/color.png"},{type:"color_atmosphere",url:"/src/img/solarsystem/02_Venus/color_atmosphere.png"}],satellites:[]},{name:"Earth",radius:6.378,rotation:[0,0,0],distance:149600,elevation:19.783,elevationBias:-10.935,textures:[{type:"ao",url:"/src/img/solarsystem/03_Earth/ao.png"},{type:"color",url:"/src/img/solarsystem/03_Earth/color.png"},{type:"color_night",url:"/src/img/solarsystem/03_Earth/color_night.png"},{type:"displacement",url:"/src/img/solarsystem/03_Earth/displacement.png"},{type:"normal",url:"/src/img/solarsystem/03_Earth/normal.png"},{type:"specular",url:"/src/img/solarsystem/03_Earth/specular.png"},{type:"color_atmosphere",url:"/src/img/solarsystem/03_Earth/color_atmosphere.png"}],satellites:[{name:"Moon",radius:.3844,rotation:[0,0,0],distance:384.4,elevation:19.807,elevationBias:-9.178,textures:[{type:"ao",url:"/src/img/solarsystem/03_Earth/Moon/ao.png"},{type:"color",url:"/src/img/solarsystem/03_Earth/Moon/color.png"},{type:"displacement",url:"/src/img/solarsystem/03_Earth/Moon/displacement.png"},{type:"normal",url:"/src/img/solarsystem/03_Earth/Moon/normal.png"},{type:"specular",url:"/src/img/solarsystem/03_Earth/Moon/specular.png"}]}]},{name:"Mars",radius:3.39,rotation:[0,0,0],distance:227900,elevation:29.429,elevationBias:-8.2,textures:[{type:"color",url:"/src/img/solarsystem/04_Mars/color.png"}],satellites:[]},{name:"Jupiter",radius:69.911,rotation:[0,0,0],distance:778500,elevation:0,elevationBias:0,ringsRange:[1,1],textures:[{type:"color",url:"/src/img/solarsystem/05_Jupiter/color.png"}],satellites:[]},{name:"Saturn",radius:58.232,rotation:[0,0,0],distance:1434e3,elevation:0,elevationBias:0,ringsRange:[1.1,2.3],textures:[{type:"color",url:"/src/img/solarsystem/06_Saturn/color.png"},{type:"color_rings",url:"/src/img/solarsystem/06_Saturn/color_rings.png"}],satellites:[]},{name:"Uranus",radius:25.362,rotation:[0,0,0],distance:2871e3,elevation:0,elevationBias:0,ringsRange:[1,1],textures:[{type:"color",url:"/src/img/solarsystem/07_Uranus/color.png"}],satellites:[]},{name:"Neptune",radius:24.622,rotation:[0,0,0],distance:4495e3,elevation:0,elevationBias:0,ringsRange:[1,1],textures:[{type:"color",url:"/src/img/solarsystem/08_Neptune/color.png"}],satellites:[]}]},UF=function({planet:n,config_planet:e}){const t=H.useMemo(function(){const a={};return n.textures?.forEach(function(o,l){a[o.type]=e.textures[l]||o.url}),a},[n,e]),i=X3(Object.values(t)),r=H.useMemo(function(){const a={};return Object.keys(t).forEach(function(o,l){return a[o]=i[l]}),a},[t]);let s=D8(r.color_atmosphere?n.name:"",r.color_atmosphere?{color_atmosphere:{value:!0,label:"Show atmosphere"}}:{},{collapsed:!0},[n]);return s=r.color_atmosphere?s:{},ge.jsxs(ge.Fragment,{children:[ge.jsxs("mesh",{children:[ge.jsx("sphereGeometry",{args:[e.radius,512,256]}),ge.jsx("meshPhysicalMaterial",{map:r.color,bumpMap:r.displacement,bumpScale:r.displacement?e.elevationBias*e.elevationScale*150:0,displacementMap:r.displacement,displacementScale:r.displacement?e.elevation*e.elevationScale:0,displacementBias:r.displacement?e.elevationBias*e.elevationScale:0,aoMap:r.ao,aoMapIntensity:r.ao?10:0,roughnessMap:r.specular,emissiveMap:r.emissive,emissive:r.emissive?new Zn(16777215):new Zn(0),emissiveIntensity:r.emissive?.25:0})]}),r.color_atmosphere&&s.color_atmosphere?ge.jsxs("mesh",{children:[ge.jsx("sphereGeometry",{args:[e.radius+.1+(r.displacement?e.elevation*e.elevationScale*.6+e.elevationBias*e.elevationScale:0),64,32]}),ge.jsx("meshPhysicalMaterial",{map:r.color_atmosphere,transparent:!0})]}):null,r.color_rings?ge.jsxs("mesh",{children:[ge.jsx("latheGeometry",{args:[[new ln(e.radius*e.ringsRange[0],0),new ln(e.radius*e.ringsRange[1],0)],64]}),ge.jsx("meshPhysicalMaterial",{map:r.color_rings,side:El,transparent:!0})]}):null]})};function fEe({planetWithSatellites:n,mode:e}){const t=H.useRef(),i=e==="satellite"?n.selectedSatellite:n.selectedPlanet,r=e==="satellite"?.01:.1;let s=ey("3d experience debug",{show_3Ddebug:{value:!0,label:"show 3Ddebug"},show_pivotcontrols:{value:!0,label:"show pivot controls"}});s==null&&(s={},s.show_3Ddebug=!1,s.show_pivotcontrols=!1);let a=ey("3d experience",{ambientLight:xn({ambientLight_intensity:{value:Gf.ambientLight.intensity,min:0,max:10,step:.1,label:"intensity"},ambientLight_color:{value:Gf.ambientLight.color,label:"color"}},{collapsed:!0}),pointLight:xn({pointLight_intensity:{value:Gf.pointLight.intensity,min:0,max:1e13,step:1e3,label:"intensity"},pointLight_color:{value:Gf.pointLight.color,label:"color"}},{collapsed:!0}),planet:xn({planet_name:{value:i.name,label:"name"},planet_radius:{value:i.radius,min:0,max:1e3,step:.001,label:"radius"},planet_rotation:{value:i.rotation,min:0,max:Math.PI*2,step:.001,label:"rotation"},planet_distance:{value:i.distance,min:0,max:5e6,step:5e3,label:"distance"},planet_elevation:{value:i.elevation,min:0,max:50,step:.001,label:"elevation"},planet_elevationBias:{value:i.elevationBias,min:-50,max:50,step:.001,label:"elevationBias"},planet_textures:xn({...i.textures.reduce(function(l,c,f){return l[`planet_texture_${c.type}`]={value:c.url,label:c.type},l},{})},{collapsed:!0}),planet_elevationScale:{value:r,min:.001,max:1,step:.001,label:"elevationScale"},...i.textures.some(function(l){return l.type==="color_rings"})?{planet_ringsRange:{value:i.ringsRange,min:1,max:20,step:.1,label:"ringsRange"}}:{}},{collapsed:!0}),sun_position:{value:0,min:0,max:Math.PI*2,step:.001,label:"sun position"}});a==null||JSON.stringify(a)==="{}"?(a={...Gf},delete a.planets,a.planet={...i},a.planet.textures=i.textures.map(function(l,c){return l.url}),delete a.planet.satellites,a.planet.elevationScale=r,a.sun_position=0):(a.ambientLight={},a.ambientLight.intensity=a.ambientLight_intensity,delete a.ambientLight_intensity,a.ambientLight.color=a.ambientLight_color,delete a.ambientLight_color,a.pointLight={},a.pointLight.intensity=a.pointLight_intensity,delete a.pointLight_intensity,a.pointLight.color=a.pointLight_color,delete a.pointLight_color,a.planet={},a.planet.name=a.planet_name,delete a.planet_name,a.planet.radius=a.planet_radius,delete a.planet_radius,a.planet.rotation=a.planet_rotation,delete a.planet_rotation,a.planet.distance=a.planet_distance,delete a.planet_distance,a.planet.elevation=a.planet_elevation,delete a.planet_elevation,a.planet.elevationBias=a.planet_elevationBias,delete a.planet_elevationBias,a.planet.textures=i.textures.map(function(l,c){return a[`planet_texture_${l.type}`]}),i.textures.map(function(l,c){delete a[`planet_texture_${l.type}`]}),a.planet.elevationScale=a.planet_elevationScale,delete a.planet_elevationScale,i.textures.some(function(l){return l.type==="color_rings"})&&(a.planet.ringsRange=a.planet_ringsRange,delete a.planet_ringsRange)),X9(eh()&&s.show_3Ddebug&&t,OB,a.pointLight.intensity/10,a.pointLight.color);const o=e==="satellite"?n.selectedPlanet.distance:a.planet.distance;return ge.jsxs(ge.Fragment,{children:[eh()?ge.jsx(Vz,{position:"bottom-left",logsPerSecond:1,chart:{hz:1,length:80},antialias:!0,overClock:!0,showGraph:!0,matrixUpdate:!0}):null,eh()&&s.show_3Ddebug?ge.jsx(W9,{children:ge.jsx(j9,{})}):null,ge.jsx("ambientLight",{intensity:i.name=="Sun"?3.5:a.ambientLight.intensity,color:a.ambientLight.color}),eh()&&s.show_3Ddebug&&s.show_pivotcontrols?ge.jsxs(J_,{disableRotations:!0,disableScaling:!0,scale:i.radius*.5,children:[ge.jsx("group",{position:[0,0,0],rotation:[0,a.sun_position,0],scale:[1,1,1],children:ge.jsx("pointLight",{ref:t,position:[o,0,0],rotation:[0,0,0],scale:[1,1,1],intensity:i.name=="Sun"?0:a.pointLight.intensity,color:a.pointLight.color})}),ge.jsxs("mesh",{position:[o,0,0],rotation:[0,0,0],scale:[.1,.1,.1],children:[ge.jsx("sphereGeometry",{args:[.1,16,16]}),ge.jsx("meshBasicMaterial",{color:"red",envMapIntensity:0})]})]}):ge.jsx("group",{position:[0,0,0],rotation:[0,a.sun_position,0],scale:[1,1,1],children:ge.jsx("pointLight",{ref:t,position:[o,0,0],rotation:[0,0,0],scale:[1,1,1],intensity:i.name=="Sun"?0:a.pointLight.intensity,color:a.pointLight.color})}),ge.jsx(Xne,{background:!0,files:["/src/img/solarsystem/background/px.png","/src/img/solarsystem/background/nx.png","/src/img/solarsystem/background/py.png","/src/img/solarsystem/background/ny.png","/src/img/solarsystem/background/pz.png","/src/img/solarsystem/background/nz.png"]}),eh()&&s.show_3Ddebug&&s.show_pivotcontrols?ge.jsx(J_,{rotation:a.planet.rotation,scale:i.radius*.5,children:ge.jsx(UF,{planet:i,config_planet:a.planet})}):ge.jsx(UF,{planet:i,config_planet:a.planet}),eh()?ge.jsx($M,{makeDefault:!0}):ge.jsx($M,{makeDefault:!0,enablePan:!1,enableZoom:!1})]})}function pEe({solarSystemContainer:n,planet:e}){return ge.jsx(ge.Fragment,{children:ge.jsx("div",{className:n,style:{width:"100%",height:"calc(100vh - 2*(80px + 10px + 20px) - (48px + 20px))"},children:ge.jsxs(H3,{gl:function(t){t.toneMapping=NE,t.toneMappingExposure=1,t.outputColorSpace=Wo},children:[ge.jsx(Cne,{makeDefault:!0,position:[e.selectedSatellite?.radius*10||e.selectedPlanet.radius*10,0,0],fov:30,near:e.selectedSatellite?.radius/2||e.selectedPlanet.radius/2,far:e.selectedSatellite?.radius*1e3||e.selectedPlanet.radius*1e3,onUpdate:function(t){t.lookAt(0,0,0)}}),ge.jsx(fEe,{planetWithSatellites:e,mode:e.selectedSatellite?"satellite":"planet"})]})})})}function mEe({solarSystemContainer:n="solarsystem"}){const e=Wd(),t=H.useMemo(function(){const i=new URLSearchParams(e.search),r=i.get("planet"),s=i.get("satellite");if(!r)return{selectedPlanet:Gf.planets[3],selectedSatellite:null};let a=Gf.planets.find(function(l){return l.name.toLowerCase()===r.toLowerCase()});a==null&&(a=Gf.planets[3]);let o=null;return s&&a.satellites&&(o=a.satellites.find(function(l){return l.name.toLowerCase()===s.toLowerCase()})),{selectedPlanet:a,selectedSatellite:o}},[e.search]);return ge.jsxs(ge.Fragment,{children:[ge.jsx(ol,{children:ge.jsx(jo,{md:12,className:"blur flex",children:Gf.planets.map(function(i,r){return ge.jsx("div",{children:i.satellites?.length>0?ge.jsxs("details",{children:[ge.jsx("summary",{children:ge.jsx("a",{href:`/#/solarsystem?planet=${i.name.toLowerCase()}`,children:i.name})}),ge.jsx("ul",{children:i.satellites.map(function(s){return ge.jsx("li",{children:ge.jsx("a",{href:`/#/solarsystem?planet=${i.name.toLowerCase()}&satellite=${s.name.toLowerCase()}`,children:s.name})},s.name)})})]}):ge.jsx("a",{href:`/#/solarsystem?planet=${i.name.toLowerCase()}`,children:i.name})},i.name)})})}),ge.jsx(ol,{children:ge.jsx(jo,{md:12,children:ge.jsx(pEe,{solarSystemContainer:n,planet:t})})})]})}function gEe(){return ge.jsxs(ge.Fragment,{children:[ge.jsx(ol,{children:ge.jsx(jo,{md:12,children:ge.jsx("h1",{children:"Credits"})})}),ge.jsx(ol,{children:ge.jsxs(jo,{md:12,className:"blur",children:[ge.jsx("h2",{children:ge.jsx("a",{href:"/#/solarsystem",children:"Solar System"})}),ge.jsx("p",{children:ge.jsxs("ul",{children:[ge.jsx("li",{children:ge.jsx("a",{href:"https://sbcode.net/topoearth/",target:"_blank",children:"sbcode"})}),ge.jsx("li",{children:ge.jsx("a",{href:"https://www.shadedrelief.com/natural3/index.html",target:"_blank",children:"shadedrelief"})}),ge.jsx("li",{children:ge.jsx("a",{href:"https://www.solarsystemscope.com/",target:"_blank",children:"solarsystemscope"})})]})}),ge.jsx("h2",{children:ge.jsx("a",{href:"/#/citiesguesser",children:"Cities"})}),ge.jsx("p",{children:ge.jsxs("ul",{children:[ge.jsx("li",{children:ge.jsx("a",{href:"https://www.openstreetmap.org/",target:"_blank",children:"OpenStreetMap"})}),ge.jsx("li",{children:ge.jsx("a",{href:"https://www.opentopodata.org/",target:"_blank",children:"Open Topo Data"})})]})})]})})]})}function vEe(){return ge.jsx(ge.Fragment,{children:ge.jsx(ol,{children:ge.jsx(jo,{md:12,className:"blur",children:ge.jsxs("p",{children:["Oops! The page you are looking for does not exist. ",ge.jsx("a",{href:"/#/home",children:"Go back to Home"})]})})})})}const yEe={autoplay:!0,background:{color:{value:["#000000"]},image:"",opacity:1,position:"",repeat:"",size:""},backgroundMask:{composite:"destination-out",cover:{color:{value:["#000000"]},opacity:1},enable:!1},delay:{min:0,max:0},detectRetina:!0,duration:{min:0,max:0},fpsLimit:60,fullScreen:{enable:!1,zIndex:0},interactivity:{detectsOn:"window",events:{onClick:{enable:!0,mode:["repulse"]},onDiv:{enable:!1,mode:["bubble"],selectors:["#particles-js"],type:"rectangle"},onHover:{enable:!0,mode:["connect","grab"],parallax:{enable:!1,force:0,smooth:0}},resize:{delay:0,enable:!0}},modes:{attract:{distance:100,duration:.5,easing:"ease-out-quad",factor:1,maxSpeed:50,speed:5},bounce:{distance:100},bubble:{distance:100,duration:.5,mix:!1,opacity:1,color:{value:["#ffffff"]},size:4,divs:{distance:100,duration:.5,mix:!1,selectors:[""]}},connect:{distance:100,links:{opacity:.11},radius:100},grab:{distance:100,links:{blink:!1,consent:!1,opacity:.39}},light:{area:{gradient:{start:{value:["#ffffff"]},stop:{value:["#000000"]}},radius:100},shadow:{color:{value:["#000000"]},length:2e3}},push:{default:!0,groups:[""],quantity:4},remove:{quantity:2},repulse:{distance:120,duration:.5,factor:1,speed:5,maxSpeed:50,easing:"ease-out-quad",divs:{distance:100,duration:.5,factor:1,speed:5,maxSpeed:50,easing:"ease-out-quad",selectors:[""]}},pause:{},slow:{factor:1,radius:100},trail:{delay:0,pauseOnStop:!1,quantity:4}}},manualParticles:[{options:{},position:{x:0,y:0}}],particles:{bounce:{horizontal:{value:{min:0,max:0}},vertical:{value:{min:0,max:0}}},collisions:{absorb:{speed:0},bounce:{},enable:!1,mode:"bounce",overlap:{enable:!1,retries:0}},color:{value:["#ffffff"]},groups:{},interactivity:{},links:{blink:!1,color:{value:["#ffffff"]},consent:!1,distance:100,enable:!0,frequency:1,opacity:.39,shadow:{blur:5,color:{value:["#000000"]},enable:!1},triangles:{enable:!1,frequency:1,opacity:.11},width:1,warp:!1},move:{angle:{offset:{min:0,max:0},value:{min:0,max:0}},attract:{distance:{min:100,max:100},enable:!0,rotate:{x:600,y:1200}},center:{mode:"precise",radius:1},decay:{min:0,max:0},direction:"none",distance:{horizontal:1e4,vertical:1e4},drift:{min:0,max:0},enable:!0,gravity:{acceleration:{min:0,max:0},enable:!1,inverse:!1,maxSpeed:{min:0,max:0}},outModes:{bottom:"out",default:"out",left:"out",right:"out",top:"out"},path:{clamp:!1,delay:{value:{min:0,max:0}},enable:!1,generator:"",options:""},random:!0,size:1,speed:{min:1,max:.1},spin:{acceleration:{min:0,max:0},enable:!1,position:{x:50,y:50}},straight:!1,trail:{enable:!1,fill:{color:{value:["#ffffff"]},image:""},length:0},vibrate:!1,warp:!1},number:{density:{enable:!0,height:1440,width:2560},limit:2e3,value:500},opacity:{value:1,random:!0,animation:{destroy:"none",startValue:"random"}},reduceDuplicates:!0,shadow:{blur:0,color:{value:["#000000"]},enable:!1,offset:{x:0,y:0}},shape:{options:[{close:!1,fill:!1,particles:{},font:"",style:"",value:[""],weight:"",height:0,replaceColor:!1,src:"",width:0,inset:1,sides:1}],type:["circle"]},size:{value:{min:.1,max:2},animation:{destroy:"none",startValue:"random"}},stroke:[{color:{value:["#000000"]},opacity:{min:0,max:0},width:{min:0,max:0}}],zIndex:{value:0,opacityRate:1,sizeRate:1,velocityRate:1}},pauseOnBlur:!1,pauseOnOutSideViewport:!1,preset:[""],responsive:[{maxWidth:3840,mode:"screen",options:{}}],smooth:!0,style:"",themes:[{default:{auto:!0,mode:"any",value:!1},name:"",options:{}}],zLayers:1},_Ee={autoplay:!0,background:{color:{value:["#000000"]},image:"",opacity:1,position:"",repeat:"",size:""},backgroundMask:{composite:"destination-out",cover:{color:{value:["#000000"]},opacity:1},enable:!1},delay:{min:0,max:0},detectRetina:!0,duration:{min:0,max:0},fpsLimit:60,fullScreen:{enable:!1,zIndex:0},interactivity:{detectsOn:"window",events:{onClick:{enable:!1,mode:["repulse"]},onDiv:{enable:!1,mode:["bubble"],selectors:["#particles-js"],type:"rectangle"},onHover:{enable:!0,mode:["connect","grab"],parallax:{enable:!1,force:0,smooth:0}},resize:{delay:0,enable:!0}},modes:{attract:{distance:100,duration:.5,easing:"ease-out-quad",factor:1,maxSpeed:50,speed:5},bounce:{distance:100},bubble:{distance:100,duration:.5,mix:!1,opacity:1,color:{value:["#ffffff"]},size:4,divs:{distance:100,duration:.5,mix:!1,selectors:[""]}},connect:{distance:100,links:{opacity:.11},radius:100},grab:{distance:100,links:{blink:!1,consent:!1,opacity:.39}},light:{area:{gradient:{start:{value:["#ffffff"]},stop:{value:["#000000"]}},radius:100},shadow:{color:{value:["#000000"]},length:2e3}},push:{default:!0,groups:[""],quantity:4},remove:{quantity:2},repulse:{distance:120,duration:.5,factor:1,speed:5,maxSpeed:50,easing:"ease-out-quad",divs:{distance:100,duration:.5,factor:1,speed:5,maxSpeed:50,easing:"ease-out-quad",selectors:[""]}},pause:{},slow:{factor:1,radius:100},trail:{delay:0,pauseOnStop:!1,quantity:4}}},manualParticles:[{options:{},position:{x:0,y:0}}],particles:{bounce:{horizontal:{value:{min:0,max:0}},vertical:{value:{min:0,max:0}}},collisions:{absorb:{speed:0},bounce:{},enable:!1,mode:"bounce",overlap:{enable:!1,retries:0}},color:{value:["#ffffff"]},groups:{},interactivity:{},links:{blink:!1,color:{value:["#ffffff"]},consent:!1,distance:150,enable:!0,frequency:1,opacity:.39,shadow:{blur:5,color:{value:["#000000"]},enable:!1},triangles:{enable:!1,frequency:1,opacity:.11},width:1,warp:!1},move:{angle:{offset:{min:0,max:0},value:{min:0,max:0}},attract:{distance:{min:100,max:100},enable:!0,rotate:{x:600,y:1200}},center:{mode:"precise",radius:1},decay:{min:0,max:0},direction:"none",distance:{horizontal:1e4,vertical:1e4},drift:{min:0,max:0},enable:!0,gravity:{acceleration:{min:0,max:0},enable:!1,inverse:!1,maxSpeed:{min:0,max:0}},outModes:{bottom:"bounce",default:"bounce",left:"bounce",right:"bounce",top:"bounce"},path:{clamp:!1,delay:{value:{min:0,max:0}},enable:!1,generator:"",options:""},random:!0,size:1,speed:{min:1,max:.1},spin:{acceleration:{min:0,max:0},enable:!1,position:{x:50,y:50}},straight:!1,trail:{enable:!1,fill:{color:{value:["#ffffff"]},image:""},length:0},vibrate:!1,warp:!1},number:{density:{enable:!1,height:1440,width:2560},limit:2e3,value:120},opacity:{value:1,random:!0,animation:{destroy:"none",startValue:"random"}},reduceDuplicates:!0,shadow:{blur:0,color:{value:["#000000"]},enable:!1,offset:{x:0,y:0}},shape:{options:[{close:!1,fill:!1,particles:{},font:"",style:"",value:[""],weight:"",height:0,replaceColor:!1,src:"",width:0,inset:1,sides:1}],type:["circle"]},size:{value:{min:.1,max:2},animation:{destroy:"none",startValue:"random"}},stroke:[{color:{value:["#000000"]},opacity:{min:0,max:0},width:{min:0,max:0}}],zIndex:{value:0,opacityRate:1,sizeRate:1,velocityRate:1}},pauseOnBlur:!1,pauseOnOutSideViewport:!1,preset:[""],responsive:[{maxWidth:3840,mode:"screen",options:{}}],smooth:!0,style:"",themes:[{default:{auto:!0,mode:"any",value:!1},name:"",options:{}}],zLayers:1,polygon:{draw:{enable:!1,stroke:{color:{value:"#ffffff"},width:0,opacity:.2}},enable:!0,inline:{arrangement:"equidistant"},move:{radius:15,type:"path"},scale:1,type:"inline",url:"/src/img/404.svg",position:{x:5,y:0}}},bEe=[{name:"home",title:"home",description:"WIP"},{name:"printables",title:"printables",description:"a review and some possible improvements to Printable.com"},{name:"thesis",title:"thesis",description:"Decreasing the Reality Gap of a Vehicle Simulation Digital Sibling Using the Addition of a Road Slope Study thesis and links"},{name:"solarsystem",title:"solar system",description:"a representation of the solar system with planets and their orbits"},{name:"credits",title:"credits",description:"credits page with links to resources used in the website"}],xEe=[{name:"printables",label:"Printables"}],T_={home:["/","/home","/home.html","/index","/index.html"],printables:["/printables","/printables.html"],thesis:["/thesis","/thesis.html"],solarsystem:["/solarsystem","/solarsystem.html"],credits:["/credits","/credits.html"]};function SEe(){const e=Wd().pathname,t=bEe.find(function(i){return i.name===e.replace(/^\/+|\/+$/g,"").replace(/\.html$/,"").toLowerCase()||(e.replace(/^\/+|\/+$/g,"").replace(/\.html$/,"").toLowerCase()===""||e.replace(/^\/+|\/+$/g,"").replace(/\.html$/,"").toLowerCase()==="index")&&i.name==="home"})||{name:"404",title:"404",description:"404 Not Found"};return ge.jsxs(ge.Fragment,{children:[ge.jsxs(hM,{children:[ge.jsxs("title",{children:["Gianluca Fabris - ",t.title]}),ge.jsx("meta",{name:"description",content:`Gianluca Fabris website - ${t.title} page, ${t.description}`}),ge.jsx("meta",{property:"og:title",content:`Gianluca Fabris - ${t.title}`}),ge.jsx("meta",{property:"og:description",content:`Gianluca Fabris website - ${t.title} page, ${t.description}`}),ge.jsx("meta",{property:"og:type",content:"website"}),ge.jsx("meta",{property:"og:url",content:`https://gianlucafabris.github.io/${t.name}.html`}),ge.jsx("meta",{property:"og:image",content:"https://gianlucafabris.github.io/src/img/background.png"}),ge.jsx("meta",{name:"twitter:card",content:"summary_large_image"}),ge.jsx("meta",{name:"twitter:title",content:`Gianluca Fabris - ${t.title}`}),ge.jsx("meta",{name:"twitter:description",content:`Gianluca Fabris website - ${t.title} page, ${t.description}`}),ge.jsx("meta",{name:"twitter:image",content:"https://gianlucafabris.github.io/src/img/background.png"})]}),ge.jsx(Aue,{}),ge.jsx(ySe,{particlesContainer:t.name==="404"?"particles-js_404":"particles-js",BackgroundConfig:t.name==="404"?_Ee:yEe}),ge.jsxs(kR,{children:[ge.jsx("header",{children:ge.jsx(ol,{children:ge.jsx(jo,{md:12,className:"blur",children:ge.jsxs(ET,{bg:"dark","data-bs-theme":"dark",sticky:"top",children:[e=="/"||e=="/home"||e=="/index"?ge.jsx(ET.Brand,{as:FS,to:"/home",className:"active",children:"gianlucafabris2001.github.io"}):ge.jsx(ET.Brand,{as:FS,to:"/home",children:"gianlucafabris2001.github.io"}),ge.jsx(VL,{activeKey:e,className:"me-auto",children:xEe.map(function(i){return ge.jsx(VL.Link,{as:FS,to:`/${i.name}`,children:i.label},i.name)})})]})})})}),ge.jsx("main",{children:ge.jsxs(w$,{children:[ge.jsx(Qp,{index:!0,element:ge.jsx(_F,{typedContainer:"typed"})}),T_.home.map(function(i){return ge.jsx(Qp,{path:i,element:ge.jsx(_F,{typedContainer:"typed"})},i)}),T_.printables.map(function(i){return ge.jsx(Qp,{path:i,element:ge.jsx(hEe,{})},i)}),T_.thesis.map(function(i){return ge.jsx(Qp,{path:i,element:ge.jsx(dEe,{})},i)}),T_.solarsystem.map(function(i){return ge.jsx(Qp,{path:i,element:ge.jsx(mEe,{solarSystemContainer:"solarsystem"})},i)}),T_.credits.map(function(i){return ge.jsx(Qp,{path:i,element:ge.jsx(gEe,{})},i)}),ge.jsx(Qp,{path:"*",element:ge.jsx(vEe,{})})]})}),ge.jsx("footer",{children:ge.jsx(ol,{children:ge.jsx(jo,{md:12,className:"blur",children:ge.jsxs("div",{className:"footer flex",children:[ge.jsxs("div",{children:["Copyright Â© 2024 Gianluca Fabris | Powered by Github & ",ge.jsx("a",{href:"/#/home",children:"Gianluca Fabris"})]}),ge.jsx("div",{children:ge.jsx("a",{href:"/#/credits",children:"Credits"})}),ge.jsxs("div",{className:"social",children:[ge.jsx("a",{href:"/#/home","aria-label":"website",children:ge.jsx("i",{className:"bi bi-globe2"})}),ge.jsx("a",{href:"https://www.linkedin.com/in/gianluca-fabris-2001/",target:"_blank","aria-label":"linkedin",children:ge.jsx("i",{className:"bi bi-linkedin"})}),ge.jsx("a",{href:"https://github.com/gianlucafabris",target:"_blank","aria-label":"github",children:ge.jsx("i",{className:"bi bi-github"})}),ge.jsx("a",{href:"https://www.printables.com/@gianlucafabris2001",target:"_blank","aria-label":"printables",children:ge.jsx("svg",{version:"1.0",xmlns:"http://www.w3.org/2000/svg",width:"19px",height:"19px",viewBox:"0 0 41.000000 41.000000",preserveAspectRatio:"xMidYMid meet",children:ge.jsxs("g",{transform:"translate(0.000000,41.000000) scale(0.100000,-0.100000)",fill:"var(--primary_color)",stroke:"none",children:[ge.jsx("path",{d:"M136 365 l-59 -33 29 -17 c16 -10 41 -26 56 -36 15 -11 32 -19 38 -19 6 0 10 -31 10 -80 0 -90 -3 -89 82 -35 l47 30 1 76 0 76 -54 26 c-30 15 -58 32 -61 37 -9 15 -24 11 -89 -25z"}),ge.jsx("path",{d:"M70 84 c0 -64 0 -65 23 -52 59 35 87 53 87 59 0 3 -17 14 -37 24 -78 39 -73 41 -73 -31z"})]})})})]})]})})})})]}),ge.jsx("link",{href:"/src/style.css",rel:"stylesheet"})]})}const wEe=PH.createRoot(F7.$("#root")[0]);wEe.render(ge.jsx(j$,{children:ge.jsx(SEe,{})}));
//# sourceMappingURL=index-1kpON4v0.js.map
