function Gk(n,e){for(var t=0;t<e.length;t++){const i=e[t];if(typeof i!="string"&&!Array.isArray(i)){for(const r in i)if(r!=="default"&&!(r in n)){const s=Object.getOwnPropertyDescriptor(i,r);s&&Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:()=>i[r]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function t(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(r){if(r.ep)return;r.ep=!0;const s=t(r);fetch(r.href,s)}})();function Ru(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var jE={exports:{}},o0={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var g3;function jk(){if(g3)return o0;g3=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(i,r,s){var a=null;if(s!==void 0&&(a=""+s),r.key!==void 0&&(a=""+r.key),"key"in r){s={};for(var o in r)o!=="key"&&(s[o]=r[o])}else s=r;return r=s.ref,{$$typeof:n,type:i,key:a,ref:r!==void 0?r:null,props:s}}return o0.Fragment=e,o0.jsx=t,o0.jsxs=t,o0}var v3;function $k(){return v3||(v3=1,jE.exports=jk()),jE.exports}var ue=$k(),wx={exports:{}};/*!
  * Bootstrap v5.3.8 (https://getbootstrap.com/)
  * Copyright 2011-2025 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */var qk=wx.exports,y3;function Wk(){return y3||(y3=1,(function(n,e){(function(t,i){n.exports=i()})(qk,function(){const t=new Map,i={set(Q,O,j){t.has(Q)||t.set(Q,new Map);const le=t.get(Q);le.has(O)||le.size===0?le.set(O,j):console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(le.keys())[0]}.`)},get:(Q,O)=>t.has(Q)&&t.get(Q).get(O)||null,remove(Q,O){if(!t.has(Q))return;const j=t.get(Q);j.delete(O),j.size===0&&t.delete(Q)}},r="transitionend",s=Q=>(Q&&window.CSS&&window.CSS.escape&&(Q=Q.replace(/#([^\s"#']+)/g,(O,j)=>`#${CSS.escape(j)}`)),Q),a=Q=>Q==null?`${Q}`:Object.prototype.toString.call(Q).match(/\s([a-z]+)/i)[1].toLowerCase(),o=Q=>{Q.dispatchEvent(new Event(r))},l=Q=>!(!Q||typeof Q!="object")&&(Q.jquery!==void 0&&(Q=Q[0]),Q.nodeType!==void 0),u=Q=>l(Q)?Q.jquery?Q[0]:Q:typeof Q=="string"&&Q.length>0?document.querySelector(s(Q)):null,d=Q=>{if(!l(Q)||Q.getClientRects().length===0)return!1;const O=getComputedStyle(Q).getPropertyValue("visibility")==="visible",j=Q.closest("details:not([open])");if(!j)return O;if(j!==Q){const le=Q.closest("summary");if(le&&le.parentNode!==j||le===null)return!1}return O},m=Q=>!Q||Q.nodeType!==Node.ELEMENT_NODE||!!Q.classList.contains("disabled")||(Q.disabled!==void 0?Q.disabled:Q.hasAttribute("disabled")&&Q.getAttribute("disabled")!=="false"),v=Q=>{if(!document.documentElement.attachShadow)return null;if(typeof Q.getRootNode=="function"){const O=Q.getRootNode();return O instanceof ShadowRoot?O:null}return Q instanceof ShadowRoot?Q:Q.parentNode?v(Q.parentNode):null},y=()=>{},x=Q=>{Q.offsetHeight},T=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,E=[],w=()=>document.documentElement.dir==="rtl",P=Q=>{var O;O=()=>{const j=T();if(j){const le=Q.NAME,ke=j.fn[le];j.fn[le]=Q.jQueryInterface,j.fn[le].Constructor=Q,j.fn[le].noConflict=()=>(j.fn[le]=ke,Q.jQueryInterface)}},document.readyState==="loading"?(E.length||document.addEventListener("DOMContentLoaded",()=>{for(const j of E)j()}),E.push(O)):O()},D=(Q,O=[],j=Q)=>typeof Q=="function"?Q.call(...O):j,N=(Q,O,j=!0)=>{if(!j)return void D(Q);const le=(ct=>{if(!ct)return 0;let{transitionDuration:It,transitionDelay:Zt}=window.getComputedStyle(ct);const _n=Number.parseFloat(It),En=Number.parseFloat(Zt);return _n||En?(It=It.split(",")[0],Zt=Zt.split(",")[0],1e3*(Number.parseFloat(It)+Number.parseFloat(Zt))):0})(O)+5;let ke=!1;const Pe=({target:ct})=>{ct===O&&(ke=!0,O.removeEventListener(r,Pe),D(Q))};O.addEventListener(r,Pe),setTimeout(()=>{ke||o(O)},le)},G=(Q,O,j,le)=>{const ke=Q.length;let Pe=Q.indexOf(O);return Pe===-1?!j&&le?Q[ke-1]:Q[0]:(Pe+=j?1:-1,le&&(Pe=(Pe+ke)%ke),Q[Math.max(0,Math.min(Pe,ke-1))])},k=/[^.]*(?=\..*)\.|.*/,M=/\..*/,$=/::\d+$/,V={};let H=1;const ee={mouseenter:"mouseover",mouseleave:"mouseout"},pe=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function ae(Q,O){return O&&`${O}::${H++}`||Q.uidEvent||H++}function ye(Q){const O=ae(Q);return Q.uidEvent=O,V[O]=V[O]||{},V[O]}function Te(Q,O,j=null){return Object.values(Q).find(le=>le.callable===O&&le.delegationSelector===j)}function J(Q,O,j){const le=typeof O=="string",ke=le?j:O||j;let Pe=ne(Q);return pe.has(Pe)||(Pe=Q),[le,ke,Pe]}function de(Q,O,j,le,ke){if(typeof O!="string"||!Q)return;let[Pe,ct,It]=J(O,j,le);O in ee&&(ct=(hi=>function(Xn){if(!Xn.relatedTarget||Xn.relatedTarget!==Xn.delegateTarget&&!Xn.delegateTarget.contains(Xn.relatedTarget))return hi.call(this,Xn)})(ct));const Zt=ye(Q),_n=Zt[It]||(Zt[It]={}),En=Te(_n,ct,Pe?j:null);if(En)return void(En.oneOff=En.oneOff&&ke);const hn=ae(ct,O.replace(k,"")),li=Pe?(function(Hn,hi,Xn){return function si(gr){const Sr=Hn.querySelectorAll(hi);for(let{target:bi}=gr;bi&&bi!==this;bi=bi.parentNode)for(const Ci of Sr)if(Ci===bi)return ze(gr,{delegateTarget:bi}),si.oneOff&&re.off(Hn,gr.type,hi,Xn),Xn.apply(bi,[gr])}})(Q,j,ct):(function(Hn,hi){return function Xn(si){return ze(si,{delegateTarget:Hn}),Xn.oneOff&&re.off(Hn,si.type,hi),hi.apply(Hn,[si])}})(Q,ct);li.delegationSelector=Pe?j:null,li.callable=ct,li.oneOff=ke,li.uidEvent=hn,_n[hn]=li,Q.addEventListener(It,li,Pe)}function he(Q,O,j,le,ke){const Pe=Te(O[j],le,ke);Pe&&(Q.removeEventListener(j,Pe,!!ke),delete O[j][Pe.uidEvent])}function Le(Q,O,j,le){const ke=O[j]||{};for(const[Pe,ct]of Object.entries(ke))Pe.includes(le)&&he(Q,O,j,ct.callable,ct.delegationSelector)}function ne(Q){return Q=Q.replace(M,""),ee[Q]||Q}const re={on(Q,O,j,le){de(Q,O,j,le,!1)},one(Q,O,j,le){de(Q,O,j,le,!0)},off(Q,O,j,le){if(typeof O!="string"||!Q)return;const[ke,Pe,ct]=J(O,j,le),It=ct!==O,Zt=ye(Q),_n=Zt[ct]||{},En=O.startsWith(".");if(Pe===void 0){if(En)for(const hn of Object.keys(Zt))Le(Q,Zt,hn,O.slice(1));for(const[hn,li]of Object.entries(_n)){const Hn=hn.replace($,"");It&&!O.includes(Hn)||he(Q,Zt,ct,li.callable,li.delegationSelector)}}else{if(!Object.keys(_n).length)return;he(Q,Zt,ct,Pe,ke?j:null)}},trigger(Q,O,j){if(typeof O!="string"||!Q)return null;const le=T();let ke=null,Pe=!0,ct=!0,It=!1;O!==ne(O)&&le&&(ke=le.Event(O,j),le(Q).trigger(ke),Pe=!ke.isPropagationStopped(),ct=!ke.isImmediatePropagationStopped(),It=ke.isDefaultPrevented());const Zt=ze(new Event(O,{bubbles:Pe,cancelable:!0}),j);return It&&Zt.preventDefault(),ct&&Q.dispatchEvent(Zt),Zt.defaultPrevented&&ke&&ke.preventDefault(),Zt}};function ze(Q,O={}){for(const[j,le]of Object.entries(O))try{Q[j]=le}catch{Object.defineProperty(Q,j,{configurable:!0,get:()=>le})}return Q}function Ve(Q){if(Q==="true")return!0;if(Q==="false")return!1;if(Q===Number(Q).toString())return Number(Q);if(Q===""||Q==="null")return null;if(typeof Q!="string")return Q;try{return JSON.parse(decodeURIComponent(Q))}catch{return Q}}function xe(Q){return Q.replace(/[A-Z]/g,O=>`-${O.toLowerCase()}`)}const $e={setDataAttribute(Q,O,j){Q.setAttribute(`data-bs-${xe(O)}`,j)},removeDataAttribute(Q,O){Q.removeAttribute(`data-bs-${xe(O)}`)},getDataAttributes(Q){if(!Q)return{};const O={},j=Object.keys(Q.dataset).filter(le=>le.startsWith("bs")&&!le.startsWith("bsConfig"));for(const le of j){let ke=le.replace(/^bs/,"");ke=ke.charAt(0).toLowerCase()+ke.slice(1),O[ke]=Ve(Q.dataset[le])}return O},getDataAttribute:(Q,O)=>Ve(Q.getAttribute(`data-bs-${xe(O)}`))};class Ze{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(O){return O=this._mergeConfigObj(O),O=this._configAfterMerge(O),this._typeCheckConfig(O),O}_configAfterMerge(O){return O}_mergeConfigObj(O,j){const le=l(j)?$e.getDataAttribute(j,"config"):{};return{...this.constructor.Default,...typeof le=="object"?le:{},...l(j)?$e.getDataAttributes(j):{},...typeof O=="object"?O:{}}}_typeCheckConfig(O,j=this.constructor.DefaultType){for(const[le,ke]of Object.entries(j)){const Pe=O[le],ct=l(Pe)?"element":a(Pe);if(!new RegExp(ke).test(ct))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${le}" provided type "${ct}" but expected type "${ke}".`)}}}class gt extends Ze{constructor(O,j){super(),(O=u(O))&&(this._element=O,this._config=this._getConfig(j),i.set(this._element,this.constructor.DATA_KEY,this))}dispose(){i.remove(this._element,this.constructor.DATA_KEY),re.off(this._element,this.constructor.EVENT_KEY);for(const O of Object.getOwnPropertyNames(this))this[O]=null}_queueCallback(O,j,le=!0){N(O,j,le)}_getConfig(O){return O=this._mergeConfigObj(O,this._element),O=this._configAfterMerge(O),this._typeCheckConfig(O),O}static getInstance(O){return i.get(u(O),this.DATA_KEY)}static getOrCreateInstance(O,j={}){return this.getInstance(O)||new this(O,typeof j=="object"?j:null)}static get VERSION(){return"5.3.8"}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(O){return`${O}${this.EVENT_KEY}`}}const yt=Q=>{let O=Q.getAttribute("data-bs-target");if(!O||O==="#"){let j=Q.getAttribute("href");if(!j||!j.includes("#")&&!j.startsWith("."))return null;j.includes("#")&&!j.startsWith("#")&&(j=`#${j.split("#")[1]}`),O=j&&j!=="#"?j.trim():null}return O?O.split(",").map(j=>s(j)).join(","):null},vt={find:(Q,O=document.documentElement)=>[].concat(...Element.prototype.querySelectorAll.call(O,Q)),findOne:(Q,O=document.documentElement)=>Element.prototype.querySelector.call(O,Q),children:(Q,O)=>[].concat(...Q.children).filter(j=>j.matches(O)),parents(Q,O){const j=[];let le=Q.parentNode.closest(O);for(;le;)j.push(le),le=le.parentNode.closest(O);return j},prev(Q,O){let j=Q.previousElementSibling;for(;j;){if(j.matches(O))return[j];j=j.previousElementSibling}return[]},next(Q,O){let j=Q.nextElementSibling;for(;j;){if(j.matches(O))return[j];j=j.nextElementSibling}return[]},focusableChildren(Q){const O=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(j=>`${j}:not([tabindex^="-"])`).join(",");return this.find(O,Q).filter(j=>!m(j)&&d(j))},getSelectorFromElement(Q){const O=yt(Q);return O&&vt.findOne(O)?O:null},getElementFromSelector(Q){const O=yt(Q);return O?vt.findOne(O):null},getMultipleElementsFromSelector(Q){const O=yt(Q);return O?vt.find(O):[]}},Vt=(Q,O="hide")=>{const j=`click.dismiss${Q.EVENT_KEY}`,le=Q.NAME;re.on(document,j,`[data-bs-dismiss="${le}"]`,function(ke){if(["A","AREA"].includes(this.tagName)&&ke.preventDefault(),m(this))return;const Pe=vt.getElementFromSelector(this)||this.closest(`.${le}`);Q.getOrCreateInstance(Pe)[O]()})},zn=".bs.alert",An=`close${zn}`,dn=`closed${zn}`;class fe extends gt{static get NAME(){return"alert"}close(){if(re.trigger(this._element,An).defaultPrevented)return;this._element.classList.remove("show");const O=this._element.classList.contains("fade");this._queueCallback(()=>this._destroyElement(),this._element,O)}_destroyElement(){this._element.remove(),re.trigger(this._element,dn),this.dispose()}static jQueryInterface(O){return this.each(function(){const j=fe.getOrCreateInstance(this);if(typeof O=="string"){if(j[O]===void 0||O.startsWith("_")||O==="constructor")throw new TypeError(`No method named "${O}"`);j[O](this)}})}}Vt(fe,"close"),P(fe);const Et='[data-bs-toggle="button"]';class Mt extends gt{static get NAME(){return"button"}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle("active"))}static jQueryInterface(O){return this.each(function(){const j=Mt.getOrCreateInstance(this);O==="toggle"&&j[O]()})}}re.on(document,"click.bs.button.data-api",Et,Q=>{Q.preventDefault();const O=Q.target.closest(Et);Mt.getOrCreateInstance(O).toggle()}),P(Mt);const At=".bs.swipe",mt=`touchstart${At}`,Kt=`touchmove${At}`,Ot=`touchend${At}`,Qt=`pointerdown${At}`,bn=`pointerup${At}`,ie={endCallback:null,leftCallback:null,rightCallback:null},Z={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class be extends Ze{constructor(O,j){super(),this._element=O,O&&be.isSupported()&&(this._config=this._getConfig(j),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents())}static get Default(){return ie}static get DefaultType(){return Z}static get NAME(){return"swipe"}dispose(){re.off(this._element,At)}_start(O){this._supportPointerEvents?this._eventIsPointerPenTouch(O)&&(this._deltaX=O.clientX):this._deltaX=O.touches[0].clientX}_end(O){this._eventIsPointerPenTouch(O)&&(this._deltaX=O.clientX-this._deltaX),this._handleSwipe(),D(this._config.endCallback)}_move(O){this._deltaX=O.touches&&O.touches.length>1?0:O.touches[0].clientX-this._deltaX}_handleSwipe(){const O=Math.abs(this._deltaX);if(O<=40)return;const j=O/this._deltaX;this._deltaX=0,j&&D(j>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(re.on(this._element,Qt,O=>this._start(O)),re.on(this._element,bn,O=>this._end(O)),this._element.classList.add("pointer-event")):(re.on(this._element,mt,O=>this._start(O)),re.on(this._element,Kt,O=>this._move(O)),re.on(this._element,Ot,O=>this._end(O)))}_eventIsPointerPenTouch(O){return this._supportPointerEvents&&(O.pointerType==="pen"||O.pointerType==="touch")}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const Ge=".bs.carousel",ht=".data-api",rt="ArrowLeft",qt="ArrowRight",jt="next",tn="prev",nn="left",dt="right",kt=`slide${Ge}`,cn=`slid${Ge}`,Ee=`keydown${Ge}`,Fe=`mouseenter${Ge}`,Rt=`mouseleave${Ge}`,Ae=`dragstart${Ge}`,Xe=`load${Ge}${ht}`,xt=`click${Ge}${ht}`,Xt="carousel",Ht="active",Ct=".active",$t=".carousel-item",fn=Ct+$t,ui={[rt]:dt,[qt]:nn},fi={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},Ur={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class Wi extends gt{constructor(O,j){super(O,j),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=vt.findOne(".carousel-indicators",this._element),this._addEventListeners(),this._config.ride===Xt&&this.cycle()}static get Default(){return fi}static get DefaultType(){return Ur}static get NAME(){return"carousel"}next(){this._slide(jt)}nextWhenVisible(){!document.hidden&&d(this._element)&&this.next()}prev(){this._slide(tn)}pause(){this._isSliding&&o(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){this._config.ride&&(this._isSliding?re.one(this._element,cn,()=>this.cycle()):this.cycle())}to(O){const j=this._getItems();if(O>j.length-1||O<0)return;if(this._isSliding)return void re.one(this._element,cn,()=>this.to(O));const le=this._getItemIndex(this._getActive());if(le===O)return;const ke=O>le?jt:tn;this._slide(ke,j[O])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(O){return O.defaultInterval=O.interval,O}_addEventListeners(){this._config.keyboard&&re.on(this._element,Ee,O=>this._keydown(O)),this._config.pause==="hover"&&(re.on(this._element,Fe,()=>this.pause()),re.on(this._element,Rt,()=>this._maybeEnableCycle())),this._config.touch&&be.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const j of vt.find(".carousel-item img",this._element))re.on(j,Ae,le=>le.preventDefault());const O={leftCallback:()=>this._slide(this._directionToOrder(nn)),rightCallback:()=>this._slide(this._directionToOrder(dt)),endCallback:()=>{this._config.pause==="hover"&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),500+this._config.interval))}};this._swipeHelper=new be(this._element,O)}_keydown(O){if(/input|textarea/i.test(O.target.tagName))return;const j=ui[O.key];j&&(O.preventDefault(),this._slide(this._directionToOrder(j)))}_getItemIndex(O){return this._getItems().indexOf(O)}_setActiveIndicatorElement(O){if(!this._indicatorsElement)return;const j=vt.findOne(Ct,this._indicatorsElement);j.classList.remove(Ht),j.removeAttribute("aria-current");const le=vt.findOne(`[data-bs-slide-to="${O}"]`,this._indicatorsElement);le&&(le.classList.add(Ht),le.setAttribute("aria-current","true"))}_updateInterval(){const O=this._activeElement||this._getActive();if(!O)return;const j=Number.parseInt(O.getAttribute("data-bs-interval"),10);this._config.interval=j||this._config.defaultInterval}_slide(O,j=null){if(this._isSliding)return;const le=this._getActive(),ke=O===jt,Pe=j||G(this._getItems(),le,ke,this._config.wrap);if(Pe===le)return;const ct=this._getItemIndex(Pe),It=hn=>re.trigger(this._element,hn,{relatedTarget:Pe,direction:this._orderToDirection(O),from:this._getItemIndex(le),to:ct});if(It(kt).defaultPrevented||!le||!Pe)return;const Zt=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(ct),this._activeElement=Pe;const _n=ke?"carousel-item-start":"carousel-item-end",En=ke?"carousel-item-next":"carousel-item-prev";Pe.classList.add(En),x(Pe),le.classList.add(_n),Pe.classList.add(_n),this._queueCallback(()=>{Pe.classList.remove(_n,En),Pe.classList.add(Ht),le.classList.remove(Ht,En,_n),this._isSliding=!1,It(cn)},le,this._isAnimated()),Zt&&this.cycle()}_isAnimated(){return this._element.classList.contains("slide")}_getActive(){return vt.findOne(fn,this._element)}_getItems(){return vt.find($t,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(O){return w()?O===nn?tn:jt:O===nn?jt:tn}_orderToDirection(O){return w()?O===tn?nn:dt:O===tn?dt:nn}static jQueryInterface(O){return this.each(function(){const j=Wi.getOrCreateInstance(this,O);if(typeof O!="number"){if(typeof O=="string"){if(j[O]===void 0||O.startsWith("_")||O==="constructor")throw new TypeError(`No method named "${O}"`);j[O]()}}else j.to(O)})}}re.on(document,xt,"[data-bs-slide], [data-bs-slide-to]",function(Q){const O=vt.getElementFromSelector(this);if(!O||!O.classList.contains(Xt))return;Q.preventDefault();const j=Wi.getOrCreateInstance(O),le=this.getAttribute("data-bs-slide-to");return le?(j.to(le),void j._maybeEnableCycle()):$e.getDataAttribute(this,"slide")==="next"?(j.next(),void j._maybeEnableCycle()):(j.prev(),void j._maybeEnableCycle())}),re.on(window,Xe,()=>{const Q=vt.find('[data-bs-ride="carousel"]');for(const O of Q)Wi.getOrCreateInstance(O)}),P(Wi);const Ki=".bs.collapse",xr=`show${Ki}`,Br=`shown${Ki}`,ps=`hide${Ki}`,lo=`hidden${Ki}`,Ls=`click${Ki}.data-api`,Un="show",rs="collapse",Gi="collapsing",K=`:scope .${rs} .${rs}`,oe='[data-bs-toggle="collapse"]',De={parent:null,toggle:!0},Ke={parent:"(null|element)",toggle:"boolean"};class Je extends gt{constructor(O,j){super(O,j),this._isTransitioning=!1,this._triggerArray=[];const le=vt.find(oe);for(const ke of le){const Pe=vt.getSelectorFromElement(ke),ct=vt.find(Pe).filter(It=>It===this._element);Pe!==null&&ct.length&&this._triggerArray.push(ke)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return De}static get DefaultType(){return Ke}static get NAME(){return"collapse"}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let O=[];if(this._config.parent&&(O=this._getFirstLevelChildren(".collapse.show, .collapse.collapsing").filter(ke=>ke!==this._element).map(ke=>Je.getOrCreateInstance(ke,{toggle:!1}))),O.length&&O[0]._isTransitioning||re.trigger(this._element,xr).defaultPrevented)return;for(const ke of O)ke.hide();const j=this._getDimension();this._element.classList.remove(rs),this._element.classList.add(Gi),this._element.style[j]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const le=`scroll${j[0].toUpperCase()+j.slice(1)}`;this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(Gi),this._element.classList.add(rs,Un),this._element.style[j]="",re.trigger(this._element,Br)},this._element,!0),this._element.style[j]=`${this._element[le]}px`}hide(){if(this._isTransitioning||!this._isShown()||re.trigger(this._element,ps).defaultPrevented)return;const O=this._getDimension();this._element.style[O]=`${this._element.getBoundingClientRect()[O]}px`,x(this._element),this._element.classList.add(Gi),this._element.classList.remove(rs,Un);for(const j of this._triggerArray){const le=vt.getElementFromSelector(j);le&&!this._isShown(le)&&this._addAriaAndCollapsedClass([j],!1)}this._isTransitioning=!0,this._element.style[O]="",this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(Gi),this._element.classList.add(rs),re.trigger(this._element,lo)},this._element,!0)}_isShown(O=this._element){return O.classList.contains(Un)}_configAfterMerge(O){return O.toggle=!!O.toggle,O.parent=u(O.parent),O}_getDimension(){return this._element.classList.contains("collapse-horizontal")?"width":"height"}_initializeChildren(){if(!this._config.parent)return;const O=this._getFirstLevelChildren(oe);for(const j of O){const le=vt.getElementFromSelector(j);le&&this._addAriaAndCollapsedClass([j],this._isShown(le))}}_getFirstLevelChildren(O){const j=vt.find(K,this._config.parent);return vt.find(O,this._config.parent).filter(le=>!j.includes(le))}_addAriaAndCollapsedClass(O,j){if(O.length)for(const le of O)le.classList.toggle("collapsed",!j),le.setAttribute("aria-expanded",j)}static jQueryInterface(O){const j={};return typeof O=="string"&&/show|hide/.test(O)&&(j.toggle=!1),this.each(function(){const le=Je.getOrCreateInstance(this,j);if(typeof O=="string"){if(le[O]===void 0)throw new TypeError(`No method named "${O}"`);le[O]()}})}}re.on(document,Ls,oe,function(Q){(Q.target.tagName==="A"||Q.delegateTarget&&Q.delegateTarget.tagName==="A")&&Q.preventDefault();for(const O of vt.getMultipleElementsFromSelector(this))Je.getOrCreateInstance(O,{toggle:!1}).toggle()}),P(Je);var nt="top",Ut="bottom",wt="right",Y="left",ve="auto",we=[nt,Ut,wt,Y],Me="start",Ne="end",Ye="clippingParents",pt="viewport",Tt="popper",Nt="reference",rn=we.reduce(function(Q,O){return Q.concat([O+"-"+Me,O+"-"+Ne])},[]),en=[].concat(we,[ve]).reduce(function(Q,O){return Q.concat([O,O+"-"+Me,O+"-"+Ne])},[]),sn="beforeRead",Pn="read",Cn="afterRead",xi="beforeMain",an="main",In="afterMain",xn="beforeWrite",Di="write",$n="afterWrite",qn=[sn,Pn,Cn,xi,an,In,xn,Di,$n];function Mi(Q){return Q?(Q.nodeName||"").toLowerCase():null}function Sn(Q){if(Q==null)return window;if(Q.toString()!=="[object Window]"){var O=Q.ownerDocument;return O&&O.defaultView||window}return Q}function Zn(Q){return Q instanceof Sn(Q).Element||Q instanceof Element}function kn(Q){return Q instanceof Sn(Q).HTMLElement||Q instanceof HTMLElement}function pr(Q){return typeof ShadowRoot<"u"&&(Q instanceof Sn(Q).ShadowRoot||Q instanceof ShadowRoot)}const ei={name:"applyStyles",enabled:!0,phase:"write",fn:function(Q){var O=Q.state;Object.keys(O.elements).forEach(function(j){var le=O.styles[j]||{},ke=O.attributes[j]||{},Pe=O.elements[j];kn(Pe)&&Mi(Pe)&&(Object.assign(Pe.style,le),Object.keys(ke).forEach(function(ct){var It=ke[ct];It===!1?Pe.removeAttribute(ct):Pe.setAttribute(ct,It===!0?"":It)}))})},effect:function(Q){var O=Q.state,j={popper:{position:O.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(O.elements.popper.style,j.popper),O.styles=j,O.elements.arrow&&Object.assign(O.elements.arrow.style,j.arrow),function(){Object.keys(O.elements).forEach(function(le){var ke=O.elements[le],Pe=O.attributes[le]||{},ct=Object.keys(O.styles.hasOwnProperty(le)?O.styles[le]:j[le]).reduce(function(It,Zt){return It[Zt]="",It},{});kn(ke)&&Mi(ke)&&(Object.assign(ke.style,ct),Object.keys(Pe).forEach(function(It){ke.removeAttribute(It)}))})}},requires:["computeStyles"]};function Ai(Q){return Q.split("-")[0]}var fr=Math.max,Ss=Math.min,na=Math.round;function Oa(){var Q=navigator.userAgentData;return Q!=null&&Q.brands&&Array.isArray(Q.brands)?Q.brands.map(function(O){return O.brand+"/"+O.version}).join(" "):navigator.userAgent}function ja(){return!/^((?!chrome|android).)*safari/i.test(Oa())}function co(Q,O,j){O===void 0&&(O=!1),j===void 0&&(j=!1);var le=Q.getBoundingClientRect(),ke=1,Pe=1;O&&kn(Q)&&(ke=Q.offsetWidth>0&&na(le.width)/Q.offsetWidth||1,Pe=Q.offsetHeight>0&&na(le.height)/Q.offsetHeight||1);var ct=(Zn(Q)?Sn(Q):window).visualViewport,It=!ja()&&j,Zt=(le.left+(It&&ct?ct.offsetLeft:0))/ke,_n=(le.top+(It&&ct?ct.offsetTop:0))/Pe,En=le.width/ke,hn=le.height/Pe;return{width:En,height:hn,top:_n,right:Zt+En,bottom:_n+hn,left:Zt,x:Zt,y:_n}}function Du(Q){var O=co(Q),j=Q.offsetWidth,le=Q.offsetHeight;return Math.abs(O.width-j)<=1&&(j=O.width),Math.abs(O.height-le)<=1&&(le=O.height),{x:Q.offsetLeft,y:Q.offsetTop,width:j,height:le}}function vc(Q,O){var j=O.getRootNode&&O.getRootNode();if(Q.contains(O))return!0;if(j&&pr(j)){var le=O;do{if(le&&Q.isSameNode(le))return!0;le=le.parentNode||le.host}while(le)}return!1}function ya(Q){return Sn(Q).getComputedStyle(Q)}function jc(Q){return["table","td","th"].indexOf(Mi(Q))>=0}function $a(Q){return((Zn(Q)?Q.ownerDocument:Q.document)||window.document).documentElement}function qa(Q){return Mi(Q)==="html"?Q:Q.assignedSlot||Q.parentNode||(pr(Q)?Q.host:null)||$a(Q)}function Gl(Q){return kn(Q)&&ya(Q).position!=="fixed"?Q.offsetParent:null}function jl(Q){for(var O=Sn(Q),j=Gl(Q);j&&jc(j)&&ya(j).position==="static";)j=Gl(j);return j&&(Mi(j)==="html"||Mi(j)==="body"&&ya(j).position==="static")?O:j||(function(le){var ke=/firefox/i.test(Oa());if(/Trident/i.test(Oa())&&kn(le)&&ya(le).position==="fixed")return null;var Pe=qa(le);for(pr(Pe)&&(Pe=Pe.host);kn(Pe)&&["html","body"].indexOf(Mi(Pe))<0;){var ct=ya(Pe);if(ct.transform!=="none"||ct.perspective!=="none"||ct.contain==="paint"||["transform","perspective"].indexOf(ct.willChange)!==-1||ke&&ct.willChange==="filter"||ke&&ct.filter&&ct.filter!=="none")return Pe;Pe=Pe.parentNode}return null})(Q)||O}function yc(Q){return["top","bottom"].indexOf(Q)>=0?"x":"y"}function _c(Q,O,j){return fr(Q,Ss(O,j))}function sl(Q){return Object.assign({},{top:0,right:0,bottom:0,left:0},Q)}function uo(Q,O){return O.reduce(function(j,le){return j[le]=Q,j},{})}const $c={name:"arrow",enabled:!0,phase:"main",fn:function(Q){var O,j=Q.state,le=Q.name,ke=Q.options,Pe=j.elements.arrow,ct=j.modifiersData.popperOffsets,It=Ai(j.placement),Zt=yc(It),_n=[Y,wt].indexOf(It)>=0?"height":"width";if(Pe&&ct){var En=(function(sr,Hi){return sl(typeof(sr=typeof sr=="function"?sr(Object.assign({},Hi.rects,{placement:Hi.placement})):sr)!="number"?sr:uo(sr,we))})(ke.padding,j),hn=Du(Pe),li=Zt==="y"?nt:Y,Hn=Zt==="y"?Ut:wt,hi=j.rects.reference[_n]+j.rects.reference[Zt]-ct[Zt]-j.rects.popper[_n],Xn=ct[Zt]-j.rects.reference[Zt],si=jl(Pe),gr=si?Zt==="y"?si.clientHeight||0:si.clientWidth||0:0,Sr=hi/2-Xn/2,bi=En[li],Ci=gr-hn[_n]-En[Hn],ln=gr/2-hn[_n]/2+Sr,Rn=_c(bi,ln,Ci),ti=Zt;j.modifiersData[le]=((O={})[ti]=Rn,O.centerOffset=Rn-ln,O)}},effect:function(Q){var O=Q.state,j=Q.options.element,le=j===void 0?"[data-popper-arrow]":j;le!=null&&(typeof le!="string"||(le=O.elements.popper.querySelector(le)))&&vc(O.elements.popper,le)&&(O.elements.arrow=le)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function fo(Q){return Q.split("-")[1]}var al={top:"auto",right:"auto",bottom:"auto",left:"auto"};function xf(Q){var O,j=Q.popper,le=Q.popperRect,ke=Q.placement,Pe=Q.variation,ct=Q.offsets,It=Q.position,Zt=Q.gpuAcceleration,_n=Q.adaptive,En=Q.roundOffsets,hn=Q.isFixed,li=ct.x,Hn=li===void 0?0:li,hi=ct.y,Xn=hi===void 0?0:hi,si=typeof En=="function"?En({x:Hn,y:Xn}):{x:Hn,y:Xn};Hn=si.x,Xn=si.y;var gr=ct.hasOwnProperty("x"),Sr=ct.hasOwnProperty("y"),bi=Y,Ci=nt,ln=window;if(_n){var Rn=jl(j),ti="clientHeight",sr="clientWidth";Rn===Sn(j)&&ya(Rn=$a(j)).position!=="static"&&It==="absolute"&&(ti="scrollHeight",sr="scrollWidth"),(ke===nt||(ke===Y||ke===wt)&&Pe===Ne)&&(Ci=Ut,Xn-=(hn&&Rn===ln&&ln.visualViewport?ln.visualViewport.height:Rn[ti])-le.height,Xn*=Zt?1:-1),ke!==Y&&(ke!==nt&&ke!==Ut||Pe!==Ne)||(bi=wt,Hn-=(hn&&Rn===ln&&ln.visualViewport?ln.visualViewport.width:Rn[sr])-le.width,Hn*=Zt?1:-1)}var Hi,ji=Object.assign({position:It},_n&&al),ar=En===!0?(function(us,or){var bo=us.x,ir=us.y,Ui=or.devicePixelRatio||1;return{x:na(bo*Ui)/Ui||0,y:na(ir*Ui)/Ui||0}})({x:Hn,y:Xn},Sn(j)):{x:Hn,y:Xn};return Hn=ar.x,Xn=ar.y,Zt?Object.assign({},ji,((Hi={})[Ci]=Sr?"0":"",Hi[bi]=gr?"0":"",Hi.transform=(ln.devicePixelRatio||1)<=1?"translate("+Hn+"px, "+Xn+"px)":"translate3d("+Hn+"px, "+Xn+"px, 0)",Hi)):Object.assign({},ji,((O={})[Ci]=Sr?Xn+"px":"",O[bi]=gr?Hn+"px":"",O.transform="",O))}const qc={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(Q){var O=Q.state,j=Q.options,le=j.gpuAcceleration,ke=le===void 0||le,Pe=j.adaptive,ct=Pe===void 0||Pe,It=j.roundOffsets,Zt=It===void 0||It,_n={placement:Ai(O.placement),variation:fo(O.placement),popper:O.elements.popper,popperRect:O.rects.popper,gpuAcceleration:ke,isFixed:O.options.strategy==="fixed"};O.modifiersData.popperOffsets!=null&&(O.styles.popper=Object.assign({},O.styles.popper,xf(Object.assign({},_n,{offsets:O.modifiersData.popperOffsets,position:O.options.strategy,adaptive:ct,roundOffsets:Zt})))),O.modifiersData.arrow!=null&&(O.styles.arrow=Object.assign({},O.styles.arrow,xf(Object.assign({},_n,{offsets:O.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:Zt})))),O.attributes.popper=Object.assign({},O.attributes.popper,{"data-popper-placement":O.placement})},data:{}};var Wc={passive:!0};const ho={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(Q){var O=Q.state,j=Q.instance,le=Q.options,ke=le.scroll,Pe=ke===void 0||ke,ct=le.resize,It=ct===void 0||ct,Zt=Sn(O.elements.popper),_n=[].concat(O.scrollParents.reference,O.scrollParents.popper);return Pe&&_n.forEach(function(En){En.addEventListener("scroll",j.update,Wc)}),It&&Zt.addEventListener("resize",j.update,Wc),function(){Pe&&_n.forEach(function(En){En.removeEventListener("scroll",j.update,Wc)}),It&&Zt.removeEventListener("resize",j.update,Wc)}},data:{}};var $l={left:"right",right:"left",bottom:"top",top:"bottom"};function ol(Q){return Q.replace(/left|right|bottom|top/g,function(O){return $l[O]})}var Ns={start:"end",end:"start"};function No(Q){return Q.replace(/start|end/g,function(O){return Ns[O]})}function ll(Q){var O=Sn(Q);return{scrollLeft:O.pageXOffset,scrollTop:O.pageYOffset}}function Io(Q){return co($a(Q)).left+ll(Q).scrollLeft}function Sf(Q){var O=ya(Q),j=O.overflow,le=O.overflowX,ke=O.overflowY;return/auto|scroll|overlay|hidden/.test(j+ke+le)}function zo(Q){return["html","body","#document"].indexOf(Mi(Q))>=0?Q.ownerDocument.body:kn(Q)&&Sf(Q)?Q:zo(qa(Q))}function Uo(Q,O){var j;O===void 0&&(O=[]);var le=zo(Q),ke=le===((j=Q.ownerDocument)==null?void 0:j.body),Pe=Sn(le),ct=ke?[Pe].concat(Pe.visualViewport||[],Sf(le)?le:[]):le,It=O.concat(ct);return ke?It:It.concat(Uo(qa(ct)))}function Wa(Q){return Object.assign({},Q,{left:Q.x,top:Q.y,right:Q.x+Q.width,bottom:Q.y+Q.height})}function ql(Q,O,j){return O===pt?Wa((function(le,ke){var Pe=Sn(le),ct=$a(le),It=Pe.visualViewport,Zt=ct.clientWidth,_n=ct.clientHeight,En=0,hn=0;if(It){Zt=It.width,_n=It.height;var li=ja();(li||!li&&ke==="fixed")&&(En=It.offsetLeft,hn=It.offsetTop)}return{width:Zt,height:_n,x:En+Io(le),y:hn}})(Q,j)):Zn(O)?(function(le,ke){var Pe=co(le,!1,ke==="fixed");return Pe.top=Pe.top+le.clientTop,Pe.left=Pe.left+le.clientLeft,Pe.bottom=Pe.top+le.clientHeight,Pe.right=Pe.left+le.clientWidth,Pe.width=le.clientWidth,Pe.height=le.clientHeight,Pe.x=Pe.left,Pe.y=Pe.top,Pe})(O,j):Wa((function(le){var ke,Pe=$a(le),ct=ll(le),It=(ke=le.ownerDocument)==null?void 0:ke.body,Zt=fr(Pe.scrollWidth,Pe.clientWidth,It?It.scrollWidth:0,It?It.clientWidth:0),_n=fr(Pe.scrollHeight,Pe.clientHeight,It?It.scrollHeight:0,It?It.clientHeight:0),En=-ct.scrollLeft+Io(le),hn=-ct.scrollTop;return ya(It||Pe).direction==="rtl"&&(En+=fr(Pe.clientWidth,It?It.clientWidth:0)-Zt),{width:Zt,height:_n,x:En,y:hn}})($a(Q)))}function Xc(Q){var O,j=Q.reference,le=Q.element,ke=Q.placement,Pe=ke?Ai(ke):null,ct=ke?fo(ke):null,It=j.x+j.width/2-le.width/2,Zt=j.y+j.height/2-le.height/2;switch(Pe){case nt:O={x:It,y:j.y-le.height};break;case Ut:O={x:It,y:j.y+j.height};break;case wt:O={x:j.x+j.width,y:Zt};break;case Y:O={x:j.x-le.width,y:Zt};break;default:O={x:j.x,y:j.y}}var _n=Pe?yc(Pe):null;if(_n!=null){var En=_n==="y"?"height":"width";switch(ct){case Me:O[_n]=O[_n]-(j[En]/2-le[En]/2);break;case Ne:O[_n]=O[_n]+(j[En]/2-le[En]/2)}}return O}function bc(Q,O){O===void 0&&(O={});var j=O,le=j.placement,ke=le===void 0?Q.placement:le,Pe=j.strategy,ct=Pe===void 0?Q.strategy:Pe,It=j.boundary,Zt=It===void 0?Ye:It,_n=j.rootBoundary,En=_n===void 0?pt:_n,hn=j.elementContext,li=hn===void 0?Tt:hn,Hn=j.altBoundary,hi=Hn!==void 0&&Hn,Xn=j.padding,si=Xn===void 0?0:Xn,gr=sl(typeof si!="number"?si:uo(si,we)),Sr=li===Tt?Nt:Tt,bi=Q.rects.popper,Ci=Q.elements[hi?Sr:li],ln=(function(or,bo,ir,Ui){var Ys=bo==="clippingParents"?(function(vr){var Ks=Uo(qa(vr)),Ja=["absolute","fixed"].indexOf(ya(vr).position)>=0&&kn(vr)?jl(vr):vr;return Zn(Ja)?Ks.filter(function(fs){return Zn(fs)&&vc(fs,Ja)&&Mi(fs)!=="body"}):[]})(or):[].concat(bo),ml=[].concat(Ys,[ir]),Vu=ml[0],Zs=ml.reduce(function(vr,Ks){var Ja=ql(or,Ks,Ui);return vr.top=fr(Ja.top,vr.top),vr.right=Ss(Ja.right,vr.right),vr.bottom=Ss(Ja.bottom,vr.bottom),vr.left=fr(Ja.left,vr.left),vr},ql(or,Vu,Ui));return Zs.width=Zs.right-Zs.left,Zs.height=Zs.bottom-Zs.top,Zs.x=Zs.left,Zs.y=Zs.top,Zs})(Zn(Ci)?Ci:Ci.contextElement||$a(Q.elements.popper),Zt,En,ct),Rn=co(Q.elements.reference),ti=Xc({reference:Rn,element:bi,placement:ke}),sr=Wa(Object.assign({},bi,ti)),Hi=li===Tt?sr:Rn,ji={top:ln.top-Hi.top+gr.top,bottom:Hi.bottom-ln.bottom+gr.bottom,left:ln.left-Hi.left+gr.left,right:Hi.right-ln.right+gr.right},ar=Q.modifiersData.offset;if(li===Tt&&ar){var us=ar[ke];Object.keys(ji).forEach(function(or){var bo=[wt,Ut].indexOf(or)>=0?1:-1,ir=[nt,Ut].indexOf(or)>=0?"y":"x";ji[or]+=us[ir]*bo})}return ji}function qp(Q,O){O===void 0&&(O={});var j=O,le=j.placement,ke=j.boundary,Pe=j.rootBoundary,ct=j.padding,It=j.flipVariations,Zt=j.allowedAutoPlacements,_n=Zt===void 0?en:Zt,En=fo(le),hn=En?It?rn:rn.filter(function(hi){return fo(hi)===En}):we,li=hn.filter(function(hi){return _n.indexOf(hi)>=0});li.length===0&&(li=hn);var Hn=li.reduce(function(hi,Xn){return hi[Xn]=bc(Q,{placement:Xn,boundary:ke,rootBoundary:Pe,padding:ct})[Ai(Xn)],hi},{});return Object.keys(Hn).sort(function(hi,Xn){return Hn[hi]-Hn[Xn]})}const ws={name:"flip",enabled:!0,phase:"main",fn:function(Q){var O=Q.state,j=Q.options,le=Q.name;if(!O.modifiersData[le]._skip){for(var ke=j.mainAxis,Pe=ke===void 0||ke,ct=j.altAxis,It=ct===void 0||ct,Zt=j.fallbackPlacements,_n=j.padding,En=j.boundary,hn=j.rootBoundary,li=j.altBoundary,Hn=j.flipVariations,hi=Hn===void 0||Hn,Xn=j.allowedAutoPlacements,si=O.options.placement,gr=Ai(si),Sr=Zt||(gr!==si&&hi?(function(vr){if(Ai(vr)===ve)return[];var Ks=ol(vr);return[No(vr),Ks,No(Ks)]})(si):[ol(si)]),bi=[si].concat(Sr).reduce(function(vr,Ks){return vr.concat(Ai(Ks)===ve?qp(O,{placement:Ks,boundary:En,rootBoundary:hn,padding:_n,flipVariations:hi,allowedAutoPlacements:Xn}):Ks)},[]),Ci=O.rects.reference,ln=O.rects.popper,Rn=new Map,ti=!0,sr=bi[0],Hi=0;Hi<bi.length;Hi++){var ji=bi[Hi],ar=Ai(ji),us=fo(ji)===Me,or=[nt,Ut].indexOf(ar)>=0,bo=or?"width":"height",ir=bc(O,{placement:ji,boundary:En,rootBoundary:hn,altBoundary:li,padding:_n}),Ui=or?us?wt:Y:us?Ut:nt;Ci[bo]>ln[bo]&&(Ui=ol(Ui));var Ys=ol(Ui),ml=[];if(Pe&&ml.push(ir[ar]<=0),It&&ml.push(ir[Ui]<=0,ir[Ys]<=0),ml.every(function(vr){return vr})){sr=ji,ti=!1;break}Rn.set(ji,ml)}if(ti)for(var Vu=function(vr){var Ks=bi.find(function(Ja){var fs=Rn.get(Ja);if(fs)return fs.slice(0,vr).every(function(ts){return ts})});if(Ks)return sr=Ks,"break"},Zs=hi?3:1;Zs>0&&Vu(Zs)!=="break";Zs--);O.placement!==sr&&(O.modifiersData[le]._skip=!0,O.placement=sr,O.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function S(Q,O,j){return j===void 0&&(j={x:0,y:0}),{top:Q.top-O.height-j.y,right:Q.right-O.width+j.x,bottom:Q.bottom-O.height+j.y,left:Q.left-O.width-j.x}}function R(Q){return[nt,wt,Ut,Y].some(function(O){return Q[O]>=0})}const U={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(Q){var O=Q.state,j=Q.name,le=O.rects.reference,ke=O.rects.popper,Pe=O.modifiersData.preventOverflow,ct=bc(O,{elementContext:"reference"}),It=bc(O,{altBoundary:!0}),Zt=S(ct,le),_n=S(It,ke,Pe),En=R(Zt),hn=R(_n);O.modifiersData[j]={referenceClippingOffsets:Zt,popperEscapeOffsets:_n,isReferenceHidden:En,hasPopperEscaped:hn},O.attributes.popper=Object.assign({},O.attributes.popper,{"data-popper-reference-hidden":En,"data-popper-escaped":hn})}},B={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(Q){var O=Q.state,j=Q.options,le=Q.name,ke=j.offset,Pe=ke===void 0?[0,0]:ke,ct=en.reduce(function(En,hn){return En[hn]=(function(li,Hn,hi){var Xn=Ai(li),si=[Y,nt].indexOf(Xn)>=0?-1:1,gr=typeof hi=="function"?hi(Object.assign({},Hn,{placement:li})):hi,Sr=gr[0],bi=gr[1];return Sr=Sr||0,bi=(bi||0)*si,[Y,wt].indexOf(Xn)>=0?{x:bi,y:Sr}:{x:Sr,y:bi}})(hn,O.rects,Pe),En},{}),It=ct[O.placement],Zt=It.x,_n=It.y;O.modifiersData.popperOffsets!=null&&(O.modifiersData.popperOffsets.x+=Zt,O.modifiersData.popperOffsets.y+=_n),O.modifiersData[le]=ct}},q={name:"popperOffsets",enabled:!0,phase:"read",fn:function(Q){var O=Q.state,j=Q.name;O.modifiersData[j]=Xc({reference:O.rects.reference,element:O.rects.popper,placement:O.placement})},data:{}},W={name:"preventOverflow",enabled:!0,phase:"main",fn:function(Q){var O=Q.state,j=Q.options,le=Q.name,ke=j.mainAxis,Pe=ke===void 0||ke,ct=j.altAxis,It=ct!==void 0&&ct,Zt=j.boundary,_n=j.rootBoundary,En=j.altBoundary,hn=j.padding,li=j.tether,Hn=li===void 0||li,hi=j.tetherOffset,Xn=hi===void 0?0:hi,si=bc(O,{boundary:Zt,rootBoundary:_n,padding:hn,altBoundary:En}),gr=Ai(O.placement),Sr=fo(O.placement),bi=!Sr,Ci=yc(gr),ln=Ci==="x"?"y":"x",Rn=O.modifiersData.popperOffsets,ti=O.rects.reference,sr=O.rects.popper,Hi=typeof Xn=="function"?Xn(Object.assign({},O.rects,{placement:O.placement})):Xn,ji=typeof Hi=="number"?{mainAxis:Hi,altAxis:Hi}:Object.assign({mainAxis:0,altAxis:0},Hi),ar=O.modifiersData.offset?O.modifiersData.offset[O.placement]:null,us={x:0,y:0};if(Rn){if(Pe){var or,bo=Ci==="y"?nt:Y,ir=Ci==="y"?Ut:wt,Ui=Ci==="y"?"height":"width",Ys=Rn[Ci],ml=Ys+si[bo],Vu=Ys-si[ir],Zs=Hn?-sr[Ui]/2:0,vr=Sr===Me?ti[Ui]:sr[Ui],Ks=Sr===Me?-sr[Ui]:-ti[Ui],Ja=O.elements.arrow,fs=Hn&&Ja?Du(Ja):{width:0,height:0},ts=O.modifiersData["arrow#persistent"]?O.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},Tc=ts[bo],$o=ts[ir],Gu=_c(0,ti[Ui],fs[Ui]),em=bi?ti[Ui]/2-Zs-Gu-Tc-ji.mainAxis:vr-Gu-Tc-ji.mainAxis,Mc=bi?-ti[Ui]/2+Zs+Gu+$o+ji.mainAxis:Ks+Gu+$o+ji.mainAxis,Ql=O.elements.arrow&&jl(O.elements.arrow),tm=Ql?Ci==="y"?Ql.clientTop||0:Ql.clientLeft||0:0,Vd=(or=ar?.[Ci])!=null?or:0,Rg=Ys+Mc-Vd,ju=_c(Hn?Ss(ml,Ys+em-Vd-tm):ml,Ys,Hn?fr(Vu,Rg):Vu);Rn[Ci]=ju,us[Ci]=ju-Ys}if(It){var nm,Og=Ci==="x"?nt:Y,Pg=Ci==="x"?Ut:wt,au=Rn[ln],Nf=ln==="y"?"height":"width",im=au+si[Og],Dg=au-si[Pg],Gd=[nt,Y].indexOf(gr)!==-1,rm=(nm=ar?.[ln])!=null?nm:0,sm=Gd?im:au-ti[Nf]-sr[Nf]-rm+ji.altAxis,jd=Gd?au+ti[Nf]+sr[Nf]-rm-ji.altAxis:Dg,am=Hn&&Gd?(function(om,Lg,$d){var lm=_c(om,Lg,$d);return lm>$d?$d:lm})(sm,au,jd):_c(Hn?sm:im,au,Hn?jd:Dg);Rn[ln]=am,us[ln]=am-au}O.modifiersData[le]=us}},requiresIfExists:["offset"]};function te(Q,O,j){j===void 0&&(j=!1);var le,ke,Pe=kn(O),ct=kn(O)&&(function(hn){var li=hn.getBoundingClientRect(),Hn=na(li.width)/hn.offsetWidth||1,hi=na(li.height)/hn.offsetHeight||1;return Hn!==1||hi!==1})(O),It=$a(O),Zt=co(Q,ct,j),_n={scrollLeft:0,scrollTop:0},En={x:0,y:0};return(Pe||!Pe&&!j)&&((Mi(O)!=="body"||Sf(It))&&(_n=(le=O)!==Sn(le)&&kn(le)?{scrollLeft:(ke=le).scrollLeft,scrollTop:ke.scrollTop}:ll(le)),kn(O)?((En=co(O,!0)).x+=O.clientLeft,En.y+=O.clientTop):It&&(En.x=Io(It))),{x:Zt.left+_n.scrollLeft-En.x,y:Zt.top+_n.scrollTop-En.y,width:Zt.width,height:Zt.height}}function Ce(Q){var O=new Map,j=new Set,le=[];function ke(Pe){j.add(Pe.name),[].concat(Pe.requires||[],Pe.requiresIfExists||[]).forEach(function(ct){if(!j.has(ct)){var It=O.get(ct);It&&ke(It)}}),le.push(Pe)}return Q.forEach(function(Pe){O.set(Pe.name,Pe)}),Q.forEach(function(Pe){j.has(Pe.name)||ke(Pe)}),le}var _e={placement:"bottom",modifiers:[],strategy:"absolute"};function He(){for(var Q=arguments.length,O=new Array(Q),j=0;j<Q;j++)O[j]=arguments[j];return!O.some(function(le){return!(le&&typeof le.getBoundingClientRect=="function")})}function ft(Q){Q===void 0&&(Q={});var O=Q,j=O.defaultModifiers,le=j===void 0?[]:j,ke=O.defaultOptions,Pe=ke===void 0?_e:ke;return function(ct,It,Zt){Zt===void 0&&(Zt=Pe);var _n,En,hn={placement:"bottom",orderedModifiers:[],options:Object.assign({},_e,Pe),modifiersData:{},elements:{reference:ct,popper:It},attributes:{},styles:{}},li=[],Hn=!1,hi={state:hn,setOptions:function(si){var gr=typeof si=="function"?si(hn.options):si;Xn(),hn.options=Object.assign({},Pe,hn.options,gr),hn.scrollParents={reference:Zn(ct)?Uo(ct):ct.contextElement?Uo(ct.contextElement):[],popper:Uo(It)};var Sr,bi,Ci=(function(ln){var Rn=Ce(ln);return qn.reduce(function(ti,sr){return ti.concat(Rn.filter(function(Hi){return Hi.phase===sr}))},[])})((Sr=[].concat(le,hn.options.modifiers),bi=Sr.reduce(function(ln,Rn){var ti=ln[Rn.name];return ln[Rn.name]=ti?Object.assign({},ti,Rn,{options:Object.assign({},ti.options,Rn.options),data:Object.assign({},ti.data,Rn.data)}):Rn,ln},{}),Object.keys(bi).map(function(ln){return bi[ln]})));return hn.orderedModifiers=Ci.filter(function(ln){return ln.enabled}),hn.orderedModifiers.forEach(function(ln){var Rn=ln.name,ti=ln.options,sr=ti===void 0?{}:ti,Hi=ln.effect;if(typeof Hi=="function"){var ji=Hi({state:hn,name:Rn,instance:hi,options:sr});li.push(ji||function(){})}}),hi.update()},forceUpdate:function(){if(!Hn){var si=hn.elements,gr=si.reference,Sr=si.popper;if(He(gr,Sr)){hn.rects={reference:te(gr,jl(Sr),hn.options.strategy==="fixed"),popper:Du(Sr)},hn.reset=!1,hn.placement=hn.options.placement,hn.orderedModifiers.forEach(function(Hi){return hn.modifiersData[Hi.name]=Object.assign({},Hi.data)});for(var bi=0;bi<hn.orderedModifiers.length;bi++)if(hn.reset!==!0){var Ci=hn.orderedModifiers[bi],ln=Ci.fn,Rn=Ci.options,ti=Rn===void 0?{}:Rn,sr=Ci.name;typeof ln=="function"&&(hn=ln({state:hn,options:ti,name:sr,instance:hi})||hn)}else hn.reset=!1,bi=-1}}},update:(_n=function(){return new Promise(function(si){hi.forceUpdate(),si(hn)})},function(){return En||(En=new Promise(function(si){Promise.resolve().then(function(){En=void 0,si(_n())})})),En}),destroy:function(){Xn(),Hn=!0}};if(!He(ct,It))return hi;function Xn(){li.forEach(function(si){return si()}),li=[]}return hi.setOptions(Zt).then(function(si){!Hn&&Zt.onFirstUpdate&&Zt.onFirstUpdate(si)}),hi}}var bt=ft(),tt=ft({defaultModifiers:[ho,q,qc,ei]}),Ft=ft({defaultModifiers:[ho,q,qc,ei,B,ws,W,$c,U]});const Wn=Object.freeze(Object.defineProperty({__proto__:null,afterMain:In,afterRead:Cn,afterWrite:$n,applyStyles:ei,arrow:$c,auto:ve,basePlacements:we,beforeMain:xi,beforeRead:sn,beforeWrite:xn,bottom:Ut,clippingParents:Ye,computeStyles:qc,createPopper:Ft,createPopperBase:bt,createPopperLite:tt,detectOverflow:bc,end:Ne,eventListeners:ho,flip:ws,hide:U,left:Y,main:an,modifierPhases:qn,offset:B,placements:en,popper:Tt,popperGenerator:ft,popperOffsets:q,preventOverflow:W,read:Pn,reference:Nt,right:wt,start:Me,top:nt,variationPlacements:rn,viewport:pt,write:Di},Symbol.toStringTag,{value:"Module"})),Ei="dropdown",Kn=".bs.dropdown",es=".data-api",ss="ArrowUp",ms="ArrowDown",Xa=`hide${Kn}`,Li=`hidden${Kn}`,Wl=`show${Kn}`,yi=`shown${Kn}`,Qi=`click${Kn}${es}`,Bo=`keydown${Kn}${es}`,cl=`keyup${Kn}${es}`,gs="show",ia='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',Is=`${ia}.${gs}`,mr=".dropdown-menu",Ya=w()?"top-end":"top-start",_a=w()?"top-start":"top-end",ko=w()?"bottom-end":"bottom-start",Pa=w()?"bottom-start":"bottom-end",po=w()?"left-start":"right-start",wf=w()?"right-start":"left-start",yh={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},ba={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class oi extends gt{constructor(O,j){super(O,j),this._popper=null,this._parent=this._element.parentNode,this._menu=vt.next(this._element,mr)[0]||vt.prev(this._element,mr)[0]||vt.findOne(mr,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return yh}static get DefaultType(){return ba}static get NAME(){return Ei}toggle(){return this._isShown()?this.hide():this.show()}show(){if(m(this._element)||this._isShown())return;const O={relatedTarget:this._element};if(!re.trigger(this._element,Wl,O).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(".navbar-nav"))for(const j of[].concat(...document.body.children))re.on(j,"mouseover",y);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(gs),this._element.classList.add(gs),re.trigger(this._element,yi,O)}}hide(){if(m(this._element)||!this._isShown())return;const O={relatedTarget:this._element};this._completeHide(O)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(O){if(!re.trigger(this._element,Xa,O).defaultPrevented){if("ontouchstart"in document.documentElement)for(const j of[].concat(...document.body.children))re.off(j,"mouseover",y);this._popper&&this._popper.destroy(),this._menu.classList.remove(gs),this._element.classList.remove(gs),this._element.setAttribute("aria-expanded","false"),$e.removeDataAttribute(this._menu,"popper"),re.trigger(this._element,Li,O)}}_getConfig(O){if(typeof(O=super._getConfig(O)).reference=="object"&&!l(O.reference)&&typeof O.reference.getBoundingClientRect!="function")throw new TypeError(`${Ei.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return O}_createPopper(){if(Wn===void 0)throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org/docs/v2/)");let O=this._element;this._config.reference==="parent"?O=this._parent:l(this._config.reference)?O=u(this._config.reference):typeof this._config.reference=="object"&&(O=this._config.reference);const j=this._getPopperConfig();this._popper=Ft(O,this._menu,j)}_isShown(){return this._menu.classList.contains(gs)}_getPlacement(){const O=this._parent;if(O.classList.contains("dropend"))return po;if(O.classList.contains("dropstart"))return wf;if(O.classList.contains("dropup-center"))return"top";if(O.classList.contains("dropdown-center"))return"bottom";const j=getComputedStyle(this._menu).getPropertyValue("--bs-position").trim()==="end";return O.classList.contains("dropup")?j?_a:Ya:j?Pa:ko}_detectNavbar(){return this._element.closest(".navbar")!==null}_getOffset(){const{offset:O}=this._config;return typeof O=="string"?O.split(",").map(j=>Number.parseInt(j,10)):typeof O=="function"?j=>O(j,this._element):O}_getPopperConfig(){const O={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||this._config.display==="static")&&($e.setDataAttribute(this._menu,"popper","static"),O.modifiers=[{name:"applyStyles",enabled:!1}]),{...O,...D(this._config.popperConfig,[void 0,O])}}_selectMenuItem({key:O,target:j}){const le=vt.find(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",this._menu).filter(ke=>d(ke));le.length&&G(le,j,O===ms,!le.includes(j)).focus()}static jQueryInterface(O){return this.each(function(){const j=oi.getOrCreateInstance(this,O);if(typeof O=="string"){if(j[O]===void 0)throw new TypeError(`No method named "${O}"`);j[O]()}})}static clearMenus(O){if(O.button===2||O.type==="keyup"&&O.key!=="Tab")return;const j=vt.find(Is);for(const le of j){const ke=oi.getInstance(le);if(!ke||ke._config.autoClose===!1)continue;const Pe=O.composedPath(),ct=Pe.includes(ke._menu);if(Pe.includes(ke._element)||ke._config.autoClose==="inside"&&!ct||ke._config.autoClose==="outside"&&ct||ke._menu.contains(O.target)&&(O.type==="keyup"&&O.key==="Tab"||/input|select|option|textarea|form/i.test(O.target.tagName)))continue;const It={relatedTarget:ke._element};O.type==="click"&&(It.clickEvent=O),ke._completeHide(It)}}static dataApiKeydownHandler(O){const j=/input|textarea/i.test(O.target.tagName),le=O.key==="Escape",ke=[ss,ms].includes(O.key);if(!ke&&!le||j&&!le)return;O.preventDefault();const Pe=this.matches(ia)?this:vt.prev(this,ia)[0]||vt.next(this,ia)[0]||vt.findOne(ia,O.delegateTarget.parentNode),ct=oi.getOrCreateInstance(Pe);if(ke)return O.stopPropagation(),ct.show(),void ct._selectMenuItem(O);ct._isShown()&&(O.stopPropagation(),ct.hide(),Pe.focus())}}re.on(document,Bo,ia,oi.dataApiKeydownHandler),re.on(document,Bo,mr,oi.dataApiKeydownHandler),re.on(document,Qi,oi.clearMenus),re.on(document,cl,oi.clearMenus),re.on(document,Qi,ia,function(Q){Q.preventDefault(),oi.getOrCreateInstance(this).toggle()}),P(oi);const mo="backdrop",Da="show",go=`mousedown.bs.${mo}`,Ef={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},Tf={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class Yc extends Ze{constructor(O){super(),this._config=this._getConfig(O),this._isAppended=!1,this._element=null}static get Default(){return Ef}static get DefaultType(){return Tf}static get NAME(){return mo}show(O){if(!this._config.isVisible)return void D(O);this._append();const j=this._getElement();this._config.isAnimated&&x(j),j.classList.add(Da),this._emulateAnimation(()=>{D(O)})}hide(O){this._config.isVisible?(this._getElement().classList.remove(Da),this._emulateAnimation(()=>{this.dispose(),D(O)})):D(O)}dispose(){this._isAppended&&(re.off(this._element,go),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const O=document.createElement("div");O.className=this._config.className,this._config.isAnimated&&O.classList.add("fade"),this._element=O}return this._element}_configAfterMerge(O){return O.rootElement=u(O.rootElement),O}_append(){if(this._isAppended)return;const O=this._getElement();this._config.rootElement.append(O),re.on(O,go,()=>{D(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(O){N(O,this._getElement(),this._config.isAnimated)}}const ra=".bs.focustrap",Xl=`focusin${ra}`,Ji=`keydown.tab${ra}`,Mf="backward",Lu={autofocus:!0,trapElement:null},Nu={autofocus:"boolean",trapElement:"element"};class ul extends Ze{constructor(O){super(),this._config=this._getConfig(O),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return Lu}static get DefaultType(){return Nu}static get NAME(){return"focustrap"}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),re.off(document,ra),re.on(document,Xl,O=>this._handleFocusin(O)),re.on(document,Ji,O=>this._handleKeydown(O)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,re.off(document,ra))}_handleFocusin(O){const{trapElement:j}=this._config;if(O.target===document||O.target===j||j.contains(O.target))return;const le=vt.focusableChildren(j);le.length===0?j.focus():this._lastTabNavDirection===Mf?le[le.length-1].focus():le[0].focus()}_handleKeydown(O){O.key==="Tab"&&(this._lastTabNavDirection=O.shiftKey?Mf:"forward")}}const vo=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",_h=".sticky-top",as="padding-right",xa="margin-right";class Es{constructor(){this._element=document.body}getWidth(){const O=document.documentElement.clientWidth;return Math.abs(window.innerWidth-O)}hide(){const O=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,as,j=>j+O),this._setElementAttributes(vo,as,j=>j+O),this._setElementAttributes(_h,xa,j=>j-O)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,as),this._resetElementAttributes(vo,as),this._resetElementAttributes(_h,xa)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(O,j,le){const ke=this.getWidth();this._applyManipulationCallback(O,Pe=>{if(Pe!==this._element&&window.innerWidth>Pe.clientWidth+ke)return;this._saveInitialAttribute(Pe,j);const ct=window.getComputedStyle(Pe).getPropertyValue(j);Pe.style.setProperty(j,`${le(Number.parseFloat(ct))}px`)})}_saveInitialAttribute(O,j){const le=O.style.getPropertyValue(j);le&&$e.setDataAttribute(O,j,le)}_resetElementAttributes(O,j){this._applyManipulationCallback(O,le=>{const ke=$e.getDataAttribute(le,j);ke!==null?($e.removeDataAttribute(le,j),le.style.setProperty(j,ke)):le.style.removeProperty(j)})}_applyManipulationCallback(O,j){if(l(O))j(O);else for(const le of vt.find(O,this._element))j(le)}}const Sa=".bs.modal",Iu=`hide${Sa}`,Af=`hidePrevented${Sa}`,ge=`hidden${Sa}`,Ie=`show${Sa}`,We=`shown${Sa}`,st=`resize${Sa}`,_t=`click.dismiss${Sa}`,Yt=`mousedown.dismiss${Sa}`,pn=`keydown.dismiss${Sa}`,un=`click${Sa}.data-api`,on="modal-open",vi="show",Vn="modal-static",Bn={backdrop:!0,focus:!0,keyboard:!0},Gn={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class On extends gt{constructor(O,j){super(O,j),this._dialog=vt.findOne(".modal-dialog",this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new Es,this._addEventListeners()}static get Default(){return Bn}static get DefaultType(){return Gn}static get NAME(){return"modal"}toggle(O){return this._isShown?this.hide():this.show(O)}show(O){this._isShown||this._isTransitioning||re.trigger(this._element,Ie,{relatedTarget:O}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(on),this._adjustDialog(),this._backdrop.show(()=>this._showElement(O)))}hide(){this._isShown&&!this._isTransitioning&&(re.trigger(this._element,Iu).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(vi),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated())))}dispose(){re.off(window,Sa),re.off(this._dialog,Sa),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new Yc({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new ul({trapElement:this._element})}_showElement(O){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const j=vt.findOne(".modal-body",this._dialog);j&&(j.scrollTop=0),x(this._element),this._element.classList.add(vi),this._queueCallback(()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,re.trigger(this._element,We,{relatedTarget:O})},this._dialog,this._isAnimated())}_addEventListeners(){re.on(this._element,pn,O=>{O.key==="Escape"&&(this._config.keyboard?this.hide():this._triggerBackdropTransition())}),re.on(window,st,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),re.on(this._element,Yt,O=>{re.one(this._element,_t,j=>{this._element===O.target&&this._element===j.target&&(this._config.backdrop!=="static"?this._config.backdrop&&this.hide():this._triggerBackdropTransition())})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(on),this._resetAdjustments(),this._scrollBar.reset(),re.trigger(this._element,ge)})}_isAnimated(){return this._element.classList.contains("fade")}_triggerBackdropTransition(){if(re.trigger(this._element,Af).defaultPrevented)return;const O=this._element.scrollHeight>document.documentElement.clientHeight,j=this._element.style.overflowY;j==="hidden"||this._element.classList.contains(Vn)||(O||(this._element.style.overflowY="hidden"),this._element.classList.add(Vn),this._queueCallback(()=>{this._element.classList.remove(Vn),this._queueCallback(()=>{this._element.style.overflowY=j},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const O=this._element.scrollHeight>document.documentElement.clientHeight,j=this._scrollBar.getWidth(),le=j>0;if(le&&!O){const ke=w()?"paddingLeft":"paddingRight";this._element.style[ke]=`${j}px`}if(!le&&O){const ke=w()?"paddingRight":"paddingLeft";this._element.style[ke]=`${j}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(O,j){return this.each(function(){const le=On.getOrCreateInstance(this,O);if(typeof O=="string"){if(le[O]===void 0)throw new TypeError(`No method named "${O}"`);le[O](j)}})}}re.on(document,un,'[data-bs-toggle="modal"]',function(Q){const O=vt.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&Q.preventDefault(),re.one(O,Ie,le=>{le.defaultPrevented||re.one(O,ge,()=>{d(this)&&this.focus()})});const j=vt.findOne(".modal.show");j&&On.getInstance(j).hide(),On.getOrCreateInstance(O).toggle(this)}),Vt(On),P(On);const Qn=".bs.offcanvas",qs=".data-api",Dr=`load${Qn}${qs}`,Ts="show",vs="showing",Ho="hiding",os=".offcanvas.show",Ws=`show${Qn}`,Wp=`shown${Qn}`,sa=`hide${Qn}`,aa=`hidePrevented${Qn}`,yo=`hidden${Qn}`,Pd=`resize${Qn}`,bh=`click${Qn}${qs}`,Zc=`keydown.dismiss${Qn}`,Dd={backdrop:!0,keyboard:!0,scroll:!1},xc={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class fl extends gt{constructor(O,j){super(O,j),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return Dd}static get DefaultType(){return xc}static get NAME(){return"offcanvas"}toggle(O){return this._isShown?this.hide():this.show(O)}show(O){this._isShown||re.trigger(this._element,Ws,{relatedTarget:O}).defaultPrevented||(this._isShown=!0,this._backdrop.show(),this._config.scroll||new Es().hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(vs),this._queueCallback(()=>{this._config.scroll&&!this._config.backdrop||this._focustrap.activate(),this._element.classList.add(Ts),this._element.classList.remove(vs),re.trigger(this._element,Wp,{relatedTarget:O})},this._element,!0))}hide(){this._isShown&&(re.trigger(this._element,sa).defaultPrevented||(this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(Ho),this._backdrop.hide(),this._queueCallback(()=>{this._element.classList.remove(Ts,Ho),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||new Es().reset(),re.trigger(this._element,yo)},this._element,!0)))}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const O=!!this._config.backdrop;return new Yc({className:"offcanvas-backdrop",isVisible:O,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:O?()=>{this._config.backdrop!=="static"?this.hide():re.trigger(this._element,aa)}:null})}_initializeFocusTrap(){return new ul({trapElement:this._element})}_addEventListeners(){re.on(this._element,Zc,O=>{O.key==="Escape"&&(this._config.keyboard?this.hide():re.trigger(this._element,aa))})}static jQueryInterface(O){return this.each(function(){const j=fl.getOrCreateInstance(this,O);if(typeof O=="string"){if(j[O]===void 0||O.startsWith("_")||O==="constructor")throw new TypeError(`No method named "${O}"`);j[O](this)}})}}re.on(document,bh,'[data-bs-toggle="offcanvas"]',function(Q){const O=vt.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&Q.preventDefault(),m(this))return;re.one(O,yo,()=>{d(this)&&this.focus()});const j=vt.findOne(os);j&&j!==O&&fl.getInstance(j).hide(),fl.getOrCreateInstance(O).toggle(this)}),re.on(window,Dr,()=>{for(const Q of vt.find(os))fl.getOrCreateInstance(Q).show()}),re.on(window,Pd,()=>{for(const Q of vt.find("[aria-modal][class*=show][class*=offcanvas-]"))getComputedStyle(Q).position!=="fixed"&&fl.getOrCreateInstance(Q).hide()}),Vt(fl),P(fl);const zu={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],dd:[],div:[],dl:[],dt:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},Kc=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),Xp=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,Za=(Q,O)=>{const j=Q.nodeName.toLowerCase();return O.includes(j)?!Kc.has(j)||!!Xp.test(Q.nodeValue):O.filter(le=>le instanceof RegExp).some(le=>le.test(j))},xh={allowList:zu,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},ys={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},Yp={entry:"(string|element|function|null)",selector:"(string|element)"};class Xs extends Ze{constructor(O){super(),this._config=this._getConfig(O)}static get Default(){return xh}static get DefaultType(){return ys}static get NAME(){return"TemplateFactory"}getContent(){return Object.values(this._config.content).map(O=>this._resolvePossibleFunction(O)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(O){return this._checkContent(O),this._config.content={...this._config.content,...O},this}toHtml(){const O=document.createElement("div");O.innerHTML=this._maybeSanitize(this._config.template);for(const[ke,Pe]of Object.entries(this._config.content))this._setContent(O,Pe,ke);const j=O.children[0],le=this._resolvePossibleFunction(this._config.extraClass);return le&&j.classList.add(...le.split(" ")),j}_typeCheckConfig(O){super._typeCheckConfig(O),this._checkContent(O.content)}_checkContent(O){for(const[j,le]of Object.entries(O))super._typeCheckConfig({selector:j,entry:le},Yp)}_setContent(O,j,le){const ke=vt.findOne(le,O);ke&&((j=this._resolvePossibleFunction(j))?l(j)?this._putElementInTemplate(u(j),ke):this._config.html?ke.innerHTML=this._maybeSanitize(j):ke.textContent=j:ke.remove())}_maybeSanitize(O){return this._config.sanitize?(function(j,le,ke){if(!j.length)return j;if(ke&&typeof ke=="function")return ke(j);const Pe=new window.DOMParser().parseFromString(j,"text/html"),ct=[].concat(...Pe.body.querySelectorAll("*"));for(const It of ct){const Zt=It.nodeName.toLowerCase();if(!Object.keys(le).includes(Zt)){It.remove();continue}const _n=[].concat(...It.attributes),En=[].concat(le["*"]||[],le[Zt]||[]);for(const hn of _n)Za(hn,En)||It.removeAttribute(hn.nodeName)}return Pe.body.innerHTML})(O,this._config.allowList,this._config.sanitizeFn):O}_resolvePossibleFunction(O){return D(O,[void 0,this])}_putElementInTemplate(O,j){if(this._config.html)return j.innerHTML="",void j.append(O);j.textContent=O.textContent}}const Qc=new Set(["sanitize","allowList","sanitizeFn"]),Uu="fade",Bu="show",Cf=".tooltip-inner",La=".modal",Rf="hide.bs.modal",Yl="hover",zs="focus",Na="click",Jc={AUTO:"auto",TOP:"top",RIGHT:w()?"left":"right",BOTTOM:"bottom",LEFT:w()?"right":"left"},Zl={allowList:zu,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},Kl={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class Ia extends gt{constructor(O,j){if(Wn===void 0)throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org/docs/v2/)");super(O,j),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return Zl}static get DefaultType(){return Kl}static get NAME(){return"tooltip"}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){this._isEnabled&&(this._isShown()?this._leave():this._enter())}dispose(){clearTimeout(this._timeout),re.off(this._element.closest(La),Rf,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if(this._element.style.display==="none")throw new Error("Please use show on visible elements");if(!this._isWithContent()||!this._isEnabled)return;const O=re.trigger(this._element,this.constructor.eventName("show")),j=(v(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(O.defaultPrevented||!j)return;this._disposePopper();const le=this._getTipElement();this._element.setAttribute("aria-describedby",le.getAttribute("id"));const{container:ke}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(ke.append(le),re.trigger(this._element,this.constructor.eventName("inserted"))),this._popper=this._createPopper(le),le.classList.add(Bu),"ontouchstart"in document.documentElement)for(const Pe of[].concat(...document.body.children))re.on(Pe,"mouseover",y);this._queueCallback(()=>{re.trigger(this._element,this.constructor.eventName("shown")),this._isHovered===!1&&this._leave(),this._isHovered=!1},this.tip,this._isAnimated())}hide(){if(this._isShown()&&!re.trigger(this._element,this.constructor.eventName("hide")).defaultPrevented){if(this._getTipElement().classList.remove(Bu),"ontouchstart"in document.documentElement)for(const O of[].concat(...document.body.children))re.off(O,"mouseover",y);this._activeTrigger[Na]=!1,this._activeTrigger[zs]=!1,this._activeTrigger[Yl]=!1,this._isHovered=null,this._queueCallback(()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),re.trigger(this._element,this.constructor.eventName("hidden")))},this.tip,this._isAnimated())}}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(O){const j=this._getTemplateFactory(O).toHtml();if(!j)return null;j.classList.remove(Uu,Bu),j.classList.add(`bs-${this.constructor.NAME}-auto`);const le=(ke=>{do ke+=Math.floor(1e6*Math.random());while(document.getElementById(ke));return ke})(this.constructor.NAME).toString();return j.setAttribute("id",le),this._isAnimated()&&j.classList.add(Uu),j}setContent(O){this._newContent=O,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(O){return this._templateFactory?this._templateFactory.changeContent(O):this._templateFactory=new Xs({...this._config,content:O,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{[Cf]:this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(O){return this.constructor.getOrCreateInstance(O.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(Uu)}_isShown(){return this.tip&&this.tip.classList.contains(Bu)}_createPopper(O){const j=D(this._config.placement,[this,O,this._element]),le=Jc[j.toUpperCase()];return Ft(this._element,O,this._getPopperConfig(le))}_getOffset(){const{offset:O}=this._config;return typeof O=="string"?O.split(",").map(j=>Number.parseInt(j,10)):typeof O=="function"?j=>O(j,this._element):O}_resolvePossibleFunction(O){return D(O,[this._element,this._element])}_getPopperConfig(O){const j={placement:O,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:le=>{this._getTipElement().setAttribute("data-popper-placement",le.state.placement)}}]};return{...j,...D(this._config.popperConfig,[void 0,j])}}_setListeners(){const O=this._config.trigger.split(" ");for(const j of O)if(j==="click")re.on(this._element,this.constructor.eventName("click"),this._config.selector,le=>{const ke=this._initializeOnDelegatedTarget(le);ke._activeTrigger[Na]=!(ke._isShown()&&ke._activeTrigger[Na]),ke.toggle()});else if(j!=="manual"){const le=j===Yl?this.constructor.eventName("mouseenter"):this.constructor.eventName("focusin"),ke=j===Yl?this.constructor.eventName("mouseleave"):this.constructor.eventName("focusout");re.on(this._element,le,this._config.selector,Pe=>{const ct=this._initializeOnDelegatedTarget(Pe);ct._activeTrigger[Pe.type==="focusin"?zs:Yl]=!0,ct._enter()}),re.on(this._element,ke,this._config.selector,Pe=>{const ct=this._initializeOnDelegatedTarget(Pe);ct._activeTrigger[Pe.type==="focusout"?zs:Yl]=ct._element.contains(Pe.relatedTarget),ct._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},re.on(this._element.closest(La),Rf,this._hideModalHandler)}_fixTitle(){const O=this._element.getAttribute("title");O&&(this._element.getAttribute("aria-label")||this._element.textContent.trim()||this._element.setAttribute("aria-label",O),this._element.setAttribute("data-bs-original-title",O),this._element.removeAttribute("title"))}_enter(){this._isShown()||this._isHovered?this._isHovered=!0:(this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show))}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(O,j){clearTimeout(this._timeout),this._timeout=setTimeout(O,j)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(O){const j=$e.getDataAttributes(this._element);for(const le of Object.keys(j))Qc.has(le)&&delete j[le];return O={...j,...typeof O=="object"&&O?O:{}},O=this._mergeConfigObj(O),O=this._configAfterMerge(O),this._typeCheckConfig(O),O}_configAfterMerge(O){return O.container=O.container===!1?document.body:u(O.container),typeof O.delay=="number"&&(O.delay={show:O.delay,hide:O.delay}),typeof O.title=="number"&&(O.title=O.title.toString()),typeof O.content=="number"&&(O.content=O.content.toString()),O}_getDelegateConfig(){const O={};for(const[j,le]of Object.entries(this._config))this.constructor.Default[j]!==le&&(O[j]=le);return O.selector=!1,O.trigger="manual",O}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(O){return this.each(function(){const j=Ia.getOrCreateInstance(this,O);if(typeof O=="string"){if(j[O]===void 0)throw new TypeError(`No method named "${O}"`);j[O]()}})}}P(Ia);const Ld=".popover-header",Zp=".popover-body",Kp={...Ia.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},za={...Ia.DefaultType,content:"(null|string|element|function)"};class Lr extends Ia{static get Default(){return Kp}static get DefaultType(){return za}static get NAME(){return"popover"}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{[Ld]:this._getTitle(),[Zp]:this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(O){return this.each(function(){const j=Lr.getOrCreateInstance(this,O);if(typeof O=="string"){if(j[O]===void 0)throw new TypeError(`No method named "${O}"`);j[O]()}})}}P(Lr);const Xi=".bs.scrollspy",Fo=`activate${Xi}`,Ka=`click${Xi}`,Nd=`load${Xi}.data-api`,_o="active",Id="[href]",zd=".nav-link",hl=`${zd}, .nav-item > ${zd}, .list-group-item`,Of={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},hr={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class dl extends gt{constructor(O,j){super(O,j),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement=getComputedStyle(this._element).overflowY==="visible"?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return Of}static get DefaultType(){return hr}static get NAME(){return"scrollspy"}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const O of this._observableSections.values())this._observer.observe(O)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(O){return O.target=u(O.target)||document.body,O.rootMargin=O.offset?`${O.offset}px 0px -30%`:O.rootMargin,typeof O.threshold=="string"&&(O.threshold=O.threshold.split(",").map(j=>Number.parseFloat(j))),O}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(re.off(this._config.target,Ka),re.on(this._config.target,Ka,Id,O=>{const j=this._observableSections.get(O.target.hash);if(j){O.preventDefault();const le=this._rootElement||window,ke=j.offsetTop-this._element.offsetTop;if(le.scrollTo)return void le.scrollTo({top:ke,behavior:"smooth"});le.scrollTop=ke}}))}_getNewObserver(){const O={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver(j=>this._observerCallback(j),O)}_observerCallback(O){const j=ct=>this._targetLinks.get(`#${ct.target.id}`),le=ct=>{this._previousScrollData.visibleEntryTop=ct.target.offsetTop,this._process(j(ct))},ke=(this._rootElement||document.documentElement).scrollTop,Pe=ke>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=ke;for(const ct of O){if(!ct.isIntersecting){this._activeTarget=null,this._clearActiveClass(j(ct));continue}const It=ct.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(Pe&&It){if(le(ct),!ke)return}else Pe||It||le(ct)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const O=vt.find(Id,this._config.target);for(const j of O){if(!j.hash||m(j))continue;const le=vt.findOne(decodeURI(j.hash),this._element);d(le)&&(this._targetLinks.set(decodeURI(j.hash),j),this._observableSections.set(j.hash,le))}}_process(O){this._activeTarget!==O&&(this._clearActiveClass(this._config.target),this._activeTarget=O,O.classList.add(_o),this._activateParents(O),re.trigger(this._element,Fo,{relatedTarget:O}))}_activateParents(O){if(O.classList.contains("dropdown-item"))vt.findOne(".dropdown-toggle",O.closest(".dropdown")).classList.add(_o);else for(const j of vt.parents(O,".nav, .list-group"))for(const le of vt.prev(j,hl))le.classList.add(_o)}_clearActiveClass(O){O.classList.remove(_o);const j=vt.find(`${Id}.${_o}`,O);for(const le of j)le.classList.remove(_o)}static jQueryInterface(O){return this.each(function(){const j=dl.getOrCreateInstance(this,O);if(typeof O=="string"){if(j[O]===void 0||O.startsWith("_")||O==="constructor")throw new TypeError(`No method named "${O}"`);j[O]()}})}}re.on(window,Nd,()=>{for(const Q of vt.find('[data-bs-spy="scroll"]'))dl.getOrCreateInstance(Q)}),P(dl);const Sc=".bs.tab",eu=`hide${Sc}`,wc=`hidden${Sc}`,tu=`show${Sc}`,Ec=`shown${Sc}`,Qp=`click${Sc}`,Sh=`keydown${Sc}`,Vo=`load${Sc}`,wh="ArrowLeft",pl="ArrowRight",ls="ArrowUp",Pf="ArrowDown",Df="Home",Ud="End",ku="active",Jp="fade",cs="show",Eh=".dropdown-toggle",nu=`:not(${Eh})`,Hu='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',Fu=`.nav-link${nu}, .list-group-item${nu}, [role="tab"]${nu}, ${Hu}`,_i=`.${ku}[data-bs-toggle="tab"], .${ku}[data-bs-toggle="pill"], .${ku}[data-bs-toggle="list"]`;class Go extends gt{constructor(O){super(O),this._parent=this._element.closest('.list-group, .nav, [role="tablist"]'),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),re.on(this._element,Sh,j=>this._keydown(j)))}static get NAME(){return"tab"}show(){const O=this._element;if(this._elemIsActive(O))return;const j=this._getActiveElem(),le=j?re.trigger(j,eu,{relatedTarget:O}):null;re.trigger(O,tu,{relatedTarget:j}).defaultPrevented||le&&le.defaultPrevented||(this._deactivate(j,O),this._activate(O,j))}_activate(O,j){O&&(O.classList.add(ku),this._activate(vt.getElementFromSelector(O)),this._queueCallback(()=>{O.getAttribute("role")==="tab"?(O.removeAttribute("tabindex"),O.setAttribute("aria-selected",!0),this._toggleDropDown(O,!0),re.trigger(O,Ec,{relatedTarget:j})):O.classList.add(cs)},O,O.classList.contains(Jp)))}_deactivate(O,j){O&&(O.classList.remove(ku),O.blur(),this._deactivate(vt.getElementFromSelector(O)),this._queueCallback(()=>{O.getAttribute("role")==="tab"?(O.setAttribute("aria-selected",!1),O.setAttribute("tabindex","-1"),this._toggleDropDown(O,!1),re.trigger(O,wc,{relatedTarget:j})):O.classList.remove(cs)},O,O.classList.contains(Jp)))}_keydown(O){if(![wh,pl,ls,Pf,Df,Ud].includes(O.key))return;O.stopPropagation(),O.preventDefault();const j=this._getChildren().filter(ke=>!m(ke));let le;if([Df,Ud].includes(O.key))le=j[O.key===Df?0:j.length-1];else{const ke=[pl,Pf].includes(O.key);le=G(j,O.target,ke,!0)}le&&(le.focus({preventScroll:!0}),Go.getOrCreateInstance(le).show())}_getChildren(){return vt.find(Fu,this._parent)}_getActiveElem(){return this._getChildren().find(O=>this._elemIsActive(O))||null}_setInitialAttributes(O,j){this._setAttributeIfNotExists(O,"role","tablist");for(const le of j)this._setInitialAttributesOnChild(le)}_setInitialAttributesOnChild(O){O=this._getInnerElement(O);const j=this._elemIsActive(O),le=this._getOuterElement(O);O.setAttribute("aria-selected",j),le!==O&&this._setAttributeIfNotExists(le,"role","presentation"),j||O.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(O,"role","tab"),this._setInitialAttributesOnTargetPanel(O)}_setInitialAttributesOnTargetPanel(O){const j=vt.getElementFromSelector(O);j&&(this._setAttributeIfNotExists(j,"role","tabpanel"),O.id&&this._setAttributeIfNotExists(j,"aria-labelledby",`${O.id}`))}_toggleDropDown(O,j){const le=this._getOuterElement(O);if(!le.classList.contains("dropdown"))return;const ke=(Pe,ct)=>{const It=vt.findOne(Pe,le);It&&It.classList.toggle(ct,j)};ke(Eh,ku),ke(".dropdown-menu",cs),le.setAttribute("aria-expanded",j)}_setAttributeIfNotExists(O,j,le){O.hasAttribute(j)||O.setAttribute(j,le)}_elemIsActive(O){return O.classList.contains(ku)}_getInnerElement(O){return O.matches(Fu)?O:vt.findOne(Fu,O)}_getOuterElement(O){return O.closest(".nav-item, .list-group-item")||O}static jQueryInterface(O){return this.each(function(){const j=Go.getOrCreateInstance(this);if(typeof O=="string"){if(j[O]===void 0||O.startsWith("_")||O==="constructor")throw new TypeError(`No method named "${O}"`);j[O]()}})}}re.on(document,Qp,Hu,function(Q){["A","AREA"].includes(this.tagName)&&Q.preventDefault(),m(this)||Go.getOrCreateInstance(this).show()}),re.on(window,Vo,()=>{for(const Q of vt.find(_i))Go.getOrCreateInstance(Q)}),P(Go);const Ms=".bs.toast",Bd=`mouseover${Ms}`,zy=`mouseout${Ms}`,Th=`focusin${Ms}`,jo=`focusout${Ms}`,iu=`hide${Ms}`,Mh=`hidden${Ms}`,kd=`show${Ms}`,Ah=`shown${Ms}`,Hd="hide",Qa="show",ru="showing",Fd={animation:"boolean",autohide:"boolean",delay:"number"},Lf={animation:!0,autohide:!0,delay:5e3};class su extends gt{constructor(O,j){super(O,j),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return Lf}static get DefaultType(){return Fd}static get NAME(){return"toast"}show(){re.trigger(this._element,kd).defaultPrevented||(this._clearTimeout(),this._config.animation&&this._element.classList.add("fade"),this._element.classList.remove(Hd),x(this._element),this._element.classList.add(Qa,ru),this._queueCallback(()=>{this._element.classList.remove(ru),re.trigger(this._element,Ah),this._maybeScheduleHide()},this._element,this._config.animation))}hide(){this.isShown()&&(re.trigger(this._element,iu).defaultPrevented||(this._element.classList.add(ru),this._queueCallback(()=>{this._element.classList.add(Hd),this._element.classList.remove(ru,Qa),re.trigger(this._element,Mh)},this._element,this._config.animation)))}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(Qa),super.dispose()}isShown(){return this._element.classList.contains(Qa)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(O,j){switch(O.type){case"mouseover":case"mouseout":this._hasMouseInteraction=j;break;case"focusin":case"focusout":this._hasKeyboardInteraction=j}if(j)return void this._clearTimeout();const le=O.relatedTarget;this._element===le||this._element.contains(le)||this._maybeScheduleHide()}_setListeners(){re.on(this._element,Bd,O=>this._onInteraction(O,!0)),re.on(this._element,zy,O=>this._onInteraction(O,!1)),re.on(this._element,Th,O=>this._onInteraction(O,!0)),re.on(this._element,jo,O=>this._onInteraction(O,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(O){return this.each(function(){const j=su.getOrCreateInstance(this,O);if(typeof O=="string"){if(j[O]===void 0)throw new TypeError(`No method named "${O}"`);j[O](this)}})}}return Vt(su),P(su),{Alert:fe,Button:Mt,Carousel:Wi,Collapse:Je,Dropdown:oi,Modal:On,Offcanvas:fl,Popover:Lr,ScrollSpy:dl,Tab:Go,Toast:su,Tooltip:Ia}})})(wx)),wx.exports}Wk();var l0={},Ex={exports:{}};/*!
 * jQuery JavaScript Library v3.7.1
 * https://jquery.com/
 *
 * Copyright OpenJS Foundation and other contributors
 * Released under the MIT license
 * https://jquery.org/license
 *
 * Date: 2023-08-28T13:37Z
 */var Xk=Ex.exports,_3;function Yk(){return _3||(_3=1,(function(n){(function(e,t){n.exports=e.document?t(e,!0):function(i){if(!i.document)throw new Error("jQuery requires a window with a document");return t(i)}})(typeof window<"u"?window:Xk,function(e,t){var i=[],r=Object.getPrototypeOf,s=i.slice,a=i.flat?function(S){return i.flat.call(S)}:function(S){return i.concat.apply([],S)},o=i.push,l=i.indexOf,u={},d=u.toString,m=u.hasOwnProperty,v=m.toString,y=v.call(Object),x={},T=function(R){return typeof R=="function"&&typeof R.nodeType!="number"&&typeof R.item!="function"},E=function(R){return R!=null&&R===R.window},w=e.document,P={type:!0,src:!0,nonce:!0,noModule:!0};function D(S,R,U){U=U||w;var B,q,W=U.createElement("script");if(W.text=S,R)for(B in P)q=R[B]||R.getAttribute&&R.getAttribute(B),q&&W.setAttribute(B,q);U.head.appendChild(W).parentNode.removeChild(W)}function N(S){return S==null?S+"":typeof S=="object"||typeof S=="function"?u[d.call(S)]||"object":typeof S}var G="3.7.1",k=/HTML$/i,M=function(S,R){return new M.fn.init(S,R)};M.fn=M.prototype={jquery:G,constructor:M,length:0,toArray:function(){return s.call(this)},get:function(S){return S==null?s.call(this):S<0?this[S+this.length]:this[S]},pushStack:function(S){var R=M.merge(this.constructor(),S);return R.prevObject=this,R},each:function(S){return M.each(this,S)},map:function(S){return this.pushStack(M.map(this,function(R,U){return S.call(R,U,R)}))},slice:function(){return this.pushStack(s.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(M.grep(this,function(S,R){return(R+1)%2}))},odd:function(){return this.pushStack(M.grep(this,function(S,R){return R%2}))},eq:function(S){var R=this.length,U=+S+(S<0?R:0);return this.pushStack(U>=0&&U<R?[this[U]]:[])},end:function(){return this.prevObject||this.constructor()},push:o,sort:i.sort,splice:i.splice},M.extend=M.fn.extend=function(){var S,R,U,B,q,W,te=arguments[0]||{},Ce=1,_e=arguments.length,He=!1;for(typeof te=="boolean"&&(He=te,te=arguments[Ce]||{},Ce++),typeof te!="object"&&!T(te)&&(te={}),Ce===_e&&(te=this,Ce--);Ce<_e;Ce++)if((S=arguments[Ce])!=null)for(R in S)B=S[R],!(R==="__proto__"||te===B)&&(He&&B&&(M.isPlainObject(B)||(q=Array.isArray(B)))?(U=te[R],q&&!Array.isArray(U)?W=[]:!q&&!M.isPlainObject(U)?W={}:W=U,q=!1,te[R]=M.extend(He,W,B)):B!==void 0&&(te[R]=B));return te},M.extend({expando:"jQuery"+(G+Math.random()).replace(/\D/g,""),isReady:!0,error:function(S){throw new Error(S)},noop:function(){},isPlainObject:function(S){var R,U;return!S||d.call(S)!=="[object Object]"?!1:(R=r(S),R?(U=m.call(R,"constructor")&&R.constructor,typeof U=="function"&&v.call(U)===y):!0)},isEmptyObject:function(S){var R;for(R in S)return!1;return!0},globalEval:function(S,R,U){D(S,{nonce:R&&R.nonce},U)},each:function(S,R){var U,B=0;if($(S))for(U=S.length;B<U&&R.call(S[B],B,S[B])!==!1;B++);else for(B in S)if(R.call(S[B],B,S[B])===!1)break;return S},text:function(S){var R,U="",B=0,q=S.nodeType;if(!q)for(;R=S[B++];)U+=M.text(R);return q===1||q===11?S.textContent:q===9?S.documentElement.textContent:q===3||q===4?S.nodeValue:U},makeArray:function(S,R){var U=R||[];return S!=null&&($(Object(S))?M.merge(U,typeof S=="string"?[S]:S):o.call(U,S)),U},inArray:function(S,R,U){return R==null?-1:l.call(R,S,U)},isXMLDoc:function(S){var R=S&&S.namespaceURI,U=S&&(S.ownerDocument||S).documentElement;return!k.test(R||U&&U.nodeName||"HTML")},merge:function(S,R){for(var U=+R.length,B=0,q=S.length;B<U;B++)S[q++]=R[B];return S.length=q,S},grep:function(S,R,U){for(var B,q=[],W=0,te=S.length,Ce=!U;W<te;W++)B=!R(S[W],W),B!==Ce&&q.push(S[W]);return q},map:function(S,R,U){var B,q,W=0,te=[];if($(S))for(B=S.length;W<B;W++)q=R(S[W],W,U),q!=null&&te.push(q);else for(W in S)q=R(S[W],W,U),q!=null&&te.push(q);return a(te)},guid:1,support:x}),typeof Symbol=="function"&&(M.fn[Symbol.iterator]=i[Symbol.iterator]),M.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(S,R){u["[object "+R+"]"]=R.toLowerCase()});function $(S){var R=!!S&&"length"in S&&S.length,U=N(S);return T(S)||E(S)?!1:U==="array"||R===0||typeof R=="number"&&R>0&&R-1 in S}function V(S,R){return S.nodeName&&S.nodeName.toLowerCase()===R.toLowerCase()}var H=i.pop,ee=i.sort,pe=i.splice,ae="[\\x20\\t\\r\\n\\f]",ye=new RegExp("^"+ae+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ae+"+$","g");M.contains=function(S,R){var U=R&&R.parentNode;return S===U||!!(U&&U.nodeType===1&&(S.contains?S.contains(U):S.compareDocumentPosition&&S.compareDocumentPosition(U)&16))};var Te=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g;function J(S,R){return R?S==="\0"?"":S.slice(0,-1)+"\\"+S.charCodeAt(S.length-1).toString(16)+" ":"\\"+S}M.escapeSelector=function(S){return(S+"").replace(Te,J)};var de=w,he=o;(function(){var S,R,U,B,q,W=he,te,Ce,_e,He,ft,bt=M.expando,tt=0,Ft=0,Wn=mo(),Ei=mo(),Kn=mo(),es=mo(),ss=function(ge,Ie){return ge===Ie&&(q=!0),0},ms="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",Xa="(?:\\\\[\\da-fA-F]{1,6}"+ae+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",Li="\\["+ae+"*("+Xa+")(?:"+ae+"*([*^$|!~]?=)"+ae+`*(?:'((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)"|(`+Xa+"))|)"+ae+"*\\]",Wl=":("+Xa+`)(?:\\((('((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)")|((?:\\\\.|[^\\\\()[\\]]|`+Li+")*)|.*)\\)|)",yi=new RegExp(ae+"+","g"),Qi=new RegExp("^"+ae+"*,"+ae+"*"),Bo=new RegExp("^"+ae+"*([>+~]|"+ae+")"+ae+"*"),cl=new RegExp(ae+"|>"),gs=new RegExp(Wl),ia=new RegExp("^"+Xa+"$"),Is={ID:new RegExp("^#("+Xa+")"),CLASS:new RegExp("^\\.("+Xa+")"),TAG:new RegExp("^("+Xa+"|[*])"),ATTR:new RegExp("^"+Li),PSEUDO:new RegExp("^"+Wl),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ae+"*(even|odd|(([+-]|)(\\d*)n|)"+ae+"*(?:([+-]|)"+ae+"*(\\d+)|))"+ae+"*\\)|)","i"),bool:new RegExp("^(?:"+ms+")$","i"),needsContext:new RegExp("^"+ae+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ae+"*((?:-\\d)?\\d*)"+ae+"*\\)|)(?=[^-]|$)","i")},mr=/^(?:input|select|textarea|button)$/i,Ya=/^h\d$/i,_a=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ko=/[+~]/,Pa=new RegExp("\\\\[\\da-fA-F]{1,6}"+ae+"?|\\\\([^\\r\\n\\f])","g"),po=function(ge,Ie){var We="0x"+ge.slice(1)-65536;return Ie||(We<0?String.fromCharCode(We+65536):String.fromCharCode(We>>10|55296,We&1023|56320))},wf=function(){Ji()},yh=ul(function(ge){return ge.disabled===!0&&V(ge,"fieldset")},{dir:"parentNode",next:"legend"});function ba(){try{return te.activeElement}catch{}}try{W.apply(i=s.call(de.childNodes),de.childNodes),i[de.childNodes.length].nodeType}catch{W={apply:function(Ie,We){he.apply(Ie,s.call(We))},call:function(Ie){he.apply(Ie,s.call(arguments,1))}}}function oi(ge,Ie,We,st){var _t,Yt,pn,un,on,vi,Vn,Bn=Ie&&Ie.ownerDocument,Gn=Ie?Ie.nodeType:9;if(We=We||[],typeof ge!="string"||!ge||Gn!==1&&Gn!==9&&Gn!==11)return We;if(!st&&(Ji(Ie),Ie=Ie||te,_e)){if(Gn!==11&&(on=_a.exec(ge)))if(_t=on[1]){if(Gn===9)if(pn=Ie.getElementById(_t)){if(pn.id===_t)return W.call(We,pn),We}else return We;else if(Bn&&(pn=Bn.getElementById(_t))&&oi.contains(Ie,pn)&&pn.id===_t)return W.call(We,pn),We}else{if(on[2])return W.apply(We,Ie.getElementsByTagName(ge)),We;if((_t=on[3])&&Ie.getElementsByClassName)return W.apply(We,Ie.getElementsByClassName(_t)),We}if(!es[ge+" "]&&(!He||!He.test(ge))){if(Vn=ge,Bn=Ie,Gn===1&&(cl.test(ge)||Bo.test(ge))){for(Bn=ko.test(ge)&&Xl(Ie.parentNode)||Ie,(Bn!=Ie||!x.scope)&&((un=Ie.getAttribute("id"))?un=M.escapeSelector(un):Ie.setAttribute("id",un=bt)),vi=Lu(ge),Yt=vi.length;Yt--;)vi[Yt]=(un?"#"+un:":scope")+" "+Nu(vi[Yt]);Vn=vi.join(",")}try{return W.apply(We,Bn.querySelectorAll(Vn)),We}catch{es(ge,!0)}finally{un===bt&&Ie.removeAttribute("id")}}}return Af(ge.replace(ye,"$1"),Ie,We,st)}function mo(){var ge=[];function Ie(We,st){return ge.push(We+" ")>R.cacheLength&&delete Ie[ge.shift()],Ie[We+" "]=st}return Ie}function Da(ge){return ge[bt]=!0,ge}function go(ge){var Ie=te.createElement("fieldset");try{return!!ge(Ie)}catch{return!1}finally{Ie.parentNode&&Ie.parentNode.removeChild(Ie),Ie=null}}function Ef(ge){return function(Ie){return V(Ie,"input")&&Ie.type===ge}}function Tf(ge){return function(Ie){return(V(Ie,"input")||V(Ie,"button"))&&Ie.type===ge}}function Yc(ge){return function(Ie){return"form"in Ie?Ie.parentNode&&Ie.disabled===!1?"label"in Ie?"label"in Ie.parentNode?Ie.parentNode.disabled===ge:Ie.disabled===ge:Ie.isDisabled===ge||Ie.isDisabled!==!ge&&yh(Ie)===ge:Ie.disabled===ge:"label"in Ie?Ie.disabled===ge:!1}}function ra(ge){return Da(function(Ie){return Ie=+Ie,Da(function(We,st){for(var _t,Yt=ge([],We.length,Ie),pn=Yt.length;pn--;)We[_t=Yt[pn]]&&(We[_t]=!(st[_t]=We[_t]))})})}function Xl(ge){return ge&&typeof ge.getElementsByTagName<"u"&&ge}function Ji(ge){var Ie,We=ge?ge.ownerDocument||ge:de;return We==te||We.nodeType!==9||!We.documentElement||(te=We,Ce=te.documentElement,_e=!M.isXMLDoc(te),ft=Ce.matches||Ce.webkitMatchesSelector||Ce.msMatchesSelector,Ce.msMatchesSelector&&de!=te&&(Ie=te.defaultView)&&Ie.top!==Ie&&Ie.addEventListener("unload",wf),x.getById=go(function(st){return Ce.appendChild(st).id=M.expando,!te.getElementsByName||!te.getElementsByName(M.expando).length}),x.disconnectedMatch=go(function(st){return ft.call(st,"*")}),x.scope=go(function(){return te.querySelectorAll(":scope")}),x.cssHas=go(function(){try{return te.querySelector(":has(*,:jqfake)"),!1}catch{return!0}}),x.getById?(R.filter.ID=function(st){var _t=st.replace(Pa,po);return function(Yt){return Yt.getAttribute("id")===_t}},R.find.ID=function(st,_t){if(typeof _t.getElementById<"u"&&_e){var Yt=_t.getElementById(st);return Yt?[Yt]:[]}}):(R.filter.ID=function(st){var _t=st.replace(Pa,po);return function(Yt){var pn=typeof Yt.getAttributeNode<"u"&&Yt.getAttributeNode("id");return pn&&pn.value===_t}},R.find.ID=function(st,_t){if(typeof _t.getElementById<"u"&&_e){var Yt,pn,un,on=_t.getElementById(st);if(on){if(Yt=on.getAttributeNode("id"),Yt&&Yt.value===st)return[on];for(un=_t.getElementsByName(st),pn=0;on=un[pn++];)if(Yt=on.getAttributeNode("id"),Yt&&Yt.value===st)return[on]}return[]}}),R.find.TAG=function(st,_t){return typeof _t.getElementsByTagName<"u"?_t.getElementsByTagName(st):_t.querySelectorAll(st)},R.find.CLASS=function(st,_t){if(typeof _t.getElementsByClassName<"u"&&_e)return _t.getElementsByClassName(st)},He=[],go(function(st){var _t;Ce.appendChild(st).innerHTML="<a id='"+bt+"' href='' disabled='disabled'></a><select id='"+bt+"-\r\\' disabled='disabled'><option selected=''></option></select>",st.querySelectorAll("[selected]").length||He.push("\\["+ae+"*(?:value|"+ms+")"),st.querySelectorAll("[id~="+bt+"-]").length||He.push("~="),st.querySelectorAll("a#"+bt+"+*").length||He.push(".#.+[+~]"),st.querySelectorAll(":checked").length||He.push(":checked"),_t=te.createElement("input"),_t.setAttribute("type","hidden"),st.appendChild(_t).setAttribute("name","D"),Ce.appendChild(st).disabled=!0,st.querySelectorAll(":disabled").length!==2&&He.push(":enabled",":disabled"),_t=te.createElement("input"),_t.setAttribute("name",""),st.appendChild(_t),st.querySelectorAll("[name='']").length||He.push("\\["+ae+"*name"+ae+"*="+ae+`*(?:''|"")`)}),x.cssHas||He.push(":has"),He=He.length&&new RegExp(He.join("|")),ss=function(st,_t){if(st===_t)return q=!0,0;var Yt=!st.compareDocumentPosition-!_t.compareDocumentPosition;return Yt||(Yt=(st.ownerDocument||st)==(_t.ownerDocument||_t)?st.compareDocumentPosition(_t):1,Yt&1||!x.sortDetached&&_t.compareDocumentPosition(st)===Yt?st===te||st.ownerDocument==de&&oi.contains(de,st)?-1:_t===te||_t.ownerDocument==de&&oi.contains(de,_t)?1:B?l.call(B,st)-l.call(B,_t):0:Yt&4?-1:1)}),te}oi.matches=function(ge,Ie){return oi(ge,null,null,Ie)},oi.matchesSelector=function(ge,Ie){if(Ji(ge),_e&&!es[Ie+" "]&&(!He||!He.test(Ie)))try{var We=ft.call(ge,Ie);if(We||x.disconnectedMatch||ge.document&&ge.document.nodeType!==11)return We}catch{es(Ie,!0)}return oi(Ie,te,null,[ge]).length>0},oi.contains=function(ge,Ie){return(ge.ownerDocument||ge)!=te&&Ji(ge),M.contains(ge,Ie)},oi.attr=function(ge,Ie){(ge.ownerDocument||ge)!=te&&Ji(ge);var We=R.attrHandle[Ie.toLowerCase()],st=We&&m.call(R.attrHandle,Ie.toLowerCase())?We(ge,Ie,!_e):void 0;return st!==void 0?st:ge.getAttribute(Ie)},oi.error=function(ge){throw new Error("Syntax error, unrecognized expression: "+ge)},M.uniqueSort=function(ge){var Ie,We=[],st=0,_t=0;if(q=!x.sortStable,B=!x.sortStable&&s.call(ge,0),ee.call(ge,ss),q){for(;Ie=ge[_t++];)Ie===ge[_t]&&(st=We.push(_t));for(;st--;)pe.call(ge,We[st],1)}return B=null,ge},M.fn.uniqueSort=function(){return this.pushStack(M.uniqueSort(s.apply(this)))},R=M.expr={cacheLength:50,createPseudo:Da,match:Is,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(ge){return ge[1]=ge[1].replace(Pa,po),ge[3]=(ge[3]||ge[4]||ge[5]||"").replace(Pa,po),ge[2]==="~="&&(ge[3]=" "+ge[3]+" "),ge.slice(0,4)},CHILD:function(ge){return ge[1]=ge[1].toLowerCase(),ge[1].slice(0,3)==="nth"?(ge[3]||oi.error(ge[0]),ge[4]=+(ge[4]?ge[5]+(ge[6]||1):2*(ge[3]==="even"||ge[3]==="odd")),ge[5]=+(ge[7]+ge[8]||ge[3]==="odd")):ge[3]&&oi.error(ge[0]),ge},PSEUDO:function(ge){var Ie,We=!ge[6]&&ge[2];return Is.CHILD.test(ge[0])?null:(ge[3]?ge[2]=ge[4]||ge[5]||"":We&&gs.test(We)&&(Ie=Lu(We,!0))&&(Ie=We.indexOf(")",We.length-Ie)-We.length)&&(ge[0]=ge[0].slice(0,Ie),ge[2]=We.slice(0,Ie)),ge.slice(0,3))}},filter:{TAG:function(ge){var Ie=ge.replace(Pa,po).toLowerCase();return ge==="*"?function(){return!0}:function(We){return V(We,Ie)}},CLASS:function(ge){var Ie=Wn[ge+" "];return Ie||(Ie=new RegExp("(^|"+ae+")"+ge+"("+ae+"|$)"))&&Wn(ge,function(We){return Ie.test(typeof We.className=="string"&&We.className||typeof We.getAttribute<"u"&&We.getAttribute("class")||"")})},ATTR:function(ge,Ie,We){return function(st){var _t=oi.attr(st,ge);return _t==null?Ie==="!=":Ie?(_t+="",Ie==="="?_t===We:Ie==="!="?_t!==We:Ie==="^="?We&&_t.indexOf(We)===0:Ie==="*="?We&&_t.indexOf(We)>-1:Ie==="$="?We&&_t.slice(-We.length)===We:Ie==="~="?(" "+_t.replace(yi," ")+" ").indexOf(We)>-1:Ie==="|="?_t===We||_t.slice(0,We.length+1)===We+"-":!1):!0}},CHILD:function(ge,Ie,We,st,_t){var Yt=ge.slice(0,3)!=="nth",pn=ge.slice(-4)!=="last",un=Ie==="of-type";return st===1&&_t===0?function(on){return!!on.parentNode}:function(on,vi,Vn){var Bn,Gn,On,Qn,qs,Dr=Yt!==pn?"nextSibling":"previousSibling",Ts=on.parentNode,vs=un&&on.nodeName.toLowerCase(),Ho=!Vn&&!un,os=!1;if(Ts){if(Yt){for(;Dr;){for(On=on;On=On[Dr];)if(un?V(On,vs):On.nodeType===1)return!1;qs=Dr=ge==="only"&&!qs&&"nextSibling"}return!0}if(qs=[pn?Ts.firstChild:Ts.lastChild],pn&&Ho){for(Gn=Ts[bt]||(Ts[bt]={}),Bn=Gn[ge]||[],Qn=Bn[0]===tt&&Bn[1],os=Qn&&Bn[2],On=Qn&&Ts.childNodes[Qn];On=++Qn&&On&&On[Dr]||(os=Qn=0)||qs.pop();)if(On.nodeType===1&&++os&&On===on){Gn[ge]=[tt,Qn,os];break}}else if(Ho&&(Gn=on[bt]||(on[bt]={}),Bn=Gn[ge]||[],Qn=Bn[0]===tt&&Bn[1],os=Qn),os===!1)for(;(On=++Qn&&On&&On[Dr]||(os=Qn=0)||qs.pop())&&!((un?V(On,vs):On.nodeType===1)&&++os&&(Ho&&(Gn=On[bt]||(On[bt]={}),Gn[ge]=[tt,os]),On===on)););return os-=_t,os===st||os%st===0&&os/st>=0}}},PSEUDO:function(ge,Ie){var We,st=R.pseudos[ge]||R.setFilters[ge.toLowerCase()]||oi.error("unsupported pseudo: "+ge);return st[bt]?st(Ie):st.length>1?(We=[ge,ge,"",Ie],R.setFilters.hasOwnProperty(ge.toLowerCase())?Da(function(_t,Yt){for(var pn,un=st(_t,Ie),on=un.length;on--;)pn=l.call(_t,un[on]),_t[pn]=!(Yt[pn]=un[on])}):function(_t){return st(_t,0,We)}):st}},pseudos:{not:Da(function(ge){var Ie=[],We=[],st=Iu(ge.replace(ye,"$1"));return st[bt]?Da(function(_t,Yt,pn,un){for(var on,vi=st(_t,null,un,[]),Vn=_t.length;Vn--;)(on=vi[Vn])&&(_t[Vn]=!(Yt[Vn]=on))}):function(_t,Yt,pn){return Ie[0]=_t,st(Ie,null,pn,We),Ie[0]=null,!We.pop()}}),has:Da(function(ge){return function(Ie){return oi(ge,Ie).length>0}}),contains:Da(function(ge){return ge=ge.replace(Pa,po),function(Ie){return(Ie.textContent||M.text(Ie)).indexOf(ge)>-1}}),lang:Da(function(ge){return ia.test(ge||"")||oi.error("unsupported lang: "+ge),ge=ge.replace(Pa,po).toLowerCase(),function(Ie){var We;do if(We=_e?Ie.lang:Ie.getAttribute("xml:lang")||Ie.getAttribute("lang"))return We=We.toLowerCase(),We===ge||We.indexOf(ge+"-")===0;while((Ie=Ie.parentNode)&&Ie.nodeType===1);return!1}}),target:function(ge){var Ie=e.location&&e.location.hash;return Ie&&Ie.slice(1)===ge.id},root:function(ge){return ge===Ce},focus:function(ge){return ge===ba()&&te.hasFocus()&&!!(ge.type||ge.href||~ge.tabIndex)},enabled:Yc(!1),disabled:Yc(!0),checked:function(ge){return V(ge,"input")&&!!ge.checked||V(ge,"option")&&!!ge.selected},selected:function(ge){return ge.parentNode&&ge.parentNode.selectedIndex,ge.selected===!0},empty:function(ge){for(ge=ge.firstChild;ge;ge=ge.nextSibling)if(ge.nodeType<6)return!1;return!0},parent:function(ge){return!R.pseudos.empty(ge)},header:function(ge){return Ya.test(ge.nodeName)},input:function(ge){return mr.test(ge.nodeName)},button:function(ge){return V(ge,"input")&&ge.type==="button"||V(ge,"button")},text:function(ge){var Ie;return V(ge,"input")&&ge.type==="text"&&((Ie=ge.getAttribute("type"))==null||Ie.toLowerCase()==="text")},first:ra(function(){return[0]}),last:ra(function(ge,Ie){return[Ie-1]}),eq:ra(function(ge,Ie,We){return[We<0?We+Ie:We]}),even:ra(function(ge,Ie){for(var We=0;We<Ie;We+=2)ge.push(We);return ge}),odd:ra(function(ge,Ie){for(var We=1;We<Ie;We+=2)ge.push(We);return ge}),lt:ra(function(ge,Ie,We){var st;for(We<0?st=We+Ie:We>Ie?st=Ie:st=We;--st>=0;)ge.push(st);return ge}),gt:ra(function(ge,Ie,We){for(var st=We<0?We+Ie:We;++st<Ie;)ge.push(st);return ge})}},R.pseudos.nth=R.pseudos.eq;for(S in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})R.pseudos[S]=Ef(S);for(S in{submit:!0,reset:!0})R.pseudos[S]=Tf(S);function Mf(){}Mf.prototype=R.filters=R.pseudos,R.setFilters=new Mf;function Lu(ge,Ie){var We,st,_t,Yt,pn,un,on,vi=Ei[ge+" "];if(vi)return Ie?0:vi.slice(0);for(pn=ge,un=[],on=R.preFilter;pn;){(!We||(st=Qi.exec(pn)))&&(st&&(pn=pn.slice(st[0].length)||pn),un.push(_t=[])),We=!1,(st=Bo.exec(pn))&&(We=st.shift(),_t.push({value:We,type:st[0].replace(ye," ")}),pn=pn.slice(We.length));for(Yt in R.filter)(st=Is[Yt].exec(pn))&&(!on[Yt]||(st=on[Yt](st)))&&(We=st.shift(),_t.push({value:We,type:Yt,matches:st}),pn=pn.slice(We.length));if(!We)break}return Ie?pn.length:pn?oi.error(ge):Ei(ge,un).slice(0)}function Nu(ge){for(var Ie=0,We=ge.length,st="";Ie<We;Ie++)st+=ge[Ie].value;return st}function ul(ge,Ie,We){var st=Ie.dir,_t=Ie.next,Yt=_t||st,pn=We&&Yt==="parentNode",un=Ft++;return Ie.first?function(on,vi,Vn){for(;on=on[st];)if(on.nodeType===1||pn)return ge(on,vi,Vn);return!1}:function(on,vi,Vn){var Bn,Gn,On=[tt,un];if(Vn){for(;on=on[st];)if((on.nodeType===1||pn)&&ge(on,vi,Vn))return!0}else for(;on=on[st];)if(on.nodeType===1||pn)if(Gn=on[bt]||(on[bt]={}),_t&&V(on,_t))on=on[st]||on;else{if((Bn=Gn[Yt])&&Bn[0]===tt&&Bn[1]===un)return On[2]=Bn[2];if(Gn[Yt]=On,On[2]=ge(on,vi,Vn))return!0}return!1}}function vo(ge){return ge.length>1?function(Ie,We,st){for(var _t=ge.length;_t--;)if(!ge[_t](Ie,We,st))return!1;return!0}:ge[0]}function _h(ge,Ie,We){for(var st=0,_t=Ie.length;st<_t;st++)oi(ge,Ie[st],We);return We}function as(ge,Ie,We,st,_t){for(var Yt,pn=[],un=0,on=ge.length,vi=Ie!=null;un<on;un++)(Yt=ge[un])&&(!We||We(Yt,st,_t))&&(pn.push(Yt),vi&&Ie.push(un));return pn}function xa(ge,Ie,We,st,_t,Yt){return st&&!st[bt]&&(st=xa(st)),_t&&!_t[bt]&&(_t=xa(_t,Yt)),Da(function(pn,un,on,vi){var Vn,Bn,Gn,On,Qn=[],qs=[],Dr=un.length,Ts=pn||_h(Ie||"*",on.nodeType?[on]:on,[]),vs=ge&&(pn||!Ie)?as(Ts,Qn,ge,on,vi):Ts;if(We?(On=_t||(pn?ge:Dr||st)?[]:un,We(vs,On,on,vi)):On=vs,st)for(Vn=as(On,qs),st(Vn,[],on,vi),Bn=Vn.length;Bn--;)(Gn=Vn[Bn])&&(On[qs[Bn]]=!(vs[qs[Bn]]=Gn));if(pn){if(_t||ge){if(_t){for(Vn=[],Bn=On.length;Bn--;)(Gn=On[Bn])&&Vn.push(vs[Bn]=Gn);_t(null,On=[],Vn,vi)}for(Bn=On.length;Bn--;)(Gn=On[Bn])&&(Vn=_t?l.call(pn,Gn):Qn[Bn])>-1&&(pn[Vn]=!(un[Vn]=Gn))}}else On=as(On===un?On.splice(Dr,On.length):On),_t?_t(null,un,On,vi):W.apply(un,On)})}function Es(ge){for(var Ie,We,st,_t=ge.length,Yt=R.relative[ge[0].type],pn=Yt||R.relative[" "],un=Yt?1:0,on=ul(function(Bn){return Bn===Ie},pn,!0),vi=ul(function(Bn){return l.call(Ie,Bn)>-1},pn,!0),Vn=[function(Bn,Gn,On){var Qn=!Yt&&(On||Gn!=U)||((Ie=Gn).nodeType?on(Bn,Gn,On):vi(Bn,Gn,On));return Ie=null,Qn}];un<_t;un++)if(We=R.relative[ge[un].type])Vn=[ul(vo(Vn),We)];else{if(We=R.filter[ge[un].type].apply(null,ge[un].matches),We[bt]){for(st=++un;st<_t&&!R.relative[ge[st].type];st++);return xa(un>1&&vo(Vn),un>1&&Nu(ge.slice(0,un-1).concat({value:ge[un-2].type===" "?"*":""})).replace(ye,"$1"),We,un<st&&Es(ge.slice(un,st)),st<_t&&Es(ge=ge.slice(st)),st<_t&&Nu(ge))}Vn.push(We)}return vo(Vn)}function Sa(ge,Ie){var We=Ie.length>0,st=ge.length>0,_t=function(Yt,pn,un,on,vi){var Vn,Bn,Gn,On=0,Qn="0",qs=Yt&&[],Dr=[],Ts=U,vs=Yt||st&&R.find.TAG("*",vi),Ho=tt+=Ts==null?1:Math.random()||.1,os=vs.length;for(vi&&(U=pn==te||pn||vi);Qn!==os&&(Vn=vs[Qn])!=null;Qn++){if(st&&Vn){for(Bn=0,!pn&&Vn.ownerDocument!=te&&(Ji(Vn),un=!_e);Gn=ge[Bn++];)if(Gn(Vn,pn||te,un)){W.call(on,Vn);break}vi&&(tt=Ho)}We&&((Vn=!Gn&&Vn)&&On--,Yt&&qs.push(Vn))}if(On+=Qn,We&&Qn!==On){for(Bn=0;Gn=Ie[Bn++];)Gn(qs,Dr,pn,un);if(Yt){if(On>0)for(;Qn--;)qs[Qn]||Dr[Qn]||(Dr[Qn]=H.call(on));Dr=as(Dr)}W.apply(on,Dr),vi&&!Yt&&Dr.length>0&&On+Ie.length>1&&M.uniqueSort(on)}return vi&&(tt=Ho,U=Ts),qs};return We?Da(_t):_t}function Iu(ge,Ie){var We,st=[],_t=[],Yt=Kn[ge+" "];if(!Yt){for(Ie||(Ie=Lu(ge)),We=Ie.length;We--;)Yt=Es(Ie[We]),Yt[bt]?st.push(Yt):_t.push(Yt);Yt=Kn(ge,Sa(_t,st)),Yt.selector=ge}return Yt}function Af(ge,Ie,We,st){var _t,Yt,pn,un,on,vi=typeof ge=="function"&&ge,Vn=!st&&Lu(ge=vi.selector||ge);if(We=We||[],Vn.length===1){if(Yt=Vn[0]=Vn[0].slice(0),Yt.length>2&&(pn=Yt[0]).type==="ID"&&Ie.nodeType===9&&_e&&R.relative[Yt[1].type]){if(Ie=(R.find.ID(pn.matches[0].replace(Pa,po),Ie)||[])[0],Ie)vi&&(Ie=Ie.parentNode);else return We;ge=ge.slice(Yt.shift().value.length)}for(_t=Is.needsContext.test(ge)?0:Yt.length;_t--&&(pn=Yt[_t],!R.relative[un=pn.type]);)if((on=R.find[un])&&(st=on(pn.matches[0].replace(Pa,po),ko.test(Yt[0].type)&&Xl(Ie.parentNode)||Ie))){if(Yt.splice(_t,1),ge=st.length&&Nu(Yt),!ge)return W.apply(We,st),We;break}}return(vi||Iu(ge,Vn))(st,Ie,!_e,We,!Ie||ko.test(ge)&&Xl(Ie.parentNode)||Ie),We}x.sortStable=bt.split("").sort(ss).join("")===bt,Ji(),x.sortDetached=go(function(ge){return ge.compareDocumentPosition(te.createElement("fieldset"))&1}),M.find=oi,M.expr[":"]=M.expr.pseudos,M.unique=M.uniqueSort,oi.compile=Iu,oi.select=Af,oi.setDocument=Ji,oi.tokenize=Lu,oi.escape=M.escapeSelector,oi.getText=M.text,oi.isXML=M.isXMLDoc,oi.selectors=M.expr,oi.support=M.support,oi.uniqueSort=M.uniqueSort})();var Le=function(S,R,U){for(var B=[],q=U!==void 0;(S=S[R])&&S.nodeType!==9;)if(S.nodeType===1){if(q&&M(S).is(U))break;B.push(S)}return B},ne=function(S,R){for(var U=[];S;S=S.nextSibling)S.nodeType===1&&S!==R&&U.push(S);return U},re=M.expr.match.needsContext,ze=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function Ve(S,R,U){return T(R)?M.grep(S,function(B,q){return!!R.call(B,q,B)!==U}):R.nodeType?M.grep(S,function(B){return B===R!==U}):typeof R!="string"?M.grep(S,function(B){return l.call(R,B)>-1!==U}):M.filter(R,S,U)}M.filter=function(S,R,U){var B=R[0];return U&&(S=":not("+S+")"),R.length===1&&B.nodeType===1?M.find.matchesSelector(B,S)?[B]:[]:M.find.matches(S,M.grep(R,function(q){return q.nodeType===1}))},M.fn.extend({find:function(S){var R,U,B=this.length,q=this;if(typeof S!="string")return this.pushStack(M(S).filter(function(){for(R=0;R<B;R++)if(M.contains(q[R],this))return!0}));for(U=this.pushStack([]),R=0;R<B;R++)M.find(S,q[R],U);return B>1?M.uniqueSort(U):U},filter:function(S){return this.pushStack(Ve(this,S||[],!1))},not:function(S){return this.pushStack(Ve(this,S||[],!0))},is:function(S){return!!Ve(this,typeof S=="string"&&re.test(S)?M(S):S||[],!1).length}});var xe,$e=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,Ze=M.fn.init=function(S,R,U){var B,q;if(!S)return this;if(U=U||xe,typeof S=="string")if(S[0]==="<"&&S[S.length-1]===">"&&S.length>=3?B=[null,S,null]:B=$e.exec(S),B&&(B[1]||!R))if(B[1]){if(R=R instanceof M?R[0]:R,M.merge(this,M.parseHTML(B[1],R&&R.nodeType?R.ownerDocument||R:w,!0)),ze.test(B[1])&&M.isPlainObject(R))for(B in R)T(this[B])?this[B](R[B]):this.attr(B,R[B]);return this}else return q=w.getElementById(B[2]),q&&(this[0]=q,this.length=1),this;else return!R||R.jquery?(R||U).find(S):this.constructor(R).find(S);else{if(S.nodeType)return this[0]=S,this.length=1,this;if(T(S))return U.ready!==void 0?U.ready(S):S(M)}return M.makeArray(S,this)};Ze.prototype=M.fn,xe=M(w);var gt=/^(?:parents|prev(?:Until|All))/,yt={children:!0,contents:!0,next:!0,prev:!0};M.fn.extend({has:function(S){var R=M(S,this),U=R.length;return this.filter(function(){for(var B=0;B<U;B++)if(M.contains(this,R[B]))return!0})},closest:function(S,R){var U,B=0,q=this.length,W=[],te=typeof S!="string"&&M(S);if(!re.test(S)){for(;B<q;B++)for(U=this[B];U&&U!==R;U=U.parentNode)if(U.nodeType<11&&(te?te.index(U)>-1:U.nodeType===1&&M.find.matchesSelector(U,S))){W.push(U);break}}return this.pushStack(W.length>1?M.uniqueSort(W):W)},index:function(S){return S?typeof S=="string"?l.call(M(S),this[0]):l.call(this,S.jquery?S[0]:S):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(S,R){return this.pushStack(M.uniqueSort(M.merge(this.get(),M(S,R))))},addBack:function(S){return this.add(S==null?this.prevObject:this.prevObject.filter(S))}});function vt(S,R){for(;(S=S[R])&&S.nodeType!==1;);return S}M.each({parent:function(S){var R=S.parentNode;return R&&R.nodeType!==11?R:null},parents:function(S){return Le(S,"parentNode")},parentsUntil:function(S,R,U){return Le(S,"parentNode",U)},next:function(S){return vt(S,"nextSibling")},prev:function(S){return vt(S,"previousSibling")},nextAll:function(S){return Le(S,"nextSibling")},prevAll:function(S){return Le(S,"previousSibling")},nextUntil:function(S,R,U){return Le(S,"nextSibling",U)},prevUntil:function(S,R,U){return Le(S,"previousSibling",U)},siblings:function(S){return ne((S.parentNode||{}).firstChild,S)},children:function(S){return ne(S.firstChild)},contents:function(S){return S.contentDocument!=null&&r(S.contentDocument)?S.contentDocument:(V(S,"template")&&(S=S.content||S),M.merge([],S.childNodes))}},function(S,R){M.fn[S]=function(U,B){var q=M.map(this,R,U);return S.slice(-5)!=="Until"&&(B=U),B&&typeof B=="string"&&(q=M.filter(B,q)),this.length>1&&(yt[S]||M.uniqueSort(q),gt.test(S)&&q.reverse()),this.pushStack(q)}});var Vt=/[^\x20\t\r\n\f]+/g;function zn(S){var R={};return M.each(S.match(Vt)||[],function(U,B){R[B]=!0}),R}M.Callbacks=function(S){S=typeof S=="string"?zn(S):M.extend({},S);var R,U,B,q,W=[],te=[],Ce=-1,_e=function(){for(q=q||S.once,B=R=!0;te.length;Ce=-1)for(U=te.shift();++Ce<W.length;)W[Ce].apply(U[0],U[1])===!1&&S.stopOnFalse&&(Ce=W.length,U=!1);S.memory||(U=!1),R=!1,q&&(U?W=[]:W="")},He={add:function(){return W&&(U&&!R&&(Ce=W.length-1,te.push(U)),(function ft(bt){M.each(bt,function(tt,Ft){T(Ft)?(!S.unique||!He.has(Ft))&&W.push(Ft):Ft&&Ft.length&&N(Ft)!=="string"&&ft(Ft)})})(arguments),U&&!R&&_e()),this},remove:function(){return M.each(arguments,function(ft,bt){for(var tt;(tt=M.inArray(bt,W,tt))>-1;)W.splice(tt,1),tt<=Ce&&Ce--}),this},has:function(ft){return ft?M.inArray(ft,W)>-1:W.length>0},empty:function(){return W&&(W=[]),this},disable:function(){return q=te=[],W=U="",this},disabled:function(){return!W},lock:function(){return q=te=[],!U&&!R&&(W=U=""),this},locked:function(){return!!q},fireWith:function(ft,bt){return q||(bt=bt||[],bt=[ft,bt.slice?bt.slice():bt],te.push(bt),R||_e()),this},fire:function(){return He.fireWith(this,arguments),this},fired:function(){return!!B}};return He};function An(S){return S}function dn(S){throw S}function fe(S,R,U,B){var q;try{S&&T(q=S.promise)?q.call(S).done(R).fail(U):S&&T(q=S.then)?q.call(S,R,U):R.apply(void 0,[S].slice(B))}catch(W){U.apply(void 0,[W])}}M.extend({Deferred:function(S){var R=[["notify","progress",M.Callbacks("memory"),M.Callbacks("memory"),2],["resolve","done",M.Callbacks("once memory"),M.Callbacks("once memory"),0,"resolved"],["reject","fail",M.Callbacks("once memory"),M.Callbacks("once memory"),1,"rejected"]],U="pending",B={state:function(){return U},always:function(){return q.done(arguments).fail(arguments),this},catch:function(W){return B.then(null,W)},pipe:function(){var W=arguments;return M.Deferred(function(te){M.each(R,function(Ce,_e){var He=T(W[_e[4]])&&W[_e[4]];q[_e[1]](function(){var ft=He&&He.apply(this,arguments);ft&&T(ft.promise)?ft.promise().progress(te.notify).done(te.resolve).fail(te.reject):te[_e[0]+"With"](this,He?[ft]:arguments)})}),W=null}).promise()},then:function(W,te,Ce){var _e=0;function He(ft,bt,tt,Ft){return function(){var Wn=this,Ei=arguments,Kn=function(){var ss,ms;if(!(ft<_e)){if(ss=tt.apply(Wn,Ei),ss===bt.promise())throw new TypeError("Thenable self-resolution");ms=ss&&(typeof ss=="object"||typeof ss=="function")&&ss.then,T(ms)?Ft?ms.call(ss,He(_e,bt,An,Ft),He(_e,bt,dn,Ft)):(_e++,ms.call(ss,He(_e,bt,An,Ft),He(_e,bt,dn,Ft),He(_e,bt,An,bt.notifyWith))):(tt!==An&&(Wn=void 0,Ei=[ss]),(Ft||bt.resolveWith)(Wn,Ei))}},es=Ft?Kn:function(){try{Kn()}catch(ss){M.Deferred.exceptionHook&&M.Deferred.exceptionHook(ss,es.error),ft+1>=_e&&(tt!==dn&&(Wn=void 0,Ei=[ss]),bt.rejectWith(Wn,Ei))}};ft?es():(M.Deferred.getErrorHook?es.error=M.Deferred.getErrorHook():M.Deferred.getStackHook&&(es.error=M.Deferred.getStackHook()),e.setTimeout(es))}}return M.Deferred(function(ft){R[0][3].add(He(0,ft,T(Ce)?Ce:An,ft.notifyWith)),R[1][3].add(He(0,ft,T(W)?W:An)),R[2][3].add(He(0,ft,T(te)?te:dn))}).promise()},promise:function(W){return W!=null?M.extend(W,B):B}},q={};return M.each(R,function(W,te){var Ce=te[2],_e=te[5];B[te[1]]=Ce.add,_e&&Ce.add(function(){U=_e},R[3-W][2].disable,R[3-W][3].disable,R[0][2].lock,R[0][3].lock),Ce.add(te[3].fire),q[te[0]]=function(){return q[te[0]+"With"](this===q?void 0:this,arguments),this},q[te[0]+"With"]=Ce.fireWith}),B.promise(q),S&&S.call(q,q),q},when:function(S){var R=arguments.length,U=R,B=Array(U),q=s.call(arguments),W=M.Deferred(),te=function(Ce){return function(_e){B[Ce]=this,q[Ce]=arguments.length>1?s.call(arguments):_e,--R||W.resolveWith(B,q)}};if(R<=1&&(fe(S,W.done(te(U)).resolve,W.reject,!R),W.state()==="pending"||T(q[U]&&q[U].then)))return W.then();for(;U--;)fe(q[U],te(U),W.reject);return W.promise()}});var Et=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;M.Deferred.exceptionHook=function(S,R){e.console&&e.console.warn&&S&&Et.test(S.name)&&e.console.warn("jQuery.Deferred exception: "+S.message,S.stack,R)},M.readyException=function(S){e.setTimeout(function(){throw S})};var Mt=M.Deferred();M.fn.ready=function(S){return Mt.then(S).catch(function(R){M.readyException(R)}),this},M.extend({isReady:!1,readyWait:1,ready:function(S){(S===!0?--M.readyWait:M.isReady)||(M.isReady=!0,!(S!==!0&&--M.readyWait>0)&&Mt.resolveWith(w,[M]))}}),M.ready.then=Mt.then;function At(){w.removeEventListener("DOMContentLoaded",At),e.removeEventListener("load",At),M.ready()}w.readyState==="complete"||w.readyState!=="loading"&&!w.documentElement.doScroll?e.setTimeout(M.ready):(w.addEventListener("DOMContentLoaded",At),e.addEventListener("load",At));var mt=function(S,R,U,B,q,W,te){var Ce=0,_e=S.length,He=U==null;if(N(U)==="object"){q=!0;for(Ce in U)mt(S,R,Ce,U[Ce],!0,W,te)}else if(B!==void 0&&(q=!0,T(B)||(te=!0),He&&(te?(R.call(S,B),R=null):(He=R,R=function(ft,bt,tt){return He.call(M(ft),tt)})),R))for(;Ce<_e;Ce++)R(S[Ce],U,te?B:B.call(S[Ce],Ce,R(S[Ce],U)));return q?S:He?R.call(S):_e?R(S[0],U):W},Kt=/^-ms-/,Ot=/-([a-z])/g;function Qt(S,R){return R.toUpperCase()}function bn(S){return S.replace(Kt,"ms-").replace(Ot,Qt)}var ie=function(S){return S.nodeType===1||S.nodeType===9||!+S.nodeType};function Z(){this.expando=M.expando+Z.uid++}Z.uid=1,Z.prototype={cache:function(S){var R=S[this.expando];return R||(R={},ie(S)&&(S.nodeType?S[this.expando]=R:Object.defineProperty(S,this.expando,{value:R,configurable:!0}))),R},set:function(S,R,U){var B,q=this.cache(S);if(typeof R=="string")q[bn(R)]=U;else for(B in R)q[bn(B)]=R[B];return q},get:function(S,R){return R===void 0?this.cache(S):S[this.expando]&&S[this.expando][bn(R)]},access:function(S,R,U){return R===void 0||R&&typeof R=="string"&&U===void 0?this.get(S,R):(this.set(S,R,U),U!==void 0?U:R)},remove:function(S,R){var U,B=S[this.expando];if(B!==void 0){if(R!==void 0)for(Array.isArray(R)?R=R.map(bn):(R=bn(R),R=R in B?[R]:R.match(Vt)||[]),U=R.length;U--;)delete B[R[U]];(R===void 0||M.isEmptyObject(B))&&(S.nodeType?S[this.expando]=void 0:delete S[this.expando])}},hasData:function(S){var R=S[this.expando];return R!==void 0&&!M.isEmptyObject(R)}};var be=new Z,Ge=new Z,ht=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,rt=/[A-Z]/g;function qt(S){return S==="true"?!0:S==="false"?!1:S==="null"?null:S===+S+""?+S:ht.test(S)?JSON.parse(S):S}function jt(S,R,U){var B;if(U===void 0&&S.nodeType===1)if(B="data-"+R.replace(rt,"-$&").toLowerCase(),U=S.getAttribute(B),typeof U=="string"){try{U=qt(U)}catch{}Ge.set(S,R,U)}else U=void 0;return U}M.extend({hasData:function(S){return Ge.hasData(S)||be.hasData(S)},data:function(S,R,U){return Ge.access(S,R,U)},removeData:function(S,R){Ge.remove(S,R)},_data:function(S,R,U){return be.access(S,R,U)},_removeData:function(S,R){be.remove(S,R)}}),M.fn.extend({data:function(S,R){var U,B,q,W=this[0],te=W&&W.attributes;if(S===void 0){if(this.length&&(q=Ge.get(W),W.nodeType===1&&!be.get(W,"hasDataAttrs"))){for(U=te.length;U--;)te[U]&&(B=te[U].name,B.indexOf("data-")===0&&(B=bn(B.slice(5)),jt(W,B,q[B])));be.set(W,"hasDataAttrs",!0)}return q}return typeof S=="object"?this.each(function(){Ge.set(this,S)}):mt(this,function(Ce){var _e;if(W&&Ce===void 0)return _e=Ge.get(W,S),_e!==void 0||(_e=jt(W,S),_e!==void 0)?_e:void 0;this.each(function(){Ge.set(this,S,Ce)})},null,R,arguments.length>1,null,!0)},removeData:function(S){return this.each(function(){Ge.remove(this,S)})}}),M.extend({queue:function(S,R,U){var B;if(S)return R=(R||"fx")+"queue",B=be.get(S,R),U&&(!B||Array.isArray(U)?B=be.access(S,R,M.makeArray(U)):B.push(U)),B||[]},dequeue:function(S,R){R=R||"fx";var U=M.queue(S,R),B=U.length,q=U.shift(),W=M._queueHooks(S,R),te=function(){M.dequeue(S,R)};q==="inprogress"&&(q=U.shift(),B--),q&&(R==="fx"&&U.unshift("inprogress"),delete W.stop,q.call(S,te,W)),!B&&W&&W.empty.fire()},_queueHooks:function(S,R){var U=R+"queueHooks";return be.get(S,U)||be.access(S,U,{empty:M.Callbacks("once memory").add(function(){be.remove(S,[R+"queue",U])})})}}),M.fn.extend({queue:function(S,R){var U=2;return typeof S!="string"&&(R=S,S="fx",U--),arguments.length<U?M.queue(this[0],S):R===void 0?this:this.each(function(){var B=M.queue(this,S,R);M._queueHooks(this,S),S==="fx"&&B[0]!=="inprogress"&&M.dequeue(this,S)})},dequeue:function(S){return this.each(function(){M.dequeue(this,S)})},clearQueue:function(S){return this.queue(S||"fx",[])},promise:function(S,R){var U,B=1,q=M.Deferred(),W=this,te=this.length,Ce=function(){--B||q.resolveWith(W,[W])};for(typeof S!="string"&&(R=S,S=void 0),S=S||"fx";te--;)U=be.get(W[te],S+"queueHooks"),U&&U.empty&&(B++,U.empty.add(Ce));return Ce(),q.promise(R)}});var tn=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,nn=new RegExp("^(?:([+-])=|)("+tn+")([a-z%]*)$","i"),dt=["Top","Right","Bottom","Left"],kt=w.documentElement,cn=function(S){return M.contains(S.ownerDocument,S)},Ee={composed:!0};kt.getRootNode&&(cn=function(S){return M.contains(S.ownerDocument,S)||S.getRootNode(Ee)===S.ownerDocument});var Fe=function(S,R){return S=R||S,S.style.display==="none"||S.style.display===""&&cn(S)&&M.css(S,"display")==="none"};function Rt(S,R,U,B){var q,W,te=20,Ce=B?function(){return B.cur()}:function(){return M.css(S,R,"")},_e=Ce(),He=U&&U[3]||(M.cssNumber[R]?"":"px"),ft=S.nodeType&&(M.cssNumber[R]||He!=="px"&&+_e)&&nn.exec(M.css(S,R));if(ft&&ft[3]!==He){for(_e=_e/2,He=He||ft[3],ft=+_e||1;te--;)M.style(S,R,ft+He),(1-W)*(1-(W=Ce()/_e||.5))<=0&&(te=0),ft=ft/W;ft=ft*2,M.style(S,R,ft+He),U=U||[]}return U&&(ft=+ft||+_e||0,q=U[1]?ft+(U[1]+1)*U[2]:+U[2],B&&(B.unit=He,B.start=ft,B.end=q)),q}var Ae={};function Xe(S){var R,U=S.ownerDocument,B=S.nodeName,q=Ae[B];return q||(R=U.body.appendChild(U.createElement(B)),q=M.css(R,"display"),R.parentNode.removeChild(R),q==="none"&&(q="block"),Ae[B]=q,q)}function xt(S,R){for(var U,B,q=[],W=0,te=S.length;W<te;W++)B=S[W],B.style&&(U=B.style.display,R?(U==="none"&&(q[W]=be.get(B,"display")||null,q[W]||(B.style.display="")),B.style.display===""&&Fe(B)&&(q[W]=Xe(B))):U!=="none"&&(q[W]="none",be.set(B,"display",U)));for(W=0;W<te;W++)q[W]!=null&&(S[W].style.display=q[W]);return S}M.fn.extend({show:function(){return xt(this,!0)},hide:function(){return xt(this)},toggle:function(S){return typeof S=="boolean"?S?this.show():this.hide():this.each(function(){Fe(this)?M(this).show():M(this).hide()})}});var Xt=/^(?:checkbox|radio)$/i,Ht=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,Ct=/^$|^module$|\/(?:java|ecma)script/i;(function(){var S=w.createDocumentFragment(),R=S.appendChild(w.createElement("div")),U=w.createElement("input");U.setAttribute("type","radio"),U.setAttribute("checked","checked"),U.setAttribute("name","t"),R.appendChild(U),x.checkClone=R.cloneNode(!0).cloneNode(!0).lastChild.checked,R.innerHTML="<textarea>x</textarea>",x.noCloneChecked=!!R.cloneNode(!0).lastChild.defaultValue,R.innerHTML="<option></option>",x.option=!!R.lastChild})();var $t={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};$t.tbody=$t.tfoot=$t.colgroup=$t.caption=$t.thead,$t.th=$t.td,x.option||($t.optgroup=$t.option=[1,"<select multiple='multiple'>","</select>"]);function fn(S,R){var U;return typeof S.getElementsByTagName<"u"?U=S.getElementsByTagName(R||"*"):typeof S.querySelectorAll<"u"?U=S.querySelectorAll(R||"*"):U=[],R===void 0||R&&V(S,R)?M.merge([S],U):U}function ui(S,R){for(var U=0,B=S.length;U<B;U++)be.set(S[U],"globalEval",!R||be.get(R[U],"globalEval"))}var fi=/<|&#?\w+;/;function Ur(S,R,U,B,q){for(var W,te,Ce,_e,He,ft,bt=R.createDocumentFragment(),tt=[],Ft=0,Wn=S.length;Ft<Wn;Ft++)if(W=S[Ft],W||W===0)if(N(W)==="object")M.merge(tt,W.nodeType?[W]:W);else if(!fi.test(W))tt.push(R.createTextNode(W));else{for(te=te||bt.appendChild(R.createElement("div")),Ce=(Ht.exec(W)||["",""])[1].toLowerCase(),_e=$t[Ce]||$t._default,te.innerHTML=_e[1]+M.htmlPrefilter(W)+_e[2],ft=_e[0];ft--;)te=te.lastChild;M.merge(tt,te.childNodes),te=bt.firstChild,te.textContent=""}for(bt.textContent="",Ft=0;W=tt[Ft++];){if(B&&M.inArray(W,B)>-1){q&&q.push(W);continue}if(He=cn(W),te=fn(bt.appendChild(W),"script"),He&&ui(te),U)for(ft=0;W=te[ft++];)Ct.test(W.type||"")&&U.push(W)}return bt}var Wi=/^([^.]*)(?:\.(.+)|)/;function Ki(){return!0}function xr(){return!1}function Br(S,R,U,B,q,W){var te,Ce;if(typeof R=="object"){typeof U!="string"&&(B=B||U,U=void 0);for(Ce in R)Br(S,Ce,U,B,R[Ce],W);return S}if(B==null&&q==null?(q=U,B=U=void 0):q==null&&(typeof U=="string"?(q=B,B=void 0):(q=B,B=U,U=void 0)),q===!1)q=xr;else if(!q)return S;return W===1&&(te=q,q=function(_e){return M().off(_e),te.apply(this,arguments)},q.guid=te.guid||(te.guid=M.guid++)),S.each(function(){M.event.add(this,R,q,B,U)})}M.event={global:{},add:function(S,R,U,B,q){var W,te,Ce,_e,He,ft,bt,tt,Ft,Wn,Ei,Kn=be.get(S);if(ie(S))for(U.handler&&(W=U,U=W.handler,q=W.selector),q&&M.find.matchesSelector(kt,q),U.guid||(U.guid=M.guid++),(_e=Kn.events)||(_e=Kn.events=Object.create(null)),(te=Kn.handle)||(te=Kn.handle=function(es){return typeof M<"u"&&M.event.triggered!==es.type?M.event.dispatch.apply(S,arguments):void 0}),R=(R||"").match(Vt)||[""],He=R.length;He--;)Ce=Wi.exec(R[He])||[],Ft=Ei=Ce[1],Wn=(Ce[2]||"").split(".").sort(),Ft&&(bt=M.event.special[Ft]||{},Ft=(q?bt.delegateType:bt.bindType)||Ft,bt=M.event.special[Ft]||{},ft=M.extend({type:Ft,origType:Ei,data:B,handler:U,guid:U.guid,selector:q,needsContext:q&&M.expr.match.needsContext.test(q),namespace:Wn.join(".")},W),(tt=_e[Ft])||(tt=_e[Ft]=[],tt.delegateCount=0,(!bt.setup||bt.setup.call(S,B,Wn,te)===!1)&&S.addEventListener&&S.addEventListener(Ft,te)),bt.add&&(bt.add.call(S,ft),ft.handler.guid||(ft.handler.guid=U.guid)),q?tt.splice(tt.delegateCount++,0,ft):tt.push(ft),M.event.global[Ft]=!0)},remove:function(S,R,U,B,q){var W,te,Ce,_e,He,ft,bt,tt,Ft,Wn,Ei,Kn=be.hasData(S)&&be.get(S);if(!(!Kn||!(_e=Kn.events))){for(R=(R||"").match(Vt)||[""],He=R.length;He--;){if(Ce=Wi.exec(R[He])||[],Ft=Ei=Ce[1],Wn=(Ce[2]||"").split(".").sort(),!Ft){for(Ft in _e)M.event.remove(S,Ft+R[He],U,B,!0);continue}for(bt=M.event.special[Ft]||{},Ft=(B?bt.delegateType:bt.bindType)||Ft,tt=_e[Ft]||[],Ce=Ce[2]&&new RegExp("(^|\\.)"+Wn.join("\\.(?:.*\\.|)")+"(\\.|$)"),te=W=tt.length;W--;)ft=tt[W],(q||Ei===ft.origType)&&(!U||U.guid===ft.guid)&&(!Ce||Ce.test(ft.namespace))&&(!B||B===ft.selector||B==="**"&&ft.selector)&&(tt.splice(W,1),ft.selector&&tt.delegateCount--,bt.remove&&bt.remove.call(S,ft));te&&!tt.length&&((!bt.teardown||bt.teardown.call(S,Wn,Kn.handle)===!1)&&M.removeEvent(S,Ft,Kn.handle),delete _e[Ft])}M.isEmptyObject(_e)&&be.remove(S,"handle events")}},dispatch:function(S){var R,U,B,q,W,te,Ce=new Array(arguments.length),_e=M.event.fix(S),He=(be.get(this,"events")||Object.create(null))[_e.type]||[],ft=M.event.special[_e.type]||{};for(Ce[0]=_e,R=1;R<arguments.length;R++)Ce[R]=arguments[R];if(_e.delegateTarget=this,!(ft.preDispatch&&ft.preDispatch.call(this,_e)===!1)){for(te=M.event.handlers.call(this,_e,He),R=0;(q=te[R++])&&!_e.isPropagationStopped();)for(_e.currentTarget=q.elem,U=0;(W=q.handlers[U++])&&!_e.isImmediatePropagationStopped();)(!_e.rnamespace||W.namespace===!1||_e.rnamespace.test(W.namespace))&&(_e.handleObj=W,_e.data=W.data,B=((M.event.special[W.origType]||{}).handle||W.handler).apply(q.elem,Ce),B!==void 0&&(_e.result=B)===!1&&(_e.preventDefault(),_e.stopPropagation()));return ft.postDispatch&&ft.postDispatch.call(this,_e),_e.result}},handlers:function(S,R){var U,B,q,W,te,Ce=[],_e=R.delegateCount,He=S.target;if(_e&&He.nodeType&&!(S.type==="click"&&S.button>=1)){for(;He!==this;He=He.parentNode||this)if(He.nodeType===1&&!(S.type==="click"&&He.disabled===!0)){for(W=[],te={},U=0;U<_e;U++)B=R[U],q=B.selector+" ",te[q]===void 0&&(te[q]=B.needsContext?M(q,this).index(He)>-1:M.find(q,this,null,[He]).length),te[q]&&W.push(B);W.length&&Ce.push({elem:He,handlers:W})}}return He=this,_e<R.length&&Ce.push({elem:He,handlers:R.slice(_e)}),Ce},addProp:function(S,R){Object.defineProperty(M.Event.prototype,S,{enumerable:!0,configurable:!0,get:T(R)?function(){if(this.originalEvent)return R(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[S]},set:function(U){Object.defineProperty(this,S,{enumerable:!0,configurable:!0,writable:!0,value:U})}})},fix:function(S){return S[M.expando]?S:new M.Event(S)},special:{load:{noBubble:!0},click:{setup:function(S){var R=this||S;return Xt.test(R.type)&&R.click&&V(R,"input")&&ps(R,"click",!0),!1},trigger:function(S){var R=this||S;return Xt.test(R.type)&&R.click&&V(R,"input")&&ps(R,"click"),!0},_default:function(S){var R=S.target;return Xt.test(R.type)&&R.click&&V(R,"input")&&be.get(R,"click")||V(R,"a")}},beforeunload:{postDispatch:function(S){S.result!==void 0&&S.originalEvent&&(S.originalEvent.returnValue=S.result)}}}};function ps(S,R,U){if(!U){be.get(S,R)===void 0&&M.event.add(S,R,Ki);return}be.set(S,R,!1),M.event.add(S,R,{namespace:!1,handler:function(B){var q,W=be.get(this,R);if(B.isTrigger&1&&this[R]){if(W)(M.event.special[R]||{}).delegateType&&B.stopPropagation();else if(W=s.call(arguments),be.set(this,R,W),this[R](),q=be.get(this,R),be.set(this,R,!1),W!==q)return B.stopImmediatePropagation(),B.preventDefault(),q}else W&&(be.set(this,R,M.event.trigger(W[0],W.slice(1),this)),B.stopPropagation(),B.isImmediatePropagationStopped=Ki)}})}M.removeEvent=function(S,R,U){S.removeEventListener&&S.removeEventListener(R,U)},M.Event=function(S,R){if(!(this instanceof M.Event))return new M.Event(S,R);S&&S.type?(this.originalEvent=S,this.type=S.type,this.isDefaultPrevented=S.defaultPrevented||S.defaultPrevented===void 0&&S.returnValue===!1?Ki:xr,this.target=S.target&&S.target.nodeType===3?S.target.parentNode:S.target,this.currentTarget=S.currentTarget,this.relatedTarget=S.relatedTarget):this.type=S,R&&M.extend(this,R),this.timeStamp=S&&S.timeStamp||Date.now(),this[M.expando]=!0},M.Event.prototype={constructor:M.Event,isDefaultPrevented:xr,isPropagationStopped:xr,isImmediatePropagationStopped:xr,isSimulated:!1,preventDefault:function(){var S=this.originalEvent;this.isDefaultPrevented=Ki,S&&!this.isSimulated&&S.preventDefault()},stopPropagation:function(){var S=this.originalEvent;this.isPropagationStopped=Ki,S&&!this.isSimulated&&S.stopPropagation()},stopImmediatePropagation:function(){var S=this.originalEvent;this.isImmediatePropagationStopped=Ki,S&&!this.isSimulated&&S.stopImmediatePropagation(),this.stopPropagation()}},M.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},M.event.addProp),M.each({focus:"focusin",blur:"focusout"},function(S,R){function U(B){if(w.documentMode){var q=be.get(this,"handle"),W=M.event.fix(B);W.type=B.type==="focusin"?"focus":"blur",W.isSimulated=!0,q(B),W.target===W.currentTarget&&q(W)}else M.event.simulate(R,B.target,M.event.fix(B))}M.event.special[S]={setup:function(){var B;if(ps(this,S,!0),w.documentMode)B=be.get(this,R),B||this.addEventListener(R,U),be.set(this,R,(B||0)+1);else return!1},trigger:function(){return ps(this,S),!0},teardown:function(){var B;if(w.documentMode)B=be.get(this,R)-1,B?be.set(this,R,B):(this.removeEventListener(R,U),be.remove(this,R));else return!1},_default:function(B){return be.get(B.target,S)},delegateType:R},M.event.special[R]={setup:function(){var B=this.ownerDocument||this.document||this,q=w.documentMode?this:B,W=be.get(q,R);W||(w.documentMode?this.addEventListener(R,U):B.addEventListener(S,U,!0)),be.set(q,R,(W||0)+1)},teardown:function(){var B=this.ownerDocument||this.document||this,q=w.documentMode?this:B,W=be.get(q,R)-1;W?be.set(q,R,W):(w.documentMode?this.removeEventListener(R,U):B.removeEventListener(S,U,!0),be.remove(q,R))}}}),M.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(S,R){M.event.special[S]={delegateType:R,bindType:R,handle:function(U){var B,q=this,W=U.relatedTarget,te=U.handleObj;return(!W||W!==q&&!M.contains(q,W))&&(U.type=te.origType,B=te.handler.apply(this,arguments),U.type=R),B}}}),M.fn.extend({on:function(S,R,U,B){return Br(this,S,R,U,B)},one:function(S,R,U,B){return Br(this,S,R,U,B,1)},off:function(S,R,U){var B,q;if(S&&S.preventDefault&&S.handleObj)return B=S.handleObj,M(S.delegateTarget).off(B.namespace?B.origType+"."+B.namespace:B.origType,B.selector,B.handler),this;if(typeof S=="object"){for(q in S)this.off(q,R,S[q]);return this}return(R===!1||typeof R=="function")&&(U=R,R=void 0),U===!1&&(U=xr),this.each(function(){M.event.remove(this,S,U,R)})}});var lo=/<script|<style|<link/i,Ls=/checked\s*(?:[^=]|=\s*.checked.)/i,Un=/^\s*<!\[CDATA\[|\]\]>\s*$/g;function rs(S,R){return V(S,"table")&&V(R.nodeType!==11?R:R.firstChild,"tr")&&M(S).children("tbody")[0]||S}function Gi(S){return S.type=(S.getAttribute("type")!==null)+"/"+S.type,S}function K(S){return(S.type||"").slice(0,5)==="true/"?S.type=S.type.slice(5):S.removeAttribute("type"),S}function oe(S,R){var U,B,q,W,te,Ce,_e;if(R.nodeType===1){if(be.hasData(S)&&(W=be.get(S),_e=W.events,_e)){be.remove(R,"handle events");for(q in _e)for(U=0,B=_e[q].length;U<B;U++)M.event.add(R,q,_e[q][U])}Ge.hasData(S)&&(te=Ge.access(S),Ce=M.extend({},te),Ge.set(R,Ce))}}function De(S,R){var U=R.nodeName.toLowerCase();U==="input"&&Xt.test(S.type)?R.checked=S.checked:(U==="input"||U==="textarea")&&(R.defaultValue=S.defaultValue)}function Ke(S,R,U,B){R=a(R);var q,W,te,Ce,_e,He,ft=0,bt=S.length,tt=bt-1,Ft=R[0],Wn=T(Ft);if(Wn||bt>1&&typeof Ft=="string"&&!x.checkClone&&Ls.test(Ft))return S.each(function(Ei){var Kn=S.eq(Ei);Wn&&(R[0]=Ft.call(this,Ei,Kn.html())),Ke(Kn,R,U,B)});if(bt&&(q=Ur(R,S[0].ownerDocument,!1,S,B),W=q.firstChild,q.childNodes.length===1&&(q=W),W||B)){for(te=M.map(fn(q,"script"),Gi),Ce=te.length;ft<bt;ft++)_e=q,ft!==tt&&(_e=M.clone(_e,!0,!0),Ce&&M.merge(te,fn(_e,"script"))),U.call(S[ft],_e,ft);if(Ce)for(He=te[te.length-1].ownerDocument,M.map(te,K),ft=0;ft<Ce;ft++)_e=te[ft],Ct.test(_e.type||"")&&!be.access(_e,"globalEval")&&M.contains(He,_e)&&(_e.src&&(_e.type||"").toLowerCase()!=="module"?M._evalUrl&&!_e.noModule&&M._evalUrl(_e.src,{nonce:_e.nonce||_e.getAttribute("nonce")},He):D(_e.textContent.replace(Un,""),_e,He))}return S}function Je(S,R,U){for(var B,q=R?M.filter(R,S):S,W=0;(B=q[W])!=null;W++)!U&&B.nodeType===1&&M.cleanData(fn(B)),B.parentNode&&(U&&cn(B)&&ui(fn(B,"script")),B.parentNode.removeChild(B));return S}M.extend({htmlPrefilter:function(S){return S},clone:function(S,R,U){var B,q,W,te,Ce=S.cloneNode(!0),_e=cn(S);if(!x.noCloneChecked&&(S.nodeType===1||S.nodeType===11)&&!M.isXMLDoc(S))for(te=fn(Ce),W=fn(S),B=0,q=W.length;B<q;B++)De(W[B],te[B]);if(R)if(U)for(W=W||fn(S),te=te||fn(Ce),B=0,q=W.length;B<q;B++)oe(W[B],te[B]);else oe(S,Ce);return te=fn(Ce,"script"),te.length>0&&ui(te,!_e&&fn(S,"script")),Ce},cleanData:function(S){for(var R,U,B,q=M.event.special,W=0;(U=S[W])!==void 0;W++)if(ie(U)){if(R=U[be.expando]){if(R.events)for(B in R.events)q[B]?M.event.remove(U,B):M.removeEvent(U,B,R.handle);U[be.expando]=void 0}U[Ge.expando]&&(U[Ge.expando]=void 0)}}}),M.fn.extend({detach:function(S){return Je(this,S,!0)},remove:function(S){return Je(this,S)},text:function(S){return mt(this,function(R){return R===void 0?M.text(this):this.empty().each(function(){(this.nodeType===1||this.nodeType===11||this.nodeType===9)&&(this.textContent=R)})},null,S,arguments.length)},append:function(){return Ke(this,arguments,function(S){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var R=rs(this,S);R.appendChild(S)}})},prepend:function(){return Ke(this,arguments,function(S){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var R=rs(this,S);R.insertBefore(S,R.firstChild)}})},before:function(){return Ke(this,arguments,function(S){this.parentNode&&this.parentNode.insertBefore(S,this)})},after:function(){return Ke(this,arguments,function(S){this.parentNode&&this.parentNode.insertBefore(S,this.nextSibling)})},empty:function(){for(var S,R=0;(S=this[R])!=null;R++)S.nodeType===1&&(M.cleanData(fn(S,!1)),S.textContent="");return this},clone:function(S,R){return S=S??!1,R=R??S,this.map(function(){return M.clone(this,S,R)})},html:function(S){return mt(this,function(R){var U=this[0]||{},B=0,q=this.length;if(R===void 0&&U.nodeType===1)return U.innerHTML;if(typeof R=="string"&&!lo.test(R)&&!$t[(Ht.exec(R)||["",""])[1].toLowerCase()]){R=M.htmlPrefilter(R);try{for(;B<q;B++)U=this[B]||{},U.nodeType===1&&(M.cleanData(fn(U,!1)),U.innerHTML=R);U=0}catch{}}U&&this.empty().append(R)},null,S,arguments.length)},replaceWith:function(){var S=[];return Ke(this,arguments,function(R){var U=this.parentNode;M.inArray(this,S)<0&&(M.cleanData(fn(this)),U&&U.replaceChild(R,this))},S)}}),M.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(S,R){M.fn[S]=function(U){for(var B,q=[],W=M(U),te=W.length-1,Ce=0;Ce<=te;Ce++)B=Ce===te?this:this.clone(!0),M(W[Ce])[R](B),o.apply(q,B.get());return this.pushStack(q)}});var nt=new RegExp("^("+tn+")(?!px)[a-z%]+$","i"),Ut=/^--/,wt=function(S){var R=S.ownerDocument.defaultView;return(!R||!R.opener)&&(R=e),R.getComputedStyle(S)},Y=function(S,R,U){var B,q,W={};for(q in R)W[q]=S.style[q],S.style[q]=R[q];B=U.call(S);for(q in R)S.style[q]=W[q];return B},ve=new RegExp(dt.join("|"),"i");(function(){function S(){if(He){_e.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",He.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",kt.appendChild(_e).appendChild(He);var ft=e.getComputedStyle(He);U=ft.top!=="1%",Ce=R(ft.marginLeft)===12,He.style.right="60%",W=R(ft.right)===36,B=R(ft.width)===36,He.style.position="absolute",q=R(He.offsetWidth/3)===12,kt.removeChild(_e),He=null}}function R(ft){return Math.round(parseFloat(ft))}var U,B,q,W,te,Ce,_e=w.createElement("div"),He=w.createElement("div");He.style&&(He.style.backgroundClip="content-box",He.cloneNode(!0).style.backgroundClip="",x.clearCloneStyle=He.style.backgroundClip==="content-box",M.extend(x,{boxSizingReliable:function(){return S(),B},pixelBoxStyles:function(){return S(),W},pixelPosition:function(){return S(),U},reliableMarginLeft:function(){return S(),Ce},scrollboxSize:function(){return S(),q},reliableTrDimensions:function(){var ft,bt,tt,Ft;return te==null&&(ft=w.createElement("table"),bt=w.createElement("tr"),tt=w.createElement("div"),ft.style.cssText="position:absolute;left:-11111px;border-collapse:separate",bt.style.cssText="box-sizing:content-box;border:1px solid",bt.style.height="1px",tt.style.height="9px",tt.style.display="block",kt.appendChild(ft).appendChild(bt).appendChild(tt),Ft=e.getComputedStyle(bt),te=parseInt(Ft.height,10)+parseInt(Ft.borderTopWidth,10)+parseInt(Ft.borderBottomWidth,10)===bt.offsetHeight,kt.removeChild(ft)),te}}))})();function we(S,R,U){var B,q,W,te,Ce=Ut.test(R),_e=S.style;return U=U||wt(S),U&&(te=U.getPropertyValue(R)||U[R],Ce&&te&&(te=te.replace(ye,"$1")||void 0),te===""&&!cn(S)&&(te=M.style(S,R)),!x.pixelBoxStyles()&&nt.test(te)&&ve.test(R)&&(B=_e.width,q=_e.minWidth,W=_e.maxWidth,_e.minWidth=_e.maxWidth=_e.width=te,te=U.width,_e.width=B,_e.minWidth=q,_e.maxWidth=W)),te!==void 0?te+"":te}function Me(S,R){return{get:function(){if(S()){delete this.get;return}return(this.get=R).apply(this,arguments)}}}var Ne=["Webkit","Moz","ms"],Ye=w.createElement("div").style,pt={};function Tt(S){for(var R=S[0].toUpperCase()+S.slice(1),U=Ne.length;U--;)if(S=Ne[U]+R,S in Ye)return S}function Nt(S){var R=M.cssProps[S]||pt[S];return R||(S in Ye?S:pt[S]=Tt(S)||S)}var rn=/^(none|table(?!-c[ea]).+)/,en={position:"absolute",visibility:"hidden",display:"block"},sn={letterSpacing:"0",fontWeight:"400"};function Pn(S,R,U){var B=nn.exec(R);return B?Math.max(0,B[2]-(U||0))+(B[3]||"px"):R}function Cn(S,R,U,B,q,W){var te=R==="width"?1:0,Ce=0,_e=0,He=0;if(U===(B?"border":"content"))return 0;for(;te<4;te+=2)U==="margin"&&(He+=M.css(S,U+dt[te],!0,q)),B?(U==="content"&&(_e-=M.css(S,"padding"+dt[te],!0,q)),U!=="margin"&&(_e-=M.css(S,"border"+dt[te]+"Width",!0,q))):(_e+=M.css(S,"padding"+dt[te],!0,q),U!=="padding"?_e+=M.css(S,"border"+dt[te]+"Width",!0,q):Ce+=M.css(S,"border"+dt[te]+"Width",!0,q));return!B&&W>=0&&(_e+=Math.max(0,Math.ceil(S["offset"+R[0].toUpperCase()+R.slice(1)]-W-_e-Ce-.5))||0),_e+He}function xi(S,R,U){var B=wt(S),q=!x.boxSizingReliable()||U,W=q&&M.css(S,"boxSizing",!1,B)==="border-box",te=W,Ce=we(S,R,B),_e="offset"+R[0].toUpperCase()+R.slice(1);if(nt.test(Ce)){if(!U)return Ce;Ce="auto"}return(!x.boxSizingReliable()&&W||!x.reliableTrDimensions()&&V(S,"tr")||Ce==="auto"||!parseFloat(Ce)&&M.css(S,"display",!1,B)==="inline")&&S.getClientRects().length&&(W=M.css(S,"boxSizing",!1,B)==="border-box",te=_e in S,te&&(Ce=S[_e])),Ce=parseFloat(Ce)||0,Ce+Cn(S,R,U||(W?"border":"content"),te,B,Ce)+"px"}M.extend({cssHooks:{opacity:{get:function(S,R){if(R){var U=we(S,"opacity");return U===""?"1":U}}}},cssNumber:{animationIterationCount:!0,aspectRatio:!0,borderImageSlice:!0,columnCount:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,scale:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeMiterlimit:!0,strokeOpacity:!0},cssProps:{},style:function(S,R,U,B){if(!(!S||S.nodeType===3||S.nodeType===8||!S.style)){var q,W,te,Ce=bn(R),_e=Ut.test(R),He=S.style;if(_e||(R=Nt(Ce)),te=M.cssHooks[R]||M.cssHooks[Ce],U!==void 0){if(W=typeof U,W==="string"&&(q=nn.exec(U))&&q[1]&&(U=Rt(S,R,q),W="number"),U==null||U!==U)return;W==="number"&&!_e&&(U+=q&&q[3]||(M.cssNumber[Ce]?"":"px")),!x.clearCloneStyle&&U===""&&R.indexOf("background")===0&&(He[R]="inherit"),(!te||!("set"in te)||(U=te.set(S,U,B))!==void 0)&&(_e?He.setProperty(R,U):He[R]=U)}else return te&&"get"in te&&(q=te.get(S,!1,B))!==void 0?q:He[R]}},css:function(S,R,U,B){var q,W,te,Ce=bn(R),_e=Ut.test(R);return _e||(R=Nt(Ce)),te=M.cssHooks[R]||M.cssHooks[Ce],te&&"get"in te&&(q=te.get(S,!0,U)),q===void 0&&(q=we(S,R,B)),q==="normal"&&R in sn&&(q=sn[R]),U===""||U?(W=parseFloat(q),U===!0||isFinite(W)?W||0:q):q}}),M.each(["height","width"],function(S,R){M.cssHooks[R]={get:function(U,B,q){if(B)return rn.test(M.css(U,"display"))&&(!U.getClientRects().length||!U.getBoundingClientRect().width)?Y(U,en,function(){return xi(U,R,q)}):xi(U,R,q)},set:function(U,B,q){var W,te=wt(U),Ce=!x.scrollboxSize()&&te.position==="absolute",_e=Ce||q,He=_e&&M.css(U,"boxSizing",!1,te)==="border-box",ft=q?Cn(U,R,q,He,te):0;return He&&Ce&&(ft-=Math.ceil(U["offset"+R[0].toUpperCase()+R.slice(1)]-parseFloat(te[R])-Cn(U,R,"border",!1,te)-.5)),ft&&(W=nn.exec(B))&&(W[3]||"px")!=="px"&&(U.style[R]=B,B=M.css(U,R)),Pn(U,B,ft)}}}),M.cssHooks.marginLeft=Me(x.reliableMarginLeft,function(S,R){if(R)return(parseFloat(we(S,"marginLeft"))||S.getBoundingClientRect().left-Y(S,{marginLeft:0},function(){return S.getBoundingClientRect().left}))+"px"}),M.each({margin:"",padding:"",border:"Width"},function(S,R){M.cssHooks[S+R]={expand:function(U){for(var B=0,q={},W=typeof U=="string"?U.split(" "):[U];B<4;B++)q[S+dt[B]+R]=W[B]||W[B-2]||W[0];return q}},S!=="margin"&&(M.cssHooks[S+R].set=Pn)}),M.fn.extend({css:function(S,R){return mt(this,function(U,B,q){var W,te,Ce={},_e=0;if(Array.isArray(B)){for(W=wt(U),te=B.length;_e<te;_e++)Ce[B[_e]]=M.css(U,B[_e],!1,W);return Ce}return q!==void 0?M.style(U,B,q):M.css(U,B)},S,R,arguments.length>1)}});function an(S,R,U,B,q){return new an.prototype.init(S,R,U,B,q)}M.Tween=an,an.prototype={constructor:an,init:function(S,R,U,B,q,W){this.elem=S,this.prop=U,this.easing=q||M.easing._default,this.options=R,this.start=this.now=this.cur(),this.end=B,this.unit=W||(M.cssNumber[U]?"":"px")},cur:function(){var S=an.propHooks[this.prop];return S&&S.get?S.get(this):an.propHooks._default.get(this)},run:function(S){var R,U=an.propHooks[this.prop];return this.options.duration?this.pos=R=M.easing[this.easing](S,this.options.duration*S,0,1,this.options.duration):this.pos=R=S,this.now=(this.end-this.start)*R+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),U&&U.set?U.set(this):an.propHooks._default.set(this),this}},an.prototype.init.prototype=an.prototype,an.propHooks={_default:{get:function(S){var R;return S.elem.nodeType!==1||S.elem[S.prop]!=null&&S.elem.style[S.prop]==null?S.elem[S.prop]:(R=M.css(S.elem,S.prop,""),!R||R==="auto"?0:R)},set:function(S){M.fx.step[S.prop]?M.fx.step[S.prop](S):S.elem.nodeType===1&&(M.cssHooks[S.prop]||S.elem.style[Nt(S.prop)]!=null)?M.style(S.elem,S.prop,S.now+S.unit):S.elem[S.prop]=S.now}}},an.propHooks.scrollTop=an.propHooks.scrollLeft={set:function(S){S.elem.nodeType&&S.elem.parentNode&&(S.elem[S.prop]=S.now)}},M.easing={linear:function(S){return S},swing:function(S){return .5-Math.cos(S*Math.PI)/2},_default:"swing"},M.fx=an.prototype.init,M.fx.step={};var In,xn,Di=/^(?:toggle|show|hide)$/,$n=/queueHooks$/;function qn(){xn&&(w.hidden===!1&&e.requestAnimationFrame?e.requestAnimationFrame(qn):e.setTimeout(qn,M.fx.interval),M.fx.tick())}function Mi(){return e.setTimeout(function(){In=void 0}),In=Date.now()}function Sn(S,R){var U,B=0,q={height:S};for(R=R?1:0;B<4;B+=2-R)U=dt[B],q["margin"+U]=q["padding"+U]=S;return R&&(q.opacity=q.width=S),q}function Zn(S,R,U){for(var B,q=(ei.tweeners[R]||[]).concat(ei.tweeners["*"]),W=0,te=q.length;W<te;W++)if(B=q[W].call(U,R,S))return B}function kn(S,R,U){var B,q,W,te,Ce,_e,He,ft,bt="width"in R||"height"in R,tt=this,Ft={},Wn=S.style,Ei=S.nodeType&&Fe(S),Kn=be.get(S,"fxshow");U.queue||(te=M._queueHooks(S,"fx"),te.unqueued==null&&(te.unqueued=0,Ce=te.empty.fire,te.empty.fire=function(){te.unqueued||Ce()}),te.unqueued++,tt.always(function(){tt.always(function(){te.unqueued--,M.queue(S,"fx").length||te.empty.fire()})}));for(B in R)if(q=R[B],Di.test(q)){if(delete R[B],W=W||q==="toggle",q===(Ei?"hide":"show"))if(q==="show"&&Kn&&Kn[B]!==void 0)Ei=!0;else continue;Ft[B]=Kn&&Kn[B]||M.style(S,B)}if(_e=!M.isEmptyObject(R),!(!_e&&M.isEmptyObject(Ft))){bt&&S.nodeType===1&&(U.overflow=[Wn.overflow,Wn.overflowX,Wn.overflowY],He=Kn&&Kn.display,He==null&&(He=be.get(S,"display")),ft=M.css(S,"display"),ft==="none"&&(He?ft=He:(xt([S],!0),He=S.style.display||He,ft=M.css(S,"display"),xt([S]))),(ft==="inline"||ft==="inline-block"&&He!=null)&&M.css(S,"float")==="none"&&(_e||(tt.done(function(){Wn.display=He}),He==null&&(ft=Wn.display,He=ft==="none"?"":ft)),Wn.display="inline-block")),U.overflow&&(Wn.overflow="hidden",tt.always(function(){Wn.overflow=U.overflow[0],Wn.overflowX=U.overflow[1],Wn.overflowY=U.overflow[2]})),_e=!1;for(B in Ft)_e||(Kn?"hidden"in Kn&&(Ei=Kn.hidden):Kn=be.access(S,"fxshow",{display:He}),W&&(Kn.hidden=!Ei),Ei&&xt([S],!0),tt.done(function(){Ei||xt([S]),be.remove(S,"fxshow");for(B in Ft)M.style(S,B,Ft[B])})),_e=Zn(Ei?Kn[B]:0,B,tt),B in Kn||(Kn[B]=_e.start,Ei&&(_e.end=_e.start,_e.start=0))}}function pr(S,R){var U,B,q,W,te;for(U in S)if(B=bn(U),q=R[B],W=S[U],Array.isArray(W)&&(q=W[1],W=S[U]=W[0]),U!==B&&(S[B]=W,delete S[U]),te=M.cssHooks[B],te&&"expand"in te){W=te.expand(W),delete S[B];for(U in W)U in S||(S[U]=W[U],R[U]=q)}else R[B]=q}function ei(S,R,U){var B,q,W=0,te=ei.prefilters.length,Ce=M.Deferred().always(function(){delete _e.elem}),_e=function(){if(q)return!1;for(var bt=In||Mi(),tt=Math.max(0,He.startTime+He.duration-bt),Ft=tt/He.duration||0,Wn=1-Ft,Ei=0,Kn=He.tweens.length;Ei<Kn;Ei++)He.tweens[Ei].run(Wn);return Ce.notifyWith(S,[He,Wn,tt]),Wn<1&&Kn?tt:(Kn||Ce.notifyWith(S,[He,1,0]),Ce.resolveWith(S,[He]),!1)},He=Ce.promise({elem:S,props:M.extend({},R),opts:M.extend(!0,{specialEasing:{},easing:M.easing._default},U),originalProperties:R,originalOptions:U,startTime:In||Mi(),duration:U.duration,tweens:[],createTween:function(bt,tt){var Ft=M.Tween(S,He.opts,bt,tt,He.opts.specialEasing[bt]||He.opts.easing);return He.tweens.push(Ft),Ft},stop:function(bt){var tt=0,Ft=bt?He.tweens.length:0;if(q)return this;for(q=!0;tt<Ft;tt++)He.tweens[tt].run(1);return bt?(Ce.notifyWith(S,[He,1,0]),Ce.resolveWith(S,[He,bt])):Ce.rejectWith(S,[He,bt]),this}}),ft=He.props;for(pr(ft,He.opts.specialEasing);W<te;W++)if(B=ei.prefilters[W].call(He,S,ft,He.opts),B)return T(B.stop)&&(M._queueHooks(He.elem,He.opts.queue).stop=B.stop.bind(B)),B;return M.map(ft,Zn,He),T(He.opts.start)&&He.opts.start.call(S,He),He.progress(He.opts.progress).done(He.opts.done,He.opts.complete).fail(He.opts.fail).always(He.opts.always),M.fx.timer(M.extend(_e,{elem:S,anim:He,queue:He.opts.queue})),He}M.Animation=M.extend(ei,{tweeners:{"*":[function(S,R){var U=this.createTween(S,R);return Rt(U.elem,S,nn.exec(R),U),U}]},tweener:function(S,R){T(S)?(R=S,S=["*"]):S=S.match(Vt);for(var U,B=0,q=S.length;B<q;B++)U=S[B],ei.tweeners[U]=ei.tweeners[U]||[],ei.tweeners[U].unshift(R)},prefilters:[kn],prefilter:function(S,R){R?ei.prefilters.unshift(S):ei.prefilters.push(S)}}),M.speed=function(S,R,U){var B=S&&typeof S=="object"?M.extend({},S):{complete:U||!U&&R||T(S)&&S,duration:S,easing:U&&R||R&&!T(R)&&R};return M.fx.off?B.duration=0:typeof B.duration!="number"&&(B.duration in M.fx.speeds?B.duration=M.fx.speeds[B.duration]:B.duration=M.fx.speeds._default),(B.queue==null||B.queue===!0)&&(B.queue="fx"),B.old=B.complete,B.complete=function(){T(B.old)&&B.old.call(this),B.queue&&M.dequeue(this,B.queue)},B},M.fn.extend({fadeTo:function(S,R,U,B){return this.filter(Fe).css("opacity",0).show().end().animate({opacity:R},S,U,B)},animate:function(S,R,U,B){var q=M.isEmptyObject(S),W=M.speed(R,U,B),te=function(){var Ce=ei(this,M.extend({},S),W);(q||be.get(this,"finish"))&&Ce.stop(!0)};return te.finish=te,q||W.queue===!1?this.each(te):this.queue(W.queue,te)},stop:function(S,R,U){var B=function(q){var W=q.stop;delete q.stop,W(U)};return typeof S!="string"&&(U=R,R=S,S=void 0),R&&this.queue(S||"fx",[]),this.each(function(){var q=!0,W=S!=null&&S+"queueHooks",te=M.timers,Ce=be.get(this);if(W)Ce[W]&&Ce[W].stop&&B(Ce[W]);else for(W in Ce)Ce[W]&&Ce[W].stop&&$n.test(W)&&B(Ce[W]);for(W=te.length;W--;)te[W].elem===this&&(S==null||te[W].queue===S)&&(te[W].anim.stop(U),q=!1,te.splice(W,1));(q||!U)&&M.dequeue(this,S)})},finish:function(S){return S!==!1&&(S=S||"fx"),this.each(function(){var R,U=be.get(this),B=U[S+"queue"],q=U[S+"queueHooks"],W=M.timers,te=B?B.length:0;for(U.finish=!0,M.queue(this,S,[]),q&&q.stop&&q.stop.call(this,!0),R=W.length;R--;)W[R].elem===this&&W[R].queue===S&&(W[R].anim.stop(!0),W.splice(R,1));for(R=0;R<te;R++)B[R]&&B[R].finish&&B[R].finish.call(this);delete U.finish})}}),M.each(["toggle","show","hide"],function(S,R){var U=M.fn[R];M.fn[R]=function(B,q,W){return B==null||typeof B=="boolean"?U.apply(this,arguments):this.animate(Sn(R,!0),B,q,W)}}),M.each({slideDown:Sn("show"),slideUp:Sn("hide"),slideToggle:Sn("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(S,R){M.fn[S]=function(U,B,q){return this.animate(R,U,B,q)}}),M.timers=[],M.fx.tick=function(){var S,R=0,U=M.timers;for(In=Date.now();R<U.length;R++)S=U[R],!S()&&U[R]===S&&U.splice(R--,1);U.length||M.fx.stop(),In=void 0},M.fx.timer=function(S){M.timers.push(S),M.fx.start()},M.fx.interval=13,M.fx.start=function(){xn||(xn=!0,qn())},M.fx.stop=function(){xn=null},M.fx.speeds={slow:600,fast:200,_default:400},M.fn.delay=function(S,R){return S=M.fx&&M.fx.speeds[S]||S,R=R||"fx",this.queue(R,function(U,B){var q=e.setTimeout(U,S);B.stop=function(){e.clearTimeout(q)}})},(function(){var S=w.createElement("input"),R=w.createElement("select"),U=R.appendChild(w.createElement("option"));S.type="checkbox",x.checkOn=S.value!=="",x.optSelected=U.selected,S=w.createElement("input"),S.value="t",S.type="radio",x.radioValue=S.value==="t"})();var Ai,fr=M.expr.attrHandle;M.fn.extend({attr:function(S,R){return mt(this,M.attr,S,R,arguments.length>1)},removeAttr:function(S){return this.each(function(){M.removeAttr(this,S)})}}),M.extend({attr:function(S,R,U){var B,q,W=S.nodeType;if(!(W===3||W===8||W===2)){if(typeof S.getAttribute>"u")return M.prop(S,R,U);if((W!==1||!M.isXMLDoc(S))&&(q=M.attrHooks[R.toLowerCase()]||(M.expr.match.bool.test(R)?Ai:void 0)),U!==void 0){if(U===null){M.removeAttr(S,R);return}return q&&"set"in q&&(B=q.set(S,U,R))!==void 0?B:(S.setAttribute(R,U+""),U)}return q&&"get"in q&&(B=q.get(S,R))!==null?B:(B=M.find.attr(S,R),B??void 0)}},attrHooks:{type:{set:function(S,R){if(!x.radioValue&&R==="radio"&&V(S,"input")){var U=S.value;return S.setAttribute("type",R),U&&(S.value=U),R}}}},removeAttr:function(S,R){var U,B=0,q=R&&R.match(Vt);if(q&&S.nodeType===1)for(;U=q[B++];)S.removeAttribute(U)}}),Ai={set:function(S,R,U){return R===!1?M.removeAttr(S,U):S.setAttribute(U,U),U}},M.each(M.expr.match.bool.source.match(/\w+/g),function(S,R){var U=fr[R]||M.find.attr;fr[R]=function(B,q,W){var te,Ce,_e=q.toLowerCase();return W||(Ce=fr[_e],fr[_e]=te,te=U(B,q,W)!=null?_e:null,fr[_e]=Ce),te}});var Ss=/^(?:input|select|textarea|button)$/i,na=/^(?:a|area)$/i;M.fn.extend({prop:function(S,R){return mt(this,M.prop,S,R,arguments.length>1)},removeProp:function(S){return this.each(function(){delete this[M.propFix[S]||S]})}}),M.extend({prop:function(S,R,U){var B,q,W=S.nodeType;if(!(W===3||W===8||W===2))return(W!==1||!M.isXMLDoc(S))&&(R=M.propFix[R]||R,q=M.propHooks[R]),U!==void 0?q&&"set"in q&&(B=q.set(S,U,R))!==void 0?B:S[R]=U:q&&"get"in q&&(B=q.get(S,R))!==null?B:S[R]},propHooks:{tabIndex:{get:function(S){var R=M.find.attr(S,"tabindex");return R?parseInt(R,10):Ss.test(S.nodeName)||na.test(S.nodeName)&&S.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),x.optSelected||(M.propHooks.selected={get:function(S){var R=S.parentNode;return R&&R.parentNode&&R.parentNode.selectedIndex,null},set:function(S){var R=S.parentNode;R&&(R.selectedIndex,R.parentNode&&R.parentNode.selectedIndex)}}),M.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){M.propFix[this.toLowerCase()]=this});function Oa(S){var R=S.match(Vt)||[];return R.join(" ")}function ja(S){return S.getAttribute&&S.getAttribute("class")||""}function co(S){return Array.isArray(S)?S:typeof S=="string"?S.match(Vt)||[]:[]}M.fn.extend({addClass:function(S){var R,U,B,q,W,te;return T(S)?this.each(function(Ce){M(this).addClass(S.call(this,Ce,ja(this)))}):(R=co(S),R.length?this.each(function(){if(B=ja(this),U=this.nodeType===1&&" "+Oa(B)+" ",U){for(W=0;W<R.length;W++)q=R[W],U.indexOf(" "+q+" ")<0&&(U+=q+" ");te=Oa(U),B!==te&&this.setAttribute("class",te)}}):this)},removeClass:function(S){var R,U,B,q,W,te;return T(S)?this.each(function(Ce){M(this).removeClass(S.call(this,Ce,ja(this)))}):arguments.length?(R=co(S),R.length?this.each(function(){if(B=ja(this),U=this.nodeType===1&&" "+Oa(B)+" ",U){for(W=0;W<R.length;W++)for(q=R[W];U.indexOf(" "+q+" ")>-1;)U=U.replace(" "+q+" "," ");te=Oa(U),B!==te&&this.setAttribute("class",te)}}):this):this.attr("class","")},toggleClass:function(S,R){var U,B,q,W,te=typeof S,Ce=te==="string"||Array.isArray(S);return T(S)?this.each(function(_e){M(this).toggleClass(S.call(this,_e,ja(this),R),R)}):typeof R=="boolean"&&Ce?R?this.addClass(S):this.removeClass(S):(U=co(S),this.each(function(){if(Ce)for(W=M(this),q=0;q<U.length;q++)B=U[q],W.hasClass(B)?W.removeClass(B):W.addClass(B);else(S===void 0||te==="boolean")&&(B=ja(this),B&&be.set(this,"__className__",B),this.setAttribute&&this.setAttribute("class",B||S===!1?"":be.get(this,"__className__")||""))}))},hasClass:function(S){var R,U,B=0;for(R=" "+S+" ";U=this[B++];)if(U.nodeType===1&&(" "+Oa(ja(U))+" ").indexOf(R)>-1)return!0;return!1}});var Du=/\r/g;M.fn.extend({val:function(S){var R,U,B,q=this[0];return arguments.length?(B=T(S),this.each(function(W){var te;this.nodeType===1&&(B?te=S.call(this,W,M(this).val()):te=S,te==null?te="":typeof te=="number"?te+="":Array.isArray(te)&&(te=M.map(te,function(Ce){return Ce==null?"":Ce+""})),R=M.valHooks[this.type]||M.valHooks[this.nodeName.toLowerCase()],(!R||!("set"in R)||R.set(this,te,"value")===void 0)&&(this.value=te))})):q?(R=M.valHooks[q.type]||M.valHooks[q.nodeName.toLowerCase()],R&&"get"in R&&(U=R.get(q,"value"))!==void 0?U:(U=q.value,typeof U=="string"?U.replace(Du,""):U??"")):void 0}}),M.extend({valHooks:{option:{get:function(S){var R=M.find.attr(S,"value");return R??Oa(M.text(S))}},select:{get:function(S){var R,U,B,q=S.options,W=S.selectedIndex,te=S.type==="select-one",Ce=te?null:[],_e=te?W+1:q.length;for(W<0?B=_e:B=te?W:0;B<_e;B++)if(U=q[B],(U.selected||B===W)&&!U.disabled&&(!U.parentNode.disabled||!V(U.parentNode,"optgroup"))){if(R=M(U).val(),te)return R;Ce.push(R)}return Ce},set:function(S,R){for(var U,B,q=S.options,W=M.makeArray(R),te=q.length;te--;)B=q[te],(B.selected=M.inArray(M.valHooks.option.get(B),W)>-1)&&(U=!0);return U||(S.selectedIndex=-1),W}}}}),M.each(["radio","checkbox"],function(){M.valHooks[this]={set:function(S,R){if(Array.isArray(R))return S.checked=M.inArray(M(S).val(),R)>-1}},x.checkOn||(M.valHooks[this].get=function(S){return S.getAttribute("value")===null?"on":S.value})});var vc=e.location,ya={guid:Date.now()},jc=/\?/;M.parseXML=function(S){var R,U;if(!S||typeof S!="string")return null;try{R=new e.DOMParser().parseFromString(S,"text/xml")}catch{}return U=R&&R.getElementsByTagName("parsererror")[0],(!R||U)&&M.error("Invalid XML: "+(U?M.map(U.childNodes,function(B){return B.textContent}).join(`
`):S)),R};var $a=/^(?:focusinfocus|focusoutblur)$/,qa=function(S){S.stopPropagation()};M.extend(M.event,{trigger:function(S,R,U,B){var q,W,te,Ce,_e,He,ft,bt,tt=[U||w],Ft=m.call(S,"type")?S.type:S,Wn=m.call(S,"namespace")?S.namespace.split("."):[];if(W=bt=te=U=U||w,!(U.nodeType===3||U.nodeType===8)&&!$a.test(Ft+M.event.triggered)&&(Ft.indexOf(".")>-1&&(Wn=Ft.split("."),Ft=Wn.shift(),Wn.sort()),_e=Ft.indexOf(":")<0&&"on"+Ft,S=S[M.expando]?S:new M.Event(Ft,typeof S=="object"&&S),S.isTrigger=B?2:3,S.namespace=Wn.join("."),S.rnamespace=S.namespace?new RegExp("(^|\\.)"+Wn.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,S.result=void 0,S.target||(S.target=U),R=R==null?[S]:M.makeArray(R,[S]),ft=M.event.special[Ft]||{},!(!B&&ft.trigger&&ft.trigger.apply(U,R)===!1))){if(!B&&!ft.noBubble&&!E(U)){for(Ce=ft.delegateType||Ft,$a.test(Ce+Ft)||(W=W.parentNode);W;W=W.parentNode)tt.push(W),te=W;te===(U.ownerDocument||w)&&tt.push(te.defaultView||te.parentWindow||e)}for(q=0;(W=tt[q++])&&!S.isPropagationStopped();)bt=W,S.type=q>1?Ce:ft.bindType||Ft,He=(be.get(W,"events")||Object.create(null))[S.type]&&be.get(W,"handle"),He&&He.apply(W,R),He=_e&&W[_e],He&&He.apply&&ie(W)&&(S.result=He.apply(W,R),S.result===!1&&S.preventDefault());return S.type=Ft,!B&&!S.isDefaultPrevented()&&(!ft._default||ft._default.apply(tt.pop(),R)===!1)&&ie(U)&&_e&&T(U[Ft])&&!E(U)&&(te=U[_e],te&&(U[_e]=null),M.event.triggered=Ft,S.isPropagationStopped()&&bt.addEventListener(Ft,qa),U[Ft](),S.isPropagationStopped()&&bt.removeEventListener(Ft,qa),M.event.triggered=void 0,te&&(U[_e]=te)),S.result}},simulate:function(S,R,U){var B=M.extend(new M.Event,U,{type:S,isSimulated:!0});M.event.trigger(B,null,R)}}),M.fn.extend({trigger:function(S,R){return this.each(function(){M.event.trigger(S,R,this)})},triggerHandler:function(S,R){var U=this[0];if(U)return M.event.trigger(S,R,U,!0)}});var Gl=/\[\]$/,jl=/\r?\n/g,yc=/^(?:submit|button|image|reset|file)$/i,_c=/^(?:input|select|textarea|keygen)/i;function sl(S,R,U,B){var q;if(Array.isArray(R))M.each(R,function(W,te){U||Gl.test(S)?B(S,te):sl(S+"["+(typeof te=="object"&&te!=null?W:"")+"]",te,U,B)});else if(!U&&N(R)==="object")for(q in R)sl(S+"["+q+"]",R[q],U,B);else B(S,R)}M.param=function(S,R){var U,B=[],q=function(W,te){var Ce=T(te)?te():te;B[B.length]=encodeURIComponent(W)+"="+encodeURIComponent(Ce??"")};if(S==null)return"";if(Array.isArray(S)||S.jquery&&!M.isPlainObject(S))M.each(S,function(){q(this.name,this.value)});else for(U in S)sl(U,S[U],R,q);return B.join("&")},M.fn.extend({serialize:function(){return M.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var S=M.prop(this,"elements");return S?M.makeArray(S):this}).filter(function(){var S=this.type;return this.name&&!M(this).is(":disabled")&&_c.test(this.nodeName)&&!yc.test(S)&&(this.checked||!Xt.test(S))}).map(function(S,R){var U=M(this).val();return U==null?null:Array.isArray(U)?M.map(U,function(B){return{name:R.name,value:B.replace(jl,`\r
`)}}):{name:R.name,value:U.replace(jl,`\r
`)}}).get()}});var uo=/%20/g,$c=/#.*$/,fo=/([?&])_=[^&]*/,al=/^(.*?):[ \t]*([^\r\n]*)$/mg,xf=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,qc=/^(?:GET|HEAD)$/,Wc=/^\/\//,ho={},$l={},ol="*/".concat("*"),Ns=w.createElement("a");Ns.href=vc.href;function No(S){return function(R,U){typeof R!="string"&&(U=R,R="*");var B,q=0,W=R.toLowerCase().match(Vt)||[];if(T(U))for(;B=W[q++];)B[0]==="+"?(B=B.slice(1)||"*",(S[B]=S[B]||[]).unshift(U)):(S[B]=S[B]||[]).push(U)}}function ll(S,R,U,B){var q={},W=S===$l;function te(Ce){var _e;return q[Ce]=!0,M.each(S[Ce]||[],function(He,ft){var bt=ft(R,U,B);if(typeof bt=="string"&&!W&&!q[bt])return R.dataTypes.unshift(bt),te(bt),!1;if(W)return!(_e=bt)}),_e}return te(R.dataTypes[0])||!q["*"]&&te("*")}function Io(S,R){var U,B,q=M.ajaxSettings.flatOptions||{};for(U in R)R[U]!==void 0&&((q[U]?S:B||(B={}))[U]=R[U]);return B&&M.extend(!0,S,B),S}function Sf(S,R,U){for(var B,q,W,te,Ce=S.contents,_e=S.dataTypes;_e[0]==="*";)_e.shift(),B===void 0&&(B=S.mimeType||R.getResponseHeader("Content-Type"));if(B){for(q in Ce)if(Ce[q]&&Ce[q].test(B)){_e.unshift(q);break}}if(_e[0]in U)W=_e[0];else{for(q in U){if(!_e[0]||S.converters[q+" "+_e[0]]){W=q;break}te||(te=q)}W=W||te}if(W)return W!==_e[0]&&_e.unshift(W),U[W]}function zo(S,R,U,B){var q,W,te,Ce,_e,He={},ft=S.dataTypes.slice();if(ft[1])for(te in S.converters)He[te.toLowerCase()]=S.converters[te];for(W=ft.shift();W;)if(S.responseFields[W]&&(U[S.responseFields[W]]=R),!_e&&B&&S.dataFilter&&(R=S.dataFilter(R,S.dataType)),_e=W,W=ft.shift(),W){if(W==="*")W=_e;else if(_e!=="*"&&_e!==W){if(te=He[_e+" "+W]||He["* "+W],!te){for(q in He)if(Ce=q.split(" "),Ce[1]===W&&(te=He[_e+" "+Ce[0]]||He["* "+Ce[0]],te)){te===!0?te=He[q]:He[q]!==!0&&(W=Ce[0],ft.unshift(Ce[1]));break}}if(te!==!0)if(te&&S.throws)R=te(R);else try{R=te(R)}catch(bt){return{state:"parsererror",error:te?bt:"No conversion from "+_e+" to "+W}}}}return{state:"success",data:R}}M.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:vc.href,type:"GET",isLocal:xf.test(vc.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":ol,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":M.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(S,R){return R?Io(Io(S,M.ajaxSettings),R):Io(M.ajaxSettings,S)},ajaxPrefilter:No(ho),ajaxTransport:No($l),ajax:function(S,R){typeof S=="object"&&(R=S,S=void 0),R=R||{};var U,B,q,W,te,Ce,_e,He,ft,bt,tt=M.ajaxSetup({},R),Ft=tt.context||tt,Wn=tt.context&&(Ft.nodeType||Ft.jquery)?M(Ft):M.event,Ei=M.Deferred(),Kn=M.Callbacks("once memory"),es=tt.statusCode||{},ss={},ms={},Xa="canceled",Li={readyState:0,getResponseHeader:function(yi){var Qi;if(_e){if(!W)for(W={};Qi=al.exec(q);)W[Qi[1].toLowerCase()+" "]=(W[Qi[1].toLowerCase()+" "]||[]).concat(Qi[2]);Qi=W[yi.toLowerCase()+" "]}return Qi==null?null:Qi.join(", ")},getAllResponseHeaders:function(){return _e?q:null},setRequestHeader:function(yi,Qi){return _e==null&&(yi=ms[yi.toLowerCase()]=ms[yi.toLowerCase()]||yi,ss[yi]=Qi),this},overrideMimeType:function(yi){return _e==null&&(tt.mimeType=yi),this},statusCode:function(yi){var Qi;if(yi)if(_e)Li.always(yi[Li.status]);else for(Qi in yi)es[Qi]=[es[Qi],yi[Qi]];return this},abort:function(yi){var Qi=yi||Xa;return U&&U.abort(Qi),Wl(0,Qi),this}};if(Ei.promise(Li),tt.url=((S||tt.url||vc.href)+"").replace(Wc,vc.protocol+"//"),tt.type=R.method||R.type||tt.method||tt.type,tt.dataTypes=(tt.dataType||"*").toLowerCase().match(Vt)||[""],tt.crossDomain==null){Ce=w.createElement("a");try{Ce.href=tt.url,Ce.href=Ce.href,tt.crossDomain=Ns.protocol+"//"+Ns.host!=Ce.protocol+"//"+Ce.host}catch{tt.crossDomain=!0}}if(tt.data&&tt.processData&&typeof tt.data!="string"&&(tt.data=M.param(tt.data,tt.traditional)),ll(ho,tt,R,Li),_e)return Li;He=M.event&&tt.global,He&&M.active++===0&&M.event.trigger("ajaxStart"),tt.type=tt.type.toUpperCase(),tt.hasContent=!qc.test(tt.type),B=tt.url.replace($c,""),tt.hasContent?tt.data&&tt.processData&&(tt.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&(tt.data=tt.data.replace(uo,"+")):(bt=tt.url.slice(B.length),tt.data&&(tt.processData||typeof tt.data=="string")&&(B+=(jc.test(B)?"&":"?")+tt.data,delete tt.data),tt.cache===!1&&(B=B.replace(fo,"$1"),bt=(jc.test(B)?"&":"?")+"_="+ya.guid+++bt),tt.url=B+bt),tt.ifModified&&(M.lastModified[B]&&Li.setRequestHeader("If-Modified-Since",M.lastModified[B]),M.etag[B]&&Li.setRequestHeader("If-None-Match",M.etag[B])),(tt.data&&tt.hasContent&&tt.contentType!==!1||R.contentType)&&Li.setRequestHeader("Content-Type",tt.contentType),Li.setRequestHeader("Accept",tt.dataTypes[0]&&tt.accepts[tt.dataTypes[0]]?tt.accepts[tt.dataTypes[0]]+(tt.dataTypes[0]!=="*"?", "+ol+"; q=0.01":""):tt.accepts["*"]);for(ft in tt.headers)Li.setRequestHeader(ft,tt.headers[ft]);if(tt.beforeSend&&(tt.beforeSend.call(Ft,Li,tt)===!1||_e))return Li.abort();if(Xa="abort",Kn.add(tt.complete),Li.done(tt.success),Li.fail(tt.error),U=ll($l,tt,R,Li),!U)Wl(-1,"No Transport");else{if(Li.readyState=1,He&&Wn.trigger("ajaxSend",[Li,tt]),_e)return Li;tt.async&&tt.timeout>0&&(te=e.setTimeout(function(){Li.abort("timeout")},tt.timeout));try{_e=!1,U.send(ss,Wl)}catch(yi){if(_e)throw yi;Wl(-1,yi)}}function Wl(yi,Qi,Bo,cl){var gs,ia,Is,mr,Ya,_a=Qi;_e||(_e=!0,te&&e.clearTimeout(te),U=void 0,q=cl||"",Li.readyState=yi>0?4:0,gs=yi>=200&&yi<300||yi===304,Bo&&(mr=Sf(tt,Li,Bo)),!gs&&M.inArray("script",tt.dataTypes)>-1&&M.inArray("json",tt.dataTypes)<0&&(tt.converters["text script"]=function(){}),mr=zo(tt,mr,Li,gs),gs?(tt.ifModified&&(Ya=Li.getResponseHeader("Last-Modified"),Ya&&(M.lastModified[B]=Ya),Ya=Li.getResponseHeader("etag"),Ya&&(M.etag[B]=Ya)),yi===204||tt.type==="HEAD"?_a="nocontent":yi===304?_a="notmodified":(_a=mr.state,ia=mr.data,Is=mr.error,gs=!Is)):(Is=_a,(yi||!_a)&&(_a="error",yi<0&&(yi=0))),Li.status=yi,Li.statusText=(Qi||_a)+"",gs?Ei.resolveWith(Ft,[ia,_a,Li]):Ei.rejectWith(Ft,[Li,_a,Is]),Li.statusCode(es),es=void 0,He&&Wn.trigger(gs?"ajaxSuccess":"ajaxError",[Li,tt,gs?ia:Is]),Kn.fireWith(Ft,[Li,_a]),He&&(Wn.trigger("ajaxComplete",[Li,tt]),--M.active||M.event.trigger("ajaxStop")))}return Li},getJSON:function(S,R,U){return M.get(S,R,U,"json")},getScript:function(S,R){return M.get(S,void 0,R,"script")}}),M.each(["get","post"],function(S,R){M[R]=function(U,B,q,W){return T(B)&&(W=W||q,q=B,B=void 0),M.ajax(M.extend({url:U,type:R,dataType:W,data:B,success:q},M.isPlainObject(U)&&U))}}),M.ajaxPrefilter(function(S){var R;for(R in S.headers)R.toLowerCase()==="content-type"&&(S.contentType=S.headers[R]||"")}),M._evalUrl=function(S,R,U){return M.ajax({url:S,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(B){M.globalEval(B,R,U)}})},M.fn.extend({wrapAll:function(S){var R;return this[0]&&(T(S)&&(S=S.call(this[0])),R=M(S,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&R.insertBefore(this[0]),R.map(function(){for(var U=this;U.firstElementChild;)U=U.firstElementChild;return U}).append(this)),this},wrapInner:function(S){return T(S)?this.each(function(R){M(this).wrapInner(S.call(this,R))}):this.each(function(){var R=M(this),U=R.contents();U.length?U.wrapAll(S):R.append(S)})},wrap:function(S){var R=T(S);return this.each(function(U){M(this).wrapAll(R?S.call(this,U):S)})},unwrap:function(S){return this.parent(S).not("body").each(function(){M(this).replaceWith(this.childNodes)}),this}}),M.expr.pseudos.hidden=function(S){return!M.expr.pseudos.visible(S)},M.expr.pseudos.visible=function(S){return!!(S.offsetWidth||S.offsetHeight||S.getClientRects().length)},M.ajaxSettings.xhr=function(){try{return new e.XMLHttpRequest}catch{}};var Uo={0:200,1223:204},Wa=M.ajaxSettings.xhr();x.cors=!!Wa&&"withCredentials"in Wa,x.ajax=Wa=!!Wa,M.ajaxTransport(function(S){var R,U;if(x.cors||Wa&&!S.crossDomain)return{send:function(B,q){var W,te=S.xhr();if(te.open(S.type,S.url,S.async,S.username,S.password),S.xhrFields)for(W in S.xhrFields)te[W]=S.xhrFields[W];S.mimeType&&te.overrideMimeType&&te.overrideMimeType(S.mimeType),!S.crossDomain&&!B["X-Requested-With"]&&(B["X-Requested-With"]="XMLHttpRequest");for(W in B)te.setRequestHeader(W,B[W]);R=function(Ce){return function(){R&&(R=U=te.onload=te.onerror=te.onabort=te.ontimeout=te.onreadystatechange=null,Ce==="abort"?te.abort():Ce==="error"?typeof te.status!="number"?q(0,"error"):q(te.status,te.statusText):q(Uo[te.status]||te.status,te.statusText,(te.responseType||"text")!=="text"||typeof te.responseText!="string"?{binary:te.response}:{text:te.responseText},te.getAllResponseHeaders()))}},te.onload=R(),U=te.onerror=te.ontimeout=R("error"),te.onabort!==void 0?te.onabort=U:te.onreadystatechange=function(){te.readyState===4&&e.setTimeout(function(){R&&U()})},R=R("abort");try{te.send(S.hasContent&&S.data||null)}catch(Ce){if(R)throw Ce}},abort:function(){R&&R()}}}),M.ajaxPrefilter(function(S){S.crossDomain&&(S.contents.script=!1)}),M.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(S){return M.globalEval(S),S}}}),M.ajaxPrefilter("script",function(S){S.cache===void 0&&(S.cache=!1),S.crossDomain&&(S.type="GET")}),M.ajaxTransport("script",function(S){if(S.crossDomain||S.scriptAttrs){var R,U;return{send:function(B,q){R=M("<script>").attr(S.scriptAttrs||{}).prop({charset:S.scriptCharset,src:S.url}).on("load error",U=function(W){R.remove(),U=null,W&&q(W.type==="error"?404:200,W.type)}),w.head.appendChild(R[0])},abort:function(){U&&U()}}}});var ql=[],Xc=/(=)\?(?=&|$)|\?\?/;M.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var S=ql.pop()||M.expando+"_"+ya.guid++;return this[S]=!0,S}}),M.ajaxPrefilter("json jsonp",function(S,R,U){var B,q,W,te=S.jsonp!==!1&&(Xc.test(S.url)?"url":typeof S.data=="string"&&(S.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&Xc.test(S.data)&&"data");if(te||S.dataTypes[0]==="jsonp")return B=S.jsonpCallback=T(S.jsonpCallback)?S.jsonpCallback():S.jsonpCallback,te?S[te]=S[te].replace(Xc,"$1"+B):S.jsonp!==!1&&(S.url+=(jc.test(S.url)?"&":"?")+S.jsonp+"="+B),S.converters["script json"]=function(){return W||M.error(B+" was not called"),W[0]},S.dataTypes[0]="json",q=e[B],e[B]=function(){W=arguments},U.always(function(){q===void 0?M(e).removeProp(B):e[B]=q,S[B]&&(S.jsonpCallback=R.jsonpCallback,ql.push(B)),W&&T(q)&&q(W[0]),W=q=void 0}),"script"}),x.createHTMLDocument=(function(){var S=w.implementation.createHTMLDocument("").body;return S.innerHTML="<form></form><form></form>",S.childNodes.length===2})(),M.parseHTML=function(S,R,U){if(typeof S!="string")return[];typeof R=="boolean"&&(U=R,R=!1);var B,q,W;return R||(x.createHTMLDocument?(R=w.implementation.createHTMLDocument(""),B=R.createElement("base"),B.href=w.location.href,R.head.appendChild(B)):R=w),q=ze.exec(S),W=!U&&[],q?[R.createElement(q[1])]:(q=Ur([S],R,W),W&&W.length&&M(W).remove(),M.merge([],q.childNodes))},M.fn.load=function(S,R,U){var B,q,W,te=this,Ce=S.indexOf(" ");return Ce>-1&&(B=Oa(S.slice(Ce)),S=S.slice(0,Ce)),T(R)?(U=R,R=void 0):R&&typeof R=="object"&&(q="POST"),te.length>0&&M.ajax({url:S,type:q||"GET",dataType:"html",data:R}).done(function(_e){W=arguments,te.html(B?M("<div>").append(M.parseHTML(_e)).find(B):_e)}).always(U&&function(_e,He){te.each(function(){U.apply(this,W||[_e.responseText,He,_e])})}),this},M.expr.pseudos.animated=function(S){return M.grep(M.timers,function(R){return S===R.elem}).length},M.offset={setOffset:function(S,R,U){var B,q,W,te,Ce,_e,He,ft=M.css(S,"position"),bt=M(S),tt={};ft==="static"&&(S.style.position="relative"),Ce=bt.offset(),W=M.css(S,"top"),_e=M.css(S,"left"),He=(ft==="absolute"||ft==="fixed")&&(W+_e).indexOf("auto")>-1,He?(B=bt.position(),te=B.top,q=B.left):(te=parseFloat(W)||0,q=parseFloat(_e)||0),T(R)&&(R=R.call(S,U,M.extend({},Ce))),R.top!=null&&(tt.top=R.top-Ce.top+te),R.left!=null&&(tt.left=R.left-Ce.left+q),"using"in R?R.using.call(S,tt):bt.css(tt)}},M.fn.extend({offset:function(S){if(arguments.length)return S===void 0?this:this.each(function(q){M.offset.setOffset(this,S,q)});var R,U,B=this[0];if(B)return B.getClientRects().length?(R=B.getBoundingClientRect(),U=B.ownerDocument.defaultView,{top:R.top+U.pageYOffset,left:R.left+U.pageXOffset}):{top:0,left:0}},position:function(){if(this[0]){var S,R,U,B=this[0],q={top:0,left:0};if(M.css(B,"position")==="fixed")R=B.getBoundingClientRect();else{for(R=this.offset(),U=B.ownerDocument,S=B.offsetParent||U.documentElement;S&&(S===U.body||S===U.documentElement)&&M.css(S,"position")==="static";)S=S.parentNode;S&&S!==B&&S.nodeType===1&&(q=M(S).offset(),q.top+=M.css(S,"borderTopWidth",!0),q.left+=M.css(S,"borderLeftWidth",!0))}return{top:R.top-q.top-M.css(B,"marginTop",!0),left:R.left-q.left-M.css(B,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var S=this.offsetParent;S&&M.css(S,"position")==="static";)S=S.offsetParent;return S||kt})}}),M.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(S,R){var U=R==="pageYOffset";M.fn[S]=function(B){return mt(this,function(q,W,te){var Ce;if(E(q)?Ce=q:q.nodeType===9&&(Ce=q.defaultView),te===void 0)return Ce?Ce[R]:q[W];Ce?Ce.scrollTo(U?Ce.pageXOffset:te,U?te:Ce.pageYOffset):q[W]=te},S,B,arguments.length)}}),M.each(["top","left"],function(S,R){M.cssHooks[R]=Me(x.pixelPosition,function(U,B){if(B)return B=we(U,R),nt.test(B)?M(U).position()[R]+"px":B})}),M.each({Height:"height",Width:"width"},function(S,R){M.each({padding:"inner"+S,content:R,"":"outer"+S},function(U,B){M.fn[B]=function(q,W){var te=arguments.length&&(U||typeof q!="boolean"),Ce=U||(q===!0||W===!0?"margin":"border");return mt(this,function(_e,He,ft){var bt;return E(_e)?B.indexOf("outer")===0?_e["inner"+S]:_e.document.documentElement["client"+S]:_e.nodeType===9?(bt=_e.documentElement,Math.max(_e.body["scroll"+S],bt["scroll"+S],_e.body["offset"+S],bt["offset"+S],bt["client"+S])):ft===void 0?M.css(_e,He,Ce):M.style(_e,He,ft,Ce)},R,te?q:void 0,te)}})}),M.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(S,R){M.fn[R]=function(U){return this.on(R,U)}}),M.fn.extend({bind:function(S,R,U){return this.on(S,null,R,U)},unbind:function(S,R){return this.off(S,null,R)},delegate:function(S,R,U,B){return this.on(R,S,U,B)},undelegate:function(S,R,U){return arguments.length===1?this.off(S,"**"):this.off(R,S||"**",U)},hover:function(S,R){return this.on("mouseenter",S).on("mouseleave",R||S)}}),M.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(S,R){M.fn[R]=function(U,B){return arguments.length>0?this.on(R,null,U,B):this.trigger(R)}});var bc=/^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g;M.proxy=function(S,R){var U,B,q;if(typeof R=="string"&&(U=S[R],R=S,S=U),!!T(S))return B=s.call(arguments,2),q=function(){return S.apply(R||this,B.concat(s.call(arguments)))},q.guid=S.guid=S.guid||M.guid++,q},M.holdReady=function(S){S?M.readyWait++:M.ready(!0)},M.isArray=Array.isArray,M.parseJSON=JSON.parse,M.nodeName=V,M.isFunction=T,M.isWindow=E,M.camelCase=bn,M.type=N,M.now=Date.now,M.isNumeric=function(S){var R=M.type(S);return(R==="number"||R==="string")&&!isNaN(S-parseFloat(S))},M.trim=function(S){return S==null?"":(S+"").replace(bc,"$1")};var qp=e.jQuery,ws=e.$;return M.noConflict=function(S){return e.$===M&&(e.$=ws),S&&e.jQuery===M&&(e.jQuery=qp),M},typeof t>"u"&&(e.jQuery=e.$=M),M})})(Ex)),Ex.exports}var b3;function Zk(){if(b3)return l0;b3=1;const n=Yk();return window.$=n,window.jQuery=n,(function(e,t,i,r){function s(a,o){this.settings=null,this.options=e.extend({},s.Defaults,o),this.$element=e(a),this._handlers={},this._plugins={},this._supress={},this._current=null,this._speed=null,this._coordinates=[],this._breakpoint=null,this._width=null,this._items=[],this._clones=[],this._mergers=[],this._widths=[],this._invalidated={},this._pipe=[],this._drag={time:null,target:null,pointer:null,stage:{start:null,current:null},direction:null},this._states={current:{},tags:{initializing:["busy"],animating:["busy"],dragging:["interacting"]}},e.each(["onResize","onThrottledResize"],e.proxy(function(l,u){this._handlers[u]=e.proxy(this[u],this)},this)),e.each(s.Plugins,e.proxy(function(l,u){this._plugins[l.charAt(0).toLowerCase()+l.slice(1)]=new u(this)},this)),e.each(s.Workers,e.proxy(function(l,u){this._pipe.push({filter:u.filter,run:e.proxy(u.run,this)})},this)),this.setup(),this.initialize()}s.Defaults={items:3,loop:!1,center:!1,rewind:!1,mouseDrag:!0,touchDrag:!0,pullDrag:!0,freeDrag:!1,margin:0,stagePadding:0,merge:!1,mergeFit:!0,autoWidth:!1,startPosition:0,rtl:!1,smartSpeed:250,fluidSpeed:!1,dragEndSpeed:!1,responsive:{},responsiveRefreshRate:200,responsiveBaseElement:t,fallbackEasing:"swing",info:!1,nestedItemSelector:!1,itemElement:"div",stageElement:"div",refreshClass:"owl-refresh",loadedClass:"owl-loaded",loadingClass:"owl-loading",rtlClass:"owl-rtl",responsiveClass:"owl-responsive",dragClass:"owl-drag",itemClass:"owl-item",stageClass:"owl-stage",stageOuterClass:"owl-stage-outer",grabClass:"owl-grab"},s.Width={Default:"default",Inner:"inner",Outer:"outer"},s.Type={Event:"event",State:"state"},s.Plugins={},s.Workers=[{filter:["width","settings"],run:function(){this._width=this.$element.width()}},{filter:["width","items","settings"],run:function(a){a.current=this._items&&this._items[this.relative(this._current)]}},{filter:["items","settings"],run:function(){this.$stage.children(".cloned").remove()}},{filter:["width","items","settings"],run:function(a){var o=this.settings.margin||"",l=!this.settings.autoWidth,u=this.settings.rtl,d={width:"auto","margin-left":u?o:"","margin-right":u?"":o};!l&&this.$stage.children().css(d),a.css=d}},{filter:["width","items","settings"],run:function(a){var o=(this.width()/this.settings.items).toFixed(3)-this.settings.margin,l=null,u=this._items.length,d=!this.settings.autoWidth,m=[];for(a.items={merge:!1,width:o};u--;)l=this._mergers[u],l=this.settings.mergeFit&&Math.min(l,this.settings.items)||l,a.items.merge=l>1||a.items.merge,m[u]=d?o*l:this._items[u].width();this._widths=m}},{filter:["items","settings"],run:function(){var a=[],o=this._items,l=this.settings,u=Math.max(2*l.items,4),d=2*Math.ceil(o.length/2),m=l.loop&&o.length?l.rewind?u:Math.max(u,d):0,v="",y="";for(m/=2;m>0;)a.push(this.normalize(a.length/2,!0)),v+=o[a[a.length-1]][0].outerHTML,a.push(this.normalize(o.length-1-(a.length-1)/2,!0)),y=o[a[a.length-1]][0].outerHTML+y,m-=1;this._clones=a,e(v).addClass("cloned").appendTo(this.$stage),e(y).addClass("cloned").prependTo(this.$stage)}},{filter:["width","items","settings"],run:function(){for(var a=this.settings.rtl?1:-1,o=this._clones.length+this._items.length,l=-1,u=0,d=0,m=[];++l<o;)u=m[l-1]||0,d=this._widths[this.relative(l)]+this.settings.margin,m.push(u+d*a);this._coordinates=m}},{filter:["width","items","settings"],run:function(){var a=this.settings.stagePadding,o=this._coordinates,l={width:Math.ceil(Math.abs(o[o.length-1]))+2*a,"padding-left":a||"","padding-right":a||""};this.$stage.css(l)}},{filter:["width","items","settings"],run:function(a){var o=this._coordinates.length,l=!this.settings.autoWidth,u=this.$stage.children();if(l&&a.items.merge)for(;o--;)a.css.width=this._widths[this.relative(o)],u.eq(o).css(a.css);else l&&(a.css.width=a.items.width,u.css(a.css))}},{filter:["items"],run:function(){this._coordinates.length<1&&this.$stage.removeAttr("style")}},{filter:["width","items","settings"],run:function(a){a.current=a.current?this.$stage.children().index(a.current):0,a.current=Math.max(this.minimum(),Math.min(this.maximum(),a.current)),this.reset(a.current)}},{filter:["position"],run:function(){this.animate(this.coordinates(this._current))}},{filter:["width","position","items","settings"],run:function(){var a,o,l,u,d=this.settings.rtl?1:-1,m=2*this.settings.stagePadding,v=this.coordinates(this.current())+m,y=v+this.width()*d,x=[];for(l=0,u=this._coordinates.length;u>l;l++)a=this._coordinates[l-1]||0,o=Math.abs(this._coordinates[l])+m*d,(this.op(a,"<=",v)&&this.op(a,">",y)||this.op(o,"<",v)&&this.op(o,">",y))&&x.push(l);this.$stage.children(".active").removeClass("active"),this.$stage.children(":eq("+x.join("), :eq(")+")").addClass("active"),this.$stage.children(".center").removeClass("center"),this.settings.center&&this.$stage.children().eq(this.current()).addClass("center")}}],s.prototype.initialize=function(){if(this.enter("initializing"),this.trigger("initialize"),this.$element.toggleClass(this.settings.rtlClass,this.settings.rtl),this.settings.autoWidth&&!this.is("pre-loading")){var a,o,l;a=this.$element.find("img"),o=this.settings.nestedItemSelector?"."+this.settings.nestedItemSelector:r,l=this.$element.children(o).width(),a.length&&0>=l&&this.preloadAutoWidthImages(a)}this.$element.addClass(this.options.loadingClass),this.$stage=e("<"+this.settings.stageElement+' class="'+this.settings.stageClass+'"/>').wrap('<div class="'+this.settings.stageOuterClass+'"/>'),this.$element.append(this.$stage.parent()),this.replace(this.$element.children().not(this.$stage.parent())),this.$element.is(":visible")?this.refresh():this.invalidate("width"),this.$element.removeClass(this.options.loadingClass).addClass(this.options.loadedClass),this.registerEventHandlers(),this.leave("initializing"),this.trigger("initialized")},s.prototype.setup=function(){var a=this.viewport(),o=this.options.responsive,l=-1,u=null;o?(e.each(o,function(d){a>=d&&d>l&&(l=Number(d))}),u=e.extend({},this.options,o[l]),typeof u.stagePadding=="function"&&(u.stagePadding=u.stagePadding()),delete u.responsive,u.responsiveClass&&this.$element.attr("class",this.$element.attr("class").replace(new RegExp("("+this.options.responsiveClass+"-)\\S+\\s","g"),"$1"+l))):u=e.extend({},this.options),this.trigger("change",{property:{name:"settings",value:u}}),this._breakpoint=l,this.settings=u,this.invalidate("settings"),this.trigger("changed",{property:{name:"settings",value:this.settings}})},s.prototype.optionsLogic=function(){this.settings.autoWidth&&(this.settings.stagePadding=!1,this.settings.merge=!1)},s.prototype.prepare=function(a){var o=this.trigger("prepare",{content:a});return o.data||(o.data=e("<"+this.settings.itemElement+"/>").addClass(this.options.itemClass).append(a)),this.trigger("prepared",{content:o.data}),o.data},s.prototype.update=function(){for(var a=0,o=this._pipe.length,l=e.proxy(function(d){return this[d]},this._invalidated),u={};o>a;)(this._invalidated.all||e.grep(this._pipe[a].filter,l).length>0)&&this._pipe[a].run(u),a++;this._invalidated={},!this.is("valid")&&this.enter("valid")},s.prototype.width=function(a){switch(a=a||s.Width.Default){case s.Width.Inner:case s.Width.Outer:return this._width;default:return this._width-2*this.settings.stagePadding+this.settings.margin}},s.prototype.refresh=function(){this.enter("refreshing"),this.trigger("refresh"),this.setup(),this.optionsLogic(),this.$element.addClass(this.options.refreshClass),this.update(),this.$element.removeClass(this.options.refreshClass),this.leave("refreshing"),this.trigger("refreshed")},s.prototype.onThrottledResize=function(){t.clearTimeout(this.resizeTimer),this.resizeTimer=t.setTimeout(this._handlers.onResize,this.settings.responsiveRefreshRate)},s.prototype.onResize=function(){return this._items.length?this._width===this.$element.width()?!1:this.$element.is(":visible")?(this.enter("resizing"),this.trigger("resize").isDefaultPrevented()?(this.leave("resizing"),!1):(this.invalidate("width"),this.refresh(),this.leave("resizing"),void this.trigger("resized"))):!1:!1},s.prototype.registerEventHandlers=function(){e.support.transition&&this.$stage.on(e.support.transition.end+".owl.core",e.proxy(this.onTransitionEnd,this)),this.settings.responsive!==!1&&this.on(t,"resize",this._handlers.onThrottledResize),this.settings.mouseDrag&&(this.$element.addClass(this.options.dragClass),this.$stage.on("mousedown.owl.core",e.proxy(this.onDragStart,this)),this.$stage.on("dragstart.owl.core selectstart.owl.core",function(){return!1})),this.settings.touchDrag&&(this.$stage.on("touchstart.owl.core",e.proxy(this.onDragStart,this)),this.$stage.on("touchcancel.owl.core",e.proxy(this.onDragEnd,this)))},s.prototype.onDragStart=function(a){var o=null;a.which!==3&&(e.support.transform?(o=this.$stage.css("transform").replace(/.*\(|\)| /g,"").split(","),o={x:o[o.length===16?12:4],y:o[o.length===16?13:5]}):(o=this.$stage.position(),o={x:this.settings.rtl?o.left+this.$stage.width()-this.width()+this.settings.margin:o.left,y:o.top}),this.is("animating")&&(e.support.transform?this.animate(o.x):this.$stage.stop(),this.invalidate("position")),this.$element.toggleClass(this.options.grabClass,a.type==="mousedown"),this.speed(0),this._drag.time=new Date().getTime(),this._drag.target=e(a.target),this._drag.stage.start=o,this._drag.stage.current=o,this._drag.pointer=this.pointer(a),e(i).on("mouseup.owl.core touchend.owl.core",e.proxy(this.onDragEnd,this)),e(i).one("mousemove.owl.core touchmove.owl.core",e.proxy(function(l){var u=this.difference(this._drag.pointer,this.pointer(l));e(i).on("mousemove.owl.core touchmove.owl.core",e.proxy(this.onDragMove,this)),Math.abs(u.x)<Math.abs(u.y)&&this.is("valid")||(l.preventDefault(),this.enter("dragging"),this.trigger("drag"))},this)))},s.prototype.onDragMove=function(a){var o=null,l=null,u=null,d=this.difference(this._drag.pointer,this.pointer(a)),m=this.difference(this._drag.stage.start,d);this.is("dragging")&&(a.preventDefault(),this.settings.loop?(o=this.coordinates(this.minimum()),l=this.coordinates(this.maximum()+1)-o,m.x=((m.x-o)%l+l)%l+o):(o=this.settings.rtl?this.coordinates(this.maximum()):this.coordinates(this.minimum()),l=this.settings.rtl?this.coordinates(this.minimum()):this.coordinates(this.maximum()),u=this.settings.pullDrag?-1*d.x/5:0,m.x=Math.max(Math.min(m.x,o+u),l+u)),this._drag.stage.current=m,this.animate(m.x))},s.prototype.onDragEnd=function(a){var o=this.difference(this._drag.pointer,this.pointer(a)),l=this._drag.stage.current,u=o.x>0^this.settings.rtl?"left":"right";e(i).off(".owl.core"),this.$element.removeClass(this.options.grabClass),(o.x!==0&&this.is("dragging")||!this.is("valid"))&&(this.speed(this.settings.dragEndSpeed||this.settings.smartSpeed),this.current(this.closest(l.x,o.x!==0?u:this._drag.direction)),this.invalidate("position"),this.update(),this._drag.direction=u,(Math.abs(o.x)>3||new Date().getTime()-this._drag.time>300)&&this._drag.target.one("click.owl.core",function(){return!1})),this.is("dragging")&&(this.leave("dragging"),this.trigger("dragged"))},s.prototype.closest=function(a,o){var l=-1,u=30,d=this.width(),m=this.coordinates();return this.settings.freeDrag||e.each(m,e.proxy(function(v,y){return o==="left"&&a>y-u&&y+u>a?l=v:o==="right"&&a>y-d-u&&y-d+u>a?l=v+1:this.op(a,"<",y)&&this.op(a,">",m[v+1]||y-d)&&(l=o==="left"?v+1:v),l===-1},this)),this.settings.loop||(this.op(a,">",m[this.minimum()])?l=a=this.minimum():this.op(a,"<",m[this.maximum()])&&(l=a=this.maximum())),l},s.prototype.animate=function(a){var o=this.speed()>0;this.is("animating")&&this.onTransitionEnd(),o&&(this.enter("animating"),this.trigger("translate")),e.support.transform3d&&e.support.transition?this.$stage.css({transform:"translate3d("+a+"px,0px,0px)",transition:this.speed()/1e3+"s"}):o?this.$stage.animate({left:a+"px"},this.speed(),this.settings.fallbackEasing,e.proxy(this.onTransitionEnd,this)):this.$stage.css({left:a+"px"})},s.prototype.is=function(a){return this._states.current[a]&&this._states.current[a]>0},s.prototype.current=function(a){if(a===r)return this._current;if(this._items.length===0)return r;if(a=this.normalize(a),this._current!==a){var o=this.trigger("change",{property:{name:"position",value:a}});o.data!==r&&(a=this.normalize(o.data)),this._current=a,this.invalidate("position"),this.trigger("changed",{property:{name:"position",value:this._current}})}return this._current},s.prototype.invalidate=function(a){return e.type(a)==="string"&&(this._invalidated[a]=!0,this.is("valid")&&this.leave("valid")),e.map(this._invalidated,function(o,l){return l})},s.prototype.reset=function(a){a=this.normalize(a),a!==r&&(this._speed=0,this._current=a,this.suppress(["translate","translated"]),this.animate(this.coordinates(a)),this.release(["translate","translated"]))},s.prototype.normalize=function(a,o){var l=this._items.length,u=o?0:this._clones.length;return!this.isNumeric(a)||1>l?a=r:(0>a||a>=l+u)&&(a=((a-u/2)%l+l)%l+u/2),a},s.prototype.relative=function(a){return a-=this._clones.length/2,this.normalize(a,!0)},s.prototype.maximum=function(a){var o,l,u,d=this.settings,m=this._coordinates.length;if(d.loop)m=this._clones.length/2+this._items.length-1;else if(d.autoWidth||d.merge){if(o=this._items.length)for(l=this._items[--o].width(),u=this.$element.width();o--&&(l+=this._items[o].width()+this.settings.margin,!(l>u)););m=o+1}else m=d.center?this._items.length-1:this._items.length-d.items;return a&&(m-=this._clones.length/2),Math.max(m,0)},s.prototype.minimum=function(a){return a?0:this._clones.length/2},s.prototype.items=function(a){return a===r?this._items.slice():(a=this.normalize(a,!0),this._items[a])},s.prototype.mergers=function(a){return a===r?this._mergers.slice():(a=this.normalize(a,!0),this._mergers[a])},s.prototype.clones=function(a){var o=this._clones.length/2,l=o+this._items.length,u=function(d){return d%2===0?l+d/2:o-(d+1)/2};return a===r?e.map(this._clones,function(d,m){return u(m)}):e.map(this._clones,function(d,m){return d===a?u(m):null})},s.prototype.speed=function(a){return a!==r&&(this._speed=a),this._speed},s.prototype.coordinates=function(a){var o,l=1,u=a-1;return a===r?e.map(this._coordinates,e.proxy(function(d,m){return this.coordinates(m)},this)):(this.settings.center?(this.settings.rtl&&(l=-1,u=a+1),o=this._coordinates[a],o+=(this.width()-o+(this._coordinates[u]||0))/2*l):o=this._coordinates[u]||0,o=Math.ceil(o))},s.prototype.duration=function(a,o,l){return l===0?0:Math.min(Math.max(Math.abs(o-a),1),6)*Math.abs(l||this.settings.smartSpeed)},s.prototype.to=function(a,o){var l=this.current(),u=null,d=a-this.relative(l),m=(d>0)-(0>d),v=this._items.length,y=this.minimum(),x=this.maximum();this.settings.loop?(!this.settings.rewind&&Math.abs(d)>v/2&&(d+=-1*m*v),a=l+d,u=((a-y)%v+v)%v+y,u!==a&&x>=u-d&&u-d>0&&(l=u-d,a=u,this.reset(l))):this.settings.rewind?(x+=1,a=(a%x+x)%x):a=Math.max(y,Math.min(x,a)),this.speed(this.duration(l,a,o)),this.current(a),this.$element.is(":visible")&&this.update()},s.prototype.next=function(a){a=a||!1,this.to(this.relative(this.current())+1,a)},s.prototype.prev=function(a){a=a||!1,this.to(this.relative(this.current())-1,a)},s.prototype.onTransitionEnd=function(a){return a!==r&&(a.stopPropagation(),(a.target||a.srcElement||a.originalTarget)!==this.$stage.get(0))?!1:(this.leave("animating"),void this.trigger("translated"))},s.prototype.viewport=function(){var a;return this.options.responsiveBaseElement!==t?a=e(this.options.responsiveBaseElement).width():t.innerWidth?a=t.innerWidth:i.documentElement&&i.documentElement.clientWidth?a=i.documentElement.clientWidth:console.warn("Can not detect viewport width."),a},s.prototype.replace=function(a){this.$stage.empty(),this._items=[],a&&(a=a instanceof jQuery?a:e(a)),this.settings.nestedItemSelector&&(a=a.find("."+this.settings.nestedItemSelector)),a.filter(function(){return this.nodeType===1}).each(e.proxy(function(o,l){l=this.prepare(l),this.$stage.append(l),this._items.push(l),this._mergers.push(1*l.find("[data-merge]").addBack("[data-merge]").attr("data-merge")||1)},this)),this.reset(this.isNumeric(this.settings.startPosition)?this.settings.startPosition:0),this.invalidate("items")},s.prototype.add=function(a,o){var l=this.relative(this._current);o=o===r?this._items.length:this.normalize(o,!0),a=a instanceof jQuery?a:e(a),this.trigger("add",{content:a,position:o}),a=this.prepare(a),this._items.length===0||o===this._items.length?(this._items.length===0&&this.$stage.append(a),this._items.length!==0&&this._items[o-1].after(a),this._items.push(a),this._mergers.push(1*a.find("[data-merge]").addBack("[data-merge]").attr("data-merge")||1)):(this._items[o].before(a),this._items.splice(o,0,a),this._mergers.splice(o,0,1*a.find("[data-merge]").addBack("[data-merge]").attr("data-merge")||1)),this._items[l]&&this.reset(this._items[l].index()),this.invalidate("items"),this.trigger("added",{content:a,position:o})},s.prototype.remove=function(a){a=this.normalize(a,!0),a!==r&&(this.trigger("remove",{content:this._items[a],position:a}),this._items[a].remove(),this._items.splice(a,1),this._mergers.splice(a,1),this.invalidate("items"),this.trigger("removed",{content:null,position:a}))},s.prototype.preloadAutoWidthImages=function(a){a.each(e.proxy(function(o,l){this.enter("pre-loading"),l=e(l),e(new Image).one("load",e.proxy(function(u){l.attr("src",u.target.src),l.css("opacity",1),this.leave("pre-loading"),!this.is("pre-loading")&&!this.is("initializing")&&this.refresh()},this)).attr("src",l.attr("src")||l.attr("data-src")||l.attr("data-src-retina"))},this))},s.prototype.destroy=function(){this.$element.off(".owl.core"),this.$stage.off(".owl.core"),e(i).off(".owl.core"),this.settings.responsive!==!1&&(t.clearTimeout(this.resizeTimer),this.off(t,"resize",this._handlers.onThrottledResize));for(var a in this._plugins)this._plugins[a].destroy();this.$stage.children(".cloned").remove(),this.$stage.unwrap(),this.$stage.children().contents().unwrap(),this.$stage.children().unwrap(),this.$stage.remove(),this.$element.removeClass(this.options.refreshClass).removeClass(this.options.loadingClass).removeClass(this.options.loadedClass).removeClass(this.options.rtlClass).removeClass(this.options.dragClass).removeClass(this.options.grabClass).attr("class",this.$element.attr("class").replace(new RegExp(this.options.responsiveClass+"-\\S+\\s","g"),"")).removeData("owl.carousel")},s.prototype.op=function(a,o,l){var u=this.settings.rtl;switch(o){case"<":return u?a>l:l>a;case">":return u?l>a:a>l;case">=":return u?l>=a:a>=l;case"<=":return u?a>=l:l>=a}},s.prototype.on=function(a,o,l,u){a.addEventListener?a.addEventListener(o,l,u):a.attachEvent&&a.attachEvent("on"+o,l)},s.prototype.off=function(a,o,l,u){a.removeEventListener?a.removeEventListener(o,l,u):a.detachEvent&&a.detachEvent("on"+o,l)},s.prototype.trigger=function(a,o,l,u,d){var m={item:{count:this._items.length,index:this.current()}},v=e.camelCase(e.grep(["on",a,l],function(x){return x}).join("-").toLowerCase()),y=e.Event([a,"owl",l||"carousel"].join(".").toLowerCase(),e.extend({relatedTarget:this},m,o));return this._supress[a]||(e.each(this._plugins,function(x,T){T.onTrigger&&T.onTrigger(y)}),this.register({type:s.Type.Event,name:a}),this.$element.trigger(y),this.settings&&typeof this.settings[v]=="function"&&this.settings[v].call(this,y)),y},s.prototype.enter=function(a){e.each([a].concat(this._states.tags[a]||[]),e.proxy(function(o,l){this._states.current[l]===r&&(this._states.current[l]=0),this._states.current[l]++},this))},s.prototype.leave=function(a){e.each([a].concat(this._states.tags[a]||[]),e.proxy(function(o,l){this._states.current[l]--},this))},s.prototype.register=function(a){if(a.type===s.Type.Event){if(e.event.special[a.name]||(e.event.special[a.name]={}),!e.event.special[a.name].owl){var o=e.event.special[a.name]._default;e.event.special[a.name]._default=function(l){return!o||!o.apply||l.namespace&&l.namespace.indexOf("owl")!==-1?l.namespace&&l.namespace.indexOf("owl")>-1:o.apply(this,arguments)},e.event.special[a.name].owl=!0}}else a.type===s.Type.State&&(this._states.tags[a.name]?this._states.tags[a.name]=this._states.tags[a.name].concat(a.tags):this._states.tags[a.name]=a.tags,this._states.tags[a.name]=e.grep(this._states.tags[a.name],e.proxy(function(l,u){return e.inArray(l,this._states.tags[a.name])===u},this)))},s.prototype.suppress=function(a){e.each(a,e.proxy(function(o,l){this._supress[l]=!0},this))},s.prototype.release=function(a){e.each(a,e.proxy(function(o,l){delete this._supress[l]},this))},s.prototype.pointer=function(a){var o={x:null,y:null};return a=a.originalEvent||a||t.event,a=a.touches&&a.touches.length?a.touches[0]:a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:a,a.pageX?(o.x=a.pageX,o.y=a.pageY):(o.x=a.clientX,o.y=a.clientY),o},s.prototype.isNumeric=function(a){return!isNaN(parseFloat(a))},s.prototype.difference=function(a,o){return{x:a.x-o.x,y:a.y-o.y}},e.fn.owlCarousel=function(a){var o=Array.prototype.slice.call(arguments,1);return this.each(function(){var l=e(this),u=l.data("owl.carousel");u||(u=new s(this,typeof a=="object"&&a),l.data("owl.carousel",u),e.each(["next","prev","to","destroy","refresh","replace","add","remove"],function(d,m){u.register({type:s.Type.Event,name:m}),u.$element.on(m+".owl.carousel.core",e.proxy(function(v){v.namespace&&v.relatedTarget!==this&&(this.suppress([m]),u[m].apply(this,[].slice.call(arguments,1)),this.release([m]))},u))})),typeof a=="string"&&a.charAt(0)!=="_"&&u[a].apply(u,o)})},e.fn.owlCarousel.Constructor=s})(window.Zepto||window.jQuery,window,document),(function(e,t,i,r){var s=function(a){this._core=a,this._interval=null,this._visible=null,this._handlers={"initialized.owl.carousel":e.proxy(function(o){o.namespace&&this._core.settings.autoRefresh&&this.watch()},this)},this._core.options=e.extend({},s.Defaults,this._core.options),this._core.$element.on(this._handlers)};s.Defaults={autoRefresh:!0,autoRefreshInterval:500},s.prototype.watch=function(){this._interval||(this._visible=this._core.$element.is(":visible"),this._interval=t.setInterval(e.proxy(this.refresh,this),this._core.settings.autoRefreshInterval))},s.prototype.refresh=function(){this._core.$element.is(":visible")!==this._visible&&(this._visible=!this._visible,this._core.$element.toggleClass("owl-hidden",!this._visible),this._visible&&this._core.invalidate("width")&&this._core.refresh())},s.prototype.destroy=function(){var a,o;t.clearInterval(this._interval);for(a in this._handlers)this._core.$element.off(a,this._handlers[a]);for(o in Object.getOwnPropertyNames(this))typeof this[o]!="function"&&(this[o]=null)},e.fn.owlCarousel.Constructor.Plugins.AutoRefresh=s})(window.Zepto||window.jQuery,window),(function(e,t,i,r){var s=function(a){this._core=a,this._loaded=[],this._handlers={"initialized.owl.carousel change.owl.carousel resized.owl.carousel":e.proxy(function(o){if(o.namespace&&this._core.settings&&this._core.settings.lazyLoad&&(o.property&&o.property.name=="position"||o.type=="initialized"))for(var l=this._core.settings,u=l.center&&Math.ceil(l.items/2)||l.items,d=l.center&&-1*u||0,m=(o.property&&o.property.value!==r?o.property.value:this._core.current())+d,v=this._core.clones().length,y=e.proxy(function(x,T){this.load(T)},this);d++<u;)this.load(v/2+this._core.relative(m)),v&&e.each(this._core.clones(this._core.relative(m)),y),m++},this)},this._core.options=e.extend({},s.Defaults,this._core.options),this._core.$element.on(this._handlers)};s.Defaults={lazyLoad:!1},s.prototype.load=function(a){var o=this._core.$stage.children().eq(a),l=o&&o.find(".owl-lazy");!l||e.inArray(o.get(0),this._loaded)>-1||(l.each(e.proxy(function(u,d){var m,v=e(d),y=t.devicePixelRatio>1&&v.attr("data-src-retina")||v.attr("data-src");this._core.trigger("load",{element:v,url:y},"lazy"),v.is("img")?v.one("load.owl.lazy",e.proxy(function(){v.css("opacity",1),this._core.trigger("loaded",{element:v,url:y},"lazy")},this)).attr("src",y):(m=new Image,m.onload=e.proxy(function(){v.css({"background-image":'url("'+y+'")',opacity:"1"}),this._core.trigger("loaded",{element:v,url:y},"lazy")},this),m.src=y)},this)),this._loaded.push(o.get(0)))},s.prototype.destroy=function(){var a,o;for(a in this.handlers)this._core.$element.off(a,this.handlers[a]);for(o in Object.getOwnPropertyNames(this))typeof this[o]!="function"&&(this[o]=null)},e.fn.owlCarousel.Constructor.Plugins.Lazy=s})(window.Zepto||window.jQuery,window),(function(e,t,i,r){var s=function(a){this._core=a,this._handlers={"initialized.owl.carousel refreshed.owl.carousel":e.proxy(function(o){o.namespace&&this._core.settings.autoHeight&&this.update()},this),"changed.owl.carousel":e.proxy(function(o){o.namespace&&this._core.settings.autoHeight&&o.property.name=="position"&&this.update()},this),"loaded.owl.lazy":e.proxy(function(o){o.namespace&&this._core.settings.autoHeight&&o.element.closest("."+this._core.settings.itemClass).index()===this._core.current()&&this.update()},this)},this._core.options=e.extend({},s.Defaults,this._core.options),this._core.$element.on(this._handlers)};s.Defaults={autoHeight:!1,autoHeightClass:"owl-height"},s.prototype.update=function(){var a=this._core._current,o=a+this._core.settings.items,l=this._core.$stage.children().toArray().slice(a,o),u=[],d=0;e.each(l,function(m,v){u.push(e(v).height())}),d=Math.max.apply(null,u),this._core.$stage.parent().height(d).addClass(this._core.settings.autoHeightClass)},s.prototype.destroy=function(){var a,o;for(a in this._handlers)this._core.$element.off(a,this._handlers[a]);for(o in Object.getOwnPropertyNames(this))typeof this[o]!="function"&&(this[o]=null)},e.fn.owlCarousel.Constructor.Plugins.AutoHeight=s})(window.Zepto||window.jQuery),(function(e,t,i,r){var s=function(a){this._core=a,this._videos={},this._playing=null,this._handlers={"initialized.owl.carousel":e.proxy(function(o){o.namespace&&this._core.register({type:"state",name:"playing",tags:["interacting"]})},this),"resize.owl.carousel":e.proxy(function(o){o.namespace&&this._core.settings.video&&this.isInFullScreen()&&o.preventDefault()},this),"refreshed.owl.carousel":e.proxy(function(o){o.namespace&&this._core.is("resizing")&&this._core.$stage.find(".cloned .owl-video-frame").remove()},this),"changed.owl.carousel":e.proxy(function(o){o.namespace&&o.property.name==="position"&&this._playing&&this.stop()},this),"prepared.owl.carousel":e.proxy(function(o){if(o.namespace){var l=e(o.content).find(".owl-video");l.length&&(l.css("display","none"),this.fetch(l,e(o.content)))}},this)},this._core.options=e.extend({},s.Defaults,this._core.options),this._core.$element.on(this._handlers),this._core.$element.on("click.owl.video",".owl-video-play-icon",e.proxy(function(o){this.play(o)},this))};s.Defaults={video:!1,videoHeight:!1,videoWidth:!1},s.prototype.fetch=function(a,o){var l=(function(){return a.attr("data-vimeo-id")?"vimeo":a.attr("data-vzaar-id")?"vzaar":"youtube"})(),u=a.attr("data-vimeo-id")||a.attr("data-youtube-id")||a.attr("data-vzaar-id"),d=a.attr("data-width")||this._core.settings.videoWidth,m=a.attr("data-height")||this._core.settings.videoHeight,v=a.attr("href");if(!v)throw new Error("Missing video URL.");if(u=v.match(/(http:|https:|)\/\/(player.|www.|app.)?(vimeo\.com|youtu(be\.com|\.be|be\.googleapis\.com)|vzaar\.com)\/(video\/|videos\/|embed\/|channels\/.+\/|groups\/.+\/|watch\?v=|v\/)?([A-Za-z0-9._%-]*)(\&\S+)?/),u[3].indexOf("youtu")>-1)l="youtube";else if(u[3].indexOf("vimeo")>-1)l="vimeo";else{if(!(u[3].indexOf("vzaar")>-1))throw new Error("Video URL not supported.");l="vzaar"}u=u[6],this._videos[v]={type:l,id:u,width:d,height:m},o.attr("data-video",v),this.thumbnail(a,this._videos[v])},s.prototype.thumbnail=function(a,o){var l,u,d,m=o.width&&o.height?'style="width:'+o.width+"px;height:"+o.height+'px;"':"",v=a.find("img"),y="src",x="",T=this._core.settings,E=function(w){u='<div class="owl-video-play-icon"></div>',l=T.lazyLoad?'<div class="owl-video-tn '+x+'" '+y+'="'+w+'"></div>':'<div class="owl-video-tn" style="opacity:1;background-image:url('+w+')"></div>',a.after(l),a.after(u)};return a.wrap('<div class="owl-video-wrapper"'+m+"></div>"),this._core.settings.lazyLoad&&(y="data-src",x="owl-lazy"),v.length?(E(v.attr(y)),v.remove(),!1):void(o.type==="youtube"?(d="//img.youtube.com/vi/"+o.id+"/hqdefault.jpg",E(d)):o.type==="vimeo"?e.ajax({type:"GET",url:"//vimeo.com/api/v2/video/"+o.id+".json",jsonp:"callback",dataType:"jsonp",success:function(w){d=w[0].thumbnail_large,E(d)}}):o.type==="vzaar"&&e.ajax({type:"GET",url:"//vzaar.com/api/videos/"+o.id+".json",jsonp:"callback",dataType:"jsonp",success:function(w){d=w.framegrab_url,E(d)}}))},s.prototype.stop=function(){this._core.trigger("stop",null,"video"),this._playing.find(".owl-video-frame").remove(),this._playing.removeClass("owl-video-playing"),this._playing=null,this._core.leave("playing"),this._core.trigger("stopped",null,"video")},s.prototype.play=function(a){var o,l=e(a.target),u=l.closest("."+this._core.settings.itemClass),d=this._videos[u.attr("data-video")],m=d.width||"100%",v=d.height||this._core.$stage.height();this._playing||(this._core.enter("playing"),this._core.trigger("play",null,"video"),u=this._core.items(this._core.relative(u.index())),this._core.reset(u.index()),d.type==="youtube"?o='<iframe width="'+m+'" height="'+v+'" src="//www.youtube.com/embed/'+d.id+"?autoplay=1&rel=0&v="+d.id+'" frameborder="0" allowfullscreen></iframe>':d.type==="vimeo"?o='<iframe src="//player.vimeo.com/video/'+d.id+'?autoplay=1" width="'+m+'" height="'+v+'" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe>':d.type==="vzaar"&&(o='<iframe frameborder="0"height="'+v+'"width="'+m+'" allowfullscreen mozallowfullscreen webkitAllowFullScreen src="//view.vzaar.com/'+d.id+'/player?autoplay=true"></iframe>'),e('<div class="owl-video-frame">'+o+"</div>").insertAfter(u.find(".owl-video")),this._playing=u.addClass("owl-video-playing"))},s.prototype.isInFullScreen=function(){var a=i.fullscreenElement||i.mozFullScreenElement||i.webkitFullscreenElement;return a&&e(a).parent().hasClass("owl-video-frame")},s.prototype.destroy=function(){var a,o;this._core.$element.off("click.owl.video");for(a in this._handlers)this._core.$element.off(a,this._handlers[a]);for(o in Object.getOwnPropertyNames(this))typeof this[o]!="function"&&(this[o]=null)},e.fn.owlCarousel.Constructor.Plugins.Video=s})(window.Zepto||window.jQuery,window,document),(function(e,t,i,r){var s=function(a){this.core=a,this.core.options=e.extend({},s.Defaults,this.core.options),this.swapping=!0,this.previous=r,this.next=r,this.handlers={"change.owl.carousel":e.proxy(function(o){o.namespace&&o.property.name=="position"&&(this.previous=this.core.current(),this.next=o.property.value)},this),"drag.owl.carousel dragged.owl.carousel translated.owl.carousel":e.proxy(function(o){o.namespace&&(this.swapping=o.type=="translated")},this),"translate.owl.carousel":e.proxy(function(o){o.namespace&&this.swapping&&(this.core.options.animateOut||this.core.options.animateIn)&&this.swap()},this)},this.core.$element.on(this.handlers)};s.Defaults={animateOut:!1,animateIn:!1},s.prototype.swap=function(){if(this.core.settings.items===1&&e.support.animation&&e.support.transition){this.core.speed(0);var a,o=e.proxy(this.clear,this),l=this.core.$stage.children().eq(this.previous),u=this.core.$stage.children().eq(this.next),d=this.core.settings.animateIn,m=this.core.settings.animateOut;this.core.current()!==this.previous&&(m&&(a=this.core.coordinates(this.previous)-this.core.coordinates(this.next),l.one(e.support.animation.end,o).css({left:a+"px"}).addClass("animated owl-animated-out").addClass(m)),d&&u.one(e.support.animation.end,o).addClass("animated owl-animated-in").addClass(d))}},s.prototype.clear=function(a){e(a.target).css({left:""}).removeClass("animated owl-animated-out owl-animated-in").removeClass(this.core.settings.animateIn).removeClass(this.core.settings.animateOut),this.core.onTransitionEnd()},s.prototype.destroy=function(){var a,o;for(a in this.handlers)this.core.$element.off(a,this.handlers[a]);for(o in Object.getOwnPropertyNames(this))typeof this[o]!="function"&&(this[o]=null)},e.fn.owlCarousel.Constructor.Plugins.Animate=s})(window.Zepto||window.jQuery),(function(e,t,i,r){var s=function(a){this._core=a,this._call=null,this._time=0,this._timeout=0,this._paused=!0,this._handlers={"changed.owl.carousel":e.proxy(function(o){o.namespace&&o.property.name==="settings"?this._core.settings.autoplay?this.play():this.stop():o.namespace&&o.property.name==="position"&&this._paused&&(this._time=0)},this),"initialized.owl.carousel":e.proxy(function(o){o.namespace&&this._core.settings.autoplay&&this.play()},this),"play.owl.autoplay":e.proxy(function(o,l,u){o.namespace&&this.play(l,u)},this),"stop.owl.autoplay":e.proxy(function(o){o.namespace&&this.stop()},this),"mouseover.owl.autoplay":e.proxy(function(){this._core.settings.autoplayHoverPause&&this._core.is("rotating")&&this.pause()},this),"mouseleave.owl.autoplay":e.proxy(function(){this._core.settings.autoplayHoverPause&&this._core.is("rotating")&&this.play()},this),"touchstart.owl.core":e.proxy(function(){this._core.settings.autoplayHoverPause&&this._core.is("rotating")&&this.pause()},this),"touchend.owl.core":e.proxy(function(){this._core.settings.autoplayHoverPause&&this.play()},this)},this._core.$element.on(this._handlers),this._core.options=e.extend({},s.Defaults,this._core.options)};s.Defaults={autoplay:!1,autoplayTimeout:5e3,autoplayHoverPause:!1,autoplaySpeed:!1},s.prototype._next=function(a){this._call=t.setTimeout(e.proxy(this._next,this,a),this._timeout*(Math.round(this.read()/this._timeout)+1)-this.read()),this._core.is("busy")||this._core.is("interacting")||i.hidden||this._core.next(a||this._core.settings.autoplaySpeed)},s.prototype.read=function(){return new Date().getTime()-this._time},s.prototype.play=function(a,o){var l;this._core.is("rotating")||this._core.enter("rotating"),a=a||this._core.settings.autoplayTimeout,l=Math.min(this._time%(this._timeout||a),a),this._paused?(this._time=this.read(),this._paused=!1):t.clearTimeout(this._call),this._time+=this.read()%a-l,this._timeout=a,this._call=t.setTimeout(e.proxy(this._next,this,o),a-l)},s.prototype.stop=function(){this._core.is("rotating")&&(this._time=0,this._paused=!0,t.clearTimeout(this._call),this._core.leave("rotating"))},s.prototype.pause=function(){this._core.is("rotating")&&!this._paused&&(this._time=this.read(),this._paused=!0,t.clearTimeout(this._call))},s.prototype.destroy=function(){var a,o;this.stop();for(a in this._handlers)this._core.$element.off(a,this._handlers[a]);for(o in Object.getOwnPropertyNames(this))typeof this[o]!="function"&&(this[o]=null)},e.fn.owlCarousel.Constructor.Plugins.autoplay=s})(window.Zepto||window.jQuery,window,document),(function(e,t,i,r){var s=function(a){this._core=a,this._initialized=!1,this._pages=[],this._controls={},this._templates=[],this.$element=this._core.$element,this._overrides={next:this._core.next,prev:this._core.prev,to:this._core.to},this._handlers={"prepared.owl.carousel":e.proxy(function(o){o.namespace&&this._core.settings.dotsData&&this._templates.push('<div class="'+this._core.settings.dotClass+'">'+e(o.content).find("[data-dot]").addBack("[data-dot]").attr("data-dot")+"</div>")},this),"added.owl.carousel":e.proxy(function(o){o.namespace&&this._core.settings.dotsData&&this._templates.splice(o.position,0,this._templates.pop())},this),"remove.owl.carousel":e.proxy(function(o){o.namespace&&this._core.settings.dotsData&&this._templates.splice(o.position,1)},this),"changed.owl.carousel":e.proxy(function(o){o.namespace&&o.property.name=="position"&&this.draw()},this),"initialized.owl.carousel":e.proxy(function(o){o.namespace&&!this._initialized&&(this._core.trigger("initialize",null,"navigation"),this.initialize(),this.update(),this.draw(),this._initialized=!0,this._core.trigger("initialized",null,"navigation"))},this),"refreshed.owl.carousel":e.proxy(function(o){o.namespace&&this._initialized&&(this._core.trigger("refresh",null,"navigation"),this.update(),this.draw(),this._core.trigger("refreshed",null,"navigation"))},this)},this._core.options=e.extend({},s.Defaults,this._core.options),this.$element.on(this._handlers)};s.Defaults={nav:!1,navText:['<span aria-label="prev">&#x2039;</span>','<span aria-label="next">&#x203a;</span>'],navSpeed:!1,navElement:'button role="presentation"',navContainer:!1,navContainerClass:"owl-nav",navClass:["owl-prev","owl-next"],slideBy:1,dotClass:"owl-dot",dotsClass:"owl-dots",dots:!0,dotsEach:!1,dotsData:!1,dotsSpeed:!1,dotsContainer:!1},s.prototype.initialize=function(){var a,o=this._core.settings;this._controls.$relative=(o.navContainer?e(o.navContainer):e("<div>").addClass(o.navContainerClass).appendTo(this.$element)).addClass("disabled"),this._controls.$previous=e("<"+o.navElement+">").addClass(o.navClass[0]).html(o.navText[0]).prependTo(this._controls.$relative).on("click",e.proxy(function(l){this.prev(o.navSpeed)},this)),this._controls.$next=e("<"+o.navElement+">").addClass(o.navClass[1]).html(o.navText[1]).appendTo(this._controls.$relative).on("click",e.proxy(function(l){this.next(o.navSpeed)},this)),o.dotsData||(this._templates=[e("<button>").addClass(o.dotClass).append(e("<span>")).prop("outerHTML")]),this._controls.$absolute=(o.dotsContainer?e(o.dotsContainer):e("<div>").addClass(o.dotsClass).appendTo(this.$element)).addClass("disabled"),this._controls.$absolute.on("click","button",e.proxy(function(l){var u=e(l.target).parent().is(this._controls.$absolute)?e(l.target).index():e(l.target).parent().index();l.preventDefault(),this.to(u,o.dotsSpeed)},this));for(a in this._overrides)this._core[a]=e.proxy(this[a],this)},s.prototype.destroy=function(){var a,o,l,u;for(a in this._handlers)this.$element.off(a,this._handlers[a]);for(o in this._controls)o==="$relative"&&settings.navContainer?this._controls[o].html(""):this._controls[o].remove();for(u in this.overides)this._core[u]=this._overrides[u];for(l in Object.getOwnPropertyNames(this))typeof this[l]!="function"&&(this[l]=null)},s.prototype.update=function(){var a,o,l=this._core.clones().length/2,u=l+this._core.items().length,d=this._core.maximum(!0),m=this._core.settings,v=m.center||m.autoWidth||m.dotsData?1:m.dotsEach||m.items;if(m.slideBy!=="page"&&(m.slideBy=Math.min(m.slideBy,m.items)),m.dots||m.slideBy=="page")for(this._pages=[],a=l,o=0,0;u>a;a++){if(o>=v||o===0){if(this._pages.push({start:Math.min(d,a-l),end:a-l+v-1}),Math.min(d,a-l)===d)break;o=0}o+=this._core.mergers(this._core.relative(a))}},s.prototype.draw=function(){var a,o=this._core.settings,l=this._core.items().length<=o.items,u=this._core.relative(this._core.current()),d=o.loop||o.rewind;this._controls.$relative.toggleClass("disabled",!o.nav||l),o.nav&&(this._controls.$previous.toggleClass("disabled",!d&&u<=this._core.minimum(!0)),this._controls.$next.toggleClass("disabled",!d&&u>=this._core.maximum(!0))),this._controls.$absolute.toggleClass("disabled",!o.dots||l),o.dots&&(a=this._pages.length-this._controls.$absolute.children().length,o.dotsData&&a!==0?this._controls.$absolute.html(this._templates.join("")):a>0?this._controls.$absolute.append(new Array(a+1).join(this._templates[0])):0>a&&this._controls.$absolute.children().slice(a).remove(),this._controls.$absolute.find(".active").removeClass("active"),this._controls.$absolute.children().eq(e.inArray(this.current(),this._pages)).addClass("active"))},s.prototype.onTrigger=function(a){var o=this._core.settings;a.page={index:e.inArray(this.current(),this._pages),count:this._pages.length,size:o&&(o.center||o.autoWidth||o.dotsData?1:o.dotsEach||o.items)}},s.prototype.current=function(){var a=this._core.relative(this._core.current());return e.grep(this._pages,e.proxy(function(o,l){return o.start<=a&&o.end>=a},this)).pop()},s.prototype.getPosition=function(a){var o,l,u=this._core.settings;return u.slideBy=="page"?(o=e.inArray(this.current(),this._pages),l=this._pages.length,a?++o:--o,o=this._pages[(o%l+l)%l].start):(o=this._core.relative(this._core.current()),l=this._core.items().length,a?o+=u.slideBy:o-=u.slideBy),o},s.prototype.next=function(a){e.proxy(this._overrides.to,this._core)(this.getPosition(!0),a)},s.prototype.prev=function(a){e.proxy(this._overrides.to,this._core)(this.getPosition(!1),a)},s.prototype.to=function(a,o,l){var u;!l&&this._pages.length?(u=this._pages.length,e.proxy(this._overrides.to,this._core)(this._pages[(a%u+u)%u].start,o)):e.proxy(this._overrides.to,this._core)(a,o)},e.fn.owlCarousel.Constructor.Plugins.Navigation=s})(window.Zepto||window.jQuery),(function(e,t,i,r){var s=function(a){this._core=a,this._hashes={},this.$element=this._core.$element,this._handlers={"initialized.owl.carousel":e.proxy(function(o){o.namespace&&this._core.settings.startPosition==="URLHash"&&e(t).trigger("hashchange.owl.navigation")},this),"prepared.owl.carousel":e.proxy(function(o){if(o.namespace){var l=e(o.content).find("[data-hash]").addBack("[data-hash]").attr("data-hash");if(!l)return;this._hashes[l]=o.content}},this),"changed.owl.carousel":e.proxy(function(o){if(o.namespace&&o.property.name==="position"){var l=this._core.items(this._core.relative(this._core.current())),u=e.map(this._hashes,function(d,m){return d===l?m:null}).join();if(!u||t.location.hash.slice(1)===u)return;t.location.hash=u}},this)},this._core.options=e.extend({},s.Defaults,this._core.options),this.$element.on(this._handlers),e(t).on("hashchange.owl.navigation",e.proxy(function(o){var l=t.location.hash.substring(1),u=this._core.$stage.children(),d=this._hashes[l]&&u.index(this._hashes[l]);d!==r&&d!==this._core.current()&&this._core.to(this._core.relative(d),!1,!0)},this))};s.Defaults={URLhashListener:!1},s.prototype.destroy=function(){var a,o;e(t).off("hashchange.owl.navigation");for(a in this._handlers)this._core.$element.off(a,this._handlers[a]);for(o in Object.getOwnPropertyNames(this))typeof this[o]!="function"&&(this[o]=null)},e.fn.owlCarousel.Constructor.Plugins.Hash=s})(window.Zepto||window.jQuery,window),(function(e,t,i,r){function s(m,v){var y=!1,x=m.charAt(0).toUpperCase()+m.slice(1);return e.each((m+" "+l.join(x+" ")+x).split(" "),function(T,E){return o[E]!==r?(y=v?E:!0,!1):void 0}),y}function a(m){return s(m,!0)}var o=e("<support>").get(0).style,l="Webkit Moz O ms".split(" "),u={transition:{end:{WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",transition:"transitionend"}},animation:{end:{WebkitAnimation:"webkitAnimationEnd",MozAnimation:"animationend",OAnimation:"oAnimationEnd",animation:"animationend"}}},d={csstransforms:function(){return!!s("transform")},csstransforms3d:function(){return!!s("perspective")},csstransitions:function(){return!!s("transition")},cssanimations:function(){return!!s("animation")}};d.csstransitions()&&(e.support.transition=new String(a("transition")),e.support.transition.end=u.transition.end[e.support.transition]),d.cssanimations()&&(e.support.animation=new String(a("animation")),e.support.animation.end=u.animation.end[e.support.animation]),d.csstransforms()&&(e.support.transform=new String(a("transform")),e.support.transform3d=d.csstransforms3d())})(window.Zepto||window.jQuery),jQuery.easing.jswing=jQuery.easing.swing,jQuery.extend(jQuery.easing,{def:"easeOutQuad",swing:function(e,t,i,r,s){return jQuery.easing[jQuery.easing.def](e,t,i,r,s)},easeInQuad:function(e,t,i,r,s){return r*(t/=s)*t+i},easeOutQuad:function(e,t,i,r,s){return-r*(t/=s)*(t-2)+i},easeInOutQuad:function(e,t,i,r,s){return(t/=s/2)<1?r/2*t*t+i:-r/2*(--t*(t-2)-1)+i},easeInCubic:function(e,t,i,r,s){return r*(t/=s)*t*t+i},easeOutCubic:function(e,t,i,r,s){return r*((t=t/s-1)*t*t+1)+i},easeInOutCubic:function(e,t,i,r,s){return(t/=s/2)<1?r/2*t*t*t+i:r/2*((t-=2)*t*t+2)+i},easeInQuart:function(e,t,i,r,s){return r*(t/=s)*t*t*t+i},easeOutQuart:function(e,t,i,r,s){return-r*((t=t/s-1)*t*t*t-1)+i},easeInOutQuart:function(e,t,i,r,s){return(t/=s/2)<1?r/2*t*t*t*t+i:-r/2*((t-=2)*t*t*t-2)+i},easeInQuint:function(e,t,i,r,s){return r*(t/=s)*t*t*t*t+i},easeOutQuint:function(e,t,i,r,s){return r*((t=t/s-1)*t*t*t*t+1)+i},easeInOutQuint:function(e,t,i,r,s){return(t/=s/2)<1?r/2*t*t*t*t*t+i:r/2*((t-=2)*t*t*t*t+2)+i},easeInSine:function(e,t,i,r,s){return-r*Math.cos(t/s*(Math.PI/2))+r+i},easeOutSine:function(e,t,i,r,s){return r*Math.sin(t/s*(Math.PI/2))+i},easeInOutSine:function(e,t,i,r,s){return-r/2*(Math.cos(Math.PI*t/s)-1)+i},easeInExpo:function(e,t,i,r,s){return t==0?i:r*Math.pow(2,10*(t/s-1))+i},easeOutExpo:function(e,t,i,r,s){return t==s?i+r:r*(-Math.pow(2,-10*t/s)+1)+i},easeInOutExpo:function(e,t,i,r,s){return t==0?i:t==s?i+r:(t/=s/2)<1?r/2*Math.pow(2,10*(t-1))+i:r/2*(-Math.pow(2,-10*--t)+2)+i},easeInCirc:function(e,t,i,r,s){return-r*(Math.sqrt(1-(t/=s)*t)-1)+i},easeOutCirc:function(e,t,i,r,s){return r*Math.sqrt(1-(t=t/s-1)*t)+i},easeInOutCirc:function(e,t,i,r,s){return(t/=s/2)<1?-r/2*(Math.sqrt(1-t*t)-1)+i:r/2*(Math.sqrt(1-(t-=2)*t)+1)+i},easeInElastic:function(e,t,i,r,s){var l=1.70158,a=0,o=r;if(t==0)return i;if((t/=s)==1)return i+r;if(a||(a=s*.3),o<Math.abs(r)){o=r;var l=a/4}else var l=a/(2*Math.PI)*Math.asin(r/o);return-(o*Math.pow(2,10*(t-=1))*Math.sin((t*s-l)*(2*Math.PI)/a))+i},easeOutElastic:function(e,t,i,r,s){var l=1.70158,a=0,o=r;if(t==0)return i;if((t/=s)==1)return i+r;if(a||(a=s*.3),o<Math.abs(r)){o=r;var l=a/4}else var l=a/(2*Math.PI)*Math.asin(r/o);return o*Math.pow(2,-10*t)*Math.sin((t*s-l)*(2*Math.PI)/a)+r+i},easeInOutElastic:function(e,t,i,r,s){var l=1.70158,a=0,o=r;if(t==0)return i;if((t/=s/2)==2)return i+r;if(a||(a=s*(.3*1.5)),o<Math.abs(r)){o=r;var l=a/4}else var l=a/(2*Math.PI)*Math.asin(r/o);return t<1?-.5*(o*Math.pow(2,10*(t-=1))*Math.sin((t*s-l)*(2*Math.PI)/a))+i:o*Math.pow(2,-10*(t-=1))*Math.sin((t*s-l)*(2*Math.PI)/a)*.5+r+i},easeInBack:function(e,t,i,r,s,a){return a==null&&(a=1.70158),r*(t/=s)*t*((a+1)*t-a)+i},easeOutBack:function(e,t,i,r,s,a){return a==null&&(a=1.70158),r*((t=t/s-1)*t*((a+1)*t+a)+1)+i},easeInOutBack:function(e,t,i,r,s,a){return a==null&&(a=1.70158),(t/=s/2)<1?r/2*(t*t*(((a*=1.525)+1)*t-a))+i:r/2*((t-=2)*t*(((a*=1.525)+1)*t+a)+2)+i},easeInBounce:function(e,t,i,r,s){return r-jQuery.easing.easeOutBounce(e,s-t,0,r,s)+i},easeOutBounce:function(e,t,i,r,s){return(t/=s)<1/2.75?r*(7.5625*t*t)+i:t<2/2.75?r*(7.5625*(t-=1.5/2.75)*t+.75)+i:t<2.5/2.75?r*(7.5625*(t-=2.25/2.75)*t+.9375)+i:r*(7.5625*(t-=2.625/2.75)*t+.984375)+i},easeInOutBounce:function(e,t,i,r,s){return t<s/2?jQuery.easing.easeInBounce(e,t*2,0,r,s)*.5+i:jQuery.easing.easeOutBounce(e,t*2-s,0,r,s)*.5+r*.5+i}}),(function(e){e.fn.niceSelect=function(t){function i(s){s.after(e("<div></div>").addClass("nice-select").addClass(s.attr("class")||"").addClass(s.attr("disabled")?"disabled":"").attr("tabindex",s.attr("disabled")?null:"0").html('<span class="current"></span><ul class="list"></ul>'));const a=s.next(),o=s.find("option"),l=s.find("option:selected");a.find(".current").html(l.data("display")||l.text()),o.each(function(u){const d=e(this),m=d.data("display");a.find("ul").append(e("<li></li>").attr("data-value",d.val()).attr("data-display",m||null).addClass(`option${d.is(":selected")?" selected":""}${d.is(":disabled")?" disabled":""}`).html(d.text()))})}if(typeof t=="string")return t=="update"?this.each(function(){const s=e(this),a=e(this).next(".nice-select"),o=a.hasClass("open");a.length&&(a.remove(),i(s),o&&s.next().trigger("click"))}):t=="destroy"?(this.each(function(){const s=e(this),a=e(this).next(".nice-select");a.length&&(a.remove(),s.css("display",""))}),e(".nice-select").length==0&&e(document).off(".nice_select")):console.log(`Method "${t}" does not exist.`),this;this.hide(),this.each(function(){const s=e(this);s.next().hasClass("nice-select")||i(s)}),e(document).off(".nice_select"),e(document).on("click.nice_select",".nice-select",function(s){const a=e(this);e(".nice-select").not(a).removeClass("open"),a.toggleClass("open"),a.hasClass("open")?(a.find(".option"),a.find(".focus").removeClass("focus"),a.find(".selected").addClass("focus")):a.focus()}),e(document).on("click.nice_select",s=>{e(s.target).closest(".nice-select").length===0&&e(".nice-select").removeClass("open").find(".option")}),e(document).on("click.nice_select",".nice-select .option:not(.disabled)",function(s){const a=e(this),o=a.closest(".nice-select");o.find(".selected").removeClass("selected"),a.addClass("selected");const l=a.data("display")||a.text();o.find(".current").text(l),o.prev("select").val(a.data("value")).trigger("change")}),e(document).on("keydown.nice_select",".nice-select",function(s){const a=e(this),o=e(a.find(".focus")||a.find(".list .option.selected"));if(s.keyCode==32||s.keyCode==13)return a.hasClass("open")?o.trigger("click"):a.trigger("click"),!1;if(s.keyCode==40){if(a.hasClass("open")){const l=o.nextAll(".option:not(.disabled)").first();l.length>0&&(a.find(".focus").removeClass("focus"),l.addClass("focus"))}else a.trigger("click");return!1}if(s.keyCode==38){if(a.hasClass("open")){const l=o.prevAll(".option:not(.disabled)").first();l.length>0&&(a.find(".focus").removeClass("focus"),l.addClass("focus"))}else a.trigger("click");return!1}if(s.keyCode==27)a.hasClass("open")&&a.trigger("click");else if(s.keyCode==9&&a.hasClass("open"))return!1});const r=document.createElement("a").style;return r.cssText="pointer-events:auto",r.pointerEvents!=="auto"&&e("html").addClass("no-csspointerevents"),this}})(jQuery),l0.$=n,l0.Jquery=n,l0.jquery=n,l0}var h2=Zk(),$E={exports:{}},c0={},qE={exports:{}},WE={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var x3;function Kk(){return x3||(x3=1,(function(n){function e(J,de){var he=J.length;J.push(de);e:for(;0<he;){var Le=he-1>>>1,ne=J[Le];if(0<r(ne,de))J[Le]=de,J[he]=ne,he=Le;else break e}}function t(J){return J.length===0?null:J[0]}function i(J){if(J.length===0)return null;var de=J[0],he=J.pop();if(he!==de){J[0]=he;e:for(var Le=0,ne=J.length,re=ne>>>1;Le<re;){var ze=2*(Le+1)-1,Ve=J[ze],xe=ze+1,$e=J[xe];if(0>r(Ve,he))xe<ne&&0>r($e,Ve)?(J[Le]=$e,J[xe]=he,Le=xe):(J[Le]=Ve,J[ze]=he,Le=ze);else if(xe<ne&&0>r($e,he))J[Le]=$e,J[xe]=he,Le=xe;else break e}}return de}function r(J,de){var he=J.sortIndex-de.sortIndex;return he!==0?he:J.id-de.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var a=Date,o=a.now();n.unstable_now=function(){return a.now()-o}}var l=[],u=[],d=1,m=null,v=3,y=!1,x=!1,T=!1,E=!1,w=typeof setTimeout=="function"?setTimeout:null,P=typeof clearTimeout=="function"?clearTimeout:null,D=typeof setImmediate<"u"?setImmediate:null;function N(J){for(var de=t(u);de!==null;){if(de.callback===null)i(u);else if(de.startTime<=J)i(u),de.sortIndex=de.expirationTime,e(l,de);else break;de=t(u)}}function G(J){if(T=!1,N(J),!x)if(t(l)!==null)x=!0,k||(k=!0,pe());else{var de=t(u);de!==null&&Te(G,de.startTime-J)}}var k=!1,M=-1,$=5,V=-1;function H(){return E?!0:!(n.unstable_now()-V<$)}function ee(){if(E=!1,k){var J=n.unstable_now();V=J;var de=!0;try{e:{x=!1,T&&(T=!1,P(M),M=-1),y=!0;var he=v;try{t:{for(N(J),m=t(l);m!==null&&!(m.expirationTime>J&&H());){var Le=m.callback;if(typeof Le=="function"){m.callback=null,v=m.priorityLevel;var ne=Le(m.expirationTime<=J);if(J=n.unstable_now(),typeof ne=="function"){m.callback=ne,N(J),de=!0;break t}m===t(l)&&i(l),N(J)}else i(l);m=t(l)}if(m!==null)de=!0;else{var re=t(u);re!==null&&Te(G,re.startTime-J),de=!1}}break e}finally{m=null,v=he,y=!1}de=void 0}}finally{de?pe():k=!1}}}var pe;if(typeof D=="function")pe=function(){D(ee)};else if(typeof MessageChannel<"u"){var ae=new MessageChannel,ye=ae.port2;ae.port1.onmessage=ee,pe=function(){ye.postMessage(null)}}else pe=function(){w(ee,0)};function Te(J,de){M=w(function(){J(n.unstable_now())},de)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(J){J.callback=null},n.unstable_forceFrameRate=function(J){0>J||125<J?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):$=0<J?Math.floor(1e3/J):5},n.unstable_getCurrentPriorityLevel=function(){return v},n.unstable_next=function(J){switch(v){case 1:case 2:case 3:var de=3;break;default:de=v}var he=v;v=de;try{return J()}finally{v=he}},n.unstable_requestPaint=function(){E=!0},n.unstable_runWithPriority=function(J,de){switch(J){case 1:case 2:case 3:case 4:case 5:break;default:J=3}var he=v;v=J;try{return de()}finally{v=he}},n.unstable_scheduleCallback=function(J,de,he){var Le=n.unstable_now();switch(typeof he=="object"&&he!==null?(he=he.delay,he=typeof he=="number"&&0<he?Le+he:Le):he=Le,J){case 1:var ne=-1;break;case 2:ne=250;break;case 5:ne=1073741823;break;case 4:ne=1e4;break;default:ne=5e3}return ne=he+ne,J={id:d++,callback:de,priorityLevel:J,startTime:he,expirationTime:ne,sortIndex:-1},he>Le?(J.sortIndex=he,e(u,J),t(l)===null&&J===t(u)&&(T?(P(M),M=-1):T=!0,Te(G,he-Le))):(J.sortIndex=ne,e(l,J),x||y||(x=!0,k||(k=!0,pe()))),J},n.unstable_shouldYield=H,n.unstable_wrapCallback=function(J){var de=v;return function(){var he=v;v=de;try{return J.apply(this,arguments)}finally{v=he}}}})(WE)),WE}var S3;function Qk(){return S3||(S3=1,qE.exports=Kk()),qE.exports}var XE={exports:{}},Bi={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var w3;function Jk(){if(w3)return Bi;w3=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),a=Symbol.for("react.context"),o=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),m=Symbol.iterator;function v(ne){return ne===null||typeof ne!="object"?null:(ne=m&&ne[m]||ne["@@iterator"],typeof ne=="function"?ne:null)}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,T={};function E(ne,re,ze){this.props=ne,this.context=re,this.refs=T,this.updater=ze||y}E.prototype.isReactComponent={},E.prototype.setState=function(ne,re){if(typeof ne!="object"&&typeof ne!="function"&&ne!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,ne,re,"setState")},E.prototype.forceUpdate=function(ne){this.updater.enqueueForceUpdate(this,ne,"forceUpdate")};function w(){}w.prototype=E.prototype;function P(ne,re,ze){this.props=ne,this.context=re,this.refs=T,this.updater=ze||y}var D=P.prototype=new w;D.constructor=P,x(D,E.prototype),D.isPureReactComponent=!0;var N=Array.isArray,G={H:null,A:null,T:null,S:null,V:null},k=Object.prototype.hasOwnProperty;function M(ne,re,ze,Ve,xe,$e){return ze=$e.ref,{$$typeof:n,type:ne,key:re,ref:ze!==void 0?ze:null,props:$e}}function $(ne,re){return M(ne.type,re,void 0,void 0,void 0,ne.props)}function V(ne){return typeof ne=="object"&&ne!==null&&ne.$$typeof===n}function H(ne){var re={"=":"=0",":":"=2"};return"$"+ne.replace(/[=:]/g,function(ze){return re[ze]})}var ee=/\/+/g;function pe(ne,re){return typeof ne=="object"&&ne!==null&&ne.key!=null?H(""+ne.key):re.toString(36)}function ae(){}function ye(ne){switch(ne.status){case"fulfilled":return ne.value;case"rejected":throw ne.reason;default:switch(typeof ne.status=="string"?ne.then(ae,ae):(ne.status="pending",ne.then(function(re){ne.status==="pending"&&(ne.status="fulfilled",ne.value=re)},function(re){ne.status==="pending"&&(ne.status="rejected",ne.reason=re)})),ne.status){case"fulfilled":return ne.value;case"rejected":throw ne.reason}}throw ne}function Te(ne,re,ze,Ve,xe){var $e=typeof ne;($e==="undefined"||$e==="boolean")&&(ne=null);var Ze=!1;if(ne===null)Ze=!0;else switch($e){case"bigint":case"string":case"number":Ze=!0;break;case"object":switch(ne.$$typeof){case n:case e:Ze=!0;break;case d:return Ze=ne._init,Te(Ze(ne._payload),re,ze,Ve,xe)}}if(Ze)return xe=xe(ne),Ze=Ve===""?"."+pe(ne,0):Ve,N(xe)?(ze="",Ze!=null&&(ze=Ze.replace(ee,"$&/")+"/"),Te(xe,re,ze,"",function(vt){return vt})):xe!=null&&(V(xe)&&(xe=$(xe,ze+(xe.key==null||ne&&ne.key===xe.key?"":(""+xe.key).replace(ee,"$&/")+"/")+Ze)),re.push(xe)),1;Ze=0;var gt=Ve===""?".":Ve+":";if(N(ne))for(var yt=0;yt<ne.length;yt++)Ve=ne[yt],$e=gt+pe(Ve,yt),Ze+=Te(Ve,re,ze,$e,xe);else if(yt=v(ne),typeof yt=="function")for(ne=yt.call(ne),yt=0;!(Ve=ne.next()).done;)Ve=Ve.value,$e=gt+pe(Ve,yt++),Ze+=Te(Ve,re,ze,$e,xe);else if($e==="object"){if(typeof ne.then=="function")return Te(ye(ne),re,ze,Ve,xe);throw re=String(ne),Error("Objects are not valid as a React child (found: "+(re==="[object Object]"?"object with keys {"+Object.keys(ne).join(", ")+"}":re)+"). If you meant to render a collection of children, use an array instead.")}return Ze}function J(ne,re,ze){if(ne==null)return ne;var Ve=[],xe=0;return Te(ne,Ve,"","",function($e){return re.call(ze,$e,xe++)}),Ve}function de(ne){if(ne._status===-1){var re=ne._result;re=re(),re.then(function(ze){(ne._status===0||ne._status===-1)&&(ne._status=1,ne._result=ze)},function(ze){(ne._status===0||ne._status===-1)&&(ne._status=2,ne._result=ze)}),ne._status===-1&&(ne._status=0,ne._result=re)}if(ne._status===1)return ne._result.default;throw ne._result}var he=typeof reportError=="function"?reportError:function(ne){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var re=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof ne=="object"&&ne!==null&&typeof ne.message=="string"?String(ne.message):String(ne),error:ne});if(!window.dispatchEvent(re))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",ne);return}console.error(ne)};function Le(){}return Bi.Children={map:J,forEach:function(ne,re,ze){J(ne,function(){re.apply(this,arguments)},ze)},count:function(ne){var re=0;return J(ne,function(){re++}),re},toArray:function(ne){return J(ne,function(re){return re})||[]},only:function(ne){if(!V(ne))throw Error("React.Children.only expected to receive a single React element child.");return ne}},Bi.Component=E,Bi.Fragment=t,Bi.Profiler=r,Bi.PureComponent=P,Bi.StrictMode=i,Bi.Suspense=l,Bi.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=G,Bi.__COMPILER_RUNTIME={__proto__:null,c:function(ne){return G.H.useMemoCache(ne)}},Bi.cache=function(ne){return function(){return ne.apply(null,arguments)}},Bi.cloneElement=function(ne,re,ze){if(ne==null)throw Error("The argument must be a React element, but you passed "+ne+".");var Ve=x({},ne.props),xe=ne.key,$e=void 0;if(re!=null)for(Ze in re.ref!==void 0&&($e=void 0),re.key!==void 0&&(xe=""+re.key),re)!k.call(re,Ze)||Ze==="key"||Ze==="__self"||Ze==="__source"||Ze==="ref"&&re.ref===void 0||(Ve[Ze]=re[Ze]);var Ze=arguments.length-2;if(Ze===1)Ve.children=ze;else if(1<Ze){for(var gt=Array(Ze),yt=0;yt<Ze;yt++)gt[yt]=arguments[yt+2];Ve.children=gt}return M(ne.type,xe,void 0,void 0,$e,Ve)},Bi.createContext=function(ne){return ne={$$typeof:a,_currentValue:ne,_currentValue2:ne,_threadCount:0,Provider:null,Consumer:null},ne.Provider=ne,ne.Consumer={$$typeof:s,_context:ne},ne},Bi.createElement=function(ne,re,ze){var Ve,xe={},$e=null;if(re!=null)for(Ve in re.key!==void 0&&($e=""+re.key),re)k.call(re,Ve)&&Ve!=="key"&&Ve!=="__self"&&Ve!=="__source"&&(xe[Ve]=re[Ve]);var Ze=arguments.length-2;if(Ze===1)xe.children=ze;else if(1<Ze){for(var gt=Array(Ze),yt=0;yt<Ze;yt++)gt[yt]=arguments[yt+2];xe.children=gt}if(ne&&ne.defaultProps)for(Ve in Ze=ne.defaultProps,Ze)xe[Ve]===void 0&&(xe[Ve]=Ze[Ve]);return M(ne,$e,void 0,void 0,null,xe)},Bi.createRef=function(){return{current:null}},Bi.forwardRef=function(ne){return{$$typeof:o,render:ne}},Bi.isValidElement=V,Bi.lazy=function(ne){return{$$typeof:d,_payload:{_status:-1,_result:ne},_init:de}},Bi.memo=function(ne,re){return{$$typeof:u,type:ne,compare:re===void 0?null:re}},Bi.startTransition=function(ne){var re=G.T,ze={};G.T=ze;try{var Ve=ne(),xe=G.S;xe!==null&&xe(ze,Ve),typeof Ve=="object"&&Ve!==null&&typeof Ve.then=="function"&&Ve.then(Le,he)}catch($e){he($e)}finally{G.T=re}},Bi.unstable_useCacheRefresh=function(){return G.H.useCacheRefresh()},Bi.use=function(ne){return G.H.use(ne)},Bi.useActionState=function(ne,re,ze){return G.H.useActionState(ne,re,ze)},Bi.useCallback=function(ne,re){return G.H.useCallback(ne,re)},Bi.useContext=function(ne){return G.H.useContext(ne)},Bi.useDebugValue=function(){},Bi.useDeferredValue=function(ne,re){return G.H.useDeferredValue(ne,re)},Bi.useEffect=function(ne,re,ze){var Ve=G.H;if(typeof ze=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return Ve.useEffect(ne,re)},Bi.useId=function(){return G.H.useId()},Bi.useImperativeHandle=function(ne,re,ze){return G.H.useImperativeHandle(ne,re,ze)},Bi.useInsertionEffect=function(ne,re){return G.H.useInsertionEffect(ne,re)},Bi.useLayoutEffect=function(ne,re){return G.H.useLayoutEffect(ne,re)},Bi.useMemo=function(ne,re){return G.H.useMemo(ne,re)},Bi.useOptimistic=function(ne,re){return G.H.useOptimistic(ne,re)},Bi.useReducer=function(ne,re,ze){return G.H.useReducer(ne,re,ze)},Bi.useRef=function(ne){return G.H.useRef(ne)},Bi.useState=function(ne){return G.H.useState(ne)},Bi.useSyncExternalStore=function(ne,re,ze){return G.H.useSyncExternalStore(ne,re,ze)},Bi.useTransition=function(){return G.H.useTransition()},Bi.version="19.1.1",Bi}var E3;function Sg(){return E3||(E3=1,XE.exports=Jk()),XE.exports}var YE={exports:{}},Xo={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var T3;function e8(){if(T3)return Xo;T3=1;var n=Sg();function e(l){var u="https://react.dev/errors/"+l;if(1<arguments.length){u+="?args[]="+encodeURIComponent(arguments[1]);for(var d=2;d<arguments.length;d++)u+="&args[]="+encodeURIComponent(arguments[d])}return"Minified React error #"+l+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var i={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},r=Symbol.for("react.portal");function s(l,u,d){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:m==null?null:""+m,children:l,containerInfo:u,implementation:d}}var a=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function o(l,u){if(l==="font")return"";if(typeof u=="string")return u==="use-credentials"?u:""}return Xo.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Xo.createPortal=function(l,u){var d=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!u||u.nodeType!==1&&u.nodeType!==9&&u.nodeType!==11)throw Error(e(299));return s(l,u,null,d)},Xo.flushSync=function(l){var u=a.T,d=i.p;try{if(a.T=null,i.p=2,l)return l()}finally{a.T=u,i.p=d,i.d.f()}},Xo.preconnect=function(l,u){typeof l=="string"&&(u?(u=u.crossOrigin,u=typeof u=="string"?u==="use-credentials"?u:"":void 0):u=null,i.d.C(l,u))},Xo.prefetchDNS=function(l){typeof l=="string"&&i.d.D(l)},Xo.preinit=function(l,u){if(typeof l=="string"&&u&&typeof u.as=="string"){var d=u.as,m=o(d,u.crossOrigin),v=typeof u.integrity=="string"?u.integrity:void 0,y=typeof u.fetchPriority=="string"?u.fetchPriority:void 0;d==="style"?i.d.S(l,typeof u.precedence=="string"?u.precedence:void 0,{crossOrigin:m,integrity:v,fetchPriority:y}):d==="script"&&i.d.X(l,{crossOrigin:m,integrity:v,fetchPriority:y,nonce:typeof u.nonce=="string"?u.nonce:void 0})}},Xo.preinitModule=function(l,u){if(typeof l=="string")if(typeof u=="object"&&u!==null){if(u.as==null||u.as==="script"){var d=o(u.as,u.crossOrigin);i.d.M(l,{crossOrigin:d,integrity:typeof u.integrity=="string"?u.integrity:void 0,nonce:typeof u.nonce=="string"?u.nonce:void 0})}}else u==null&&i.d.M(l)},Xo.preload=function(l,u){if(typeof l=="string"&&typeof u=="object"&&u!==null&&typeof u.as=="string"){var d=u.as,m=o(d,u.crossOrigin);i.d.L(l,d,{crossOrigin:m,integrity:typeof u.integrity=="string"?u.integrity:void 0,nonce:typeof u.nonce=="string"?u.nonce:void 0,type:typeof u.type=="string"?u.type:void 0,fetchPriority:typeof u.fetchPriority=="string"?u.fetchPriority:void 0,referrerPolicy:typeof u.referrerPolicy=="string"?u.referrerPolicy:void 0,imageSrcSet:typeof u.imageSrcSet=="string"?u.imageSrcSet:void 0,imageSizes:typeof u.imageSizes=="string"?u.imageSizes:void 0,media:typeof u.media=="string"?u.media:void 0})}},Xo.preloadModule=function(l,u){if(typeof l=="string")if(u){var d=o(u.as,u.crossOrigin);i.d.m(l,{as:typeof u.as=="string"&&u.as!=="script"?u.as:void 0,crossOrigin:d,integrity:typeof u.integrity=="string"?u.integrity:void 0})}else i.d.m(l)},Xo.requestFormReset=function(l){i.d.r(l)},Xo.unstable_batchedUpdates=function(l,u){return l(u)},Xo.useFormState=function(l,u,d){return a.H.useFormState(l,u,d)},Xo.useFormStatus=function(){return a.H.useHostTransitionStatus()},Xo.version="19.1.1",Xo}var M3;function ON(){if(M3)return YE.exports;M3=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),YE.exports=e8(),YE.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var A3;function t8(){if(A3)return c0;A3=1;var n=Qk(),e=Sg(),t=ON();function i(c){var f="https://react.dev/errors/"+c;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)f+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+c+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(c){return!(!c||c.nodeType!==1&&c.nodeType!==9&&c.nodeType!==11)}function s(c){var f=c,g=c;if(c.alternate)for(;f.return;)f=f.return;else{c=f;do f=c,(f.flags&4098)!==0&&(g=f.return),c=f.return;while(c)}return f.tag===3?g:null}function a(c){if(c.tag===13){var f=c.memoizedState;if(f===null&&(c=c.alternate,c!==null&&(f=c.memoizedState)),f!==null)return f.dehydrated}return null}function o(c){if(s(c)!==c)throw Error(i(188))}function l(c){var f=c.alternate;if(!f){if(f=s(c),f===null)throw Error(i(188));return f!==c?null:c}for(var g=c,_=f;;){var A=g.return;if(A===null)break;var L=A.alternate;if(L===null){if(_=A.return,_!==null){g=_;continue}break}if(A.child===L.child){for(L=A.child;L;){if(L===g)return o(A),c;if(L===_)return o(A),f;L=L.sibling}throw Error(i(188))}if(g.return!==_.return)g=A,_=L;else{for(var X=!1,se=A.child;se;){if(se===g){X=!0,g=A,_=L;break}if(se===_){X=!0,_=A,g=L;break}se=se.sibling}if(!X){for(se=L.child;se;){if(se===g){X=!0,g=L,_=A;break}if(se===_){X=!0,_=L,g=A;break}se=se.sibling}if(!X)throw Error(i(189))}}if(g.alternate!==_)throw Error(i(190))}if(g.tag!==3)throw Error(i(188));return g.stateNode.current===g?c:f}function u(c){var f=c.tag;if(f===5||f===26||f===27||f===6)return c;for(c=c.child;c!==null;){if(f=u(c),f!==null)return f;c=c.sibling}return null}var d=Object.assign,m=Symbol.for("react.element"),v=Symbol.for("react.transitional.element"),y=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),w=Symbol.for("react.provider"),P=Symbol.for("react.consumer"),D=Symbol.for("react.context"),N=Symbol.for("react.forward_ref"),G=Symbol.for("react.suspense"),k=Symbol.for("react.suspense_list"),M=Symbol.for("react.memo"),$=Symbol.for("react.lazy"),V=Symbol.for("react.activity"),H=Symbol.for("react.memo_cache_sentinel"),ee=Symbol.iterator;function pe(c){return c===null||typeof c!="object"?null:(c=ee&&c[ee]||c["@@iterator"],typeof c=="function"?c:null)}var ae=Symbol.for("react.client.reference");function ye(c){if(c==null)return null;if(typeof c=="function")return c.$$typeof===ae?null:c.displayName||c.name||null;if(typeof c=="string")return c;switch(c){case x:return"Fragment";case E:return"Profiler";case T:return"StrictMode";case G:return"Suspense";case k:return"SuspenseList";case V:return"Activity"}if(typeof c=="object")switch(c.$$typeof){case y:return"Portal";case D:return(c.displayName||"Context")+".Provider";case P:return(c._context.displayName||"Context")+".Consumer";case N:var f=c.render;return c=c.displayName,c||(c=f.displayName||f.name||"",c=c!==""?"ForwardRef("+c+")":"ForwardRef"),c;case M:return f=c.displayName||null,f!==null?f:ye(c.type)||"Memo";case $:f=c._payload,c=c._init;try{return ye(c(f))}catch{}}return null}var Te=Array.isArray,J=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,de=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,he={pending:!1,data:null,method:null,action:null},Le=[],ne=-1;function re(c){return{current:c}}function ze(c){0>ne||(c.current=Le[ne],Le[ne]=null,ne--)}function Ve(c,f){ne++,Le[ne]=c.current,c.current=f}var xe=re(null),$e=re(null),Ze=re(null),gt=re(null);function yt(c,f){switch(Ve(Ze,f),Ve($e,c),Ve(xe,null),f.nodeType){case 9:case 11:c=(c=f.documentElement)&&(c=c.namespaceURI)?jR(c):0;break;default:if(c=f.tagName,f=f.namespaceURI)f=jR(f),c=$R(f,c);else switch(c){case"svg":c=1;break;case"math":c=2;break;default:c=0}}ze(xe),Ve(xe,c)}function vt(){ze(xe),ze($e),ze(Ze)}function Vt(c){c.memoizedState!==null&&Ve(gt,c);var f=xe.current,g=$R(f,c.type);f!==g&&(Ve($e,c),Ve(xe,g))}function zn(c){$e.current===c&&(ze(xe),ze($e)),gt.current===c&&(ze(gt),n0._currentValue=he)}var An=Object.prototype.hasOwnProperty,dn=n.unstable_scheduleCallback,fe=n.unstable_cancelCallback,Et=n.unstable_shouldYield,Mt=n.unstable_requestPaint,At=n.unstable_now,mt=n.unstable_getCurrentPriorityLevel,Kt=n.unstable_ImmediatePriority,Ot=n.unstable_UserBlockingPriority,Qt=n.unstable_NormalPriority,bn=n.unstable_LowPriority,ie=n.unstable_IdlePriority,Z=n.log,be=n.unstable_setDisableYieldValue,Ge=null,ht=null;function rt(c){if(typeof Z=="function"&&be(c),ht&&typeof ht.setStrictMode=="function")try{ht.setStrictMode(Ge,c)}catch{}}var qt=Math.clz32?Math.clz32:nn,jt=Math.log,tn=Math.LN2;function nn(c){return c>>>=0,c===0?32:31-(jt(c)/tn|0)|0}var dt=256,kt=4194304;function cn(c){var f=c&42;if(f!==0)return f;switch(c&-c){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return c&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return c}}function Ee(c,f,g){var _=c.pendingLanes;if(_===0)return 0;var A=0,L=c.suspendedLanes,X=c.pingedLanes;c=c.warmLanes;var se=_&134217727;return se!==0?(_=se&~L,_!==0?A=cn(_):(X&=se,X!==0?A=cn(X):g||(g=se&~c,g!==0&&(A=cn(g))))):(se=_&~L,se!==0?A=cn(se):X!==0?A=cn(X):g||(g=_&~c,g!==0&&(A=cn(g)))),A===0?0:f!==0&&f!==A&&(f&L)===0&&(L=A&-A,g=f&-f,L>=g||L===32&&(g&4194048)!==0)?f:A}function Fe(c,f){return(c.pendingLanes&~(c.suspendedLanes&~c.pingedLanes)&f)===0}function Rt(c,f){switch(c){case 1:case 2:case 4:case 8:case 64:return f+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return f+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ae(){var c=dt;return dt<<=1,(dt&4194048)===0&&(dt=256),c}function Xe(){var c=kt;return kt<<=1,(kt&62914560)===0&&(kt=4194304),c}function xt(c){for(var f=[],g=0;31>g;g++)f.push(c);return f}function Xt(c,f){c.pendingLanes|=f,f!==268435456&&(c.suspendedLanes=0,c.pingedLanes=0,c.warmLanes=0)}function Ht(c,f,g,_,A,L){var X=c.pendingLanes;c.pendingLanes=g,c.suspendedLanes=0,c.pingedLanes=0,c.warmLanes=0,c.expiredLanes&=g,c.entangledLanes&=g,c.errorRecoveryDisabledLanes&=g,c.shellSuspendCounter=0;var se=c.entanglements,Re=c.expirationTimes,et=c.hiddenUpdates;for(g=X&~g;0<g;){var Dt=31-qt(g),Bt=1<<Dt;se[Dt]=0,Re[Dt]=-1;var at=et[Dt];if(at!==null)for(et[Dt]=null,Dt=0;Dt<at.length;Dt++){var lt=at[Dt];lt!==null&&(lt.lane&=-536870913)}g&=~Bt}_!==0&&Ct(c,_,0),L!==0&&A===0&&c.tag!==0&&(c.suspendedLanes|=L&~(X&~f))}function Ct(c,f,g){c.pendingLanes|=f,c.suspendedLanes&=~f;var _=31-qt(f);c.entangledLanes|=f,c.entanglements[_]=c.entanglements[_]|1073741824|g&4194090}function $t(c,f){var g=c.entangledLanes|=f;for(c=c.entanglements;g;){var _=31-qt(g),A=1<<_;A&f|c[_]&f&&(c[_]|=f),g&=~A}}function fn(c){switch(c){case 2:c=1;break;case 8:c=4;break;case 32:c=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:c=128;break;case 268435456:c=134217728;break;default:c=0}return c}function ui(c){return c&=-c,2<c?8<c?(c&134217727)!==0?32:268435456:8:2}function fi(){var c=de.p;return c!==0?c:(c=window.event,c===void 0?32:u3(c.type))}function Ur(c,f){var g=de.p;try{return de.p=c,f()}finally{de.p=g}}var Wi=Math.random().toString(36).slice(2),Ki="__reactFiber$"+Wi,xr="__reactProps$"+Wi,Br="__reactContainer$"+Wi,ps="__reactEvents$"+Wi,lo="__reactListeners$"+Wi,Ls="__reactHandles$"+Wi,Un="__reactResources$"+Wi,rs="__reactMarker$"+Wi;function Gi(c){delete c[Ki],delete c[xr],delete c[ps],delete c[lo],delete c[Ls]}function K(c){var f=c[Ki];if(f)return f;for(var g=c.parentNode;g;){if(f=g[Br]||g[Ki]){if(g=f.alternate,f.child!==null||g!==null&&g.child!==null)for(c=YR(c);c!==null;){if(g=c[Ki])return g;c=YR(c)}return f}c=g,g=c.parentNode}return null}function oe(c){if(c=c[Ki]||c[Br]){var f=c.tag;if(f===5||f===6||f===13||f===26||f===27||f===3)return c}return null}function De(c){var f=c.tag;if(f===5||f===26||f===27||f===6)return c.stateNode;throw Error(i(33))}function Ke(c){var f=c[Un];return f||(f=c[Un]={hoistableStyles:new Map,hoistableScripts:new Map}),f}function Je(c){c[rs]=!0}var nt=new Set,Ut={};function wt(c,f){Y(c,f),Y(c+"Capture",f)}function Y(c,f){for(Ut[c]=f,c=0;c<f.length;c++)nt.add(f[c])}var ve=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),we={},Me={};function Ne(c){return An.call(Me,c)?!0:An.call(we,c)?!1:ve.test(c)?Me[c]=!0:(we[c]=!0,!1)}function Ye(c,f,g){if(Ne(f))if(g===null)c.removeAttribute(f);else{switch(typeof g){case"undefined":case"function":case"symbol":c.removeAttribute(f);return;case"boolean":var _=f.toLowerCase().slice(0,5);if(_!=="data-"&&_!=="aria-"){c.removeAttribute(f);return}}c.setAttribute(f,""+g)}}function pt(c,f,g){if(g===null)c.removeAttribute(f);else{switch(typeof g){case"undefined":case"function":case"symbol":case"boolean":c.removeAttribute(f);return}c.setAttribute(f,""+g)}}function Tt(c,f,g,_){if(_===null)c.removeAttribute(g);else{switch(typeof _){case"undefined":case"function":case"symbol":case"boolean":c.removeAttribute(g);return}c.setAttributeNS(f,g,""+_)}}var Nt,rn;function en(c){if(Nt===void 0)try{throw Error()}catch(g){var f=g.stack.trim().match(/\n( *(at )?)/);Nt=f&&f[1]||"",rn=-1<g.stack.indexOf(`
    at`)?" (<anonymous>)":-1<g.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Nt+c+rn}var sn=!1;function Pn(c,f){if(!c||sn)return"";sn=!0;var g=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var _={DetermineComponentFrameRoot:function(){try{if(f){var Bt=function(){throw Error()};if(Object.defineProperty(Bt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Bt,[])}catch(lt){var at=lt}Reflect.construct(c,[],Bt)}else{try{Bt.call()}catch(lt){at=lt}c.call(Bt.prototype)}}else{try{throw Error()}catch(lt){at=lt}(Bt=c())&&typeof Bt.catch=="function"&&Bt.catch(function(){})}}catch(lt){if(lt&&at&&typeof lt.stack=="string")return[lt.stack,at.stack]}return[null,null]}};_.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var A=Object.getOwnPropertyDescriptor(_.DetermineComponentFrameRoot,"name");A&&A.configurable&&Object.defineProperty(_.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var L=_.DetermineComponentFrameRoot(),X=L[0],se=L[1];if(X&&se){var Re=X.split(`
`),et=se.split(`
`);for(A=_=0;_<Re.length&&!Re[_].includes("DetermineComponentFrameRoot");)_++;for(;A<et.length&&!et[A].includes("DetermineComponentFrameRoot");)A++;if(_===Re.length||A===et.length)for(_=Re.length-1,A=et.length-1;1<=_&&0<=A&&Re[_]!==et[A];)A--;for(;1<=_&&0<=A;_--,A--)if(Re[_]!==et[A]){if(_!==1||A!==1)do if(_--,A--,0>A||Re[_]!==et[A]){var Dt=`
`+Re[_].replace(" at new "," at ");return c.displayName&&Dt.includes("<anonymous>")&&(Dt=Dt.replace("<anonymous>",c.displayName)),Dt}while(1<=_&&0<=A);break}}}finally{sn=!1,Error.prepareStackTrace=g}return(g=c?c.displayName||c.name:"")?en(g):""}function Cn(c){switch(c.tag){case 26:case 27:case 5:return en(c.type);case 16:return en("Lazy");case 13:return en("Suspense");case 19:return en("SuspenseList");case 0:case 15:return Pn(c.type,!1);case 11:return Pn(c.type.render,!1);case 1:return Pn(c.type,!0);case 31:return en("Activity");default:return""}}function xi(c){try{var f="";do f+=Cn(c),c=c.return;while(c);return f}catch(g){return`
Error generating stack: `+g.message+`
`+g.stack}}function an(c){switch(typeof c){case"bigint":case"boolean":case"number":case"string":case"undefined":return c;case"object":return c;default:return""}}function In(c){var f=c.type;return(c=c.nodeName)&&c.toLowerCase()==="input"&&(f==="checkbox"||f==="radio")}function xn(c){var f=In(c)?"checked":"value",g=Object.getOwnPropertyDescriptor(c.constructor.prototype,f),_=""+c[f];if(!c.hasOwnProperty(f)&&typeof g<"u"&&typeof g.get=="function"&&typeof g.set=="function"){var A=g.get,L=g.set;return Object.defineProperty(c,f,{configurable:!0,get:function(){return A.call(this)},set:function(X){_=""+X,L.call(this,X)}}),Object.defineProperty(c,f,{enumerable:g.enumerable}),{getValue:function(){return _},setValue:function(X){_=""+X},stopTracking:function(){c._valueTracker=null,delete c[f]}}}}function Di(c){c._valueTracker||(c._valueTracker=xn(c))}function $n(c){if(!c)return!1;var f=c._valueTracker;if(!f)return!0;var g=f.getValue(),_="";return c&&(_=In(c)?c.checked?"true":"false":c.value),c=_,c!==g?(f.setValue(c),!0):!1}function qn(c){if(c=c||(typeof document<"u"?document:void 0),typeof c>"u")return null;try{return c.activeElement||c.body}catch{return c.body}}var Mi=/[\n"\\]/g;function Sn(c){return c.replace(Mi,function(f){return"\\"+f.charCodeAt(0).toString(16)+" "})}function Zn(c,f,g,_,A,L,X,se){c.name="",X!=null&&typeof X!="function"&&typeof X!="symbol"&&typeof X!="boolean"?c.type=X:c.removeAttribute("type"),f!=null?X==="number"?(f===0&&c.value===""||c.value!=f)&&(c.value=""+an(f)):c.value!==""+an(f)&&(c.value=""+an(f)):X!=="submit"&&X!=="reset"||c.removeAttribute("value"),f!=null?pr(c,X,an(f)):g!=null?pr(c,X,an(g)):_!=null&&c.removeAttribute("value"),A==null&&L!=null&&(c.defaultChecked=!!L),A!=null&&(c.checked=A&&typeof A!="function"&&typeof A!="symbol"),se!=null&&typeof se!="function"&&typeof se!="symbol"&&typeof se!="boolean"?c.name=""+an(se):c.removeAttribute("name")}function kn(c,f,g,_,A,L,X,se){if(L!=null&&typeof L!="function"&&typeof L!="symbol"&&typeof L!="boolean"&&(c.type=L),f!=null||g!=null){if(!(L!=="submit"&&L!=="reset"||f!=null))return;g=g!=null?""+an(g):"",f=f!=null?""+an(f):g,se||f===c.value||(c.value=f),c.defaultValue=f}_=_??A,_=typeof _!="function"&&typeof _!="symbol"&&!!_,c.checked=se?c.checked:!!_,c.defaultChecked=!!_,X!=null&&typeof X!="function"&&typeof X!="symbol"&&typeof X!="boolean"&&(c.name=X)}function pr(c,f,g){f==="number"&&qn(c.ownerDocument)===c||c.defaultValue===""+g||(c.defaultValue=""+g)}function ei(c,f,g,_){if(c=c.options,f){f={};for(var A=0;A<g.length;A++)f["$"+g[A]]=!0;for(g=0;g<c.length;g++)A=f.hasOwnProperty("$"+c[g].value),c[g].selected!==A&&(c[g].selected=A),A&&_&&(c[g].defaultSelected=!0)}else{for(g=""+an(g),f=null,A=0;A<c.length;A++){if(c[A].value===g){c[A].selected=!0,_&&(c[A].defaultSelected=!0);return}f!==null||c[A].disabled||(f=c[A])}f!==null&&(f.selected=!0)}}function Ai(c,f,g){if(f!=null&&(f=""+an(f),f!==c.value&&(c.value=f),g==null)){c.defaultValue!==f&&(c.defaultValue=f);return}c.defaultValue=g!=null?""+an(g):""}function fr(c,f,g,_){if(f==null){if(_!=null){if(g!=null)throw Error(i(92));if(Te(_)){if(1<_.length)throw Error(i(93));_=_[0]}g=_}g==null&&(g=""),f=g}g=an(f),c.defaultValue=g,_=c.textContent,_===g&&_!==""&&_!==null&&(c.value=_)}function Ss(c,f){if(f){var g=c.firstChild;if(g&&g===c.lastChild&&g.nodeType===3){g.nodeValue=f;return}}c.textContent=f}var na=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Oa(c,f,g){var _=f.indexOf("--")===0;g==null||typeof g=="boolean"||g===""?_?c.setProperty(f,""):f==="float"?c.cssFloat="":c[f]="":_?c.setProperty(f,g):typeof g!="number"||g===0||na.has(f)?f==="float"?c.cssFloat=g:c[f]=(""+g).trim():c[f]=g+"px"}function ja(c,f,g){if(f!=null&&typeof f!="object")throw Error(i(62));if(c=c.style,g!=null){for(var _ in g)!g.hasOwnProperty(_)||f!=null&&f.hasOwnProperty(_)||(_.indexOf("--")===0?c.setProperty(_,""):_==="float"?c.cssFloat="":c[_]="");for(var A in f)_=f[A],f.hasOwnProperty(A)&&g[A]!==_&&Oa(c,A,_)}else for(var L in f)f.hasOwnProperty(L)&&Oa(c,L,f[L])}function co(c){if(c.indexOf("-")===-1)return!1;switch(c){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Du=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),vc=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ya(c){return vc.test(""+c)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":c}var jc=null;function $a(c){return c=c.target||c.srcElement||window,c.correspondingUseElement&&(c=c.correspondingUseElement),c.nodeType===3?c.parentNode:c}var qa=null,Gl=null;function jl(c){var f=oe(c);if(f&&(c=f.stateNode)){var g=c[xr]||null;e:switch(c=f.stateNode,f.type){case"input":if(Zn(c,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name),f=g.name,g.type==="radio"&&f!=null){for(g=c;g.parentNode;)g=g.parentNode;for(g=g.querySelectorAll('input[name="'+Sn(""+f)+'"][type="radio"]'),f=0;f<g.length;f++){var _=g[f];if(_!==c&&_.form===c.form){var A=_[xr]||null;if(!A)throw Error(i(90));Zn(_,A.value,A.defaultValue,A.defaultValue,A.checked,A.defaultChecked,A.type,A.name)}}for(f=0;f<g.length;f++)_=g[f],_.form===c.form&&$n(_)}break e;case"textarea":Ai(c,g.value,g.defaultValue);break e;case"select":f=g.value,f!=null&&ei(c,!!g.multiple,f,!1)}}}var yc=!1;function _c(c,f,g){if(yc)return c(f,g);yc=!0;try{var _=c(f);return _}finally{if(yc=!1,(qa!==null||Gl!==null)&&(vu(),qa&&(f=qa,c=Gl,Gl=qa=null,jl(f),c)))for(f=0;f<c.length;f++)jl(c[f])}}function sl(c,f){var g=c.stateNode;if(g===null)return null;var _=g[xr]||null;if(_===null)return null;g=_[f];e:switch(f){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(_=!_.disabled)||(c=c.type,_=!(c==="button"||c==="input"||c==="select"||c==="textarea")),c=!_;break e;default:c=!1}if(c)return null;if(g&&typeof g!="function")throw Error(i(231,f,typeof g));return g}var uo=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),$c=!1;if(uo)try{var fo={};Object.defineProperty(fo,"passive",{get:function(){$c=!0}}),window.addEventListener("test",fo,fo),window.removeEventListener("test",fo,fo)}catch{$c=!1}var al=null,xf=null,qc=null;function Wc(){if(qc)return qc;var c,f=xf,g=f.length,_,A="value"in al?al.value:al.textContent,L=A.length;for(c=0;c<g&&f[c]===A[c];c++);var X=g-c;for(_=1;_<=X&&f[g-_]===A[L-_];_++);return qc=A.slice(c,1<_?1-_:void 0)}function ho(c){var f=c.keyCode;return"charCode"in c?(c=c.charCode,c===0&&f===13&&(c=13)):c=f,c===10&&(c=13),32<=c||c===13?c:0}function $l(){return!0}function ol(){return!1}function Ns(c){function f(g,_,A,L,X){this._reactName=g,this._targetInst=A,this.type=_,this.nativeEvent=L,this.target=X,this.currentTarget=null;for(var se in c)c.hasOwnProperty(se)&&(g=c[se],this[se]=g?g(L):L[se]);return this.isDefaultPrevented=(L.defaultPrevented!=null?L.defaultPrevented:L.returnValue===!1)?$l:ol,this.isPropagationStopped=ol,this}return d(f.prototype,{preventDefault:function(){this.defaultPrevented=!0;var g=this.nativeEvent;g&&(g.preventDefault?g.preventDefault():typeof g.returnValue!="unknown"&&(g.returnValue=!1),this.isDefaultPrevented=$l)},stopPropagation:function(){var g=this.nativeEvent;g&&(g.stopPropagation?g.stopPropagation():typeof g.cancelBubble!="unknown"&&(g.cancelBubble=!0),this.isPropagationStopped=$l)},persist:function(){},isPersistent:$l}),f}var No={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(c){return c.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ll=Ns(No),Io=d({},No,{view:0,detail:0}),Sf=Ns(Io),zo,Uo,Wa,ql=d({},Io,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:bt,button:0,buttons:0,relatedTarget:function(c){return c.relatedTarget===void 0?c.fromElement===c.srcElement?c.toElement:c.fromElement:c.relatedTarget},movementX:function(c){return"movementX"in c?c.movementX:(c!==Wa&&(Wa&&c.type==="mousemove"?(zo=c.screenX-Wa.screenX,Uo=c.screenY-Wa.screenY):Uo=zo=0,Wa=c),zo)},movementY:function(c){return"movementY"in c?c.movementY:Uo}}),Xc=Ns(ql),bc=d({},ql,{dataTransfer:0}),qp=Ns(bc),ws=d({},Io,{relatedTarget:0}),S=Ns(ws),R=d({},No,{animationName:0,elapsedTime:0,pseudoElement:0}),U=Ns(R),B=d({},No,{clipboardData:function(c){return"clipboardData"in c?c.clipboardData:window.clipboardData}}),q=Ns(B),W=d({},No,{data:0}),te=Ns(W),Ce={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_e={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},He={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ft(c){var f=this.nativeEvent;return f.getModifierState?f.getModifierState(c):(c=He[c])?!!f[c]:!1}function bt(){return ft}var tt=d({},Io,{key:function(c){if(c.key){var f=Ce[c.key]||c.key;if(f!=="Unidentified")return f}return c.type==="keypress"?(c=ho(c),c===13?"Enter":String.fromCharCode(c)):c.type==="keydown"||c.type==="keyup"?_e[c.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:bt,charCode:function(c){return c.type==="keypress"?ho(c):0},keyCode:function(c){return c.type==="keydown"||c.type==="keyup"?c.keyCode:0},which:function(c){return c.type==="keypress"?ho(c):c.type==="keydown"||c.type==="keyup"?c.keyCode:0}}),Ft=Ns(tt),Wn=d({},ql,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ei=Ns(Wn),Kn=d({},Io,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:bt}),es=Ns(Kn),ss=d({},No,{propertyName:0,elapsedTime:0,pseudoElement:0}),ms=Ns(ss),Xa=d({},ql,{deltaX:function(c){return"deltaX"in c?c.deltaX:"wheelDeltaX"in c?-c.wheelDeltaX:0},deltaY:function(c){return"deltaY"in c?c.deltaY:"wheelDeltaY"in c?-c.wheelDeltaY:"wheelDelta"in c?-c.wheelDelta:0},deltaZ:0,deltaMode:0}),Li=Ns(Xa),Wl=d({},No,{newState:0,oldState:0}),yi=Ns(Wl),Qi=[9,13,27,32],Bo=uo&&"CompositionEvent"in window,cl=null;uo&&"documentMode"in document&&(cl=document.documentMode);var gs=uo&&"TextEvent"in window&&!cl,ia=uo&&(!Bo||cl&&8<cl&&11>=cl),Is=" ",mr=!1;function Ya(c,f){switch(c){case"keyup":return Qi.indexOf(f.keyCode)!==-1;case"keydown":return f.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function _a(c){return c=c.detail,typeof c=="object"&&"data"in c?c.data:null}var ko=!1;function Pa(c,f){switch(c){case"compositionend":return _a(f);case"keypress":return f.which!==32?null:(mr=!0,Is);case"textInput":return c=f.data,c===Is&&mr?null:c;default:return null}}function po(c,f){if(ko)return c==="compositionend"||!Bo&&Ya(c,f)?(c=Wc(),qc=xf=al=null,ko=!1,c):null;switch(c){case"paste":return null;case"keypress":if(!(f.ctrlKey||f.altKey||f.metaKey)||f.ctrlKey&&f.altKey){if(f.char&&1<f.char.length)return f.char;if(f.which)return String.fromCharCode(f.which)}return null;case"compositionend":return ia&&f.locale!=="ko"?null:f.data;default:return null}}var wf={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function yh(c){var f=c&&c.nodeName&&c.nodeName.toLowerCase();return f==="input"?!!wf[c.type]:f==="textarea"}function ba(c,f,g,_){qa?Gl?Gl.push(_):Gl=[_]:qa=_,f=B1(f,"onChange"),0<f.length&&(g=new ll("onChange","change",null,g,_),c.push({event:g,listeners:f}))}var oi=null,mo=null;function Da(c){kR(c,0)}function go(c){var f=De(c);if($n(f))return c}function Ef(c,f){if(c==="change")return f}var Tf=!1;if(uo){var Yc;if(uo){var ra="oninput"in document;if(!ra){var Xl=document.createElement("div");Xl.setAttribute("oninput","return;"),ra=typeof Xl.oninput=="function"}Yc=ra}else Yc=!1;Tf=Yc&&(!document.documentMode||9<document.documentMode)}function Ji(){oi&&(oi.detachEvent("onpropertychange",Mf),mo=oi=null)}function Mf(c){if(c.propertyName==="value"&&go(mo)){var f=[];ba(f,mo,c,$a(c)),_c(Da,f)}}function Lu(c,f,g){c==="focusin"?(Ji(),oi=f,mo=g,oi.attachEvent("onpropertychange",Mf)):c==="focusout"&&Ji()}function Nu(c){if(c==="selectionchange"||c==="keyup"||c==="keydown")return go(mo)}function ul(c,f){if(c==="click")return go(f)}function vo(c,f){if(c==="input"||c==="change")return go(f)}function _h(c,f){return c===f&&(c!==0||1/c===1/f)||c!==c&&f!==f}var as=typeof Object.is=="function"?Object.is:_h;function xa(c,f){if(as(c,f))return!0;if(typeof c!="object"||c===null||typeof f!="object"||f===null)return!1;var g=Object.keys(c),_=Object.keys(f);if(g.length!==_.length)return!1;for(_=0;_<g.length;_++){var A=g[_];if(!An.call(f,A)||!as(c[A],f[A]))return!1}return!0}function Es(c){for(;c&&c.firstChild;)c=c.firstChild;return c}function Sa(c,f){var g=Es(c);c=0;for(var _;g;){if(g.nodeType===3){if(_=c+g.textContent.length,c<=f&&_>=f)return{node:g,offset:f-c};c=_}e:{for(;g;){if(g.nextSibling){g=g.nextSibling;break e}g=g.parentNode}g=void 0}g=Es(g)}}function Iu(c,f){return c&&f?c===f?!0:c&&c.nodeType===3?!1:f&&f.nodeType===3?Iu(c,f.parentNode):"contains"in c?c.contains(f):c.compareDocumentPosition?!!(c.compareDocumentPosition(f)&16):!1:!1}function Af(c){c=c!=null&&c.ownerDocument!=null&&c.ownerDocument.defaultView!=null?c.ownerDocument.defaultView:window;for(var f=qn(c.document);f instanceof c.HTMLIFrameElement;){try{var g=typeof f.contentWindow.location.href=="string"}catch{g=!1}if(g)c=f.contentWindow;else break;f=qn(c.document)}return f}function ge(c){var f=c&&c.nodeName&&c.nodeName.toLowerCase();return f&&(f==="input"&&(c.type==="text"||c.type==="search"||c.type==="tel"||c.type==="url"||c.type==="password")||f==="textarea"||c.contentEditable==="true")}var Ie=uo&&"documentMode"in document&&11>=document.documentMode,We=null,st=null,_t=null,Yt=!1;function pn(c,f,g){var _=g.window===g?g.document:g.nodeType===9?g:g.ownerDocument;Yt||We==null||We!==qn(_)||(_=We,"selectionStart"in _&&ge(_)?_={start:_.selectionStart,end:_.selectionEnd}:(_=(_.ownerDocument&&_.ownerDocument.defaultView||window).getSelection(),_={anchorNode:_.anchorNode,anchorOffset:_.anchorOffset,focusNode:_.focusNode,focusOffset:_.focusOffset}),_t&&xa(_t,_)||(_t=_,_=B1(st,"onSelect"),0<_.length&&(f=new ll("onSelect","select",null,f,g),c.push({event:f,listeners:_}),f.target=We)))}function un(c,f){var g={};return g[c.toLowerCase()]=f.toLowerCase(),g["Webkit"+c]="webkit"+f,g["Moz"+c]="moz"+f,g}var on={animationend:un("Animation","AnimationEnd"),animationiteration:un("Animation","AnimationIteration"),animationstart:un("Animation","AnimationStart"),transitionrun:un("Transition","TransitionRun"),transitionstart:un("Transition","TransitionStart"),transitioncancel:un("Transition","TransitionCancel"),transitionend:un("Transition","TransitionEnd")},vi={},Vn={};uo&&(Vn=document.createElement("div").style,"AnimationEvent"in window||(delete on.animationend.animation,delete on.animationiteration.animation,delete on.animationstart.animation),"TransitionEvent"in window||delete on.transitionend.transition);function Bn(c){if(vi[c])return vi[c];if(!on[c])return c;var f=on[c],g;for(g in f)if(f.hasOwnProperty(g)&&g in Vn)return vi[c]=f[g];return c}var Gn=Bn("animationend"),On=Bn("animationiteration"),Qn=Bn("animationstart"),qs=Bn("transitionrun"),Dr=Bn("transitionstart"),Ts=Bn("transitioncancel"),vs=Bn("transitionend"),Ho=new Map,os="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");os.push("scrollEnd");function Ws(c,f){Ho.set(c,f),wt(f,[c])}var Wp=new WeakMap;function sa(c,f){if(typeof c=="object"&&c!==null){var g=Wp.get(c);return g!==void 0?g:(f={value:c,source:f,stack:xi(f)},Wp.set(c,f),f)}return{value:c,source:f,stack:xi(f)}}var aa=[],yo=0,Pd=0;function bh(){for(var c=yo,f=Pd=yo=0;f<c;){var g=aa[f];aa[f++]=null;var _=aa[f];aa[f++]=null;var A=aa[f];aa[f++]=null;var L=aa[f];if(aa[f++]=null,_!==null&&A!==null){var X=_.pending;X===null?A.next=A:(A.next=X.next,X.next=A),_.pending=A}L!==0&&fl(g,A,L)}}function Zc(c,f,g,_){aa[yo++]=c,aa[yo++]=f,aa[yo++]=g,aa[yo++]=_,Pd|=_,c.lanes|=_,c=c.alternate,c!==null&&(c.lanes|=_)}function Dd(c,f,g,_){return Zc(c,f,g,_),zu(c)}function xc(c,f){return Zc(c,null,null,f),zu(c)}function fl(c,f,g){c.lanes|=g;var _=c.alternate;_!==null&&(_.lanes|=g);for(var A=!1,L=c.return;L!==null;)L.childLanes|=g,_=L.alternate,_!==null&&(_.childLanes|=g),L.tag===22&&(c=L.stateNode,c===null||c._visibility&1||(A=!0)),c=L,L=L.return;return c.tag===3?(L=c.stateNode,A&&f!==null&&(A=31-qt(g),c=L.hiddenUpdates,_=c[A],_===null?c[A]=[f]:_.push(f),f.lane=g|536870912),L):null}function zu(c){if(50<gu)throw gu=0,Gh=null,Error(i(185));for(var f=c.return;f!==null;)c=f,f=c.return;return c.tag===3?c.stateNode:null}var Kc={};function Xp(c,f,g,_){this.tag=c,this.key=g,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=f,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=_,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Za(c,f,g,_){return new Xp(c,f,g,_)}function xh(c){return c=c.prototype,!(!c||!c.isReactComponent)}function ys(c,f){var g=c.alternate;return g===null?(g=Za(c.tag,f,c.key,c.mode),g.elementType=c.elementType,g.type=c.type,g.stateNode=c.stateNode,g.alternate=c,c.alternate=g):(g.pendingProps=f,g.type=c.type,g.flags=0,g.subtreeFlags=0,g.deletions=null),g.flags=c.flags&65011712,g.childLanes=c.childLanes,g.lanes=c.lanes,g.child=c.child,g.memoizedProps=c.memoizedProps,g.memoizedState=c.memoizedState,g.updateQueue=c.updateQueue,f=c.dependencies,g.dependencies=f===null?null:{lanes:f.lanes,firstContext:f.firstContext},g.sibling=c.sibling,g.index=c.index,g.ref=c.ref,g.refCleanup=c.refCleanup,g}function Yp(c,f){c.flags&=65011714;var g=c.alternate;return g===null?(c.childLanes=0,c.lanes=f,c.child=null,c.subtreeFlags=0,c.memoizedProps=null,c.memoizedState=null,c.updateQueue=null,c.dependencies=null,c.stateNode=null):(c.childLanes=g.childLanes,c.lanes=g.lanes,c.child=g.child,c.subtreeFlags=0,c.deletions=null,c.memoizedProps=g.memoizedProps,c.memoizedState=g.memoizedState,c.updateQueue=g.updateQueue,c.type=g.type,f=g.dependencies,c.dependencies=f===null?null:{lanes:f.lanes,firstContext:f.firstContext}),c}function Xs(c,f,g,_,A,L){var X=0;if(_=c,typeof c=="function")xh(c)&&(X=1);else if(typeof c=="string")X=Ok(c,g,xe.current)?26:c==="html"||c==="head"||c==="body"?27:5;else e:switch(c){case V:return c=Za(31,g,f,A),c.elementType=V,c.lanes=L,c;case x:return Qc(g.children,A,L,f);case T:X=8,A|=24;break;case E:return c=Za(12,g,f,A|2),c.elementType=E,c.lanes=L,c;case G:return c=Za(13,g,f,A),c.elementType=G,c.lanes=L,c;case k:return c=Za(19,g,f,A),c.elementType=k,c.lanes=L,c;default:if(typeof c=="object"&&c!==null)switch(c.$$typeof){case w:case D:X=10;break e;case P:X=9;break e;case N:X=11;break e;case M:X=14;break e;case $:X=16,_=null;break e}X=29,g=Error(i(130,c===null?"null":typeof c,"")),_=null}return f=Za(X,g,f,A),f.elementType=c,f.type=_,f.lanes=L,f}function Qc(c,f,g,_){return c=Za(7,c,_,f),c.lanes=g,c}function Uu(c,f,g){return c=Za(6,c,null,f),c.lanes=g,c}function Bu(c,f,g){return f=Za(4,c.children!==null?c.children:[],c.key,f),f.lanes=g,f.stateNode={containerInfo:c.containerInfo,pendingChildren:null,implementation:c.implementation},f}var Cf=[],La=0,Rf=null,Yl=0,zs=[],Na=0,Jc=null,Zl=1,Kl="";function Ia(c,f){Cf[La++]=Yl,Cf[La++]=Rf,Rf=c,Yl=f}function Ld(c,f,g){zs[Na++]=Zl,zs[Na++]=Kl,zs[Na++]=Jc,Jc=c;var _=Zl;c=Kl;var A=32-qt(_)-1;_&=~(1<<A),g+=1;var L=32-qt(f)+A;if(30<L){var X=A-A%5;L=(_&(1<<X)-1).toString(32),_>>=X,A-=X,Zl=1<<32-qt(f)+A|g<<A|_,Kl=L+c}else Zl=1<<L|g<<A|_,Kl=c}function Zp(c){c.return!==null&&(Ia(c,1),Ld(c,1,0))}function Kp(c){for(;c===Rf;)Rf=Cf[--La],Cf[La]=null,Yl=Cf[--La],Cf[La]=null;for(;c===Jc;)Jc=zs[--Na],zs[Na]=null,Kl=zs[--Na],zs[Na]=null,Zl=zs[--Na],zs[Na]=null}var za=null,Lr=null,Xi=!1,Fo=null,Ka=!1,Nd=Error(i(519));function _o(c){var f=Error(i(418,""));throw dl(sa(f,c)),Nd}function Id(c){var f=c.stateNode,g=c.type,_=c.memoizedProps;switch(f[Ki]=c,f[xr]=_,g){case"dialog":er("cancel",f),er("close",f);break;case"iframe":case"object":case"embed":er("load",f);break;case"video":case"audio":for(g=0;g<Zy.length;g++)er(Zy[g],f);break;case"source":er("error",f);break;case"img":case"image":case"link":er("error",f),er("load",f);break;case"details":er("toggle",f);break;case"input":er("invalid",f),kn(f,_.value,_.defaultValue,_.checked,_.defaultChecked,_.type,_.name,!0),Di(f);break;case"select":er("invalid",f);break;case"textarea":er("invalid",f),fr(f,_.value,_.defaultValue,_.children),Di(f)}g=_.children,typeof g!="string"&&typeof g!="number"&&typeof g!="bigint"||f.textContent===""+g||_.suppressHydrationWarning===!0||GR(f.textContent,g)?(_.popover!=null&&(er("beforetoggle",f),er("toggle",f)),_.onScroll!=null&&er("scroll",f),_.onScrollEnd!=null&&er("scrollend",f),_.onClick!=null&&(f.onclick=k1),f=!0):f=!1,f||_o(c)}function zd(c){for(za=c.return;za;)switch(za.tag){case 5:case 13:Ka=!1;return;case 27:case 3:Ka=!0;return;default:za=za.return}}function hl(c){if(c!==za)return!1;if(!Xi)return zd(c),Xi=!0,!1;var f=c.tag,g;if((g=f!==3&&f!==27)&&((g=f===5)&&(g=c.type,g=!(g!=="form"&&g!=="button")||OE(c.type,c.memoizedProps)),g=!g),g&&Lr&&_o(c),zd(c),f===13){if(c=c.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(i(317));e:{for(c=c.nextSibling,f=0;c;){if(c.nodeType===8)if(g=c.data,g==="/$"){if(f===0){Lr=Ku(c.nextSibling);break e}f--}else g!=="$"&&g!=="$!"&&g!=="$?"||f++;c=c.nextSibling}Lr=null}}else f===27?(f=Lr,ap(c.type)?(c=NE,NE=null,Lr=c):Lr=f):Lr=za?Ku(c.stateNode.nextSibling):null;return!0}function Of(){Lr=za=null,Xi=!1}function hr(){var c=Fo;return c!==null&&(ni===null?ni=c:ni.push.apply(ni,c),Fo=null),c}function dl(c){Fo===null?Fo=[c]:Fo.push(c)}var Sc=re(null),eu=null,wc=null;function tu(c,f,g){Ve(Sc,f._currentValue),f._currentValue=g}function Ec(c){c._currentValue=Sc.current,ze(Sc)}function Qp(c,f,g){for(;c!==null;){var _=c.alternate;if((c.childLanes&f)!==f?(c.childLanes|=f,_!==null&&(_.childLanes|=f)):_!==null&&(_.childLanes&f)!==f&&(_.childLanes|=f),c===g)break;c=c.return}}function Sh(c,f,g,_){var A=c.child;for(A!==null&&(A.return=c);A!==null;){var L=A.dependencies;if(L!==null){var X=A.child;L=L.firstContext;e:for(;L!==null;){var se=L;L=A;for(var Re=0;Re<f.length;Re++)if(se.context===f[Re]){L.lanes|=g,se=L.alternate,se!==null&&(se.lanes|=g),Qp(L.return,g,c),_||(X=null);break e}L=se.next}}else if(A.tag===18){if(X=A.return,X===null)throw Error(i(341));X.lanes|=g,L=X.alternate,L!==null&&(L.lanes|=g),Qp(X,g,c),X=null}else X=A.child;if(X!==null)X.return=A;else for(X=A;X!==null;){if(X===c){X=null;break}if(A=X.sibling,A!==null){A.return=X.return,X=A;break}X=X.return}A=X}}function Vo(c,f,g,_){c=null;for(var A=f,L=!1;A!==null;){if(!L){if((A.flags&524288)!==0)L=!0;else if((A.flags&262144)!==0)break}if(A.tag===10){var X=A.alternate;if(X===null)throw Error(i(387));if(X=X.memoizedProps,X!==null){var se=A.type;as(A.pendingProps.value,X.value)||(c!==null?c.push(se):c=[se])}}else if(A===gt.current){if(X=A.alternate,X===null)throw Error(i(387));X.memoizedState.memoizedState!==A.memoizedState.memoizedState&&(c!==null?c.push(n0):c=[n0])}A=A.return}c!==null&&Sh(f,c,g,_),f.flags|=262144}function wh(c){for(c=c.firstContext;c!==null;){if(!as(c.context._currentValue,c.memoizedValue))return!0;c=c.next}return!1}function pl(c){eu=c,wc=null,c=c.dependencies,c!==null&&(c.firstContext=null)}function ls(c){return Df(eu,c)}function Pf(c,f){return eu===null&&pl(c),Df(c,f)}function Df(c,f){var g=f._currentValue;if(f={context:f,memoizedValue:g,next:null},wc===null){if(c===null)throw Error(i(308));wc=f,c.dependencies={lanes:0,firstContext:f},c.flags|=524288}else wc=wc.next=f;return g}var Ud=typeof AbortController<"u"?AbortController:function(){var c=[],f=this.signal={aborted:!1,addEventListener:function(g,_){c.push(_)}};this.abort=function(){f.aborted=!0,c.forEach(function(g){return g()})}},ku=n.unstable_scheduleCallback,Jp=n.unstable_NormalPriority,cs={$$typeof:D,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Eh(){return{controller:new Ud,data:new Map,refCount:0}}function nu(c){c.refCount--,c.refCount===0&&ku(Jp,function(){c.controller.abort()})}var Hu=null,Fu=0,_i=0,Go=null;function Ms(c,f){if(Hu===null){var g=Hu=[];Fu=0,_i=xE(),Go={status:"pending",value:void 0,then:function(_){g.push(_)}}}return Fu++,f.then(Bd,Bd),f}function Bd(){if(--Fu===0&&Hu!==null){Go!==null&&(Go.status="fulfilled");var c=Hu;Hu=null,_i=0,Go=null;for(var f=0;f<c.length;f++)(0,c[f])()}}function zy(c,f){var g=[],_={status:"pending",value:null,reason:null,then:function(A){g.push(A)}};return c.then(function(){_.status="fulfilled",_.value=f;for(var A=0;A<g.length;A++)(0,g[A])(f)},function(A){for(_.status="rejected",_.reason=A,A=0;A<g.length;A++)(0,g[A])(void 0)}),_}var Th=J.S;J.S=function(c,f){typeof f=="object"&&f!==null&&typeof f.then=="function"&&Ms(c,f),Th!==null&&Th(c,f)};var jo=re(null);function iu(){var c=jo.current;return c!==null?c:Si.pooledCache}function Mh(c,f){f===null?Ve(jo,jo.current):Ve(jo,f.pool)}function kd(){var c=iu();return c===null?null:{parent:cs._currentValue,pool:c}}var Ah=Error(i(460)),Hd=Error(i(474)),Qa=Error(i(542)),ru={then:function(){}};function Fd(c){return c=c.status,c==="fulfilled"||c==="rejected"}function Lf(){}function su(c,f,g){switch(g=c[g],g===void 0?c.push(f):g!==f&&(f.then(Lf,Lf),f=g),f.status){case"fulfilled":return f.value;case"rejected":throw c=f.reason,j(c),c;default:if(typeof f.status=="string")f.then(Lf,Lf);else{if(c=Si,c!==null&&100<c.shellSuspendCounter)throw Error(i(482));c=f,c.status="pending",c.then(function(_){if(f.status==="pending"){var A=f;A.status="fulfilled",A.value=_}},function(_){if(f.status==="pending"){var A=f;A.status="rejected",A.reason=_}})}switch(f.status){case"fulfilled":return f.value;case"rejected":throw c=f.reason,j(c),c}throw Q=f,Ah}}var Q=null;function O(){if(Q===null)throw Error(i(459));var c=Q;return Q=null,c}function j(c){if(c===Ah||c===Qa)throw Error(i(483))}var le=!1;function ke(c){c.updateQueue={baseState:c.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Pe(c,f){c=c.updateQueue,f.updateQueue===c&&(f.updateQueue={baseState:c.baseState,firstBaseUpdate:c.firstBaseUpdate,lastBaseUpdate:c.lastBaseUpdate,shared:c.shared,callbacks:null})}function ct(c){return{lane:c,tag:0,payload:null,callback:null,next:null}}function It(c,f,g){var _=c.updateQueue;if(_===null)return null;if(_=_.shared,(wr&2)!==0){var A=_.pending;return A===null?f.next=f:(f.next=A.next,A.next=f),_.pending=f,f=zu(c),fl(c,null,g),f}return Zc(c,_,f,g),zu(c)}function Zt(c,f,g){if(f=f.updateQueue,f!==null&&(f=f.shared,(g&4194048)!==0)){var _=f.lanes;_&=c.pendingLanes,g|=_,f.lanes=g,$t(c,g)}}function _n(c,f){var g=c.updateQueue,_=c.alternate;if(_!==null&&(_=_.updateQueue,g===_)){var A=null,L=null;if(g=g.firstBaseUpdate,g!==null){do{var X={lane:g.lane,tag:g.tag,payload:g.payload,callback:null,next:null};L===null?A=L=X:L=L.next=X,g=g.next}while(g!==null);L===null?A=L=f:L=L.next=f}else A=L=f;g={baseState:_.baseState,firstBaseUpdate:A,lastBaseUpdate:L,shared:_.shared,callbacks:_.callbacks},c.updateQueue=g;return}c=g.lastBaseUpdate,c===null?g.firstBaseUpdate=f:c.next=f,g.lastBaseUpdate=f}var En=!1;function hn(){if(En){var c=Go;if(c!==null)throw c}}function li(c,f,g,_){En=!1;var A=c.updateQueue;le=!1;var L=A.firstBaseUpdate,X=A.lastBaseUpdate,se=A.shared.pending;if(se!==null){A.shared.pending=null;var Re=se,et=Re.next;Re.next=null,X===null?L=et:X.next=et,X=Re;var Dt=c.alternate;Dt!==null&&(Dt=Dt.updateQueue,se=Dt.lastBaseUpdate,se!==X&&(se===null?Dt.firstBaseUpdate=et:se.next=et,Dt.lastBaseUpdate=Re))}if(L!==null){var Bt=A.baseState;X=0,Dt=et=Re=null,se=L;do{var at=se.lane&-536870913,lt=at!==se.lane;if(lt?(Yn&at)===at:(_&at)===at){at!==0&&at===_i&&(En=!0),Dt!==null&&(Dt=Dt.next={lane:0,tag:se.tag,payload:se.payload,callback:null,next:null});e:{var gi=c,ai=se;at=f;var Yr=g;switch(ai.tag){case 1:if(gi=ai.payload,typeof gi=="function"){Bt=gi.call(Yr,Bt,at);break e}Bt=gi;break e;case 3:gi.flags=gi.flags&-65537|128;case 0:if(gi=ai.payload,at=typeof gi=="function"?gi.call(Yr,Bt,at):gi,at==null)break e;Bt=d({},Bt,at);break e;case 2:le=!0}}at=se.callback,at!==null&&(c.flags|=64,lt&&(c.flags|=8192),lt=A.callbacks,lt===null?A.callbacks=[at]:lt.push(at))}else lt={lane:at,tag:se.tag,payload:se.payload,callback:se.callback,next:null},Dt===null?(et=Dt=lt,Re=Bt):Dt=Dt.next=lt,X|=at;if(se=se.next,se===null){if(se=A.shared.pending,se===null)break;lt=se,se=lt.next,lt.next=null,A.lastBaseUpdate=lt,A.shared.pending=null}}while(!0);Dt===null&&(Re=Bt),A.baseState=Re,A.firstBaseUpdate=et,A.lastBaseUpdate=Dt,L===null&&(A.shared.lanes=0),Lc|=X,c.lanes=X,c.memoizedState=Bt}}function Hn(c,f){if(typeof c!="function")throw Error(i(191,c));c.call(f)}function hi(c,f){var g=c.callbacks;if(g!==null)for(c.callbacks=null,c=0;c<g.length;c++)Hn(g[c],f)}var Xn=re(null),si=re(0);function gr(c,f){c=ic,Ve(si,c),Ve(Xn,f),ic=c|f.baseLanes}function Sr(){Ve(si,ic),Ve(Xn,Xn.current)}function bi(){ic=si.current,ze(Xn),ze(si)}var Ci=0,ln=null,Rn=null,ti=null,sr=!1,Hi=!1,ji=!1,ar=0,us=0,or=null,bo=0;function ir(){throw Error(i(321))}function Ui(c,f){if(f===null)return!1;for(var g=0;g<f.length&&g<c.length;g++)if(!as(c[g],f[g]))return!1;return!0}function Ys(c,f,g,_,A,L){return Ci=L,ln=f,f.memoizedState=null,f.updateQueue=null,f.lanes=0,J.H=c===null||c.memoizedState===null?Hg:jy,ji=!1,L=g(_,A),ji=!1,Hi&&(L=Vu(f,g,_,A)),ml(c),L}function ml(c){J.H=fm;var f=Rn!==null&&Rn.next!==null;if(Ci=0,ti=Rn=ln=null,sr=!1,us=0,or=null,f)throw Error(i(300));c===null||wa||(c=c.dependencies,c!==null&&wh(c)&&(wa=!0))}function Vu(c,f,g,_){ln=c;var A=0;do{if(Hi&&(or=null),us=0,Hi=!1,25<=A)throw Error(i(301));if(A+=1,ti=Rn=null,c.updateQueue!=null){var L=c.updateQueue;L.lastEffect=null,L.events=null,L.stores=null,L.memoCache!=null&&(L.memoCache.index=0)}J.H=T1,L=f(g,_)}while(Hi);return L}function Zs(){var c=J.H,f=c.useState()[0];return f=typeof f.then=="function"?$o(f):f,c=c.useState()[0],(Rn!==null?Rn.memoizedState:null)!==c&&(ln.flags|=1024),f}function vr(){var c=ar!==0;return ar=0,c}function Ks(c,f,g){f.updateQueue=c.updateQueue,f.flags&=-2053,c.lanes&=~g}function Ja(c){if(sr){for(c=c.memoizedState;c!==null;){var f=c.queue;f!==null&&(f.pending=null),c=c.next}sr=!1}Ci=0,ti=Rn=ln=null,Hi=!1,us=ar=0,or=null}function fs(){var c={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ti===null?ln.memoizedState=ti=c:ti=ti.next=c,ti}function ts(){if(Rn===null){var c=ln.alternate;c=c!==null?c.memoizedState:null}else c=Rn.next;var f=ti===null?ln.memoizedState:ti.next;if(f!==null)ti=f,Rn=c;else{if(c===null)throw ln.alternate===null?Error(i(467)):Error(i(310));Rn=c,c={memoizedState:Rn.memoizedState,baseState:Rn.baseState,baseQueue:Rn.baseQueue,queue:Rn.queue,next:null},ti===null?ln.memoizedState=ti=c:ti=ti.next=c}return ti}function Tc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function $o(c){var f=us;return us+=1,or===null&&(or=[]),c=su(or,c,f),f=ln,(ti===null?f.memoizedState:ti.next)===null&&(f=f.alternate,J.H=f===null||f.memoizedState===null?Hg:jy),c}function Gu(c){if(c!==null&&typeof c=="object"){if(typeof c.then=="function")return $o(c);if(c.$$typeof===D)return ls(c)}throw Error(i(438,String(c)))}function em(c){var f=null,g=ln.updateQueue;if(g!==null&&(f=g.memoCache),f==null){var _=ln.alternate;_!==null&&(_=_.updateQueue,_!==null&&(_=_.memoCache,_!=null&&(f={data:_.data.map(function(A){return A.slice()}),index:0})))}if(f==null&&(f={data:[],index:0}),g===null&&(g=Tc(),ln.updateQueue=g),g.memoCache=f,g=f.data[f.index],g===void 0)for(g=f.data[f.index]=Array(c),_=0;_<c;_++)g[_]=H;return f.index++,g}function Mc(c,f){return typeof f=="function"?f(c):f}function Ql(c){var f=ts();return tm(f,Rn,c)}function tm(c,f,g){var _=c.queue;if(_===null)throw Error(i(311));_.lastRenderedReducer=g;var A=c.baseQueue,L=_.pending;if(L!==null){if(A!==null){var X=A.next;A.next=L.next,L.next=X}f.baseQueue=A=L,_.pending=null}if(L=c.baseState,A===null)c.memoizedState=L;else{f=A.next;var se=X=null,Re=null,et=f,Dt=!1;do{var Bt=et.lane&-536870913;if(Bt!==et.lane?(Yn&Bt)===Bt:(Ci&Bt)===Bt){var at=et.revertLane;if(at===0)Re!==null&&(Re=Re.next={lane:0,revertLane:0,action:et.action,hasEagerState:et.hasEagerState,eagerState:et.eagerState,next:null}),Bt===_i&&(Dt=!0);else if((Ci&at)===at){et=et.next,at===_i&&(Dt=!0);continue}else Bt={lane:0,revertLane:et.revertLane,action:et.action,hasEagerState:et.hasEagerState,eagerState:et.eagerState,next:null},Re===null?(se=Re=Bt,X=L):Re=Re.next=Bt,ln.lanes|=at,Lc|=at;Bt=et.action,ji&&g(L,Bt),L=et.hasEagerState?et.eagerState:g(L,Bt)}else at={lane:Bt,revertLane:et.revertLane,action:et.action,hasEagerState:et.hasEagerState,eagerState:et.eagerState,next:null},Re===null?(se=Re=at,X=L):Re=Re.next=at,ln.lanes|=Bt,Lc|=Bt;et=et.next}while(et!==null&&et!==f);if(Re===null?X=L:Re.next=se,!as(L,c.memoizedState)&&(wa=!0,Dt&&(g=Go,g!==null)))throw g;c.memoizedState=L,c.baseState=X,c.baseQueue=Re,_.lastRenderedState=L}return A===null&&(_.lanes=0),[c.memoizedState,_.dispatch]}function Vd(c){var f=ts(),g=f.queue;if(g===null)throw Error(i(311));g.lastRenderedReducer=c;var _=g.dispatch,A=g.pending,L=f.memoizedState;if(A!==null){g.pending=null;var X=A=A.next;do L=c(L,X.action),X=X.next;while(X!==A);as(L,f.memoizedState)||(wa=!0),f.memoizedState=L,f.baseQueue===null&&(f.baseState=L),g.lastRenderedState=L}return[L,_]}function Rg(c,f,g){var _=ln,A=ts(),L=Xi;if(L){if(g===void 0)throw Error(i(407));g=g()}else g=f();var X=!as((Rn||A).memoizedState,g);X&&(A.memoizedState=g,wa=!0),A=A.queue;var se=Og.bind(null,_,A,c);if(Wd(2048,8,se,[c]),A.getSnapshot!==f||X||ti!==null&&ti.memoizedState.tag&1){if(_.flags|=2048,qd(9,cm(),nm.bind(null,_,A,g,f),null),Si===null)throw Error(i(349));L||(Ci&124)!==0||ju(_,f,g)}return g}function ju(c,f,g){c.flags|=16384,c={getSnapshot:f,value:g},f=ln.updateQueue,f===null?(f=Tc(),ln.updateQueue=f,f.stores=[c]):(g=f.stores,g===null?f.stores=[c]:g.push(c))}function nm(c,f,g,_){f.value=g,f.getSnapshot=_,Pg(f)&&au(c)}function Og(c,f,g){return g(function(){Pg(f)&&au(c)})}function Pg(c){var f=c.getSnapshot;c=c.value;try{var g=f();return!as(c,g)}catch{return!0}}function au(c){var f=xc(c,2);f!==null&&wo(f,c,2)}function Nf(c){var f=fs();if(typeof c=="function"){var g=c;if(c=g(),ji){rt(!0);try{g()}finally{rt(!1)}}}return f.memoizedState=f.baseState=c,f.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Mc,lastRenderedState:c},f}function im(c,f,g,_){return c.baseState=g,tm(c,Rn,typeof _=="function"?_:Mc)}function Dg(c,f,g,_,A){if(kg(c))throw Error(i(485));if(c=f.action,c!==null){var L={payload:A,action:c,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(X){L.listeners.push(X)}};J.T!==null?g(!0):L.isTransition=!1,_(L),g=f.pending,g===null?(L.next=f.pending=L,Gd(f,L)):(L.next=g.next,f.pending=g.next=L)}}function Gd(c,f){var g=f.action,_=f.payload,A=c.state;if(f.isTransition){var L=J.T,X={};J.T=X;try{var se=g(A,_),Re=J.S;Re!==null&&Re(X,se),rm(c,f,se)}catch(et){jd(c,f,et)}finally{J.T=L}}else try{L=g(A,_),rm(c,f,L)}catch(et){jd(c,f,et)}}function rm(c,f,g){g!==null&&typeof g=="object"&&typeof g.then=="function"?g.then(function(_){sm(c,f,_)},function(_){return jd(c,f,_)}):sm(c,f,g)}function sm(c,f,g){f.status="fulfilled",f.value=g,am(f),c.state=g,f=c.pending,f!==null&&(g=f.next,g===f?c.pending=null:(g=g.next,f.next=g,Gd(c,g)))}function jd(c,f,g){var _=c.pending;if(c.pending=null,_!==null){_=_.next;do f.status="rejected",f.reason=g,am(f),f=f.next;while(f!==_)}c.action=null}function am(c){c=c.listeners;for(var f=0;f<c.length;f++)(0,c[f])()}function om(c,f){return f}function Lg(c,f){if(Xi){var g=Si.formState;if(g!==null){e:{var _=ln;if(Xi){if(Lr){t:{for(var A=Lr,L=Ka;A.nodeType!==8;){if(!L){A=null;break t}if(A=Ku(A.nextSibling),A===null){A=null;break t}}L=A.data,A=L==="F!"||L==="F"?A:null}if(A){Lr=Ku(A.nextSibling),_=A.data==="F!";break e}}_o(_)}_=!1}_&&(f=g[0])}}return g=fs(),g.memoizedState=g.baseState=f,_={pending:null,lanes:0,dispatch:null,lastRenderedReducer:om,lastRenderedState:f},g.queue=_,g=w1.bind(null,ln,_),_.dispatch=g,_=Nf(!1),L=Bg.bind(null,ln,!1,_.queue),_=fs(),A={state:f,dispatch:null,action:c,pending:null},_.queue=A,g=Dg.bind(null,ln,A,L,g),A.dispatch=g,_.memoizedState=c,[f,g,!1]}function $d(c){var f=ts();return lm(f,Rn,c)}function lm(c,f,g){if(f=tm(c,f,om)[0],c=Ql(Mc)[0],typeof f=="object"&&f!==null&&typeof f.then=="function")try{var _=$o(f)}catch(X){throw X===Ah?Qa:X}else _=f;f=ts();var A=f.queue,L=A.dispatch;return g!==f.memoizedState&&(ln.flags|=2048,qd(9,cm(),mE.bind(null,A,g),null)),[_,L,c]}function mE(c,f){c.action=f}function d1(c){var f=ts(),g=Rn;if(g!==null)return lm(f,g,c);ts(),f=f.memoizedState,g=ts();var _=g.queue.dispatch;return g.memoizedState=c,[f,_,!1]}function qd(c,f,g,_){return c={tag:c,create:g,deps:_,inst:f,next:null},f=ln.updateQueue,f===null&&(f=Tc(),ln.updateQueue=f),g=f.lastEffect,g===null?f.lastEffect=c.next=c:(_=g.next,g.next=c,c.next=_,f.lastEffect=c),c}function cm(){return{destroy:void 0,resource:void 0}}function Uy(){return ts().memoizedState}function Ng(c,f,g,_){var A=fs();_=_===void 0?null:_,ln.flags|=c,A.memoizedState=qd(1|f,cm(),g,_)}function Wd(c,f,g,_){var A=ts();_=_===void 0?null:_;var L=A.memoizedState.inst;Rn!==null&&_!==null&&Ui(_,Rn.memoizedState.deps)?A.memoizedState=qd(f,L,g,_):(ln.flags|=c,A.memoizedState=qd(1|f,L,g,_))}function By(c,f){Ng(8390656,8,c,f)}function ky(c,f){Wd(2048,8,c,f)}function Ig(c,f){return Wd(4,2,c,f)}function zg(c,f){return Wd(4,4,c,f)}function p1(c,f){if(typeof f=="function"){c=c();var g=f(c);return function(){typeof g=="function"?g():f(null)}}if(f!=null)return c=c(),f.current=c,function(){f.current=null}}function m1(c,f,g){g=g!=null?g.concat([c]):null,Wd(4,4,p1.bind(null,f,c),g)}function Hy(){}function g1(c,f){var g=ts();f=f===void 0?null:f;var _=g.memoizedState;return f!==null&&Ui(f,_[1])?_[0]:(g.memoizedState=[c,f],c)}function Fy(c,f){var g=ts();f=f===void 0?null:f;var _=g.memoizedState;if(f!==null&&Ui(f,_[1]))return _[0];if(_=c(),ji){rt(!0);try{c()}finally{rt(!1)}}return g.memoizedState=[_,f],_}function Ug(c,f,g){return g===void 0||(Ci&1073741824)!==0?c.memoizedState=f:(c.memoizedState=g,c=Kg(),ln.lanes|=c,Lc|=c,g)}function v1(c,f,g,_){return as(g,f)?g:Xn.current!==null?(c=Ug(c,g,_),as(c,f)||(wa=!0),c):(Ci&42)===0?(wa=!0,c.memoizedState=g):(c=Kg(),ln.lanes|=c,Lc|=c,f)}function y1(c,f,g,_,A){var L=de.p;de.p=L!==0&&8>L?L:8;var X=J.T,se={};J.T=se,Bg(c,!1,f,g);try{var Re=A(),et=J.S;if(et!==null&&et(se,Re),Re!==null&&typeof Re=="object"&&typeof Re.then=="function"){var Dt=zy(Re,_);um(c,f,Dt,Rs(c))}else um(c,f,_,Rs(c))}catch(Bt){um(c,f,{then:function(){},status:"rejected",reason:Bt},Rs())}finally{de.p=L,J.T=X}}function gE(){}function Vy(c,f,g,_){if(c.tag!==5)throw Error(i(476));var A=_1(c).queue;y1(c,A,f,he,g===null?gE:function(){return b1(c),g(_)})}function _1(c){var f=c.memoizedState;if(f!==null)return f;f={memoizedState:he,baseState:he,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Mc,lastRenderedState:he},next:null};var g={};return f.next={memoizedState:g,baseState:g,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Mc,lastRenderedState:g},next:null},c.memoizedState=f,c=c.alternate,c!==null&&(c.memoizedState=f),f}function b1(c){var f=_1(c).next.queue;um(c,f,{},Rs())}function Gy(){return ls(n0)}function x1(){return ts().memoizedState}function S1(){return ts().memoizedState}function vE(c){for(var f=c.return;f!==null;){switch(f.tag){case 24:case 3:var g=Rs();c=ct(g);var _=It(f,c,g);_!==null&&(wo(_,f,g),Zt(_,f,g)),f={cache:Eh()},c.payload=f;return}f=f.return}}function yE(c,f,g){var _=Rs();g={lane:_,revertLane:0,action:g,hasEagerState:!1,eagerState:null,next:null},kg(c)?E1(f,g):(g=Dd(c,f,g,_),g!==null&&(wo(g,c,_),gl(g,f,_)))}function w1(c,f,g){var _=Rs();um(c,f,g,_)}function um(c,f,g,_){var A={lane:_,revertLane:0,action:g,hasEagerState:!1,eagerState:null,next:null};if(kg(c))E1(f,A);else{var L=c.alternate;if(c.lanes===0&&(L===null||L.lanes===0)&&(L=f.lastRenderedReducer,L!==null))try{var X=f.lastRenderedState,se=L(X,g);if(A.hasEagerState=!0,A.eagerState=se,as(se,X))return Zc(c,f,A,0),Si===null&&bh(),!1}catch{}finally{}if(g=Dd(c,f,A,_),g!==null)return wo(g,c,_),gl(g,f,_),!0}return!1}function Bg(c,f,g,_){if(_={lane:2,revertLane:xE(),action:_,hasEagerState:!1,eagerState:null,next:null},kg(c)){if(f)throw Error(i(479))}else f=Dd(c,g,_,2),f!==null&&wo(f,c,2)}function kg(c){var f=c.alternate;return c===ln||f!==null&&f===ln}function E1(c,f){Hi=sr=!0;var g=c.pending;g===null?f.next=f:(f.next=g.next,g.next=f),c.pending=f}function gl(c,f,g){if((g&4194048)!==0){var _=f.lanes;_&=c.pendingLanes,g|=_,f.lanes=g,$t(c,g)}}var fm={readContext:ls,use:Gu,useCallback:ir,useContext:ir,useEffect:ir,useImperativeHandle:ir,useLayoutEffect:ir,useInsertionEffect:ir,useMemo:ir,useReducer:ir,useRef:ir,useState:ir,useDebugValue:ir,useDeferredValue:ir,useTransition:ir,useSyncExternalStore:ir,useId:ir,useHostTransitionStatus:ir,useFormState:ir,useActionState:ir,useOptimistic:ir,useMemoCache:ir,useCacheRefresh:ir},Hg={readContext:ls,use:Gu,useCallback:function(c,f){return fs().memoizedState=[c,f===void 0?null:f],c},useContext:ls,useEffect:By,useImperativeHandle:function(c,f,g){g=g!=null?g.concat([c]):null,Ng(4194308,4,p1.bind(null,f,c),g)},useLayoutEffect:function(c,f){return Ng(4194308,4,c,f)},useInsertionEffect:function(c,f){Ng(4,2,c,f)},useMemo:function(c,f){var g=fs();f=f===void 0?null:f;var _=c();if(ji){rt(!0);try{c()}finally{rt(!1)}}return g.memoizedState=[_,f],_},useReducer:function(c,f,g){var _=fs();if(g!==void 0){var A=g(f);if(ji){rt(!0);try{g(f)}finally{rt(!1)}}}else A=f;return _.memoizedState=_.baseState=A,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:c,lastRenderedState:A},_.queue=c,c=c.dispatch=yE.bind(null,ln,c),[_.memoizedState,c]},useRef:function(c){var f=fs();return c={current:c},f.memoizedState=c},useState:function(c){c=Nf(c);var f=c.queue,g=w1.bind(null,ln,f);return f.dispatch=g,[c.memoizedState,g]},useDebugValue:Hy,useDeferredValue:function(c,f){var g=fs();return Ug(g,c,f)},useTransition:function(){var c=Nf(!1);return c=y1.bind(null,ln,c.queue,!0,!1),fs().memoizedState=c,[!1,c]},useSyncExternalStore:function(c,f,g){var _=ln,A=fs();if(Xi){if(g===void 0)throw Error(i(407));g=g()}else{if(g=f(),Si===null)throw Error(i(349));(Yn&124)!==0||ju(_,f,g)}A.memoizedState=g;var L={value:g,getSnapshot:f};return A.queue=L,By(Og.bind(null,_,L,c),[c]),_.flags|=2048,qd(9,cm(),nm.bind(null,_,L,g,f),null),g},useId:function(){var c=fs(),f=Si.identifierPrefix;if(Xi){var g=Kl,_=Zl;g=(_&~(1<<32-qt(_)-1)).toString(32)+g,f=""+f+"R"+g,g=ar++,0<g&&(f+="H"+g.toString(32)),f+=""}else g=bo++,f=""+f+"r"+g.toString(32)+"";return c.memoizedState=f},useHostTransitionStatus:Gy,useFormState:Lg,useActionState:Lg,useOptimistic:function(c){var f=fs();f.memoizedState=f.baseState=c;var g={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return f.queue=g,f=Bg.bind(null,ln,!0,g),g.dispatch=f,[c,f]},useMemoCache:em,useCacheRefresh:function(){return fs().memoizedState=vE.bind(null,ln)}},jy={readContext:ls,use:Gu,useCallback:g1,useContext:ls,useEffect:ky,useImperativeHandle:m1,useInsertionEffect:Ig,useLayoutEffect:zg,useMemo:Fy,useReducer:Ql,useRef:Uy,useState:function(){return Ql(Mc)},useDebugValue:Hy,useDeferredValue:function(c,f){var g=ts();return v1(g,Rn.memoizedState,c,f)},useTransition:function(){var c=Ql(Mc)[0],f=ts().memoizedState;return[typeof c=="boolean"?c:$o(c),f]},useSyncExternalStore:Rg,useId:x1,useHostTransitionStatus:Gy,useFormState:$d,useActionState:$d,useOptimistic:function(c,f){var g=ts();return im(g,Rn,c,f)},useMemoCache:em,useCacheRefresh:S1},T1={readContext:ls,use:Gu,useCallback:g1,useContext:ls,useEffect:ky,useImperativeHandle:m1,useInsertionEffect:Ig,useLayoutEffect:zg,useMemo:Fy,useReducer:Vd,useRef:Uy,useState:function(){return Vd(Mc)},useDebugValue:Hy,useDeferredValue:function(c,f){var g=ts();return Rn===null?Ug(g,c,f):v1(g,Rn.memoizedState,c,f)},useTransition:function(){var c=Vd(Mc)[0],f=ts().memoizedState;return[typeof c=="boolean"?c:$o(c),f]},useSyncExternalStore:Rg,useId:x1,useHostTransitionStatus:Gy,useFormState:d1,useActionState:d1,useOptimistic:function(c,f){var g=ts();return Rn!==null?im(g,Rn,c,f):(g.baseState=c,[c,g.queue.dispatch])},useMemoCache:em,useCacheRefresh:S1},Ch=null,hm=0;function dm(c){var f=hm;return hm+=1,Ch===null&&(Ch=[]),su(Ch,c,f)}function Xd(c,f){f=f.props.ref,c.ref=f!==void 0?f:null}function Fg(c,f){throw f.$$typeof===m?Error(i(525)):(c=Object.prototype.toString.call(f),Error(i(31,c==="[object Object]"?"object with keys {"+Object.keys(f).join(", ")+"}":c)))}function M1(c){var f=c._init;return f(c._payload)}function A1(c){function f(je,Be){if(c){var Qe=je.deletions;Qe===null?(je.deletions=[Be],je.flags|=16):Qe.push(Be)}}function g(je,Be){if(!c)return null;for(;Be!==null;)f(je,Be),Be=Be.sibling;return null}function _(je){for(var Be=new Map;je!==null;)je.key!==null?Be.set(je.key,je):Be.set(je.index,je),je=je.sibling;return Be}function A(je,Be){return je=ys(je,Be),je.index=0,je.sibling=null,je}function L(je,Be,Qe){return je.index=Qe,c?(Qe=je.alternate,Qe!==null?(Qe=Qe.index,Qe<Be?(je.flags|=67108866,Be):Qe):(je.flags|=67108866,Be)):(je.flags|=1048576,Be)}function X(je){return c&&je.alternate===null&&(je.flags|=67108866),je}function se(je,Be,Qe,zt){return Be===null||Be.tag!==6?(Be=Uu(Qe,je.mode,zt),Be.return=je,Be):(Be=A(Be,Qe),Be.return=je,Be)}function Re(je,Be,Qe,zt){var Ln=Qe.type;return Ln===x?Dt(je,Be,Qe.props.children,zt,Qe.key):Be!==null&&(Be.elementType===Ln||typeof Ln=="object"&&Ln!==null&&Ln.$$typeof===$&&M1(Ln)===Be.type)?(Be=A(Be,Qe.props),Xd(Be,Qe),Be.return=je,Be):(Be=Xs(Qe.type,Qe.key,Qe.props,null,je.mode,zt),Xd(Be,Qe),Be.return=je,Be)}function et(je,Be,Qe,zt){return Be===null||Be.tag!==4||Be.stateNode.containerInfo!==Qe.containerInfo||Be.stateNode.implementation!==Qe.implementation?(Be=Bu(Qe,je.mode,zt),Be.return=je,Be):(Be=A(Be,Qe.children||[]),Be.return=je,Be)}function Dt(je,Be,Qe,zt,Ln){return Be===null||Be.tag!==7?(Be=Qc(Qe,je.mode,zt,Ln),Be.return=je,Be):(Be=A(Be,Qe),Be.return=je,Be)}function Bt(je,Be,Qe){if(typeof Be=="string"&&Be!==""||typeof Be=="number"||typeof Be=="bigint")return Be=Uu(""+Be,je.mode,Qe),Be.return=je,Be;if(typeof Be=="object"&&Be!==null){switch(Be.$$typeof){case v:return Qe=Xs(Be.type,Be.key,Be.props,null,je.mode,Qe),Xd(Qe,Be),Qe.return=je,Qe;case y:return Be=Bu(Be,je.mode,Qe),Be.return=je,Be;case $:var zt=Be._init;return Be=zt(Be._payload),Bt(je,Be,Qe)}if(Te(Be)||pe(Be))return Be=Qc(Be,je.mode,Qe,null),Be.return=je,Be;if(typeof Be.then=="function")return Bt(je,dm(Be),Qe);if(Be.$$typeof===D)return Bt(je,Pf(je,Be),Qe);Fg(je,Be)}return null}function at(je,Be,Qe,zt){var Ln=Be!==null?Be.key:null;if(typeof Qe=="string"&&Qe!==""||typeof Qe=="number"||typeof Qe=="bigint")return Ln!==null?null:se(je,Be,""+Qe,zt);if(typeof Qe=="object"&&Qe!==null){switch(Qe.$$typeof){case v:return Qe.key===Ln?Re(je,Be,Qe,zt):null;case y:return Qe.key===Ln?et(je,Be,Qe,zt):null;case $:return Ln=Qe._init,Qe=Ln(Qe._payload),at(je,Be,Qe,zt)}if(Te(Qe)||pe(Qe))return Ln!==null?null:Dt(je,Be,Qe,zt,null);if(typeof Qe.then=="function")return at(je,Be,dm(Qe),zt);if(Qe.$$typeof===D)return at(je,Be,Pf(je,Qe),zt);Fg(je,Qe)}return null}function lt(je,Be,Qe,zt,Ln){if(typeof zt=="string"&&zt!==""||typeof zt=="number"||typeof zt=="bigint")return je=je.get(Qe)||null,se(Be,je,""+zt,Ln);if(typeof zt=="object"&&zt!==null){switch(zt.$$typeof){case v:return je=je.get(zt.key===null?Qe:zt.key)||null,Re(Be,je,zt,Ln);case y:return je=je.get(zt.key===null?Qe:zt.key)||null,et(Be,je,zt,Ln);case $:var Zi=zt._init;return zt=Zi(zt._payload),lt(je,Be,Qe,zt,Ln)}if(Te(zt)||pe(zt))return je=je.get(Qe)||null,Dt(Be,je,zt,Ln,null);if(typeof zt.then=="function")return lt(je,Be,Qe,dm(zt),Ln);if(zt.$$typeof===D)return lt(je,Be,Qe,Pf(Be,zt),Ln);Fg(Be,zt)}return null}function gi(je,Be,Qe,zt){for(var Ln=null,Zi=null,jn=Be,ci=Be=0,no=null;jn!==null&&ci<Qe.length;ci++){jn.index>ci?(no=jn,jn=null):no=jn.sibling;var Tr=at(je,jn,Qe[ci],zt);if(Tr===null){jn===null&&(jn=no);break}c&&jn&&Tr.alternate===null&&f(je,jn),Be=L(Tr,Be,ci),Zi===null?Ln=Tr:Zi.sibling=Tr,Zi=Tr,jn=no}if(ci===Qe.length)return g(je,jn),Xi&&Ia(je,ci),Ln;if(jn===null){for(;ci<Qe.length;ci++)jn=Bt(je,Qe[ci],zt),jn!==null&&(Be=L(jn,Be,ci),Zi===null?Ln=jn:Zi.sibling=jn,Zi=jn);return Xi&&Ia(je,ci),Ln}for(jn=_(jn);ci<Qe.length;ci++)no=lt(jn,je,ci,Qe[ci],zt),no!==null&&(c&&no.alternate!==null&&jn.delete(no.key===null?ci:no.key),Be=L(no,Be,ci),Zi===null?Ln=no:Zi.sibling=no,Zi=no);return c&&jn.forEach(function(fp){return f(je,fp)}),Xi&&Ia(je,ci),Ln}function ai(je,Be,Qe,zt){if(Qe==null)throw Error(i(151));for(var Ln=null,Zi=null,jn=Be,ci=Be=0,no=null,Tr=Qe.next();jn!==null&&!Tr.done;ci++,Tr=Qe.next()){jn.index>ci?(no=jn,jn=null):no=jn.sibling;var fp=at(je,jn,Tr.value,zt);if(fp===null){jn===null&&(jn=no);break}c&&jn&&fp.alternate===null&&f(je,jn),Be=L(fp,Be,ci),Zi===null?Ln=fp:Zi.sibling=fp,Zi=fp,jn=no}if(Tr.done)return g(je,jn),Xi&&Ia(je,ci),Ln;if(jn===null){for(;!Tr.done;ci++,Tr=Qe.next())Tr=Bt(je,Tr.value,zt),Tr!==null&&(Be=L(Tr,Be,ci),Zi===null?Ln=Tr:Zi.sibling=Tr,Zi=Tr);return Xi&&Ia(je,ci),Ln}for(jn=_(jn);!Tr.done;ci++,Tr=Qe.next())Tr=lt(jn,je,ci,Tr.value,zt),Tr!==null&&(c&&Tr.alternate!==null&&jn.delete(Tr.key===null?ci:Tr.key),Be=L(Tr,Be,ci),Zi===null?Ln=Tr:Zi.sibling=Tr,Zi=Tr);return c&&jn.forEach(function(Vk){return f(je,Vk)}),Xi&&Ia(je,ci),Ln}function Yr(je,Be,Qe,zt){if(typeof Qe=="object"&&Qe!==null&&Qe.type===x&&Qe.key===null&&(Qe=Qe.props.children),typeof Qe=="object"&&Qe!==null){switch(Qe.$$typeof){case v:e:{for(var Ln=Qe.key;Be!==null;){if(Be.key===Ln){if(Ln=Qe.type,Ln===x){if(Be.tag===7){g(je,Be.sibling),zt=A(Be,Qe.props.children),zt.return=je,je=zt;break e}}else if(Be.elementType===Ln||typeof Ln=="object"&&Ln!==null&&Ln.$$typeof===$&&M1(Ln)===Be.type){g(je,Be.sibling),zt=A(Be,Qe.props),Xd(zt,Qe),zt.return=je,je=zt;break e}g(je,Be);break}else f(je,Be);Be=Be.sibling}Qe.type===x?(zt=Qc(Qe.props.children,je.mode,zt,Qe.key),zt.return=je,je=zt):(zt=Xs(Qe.type,Qe.key,Qe.props,null,je.mode,zt),Xd(zt,Qe),zt.return=je,je=zt)}return X(je);case y:e:{for(Ln=Qe.key;Be!==null;){if(Be.key===Ln)if(Be.tag===4&&Be.stateNode.containerInfo===Qe.containerInfo&&Be.stateNode.implementation===Qe.implementation){g(je,Be.sibling),zt=A(Be,Qe.children||[]),zt.return=je,je=zt;break e}else{g(je,Be);break}else f(je,Be);Be=Be.sibling}zt=Bu(Qe,je.mode,zt),zt.return=je,je=zt}return X(je);case $:return Ln=Qe._init,Qe=Ln(Qe._payload),Yr(je,Be,Qe,zt)}if(Te(Qe))return gi(je,Be,Qe,zt);if(pe(Qe)){if(Ln=pe(Qe),typeof Ln!="function")throw Error(i(150));return Qe=Ln.call(Qe),ai(je,Be,Qe,zt)}if(typeof Qe.then=="function")return Yr(je,Be,dm(Qe),zt);if(Qe.$$typeof===D)return Yr(je,Be,Pf(je,Qe),zt);Fg(je,Qe)}return typeof Qe=="string"&&Qe!==""||typeof Qe=="number"||typeof Qe=="bigint"?(Qe=""+Qe,Be!==null&&Be.tag===6?(g(je,Be.sibling),zt=A(Be,Qe),zt.return=je,je=zt):(g(je,Be),zt=Uu(Qe,je.mode,zt),zt.return=je,je=zt),X(je)):g(je,Be)}return function(je,Be,Qe,zt){try{hm=0;var Ln=Yr(je,Be,Qe,zt);return Ch=null,Ln}catch(jn){if(jn===Ah||jn===Qa)throw jn;var Zi=Za(29,jn,null,je.mode);return Zi.lanes=zt,Zi.return=je,Zi}finally{}}}var Rh=A1(!0),C1=A1(!1),kr=re(null),Ac=null;function If(c){var f=c.alternate;Ve(Us,Us.current&1),Ve(kr,c),Ac===null&&(f===null||Xn.current!==null||f.memoizedState!==null)&&(Ac=c)}function R1(c){if(c.tag===22){if(Ve(Us,Us.current),Ve(kr,c),Ac===null){var f=c.alternate;f!==null&&f.memoizedState!==null&&(Ac=c)}}else zf()}function zf(){Ve(Us,Us.current),Ve(kr,kr.current)}function ou(c){ze(kr),Ac===c&&(Ac=null),ze(Us)}var Us=re(0);function $u(c){for(var f=c;f!==null;){if(f.tag===13){var g=f.memoizedState;if(g!==null&&(g=g.dehydrated,g===null||g.data==="$?"||LE(g)))return f}else if(f.tag===19&&f.memoizedProps.revealOrder!==void 0){if((f.flags&128)!==0)return f}else if(f.child!==null){f.child.return=f,f=f.child;continue}if(f===c)break;for(;f.sibling===null;){if(f.return===null||f.return===c)return null;f=f.return}f.sibling.return=f.return,f=f.sibling}return null}function Uf(c,f,g,_){f=c.memoizedState,g=g(_,f),g=g==null?f:d({},f,g),c.memoizedState=g,c.lanes===0&&(c.updateQueue.baseState=g)}var xo={enqueueSetState:function(c,f,g){c=c._reactInternals;var _=Rs(),A=ct(_);A.payload=f,g!=null&&(A.callback=g),f=It(c,A,_),f!==null&&(wo(f,c,_),Zt(f,c,_))},enqueueReplaceState:function(c,f,g){c=c._reactInternals;var _=Rs(),A=ct(_);A.tag=1,A.payload=f,g!=null&&(A.callback=g),f=It(c,A,_),f!==null&&(wo(f,c,_),Zt(f,c,_))},enqueueForceUpdate:function(c,f){c=c._reactInternals;var g=Rs(),_=ct(g);_.tag=2,f!=null&&(_.callback=f),f=It(c,_,g),f!==null&&(wo(f,c,g),Zt(f,c,g))}};function O1(c,f,g,_,A,L,X){return c=c.stateNode,typeof c.shouldComponentUpdate=="function"?c.shouldComponentUpdate(_,L,X):f.prototype&&f.prototype.isPureReactComponent?!xa(g,_)||!xa(A,L):!0}function P1(c,f,g,_){c=f.state,typeof f.componentWillReceiveProps=="function"&&f.componentWillReceiveProps(g,_),typeof f.UNSAFE_componentWillReceiveProps=="function"&&f.UNSAFE_componentWillReceiveProps(g,_),f.state!==c&&xo.enqueueReplaceState(f,f.state,null)}function lu(c,f){var g=f;if("ref"in f){g={};for(var _ in f)_!=="ref"&&(g[_]=f[_])}if(c=c.defaultProps){g===f&&(g=d({},g));for(var A in c)g[A]===void 0&&(g[A]=c[A])}return g}var Oh=typeof reportError=="function"?reportError:function(c){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var f=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof c=="object"&&c!==null&&typeof c.message=="string"?String(c.message):String(c),error:c});if(!window.dispatchEvent(f))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",c);return}console.error(c)};function pm(c){Oh(c)}function Vg(c){console.error(c)}function D1(c){Oh(c)}function Gg(c,f){try{var g=c.onUncaughtError;g(f.value,{componentStack:f.stack})}catch(_){setTimeout(function(){throw _})}}function Jl(c,f,g){try{var _=c.onCaughtError;_(g.value,{componentStack:g.stack,errorBoundary:f.tag===1?f.stateNode:null})}catch(A){setTimeout(function(){throw A})}}function jg(c,f,g){return g=ct(g),g.tag=3,g.payload={element:null},g.callback=function(){Gg(c,f)},g}function L1(c){return c=ct(c),c.tag=3,c}function $g(c,f,g,_){var A=g.type.getDerivedStateFromError;if(typeof A=="function"){var L=_.value;c.payload=function(){return A(L)},c.callback=function(){Jl(f,g,_)}}var X=g.stateNode;X!==null&&typeof X.componentDidCatch=="function"&&(c.callback=function(){Jl(f,g,_),typeof A!="function"&&(El===null?El=new Set([this]):El.add(this));var se=_.stack;this.componentDidCatch(_.value,{componentStack:se!==null?se:""})})}function _E(c,f,g,_,A){if(g.flags|=32768,_!==null&&typeof _=="object"&&typeof _.then=="function"){if(f=g.alternate,f!==null&&Vo(f,g,A,!0),g=kr.current,g!==null){switch(g.tag){case 13:return Ac===null?h():g.alternate===null&&ns===0&&(ns=3),g.flags&=-257,g.flags|=65536,g.lanes=A,_===ru?g.flags|=16384:(f=g.updateQueue,f===null?g.updateQueue=new Set([_]):f.add(_),ut(c,_,A)),!1;case 22:return g.flags|=65536,_===ru?g.flags|=16384:(f=g.updateQueue,f===null?(f={transitions:null,markerInstances:null,retryQueue:new Set([_])},g.updateQueue=f):(g=f.retryQueue,g===null?f.retryQueue=new Set([_]):g.add(_)),ut(c,_,A)),!1}throw Error(i(435,g.tag))}return ut(c,_,A),h(),!1}if(Xi)return f=kr.current,f!==null?((f.flags&65536)===0&&(f.flags|=256),f.flags|=65536,f.lanes=A,_!==Nd&&(c=Error(i(422),{cause:_}),dl(sa(c,g)))):(_!==Nd&&(f=Error(i(423),{cause:_}),dl(sa(f,g))),c=c.current.alternate,c.flags|=65536,A&=-A,c.lanes|=A,_=sa(_,g),A=jg(c.stateNode,_,A),_n(c,A),ns!==4&&(ns=2)),!1;var L=Error(i(520),{cause:_});if(L=sa(L,g),Er===null?Er=[L]:Er.push(L),ns!==4&&(ns=2),f===null)return!0;_=sa(_,g),g=f;do{switch(g.tag){case 3:return g.flags|=65536,c=A&-A,g.lanes|=c,c=jg(g.stateNode,_,c),_n(g,c),!1;case 1:if(f=g.type,L=g.stateNode,(g.flags&128)===0&&(typeof f.getDerivedStateFromError=="function"||L!==null&&typeof L.componentDidCatch=="function"&&(El===null||!El.has(L))))return g.flags|=65536,A&=-A,g.lanes|=A,A=L1(A),$g(A,c,g,_),_n(g,A),!1}g=g.return}while(g!==null);return!1}var N1=Error(i(461)),wa=!1;function Bs(c,f,g,_){f.child=c===null?C1(f,null,g,_):Rh(f,c.child,g,_)}function qo(c,f,g,_,A){g=g.render;var L=f.ref;if("ref"in _){var X={};for(var se in _)se!=="ref"&&(X[se]=_[se])}else X=_;return pl(f),_=Ys(c,f,g,X,L,A),se=vr(),c!==null&&!wa?(Ks(c,f,A),Ea(c,f,A)):(Xi&&se&&Zp(f),f.flags|=1,Bs(c,f,_,A),f.child)}function Wo(c,f,g,_,A){if(c===null){var L=g.type;return typeof L=="function"&&!xh(L)&&L.defaultProps===void 0&&g.compare===null?(f.tag=15,f.type=L,$y(c,f,L,_,A)):(c=Xs(g.type,null,_,f,f.mode,A),c.ref=f.ref,c.return=f,f.child=c)}if(L=c.child,!mm(c,A)){var X=L.memoizedProps;if(g=g.compare,g=g!==null?g:xa,g(X,_)&&c.ref===f.ref)return Ea(c,f,A)}return f.flags|=1,c=ys(L,_),c.ref=f.ref,c.return=f,f.child=c}function $y(c,f,g,_,A){if(c!==null){var L=c.memoizedProps;if(xa(L,_)&&c.ref===f.ref)if(wa=!1,f.pendingProps=_=L,mm(c,A))(c.flags&131072)!==0&&(wa=!0);else return f.lanes=c.lanes,Ea(c,f,A)}return Yd(c,f,g,_,A)}function Ph(c,f,g){var _=f.pendingProps,A=_.children,L=c!==null?c.memoizedState:null;if(_.mode==="hidden"){if((f.flags&128)!==0){if(_=L!==null?L.baseLanes|g:g,c!==null){for(A=f.child=c.child,L=0;A!==null;)L=L|A.lanes|A.childLanes,A=A.sibling;f.childLanes=L&~_}else f.childLanes=0,f.child=null;return Dh(c,f,_,g)}if((g&536870912)!==0)f.memoizedState={baseLanes:0,cachePool:null},c!==null&&Mh(f,L!==null?L.cachePool:null),L!==null?gr(f,L):Sr(),R1(f);else return f.lanes=f.childLanes=536870912,Dh(c,f,L!==null?L.baseLanes|g:g,g)}else L!==null?(Mh(f,L.cachePool),gr(f,L),zf(),f.memoizedState=null):(c!==null&&Mh(f,null),Sr(),zf());return Bs(c,f,A,g),f.child}function Dh(c,f,g,_){var A=iu();return A=A===null?null:{parent:cs._currentValue,pool:A},f.memoizedState={baseLanes:g,cachePool:A},c!==null&&Mh(f,null),Sr(),R1(f),c!==null&&Vo(c,f,_,!0),null}function Lh(c,f){var g=f.ref;if(g===null)c!==null&&c.ref!==null&&(f.flags|=4194816);else{if(typeof g!="function"&&typeof g!="object")throw Error(i(284));(c===null||c.ref!==g)&&(f.flags|=4194816)}}function Yd(c,f,g,_,A){return pl(f),g=Ys(c,f,g,_,void 0,A),_=vr(),c!==null&&!wa?(Ks(c,f,A),Ea(c,f,A)):(Xi&&_&&Zp(f),f.flags|=1,Bs(c,f,g,A),f.child)}function vl(c,f,g,_,A,L){return pl(f),f.updateQueue=null,g=Vu(f,_,g,A),ml(c),_=vr(),c!==null&&!wa?(Ks(c,f,L),Ea(c,f,L)):(Xi&&_&&Zp(f),f.flags|=1,Bs(c,f,g,L),f.child)}function yl(c,f,g,_,A){if(pl(f),f.stateNode===null){var L=Kc,X=g.contextType;typeof X=="object"&&X!==null&&(L=ls(X)),L=new g(_,L),f.memoizedState=L.state!==null&&L.state!==void 0?L.state:null,L.updater=xo,f.stateNode=L,L._reactInternals=f,L=f.stateNode,L.props=_,L.state=f.memoizedState,L.refs={},ke(f),X=g.contextType,L.context=typeof X=="object"&&X!==null?ls(X):Kc,L.state=f.memoizedState,X=g.getDerivedStateFromProps,typeof X=="function"&&(Uf(f,g,X,_),L.state=f.memoizedState),typeof g.getDerivedStateFromProps=="function"||typeof L.getSnapshotBeforeUpdate=="function"||typeof L.UNSAFE_componentWillMount!="function"&&typeof L.componentWillMount!="function"||(X=L.state,typeof L.componentWillMount=="function"&&L.componentWillMount(),typeof L.UNSAFE_componentWillMount=="function"&&L.UNSAFE_componentWillMount(),X!==L.state&&xo.enqueueReplaceState(L,L.state,null),li(f,_,L,A),hn(),L.state=f.memoizedState),typeof L.componentDidMount=="function"&&(f.flags|=4194308),_=!0}else if(c===null){L=f.stateNode;var se=f.memoizedProps,Re=lu(g,se);L.props=Re;var et=L.context,Dt=g.contextType;X=Kc,typeof Dt=="object"&&Dt!==null&&(X=ls(Dt));var Bt=g.getDerivedStateFromProps;Dt=typeof Bt=="function"||typeof L.getSnapshotBeforeUpdate=="function",se=f.pendingProps!==se,Dt||typeof L.UNSAFE_componentWillReceiveProps!="function"&&typeof L.componentWillReceiveProps!="function"||(se||et!==X)&&P1(f,L,_,X),le=!1;var at=f.memoizedState;L.state=at,li(f,_,L,A),hn(),et=f.memoizedState,se||at!==et||le?(typeof Bt=="function"&&(Uf(f,g,Bt,_),et=f.memoizedState),(Re=le||O1(f,g,Re,_,at,et,X))?(Dt||typeof L.UNSAFE_componentWillMount!="function"&&typeof L.componentWillMount!="function"||(typeof L.componentWillMount=="function"&&L.componentWillMount(),typeof L.UNSAFE_componentWillMount=="function"&&L.UNSAFE_componentWillMount()),typeof L.componentDidMount=="function"&&(f.flags|=4194308)):(typeof L.componentDidMount=="function"&&(f.flags|=4194308),f.memoizedProps=_,f.memoizedState=et),L.props=_,L.state=et,L.context=X,_=Re):(typeof L.componentDidMount=="function"&&(f.flags|=4194308),_=!1)}else{L=f.stateNode,Pe(c,f),X=f.memoizedProps,Dt=lu(g,X),L.props=Dt,Bt=f.pendingProps,at=L.context,et=g.contextType,Re=Kc,typeof et=="object"&&et!==null&&(Re=ls(et)),se=g.getDerivedStateFromProps,(et=typeof se=="function"||typeof L.getSnapshotBeforeUpdate=="function")||typeof L.UNSAFE_componentWillReceiveProps!="function"&&typeof L.componentWillReceiveProps!="function"||(X!==Bt||at!==Re)&&P1(f,L,_,Re),le=!1,at=f.memoizedState,L.state=at,li(f,_,L,A),hn();var lt=f.memoizedState;X!==Bt||at!==lt||le||c!==null&&c.dependencies!==null&&wh(c.dependencies)?(typeof se=="function"&&(Uf(f,g,se,_),lt=f.memoizedState),(Dt=le||O1(f,g,Dt,_,at,lt,Re)||c!==null&&c.dependencies!==null&&wh(c.dependencies))?(et||typeof L.UNSAFE_componentWillUpdate!="function"&&typeof L.componentWillUpdate!="function"||(typeof L.componentWillUpdate=="function"&&L.componentWillUpdate(_,lt,Re),typeof L.UNSAFE_componentWillUpdate=="function"&&L.UNSAFE_componentWillUpdate(_,lt,Re)),typeof L.componentDidUpdate=="function"&&(f.flags|=4),typeof L.getSnapshotBeforeUpdate=="function"&&(f.flags|=1024)):(typeof L.componentDidUpdate!="function"||X===c.memoizedProps&&at===c.memoizedState||(f.flags|=4),typeof L.getSnapshotBeforeUpdate!="function"||X===c.memoizedProps&&at===c.memoizedState||(f.flags|=1024),f.memoizedProps=_,f.memoizedState=lt),L.props=_,L.state=lt,L.context=Re,_=Dt):(typeof L.componentDidUpdate!="function"||X===c.memoizedProps&&at===c.memoizedState||(f.flags|=4),typeof L.getSnapshotBeforeUpdate!="function"||X===c.memoizedProps&&at===c.memoizedState||(f.flags|=1024),_=!1)}return L=_,Lh(c,f),_=(f.flags&128)!==0,L||_?(L=f.stateNode,g=_&&typeof g.getDerivedStateFromError!="function"?null:L.render(),f.flags|=1,c!==null&&_?(f.child=Rh(f,c.child,null,A),f.child=Rh(f,null,g,A)):Bs(c,f,g,A),f.memoizedState=L.state,c=f.child):c=Ea(c,f,A),c}function Bf(c,f,g,_){return Of(),f.flags|=256,Bs(c,f,g,_),f.child}var Cc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Rc(c){return{baseLanes:c,cachePool:kd()}}function oa(c,f,g){return c=c!==null?c.childLanes&~g:0,f&&(c|=rc),c}function Zd(c,f,g){var _=f.pendingProps,A=!1,L=(f.flags&128)!==0,X;if((X=L)||(X=c!==null&&c.memoizedState===null?!1:(Us.current&2)!==0),X&&(A=!0,f.flags&=-129),X=(f.flags&32)!==0,f.flags&=-33,c===null){if(Xi){if(A?If(f):zf(),Xi){var se=Lr,Re;if(Re=se){e:{for(Re=se,se=Ka;Re.nodeType!==8;){if(!se){se=null;break e}if(Re=Ku(Re.nextSibling),Re===null){se=null;break e}}se=Re}se!==null?(f.memoizedState={dehydrated:se,treeContext:Jc!==null?{id:Zl,overflow:Kl}:null,retryLane:536870912,hydrationErrors:null},Re=Za(18,null,null,0),Re.stateNode=se,Re.return=f,f.child=Re,za=f,Lr=null,Re=!0):Re=!1}Re||_o(f)}if(se=f.memoizedState,se!==null&&(se=se.dehydrated,se!==null))return LE(se)?f.lanes=32:f.lanes=536870912,null;ou(f)}return se=_.children,_=_.fallback,A?(zf(),A=f.mode,se=Nh({mode:"hidden",children:se},A),_=Qc(_,A,g,null),se.return=f,_.return=f,se.sibling=_,f.child=se,A=f.child,A.memoizedState=Rc(g),A.childLanes=oa(c,X,g),f.memoizedState=Cc,_):(If(f),cu(f,se))}if(Re=c.memoizedState,Re!==null&&(se=Re.dehydrated,se!==null)){if(L)f.flags&256?(If(f),f.flags&=-257,f=Ua(c,f,g)):f.memoizedState!==null?(zf(),f.child=c.child,f.flags|=128,f=null):(zf(),A=_.fallback,se=f.mode,_=Nh({mode:"visible",children:_.children},se),A=Qc(A,se,g,null),A.flags|=2,_.return=f,A.return=f,_.sibling=A,f.child=_,Rh(f,c.child,null,g),_=f.child,_.memoizedState=Rc(g),_.childLanes=oa(c,X,g),f.memoizedState=Cc,f=A);else if(If(f),LE(se)){if(X=se.nextSibling&&se.nextSibling.dataset,X)var et=X.dgst;X=et,_=Error(i(419)),_.stack="",_.digest=X,dl({value:_,source:null,stack:null}),f=Ua(c,f,g)}else if(wa||Vo(c,f,g,!1),X=(g&c.childLanes)!==0,wa||X){if(X=Si,X!==null&&(_=g&-g,_=(_&42)!==0?1:fn(_),_=(_&(X.suspendedLanes|g))!==0?0:_,_!==0&&_!==Re.retryLane))throw Re.retryLane=_,xc(c,_),wo(X,c,_),N1;se.data==="$?"||h(),f=Ua(c,f,g)}else se.data==="$?"?(f.flags|=192,f.child=c.child,f=null):(c=Re.treeContext,Lr=Ku(se.nextSibling),za=f,Xi=!0,Fo=null,Ka=!1,c!==null&&(zs[Na++]=Zl,zs[Na++]=Kl,zs[Na++]=Jc,Zl=c.id,Kl=c.overflow,Jc=f),f=cu(f,_.children),f.flags|=4096);return f}return A?(zf(),A=_.fallback,se=f.mode,Re=c.child,et=Re.sibling,_=ys(Re,{mode:"hidden",children:_.children}),_.subtreeFlags=Re.subtreeFlags&65011712,et!==null?A=ys(et,A):(A=Qc(A,se,g,null),A.flags|=2),A.return=f,_.return=f,_.sibling=A,f.child=_,_=A,A=f.child,se=c.child.memoizedState,se===null?se=Rc(g):(Re=se.cachePool,Re!==null?(et=cs._currentValue,Re=Re.parent!==et?{parent:et,pool:et}:Re):Re=kd(),se={baseLanes:se.baseLanes|g,cachePool:Re}),A.memoizedState=se,A.childLanes=oa(c,X,g),f.memoizedState=Cc,_):(If(f),g=c.child,c=g.sibling,g=ys(g,{mode:"visible",children:_.children}),g.return=f,g.sibling=null,c!==null&&(X=f.deletions,X===null?(f.deletions=[c],f.flags|=16):X.push(c)),f.child=g,f.memoizedState=null,g)}function cu(c,f){return f=Nh({mode:"visible",children:f},c.mode),f.return=c,c.child=f}function Nh(c,f){return c=Za(22,c,null,f),c.lanes=0,c.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},c}function Ua(c,f,g){return Rh(f,c.child,null,g),c=cu(f,f.pendingProps.children),c.flags|=2,f.memoizedState=null,c}function Ba(c,f,g){c.lanes|=f;var _=c.alternate;_!==null&&(_.lanes|=f),Qp(c.return,f,g)}function rr(c,f,g,_,A){var L=c.memoizedState;L===null?c.memoizedState={isBackwards:f,rendering:null,renderingStartTime:0,last:_,tail:g,tailMode:A}:(L.isBackwards=f,L.rendering=null,L.renderingStartTime=0,L.last=_,L.tail=g,L.tailMode=A)}function ec(c,f,g){var _=f.pendingProps,A=_.revealOrder,L=_.tail;if(Bs(c,f,_.children,g),_=Us.current,(_&2)!==0)_=_&1|2,f.flags|=128;else{if(c!==null&&(c.flags&128)!==0)e:for(c=f.child;c!==null;){if(c.tag===13)c.memoizedState!==null&&Ba(c,g,f);else if(c.tag===19)Ba(c,g,f);else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===f)break e;for(;c.sibling===null;){if(c.return===null||c.return===f)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}_&=1}switch(Ve(Us,_),A){case"forwards":for(g=f.child,A=null;g!==null;)c=g.alternate,c!==null&&$u(c)===null&&(A=g),g=g.sibling;g=A,g===null?(A=f.child,f.child=null):(A=g.sibling,g.sibling=null),rr(f,!1,A,g,L);break;case"backwards":for(g=null,A=f.child,f.child=null;A!==null;){if(c=A.alternate,c!==null&&$u(c)===null){f.child=A;break}c=A.sibling,A.sibling=g,g=A,A=c}rr(f,!0,g,null,L);break;case"together":rr(f,!1,null,null,void 0);break;default:f.memoizedState=null}return f.child}function Ea(c,f,g){if(c!==null&&(f.dependencies=c.dependencies),Lc|=f.lanes,(g&f.childLanes)===0)if(c!==null){if(Vo(c,f,g,!1),(g&f.childLanes)===0)return null}else return null;if(c!==null&&f.child!==c.child)throw Error(i(153));if(f.child!==null){for(c=f.child,g=ys(c,c.pendingProps),f.child=g,g.return=f;c.sibling!==null;)c=c.sibling,g=g.sibling=ys(c,c.pendingProps),g.return=f;g.sibling=null}return f.child}function mm(c,f){return(c.lanes&f)!==0?!0:(c=c.dependencies,!!(c!==null&&wh(c)))}function tc(c,f,g){switch(f.tag){case 3:yt(f,f.stateNode.containerInfo),tu(f,cs,c.memoizedState.cache),Of();break;case 27:case 5:Vt(f);break;case 4:yt(f,f.stateNode.containerInfo);break;case 10:tu(f,f.type,f.memoizedProps.value);break;case 13:var _=f.memoizedState;if(_!==null)return _.dehydrated!==null?(If(f),f.flags|=128,null):(g&f.child.childLanes)!==0?Zd(c,f,g):(If(f),c=Ea(c,f,g),c!==null?c.sibling:null);If(f);break;case 19:var A=(c.flags&128)!==0;if(_=(g&f.childLanes)!==0,_||(Vo(c,f,g,!1),_=(g&f.childLanes)!==0),A){if(_)return ec(c,f,g);f.flags|=128}if(A=f.memoizedState,A!==null&&(A.rendering=null,A.tail=null,A.lastEffect=null),Ve(Us,Us.current),_)break;return null;case 22:case 23:return f.lanes=0,Ph(c,f,g);case 24:tu(f,cs,c.memoizedState.cache)}return Ea(c,f,g)}function Ih(c,f,g){if(c!==null)if(c.memoizedProps!==f.pendingProps)wa=!0;else{if(!mm(c,g)&&(f.flags&128)===0)return wa=!1,tc(c,f,g);wa=(c.flags&131072)!==0}else wa=!1,Xi&&(f.flags&1048576)!==0&&Ld(f,Yl,f.index);switch(f.lanes=0,f.tag){case 16:e:{c=f.pendingProps;var _=f.elementType,A=_._init;if(_=A(_._payload),f.type=_,typeof _=="function")xh(_)?(c=lu(_,c),f.tag=1,f=yl(null,f,_,c,g)):(f.tag=0,f=Yd(null,f,_,c,g));else{if(_!=null){if(A=_.$$typeof,A===N){f.tag=11,f=qo(null,f,_,c,g);break e}else if(A===M){f.tag=14,f=Wo(null,f,_,c,g);break e}}throw f=ye(_)||_,Error(i(306,f,""))}}return f;case 0:return Yd(c,f,f.type,f.pendingProps,g);case 1:return _=f.type,A=lu(_,f.pendingProps),yl(c,f,_,A,g);case 3:e:{if(yt(f,f.stateNode.containerInfo),c===null)throw Error(i(387));_=f.pendingProps;var L=f.memoizedState;A=L.element,Pe(c,f),li(f,_,null,g);var X=f.memoizedState;if(_=X.cache,tu(f,cs,_),_!==L.cache&&Sh(f,[cs],g,!0),hn(),_=X.element,L.isDehydrated)if(L={element:_,isDehydrated:!1,cache:X.cache},f.updateQueue.baseState=L,f.memoizedState=L,f.flags&256){f=Bf(c,f,_,g);break e}else if(_!==A){A=sa(Error(i(424)),f),dl(A),f=Bf(c,f,_,g);break e}else{switch(c=f.stateNode.containerInfo,c.nodeType){case 9:c=c.body;break;default:c=c.nodeName==="HTML"?c.ownerDocument.body:c}for(Lr=Ku(c.firstChild),za=f,Xi=!0,Fo=null,Ka=!0,g=C1(f,null,_,g),f.child=g;g;)g.flags=g.flags&-3|4096,g=g.sibling}else{if(Of(),_===A){f=Ea(c,f,g);break e}Bs(c,f,_,g)}f=f.child}return f;case 26:return Lh(c,f),c===null?(g=JR(f.type,null,f.pendingProps,null))?f.memoizedState=g:Xi||(g=f.type,c=f.pendingProps,_=H1(Ze.current).createElement(g),_[Ki]=f,_[xr]=c,Eo(_,g,c),Je(_),f.stateNode=_):f.memoizedState=JR(f.type,c.memoizedProps,f.pendingProps,c.memoizedState),null;case 27:return Vt(f),c===null&&Xi&&(_=f.stateNode=ZR(f.type,f.pendingProps,Ze.current),za=f,Ka=!0,A=Lr,ap(f.type)?(NE=A,Lr=Ku(_.firstChild)):Lr=A),Bs(c,f,f.pendingProps.children,g),Lh(c,f),c===null&&(f.flags|=4194304),f.child;case 5:return c===null&&Xi&&((A=_=Lr)&&(_=vk(_,f.type,f.pendingProps,Ka),_!==null?(f.stateNode=_,za=f,Lr=Ku(_.firstChild),Ka=!1,A=!0):A=!1),A||_o(f)),Vt(f),A=f.type,L=f.pendingProps,X=c!==null?c.memoizedProps:null,_=L.children,OE(A,L)?_=null:X!==null&&OE(A,X)&&(f.flags|=32),f.memoizedState!==null&&(A=Ys(c,f,Zs,null,null,g),n0._currentValue=A),Lh(c,f),Bs(c,f,_,g),f.child;case 6:return c===null&&Xi&&((c=g=Lr)&&(g=yk(g,f.pendingProps,Ka),g!==null?(f.stateNode=g,za=f,Lr=null,c=!0):c=!1),c||_o(f)),null;case 13:return Zd(c,f,g);case 4:return yt(f,f.stateNode.containerInfo),_=f.pendingProps,c===null?f.child=Rh(f,null,_,g):Bs(c,f,_,g),f.child;case 11:return qo(c,f,f.type,f.pendingProps,g);case 7:return Bs(c,f,f.pendingProps,g),f.child;case 8:return Bs(c,f,f.pendingProps.children,g),f.child;case 12:return Bs(c,f,f.pendingProps.children,g),f.child;case 10:return _=f.pendingProps,tu(f,f.type,_.value),Bs(c,f,_.children,g),f.child;case 9:return A=f.type._context,_=f.pendingProps.children,pl(f),A=ls(A),_=_(A),f.flags|=1,Bs(c,f,_,g),f.child;case 14:return Wo(c,f,f.type,f.pendingProps,g);case 15:return $y(c,f,f.type,f.pendingProps,g);case 19:return ec(c,f,g);case 31:return _=f.pendingProps,g=f.mode,_={mode:_.mode,children:_.children},c===null?(g=Nh(_,g),g.ref=f.ref,f.child=g,g.return=f,f=g):(g=ys(c.child,_),g.ref=f.ref,f.child=g,g.return=f,f=g),f;case 22:return Ph(c,f,g);case 24:return pl(f),_=ls(cs),c===null?(A=iu(),A===null&&(A=Si,L=Eh(),A.pooledCache=L,L.refCount++,L!==null&&(A.pooledCacheLanes|=g),A=L),f.memoizedState={parent:_,cache:A},ke(f),tu(f,cs,A)):((c.lanes&g)!==0&&(Pe(c,f),li(f,null,null,g),hn()),A=c.memoizedState,L=f.memoizedState,A.parent!==_?(A={parent:_,cache:_},f.memoizedState=A,f.lanes===0&&(f.memoizedState=f.updateQueue.baseState=A),tu(f,cs,_)):(_=L.cache,tu(f,cs,_),_!==A.cache&&Sh(f,[cs],g,!0))),Bs(c,f,f.pendingProps.children,g),f.child;case 29:throw f.pendingProps}throw Error(i(156,f.tag))}function Oc(c){c.flags|=4}function gm(c,f){if(f.type!=="stylesheet"||(f.state.loading&4)!==0)c.flags&=-16777217;else if(c.flags|=16777216,!r3(f)){if(f=kr.current,f!==null&&((Yn&4194048)===Yn?Ac!==null:(Yn&62914560)!==Yn&&(Yn&536870912)===0||f!==Ac))throw Q=ru,Hd;c.flags|=8192}}function qu(c,f){f!==null&&(c.flags|=4),c.flags&16384&&(f=c.tag!==22?Xe():536870912,c.lanes|=f,cr|=f)}function zh(c,f){if(!Xi)switch(c.tailMode){case"hidden":f=c.tail;for(var g=null;f!==null;)f.alternate!==null&&(g=f),f=f.sibling;g===null?c.tail=null:g.sibling=null;break;case"collapsed":g=c.tail;for(var _=null;g!==null;)g.alternate!==null&&(_=g),g=g.sibling;_===null?f||c.tail===null?c.tail=null:c.tail.sibling=null:_.sibling=null}}function $r(c){var f=c.alternate!==null&&c.alternate.child===c.child,g=0,_=0;if(f)for(var A=c.child;A!==null;)g|=A.lanes|A.childLanes,_|=A.subtreeFlags&65011712,_|=A.flags&65011712,A.return=c,A=A.sibling;else for(A=c.child;A!==null;)g|=A.lanes|A.childLanes,_|=A.subtreeFlags,_|=A.flags,A.return=c,A=A.sibling;return c.subtreeFlags|=_,c.childLanes=g,f}function qy(c,f,g){var _=f.pendingProps;switch(Kp(f),f.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return $r(f),null;case 1:return $r(f),null;case 3:return g=f.stateNode,_=null,c!==null&&(_=c.memoizedState.cache),f.memoizedState.cache!==_&&(f.flags|=2048),Ec(cs),vt(),g.pendingContext&&(g.context=g.pendingContext,g.pendingContext=null),(c===null||c.child===null)&&(hl(f)?Oc(f):c===null||c.memoizedState.isDehydrated&&(f.flags&256)===0||(f.flags|=1024,hr())),$r(f),null;case 26:return g=f.memoizedState,c===null?(Oc(f),g!==null?($r(f),gm(f,g)):($r(f),f.flags&=-16777217)):g?g!==c.memoizedState?(Oc(f),$r(f),gm(f,g)):($r(f),f.flags&=-16777217):(c.memoizedProps!==_&&Oc(f),$r(f),f.flags&=-16777217),null;case 27:zn(f),g=Ze.current;var A=f.type;if(c!==null&&f.stateNode!=null)c.memoizedProps!==_&&Oc(f);else{if(!_){if(f.stateNode===null)throw Error(i(166));return $r(f),null}c=xe.current,hl(f)?Id(f):(c=ZR(A,_,g),f.stateNode=c,Oc(f))}return $r(f),null;case 5:if(zn(f),g=f.type,c!==null&&f.stateNode!=null)c.memoizedProps!==_&&Oc(f);else{if(!_){if(f.stateNode===null)throw Error(i(166));return $r(f),null}if(c=xe.current,hl(f))Id(f);else{switch(A=H1(Ze.current),c){case 1:c=A.createElementNS("http://www.w3.org/2000/svg",g);break;case 2:c=A.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;default:switch(g){case"svg":c=A.createElementNS("http://www.w3.org/2000/svg",g);break;case"math":c=A.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;case"script":c=A.createElement("div"),c.innerHTML="<script><\/script>",c=c.removeChild(c.firstChild);break;case"select":c=typeof _.is=="string"?A.createElement("select",{is:_.is}):A.createElement("select"),_.multiple?c.multiple=!0:_.size&&(c.size=_.size);break;default:c=typeof _.is=="string"?A.createElement(g,{is:_.is}):A.createElement(g)}}c[Ki]=f,c[xr]=_;e:for(A=f.child;A!==null;){if(A.tag===5||A.tag===6)c.appendChild(A.stateNode);else if(A.tag!==4&&A.tag!==27&&A.child!==null){A.child.return=A,A=A.child;continue}if(A===f)break e;for(;A.sibling===null;){if(A.return===null||A.return===f)break e;A=A.return}A.sibling.return=A.return,A=A.sibling}f.stateNode=c;e:switch(Eo(c,g,_),g){case"button":case"input":case"select":case"textarea":c=!!_.autoFocus;break e;case"img":c=!0;break e;default:c=!1}c&&Oc(f)}}return $r(f),f.flags&=-16777217,null;case 6:if(c&&f.stateNode!=null)c.memoizedProps!==_&&Oc(f);else{if(typeof _!="string"&&f.stateNode===null)throw Error(i(166));if(c=Ze.current,hl(f)){if(c=f.stateNode,g=f.memoizedProps,_=null,A=za,A!==null)switch(A.tag){case 27:case 5:_=A.memoizedProps}c[Ki]=f,c=!!(c.nodeValue===g||_!==null&&_.suppressHydrationWarning===!0||GR(c.nodeValue,g)),c||_o(f)}else c=H1(c).createTextNode(_),c[Ki]=f,f.stateNode=c}return $r(f),null;case 13:if(_=f.memoizedState,c===null||c.memoizedState!==null&&c.memoizedState.dehydrated!==null){if(A=hl(f),_!==null&&_.dehydrated!==null){if(c===null){if(!A)throw Error(i(318));if(A=f.memoizedState,A=A!==null?A.dehydrated:null,!A)throw Error(i(317));A[Ki]=f}else Of(),(f.flags&128)===0&&(f.memoizedState=null),f.flags|=4;$r(f),A=!1}else A=hr(),c!==null&&c.memoizedState!==null&&(c.memoizedState.hydrationErrors=A),A=!0;if(!A)return f.flags&256?(ou(f),f):(ou(f),null)}if(ou(f),(f.flags&128)!==0)return f.lanes=g,f;if(g=_!==null,c=c!==null&&c.memoizedState!==null,g){_=f.child,A=null,_.alternate!==null&&_.alternate.memoizedState!==null&&_.alternate.memoizedState.cachePool!==null&&(A=_.alternate.memoizedState.cachePool.pool);var L=null;_.memoizedState!==null&&_.memoizedState.cachePool!==null&&(L=_.memoizedState.cachePool.pool),L!==A&&(_.flags|=2048)}return g!==c&&g&&(f.child.flags|=8192),qu(f,f.updateQueue),$r(f),null;case 4:return vt(),c===null&&TE(f.stateNode.containerInfo),$r(f),null;case 10:return Ec(f.type),$r(f),null;case 19:if(ze(Us),A=f.memoizedState,A===null)return $r(f),null;if(_=(f.flags&128)!==0,L=A.rendering,L===null)if(_)zh(A,!1);else{if(ns!==0||c!==null&&(c.flags&128)!==0)for(c=f.child;c!==null;){if(L=$u(c),L!==null){for(f.flags|=128,zh(A,!1),c=L.updateQueue,f.updateQueue=c,qu(f,c),f.subtreeFlags=0,c=g,g=f.child;g!==null;)Yp(g,c),g=g.sibling;return Ve(Us,Us.current&1|2),f.child}c=c.sibling}A.tail!==null&&At()>eo&&(f.flags|=128,_=!0,zh(A,!1),f.lanes=4194304)}else{if(!_)if(c=$u(L),c!==null){if(f.flags|=128,_=!0,c=c.updateQueue,f.updateQueue=c,qu(f,c),zh(A,!0),A.tail===null&&A.tailMode==="hidden"&&!L.alternate&&!Xi)return $r(f),null}else 2*At()-A.renderingStartTime>eo&&g!==536870912&&(f.flags|=128,_=!0,zh(A,!1),f.lanes=4194304);A.isBackwards?(L.sibling=f.child,f.child=L):(c=A.last,c!==null?c.sibling=L:f.child=L,A.last=L)}return A.tail!==null?(f=A.tail,A.rendering=f,A.tail=f.sibling,A.renderingStartTime=At(),f.sibling=null,c=Us.current,Ve(Us,_?c&1|2:c&1),f):($r(f),null);case 22:case 23:return ou(f),bi(),_=f.memoizedState!==null,c!==null?c.memoizedState!==null!==_&&(f.flags|=8192):_&&(f.flags|=8192),_?(g&536870912)!==0&&(f.flags&128)===0&&($r(f),f.subtreeFlags&6&&(f.flags|=8192)):$r(f),g=f.updateQueue,g!==null&&qu(f,g.retryQueue),g=null,c!==null&&c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(g=c.memoizedState.cachePool.pool),_=null,f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(_=f.memoizedState.cachePool.pool),_!==g&&(f.flags|=2048),c!==null&&ze(jo),null;case 24:return g=null,c!==null&&(g=c.memoizedState.cache),f.memoizedState.cache!==g&&(f.flags|=2048),Ec(cs),$r(f),null;case 25:return null;case 30:return null}throw Error(i(156,f.tag))}function Kd(c,f){switch(Kp(f),f.tag){case 1:return c=f.flags,c&65536?(f.flags=c&-65537|128,f):null;case 3:return Ec(cs),vt(),c=f.flags,(c&65536)!==0&&(c&128)===0?(f.flags=c&-65537|128,f):null;case 26:case 27:case 5:return zn(f),null;case 13:if(ou(f),c=f.memoizedState,c!==null&&c.dehydrated!==null){if(f.alternate===null)throw Error(i(340));Of()}return c=f.flags,c&65536?(f.flags=c&-65537|128,f):null;case 19:return ze(Us),null;case 4:return vt(),null;case 10:return Ec(f.type),null;case 22:case 23:return ou(f),bi(),c!==null&&ze(jo),c=f.flags,c&65536?(f.flags=c&-65537|128,f):null;case 24:return Ec(cs),null;case 25:return null;default:return null}}function Qd(c,f){switch(Kp(f),f.tag){case 3:Ec(cs),vt();break;case 26:case 27:case 5:zn(f);break;case 4:vt();break;case 13:ou(f);break;case 19:ze(Us);break;case 10:Ec(f.type);break;case 22:case 23:ou(f),bi(),c!==null&&ze(jo);break;case 24:Ec(cs)}}function Uh(c,f){try{var g=f.updateQueue,_=g!==null?g.lastEffect:null;if(_!==null){var A=_.next;g=A;do{if((g.tag&c)===c){_=void 0;var L=g.create,X=g.inst;_=L(),X.destroy=_}g=g.next}while(g!==A)}}catch(se){Ue(f,f.return,se)}}function _l(c,f,g){try{var _=f.updateQueue,A=_!==null?_.lastEffect:null;if(A!==null){var L=A.next;_=L;do{if((_.tag&c)===c){var X=_.inst,se=X.destroy;if(se!==void 0){X.destroy=void 0,A=f;var Re=g,et=se;try{et()}catch(Dt){Ue(A,Re,Dt)}}}_=_.next}while(_!==L)}}catch(Dt){Ue(f,f.return,Dt)}}function Bh(c){var f=c.updateQueue;if(f!==null){var g=c.stateNode;try{hi(f,g)}catch(_){Ue(c,c.return,_)}}}function Wu(c,f,g){g.props=lu(c.type,c.memoizedProps),g.state=c.memoizedState;try{g.componentWillUnmount()}catch(_){Ue(c,f,_)}}function kh(c,f){try{var g=c.ref;if(g!==null){switch(c.tag){case 26:case 27:case 5:var _=c.stateNode;break;case 30:_=c.stateNode;break;default:_=c.stateNode}typeof g=="function"?c.refCleanup=g(_):g.current=_}}catch(A){Ue(c,f,A)}}function uu(c,f){var g=c.ref,_=c.refCleanup;if(g!==null)if(typeof _=="function")try{_()}catch(A){Ue(c,f,A)}finally{c.refCleanup=null,c=c.alternate,c!=null&&(c.refCleanup=null)}else if(typeof g=="function")try{g(null)}catch(A){Ue(c,f,A)}else g.current=null}function Jd(c){var f=c.type,g=c.memoizedProps,_=c.stateNode;try{e:switch(f){case"button":case"input":case"select":case"textarea":g.autoFocus&&_.focus();break e;case"img":g.src?_.src=g.src:g.srcSet&&(_.srcset=g.srcSet)}}catch(A){Ue(c,c.return,A)}}function vm(c,f,g){try{var _=c.stateNode;hk(_,c.type,g,f),_[xr]=f}catch(A){Ue(c,c.return,A)}}function ym(c){return c.tag===5||c.tag===3||c.tag===26||c.tag===27&&ap(c.type)||c.tag===4}function kf(c){e:for(;;){for(;c.sibling===null;){if(c.return===null||ym(c.return))return null;c=c.return}for(c.sibling.return=c.return,c=c.sibling;c.tag!==5&&c.tag!==6&&c.tag!==18;){if(c.tag===27&&ap(c.type)||c.flags&2||c.child===null||c.tag===4)continue e;c.child.return=c,c=c.child}if(!(c.flags&2))return c.stateNode}}function Hf(c,f,g){var _=c.tag;if(_===5||_===6)c=c.stateNode,f?(g.nodeType===9?g.body:g.nodeName==="HTML"?g.ownerDocument.body:g).insertBefore(c,f):(f=g.nodeType===9?g.body:g.nodeName==="HTML"?g.ownerDocument.body:g,f.appendChild(c),g=g._reactRootContainer,g!=null||f.onclick!==null||(f.onclick=k1));else if(_!==4&&(_===27&&ap(c.type)&&(g=c.stateNode,f=null),c=c.child,c!==null))for(Hf(c,f,g),c=c.sibling;c!==null;)Hf(c,f,g),c=c.sibling}function Ff(c,f,g){var _=c.tag;if(_===5||_===6)c=c.stateNode,f?g.insertBefore(c,f):g.appendChild(c);else if(_!==4&&(_===27&&ap(c.type)&&(g=c.stateNode),c=c.child,c!==null))for(Ff(c,f,g),c=c.sibling;c!==null;)Ff(c,f,g),c=c.sibling}function Vf(c){var f=c.stateNode,g=c.memoizedProps;try{for(var _=c.type,A=f.attributes;A.length;)f.removeAttributeNode(A[0]);Eo(f,_,g),f[Ki]=c,f[xr]=g}catch(L){Ue(c,c.return,L)}}var fu=!1,qr=!1,ep=!1,bl=typeof WeakSet=="function"?WeakSet:Set,Hr=null;function la(c,f){if(c=c.containerInfo,CE=q1,c=Af(c),ge(c)){if("selectionStart"in c)var g={start:c.selectionStart,end:c.selectionEnd};else e:{g=(g=c.ownerDocument)&&g.defaultView||window;var _=g.getSelection&&g.getSelection();if(_&&_.rangeCount!==0){g=_.anchorNode;var A=_.anchorOffset,L=_.focusNode;_=_.focusOffset;try{g.nodeType,L.nodeType}catch{g=null;break e}var X=0,se=-1,Re=-1,et=0,Dt=0,Bt=c,at=null;t:for(;;){for(var lt;Bt!==g||A!==0&&Bt.nodeType!==3||(se=X+A),Bt!==L||_!==0&&Bt.nodeType!==3||(Re=X+_),Bt.nodeType===3&&(X+=Bt.nodeValue.length),(lt=Bt.firstChild)!==null;)at=Bt,Bt=lt;for(;;){if(Bt===c)break t;if(at===g&&++et===A&&(se=X),at===L&&++Dt===_&&(Re=X),(lt=Bt.nextSibling)!==null)break;Bt=at,at=Bt.parentNode}Bt=lt}g=se===-1||Re===-1?null:{start:se,end:Re}}else g=null}g=g||{start:0,end:0}}else g=null;for(RE={focusedElem:c,selectionRange:g},q1=!1,Hr=f;Hr!==null;)if(f=Hr,c=f.child,(f.subtreeFlags&1024)!==0&&c!==null)c.return=f,Hr=c;else for(;Hr!==null;){switch(f=Hr,L=f.alternate,c=f.flags,f.tag){case 0:break;case 11:case 15:break;case 1:if((c&1024)!==0&&L!==null){c=void 0,g=f,A=L.memoizedProps,L=L.memoizedState,_=g.stateNode;try{var gi=lu(g.type,A,g.elementType===g.type);c=_.getSnapshotBeforeUpdate(gi,L),_.__reactInternalSnapshotBeforeUpdate=c}catch(ai){Ue(g,g.return,ai)}}break;case 3:if((c&1024)!==0){if(c=f.stateNode.containerInfo,g=c.nodeType,g===9)DE(c);else if(g===1)switch(c.nodeName){case"HEAD":case"HTML":case"BODY":DE(c);break;default:c.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((c&1024)!==0)throw Error(i(163))}if(c=f.sibling,c!==null){c.return=f.return,Hr=c;break}Hr=f.return}}function Xu(c,f,g){var _=g.flags;switch(g.tag){case 0:case 11:case 15:So(c,g),_&4&&Uh(5,g);break;case 1:if(So(c,g),_&4)if(c=g.stateNode,f===null)try{c.componentDidMount()}catch(X){Ue(g,g.return,X)}else{var A=lu(g.type,f.memoizedProps);f=f.memoizedState;try{c.componentDidUpdate(A,f,c.__reactInternalSnapshotBeforeUpdate)}catch(X){Ue(g,g.return,X)}}_&64&&Bh(g),_&512&&kh(g,g.return);break;case 3:if(So(c,g),_&64&&(c=g.updateQueue,c!==null)){if(f=null,g.child!==null)switch(g.child.tag){case 27:case 5:f=g.child.stateNode;break;case 1:f=g.child.stateNode}try{hi(c,f)}catch(X){Ue(g,g.return,X)}}break;case 27:f===null&&_&4&&Vf(g);case 26:case 5:So(c,g),f===null&&_&4&&Jd(g),_&512&&kh(g,g.return);break;case 12:So(c,g);break;case 13:So(c,g),_&4&&Gf(c,g),_&64&&(c=g.memoizedState,c!==null&&(c=c.dehydrated,c!==null&&(g=is.bind(null,g),_k(c,g))));break;case 22:if(_=g.memoizedState!==null||fu,!_){f=f!==null&&f.memoizedState!==null||qr,A=fu;var L=qr;fu=_,(qr=f)&&!L?hu(c,g,(g.subtreeFlags&8772)!==0):So(c,g),fu=A,qr=L}break;case 30:break;default:So(c,g)}}function Ni(c){var f=c.alternate;f!==null&&(c.alternate=null,Ni(f)),c.child=null,c.deletions=null,c.sibling=null,c.tag===5&&(f=c.stateNode,f!==null&&Gi(f)),c.stateNode=null,c.return=null,c.dependencies=null,c.memoizedProps=null,c.memoizedState=null,c.pendingProps=null,c.stateNode=null,c.updateQueue=null}var Jn=null,lr=!1;function nc(c,f,g){for(g=g.child;g!==null;)Hh(c,f,g),g=g.sibling}function Hh(c,f,g){if(ht&&typeof ht.onCommitFiberUnmount=="function")try{ht.onCommitFiberUnmount(Ge,g)}catch{}switch(g.tag){case 26:qr||uu(g,f),nc(c,f,g),g.memoizedState?g.memoizedState.count--:g.stateNode&&(g=g.stateNode,g.parentNode.removeChild(g));break;case 27:qr||uu(g,f);var _=Jn,A=lr;ap(g.type)&&(Jn=g.stateNode,lr=!1),nc(c,f,g),Qy(g.stateNode),Jn=_,lr=A;break;case 5:qr||uu(g,f);case 6:if(_=Jn,A=lr,Jn=null,nc(c,f,g),Jn=_,lr=A,Jn!==null)if(lr)try{(Jn.nodeType===9?Jn.body:Jn.nodeName==="HTML"?Jn.ownerDocument.body:Jn).removeChild(g.stateNode)}catch(L){Ue(g,f,L)}else try{Jn.removeChild(g.stateNode)}catch(L){Ue(g,f,L)}break;case 18:Jn!==null&&(lr?(c=Jn,XR(c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c,g.stateNode),a0(c)):XR(Jn,g.stateNode));break;case 4:_=Jn,A=lr,Jn=g.stateNode.containerInfo,lr=!0,nc(c,f,g),Jn=_,lr=A;break;case 0:case 11:case 14:case 15:qr||_l(2,g,f),qr||_l(4,g,f),nc(c,f,g);break;case 1:qr||(uu(g,f),_=g.stateNode,typeof _.componentWillUnmount=="function"&&Wu(g,f,_)),nc(c,f,g);break;case 21:nc(c,f,g);break;case 22:qr=(_=qr)||g.memoizedState!==null,nc(c,f,g),qr=_;break;default:nc(c,f,g)}}function Gf(c,f){if(f.memoizedState===null&&(c=f.alternate,c!==null&&(c=c.memoizedState,c!==null&&(c=c.dehydrated,c!==null))))try{a0(c)}catch(g){Ue(f,f.return,g)}}function qg(c){switch(c.tag){case 13:case 19:var f=c.stateNode;return f===null&&(f=c.stateNode=new bl),f;case 22:return c=c.stateNode,f=c._retryCache,f===null&&(f=c._retryCache=new bl),f;default:throw Error(i(435,c.tag))}}function Fh(c,f){var g=qg(c);f.forEach(function(_){var A=di.bind(null,c,_);g.has(_)||(g.add(_),_.then(A,A))})}function Ta(c,f){var g=f.deletions;if(g!==null)for(var _=0;_<g.length;_++){var A=g[_],L=c,X=f,se=X;e:for(;se!==null;){switch(se.tag){case 27:if(ap(se.type)){Jn=se.stateNode,lr=!1;break e}break;case 5:Jn=se.stateNode,lr=!1;break e;case 3:case 4:Jn=se.stateNode.containerInfo,lr=!0;break e}se=se.return}if(Jn===null)throw Error(i(160));Hh(L,X,A),Jn=null,lr=!1,L=A.alternate,L!==null&&(L.return=null),A.return=null}if(f.subtreeFlags&13878)for(f=f.child;f!==null;)Wg(f,c),f=f.sibling}var Pc=null;function Wg(c,f){var g=c.alternate,_=c.flags;switch(c.tag){case 0:case 11:case 14:case 15:Ta(f,c),As(c),_&4&&(_l(3,c,c.return),Uh(3,c),_l(5,c,c.return));break;case 1:Ta(f,c),As(c),_&512&&(qr||g===null||uu(g,g.return)),_&64&&fu&&(c=c.updateQueue,c!==null&&(_=c.callbacks,_!==null&&(g=c.shared.hiddenCallbacks,c.shared.hiddenCallbacks=g===null?_:g.concat(_))));break;case 26:var A=Pc;if(Ta(f,c),As(c),_&512&&(qr||g===null||uu(g,g.return)),_&4){var L=g!==null?g.memoizedState:null;if(_=c.memoizedState,g===null)if(_===null)if(c.stateNode===null){e:{_=c.type,g=c.memoizedProps,A=A.ownerDocument||A;t:switch(_){case"title":L=A.getElementsByTagName("title")[0],(!L||L[rs]||L[Ki]||L.namespaceURI==="http://www.w3.org/2000/svg"||L.hasAttribute("itemprop"))&&(L=A.createElement(_),A.head.insertBefore(L,A.querySelector("head > title"))),Eo(L,_,g),L[Ki]=c,Je(L),_=L;break e;case"link":var X=n3("link","href",A).get(_+(g.href||""));if(X){for(var se=0;se<X.length;se++)if(L=X[se],L.getAttribute("href")===(g.href==null||g.href===""?null:g.href)&&L.getAttribute("rel")===(g.rel==null?null:g.rel)&&L.getAttribute("title")===(g.title==null?null:g.title)&&L.getAttribute("crossorigin")===(g.crossOrigin==null?null:g.crossOrigin)){X.splice(se,1);break t}}L=A.createElement(_),Eo(L,_,g),A.head.appendChild(L);break;case"meta":if(X=n3("meta","content",A).get(_+(g.content||""))){for(se=0;se<X.length;se++)if(L=X[se],L.getAttribute("content")===(g.content==null?null:""+g.content)&&L.getAttribute("name")===(g.name==null?null:g.name)&&L.getAttribute("property")===(g.property==null?null:g.property)&&L.getAttribute("http-equiv")===(g.httpEquiv==null?null:g.httpEquiv)&&L.getAttribute("charset")===(g.charSet==null?null:g.charSet)){X.splice(se,1);break t}}L=A.createElement(_),Eo(L,_,g),A.head.appendChild(L);break;default:throw Error(i(468,_))}L[Ki]=c,Je(L),_=L}c.stateNode=_}else i3(A,c.type,c.stateNode);else c.stateNode=t3(A,_,c.memoizedProps);else L!==_?(L===null?g.stateNode!==null&&(g=g.stateNode,g.parentNode.removeChild(g)):L.count--,_===null?i3(A,c.type,c.stateNode):t3(A,_,c.memoizedProps)):_===null&&c.stateNode!==null&&vm(c,c.memoizedProps,g.memoizedProps)}break;case 27:Ta(f,c),As(c),_&512&&(qr||g===null||uu(g,g.return)),g!==null&&_&4&&vm(c,c.memoizedProps,g.memoizedProps);break;case 5:if(Ta(f,c),As(c),_&512&&(qr||g===null||uu(g,g.return)),c.flags&32){A=c.stateNode;try{Ss(A,"")}catch(lt){Ue(c,c.return,lt)}}_&4&&c.stateNode!=null&&(A=c.memoizedProps,vm(c,A,g!==null?g.memoizedProps:A)),_&1024&&(ep=!0);break;case 6:if(Ta(f,c),As(c),_&4){if(c.stateNode===null)throw Error(i(162));_=c.memoizedProps,g=c.stateNode;try{g.nodeValue=_}catch(lt){Ue(c,c.return,lt)}}break;case 3:if(G1=null,A=Pc,Pc=F1(f.containerInfo),Ta(f,c),Pc=A,As(c),_&4&&g!==null&&g.memoizedState.isDehydrated)try{a0(f.containerInfo)}catch(lt){Ue(c,c.return,lt)}ep&&(ep=!1,jf(c));break;case 4:_=Pc,Pc=F1(c.stateNode.containerInfo),Ta(f,c),As(c),Pc=_;break;case 12:Ta(f,c),As(c);break;case 13:Ta(f,c),As(c),c.child.flags&8192&&c.memoizedState!==null!=(g!==null&&g.memoizedState!==null)&&(Nr=At()),_&4&&(_=c.updateQueue,_!==null&&(c.updateQueue=null,Fh(c,_)));break;case 22:A=c.memoizedState!==null;var Re=g!==null&&g.memoizedState!==null,et=fu,Dt=qr;if(fu=et||A,qr=Dt||Re,Ta(f,c),qr=Dt,fu=et,As(c),_&8192)e:for(f=c.stateNode,f._visibility=A?f._visibility&-2:f._visibility|1,A&&(g===null||Re||fu||qr||xl(c)),g=null,f=c;;){if(f.tag===5||f.tag===26){if(g===null){Re=g=f;try{if(L=Re.stateNode,A)X=L.style,typeof X.setProperty=="function"?X.setProperty("display","none","important"):X.display="none";else{se=Re.stateNode;var Bt=Re.memoizedProps.style,at=Bt!=null&&Bt.hasOwnProperty("display")?Bt.display:null;se.style.display=at==null||typeof at=="boolean"?"":(""+at).trim()}}catch(lt){Ue(Re,Re.return,lt)}}}else if(f.tag===6){if(g===null){Re=f;try{Re.stateNode.nodeValue=A?"":Re.memoizedProps}catch(lt){Ue(Re,Re.return,lt)}}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===c)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===c)break e;for(;f.sibling===null;){if(f.return===null||f.return===c)break e;g===f&&(g=null),f=f.return}g===f&&(g=null),f.sibling.return=f.return,f=f.sibling}_&4&&(_=c.updateQueue,_!==null&&(g=_.retryQueue,g!==null&&(_.retryQueue=null,Fh(c,g))));break;case 19:Ta(f,c),As(c),_&4&&(_=c.updateQueue,_!==null&&(c.updateQueue=null,Fh(c,_)));break;case 30:break;case 21:break;default:Ta(f,c),As(c)}}function As(c){var f=c.flags;if(f&2){try{for(var g,_=c.return;_!==null;){if(ym(_)){g=_;break}_=_.return}if(g==null)throw Error(i(160));switch(g.tag){case 27:var A=g.stateNode,L=kf(c);Ff(c,L,A);break;case 5:var X=g.stateNode;g.flags&32&&(Ss(X,""),g.flags&=-33);var se=kf(c);Ff(c,se,X);break;case 3:case 4:var Re=g.stateNode.containerInfo,et=kf(c);Hf(c,et,Re);break;default:throw Error(i(161))}}catch(Dt){Ue(c,c.return,Dt)}c.flags&=-3}f&4096&&(c.flags&=-4097)}function jf(c){if(c.subtreeFlags&1024)for(c=c.child;c!==null;){var f=c;jf(f),f.tag===5&&f.flags&1024&&f.stateNode.reset(),c=c.sibling}}function So(c,f){if(f.subtreeFlags&8772)for(f=f.child;f!==null;)Xu(c,f.alternate,f),f=f.sibling}function xl(c){for(c=c.child;c!==null;){var f=c;switch(f.tag){case 0:case 11:case 14:case 15:_l(4,f,f.return),xl(f);break;case 1:uu(f,f.return);var g=f.stateNode;typeof g.componentWillUnmount=="function"&&Wu(f,f.return,g),xl(f);break;case 27:Qy(f.stateNode);case 26:case 5:uu(f,f.return),xl(f);break;case 22:f.memoizedState===null&&xl(f);break;case 30:xl(f);break;default:xl(f)}c=c.sibling}}function hu(c,f,g){for(g=g&&(f.subtreeFlags&8772)!==0,f=f.child;f!==null;){var _=f.alternate,A=c,L=f,X=L.flags;switch(L.tag){case 0:case 11:case 15:hu(A,L,g),Uh(4,L);break;case 1:if(hu(A,L,g),_=L,A=_.stateNode,typeof A.componentDidMount=="function")try{A.componentDidMount()}catch(et){Ue(_,_.return,et)}if(_=L,A=_.updateQueue,A!==null){var se=_.stateNode;try{var Re=A.shared.hiddenCallbacks;if(Re!==null)for(A.shared.hiddenCallbacks=null,A=0;A<Re.length;A++)Hn(Re[A],se)}catch(et){Ue(_,_.return,et)}}g&&X&64&&Bh(L),kh(L,L.return);break;case 27:Vf(L);case 26:case 5:hu(A,L,g),g&&_===null&&X&4&&Jd(L),kh(L,L.return);break;case 12:hu(A,L,g);break;case 13:hu(A,L,g),g&&X&4&&Gf(A,L);break;case 22:L.memoizedState===null&&hu(A,L,g),kh(L,L.return);break;case 30:break;default:hu(A,L,g)}f=f.sibling}}function Xg(c,f){var g=null;c!==null&&c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(g=c.memoizedState.cachePool.pool),c=null,f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(c=f.memoizedState.cachePool.pool),c!==g&&(c!=null&&c.refCount++,g!=null&&nu(g))}function Yg(c,f){c=null,f.alternate!==null&&(c=f.alternate.memoizedState.cache),f=f.memoizedState.cache,f!==c&&(f.refCount++,c!=null&&nu(c))}function Fr(c,f,g,_){if(f.subtreeFlags&10256)for(f=f.child;f!==null;)Zg(c,f,g,_),f=f.sibling}function Zg(c,f,g,_){var A=f.flags;switch(f.tag){case 0:case 11:case 15:Fr(c,f,g,_),A&2048&&Uh(9,f);break;case 1:Fr(c,f,g,_);break;case 3:Fr(c,f,g,_),A&2048&&(c=null,f.alternate!==null&&(c=f.alternate.memoizedState.cache),f=f.memoizedState.cache,f!==c&&(f.refCount++,c!=null&&nu(c)));break;case 12:if(A&2048){Fr(c,f,g,_),c=f.stateNode;try{var L=f.memoizedProps,X=L.id,se=L.onPostCommit;typeof se=="function"&&se(X,f.alternate===null?"mount":"update",c.passiveEffectDuration,-0)}catch(Re){Ue(f,f.return,Re)}}else Fr(c,f,g,_);break;case 13:Fr(c,f,g,_);break;case 23:break;case 22:L=f.stateNode,X=f.alternate,f.memoizedState!==null?L._visibility&2?Fr(c,f,g,_):Dc(c,f):L._visibility&2?Fr(c,f,g,_):(L._visibility|=2,Yu(c,f,g,_,(f.subtreeFlags&10256)!==0)),A&2048&&Xg(X,f);break;case 24:Fr(c,f,g,_),A&2048&&Yg(f.alternate,f);break;default:Fr(c,f,g,_)}}function Yu(c,f,g,_,A){for(A=A&&(f.subtreeFlags&10256)!==0,f=f.child;f!==null;){var L=c,X=f,se=g,Re=_,et=X.flags;switch(X.tag){case 0:case 11:case 15:Yu(L,X,se,Re,A),Uh(8,X);break;case 23:break;case 22:var Dt=X.stateNode;X.memoizedState!==null?Dt._visibility&2?Yu(L,X,se,Re,A):Dc(L,X):(Dt._visibility|=2,Yu(L,X,se,Re,A)),A&&et&2048&&Xg(X.alternate,X);break;case 24:Yu(L,X,se,Re,A),A&&et&2048&&Yg(X.alternate,X);break;default:Yu(L,X,se,Re,A)}f=f.sibling}}function Dc(c,f){if(f.subtreeFlags&10256)for(f=f.child;f!==null;){var g=c,_=f,A=_.flags;switch(_.tag){case 22:Dc(g,_),A&2048&&Xg(_.alternate,_);break;case 24:Dc(g,_),A&2048&&Yg(_.alternate,_);break;default:Dc(g,_)}f=f.sibling}}var Sl=8192;function tp(c){if(c.subtreeFlags&Sl)for(c=c.child;c!==null;)I1(c),c=c.sibling}function I1(c){switch(c.tag){case 26:tp(c),c.flags&Sl&&c.memoizedState!==null&&Dk(Pc,c.memoizedState,c.memoizedProps);break;case 5:tp(c);break;case 3:case 4:var f=Pc;Pc=F1(c.stateNode.containerInfo),tp(c),Pc=f;break;case 22:c.memoizedState===null&&(f=c.alternate,f!==null&&f.memoizedState!==null?(f=Sl,Sl=16777216,tp(c),Sl=f):tp(c));break;default:tp(c)}}function z1(c){var f=c.alternate;if(f!==null&&(c=f.child,c!==null)){f.child=null;do f=c.sibling,c.sibling=null,c=f;while(c!==null)}}function Wr(c){var f=c.deletions;if((c.flags&16)!==0){if(f!==null)for(var g=0;g<f.length;g++){var _=f[g];Hr=_,pu(_,c)}z1(c)}if(c.subtreeFlags&10256)for(c=c.child;c!==null;)Wy(c),c=c.sibling}function Wy(c){switch(c.tag){case 0:case 11:case 15:Wr(c),c.flags&2048&&_l(9,c,c.return);break;case 3:Wr(c);break;case 12:Wr(c);break;case 22:var f=c.stateNode;c.memoizedState!==null&&f._visibility&2&&(c.return===null||c.return.tag!==13)?(f._visibility&=-3,du(c)):Wr(c);break;default:Wr(c)}}function du(c){var f=c.deletions;if((c.flags&16)!==0){if(f!==null)for(var g=0;g<f.length;g++){var _=f[g];Hr=_,pu(_,c)}z1(c)}for(c=c.child;c!==null;){switch(f=c,f.tag){case 0:case 11:case 15:_l(8,f,f.return),du(f);break;case 22:g=f.stateNode,g._visibility&2&&(g._visibility&=-3,du(f));break;default:du(f)}c=c.sibling}}function pu(c,f){for(;Hr!==null;){var g=Hr;switch(g.tag){case 0:case 11:case 15:_l(8,g,f);break;case 23:case 22:if(g.memoizedState!==null&&g.memoizedState.cachePool!==null){var _=g.memoizedState.cachePool.pool;_!=null&&_.refCount++}break;case 24:nu(g.memoizedState.cache)}if(_=g.child,_!==null)_.return=g,Hr=_;else e:for(g=c;Hr!==null;){_=Hr;var A=_.sibling,L=_.return;if(Ni(_),_===g){Hr=null;break e}if(A!==null){A.return=L,Hr=A;break e}Hr=L}}}var Cs={getCacheForType:function(c){var f=ls(cs),g=f.data.get(c);return g===void 0&&(g=c(),f.data.set(c,g)),g}},Xy=typeof WeakMap=="function"?WeakMap:Map,wr=0,Si=null,Fi=null,Yn=0,Ri=0,_s=null,wl=!1,np=!1,ip=!1,ic=0,ns=0,Lc=0,mu=0,Vh=0,rc=0,cr=0,Er=null,ni=null,Yi=!1,Nr=0,eo=1/0,sc=null,El=null,ca=0,to=null,Vr=null,Tl=0,Zu=0,_m=null,Ml=null,gu=0,Gh=null;function Rs(){if((wr&2)!==0&&Yn!==0)return Yn&-Yn;if(J.T!==null){var c=_i;return c!==0?c:xE()}return fi()}function Kg(){rc===0&&(rc=(Yn&536870912)===0||Xi?Ae():536870912);var c=kr.current;return c!==null&&(c.flags|=32),rc}function wo(c,f,g){(c===Si&&(Ri===2||Ri===9)||c.cancelPendingCommit!==null)&&(qf(c,0),Nc(c,Yn,rc,!1)),Xt(c,g),((wr&2)===0||c!==Si)&&(c===Si&&((wr&2)===0&&(mu|=g),ns===4&&Nc(c,Yn,rc,!1)),Yf(c))}function rp(c,f,g){if((wr&6)!==0)throw Error(i(327));var _=!g&&(f&124)===0&&(f&c.expiredLanes)===0||Fe(c,f),A=_?C(c,f):p(c,f,!0),L=_;do{if(A===0){np&&!_&&Nc(c,f,0,!1);break}else{if(g=c.current.alternate,L&&!$f(g)){A=p(c,f,!1),L=!1;continue}if(A===2){if(L=f,c.errorRecoveryDisabledLanes&L)var X=0;else X=c.pendingLanes&-536870913,X=X!==0?X:X&536870912?536870912:0;if(X!==0){f=X;e:{var se=c;A=Er;var Re=se.current.memoizedState.isDehydrated;if(Re&&(qf(se,X).flags|=256),X=p(se,X,!1),X!==2){if(ip&&!Re){se.errorRecoveryDisabledLanes|=L,mu|=L,A=4;break e}L=ni,ni=A,L!==null&&(ni===null?ni=L:ni.push.apply(ni,L))}A=X}if(L=!1,A!==2)continue}}if(A===1){qf(c,0),Nc(c,f,0,!0);break}e:{switch(_=c,L=A,L){case 0:case 1:throw Error(i(345));case 4:if((f&4194048)!==f)break;case 6:Nc(_,f,rc,!wl);break e;case 2:ni=null;break;case 3:case 5:break;default:throw Error(i(329))}if((f&62914560)===f&&(A=Nr+300-At(),10<A)){if(Nc(_,f,rc,!wl),Ee(_,0,!0)!==0)break e;_.timeoutHandle=qR(bm.bind(null,_,g,ni,sc,Yi,f,rc,mu,cr,wl,L,2,-0,0),A);break e}bm(_,g,ni,sc,Yi,f,rc,mu,cr,wl,L,0,-0,0)}}break}while(!0);Yf(c)}function bm(c,f,g,_,A,L,X,se,Re,et,Dt,Bt,at,lt){if(c.timeoutHandle=-1,Bt=f.subtreeFlags,(Bt&8192||(Bt&16785408)===16785408)&&(t0={stylesheets:null,count:0,unsuspend:Pk},I1(f),Bt=Lk(),Bt!==null)){c.cancelPendingCommit=Bt(Jt.bind(null,c,f,L,g,_,A,X,se,Re,Dt,1,at,lt)),Nc(c,L,X,!et);return}Jt(c,f,L,g,_,A,X,se,Re)}function $f(c){for(var f=c;;){var g=f.tag;if((g===0||g===11||g===15)&&f.flags&16384&&(g=f.updateQueue,g!==null&&(g=g.stores,g!==null)))for(var _=0;_<g.length;_++){var A=g[_],L=A.getSnapshot;A=A.value;try{if(!as(L(),A))return!1}catch{return!1}}if(g=f.child,f.subtreeFlags&16384&&g!==null)g.return=f,f=g;else{if(f===c)break;for(;f.sibling===null;){if(f.return===null||f.return===c)return!0;f=f.return}f.sibling.return=f.return,f=f.sibling}}return!0}function Nc(c,f,g,_){f&=~Vh,f&=~mu,c.suspendedLanes|=f,c.pingedLanes&=~f,_&&(c.warmLanes|=f),_=c.expirationTimes;for(var A=f;0<A;){var L=31-qt(A),X=1<<L;_[L]=-1,A&=~X}g!==0&&Ct(c,g,f)}function vu(){return(wr&6)===0?(Yy(0),!1):!0}function jh(){if(Fi!==null){if(Ri===0)var c=Fi.return;else c=Fi,wc=eu=null,Ja(c),Ch=null,hm=0,c=Fi;for(;c!==null;)Qd(c.alternate,c),c=c.return;Fi=null}}function qf(c,f){var g=c.timeoutHandle;g!==-1&&(c.timeoutHandle=-1,pk(g)),g=c.cancelPendingCommit,g!==null&&(c.cancelPendingCommit=null,g()),jh(),Si=c,Fi=g=ys(c.current,null),Yn=f,Ri=0,_s=null,wl=!1,np=Fe(c,f),ip=!1,cr=rc=Vh=mu=Lc=ns=0,ni=Er=null,Yi=!1,(f&8)!==0&&(f|=f&32);var _=c.entangledLanes;if(_!==0)for(c=c.entanglements,_&=f;0<_;){var A=31-qt(_),L=1<<A;f|=c[A],_&=~L}return ic=f,bh(),g}function Qg(c,f){ln=null,J.H=fm,f===Ah||f===Qa?(f=O(),Ri=3):f===Hd?(f=O(),Ri=4):Ri=f===N1?8:f!==null&&typeof f=="object"&&typeof f.then=="function"?6:1,_s=f,Fi===null&&(ns=1,Gg(c,sa(f,c.current)))}function sp(){var c=J.H;return J.H=fm,c===null?fm:c}function Jg(){var c=J.A;return J.A=Cs,c}function h(){ns=4,wl||(Yn&4194048)!==Yn&&kr.current!==null||(np=!0),(Lc&134217727)===0&&(mu&134217727)===0||Si===null||Nc(Si,Yn,rc,!1)}function p(c,f,g){var _=wr;wr|=2;var A=sp(),L=Jg();(Si!==c||Yn!==f)&&(sc=null,qf(c,f)),f=!1;var X=ns;e:do try{if(Ri!==0&&Fi!==null){var se=Fi,Re=_s;switch(Ri){case 8:jh(),X=6;break e;case 3:case 2:case 9:case 6:kr.current===null&&(f=!0);var et=Ri;if(Ri=0,_s=null,Oe(c,se,Re,et),g&&np){X=0;break e}break;default:et=Ri,Ri=0,_s=null,Oe(c,se,Re,et)}}b(),X=ns;break}catch(Dt){Qg(c,Dt)}while(!0);return f&&c.shellSuspendCounter++,wc=eu=null,wr=_,J.H=A,J.A=L,Fi===null&&(Si=null,Yn=0,bh()),X}function b(){for(;Fi!==null;)F(Fi)}function C(c,f){var g=wr;wr|=2;var _=sp(),A=Jg();Si!==c||Yn!==f?(sc=null,eo=At()+500,qf(c,f)):np=Fe(c,f);e:do try{if(Ri!==0&&Fi!==null){f=Fi;var L=_s;t:switch(Ri){case 1:Ri=0,_s=null,Oe(c,f,L,1);break;case 2:case 9:if(Fd(L)){Ri=0,_s=null,ce(f);break}f=function(){Ri!==2&&Ri!==9||Si!==c||(Ri=7),Yf(c)},L.then(f,f);break e;case 3:Ri=7;break e;case 4:Ri=5;break e;case 7:Fd(L)?(Ri=0,_s=null,ce(f)):(Ri=0,_s=null,Oe(c,f,L,7));break;case 5:var X=null;switch(Fi.tag){case 26:X=Fi.memoizedState;case 5:case 27:var se=Fi;if(!X||r3(X)){Ri=0,_s=null;var Re=se.sibling;if(Re!==null)Fi=Re;else{var et=se.return;et!==null?(Fi=et,qe(et)):Fi=null}break t}}Ri=0,_s=null,Oe(c,f,L,5);break;case 6:Ri=0,_s=null,Oe(c,f,L,6);break;case 8:jh(),ns=6;break e;default:throw Error(i(462))}}I();break}catch(Dt){Qg(c,Dt)}while(!0);return wc=eu=null,J.H=_,J.A=A,wr=g,Fi!==null?0:(Si=null,Yn=0,bh(),ns)}function I(){for(;Fi!==null&&!Et();)F(Fi)}function F(c){var f=Ih(c.alternate,c,ic);c.memoizedProps=c.pendingProps,f===null?qe(c):Fi=f}function ce(c){var f=c,g=f.alternate;switch(f.tag){case 15:case 0:f=vl(g,f,f.pendingProps,f.type,void 0,Yn);break;case 11:f=vl(g,f,f.pendingProps,f.type.render,f.ref,Yn);break;case 5:Ja(f);default:Qd(g,f),f=Fi=Yp(f,ic),f=Ih(g,f,ic)}c.memoizedProps=c.pendingProps,f===null?qe(c):Fi=f}function Oe(c,f,g,_){wc=eu=null,Ja(f),Ch=null,hm=0;var A=f.return;try{if(_E(c,A,f,g,Yn)){ns=1,Gg(c,sa(g,c.current)),Fi=null;return}}catch(L){if(A!==null)throw Fi=A,L;ns=1,Gg(c,sa(g,c.current)),Fi=null;return}f.flags&32768?(Xi||_===1?c=!0:np||(Yn&536870912)!==0?c=!1:(wl=c=!0,(_===2||_===9||_===3||_===6)&&(_=kr.current,_!==null&&_.tag===13&&(_.flags|=16384))),Pt(f,c)):qe(f)}function qe(c){var f=c;do{if((f.flags&32768)!==0){Pt(f,wl);return}c=f.return;var g=qy(f.alternate,f,ic);if(g!==null){Fi=g;return}if(f=f.sibling,f!==null){Fi=f;return}Fi=f=c}while(f!==null);ns===0&&(ns=5)}function Pt(c,f){do{var g=Kd(c.alternate,c);if(g!==null){g.flags&=32767,Fi=g;return}if(g=c.return,g!==null&&(g.flags|=32768,g.subtreeFlags=0,g.deletions=null),!f&&(c=c.sibling,c!==null)){Fi=c;return}Fi=c=g}while(c!==null);ns=6,Fi=null}function Jt(c,f,g,_,A,L,X,se,Re){c.cancelPendingCommit=null;do Wf();while(ca!==0);if((wr&6)!==0)throw Error(i(327));if(f!==null){if(f===c.current)throw Error(i(177));if(L=f.lanes|f.childLanes,L|=Pd,Ht(c,g,L,X,se,Re),c===Si&&(Fi=Si=null,Yn=0),Vr=f,to=c,Tl=g,Zu=L,_m=A,Ml=_,(f.subtreeFlags&10256)!==0||(f.flags&10256)!==0?(c.callbackNode=null,c.callbackPriority=0,dr(Qt,function(){return Xf(),null})):(c.callbackNode=null,c.callbackPriority=0),_=(f.flags&13878)!==0,(f.subtreeFlags&13878)!==0||_){_=J.T,J.T=null,A=de.p,de.p=2,X=wr,wr|=4;try{la(c,f,g)}finally{wr=X,de.p=A,J.T=_}}ca=1,gn(),wn(),wi()}}function gn(){if(ca===1){ca=0;var c=to,f=Vr,g=(f.flags&13878)!==0;if((f.subtreeFlags&13878)!==0||g){g=J.T,J.T=null;var _=de.p;de.p=2;var A=wr;wr|=4;try{Wg(f,c);var L=RE,X=Af(c.containerInfo),se=L.focusedElem,Re=L.selectionRange;if(X!==se&&se&&se.ownerDocument&&Iu(se.ownerDocument.documentElement,se)){if(Re!==null&&ge(se)){var et=Re.start,Dt=Re.end;if(Dt===void 0&&(Dt=et),"selectionStart"in se)se.selectionStart=et,se.selectionEnd=Math.min(Dt,se.value.length);else{var Bt=se.ownerDocument||document,at=Bt&&Bt.defaultView||window;if(at.getSelection){var lt=at.getSelection(),gi=se.textContent.length,ai=Math.min(Re.start,gi),Yr=Re.end===void 0?ai:Math.min(Re.end,gi);!lt.extend&&ai>Yr&&(X=Yr,Yr=ai,ai=X);var je=Sa(se,ai),Be=Sa(se,Yr);if(je&&Be&&(lt.rangeCount!==1||lt.anchorNode!==je.node||lt.anchorOffset!==je.offset||lt.focusNode!==Be.node||lt.focusOffset!==Be.offset)){var Qe=Bt.createRange();Qe.setStart(je.node,je.offset),lt.removeAllRanges(),ai>Yr?(lt.addRange(Qe),lt.extend(Be.node,Be.offset)):(Qe.setEnd(Be.node,Be.offset),lt.addRange(Qe))}}}}for(Bt=[],lt=se;lt=lt.parentNode;)lt.nodeType===1&&Bt.push({element:lt,left:lt.scrollLeft,top:lt.scrollTop});for(typeof se.focus=="function"&&se.focus(),se=0;se<Bt.length;se++){var zt=Bt[se];zt.element.scrollLeft=zt.left,zt.element.scrollTop=zt.top}}q1=!!CE,RE=CE=null}finally{wr=A,de.p=_,J.T=g}}c.current=f,ca=2}}function wn(){if(ca===2){ca=0;var c=to,f=Vr,g=(f.flags&8772)!==0;if((f.subtreeFlags&8772)!==0||g){g=J.T,J.T=null;var _=de.p;de.p=2;var A=wr;wr|=4;try{Xu(c,f.alternate,f)}finally{wr=A,de.p=_,J.T=g}}ca=3}}function wi(){if(ca===4||ca===3){ca=0,Mt();var c=to,f=Vr,g=Tl,_=Ml;(f.subtreeFlags&10256)!==0||(f.flags&10256)!==0?ca=5:(ca=0,Vr=to=null,Al(c,c.pendingLanes));var A=c.pendingLanes;if(A===0&&(El=null),ui(g),f=f.stateNode,ht&&typeof ht.onCommitFiberRoot=="function")try{ht.onCommitFiberRoot(Ge,f,void 0,(f.current.flags&128)===128)}catch{}if(_!==null){f=J.T,A=de.p,de.p=2,J.T=null;try{for(var L=c.onRecoverableError,X=0;X<_.length;X++){var se=_[X];L(se.value,{componentStack:se.stack})}}finally{J.T=f,de.p=A}}(Tl&3)!==0&&Wf(),Yf(c),A=c.pendingLanes,(g&4194090)!==0&&(A&42)!==0?c===Gh?gu++:(gu=0,Gh=c):gu=0,Yy(0)}}function Al(c,f){(c.pooledCacheLanes&=f)===0&&(f=c.pooledCache,f!=null&&(c.pooledCache=null,nu(f)))}function Wf(c){return gn(),wn(),wi(),Xf()}function Xf(){if(ca!==5)return!1;var c=to,f=Zu;Zu=0;var g=ui(Tl),_=J.T,A=de.p;try{de.p=32>g?32:g,J.T=null,g=_m,_m=null;var L=to,X=Tl;if(ca=0,Vr=to=null,Tl=0,(wr&6)!==0)throw Error(i(331));var se=wr;if(wr|=4,Wy(L.current),Zg(L,L.current,X,g),wr=se,Yy(0,!1),ht&&typeof ht.onPostCommitFiberRoot=="function")try{ht.onPostCommitFiberRoot(Ge,L)}catch{}return!0}finally{de.p=A,J.T=_,Al(c,f)}}function it(c,f,g){f=sa(g,f),f=jg(c.stateNode,f,2),c=It(c,f,2),c!==null&&(Xt(c,2),Yf(c))}function Ue(c,f,g){if(c.tag===3)it(c,c,g);else for(;f!==null;){if(f.tag===3){it(f,c,g);break}else if(f.tag===1){var _=f.stateNode;if(typeof f.type.getDerivedStateFromError=="function"||typeof _.componentDidCatch=="function"&&(El===null||!El.has(_))){c=sa(g,c),g=L1(2),_=It(f,g,2),_!==null&&($g(g,_,f,c),Xt(_,2),Yf(_));break}}f=f.return}}function ut(c,f,g){var _=c.pingCache;if(_===null){_=c.pingCache=new Xy;var A=new Set;_.set(f,A)}else A=_.get(f),A===void 0&&(A=new Set,_.set(f,A));A.has(g)||(ip=!0,A.add(g),c=Wt.bind(null,c,f,g),f.then(c,c))}function Wt(c,f,g){var _=c.pingCache;_!==null&&_.delete(f),c.pingedLanes|=c.suspendedLanes&g,c.warmLanes&=~g,Si===c&&(Yn&g)===g&&(ns===4||ns===3&&(Yn&62914560)===Yn&&300>At()-Nr?(wr&2)===0&&qf(c,0):Vh|=g,cr===Yn&&(cr=0)),Yf(c)}function Fn(c,f){f===0&&(f=Xe()),c=xc(c,f),c!==null&&(Xt(c,f),Yf(c))}function is(c){var f=c.memoizedState,g=0;f!==null&&(g=f.retryLane),Fn(c,g)}function di(c,f){var g=0;switch(c.tag){case 13:var _=c.stateNode,A=c.memoizedState;A!==null&&(g=A.retryLane);break;case 19:_=c.stateNode;break;case 22:_=c.stateNode._retryCache;break;default:throw Error(i(314))}_!==null&&_.delete(f),Fn(c,g)}function dr(c,f){return dn(c,f)}var ks=null,$i=null,yu=!1,ev=!1,bE=!1,xm=0;function Yf(c){c!==$i&&c.next===null&&($i===null?ks=$i=c:$i=$i.next=c),ev=!0,yu||(yu=!0,sk())}function Yy(c,f){if(!bE&&ev){bE=!0;do for(var g=!1,_=ks;_!==null;){if(c!==0){var A=_.pendingLanes;if(A===0)var L=0;else{var X=_.suspendedLanes,se=_.pingedLanes;L=(1<<31-qt(42|c)+1)-1,L&=A&~(X&~se),L=L&201326741?L&201326741|1:L?L|2:0}L!==0&&(g=!0,zR(_,L))}else L=Yn,L=Ee(_,_===Si?L:0,_.cancelPendingCommit!==null||_.timeoutHandle!==-1),(L&3)===0||Fe(_,L)||(g=!0,zR(_,L));_=_.next}while(g);bE=!1}}function rk(){LR()}function LR(){ev=yu=!1;var c=0;xm!==0&&(dk()&&(c=xm),xm=0);for(var f=At(),g=null,_=ks;_!==null;){var A=_.next,L=NR(_,f);L===0?(_.next=null,g===null?ks=A:g.next=A,A===null&&($i=g)):(g=_,(c!==0||(L&3)!==0)&&(ev=!0)),_=A}Yy(c)}function NR(c,f){for(var g=c.suspendedLanes,_=c.pingedLanes,A=c.expirationTimes,L=c.pendingLanes&-62914561;0<L;){var X=31-qt(L),se=1<<X,Re=A[X];Re===-1?((se&g)===0||(se&_)!==0)&&(A[X]=Rt(se,f)):Re<=f&&(c.expiredLanes|=se),L&=~se}if(f=Si,g=Yn,g=Ee(c,c===f?g:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),_=c.callbackNode,g===0||c===f&&(Ri===2||Ri===9)||c.cancelPendingCommit!==null)return _!==null&&_!==null&&fe(_),c.callbackNode=null,c.callbackPriority=0;if((g&3)===0||Fe(c,g)){if(f=g&-g,f===c.callbackPriority)return f;switch(_!==null&&fe(_),ui(g)){case 2:case 8:g=Ot;break;case 32:g=Qt;break;case 268435456:g=ie;break;default:g=Qt}return _=IR.bind(null,c),g=dn(g,_),c.callbackPriority=f,c.callbackNode=g,f}return _!==null&&_!==null&&fe(_),c.callbackPriority=2,c.callbackNode=null,2}function IR(c,f){if(ca!==0&&ca!==5)return c.callbackNode=null,c.callbackPriority=0,null;var g=c.callbackNode;if(Wf()&&c.callbackNode!==g)return null;var _=Yn;return _=Ee(c,c===Si?_:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),_===0?null:(rp(c,_,f),NR(c,At()),c.callbackNode!=null&&c.callbackNode===g?IR.bind(null,c):null)}function zR(c,f){if(Wf())return null;rp(c,f,!0)}function sk(){mk(function(){(wr&6)!==0?dn(Kt,rk):LR()})}function xE(){return xm===0&&(xm=Ae()),xm}function UR(c){return c==null||typeof c=="symbol"||typeof c=="boolean"?null:typeof c=="function"?c:ya(""+c)}function BR(c,f){var g=f.ownerDocument.createElement("input");return g.name=f.name,g.value=f.value,c.id&&g.setAttribute("form",c.id),f.parentNode.insertBefore(g,f),c=new FormData(c),g.parentNode.removeChild(g),c}function ak(c,f,g,_,A){if(f==="submit"&&g&&g.stateNode===A){var L=UR((A[xr]||null).action),X=_.submitter;X&&(f=(f=X[xr]||null)?UR(f.formAction):X.getAttribute("formAction"),f!==null&&(L=f,X=null));var se=new ll("action","action",null,_,A);c.push({event:se,listeners:[{instance:null,listener:function(){if(_.defaultPrevented){if(xm!==0){var Re=X?BR(A,X):new FormData(A);Vy(g,{pending:!0,data:Re,method:A.method,action:L},null,Re)}}else typeof L=="function"&&(se.preventDefault(),Re=X?BR(A,X):new FormData(A),Vy(g,{pending:!0,data:Re,method:A.method,action:L},L,Re))},currentTarget:A}]})}}for(var SE=0;SE<os.length;SE++){var wE=os[SE],ok=wE.toLowerCase(),lk=wE[0].toUpperCase()+wE.slice(1);Ws(ok,"on"+lk)}Ws(Gn,"onAnimationEnd"),Ws(On,"onAnimationIteration"),Ws(Qn,"onAnimationStart"),Ws("dblclick","onDoubleClick"),Ws("focusin","onFocus"),Ws("focusout","onBlur"),Ws(qs,"onTransitionRun"),Ws(Dr,"onTransitionStart"),Ws(Ts,"onTransitionCancel"),Ws(vs,"onTransitionEnd"),Y("onMouseEnter",["mouseout","mouseover"]),Y("onMouseLeave",["mouseout","mouseover"]),Y("onPointerEnter",["pointerout","pointerover"]),Y("onPointerLeave",["pointerout","pointerover"]),wt("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),wt("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),wt("onBeforeInput",["compositionend","keypress","textInput","paste"]),wt("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),wt("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),wt("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Zy="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ck=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Zy));function kR(c,f){f=(f&4)!==0;for(var g=0;g<c.length;g++){var _=c[g],A=_.event;_=_.listeners;e:{var L=void 0;if(f)for(var X=_.length-1;0<=X;X--){var se=_[X],Re=se.instance,et=se.currentTarget;if(se=se.listener,Re!==L&&A.isPropagationStopped())break e;L=se,A.currentTarget=et;try{L(A)}catch(Dt){Oh(Dt)}A.currentTarget=null,L=Re}else for(X=0;X<_.length;X++){if(se=_[X],Re=se.instance,et=se.currentTarget,se=se.listener,Re!==L&&A.isPropagationStopped())break e;L=se,A.currentTarget=et;try{L(A)}catch(Dt){Oh(Dt)}A.currentTarget=null,L=Re}}}}function er(c,f){var g=f[ps];g===void 0&&(g=f[ps]=new Set);var _=c+"__bubble";g.has(_)||(HR(f,c,2,!1),g.add(_))}function EE(c,f,g){var _=0;f&&(_|=4),HR(g,c,_,f)}var U1="_reactListening"+Math.random().toString(36).slice(2);function TE(c){if(!c[U1]){c[U1]=!0,nt.forEach(function(g){g!=="selectionchange"&&(ck.has(g)||EE(g,!1,c),EE(g,!0,c))});var f=c.nodeType===9?c:c.ownerDocument;f===null||f[U1]||(f[U1]=!0,EE("selectionchange",!1,f))}}function HR(c,f,g,_){switch(u3(f)){case 2:var A=zk;break;case 8:A=Uk;break;default:A=kE}g=A.bind(null,f,g,c),A=void 0,!$c||f!=="touchstart"&&f!=="touchmove"&&f!=="wheel"||(A=!0),_?A!==void 0?c.addEventListener(f,g,{capture:!0,passive:A}):c.addEventListener(f,g,!0):A!==void 0?c.addEventListener(f,g,{passive:A}):c.addEventListener(f,g,!1)}function ME(c,f,g,_,A){var L=_;if((f&1)===0&&(f&2)===0&&_!==null)e:for(;;){if(_===null)return;var X=_.tag;if(X===3||X===4){var se=_.stateNode.containerInfo;if(se===A)break;if(X===4)for(X=_.return;X!==null;){var Re=X.tag;if((Re===3||Re===4)&&X.stateNode.containerInfo===A)return;X=X.return}for(;se!==null;){if(X=K(se),X===null)return;if(Re=X.tag,Re===5||Re===6||Re===26||Re===27){_=L=X;continue e}se=se.parentNode}}_=_.return}_c(function(){var et=L,Dt=$a(g),Bt=[];e:{var at=Ho.get(c);if(at!==void 0){var lt=ll,gi=c;switch(c){case"keypress":if(ho(g)===0)break e;case"keydown":case"keyup":lt=Ft;break;case"focusin":gi="focus",lt=S;break;case"focusout":gi="blur",lt=S;break;case"beforeblur":case"afterblur":lt=S;break;case"click":if(g.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":lt=Xc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":lt=qp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":lt=es;break;case Gn:case On:case Qn:lt=U;break;case vs:lt=ms;break;case"scroll":case"scrollend":lt=Sf;break;case"wheel":lt=Li;break;case"copy":case"cut":case"paste":lt=q;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":lt=Ei;break;case"toggle":case"beforetoggle":lt=yi}var ai=(f&4)!==0,Yr=!ai&&(c==="scroll"||c==="scrollend"),je=ai?at!==null?at+"Capture":null:at;ai=[];for(var Be=et,Qe;Be!==null;){var zt=Be;if(Qe=zt.stateNode,zt=zt.tag,zt!==5&&zt!==26&&zt!==27||Qe===null||je===null||(zt=sl(Be,je),zt!=null&&ai.push(Ky(Be,zt,Qe))),Yr)break;Be=Be.return}0<ai.length&&(at=new lt(at,gi,null,g,Dt),Bt.push({event:at,listeners:ai}))}}if((f&7)===0){e:{if(at=c==="mouseover"||c==="pointerover",lt=c==="mouseout"||c==="pointerout",at&&g!==jc&&(gi=g.relatedTarget||g.fromElement)&&(K(gi)||gi[Br]))break e;if((lt||at)&&(at=Dt.window===Dt?Dt:(at=Dt.ownerDocument)?at.defaultView||at.parentWindow:window,lt?(gi=g.relatedTarget||g.toElement,lt=et,gi=gi?K(gi):null,gi!==null&&(Yr=s(gi),ai=gi.tag,gi!==Yr||ai!==5&&ai!==27&&ai!==6)&&(gi=null)):(lt=null,gi=et),lt!==gi)){if(ai=Xc,zt="onMouseLeave",je="onMouseEnter",Be="mouse",(c==="pointerout"||c==="pointerover")&&(ai=Ei,zt="onPointerLeave",je="onPointerEnter",Be="pointer"),Yr=lt==null?at:De(lt),Qe=gi==null?at:De(gi),at=new ai(zt,Be+"leave",lt,g,Dt),at.target=Yr,at.relatedTarget=Qe,zt=null,K(Dt)===et&&(ai=new ai(je,Be+"enter",gi,g,Dt),ai.target=Qe,ai.relatedTarget=Yr,zt=ai),Yr=zt,lt&&gi)t:{for(ai=lt,je=gi,Be=0,Qe=ai;Qe;Qe=tv(Qe))Be++;for(Qe=0,zt=je;zt;zt=tv(zt))Qe++;for(;0<Be-Qe;)ai=tv(ai),Be--;for(;0<Qe-Be;)je=tv(je),Qe--;for(;Be--;){if(ai===je||je!==null&&ai===je.alternate)break t;ai=tv(ai),je=tv(je)}ai=null}else ai=null;lt!==null&&FR(Bt,at,lt,ai,!1),gi!==null&&Yr!==null&&FR(Bt,Yr,gi,ai,!0)}}e:{if(at=et?De(et):window,lt=at.nodeName&&at.nodeName.toLowerCase(),lt==="select"||lt==="input"&&at.type==="file")var Ln=Ef;else if(yh(at))if(Tf)Ln=vo;else{Ln=Nu;var Zi=Lu}else lt=at.nodeName,!lt||lt.toLowerCase()!=="input"||at.type!=="checkbox"&&at.type!=="radio"?et&&co(et.elementType)&&(Ln=Ef):Ln=ul;if(Ln&&(Ln=Ln(c,et))){ba(Bt,Ln,g,Dt);break e}Zi&&Zi(c,at,et),c==="focusout"&&et&&at.type==="number"&&et.memoizedProps.value!=null&&pr(at,"number",at.value)}switch(Zi=et?De(et):window,c){case"focusin":(yh(Zi)||Zi.contentEditable==="true")&&(We=Zi,st=et,_t=null);break;case"focusout":_t=st=We=null;break;case"mousedown":Yt=!0;break;case"contextmenu":case"mouseup":case"dragend":Yt=!1,pn(Bt,g,Dt);break;case"selectionchange":if(Ie)break;case"keydown":case"keyup":pn(Bt,g,Dt)}var jn;if(Bo)e:{switch(c){case"compositionstart":var ci="onCompositionStart";break e;case"compositionend":ci="onCompositionEnd";break e;case"compositionupdate":ci="onCompositionUpdate";break e}ci=void 0}else ko?Ya(c,g)&&(ci="onCompositionEnd"):c==="keydown"&&g.keyCode===229&&(ci="onCompositionStart");ci&&(ia&&g.locale!=="ko"&&(ko||ci!=="onCompositionStart"?ci==="onCompositionEnd"&&ko&&(jn=Wc()):(al=Dt,xf="value"in al?al.value:al.textContent,ko=!0)),Zi=B1(et,ci),0<Zi.length&&(ci=new te(ci,c,null,g,Dt),Bt.push({event:ci,listeners:Zi}),jn?ci.data=jn:(jn=_a(g),jn!==null&&(ci.data=jn)))),(jn=gs?Pa(c,g):po(c,g))&&(ci=B1(et,"onBeforeInput"),0<ci.length&&(Zi=new te("onBeforeInput","beforeinput",null,g,Dt),Bt.push({event:Zi,listeners:ci}),Zi.data=jn)),ak(Bt,c,et,g,Dt)}kR(Bt,f)})}function Ky(c,f,g){return{instance:c,listener:f,currentTarget:g}}function B1(c,f){for(var g=f+"Capture",_=[];c!==null;){var A=c,L=A.stateNode;if(A=A.tag,A!==5&&A!==26&&A!==27||L===null||(A=sl(c,g),A!=null&&_.unshift(Ky(c,A,L)),A=sl(c,f),A!=null&&_.push(Ky(c,A,L))),c.tag===3)return _;c=c.return}return[]}function tv(c){if(c===null)return null;do c=c.return;while(c&&c.tag!==5&&c.tag!==27);return c||null}function FR(c,f,g,_,A){for(var L=f._reactName,X=[];g!==null&&g!==_;){var se=g,Re=se.alternate,et=se.stateNode;if(se=se.tag,Re!==null&&Re===_)break;se!==5&&se!==26&&se!==27||et===null||(Re=et,A?(et=sl(g,L),et!=null&&X.unshift(Ky(g,et,Re))):A||(et=sl(g,L),et!=null&&X.push(Ky(g,et,Re)))),g=g.return}X.length!==0&&c.push({event:f,listeners:X})}var uk=/\r\n?/g,fk=/\u0000|\uFFFD/g;function VR(c){return(typeof c=="string"?c:""+c).replace(uk,`
`).replace(fk,"")}function GR(c,f){return f=VR(f),VR(c)===f}function k1(){}function Xr(c,f,g,_,A,L){switch(g){case"children":typeof _=="string"?f==="body"||f==="textarea"&&_===""||Ss(c,_):(typeof _=="number"||typeof _=="bigint")&&f!=="body"&&Ss(c,""+_);break;case"className":pt(c,"class",_);break;case"tabIndex":pt(c,"tabindex",_);break;case"dir":case"role":case"viewBox":case"width":case"height":pt(c,g,_);break;case"style":ja(c,_,L);break;case"data":if(f!=="object"){pt(c,"data",_);break}case"src":case"href":if(_===""&&(f!=="a"||g!=="href")){c.removeAttribute(g);break}if(_==null||typeof _=="function"||typeof _=="symbol"||typeof _=="boolean"){c.removeAttribute(g);break}_=ya(""+_),c.setAttribute(g,_);break;case"action":case"formAction":if(typeof _=="function"){c.setAttribute(g,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof L=="function"&&(g==="formAction"?(f!=="input"&&Xr(c,f,"name",A.name,A,null),Xr(c,f,"formEncType",A.formEncType,A,null),Xr(c,f,"formMethod",A.formMethod,A,null),Xr(c,f,"formTarget",A.formTarget,A,null)):(Xr(c,f,"encType",A.encType,A,null),Xr(c,f,"method",A.method,A,null),Xr(c,f,"target",A.target,A,null)));if(_==null||typeof _=="symbol"||typeof _=="boolean"){c.removeAttribute(g);break}_=ya(""+_),c.setAttribute(g,_);break;case"onClick":_!=null&&(c.onclick=k1);break;case"onScroll":_!=null&&er("scroll",c);break;case"onScrollEnd":_!=null&&er("scrollend",c);break;case"dangerouslySetInnerHTML":if(_!=null){if(typeof _!="object"||!("__html"in _))throw Error(i(61));if(g=_.__html,g!=null){if(A.children!=null)throw Error(i(60));c.innerHTML=g}}break;case"multiple":c.multiple=_&&typeof _!="function"&&typeof _!="symbol";break;case"muted":c.muted=_&&typeof _!="function"&&typeof _!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(_==null||typeof _=="function"||typeof _=="boolean"||typeof _=="symbol"){c.removeAttribute("xlink:href");break}g=ya(""+_),c.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",g);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":_!=null&&typeof _!="function"&&typeof _!="symbol"?c.setAttribute(g,""+_):c.removeAttribute(g);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":_&&typeof _!="function"&&typeof _!="symbol"?c.setAttribute(g,""):c.removeAttribute(g);break;case"capture":case"download":_===!0?c.setAttribute(g,""):_!==!1&&_!=null&&typeof _!="function"&&typeof _!="symbol"?c.setAttribute(g,_):c.removeAttribute(g);break;case"cols":case"rows":case"size":case"span":_!=null&&typeof _!="function"&&typeof _!="symbol"&&!isNaN(_)&&1<=_?c.setAttribute(g,_):c.removeAttribute(g);break;case"rowSpan":case"start":_==null||typeof _=="function"||typeof _=="symbol"||isNaN(_)?c.removeAttribute(g):c.setAttribute(g,_);break;case"popover":er("beforetoggle",c),er("toggle",c),Ye(c,"popover",_);break;case"xlinkActuate":Tt(c,"http://www.w3.org/1999/xlink","xlink:actuate",_);break;case"xlinkArcrole":Tt(c,"http://www.w3.org/1999/xlink","xlink:arcrole",_);break;case"xlinkRole":Tt(c,"http://www.w3.org/1999/xlink","xlink:role",_);break;case"xlinkShow":Tt(c,"http://www.w3.org/1999/xlink","xlink:show",_);break;case"xlinkTitle":Tt(c,"http://www.w3.org/1999/xlink","xlink:title",_);break;case"xlinkType":Tt(c,"http://www.w3.org/1999/xlink","xlink:type",_);break;case"xmlBase":Tt(c,"http://www.w3.org/XML/1998/namespace","xml:base",_);break;case"xmlLang":Tt(c,"http://www.w3.org/XML/1998/namespace","xml:lang",_);break;case"xmlSpace":Tt(c,"http://www.w3.org/XML/1998/namespace","xml:space",_);break;case"is":Ye(c,"is",_);break;case"innerText":case"textContent":break;default:(!(2<g.length)||g[0]!=="o"&&g[0]!=="O"||g[1]!=="n"&&g[1]!=="N")&&(g=Du.get(g)||g,Ye(c,g,_))}}function AE(c,f,g,_,A,L){switch(g){case"style":ja(c,_,L);break;case"dangerouslySetInnerHTML":if(_!=null){if(typeof _!="object"||!("__html"in _))throw Error(i(61));if(g=_.__html,g!=null){if(A.children!=null)throw Error(i(60));c.innerHTML=g}}break;case"children":typeof _=="string"?Ss(c,_):(typeof _=="number"||typeof _=="bigint")&&Ss(c,""+_);break;case"onScroll":_!=null&&er("scroll",c);break;case"onScrollEnd":_!=null&&er("scrollend",c);break;case"onClick":_!=null&&(c.onclick=k1);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ut.hasOwnProperty(g))e:{if(g[0]==="o"&&g[1]==="n"&&(A=g.endsWith("Capture"),f=g.slice(2,A?g.length-7:void 0),L=c[xr]||null,L=L!=null?L[g]:null,typeof L=="function"&&c.removeEventListener(f,L,A),typeof _=="function")){typeof L!="function"&&L!==null&&(g in c?c[g]=null:c.hasAttribute(g)&&c.removeAttribute(g)),c.addEventListener(f,_,A);break e}g in c?c[g]=_:_===!0?c.setAttribute(g,""):Ye(c,g,_)}}}function Eo(c,f,g){switch(f){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":er("error",c),er("load",c);var _=!1,A=!1,L;for(L in g)if(g.hasOwnProperty(L)){var X=g[L];if(X!=null)switch(L){case"src":_=!0;break;case"srcSet":A=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,f));default:Xr(c,f,L,X,g,null)}}A&&Xr(c,f,"srcSet",g.srcSet,g,null),_&&Xr(c,f,"src",g.src,g,null);return;case"input":er("invalid",c);var se=L=X=A=null,Re=null,et=null;for(_ in g)if(g.hasOwnProperty(_)){var Dt=g[_];if(Dt!=null)switch(_){case"name":A=Dt;break;case"type":X=Dt;break;case"checked":Re=Dt;break;case"defaultChecked":et=Dt;break;case"value":L=Dt;break;case"defaultValue":se=Dt;break;case"children":case"dangerouslySetInnerHTML":if(Dt!=null)throw Error(i(137,f));break;default:Xr(c,f,_,Dt,g,null)}}kn(c,L,se,Re,et,X,A,!1),Di(c);return;case"select":er("invalid",c),_=X=L=null;for(A in g)if(g.hasOwnProperty(A)&&(se=g[A],se!=null))switch(A){case"value":L=se;break;case"defaultValue":X=se;break;case"multiple":_=se;default:Xr(c,f,A,se,g,null)}f=L,g=X,c.multiple=!!_,f!=null?ei(c,!!_,f,!1):g!=null&&ei(c,!!_,g,!0);return;case"textarea":er("invalid",c),L=A=_=null;for(X in g)if(g.hasOwnProperty(X)&&(se=g[X],se!=null))switch(X){case"value":_=se;break;case"defaultValue":A=se;break;case"children":L=se;break;case"dangerouslySetInnerHTML":if(se!=null)throw Error(i(91));break;default:Xr(c,f,X,se,g,null)}fr(c,_,A,L),Di(c);return;case"option":for(Re in g)if(g.hasOwnProperty(Re)&&(_=g[Re],_!=null))switch(Re){case"selected":c.selected=_&&typeof _!="function"&&typeof _!="symbol";break;default:Xr(c,f,Re,_,g,null)}return;case"dialog":er("beforetoggle",c),er("toggle",c),er("cancel",c),er("close",c);break;case"iframe":case"object":er("load",c);break;case"video":case"audio":for(_=0;_<Zy.length;_++)er(Zy[_],c);break;case"image":er("error",c),er("load",c);break;case"details":er("toggle",c);break;case"embed":case"source":case"link":er("error",c),er("load",c);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(et in g)if(g.hasOwnProperty(et)&&(_=g[et],_!=null))switch(et){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,f));default:Xr(c,f,et,_,g,null)}return;default:if(co(f)){for(Dt in g)g.hasOwnProperty(Dt)&&(_=g[Dt],_!==void 0&&AE(c,f,Dt,_,g,void 0));return}}for(se in g)g.hasOwnProperty(se)&&(_=g[se],_!=null&&Xr(c,f,se,_,g,null))}function hk(c,f,g,_){switch(f){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var A=null,L=null,X=null,se=null,Re=null,et=null,Dt=null;for(lt in g){var Bt=g[lt];if(g.hasOwnProperty(lt)&&Bt!=null)switch(lt){case"checked":break;case"value":break;case"defaultValue":Re=Bt;default:_.hasOwnProperty(lt)||Xr(c,f,lt,null,_,Bt)}}for(var at in _){var lt=_[at];if(Bt=g[at],_.hasOwnProperty(at)&&(lt!=null||Bt!=null))switch(at){case"type":L=lt;break;case"name":A=lt;break;case"checked":et=lt;break;case"defaultChecked":Dt=lt;break;case"value":X=lt;break;case"defaultValue":se=lt;break;case"children":case"dangerouslySetInnerHTML":if(lt!=null)throw Error(i(137,f));break;default:lt!==Bt&&Xr(c,f,at,lt,_,Bt)}}Zn(c,X,se,Re,et,Dt,L,A);return;case"select":lt=X=se=at=null;for(L in g)if(Re=g[L],g.hasOwnProperty(L)&&Re!=null)switch(L){case"value":break;case"multiple":lt=Re;default:_.hasOwnProperty(L)||Xr(c,f,L,null,_,Re)}for(A in _)if(L=_[A],Re=g[A],_.hasOwnProperty(A)&&(L!=null||Re!=null))switch(A){case"value":at=L;break;case"defaultValue":se=L;break;case"multiple":X=L;default:L!==Re&&Xr(c,f,A,L,_,Re)}f=se,g=X,_=lt,at!=null?ei(c,!!g,at,!1):!!_!=!!g&&(f!=null?ei(c,!!g,f,!0):ei(c,!!g,g?[]:"",!1));return;case"textarea":lt=at=null;for(se in g)if(A=g[se],g.hasOwnProperty(se)&&A!=null&&!_.hasOwnProperty(se))switch(se){case"value":break;case"children":break;default:Xr(c,f,se,null,_,A)}for(X in _)if(A=_[X],L=g[X],_.hasOwnProperty(X)&&(A!=null||L!=null))switch(X){case"value":at=A;break;case"defaultValue":lt=A;break;case"children":break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(i(91));break;default:A!==L&&Xr(c,f,X,A,_,L)}Ai(c,at,lt);return;case"option":for(var gi in g)if(at=g[gi],g.hasOwnProperty(gi)&&at!=null&&!_.hasOwnProperty(gi))switch(gi){case"selected":c.selected=!1;break;default:Xr(c,f,gi,null,_,at)}for(Re in _)if(at=_[Re],lt=g[Re],_.hasOwnProperty(Re)&&at!==lt&&(at!=null||lt!=null))switch(Re){case"selected":c.selected=at&&typeof at!="function"&&typeof at!="symbol";break;default:Xr(c,f,Re,at,_,lt)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ai in g)at=g[ai],g.hasOwnProperty(ai)&&at!=null&&!_.hasOwnProperty(ai)&&Xr(c,f,ai,null,_,at);for(et in _)if(at=_[et],lt=g[et],_.hasOwnProperty(et)&&at!==lt&&(at!=null||lt!=null))switch(et){case"children":case"dangerouslySetInnerHTML":if(at!=null)throw Error(i(137,f));break;default:Xr(c,f,et,at,_,lt)}return;default:if(co(f)){for(var Yr in g)at=g[Yr],g.hasOwnProperty(Yr)&&at!==void 0&&!_.hasOwnProperty(Yr)&&AE(c,f,Yr,void 0,_,at);for(Dt in _)at=_[Dt],lt=g[Dt],!_.hasOwnProperty(Dt)||at===lt||at===void 0&&lt===void 0||AE(c,f,Dt,at,_,lt);return}}for(var je in g)at=g[je],g.hasOwnProperty(je)&&at!=null&&!_.hasOwnProperty(je)&&Xr(c,f,je,null,_,at);for(Bt in _)at=_[Bt],lt=g[Bt],!_.hasOwnProperty(Bt)||at===lt||at==null&&lt==null||Xr(c,f,Bt,at,_,lt)}var CE=null,RE=null;function H1(c){return c.nodeType===9?c:c.ownerDocument}function jR(c){switch(c){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function $R(c,f){if(c===0)switch(f){case"svg":return 1;case"math":return 2;default:return 0}return c===1&&f==="foreignObject"?0:c}function OE(c,f){return c==="textarea"||c==="noscript"||typeof f.children=="string"||typeof f.children=="number"||typeof f.children=="bigint"||typeof f.dangerouslySetInnerHTML=="object"&&f.dangerouslySetInnerHTML!==null&&f.dangerouslySetInnerHTML.__html!=null}var PE=null;function dk(){var c=window.event;return c&&c.type==="popstate"?c===PE?!1:(PE=c,!0):(PE=null,!1)}var qR=typeof setTimeout=="function"?setTimeout:void 0,pk=typeof clearTimeout=="function"?clearTimeout:void 0,WR=typeof Promise=="function"?Promise:void 0,mk=typeof queueMicrotask=="function"?queueMicrotask:typeof WR<"u"?function(c){return WR.resolve(null).then(c).catch(gk)}:qR;function gk(c){setTimeout(function(){throw c})}function ap(c){return c==="head"}function XR(c,f){var g=f,_=0,A=0;do{var L=g.nextSibling;if(c.removeChild(g),L&&L.nodeType===8)if(g=L.data,g==="/$"){if(0<_&&8>_){g=_;var X=c.ownerDocument;if(g&1&&Qy(X.documentElement),g&2&&Qy(X.body),g&4)for(g=X.head,Qy(g),X=g.firstChild;X;){var se=X.nextSibling,Re=X.nodeName;X[rs]||Re==="SCRIPT"||Re==="STYLE"||Re==="LINK"&&X.rel.toLowerCase()==="stylesheet"||g.removeChild(X),X=se}}if(A===0){c.removeChild(L),a0(f);return}A--}else g==="$"||g==="$?"||g==="$!"?A++:_=g.charCodeAt(0)-48;else _=0;g=L}while(g);a0(f)}function DE(c){var f=c.firstChild;for(f&&f.nodeType===10&&(f=f.nextSibling);f;){var g=f;switch(f=f.nextSibling,g.nodeName){case"HTML":case"HEAD":case"BODY":DE(g),Gi(g);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(g.rel.toLowerCase()==="stylesheet")continue}c.removeChild(g)}}function vk(c,f,g,_){for(;c.nodeType===1;){var A=g;if(c.nodeName.toLowerCase()!==f.toLowerCase()){if(!_&&(c.nodeName!=="INPUT"||c.type!=="hidden"))break}else if(_){if(!c[rs])switch(f){case"meta":if(!c.hasAttribute("itemprop"))break;return c;case"link":if(L=c.getAttribute("rel"),L==="stylesheet"&&c.hasAttribute("data-precedence"))break;if(L!==A.rel||c.getAttribute("href")!==(A.href==null||A.href===""?null:A.href)||c.getAttribute("crossorigin")!==(A.crossOrigin==null?null:A.crossOrigin)||c.getAttribute("title")!==(A.title==null?null:A.title))break;return c;case"style":if(c.hasAttribute("data-precedence"))break;return c;case"script":if(L=c.getAttribute("src"),(L!==(A.src==null?null:A.src)||c.getAttribute("type")!==(A.type==null?null:A.type)||c.getAttribute("crossorigin")!==(A.crossOrigin==null?null:A.crossOrigin))&&L&&c.hasAttribute("async")&&!c.hasAttribute("itemprop"))break;return c;default:return c}}else if(f==="input"&&c.type==="hidden"){var L=A.name==null?null:""+A.name;if(A.type==="hidden"&&c.getAttribute("name")===L)return c}else return c;if(c=Ku(c.nextSibling),c===null)break}return null}function yk(c,f,g){if(f==="")return null;for(;c.nodeType!==3;)if((c.nodeType!==1||c.nodeName!=="INPUT"||c.type!=="hidden")&&!g||(c=Ku(c.nextSibling),c===null))return null;return c}function LE(c){return c.data==="$!"||c.data==="$?"&&c.ownerDocument.readyState==="complete"}function _k(c,f){var g=c.ownerDocument;if(c.data!=="$?"||g.readyState==="complete")f();else{var _=function(){f(),g.removeEventListener("DOMContentLoaded",_)};g.addEventListener("DOMContentLoaded",_),c._reactRetry=_}}function Ku(c){for(;c!=null;c=c.nextSibling){var f=c.nodeType;if(f===1||f===3)break;if(f===8){if(f=c.data,f==="$"||f==="$!"||f==="$?"||f==="F!"||f==="F")break;if(f==="/$")return null}}return c}var NE=null;function YR(c){c=c.previousSibling;for(var f=0;c;){if(c.nodeType===8){var g=c.data;if(g==="$"||g==="$!"||g==="$?"){if(f===0)return c;f--}else g==="/$"&&f++}c=c.previousSibling}return null}function ZR(c,f,g){switch(f=H1(g),c){case"html":if(c=f.documentElement,!c)throw Error(i(452));return c;case"head":if(c=f.head,!c)throw Error(i(453));return c;case"body":if(c=f.body,!c)throw Error(i(454));return c;default:throw Error(i(451))}}function Qy(c){for(var f=c.attributes;f.length;)c.removeAttributeNode(f[0]);Gi(c)}var _u=new Map,KR=new Set;function F1(c){return typeof c.getRootNode=="function"?c.getRootNode():c.nodeType===9?c:c.ownerDocument}var $h=de.d;de.d={f:bk,r:xk,D:Sk,C:wk,L:Ek,m:Tk,X:Ak,S:Mk,M:Ck};function bk(){var c=$h.f(),f=vu();return c||f}function xk(c){var f=oe(c);f!==null&&f.tag===5&&f.type==="form"?b1(f):$h.r(c)}var nv=typeof document>"u"?null:document;function QR(c,f,g){var _=nv;if(_&&typeof f=="string"&&f){var A=Sn(f);A='link[rel="'+c+'"][href="'+A+'"]',typeof g=="string"&&(A+='[crossorigin="'+g+'"]'),KR.has(A)||(KR.add(A),c={rel:c,crossOrigin:g,href:f},_.querySelector(A)===null&&(f=_.createElement("link"),Eo(f,"link",c),Je(f),_.head.appendChild(f)))}}function Sk(c){$h.D(c),QR("dns-prefetch",c,null)}function wk(c,f){$h.C(c,f),QR("preconnect",c,f)}function Ek(c,f,g){$h.L(c,f,g);var _=nv;if(_&&c&&f){var A='link[rel="preload"][as="'+Sn(f)+'"]';f==="image"&&g&&g.imageSrcSet?(A+='[imagesrcset="'+Sn(g.imageSrcSet)+'"]',typeof g.imageSizes=="string"&&(A+='[imagesizes="'+Sn(g.imageSizes)+'"]')):A+='[href="'+Sn(c)+'"]';var L=A;switch(f){case"style":L=iv(c);break;case"script":L=rv(c)}_u.has(L)||(c=d({rel:"preload",href:f==="image"&&g&&g.imageSrcSet?void 0:c,as:f},g),_u.set(L,c),_.querySelector(A)!==null||f==="style"&&_.querySelector(Jy(L))||f==="script"&&_.querySelector(e0(L))||(f=_.createElement("link"),Eo(f,"link",c),Je(f),_.head.appendChild(f)))}}function Tk(c,f){$h.m(c,f);var g=nv;if(g&&c){var _=f&&typeof f.as=="string"?f.as:"script",A='link[rel="modulepreload"][as="'+Sn(_)+'"][href="'+Sn(c)+'"]',L=A;switch(_){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":L=rv(c)}if(!_u.has(L)&&(c=d({rel:"modulepreload",href:c},f),_u.set(L,c),g.querySelector(A)===null)){switch(_){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(g.querySelector(e0(L)))return}_=g.createElement("link"),Eo(_,"link",c),Je(_),g.head.appendChild(_)}}}function Mk(c,f,g){$h.S(c,f,g);var _=nv;if(_&&c){var A=Ke(_).hoistableStyles,L=iv(c);f=f||"default";var X=A.get(L);if(!X){var se={loading:0,preload:null};if(X=_.querySelector(Jy(L)))se.loading=5;else{c=d({rel:"stylesheet",href:c,"data-precedence":f},g),(g=_u.get(L))&&IE(c,g);var Re=X=_.createElement("link");Je(Re),Eo(Re,"link",c),Re._p=new Promise(function(et,Dt){Re.onload=et,Re.onerror=Dt}),Re.addEventListener("load",function(){se.loading|=1}),Re.addEventListener("error",function(){se.loading|=2}),se.loading|=4,V1(X,f,_)}X={type:"stylesheet",instance:X,count:1,state:se},A.set(L,X)}}}function Ak(c,f){$h.X(c,f);var g=nv;if(g&&c){var _=Ke(g).hoistableScripts,A=rv(c),L=_.get(A);L||(L=g.querySelector(e0(A)),L||(c=d({src:c,async:!0},f),(f=_u.get(A))&&zE(c,f),L=g.createElement("script"),Je(L),Eo(L,"link",c),g.head.appendChild(L)),L={type:"script",instance:L,count:1,state:null},_.set(A,L))}}function Ck(c,f){$h.M(c,f);var g=nv;if(g&&c){var _=Ke(g).hoistableScripts,A=rv(c),L=_.get(A);L||(L=g.querySelector(e0(A)),L||(c=d({src:c,async:!0,type:"module"},f),(f=_u.get(A))&&zE(c,f),L=g.createElement("script"),Je(L),Eo(L,"link",c),g.head.appendChild(L)),L={type:"script",instance:L,count:1,state:null},_.set(A,L))}}function JR(c,f,g,_){var A=(A=Ze.current)?F1(A):null;if(!A)throw Error(i(446));switch(c){case"meta":case"title":return null;case"style":return typeof g.precedence=="string"&&typeof g.href=="string"?(f=iv(g.href),g=Ke(A).hoistableStyles,_=g.get(f),_||(_={type:"style",instance:null,count:0,state:null},g.set(f,_)),_):{type:"void",instance:null,count:0,state:null};case"link":if(g.rel==="stylesheet"&&typeof g.href=="string"&&typeof g.precedence=="string"){c=iv(g.href);var L=Ke(A).hoistableStyles,X=L.get(c);if(X||(A=A.ownerDocument||A,X={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},L.set(c,X),(L=A.querySelector(Jy(c)))&&!L._p&&(X.instance=L,X.state.loading=5),_u.has(c)||(g={rel:"preload",as:"style",href:g.href,crossOrigin:g.crossOrigin,integrity:g.integrity,media:g.media,hrefLang:g.hrefLang,referrerPolicy:g.referrerPolicy},_u.set(c,g),L||Rk(A,c,g,X.state))),f&&_===null)throw Error(i(528,""));return X}if(f&&_!==null)throw Error(i(529,""));return null;case"script":return f=g.async,g=g.src,typeof g=="string"&&f&&typeof f!="function"&&typeof f!="symbol"?(f=rv(g),g=Ke(A).hoistableScripts,_=g.get(f),_||(_={type:"script",instance:null,count:0,state:null},g.set(f,_)),_):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,c))}}function iv(c){return'href="'+Sn(c)+'"'}function Jy(c){return'link[rel="stylesheet"]['+c+"]"}function e3(c){return d({},c,{"data-precedence":c.precedence,precedence:null})}function Rk(c,f,g,_){c.querySelector('link[rel="preload"][as="style"]['+f+"]")?_.loading=1:(f=c.createElement("link"),_.preload=f,f.addEventListener("load",function(){return _.loading|=1}),f.addEventListener("error",function(){return _.loading|=2}),Eo(f,"link",g),Je(f),c.head.appendChild(f))}function rv(c){return'[src="'+Sn(c)+'"]'}function e0(c){return"script[async]"+c}function t3(c,f,g){if(f.count++,f.instance===null)switch(f.type){case"style":var _=c.querySelector('style[data-href~="'+Sn(g.href)+'"]');if(_)return f.instance=_,Je(_),_;var A=d({},g,{"data-href":g.href,"data-precedence":g.precedence,href:null,precedence:null});return _=(c.ownerDocument||c).createElement("style"),Je(_),Eo(_,"style",A),V1(_,g.precedence,c),f.instance=_;case"stylesheet":A=iv(g.href);var L=c.querySelector(Jy(A));if(L)return f.state.loading|=4,f.instance=L,Je(L),L;_=e3(g),(A=_u.get(A))&&IE(_,A),L=(c.ownerDocument||c).createElement("link"),Je(L);var X=L;return X._p=new Promise(function(se,Re){X.onload=se,X.onerror=Re}),Eo(L,"link",_),f.state.loading|=4,V1(L,g.precedence,c),f.instance=L;case"script":return L=rv(g.src),(A=c.querySelector(e0(L)))?(f.instance=A,Je(A),A):(_=g,(A=_u.get(L))&&(_=d({},g),zE(_,A)),c=c.ownerDocument||c,A=c.createElement("script"),Je(A),Eo(A,"link",_),c.head.appendChild(A),f.instance=A);case"void":return null;default:throw Error(i(443,f.type))}else f.type==="stylesheet"&&(f.state.loading&4)===0&&(_=f.instance,f.state.loading|=4,V1(_,g.precedence,c));return f.instance}function V1(c,f,g){for(var _=g.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),A=_.length?_[_.length-1]:null,L=A,X=0;X<_.length;X++){var se=_[X];if(se.dataset.precedence===f)L=se;else if(L!==A)break}L?L.parentNode.insertBefore(c,L.nextSibling):(f=g.nodeType===9?g.head:g,f.insertBefore(c,f.firstChild))}function IE(c,f){c.crossOrigin==null&&(c.crossOrigin=f.crossOrigin),c.referrerPolicy==null&&(c.referrerPolicy=f.referrerPolicy),c.title==null&&(c.title=f.title)}function zE(c,f){c.crossOrigin==null&&(c.crossOrigin=f.crossOrigin),c.referrerPolicy==null&&(c.referrerPolicy=f.referrerPolicy),c.integrity==null&&(c.integrity=f.integrity)}var G1=null;function n3(c,f,g){if(G1===null){var _=new Map,A=G1=new Map;A.set(g,_)}else A=G1,_=A.get(g),_||(_=new Map,A.set(g,_));if(_.has(c))return _;for(_.set(c,null),g=g.getElementsByTagName(c),A=0;A<g.length;A++){var L=g[A];if(!(L[rs]||L[Ki]||c==="link"&&L.getAttribute("rel")==="stylesheet")&&L.namespaceURI!=="http://www.w3.org/2000/svg"){var X=L.getAttribute(f)||"";X=c+X;var se=_.get(X);se?se.push(L):_.set(X,[L])}}return _}function i3(c,f,g){c=c.ownerDocument||c,c.head.insertBefore(g,f==="title"?c.querySelector("head > title"):null)}function Ok(c,f,g){if(g===1||f.itemProp!=null)return!1;switch(c){case"meta":case"title":return!0;case"style":if(typeof f.precedence!="string"||typeof f.href!="string"||f.href==="")break;return!0;case"link":if(typeof f.rel!="string"||typeof f.href!="string"||f.href===""||f.onLoad||f.onError)break;switch(f.rel){case"stylesheet":return c=f.disabled,typeof f.precedence=="string"&&c==null;default:return!0}case"script":if(f.async&&typeof f.async!="function"&&typeof f.async!="symbol"&&!f.onLoad&&!f.onError&&f.src&&typeof f.src=="string")return!0}return!1}function r3(c){return!(c.type==="stylesheet"&&(c.state.loading&3)===0)}var t0=null;function Pk(){}function Dk(c,f,g){if(t0===null)throw Error(i(475));var _=t0;if(f.type==="stylesheet"&&(typeof g.media!="string"||matchMedia(g.media).matches!==!1)&&(f.state.loading&4)===0){if(f.instance===null){var A=iv(g.href),L=c.querySelector(Jy(A));if(L){c=L._p,c!==null&&typeof c=="object"&&typeof c.then=="function"&&(_.count++,_=j1.bind(_),c.then(_,_)),f.state.loading|=4,f.instance=L,Je(L);return}L=c.ownerDocument||c,g=e3(g),(A=_u.get(A))&&IE(g,A),L=L.createElement("link"),Je(L);var X=L;X._p=new Promise(function(se,Re){X.onload=se,X.onerror=Re}),Eo(L,"link",g),f.instance=L}_.stylesheets===null&&(_.stylesheets=new Map),_.stylesheets.set(f,c),(c=f.state.preload)&&(f.state.loading&3)===0&&(_.count++,f=j1.bind(_),c.addEventListener("load",f),c.addEventListener("error",f))}}function Lk(){if(t0===null)throw Error(i(475));var c=t0;return c.stylesheets&&c.count===0&&UE(c,c.stylesheets),0<c.count?function(f){var g=setTimeout(function(){if(c.stylesheets&&UE(c,c.stylesheets),c.unsuspend){var _=c.unsuspend;c.unsuspend=null,_()}},6e4);return c.unsuspend=f,function(){c.unsuspend=null,clearTimeout(g)}}:null}function j1(){if(this.count--,this.count===0){if(this.stylesheets)UE(this,this.stylesheets);else if(this.unsuspend){var c=this.unsuspend;this.unsuspend=null,c()}}}var $1=null;function UE(c,f){c.stylesheets=null,c.unsuspend!==null&&(c.count++,$1=new Map,f.forEach(Nk,c),$1=null,j1.call(c))}function Nk(c,f){if(!(f.state.loading&4)){var g=$1.get(c);if(g)var _=g.get(null);else{g=new Map,$1.set(c,g);for(var A=c.querySelectorAll("link[data-precedence],style[data-precedence]"),L=0;L<A.length;L++){var X=A[L];(X.nodeName==="LINK"||X.getAttribute("media")!=="not all")&&(g.set(X.dataset.precedence,X),_=X)}_&&g.set(null,_)}A=f.instance,X=A.getAttribute("data-precedence"),L=g.get(X)||_,L===_&&g.set(null,A),g.set(X,A),this.count++,_=j1.bind(this),A.addEventListener("load",_),A.addEventListener("error",_),L?L.parentNode.insertBefore(A,L.nextSibling):(c=c.nodeType===9?c.head:c,c.insertBefore(A,c.firstChild)),f.state.loading|=4}}var n0={$$typeof:D,Provider:null,Consumer:null,_currentValue:he,_currentValue2:he,_threadCount:0};function Ik(c,f,g,_,A,L,X,se){this.tag=1,this.containerInfo=c,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=xt(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=xt(0),this.hiddenUpdates=xt(null),this.identifierPrefix=_,this.onUncaughtError=A,this.onCaughtError=L,this.onRecoverableError=X,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=se,this.incompleteTransitions=new Map}function s3(c,f,g,_,A,L,X,se,Re,et,Dt,Bt){return c=new Ik(c,f,g,X,se,Re,et,Bt),f=1,L===!0&&(f|=24),L=Za(3,null,null,f),c.current=L,L.stateNode=c,f=Eh(),f.refCount++,c.pooledCache=f,f.refCount++,L.memoizedState={element:_,isDehydrated:g,cache:f},ke(L),c}function a3(c){return c?(c=Kc,c):Kc}function o3(c,f,g,_,A,L){A=a3(A),_.context===null?_.context=A:_.pendingContext=A,_=ct(f),_.payload={element:g},L=L===void 0?null:L,L!==null&&(_.callback=L),g=It(c,_,f),g!==null&&(wo(g,c,f),Zt(g,c,f))}function l3(c,f){if(c=c.memoizedState,c!==null&&c.dehydrated!==null){var g=c.retryLane;c.retryLane=g!==0&&g<f?g:f}}function BE(c,f){l3(c,f),(c=c.alternate)&&l3(c,f)}function c3(c){if(c.tag===13){var f=xc(c,67108864);f!==null&&wo(f,c,67108864),BE(c,67108864)}}var q1=!0;function zk(c,f,g,_){var A=J.T;J.T=null;var L=de.p;try{de.p=2,kE(c,f,g,_)}finally{de.p=L,J.T=A}}function Uk(c,f,g,_){var A=J.T;J.T=null;var L=de.p;try{de.p=8,kE(c,f,g,_)}finally{de.p=L,J.T=A}}function kE(c,f,g,_){if(q1){var A=HE(_);if(A===null)ME(c,f,_,W1,g),f3(c,_);else if(kk(A,c,f,g,_))_.stopPropagation();else if(f3(c,_),f&4&&-1<Bk.indexOf(c)){for(;A!==null;){var L=oe(A);if(L!==null)switch(L.tag){case 3:if(L=L.stateNode,L.current.memoizedState.isDehydrated){var X=cn(L.pendingLanes);if(X!==0){var se=L;for(se.pendingLanes|=2,se.entangledLanes|=2;X;){var Re=1<<31-qt(X);se.entanglements[1]|=Re,X&=~Re}Yf(L),(wr&6)===0&&(eo=At()+500,Yy(0))}}break;case 13:se=xc(L,2),se!==null&&wo(se,L,2),vu(),BE(L,2)}if(L=HE(_),L===null&&ME(c,f,_,W1,g),L===A)break;A=L}A!==null&&_.stopPropagation()}else ME(c,f,_,null,g)}}function HE(c){return c=$a(c),FE(c)}var W1=null;function FE(c){if(W1=null,c=K(c),c!==null){var f=s(c);if(f===null)c=null;else{var g=f.tag;if(g===13){if(c=a(f),c!==null)return c;c=null}else if(g===3){if(f.stateNode.current.memoizedState.isDehydrated)return f.tag===3?f.stateNode.containerInfo:null;c=null}else f!==c&&(c=null)}}return W1=c,null}function u3(c){switch(c){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(mt()){case Kt:return 2;case Ot:return 8;case Qt:case bn:return 32;case ie:return 268435456;default:return 32}default:return 32}}var VE=!1,op=null,lp=null,cp=null,i0=new Map,r0=new Map,up=[],Bk="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function f3(c,f){switch(c){case"focusin":case"focusout":op=null;break;case"dragenter":case"dragleave":lp=null;break;case"mouseover":case"mouseout":cp=null;break;case"pointerover":case"pointerout":i0.delete(f.pointerId);break;case"gotpointercapture":case"lostpointercapture":r0.delete(f.pointerId)}}function s0(c,f,g,_,A,L){return c===null||c.nativeEvent!==L?(c={blockedOn:f,domEventName:g,eventSystemFlags:_,nativeEvent:L,targetContainers:[A]},f!==null&&(f=oe(f),f!==null&&c3(f)),c):(c.eventSystemFlags|=_,f=c.targetContainers,A!==null&&f.indexOf(A)===-1&&f.push(A),c)}function kk(c,f,g,_,A){switch(f){case"focusin":return op=s0(op,c,f,g,_,A),!0;case"dragenter":return lp=s0(lp,c,f,g,_,A),!0;case"mouseover":return cp=s0(cp,c,f,g,_,A),!0;case"pointerover":var L=A.pointerId;return i0.set(L,s0(i0.get(L)||null,c,f,g,_,A)),!0;case"gotpointercapture":return L=A.pointerId,r0.set(L,s0(r0.get(L)||null,c,f,g,_,A)),!0}return!1}function h3(c){var f=K(c.target);if(f!==null){var g=s(f);if(g!==null){if(f=g.tag,f===13){if(f=a(g),f!==null){c.blockedOn=f,Ur(c.priority,function(){if(g.tag===13){var _=Rs();_=fn(_);var A=xc(g,_);A!==null&&wo(A,g,_),BE(g,_)}});return}}else if(f===3&&g.stateNode.current.memoizedState.isDehydrated){c.blockedOn=g.tag===3?g.stateNode.containerInfo:null;return}}}c.blockedOn=null}function X1(c){if(c.blockedOn!==null)return!1;for(var f=c.targetContainers;0<f.length;){var g=HE(c.nativeEvent);if(g===null){g=c.nativeEvent;var _=new g.constructor(g.type,g);jc=_,g.target.dispatchEvent(_),jc=null}else return f=oe(g),f!==null&&c3(f),c.blockedOn=g,!1;f.shift()}return!0}function d3(c,f,g){X1(c)&&g.delete(f)}function Hk(){VE=!1,op!==null&&X1(op)&&(op=null),lp!==null&&X1(lp)&&(lp=null),cp!==null&&X1(cp)&&(cp=null),i0.forEach(d3),r0.forEach(d3)}function Y1(c,f){c.blockedOn===f&&(c.blockedOn=null,VE||(VE=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,Hk)))}var Z1=null;function p3(c){Z1!==c&&(Z1=c,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Z1===c&&(Z1=null);for(var f=0;f<c.length;f+=3){var g=c[f],_=c[f+1],A=c[f+2];if(typeof _!="function"){if(FE(_||g)===null)continue;break}var L=oe(g);L!==null&&(c.splice(f,3),f-=3,Vy(L,{pending:!0,data:A,method:g.method,action:_},_,A))}}))}function a0(c){function f(Re){return Y1(Re,c)}op!==null&&Y1(op,c),lp!==null&&Y1(lp,c),cp!==null&&Y1(cp,c),i0.forEach(f),r0.forEach(f);for(var g=0;g<up.length;g++){var _=up[g];_.blockedOn===c&&(_.blockedOn=null)}for(;0<up.length&&(g=up[0],g.blockedOn===null);)h3(g),g.blockedOn===null&&up.shift();if(g=(c.ownerDocument||c).$$reactFormReplay,g!=null)for(_=0;_<g.length;_+=3){var A=g[_],L=g[_+1],X=A[xr]||null;if(typeof L=="function")X||p3(g);else if(X){var se=null;if(L&&L.hasAttribute("formAction")){if(A=L,X=L[xr]||null)se=X.formAction;else if(FE(A)!==null)continue}else se=X.action;typeof se=="function"?g[_+1]=se:(g.splice(_,3),_-=3),p3(g)}}}function GE(c){this._internalRoot=c}K1.prototype.render=GE.prototype.render=function(c){var f=this._internalRoot;if(f===null)throw Error(i(409));var g=f.current,_=Rs();o3(g,_,c,f,null,null)},K1.prototype.unmount=GE.prototype.unmount=function(){var c=this._internalRoot;if(c!==null){this._internalRoot=null;var f=c.containerInfo;o3(c.current,2,null,c,null,null),vu(),f[Br]=null}};function K1(c){this._internalRoot=c}K1.prototype.unstable_scheduleHydration=function(c){if(c){var f=fi();c={blockedOn:null,target:c,priority:f};for(var g=0;g<up.length&&f!==0&&f<up[g].priority;g++);up.splice(g,0,c),g===0&&h3(c)}};var m3=e.version;if(m3!=="19.1.1")throw Error(i(527,m3,"19.1.1"));de.findDOMNode=function(c){var f=c._reactInternals;if(f===void 0)throw typeof c.render=="function"?Error(i(188)):(c=Object.keys(c).join(","),Error(i(268,c)));return c=l(f),c=c!==null?u(c):null,c=c===null?null:c.stateNode,c};var Fk={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:J,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Q1=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Q1.isDisabled&&Q1.supportsFiber)try{Ge=Q1.inject(Fk),ht=Q1}catch{}}return c0.createRoot=function(c,f){if(!r(c))throw Error(i(299));var g=!1,_="",A=pm,L=Vg,X=D1,se=null;return f!=null&&(f.unstable_strictMode===!0&&(g=!0),f.identifierPrefix!==void 0&&(_=f.identifierPrefix),f.onUncaughtError!==void 0&&(A=f.onUncaughtError),f.onCaughtError!==void 0&&(L=f.onCaughtError),f.onRecoverableError!==void 0&&(X=f.onRecoverableError),f.unstable_transitionCallbacks!==void 0&&(se=f.unstable_transitionCallbacks)),f=s3(c,1,!1,null,null,g,_,A,L,X,se,null),c[Br]=f.current,TE(c),new GE(f)},c0.hydrateRoot=function(c,f,g){if(!r(c))throw Error(i(299));var _=!1,A="",L=pm,X=Vg,se=D1,Re=null,et=null;return g!=null&&(g.unstable_strictMode===!0&&(_=!0),g.identifierPrefix!==void 0&&(A=g.identifierPrefix),g.onUncaughtError!==void 0&&(L=g.onUncaughtError),g.onCaughtError!==void 0&&(X=g.onCaughtError),g.onRecoverableError!==void 0&&(se=g.onRecoverableError),g.unstable_transitionCallbacks!==void 0&&(Re=g.unstable_transitionCallbacks),g.formState!==void 0&&(et=g.formState)),f=s3(c,1,!0,f,g??null,_,A,L,X,se,Re,et),f.context=a3(null),g=f.current,_=Rs(),_=fn(_),A=ct(_),A.callback=null,It(g,A,_),g=_,f.current.lanes=g,Xt(f,g),Yf(f),c[Br]=f.current,TE(c),new K1(f)},c0.version="19.1.1",c0}var C3;function n8(){if(C3)return $E.exports;C3=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),$E.exports=t8(),$E.exports}var PN=n8();const i8=Ru(PN);var z=Sg();const Se=Ru(z),r8=Gk({__proto__:null,default:Se},[z]);/**
 * react-router v7.9.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var R3="popstate";function s8(n={}){function e(r,s){let{pathname:a="/",search:o="",hash:l=""}=wg(r.location.hash.substring(1));return!a.startsWith("/")&&!a.startsWith(".")&&(a="/"+a),d2("",{pathname:a,search:o,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function t(r,s){let a=r.document.querySelector("base"),o="";if(a&&a.getAttribute("href")){let l=r.location.href,u=l.indexOf("#");o=u===-1?l:l.slice(0,u)}return o+"#"+(typeof s=="string"?s:a_(s))}function i(r,s){pf(r.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(s)})`)}return o8(e,t,i,n)}function $s(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function pf(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function a8(){return Math.random().toString(36).substring(2,10)}function O3(n,e){return{usr:n.state,key:n.key,idx:e}}function d2(n,e,t=null,i){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?wg(e):e,state:t,key:e&&e.key||i||a8()}}function a_({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function wg(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let i=n.indexOf("?");i>=0&&(e.search=n.substring(i),n=n.substring(0,i)),n&&(e.pathname=n)}return e}function o8(n,e,t,i={}){let{window:r=document.defaultView,v5Compat:s=!1}=i,a=r.history,o="POP",l=null,u=d();u==null&&(u=0,a.replaceState({...a.state,idx:u},""));function d(){return(a.state||{idx:null}).idx}function m(){o="POP";let E=d(),w=E==null?null:E-u;u=E,l&&l({action:o,location:T.location,delta:w})}function v(E,w){o="PUSH";let P=d2(T.location,E,w);t&&t(P,E),u=d()+1;let D=O3(P,u),N=T.createHref(P);try{a.pushState(D,"",N)}catch(G){if(G instanceof DOMException&&G.name==="DataCloneError")throw G;r.location.assign(N)}s&&l&&l({action:o,location:T.location,delta:1})}function y(E,w){o="REPLACE";let P=d2(T.location,E,w);t&&t(P,E),u=d();let D=O3(P,u),N=T.createHref(P);a.replaceState(D,"",N),s&&l&&l({action:o,location:T.location,delta:0})}function x(E){return l8(E)}let T={get action(){return o},get location(){return n(r,a)},listen(E){if(l)throw new Error("A history only accepts one active listener");return r.addEventListener(R3,m),l=E,()=>{r.removeEventListener(R3,m),l=null}},createHref(E){return e(r,E)},createURL:x,encodeLocation(E){let w=x(E);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:v,replace:y,go(E){return a.go(E)}};return T}function l8(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),$s(t,"No window.location.(origin|href) available to create URL");let i=typeof n=="string"?n:a_(n);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=t+i),new URL(i,t)}function DN(n,e,t="/"){return c8(n,e,t,!1)}function c8(n,e,t,i){let r=typeof e=="string"?wg(e):e,s=bd(r.pathname||"/",t);if(s==null)return null;let a=LN(n);u8(a);let o=null;for(let l=0;o==null&&l<a.length;++l){let u=x8(s);o=_8(a[l],u,i)}return o}function LN(n,e=[],t=[],i="",r=!1){let s=(a,o,l=r,u)=>{let d={relativePath:u===void 0?a.path||"":u,caseSensitive:a.caseSensitive===!0,childrenIndex:o,route:a};if(d.relativePath.startsWith("/")){if(!d.relativePath.startsWith(i)&&l)return;$s(d.relativePath.startsWith(i),`Absolute route path "${d.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(i.length)}let m=dd([i,d.relativePath]),v=t.concat(d);a.children&&a.children.length>0&&($s(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),LN(a.children,e,v,m,l)),!(a.path==null&&!a.index)&&e.push({path:m,score:v8(m,a.index),routesMeta:v})};return n.forEach((a,o)=>{if(a.path===""||!a.path?.includes("?"))s(a,o);else for(let l of NN(a.path))s(a,o,!0,l)}),e}function NN(n){let e=n.split("/");if(e.length===0)return[];let[t,...i]=e,r=t.endsWith("?"),s=t.replace(/\?$/,"");if(i.length===0)return r?[s,""]:[s];let a=NN(i.join("/")),o=[];return o.push(...a.map(l=>l===""?s:[s,l].join("/"))),r&&o.push(...a),o.map(l=>n.startsWith("/")&&l===""?"/":l)}function u8(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:y8(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}var f8=/^:[\w-]+$/,h8=3,d8=2,p8=1,m8=10,g8=-2,P3=n=>n==="*";function v8(n,e){let t=n.split("/"),i=t.length;return t.some(P3)&&(i+=g8),e&&(i+=d8),t.filter(r=>!P3(r)).reduce((r,s)=>r+(f8.test(s)?h8:s===""?p8:m8),i)}function y8(n,e){return n.length===e.length&&n.slice(0,-1).every((i,r)=>i===e[r])?n[n.length-1]-e[e.length-1]:0}function _8(n,e,t=!1){let{routesMeta:i}=n,r={},s="/",a=[];for(let o=0;o<i.length;++o){let l=i[o],u=o===i.length-1,d=s==="/"?e:e.slice(s.length)||"/",m=Bx({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},d),v=l.route;if(!m&&u&&t&&!i[i.length-1].route.index&&(m=Bx({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},d)),!m)return null;Object.assign(r,m.params),a.push({params:r,pathname:dd([s,m.pathname]),pathnameBase:T8(dd([s,m.pathnameBase])),route:v}),m.pathnameBase!=="/"&&(s=dd([s,m.pathnameBase]))}return a}function Bx(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,i]=b8(n.path,n.caseSensitive,n.end),r=e.match(t);if(!r)return null;let s=r[0],a=s.replace(/(.)\/+$/,"$1"),o=r.slice(1);return{params:i.reduce((u,{paramName:d,isOptional:m},v)=>{if(d==="*"){let x=o[v]||"";a=s.slice(0,s.length-x.length).replace(/(.)\/+$/,"$1")}const y=o[v];return m&&!y?u[d]=void 0:u[d]=(y||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:a,pattern:n}}function b8(n,e=!1,t=!0){pf(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let i=[],r="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,o,l)=>(i.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return n.endsWith("*")?(i.push({paramName:"*"}),r+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?r+="\\/*$":n!==""&&n!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,e?void 0:"i"),i]}function x8(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return pf(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function bd(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=n.charAt(t);return i&&i!=="/"?null:n.slice(t)||"/"}function S8(n,e="/"){let{pathname:t,search:i="",hash:r=""}=typeof n=="string"?wg(n):n;return{pathname:t?t.startsWith("/")?t:w8(t,e):e,search:M8(i),hash:A8(r)}}function w8(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(r=>{r===".."?t.length>1&&t.pop():r!=="."&&t.push(r)}),t.length>1?t.join("/"):"/"}function ZE(n,e,t,i){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function E8(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function IN(n){let e=E8(n);return e.map((t,i)=>i===e.length-1?t.pathname:t.pathnameBase)}function zN(n,e,t,i=!1){let r;typeof n=="string"?r=wg(n):(r={...n},$s(!r.pathname||!r.pathname.includes("?"),ZE("?","pathname","search",r)),$s(!r.pathname||!r.pathname.includes("#"),ZE("#","pathname","hash",r)),$s(!r.search||!r.search.includes("#"),ZE("#","search","hash",r)));let s=n===""||r.pathname==="",a=s?"/":r.pathname,o;if(a==null)o=t;else{let m=e.length-1;if(!i&&a.startsWith("..")){let v=a.split("/");for(;v[0]==="..";)v.shift(),m-=1;r.pathname=v.join("/")}o=m>=0?e[m]:"/"}let l=S8(r,o),u=a&&a!=="/"&&a.endsWith("/"),d=(s||a===".")&&t.endsWith("/");return!l.pathname.endsWith("/")&&(u||d)&&(l.pathname+="/"),l}var dd=n=>n.join("/").replace(/\/\/+/g,"/"),T8=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),M8=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,A8=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function C8(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var UN=["POST","PUT","PATCH","DELETE"];new Set(UN);var R8=["GET",...UN];new Set(R8);var Sy=z.createContext(null);Sy.displayName="DataRouter";var cw=z.createContext(null);cw.displayName="DataRouterState";z.createContext(!1);var BN=z.createContext({isTransitioning:!1});BN.displayName="ViewTransition";var O8=z.createContext(new Map);O8.displayName="Fetchers";var P8=z.createContext(null);P8.displayName="Await";var mh=z.createContext(null);mh.displayName="Navigation";var I_=z.createContext(null);I_.displayName="Location";var Td=z.createContext({outlet:null,matches:[],isDataRoute:!1});Td.displayName="Route";var VA=z.createContext(null);VA.displayName="RouteError";function D8(n,{relative:e}={}){$s(z_(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:i}=z.useContext(mh),{hash:r,pathname:s,search:a}=U_(n,{relative:e}),o=s;return t!=="/"&&(o=s==="/"?t:dd([t,s])),i.createHref({pathname:o,search:a,hash:r})}function z_(){return z.useContext(I_)!=null}function Md(){return $s(z_(),"useLocation() may be used only in the context of a <Router> component."),z.useContext(I_).location}var kN="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function HN(n){z.useContext(mh).static||z.useLayoutEffect(n)}function L8(){let{isDataRoute:n}=z.useContext(Td);return n?q8():N8()}function N8(){$s(z_(),"useNavigate() may be used only in the context of a <Router> component.");let n=z.useContext(Sy),{basename:e,navigator:t}=z.useContext(mh),{matches:i}=z.useContext(Td),{pathname:r}=Md(),s=JSON.stringify(IN(i)),a=z.useRef(!1);return HN(()=>{a.current=!0}),z.useCallback((l,u={})=>{if(pf(a.current,kN),!a.current)return;if(typeof l=="number"){t.go(l);return}let d=zN(l,JSON.parse(s),r,u.relative==="path");n==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:dd([e,d.pathname])),(u.replace?t.replace:t.push)(d,u.state,u)},[e,t,s,r,n])}z.createContext(null);function U_(n,{relative:e}={}){let{matches:t}=z.useContext(Td),{pathname:i}=Md(),r=JSON.stringify(IN(t));return z.useMemo(()=>zN(n,JSON.parse(r),i,e==="path"),[n,r,i,e])}function I8(n,e){return FN(n,e)}function FN(n,e,t,i,r){$s(z_(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=z.useContext(mh),{matches:a}=z.useContext(Td),o=a[a.length-1],l=o?o.params:{},u=o?o.pathname:"/",d=o?o.pathnameBase:"/",m=o&&o.route;{let P=m&&m.path||"";VN(u,!m||P.endsWith("*")||P.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${u}" (under <Route path="${P}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${P}"> to <Route path="${P==="/"?"*":`${P}/*`}">.`)}let v=Md(),y;if(e){let P=typeof e=="string"?wg(e):e;$s(d==="/"||P.pathname?.startsWith(d),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${d}" but pathname "${P.pathname}" was given in the \`location\` prop.`),y=P}else y=v;let x=y.pathname||"/",T=x;if(d!=="/"){let P=d.replace(/^\//,"").split("/");T="/"+x.replace(/^\//,"").split("/").slice(P.length).join("/")}let E=DN(n,{pathname:T});pf(m||E!=null,`No routes matched location "${y.pathname}${y.search}${y.hash}" `),pf(E==null||E[E.length-1].route.element!==void 0||E[E.length-1].route.Component!==void 0||E[E.length-1].route.lazy!==void 0,`Matched leaf route at location "${y.pathname}${y.search}${y.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let w=H8(E&&E.map(P=>Object.assign({},P,{params:Object.assign({},l,P.params),pathname:dd([d,s.encodeLocation?s.encodeLocation(P.pathname).pathname:P.pathname]),pathnameBase:P.pathnameBase==="/"?d:dd([d,s.encodeLocation?s.encodeLocation(P.pathnameBase).pathname:P.pathnameBase])})),a,t,i,r);return e&&w?z.createElement(I_.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...y},navigationType:"POP"}},w):w}function z8(){let n=$8(),e=C8(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,i="rgba(200,200,200, 0.5)",r={padding:"0.5rem",backgroundColor:i},s={padding:"2px 4px",backgroundColor:i},a=null;return console.error("Error handled by React Router default ErrorBoundary:",n),a=z.createElement(z.Fragment,null,z.createElement("p",null," Hey developer "),z.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",z.createElement("code",{style:s},"ErrorBoundary")," or"," ",z.createElement("code",{style:s},"errorElement")," prop on your route.")),z.createElement(z.Fragment,null,z.createElement("h2",null,"Unexpected Application Error!"),z.createElement("h3",{style:{fontStyle:"italic"}},e),t?z.createElement("pre",{style:r},t):null,a)}var U8=z.createElement(z8,null),B8=class extends z.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){this.props.unstable_onError?this.props.unstable_onError(n,e):console.error("React Router caught the following error during render",n)}render(){return this.state.error!==void 0?z.createElement(Td.Provider,{value:this.props.routeContext},z.createElement(VA.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function k8({routeContext:n,match:e,children:t}){let i=z.useContext(Sy);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),z.createElement(Td.Provider,{value:n},t)}function H8(n,e=[],t=null,i=null,r=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let s=n,a=t?.errors;if(a!=null){let u=s.findIndex(d=>d.route.id&&a?.[d.route.id]!==void 0);$s(u>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),s=s.slice(0,Math.min(s.length,u+1))}let o=!1,l=-1;if(t)for(let u=0;u<s.length;u++){let d=s[u];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(l=u),d.route.id){let{loaderData:m,errors:v}=t,y=d.route.loader&&!m.hasOwnProperty(d.route.id)&&(!v||v[d.route.id]===void 0);if(d.route.lazy||y){o=!0,l>=0?s=s.slice(0,l+1):s=[s[0]];break}}}return s.reduceRight((u,d,m)=>{let v,y=!1,x=null,T=null;t&&(v=a&&d.route.id?a[d.route.id]:void 0,x=d.route.errorElement||U8,o&&(l<0&&m===0?(VN("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),y=!0,T=null):l===m&&(y=!0,T=d.route.hydrateFallbackElement||null)));let E=e.concat(s.slice(0,m+1)),w=()=>{let P;return v?P=x:y?P=T:d.route.Component?P=z.createElement(d.route.Component,null):d.route.element?P=d.route.element:P=u,z.createElement(k8,{match:d,routeContext:{outlet:u,matches:E,isDataRoute:t!=null},children:P})};return t&&(d.route.ErrorBoundary||d.route.errorElement||m===0)?z.createElement(B8,{location:t.location,revalidation:t.revalidation,component:x,error:v,children:w(),routeContext:{outlet:null,matches:E,isDataRoute:!0},unstable_onError:i}):w()},null)}function GA(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function F8(n){let e=z.useContext(Sy);return $s(e,GA(n)),e}function V8(n){let e=z.useContext(cw);return $s(e,GA(n)),e}function G8(n){let e=z.useContext(Td);return $s(e,GA(n)),e}function jA(n){let e=G8(n),t=e.matches[e.matches.length-1];return $s(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function j8(){return jA("useRouteId")}function $8(){let n=z.useContext(VA),e=V8("useRouteError"),t=jA("useRouteError");return n!==void 0?n:e.errors?.[t]}function q8(){let{router:n}=F8("useNavigate"),e=jA("useNavigate"),t=z.useRef(!1);return HN(()=>{t.current=!0}),z.useCallback(async(r,s={})=>{pf(t.current,kN),t.current&&(typeof r=="number"?n.navigate(r):await n.navigate(r,{fromRouteId:e,...s}))},[n,e])}var D3={};function VN(n,e,t){!e&&!D3[n]&&(D3[n]=!0,pf(!1,t))}z.memo(W8);function W8({routes:n,future:e,state:t,unstable_onError:i}){return FN(n,void 0,t,i,e)}function Sp(n){$s(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function X8({basename:n="/",children:e=null,location:t,navigationType:i="POP",navigator:r,static:s=!1}){$s(!z_(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let a=n.replace(/^\/*/,"/"),o=z.useMemo(()=>({basename:a,navigator:r,static:s,future:{}}),[a,r,s]);typeof t=="string"&&(t=wg(t));let{pathname:l="/",search:u="",hash:d="",state:m=null,key:v="default"}=t,y=z.useMemo(()=>{let x=bd(l,a);return x==null?null:{location:{pathname:x,search:u,hash:d,state:m,key:v},navigationType:i}},[a,l,u,d,m,v,i]);return pf(y!=null,`<Router basename="${a}"> is not able to match the URL "${l}${u}${d}" because it does not start with the basename, so the <Router> won't render anything.`),y==null?null:z.createElement(mh.Provider,{value:o},z.createElement(I_.Provider,{children:e,value:y}))}function Y8({children:n,location:e}){return I8(p2(n),e)}function p2(n,e=[]){let t=[];return z.Children.forEach(n,(i,r)=>{if(!z.isValidElement(i))return;let s=[...e,r];if(i.type===z.Fragment){t.push.apply(t,p2(i.props.children,s));return}$s(i.type===Sp,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),$s(!i.props.index||!i.props.children,"An index route cannot have child routes.");let a={id:i.props.id||s.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(a.children=p2(i.props.children,s)),t.push(a)}),t}var Tx="get",Mx="application/x-www-form-urlencoded";function uw(n){return n!=null&&typeof n.tagName=="string"}function Z8(n){return uw(n)&&n.tagName.toLowerCase()==="button"}function K8(n){return uw(n)&&n.tagName.toLowerCase()==="form"}function Q8(n){return uw(n)&&n.tagName.toLowerCase()==="input"}function J8(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function e9(n,e){return n.button===0&&(!e||e==="_self")&&!J8(n)}var J1=null;function t9(){if(J1===null)try{new FormData(document.createElement("form"),0),J1=!1}catch{J1=!0}return J1}var n9=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function KE(n){return n!=null&&!n9.has(n)?(pf(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Mx}"`),null):n}function i9(n,e){let t,i,r,s,a;if(K8(n)){let o=n.getAttribute("action");i=o?bd(o,e):null,t=n.getAttribute("method")||Tx,r=KE(n.getAttribute("enctype"))||Mx,s=new FormData(n)}else if(Z8(n)||Q8(n)&&(n.type==="submit"||n.type==="image")){let o=n.form;if(o==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=n.getAttribute("formaction")||o.getAttribute("action");if(i=l?bd(l,e):null,t=n.getAttribute("formmethod")||o.getAttribute("method")||Tx,r=KE(n.getAttribute("formenctype"))||KE(o.getAttribute("enctype"))||Mx,s=new FormData(o,n),!t9()){let{name:u,type:d,value:m}=n;if(d==="image"){let v=u?`${u}.`:"";s.append(`${v}x`,"0"),s.append(`${v}y`,"0")}else u&&s.append(u,m)}}else{if(uw(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Tx,i=null,r=Mx,a=n}return s&&r==="text/plain"&&(a=s,s=void 0),{action:i,method:t.toLowerCase(),encType:r,formData:s,body:a}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function $A(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function r9(n,e,t){let i=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return i.pathname==="/"?i.pathname=`_root.${t}`:e&&bd(i.pathname,e)==="/"?i.pathname=`${e.replace(/\/$/,"")}/_root.${t}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${t}`,i}async function s9(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function a9(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function o9(n,e,t){let i=await Promise.all(n.map(async r=>{let s=e.routes[r.route.id];if(s){let a=await s9(s,t);return a.links?a.links():[]}return[]}));return f9(i.flat(1).filter(a9).filter(r=>r.rel==="stylesheet"||r.rel==="preload").map(r=>r.rel==="stylesheet"?{...r,rel:"prefetch",as:"style"}:{...r,rel:"prefetch"}))}function L3(n,e,t,i,r,s){let a=(l,u)=>t[u]?l.route.id!==t[u].route.id:!0,o=(l,u)=>t[u].pathname!==l.pathname||t[u].route.path?.endsWith("*")&&t[u].params["*"]!==l.params["*"];return s==="assets"?e.filter((l,u)=>a(l,u)||o(l,u)):s==="data"?e.filter((l,u)=>{let d=i.routes[l.route.id];if(!d||!d.hasLoader)return!1;if(a(l,u)||o(l,u))return!0;if(l.route.shouldRevalidate){let m=l.route.shouldRevalidate({currentUrl:new URL(r.pathname+r.search+r.hash,window.origin),currentParams:t[0]?.params||{},nextUrl:new URL(n,window.origin),nextParams:l.params,defaultShouldRevalidate:!0});if(typeof m=="boolean")return m}return!0}):[]}function l9(n,e,{includeHydrateFallback:t}={}){return c9(n.map(i=>{let r=e.routes[i.route.id];if(!r)return[];let s=[r.module];return r.clientActionModule&&(s=s.concat(r.clientActionModule)),r.clientLoaderModule&&(s=s.concat(r.clientLoaderModule)),t&&r.hydrateFallbackModule&&(s=s.concat(r.hydrateFallbackModule)),r.imports&&(s=s.concat(r.imports)),s}).flat(1))}function c9(n){return[...new Set(n)]}function u9(n){let e={},t=Object.keys(n).sort();for(let i of t)e[i]=n[i];return e}function f9(n,e){let t=new Set;return new Set(e),n.reduce((i,r)=>{let s=JSON.stringify(u9(r));return t.has(s)||(t.add(s),i.push({key:s,link:r})),i},[])}function GN(){let n=z.useContext(Sy);return $A(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function h9(){let n=z.useContext(cw);return $A(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var qA=z.createContext(void 0);qA.displayName="FrameworkContext";function jN(){let n=z.useContext(qA);return $A(n,"You must render this element inside a <HydratedRouter> element"),n}function d9(n,e){let t=z.useContext(qA),[i,r]=z.useState(!1),[s,a]=z.useState(!1),{onFocus:o,onBlur:l,onMouseEnter:u,onMouseLeave:d,onTouchStart:m}=e,v=z.useRef(null);z.useEffect(()=>{if(n==="render"&&a(!0),n==="viewport"){let T=w=>{w.forEach(P=>{a(P.isIntersecting)})},E=new IntersectionObserver(T,{threshold:.5});return v.current&&E.observe(v.current),()=>{E.disconnect()}}},[n]),z.useEffect(()=>{if(i){let T=setTimeout(()=>{a(!0)},100);return()=>{clearTimeout(T)}}},[i]);let y=()=>{r(!0)},x=()=>{r(!1),a(!1)};return t?n!=="intent"?[s,v,{}]:[s,v,{onFocus:u0(o,y),onBlur:u0(l,x),onMouseEnter:u0(u,y),onMouseLeave:u0(d,x),onTouchStart:u0(m,y)}]:[!1,v,{}]}function u0(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function p9({page:n,...e}){let{router:t}=GN(),i=z.useMemo(()=>DN(t.routes,n,t.basename),[t.routes,n,t.basename]);return i?z.createElement(g9,{page:n,matches:i,...e}):null}function m9(n){let{manifest:e,routeModules:t}=jN(),[i,r]=z.useState([]);return z.useEffect(()=>{let s=!1;return o9(n,e,t).then(a=>{s||r(a)}),()=>{s=!0}},[n,e,t]),i}function g9({page:n,matches:e,...t}){let i=Md(),{manifest:r,routeModules:s}=jN(),{basename:a}=GN(),{loaderData:o,matches:l}=h9(),u=z.useMemo(()=>L3(n,e,l,r,i,"data"),[n,e,l,r,i]),d=z.useMemo(()=>L3(n,e,l,r,i,"assets"),[n,e,l,r,i]),m=z.useMemo(()=>{if(n===i.pathname+i.search+i.hash)return[];let x=new Set,T=!1;if(e.forEach(w=>{let P=r.routes[w.route.id];!P||!P.hasLoader||(!u.some(D=>D.route.id===w.route.id)&&w.route.id in o&&s[w.route.id]?.shouldRevalidate||P.hasClientLoader?T=!0:x.add(w.route.id))}),x.size===0)return[];let E=r9(n,a,"data");return T&&x.size>0&&E.searchParams.set("_routes",e.filter(w=>x.has(w.route.id)).map(w=>w.route.id).join(",")),[E.pathname+E.search]},[a,o,i,r,u,e,n,s]),v=z.useMemo(()=>l9(d,r),[d,r]),y=m9(d);return z.createElement(z.Fragment,null,m.map(x=>z.createElement("link",{key:x,rel:"prefetch",as:"fetch",href:x,...t})),v.map(x=>z.createElement("link",{key:x,rel:"modulepreload",href:x,...t})),y.map(({key:x,link:T})=>z.createElement("link",{key:x,nonce:t.nonce,...T})))}function v9(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var $N=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{$N&&(window.__reactRouterVersion="7.9.1")}catch{}function y9({basename:n,children:e,window:t}){let i=z.useRef();i.current==null&&(i.current=s8({window:t,v5Compat:!0}));let r=i.current,[s,a]=z.useState({action:r.action,location:r.location}),o=z.useCallback(l=>{z.startTransition(()=>a(l))},[a]);return z.useLayoutEffect(()=>r.listen(o),[r,o]),z.createElement(X8,{basename:n,children:e,location:s.location,navigationType:s.action,navigator:r})}var qN=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ar=z.forwardRef(function({onClick:e,discover:t="render",prefetch:i="none",relative:r,reloadDocument:s,replace:a,state:o,target:l,to:u,preventScrollReset:d,viewTransition:m,...v},y){let{basename:x}=z.useContext(mh),T=typeof u=="string"&&qN.test(u),E,w=!1;if(typeof u=="string"&&T&&(E=u,$N))try{let V=new URL(window.location.href),H=u.startsWith("//")?new URL(V.protocol+u):new URL(u),ee=bd(H.pathname,x);H.origin===V.origin&&ee!=null?u=ee+H.search+H.hash:w=!0}catch{pf(!1,`<Link to="${u}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let P=D8(u,{relative:r}),[D,N,G]=d9(i,v),k=x9(u,{replace:a,state:o,target:l,preventScrollReset:d,relative:r,viewTransition:m});function M(V){e&&e(V),V.defaultPrevented||k(V)}let $=z.createElement("a",{...v,...G,href:E||P,onClick:w||s?e:M,ref:v9(y,N),target:l,"data-discover":!T&&t==="render"?"true":void 0});return D&&!T?z.createElement(z.Fragment,null,$,z.createElement(p9,{page:P})):$});Ar.displayName="Link";var Ax=z.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:i="",end:r=!1,style:s,to:a,viewTransition:o,children:l,...u},d){let m=U_(a,{relative:u.relative}),v=Md(),y=z.useContext(cw),{navigator:x,basename:T}=z.useContext(mh),E=y!=null&&M9(m)&&o===!0,w=x.encodeLocation?x.encodeLocation(m).pathname:m.pathname,P=v.pathname,D=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;t||(P=P.toLowerCase(),D=D?D.toLowerCase():null,w=w.toLowerCase()),D&&T&&(D=bd(D,T)||D);const N=w!=="/"&&w.endsWith("/")?w.length-1:w.length;let G=P===w||!r&&P.startsWith(w)&&P.charAt(N)==="/",k=D!=null&&(D===w||!r&&D.startsWith(w)&&D.charAt(w.length)==="/"),M={isActive:G,isPending:k,isTransitioning:E},$=G?e:void 0,V;typeof i=="function"?V=i(M):V=[i,G?"active":null,k?"pending":null,E?"transitioning":null].filter(Boolean).join(" ");let H=typeof s=="function"?s(M):s;return z.createElement(Ar,{...u,"aria-current":$,className:V,ref:d,style:H,to:a,viewTransition:o},typeof l=="function"?l(M):l)});Ax.displayName="NavLink";var _9=z.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:i,replace:r,state:s,method:a=Tx,action:o,onSubmit:l,relative:u,preventScrollReset:d,viewTransition:m,...v},y)=>{let x=E9(),T=T9(o,{relative:u}),E=a.toLowerCase()==="get"?"get":"post",w=typeof o=="string"&&qN.test(o),P=D=>{if(l&&l(D),D.defaultPrevented)return;D.preventDefault();let N=D.nativeEvent.submitter,G=N?.getAttribute("formmethod")||a;x(N||D.currentTarget,{fetcherKey:e,method:G,navigate:t,replace:r,state:s,relative:u,preventScrollReset:d,viewTransition:m})};return z.createElement("form",{ref:y,method:E,action:T,onSubmit:i?l:P,...v,"data-discover":!w&&n==="render"?"true":void 0})});_9.displayName="Form";function b9(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function WN(n){let e=z.useContext(Sy);return $s(e,b9(n)),e}function x9(n,{target:e,replace:t,state:i,preventScrollReset:r,relative:s,viewTransition:a}={}){let o=L8(),l=Md(),u=U_(n,{relative:s});return z.useCallback(d=>{if(e9(d,e)){d.preventDefault();let m=t!==void 0?t:a_(l)===a_(u);o(n,{replace:m,state:i,preventScrollReset:r,relative:s,viewTransition:a})}},[l,o,u,t,i,e,n,r,s,a])}var S9=0,w9=()=>`__${String(++S9)}__`;function E9(){let{router:n}=WN("useSubmit"),{basename:e}=z.useContext(mh),t=j8();return z.useCallback(async(i,r={})=>{let{action:s,method:a,encType:o,formData:l,body:u}=i9(i,e);if(r.navigate===!1){let d=r.fetcherKey||w9();await n.fetch(d,t,r.action||s,{preventScrollReset:r.preventScrollReset,formData:l,body:u,formMethod:r.method||a,formEncType:r.encType||o,flushSync:r.flushSync})}else await n.navigate(r.action||s,{preventScrollReset:r.preventScrollReset,formData:l,body:u,formMethod:r.method||a,formEncType:r.encType||o,replace:r.replace,state:r.state,fromRouteId:t,flushSync:r.flushSync,viewTransition:r.viewTransition})},[n,e,t])}function T9(n,{relative:e}={}){let{basename:t}=z.useContext(mh),i=z.useContext(Td);$s(i,"useFormAction must be used inside a RouteContext");let[r]=i.matches.slice(-1),s={...U_(n||".",{relative:e})},a=Md();if(n==null){s.search=a.search;let o=new URLSearchParams(s.search),l=o.getAll("index");if(l.some(d=>d==="")){o.delete("index"),l.filter(m=>m).forEach(m=>o.append("index",m));let d=o.toString();s.search=d?`?${d}`:""}}return(!n||n===".")&&r.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(s.pathname=s.pathname==="/"?t:dd([t,s.pathname])),a_(s)}function M9(n,{relative:e}={}){let t=z.useContext(BN);$s(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=WN("useViewTransitionState"),r=U_(n,{relative:e});if(!t.isTransitioning)return!1;let s=bd(t.currentLocation.pathname,i)||t.currentLocation.pathname,a=bd(t.nextLocation.pathname,i)||t.nextLocation.pathname;return Bx(r.pathname,a)!=null||Bx(r.pathname,s)!=null}var fw=ON();const Zm=Ru(fw);var QE={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var N3;function A9(){return N3||(N3=1,(function(n){(function(){var e={}.hasOwnProperty;function t(){for(var s="",a=0;a<arguments.length;a++){var o=arguments[a];o&&(s=r(s,i(o)))}return s}function i(s){if(typeof s=="string"||typeof s=="number")return s;if(typeof s!="object")return"";if(Array.isArray(s))return t.apply(null,s);if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]"))return s.toString();var a="";for(var o in s)e.call(s,o)&&s[o]&&(a=r(a,o));return a}function r(s,a){return a?s?s+" "+a:s+a:s}n.exports?(t.default=t,n.exports=t):window.classNames=t})()})(QE)),QE.exports}var C9=A9();const va=Ru(C9);function ds(){return ds=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},ds.apply(null,arguments)}function XN(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)!==-1)continue;t[i]=n[i]}return t}function I3(n){return"default"+n.charAt(0).toUpperCase()+n.substr(1)}function R9(n){var e=O9(n,"string");return typeof e=="symbol"?e:String(e)}function O9(n,e){if(typeof n!="object"||n===null)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}function P9(n,e,t){var i=z.useRef(n!==void 0),r=z.useState(e),s=r[0],a=r[1],o=n!==void 0,l=i.current;return i.current=o,!o&&l&&s!==e&&a(e),[o?n:s,z.useCallback(function(u){for(var d=arguments.length,m=new Array(d>1?d-1:0),v=1;v<d;v++)m[v-1]=arguments[v];t&&t.apply(void 0,[u].concat(m)),a(u)},[t])]}function YN(n,e){return Object.keys(e).reduce(function(t,i){var r,s=t,a=s[I3(i)],o=s[i],l=XN(s,[I3(i),i].map(R9)),u=e[i],d=P9(o,a,n[u]),m=d[0],v=d[1];return ds({},l,(r={},r[i]=m,r[u]=v,r))},n)}function m2(n,e){return m2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,i){return t.__proto__=i,t},m2(n,e)}function D9(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,m2(n,e)}const L9=["xxl","xl","lg","md","sm","xs"],N9="xs",hw=z.createContext({prefixes:{},breakpoints:L9,minBreakpoint:N9}),{Consumer:X0e,Provider:Y0e}=hw;function nl(n,e){const{prefixes:t}=z.useContext(hw);return n||t[e]||e}function ZN(){const{breakpoints:n}=z.useContext(hw);return n}function KN(){const{minBreakpoint:n}=z.useContext(hw);return n}function WA(n){return n&&n.ownerDocument||document}function I9(n){var e=WA(n);return e&&e.defaultView||window}function z9(n,e){return I9(n).getComputedStyle(n,e)}var U9=/([A-Z])/g;function B9(n){return n.replace(U9,"-$1").toLowerCase()}var k9=/^ms-/;function eb(n){return B9(n).replace(k9,"-ms-")}var H9=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function F9(n){return!!(n&&H9.test(n))}function pd(n,e){var t="",i="";if(typeof e=="string")return n.style.getPropertyValue(eb(e))||z9(n).getPropertyValue(eb(e));Object.keys(e).forEach(function(r){var s=e[r];!s&&s!==0?n.style.removeProperty(eb(r)):F9(r)?i+=r+"("+s+") ":t+=eb(r)+": "+s+";"}),i&&(t+="transform: "+i+";"),n.style.cssText+=";"+t}var JE={exports:{}},eT,z3;function V9(){if(z3)return eT;z3=1;var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return eT=n,eT}var tT,U3;function G9(){if(U3)return tT;U3=1;var n=V9();function e(){}function t(){}return t.resetWarningCache=e,tT=function(){function i(a,o,l,u,d,m){if(m!==n){var v=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw v.name="Invariant Violation",v}}i.isRequired=i;function r(){return i}var s={array:i,bigint:i,bool:i,func:i,number:i,object:i,string:i,symbol:i,any:i,arrayOf:r,element:i,elementType:i,instanceOf:r,node:i,objectOf:r,oneOf:r,oneOfType:r,shape:r,exact:r,checkPropTypes:t,resetWarningCache:e};return s.PropTypes=s,s},tT}var B3;function j9(){return B3||(B3=1,JE.exports=G9()()),JE.exports}var $9=j9();const Tn=Ru($9),k3={disabled:!1},QN=Se.createContext(null);var q9=function(e){return e.scrollTop},z0="unmounted",Ep="exited",sf="entering",sd="entered",o_="exiting",Ad=(function(n){D9(e,n);function e(i,r){var s;s=n.call(this,i,r)||this;var a=r,o=a&&!a.isMounting?i.enter:i.appear,l;return s.appearStatus=null,i.in?o?(l=Ep,s.appearStatus=sf):l=sd:i.unmountOnExit||i.mountOnEnter?l=z0:l=Ep,s.state={status:l},s.nextCallback=null,s}e.getDerivedStateFromProps=function(r,s){var a=r.in;return a&&s.status===z0?{status:Ep}:null};var t=e.prototype;return t.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},t.componentDidUpdate=function(r){var s=null;if(r!==this.props){var a=this.state.status;this.props.in?a!==sf&&a!==sd&&(s=sf):(a===sf||a===sd)&&(s=o_)}this.updateStatus(!1,s)},t.componentWillUnmount=function(){this.cancelNextCallback()},t.getTimeouts=function(){var r=this.props.timeout,s,a,o;return s=a=o=r,r!=null&&typeof r!="number"&&(s=r.exit,a=r.enter,o=r.appear!==void 0?r.appear:a),{exit:s,enter:a,appear:o}},t.updateStatus=function(r,s){if(r===void 0&&(r=!1),s!==null)if(this.cancelNextCallback(),s===sf){if(this.props.unmountOnExit||this.props.mountOnEnter){var a=this.props.nodeRef?this.props.nodeRef.current:Zm.findDOMNode(this);a&&q9(a)}this.performEnter(r)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Ep&&this.setState({status:z0})},t.performEnter=function(r){var s=this,a=this.props.enter,o=this.context?this.context.isMounting:r,l=this.props.nodeRef?[o]:[Zm.findDOMNode(this),o],u=l[0],d=l[1],m=this.getTimeouts(),v=o?m.appear:m.enter;if(!r&&!a||k3.disabled){this.safeSetState({status:sd},function(){s.props.onEntered(u)});return}this.props.onEnter(u,d),this.safeSetState({status:sf},function(){s.props.onEntering(u,d),s.onTransitionEnd(v,function(){s.safeSetState({status:sd},function(){s.props.onEntered(u,d)})})})},t.performExit=function(){var r=this,s=this.props.exit,a=this.getTimeouts(),o=this.props.nodeRef?void 0:Zm.findDOMNode(this);if(!s||k3.disabled){this.safeSetState({status:Ep},function(){r.props.onExited(o)});return}this.props.onExit(o),this.safeSetState({status:o_},function(){r.props.onExiting(o),r.onTransitionEnd(a.exit,function(){r.safeSetState({status:Ep},function(){r.props.onExited(o)})})})},t.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},t.safeSetState=function(r,s){s=this.setNextCallback(s),this.setState(r,s)},t.setNextCallback=function(r){var s=this,a=!0;return this.nextCallback=function(o){a&&(a=!1,s.nextCallback=null,r(o))},this.nextCallback.cancel=function(){a=!1},this.nextCallback},t.onTransitionEnd=function(r,s){this.setNextCallback(s);var a=this.props.nodeRef?this.props.nodeRef.current:Zm.findDOMNode(this),o=r==null&&!this.props.addEndListener;if(!a||o){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var l=this.props.nodeRef?[this.nextCallback]:[a,this.nextCallback],u=l[0],d=l[1];this.props.addEndListener(u,d)}r!=null&&setTimeout(this.nextCallback,r)},t.render=function(){var r=this.state.status;if(r===z0)return null;var s=this.props,a=s.children;s.in,s.mountOnEnter,s.unmountOnExit,s.appear,s.enter,s.exit,s.timeout,s.addEndListener,s.onEnter,s.onEntering,s.onEntered,s.onExit,s.onExiting,s.onExited,s.nodeRef;var o=XN(s,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return Se.createElement(QN.Provider,{value:null},typeof a=="function"?a(r,o):Se.cloneElement(Se.Children.only(a),o))},e})(Se.Component);Ad.contextType=QN;Ad.propTypes={};function sv(){}Ad.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:sv,onEntering:sv,onEntered:sv,onExit:sv,onExiting:sv,onExited:sv};Ad.UNMOUNTED=z0;Ad.EXITED=Ep;Ad.ENTERING=sf;Ad.ENTERED=sd;Ad.EXITING=o_;function W9(n){return n.code==="Escape"||n.keyCode===27}function X9(){const n=z.version.split(".");return{major:+n[0],minor:+n[1],patch:+n[2]}}function wy(n){if(!n||typeof n=="function")return null;const{major:e}=X9();return e>=19?n.props.ref:n.ref}const dw=!!(typeof window<"u"&&window.document&&window.document.createElement);var g2=!1,v2=!1;try{var nT={get passive(){return g2=!0},get once(){return v2=g2=!0}};dw&&(window.addEventListener("test",nT,nT),window.removeEventListener("test",nT,!0))}catch{}function Y9(n,e,t,i){if(i&&typeof i!="boolean"&&!v2){var r=i.once,s=i.capture,a=t;!v2&&r&&(a=t.__once||function o(l){this.removeEventListener(e,o,s),t.call(this,l)},t.__once=a),n.addEventListener(e,a,g2?i:s)}n.addEventListener(e,t,i)}function Z9(n,e,t,i){var r=i&&typeof i!="boolean"?i.capture:i;n.removeEventListener(e,t,r),t.__once&&n.removeEventListener(e,t.__once,r)}function kx(n,e,t,i){return Y9(n,e,t,i),function(){Z9(n,e,t,i)}}function K9(n,e,t,i){if(i===void 0&&(i=!0),n){var r=document.createEvent("HTMLEvents");r.initEvent(e,t,i),n.dispatchEvent(r)}}function Q9(n){var e=pd(n,"transitionDuration")||"",t=e.indexOf("ms")===-1?1e3:1;return parseFloat(e)*t}function J9(n,e,t){t===void 0&&(t=5);var i=!1,r=setTimeout(function(){i||K9(n,"transitionend",!0)},e+t),s=kx(n,"transitionend",function(){i=!0},{once:!0});return function(){clearTimeout(r),s()}}function eH(n,e,t,i){t==null&&(t=Q9(n)||0);var r=J9(n,t,i),s=kx(n,"transitionend",e);return function(){r(),s()}}function H3(n,e){const t=pd(n,e)||"",i=t.indexOf("ms")===-1?1e3:1;return parseFloat(t)*i}function XA(n,e){const t=H3(n,"transitionDuration"),i=H3(n,"transitionDelay"),r=eH(n,s=>{s.target===n&&(r(),e(s))},t+i)}function f0(...n){return n.filter(e=>e!=null).reduce((e,t)=>{if(typeof t!="function")throw new Error("Invalid Argument Type, must only provide functions, undefined, or null.");return e===null?t:function(...r){e.apply(this,r),t.apply(this,r)}},null)}function JN(n){n.offsetHeight}const F3=n=>!n||typeof n=="function"?n:e=>{n.current=e};function tH(n,e){const t=F3(n),i=F3(e);return r=>{t&&t(r),i&&i(r)}}function nH(n,e){return z.useMemo(()=>tH(n,e),[n,e])}function iH(n){return n&&"setState"in n?Zm.findDOMNode(n):n??null}const pw=Se.forwardRef(({onEnter:n,onEntering:e,onEntered:t,onExit:i,onExiting:r,onExited:s,addEndListener:a,children:o,childRef:l,...u},d)=>{const m=z.useRef(null),v=nH(m,l),y=k=>{v(iH(k))},x=k=>M=>{k&&m.current&&k(m.current,M)},T=z.useCallback(x(n),[n]),E=z.useCallback(x(e),[e]),w=z.useCallback(x(t),[t]),P=z.useCallback(x(i),[i]),D=z.useCallback(x(r),[r]),N=z.useCallback(x(s),[s]),G=z.useCallback(x(a),[a]);return ue.jsx(Ad,{ref:d,...u,onEnter:T,onEntered:w,onEntering:E,onExit:P,onExited:N,onExiting:D,addEndListener:G,nodeRef:m,children:typeof o=="function"?(k,M)=>o(k,{...M,ref:y}):Se.cloneElement(o,{ref:y})})});pw.displayName="TransitionWrapper";const rH={height:["marginTop","marginBottom"],width:["marginLeft","marginRight"]};function sH(n,e){const t=`offset${n[0].toUpperCase()}${n.slice(1)}`,i=e[t],r=rH[n];return i+parseInt(pd(e,r[0]),10)+parseInt(pd(e,r[1]),10)}const aH={[Ep]:"collapse",[o_]:"collapsing",[sf]:"collapsing",[sd]:"collapse show"},e5=Se.forwardRef(({onEnter:n,onEntering:e,onEntered:t,onExit:i,onExiting:r,className:s,children:a,dimension:o="height",in:l=!1,timeout:u=300,mountOnEnter:d=!1,unmountOnExit:m=!1,appear:v=!1,getDimensionValue:y=sH,...x},T)=>{const E=typeof o=="function"?o():o,w=z.useMemo(()=>f0(k=>{k.style[E]="0"},n),[E,n]),P=z.useMemo(()=>f0(k=>{const M=`scroll${E[0].toUpperCase()}${E.slice(1)}`;k.style[E]=`${k[M]}px`},e),[E,e]),D=z.useMemo(()=>f0(k=>{k.style[E]=null},t),[E,t]),N=z.useMemo(()=>f0(k=>{k.style[E]=`${y(E,k)}px`,JN(k)},i),[i,y,E]),G=z.useMemo(()=>f0(k=>{k.style[E]=null},r),[E,r]);return ue.jsx(pw,{ref:T,addEndListener:XA,...x,"aria-expanded":x.role?l:null,onEnter:w,onEntering:P,onEntered:D,onExit:N,onExiting:G,childRef:wy(a),in:l,timeout:u,mountOnEnter:d,unmountOnExit:m,appear:v,children:(k,M)=>Se.cloneElement(a,{...M,className:va(s,a.props.className,aH[k],E==="width"&&"collapse-horizontal")})})});e5.displayName="Collapse";function oH(n){const e=z.useRef(n);return z.useEffect(()=>{e.current=n},[n]),e}function mw(n){const e=oH(n);return z.useCallback(function(...t){return e.current&&e.current(...t)},[e])}const lH=(n=>z.forwardRef((e,t)=>ue.jsx("div",{...e,ref:t,className:va(e.className,n)})));function cH(n){const e=z.useRef(n);return z.useEffect(()=>{e.current=n},[n]),e}function ad(n){const e=cH(n);return z.useCallback(function(...t){return e.current&&e.current(...t)},[e])}function uH(){const n=z.useRef(!0),e=z.useRef(()=>n.current);return z.useEffect(()=>(n.current=!0,()=>{n.current=!1}),[]),e.current}function fH(n){const e=z.useRef(null);return z.useEffect(()=>{e.current=n}),e.current}const hH=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",dH=typeof document<"u",V3=dH||hH?z.useLayoutEffect:z.useEffect,pH=["as","disabled"];function mH(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)>=0)continue;t[i]=n[i]}return t}function gH(n){return!n||n.trim()==="#"}function t5({tagName:n,disabled:e,href:t,target:i,rel:r,role:s,onClick:a,tabIndex:o=0,type:l}){n||(t!=null||i!=null||r!=null?n="a":n="button");const u={tagName:n};if(n==="button")return[{type:l||"button",disabled:e},u];const d=v=>{if((e||n==="a"&&gH(t))&&v.preventDefault(),e){v.stopPropagation();return}a?.(v)},m=v=>{v.key===" "&&(v.preventDefault(),d(v))};return n==="a"&&(t||(t="#"),e&&(t=void 0)),[{role:s??"button",disabled:void 0,tabIndex:e?void 0:o,href:t,target:n==="a"?i:void 0,"aria-disabled":e||void 0,rel:n==="a"?r:void 0,onClick:d,onKeyDown:m},u]}const n5=z.forwardRef((n,e)=>{let{as:t,disabled:i}=n,r=mH(n,pH);const[s,{tagName:a}]=t5(Object.assign({tagName:t,disabled:i},r));return ue.jsx(a,Object.assign({},r,s,{ref:e}))});n5.displayName="Button";const vH=["onKeyDown"];function yH(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)>=0)continue;t[i]=n[i]}return t}function _H(n){return!n||n.trim()==="#"}const i5=z.forwardRef((n,e)=>{let{onKeyDown:t}=n,i=yH(n,vH);const[r]=t5(Object.assign({tagName:"a"},i)),s=ad(a=>{r.onKeyDown(a),t?.(a)});return _H(i.href)||i.role==="button"?ue.jsx("a",Object.assign({ref:e},i,r,{onKeyDown:s})):ue.jsx("a",Object.assign({ref:e},i,{onKeyDown:t}))});i5.displayName="Anchor";const bH={[sf]:"show",[sd]:"show"},r5=z.forwardRef(({className:n,children:e,transitionClasses:t={},onEnter:i,...r},s)=>{const a={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,...r},o=z.useCallback((l,u)=>{JN(l),i?.(l,u)},[i]);return ue.jsx(pw,{ref:s,addEndListener:XA,...a,onEnter:o,childRef:wy(e),children:(l,u)=>z.cloneElement(e,{...u,className:va("fade",n,e.props.className,bH[l],t[l])})})});r5.displayName="Fade";const xH={"aria-label":Tn.string,onClick:Tn.func,variant:Tn.oneOf(["white"])},YA=z.forwardRef(({className:n,variant:e,"aria-label":t="Close",...i},r)=>ue.jsx("button",{ref:r,type:"button",className:va("btn-close",e&&`btn-close-${e}`,n),"aria-label":t,...i}));YA.displayName="CloseButton";YA.propTypes=xH;const s5=z.createContext(null);s5.displayName="CardHeaderContext";function SH({as:n,bsPrefix:e,className:t,...i}){e=nl(e,"col");const r=ZN(),s=KN(),a=[],o=[];return r.forEach(l=>{const u=i[l];delete i[l];let d,m,v;typeof u=="object"&&u!=null?{span:d,offset:m,order:v}=u:d=u;const y=l!==s?`-${l}`:"";d&&a.push(d===!0?`${e}${y}`:`${e}${y}-${d}`),v!=null&&o.push(`order${y}-${v}`),m!=null&&o.push(`offset${y}-${m}`)}),[{...i,className:va(t,...a,...o)},{as:n,bsPrefix:e,spans:a}]}const so=z.forwardRef((n,e)=>{const[{className:t,...i},{as:r="div",bsPrefix:s,spans:a}]=SH(n);return ue.jsx(r,{...i,ref:e,className:va(t,!a.length&&s)})});so.displayName="Col";const a5=z.forwardRef(({bsPrefix:n,fluid:e=!1,as:t="div",className:i,...r},s)=>{const a=nl(n,"container"),o=typeof e=="string"?`-${e}`:"-fluid";return ue.jsx(t,{ref:s,...r,className:va(i,e?`${a}${o}`:a)})});a5.displayName="Container";var wH=Function.prototype.bind.call(Function.prototype.call,[].slice);function Fm(n,e){return wH(n.querySelectorAll(e))}function EH(){const[,n]=z.useReducer(e=>e+1,0);return n}function G3(n,e){if(n.contains)return n.contains(e);if(n.compareDocumentPosition)return n===e||!!(n.compareDocumentPosition(e)&16)}const Hx=z.createContext(null),ZA=(n,e=null)=>n!=null?String(n):e||null,KA=z.createContext(null);KA.displayName="NavContext";const TH="data-rr-ui-",MH="rrUi";function gw(n){return`${TH}${n}`}function AH(n){return`${MH}${n}`}const o5=z.createContext(dw?window:void 0);o5.Provider;function QA(){return z.useContext(o5)}const CH=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",RH=typeof document<"u",OH=RH||CH?z.useLayoutEffect:z.useEffect,Ey=z.createContext(null);Ey.displayName="NavbarContext";const j3=n=>!n||typeof n=="function"?n:e=>{n.current=e};function PH(n,e){const t=j3(n),i=j3(e);return r=>{t&&t(r),i&&i(r)}}function vw(n,e){return z.useMemo(()=>PH(n,e),[n,e])}const l5=z.createContext(null),DH=["as","active","eventKey"];function LH(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)>=0)continue;t[i]=n[i]}return t}function c5({key:n,onClick:e,active:t,id:i,role:r,disabled:s}){const a=z.useContext(Hx),o=z.useContext(KA),l=z.useContext(l5);let u=t;const d={role:r};if(o){!r&&o.role==="tablist"&&(d.role="tab");const m=o.getControllerId(n??null),v=o.getControlledId(n??null);d[gw("event-key")]=n,d.id=m||i,u=t==null&&n!=null?o.activeKey===n:t,(u||!(l!=null&&l.unmountOnExit)&&!(l!=null&&l.mountOnEnter))&&(d["aria-controls"]=v)}return d.role==="tab"&&(d["aria-selected"]=u,u||(d.tabIndex=-1),s&&(d.tabIndex=-1,d["aria-disabled"]=!0)),d.onClick=ad(m=>{s||(e?.(m),n!=null&&a&&!m.isPropagationStopped()&&a(n,m))}),[d,{isActive:u}]}const u5=z.forwardRef((n,e)=>{let{as:t=n5,active:i,eventKey:r}=n,s=LH(n,DH);const[a,o]=c5(Object.assign({key:ZA(r,s.href),active:i},s));return a[gw("active")]=o.isActive,ue.jsx(t,Object.assign({},s,a,{ref:e}))});u5.displayName="NavItem";const NH=["as","onSelect","activeKey","role","onKeyDown"];function IH(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)>=0)continue;t[i]=n[i]}return t}const $3=()=>{},q3=gw("event-key"),f5=z.forwardRef((n,e)=>{let{as:t="div",onSelect:i,activeKey:r,role:s,onKeyDown:a}=n,o=IH(n,NH);const l=EH(),u=z.useRef(!1),d=z.useContext(Hx),m=z.useContext(l5);let v,y;m&&(s=s||"tablist",r=m.activeKey,v=m.getControlledId,y=m.getControllerId);const x=z.useRef(null),T=D=>{const N=x.current;if(!N)return null;const G=Fm(N,`[${q3}]:not([aria-disabled=true])`),k=N.querySelector("[aria-selected=true]");if(!k||k!==document.activeElement)return null;const M=G.indexOf(k);if(M===-1)return null;let $=M+D;return $>=G.length&&($=0),$<0&&($=G.length-1),G[$]},E=(D,N)=>{D!=null&&(i?.(D,N),d?.(D,N))},w=D=>{if(a?.(D),!m)return;let N;switch(D.key){case"ArrowLeft":case"ArrowUp":N=T(-1);break;case"ArrowRight":case"ArrowDown":N=T(1);break;default:return}N&&(D.preventDefault(),E(N.dataset[AH("EventKey")]||null,D),u.current=!0,l())};z.useEffect(()=>{if(x.current&&u.current){const D=x.current.querySelector(`[${q3}][aria-selected=true]`);D?.focus()}u.current=!1});const P=vw(e,x);return ue.jsx(Hx.Provider,{value:E,children:ue.jsx(KA.Provider,{value:{role:s,activeKey:ZA(r),getControlledId:v||$3,getControllerId:y||$3},children:ue.jsx(t,Object.assign({},o,{onKeyDown:w,ref:P,role:s}))})})});f5.displayName="Nav";const zH=Object.assign(f5,{Item:u5});function iT(n){n===void 0&&(n=WA());try{var e=n.activeElement;return!e||!e.nodeName?null:e}catch{return n.body}}function UH(n){const e=z.useRef(n);return e.current=n,e}function BH(n){const e=UH(n);z.useEffect(()=>()=>e.current(),[])}function kH(n=document){const e=n.defaultView;return Math.abs(e.innerWidth-n.documentElement.clientWidth)}const W3=gw("modal-open");class JA{constructor({ownerDocument:e,handleContainerOverflow:t=!0,isRTL:i=!1}={}){this.handleContainerOverflow=t,this.isRTL=i,this.modals=[],this.ownerDocument=e}getScrollbarWidth(){return kH(this.ownerDocument)}getElement(){return(this.ownerDocument||document).body}setModalAttributes(e){}removeModalAttributes(e){}setContainerStyle(e){const t={overflow:"hidden"},i=this.isRTL?"paddingLeft":"paddingRight",r=this.getElement();e.style={overflow:r.style.overflow,[i]:r.style[i]},e.scrollBarWidth&&(t[i]=`${parseInt(pd(r,i)||"0",10)+e.scrollBarWidth}px`),r.setAttribute(W3,""),pd(r,t)}reset(){[...this.modals].forEach(e=>this.remove(e))}removeContainerStyle(e){const t=this.getElement();t.removeAttribute(W3),Object.assign(t.style,e.style)}add(e){let t=this.modals.indexOf(e);return t!==-1||(t=this.modals.length,this.modals.push(e),this.setModalAttributes(e),t!==0)||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),t}remove(e){const t=this.modals.indexOf(e);t!==-1&&(this.modals.splice(t,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(e))}isTopModal(e){return!!this.modals.length&&this.modals[this.modals.length-1]===e}}const rT=(n,e)=>dw?n==null?(e||WA()).body:(typeof n=="function"&&(n=n()),n&&"current"in n&&(n=n.current),n&&("nodeType"in n||n.getBoundingClientRect)?n:null):null;function HH(n,e){const t=QA(),[i,r]=z.useState(()=>rT(n,t?.document));if(!i){const s=rT(n);s&&r(s)}return z.useEffect(()=>{},[e,i]),z.useEffect(()=>{const s=rT(n);s!==i&&r(s)},[n,i]),i}function FH({children:n,in:e,onExited:t,mountOnEnter:i,unmountOnExit:r}){const s=z.useRef(null),a=z.useRef(e),o=ad(t);z.useEffect(()=>{e?a.current=!0:o(s.current)},[e,o]);const l=vw(s,wy(n)),u=z.cloneElement(n,{ref:l});return e?u:r||!a.current&&i?null:u}const VH=["onEnter","onEntering","onEntered","onExit","onExiting","onExited","addEndListener","children"];function GH(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)>=0)continue;t[i]=n[i]}return t}function jH(n){let{onEnter:e,onEntering:t,onEntered:i,onExit:r,onExiting:s,onExited:a,addEndListener:o,children:l}=n,u=GH(n,VH);const d=z.useRef(null),m=vw(d,wy(l)),v=N=>G=>{N&&d.current&&N(d.current,G)},y=z.useCallback(v(e),[e]),x=z.useCallback(v(t),[t]),T=z.useCallback(v(i),[i]),E=z.useCallback(v(r),[r]),w=z.useCallback(v(s),[s]),P=z.useCallback(v(a),[a]),D=z.useCallback(v(o),[o]);return Object.assign({},u,{nodeRef:d},e&&{onEnter:y},t&&{onEntering:x},i&&{onEntered:T},r&&{onExit:E},s&&{onExiting:w},a&&{onExited:P},o&&{addEndListener:D},{children:typeof l=="function"?(N,G)=>l(N,Object.assign({},G,{ref:m})):z.cloneElement(l,{ref:m})})}const $H=["component"];function qH(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)>=0)continue;t[i]=n[i]}return t}const WH=z.forwardRef((n,e)=>{let{component:t}=n,i=qH(n,$H);const r=jH(i);return ue.jsx(t,Object.assign({ref:e},r))});function XH({in:n,onTransition:e}){const t=z.useRef(null),i=z.useRef(!0),r=ad(e);return V3(()=>{if(!t.current)return;let s=!1;return r({in:n,element:t.current,initial:i.current,isStale:()=>s}),()=>{s=!0}},[n,r]),V3(()=>(i.current=!1,()=>{i.current=!0}),[]),t}function YH({children:n,in:e,onExited:t,onEntered:i,transition:r}){const[s,a]=z.useState(!e);e&&s&&a(!1);const o=XH({in:!!e,onTransition:u=>{const d=()=>{u.isStale()||(u.in?i?.(u.element,u.initial):(a(!0),t?.(u.element)))};Promise.resolve(r(u)).then(d,m=>{throw u.in||a(!0),m})}}),l=vw(o,wy(n));return s&&!e?null:z.cloneElement(n,{ref:l})}function X3(n,e,t){return n?ue.jsx(WH,Object.assign({},t,{component:n})):e?ue.jsx(YH,Object.assign({},t,{transition:e})):ue.jsx(FH,Object.assign({},t))}const ZH=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","runTransition","backdropTransition","runBackdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];function KH(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)>=0)continue;t[i]=n[i]}return t}let sT;function QH(n){return sT||(sT=new JA({ownerDocument:n?.document})),sT}function JH(n){const e=QA(),t=n||QH(e),i=z.useRef({dialog:null,backdrop:null});return Object.assign(i.current,{add:()=>t.add(i.current),remove:()=>t.remove(i.current),isTopModal:()=>t.isTopModal(i.current),setDialogRef:z.useCallback(r=>{i.current.dialog=r},[]),setBackdropRef:z.useCallback(r=>{i.current.backdrop=r},[])})}const h5=z.forwardRef((n,e)=>{let{show:t=!1,role:i="dialog",className:r,style:s,children:a,backdrop:o=!0,keyboard:l=!0,onBackdropClick:u,onEscapeKeyDown:d,transition:m,runTransition:v,backdropTransition:y,runBackdropTransition:x,autoFocus:T=!0,enforceFocus:E=!0,restoreFocus:w=!0,restoreFocusOptions:P,renderDialog:D,renderBackdrop:N=Et=>ue.jsx("div",Object.assign({},Et)),manager:G,container:k,onShow:M,onHide:$=()=>{},onExit:V,onExited:H,onExiting:ee,onEnter:pe,onEntering:ae,onEntered:ye}=n,Te=KH(n,ZH);const J=QA(),de=HH(k),he=JH(G),Le=uH(),ne=fH(t),[re,ze]=z.useState(!t),Ve=z.useRef(null);z.useImperativeHandle(e,()=>he,[he]),dw&&!ne&&t&&(Ve.current=iT(J?.document)),t&&re&&ze(!1);const xe=ad(()=>{if(he.add(),Vt.current=kx(document,"keydown",yt),vt.current=kx(document,"focus",()=>setTimeout(Ze),!0),M&&M(),T){var Et,Mt;const At=iT((Et=(Mt=he.dialog)==null?void 0:Mt.ownerDocument)!=null?Et:J?.document);he.dialog&&At&&!G3(he.dialog,At)&&(Ve.current=At,he.dialog.focus())}}),$e=ad(()=>{if(he.remove(),Vt.current==null||Vt.current(),vt.current==null||vt.current(),w){var Et;(Et=Ve.current)==null||Et.focus==null||Et.focus(P),Ve.current=null}});z.useEffect(()=>{!t||!de||xe()},[t,de,xe]),z.useEffect(()=>{re&&$e()},[re,$e]),BH(()=>{$e()});const Ze=ad(()=>{if(!E||!Le()||!he.isTopModal())return;const Et=iT(J?.document);he.dialog&&Et&&!G3(he.dialog,Et)&&he.dialog.focus()}),gt=ad(Et=>{Et.target===Et.currentTarget&&(u?.(Et),o===!0&&$())}),yt=ad(Et=>{l&&W9(Et)&&he.isTopModal()&&(d?.(Et),Et.defaultPrevented||$())}),vt=z.useRef(),Vt=z.useRef(),zn=(...Et)=>{ze(!0),H?.(...Et)};if(!de)return null;const An=Object.assign({role:i,ref:he.setDialogRef,"aria-modal":i==="dialog"?!0:void 0},Te,{style:s,className:r,tabIndex:-1});let dn=D?D(An):ue.jsx("div",Object.assign({},An,{children:z.cloneElement(a,{role:"document"})}));dn=X3(m,v,{unmountOnExit:!0,mountOnEnter:!0,appear:!0,in:!!t,onExit:V,onExiting:ee,onExited:zn,onEnter:pe,onEntering:ae,onEntered:ye,children:dn});let fe=null;return o&&(fe=N({ref:he.setBackdropRef,onClick:gt}),fe=X3(y,x,{in:!!t,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:fe})),ue.jsx(ue.Fragment,{children:Zm.createPortal(ue.jsxs(ue.Fragment,{children:[fe,dn]}),de)})});h5.displayName="Modal";const eF=Object.assign(h5,{Manager:JA});function tF(n,e){return n.classList?n.classList.contains(e):(" "+(n.className.baseVal||n.className)+" ").indexOf(" "+e+" ")!==-1}function nF(n,e){n.classList?n.classList.add(e):tF(n,e)||(typeof n.className=="string"?n.className=n.className+" "+e:n.setAttribute("class",(n.className&&n.className.baseVal||"")+" "+e))}function Y3(n,e){return n.replace(new RegExp("(^|\\s)"+e+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function iF(n,e){n.classList?n.classList.remove(e):typeof n.className=="string"?n.className=Y3(n.className,e):n.setAttribute("class",Y3(n.className&&n.className.baseVal||"",e))}const av={FIXED_CONTENT:".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",STICKY_CONTENT:".sticky-top",NAVBAR_TOGGLER:".navbar-toggler"};class d5 extends JA{adjustAndStore(e,t,i){const r=t.style[e];t.dataset[e]=r,pd(t,{[e]:`${parseFloat(pd(t,e))+i}px`})}restore(e,t){const i=t.dataset[e];i!==void 0&&(delete t.dataset[e],pd(t,{[e]:i}))}setContainerStyle(e){super.setContainerStyle(e);const t=this.getElement();if(nF(t,"modal-open"),!e.scrollBarWidth)return;const i=this.isRTL?"paddingLeft":"paddingRight",r=this.isRTL?"marginLeft":"marginRight";Fm(t,av.FIXED_CONTENT).forEach(s=>this.adjustAndStore(i,s,e.scrollBarWidth)),Fm(t,av.STICKY_CONTENT).forEach(s=>this.adjustAndStore(r,s,-e.scrollBarWidth)),Fm(t,av.NAVBAR_TOGGLER).forEach(s=>this.adjustAndStore(r,s,e.scrollBarWidth))}removeContainerStyle(e){super.removeContainerStyle(e);const t=this.getElement();iF(t,"modal-open");const i=this.isRTL?"paddingLeft":"paddingRight",r=this.isRTL?"marginLeft":"marginRight";Fm(t,av.FIXED_CONTENT).forEach(s=>this.restore(i,s)),Fm(t,av.STICKY_CONTENT).forEach(s=>this.restore(r,s)),Fm(t,av.NAVBAR_TOGGLER).forEach(s=>this.restore(r,s))}}let aT;function rF(n){return aT||(aT=new d5(n)),aT}const p5=z.createContext({onHide(){}}),m5=z.forwardRef(({closeLabel:n="Close",closeVariant:e,closeButton:t=!1,onHide:i,children:r,...s},a)=>{const o=z.useContext(p5),l=mw(()=>{o?.onHide(),i?.()});return ue.jsxs("div",{ref:a,...s,children:[r,t&&ue.jsx(YA,{"aria-label":n,variant:e,onClick:l})]})});m5.displayName="AbstractModalHeader";const g5=z.forwardRef(({className:n,bsPrefix:e,as:t="div",...i},r)=>(e=nl(e,"nav-item"),ue.jsx(t,{ref:r,className:va(n,e),...i})));g5.displayName="NavItem";const v5=z.forwardRef(({bsPrefix:n,className:e,as:t=i5,active:i,eventKey:r,disabled:s=!1,...a},o)=>{n=nl(n,"nav-link");const[l,u]=c5({key:ZA(r,a.href),active:i,disabled:s,...a});return ue.jsx(t,{...a,...l,ref:o,disabled:s,className:va(e,n,s&&"disabled",u.isActive&&"active")})});v5.displayName="NavLink";const y5=z.forwardRef((n,e)=>{const{as:t="div",bsPrefix:i,variant:r,fill:s=!1,justify:a=!1,navbar:o,navbarScroll:l,className:u,activeKey:d,...m}=YN(n,{activeKey:"onSelect"}),v=nl(i,"nav");let y,x,T=!1;const E=z.useContext(Ey),w=z.useContext(s5);return E?(y=E.bsPrefix,T=o??!0):w&&({cardHeaderBsPrefix:x}=w),ue.jsx(zH,{as:t,ref:e,activeKey:d,className:va(u,{[v]:!T,[`${y}-nav`]:T,[`${y}-nav-scroll`]:T&&l,[`${x}-${r}`]:!!x,[`${v}-${r}`]:!!r,[`${v}-fill`]:s,[`${v}-justified`]:a}),...m})});y5.displayName="Nav";const Z3=Object.assign(y5,{Item:g5,Link:v5}),_5=z.forwardRef(({bsPrefix:n,className:e,as:t,...i},r)=>{n=nl(n,"navbar-brand");const s=t||(i.href?"a":"span");return ue.jsx(s,{...i,ref:r,className:va(e,n)})});_5.displayName="NavbarBrand";const b5=z.forwardRef(({children:n,bsPrefix:e,...t},i)=>{e=nl(e,"navbar-collapse");const r=z.useContext(Ey);return ue.jsx(e5,{in:!!(r&&r.expanded),...t,children:ue.jsx("div",{ref:i,className:e,children:n})})});b5.displayName="NavbarCollapse";const x5=z.forwardRef(({bsPrefix:n,className:e,children:t,label:i="Toggle navigation",as:r="button",onClick:s,...a},o)=>{n=nl(n,"navbar-toggler");const{onToggle:l,expanded:u}=z.useContext(Ey)||{},d=mw(m=>{s&&s(m),l&&l()});return r==="button"&&(a.type="button"),ue.jsx(r,{...a,ref:o,onClick:d,"aria-label":i,className:va(e,n,!u&&"collapsed"),children:t||ue.jsx("span",{className:`${n}-icon`})})});x5.displayName="NavbarToggle";const y2=new WeakMap,K3=(n,e)=>{if(!n||!e)return;const t=y2.get(e)||new Map;y2.set(e,t);let i=t.get(n);return i||(i=e.matchMedia(n),i.refCount=0,t.set(i.media,i)),i};function sF(n,e=typeof window>"u"?void 0:window){const t=K3(n,e),[i,r]=z.useState(()=>t?t.matches:!1);return OH(()=>{let s=K3(n,e);if(!s)return r(!1);let a=y2.get(e);const o=()=>{r(s.matches)};return s.refCount++,s.addListener(o),o(),()=>{s.removeListener(o),s.refCount--,s.refCount<=0&&a?.delete(s.media),s=void 0}},[n]),i}function aF(n){const e=Object.keys(n);function t(o,l){return o===l?l:o?`${o} and ${l}`:l}function i(o){return e[Math.min(e.indexOf(o)+1,e.length-1)]}function r(o){const l=i(o);let u=n[l];return typeof u=="number"?u=`${u-.2}px`:u=`calc(${u} - 0.2px)`,`(max-width: ${u})`}function s(o){let l=n[o];return typeof l=="number"&&(l=`${l}px`),`(min-width: ${l})`}function a(o,l,u){let d;typeof o=="object"?(d=o,u=l,l=!0):(l=l||!0,d={[o]:l});let m=z.useMemo(()=>Object.entries(d).reduce((v,[y,x])=>((x==="up"||x===!0)&&(v=t(v,s(y))),(x==="down"||x===!0)&&(v=t(v,r(y))),v),""),[JSON.stringify(d)]);return sF(m,u)}return a}const oF=aF({xs:0,sm:576,md:768,lg:992,xl:1200,xxl:1400}),S5=z.forwardRef(({className:n,bsPrefix:e,as:t="div",...i},r)=>(e=nl(e,"offcanvas-body"),ue.jsx(t,{ref:r,className:va(n,e),...i})));S5.displayName="OffcanvasBody";const lF={[sf]:"show",[sd]:"show"},w5=z.forwardRef(({bsPrefix:n,className:e,children:t,in:i=!1,mountOnEnter:r=!1,unmountOnExit:s=!1,appear:a=!1,...o},l)=>(n=nl(n,"offcanvas"),ue.jsx(pw,{ref:l,addEndListener:XA,in:i,mountOnEnter:r,unmountOnExit:s,appear:a,...o,childRef:wy(t),children:(u,d)=>z.cloneElement(t,{...d,className:va(e,t.props.className,(u===sf||u===o_)&&`${n}-toggling`,lF[u])})})));w5.displayName="OffcanvasToggling";const E5=z.forwardRef(({bsPrefix:n,className:e,closeLabel:t="Close",closeButton:i=!1,...r},s)=>(n=nl(n,"offcanvas-header"),ue.jsx(m5,{ref:s,...r,className:va(e,n),closeLabel:t,closeButton:i})));E5.displayName="OffcanvasHeader";const cF=lH("h5"),T5=z.forwardRef(({className:n,bsPrefix:e,as:t=cF,...i},r)=>(e=nl(e,"offcanvas-title"),ue.jsx(t,{ref:r,className:va(n,e),...i})));T5.displayName="OffcanvasTitle";function uF(n){return ue.jsx(w5,{...n})}function fF(n){return ue.jsx(r5,{...n})}const M5=z.forwardRef(({bsPrefix:n,className:e,children:t,"aria-labelledby":i,placement:r="start",responsive:s,show:a=!1,backdrop:o=!0,keyboard:l=!0,scroll:u=!1,onEscapeKeyDown:d,onShow:m,onHide:v,container:y,autoFocus:x=!0,enforceFocus:T=!0,restoreFocus:E=!0,restoreFocusOptions:w,onEntered:P,onExit:D,onExiting:N,onEnter:G,onEntering:k,onExited:M,backdropClassName:$,manager:V,renderStaticNode:H=!1,...ee},pe)=>{const ae=z.useRef();n=nl(n,"offcanvas");const[ye,Te]=z.useState(!1),J=mw(v),de=oF(s||"xs","up");z.useEffect(()=>{Te(s?a&&!de:a)},[a,s,de]);const he=z.useMemo(()=>({onHide:J}),[J]);function Le(){return V||(u?(ae.current||(ae.current=new d5({handleContainerOverflow:!1})),ae.current):rF())}const ne=(xe,...$e)=>{xe&&(xe.style.visibility="visible"),G?.(xe,...$e)},re=(xe,...$e)=>{xe&&(xe.style.visibility=""),M?.(...$e)},ze=z.useCallback(xe=>ue.jsx("div",{...xe,className:va(`${n}-backdrop`,$)}),[$,n]),Ve=xe=>ue.jsx("div",{...xe,...ee,className:va(e,s?`${n}-${s}`:n,`${n}-${r}`),"aria-labelledby":i,children:t});return ue.jsxs(ue.Fragment,{children:[!ye&&(s||H)&&Ve({}),ue.jsx(p5.Provider,{value:he,children:ue.jsx(eF,{show:ye,ref:pe,backdrop:o,container:y,keyboard:l,autoFocus:x,enforceFocus:T&&!u,restoreFocus:E,restoreFocusOptions:w,onEscapeKeyDown:d,onShow:m,onHide:J,onEnter:ne,onEntering:k,onEntered:P,onExit:D,onExiting:N,onExited:re,manager:Le(),transition:uF,backdropTransition:fF,renderBackdrop:ze,renderDialog:Ve})})]})});M5.displayName="Offcanvas";const hF=Object.assign(M5,{Body:S5,Header:E5,Title:T5}),A5=z.forwardRef(({onHide:n,...e},t)=>{const i=z.useContext(Ey),r=mw(()=>{i==null||i.onToggle==null||i.onToggle(),n?.()});return ue.jsx(hF,{ref:t,show:!!(i!=null&&i.expanded),...e,renderStaticNode:!0,onHide:r})});A5.displayName="NavbarOffcanvas";const C5=z.forwardRef(({className:n,bsPrefix:e,as:t="span",...i},r)=>(e=nl(e,"navbar-text"),ue.jsx(t,{ref:r,className:va(n,e),...i})));C5.displayName="NavbarText";const R5=z.forwardRef((n,e)=>{const{bsPrefix:t,expand:i=!0,variant:r="light",bg:s,fixed:a,sticky:o,className:l,as:u="nav",expanded:d,onToggle:m,onSelect:v,collapseOnSelect:y=!1,...x}=YN(n,{expanded:"onToggle"}),T=nl(t,"navbar"),E=z.useCallback((...D)=>{v?.(...D),y&&d&&m?.(!1)},[v,y,d,m]);x.role===void 0&&u!=="nav"&&(x.role="navigation");let w=`${T}-expand`;typeof i=="string"&&(w=`${w}-${i}`);const P=z.useMemo(()=>({onToggle:()=>m?.(!d),bsPrefix:T,expanded:!!d,expand:i}),[T,d,i,m]);return ue.jsx(Ey.Provider,{value:P,children:ue.jsx(Hx.Provider,{value:E,children:ue.jsx(u,{ref:e,...x,className:va(l,T,i&&w,r&&`${T}-${r}`,s&&`bg-${s}`,o&&`sticky-${o}`,a&&`fixed-${a}`)})})})});R5.displayName="Navbar";const oT=Object.assign(R5,{Brand:_5,Collapse:b5,Offcanvas:A5,Text:C5,Toggle:x5}),Co=z.forwardRef(({bsPrefix:n,className:e,as:t="div",...i},r)=>{const s=nl(n,"row"),a=ZN(),o=KN(),l=`${s}-cols`,u=[];return a.forEach(d=>{const m=i[d];delete i[d];let v;m!=null&&typeof m=="object"?{cols:v}=m:v=m;const y=d!==o?`-${d}`:"";v!=null&&u.push(`${l}${y}-${v}`)}),ue.jsx(t,{ref:r,...i,className:va(e,s,...u)})});Co.displayName="Row";var dF=["color","size","title","className"];function _2(){return _2=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},_2.apply(null,arguments)}function pF(n,e){if(n==null)return{};var t,i,r=mF(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)t=s[i],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(r[t]=n[t])}return r}function mF(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)!==-1)continue;t[i]=n[i]}return t}var O5=z.forwardRef(function(n,e){var t=n.color,i=t===void 0?"currentColor":t,r=n.size,s=r===void 0?"1em":r,a=n.title,o=a===void 0?null:a,l=n.className,u=l===void 0?"":l,d=pF(n,dF);return Se.createElement("svg",_2({ref:e,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:s,height:s,fill:i,className:["bi","bi-github",u].filter(Boolean).join(" ")},d),o?Se.createElement("title",null,o):null,Se.createElement("path",{d:"M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27s1.36.09 2 .27c1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.01 8.01 0 0 0 16 8c0-4.42-3.58-8-8-8"}))});O5.propTypes={color:Tn.string,size:Tn.oneOfType([Tn.string,Tn.number]),title:Tn.string,className:Tn.string};var gF=["color","size","title","className"];function b2(){return b2=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},b2.apply(null,arguments)}function vF(n,e){if(n==null)return{};var t,i,r=yF(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)t=s[i],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(r[t]=n[t])}return r}function yF(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)!==-1)continue;t[i]=n[i]}return t}var P5=z.forwardRef(function(n,e){var t=n.color,i=t===void 0?"currentColor":t,r=n.size,s=r===void 0?"1em":r,a=n.title,o=a===void 0?null:a,l=n.className,u=l===void 0?"":l,d=vF(n,gF);return Se.createElement("svg",b2({ref:e,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:s,height:s,fill:i,className:["bi","bi-globe2",u].filter(Boolean).join(" ")},d),o?Se.createElement("title",null,o):null,Se.createElement("path",{d:"M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8m7.5-6.923c-.67.204-1.335.82-1.887 1.855q-.215.403-.395.872c.705.157 1.472.257 2.282.287zM4.249 3.539q.214-.577.481-1.078a7 7 0 0 1 .597-.933A7 7 0 0 0 3.051 3.05q.544.277 1.198.49zM3.509 7.5c.036-1.07.188-2.087.436-3.008a9 9 0 0 1-1.565-.667A6.96 6.96 0 0 0 1.018 7.5zm1.4-2.741a12.3 12.3 0 0 0-.4 2.741H7.5V5.091c-.91-.03-1.783-.145-2.591-.332M8.5 5.09V7.5h2.99a12.3 12.3 0 0 0-.399-2.741c-.808.187-1.681.301-2.591.332zM4.51 8.5c.035.987.176 1.914.399 2.741A13.6 13.6 0 0 1 7.5 10.91V8.5zm3.99 0v2.409c.91.03 1.783.145 2.591.332.223-.827.364-1.754.4-2.741zm-3.282 3.696q.18.469.395.872c.552 1.035 1.218 1.65 1.887 1.855V11.91c-.81.03-1.577.13-2.282.287zm.11 2.276a7 7 0 0 1-.598-.933 9 9 0 0 1-.481-1.079 8.4 8.4 0 0 0-1.198.49 7 7 0 0 0 2.276 1.522zm-1.383-2.964A13.4 13.4 0 0 1 3.508 8.5h-2.49a6.96 6.96 0 0 0 1.362 3.675c.47-.258.995-.482 1.565-.667m6.728 2.964a7 7 0 0 0 2.275-1.521 8.4 8.4 0 0 0-1.197-.49 9 9 0 0 1-.481 1.078 7 7 0 0 1-.597.933M8.5 11.909v3.014c.67-.204 1.335-.82 1.887-1.855q.216-.403.395-.872A12.6 12.6 0 0 0 8.5 11.91zm3.555-.401c.57.185 1.095.409 1.565.667A6.96 6.96 0 0 0 14.982 8.5h-2.49a13.4 13.4 0 0 1-.437 3.008M14.982 7.5a6.96 6.96 0 0 0-1.362-3.675c-.47.258-.995.482-1.565.667.248.92.4 1.938.437 3.008zM11.27 2.461q.266.502.482 1.078a8.4 8.4 0 0 0 1.196-.49 7 7 0 0 0-2.275-1.52c.218.283.418.597.597.932m-.488 1.343a8 8 0 0 0-.395-.872C9.835 1.897 9.17 1.282 8.5 1.077V4.09c.81-.03 1.577-.13 2.282-.287z"}))});P5.propTypes={color:Tn.string,size:Tn.oneOfType([Tn.string,Tn.number]),title:Tn.string,className:Tn.string};var _F=["color","size","title","className"];function x2(){return x2=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},x2.apply(null,arguments)}function bF(n,e){if(n==null)return{};var t,i,r=xF(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)t=s[i],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(r[t]=n[t])}return r}function xF(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)!==-1)continue;t[i]=n[i]}return t}var D5=z.forwardRef(function(n,e){var t=n.color,i=t===void 0?"currentColor":t,r=n.size,s=r===void 0?"1em":r,a=n.title,o=a===void 0?null:a,l=n.className,u=l===void 0?"":l,d=bF(n,_F);return Se.createElement("svg",x2({ref:e,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:s,height:s,fill:i,className:["bi","bi-linkedin",u].filter(Boolean).join(" ")},d),o?Se.createElement("title",null,o):null,Se.createElement("path",{d:"M0 1.146C0 .513.526 0 1.175 0h13.65C15.474 0 16 .513 16 1.146v13.708c0 .633-.526 1.146-1.175 1.146H1.175C.526 16 0 15.487 0 14.854zm4.943 12.248V6.169H2.542v7.225zm-1.2-8.212c.837 0 1.358-.554 1.358-1.248-.015-.709-.52-1.248-1.342-1.248S2.4 3.226 2.4 3.934c0 .694.521 1.248 1.327 1.248zm4.908 8.212V9.359c0-.216.016-.432.08-.586.173-.431.568-.878 1.232-.878.869 0 1.216.662 1.216 1.634v3.865h2.401V9.25c0-2.22-1.184-3.252-2.764-3.252-1.274 0-1.845.7-2.165 1.193v.025h-.016l.016-.025V6.169h-2.4c.03.678 0 7.225 0 7.225z"}))});D5.propTypes={color:Tn.string,size:Tn.oneOfType([Tn.string,Tn.number]),title:Tn.string,className:Tn.string};var lT,Q3;function SF(){if(Q3)return lT;Q3=1;function n(o){return o&&typeof o=="object"&&"default"in o?o.default:o}var e=Sg(),t=n(e);function i(o,l,u){return l in o?Object.defineProperty(o,l,{value:u,enumerable:!0,configurable:!0,writable:!0}):o[l]=u,o}function r(o,l){o.prototype=Object.create(l.prototype),o.prototype.constructor=o,o.__proto__=l}var s=!!(typeof window<"u"&&window.document&&window.document.createElement);function a(o,l,u){if(typeof o!="function")throw new Error("Expected reducePropsToState to be a function.");if(typeof l!="function")throw new Error("Expected handleStateChangeOnClient to be a function.");if(typeof u<"u"&&typeof u!="function")throw new Error("Expected mapStateOnServer to either be undefined or a function.");function d(m){return m.displayName||m.name||"Component"}return function(v){if(typeof v!="function")throw new Error("Expected WrappedComponent to be a React component.");var y=[],x;function T(){x=o(y.map(function(w){return w.props})),E.canUseDOM?l(x):u&&(x=u(x))}var E=(function(w){r(P,w);function P(){return w.apply(this,arguments)||this}P.peek=function(){return x},P.rewind=function(){if(P.canUseDOM)throw new Error("You may only call rewind() on the server. Call peek() to read the current state.");var G=x;return x=void 0,y=[],G};var D=P.prototype;return D.UNSAFE_componentWillMount=function(){y.push(this),T()},D.componentDidUpdate=function(){T()},D.componentWillUnmount=function(){var G=y.indexOf(this);y.splice(G,1),T()},D.render=function(){return t.createElement(v,this.props)},P})(e.PureComponent);return i(E,"displayName","SideEffect("+d(v)+")"),i(E,"canUseDOM",s),E}}return lT=a,lT}var wF=SF();const EF=Ru(wF);var cT,J3;function TF(){if(J3)return cT;J3=1;var n=typeof Element<"u",e=typeof Map=="function",t=typeof Set=="function",i=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function r(s,a){if(s===a)return!0;if(s&&a&&typeof s=="object"&&typeof a=="object"){if(s.constructor!==a.constructor)return!1;var o,l,u;if(Array.isArray(s)){if(o=s.length,o!=a.length)return!1;for(l=o;l--!==0;)if(!r(s[l],a[l]))return!1;return!0}var d;if(e&&s instanceof Map&&a instanceof Map){if(s.size!==a.size)return!1;for(d=s.entries();!(l=d.next()).done;)if(!a.has(l.value[0]))return!1;for(d=s.entries();!(l=d.next()).done;)if(!r(l.value[1],a.get(l.value[0])))return!1;return!0}if(t&&s instanceof Set&&a instanceof Set){if(s.size!==a.size)return!1;for(d=s.entries();!(l=d.next()).done;)if(!a.has(l.value[0]))return!1;return!0}if(i&&ArrayBuffer.isView(s)&&ArrayBuffer.isView(a)){if(o=s.length,o!=a.length)return!1;for(l=o;l--!==0;)if(s[l]!==a[l])return!1;return!0}if(s.constructor===RegExp)return s.source===a.source&&s.flags===a.flags;if(s.valueOf!==Object.prototype.valueOf&&typeof s.valueOf=="function"&&typeof a.valueOf=="function")return s.valueOf()===a.valueOf();if(s.toString!==Object.prototype.toString&&typeof s.toString=="function"&&typeof a.toString=="function")return s.toString()===a.toString();if(u=Object.keys(s),o=u.length,o!==Object.keys(a).length)return!1;for(l=o;l--!==0;)if(!Object.prototype.hasOwnProperty.call(a,u[l]))return!1;if(n&&s instanceof Element)return!1;for(l=o;l--!==0;)if(!((u[l]==="_owner"||u[l]==="__v"||u[l]==="__o")&&s.$$typeof)&&!r(s[u[l]],a[u[l]]))return!1;return!0}return s!==s&&a!==a}return cT=function(a,o){try{return r(a,o)}catch(l){if((l.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw l}},cT}var MF=TF();const AF=Ru(MF);/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var uT,eO;function CF(){if(eO)return uT;eO=1;var n=Object.getOwnPropertySymbols,e=Object.prototype.hasOwnProperty,t=Object.prototype.propertyIsEnumerable;function i(s){if(s==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(s)}function r(){try{if(!Object.assign)return!1;var s=new String("abc");if(s[5]="de",Object.getOwnPropertyNames(s)[0]==="5")return!1;for(var a={},o=0;o<10;o++)a["_"+String.fromCharCode(o)]=o;var l=Object.getOwnPropertyNames(a).map(function(d){return a[d]});if(l.join("")!=="0123456789")return!1;var u={};return"abcdefghijklmnopqrst".split("").forEach(function(d){u[d]=d}),Object.keys(Object.assign({},u)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}return uT=r()?Object.assign:function(s,a){for(var o,l=i(s),u,d=1;d<arguments.length;d++){o=Object(arguments[d]);for(var m in o)e.call(o,m)&&(l[m]=o[m]);if(n){u=n(o);for(var v=0;v<u.length;v++)t.call(o,u[v])&&(l[u[v]]=o[u[v]])}}return l},uT}var RF=CF();const OF=Ru(RF);var lg={BODY:"bodyAttributes",HTML:"htmlAttributes",TITLE:"titleAttributes"},Pi={BASE:"base",BODY:"body",HEAD:"head",HTML:"html",LINK:"link",META:"meta",NOSCRIPT:"noscript",SCRIPT:"script",STYLE:"style",TITLE:"title"};Object.keys(Pi).map(function(n){return Pi[n]});var Os={CHARSET:"charset",CSS_TEXT:"cssText",HREF:"href",HTTPEQUIV:"http-equiv",INNER_HTML:"innerHTML",ITEM_PROP:"itemprop",NAME:"name",PROPERTY:"property",REL:"rel",SRC:"src",TARGET:"target"},Fx={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},l_={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate"},PF=Object.keys(Fx).reduce(function(n,e){return n[Fx[e]]=e,n},{}),DF=[Pi.NOSCRIPT,Pi.SCRIPT,Pi.STYLE],of="data-react-helmet",LF=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},NF=function(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")},IF=(function(){function n(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,i){return t&&n(e.prototype,t),i&&n(e,i),e}})(),lc=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},zF=function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(n,e):n.__proto__=e)},tO=function(n,e){var t={};for(var i in n)e.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i]);return t},UF=function(n,e){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:n},S2=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return t===!1?String(e):String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")},BF=function(e){var t=Wv(e,Pi.TITLE),i=Wv(e,l_.TITLE_TEMPLATE);if(i&&t)return i.replace(/%s/g,function(){return Array.isArray(t)?t.join(""):t});var r=Wv(e,l_.DEFAULT_TITLE);return t||r||void 0},kF=function(e){return Wv(e,l_.ON_CHANGE_CLIENT_STATE)||function(){}},fT=function(e,t){return t.filter(function(i){return typeof i[e]<"u"}).map(function(i){return i[e]}).reduce(function(i,r){return lc({},i,r)},{})},HF=function(e,t){return t.filter(function(i){return typeof i[Pi.BASE]<"u"}).map(function(i){return i[Pi.BASE]}).reverse().reduce(function(i,r){if(!i.length)for(var s=Object.keys(r),a=0;a<s.length;a++){var o=s[a],l=o.toLowerCase();if(e.indexOf(l)!==-1&&r[l])return i.concat(r)}return i},[])},h0=function(e,t,i){var r={};return i.filter(function(s){return Array.isArray(s[e])?!0:(typeof s[e]<"u"&&jF("Helmet: "+e+' should be of type "Array". Instead found type "'+LF(s[e])+'"'),!1)}).map(function(s){return s[e]}).reverse().reduce(function(s,a){var o={};a.filter(function(v){for(var y=void 0,x=Object.keys(v),T=0;T<x.length;T++){var E=x[T],w=E.toLowerCase();t.indexOf(w)!==-1&&!(y===Os.REL&&v[y].toLowerCase()==="canonical")&&!(w===Os.REL&&v[w].toLowerCase()==="stylesheet")&&(y=w),t.indexOf(E)!==-1&&(E===Os.INNER_HTML||E===Os.CSS_TEXT||E===Os.ITEM_PROP)&&(y=E)}if(!y||!v[y])return!1;var P=v[y].toLowerCase();return r[y]||(r[y]={}),o[y]||(o[y]={}),r[y][P]?!1:(o[y][P]=!0,!0)}).reverse().forEach(function(v){return s.push(v)});for(var l=Object.keys(o),u=0;u<l.length;u++){var d=l[u],m=OF({},r[d],o[d]);r[d]=m}return s},[]).reverse()},Wv=function(e,t){for(var i=e.length-1;i>=0;i--){var r=e[i];if(r.hasOwnProperty(t))return r[t]}return null},FF=function(e){return{baseTag:HF([Os.HREF,Os.TARGET],e),bodyAttributes:fT(lg.BODY,e),defer:Wv(e,l_.DEFER),encode:Wv(e,l_.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:fT(lg.HTML,e),linkTags:h0(Pi.LINK,[Os.REL,Os.HREF],e),metaTags:h0(Pi.META,[Os.NAME,Os.CHARSET,Os.HTTPEQUIV,Os.PROPERTY,Os.ITEM_PROP],e),noscriptTags:h0(Pi.NOSCRIPT,[Os.INNER_HTML],e),onChangeClientState:kF(e),scriptTags:h0(Pi.SCRIPT,[Os.SRC,Os.INNER_HTML],e),styleTags:h0(Pi.STYLE,[Os.CSS_TEXT],e),title:BF(e),titleAttributes:fT(lg.TITLE,e)}},w2=(function(){var n=Date.now();return function(e){var t=Date.now();t-n>16?(n=t,e(t)):setTimeout(function(){w2(e)},0)}})(),nO=function(e){return clearTimeout(e)},VF=typeof window<"u"?window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||w2:global.requestAnimationFrame||w2,GF=typeof window<"u"?window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||nO:global.cancelAnimationFrame||nO,jF=function(e){return console&&typeof console.warn=="function"&&console.warn(e)},d0=null,$F=function(e){d0&&GF(d0),e.defer?d0=VF(function(){iO(e,function(){d0=null})}):(iO(e),d0=null)},iO=function(e,t){var i=e.baseTag,r=e.bodyAttributes,s=e.htmlAttributes,a=e.linkTags,o=e.metaTags,l=e.noscriptTags,u=e.onChangeClientState,d=e.scriptTags,m=e.styleTags,v=e.title,y=e.titleAttributes;E2(Pi.BODY,r),E2(Pi.HTML,s),qF(v,y);var x={baseTag:ov(Pi.BASE,i),linkTags:ov(Pi.LINK,a),metaTags:ov(Pi.META,o),noscriptTags:ov(Pi.NOSCRIPT,l),scriptTags:ov(Pi.SCRIPT,d),styleTags:ov(Pi.STYLE,m)},T={},E={};Object.keys(x).forEach(function(w){var P=x[w],D=P.newTags,N=P.oldTags;D.length&&(T[w]=D),N.length&&(E[w]=x[w].oldTags)}),t&&t(),u(e,T,E)},L5=function(e){return Array.isArray(e)?e.join(""):e},qF=function(e,t){typeof e<"u"&&document.title!==e&&(document.title=L5(e)),E2(Pi.TITLE,t)},E2=function(e,t){var i=document.getElementsByTagName(e)[0];if(i){for(var r=i.getAttribute(of),s=r?r.split(","):[],a=[].concat(s),o=Object.keys(t),l=0;l<o.length;l++){var u=o[l],d=t[u]||"";i.getAttribute(u)!==d&&i.setAttribute(u,d),s.indexOf(u)===-1&&s.push(u);var m=a.indexOf(u);m!==-1&&a.splice(m,1)}for(var v=a.length-1;v>=0;v--)i.removeAttribute(a[v]);s.length===a.length?i.removeAttribute(of):i.getAttribute(of)!==o.join(",")&&i.setAttribute(of,o.join(","))}},ov=function(e,t){var i=document.head||document.querySelector(Pi.HEAD),r=i.querySelectorAll(e+"["+of+"]"),s=Array.prototype.slice.call(r),a=[],o=void 0;return t&&t.length&&t.forEach(function(l){var u=document.createElement(e);for(var d in l)if(l.hasOwnProperty(d))if(d===Os.INNER_HTML)u.innerHTML=l.innerHTML;else if(d===Os.CSS_TEXT)u.styleSheet?u.styleSheet.cssText=l.cssText:u.appendChild(document.createTextNode(l.cssText));else{var m=typeof l[d]>"u"?"":l[d];u.setAttribute(d,m)}u.setAttribute(of,"true"),s.some(function(v,y){return o=y,u.isEqualNode(v)})?s.splice(o,1):a.push(u)}),s.forEach(function(l){return l.parentNode.removeChild(l)}),a.forEach(function(l){return i.appendChild(l)}),{oldTags:s,newTags:a}},N5=function(e){return Object.keys(e).reduce(function(t,i){var r=typeof e[i]<"u"?i+'="'+e[i]+'"':""+i;return t?t+" "+r:r},"")},WF=function(e,t,i,r){var s=N5(i),a=L5(t);return s?"<"+e+" "+of+'="true" '+s+">"+S2(a,r)+"</"+e+">":"<"+e+" "+of+'="true">'+S2(a,r)+"</"+e+">"},XF=function(e,t,i){return t.reduce(function(r,s){var a=Object.keys(s).filter(function(u){return!(u===Os.INNER_HTML||u===Os.CSS_TEXT)}).reduce(function(u,d){var m=typeof s[d]>"u"?d:d+'="'+S2(s[d],i)+'"';return u?u+" "+m:m},""),o=s.innerHTML||s.cssText||"",l=DF.indexOf(e)===-1;return r+"<"+e+" "+of+'="true" '+a+(l?"/>":">"+o+"</"+e+">")},"")},I5=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(e).reduce(function(i,r){return i[Fx[r]||r]=e[r],i},t)},YF=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(e).reduce(function(i,r){return i[PF[r]||r]=e[r],i},t)},ZF=function(e,t,i){var r,s=(r={key:t},r[of]=!0,r),a=I5(i,s);return[Se.createElement(Pi.TITLE,a,t)]},KF=function(e,t){return t.map(function(i,r){var s,a=(s={key:r},s[of]=!0,s);return Object.keys(i).forEach(function(o){var l=Fx[o]||o;if(l===Os.INNER_HTML||l===Os.CSS_TEXT){var u=i.innerHTML||i.cssText;a.dangerouslySetInnerHTML={__html:u}}else a[l]=i[o]}),Se.createElement(e,a)})},qh=function(e,t,i){switch(e){case Pi.TITLE:return{toComponent:function(){return ZF(e,t.title,t.titleAttributes)},toString:function(){return WF(e,t.title,t.titleAttributes,i)}};case lg.BODY:case lg.HTML:return{toComponent:function(){return I5(t)},toString:function(){return N5(t)}};default:return{toComponent:function(){return KF(e,t)},toString:function(){return XF(e,t,i)}}}},z5=function(e){var t=e.baseTag,i=e.bodyAttributes,r=e.encode,s=e.htmlAttributes,a=e.linkTags,o=e.metaTags,l=e.noscriptTags,u=e.scriptTags,d=e.styleTags,m=e.title,v=m===void 0?"":m,y=e.titleAttributes;return{base:qh(Pi.BASE,t,r),bodyAttributes:qh(lg.BODY,i,r),htmlAttributes:qh(lg.HTML,s,r),link:qh(Pi.LINK,a,r),meta:qh(Pi.META,o,r),noscript:qh(Pi.NOSCRIPT,l,r),script:qh(Pi.SCRIPT,u,r),style:qh(Pi.STYLE,d,r),title:qh(Pi.TITLE,{title:v,titleAttributes:y},r)}},QF=function(e){var t,i;return i=t=(function(r){zF(s,r);function s(){return NF(this,s),UF(this,r.apply(this,arguments))}return s.prototype.shouldComponentUpdate=function(o){return!AF(this.props,o)},s.prototype.mapNestedChildrenToProps=function(o,l){if(!l)return null;switch(o.type){case Pi.SCRIPT:case Pi.NOSCRIPT:return{innerHTML:l};case Pi.STYLE:return{cssText:l}}throw new Error("<"+o.type+" /> elements are self-closing and can not contain children. Refer to our API for more information.")},s.prototype.flattenArrayTypeChildren=function(o){var l,u=o.child,d=o.arrayTypeChildren,m=o.newChildProps,v=o.nestedChildren;return lc({},d,(l={},l[u.type]=[].concat(d[u.type]||[],[lc({},m,this.mapNestedChildrenToProps(u,v))]),l))},s.prototype.mapObjectTypeChildren=function(o){var l,u,d=o.child,m=o.newProps,v=o.newChildProps,y=o.nestedChildren;switch(d.type){case Pi.TITLE:return lc({},m,(l={},l[d.type]=y,l.titleAttributes=lc({},v),l));case Pi.BODY:return lc({},m,{bodyAttributes:lc({},v)});case Pi.HTML:return lc({},m,{htmlAttributes:lc({},v)})}return lc({},m,(u={},u[d.type]=lc({},v),u))},s.prototype.mapArrayTypeChildrenToProps=function(o,l){var u=lc({},l);return Object.keys(o).forEach(function(d){var m;u=lc({},u,(m={},m[d]=o[d],m))}),u},s.prototype.warnOnInvalidChildren=function(o,l){return!0},s.prototype.mapChildrenToProps=function(o,l){var u=this,d={};return Se.Children.forEach(o,function(m){if(!(!m||!m.props)){var v=m.props,y=v.children,x=tO(v,["children"]),T=YF(x);switch(u.warnOnInvalidChildren(m,y),m.type){case Pi.LINK:case Pi.META:case Pi.NOSCRIPT:case Pi.SCRIPT:case Pi.STYLE:d=u.flattenArrayTypeChildren({child:m,arrayTypeChildren:d,newChildProps:T,nestedChildren:y});break;default:l=u.mapObjectTypeChildren({child:m,newProps:l,newChildProps:T,nestedChildren:y});break}}}),l=this.mapArrayTypeChildrenToProps(d,l),l},s.prototype.render=function(){var o=this.props,l=o.children,u=tO(o,["children"]),d=lc({},u);return l&&(d=this.mapChildrenToProps(l,d)),Se.createElement(e,d)},IF(s,null,[{key:"canUseDOM",set:function(o){e.canUseDOM=o}}]),s})(Se.Component),t.propTypes={base:Tn.object,bodyAttributes:Tn.object,children:Tn.oneOfType([Tn.arrayOf(Tn.node),Tn.node]),defaultTitle:Tn.string,defer:Tn.bool,encodeSpecialCharacters:Tn.bool,htmlAttributes:Tn.object,link:Tn.arrayOf(Tn.object),meta:Tn.arrayOf(Tn.object),noscript:Tn.arrayOf(Tn.object),onChangeClientState:Tn.func,script:Tn.arrayOf(Tn.object),style:Tn.arrayOf(Tn.object),title:Tn.string,titleAttributes:Tn.object,titleTemplate:Tn.string},t.defaultProps={defer:!0,encodeSpecialCharacters:!0},t.peek=e.peek,t.rewind=function(){var r=e.rewind();return r||(r=z5({baseTag:[],bodyAttributes:{},htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}})),r},i},JF=function(){return null},eV=EF(FF,$F,z5)(JF),T2=QF(eV);T2.renderStatic=T2.rewind;const Km="generated",c_="pointerdown",tV="pointerup",M2="pointerleave",nV="pointerout",pg="pointermove",u_="touchstart",rO="touchend",iV="touchmove",rV="touchcancel",sV="resize",aV="visibilitychange",oo="tsParticles - Error",qi=100,Vi=.5,Kr=1e3,Aa={x:0,y:0,z:0},tb={a:1,b:0,c:0,d:1},iy="random",Cx="mid",ao=2,U5=Math.PI*ao,hT=60,oV=1,B5="true",sO="false",dT="canvas",aO=0,od=2,oO=4,lV=1,lO=1,cO=1,cV=4,k5=1,Rx=255,Qm=360,A2=100,C2=100,uO=0,R2=0,uV=60,fV=0,Vx=.25,fO=Vi+Vx,hO=0,hV=1,dV=0,pV=0,mV=1,eC=1,gV=1,dO=1,Gx=0,H5=1,vV=0,yV=120,_V=0,bV=0,xV=1e4,SV=0,wV=1,f_=0,F5=1,EV=1,TV=0,pO=1,MV=0,AV=0,mO=-Vx,gO=1.5,vO=0,CV=1,RV=0,O2=0,V5=1,OV=1,jx=1,PV=500,yO=50,G5=0,P2=1,j5=0,_O=1,DV=0,Sm=255,pT=3,mT=6,LV=1,NV=1,IV=0,zV=0,UV=0,BV=0;var Ao;(function(n){n.bottom="bottom",n.bottomLeft="bottom-left",n.bottomRight="bottom-right",n.left="left",n.none="none",n.right="right",n.top="top",n.topLeft="top-left",n.topRight="top-right",n.outside="outside",n.inside="inside"})(Ao||(Ao={}));function $5(n){return typeof n=="boolean"}function kl(n){return typeof n=="string"}function Lo(n){return typeof n=="number"}function yw(n){return typeof n=="function"}function Op(n){return typeof n=="object"&&n!==null}function Fa(n){return Array.isArray(n)}function ot(n){return n==null}class Uc{constructor(e,t,i){if(this._updateFromAngle=(r,s)=>{this.x=Math.cos(r)*s,this.y=Math.sin(r)*s},!Lo(e)&&e){this.x=e.x,this.y=e.y;const r=e;this.z=r.z?r.z:Aa.z}else if(e!==void 0&&t!==void 0)this.x=e,this.y=t,this.z=i??Aa.z;else throw new Error(`${oo} Vector3d not initialized correctly`)}static get origin(){return Uc.create(Aa.x,Aa.y,Aa.z)}get angle(){return Math.atan2(this.y,this.x)}set angle(e){this._updateFromAngle(e,this.length)}get length(){return Math.sqrt(this.getLengthSq())}set length(e){this._updateFromAngle(this.angle,e)}static clone(e){return Uc.create(e.x,e.y,e.z)}static create(e,t,i){return new Uc(e,t,i)}add(e){return Uc.create(this.x+e.x,this.y+e.y,this.z+e.z)}addTo(e){this.x+=e.x,this.y+=e.y,this.z+=e.z}copy(){return Uc.clone(this)}distanceTo(e){return this.sub(e).length}distanceToSq(e){return this.sub(e).getLengthSq()}div(e){return Uc.create(this.x/e,this.y/e,this.z/e)}divTo(e){this.x/=e,this.y/=e,this.z/=e}getLengthSq(){return this.x**od+this.y**od}mult(e){return Uc.create(this.x*e,this.y*e,this.z*e)}multTo(e){this.x*=e,this.y*=e,this.z*=e}normalize(){const e=this.length;e!=f_&&this.multTo(k5/e)}rotate(e){return Uc.create(this.x*Math.cos(e)-this.y*Math.sin(e),this.x*Math.sin(e)+this.y*Math.cos(e),Aa.z)}setTo(e){this.x=e.x,this.y=e.y;const t=e;this.z=t.z?t.z:Aa.z}sub(e){return Uc.create(this.x-e.x,this.y-e.y,this.z-e.z)}subFrom(e){this.x-=e.x,this.y-=e.y,this.z-=e.z}}let nr=class Ox extends Uc{constructor(e,t){super(e,t,Aa.z)}static get origin(){return Ox.create(Aa.x,Aa.y)}static clone(e){return Ox.create(e.x,e.y)}static create(e,t){return new Ox(e,t)}},kV=Math.random;const q5={nextFrame:n=>requestAnimationFrame(n),cancel:n=>cancelAnimationFrame(n)};function mn(){return dc(kV(),0,1-Number.EPSILON)}function HV(n){return q5.nextFrame(n)}function FV(n){q5.cancel(n)}function dc(n,e,t){return Math.min(Math.max(n,e),t)}function gT(n,e,t,i){return Math.floor((n*t+e*i)/(t+i))}function da(n){const e=Bc(n),t=0;let i=ry(n);return e===i&&(i=t),mn()*(e-i)+i}function St(n){return Lo(n)?n:da(n)}function ry(n){return Lo(n)?n:n.min}function Bc(n){return Lo(n)?n:n.max}function Mn(n,e){if(n===e||e===void 0&&Lo(n))return n;const t=ry(n),i=Bc(n);return e!==void 0?{min:Math.min(t,e),max:Math.max(i,e)}:Mn(t,i)}function ga(n,e){const t=n.x-e.x,i=n.y-e.y,r=2;return{dx:t,dy:i,distance:Math.sqrt(t**r+i**r)}}function Ro(n,e){return ga(n,e).distance}function uf(n){return n*Math.PI/180}function VV(n,e,t){if(Lo(n))return uf(n);switch(n){case Ao.top:return-Math.PI*Vi;case Ao.topRight:return-Math.PI*Vx;case Ao.right:return fV;case Ao.bottomRight:return Math.PI*Vx;case Ao.bottom:return Math.PI*Vi;case Ao.bottomLeft:return Math.PI*fO;case Ao.left:return Math.PI;case Ao.topLeft:return-Math.PI*fO;case Ao.inside:return Math.atan2(t.y-e.y,t.x-e.x);case Ao.outside:return Math.atan2(e.y-t.y,e.x-t.x);default:return mn()*U5}}function GV(n){const e=nr.origin;return e.length=1,e.angle=n,e}function bO(n,e,t,i){return nr.create(n.x*(t-i)/(t+i)+e.x*ao*i/(t+i),n.y)}function W5(n){return{x:(n.position?.x??mn()*qi)*n.size.width/qi,y:(n.position?.y??mn()*qi)*n.size.height/qi}}function X5(n){const e={x:n.position?.x!==void 0?St(n.position.x):void 0,y:n.position?.y!==void 0?St(n.position.y):void 0};return W5({size:n.size,position:e})}function jV(n){return{x:n.position?.x??mn()*n.size.width,y:n.position?.y??mn()*n.size.height}}function B_(n){return n?n.endsWith("%")?parseFloat(n)/qi:parseFloat(n):1}var Jm;(function(n){n.auto="auto",n.increase="increase",n.decrease="decrease",n.random="random"})(Jm||(Jm={}));var jr;(function(n){n.increasing="increasing",n.decreasing="decreasing"})(jr||(jr={}));var lh;(function(n){n.none="none",n.max="max",n.min="min"})(lh||(lh={}));var tr;(function(n){n.bottom="bottom",n.left="left",n.right="right",n.top="top"})(tr||(tr={}));var mf;(function(n){n.precise="precise",n.percent="percent"})(mf||(mf={}));var sh;(function(n){n.max="max",n.min="min",n.random="random"})(sh||(sh={}));const $V={debug:console.debug,error:console.error,info:console.info,log:console.log,verbose:console.log,warning:console.warn};function xd(){return $V}function qV(n){const e=new Map;return(...t)=>{const i=JSON.stringify(t);if(e.has(i))return e.get(i);const r=n(...t);return e.set(i,r),r}}function xO(n){const e={bounced:!1},{pSide:t,pOtherSide:i,rectSide:r,rectOtherSide:s,velocity:a,factor:o}=n;return i.min<s.min||i.min>s.max||i.max<s.min||i.max>s.max||(t.max>=r.min&&t.max<=(r.max+r.min)*Vi&&a>hO||t.min<=r.max&&t.min>(r.max+r.min)*Vi&&a<hO)&&(e.velocity=a*-o,e.bounced=!0),e}function WV(n,e){const t=hs(e,i=>n.matches(i));return Fa(t)?t.some(i=>i):t}function mg(){return typeof window>"u"||!window||typeof window.document>"u"||!window.document}function XV(){return!mg()&&typeof matchMedia<"u"}function tC(n){if(XV())return matchMedia(n)}function YV(n){if(!(mg()||typeof IntersectionObserver>"u"))return new IntersectionObserver(n)}function ZV(n){if(!(mg()||typeof MutationObserver>"u"))return new MutationObserver(n)}function Ir(n,e){return n===e||Fa(e)&&e.indexOf(n)>-1}async function D2(n,e){try{await document.fonts.load(`${e??"400"} 36px '${n??"Verdana"}'`)}catch{}}function Y5(n){return Math.floor(mn()*n.length)}function ch(n,e,t=!0){return n[e!==void 0&&t?e%n.length:Y5(n)]}function k_(n,e,t,i,r){return KV(H_(n,i??0),e,t,r)}function KV(n,e,t,i){let r=!0;return(!i||i===tr.bottom)&&(r=n.top<e.height+t.x),r&&(!i||i===tr.left)&&(r=n.right>t.x),r&&(!i||i===tr.right)&&(r=n.left<e.width+t.y),r&&(!i||i===tr.top)&&(r=n.bottom>t.y),r}function H_(n,e){return{bottom:n.y+e,left:n.x-e,right:n.x+e,top:n.y-e}}function Rr(n,...e){for(const t of e){if(t==null)continue;if(!Op(t)){n=t;continue}const i=Array.isArray(t);i&&(Op(n)||!n||!Array.isArray(n))?n=[]:!i&&(Op(n)||!n||Array.isArray(n))&&(n={});for(const r in t){if(r==="__proto__")continue;const s=t,a=s[r],o=n;o[r]=Op(a)&&Array.isArray(a)?a.map(l=>Rr(o[r],l)):Rr(o[r],a)}}return n}function nC(n,e){return!!Q5(e,t=>t.enable&&Ir(n,t.mode))}function iC(n,e,t){hs(e,i=>{const r=i.mode;i.enable&&Ir(n,r)&&QV(i,t)})}function QV(n,e){const t=n.selectors;hs(t,i=>{e(i,n)})}function Z5(n,e){if(!(!e||!n))return Q5(n,t=>WV(e,t.selectors))}function L2(n){return{position:n.getPosition(),radius:n.getRadius(),mass:n.getMass(),velocity:n.velocity,factor:nr.create(St(n.options.bounce.horizontal.value),St(n.options.bounce.vertical.value))}}function K5(n,e){const{x:t,y:i}=n.velocity.sub(e.velocity),[r,s]=[n.position,e.position],{dx:a,dy:o}=ga(s,r);if(t*a+i*o<0)return;const u=-Math.atan2(o,a),d=n.mass,m=e.mass,v=n.velocity.rotate(u),y=e.velocity.rotate(u),x=bO(v,y,d,m),T=bO(y,v,d,m),E=x.rotate(-u),w=T.rotate(-u);n.velocity.x=E.x*n.factor.x,n.velocity.y=E.y*n.factor.y,e.velocity.x=w.x*e.factor.x,e.velocity.y=w.y*e.factor.y}function JV(n,e){const t=n.getPosition(),i=n.getRadius(),r=H_(t,i),s=n.options.bounce,a=xO({pSide:{min:r.left,max:r.right},pOtherSide:{min:r.top,max:r.bottom},rectSide:{min:e.left,max:e.right},rectOtherSide:{min:e.top,max:e.bottom},velocity:n.velocity.x,factor:St(s.horizontal.value)});a.bounced&&(a.velocity!==void 0&&(n.velocity.x=a.velocity),a.position!==void 0&&(n.position.x=a.position));const o=xO({pSide:{min:r.top,max:r.bottom},pOtherSide:{min:r.left,max:r.right},rectSide:{min:e.top,max:e.bottom},rectOtherSide:{min:e.left,max:e.right},velocity:n.velocity.y,factor:St(s.vertical.value)});o.bounced&&(o.velocity!==void 0&&(n.velocity.y=o.velocity),o.position!==void 0&&(n.position.y=o.position))}function hs(n,e){return Fa(n)?n.map((i,r)=>e(i,r)):e(n,0)}function pa(n,e,t){return Fa(n)?ch(n,e,t):n}function Q5(n,e){return Fa(n)?n.find((i,r)=>e(i,r)):e(n,0)?n:void 0}function J5(n,e){const t=n.value,i=n.animation,r={delayTime:St(i.delay)*Kr,enable:i.enable,value:St(n.value)*e,max:Bc(t)*e,min:ry(t)*e,loops:0,maxLoops:St(i.count),time:0},s=1;if(i.enable){switch(r.decay=s-St(i.decay),i.mode){case Jm.increase:r.status=jr.increasing;break;case Jm.decrease:r.status=jr.decreasing;break;case Jm.random:r.status=mn()>=Vi?jr.increasing:jr.decreasing;break}const a=i.mode===Jm.auto;switch(i.startValue){case sh.min:r.value=r.min,a&&(r.status=jr.increasing);break;case sh.max:r.value=r.max,a&&(r.status=jr.decreasing);break;case sh.random:default:r.value=da(r),a&&(r.status=mn()>=Vi?jr.increasing:jr.decreasing);break}}return r.initialValue=r.value,r}function eI(n,e){if(!(n.mode===mf.percent)){const{mode:r,...s}=n;return s}return"x"in n?{x:n.x/qi*e.width,y:n.y/qi*e.height}:{width:n.width/qi*e.width,height:n.height/qi*e.height}}function rC(n,e){return eI(n,e)}function SO(n,e){return eI(n,e)}function e7(n,e,t,i,r){switch(e){case lh.max:t>=r&&n.destroy();break;case lh.min:t<=i&&n.destroy();break}}function sy(n,e,t,i,r){if(n.destroyed||!e||!e.enable||(e.maxLoops??0)>0&&(e.loops??0)>(e.maxLoops??0))return;const d=(e.velocity??0)*r.factor,m=e.min,v=e.max,y=e.decay??1;if(e.time||(e.time=0),(e.delayTime??0)>0&&e.time<(e.delayTime??0)&&(e.time+=r.value),!((e.delayTime??0)>0&&e.time<(e.delayTime??0))){switch(e.status){case jr.increasing:e.value>=v?(t?e.status=jr.decreasing:e.value-=v,e.loops||(e.loops=0),e.loops++):e.value+=d;break;case jr.decreasing:e.value<=m?(t?e.status=jr.increasing:e.value+=v,e.loops||(e.loops=0),e.loops++):e.value-=d}e.velocity&&y!==1&&(e.velocity*=y),e7(n,i,e.value,m,v),n.destroyed||(e.value=dc(e.value,m,v))}}function t7(n){const e=document.createElement("div").style;if(!n)return e;for(const t in n){const i=n[t];if(!Object.prototype.hasOwnProperty.call(n,t)||ot(i))continue;const r=n.getPropertyValue?.(i);if(!r)continue;const s=n.getPropertyPriority?.(i);s?e.setProperty?.(i,r,s):e.setProperty?.(i,r)}return e}function n7(n){const e=document.createElement("div").style,t=10,i={width:"100%",height:"100%",margin:"0",padding:"0",borderWidth:"0",position:"fixed",zIndex:n.toString(t),"z-index":n.toString(t),top:"0",left:"0"};for(const r in i){const s=i[r];e.setProperty(r,s)}return e}const i7=qV(n7);var Tp;(function(n){n.darken="darken",n.enlighten="enlighten"})(Tp||(Tp={}));function tI(n,e){if(e){for(const t of n.colorManagers.values())if(e.startsWith(t.stringPrefix))return t.parseString(e)}}function Oo(n,e,t,i=!0){if(!e)return;const r=kl(e)?{value:e}:e;if(kl(r.value))return nI(n,r.value,t,i);if(Fa(r.value))return Oo(n,{value:ch(r.value,t,i)});for(const s of n.colorManagers.values()){const a=s.handleRangeColor(r);if(a)return a}}function nI(n,e,t,i=!0){if(!e)return;const r=kl(e)?{value:e}:e;if(kl(r.value))return r.value===iy?rI():s7(n,r.value);if(Fa(r.value))return nI(n,{value:ch(r.value,t,i)});for(const s of n.colorManagers.values()){const a=s.handleColor(r);if(a)return a}}function uh(n,e,t,i=!0){const r=Oo(n,e,t,i);return r?iI(r):void 0}function iI(n){const e=n.r/Rx,t=n.g/Rx,i=n.b/Rx,r=Math.max(e,t,i),s=Math.min(e,t,i),a={h:uO,l:(r+s)*Vi,s:R2};return r!==s&&(a.s=a.l<Vi?(r-s)/(r+s):(r-s)/(ao-r-s),a.h=e===r?(t-i)/(r-s):a.h=t===r?ao+(i-e)/(r-s):ao*ao+(e-t)/(r-s)),a.l*=C2,a.s*=A2,a.h*=uV,a.h<uO&&(a.h+=Qm),a.h>=Qm&&(a.h-=Qm),a}function r7(n,e){return tI(n,e)?.a}function s7(n,e){return tI(n,e)}function ay(n){const e=(n.h%Qm+Qm)%Qm,t=Math.max(R2,Math.min(A2,n.s)),i=Math.max(DV,Math.min(C2,n.l)),r=e/Qm,s=t/A2,a=i/C2;if(t===R2){const x=Math.round(a*Sm);return{r:x,g:x,b:x}}const o=(x,T,E)=>{if(E<0&&E++,E>1&&E--,E*mT<1)return x+(T-x)*mT*E;if(E*ao<1)return T;if(E*pT<1*ao){const D=ao/pT;return x+(T-x)*(D-E)*mT}return x},l=a<Vi?a*(LV+s):a+s-a*s,u=ao*a-l,d=NV/pT,m=Math.min(Sm,Sm*o(u,l,r+d)),v=Math.min(Sm,Sm*o(u,l,r)),y=Math.min(Sm,Sm*o(u,l,r-d));return{r:Math.round(m),g:Math.round(v),b:Math.round(y)}}function a7(n){const e=ay(n);return{a:n.a,b:e.b,g:e.g,r:e.r}}function rI(n){const e=IV,t=Rx+P2;return{b:Math.floor(da(Mn(e,t))),g:Math.floor(da(Mn(e,t))),r:Math.floor(da(Mn(e,t)))}}function Ul(n,e){return`rgba(${n.r}, ${n.g}, ${n.b}, ${e??eC})`}function Ip(n,e){return`hsla(${n.h}, ${n.s}%, ${n.l}%, ${e??eC})`}function sC(n,e,t,i){let r=n,s=e;return r.r===void 0&&(r=ay(n)),s.r===void 0&&(s=ay(e)),{b:gT(r.b,s.b,t,i),g:gT(r.g,s.g,t,i),r:gT(r.r,s.r,t,i)}}function N2(n,e,t){if(t===iy)return rI();if(t===Cx){const i=n.getFillColor()??n.getStrokeColor(),r=e?.getFillColor()??e?.getStrokeColor();if(i&&r&&e)return sC(i,r,n.getRadius(),e.getRadius());{const s=i??r;if(s)return ay(s)}}else return t}function sI(n,e,t,i){const r=kl(e)?e:e.value;return r===iy?i?Oo(n,{value:r}):t?iy:Cx:r===Cx?Cx:Oo(n,{value:r})}function wO(n){return n!==void 0?{h:n.h.value,s:n.s.value,l:n.l.value}:void 0}function aC(n,e,t){const i={h:{enable:!1,value:n.h},s:{enable:!1,value:n.s},l:{enable:!1,value:n.l}};return e&&(vT(i.h,e.h,t),vT(i.s,e.s,t),vT(i.l,e.l,t)),i}function vT(n,e,t){n.enable=e.enable,n.enable?(n.velocity=St(e.speed)/qi*t,n.decay=F5-St(e.decay),n.status=jr.increasing,n.loops=UV,n.maxLoops=St(e.count),n.time=BV,n.delayTime=St(e.delay)*Kr,e.sync||(n.velocity*=mn(),n.value*=mn()),n.initialValue=n.value,n.offset=Mn(e.offset)):n.velocity=zV}function yT(n,e,t,i){if(!n||!n.enable||(n.maxLoops??0)>0&&(n.loops??0)>(n.maxLoops??0)||(n.time||(n.time=0),(n.delayTime??0)>0&&n.time<(n.delayTime??0)&&(n.time+=i.value),(n.delayTime??0)>0&&n.time<(n.delayTime??0)))return;const d=n.offset?da(n.offset):0,m=(n.velocity??0)*i.factor+d*3.6,v=n.decay??1,y=Bc(e),x=ry(e);!t||n.status===jr.increasing?(n.value+=m,n.value>y&&(n.loops||(n.loops=0),n.loops++,t?n.status=jr.decreasing:n.value-=y)):(n.value-=m,n.value<0&&(n.loops||(n.loops=0),n.loops++,n.status=jr.increasing)),n.velocity&&v!==1&&(n.velocity*=v),n.value=dc(n.value,x,y)}function oC(n,e){if(!n)return;const{h:t,s:i,l:r}=n,s={h:{min:0,max:360},s:{min:0,max:100},l:{min:0,max:100}};t&&yT(t,s.h,!1,e),i&&yT(i,s.s,!0,e),r&&yT(r,s.l,!0,e)}function V0(n,e,t){n.beginPath(),n.moveTo(e.x,e.y),n.lineTo(t.x,t.y),n.closePath()}function o7(n,e,t){n.fillStyle=t??"rgba(0,0,0,0)",n.fillRect(Aa.x,Aa.y,e.width,e.height)}function l7(n,e,t,i){t&&(n.globalAlpha=i,n.drawImage(t,Aa.x,Aa.y,e.width,e.height),n.globalAlpha=1)}function _T(n,e){n.clearRect(Aa.x,Aa.y,e.width,e.height)}function c7(n){const{container:e,context:t,particle:i,delta:r,colorStyles:s,backgroundMask:a,composite:o,radius:l,opacity:u,shadow:d,transform:m}=n,v=i.getPosition(),y=i.rotation+(i.pathRotation?i.velocity.angle:G5),x={sin:Math.sin(y),cos:Math.cos(y)},T=!!y,E={a:x.cos*(m.a??tb.a),b:T?x.sin*(m.b??P2):m.b??tb.b,c:T?-x.sin*(m.c??P2):m.c??tb.c,d:x.cos*(m.d??tb.d)};t.setTransform(E.a,E.b,E.c,E.d,v.x,v.y),a&&(t.globalCompositeOperation=o);const w=i.shadowColor;d.enable&&w&&(t.shadowBlur=d.blur,t.shadowColor=Ul(w),t.shadowOffsetX=d.offset.x,t.shadowOffsetY=d.offset.y),s.fill&&(t.fillStyle=s.fill);const P=i.strokeWidth??j5;t.lineWidth=P,s.stroke&&(t.strokeStyle=s.stroke);const D={container:e,context:t,particle:i,radius:l,opacity:u,delta:r,transformData:E,strokeWidth:P};f7(D),h7(D),u7(D),t.globalCompositeOperation="source-over",t.resetTransform()}function u7(n){const{container:e,context:t,particle:i,radius:r,opacity:s,delta:a,transformData:o}=n;if(!i.effect)return;const l=e.effectDrawers.get(i.effect);l&&l.draw({context:t,particle:i,radius:r,opacity:s,delta:a,pixelRatio:e.retina.pixelRatio,transformData:{...o}})}function f7(n){const{container:e,context:t,particle:i,radius:r,opacity:s,delta:a,strokeWidth:o,transformData:l}=n;if(!i.shape)return;const u=e.shapeDrawers.get(i.shape);u&&(t.beginPath(),u.draw({context:t,particle:i,radius:r,opacity:s,delta:a,pixelRatio:e.retina.pixelRatio,transformData:{...l}}),i.shapeClose&&t.closePath(),o>j5&&t.stroke(),i.shapeFill&&t.fill())}function h7(n){const{container:e,context:t,particle:i,radius:r,opacity:s,delta:a,transformData:o}=n;if(!i.shape)return;const l=e.shapeDrawers.get(i.shape);l?.afterDraw&&l.afterDraw({context:t,particle:i,radius:r,opacity:s,delta:a,pixelRatio:e.retina.pixelRatio,transformData:{...o}})}function d7(n,e,t){e.draw&&e.draw(n,t)}function p7(n,e,t,i){e.drawParticle&&e.drawParticle(n,t,i)}function m7(n,e,t){return{h:n.h,s:n.s,l:n.l+(e===Tp.darken?-_O:_O)*t}}function g7(n,e,t){const i=e[t];i!==void 0&&(n[t]=(n[t]??hV)*i)}function EO(n,e,t=!1){if(!e)return;const i=n;if(!i)return;const r=i.style;if(!r)return;const s=new Set;for(const a in r)Object.prototype.hasOwnProperty.call(r,a)&&s.add(r[a]);for(const a in e)Object.prototype.hasOwnProperty.call(e,a)&&s.add(e[a]);for(const a of s){const o=e.getPropertyValue(a);o?r.setProperty(a,o,t?"important":""):r.removeProperty(a)}}let v7=class{constructor(e,t){this.container=e,this._applyPostDrawUpdaters=s=>{for(const a of this._postDrawUpdaters)a.afterDraw?.(s)},this._applyPreDrawUpdaters=(s,a,o,l,u,d)=>{for(const m of this._preDrawUpdaters){if(m.getColorStyles){const{fill:v,stroke:y}=m.getColorStyles(a,s,o,l);v&&(u.fill=v),y&&(u.stroke=y)}if(m.getTransformValues){const v=m.getTransformValues(a);for(const y in v)g7(d,v,y)}m.beforeDraw?.(a)}},this._applyResizePlugins=()=>{for(const s of this._resizePlugins)s.resize?.()},this._getPluginParticleColors=s=>{let a,o;for(const l of this._colorPlugins)if(!a&&l.particleFillColor&&(a=uh(this._engine,l.particleFillColor(s))),!o&&l.particleStrokeColor&&(o=uh(this._engine,l.particleStrokeColor(s))),a&&o)break;return[a,o]},this._initCover=async()=>{const s=this.container.actualOptions,a=s.backgroundMask.cover,o=a.color;if(o){const l=Oo(this._engine,o);if(l){const u={...l,a:a.opacity};this._coverColorStyle=Ul(u,u.a)}}else await new Promise((l,u)=>{if(!a.image)return;const d=document.createElement("img");d.addEventListener("load",()=>{this._coverImage={image:d,opacity:a.opacity},l()}),d.addEventListener("error",m=>{u(m.error)}),d.src=a.image})},this._initStyle=()=>{const s=this.element,a=this.container.actualOptions;if(s){this._fullScreen?this._setFullScreenStyle():this._resetOriginalStyle();for(const o in a.style){if(!o||!a.style||!Object.prototype.hasOwnProperty.call(a.style,o))continue;const l=a.style[o];l&&s.style.setProperty(o,l,"important")}}},this._initTrail=async()=>{const s=this.container.actualOptions,a=s.particles.move.trail,o=a.fill;if(!a.enable)return;const l=k5/a.length;if(o.color){const u=Oo(this._engine,o.color);if(!u)return;this._trailFill={color:{...u},opacity:l}}else await new Promise((u,d)=>{if(!o.image)return;const m=document.createElement("img");m.addEventListener("load",()=>{this._trailFill={image:m,opacity:l},u()}),m.addEventListener("error",v=>{d(v.error)}),m.src=o.image})},this._paintBase=s=>{this.draw(a=>o7(a,this.size,s))},this._paintImage=(s,a)=>{this.draw(o=>l7(o,this.size,s,a))},this._repairStyle=()=>{const s=this.element;if(!s)return;this._safeMutationObserver(o=>o.disconnect()),this._initStyle(),this.initBackground();const a=this._pointerEvents;s.style.pointerEvents=a,s.setAttribute("pointer-events",a),this._safeMutationObserver(o=>{!s||!(s instanceof Node)||o.observe(s,{attributes:!0})})},this._resetOriginalStyle=()=>{const s=this.element,a=this._originalStyle;!s||!a||EO(s,a,!0)},this._safeMutationObserver=s=>{this._mutationObserver&&s(this._mutationObserver)},this._setFullScreenStyle=()=>{const s=this.element;s&&EO(s,i7(this.container.actualOptions.fullScreen.zIndex),!0)},this._engine=t,this._standardSize={height:0,width:0};const i=e.retina.pixelRatio,r=this._standardSize;this.size={height:r.height*i,width:r.width*i},this._context=null,this._generated=!1,this._preDrawUpdaters=[],this._postDrawUpdaters=[],this._resizePlugins=[],this._colorPlugins=[],this._pointerEvents="none"}get _fullScreen(){return this.container.actualOptions.fullScreen.enable}clear(){const e=this.container.actualOptions,t=e.particles.move.trail,i=this._trailFill;e.backgroundMask.enable?this.paint():t.enable&&t.length>pV&&i?i.color?this._paintBase(Ul(i.color,i.opacity)):i.image&&this._paintImage(i.image,i.opacity):e.clear&&this.draw(r=>{_T(r,this.size)})}destroy(){this.stop(),this._generated?(this.element?.remove(),this.element=void 0):this._resetOriginalStyle(),this._preDrawUpdaters=[],this._postDrawUpdaters=[],this._resizePlugins=[],this._colorPlugins=[]}draw(e){const t=this._context;if(t)return e(t)}drawAsync(e){const t=this._context;if(t)return e(t)}drawParticle(e,t){if(e.spawning||e.destroyed)return;const i=e.getRadius();if(i<=dV)return;const r=e.getFillColor(),s=e.getStrokeColor()??r;let[a,o]=this._getPluginParticleColors(e);a||(a=r),o||(o=s),!(!a&&!o)&&this.draw(l=>{const u=this.container,d=u.actualOptions,m=e.options.zIndex,v=mV-e.zIndexFactor,y=v**m.opacityRate,x=e.bubble.opacity??e.opacity?.value??eC,T=e.strokeOpacity??x,E=x*y,w=T*y,P={},D={fill:a?Ip(a,E):void 0};D.stroke=o?Ip(o,w):D.fill,this._applyPreDrawUpdaters(l,e,i,E,D,P),c7({container:u,context:l,particle:e,delta:t,colorStyles:D,backgroundMask:d.backgroundMask.enable,composite:d.backgroundMask.composite,radius:i*v**m.sizeRate,opacity:E,shadow:e.options.shadow,transform:P}),this._applyPostDrawUpdaters(e)})}drawParticlePlugin(e,t,i){this.draw(r=>p7(r,e,t,i))}drawPlugin(e,t){this.draw(i=>d7(i,e,t))}async init(){this._safeMutationObserver(e=>e.disconnect()),this._mutationObserver=ZV(e=>{for(const t of e)t.type==="attributes"&&t.attributeName==="style"&&this._repairStyle()}),this.resize(),this._initStyle(),await this._initCover();try{await this._initTrail()}catch(e){xd().error(e)}this.initBackground(),this._safeMutationObserver(e=>{!this.element||!(this.element instanceof Node)||e.observe(this.element,{attributes:!0})}),this.initUpdaters(),this.initPlugins(),this.paint()}initBackground(){const e=this.container.actualOptions,t=e.background,i=this.element;if(!i)return;const r=i.style;if(r){if(t.color){const s=Oo(this._engine,t.color);r.backgroundColor=s?Ul(s,t.opacity):""}else r.backgroundColor="";r.backgroundImage=t.image||"",r.backgroundPosition=t.position||"",r.backgroundRepeat=t.repeat||"",r.backgroundSize=t.size||""}}initPlugins(){this._resizePlugins=[];for(const e of this.container.plugins.values())e.resize&&this._resizePlugins.push(e),(e.particleFillColor??e.particleStrokeColor)&&this._colorPlugins.push(e)}initUpdaters(){this._preDrawUpdaters=[],this._postDrawUpdaters=[];for(const e of this.container.particles.updaters)e.afterDraw&&this._postDrawUpdaters.push(e),(e.getColorStyles??e.getTransformValues??e.beforeDraw)&&this._preDrawUpdaters.push(e)}loadCanvas(e){this._generated&&this.element&&this.element.remove(),this._generated=e.dataset&&Km in e.dataset?e.dataset[Km]==="true":this._generated,this.element=e,this.element.ariaHidden="true",this._originalStyle=t7(this.element.style);const t=this._standardSize;t.height=e.offsetHeight,t.width=e.offsetWidth;const i=this.container.retina.pixelRatio,r=this.size;e.height=r.height=t.height*i,e.width=r.width=t.width*i,this._context=this.element.getContext("2d"),this._safeMutationObserver(s=>s.disconnect()),this.container.retina.init(),this.initBackground(),this._safeMutationObserver(s=>{!this.element||!(this.element instanceof Node)||s.observe(this.element,{attributes:!0})})}paint(){const e=this.container.actualOptions;this.draw(t=>{e.backgroundMask.enable&&e.backgroundMask.cover?(_T(t,this.size),this._coverImage?this._paintImage(this._coverImage.image,this._coverImage.opacity):this._coverColorStyle?this._paintBase(this._coverColorStyle):this._paintBase()):this._paintBase()})}resize(){if(!this.element)return!1;const e=this.container,t=e.canvas._standardSize,i={width:this.element.offsetWidth,height:this.element.offsetHeight},r=e.retina.pixelRatio,s={width:i.width*r,height:i.height*r};if(i.height===t.height&&i.width===t.width&&s.height===this.element.height&&s.width===this.element.width)return!1;const a={...t};t.height=i.height,t.width=i.width;const o=this.size;return this.element.width=o.width=s.width,this.element.height=o.height=s.height,this.container.started&&e.particles.setResizeFactor({width:t.width/a.width,height:t.height/a.height}),!0}setPointerEvents(e){this.element&&(this._pointerEvents=e,this._repairStyle())}stop(){this._safeMutationObserver(e=>e.disconnect()),this._mutationObserver=void 0,this.draw(e=>_T(e,this.size))}async windowResize(){if(!this.element||!this.resize())return;const e=this.container,t=e.updateActualOptions();e.particles.setDensity(),this._applyResizePlugins(),t&&await e.refresh()}};var Xv;(function(n){n.canvas="canvas",n.parent="parent",n.window="window"})(Xv||(Xv={}));function bu(n,e,t,i,r){if(i){let s={passive:!0};$5(r)?s.capture=r:r!==void 0&&(s=r),n.addEventListener(e,t,s)}else{const s=r;n.removeEventListener(e,t,s)}}class y7{constructor(e){this.container=e,this._doMouseTouchClick=t=>{const i=this.container,r=i.actualOptions;if(this._canPush){const s=i.interactivity.mouse,a=s.position;if(!a)return;s.clickPosition={...a},s.clickTime=new Date().getTime();const o=r.interactivity.events.onClick;hs(o.mode,l=>this.container.handleClickMode(l))}t.type==="touchend"&&setTimeout(()=>this._mouseTouchFinish(),PV)},this._handleThemeChange=t=>{const i=t,r=this.container,s=r.options,a=s.defaultThemes,o=i.matches?a.dark:a.light;s.themes.find(u=>u.name===o)?.default.auto&&r.loadTheme(o)},this._handleVisibilityChange=()=>{const t=this.container,i=t.actualOptions;this._mouseTouchFinish(),i.pauseOnBlur&&(document?.hidden?(t.pageHidden=!0,t.pause()):(t.pageHidden=!1,t.animationStatus?t.play(!0):t.draw(!0)))},this._handleWindowResize=()=>{this._resizeTimeout&&(clearTimeout(this._resizeTimeout),delete this._resizeTimeout);const t=async()=>{await this.container.canvas?.windowResize()};this._resizeTimeout=setTimeout(()=>void t(),this.container.actualOptions.interactivity.events.resize.delay*Kr)},this._manageInteractivityListeners=(t,i)=>{const r=this._handlers,s=this.container,a=s.actualOptions,o=s.interactivity.element;if(!o)return;const l=o,u=s.canvas;u.setPointerEvents(l===u.element?"initial":"none"),(a.interactivity.events.onHover.enable||a.interactivity.events.onClick.enable)&&(bu(o,pg,r.mouseMove,i),bu(o,u_,r.touchStart,i),bu(o,iV,r.touchMove,i),a.interactivity.events.onClick.enable?(bu(o,rO,r.touchEndClick,i),bu(o,tV,r.mouseUp,i),bu(o,c_,r.mouseDown,i)):bu(o,rO,r.touchEnd,i),bu(o,t,r.mouseLeave,i),bu(o,rV,r.touchCancel,i))},this._manageListeners=t=>{const i=this._handlers,r=this.container,s=r.actualOptions,a=s.interactivity.detectsOn,o=r.canvas.element;let l=M2;a===Xv.window?(r.interactivity.element=window,l=nV):a===Xv.parent&&o?r.interactivity.element=o.parentElement??o.parentNode:r.interactivity.element=o,this._manageMediaMatch(t),this._manageResize(t),this._manageInteractivityListeners(l,t),document&&bu(document,aV,i.visibilityChange,t,!1)},this._manageMediaMatch=t=>{const i=this._handlers,r=tC("(prefers-color-scheme: dark)");if(r){if(r.addEventListener!==void 0){bu(r,"change",i.themeChange,t);return}r.addListener!==void 0&&(t?r.addListener(i.oldThemeChange):r.removeListener(i.oldThemeChange))}},this._manageResize=t=>{const i=this._handlers,r=this.container;if(!r.actualOptions.interactivity.events.resize)return;if(typeof ResizeObserver>"u"){bu(window,sV,i.resize,t);return}const a=r.canvas.element;this._resizeObserver&&!t?(a&&this._resizeObserver.unobserve(a),this._resizeObserver.disconnect(),delete this._resizeObserver):!this._resizeObserver&&t&&a&&(this._resizeObserver=new ResizeObserver(o=>{o.find(u=>u.target===a)&&this._handleWindowResize()}),this._resizeObserver.observe(a))},this._mouseDown=()=>{const{interactivity:t}=this.container;if(!t)return;const{mouse:i}=t;i.clicking=!0,i.downPosition=i.position},this._mouseTouchClick=t=>{const i=this.container,r=i.actualOptions,{mouse:s}=i.interactivity;s.inside=!0;let a=!1;const o=s.position;if(!(!o||!r.interactivity.events.onClick.enable)){for(const l of i.plugins.values())if(l.clickPositionValid&&(a=l.clickPositionValid(o),a))break;a||this._doMouseTouchClick(t),s.clicking=!1}},this._mouseTouchFinish=()=>{const t=this.container.interactivity;if(!t)return;const i=t.mouse;delete i.position,delete i.clickPosition,delete i.downPosition,t.status=M2,i.inside=!1,i.clicking=!1},this._mouseTouchMove=t=>{const i=this.container,r=i.actualOptions,s=i.interactivity,a=i.canvas.element;if(!s?.element)return;s.mouse.inside=!0;let o;if(t.type.startsWith("pointer")){this._canPush=!0;const u=t;if(s.element===window){if(a){const d=a.getBoundingClientRect();o={x:u.clientX-d.left,y:u.clientY-d.top}}}else if(r.interactivity.detectsOn===Xv.parent){const d=u.target,m=u.currentTarget;if(d&&m&&a){const v=d.getBoundingClientRect(),y=m.getBoundingClientRect(),x=a.getBoundingClientRect();o={x:u.offsetX+ao*v.left-(y.left+x.left),y:u.offsetY+ao*v.top-(y.top+x.top)}}else o={x:u.offsetX??u.clientX,y:u.offsetY??u.clientY}}else u.target===a&&(o={x:u.offsetX??u.clientX,y:u.offsetY??u.clientY})}else if(this._canPush=t.type!=="touchmove",a){const u=t,d=u.touches[u.touches.length-V5],m=a.getBoundingClientRect();o={x:d.clientX-(m.left??Gx),y:d.clientY-(m.top??Gx)}}const l=i.retina.pixelRatio;o&&(o.x*=l,o.y*=l),s.mouse.position=o,s.status=pg},this._touchEnd=t=>{const i=t,r=Array.from(i.changedTouches);for(const s of r)this._touches.delete(s.identifier);this._mouseTouchFinish()},this._touchEndClick=t=>{const i=t,r=Array.from(i.changedTouches);for(const s of r)this._touches.delete(s.identifier);this._mouseTouchClick(t)},this._touchStart=t=>{const i=t,r=Array.from(i.changedTouches);for(const s of r)this._touches.set(s.identifier,performance.now());this._mouseTouchMove(t)},this._canPush=!0,this._touches=new Map,this._handlers={mouseDown:()=>this._mouseDown(),mouseLeave:()=>this._mouseTouchFinish(),mouseMove:t=>this._mouseTouchMove(t),mouseUp:t=>this._mouseTouchClick(t),touchStart:t=>this._touchStart(t),touchMove:t=>this._mouseTouchMove(t),touchEnd:t=>this._touchEnd(t),touchCancel:t=>this._touchEnd(t),touchEndClick:t=>this._touchEndClick(t),visibilityChange:()=>this._handleVisibilityChange(),themeChange:t=>this._handleThemeChange(t),oldThemeChange:t=>this._handleThemeChange(t),resize:()=>{this._handleWindowResize()}}}addListeners(){this._manageListeners(!0)}removeListeners(){this._manageListeners(!1)}}var Ll;(function(n){n.configAdded="configAdded",n.containerInit="containerInit",n.particlesSetup="particlesSetup",n.containerStarted="containerStarted",n.containerStopped="containerStopped",n.containerDestroyed="containerDestroyed",n.containerPaused="containerPaused",n.containerPlay="containerPlay",n.containerBuilt="containerBuilt",n.particleAdded="particleAdded",n.particleDestroyed="particleDestroyed",n.particleRemoved="particleRemoved"})(Ll||(Ll={}));class Cr{constructor(){this.value=""}static create(e,t){const i=new Cr;return i.load(e),t!==void 0&&(kl(t)||Fa(t)?i.load({value:t}):i.load(t)),i}load(e){ot(e)||ot(e.value)||(this.value=e.value)}}class _7{constructor(){this.color=new Cr,this.color.value="",this.image="",this.position="",this.repeat="",this.size="",this.opacity=1}load(e){ot(e)||(e.color!==void 0&&(this.color=Cr.create(this.color,e.color)),e.image!==void 0&&(this.image=e.image),e.position!==void 0&&(this.position=e.position),e.repeat!==void 0&&(this.repeat=e.repeat),e.size!==void 0&&(this.size=e.size),e.opacity!==void 0&&(this.opacity=e.opacity))}}class b7{constructor(){this.opacity=1}load(e){ot(e)||(e.color!==void 0&&(this.color=Cr.create(this.color,e.color)),e.image!==void 0&&(this.image=e.image),e.opacity!==void 0&&(this.opacity=e.opacity))}}class x7{constructor(){this.composite="destination-out",this.cover=new b7,this.enable=!1}load(e){if(!ot(e)){if(e.composite!==void 0&&(this.composite=e.composite),e.cover!==void 0){const t=e.cover,i=kl(e.cover)?{color:e.cover}:e.cover;this.cover.load(t.color!==void 0||t.image!==void 0?t:{color:i})}e.enable!==void 0&&(this.enable=e.enable)}}}class S7{constructor(){this.enable=!0,this.zIndex=0}load(e){ot(e)||(e.enable!==void 0&&(this.enable=e.enable),e.zIndex!==void 0&&(this.zIndex=e.zIndex))}}class w7{constructor(){this.enable=!1,this.mode=[]}load(e){ot(e)||(e.enable!==void 0&&(this.enable=e.enable),e.mode!==void 0&&(this.mode=e.mode))}}var oy;(function(n){n.circle="circle",n.rectangle="rectangle"})(oy||(oy={}));class TO{constructor(){this.selectors=[],this.enable=!1,this.mode=[],this.type=oy.circle}load(e){ot(e)||(e.selectors!==void 0&&(this.selectors=e.selectors),e.enable!==void 0&&(this.enable=e.enable),e.mode!==void 0&&(this.mode=e.mode),e.type!==void 0&&(this.type=e.type))}}class E7{constructor(){this.enable=!1,this.force=2,this.smooth=10}load(e){ot(e)||(e.enable!==void 0&&(this.enable=e.enable),e.force!==void 0&&(this.force=e.force),e.smooth!==void 0&&(this.smooth=e.smooth))}}class T7{constructor(){this.enable=!1,this.mode=[],this.parallax=new E7}load(e){ot(e)||(e.enable!==void 0&&(this.enable=e.enable),e.mode!==void 0&&(this.mode=e.mode),this.parallax.load(e.parallax))}}class M7{constructor(){this.delay=.5,this.enable=!0}load(e){ot(e)||(e.delay!==void 0&&(this.delay=e.delay),e.enable!==void 0&&(this.enable=e.enable))}}class A7{constructor(){this.onClick=new w7,this.onDiv=new TO,this.onHover=new T7,this.resize=new M7}load(e){if(ot(e))return;this.onClick.load(e.onClick);const t=e.onDiv;t!==void 0&&(this.onDiv=hs(t,i=>{const r=new TO;return r.load(i),r})),this.onHover.load(e.onHover),this.resize.load(e.resize)}}class C7{constructor(e,t){this._engine=e,this._container=t}load(e){if(ot(e)||!this._container)return;const t=this._engine.interactors.get(this._container);if(t)for(const i of t)i.loadModeOptions&&i.loadModeOptions(this,e)}}class aI{constructor(e,t){this.detectsOn=Xv.window,this.events=new A7,this.modes=new C7(e,t)}load(e){if(ot(e))return;const t=e.detectsOn;t!==void 0&&(this.detectsOn=t),this.events.load(e.events),this.modes.load(e.modes)}}class R7{load(e){ot(e)||(e.position&&(this.position={x:e.position.x??yO,y:e.position.y??yO,mode:e.position.mode??mf.percent}),e.options&&(this.options=Rr({},e.options)))}}var eg;(function(n){n.screen="screen",n.canvas="canvas"})(eg||(eg={}));class O7{constructor(){this.maxWidth=1/0,this.options={},this.mode=eg.canvas}load(e){ot(e)||(ot(e.maxWidth)||(this.maxWidth=e.maxWidth),ot(e.mode)||(e.mode===eg.screen?this.mode=eg.screen:this.mode=eg.canvas),ot(e.options)||(this.options=Rr({},e.options)))}}var Mp;(function(n){n.any="any",n.dark="dark",n.light="light"})(Mp||(Mp={}));class P7{constructor(){this.auto=!1,this.mode=Mp.any,this.value=!1}load(e){ot(e)||(e.auto!==void 0&&(this.auto=e.auto),e.mode!==void 0&&(this.mode=e.mode),e.value!==void 0&&(this.value=e.value))}}class D7{constructor(){this.name="",this.default=new P7}load(e){ot(e)||(e.name!==void 0&&(this.name=e.name),this.default.load(e.default),e.options!==void 0&&(this.options=Rr({},e.options)))}}class _w{constructor(){this.count=0,this.enable=!1,this.speed=1,this.decay=0,this.delay=0,this.sync=!1}load(e){ot(e)||(e.count!==void 0&&(this.count=Mn(e.count)),e.enable!==void 0&&(this.enable=e.enable),e.speed!==void 0&&(this.speed=Mn(e.speed)),e.decay!==void 0&&(this.decay=Mn(e.decay)),e.delay!==void 0&&(this.delay=Mn(e.delay)),e.sync!==void 0&&(this.sync=e.sync))}}class lC extends _w{constructor(){super(),this.mode=Jm.auto,this.startValue=sh.random}load(e){super.load(e),!ot(e)&&(e.mode!==void 0&&(this.mode=e.mode),e.startValue!==void 0&&(this.startValue=e.startValue))}}class bT extends _w{constructor(){super(),this.offset=0,this.sync=!0}load(e){super.load(e),!ot(e)&&e.offset!==void 0&&(this.offset=Mn(e.offset))}}class L7{constructor(){this.h=new bT,this.s=new bT,this.l=new bT}load(e){ot(e)||(this.h.load(e.h),this.s.load(e.s),this.l.load(e.l))}}class zp extends Cr{constructor(){super(),this.animation=new L7}static create(e,t){const i=new zp;return i.load(e),t!==void 0&&(kl(t)||Fa(t)?i.load({value:t}):i.load(t)),i}load(e){if(super.load(e),ot(e))return;const t=e.animation;t!==void 0&&(t.enable!==void 0?this.animation.h.load(t):this.animation.load(e.animation))}}var Yv;(function(n){n.absorb="absorb",n.bounce="bounce",n.destroy="destroy"})(Yv||(Yv={}));class N7{constructor(){this.speed=2}load(e){ot(e)||e.speed!==void 0&&(this.speed=e.speed)}}class I7{constructor(){this.enable=!0,this.retries=0}load(e){ot(e)||(e.enable!==void 0&&(this.enable=e.enable),e.retries!==void 0&&(this.retries=e.retries))}}class Gc{constructor(){this.value=0}load(e){ot(e)||ot(e.value)||(this.value=Mn(e.value))}}class z7 extends Gc{constructor(){super(),this.animation=new _w}load(e){if(super.load(e),ot(e))return;const t=e.animation;t!==void 0&&this.animation.load(t)}}class oI extends z7{constructor(){super(),this.animation=new lC}load(e){super.load(e)}}class MO extends Gc{constructor(){super(),this.value=1}}class lI{constructor(){this.horizontal=new MO,this.vertical=new MO}load(e){ot(e)||(this.horizontal.load(e.horizontal),this.vertical.load(e.vertical))}}class U7{constructor(){this.absorb=new N7,this.bounce=new lI,this.enable=!1,this.maxSpeed=50,this.mode=Yv.bounce,this.overlap=new I7}load(e){ot(e)||(this.absorb.load(e.absorb),this.bounce.load(e.bounce),e.enable!==void 0&&(this.enable=e.enable),e.maxSpeed!==void 0&&(this.maxSpeed=Mn(e.maxSpeed)),e.mode!==void 0&&(this.mode=e.mode),this.overlap.load(e.overlap))}}class B7{constructor(){this.close=!0,this.fill=!0,this.options={},this.type=[]}load(e){if(ot(e))return;const t=e.options;if(t!==void 0)for(const i in t){const r=t[i];r&&(this.options[i]=Rr(this.options[i]??{},r))}e.close!==void 0&&(this.close=e.close),e.fill!==void 0&&(this.fill=e.fill),e.type!==void 0&&(this.type=e.type)}}class k7{constructor(){this.offset=0,this.value=90}load(e){ot(e)||(e.offset!==void 0&&(this.offset=Mn(e.offset)),e.value!==void 0&&(this.value=Mn(e.value)))}}class H7{constructor(){this.distance=200,this.enable=!1,this.rotate={x:3e3,y:3e3}}load(e){if(!ot(e)&&(e.distance!==void 0&&(this.distance=Mn(e.distance)),e.enable!==void 0&&(this.enable=e.enable),e.rotate)){const t=e.rotate.x;t!==void 0&&(this.rotate.x=t);const i=e.rotate.y;i!==void 0&&(this.rotate.y=i)}}}class F7{constructor(){this.x=50,this.y=50,this.mode=mf.percent,this.radius=0}load(e){ot(e)||(e.x!==void 0&&(this.x=e.x),e.y!==void 0&&(this.y=e.y),e.mode!==void 0&&(this.mode=e.mode),e.radius!==void 0&&(this.radius=e.radius))}}class V7{constructor(){this.acceleration=9.81,this.enable=!1,this.inverse=!1,this.maxSpeed=50}load(e){ot(e)||(e.acceleration!==void 0&&(this.acceleration=Mn(e.acceleration)),e.enable!==void 0&&(this.enable=e.enable),e.inverse!==void 0&&(this.inverse=e.inverse),e.maxSpeed!==void 0&&(this.maxSpeed=Mn(e.maxSpeed)))}}class G7{constructor(){this.clamp=!0,this.delay=new Gc,this.enable=!1,this.options={}}load(e){ot(e)||(e.clamp!==void 0&&(this.clamp=e.clamp),this.delay.load(e.delay),e.enable!==void 0&&(this.enable=e.enable),this.generator=e.generator,e.options&&(this.options=Rr(this.options,e.options)))}}class j7{load(e){ot(e)||(e.color!==void 0&&(this.color=Cr.create(this.color,e.color)),e.image!==void 0&&(this.image=e.image))}}class $7{constructor(){this.enable=!1,this.length=10,this.fill=new j7}load(e){ot(e)||(e.enable!==void 0&&(this.enable=e.enable),e.fill!==void 0&&this.fill.load(e.fill),e.length!==void 0&&(this.length=e.length))}}var Ca;(function(n){n.bounce="bounce",n.none="none",n.out="out",n.destroy="destroy",n.split="split"})(Ca||(Ca={}));class q7{constructor(){this.default=Ca.out}load(e){ot(e)||(e.default!==void 0&&(this.default=e.default),this.bottom=e.bottom??e.default,this.left=e.left??e.default,this.right=e.right??e.default,this.top=e.top??e.default)}}class W7{constructor(){this.acceleration=0,this.enable=!1}load(e){ot(e)||(e.acceleration!==void 0&&(this.acceleration=Mn(e.acceleration)),e.enable!==void 0&&(this.enable=e.enable),e.position&&(this.position=Rr({},e.position)))}}class X7{constructor(){this.angle=new k7,this.attract=new H7,this.center=new F7,this.decay=0,this.distance={},this.direction=Ao.none,this.drift=0,this.enable=!1,this.gravity=new V7,this.path=new G7,this.outModes=new q7,this.random=!1,this.size=!1,this.speed=2,this.spin=new W7,this.straight=!1,this.trail=new $7,this.vibrate=!1,this.warp=!1}load(e){if(ot(e))return;this.angle.load(Lo(e.angle)?{value:e.angle}:e.angle),this.attract.load(e.attract),this.center.load(e.center),e.decay!==void 0&&(this.decay=Mn(e.decay)),e.direction!==void 0&&(this.direction=e.direction),e.distance!==void 0&&(this.distance=Lo(e.distance)?{horizontal:e.distance,vertical:e.distance}:{...e.distance}),e.drift!==void 0&&(this.drift=Mn(e.drift)),e.enable!==void 0&&(this.enable=e.enable),this.gravity.load(e.gravity);const t=e.outModes;t!==void 0&&(Op(t)?this.outModes.load(t):this.outModes.load({default:t})),this.path.load(e.path),e.random!==void 0&&(this.random=e.random),e.size!==void 0&&(this.size=e.size),e.speed!==void 0&&(this.speed=Mn(e.speed)),this.spin.load(e.spin),e.straight!==void 0&&(this.straight=e.straight),this.trail.load(e.trail),e.vibrate!==void 0&&(this.vibrate=e.vibrate),e.warp!==void 0&&(this.warp=e.warp)}}class Y7 extends lC{constructor(){super(),this.destroy=lh.none,this.speed=2}load(e){super.load(e),!ot(e)&&e.destroy!==void 0&&(this.destroy=e.destroy)}}class Z7 extends oI{constructor(){super(),this.animation=new Y7,this.value=1}load(e){if(ot(e))return;super.load(e);const t=e.animation;t!==void 0&&this.animation.load(t)}}class K7{constructor(){this.enable=!1,this.width=1920,this.height=1080}load(e){if(ot(e))return;e.enable!==void 0&&(this.enable=e.enable);const t=e.width;t!==void 0&&(this.width=t);const i=e.height;i!==void 0&&(this.height=i)}}var h_;(function(n){n.delete="delete",n.wait="wait"})(h_||(h_={}));class Q7{constructor(){this.mode=h_.delete,this.value=0}load(e){ot(e)||(e.mode!==void 0&&(this.mode=e.mode),e.value!==void 0&&(this.value=e.value))}}class J7{constructor(){this.density=new K7,this.limit=new Q7,this.value=0}load(e){ot(e)||(this.density.load(e.density),this.limit.load(e.limit),e.value!==void 0&&(this.value=e.value))}}class eG{constructor(){this.blur=0,this.color=new Cr,this.enable=!1,this.offset={x:0,y:0},this.color.value="#000"}load(e){ot(e)||(e.blur!==void 0&&(this.blur=e.blur),this.color=Cr.create(this.color,e.color),e.enable!==void 0&&(this.enable=e.enable),e.offset!==void 0&&(e.offset.x!==void 0&&(this.offset.x=e.offset.x),e.offset.y!==void 0&&(this.offset.y=e.offset.y)))}}let tG=class{constructor(){this.close=!0,this.fill=!0,this.options={},this.type="circle"}load(e){if(ot(e))return;const t=e.options;if(t!==void 0)for(const i in t){const r=t[i];r&&(this.options[i]=Rr(this.options[i]??{},r))}e.close!==void 0&&(this.close=e.close),e.fill!==void 0&&(this.fill=e.fill),e.type!==void 0&&(this.type=e.type)}};class nG extends lC{constructor(){super(),this.destroy=lh.none,this.speed=5}load(e){super.load(e),!ot(e)&&e.destroy!==void 0&&(this.destroy=e.destroy)}}class iG extends oI{constructor(){super(),this.animation=new nG,this.value=3}load(e){if(super.load(e),ot(e))return;const t=e.animation;t!==void 0&&this.animation.load(t)}}class AO{constructor(){this.width=0}load(e){ot(e)||(e.color!==void 0&&(this.color=zp.create(this.color,e.color)),e.width!==void 0&&(this.width=Mn(e.width)),e.opacity!==void 0&&(this.opacity=Mn(e.opacity)))}}class rG extends Gc{constructor(){super(),this.opacityRate=1,this.sizeRate=1,this.velocityRate=1}load(e){super.load(e),!ot(e)&&(e.opacityRate!==void 0&&(this.opacityRate=e.opacityRate),e.sizeRate!==void 0&&(this.sizeRate=e.sizeRate),e.velocityRate!==void 0&&(this.velocityRate=e.velocityRate))}}class sG{constructor(e,t){this._engine=e,this._container=t,this.bounce=new lI,this.collisions=new U7,this.color=new zp,this.color.value="#fff",this.effect=new B7,this.groups={},this.move=new X7,this.number=new J7,this.opacity=new Z7,this.reduceDuplicates=!1,this.shadow=new eG,this.shape=new tG,this.size=new iG,this.stroke=new AO,this.zIndex=new rG}load(e){if(ot(e))return;if(e.groups!==void 0)for(const i of Object.keys(e.groups)){if(!Object.hasOwn(e.groups,i))continue;const r=e.groups[i];r!==void 0&&(this.groups[i]=Rr(this.groups[i]??{},r))}e.reduceDuplicates!==void 0&&(this.reduceDuplicates=e.reduceDuplicates),this.bounce.load(e.bounce),this.color.load(zp.create(this.color,e.color)),this.effect.load(e.effect),this.move.load(e.move),this.number.load(e.number),this.opacity.load(e.opacity),this.shape.load(e.shape),this.size.load(e.size),this.shadow.load(e.shadow),this.zIndex.load(e.zIndex),this.collisions.load(e.collisions),e.interactivity!==void 0&&(this.interactivity=Rr({},e.interactivity));const t=e.stroke;if(t&&(this.stroke=hs(t,i=>{const r=new AO;return r.load(i),r})),this._container){const i=this._engine.updaters.get(this._container);if(i)for(const s of i)s.loadOptions&&s.loadOptions(this,e);const r=this._engine.interactors.get(this._container);if(r)for(const s of r)s.loadParticlesOptions&&s.loadParticlesOptions(this,e)}}}function cI(n,...e){for(const t of e)n.load(t)}function cC(n,e,...t){const i=new sG(n,e);return cI(i,...t),i}class aG{constructor(e,t){this._findDefaultTheme=i=>this.themes.find(r=>r.default.value&&r.default.mode===i)??this.themes.find(r=>r.default.value&&r.default.mode===Mp.any),this._importPreset=i=>{this.load(this._engine.getPreset(i))},this._engine=e,this._container=t,this.autoPlay=!0,this.background=new _7,this.backgroundMask=new x7,this.clear=!0,this.defaultThemes={},this.delay=0,this.fullScreen=new S7,this.detectRetina=!0,this.duration=0,this.fpsLimit=120,this.interactivity=new aI(e,t),this.manualParticles=[],this.particles=cC(this._engine,this._container),this.pauseOnBlur=!0,this.pauseOnOutsideViewport=!0,this.responsive=[],this.smooth=!1,this.style={},this.themes=[],this.zLayers=100}load(e){if(ot(e))return;e.preset!==void 0&&hs(e.preset,a=>this._importPreset(a)),e.autoPlay!==void 0&&(this.autoPlay=e.autoPlay),e.clear!==void 0&&(this.clear=e.clear),e.key!==void 0&&(this.key=e.key),e.name!==void 0&&(this.name=e.name),e.delay!==void 0&&(this.delay=Mn(e.delay));const t=e.detectRetina;t!==void 0&&(this.detectRetina=t),e.duration!==void 0&&(this.duration=Mn(e.duration));const i=e.fpsLimit;i!==void 0&&(this.fpsLimit=i),e.pauseOnBlur!==void 0&&(this.pauseOnBlur=e.pauseOnBlur),e.pauseOnOutsideViewport!==void 0&&(this.pauseOnOutsideViewport=e.pauseOnOutsideViewport),e.zLayers!==void 0&&(this.zLayers=e.zLayers),this.background.load(e.background);const r=e.fullScreen;$5(r)?this.fullScreen.enable=r:this.fullScreen.load(r),this.backgroundMask.load(e.backgroundMask),this.interactivity.load(e.interactivity),e.manualParticles&&(this.manualParticles=e.manualParticles.map(a=>{const o=new R7;return o.load(a),o})),this.particles.load(e.particles),this.style=Rr(this.style,e.style),this._engine.loadOptions(this,e),e.smooth!==void 0&&(this.smooth=e.smooth);const s=this._engine.interactors.get(this._container);if(s)for(const a of s)a.loadOptions&&a.loadOptions(this,e);if(e.responsive!==void 0)for(const a of e.responsive){const o=new O7;o.load(a),this.responsive.push(o)}if(this.responsive.sort((a,o)=>a.maxWidth-o.maxWidth),e.themes!==void 0)for(const a of e.themes){const o=this.themes.find(l=>l.name===a.name);if(o)o.load(a);else{const l=new D7;l.load(a),this.themes.push(l)}}this.defaultThemes.dark=this._findDefaultTheme(Mp.dark)?.name,this.defaultThemes.light=this._findDefaultTheme(Mp.light)?.name}setResponsive(e,t,i){this.load(i);const r=this.responsive.find(s=>s.mode===eg.screen&&screen?s.maxWidth>screen.availWidth:s.maxWidth*t>e);return this.load(r?.options),r?.maxWidth}setTheme(e){if(e){const t=this.themes.find(i=>i.name===e);t&&this.load(t.options)}else{const t=tC("(prefers-color-scheme: dark)"),i=t?.matches,r=this._findDefaultTheme(i?Mp.dark:Mp.light);r&&this.load(r.options)}}}var ly;(function(n){n.external="external",n.particles="particles"})(ly||(ly={}));class oG{constructor(e,t){this.container=t,this._engine=e,this._interactors=[],this._externalInteractors=[],this._particleInteractors=[]}externalInteract(e){for(const t of this._externalInteractors)t.isEnabled()&&t.interact(e)}handleClickMode(e){for(const t of this._externalInteractors)t.handleClickMode?.(e)}async init(){this._interactors=await this._engine.getInteractors(this.container,!0),this._externalInteractors=[],this._particleInteractors=[];for(const e of this._interactors){switch(e.type){case ly.external:this._externalInteractors.push(e);break;case ly.particles:this._particleInteractors.push(e);break}e.init()}}particlesInteract(e,t){for(const i of this._externalInteractors)i.clear(e,t);for(const i of this._particleInteractors)i.isEnabled(e)&&i.interact(e,t)}reset(e){for(const t of this._externalInteractors)t.isEnabled()&&t.reset(e);for(const t of this._particleInteractors)t.isEnabled(e)&&t.reset(e)}}var ff;(function(n){n.normal="normal",n.inside="inside",n.outside="outside"})(ff||(ff={}));function lG(n,e,t,i){const r=e.options[n];if(r)return Rr({close:e.close,fill:e.fill},pa(r,t,i))}function cG(n,e,t,i){const r=e.options[n];if(r)return Rr({close:e.close,fill:e.fill},pa(r,t,i))}function CO(n){if(!Ir(n.outMode,n.checkModes))return;const e=n.radius*ao;n.coord>n.maxCoord-e?n.setCb(-n.radius):n.coord<e&&n.setCb(n.radius)}class uG{constructor(e,t){this.container=t,this._calcPosition=(i,r,s,a=aO)=>{for(const x of i.plugins.values()){const T=x.particlePosition!==void 0?x.particlePosition(r,this):void 0;if(T)return Uc.create(T.x,T.y,s)}const o=i.canvas.size,l=jV({size:o,position:r}),u=Uc.create(l.x,l.y,s),d=this.getRadius(),m=this.options.move.outModes,v=x=>{CO({outMode:x,checkModes:[Ca.bounce],coord:u.x,maxCoord:i.canvas.size.width,setCb:T=>u.x+=T,radius:d})},y=x=>{CO({outMode:x,checkModes:[Ca.bounce],coord:u.y,maxCoord:i.canvas.size.height,setCb:T=>u.y+=T,radius:d})};return v(m.left??m.default),v(m.right??m.default),y(m.top??m.default),y(m.bottom??m.default),this._checkOverlap(u,a)?this._calcPosition(i,void 0,s,a+EV):u},this._calculateVelocity=()=>{const i=GV(this.direction),r=i.copy(),s=this.options.move;if(s.direction===Ao.inside||s.direction===Ao.outside)return r;const a=uf(St(s.angle.value)),o=uf(St(s.angle.offset)),l={left:o-a*Vi,right:o+a*Vi};return s.straight||(r.angle+=da(Mn(l.left,l.right))),s.random&&typeof s.speed=="number"&&(r.length*=mn()),r},this._checkOverlap=(i,r=aO)=>{const s=this.options.collisions,a=this.getRadius();if(!s.enable)return!1;const o=s.overlap;if(o.enable)return!1;const l=o.retries;if(l>=TV&&r>l)throw new Error(`${oo} particle is overlapping and can't be placed`);return!!this.container.particles.find(u=>Ro(i,u.position)<a+u.getRadius())},this._getRollColor=i=>{if(!i||!this.roll||!this.backColor&&!this.roll.alter)return i;const r=this.roll.horizontal&&this.roll.vertical?ao*pO:pO,s=this.roll.horizontal?Math.PI*Vi:f_;return Math.floor(((this.roll.angle??f_)+s)/(Math.PI/r))%ao?this.backColor?this.backColor:this.roll.alter?m7(i,this.roll.alter.type,this.roll.alter.value):i:i},this._initPosition=i=>{const r=this.container,s=St(this.options.zIndex.value);this.position=this._calcPosition(r,i,dc(s,MV,r.zLayers)),this.initialPosition=this.position.copy();const a=r.canvas.size;switch(this.moveCenter={...rC(this.options.move.center,a),radius:this.options.move.center.radius??AV,mode:this.options.move.center.mode??mf.percent},this.direction=VV(this.options.move.direction,this.position,this.moveCenter),this.options.move.direction){case Ao.inside:this.outType=ff.inside;break;case Ao.outside:this.outType=ff.outside;break}this.offset=nr.origin},this._engine=e}destroy(e){if(this.unbreakable||this.destroyed)return;this.destroyed=!0,this.bubble.inRange=!1,this.slow.inRange=!1;const t=this.container,i=this.pathGenerator;t.shapeDrawers.get(this.shape)?.particleDestroy?.(this);for(const s of t.plugins.values())s.particleDestroyed?.(this,e);for(const s of t.particles.updaters)s.particleDestroyed?.(this,e);i?.reset(this),this._engine.dispatchEvent(Ll.particleDestroyed,{container:this.container,data:{particle:this}})}draw(e){const t=this.container,i=t.canvas;for(const r of t.plugins.values())i.drawParticlePlugin(r,this,e);i.drawParticle(this,e)}getFillColor(){return this._getRollColor(this.bubble.color??wO(this.color))}getMass(){return this.getRadius()**od*Math.PI*Vi}getPosition(){return{x:this.position.x+this.offset.x,y:this.position.y+this.offset.y,z:this.position.z}}getRadius(){return this.bubble.radius??this.size.value}getStrokeColor(){return this._getRollColor(this.bubble.color??wO(this.strokeColor))}init(e,t,i,r){const s=this.container,a=this._engine;this.id=e,this.group=r,this.effectClose=!0,this.effectFill=!0,this.shapeClose=!0,this.shapeFill=!0,this.pathRotation=!1,this.lastPathTime=0,this.destroyed=!1,this.unbreakable=!1,this.isRotating=!1,this.rotation=0,this.misplaced=!1,this.retina={maxDistance:{}},this.outType=ff.normal,this.ignoresResizeRatio=!0;const o=s.retina.pixelRatio,l=s.actualOptions,u=cC(this._engine,s,l.particles),{reduceDuplicates:d}=u,m=u.effect.type,v=u.shape.type;this.effect=pa(m,this.id,d),this.shape=pa(v,this.id,d);const y=u.effect,x=u.shape;if(i){if(i.effect?.type){const M=i.effect.type,$=pa(M,this.id,d);$&&(this.effect=$,y.load(i.effect))}if(i.shape?.type){const M=i.shape.type,$=pa(M,this.id,d);$&&(this.shape=$,x.load(i.shape))}}if(this.effect===iy){const M=[...this.container.effectDrawers.keys()];this.effect=M[Math.floor(mn()*M.length)]}if(this.shape===iy){const M=[...this.container.shapeDrawers.keys()];this.shape=M[Math.floor(mn()*M.length)]}this.effectData=lG(this.effect,y,this.id,d),this.shapeData=cG(this.shape,x,this.id,d),u.load(i);const T=this.effectData;T&&u.load(T.particles);const E=this.shapeData;E&&u.load(E.particles);const w=new aI(a,s);w.load(s.actualOptions.interactivity),w.load(u.interactivity),this.interactivity=w,this.effectFill=T?.fill??u.effect.fill,this.effectClose=T?.close??u.effect.close,this.shapeFill=E?.fill??u.shape.fill,this.shapeClose=E?.close??u.shape.close,this.options=u;const P=this.options.move.path;this.pathDelay=St(P.delay.value)*Kr,P.generator&&(this.pathGenerator=this._engine.getPathGenerator(P.generator),this.pathGenerator&&s.addPath(P.generator,this.pathGenerator)&&this.pathGenerator.init(s)),s.retina.initParticle(this),this.size=J5(this.options.size,o),this.bubble={inRange:!1},this.slow={inRange:!1,factor:1},this._initPosition(t),this.initialVelocity=this._calculateVelocity(),this.velocity=this.initialVelocity.copy(),this.moveDecay=F5-St(this.options.move.decay);const D=s.particles;D.setLastZIndex(this.position.z),this.zIndexFactor=this.position.z/s.zLayers,this.sides=24;let N=s.effectDrawers.get(this.effect);N||(N=this._engine.getEffectDrawer(this.effect),N&&s.effectDrawers.set(this.effect,N)),N?.loadEffect&&N.loadEffect(this);let G=s.shapeDrawers.get(this.shape);G||(G=this._engine.getShapeDrawer(this.shape),G&&s.shapeDrawers.set(this.shape,G)),G?.loadShape&&G.loadShape(this);const k=G?.getSidesCount;k&&(this.sides=k(this)),this.spawning=!1,this.shadowColor=Oo(this._engine,this.options.shadow.color);for(const M of D.updaters)M.init(this);for(const M of D.movers)M.init?.(this);N?.particleInit?.(s,this),G?.particleInit?.(s,this);for(const M of s.plugins.values())M.particleCreated?.(this)}isInsideCanvas(){const e=this.getRadius(),t=this.container.canvas.size,i=this.position;return i.x>=-e&&i.y>=-e&&i.y<=t.height+e&&i.x<=t.width+e}isVisible(){return!this.destroyed&&!this.spawning&&this.isInsideCanvas()}reset(){for(const e of this.container.particles.updaters)e.reset?.(this)}}class fG{constructor(e,t){this.position=e,this.particle=t}}var Zv;(function(n){n.circle="circle",n.rectangle="rectangle"})(Zv||(Zv={}));class uI{constructor(e,t,i){this.position={x:e,y:t},this.type=i}}class Jo extends uI{constructor(e,t,i){super(e,t,Zv.circle),this.radius=i}contains(e){return Ro(e,this.position)<=this.radius}intersects(e){const t=this.position,i=e.position,r={x:Math.abs(i.x-t.x),y:Math.abs(i.y-t.y)},s=this.radius;if(e instanceof Jo||e.type===Zv.circle){const a=e,o=s+a.radius,l=Math.sqrt(r.x**od+r.y**od);return o>l}else if(e instanceof gf||e.type===Zv.rectangle){const a=e,{width:o,height:l}=a.size;return Math.pow(r.x-o,od)+Math.pow(r.y-l,od)<=s**od||r.x<=s+o&&r.y<=s+l||r.x<=o||r.y<=l}return!1}}class gf extends uI{constructor(e,t,i,r){super(e,t,Zv.rectangle),this.size={height:r,width:i}}contains(e){const t=this.size.width,i=this.size.height,r=this.position;return e.x>=r.x&&e.x<=r.x+t&&e.y>=r.y&&e.y<=r.y+i}intersects(e){if(e instanceof Jo)return e.intersects(this);const t=this.size.width,i=this.size.height,r=this.position,s=e.position,a=e instanceof gf?e.size:{width:0,height:0},o=a.width,l=a.height;return s.x<r.x+t&&s.x+o>r.x&&s.y<r.y+i&&s.y+l>r.y}}class $x{constructor(e,t){this.rectangle=e,this.capacity=t,this._subdivide=()=>{const{x:i,y:r}=this.rectangle.position,{width:s,height:a}=this.rectangle.size,{capacity:o}=this;for(let l=0;l<cV;l++){const u=l%ao;this._subs.push(new $x(new gf(i+s*Vi*u,r+a*Vi*(Math.round(l*Vi)-u),s*Vi,a*Vi),o))}this._divided=!0},this._points=[],this._divided=!1,this._subs=[]}insert(e){return this.rectangle.contains(e.position)?this._points.length<this.capacity?(this._points.push(e),!0):(this._divided||this._subdivide(),this._subs.some(t=>t.insert(e))):!1}query(e,t){const i=[];if(!e.intersects(this.rectangle))return[];for(const r of this._points)!e.contains(r.position)&&Ro(e.position,r.position)>r.particle.getRadius()&&(!t||t(r.particle))||i.push(r.particle);if(this._divided)for(const r of this._subs)i.push(...r.query(e,t));return i}queryCircle(e,t,i){return this.query(new Jo(e.x,e.y,t),i)}queryRectangle(e,t,i){return this.query(new gf(e.x,e.y,t.width,t.height),i)}}const RO=n=>{const{height:e,width:t}=n;return new gf(mO*t,mO*e,gO*t,gO*e)};let hG=class{constructor(e,t){this._addToPool=(...r)=>{this._pool.push(...r)},this._applyDensity=(r,s,a,o)=>{const l=r.number;if(!r.number.density?.enable){a===void 0?this._limit=l.limit.value:(o?.number.limit?.value??l.limit.value)&&this._groupLimits.set(a,o?.number.limit?.value??l.limit.value);return}const u=this._initDensityFactor(l.density),d=l.value,m=l.limit.value>vO?l.limit.value:d,v=Math.min(d,m)*u+s,y=Math.min(this.count,this.filter(x=>x.group===a).length);a===void 0?this._limit=l.limit.value*u:this._groupLimits.set(a,l.limit.value*u),y<v?this.push(Math.abs(v-y),void 0,r,a):y>v&&this.removeQuantity(y-v,a)},this._initDensityFactor=r=>{const s=this._container;if(!s.canvas.element||!r.enable)return OV;const a=s.canvas.element,o=s.retina.pixelRatio;return a.width*a.height/(r.height*r.width*o**od)},this._pushParticle=(r,s,a,o)=>{try{let l=this._pool.pop();l||(l=new uG(this._engine,this._container)),l.init(this._nextId,r,s,a);let u=!0;return o&&(u=o(l)),u?(this._array.push(l),this._zArray.push(l),this._nextId++,this._engine.dispatchEvent(Ll.particleAdded,{container:this._container,data:{particle:l}}),l):void 0}catch(l){xd().warning(`${oo} adding particle: ${l}`)}},this._removeParticle=(r,s,a)=>{const o=this._array[r];if(!o||o.group!==s)return!1;const l=this._zArray.indexOf(o);return this._array.splice(r,jx),this._zArray.splice(l,jx),o.destroy(a),this._engine.dispatchEvent(Ll.particleRemoved,{container:this._container,data:{particle:o}}),this._addToPool(o),!0},this._engine=e,this._container=t,this._nextId=0,this._array=[],this._zArray=[],this._pool=[],this._limit=0,this._groupLimits=new Map,this._needsSort=!1,this._lastZIndex=0,this._interactionManager=new oG(e,t),this._pluginsInitialized=!1;const i=t.canvas.size;this.quadTree=new $x(RO(i),oO),this.movers=[],this.updaters=[]}get count(){return this._array.length}addManualParticles(){const e=this._container;e.actualOptions.manualParticles.forEach(i=>this.addParticle(i.position?rC(i.position,e.canvas.size):void 0,i.options))}addParticle(e,t,i,r){const s=this._container.actualOptions.particles.number.limit.mode,a=i===void 0?this._limit:this._groupLimits.get(i)??this._limit,o=this.count;if(a>vO)switch(s){case h_.delete:{const l=o+CV-a;l>RV&&this.removeQuantity(l);break}case h_.wait:if(o>=a)return;break}return this._pushParticle(e,t,i,r)}clear(){this._array=[],this._zArray=[],this._pluginsInitialized=!1}destroy(){this._array=[],this._zArray=[],this.movers=[],this.updaters=[]}draw(e){const t=this._container,i=t.canvas;i.clear(),this.update(e);for(const r of t.plugins.values())i.drawPlugin(r,e);for(const r of this._zArray)r.draw(e)}filter(e){return this._array.filter(e)}find(e){return this._array.find(e)}get(e){return this._array[e]}handleClickMode(e){this._interactionManager.handleClickMode(e)}async init(){const e=this._container,t=e.actualOptions;this._lastZIndex=0,this._needsSort=!1,await this.initPlugins();let i=!1;for(const r of e.plugins.values())if(i=r.particlesInitialization?.()??i,i)break;if(this.addManualParticles(),!i){const r=t.particles,s=r.groups;for(const a in s){const o=s[a];for(let l=this.count,u=0;u<o.number?.value&&l<r.number.value;l++,u++)this.addParticle(void 0,o,a)}for(let a=this.count;a<r.number.value;a++)this.addParticle()}}async initPlugins(){if(this._pluginsInitialized)return;const e=this._container;this.movers=await this._engine.getMovers(e,!0),this.updaters=await this._engine.getUpdaters(e,!0),await this._interactionManager.init();for(const t of e.pathGenerators.values())t.init(e)}push(e,t,i,r){for(let s=0;s<e;s++)this.addParticle(t?.position,i,r)}async redraw(){this.clear(),await this.init(),this.draw({value:0,factor:0})}remove(e,t,i){this.removeAt(this._array.indexOf(e),void 0,t,i)}removeAt(e,t=lV,i,r){if(e<O2||e>this.count)return;let s=0;for(let a=e;s<t&&a<this.count;a++)this._removeParticle(a,i,r)&&(a--,s++)}removeQuantity(e,t){this.removeAt(O2,e,t)}setDensity(){const e=this._container.actualOptions,t=e.particles.groups,i=e.manualParticles.length;for(const r in t)this._applyDensity(t[r],i,r);this._applyDensity(e.particles,i)}setLastZIndex(e){this._lastZIndex=e,this._needsSort=this._needsSort||this._lastZIndex<e}setResizeFactor(e){this._resizeFactor=e}update(e){const t=this._container,i=new Set;this.quadTree=new $x(RO(t.canvas.size),oO);for(const s of t.pathGenerators.values())s.update();for(const s of t.plugins.values())s.update?.(e);const r=this._resizeFactor;for(const s of this._array){r&&!s.ignoresResizeRatio&&(s.position.x*=r.width,s.position.y*=r.height,s.initialPosition.x*=r.width,s.initialPosition.y*=r.height),s.ignoresResizeRatio=!1,this._interactionManager.reset(s);for(const a of this._container.plugins.values()){if(s.destroyed)break;a.particleUpdate?.(s,e)}for(const a of this.movers)a.isEnabled(s)&&a.move(s,e);if(s.destroyed){i.add(s);continue}this.quadTree.insert(new fG(s.getPosition(),s))}if(i.size){const s=a=>!i.has(a);this._array=this.filter(s),this._zArray=this._zArray.filter(s);for(const a of i)this._engine.dispatchEvent(Ll.particleRemoved,{container:this._container,data:{particle:a}});this._addToPool(...i)}this._interactionManager.externalInteract(e);for(const s of this._array){for(const a of this.updaters)a.update(s,e);!s.destroyed&&!s.spawning&&this._interactionManager.particlesInteract(s,e)}if(delete this._resizeFactor,this._needsSort){const s=this._zArray;s.sort((a,o)=>o.position.z-a.position.z||a.id-o.id),this._lastZIndex=s[s.length-V5].position.z,this._needsSort=!1}}};class dG{constructor(e){this.container=e,this.pixelRatio=lO,this.reduceFactor=cO}init(){const e=this.container,t=e.actualOptions;this.pixelRatio=!t.detectRetina||mg()?lO:devicePixelRatio,this.reduceFactor=cO;const i=this.pixelRatio,r=e.canvas;if(r.element){const o=r.element;r.size.width=o.offsetWidth*i,r.size.height=o.offsetHeight*i}const s=t.particles,a=s.move;this.maxSpeed=St(a.gravity.maxSpeed)*i,this.sizeAnimationSpeed=St(s.size.animation.speed)*i}initParticle(e){const t=e.options,i=this.pixelRatio,r=t.move,s=r.distance,a=e.retina;a.moveDrift=St(r.drift)*i,a.moveSpeed=St(r.speed)*i,a.sizeAnimationSpeed=St(t.size.animation.speed)*i;const o=a.maxDistance;o.horizontal=s.horizontal!==void 0?s.horizontal*i:void 0,o.vertical=s.vertical!==void 0?s.vertical*i:void 0,a.maxSpeed=St(r.gravity.maxSpeed)*i}}function Qs(n){return n&&!n.destroyed}function pG(n,e=hT,t=!1){return{value:n,factor:t?hT/e:hT*n/Kr}}function lv(n,e,...t){const i=new aG(n,e);return cI(i,...t),i}let mG=class{constructor(e,t,i){this._intersectionManager=r=>{if(!(!Qs(this)||!this.actualOptions.pauseOnOutsideViewport))for(const s of r)s.target===this.interactivity.element&&(s.isIntersecting?this.play():this.pause())},this._nextFrame=r=>{try{if(!this._smooth&&this._lastFrameTime!==void 0&&r<this._lastFrameTime+Kr/this.fpsLimit){this.draw(!1);return}this._lastFrameTime??=r;const s=pG(r-this._lastFrameTime,this.fpsLimit,this._smooth);if(this.addLifeTime(s.value),this._lastFrameTime=r,s.value>Kr){this.draw(!1);return}if(this.particles.draw(s),!this.alive()){this.destroy();return}this.animationStatus&&this.draw(!1)}catch(s){xd().error(`${oo} in animation loop`,s)}},this._engine=e,this.id=Symbol(t),this.fpsLimit=120,this._smooth=!1,this._delay=0,this._duration=0,this._lifeTime=0,this._firstStart=!0,this.started=!1,this.destroyed=!1,this._paused=!0,this._lastFrameTime=0,this.zLayers=100,this.pageHidden=!1,this._clickHandlers=new Map,this._sourceOptions=i,this._initialSourceOptions=i,this.retina=new dG(this),this.canvas=new v7(this,this._engine),this.particles=new hG(this._engine,this),this.pathGenerators=new Map,this.interactivity={mouse:{clicking:!1,inside:!1}},this.plugins=new Map,this.effectDrawers=new Map,this.shapeDrawers=new Map,this._options=lv(this._engine,this),this.actualOptions=lv(this._engine,this),this._eventListeners=new y7(this),this._intersectionObserver=YV(r=>this._intersectionManager(r)),this._engine.dispatchEvent(Ll.containerBuilt,{container:this})}get animationStatus(){return!this._paused&&!this.pageHidden&&Qs(this)}get options(){return this._options}get sourceOptions(){return this._sourceOptions}addClickHandler(e){if(!Qs(this))return;const t=this.interactivity.element;if(!t)return;const i=(m,v,y)=>{if(!Qs(this))return;const x=this.retina.pixelRatio,T={x:v.x*x,y:v.y*x},E=this.particles.quadTree.queryCircle(T,y*x);e(m,E)},r=m=>{if(!Qs(this))return;const v=m,y={x:v.offsetX||v.clientX,y:v.offsetY||v.clientY};i(m,y,gV)},s=()=>{Qs(this)&&(u=!0,d=!1)},a=()=>{Qs(this)&&(d=!0)},o=m=>{if(Qs(this)){if(u&&!d){const v=m;let y=v.touches[v.touches.length-dO];if(!y&&(y=v.changedTouches[v.changedTouches.length-dO],!y))return;const x=this.canvas.element,T=x?x.getBoundingClientRect():void 0,E={x:y.clientX-(T?T.left:Gx),y:y.clientY-(T?T.top:Gx)};i(m,E,Math.max(y.radiusX,y.radiusY))}u=!1,d=!1}},l=()=>{Qs(this)&&(u=!1,d=!1)};let u=!1,d=!1;this._clickHandlers.set("click",r),this._clickHandlers.set("touchstart",s),this._clickHandlers.set("touchmove",a),this._clickHandlers.set("touchend",o),this._clickHandlers.set("touchcancel",l);for(const[m,v]of this._clickHandlers)t.addEventListener(m,v)}addLifeTime(e){this._lifeTime+=e}addPath(e,t,i=!1){return!Qs(this)||!i&&this.pathGenerators.has(e)?!1:(this.pathGenerators.set(e,t),!0)}alive(){return!this._duration||this._lifeTime<=this._duration}clearClickHandlers(){if(Qs(this)){for(const[e,t]of this._clickHandlers)this.interactivity.element?.removeEventListener(e,t);this._clickHandlers.clear()}}destroy(e=!0){if(Qs(this)){this.stop(),this.clearClickHandlers(),this.particles.destroy(),this.canvas.destroy();for(const t of this.effectDrawers.values())t.destroy?.(this);for(const t of this.shapeDrawers.values())t.destroy?.(this);for(const t of this.effectDrawers.keys())this.effectDrawers.delete(t);for(const t of this.shapeDrawers.keys())this.shapeDrawers.delete(t);if(this._engine.clearPlugins(this),this.destroyed=!0,e){const t=this._engine.items,i=t.findIndex(r=>r===this);i>=vV&&t.splice(i,H5)}this._engine.dispatchEvent(Ll.containerDestroyed,{container:this})}}draw(e){if(!Qs(this))return;let t=e;const i=r=>{t&&(this._lastFrameTime=void 0,t=!1),this._nextFrame(r)};this._drawAnimationFrame=HV(r=>i(r))}async export(e,t={}){for(const i of this.plugins.values()){if(!i.export)continue;const r=await i.export(e,t);if(r.supported)return r.blob}xd().error(`${oo} - Export plugin with type ${e} not found`)}handleClickMode(e){if(Qs(this)){this.particles.handleClickMode(e);for(const t of this.plugins.values())t.handleClickMode?.(e)}}async init(){if(!Qs(this))return;const e=this._engine.getSupportedEffects();for(const u of e){const d=this._engine.getEffectDrawer(u);d&&this.effectDrawers.set(u,d)}const t=this._engine.getSupportedShapes();for(const u of t){const d=this._engine.getShapeDrawer(u);d&&this.shapeDrawers.set(u,d)}await this.particles.initPlugins(),this._options=lv(this._engine,this,this._initialSourceOptions,this.sourceOptions),this.actualOptions=lv(this._engine,this,this._options);const i=await this._engine.getAvailablePlugins(this);for(const[u,d]of i)this.plugins.set(u,d);this.retina.init(),await this.canvas.init(),this.updateActualOptions(),this.canvas.initBackground(),this.canvas.resize();const{zLayers:r,duration:s,delay:a,fpsLimit:o,smooth:l}=this.actualOptions;this.zLayers=r,this._duration=St(s)*Kr,this._delay=St(a)*Kr,this._lifeTime=0,this.fpsLimit=o>_V?o:yV,this._smooth=l;for(const u of this.effectDrawers.values())await u.init?.(this);for(const u of this.shapeDrawers.values())await u.init?.(this);for(const u of this.plugins.values())await u.init?.();this._engine.dispatchEvent(Ll.containerInit,{container:this}),await this.particles.init(),this.particles.setDensity();for(const u of this.plugins.values())u.particlesSetup?.();this._engine.dispatchEvent(Ll.particlesSetup,{container:this})}async loadTheme(e){Qs(this)&&(this._currentTheme=e,await this.refresh())}pause(){if(Qs(this)&&(this._drawAnimationFrame!==void 0&&(FV(this._drawAnimationFrame),delete this._drawAnimationFrame),!this._paused)){for(const e of this.plugins.values())e.pause?.();this.pageHidden||(this._paused=!0),this._engine.dispatchEvent(Ll.containerPaused,{container:this})}}play(e){if(!Qs(this))return;const t=this._paused||e;if(this._firstStart&&!this.actualOptions.autoPlay){this._firstStart=!1;return}if(this._paused&&(this._paused=!1),t)for(const i of this.plugins.values())i.play&&i.play();this._engine.dispatchEvent(Ll.containerPlay,{container:this}),this.draw(t??!1)}async refresh(){if(Qs(this))return this.stop(),this.start()}async reset(e){if(Qs(this))return this._initialSourceOptions=e,this._sourceOptions=e,this._options=lv(this._engine,this,this._initialSourceOptions,this.sourceOptions),this.actualOptions=lv(this._engine,this,this._options),this.refresh()}async start(){!Qs(this)||this.started||(await this.init(),this.started=!0,await new Promise(e=>{const t=async()=>{this._eventListeners.addListeners(),this.interactivity.element instanceof HTMLElement&&this._intersectionObserver&&this._intersectionObserver.observe(this.interactivity.element);for(const i of this.plugins.values())await i.start?.();this._engine.dispatchEvent(Ll.containerStarted,{container:this}),this.play(),e()};this._delayTimeout=setTimeout(()=>void t(),this._delay)}))}stop(){if(!(!Qs(this)||!this.started)){this._delayTimeout&&(clearTimeout(this._delayTimeout),delete this._delayTimeout),this._firstStart=!0,this.started=!1,this._eventListeners.removeListeners(),this.pause(),this.particles.clear(),this.canvas.stop(),this.interactivity.element instanceof HTMLElement&&this._intersectionObserver&&this._intersectionObserver.unobserve(this.interactivity.element);for(const e of this.plugins.values())e.stop?.();for(const e of this.plugins.keys())this.plugins.delete(e);this._sourceOptions=this._options,this._engine.dispatchEvent(Ll.containerStopped,{container:this})}}updateActualOptions(){this.actualOptions.responsive=[];const e=this.actualOptions.setResponsive(this.canvas.size.width,this.retina.pixelRatio,this._options);return this.actualOptions.setTheme(this._currentTheme),this._responsiveMaxWidth===e?!1:(this._responsiveMaxWidth=e,!0)}},gG=class{constructor(){this._listeners=new Map}addEventListener(e,t){this.removeEventListener(e,t);let i=this._listeners.get(e);i||(i=[],this._listeners.set(e,i)),i.push(t)}dispatchEvent(e,t){this._listeners.get(e)?.forEach(r=>r(t))}hasEventListener(e){return!!this._listeners.get(e)}removeAllEventListeners(e){e?this._listeners.delete(e):this._listeners=new Map}removeEventListener(e,t){const i=this._listeners.get(e);if(!i)return;const r=i.length,s=i.indexOf(t);s<O2||(r===jx?this._listeners.delete(e):i.splice(s,jx))}};async function xT(n,e,t,i=!1){let r=e.get(n);return(!r||i)&&(r=await Promise.all([...t.values()].map(s=>s(n))),e.set(n,r)),r}async function vG(n){const e=pa(n.url,n.index);if(!e)return n.fallback;const t=await fetch(e);return t.ok?await t.json():(xd().error(`${oo} ${t.status} while retrieving config file`),n.fallback)}const yG=n=>{let e;if(n instanceof HTMLCanvasElement||n.tagName.toLowerCase()===dT)e=n,e.dataset[Km]||(e.dataset[Km]=sO);else{const i=n.getElementsByTagName(dT);i.length?(e=i[bV],e.dataset[Km]=sO):(e=document.createElement(dT),e.dataset[Km]=B5,n.appendChild(e))}const t="100%";return e.style.width||(e.style.width=t),e.style.height||(e.style.height=t),e},_G=(n,e)=>{let t=e??document.getElementById(n);return t||(t=document.createElement("div"),t.id=n,t.dataset[Km]=B5,document.body.append(t),t)};let bG=class{constructor(){this._configs=new Map,this._domArray=[],this._eventDispatcher=new gG,this._initialized=!1,this.plugins=[],this.colorManagers=new Map,this.easingFunctions=new Map,this._initializers={interactors:new Map,movers:new Map,updaters:new Map},this.interactors=new Map,this.movers=new Map,this.updaters=new Map,this.presets=new Map,this.effectDrawers=new Map,this.shapeDrawers=new Map,this.pathGenerators=new Map}get configs(){const e={};for(const[t,i]of this._configs)e[t]=i;return e}get items(){return this._domArray}get version(){return"3.9.1"}async addColorManager(e,t=!0){this.colorManagers.set(e.key,e),await this.refresh(t)}addConfig(e){const t=e.key??e.name??"default";this._configs.set(t,e),this._eventDispatcher.dispatchEvent(Ll.configAdded,{data:{name:t,config:e}})}async addEasing(e,t,i=!0){this.getEasing(e)||(this.easingFunctions.set(e,t),await this.refresh(i))}async addEffect(e,t,i=!0){hs(e,r=>{this.getEffectDrawer(r)||this.effectDrawers.set(r,t)}),await this.refresh(i)}addEventListener(e,t){this._eventDispatcher.addEventListener(e,t)}async addInteractor(e,t,i=!0){this._initializers.interactors.set(e,t),await this.refresh(i)}async addMover(e,t,i=!0){this._initializers.movers.set(e,t),await this.refresh(i)}async addParticleUpdater(e,t,i=!0){this._initializers.updaters.set(e,t),await this.refresh(i)}async addPathGenerator(e,t,i=!0){this.getPathGenerator(e)||this.pathGenerators.set(e,t),await this.refresh(i)}async addPlugin(e,t=!0){this.getPlugin(e.id)||this.plugins.push(e),await this.refresh(t)}async addPreset(e,t,i=!1,r=!0){(i||!this.getPreset(e))&&this.presets.set(e,t),await this.refresh(r)}async addShape(e,t=!0){for(const i of e.validTypes)this.getShapeDrawer(i)||this.shapeDrawers.set(i,e);await this.refresh(t)}checkVersion(e){if(this.version!==e)throw new Error(`The tsParticles version is different from the loaded plugins version. Engine version: ${this.version}. Plugin version: ${e}`)}clearPlugins(e){this.updaters.delete(e),this.movers.delete(e),this.interactors.delete(e)}dispatchEvent(e,t){this._eventDispatcher.dispatchEvent(e,t)}dom(){return this.items}domItem(e){return this.item(e)}async getAvailablePlugins(e){const t=new Map;for(const i of this.plugins)i.needsPlugin(e.actualOptions)&&t.set(i.id,await i.getPlugin(e));return t}getEasing(e){return this.easingFunctions.get(e)??(t=>t)}getEffectDrawer(e){return this.effectDrawers.get(e)}async getInteractors(e,t=!1){return xT(e,this.interactors,this._initializers.interactors,t)}async getMovers(e,t=!1){return xT(e,this.movers,this._initializers.movers,t)}getPathGenerator(e){return this.pathGenerators.get(e)}getPlugin(e){return this.plugins.find(t=>t.id===e)}getPreset(e){return this.presets.get(e)}getShapeDrawer(e){return this.shapeDrawers.get(e)}getSupportedEffects(){return this.effectDrawers.keys()}getSupportedShapes(){return this.shapeDrawers.keys()}async getUpdaters(e,t=!1){return xT(e,this.updaters,this._initializers.updaters,t)}init(){this._initialized||(this._initialized=!0)}item(e){const{items:t}=this,i=t[e];if(!i||i.destroyed){t.splice(e,H5);return}return i}async load(e){const t=e.id??e.element?.id??`tsparticles${Math.floor(mn()*xV)}`,{index:i,url:r}=e,s=r?await vG({fallback:e.options,url:r,index:i}):e.options,a=pa(s,i),{items:o}=this,l=o.findIndex(v=>v.id.description===t),u=new mG(this,t,a);if(l>=SV){const v=this.item(l),y=v?wV:f_;v&&!v.destroyed&&v.destroy(!1),o.splice(l,y,u)}else o.push(u);const d=_G(t,e.element),m=yG(d);return u.canvas.loadCanvas(m),await u.start(),u}loadOptions(e,t){this.plugins.forEach(i=>i.loadOptions?.(e,t))}loadParticlesOptions(e,t,...i){const r=this.updaters.get(e);r&&r.forEach(s=>s.loadOptions?.(t,...i))}async refresh(e=!0){e&&await Promise.all(this.items.map(t=>t.refresh()))}removeEventListener(e,t){this._eventDispatcher.removeEventListener(e,t)}setOnClickHandler(e){const{items:t}=this;if(!t.length)throw new Error(`${oo} can only set click handlers after calling tsParticles.load()`);t.forEach(i=>i.addClickHandler(e))}};function xG(){const n=new bG;return n.init(),n}class mc{constructor(e){this.type=ly.external,this.container=e}}class Ty{constructor(e){this.type=ly.particles,this.container=e}}var ha;(function(n){n.clockwise="clockwise",n.counterClockwise="counter-clockwise",n.random="random"})(ha||(ha={}));var qx;(function(n){n.linear="linear",n.radial="radial",n.random="random"})(qx||(qx={}));var Pr;(function(n){n.easeInBack="ease-in-back",n.easeInCirc="ease-in-circ",n.easeInCubic="ease-in-cubic",n.easeInLinear="ease-in-linear",n.easeInQuad="ease-in-quad",n.easeInQuart="ease-in-quart",n.easeInQuint="ease-in-quint",n.easeInExpo="ease-in-expo",n.easeInSine="ease-in-sine",n.easeOutBack="ease-out-back",n.easeOutCirc="ease-out-circ",n.easeOutCubic="ease-out-cubic",n.easeOutLinear="ease-out-linear",n.easeOutQuad="ease-out-quad",n.easeOutQuart="ease-out-quart",n.easeOutQuint="ease-out-quint",n.easeOutExpo="ease-out-expo",n.easeOutSine="ease-out-sine",n.easeInOutBack="ease-in-out-back",n.easeInOutCirc="ease-in-out-circ",n.easeInOutCubic="ease-in-out-cubic",n.easeInOutLinear="ease-in-out-linear",n.easeInOutQuad="ease-in-out-quad",n.easeInOutQuart="ease-in-out-quart",n.easeInOutQuint="ease-in-out-quint",n.easeInOutExpo="ease-in-out-expo",n.easeInOutSine="ease-in-out-sine"})(Pr||(Pr={}));const bw=xG();mg()||(window.tsParticles=bw);const SG=n=>{const e=n.id??"tsparticles";return z.useEffect(()=>{let t;return bw.load({id:e,url:n.url,options:n.options}).then(i=>{var r;t=i,(r=n.particlesLoaded)==null||r.call(n,i)}),()=>{t?.destroy()}},[e,n,n.url,n.options]),ue.jsx("div",{id:e,className:n.className})};async function wG(n){await n(bw)}const EG=120,TG=.5,MG=100,AG=3;class Wx{static init(e){const t=new Wx,i=e.selector;if(!i)throw new Error("No selector provided");const r=document.querySelector(i);if(!r)throw new Error("No element found for selector");return bw.load({element:r,id:i.replace(".","").replace("!",""),options:{fullScreen:{enable:!1},particles:{color:{value:e.color??"!000000"},links:{color:"random",distance:e.minDistance??EG,enable:e.connectParticles??!1},move:{enable:!0,speed:e.speed??TG},number:{value:e.maxParticles??MG},size:{value:{min:1,max:e.sizeVariations??AG}}},responsive:e.responsive?.map(s=>({maxWidth:s.breakpoint,options:{particles:{color:{value:s.options?.color},links:{distance:s.options?.minDistance,enable:s.options?.connectParticles},number:{value:e.maxParticles},move:{enable:!0,speed:s.options?.speed},size:{value:s.options?.sizeVariations}}}}))}}).then(s=>{t._container=s}),t}destroy(){this._container?.destroy()}pauseAnimation(){this._container?.pause()}resumeAnimation(){this._container?.play()}}const CG=0,RG=0,OG=3,PG={particles:{number:{value:400,density:{enable:!0,value_area:800}},color:{value:"#fff"},shape:{type:"circle",stroke:{width:0,color:"#ff0000"},polygon:{nb_sides:5},image:{src:"",width:100,height:100}},opacity:{value:1,random:!1,anim:{enable:!1,speed:2,opacity_min:0,sync:!1}},size:{value:20,random:!1,anim:{enable:!1,speed:20,size_min:0,sync:!1}},line_linked:{enable:!0,distance:100,color:"#fff",opacity:1,width:1},move:{enable:!0,speed:2,direction:"none",random:!1,straight:!1,out_mode:"out",bounce:!1,attract:{enable:!1,rotateX:3e3,rotateY:3e3}}},interactivity:{detect_on:"canvas",events:{onhover:{enable:!0,mode:"grab"},onclick:{enable:!0,mode:"push"},resize:!0},modes:{grab:{distance:100,line_linked:{opacity:1}},bubble:{distance:200,size:80,duration:.4,opacity:1,speed:3},repulse:{distance:200,duration:.4},push:{particles_nb:4},remove:{particles_nb:2}}},retina_detect:!1},DG=n=>{const e=(i,r)=>{const s=Rr(PG,r);return n.load({id:i,options:{fullScreen:{enable:!1},detectRetina:s.retina_detect,smooth:!0,interactivity:{detectsOn:s.interactivity.detect_on,events:{onHover:{enable:s.interactivity.events.onhover.enable,mode:s.interactivity.events.onhover.mode},onClick:{enable:s.interactivity.events.onclick.enable,mode:s.interactivity.events.onclick.mode},resize:{enable:s.interactivity.events.resize}},modes:{grab:{distance:s.interactivity.modes.grab.distance,links:{opacity:s.interactivity.modes.grab.line_linked.opacity}},bubble:{distance:s.interactivity.modes.bubble.distance,size:s.interactivity.modes.bubble.size,duration:s.interactivity.modes.bubble.duration,opacity:s.interactivity.modes.bubble.opacity,speed:s.interactivity.modes.bubble.speed},repulse:{distance:s.interactivity.modes.repulse.distance,duration:s.interactivity.modes.repulse.duration},push:{quantity:s.interactivity.modes.push.particles_nb},remove:{quantity:s.interactivity.modes.remove.particles_nb}}},particles:{collisions:{enable:s.particles.move.bounce},number:{value:s.particles.number.value,density:{enable:s.particles.number.density.enable,width:s.particles.number.density.value_area}},color:{value:s.particles.color.value},stroke:{width:s.particles.shape.stroke.width,color:{value:s.particles.shape.stroke.color}},shape:{type:s.particles.shape.type,options:{polygon:{sides:s.particles.shape.polygon.nb_sides},image:{src:s.particles.shape.image.src,width:s.particles.shape.image.width,height:s.particles.shape.image.height}}},opacity:{value:s.particles.opacity.random?{min:s.particles.opacity.anim.enable?s.particles.opacity.anim.opacity_min:CG,max:s.particles.opacity.value}:s.particles.opacity.value,animation:{enable:s.particles.opacity.anim.enable,speed:s.particles.opacity.anim.speed,sync:s.particles.opacity.anim.sync}},size:{value:s.particles.size.random?{min:s.particles.size.anim.enable?s.particles.size.anim.size_min:RG,max:s.particles.size.value}:s.particles.size.value,animation:{enable:s.particles.size.anim.enable,speed:s.particles.size.anim.speed,sync:s.particles.size.anim.sync}},links:{enable:s.particles.line_linked.enable,distance:s.particles.line_linked.distance,color:s.particles.line_linked.color,opacity:s.particles.line_linked.opacity,width:s.particles.line_linked.width},move:{enable:s.particles.move.enable,speed:s.particles.move.speed/OG,direction:s.particles.move.direction,random:s.particles.move.random,straight:s.particles.move.straight,outModes:s.particles.move.out_mode,attract:{enable:s.particles.move.attract.enable,rotate:{x:s.particles.move.attract.rotateX,y:s.particles.move.attract.rotateY}}}}}})};e.load=(i,r,s)=>{n.load({id:i,url:r}).then(a=>{a&&s(a)}).catch(()=>{s(void 0)})},e.setOnClickHandler=i=>{n.setOnClickHandler(i)};const t=n.dom();return{particlesJS:e,pJSDom:t}},LG=n=>{n.checkVersion("3.9.1");const{particlesJS:e,pJSDom:t}=DG(n);return window.particlesJS=e,window.pJSDom=t,window.Particles=Wx,{particlesJS:e,pJSDom:t,Particles:Wx}},NG=2,IG=.5,zG=.2,UG=.5,Cl=.5,ST={y:0};function BG(n){const{context:e,particle:t,radius:i}=n,r=i*NG,s=t.heightFactor??IG,a=t.headWidthFactor??zG,o=t.bodyHeightFactor??UG,l=r*s,u=r*a,d=l*o;e.moveTo(-r*Cl,ST.y),e.lineTo(-r*Cl,-d*Cl),e.lineTo(r*Cl-u,-d*Cl),e.lineTo(r*Cl-u,-l*Cl),e.lineTo(r*Cl+u,ST.y),e.lineTo(r*Cl-u,l*Cl),e.lineTo(r*Cl-u,d*Cl),e.lineTo(-r*Cl,d*Cl),e.lineTo(-r*Cl,ST.y)}const kG=.5,HG=.2,FG=.5;class VG{constructor(){this.validTypes=["arrow"]}draw(e){BG(e)}particleInit(e,t){const i=t.shapeData;t.heightFactor=St(i?.heightFactor??kG),t.headWidthFactor=St(i?.headWidthFactor??HG),t.bodyHeightFactor=St(i?.bodyHeightFactor??FG)}}async function GG(n,e=!0){n.checkVersion("3.9.1"),await n.addShape(new VG,e)}const jG=3;class $G{draw(e){const{context:t,radius:i}=e,r=i/jG;t.beginPath(),t.arc(r,-r,r,G5,U5,!1),t.closePath(),t.fillStyle="#fff9",t.fill()}}async function qG(n,e=!0){n.checkVersion("3.9.1"),await n.addEffect("bubble",new $G,e)}class WG{constructor(){this.color=!0,this.opacity=!1}load(e){ot(e)||(e.color!==void 0&&(this.color=e.color),e.opacity!==void 0&&(this.opacity=e.opacity))}}const XG=0;class YG{constructor(){this.filter=e=>e.a>XG,this.offset=4}load(e){if(!ot(e)){if(e.filter!==void 0)if(kl(e.filter)){if(Object.hasOwn(window,e.filter)){const t=window[e.filter];yw(t)&&(this.filter=t)}}else this.filter=e.filter;e.offset!==void 0&&(this.offset=e.offset)}}}class ZG{constructor(){this.src=""}load(e){ot(e)||e.src!==void 0&&(this.src=e.src)}}class KG{constructor(){this.family="sans-serif",this.size=100}load(e){ot(e)||(e.family!==void 0&&(this.family=e.family),e.size!==void 0&&(this.size=e.size),e.style!==void 0&&(this.style=e.style),e.variant!==void 0&&(this.variant=e.variant),e.weight!==void 0&&(this.weight=e.weight))}}class QG{constructor(){this.separator=`
`,this.spacing=10}load(e){ot(e)||(e.separator!==void 0&&(this.separator=e.separator),e.spacing!==void 0&&(this.spacing=e.spacing))}}class JG{constructor(){this.color="#000000",this.font=new KG,this.lines=new QG,this.text=""}load(e){ot(e)||(e.color!==void 0&&(this.color=e.color),this.font.load(e.font),this.lines.load(e.lines),e.text!==void 0&&(this.text=e.text))}}class ej{constructor(){this.enable=!1,this.override=new WG,this.pixels=new YG,this.position={x:50,y:50},this.scale=1}load(e){ot(e)||(e.element!==void 0&&e.element instanceof HTMLCanvasElement&&(this.element=e.element),e.enable!==void 0&&(this.enable=e.enable),e.image&&(this.image||(this.image=new ZG),this.image.load(e.image)),this.pixels.load(e.pixels),e.position&&(this.position={x:e.position.x??this.position.x,y:e.position.y??this.position.y}),this.override.load(e.override),e.scale!==void 0&&(this.scale=e.scale),e.selector!==void 0&&(this.selector=e.selector),e.text&&(this.text||(this.text=new JG),this.text.load(e.text)))}}const OO=.5,fd={x:0,y:0},tj=0;function nj(n,e,t,i,r,s){const{height:a,width:o}=e,l=a*o,u=sj(aj(l)),d=Math.min(l,n.actualOptions.particles.number.value),m=n.canvas.size;let v=0;const y={x:m.width*t.x/qi-o*i*OO,y:m.height*t.y/qi-a*i*OO};for(;v<d&&u.length;){const T=u.pop()??0,E={x:T%o,y:Math.floor(T/o)},w=e.pixels[E.y][E.x];if(!s(w))continue;const D={x:E.x*i+y.x,y:E.y*i+y.y},N={};r.color&&(N.color={value:w}),r.opacity&&(N.opacity={value:w.a}),n.particles.addParticle(D,N),v++}}function uC(n,e,t,i=!0){const r=n.getImageData(fd.x,fd.y,e.width,e.height).data;i&&n.clearRect(fd.x,fd.y,e.width,e.height);const s=[];for(let a=0;a<r.length;a+=t){const o=a/t,l={x:o%e.width,y:Math.floor(o/e.width)};s[l.y]||(s[l.y]=[]);const u={r:0,g:1,b:2,a:3},d=255;s[l.y][l.x]={r:r[a+u.r],g:r[a+u.g],b:r[a+u.b],a:r[a+u.a]/d}}return{pixels:s,width:Math.min(...s.map(a=>a.length)),height:s.length}}function ij(n,e){const t=new Image;t.crossOrigin="Anonymous";const i=new Promise((r,s)=>{t.onerror=s,t.onload=()=>{const a=document.createElement("canvas");a.width=t.width,a.height=t.height;const o=a.getContext("2d");if(!o)return s(new Error(`${oo} Could not get canvas context`));o.drawImage(t,fd.x,fd.y,t.width,t.height,fd.x,fd.y,a.width,a.height),r(uC(o,a,e))}});return t.src=n,i}function rj(n,e){const t=document.createElement("canvas"),i=t.getContext("2d"),{font:r,text:s,lines:a,color:o}=n;if(!s||!i)return;const l=s.split(a.separator),u=Lo(r.size)?`${r.size}px`:r.size,d=[];let m=0,v=0;for(const x of l){i.font=`${r.style??""} ${r.variant??""} ${r.weight??""} ${u} ${r.family}`;const T=i.measureText(x),E={measure:T,text:x,height:T.actualBoundingBoxAscent+T.actualBoundingBoxDescent,width:T.width};m=Math.max(m||tj,E.width),v+=E.height+a.spacing,d.push(E)}t.width=m,t.height=v;let y=0;for(const x of d)i.font=`${r.style??""} ${r.variant??""} ${r.weight??""} ${u} ${r.family}`,i.fillStyle=o,i.fillText(x.text,fd.x,y+x.measure.actualBoundingBoxAscent),y+=x.height+a.spacing;return uC(i,t,e)}function sj(n){for(let i=n.length-1;i>=0;i--){const r=Math.floor(mn()*i);[n[i],n[r]]=[n[r],n[i]]}return n}const aj=n=>[...Array(n).keys()];class oj{constructor(e){this._container=e}async init(){const e=this._container,t=e.actualOptions.canvasMask;if(!t?.enable)return;let i={pixels:[],height:0,width:0};const r=t.pixels.offset;if(t.image){const s=t.image.src;if(!s)return;i=await ij(s,r)}else if(t.text){const s=t.text,a=rj(s,r);if(ot(a))return;i=a}else if(t.element??t.selector){const s=t.element??(t.selector&&document.querySelector(t.selector));if(!s)return;const a=s.getContext("2d");if(!a)return;i=uC(a,s,r)}nj(e,i,t.position,t.scale,t.override,t.pixels.filter)}}class lj{constructor(){this.id="canvasMask"}getPlugin(e){return Promise.resolve(new oj(e))}loadOptions(e,t){if(!this.needsPlugin(e)&&!this.needsPlugin(t))return;let i=e.canvasMask;i?.load===void 0&&(e.canvasMask=i=new ej),i.load(t?.canvasMask)}needsPlugin(e){return e?.canvasMask?.enable??!1}}async function cj(n,e=!0){n.checkVersion("3.9.1"),await n.addPlugin(new lj,e)}function xw(n,e){if(!e.segments.length||!e.segments[0].values.length)return;const{context:t,radius:i}=n;t.moveTo(e.segments[0].values[0].x*i,e.segments[0].values[0].y*i);for(const r of e.segments)t.bezierCurveTo(r.values[1].x*i,r.values[1].y*i,r.values[2].x*i,r.values[2].y*i,r.values[3].x*i,r.values[3].y*i);for(let r=e.segments.length-1;r>=0;r--){const s=e.segments[r];t.bezierCurveTo(-s.values[2].x*i,s.values[2].y*i,-s.values[1].x*i,s.values[1].y*i,-s.values[0].x*i,s.values[0].y*i)}}const Gt=1/2,Sw={heart:{segments:[{values:[{x:0,y:Gt},{x:0,y:Gt},{x:Gt,y:0},{x:Gt,y:-Gt/2}]},{values:[{x:Gt,y:-Gt/2},{x:Gt,y:-Gt/2},{x:Gt,y:-Gt},{x:Gt/2,y:-Gt}]},{values:[{x:Gt/2,y:-Gt},{x:Gt/2,y:-Gt},{x:0,y:-Gt},{x:0,y:-Gt/2}]}]},diamond:{segments:[{values:[{x:0,y:Gt},{x:0,y:Gt},{x:3*Gt/4,y:0},{x:3*Gt/4,y:0}]},{values:[{x:3*Gt/4,y:0},{x:3*Gt/4,y:0},{x:0,y:-Gt},{x:0,y:-Gt}]}]},club:{segments:[{values:[{x:0,y:-Gt},{x:0,y:-Gt},{x:Gt/2,y:-Gt},{x:Gt/2,y:-Gt/2}]},{values:[{x:Gt/2,y:-Gt/2},{x:Gt/2,y:-Gt/2},{x:Gt,y:-Gt/2},{x:Gt,y:0}]},{values:[{x:Gt,y:0},{x:Gt,y:0},{x:Gt,y:Gt/2},{x:Gt/2,y:Gt/2}]},{values:[{x:Gt/2,y:Gt/2},{x:Gt/2,y:Gt/2},{x:Gt/8,y:Gt/2},{x:Gt/8,y:Gt/8}]},{values:[{x:Gt/8,y:Gt/8},{x:Gt/8,y:Gt/2},{x:Gt/2,y:Gt},{x:Gt/2,y:Gt}]},{values:[{x:Gt/2,y:Gt},{x:Gt/2,y:Gt},{x:0,y:Gt},{x:0,y:Gt}]}]},spade:{segments:[{values:[{x:0,y:-Gt},{x:0,y:-Gt},{x:Gt,y:-Gt/2},{x:Gt,y:0}]},{values:[{x:Gt,y:0},{x:Gt,y:0},{x:Gt,y:Gt/2},{x:Gt/2,y:Gt/2}]},{values:[{x:Gt/2,y:Gt/2},{x:Gt/2,y:Gt/2},{x:Gt/8,y:Gt/2},{x:Gt/8,y:Gt/8}]},{values:[{x:Gt/8,y:Gt/8},{x:Gt/8,y:Gt/2},{x:Gt/2,y:Gt},{x:Gt/2,y:Gt}]},{values:[{x:Gt/2,y:Gt},{x:Gt/2,y:Gt},{x:0,y:Gt},{x:0,y:Gt}]}]}};class uj{constructor(){this.validTypes=["club","clubs"]}draw(e){xw(e,Sw.club)}}class fj{constructor(){this.validTypes=["diamond","diamonds"]}draw(e){xw(e,Sw.diamond)}}let hj=class{constructor(){this.validTypes=["heart","hearts"]}draw(e){xw(e,Sw.heart)}};class dj{constructor(){this.validTypes=["spade","spades"]}draw(e){xw(e,Sw.spade)}}async function pj(n,e=!0){n.checkVersion("3.9.1"),await n.addShape(new dj,e),await n.addShape(new hj,e),await n.addShape(new fj,e),await n.addShape(new uj,e)}const fI=2,I2=Math.PI*fI,mj=0,wT={x:0,y:0},PO=.005;function gj(n){const{context:e,particle:t,radius:i}=n;if(t.cogHoleRadius===void 0||t.cogInnerRadius===void 0||t.cogInnerTaper===void 0||t.cogNotches===void 0||t.cogOuterTaper===void 0)return;const r=i*t.cogHoleRadius/qi;e.globalCompositeOperation="destination-out",e.beginPath(),e.moveTo(r,wT.y),e.arc(wT.x,wT.y,r,mj,I2),e.closePath(),e.fill(),e.globalCompositeOperation="source-over"}function vj(n){const{context:e,particle:t,radius:i}=n;if(t.cogHoleRadius===void 0||t.cogInnerRadius===void 0||t.cogInnerTaper===void 0||t.cogNotches===void 0||t.cogOuterTaper===void 0)return;const r=I2/(t.cogNotches*fI),s=r*t.cogInnerTaper*PO,a=r*t.cogOuterTaper*PO,o=i*t.cogInnerRadius/qi;let l=r,u=!1;for(e.moveTo(i*Math.cos(a),i*Math.sin(a));l<=I2;l+=r)u?(e.lineTo(o*Math.cos(l-s),o*Math.sin(l-s)),e.lineTo(i*Math.cos(l+a),i*Math.sin(l+a))):(e.lineTo(i*Math.cos(l-a),i*Math.sin(l-a)),e.lineTo(o*Math.cos(l+s),o*Math.sin(l+s))),u=!u}const yj=44,_j=72,bj=35,xj=7,Sj=50;class wj{constructor(){this.validTypes=["cog"]}afterDraw(e){gj(e)}draw(e){vj(e)}particleInit(e,t){const i=t.shapeData;t.cogHoleRadius=St(i?.holeRadius??yj),t.cogInnerRadius=St(i?.innerRadius??_j),t.cogInnerTaper=St(i?.innerTaper??bj),t.cogNotches=St(i?.notches??xj),t.cogOuterTaper=St(i?.outerTaper??Sj)}}async function Ej(n,e=!0){n.checkVersion("3.9.1"),await n.addShape(new wj,e)}function Mu(n){const e=new Uint32Array(1);return e[0]=n[0]*1664525+1013904223,e}class Tj{constructor(){this._NORM_2D=1/47,this._SQUISH_2D=(Math.sqrt(3)-1)/2,this._STRETCH_2D=(1/Math.sqrt(3)-1)/2,this._base2D=[[1,1,0,1,0,1,0,0,0],[1,1,0,1,0,1,2,1,1]],this._gradients2D=[5,2,2,5,-5,2,-2,5,5,-2,2,-5,-5,-2,-2,-5],this._lookup=[],this._lookupPairs2D=[0,1,1,0,4,1,17,0,20,2,21,2,22,5,23,5,26,4,39,3,42,4,43,3],this._p2D=[0,0,1,-1,0,0,-1,1,0,2,1,1,1,2,2,0,1,2,0,2,1,0,0,0],this._perm=new Uint8Array(256),this._perm2D=new Uint8Array(256)}noise(e,t){const{_gradients2D:i,_NORM_2D:r,_SQUISH_2D:s,_STRETCH_2D:a,_lookup:o,_perm:l,_perm2D:u}=this,d=(e+t)*a,m=e+d,v=t+d,y=Math.floor(m),x=Math.floor(v),T=(y+x)*s,E=e-(y+T),w=t-(x+T),P=m-y,D=v-x,N=P+D,G=P-D+1|N<<1|N+D<<2|N+P<<4;let k=0;for(let M=o[G];M!==void 0;M=M.next){const $=E+M.dx,V=w+M.dy,H=2-$*$-V*V;if(H>0){const ee=y+M.xsb,pe=x+M.ysb,ae=l[ee&255],ye=u[ae+pe&255],Te=i[ye]*$+i[ye+1]*V;k+=H*H*H*H*Te}}return k*r}seed(e){const{_p2D:t,_base2D:i,_lookupPairs2D:r}=this,s=[];for(let l=0;l<t.length;l+=4){const u=i[t[l]];let d=null,m=null;for(let v=0;v<u.length;v+=3)m=this._contribution2D(u[v],u[v+1],u[v+2]),d===null?s[l/4]=m:d.next=m,d=m;m&&(m.next=this._contribution2D(t[l+1],t[l+2],t[l+3]))}this._lookup=[];for(let l=0;l<r.length;l+=2)this._lookup[r[l]]=s[r[l+1]];this._perm=new Uint8Array(256),this._perm2D=new Uint8Array(256);const a=new Uint8Array(256);for(let l=0;l<256;l++)a[l]=l;let o=new Uint32Array(1);o[0]=e,o=Mu(Mu(Mu(o)));for(let l=255;l>=0;l--){o=Mu(o);const u=new Uint32Array(1);u[0]=(o[0]+31)%(l+1),u[0]<0&&(u[0]+=l+1),this._perm[l]=a[u[0]],this._perm2D[l]=this._perm[l]&14,a[u[0]]=a[l]}}_contribution2D(e,t,i){const{_SQUISH_2D:r}=this;return{dx:-t-e*r,dy:-i-e*r,xsb:t,ysb:i}}}class Mj{constructor(){this._NORM_3D=1/103,this._SQUISH_3D=(Math.sqrt(4)-1)/3,this._STRETCH_3D=(1/Math.sqrt(4)-1)/3,this._base3D=[[0,0,0,0,1,1,0,0,1,0,1,0,1,0,0,1],[2,1,1,0,2,1,0,1,2,0,1,1,3,1,1,1],[1,1,0,0,1,0,1,0,1,0,0,1,2,1,1,0,2,1,0,1,2,0,1,1]],this._gradients3D=[-11,4,4,-4,11,4,-4,4,11,11,4,4,4,11,4,4,4,11,-11,-4,4,-4,-11,4,-4,-4,11,11,-4,4,4,-11,4,4,-4,11,-11,4,-4,-4,11,-4,-4,4,-11,11,4,-4,4,11,-4,4,4,-11,-11,-4,-4,-4,-11,-4,-4,-4,-11,11,-4,-4,4,-11,-4,4,-4,-11],this._lookup=[],this._lookupPairs3D=[0,2,1,1,2,2,5,1,6,0,7,0,32,2,34,2,129,1,133,1,160,5,161,5,518,0,519,0,546,4,550,4,645,3,647,3,672,5,673,5,674,4,677,3,678,4,679,3,680,13,681,13,682,12,685,14,686,12,687,14,712,20,714,18,809,21,813,23,840,20,841,21,1198,19,1199,22,1226,18,1230,19,1325,23,1327,22,1352,15,1353,17,1354,15,1357,17,1358,16,1359,16,1360,11,1361,10,1362,11,1365,10,1366,9,1367,9,1392,11,1394,11,1489,10,1493,10,1520,8,1521,8,1878,9,1879,9,1906,7,1910,7,2005,6,2007,6,2032,8,2033,8,2034,7,2037,6,2038,7,2039,6],this._p3D=[0,0,1,-1,0,0,1,0,-1,0,0,-1,1,0,0,0,1,-1,0,0,-1,0,1,0,0,-1,1,0,2,1,1,0,1,1,1,-1,0,2,1,0,1,1,1,-1,1,0,2,0,1,1,1,-1,1,1,1,3,2,1,0,3,1,2,0,1,3,2,0,1,3,1,0,2,1,3,0,2,1,3,0,1,2,1,1,1,0,0,2,2,0,0,1,1,0,1,0,2,0,2,0,1,1,0,0,1,2,0,0,2,2,0,0,0,0,1,1,-1,1,2,0,0,0,0,1,-1,1,1,2,0,0,0,0,1,1,1,-1,2,3,1,1,1,2,0,0,2,2,3,1,1,1,2,2,0,0,2,3,1,1,1,2,0,2,0,2,1,1,-1,1,2,0,0,2,2,1,1,-1,1,2,2,0,0,2,1,-1,1,1,2,0,0,2,2,1,-1,1,1,2,0,2,0,2,1,1,1,-1,2,2,0,0,2,1,1,1,-1,2,0,2,0],this._perm=new Uint8Array(256),this._perm3D=new Uint8Array(256)}noise(e,t,i){const{_STRETCH_3D:r,_NORM_3D:s,_SQUISH_3D:a,_lookup:o,_perm:l,_perm3D:u,_gradients3D:d}=this,m=(e+t+i)*r,v=e+m,y=t+m,x=i+m,T=Math.floor(v),E=Math.floor(y),w=Math.floor(x),P=(T+E+w)*a,D=e-(T+P),N=t-(E+P),G=i-(w+P),k=v-T,M=y-E,$=x-w,V=k+M+$,H=M-$+1|k-M+1<<1|k-$+1<<2|V<<3|V+$<<5|V+M<<7|V+k<<9;let ee=0;for(let pe=o[H];pe!==void 0;pe=pe.next){const ae=D+pe.dx,ye=N+pe.dy,Te=G+pe.dz,J=2-ae*ae-ye*ye-Te*Te;if(J>0){const de=T+pe.xsb,he=E+pe.ysb,Le=w+pe.zsb,ne=l[de&255],re=l[ne+he&255],ze=u[re+Le&255],Ve=d[ze]*ae+d[ze+1]*ye+d[ze+2]*Te;ee+=J*J*J*J*Ve}}return ee*s}seed(e){const{_base3D:t,_lookupPairs3D:i,_p3D:r}=this,s=[];for(let l=0;l<r.length;l+=9){const u=t[r[l]];let d=null,m=null;for(let v=0;v<u.length;v+=4)m=this._contribution3D(u[v],u[v+1],u[v+2],u[v+3]),d===null?s[l/9]=m:d.next=m,d=m;m&&(m.next=this._contribution3D(r[l+1],r[l+2],r[l+3],r[l+4]),m.next.next=this._contribution3D(r[l+5],r[l+6],r[l+7],r[l+8]))}this._lookup=[];for(let l=0;l<i.length;l+=2)this._lookup[i[l]]=s[i[l+1]];this._perm=new Uint8Array(256),this._perm3D=new Uint8Array(256);const a=new Uint8Array(256);for(let l=0;l<256;l++)a[l]=l;let o=new Uint32Array(1);o[0]=e,o=Mu(Mu(Mu(o)));for(let l=255;l>=0;l--){o=Mu(o);const u=new Uint32Array(1);u[0]=(o[0]+31)%(l+1),u[0]<0&&(u[0]+=l+1),this._perm[l]=a[u[0]],this._perm3D[l]=this._perm[l]%24*3,a[u[0]]=a[l]}}_contribution3D(e,t,i,r){const{_SQUISH_3D:s}=this;return{dx:-t-e*s,dy:-i-e*s,dz:-r-e*s,xsb:t,ysb:i,zsb:r}}}class Aj{constructor(){this._NORM_4D=1/30,this._SQUISH_4D=(Math.sqrt(5)-1)*.25,this._STRETCH_4D=(1/Math.sqrt(5)-1)*.25,this._lookup=[],this._perm=new Uint8Array(0),this._perm4D=new Uint8Array(0),this._base4D=[[0,0,0,0,0,1,1,0,0,0,1,0,1,0,0,1,0,0,1,0,1,0,0,0,1],[3,1,1,1,0,3,1,1,0,1,3,1,0,1,1,3,0,1,1,1,4,1,1,1,1],[1,1,0,0,0,1,0,1,0,0,1,0,0,1,0,1,0,0,0,1,2,1,1,0,0,2,1,0,1,0,2,1,0,0,1,2,0,1,1,0,2,0,1,0,1,2,0,0,1,1],[3,1,1,1,0,3,1,1,0,1,3,1,0,1,1,3,0,1,1,1,2,1,1,0,0,2,1,0,1,0,2,1,0,0,1,2,0,1,1,0,2,0,1,0,1,2,0,0,1,1]],this._gradients4D=[3,1,1,1,1,3,1,1,1,1,3,1,1,1,1,3,-3,1,1,1,-1,3,1,1,-1,1,3,1,-1,1,1,3,3,-1,1,1,1,-3,1,1,1,-1,3,1,1,-1,1,3,-3,-1,1,1,-1,-3,1,1,-1,-1,3,1,-1,-1,1,3,3,1,-1,1,1,3,-1,1,1,1,-3,1,1,1,-1,3,-3,1,-1,1,-1,3,-1,1,-1,1,-3,1,-1,1,-1,3,3,-1,-1,1,1,-3,-1,1,1,-1,-3,1,1,-1,-1,3,-3,-1,-1,1,-1,-3,-1,1,-1,-1,-3,1,-1,-1,-1,3,3,1,1,-1,1,3,1,-1,1,1,3,-1,1,1,1,-3,-3,1,1,-1,-1,3,1,-1,-1,1,3,-1,-1,1,1,-3,3,-1,1,-1,1,-3,1,-1,1,-1,3,-1,1,-1,1,-3,-3,-1,1,-1,-1,-3,1,-1,-1,-1,3,-1,-1,-1,1,-3,3,1,-1,-1,1,3,-1,-1,1,1,-3,-1,1,1,-1,-3,-3,1,-1,-1,-1,3,-1,-1,-1,1,-3,-1,-1,1,-1,-3,3,-1,-1,-1,1,-3,-1,-1,1,-1,-3,-1,1,-1,-1,-3,-3,-1,-1,-1,-1,-3,-1,-1,-1,-1,-3,-1,-1,-1,-1,-3],this._lookupPairs4D=[0,3,1,2,2,3,5,2,6,1,7,1,8,3,9,2,10,3,13,2,16,3,18,3,22,1,23,1,24,3,26,3,33,2,37,2,38,1,39,1,41,2,45,2,54,1,55,1,56,0,57,0,58,0,59,0,60,0,61,0,62,0,63,0,256,3,258,3,264,3,266,3,272,3,274,3,280,3,282,3,2049,2,2053,2,2057,2,2061,2,2081,2,2085,2,2089,2,2093,2,2304,9,2305,9,2312,9,2313,9,16390,1,16391,1,16406,1,16407,1,16422,1,16423,1,16438,1,16439,1,16642,8,16646,8,16658,8,16662,8,18437,6,18439,6,18469,6,18471,6,18688,9,18689,9,18690,8,18693,6,18694,8,18695,6,18696,9,18697,9,18706,8,18710,8,18725,6,18727,6,131128,0,131129,0,131130,0,131131,0,131132,0,131133,0,131134,0,131135,0,131352,7,131354,7,131384,7,131386,7,133161,5,133165,5,133177,5,133181,5,133376,9,133377,9,133384,9,133385,9,133400,7,133402,7,133417,5,133421,5,133432,7,133433,5,133434,7,133437,5,147510,4,147511,4,147518,4,147519,4,147714,8,147718,8,147730,8,147734,8,147736,7,147738,7,147766,4,147767,4,147768,7,147770,7,147774,4,147775,4,149509,6,149511,6,149541,6,149543,6,149545,5,149549,5,149558,4,149559,4,149561,5,149565,5,149566,4,149567,4,149760,9,149761,9,149762,8,149765,6,149766,8,149767,6,149768,9,149769,9,149778,8,149782,8,149784,7,149786,7,149797,6,149799,6,149801,5,149805,5,149814,4,149815,4,149816,7,149817,5,149818,7,149821,5,149822,4,149823,4,149824,37,149825,37,149826,36,149829,34,149830,36,149831,34,149832,37,149833,37,149842,36,149846,36,149848,35,149850,35,149861,34,149863,34,149865,33,149869,33,149878,32,149879,32,149880,35,149881,33,149882,35,149885,33,149886,32,149887,32,150080,49,150082,48,150088,49,150098,48,150104,47,150106,47,151873,46,151877,45,151881,46,151909,45,151913,44,151917,44,152128,49,152129,46,152136,49,152137,46,166214,43,166215,42,166230,43,166247,42,166262,41,166263,41,166466,48,166470,43,166482,48,166486,43,168261,45,168263,42,168293,45,168295,42,168512,31,168513,28,168514,31,168517,28,168518,25,168519,25,280952,40,280953,39,280954,40,280957,39,280958,38,280959,38,281176,47,281178,47,281208,40,281210,40,282985,44,282989,44,283001,39,283005,39,283208,30,283209,27,283224,30,283241,27,283256,22,283257,22,297334,41,297335,41,297342,38,297343,38,297554,29,297558,24,297562,29,297590,24,297594,21,297598,21,299365,26,299367,23,299373,26,299383,23,299389,20,299391,20,299584,31,299585,28,299586,31,299589,28,299590,25,299591,25,299592,30,299593,27,299602,29,299606,24,299608,30,299610,29,299621,26,299623,23,299625,27,299629,26,299638,24,299639,23,299640,22,299641,22,299642,21,299645,20,299646,21,299647,20,299648,61,299649,60,299650,61,299653,60,299654,59,299655,59,299656,58,299657,57,299666,55,299670,54,299672,58,299674,55,299685,52,299687,51,299689,57,299693,52,299702,54,299703,51,299704,56,299705,56,299706,53,299709,50,299710,53,299711,50,299904,61,299906,61,299912,58,299922,55,299928,58,299930,55,301697,60,301701,60,301705,57,301733,52,301737,57,301741,52,301952,79,301953,79,301960,76,301961,76,316038,59,316039,59,316054,54,316071,51,316086,54,316087,51,316290,78,316294,78,316306,73,316310,73,318085,77,318087,77,318117,70,318119,70,318336,79,318337,79,318338,78,318341,77,318342,78,318343,77,430776,56,430777,56,430778,53,430781,50,430782,53,430783,50,431e3,75,431002,72,431032,75,431034,72,432809,74,432813,69,432825,74,432829,69,433032,76,433033,76,433048,75,433065,74,433080,75,433081,74,447158,71,447159,68,447166,71,447167,68,447378,73,447382,73,447386,72,447414,71,447418,72,447422,71,449189,70,449191,70,449197,69,449207,68,449213,69,449215,68,449408,67,449409,67,449410,66,449413,64,449414,66,449415,64,449416,67,449417,67,449426,66,449430,66,449432,65,449434,65,449445,64,449447,64,449449,63,449453,63,449462,62,449463,62,449464,65,449465,63,449466,65,449469,63,449470,62,449471,62,449472,19,449473,19,449474,18,449477,16,449478,18,449479,16,449480,19,449481,19,449490,18,449494,18,449496,17,449498,17,449509,16,449511,16,449513,15,449517,15,449526,14,449527,14,449528,17,449529,15,449530,17,449533,15,449534,14,449535,14,449728,19,449729,19,449730,18,449734,18,449736,19,449737,19,449746,18,449750,18,449752,17,449754,17,449784,17,449786,17,451520,19,451521,19,451525,16,451527,16,451528,19,451529,19,451557,16,451559,16,451561,15,451565,15,451577,15,451581,15,451776,19,451777,19,451784,19,451785,19,465858,18,465861,16,465862,18,465863,16,465874,18,465878,18,465893,16,465895,16,465910,14,465911,14,465918,14,465919,14,466114,18,466118,18,466130,18,466134,18,467909,16,467911,16,467941,16,467943,16,468160,13,468161,13,468162,13,468163,13,468164,13,468165,13,468166,13,468167,13,580568,17,580570,17,580585,15,580589,15,580598,14,580599,14,580600,17,580601,15,580602,17,580605,15,580606,14,580607,14,580824,17,580826,17,580856,17,580858,17,582633,15,582637,15,582649,15,582653,15,582856,12,582857,12,582872,12,582873,12,582888,12,582889,12,582904,12,582905,12,596982,14,596983,14,596990,14,596991,14,597202,11,597206,11,597210,11,597214,11,597234,11,597238,11,597242,11,597246,11,599013,10,599015,10,599021,10,599023,10,599029,10,599031,10,599037,10,599039,10,599232,13,599233,13,599234,13,599235,13,599236,13,599237,13,599238,13,599239,13,599240,12,599241,12,599250,11,599254,11,599256,12,599257,12,599258,11,599262,11,599269,10,599271,10,599272,12,599273,12,599277,10,599279,10,599282,11,599285,10,599286,11,599287,10,599288,12,599289,12,599290,11,599293,10,599294,11,599295,10],this._p4D=[0,0,1,-1,0,0,0,1,0,-1,0,0,1,0,0,-1,0,0,-1,1,0,0,0,0,1,-1,0,0,0,1,0,-1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,-1,0,0,-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,2,1,1,0,0,1,1,1,-1,0,1,1,1,0,-1,0,2,1,0,1,0,1,1,-1,1,0,1,1,0,1,-1,0,2,0,1,1,0,1,-1,1,1,0,1,0,1,1,-1,0,2,1,0,0,1,1,1,-1,0,1,1,1,0,-1,1,0,2,0,1,0,1,1,-1,1,0,1,1,0,1,-1,1,0,2,0,0,1,1,1,-1,0,1,1,1,0,-1,1,1,1,4,2,1,1,0,4,1,2,1,0,4,1,1,2,0,1,4,2,1,0,1,4,1,2,0,1,4,1,1,0,2,1,4,2,0,1,1,4,1,0,2,1,4,1,0,1,2,1,4,0,2,1,1,4,0,1,2,1,4,0,1,1,2,1,2,1,1,0,0,3,2,1,0,0,3,1,2,0,0,1,2,1,0,1,0,3,2,0,1,0,3,1,0,2,0,1,2,0,1,1,0,3,0,2,1,0,3,0,1,2,0,1,2,1,0,0,1,3,2,0,0,1,3,1,0,0,2,1,2,0,1,0,1,3,0,2,0,1,3,0,1,0,2,1,2,0,0,1,1,3,0,0,2,1,3,0,0,1,2,2,3,1,1,1,0,2,1,1,1,-1,2,2,0,0,0,2,3,1,1,0,1,2,1,1,-1,1,2,2,0,0,0,2,3,1,0,1,1,2,1,-1,1,1,2,2,0,0,0,2,3,1,1,1,0,2,1,1,1,-1,2,0,2,0,0,2,3,1,1,0,1,2,1,1,-1,1,2,0,2,0,0,2,3,0,1,1,1,2,-1,1,1,1,2,0,2,0,0,2,3,1,1,1,0,2,1,1,1,-1,2,0,0,2,0,2,3,1,0,1,1,2,1,-1,1,1,2,0,0,2,0,2,3,0,1,1,1,2,-1,1,1,1,2,0,0,2,0,2,3,1,1,0,1,2,1,1,-1,1,2,0,0,0,2,2,3,1,0,1,1,2,1,-1,1,1,2,0,0,0,2,2,3,0,1,1,1,2,-1,1,1,1,2,0,0,0,2,2,1,1,1,-1,0,1,1,1,0,-1,0,0,0,0,0,2,1,1,-1,1,0,1,1,0,1,-1,0,0,0,0,0,2,1,-1,1,1,0,1,0,1,1,-1,0,0,0,0,0,2,1,1,-1,0,1,1,1,0,-1,1,0,0,0,0,0,2,1,-1,1,0,1,1,0,1,-1,1,0,0,0,0,0,2,1,-1,0,1,1,1,0,-1,1,1,0,0,0,0,0,2,1,1,1,-1,0,1,1,1,0,-1,2,2,0,0,0,2,1,1,-1,1,0,1,1,0,1,-1,2,2,0,0,0,2,1,1,-1,0,1,1,1,0,-1,1,2,2,0,0,0,2,1,1,1,-1,0,1,1,1,0,-1,2,0,2,0,0,2,1,-1,1,1,0,1,0,1,1,-1,2,0,2,0,0,2,1,-1,1,0,1,1,0,1,-1,1,2,0,2,0,0,2,1,1,-1,1,0,1,1,0,1,-1,2,0,0,2,0,2,1,-1,1,1,0,1,0,1,1,-1,2,0,0,2,0,2,1,-1,0,1,1,1,0,-1,1,1,2,0,0,2,0,2,1,1,-1,0,1,1,1,0,-1,1,2,0,0,0,2,2,1,-1,1,0,1,1,0,1,-1,1,2,0,0,0,2,2,1,-1,0,1,1,1,0,-1,1,1,2,0,0,0,2,3,1,1,0,0,0,2,2,0,0,0,2,1,1,1,-1,3,1,0,1,0,0,2,0,2,0,0,2,1,1,1,-1,3,1,0,0,1,0,2,0,0,2,0,2,1,1,1,-1,3,1,1,0,0,0,2,2,0,0,0,2,1,1,-1,1,3,1,0,1,0,0,2,0,2,0,0,2,1,1,-1,1,3,1,0,0,0,1,2,0,0,0,2,2,1,1,-1,1,3,1,1,0,0,0,2,2,0,0,0,2,1,-1,1,1,3,1,0,0,1,0,2,0,0,2,0,2,1,-1,1,1,3,1,0,0,0,1,2,0,0,0,2,2,1,-1,1,1,3,1,0,1,0,0,2,0,2,0,0,2,-1,1,1,1,3,1,0,0,1,0,2,0,0,2,0,2,-1,1,1,1,3,1,0,0,0,1,2,0,0,0,2,2,-1,1,1,1,3,3,2,1,0,0,3,1,2,0,0,4,1,1,1,1,3,3,2,0,1,0,3,1,0,2,0,4,1,1,1,1,3,3,0,2,1,0,3,0,1,2,0,4,1,1,1,1,3,3,2,0,0,1,3,1,0,0,2,4,1,1,1,1,3,3,0,2,0,1,3,0,1,0,2,4,1,1,1,1,3,3,0,0,2,1,3,0,0,1,2,4,1,1,1,1,3,3,2,1,0,0,3,1,2,0,0,2,1,1,1,-1,3,3,2,0,1,0,3,1,0,2,0,2,1,1,1,-1,3,3,0,2,1,0,3,0,1,2,0,2,1,1,1,-1,3,3,2,1,0,0,3,1,2,0,0,2,1,1,-1,1,3,3,2,0,0,1,3,1,0,0,2,2,1,1,-1,1,3,3,0,2,0,1,3,0,1,0,2,2,1,1,-1,1,3,3,2,0,1,0,3,1,0,2,0,2,1,-1,1,1,3,3,2,0,0,1,3,1,0,0,2,2,1,-1,1,1,3,3,0,0,2,1,3,0,0,1,2,2,1,-1,1,1,3,3,0,2,1,0,3,0,1,2,0,2,-1,1,1,1,3,3,0,2,0,1,3,0,1,0,2,2,-1,1,1,1,3,3,0,0,2,1,3,0,0,1,2,2,-1,1,1,1]}noise(e,t,i,r){const{_perm:s,_perm4D:a,_lookup:o,_STRETCH_4D:l,_SQUISH_4D:u,_gradients4D:d,_NORM_4D:m}=this,v=(e+t+i+r)*l,y=e+v,x=t+v,T=i+v,E=r+v,w=Math.floor(y),P=Math.floor(x),D=Math.floor(T),N=Math.floor(E),G=(w+P+D+N)*u,k=e-(w+G),M=t-(P+G),$=i-(D+G),V=r-(N+G),H=y-w,ee=x-P,pe=T-D,ae=E-N,ye=H+ee+pe+ae,Te=pe-ae+1|ee-pe+1<<1|ee-ae+1<<2|H-ee+1<<3|H-pe+1<<4|H-ae+1<<5|ye<<6|ye+ae<<8|ye+pe<<11|ye+ee<<14|ye+H<<17;let J=0;for(let de=o[Te];de!==void 0;de=de.next){const he=k+de.dx,Le=M+de.dy,ne=$+de.dz,re=V+de.dw,ze=2-he*he-Le*Le-ne*ne-re*re;if(ze>0){const Ve=w+de.xsb,xe=P+de.ysb,$e=D+de.zsb,Ze=N+de.wsb,gt=s[Ve&255],yt=s[gt+xe&255],vt=s[yt+$e&255],Vt=a[vt+Ze&255],zn=d[Vt]*he+d[Vt+1]*Le+d[Vt+2]*ne+d[Vt+3]*re;J+=ze*ze*ze*ze*zn}}return J*m}seed(e){const{_p4D:t,_base4D:i,_lookupPairs4D:r}=this,s=[];for(let l=0;l<t.length;l+=16){const u=i[t[l]];let d=null,m=null;for(let v=0;v<u.length;v+=5)m=this._contribution4D(u[v],u[v+1],u[v+2],u[v+3],u[v+4]),d===null?s[l/16]=m:d.next=m,d=m;m&&(m.next=this._contribution4D(t[l+1],t[l+2],t[l+3],t[l+4],t[l+5]),m.next.next=this._contribution4D(t[l+6],t[l+7],t[l+8],t[l+9],t[l+10]),m.next.next.next=this._contribution4D(t[l+11],t[l+12],t[l+13],t[l+14],t[l+15]))}this._lookup=[];for(let l=0;l<r.length;l+=2)this._lookup[r[l]]=s[r[l+1]];this._perm=new Uint8Array(256),this._perm4D=new Uint8Array(256);const a=new Uint8Array(256);for(let l=0;l<256;l++)a[l]=l;let o=new Uint32Array(1);o[0]=e,o=Mu(Mu(Mu(o)));for(let l=255;l>=0;l--){o=Mu(o);const u=new Uint32Array(1);u[0]=(o[0]+31)%(l+1),u[0]<0&&(u[0]+=l+1),this._perm[l]=a[u[0]],this._perm4D[l]=this._perm[l]&252,a[u[0]]=a[l]}}_contribution4D(e,t,i,r,s){const{_SQUISH_4D:a}=this;return{dx:-t-e*a,dy:-i-e*a,dz:-r-e*a,dw:-s-e*a,xsb:t,ysb:i,zsb:r,wsb:s}}}class hI{constructor(){this.noise2d=new Tj,this.noise3d=new Mj,this.noise4d=new Aj}}const ET={speed:.2,step:250},DO=2;class Cj{constructor(){const e=new hI;this._simplex=e.noise2d,this.options=Rr({},ET)}generate(e){const t=e.getPosition(),{speed:i,step:r}=this.options,s=t.x/r,a=t.y/r,o=.001,l=this._simplex.noise(s,a+o),u=this._simplex.noise(s,a-o),d=(l-u)/(DO*o),m=this._simplex.noise(s+o,a),v=this._simplex.noise(s-o,a),y=(m-v)/(DO*o);return e.velocity.x=0,e.velocity.y=0,nr.create(i*d,i*-y)}init(e){const t=e.actualOptions.particles.move.path.options;this.options.seed=t?.seed,this.options.speed=(t?.speed??ET.speed)*e.retina.pixelRatio,this.options.step=t?.step??ET.step,this._simplex.seed(this.options.seed??mn())}reset(){}update(){}}const Rj="curlNoise";async function Oj(n,e=!0){n.checkVersion("3.9.1"),await n.addPathGenerator(Rj,new Cj,e)}function Pj(n,e,t,i,r=0,s=1){const a=[],o=[],l=[],u=[],d=[],m=n??mn;let v=0;t<1&&(t=1);for(let y=1;y<=t;++y)a[y]=m(),o[y]=m(),l[y]=y===1?1:l[y-1]*i,v+=l[y],u[y]=y/e,d[y]=m();return l.forEach((y,x)=>l[x]=y/v*(s-r)),()=>{let y,x,T=0;for(let E=t;E>=1;--E)y=d[E]+=u[E],d[E]>=1&&(y=d[E]-=1,a[E]=o[E],o[E]=m()),x=y**2*(3-2*y),T+=(a[E]*(1-x)+o[E]*x)*l[E];return T+r}}const Dj=2,LO=Math.PI*Dj;function Lj(){return mn()*.6+.8}class Nj{constructor(){this.options={rndFunc:null,period:100,nbHarmonics:2,attenHarmonics:.8,lowValue:-.03,highValue:.03}}generate(e){if(!e.pathGen){const t=this.options;e.pathGen=Pj(t.rndFunc,t.period,t.nbHarmonics,t.attenHarmonics,t.lowValue,t.highValue)}return e.curveVelocity?(e.curveVelocity.length+=.01,e.curveVelocity.angle=(e.curveVelocity.angle+e.pathGen())%LO):(e.curveVelocity=nr.origin,e.curveVelocity.length=Lj(),e.curveVelocity.angle=mn()*LO),e.velocity.x=0,e.velocity.y=0,e.curveVelocity}init(e){const t=e.actualOptions.particles.move.path.options,{options:i}=this;yw(t.rndFunc)?i.rndFunc=t.rndFunc:kl(t.rndFunc)&&(i.rndFunc=window[t.rndFunc]??this.options.rndFunc),i.period=t.period??i.period,i.nbHarmonics=t.nbHarmonics??i.nbHarmonics,i.attenHarmonics=t.attenHarmonics??i.attenHarmonics,i.lowValue=t.lowValue??i.lowValue,i.highValue=t.highValue??i.highValue}reset(e){delete e.pathGen,delete e.curveVelocity}update(){}}const Ij="curvesPathGenerator";async function zj(n,e=!0){n.checkVersion("3.9.1"),await n.addPathGenerator(Ij,new Nj,e)}async function Uj(n,e=!0){n.checkVersion("3.9.1"),await n.addEasing(Pr.easeInBack,t=>2.70158*t**3-1.70158*t**2,!1),await n.addEasing(Pr.easeOutBack,t=>1+2.70158*Math.pow(t-1,3)+1.70158*Math.pow(t-1,2),!1),await n.addEasing(Pr.easeInOutBack,t=>{const r=2.5949095;return t<.5?(2*t)**2*((r+1)*2*t-r)/2:((2*t-2)**2*((r+1)*(t*2-2)+r)+2)/2},!1),await n.refresh(e)}async function Bj(n,e){n.checkVersion("3.9.1"),await n.addEasing(Pr.easeInCirc,t=>1-Math.sqrt(1-t**2),!1),await n.addEasing(Pr.easeOutCirc,t=>Math.sqrt(1-(t-1)**2),!1),await n.addEasing(Pr.easeInOutCirc,t=>t<.5?(1-Math.sqrt(1-(2*t)**2))/2:(Math.sqrt(1-(-2*t+2)**2)+1)/2,!1),await n.refresh(e)}async function kj(n,e=!0){n.checkVersion("3.9.1"),await n.addEasing(Pr.easeInCubic,t=>t**3,!1),await n.addEasing(Pr.easeOutCubic,t=>1-(1-t)**3,!1),await n.addEasing(Pr.easeInOutCubic,t=>t<.5?4*t**3:1-(-2*t+2)**3/2,!1),await n.refresh(e)}async function Hj(n,e=!0){n.checkVersion("3.9.1"),await n.addEasing(Pr.easeInExpo,t=>t?2**(10*t-10):0,!1),await n.addEasing(Pr.easeOutExpo,t=>t===1?1:1-Math.pow(2,-10*t),!1),await n.addEasing(Pr.easeInOutExpo,t=>t===1?t?1:0:t?t<.5?2**(20*t-10)/2:(2-2**(-20*t+10))/2:0,!1),await n.refresh(e)}async function Fj(n,e=!0){n.checkVersion("3.9.1"),await n.addEasing(Pr.easeInLinear,t=>t,!1),await n.addEasing(Pr.easeOutLinear,t=>t,!1),await n.addEasing(Pr.easeInOutLinear,t=>t,!1),await n.refresh(e)}async function Vj(n,e=!0){n.checkVersion("3.9.1"),await n.addEasing(Pr.easeInQuart,t=>t**4,!1),await n.addEasing(Pr.easeOutQuart,t=>1-(1-t)**4,!1),await n.addEasing(Pr.easeInOutQuart,t=>t<.5?8*t**4:1-(-2*t+2)**4/2,!1),await n.refresh(e)}async function Gj(n,e=!0){n.checkVersion("3.9.1"),await n.addEasing(Pr.easeInQuint,t=>t**5,!1),await n.addEasing(Pr.easeOutQuint,t=>1-(1-t)**5,!1),await n.addEasing(Pr.easeInOutQuint,t=>t<.5?16*t**5:1-(-2*t+2)**5/2,!1),await n.refresh(e)}async function jj(n,e=!0){n.checkVersion("3.9.1"),await n.addEasing(Pr.easeInSine,t=>1-Math.cos(t*Math.PI/2),!1),await n.addEasing(Pr.easeOutSine,t=>Math.sin(t*Math.PI/2),!1),await n.addEasing(Pr.easeInOutSine,t=>-(Math.cos(Math.PI*t)-1)/2,!1),await n.refresh(e)}class $j{constructor(){this.wait=!1}load(e){ot(e)||(e.count!==void 0&&(this.count=e.count),e.delay!==void 0&&(this.delay=Mn(e.delay)),e.duration!==void 0&&(this.duration=Mn(e.duration)),e.wait!==void 0&&(this.wait=e.wait))}}class qj{constructor(){this.quantity=1,this.delay=.1}load(e){ot(e)||(e.quantity!==void 0&&(this.quantity=Mn(e.quantity)),e.delay!==void 0&&(this.delay=Mn(e.delay)))}}class Wj{constructor(){this.color=!1,this.opacity=!1}load(e){ot(e)||(e.color!==void 0&&(this.color=e.color),e.opacity!==void 0&&(this.opacity=e.opacity))}}class Xj{constructor(){this.options={},this.replace=new Wj,this.type="square"}load(e){ot(e)||(e.options!==void 0&&(this.options=Rr({},e.options??{})),this.replace.load(e.replace),e.type!==void 0&&(this.type=e.type))}}class dI{constructor(){this.mode=mf.percent,this.height=0,this.width=0}load(e){ot(e)||(e.mode!==void 0&&(this.mode=e.mode),e.height!==void 0&&(this.height=e.height),e.width!==void 0&&(this.width=e.width))}}class Ap{constructor(){this.autoPlay=!0,this.fill=!0,this.life=new $j,this.rate=new qj,this.shape=new Xj,this.startCount=0}load(e){ot(e)||(e.autoPlay!==void 0&&(this.autoPlay=e.autoPlay),e.size!==void 0&&(this.size||(this.size=new dI),this.size.load(e.size)),e.direction!==void 0&&(this.direction=e.direction),this.domId=e.domId,e.fill!==void 0&&(this.fill=e.fill),this.life.load(e.life),this.name=e.name,this.particles=hs(e.particles,t=>Rr({},t)),this.rate.load(e.rate),this.shape.load(e.shape),e.position!==void 0&&(this.position={},e.position.x!==void 0&&(this.position.x=Mn(e.position.x)),e.position.y!==void 0&&(this.position.y=Mn(e.position.y))),e.spawnColor!==void 0&&(this.spawnColor===void 0&&(this.spawnColor=new zp),this.spawnColor.load(e.spawnColor)),e.startCount!==void 0&&(this.startCount=e.startCount))}}var Xx;(function(n){n.emitter="emitter"})(Xx||(Xx={}));const NO=.5,IO=0,nb=0,zO=0,Yj=0,Zj=-1,Kj=1;function UO(n,e){n.color?n.color.value=e:n.color={value:e}}class Qj{constructor(e,t,i,r,s){this.emitters=t,this.container=i,this._destroy=()=>{this._mutationObserver?.disconnect(),this._mutationObserver=void 0,this._resizeObserver?.disconnect(),this._resizeObserver=void 0,this.emitters.removeEmitter(this),this._engine.dispatchEvent("emitterDestroyed",{container:this.container,data:{emitter:this}})},this._prepareToDie=()=>{if(this._paused)return;const u=this.options.life?.duration!==void 0?St(this.options.life.duration):void 0;(this._lifeCount>0||this._immortal)&&u!==void 0&&u>0&&(this._duration=u*Kr)},this._setColorAnimation=(u,d,m,v=Kj)=>{const y=this.container;if(!u.enable)return d;const x=da(u.offset),T=St(this.options.rate.delay),E=y.retina.reduceFactor?T*Kr/y.retina.reduceFactor:1/0,w=0,P=St(u.speed??w);return(d+P*y.fpsLimit/E+x*v)%m},this._engine=e,this._currentDuration=0,this._currentEmitDelay=0,this._currentSpawnDelay=0,this._initialPosition=s,r instanceof Ap?this.options=r:(this.options=new Ap,this.options.load(r)),this._spawnDelay=i.retina.reduceFactor?St(this.options.life.delay??IO)*Kr/i.retina.reduceFactor:1/0,this.position=this._initialPosition??this._calcPosition(),this.name=this.options.name,this.fill=this.options.fill,this._firstSpawn=!this.options.life.wait,this._startParticlesAdded=!1;let a=Rr({},this.options.particles);if(a??={},a.move??={},a.move.direction??=this.options.direction,this.options.spawnColor&&(this.spawnColor=uh(this._engine,this.options.spawnColor)),this._paused=!this.options.autoPlay,this._particlesOptions=a,this._size=this._calcSize(),this.size=SO(this._size,this.container.canvas.size),this._lifeCount=this.options.life.count??Zj,this._immortal=this._lifeCount<=nb,this.options.domId){const u=document.getElementById(this.options.domId);u&&(this._mutationObserver=new MutationObserver(()=>{this.resize()}),this._resizeObserver=new ResizeObserver(()=>{this.resize()}),this._mutationObserver.observe(u,{attributes:!0,attributeFilter:["style","width","height"]}),this._resizeObserver.observe(u))}const o=this.options.shape,l=this._engine.emitterShapeManager?.getShapeGenerator(o.type);l&&(this._shape=l.generate(this.position,this.size,this.fill,o.options)),this._engine.dispatchEvent("emitterCreated",{container:i,data:{emitter:this}}),this.play()}externalPause(){this._paused=!0,this.pause()}externalPlay(){this._paused=!1,this.play()}async init(){await this._shape?.init()}pause(){this._paused||delete this._emitDelay}play(){if(this._paused||!((this._lifeCount>nb||this._immortal||!this.options.life.count)&&(this._firstSpawn||this._currentSpawnDelay>=(this._spawnDelay??zO))))return;const e=this.container;if(this._emitDelay===void 0){const t=St(this.options.rate.delay);this._emitDelay=e.retina.reduceFactor?t*Kr/e.retina.reduceFactor:1/0}(this._lifeCount>nb||this._immortal)&&this._prepareToDie()}resize(){const e=this._initialPosition,t=this.container;this.position=e&&k_(e,t.canvas.size,nr.origin)?e:this._calcPosition(),this._size=this._calcSize(),this.size=SO(this._size,t.canvas.size),this._shape?.resize(this.position,this.size)}update(e){if(this._paused)return;const t=this.container;this._firstSpawn&&(this._firstSpawn=!1,this._currentSpawnDelay=this._spawnDelay??zO,this._currentEmitDelay=this._emitDelay??Yj),this._startParticlesAdded||(this._startParticlesAdded=!0,this._emitParticles(this.options.startCount)),this._duration!==void 0&&(this._currentDuration+=e.value,this._currentDuration>=this._duration&&(this.pause(),this._spawnDelay!==void 0&&delete this._spawnDelay,this._immortal||this._lifeCount--,this._lifeCount>nb||this._immortal?(this.position=this._calcPosition(),this._shape?.resize(this.position,this.size),this._spawnDelay=t.retina.reduceFactor?St(this.options.life.delay??IO)*Kr/t.retina.reduceFactor:1/0):this._destroy(),this._currentDuration-=this._duration,delete this._duration)),this._spawnDelay!==void 0&&(this._currentSpawnDelay+=e.value,this._currentSpawnDelay>=this._spawnDelay&&(this._engine.dispatchEvent("emitterPlay",{container:this.container}),this.play(),this._currentSpawnDelay-=this._currentSpawnDelay,delete this._spawnDelay)),this._emitDelay!==void 0&&(this._currentEmitDelay+=e.value,this._currentEmitDelay>=this._emitDelay&&(this._emit(),this._currentEmitDelay-=this._emitDelay))}_calcPosition(){const e=this.container;if(this.options.domId){const t=document.getElementById(this.options.domId);if(t){const i=t.getBoundingClientRect(),r=e.retina.pixelRatio;return{x:(i.x+i.width*NO)*r,y:(i.y+i.height*NO)*r}}}return X5({size:e.canvas.size,position:this.options.position})}_calcSize(){const e=this.container;if(this.options.domId){const t=document.getElementById(this.options.domId);if(t){const i=t.getBoundingClientRect();return{width:i.width*e.retina.pixelRatio,height:i.height*e.retina.pixelRatio,mode:mf.precise}}}return this.options.size??(()=>{const t=new dI;return t.load({height:0,mode:mf.percent,width:0}),t})()}_emit(){if(this._paused)return;const e=St(this.options.rate.quantity);this._emitParticles(e)}_emitParticles(e){const t=pa(this._particlesOptions),i=this.container.retina.reduceFactor;for(let r=0;r<e*i;r++){const s=Rr({},t);if(this.spawnColor){const l=this.options.spawnColor?.animation;if(l){const u={h:360,s:100,l:100},d=3.6;this.spawnColor.h=this._setColorAnimation(l.h,this.spawnColor.h,u.h,d),this.spawnColor.s=this._setColorAnimation(l.s,this.spawnColor.s,u.s),this.spawnColor.l=this._setColorAnimation(l.l,this.spawnColor.l,u.l)}UO(s,this.spawnColor)}const a=this.options.shape;let o=this.position;if(this._shape){const l=this._shape.randomPosition();if(l){o=l.position;const u=a.replace;u.color&&l.color&&UO(s,l.color),u.opacity&&(s.opacity?s.opacity.value=l.opacity:s.opacity={value:l.opacity})}else o=null}o&&this.container.particles.addParticle(o,s)}}}class Jj{constructor(e,t){this.container=t,this._engine=e,this.array=[],this.emitters=[],this.interactivityEmitters={random:{count:1,enable:!1},value:[]};const i=0;t.getEmitter=r=>r===void 0||Lo(r)?this.array[r??i]:this.array.find(s=>s.name===r),t.addEmitter=async(r,s)=>this.addEmitter(r,s),t.removeEmitter=r=>{const s=t.getEmitter(r);s&&this.removeEmitter(s)},t.playEmitter=r=>{const s=t.getEmitter(r);s&&s.externalPlay()},t.pauseEmitter=r=>{const s=t.getEmitter(r);s&&s.externalPause()}}async addEmitter(e,t){const i=new Ap;i.load(e);const r=new Qj(this._engine,this,this.container,i,t);return await r.init(),this.array.push(r),r}handleClickMode(e){const t=this.emitters,i=this.interactivityEmitters;if(e!==Xx.emitter)return;let r;if(i&&Fa(i.value))if(i.value.length>0&&i.random.enable){r=[];const l=[];for(let u=0;u<i.random.count;u++){const d=Y5(i.value);if(l.includes(d)&&l.length<i.value.length){u--;continue}l.push(d),r.push(ch(i.value,d))}}else r=i.value;else r=i?.value;const s=r??t,a=this.container.interactivity.mouse.clickPosition;hs(s,async o=>{await this.addEmitter(o,a)})}async init(){if(this.emitters=this.container.actualOptions.emitters,this.interactivityEmitters=this.container.actualOptions.interactivity.modes.emitters,!!this.emitters)if(Fa(this.emitters))for(const e of this.emitters)await this.addEmitter(e);else await this.addEmitter(this.emitters)}pause(){for(const e of this.array)e.pause()}play(){for(const e of this.array)e.play()}removeEmitter(e){const t=this.array.indexOf(e);t>=0&&this.array.splice(t,1)}resize(){for(const e of this.array)e.resize()}stop(){this.array=[]}update(e){for(const t of this.array)t.update(e)}}class e${constructor(e){this._engine=e,this.id="emitters"}getPlugin(e){return Promise.resolve(new Jj(this._engine,e))}loadOptions(e,t){if(!this.needsPlugin(e)&&!this.needsPlugin(t))return;t?.emitters&&(e.emitters=hs(t.emitters,r=>{const s=new Ap;return s.load(r),s}));const i=t?.interactivity?.modes?.emitters;if(i)if(Fa(i))e.interactivity.modes.emitters={random:{count:1,enable:!0},value:i.map(r=>{const s=new Ap;return s.load(r),s})};else{const r=i;if(r.value!==void 0)if(Fa(r.value))e.interactivity.modes.emitters={random:{count:r.random.count??1,enable:r.random.enable??!1},value:r.value.map(a=>{const o=new Ap;return o.load(a),o})};else{const a=new Ap;a.load(r.value),e.interactivity.modes.emitters={random:{count:r.random.count??1,enable:r.random.enable??!1},value:a}}else(e.interactivity.modes.emitters={random:{count:1,enable:!1},value:new Ap}).value.load(i)}}needsPlugin(e){if(!e)return!1;const t=e.emitters;return Fa(t)&&!!t.length||t!==void 0||!!e.interactivity?.events?.onClick?.mode&&Ir(Xx.emitter,e.interactivity.events.onClick.mode)}}const TT=new Map;class t${constructor(e){this._engine=e}addShapeGenerator(e,t){this.getShapeGenerator(e)||TT.set(e,t)}getShapeGenerator(e){return TT.get(e)}getSupportedShapeGenerators(){return TT.keys()}}class F_{constructor(e,t,i,r){this.position=e,this.size=t,this.fill=i,this.options=r}resize(e,t){this.position=e,this.size=t}}async function n$(n,e=!0){n.checkVersion("3.9.1"),n.emitterShapeManager||(n.emitterShapeManager=new t$(n)),n.addEmitterShapeGenerator||(n.addEmitterShapeGenerator=(i,r)=>{n.emitterShapeManager?.addShapeGenerator(i,r)});const t=new e$(n);await n.addPlugin(t,e)}const nh={x:0,y:0},i$=0;function fC(n,e,t,i=!0){const r=n.getImageData(nh.x,nh.y,e.width,e.height).data;i&&n.clearRect(nh.x,nh.y,e.width,e.height);const s=[];for(let a=0;a<r.length;a+=t){const o=a/t,l={x:o%e.width,y:Math.floor(o/e.width)};s[l.y]||(s[l.y]=[]);const u={r:0,g:1,b:2,a:3},d=255;s[l.y][l.x]={r:r[a+u.r],g:r[a+u.g],b:r[a+u.b],a:r[a+u.a]/d}}return{pixels:s,width:Math.min(...s.map(a=>a.length)),height:s.length}}function r$(n,e){const t=new Image;t.crossOrigin="Anonymous";const i=new Promise((r,s)=>{t.onerror=s,t.onload=()=>{const a=document.createElement("canvas");a.width=t.width,a.height=t.height;const o=a.getContext("2d");if(!o)return s(new Error(`${oo} Could not get canvas context`));o.drawImage(t,nh.x,nh.y,t.width,t.height,nh.x,nh.y,a.width,a.height),r(fC(o,a,e))}});return t.src=n,i}function s$(n,e,t){const i=document.createElement("canvas"),r=i.getContext("2d"),{font:s,text:a,lines:o,color:l}=n;if(!a||!r)return;const u=a.split(o.separator),d=Lo(s.size)?`${s.size}px`:s.size,m=[];let v=0,y=0;for(const T of u){r.font=`${s.style||""} ${s.variant||""} ${s.weight||""} ${d} ${s.family}`;const E=r.measureText(T),w={measure:E,text:T,height:E.actualBoundingBoxAscent+E.actualBoundingBoxDescent,width:E.width};v=Math.max(v||i$,w.width),y+=w.height+o.spacing,m.push(w)}i.width=v,i.height=y;let x=0;for(const T of m)r.font=`${s.style||""} ${s.variant||""} ${s.weight||""} ${d} ${s.family}`,t?(r.fillStyle=l,r.fillText(T.text,nh.x,x+T.measure.actualBoundingBoxAscent)):(r.strokeStyle=l,r.strokeText(T.text,nh.x,x+T.measure.actualBoundingBoxAscent)),x+=T.height+o.spacing;return fC(r,i,e)}const a$=100,BO=.5;class o$ extends F_{constructor(e,t,i,r){super(e,t,i,r);const s=r.filter,a=0;let o=l=>l.a>a;if(s!==void 0)if(kl(s)){if(Object.hasOwn(window,s)){const l=window[s];yw(l)&&(o=l)}}else o=s;this.filter=o,this.scale=r.scale,this.pixelData={pixels:[],height:0,width:0}}async init(){let e;const t=this.options,i=t.selector,r=t.pixels,s=t.image,a=t.element,o=t.text,l=r.offset;if(s){const u=s.src;if(!u)return;e=await r$(u,l)}else if(o){const u=s$(o,l,this.fill);if(ot(u))return;e=u}else if(a??i){const u=a??(i&&document.querySelector(i));if(!u)return;const d=u.getContext("2d");if(!d)return;e=fC(d,u,l)}e&&(this.pixelData=e)}randomPosition(){const{height:e,width:t}=this.pixelData,i=this.pixelData,r=this.position,s=this.scale,a={x:r.x-t*s*BO,y:r.y-e*s*BO};for(let o=0;o<a$;o++){const l=Math.floor(mn()*t*e),u={x:l%t,y:Math.floor(l/t)},d=i.pixels[u.y][u.x];if(this.filter(d))return{position:{x:u.x*s+a.x,y:u.y*s+a.y},color:{...d},opacity:d.a}}return null}resize(e,t){super.resize(e,t)}}class l${constructor(){this.offset=4}load(e){ot(e)||e.offset!==void 0&&(this.offset=e.offset)}}class c${constructor(){this.family="Verdana",this.size=32,this.style="",this.variant="",this.weight=""}load(e){ot(e)||(e.family!==void 0&&(this.family=e.family),e.size!==void 0&&(this.size=e.size),e.style!==void 0&&(this.style=e.style),e.variant!==void 0&&(this.variant=e.variant),e.weight!==void 0&&(this.weight=e.weight))}}class u${constructor(){this.separator=`
`,this.spacing=0}load(e){ot(e)||(e.separator!==void 0&&(this.separator=e.separator),e.spacing!==void 0&&(this.spacing=e.spacing))}}class f${constructor(){this.color="#000000",this.font=new c$,this.lines=new u$,this.text=""}load(e){ot(e)||(e.color!==void 0&&(this.color=e.color),this.font.load(e.font),this.lines.load(e.lines),e.text!==void 0&&(this.text=e.text))}}const h$=0;class d${constructor(){this.filter=e=>e.a>h$,this.pixels=new l$,this.scale=1,this.selector="",this.text=new f$}load(e){ot(e)||(e.element!==void 0&&(this.element=e.element),e.filter!==void 0&&(this.filter=e.filter),this.pixels.load(e.pixels),e.scale!==void 0&&(this.scale=e.scale),e.selector!==void 0&&(this.selector=e.selector),e.image!==void 0&&(this.image=e.image),this.text.load(e.text))}}class p${generate(e,t,i,r){const s=new d$;return s.load(r),new o$(e,t,i,s)}}async function m$(n,e=!0){const t=n;t.checkVersion("3.9.1"),t.addEmitterShapeGenerator?.("canvas",new p$),await t.refresh(e)}const pI=100,Yx=.5;function g$(n,e,t,i){let r=null;for(let s=0;s<pI;s++){const a={x:t.x+mn()*i.width-i.width*Yx,y:t.y+mn()*i.height-i.height*Yx};if(n.isPointInPath(e,a.x,a.y)){r=a;break}}return r}function v$(n,e,t,i){let r=null;for(let s=0;s<pI;s++){const a={x:t.x+mn()*i.width-i.width*Yx,y:t.y+mn()*i.height-i.height*Yx};if(n.isPointInStroke(e,a.x,a.y)){r=a;break}}return r}const ib=.5;class y$ extends F_{constructor(e,t,i,r){super(e,t,i,r);const s=document.createElement("canvas").getContext("2d");if(!s)throw new Error(`${oo} No 2d context available`);this.checkContext=s,this.points=r.points;const a=this.points,o=new Path2D,l={x:e.x-t.width*ib,y:e.y-t.height*ib};for(const[m,v]of a.entries()){const y={x:l.x+v.x*t.width/qi,y:l.y+v.y*t.height/qi};m?o.lineTo(y.x,y.y):o.moveTo(y.x,y.y)}const u=0,d=a[u];if(d){const m={x:l.x+d.x*t.width/qi,y:l.y+d.y*t.height/qi};o.lineTo(m.x,m.y)}this.path=o}async init(){}randomPosition(){const e=this.checkContext,t=this.position,i=this.size,r=this.fill,s=this.path,a=r?g$(e,s,t,i):v$(e,s,t,i);return a?{position:a}:null}resize(e,t){super.resize(e,t);const i=this.points,r=new Path2D,s={x:e.x-t.width*ib,y:e.y-t.height*ib};for(const[l,u]of i.entries()){const d={x:s.x+u.x*t.width/qi,y:s.y+u.y*t.height/qi};l?r.lineTo(d.x,d.y):r.moveTo(d.x,d.y)}const a=0,o=i[a];if(o){const l={x:s.x+o.x*t.width/qi,y:s.y+o.y*t.height/qi};r.lineTo(l.x,l.y)}this.path=r}}const kO={x:50,y:50};class _${constructor(){this.points=[]}load(e){ot(e)||e.points!==void 0&&(this.points=e.points.map(t=>({x:t.x??kO.x,y:t.y??kO.y})))}}class b${generate(e,t,i,r){const s=new _$;return s.load(r),new y$(e,t,i,s)}}async function x$(n,e=!0){const t=n;t.checkVersion("3.9.1"),t.addEmitterShapeGenerator?.("path",new b$),await t.refresh(e)}const S$=2,w$=Math.PI*S$,E$=0,T$=100;function HO(n,e,t,i=E$){const r=[],s=w$/e;for(let a=0;a<e;a++){const o=s*a+i;r.push({x:n.x+t*Math.cos(o),y:n.y+t*Math.sin(o)})}return r}function M$(n){const t=n[0],i={...t},r={...t};for(const a of n)a.x<i.x&&(i.x=a.x),a.x>r.x&&(r.x=a.x),a.y<i.y&&(i.y=a.y),a.y>r.y&&(r.y=a.y);let s=null;for(let a=0;a<T$;a++){const o={x:i.x+mn()*(r.x-i.x),y:i.y+mn()*(r.y-i.y)};if(C$(o,n)){s=o;break}}return s}function A$(n){const e=Math.floor(mn()*n.length),t=n[e],i=1,r=n[(e+i)%n.length],s=mn();return{x:t.x+(r.x-t.x)*s,y:t.y+(r.y-t.y)*s}}function C$(n,e){let t=!1;const i=1;for(let r=0,s=e.length-i;r<e.length;s=r++){const a=e[r],o=e[s];a.y>n.y!=o.y>n.y&&n.x<(o.x-a.x)*(n.y-a.y)/(o.y-a.y)+a.x&&(t=!t)}return t}const FO=.5;class R$ extends F_{constructor(e,t,i,r){super(e,t,i,r),this.sides=r.sides,this.angle=uf(r.angle),this.polygon=HO(e,this.sides,t.width*FO,this.angle)}async init(){}randomPosition(){const e=this.fill,t=this.polygon,i=e?M$(t):A$(t);return i?{position:i}:null}resize(e,t){super.resize(e,t),this.polygon=HO(e,this.sides,t.width*FO,this.angle)}}class O${constructor(){this.angle=0,this.sides=5}load(e){ot(e)||(e.angle!==void 0&&(this.angle=e.angle),e.sides!==void 0&&(this.sides=e.sides))}}class P${generate(e,t,i,r){const s=new O$;return s.load(r),new R$(e,t,i,s)}}async function D$(n,e=!0){const t=n;t.checkVersion("3.9.1"),t.addEmitterShapeGenerator?.("polygon",new P$),await t.refresh(e)}class L${constructor(e,t){this._exportImage=async i=>{const r=this._container.canvas.element;if(r)return new Promise(s=>{r.toBlob(a=>{if(!a){s(void 0);return}s(a)},i.type??"image/png",i.quality)})},this._container=e,this._engine=t}async export(e,t){const i={supported:!1};switch(e){case"image":i.supported=!0,i.blob=await this._exportImage(t);break}return i}}class N${constructor(e){this.id="export-image",this._engine=e}getPlugin(e){return Promise.resolve(new L$(e,this._engine))}loadOptions(){}needsPlugin(){return!0}}async function I$(n,e=!0){n.checkVersion("3.9.1"),await n.addPlugin(new N$(n),e)}const z$=2;class U${constructor(e,t){this._exportJSON=async()=>{const i=JSON.stringify(this._container.actualOptions,(r,s)=>{if(!r.startsWith("_"))return s},z$);return Promise.resolve(new Blob([i],{type:"application/json"}))},this._container=e,this._engine=t}async export(e){const t={supported:!1};switch(e){case"json":t.supported=!0,t.blob=await this._exportJSON();break}return t}}class B${constructor(e){this.id="export-json",this._engine=e}getPlugin(e){return Promise.resolve(new U$(e,this._engine))}loadOptions(){}needsPlugin(){return!0}}async function k$(n,e=!0){n.checkVersion("3.9.1"),await n.addPlugin(new B$(n),e)}const H$=["webm","ogg","mp4","x-matroska"],F$=["vp9","vp9.0","vp8","vp8.0","avc1","av1","h265","h.265","h264","h.264","opus","pcm","aac","mpeg","mp4a"];function V$(){const n=t=>MediaRecorder.isTypeSupported(t),e=[];return H$.forEach(t=>{const i=`video/${t}`;F$.forEach(r=>[`${i};codecs=${r}`,`${i};codecs=${r.toUpperCase()}`].forEach(s=>{n(s)&&e.push(s)})),n(i)&&e.push(i)}),e}class G${constructor(e,t){this._supportedTypes=[],this._exportVideo=async i=>{const r=this._container.canvas.element;if(r)return new Promise(s=>{const a=r.captureStream(i.fps??this._container.actualOptions.fpsLimit),o=0,l=i.mimeType??this._supportedTypes[o],u=new MediaRecorder(a,{mimeType:l}),d=[],m=5;u.addEventListener("dataavailable",v=>{d.push(v.data)}),u.addEventListener("stop",()=>{s(new Blob(d,{type:l}))}),u.start(),setTimeout(()=>{u.stop()},i.duration??m*Kr)})},this._container=e,this._engine=t,this._supportedTypes=V$()}async export(e,t){const i={supported:!1};switch(e){case"video":i.supported=!0,i.blob=await this._exportVideo(t);break}return i}}class j${constructor(e){this.id="export-video",this._engine=e}getPlugin(e){return Promise.resolve(new G$(e,this._engine))}loadOptions(){}needsPlugin(){return!0}}async function $$(n,e=!0){n.checkVersion("3.9.1"),await n.addPlugin(new j$(n),e)}class q${constructor(){this.replaceCursor=!1,this.pauseOnStop=!1,this.stopDelay=0}load(e){ot(e)||(e.options!==void 0&&(this.options=Rr({},e.options)),e.replaceCursor!==void 0&&(this.replaceCursor=e.replaceCursor),e.pauseOnStop!==void 0&&(this.pauseOnStop=e.pauseOnStop),e.stopDelay!==void 0&&(this.stopDelay=e.stopDelay))}}const VO="particle";class W$ extends mc{constructor(e){super(e)}clear(){}init(){}interact(){const e=this.container,{interactivity:t}=e,i=e.actualOptions;if(!e.retina.reduceFactor)return;const r=t.mouse.position,s=i.interactivity.modes.particle;if(!s)return;const a=s.pauseOnStop&&(t.mouse.position===this._lastPosition||t.mouse.position?.x===this._lastPosition?.x&&t.mouse.position?.y===this._lastPosition?.y),o=s.stopDelay;if(r?this._lastPosition={...r}:delete this._lastPosition,!!this._lastPosition){if(a){if(this._clearTimeout)return;this._clearTimeout=setTimeout(()=>{if(this._particle){if(s.replaceCursor){const l=t.element;l&&(l instanceof Window?document.body.style.cursor="":l.style.cursor="")}this.container.particles.remove(this._particle,void 0,!0),delete this._particle}},o);return}if(this._clearTimeout&&(clearTimeout(this._clearTimeout),delete this._clearTimeout),!this._particle){const l=Rr(s.options,{move:{enable:!1}});if(this._particle=e.particles.addParticle(this._lastPosition,l),s.replaceCursor){const u=t.element;u&&(u instanceof Window?document.body.style.cursor="none":u.style.cursor="none")}}this._particle&&(this._particle.position.x=this._lastPosition.x,this._particle.position.y=this._lastPosition.y)}}isEnabled(e){const t=this.container,i=t.actualOptions,r=t.interactivity.mouse,s=(e?.interactivity??i.interactivity).events;return r.clicking&&r.inside&&!!r.position&&Ir(VO,s.onClick.mode)||r.inside&&!!r.position&&Ir(VO,s.onHover.mode)}loadModeOptions(e,...t){e.particle||(e.particle=new q$);for(const i of t)e.particle.load(i?.particle)}reset(){}}async function X$(n,e=!0){n.checkVersion("3.9.1"),await n.addInteractor("externalParticle",t=>Promise.resolve(new W$(t)),e)}const Y$="pop";class Z$ extends mc{constructor(e){super(e),this.handleClickMode=t=>{const i=this.container;if(t!==Y$)return;const r=i.interactivity.mouse.clickPosition;if(!r)return;const s=i.particles.quadTree.queryCircle(r,i.retina.pixelRatio);if(s.length)for(const a of s)i.particles.remove(a)}}clear(){}init(){}interact(){}isEnabled(){return!0}reset(){}}async function K$(n,e=!0){n.checkVersion("3.9.1"),await n.addInteractor("externalPop",t=>Promise.resolve(new Z$(t)),e)}const bs=(n,e,t)=>n+t*(e-n),Wh=n=>n*n*(3-2*n),p0=n=>n-Math.floor(n);class Q${constructor(){this._coeffW=29.537,this._coeffX=127.1,this._coeffY=311.7,this._coeffZ=78.233,this._coeffZW=37.719,this._scaleFactor=43758.5453}noise2d(e,t){const i=Math.floor(e),r=Math.floor(t),s=i+1,a=r+1,o=Wh(e-i),l=Wh(t-r),u=this._valueNoise2D(i,r),d=this._valueNoise2D(s,r),m=this._valueNoise2D(i,a),v=this._valueNoise2D(s,a),y=bs(u,d,o),x=bs(m,v,o);return bs(y,x,l)}noise3d(e,t,i){const r=Math.floor(e),s=Math.floor(t),a=Math.floor(i),o=r+1,l=s+1,u=a+1,d=Wh(e-r),m=Wh(t-s),v=Wh(i-a),y=this._valueNoise3D(r,s,a),x=this._valueNoise3D(o,s,a),T=this._valueNoise3D(r,l,a),E=this._valueNoise3D(o,l,a),w=this._valueNoise3D(r,s,u),P=this._valueNoise3D(o,s,u),D=this._valueNoise3D(r,l,u),N=this._valueNoise3D(o,l,u),G=bs(y,x,d),k=bs(T,E,d),M=bs(w,P,d),$=bs(D,N,d),V=bs(G,k,m),H=bs(M,$,m);return bs(V,H,v)}noise4d(e,t,i,r){const s=Math.floor(e),a=Math.floor(t),o=Math.floor(i),l=Math.floor(r),u=s+1,d=a+1,m=o+1,v=l+1,y=Wh(e-s),x=Wh(t-a),T=Wh(i-o),E=Wh(r-l),w=this._valueNoise4D(s,a,o,l),P=this._valueNoise4D(u,a,o,l),D=this._valueNoise4D(s,d,o,l),N=this._valueNoise4D(u,d,o,l),G=this._valueNoise4D(s,a,m,l),k=this._valueNoise4D(u,a,m,l),M=this._valueNoise4D(s,d,m,l),$=this._valueNoise4D(u,d,m,l),V=this._valueNoise4D(s,a,o,v),H=this._valueNoise4D(u,a,o,v),ee=this._valueNoise4D(s,d,o,v),pe=this._valueNoise4D(u,d,o,v),ae=this._valueNoise4D(s,a,m,v),ye=this._valueNoise4D(u,a,m,v),Te=this._valueNoise4D(s,d,m,v),J=this._valueNoise4D(u,d,m,v),de=bs(w,P,y),he=bs(D,N,y),Le=bs(G,k,y),ne=bs(M,$,y),re=bs(V,H,y),ze=bs(ee,pe,y),Ve=bs(ae,ye,y),xe=bs(Te,J,y),$e=bs(de,he,x),Ze=bs(Le,ne,x),gt=bs(re,ze,x),yt=bs(Ve,xe,x),vt=bs($e,Ze,T),Vt=bs(gt,yt,T);return bs(vt,Vt,E)}seed(e){const t=Math.sin(e)*1e4;this._coeffX=p0(t*15731),this._coeffY=p0(t*789221),this._coeffZ=p0(t*1376312589),this._coeffZW=p0(t*974634777),this._coeffW=p0(t*592558533),this._scaleFactor=43758.5453}_valueNoise2D(e,t){const i=Math.sin(e*this._coeffX+t*this._coeffY)*this._scaleFactor;return(i-Math.floor(i))*2-1}_valueNoise3D(e,t,i){const r=Math.sin(e*this._coeffX+t*this._coeffY+i*this._coeffZ)*this._scaleFactor;return(r-Math.floor(r))*2-1}_valueNoise4D(e,t,i,r){const s=Math.sin(e*this._coeffX+t*this._coeffY+i*this._coeffZW+r*this._coeffW)*this._scaleFactor;return(s-Math.floor(s))*2-1}}class J${constructor(){this._smoothValueNoise=new Q$}noise2d(e,t,i=5,r=.5,s=2){let a=0,o=1,l=1,u=0;for(let d=0;d<i;d++)a+=this._smoothValueNoise.noise2d(e*o,t*o)*l,u+=l,l*=r,o*=s;return a/u}noise3d(e,t,i,r=5,s=.5,a=2){let o=0,l=1,u=1,d=0;for(let m=0;m<r;m++)o+=this._smoothValueNoise.noise3d(e*l,t*l,i*l)*u,d+=u,u*=s,l*=a;return o/d}noise4d(e,t,i,r,s=5,a=.5,o=2){let l=0,u=1,d=1,m=0;for(let v=0;v<s;v++)l+=this._smoothValueNoise.noise4d(e*u,t*u,i*u,r*u)*d,m+=d,d*=a,u*=o;return l/m}seed(e){this._smoothValueNoise.seed(e)}}const cv={size:20,increment:.004,columns:0,rows:0,layers:0,width:0,height:0,offset:{x:4e4,y:4e4,z:4e4}};class eq{constructor(){this._fractal=new J$,this.field=[],this.noiseW=0,this.options=Rr({},cv)}generate(e){const t=e.getPosition(),i={x:Math.max(Math.floor(t.x/this.options.size),0),y:Math.max(Math.floor(t.y/this.options.size),0),z:Math.max(Math.floor(t.z/this.options.size),0)},r=nr.origin;return this.field?.[i.x]?.[i.y]?.[i.z]&&r.setTo(this.field[i.x][i.y][i.z]),r}init(e){this.container=e,this._setup()}reset(){}update(){this.container&&(this._calculateField(),this.noiseW+=this.options.increment)}_calculateField(){const e=this.options;for(let t=0;t<e.columns;t++)for(let i=0;i<e.rows;i++)for(let r=0;r<e.layers;r++)this.field[t][i][r].angle=this._fractal.noise4d(t/50,i/50,r/50,this.noiseW)*Math.PI*2,this.field[t][i][r].length=this._fractal.noise4d(t/100+e.offset.x,i/100+e.offset.y,r/100+e.offset.z,this.noiseW)}_initField(){this.field=new Array(this.options.columns);for(let e=0;e<this.options.columns;e++){this.field[e]=new Array(this.options.rows);for(let t=0;t<this.options.rows;t++){this.field[e][t]=new Array(this.options.layers);for(let i=0;i<this.options.layers;i++)this.field[e][t][i]=nr.origin}}}_resetField(){const e=this.container;if(!e)return;const t=e.actualOptions.particles.move.path.options;this.options.size=t.size>0?t.size:cv.size,this.options.increment=t.increment>0?t.increment:cv.increment,this.options.width=e.canvas.size.width,this.options.height=e.canvas.size.height;const i=t.offset;this.options.offset.x=i?.x??cv.offset.x,this.options.offset.y=i?.y??cv.offset.y,this.options.offset.z=i?.z??cv.offset.z,this.options.seed=t.seed,this._fractal.seed(this.options.seed??mn()),this.options.columns=Math.floor(this.options.width/this.options.size)+1,this.options.rows=Math.floor(this.options.height/this.options.size)+1,this.options.layers=Math.floor(e.zLayers/this.options.size)+1,this._initField()}_setup(){this.noiseW=0,this._resetField(),addEventListener("resize",()=>this._resetField())}}const tq="fractalNoise";async function nq(n,e=!0){n.checkVersion("3.9.1"),await n.addPathGenerator(tq,new eq,e)}class iq{constructor(){this.radius=0,this.mass=0}load(e){ot(e)||(e.mass!==void 0&&(this.mass=e.mass),e.radius!==void 0&&(this.radius=e.radius))}}class rq extends Gc{constructor(){super(),this.density=5,this.value=50,this.limit=new iq}load(e){ot(e)||(super.load(e),e.density!==void 0&&(this.density=e.density),Lo(e.limit)?this.limit.radius=e.limit:this.limit.load(e.limit))}}class Zx{constructor(){this.color=new Cr,this.color.value="#000000",this.draggable=!1,this.opacity=1,this.destroy=!0,this.orbits=!1,this.size=new rq}load(e){ot(e)||(e.color!==void 0&&(this.color=Cr.create(this.color,e.color)),e.draggable!==void 0&&(this.draggable=e.draggable),this.name=e.name,e.opacity!==void 0&&(this.opacity=e.opacity),e.position!==void 0&&(this.position={},e.position.x!==void 0&&(this.position.x=Mn(e.position.x)),e.position.y!==void 0&&(this.position.y=Mn(e.position.y))),e.size!==void 0&&this.size.load(e.size),e.destroy!==void 0&&(this.destroy=e.destroy),e.orbits!==void 0&&(this.orbits=e.orbits))}}var Kx;(function(n){n.absorber="absorber"})(Kx||(Kx={}));const sq=2,aq=.033,oq=0,lq=0,cq=0,uq=0,fq=2,GO=Math.PI*fq,jO=0;class hq{constructor(e,t,i,r,s){this._calcPosition=()=>{const o=X5({size:this._container.canvas.size,position:this.options.position});return nr.create(o.x,o.y)},this._updateParticlePosition=(o,l)=>{if(o.destroyed)return;const u=this._container,d=u.canvas.size;if(o.needsNewPosition){const m=W5({size:d});o.position.setTo(m),o.velocity.setTo(o.initialVelocity),o.absorberOrbit=void 0,o.needsNewPosition=!1}if(this.options.orbits){if(o.absorberOrbit===void 0&&(o.absorberOrbit=nr.origin,o.absorberOrbit.length=Ro(o.getPosition(),this.position),o.absorberOrbit.angle=mn()*GO),o.absorberOrbit.length<=this.size&&!this.options.destroy){const T=Math.min(d.width,d.height),E=1,w=.1,P=.2;o.absorberOrbit.length=T*(E+(mn()*P-w))}o.absorberOrbitDirection===void 0&&(o.absorberOrbitDirection=o.velocity.x>=jO?ha.clockwise:ha.counterClockwise);const m=o.absorberOrbit.length,v=o.absorberOrbit.angle,y=o.absorberOrbitDirection;o.velocity.setTo(nr.origin);const x={x:y===ha.clockwise?Math.cos:Math.sin,y:y===ha.clockwise?Math.sin:Math.cos};o.position.x=this.position.x+m*x.x(v),o.position.y=this.position.y+m*x.y(v),o.absorberOrbit.length-=l.length,o.absorberOrbit.angle+=(o.retina.moveSpeed??jO)*u.retina.pixelRatio/qi*u.retina.reduceFactor}else{const m=nr.origin;m.length=l.length,m.angle=l.angle,o.velocity.addTo(m)}},this._absorbers=e,this._container=t,this._engine=i,this.initialPosition=s?nr.create(s.x,s.y):void 0,r instanceof Zx?this.options=r:(this.options=new Zx,this.options.load(r)),this.dragging=!1,this.name=this.options.name,this.opacity=this.options.opacity,this.size=St(this.options.size.value)*t.retina.pixelRatio,this.mass=this.size*this.options.size.density*t.retina.reduceFactor;const a=this.options.size.limit;this.limit={radius:a.radius*t.retina.pixelRatio*t.retina.reduceFactor,mass:a.mass},this.color=Oo(this._engine,this.options.color)??{b:0,g:0,r:0},this.position=this.initialPosition?.copy()??this._calcPosition()}attract(e){const t=this._container,i=this.options;if(i.draggable){const u=t.interactivity.mouse;u.clicking&&u.downPosition?Ro(this.position,u.downPosition)<=this.size&&(this.dragging=!0):this.dragging=!1,this.dragging&&u.position&&(this.position.x=u.position.x,this.position.y=u.position.y)}const r=e.getPosition(),{dx:s,dy:a,distance:o}=ga(this.position,r),l=nr.create(s,a);if(l.length=this.mass/Math.pow(o,sq)*t.retina.reduceFactor,o<this.size+e.getRadius()){const u=e.getRadius()*aq*t.retina.pixelRatio;this.size>e.getRadius()&&o<this.size-e.getRadius()||e.absorberOrbit!==void 0&&e.absorberOrbit.length<oq?i.destroy?e.destroy():(e.needsNewPosition=!0,this._updateParticlePosition(e,l)):(i.destroy&&(e.size.value-=u),this._updateParticlePosition(e,l)),(this.limit.radius<=lq||this.size<this.limit.radius)&&(this.size+=u),(this.limit.mass<=cq||this.mass<this.limit.mass)&&(this.mass+=u*this.options.size.density*t.retina.reduceFactor)}else this._updateParticlePosition(e,l)}draw(e){e.translate(this.position.x,this.position.y),e.beginPath(),e.arc(Aa.x,Aa.y,this.size,uq,GO,!1),e.closePath(),e.fillStyle=Ul(this.color,this.opacity),e.fill()}resize(){const e=this.initialPosition;this.position=e&&k_(e,this._container.canvas.size,nr.origin)?e:this._calcPosition()}}const $O=0;class dq{constructor(e,t){this._container=e,this._engine=t,this.array=[],this.absorbers=[],this.interactivityAbsorbers=[],e.getAbsorber=i=>i===void 0||Lo(i)?this.array[i??$O]:this.array.find(r=>r.name===i),e.addAbsorber=async(i,r)=>this.addAbsorber(i,r)}async addAbsorber(e,t){const i=new hq(this,this._container,this._engine,e,t);return this.array.push(i),Promise.resolve(i)}draw(e){for(const t of this.array)t.draw(e)}handleClickMode(e){const t=this.absorbers,i=this.interactivityAbsorbers;if(e===Kx.absorber){const r=pa(i),s=r??pa(t),a=this._container.interactivity.mouse.clickPosition;this.addAbsorber(s,a)}}async init(){this.absorbers=this._container.actualOptions.absorbers,this.interactivityAbsorbers=this._container.actualOptions.interactivity.modes.absorbers;const e=hs(this.absorbers,async t=>{await this.addAbsorber(t)});e instanceof Array?await Promise.all(e):await e}particleUpdate(e){for(const t of this.array)if(t.attract(e),e.destroyed)break}removeAbsorber(e){const t=this.array.indexOf(e);t>=$O&&this.array.splice(t,1)}resize(){for(const e of this.array)e.resize()}stop(){this.array=[]}}class pq{constructor(e){this.id="absorbers",this._engine=e}async getPlugin(e){return Promise.resolve(new dq(e,this._engine))}loadOptions(e,t){!this.needsPlugin(e)&&!this.needsPlugin(t)||(t?.absorbers&&(e.absorbers=hs(t.absorbers,i=>{const r=new Zx;return r.load(i),r})),e.interactivity.modes.absorbers=hs(t?.interactivity?.modes?.absorbers,i=>{const r=new Zx;return r.load(i),r}))}needsPlugin(e){if(!e)return!1;const t=e.absorbers;return Fa(t)?!!t.length:t?!0:!!(e.interactivity?.events?.onClick?.mode&&Ir(Kx.absorber,e.interactivity.events.onClick.mode))}}async function mq(n,e=!0){n.checkVersion("3.9.1"),await n.addPlugin(new pq(n),e)}class gq{load(e){ot(e)||(e.bottom!==void 0&&(this.bottom=Mn(e.bottom)),e.left!==void 0&&(this.left=Mn(e.left)),e.right!==void 0&&(this.right=Mn(e.right)),e.top!==void 0&&(this.top=Mn(e.top)))}}var Qx;(function(n){n.none="none",n.split="split"})(Qx||(Qx={}));class vq extends Gc{constructor(){super(),this.value=3}}class yq extends Gc{constructor(){super(),this.value={min:4,max:9}}}class _q{constructor(){this.count=1,this.factor=new vq,this.rate=new yq,this.sizeOffset=!0}load(e){ot(e)||(e.color!==void 0&&(this.color=Cr.create(this.color,e.color)),e.count!==void 0&&(this.count=e.count),this.factor.load(e.factor),this.rate.load(e.rate),this.particles=hs(e.particles,t=>Rr({},t)),e.sizeOffset!==void 0&&(this.sizeOffset=e.sizeOffset),e.colorOffset&&(this.colorOffset=this.colorOffset??{},e.colorOffset.h!==void 0&&(this.colorOffset.h=e.colorOffset.h),e.colorOffset.s!==void 0&&(this.colorOffset.s=e.colorOffset.s),e.colorOffset.l!==void 0&&(this.colorOffset.l=e.colorOffset.l)))}}class bq{constructor(){this.bounds=new gq,this.mode=Qx.none,this.split=new _q}load(e){ot(e)||(e.mode&&(this.mode=e.mode),e.bounds&&this.bounds.load(e.bounds),this.split.load(e.split))}}const rb=0,xq=.5,Sq=0,wq=1,Eq=500,Tq=0;function Mq(n,e,t,i){const r=t.options.destroy;if(!r)return;const s=r.split,a=cC(n,e,t.options),o=St(s.factor.value),l=t.getFillColor();s.color?a.color.load(s.color):s.colorOffset&&l?a.color.load({value:{hsl:{h:l.h+St(s.colorOffset.h??rb),s:l.s+St(s.colorOffset.s??rb),l:l.l+St(s.colorOffset.l??rb)}}}):a.color.load({value:{hsl:t.getFillColor()}}),a.move.load({center:{x:t.position.x,y:t.position.y,mode:mf.precise}}),Lo(a.size.value)?a.size.value/=o:(a.size.value.min/=o,a.size.value.max/=o),a.load(i);const u=s.sizeOffset?Mn(-t.size.value,t.size.value):rb,d={x:t.position.x+da(u),y:t.position.y+da(u)};return e.particles.addParticle(d,a,t.group,m=>m.size.value<xq?!1:(m.velocity.length=da(Mn(t.velocity.length,m.velocity.length)),m.splitCount=(t.splitCount??Sq)+wq,m.unbreakable=!0,setTimeout(()=>{m.unbreakable=!1},Eq),!0))}function Aq(n,e,t){const i=t.options.destroy;if(!i)return;const r=i.split;if(r.count>=Tq&&(t.splitCount===void 0||t.splitCount++>r.count))return;const s=St(r.rate.value),a=pa(r.particles);for(let o=0;o<s;o++)Mq(n,e,t,a)}class Cq{constructor(e,t){this.container=t,this.engine=e}init(e){const t=this.container,i=e.options,r=i.destroy;if(!r)return;e.splitCount=0;const s=r.bounds;e.destroyBounds||(e.destroyBounds={});const{bottom:a,left:o,right:l,top:u}=s,{destroyBounds:d}=e,m=t.canvas.size;a&&(d.bottom=St(a)*m.height/qi),o&&(d.left=St(o)*m.width/qi),l&&(d.right=St(l)*m.width/qi),u&&(d.top=St(u)*m.height/qi)}isEnabled(e){return!e.destroyed}loadOptions(e,...t){e.destroy||(e.destroy=new bq);for(const i of t)e.destroy.load(i?.destroy)}particleDestroyed(e,t){if(t)return;const i=e.options.destroy;i&&i.mode===Qx.split&&Aq(this.engine,this.container,e)}update(e){if(!this.isEnabled(e))return;const t=e.getPosition(),i=e.destroyBounds;i&&(i.bottom!==void 0&&t.y>=i.bottom||i.left!==void 0&&t.x<=i.left||i.right!==void 0&&t.x>=i.right||i.top!==void 0&&t.y<=i.top)&&e.destroy()}}async function Rq(n,e=!0){n.checkVersion("3.9.1"),await n.addParticleUpdater("destroy",t=>Promise.resolve(new Cq(n,t)),e)}const m0=.25,z2=2,Oq=Math.PI*z2,qO=2,WO=.5;class Pq extends F_{constructor(e,t,i,r){super(e,t,i,r)}async init(){}randomPosition(){const e=this.size,t=this.fill,i=this.position,r=(m,v)=>{const y=mn()*m0,x=Math.atan(v/m*Math.tan(Oq*y)),T=mn();return T<m0?x:T<z2*m0?Math.PI-x:T<z2*m0+m0?Math.PI+x:-x},s=(m,v,y)=>m*v/Math.sqrt((v*Math.cos(y))**qO+(m*Math.sin(y))**qO),[a,o]=[e.width*WO,e.height*WO],l=r(a,o),u=s(a,o,l),d=t?u*Math.sqrt(mn()):u;return{position:{x:i.x+d*Math.cos(l),y:i.y+d*Math.sin(l)}}}}class Dq{generate(e,t,i,r){return new Pq(e,t,i,r)}}async function Lq(n,e=!0){const t=n;t.checkVersion("3.9.1"),t.addEmitterShapeGenerator?.("circle",new Dq),await t.refresh(e)}const Nq=4;var Bv;(function(n){n[n.TopLeft=0]="TopLeft",n[n.TopRight=1]="TopRight",n[n.BottomRight=2]="BottomRight",n[n.BottomLeft=3]="BottomLeft"})(Bv||(Bv={}));function XO(n,e){return n+e*(mn()-Vi)}class Iq extends F_{constructor(e,t,i,r){super(e,t,i,r)}async init(){}randomPosition(){const e=this.fill,t=this.position,i=this.size;if(e)return{position:{x:XO(t.x,i.width),y:XO(t.y,i.height)}};{const r=i.width*Vi,s=i.height*Vi,a=Math.floor(mn()*Nq),o=(mn()-Vi)*ao;switch(a){case Bv.TopLeft:return{position:{x:t.x+o*r,y:t.y-s}};case Bv.TopRight:return{position:{x:t.x-r,y:t.y+o*s}};case Bv.BottomRight:return{position:{x:t.x+o*r,y:t.y+s}};case Bv.BottomLeft:default:return{position:{x:t.x+r,y:t.y+o*s}}}}}}class zq{generate(e,t,i,r){return new Iq(e,t,i,r)}}async function Uq(n,e=!0){const t=n;t.checkVersion("3.9.1"),t.addEmitterShapeGenerator?.("square",new zq),await t.refresh(e)}class Bq{constructor(){this.delay=1,this.pauseOnStop=!1,this.quantity=1}load(e){ot(e)||(e.delay!==void 0&&(this.delay=e.delay),e.quantity!==void 0&&(this.quantity=e.quantity),e.particles!==void 0&&(this.particles=Rr({},e.particles)),e.pauseOnStop!==void 0&&(this.pauseOnStop=e.pauseOnStop))}}const YO="trail";class kq extends mc{constructor(e){super(e),this._delay=0}clear(){}init(){}interact(e){const t=this.container,{interactivity:i}=t;if(!t.retina.reduceFactor)return;const r=t.actualOptions,s=r.interactivity.modes.trail;if(!s)return;const a=s.delay*Kr/this.container.retina.reduceFactor;if(this._delay<a&&(this._delay+=e.value),this._delay<a)return;const o=!(s.pauseOnStop&&(i.mouse.position===this._lastPosition||i.mouse.position?.x===this._lastPosition?.x&&i.mouse.position?.y===this._lastPosition?.y)),l=t.interactivity.mouse.position;l?this._lastPosition={...l}:delete this._lastPosition,o&&t.particles.push(s.quantity,t.interactivity.mouse,s.particles),this._delay-=a}isEnabled(e){const t=this.container,i=t.actualOptions,r=t.interactivity.mouse,s=(e?.interactivity??i.interactivity).events;return r.clicking&&r.inside&&!!r.position&&Ir(YO,s.onClick.mode)||r.inside&&!!r.position&&Ir(YO,s.onHover.mode)}loadModeOptions(e,...t){e.trail||(e.trail=new Bq);for(const i of t)e.trail.load(i?.trail)}reset(){}}async function Hq(n,e=!0){n.checkVersion("3.9.1"),await n.addInteractor("externalTrail",t=>Promise.resolve(new kq(t)),e)}var tg;(function(n){n.both="both",n.horizontal="horizontal",n.vertical="vertical"})(tg||(tg={}));const Fq=2,mI=Math.PI*Fq,Vq=360;function Gq(n,e){const t=e.options.roll;if(!t?.enable){e.roll={enable:!1,horizontal:!1,vertical:!1,angle:0,speed:0};return}if(e.roll={enable:t.enable,horizontal:t.mode===tg.horizontal||t.mode===tg.both,vertical:t.mode===tg.vertical||t.mode===tg.both,angle:mn()*mI,speed:St(t.speed)/Vq},t.backColor)e.backColor=uh(n,t.backColor);else if(t.darken.enable&&t.enlighten.enable){const i=mn()>=Vi?Tp.darken:Tp.enlighten;e.roll.alter={type:i,value:St(i===Tp.darken?t.darken.value:t.enlighten.value)}}else t.darken.enable?e.roll.alter={type:Tp.darken,value:St(t.darken.value)}:t.enlighten.enable&&(e.roll.alter={type:Tp.enlighten,value:St(t.enlighten.value)})}function jq(n,e){const t=n.options.roll,i=n.roll;if(!i||!t?.enable)return;const r=i.speed*e.factor,s=mI;i.angle+=r,i.angle>s&&(i.angle-=s)}class ZO{constructor(){this.enable=!1,this.value=0}load(e){ot(e)||(e.enable!==void 0&&(this.enable=e.enable),e.value!==void 0&&(this.value=Mn(e.value)))}}class $q{constructor(){this.darken=new ZO,this.enable=!1,this.enlighten=new ZO,this.mode=tg.vertical,this.speed=25}load(e){ot(e)||(e.backColor!==void 0&&(this.backColor=Cr.create(this.backColor,e.backColor)),this.darken.load(e.darken),e.enable!==void 0&&(this.enable=e.enable),this.enlighten.load(e.enlighten),e.mode!==void 0&&(this.mode=e.mode),e.speed!==void 0&&(this.speed=Mn(e.speed)))}}class qq{constructor(e){this._engine=e}getTransformValues(e){const t=e.roll?.enable&&e.roll,i=t&&t.horizontal,r=t&&t.vertical;return{a:i?Math.cos(t.angle):void 0,d:r?Math.sin(t.angle):void 0}}init(e){Gq(this._engine,e)}isEnabled(e){const t=e.options.roll;return!e.destroyed&&!e.spawning&&!!t?.enable}loadOptions(e,...t){e.roll||(e.roll=new $q);for(const i of t)e.roll.load(i?.roll)}update(e,t){this.isEnabled(e)&&jq(e,t)}}async function Wq(n,e=!0){n.checkVersion("3.9.1"),await n.addParticleUpdater("roll",()=>Promise.resolve(new qq(n)),e)}const U2=.5,Xq=2,Pp=0,lf=1,KO=60,QO=0,Yq=.01,Zq=Math.PI*Xq;function Kq(n){const e=n.initialPosition,{dx:t,dy:i}=ga(e,n.position),r=Math.abs(t),s=Math.abs(i),{maxDistance:a}=n.retina,o=a.horizontal,l=a.vertical;if(!o&&!l)return;const u=(o&&r>=o)??!1,d=(l&&s>=l)??!1;if((u||d)&&!n.misplaced)n.misplaced=!!o&&r>o||!!l&&s>l,o&&(n.velocity.x=n.velocity.y*U2-n.velocity.x),l&&(n.velocity.y=n.velocity.x*U2-n.velocity.y);else if((!o||r<o)&&(!l||s<l)&&n.misplaced)n.misplaced=!1;else if(n.misplaced){const m=n.position,v=n.velocity;o&&(m.x<e.x&&v.x<Pp||m.x>e.x&&v.x>Pp)&&(v.x*=-mn()),l&&(m.y<e.y&&v.y<Pp||m.y>e.y&&v.y>Pp)&&(v.y*=-mn())}}function Qq(n,e,t,i,r,s,a){eW(n,a);const o=n.gravity,l=o?.enable&&o.inverse?-lf:lf;r&&t&&(n.velocity.x+=r*a.factor/(KO*t)),o?.enable&&t&&(n.velocity.y+=l*(o.acceleration*a.factor)/(KO*t));const u=n.moveDecay;n.velocity.multTo(u);const d=n.velocity.mult(t);o?.enable&&i>Pp&&(!o.inverse&&d.y>=Pp&&d.y>=i||o.inverse&&d.y<=Pp&&d.y<=-i)&&(d.y=l*i,t&&(n.velocity.y=d.y/t));const m=n.options.zIndex,v=(lf-n.zIndexFactor)**m.velocityRate;d.multTo(v),d.multTo(s);const{position:y}=n;y.addTo(d),e.vibrate&&(y.x+=Math.sin(y.x*Math.cos(y.y))*s,y.y+=Math.cos(y.y*Math.sin(y.x))*s)}function Jq(n,e,t){const i=n.container;if(!n.spin)return;const r=n.spin.direction===ha.clockwise,s={x:r?Math.cos:Math.sin,y:r?Math.sin:Math.cos};n.position.x=n.spin.center.x+n.spin.radius*s.x(n.spin.angle)*t,n.position.y=n.spin.center.y+n.spin.radius*s.y(n.spin.angle)*t,n.spin.radius+=n.spin.acceleration*t;const a=Math.max(i.canvas.size.width,i.canvas.size.height),o=a*U2;n.spin.radius>o?(n.spin.radius=o,n.spin.acceleration*=-lf):n.spin.radius<QO&&(n.spin.radius=QO,n.spin.acceleration*=-lf),n.spin.angle+=e*Yq*(lf-n.spin.radius/a)}function eW(n,e){const t=n.options,i=t.move.path;if(!i.enable)return;if(n.lastPathTime<=n.pathDelay){n.lastPathTime+=e.value;return}const s=n.pathGenerator?.generate(n,e);s&&n.velocity.addTo(s),i.clamp&&(n.velocity.x=dc(n.velocity.x,-lf,lf),n.velocity.y=dc(n.velocity.y,-lf,lf)),n.lastPathTime-=n.pathDelay}function tW(n){return n.slow.inRange?n.slow.factor:lf}function nW(n){const e=n.container,t=n.options,i=t.move.spin;if(!i.enable)return;const r=i.position??{x:50,y:50},s=.01,a={x:r.x*s*e.canvas.size.width,y:r.y*s*e.canvas.size.height},o=n.getPosition(),l=Ro(o,a),u=St(i.acceleration);n.retina.spinAcceleration=u*e.retina.pixelRatio,n.spin={center:a,direction:n.velocity.x>=Pp?ha.clockwise:ha.counterClockwise,angle:mn()*Zq,radius:l,acceleration:n.retina.spinAcceleration}}const iW=2,rW=1,sW=1;class aW{init(e){const t=e.options,i=t.move.gravity;e.gravity={enable:i.enable,acceleration:St(i.acceleration),inverse:i.inverse},nW(e)}isEnabled(e){return!e.destroyed&&e.options.move.enable}move(e,t){const i=e.options,r=i.move;if(!r.enable)return;const s=e.container,a=s.retina.pixelRatio;e.retina.moveSpeed??=St(r.speed)*a,e.retina.moveDrift??=St(e.options.move.drift)*a;const o=tW(e),l=s.retina.reduceFactor,u=e.retina.moveSpeed,d=e.retina.moveDrift,m=Bc(i.size.value)*a,v=r.size?e.getRadius()/m:rW,y=t.factor||sW,x=u*v*o*y/iW,T=e.retina.maxSpeed??s.retina.maxSpeed;r.spin.enable?Jq(e,x,l):Qq(e,r,x,T,d,l,t),Kq(e)}}async function oW(n,e=!0){n.checkVersion("3.9.1"),await n.addMover("base",()=>Promise.resolve(new aW),e)}const lW=2,cW=Math.PI*lW,uW=0,JO={x:0,y:0};function fW(n){const{context:e,particle:t,radius:i}=n;t.circleRange||(t.circleRange={min:uW,max:cW});const r=t.circleRange;e.arc(JO.x,JO.y,i,r.min,r.max,!1)}const hW=12,dW=360,eP=0;class pW{constructor(){this.validTypes=["circle"]}draw(e){fW(e)}getSidesCount(){return hW}particleInit(e,t){const i=t.shapeData,r=i?.angle??{max:dW,min:eP};t.circleRange=Op(r)?{min:uf(r.min),max:uf(r.max)}:{min:eP,max:uf(r)}}}async function mW(n,e=!0){n.checkVersion("3.9.1"),await n.addShape(new pW,e)}class gW{constructor(e,t){this._container=e,this._engine=t}init(e){const t=uh(this._engine,e.options.color,e.id,e.options.reduceDuplicates);t&&(e.color=aC(t,e.options.color.animation,this._container.retina.reduceFactor))}isEnabled(e){const{h:t,s:i,l:r}=e.options.color.animation,{color:s}=e;return!e.destroyed&&!e.spawning&&(s?.h.value!==void 0&&t.enable||s?.s.value!==void 0&&i.enable||s?.l.value!==void 0&&r.enable)}update(e,t){oC(e.color,t)}}async function vW(n,e=!0){n.checkVersion("3.9.1"),await n.addParticleUpdater("color",t=>Promise.resolve(new gW(t,n)),e)}var Wm;(function(n){n[n.r=1]="r",n[n.g=2]="g",n[n.b=3]="b",n[n.a=4]="a"})(Wm||(Wm={}));const yW=/^#?([a-f\d])([a-f\d])([a-f\d])([a-f\d])?$/i,_W=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})?$/i,sb=16,bW=1,xW=255;class SW{constructor(){this.key="hex",this.stringPrefix="#"}handleColor(e){return this._parseString(e.value)}handleRangeColor(e){return this._parseString(e.value)}parseString(e){return this._parseString(e)}_parseString(e){if(typeof e!="string"||!e?.startsWith(this.stringPrefix))return;const t=e.replace(yW,(r,s,a,o,l)=>s+s+a+a+o+o+(l!==void 0?l+l:"")),i=_W.exec(t);return i?{a:i[Wm.a]!==void 0?parseInt(i[Wm.a],sb)/xW:bW,b:parseInt(i[Wm.b],sb),g:parseInt(i[Wm.g],sb),r:parseInt(i[Wm.r],sb)}:void 0}}async function wW(n,e=!0){n.checkVersion("3.9.1"),await n.addColorManager(new SW,e)}var kv;(function(n){n[n.h=1]="h",n[n.s=2]="s",n[n.l=3]="l",n[n.a=5]="a"})(kv||(kv={}));class EW{constructor(){this.key="hsl",this.stringPrefix="hsl"}handleColor(e){const t=e.value,i=t.hsl??e.value;if(i.h!==void 0&&i.s!==void 0&&i.l!==void 0)return ay(i)}handleRangeColor(e){const t=e.value,i=t.hsl??e.value;if(i.h!==void 0&&i.l!==void 0)return ay({h:St(i.h),l:St(i.l),s:St(i.s)})}parseString(e){if(!e.startsWith("hsl"))return;const t=/hsla?\(\s*(\d+)\s*[\s,]\s*(\d+)%\s*[\s,]\s*(\d+)%\s*([\s,]\s*(0|1|0?\.\d+|(\d{1,3})%)\s*)?\)/i,i=t.exec(e),r=4,s=1,a=10;return i?a7({a:i.length>r?B_(i[kv.a]):s,h:parseInt(i[kv.h],a),l:parseInt(i[kv.l],a),s:parseInt(i[kv.s],a)}):void 0}}async function TW(n,e=!0){n.checkVersion("3.9.1"),await n.addColorManager(new EW,e)}class MW{constructor(e){this.container=e}init(e){const t=e.options.opacity,i=1;e.opacity=J5(t,i);const r=t.animation;r.enable&&(e.opacity.velocity=St(r.speed)/qi*this.container.retina.reduceFactor,r.sync||(e.opacity.velocity*=mn()))}isEnabled(e){return!e.destroyed&&!e.spawning&&!!e.opacity&&e.opacity.enable&&((e.opacity.maxLoops??0)<=0||(e.opacity.maxLoops??0)>0&&(e.opacity.loops??0)<(e.opacity.maxLoops??0))}reset(e){e.opacity&&(e.opacity.time=0,e.opacity.loops=0)}update(e,t){!this.isEnabled(e)||!e.opacity||sy(e,e.opacity,!0,e.options.opacity.animation.destroy,t)}}async function AW(n,e=!0){n.checkVersion("3.9.1"),await n.addParticleUpdater("opacity",t=>Promise.resolve(new MW(t)),e)}const Jx=0,Kv=0;function CW(n){if(n.outMode!==Ca.bounce&&n.outMode!==Ca.split||n.direction!==tr.left&&n.direction!==tr.right)return;n.bounds.right<Kv&&n.direction===tr.left?n.particle.position.x=n.size+n.offset.x:n.bounds.left>n.canvasSize.width&&n.direction===tr.right&&(n.particle.position.x=n.canvasSize.width-n.size-n.offset.x);const e=n.particle.velocity.x;let t=!1;if(n.direction===tr.right&&n.bounds.right>=n.canvasSize.width&&e>Jx||n.direction===tr.left&&n.bounds.left<=Kv&&e<Jx){const r=St(n.particle.options.bounce.horizontal.value);n.particle.velocity.x*=-r,t=!0}if(!t)return;const i=n.offset.x+n.size;n.bounds.right>=n.canvasSize.width&&n.direction===tr.right?n.particle.position.x=n.canvasSize.width-i:n.bounds.left<=Kv&&n.direction===tr.left&&(n.particle.position.x=i),n.outMode===Ca.split&&n.particle.destroy()}function RW(n){if(n.outMode!==Ca.bounce&&n.outMode!==Ca.split||n.direction!==tr.bottom&&n.direction!==tr.top)return;n.bounds.bottom<Kv&&n.direction===tr.top?n.particle.position.y=n.size+n.offset.y:n.bounds.top>n.canvasSize.height&&n.direction===tr.bottom&&(n.particle.position.y=n.canvasSize.height-n.size-n.offset.y);const e=n.particle.velocity.y;let t=!1;if(n.direction===tr.bottom&&n.bounds.bottom>=n.canvasSize.height&&e>Jx||n.direction===tr.top&&n.bounds.top<=Kv&&e<Jx){const r=St(n.particle.options.bounce.vertical.value);n.particle.velocity.y*=-r,t=!0}if(!t)return;const i=n.offset.y+n.size;n.bounds.bottom>=n.canvasSize.height&&n.direction===tr.bottom?n.particle.position.y=n.canvasSize.height-i:n.bounds.top<=Kv&&n.direction===tr.top&&(n.particle.position.y=i),n.outMode===Ca.split&&n.particle.destroy()}class OW{constructor(e){this.container=e,this.modes=[Ca.bounce,Ca.split]}update(e,t,i,r){if(!this.modes.includes(r))return;const s=this.container;let a=!1;for(const v of s.plugins.values())if(v.particleBounce!==void 0&&(a=v.particleBounce(e,i,t)),a)break;if(a)return;const o=e.getPosition(),l=e.offset,u=e.getRadius(),d=H_(o,u),m=s.canvas.size;CW({particle:e,outMode:r,direction:t,bounds:d,canvasSize:m,offset:l,size:u}),RW({particle:e,outMode:r,direction:t,bounds:d,canvasSize:m,offset:l,size:u})}}const ab=0;class PW{constructor(e){this.container=e,this.modes=[Ca.destroy]}update(e,t,i,r){if(!this.modes.includes(r))return;const s=this.container;switch(e.outType){case ff.normal:case ff.outside:if(k_(e.position,s.canvas.size,nr.origin,e.getRadius(),t))return;break;case ff.inside:{const{dx:a,dy:o}=ga(e.position,e.moveCenter),{x:l,y:u}=e.velocity;if(l<ab&&a>e.moveCenter.radius||u<ab&&o>e.moveCenter.radius||l>=ab&&a<-e.moveCenter.radius||u>=ab&&o<-e.moveCenter.radius)return;break}}s.particles.remove(e,e.group,!0)}}const ob=0;class DW{constructor(e){this.container=e,this.modes=[Ca.none]}update(e,t,i,r){if(!this.modes.includes(r)||((e.options.move.distance.horizontal&&(t===tr.left||t===tr.right))??(e.options.move.distance.vertical&&(t===tr.top||t===tr.bottom))))return;const s=e.options.move.gravity,a=this.container,o=a.canvas.size,l=e.getRadius();if(s.enable){const u=e.position;(!s.inverse&&u.y>o.height+l&&t===tr.bottom||s.inverse&&u.y<-l&&t===tr.top)&&a.particles.remove(e)}else{if(e.velocity.y>ob&&e.position.y<=o.height+l||e.velocity.y<ob&&e.position.y>=-l||e.velocity.x>ob&&e.position.x<=o.width+l||e.velocity.x<ob&&e.position.x>=-l)return;k_(e.position,a.canvas.size,nr.origin,l,t)||a.particles.remove(e)}}}const lb=0,cb=0;class LW{constructor(e){this.container=e,this.modes=[Ca.out]}update(e,t,i,r){if(!this.modes.includes(r))return;const s=this.container;switch(e.outType){case ff.inside:{const{x:a,y:o}=e.velocity,l=nr.origin;l.length=e.moveCenter.radius,l.angle=e.velocity.angle+Math.PI,l.addTo(nr.create(e.moveCenter));const{dx:u,dy:d}=ga(e.position,l);if(a<=lb&&u>=cb||o<=lb&&d>=cb||a>=lb&&u<=cb||o>=lb&&d<=cb)return;e.position.x=Math.floor(da({min:0,max:s.canvas.size.width})),e.position.y=Math.floor(da({min:0,max:s.canvas.size.height}));const{dx:m,dy:v}=ga(e.position,e.moveCenter);e.direction=Math.atan2(-v,-m),e.velocity.angle=e.direction;break}default:{if(k_(e.position,s.canvas.size,nr.origin,e.getRadius(),t))return;switch(e.outType){case ff.outside:{e.position.x=Math.floor(da({min:-e.moveCenter.radius,max:e.moveCenter.radius}))+e.moveCenter.x,e.position.y=Math.floor(da({min:-e.moveCenter.radius,max:e.moveCenter.radius}))+e.moveCenter.y;const{dx:a,dy:o}=ga(e.position,e.moveCenter);e.moveCenter.radius&&(e.direction=Math.atan2(o,a),e.velocity.angle=e.direction);break}case ff.normal:{const a=e.options.move.warp,o=s.canvas.size,l={bottom:o.height+e.getRadius()+e.offset.y,left:-e.getRadius()-e.offset.x,right:o.width+e.getRadius()+e.offset.x,top:-e.getRadius()-e.offset.y},u=e.getRadius(),d=H_(e.position,u);t===tr.right&&d.left>o.width+e.offset.x?(e.position.x=l.left,e.initialPosition.x=e.position.x,a||(e.position.y=mn()*o.height,e.initialPosition.y=e.position.y)):t===tr.left&&d.right<-e.offset.x&&(e.position.x=l.right,e.initialPosition.x=e.position.x,a||(e.position.y=mn()*o.height,e.initialPosition.y=e.position.y)),t===tr.bottom&&d.top>o.height+e.offset.y?(a||(e.position.x=mn()*o.width,e.initialPosition.x=e.position.x),e.position.y=l.top,e.initialPosition.y=e.position.y):t===tr.top&&d.bottom<-e.offset.y&&(a||(e.position.x=mn()*o.width,e.initialPosition.x=e.position.x),e.position.y=l.bottom,e.initialPosition.y=e.position.y);break}}break}}}}const NW=(n,e)=>n.default===e||n.bottom===e||n.left===e||n.right===e||n.top===e;class IW{constructor(e){this._addUpdaterIfMissing=(t,i,r)=>{const s=t.options.move.outModes;!this.updaters.has(i)&&NW(s,i)&&this.updaters.set(i,r(this.container))},this._updateOutMode=(t,i,r,s)=>{for(const a of this.updaters.values())a.update(t,s,i,r)},this.container=e,this.updaters=new Map}init(e){this._addUpdaterIfMissing(e,Ca.bounce,t=>new OW(t)),this._addUpdaterIfMissing(e,Ca.out,t=>new LW(t)),this._addUpdaterIfMissing(e,Ca.destroy,t=>new PW(t)),this._addUpdaterIfMissing(e,Ca.none,t=>new DW(t))}isEnabled(e){return!e.destroyed&&!e.spawning}update(e,t){const i=e.options.move.outModes;this._updateOutMode(e,t,i.bottom??i.default,tr.bottom),this._updateOutMode(e,t,i.left??i.default,tr.left),this._updateOutMode(e,t,i.right??i.default,tr.right),this._updateOutMode(e,t,i.top??i.default,tr.top)}}async function zW(n,e=!0){n.checkVersion("3.9.1"),await n.addParticleUpdater("outModes",t=>Promise.resolve(new IW(t)),e)}var Hv;(function(n){n[n.r=1]="r",n[n.g=2]="g",n[n.b=3]="b",n[n.a=5]="a"})(Hv||(Hv={}));class UW{constructor(){this.key="rgb",this.stringPrefix="rgb"}handleColor(e){const t=e.value,i=t.rgb??e.value;if(i.r!==void 0)return i}handleRangeColor(e){const t=e.value,i=t.rgb??e.value;if(i.r!==void 0)return{r:St(i.r),g:St(i.g),b:St(i.b)}}parseString(e){if(!e.startsWith(this.stringPrefix))return;const t=/rgba?\(\s*(\d{1,3})\s*[\s,]\s*(\d{1,3})\s*[\s,]\s*(\d{1,3})\s*([\s,]\s*(0|1|0?\.\d+|(\d{1,3})%)\s*)?\)/i,i=t.exec(e),r=10;return i?{a:i.length>4?B_(i[Hv.a]):1,b:parseInt(i[Hv.b],r),g:parseInt(i[Hv.g],r),r:parseInt(i[Hv.r],r)}:void 0}}async function BW(n,e=!0){n.checkVersion("3.9.1"),await n.addColorManager(new UW,e)}const wm=0;class kW{init(e){const t=e.container,i=e.options.size,r=i.animation;r.enable&&(e.size.velocity=(e.retina.sizeAnimationSpeed??t.retina.sizeAnimationSpeed)/qi*t.retina.reduceFactor,r.sync||(e.size.velocity*=mn()))}isEnabled(e){return!e.destroyed&&!e.spawning&&e.size.enable&&((e.size.maxLoops??wm)<=wm||(e.size.maxLoops??wm)>wm&&(e.size.loops??wm)<(e.size.maxLoops??wm))}reset(e){e.size.loops=wm}update(e,t){this.isEnabled(e)&&sy(e,e.size,!0,e.options.size.animation.destroy,t)}}async function HW(n,e=!0){n.checkVersion("3.9.1"),await n.addParticleUpdater("size",()=>Promise.resolve(new kW),e)}async function FW(n,e=!0){n.checkVersion("3.9.1"),await wW(n,!1),await TW(n,!1),await BW(n,!1),await oW(n,!1),await mW(n,!1),await vW(n,!1),await AW(n,!1),await zW(n,!1),await HW(n,!1),await n.refresh(e)}async function VW(n,e=!0){n.checkVersion("3.9.1"),await n.addEasing(Pr.easeInQuad,t=>t**2,!1),await n.addEasing(Pr.easeOutQuad,t=>1-(1-t)**2,!1),await n.addEasing(Pr.easeInOutQuad,t=>t<.5?2*t**2:1-(-2*t+2)**2/2,!1),await n.refresh(e)}function GW(n,e){const{context:t,opacity:i}=n,r=.5,s=t.globalAlpha;if(!e)return;const a=e.width,o=a*r;t.globalAlpha=i,t.drawImage(e,-o,-o,a,a),t.globalAlpha=s}const MT='"Twemoji Mozilla", Apple Color Emoji, "Segoe UI Emoji", "Noto Color Emoji", "EmojiOne Color"',tP=0;class jW{constructor(){this.validTypes=["emoji"],this._emojiShapeDict=new Map}destroy(){for(const[e,t]of this._emojiShapeDict)t instanceof ImageBitmap&&t?.close(),this._emojiShapeDict.delete(e)}draw(e){const t=e.particle.emojiDataKey;if(!t)return;const i=this._emojiShapeDict.get(t);i&&GW(e,i)}async init(e){const t=e.actualOptions,{validTypes:i}=this;if(!i.find(a=>Ir(a,t.particles.shape.type)))return;const r=[D2(MT)],s=i.map(a=>t.particles.shape.options[a]).find(a=>!!a);s&&hs(s,a=>{a.font&&r.push(D2(a.font))}),await Promise.all(r)}particleDestroy(e){e.emojiDataKey=void 0}particleInit(e,t){const r=t.shapeData;if(!r?.value)return;const s=pa(r.value,t.randomIndexData);if(!s)return;const a=typeof s=="string"?{font:r.font??MT,padding:r.padding??tP,value:s}:{font:MT,padding:tP,...r,...s},o=a.font,l=a.value,u=`${l}_${o}`;if(this._emojiShapeDict.has(u)){t.emojiDataKey=u;return}const d=a.padding*2,m=Bc(t.size.value),v=m+d,y=v*2;let x;if(typeof OffscreenCanvas<"u"){const T=new OffscreenCanvas(y,y),E=T.getContext("2d");if(!E)return;E.font=`400 ${m*2}px ${o}`,E.textBaseline="middle",E.textAlign="center",E.fillText(l,v,v),x=T.transferToImageBitmap()}else{const T=document.createElement("canvas");T.width=y,T.height=y;const E=T.getContext("2d");if(!E)return;E.font=`400 ${m*2}px ${o}`,E.textBaseline="middle",E.textAlign="center",E.fillText(l,v,v),x=T}this._emojiShapeDict.set(u,x),t.emojiDataKey=u}}async function $W(n,e=!0){n.checkVersion("3.9.1"),await n.addShape(new jW,e)}const qW=1,WW=1,gI=0;function vI(n,e,t,i,r,s){const a=e.actualOptions.interactivity.modes.attract;if(!a)return;const o=e.particles.quadTree.query(r,s);for(const l of o){const{dx:u,dy:d,distance:m}=ga(l.position,t),v=a.speed*a.factor,y=dc(n.getEasing(a.easing)(WW-m/i)*v,qW,a.maxSpeed),x=nr.create(m?u/m*y:v,m?d/m*y:v);l.position.subFrom(x)}}function XW(n,e,t){e.attract||(e.attract={particles:[]});const{attract:i}=e;if(i.finish||(i.count||(i.count=0),i.count++,i.count===e.particles.count&&(i.finish=!0)),i.clicking){const r=e.interactivity.mouse.clickPosition,s=e.retina.attractModeDistance;if(!s||s<gI||!r)return;vI(n,e,r,s,new Jo(r.x,r.y,s),a=>t(a))}else i.clicking===!1&&(i.particles=[])}function YW(n,e,t){const i=e.interactivity.mouse.position,r=e.retina.attractModeDistance;!r||r<gI||!i||vI(n,e,i,r,new Jo(i.x,i.y,r),s=>t(s))}class ZW{constructor(){this.distance=200,this.duration=.4,this.easing=Pr.easeOutQuad,this.factor=1,this.maxSpeed=50,this.speed=1}load(e){ot(e)||(e.distance!==void 0&&(this.distance=e.distance),e.duration!==void 0&&(this.duration=e.duration),e.easing!==void 0&&(this.easing=e.easing),e.factor!==void 0&&(this.factor=e.factor),e.maxSpeed!==void 0&&(this.maxSpeed=e.maxSpeed),e.speed!==void 0&&(this.speed=e.speed))}}const g0="attract";let KW=class extends mc{constructor(e,t){super(t),this._engine=e,t.attract||(t.attract={particles:[]}),this.handleClickMode=i=>{const r=this.container.actualOptions,s=r.interactivity.modes.attract;if(!(!s||i!==g0)){t.attract||(t.attract={particles:[]}),t.attract.clicking=!0,t.attract.count=0;for(const a of t.attract.particles)this.isEnabled(a)&&a.velocity.setTo(a.initialVelocity);t.attract.particles=[],t.attract.finish=!1,setTimeout(()=>{t.destroyed||(t.attract||(t.attract={particles:[]}),t.attract.clicking=!1)},s.duration*Kr)}}}clear(){}init(){const e=this.container,t=e.actualOptions.interactivity.modes.attract;t&&(e.retina.attractModeDistance=t.distance*e.retina.pixelRatio)}interact(){const e=this.container,t=e.actualOptions,i=e.interactivity.status===pg,r=t.interactivity.events,{enable:s,mode:a}=r.onHover,{enable:o,mode:l}=r.onClick;i&&s&&Ir(g0,a)?YW(this._engine,this.container,u=>this.isEnabled(u)):o&&Ir(g0,l)&&XW(this._engine,this.container,u=>this.isEnabled(u))}isEnabled(e){const t=this.container,i=t.actualOptions,r=t.interactivity.mouse,s=(e?.interactivity??i.interactivity).events;if((!r.position||!s.onHover.enable)&&(!r.clickPosition||!s.onClick.enable))return!1;const a=s.onHover.mode,o=s.onClick.mode;return Ir(g0,a)||Ir(g0,o)}loadModeOptions(e,...t){e.attract||(e.attract=new ZW);for(const i of t)e.attract.load(i?.attract)}reset(){}};async function QW(n,e=!0){n.checkVersion("3.9.1"),await n.addInteractor("externalAttract",t=>Promise.resolve(new KW(n,t)),e)}const JW=2,Px=.5,eX=Math.PI*Px,nP=2,yI=10,tX=0;function _I(n,e,t,i,r){const s=n.particles.quadTree.query(i,r);for(const a of s)i instanceof Jo?K5(L2(a),{position:e,mass:t**JW*eX,velocity:nr.origin,factor:nr.origin}):i instanceof gf&&JV(a,H_(e,t))}function nX(n,e,t,i){const r=document.querySelectorAll(e);r.length&&r.forEach(s=>{const a=s,o=n.retina.pixelRatio,l={x:(a.offsetLeft+a.offsetWidth*Px)*o,y:(a.offsetTop+a.offsetHeight*Px)*o},u=a.offsetWidth*Px*o,d=yI*o,m=t.type===oy.circle?new Jo(l.x,l.y,u+d):new gf(a.offsetLeft*o-d,a.offsetTop*o-d,a.offsetWidth*o+d*nP,a.offsetHeight*o+d*nP);i(l,u,m)})}function iX(n,e,t,i){iC(t,e,(r,s)=>nX(n,r,s,(a,o,l)=>_I(n,a,o,l,i)))}function rX(n,e){const t=n.retina.pixelRatio,i=yI*t,r=n.interactivity.mouse.position,s=n.retina.bounceModeDistance;!s||s<tX||!r||_I(n,r,s,new Jo(r.x,r.y,s+i),e)}class sX{constructor(){this.distance=200}load(e){ot(e)||e.distance!==void 0&&(this.distance=e.distance)}}const ub="bounce";class aX extends mc{constructor(e){super(e)}clear(){}init(){const e=this.container,t=e.actualOptions.interactivity.modes.bounce;t&&(e.retina.bounceModeDistance=t.distance*e.retina.pixelRatio)}interact(){const e=this.container,t=e.actualOptions,i=t.interactivity.events,r=e.interactivity.status===pg,s=i.onHover.enable,a=i.onHover.mode,o=i.onDiv;r&&s&&Ir(ub,a)?rX(this.container,l=>this.isEnabled(l)):iX(this.container,o,ub,l=>this.isEnabled(l))}isEnabled(e){const t=this.container,i=t.actualOptions,r=t.interactivity.mouse,s=(e?.interactivity??i.interactivity).events,a=s.onDiv;return!!r.position&&s.onHover.enable&&Ir(ub,s.onHover.mode)||nC(ub,a)}loadModeOptions(e,...t){e.bounce||(e.bounce=new sX);for(const i of t)e.bounce.load(i?.bounce)}reset(){}}async function oX(n,e=!0){n.checkVersion("3.9.1"),await n.addInteractor("externalBounce",t=>Promise.resolve(new aX(t)),e)}class bI{constructor(){this.distance=200,this.duration=.4,this.mix=!1}load(e){if(!ot(e)){if(e.distance!==void 0&&(this.distance=e.distance),e.duration!==void 0&&(this.duration=e.duration),e.mix!==void 0&&(this.mix=e.mix),e.opacity!==void 0&&(this.opacity=e.opacity),e.color!==void 0){const t=Fa(this.color)?void 0:this.color;this.color=hs(e.color,i=>Cr.create(t,i))}e.size!==void 0&&(this.size=e.size)}}}class lX extends bI{constructor(){super(),this.selectors=[]}load(e){super.load(e),!ot(e)&&e.selectors!==void 0&&(this.selectors=e.selectors)}}class cX extends bI{load(e){super.load(e),!ot(e)&&(this.divs=hs(e.divs,t=>{const i=new lX;return i.load(t),i}))}}var Jf;(function(n){n.color="color",n.opacity="opacity",n.size="size"})(Jf||(Jf={}));function iP(n,e,t,i){if(e>=t){const r=n+(e-t)*i;return dc(r,n,e)}else if(e<t){const r=n-(t-e)*i;return dc(r,e,n)}}const Em="bubble",AT=0,uX=0,fX=2,rP=1,sP=1,hX=0,dX=0,CT=.5,RT=1;class pX extends mc{constructor(e,t){super(e),this._clickBubble=()=>{const i=this.container,r=i.actualOptions,s=i.interactivity.mouse.clickPosition,a=r.interactivity.modes.bubble;if(!a||!s)return;i.bubble||(i.bubble={});const o=i.retina.bubbleModeDistance;if(!o||o<AT)return;const l=i.particles.quadTree.queryCircle(s,o,d=>this.isEnabled(d)),{bubble:u}=i;for(const d of l){if(!u.clicking)continue;d.bubble.inRange=!u.durationEnd;const m=d.getPosition(),v=Ro(m,s),y=(new Date().getTime()-(i.interactivity.mouse.clickTime??uX))/Kr;y>a.duration&&(u.durationEnd=!0),y>a.duration*fX&&(u.clicking=!1,u.durationEnd=!1);const x={bubbleObj:{optValue:i.retina.bubbleModeSize,value:d.bubble.radius},particlesObj:{optValue:Bc(d.options.size.value)*i.retina.pixelRatio,value:d.size.value},type:Jf.size};this._process(d,v,y,x);const T={bubbleObj:{optValue:a.opacity,value:d.bubble.opacity},particlesObj:{optValue:Bc(d.options.opacity.value),value:d.opacity?.value??rP},type:Jf.opacity};this._process(d,v,y,T),!u.durationEnd&&v<=o?this._hoverBubbleColor(d,v):delete d.bubble.color}},this._hoverBubble=()=>{const i=this.container,r=i.interactivity.mouse.position,s=i.retina.bubbleModeDistance;if(!s||s<AT||!r)return;const a=i.particles.quadTree.queryCircle(r,s,o=>this.isEnabled(o));for(const o of a){o.bubble.inRange=!0;const l=o.getPosition(),u=Ro(l,r),d=sP-u/s;u<=s?d>=dX&&i.interactivity.status===pg&&(this._hoverBubbleSize(o,d),this._hoverBubbleOpacity(o,d),this._hoverBubbleColor(o,d)):this.reset(o),i.interactivity.status===M2&&this.reset(o)}},this._hoverBubbleColor=(i,r,s)=>{const a=this.container.actualOptions,o=s??a.interactivity.modes.bubble;if(o){if(!i.bubble.finalColor){const l=o.color;if(!l)return;const u=pa(l);i.bubble.finalColor=uh(this._engine,u)}if(i.bubble.finalColor)if(o.mix){i.bubble.color=void 0;const l=i.getFillColor();i.bubble.color=l?iI(sC(l,i.bubble.finalColor,sP-r,r)):i.bubble.finalColor}else i.bubble.color=i.bubble.finalColor}},this._hoverBubbleOpacity=(i,r,s)=>{const a=this.container,o=a.actualOptions,l=s?.opacity??o.interactivity.modes.bubble?.opacity;if(!l)return;const u=i.options.opacity.value,d=i.opacity?.value??rP,m=iP(d,l,Bc(u),r);m!==void 0&&(i.bubble.opacity=m)},this._hoverBubbleSize=(i,r,s)=>{const a=this.container,o=s?.size?s.size*a.retina.pixelRatio:a.retina.bubbleModeSize;if(o===void 0)return;const l=Bc(i.options.size.value)*a.retina.pixelRatio,u=i.size.value,d=iP(u,o,l,r);d!==void 0&&(i.bubble.radius=d)},this._process=(i,r,s,a)=>{const o=this.container,l=a.bubbleObj.optValue,u=o.actualOptions,d=u.interactivity.modes.bubble;if(!d||l===void 0)return;const m=d.duration,v=o.retina.bubbleModeDistance,y=a.particlesObj.optValue,x=a.bubbleObj.value,T=a.particlesObj.value??hX,E=a.type;if(!(!v||v<AT||l===y))if(o.bubble||(o.bubble={}),o.bubble.durationEnd)x&&(E===Jf.size&&delete i.bubble.radius,E===Jf.opacity&&delete i.bubble.opacity);else if(r<=v){if((x??T)!==l){const P=T-s*(T-l)/m;E===Jf.size&&(i.bubble.radius=P),E===Jf.opacity&&(i.bubble.opacity=P)}}else E===Jf.size&&delete i.bubble.radius,E===Jf.opacity&&delete i.bubble.opacity},this._singleSelectorHover=(i,r,s)=>{const a=this.container,o=document.querySelectorAll(r),l=a.actualOptions.interactivity.modes.bubble;!l||!o.length||o.forEach(u=>{const d=u,m=a.retina.pixelRatio,v={x:(d.offsetLeft+d.offsetWidth*CT)*m,y:(d.offsetTop+d.offsetHeight*CT)*m},y=d.offsetWidth*CT*m,x=s.type===oy.circle?new Jo(v.x,v.y,y):new gf(d.offsetLeft*m,d.offsetTop*m,d.offsetWidth*m,d.offsetHeight*m),T=a.particles.quadTree.query(x,E=>this.isEnabled(E));for(const E of T){if(!x.contains(E.getPosition()))continue;E.bubble.inRange=!0;const w=l.divs,P=Z5(w,d);(!E.bubble.div||E.bubble.div!==d)&&(this.clear(E,i,!0),E.bubble.div=d),this._hoverBubbleSize(E,RT,P),this._hoverBubbleOpacity(E,RT,P),this._hoverBubbleColor(E,RT,P)}})},this._engine=t,e.bubble||(e.bubble={}),this.handleClickMode=i=>{i===Em&&(e.bubble||(e.bubble={}),e.bubble.clicking=!0)}}clear(e,t,i){e.bubble.inRange&&!i||(delete e.bubble.div,delete e.bubble.opacity,delete e.bubble.radius,delete e.bubble.color)}init(){const e=this.container,t=e.actualOptions.interactivity.modes.bubble;t&&(e.retina.bubbleModeDistance=t.distance*e.retina.pixelRatio,t.size!==void 0&&(e.retina.bubbleModeSize=t.size*e.retina.pixelRatio))}interact(e){const t=this.container.actualOptions,i=t.interactivity.events,r=i.onHover,s=i.onClick,a=r.enable,o=r.mode,l=s.enable,u=s.mode,d=i.onDiv;a&&Ir(Em,o)?this._hoverBubble():l&&Ir(Em,u)?this._clickBubble():iC(Em,d,(m,v)=>this._singleSelectorHover(e,m,v))}isEnabled(e){const t=this.container,i=t.actualOptions,r=t.interactivity.mouse,s=(e?.interactivity??i.interactivity).events,{onClick:a,onDiv:o,onHover:l}=s,u=nC(Em,o);return u||l.enable&&r.position||a.enable&&r.clickPosition?Ir(Em,l.mode)||Ir(Em,a.mode)||u:!1}loadModeOptions(e,...t){e.bubble||(e.bubble=new cX);for(const i of t)e.bubble.load(i?.bubble)}reset(e){e.bubble.inRange=!1}}async function mX(n,e=!0){n.checkVersion("3.9.1"),await n.addInteractor("externalBubble",t=>Promise.resolve(new pX(t,n)),e)}class gX{constructor(){this.opacity=.5}load(e){ot(e)||e.opacity!==void 0&&(this.opacity=e.opacity)}}class vX{constructor(){this.distance=80,this.links=new gX,this.radius=60}load(e){ot(e)||(e.distance!==void 0&&(this.distance=e.distance),this.links.load(e.links),e.radius!==void 0&&(this.radius=e.radius))}}const aP=0,oP=1,yX=0;function _X(n,e,t,i){const r=Math.floor(t.getRadius()/e.getRadius()),s=e.getFillColor(),a=t.getFillColor();if(!s||!a)return;const o=e.getPosition(),l=t.getPosition(),u=sC(s,a,e.getRadius(),t.getRadius()),d=n.createLinearGradient(o.x,o.y,l.x,l.y);return d.addColorStop(aP,Ip(s,i)),d.addColorStop(dc(r,aP,oP),Ul(u,i)),d.addColorStop(oP,Ip(a,i)),d}function bX(n,e,t,i,r){V0(n,i,r),n.lineWidth=e,n.strokeStyle=t,n.stroke()}function xX(n,e,t,i){const r=n.actualOptions,s=r.interactivity.modes.connect;if(s)return _X(e,t,i,s.links.opacity)}function SX(n,e,t){n.canvas.draw(i=>{const r=xX(n,i,e,t);if(!r)return;const s=e.getPosition(),a=t.getPosition();bX(i,e.retina.linksWidth??yX,r,s,a)})}const wX="connect",lP=0;class EX extends mc{constructor(e){super(e)}clear(){}init(){const e=this.container,t=e.actualOptions.interactivity.modes.connect;t&&(e.retina.connectModeDistance=t.distance*e.retina.pixelRatio,e.retina.connectModeRadius=t.radius*e.retina.pixelRatio)}interact(){const e=this.container;if(e.actualOptions.interactivity.events.onHover.enable&&e.interactivity.status==="pointermove"){const i=e.interactivity.mouse.position,{connectModeDistance:r,connectModeRadius:s}=e.retina;if(!r||r<lP||!s||s<lP||!i)return;const a=Math.abs(s),o=e.particles.quadTree.queryCircle(i,a,l=>this.isEnabled(l));o.forEach((l,u)=>{const d=l.getPosition(),m=1;for(const v of o.slice(u+m)){const y=v.getPosition(),x=Math.abs(r),T=Math.abs(d.x-y.x),E=Math.abs(d.y-y.y);T<x&&E<x&&SX(e,l,v)}})}}isEnabled(e){const t=this.container,i=t.interactivity.mouse,r=(e?.interactivity??t.actualOptions.interactivity).events;return r.onHover.enable&&i.position?Ir(wX,r.onHover.mode):!1}loadModeOptions(e,...t){e.connect||(e.connect=new vX);for(const i of t)e.connect.load(i?.connect)}reset(){}}async function TX(n,e=!0){n.checkVersion("3.9.1"),await n.addInteractor("externalConnect",t=>Promise.resolve(new EX(t)),e)}class MX{constructor(){this.blink=!1,this.consent=!1,this.opacity=1}load(e){ot(e)||(e.blink!==void 0&&(this.blink=e.blink),e.color!==void 0&&(this.color=Cr.create(this.color,e.color)),e.consent!==void 0&&(this.consent=e.consent),e.opacity!==void 0&&(this.opacity=e.opacity))}}class AX{constructor(){this.distance=100,this.links=new MX}load(e){ot(e)||(e.distance!==void 0&&(this.distance=e.distance),this.links.load(e.links))}}const CX=0;function RX(n,e,t,i,r,s){V0(n,t,i),n.strokeStyle=Ul(r,s),n.lineWidth=e,n.stroke()}function OX(n,e,t,i,r){n.canvas.draw(s=>{const a=e.getPosition();RX(s,e.retina.linksWidth??CX,a,r,t,i)})}const PX="grab",DX=0,LX=0;class NX extends mc{constructor(e,t){super(e),this._engine=t}clear(){}init(){const e=this.container,t=e.actualOptions.interactivity.modes.grab;t&&(e.retina.grabModeDistance=t.distance*e.retina.pixelRatio)}interact(){const e=this.container,t=e.actualOptions,i=t.interactivity;if(!i.modes.grab||!i.events.onHover.enable||e.interactivity.status!==pg)return;const r=e.interactivity.mouse.position;if(!r)return;const s=e.retina.grabModeDistance;if(!s||s<DX)return;const a=e.particles.quadTree.queryCircle(r,s,o=>this.isEnabled(o));for(const o of a){const l=o.getPosition(),u=Ro(l,r);if(u>s)continue;const d=i.modes.grab.links,m=d.opacity,v=m-u*m/s;if(v<=LX)continue;const y=d.color??o.options.links?.color;if(!e.particles.grabLineColor&&y){const T=i.modes.grab.links;e.particles.grabLineColor=sI(this._engine,y,T.blink,T.consent)}const x=N2(o,void 0,e.particles.grabLineColor);x&&OX(e,o,x,v,r)}}isEnabled(e){const t=this.container,i=t.interactivity.mouse,r=(e?.interactivity??t.actualOptions.interactivity).events;return r.onHover.enable&&!!i.position&&Ir(PX,r.onHover.mode)}loadModeOptions(e,...t){e.grab||(e.grab=new AX);for(const i of t)e.grab.load(i?.grab)}reset(){}}async function IX(n,e=!0){n.checkVersion("3.9.1"),await n.addInteractor("externalGrab",t=>Promise.resolve(new NX(t,n)),e)}const zX="pause";class UX extends mc{constructor(e){super(e),this.handleClickMode=t=>{if(t!==zX)return;const i=this.container;i.animationStatus?i.pause():i.play()}}clear(){}init(){}interact(){}isEnabled(){return!0}reset(){}}async function BX(n,e=!0){n.checkVersion("3.9.1"),await n.addInteractor("externalPause",t=>Promise.resolve(new UX(t)),e)}class kX{constructor(){this.default=!0,this.groups=[],this.quantity=4}load(e){if(ot(e))return;e.default!==void 0&&(this.default=e.default),e.groups!==void 0&&(this.groups=e.groups.map(i=>i)),this.groups.length||(this.default=!0);const t=e.quantity;t!==void 0&&(this.quantity=Mn(t)),this.particles=hs(e.particles,i=>Rr({},i))}}const HX="push",FX=0;class VX extends mc{constructor(e){super(e),this.handleClickMode=t=>{if(t!==HX)return;const i=this.container,r=i.actualOptions,s=r.interactivity.modes.push;if(!s)return;const a=St(s.quantity);if(a<=FX)return;const o=ch([void 0,...s.groups]),l=o!==void 0?i.actualOptions.particles.groups[o]:void 0,u=pa(s.particles),d=Rr(l,u);i.particles.push(a,i.interactivity.mouse,d,o)}}clear(){}init(){}interact(){}isEnabled(){return!0}loadModeOptions(e,...t){e.push||(e.push=new kX);for(const i of t)e.push.load(i?.push)}reset(){}}async function GX(n,e=!0){n.checkVersion("3.9.1"),await n.addInteractor("externalPush",t=>Promise.resolve(new VX(t)),e)}let jX=class{constructor(){this.quantity=2}load(e){if(ot(e))return;const t=e.quantity;t!==void 0&&(this.quantity=Mn(t))}};const $X="remove";class qX extends mc{constructor(e){super(e),this.handleClickMode=t=>{const i=this.container,r=i.actualOptions;if(!r.interactivity.modes.remove||t!==$X)return;const s=St(r.interactivity.modes.remove.quantity);i.particles.removeQuantity(s)}}clear(){}init(){}interact(){}isEnabled(){return!0}loadModeOptions(e,...t){e.remove||(e.remove=new jX);for(const i of t)e.remove.load(i?.remove)}reset(){}}async function WX(n,e=!0){n.checkVersion("3.9.1"),await n.addInteractor("externalRemove",t=>Promise.resolve(new qX(t)),e)}class xI{constructor(){this.distance=200,this.duration=.4,this.factor=100,this.speed=1,this.maxSpeed=50,this.easing=Pr.easeOutQuad}load(e){ot(e)||(e.distance!==void 0&&(this.distance=e.distance),e.duration!==void 0&&(this.duration=e.duration),e.easing!==void 0&&(this.easing=e.easing),e.factor!==void 0&&(this.factor=e.factor),e.speed!==void 0&&(this.speed=e.speed),e.maxSpeed!==void 0&&(this.maxSpeed=e.maxSpeed))}}class XX extends xI{constructor(){super(),this.selectors=[]}load(e){super.load(e),!ot(e)&&e.selectors!==void 0&&(this.selectors=e.selectors)}}class YX extends xI{load(e){super.load(e),!ot(e)&&(this.divs=hs(e.divs,t=>{const i=new XX;return i.load(t),i}))}}const Tm="repulse",ZX=0,KX=6,QX=3,JX=2,eY=0,tY=0,nY=1,OT=.5;let iY=class extends mc{constructor(e,t){super(t),this._clickRepulse=()=>{const i=this.container,r=i.actualOptions.interactivity.modes.repulse;if(!r)return;const s=i.repulse??{particles:[]};if(s.finish||(s.count||(s.count=0),s.count++,s.count===i.particles.count&&(s.finish=!0)),s.clicking){const a=i.retina.repulseModeDistance;if(!a||a<ZX)return;const o=Math.pow(a/KX,QX),l=i.interactivity.mouse.clickPosition;if(l===void 0)return;const u=new Jo(l.x,l.y,o),d=i.particles.quadTree.query(u,m=>this.isEnabled(m));for(const m of d){const{dx:v,dy:y,distance:x}=ga(l,m.position),T=x**JX,E=r.speed,w=-o*E/T;if(T<=o){s.particles.push(m);const P=nr.create(v,y);P.length=w,m.velocity.setTo(P)}}}else if(s.clicking===!1){for(const a of s.particles)a.velocity.setTo(a.initialVelocity);s.particles=[]}},this._hoverRepulse=()=>{const i=this.container,r=i.interactivity.mouse.position,s=i.retina.repulseModeDistance;!s||s<eY||!r||this._processRepulse(r,s,new Jo(r.x,r.y,s))},this._processRepulse=(i,r,s,a)=>{const o=this.container,l=o.particles.quadTree.query(s,E=>this.isEnabled(E)),u=o.actualOptions.interactivity.modes.repulse;if(!u)return;const{easing:d,speed:m,factor:v,maxSpeed:y}=u,x=this._engine.getEasing(d),T=(a?.speed??m)*v;for(const E of l){const{dx:w,dy:P,distance:D}=ga(E.position,i),N=dc(x(nY-D/r)*T,tY,y),G=nr.create(D?w/D*N:T,D?P/D*N:T);E.position.addTo(G)}},this._singleSelectorRepulse=(i,r)=>{const s=this.container,a=s.actualOptions.interactivity.modes.repulse;if(!a)return;const o=document.querySelectorAll(i);o.length&&o.forEach(l=>{const u=l,d=s.retina.pixelRatio,m={x:(u.offsetLeft+u.offsetWidth*OT)*d,y:(u.offsetTop+u.offsetHeight*OT)*d},v=u.offsetWidth*OT*d,y=r.type===oy.circle?new Jo(m.x,m.y,v):new gf(u.offsetLeft*d,u.offsetTop*d,u.offsetWidth*d,u.offsetHeight*d),x=a.divs,T=Z5(x,u);this._processRepulse(m,v,y,T)})},this._engine=e,t.repulse||(t.repulse={particles:[]}),this.handleClickMode=i=>{const r=this.container.actualOptions,s=r.interactivity.modes.repulse;if(!s||i!==Tm)return;t.repulse||(t.repulse={particles:[]});const a=t.repulse;a.clicking=!0,a.count=0;for(const o of t.repulse.particles)this.isEnabled(o)&&o.velocity.setTo(o.initialVelocity);a.particles=[],a.finish=!1,setTimeout(()=>{t.destroyed||(a.clicking=!1)},s.duration*Kr)}}clear(){}init(){const e=this.container,t=e.actualOptions.interactivity.modes.repulse;t&&(e.retina.repulseModeDistance=t.distance*e.retina.pixelRatio)}interact(){const e=this.container,t=e.actualOptions,i=e.interactivity.status===pg,r=t.interactivity.events,s=r.onHover,a=s.enable,o=s.mode,l=r.onClick,u=l.enable,d=l.mode,m=r.onDiv;i&&a&&Ir(Tm,o)?this._hoverRepulse():u&&Ir(Tm,d)?this._clickRepulse():iC(Tm,m,(v,y)=>this._singleSelectorRepulse(v,y))}isEnabled(e){const t=this.container,i=t.actualOptions,r=t.interactivity.mouse,s=(e?.interactivity??i.interactivity).events,a=s.onDiv,o=s.onHover,l=s.onClick,u=nC(Tm,a);if(!(u||o.enable&&r.position||l.enable&&r.clickPosition))return!1;const d=o.mode,m=l.mode;return Ir(Tm,d)||Ir(Tm,m)||u}loadModeOptions(e,...t){e.repulse||(e.repulse=new YX);for(const i of t)e.repulse.load(i?.repulse)}reset(){}};async function rY(n,e=!0){n.checkVersion("3.9.1"),await n.addInteractor("externalRepulse",t=>Promise.resolve(new iY(n,t)),e)}class sY{constructor(){this.factor=3,this.radius=200}load(e){ot(e)||(e.factor!==void 0&&(this.factor=e.factor),e.radius!==void 0&&(this.radius=e.radius))}}const aY="slow",oY=0;class lY extends mc{constructor(e){super(e)}clear(e,t,i){e.slow.inRange&&!i||(e.slow.factor=1)}init(){const e=this.container,t=e.actualOptions.interactivity.modes.slow;t&&(e.retina.slowModeRadius=t.radius*e.retina.pixelRatio)}interact(){}isEnabled(e){const t=this.container,i=t.interactivity.mouse,r=(e?.interactivity??t.actualOptions.interactivity).events;return r.onHover.enable&&!!i.position&&Ir(aY,r.onHover.mode)}loadModeOptions(e,...t){e.slow||(e.slow=new sY);for(const i of t)e.slow.load(i?.slow)}reset(e){e.slow.inRange=!1;const t=this.container,i=t.actualOptions,r=t.interactivity.mouse.position,s=t.retina.slowModeRadius,a=i.interactivity.modes.slow;if(!a||!s||s<oY||!r)return;const o=e.getPosition(),l=Ro(r,o),u=l/s,d=a.factor,{slow:m}=e;l>s||(m.inRange=!0,m.factor=u/d)}}async function cY(n,e=!0){n.checkVersion("3.9.1"),await n.addInteractor("externalSlow",t=>Promise.resolve(new lY(t)),e)}const uY=0,fY=1,hY=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d.]+%?\))|currentcolor/gi;function dY(n,e,t){const{svgData:i}=n;if(!i)return"";const r=Ip(e,t);if(i.includes("fill"))return i.replace(hY,()=>r);const s=i.indexOf(">");return`${i.substring(uY,s)} fill="${r}"${i.substring(s)}`}async function ww(n){return new Promise(e=>{n.loading=!0;const t=new Image;n.element=t,t.addEventListener("load",()=>{n.loading=!1,e()}),t.addEventListener("error",()=>{n.element=void 0,n.error=!0,n.loading=!1,xd().error(`${oo} loading image: ${n.source}`),e()}),t.src=n.source})}async function pY(n){if(n.type!=="svg"){await ww(n);return}n.loading=!0;const e=await fetch(n.source);e.ok?n.svgData=await e.text():(xd().error(`${oo} Image not found`),n.error=!0),n.loading=!1}function mY(n,e,t,i){const r=dY(n,t,i.opacity?.value??fY),s={color:t,gif:e.gif,data:{...n,svgData:r},loaded:!1,ratio:e.width/e.height,replaceColor:e.replaceColor,source:e.src};return new Promise(a=>{const o=new Blob([r],{type:"image/svg+xml"}),l=URL||window.URL||window.webkitURL||window,u=l.createObjectURL(o),d=new Image;d.addEventListener("load",()=>{s.loaded=!0,s.element=d,a(s),l.revokeObjectURL(u)});const m=async()=>{l.revokeObjectURL(u);const v={...n,error:!1,loading:!0};await ww(v),s.loaded=!0,s.element=v.element,a(s)};d.addEventListener("error",()=>void m()),d.src=u})}const PT=[0,4,2,1],cP=[8,8,4,2];class gY{constructor(e){this.pos=0,this.data=new Uint8ClampedArray(e)}getString(e){const t=this.data.slice(this.pos,this.pos+e);return this.pos+=t.length,t.reduce((i,r)=>i+String.fromCharCode(r),"")}nextByte(){return this.data[this.pos++]}nextTwoBytes(){return this.pos+=2,this.data[this.pos-2]+(this.data[this.pos-1]<<8)}readSubBlocks(){let e="",t=0;const i=0,r=0;do{t=this.data[this.pos++];for(let s=t;--s>=i;e+=String.fromCharCode(this.data[this.pos++]));}while(t!==r);return e}readSubBlocksBin(){let e=this.data[this.pos],t=0;const i=0,r=1;for(let a=0;e!==i;a+=e+r,e=this.data[this.pos+a])t+=e;const s=new Uint8Array(t);e=this.data[this.pos++];for(let a=0;e!==i;e=this.data[this.pos++])for(let o=e;--o>=i;s[a++]=this.data[this.pos++]);return s}skipSubBlocks(){for(const e=1,t=0;this.data[this.pos]!==t;this.pos+=this.data[this.pos]+e);this.pos++}}var nf;(function(n){n[n.Replace=0]="Replace",n[n.Combine=1]="Combine",n[n.RestoreBackground=2]="RestoreBackground",n[n.RestorePrevious=3]="RestorePrevious",n[n.UndefinedA=4]="UndefinedA",n[n.UndefinedB=5]="UndefinedB",n[n.UndefinedC=6]="UndefinedC",n[n.UndefinedD=7]="UndefinedD"})(nf||(nf={}));var hd;(function(n){n[n.Extension=33]="Extension",n[n.ApplicationExtension=255]="ApplicationExtension",n[n.GraphicsControlExtension=249]="GraphicsControlExtension",n[n.PlainTextExtension=1]="PlainTextExtension",n[n.CommentExtension=254]="CommentExtension",n[n.Image=44]="Image",n[n.EndOfFile=59]="EndOfFile"})(hd||(hd={}));const ac={x:0,y:0},vY=0,uP=.5,yY=0,fP=0,B2=0;function SI(n,e){const t=[];for(let i=0;i<e;i++)t.push({r:n.data[n.pos],g:n.data[n.pos+1],b:n.data[n.pos+2]}),n.pos+=3;return t}function _Y(n,e,t,i){switch(n.nextByte()){case hd.GraphicsControlExtension:{const r=e.frames[t(!1)];n.pos++;const s=n.nextByte();r.GCreserved=(s&224)>>>5,r.disposalMethod=(s&28)>>>2,r.userInputDelayFlag=(s&2)===2;const a=(s&1)===1;r.delayTime=n.nextTwoBytes()*10;const o=n.nextByte();a&&i(o),n.pos++;break}case hd.ApplicationExtension:{n.pos++;const r={identifier:n.getString(8),authenticationCode:n.getString(3),data:n.readSubBlocksBin()};e.applicationExtensions.push(r);break}case hd.CommentExtension:{e.comments.push([t(!1),n.readSubBlocks()]);break}case hd.PlainTextExtension:{if(e.globalColorTable.length===0)throw new EvalError("plain text extension without global color table");n.pos++,e.frames[t(!1)].plainTextData={left:n.nextTwoBytes(),top:n.nextTwoBytes(),width:n.nextTwoBytes(),height:n.nextTwoBytes(),charSize:{width:n.nextTwoBytes(),height:n.nextTwoBytes()},foregroundColor:n.nextByte(),backgroundColor:n.nextByte(),text:n.readSubBlocks()};break}default:n.skipSubBlocks();break}}async function bY(n,e,t,i,r,s){const a=e.frames[i(!0)];a.left=n.nextTwoBytes(),a.top=n.nextTwoBytes(),a.width=n.nextTwoBytes(),a.height=n.nextTwoBytes();const o=n.nextByte(),l=(o&128)===128,u=(o&64)===64;a.sortFlag=(o&32)===32,a.reserved=(o&24)>>>3;const d=1<<(o&7)+1;l&&(a.localColorTable=SI(n,d));const m=w=>{const{r:P,g:D,b:N}=(l?a.localColorTable:e.globalColorTable)[w];return w!==r(null)?{r:P,g:D,b:N,a:255}:{r:P,g:D,b:N,a:t?~~((P+D+N)/3):0}},v=(()=>{try{return new ImageData(a.width,a.height,{colorSpace:"srgb"})}catch(w){if(w instanceof DOMException&&w.name==="IndexSizeError")return null;throw w}})();if(v==null)throw new EvalError("GIF frame size is to large");const y=n.nextByte(),x=n.readSubBlocksBin(),T=1<<y,E=(w,P)=>{const D=w>>>3,N=w&7;return(x[D]+(x[D+1]<<8)+(x[D+2]<<16)&(1<<P)-1<<N)>>>N};if(u){for(let w=0,P=y+1,D=0,N=[[0]],G=0;G<4;G++)if(PT[G]<a.height){let k=0,M=0,$=!1;for(;!$;){const V=w;if(w=E(D,P),D+=P+1,w===T){P=y+1,N.length=T+2;for(let H=0;H<N.length;H++)N[H]=H<T?[H]:[]}else{w>=N.length?N.push(N[V].concat(N[V][0])):V!==T&&N.push(N[V].concat(N[w][0]));for(const H of N[w]){const{r:ee,g:pe,b:ae,a:ye}=m(H);v.data.set([ee,pe,ae,ye],PT[G]*a.width+cP[G]*M+k%(a.width*4)),k+=4}N.length===1<<P&&P<12&&P++}k===a.width*4*(M+1)&&(M++,PT[G]+cP[G]*M>=a.height&&($=!0))}}a.image=v,a.bitmap=await createImageBitmap(v)}else{let w=0,P=y+1,D=0,N=-4,G=!1;const k=[[0]];for(;!G;){const M=w;if(w=E(D,P),D+=P,w===T){P=y+1,k.length=T+2;for(let $=0;$<k.length;$++)k[$]=$<T?[$]:[]}else{if(w===T+1){G=!0;break}w>=k.length?k.push(k[M].concat(k[M][0])):M!==T&&k.push(k[M].concat(k[w][0]));for(const $ of k[w]){const{r:V,g:H,b:ee,a:pe}=m($);v.data.set([V,H,ee,pe],N+=4)}k.length>=1<<P&&P<12&&P++}}a.image=v,a.bitmap=await createImageBitmap(v)}}async function xY(n,e,t,i,r,s){switch(n.nextByte()){case hd.EndOfFile:return!0;case hd.Image:await bY(n,e,t,i,r);break;case hd.Extension:_Y(n,e,i,r);break;default:throw new EvalError("undefined block found")}return!1}function SY(n){for(const e of n.applicationExtensions)if(e.identifier+e.authenticationCode==="NETSCAPE2.0")return e.data[1]+(e.data[2]<<8);return NaN}async function wY(n,e,t){t||(t=!1);const i=await fetch(n);if(!i.ok&&i.status===404)throw new EvalError("file not found");const r=await i.arrayBuffer(),s={width:0,height:0,totalTime:0,colorRes:0,pixelAspectRatio:0,frames:[],sortFlag:!1,globalColorTable:[],backgroundImage:new ImageData(1,1,{colorSpace:"srgb"}),comments:[],applicationExtensions:[]},a=new gY(new Uint8ClampedArray(r));if(a.getString(6)!=="GIF89a")throw new Error("not a supported GIF file");s.width=a.nextTwoBytes(),s.height=a.nextTwoBytes();const o=a.nextByte(),l=(o&128)===128;s.colorRes=(o&112)>>>4,s.sortFlag=(o&8)===8;const u=1<<(o&7)+1,d=a.nextByte();s.pixelAspectRatio=a.nextByte(),s.pixelAspectRatio!==0&&(s.pixelAspectRatio=(s.pixelAspectRatio+15)/64),l&&(s.globalColorTable=SI(a,u));const m=(()=>{try{return new ImageData(s.width,s.height,{colorSpace:"srgb"})}catch(N){if(N instanceof DOMException&&N.name==="IndexSizeError")return null;throw N}})();if(m==null)throw new Error("GIF frame size is to large");const{r:v,g:y,b:x}=s.globalColorTable[d];m.data.set(l?[v,y,x,255]:[0,0,0,0]);for(let N=4;N<m.data.length;N*=2)m.data.copyWithin(N,0,N);s.backgroundImage=m;let T=-1,E=!0,w=-1;const P=N=>(N&&(E=!0),T),D=N=>(N!=null&&(w=N),w);try{do E&&(s.frames.push({left:0,top:0,width:0,height:0,disposalMethod:nf.Replace,image:new ImageData(1,1,{colorSpace:"srgb"}),plainTextData:null,userInputDelayFlag:!1,delayTime:0,sortFlag:!1,localColorTable:[],reserved:0,GCreserved:0}),T++,w=-1,E=!1);while(!await xY(a,s,t,P,D,e));s.frames.length--;for(const N of s.frames){if(N.userInputDelayFlag&&N.delayTime===0){s.totalTime=1/0;break}s.totalTime+=N.delayTime}return s}catch(N){throw N instanceof EvalError?new Error(`error while parsing frame ${T} "${N.message}"`):N}}function EY(n){const{context:e,radius:t,particle:i,delta:r}=n,s=i.image;if(!s?.gifData||!s.gif)return;const a=new OffscreenCanvas(s.gifData.width,s.gifData.height),o=a.getContext("2d");if(!o)throw new Error("could not create offscreen canvas context");o.imageSmoothingQuality="low",o.imageSmoothingEnabled=!1,o.clearRect(ac.x,ac.y,a.width,a.height),i.gifLoopCount===void 0&&(i.gifLoopCount=s.gifLoopCount??B2);let l=i.gifFrame??vY;const u={x:-s.gifData.width*uP,y:-s.gifData.height*uP},d=s.gifData.frames[l];if(i.gifTime===void 0&&(i.gifTime=yY),!!d.bitmap){switch(e.scale(t/s.gifData.width,t/s.gifData.height),d.disposalMethod){case nf.UndefinedA:case nf.UndefinedB:case nf.UndefinedC:case nf.UndefinedD:case nf.Replace:o.drawImage(d.bitmap,d.left,d.top),e.drawImage(a,u.x,u.y),o.clearRect(ac.x,ac.y,a.width,a.height);break;case nf.Combine:o.drawImage(d.bitmap,d.left,d.top),e.drawImage(a,u.x,u.y);break;case nf.RestoreBackground:o.drawImage(d.bitmap,d.left,d.top),e.drawImage(a,u.x,u.y),o.clearRect(ac.x,ac.y,a.width,a.height),s.gifData.globalColorTable.length?o.putImageData(s.gifData.backgroundImage,u.x,u.y):o.putImageData(s.gifData.frames[fP].image,u.x+d.left,u.y+d.top);break;case nf.RestorePrevious:{const m=o.getImageData(ac.x,ac.y,a.width,a.height);o.drawImage(d.bitmap,d.left,d.top),e.drawImage(a,u.x,u.y),o.clearRect(ac.x,ac.y,a.width,a.height),o.putImageData(m,ac.x,ac.y)}break}if(i.gifTime+=r.value,i.gifTime>d.delayTime){if(i.gifTime-=d.delayTime,++l>=s.gifData.frames.length){if(--i.gifLoopCount<=B2)return;l=fP,o.clearRect(ac.x,ac.y,a.width,a.height)}i.gifFrame=l}e.scale(s.gifData.width/t,s.gifData.height/t)}}async function TY(n){if(n.type!=="gif"){await ww(n);return}n.loading=!0;try{n.gifData=await wY(n.source),n.gifLoopCount=SY(n.gifData)??B2,n.gifLoopCount||(n.gifLoopCount=1/0)}catch{n.error=!0}n.loading=!1}const MY=2,AY=1,CY=12,RY=1;class OY{constructor(e){this.validTypes=["image","images"],this.loadImageShape=async t=>{if(!this._engine.loadImage)throw new Error(`${oo} image shape not initialized`);await this._engine.loadImage({gif:t.gif,name:t.name,replaceColor:t.replaceColor??!1,src:t.src})},this._engine=e}addImage(e){this._engine.images||(this._engine.images=[]),this._engine.images.push(e)}draw(e){const{context:t,radius:i,particle:r,opacity:s}=e,a=r.image,o=a?.element;if(a){if(t.globalAlpha=s,a.gif&&a.gifData)EY(e);else if(o){const l=a.ratio,u={x:-i,y:-i},d=i*MY;t.drawImage(o,u.x,u.y,d,d/l)}t.globalAlpha=AY}}getSidesCount(){return CY}async init(e){const t=e.actualOptions;if(!(!t.preload||!this._engine.loadImage))for(const i of t.preload)await this._engine.loadImage(i)}loadShape(e){if(e.shape!=="image"&&e.shape!=="images")return;this._engine.images||(this._engine.images=[]);const t=e.shapeData;if(!t)return;this._engine.images.find(r=>r.name===t.name||r.source===t.src)||this.loadImageShape(t).then(()=>{this.loadShape(e)})}particleInit(e,t){if(t.shape!=="image"&&t.shape!=="images")return;this._engine.images||(this._engine.images=[]);const i=this._engine.images,r=t.shapeData;if(!r)return;const s=t.getFillColor(),a=i.find(l=>l.name===r.name||l.source===r.src);if(!a)return;const o=r.replaceColor??a.replaceColor;if(a.loading){setTimeout(()=>{this.particleInit(e,t)});return}(async()=>{let l;a.svgData&&s?l=await mY(a,r,s,t):l={color:s,data:a,element:a.element,gif:a.gif,gifData:a.gifData,gifLoopCount:a.gifLoopCount,loaded:!0,ratio:r.width&&r.height?r.width/r.height:a.ratio??RY,replaceColor:o,source:r.src},l.ratio||(l.ratio=1);const u=r.fill??t.shapeFill,d=r.close??t.shapeClose,m={image:l,fill:u,close:d};t.image=m.image,t.shapeFill=m.fill,t.shapeClose=m.close})()}}class PY{constructor(){this.src="",this.gif=!1}load(e){ot(e)||(e.gif!==void 0&&(this.gif=e.gif),e.height!==void 0&&(this.height=e.height),e.name!==void 0&&(this.name=e.name),e.replaceColor!==void 0&&(this.replaceColor=e.replaceColor),e.src!==void 0&&(this.src=e.src),e.width!==void 0&&(this.width=e.width))}}class DY{constructor(e){this.id="imagePreloader",this._engine=e}async getPlugin(){return await Promise.resolve(),{}}loadOptions(e,t){if(!t?.preload)return;e.preload||(e.preload=[]);const i=e.preload;for(const r of t.preload){const s=i.find(a=>a.name===r.name||a.src===r.src);if(s)s.load(r);else{const a=new PY;a.load(r),i.push(a)}}}needsPlugin(){return!0}}const LY=3;function NY(n){n.loadImage||(n.loadImage=async e=>{if(!e.name&&!e.src)throw new Error(`${oo} no image source provided`);if(n.images||(n.images=[]),!n.images.find(t=>t.name===e.name||t.source===e.src))try{const t={gif:e.gif??!1,name:e.name??e.src,source:e.src,type:e.src.substring(e.src.length-LY),error:!1,loading:!0,replaceColor:e.replaceColor,ratio:e.width&&e.height?e.width/e.height:void 0};n.images.push(t);let i;e.gif?i=TY:i=e.replaceColor?pY:ww,await i(t)}catch{throw new Error(`${oo} ${e.name??e.src} not found`)}})}async function IY(n,e=!0){n.checkVersion("3.9.1"),NY(n);const t=new DY(n);await n.addPlugin(t,e),await n.addShape(new OY(n),e)}class zY extends Gc{constructor(){super(),this.sync=!1}load(e){ot(e)||(super.load(e),e.sync!==void 0&&(this.sync=e.sync))}}class UY extends Gc{constructor(){super(),this.sync=!1}load(e){ot(e)||(super.load(e),e.sync!==void 0&&(this.sync=e.sync))}}class BY{constructor(){this.count=0,this.delay=new zY,this.duration=new UY}load(e){ot(e)||(e.count!==void 0&&(this.count=e.count),this.delay.load(e.delay),this.duration.load(e.duration))}}const uv=0,kY=-1,hP=0,dP=0;function HY(n,e,t){if(!n.life)return;const i=n.life;let r=!1;if(n.spawning)if(i.delayTime+=e.value,i.delayTime>=n.life.delay)r=!0,n.spawning=!1,i.delayTime=uv,i.time=uv;else return;if(i.duration===kY||n.spawning||(r?i.time=uv:i.time+=e.value,i.time<i.duration))return;if(i.time=uv,n.life.count>hP&&n.life.count--,n.life.count===hP){n.destroy();return}const s=Mn(dP,t.width),a=Mn(dP,t.width);n.position.x=da(s),n.position.y=da(a),n.spawning=!0,i.delayTime=uv,i.time=uv,n.reset();const o=n.options.life;o&&(i.delay=St(o.delay.value)*Kr,i.duration=St(o.duration.value)*Kr)}const Mm=0,pP=1,mP=-1;class FY{constructor(e){this.container=e}init(e){const t=this.container,i=e.options,r=i.life;r&&(e.life={delay:t.retina.reduceFactor?St(r.delay.value)*(r.delay.sync?pP:mn())/t.retina.reduceFactor*Kr:Mm,delayTime:Mm,duration:t.retina.reduceFactor?St(r.duration.value)*(r.duration.sync?pP:mn())/t.retina.reduceFactor*Kr:Mm,time:Mm,count:r.count},e.life.duration<=Mm&&(e.life.duration=mP),e.life.count<=Mm&&(e.life.count=mP),e.life&&(e.spawning=e.life.delay>Mm))}isEnabled(e){return!e.destroyed}loadOptions(e,...t){e.life||(e.life=new BY);for(const i of t)e.life.load(i?.life)}update(e,t){!this.isEnabled(e)||!e.life||HY(e,t,this.container.canvas.size)}}async function VY(n,e=!0){n.checkVersion("3.9.1"),await n.addParticleUpdater("life",async t=>Promise.resolve(new FY(t)),e)}function GY(n){const{context:e,particle:t,radius:i}=n,r=t.shapeData,s=0;e.moveTo(-i,s),e.lineTo(i,s),e.lineCap=r?.cap??"butt"}const jY=1;class $Y{constructor(){this.validTypes=["line"]}draw(e){GY(e)}getSidesCount(){return jY}}async function qY(n,e=!0){n.checkVersion("3.9.1"),await n.addShape(new $Y,e)}const gP=.5;class WY{init(){}isEnabled(e){return!mg()&&!e.destroyed&&e.container.actualOptions.interactivity.events.onHover.parallax.enable}move(e){const t=e.container,i=t.actualOptions,r=i.interactivity.events.onHover.parallax;if(mg()||!r.enable)return;const s=r.force,a=t.interactivity.mouse.position;if(!a)return;const o=t.canvas.size,l={x:o.width*gP,y:o.height*gP},u=r.smooth,d=e.getRadius()/s,m={x:(a.x-l.x)*d,y:(a.y-l.y)*d},{offset:v}=e;v.x+=(m.x-v.x)/u,v.y+=(m.y-v.y)/u}}async function XY(n,e=!0){n.checkVersion("3.9.1"),await n.addMover("parallax",()=>Promise.resolve(new WY),e)}const vP=1e3,YY=1;class ZY extends Ty{constructor(e){super(e)}clear(){}init(){}interact(e){const t=this.container;e.attractDistance===void 0&&(e.attractDistance=St(e.options.move.attract.distance)*t.retina.pixelRatio);const i=e.attractDistance,r=e.getPosition(),s=t.particles.quadTree.queryCircle(r,i);for(const a of s){if(e===a||!a.options.move.attract.enable||a.destroyed||a.spawning)continue;const o=a.getPosition(),{dx:l,dy:u}=ga(r,o),d=e.options.move.attract.rotate,m=l/(d.x*vP),v=u/(d.y*vP),y=a.size.value/e.size.value,x=YY/y;e.velocity.x-=m*y,e.velocity.y-=v*y,a.velocity.x+=m*x,a.velocity.y+=v*x}}isEnabled(e){return e.options.move.attract.enable}reset(){}}async function KY(n,e=!0){n.checkVersion("3.9.1"),await n.addInteractor("particlesAttract",t=>Promise.resolve(new ZY(t)),e)}const QY=.5,JY=10,eZ=0;function yP(n,e,t,i,r,s){const a=dc(n.options.collisions.absorb.speed*r.factor/JY,eZ,i);n.size.value+=a*QY,t.size.value-=a,i<=s&&(t.size.value=0,t.destroy())}function tZ(n,e,t,i){const r=n.getRadius(),s=e.getRadius();r===void 0&&s!==void 0?n.destroy():r!==void 0&&s===void 0?e.destroy():r!==void 0&&s!==void 0&&(r>=s?yP(n,r,e,s,t,i):yP(e,s,n,r,t,i))}const _P=n=>{n.collisionMaxSpeed===void 0&&(n.collisionMaxSpeed=St(n.options.collisions.maxSpeed)),n.velocity.length>n.collisionMaxSpeed&&(n.velocity.length=n.collisionMaxSpeed)};function wI(n,e){K5(L2(n),L2(e)),_P(n),_P(e)}function nZ(n,e){!n.unbreakable&&!e.unbreakable&&wI(n,e),n.getRadius()===void 0&&e.getRadius()!==void 0?n.destroy():n.getRadius()!==void 0&&e.getRadius()===void 0?e.destroy():n.getRadius()!==void 0&&e.getRadius()!==void 0&&(n.getRadius()>=e.getRadius()?e:n).destroy()}function iZ(n,e,t,i){switch(n.options.collisions.mode){case Yv.absorb:{tZ(n,e,t,i);break}case Yv.bounce:{wI(n,e);break}case Yv.destroy:{nZ(n,e);break}}}const rZ=2;class sZ extends Ty{constructor(e){super(e)}clear(){}init(){}interact(e,t){if(e.destroyed||e.spawning)return;const i=this.container,r=e.getPosition(),s=e.getRadius(),a=i.particles.quadTree.queryCircle(r,s*rZ);for(const o of a){if(e===o||!o.options.collisions.enable||e.options.collisions.mode!==o.options.collisions.mode||o.destroyed||o.spawning)continue;const l=o.getPosition(),u=o.getRadius();if(Math.abs(Math.round(r.z)-Math.round(l.z))>s+u)continue;const d=Ro(r,l),m=s+u;d>m||iZ(e,o,t,i.retina.pixelRatio)}}isEnabled(e){return e.options.collisions.enable}reset(){}}async function aZ(n,e=!0){n.checkVersion("3.9.1"),await n.addInteractor("particlesCollisions",t=>Promise.resolve(new sZ(t)),e)}const DT=2;class oZ extends Jo{constructor(e,t,i,r){super(e,t,i),this.canvasSize=r,this.canvasSize={...r}}contains(e){const{width:t,height:i}=this.canvasSize,{x:r,y:s}=e;return super.contains(e)||super.contains({x:r-t,y:s})||super.contains({x:r-t,y:s-i})||super.contains({x:r,y:s-i})}intersects(e){if(super.intersects(e))return!0;const t=e,i=e,r={x:e.position.x-this.canvasSize.width,y:e.position.y-this.canvasSize.height};if(i.radius!==void 0){const s=new Jo(r.x,r.y,i.radius*DT);return super.intersects(s)}else if(t.size!==void 0){const s=new gf(r.x,r.y,t.size.width*DT,t.size.height*DT);return super.intersects(s)}return!1}}class lZ{constructor(){this.blur=5,this.color=new Cr,this.color.value="#000",this.enable=!1}load(e){ot(e)||(e.blur!==void 0&&(this.blur=e.blur),this.color=Cr.create(this.color,e.color),e.enable!==void 0&&(this.enable=e.enable))}}class cZ{constructor(){this.enable=!1,this.frequency=1}load(e){ot(e)||(e.color!==void 0&&(this.color=Cr.create(this.color,e.color)),e.enable!==void 0&&(this.enable=e.enable),e.frequency!==void 0&&(this.frequency=e.frequency),e.opacity!==void 0&&(this.opacity=e.opacity))}}class uZ{constructor(){this.blink=!1,this.color=new Cr,this.color.value="#fff",this.consent=!1,this.distance=100,this.enable=!1,this.frequency=1,this.opacity=1,this.shadow=new lZ,this.triangles=new cZ,this.width=1,this.warp=!1}load(e){ot(e)||(e.id!==void 0&&(this.id=e.id),e.blink!==void 0&&(this.blink=e.blink),this.color=Cr.create(this.color,e.color),e.consent!==void 0&&(this.consent=e.consent),e.distance!==void 0&&(this.distance=e.distance),e.enable!==void 0&&(this.enable=e.enable),e.frequency!==void 0&&(this.frequency=e.frequency),e.opacity!==void 0&&(this.opacity=e.opacity),this.shadow.load(e.shadow),this.triangles.load(e.triangles),e.width!==void 0&&(this.width=e.width),e.warp!==void 0&&(this.warp=e.warp))}}const bP=2,fZ=1,fb={x:0,y:0},hZ=0;function dZ(n,e,t,i,r){const{dx:s,dy:a,distance:o}=ga(n,e);if(!r||o<=t)return o;const l={x:Math.abs(s),y:Math.abs(a)},u={x:Math.min(l.x,i.width-l.x),y:Math.min(l.y,i.height-l.y)};return Math.sqrt(u.x**bP+u.y**bP)}class pZ extends Ty{constructor(e,t){super(e),this._setColor=i=>{if(!i.options.links)return;const r=this._linkContainer,s=i.options.links;let a=s.id===void 0?r.particles.linksColor:r.particles.linksColors.get(s.id);if(a)return;const o=s.color;a=sI(this._engine,o,s.blink,s.consent),s.id===void 0?r.particles.linksColor=a:r.particles.linksColors.set(s.id,a)},this._linkContainer=e,this._engine=t}clear(){}init(){this._linkContainer.particles.linksColor=void 0,this._linkContainer.particles.linksColors=new Map}interact(e){if(!e.options.links)return;e.links=[];const t=e.getPosition(),i=this.container,r=i.canvas.size;if(t.x<fb.x||t.y<fb.y||t.x>r.width||t.y>r.height)return;const s=e.options.links,a=s.opacity,o=e.retina.linksDistance??hZ,l=s.warp;let u;l?u=new oZ(t.x,t.y,o,r):u=new Jo(t.x,t.y,o);const d=i.particles.quadTree.query(u);for(const m of d){const v=m.options.links;if(e===m||!v?.enable||s.id!==v.id||m.spawning||m.destroyed||!m.links||e.links.some(E=>E.destination===m)||m.links.some(E=>E.destination===e))continue;const y=m.getPosition();if(y.x<fb.x||y.y<fb.y||y.x>r.width||y.y>r.height)continue;const x=dZ(t,y,o,r,l&&v.warp);if(x>o)continue;const T=(fZ-x/o)*a;this._setColor(e),e.links.push({destination:m,opacity:T})}}isEnabled(e){return!!e.options.links?.enable}loadParticlesOptions(e,...t){e.links||(e.links=new uZ);for(const i of t)e.links.load(i?.links)}reset(){}}async function mZ(n,e=!0){await n.addInteractor("particlesLinks",async t=>Promise.resolve(new pZ(t,n)),e)}function gZ(n,e,t,i){n.beginPath(),n.moveTo(e.x,e.y),n.lineTo(t.x,t.y),n.lineTo(i.x,i.y),n.closePath()}function vZ(n){let e=!1;const{begin:t,end:i,engine:r,maxDistance:s,context:a,canvasSize:o,width:l,backgroundMask:u,colorLine:d,opacity:m,links:v}=n;if(Ro(t,i)<=s)V0(a,t,i),e=!0;else if(v.warp){let x,T;const E={x:i.x-o.width,y:i.y},w=ga(t,E);if(w.distance<=s){const P=t.y-w.dy/w.dx*t.x;x={x:0,y:P},T={x:o.width,y:P}}else{const P={x:i.x,y:i.y-o.height},D=ga(t,P);if(D.distance<=s){const G=-(t.y-D.dy/D.dx*t.x)/(D.dy/D.dx);x={x:G,y:0},T={x:G,y:o.height}}else{const N={x:i.x-o.width,y:i.y-o.height},G=ga(t,N);if(G.distance<=s){const k=t.y-G.dy/G.dx*t.x;x={x:-k/(G.dy/G.dx),y:k},T={x:x.x+o.width,y:x.y+o.height}}}}x&&T&&(V0(a,t,x),V0(a,i,T),e=!0)}if(!e)return;a.lineWidth=l,u.enable&&(a.globalCompositeOperation=u.composite),a.strokeStyle=Ul(d,m);const{shadow:y}=v;if(y.enable){const x=Oo(r,y.color);x&&(a.shadowBlur=y.blur,a.shadowColor=Ul(x))}a.stroke()}function yZ(n){const{context:e,pos1:t,pos2:i,pos3:r,backgroundMask:s,colorTriangle:a,opacityTriangle:o}=n;gZ(e,t,i,r),s.enable&&(e.globalCompositeOperation=s.composite),e.fillStyle=Ul(a,o),e.fill()}function _Z(n){return n.sort((e,t)=>e-t),n.join("_")}function xP(n,e){const t=_Z(n.map(r=>r.id));let i=e.get(t);return i===void 0&&(i=mn(),e.set(t,i)),i}const SP=0,LT=0,wP=0,bZ=.5,xZ=1;class SZ{constructor(e,t){this._drawLinkLine=(i,r)=>{const s=i.options.links;if(!s?.enable)return;const a=this._container,o=a.actualOptions,l=r.destination,u=i.getPosition(),d=l.getPosition();let m=r.opacity;a.canvas.draw(v=>{let y;const x=i.options.twinkle?.lines;if(x?.enable){const P=x.frequency,D=Oo(this._engine,x.color);mn()<P&&D&&(y=D,m=St(x.opacity))}if(!y){const P=s.id!==void 0?a.particles.linksColors.get(s.id):a.particles.linksColor;y=N2(i,l,P)}if(!y)return;const T=i.retina.linksWidth??LT,E=i.retina.linksDistance??wP,{backgroundMask:w}=o;vZ({context:v,width:T,begin:u,end:d,engine:this._engine,maxDistance:E,canvasSize:a.canvas.size,links:s,backgroundMask:w,colorLine:y,opacity:m})})},this._drawLinkTriangle=(i,r,s)=>{const a=i.options.links;if(!a?.enable)return;const o=a.triangles;if(!o.enable)return;const l=this._container,u=l.actualOptions,d=r.destination,m=s.destination,v=o.opacity??(r.opacity+s.opacity)*bZ;v<=SP||l.canvas.draw(y=>{const x=i.getPosition(),T=d.getPosition(),E=m.getPosition(),w=i.retina.linksDistance??wP;if(Ro(x,T)>w||Ro(E,T)>w||Ro(E,x)>w)return;let P=Oo(this._engine,o.color);if(!P){const D=a.id!==void 0?l.particles.linksColors.get(a.id):l.particles.linksColor;P=N2(i,d,D)}P&&yZ({context:y,pos1:x,pos2:T,pos3:E,backgroundMask:u.backgroundMask,colorTriangle:P,opacityTriangle:v})})},this._drawTriangles=(i,r,s,a)=>{const o=s.destination;if(!(i.links?.triangles.enable&&o.options.links?.triangles.enable))return;const l=o.links?.filter(u=>{const d=this._getLinkFrequency(o,u.destination);return o.options.links&&d<=o.options.links.frequency&&a.findIndex(v=>v.destination===u.destination)>=0});if(l?.length)for(const u of l){const d=u.destination;this._getTriangleFrequency(r,o,d)>i.links.triangles.frequency||this._drawLinkTriangle(r,s,u)}},this._getLinkFrequency=(i,r)=>xP([i,r],this._freqs.links),this._getTriangleFrequency=(i,r,s)=>xP([i,r,s],this._freqs.triangles),this._container=e,this._engine=t,this._freqs={links:new Map,triangles:new Map}}drawParticle(e,t){const{links:i,options:r}=t;if(!i?.length)return;const s=i.filter(a=>r.links&&(r.links.frequency>=xZ||this._getLinkFrequency(t,a.destination)<=r.links.frequency));for(const a of s)this._drawTriangles(r,t,a,s),a.opacity>SP&&(t.retina.linksWidth??LT)>LT&&this._drawLinkLine(t,a)}async init(){this._freqs.links=new Map,this._freqs.triangles=new Map,await Promise.resolve()}particleCreated(e){if(e.links=[],!e.options.links)return;const t=this._container.retina.pixelRatio,{retina:i}=e,{distance:r,width:s}=e.options.links;i.linksDistance=r*t,i.linksWidth=s*t}particleDestroyed(e){e.links=[]}}class wZ{constructor(e){this.id="links",this._engine=e}getPlugin(e){return Promise.resolve(new SZ(e,this._engine))}loadOptions(){}needsPlugin(){return!0}}async function EZ(n,e=!0){const t=new wZ(n);await n.addPlugin(t,e)}async function TZ(n,e=!0){n.checkVersion("3.9.1"),await mZ(n,e),await EZ(n,e)}const MZ=180,hb={x:0,y:0},AZ=2;function CZ(n,e,t){const{context:i}=n,r=t.count.numerator*t.count.denominator,s=t.count.numerator/t.count.denominator,a=MZ*(s-AZ)/s,o=Math.PI-uf(a);if(i){i.beginPath(),i.translate(e.x,e.y),i.moveTo(hb.x,hb.y);for(let l=0;l<r;l++)i.lineTo(t.length,hb.y),i.translate(t.length,hb.y),i.rotate(o)}}const RZ=5;class EI{draw(e){const{particle:t,radius:i}=e,r=this.getCenter(t,i),s=this.getSidesData(t,i);CZ(e,r,s)}getSidesCount(e){const t=e.shapeData;return Math.round(St(t?.sides??RZ))}}const EP=3.5,TP=2.66,OZ=3;class PZ extends EI{constructor(){super(...arguments),this.validTypes=["polygon"]}getCenter(e,t){return{x:-t/(e.sides/EP),y:-t/(TP/EP)}}getSidesData(e,t){const i=e.sides;return{count:{denominator:1,numerator:i},length:t*TP/(i/OZ)}}}const DZ=1.66,LZ=3,NZ=2;class IZ extends EI{constructor(){super(...arguments),this.validTypes=["triangle"]}getCenter(e,t){return{x:-t,y:t/DZ}}getSidesCount(){return LZ}getSidesData(e,t){const i=t*NZ;return{count:{denominator:2,numerator:3},length:i}}}async function zZ(n,e=!0){n.checkVersion("3.9.1"),await n.addShape(new PZ,e)}async function UZ(n,e=!0){n.checkVersion("3.9.1"),await n.addShape(new IZ,e)}async function BZ(n,e=!0){n.checkVersion("3.9.1"),await zZ(n,e),await UZ(n,e)}class kZ{constructor(){this.enable=!1,this.speed=0,this.decay=0,this.sync=!1}load(e){ot(e)||(e.enable!==void 0&&(this.enable=e.enable),e.speed!==void 0&&(this.speed=Mn(e.speed)),e.decay!==void 0&&(this.decay=Mn(e.decay)),e.sync!==void 0&&(this.sync=e.sync))}}class HZ extends Gc{constructor(){super(),this.animation=new kZ,this.direction=ha.clockwise,this.path=!1,this.value=0}load(e){ot(e)||(super.load(e),e.direction!==void 0&&(this.direction=e.direction),this.animation.load(e.animation),e.path!==void 0&&(this.path=e.path))}}const TI=2,FZ=Math.PI*TI,VZ=1,GZ=360;class jZ{constructor(e){this.container=e}init(e){const t=e.options.rotate;if(!t)return;e.rotate={enable:t.animation.enable,value:uf(St(t.value)),min:0,max:FZ},e.pathRotation=t.path;let i=t.direction;switch(i===ha.random&&(i=Math.floor(mn()*TI)>0?ha.counterClockwise:ha.clockwise),i){case ha.counterClockwise:case"counterClockwise":e.rotate.status=jr.decreasing;break;case ha.clockwise:e.rotate.status=jr.increasing;break}const r=t.animation;r.enable&&(e.rotate.decay=VZ-St(r.decay),e.rotate.velocity=St(r.speed)/GZ*this.container.retina.reduceFactor,r.sync||(e.rotate.velocity*=mn())),e.rotation=e.rotate.value}isEnabled(e){const t=e.options.rotate;return t?!e.destroyed&&!e.spawning&&(!!t.value||t.animation.enable||t.path):!1}loadOptions(e,...t){e.rotate||(e.rotate=new HZ);for(const i of t)e.rotate.load(i?.rotate)}update(e,t){this.isEnabled(e)&&(e.isRotating=!!e.rotate,e.rotate&&(sy(e,e.rotate,!1,lh.none,t),e.rotation=e.rotate.value))}}async function $Z(n,e=!0){n.checkVersion("3.9.1"),await n.addParticleUpdater("rotate",t=>Promise.resolve(new jZ(t)),e)}const qZ=2,WZ=Math.sqrt(qZ),XZ=2;function YZ(n){const{context:e,radius:t}=n,i=t/WZ,r=i*XZ;e.rect(-i,-i,r,r)}const ZZ=4;class KZ{constructor(){this.validTypes=["edge","square"]}draw(e){YZ(e)}getSidesCount(){return ZZ}}async function QZ(n,e=!0){n.checkVersion("3.9.1"),await n.addShape(new KZ,e)}const JZ=2,fv={x:0,y:0};function eK(n){const{context:e,particle:t,radius:i}=n,r=t.sides,s=t.starInset??JZ;e.moveTo(fv.x,fv.y-i);for(let a=0;a<r;a++)e.rotate(Math.PI/r),e.lineTo(fv.x,fv.y-i*s),e.rotate(Math.PI/r),e.lineTo(fv.x,fv.y-i)}const tK=2,nK=5;class iK{constructor(){this.validTypes=["star"]}draw(e){eK(e)}getSidesCount(e){const t=e.shapeData;return Math.round(St(t?.sides??nK))}particleInit(e,t){const i=t.shapeData;t.starInset=St(i?.inset??tK)}}async function rK(n,e=!0){n.checkVersion("3.9.1"),await n.addShape(new iK,e)}const sK=1;class aK{constructor(e,t){this._container=e,this._engine=t}init(e){const t=this._container,i=e.options,r=pa(i.stroke,e.id,i.reduceDuplicates);e.strokeWidth=St(r.width)*t.retina.pixelRatio,e.strokeOpacity=St(r.opacity??sK),e.strokeAnimation=r.color?.animation;const s=uh(this._engine,r.color)??e.getFillColor();s&&(e.strokeColor=aC(s,e.strokeAnimation,t.retina.reduceFactor))}isEnabled(e){const t=e.strokeAnimation,{strokeColor:i}=e;return!e.destroyed&&!e.spawning&&!!t&&(i?.h.value!==void 0&&i.h.enable||i?.s.value!==void 0&&i.s.enable||i?.l.value!==void 0&&i.l.enable)}update(e,t){this.isEnabled(e)&&oC(e.strokeColor,t)}}async function oK(n,e=!0){n.checkVersion("3.9.1"),await n.addParticleUpdater("strokeColor",t=>Promise.resolve(new aK(t,n)),e)}async function lK(n,e=!0){n.checkVersion("3.9.1"),await XY(n,!1),await QW(n,!1),await oX(n,!1),await mX(n,!1),await TX(n,!1),await IX(n,!1),await BX(n,!1),await GX(n,!1),await WX(n,!1),await rY(n,!1),await cY(n,!1),await KY(n,!1),await aZ(n,!1),await TZ(n,!1),await VW(n,!1),await $W(n,!1),await IY(n,!1),await qY(n,!1),await BZ(n,!1),await QZ(n,!1),await rK(n,!1),await VY(n,!1),await $Z(n,!1),await oK(n,!1),await FW(n,e)}const MI=2,MP=.5;function cK(n){const{context:e,particle:t,radius:i,opacity:r}=n,s=t.shapeData;if(!s)return;const a=s.value;if(a===void 0)return;t.text===void 0&&(t.text=pa(a,t.randomIndexData));const o=t.text,l=s.style??"",u=s.weight??"400",d=Math.round(i)*MI,m=s.font??"Verdana",v=t.shapeFill,y=o?.split(`
`);if(y){e.font=`${l} ${u} ${d}px "${m}"`,e.globalAlpha=r;for(let x=0;x<y.length;x++)uK(e,y[x],i,r,x,v);e.globalAlpha=1}}function uK(n,e,t,i,r,s){const a=e.length*t*MP,o={x:-a,y:t*MP},l=t*MI;s?n.fillText(e,o.x,o.y+l*r):n.strokeText(e,o.x,o.y+l*r)}class fK{constructor(){this.validTypes=["text","character","char","multiline-text"]}draw(e){cK(e)}async init(e){const t=e.actualOptions,{validTypes:i}=this;if(i.find(r=>Ir(r,t.particles.shape.type))){const r=i.map(a=>t.particles.shape.options[a]).find(a=>!!a),s=[];hs(r,a=>{s.push(D2(a.font,a.weight))}),await Promise.all(s)}}particleInit(e,t){if(!t.shape||!this.validTypes.includes(t.shape))return;const i=t.shapeData;if(i===void 0)return;const r=i.value;r!==void 0&&(t.text=pa(r,t.randomIndexData))}}async function hK(n,e=!0){n.checkVersion("3.9.1"),await n.addShape(new fK,e)}var Cp;(function(n){n.clockwise="clockwise",n.counterClockwise="counter-clockwise",n.random="random"})(Cp||(Cp={}));class dK{constructor(){this.enable=!1,this.speed=0,this.decay=0,this.sync=!1}load(e){ot(e)||(e.enable!==void 0&&(this.enable=e.enable),e.speed!==void 0&&(this.speed=Mn(e.speed)),e.decay!==void 0&&(this.decay=Mn(e.decay)),e.sync!==void 0&&(this.sync=e.sync))}}class pK extends Gc{constructor(){super(),this.animation=new dK,this.direction=Cp.clockwise,this.enable=!1,this.value=0}load(e){super.load(e),!ot(e)&&(this.animation.load(e.animation),e.direction!==void 0&&(this.direction=e.direction),e.enable!==void 0&&(this.enable=e.enable))}}const v0=1,AI=2,mK=Math.PI*AI,gK=360;class vK{constructor(e){this.container=e}getTransformValues(e){const t=e.tilt?.enable&&e.tilt;return{b:t?Math.cos(t.value)*t.cosDirection:void 0,c:t?Math.sin(t.value)*t.sinDirection:void 0}}init(e){const t=e.options.tilt;if(!t)return;e.tilt={enable:t.enable,value:uf(St(t.value)),sinDirection:mn()>=Vi?v0:-v0,cosDirection:mn()>=Vi?v0:-v0,min:0,max:mK};let i=t.direction;switch(i===Cp.random&&(i=Math.floor(mn()*AI)>0?Cp.counterClockwise:Cp.clockwise),i){case Cp.counterClockwise:case"counterClockwise":e.tilt.status=jr.decreasing;break;case Cp.clockwise:e.tilt.status=jr.increasing;break}const r=e.options.tilt?.animation;r?.enable&&(e.tilt.decay=v0-St(r.decay),e.tilt.velocity=St(r.speed)/gK*this.container.retina.reduceFactor,r.sync||(e.tilt.velocity*=mn()))}isEnabled(e){const t=e.options.tilt?.animation;return!e.destroyed&&!e.spawning&&!!t?.enable}loadOptions(e,...t){e.tilt||(e.tilt=new pK);for(const i of t)e.tilt.load(i?.tilt)}async update(e,t){!this.isEnabled(e)||!e.tilt||(sy(e,e.tilt,!1,lh.none,t),await Promise.resolve())}}async function yK(n,e=!0){n.checkVersion("3.9.1"),await n.addParticleUpdater("tilt",t=>Promise.resolve(new vK(t)),e)}class AP{constructor(){this.enable=!1,this.frequency=.05,this.opacity=1}load(e){ot(e)||(e.color!==void 0&&(this.color=Cr.create(this.color,e.color)),e.enable!==void 0&&(this.enable=e.enable),e.frequency!==void 0&&(this.frequency=e.frequency),e.opacity!==void 0&&(this.opacity=Mn(e.opacity)))}}class _K{constructor(){this.lines=new AP,this.particles=new AP}load(e){ot(e)||(this.lines.load(e.lines),this.particles.load(e.particles))}}class bK{constructor(e){this._engine=e}getColorStyles(e,t,i,r){const s=e.options,a=s.twinkle;if(!a)return{};const o=a.particles,l=o.enable&&mn()<o.frequency,u=e.options.zIndex,d=1,m=(d-e.zIndexFactor)**u.opacityRate,v=l?St(o.opacity)*m:r,y=uh(this._engine,o.color),x=y?Ip(y,v):void 0,T={},E=l&&x;return T.fill=E?x:void 0,T.stroke=E?x:void 0,T}async init(){await Promise.resolve()}isEnabled(e){const t=e.options,i=t.twinkle;return i?i.particles.enable:!1}loadOptions(e,...t){e.twinkle||(e.twinkle=new _K);for(const i of t)e.twinkle.load(i?.twinkle)}async update(){await Promise.resolve()}}async function xK(n,e=!0){n.checkVersion("3.9.1"),await n.addParticleUpdater("twinkle",()=>Promise.resolve(new bK(n)),e)}class SK{constructor(){this.angle=50,this.move=10}load(e){ot(e)||(e.angle!==void 0&&(this.angle=Mn(e.angle)),e.move!==void 0&&(this.move=Mn(e.move)))}}class wK{constructor(){this.distance=5,this.enable=!1,this.speed=new SK}load(e){if(!ot(e)&&(e.distance!==void 0&&(this.distance=Mn(e.distance)),e.enable!==void 0&&(this.enable=e.enable),e.speed!==void 0))if(Lo(e.speed))this.speed.load({angle:e.speed});else{const t=e.speed;t.min!==void 0?this.speed.load({angle:t}):this.speed.load(e.speed)}}}const EK=0,TK=2,MK=Math.PI*TK,AK=60;function CK(n,e){const{wobble:t}=n.options,{container:i,wobble:r}=n;if(!t?.enable||!r)return;const s=i.retina.reduceFactor,a=r.angleSpeed*e.factor*s,o=r.moveSpeed*e.factor*s,l=o*(n.retina.wobbleDistance??EK)/(Kr/AK),u=MK,{position:d}=n;r.angle+=a,r.angle>u&&(r.angle-=u),d.x+=l*Math.cos(r.angle),d.y+=l*Math.abs(Math.sin(r.angle))}const RK=2,OK=Math.PI*RK,PK=360,DK=10,LK=0;class NK{constructor(e){this.container=e}init(e){const t=e.options.wobble;t?.enable?e.wobble={angle:mn()*OK,angleSpeed:St(t.speed.angle)/PK,moveSpeed:St(t.speed.move)/DK}:e.wobble={angle:0,angleSpeed:0,moveSpeed:0},e.retina.wobbleDistance=St(t?.distance??LK)*this.container.retina.pixelRatio}isEnabled(e){return!e.destroyed&&!e.spawning&&!!e.options.wobble?.enable}loadOptions(e,...t){e.wobble||(e.wobble=new wK);for(const i of t)e.wobble.load(i?.wobble)}update(e,t){this.isEnabled(e)&&CK(e,t)}}async function IK(n,e=!0){n.checkVersion("3.9.1"),await n.addParticleUpdater("wobble",t=>Promise.resolve(new NK(t)),e)}async function zK(n,e=!0){n.checkVersion("3.9.1"),await Rq(n,!1),await Wq(n,!1),await yK(n,!1),await xK(n,!1),await IK(n,!1),await hK(n,!1),await Hq(n,!1),await mq(n,!1),await n$(n,!1),await Lq(n,!1),await Uq(n,!1),await lK(n,e)}class UK{constructor(){this.count=0,this.enable=!1,this.speed=0,this.decay=0,this.delay=0,this.sync=!1,this.startValue=sh.random}load(e){ot(e)||(e.count!==void 0&&(this.count=Mn(e.count)),e.enable!==void 0&&(this.enable=e.enable),e.speed!==void 0&&(this.speed=Mn(e.speed)),e.sync!==void 0&&(this.sync=e.sync),e.startValue!==void 0&&(this.startValue=e.startValue),e.decay!==void 0&&(this.decay=Mn(e.decay)),e.delay!==void 0&&(this.delay=Mn(e.delay)))}}class BK{constructor(){this.value=0,this.animation=new UK}load(e){ot(e)||(this.animation.load(e.animation),e.value!==void 0&&(this.value=Mn(e.value)))}}class kK{constructor(){this.stop=0,this.value=new zp}load(e){ot(e)||(e.stop!==void 0&&(this.stop=e.stop),this.value=zp.create(this.value,e.value),e.opacity!==void 0&&(this.opacity=new BK,Lo(e.opacity)?this.opacity.value=e.opacity:this.opacity.load(e.opacity)))}}class HK{constructor(){this.count=0,this.enable=!1,this.speed=0,this.decay=0,this.delay=0,this.sync=!1}load(e){ot(e)||(e.count!==void 0&&(this.count=Mn(e.count)),e.enable!==void 0&&(this.enable=e.enable),e.speed!==void 0&&(this.speed=Mn(e.speed)),e.decay!==void 0&&(this.decay=Mn(e.decay)),e.delay!==void 0&&(this.delay=Mn(e.delay)),e.sync!==void 0&&(this.sync=e.sync))}}class FK{constructor(){this.value=0,this.animation=new HK,this.direction=ha.clockwise}load(e){ot(e)||(this.animation.load(e.animation),e.value!==void 0&&(this.value=Mn(e.value)),e.direction!==void 0&&(this.direction=e.direction))}}class VK{constructor(){this.angle=new FK,this.colors=[],this.type=qx.random}load(e){ot(e)||(this.angle.load(e.angle),e.colors!==void 0&&(this.colors=e.colors.map(t=>{const i=new kK;return i.load(t),i})),e.type!==void 0&&(this.type=e.type))}}function GK(n,e){const{gradient:t}=n;if(t){sy(n,t.angle,!1,lh.none,e);for(const i of t.colors)oC(i.value,e),i.opacity&&sy(n,i.opacity,!0,lh.none,e)}}const jK=2,$K=Math.PI*jK;class qK{constructor(e){this._engine=e}getColorStyles(e,t,i,r){const s=e.gradient;if(!s)return{};const a=s.angle.value,o={x:0,y:0},l=0,u=s.type===qx.radial?t.createRadialGradient(o.x,o.y,l,o.x,o.y,i):t.createLinearGradient(Math.cos(a)*-i,Math.sin(a)*-i,Math.cos(a)*i,Math.sin(a)*i);for(const{stop:d,value:m,opacity:v}of s.colors)u.addColorStop(d,Ip({h:m.h.value,s:m.s.value,l:m.l.value},v?.value??r));return{fill:u}}init(e){const t=pa(e.options.gradient);if(!t)return;const{angle:i}=t,r=360,s=1;e.gradient={angle:{value:St(i.value),enable:i.animation.enable,velocity:St(i.animation.speed)/r*e.container.retina.reduceFactor,decay:s-St(i.animation.decay),delayTime:St(i.animation.delay)*Kr,max:$K,min:0,time:0},type:t.type,colors:[]};let a=t.angle.direction;switch(a===ha.random&&(a=mn()>Vi?ha.counterClockwise:ha.clockwise),a){case ha.counterClockwise:case"counterClockwise":e.gradient.angle.status=jr.decreasing;break;case ha.clockwise:e.gradient.angle.status=jr.increasing;break}const o=e.options.reduceDuplicates;for(const l of t.colors){const u=uh(this._engine,l.value,e.id,o);if(!u)continue;const d=aC(u,l.value.animation,e.container.retina.reduceFactor),m={stop:l.stop,value:d,opacity:l.opacity?{enable:l.opacity.animation.enable,max:Bc(l.opacity.value),min:ry(l.opacity.value),status:jr.increasing,value:St(l.opacity.value),velocity:St(l.opacity.animation.speed)/qi*e.container.retina.reduceFactor,decay:s-St(l.opacity.animation.decay),delayTime:St(l.opacity.animation.delay)*Kr,time:0}:void 0},{opacity:v}=m;if(l.opacity&&v){const y=l.opacity.value;switch(v.min=ry(y),v.max=Bc(y),l.opacity.animation.startValue){case sh.min:v.value=v.min,v.status=jr.increasing;break;case sh.max:v.value=v.max,v.status=jr.decreasing;break;case sh.random:default:v.value=da(v),v.status=mn()>=Vi?jr.increasing:jr.decreasing;break}}e.gradient.colors.push(m)}}isEnabled(e){return!e.destroyed&&!e.spawning&&(!!e.gradient?.angle.enable||(e.gradient?.colors.some(t=>t.value.h.enable||t.value.s.enable||t.value.l.enable)??!1))}loadOptions(e,...t){for(const i of t){if(!i?.gradient)continue;const r=i.gradient;r&&(e.gradient=hs(r,s=>{const a=new VK;return a.load(s),a}))}}update(e,t){GK(e,t)}}async function WK(n,e=!0){n.checkVersion("3.9.1"),await n.addParticleUpdater("gradient",()=>Promise.resolve(new qK(n)),e)}const XK=.5,YK=2;function ZK(n){const{context:e,radius:t}=n,i=t*YK,r=t*XK,s=t+r,a=-t,o=-t;e.moveTo(a,o+r),e.quadraticCurveTo(a,o,a+r,o),e.quadraticCurveTo(a+t,o,a+t,o+r),e.quadraticCurveTo(a+t,o,a+s,o),e.quadraticCurveTo(a+i,o,a+i,o+r),e.quadraticCurveTo(a+i,o+t,a+s,o+s),e.lineTo(a+t,o+i),e.lineTo(a+r,o+s),e.quadraticCurveTo(a,o+t,a,o+r)}class KK{constructor(){this.validTypes=["heart"]}draw(e){ZK(e)}}async function QK(n,e=!0){n.checkVersion("3.9.1"),await n.addShape(new KK,e)}const NT=255;function k2(n){const e={b:0,g:0,r:0},t=60,i={h:n.h/t,s:n.s/qi,v:n.v/qi},r=1,s=2,a=i.v*i.s,o=a*(r-Math.abs(i.h%s-r));let l;const u={min:0,max:1},d={min:1,max:2},m={min:2,max:3},v={min:3,max:4},y={min:4,max:5},x={min:5,max:6};if(i.h>=u.min&&i.h<=u.max?l={r:a,g:o,b:0}:i.h>d.min&&i.h<=d.max?l={r:o,g:a,b:0}:i.h>m.min&&i.h<=m.max?l={r:0,g:a,b:o}:i.h>v.min&&i.h<=v.max?l={r:0,g:o,b:a}:i.h>y.min&&i.h<=y.max?l={r:o,g:0,b:a}:i.h>x.min&&i.h<=x.max&&(l={r:a,g:0,b:o}),l){const T=i.v-a;e.r=Math.floor((l.r+T)*NT),e.g=Math.floor((l.g+T)*NT),e.b=Math.floor((l.b+T)*NT)}return e}function JK(n){return{a:n.a,...k2(n)}}class eQ{constructor(){this.key="hsv",this.stringPrefix="hsv"}handleColor(e){const t=e.value,i=t.hsv??e.value;if(i.h!==void 0&&i.v!==void 0)return k2(i)}handleRangeColor(e){const t=e.value,i=t.hsv??e.value;if(i.h!==void 0&&i.v!==void 0)return k2({h:St(i.h),s:St(i.s),v:St(i.v)})}parseString(e){if(!e.startsWith("hsv"))return;const t=/hsva?\(\s*(\d+)\s*[\s,]\s*(\d+)%\s*[\s,]\s*(\d+)%\s*([\s,]\s*(0|1|0?\.\d+|(\d{1,3})%)\s*)?\)/i,i=t.exec(e),r=4,s={h:1,s:2,v:3,a:5},a=1,o=10;return i?JK({a:i.length>r?B_(i[s.a]):a,h:parseInt(i[s.h],o),s:parseInt(i[s.s],o),v:parseInt(i[s.v],o)}):void 0}}async function tQ(n,e=!0){n.checkVersion("3.9.1"),await n.addColorManager(new eQ,e)}class nQ{constructor(){this.color=new Cr,this.color.value="#ff0000",this.radius=0,this.rate=1}load(e){ot(e)||(e.color!==void 0&&(this.color=Cr.create(this.color,e.color)),this.duration=e.duration,this.infectedStage=e.infectedStage,e.radius!==void 0&&(this.radius=e.radius),e.rate!==void 0&&(this.rate=e.rate))}}class iQ{constructor(){this.cure=!1,this.delay=0,this.enable=!1,this.infections=0,this.stages=[]}load(e){ot(e)||(e.cure!==void 0&&(this.cure=e.cure),e.delay!==void 0&&(this.delay=e.delay),e.enable!==void 0&&(this.enable=e.enable),e.infections!==void 0&&(this.infections=e.infections),e.stages!==void 0&&(this.stages=e.stages.map(t=>{const i=new nQ;return i.load(t),i})))}}const db=0,rQ=0;class sQ{constructor(e){this._nextInfectionStage=t=>{const i=this._container.actualOptions.infection,{infection:r}=t;if(!i||!r)return;const s=i.stages.length;s<=db||r.stage===void 0||(r.time=0,s<=++r.stage&&(i.cure?(delete r.stage,delete r.time):(r.stage=0,r.time=0)))},this._container=e}startInfection(e,t){const i=this._container.actualOptions.infection,{infection:r}=e;if(!i||!r)return;const s=i.stages,a=s.length;t>a||t<db||(r.delay=0,r.delayStage=t)}updateInfection(e,t){const i=this._container.actualOptions.infection,{infection:r}=e;if(!i||!r)return;const s=i.stages,a=s.length;if(r.delay!==void 0&&r.delayStage!==void 0){const o=r.delayStage;if(o>a||o<db)return;r.delay>=i.delay*Kr?(r.stage=o,r.time=0,delete r.delay,delete r.delayStage):r.delay+=t}else delete r.delay,delete r.delayStage;if(r.stage!==void 0&&r.time!==void 0){const o=s[r.stage];o.duration!==void 0&&o.duration>=rQ&&r.time>o.duration*Kr?this._nextInfectionStage(e):r.time+=t}else delete r.stage,delete r.time}updateInfectionStage(e,t){const i=this._container.actualOptions,{infection:r}=e;if(!i.infection||!r)return;const s=i.infection.stages.length;t>s||t<db||r.stage!==void 0&&r.stage>t||(r.stage=t,r.time=0)}}const aQ=0;class oQ{constructor(e){this._container=e,this._container.infecter=new sQ(this._container)}particleFillColor(e){const t=this._container.actualOptions;if(!e.infection||!t.infection)return;const i=e.infection.stage,r=t.infection,s=r.stages;return i!==void 0?s[i].color:void 0}particleStrokeColor(e){return this.particleFillColor(e)}particlesSetup(){const e=this._container.actualOptions;if(e.infection)for(let t=0;t<e.infection.infections;t++){const i=this._container.particles.filter(s=>{const a=s;return a.infection||(a.infection={}),a.infection.stage===void 0}),r=ch(i);this._container.infecter?.startInfection(r,aQ)}}}class lQ{constructor(){this.id="infection"}getPlugin(e){return Promise.resolve(new oQ(e))}loadOptions(e,t){if(!this.needsPlugin(e)&&!this.needsPlugin(t))return;let i=e.infection;i?.load===void 0&&(e.infection=i=new iQ),i.load(t?.infection)}needsPlugin(e){return e?.infection?.enable??!1}}const cQ=1,uQ=2;class fQ extends Ty{constructor(e){super(e)}clear(){}init(){}interact(e,t){const i=this.container.infecter;if(!i||(i.updateInfection(e,t.value),e.infection?.stage===void 0))return;const r=this.container,s=r.actualOptions,a=s.infection;if(!a?.enable||a.stages.length<cQ)return;const o=a.stages[e.infection.stage],l=r.retina.pixelRatio,u=e.getRadius()*uQ+o.radius*l,d=e.getPosition(),m=o.infectedStage??e.infection.stage,v=r.particles.quadTree.queryCircle(d,u),y=o.rate,x=v.length;for(const T of v){const E=T;if(!(E===e||E.destroyed||E.spawning||!(E.infection?.stage===void 0||E.infection.stage!==e.infection.stage)||mn()>=y/x)){if(E.infection?.stage===void 0)i.startInfection(E,m);else if(E.infection.stage<e.infection.stage)i.updateInfectionStage(E,m);else if(E.infection.stage>e.infection.stage){const P=a.stages[E.infection.stage]?.infectedStage??E.infection.stage;i.updateInfectionStage(e,P)}}}}isEnabled(){return this.container.actualOptions?.infection?.enable??!1}reset(){}}async function hQ(n,e=!0){n.checkVersion("3.9.1");const t=new lQ;await n.addPlugin(t,e),await n.addInteractor("particlesInfection",i=>Promise.resolve(new fQ(i)),e)}const Xh={x:0,y:0},dQ=.55;function pQ(n){const{context:e,radius:t}=n,i=t*dQ;e.moveTo(Xh.x,Xh.y),e.bezierCurveTo(i,-t,i,t,Xh.x,Xh.y),e.moveTo(Xh.x,Xh.y),e.bezierCurveTo(-i,-t,Xh.x-i,t,Xh.x,Xh.y)}class mQ{constructor(){this.validTypes=["infinity"]}draw(e){pQ(e)}}async function gQ(n,e=!0){n.checkVersion("3.9.1"),await n.addShape(new mQ,e)}const CP={max:1,min:0},vQ=.5,yQ=2,RP=Math.PI*vQ,CI=Math.PI*yQ,_Q=.25,bQ=Math.PI*_Q,OP=0,RI="light";function xQ(n,e,t){const i=n.actualOptions.interactivity.modes.light?.area;if(!i)return;e.beginPath(),e.arc(t.x,t.y,i.radius,OP,CI);const r=e.createRadialGradient(t.x,t.y,OP,t.x,t.y,i.radius),s=n.canvas.mouseLight;!s?.start||!s.stop||(r.addColorStop(CP.min,Ul(s.start)),r.addColorStop(CP.max,Ul(s.stop)),e.fillStyle=r,e.fill())}function SQ(n,e,t,i){const r=t.getPosition(),s=n.actualOptions.interactivity.modes.light?.shadow;if(!s)return;const a=t.lightShadow;if(!a)return;const o=t.getRadius(),l=t.sides,u=CI/l,d=-t.rotation+bQ,m=1,v=[];for(let D=0;D<l;D++)v.push({x:r.x+o*Math.sin(d+u*D)*m,y:r.y+o*Math.cos(d+u*D)*m});const y=[],x=s.length;for(const D of v){const N=Math.atan2(i.y-D.y,i.x-D.x),G={x:D.x+x*Math.sin(-N-RP),y:D.y+x*Math.cos(-N-RP)};y.push({end:G,start:D})}const T=Ul(a),E=1,w=0,P=y.length-E;for(let D=P,N=0;D>=w;N=D--)e.beginPath(),e.moveTo(y[D].start.x,y[D].start.y),e.lineTo(y[N].start.x,y[N].start.y),e.lineTo(y[N].end.x,y[N].end.y),e.lineTo(y[D].end.x,y[D].end.y),e.fillStyle=T,e.fill()}class wQ{constructor(){this.start=new Cr,this.stop=new Cr,this.start.value="#ffffff",this.stop.value="#000000"}load(e){ot(e)||(this.start=Cr.create(this.start,e.start),this.stop=Cr.create(this.stop,e.stop))}}class EQ{constructor(){this.gradient=new wQ,this.radius=1e3}load(e){ot(e)||(this.gradient.load(e.gradient),e.radius!==void 0&&(this.radius=e.radius))}}let TQ=class{constructor(){this.color=new Cr,this.color.value="#000000",this.length=2e3}load(e){ot(e)||(this.color=Cr.create(this.color,e.color),e.length!==void 0&&(this.length=e.length))}},MQ=class{constructor(){this.area=new EQ,this.shadow=new TQ}load(e){ot(e)||(this.area.load(e.area),this.shadow.load(e.shadow))}};class AQ extends mc{constructor(e,t){super(e),this._engine=t}clear(){}init(){}interact(){const e=this.container,t=e.actualOptions,i=e.interactivity;if(!t.interactivity.events.onHover.enable||i.status!=="pointermove")return;const r=i.mouse.position;r&&e.canvas.draw(s=>{xQ(e,s,r)})}isEnabled(e){const t=this.container,i=t.interactivity.mouse,r=e?.interactivity??t.actualOptions.interactivity,s=r.events;if(!(s.onHover.enable&&i.position))return!1;const a=Ir(RI,s.onHover.mode);if(a&&r.modes.light){const o=r.modes.light.area.gradient;t.canvas.mouseLight={start:Oo(this._engine,o.start),stop:Oo(this._engine,o.stop)}}return a}loadModeOptions(e,...t){e.light||(e.light=new MQ);for(const i of t)e.light.load(i?.light)}reset(){}}class CQ extends Ty{constructor(e,t){super(e),this._engine=t}clear(){}init(){}interact(e){const t=this.container,i=t.actualOptions,r=t.interactivity;if(!i.interactivity.events.onHover.enable||r.status!=="pointermove")return;const s=r.mouse.position;s&&t.canvas.draw(a=>{SQ(t,a,e,s)})}isEnabled(e){const t=this.container,i=e.interactivity??t.actualOptions.interactivity,r=t.interactivity.mouse,s=i.events;if(!(s.onHover.enable&&r.position))return!1;const a=Ir(RI,s.onHover.mode);if(a&&i.modes.light){const o=i.modes.light.shadow;e.lightShadow=Oo(this._engine,o.color)}return a}reset(){}}async function RQ(n,e=!0){n.checkVersion("3.9.1"),await n.addInteractor("externalLight",t=>Promise.resolve(new AQ(t,n)),e),await n.addInteractor("particlesLight",t=>Promise.resolve(new CQ(t,n)),e)}class OQ{constructor(){this.factor=4,this.value=!0}load(e){ot(e)||(e.factor!==void 0&&(this.factor=e.factor),e.value!==void 0&&(this.value=e.value))}}class PQ{constructor(){this.disable=!0,this.reduce=new OQ}load(e){ot(e)||(e.disable!==void 0&&(this.disable=e.disable),this.reduce.load(e.reduce))}}const PP=1,DQ=1,LQ=0,NQ=1;class IQ{constructor(e,t){this._handleMotionChange=i=>{const r=this._container,s=r.actualOptions.motion;s&&(i.matches?s.disable?r.retina.reduceFactor=LQ:r.retina.reduceFactor=s.reduce.value?NQ/s.reduce.factor:PP:r.retina.reduceFactor=DQ)},this._container=e,this._engine=t}async init(){const e=this._container,t=e.actualOptions.motion;if(!(t&&(t.disable||t.reduce.value))){e.retina.reduceFactor=1;return}const i=tC("(prefers-reduced-motion: reduce)");if(!i){e.retina.reduceFactor=PP;return}this._handleMotionChange(i);const r=()=>{(async()=>{this._handleMotionChange(i);try{await e.refresh()}catch{}})()};i.addEventListener!==void 0?i.addEventListener("change",r):i.addListener!==void 0&&i.addListener(r),await Promise.resolve()}}class zQ{constructor(e){this.id="motion",this._engine=e}getPlugin(e){return Promise.resolve(new IQ(e,this._engine))}loadOptions(e,t){if(!this.needsPlugin())return;let i=e.motion;i?.load||(e.motion=i=new PQ),i.load(t?.motion)}needsPlugin(){return!0}}async function UQ(n,e=!0){n.checkVersion("3.9.1"),await n.addPlugin(new zQ(n),e)}const BQ=new Map([["aliceblue",{r:240,g:248,b:255}],["antiquewhite",{r:250,g:235,b:215}],["aqua",{r:0,g:255,b:255}],["aquamarine",{r:127,g:255,b:212}],["azure",{r:240,g:255,b:255}],["beige",{r:245,g:245,b:220}],["bisque",{r:255,g:228,b:196}],["black",{r:0,g:0,b:0}],["blanchedalmond",{r:255,g:235,b:205}],["blue",{r:0,g:0,b:255}],["blueviolet",{r:138,g:43,b:226}],["brown",{r:165,g:42,b:42}],["burlywood",{r:222,g:184,b:135}],["cadetblue",{r:95,g:158,b:160}],["chartreuse",{r:127,g:255,b:0}],["chocolate",{r:210,g:105,b:30}],["coral",{r:255,g:127,b:80}],["cornflowerblue",{r:100,g:149,b:237}],["cornsilk",{r:255,g:248,b:220}],["crimson",{r:220,g:20,b:60}],["cyan",{r:0,g:255,b:255}],["darkblue",{r:0,g:0,b:139}],["darkcyan",{r:0,g:139,b:139}],["darkgoldenrod",{r:184,g:134,b:11}],["darkgray",{r:169,g:169,b:169}],["darkgreen",{r:0,g:100,b:0}],["darkgrey",{r:169,g:169,b:169}],["darkkhaki",{r:189,g:183,b:107}],["darkmagenta",{r:139,g:0,b:139}],["darkolivegreen",{r:85,g:107,b:47}],["darkorange",{r:255,g:140,b:0}],["darkorchid",{r:153,g:50,b:204}],["darkred",{r:139,g:0,b:0}],["darksalmon",{r:233,g:150,b:122}],["darkseagreen",{r:143,g:188,b:143}],["darkslateblue",{r:72,g:61,b:139}],["darkslategray",{r:47,g:79,b:79}],["darkslategrey",{r:47,g:79,b:79}],["darkturquoise",{r:0,g:206,b:209}],["darkviolet",{r:148,g:0,b:211}],["deeppink",{r:255,g:20,b:147}],["deepskyblue",{r:0,g:191,b:255}],["dimgray",{r:105,g:105,b:105}],["dimgrey",{r:105,g:105,b:105}],["dodgerblue",{r:30,g:144,b:255}],["firebrick",{r:178,g:34,b:34}],["floralwhite",{r:255,g:250,b:240}],["forestgreen",{r:34,g:139,b:34}],["fuchsia",{r:255,g:0,b:255}],["gainsboro",{r:220,g:220,b:220}],["ghostwhite",{r:248,g:248,b:255}],["gold",{r:255,g:215,b:0}],["goldenrod",{r:218,g:165,b:32}],["gray",{r:128,g:128,b:128}],["green",{r:0,g:128,b:0}],["greenyellow",{r:173,g:255,b:47}],["grey",{r:128,g:128,b:128}],["honeydew",{r:240,g:255,b:240}],["hotpink",{r:255,g:105,b:180}],["indianred",{r:205,g:92,b:92}],["indigo",{r:75,g:0,b:130}],["ivory",{r:255,g:255,b:240}],["khaki",{r:240,g:230,b:140}],["lavender",{r:230,g:230,b:250}],["lavenderblush",{r:255,g:240,b:245}],["lawngreen",{r:124,g:252,b:0}],["lemonchiffon",{r:255,g:250,b:205}],["lightblue",{r:173,g:216,b:230}],["lightcoral",{r:240,g:128,b:128}],["lightcyan",{r:224,g:255,b:255}],["lightgoldenrodyellow",{r:250,g:250,b:210}],["lightgray",{r:211,g:211,b:211}],["lightgreen",{r:144,g:238,b:144}],["lightgrey",{r:211,g:211,b:211}],["lightpink",{r:255,g:182,b:193}],["lightsalmon",{r:255,g:160,b:122}],["lightseagreen",{r:32,g:178,b:170}],["lightskyblue",{r:135,g:206,b:250}],["lightslategray",{r:119,g:136,b:153}],["lightslategrey",{r:119,g:136,b:153}],["lightsteelblue",{r:176,g:196,b:222}],["lightyellow",{r:255,g:255,b:224}],["lime",{r:0,g:255,b:0}],["limegreen",{r:50,g:205,b:50}],["linen",{r:250,g:240,b:230}],["magenta",{r:255,g:0,b:255}],["maroon",{r:128,g:0,b:0}],["mediumaquamarine",{r:102,g:205,b:170}],["mediumblue",{r:0,g:0,b:205}],["mediumorchid",{r:186,g:85,b:211}],["mediumpurple",{r:147,g:112,b:219}],["mediumseagreen",{r:60,g:179,b:113}],["mediumslateblue",{r:123,g:104,b:238}],["mediumspringgreen",{r:0,g:250,b:154}],["mediumturquoise",{r:72,g:209,b:204}],["mediumvioletred",{r:199,g:21,b:133}],["midnightblue",{r:25,g:25,b:112}],["mintcream",{r:245,g:255,b:250}],["mistyrose",{r:255,g:228,b:225}],["moccasin",{r:255,g:228,b:181}],["navajowhite",{r:255,g:222,b:173}],["navy",{r:0,g:0,b:128}],["oldlace",{r:253,g:245,b:230}],["olive",{r:128,g:128,b:0}],["olivedrab",{r:107,g:142,b:35}],["orange",{r:255,g:165,b:0}],["orangered",{r:255,g:69,b:0}],["orchid",{r:218,g:112,b:214}],["palegoldenrod",{r:238,g:232,b:170}],["palegreen",{r:152,g:251,b:152}],["paleturquoise",{r:175,g:238,b:238}],["palevioletred",{r:219,g:112,b:147}],["papayawhip",{r:255,g:239,b:213}],["peachpuff",{r:255,g:218,b:185}],["peru",{r:205,g:133,b:63}],["pink",{r:255,g:192,b:203}],["plum",{r:221,g:160,b:221}],["powderblue",{r:176,g:224,b:230}],["purple",{r:128,g:0,b:128}],["rebeccapurple",{r:102,g:51,b:153}],["red",{r:255,g:0,b:0}],["rosybrown",{r:188,g:143,b:143}],["royalblue",{r:65,g:105,b:225}],["saddlebrown",{r:139,g:69,b:19}],["salmon",{r:250,g:128,b:114}],["sandybrown",{r:244,g:164,b:96}],["seagreen",{r:46,g:139,b:87}],["seashell",{r:255,g:245,b:238}],["sienna",{r:160,g:82,b:45}],["silver",{r:192,g:192,b:192}],["skyblue",{r:135,g:206,b:235}],["slateblue",{r:106,g:90,b:205}],["slategray",{r:112,g:128,b:144}],["slategrey",{r:112,g:128,b:144}],["snow",{r:255,g:250,b:250}],["springgreen",{r:0,g:255,b:127}],["steelblue",{r:70,g:130,b:180}],["tan",{r:210,g:180,b:140}],["teal",{r:0,g:128,b:128}],["thistle",{r:216,g:191,b:216}],["tomato",{r:255,g:99,b:71}],["turquoise",{r:64,g:224,b:208}],["violet",{r:238,g:130,b:238}],["wheat",{r:245,g:222,b:179}],["white",{r:255,g:255,b:255}],["whitesmoke",{r:245,g:245,b:245}],["yellow",{r:255,g:255,b:0}],["yellowgreen",{r:154,g:205,b:50}]]);class kQ{constructor(){this.key="named",this.stringPrefix=""}handleColor(e){return this._parseString(e.value)}handleRangeColor(e){return this._parseString(e.value)}parseString(e){return this._parseString(e)}_parseString(e){if(!e||typeof e!="string")return;const t=BQ.get(e.toLowerCase());if(!t){xd().error("Color not found",e);return}return{...t,a:255}}}async function HQ(n,e=!0){n.checkVersion("3.9.1"),await n.addColorManager(new kQ,e)}const Qv=255,OI=360;function H2(n){const e=n.l/qi,t=n.c,i=n.h/OI,r={r:0,g:0,b:0};return r.r=Math.floor(e*Qv),r.g=Math.floor(t*Qv),r.b=Math.floor(i*Qv),r}function FQ(n){return{a:n.a,...H2(n)}}function F2(n){const e=n.l/qi,t=n.c/qi,i=n.h/OI,r={r:0,g:0,b:0};return r.r=Math.floor(e*Qv),r.g=Math.floor(t*Qv),r.b=Math.floor(i*Qv),r}function VQ(n){return{a:n.a,...F2(n)}}class GQ{constructor(){this.key="lch",this.stringPrefix="lch"}handleColor(e){const t=e.value,i=t.lch??e.value;if(i.l!==void 0&&i.c!==void 0&&i.h!==void 0)return H2(i)}handleRangeColor(e){const t=e.value,i=t.lch??e.value;if(i.l!==void 0&&i.c!==void 0&&i.h!==void 0)return H2({l:St(i.l),c:St(i.c),h:St(i.h)})}parseString(e){if(!e.startsWith("lch"))return;const i=/lch\(\s*(\d+(\.\d+)?)%\s+(\d+(\.\d+)?)\s+(\d+(\.\d+)?)(?:\s*\/\s*(0|1|0?\.\d+|\d{1,3}%))?\s*\)/i,r=i.exec(e),s={l:1,c:3,h:5,a:7};return r?FQ({a:r[s.a]?B_(r[s.a]):1,c:parseFloat(r[s.c]),h:parseFloat(r[s.h]),l:parseFloat(r[s.l])}):void 0}}class jQ{constructor(){this.key="oklch",this.stringPrefix="oklch"}handleColor(e){const t=e.value,i=t.oklch??e.value;if(i.l!==void 0&&i.c!==void 0&&i.h!==void 0)return F2(i)}handleRangeColor(e){const t=e.value,i=t.oklch??e.value;if(i.l!==void 0&&i.c!==void 0&&i.h!==void 0)return F2({l:St(i.l),c:St(i.c),h:St(i.h)})}parseString(e){if(!e.startsWith("oklch"))return;const i=/oklch\(\s*(\d+(\.\d+)?)%\s+(\d+(\.\d+)?)\s+(\d+(\.\d+)?)()?(?:\s*\/\s*(0|1|0?\.\d+|\d{1,3}%))?\s*\)/i,r=i.exec(e),s={l:1,c:3,h:5,a:7};return r?VQ({a:r[s.a]?B_(r[s.a]):1,c:parseFloat(r[s.c]),h:parseFloat(r[s.h]),l:parseFloat(r[s.l])}):void 0}}async function $Q(n,e=!0){n.checkVersion("3.9.1"),await n.addColorManager(new jQ,e),await n.addColorManager(new GQ,e)}class qQ extends Gc{constructor(){super(),this.value=45}load(e){ot(e)||super.load(e)}}class WQ{constructor(){this.animation=new _w,this.enable=!1,this.opacity=1,this.rotation=new qQ,this.width=1}load(e){ot(e)||(this.animation.load(e.animation),this.rotation.load(e.rotation),e.enable!==void 0&&(this.enable=e.enable),e.opacity!==void 0&&(this.opacity=Mn(e.opacity)),e.width!==void 0&&(this.width=Mn(e.width)),e.radius!==void 0&&(this.radius=Mn(e.radius)),e.color!==void 0&&(this.color=Cr.create(this.color,e.color)))}}var Fv;(function(n){n.front="front",n.back="back"})(Fv||(Fv={}));const XQ=0,YQ=.5,ZQ=2;function KQ(n,e,t,i,r,s,a,o,l){if(s<=XQ)return;const u=e.getPosition();t&&(n.strokeStyle=Ip(t,r)),n.lineWidth=s;const d=uf(a);n.beginPath(),n.ellipse(u.x,u.y,i*YQ,i*ZQ,d,o,l),n.stroke()}const QQ=2,JQ=.5,DP=Math.PI*QQ,LP=0,V2=Math.PI*JQ,NP=Math.PI+V2,eJ=0,tJ=1,nJ=1,IP=0;class iJ{constructor(e,t){this._engine=t,this._container=e}afterDraw(e){e.options.orbit?.enable&&this.drawOrbit(e,Fv.front)}beforeDraw(e){e.options.orbit?.enable&&this.drawOrbit(e,Fv.back)}drawOrbit(e,t){const i=this._container;let r,s;switch(t){case Fv.back:r=V2,s=NP;break;case Fv.front:r=NP,s=V2;break;default:r=eJ,s=DP}i.canvas.draw(a=>{KQ(a,e,e.orbitColor??e.getFillColor(),e.retina.orbitRadius??i.retina.orbitRadius??e.getRadius(),e.orbitOpacity??tJ,e.orbitWidth??nJ,(e.orbitRotation??IP)*i.retina.pixelRatio,r,s)})}init(e){const t=this._container,i=e.options,r=i.orbit;r?.enable&&(e.orbitRotation=St(r.rotation.value),e.orbitColor=uh(this._engine,r.color),e.retina.orbitRadius=r.radius!==void 0?St(r.radius)*t.retina.pixelRatio:void 0,t.retina.orbitRadius=e.retina.orbitRadius,e.orbitAnimationSpeed=r.animation.enable?St(r.animation.speed):LP,e.orbitWidth=St(r.width),e.orbitOpacity=St(r.opacity))}isEnabled(e){const t=e.options.orbit?.animation;return!e.destroyed&&!e.spawning&&!!t?.enable}loadOptions(e,...t){e.orbit||(e.orbit=new WQ);for(const i of t)e.orbit.load(i?.orbit)}update(e,t){this.isEnabled(e)&&(e.orbitRotation===void 0&&(e.orbitRotation=IP),e.orbitRotation+=(e.orbitAnimationSpeed??LP/DP)*t.factor)}}async function rJ(n,e=!0){n.checkVersion("3.9.1"),await n.addParticleUpdater("orbit",t=>Promise.resolve(new iJ(t,n)),e)}class sJ extends Gc{constructor(){super(),this.enabled=!1,this.distance=1,this.duration=1,this.factor=1,this.speed=1}load(e){super.load(e),!ot(e)&&(e.enabled!==void 0&&(this.enabled=e.enabled),e.distance!==void 0&&(this.distance=Mn(e.distance)),e.duration!==void 0&&(this.duration=Mn(e.duration)),e.factor!==void 0&&(this.factor=Mn(e.factor)),e.speed!==void 0&&(this.speed=Mn(e.speed)))}}const aJ=0,oJ=1,lJ=2,cJ=0;class uJ extends Ty{constructor(e){super(e)}clear(){}init(){}interact(e){const t=this.container;if(!e.repulse){const s=e.options.repulse;if(!s)return;e.repulse={distance:St(s.distance)*t.retina.pixelRatio,speed:St(s.speed),factor:St(s.factor)}}const i=e.getPosition(),r=t.particles.quadTree.queryCircle(i,e.repulse.distance);for(const s of r){if(e===s||s.destroyed)continue;const a=s.getPosition(),{dx:o,dy:l,distance:u}=ga(a,i),d=e.repulse.speed*e.repulse.factor;if(u>aJ){const m=dc((oJ-Math.pow(u/e.repulse.distance,lJ))*d,cJ,d),v=nr.create(o/u*m,l/u*m);s.position.addTo(v)}else{const m=nr.create(d,d);s.position.addTo(m)}}}isEnabled(e){return e.options.repulse?.enabled??!1}loadParticlesOptions(e,...t){e.repulse||(e.repulse=new sJ);for(const i of t)e.repulse.load(i?.repulse)}reset(){}}async function fJ(n,e=!0){n.checkVersion("3.9.1"),await n.addInteractor("particlesRepulse",t=>Promise.resolve(new uJ(t)),e)}var Su;(function(n){n.line="line",n.bezier="bezier",n.quadratic="quadratic",n.arc="arc",n.ellipse="ellipse"})(Su||(Su={}));function hJ(n,e,t){const r=t.segments[0],s=r.values[0];n.moveTo(s.x*e,s.y*e);for(const l of t.segments){const u=l.values[0],d=1,m=2,v=3;switch(l.type){case Su.line:n.lineTo(u.x*e,u.y*e);break;case Su.bezier:n.bezierCurveTo(l.values[d].x*e,l.values[d].y*e,l.values[m].x*e,l.values[m].y*e,l.values[v].x*e,l.values[v].y*e);break;case Su.quadratic:n.quadraticCurveTo(l.values[d].x*e,l.values[d].y*e,l.values[m].x*e,l.values[m].y*e);break;case Su.arc:n.arc(u.x*e,u.y*e,l.values[d].x*e,l.values[m].x,l.values[m].y);break;case Su.ellipse:n.ellipse(u.x*e,u.y*e,l.values[d].x*e,l.values[d].y*e,l.values[m].x,l.values[v].x,l.values[v].y)}}if(!t.half)return;const a=1,o=0;for(let l=t.segments.length-a;l>=o;l--){const u=t.segments[l],d=u.values[0],m=1,v=2;switch(u.type){case Su.line:n.lineTo(d.x*-e,d.y*e);break;case Su.bezier:n.bezierCurveTo(-u.values[v].x*e,u.values[v].y*e,-u.values[m].x*e,u.values[m].y*e,d.x*e,d.y*e);break;case Su.quadratic:n.quadraticCurveTo(-u.values[m].x*e,u.values[m].y*e,-u.values[v].x*e,u.values[v].y*e);break;case Su.arc:case Su.ellipse:}}}class dJ{constructor(){this.validTypes=["path"]}draw(e){const{context:t,particle:i,radius:r}=e;i.pathData&&hJ(t,r,i.pathData)}particleInit(e,t){const i=t.shapeData;i&&(t.pathData=Rr({},i))}}async function pJ(n,e=!0){n.checkVersion("3.9.1"),await n.addShape(new dJ,e)}class Mr{constructor(e,t,i,r){this.x=e,this.y=t,this.z=i,this.w=r}dot2(e,t){return this.x*e+this.y*t}dot3(e,t,i){return this.dot2(e,t)+this.z*i}dot4(e,t,i,r){return this.dot3(e,t,i)+this.w*r}}class mJ{constructor(){this._grad4=[new Mr(0,1,1,1),new Mr(0,1,1,-1),new Mr(0,1,-1,1),new Mr(0,1,-1,-1),new Mr(0,-1,1,1),new Mr(0,-1,1,-1),new Mr(0,-1,-1,1),new Mr(0,-1,-1,-1),new Mr(1,0,1,1),new Mr(1,0,1,-1),new Mr(1,0,-1,1),new Mr(1,0,-1,-1),new Mr(-1,0,1,1),new Mr(-1,0,1,-1),new Mr(-1,0,-1,1),new Mr(-1,0,-1,-1),new Mr(1,1,0,1),new Mr(1,1,0,-1),new Mr(1,-1,0,1),new Mr(1,-1,0,-1),new Mr(-1,1,0,1),new Mr(-1,1,0,-1),new Mr(-1,-1,0,1),new Mr(-1,-1,0,-1),new Mr(1,1,1,0),new Mr(1,1,-1,0),new Mr(1,-1,1,0),new Mr(1,-1,-1,0),new Mr(-1,1,1,0),new Mr(-1,1,-1,0),new Mr(-1,-1,1,0),new Mr(-1,-1,-1,0)],this._p=[151,160,137,91,90,15,131,13,201,95,96,53,194,233,7,225,140,36,103,30,69,142,8,99,37,240,21,10,23,190,6,148,247,120,234,75,0,26,197,62,94,252,219,203,117,35,11,32,57,177,33,88,237,149,56,87,174,20,125,136,171,168,68,175,74,165,71,134,139,48,27,166,77,146,158,231,83,111,229,122,60,211,133,230,220,105,92,41,55,46,245,40,244,102,143,54,65,25,63,161,1,216,80,73,209,76,132,187,208,89,18,169,200,196,135,130,116,188,159,86,164,100,109,198,173,186,3,64,52,217,226,250,124,123,5,202,38,147,118,126,255,82,85,212,207,206,59,227,47,16,58,17,182,189,28,42,223,183,170,213,119,248,152,2,44,154,163,70,221,153,101,155,167,43,172,9,129,22,39,253,19,98,108,110,79,113,224,232,178,185,112,104,218,246,97,228,251,34,242,193,238,210,144,12,191,179,162,241,81,51,145,235,249,14,239,107,49,192,214,31,181,199,106,157,184,84,204,176,115,121,50,45,127,4,150,254,138,236,205,93,222,114,67,29,24,72,243,141,128,195,78,66,215,61,156,180],this._gradP=new Array(512),this._perm=new Array(512)}noise2d(e,t){const{_gradP:i,_perm:r}=this;let s=Math.floor(e),a=Math.floor(t);e-=s,t-=a,s&=255,a&=255;const o=i[s+r[a]].dot2(e,t),l=i[s+r[a+1]].dot2(e,t-1),u=i[s+1+r[a]].dot2(e-1,t),d=i[s+1+r[a+1]].dot2(e-1,t-1),m=this._fade(e);return this._lerp(this._lerp(o,u,m),this._lerp(l,d,m),this._fade(t))}noise3d(e,t,i){const{_gradP:r,_perm:s}=this;let a=Math.floor(e),o=Math.floor(t),l=Math.floor(i);e=e-a,t=t-o,i=i-l,a=a&255,o=o&255,l=l&255;const u=r[a+s[o+s[l]]].dot3(e,t,i),d=r[a+s[o+s[l+1]]].dot3(e,t,i-1),m=r[a+s[o+1+s[l]]].dot3(e,t-1,i),v=r[a+s[o+1+s[l+1]]].dot3(e,t-1,i-1),y=r[a+1+s[o+s[l]]].dot3(e-1,t,i),x=r[a+1+s[o+s[l+1]]].dot3(e-1,t,i-1),T=r[a+1+s[o+1+s[l]]].dot3(e-1,t-1,i),E=r[a+1+s[o+1+s[l+1]]].dot3(e-1,t-1,i-1),w=this._fade(e),P=this._fade(t),D=this._fade(i);return this._lerp(this._lerp(this._lerp(u,y,w),this._lerp(d,x,w),D),this._lerp(this._lerp(m,T,w),this._lerp(v,E,w),D),P)}noise4d(e,t,i,r){const{_gradP:s,_perm:a}=this;let o=Math.floor(e),l=Math.floor(t),u=Math.floor(i),d=Math.floor(r);e-=o,t-=l,i-=u,r-=d,o&=255,l&=255,u&=255,d&=255;const m=this._fade(e),v=this._fade(t),y=this._fade(i),x=this._fade(r),T=(Vt,zn,An,dn)=>s[o+Vt+a[l+zn+a[u+An+a[d+dn]]]],E=T(0,0,0,0).dot4(e,t,i,r),w=T(0,0,0,1).dot4(e,t,i,r-1),P=T(0,0,1,0).dot4(e,t,i-1,r),D=T(0,0,1,1).dot4(e,t,i-1,r-1),N=T(0,1,0,0).dot4(e,t-1,i,r),G=T(0,1,0,1).dot4(e,t-1,i,r-1),k=T(0,1,1,0).dot4(e,t-1,i-1,r),M=T(0,1,1,1).dot4(e,t-1,i-1,r-1),$=T(1,0,0,0).dot4(e-1,t,i,r),V=T(1,0,0,1).dot4(e-1,t,i,r-1),H=T(1,0,1,0).dot4(e-1,t,i-1,r),ee=T(1,0,1,1).dot4(e-1,t,i-1,r-1),pe=T(1,1,0,0).dot4(e-1,t-1,i,r),ae=T(1,1,0,1).dot4(e-1,t-1,i,r-1),ye=T(1,1,1,0).dot4(e-1,t-1,i-1,r),Te=T(1,1,1,1).dot4(e-1,t-1,i-1,r-1),J=this._lerp(E,$,m),de=this._lerp(w,V,m),he=this._lerp(P,H,m),Le=this._lerp(D,ee,m),ne=this._lerp(J,he,y),re=this._lerp(de,Le,y),ze=this._lerp(N,pe,m),Ve=this._lerp(G,ae,m),xe=this._lerp(k,ye,m),$e=this._lerp(M,Te,m),Ze=this._lerp(ze,xe,y),gt=this._lerp(Ve,$e,y),yt=this._lerp(ne,Ze,v),vt=this._lerp(re,gt,v);return this._lerp(yt,vt,x)}seed(e){const{_grad4:t,_gradP:i,_perm:r,_p:s}=this;let a=e;a>0&&a<1&&(a*=65536),a=Math.floor(a),a<256&&(a|=a<<8);const o=t.length;for(let l=0;l<256;l++){const u=l&1?s[l]^a&255:s[l]^a>>8&255;r[l]=r[l+256]=u,i[l]=i[l+256]=t[u%o]}}_fade(e){return e*e*e*(e*(e*6-15)+10)}_lerp(e,t,i){return(1-i)*e+i*t}}const gJ=2,vJ=Math.PI*gJ,hp={draw:!1,size:20,increment:.004,columns:0,rows:0,layers:0,width:0,height:0,factor:{angle:.02,length:.01},offset:{x:4e4,y:4e4,z:4e4}};class yJ{constructor(){this.noiseGen=new mJ,this.field=[],this.noiseW=0,this.options=Rr({},hp)}generate(e){const t=e.getPosition(),{size:i}=this.options,r={x:Math.max(Math.floor(t.x/i),0),y:Math.max(Math.floor(t.y/i),0),z:Math.max(Math.floor(t.z/i),0)},s=nr.origin,{field:a}=this;return a?.[r.x]?.[r.y]?.[r.z]?a[r.x][r.y][r.z].copy():s}init(e){this.container=e,this._setup()}reset(){}update(){this.container&&(this._calculateField(),this.noiseW+=this.options.increment,this.options.draw&&this.container.canvas.draw(e=>this._drawField(e)))}_calculateField(){const{field:e,noiseGen:t,options:i,noiseW:r}=this,s=i.factor.length,a=i.factor.angle;for(let o=0;o<i.columns;o++)for(let l=0;l<i.rows;l++)for(let u=0;u<i.layers;u++){const d=e[o][l][u];d.length=t.noise4d(o*s+i.offset.x,l*s+i.offset.y,u*s+i.offset.z,r),d.angle=t.noise4d(o*a,l*a,u*a,r)*vJ}}_drawField(e){const{field:t,options:i}=this;for(let r=0;r<i.columns;r++){const s=t[r];for(let a=0;a<i.rows;a++){const o=s[a][0],{angle:l,length:u}=o;e.setTransform(1,0,0,1,r*this.options.size,a*this.options.size),e.rotate(l),e.strokeStyle="white",e.beginPath(),e.moveTo(0,0),e.lineTo(0,this.options.size*u),e.stroke(),e.setTransform(1,0,0,1,0,0)}}}_initField(){const{columns:e,rows:t,layers:i}=this.options;this.field=new Array(e);for(let r=0;r<e;r++){this.field[r]=new Array(t);for(let s=0;s<t;s++){this.field[r][s]=new Array(i);for(let a=0;a<i;a++)this.field[r][s][a]=nr.origin}}}_resetField(){const e=this.container;if(!e)return;const t=e.actualOptions.particles.move.path.options,{options:i}=this;i.width=e.canvas.size.width,i.height=e.canvas.size.height,i.size=t.size>0?t.size:hp.size,i.increment=t.increment>0?t.increment:hp.increment,i.draw=!!t.draw;const r=t.offset;i.offset.x=r?.x??hp.offset.x,i.offset.y=r?.y??hp.offset.y,i.offset.z=r?.z??hp.offset.z;const s=t.factor;i.factor.angle=s?.angle??hp.factor.angle,i.factor.length=s?.length??hp.factor.length,i.seed=t.seed,this.noiseGen.seed(i.seed??mn()),i.columns=Math.floor(i.width/i.size)+1,i.rows=Math.floor(i.height/i.size)+1,i.layers=Math.floor(e.zLayers/i.size)+1,this._initField()}_setup(){this.noiseW=0,this._resetField(),addEventListener("resize",()=>this._resetField())}}const _J="perlinNoise";async function bJ(n,e=!0){n.checkVersion("3.9.1"),await n.addPathGenerator(_J,new yJ,e)}class xJ{constructor(){this.enable=!1,this.dimensions=2,this.radius=0,this.retries=30,this.steps=0}load(e){ot(e)||(e.enable!==void 0&&(this.enable=e.enable),e.dimensions!==void 0&&(this.dimensions=e.dimensions),e.radius!==void 0&&(this.radius=e.radius),e.retries!==void 0&&(this.retries=e.retries))}}const PI=2,SJ=Math.PI*PI;class wJ{constructor(e,t,i,r,s){this.size={...e},this.radius=t,this.retries=i,this.dimensions=r,this.cellSize=Math.floor(this.radius/Math.sqrt(this.dimensions)),this.cols=Math.floor(this.size.width/this.cellSize),this.rows=Math.floor(this.size.height/this.cellSize),this.points=[],this.active=[],this.grid=[],this.firstPoint=s?{...s}:void 0,this.reset()}addPoint(e){const t={position:{...e},gridPosition:{x:Math.floor(e.x/this.cellSize),y:Math.floor(e.y/this.cellSize)}},i=this.points.length;this.points.push(t),this.grid[t.gridPosition.y][t.gridPosition.x]=i,this.active.push(i)}getRandom(e,t){return Math.floor(mn()*(t-e))+e}initialiseGrid(){for(let e=0;e<=this.rows;e++){this.grid[e]=[];for(let t=0;t<=this.cols;t++)this.grid[e][t]=-1}}reset(){this.points=[],this.active=[],this.grid=[],this.initialiseGrid(),this.firstPoint?this.addPoint(this.firstPoint):this.addPoint({x:this.getRandom(0,this.size.width),y:this.getRandom(0,this.size.height)})}async run(){this.reset();const e=0,t=1;for(;this.active.length>e;)await this.steps(t)}async steps(e){for(let i=0;i<e;i++)this.active.length<=0||await this._step()}_getNewPoint(e,t){const a=t*(SJ/this.retries),o=this.getRandom(this.radius,this.radius*PI),l={x:Math.cos(a)*o,y:Math.sin(a)*o},u={x:Math.floor(e.position.x+l.x),y:Math.floor(e.position.y+l.y)},d={x:Math.floor(u.x/this.cellSize),y:Math.floor(u.y/this.cellSize)};if(u.x>0&&u.x<this.size.width&&u.y>0&&u.y<this.size.height)if(this.grid[d.y][d.x]<0)for(let m=-1;m<=1;m++)for(let v=-1;v<=1;v++){const y={x:d.x+v,y:d.y+m};if(y.x>=0&&y.y>=0&&y.x<this.cols&&y.y<this.rows&&(y.x!==d.x||y.y!==d.y)&&this.grid[y.y][y.x]>=0){const x=this.grid[y.y][y.x],T=this.points[x];if(Ro(u,T.position)<this.radius)return}}else return;else return;return u}async _step(){const t=this.getRandom(0,this.active.length);return new Promise(i=>{let r=!1;for(let s=0;s<this.retries;s++){const a=this._getNewPoint(this.points[this.active[t]],s);if(a){r=!0,this.addPoint(a);break}}r||this.active.splice(t,1),i()})}}class EJ{constructor(e,t){this._container=e,this._engine=t,this._currentIndex=0}async init(){await this._initData()}particlePosition(e){const t=this._container,i=t.actualOptions.poisson;if(!(!this.poissonDisc||!(i?.enable??!1)||this._currentIndex>=this.poissonDisc.points.length))return e??this.poissonDisc?.points[this._currentIndex++]?.position}resize(){const e=this._container;if(!(e.actualOptions.poisson?.enable??!1))return;this.redrawTimeout&&clearTimeout(this.redrawTimeout);const i=250;this.redrawTimeout=setTimeout(()=>{(async()=>(await this._initData(),await e.particles.redraw()))()},i)}stop(){delete this.poissonDisc}async _initData(){const e=this._container,t=e.actualOptions.poisson,i=e.actualOptions.particles,r=e.canvas.size,s=e.retina.pixelRatio;if(!t?.enable)return;this._currentIndex=0,this.poissonDisc=new wJ(r,t.radius?t.radius*s:Math.max(Bc(i.size.value)*s,Math.sqrt(r.width*r.height/i.number.value)),t.retries,t.dimensions),t.steps>0?await this.poissonDisc.steps(t.steps):await this.poissonDisc.run()}}class TJ{constructor(e){this.id="poisson",this._engine=e}getPlugin(e){return Promise.resolve(new EJ(e,this._engine))}loadOptions(e,t){if(!this.needsPlugin(e)&&!this.needsPlugin(t))return;let i=e.poisson;i?.load===void 0&&(e.poisson=i=new xJ),i.load(t?.poisson)}needsPlugin(e){return e?.poisson?.enable??!1}}async function MJ(n,e=!0){n.checkVersion("3.9.1"),await n.addPlugin(new TJ(n),e)}(function(){try{if(typeof window>"u")return;"SVGPathSeg"in window||(window.SVGPathSeg=function(n,e,t){this.pathSegType=n,this.pathSegTypeAsLetter=e,this._owningPathSegList=t},window.SVGPathSeg.prototype.classname="SVGPathSeg",window.SVGPathSeg.PATHSEG_UNKNOWN=0,window.SVGPathSeg.PATHSEG_CLOSEPATH=1,window.SVGPathSeg.PATHSEG_MOVETO_ABS=2,window.SVGPathSeg.PATHSEG_MOVETO_REL=3,window.SVGPathSeg.PATHSEG_LINETO_ABS=4,window.SVGPathSeg.PATHSEG_LINETO_REL=5,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS=6,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL=7,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS=8,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL=9,window.SVGPathSeg.PATHSEG_ARC_ABS=10,window.SVGPathSeg.PATHSEG_ARC_REL=11,window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS=12,window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL=13,window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS=14,window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL=15,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS=16,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL=17,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS=18,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL=19,window.SVGPathSeg.prototype._segmentChanged=function(){this._owningPathSegList&&this._owningPathSegList.segmentChanged(this)},window.SVGPathSegClosePath=function(n){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CLOSEPATH,"z",n)},window.SVGPathSegClosePath.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegClosePath.prototype.toString=function(){return"[object SVGPathSegClosePath]"},window.SVGPathSegClosePath.prototype._asPathString=function(){return this.pathSegTypeAsLetter},window.SVGPathSegClosePath.prototype.clone=function(){return new window.SVGPathSegClosePath(void 0)},window.SVGPathSegMovetoAbs=function(n,e,t){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_MOVETO_ABS,"M",n),this._x=e,this._y=t},window.SVGPathSegMovetoAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegMovetoAbs.prototype.toString=function(){return"[object SVGPathSegMovetoAbs]"},window.SVGPathSegMovetoAbs.prototype._asPathString=function(){return`${this.pathSegTypeAsLetter} ${this._x} ${this._y}`},window.SVGPathSegMovetoAbs.prototype.clone=function(){return new window.SVGPathSegMovetoAbs(void 0,this._x,this._y)},Object.defineProperty(window.SVGPathSegMovetoAbs.prototype,"x",{get:function(){return this._x},set:function(n){this._x=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegMovetoAbs.prototype,"y",{get:function(){return this._y},set:function(n){this._y=n,this._segmentChanged()},enumerable:!0}),window.SVGPathSegMovetoRel=function(n,e,t){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_MOVETO_REL,"m",n),this._x=e,this._y=t},window.SVGPathSegMovetoRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegMovetoRel.prototype.toString=function(){return"[object SVGPathSegMovetoRel]"},window.SVGPathSegMovetoRel.prototype._asPathString=function(){return`${this.pathSegTypeAsLetter} ${this._x} ${this._y}`},window.SVGPathSegMovetoRel.prototype.clone=function(){return new window.SVGPathSegMovetoRel(void 0,this._x,this._y)},Object.defineProperty(window.SVGPathSegMovetoRel.prototype,"x",{get:function(){return this._x},set:function(n){this._x=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegMovetoRel.prototype,"y",{get:function(){return this._y},set:function(n){this._y=n,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoAbs=function(n,e,t){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_LINETO_ABS,"L",n),this._x=e,this._y=t},window.SVGPathSegLinetoAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegLinetoAbs.prototype.toString=function(){return"[object SVGPathSegLinetoAbs]"},window.SVGPathSegLinetoAbs.prototype._asPathString=function(){return`${this.pathSegTypeAsLetter} ${this._x} ${this._y}`},window.SVGPathSegLinetoAbs.prototype.clone=function(){return new window.SVGPathSegLinetoAbs(void 0,this._x,this._y)},Object.defineProperty(window.SVGPathSegLinetoAbs.prototype,"x",{get:function(){return this._x},set:function(n){this._x=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegLinetoAbs.prototype,"y",{get:function(){return this._y},set:function(n){this._y=n,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoRel=function(n,e,t){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_LINETO_REL,"l",n),this._x=e,this._y=t},window.SVGPathSegLinetoRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegLinetoRel.prototype.toString=function(){return"[object SVGPathSegLinetoRel]"},window.SVGPathSegLinetoRel.prototype._asPathString=function(){return`${this.pathSegTypeAsLetter} ${this._x} ${this._y}`},window.SVGPathSegLinetoRel.prototype.clone=function(){return new window.SVGPathSegLinetoRel(void 0,this._x,this._y)},Object.defineProperty(window.SVGPathSegLinetoRel.prototype,"x",{get:function(){return this._x},set:function(n){this._x=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegLinetoRel.prototype,"y",{get:function(){return this._y},set:function(n){this._y=n,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoCubicAbs=function(n,e,t,i,r,s,a){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS,"C",n),this._x=e,this._y=t,this._x1=i,this._y1=r,this._x2=s,this._y2=a},window.SVGPathSegCurvetoCubicAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoCubicAbs.prototype.toString=function(){return"[object SVGPathSegCurvetoCubicAbs]"},window.SVGPathSegCurvetoCubicAbs.prototype._asPathString=function(){return`${this.pathSegTypeAsLetter}  ${this._x1} ${this._y1} ${this._x2} ${this._y2} ${this._x} ${this._y}`},window.SVGPathSegCurvetoCubicAbs.prototype.clone=function(){return new window.SVGPathSegCurvetoCubicAbs(void 0,this._x,this._y,this._x1,this._y1,this._x2,this._y2)},Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype,"x",{get:function(){return this._x},set:function(n){this._x=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype,"y",{get:function(){return this._y},set:function(n){this._y=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype,"x1",{get:function(){return this._x1},set:function(n){this._x1=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype,"y1",{get:function(){return this._y1},set:function(n){this._y1=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype,"x2",{get:function(){return this._x2},set:function(n){this._x2=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype,"y2",{get:function(){return this._y2},set:function(n){this._y2=n,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoCubicRel=function(n,e,t,i,r,s,a){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL,"c",n),this._x=e,this._y=t,this._x1=i,this._y1=r,this._x2=s,this._y2=a},window.SVGPathSegCurvetoCubicRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoCubicRel.prototype.toString=function(){return"[object SVGPathSegCurvetoCubicRel]"},window.SVGPathSegCurvetoCubicRel.prototype._asPathString=function(){return`${this.pathSegTypeAsLetter} ${this._x1} ${this._y1} ${this._x2} ${this._y2} ${this._x} ${this._y}`},window.SVGPathSegCurvetoCubicRel.prototype.clone=function(){return new window.SVGPathSegCurvetoCubicRel(void 0,this._x,this._y,this._x1,this._y1,this._x2,this._y2)},Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype,"x",{get:function(){return this._x},set:function(n){this._x=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype,"y",{get:function(){return this._y},set:function(n){this._y=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype,"x1",{get:function(){return this._x1},set:function(n){this._x1=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype,"y1",{get:function(){return this._y1},set:function(n){this._y1=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype,"x2",{get:function(){return this._x2},set:function(n){this._x2=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype,"y2",{get:function(){return this._y2},set:function(n){this._y2=n,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoQuadraticAbs=function(n,e,t,i,r){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS,"Q",n),this._x=e,this._y=t,this._x1=i,this._y1=r},window.SVGPathSegCurvetoQuadraticAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoQuadraticAbs.prototype.toString=function(){return"[object SVGPathSegCurvetoQuadraticAbs]"},window.SVGPathSegCurvetoQuadraticAbs.prototype._asPathString=function(){return`${this.pathSegTypeAsLetter} ${this._x1} ${this._y1} ${this._x} ${this._y}`},window.SVGPathSegCurvetoQuadraticAbs.prototype.clone=function(){return new window.SVGPathSegCurvetoQuadraticAbs(void 0,this._x,this._y,this._x1,this._y1)},Object.defineProperty(window.SVGPathSegCurvetoQuadraticAbs.prototype,"x",{get:function(){return this._x},set:function(n){this._x=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticAbs.prototype,"y",{get:function(){return this._y},set:function(n){this._y=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticAbs.prototype,"x1",{get:function(){return this._x1},set:function(n){this._x1=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticAbs.prototype,"y1",{get:function(){return this._y1},set:function(n){this._y1=n,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoQuadraticRel=function(n,e,t,i,r){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL,"q",n),this._x=e,this._y=t,this._x1=i,this._y1=r},window.SVGPathSegCurvetoQuadraticRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoQuadraticRel.prototype.toString=function(){return"[object SVGPathSegCurvetoQuadraticRel]"},window.SVGPathSegCurvetoQuadraticRel.prototype._asPathString=function(){return`${this.pathSegTypeAsLetter} ${this._x1} ${this._y1} ${this._x} ${this._y}`},window.SVGPathSegCurvetoQuadraticRel.prototype.clone=function(){return new window.SVGPathSegCurvetoQuadraticRel(void 0,this._x,this._y,this._x1,this._y1)},Object.defineProperty(window.SVGPathSegCurvetoQuadraticRel.prototype,"x",{get:function(){return this._x},set:function(n){this._x=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticRel.prototype,"y",{get:function(){return this._y},set:function(n){this._y=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticRel.prototype,"x1",{get:function(){return this._x1},set:function(n){this._x1=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticRel.prototype,"y1",{get:function(){return this._y1},set:function(n){this._y1=n,this._segmentChanged()},enumerable:!0}),window.SVGPathSegArcAbs=function(n,e,t,i,r,s,a,o){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_ARC_ABS,"A",n),this._x=e,this._y=t,this._r1=i,this._r2=r,this._angle=s,this._largeArcFlag=a,this._sweepFlag=o},window.SVGPathSegArcAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegArcAbs.prototype.toString=function(){return"[object SVGPathSegArcAbs]"},window.SVGPathSegArcAbs.prototype._asPathString=function(){return`${this.pathSegTypeAsLetter} ${this._r1} ${this._r2} ${this._angle} ${this._largeArcFlag?"1":"0"} ${this._sweepFlag?"1":"0"} ${this._x} ${this._y}`},window.SVGPathSegArcAbs.prototype.clone=function(){return new window.SVGPathSegArcAbs(void 0,this._x,this._y,this._r1,this._r2,this._angle,this._largeArcFlag,this._sweepFlag)},Object.defineProperty(window.SVGPathSegArcAbs.prototype,"x",{get:function(){return this._x},set:function(n){this._x=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcAbs.prototype,"y",{get:function(){return this._y},set:function(n){this._y=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcAbs.prototype,"r1",{get:function(){return this._r1},set:function(n){this._r1=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcAbs.prototype,"r2",{get:function(){return this._r2},set:function(n){this._r2=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcAbs.prototype,"angle",{get:function(){return this._angle},set:function(n){this._angle=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcAbs.prototype,"largeArcFlag",{get:function(){return this._largeArcFlag},set:function(n){this._largeArcFlag=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcAbs.prototype,"sweepFlag",{get:function(){return this._sweepFlag},set:function(n){this._sweepFlag=n,this._segmentChanged()},enumerable:!0}),window.SVGPathSegArcRel=function(n,e,t,i,r,s,a,o){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_ARC_REL,"a",n),this._x=e,this._y=t,this._r1=i,this._r2=r,this._angle=s,this._largeArcFlag=a,this._sweepFlag=o},window.SVGPathSegArcRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegArcRel.prototype.toString=function(){return"[object SVGPathSegArcRel]"},window.SVGPathSegArcRel.prototype._asPathString=function(){return`${this.pathSegTypeAsLetter} ${this._r1} ${this._r2} ${this._angle} ${this._largeArcFlag?"1":"0"} ${this._sweepFlag?"1":"0"} ${this._x} ${this._y}`},window.SVGPathSegArcRel.prototype.clone=function(){return new window.SVGPathSegArcRel(void 0,this._x,this._y,this._r1,this._r2,this._angle,this._largeArcFlag,this._sweepFlag)},Object.defineProperty(window.SVGPathSegArcRel.prototype,"x",{get:function(){return this._x},set:function(n){this._x=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcRel.prototype,"y",{get:function(){return this._y},set:function(n){this._y=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcRel.prototype,"r1",{get:function(){return this._r1},set:function(n){this._r1=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcRel.prototype,"r2",{get:function(){return this._r2},set:function(n){this._r2=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcRel.prototype,"angle",{get:function(){return this._angle},set:function(n){this._angle=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcRel.prototype,"largeArcFlag",{get:function(){return this._largeArcFlag},set:function(n){this._largeArcFlag=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcRel.prototype,"sweepFlag",{get:function(){return this._sweepFlag},set:function(n){this._sweepFlag=n,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoHorizontalAbs=function(n,e){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS,"H",n),this._x=e},window.SVGPathSegLinetoHorizontalAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegLinetoHorizontalAbs.prototype.toString=function(){return"[object SVGPathSegLinetoHorizontalAbs]"},window.SVGPathSegLinetoHorizontalAbs.prototype._asPathString=function(){return`${this.pathSegTypeAsLetter} ${this._x}`},window.SVGPathSegLinetoHorizontalAbs.prototype.clone=function(){return new window.SVGPathSegLinetoHorizontalAbs(void 0,this._x)},Object.defineProperty(window.SVGPathSegLinetoHorizontalAbs.prototype,"x",{get:function(){return this._x},set:function(n){this._x=n,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoHorizontalRel=function(n,e){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL,"h",n),this._x=e},window.SVGPathSegLinetoHorizontalRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegLinetoHorizontalRel.prototype.toString=function(){return"[object SVGPathSegLinetoHorizontalRel]"},window.SVGPathSegLinetoHorizontalRel.prototype._asPathString=function(){return`${this.pathSegTypeAsLetter} ${this._x}`},window.SVGPathSegLinetoHorizontalRel.prototype.clone=function(){return new window.SVGPathSegLinetoHorizontalRel(void 0,this._x)},Object.defineProperty(window.SVGPathSegLinetoHorizontalRel.prototype,"x",{get:function(){return this._x},set:function(n){this._x=n,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoVerticalAbs=function(n,e){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS,"V",n),this._y=e},window.SVGPathSegLinetoVerticalAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegLinetoVerticalAbs.prototype.toString=function(){return"[object SVGPathSegLinetoVerticalAbs]"},window.SVGPathSegLinetoVerticalAbs.prototype._asPathString=function(){return`${this.pathSegTypeAsLetter} ${this._y}`},window.SVGPathSegLinetoVerticalAbs.prototype.clone=function(){return new window.SVGPathSegLinetoVerticalAbs(void 0,this._y)},Object.defineProperty(window.SVGPathSegLinetoVerticalAbs.prototype,"y",{get:function(){return this._y},set:function(n){this._y=n,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoVerticalRel=function(n,e){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL,"v",n),this._y=e},window.SVGPathSegLinetoVerticalRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegLinetoVerticalRel.prototype.toString=function(){return"[object SVGPathSegLinetoVerticalRel]"},window.SVGPathSegLinetoVerticalRel.prototype._asPathString=function(){return`${this.pathSegTypeAsLetter} ${this._y}`},window.SVGPathSegLinetoVerticalRel.prototype.clone=function(){return new window.SVGPathSegLinetoVerticalRel(void 0,this._y)},Object.defineProperty(window.SVGPathSegLinetoVerticalRel.prototype,"y",{get:function(){return this._y},set:function(n){this._y=n,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoCubicSmoothAbs=function(n,e,t,i,r){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS,"S",n),this._x=e,this._y=t,this._x2=i,this._y2=r},window.SVGPathSegCurvetoCubicSmoothAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoCubicSmoothAbs.prototype.toString=function(){return"[object SVGPathSegCurvetoCubicSmoothAbs]"},window.SVGPathSegCurvetoCubicSmoothAbs.prototype._asPathString=function(){return`${this.pathSegTypeAsLetter} ${this._x2} ${this._y2} ${this._x} ${this._y}`},window.SVGPathSegCurvetoCubicSmoothAbs.prototype.clone=function(){return new window.SVGPathSegCurvetoCubicSmoothAbs(void 0,this._x,this._y,this._x2,this._y2)},Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothAbs.prototype,"x",{get:function(){return this._x},set:function(n){this._x=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothAbs.prototype,"y",{get:function(){return this._y},set:function(n){this._y=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothAbs.prototype,"x2",{get:function(){return this._x2},set:function(n){this._x2=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothAbs.prototype,"y2",{get:function(){return this._y2},set:function(n){this._y2=n,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoCubicSmoothRel=function(n,e,t,i,r){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL,"s",n),this._x=e,this._y=t,this._x2=i,this._y2=r},window.SVGPathSegCurvetoCubicSmoothRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoCubicSmoothRel.prototype.toString=function(){return"[object SVGPathSegCurvetoCubicSmoothRel]"},window.SVGPathSegCurvetoCubicSmoothRel.prototype._asPathString=function(){return`${this.pathSegTypeAsLetter} ${this._x2} ${this._y2} ${this._x} ${this._y}`},window.SVGPathSegCurvetoCubicSmoothRel.prototype.clone=function(){return new window.SVGPathSegCurvetoCubicSmoothRel(void 0,this._x,this._y,this._x2,this._y2)},Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothRel.prototype,"x",{get:function(){return this._x},set:function(n){this._x=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothRel.prototype,"y",{get:function(){return this._y},set:function(n){this._y=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothRel.prototype,"x2",{get:function(){return this._x2},set:function(n){this._x2=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothRel.prototype,"y2",{get:function(){return this._y2},set:function(n){this._y2=n,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoQuadraticSmoothAbs=function(n,e,t){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS,"T",n),this._x=e,this._y=t},window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype.toString=function(){return"[object SVGPathSegCurvetoQuadraticSmoothAbs]"},window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype._asPathString=function(){return`${this.pathSegTypeAsLetter} ${this._x} ${this._y}`},window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype.clone=function(){return new window.SVGPathSegCurvetoQuadraticSmoothAbs(void 0,this._x,this._y)},Object.defineProperty(window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype,"x",{get:function(){return this._x},set:function(n){this._x=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype,"y",{get:function(){return this._y},set:function(n){this._y=n,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoQuadraticSmoothRel=function(n,e,t){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL,"t",n),this._x=e,this._y=t},window.SVGPathSegCurvetoQuadraticSmoothRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoQuadraticSmoothRel.prototype.toString=function(){return"[object SVGPathSegCurvetoQuadraticSmoothRel]"},window.SVGPathSegCurvetoQuadraticSmoothRel.prototype._asPathString=function(){return`${this.pathSegTypeAsLetter} ${this._x} ${this._y}`},window.SVGPathSegCurvetoQuadraticSmoothRel.prototype.clone=function(){return new window.SVGPathSegCurvetoQuadraticSmoothRel(void 0,this._x,this._y)},Object.defineProperty(window.SVGPathSegCurvetoQuadraticSmoothRel.prototype,"x",{get:function(){return this._x},set:function(n){this._x=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticSmoothRel.prototype,"y",{get:function(){return this._y},set:function(n){this._y=n,this._segmentChanged()},enumerable:!0}),window.SVGPathElement.prototype.createSVGPathSegClosePath=function(){return new window.SVGPathSegClosePath(void 0)},window.SVGPathElement.prototype.createSVGPathSegMovetoAbs=function(n,e){return new window.SVGPathSegMovetoAbs(void 0,n,e)},window.SVGPathElement.prototype.createSVGPathSegMovetoRel=function(n,e){return new window.SVGPathSegMovetoRel(void 0,n,e)},window.SVGPathElement.prototype.createSVGPathSegLinetoAbs=function(n,e){return new window.SVGPathSegLinetoAbs(void 0,n,e)},window.SVGPathElement.prototype.createSVGPathSegLinetoRel=function(n,e){return new window.SVGPathSegLinetoRel(void 0,n,e)},window.SVGPathElement.prototype.createSVGPathSegCurvetoCubicAbs=function(n,e,t,i,r,s){return new window.SVGPathSegCurvetoCubicAbs(void 0,n,e,t,i,r,s)},window.SVGPathElement.prototype.createSVGPathSegCurvetoCubicRel=function(n,e,t,i,r,s){return new window.SVGPathSegCurvetoCubicRel(void 0,n,e,t,i,r,s)},window.SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticAbs=function(n,e,t,i){return new window.SVGPathSegCurvetoQuadraticAbs(void 0,n,e,t,i)},window.SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticRel=function(n,e,t,i){return new window.SVGPathSegCurvetoQuadraticRel(void 0,n,e,t,i)},window.SVGPathElement.prototype.createSVGPathSegArcAbs=function(n,e,t,i,r,s,a){return new window.SVGPathSegArcAbs(void 0,n,e,t,i,r,s,a)},window.SVGPathElement.prototype.createSVGPathSegArcRel=function(n,e,t,i,r,s,a){return new window.SVGPathSegArcRel(void 0,n,e,t,i,r,s,a)},window.SVGPathElement.prototype.createSVGPathSegLinetoHorizontalAbs=function(n){return new window.SVGPathSegLinetoHorizontalAbs(void 0,n)},window.SVGPathElement.prototype.createSVGPathSegLinetoHorizontalRel=function(n){return new window.SVGPathSegLinetoHorizontalRel(void 0,n)},window.SVGPathElement.prototype.createSVGPathSegLinetoVerticalAbs=function(n){return new window.SVGPathSegLinetoVerticalAbs(void 0,n)},window.SVGPathElement.prototype.createSVGPathSegLinetoVerticalRel=function(n){return new window.SVGPathSegLinetoVerticalRel(void 0,n)},window.SVGPathElement.prototype.createSVGPathSegCurvetoCubicSmoothAbs=function(n,e,t,i){return new window.SVGPathSegCurvetoCubicSmoothAbs(void 0,n,e,t,i)},window.SVGPathElement.prototype.createSVGPathSegCurvetoCubicSmoothRel=function(n,e,t,i){return new window.SVGPathSegCurvetoCubicSmoothRel(void 0,n,e,t,i)},window.SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticSmoothAbs=function(n,e){return new window.SVGPathSegCurvetoQuadraticSmoothAbs(void 0,n,e)},window.SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticSmoothRel=function(n,e){return new window.SVGPathSegCurvetoQuadraticSmoothRel(void 0,n,e)},"getPathSegAtLength"in window.SVGPathElement.prototype||(window.SVGPathElement.prototype.getPathSegAtLength=function(n){if(n===void 0||!isFinite(n))throw"Invalid arguments.";const e=document.createElementNS("http://www.w3.org/2000/svg","path");e.setAttribute("d",this.getAttribute("d"));let t=e.pathSegList.numberOfItems-1;if(t<=0)return 0;do{if(e.pathSegList.removeItem(t),n>e.getTotalLength())break;t--}while(t>0);return t})),(!("SVGPathSegList"in window)||!("appendItem"in window.SVGPathSegList.prototype))&&(window.SVGPathSegList=function(n){this._pathElement=n,this._list=this._parsePath(this._pathElement.getAttribute("d")),this._mutationObserverConfig={attributes:!0,attributeFilter:["d"]},this._pathElementMutationObserver=new MutationObserver(this._updateListFromPathMutations.bind(this)),this._pathElementMutationObserver.observe(this._pathElement,this._mutationObserverConfig)},window.SVGPathSegList.prototype.classname="SVGPathSegList",Object.defineProperty(window.SVGPathSegList.prototype,"numberOfItems",{get:function(){return this._checkPathSynchronizedToList(),this._list.length},enumerable:!0}),Object.defineProperty(window.SVGPathSegList.prototype,"length",{get:function(){return this._checkPathSynchronizedToList(),this._list.length},enumerable:!0}),Object.defineProperty(window.SVGPathElement.prototype,"pathSegList",{get:function(){return this._pathSegList||(this._pathSegList=new window.SVGPathSegList(this)),this._pathSegList},enumerable:!0}),Object.defineProperty(window.SVGPathElement.prototype,"normalizedPathSegList",{get:function(){return this.pathSegList},enumerable:!0}),Object.defineProperty(window.SVGPathElement.prototype,"animatedPathSegList",{get:function(){return this.pathSegList},enumerable:!0}),Object.defineProperty(window.SVGPathElement.prototype,"animatedNormalizedPathSegList",{get:function(){return this.pathSegList},enumerable:!0}),window.SVGPathSegList.prototype._checkPathSynchronizedToList=function(){this._updateListFromPathMutations(this._pathElementMutationObserver.takeRecords())},window.SVGPathSegList.prototype._updateListFromPathMutations=function(n){if(!this._pathElement)return;let e=!1;n.forEach(function(t){t.attributeName=="d"&&(e=!0)}),e&&(this._list=this._parsePath(this._pathElement.getAttribute("d")))},window.SVGPathSegList.prototype._writeListToPath=function(){this._pathElementMutationObserver.disconnect(),this._pathElement.setAttribute("d",window.SVGPathSegList._pathSegArrayAsString(this._list)),this._pathElementMutationObserver.observe(this._pathElement,this._mutationObserverConfig)},window.SVGPathSegList.prototype.segmentChanged=function(){this._writeListToPath()},window.SVGPathSegList.prototype.clear=function(){this._checkPathSynchronizedToList(),this._list.forEach(function(n){n._owningPathSegList=null}),this._list=[],this._writeListToPath()},window.SVGPathSegList.prototype.initialize=function(n){return this._checkPathSynchronizedToList(),this._list=[n],n._owningPathSegList=this,this._writeListToPath(),n},window.SVGPathSegList.prototype._checkValidIndex=function(n){if(isNaN(n)||n<0||n>=this.numberOfItems)throw"INDEX_SIZE_ERR"},window.SVGPathSegList.prototype.getItem=function(n){return this._checkPathSynchronizedToList(),this._checkValidIndex(n),this._list[n]},window.SVGPathSegList.prototype.insertItemBefore=function(n,e){return this._checkPathSynchronizedToList(),e>this.numberOfItems&&(e=this.numberOfItems),n._owningPathSegList&&(n=n.clone()),this._list.splice(e,0,n),n._owningPathSegList=this,this._writeListToPath(),n},window.SVGPathSegList.prototype.replaceItem=function(n,e){return this._checkPathSynchronizedToList(),n._owningPathSegList&&(n=n.clone()),this._checkValidIndex(e),this._list[e]=n,n._owningPathSegList=this,this._writeListToPath(),n},window.SVGPathSegList.prototype.removeItem=function(n){this._checkPathSynchronizedToList(),this._checkValidIndex(n);const e=this._list[n];return this._list.splice(n,1),this._writeListToPath(),e},window.SVGPathSegList.prototype.appendItem=function(n){return this._checkPathSynchronizedToList(),n._owningPathSegList&&(n=n.clone()),this._list.push(n),n._owningPathSegList=this,this._writeListToPath(),n},window.SVGPathSegList._pathSegArrayAsString=function(n){let e="",t=!0;return n.forEach(function(i){t?(t=!1,e+=i._asPathString()):e+=` ${i._asPathString()}`}),e},window.SVGPathSegList.prototype._parsePath=function(n){if(!n||!n.length)return[];const e=this,t=function(){this.pathSegList=[]};t.prototype.appendSegment=function(a){this.pathSegList.push(a)};const i=function(a){this._string=a,this._currentIndex=0,this._endIndex=this._string.length,this._previousCommand=window.SVGPathSeg.PATHSEG_UNKNOWN,this._skipOptionalSpaces()};i.prototype._isCurrentSpace=function(){const a=this._string[this._currentIndex];return a<=" "&&(a==" "||a==`
`||a=="	"||a=="\r"||a=="\f")},i.prototype._skipOptionalSpaces=function(){for(;this._currentIndex<this._endIndex&&this._isCurrentSpace();)this._currentIndex++;return this._currentIndex<this._endIndex},i.prototype._skipOptionalSpacesOrDelimiter=function(){return this._currentIndex<this._endIndex&&!this._isCurrentSpace()&&this._string.charAt(this._currentIndex)!=","?!1:(this._skipOptionalSpaces()&&this._currentIndex<this._endIndex&&this._string.charAt(this._currentIndex)==","&&(this._currentIndex++,this._skipOptionalSpaces()),this._currentIndex<this._endIndex)},i.prototype.hasMoreData=function(){return this._currentIndex<this._endIndex},i.prototype.peekSegmentType=function(){const a=this._string[this._currentIndex];return this._pathSegTypeFromChar(a)},i.prototype._pathSegTypeFromChar=function(a){switch(a){case"Z":case"z":return window.SVGPathSeg.PATHSEG_CLOSEPATH;case"M":return window.SVGPathSeg.PATHSEG_MOVETO_ABS;case"m":return window.SVGPathSeg.PATHSEG_MOVETO_REL;case"L":return window.SVGPathSeg.PATHSEG_LINETO_ABS;case"l":return window.SVGPathSeg.PATHSEG_LINETO_REL;case"C":return window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS;case"c":return window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL;case"Q":return window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS;case"q":return window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL;case"A":return window.SVGPathSeg.PATHSEG_ARC_ABS;case"a":return window.SVGPathSeg.PATHSEG_ARC_REL;case"H":return window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS;case"h":return window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL;case"V":return window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS;case"v":return window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL;case"S":return window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS;case"s":return window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL;case"T":return window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS;case"t":return window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL;default:return window.SVGPathSeg.PATHSEG_UNKNOWN}},i.prototype._nextCommandHelper=function(a,o){return(a=="+"||a=="-"||a=="."||a>="0"&&a<="9")&&o!=window.SVGPathSeg.PATHSEG_CLOSEPATH?o==window.SVGPathSeg.PATHSEG_MOVETO_ABS?window.SVGPathSeg.PATHSEG_LINETO_ABS:o==window.SVGPathSeg.PATHSEG_MOVETO_REL?window.SVGPathSeg.PATHSEG_LINETO_REL:o:window.SVGPathSeg.PATHSEG_UNKNOWN},i.prototype.initialCommandIsMoveTo=function(){if(!this.hasMoreData())return!0;const a=this.peekSegmentType();return a==window.SVGPathSeg.PATHSEG_MOVETO_ABS||a==window.SVGPathSeg.PATHSEG_MOVETO_REL},i.prototype._parseNumber=function(){let a=0,o=0,l=1,u=0,d=1,m=1;const v=this._currentIndex;if(this._skipOptionalSpaces(),this._currentIndex<this._endIndex&&this._string.charAt(this._currentIndex)=="+"?this._currentIndex++:this._currentIndex<this._endIndex&&this._string.charAt(this._currentIndex)=="-"&&(this._currentIndex++,d=-1),this._currentIndex==this._endIndex||(this._string.charAt(this._currentIndex)<"0"||this._string.charAt(this._currentIndex)>"9")&&this._string.charAt(this._currentIndex)!=".")return;const y=this._currentIndex;for(;this._currentIndex<this._endIndex&&this._string.charAt(this._currentIndex)>="0"&&this._string.charAt(this._currentIndex)<="9";)this._currentIndex++;if(this._currentIndex!=y){let T=this._currentIndex-1,E=1;for(;T>=y;)o+=E*(this._string.charAt(T--)-"0"),E*=10}if(this._currentIndex<this._endIndex&&this._string.charAt(this._currentIndex)=="."){if(this._currentIndex++,this._currentIndex>=this._endIndex||this._string.charAt(this._currentIndex)<"0"||this._string.charAt(this._currentIndex)>"9")return;for(;this._currentIndex<this._endIndex&&this._string.charAt(this._currentIndex)>="0"&&this._string.charAt(this._currentIndex)<="9";)l*=10,u+=(this._string.charAt(this._currentIndex)-"0")/l,this._currentIndex+=1}if(this._currentIndex!=v&&this._currentIndex+1<this._endIndex&&(this._string.charAt(this._currentIndex)=="e"||this._string.charAt(this._currentIndex)=="E")&&this._string.charAt(this._currentIndex+1)!="x"&&this._string.charAt(this._currentIndex+1)!="m"){if(this._currentIndex++,this._string.charAt(this._currentIndex)=="+"?this._currentIndex++:this._string.charAt(this._currentIndex)=="-"&&(this._currentIndex++,m=-1),this._currentIndex>=this._endIndex||this._string.charAt(this._currentIndex)<"0"||this._string.charAt(this._currentIndex)>"9")return;for(;this._currentIndex<this._endIndex&&this._string.charAt(this._currentIndex)>="0"&&this._string.charAt(this._currentIndex)<="9";)a*=10,a+=this._string.charAt(this._currentIndex)-"0",this._currentIndex++}let x=o+u;if(x*=d,a&&(x*=Math.pow(10,m*a)),v!=this._currentIndex)return this._skipOptionalSpacesOrDelimiter(),x},i.prototype._parseArcFlag=function(){if(this._currentIndex>=this._endIndex)return;let a=!1;const o=this._string.charAt(this._currentIndex++);if(o=="0")a=!1;else if(o=="1")a=!0;else return;return this._skipOptionalSpacesOrDelimiter(),a},i.prototype.parseSegment=function(){const a=this._string[this._currentIndex];let o=this._pathSegTypeFromChar(a);if(o==window.SVGPathSeg.PATHSEG_UNKNOWN){if(this._previousCommand==window.SVGPathSeg.PATHSEG_UNKNOWN||(o=this._nextCommandHelper(a,this._previousCommand),o==window.SVGPathSeg.PATHSEG_UNKNOWN))return null}else this._currentIndex++;this._previousCommand=o;let l;switch(o){case window.SVGPathSeg.PATHSEG_MOVETO_REL:return new window.SVGPathSegMovetoRel(e,this._parseNumber(),this._parseNumber());case window.SVGPathSeg.PATHSEG_MOVETO_ABS:return new window.SVGPathSegMovetoAbs(e,this._parseNumber(),this._parseNumber());case window.SVGPathSeg.PATHSEG_LINETO_REL:return new window.SVGPathSegLinetoRel(e,this._parseNumber(),this._parseNumber());case window.SVGPathSeg.PATHSEG_LINETO_ABS:return new window.SVGPathSegLinetoAbs(e,this._parseNumber(),this._parseNumber());case window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL:return new window.SVGPathSegLinetoHorizontalRel(e,this._parseNumber());case window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS:return new window.SVGPathSegLinetoHorizontalAbs(e,this._parseNumber());case window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL:return new window.SVGPathSegLinetoVerticalRel(e,this._parseNumber());case window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS:return new window.SVGPathSegLinetoVerticalAbs(e,this._parseNumber());case window.SVGPathSeg.PATHSEG_CLOSEPATH:return this._skipOptionalSpaces(),new window.SVGPathSegClosePath(e);case window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL:return l={x1:this._parseNumber(),y1:this._parseNumber(),x2:this._parseNumber(),y2:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()},new window.SVGPathSegCurvetoCubicRel(e,l.x,l.y,l.x1,l.y1,l.x2,l.y2);case window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS:return l={x1:this._parseNumber(),y1:this._parseNumber(),x2:this._parseNumber(),y2:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()},new window.SVGPathSegCurvetoCubicAbs(e,l.x,l.y,l.x1,l.y1,l.x2,l.y2);case window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL:return l={x2:this._parseNumber(),y2:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()},new window.SVGPathSegCurvetoCubicSmoothRel(e,l.x,l.y,l.x2,l.y2);case window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS:return l={x2:this._parseNumber(),y2:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()},new window.SVGPathSegCurvetoCubicSmoothAbs(e,l.x,l.y,l.x2,l.y2);case window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL:return l={x1:this._parseNumber(),y1:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()},new window.SVGPathSegCurvetoQuadraticRel(e,l.x,l.y,l.x1,l.y1);case window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS:return l={x1:this._parseNumber(),y1:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()},new window.SVGPathSegCurvetoQuadraticAbs(e,l.x,l.y,l.x1,l.y1);case window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL:return new window.SVGPathSegCurvetoQuadraticSmoothRel(e,this._parseNumber(),this._parseNumber());case window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS:return new window.SVGPathSegCurvetoQuadraticSmoothAbs(e,this._parseNumber(),this._parseNumber());case window.SVGPathSeg.PATHSEG_ARC_REL:return l={x1:this._parseNumber(),y1:this._parseNumber(),arcAngle:this._parseNumber(),arcLarge:this._parseArcFlag(),arcSweep:this._parseArcFlag(),x:this._parseNumber(),y:this._parseNumber()},new window.SVGPathSegArcRel(e,l.x,l.y,l.x1,l.y1,l.arcAngle,l.arcLarge,l.arcSweep);case window.SVGPathSeg.PATHSEG_ARC_ABS:return l={x1:this._parseNumber(),y1:this._parseNumber(),arcAngle:this._parseNumber(),arcLarge:this._parseArcFlag(),arcSweep:this._parseArcFlag(),x:this._parseNumber(),y:this._parseNumber()},new window.SVGPathSegArcAbs(e,l.x,l.y,l.x1,l.y1,l.arcAngle,l.arcLarge,l.arcSweep);default:throw"Unknown path seg type."}};const r=new t,s=new i(n);if(!s.initialCommandIsMoveTo())return[];for(;s.hasMoreData();){const a=s.parseSegment();if(!a)return[];r.appendSegment(a)}return r.pathSegList})}catch(n){console.warn("An error occurred in tsParticles pathseg polyfill. If the Polygon Mask is not working, please open an issue here: https://github.com/tsparticles/tsparticles",n)}})();class AJ{constructor(e){this._engine=e,this.color=new Cr,this.width=.5,this.opacity=1}load(e){ot(e)||(this.color=Cr.create(this.color,e.color),kl(this.color.value)&&(this.opacity=r7(this._engine,this.color.value)??this.opacity),e.opacity!==void 0&&(this.opacity=e.opacity),e.width!==void 0&&(this.width=e.width))}}class CJ{constructor(e){this.enable=!1,this.stroke=new AJ(e)}load(e){if(ot(e))return;e.enable!==void 0&&(this.enable=e.enable);const t=e.stroke;this.stroke.load(t)}}var eh;(function(n){n.equidistant="equidistant",n.onePerPoint="one-per-point",n.perPoint="per-point",n.randomLength="random-length",n.randomPoint="random-point"})(eh||(eh={}));class RJ{constructor(){this.arrangement=eh.onePerPoint}load(e){ot(e)||e.arrangement!==void 0&&(this.arrangement=e.arrangement)}}class OJ{constructor(){this.path=[],this.size={height:0,width:0}}load(e){ot(e)||(e.path!==void 0&&(this.path=e.path),e.size!==void 0&&(e.size.width!==void 0&&(this.size.width=e.size.width),e.size.height!==void 0&&(this.size.height=e.size.height)))}}var G2;(function(n){n.path="path",n.radius="radius"})(G2||(G2={}));class PJ{constructor(){this.radius=10,this.type=G2.path}load(e){ot(e)||(e.radius!==void 0&&(this.radius=e.radius),e.type!==void 0&&(this.type=e.type))}}var Mo;(function(n){n.inline="inline",n.inside="inside",n.outside="outside",n.none="none"})(Mo||(Mo={}));class DJ{constructor(e){this.draw=new CJ(e),this.enable=!1,this.inline=new RJ,this.move=new PJ,this.scale=1,this.type=Mo.none}load(e){ot(e)||(this.draw.load(e.draw),this.inline.load(e.inline),this.move.load(e.move),e.scale!==void 0&&(this.scale=e.scale),e.type!==void 0&&(this.type=e.type),e.enable!==void 0?this.enable=e.enable:this.enable=this.type!==Mo.none,e.url!==void 0&&(this.url=e.url),e.data!==void 0&&(kl(e.data)?this.data=e.data:(this.data=new OJ,this.data.load(e.data))),e.position!==void 0&&(this.position=Rr({},e.position)))}}const zP=2,pb={min:0,max:1},LJ=2;function NJ(n,e,t,i){const r=Oo(n,i.color);if(!r)return;const s=0,a=t[s];e.beginPath(),e.moveTo(a.x,a.y);for(const o of t)e.lineTo(o.x,o.y);e.closePath(),e.strokeStyle=Ul(r),e.lineWidth=i.width,e.stroke()}function IJ(n,e,t,i,r){const s={a:1,b:0,c:0,d:1};e.setTransform(s.a,s.b,s.c,s.d,r.x,r.y);const a=Oo(n,i.color);a&&(e.strokeStyle=Ul(a,i.opacity),e.lineWidth=i.width,e.stroke(t),e.resetTransform())}function zJ(n,e,t){const i=[];for(const s of n){const a=s.element.pathSegList,o=a?.numberOfItems??0,l={x:0,y:0};for(let u=0;u<o;u++){const d=a?.getItem(u),m=window.SVGPathSeg;switch(d?.pathSegType){case m.PATHSEG_MOVETO_ABS:case m.PATHSEG_LINETO_ABS:case m.PATHSEG_CURVETO_CUBIC_ABS:case m.PATHSEG_CURVETO_QUADRATIC_ABS:case m.PATHSEG_ARC_ABS:case m.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS:case m.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS:{const v=d;l.x=v.x,l.y=v.y;break}case m.PATHSEG_LINETO_HORIZONTAL_ABS:l.x=d.x;break;case m.PATHSEG_LINETO_VERTICAL_ABS:l.y=d.y;break;case m.PATHSEG_LINETO_REL:case m.PATHSEG_MOVETO_REL:case m.PATHSEG_CURVETO_CUBIC_REL:case m.PATHSEG_CURVETO_QUADRATIC_REL:case m.PATHSEG_ARC_REL:case m.PATHSEG_CURVETO_CUBIC_SMOOTH_REL:case m.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL:{const v=d;l.x+=v.x,l.y+=v.y;break}case m.PATHSEG_LINETO_HORIZONTAL_REL:l.x+=d.x;break;case m.PATHSEG_LINETO_VERTICAL_REL:l.y+=d.y;break;case m.PATHSEG_UNKNOWN:case m.PATHSEG_CLOSEPATH:continue}i.push({x:l.x*e+t.x,y:l.y*e+t.y})}}return i}function UJ(n,e,t){const{dx:i,dy:r}=ga(t,n),{dx:s,dy:a}=ga(e,n),o=(i*s+r*a)/(s**zP+a**zP),l={x:n.x+s*o,y:n.y+a*o,isOnSegment:o>=pb.min&&o<=pb.max};return o<pb.min?(l.x=n.x,l.y=n.y):o>pb.max&&(l.x=e.x,l.y=e.y),l}function BJ(n,e,t){const{dx:i,dy:r}=ga(n,e),s=Math.atan2(r,i),a=nr.create(Math.sin(s),-Math.cos(s)),o=LJ*(t.x*a.x+t.y*a.y);a.multTo(o),t.subFrom(a)}const mb=`${oo} No polygon data loaded.`,kJ=`${oo} No polygon found, you need to specify SVG url in config.`,hv={x:0,y:0},gb=.5,HJ=2;class FJ{constructor(e,t){this._checkInsidePolygon=i=>{const r=this._container,s=r.actualOptions.polygon;if(!s?.enable||s.type===Mo.none||s.type===Mo.inline)return!0;if(!this.raw)throw new Error(kJ);const a=r.canvas.size,o=i?.x??mn()*a.width,l=i?.y??mn()*a.height,u=1;let d=!1;for(let m=0,v=this.raw.length-u;m<this.raw.length;v=m++){const y=this.raw[m],x=this.raw[v];y.y>l!=x.y>l&&o<(x.x-y.x)*(l-y.y)/(x.y-y.y)+y.x&&(d=!d)}return s.type===Mo.inside?d:s.type===Mo.outside?!d:!1},this._createPath2D=()=>{if(!(!this._container.actualOptions.polygon||!this.paths?.length))for(const s of this.paths){const a=s.element?.getAttribute("d");if(a){const u=new Path2D(a),d=document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGMatrix(),m=new Path2D,v=d.scale(this._scale);m.addPath?(m.addPath(u,v),s.path2d=m):delete s.path2d}else delete s.path2d;if(s.path2d??!this.raw)continue;s.path2d=new Path2D;const o=0,l=this.raw[o];s.path2d.moveTo(l.x,l.y),this.raw.forEach((u,d)=>{d>o&&s.path2d?.lineTo(u.x,u.y)}),s.path2d.closePath()}},this._downloadSvgPath=async(i,r)=>{const s=this._container.actualOptions.polygon;if(!s)return;const a=i??s.url,o=r??!1;if(!a||this.paths!==void 0&&!o)return this.raw;const l=await fetch(a);if(!l.ok)throw new Error(`${oo} occurred during polygon mask download`);return this._parseSvgPath(await l.text(),r)},this._drawPoints=()=>{if(this.raw)for(const i of this.raw)this._container.particles.addParticle({x:i.x,y:i.y})},this._getEquidistantPointByIndex=i=>{const r=this._container,s=r.actualOptions;if(!s.polygon)return;if(!this.raw?.length||!this.paths?.length)throw new Error(mb);let o=0,l;const u=0,d=this.paths.reduce((y,x)=>y+x.length,u),m=d/s.particles.number.value;for(const y of this.paths){const x=m*i-o;if(x<=y.length){l=y.element.getPointAtLength(x);break}else o+=y.length}const v=this._scale;return{x:(l?.x??hv.x)*v+(this.offset?.x??hv.x),y:(l?.y??hv.y)*v+(this.offset?.y??hv.y)}},this._getPointByIndex=i=>{if(!this.raw?.length)throw new Error(mb);const r=this.raw[i%this.raw.length];return{x:r.x,y:r.y}},this._getRandomPoint=()=>{if(!this.raw?.length)throw new Error(mb);const i=ch(this.raw);return{x:i.x,y:i.y}},this._getRandomPointByLength=()=>{if(!this._container.actualOptions.polygon)return;if(!this.raw?.length||!this.paths?.length)throw new Error(mb);const s=ch(this.paths),a=1,o=Math.floor(mn()*s.length)+a,l=s.element.getPointAtLength(o),u=this._scale;return{x:l.x*u+(this.offset?.x??hv.x),y:l.y*u+(this.offset?.y??hv.y)}},this._initRawData=async i=>{const r=this._container.actualOptions.polygon;if(r){if(r.url)this.raw=await this._downloadSvgPath(r.url,i);else if(r.data){const s=r.data;let a;if(kl(s))a=s;else{const o=d=>`<path d="${d}" />`,l=Fa(s.path)?s.path.map(o).join(""):o(s.path);a=`<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="${s.size.width}" height="${s.size.height}">${l}</svg>`}this.raw=this._parseSvgPath(a,i)}this._createPath2D(),this._engine.dispatchEvent("polygonMaskLoaded",{container:this._container})}},this._parseSvgPath=(i,r)=>{const s=r??!1;if(this.paths!==void 0&&!s)return this.raw;const a=this._container,o=a.actualOptions.polygon;if(!o)return;const l=new DOMParser,u=l.parseFromString(i,"image/svg+xml"),d=0,m=u.getElementsByTagName("svg")[d];let v=m.getElementsByTagName("path");v.length||(v=u.getElementsByTagName("path")),this.paths=[];for(let E=0;E<v.length;E++){const w=v.item(E);w&&this.paths.push({element:w,length:w.getTotalLength()})}const y=this._scale;this.dimension.width=parseFloat(m.getAttribute("width")??"0")*y,this.dimension.height=parseFloat(m.getAttribute("height")??"0")*y;const x=o.position??{x:50,y:50},T=a.canvas.size;return this.offset={x:T.width*x.x/qi-this.dimension.width*gb,y:T.height*x.y/qi-this.dimension.height*gb},zJ(this.paths,y,this.offset)},this._polygonBounce=(i,r,s)=>{const a=this._container.actualOptions.polygon;if(!this.raw||!a?.enable||s!==tr.top)return!1;if(a.type===Mo.inside||a.type===Mo.outside){let o,l,u;const d=i.getPosition(),m=i.getRadius(),v=1;for(let y=0,x=this.raw.length-v;y<this.raw.length;x=y++){const T=this.raw[y],E=this.raw[x];o=UJ(T,E,d);const w=ga(d,o);if([l,u]=[w.dx,w.dy],w.distance<m)return BJ(T,E,i.velocity),!0}if(o&&l!==void 0&&u!==void 0&&!this._checkInsidePolygon(d)){const y={x:1,y:1},x=m*HJ,T=-1;return d.x>=o.x&&(y.x=-1),d.y>=o.y&&(y.y=-1),i.position.x=o.x+x*y.x,i.position.y=o.y+x*y.y,i.velocity.mult(T),!0}}else if(a.type===Mo.inline&&i.initialPosition){const o=Ro(i.initialPosition,i.getPosition()),{velocity:l}=i;if(o>this._moveRadius)return l.x=l.y*gb-l.x,l.y=l.x*gb-l.y,!0}return!1},this._randomPoint=()=>{const i=this._container,r=i.actualOptions.polygon;if(!r)return;let s;if(r.type===Mo.inline)switch(r.inline.arrangement){case eh.randomPoint:s=this._getRandomPoint();break;case eh.randomLength:s=this._getRandomPointByLength();break;case eh.equidistant:s=this._getEquidistantPointByIndex(i.particles.count);break;case eh.onePerPoint:case eh.perPoint:default:s=this._getPointByIndex(i.particles.count)}else{const a=i.canvas.size;s={x:mn()*a.width,y:mn()*a.height}}return this._checkInsidePolygon(s)?s:this._randomPoint()},this._container=e,this._engine=t,this.dimension={height:0,width:0},this._moveRadius=0,this._scale=1}clickPositionValid(e){const t=this._container.actualOptions.polygon;return!!t?.enable&&t.type!==Mo.none&&t.type!==Mo.inline&&this._checkInsidePolygon(e)}draw(e){if(!this.paths?.length)return;const t=this._container.actualOptions.polygon;if(!t?.enable)return;const i=t.draw;if(!i.enable)return;const r=this.raw;for(const s of this.paths){const a=s.path2d;e&&(a&&this.offset?IJ(this._engine,e,a,i.stroke,this.offset):r&&NJ(this._engine,e,r,i.stroke))}}async init(){const e=this._container,t=e.actualOptions.polygon,i=e.retina.pixelRatio;t&&(this._moveRadius=t.move.radius*i,this._scale=t.scale*i,t.enable&&await this._initRawData())}particleBounce(e,t,i){return this._polygonBounce(e,t,i)}particlePosition(e){const t=this._container.actualOptions.polygon,i=0;if(t?.enable&&(this.raw?.length??i)>i)return Rr({},e||this._randomPoint())}particlesInitialization(){const e=this._container.actualOptions.polygon;return e?.enable&&e.type===Mo.inline&&(e.inline.arrangement===eh.onePerPoint||e.inline.arrangement===eh.perPoint)?(this._drawPoints(),!0):!1}resize(){const e=this._container,t=e.actualOptions.polygon;if(!(t?.enable&&t.type!==Mo.none))return;this.redrawTimeout&&clearTimeout(this.redrawTimeout);const i=250;this.redrawTimeout=setTimeout(()=>{(async()=>(await this._initRawData(!0),await e.particles.redraw()))()},i)}stop(){delete this.raw,delete this.paths}}class VJ{constructor(e){this.id="polygonMask",this._engine=e}getPlugin(e){return Promise.resolve(new FJ(e,this._engine))}loadOptions(e,t){if(!this.needsPlugin(e)&&!this.needsPlugin(t))return;let i=e.polygon;i?.load===void 0&&(e.polygon=i=new DJ(this._engine)),i.load(t?.polygon)}needsPlugin(e){return e?.polygon?.enable??(e?.polygon?.type!==void 0&&e.polygon.type!==Mo.none)}}async function GJ(n,e=!0){n.checkVersion("3.9.1"),await n.addPlugin(new VJ(n),e)}class jJ{constructor(){this._createDirs=()=>{this.dirsList=[];for(let e=0;e<360;e+=360/this.options.sides){const t=this.options.angle+e;this.dirsList.push(nr.create(Math.cos(t*Math.PI/180),Math.sin(t*Math.PI/180)))}},this.dirsList=[],this.options={sides:6,turnSteps:20,angle:30}}generate(e){const{sides:t}=this.options;e.hexStep===void 0&&(e.hexStep=0),e.hexDirection===void 0&&(e.hexDirection=t===6?(mn()*3|0)*2:mn()*t|0),e.hexSpeed===void 0&&(e.hexSpeed=e.velocity.length),e.hexStep%this.options.turnSteps===0&&(e.hexDirection=mn()>.5?(e.hexDirection+1)%t:(e.hexDirection+t-1)%t),e.velocity.x=0,e.velocity.y=0,e.hexStep++;const i=this.dirsList[e.hexDirection];return nr.create(i.x*e.hexSpeed,i.y*e.hexSpeed)}init(e){const t=e.actualOptions.particles.move.path.options;this.options.sides=t.sides>0?t.sides:6,this.options.angle=t.angle??30,this.options.turnSteps=t.turnSteps>=0?t.turnSteps:20,this._createDirs()}reset(e){delete e.hexStep,delete e.hexDirection,delete e.hexSpeed}update(){}}const $J="polygonPathGenerator";async function qJ(n,e=!0){n.checkVersion("3.9.1"),await n.addPathGenerator($J,new jJ,e)}const WJ=2,XJ=Math.PI*WJ,vb=.5,YJ=0;function ZJ(n,e,t=YJ){const i=XJ/n,r=[];for(let s=0;s<n;s++)r.push({x:Math.cos(s*i+t)*e,y:Math.sin(s*i+t)*e});return r}function KJ(n,e,t){let a=e[0],o=e[1];const l=e.length;n.moveTo((a.x+o.x)*vb,(a.y+o.y)*vb);for(let u=1;u<=l;u++)a=o,o=e[(u+1)%l],n.arcTo(a.x,a.y,(a.x+o.x)*vb,(a.y+o.y)*vb,t)}const UP=5,QJ=5;class JJ{constructor(){this.validTypes=["rounded-polygon"]}draw(e){const{context:t,particle:i,radius:r}=e;KJ(t,ZJ(i.sides,r),i.borderRadius??QJ)}getSidesCount(e){const t=e.shapeData;return Math.round(St(t?.sides??UP))}particleInit(e,t){const i=t.shapeData;t.borderRadius=Math.round(St(i?.radius??UP))*e.retina.pixelRatio}}async function eee(n,e=!0){n.checkVersion("3.9.1"),await n.addShape(new JJ,e)}function tee(n,e,t,i){const r={x:-e,y:-e,height:t,width:t},s={topLeft:i,topRight:i,bottomLeft:i,bottomRight:i},{x:a,y:o,width:l,height:u}=r,d=a+l,m=o+u;n.moveTo(a+s.topLeft,o),n.lineTo(d-s.topRight,o),n.quadraticCurveTo(d,o,d,o+s.topRight),n.lineTo(d,o+u-s.bottomRight),n.quadraticCurveTo(d,m,d-s.bottomRight,m),n.lineTo(a+s.bottomLeft,m),n.quadraticCurveTo(a,m,a,m-s.bottomLeft),n.lineTo(a,o+s.topLeft),n.quadraticCurveTo(a,o,a+s.topLeft,o)}const nee=2,iee=Math.sqrt(nee),ree=2,BP=5;class see{constructor(){this.validTypes=["rounded-rect"]}draw(e){const{context:t,particle:i,radius:r}=e,s=r/iee,a=s*ree,o=i.borderRadius??BP;"roundRect"in t?t.roundRect(-s,-s,a,a,o):tee(t,s,a,o)}particleInit(e,t){const i=t.shapeData;t.borderRadius=St(i?.radius??BP)*e.retina.pixelRatio}}async function aee(n,e=!0){n.checkVersion("3.9.1"),await n.addShape(new see,e)}var Xm;(function(n){n[n.normal=0]="normal",n[n.reverse=1]="reverse"})(Xm||(Xm={}));const oee=1,lee=0,cee=0,uee=0,fee=1;class hee{constructor(){this._paths=[],this._reverse=!1,this._size={width:0,height:0},this._scale=1,this._offset={x:0,y:0,mode:mf.percent},this._width=0}generate(e,t){const i=e.container,r=i.retina.pixelRatio;e.svgDirection===void 0&&(e.svgDirection=mn()>Vi?Xm.normal:Xm.reverse),e.svgPathIndex===void 0&&(e.svgPathIndex=Math.floor(mn()*this._paths.length)),e.svgSpeed===void 0&&(e.svgSpeed=e.velocity.mult((e.retina.moveSpeed??oee)*Vi).length),e.svgStep===void 0&&(e.svgStep=da({min:0,max:this._paths[e.svgPathIndex].length})*r),e.svgOffset===void 0&&(e.svgOffset={width:da({min:-this._width*Vi,max:this._width*Vi})*r,height:da({min:-this._width*Vi,max:this._width*Vi})*r}),e.svgInitialPosition===void 0&&(e.svgInitialPosition={...e.position}),e.velocity.x=0,e.velocity.y=0,e.svgDirection===Xm.normal?e.svgStep+=e.svgSpeed*t.factor:e.svgStep-=e.svgSpeed*t.factor;let s=this._paths[e.svgPathIndex];if(s){const a=s.length,o=1;e.svgStep>=a?(e.svgPathIndex=e.svgPathIndex+o,e.svgPathIndex>=this._paths.length&&(this._reverse?(e.svgPathIndex=this._paths.length-o,e.svgDirection=Xm.reverse):(e.svgPathIndex=0,e.svgStep=0))):e.svgStep<=lee&&(e.svgPathIndex=e.svgPathIndex-o,e.svgPathIndex<cee&&(this._reverse?(e.svgPathIndex=0,e.svgDirection=Xm.normal):(e.svgPathIndex=this._paths.length-o,s=this._paths[e.svgPathIndex],e.svgStep=s.length))),s=this._paths[e.svgPathIndex]}if(s){const a=s.element,o=a.getPointAtLength(e.svgStep),l=e.container.canvas.size,u=rC(this._offset,l),d=this._scale*r;e.position.x=(o.x-this._size.width*Vi)*d+e.svgInitialPosition.x+u.x+e.svgOffset.width,e.position.y=(o.y-this._size.height*Vi)*d+e.svgInitialPosition.y+u.y+e.svgOffset.height}return nr.origin}init(e){const t=e.actualOptions.particles.move.path.options,i=t.position??this._offset;if(this._reverse=t.reverse??this._reverse,this._scale=t.scale??fee,this._offset.x=i.x,this._offset.y=i.y,this._offset.mode=i.mode,this._width=t.width??uee,t.url&&!t.path){const r=t.url;(async()=>{const s=await fetch(r),a=await s.text(),o=new DOMParser,l=o.parseFromString(a,"image/svg+xml"),u=0,d=l.getElementsByTagName("svg")[u];let m=d.getElementsByTagName("path");m.length||(m=l.getElementsByTagName("path")),this._paths=[];for(let v=0;v<m.length;v++){const y=m.item(v);y&&this._paths.push({element:y,length:y.getTotalLength()})}this._size.height=parseFloat(d.getAttribute("height")??"0"),this._size.width=parseFloat(d.getAttribute("width")??"0")})()}else if(t.path){const r=t.path;this._paths=[];for(const s of r.data){const a=document.createElementNS("http://www.w3.org/2000/svg","path");a.setAttribute("d",s),this._paths.push({element:a,length:a.getTotalLength()})}this._size.height=r.size.height,this._size.width=r.size.width}}reset(){}update(){}}const dee="svgPathGenerator";async function pee(n,e=!0){n.checkVersion("3.9.1"),await n.addPathGenerator(dee,new hee,e)}const dp={draw:!1,size:20,increment:.004,columns:0,rows:0,layers:0,width:0,height:0,factor:{angle:.02,length:.01},offset:{x:4e4,y:4e4,z:4e4}};class mee{constructor(){const e=new hI;this._simplex=e.noise4d,this.field=[],this.noiseW=0,this.options=Rr({},dp)}generate(e){const t=e.getPosition(),{size:i}=this.options,r={x:Math.max(Math.floor(t.x/i),0),y:Math.max(Math.floor(t.y/i),0),z:Math.max(Math.floor(t.z/i),0)},s=nr.origin,{field:a}=this;return a?.[r.x]?.[r.y]?.[r.z]?a[r.x][r.y][r.z].copy():s}init(e){this.container=e,this._setup()}reset(){}update(){this.container&&(this._calculateField(),this.noiseW+=this.options.increment,this.options.draw&&this.container.canvas.draw(e=>this._drawField(e)))}_calculateField(){const{options:e,field:t,_simplex:i,noiseW:r}=this,s=e.factor.length,a=e.factor.angle;for(let o=0;o<e.columns;o++)for(let l=0;l<e.rows;l++)for(let u=0;u<e.layers;u++){const d=t[o][l][u];d.length=i.noise(o*s+e.offset.x,l*s+e.offset.y,u*s+e.offset.z,r),d.angle=i.noise(o*a,l*a,u*a,r)*Math.PI*2}}_drawField(e){const{field:t,options:i}=this;for(let r=0;r<i.columns;r++){const s=t[r];for(let a=0;a<i.rows;a++){const o=s[a][0],{angle:l,length:u}=o;e.setTransform(1,0,0,1,r*this.options.size,a*this.options.size),e.rotate(l),e.strokeStyle="white",e.beginPath(),e.moveTo(0,0),e.lineTo(0,this.options.size*u),e.stroke(),e.setTransform(1,0,0,1,0,0)}}}_initField(){const{columns:e,rows:t,layers:i}=this.options;this.field=new Array(e);for(let r=0;r<e;r++){this.field[r]=new Array(t);for(let s=0;s<t;s++){this.field[r][s]=new Array(i);for(let a=0;a<i;a++)this.field[r][s][a]=nr.origin}}}_resetField(){const e=this.container;if(!e)return;const t=e.actualOptions.particles.move.path.options,{options:i}=this;i.width=e.canvas.size.width,i.height=e.canvas.size.height,i.size=t.size>0?t.size:dp.size,i.increment=t.increment>0?t.increment:dp.increment,i.draw=!!t.draw;const r=t.offset;i.offset.x=r?.x??dp.offset.x,i.offset.y=r?.y??dp.offset.y,i.offset.z=r?.z??dp.offset.z;const s=t.factor;i.factor.angle=s?.angle??dp.factor.angle,i.factor.length=s?.length??dp.factor.length,i.seed=t.seed,this._simplex.seed(i.seed??mn()),i.columns=Math.floor(i.width/i.size)+1,i.rows=Math.floor(i.height/i.size)+1,i.layers=Math.floor(e.zLayers/i.size)+1,this._initField()}_setup(){this.noiseW=0,this._resetField(),addEventListener("resize",()=>this._resetField())}}const gee="simplexNoise";async function vee(n,e=!0){n.checkVersion("3.9.1"),await n.addPathGenerator(gee,new mee,e)}class kP{constructor(){this.loop=!1,this.source=""}load(e){ot(e)||(Op(e)?(e.loop!==void 0&&(this.loop=e.loop),e.source!==void 0&&(this.source=e.source)):this.source=e)}}class DI{constructor(){this.duration=500,this.value=[]}load(e){ot(e)||(e.duration!==void 0&&(this.duration=e.duration),e.value!==void 0&&(this.value=e.value))}}class hC{constructor(){this.loop=!1,this.melodies=[],this.notes=[]}load(e){ot(e)||(e.loop!==void 0&&(this.loop=e.loop),e.melodies!==void 0&&(this.melodies=e.melodies.map(t=>{const i=new hC;return i.load(t),i})),e.notes!==void 0&&(this.notes=e.notes.map(t=>{const i=new DI;return i.load(t),i})))}}class yee{constructor(){this.event=[],this.notes=[]}load(e){if(!ot(e)&&(e.event!==void 0&&(this.event=e.event),e.audio!==void 0&&(Fa(e.audio)?this.audio=e.audio.map(t=>{const i=new kP;return i.load(t),i}):(this.audio=new kP,this.audio.load(e.audio))),e.notes!==void 0&&(this.notes=e.notes.map(t=>{const i=new DI;return i.load(t),i})),e.melodies!==void 0&&(this.melodies=e.melodies.map(t=>{const i=new hC;return i.load(t),i})),e.filter))if(kl(e.filter)){const t=window[e.filter];yw(t)&&(this.filter=t)}else this.filter=e.filter}}class yb{constructor(){this.width=24,this.height=24,this.style=""}load(e){ot(e)||(e.path!==void 0&&(this.path=e.path),e.svg!==void 0&&(this.svg=e.svg),e.width!==void 0&&(this.width=e.width),e.height!==void 0&&(this.height=e.height))}}class _ee{constructor(){this.mute=new yb,this.unmute=new yb,this.volumeDown=new yb,this.volumeUp=new yb,this.enable=!1,this.mute.svg=`<?xml version="1.0"?>
<svg baseProfile="tiny" height="24px" version="1.2" viewBox="0 0 24 24" width="24px"
    xml:space="preserve" xmlns="http://www.w3.org/2000/svg"
    xmlns:xlink="http://www.w3.org/1999/xlink">
    <g id="Layer_1">
        <path fill="#fff" d="M19.707,5.293c-0.391-0.391-1.023-0.391-1.414,0l-1.551,1.551c-0.345-0.688-0.987-1.02-1.604-1.02c-0.449,0-0.905,0.152-1.356,0.453l-2.672,1.781C10.357,8.561,8.904,9,8,9c-1.654,0-3,1.346-3,3v2c0,1.237,0.754,2.302,1.826,2.76l-1.533,1.533c-0.391,0.391-0.391,1.023,0,1.414C5.488,19.902,5.744,20,6,20s0.512-0.098,0.707-0.293l2.527-2.527c0.697,0.174,1.416,0.455,1.875,0.762l2.672,1.781c0.451,0.301,0.907,0.453,1.356,0.453C16.035,20.176,17,19.495,17,18V9.414l2.707-2.707C20.098,6.316,20.098,5.684,19.707,5.293z M14.891,7.941c0.038-0.025,0.073-0.046,0.104-0.062C14.998,7.914,15,7.954,15,8v1.293l-2,2V9.202L14.891,7.941z M7,12c0-0.552,0.448-1,1-1c1.211,0,2.907-0.495,4-1.146v2.439l-2.83,2.83C8.757,15.046,8.356,15,8,15c-0.552,0-1-0.448-1-1V12z M10.301,15.406L12,13.707v2.439C11.519,15.859,10.925,15.604,10.301,15.406z M14.994,18.12c-0.03-0.016-0.065-0.036-0.104-0.062L13,16.798v-4.091l2-2V18C15,18.046,14.998,18.086,14.994,18.12z"/>
    </g>
</svg>`,this.unmute.svg=`<?xml version="1.0"?>
<svg baseProfile="tiny" height="24px" version="1.2" viewBox="0 0 24 24" width="24px"
    xml:space="preserve" xmlns="http://www.w3.org/2000/svg"
    xmlns:xlink="http://www.w3.org/1999/xlink">
    <g id="Layer_1">
        <path fill="#fff" d="M17.138,5.824c-0.449,0-0.905,0.152-1.356,0.453l-2.672,1.781C12.357,8.561,10.904,9,10,9c-1.654,0-3,1.346-3,3v2c0,1.654,1.346,3,3,3c0.904,0,2.357,0.439,3.109,0.941l2.672,1.781c0.451,0.301,0.907,0.453,1.356,0.453C18.035,20.176,19,19.495,19,18V8C19,6.505,18.035,5.824,17.138,5.824z M14,16.146C12.907,15.495,11.211,15,10,15c-0.552,0-1-0.448-1-1v-2c0-0.552,0.448-1,1-1c1.211,0,2.907-0.495,4-1.146V16.146z M17,18c0,0.046-0.002,0.086-0.006,0.12c-0.03-0.016-0.065-0.036-0.104-0.062L15,16.798V9.202l1.891-1.261c0.038-0.025,0.073-0.046,0.104-0.062C16.998,7.914,17,7.954,17,8V18z"/>
    </g>
</svg>`,this.volumeDown.svg=`<?xml version="1.0"?>
<svg baseProfile="tiny" height="24px" version="1.2" viewBox="0 0 24 24" width="24px"
    xml:space="preserve" xmlns="http://www.w3.org/2000/svg"
    xmlns:xlink="http://www.w3.org/1999/xlink">
    <g id="Layer_1">
        <path fill="#fff" d="M15.138,5.824c-0.449,0-0.905,0.152-1.356,0.453l-2.672,1.781C10.357,8.561,8.904,9,8,9c-1.654,0-3,1.346-3,3v2c0,1.654,1.346,3,3,3c0.904,0,2.357,0.439,3.109,0.941l2.672,1.781c0.451,0.301,0.907,0.453,1.356,0.453C16.035,20.176,17,19.495,17,18V8C17,6.505,16.035,5.824,15.138,5.824z M8,15c-0.552,0-1-0.448-1-1v-2c0-0.552,0.448-1,1-1c1.211,0,2.907-0.495,4-1.146v6.293C10.907,15.495,9.211,15,8,15z M15,18c0,0.046-0.002,0.086-0.006,0.12c-0.03-0.016-0.065-0.036-0.104-0.062L13,16.798V9.202l1.891-1.261c0.038-0.025,0.073-0.046,0.104-0.062C14.998,7.914,15,7.954,15,8V18z"/>
        <path fill="#fff" d="M18.292,10.294c-0.39,0.391-0.39,1.023,0.002,1.414c0.345,0.345,0.535,0.803,0.535,1.291c0,0.489-0.19,0.948-0.536,1.294c-0.391,0.39-0.391,1.023,0,1.414C18.488,15.902,18.744,16,19,16s0.512-0.098,0.707-0.293c0.724-0.723,1.122-1.685,1.122-2.708s-0.398-1.984-1.123-2.707C19.317,9.903,18.683,9.901,18.292,10.294z"/>
    </g>
</svg>`,this.volumeUp.svg=`<?xml version="1.0"?>
<svg baseProfile="tiny" height="24px" version="1.2" viewBox="0 0 24 24" width="24px"
    xml:space="preserve" xmlns="http://www.w3.org/2000/svg"
    xmlns:xlink="http://www.w3.org/1999/xlink">
    <g id="Layer_1">
        <path fill="#fff" d="M16.706,10.292c-0.389-0.389-1.023-0.391-1.414,0.002c-0.39,0.391-0.39,1.023,0.002,1.414c0.345,0.345,0.535,0.803,0.535,1.291c0,0.489-0.19,0.948-0.536,1.294c-0.391,0.39-0.391,1.023,0,1.414C15.488,15.902,15.744,16,16,16s0.512-0.098,0.707-0.293c0.724-0.723,1.122-1.685,1.122-2.708S17.431,11.015,16.706,10.292z"/>
        <path fill="#fff" d="M18.706,8.292c-0.391-0.389-1.023-0.39-1.414,0.002c-0.39,0.391-0.39,1.024,0.002,1.414c0.879,0.877,1.363,2.044,1.364,3.287c0.001,1.246-0.484,2.417-1.365,3.298c-0.391,0.391-0.391,1.023,0,1.414C17.488,17.902,17.744,18,18,18s0.512-0.098,0.707-0.293c1.259-1.259,1.952-2.933,1.951-4.713C20.657,11.217,19.964,9.547,18.706,8.292z"/>
        <path fill="#fff" d="M20.706,6.292c-0.391-0.389-1.023-0.39-1.414,0.002c-0.39,0.391-0.39,1.024,0.002,1.414c1.412,1.409,2.191,3.285,2.192,5.284c0.002,2.002-0.777,3.885-2.193,5.301c-0.391,0.391-0.391,1.023,0,1.414C19.488,19.902,19.744,20,20,20s0.512-0.098,0.707-0.293c1.794-1.794,2.781-4.18,2.779-6.717C23.485,10.457,22.497,8.078,20.706,6.292z"/>
        <path fill="#fff" d="M12.138,5.824c-0.449,0-0.905,0.152-1.356,0.453L8.109,8.059C7.357,8.561,5.904,9,5,9c-1.654,0-3,1.346-3,3v2c0,1.654,1.346,3,3,3c0.904,0,2.357,0.439,3.109,0.941l2.672,1.781c0.451,0.301,0.907,0.453,1.356,0.453C13.035,20.176,14,19.495,14,18V8C14,6.505,13.035,5.824,12.138,5.824z M5,15c-0.552,0-1-0.448-1-1v-2c0-0.552,0.448-1,1-1c1.211,0,2.907-0.495,4-1.146v6.293C7.907,15.495,6.211,15,5,15z M12,18c0,0.046-0.002,0.086-0.006,0.12c-0.03-0.016-0.065-0.036-0.104-0.062L10,16.798V9.202l1.891-1.261c0.038-0.025,0.073-0.046,0.104-0.062C11.998,7.914,12,7.954,12,8V18z"/>
    </g>
</svg>`}load(e){ot(e)||(e.enable!==void 0&&(this.enable=e.enable),this.mute.load(e.mute),this.unmute.load(e.unmute),this.volumeDown.load(e.volumeDown),this.volumeUp.load(e.volumeUp))}}class bee{constructor(){this.value=100,this.max=100,this.min=0,this.step=10}load(e){ot(e)||(Op(e)?(e.max!==void 0&&(this.max=e.max),e.min!==void 0&&(this.min=e.min),e.step!==void 0&&(this.step=e.step),e.value!==void 0&&(this.value=e.value)):this.value=e)}}class xee{constructor(){this.autoPlay=!0,this.enable=!1,this.events=[],this.icons=new _ee,this.volume=new bee}load(e){ot(e)||(e.autoPlay!==void 0&&(this.autoPlay=e.autoPlay),e.enable!==void 0&&(this.enable=e.enable),e.events!==void 0&&(this.events=e.events.map(t=>{const i=new yee;return i.load(t),i})),this.icons.load(e.icons),e.volume!==void 0&&this.volume.load(e.volume))}}var eS;(function(n){n.mute="soundsMuted",n.unmute="soundsUnmuted"})(eS||(eS={}));var G0;(function(n){n.Block="block",n.None="none"})(G0||(G0={}));const gc=new Map;gc.set("C",[16.35,32.7,65.41,130.81,261.63,523.25,1046.5,2093,4186.01]);gc.set("Db",[17.32,34.65,69.3,138.59,277.18,554.37,1108.73,2217.46,4434.92]);gc.set("D",[18.35,36.71,73.42,146.83,293.66,587.33,1174.66,2349.32,4698.63]);gc.set("Eb",[19.45,38.89,77.78,155.56,311.13,622.25,1244.51,2489.02,4978.03]);gc.set("E",[20.6,41.2,82.41,164.81,329.63,659.25,1318.51,2637.02,5274.04]);gc.set("F",[21.83,43.65,87.31,174.61,349.23,698.46,1396.91,2793.83,5587.65]);gc.set("Gb",[23.12,46.25,92.5,185,369.99,739.99,1479.98,2959.96,5919.91]);gc.set("G",[24.5,49,98,196,392,783.99,1567.98,3135.96,6271.93]);gc.set("Ab",[25.96,51.91,103.83,207.65,415.3,830.61,1661.22,3322.44,6644.88]);gc.set("A",[27.5,55,110,220,440,880,1760,3520,7040]);gc.set("Bb",[29.14,58.27,116.54,233.08,466.16,932.33,1864.66,3729.31,7458.62]);gc.set("B",[30.87,61.74,123.47,246.94,493.88,987.77,1975.53,3951.07,7902.13]);gc.set("pause",[0]);function See(n){const e=/(([A-G]b?)(\d))|pause/i,t=e.exec(n),i=2,r=0,s=3;if(!t?.length)return;const a=t[i]||t[r],o=gc.get(a);if(o)return o[parseInt(t[s]||"0")]}let LI=!0;const HP=()=>LI,NI=()=>{LI=!1},II=1,wee=1,FP=0;function _b(n){const e=document.createElement("img"),{clickCb:t,container:i,display:r,iconOptions:s,margin:a,options:o,pos:l,rightOffsets:u}=n,{width:d,path:m,style:v,svg:y}=s;return Eee(e,l.top+a,l.right-(a*(u.length+wee)+d+u.reduce((E,w)=>E+w,0)),r,o.fullScreen.zIndex+II,d,a,v),e.src=m??(y?`data:image/svg+xml;base64,${btoa(y)}`:""),(i.canvas.element?.parentNode??document.body).append(e),e.addEventListener("click",()=>{t()}),e}function bb(n){n&&n.remove()}function Eee(n,e,t,i,r,s,a,o){n.style.userSelect="none",n.style.webkitUserSelect="none",n.style.position="absolute",n.style.top=`${e+a}px`,n.style.left=`${t-a-s}px`,n.style.display=i,n.style.zIndex=`${r+II}`,n.style.cssText+=o}class Tee{constructor(e,t){this._addBuffer=i=>{const r=i.createBufferSource();return this._audioSources.push(r),r},this._addOscillator=i=>{const r=i.createOscillator();return this._audioSources.push(r),r},this._initEvents=()=>{const i=this._container,r=i.actualOptions.sounds;if(!(!r?.enable||!i.canvas.element))for(const s of r.events){const a=o=>{(async()=>{const l=s.filter&&!s.filter(o);if(this._container!==o.container)return;if(!this._container||this._container.muted||this._container.destroyed){hs(s.event,d=>{this._engine.removeEventListener(d,a)});return}if(l)return;const u=0;if(s.audio)this._playBuffer(pa(s.audio));else if(s.melodies){const d=ch(s.melodies);d.melodies.length?await Promise.allSettled(d.melodies.map(m=>this._playNote(m.notes,u,d.loop))):await this._playNote(d.notes,u,d.loop)}else if(s.notes){const d=ch(s.notes);await this._playNote([d],u,!1)}})()};hs(s.event,o=>{this._engine.addEventListener(o,a)})}},this._mute=async()=>{const i=this._container,r=this._getAudioContext();for(const s of this._audioSources)this._removeAudioSource(s);this._gain&&this._gain.disconnect(),await r.close(),i.audioContext=void 0,this._engine.dispatchEvent(eS.mute,{container:this._container})},this._playBuffer=i=>{const r=this._audioMap.get(i.source);if(!r)return;const s=this._container.audioContext;if(!s)return;const a=this._addBuffer(s);a.loop=i.loop,a.buffer=r,a.connect(this._gain??s.destination),a.start()},this._playFrequency=async(i,r)=>{if(!this._gain||this._container.muted)return;const s=this._getAudioContext(),a=this._addOscillator(s);return a.connect(this._gain),a.type="sine",a.frequency.value=i,a.start(),new Promise(o=>{setTimeout(()=>{this._removeAudioSource(a),o()},r)})},this._playMuteSound=()=>{if(this._container.muted)return;const i=this._getAudioContext(),r=i.createGain();r.connect(i.destination),r.gain.value=0;const s=i.createOscillator();s.connect(r),s.type="sine",s.frequency.value=1,s.start(),setTimeout(()=>{s.stop(),s.disconnect(),r.disconnect()})},this._playNote=async(i,r,s)=>{if(this._container.muted)return;const a=i[r];if(!a)return;const o=a.value,l=hs(o,async(m,v)=>this._playNoteValue(i,r,v));await(Fa(l)?Promise.allSettled(l):l);let d=r+1;s&&d>=i.length&&(d=d%i.length),!this._container.muted&&await this._playNote(i,d,s)},this._playNoteValue=async(i,r,s)=>{const a=i[r];if(!a)return;const o=pa(a.value,s,!0);try{const l=See(o);if(!Lo(l))return;await this._playFrequency(l,a.duration)}catch(l){xd().error(l)}},this._removeAudioSource=i=>{i.stop(),i.disconnect(),this._audioSources.splice(this._audioSources.indexOf(i),1)},this._unmute=()=>{const i=this._container,r=i.actualOptions,s=r.sounds;if(!s)return;const a=this._getAudioContext();this._audioSources||(this._audioSources=[]);const o=a.createGain();o.connect(a.destination),o.gain.value=s.volume.value/qi,this._gain=o,this._initEvents(),this._engine.dispatchEvent(eS.unmute,{container:this._container})},this._updateMuteIcons=()=>{const i=this._container,r=i.actualOptions.sounds;if(!r?.enable||!r.icons.enable)return;const s=this._muteImg,a=this._unmuteImg;s&&(s.style.display=i.muted?"block":"none"),a&&(a.style.display=i.muted?"none":"block")},this._updateMuteStatus=async()=>{const i=this._container,r=this._getAudioContext();i.muted?(await r?.suspend(),await this._mute()):(await r?.resume(),this._unmute(),this._playMuteSound())},this._updateVolume=async()=>{const i=this._container,r=i.actualOptions.sounds;if(!r?.enable)return;dc(this._volume,r.volume.min,r.volume.max);let s=!1;this._volume<=FP&&!i.muted?(this._volume=0,i.muted=!0,s=!0):this._volume>FP&&i.muted&&(i.muted=!1,s=!0),s&&(this._updateMuteIcons(),await this._updateMuteStatus()),this._gain?.gain&&(this._gain.gain.value=this._volume/qi)},this._container=e,this._engine=t,this._volume=0,this._audioSources=[],this._audioMap=new Map}async init(){const e=this._container,t=e.actualOptions,i=t.sounds;if(!i?.enable)return;if(i.autoPlay&&HP()){const s=()=>{removeEventListener(c_,s),removeEventListener(u_,s),NI(),this.unmute()},a={capture:!0,once:!0};addEventListener(c_,s,a),addEventListener(u_,s,a)}this._volume=i.volume.value;const r=i.events;this._audioMap=new Map;for(const s of r){if(!s.audio)continue;const a=hs(s.audio,async o=>{const l=await fetch(o.source);if(!l.ok)return;const u=await l.arrayBuffer(),d=this._getAudioContext(),m=await d.decodeAudioData(u);this._audioMap.set(o.source,m)});a instanceof Promise?await a:await Promise.allSettled(a)}}async mute(){this._container.muted||await this.toggleMute()}async start(){const e=this._container,t=e.actualOptions,i=t.sounds;if(!i?.enable||!e.canvas.element)return;e.muted=!0;const r=e.canvas.element,s={top:r.offsetTop,right:r.offsetLeft+r.offsetWidth},{mute:a,unmute:o,volumeDown:l,volumeUp:u}=i.icons,d=10,m=async()=>{await this.toggleMute()},v=i.icons.enable,y=v?G0.Block:G0.None;this._muteImg=_b({container:e,options:t,pos:s,display:y,iconOptions:a,margin:d,rightOffsets:[l.width,u.width],clickCb:m}),this._unmuteImg=_b({container:e,options:t,pos:s,display:G0.None,iconOptions:o,margin:d,rightOffsets:[l.width,u.width],clickCb:m}),this._volumeDownImg=_b({container:e,options:t,pos:s,display:y,iconOptions:l,margin:d,rightOffsets:[u.width],clickCb:async()=>{await this.volumeDown()}}),this._volumeUpImg=_b({container:e,options:t,pos:s,display:y,iconOptions:u,margin:d,rightOffsets:[],clickCb:async()=>{await this.volumeUp()}}),!HP()&&i.autoPlay&&await this.unmute()}stop(){this._container.muted=!0,(async()=>(await this._mute(),bb(this._muteImg),bb(this._unmuteImg),bb(this._volumeDownImg),bb(this._volumeUpImg)))()}async toggleMute(){const e=this._container;e.muted=!e.muted,this._updateMuteIcons(),await this._updateMuteStatus()}async unmute(){this._container.muted&&await this.toggleMute()}async volumeDown(){const e=this._container,t=e.actualOptions.sounds;t?.enable&&(e.muted&&(this._volume=0),this._volume-=t.volume.step,await this._updateVolume())}async volumeUp(){const e=this._container,t=e.actualOptions.sounds;t?.enable&&(this._volume+=t.volume.step,await this._updateVolume())}_getAudioContext(){const e=this._container;return e.audioContext||(e.audioContext=new AudioContext),e.audioContext}}const tS=()=>{removeEventListener(c_,tS),removeEventListener(u_,tS),NI()};class Mee{constructor(e){this.id="sounds",this._engine=e;const t={capture:!0,once:!0};addEventListener(c_,tS,t),addEventListener(u_,tS,t)}getPlugin(e){return Promise.resolve(new Tee(e,this._engine))}loadOptions(e,t){if(!this.needsPlugin(e)&&!this.needsPlugin(t))return;let i=e.sounds;i?.load===void 0&&(e.sounds=i=new xee),i.load(t?.sounds)}needsPlugin(e){return e?.sounds?.enable??!1}}async function Aee(n,e=!0){n.checkVersion("3.9.1"),await n.addPlugin(new Mee(n),e)}function Cee(n){const{context:e,particle:t,radius:i}=n;if(t.spiralInnerRadius===void 0||t.spiralLineSpacing===void 0||t.spiralWidthFactor===void 0)return;const r=(i-t.spiralInnerRadius)/t.spiralLineSpacing,s=10;for(let a=0;a<r*s;a++){const o=a/s,l=t.spiralInnerRadius+t.spiralLineSpacing*o,u={x:l*Math.cos(o),y:l*Math.sin(o)};e.lineTo(u.x,u.y)}}const Ree=1,Oee=1,Pee=10;class Dee{constructor(){this.validTypes=["spiral"]}draw(e){Cee(e)}particleInit(e,t){const i=e.retina.pixelRatio,r=t.shapeData;t.spiralInnerRadius=St(r?.innerRadius??Ree)*i,t.spiralLineSpacing=St(r?.lineSpacing??Oee)*i,t.spiralWidthFactor=St(r?.widthFactor??Pee)}}async function Lee(n,e=!0){n.checkVersion("3.9.1"),await n.addShape(new Dee,e)}const Nee=2,VP=1,Iee=-1,zee=10,GP={a:1,b:0,c:0,d:1};class Uee{draw(e){const{context:t,radius:i,particle:r,transformData:s}=e,a=i*ao,o=r.container.retina.pixelRatio,l=r.getPosition(),u=r.trail;if(!u||!r.trailLength)return;const d=r.trailLength+i;if(u.push({color:t.fillStyle??t.strokeStyle,position:{x:l.x,y:l.y},transformData:{...e.transformData}}),u.length<Nee)return;for(;u.length>d;)u.shift();const m=Math.min(u.length,d),v={width:r.container.canvas.size.width+a,height:r.container.canvas.size.height+a};let y=u[m-VP].position;for(let x=m;x>f_;x--){const T=u[x-VP],E=T.position,w=r.trailTransform?T.transformData??GP:GP;t.setTransform(w.a,w.b,w.c,w.d,E.x,E.y),t.beginPath(),t.moveTo(y.x-E.x,y.y-E.y);const P={x:(y.x+v.width)%v.width,y:(y.y+v.height)%v.height};if(Math.abs(y.x-E.x)>v.width*Vi||Math.abs(y.y-E.y)>v.height*Vi){y=E;continue}t.lineTo(Math.abs(y.x-E.x)>v.width*Vi?P.x:Aa.x,Math.abs(y.y-E.y)>v.height*Vi?P.y:Aa.y);const D=Math.max(x/m*a,o,r.trailMinWidth??Iee),N=t.globalAlpha;t.globalAlpha=r.trailFade?x/m:oV,t.lineWidth=r.trailMaxWidth?Math.min(D,r.trailMaxWidth):D,t.strokeStyle=T.color,t.stroke(),t.globalAlpha=N,y=E}t.setTransform(s.a,s.b,s.c,s.d,l.x,l.y)}particleInit(e,t){t.trail=[];const i=t.effectData;t.trailFade=i?.fade??!0,t.trailLength=St(i?.length??zee)*e.retina.pixelRatio,t.trailMaxWidth=i?.maxWidth?St(i.maxWidth)*e.retina.pixelRatio:void 0,t.trailMinWidth=i?.minWidth?St(i.minWidth)*e.retina.pixelRatio:void 0,t.trailTransform=i?.transform??!1}}async function Bee(n,e=!0){n.checkVersion("3.9.1"),await n.addEffect("trail",new Uee,e)}const kee=.5,Hee=.5,jP=Math.PI*Hee;class Fee{constructor(){this.options={waveHeight:{min:0,max:3},waveLength:{min:0,max:5}}}generate(e,t){e.zigzag===void 0&&(e.zigzag={counter:mn(),waveHeight:St(this.options.waveHeight),waveLength:St(this.options.waveLength)});const i=kee/e.zigzag.waveLength*t.factor;e.zigzag.counter+=i;const r=e.zigzag.waveHeight*Math.sin(e.zigzag.counter);return e.position.x+=r*Math.cos(e.velocity.angle+jP),e.position.y+=r*Math.sin(e.velocity.angle+jP),nr.origin}init(e){const t=e.actualOptions.particles.move.path.options;this.options.waveLength=t.waveLength??this.options.waveLength,this.options.waveHeight=t.waveHeight??this.options.waveHeight}reset(){}update(){}}const Vee="zigZagPathGenerator";async function Gee(n,e=!0){n.checkVersion("3.9.1"),await n.addPathGenerator(Vee,new Fee,e)}async function jee(n,e=!0){n.checkVersion("3.9.1"),LG(n),await zK(n,!1),await tQ(n,!1),await HQ(n,!1),await $Q(n,!1),await Uj(n,!1),await Bj(n,!1),await kj(n,!1),await Hj(n,!1),await Fj(n,!1),await Vj(n,!1),await Gj(n,!1),await jj(n,!1),await m$(n,!1),await x$(n,!1),await D$(n,!1),await cj(n,!1),await hQ(n,!1),await UQ(n,!1),await GJ(n,!1),await Aee(n,!1),await I$(n,!1),await k$(n,!1),await $$(n,!1),await X$(n,!1),await K$(n,!1),await RQ(n,!1),await fJ(n,!1),await WK(n,!1),await rJ(n,!1),await zj(n,!1),await Oj(n,!1),await nq(n,!1),await bJ(n,!1),await MJ(n,!1),await qJ(n,!1),await pee(n,!1),await Gee(n,!1),await vee(n,!1),await qG(n,!1),await GG(n,!1),await pj(n,!1),await Ej(n,!1),await QK(n,!1),await gQ(n,!1),await pJ(n,!1),await eee(n,!1),await aee(n,!1),await Lee(n,!1),await Bee(n,!1),await n.refresh(e)}function $ee({particlesContainer:n,className:e,BackgroundConfig:t}){const[i,r]=z.useState(window.innerWidth);z.useEffect(function(){const o=function(){r(window.innerWidth)};return window.addEventListener("resize",o),function(){window.removeEventListener("resize",o)}},[]),z.useEffect(function(){wG(async function(o){await jee(o)})},[]);let s={...t};z.useEffect(function(){n.includes("404")&&(window.innerWidth<=1080?(s.particles.links.distance=55,s.particles.move.speed.max=.25,s.particles.number.value=60,s.polygon.move.radius=2.5,s.polygon.url="/assets/particles2D/404_small.svg",s.polygon.position.x=15):(s.polygon.move.radius=15,s.polygon.url="/assets/particles2D/404.svg",s.polygon.position.x=5))},[n,i,s]);const a=z.useCallback(async function(o){},[s]);return ue.jsx(ue.Fragment,{children:ue.jsx(SG,{id:n,className:e,particlesLoaded:a,options:s})})}function cy(n){const[e,t]=z.useState(null),[i,r]=z.useState(!0),[s,a]=z.useState(null);return z.useEffect(function(){let o=!0;async function l(){r(!0),a(null);try{const u=await fetch(n);if(!u.ok)throw new Error("HTTP error "+u.status);const d=await u.json();o&&t(d)}catch(u){o&&a(u)}finally{o&&r(!1)}}return l(),function(){o=!1}},[n]),{data:e,loading:i,error:s}}const qee=[{name:"home",title:"home",description:"WIP",priority:"1.0",paths:["/","/home","/home.html","/index","/index.html"]},{name:"printables",title:"printables",description:"a review and some possible improvements to Printable.com",priority:"0.8",paths:["/printables","/printables.html"]},{name:"thesis",title:"thesis",description:"Decreasing the Reality Gap of a Vehicle Simulation Digital Sibling Using the Addition of a Road Slope Study thesis and links",priority:"0.8",paths:["/thesis","/thesis.html"]},{name:"solarsystem",title:"solar system",description:"a representation of the solar system with planets and their orbits",priority:"0.8",paths:["/solarsystem","/solarsystem.html"]},{name:"credits",title:"credits",description:"credits page with links to resources used in the website",priority:"0.8",paths:["/credits","/credits.html"]}],Wee=[{name:"printables",label:"Printables"}];function j2(){return j2=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},j2.apply(this,arguments)}var Xee={strings:["These are the default values...","You know what you should do?","Use your own!","Have a great day!"],stringsElement:null,typeSpeed:0,startDelay:0,backSpeed:0,smartBackspace:!0,shuffle:!1,backDelay:700,fadeOut:!1,fadeOutClass:"typed-fade-out",fadeOutDelay:500,loop:!1,loopCount:1/0,showCursor:!0,cursorChar:"|",autoInsertCss:!0,attr:null,bindInputFocusEvents:!1,contentType:"html",onBegin:function(n){},onComplete:function(n){},preStringTyped:function(n,e){},onStringTyped:function(n,e){},onLastStringBackspaced:function(n){},onTypingPaused:function(n,e){},onTypingResumed:function(n,e){},onReset:function(n){},onStop:function(n,e){},onStart:function(n,e){},onDestroy:function(n){}},Yee=new((function(){function n(){}var e=n.prototype;return e.load=function(t,i,r){if(t.el=typeof r=="string"?document.querySelector(r):r,t.options=j2({},Xee,i),t.isInput=t.el.tagName.toLowerCase()==="input",t.attr=t.options.attr,t.bindInputFocusEvents=t.options.bindInputFocusEvents,t.showCursor=!t.isInput&&t.options.showCursor,t.cursorChar=t.options.cursorChar,t.cursorBlinking=!0,t.elContent=t.attr?t.el.getAttribute(t.attr):t.el.textContent,t.contentType=t.options.contentType,t.typeSpeed=t.options.typeSpeed,t.startDelay=t.options.startDelay,t.backSpeed=t.options.backSpeed,t.smartBackspace=t.options.smartBackspace,t.backDelay=t.options.backDelay,t.fadeOut=t.options.fadeOut,t.fadeOutClass=t.options.fadeOutClass,t.fadeOutDelay=t.options.fadeOutDelay,t.isPaused=!1,t.strings=t.options.strings.map(function(u){return u.trim()}),t.stringsElement=typeof t.options.stringsElement=="string"?document.querySelector(t.options.stringsElement):t.options.stringsElement,t.stringsElement){t.strings=[],t.stringsElement.style.cssText="clip: rect(0 0 0 0);clip-path:inset(50%);height:1px;overflow:hidden;position:absolute;white-space:nowrap;width:1px;";var s=Array.prototype.slice.apply(t.stringsElement.children),a=s.length;if(a)for(var o=0;o<a;o+=1)t.strings.push(s[o].innerHTML.trim())}for(var l in t.strPos=0,t.currentElContent=this.getCurrentElContent(t),t.currentElContent&&t.currentElContent.length>0&&(t.strPos=t.currentElContent.length-1,t.strings.unshift(t.currentElContent)),t.sequence=[],t.strings)t.sequence[l]=l;t.arrayPos=0,t.stopNum=0,t.loop=t.options.loop,t.loopCount=t.options.loopCount,t.curLoop=0,t.shuffle=t.options.shuffle,t.pause={status:!1,typewrite:!0,curString:"",curStrPos:0},t.typingComplete=!1,t.autoInsertCss=t.options.autoInsertCss,t.autoInsertCss&&(this.appendCursorAnimationCss(t),this.appendFadeOutAnimationCss(t))},e.getCurrentElContent=function(t){return t.attr?t.el.getAttribute(t.attr):t.isInput?t.el.value:t.contentType==="html"?t.el.innerHTML:t.el.textContent},e.appendCursorAnimationCss=function(t){var i="data-typed-js-cursor-css";if(t.showCursor&&!document.querySelector("["+i+"]")){var r=document.createElement("style");r.setAttribute(i,"true"),r.innerHTML=`
        .typed-cursor{
          opacity: 1;
        }
        .typed-cursor.typed-cursor--blink{
          animation: typedjsBlink 0.7s infinite;
          -webkit-animation: typedjsBlink 0.7s infinite;
                  animation: typedjsBlink 0.7s infinite;
        }
        @keyframes typedjsBlink{
          50% { opacity: 0.0; }
        }
        @-webkit-keyframes typedjsBlink{
          0% { opacity: 1; }
          50% { opacity: 0.0; }
          100% { opacity: 1; }
        }
      `,document.body.appendChild(r)}},e.appendFadeOutAnimationCss=function(t){var i="data-typed-fadeout-js-css";if(t.fadeOut&&!document.querySelector("["+i+"]")){var r=document.createElement("style");r.setAttribute(i,"true"),r.innerHTML=`
        .typed-fade-out{
          opacity: 0;
          transition: opacity .25s;
        }
        .typed-cursor.typed-cursor--blink.typed-fade-out{
          -webkit-animation: 0;
          animation: 0;
        }
      `,document.body.appendChild(r)}},n})()),$P=new((function(){function n(){}var e=n.prototype;return e.typeHtmlChars=function(t,i,r){if(r.contentType!=="html")return i;var s=t.substring(i).charAt(0);if(s==="<"||s==="&"){var a;for(a=s==="<"?">":";";t.substring(i+1).charAt(0)!==a&&!(1+ ++i>t.length););i++}return i},e.backSpaceHtmlChars=function(t,i,r){if(r.contentType!=="html")return i;var s=t.substring(i).charAt(0);if(s===">"||s===";"){var a;for(a=s===">"?"<":"&";t.substring(i-1).charAt(0)!==a&&!(--i<0););i--}return i},n})()),Zee=(function(){function n(t,i){Yee.load(this,i,t),this.begin()}var e=n.prototype;return e.toggle=function(){this.pause.status?this.start():this.stop()},e.stop=function(){this.typingComplete||this.pause.status||(this.toggleBlinking(!0),this.pause.status=!0,this.options.onStop(this.arrayPos,this))},e.start=function(){this.typingComplete||this.pause.status&&(this.pause.status=!1,this.pause.typewrite?this.typewrite(this.pause.curString,this.pause.curStrPos):this.backspace(this.pause.curString,this.pause.curStrPos),this.options.onStart(this.arrayPos,this))},e.destroy=function(){this.reset(!1),this.options.onDestroy(this)},e.reset=function(t){t===void 0&&(t=!0),clearInterval(this.timeout),this.replaceText(""),this.cursor&&this.cursor.parentNode&&(this.cursor.parentNode.removeChild(this.cursor),this.cursor=null),this.strPos=0,this.arrayPos=0,this.curLoop=0,t&&(this.insertCursor(),this.options.onReset(this),this.begin())},e.begin=function(){var t=this;this.options.onBegin(this),this.typingComplete=!1,this.shuffleStringsIfNeeded(this),this.insertCursor(),this.bindInputFocusEvents&&this.bindFocusEvents(),this.timeout=setTimeout(function(){t.strPos===0?t.typewrite(t.strings[t.sequence[t.arrayPos]],t.strPos):t.backspace(t.strings[t.sequence[t.arrayPos]],t.strPos)},this.startDelay)},e.typewrite=function(t,i){var r=this;this.fadeOut&&this.el.classList.contains(this.fadeOutClass)&&(this.el.classList.remove(this.fadeOutClass),this.cursor&&this.cursor.classList.remove(this.fadeOutClass));var s=this.humanizer(this.typeSpeed),a=1;this.pause.status!==!0?this.timeout=setTimeout(function(){i=$P.typeHtmlChars(t,i,r);var o=0,l=t.substring(i);if(l.charAt(0)==="^"&&/^\^\d+/.test(l)){var u=1;u+=(l=/\d+/.exec(l)[0]).length,o=parseInt(l),r.temporaryPause=!0,r.options.onTypingPaused(r.arrayPos,r),t=t.substring(0,i)+t.substring(i+u),r.toggleBlinking(!0)}if(l.charAt(0)==="`"){for(;t.substring(i+a).charAt(0)!=="`"&&(a++,!(i+a>t.length)););var d=t.substring(0,i),m=t.substring(d.length+1,i+a),v=t.substring(i+a+1);t=d+m+v,a--}r.timeout=setTimeout(function(){r.toggleBlinking(!1),i>=t.length?r.doneTyping(t,i):r.keepTyping(t,i,a),r.temporaryPause&&(r.temporaryPause=!1,r.options.onTypingResumed(r.arrayPos,r))},o)},s):this.setPauseStatus(t,i,!0)},e.keepTyping=function(t,i,r){i===0&&(this.toggleBlinking(!1),this.options.preStringTyped(this.arrayPos,this));var s=t.substring(0,i+=r);this.replaceText(s),this.typewrite(t,i)},e.doneTyping=function(t,i){var r=this;this.options.onStringTyped(this.arrayPos,this),this.toggleBlinking(!0),this.arrayPos===this.strings.length-1&&(this.complete(),this.loop===!1||this.curLoop===this.loopCount)||(this.timeout=setTimeout(function(){r.backspace(t,i)},this.backDelay))},e.backspace=function(t,i){var r=this;if(this.pause.status!==!0){if(this.fadeOut)return this.initFadeOut();this.toggleBlinking(!1);var s=this.humanizer(this.backSpeed);this.timeout=setTimeout(function(){i=$P.backSpaceHtmlChars(t,i,r);var a=t.substring(0,i);if(r.replaceText(a),r.smartBackspace){var o=r.strings[r.arrayPos+1];r.stopNum=o&&a===o.substring(0,i)?i:0}i>r.stopNum?(i--,r.backspace(t,i)):i<=r.stopNum&&(r.arrayPos++,r.arrayPos===r.strings.length?(r.arrayPos=0,r.options.onLastStringBackspaced(),r.shuffleStringsIfNeeded(),r.begin()):r.typewrite(r.strings[r.sequence[r.arrayPos]],i))},s)}else this.setPauseStatus(t,i,!1)},e.complete=function(){this.options.onComplete(this),this.loop?this.curLoop++:this.typingComplete=!0},e.setPauseStatus=function(t,i,r){this.pause.typewrite=r,this.pause.curString=t,this.pause.curStrPos=i},e.toggleBlinking=function(t){this.cursor&&(this.pause.status||this.cursorBlinking!==t&&(this.cursorBlinking=t,t?this.cursor.classList.add("typed-cursor--blink"):this.cursor.classList.remove("typed-cursor--blink")))},e.humanizer=function(t){return Math.round(Math.random()*t/2)+t},e.shuffleStringsIfNeeded=function(){this.shuffle&&(this.sequence=this.sequence.sort(function(){return Math.random()-.5}))},e.initFadeOut=function(){var t=this;return this.el.className+=" "+this.fadeOutClass,this.cursor&&(this.cursor.className+=" "+this.fadeOutClass),setTimeout(function(){t.arrayPos++,t.replaceText(""),t.strings.length>t.arrayPos?t.typewrite(t.strings[t.sequence[t.arrayPos]],0):(t.typewrite(t.strings[0],0),t.arrayPos=0)},this.fadeOutDelay)},e.replaceText=function(t){this.attr?this.el.setAttribute(this.attr,t):this.isInput?this.el.value=t:this.contentType==="html"?this.el.innerHTML=t:this.el.textContent=t},e.bindFocusEvents=function(){var t=this;this.isInput&&(this.el.addEventListener("focus",function(i){t.stop()}),this.el.addEventListener("blur",function(i){t.el.value&&t.el.value.length!==0||t.start()}))},e.insertCursor=function(){this.showCursor&&(this.cursor||(this.cursor=document.createElement("span"),this.cursor.className="typed-cursor",this.cursor.setAttribute("aria-hidden",!0),this.cursor.innerHTML=this.cursorChar,this.el.parentNode&&this.el.parentNode.insertBefore(this.cursor,this.el.nextSibling)))},n})();function Kee({typedContainer:n,TypingConfig:e}){const t=z.useRef();let i={...e};return z.useEffect(function(){return h2.$("body").append(`<div class="${n}box"><span id="${n}"></span></div>`),function(){h2.$("body>#"+n).parent().remove()}},[]),z.useEffect(function(){return t.current=new Zee("#"+n,i),function(){t.current?.destroy()}},[i]),ue.jsx(ue.Fragment,{children:ue.jsx("div",{className:n+"box",children:ue.jsx("span",{id:n})})})}let Qee="/assets/configs/typed_home.json";function qP({typedContainer:n="typed"}){const{data:e,loading:t,error:i}=cy(Qee);return console.log(`
     ####  #   ##   #    # #      #    #  ####    ##   ######   ##   #####  ##### 
    #    # #  #  #  ##   # #      #    # #    #  #  #  #       #  #  #    # #    #
    #      # #    # # #  # #      #    # #      #    # #####  #    # #####  #    #
    #  ### # ###### #  # # #      #    # #      ###### #      ###### #    # ##### 
    #    # # #    # #   ## #      #    # #    # #    # #      #    # #    # #   # 
     ####  # #    # #    # ######  ####   ####  #    # #      #    # #####  #    #
                                                                                  
    #  ####      ####  # ##### #    # #    # #####     #  ####                    
    # #         #    # #   #   #    # #    # #    #    # #    #                   
    #  ####     #      #   #   ###### #    # #####     # #    #                   
    #      #    #  ### #   #   #    # #    # #    #    # #    #                   
    # #    # ## #    # #   #   #    # #    # #    # ## # #    #                   
    #  ####  ##  ####  #   #   #    #  ####  #####  ## #  ####                    
    `),ue.jsxs(ue.Fragment,{children:[ue.jsx(Co,{children:ue.jsxs(so,{md:12,className:"blur",children:[t?ue.jsx("div",{children:"Loading..."}):i?ue.jsxs("div",{children:["Error loading typing config: ",i.message]}):ue.jsx(Kee,{typedContainer:n,TypingConfig:e}),ue.jsx("style",{children:`
                #typed,.typed-cursor{
                    font-size: 10em;
                }
                `})]})}),ue.jsx(Co,{children:ue.jsx(so,{md:12,className:"blur",children:ue.jsxs("p",{children:["For now you can visit the following pages (still WIP) ",ue.jsx(Ar,{to:"/printables",children:"Printables"}),", ",ue.jsx(Ar,{to:"/thesis",children:"Thesis"}),", ",ue.jsx(Ar,{to:"/solarsystem",children:"Solar System"}),", ",ue.jsx(Ar,{to:"/citiesguesser",children:"Cities Guesser"}),", and ",ue.jsx(Ar,{to:"https://gianlucafabris.github.io/MultimaterialToSwapGCode/",target:"_blank",children:"MultimaterialToSwapGCode"}),"."]})})})]})}var WP={exports:{}},y0={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var XP;function Jee(){if(XP)return y0;XP=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(i,r,s){var a=null;if(s!==void 0&&(a=""+s),r.key!==void 0&&(a=""+r.key),"key"in r){s={};for(var o in r)o!=="key"&&(s[o]=r[o])}else s=r;return r=s.ref,{$$typeof:n,type:i,key:a,ref:r!==void 0?r:null,props:s}}return y0.Fragment=e,y0.jsx=t,y0.jsxs=t,y0}var YP;function ete(){return YP||(YP=1,WP.exports=Jee()),WP.exports}var To=ete(),tte="Invariant failed";function zI(n,e){if(!n)throw new Error(tte)}function nte(n){const e=z.useRef(null);return z.useLayoutEffect(()=>{if(!e.current)return;const t=new ResizeObserver(i=>{zI(i[0]),n(i[0].contentRect.width)});return t.observe(e.current),n(e.current.getBoundingClientRect().width),()=>{t.disconnect()}},[n]),e}function ite(n,e,t,i){const r=i==="taller"?Math.max(e,t):Math.min(e,t);return n*r}function ZP(n){return n.naturalHeight/n.naturalWidth}const $2=n=>{const{aspectRatio:e="taller",handle:t=null,handleSize:i=40,hover:r=!1,leftImage:s,leftImageAlt:a="",leftImageCss:o={},leftImageLabel:l=null,onSliderPositionChange:u,rightImage:d,rightImageAlt:m="",rightImageCss:v={},rightImageLabel:y=null,skeleton:x=null,sliderLineColor:T="#ffffff",sliderLineWidth:E=2,sliderPositionPercentage:w=.5,vertical:P=!1}=n,D=!P,[N,G]=z.useState(w),[k,M]=z.useState(!1),[$,V]=z.useState(0),[H,ee]=z.useState(0),pe=nte(Le=>V(Le)),ae=z.useRef(null),ye=z.useRef(null),[Te,J]=z.useState(!1),de=z.useCallback(()=>{ye.current?.complete&&ae.current?.complete&&J(!0)},[]);z.useEffect(()=>(de(),()=>{J(!1)}),[s,d,de]),z.useEffect(()=>{if(!(ye.current&&ae.current)||$===0||!Te)return;const Le=ite($,ZP(ye.current),ZP(ae.current),e);ee(Le)},[$,Te,e]),z.useEffect(()=>{if(!pe.current||!Te)return;const Le=Ve=>{if(!pe.current)return;const xe=pe.current.getBoundingClientRect();let $e,Ze;if(Ve instanceof TouchEvent){const zn=Ve.touches[0];zI(zn),$e=zn.clientX,Ze=zn.clientY}else $e=Ve.clientX,Ze=Ve.clientY;const gt=D?$e-xe.left:Ze-xe.top,yt=E/2,vt=D?$-yt:H-yt,Vt=Math.min(Math.max(gt,yt),vt)/(D?$:H);G(Vt),u?.(Vt)},ne=Ve=>{M(!0),"touches"in Ve||Ve.preventDefault(),Le(Ve),window.addEventListener("mousemove",Le),window.addEventListener("touchmove",Le)},re=()=>{M(!1),window.removeEventListener("mousemove",Le),window.removeEventListener("touchmove",Le)},ze=pe.current;return ze.addEventListener("touchstart",ne),window.addEventListener("touchend",re),r?(ze.addEventListener("mousemove",Le),ze.addEventListener("mouseleave",re)):(ze.addEventListener("mousedown",ne),window.addEventListener("mouseup",re)),()=>{ze.removeEventListener("touchstart",ne),window.removeEventListener("touchend",re),ze.removeEventListener("mousemove",Le),ze.removeEventListener("mouseleave",re),ze.removeEventListener("mousedown",ne),window.removeEventListener("mouseup",re),window.removeEventListener("mousemove",Le),window.removeEventListener("touchmove",Le)}},[Te,e,H,$,D,r,E,pe]);const he={container:{boxSizing:"border-box",position:"relative",width:"100%",height:`${H}px`,overflow:"hidden"},rightImage:{clipPath:D?`inset(0px 0px 0px ${$*N}px)`:`inset(${H*N}px 0px 0px 0px)`,display:"block",height:"100%",objectFit:"cover",position:"absolute",width:"100%",...v},leftImage:{clipPath:D?`inset(0px ${$*(1-N)}px 0px 0px)`:`inset(0px 0px ${H*(1-N)}px 0px)`,display:"block",height:"100%",objectFit:"cover",position:"absolute",width:"100%",...o},slider:{alignItems:"center",display:"flex",justifyContent:"center",position:"absolute",...D?{cursor:"ew-resize",flexDirection:"column",height:"100%",left:`${$*N-i/2}px`,top:0,width:`${i}px`}:{cursor:"ns-resize",flexDirection:"row",height:`${i}px`,left:0,top:`${H*N-i/2}px`,width:"100%"}},line:{background:T,boxShadow:"0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12)",flex:"0 1 auto",height:D?"100%":`${E}px`,width:D?`${E}px`:"100%"},handleCustom:{alignItems:"center",boxSizing:"border-box",display:"flex",flex:"1 0 auto",height:"auto",justifyContent:"center",width:"auto"},handleDefault:{alignItems:"center",border:`${E}px solid ${T}`,borderRadius:"100%",boxShadow:"0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12)",boxSizing:"border-box",display:"flex",flex:"1 0 auto",height:`${i}px`,justifyContent:"center",width:`${i}px`,transform:D?"none":"rotate(90deg)"},leftArrow:{border:`inset ${i*.15}px rgba(0,0,0,0)`,borderRight:`${i*.15}px solid ${T}`,height:"0px",marginLeft:`-${i*.25}px`,marginRight:`${i*.25}px`,width:"0px"},rightArrow:{border:`inset ${i*.15}px rgba(0,0,0,0)`,borderLeft:`${i*.15}px solid ${T}`,height:"0px",marginRight:`-${i*.25}px`,width:"0px"},leftLabel:{background:"rgba(0, 0, 0, 0.5)",color:"white",left:D?"5%":"50%",opacity:k?0:1,padding:"10px 20px",position:"absolute",top:D?"50%":"3%",transform:D?"translate(0,-50%)":"translate(-50%, 0)",transition:"opacity 0.1s ease-out"},rightLabel:{background:"rgba(0, 0, 0, 0.5)",color:"white",opacity:k?0:1,padding:"10px 20px",position:"absolute",...D?{right:"5%",top:"50%",transform:"translate(0,-50%)"}:{left:"50%",bottom:"3%",transform:"translate(-50%, 0)"},transition:"opacity 0.1s ease-out"},leftLabelContainer:{clipPath:D?`inset(0px ${$*(1-N)}px 0px 0px)`:`inset(0px 0px ${H*(1-N)}px 0px)`,height:"100%",position:"absolute",width:"100%"},rightLabelContainer:{clipPath:D?`inset(0px 0px 0px ${$*N}px)`:`inset(${H*N}px 0px 0px 0px)`,height:"100%",position:"absolute",width:"100%"}};return To.jsxs(To.Fragment,{children:[x&&!Te&&To.jsx("div",{style:{...he.container},children:x}),To.jsxs("div",{style:{...he.container,display:Te?"block":"none"},ref:pe,"data-testid":"container",children:[To.jsx("img",{onLoad:()=>de(),alt:m,"data-testid":"right-image",ref:ae,src:d,style:he.rightImage}),To.jsx("img",{onLoad:()=>de(),alt:a,"data-testid":"left-image",ref:ye,src:s,style:he.leftImage}),To.jsxs("div",{style:he.slider,children:[To.jsx("div",{style:he.line}),t?To.jsx("div",{style:he.handleCustom,children:t}):To.jsxs("div",{style:he.handleDefault,children:[To.jsx("div",{style:he.leftArrow}),To.jsx("div",{style:he.rightArrow})]}),To.jsx("div",{style:he.line})]}),l&&To.jsx("div",{style:he.leftLabelContainer,children:To.jsx("div",{style:he.leftLabel,children:l})}),y&&To.jsx("div",{style:he.rightLabelContainer,children:To.jsx("div",{style:he.rightLabel,children:y})})]})]})};var IT={exports:{}},Yh={};/**
 * @license React
 * react-reconciler-constants.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var KP;function rte(){return KP||(KP=1,Yh.ConcurrentRoot=1,Yh.ContinuousEventPriority=8,Yh.DefaultEventPriority=32,Yh.DiscreteEventPriority=2,Yh.IdleEventPriority=268435456,Yh.LegacyRoot=0,Yh.NoEventPriority=0),Yh}var QP;function ste(){return QP||(QP=1,IT.exports=rte()),IT.exports}var Dx=ste();/**
 * @license
 * Copyright 2010-2025 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const V_="178",Vm={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},Gm={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},UI=0,q2=1,BI=2,ate=3,kI=0,Ew=1,j0=2,rf=3,Sd=0,Bl=1,Eu=2,ah=0,cg=1,W2=2,X2=3,Y2=4,HI=5,Rp=100,FI=101,VI=102,GI=103,jI=104,$I=200,qI=201,WI=202,XI=203,nS=204,iS=205,YI=206,ZI=207,KI=208,QI=209,JI=210,ez=211,tz=212,nz=213,iz=214,rS=0,sS=1,aS=2,gg=3,oS=4,lS=5,cS=6,uS=7,G_=0,rz=1,sz=2,oh=0,Tw=1,az=2,oz=3,dC=4,lz=5,cz=6,uz=7,Z2="attached",fz="detached",Up=300,fh=301,Bp=302,uy=303,d_=304,My=306,p_=1e3,Ra=1001,m_=1002,Po=1003,pC=1004,ote=1004,Vv=1005,lte=1005,Or=1006,$0=1007,cte=1007,ih=1008,K2=1008,Hl=1009,Mw=1010,Aw=1011,fy=1012,j_=1013,hh=1014,Ds=1015,Ha=1016,Cw=1017,Rw=1018,hy=1020,mC=35902,gC=1021,vC=1022,ma=1023,dy=1026,py=1027,$_=1028,q_=1029,yC=1030,Ow=1031,ute=1032,Pw=1033,q0=33776,W0=33777,X0=33778,Y0=33779,fS=35840,hS=35841,dS=35842,pS=35843,mS=36196,gS=37492,vS=37496,yS=37808,_S=37809,bS=37810,xS=37811,SS=37812,wS=37813,ES=37814,TS=37815,MS=37816,AS=37817,CS=37818,RS=37819,OS=37820,PS=37821,Z0=36492,DS=36494,LS=36495,_C=36283,NS=36284,IS=36285,zS=36286,hz=2200,dz=2201,pz=2202,g_=2300,US=2301,Lx=2302,ng=2400,ig=2401,v_=2402,Dw=2500,bC=2501,fte=0,hte=1,dte=2,mz=3200,gz=3201,pte=3202,mte=3203,Vp=0,vz=1,ld="",ka="srgb",vf="srgb-linear",y_="linear",Gr="srgb",gte=0,jm=7680,vte=7681,yte=7682,_te=7683,bte=34055,xte=34056,Ste=5386,wte=512,Ete=513,Tte=514,Mte=515,Ate=516,Cte=517,Rte=518,Q2=519,yz=512,_z=513,bz=514,xC=515,xz=516,Sz=517,wz=518,Ez=519,__=35044,Ote=35048,Pte=35040,Dte=35045,Lte=35049,Nte=35041,Ite=35046,zte=35050,Ute=35042,Bte="100",J2="300 es",Au=2e3,b_=2001,kte={COMPUTE:"compute",RENDER:"render"},Hte={PERSPECTIVE:"perspective",LINEAR:"linear",FLAT:"flat"},Fte={NORMAL:"normal",CENTROID:"centroid",SAMPLE:"sample",FIRST:"first",EITHER:"either"};let gh=class{addEventListener(e,t){this._listeners===void 0&&(this._listeners={});const i=this._listeners;i[e]===void 0&&(i[e]=[]),i[e].indexOf(t)===-1&&i[e].push(t)}hasEventListener(e,t){const i=this._listeners;return i===void 0?!1:i[e]!==void 0&&i[e].indexOf(t)!==-1}removeEventListener(e,t){const i=this._listeners;if(i===void 0)return;const r=i[e];if(r!==void 0){const s=r.indexOf(t);s!==-1&&r.splice(s,1)}}dispatchEvent(e){const t=this._listeners;if(t===void 0)return;const i=t[e.type];if(i!==void 0){e.target=this;const r=i.slice(0);for(let s=0,a=r.length;s<a;s++)r[s].call(this,e);e.target=null}}};const Yo=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let JP=1234567;const ug=Math.PI/180,my=180/Math.PI;function kc(){const n=Math.random()*4294967295|0,e=Math.random()*4294967295|0,t=Math.random()*4294967295|0,i=Math.random()*4294967295|0;return(Yo[n&255]+Yo[n>>8&255]+Yo[n>>16&255]+Yo[n>>24&255]+"-"+Yo[e&255]+Yo[e>>8&255]+"-"+Yo[e>>16&15|64]+Yo[e>>24&255]+"-"+Yo[t&63|128]+Yo[t>>8&255]+"-"+Yo[t>>16&255]+Yo[t>>24&255]+Yo[i&255]+Yo[i>>8&255]+Yo[i>>16&255]+Yo[i>>24&255]).toLowerCase()}function Ti(n,e,t){return Math.max(e,Math.min(t,n))}function SC(n,e){return(n%e+e)%e}function Vte(n,e,t,i,r){return i+(n-e)*(r-i)/(t-e)}function Gte(n,e,t){return n!==e?(t-n)/(e-n):0}function K0(n,e,t){return(1-t)*n+t*e}function jte(n,e,t,i){return K0(n,e,1-Math.exp(-t*i))}function $te(n,e=1){return e-Math.abs(SC(n,e*2)-e)}function qte(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*(3-2*n))}function Wte(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*n*(n*(n*6-15)+10))}function Xte(n,e){return n+Math.floor(Math.random()*(e-n+1))}function Yte(n,e){return n+Math.random()*(e-n)}function Zte(n){return n*(.5-Math.random())}function Kte(n){n!==void 0&&(JP=n);let e=JP+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function Qte(n){return n*ug}function Jte(n){return n*my}function ene(n){return(n&n-1)===0&&n!==0}function tne(n){return Math.pow(2,Math.ceil(Math.log(n)/Math.LN2))}function nne(n){return Math.pow(2,Math.floor(Math.log(n)/Math.LN2))}function ine(n,e,t,i,r){const s=Math.cos,a=Math.sin,o=s(t/2),l=a(t/2),u=s((e+i)/2),d=a((e+i)/2),m=s((e-i)/2),v=a((e-i)/2),y=s((i-e)/2),x=a((i-e)/2);switch(r){case"XYX":n.set(o*d,l*m,l*v,o*u);break;case"YZY":n.set(l*v,o*d,l*m,o*u);break;case"ZXZ":n.set(l*m,l*v,o*d,o*u);break;case"XZX":n.set(o*d,l*x,l*y,o*u);break;case"YXY":n.set(l*y,o*d,l*x,o*u);break;case"ZYZ":n.set(l*x,l*y,o*d,o*u);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+r)}}function Il(n,e){switch(e.constructor){case Float32Array:return n;case Uint32Array:return n/4294967295;case Uint16Array:return n/65535;case Uint8Array:return n/255;case Int32Array:return Math.max(n/2147483647,-1);case Int16Array:return Math.max(n/32767,-1);case Int8Array:return Math.max(n/127,-1);default:throw new Error("Invalid component type.")}}function Ii(n,e){switch(e.constructor){case Float32Array:return n;case Uint32Array:return Math.round(n*4294967295);case Uint16Array:return Math.round(n*65535);case Uint8Array:return Math.round(n*255);case Int32Array:return Math.round(n*2147483647);case Int16Array:return Math.round(n*32767);case Int8Array:return Math.round(n*127);default:throw new Error("Invalid component type.")}}const Tz={DEG2RAD:ug,RAD2DEG:my,generateUUID:kc,clamp:Ti,euclideanModulo:SC,mapLinear:Vte,inverseLerp:Gte,lerp:K0,damp:jte,pingpong:$te,smoothstep:qte,smootherstep:Wte,randInt:Xte,randFloat:Yte,randFloatSpread:Zte,seededRandom:Kte,degToRad:Qte,radToDeg:Jte,isPowerOfTwo:ene,ceilPowerOfTwo:tne,floorPowerOfTwo:nne,setQuaternionFromProperEuler:ine,normalize:Ii,denormalize:Il};class Lt{constructor(e=0,t=0){Lt.prototype.isVector2=!0,this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const t=this.x,i=this.y,r=e.elements;return this.x=r[0]*t+r[3]*i+r[6],this.y=r[1]*t+r[4]*i+r[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=Ti(this.x,e.x,t.x),this.y=Ti(this.y,e.y,t.y),this}clampScalar(e,t){return this.x=Ti(this.x,e,t),this.y=Ti(this.y,e,t),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Ti(i,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const i=this.dot(e)/t;return Math.acos(Ti(i,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,i=this.y-e.y;return t*t+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){const i=Math.cos(t),r=Math.sin(t),s=this.x-e.x,a=this.y-e.y;return this.x=s*i-a*r+e.x,this.y=s*r+a*i+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class el{constructor(e=0,t=0,i=0,r=1){this.isQuaternion=!0,this._x=e,this._y=t,this._z=i,this._w=r}static slerpFlat(e,t,i,r,s,a,o){let l=i[r+0],u=i[r+1],d=i[r+2],m=i[r+3];const v=s[a+0],y=s[a+1],x=s[a+2],T=s[a+3];if(o===0){e[t+0]=l,e[t+1]=u,e[t+2]=d,e[t+3]=m;return}if(o===1){e[t+0]=v,e[t+1]=y,e[t+2]=x,e[t+3]=T;return}if(m!==T||l!==v||u!==y||d!==x){let E=1-o;const w=l*v+u*y+d*x+m*T,P=w>=0?1:-1,D=1-w*w;if(D>Number.EPSILON){const G=Math.sqrt(D),k=Math.atan2(G,w*P);E=Math.sin(E*k)/G,o=Math.sin(o*k)/G}const N=o*P;if(l=l*E+v*N,u=u*E+y*N,d=d*E+x*N,m=m*E+T*N,E===1-o){const G=1/Math.sqrt(l*l+u*u+d*d+m*m);l*=G,u*=G,d*=G,m*=G}}e[t]=l,e[t+1]=u,e[t+2]=d,e[t+3]=m}static multiplyQuaternionsFlat(e,t,i,r,s,a){const o=i[r],l=i[r+1],u=i[r+2],d=i[r+3],m=s[a],v=s[a+1],y=s[a+2],x=s[a+3];return e[t]=o*x+d*m+l*y-u*v,e[t+1]=l*x+d*v+u*m-o*y,e[t+2]=u*x+d*y+o*v-l*m,e[t+3]=d*x-o*m-l*v-u*y,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,i,r){return this._x=e,this._y=t,this._z=i,this._w=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,t=!0){const i=e._x,r=e._y,s=e._z,a=e._order,o=Math.cos,l=Math.sin,u=o(i/2),d=o(r/2),m=o(s/2),v=l(i/2),y=l(r/2),x=l(s/2);switch(a){case"XYZ":this._x=v*d*m+u*y*x,this._y=u*y*m-v*d*x,this._z=u*d*x+v*y*m,this._w=u*d*m-v*y*x;break;case"YXZ":this._x=v*d*m+u*y*x,this._y=u*y*m-v*d*x,this._z=u*d*x-v*y*m,this._w=u*d*m+v*y*x;break;case"ZXY":this._x=v*d*m-u*y*x,this._y=u*y*m+v*d*x,this._z=u*d*x+v*y*m,this._w=u*d*m-v*y*x;break;case"ZYX":this._x=v*d*m-u*y*x,this._y=u*y*m+v*d*x,this._z=u*d*x-v*y*m,this._w=u*d*m+v*y*x;break;case"YZX":this._x=v*d*m+u*y*x,this._y=u*y*m+v*d*x,this._z=u*d*x-v*y*m,this._w=u*d*m-v*y*x;break;case"XZY":this._x=v*d*m-u*y*x,this._y=u*y*m-v*d*x,this._z=u*d*x+v*y*m,this._w=u*d*m+v*y*x;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+a)}return t===!0&&this._onChangeCallback(),this}setFromAxisAngle(e,t){const i=t/2,r=Math.sin(i);return this._x=e.x*r,this._y=e.y*r,this._z=e.z*r,this._w=Math.cos(i),this._onChangeCallback(),this}setFromRotationMatrix(e){const t=e.elements,i=t[0],r=t[4],s=t[8],a=t[1],o=t[5],l=t[9],u=t[2],d=t[6],m=t[10],v=i+o+m;if(v>0){const y=.5/Math.sqrt(v+1);this._w=.25/y,this._x=(d-l)*y,this._y=(s-u)*y,this._z=(a-r)*y}else if(i>o&&i>m){const y=2*Math.sqrt(1+i-o-m);this._w=(d-l)/y,this._x=.25*y,this._y=(r+a)/y,this._z=(s+u)/y}else if(o>m){const y=2*Math.sqrt(1+o-i-m);this._w=(s-u)/y,this._x=(r+a)/y,this._y=.25*y,this._z=(l+d)/y}else{const y=2*Math.sqrt(1+m-i-o);this._w=(a-r)/y,this._x=(s+u)/y,this._y=(l+d)/y,this._z=.25*y}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let i=e.dot(t)+1;return i<1e-8?(i=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=i):(this._x=0,this._y=-e.z,this._z=e.y,this._w=i)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=i),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(Ti(this.dot(e),-1,1)))}rotateTowards(e,t){const i=this.angleTo(e);if(i===0)return this;const r=Math.min(1,t/i);return this.slerp(e,r),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){const i=e._x,r=e._y,s=e._z,a=e._w,o=t._x,l=t._y,u=t._z,d=t._w;return this._x=i*d+a*o+r*u-s*l,this._y=r*d+a*l+s*o-i*u,this._z=s*d+a*u+i*l-r*o,this._w=a*d-i*o-r*l-s*u,this._onChangeCallback(),this}slerp(e,t){if(t===0)return this;if(t===1)return this.copy(e);const i=this._x,r=this._y,s=this._z,a=this._w;let o=a*e._w+i*e._x+r*e._y+s*e._z;if(o<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,o=-o):this.copy(e),o>=1)return this._w=a,this._x=i,this._y=r,this._z=s,this;const l=1-o*o;if(l<=Number.EPSILON){const y=1-t;return this._w=y*a+t*this._w,this._x=y*i+t*this._x,this._y=y*r+t*this._y,this._z=y*s+t*this._z,this.normalize(),this}const u=Math.sqrt(l),d=Math.atan2(u,o),m=Math.sin((1-t)*d)/u,v=Math.sin(t*d)/u;return this._w=a*m+this._w*v,this._x=i*m+this._x*v,this._y=r*m+this._y*v,this._z=s*m+this._z*v,this._onChangeCallback(),this}slerpQuaternions(e,t,i){return this.copy(e).slerp(t,i)}random(){const e=2*Math.PI*Math.random(),t=2*Math.PI*Math.random(),i=Math.random(),r=Math.sqrt(1-i),s=Math.sqrt(i);return this.set(r*Math.sin(e),r*Math.cos(e),s*Math.sin(t),s*Math.cos(t))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,t=0){return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class me{constructor(e=0,t=0,i=0){me.prototype.isVector3=!0,this.x=e,this.y=t,this.z=i}set(e,t,i){return i===void 0&&(i=this.z),this.x=e,this.y=t,this.z=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return this.applyQuaternion(eD.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion(eD.setFromAxisAngle(e,t))}applyMatrix3(e){const t=this.x,i=this.y,r=this.z,s=e.elements;return this.x=s[0]*t+s[3]*i+s[6]*r,this.y=s[1]*t+s[4]*i+s[7]*r,this.z=s[2]*t+s[5]*i+s[8]*r,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const t=this.x,i=this.y,r=this.z,s=e.elements,a=1/(s[3]*t+s[7]*i+s[11]*r+s[15]);return this.x=(s[0]*t+s[4]*i+s[8]*r+s[12])*a,this.y=(s[1]*t+s[5]*i+s[9]*r+s[13])*a,this.z=(s[2]*t+s[6]*i+s[10]*r+s[14])*a,this}applyQuaternion(e){const t=this.x,i=this.y,r=this.z,s=e.x,a=e.y,o=e.z,l=e.w,u=2*(a*r-o*i),d=2*(o*t-s*r),m=2*(s*i-a*t);return this.x=t+l*u+a*m-o*d,this.y=i+l*d+o*u-s*m,this.z=r+l*m+s*d-a*u,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const t=this.x,i=this.y,r=this.z,s=e.elements;return this.x=s[0]*t+s[4]*i+s[8]*r,this.y=s[1]*t+s[5]*i+s[9]*r,this.z=s[2]*t+s[6]*i+s[10]*r,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=Ti(this.x,e.x,t.x),this.y=Ti(this.y,e.y,t.y),this.z=Ti(this.z,e.z,t.z),this}clampScalar(e,t){return this.x=Ti(this.x,e,t),this.y=Ti(this.y,e,t),this.z=Ti(this.z,e,t),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Ti(i,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this.z=e.z+(t.z-e.z)*i,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,t){const i=e.x,r=e.y,s=e.z,a=t.x,o=t.y,l=t.z;return this.x=r*l-s*o,this.y=s*a-i*l,this.z=i*o-r*a,this}projectOnVector(e){const t=e.lengthSq();if(t===0)return this.set(0,0,0);const i=e.dot(this)/t;return this.copy(e).multiplyScalar(i)}projectOnPlane(e){return zT.copy(this).projectOnVector(e),this.sub(zT)}reflect(e){return this.sub(zT.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const i=this.dot(e)/t;return Math.acos(Ti(i,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,i=this.y-e.y,r=this.z-e.z;return t*t+i*i+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,i){const r=Math.sin(t)*e;return this.x=r*Math.sin(i),this.y=Math.cos(t)*e,this.z=r*Math.cos(i),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,i){return this.x=e*Math.sin(t),this.y=i,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){const t=this.setFromMatrixColumn(e,0).length(),i=this.setFromMatrixColumn(e,1).length(),r=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=i,this.z=r,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,t*4)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,t*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=Math.random()*Math.PI*2,t=Math.random()*2-1,i=Math.sqrt(1-t*t);return this.x=i*Math.cos(e),this.y=t,this.z=i*Math.sin(e),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const zT=new me,eD=new el;class Oi{constructor(e,t,i,r,s,a,o,l,u){Oi.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],e!==void 0&&this.set(e,t,i,r,s,a,o,l,u)}set(e,t,i,r,s,a,o,l,u){const d=this.elements;return d[0]=e,d[1]=r,d[2]=o,d[3]=t,d[4]=s,d[5]=l,d[6]=i,d[7]=a,d[8]=u,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const t=this.elements,i=e.elements;return t[0]=i[0],t[1]=i[1],t[2]=i[2],t[3]=i[3],t[4]=i[4],t[5]=i[5],t[6]=i[6],t[7]=i[7],t[8]=i[8],this}extractBasis(e,t,i){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),i.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const i=e.elements,r=t.elements,s=this.elements,a=i[0],o=i[3],l=i[6],u=i[1],d=i[4],m=i[7],v=i[2],y=i[5],x=i[8],T=r[0],E=r[3],w=r[6],P=r[1],D=r[4],N=r[7],G=r[2],k=r[5],M=r[8];return s[0]=a*T+o*P+l*G,s[3]=a*E+o*D+l*k,s[6]=a*w+o*N+l*M,s[1]=u*T+d*P+m*G,s[4]=u*E+d*D+m*k,s[7]=u*w+d*N+m*M,s[2]=v*T+y*P+x*G,s[5]=v*E+y*D+x*k,s[8]=v*w+y*N+x*M,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){const e=this.elements,t=e[0],i=e[1],r=e[2],s=e[3],a=e[4],o=e[5],l=e[6],u=e[7],d=e[8];return t*a*d-t*o*u-i*s*d+i*o*l+r*s*u-r*a*l}invert(){const e=this.elements,t=e[0],i=e[1],r=e[2],s=e[3],a=e[4],o=e[5],l=e[6],u=e[7],d=e[8],m=d*a-o*u,v=o*l-d*s,y=u*s-a*l,x=t*m+i*v+r*y;if(x===0)return this.set(0,0,0,0,0,0,0,0,0);const T=1/x;return e[0]=m*T,e[1]=(r*u-d*i)*T,e[2]=(o*i-r*a)*T,e[3]=v*T,e[4]=(d*t-r*l)*T,e[5]=(r*s-o*t)*T,e[6]=y*T,e[7]=(i*l-u*t)*T,e[8]=(a*t-i*s)*T,this}transpose(){let e;const t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,i,r,s,a,o){const l=Math.cos(s),u=Math.sin(s);return this.set(i*l,i*u,-i*(l*a+u*o)+a+e,-r*u,r*l,-r*(-u*a+l*o)+o+t,0,0,1),this}scale(e,t){return this.premultiply(UT.makeScale(e,t)),this}rotate(e){return this.premultiply(UT.makeRotation(-e)),this}translate(e,t){return this.premultiply(UT.makeTranslation(e,t)),this}makeTranslation(e,t){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,t,0,0,1),this}makeRotation(e){const t=Math.cos(e),i=Math.sin(e);return this.set(t,-i,0,i,t,0,0,0,1),this}makeScale(e,t){return this.set(e,0,0,0,t,0,0,0,1),this}equals(e){const t=this.elements,i=e.elements;for(let r=0;r<9;r++)if(t[r]!==i[r])return!1;return!0}fromArray(e,t=0){for(let i=0;i<9;i++)this.elements[i]=e[i+t];return this}toArray(e=[],t=0){const i=this.elements;return e[t]=i[0],e[t+1]=i[1],e[t+2]=i[2],e[t+3]=i[3],e[t+4]=i[4],e[t+5]=i[5],e[t+6]=i[6],e[t+7]=i[7],e[t+8]=i[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const UT=new Oi;function Mz(n){for(let e=n.length-1;e>=0;--e)if(n[e]>=65535)return!0;return!1}const rne={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function Gv(n,e){return new rne[n](e)}function x_(n){return document.createElementNS("http://www.w3.org/1999/xhtml",n)}function Az(){const n=x_("canvas");return n.style.display="block",n}const tD={};function Jv(n){n in tD||(tD[n]=!0,console.warn(n))}function sne(n,e,t){return new Promise(function(i,r){function s(){switch(n.clientWaitSync(e,n.SYNC_FLUSH_COMMANDS_BIT,0)){case n.WAIT_FAILED:r();break;case n.TIMEOUT_EXPIRED:setTimeout(s,t);break;default:i()}}setTimeout(s,t)})}function ane(n){const e=n.elements;e[2]=.5*e[2]+.5*e[3],e[6]=.5*e[6]+.5*e[7],e[10]=.5*e[10]+.5*e[11],e[14]=.5*e[14]+.5*e[15]}function one(n){const e=n.elements;e[11]===-1?(e[10]=-e[10]-1,e[14]=-e[14]):(e[10]=-e[10],e[14]=-e[14]+1)}const nD=new Oi().set(.4123908,.3575843,.1804808,.212639,.7151687,.0721923,.0193308,.1191948,.9505322),iD=new Oi().set(3.2409699,-1.5373832,-.4986108,-.9692436,1.8759675,.0415551,.0556301,-.203977,1.0569715);function lne(){const n={enabled:!0,workingColorSpace:vf,spaces:{},convert:function(r,s,a){return this.enabled===!1||s===a||!s||!a||(this.spaces[s].transfer===Gr&&(r.r=md(r.r),r.g=md(r.g),r.b=md(r.b)),this.spaces[s].primaries!==this.spaces[a].primaries&&(r.applyMatrix3(this.spaces[s].toXYZ),r.applyMatrix3(this.spaces[a].fromXYZ)),this.spaces[a].transfer===Gr&&(r.r=ey(r.r),r.g=ey(r.g),r.b=ey(r.b))),r},workingToColorSpace:function(r,s){return this.convert(r,this.workingColorSpace,s)},colorSpaceToWorking:function(r,s){return this.convert(r,s,this.workingColorSpace)},getPrimaries:function(r){return this.spaces[r].primaries},getTransfer:function(r){return r===ld?y_:this.spaces[r].transfer},getLuminanceCoefficients:function(r,s=this.workingColorSpace){return r.fromArray(this.spaces[s].luminanceCoefficients)},define:function(r){Object.assign(this.spaces,r)},_getMatrix:function(r,s,a){return r.copy(this.spaces[s].toXYZ).multiply(this.spaces[a].fromXYZ)},_getDrawingBufferColorSpace:function(r){return this.spaces[r].outputColorSpaceConfig.drawingBufferColorSpace},_getUnpackColorSpace:function(r=this.workingColorSpace){return this.spaces[r].workingColorSpaceConfig.unpackColorSpace},fromWorkingColorSpace:function(r,s){return Jv("THREE.ColorManagement: .fromWorkingColorSpace() has been renamed to .workingToColorSpace()."),n.workingToColorSpace(r,s)},toWorkingColorSpace:function(r,s){return Jv("THREE.ColorManagement: .toWorkingColorSpace() has been renamed to .colorSpaceToWorking()."),n.colorSpaceToWorking(r,s)}},e=[.64,.33,.3,.6,.15,.06],t=[.2126,.7152,.0722],i=[.3127,.329];return n.define({[vf]:{primaries:e,whitePoint:i,transfer:y_,toXYZ:nD,fromXYZ:iD,luminanceCoefficients:t,workingColorSpaceConfig:{unpackColorSpace:ka},outputColorSpaceConfig:{drawingBufferColorSpace:ka}},[ka]:{primaries:e,whitePoint:i,transfer:Gr,toXYZ:nD,fromXYZ:iD,luminanceCoefficients:t,outputColorSpaceConfig:{drawingBufferColorSpace:ka}}}),n}const ur=lne();function md(n){return n<.04045?n*.0773993808:Math.pow(n*.9478672986+.0521327014,2.4)}function ey(n){return n<.0031308?n*12.92:1.055*Math.pow(n,.41666)-.055}let dv;class Cz{static getDataURL(e,t="image/png"){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let i;if(e instanceof HTMLCanvasElement)i=e;else{dv===void 0&&(dv=x_("canvas")),dv.width=e.width,dv.height=e.height;const r=dv.getContext("2d");e instanceof ImageData?r.putImageData(e,0,0):r.drawImage(e,0,0,e.width,e.height),i=dv}return i.toDataURL(t)}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const t=x_("canvas");t.width=e.width,t.height=e.height;const i=t.getContext("2d");i.drawImage(e,0,0,e.width,e.height);const r=i.getImageData(0,0,e.width,e.height),s=r.data;for(let a=0;a<s.length;a++)s[a]=md(s[a]/255)*255;return i.putImageData(r,0,0),t}else if(e.data){const t=e.data.slice(0);for(let i=0;i<t.length;i++)t instanceof Uint8Array||t instanceof Uint8ClampedArray?t[i]=Math.floor(md(t[i]/255)*255):t[i]=md(t[i]);return{data:t,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let cne=0;class Dp{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:cne++}),this.uuid=kc(),this.data=e,this.dataReady=!0,this.version=0}getSize(e){const t=this.data;return t instanceof HTMLVideoElement?e.set(t.videoWidth,t.videoHeight):t!==null?e.set(t.width,t.height,t.depth||0):e.set(0,0,0),e}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const i={uuid:this.uuid,url:""},r=this.data;if(r!==null){let s;if(Array.isArray(r)){s=[];for(let a=0,o=r.length;a<o;a++)r[a].isDataTexture?s.push(BT(r[a].image)):s.push(BT(r[a]))}else s=BT(r);i.url=s}return t||(e.images[this.uuid]=i),i}}function BT(n){return typeof HTMLImageElement<"u"&&n instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&n instanceof ImageBitmap?Cz.getDataURL(n):n.data?{data:Array.from(n.data),width:n.width,height:n.height,type:n.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let une=0;const kT=new me;class zr extends gh{constructor(e=zr.DEFAULT_IMAGE,t=zr.DEFAULT_MAPPING,i=Ra,r=Ra,s=Or,a=ih,o=ma,l=Hl,u=zr.DEFAULT_ANISOTROPY,d=ld){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:une++}),this.uuid=kc(),this.name="",this.source=new Dp(e),this.mipmaps=[],this.mapping=t,this.channel=0,this.wrapS=i,this.wrapT=r,this.magFilter=s,this.minFilter=a,this.anisotropy=u,this.format=o,this.internalFormat=null,this.type=l,this.offset=new Lt(0,0),this.repeat=new Lt(1,1),this.center=new Lt(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Oi,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.colorSpace=d,this.userData={},this.updateRanges=[],this.version=0,this.onUpdate=null,this.renderTarget=null,this.isRenderTargetTexture=!1,this.isArrayTexture=!!(e&&e.depth&&e.depth>1),this.pmremVersion=0}get width(){return this.source.getSize(kT).x}get height(){return this.source.getSize(kT).y}get depth(){return this.source.getSize(kT).z}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.renderTarget=e.renderTarget,this.isRenderTargetTexture=e.isRenderTargetTexture,this.isArrayTexture=e.isArrayTexture,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}setValues(e){for(const t in e){const i=e[t];if(i===void 0){console.warn(`THREE.Texture.setValues(): parameter '${t}' has value of undefined.`);continue}const r=this[t];if(r===void 0){console.warn(`THREE.Texture.setValues(): property '${t}' does not exist.`);continue}r&&i&&r.isVector2&&i.isVector2||r&&i&&r.isVector3&&i.isVector3||r&&i&&r.isMatrix3&&i.isMatrix3?r.copy(i):this[t]=i}}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const i={metadata:{version:4.7,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(i.userData=this.userData),t||(e.textures[this.uuid]=i),i}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==Up)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case p_:e.x=e.x-Math.floor(e.x);break;case Ra:e.x=e.x<0?0:1;break;case m_:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case p_:e.y=e.y-Math.floor(e.y);break;case Ra:e.y=e.y<0?0:1;break;case m_:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}set needsPMREMUpdate(e){e===!0&&this.pmremVersion++}}zr.DEFAULT_IMAGE=null;zr.DEFAULT_MAPPING=Up;zr.DEFAULT_ANISOTROPY=1;class _r{constructor(e=0,t=0,i=0,r=1){_r.prototype.isVector4=!0,this.x=e,this.y=t,this.z=i,this.w=r}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,i,r){return this.x=e,this.y=t,this.z=i,this.w=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const t=this.x,i=this.y,r=this.z,s=this.w,a=e.elements;return this.x=a[0]*t+a[4]*i+a[8]*r+a[12]*s,this.y=a[1]*t+a[5]*i+a[9]*r+a[13]*s,this.z=a[2]*t+a[6]*i+a[10]*r+a[14]*s,this.w=a[3]*t+a[7]*i+a[11]*r+a[15]*s,this}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this.w/=e.w,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,i,r,s;const l=e.elements,u=l[0],d=l[4],m=l[8],v=l[1],y=l[5],x=l[9],T=l[2],E=l[6],w=l[10];if(Math.abs(d-v)<.01&&Math.abs(m-T)<.01&&Math.abs(x-E)<.01){if(Math.abs(d+v)<.1&&Math.abs(m+T)<.1&&Math.abs(x+E)<.1&&Math.abs(u+y+w-3)<.1)return this.set(1,0,0,0),this;t=Math.PI;const D=(u+1)/2,N=(y+1)/2,G=(w+1)/2,k=(d+v)/4,M=(m+T)/4,$=(x+E)/4;return D>N&&D>G?D<.01?(i=0,r=.707106781,s=.707106781):(i=Math.sqrt(D),r=k/i,s=M/i):N>G?N<.01?(i=.707106781,r=0,s=.707106781):(r=Math.sqrt(N),i=k/r,s=$/r):G<.01?(i=.707106781,r=.707106781,s=0):(s=Math.sqrt(G),i=M/s,r=$/s),this.set(i,r,s,t),this}let P=Math.sqrt((E-x)*(E-x)+(m-T)*(m-T)+(v-d)*(v-d));return Math.abs(P)<.001&&(P=1),this.x=(E-x)/P,this.y=(m-T)/P,this.z=(v-d)/P,this.w=Math.acos((u+y+w-1)/2),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this.w=t[15],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=Ti(this.x,e.x,t.x),this.y=Ti(this.y,e.y,t.y),this.z=Ti(this.z,e.z,t.z),this.w=Ti(this.w,e.w,t.w),this}clampScalar(e,t){return this.x=Ti(this.x,e,t),this.y=Ti(this.y,e,t),this.z=Ti(this.z,e,t),this.w=Ti(this.w,e,t),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Ti(i,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this.z=e.z+(t.z-e.z)*i,this.w=e.w+(t.w-e.w)*i,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class wC extends gh{constructor(e=1,t=1,i={}){super(),i=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:Or,depthBuffer:!0,stencilBuffer:!1,resolveDepthBuffer:!0,resolveStencilBuffer:!0,depthTexture:null,samples:0,count:1,depth:1,multiview:!1},i),this.isRenderTarget=!0,this.width=e,this.height=t,this.depth=i.depth,this.scissor=new _r(0,0,e,t),this.scissorTest=!1,this.viewport=new _r(0,0,e,t);const r={width:e,height:t,depth:i.depth},s=new zr(r);this.textures=[];const a=i.count;for(let o=0;o<a;o++)this.textures[o]=s.clone(),this.textures[o].isRenderTargetTexture=!0,this.textures[o].renderTarget=this;this._setTextureOptions(i),this.depthBuffer=i.depthBuffer,this.stencilBuffer=i.stencilBuffer,this.resolveDepthBuffer=i.resolveDepthBuffer,this.resolveStencilBuffer=i.resolveStencilBuffer,this._depthTexture=null,this.depthTexture=i.depthTexture,this.samples=i.samples,this.multiview=i.multiview}_setTextureOptions(e={}){const t={minFilter:Or,generateMipmaps:!1,flipY:!1,internalFormat:null};e.mapping!==void 0&&(t.mapping=e.mapping),e.wrapS!==void 0&&(t.wrapS=e.wrapS),e.wrapT!==void 0&&(t.wrapT=e.wrapT),e.wrapR!==void 0&&(t.wrapR=e.wrapR),e.magFilter!==void 0&&(t.magFilter=e.magFilter),e.minFilter!==void 0&&(t.minFilter=e.minFilter),e.format!==void 0&&(t.format=e.format),e.type!==void 0&&(t.type=e.type),e.anisotropy!==void 0&&(t.anisotropy=e.anisotropy),e.colorSpace!==void 0&&(t.colorSpace=e.colorSpace),e.flipY!==void 0&&(t.flipY=e.flipY),e.generateMipmaps!==void 0&&(t.generateMipmaps=e.generateMipmaps),e.internalFormat!==void 0&&(t.internalFormat=e.internalFormat);for(let i=0;i<this.textures.length;i++)this.textures[i].setValues(t)}get texture(){return this.textures[0]}set texture(e){this.textures[0]=e}set depthTexture(e){this._depthTexture!==null&&(this._depthTexture.renderTarget=null),e!==null&&(e.renderTarget=this),this._depthTexture=e}get depthTexture(){return this._depthTexture}setSize(e,t,i=1){if(this.width!==e||this.height!==t||this.depth!==i){this.width=e,this.height=t,this.depth=i;for(let r=0,s=this.textures.length;r<s;r++)this.textures[r].image.width=e,this.textures[r].image.height=t,this.textures[r].image.depth=i,this.textures[r].isArrayTexture=this.textures[r].image.depth>1;this.dispose()}this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.textures.length=0;for(let t=0,i=e.textures.length;t<i;t++){this.textures[t]=e.textures[t].clone(),this.textures[t].isRenderTargetTexture=!0,this.textures[t].renderTarget=this;const r=Object.assign({},e.textures[t].image);this.textures[t].source=new Dp(r)}return this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.resolveDepthBuffer=e.resolveDepthBuffer,this.resolveStencilBuffer=e.resolveStencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class Fc extends wC{constructor(e=1,t=1,i={}){super(e,t,i),this.isWebGLRenderTarget=!0}}class Lw extends zr{constructor(e=null,t=1,i=1,r=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:t,height:i,depth:r},this.magFilter=Po,this.minFilter=Po,this.wrapR=Ra,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class fne extends Fc{constructor(e=1,t=1,i=1,r={}){super(e,t,r),this.isWebGLArrayRenderTarget=!0,this.depth=i,this.texture=new Lw(null,e,t,i),this._setTextureOptions(r),this.texture.isRenderTargetTexture=!0}}class Nw extends zr{constructor(e=null,t=1,i=1,r=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:t,height:i,depth:r},this.magFilter=Po,this.minFilter=Po,this.wrapR=Ra,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class hne extends Fc{constructor(e=1,t=1,i=1,r={}){super(e,t,r),this.isWebGL3DRenderTarget=!0,this.depth=i,this.texture=new Nw(null,e,t,i),this._setTextureOptions(r),this.texture.isRenderTargetTexture=!0}}class tl{constructor(e=new me(1/0,1/0,1/0),t=new me(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){this.makeEmpty();for(let t=0,i=e.length;t<i;t+=3)this.expandByPoint(Qu.fromArray(e,t));return this}setFromBufferAttribute(e){this.makeEmpty();for(let t=0,i=e.count;t<i;t++)this.expandByPoint(Qu.fromBufferAttribute(e,t));return this}setFromPoints(e){this.makeEmpty();for(let t=0,i=e.length;t<i;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const i=Qu.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(i),this.max.copy(e).add(i),this}setFromObject(e,t=!1){return this.makeEmpty(),this.expandByObject(e,t)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,t=!1){e.updateWorldMatrix(!1,!1);const i=e.geometry;if(i!==void 0){const s=i.getAttribute("position");if(t===!0&&s!==void 0&&e.isInstancedMesh!==!0)for(let a=0,o=s.count;a<o;a++)e.isMesh===!0?e.getVertexPosition(a,Qu):Qu.fromBufferAttribute(s,a),Qu.applyMatrix4(e.matrixWorld),this.expandByPoint(Qu);else e.boundingBox!==void 0?(e.boundingBox===null&&e.computeBoundingBox(),xb.copy(e.boundingBox)):(i.boundingBox===null&&i.computeBoundingBox(),xb.copy(i.boundingBox)),xb.applyMatrix4(e.matrixWorld),this.union(xb)}const r=e.children;for(let s=0,a=r.length;s<a;s++)this.expandByObject(r[s],t);return this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y&&e.z>=this.min.z&&e.z<=this.max.z}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y&&e.max.z>=this.min.z&&e.min.z<=this.max.z}intersectsSphere(e){return this.clampPoint(e.center,Qu),Qu.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,i;return e.normal.x>0?(t=e.normal.x*this.min.x,i=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,i=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,i+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,i+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,i+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,i+=e.normal.z*this.min.z),t<=-e.constant&&i>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(_0),Sb.subVectors(this.max,_0),pv.subVectors(e.a,_0),mv.subVectors(e.b,_0),gv.subVectors(e.c,_0),pp.subVectors(mv,pv),mp.subVectors(gv,mv),Am.subVectors(pv,gv);let t=[0,-pp.z,pp.y,0,-mp.z,mp.y,0,-Am.z,Am.y,pp.z,0,-pp.x,mp.z,0,-mp.x,Am.z,0,-Am.x,-pp.y,pp.x,0,-mp.y,mp.x,0,-Am.y,Am.x,0];return!HT(t,pv,mv,gv,Sb)||(t=[1,0,0,0,1,0,0,0,1],!HT(t,pv,mv,gv,Sb))?!1:(wb.crossVectors(pp,mp),t=[wb.x,wb.y,wb.z],HT(t,pv,mv,gv,Sb))}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,Qu).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(Qu).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(Zh[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),Zh[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),Zh[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),Zh[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),Zh[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),Zh[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),Zh[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),Zh[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(Zh),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}toJSON(){return{min:this.min.toArray(),max:this.max.toArray()}}fromJSON(e){return this.min.fromArray(e.min),this.max.fromArray(e.max),this}}const Zh=[new me,new me,new me,new me,new me,new me,new me,new me],Qu=new me,xb=new tl,pv=new me,mv=new me,gv=new me,pp=new me,mp=new me,Am=new me,_0=new me,Sb=new me,wb=new me,Cm=new me;function HT(n,e,t,i,r){for(let s=0,a=n.length-3;s<=a;s+=3){Cm.fromArray(n,s);const o=r.x*Math.abs(Cm.x)+r.y*Math.abs(Cm.y)+r.z*Math.abs(Cm.z),l=e.dot(Cm),u=t.dot(Cm),d=i.dot(Cm);if(Math.max(-Math.max(l,u,d),Math.min(l,u,d))>o)return!1}return!0}const dne=new tl,b0=new me,FT=new me;class Do{constructor(e=new me,t=-1){this.isSphere=!0,this.center=e,this.radius=t}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(e,t){const i=this.center;t!==void 0?i.copy(t):dne.setFromPoints(e).getCenter(i);let r=0;for(let s=0,a=e.length;s<a;s++)r=Math.max(r,i.distanceToSquared(e[s]));return this.radius=Math.sqrt(r),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){const i=this.center.distanceToSquared(e);return t.copy(e),i>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;b0.subVectors(e,this.center);const t=b0.lengthSq();if(t>this.radius*this.radius){const i=Math.sqrt(t),r=(i-this.radius)*.5;this.center.addScaledVector(b0,r/i),this.radius+=r}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(FT.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(b0.copy(e.center).add(FT)),this.expandByPoint(b0.copy(e.center).sub(FT))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}toJSON(){return{radius:this.radius,center:this.center.toArray()}}fromJSON(e){return this.radius=e.radius,this.center.fromArray(e.center),this}}const Kh=new me,VT=new me,Eb=new me,gp=new me,GT=new me,Tb=new me,jT=new me;class Eg{constructor(e=new me,t=new me(0,0,-1)){this.origin=e,this.direction=t}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return t.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,Kh)),this}closestPointToPoint(e,t){t.subVectors(e,this.origin);const i=t.dot(this.direction);return i<0?t.copy(this.origin):t.copy(this.origin).addScaledVector(this.direction,i)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const t=Kh.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(Kh.copy(this.origin).addScaledVector(this.direction,t),Kh.distanceToSquared(e))}distanceSqToSegment(e,t,i,r){VT.copy(e).add(t).multiplyScalar(.5),Eb.copy(t).sub(e).normalize(),gp.copy(this.origin).sub(VT);const s=e.distanceTo(t)*.5,a=-this.direction.dot(Eb),o=gp.dot(this.direction),l=-gp.dot(Eb),u=gp.lengthSq(),d=Math.abs(1-a*a);let m,v,y,x;if(d>0)if(m=a*l-o,v=a*o-l,x=s*d,m>=0)if(v>=-x)if(v<=x){const T=1/d;m*=T,v*=T,y=m*(m+a*v+2*o)+v*(a*m+v+2*l)+u}else v=s,m=Math.max(0,-(a*v+o)),y=-m*m+v*(v+2*l)+u;else v=-s,m=Math.max(0,-(a*v+o)),y=-m*m+v*(v+2*l)+u;else v<=-x?(m=Math.max(0,-(-a*s+o)),v=m>0?-s:Math.min(Math.max(-s,-l),s),y=-m*m+v*(v+2*l)+u):v<=x?(m=0,v=Math.min(Math.max(-s,-l),s),y=v*(v+2*l)+u):(m=Math.max(0,-(a*s+o)),v=m>0?s:Math.min(Math.max(-s,-l),s),y=-m*m+v*(v+2*l)+u);else v=a>0?-s:s,m=Math.max(0,-(a*v+o)),y=-m*m+v*(v+2*l)+u;return i&&i.copy(this.origin).addScaledVector(this.direction,m),r&&r.copy(VT).addScaledVector(Eb,v),y}intersectSphere(e,t){Kh.subVectors(e.center,this.origin);const i=Kh.dot(this.direction),r=Kh.dot(Kh)-i*i,s=e.radius*e.radius;if(r>s)return null;const a=Math.sqrt(s-r),o=i-a,l=i+a;return l<0?null:o<0?this.at(l,t):this.at(o,t)}intersectsSphere(e){return e.radius<0?!1:this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const t=e.normal.dot(this.direction);if(t===0)return e.distanceToPoint(this.origin)===0?0:null;const i=-(this.origin.dot(e.normal)+e.constant)/t;return i>=0?i:null}intersectPlane(e,t){const i=this.distanceToPlane(e);return i===null?null:this.at(i,t)}intersectsPlane(e){const t=e.distanceToPoint(this.origin);return t===0||e.normal.dot(this.direction)*t<0}intersectBox(e,t){let i,r,s,a,o,l;const u=1/this.direction.x,d=1/this.direction.y,m=1/this.direction.z,v=this.origin;return u>=0?(i=(e.min.x-v.x)*u,r=(e.max.x-v.x)*u):(i=(e.max.x-v.x)*u,r=(e.min.x-v.x)*u),d>=0?(s=(e.min.y-v.y)*d,a=(e.max.y-v.y)*d):(s=(e.max.y-v.y)*d,a=(e.min.y-v.y)*d),i>a||s>r||((s>i||isNaN(i))&&(i=s),(a<r||isNaN(r))&&(r=a),m>=0?(o=(e.min.z-v.z)*m,l=(e.max.z-v.z)*m):(o=(e.max.z-v.z)*m,l=(e.min.z-v.z)*m),i>l||o>r)||((o>i||i!==i)&&(i=o),(l<r||r!==r)&&(r=l),r<0)?null:this.at(i>=0?i:r,t)}intersectsBox(e){return this.intersectBox(e,Kh)!==null}intersectTriangle(e,t,i,r,s){GT.subVectors(t,e),Tb.subVectors(i,e),jT.crossVectors(GT,Tb);let a=this.direction.dot(jT),o;if(a>0){if(r)return null;o=1}else if(a<0)o=-1,a=-a;else return null;gp.subVectors(this.origin,e);const l=o*this.direction.dot(Tb.crossVectors(gp,Tb));if(l<0)return null;const u=o*this.direction.dot(GT.cross(gp));if(u<0||l+u>a)return null;const d=-o*gp.dot(jT);return d<0?null:this.at(d/a,s)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class mi{constructor(e,t,i,r,s,a,o,l,u,d,m,v,y,x,T,E){mi.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e!==void 0&&this.set(e,t,i,r,s,a,o,l,u,d,m,v,y,x,T,E)}set(e,t,i,r,s,a,o,l,u,d,m,v,y,x,T,E){const w=this.elements;return w[0]=e,w[4]=t,w[8]=i,w[12]=r,w[1]=s,w[5]=a,w[9]=o,w[13]=l,w[2]=u,w[6]=d,w[10]=m,w[14]=v,w[3]=y,w[7]=x,w[11]=T,w[15]=E,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new mi().fromArray(this.elements)}copy(e){const t=this.elements,i=e.elements;return t[0]=i[0],t[1]=i[1],t[2]=i[2],t[3]=i[3],t[4]=i[4],t[5]=i[5],t[6]=i[6],t[7]=i[7],t[8]=i[8],t[9]=i[9],t[10]=i[10],t[11]=i[11],t[12]=i[12],t[13]=i[13],t[14]=i[14],t[15]=i[15],this}copyPosition(e){const t=this.elements,i=e.elements;return t[12]=i[12],t[13]=i[13],t[14]=i[14],this}setFromMatrix3(e){const t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,i){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),i.setFromMatrixColumn(this,2),this}makeBasis(e,t,i){return this.set(e.x,t.x,i.x,0,e.y,t.y,i.y,0,e.z,t.z,i.z,0,0,0,0,1),this}extractRotation(e){const t=this.elements,i=e.elements,r=1/vv.setFromMatrixColumn(e,0).length(),s=1/vv.setFromMatrixColumn(e,1).length(),a=1/vv.setFromMatrixColumn(e,2).length();return t[0]=i[0]*r,t[1]=i[1]*r,t[2]=i[2]*r,t[3]=0,t[4]=i[4]*s,t[5]=i[5]*s,t[6]=i[6]*s,t[7]=0,t[8]=i[8]*a,t[9]=i[9]*a,t[10]=i[10]*a,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){const t=this.elements,i=e.x,r=e.y,s=e.z,a=Math.cos(i),o=Math.sin(i),l=Math.cos(r),u=Math.sin(r),d=Math.cos(s),m=Math.sin(s);if(e.order==="XYZ"){const v=a*d,y=a*m,x=o*d,T=o*m;t[0]=l*d,t[4]=-l*m,t[8]=u,t[1]=y+x*u,t[5]=v-T*u,t[9]=-o*l,t[2]=T-v*u,t[6]=x+y*u,t[10]=a*l}else if(e.order==="YXZ"){const v=l*d,y=l*m,x=u*d,T=u*m;t[0]=v+T*o,t[4]=x*o-y,t[8]=a*u,t[1]=a*m,t[5]=a*d,t[9]=-o,t[2]=y*o-x,t[6]=T+v*o,t[10]=a*l}else if(e.order==="ZXY"){const v=l*d,y=l*m,x=u*d,T=u*m;t[0]=v-T*o,t[4]=-a*m,t[8]=x+y*o,t[1]=y+x*o,t[5]=a*d,t[9]=T-v*o,t[2]=-a*u,t[6]=o,t[10]=a*l}else if(e.order==="ZYX"){const v=a*d,y=a*m,x=o*d,T=o*m;t[0]=l*d,t[4]=x*u-y,t[8]=v*u+T,t[1]=l*m,t[5]=T*u+v,t[9]=y*u-x,t[2]=-u,t[6]=o*l,t[10]=a*l}else if(e.order==="YZX"){const v=a*l,y=a*u,x=o*l,T=o*u;t[0]=l*d,t[4]=T-v*m,t[8]=x*m+y,t[1]=m,t[5]=a*d,t[9]=-o*d,t[2]=-u*d,t[6]=y*m+x,t[10]=v-T*m}else if(e.order==="XZY"){const v=a*l,y=a*u,x=o*l,T=o*u;t[0]=l*d,t[4]=-m,t[8]=u*d,t[1]=v*m+T,t[5]=a*d,t[9]=y*m-x,t[2]=x*m-y,t[6]=o*d,t[10]=T*m+v}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose(pne,e,mne)}lookAt(e,t,i){const r=this.elements;return Ic.subVectors(e,t),Ic.lengthSq()===0&&(Ic.z=1),Ic.normalize(),vp.crossVectors(i,Ic),vp.lengthSq()===0&&(Math.abs(i.z)===1?Ic.x+=1e-4:Ic.z+=1e-4,Ic.normalize(),vp.crossVectors(i,Ic)),vp.normalize(),Mb.crossVectors(Ic,vp),r[0]=vp.x,r[4]=Mb.x,r[8]=Ic.x,r[1]=vp.y,r[5]=Mb.y,r[9]=Ic.y,r[2]=vp.z,r[6]=Mb.z,r[10]=Ic.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const i=e.elements,r=t.elements,s=this.elements,a=i[0],o=i[4],l=i[8],u=i[12],d=i[1],m=i[5],v=i[9],y=i[13],x=i[2],T=i[6],E=i[10],w=i[14],P=i[3],D=i[7],N=i[11],G=i[15],k=r[0],M=r[4],$=r[8],V=r[12],H=r[1],ee=r[5],pe=r[9],ae=r[13],ye=r[2],Te=r[6],J=r[10],de=r[14],he=r[3],Le=r[7],ne=r[11],re=r[15];return s[0]=a*k+o*H+l*ye+u*he,s[4]=a*M+o*ee+l*Te+u*Le,s[8]=a*$+o*pe+l*J+u*ne,s[12]=a*V+o*ae+l*de+u*re,s[1]=d*k+m*H+v*ye+y*he,s[5]=d*M+m*ee+v*Te+y*Le,s[9]=d*$+m*pe+v*J+y*ne,s[13]=d*V+m*ae+v*de+y*re,s[2]=x*k+T*H+E*ye+w*he,s[6]=x*M+T*ee+E*Te+w*Le,s[10]=x*$+T*pe+E*J+w*ne,s[14]=x*V+T*ae+E*de+w*re,s[3]=P*k+D*H+N*ye+G*he,s[7]=P*M+D*ee+N*Te+G*Le,s[11]=P*$+D*pe+N*J+G*ne,s[15]=P*V+D*ae+N*de+G*re,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){const e=this.elements,t=e[0],i=e[4],r=e[8],s=e[12],a=e[1],o=e[5],l=e[9],u=e[13],d=e[2],m=e[6],v=e[10],y=e[14],x=e[3],T=e[7],E=e[11],w=e[15];return x*(+s*l*m-r*u*m-s*o*v+i*u*v+r*o*y-i*l*y)+T*(+t*l*y-t*u*v+s*a*v-r*a*y+r*u*d-s*l*d)+E*(+t*u*m-t*o*y-s*a*m+i*a*y+s*o*d-i*u*d)+w*(-r*o*d-t*l*m+t*o*v+r*a*m-i*a*v+i*l*d)}transpose(){const e=this.elements;let t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,i){const r=this.elements;return e.isVector3?(r[12]=e.x,r[13]=e.y,r[14]=e.z):(r[12]=e,r[13]=t,r[14]=i),this}invert(){const e=this.elements,t=e[0],i=e[1],r=e[2],s=e[3],a=e[4],o=e[5],l=e[6],u=e[7],d=e[8],m=e[9],v=e[10],y=e[11],x=e[12],T=e[13],E=e[14],w=e[15],P=m*E*u-T*v*u+T*l*y-o*E*y-m*l*w+o*v*w,D=x*v*u-d*E*u-x*l*y+a*E*y+d*l*w-a*v*w,N=d*T*u-x*m*u+x*o*y-a*T*y-d*o*w+a*m*w,G=x*m*l-d*T*l-x*o*v+a*T*v+d*o*E-a*m*E,k=t*P+i*D+r*N+s*G;if(k===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const M=1/k;return e[0]=P*M,e[1]=(T*v*s-m*E*s-T*r*y+i*E*y+m*r*w-i*v*w)*M,e[2]=(o*E*s-T*l*s+T*r*u-i*E*u-o*r*w+i*l*w)*M,e[3]=(m*l*s-o*v*s-m*r*u+i*v*u+o*r*y-i*l*y)*M,e[4]=D*M,e[5]=(d*E*s-x*v*s+x*r*y-t*E*y-d*r*w+t*v*w)*M,e[6]=(x*l*s-a*E*s-x*r*u+t*E*u+a*r*w-t*l*w)*M,e[7]=(a*v*s-d*l*s+d*r*u-t*v*u-a*r*y+t*l*y)*M,e[8]=N*M,e[9]=(x*m*s-d*T*s-x*i*y+t*T*y+d*i*w-t*m*w)*M,e[10]=(a*T*s-x*o*s+x*i*u-t*T*u-a*i*w+t*o*w)*M,e[11]=(d*o*s-a*m*s-d*i*u+t*m*u+a*i*y-t*o*y)*M,e[12]=G*M,e[13]=(d*T*r-x*m*r+x*i*v-t*T*v-d*i*E+t*m*E)*M,e[14]=(x*o*r-a*T*r-x*i*l+t*T*l+a*i*E-t*o*E)*M,e[15]=(a*m*r-d*o*r+d*i*l-t*m*l-a*i*v+t*o*v)*M,this}scale(e){const t=this.elements,i=e.x,r=e.y,s=e.z;return t[0]*=i,t[4]*=r,t[8]*=s,t[1]*=i,t[5]*=r,t[9]*=s,t[2]*=i,t[6]*=r,t[10]*=s,t[3]*=i,t[7]*=r,t[11]*=s,this}getMaxScaleOnAxis(){const e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],i=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],r=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,i,r))}makeTranslation(e,t,i){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,t,0,0,1,i,0,0,0,1),this}makeRotationX(e){const t=Math.cos(e),i=Math.sin(e);return this.set(1,0,0,0,0,t,-i,0,0,i,t,0,0,0,0,1),this}makeRotationY(e){const t=Math.cos(e),i=Math.sin(e);return this.set(t,0,i,0,0,1,0,0,-i,0,t,0,0,0,0,1),this}makeRotationZ(e){const t=Math.cos(e),i=Math.sin(e);return this.set(t,-i,0,0,i,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){const i=Math.cos(t),r=Math.sin(t),s=1-i,a=e.x,o=e.y,l=e.z,u=s*a,d=s*o;return this.set(u*a+i,u*o-r*l,u*l+r*o,0,u*o+r*l,d*o+i,d*l-r*a,0,u*l-r*o,d*l+r*a,s*l*l+i,0,0,0,0,1),this}makeScale(e,t,i){return this.set(e,0,0,0,0,t,0,0,0,0,i,0,0,0,0,1),this}makeShear(e,t,i,r,s,a){return this.set(1,i,s,0,e,1,a,0,t,r,1,0,0,0,0,1),this}compose(e,t,i){const r=this.elements,s=t._x,a=t._y,o=t._z,l=t._w,u=s+s,d=a+a,m=o+o,v=s*u,y=s*d,x=s*m,T=a*d,E=a*m,w=o*m,P=l*u,D=l*d,N=l*m,G=i.x,k=i.y,M=i.z;return r[0]=(1-(T+w))*G,r[1]=(y+N)*G,r[2]=(x-D)*G,r[3]=0,r[4]=(y-N)*k,r[5]=(1-(v+w))*k,r[6]=(E+P)*k,r[7]=0,r[8]=(x+D)*M,r[9]=(E-P)*M,r[10]=(1-(v+T))*M,r[11]=0,r[12]=e.x,r[13]=e.y,r[14]=e.z,r[15]=1,this}decompose(e,t,i){const r=this.elements;let s=vv.set(r[0],r[1],r[2]).length();const a=vv.set(r[4],r[5],r[6]).length(),o=vv.set(r[8],r[9],r[10]).length();this.determinant()<0&&(s=-s),e.x=r[12],e.y=r[13],e.z=r[14],Ju.copy(this);const u=1/s,d=1/a,m=1/o;return Ju.elements[0]*=u,Ju.elements[1]*=u,Ju.elements[2]*=u,Ju.elements[4]*=d,Ju.elements[5]*=d,Ju.elements[6]*=d,Ju.elements[8]*=m,Ju.elements[9]*=m,Ju.elements[10]*=m,t.setFromRotationMatrix(Ju),i.x=s,i.y=a,i.z=o,this}makePerspective(e,t,i,r,s,a,o=Au){const l=this.elements,u=2*s/(t-e),d=2*s/(i-r),m=(t+e)/(t-e),v=(i+r)/(i-r);let y,x;if(o===Au)y=-(a+s)/(a-s),x=-2*a*s/(a-s);else if(o===b_)y=-a/(a-s),x=-a*s/(a-s);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+o);return l[0]=u,l[4]=0,l[8]=m,l[12]=0,l[1]=0,l[5]=d,l[9]=v,l[13]=0,l[2]=0,l[6]=0,l[10]=y,l[14]=x,l[3]=0,l[7]=0,l[11]=-1,l[15]=0,this}makeOrthographic(e,t,i,r,s,a,o=Au){const l=this.elements,u=1/(t-e),d=1/(i-r),m=1/(a-s),v=(t+e)*u,y=(i+r)*d;let x,T;if(o===Au)x=(a+s)*m,T=-2*m;else if(o===b_)x=s*m,T=-1*m;else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+o);return l[0]=2*u,l[4]=0,l[8]=0,l[12]=-v,l[1]=0,l[5]=2*d,l[9]=0,l[13]=-y,l[2]=0,l[6]=0,l[10]=T,l[14]=-x,l[3]=0,l[7]=0,l[11]=0,l[15]=1,this}equals(e){const t=this.elements,i=e.elements;for(let r=0;r<16;r++)if(t[r]!==i[r])return!1;return!0}fromArray(e,t=0){for(let i=0;i<16;i++)this.elements[i]=e[i+t];return this}toArray(e=[],t=0){const i=this.elements;return e[t]=i[0],e[t+1]=i[1],e[t+2]=i[2],e[t+3]=i[3],e[t+4]=i[4],e[t+5]=i[5],e[t+6]=i[6],e[t+7]=i[7],e[t+8]=i[8],e[t+9]=i[9],e[t+10]=i[10],e[t+11]=i[11],e[t+12]=i[12],e[t+13]=i[13],e[t+14]=i[14],e[t+15]=i[15],e}}const vv=new me,Ju=new mi,pne=new me(0,0,0),mne=new me(1,1,1),vp=new me,Mb=new me,Ic=new me,rD=new mi,sD=new el;class Vc{constructor(e=0,t=0,i=0,r=Vc.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=t,this._z=i,this._order=r}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,t,i,r=this._order){return this._x=e,this._y=t,this._z=i,this._order=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,t=this._order,i=!0){const r=e.elements,s=r[0],a=r[4],o=r[8],l=r[1],u=r[5],d=r[9],m=r[2],v=r[6],y=r[10];switch(t){case"XYZ":this._y=Math.asin(Ti(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(-d,y),this._z=Math.atan2(-a,s)):(this._x=Math.atan2(v,u),this._z=0);break;case"YXZ":this._x=Math.asin(-Ti(d,-1,1)),Math.abs(d)<.9999999?(this._y=Math.atan2(o,y),this._z=Math.atan2(l,u)):(this._y=Math.atan2(-m,s),this._z=0);break;case"ZXY":this._x=Math.asin(Ti(v,-1,1)),Math.abs(v)<.9999999?(this._y=Math.atan2(-m,y),this._z=Math.atan2(-a,u)):(this._y=0,this._z=Math.atan2(l,s));break;case"ZYX":this._y=Math.asin(-Ti(m,-1,1)),Math.abs(m)<.9999999?(this._x=Math.atan2(v,y),this._z=Math.atan2(l,s)):(this._x=0,this._z=Math.atan2(-a,u));break;case"YZX":this._z=Math.asin(Ti(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-d,u),this._y=Math.atan2(-m,s)):(this._x=0,this._y=Math.atan2(o,y));break;case"XZY":this._z=Math.asin(-Ti(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(v,u),this._y=Math.atan2(o,s)):(this._x=Math.atan2(-d,y),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,i===!0&&this._onChangeCallback(),this}setFromQuaternion(e,t,i){return rD.makeRotationFromQuaternion(e),this.setFromRotationMatrix(rD,t,i)}setFromVector3(e,t=this._order){return this.set(e.x,e.y,e.z,t)}reorder(e){return sD.setFromEuler(this),this.setFromQuaternion(sD,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}Vc.DEFAULT_ORDER="XYZ";class gy{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let gne=0;const aD=new me,yv=new el,Qh=new mi,Ab=new me,x0=new me,vne=new me,yne=new el,oD=new me(1,0,0),lD=new me(0,1,0),cD=new me(0,0,1),uD={type:"added"},_ne={type:"removed"},_v={type:"childadded",child:null},$T={type:"childremoved",child:null};class br extends gh{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:gne++}),this.uuid=kc(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=br.DEFAULT_UP.clone();const e=new me,t=new Vc,i=new el,r=new me(1,1,1);function s(){i.setFromEuler(t,!1)}function a(){t.setFromQuaternion(i,void 0,!1)}t._onChange(s),i._onChange(a),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:i},scale:{configurable:!0,enumerable:!0,value:r},modelViewMatrix:{value:new mi},normalMatrix:{value:new Oi}}),this.matrix=new mi,this.matrixWorld=new mi,this.matrixAutoUpdate=br.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=br.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new gy,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.customDepthMaterial=void 0,this.customDistanceMaterial=void 0,this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,t){this.quaternion.setFromAxisAngle(e,t)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,t){return yv.setFromAxisAngle(e,t),this.quaternion.multiply(yv),this}rotateOnWorldAxis(e,t){return yv.setFromAxisAngle(e,t),this.quaternion.premultiply(yv),this}rotateX(e){return this.rotateOnAxis(oD,e)}rotateY(e){return this.rotateOnAxis(lD,e)}rotateZ(e){return this.rotateOnAxis(cD,e)}translateOnAxis(e,t){return aD.copy(e).applyQuaternion(this.quaternion),this.position.add(aD.multiplyScalar(t)),this}translateX(e){return this.translateOnAxis(oD,e)}translateY(e){return this.translateOnAxis(lD,e)}translateZ(e){return this.translateOnAxis(cD,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(Qh.copy(this.matrixWorld).invert())}lookAt(e,t,i){e.isVector3?Ab.copy(e):Ab.set(e,t,i);const r=this.parent;this.updateWorldMatrix(!0,!1),x0.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?Qh.lookAt(x0,Ab,this.up):Qh.lookAt(Ab,x0,this.up),this.quaternion.setFromRotationMatrix(Qh),r&&(Qh.extractRotation(r.matrixWorld),yv.setFromRotationMatrix(Qh),this.quaternion.premultiply(yv.invert()))}add(e){if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.removeFromParent(),e.parent=this,this.children.push(e),e.dispatchEvent(uD),_v.child=e,this.dispatchEvent(_v),_v.child=null):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let i=0;i<arguments.length;i++)this.remove(arguments[i]);return this}const t=this.children.indexOf(e);return t!==-1&&(e.parent=null,this.children.splice(t,1),e.dispatchEvent(_ne),$T.child=e,this.dispatchEvent($T),$T.child=null),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){return this.remove(...this.children)}attach(e){return this.updateWorldMatrix(!0,!1),Qh.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),Qh.multiply(e.parent.matrixWorld)),e.applyMatrix4(Qh),e.removeFromParent(),e.parent=this,this.children.push(e),e.updateWorldMatrix(!1,!0),e.dispatchEvent(uD),_v.child=e,this.dispatchEvent(_v),_v.child=null,this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,t){if(this[e]===t)return this;for(let i=0,r=this.children.length;i<r;i++){const a=this.children[i].getObjectByProperty(e,t);if(a!==void 0)return a}}getObjectsByProperty(e,t,i=[]){this[e]===t&&i.push(this);const r=this.children;for(let s=0,a=r.length;s<a;s++)r[s].getObjectsByProperty(e,t,i);return i}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(x0,e,vne),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(x0,yne,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}raycast(){}traverse(e){e(this);const t=this.children;for(let i=0,r=t.length;i<r;i++)t[i].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const t=this.children;for(let i=0,r=t.length;i<r;i++)t[i].traverseVisible(e)}traverseAncestors(e){const t=this.parent;t!==null&&(e(t),t.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),this.matrixWorldNeedsUpdate=!1,e=!0);const t=this.children;for(let i=0,r=t.length;i<r;i++)t[i].updateMatrixWorld(e)}updateWorldMatrix(e,t){const i=this.parent;if(e===!0&&i!==null&&i.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),t===!0){const r=this.children;for(let s=0,a=r.length;s<a;s++)r[s].updateWorldMatrix(!1,!0)}}toJSON(e){const t=e===void 0||typeof e=="string",i={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},i.metadata={version:4.7,type:"Object",generator:"Object3D.toJSON"});const r={};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.castShadow===!0&&(r.castShadow=!0),this.receiveShadow===!0&&(r.receiveShadow=!0),this.visible===!1&&(r.visible=!1),this.frustumCulled===!1&&(r.frustumCulled=!1),this.renderOrder!==0&&(r.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(r.userData=this.userData),r.layers=this.layers.mask,r.matrix=this.matrix.toArray(),r.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(r.matrixAutoUpdate=!1),this.isInstancedMesh&&(r.type="InstancedMesh",r.count=this.count,r.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(r.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(r.type="BatchedMesh",r.perObjectFrustumCulled=this.perObjectFrustumCulled,r.sortObjects=this.sortObjects,r.drawRanges=this._drawRanges,r.reservedRanges=this._reservedRanges,r.geometryInfo=this._geometryInfo.map(o=>({...o,boundingBox:o.boundingBox?o.boundingBox.toJSON():void 0,boundingSphere:o.boundingSphere?o.boundingSphere.toJSON():void 0})),r.instanceInfo=this._instanceInfo.map(o=>({...o})),r.availableInstanceIds=this._availableInstanceIds.slice(),r.availableGeometryIds=this._availableGeometryIds.slice(),r.nextIndexStart=this._nextIndexStart,r.nextVertexStart=this._nextVertexStart,r.geometryCount=this._geometryCount,r.maxInstanceCount=this._maxInstanceCount,r.maxVertexCount=this._maxVertexCount,r.maxIndexCount=this._maxIndexCount,r.geometryInitialized=this._geometryInitialized,r.matricesTexture=this._matricesTexture.toJSON(e),r.indirectTexture=this._indirectTexture.toJSON(e),this._colorsTexture!==null&&(r.colorsTexture=this._colorsTexture.toJSON(e)),this.boundingSphere!==null&&(r.boundingSphere=this.boundingSphere.toJSON()),this.boundingBox!==null&&(r.boundingBox=this.boundingBox.toJSON()));function s(o,l){return o[l.uuid]===void 0&&(o[l.uuid]=l.toJSON(e)),l.uuid}if(this.isScene)this.background&&(this.background.isColor?r.background=this.background.toJSON():this.background.isTexture&&(r.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(r.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){r.geometry=s(e.geometries,this.geometry);const o=this.geometry.parameters;if(o!==void 0&&o.shapes!==void 0){const l=o.shapes;if(Array.isArray(l))for(let u=0,d=l.length;u<d;u++){const m=l[u];s(e.shapes,m)}else s(e.shapes,l)}}if(this.isSkinnedMesh&&(r.bindMode=this.bindMode,r.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(s(e.skeletons,this.skeleton),r.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const o=[];for(let l=0,u=this.material.length;l<u;l++)o.push(s(e.materials,this.material[l]));r.material=o}else r.material=s(e.materials,this.material);if(this.children.length>0){r.children=[];for(let o=0;o<this.children.length;o++)r.children.push(this.children[o].toJSON(e).object)}if(this.animations.length>0){r.animations=[];for(let o=0;o<this.animations.length;o++){const l=this.animations[o];r.animations.push(s(e.animations,l))}}if(t){const o=a(e.geometries),l=a(e.materials),u=a(e.textures),d=a(e.images),m=a(e.shapes),v=a(e.skeletons),y=a(e.animations),x=a(e.nodes);o.length>0&&(i.geometries=o),l.length>0&&(i.materials=l),u.length>0&&(i.textures=u),d.length>0&&(i.images=d),m.length>0&&(i.shapes=m),v.length>0&&(i.skeletons=v),y.length>0&&(i.animations=y),x.length>0&&(i.nodes=x)}return i.object=r,i;function a(o){const l=[];for(const u in o){const d=o[u];delete d.metadata,l.push(d)}return l}}clone(e){return new this.constructor().copy(this,e)}copy(e,t=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations.slice(),this.userData=JSON.parse(JSON.stringify(e.userData)),t===!0)for(let i=0;i<e.children.length;i++){const r=e.children[i];this.add(r.clone())}return this}}br.DEFAULT_UP=new me(0,1,0);br.DEFAULT_MATRIX_AUTO_UPDATE=!0;br.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const ef=new me,Jh=new me,qT=new me,ed=new me,bv=new me,xv=new me,fD=new me,WT=new me,XT=new me,YT=new me,ZT=new _r,KT=new _r,QT=new _r;class fc{constructor(e=new me,t=new me,i=new me){this.a=e,this.b=t,this.c=i}static getNormal(e,t,i,r){r.subVectors(i,t),ef.subVectors(e,t),r.cross(ef);const s=r.lengthSq();return s>0?r.multiplyScalar(1/Math.sqrt(s)):r.set(0,0,0)}static getBarycoord(e,t,i,r,s){ef.subVectors(r,t),Jh.subVectors(i,t),qT.subVectors(e,t);const a=ef.dot(ef),o=ef.dot(Jh),l=ef.dot(qT),u=Jh.dot(Jh),d=Jh.dot(qT),m=a*u-o*o;if(m===0)return s.set(0,0,0),null;const v=1/m,y=(u*l-o*d)*v,x=(a*d-o*l)*v;return s.set(1-y-x,x,y)}static containsPoint(e,t,i,r){return this.getBarycoord(e,t,i,r,ed)===null?!1:ed.x>=0&&ed.y>=0&&ed.x+ed.y<=1}static getInterpolation(e,t,i,r,s,a,o,l){return this.getBarycoord(e,t,i,r,ed)===null?(l.x=0,l.y=0,"z"in l&&(l.z=0),"w"in l&&(l.w=0),null):(l.setScalar(0),l.addScaledVector(s,ed.x),l.addScaledVector(a,ed.y),l.addScaledVector(o,ed.z),l)}static getInterpolatedAttribute(e,t,i,r,s,a){return ZT.setScalar(0),KT.setScalar(0),QT.setScalar(0),ZT.fromBufferAttribute(e,t),KT.fromBufferAttribute(e,i),QT.fromBufferAttribute(e,r),a.setScalar(0),a.addScaledVector(ZT,s.x),a.addScaledVector(KT,s.y),a.addScaledVector(QT,s.z),a}static isFrontFacing(e,t,i,r){return ef.subVectors(i,t),Jh.subVectors(e,t),ef.cross(Jh).dot(r)<0}set(e,t,i){return this.a.copy(e),this.b.copy(t),this.c.copy(i),this}setFromPointsAndIndices(e,t,i,r){return this.a.copy(e[t]),this.b.copy(e[i]),this.c.copy(e[r]),this}setFromAttributeAndIndices(e,t,i,r){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,i),this.c.fromBufferAttribute(e,r),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return ef.subVectors(this.c,this.b),Jh.subVectors(this.a,this.b),ef.cross(Jh).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return fc.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,t){return fc.getBarycoord(e,this.a,this.b,this.c,t)}getInterpolation(e,t,i,r,s){return fc.getInterpolation(e,this.a,this.b,this.c,t,i,r,s)}containsPoint(e){return fc.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return fc.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,t){const i=this.a,r=this.b,s=this.c;let a,o;bv.subVectors(r,i),xv.subVectors(s,i),WT.subVectors(e,i);const l=bv.dot(WT),u=xv.dot(WT);if(l<=0&&u<=0)return t.copy(i);XT.subVectors(e,r);const d=bv.dot(XT),m=xv.dot(XT);if(d>=0&&m<=d)return t.copy(r);const v=l*m-d*u;if(v<=0&&l>=0&&d<=0)return a=l/(l-d),t.copy(i).addScaledVector(bv,a);YT.subVectors(e,s);const y=bv.dot(YT),x=xv.dot(YT);if(x>=0&&y<=x)return t.copy(s);const T=y*u-l*x;if(T<=0&&u>=0&&x<=0)return o=u/(u-x),t.copy(i).addScaledVector(xv,o);const E=d*x-y*m;if(E<=0&&m-d>=0&&y-x>=0)return fD.subVectors(s,r),o=(m-d)/(m-d+(y-x)),t.copy(r).addScaledVector(fD,o);const w=1/(E+T+v);return a=T*w,o=v*w,t.copy(i).addScaledVector(bv,a).addScaledVector(xv,o)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}const Rz={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},yp={h:0,s:0,l:0},Cb={h:0,s:0,l:0};function JT(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*6*(2/3-t):n}let yn=class{constructor(e,t,i){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,t,i)}set(e,t,i){if(t===void 0&&i===void 0){const r=e;r&&r.isColor?this.copy(r):typeof r=="number"?this.setHex(r):typeof r=="string"&&this.setStyle(r)}else this.setRGB(e,t,i);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,t=ka){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,ur.colorSpaceToWorking(this,t),this}setRGB(e,t,i,r=ur.workingColorSpace){return this.r=e,this.g=t,this.b=i,ur.colorSpaceToWorking(this,r),this}setHSL(e,t,i,r=ur.workingColorSpace){if(e=SC(e,1),t=Ti(t,0,1),i=Ti(i,0,1),t===0)this.r=this.g=this.b=i;else{const s=i<=.5?i*(1+t):i+t-i*t,a=2*i-s;this.r=JT(a,s,e+1/3),this.g=JT(a,s,e),this.b=JT(a,s,e-1/3)}return ur.colorSpaceToWorking(this,r),this}setStyle(e,t=ka){function i(s){s!==void 0&&parseFloat(s)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let r;if(r=/^(\w+)\(([^\)]*)\)/.exec(e)){let s;const a=r[1],o=r[2];switch(a){case"rgb":case"rgba":if(s=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return i(s[4]),this.setRGB(Math.min(255,parseInt(s[1],10))/255,Math.min(255,parseInt(s[2],10))/255,Math.min(255,parseInt(s[3],10))/255,t);if(s=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return i(s[4]),this.setRGB(Math.min(100,parseInt(s[1],10))/100,Math.min(100,parseInt(s[2],10))/100,Math.min(100,parseInt(s[3],10))/100,t);break;case"hsl":case"hsla":if(s=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return i(s[4]),this.setHSL(parseFloat(s[1])/360,parseFloat(s[2])/100,parseFloat(s[3])/100,t);break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(r=/^\#([A-Fa-f\d]+)$/.exec(e)){const s=r[1],a=s.length;if(a===3)return this.setRGB(parseInt(s.charAt(0),16)/15,parseInt(s.charAt(1),16)/15,parseInt(s.charAt(2),16)/15,t);if(a===6)return this.setHex(parseInt(s,16),t);console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,t);return this}setColorName(e,t=ka){const i=Rz[e.toLowerCase()];return i!==void 0?this.setHex(i,t):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=md(e.r),this.g=md(e.g),this.b=md(e.b),this}copyLinearToSRGB(e){return this.r=ey(e.r),this.g=ey(e.g),this.b=ey(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=ka){return ur.workingToColorSpace(Zo.copy(this),e),Math.round(Ti(Zo.r*255,0,255))*65536+Math.round(Ti(Zo.g*255,0,255))*256+Math.round(Ti(Zo.b*255,0,255))}getHexString(e=ka){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,t=ur.workingColorSpace){ur.workingToColorSpace(Zo.copy(this),t);const i=Zo.r,r=Zo.g,s=Zo.b,a=Math.max(i,r,s),o=Math.min(i,r,s);let l,u;const d=(o+a)/2;if(o===a)l=0,u=0;else{const m=a-o;switch(u=d<=.5?m/(a+o):m/(2-a-o),a){case i:l=(r-s)/m+(r<s?6:0);break;case r:l=(s-i)/m+2;break;case s:l=(i-r)/m+4;break}l/=6}return e.h=l,e.s=u,e.l=d,e}getRGB(e,t=ur.workingColorSpace){return ur.workingToColorSpace(Zo.copy(this),t),e.r=Zo.r,e.g=Zo.g,e.b=Zo.b,e}getStyle(e=ka){ur.workingToColorSpace(Zo.copy(this),e);const t=Zo.r,i=Zo.g,r=Zo.b;return e!==ka?`color(${e} ${t.toFixed(3)} ${i.toFixed(3)} ${r.toFixed(3)})`:`rgb(${Math.round(t*255)},${Math.round(i*255)},${Math.round(r*255)})`}offsetHSL(e,t,i){return this.getHSL(yp),this.setHSL(yp.h+e,yp.s+t,yp.l+i)}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}lerpColors(e,t,i){return this.r=e.r+(t.r-e.r)*i,this.g=e.g+(t.g-e.g)*i,this.b=e.b+(t.b-e.b)*i,this}lerpHSL(e,t){this.getHSL(yp),e.getHSL(Cb);const i=K0(yp.h,Cb.h,t),r=K0(yp.s,Cb.s,t),s=K0(yp.l,Cb.l,t);return this.setHSL(i,r,s),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const t=this.r,i=this.g,r=this.b,s=e.elements;return this.r=s[0]*t+s[3]*i+s[6]*r,this.g=s[1]*t+s[4]*i+s[7]*r,this.b=s[2]*t+s[5]*i+s[8]*r,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,t=0){return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}toArray(e=[],t=0){return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}fromBufferAttribute(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}};const Zo=new yn;yn.NAMES=Rz;let bne=0;class il extends gh{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:bne++}),this.uuid=kc(),this.name="",this.type="Material",this.blending=cg,this.side=Sd,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=nS,this.blendDst=iS,this.blendEquation=Rp,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new yn(0,0,0),this.blendAlpha=0,this.depthFunc=gg,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=Q2,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=jm,this.stencilZFail=jm,this.stencilZPass=jm,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.allowOverride=!0,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const t in e){const i=e[t];if(i===void 0){console.warn(`THREE.Material: parameter '${t}' has value of undefined.`);continue}const r=this[t];if(r===void 0){console.warn(`THREE.Material: '${t}' is not a property of THREE.${this.type}.`);continue}r&&r.isColor?r.set(i):r&&r.isVector3&&i&&i.isVector3?r.copy(i):this[t]=i}}toJSON(e){const t=e===void 0||typeof e=="string";t&&(e={textures:{},images:{}});const i={metadata:{version:4.7,type:"Material",generator:"Material.toJSON"}};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.color&&this.color.isColor&&(i.color=this.color.getHex()),this.roughness!==void 0&&(i.roughness=this.roughness),this.metalness!==void 0&&(i.metalness=this.metalness),this.sheen!==void 0&&(i.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(i.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(i.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(i.emissive=this.emissive.getHex()),this.emissiveIntensity!==void 0&&this.emissiveIntensity!==1&&(i.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(i.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(i.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(i.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(i.shininess=this.shininess),this.clearcoat!==void 0&&(i.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(i.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(i.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(i.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,i.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.dispersion!==void 0&&(i.dispersion=this.dispersion),this.iridescence!==void 0&&(i.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(i.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(i.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(i.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(i.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.anisotropy!==void 0&&(i.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(i.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(i.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(i.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(i.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(i.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(i.lightMap=this.lightMap.toJSON(e).uuid,i.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(i.aoMap=this.aoMap.toJSON(e).uuid,i.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(i.bumpMap=this.bumpMap.toJSON(e).uuid,i.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(i.normalMap=this.normalMap.toJSON(e).uuid,i.normalMapType=this.normalMapType,i.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(i.displacementMap=this.displacementMap.toJSON(e).uuid,i.displacementScale=this.displacementScale,i.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(i.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(i.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(i.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(i.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(i.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(i.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(i.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(i.combine=this.combine)),this.envMapRotation!==void 0&&(i.envMapRotation=this.envMapRotation.toArray()),this.envMapIntensity!==void 0&&(i.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(i.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(i.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(i.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(i.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(i.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(i.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(i.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(i.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(i.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(i.size=this.size),this.shadowSide!==null&&(i.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(i.sizeAttenuation=this.sizeAttenuation),this.blending!==cg&&(i.blending=this.blending),this.side!==Sd&&(i.side=this.side),this.vertexColors===!0&&(i.vertexColors=!0),this.opacity<1&&(i.opacity=this.opacity),this.transparent===!0&&(i.transparent=!0),this.blendSrc!==nS&&(i.blendSrc=this.blendSrc),this.blendDst!==iS&&(i.blendDst=this.blendDst),this.blendEquation!==Rp&&(i.blendEquation=this.blendEquation),this.blendSrcAlpha!==null&&(i.blendSrcAlpha=this.blendSrcAlpha),this.blendDstAlpha!==null&&(i.blendDstAlpha=this.blendDstAlpha),this.blendEquationAlpha!==null&&(i.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(i.blendColor=this.blendColor.getHex()),this.blendAlpha!==0&&(i.blendAlpha=this.blendAlpha),this.depthFunc!==gg&&(i.depthFunc=this.depthFunc),this.depthTest===!1&&(i.depthTest=this.depthTest),this.depthWrite===!1&&(i.depthWrite=this.depthWrite),this.colorWrite===!1&&(i.colorWrite=this.colorWrite),this.stencilWriteMask!==255&&(i.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==Q2&&(i.stencilFunc=this.stencilFunc),this.stencilRef!==0&&(i.stencilRef=this.stencilRef),this.stencilFuncMask!==255&&(i.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==jm&&(i.stencilFail=this.stencilFail),this.stencilZFail!==jm&&(i.stencilZFail=this.stencilZFail),this.stencilZPass!==jm&&(i.stencilZPass=this.stencilZPass),this.stencilWrite===!0&&(i.stencilWrite=this.stencilWrite),this.rotation!==void 0&&this.rotation!==0&&(i.rotation=this.rotation),this.polygonOffset===!0&&(i.polygonOffset=!0),this.polygonOffsetFactor!==0&&(i.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(i.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(i.linewidth=this.linewidth),this.dashSize!==void 0&&(i.dashSize=this.dashSize),this.gapSize!==void 0&&(i.gapSize=this.gapSize),this.scale!==void 0&&(i.scale=this.scale),this.dithering===!0&&(i.dithering=!0),this.alphaTest>0&&(i.alphaTest=this.alphaTest),this.alphaHash===!0&&(i.alphaHash=!0),this.alphaToCoverage===!0&&(i.alphaToCoverage=!0),this.premultipliedAlpha===!0&&(i.premultipliedAlpha=!0),this.forceSinglePass===!0&&(i.forceSinglePass=!0),this.wireframe===!0&&(i.wireframe=!0),this.wireframeLinewidth>1&&(i.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(i.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(i.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(i.flatShading=!0),this.visible===!1&&(i.visible=!1),this.toneMapped===!1&&(i.toneMapped=!1),this.fog===!1&&(i.fog=!1),Object.keys(this.userData).length>0&&(i.userData=this.userData);function r(s){const a=[];for(const o in s){const l=s[o];delete l.metadata,a.push(l)}return a}if(t){const s=r(e.textures),a=r(e.images);s.length>0&&(i.textures=s),a.length>0&&(i.images=a)}return i}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.blendColor.copy(e.blendColor),this.blendAlpha=e.blendAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const t=e.clippingPlanes;let i=null;if(t!==null){const r=t.length;i=new Array(r);for(let s=0;s!==r;++s)i[s]=t[s].clone()}return this.clippingPlanes=i,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}}class Cd extends il{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new yn(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Vc,this.combine=G_,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const cd=xne();function xne(){const n=new ArrayBuffer(4),e=new Float32Array(n),t=new Uint32Array(n),i=new Uint32Array(512),r=new Uint32Array(512);for(let l=0;l<256;++l){const u=l-127;u<-27?(i[l]=0,i[l|256]=32768,r[l]=24,r[l|256]=24):u<-14?(i[l]=1024>>-u-14,i[l|256]=1024>>-u-14|32768,r[l]=-u-1,r[l|256]=-u-1):u<=15?(i[l]=u+15<<10,i[l|256]=u+15<<10|32768,r[l]=13,r[l|256]=13):u<128?(i[l]=31744,i[l|256]=64512,r[l]=24,r[l|256]=24):(i[l]=31744,i[l|256]=64512,r[l]=13,r[l|256]=13)}const s=new Uint32Array(2048),a=new Uint32Array(64),o=new Uint32Array(64);for(let l=1;l<1024;++l){let u=l<<13,d=0;for(;(u&8388608)===0;)u<<=1,d-=8388608;u&=-8388609,d+=947912704,s[l]=u|d}for(let l=1024;l<2048;++l)s[l]=939524096+(l-1024<<13);for(let l=1;l<31;++l)a[l]=l<<23;a[31]=1199570944,a[32]=2147483648;for(let l=33;l<63;++l)a[l]=2147483648+(l-32<<23);a[63]=3347054592;for(let l=1;l<64;++l)l!==32&&(o[l]=1024);return{floatView:e,uint32View:t,baseTable:i,shiftTable:r,mantissaTable:s,exponentTable:a,offsetTable:o}}function cc(n){Math.abs(n)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),n=Ti(n,-65504,65504),cd.floatView[0]=n;const e=cd.uint32View[0],t=e>>23&511;return cd.baseTable[t]+((e&8388607)>>cd.shiftTable[t])}function U0(n){const e=n>>10;return cd.uint32View[0]=cd.mantissaTable[cd.offsetTable[e]+(n&1023)]+cd.exponentTable[e],cd.floatView[0]}class rg{static toHalfFloat(e){return cc(e)}static fromHalfFloat(e){return U0(e)}}const Ma=new me,Rb=new Lt;let Sne=0;class Qr{constructor(e,t,i=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,Object.defineProperty(this,"id",{value:Sne++}),this.name="",this.array=e,this.itemSize=t,this.count=e!==void 0?e.length/t:0,this.normalized=i,this.usage=__,this.updateRanges=[],this.gpuType=Ds,this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,t,i){e*=this.itemSize,i*=t.itemSize;for(let r=0,s=this.itemSize;r<s;r++)this.array[e+r]=t.array[i+r];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let t=0,i=this.count;t<i;t++)Rb.fromBufferAttribute(this,t),Rb.applyMatrix3(e),this.setXY(t,Rb.x,Rb.y);else if(this.itemSize===3)for(let t=0,i=this.count;t<i;t++)Ma.fromBufferAttribute(this,t),Ma.applyMatrix3(e),this.setXYZ(t,Ma.x,Ma.y,Ma.z);return this}applyMatrix4(e){for(let t=0,i=this.count;t<i;t++)Ma.fromBufferAttribute(this,t),Ma.applyMatrix4(e),this.setXYZ(t,Ma.x,Ma.y,Ma.z);return this}applyNormalMatrix(e){for(let t=0,i=this.count;t<i;t++)Ma.fromBufferAttribute(this,t),Ma.applyNormalMatrix(e),this.setXYZ(t,Ma.x,Ma.y,Ma.z);return this}transformDirection(e){for(let t=0,i=this.count;t<i;t++)Ma.fromBufferAttribute(this,t),Ma.transformDirection(e),this.setXYZ(t,Ma.x,Ma.y,Ma.z);return this}set(e,t=0){return this.array.set(e,t),this}getComponent(e,t){let i=this.array[e*this.itemSize+t];return this.normalized&&(i=Il(i,this.array)),i}setComponent(e,t,i){return this.normalized&&(i=Ii(i,this.array)),this.array[e*this.itemSize+t]=i,this}getX(e){let t=this.array[e*this.itemSize];return this.normalized&&(t=Il(t,this.array)),t}setX(e,t){return this.normalized&&(t=Ii(t,this.array)),this.array[e*this.itemSize]=t,this}getY(e){let t=this.array[e*this.itemSize+1];return this.normalized&&(t=Il(t,this.array)),t}setY(e,t){return this.normalized&&(t=Ii(t,this.array)),this.array[e*this.itemSize+1]=t,this}getZ(e){let t=this.array[e*this.itemSize+2];return this.normalized&&(t=Il(t,this.array)),t}setZ(e,t){return this.normalized&&(t=Ii(t,this.array)),this.array[e*this.itemSize+2]=t,this}getW(e){let t=this.array[e*this.itemSize+3];return this.normalized&&(t=Il(t,this.array)),t}setW(e,t){return this.normalized&&(t=Ii(t,this.array)),this.array[e*this.itemSize+3]=t,this}setXY(e,t,i){return e*=this.itemSize,this.normalized&&(t=Ii(t,this.array),i=Ii(i,this.array)),this.array[e+0]=t,this.array[e+1]=i,this}setXYZ(e,t,i,r){return e*=this.itemSize,this.normalized&&(t=Ii(t,this.array),i=Ii(i,this.array),r=Ii(r,this.array)),this.array[e+0]=t,this.array[e+1]=i,this.array[e+2]=r,this}setXYZW(e,t,i,r,s){return e*=this.itemSize,this.normalized&&(t=Ii(t,this.array),i=Ii(i,this.array),r=Ii(r,this.array),s=Ii(s,this.array)),this.array[e+0]=t,this.array[e+1]=i,this.array[e+2]=r,this.array[e+3]=s,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==__&&(e.usage=this.usage),e}}class wne extends Qr{constructor(e,t,i){super(new Int8Array(e),t,i)}}class Ene extends Qr{constructor(e,t,i){super(new Uint8Array(e),t,i)}}class Tne extends Qr{constructor(e,t,i){super(new Uint8ClampedArray(e),t,i)}}class Mne extends Qr{constructor(e,t,i){super(new Int16Array(e),t,i)}}class EC extends Qr{constructor(e,t,i){super(new Uint16Array(e),t,i)}}class Ane extends Qr{constructor(e,t,i){super(new Int32Array(e),t,i)}}class TC extends Qr{constructor(e,t,i){super(new Uint32Array(e),t,i)}}class Cne extends Qr{constructor(e,t,i){super(new Uint16Array(e),t,i),this.isFloat16BufferAttribute=!0}getX(e){let t=U0(this.array[e*this.itemSize]);return this.normalized&&(t=Il(t,this.array)),t}setX(e,t){return this.normalized&&(t=Ii(t,this.array)),this.array[e*this.itemSize]=cc(t),this}getY(e){let t=U0(this.array[e*this.itemSize+1]);return this.normalized&&(t=Il(t,this.array)),t}setY(e,t){return this.normalized&&(t=Ii(t,this.array)),this.array[e*this.itemSize+1]=cc(t),this}getZ(e){let t=U0(this.array[e*this.itemSize+2]);return this.normalized&&(t=Il(t,this.array)),t}setZ(e,t){return this.normalized&&(t=Ii(t,this.array)),this.array[e*this.itemSize+2]=cc(t),this}getW(e){let t=U0(this.array[e*this.itemSize+3]);return this.normalized&&(t=Il(t,this.array)),t}setW(e,t){return this.normalized&&(t=Ii(t,this.array)),this.array[e*this.itemSize+3]=cc(t),this}setXY(e,t,i){return e*=this.itemSize,this.normalized&&(t=Ii(t,this.array),i=Ii(i,this.array)),this.array[e+0]=cc(t),this.array[e+1]=cc(i),this}setXYZ(e,t,i,r){return e*=this.itemSize,this.normalized&&(t=Ii(t,this.array),i=Ii(i,this.array),r=Ii(r,this.array)),this.array[e+0]=cc(t),this.array[e+1]=cc(i),this.array[e+2]=cc(r),this}setXYZW(e,t,i,r,s){return e*=this.itemSize,this.normalized&&(t=Ii(t,this.array),i=Ii(i,this.array),r=Ii(r,this.array),s=Ii(s,this.array)),this.array[e+0]=cc(t),this.array[e+1]=cc(i),this.array[e+2]=cc(r),this.array[e+3]=cc(s),this}}class Nn extends Qr{constructor(e,t,i){super(new Float32Array(e),t,i)}}let Rne=0;const xu=new mi,eM=new br,Sv=new me,zc=new tl,S0=new tl,io=new me;class zi extends gh{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:Rne++}),this.uuid=kc(),this.name="",this.type="BufferGeometry",this.index=null,this.indirect=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(Mz(e)?TC:EC)(e,1):this.index=e,this}setIndirect(e){return this.indirect=e,this}getIndirect(){return this.indirect}getAttribute(e){return this.attributes[e]}setAttribute(e,t){return this.attributes[e]=t,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,t,i=0){this.groups.push({start:e,count:t,materialIndex:i})}clearGroups(){this.groups=[]}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}applyMatrix4(e){const t=this.attributes.position;t!==void 0&&(t.applyMatrix4(e),t.needsUpdate=!0);const i=this.attributes.normal;if(i!==void 0){const s=new Oi().getNormalMatrix(e);i.applyNormalMatrix(s),i.needsUpdate=!0}const r=this.attributes.tangent;return r!==void 0&&(r.transformDirection(e),r.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return xu.makeRotationFromQuaternion(e),this.applyMatrix4(xu),this}rotateX(e){return xu.makeRotationX(e),this.applyMatrix4(xu),this}rotateY(e){return xu.makeRotationY(e),this.applyMatrix4(xu),this}rotateZ(e){return xu.makeRotationZ(e),this.applyMatrix4(xu),this}translate(e,t,i){return xu.makeTranslation(e,t,i),this.applyMatrix4(xu),this}scale(e,t,i){return xu.makeScale(e,t,i),this.applyMatrix4(xu),this}lookAt(e){return eM.lookAt(e),eM.updateMatrix(),this.applyMatrix4(eM.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(Sv).negate(),this.translate(Sv.x,Sv.y,Sv.z),this}setFromPoints(e){const t=this.getAttribute("position");if(t===void 0){const i=[];for(let r=0,s=e.length;r<s;r++){const a=e[r];i.push(a.x,a.y,a.z||0)}this.setAttribute("position",new Nn(i,3))}else{const i=Math.min(e.length,t.count);for(let r=0;r<i;r++){const s=e[r];t.setXYZ(r,s.x,s.y,s.z||0)}e.length>t.count&&console.warn("THREE.BufferGeometry: Buffer size too small for points data. Use .dispose() and create a new geometry."),t.needsUpdate=!0}return this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new tl);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box.",this),this.boundingBox.set(new me(-1/0,-1/0,-1/0),new me(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),t)for(let i=0,r=t.length;i<r;i++){const s=t[i];zc.setFromBufferAttribute(s),this.morphTargetsRelative?(io.addVectors(this.boundingBox.min,zc.min),this.boundingBox.expandByPoint(io),io.addVectors(this.boundingBox.max,zc.max),this.boundingBox.expandByPoint(io)):(this.boundingBox.expandByPoint(zc.min),this.boundingBox.expandByPoint(zc.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Do);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere.",this),this.boundingSphere.set(new me,1/0);return}if(e){const i=this.boundingSphere.center;if(zc.setFromBufferAttribute(e),t)for(let s=0,a=t.length;s<a;s++){const o=t[s];S0.setFromBufferAttribute(o),this.morphTargetsRelative?(io.addVectors(zc.min,S0.min),zc.expandByPoint(io),io.addVectors(zc.max,S0.max),zc.expandByPoint(io)):(zc.expandByPoint(S0.min),zc.expandByPoint(S0.max))}zc.getCenter(i);let r=0;for(let s=0,a=e.count;s<a;s++)io.fromBufferAttribute(e,s),r=Math.max(r,i.distanceToSquared(io));if(t)for(let s=0,a=t.length;s<a;s++){const o=t[s],l=this.morphTargetsRelative;for(let u=0,d=o.count;u<d;u++)io.fromBufferAttribute(o,u),l&&(Sv.fromBufferAttribute(e,u),io.add(Sv)),r=Math.max(r,i.distanceToSquared(io))}this.boundingSphere.radius=Math.sqrt(r),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,t=this.attributes;if(e===null||t.position===void 0||t.normal===void 0||t.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const i=t.position,r=t.normal,s=t.uv;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new Qr(new Float32Array(4*i.count),4));const a=this.getAttribute("tangent"),o=[],l=[];for(let $=0;$<i.count;$++)o[$]=new me,l[$]=new me;const u=new me,d=new me,m=new me,v=new Lt,y=new Lt,x=new Lt,T=new me,E=new me;function w($,V,H){u.fromBufferAttribute(i,$),d.fromBufferAttribute(i,V),m.fromBufferAttribute(i,H),v.fromBufferAttribute(s,$),y.fromBufferAttribute(s,V),x.fromBufferAttribute(s,H),d.sub(u),m.sub(u),y.sub(v),x.sub(v);const ee=1/(y.x*x.y-x.x*y.y);isFinite(ee)&&(T.copy(d).multiplyScalar(x.y).addScaledVector(m,-y.y).multiplyScalar(ee),E.copy(m).multiplyScalar(y.x).addScaledVector(d,-x.x).multiplyScalar(ee),o[$].add(T),o[V].add(T),o[H].add(T),l[$].add(E),l[V].add(E),l[H].add(E))}let P=this.groups;P.length===0&&(P=[{start:0,count:e.count}]);for(let $=0,V=P.length;$<V;++$){const H=P[$],ee=H.start,pe=H.count;for(let ae=ee,ye=ee+pe;ae<ye;ae+=3)w(e.getX(ae+0),e.getX(ae+1),e.getX(ae+2))}const D=new me,N=new me,G=new me,k=new me;function M($){G.fromBufferAttribute(r,$),k.copy(G);const V=o[$];D.copy(V),D.sub(G.multiplyScalar(G.dot(V))).normalize(),N.crossVectors(k,V);const ee=N.dot(l[$])<0?-1:1;a.setXYZW($,D.x,D.y,D.z,ee)}for(let $=0,V=P.length;$<V;++$){const H=P[$],ee=H.start,pe=H.count;for(let ae=ee,ye=ee+pe;ae<ye;ae+=3)M(e.getX(ae+0)),M(e.getX(ae+1)),M(e.getX(ae+2))}}computeVertexNormals(){const e=this.index,t=this.getAttribute("position");if(t!==void 0){let i=this.getAttribute("normal");if(i===void 0)i=new Qr(new Float32Array(t.count*3),3),this.setAttribute("normal",i);else for(let v=0,y=i.count;v<y;v++)i.setXYZ(v,0,0,0);const r=new me,s=new me,a=new me,o=new me,l=new me,u=new me,d=new me,m=new me;if(e)for(let v=0,y=e.count;v<y;v+=3){const x=e.getX(v+0),T=e.getX(v+1),E=e.getX(v+2);r.fromBufferAttribute(t,x),s.fromBufferAttribute(t,T),a.fromBufferAttribute(t,E),d.subVectors(a,s),m.subVectors(r,s),d.cross(m),o.fromBufferAttribute(i,x),l.fromBufferAttribute(i,T),u.fromBufferAttribute(i,E),o.add(d),l.add(d),u.add(d),i.setXYZ(x,o.x,o.y,o.z),i.setXYZ(T,l.x,l.y,l.z),i.setXYZ(E,u.x,u.y,u.z)}else for(let v=0,y=t.count;v<y;v+=3)r.fromBufferAttribute(t,v+0),s.fromBufferAttribute(t,v+1),a.fromBufferAttribute(t,v+2),d.subVectors(a,s),m.subVectors(r,s),d.cross(m),i.setXYZ(v+0,d.x,d.y,d.z),i.setXYZ(v+1,d.x,d.y,d.z),i.setXYZ(v+2,d.x,d.y,d.z);this.normalizeNormals(),i.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let t=0,i=e.count;t<i;t++)io.fromBufferAttribute(e,t),io.normalize(),e.setXYZ(t,io.x,io.y,io.z)}toNonIndexed(){function e(o,l){const u=o.array,d=o.itemSize,m=o.normalized,v=new u.constructor(l.length*d);let y=0,x=0;for(let T=0,E=l.length;T<E;T++){o.isInterleavedBufferAttribute?y=l[T]*o.data.stride+o.offset:y=l[T]*d;for(let w=0;w<d;w++)v[x++]=u[y++]}return new Qr(v,d,m)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const t=new zi,i=this.index.array,r=this.attributes;for(const o in r){const l=r[o],u=e(l,i);t.setAttribute(o,u)}const s=this.morphAttributes;for(const o in s){const l=[],u=s[o];for(let d=0,m=u.length;d<m;d++){const v=u[d],y=e(v,i);l.push(y)}t.morphAttributes[o]=l}t.morphTargetsRelative=this.morphTargetsRelative;const a=this.groups;for(let o=0,l=a.length;o<l;o++){const u=a[o];t.addGroup(u.start,u.count,u.materialIndex)}return t}toJSON(){const e={metadata:{version:4.7,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const l=this.parameters;for(const u in l)l[u]!==void 0&&(e[u]=l[u]);return e}e.data={attributes:{}};const t=this.index;t!==null&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});const i=this.attributes;for(const l in i){const u=i[l];e.data.attributes[l]=u.toJSON(e.data)}const r={};let s=!1;for(const l in this.morphAttributes){const u=this.morphAttributes[l],d=[];for(let m=0,v=u.length;m<v;m++){const y=u[m];d.push(y.toJSON(e.data))}d.length>0&&(r[l]=d,s=!0)}s&&(e.data.morphAttributes=r,e.data.morphTargetsRelative=this.morphTargetsRelative);const a=this.groups;a.length>0&&(e.data.groups=JSON.parse(JSON.stringify(a)));const o=this.boundingSphere;return o!==null&&(e.data.boundingSphere=o.toJSON()),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const t={};this.name=e.name;const i=e.index;i!==null&&this.setIndex(i.clone());const r=e.attributes;for(const u in r){const d=r[u];this.setAttribute(u,d.clone(t))}const s=e.morphAttributes;for(const u in s){const d=[],m=s[u];for(let v=0,y=m.length;v<y;v++)d.push(m[v].clone(t));this.morphAttributes[u]=d}this.morphTargetsRelative=e.morphTargetsRelative;const a=e.groups;for(let u=0,d=a.length;u<d;u++){const m=a[u];this.addGroup(m.start,m.count,m.materialIndex)}const o=e.boundingBox;o!==null&&(this.boundingBox=o.clone());const l=e.boundingSphere;return l!==null&&(this.boundingSphere=l.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const hD=new mi,Rm=new Eg,Ob=new Do,dD=new me,Pb=new me,Db=new me,Lb=new me,tM=new me,Nb=new me,pD=new me,Ib=new me;class Gs extends br{constructor(e=new zi,t=new Cd){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=t,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.count=1,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}updateMorphTargets(){const t=this.geometry.morphAttributes,i=Object.keys(t);if(i.length>0){const r=t[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,a=r.length;s<a;s++){const o=r[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[o]=s}}}}getVertexPosition(e,t){const i=this.geometry,r=i.attributes.position,s=i.morphAttributes.position,a=i.morphTargetsRelative;t.fromBufferAttribute(r,e);const o=this.morphTargetInfluences;if(s&&o){Nb.set(0,0,0);for(let l=0,u=s.length;l<u;l++){const d=o[l],m=s[l];d!==0&&(tM.fromBufferAttribute(m,e),a?Nb.addScaledVector(tM,d):Nb.addScaledVector(tM.sub(t),d))}t.add(Nb)}return t}raycast(e,t){const i=this.geometry,r=this.material,s=this.matrixWorld;r!==void 0&&(i.boundingSphere===null&&i.computeBoundingSphere(),Ob.copy(i.boundingSphere),Ob.applyMatrix4(s),Rm.copy(e.ray).recast(e.near),!(Ob.containsPoint(Rm.origin)===!1&&(Rm.intersectSphere(Ob,dD)===null||Rm.origin.distanceToSquared(dD)>(e.far-e.near)**2))&&(hD.copy(s).invert(),Rm.copy(e.ray).applyMatrix4(hD),!(i.boundingBox!==null&&Rm.intersectsBox(i.boundingBox)===!1)&&this._computeIntersections(e,t,Rm)))}_computeIntersections(e,t,i){let r;const s=this.geometry,a=this.material,o=s.index,l=s.attributes.position,u=s.attributes.uv,d=s.attributes.uv1,m=s.attributes.normal,v=s.groups,y=s.drawRange;if(o!==null)if(Array.isArray(a))for(let x=0,T=v.length;x<T;x++){const E=v[x],w=a[E.materialIndex],P=Math.max(E.start,y.start),D=Math.min(o.count,Math.min(E.start+E.count,y.start+y.count));for(let N=P,G=D;N<G;N+=3){const k=o.getX(N),M=o.getX(N+1),$=o.getX(N+2);r=zb(this,w,e,i,u,d,m,k,M,$),r&&(r.faceIndex=Math.floor(N/3),r.face.materialIndex=E.materialIndex,t.push(r))}}else{const x=Math.max(0,y.start),T=Math.min(o.count,y.start+y.count);for(let E=x,w=T;E<w;E+=3){const P=o.getX(E),D=o.getX(E+1),N=o.getX(E+2);r=zb(this,a,e,i,u,d,m,P,D,N),r&&(r.faceIndex=Math.floor(E/3),t.push(r))}}else if(l!==void 0)if(Array.isArray(a))for(let x=0,T=v.length;x<T;x++){const E=v[x],w=a[E.materialIndex],P=Math.max(E.start,y.start),D=Math.min(l.count,Math.min(E.start+E.count,y.start+y.count));for(let N=P,G=D;N<G;N+=3){const k=N,M=N+1,$=N+2;r=zb(this,w,e,i,u,d,m,k,M,$),r&&(r.faceIndex=Math.floor(N/3),r.face.materialIndex=E.materialIndex,t.push(r))}}else{const x=Math.max(0,y.start),T=Math.min(l.count,y.start+y.count);for(let E=x,w=T;E<w;E+=3){const P=E,D=E+1,N=E+2;r=zb(this,a,e,i,u,d,m,P,D,N),r&&(r.faceIndex=Math.floor(E/3),t.push(r))}}}}function One(n,e,t,i,r,s,a,o){let l;if(e.side===Bl?l=i.intersectTriangle(a,s,r,!0,o):l=i.intersectTriangle(r,s,a,e.side===Sd,o),l===null)return null;Ib.copy(o),Ib.applyMatrix4(n.matrixWorld);const u=t.ray.origin.distanceTo(Ib);return u<t.near||u>t.far?null:{distance:u,point:Ib.clone(),object:n}}function zb(n,e,t,i,r,s,a,o,l,u){n.getVertexPosition(o,Pb),n.getVertexPosition(l,Db),n.getVertexPosition(u,Lb);const d=One(n,e,t,i,Pb,Db,Lb,pD);if(d){const m=new me;fc.getBarycoord(pD,Pb,Db,Lb,m),r&&(d.uv=fc.getInterpolatedAttribute(r,o,l,u,m,new Lt)),s&&(d.uv1=fc.getInterpolatedAttribute(s,o,l,u,m,new Lt)),a&&(d.normal=fc.getInterpolatedAttribute(a,o,l,u,m,new me),d.normal.dot(i.direction)>0&&d.normal.multiplyScalar(-1));const v={a:o,b:l,c:u,normal:new me,materialIndex:0};fc.getNormal(Pb,Db,Lb,v.normal),d.face=v,d.barycoord=m}return d}class Tg extends zi{constructor(e=1,t=1,i=1,r=1,s=1,a=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:i,widthSegments:r,heightSegments:s,depthSegments:a};const o=this;r=Math.floor(r),s=Math.floor(s),a=Math.floor(a);const l=[],u=[],d=[],m=[];let v=0,y=0;x("z","y","x",-1,-1,i,t,e,a,s,0),x("z","y","x",1,-1,i,t,-e,a,s,1),x("x","z","y",1,1,e,i,t,r,a,2),x("x","z","y",1,-1,e,i,-t,r,a,3),x("x","y","z",1,-1,e,t,i,r,s,4),x("x","y","z",-1,-1,e,t,-i,r,s,5),this.setIndex(l),this.setAttribute("position",new Nn(u,3)),this.setAttribute("normal",new Nn(d,3)),this.setAttribute("uv",new Nn(m,2));function x(T,E,w,P,D,N,G,k,M,$,V){const H=N/M,ee=G/$,pe=N/2,ae=G/2,ye=k/2,Te=M+1,J=$+1;let de=0,he=0;const Le=new me;for(let ne=0;ne<J;ne++){const re=ne*ee-ae;for(let ze=0;ze<Te;ze++){const Ve=ze*H-pe;Le[T]=Ve*P,Le[E]=re*D,Le[w]=ye,u.push(Le.x,Le.y,Le.z),Le[T]=0,Le[E]=0,Le[w]=k>0?1:-1,d.push(Le.x,Le.y,Le.z),m.push(ze/M),m.push(1-ne/$),de+=1}}for(let ne=0;ne<$;ne++)for(let re=0;re<M;re++){const ze=v+re+Te*ne,Ve=v+re+Te*(ne+1),xe=v+(re+1)+Te*(ne+1),$e=v+(re+1)+Te*ne;l.push(ze,Ve,$e),l.push(Ve,xe,$e),he+=6}o.addGroup(y,he,V),y+=he,v+=de}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Tg(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function vy(n){const e={};for(const t in n){e[t]={};for(const i in n[t]){const r=n[t][i];r&&(r.isColor||r.isMatrix3||r.isMatrix4||r.isVector2||r.isVector3||r.isVector4||r.isTexture||r.isQuaternion)?r.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[t][i]=null):e[t][i]=r.clone():Array.isArray(r)?e[t][i]=r.slice():e[t][i]=r}}return e}function Pl(n){const e={};for(let t=0;t<n.length;t++){const i=vy(n[t]);for(const r in i)e[r]=i[r]}return e}function Pne(n){const e=[];for(let t=0;t<n.length;t++)e.push(n[t].clone());return e}function Oz(n){const e=n.getRenderTarget();return e===null?n.outputColorSpace:e.isXRRenderTarget===!0?e.texture.colorSpace:ur.workingColorSpace}const Pz={clone:vy,merge:Pl};var Dne=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,Lne=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class pc extends il{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=Dne,this.fragmentShader=Lne,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={clipCullDistance:!1,multiDraw:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=vy(e.uniforms),this.uniformsGroups=Pne(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const t=super.toJSON(e);t.glslVersion=this.glslVersion,t.uniforms={};for(const r in this.uniforms){const a=this.uniforms[r].value;a&&a.isTexture?t.uniforms[r]={type:"t",value:a.toJSON(e).uuid}:a&&a.isColor?t.uniforms[r]={type:"c",value:a.getHex()}:a&&a.isVector2?t.uniforms[r]={type:"v2",value:a.toArray()}:a&&a.isVector3?t.uniforms[r]={type:"v3",value:a.toArray()}:a&&a.isVector4?t.uniforms[r]={type:"v4",value:a.toArray()}:a&&a.isMatrix3?t.uniforms[r]={type:"m3",value:a.toArray()}:a&&a.isMatrix4?t.uniforms[r]={type:"m4",value:a.toArray()}:t.uniforms[r]={value:a}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader,t.lights=this.lights,t.clipping=this.clipping;const i={};for(const r in this.extensions)this.extensions[r]===!0&&(i[r]=!0);return Object.keys(i).length>0&&(t.extensions=i),t}}class Iw extends br{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new mi,this.projectionMatrix=new mi,this.projectionMatrixInverse=new mi,this.coordinateSystem=Au}copy(e,t){return super.copy(e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){return super.getWorldDirection(e).negate()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}const _p=new me,mD=new Lt,gD=new Lt;let fa=class extends Iw{constructor(e=50,t=1,i=.1,r=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=i,this.far=r,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const t=.5*this.getFilmHeight()/e;this.fov=my*2*Math.atan(t),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(ug*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return my*2*Math.atan(Math.tan(ug*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}getViewBounds(e,t,i){_p.set(-1,-1,.5).applyMatrix4(this.projectionMatrixInverse),t.set(_p.x,_p.y).multiplyScalar(-e/_p.z),_p.set(1,1,.5).applyMatrix4(this.projectionMatrixInverse),i.set(_p.x,_p.y).multiplyScalar(-e/_p.z)}getViewSize(e,t){return this.getViewBounds(e,mD,gD),t.subVectors(gD,mD)}setViewOffset(e,t,i,r,s,a){this.aspect=e/t,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=i,this.view.offsetY=r,this.view.width=s,this.view.height=a,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let t=e*Math.tan(ug*.5*this.fov)/this.zoom,i=2*t,r=this.aspect*i,s=-.5*r;const a=this.view;if(this.view!==null&&this.view.enabled){const l=a.fullWidth,u=a.fullHeight;s+=a.offsetX*r/l,t-=a.offsetY*i/u,r*=a.width/l,i*=a.height/u}const o=this.filmOffset;o!==0&&(s+=e*o/this.getFilmWidth()),this.projectionMatrix.makePerspective(s,s+r,t,t-i,e,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,this.view!==null&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}};const wv=-90,Ev=1;class Dz extends br{constructor(e,t,i){super(),this.type="CubeCamera",this.renderTarget=i,this.coordinateSystem=null,this.activeMipmapLevel=0;const r=new fa(wv,Ev,e,t);r.layers=this.layers,this.add(r);const s=new fa(wv,Ev,e,t);s.layers=this.layers,this.add(s);const a=new fa(wv,Ev,e,t);a.layers=this.layers,this.add(a);const o=new fa(wv,Ev,e,t);o.layers=this.layers,this.add(o);const l=new fa(wv,Ev,e,t);l.layers=this.layers,this.add(l);const u=new fa(wv,Ev,e,t);u.layers=this.layers,this.add(u)}updateCoordinateSystem(){const e=this.coordinateSystem,t=this.children.concat(),[i,r,s,a,o,l]=t;for(const u of t)this.remove(u);if(e===Au)i.up.set(0,1,0),i.lookAt(1,0,0),r.up.set(0,1,0),r.lookAt(-1,0,0),s.up.set(0,0,-1),s.lookAt(0,1,0),a.up.set(0,0,1),a.lookAt(0,-1,0),o.up.set(0,1,0),o.lookAt(0,0,1),l.up.set(0,1,0),l.lookAt(0,0,-1);else if(e===b_)i.up.set(0,-1,0),i.lookAt(-1,0,0),r.up.set(0,-1,0),r.lookAt(1,0,0),s.up.set(0,0,1),s.lookAt(0,1,0),a.up.set(0,0,-1),a.lookAt(0,-1,0),o.up.set(0,-1,0),o.lookAt(0,0,1),l.up.set(0,-1,0),l.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);for(const u of t)this.add(u),u.updateMatrixWorld()}update(e,t){this.parent===null&&this.updateMatrixWorld();const{renderTarget:i,activeMipmapLevel:r}=this;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[s,a,o,l,u,d]=this.children,m=e.getRenderTarget(),v=e.getActiveCubeFace(),y=e.getActiveMipmapLevel(),x=e.xr.enabled;e.xr.enabled=!1;const T=i.texture.generateMipmaps;i.texture.generateMipmaps=!1,e.setRenderTarget(i,0,r),e.render(t,s),e.setRenderTarget(i,1,r),e.render(t,a),e.setRenderTarget(i,2,r),e.render(t,o),e.setRenderTarget(i,3,r),e.render(t,l),e.setRenderTarget(i,4,r),e.render(t,u),i.texture.generateMipmaps=T,e.setRenderTarget(i,5,r),e.render(t,d),e.setRenderTarget(m,v,y),e.xr.enabled=x,i.texture.needsPMREMUpdate=!0}}class W_ extends zr{constructor(e=[],t=fh,i,r,s,a,o,l,u,d){super(e,t,i,r,s,a,o,l,u,d),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class MC extends Fc{constructor(e=1,t={}){super(e,e,t),this.isWebGLCubeRenderTarget=!0;const i={width:e,height:e,depth:1},r=[i,i,i,i,i,i];this.texture=new W_(r),this._setTextureOptions(t),this.texture.isRenderTargetTexture=!0}fromEquirectangularTexture(e,t){this.texture.type=t.type,this.texture.colorSpace=t.colorSpace,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;const i={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},r=new Tg(5,5,5),s=new pc({name:"CubemapFromEquirect",uniforms:vy(i.uniforms),vertexShader:i.vertexShader,fragmentShader:i.fragmentShader,side:Bl,blending:ah});s.uniforms.tEquirect.value=t;const a=new Gs(r,s),o=t.minFilter;return t.minFilter===ih&&(t.minFilter=Or),new Dz(1,10,this).update(e,a),t.minFilter=o,a.geometry.dispose(),a.material.dispose(),this}clear(e,t=!0,i=!0,r=!0){const s=e.getRenderTarget();for(let a=0;a<6;a++)e.setRenderTarget(this,a),e.clear(t,i,r);e.setRenderTarget(s)}}class jv extends br{constructor(){super(),this.isGroup=!0,this.type="Group"}}const Nne={type:"move"};class Nx{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new jv,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new jv,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new me,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new me),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new jv,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new me,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new me),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const t=this._hand;if(t)for(const i of e.hand.values())this._getHandJoint(t,i)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,t,i){let r=null,s=null,a=null;const o=this._targetRay,l=this._grip,u=this._hand;if(e&&t.session.visibilityState!=="visible-blurred"){if(u&&e.hand){a=!0;for(const T of e.hand.values()){const E=t.getJointPose(T,i),w=this._getHandJoint(u,T);E!==null&&(w.matrix.fromArray(E.transform.matrix),w.matrix.decompose(w.position,w.rotation,w.scale),w.matrixWorldNeedsUpdate=!0,w.jointRadius=E.radius),w.visible=E!==null}const d=u.joints["index-finger-tip"],m=u.joints["thumb-tip"],v=d.position.distanceTo(m.position),y=.02,x=.005;u.inputState.pinching&&v>y+x?(u.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!u.inputState.pinching&&v<=y-x&&(u.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else l!==null&&e.gripSpace&&(s=t.getPose(e.gripSpace,i),s!==null&&(l.matrix.fromArray(s.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),l.matrixWorldNeedsUpdate=!0,s.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(s.linearVelocity)):l.hasLinearVelocity=!1,s.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(s.angularVelocity)):l.hasAngularVelocity=!1));o!==null&&(r=t.getPose(e.targetRaySpace,i),r===null&&s!==null&&(r=s),r!==null&&(o.matrix.fromArray(r.transform.matrix),o.matrix.decompose(o.position,o.rotation,o.scale),o.matrixWorldNeedsUpdate=!0,r.linearVelocity?(o.hasLinearVelocity=!0,o.linearVelocity.copy(r.linearVelocity)):o.hasLinearVelocity=!1,r.angularVelocity?(o.hasAngularVelocity=!0,o.angularVelocity.copy(r.angularVelocity)):o.hasAngularVelocity=!1,this.dispatchEvent(Nne)))}return o!==null&&(o.visible=r!==null),l!==null&&(l.visible=s!==null),u!==null&&(u.visible=a!==null),this}_getHandJoint(e,t){if(e.joints[t.jointName]===void 0){const i=new jv;i.matrixAutoUpdate=!1,i.visible=!1,e.joints[t.jointName]=i,e.add(i)}return e.joints[t.jointName]}}class zw{constructor(e,t=25e-5){this.isFogExp2=!0,this.name="",this.color=new yn(e),this.density=t}clone(){return new zw(this.color,this.density)}toJSON(){return{type:"FogExp2",name:this.name,color:this.color.getHex(),density:this.density}}}class Uw{constructor(e,t=1,i=1e3){this.isFog=!0,this.name="",this.color=new yn(e),this.near=t,this.far=i}clone(){return new Uw(this.color,this.near,this.far)}toJSON(){return{type:"Fog",name:this.name,color:this.color.getHex(),near:this.near,far:this.far}}}class X_ extends br{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.backgroundRotation=new Vc,this.environmentIntensity=1,this.environmentRotation=new Vc,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,t){return super.copy(e,t),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,this.backgroundRotation.copy(e.backgroundRotation),this.environmentIntensity=e.environmentIntensity,this.environmentRotation.copy(e.environmentRotation),e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const t=super.toJSON(e);return this.fog!==null&&(t.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(t.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(t.object.backgroundIntensity=this.backgroundIntensity),t.object.backgroundRotation=this.backgroundRotation.toArray(),this.environmentIntensity!==1&&(t.object.environmentIntensity=this.environmentIntensity),t.object.environmentRotation=this.environmentRotation.toArray(),t}}class Bw{constructor(e,t){this.isInterleavedBuffer=!0,this.array=e,this.stride=t,this.count=e!==void 0?e.length/t:0,this.usage=__,this.updateRanges=[],this.version=0,this.uuid=kc()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,t,i){e*=this.stride,i*=t.stride;for(let r=0,s=this.stride;r<s;r++)this.array[e+r]=t.array[i+r];return this}set(e,t=0){return this.array.set(e,t),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=kc()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const t=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),i=new this.constructor(t,this.stride);return i.setUsage(this.usage),i}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=kc()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const Rl=new me;class vg{constructor(e,t,i,r=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=t,this.offset=i,this.normalized=r}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let t=0,i=this.data.count;t<i;t++)Rl.fromBufferAttribute(this,t),Rl.applyMatrix4(e),this.setXYZ(t,Rl.x,Rl.y,Rl.z);return this}applyNormalMatrix(e){for(let t=0,i=this.count;t<i;t++)Rl.fromBufferAttribute(this,t),Rl.applyNormalMatrix(e),this.setXYZ(t,Rl.x,Rl.y,Rl.z);return this}transformDirection(e){for(let t=0,i=this.count;t<i;t++)Rl.fromBufferAttribute(this,t),Rl.transformDirection(e),this.setXYZ(t,Rl.x,Rl.y,Rl.z);return this}getComponent(e,t){let i=this.array[e*this.data.stride+this.offset+t];return this.normalized&&(i=Il(i,this.array)),i}setComponent(e,t,i){return this.normalized&&(i=Ii(i,this.array)),this.data.array[e*this.data.stride+this.offset+t]=i,this}setX(e,t){return this.normalized&&(t=Ii(t,this.array)),this.data.array[e*this.data.stride+this.offset]=t,this}setY(e,t){return this.normalized&&(t=Ii(t,this.array)),this.data.array[e*this.data.stride+this.offset+1]=t,this}setZ(e,t){return this.normalized&&(t=Ii(t,this.array)),this.data.array[e*this.data.stride+this.offset+2]=t,this}setW(e,t){return this.normalized&&(t=Ii(t,this.array)),this.data.array[e*this.data.stride+this.offset+3]=t,this}getX(e){let t=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(t=Il(t,this.array)),t}getY(e){let t=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(t=Il(t,this.array)),t}getZ(e){let t=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(t=Il(t,this.array)),t}getW(e){let t=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(t=Il(t,this.array)),t}setXY(e,t,i){return e=e*this.data.stride+this.offset,this.normalized&&(t=Ii(t,this.array),i=Ii(i,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=i,this}setXYZ(e,t,i,r){return e=e*this.data.stride+this.offset,this.normalized&&(t=Ii(t,this.array),i=Ii(i,this.array),r=Ii(r,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=i,this.data.array[e+2]=r,this}setXYZW(e,t,i,r,s){return e=e*this.data.stride+this.offset,this.normalized&&(t=Ii(t,this.array),i=Ii(i,this.array),r=Ii(r,this.array),s=Ii(s,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=i,this.data.array[e+2]=r,this.data.array[e+3]=s,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let i=0;i<this.count;i++){const r=i*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)t.push(this.data.array[r+s])}return new Qr(new this.array.constructor(t),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new vg(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let i=0;i<this.count;i++){const r=i*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)t.push(this.data.array[r+s])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class AC extends il{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new yn(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let Tv;const w0=new me,Mv=new me,Av=new me,Cv=new Lt,E0=new Lt,Lz=new mi,Ub=new me,T0=new me,Bb=new me,vD=new Lt,nM=new Lt,yD=new Lt;class Nz extends br{constructor(e=new AC){if(super(),this.isSprite=!0,this.type="Sprite",Tv===void 0){Tv=new zi;const t=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),i=new Bw(t,5);Tv.setIndex([0,1,2,0,2,3]),Tv.setAttribute("position",new vg(i,3,0,!1)),Tv.setAttribute("uv",new vg(i,2,3,!1))}this.geometry=Tv,this.material=e,this.center=new Lt(.5,.5),this.count=1}raycast(e,t){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),Mv.setFromMatrixScale(this.matrixWorld),Lz.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),Av.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&Mv.multiplyScalar(-Av.z);const i=this.material.rotation;let r,s;i!==0&&(s=Math.cos(i),r=Math.sin(i));const a=this.center;kb(Ub.set(-.5,-.5,0),Av,a,Mv,r,s),kb(T0.set(.5,-.5,0),Av,a,Mv,r,s),kb(Bb.set(.5,.5,0),Av,a,Mv,r,s),vD.set(0,0),nM.set(1,0),yD.set(1,1);let o=e.ray.intersectTriangle(Ub,T0,Bb,!1,w0);if(o===null&&(kb(T0.set(-.5,.5,0),Av,a,Mv,r,s),nM.set(0,1),o=e.ray.intersectTriangle(Ub,Bb,T0,!1,w0),o===null))return;const l=e.ray.origin.distanceTo(w0);l<e.near||l>e.far||t.push({distance:l,point:w0.clone(),uv:fc.getInterpolation(w0,Ub,T0,Bb,vD,nM,yD,new Lt),face:null,object:this})}copy(e,t){return super.copy(e,t),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}function kb(n,e,t,i,r,s){Cv.subVectors(n,t).addScalar(.5).multiply(i),r!==void 0?(E0.x=s*Cv.x-r*Cv.y,E0.y=r*Cv.x+s*Cv.y):E0.copy(Cv),n.copy(e),n.x+=E0.x,n.y+=E0.y,n.applyMatrix4(Lz)}const Hb=new me,_D=new me;class Iz extends br{constructor(){super(),this.isLOD=!0,this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const t=e.levels;for(let i=0,r=t.length;i<r;i++){const s=t[i];this.addLevel(s.object.clone(),s.distance,s.hysteresis)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,t=0,i=0){t=Math.abs(t);const r=this.levels;let s;for(s=0;s<r.length&&!(t<r[s].distance);s++);return r.splice(s,0,{distance:t,hysteresis:i,object:e}),this.add(e),this}removeLevel(e){const t=this.levels;for(let i=0;i<t.length;i++)if(t[i].distance===e){const r=t.splice(i,1);return this.remove(r[0].object),!0}return!1}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const t=this.levels;if(t.length>0){let i,r;for(i=1,r=t.length;i<r;i++){let s=t[i].distance;if(t[i].object.visible&&(s-=s*t[i].hysteresis),e<s)break}return t[i-1].object}return null}raycast(e,t){if(this.levels.length>0){Hb.setFromMatrixPosition(this.matrixWorld);const r=e.ray.origin.distanceTo(Hb);this.getObjectForDistance(r).raycast(e,t)}}update(e){const t=this.levels;if(t.length>1){Hb.setFromMatrixPosition(e.matrixWorld),_D.setFromMatrixPosition(this.matrixWorld);const i=Hb.distanceTo(_D)/e.zoom;t[0].object.visible=!0;let r,s;for(r=1,s=t.length;r<s;r++){let a=t[r].distance;if(t[r].object.visible&&(a-=a*t[r].hysteresis),i>=a)t[r-1].object.visible=!1,t[r].object.visible=!0;else break}for(this._currentLevel=r-1;r<s;r++)t[r].object.visible=!1}}toJSON(e){const t=super.toJSON(e);this.autoUpdate===!1&&(t.object.autoUpdate=!1),t.object.levels=[];const i=this.levels;for(let r=0,s=i.length;r<s;r++){const a=i[r];t.object.levels.push({object:a.object.uuid,distance:a.distance,hysteresis:a.hysteresis})}return t}}const bD=new me,xD=new _r,SD=new _r,Ine=new me,wD=new mi,Fb=new me,iM=new Do,ED=new mi,rM=new Eg;class zz extends Gs{constructor(e,t){super(e,t),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode=Z2,this.bindMatrix=new mi,this.bindMatrixInverse=new mi,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const e=this.geometry;this.boundingBox===null&&(this.boundingBox=new tl),this.boundingBox.makeEmpty();const t=e.getAttribute("position");for(let i=0;i<t.count;i++)this.getVertexPosition(i,Fb),this.boundingBox.expandByPoint(Fb)}computeBoundingSphere(){const e=this.geometry;this.boundingSphere===null&&(this.boundingSphere=new Do),this.boundingSphere.makeEmpty();const t=e.getAttribute("position");for(let i=0;i<t.count;i++)this.getVertexPosition(i,Fb),this.boundingSphere.expandByPoint(Fb)}copy(e,t){return super.copy(e,t),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}raycast(e,t){const i=this.material,r=this.matrixWorld;i!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),iM.copy(this.boundingSphere),iM.applyMatrix4(r),e.ray.intersectsSphere(iM)!==!1&&(ED.copy(r).invert(),rM.copy(e.ray).applyMatrix4(ED),!(this.boundingBox!==null&&rM.intersectsBox(this.boundingBox)===!1)&&this._computeIntersections(e,t,rM)))}getVertexPosition(e,t){return super.getVertexPosition(e,t),this.applyBoneTransform(e,t),t}bind(e,t){this.skeleton=e,t===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.copy(t).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new _r,t=this.geometry.attributes.skinWeight;for(let i=0,r=t.count;i<r;i++){e.fromBufferAttribute(t,i);const s=1/e.manhattanLength();s!==1/0?e.multiplyScalar(s):e.set(1,0,0,0),t.setXYZW(i,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode===Z2?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode===fz?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(e,t){const i=this.skeleton,r=this.geometry;xD.fromBufferAttribute(r.attributes.skinIndex,e),SD.fromBufferAttribute(r.attributes.skinWeight,e),bD.copy(t).applyMatrix4(this.bindMatrix),t.set(0,0,0);for(let s=0;s<4;s++){const a=SD.getComponent(s);if(a!==0){const o=xD.getComponent(s);wD.multiplyMatrices(i.bones[o].matrixWorld,i.boneInverses[o]),t.addScaledVector(Ine.copy(bD).applyMatrix4(wD),a)}}return t.applyMatrix4(this.bindMatrixInverse)}}class CC extends br{constructor(){super(),this.isBone=!0,this.type="Bone"}}class hf extends zr{constructor(e=null,t=1,i=1,r,s,a,o,l,u=Po,d=Po,m,v){super(null,a,o,l,u,d,r,s,m,v),this.isDataTexture=!0,this.image={data:e,width:t,height:i},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const TD=new mi,zne=new mi;class kw{constructor(e=[],t=[]){this.uuid=kc(),this.bones=e.slice(0),this.boneInverses=t,this.boneMatrices=null,this.boneTexture=null,this.init()}init(){const e=this.bones,t=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),t.length===0)this.calculateInverses();else if(e.length!==t.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let i=0,r=this.bones.length;i<r;i++)this.boneInverses.push(new mi)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,t=this.bones.length;e<t;e++){const i=new mi;this.bones[e]&&i.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(i)}}pose(){for(let e=0,t=this.bones.length;e<t;e++){const i=this.bones[e];i&&i.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,t=this.bones.length;e<t;e++){const i=this.bones[e];i&&(i.parent&&i.parent.isBone?(i.matrix.copy(i.parent.matrixWorld).invert(),i.matrix.multiply(i.matrixWorld)):i.matrix.copy(i.matrixWorld),i.matrix.decompose(i.position,i.quaternion,i.scale))}}update(){const e=this.bones,t=this.boneInverses,i=this.boneMatrices,r=this.boneTexture;for(let s=0,a=e.length;s<a;s++){const o=e[s]?e[s].matrixWorld:zne;TD.multiplyMatrices(o,t[s]),TD.toArray(i,s*16)}r!==null&&(r.needsUpdate=!0)}clone(){return new kw(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const t=new Float32Array(e*e*4);t.set(this.boneMatrices);const i=new hf(t,e,e,ma,Ds);return i.needsUpdate=!0,this.boneMatrices=t,this.boneTexture=i,this}getBoneByName(e){for(let t=0,i=this.bones.length;t<i;t++){const r=this.bones[t];if(r.name===e)return r}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,t){this.uuid=e.uuid;for(let i=0,r=e.bones.length;i<r;i++){const s=e.bones[i];let a=t[s];a===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",s),a=new CC),this.bones.push(a),this.boneInverses.push(new mi().fromArray(e.boneInverses[i]))}return this.init(),this}toJSON(){const e={metadata:{version:4.7,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const t=this.bones,i=this.boneInverses;for(let r=0,s=t.length;r<s;r++){const a=t[r];e.bones.push(a.uuid);const o=i[r];e.boneInverses.push(o.toArray())}return e}}class yy extends Qr{constructor(e,t,i,r=1){super(e,t,i),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const Rv=new mi,MD=new mi,Vb=[],AD=new tl,Une=new mi,M0=new Gs,A0=new Do;class Uz extends Gs{constructor(e,t,i){super(e,t),this.isInstancedMesh=!0,this.instanceMatrix=new yy(new Float32Array(i*16),16),this.instanceColor=null,this.morphTexture=null,this.count=i,this.boundingBox=null,this.boundingSphere=null;for(let r=0;r<i;r++)this.setMatrixAt(r,Une)}computeBoundingBox(){const e=this.geometry,t=this.count;this.boundingBox===null&&(this.boundingBox=new tl),e.boundingBox===null&&e.computeBoundingBox(),this.boundingBox.makeEmpty();for(let i=0;i<t;i++)this.getMatrixAt(i,Rv),AD.copy(e.boundingBox).applyMatrix4(Rv),this.boundingBox.union(AD)}computeBoundingSphere(){const e=this.geometry,t=this.count;this.boundingSphere===null&&(this.boundingSphere=new Do),e.boundingSphere===null&&e.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let i=0;i<t;i++)this.getMatrixAt(i,Rv),A0.copy(e.boundingSphere).applyMatrix4(Rv),this.boundingSphere.union(A0)}copy(e,t){return super.copy(e,t),this.instanceMatrix.copy(e.instanceMatrix),e.morphTexture!==null&&(this.morphTexture=e.morphTexture.clone()),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}getColorAt(e,t){t.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,t){t.fromArray(this.instanceMatrix.array,e*16)}getMorphAt(e,t){const i=t.morphTargetInfluences,r=this.morphTexture.source.data.data,s=i.length+1,a=e*s+1;for(let o=0;o<i.length;o++)i[o]=r[a+o]}raycast(e,t){const i=this.matrixWorld,r=this.count;if(M0.geometry=this.geometry,M0.material=this.material,M0.material!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),A0.copy(this.boundingSphere),A0.applyMatrix4(i),e.ray.intersectsSphere(A0)!==!1))for(let s=0;s<r;s++){this.getMatrixAt(s,Rv),MD.multiplyMatrices(i,Rv),M0.matrixWorld=MD,M0.raycast(e,Vb);for(let a=0,o=Vb.length;a<o;a++){const l=Vb[a];l.instanceId=s,l.object=this,t.push(l)}Vb.length=0}}setColorAt(e,t){this.instanceColor===null&&(this.instanceColor=new yy(new Float32Array(this.instanceMatrix.count*3).fill(1),3)),t.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,t){t.toArray(this.instanceMatrix.array,e*16)}setMorphAt(e,t){const i=t.morphTargetInfluences,r=i.length+1;this.morphTexture===null&&(this.morphTexture=new hf(new Float32Array(r*this.count),r,this.count,$_,Ds));const s=this.morphTexture.source.data.data;let a=0;for(let u=0;u<i.length;u++)a+=i[u];const o=this.geometry.morphTargetsRelative?1:1-a,l=r*e;s[l]=o,s.set(i,l+1)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"}),this.morphTexture!==null&&(this.morphTexture.dispose(),this.morphTexture=null)}}const sM=new me,Bne=new me,kne=new Oi;class id{constructor(e=new me(1,0,0),t=0){this.isPlane=!0,this.normal=e,this.constant=t}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,i,r){return this.normal.set(e,t,i),this.constant=r,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,i){const r=sM.subVectors(i,t).cross(Bne.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(r,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return t.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,t){const i=e.delta(sM),r=this.normal.dot(i);if(r===0)return this.distanceToPoint(e.start)===0?t.copy(e.start):null;const s=-(e.start.dot(this.normal)+this.constant)/r;return s<0||s>1?null:t.copy(e.start).addScaledVector(i,s)}intersectsLine(e){const t=this.distanceToPoint(e.start),i=this.distanceToPoint(e.end);return t<0&&i>0||i<0&&t>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){const i=t||kne.getNormalMatrix(e),r=this.coplanarPoint(sM).applyMatrix4(e),s=this.normal.applyMatrix3(i).normalize();return this.constant=-r.dot(s),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const Om=new Do,Hne=new Lt(.5,.5),Gb=new me;class Ay{constructor(e=new id,t=new id,i=new id,r=new id,s=new id,a=new id){this.planes=[e,t,i,r,s,a]}set(e,t,i,r,s,a){const o=this.planes;return o[0].copy(e),o[1].copy(t),o[2].copy(i),o[3].copy(r),o[4].copy(s),o[5].copy(a),this}copy(e){const t=this.planes;for(let i=0;i<6;i++)t[i].copy(e.planes[i]);return this}setFromProjectionMatrix(e,t=Au){const i=this.planes,r=e.elements,s=r[0],a=r[1],o=r[2],l=r[3],u=r[4],d=r[5],m=r[6],v=r[7],y=r[8],x=r[9],T=r[10],E=r[11],w=r[12],P=r[13],D=r[14],N=r[15];if(i[0].setComponents(l-s,v-u,E-y,N-w).normalize(),i[1].setComponents(l+s,v+u,E+y,N+w).normalize(),i[2].setComponents(l+a,v+d,E+x,N+P).normalize(),i[3].setComponents(l-a,v-d,E-x,N-P).normalize(),i[4].setComponents(l-o,v-m,E-T,N-D).normalize(),t===Au)i[5].setComponents(l+o,v+m,E+T,N+D).normalize();else if(t===b_)i[5].setComponents(o,m,T,D).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+t);return this}intersectsObject(e){if(e.boundingSphere!==void 0)e.boundingSphere===null&&e.computeBoundingSphere(),Om.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const t=e.geometry;t.boundingSphere===null&&t.computeBoundingSphere(),Om.copy(t.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(Om)}intersectsSprite(e){Om.center.set(0,0,0);const t=Hne.distanceTo(e.center);return Om.radius=.7071067811865476+t,Om.applyMatrix4(e.matrixWorld),this.intersectsSphere(Om)}intersectsSphere(e){const t=this.planes,i=e.center,r=-e.radius;for(let s=0;s<6;s++)if(t[s].distanceToPoint(i)<r)return!1;return!0}intersectsBox(e){const t=this.planes;for(let i=0;i<6;i++){const r=t[i];if(Gb.x=r.normal.x>0?e.max.x:e.min.x,Gb.y=r.normal.y>0?e.max.y:e.min.y,Gb.z=r.normal.z>0?e.max.z:e.min.z,r.distanceToPoint(Gb)<0)return!1}return!0}containsPoint(e){const t=this.planes;for(let i=0;i<6;i++)if(t[i].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}const Zf=new mi,Kf=new Ay;class Hw{constructor(){this.coordinateSystem=Au}intersectsObject(e,t){if(!t.isArrayCamera||t.cameras.length===0)return!1;for(let i=0;i<t.cameras.length;i++){const r=t.cameras[i];if(Zf.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),Kf.setFromProjectionMatrix(Zf,this.coordinateSystem),Kf.intersectsObject(e))return!0}return!1}intersectsSprite(e,t){if(!t||!t.cameras||t.cameras.length===0)return!1;for(let i=0;i<t.cameras.length;i++){const r=t.cameras[i];if(Zf.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),Kf.setFromProjectionMatrix(Zf,this.coordinateSystem),Kf.intersectsSprite(e))return!0}return!1}intersectsSphere(e,t){if(!t||!t.cameras||t.cameras.length===0)return!1;for(let i=0;i<t.cameras.length;i++){const r=t.cameras[i];if(Zf.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),Kf.setFromProjectionMatrix(Zf,this.coordinateSystem),Kf.intersectsSphere(e))return!0}return!1}intersectsBox(e,t){if(!t||!t.cameras||t.cameras.length===0)return!1;for(let i=0;i<t.cameras.length;i++){const r=t.cameras[i];if(Zf.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),Kf.setFromProjectionMatrix(Zf,this.coordinateSystem),Kf.intersectsBox(e))return!0}return!1}containsPoint(e,t){if(!t||!t.cameras||t.cameras.length===0)return!1;for(let i=0;i<t.cameras.length;i++){const r=t.cameras[i];if(Zf.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),Kf.setFromProjectionMatrix(Zf,this.coordinateSystem),Kf.containsPoint(e))return!0}return!1}clone(){return new Hw}}function aM(n,e){return n-e}function Fne(n,e){return n.z-e.z}function Vne(n,e){return e.z-n.z}class Gne{constructor(){this.index=0,this.pool=[],this.list=[]}push(e,t,i,r){const s=this.pool,a=this.list;this.index>=s.length&&s.push({start:-1,count:-1,z:-1,index:-1});const o=s[this.index];a.push(o),this.index++,o.start=e,o.count=t,o.z=i,o.index=r}reset(){this.list.length=0,this.index=0}}const oc=new mi,jne=new yn(1,1,1),CD=new Ay,$ne=new Hw,jb=new tl,Pm=new Do,C0=new me,RD=new me,qne=new me,oM=new Gne,Ko=new Gs,$b=[];function Wne(n,e,t=0){const i=e.itemSize;if(n.isInterleavedBufferAttribute||n.array.constructor!==e.array.constructor){const r=n.count;for(let s=0;s<r;s++)for(let a=0;a<i;a++)e.setComponent(s+t,a,n.getComponent(s,a))}else e.array.set(n.array,t*i);e.needsUpdate=!0}function Dm(n,e){if(n.constructor!==e.constructor){const t=Math.min(n.length,e.length);for(let i=0;i<t;i++)e[i]=n[i]}else{const t=Math.min(n.length,e.length);e.set(new n.constructor(n.buffer,0,t))}}class Bz extends Gs{constructor(e,t,i=t*2,r){super(new zi,r),this.isBatchedMesh=!0,this.perObjectFrustumCulled=!0,this.sortObjects=!0,this.boundingBox=null,this.boundingSphere=null,this.customSort=null,this._instanceInfo=[],this._geometryInfo=[],this._availableInstanceIds=[],this._availableGeometryIds=[],this._nextIndexStart=0,this._nextVertexStart=0,this._geometryCount=0,this._visibilityChanged=!0,this._geometryInitialized=!1,this._maxInstanceCount=e,this._maxVertexCount=t,this._maxIndexCount=i,this._multiDrawCounts=new Int32Array(e),this._multiDrawStarts=new Int32Array(e),this._multiDrawCount=0,this._multiDrawInstances=null,this._matricesTexture=null,this._indirectTexture=null,this._colorsTexture=null,this._initMatricesTexture(),this._initIndirectTexture()}get maxInstanceCount(){return this._maxInstanceCount}get instanceCount(){return this._instanceInfo.length-this._availableInstanceIds.length}get unusedVertexCount(){return this._maxVertexCount-this._nextVertexStart}get unusedIndexCount(){return this._maxIndexCount-this._nextIndexStart}_initMatricesTexture(){let e=Math.sqrt(this._maxInstanceCount*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const t=new Float32Array(e*e*4),i=new hf(t,e,e,ma,Ds);this._matricesTexture=i}_initIndirectTexture(){let e=Math.sqrt(this._maxInstanceCount);e=Math.ceil(e);const t=new Uint32Array(e*e),i=new hf(t,e,e,q_,hh);this._indirectTexture=i}_initColorsTexture(){let e=Math.sqrt(this._maxInstanceCount);e=Math.ceil(e);const t=new Float32Array(e*e*4).fill(1),i=new hf(t,e,e,ma,Ds);i.colorSpace=ur.workingColorSpace,this._colorsTexture=i}_initializeGeometry(e){const t=this.geometry,i=this._maxVertexCount,r=this._maxIndexCount;if(this._geometryInitialized===!1){for(const s in e.attributes){const a=e.getAttribute(s),{array:o,itemSize:l,normalized:u}=a,d=new o.constructor(i*l),m=new Qr(d,l,u);t.setAttribute(s,m)}if(e.getIndex()!==null){const s=i>65535?new Uint32Array(r):new Uint16Array(r);t.setIndex(new Qr(s,1))}this._geometryInitialized=!0}}_validateGeometry(e){const t=this.geometry;if(!!e.getIndex()!=!!t.getIndex())throw new Error('THREE.BatchedMesh: All geometries must consistently have "index".');for(const i in t.attributes){if(!e.hasAttribute(i))throw new Error(`THREE.BatchedMesh: Added geometry missing "${i}". All geometries must have consistent attributes.`);const r=e.getAttribute(i),s=t.getAttribute(i);if(r.itemSize!==s.itemSize||r.normalized!==s.normalized)throw new Error("THREE.BatchedMesh: All attributes must have a consistent itemSize and normalized value.")}}validateInstanceId(e){const t=this._instanceInfo;if(e<0||e>=t.length||t[e].active===!1)throw new Error(`THREE.BatchedMesh: Invalid instanceId ${e}. Instance is either out of range or has been deleted.`)}validateGeometryId(e){const t=this._geometryInfo;if(e<0||e>=t.length||t[e].active===!1)throw new Error(`THREE.BatchedMesh: Invalid geometryId ${e}. Geometry is either out of range or has been deleted.`)}setCustomSort(e){return this.customSort=e,this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new tl);const e=this.boundingBox,t=this._instanceInfo;e.makeEmpty();for(let i=0,r=t.length;i<r;i++){if(t[i].active===!1)continue;const s=t[i].geometryIndex;this.getMatrixAt(i,oc),this.getBoundingBoxAt(s,jb).applyMatrix4(oc),e.union(jb)}}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Do);const e=this.boundingSphere,t=this._instanceInfo;e.makeEmpty();for(let i=0,r=t.length;i<r;i++){if(t[i].active===!1)continue;const s=t[i].geometryIndex;this.getMatrixAt(i,oc),this.getBoundingSphereAt(s,Pm).applyMatrix4(oc),e.union(Pm)}}addInstance(e){if(this._instanceInfo.length>=this.maxInstanceCount&&this._availableInstanceIds.length===0)throw new Error("THREE.BatchedMesh: Maximum item count reached.");const i={visible:!0,active:!0,geometryIndex:e};let r=null;this._availableInstanceIds.length>0?(this._availableInstanceIds.sort(aM),r=this._availableInstanceIds.shift(),this._instanceInfo[r]=i):(r=this._instanceInfo.length,this._instanceInfo.push(i));const s=this._matricesTexture;oc.identity().toArray(s.image.data,r*16),s.needsUpdate=!0;const a=this._colorsTexture;return a&&(jne.toArray(a.image.data,r*4),a.needsUpdate=!0),this._visibilityChanged=!0,r}addGeometry(e,t=-1,i=-1){this._initializeGeometry(e),this._validateGeometry(e);const r={vertexStart:-1,vertexCount:-1,reservedVertexCount:-1,indexStart:-1,indexCount:-1,reservedIndexCount:-1,start:-1,count:-1,boundingBox:null,boundingSphere:null,active:!0},s=this._geometryInfo;r.vertexStart=this._nextVertexStart,r.reservedVertexCount=t===-1?e.getAttribute("position").count:t;const a=e.getIndex();if(a!==null&&(r.indexStart=this._nextIndexStart,r.reservedIndexCount=i===-1?a.count:i),r.indexStart!==-1&&r.indexStart+r.reservedIndexCount>this._maxIndexCount||r.vertexStart+r.reservedVertexCount>this._maxVertexCount)throw new Error("THREE.BatchedMesh: Reserved space request exceeds the maximum buffer size.");let l;return this._availableGeometryIds.length>0?(this._availableGeometryIds.sort(aM),l=this._availableGeometryIds.shift(),s[l]=r):(l=this._geometryCount,this._geometryCount++,s.push(r)),this.setGeometryAt(l,e),this._nextIndexStart=r.indexStart+r.reservedIndexCount,this._nextVertexStart=r.vertexStart+r.reservedVertexCount,l}setGeometryAt(e,t){if(e>=this._geometryCount)throw new Error("THREE.BatchedMesh: Maximum geometry count reached.");this._validateGeometry(t);const i=this.geometry,r=i.getIndex()!==null,s=i.getIndex(),a=t.getIndex(),o=this._geometryInfo[e];if(r&&a.count>o.reservedIndexCount||t.attributes.position.count>o.reservedVertexCount)throw new Error("THREE.BatchedMesh: Reserved space not large enough for provided geometry.");const l=o.vertexStart,u=o.reservedVertexCount;o.vertexCount=t.getAttribute("position").count;for(const d in i.attributes){const m=t.getAttribute(d),v=i.getAttribute(d);Wne(m,v,l);const y=m.itemSize;for(let x=m.count,T=u;x<T;x++){const E=l+x;for(let w=0;w<y;w++)v.setComponent(E,w,0)}v.needsUpdate=!0,v.addUpdateRange(l*y,u*y)}if(r){const d=o.indexStart,m=o.reservedIndexCount;o.indexCount=t.getIndex().count;for(let v=0;v<a.count;v++)s.setX(d+v,l+a.getX(v));for(let v=a.count,y=m;v<y;v++)s.setX(d+v,l);s.needsUpdate=!0,s.addUpdateRange(d,o.reservedIndexCount)}return o.start=r?o.indexStart:o.vertexStart,o.count=r?o.indexCount:o.vertexCount,o.boundingBox=null,t.boundingBox!==null&&(o.boundingBox=t.boundingBox.clone()),o.boundingSphere=null,t.boundingSphere!==null&&(o.boundingSphere=t.boundingSphere.clone()),this._visibilityChanged=!0,e}deleteGeometry(e){const t=this._geometryInfo;if(e>=t.length||t[e].active===!1)return this;const i=this._instanceInfo;for(let r=0,s=i.length;r<s;r++)i[r].active&&i[r].geometryIndex===e&&this.deleteInstance(r);return t[e].active=!1,this._availableGeometryIds.push(e),this._visibilityChanged=!0,this}deleteInstance(e){return this.validateInstanceId(e),this._instanceInfo[e].active=!1,this._availableInstanceIds.push(e),this._visibilityChanged=!0,this}optimize(){let e=0,t=0;const i=this._geometryInfo,r=i.map((a,o)=>o).sort((a,o)=>i[a].vertexStart-i[o].vertexStart),s=this.geometry;for(let a=0,o=i.length;a<o;a++){const l=r[a],u=i[l];if(u.active!==!1){if(s.index!==null){if(u.indexStart!==t){const{indexStart:d,vertexStart:m,reservedIndexCount:v}=u,y=s.index,x=y.array,T=e-m;for(let E=d;E<d+v;E++)x[E]=x[E]+T;y.array.copyWithin(t,d,d+v),y.addUpdateRange(t,v),u.indexStart=t}t+=u.reservedIndexCount}if(u.vertexStart!==e){const{vertexStart:d,reservedVertexCount:m}=u,v=s.attributes;for(const y in v){const x=v[y],{array:T,itemSize:E}=x;T.copyWithin(e*E,d*E,(d+m)*E),x.addUpdateRange(e*E,m*E)}u.vertexStart=e}e+=u.reservedVertexCount,u.start=s.index?u.indexStart:u.vertexStart,this._nextIndexStart=s.index?u.indexStart+u.reservedIndexCount:0,this._nextVertexStart=u.vertexStart+u.reservedVertexCount}}return this}getBoundingBoxAt(e,t){if(e>=this._geometryCount)return null;const i=this.geometry,r=this._geometryInfo[e];if(r.boundingBox===null){const s=new tl,a=i.index,o=i.attributes.position;for(let l=r.start,u=r.start+r.count;l<u;l++){let d=l;a&&(d=a.getX(d)),s.expandByPoint(C0.fromBufferAttribute(o,d))}r.boundingBox=s}return t.copy(r.boundingBox),t}getBoundingSphereAt(e,t){if(e>=this._geometryCount)return null;const i=this.geometry,r=this._geometryInfo[e];if(r.boundingSphere===null){const s=new Do;this.getBoundingBoxAt(e,jb),jb.getCenter(s.center);const a=i.index,o=i.attributes.position;let l=0;for(let u=r.start,d=r.start+r.count;u<d;u++){let m=u;a&&(m=a.getX(m)),C0.fromBufferAttribute(o,m),l=Math.max(l,s.center.distanceToSquared(C0))}s.radius=Math.sqrt(l),r.boundingSphere=s}return t.copy(r.boundingSphere),t}setMatrixAt(e,t){this.validateInstanceId(e);const i=this._matricesTexture,r=this._matricesTexture.image.data;return t.toArray(r,e*16),i.needsUpdate=!0,this}getMatrixAt(e,t){return this.validateInstanceId(e),t.fromArray(this._matricesTexture.image.data,e*16)}setColorAt(e,t){return this.validateInstanceId(e),this._colorsTexture===null&&this._initColorsTexture(),t.toArray(this._colorsTexture.image.data,e*4),this._colorsTexture.needsUpdate=!0,this}getColorAt(e,t){return this.validateInstanceId(e),t.fromArray(this._colorsTexture.image.data,e*4)}setVisibleAt(e,t){return this.validateInstanceId(e),this._instanceInfo[e].visible===t?this:(this._instanceInfo[e].visible=t,this._visibilityChanged=!0,this)}getVisibleAt(e){return this.validateInstanceId(e),this._instanceInfo[e].visible}setGeometryIdAt(e,t){return this.validateInstanceId(e),this.validateGeometryId(t),this._instanceInfo[e].geometryIndex=t,this}getGeometryIdAt(e){return this.validateInstanceId(e),this._instanceInfo[e].geometryIndex}getGeometryRangeAt(e,t={}){this.validateGeometryId(e);const i=this._geometryInfo[e];return t.vertexStart=i.vertexStart,t.vertexCount=i.vertexCount,t.reservedVertexCount=i.reservedVertexCount,t.indexStart=i.indexStart,t.indexCount=i.indexCount,t.reservedIndexCount=i.reservedIndexCount,t.start=i.start,t.count=i.count,t}setInstanceCount(e){const t=this._availableInstanceIds,i=this._instanceInfo;for(t.sort(aM);t[t.length-1]===i.length;)i.pop(),t.pop();if(e<i.length)throw new Error(`BatchedMesh: Instance ids outside the range ${e} are being used. Cannot shrink instance count.`);const r=new Int32Array(e),s=new Int32Array(e);Dm(this._multiDrawCounts,r),Dm(this._multiDrawStarts,s),this._multiDrawCounts=r,this._multiDrawStarts=s,this._maxInstanceCount=e;const a=this._indirectTexture,o=this._matricesTexture,l=this._colorsTexture;a.dispose(),this._initIndirectTexture(),Dm(a.image.data,this._indirectTexture.image.data),o.dispose(),this._initMatricesTexture(),Dm(o.image.data,this._matricesTexture.image.data),l&&(l.dispose(),this._initColorsTexture(),Dm(l.image.data,this._colorsTexture.image.data))}setGeometrySize(e,t){const i=[...this._geometryInfo].filter(o=>o.active);if(Math.max(...i.map(o=>o.vertexStart+o.reservedVertexCount))>e)throw new Error(`BatchedMesh: Geometry vertex values are being used outside the range ${t}. Cannot shrink further.`);if(this.geometry.index&&Math.max(...i.map(l=>l.indexStart+l.reservedIndexCount))>t)throw new Error(`BatchedMesh: Geometry index values are being used outside the range ${t}. Cannot shrink further.`);const s=this.geometry;s.dispose(),this._maxVertexCount=e,this._maxIndexCount=t,this._geometryInitialized&&(this._geometryInitialized=!1,this.geometry=new zi,this._initializeGeometry(s));const a=this.geometry;s.index&&Dm(s.index.array,a.index.array);for(const o in s.attributes)Dm(s.attributes[o].array,a.attributes[o].array)}raycast(e,t){const i=this._instanceInfo,r=this._geometryInfo,s=this.matrixWorld,a=this.geometry;Ko.material=this.material,Ko.geometry.index=a.index,Ko.geometry.attributes=a.attributes,Ko.geometry.boundingBox===null&&(Ko.geometry.boundingBox=new tl),Ko.geometry.boundingSphere===null&&(Ko.geometry.boundingSphere=new Do);for(let o=0,l=i.length;o<l;o++){if(!i[o].visible||!i[o].active)continue;const u=i[o].geometryIndex,d=r[u];Ko.geometry.setDrawRange(d.start,d.count),this.getMatrixAt(o,Ko.matrixWorld).premultiply(s),this.getBoundingBoxAt(u,Ko.geometry.boundingBox),this.getBoundingSphereAt(u,Ko.geometry.boundingSphere),Ko.raycast(e,$b);for(let m=0,v=$b.length;m<v;m++){const y=$b[m];y.object=this,y.batchId=o,t.push(y)}$b.length=0}Ko.material=null,Ko.geometry.index=null,Ko.geometry.attributes={},Ko.geometry.setDrawRange(0,1/0)}copy(e){return super.copy(e),this.geometry=e.geometry.clone(),this.perObjectFrustumCulled=e.perObjectFrustumCulled,this.sortObjects=e.sortObjects,this.boundingBox=e.boundingBox!==null?e.boundingBox.clone():null,this.boundingSphere=e.boundingSphere!==null?e.boundingSphere.clone():null,this._geometryInfo=e._geometryInfo.map(t=>({...t,boundingBox:t.boundingBox!==null?t.boundingBox.clone():null,boundingSphere:t.boundingSphere!==null?t.boundingSphere.clone():null})),this._instanceInfo=e._instanceInfo.map(t=>({...t})),this._availableInstanceIds=e._availableInstanceIds.slice(),this._availableGeometryIds=e._availableGeometryIds.slice(),this._nextIndexStart=e._nextIndexStart,this._nextVertexStart=e._nextVertexStart,this._geometryCount=e._geometryCount,this._maxInstanceCount=e._maxInstanceCount,this._maxVertexCount=e._maxVertexCount,this._maxIndexCount=e._maxIndexCount,this._geometryInitialized=e._geometryInitialized,this._multiDrawCounts=e._multiDrawCounts.slice(),this._multiDrawStarts=e._multiDrawStarts.slice(),this._indirectTexture=e._indirectTexture.clone(),this._indirectTexture.image.data=this._indirectTexture.image.data.slice(),this._matricesTexture=e._matricesTexture.clone(),this._matricesTexture.image.data=this._matricesTexture.image.data.slice(),this._colorsTexture!==null&&(this._colorsTexture=e._colorsTexture.clone(),this._colorsTexture.image.data=this._colorsTexture.image.data.slice()),this}dispose(){this.geometry.dispose(),this._matricesTexture.dispose(),this._matricesTexture=null,this._indirectTexture.dispose(),this._indirectTexture=null,this._colorsTexture!==null&&(this._colorsTexture.dispose(),this._colorsTexture=null)}onBeforeRender(e,t,i,r,s){if(!this._visibilityChanged&&!this.perObjectFrustumCulled&&!this.sortObjects)return;const a=r.getIndex(),o=a===null?1:a.array.BYTES_PER_ELEMENT,l=this._instanceInfo,u=this._multiDrawStarts,d=this._multiDrawCounts,m=this._geometryInfo,v=this.perObjectFrustumCulled,y=this._indirectTexture,x=y.image.data,T=i.isArrayCamera?$ne:CD;v&&!i.isArrayCamera&&(oc.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse).multiply(this.matrixWorld),CD.setFromProjectionMatrix(oc,e.coordinateSystem));let E=0;if(this.sortObjects){oc.copy(this.matrixWorld).invert(),C0.setFromMatrixPosition(i.matrixWorld).applyMatrix4(oc),RD.set(0,0,-1).transformDirection(i.matrixWorld).transformDirection(oc);for(let D=0,N=l.length;D<N;D++)if(l[D].visible&&l[D].active){const G=l[D].geometryIndex;this.getMatrixAt(D,oc),this.getBoundingSphereAt(G,Pm).applyMatrix4(oc);let k=!1;if(v&&(k=!T.intersectsSphere(Pm,i)),!k){const M=m[G],$=qne.subVectors(Pm.center,C0).dot(RD);oM.push(M.start,M.count,$,D)}}const w=oM.list,P=this.customSort;P===null?w.sort(s.transparent?Vne:Fne):P.call(this,w,i);for(let D=0,N=w.length;D<N;D++){const G=w[D];u[E]=G.start*o,d[E]=G.count,x[E]=G.index,E++}oM.reset()}else for(let w=0,P=l.length;w<P;w++)if(l[w].visible&&l[w].active){const D=l[w].geometryIndex;let N=!1;if(v&&(this.getMatrixAt(w,oc),this.getBoundingSphereAt(D,Pm).applyMatrix4(oc),N=!T.intersectsSphere(Pm,i)),!N){const G=m[D];u[E]=G.start*o,d[E]=G.count,x[E]=w,E++}}y.needsUpdate=!0,this._multiDrawCount=E,this._visibilityChanged=!1}onBeforeShadow(e,t,i,r,s,a){this.onBeforeRender(e,null,r,s,a)}}class Fl extends il{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new yn(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const BS=new me,kS=new me,OD=new mi,R0=new Eg,qb=new Do,lM=new me,PD=new me;class kp extends br{constructor(e=new zi,t=new Fl){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=t,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,i=[0];for(let r=1,s=t.count;r<s;r++)BS.fromBufferAttribute(t,r-1),kS.fromBufferAttribute(t,r),i[r]=i[r-1],i[r]+=BS.distanceTo(kS);e.setAttribute("lineDistance",new Nn(i,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,t){const i=this.geometry,r=this.matrixWorld,s=e.params.Line.threshold,a=i.drawRange;if(i.boundingSphere===null&&i.computeBoundingSphere(),qb.copy(i.boundingSphere),qb.applyMatrix4(r),qb.radius+=s,e.ray.intersectsSphere(qb)===!1)return;OD.copy(r).invert(),R0.copy(e.ray).applyMatrix4(OD);const o=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=o*o,u=this.isLineSegments?2:1,d=i.index,v=i.attributes.position;if(d!==null){const y=Math.max(0,a.start),x=Math.min(d.count,a.start+a.count);for(let T=y,E=x-1;T<E;T+=u){const w=d.getX(T),P=d.getX(T+1),D=Wb(this,e,R0,l,w,P,T);D&&t.push(D)}if(this.isLineLoop){const T=d.getX(x-1),E=d.getX(y),w=Wb(this,e,R0,l,T,E,x-1);w&&t.push(w)}}else{const y=Math.max(0,a.start),x=Math.min(v.count,a.start+a.count);for(let T=y,E=x-1;T<E;T+=u){const w=Wb(this,e,R0,l,T,T+1,T);w&&t.push(w)}if(this.isLineLoop){const T=Wb(this,e,R0,l,x-1,y,x-1);T&&t.push(T)}}}updateMorphTargets(){const t=this.geometry.morphAttributes,i=Object.keys(t);if(i.length>0){const r=t[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,a=r.length;s<a;s++){const o=r[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[o]=s}}}}}function Wb(n,e,t,i,r,s,a){const o=n.geometry.attributes.position;if(BS.fromBufferAttribute(o,r),kS.fromBufferAttribute(o,s),t.distanceSqToSegment(BS,kS,lM,PD)>i)return;lM.applyMatrix4(n.matrixWorld);const u=e.ray.origin.distanceTo(lM);if(!(u<e.near||u>e.far))return{distance:u,point:PD.clone().applyMatrix4(n.matrixWorld),index:a,face:null,faceIndex:null,barycoord:null,object:n}}const DD=new me,LD=new me;class vh extends kp{constructor(e,t){super(e,t),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,i=[];for(let r=0,s=t.count;r<s;r+=2)DD.fromBufferAttribute(t,r),LD.fromBufferAttribute(t,r+1),i[r]=r===0?0:i[r-1],i[r+1]=i[r]+DD.distanceTo(LD);e.setAttribute("lineDistance",new Nn(i,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class kz extends kp{constructor(e,t){super(e,t),this.isLineLoop=!0,this.type="LineLoop"}}class RC extends il{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new yn(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const ND=new mi,eA=new Eg,Xb=new Do,Yb=new me;class Hz extends br{constructor(e=new zi,t=new RC){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=t,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}raycast(e,t){const i=this.geometry,r=this.matrixWorld,s=e.params.Points.threshold,a=i.drawRange;if(i.boundingSphere===null&&i.computeBoundingSphere(),Xb.copy(i.boundingSphere),Xb.applyMatrix4(r),Xb.radius+=s,e.ray.intersectsSphere(Xb)===!1)return;ND.copy(r).invert(),eA.copy(e.ray).applyMatrix4(ND);const o=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=o*o,u=i.index,m=i.attributes.position;if(u!==null){const v=Math.max(0,a.start),y=Math.min(u.count,a.start+a.count);for(let x=v,T=y;x<T;x++){const E=u.getX(x);Yb.fromBufferAttribute(m,E),ID(Yb,E,l,r,e,t,this)}}else{const v=Math.max(0,a.start),y=Math.min(m.count,a.start+a.count);for(let x=v,T=y;x<T;x++)Yb.fromBufferAttribute(m,x),ID(Yb,x,l,r,e,t,this)}}updateMorphTargets(){const t=this.geometry.morphAttributes,i=Object.keys(t);if(i.length>0){const r=t[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,a=r.length;s<a;s++){const o=r[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[o]=s}}}}}function ID(n,e,t,i,r,s,a){const o=eA.distanceSqToPoint(n);if(o<t){const l=new me;eA.closestPointToPoint(n,l),l.applyMatrix4(i);const u=r.ray.origin.distanceTo(l);if(u<r.near||u>r.far)return;s.push({distance:u,distanceToRay:Math.sqrt(o),point:l,index:e,face:null,faceIndex:null,barycoord:null,object:a})}}class Fz extends zr{constructor(e,t,i,r,s=Or,a=Or,o,l,u){super(e,t,i,r,s,a,o,l,u),this.isVideoTexture=!0,this.generateMipmaps=!1;const d=this;function m(){d.needsUpdate=!0,e.requestVideoFrameCallback(m)}"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback(m)}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}class Xne extends Fz{constructor(e,t,i,r,s,a,o,l){super({},e,t,i,r,s,a,o,l),this.isVideoFrameTexture=!0}update(){}clone(){return new this.constructor().copy(this)}setFrame(e){this.image=e,this.needsUpdate=!0}}class Yne extends zr{constructor(e,t){super({width:e,height:t}),this.isFramebufferTexture=!0,this.magFilter=Po,this.minFilter=Po,this.generateMipmaps=!1,this.needsUpdate=!0}}class Fw extends zr{constructor(e,t,i,r,s,a,o,l,u,d,m,v){super(null,a,o,l,u,d,r,s,m,v),this.isCompressedTexture=!0,this.image={width:t,height:i},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}class Zne extends Fw{constructor(e,t,i,r,s,a){super(e,t,i,s,a),this.isCompressedArrayTexture=!0,this.image.depth=r,this.wrapR=Ra,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class Kne extends Fw{constructor(e,t,i){super(void 0,e[0].width,e[0].height,t,i,fh),this.isCompressedCubeTexture=!0,this.isCubeTexture=!0,this.image=e}}class Qne extends zr{constructor(e,t,i,r,s,a,o,l,u){super(e,t,i,r,s,a,o,l,u),this.isCanvasTexture=!0,this.needsUpdate=!0}}class Vw extends zr{constructor(e,t,i=hh,r,s,a,o=Po,l=Po,u,d=dy,m=1){if(d!==dy&&d!==py)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");const v={width:e,height:t,depth:m};super(v,r,s,a,o,l,d,i,u),this.isDepthTexture=!0,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.source=new Dp(Object.assign({},e.image)),this.compareFunction=e.compareFunction,this}toJSON(e){const t=super.toJSON(e);return this.compareFunction!==null&&(t.compareFunction=this.compareFunction),t}}class Gw extends zi{constructor(e=1,t=1,i=4,r=8,s=1){super(),this.type="CapsuleGeometry",this.parameters={radius:e,height:t,capSegments:i,radialSegments:r,heightSegments:s},t=Math.max(0,t),i=Math.max(1,Math.floor(i)),r=Math.max(3,Math.floor(r)),s=Math.max(1,Math.floor(s));const a=[],o=[],l=[],u=[],d=t/2,m=Math.PI/2*e,v=t,y=2*m+v,x=i*2+s,T=r+1,E=new me,w=new me;for(let P=0;P<=x;P++){let D=0,N=0,G=0,k=0;if(P<=i){const V=P/i,H=V*Math.PI/2;N=-d-e*Math.cos(H),G=e*Math.sin(H),k=-e*Math.cos(H),D=V*m}else if(P<=i+s){const V=(P-i)/s;N=-d+V*t,G=e,k=0,D=m+V*v}else{const V=(P-i-s)/i,H=V*Math.PI/2;N=d+e*Math.sin(H),G=e*Math.cos(H),k=e*Math.sin(H),D=m+v+V*m}const M=Math.max(0,Math.min(1,D/y));let $=0;P===0?$=.5/r:P===x&&($=-.5/r);for(let V=0;V<=r;V++){const H=V/r,ee=H*Math.PI*2,pe=Math.sin(ee),ae=Math.cos(ee);w.x=-G*ae,w.y=N,w.z=G*pe,o.push(w.x,w.y,w.z),E.set(-G*ae,k,G*pe),E.normalize(),l.push(E.x,E.y,E.z),u.push(H+$,M)}if(P>0){const V=(P-1)*T;for(let H=0;H<r;H++){const ee=V+H,pe=V+H+1,ae=P*T+H,ye=P*T+H+1;a.push(ee,pe,ae),a.push(pe,ye,ae)}}}this.setIndex(a),this.setAttribute("position",new Nn(o,3)),this.setAttribute("normal",new Nn(l,3)),this.setAttribute("uv",new Nn(u,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Gw(e.radius,e.height,e.capSegments,e.radialSegments,e.heightSegments)}}class jw extends zi{constructor(e=1,t=32,i=0,r=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:t,thetaStart:i,thetaLength:r},t=Math.max(3,t);const s=[],a=[],o=[],l=[],u=new me,d=new Lt;a.push(0,0,0),o.push(0,0,1),l.push(.5,.5);for(let m=0,v=3;m<=t;m++,v+=3){const y=i+m/t*r;u.x=e*Math.cos(y),u.y=e*Math.sin(y),a.push(u.x,u.y,u.z),o.push(0,0,1),d.x=(a[v]/e+1)/2,d.y=(a[v+1]/e+1)/2,l.push(d.x,d.y)}for(let m=1;m<=t;m++)s.push(m,m+1,0);this.setIndex(s),this.setAttribute("position",new Nn(a,3)),this.setAttribute("normal",new Nn(o,3)),this.setAttribute("uv",new Nn(l,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new jw(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class Y_ extends zi{constructor(e=1,t=1,i=1,r=32,s=1,a=!1,o=0,l=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:i,radialSegments:r,heightSegments:s,openEnded:a,thetaStart:o,thetaLength:l};const u=this;r=Math.floor(r),s=Math.floor(s);const d=[],m=[],v=[],y=[];let x=0;const T=[],E=i/2;let w=0;P(),a===!1&&(e>0&&D(!0),t>0&&D(!1)),this.setIndex(d),this.setAttribute("position",new Nn(m,3)),this.setAttribute("normal",new Nn(v,3)),this.setAttribute("uv",new Nn(y,2));function P(){const N=new me,G=new me;let k=0;const M=(t-e)/i;for(let $=0;$<=s;$++){const V=[],H=$/s,ee=H*(t-e)+e;for(let pe=0;pe<=r;pe++){const ae=pe/r,ye=ae*l+o,Te=Math.sin(ye),J=Math.cos(ye);G.x=ee*Te,G.y=-H*i+E,G.z=ee*J,m.push(G.x,G.y,G.z),N.set(Te,M,J).normalize(),v.push(N.x,N.y,N.z),y.push(ae,1-H),V.push(x++)}T.push(V)}for(let $=0;$<r;$++)for(let V=0;V<s;V++){const H=T[V][$],ee=T[V+1][$],pe=T[V+1][$+1],ae=T[V][$+1];(e>0||V!==0)&&(d.push(H,ee,ae),k+=3),(t>0||V!==s-1)&&(d.push(ee,pe,ae),k+=3)}u.addGroup(w,k,0),w+=k}function D(N){const G=x,k=new Lt,M=new me;let $=0;const V=N===!0?e:t,H=N===!0?1:-1;for(let pe=1;pe<=r;pe++)m.push(0,E*H,0),v.push(0,H,0),y.push(.5,.5),x++;const ee=x;for(let pe=0;pe<=r;pe++){const ye=pe/r*l+o,Te=Math.cos(ye),J=Math.sin(ye);M.x=V*J,M.y=E*H,M.z=V*Te,m.push(M.x,M.y,M.z),v.push(0,H,0),k.x=Te*.5+.5,k.y=J*.5*H+.5,y.push(k.x,k.y),x++}for(let pe=0;pe<r;pe++){const ae=G+pe,ye=ee+pe;N===!0?d.push(ye,ye+1,ae):d.push(ye+1,ye,ae),$+=3}u.addGroup(w,$,N===!0?1:2),w+=$}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Y_(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class Z_ extends Y_{constructor(e=1,t=1,i=32,r=1,s=!1,a=0,o=Math.PI*2){super(0,e,t,i,r,s,a,o),this.type="ConeGeometry",this.parameters={radius:e,height:t,radialSegments:i,heightSegments:r,openEnded:s,thetaStart:a,thetaLength:o}}static fromJSON(e){return new Z_(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class Gp extends zi{constructor(e=[],t=[],i=1,r=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:t,radius:i,detail:r};const s=[],a=[];o(r),u(i),d(),this.setAttribute("position",new Nn(s,3)),this.setAttribute("normal",new Nn(s.slice(),3)),this.setAttribute("uv",new Nn(a,2)),r===0?this.computeVertexNormals():this.normalizeNormals();function o(P){const D=new me,N=new me,G=new me;for(let k=0;k<t.length;k+=3)y(t[k+0],D),y(t[k+1],N),y(t[k+2],G),l(D,N,G,P)}function l(P,D,N,G){const k=G+1,M=[];for(let $=0;$<=k;$++){M[$]=[];const V=P.clone().lerp(N,$/k),H=D.clone().lerp(N,$/k),ee=k-$;for(let pe=0;pe<=ee;pe++)pe===0&&$===k?M[$][pe]=V:M[$][pe]=V.clone().lerp(H,pe/ee)}for(let $=0;$<k;$++)for(let V=0;V<2*(k-$)-1;V++){const H=Math.floor(V/2);V%2===0?(v(M[$][H+1]),v(M[$+1][H]),v(M[$][H])):(v(M[$][H+1]),v(M[$+1][H+1]),v(M[$+1][H]))}}function u(P){const D=new me;for(let N=0;N<s.length;N+=3)D.x=s[N+0],D.y=s[N+1],D.z=s[N+2],D.normalize().multiplyScalar(P),s[N+0]=D.x,s[N+1]=D.y,s[N+2]=D.z}function d(){const P=new me;for(let D=0;D<s.length;D+=3){P.x=s[D+0],P.y=s[D+1],P.z=s[D+2];const N=E(P)/2/Math.PI+.5,G=w(P)/Math.PI+.5;a.push(N,1-G)}x(),m()}function m(){for(let P=0;P<a.length;P+=6){const D=a[P+0],N=a[P+2],G=a[P+4],k=Math.max(D,N,G),M=Math.min(D,N,G);k>.9&&M<.1&&(D<.2&&(a[P+0]+=1),N<.2&&(a[P+2]+=1),G<.2&&(a[P+4]+=1))}}function v(P){s.push(P.x,P.y,P.z)}function y(P,D){const N=P*3;D.x=e[N+0],D.y=e[N+1],D.z=e[N+2]}function x(){const P=new me,D=new me,N=new me,G=new me,k=new Lt,M=new Lt,$=new Lt;for(let V=0,H=0;V<s.length;V+=9,H+=6){P.set(s[V+0],s[V+1],s[V+2]),D.set(s[V+3],s[V+4],s[V+5]),N.set(s[V+6],s[V+7],s[V+8]),k.set(a[H+0],a[H+1]),M.set(a[H+2],a[H+3]),$.set(a[H+4],a[H+5]),G.copy(P).add(D).add(N).divideScalar(3);const ee=E(G);T(k,H+0,P,ee),T(M,H+2,D,ee),T($,H+4,N,ee)}}function T(P,D,N,G){G<0&&P.x===1&&(a[D]=P.x-1),N.x===0&&N.z===0&&(a[D]=G/2/Math.PI+.5)}function E(P){return Math.atan2(P.z,-P.x)}function w(P){return Math.atan2(-P.y,Math.sqrt(P.x*P.x+P.z*P.z))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Gp(e.vertices,e.indices,e.radius,e.details)}}class $w extends Gp{constructor(e=1,t=0){const i=(1+Math.sqrt(5))/2,r=1/i,s=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-r,-i,0,-r,i,0,r,-i,0,r,i,-r,-i,0,-r,i,0,r,-i,0,r,i,0,-i,0,-r,i,0,-r,-i,0,r,i,0,r],a=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(s,a,e,t),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new $w(e.radius,e.detail)}}const Zb=new me,Kb=new me,cM=new me,Qb=new fc;class Vz extends zi{constructor(e=null,t=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:t},e!==null){const r=Math.pow(10,4),s=Math.cos(ug*t),a=e.getIndex(),o=e.getAttribute("position"),l=a?a.count:o.count,u=[0,0,0],d=["a","b","c"],m=new Array(3),v={},y=[];for(let x=0;x<l;x+=3){a?(u[0]=a.getX(x),u[1]=a.getX(x+1),u[2]=a.getX(x+2)):(u[0]=x,u[1]=x+1,u[2]=x+2);const{a:T,b:E,c:w}=Qb;if(T.fromBufferAttribute(o,u[0]),E.fromBufferAttribute(o,u[1]),w.fromBufferAttribute(o,u[2]),Qb.getNormal(cM),m[0]=`${Math.round(T.x*r)},${Math.round(T.y*r)},${Math.round(T.z*r)}`,m[1]=`${Math.round(E.x*r)},${Math.round(E.y*r)},${Math.round(E.z*r)}`,m[2]=`${Math.round(w.x*r)},${Math.round(w.y*r)},${Math.round(w.z*r)}`,!(m[0]===m[1]||m[1]===m[2]||m[2]===m[0]))for(let P=0;P<3;P++){const D=(P+1)%3,N=m[P],G=m[D],k=Qb[d[P]],M=Qb[d[D]],$=`${N}_${G}`,V=`${G}_${N}`;V in v&&v[V]?(cM.dot(v[V].normal)<=s&&(y.push(k.x,k.y,k.z),y.push(M.x,M.y,M.z)),v[V]=null):$ in v||(v[$]={index0:u[P],index1:u[D],normal:cM.clone()})}}for(const x in v)if(v[x]){const{index0:T,index1:E}=v[x];Zb.fromBufferAttribute(o,T),Kb.fromBufferAttribute(o,E),y.push(Zb.x,Zb.y,Zb.z),y.push(Kb.x,Kb.y,Kb.z)}this.setAttribute("position",new Nn(y,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}class _f{constructor(){this.type="Curve",this.arcLengthDivisions=200,this.needsUpdate=!1,this.cacheArcLengths=null}getPoint(){console.warn("THREE.Curve: .getPoint() not implemented.")}getPointAt(e,t){const i=this.getUtoTmapping(e);return this.getPoint(i,t)}getPoints(e=5){const t=[];for(let i=0;i<=e;i++)t.push(this.getPoint(i/e));return t}getSpacedPoints(e=5){const t=[];for(let i=0;i<=e;i++)t.push(this.getPointAt(i/e));return t}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const t=[];let i,r=this.getPoint(0),s=0;t.push(0);for(let a=1;a<=e;a++)i=this.getPoint(a/e),s+=i.distanceTo(r),t.push(s),r=i;return this.cacheArcLengths=t,t}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,t=null){const i=this.getLengths();let r=0;const s=i.length;let a;t?a=t:a=e*i[s-1];let o=0,l=s-1,u;for(;o<=l;)if(r=Math.floor(o+(l-o)/2),u=i[r]-a,u<0)o=r+1;else if(u>0)l=r-1;else{l=r;break}if(r=l,i[r]===a)return r/(s-1);const d=i[r],v=i[r+1]-d,y=(a-d)/v;return(r+y)/(s-1)}getTangent(e,t){let r=e-1e-4,s=e+1e-4;r<0&&(r=0),s>1&&(s=1);const a=this.getPoint(r),o=this.getPoint(s),l=t||(a.isVector2?new Lt:new me);return l.copy(o).sub(a).normalize(),l}getTangentAt(e,t){const i=this.getUtoTmapping(e);return this.getTangent(i,t)}computeFrenetFrames(e,t=!1){const i=new me,r=[],s=[],a=[],o=new me,l=new mi;for(let y=0;y<=e;y++){const x=y/e;r[y]=this.getTangentAt(x,new me)}s[0]=new me,a[0]=new me;let u=Number.MAX_VALUE;const d=Math.abs(r[0].x),m=Math.abs(r[0].y),v=Math.abs(r[0].z);d<=u&&(u=d,i.set(1,0,0)),m<=u&&(u=m,i.set(0,1,0)),v<=u&&i.set(0,0,1),o.crossVectors(r[0],i).normalize(),s[0].crossVectors(r[0],o),a[0].crossVectors(r[0],s[0]);for(let y=1;y<=e;y++){if(s[y]=s[y-1].clone(),a[y]=a[y-1].clone(),o.crossVectors(r[y-1],r[y]),o.length()>Number.EPSILON){o.normalize();const x=Math.acos(Ti(r[y-1].dot(r[y]),-1,1));s[y].applyMatrix4(l.makeRotationAxis(o,x))}a[y].crossVectors(r[y],s[y])}if(t===!0){let y=Math.acos(Ti(s[0].dot(s[e]),-1,1));y/=e,r[0].dot(o.crossVectors(s[0],s[e]))>0&&(y=-y);for(let x=1;x<=e;x++)s[x].applyMatrix4(l.makeRotationAxis(r[x],y*x)),a[x].crossVectors(r[x],s[x])}return{tangents:r,normals:s,binormals:a}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.7,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class qw extends _f{constructor(e=0,t=0,i=1,r=1,s=0,a=Math.PI*2,o=!1,l=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=t,this.xRadius=i,this.yRadius=r,this.aStartAngle=s,this.aEndAngle=a,this.aClockwise=o,this.aRotation=l}getPoint(e,t=new Lt){const i=t,r=Math.PI*2;let s=this.aEndAngle-this.aStartAngle;const a=Math.abs(s)<Number.EPSILON;for(;s<0;)s+=r;for(;s>r;)s-=r;s<Number.EPSILON&&(a?s=0:s=r),this.aClockwise===!0&&!a&&(s===r?s=-r:s=s-r);const o=this.aStartAngle+e*s;let l=this.aX+this.xRadius*Math.cos(o),u=this.aY+this.yRadius*Math.sin(o);if(this.aRotation!==0){const d=Math.cos(this.aRotation),m=Math.sin(this.aRotation),v=l-this.aX,y=u-this.aY;l=v*d-y*m+this.aX,u=v*m+y*d+this.aY}return i.set(l,u)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class Gz extends qw{constructor(e,t,i,r,s,a){super(e,t,i,i,r,s,a),this.isArcCurve=!0,this.type="ArcCurve"}}function OC(){let n=0,e=0,t=0,i=0;function r(s,a,o,l){n=s,e=o,t=-3*s+3*a-2*o-l,i=2*s-2*a+o+l}return{initCatmullRom:function(s,a,o,l,u){r(a,o,u*(o-s),u*(l-a))},initNonuniformCatmullRom:function(s,a,o,l,u,d,m){let v=(a-s)/u-(o-s)/(u+d)+(o-a)/d,y=(o-a)/d-(l-a)/(d+m)+(l-o)/m;v*=d,y*=d,r(a,o,v,y)},calc:function(s){const a=s*s,o=a*s;return n+e*s+t*a+i*o}}}const Jb=new me,uM=new OC,fM=new OC,hM=new OC;class jz extends _f{constructor(e=[],t=!1,i="centripetal",r=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=t,this.curveType=i,this.tension=r}getPoint(e,t=new me){const i=t,r=this.points,s=r.length,a=(s-(this.closed?0:1))*e;let o=Math.floor(a),l=a-o;this.closed?o+=o>0?0:(Math.floor(Math.abs(o)/s)+1)*s:l===0&&o===s-1&&(o=s-2,l=1);let u,d;this.closed||o>0?u=r[(o-1)%s]:(Jb.subVectors(r[0],r[1]).add(r[0]),u=Jb);const m=r[o%s],v=r[(o+1)%s];if(this.closed||o+2<s?d=r[(o+2)%s]:(Jb.subVectors(r[s-1],r[s-2]).add(r[s-1]),d=Jb),this.curveType==="centripetal"||this.curveType==="chordal"){const y=this.curveType==="chordal"?.5:.25;let x=Math.pow(u.distanceToSquared(m),y),T=Math.pow(m.distanceToSquared(v),y),E=Math.pow(v.distanceToSquared(d),y);T<1e-4&&(T=1),x<1e-4&&(x=T),E<1e-4&&(E=T),uM.initNonuniformCatmullRom(u.x,m.x,v.x,d.x,x,T,E),fM.initNonuniformCatmullRom(u.y,m.y,v.y,d.y,x,T,E),hM.initNonuniformCatmullRom(u.z,m.z,v.z,d.z,x,T,E)}else this.curveType==="catmullrom"&&(uM.initCatmullRom(u.x,m.x,v.x,d.x,this.tension),fM.initCatmullRom(u.y,m.y,v.y,d.y,this.tension),hM.initCatmullRom(u.z,m.z,v.z,d.z,this.tension));return i.set(uM.calc(l),fM.calc(l),hM.calc(l)),i}copy(e){super.copy(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const r=e.points[t];this.points.push(r.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,i=this.points.length;t<i;t++){const r=this.points[t];e.points.push(r.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const r=e.points[t];this.points.push(new me().fromArray(r))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function zD(n,e,t,i,r){const s=(i-e)*.5,a=(r-t)*.5,o=n*n,l=n*o;return(2*t-2*i+s+a)*l+(-3*t+3*i-2*s-a)*o+s*n+t}function Jne(n,e){const t=1-n;return t*t*e}function eie(n,e){return 2*(1-n)*n*e}function tie(n,e){return n*n*e}function Q0(n,e,t,i){return Jne(n,e)+eie(n,t)+tie(n,i)}function nie(n,e){const t=1-n;return t*t*t*e}function iie(n,e){const t=1-n;return 3*t*t*n*e}function rie(n,e){return 3*(1-n)*n*n*e}function sie(n,e){return n*n*n*e}function J0(n,e,t,i,r){return nie(n,e)+iie(n,t)+rie(n,i)+sie(n,r)}class PC extends _f{constructor(e=new Lt,t=new Lt,i=new Lt,r=new Lt){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=t,this.v2=i,this.v3=r}getPoint(e,t=new Lt){const i=t,r=this.v0,s=this.v1,a=this.v2,o=this.v3;return i.set(J0(e,r.x,s.x,a.x,o.x),J0(e,r.y,s.y,a.y,o.y)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class $z extends _f{constructor(e=new me,t=new me,i=new me,r=new me){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=t,this.v2=i,this.v3=r}getPoint(e,t=new me){const i=t,r=this.v0,s=this.v1,a=this.v2,o=this.v3;return i.set(J0(e,r.x,s.x,a.x,o.x),J0(e,r.y,s.y,a.y,o.y),J0(e,r.z,s.z,a.z,o.z)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class DC extends _f{constructor(e=new Lt,t=new Lt){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=t}getPoint(e,t=new Lt){const i=t;return e===1?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(e).add(this.v1)),i}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new Lt){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class qz extends _f{constructor(e=new me,t=new me){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=t}getPoint(e,t=new me){const i=t;return e===1?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(e).add(this.v1)),i}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new me){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class LC extends _f{constructor(e=new Lt,t=new Lt,i=new Lt){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=t,this.v2=i}getPoint(e,t=new Lt){const i=t,r=this.v0,s=this.v1,a=this.v2;return i.set(Q0(e,r.x,s.x,a.x),Q0(e,r.y,s.y,a.y)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class NC extends _f{constructor(e=new me,t=new me,i=new me){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=t,this.v2=i}getPoint(e,t=new me){const i=t,r=this.v0,s=this.v1,a=this.v2;return i.set(Q0(e,r.x,s.x,a.x),Q0(e,r.y,s.y,a.y),Q0(e,r.z,s.z,a.z)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class IC extends _f{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,t=new Lt){const i=t,r=this.points,s=(r.length-1)*e,a=Math.floor(s),o=s-a,l=r[a===0?a:a-1],u=r[a],d=r[a>r.length-2?r.length-1:a+1],m=r[a>r.length-3?r.length-1:a+2];return i.set(zD(o,l.x,u.x,d.x,m.x),zD(o,l.y,u.y,d.y,m.y)),i}copy(e){super.copy(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const r=e.points[t];this.points.push(r.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,i=this.points.length;t<i;t++){const r=this.points[t];e.points.push(r.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const r=e.points[t];this.points.push(new Lt().fromArray(r))}return this}}var HS=Object.freeze({__proto__:null,ArcCurve:Gz,CatmullRomCurve3:jz,CubicBezierCurve:PC,CubicBezierCurve3:$z,EllipseCurve:qw,LineCurve:DC,LineCurve3:qz,QuadraticBezierCurve:LC,QuadraticBezierCurve3:NC,SplineCurve:IC});class Wz extends _f{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);if(!e.equals(t)){const i=e.isVector2===!0?"LineCurve":"LineCurve3";this.curves.push(new HS[i](t,e))}return this}getPoint(e,t){const i=e*this.getLength(),r=this.getCurveLengths();let s=0;for(;s<r.length;){if(r[s]>=i){const a=r[s]-i,o=this.curves[s],l=o.getLength(),u=l===0?0:1-a/l;return o.getPointAt(u,t)}s++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let t=0;for(let i=0,r=this.curves.length;i<r;i++)t+=this.curves[i].getLength(),e.push(t);return this.cacheLengths=e,e}getSpacedPoints(e=40){const t=[];for(let i=0;i<=e;i++)t.push(this.getPoint(i/e));return this.autoClose&&t.push(t[0]),t}getPoints(e=12){const t=[];let i;for(let r=0,s=this.curves;r<s.length;r++){const a=s[r],o=a.isEllipseCurve?e*2:a.isLineCurve||a.isLineCurve3?1:a.isSplineCurve?e*a.points.length:e,l=a.getPoints(o);for(let u=0;u<l.length;u++){const d=l[u];i&&i.equals(d)||(t.push(d),i=d)}}return this.autoClose&&t.length>1&&!t[t.length-1].equals(t[0])&&t.push(t[0]),t}copy(e){super.copy(e),this.curves=[];for(let t=0,i=e.curves.length;t<i;t++){const r=e.curves[t];this.curves.push(r.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let t=0,i=this.curves.length;t<i;t++){const r=this.curves[t];e.curves.push(r.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let t=0,i=e.curves.length;t<i;t++){const r=e.curves[t];this.curves.push(new HS[r.type]().fromJSON(r))}return this}}class FS extends Wz{constructor(e){super(),this.type="Path",this.currentPoint=new Lt,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let t=1,i=e.length;t<i;t++)this.lineTo(e[t].x,e[t].y);return this}moveTo(e,t){return this.currentPoint.set(e,t),this}lineTo(e,t){const i=new DC(this.currentPoint.clone(),new Lt(e,t));return this.curves.push(i),this.currentPoint.set(e,t),this}quadraticCurveTo(e,t,i,r){const s=new LC(this.currentPoint.clone(),new Lt(e,t),new Lt(i,r));return this.curves.push(s),this.currentPoint.set(i,r),this}bezierCurveTo(e,t,i,r,s,a){const o=new PC(this.currentPoint.clone(),new Lt(e,t),new Lt(i,r),new Lt(s,a));return this.curves.push(o),this.currentPoint.set(s,a),this}splineThru(e){const t=[this.currentPoint.clone()].concat(e),i=new IC(t);return this.curves.push(i),this.currentPoint.copy(e[e.length-1]),this}arc(e,t,i,r,s,a){const o=this.currentPoint.x,l=this.currentPoint.y;return this.absarc(e+o,t+l,i,r,s,a),this}absarc(e,t,i,r,s,a){return this.absellipse(e,t,i,i,r,s,a),this}ellipse(e,t,i,r,s,a,o,l){const u=this.currentPoint.x,d=this.currentPoint.y;return this.absellipse(e+u,t+d,i,r,s,a,o,l),this}absellipse(e,t,i,r,s,a,o,l){const u=new qw(e,t,i,r,s,a,o,l);if(this.curves.length>0){const m=u.getPoint(0);m.equals(this.currentPoint)||this.lineTo(m.x,m.y)}this.curves.push(u);const d=u.getPoint(1);return this.currentPoint.copy(d),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class fg extends FS{constructor(e){super(e),this.uuid=kc(),this.type="Shape",this.holes=[]}getPointsHoles(e){const t=[];for(let i=0,r=this.holes.length;i<r;i++)t[i]=this.holes[i].getPoints(e);return t}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let t=0,i=e.holes.length;t<i;t++){const r=e.holes[t];this.holes.push(r.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let t=0,i=this.holes.length;t<i;t++){const r=this.holes[t];e.holes.push(r.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let t=0,i=e.holes.length;t<i;t++){const r=e.holes[t];this.holes.push(new FS().fromJSON(r))}return this}}function aie(n,e,t=2){const i=e&&e.length,r=i?e[0]*t:n.length;let s=Xz(n,0,r,t,!0);const a=[];if(!s||s.next===s.prev)return a;let o,l,u;if(i&&(s=fie(n,e,s,t)),n.length>80*t){o=1/0,l=1/0;let d=-1/0,m=-1/0;for(let v=t;v<r;v+=t){const y=n[v],x=n[v+1];y<o&&(o=y),x<l&&(l=x),y>d&&(d=y),x>m&&(m=x)}u=Math.max(d-o,m-l),u=u!==0?32767/u:0}return S_(s,a,t,o,l,u,0),a}function Xz(n,e,t,i,r){let s;if(r===Sie(n,e,t,i)>0)for(let a=e;a<t;a+=i)s=UD(a/i|0,n[a],n[a+1],s);else for(let a=t-i;a>=e;a-=i)s=UD(a/i|0,n[a],n[a+1],s);return s&&_y(s,s.next)&&(E_(s),s=s.next),s}function yg(n,e){if(!n)return n;e||(e=n);let t=n,i;do if(i=!1,!t.steiner&&(_y(t,t.next)||Vs(t.prev,t,t.next)===0)){if(E_(t),t=e=t.prev,t===t.next)break;i=!0}else t=t.next;while(i||t!==e);return e}function S_(n,e,t,i,r,s,a){if(!n)return;!a&&s&&gie(n,i,r,s);let o=n;for(;n.prev!==n.next;){const l=n.prev,u=n.next;if(s?lie(n,i,r,s):oie(n)){e.push(l.i,n.i,u.i),E_(n),n=u.next,o=u.next;continue}if(n=u,n===o){a?a===1?(n=cie(yg(n),e),S_(n,e,t,i,r,s,2)):a===2&&uie(n,e,t,i,r,s):S_(yg(n),e,t,i,r,s,1);break}}}function oie(n){const e=n.prev,t=n,i=n.next;if(Vs(e,t,i)>=0)return!1;const r=e.x,s=t.x,a=i.x,o=e.y,l=t.y,u=i.y,d=Math.min(r,s,a),m=Math.min(o,l,u),v=Math.max(r,s,a),y=Math.max(o,l,u);let x=i.next;for(;x!==e;){if(x.x>=d&&x.x<=v&&x.y>=m&&x.y<=y&&B0(r,o,s,l,a,u,x.x,x.y)&&Vs(x.prev,x,x.next)>=0)return!1;x=x.next}return!0}function lie(n,e,t,i){const r=n.prev,s=n,a=n.next;if(Vs(r,s,a)>=0)return!1;const o=r.x,l=s.x,u=a.x,d=r.y,m=s.y,v=a.y,y=Math.min(o,l,u),x=Math.min(d,m,v),T=Math.max(o,l,u),E=Math.max(d,m,v),w=tA(y,x,e,t,i),P=tA(T,E,e,t,i);let D=n.prevZ,N=n.nextZ;for(;D&&D.z>=w&&N&&N.z<=P;){if(D.x>=y&&D.x<=T&&D.y>=x&&D.y<=E&&D!==r&&D!==a&&B0(o,d,l,m,u,v,D.x,D.y)&&Vs(D.prev,D,D.next)>=0||(D=D.prevZ,N.x>=y&&N.x<=T&&N.y>=x&&N.y<=E&&N!==r&&N!==a&&B0(o,d,l,m,u,v,N.x,N.y)&&Vs(N.prev,N,N.next)>=0))return!1;N=N.nextZ}for(;D&&D.z>=w;){if(D.x>=y&&D.x<=T&&D.y>=x&&D.y<=E&&D!==r&&D!==a&&B0(o,d,l,m,u,v,D.x,D.y)&&Vs(D.prev,D,D.next)>=0)return!1;D=D.prevZ}for(;N&&N.z<=P;){if(N.x>=y&&N.x<=T&&N.y>=x&&N.y<=E&&N!==r&&N!==a&&B0(o,d,l,m,u,v,N.x,N.y)&&Vs(N.prev,N,N.next)>=0)return!1;N=N.nextZ}return!0}function cie(n,e){let t=n;do{const i=t.prev,r=t.next.next;!_y(i,r)&&Zz(i,t,t.next,r)&&w_(i,r)&&w_(r,i)&&(e.push(i.i,t.i,r.i),E_(t),E_(t.next),t=n=r),t=t.next}while(t!==n);return yg(t)}function uie(n,e,t,i,r,s){let a=n;do{let o=a.next.next;for(;o!==a.prev;){if(a.i!==o.i&&_ie(a,o)){let l=Kz(a,o);a=yg(a,a.next),l=yg(l,l.next),S_(a,e,t,i,r,s,0),S_(l,e,t,i,r,s,0);return}o=o.next}a=a.next}while(a!==n)}function fie(n,e,t,i){const r=[];for(let s=0,a=e.length;s<a;s++){const o=e[s]*i,l=s<a-1?e[s+1]*i:n.length,u=Xz(n,o,l,i,!1);u===u.next&&(u.steiner=!0),r.push(yie(u))}r.sort(hie);for(let s=0;s<r.length;s++)t=die(r[s],t);return t}function hie(n,e){let t=n.x-e.x;if(t===0&&(t=n.y-e.y,t===0)){const i=(n.next.y-n.y)/(n.next.x-n.x),r=(e.next.y-e.y)/(e.next.x-e.x);t=i-r}return t}function die(n,e){const t=pie(n,e);if(!t)return e;const i=Kz(t,n);return yg(i,i.next),yg(t,t.next)}function pie(n,e){let t=e;const i=n.x,r=n.y;let s=-1/0,a;if(_y(n,t))return t;do{if(_y(n,t.next))return t.next;if(r<=t.y&&r>=t.next.y&&t.next.y!==t.y){const m=t.x+(r-t.y)*(t.next.x-t.x)/(t.next.y-t.y);if(m<=i&&m>s&&(s=m,a=t.x<t.next.x?t:t.next,m===i))return a}t=t.next}while(t!==e);if(!a)return null;const o=a,l=a.x,u=a.y;let d=1/0;t=a;do{if(i>=t.x&&t.x>=l&&i!==t.x&&Yz(r<u?i:s,r,l,u,r<u?s:i,r,t.x,t.y)){const m=Math.abs(r-t.y)/(i-t.x);w_(t,n)&&(m<d||m===d&&(t.x>a.x||t.x===a.x&&mie(a,t)))&&(a=t,d=m)}t=t.next}while(t!==o);return a}function mie(n,e){return Vs(n.prev,n,e.prev)<0&&Vs(e.next,n,n.next)<0}function gie(n,e,t,i){let r=n;do r.z===0&&(r.z=tA(r.x,r.y,e,t,i)),r.prevZ=r.prev,r.nextZ=r.next,r=r.next;while(r!==n);r.prevZ.nextZ=null,r.prevZ=null,vie(r)}function vie(n){let e,t=1;do{let i=n,r;n=null;let s=null;for(e=0;i;){e++;let a=i,o=0;for(let u=0;u<t&&(o++,a=a.nextZ,!!a);u++);let l=t;for(;o>0||l>0&&a;)o!==0&&(l===0||!a||i.z<=a.z)?(r=i,i=i.nextZ,o--):(r=a,a=a.nextZ,l--),s?s.nextZ=r:n=r,r.prevZ=s,s=r;i=a}s.nextZ=null,t*=2}while(e>1);return n}function tA(n,e,t,i,r){return n=(n-t)*r|0,e=(e-i)*r|0,n=(n|n<<8)&16711935,n=(n|n<<4)&252645135,n=(n|n<<2)&858993459,n=(n|n<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,n|e<<1}function yie(n){let e=n,t=n;do(e.x<t.x||e.x===t.x&&e.y<t.y)&&(t=e),e=e.next;while(e!==n);return t}function Yz(n,e,t,i,r,s,a,o){return(r-a)*(e-o)>=(n-a)*(s-o)&&(n-a)*(i-o)>=(t-a)*(e-o)&&(t-a)*(s-o)>=(r-a)*(i-o)}function B0(n,e,t,i,r,s,a,o){return!(n===a&&e===o)&&Yz(n,e,t,i,r,s,a,o)}function _ie(n,e){return n.next.i!==e.i&&n.prev.i!==e.i&&!bie(n,e)&&(w_(n,e)&&w_(e,n)&&xie(n,e)&&(Vs(n.prev,n,e.prev)||Vs(n,e.prev,e))||_y(n,e)&&Vs(n.prev,n,n.next)>0&&Vs(e.prev,e,e.next)>0)}function Vs(n,e,t){return(e.y-n.y)*(t.x-e.x)-(e.x-n.x)*(t.y-e.y)}function _y(n,e){return n.x===e.x&&n.y===e.y}function Zz(n,e,t,i){const r=tx(Vs(n,e,t)),s=tx(Vs(n,e,i)),a=tx(Vs(t,i,n)),o=tx(Vs(t,i,e));return!!(r!==s&&a!==o||r===0&&ex(n,t,e)||s===0&&ex(n,i,e)||a===0&&ex(t,n,i)||o===0&&ex(t,e,i))}function ex(n,e,t){return e.x<=Math.max(n.x,t.x)&&e.x>=Math.min(n.x,t.x)&&e.y<=Math.max(n.y,t.y)&&e.y>=Math.min(n.y,t.y)}function tx(n){return n>0?1:n<0?-1:0}function bie(n,e){let t=n;do{if(t.i!==n.i&&t.next.i!==n.i&&t.i!==e.i&&t.next.i!==e.i&&Zz(t,t.next,n,e))return!0;t=t.next}while(t!==n);return!1}function w_(n,e){return Vs(n.prev,n,n.next)<0?Vs(n,e,n.next)>=0&&Vs(n,n.prev,e)>=0:Vs(n,e,n.prev)<0||Vs(n,n.next,e)<0}function xie(n,e){let t=n,i=!1;const r=(n.x+e.x)/2,s=(n.y+e.y)/2;do t.y>s!=t.next.y>s&&t.next.y!==t.y&&r<(t.next.x-t.x)*(s-t.y)/(t.next.y-t.y)+t.x&&(i=!i),t=t.next;while(t!==n);return i}function Kz(n,e){const t=nA(n.i,n.x,n.y),i=nA(e.i,e.x,e.y),r=n.next,s=e.prev;return n.next=e,e.prev=n,t.next=r,r.prev=t,i.next=t,t.prev=i,s.next=i,i.prev=s,i}function UD(n,e,t,i){const r=nA(n,e,t);return i?(r.next=i.next,r.prev=i,i.next.prev=r,i.next=r):(r.prev=r,r.next=r),r}function E_(n){n.next.prev=n.prev,n.prev.next=n.next,n.prevZ&&(n.prevZ.nextZ=n.nextZ),n.nextZ&&(n.nextZ.prevZ=n.prevZ)}function nA(n,e,t){return{i:n,x:e,y:t,prev:null,next:null,z:0,prevZ:null,nextZ:null,steiner:!1}}function Sie(n,e,t,i){let r=0;for(let s=e,a=t-i;s<t;s+=i)r+=(n[a]-n[s])*(n[s+1]+n[a+1]),a=s;return r}class wie{static triangulate(e,t,i=2){return aie(e,t,i)}}class cf{static area(e){const t=e.length;let i=0;for(let r=t-1,s=0;s<t;r=s++)i+=e[r].x*e[s].y-e[s].x*e[r].y;return i*.5}static isClockWise(e){return cf.area(e)<0}static triangulateShape(e,t){const i=[],r=[],s=[];BD(e),kD(i,e);let a=e.length;t.forEach(BD);for(let l=0;l<t.length;l++)r.push(a),a+=t[l].length,kD(i,t[l]);const o=wie.triangulate(i,r);for(let l=0;l<o.length;l+=3)s.push(o.slice(l,l+3));return s}}function BD(n){const e=n.length;e>2&&n[e-1].equals(n[0])&&n.pop()}function kD(n,e){for(let t=0;t<e.length;t++)n.push(e[t].x),n.push(e[t].y)}class Ww extends zi{constructor(e=new fg([new Lt(.5,.5),new Lt(-.5,.5),new Lt(-.5,-.5),new Lt(.5,-.5)]),t={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:t},e=Array.isArray(e)?e:[e];const i=this,r=[],s=[];for(let o=0,l=e.length;o<l;o++){const u=e[o];a(u)}this.setAttribute("position",new Nn(r,3)),this.setAttribute("uv",new Nn(s,2)),this.computeVertexNormals();function a(o){const l=[],u=t.curveSegments!==void 0?t.curveSegments:12,d=t.steps!==void 0?t.steps:1,m=t.depth!==void 0?t.depth:1;let v=t.bevelEnabled!==void 0?t.bevelEnabled:!0,y=t.bevelThickness!==void 0?t.bevelThickness:.2,x=t.bevelSize!==void 0?t.bevelSize:y-.1,T=t.bevelOffset!==void 0?t.bevelOffset:0,E=t.bevelSegments!==void 0?t.bevelSegments:3;const w=t.extrudePath,P=t.UVGenerator!==void 0?t.UVGenerator:Eie;let D,N=!1,G,k,M,$;w&&(D=w.getSpacedPoints(d),N=!0,v=!1,G=w.computeFrenetFrames(d,!1),k=new me,M=new me,$=new me),v||(E=0,y=0,x=0,T=0);const V=o.extractPoints(u);let H=V.shape;const ee=V.holes;if(!cf.isClockWise(H)){H=H.reverse();for(let fe=0,Et=ee.length;fe<Et;fe++){const Mt=ee[fe];cf.isClockWise(Mt)&&(ee[fe]=Mt.reverse())}}function ae(fe){const Mt=10000000000000001e-36;let At=fe[0];for(let mt=1;mt<=fe.length;mt++){const Kt=mt%fe.length,Ot=fe[Kt],Qt=Ot.x-At.x,bn=Ot.y-At.y,ie=Qt*Qt+bn*bn,Z=Math.max(Math.abs(Ot.x),Math.abs(Ot.y),Math.abs(At.x),Math.abs(At.y)),be=Mt*Z*Z;if(ie<=be){fe.splice(Kt,1),mt--;continue}At=Ot}}ae(H),ee.forEach(ae);const ye=ee.length,Te=H;for(let fe=0;fe<ye;fe++){const Et=ee[fe];H=H.concat(Et)}function J(fe,Et,Mt){return Et||console.error("THREE.ExtrudeGeometry: vec does not exist"),fe.clone().addScaledVector(Et,Mt)}const de=H.length;function he(fe,Et,Mt){let At,mt,Kt;const Ot=fe.x-Et.x,Qt=fe.y-Et.y,bn=Mt.x-fe.x,ie=Mt.y-fe.y,Z=Ot*Ot+Qt*Qt,be=Ot*ie-Qt*bn;if(Math.abs(be)>Number.EPSILON){const Ge=Math.sqrt(Z),ht=Math.sqrt(bn*bn+ie*ie),rt=Et.x-Qt/Ge,qt=Et.y+Ot/Ge,jt=Mt.x-ie/ht,tn=Mt.y+bn/ht,nn=((jt-rt)*ie-(tn-qt)*bn)/(Ot*ie-Qt*bn);At=rt+Ot*nn-fe.x,mt=qt+Qt*nn-fe.y;const dt=At*At+mt*mt;if(dt<=2)return new Lt(At,mt);Kt=Math.sqrt(dt/2)}else{let Ge=!1;Ot>Number.EPSILON?bn>Number.EPSILON&&(Ge=!0):Ot<-Number.EPSILON?bn<-Number.EPSILON&&(Ge=!0):Math.sign(Qt)===Math.sign(ie)&&(Ge=!0),Ge?(At=-Qt,mt=Ot,Kt=Math.sqrt(Z)):(At=Ot,mt=Qt,Kt=Math.sqrt(Z/2))}return new Lt(At/Kt,mt/Kt)}const Le=[];for(let fe=0,Et=Te.length,Mt=Et-1,At=fe+1;fe<Et;fe++,Mt++,At++)Mt===Et&&(Mt=0),At===Et&&(At=0),Le[fe]=he(Te[fe],Te[Mt],Te[At]);const ne=[];let re,ze=Le.concat();for(let fe=0,Et=ye;fe<Et;fe++){const Mt=ee[fe];re=[];for(let At=0,mt=Mt.length,Kt=mt-1,Ot=At+1;At<mt;At++,Kt++,Ot++)Kt===mt&&(Kt=0),Ot===mt&&(Ot=0),re[At]=he(Mt[At],Mt[Kt],Mt[Ot]);ne.push(re),ze=ze.concat(re)}let Ve;if(E===0)Ve=cf.triangulateShape(Te,ee);else{const fe=[],Et=[];for(let Mt=0;Mt<E;Mt++){const At=Mt/E,mt=y*Math.cos(At*Math.PI/2),Kt=x*Math.sin(At*Math.PI/2)+T;for(let Ot=0,Qt=Te.length;Ot<Qt;Ot++){const bn=J(Te[Ot],Le[Ot],Kt);vt(bn.x,bn.y,-mt),At===0&&fe.push(bn)}for(let Ot=0,Qt=ye;Ot<Qt;Ot++){const bn=ee[Ot];re=ne[Ot];const ie=[];for(let Z=0,be=bn.length;Z<be;Z++){const Ge=J(bn[Z],re[Z],Kt);vt(Ge.x,Ge.y,-mt),At===0&&ie.push(Ge)}At===0&&Et.push(ie)}}Ve=cf.triangulateShape(fe,Et)}const xe=Ve.length,$e=x+T;for(let fe=0;fe<de;fe++){const Et=v?J(H[fe],ze[fe],$e):H[fe];N?(M.copy(G.normals[0]).multiplyScalar(Et.x),k.copy(G.binormals[0]).multiplyScalar(Et.y),$.copy(D[0]).add(M).add(k),vt($.x,$.y,$.z)):vt(Et.x,Et.y,0)}for(let fe=1;fe<=d;fe++)for(let Et=0;Et<de;Et++){const Mt=v?J(H[Et],ze[Et],$e):H[Et];N?(M.copy(G.normals[fe]).multiplyScalar(Mt.x),k.copy(G.binormals[fe]).multiplyScalar(Mt.y),$.copy(D[fe]).add(M).add(k),vt($.x,$.y,$.z)):vt(Mt.x,Mt.y,m/d*fe)}for(let fe=E-1;fe>=0;fe--){const Et=fe/E,Mt=y*Math.cos(Et*Math.PI/2),At=x*Math.sin(Et*Math.PI/2)+T;for(let mt=0,Kt=Te.length;mt<Kt;mt++){const Ot=J(Te[mt],Le[mt],At);vt(Ot.x,Ot.y,m+Mt)}for(let mt=0,Kt=ee.length;mt<Kt;mt++){const Ot=ee[mt];re=ne[mt];for(let Qt=0,bn=Ot.length;Qt<bn;Qt++){const ie=J(Ot[Qt],re[Qt],At);N?vt(ie.x,ie.y+D[d-1].y,D[d-1].x+Mt):vt(ie.x,ie.y,m+Mt)}}}Ze(),gt();function Ze(){const fe=r.length/3;if(v){let Et=0,Mt=de*Et;for(let At=0;At<xe;At++){const mt=Ve[At];Vt(mt[2]+Mt,mt[1]+Mt,mt[0]+Mt)}Et=d+E*2,Mt=de*Et;for(let At=0;At<xe;At++){const mt=Ve[At];Vt(mt[0]+Mt,mt[1]+Mt,mt[2]+Mt)}}else{for(let Et=0;Et<xe;Et++){const Mt=Ve[Et];Vt(Mt[2],Mt[1],Mt[0])}for(let Et=0;Et<xe;Et++){const Mt=Ve[Et];Vt(Mt[0]+de*d,Mt[1]+de*d,Mt[2]+de*d)}}i.addGroup(fe,r.length/3-fe,0)}function gt(){const fe=r.length/3;let Et=0;yt(Te,Et),Et+=Te.length;for(let Mt=0,At=ee.length;Mt<At;Mt++){const mt=ee[Mt];yt(mt,Et),Et+=mt.length}i.addGroup(fe,r.length/3-fe,1)}function yt(fe,Et){let Mt=fe.length;for(;--Mt>=0;){const At=Mt;let mt=Mt-1;mt<0&&(mt=fe.length-1);for(let Kt=0,Ot=d+E*2;Kt<Ot;Kt++){const Qt=de*Kt,bn=de*(Kt+1),ie=Et+At+Qt,Z=Et+mt+Qt,be=Et+mt+bn,Ge=Et+At+bn;zn(ie,Z,be,Ge)}}}function vt(fe,Et,Mt){l.push(fe),l.push(Et),l.push(Mt)}function Vt(fe,Et,Mt){An(fe),An(Et),An(Mt);const At=r.length/3,mt=P.generateTopUV(i,r,At-3,At-2,At-1);dn(mt[0]),dn(mt[1]),dn(mt[2])}function zn(fe,Et,Mt,At){An(fe),An(Et),An(At),An(Et),An(Mt),An(At);const mt=r.length/3,Kt=P.generateSideWallUV(i,r,mt-6,mt-3,mt-2,mt-1);dn(Kt[0]),dn(Kt[1]),dn(Kt[3]),dn(Kt[1]),dn(Kt[2]),dn(Kt[3])}function An(fe){r.push(l[fe*3+0]),r.push(l[fe*3+1]),r.push(l[fe*3+2])}function dn(fe){s.push(fe.x),s.push(fe.y)}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),t=this.parameters.shapes,i=this.parameters.options;return Tie(t,i,e)}static fromJSON(e,t){const i=[];for(let s=0,a=e.shapes.length;s<a;s++){const o=t[e.shapes[s]];i.push(o)}const r=e.options.extrudePath;return r!==void 0&&(e.options.extrudePath=new HS[r.type]().fromJSON(r)),new Ww(i,e.options)}}const Eie={generateTopUV:function(n,e,t,i,r){const s=e[t*3],a=e[t*3+1],o=e[i*3],l=e[i*3+1],u=e[r*3],d=e[r*3+1];return[new Lt(s,a),new Lt(o,l),new Lt(u,d)]},generateSideWallUV:function(n,e,t,i,r,s){const a=e[t*3],o=e[t*3+1],l=e[t*3+2],u=e[i*3],d=e[i*3+1],m=e[i*3+2],v=e[r*3],y=e[r*3+1],x=e[r*3+2],T=e[s*3],E=e[s*3+1],w=e[s*3+2];return Math.abs(o-d)<Math.abs(a-u)?[new Lt(a,1-l),new Lt(u,1-m),new Lt(v,1-x),new Lt(T,1-w)]:[new Lt(o,1-l),new Lt(d,1-m),new Lt(y,1-x),new Lt(E,1-w)]}};function Tie(n,e,t){if(t.shapes=[],Array.isArray(n))for(let i=0,r=n.length;i<r;i++){const s=n[i];t.shapes.push(s.uuid)}else t.shapes.push(n.uuid);return t.options=Object.assign({},e),e.extrudePath!==void 0&&(t.options.extrudePath=e.extrudePath.toJSON()),t}class K_ extends Gp{constructor(e=1,t=0){const i=(1+Math.sqrt(5))/2,r=[-1,i,0,1,i,0,-1,-i,0,1,-i,0,0,-1,i,0,1,i,0,-1,-i,0,1,-i,i,0,-1,i,0,1,-i,0,-1,-i,0,1],s=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(r,s,e,t),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new K_(e.radius,e.detail)}}class Xw extends zi{constructor(e=[new Lt(0,-.5),new Lt(.5,0),new Lt(0,.5)],t=12,i=0,r=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:e,segments:t,phiStart:i,phiLength:r},t=Math.floor(t),r=Ti(r,0,Math.PI*2);const s=[],a=[],o=[],l=[],u=[],d=1/t,m=new me,v=new Lt,y=new me,x=new me,T=new me;let E=0,w=0;for(let P=0;P<=e.length-1;P++)switch(P){case 0:E=e[P+1].x-e[P].x,w=e[P+1].y-e[P].y,y.x=w*1,y.y=-E,y.z=w*0,T.copy(y),y.normalize(),l.push(y.x,y.y,y.z);break;case e.length-1:l.push(T.x,T.y,T.z);break;default:E=e[P+1].x-e[P].x,w=e[P+1].y-e[P].y,y.x=w*1,y.y=-E,y.z=w*0,x.copy(y),y.x+=T.x,y.y+=T.y,y.z+=T.z,y.normalize(),l.push(y.x,y.y,y.z),T.copy(x)}for(let P=0;P<=t;P++){const D=i+P*d*r,N=Math.sin(D),G=Math.cos(D);for(let k=0;k<=e.length-1;k++){m.x=e[k].x*N,m.y=e[k].y,m.z=e[k].x*G,a.push(m.x,m.y,m.z),v.x=P/t,v.y=k/(e.length-1),o.push(v.x,v.y);const M=l[3*k+0]*N,$=l[3*k+1],V=l[3*k+0]*G;u.push(M,$,V)}}for(let P=0;P<t;P++)for(let D=0;D<e.length-1;D++){const N=D+P*e.length,G=N,k=N+e.length,M=N+e.length+1,$=N+1;s.push(G,k,$),s.push(M,$,k)}this.setIndex(s),this.setAttribute("position",new Nn(a,3)),this.setAttribute("uv",new Nn(o,2)),this.setAttribute("normal",new Nn(u,3))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Xw(e.points,e.segments,e.phiStart,e.phiLength)}}class Q_ extends Gp{constructor(e=1,t=0){const i=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],r=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(i,r,e,t),this.type="OctahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new Q_(e.radius,e.detail)}}class jp extends zi{constructor(e=1,t=1,i=1,r=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:i,heightSegments:r};const s=e/2,a=t/2,o=Math.floor(i),l=Math.floor(r),u=o+1,d=l+1,m=e/o,v=t/l,y=[],x=[],T=[],E=[];for(let w=0;w<d;w++){const P=w*v-a;for(let D=0;D<u;D++){const N=D*m-s;x.push(N,-P,0),T.push(0,0,1),E.push(D/o),E.push(1-w/l)}}for(let w=0;w<l;w++)for(let P=0;P<o;P++){const D=P+u*w,N=P+u*(w+1),G=P+1+u*(w+1),k=P+1+u*w;y.push(D,N,k),y.push(N,G,k)}this.setIndex(y),this.setAttribute("position",new Nn(x,3)),this.setAttribute("normal",new Nn(T,3)),this.setAttribute("uv",new Nn(E,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new jp(e.width,e.height,e.widthSegments,e.heightSegments)}}class Yw extends zi{constructor(e=.5,t=1,i=32,r=1,s=0,a=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:i,phiSegments:r,thetaStart:s,thetaLength:a},i=Math.max(3,i),r=Math.max(1,r);const o=[],l=[],u=[],d=[];let m=e;const v=(t-e)/r,y=new me,x=new Lt;for(let T=0;T<=r;T++){for(let E=0;E<=i;E++){const w=s+E/i*a;y.x=m*Math.cos(w),y.y=m*Math.sin(w),l.push(y.x,y.y,y.z),u.push(0,0,1),x.x=(y.x/t+1)/2,x.y=(y.y/t+1)/2,d.push(x.x,x.y)}m+=v}for(let T=0;T<r;T++){const E=T*(i+1);for(let w=0;w<i;w++){const P=w+E,D=P,N=P+i+1,G=P+i+2,k=P+1;o.push(D,N,k),o.push(N,G,k)}}this.setIndex(o),this.setAttribute("position",new Nn(l,3)),this.setAttribute("normal",new Nn(u,3)),this.setAttribute("uv",new Nn(d,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Yw(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class Zw extends zi{constructor(e=new fg([new Lt(0,.5),new Lt(-.5,-.5),new Lt(.5,-.5)]),t=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:t};const i=[],r=[],s=[],a=[];let o=0,l=0;if(Array.isArray(e)===!1)u(e);else for(let d=0;d<e.length;d++)u(e[d]),this.addGroup(o,l,d),o+=l,l=0;this.setIndex(i),this.setAttribute("position",new Nn(r,3)),this.setAttribute("normal",new Nn(s,3)),this.setAttribute("uv",new Nn(a,2));function u(d){const m=r.length/3,v=d.extractPoints(t);let y=v.shape;const x=v.holes;cf.isClockWise(y)===!1&&(y=y.reverse());for(let E=0,w=x.length;E<w;E++){const P=x[E];cf.isClockWise(P)===!0&&(x[E]=P.reverse())}const T=cf.triangulateShape(y,x);for(let E=0,w=x.length;E<w;E++){const P=x[E];y=y.concat(P)}for(let E=0,w=y.length;E<w;E++){const P=y[E];r.push(P.x,P.y,0),s.push(0,0,1),a.push(P.x,P.y)}for(let E=0,w=T.length;E<w;E++){const P=T[E],D=P[0]+m,N=P[1]+m,G=P[2]+m;i.push(D,N,G),l+=3}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),t=this.parameters.shapes;return Mie(t,e)}static fromJSON(e,t){const i=[];for(let r=0,s=e.shapes.length;r<s;r++){const a=t[e.shapes[r]];i.push(a)}return new Zw(i,e.curveSegments)}}function Mie(n,e){if(e.shapes=[],Array.isArray(n))for(let t=0,i=n.length;t<i;t++){const r=n[t];e.shapes.push(r.uuid)}else e.shapes.push(n.uuid);return e}class J_ extends zi{constructor(e=1,t=32,i=16,r=0,s=Math.PI*2,a=0,o=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:i,phiStart:r,phiLength:s,thetaStart:a,thetaLength:o},t=Math.max(3,Math.floor(t)),i=Math.max(2,Math.floor(i));const l=Math.min(a+o,Math.PI);let u=0;const d=[],m=new me,v=new me,y=[],x=[],T=[],E=[];for(let w=0;w<=i;w++){const P=[],D=w/i;let N=0;w===0&&a===0?N=.5/t:w===i&&l===Math.PI&&(N=-.5/t);for(let G=0;G<=t;G++){const k=G/t;m.x=-e*Math.cos(r+k*s)*Math.sin(a+D*o),m.y=e*Math.cos(a+D*o),m.z=e*Math.sin(r+k*s)*Math.sin(a+D*o),x.push(m.x,m.y,m.z),v.copy(m).normalize(),T.push(v.x,v.y,v.z),E.push(k+N,1-D),P.push(u++)}d.push(P)}for(let w=0;w<i;w++)for(let P=0;P<t;P++){const D=d[w][P+1],N=d[w][P],G=d[w+1][P],k=d[w+1][P+1];(w!==0||a>0)&&y.push(D,N,k),(w!==i-1||l<Math.PI)&&y.push(N,G,k)}this.setIndex(y),this.setAttribute("position",new Nn(x,3)),this.setAttribute("normal",new Nn(T,3)),this.setAttribute("uv",new Nn(E,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new J_(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class Kw extends Gp{constructor(e=1,t=0){const i=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],r=[2,1,0,0,3,2,1,3,0,2,3,1];super(i,r,e,t),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new Kw(e.radius,e.detail)}}class Qw extends zi{constructor(e=1,t=.4,i=12,r=48,s=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:t,radialSegments:i,tubularSegments:r,arc:s},i=Math.floor(i),r=Math.floor(r);const a=[],o=[],l=[],u=[],d=new me,m=new me,v=new me;for(let y=0;y<=i;y++)for(let x=0;x<=r;x++){const T=x/r*s,E=y/i*Math.PI*2;m.x=(e+t*Math.cos(E))*Math.cos(T),m.y=(e+t*Math.cos(E))*Math.sin(T),m.z=t*Math.sin(E),o.push(m.x,m.y,m.z),d.x=e*Math.cos(T),d.y=e*Math.sin(T),v.subVectors(m,d).normalize(),l.push(v.x,v.y,v.z),u.push(x/r),u.push(y/i)}for(let y=1;y<=i;y++)for(let x=1;x<=r;x++){const T=(r+1)*y+x-1,E=(r+1)*(y-1)+x-1,w=(r+1)*(y-1)+x,P=(r+1)*y+x;a.push(T,E,P),a.push(E,w,P)}this.setIndex(a),this.setAttribute("position",new Nn(o,3)),this.setAttribute("normal",new Nn(l,3)),this.setAttribute("uv",new Nn(u,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Qw(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class Jw extends zi{constructor(e=1,t=.4,i=64,r=8,s=2,a=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:t,tubularSegments:i,radialSegments:r,p:s,q:a},i=Math.floor(i),r=Math.floor(r);const o=[],l=[],u=[],d=[],m=new me,v=new me,y=new me,x=new me,T=new me,E=new me,w=new me;for(let D=0;D<=i;++D){const N=D/i*s*Math.PI*2;P(N,s,a,e,y),P(N+.01,s,a,e,x),E.subVectors(x,y),w.addVectors(x,y),T.crossVectors(E,w),w.crossVectors(T,E),T.normalize(),w.normalize();for(let G=0;G<=r;++G){const k=G/r*Math.PI*2,M=-t*Math.cos(k),$=t*Math.sin(k);m.x=y.x+(M*w.x+$*T.x),m.y=y.y+(M*w.y+$*T.y),m.z=y.z+(M*w.z+$*T.z),l.push(m.x,m.y,m.z),v.subVectors(m,y).normalize(),u.push(v.x,v.y,v.z),d.push(D/i),d.push(G/r)}}for(let D=1;D<=i;D++)for(let N=1;N<=r;N++){const G=(r+1)*(D-1)+(N-1),k=(r+1)*D+(N-1),M=(r+1)*D+N,$=(r+1)*(D-1)+N;o.push(G,k,$),o.push(k,M,$)}this.setIndex(o),this.setAttribute("position",new Nn(l,3)),this.setAttribute("normal",new Nn(u,3)),this.setAttribute("uv",new Nn(d,2));function P(D,N,G,k,M){const $=Math.cos(D),V=Math.sin(D),H=G/N*D,ee=Math.cos(H);M.x=k*(2+ee)*.5*$,M.y=k*(2+ee)*V*.5,M.z=k*Math.sin(H)*.5}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Jw(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class eE extends zi{constructor(e=new NC(new me(-1,-1,0),new me(-1,1,0),new me(1,1,0)),t=64,i=1,r=8,s=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:t,radius:i,radialSegments:r,closed:s};const a=e.computeFrenetFrames(t,s);this.tangents=a.tangents,this.normals=a.normals,this.binormals=a.binormals;const o=new me,l=new me,u=new Lt;let d=new me;const m=[],v=[],y=[],x=[];T(),this.setIndex(x),this.setAttribute("position",new Nn(m,3)),this.setAttribute("normal",new Nn(v,3)),this.setAttribute("uv",new Nn(y,2));function T(){for(let D=0;D<t;D++)E(D);E(s===!1?t:0),P(),w()}function E(D){d=e.getPointAt(D/t,d);const N=a.normals[D],G=a.binormals[D];for(let k=0;k<=r;k++){const M=k/r*Math.PI*2,$=Math.sin(M),V=-Math.cos(M);l.x=V*N.x+$*G.x,l.y=V*N.y+$*G.y,l.z=V*N.z+$*G.z,l.normalize(),v.push(l.x,l.y,l.z),o.x=d.x+i*l.x,o.y=d.y+i*l.y,o.z=d.z+i*l.z,m.push(o.x,o.y,o.z)}}function w(){for(let D=1;D<=t;D++)for(let N=1;N<=r;N++){const G=(r+1)*(D-1)+(N-1),k=(r+1)*D+(N-1),M=(r+1)*D+N,$=(r+1)*(D-1)+N;x.push(G,k,$),x.push(k,M,$)}}function P(){for(let D=0;D<=t;D++)for(let N=0;N<=r;N++)u.x=D/t,u.y=N/r,y.push(u.x,u.y)}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new eE(new HS[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class Qz extends zi{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){const t=[],i=new Set,r=new me,s=new me;if(e.index!==null){const a=e.attributes.position,o=e.index;let l=e.groups;l.length===0&&(l=[{start:0,count:o.count,materialIndex:0}]);for(let u=0,d=l.length;u<d;++u){const m=l[u],v=m.start,y=m.count;for(let x=v,T=v+y;x<T;x+=3)for(let E=0;E<3;E++){const w=o.getX(x+E),P=o.getX(x+(E+1)%3);r.fromBufferAttribute(a,w),s.fromBufferAttribute(a,P),HD(r,s,i)===!0&&(t.push(r.x,r.y,r.z),t.push(s.x,s.y,s.z))}}}else{const a=e.attributes.position;for(let o=0,l=a.count/3;o<l;o++)for(let u=0;u<3;u++){const d=3*o+u,m=3*o+(u+1)%3;r.fromBufferAttribute(a,d),s.fromBufferAttribute(a,m),HD(r,s,i)===!0&&(t.push(r.x,r.y,r.z),t.push(s.x,s.y,s.z))}}this.setAttribute("position",new Nn(t,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}function HD(n,e,t){const i=`${n.x},${n.y},${n.z}-${e.x},${e.y},${e.z}`,r=`${e.x},${e.y},${e.z}-${n.x},${n.y},${n.z}`;return t.has(i)===!0||t.has(r)===!0?!1:(t.add(i),t.add(r),!0)}var FD=Object.freeze({__proto__:null,BoxGeometry:Tg,CapsuleGeometry:Gw,CircleGeometry:jw,ConeGeometry:Z_,CylinderGeometry:Y_,DodecahedronGeometry:$w,EdgesGeometry:Vz,ExtrudeGeometry:Ww,IcosahedronGeometry:K_,LatheGeometry:Xw,OctahedronGeometry:Q_,PlaneGeometry:jp,PolyhedronGeometry:Gp,RingGeometry:Yw,ShapeGeometry:Zw,SphereGeometry:J_,TetrahedronGeometry:Kw,TorusGeometry:Qw,TorusKnotGeometry:Jw,TubeGeometry:eE,WireframeGeometry:Qz});class Jz extends il{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new yn(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class eU extends pc{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class zC extends il{constructor(e){super(),this.isMeshStandardMaterial=!0,this.type="MeshStandardMaterial",this.defines={STANDARD:""},this.color=new yn(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new yn(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Vp,this.normalScale=new Lt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Vc,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class tU extends zC{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new Lt(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return Ti(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(t){this.ior=(1+.4*t)/(1-.4*t)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new yn(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new yn(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new yn(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._dispersion=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(e)}get anisotropy(){return this._anisotropy}set anisotropy(e){this._anisotropy>0!=e>0&&this.version++,this._anisotropy=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get dispersion(){return this._dispersion}set dispersion(e){this._dispersion>0!=e>0&&this.version++,this._dispersion=e}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=e.anisotropy,this.anisotropyRotation=e.anisotropyRotation,this.anisotropyMap=e.anisotropyMap,this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.dispersion=e.dispersion,this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class nU extends il{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new yn(16777215),this.specular=new yn(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new yn(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Vp,this.normalScale=new Lt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Vc,this.combine=G_,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class iU extends il{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new yn(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new yn(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Vp,this.normalScale=new Lt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class rU extends il{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Vp,this.normalScale=new Lt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class sU extends il{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new yn(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new yn(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Vp,this.normalScale=new Lt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Vc,this.combine=G_,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class UC extends il{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=mz,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class BC extends il{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}class aU extends il{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new yn(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Vp,this.normalScale=new Lt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this.fog=e.fog,this}}class oU extends Fl{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}function sg(n,e){return!n||n.constructor===e?n:typeof e.BYTES_PER_ELEMENT=="number"?new e(n):Array.prototype.slice.call(n)}function lU(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}function cU(n){function e(r,s){return n[r]-n[s]}const t=n.length,i=new Array(t);for(let r=0;r!==t;++r)i[r]=r;return i.sort(e),i}function iA(n,e,t){const i=n.length,r=new n.constructor(i);for(let s=0,a=0;a!==i;++s){const o=t[s]*e;for(let l=0;l!==e;++l)r[a++]=n[o+l]}return r}function kC(n,e,t,i){let r=1,s=n[0];for(;s!==void 0&&s[i]===void 0;)s=n[r++];if(s===void 0)return;let a=s[i];if(a!==void 0)if(Array.isArray(a))do a=s[i],a!==void 0&&(e.push(s.time),t.push(...a)),s=n[r++];while(s!==void 0);else if(a.toArray!==void 0)do a=s[i],a!==void 0&&(e.push(s.time),a.toArray(t,t.length)),s=n[r++];while(s!==void 0);else do a=s[i],a!==void 0&&(e.push(s.time),t.push(a)),s=n[r++];while(s!==void 0)}function Aie(n,e,t,i,r=30){const s=n.clone();s.name=e;const a=[];for(let l=0;l<s.tracks.length;++l){const u=s.tracks[l],d=u.getValueSize(),m=[],v=[];for(let y=0;y<u.times.length;++y){const x=u.times[y]*r;if(!(x<t||x>=i)){m.push(u.times[y]);for(let T=0;T<d;++T)v.push(u.values[y*d+T])}}m.length!==0&&(u.times=sg(m,u.times.constructor),u.values=sg(v,u.values.constructor),a.push(u))}s.tracks=a;let o=1/0;for(let l=0;l<s.tracks.length;++l)o>s.tracks[l].times[0]&&(o=s.tracks[l].times[0]);for(let l=0;l<s.tracks.length;++l)s.tracks[l].shift(-1*o);return s.resetDuration(),s}function Cie(n,e=0,t=n,i=30){i<=0&&(i=30);const r=t.tracks.length,s=e/i;for(let a=0;a<r;++a){const o=t.tracks[a],l=o.ValueTypeName;if(l==="bool"||l==="string")continue;const u=n.tracks.find(function(w){return w.name===o.name&&w.ValueTypeName===l});if(u===void 0)continue;let d=0;const m=o.getValueSize();o.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(d=m/3);let v=0;const y=u.getValueSize();u.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(v=y/3);const x=o.times.length-1;let T;if(s<=o.times[0]){const w=d,P=m-d;T=o.values.slice(w,P)}else if(s>=o.times[x]){const w=x*m+d,P=w+m-d;T=o.values.slice(w,P)}else{const w=o.createInterpolant(),P=d,D=m-d;w.evaluate(s),T=w.resultBuffer.slice(P,D)}l==="quaternion"&&new el().fromArray(T).normalize().conjugate().toArray(T);const E=u.times.length;for(let w=0;w<E;++w){const P=w*y+v;if(l==="quaternion")el.multiplyQuaternionsFlat(u.values,P,T,0,u.values,P);else{const D=y-v*2;for(let N=0;N<D;++N)u.values[P+N]-=T[N]}}}return n.blendMode=bC,n}class Rie{static convertArray(e,t){return sg(e,t)}static isTypedArray(e){return lU(e)}static getKeyframeOrder(e){return cU(e)}static sortedArray(e,t,i){return iA(e,t,i)}static flattenJSON(e,t,i,r){kC(e,t,i,r)}static subclip(e,t,i,r,s=30){return Aie(e,t,i,r,s)}static makeClipAdditive(e,t=0,i=e,r=30){return Cie(e,t,i,r)}}class e1{constructor(e,t,i,r){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=r!==void 0?r:new t.constructor(i),this.sampleValues=t,this.valueSize=i,this.settings=null,this.DefaultSettings_={}}evaluate(e){const t=this.parameterPositions;let i=this._cachedIndex,r=t[i],s=t[i-1];e:{t:{let a;n:{i:if(!(e<r)){for(let o=i+2;;){if(r===void 0){if(e<s)break i;return i=t.length,this._cachedIndex=i,this.copySampleValue_(i-1)}if(i===o)break;if(s=r,r=t[++i],e<r)break t}a=t.length;break n}if(!(e>=s)){const o=t[1];e<o&&(i=2,s=o);for(let l=i-2;;){if(s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(i===l)break;if(r=s,s=t[--i-1],e>=s)break t}a=i,i=0;break n}break e}for(;i<a;){const o=i+a>>>1;e<t[o]?a=o:i=o+1}if(r=t[i],s=t[i-1],s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(r===void 0)return i=t.length,this._cachedIndex=i,this.copySampleValue_(i-1)}this._cachedIndex=i,this.intervalChanged_(i,s,r)}return this.interpolate_(i,s,e,r)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const t=this.resultBuffer,i=this.sampleValues,r=this.valueSize,s=e*r;for(let a=0;a!==r;++a)t[a]=i[s+a];return t}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class uU extends e1{constructor(e,t,i,r){super(e,t,i,r),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:ng,endingEnd:ng}}intervalChanged_(e,t,i){const r=this.parameterPositions;let s=e-2,a=e+1,o=r[s],l=r[a];if(o===void 0)switch(this.getSettings_().endingStart){case ig:s=e,o=2*t-i;break;case v_:s=r.length-2,o=t+r[s]-r[s+1];break;default:s=e,o=i}if(l===void 0)switch(this.getSettings_().endingEnd){case ig:a=e,l=2*i-t;break;case v_:a=1,l=i+r[1]-r[0];break;default:a=e-1,l=t}const u=(i-t)*.5,d=this.valueSize;this._weightPrev=u/(t-o),this._weightNext=u/(l-i),this._offsetPrev=s*d,this._offsetNext=a*d}interpolate_(e,t,i,r){const s=this.resultBuffer,a=this.sampleValues,o=this.valueSize,l=e*o,u=l-o,d=this._offsetPrev,m=this._offsetNext,v=this._weightPrev,y=this._weightNext,x=(i-t)/(r-t),T=x*x,E=T*x,w=-v*E+2*v*T-v*x,P=(1+v)*E+(-1.5-2*v)*T+(-.5+v)*x+1,D=(-1-y)*E+(1.5+y)*T+.5*x,N=y*E-y*T;for(let G=0;G!==o;++G)s[G]=w*a[d+G]+P*a[u+G]+D*a[l+G]+N*a[m+G];return s}}class HC extends e1{constructor(e,t,i,r){super(e,t,i,r)}interpolate_(e,t,i,r){const s=this.resultBuffer,a=this.sampleValues,o=this.valueSize,l=e*o,u=l-o,d=(i-t)/(r-t),m=1-d;for(let v=0;v!==o;++v)s[v]=a[u+v]*m+a[l+v]*d;return s}}class fU extends e1{constructor(e,t,i,r){super(e,t,i,r)}interpolate_(e){return this.copySampleValue_(e-1)}}class Ou{constructor(e,t,i,r){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(t===void 0||t.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=sg(t,this.TimeBufferType),this.values=sg(i,this.ValueBufferType),this.setInterpolation(r||this.DefaultInterpolation)}static toJSON(e){const t=e.constructor;let i;if(t.toJSON!==this.toJSON)i=t.toJSON(e);else{i={name:e.name,times:sg(e.times,Array),values:sg(e.values,Array)};const r=e.getInterpolation();r!==e.DefaultInterpolation&&(i.interpolation=r)}return i.type=e.ValueTypeName,i}InterpolantFactoryMethodDiscrete(e){return new fU(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new HC(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new uU(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let t;switch(e){case g_:t=this.InterpolantFactoryMethodDiscrete;break;case US:t=this.InterpolantFactoryMethodLinear;break;case Lx:t=this.InterpolantFactoryMethodSmooth;break}if(t===void 0){const i="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(i);return console.warn("THREE.KeyframeTrack:",i),this}return this.createInterpolant=t,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return g_;case this.InterpolantFactoryMethodLinear:return US;case this.InterpolantFactoryMethodSmooth:return Lx}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const t=this.times;for(let i=0,r=t.length;i!==r;++i)t[i]+=e}return this}scale(e){if(e!==1){const t=this.times;for(let i=0,r=t.length;i!==r;++i)t[i]*=e}return this}trim(e,t){const i=this.times,r=i.length;let s=0,a=r-1;for(;s!==r&&i[s]<e;)++s;for(;a!==-1&&i[a]>t;)--a;if(++a,s!==0||a!==r){s>=a&&(a=Math.max(a,1),s=a-1);const o=this.getValueSize();this.times=i.slice(s,a),this.values=this.values.slice(s*o,a*o)}return this}validate(){let e=!0;const t=this.getValueSize();t-Math.floor(t)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const i=this.times,r=this.values,s=i.length;s===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let a=null;for(let o=0;o!==s;o++){const l=i[o];if(typeof l=="number"&&isNaN(l)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,o,l),e=!1;break}if(a!==null&&a>l){console.error("THREE.KeyframeTrack: Out of order keys.",this,o,l,a),e=!1;break}a=l}if(r!==void 0&&lU(r))for(let o=0,l=r.length;o!==l;++o){const u=r[o];if(isNaN(u)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,o,u),e=!1;break}}return e}optimize(){const e=this.times.slice(),t=this.values.slice(),i=this.getValueSize(),r=this.getInterpolation()===Lx,s=e.length-1;let a=1;for(let o=1;o<s;++o){let l=!1;const u=e[o],d=e[o+1];if(u!==d&&(o!==1||u!==e[0]))if(r)l=!0;else{const m=o*i,v=m-i,y=m+i;for(let x=0;x!==i;++x){const T=t[m+x];if(T!==t[v+x]||T!==t[y+x]){l=!0;break}}}if(l){if(o!==a){e[a]=e[o];const m=o*i,v=a*i;for(let y=0;y!==i;++y)t[v+y]=t[m+y]}++a}}if(s>0){e[a]=e[s];for(let o=s*i,l=a*i,u=0;u!==i;++u)t[l+u]=t[o+u];++a}return a!==e.length?(this.times=e.slice(0,a),this.values=t.slice(0,a*i)):(this.times=e,this.values=t),this}clone(){const e=this.times.slice(),t=this.values.slice(),i=this.constructor,r=new i(this.name,e,t);return r.createInterpolant=this.createInterpolant,r}}Ou.prototype.ValueTypeName="";Ou.prototype.TimeBufferType=Float32Array;Ou.prototype.ValueBufferType=Float32Array;Ou.prototype.DefaultInterpolation=US;class Mg extends Ou{constructor(e,t,i){super(e,t,i)}}Mg.prototype.ValueTypeName="bool";Mg.prototype.ValueBufferType=Array;Mg.prototype.DefaultInterpolation=g_;Mg.prototype.InterpolantFactoryMethodLinear=void 0;Mg.prototype.InterpolantFactoryMethodSmooth=void 0;class FC extends Ou{constructor(e,t,i,r){super(e,t,i,r)}}FC.prototype.ValueTypeName="color";class T_ extends Ou{constructor(e,t,i,r){super(e,t,i,r)}}T_.prototype.ValueTypeName="number";class hU extends e1{constructor(e,t,i,r){super(e,t,i,r)}interpolate_(e,t,i,r){const s=this.resultBuffer,a=this.sampleValues,o=this.valueSize,l=(i-t)/(r-t);let u=e*o;for(let d=u+o;u!==d;u+=4)el.slerpFlat(s,0,a,u-o,a,u,l);return s}}class t1 extends Ou{constructor(e,t,i,r){super(e,t,i,r)}InterpolantFactoryMethodLinear(e){return new hU(this.times,this.values,this.getValueSize(),e)}}t1.prototype.ValueTypeName="quaternion";t1.prototype.InterpolantFactoryMethodSmooth=void 0;class Ag extends Ou{constructor(e,t,i){super(e,t,i)}}Ag.prototype.ValueTypeName="string";Ag.prototype.ValueBufferType=Array;Ag.prototype.DefaultInterpolation=g_;Ag.prototype.InterpolantFactoryMethodLinear=void 0;Ag.prototype.InterpolantFactoryMethodSmooth=void 0;class M_ extends Ou{constructor(e,t,i,r){super(e,t,i,r)}}M_.prototype.ValueTypeName="vector";class A_{constructor(e="",t=-1,i=[],r=Dw){this.name=e,this.tracks=i,this.duration=t,this.blendMode=r,this.uuid=kc(),this.duration<0&&this.resetDuration()}static parse(e){const t=[],i=e.tracks,r=1/(e.fps||1);for(let a=0,o=i.length;a!==o;++a)t.push(Pie(i[a]).scale(r));const s=new this(e.name,e.duration,t,e.blendMode);return s.uuid=e.uuid,s}static toJSON(e){const t=[],i=e.tracks,r={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode};for(let s=0,a=i.length;s!==a;++s)t.push(Ou.toJSON(i[s]));return r}static CreateFromMorphTargetSequence(e,t,i,r){const s=t.length,a=[];for(let o=0;o<s;o++){let l=[],u=[];l.push((o+s-1)%s,o,(o+1)%s),u.push(0,1,0);const d=cU(l);l=iA(l,1,d),u=iA(u,1,d),!r&&l[0]===0&&(l.push(s),u.push(u[0])),a.push(new T_(".morphTargetInfluences["+t[o].name+"]",l,u).scale(1/i))}return new this(e,-1,a)}static findByName(e,t){let i=e;if(!Array.isArray(e)){const r=e;i=r.geometry&&r.geometry.animations||r.animations}for(let r=0;r<i.length;r++)if(i[r].name===t)return i[r];return null}static CreateClipsFromMorphTargetSequences(e,t,i){const r={},s=/^([\w-]*?)([\d]+)$/;for(let o=0,l=e.length;o<l;o++){const u=e[o],d=u.name.match(s);if(d&&d.length>1){const m=d[1];let v=r[m];v||(r[m]=v=[]),v.push(u)}}const a=[];for(const o in r)a.push(this.CreateFromMorphTargetSequence(o,r[o],t,i));return a}static parseAnimation(e,t){if(console.warn("THREE.AnimationClip: parseAnimation() is deprecated and will be removed with r185"),!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const i=function(m,v,y,x,T){if(y.length!==0){const E=[],w=[];kC(y,E,w,x),E.length!==0&&T.push(new m(v,E,w))}},r=[],s=e.name||"default",a=e.fps||30,o=e.blendMode;let l=e.length||-1;const u=e.hierarchy||[];for(let m=0;m<u.length;m++){const v=u[m].keys;if(!(!v||v.length===0))if(v[0].morphTargets){const y={};let x;for(x=0;x<v.length;x++)if(v[x].morphTargets)for(let T=0;T<v[x].morphTargets.length;T++)y[v[x].morphTargets[T]]=-1;for(const T in y){const E=[],w=[];for(let P=0;P!==v[x].morphTargets.length;++P){const D=v[x];E.push(D.time),w.push(D.morphTarget===T?1:0)}r.push(new T_(".morphTargetInfluence["+T+"]",E,w))}l=y.length*a}else{const y=".bones["+t[m].name+"]";i(M_,y+".position",v,"pos",r),i(t1,y+".quaternion",v,"rot",r),i(M_,y+".scale",v,"scl",r)}}return r.length===0?null:new this(s,l,r,o)}resetDuration(){const e=this.tracks;let t=0;for(let i=0,r=e.length;i!==r;++i){const s=this.tracks[i];t=Math.max(t,s.times[s.times.length-1])}return this.duration=t,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let t=0;t<this.tracks.length;t++)e.push(this.tracks[t].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function Oie(n){switch(n.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return T_;case"vector":case"vector2":case"vector3":case"vector4":return M_;case"color":return FC;case"quaternion":return t1;case"bool":case"boolean":return Mg;case"string":return Ag}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+n)}function Pie(n){if(n.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=Oie(n.type);if(n.times===void 0){const t=[],i=[];kC(n.keys,t,i,"value"),n.times=t,n.values=i}return e.parse!==void 0?e.parse(n):new e(n.name,n.times,n.values,n.interpolation)}const rh={enabled:!1,files:{},add:function(n,e){this.enabled!==!1&&(this.files[n]=e)},get:function(n){if(this.enabled!==!1)return this.files[n]},remove:function(n){delete this.files[n]},clear:function(){this.files={}}};class tE{constructor(e,t,i){const r=this;let s=!1,a=0,o=0,l;const u=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=i,this.itemStart=function(d){o++,s===!1&&r.onStart!==void 0&&r.onStart(d,a,o),s=!0},this.itemEnd=function(d){a++,r.onProgress!==void 0&&r.onProgress(d,a,o),a===o&&(s=!1,r.onLoad!==void 0&&r.onLoad())},this.itemError=function(d){r.onError!==void 0&&r.onError(d)},this.resolveURL=function(d){return l?l(d):d},this.setURLModifier=function(d){return l=d,this},this.addHandler=function(d,m){return u.push(d,m),this},this.removeHandler=function(d){const m=u.indexOf(d);return m!==-1&&u.splice(m,2),this},this.getHandler=function(d){for(let m=0,v=u.length;m<v;m+=2){const y=u[m],x=u[m+1];if(y.global&&(y.lastIndex=0),y.test(d))return x}return null}}}const dU=new tE;class Vl{constructor(e){this.manager=e!==void 0?e:dU,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,t){const i=this;return new Promise(function(r,s){i.load(e,r,t,s)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}}Vl.DEFAULT_MATERIAL_NAME="__DEFAULT";const td={};class Die extends Error{constructor(e,t){super(e),this.response=t}}class Hc extends Vl{constructor(e){super(e),this.mimeType="",this.responseType=""}load(e,t,i,r){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=rh.get(`file:${e}`);if(s!==void 0)return this.manager.itemStart(e),setTimeout(()=>{t&&t(s),this.manager.itemEnd(e)},0),s;if(td[e]!==void 0){td[e].push({onLoad:t,onProgress:i,onError:r});return}td[e]=[],td[e].push({onLoad:t,onProgress:i,onError:r});const a=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),o=this.mimeType,l=this.responseType;fetch(a).then(u=>{if(u.status===200||u.status===0){if(u.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||u.body===void 0||u.body.getReader===void 0)return u;const d=td[e],m=u.body.getReader(),v=u.headers.get("X-File-Size")||u.headers.get("Content-Length"),y=v?parseInt(v):0,x=y!==0;let T=0;const E=new ReadableStream({start(w){P();function P(){m.read().then(({done:D,value:N})=>{if(D)w.close();else{T+=N.byteLength;const G=new ProgressEvent("progress",{lengthComputable:x,loaded:T,total:y});for(let k=0,M=d.length;k<M;k++){const $=d[k];$.onProgress&&$.onProgress(G)}w.enqueue(N),P()}},D=>{w.error(D)})}}});return new Response(E)}else throw new Die(`fetch for "${u.url}" responded with ${u.status}: ${u.statusText}`,u)}).then(u=>{switch(l){case"arraybuffer":return u.arrayBuffer();case"blob":return u.blob();case"document":return u.text().then(d=>new DOMParser().parseFromString(d,o));case"json":return u.json();default:if(o==="")return u.text();{const m=/charset="?([^;"\s]*)"?/i.exec(o),v=m&&m[1]?m[1].toLowerCase():void 0,y=new TextDecoder(v);return u.arrayBuffer().then(x=>y.decode(x))}}}).then(u=>{rh.add(`file:${e}`,u);const d=td[e];delete td[e];for(let m=0,v=d.length;m<v;m++){const y=d[m];y.onLoad&&y.onLoad(u)}}).catch(u=>{const d=td[e];if(d===void 0)throw this.manager.itemError(e),u;delete td[e];for(let m=0,v=d.length;m<v;m++){const y=d[m];y.onError&&y.onError(u)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class Lie extends Vl{constructor(e){super(e)}load(e,t,i,r){const s=this,a=new Hc(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,function(o){try{t(s.parse(JSON.parse(o)))}catch(l){r?r(l):console.error(l),s.manager.itemError(e)}},i,r)}parse(e){const t=[];for(let i=0;i<e.length;i++){const r=A_.parse(e[i]);t.push(r)}return t}}class Nie extends Vl{constructor(e){super(e)}load(e,t,i,r){const s=this,a=[],o=new Fw,l=new Hc(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(s.withCredentials);let u=0;function d(m){l.load(e[m],function(v){const y=s.parse(v,!0);a[m]={width:y.width,height:y.height,format:y.format,mipmaps:y.mipmaps},u+=1,u===6&&(y.mipmapCount===1&&(o.minFilter=Or),o.image=a,o.format=y.format,o.needsUpdate=!0,t&&t(o))},i,r)}if(Array.isArray(e))for(let m=0,v=e.length;m<v;++m)d(m);else l.load(e,function(m){const v=s.parse(m,!0);if(v.isCubemap){const y=v.mipmaps.length/v.mipmapCount;for(let x=0;x<y;x++){a[x]={mipmaps:[]};for(let T=0;T<v.mipmapCount;T++)a[x].mipmaps.push(v.mipmaps[x*v.mipmapCount+T]),a[x].format=v.format,a[x].width=v.width,a[x].height=v.height}o.image=a}else o.image.width=v.width,o.image.height=v.height,o.mipmaps=v.mipmaps;v.mipmapCount===1&&(o.minFilter=Or),o.format=v.format,o.needsUpdate=!0,t&&t(o)},i,r);return o}}const Ov=new WeakMap;class C_ extends Vl{constructor(e){super(e)}load(e,t,i,r){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,a=rh.get(`image:${e}`);if(a!==void 0){if(a.complete===!0)s.manager.itemStart(e),setTimeout(function(){t&&t(a),s.manager.itemEnd(e)},0);else{let m=Ov.get(a);m===void 0&&(m=[],Ov.set(a,m)),m.push({onLoad:t,onError:r})}return a}const o=x_("img");function l(){d(),t&&t(this);const m=Ov.get(this)||[];for(let v=0;v<m.length;v++){const y=m[v];y.onLoad&&y.onLoad(this)}Ov.delete(this),s.manager.itemEnd(e)}function u(m){d(),r&&r(m),rh.remove(`image:${e}`);const v=Ov.get(this)||[];for(let y=0;y<v.length;y++){const x=v[y];x.onError&&x.onError(m)}Ov.delete(this),s.manager.itemError(e),s.manager.itemEnd(e)}function d(){o.removeEventListener("load",l,!1),o.removeEventListener("error",u,!1)}return o.addEventListener("load",l,!1),o.addEventListener("error",u,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(o.crossOrigin=this.crossOrigin),rh.add(`image:${e}`,o),s.manager.itemStart(e),o.src=e,o}}class pU extends Vl{constructor(e){super(e)}load(e,t,i,r){const s=new W_;s.colorSpace=ka;const a=new C_(this.manager);a.setCrossOrigin(this.crossOrigin),a.setPath(this.path);let o=0;function l(u){a.load(e[u],function(d){s.images[u]=d,o++,o===6&&(s.needsUpdate=!0,t&&t(s))},void 0,r)}for(let u=0;u<e.length;++u)l(u);return s}}class VC extends Vl{constructor(e){super(e)}load(e,t,i,r){const s=this,a=new hf,o=new Hc(this.manager);return o.setResponseType("arraybuffer"),o.setRequestHeader(this.requestHeader),o.setPath(this.path),o.setWithCredentials(s.withCredentials),o.load(e,function(l){let u;try{u=s.parse(l)}catch(d){if(r!==void 0)r(d);else{console.error(d);return}}u.image!==void 0?a.image=u.image:u.data!==void 0&&(a.image.width=u.width,a.image.height=u.height,a.image.data=u.data),a.wrapS=u.wrapS!==void 0?u.wrapS:Ra,a.wrapT=u.wrapT!==void 0?u.wrapT:Ra,a.magFilter=u.magFilter!==void 0?u.magFilter:Or,a.minFilter=u.minFilter!==void 0?u.minFilter:Or,a.anisotropy=u.anisotropy!==void 0?u.anisotropy:1,u.colorSpace!==void 0&&(a.colorSpace=u.colorSpace),u.flipY!==void 0&&(a.flipY=u.flipY),u.format!==void 0&&(a.format=u.format),u.type!==void 0&&(a.type=u.type),u.mipmaps!==void 0&&(a.mipmaps=u.mipmaps,a.minFilter=ih),u.mipmapCount===1&&(a.minFilter=Or),u.generateMipmaps!==void 0&&(a.generateMipmaps=u.generateMipmaps),a.needsUpdate=!0,t&&t(a,u)},i,r),a}}class nE extends Vl{constructor(e){super(e)}load(e,t,i,r){const s=new zr,a=new C_(this.manager);return a.setCrossOrigin(this.crossOrigin),a.setPath(this.path),a.load(e,function(o){s.image=o,s.needsUpdate=!0,t!==void 0&&t(s)},i,r),s}}class $p extends br{constructor(e,t=1){super(),this.isLight=!0,this.type="Light",this.color=new yn(e),this.intensity=t}dispose(){}copy(e,t){return super.copy(e,t),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const t=super.toJSON(e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,this.groundColor!==void 0&&(t.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(t.object.distance=this.distance),this.angle!==void 0&&(t.object.angle=this.angle),this.decay!==void 0&&(t.object.decay=this.decay),this.penumbra!==void 0&&(t.object.penumbra=this.penumbra),this.shadow!==void 0&&(t.object.shadow=this.shadow.toJSON()),this.target!==void 0&&(t.object.target=this.target.uuid),t}}class mU extends $p{constructor(e,t,i){super(e,i),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(br.DEFAULT_UP),this.updateMatrix(),this.groundColor=new yn(t)}copy(e,t){return super.copy(e,t),this.groundColor.copy(e.groundColor),this}}const dM=new mi,VD=new me,GD=new me;class GC{constructor(e){this.camera=e,this.intensity=1,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new Lt(512,512),this.mapType=Hl,this.map=null,this.mapPass=null,this.matrix=new mi,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new Ay,this._frameExtents=new Lt(1,1),this._viewportCount=1,this._viewports=[new _r(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const t=this.camera,i=this.matrix;VD.setFromMatrixPosition(e.matrixWorld),t.position.copy(VD),GD.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(GD),t.updateMatrixWorld(),dM.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(dM),i.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),i.multiply(dM)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.intensity=e.intensity,this.bias=e.bias,this.radius=e.radius,this.autoUpdate=e.autoUpdate,this.needsUpdate=e.needsUpdate,this.normalBias=e.normalBias,this.blurSamples=e.blurSamples,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.intensity!==1&&(e.intensity=this.intensity),this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class Iie extends GC{constructor(){super(new fa(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1,this.aspect=1}updateMatrices(e){const t=this.camera,i=my*2*e.angle*this.focus,r=this.mapSize.width/this.mapSize.height*this.aspect,s=e.distance||t.far;(i!==t.fov||r!==t.aspect||s!==t.far)&&(t.fov=i,t.aspect=r,t.far=s,t.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class gU extends $p{constructor(e,t,i=0,r=Math.PI/3,s=0,a=2){super(e,t),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(br.DEFAULT_UP),this.updateMatrix(),this.target=new br,this.distance=i,this.angle=r,this.penumbra=s,this.decay=a,this.map=null,this.shadow=new Iie}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const jD=new mi,O0=new me,pM=new me;class zie extends GC{constructor(){super(new fa(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new Lt(4,2),this._viewportCount=6,this._viewports=[new _r(2,1,1,1),new _r(0,1,1,1),new _r(3,1,1,1),new _r(1,1,1,1),new _r(3,0,1,1),new _r(1,0,1,1)],this._cubeDirections=[new me(1,0,0),new me(-1,0,0),new me(0,0,1),new me(0,0,-1),new me(0,1,0),new me(0,-1,0)],this._cubeUps=[new me(0,1,0),new me(0,1,0),new me(0,1,0),new me(0,1,0),new me(0,0,1),new me(0,0,-1)]}updateMatrices(e,t=0){const i=this.camera,r=this.matrix,s=e.distance||i.far;s!==i.far&&(i.far=s,i.updateProjectionMatrix()),O0.setFromMatrixPosition(e.matrixWorld),i.position.copy(O0),pM.copy(i.position),pM.add(this._cubeDirections[t]),i.up.copy(this._cubeUps[t]),i.lookAt(pM),i.updateMatrixWorld(),r.makeTranslation(-O0.x,-O0.y,-O0.z),jD.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),this._frustum.setFromProjectionMatrix(jD)}}class vU extends $p{constructor(e,t,i=0,r=2){super(e,t),this.isPointLight=!0,this.type="PointLight",this.distance=i,this.decay=r,this.shadow=new zie}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}let gd=class extends Iw{constructor(e=-1,t=1,i=1,r=-1,s=.1,a=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=i,this.bottom=r,this.near=s,this.far=a,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,t,i,r,s,a){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=i,this.view.offsetY=r,this.view.width=s,this.view.height=a,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),i=(this.right+this.left)/2,r=(this.top+this.bottom)/2;let s=i-e,a=i+e,o=r+t,l=r-t;if(this.view!==null&&this.view.enabled){const u=(this.right-this.left)/this.view.fullWidth/this.zoom,d=(this.top-this.bottom)/this.view.fullHeight/this.zoom;s+=u*this.view.offsetX,a=s+u*this.view.width,o-=d*this.view.offsetY,l=o-d*this.view.height}this.projectionMatrix.makeOrthographic(s,a,o,l,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,this.view!==null&&(t.object.view=Object.assign({},this.view)),t}};class Uie extends GC{constructor(){super(new gd(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class yU extends $p{constructor(e,t){super(e,t),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(br.DEFAULT_UP),this.updateMatrix(),this.target=new br,this.shadow=new Uie}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class _U extends $p{constructor(e,t){super(e,t),this.isAmbientLight=!0,this.type="AmbientLight"}}class bU extends $p{constructor(e,t,i=10,r=10){super(e,t),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=i,this.height=r}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const t=super.toJSON(e);return t.object.width=this.width,t.object.height=this.height,t}}class xU{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new me)}set(e){for(let t=0;t<9;t++)this.coefficients[t].copy(e[t]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,t){const i=e.x,r=e.y,s=e.z,a=this.coefficients;return t.copy(a[0]).multiplyScalar(.282095),t.addScaledVector(a[1],.488603*r),t.addScaledVector(a[2],.488603*s),t.addScaledVector(a[3],.488603*i),t.addScaledVector(a[4],1.092548*(i*r)),t.addScaledVector(a[5],1.092548*(r*s)),t.addScaledVector(a[6],.315392*(3*s*s-1)),t.addScaledVector(a[7],1.092548*(i*s)),t.addScaledVector(a[8],.546274*(i*i-r*r)),t}getIrradianceAt(e,t){const i=e.x,r=e.y,s=e.z,a=this.coefficients;return t.copy(a[0]).multiplyScalar(.886227),t.addScaledVector(a[1],2*.511664*r),t.addScaledVector(a[2],2*.511664*s),t.addScaledVector(a[3],2*.511664*i),t.addScaledVector(a[4],2*.429043*i*r),t.addScaledVector(a[5],2*.429043*r*s),t.addScaledVector(a[6],.743125*s*s-.247708),t.addScaledVector(a[7],2*.429043*i*s),t.addScaledVector(a[8],.429043*(i*i-r*r)),t}add(e){for(let t=0;t<9;t++)this.coefficients[t].add(e.coefficients[t]);return this}addScaledSH(e,t){for(let i=0;i<9;i++)this.coefficients[i].addScaledVector(e.coefficients[i],t);return this}scale(e){for(let t=0;t<9;t++)this.coefficients[t].multiplyScalar(e);return this}lerp(e,t){for(let i=0;i<9;i++)this.coefficients[i].lerp(e.coefficients[i],t);return this}equals(e){for(let t=0;t<9;t++)if(!this.coefficients[t].equals(e.coefficients[t]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,t=0){const i=this.coefficients;for(let r=0;r<9;r++)i[r].fromArray(e,t+r*3);return this}toArray(e=[],t=0){const i=this.coefficients;for(let r=0;r<9;r++)i[r].toArray(e,t+r*3);return e}static getBasisAt(e,t){const i=e.x,r=e.y,s=e.z;t[0]=.282095,t[1]=.488603*r,t[2]=.488603*s,t[3]=.488603*i,t[4]=1.092548*i*r,t[5]=1.092548*r*s,t[6]=.315392*(3*s*s-1),t[7]=1.092548*i*s,t[8]=.546274*(i*i-r*r)}}class SU extends $p{constructor(e=new xU,t=1){super(void 0,t),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const t=super.toJSON(e);return t.object.sh=this.sh.toArray(),t}}class iE extends Vl{constructor(e){super(e),this.textures={}}load(e,t,i,r){const s=this,a=new Hc(s.manager);a.setPath(s.path),a.setRequestHeader(s.requestHeader),a.setWithCredentials(s.withCredentials),a.load(e,function(o){try{t(s.parse(JSON.parse(o)))}catch(l){r?r(l):console.error(l),s.manager.itemError(e)}},i,r)}parse(e){const t=this.textures;function i(s){return t[s]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",s),t[s]}const r=this.createMaterialFromType(e.type);if(e.uuid!==void 0&&(r.uuid=e.uuid),e.name!==void 0&&(r.name=e.name),e.color!==void 0&&r.color!==void 0&&r.color.setHex(e.color),e.roughness!==void 0&&(r.roughness=e.roughness),e.metalness!==void 0&&(r.metalness=e.metalness),e.sheen!==void 0&&(r.sheen=e.sheen),e.sheenColor!==void 0&&(r.sheenColor=new yn().setHex(e.sheenColor)),e.sheenRoughness!==void 0&&(r.sheenRoughness=e.sheenRoughness),e.emissive!==void 0&&r.emissive!==void 0&&r.emissive.setHex(e.emissive),e.specular!==void 0&&r.specular!==void 0&&r.specular.setHex(e.specular),e.specularIntensity!==void 0&&(r.specularIntensity=e.specularIntensity),e.specularColor!==void 0&&r.specularColor!==void 0&&r.specularColor.setHex(e.specularColor),e.shininess!==void 0&&(r.shininess=e.shininess),e.clearcoat!==void 0&&(r.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=e.clearcoatRoughness),e.dispersion!==void 0&&(r.dispersion=e.dispersion),e.iridescence!==void 0&&(r.iridescence=e.iridescence),e.iridescenceIOR!==void 0&&(r.iridescenceIOR=e.iridescenceIOR),e.iridescenceThicknessRange!==void 0&&(r.iridescenceThicknessRange=e.iridescenceThicknessRange),e.transmission!==void 0&&(r.transmission=e.transmission),e.thickness!==void 0&&(r.thickness=e.thickness),e.attenuationDistance!==void 0&&(r.attenuationDistance=e.attenuationDistance),e.attenuationColor!==void 0&&r.attenuationColor!==void 0&&r.attenuationColor.setHex(e.attenuationColor),e.anisotropy!==void 0&&(r.anisotropy=e.anisotropy),e.anisotropyRotation!==void 0&&(r.anisotropyRotation=e.anisotropyRotation),e.fog!==void 0&&(r.fog=e.fog),e.flatShading!==void 0&&(r.flatShading=e.flatShading),e.blending!==void 0&&(r.blending=e.blending),e.combine!==void 0&&(r.combine=e.combine),e.side!==void 0&&(r.side=e.side),e.shadowSide!==void 0&&(r.shadowSide=e.shadowSide),e.opacity!==void 0&&(r.opacity=e.opacity),e.transparent!==void 0&&(r.transparent=e.transparent),e.alphaTest!==void 0&&(r.alphaTest=e.alphaTest),e.alphaHash!==void 0&&(r.alphaHash=e.alphaHash),e.depthFunc!==void 0&&(r.depthFunc=e.depthFunc),e.depthTest!==void 0&&(r.depthTest=e.depthTest),e.depthWrite!==void 0&&(r.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(r.colorWrite=e.colorWrite),e.blendSrc!==void 0&&(r.blendSrc=e.blendSrc),e.blendDst!==void 0&&(r.blendDst=e.blendDst),e.blendEquation!==void 0&&(r.blendEquation=e.blendEquation),e.blendSrcAlpha!==void 0&&(r.blendSrcAlpha=e.blendSrcAlpha),e.blendDstAlpha!==void 0&&(r.blendDstAlpha=e.blendDstAlpha),e.blendEquationAlpha!==void 0&&(r.blendEquationAlpha=e.blendEquationAlpha),e.blendColor!==void 0&&r.blendColor!==void 0&&r.blendColor.setHex(e.blendColor),e.blendAlpha!==void 0&&(r.blendAlpha=e.blendAlpha),e.stencilWriteMask!==void 0&&(r.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(r.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(r.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(r.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(r.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(r.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(r.stencilZPass=e.stencilZPass),e.stencilWrite!==void 0&&(r.stencilWrite=e.stencilWrite),e.wireframe!==void 0&&(r.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(r.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(r.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(r.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(r.rotation=e.rotation),e.linewidth!==void 0&&(r.linewidth=e.linewidth),e.dashSize!==void 0&&(r.dashSize=e.dashSize),e.gapSize!==void 0&&(r.gapSize=e.gapSize),e.scale!==void 0&&(r.scale=e.scale),e.polygonOffset!==void 0&&(r.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(r.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(r.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(r.dithering=e.dithering),e.alphaToCoverage!==void 0&&(r.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(r.premultipliedAlpha=e.premultipliedAlpha),e.forceSinglePass!==void 0&&(r.forceSinglePass=e.forceSinglePass),e.visible!==void 0&&(r.visible=e.visible),e.toneMapped!==void 0&&(r.toneMapped=e.toneMapped),e.userData!==void 0&&(r.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?r.vertexColors=e.vertexColors>0:r.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const s in e.uniforms){const a=e.uniforms[s];switch(r.uniforms[s]={},a.type){case"t":r.uniforms[s].value=i(a.value);break;case"c":r.uniforms[s].value=new yn().setHex(a.value);break;case"v2":r.uniforms[s].value=new Lt().fromArray(a.value);break;case"v3":r.uniforms[s].value=new me().fromArray(a.value);break;case"v4":r.uniforms[s].value=new _r().fromArray(a.value);break;case"m3":r.uniforms[s].value=new Oi().fromArray(a.value);break;case"m4":r.uniforms[s].value=new mi().fromArray(a.value);break;default:r.uniforms[s].value=a.value}}if(e.defines!==void 0&&(r.defines=e.defines),e.vertexShader!==void 0&&(r.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(r.fragmentShader=e.fragmentShader),e.glslVersion!==void 0&&(r.glslVersion=e.glslVersion),e.extensions!==void 0)for(const s in e.extensions)r.extensions[s]=e.extensions[s];if(e.lights!==void 0&&(r.lights=e.lights),e.clipping!==void 0&&(r.clipping=e.clipping),e.size!==void 0&&(r.size=e.size),e.sizeAttenuation!==void 0&&(r.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(r.map=i(e.map)),e.matcap!==void 0&&(r.matcap=i(e.matcap)),e.alphaMap!==void 0&&(r.alphaMap=i(e.alphaMap)),e.bumpMap!==void 0&&(r.bumpMap=i(e.bumpMap)),e.bumpScale!==void 0&&(r.bumpScale=e.bumpScale),e.normalMap!==void 0&&(r.normalMap=i(e.normalMap)),e.normalMapType!==void 0&&(r.normalMapType=e.normalMapType),e.normalScale!==void 0){let s=e.normalScale;Array.isArray(s)===!1&&(s=[s,s]),r.normalScale=new Lt().fromArray(s)}return e.displacementMap!==void 0&&(r.displacementMap=i(e.displacementMap)),e.displacementScale!==void 0&&(r.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(r.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(r.roughnessMap=i(e.roughnessMap)),e.metalnessMap!==void 0&&(r.metalnessMap=i(e.metalnessMap)),e.emissiveMap!==void 0&&(r.emissiveMap=i(e.emissiveMap)),e.emissiveIntensity!==void 0&&(r.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(r.specularMap=i(e.specularMap)),e.specularIntensityMap!==void 0&&(r.specularIntensityMap=i(e.specularIntensityMap)),e.specularColorMap!==void 0&&(r.specularColorMap=i(e.specularColorMap)),e.envMap!==void 0&&(r.envMap=i(e.envMap)),e.envMapRotation!==void 0&&r.envMapRotation.fromArray(e.envMapRotation),e.envMapIntensity!==void 0&&(r.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(r.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(r.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(r.lightMap=i(e.lightMap)),e.lightMapIntensity!==void 0&&(r.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(r.aoMap=i(e.aoMap)),e.aoMapIntensity!==void 0&&(r.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(r.gradientMap=i(e.gradientMap)),e.clearcoatMap!==void 0&&(r.clearcoatMap=i(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(r.clearcoatRoughnessMap=i(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(r.clearcoatNormalMap=i(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(r.clearcoatNormalScale=new Lt().fromArray(e.clearcoatNormalScale)),e.iridescenceMap!==void 0&&(r.iridescenceMap=i(e.iridescenceMap)),e.iridescenceThicknessMap!==void 0&&(r.iridescenceThicknessMap=i(e.iridescenceThicknessMap)),e.transmissionMap!==void 0&&(r.transmissionMap=i(e.transmissionMap)),e.thicknessMap!==void 0&&(r.thicknessMap=i(e.thicknessMap)),e.anisotropyMap!==void 0&&(r.anisotropyMap=i(e.anisotropyMap)),e.sheenColorMap!==void 0&&(r.sheenColorMap=i(e.sheenColorMap)),e.sheenRoughnessMap!==void 0&&(r.sheenRoughnessMap=i(e.sheenRoughnessMap)),r}setTextures(e){return this.textures=e,this}createMaterialFromType(e){return iE.createMaterialFromType(e)}static createMaterialFromType(e){const t={ShadowMaterial:Jz,SpriteMaterial:AC,RawShaderMaterial:eU,ShaderMaterial:pc,PointsMaterial:RC,MeshPhysicalMaterial:tU,MeshStandardMaterial:zC,MeshPhongMaterial:nU,MeshToonMaterial:iU,MeshNormalMaterial:rU,MeshLambertMaterial:sU,MeshDepthMaterial:UC,MeshDistanceMaterial:BC,MeshBasicMaterial:Cd,MeshMatcapMaterial:aU,LineDashedMaterial:oU,LineBasicMaterial:Fl,Material:il};return new t[e]}}class rA{static extractUrlBase(e){const t=e.lastIndexOf("/");return t===-1?"./":e.slice(0,t+1)}static resolveURL(e,t){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(t)&&/^\//.test(e)&&(t=t.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:t+e)}}class wU extends zi{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){const e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class EU extends Vl{constructor(e){super(e)}load(e,t,i,r){const s=this,a=new Hc(s.manager);a.setPath(s.path),a.setRequestHeader(s.requestHeader),a.setWithCredentials(s.withCredentials),a.load(e,function(o){try{t(s.parse(JSON.parse(o)))}catch(l){r?r(l):console.error(l),s.manager.itemError(e)}},i,r)}parse(e){const t={},i={};function r(y,x){if(t[x]!==void 0)return t[x];const E=y.interleavedBuffers[x],w=s(y,E.buffer),P=Gv(E.type,w),D=new Bw(P,E.stride);return D.uuid=E.uuid,t[x]=D,D}function s(y,x){if(i[x]!==void 0)return i[x];const E=y.arrayBuffers[x],w=new Uint32Array(E).buffer;return i[x]=w,w}const a=e.isInstancedBufferGeometry?new wU:new zi,o=e.data.index;if(o!==void 0){const y=Gv(o.type,o.array);a.setIndex(new Qr(y,1))}const l=e.data.attributes;for(const y in l){const x=l[y];let T;if(x.isInterleavedBufferAttribute){const E=r(e.data,x.data);T=new vg(E,x.itemSize,x.offset,x.normalized)}else{const E=Gv(x.type,x.array),w=x.isInstancedBufferAttribute?yy:Qr;T=new w(E,x.itemSize,x.normalized)}x.name!==void 0&&(T.name=x.name),x.usage!==void 0&&T.setUsage(x.usage),a.setAttribute(y,T)}const u=e.data.morphAttributes;if(u)for(const y in u){const x=u[y],T=[];for(let E=0,w=x.length;E<w;E++){const P=x[E];let D;if(P.isInterleavedBufferAttribute){const N=r(e.data,P.data);D=new vg(N,P.itemSize,P.offset,P.normalized)}else{const N=Gv(P.type,P.array);D=new Qr(N,P.itemSize,P.normalized)}P.name!==void 0&&(D.name=P.name),T.push(D)}a.morphAttributes[y]=T}e.data.morphTargetsRelative&&(a.morphTargetsRelative=!0);const m=e.data.groups||e.data.drawcalls||e.data.offsets;if(m!==void 0)for(let y=0,x=m.length;y!==x;++y){const T=m[y];a.addGroup(T.start,T.count,T.materialIndex)}const v=e.data.boundingSphere;return v!==void 0&&(a.boundingSphere=new Do().fromJSON(v)),e.name&&(a.name=e.name),e.userData&&(a.userData=e.userData),a}}class Bie extends Vl{constructor(e){super(e)}load(e,t,i,r){const s=this,a=this.path===""?rA.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||a;const o=new Hc(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(l){let u=null;try{u=JSON.parse(l)}catch(m){r!==void 0&&r(m),console.error("THREE:ObjectLoader: Can't parse "+e+".",m.message);return}const d=u.metadata;if(d===void 0||d.type===void 0||d.type.toLowerCase()==="geometry"){r!==void 0&&r(new Error("THREE.ObjectLoader: Can't load "+e)),console.error("THREE.ObjectLoader: Can't load "+e);return}s.parse(u,t)},i,r)}async loadAsync(e,t){const i=this,r=this.path===""?rA.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||r;const s=new Hc(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials);const a=await s.loadAsync(e,t),o=JSON.parse(a),l=o.metadata;if(l===void 0||l.type===void 0||l.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return await i.parseAsync(o)}parse(e,t){const i=this.parseAnimations(e.animations),r=this.parseShapes(e.shapes),s=this.parseGeometries(e.geometries,r),a=this.parseImages(e.images,function(){t!==void 0&&t(u)}),o=this.parseTextures(e.textures,a),l=this.parseMaterials(e.materials,o),u=this.parseObject(e.object,s,l,o,i),d=this.parseSkeletons(e.skeletons,u);if(this.bindSkeletons(u,d),this.bindLightTargets(u),t!==void 0){let m=!1;for(const v in a)if(a[v].data instanceof HTMLImageElement){m=!0;break}m===!1&&t(u)}return u}async parseAsync(e){const t=this.parseAnimations(e.animations),i=this.parseShapes(e.shapes),r=this.parseGeometries(e.geometries,i),s=await this.parseImagesAsync(e.images),a=this.parseTextures(e.textures,s),o=this.parseMaterials(e.materials,a),l=this.parseObject(e.object,r,o,a,t),u=this.parseSkeletons(e.skeletons,l);return this.bindSkeletons(l,u),this.bindLightTargets(l),l}parseShapes(e){const t={};if(e!==void 0)for(let i=0,r=e.length;i<r;i++){const s=new fg().fromJSON(e[i]);t[s.uuid]=s}return t}parseSkeletons(e,t){const i={},r={};if(t.traverse(function(s){s.isBone&&(r[s.uuid]=s)}),e!==void 0)for(let s=0,a=e.length;s<a;s++){const o=new kw().fromJSON(e[s],r);i[o.uuid]=o}return i}parseGeometries(e,t){const i={};if(e!==void 0){const r=new EU;for(let s=0,a=e.length;s<a;s++){let o;const l=e[s];switch(l.type){case"BufferGeometry":case"InstancedBufferGeometry":o=r.parse(l);break;default:l.type in FD?o=FD[l.type].fromJSON(l,t):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${l.type}"`)}o.uuid=l.uuid,l.name!==void 0&&(o.name=l.name),l.userData!==void 0&&(o.userData=l.userData),i[l.uuid]=o}}return i}parseMaterials(e,t){const i={},r={};if(e!==void 0){const s=new iE;s.setTextures(t);for(let a=0,o=e.length;a<o;a++){const l=e[a];i[l.uuid]===void 0&&(i[l.uuid]=s.parse(l)),r[l.uuid]=i[l.uuid]}}return r}parseAnimations(e){const t={};if(e!==void 0)for(let i=0;i<e.length;i++){const r=e[i],s=A_.parse(r);t[s.uuid]=s}return t}parseImages(e,t){const i=this,r={};let s;function a(l){return i.manager.itemStart(l),s.load(l,function(){i.manager.itemEnd(l)},void 0,function(){i.manager.itemError(l),i.manager.itemEnd(l)})}function o(l){if(typeof l=="string"){const u=l,d=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(u)?u:i.resourcePath+u;return a(d)}else return l.data?{data:Gv(l.type,l.data),width:l.width,height:l.height}:null}if(e!==void 0&&e.length>0){const l=new tE(t);s=new C_(l),s.setCrossOrigin(this.crossOrigin);for(let u=0,d=e.length;u<d;u++){const m=e[u],v=m.url;if(Array.isArray(v)){const y=[];for(let x=0,T=v.length;x<T;x++){const E=v[x],w=o(E);w!==null&&(w instanceof HTMLImageElement?y.push(w):y.push(new hf(w.data,w.width,w.height)))}r[m.uuid]=new Dp(y)}else{const y=o(m.url);r[m.uuid]=new Dp(y)}}}return r}async parseImagesAsync(e){const t=this,i={};let r;async function s(a){if(typeof a=="string"){const o=a,l=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(o)?o:t.resourcePath+o;return await r.loadAsync(l)}else return a.data?{data:Gv(a.type,a.data),width:a.width,height:a.height}:null}if(e!==void 0&&e.length>0){r=new C_(this.manager),r.setCrossOrigin(this.crossOrigin);for(let a=0,o=e.length;a<o;a++){const l=e[a],u=l.url;if(Array.isArray(u)){const d=[];for(let m=0,v=u.length;m<v;m++){const y=u[m],x=await s(y);x!==null&&(x instanceof HTMLImageElement?d.push(x):d.push(new hf(x.data,x.width,x.height)))}i[l.uuid]=new Dp(d)}else{const d=await s(l.url);i[l.uuid]=new Dp(d)}}}return i}parseTextures(e,t){function i(s,a){return typeof s=="number"?s:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",s),a[s])}const r={};if(e!==void 0)for(let s=0,a=e.length;s<a;s++){const o=e[s];o.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',o.uuid),t[o.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",o.image);const l=t[o.image],u=l.data;let d;Array.isArray(u)?(d=new W_,u.length===6&&(d.needsUpdate=!0)):(u&&u.data?d=new hf:d=new zr,u&&(d.needsUpdate=!0)),d.source=l,d.uuid=o.uuid,o.name!==void 0&&(d.name=o.name),o.mapping!==void 0&&(d.mapping=i(o.mapping,kie)),o.channel!==void 0&&(d.channel=o.channel),o.offset!==void 0&&d.offset.fromArray(o.offset),o.repeat!==void 0&&d.repeat.fromArray(o.repeat),o.center!==void 0&&d.center.fromArray(o.center),o.rotation!==void 0&&(d.rotation=o.rotation),o.wrap!==void 0&&(d.wrapS=i(o.wrap[0],$D),d.wrapT=i(o.wrap[1],$D)),o.format!==void 0&&(d.format=o.format),o.internalFormat!==void 0&&(d.internalFormat=o.internalFormat),o.type!==void 0&&(d.type=o.type),o.colorSpace!==void 0&&(d.colorSpace=o.colorSpace),o.minFilter!==void 0&&(d.minFilter=i(o.minFilter,qD)),o.magFilter!==void 0&&(d.magFilter=i(o.magFilter,qD)),o.anisotropy!==void 0&&(d.anisotropy=o.anisotropy),o.flipY!==void 0&&(d.flipY=o.flipY),o.generateMipmaps!==void 0&&(d.generateMipmaps=o.generateMipmaps),o.premultiplyAlpha!==void 0&&(d.premultiplyAlpha=o.premultiplyAlpha),o.unpackAlignment!==void 0&&(d.unpackAlignment=o.unpackAlignment),o.compareFunction!==void 0&&(d.compareFunction=o.compareFunction),o.userData!==void 0&&(d.userData=o.userData),r[o.uuid]=d}return r}parseObject(e,t,i,r,s){let a;function o(v){return t[v]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",v),t[v]}function l(v){if(v!==void 0){if(Array.isArray(v)){const y=[];for(let x=0,T=v.length;x<T;x++){const E=v[x];i[E]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",E),y.push(i[E])}return y}return i[v]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",v),i[v]}}function u(v){return r[v]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",v),r[v]}let d,m;switch(e.type){case"Scene":a=new X_,e.background!==void 0&&(Number.isInteger(e.background)?a.background=new yn(e.background):a.background=u(e.background)),e.environment!==void 0&&(a.environment=u(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?a.fog=new Uw(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(a.fog=new zw(e.fog.color,e.fog.density)),e.fog.name!==""&&(a.fog.name=e.fog.name)),e.backgroundBlurriness!==void 0&&(a.backgroundBlurriness=e.backgroundBlurriness),e.backgroundIntensity!==void 0&&(a.backgroundIntensity=e.backgroundIntensity),e.backgroundRotation!==void 0&&a.backgroundRotation.fromArray(e.backgroundRotation),e.environmentIntensity!==void 0&&(a.environmentIntensity=e.environmentIntensity),e.environmentRotation!==void 0&&a.environmentRotation.fromArray(e.environmentRotation);break;case"PerspectiveCamera":a=new fa(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(a.focus=e.focus),e.zoom!==void 0&&(a.zoom=e.zoom),e.filmGauge!==void 0&&(a.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(a.filmOffset=e.filmOffset),e.view!==void 0&&(a.view=Object.assign({},e.view));break;case"OrthographicCamera":a=new gd(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(a.zoom=e.zoom),e.view!==void 0&&(a.view=Object.assign({},e.view));break;case"AmbientLight":a=new _U(e.color,e.intensity);break;case"DirectionalLight":a=new yU(e.color,e.intensity),a.target=e.target||"";break;case"PointLight":a=new vU(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":a=new bU(e.color,e.intensity,e.width,e.height);break;case"SpotLight":a=new gU(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay),a.target=e.target||"";break;case"HemisphereLight":a=new mU(e.color,e.groundColor,e.intensity);break;case"LightProbe":a=new SU().fromJSON(e);break;case"SkinnedMesh":d=o(e.geometry),m=l(e.material),a=new zz(d,m),e.bindMode!==void 0&&(a.bindMode=e.bindMode),e.bindMatrix!==void 0&&a.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(a.skeleton=e.skeleton);break;case"Mesh":d=o(e.geometry),m=l(e.material),a=new Gs(d,m);break;case"InstancedMesh":d=o(e.geometry),m=l(e.material);const v=e.count,y=e.instanceMatrix,x=e.instanceColor;a=new Uz(d,m,v),a.instanceMatrix=new yy(new Float32Array(y.array),16),x!==void 0&&(a.instanceColor=new yy(new Float32Array(x.array),x.itemSize));break;case"BatchedMesh":d=o(e.geometry),m=l(e.material),a=new Bz(e.maxInstanceCount,e.maxVertexCount,e.maxIndexCount,m),a.geometry=d,a.perObjectFrustumCulled=e.perObjectFrustumCulled,a.sortObjects=e.sortObjects,a._drawRanges=e.drawRanges,a._reservedRanges=e.reservedRanges,a._geometryInfo=e.geometryInfo.map(T=>{let E=null,w=null;return T.boundingBox!==void 0&&(E=new tl().fromJSON(T.boundingBox)),T.boundingSphere!==void 0&&(w=new Do().fromJSON(T.boundingSphere)),{...T,boundingBox:E,boundingSphere:w}}),a._instanceInfo=e.instanceInfo,a._availableInstanceIds=e._availableInstanceIds,a._availableGeometryIds=e._availableGeometryIds,a._nextIndexStart=e.nextIndexStart,a._nextVertexStart=e.nextVertexStart,a._geometryCount=e.geometryCount,a._maxInstanceCount=e.maxInstanceCount,a._maxVertexCount=e.maxVertexCount,a._maxIndexCount=e.maxIndexCount,a._geometryInitialized=e.geometryInitialized,a._matricesTexture=u(e.matricesTexture.uuid),a._indirectTexture=u(e.indirectTexture.uuid),e.colorsTexture!==void 0&&(a._colorsTexture=u(e.colorsTexture.uuid)),e.boundingSphere!==void 0&&(a.boundingSphere=new Do().fromJSON(e.boundingSphere)),e.boundingBox!==void 0&&(a.boundingBox=new tl().fromJSON(e.boundingBox));break;case"LOD":a=new Iz;break;case"Line":a=new kp(o(e.geometry),l(e.material));break;case"LineLoop":a=new kz(o(e.geometry),l(e.material));break;case"LineSegments":a=new vh(o(e.geometry),l(e.material));break;case"PointCloud":case"Points":a=new Hz(o(e.geometry),l(e.material));break;case"Sprite":a=new Nz(l(e.material));break;case"Group":a=new jv;break;case"Bone":a=new CC;break;default:a=new br}if(a.uuid=e.uuid,e.name!==void 0&&(a.name=e.name),e.matrix!==void 0?(a.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(a.matrixAutoUpdate=e.matrixAutoUpdate),a.matrixAutoUpdate&&a.matrix.decompose(a.position,a.quaternion,a.scale)):(e.position!==void 0&&a.position.fromArray(e.position),e.rotation!==void 0&&a.rotation.fromArray(e.rotation),e.quaternion!==void 0&&a.quaternion.fromArray(e.quaternion),e.scale!==void 0&&a.scale.fromArray(e.scale)),e.up!==void 0&&a.up.fromArray(e.up),e.castShadow!==void 0&&(a.castShadow=e.castShadow),e.receiveShadow!==void 0&&(a.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.intensity!==void 0&&(a.shadow.intensity=e.shadow.intensity),e.shadow.bias!==void 0&&(a.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(a.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(a.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&a.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(a.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(a.visible=e.visible),e.frustumCulled!==void 0&&(a.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(a.renderOrder=e.renderOrder),e.userData!==void 0&&(a.userData=e.userData),e.layers!==void 0&&(a.layers.mask=e.layers),e.children!==void 0){const v=e.children;for(let y=0;y<v.length;y++)a.add(this.parseObject(v[y],t,i,r,s))}if(e.animations!==void 0){const v=e.animations;for(let y=0;y<v.length;y++){const x=v[y];a.animations.push(s[x])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(a.autoUpdate=e.autoUpdate);const v=e.levels;for(let y=0;y<v.length;y++){const x=v[y],T=a.getObjectByProperty("uuid",x.object);T!==void 0&&a.addLevel(T,x.distance,x.hysteresis)}}return a}bindSkeletons(e,t){Object.keys(t).length!==0&&e.traverse(function(i){if(i.isSkinnedMesh===!0&&i.skeleton!==void 0){const r=t[i.skeleton];r===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",i.skeleton):i.bind(r,i.bindMatrix)}})}bindLightTargets(e){e.traverse(function(t){if(t.isDirectionalLight||t.isSpotLight){const i=t.target,r=e.getObjectByProperty("uuid",i);r!==void 0?t.target=r:t.target=new br}})}}const kie={UVMapping:Up,CubeReflectionMapping:fh,CubeRefractionMapping:Bp,EquirectangularReflectionMapping:uy,EquirectangularRefractionMapping:d_,CubeUVReflectionMapping:My},$D={RepeatWrapping:p_,ClampToEdgeWrapping:Ra,MirroredRepeatWrapping:m_},qD={NearestFilter:Po,NearestMipmapNearestFilter:pC,NearestMipmapLinearFilter:Vv,LinearFilter:Or,LinearMipmapNearestFilter:$0,LinearMipmapLinearFilter:ih},mM=new WeakMap;class Hie extends Vl{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,t,i,r){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,a=rh.get(`image-bitmap:${e}`);if(a!==void 0){if(s.manager.itemStart(e),a.then){a.then(u=>{if(mM.has(a)===!0)r&&r(mM.get(a)),s.manager.itemError(e),s.manager.itemEnd(e);else return t&&t(u),s.manager.itemEnd(e),u});return}return setTimeout(function(){t&&t(a),s.manager.itemEnd(e)},0),a}const o={};o.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",o.headers=this.requestHeader;const l=fetch(e,o).then(function(u){return u.blob()}).then(function(u){return createImageBitmap(u,Object.assign(s.options,{colorSpaceConversion:"none"}))}).then(function(u){return rh.add(`image-bitmap:${e}`,u),t&&t(u),s.manager.itemEnd(e),u}).catch(function(u){r&&r(u),mM.set(l,u),rh.remove(`image-bitmap:${e}`),s.manager.itemError(e),s.manager.itemEnd(e)});rh.add(`image-bitmap:${e}`,l),s.manager.itemStart(e)}}let nx,jC=class{static getContext(){return nx===void 0&&(nx=new(window.AudioContext||window.webkitAudioContext)),nx}static setContext(e){nx=e}};class Fie extends Vl{constructor(e){super(e)}load(e,t,i,r){const s=this,a=new Hc(this.manager);a.setResponseType("arraybuffer"),a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,function(l){try{const u=l.slice(0);jC.getContext().decodeAudioData(u,function(m){t(m)}).catch(o)}catch(u){o(u)}},i,r);function o(l){r?r(l):console.error(l),s.manager.itemError(e)}}}const WD=new mi,XD=new mi,Lm=new mi;class Vie{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new fa,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new fa,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const t=this._cache;if(t.focus!==e.focus||t.fov!==e.fov||t.aspect!==e.aspect*this.aspect||t.near!==e.near||t.far!==e.far||t.zoom!==e.zoom||t.eyeSep!==this.eyeSep){t.focus=e.focus,t.fov=e.fov,t.aspect=e.aspect*this.aspect,t.near=e.near,t.far=e.far,t.zoom=e.zoom,t.eyeSep=this.eyeSep,Lm.copy(e.projectionMatrix);const r=t.eyeSep/2,s=r*t.near/t.focus,a=t.near*Math.tan(ug*t.fov*.5)/t.zoom;let o,l;XD.elements[12]=-r,WD.elements[12]=r,o=-a*t.aspect+s,l=a*t.aspect+s,Lm.elements[0]=2*t.near/(l-o),Lm.elements[8]=(l+o)/(l-o),this.cameraL.projectionMatrix.copy(Lm),o=-a*t.aspect-s,l=a*t.aspect-s,Lm.elements[0]=2*t.near/(l-o),Lm.elements[8]=(l+o)/(l-o),this.cameraR.projectionMatrix.copy(Lm)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(XD),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(WD)}}class TU extends fa{constructor(e=[]){super(),this.isArrayCamera=!0,this.isMultiViewCamera=!1,this.cameras=e}}class $C{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=performance.now(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const t=performance.now();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}}const Nm=new me,gM=new el,Gie=new me,Im=new me,zm=new me;class jie extends br{constructor(){super(),this.type="AudioListener",this.context=jC.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new $C}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const t=this.context.listener;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(Nm,gM,Gie),Im.set(0,0,-1).applyQuaternion(gM),zm.set(0,1,0).applyQuaternion(gM),t.positionX){const i=this.context.currentTime+this.timeDelta;t.positionX.linearRampToValueAtTime(Nm.x,i),t.positionY.linearRampToValueAtTime(Nm.y,i),t.positionZ.linearRampToValueAtTime(Nm.z,i),t.forwardX.linearRampToValueAtTime(Im.x,i),t.forwardY.linearRampToValueAtTime(Im.y,i),t.forwardZ.linearRampToValueAtTime(Im.z,i),t.upX.linearRampToValueAtTime(zm.x,i),t.upY.linearRampToValueAtTime(zm.y,i),t.upZ.linearRampToValueAtTime(zm.z,i)}else t.setPosition(Nm.x,Nm.y,Nm.z),t.setOrientation(Im.x,Im.y,Im.z,zm.x,zm.y,zm.z)}}class MU extends br{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.loopStart=this.loopStart,t.loopEnd=this.loopEnd,t.onended=this.onEnded.bind(this),t.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=t,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(e=0){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source!==null&&(this.source.stop(this.context.currentTime+e),this.source.onended=null),this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this._connected!==!1){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){return this.detune=e,this.isPlaying===!0&&this.source.detune!==void 0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1,this._progress=0}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}copy(e,t){return super.copy(e,t),e.sourceType!=="buffer"?(console.warn("THREE.Audio: Audio source type cannot be copied."),this):(this.autoplay=e.autoplay,this.buffer=e.buffer,this.detune=e.detune,this.loop=e.loop,this.loopStart=e.loopStart,this.loopEnd=e.loopEnd,this.offset=e.offset,this.duration=e.duration,this.playbackRate=e.playbackRate,this.hasPlaybackControl=e.hasPlaybackControl,this.sourceType=e.sourceType,this.filters=e.filters.slice(),this)}clone(e){return new this.constructor(this.listener).copy(this,e)}}const Um=new me,YD=new el,$ie=new me,Bm=new me;class qie extends MU{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}connect(){return super.connect(),this.panner.connect(this.gain),this}disconnect(){return super.disconnect(),this.panner.disconnect(this.gain),this}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,t,i){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=t,this.panner.coneOuterGain=i,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(Um,YD,$ie),Bm.set(0,0,1).applyQuaternion(YD);const t=this.panner;if(t.positionX){const i=this.context.currentTime+this.listener.timeDelta;t.positionX.linearRampToValueAtTime(Um.x,i),t.positionY.linearRampToValueAtTime(Um.y,i),t.positionZ.linearRampToValueAtTime(Um.z,i),t.orientationX.linearRampToValueAtTime(Bm.x,i),t.orientationY.linearRampToValueAtTime(Bm.y,i),t.orientationZ.linearRampToValueAtTime(Bm.z,i)}else t.setPosition(Um.x,Um.y,Um.z),t.setOrientation(Bm.x,Bm.y,Bm.z)}}class Wie{constructor(e,t=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=t,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const t=this.getFrequencyData();for(let i=0;i<t.length;i++)e+=t[i];return e/t.length}}class AU{constructor(e,t,i){this.binding=e,this.valueSize=i;let r,s,a;switch(t){case"quaternion":r=this._slerp,s=this._slerpAdditive,a=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(i*6),this._workIndex=5;break;case"string":case"bool":r=this._select,s=this._select,a=this._setAdditiveIdentityOther,this.buffer=new Array(i*5);break;default:r=this._lerp,s=this._lerpAdditive,a=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(i*5)}this._mixBufferRegion=r,this._mixBufferRegionAdditive=s,this._setIdentity=a,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,t){const i=this.buffer,r=this.valueSize,s=e*r+r;let a=this.cumulativeWeight;if(a===0){for(let o=0;o!==r;++o)i[s+o]=i[o];a=t}else{a+=t;const o=t/a;this._mixBufferRegion(i,s,0,o,r)}this.cumulativeWeight=a}accumulateAdditive(e){const t=this.buffer,i=this.valueSize,r=i*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(t,r,0,e,i),this.cumulativeWeightAdditive+=e}apply(e){const t=this.valueSize,i=this.buffer,r=e*t+t,s=this.cumulativeWeight,a=this.cumulativeWeightAdditive,o=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,s<1){const l=t*this._origIndex;this._mixBufferRegion(i,r,l,1-s,t)}a>0&&this._mixBufferRegionAdditive(i,r,this._addIndex*t,1,t);for(let l=t,u=t+t;l!==u;++l)if(i[l]!==i[l+t]){o.setValue(i,r);break}}saveOriginalState(){const e=this.binding,t=this.buffer,i=this.valueSize,r=i*this._origIndex;e.getValue(t,r);for(let s=i,a=r;s!==a;++s)t[s]=t[r+s%i];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,t=e+this.valueSize;for(let i=e;i<t;i++)this.buffer[i]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,t=this._addIndex*this.valueSize;for(let i=0;i<this.valueSize;i++)this.buffer[t+i]=this.buffer[e+i]}_select(e,t,i,r,s){if(r>=.5)for(let a=0;a!==s;++a)e[t+a]=e[i+a]}_slerp(e,t,i,r){el.slerpFlat(e,t,e,t,e,i,r)}_slerpAdditive(e,t,i,r,s){const a=this._workIndex*s;el.multiplyQuaternionsFlat(e,a,e,t,e,i),el.slerpFlat(e,t,e,t,e,a,r)}_lerp(e,t,i,r,s){const a=1-r;for(let o=0;o!==s;++o){const l=t+o;e[l]=e[l]*a+e[i+o]*r}}_lerpAdditive(e,t,i,r,s){for(let a=0;a!==s;++a){const o=t+a;e[o]=e[o]+e[i+a]*r}}}const qC="\\[\\]\\.:\\/",Xie=new RegExp("["+qC+"]","g"),WC="[^"+qC+"]",Yie="[^"+qC.replace("\\.","")+"]",Zie=/((?:WC+[\/:])*)/.source.replace("WC",WC),Kie=/(WCOD+)?/.source.replace("WCOD",Yie),Qie=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",WC),Jie=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",WC),ere=new RegExp("^"+Zie+Kie+Qie+Jie+"$"),tre=["material","materials","bones","map"];class nre{constructor(e,t,i){const r=i||yr.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,r)}getValue(e,t){this.bind();const i=this._targetGroup.nCachedObjects_,r=this._bindings[i];r!==void 0&&r.getValue(e,t)}setValue(e,t){const i=this._bindings;for(let r=this._targetGroup.nCachedObjects_,s=i.length;r!==s;++r)i[r].setValue(e,t)}bind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,i=e.length;t!==i;++t)e[t].bind()}unbind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,i=e.length;t!==i;++t)e[t].unbind()}}class yr{constructor(e,t,i){this.path=t,this.parsedPath=i||yr.parseTrackName(t),this.node=yr.findNode(e,this.parsedPath.nodeName),this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,t,i){return e&&e.isAnimationObjectGroup?new yr.Composite(e,t,i):new yr(e,t,i)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(Xie,"")}static parseTrackName(e){const t=ere.exec(e);if(t===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const i={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},r=i.nodeName&&i.nodeName.lastIndexOf(".");if(r!==void 0&&r!==-1){const s=i.nodeName.substring(r+1);tre.indexOf(s)!==-1&&(i.nodeName=i.nodeName.substring(0,r),i.objectName=s)}if(i.propertyName===null||i.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return i}static findNode(e,t){if(t===void 0||t===""||t==="."||t===-1||t===e.name||t===e.uuid)return e;if(e.skeleton){const i=e.skeleton.getBoneByName(t);if(i!==void 0)return i}if(e.children){const i=function(s){for(let a=0;a<s.length;a++){const o=s[a];if(o.name===t||o.uuid===t)return o;const l=i(o.children);if(l)return l}return null},r=i(e.children);if(r)return r}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,t){e[t]=this.targetObject[this.propertyName]}_getValue_array(e,t){const i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)e[t++]=i[r]}_getValue_arrayElement(e,t){e[t]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,t){this.resolvedProperty.toArray(e,t)}_setValue_direct(e,t){this.targetObject[this.propertyName]=e[t]}_setValue_direct_setNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,t){const i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)i[r]=e[t++]}_setValue_array_setNeedsUpdate(e,t){const i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)i[r]=e[t++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,t){const i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)i[r]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,t){this.resolvedProperty[this.propertyIndex]=e[t]}_setValue_arrayElement_setNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,t){this.resolvedProperty.fromArray(e,t)}_setValue_fromArray_setNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,t){this.bind(),this.getValue(e,t)}_setValue_unbound(e,t){this.bind(),this.setValue(e,t)}bind(){let e=this.node;const t=this.parsedPath,i=t.objectName,r=t.propertyName;let s=t.propertyIndex;if(e||(e=yr.findNode(this.rootNode,t.nodeName),this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.warn("THREE.PropertyBinding: No target node found for track: "+this.path+".");return}if(i){let u=t.objectIndex;switch(i){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let d=0;d<e.length;d++)if(e[d].name===u){u=d;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}e=e.material.map;break;default:if(e[i]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[i]}if(u!==void 0){if(e[u]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[u]}}const a=e[r];if(a===void 0){const u=t.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+u+"."+r+" but it wasn't found.",e);return}let o=this.Versioning.None;this.targetObject=e,e.isMaterial===!0?o=this.Versioning.NeedsUpdate:e.isObject3D===!0&&(o=this.Versioning.MatrixWorldNeedsUpdate);let l=this.BindingType.Direct;if(s!==void 0){if(r==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[s]!==void 0&&(s=e.morphTargetDictionary[s])}l=this.BindingType.ArrayElement,this.resolvedProperty=a,this.propertyIndex=s}else a.fromArray!==void 0&&a.toArray!==void 0?(l=this.BindingType.HasFromToArray,this.resolvedProperty=a):Array.isArray(a)?(l=this.BindingType.EntireArray,this.resolvedProperty=a):this.propertyName=r;this.getValue=this.GetterByBindingType[l],this.setValue=this.SetterByBindingTypeAndVersioning[l][o]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}yr.Composite=nre;yr.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};yr.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};yr.prototype.GetterByBindingType=[yr.prototype._getValue_direct,yr.prototype._getValue_array,yr.prototype._getValue_arrayElement,yr.prototype._getValue_toArray];yr.prototype.SetterByBindingTypeAndVersioning=[[yr.prototype._setValue_direct,yr.prototype._setValue_direct_setNeedsUpdate,yr.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[yr.prototype._setValue_array,yr.prototype._setValue_array_setNeedsUpdate,yr.prototype._setValue_array_setMatrixWorldNeedsUpdate],[yr.prototype._setValue_arrayElement,yr.prototype._setValue_arrayElement_setNeedsUpdate,yr.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[yr.prototype._setValue_fromArray,yr.prototype._setValue_fromArray_setNeedsUpdate,yr.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class ire{constructor(){this.isAnimationObjectGroup=!0,this.uuid=kc(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let i=0,r=arguments.length;i!==r;++i)e[arguments[i].uuid]=i;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const t=this;this.stats={objects:{get total(){return t._objects.length},get inUse(){return this.total-t.nCachedObjects_}},get bindingsPerObject(){return t._bindings.length}}}add(){const e=this._objects,t=this._indicesByUUID,i=this._paths,r=this._parsedPaths,s=this._bindings,a=s.length;let o,l=e.length,u=this.nCachedObjects_;for(let d=0,m=arguments.length;d!==m;++d){const v=arguments[d],y=v.uuid;let x=t[y];if(x===void 0){x=l++,t[y]=x,e.push(v);for(let T=0,E=a;T!==E;++T)s[T].push(new yr(v,i[T],r[T]))}else if(x<u){o=e[x];const T=--u,E=e[T];t[E.uuid]=x,e[x]=E,t[y]=T,e[T]=v;for(let w=0,P=a;w!==P;++w){const D=s[w],N=D[T];let G=D[x];D[x]=N,G===void 0&&(G=new yr(v,i[w],r[w])),D[T]=G}}else e[x]!==o&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=u}remove(){const e=this._objects,t=this._indicesByUUID,i=this._bindings,r=i.length;let s=this.nCachedObjects_;for(let a=0,o=arguments.length;a!==o;++a){const l=arguments[a],u=l.uuid,d=t[u];if(d!==void 0&&d>=s){const m=s++,v=e[m];t[v.uuid]=d,e[d]=v,t[u]=m,e[m]=l;for(let y=0,x=r;y!==x;++y){const T=i[y],E=T[m],w=T[d];T[d]=E,T[m]=w}}}this.nCachedObjects_=s}uncache(){const e=this._objects,t=this._indicesByUUID,i=this._bindings,r=i.length;let s=this.nCachedObjects_,a=e.length;for(let o=0,l=arguments.length;o!==l;++o){const u=arguments[o],d=u.uuid,m=t[d];if(m!==void 0)if(delete t[d],m<s){const v=--s,y=e[v],x=--a,T=e[x];t[y.uuid]=m,e[m]=y,t[T.uuid]=v,e[v]=T,e.pop();for(let E=0,w=r;E!==w;++E){const P=i[E],D=P[v],N=P[x];P[m]=D,P[v]=N,P.pop()}}else{const v=--a,y=e[v];v>0&&(t[y.uuid]=m),e[m]=y,e.pop();for(let x=0,T=r;x!==T;++x){const E=i[x];E[m]=E[v],E.pop()}}}this.nCachedObjects_=s}subscribe_(e,t){const i=this._bindingsIndicesByPath;let r=i[e];const s=this._bindings;if(r!==void 0)return s[r];const a=this._paths,o=this._parsedPaths,l=this._objects,u=l.length,d=this.nCachedObjects_,m=new Array(u);r=s.length,i[e]=r,a.push(e),o.push(t),s.push(m);for(let v=d,y=l.length;v!==y;++v){const x=l[v];m[v]=new yr(x,e,t)}return m}unsubscribe_(e){const t=this._bindingsIndicesByPath,i=t[e];if(i!==void 0){const r=this._paths,s=this._parsedPaths,a=this._bindings,o=a.length-1,l=a[o],u=e[o];t[u]=i,a[i]=l,a.pop(),s[i]=s[o],s.pop(),r[i]=r[o],r.pop()}}}class CU{constructor(e,t,i=null,r=t.blendMode){this._mixer=e,this._clip=t,this._localRoot=i,this.blendMode=r;const s=t.tracks,a=s.length,o=new Array(a),l={endingStart:ng,endingEnd:ng};for(let u=0;u!==a;++u){const d=s[u].createInterpolant(null);o[u]=d,d.settings=l}this._interpolantSettings=l,this._interpolants=o,this._propertyBindings=new Array(a),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=dz,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,t){return this.loop=e,this.repetitions=t,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,t,i=!1){if(e.fadeOut(t),this.fadeIn(t),i===!0){const r=this._clip.duration,s=e._clip.duration,a=s/r,o=r/s;e.warp(1,a,t),this.warp(o,1,t)}return this}crossFadeTo(e,t,i=!1){return e.crossFadeFrom(this,t,i)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,t,i){const r=this._mixer,s=r.time,a=this.timeScale;let o=this._timeScaleInterpolant;o===null&&(o=r._lendControlInterpolant(),this._timeScaleInterpolant=o);const l=o.parameterPositions,u=o.sampleValues;return l[0]=s,l[1]=s+i,u[0]=e/a,u[1]=t/a,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,t,i,r){if(!this.enabled){this._updateWeight(e);return}const s=this._startTime;if(s!==null){const l=(e-s)*i;l<0||i===0?t=0:(this._startTime=null,t=i*l)}t*=this._updateTimeScale(e);const a=this._updateTime(t),o=this._updateWeight(e);if(o>0){const l=this._interpolants,u=this._propertyBindings;switch(this.blendMode){case bC:for(let d=0,m=l.length;d!==m;++d)l[d].evaluate(a),u[d].accumulateAdditive(o);break;case Dw:default:for(let d=0,m=l.length;d!==m;++d)l[d].evaluate(a),u[d].accumulate(r,o)}}}_updateWeight(e){let t=0;if(this.enabled){t=this.weight;const i=this._weightInterpolant;if(i!==null){const r=i.evaluate(e)[0];t*=r,e>i.parameterPositions[1]&&(this.stopFading(),r===0&&(this.enabled=!1))}}return this._effectiveWeight=t,t}_updateTimeScale(e){let t=0;if(!this.paused){t=this.timeScale;const i=this._timeScaleInterpolant;if(i!==null){const r=i.evaluate(e)[0];t*=r,e>i.parameterPositions[1]&&(this.stopWarping(),t===0?this.paused=!0:this.timeScale=t)}}return this._effectiveTimeScale=t,t}_updateTime(e){const t=this._clip.duration,i=this.loop;let r=this.time+e,s=this._loopCount;const a=i===pz;if(e===0)return s===-1?r:a&&(s&1)===1?t-r:r;if(i===hz){s===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(r>=t)r=t;else if(r<0)r=0;else{this.time=r;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(s===-1&&(e>=0?(s=0,this._setEndings(!0,this.repetitions===0,a)):this._setEndings(this.repetitions===0,!0,a)),r>=t||r<0){const o=Math.floor(r/t);r-=t*o,s+=Math.abs(o);const l=this.repetitions-s;if(l<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,r=e>0?t:0,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(l===1){const u=e<0;this._setEndings(u,!u,a)}else this._setEndings(!1,!1,a);this._loopCount=s,this.time=r,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:o})}}else this.time=r;if(a&&(s&1)===1)return t-r}return r}_setEndings(e,t,i){const r=this._interpolantSettings;i?(r.endingStart=ig,r.endingEnd=ig):(e?r.endingStart=this.zeroSlopeAtStart?ig:ng:r.endingStart=v_,t?r.endingEnd=this.zeroSlopeAtEnd?ig:ng:r.endingEnd=v_)}_scheduleFading(e,t,i){const r=this._mixer,s=r.time;let a=this._weightInterpolant;a===null&&(a=r._lendControlInterpolant(),this._weightInterpolant=a);const o=a.parameterPositions,l=a.sampleValues;return o[0]=s,l[0]=t,o[1]=s+e,l[1]=i,this}}const rre=new Float32Array(1);class sre extends gh{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,t){const i=e._localRoot||this._root,r=e._clip.tracks,s=r.length,a=e._propertyBindings,o=e._interpolants,l=i.uuid,u=this._bindingsByRootAndName;let d=u[l];d===void 0&&(d={},u[l]=d);for(let m=0;m!==s;++m){const v=r[m],y=v.name;let x=d[y];if(x!==void 0)++x.referenceCount,a[m]=x;else{if(x=a[m],x!==void 0){x._cacheIndex===null&&(++x.referenceCount,this._addInactiveBinding(x,l,y));continue}const T=t&&t._propertyBindings[m].binding.parsedPath;x=new AU(yr.create(i,y,T),v.ValueTypeName,v.getValueSize()),++x.referenceCount,this._addInactiveBinding(x,l,y),a[m]=x}o[m].resultBuffer=x.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const i=(e._localRoot||this._root).uuid,r=e._clip.uuid,s=this._actionsByClip[r];this._bindAction(e,s&&s.knownActions[0]),this._addInactiveAction(e,r,i)}const t=e._propertyBindings;for(let i=0,r=t.length;i!==r;++i){const s=t[i];s.useCount++===0&&(this._lendBinding(s),s.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const t=e._propertyBindings;for(let i=0,r=t.length;i!==r;++i){const s=t[i];--s.useCount===0&&(s.restoreOriginalState(),this._takeBackBinding(s))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const t=e._cacheIndex;return t!==null&&t<this._nActiveActions}_addInactiveAction(e,t,i){const r=this._actions,s=this._actionsByClip;let a=s[t];if(a===void 0)a={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,s[t]=a;else{const o=a.knownActions;e._byClipCacheIndex=o.length,o.push(e)}e._cacheIndex=r.length,r.push(e),a.actionByRoot[i]=e}_removeInactiveAction(e){const t=this._actions,i=t[t.length-1],r=e._cacheIndex;i._cacheIndex=r,t[r]=i,t.pop(),e._cacheIndex=null;const s=e._clip.uuid,a=this._actionsByClip,o=a[s],l=o.knownActions,u=l[l.length-1],d=e._byClipCacheIndex;u._byClipCacheIndex=d,l[d]=u,l.pop(),e._byClipCacheIndex=null;const m=o.actionByRoot,v=(e._localRoot||this._root).uuid;delete m[v],l.length===0&&delete a[s],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const t=e._propertyBindings;for(let i=0,r=t.length;i!==r;++i){const s=t[i];--s.referenceCount===0&&this._removeInactiveBinding(s)}}_lendAction(e){const t=this._actions,i=e._cacheIndex,r=this._nActiveActions++,s=t[r];e._cacheIndex=r,t[r]=e,s._cacheIndex=i,t[i]=s}_takeBackAction(e){const t=this._actions,i=e._cacheIndex,r=--this._nActiveActions,s=t[r];e._cacheIndex=r,t[r]=e,s._cacheIndex=i,t[i]=s}_addInactiveBinding(e,t,i){const r=this._bindingsByRootAndName,s=this._bindings;let a=r[t];a===void 0&&(a={},r[t]=a),a[i]=e,e._cacheIndex=s.length,s.push(e)}_removeInactiveBinding(e){const t=this._bindings,i=e.binding,r=i.rootNode.uuid,s=i.path,a=this._bindingsByRootAndName,o=a[r],l=t[t.length-1],u=e._cacheIndex;l._cacheIndex=u,t[u]=l,t.pop(),delete o[s],Object.keys(o).length===0&&delete a[r]}_lendBinding(e){const t=this._bindings,i=e._cacheIndex,r=this._nActiveBindings++,s=t[r];e._cacheIndex=r,t[r]=e,s._cacheIndex=i,t[i]=s}_takeBackBinding(e){const t=this._bindings,i=e._cacheIndex,r=--this._nActiveBindings,s=t[r];e._cacheIndex=r,t[r]=e,s._cacheIndex=i,t[i]=s}_lendControlInterpolant(){const e=this._controlInterpolants,t=this._nActiveControlInterpolants++;let i=e[t];return i===void 0&&(i=new HC(new Float32Array(2),new Float32Array(2),1,rre),i.__cacheIndex=t,e[t]=i),i}_takeBackControlInterpolant(e){const t=this._controlInterpolants,i=e.__cacheIndex,r=--this._nActiveControlInterpolants,s=t[r];e.__cacheIndex=r,t[r]=e,s.__cacheIndex=i,t[i]=s}clipAction(e,t,i){const r=t||this._root,s=r.uuid;let a=typeof e=="string"?A_.findByName(r,e):e;const o=a!==null?a.uuid:e,l=this._actionsByClip[o];let u=null;if(i===void 0&&(a!==null?i=a.blendMode:i=Dw),l!==void 0){const m=l.actionByRoot[s];if(m!==void 0&&m.blendMode===i)return m;u=l.knownActions[0],a===null&&(a=u._clip)}if(a===null)return null;const d=new CU(this,a,t,i);return this._bindAction(d,u),this._addInactiveAction(d,o,s),d}existingAction(e,t){const i=t||this._root,r=i.uuid,s=typeof e=="string"?A_.findByName(i,e):e,a=s?s.uuid:e,o=this._actionsByClip[a];return o!==void 0&&o.actionByRoot[r]||null}stopAllAction(){const e=this._actions,t=this._nActiveActions;for(let i=t-1;i>=0;--i)e[i].stop();return this}update(e){e*=this.timeScale;const t=this._actions,i=this._nActiveActions,r=this.time+=e,s=Math.sign(e),a=this._accuIndex^=1;for(let u=0;u!==i;++u)t[u]._update(r,e,s,a);const o=this._bindings,l=this._nActiveBindings;for(let u=0;u!==l;++u)o[u].apply(a);return this}setTime(e){this.time=0;for(let t=0;t<this._actions.length;t++)this._actions[t].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const t=this._actions,i=e.uuid,r=this._actionsByClip,s=r[i];if(s!==void 0){const a=s.knownActions;for(let o=0,l=a.length;o!==l;++o){const u=a[o];this._deactivateAction(u);const d=u._cacheIndex,m=t[t.length-1];u._cacheIndex=null,u._byClipCacheIndex=null,m._cacheIndex=d,t[d]=m,t.pop(),this._removeInactiveBindingsForAction(u)}delete r[i]}}uncacheRoot(e){const t=e.uuid,i=this._actionsByClip;for(const a in i){const o=i[a].actionByRoot,l=o[t];l!==void 0&&(this._deactivateAction(l),this._removeInactiveAction(l))}const r=this._bindingsByRootAndName,s=r[t];if(s!==void 0)for(const a in s){const o=s[a];o.restoreOriginalState(),this._removeInactiveBinding(o)}}uncacheAction(e,t){const i=this.existingAction(e,t);i!==null&&(this._deactivateAction(i),this._removeInactiveAction(i))}}class are extends wC{constructor(e=1,t=1,i=1,r={}){super(e,t,r),this.isRenderTarget3D=!0,this.depth=i,this.texture=new Nw(null,e,t,i),this._setTextureOptions(r),this.texture.isRenderTargetTexture=!0}}class XC{constructor(e){this.value=e}clone(){return new XC(this.value.clone===void 0?this.value:this.value.clone())}}let ore=0;class lre extends gh{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:ore++}),this.name="",this.usage=__,this.uniforms=[]}add(e){return this.uniforms.push(e),this}remove(e){const t=this.uniforms.indexOf(e);return t!==-1&&this.uniforms.splice(t,1),this}setName(e){return this.name=e,this}setUsage(e){return this.usage=e,this}dispose(){this.dispatchEvent({type:"dispose"})}copy(e){this.name=e.name,this.usage=e.usage;const t=e.uniforms;this.uniforms.length=0;for(let i=0,r=t.length;i<r;i++){const s=Array.isArray(t[i])?t[i]:[t[i]];for(let a=0;a<s.length;a++)this.uniforms.push(s[a].clone())}return this}clone(){return new this.constructor().copy(this)}}class cre extends Bw{constructor(e,t,i=1){super(e,t),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=i}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const t=super.clone(e);return t.meshPerAttribute=this.meshPerAttribute,t}toJSON(e){const t=super.toJSON(e);return t.isInstancedInterleavedBuffer=!0,t.meshPerAttribute=this.meshPerAttribute,t}}class ure{constructor(e,t,i,r,s,a=!1){this.isGLBufferAttribute=!0,this.name="",this.buffer=e,this.type=t,this.itemSize=i,this.elementSize=r,this.count=s,this.normalized=a,this.version=0}set needsUpdate(e){e===!0&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,t){return this.type=e,this.elementSize=t,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}const ZD=new mi;class YC{constructor(e,t,i=0,r=1/0){this.ray=new Eg(e,t),this.near=i,this.far=r,this.camera=null,this.layers=new gy,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,t){this.ray.set(e,t)}setFromCamera(e,t){t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):console.error("THREE.Raycaster: Unsupported camera type: "+t.type)}setFromXRController(e){return ZD.identity().extractRotation(e.matrixWorld),this.ray.origin.setFromMatrixPosition(e.matrixWorld),this.ray.direction.set(0,0,-1).applyMatrix4(ZD),this}intersectObject(e,t=!0,i=[]){return sA(e,this,i,t),i.sort(KD),i}intersectObjects(e,t=!0,i=[]){for(let r=0,s=e.length;r<s;r++)sA(e[r],this,i,t);return i.sort(KD),i}}function KD(n,e){return n.distance-e.distance}function sA(n,e,t,i){let r=!0;if(n.layers.test(e.layers)&&n.raycast(e,t)===!1&&(r=!1),r===!0&&i===!0){const s=n.children;for(let a=0,o=s.length;a<o;a++)sA(s[a],e,t,!0)}}class aA{constructor(e=1,t=0,i=0){this.radius=e,this.phi=t,this.theta=i}set(e,t,i){return this.radius=e,this.phi=t,this.theta=i,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=Ti(this.phi,1e-6,Math.PI-1e-6),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,i){return this.radius=Math.sqrt(e*e+t*t+i*i),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,i),this.phi=Math.acos(Ti(t/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class fre{constructor(e=1,t=0,i=0){this.radius=e,this.theta=t,this.y=i}set(e,t,i){return this.radius=e,this.theta=t,this.y=i,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,i){return this.radius=Math.sqrt(e*e+i*i),this.theta=Math.atan2(e,i),this.y=t,this}clone(){return new this.constructor().copy(this)}}class ZC{constructor(e,t,i,r){ZC.prototype.isMatrix2=!0,this.elements=[1,0,0,1],e!==void 0&&this.set(e,t,i,r)}identity(){return this.set(1,0,0,1),this}fromArray(e,t=0){for(let i=0;i<4;i++)this.elements[i]=e[i+t];return this}set(e,t,i,r){const s=this.elements;return s[0]=e,s[2]=t,s[1]=i,s[3]=r,this}}const QD=new Lt;class hre{constructor(e=new Lt(1/0,1/0),t=new Lt(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromPoints(e){this.makeEmpty();for(let t=0,i=e.length;t<i;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const i=QD.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(i),this.max.copy(e).add(i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,QD).distanceTo(e)}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const JD=new me,ix=new me;class dre{constructor(e=new me,t=new me){this.start=e,this.end=t}set(e,t){return this.start.copy(e),this.end.copy(t),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,t){return this.delta(t).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,t){JD.subVectors(e,this.start),ix.subVectors(this.end,this.start);const i=ix.dot(ix);let s=ix.dot(JD)/i;return t&&(s=Ti(s,0,1)),s}closestPointToPoint(e,t,i){const r=this.closestPointToPointParameter(e,t);return this.delta(i).multiplyScalar(r).add(this.start)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const eL=new me;class pre extends br{constructor(e,t){super(),this.light=e,this.matrixAutoUpdate=!1,this.color=t,this.type="SpotLightHelper";const i=new zi,r=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let a=0,o=1,l=32;a<l;a++,o++){const u=a/l*Math.PI*2,d=o/l*Math.PI*2;r.push(Math.cos(u),Math.sin(u),1,Math.cos(d),Math.sin(d),1)}i.setAttribute("position",new Nn(r,3));const s=new Fl({fog:!1,toneMapped:!1});this.cone=new vh(i,s),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),this.parent?(this.parent.updateWorldMatrix(!0),this.matrix.copy(this.parent.matrixWorld).invert().multiply(this.light.matrixWorld)):this.matrix.copy(this.light.matrixWorld),this.matrixWorld.copy(this.light.matrixWorld);const e=this.light.distance?this.light.distance:1e3,t=e*Math.tan(this.light.angle);this.cone.scale.set(t,t,e),eL.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(eL),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const bp=new me,rx=new mi,vM=new mi;class mre extends vh{constructor(e){const t=RU(e),i=new zi,r=[],s=[],a=new yn(0,0,1),o=new yn(0,1,0);for(let u=0;u<t.length;u++){const d=t[u];d.parent&&d.parent.isBone&&(r.push(0,0,0),r.push(0,0,0),s.push(a.r,a.g,a.b),s.push(o.r,o.g,o.b))}i.setAttribute("position",new Nn(r,3)),i.setAttribute("color",new Nn(s,3));const l=new Fl({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(i,l),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=t,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(e){const t=this.bones,i=this.geometry,r=i.getAttribute("position");vM.copy(this.root.matrixWorld).invert();for(let s=0,a=0;s<t.length;s++){const o=t[s];o.parent&&o.parent.isBone&&(rx.multiplyMatrices(vM,o.matrixWorld),bp.setFromMatrixPosition(rx),r.setXYZ(a,bp.x,bp.y,bp.z),rx.multiplyMatrices(vM,o.parent.matrixWorld),bp.setFromMatrixPosition(rx),r.setXYZ(a+1,bp.x,bp.y,bp.z),a+=2)}i.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose()}}function RU(n){const e=[];n.isBone===!0&&e.push(n);for(let t=0;t<n.children.length;t++)e.push(...RU(n.children[t]));return e}class gre extends Gs{constructor(e,t,i){const r=new J_(t,4,2),s=new Cd({wireframe:!0,fog:!1,toneMapped:!1});super(r,s),this.light=e,this.color=i,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const vre=new me,tL=new yn,nL=new yn;class yre extends br{constructor(e,t,i){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=i,this.type="HemisphereLightHelper";const r=new Q_(t);r.rotateY(Math.PI*.5),this.material=new Cd({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const s=r.getAttribute("position"),a=new Float32Array(s.count*3);r.setAttribute("color",new Qr(a,3)),this.add(new Gs(r,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const t=e.geometry.getAttribute("color");tL.copy(this.light.color),nL.copy(this.light.groundColor);for(let i=0,r=t.count;i<r;i++){const s=i<r/2?tL:nL;t.setXYZ(i,s.r,s.g,s.b)}t.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),e.lookAt(vre.setFromMatrixPosition(this.light.matrixWorld).negate())}}class _re extends vh{constructor(e=10,t=10,i=4473924,r=8947848){i=new yn(i),r=new yn(r);const s=t/2,a=e/t,o=e/2,l=[],u=[];for(let v=0,y=0,x=-o;v<=t;v++,x+=a){l.push(-o,0,x,o,0,x),l.push(x,0,-o,x,0,o);const T=v===s?i:r;T.toArray(u,y),y+=3,T.toArray(u,y),y+=3,T.toArray(u,y),y+=3,T.toArray(u,y),y+=3}const d=new zi;d.setAttribute("position",new Nn(l,3)),d.setAttribute("color",new Nn(u,3));const m=new Fl({vertexColors:!0,toneMapped:!1});super(d,m),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class bre extends vh{constructor(e=10,t=16,i=8,r=64,s=4473924,a=8947848){s=new yn(s),a=new yn(a);const o=[],l=[];if(t>1)for(let m=0;m<t;m++){const v=m/t*(Math.PI*2),y=Math.sin(v)*e,x=Math.cos(v)*e;o.push(0,0,0),o.push(y,0,x);const T=m&1?s:a;l.push(T.r,T.g,T.b),l.push(T.r,T.g,T.b)}for(let m=0;m<i;m++){const v=m&1?s:a,y=e-e/i*m;for(let x=0;x<r;x++){let T=x/r*(Math.PI*2),E=Math.sin(T)*y,w=Math.cos(T)*y;o.push(E,0,w),l.push(v.r,v.g,v.b),T=(x+1)/r*(Math.PI*2),E=Math.sin(T)*y,w=Math.cos(T)*y,o.push(E,0,w),l.push(v.r,v.g,v.b)}}const u=new zi;u.setAttribute("position",new Nn(o,3)),u.setAttribute("color",new Nn(l,3));const d=new Fl({vertexColors:!0,toneMapped:!1});super(u,d),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const iL=new me,sx=new me,rL=new me;class xre extends br{constructor(e,t,i){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=i,this.type="DirectionalLightHelper",t===void 0&&(t=1);let r=new zi;r.setAttribute("position",new Nn([-t,t,0,t,t,0,t,-t,0,-t,-t,0,-t,t,0],3));const s=new Fl({fog:!1,toneMapped:!1});this.lightPlane=new kp(r,s),this.add(this.lightPlane),r=new zi,r.setAttribute("position",new Nn([0,0,0,0,0,1],3)),this.targetLine=new kp(r,s),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),iL.setFromMatrixPosition(this.light.matrixWorld),sx.setFromMatrixPosition(this.light.target.matrixWorld),rL.subVectors(sx,iL),this.lightPlane.lookAt(sx),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(sx),this.targetLine.scale.z=rL.length()}}const ax=new me,Js=new Iw;class Sre extends vh{constructor(e){const t=new zi,i=new Fl({color:16777215,vertexColors:!0,toneMapped:!1}),r=[],s=[],a={};o("n1","n2"),o("n2","n4"),o("n4","n3"),o("n3","n1"),o("f1","f2"),o("f2","f4"),o("f4","f3"),o("f3","f1"),o("n1","f1"),o("n2","f2"),o("n3","f3"),o("n4","f4"),o("p","n1"),o("p","n2"),o("p","n3"),o("p","n4"),o("u1","u2"),o("u2","u3"),o("u3","u1"),o("c","t"),o("p","c"),o("cn1","cn2"),o("cn3","cn4"),o("cf1","cf2"),o("cf3","cf4");function o(x,T){l(x),l(T)}function l(x){r.push(0,0,0),s.push(0,0,0),a[x]===void 0&&(a[x]=[]),a[x].push(r.length/3-1)}t.setAttribute("position",new Nn(r,3)),t.setAttribute("color",new Nn(s,3)),super(t,i),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=a,this.update();const u=new yn(16755200),d=new yn(16711680),m=new yn(43775),v=new yn(16777215),y=new yn(3355443);this.setColors(u,d,m,v,y)}setColors(e,t,i,r,s){const o=this.geometry.getAttribute("color");o.setXYZ(0,e.r,e.g,e.b),o.setXYZ(1,e.r,e.g,e.b),o.setXYZ(2,e.r,e.g,e.b),o.setXYZ(3,e.r,e.g,e.b),o.setXYZ(4,e.r,e.g,e.b),o.setXYZ(5,e.r,e.g,e.b),o.setXYZ(6,e.r,e.g,e.b),o.setXYZ(7,e.r,e.g,e.b),o.setXYZ(8,e.r,e.g,e.b),o.setXYZ(9,e.r,e.g,e.b),o.setXYZ(10,e.r,e.g,e.b),o.setXYZ(11,e.r,e.g,e.b),o.setXYZ(12,e.r,e.g,e.b),o.setXYZ(13,e.r,e.g,e.b),o.setXYZ(14,e.r,e.g,e.b),o.setXYZ(15,e.r,e.g,e.b),o.setXYZ(16,e.r,e.g,e.b),o.setXYZ(17,e.r,e.g,e.b),o.setXYZ(18,e.r,e.g,e.b),o.setXYZ(19,e.r,e.g,e.b),o.setXYZ(20,e.r,e.g,e.b),o.setXYZ(21,e.r,e.g,e.b),o.setXYZ(22,e.r,e.g,e.b),o.setXYZ(23,e.r,e.g,e.b),o.setXYZ(24,t.r,t.g,t.b),o.setXYZ(25,t.r,t.g,t.b),o.setXYZ(26,t.r,t.g,t.b),o.setXYZ(27,t.r,t.g,t.b),o.setXYZ(28,t.r,t.g,t.b),o.setXYZ(29,t.r,t.g,t.b),o.setXYZ(30,t.r,t.g,t.b),o.setXYZ(31,t.r,t.g,t.b),o.setXYZ(32,i.r,i.g,i.b),o.setXYZ(33,i.r,i.g,i.b),o.setXYZ(34,i.r,i.g,i.b),o.setXYZ(35,i.r,i.g,i.b),o.setXYZ(36,i.r,i.g,i.b),o.setXYZ(37,i.r,i.g,i.b),o.setXYZ(38,r.r,r.g,r.b),o.setXYZ(39,r.r,r.g,r.b),o.setXYZ(40,s.r,s.g,s.b),o.setXYZ(41,s.r,s.g,s.b),o.setXYZ(42,s.r,s.g,s.b),o.setXYZ(43,s.r,s.g,s.b),o.setXYZ(44,s.r,s.g,s.b),o.setXYZ(45,s.r,s.g,s.b),o.setXYZ(46,s.r,s.g,s.b),o.setXYZ(47,s.r,s.g,s.b),o.setXYZ(48,s.r,s.g,s.b),o.setXYZ(49,s.r,s.g,s.b),o.needsUpdate=!0}update(){const e=this.geometry,t=this.pointMap,i=1,r=1;Js.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse);const s=this.camera.coordinateSystem===Au?-1:0;ua("c",t,e,Js,0,0,s),ua("t",t,e,Js,0,0,1),ua("n1",t,e,Js,-i,-r,s),ua("n2",t,e,Js,i,-r,s),ua("n3",t,e,Js,-i,r,s),ua("n4",t,e,Js,i,r,s),ua("f1",t,e,Js,-i,-r,1),ua("f2",t,e,Js,i,-r,1),ua("f3",t,e,Js,-i,r,1),ua("f4",t,e,Js,i,r,1),ua("u1",t,e,Js,i*.7,r*1.1,s),ua("u2",t,e,Js,-i*.7,r*1.1,s),ua("u3",t,e,Js,0,r*2,s),ua("cf1",t,e,Js,-i,0,1),ua("cf2",t,e,Js,i,0,1),ua("cf3",t,e,Js,0,-r,1),ua("cf4",t,e,Js,0,r,1),ua("cn1",t,e,Js,-i,0,s),ua("cn2",t,e,Js,i,0,s),ua("cn3",t,e,Js,0,-r,s),ua("cn4",t,e,Js,0,r,s),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function ua(n,e,t,i,r,s,a){ax.set(r,s,a).unproject(i);const o=e[n];if(o!==void 0){const l=t.getAttribute("position");for(let u=0,d=o.length;u<d;u++)l.setXYZ(o[u],ax.x,ax.y,ax.z)}}const ox=new tl;class wre extends vh{constructor(e,t=16776960){const i=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=new Float32Array(24),s=new zi;s.setIndex(new Qr(i,1)),s.setAttribute("position",new Qr(r,3)),super(s,new Fl({color:t,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(){if(this.object!==void 0&&ox.setFromObject(this.object),ox.isEmpty())return;const e=ox.min,t=ox.max,i=this.geometry.attributes.position,r=i.array;r[0]=t.x,r[1]=t.y,r[2]=t.z,r[3]=e.x,r[4]=t.y,r[5]=t.z,r[6]=e.x,r[7]=e.y,r[8]=t.z,r[9]=t.x,r[10]=e.y,r[11]=t.z,r[12]=t.x,r[13]=t.y,r[14]=e.z,r[15]=e.x,r[16]=t.y,r[17]=e.z,r[18]=e.x,r[19]=e.y,r[20]=e.z,r[21]=t.x,r[22]=e.y,r[23]=e.z,i.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,t){return super.copy(e,t),this.object=e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class Ere extends vh{constructor(e,t=16776960){const i=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],s=new zi;s.setIndex(new Qr(i,1)),s.setAttribute("position",new Nn(r,3)),super(s,new Fl({color:t,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const t=this.box;t.isEmpty()||(t.getCenter(this.position),t.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}}class Tre extends kp{constructor(e,t=1,i=16776960){const r=i,s=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],a=new zi;a.setAttribute("position",new Nn(s,3)),a.computeBoundingSphere(),super(a,new Fl({color:r,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=t;const o=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],l=new zi;l.setAttribute("position",new Nn(o,3)),l.computeBoundingSphere(),this.add(new Gs(l,new Cd({color:r,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const sL=new me;let lx,yM;class Mre extends br{constructor(e=new me(0,0,1),t=new me(0,0,0),i=1,r=16776960,s=i*.2,a=s*.2){super(),this.type="ArrowHelper",lx===void 0&&(lx=new zi,lx.setAttribute("position",new Nn([0,0,0,0,1,0],3)),yM=new Z_(.5,1,5,1),yM.translate(0,-.5,0)),this.position.copy(t),this.line=new kp(lx,new Fl({color:r,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new Gs(yM,new Cd({color:r,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(i,s,a)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{sL.set(e.z,0,-e.x).normalize();const t=Math.acos(e.y);this.quaternion.setFromAxisAngle(sL,t)}}setLength(e,t=e*.2,i=t*.2){this.line.scale.set(1,Math.max(1e-4,e-t),1),this.line.updateMatrix(),this.cone.scale.set(i,t,i),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class Are extends vh{constructor(e=1){const t=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],i=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],r=new zi;r.setAttribute("position",new Nn(t,3)),r.setAttribute("color",new Nn(i,3));const s=new Fl({vertexColors:!0,toneMapped:!1});super(r,s),this.type="AxesHelper"}setColors(e,t,i){const r=new yn,s=this.geometry.attributes.color.array;return r.set(e),r.toArray(s,0),r.toArray(s,3),r.set(t),r.toArray(s,6),r.toArray(s,9),r.set(i),r.toArray(s,12),r.toArray(s,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class Cre{constructor(){this.type="ShapePath",this.color=new yn,this.subPaths=[],this.currentPath=null}moveTo(e,t){return this.currentPath=new FS,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t),this}lineTo(e,t){return this.currentPath.lineTo(e,t),this}quadraticCurveTo(e,t,i,r){return this.currentPath.quadraticCurveTo(e,t,i,r),this}bezierCurveTo(e,t,i,r,s,a){return this.currentPath.bezierCurveTo(e,t,i,r,s,a),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function t(w){const P=[];for(let D=0,N=w.length;D<N;D++){const G=w[D],k=new fg;k.curves=G.curves,P.push(k)}return P}function i(w,P){const D=P.length;let N=!1;for(let G=D-1,k=0;k<D;G=k++){let M=P[G],$=P[k],V=$.x-M.x,H=$.y-M.y;if(Math.abs(H)>Number.EPSILON){if(H<0&&(M=P[k],V=-V,$=P[G],H=-H),w.y<M.y||w.y>$.y)continue;if(w.y===M.y){if(w.x===M.x)return!0}else{const ee=H*(w.x-M.x)-V*(w.y-M.y);if(ee===0)return!0;if(ee<0)continue;N=!N}}else{if(w.y!==M.y)continue;if($.x<=w.x&&w.x<=M.x||M.x<=w.x&&w.x<=$.x)return!0}}return N}const r=cf.isClockWise,s=this.subPaths;if(s.length===0)return[];let a,o,l;const u=[];if(s.length===1)return o=s[0],l=new fg,l.curves=o.curves,u.push(l),u;let d=!r(s[0].getPoints());d=e?!d:d;const m=[],v=[];let y=[],x=0,T;v[x]=void 0,y[x]=[];for(let w=0,P=s.length;w<P;w++)o=s[w],T=o.getPoints(),a=r(T),a=e?!a:a,a?(!d&&v[x]&&x++,v[x]={s:new fg,p:T},v[x].s.curves=o.curves,d&&x++,y[x]=[]):y[x].push({h:o,p:T[0]});if(!v[0])return t(s);if(v.length>1){let w=!1,P=0;for(let D=0,N=v.length;D<N;D++)m[D]=[];for(let D=0,N=v.length;D<N;D++){const G=y[D];for(let k=0;k<G.length;k++){const M=G[k];let $=!0;for(let V=0;V<v.length;V++)i(M.p,v[V].p)&&(D!==V&&P++,$?($=!1,m[V].push(M)):w=!0);$&&m[D].push(M)}}P>0&&w===!1&&(y=m)}let E;for(let w=0,P=v.length;w<P;w++){l=v[w].s,u.push(l),E=y[w];for(let D=0,N=E.length;D<N;D++)l.holes.push(E[D].h)}return u}}class Rre extends gh{constructor(e,t=null){super(),this.object=e,this.domElement=t,this.enabled=!0,this.state=-1,this.keys={},this.mouseButtons={LEFT:null,MIDDLE:null,RIGHT:null},this.touches={ONE:null,TWO:null}}connect(e){if(e===void 0){console.warn("THREE.Controls: connect() now requires an element.");return}this.domElement!==null&&this.disconnect(),this.domElement=e}disconnect(){}dispose(){}update(){}}function Ore(n,e){const t=n.image&&n.image.width?n.image.width/n.image.height:1;return t>e?(n.repeat.x=1,n.repeat.y=t/e,n.offset.x=0,n.offset.y=(1-n.repeat.y)/2):(n.repeat.x=e/t,n.repeat.y=1,n.offset.x=(1-n.repeat.x)/2,n.offset.y=0),n}function Pre(n,e){const t=n.image&&n.image.width?n.image.width/n.image.height:1;return t>e?(n.repeat.x=e/t,n.repeat.y=1,n.offset.x=(1-n.repeat.x)/2,n.offset.y=0):(n.repeat.x=1,n.repeat.y=t/e,n.offset.x=0,n.offset.y=(1-n.repeat.y)/2),n}function Dre(n){return n.repeat.x=1,n.repeat.y=1,n.offset.x=0,n.offset.y=0,n}function oA(n,e,t,i){const r=Lre(i);switch(t){case gC:return n*e;case $_:return n*e/r.components*r.byteLength;case q_:return n*e/r.components*r.byteLength;case yC:return n*e*2/r.components*r.byteLength;case Ow:return n*e*2/r.components*r.byteLength;case vC:return n*e*3/r.components*r.byteLength;case ma:return n*e*4/r.components*r.byteLength;case Pw:return n*e*4/r.components*r.byteLength;case q0:case W0:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*8;case X0:case Y0:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*16;case hS:case pS:return Math.max(n,16)*Math.max(e,8)/4;case fS:case dS:return Math.max(n,8)*Math.max(e,8)/2;case mS:case gS:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*8;case vS:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*16;case yS:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*16;case _S:return Math.floor((n+4)/5)*Math.floor((e+3)/4)*16;case bS:return Math.floor((n+4)/5)*Math.floor((e+4)/5)*16;case xS:return Math.floor((n+5)/6)*Math.floor((e+4)/5)*16;case SS:return Math.floor((n+5)/6)*Math.floor((e+5)/6)*16;case wS:return Math.floor((n+7)/8)*Math.floor((e+4)/5)*16;case ES:return Math.floor((n+7)/8)*Math.floor((e+5)/6)*16;case TS:return Math.floor((n+7)/8)*Math.floor((e+7)/8)*16;case MS:return Math.floor((n+9)/10)*Math.floor((e+4)/5)*16;case AS:return Math.floor((n+9)/10)*Math.floor((e+5)/6)*16;case CS:return Math.floor((n+9)/10)*Math.floor((e+7)/8)*16;case RS:return Math.floor((n+9)/10)*Math.floor((e+9)/10)*16;case OS:return Math.floor((n+11)/12)*Math.floor((e+9)/10)*16;case PS:return Math.floor((n+11)/12)*Math.floor((e+11)/12)*16;case Z0:case DS:case LS:return Math.ceil(n/4)*Math.ceil(e/4)*16;case _C:case NS:return Math.ceil(n/4)*Math.ceil(e/4)*8;case IS:case zS:return Math.ceil(n/4)*Math.ceil(e/4)*16}throw new Error(`Unable to determine texture byte length for ${t} format.`)}function Lre(n){switch(n){case Hl:case Mw:return{byteLength:1,components:1};case fy:case Aw:case Ha:return{byteLength:2,components:1};case Cw:case Rw:return{byteLength:2,components:4};case hh:case j_:case Ds:return{byteLength:4,components:1};case mC:return{byteLength:4,components:3}}throw new Error(`Unknown texture type ${n}.`)}class Nre{static contain(e,t){return Ore(e,t)}static cover(e,t){return Pre(e,t)}static fill(e){return Dre(e)}static getByteLength(e,t,i,r){return oA(e,t,i,r)}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:V_}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=V_);/**
 * @license
 * Copyright 2010-2025 Three.js Authors
 * SPDX-License-Identifier: MIT
 */function OU(){let n=null,e=!1,t=null,i=null;function r(s,a){t(s,a),i=n.requestAnimationFrame(r)}return{start:function(){e!==!0&&t!==null&&(i=n.requestAnimationFrame(r),e=!0)},stop:function(){n.cancelAnimationFrame(i),e=!1},setAnimationLoop:function(s){t=s},setContext:function(s){n=s}}}function Ire(n){const e=new WeakMap;function t(o,l){const u=o.array,d=o.usage,m=u.byteLength,v=n.createBuffer();n.bindBuffer(l,v),n.bufferData(l,u,d),o.onUploadCallback();let y;if(u instanceof Float32Array)y=n.FLOAT;else if(typeof Float16Array<"u"&&u instanceof Float16Array)y=n.HALF_FLOAT;else if(u instanceof Uint16Array)o.isFloat16BufferAttribute?y=n.HALF_FLOAT:y=n.UNSIGNED_SHORT;else if(u instanceof Int16Array)y=n.SHORT;else if(u instanceof Uint32Array)y=n.UNSIGNED_INT;else if(u instanceof Int32Array)y=n.INT;else if(u instanceof Int8Array)y=n.BYTE;else if(u instanceof Uint8Array)y=n.UNSIGNED_BYTE;else if(u instanceof Uint8ClampedArray)y=n.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+u);return{buffer:v,type:y,bytesPerElement:u.BYTES_PER_ELEMENT,version:o.version,size:m}}function i(o,l,u){const d=l.array,m=l.updateRanges;if(n.bindBuffer(u,o),m.length===0)n.bufferSubData(u,0,d);else{m.sort((y,x)=>y.start-x.start);let v=0;for(let y=1;y<m.length;y++){const x=m[v],T=m[y];T.start<=x.start+x.count+1?x.count=Math.max(x.count,T.start+T.count-x.start):(++v,m[v]=T)}m.length=v+1;for(let y=0,x=m.length;y<x;y++){const T=m[y];n.bufferSubData(u,T.start*d.BYTES_PER_ELEMENT,d,T.start,T.count)}l.clearUpdateRanges()}l.onUploadCallback()}function r(o){return o.isInterleavedBufferAttribute&&(o=o.data),e.get(o)}function s(o){o.isInterleavedBufferAttribute&&(o=o.data);const l=e.get(o);l&&(n.deleteBuffer(l.buffer),e.delete(o))}function a(o,l){if(o.isInterleavedBufferAttribute&&(o=o.data),o.isGLBufferAttribute){const d=e.get(o);(!d||d.version<o.version)&&e.set(o,{buffer:o.buffer,type:o.type,bytesPerElement:o.elementSize,version:o.version});return}const u=e.get(o);if(u===void 0)e.set(o,t(o,l));else if(u.version<o.version){if(u.size!==o.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");i(u.buffer,o,l),u.version=o.version}}return{get:r,remove:s,update:a}}var zre=`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,Ure=`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,Bre=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,kre=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,Hre=`#ifdef USE_ALPHATEST
	#ifdef ALPHA_TO_COVERAGE
	diffuseColor.a = smoothstep( alphaTest, alphaTest + fwidth( diffuseColor.a ), diffuseColor.a );
	if ( diffuseColor.a == 0.0 ) discard;
	#else
	if ( diffuseColor.a < alphaTest ) discard;
	#endif
#endif`,Fre=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,Vre=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_CLEARCOAT ) 
		clearcoatSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_SHEEN ) 
		sheenSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometryNormal, geometryViewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,Gre=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,jre=`#ifdef USE_BATCHING
	#if ! defined( GL_ANGLE_multi_draw )
	#define gl_DrawID _gl_DrawID
	uniform int _gl_DrawID;
	#endif
	uniform highp sampler2D batchingTexture;
	uniform highp usampler2D batchingIdTexture;
	mat4 getBatchingMatrix( const in float i ) {
		int size = textureSize( batchingTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
	float getIndirectIndex( const in int i ) {
		int size = textureSize( batchingIdTexture, 0 ).x;
		int x = i % size;
		int y = i / size;
		return float( texelFetch( batchingIdTexture, ivec2( x, y ), 0 ).r );
	}
#endif
#ifdef USE_BATCHING_COLOR
	uniform sampler2D batchingColorTexture;
	vec3 getBatchingColor( const in float i ) {
		int size = textureSize( batchingColorTexture, 0 ).x;
		int j = int( i );
		int x = j % size;
		int y = j / size;
		return texelFetch( batchingColorTexture, ivec2( x, y ), 0 ).rgb;
	}
#endif`,$re=`#ifdef USE_BATCHING
	mat4 batchingMatrix = getBatchingMatrix( getIndirectIndex( gl_DrawID ) );
#endif`,qre=`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,Wre=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,Xre=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,Yre=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,Zre=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );
		vec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,Kre=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#ifdef ALPHA_TO_COVERAGE
		float distanceToPlane, distanceGradient;
		float clipOpacity = 1.0;
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
			distanceGradient = fwidth( distanceToPlane ) / 2.0;
			clipOpacity *= smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			if ( clipOpacity == 0.0 ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			float unionClipOpacity = 1.0;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
				distanceGradient = fwidth( distanceToPlane ) / 2.0;
				unionClipOpacity *= 1.0 - smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			}
			#pragma unroll_loop_end
			clipOpacity *= 1.0 - unionClipOpacity;
		#endif
		diffuseColor.a *= clipOpacity;
		if ( diffuseColor.a == 0.0 ) discard;
	#else
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			bool clipped = true;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
			}
			#pragma unroll_loop_end
			if ( clipped ) discard;
		#endif
	#endif
#endif`,Qre=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,Jre=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,ese=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,tse=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,nse=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,ise=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	varying vec3 vColor;
#endif`,rse=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif
#ifdef USE_BATCHING_COLOR
	vec3 batchingColor = getBatchingColor( getIndirectIndex( gl_DrawID ) );
	vColor.xyz *= batchingColor.xyz;
#endif`,sse=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,ase=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,ose=`vec3 transformedNormal = objectNormal;
#ifdef USE_TANGENT
	vec3 transformedTangent = objectTangent;
#endif
#ifdef USE_BATCHING
	mat3 bm = mat3( batchingMatrix );
	transformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );
	transformedNormal = bm * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = bm * transformedTangent;
	#endif
#endif
#ifdef USE_INSTANCING
	mat3 im = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );
	transformedNormal = im * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = im * transformedTangent;
	#endif
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	transformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,lse=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,cse=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,use=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	#ifdef DECODE_VIDEO_TEXTURE_EMISSIVE
		emissiveColor = sRGBTransferEOTF( emissiveColor );
	#endif
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,fse=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,hse="gl_FragColor = linearToOutputTexel( gl_FragColor );",dse=`vec4 LinearTransferOETF( in vec4 value ) {
	return value;
}
vec4 sRGBTransferEOTF( in vec4 value ) {
	return vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );
}
vec4 sRGBTransferOETF( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,pse=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, envMapRotation * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,mse=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	uniform mat3 envMapRotation;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,gse=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,vse=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,yse=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,_se=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,bse=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,xse=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,Sse=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,wse=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,Ese=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,Tse=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,Mse=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,Ase=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
#if defined( USE_LIGHT_PROBES )
	uniform vec3 lightProbe[ 9 ];
#endif
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
	if ( cutoffDistance > 0.0 ) {
		distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
	}
	return distanceFalloff;
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,Cse=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,Rse=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,Ose=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,Pse=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,Dse=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,Lse=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_DISPERSION
	material.dispersion = dispersion;
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	if( material.anisotropy == 0.0 ) {
		anisotropyV = vec2( 1.0, 0.0 );
	} else {
		anisotropyV /= material.anisotropy;
		material.anisotropy = saturate( material.anisotropy );
	}
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;
#endif`,Nse=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	float dispersion;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecularDirect = vec3( 0.0 );
vec3 clearcoatSpecularIndirect = vec3( 0.0 );
vec3 sheenSpecularDirect = vec3( 0.0 );
vec3 sheenSpecularIndirect = vec3(0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return saturate(v);
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColor;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometryNormal;
		vec3 viewDir = geometryViewDir;
		vec3 position = geometryPosition;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometryViewDir, geometryNormal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,Ise=`
vec3 geometryPosition = - vViewPosition;
vec3 geometryNormal = normal;
vec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
vec3 geometryClearcoatNormal = vec3( 0.0 );
#ifdef USE_CLEARCOAT
	geometryClearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometryViewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometryPosition, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowIntensity, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometryPosition, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowIntensity, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowIntensity, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	#if defined( USE_LIGHT_PROBES )
		irradiance += getLightProbeIrradiance( lightProbe, geometryNormal );
	#endif
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,zse=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometryNormal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,Use=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif`,Bse=`#if defined( USE_LOGDEPTHBUF )
	gl_FragDepth = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,kse=`#if defined( USE_LOGDEPTHBUF )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,Hse=`#ifdef USE_LOGDEPTHBUF
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,Fse=`#ifdef USE_LOGDEPTHBUF
	vFragDepth = 1.0 + gl_Position.w;
	vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
#endif`,Vse=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vMapUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = sRGBTransferEOTF( sampledDiffuseColor );
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,Gse=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,jse=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,$se=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,qse=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,Wse=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,Xse=`#ifdef USE_INSTANCING_MORPH
	float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	float morphTargetBaseInfluence = texelFetch( morphTexture, ivec2( 0, gl_InstanceID ), 0 ).r;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		morphTargetInfluences[i] =  texelFetch( morphTexture, ivec2( i + 1, gl_InstanceID ), 0 ).r;
	}
#endif`,Yse=`#if defined( USE_MORPHCOLORS )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,Zse=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,Kse=`#ifdef USE_MORPHTARGETS
	#ifndef USE_INSTANCING_MORPH
		uniform float morphTargetBaseInfluence;
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	#endif
	uniform sampler2DArray morphTargetsTexture;
	uniform ivec2 morphTargetsTextureSize;
	vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
		int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
		int y = texelIndex / morphTargetsTextureSize.x;
		int x = texelIndex - y * morphTargetsTextureSize.x;
		ivec3 morphUV = ivec3( x, y, morphTargetIndex );
		return texelFetch( morphTargetsTexture, morphUV, 0 );
	}
#endif`,Qse=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,Jse=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 nonPerturbedNormal = normal;`,eae=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,tae=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,nae=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,iae=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,rae=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,sae=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = nonPerturbedNormal;
#endif`,aae=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,oae=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,lae=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,cae=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,uae=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;const float ShiftRight8 = 1. / 256.;
const float Inv255 = 1. / 255.;
const vec4 PackFactors = vec4( 1.0, 256.0, 256.0 * 256.0, 256.0 * 256.0 * 256.0 );
const vec2 UnpackFactors2 = vec2( UnpackDownscale, 1.0 / PackFactors.g );
const vec3 UnpackFactors3 = vec3( UnpackDownscale / PackFactors.rg, 1.0 / PackFactors.b );
const vec4 UnpackFactors4 = vec4( UnpackDownscale / PackFactors.rgb, 1.0 / PackFactors.a );
vec4 packDepthToRGBA( const in float v ) {
	if( v <= 0.0 )
		return vec4( 0., 0., 0., 0. );
	if( v >= 1.0 )
		return vec4( 1., 1., 1., 1. );
	float vuf;
	float af = modf( v * PackFactors.a, vuf );
	float bf = modf( vuf * ShiftRight8, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec4( vuf * Inv255, gf * PackUpscale, bf * PackUpscale, af );
}
vec3 packDepthToRGB( const in float v ) {
	if( v <= 0.0 )
		return vec3( 0., 0., 0. );
	if( v >= 1.0 )
		return vec3( 1., 1., 1. );
	float vuf;
	float bf = modf( v * PackFactors.b, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec3( vuf * Inv255, gf * PackUpscale, bf );
}
vec2 packDepthToRG( const in float v ) {
	if( v <= 0.0 )
		return vec2( 0., 0. );
	if( v >= 1.0 )
		return vec2( 1., 1. );
	float vuf;
	float gf = modf( v * 256., vuf );
	return vec2( vuf * Inv255, gf );
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors4 );
}
float unpackRGBToDepth( const in vec3 v ) {
	return dot( v, UnpackFactors3 );
}
float unpackRGToDepth( const in vec2 v ) {
	return v.r * UnpackFactors2.r + v.g * UnpackFactors2.g;
}
vec4 pack2HalfToRGBA( const in vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( const in vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,fae=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,hae=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_BATCHING
	mvPosition = batchingMatrix * mvPosition;
#endif
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,dae=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,pae=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,mae=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,gae=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,vae=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		float shadow = 1.0;
		vec3 lightToPosition = shadowCoord.xyz;
		
		float lightToPositionLength = length( lightToPosition );
		if ( lightToPositionLength - shadowCameraFar <= 0.0 && lightToPositionLength - shadowCameraNear >= 0.0 ) {
			float dp = ( lightToPositionLength - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );			dp += shadowBias;
			vec3 bd3D = normalize( lightToPosition );
			vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
			#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
				vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
				shadow = (
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
				) * ( 1.0 / 9.0 );
			#else
				shadow = texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
			#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
#endif`,yae=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,_ae=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,bae=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowIntensity, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowIntensity, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowIntensity, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,xae=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,Sae=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	mat4 getBoneMatrix( const in float i ) {
		int size = textureSize( boneTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,wae=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,Eae=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,Tae=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,Mae=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,Aae=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,Cae=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 CineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
const mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(
	vec3( 1.6605, - 0.1246, - 0.0182 ),
	vec3( - 0.5876, 1.1329, - 0.1006 ),
	vec3( - 0.0728, - 0.0083, 1.1187 )
);
const mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(
	vec3( 0.6274, 0.0691, 0.0164 ),
	vec3( 0.3293, 0.9195, 0.0880 ),
	vec3( 0.0433, 0.0113, 0.8956 )
);
vec3 agxDefaultContrastApprox( vec3 x ) {
	vec3 x2 = x * x;
	vec3 x4 = x2 * x2;
	return + 15.5 * x4 * x2
		- 40.14 * x4 * x
		+ 31.96 * x4
		- 6.868 * x2 * x
		+ 0.4298 * x2
		+ 0.1191 * x
		- 0.00232;
}
vec3 AgXToneMapping( vec3 color ) {
	const mat3 AgXInsetMatrix = mat3(
		vec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),
		vec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),
		vec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )
	);
	const mat3 AgXOutsetMatrix = mat3(
		vec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),
		vec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),
		vec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )
	);
	const float AgxMinEv = - 12.47393;	const float AgxMaxEv = 4.026069;
	color *= toneMappingExposure;
	color = LINEAR_SRGB_TO_LINEAR_REC2020 * color;
	color = AgXInsetMatrix * color;
	color = max( color, 1e-10 );	color = log2( color );
	color = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );
	color = clamp( color, 0.0, 1.0 );
	color = agxDefaultContrastApprox( color );
	color = AgXOutsetMatrix * color;
	color = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );
	color = LINEAR_REC2020_TO_LINEAR_SRGB * color;
	color = clamp( color, 0.0, 1.0 );
	return color;
}
vec3 NeutralToneMapping( vec3 color ) {
	const float StartCompression = 0.8 - 0.04;
	const float Desaturation = 0.15;
	color *= toneMappingExposure;
	float x = min( color.r, min( color.g, color.b ) );
	float offset = x < 0.08 ? x - 6.25 * x * x : 0.04;
	color -= offset;
	float peak = max( color.r, max( color.g, color.b ) );
	if ( peak < StartCompression ) return color;
	float d = 1. - StartCompression;
	float newPeak = 1. - d * d / ( peak + d - StartCompression );
	color *= newPeak / peak;
	float g = 1. - 1. / ( Desaturation * ( peak - newPeak ) + 1. );
	return mix( color, vec3( newPeak ), g );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,Rae=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.dispersion, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,Oae=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float dispersion, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec4 transmittedLight;
		vec3 transmittance;
		#ifdef USE_DISPERSION
			float halfSpread = ( ior - 1.0 ) * 0.025 * dispersion;
			vec3 iors = vec3( ior - halfSpread, ior, ior + halfSpread );
			for ( int i = 0; i < 3; i ++ ) {
				vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, iors[ i ], modelMatrix );
				vec3 refractedRayExit = position + transmissionRay;
				vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
				vec2 refractionCoords = ndcPos.xy / ndcPos.w;
				refractionCoords += 1.0;
				refractionCoords /= 2.0;
				vec4 transmissionSample = getTransmissionSample( refractionCoords, roughness, iors[ i ] );
				transmittedLight[ i ] = transmissionSample[ i ];
				transmittedLight.a += transmissionSample.a;
				transmittance[ i ] = diffuseColor[ i ] * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance )[ i ];
			}
			transmittedLight.a /= 3.0;
		#else
			vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
			vec3 refractedRayExit = position + transmissionRay;
			vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
			vec2 refractionCoords = ndcPos.xy / ndcPos.w;
			refractionCoords += 1.0;
			refractionCoords /= 2.0;
			transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
			transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		#endif
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,Pae=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,Dae=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,Lae=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,Nae=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_BATCHING
		worldPosition = batchingMatrix * worldPosition;
	#endif
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const Iae=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,zae=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,Uae=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,Bae=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
uniform mat3 backgroundRotation;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, backgroundRotation * vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, backgroundRotation * vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,kae=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,Hae=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,Fae=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,Vae=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#elif DEPTH_PACKING == 3202
		gl_FragColor = vec4( packDepthToRGB( fragCoordZ ), 1.0 );
	#elif DEPTH_PACKING == 3203
		gl_FragColor = vec4( packDepthToRG( fragCoordZ ), 0.0, 1.0 );
	#endif
}`,Gae=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,jae=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,$ae=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,qae=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,Wae=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,Xae=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,Yae=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,Zae=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Kae=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Qae=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Jae=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,eoe=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,toe=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,noe=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( 0.0, 0.0, 0.0, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), diffuseColor.a );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,ioe=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,roe=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,soe=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,aoe=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_DISPERSION
	uniform float dispersion;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecularDirect + sheenSpecularIndirect;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,ooe=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,loe=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,coe=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,uoe=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,foe=`#include <common>
#include <batching_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,hoe=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,doe=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix[ 3 ];
	vec2 scale = vec2( length( modelMatrix[ 0 ].xyz ), length( modelMatrix[ 1 ].xyz ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,poe=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,ki={alphahash_fragment:zre,alphahash_pars_fragment:Ure,alphamap_fragment:Bre,alphamap_pars_fragment:kre,alphatest_fragment:Hre,alphatest_pars_fragment:Fre,aomap_fragment:Vre,aomap_pars_fragment:Gre,batching_pars_vertex:jre,batching_vertex:$re,begin_vertex:qre,beginnormal_vertex:Wre,bsdfs:Xre,iridescence_fragment:Yre,bumpmap_pars_fragment:Zre,clipping_planes_fragment:Kre,clipping_planes_pars_fragment:Qre,clipping_planes_pars_vertex:Jre,clipping_planes_vertex:ese,color_fragment:tse,color_pars_fragment:nse,color_pars_vertex:ise,color_vertex:rse,common:sse,cube_uv_reflection_fragment:ase,defaultnormal_vertex:ose,displacementmap_pars_vertex:lse,displacementmap_vertex:cse,emissivemap_fragment:use,emissivemap_pars_fragment:fse,colorspace_fragment:hse,colorspace_pars_fragment:dse,envmap_fragment:pse,envmap_common_pars_fragment:mse,envmap_pars_fragment:gse,envmap_pars_vertex:vse,envmap_physical_pars_fragment:Cse,envmap_vertex:yse,fog_vertex:_se,fog_pars_vertex:bse,fog_fragment:xse,fog_pars_fragment:Sse,gradientmap_pars_fragment:wse,lightmap_pars_fragment:Ese,lights_lambert_fragment:Tse,lights_lambert_pars_fragment:Mse,lights_pars_begin:Ase,lights_toon_fragment:Rse,lights_toon_pars_fragment:Ose,lights_phong_fragment:Pse,lights_phong_pars_fragment:Dse,lights_physical_fragment:Lse,lights_physical_pars_fragment:Nse,lights_fragment_begin:Ise,lights_fragment_maps:zse,lights_fragment_end:Use,logdepthbuf_fragment:Bse,logdepthbuf_pars_fragment:kse,logdepthbuf_pars_vertex:Hse,logdepthbuf_vertex:Fse,map_fragment:Vse,map_pars_fragment:Gse,map_particle_fragment:jse,map_particle_pars_fragment:$se,metalnessmap_fragment:qse,metalnessmap_pars_fragment:Wse,morphinstance_vertex:Xse,morphcolor_vertex:Yse,morphnormal_vertex:Zse,morphtarget_pars_vertex:Kse,morphtarget_vertex:Qse,normal_fragment_begin:Jse,normal_fragment_maps:eae,normal_pars_fragment:tae,normal_pars_vertex:nae,normal_vertex:iae,normalmap_pars_fragment:rae,clearcoat_normal_fragment_begin:sae,clearcoat_normal_fragment_maps:aae,clearcoat_pars_fragment:oae,iridescence_pars_fragment:lae,opaque_fragment:cae,packing:uae,premultiplied_alpha_fragment:fae,project_vertex:hae,dithering_fragment:dae,dithering_pars_fragment:pae,roughnessmap_fragment:mae,roughnessmap_pars_fragment:gae,shadowmap_pars_fragment:vae,shadowmap_pars_vertex:yae,shadowmap_vertex:_ae,shadowmask_pars_fragment:bae,skinbase_vertex:xae,skinning_pars_vertex:Sae,skinning_vertex:wae,skinnormal_vertex:Eae,specularmap_fragment:Tae,specularmap_pars_fragment:Mae,tonemapping_fragment:Aae,tonemapping_pars_fragment:Cae,transmission_fragment:Rae,transmission_pars_fragment:Oae,uv_pars_fragment:Pae,uv_pars_vertex:Dae,uv_vertex:Lae,worldpos_vertex:Nae,background_vert:Iae,background_frag:zae,backgroundCube_vert:Uae,backgroundCube_frag:Bae,cube_vert:kae,cube_frag:Hae,depth_vert:Fae,depth_frag:Vae,distanceRGBA_vert:Gae,distanceRGBA_frag:jae,equirect_vert:$ae,equirect_frag:qae,linedashed_vert:Wae,linedashed_frag:Xae,meshbasic_vert:Yae,meshbasic_frag:Zae,meshlambert_vert:Kae,meshlambert_frag:Qae,meshmatcap_vert:Jae,meshmatcap_frag:eoe,meshnormal_vert:toe,meshnormal_frag:noe,meshphong_vert:ioe,meshphong_frag:roe,meshphysical_vert:soe,meshphysical_frag:aoe,meshtoon_vert:ooe,meshtoon_frag:loe,points_vert:coe,points_frag:uoe,shadow_vert:foe,shadow_frag:hoe,sprite_vert:doe,sprite_frag:poe},vn={common:{diffuse:{value:new yn(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new Oi},alphaMap:{value:null},alphaMapTransform:{value:new Oi},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new Oi}},envmap:{envMap:{value:null},envMapRotation:{value:new Oi},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new Oi}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new Oi}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new Oi},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new Oi},normalScale:{value:new Lt(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new Oi},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new Oi}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new Oi}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new Oi}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new yn(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new yn(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new Oi},alphaTest:{value:0},uvTransform:{value:new Oi}},sprite:{diffuse:{value:new yn(16777215)},opacity:{value:1},center:{value:new Lt(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new Oi},alphaMap:{value:null},alphaMapTransform:{value:new Oi},alphaTest:{value:0}}},af={basic:{uniforms:Pl([vn.common,vn.specularmap,vn.envmap,vn.aomap,vn.lightmap,vn.fog]),vertexShader:ki.meshbasic_vert,fragmentShader:ki.meshbasic_frag},lambert:{uniforms:Pl([vn.common,vn.specularmap,vn.envmap,vn.aomap,vn.lightmap,vn.emissivemap,vn.bumpmap,vn.normalmap,vn.displacementmap,vn.fog,vn.lights,{emissive:{value:new yn(0)}}]),vertexShader:ki.meshlambert_vert,fragmentShader:ki.meshlambert_frag},phong:{uniforms:Pl([vn.common,vn.specularmap,vn.envmap,vn.aomap,vn.lightmap,vn.emissivemap,vn.bumpmap,vn.normalmap,vn.displacementmap,vn.fog,vn.lights,{emissive:{value:new yn(0)},specular:{value:new yn(1118481)},shininess:{value:30}}]),vertexShader:ki.meshphong_vert,fragmentShader:ki.meshphong_frag},standard:{uniforms:Pl([vn.common,vn.envmap,vn.aomap,vn.lightmap,vn.emissivemap,vn.bumpmap,vn.normalmap,vn.displacementmap,vn.roughnessmap,vn.metalnessmap,vn.fog,vn.lights,{emissive:{value:new yn(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:ki.meshphysical_vert,fragmentShader:ki.meshphysical_frag},toon:{uniforms:Pl([vn.common,vn.aomap,vn.lightmap,vn.emissivemap,vn.bumpmap,vn.normalmap,vn.displacementmap,vn.gradientmap,vn.fog,vn.lights,{emissive:{value:new yn(0)}}]),vertexShader:ki.meshtoon_vert,fragmentShader:ki.meshtoon_frag},matcap:{uniforms:Pl([vn.common,vn.bumpmap,vn.normalmap,vn.displacementmap,vn.fog,{matcap:{value:null}}]),vertexShader:ki.meshmatcap_vert,fragmentShader:ki.meshmatcap_frag},points:{uniforms:Pl([vn.points,vn.fog]),vertexShader:ki.points_vert,fragmentShader:ki.points_frag},dashed:{uniforms:Pl([vn.common,vn.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:ki.linedashed_vert,fragmentShader:ki.linedashed_frag},depth:{uniforms:Pl([vn.common,vn.displacementmap]),vertexShader:ki.depth_vert,fragmentShader:ki.depth_frag},normal:{uniforms:Pl([vn.common,vn.bumpmap,vn.normalmap,vn.displacementmap,{opacity:{value:1}}]),vertexShader:ki.meshnormal_vert,fragmentShader:ki.meshnormal_frag},sprite:{uniforms:Pl([vn.sprite,vn.fog]),vertexShader:ki.sprite_vert,fragmentShader:ki.sprite_frag},background:{uniforms:{uvTransform:{value:new Oi},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:ki.background_vert,fragmentShader:ki.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1},backgroundRotation:{value:new Oi}},vertexShader:ki.backgroundCube_vert,fragmentShader:ki.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:ki.cube_vert,fragmentShader:ki.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:ki.equirect_vert,fragmentShader:ki.equirect_frag},distanceRGBA:{uniforms:Pl([vn.common,vn.displacementmap,{referencePosition:{value:new me},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:ki.distanceRGBA_vert,fragmentShader:ki.distanceRGBA_frag},shadow:{uniforms:Pl([vn.lights,vn.fog,{color:{value:new yn(0)},opacity:{value:1}}]),vertexShader:ki.shadow_vert,fragmentShader:ki.shadow_frag}};af.physical={uniforms:Pl([af.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new Oi},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new Oi},clearcoatNormalScale:{value:new Lt(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new Oi},dispersion:{value:0},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new Oi},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new Oi},sheen:{value:0},sheenColor:{value:new yn(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new Oi},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new Oi},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new Oi},transmissionSamplerSize:{value:new Lt},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new Oi},attenuationDistance:{value:0},attenuationColor:{value:new yn(0)},specularColor:{value:new yn(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new Oi},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new Oi},anisotropyVector:{value:new Lt},anisotropyMap:{value:null},anisotropyMapTransform:{value:new Oi}}]),vertexShader:ki.meshphysical_vert,fragmentShader:ki.meshphysical_frag};const cx={r:0,b:0,g:0},km=new Vc,moe=new mi;function goe(n,e,t,i,r,s,a){const o=new yn(0);let l=s===!0?0:1,u,d,m=null,v=0,y=null;function x(D){let N=D.isScene===!0?D.background:null;return N&&N.isTexture&&(N=(D.backgroundBlurriness>0?t:e).get(N)),N}function T(D){let N=!1;const G=x(D);G===null?w(o,l):G&&G.isColor&&(w(G,1),N=!0);const k=n.xr.getEnvironmentBlendMode();k==="additive"?i.buffers.color.setClear(0,0,0,1,a):k==="alpha-blend"&&i.buffers.color.setClear(0,0,0,0,a),(n.autoClear||N)&&(i.buffers.depth.setTest(!0),i.buffers.depth.setMask(!0),i.buffers.color.setMask(!0),n.clear(n.autoClearColor,n.autoClearDepth,n.autoClearStencil))}function E(D,N){const G=x(N);G&&(G.isCubeTexture||G.mapping===My)?(d===void 0&&(d=new Gs(new Tg(1,1,1),new pc({name:"BackgroundCubeMaterial",uniforms:vy(af.backgroundCube.uniforms),vertexShader:af.backgroundCube.vertexShader,fragmentShader:af.backgroundCube.fragmentShader,side:Bl,depthTest:!1,depthWrite:!1,fog:!1,allowOverride:!1})),d.geometry.deleteAttribute("normal"),d.geometry.deleteAttribute("uv"),d.onBeforeRender=function(k,M,$){this.matrixWorld.copyPosition($.matrixWorld)},Object.defineProperty(d.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),r.update(d)),km.copy(N.backgroundRotation),km.x*=-1,km.y*=-1,km.z*=-1,G.isCubeTexture&&G.isRenderTargetTexture===!1&&(km.y*=-1,km.z*=-1),d.material.uniforms.envMap.value=G,d.material.uniforms.flipEnvMap.value=G.isCubeTexture&&G.isRenderTargetTexture===!1?-1:1,d.material.uniforms.backgroundBlurriness.value=N.backgroundBlurriness,d.material.uniforms.backgroundIntensity.value=N.backgroundIntensity,d.material.uniforms.backgroundRotation.value.setFromMatrix4(moe.makeRotationFromEuler(km)),d.material.toneMapped=ur.getTransfer(G.colorSpace)!==Gr,(m!==G||v!==G.version||y!==n.toneMapping)&&(d.material.needsUpdate=!0,m=G,v=G.version,y=n.toneMapping),d.layers.enableAll(),D.unshift(d,d.geometry,d.material,0,0,null)):G&&G.isTexture&&(u===void 0&&(u=new Gs(new jp(2,2),new pc({name:"BackgroundMaterial",uniforms:vy(af.background.uniforms),vertexShader:af.background.vertexShader,fragmentShader:af.background.fragmentShader,side:Sd,depthTest:!1,depthWrite:!1,fog:!1,allowOverride:!1})),u.geometry.deleteAttribute("normal"),Object.defineProperty(u.material,"map",{get:function(){return this.uniforms.t2D.value}}),r.update(u)),u.material.uniforms.t2D.value=G,u.material.uniforms.backgroundIntensity.value=N.backgroundIntensity,u.material.toneMapped=ur.getTransfer(G.colorSpace)!==Gr,G.matrixAutoUpdate===!0&&G.updateMatrix(),u.material.uniforms.uvTransform.value.copy(G.matrix),(m!==G||v!==G.version||y!==n.toneMapping)&&(u.material.needsUpdate=!0,m=G,v=G.version,y=n.toneMapping),u.layers.enableAll(),D.unshift(u,u.geometry,u.material,0,0,null))}function w(D,N){D.getRGB(cx,Oz(n)),i.buffers.color.setClear(cx.r,cx.g,cx.b,N,a)}function P(){d!==void 0&&(d.geometry.dispose(),d.material.dispose(),d=void 0),u!==void 0&&(u.geometry.dispose(),u.material.dispose(),u=void 0)}return{getClearColor:function(){return o},setClearColor:function(D,N=1){o.set(D),l=N,w(o,l)},getClearAlpha:function(){return l},setClearAlpha:function(D){l=D,w(o,l)},render:T,addToRenderList:E,dispose:P}}function voe(n,e){const t=n.getParameter(n.MAX_VERTEX_ATTRIBS),i={},r=v(null);let s=r,a=!1;function o(H,ee,pe,ae,ye){let Te=!1;const J=m(ae,pe,ee);s!==J&&(s=J,u(s.object)),Te=y(H,ae,pe,ye),Te&&x(H,ae,pe,ye),ye!==null&&e.update(ye,n.ELEMENT_ARRAY_BUFFER),(Te||a)&&(a=!1,N(H,ee,pe,ae),ye!==null&&n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,e.get(ye).buffer))}function l(){return n.createVertexArray()}function u(H){return n.bindVertexArray(H)}function d(H){return n.deleteVertexArray(H)}function m(H,ee,pe){const ae=pe.wireframe===!0;let ye=i[H.id];ye===void 0&&(ye={},i[H.id]=ye);let Te=ye[ee.id];Te===void 0&&(Te={},ye[ee.id]=Te);let J=Te[ae];return J===void 0&&(J=v(l()),Te[ae]=J),J}function v(H){const ee=[],pe=[],ae=[];for(let ye=0;ye<t;ye++)ee[ye]=0,pe[ye]=0,ae[ye]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:ee,enabledAttributes:pe,attributeDivisors:ae,object:H,attributes:{},index:null}}function y(H,ee,pe,ae){const ye=s.attributes,Te=ee.attributes;let J=0;const de=pe.getAttributes();for(const he in de)if(de[he].location>=0){const ne=ye[he];let re=Te[he];if(re===void 0&&(he==="instanceMatrix"&&H.instanceMatrix&&(re=H.instanceMatrix),he==="instanceColor"&&H.instanceColor&&(re=H.instanceColor)),ne===void 0||ne.attribute!==re||re&&ne.data!==re.data)return!0;J++}return s.attributesNum!==J||s.index!==ae}function x(H,ee,pe,ae){const ye={},Te=ee.attributes;let J=0;const de=pe.getAttributes();for(const he in de)if(de[he].location>=0){let ne=Te[he];ne===void 0&&(he==="instanceMatrix"&&H.instanceMatrix&&(ne=H.instanceMatrix),he==="instanceColor"&&H.instanceColor&&(ne=H.instanceColor));const re={};re.attribute=ne,ne&&ne.data&&(re.data=ne.data),ye[he]=re,J++}s.attributes=ye,s.attributesNum=J,s.index=ae}function T(){const H=s.newAttributes;for(let ee=0,pe=H.length;ee<pe;ee++)H[ee]=0}function E(H){w(H,0)}function w(H,ee){const pe=s.newAttributes,ae=s.enabledAttributes,ye=s.attributeDivisors;pe[H]=1,ae[H]===0&&(n.enableVertexAttribArray(H),ae[H]=1),ye[H]!==ee&&(n.vertexAttribDivisor(H,ee),ye[H]=ee)}function P(){const H=s.newAttributes,ee=s.enabledAttributes;for(let pe=0,ae=ee.length;pe<ae;pe++)ee[pe]!==H[pe]&&(n.disableVertexAttribArray(pe),ee[pe]=0)}function D(H,ee,pe,ae,ye,Te,J){J===!0?n.vertexAttribIPointer(H,ee,pe,ye,Te):n.vertexAttribPointer(H,ee,pe,ae,ye,Te)}function N(H,ee,pe,ae){T();const ye=ae.attributes,Te=pe.getAttributes(),J=ee.defaultAttributeValues;for(const de in Te){const he=Te[de];if(he.location>=0){let Le=ye[de];if(Le===void 0&&(de==="instanceMatrix"&&H.instanceMatrix&&(Le=H.instanceMatrix),de==="instanceColor"&&H.instanceColor&&(Le=H.instanceColor)),Le!==void 0){const ne=Le.normalized,re=Le.itemSize,ze=e.get(Le);if(ze===void 0)continue;const Ve=ze.buffer,xe=ze.type,$e=ze.bytesPerElement,Ze=xe===n.INT||xe===n.UNSIGNED_INT||Le.gpuType===j_;if(Le.isInterleavedBufferAttribute){const gt=Le.data,yt=gt.stride,vt=Le.offset;if(gt.isInstancedInterleavedBuffer){for(let Vt=0;Vt<he.locationSize;Vt++)w(he.location+Vt,gt.meshPerAttribute);H.isInstancedMesh!==!0&&ae._maxInstanceCount===void 0&&(ae._maxInstanceCount=gt.meshPerAttribute*gt.count)}else for(let Vt=0;Vt<he.locationSize;Vt++)E(he.location+Vt);n.bindBuffer(n.ARRAY_BUFFER,Ve);for(let Vt=0;Vt<he.locationSize;Vt++)D(he.location+Vt,re/he.locationSize,xe,ne,yt*$e,(vt+re/he.locationSize*Vt)*$e,Ze)}else{if(Le.isInstancedBufferAttribute){for(let gt=0;gt<he.locationSize;gt++)w(he.location+gt,Le.meshPerAttribute);H.isInstancedMesh!==!0&&ae._maxInstanceCount===void 0&&(ae._maxInstanceCount=Le.meshPerAttribute*Le.count)}else for(let gt=0;gt<he.locationSize;gt++)E(he.location+gt);n.bindBuffer(n.ARRAY_BUFFER,Ve);for(let gt=0;gt<he.locationSize;gt++)D(he.location+gt,re/he.locationSize,xe,ne,re*$e,re/he.locationSize*gt*$e,Ze)}}else if(J!==void 0){const ne=J[de];if(ne!==void 0)switch(ne.length){case 2:n.vertexAttrib2fv(he.location,ne);break;case 3:n.vertexAttrib3fv(he.location,ne);break;case 4:n.vertexAttrib4fv(he.location,ne);break;default:n.vertexAttrib1fv(he.location,ne)}}}}P()}function G(){$();for(const H in i){const ee=i[H];for(const pe in ee){const ae=ee[pe];for(const ye in ae)d(ae[ye].object),delete ae[ye];delete ee[pe]}delete i[H]}}function k(H){if(i[H.id]===void 0)return;const ee=i[H.id];for(const pe in ee){const ae=ee[pe];for(const ye in ae)d(ae[ye].object),delete ae[ye];delete ee[pe]}delete i[H.id]}function M(H){for(const ee in i){const pe=i[ee];if(pe[H.id]===void 0)continue;const ae=pe[H.id];for(const ye in ae)d(ae[ye].object),delete ae[ye];delete pe[H.id]}}function $(){V(),a=!0,s!==r&&(s=r,u(s.object))}function V(){r.geometry=null,r.program=null,r.wireframe=!1}return{setup:o,reset:$,resetDefaultState:V,dispose:G,releaseStatesOfGeometry:k,releaseStatesOfProgram:M,initAttributes:T,enableAttribute:E,disableUnusedAttributes:P}}function yoe(n,e,t){let i;function r(u){i=u}function s(u,d){n.drawArrays(i,u,d),t.update(d,i,1)}function a(u,d,m){m!==0&&(n.drawArraysInstanced(i,u,d,m),t.update(d,i,m))}function o(u,d,m){if(m===0)return;e.get("WEBGL_multi_draw").multiDrawArraysWEBGL(i,u,0,d,0,m);let y=0;for(let x=0;x<m;x++)y+=d[x];t.update(y,i,1)}function l(u,d,m,v){if(m===0)return;const y=e.get("WEBGL_multi_draw");if(y===null)for(let x=0;x<u.length;x++)a(u[x],d[x],v[x]);else{y.multiDrawArraysInstancedWEBGL(i,u,0,d,0,v,0,m);let x=0;for(let T=0;T<m;T++)x+=d[T]*v[T];t.update(x,i,1)}}this.setMode=r,this.render=s,this.renderInstances=a,this.renderMultiDraw=o,this.renderMultiDrawInstances=l}function _oe(n,e,t,i){let r;function s(){if(r!==void 0)return r;if(e.has("EXT_texture_filter_anisotropic")===!0){const M=e.get("EXT_texture_filter_anisotropic");r=n.getParameter(M.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else r=0;return r}function a(M){return!(M!==ma&&i.convert(M)!==n.getParameter(n.IMPLEMENTATION_COLOR_READ_FORMAT))}function o(M){const $=M===Ha&&(e.has("EXT_color_buffer_half_float")||e.has("EXT_color_buffer_float"));return!(M!==Hl&&i.convert(M)!==n.getParameter(n.IMPLEMENTATION_COLOR_READ_TYPE)&&M!==Ds&&!$)}function l(M){if(M==="highp"){if(n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.HIGH_FLOAT).precision>0&&n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.HIGH_FLOAT).precision>0)return"highp";M="mediump"}return M==="mediump"&&n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.MEDIUM_FLOAT).precision>0&&n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}let u=t.precision!==void 0?t.precision:"highp";const d=l(u);d!==u&&(console.warn("THREE.WebGLRenderer:",u,"not supported, using",d,"instead."),u=d);const m=t.logarithmicDepthBuffer===!0,v=t.reverseDepthBuffer===!0&&e.has("EXT_clip_control"),y=n.getParameter(n.MAX_TEXTURE_IMAGE_UNITS),x=n.getParameter(n.MAX_VERTEX_TEXTURE_IMAGE_UNITS),T=n.getParameter(n.MAX_TEXTURE_SIZE),E=n.getParameter(n.MAX_CUBE_MAP_TEXTURE_SIZE),w=n.getParameter(n.MAX_VERTEX_ATTRIBS),P=n.getParameter(n.MAX_VERTEX_UNIFORM_VECTORS),D=n.getParameter(n.MAX_VARYING_VECTORS),N=n.getParameter(n.MAX_FRAGMENT_UNIFORM_VECTORS),G=x>0,k=n.getParameter(n.MAX_SAMPLES);return{isWebGL2:!0,getMaxAnisotropy:s,getMaxPrecision:l,textureFormatReadable:a,textureTypeReadable:o,precision:u,logarithmicDepthBuffer:m,reverseDepthBuffer:v,maxTextures:y,maxVertexTextures:x,maxTextureSize:T,maxCubemapSize:E,maxAttributes:w,maxVertexUniforms:P,maxVaryings:D,maxFragmentUniforms:N,vertexTextures:G,maxSamples:k}}function boe(n){const e=this;let t=null,i=0,r=!1,s=!1;const a=new id,o=new Oi,l={value:null,needsUpdate:!1};this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(m,v){const y=m.length!==0||v||i!==0||r;return r=v,i=m.length,y},this.beginShadows=function(){s=!0,d(null)},this.endShadows=function(){s=!1},this.setGlobalState=function(m,v){t=d(m,v,0)},this.setState=function(m,v,y){const x=m.clippingPlanes,T=m.clipIntersection,E=m.clipShadows,w=n.get(m);if(!r||x===null||x.length===0||s&&!E)s?d(null):u();else{const P=s?0:i,D=P*4;let N=w.clippingState||null;l.value=N,N=d(x,v,D,y);for(let G=0;G!==D;++G)N[G]=t[G];w.clippingState=N,this.numIntersection=T?this.numPlanes:0,this.numPlanes+=P}};function u(){l.value!==t&&(l.value=t,l.needsUpdate=i>0),e.numPlanes=i,e.numIntersection=0}function d(m,v,y,x){const T=m!==null?m.length:0;let E=null;if(T!==0){if(E=l.value,x!==!0||E===null){const w=y+T*4,P=v.matrixWorldInverse;o.getNormalMatrix(P),(E===null||E.length<w)&&(E=new Float32Array(w));for(let D=0,N=y;D!==T;++D,N+=4)a.copy(m[D]).applyMatrix4(P,o),a.normal.toArray(E,N),E[N+3]=a.constant}l.value=E,l.needsUpdate=!0}return e.numPlanes=T,e.numIntersection=0,E}}function xoe(n){let e=new WeakMap;function t(a,o){return o===uy?a.mapping=fh:o===d_&&(a.mapping=Bp),a}function i(a){if(a&&a.isTexture){const o=a.mapping;if(o===uy||o===d_)if(e.has(a)){const l=e.get(a).texture;return t(l,a.mapping)}else{const l=a.image;if(l&&l.height>0){const u=new MC(l.height);return u.fromEquirectangularTexture(n,a),e.set(a,u),a.addEventListener("dispose",r),t(u.texture,a.mapping)}else return null}}return a}function r(a){const o=a.target;o.removeEventListener("dispose",r);const l=e.get(o);l!==void 0&&(e.delete(o),l.dispose())}function s(){e=new WeakMap}return{get:i,dispose:s}}const $v=4,aL=[.125,.215,.35,.446,.526,.582],Ym=20,_M=new gd,oL=new yn;let bM=null,xM=0,SM=0,wM=!1;const $m=(1+Math.sqrt(5))/2,Pv=1/$m,lL=[new me(-$m,Pv,0),new me($m,Pv,0),new me(-Pv,0,$m),new me(Pv,0,$m),new me(0,$m,-Pv),new me(0,$m,Pv),new me(-1,1,-1),new me(1,1,-1),new me(-1,1,1),new me(1,1,1)],Soe=new me;class lA{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,t=0,i=.1,r=100,s={}){const{size:a=256,position:o=Soe}=s;bM=this._renderer.getRenderTarget(),xM=this._renderer.getActiveCubeFace(),SM=this._renderer.getActiveMipmapLevel(),wM=this._renderer.xr.enabled,this._renderer.xr.enabled=!1,this._setSize(a);const l=this._allocateTargets();return l.depthBuffer=!0,this._sceneToCubeUV(e,i,r,l,o),t>0&&this._blur(l,0,0,t),this._applyPMREM(l),this._cleanup(l),l}fromEquirectangular(e,t=null){return this._fromTexture(e,t)}fromCubemap(e,t=null){return this._fromTexture(e,t)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=fL(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=uL(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(bM,xM,SM),this._renderer.xr.enabled=wM,e.scissorTest=!1,ux(e,0,0,e.width,e.height)}_fromTexture(e,t){e.mapping===fh||e.mapping===Bp?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),bM=this._renderer.getRenderTarget(),xM=this._renderer.getActiveCubeFace(),SM=this._renderer.getActiveMipmapLevel(),wM=this._renderer.xr.enabled,this._renderer.xr.enabled=!1;const i=t||this._allocateTargets();return this._textureToCubeUV(e,i),this._applyPMREM(i),this._cleanup(i),i}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),t=4*this._cubeSize,i={magFilter:Or,minFilter:Or,generateMipmaps:!1,type:Ha,format:ma,colorSpace:vf,depthBuffer:!1},r=cL(e,t,i);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==t){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=cL(e,t,i);const{_lodMax:s}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=woe(s)),this._blurMaterial=Eoe(s,e,t)}return r}_compileMaterial(e){const t=new Gs(this._lodPlanes[0],e);this._renderer.compile(t,_M)}_sceneToCubeUV(e,t,i,r,s){const l=new fa(90,1,t,i),u=[1,-1,1,1,1,1],d=[1,1,1,-1,-1,-1],m=this._renderer,v=m.autoClear,y=m.toneMapping;m.getClearColor(oL),m.toneMapping=oh,m.autoClear=!1;const x=new Cd({name:"PMREM.Background",side:Bl,depthWrite:!1,depthTest:!1}),T=new Gs(new Tg,x);let E=!1;const w=e.background;w?w.isColor&&(x.color.copy(w),e.background=null,E=!0):(x.color.copy(oL),E=!0);for(let P=0;P<6;P++){const D=P%3;D===0?(l.up.set(0,u[P],0),l.position.set(s.x,s.y,s.z),l.lookAt(s.x+d[P],s.y,s.z)):D===1?(l.up.set(0,0,u[P]),l.position.set(s.x,s.y,s.z),l.lookAt(s.x,s.y+d[P],s.z)):(l.up.set(0,u[P],0),l.position.set(s.x,s.y,s.z),l.lookAt(s.x,s.y,s.z+d[P]));const N=this._cubeSize;ux(r,D*N,P>2?N:0,N,N),m.setRenderTarget(r),E&&m.render(T,l),m.render(e,l)}T.geometry.dispose(),T.material.dispose(),m.toneMapping=y,m.autoClear=v,e.background=w}_textureToCubeUV(e,t){const i=this._renderer,r=e.mapping===fh||e.mapping===Bp;r?(this._cubemapMaterial===null&&(this._cubemapMaterial=fL()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=uL());const s=r?this._cubemapMaterial:this._equirectMaterial,a=new Gs(this._lodPlanes[0],s),o=s.uniforms;o.envMap.value=e;const l=this._cubeSize;ux(t,0,0,3*l,2*l),i.setRenderTarget(t),i.render(a,_M)}_applyPMREM(e){const t=this._renderer,i=t.autoClear;t.autoClear=!1;const r=this._lodPlanes.length;for(let s=1;s<r;s++){const a=Math.sqrt(this._sigmas[s]*this._sigmas[s]-this._sigmas[s-1]*this._sigmas[s-1]),o=lL[(r-s-1)%lL.length];this._blur(e,s-1,s,a,o)}t.autoClear=i}_blur(e,t,i,r,s){const a=this._pingPongRenderTarget;this._halfBlur(e,a,t,i,r,"latitudinal",s),this._halfBlur(a,e,i,i,r,"longitudinal",s)}_halfBlur(e,t,i,r,s,a,o){const l=this._renderer,u=this._blurMaterial;a!=="latitudinal"&&a!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const d=3,m=new Gs(this._lodPlanes[r],u),v=u.uniforms,y=this._sizeLods[i]-1,x=isFinite(s)?Math.PI/(2*y):2*Math.PI/(2*Ym-1),T=s/x,E=isFinite(s)?1+Math.floor(d*T):Ym;E>Ym&&console.warn(`sigmaRadians, ${s}, is too large and will clip, as it requested ${E} samples when the maximum is set to ${Ym}`);const w=[];let P=0;for(let M=0;M<Ym;++M){const $=M/T,V=Math.exp(-$*$/2);w.push(V),M===0?P+=V:M<E&&(P+=2*V)}for(let M=0;M<w.length;M++)w[M]=w[M]/P;v.envMap.value=e.texture,v.samples.value=E,v.weights.value=w,v.latitudinal.value=a==="latitudinal",o&&(v.poleAxis.value=o);const{_lodMax:D}=this;v.dTheta.value=x,v.mipInt.value=D-i;const N=this._sizeLods[r],G=3*N*(r>D-$v?r-D+$v:0),k=4*(this._cubeSize-N);ux(t,G,k,3*N,2*N),l.setRenderTarget(t),l.render(m,_M)}}function woe(n){const e=[],t=[],i=[];let r=n;const s=n-$v+1+aL.length;for(let a=0;a<s;a++){const o=Math.pow(2,r);t.push(o);let l=1/o;a>n-$v?l=aL[a-n+$v-1]:a===0&&(l=0),i.push(l);const u=1/(o-2),d=-u,m=1+u,v=[d,d,m,d,m,m,d,d,m,m,d,m],y=6,x=6,T=3,E=2,w=1,P=new Float32Array(T*x*y),D=new Float32Array(E*x*y),N=new Float32Array(w*x*y);for(let k=0;k<y;k++){const M=k%3*2/3-1,$=k>2?0:-1,V=[M,$,0,M+2/3,$,0,M+2/3,$+1,0,M,$,0,M+2/3,$+1,0,M,$+1,0];P.set(V,T*x*k),D.set(v,E*x*k);const H=[k,k,k,k,k,k];N.set(H,w*x*k)}const G=new zi;G.setAttribute("position",new Qr(P,T)),G.setAttribute("uv",new Qr(D,E)),G.setAttribute("faceIndex",new Qr(N,w)),e.push(G),r>$v&&r--}return{lodPlanes:e,sizeLods:t,sigmas:i}}function cL(n,e,t){const i=new Fc(n,e,t);return i.texture.mapping=My,i.texture.name="PMREM.cubeUv",i.scissorTest=!0,i}function ux(n,e,t,i,r){n.viewport.set(e,t,i,r),n.scissor.set(e,t,i,r)}function Eoe(n,e,t){const i=new Float32Array(Ym),r=new me(0,1,0);return new pc({name:"SphericalGaussianBlur",defines:{n:Ym,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/t,CUBEUV_MAX_MIP:`${n}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:i},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:r}},vertexShader:KC(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:ah,depthTest:!1,depthWrite:!1})}function uL(){return new pc({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:KC(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:ah,depthTest:!1,depthWrite:!1})}function fL(){return new pc({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:KC(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:ah,depthTest:!1,depthWrite:!1})}function KC(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function Toe(n){let e=new WeakMap,t=null;function i(o){if(o&&o.isTexture){const l=o.mapping,u=l===uy||l===d_,d=l===fh||l===Bp;if(u||d){let m=e.get(o);const v=m!==void 0?m.texture.pmremVersion:0;if(o.isRenderTargetTexture&&o.pmremVersion!==v)return t===null&&(t=new lA(n)),m=u?t.fromEquirectangular(o,m):t.fromCubemap(o,m),m.texture.pmremVersion=o.pmremVersion,e.set(o,m),m.texture;if(m!==void 0)return m.texture;{const y=o.image;return u&&y&&y.height>0||d&&y&&r(y)?(t===null&&(t=new lA(n)),m=u?t.fromEquirectangular(o):t.fromCubemap(o),m.texture.pmremVersion=o.pmremVersion,e.set(o,m),o.addEventListener("dispose",s),m.texture):null}}}return o}function r(o){let l=0;const u=6;for(let d=0;d<u;d++)o[d]!==void 0&&l++;return l===u}function s(o){const l=o.target;l.removeEventListener("dispose",s);const u=e.get(l);u!==void 0&&(e.delete(l),u.dispose())}function a(){e=new WeakMap,t!==null&&(t.dispose(),t=null)}return{get:i,dispose:a}}function Moe(n){const e={};function t(i){if(e[i]!==void 0)return e[i];let r;switch(i){case"WEBGL_depth_texture":r=n.getExtension("WEBGL_depth_texture")||n.getExtension("MOZ_WEBGL_depth_texture")||n.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":r=n.getExtension("EXT_texture_filter_anisotropic")||n.getExtension("MOZ_EXT_texture_filter_anisotropic")||n.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":r=n.getExtension("WEBGL_compressed_texture_s3tc")||n.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":r=n.getExtension("WEBGL_compressed_texture_pvrtc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:r=n.getExtension(i)}return e[i]=r,r}return{has:function(i){return t(i)!==null},init:function(){t("EXT_color_buffer_float"),t("WEBGL_clip_cull_distance"),t("OES_texture_float_linear"),t("EXT_color_buffer_half_float"),t("WEBGL_multisampled_render_to_texture"),t("WEBGL_render_shared_exponent")},get:function(i){const r=t(i);return r===null&&Jv("THREE.WebGLRenderer: "+i+" extension not supported."),r}}}function Aoe(n,e,t,i){const r={},s=new WeakMap;function a(m){const v=m.target;v.index!==null&&e.remove(v.index);for(const x in v.attributes)e.remove(v.attributes[x]);v.removeEventListener("dispose",a),delete r[v.id];const y=s.get(v);y&&(e.remove(y),s.delete(v)),i.releaseStatesOfGeometry(v),v.isInstancedBufferGeometry===!0&&delete v._maxInstanceCount,t.memory.geometries--}function o(m,v){return r[v.id]===!0||(v.addEventListener("dispose",a),r[v.id]=!0,t.memory.geometries++),v}function l(m){const v=m.attributes;for(const y in v)e.update(v[y],n.ARRAY_BUFFER)}function u(m){const v=[],y=m.index,x=m.attributes.position;let T=0;if(y!==null){const P=y.array;T=y.version;for(let D=0,N=P.length;D<N;D+=3){const G=P[D+0],k=P[D+1],M=P[D+2];v.push(G,k,k,M,M,G)}}else if(x!==void 0){const P=x.array;T=x.version;for(let D=0,N=P.length/3-1;D<N;D+=3){const G=D+0,k=D+1,M=D+2;v.push(G,k,k,M,M,G)}}else return;const E=new(Mz(v)?TC:EC)(v,1);E.version=T;const w=s.get(m);w&&e.remove(w),s.set(m,E)}function d(m){const v=s.get(m);if(v){const y=m.index;y!==null&&v.version<y.version&&u(m)}else u(m);return s.get(m)}return{get:o,update:l,getWireframeAttribute:d}}function Coe(n,e,t){let i;function r(v){i=v}let s,a;function o(v){s=v.type,a=v.bytesPerElement}function l(v,y){n.drawElements(i,y,s,v*a),t.update(y,i,1)}function u(v,y,x){x!==0&&(n.drawElementsInstanced(i,y,s,v*a,x),t.update(y,i,x))}function d(v,y,x){if(x===0)return;e.get("WEBGL_multi_draw").multiDrawElementsWEBGL(i,y,0,s,v,0,x);let E=0;for(let w=0;w<x;w++)E+=y[w];t.update(E,i,1)}function m(v,y,x,T){if(x===0)return;const E=e.get("WEBGL_multi_draw");if(E===null)for(let w=0;w<v.length;w++)u(v[w]/a,y[w],T[w]);else{E.multiDrawElementsInstancedWEBGL(i,y,0,s,v,0,T,0,x);let w=0;for(let P=0;P<x;P++)w+=y[P]*T[P];t.update(w,i,1)}}this.setMode=r,this.setIndex=o,this.render=l,this.renderInstances=u,this.renderMultiDraw=d,this.renderMultiDrawInstances=m}function Roe(n){const e={geometries:0,textures:0},t={frame:0,calls:0,triangles:0,points:0,lines:0};function i(s,a,o){switch(t.calls++,a){case n.TRIANGLES:t.triangles+=o*(s/3);break;case n.LINES:t.lines+=o*(s/2);break;case n.LINE_STRIP:t.lines+=o*(s-1);break;case n.LINE_LOOP:t.lines+=o*s;break;case n.POINTS:t.points+=o*s;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",a);break}}function r(){t.calls=0,t.triangles=0,t.points=0,t.lines=0}return{memory:e,render:t,programs:null,autoReset:!0,reset:r,update:i}}function Ooe(n,e,t){const i=new WeakMap,r=new _r;function s(a,o,l){const u=a.morphTargetInfluences,d=o.morphAttributes.position||o.morphAttributes.normal||o.morphAttributes.color,m=d!==void 0?d.length:0;let v=i.get(o);if(v===void 0||v.count!==m){let H=function(){$.dispose(),i.delete(o),o.removeEventListener("dispose",H)};var y=H;v!==void 0&&v.texture.dispose();const x=o.morphAttributes.position!==void 0,T=o.morphAttributes.normal!==void 0,E=o.morphAttributes.color!==void 0,w=o.morphAttributes.position||[],P=o.morphAttributes.normal||[],D=o.morphAttributes.color||[];let N=0;x===!0&&(N=1),T===!0&&(N=2),E===!0&&(N=3);let G=o.attributes.position.count*N,k=1;G>e.maxTextureSize&&(k=Math.ceil(G/e.maxTextureSize),G=e.maxTextureSize);const M=new Float32Array(G*k*4*m),$=new Lw(M,G,k,m);$.type=Ds,$.needsUpdate=!0;const V=N*4;for(let ee=0;ee<m;ee++){const pe=w[ee],ae=P[ee],ye=D[ee],Te=G*k*4*ee;for(let J=0;J<pe.count;J++){const de=J*V;x===!0&&(r.fromBufferAttribute(pe,J),M[Te+de+0]=r.x,M[Te+de+1]=r.y,M[Te+de+2]=r.z,M[Te+de+3]=0),T===!0&&(r.fromBufferAttribute(ae,J),M[Te+de+4]=r.x,M[Te+de+5]=r.y,M[Te+de+6]=r.z,M[Te+de+7]=0),E===!0&&(r.fromBufferAttribute(ye,J),M[Te+de+8]=r.x,M[Te+de+9]=r.y,M[Te+de+10]=r.z,M[Te+de+11]=ye.itemSize===4?r.w:1)}}v={count:m,texture:$,size:new Lt(G,k)},i.set(o,v),o.addEventListener("dispose",H)}if(a.isInstancedMesh===!0&&a.morphTexture!==null)l.getUniforms().setValue(n,"morphTexture",a.morphTexture,t);else{let x=0;for(let E=0;E<u.length;E++)x+=u[E];const T=o.morphTargetsRelative?1:1-x;l.getUniforms().setValue(n,"morphTargetBaseInfluence",T),l.getUniforms().setValue(n,"morphTargetInfluences",u)}l.getUniforms().setValue(n,"morphTargetsTexture",v.texture,t),l.getUniforms().setValue(n,"morphTargetsTextureSize",v.size)}return{update:s}}function Poe(n,e,t,i){let r=new WeakMap;function s(l){const u=i.render.frame,d=l.geometry,m=e.get(l,d);if(r.get(m)!==u&&(e.update(m),r.set(m,u)),l.isInstancedMesh&&(l.hasEventListener("dispose",o)===!1&&l.addEventListener("dispose",o),r.get(l)!==u&&(t.update(l.instanceMatrix,n.ARRAY_BUFFER),l.instanceColor!==null&&t.update(l.instanceColor,n.ARRAY_BUFFER),r.set(l,u))),l.isSkinnedMesh){const v=l.skeleton;r.get(v)!==u&&(v.update(),r.set(v,u))}return m}function a(){r=new WeakMap}function o(l){const u=l.target;u.removeEventListener("dispose",o),t.remove(u.instanceMatrix),u.instanceColor!==null&&t.remove(u.instanceColor)}return{update:s,dispose:a}}const PU=new zr,hL=new Vw(1,1),DU=new Lw,LU=new Nw,NU=new W_,dL=[],pL=[],mL=new Float32Array(16),gL=new Float32Array(9),vL=new Float32Array(4);function Cy(n,e,t){const i=n[0];if(i<=0||i>0)return n;const r=e*t;let s=dL[r];if(s===void 0&&(s=new Float32Array(r),dL[r]=s),e!==0){i.toArray(s,0);for(let a=1,o=0;a!==e;++a)o+=t,n[a].toArray(s,o)}return s}function Va(n,e){if(n.length!==e.length)return!1;for(let t=0,i=n.length;t<i;t++)if(n[t]!==e[t])return!1;return!0}function Ga(n,e){for(let t=0,i=e.length;t<i;t++)n[t]=e[t]}function rE(n,e){let t=pL[e];t===void 0&&(t=new Int32Array(e),pL[e]=t);for(let i=0;i!==e;++i)t[i]=n.allocateTextureUnit();return t}function Doe(n,e){const t=this.cache;t[0]!==e&&(n.uniform1f(this.addr,e),t[0]=e)}function Loe(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2f(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(Va(t,e))return;n.uniform2fv(this.addr,e),Ga(t,e)}}function Noe(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3f(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else if(e.r!==void 0)(t[0]!==e.r||t[1]!==e.g||t[2]!==e.b)&&(n.uniform3f(this.addr,e.r,e.g,e.b),t[0]=e.r,t[1]=e.g,t[2]=e.b);else{if(Va(t,e))return;n.uniform3fv(this.addr,e),Ga(t,e)}}function Ioe(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4f(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(Va(t,e))return;n.uniform4fv(this.addr,e),Ga(t,e)}}function zoe(n,e){const t=this.cache,i=e.elements;if(i===void 0){if(Va(t,e))return;n.uniformMatrix2fv(this.addr,!1,e),Ga(t,e)}else{if(Va(t,i))return;vL.set(i),n.uniformMatrix2fv(this.addr,!1,vL),Ga(t,i)}}function Uoe(n,e){const t=this.cache,i=e.elements;if(i===void 0){if(Va(t,e))return;n.uniformMatrix3fv(this.addr,!1,e),Ga(t,e)}else{if(Va(t,i))return;gL.set(i),n.uniformMatrix3fv(this.addr,!1,gL),Ga(t,i)}}function Boe(n,e){const t=this.cache,i=e.elements;if(i===void 0){if(Va(t,e))return;n.uniformMatrix4fv(this.addr,!1,e),Ga(t,e)}else{if(Va(t,i))return;mL.set(i),n.uniformMatrix4fv(this.addr,!1,mL),Ga(t,i)}}function koe(n,e){const t=this.cache;t[0]!==e&&(n.uniform1i(this.addr,e),t[0]=e)}function Hoe(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2i(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(Va(t,e))return;n.uniform2iv(this.addr,e),Ga(t,e)}}function Foe(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3i(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(Va(t,e))return;n.uniform3iv(this.addr,e),Ga(t,e)}}function Voe(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4i(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(Va(t,e))return;n.uniform4iv(this.addr,e),Ga(t,e)}}function Goe(n,e){const t=this.cache;t[0]!==e&&(n.uniform1ui(this.addr,e),t[0]=e)}function joe(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2ui(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(Va(t,e))return;n.uniform2uiv(this.addr,e),Ga(t,e)}}function $oe(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3ui(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(Va(t,e))return;n.uniform3uiv(this.addr,e),Ga(t,e)}}function qoe(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4ui(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(Va(t,e))return;n.uniform4uiv(this.addr,e),Ga(t,e)}}function Woe(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r);let s;this.type===n.SAMPLER_2D_SHADOW?(hL.compareFunction=xC,s=hL):s=PU,t.setTexture2D(e||s,r)}function Xoe(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),t.setTexture3D(e||LU,r)}function Yoe(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),t.setTextureCube(e||NU,r)}function Zoe(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),t.setTexture2DArray(e||DU,r)}function Koe(n){switch(n){case 5126:return Doe;case 35664:return Loe;case 35665:return Noe;case 35666:return Ioe;case 35674:return zoe;case 35675:return Uoe;case 35676:return Boe;case 5124:case 35670:return koe;case 35667:case 35671:return Hoe;case 35668:case 35672:return Foe;case 35669:case 35673:return Voe;case 5125:return Goe;case 36294:return joe;case 36295:return $oe;case 36296:return qoe;case 35678:case 36198:case 36298:case 36306:case 35682:return Woe;case 35679:case 36299:case 36307:return Xoe;case 35680:case 36300:case 36308:case 36293:return Yoe;case 36289:case 36303:case 36311:case 36292:return Zoe}}function Qoe(n,e){n.uniform1fv(this.addr,e)}function Joe(n,e){const t=Cy(e,this.size,2);n.uniform2fv(this.addr,t)}function ele(n,e){const t=Cy(e,this.size,3);n.uniform3fv(this.addr,t)}function tle(n,e){const t=Cy(e,this.size,4);n.uniform4fv(this.addr,t)}function nle(n,e){const t=Cy(e,this.size,4);n.uniformMatrix2fv(this.addr,!1,t)}function ile(n,e){const t=Cy(e,this.size,9);n.uniformMatrix3fv(this.addr,!1,t)}function rle(n,e){const t=Cy(e,this.size,16);n.uniformMatrix4fv(this.addr,!1,t)}function sle(n,e){n.uniform1iv(this.addr,e)}function ale(n,e){n.uniform2iv(this.addr,e)}function ole(n,e){n.uniform3iv(this.addr,e)}function lle(n,e){n.uniform4iv(this.addr,e)}function cle(n,e){n.uniform1uiv(this.addr,e)}function ule(n,e){n.uniform2uiv(this.addr,e)}function fle(n,e){n.uniform3uiv(this.addr,e)}function hle(n,e){n.uniform4uiv(this.addr,e)}function dle(n,e,t){const i=this.cache,r=e.length,s=rE(t,r);Va(i,s)||(n.uniform1iv(this.addr,s),Ga(i,s));for(let a=0;a!==r;++a)t.setTexture2D(e[a]||PU,s[a])}function ple(n,e,t){const i=this.cache,r=e.length,s=rE(t,r);Va(i,s)||(n.uniform1iv(this.addr,s),Ga(i,s));for(let a=0;a!==r;++a)t.setTexture3D(e[a]||LU,s[a])}function mle(n,e,t){const i=this.cache,r=e.length,s=rE(t,r);Va(i,s)||(n.uniform1iv(this.addr,s),Ga(i,s));for(let a=0;a!==r;++a)t.setTextureCube(e[a]||NU,s[a])}function gle(n,e,t){const i=this.cache,r=e.length,s=rE(t,r);Va(i,s)||(n.uniform1iv(this.addr,s),Ga(i,s));for(let a=0;a!==r;++a)t.setTexture2DArray(e[a]||DU,s[a])}function vle(n){switch(n){case 5126:return Qoe;case 35664:return Joe;case 35665:return ele;case 35666:return tle;case 35674:return nle;case 35675:return ile;case 35676:return rle;case 5124:case 35670:return sle;case 35667:case 35671:return ale;case 35668:case 35672:return ole;case 35669:case 35673:return lle;case 5125:return cle;case 36294:return ule;case 36295:return fle;case 36296:return hle;case 35678:case 36198:case 36298:case 36306:case 35682:return dle;case 35679:case 36299:case 36307:return ple;case 35680:case 36300:case 36308:case 36293:return mle;case 36289:case 36303:case 36311:case 36292:return gle}}class yle{constructor(e,t,i){this.id=e,this.addr=i,this.cache=[],this.type=t.type,this.setValue=Koe(t.type)}}class _le{constructor(e,t,i){this.id=e,this.addr=i,this.cache=[],this.type=t.type,this.size=t.size,this.setValue=vle(t.type)}}class ble{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,t,i){const r=this.seq;for(let s=0,a=r.length;s!==a;++s){const o=r[s];o.setValue(e,t[o.id],i)}}}const EM=/(\w+)(\])?(\[|\.)?/g;function yL(n,e){n.seq.push(e),n.map[e.id]=e}function xle(n,e,t){const i=n.name,r=i.length;for(EM.lastIndex=0;;){const s=EM.exec(i),a=EM.lastIndex;let o=s[1];const l=s[2]==="]",u=s[3];if(l&&(o=o|0),u===void 0||u==="["&&a+2===r){yL(t,u===void 0?new yle(o,n,e):new _le(o,n,e));break}else{let m=t.map[o];m===void 0&&(m=new ble(o),yL(t,m)),t=m}}}class Ix{constructor(e,t){this.seq=[],this.map={};const i=e.getProgramParameter(t,e.ACTIVE_UNIFORMS);for(let r=0;r<i;++r){const s=e.getActiveUniform(t,r),a=e.getUniformLocation(t,s.name);xle(s,a,this)}}setValue(e,t,i,r){const s=this.map[t];s!==void 0&&s.setValue(e,i,r)}setOptional(e,t,i){const r=t[i];r!==void 0&&this.setValue(e,i,r)}static upload(e,t,i,r){for(let s=0,a=t.length;s!==a;++s){const o=t[s],l=i[o.id];l.needsUpdate!==!1&&o.setValue(e,l.value,r)}}static seqWithValue(e,t){const i=[];for(let r=0,s=e.length;r!==s;++r){const a=e[r];a.id in t&&i.push(a)}return i}}function _L(n,e,t){const i=n.createShader(e);return n.shaderSource(i,t),n.compileShader(i),i}const Sle=37297;let wle=0;function Ele(n,e){const t=n.split(`
`),i=[],r=Math.max(e-6,0),s=Math.min(e+6,t.length);for(let a=r;a<s;a++){const o=a+1;i.push(`${o===e?">":" "} ${o}: ${t[a]}`)}return i.join(`
`)}const bL=new Oi;function Tle(n){ur._getMatrix(bL,ur.workingColorSpace,n);const e=`mat3( ${bL.elements.map(t=>t.toFixed(4))} )`;switch(ur.getTransfer(n)){case y_:return[e,"LinearTransferOETF"];case Gr:return[e,"sRGBTransferOETF"];default:return console.warn("THREE.WebGLProgram: Unsupported color space: ",n),[e,"LinearTransferOETF"]}}function xL(n,e,t){const i=n.getShaderParameter(e,n.COMPILE_STATUS),r=n.getShaderInfoLog(e).trim();if(i&&r==="")return"";const s=/ERROR: 0:(\d+)/.exec(r);if(s){const a=parseInt(s[1]);return t.toUpperCase()+`

`+r+`

`+Ele(n.getShaderSource(e),a)}else return r}function Mle(n,e){const t=Tle(e);return[`vec4 ${n}( vec4 value ) {`,`	return ${t[1]}( vec4( value.rgb * ${t[0]}, value.a ) );`,"}"].join(`
`)}function Ale(n,e){let t;switch(e){case Tw:t="Linear";break;case az:t="Reinhard";break;case oz:t="Cineon";break;case dC:t="ACESFilmic";break;case cz:t="AgX";break;case uz:t="Neutral";break;case lz:t="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),t="Linear"}return"vec3 "+n+"( vec3 color ) { return "+t+"ToneMapping( color ); }"}const fx=new me;function Cle(){ur.getLuminanceCoefficients(fx);const n=fx.x.toFixed(4),e=fx.y.toFixed(4),t=fx.z.toFixed(4);return["float luminance( const in vec3 rgb ) {",`	const vec3 weights = vec3( ${n}, ${e}, ${t} );`,"	return dot( weights, rgb );","}"].join(`
`)}function Rle(n){return[n.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":"",n.extensionMultiDraw?"#extension GL_ANGLE_multi_draw : require":""].filter(k0).join(`
`)}function Ole(n){const e=[];for(const t in n){const i=n[t];i!==!1&&e.push("#define "+t+" "+i)}return e.join(`
`)}function Ple(n,e){const t={},i=n.getProgramParameter(e,n.ACTIVE_ATTRIBUTES);for(let r=0;r<i;r++){const s=n.getActiveAttrib(e,r),a=s.name;let o=1;s.type===n.FLOAT_MAT2&&(o=2),s.type===n.FLOAT_MAT3&&(o=3),s.type===n.FLOAT_MAT4&&(o=4),t[a]={type:s.type,location:n.getAttribLocation(e,a),locationSize:o}}return t}function k0(n){return n!==""}function SL(n,e){const t=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return n.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,t).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function wL(n,e){return n.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const Dle=/^[ \t]*#include +<([\w\d./]+)>/gm;function cA(n){return n.replace(Dle,Nle)}const Lle=new Map;function Nle(n,e){let t=ki[e];if(t===void 0){const i=Lle.get(e);if(i!==void 0)t=ki[i],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',e,i);else throw new Error("Can not resolve #include <"+e+">")}return cA(t)}const Ile=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function EL(n){return n.replace(Ile,zle)}function zle(n,e,t,i){let r="";for(let s=parseInt(e);s<parseInt(t);s++)r+=i.replace(/\[\s*i\s*\]/g,"[ "+s+" ]").replace(/UNROLLED_LOOP_INDEX/g,s);return r}function TL(n){let e=`precision ${n.precision} float;
	precision ${n.precision} int;
	precision ${n.precision} sampler2D;
	precision ${n.precision} samplerCube;
	precision ${n.precision} sampler3D;
	precision ${n.precision} sampler2DArray;
	precision ${n.precision} sampler2DShadow;
	precision ${n.precision} samplerCubeShadow;
	precision ${n.precision} sampler2DArrayShadow;
	precision ${n.precision} isampler2D;
	precision ${n.precision} isampler3D;
	precision ${n.precision} isamplerCube;
	precision ${n.precision} isampler2DArray;
	precision ${n.precision} usampler2D;
	precision ${n.precision} usampler3D;
	precision ${n.precision} usamplerCube;
	precision ${n.precision} usampler2DArray;
	`;return n.precision==="highp"?e+=`
#define HIGH_PRECISION`:n.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:n.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function Ule(n){let e="SHADOWMAP_TYPE_BASIC";return n.shadowMapType===Ew?e="SHADOWMAP_TYPE_PCF":n.shadowMapType===j0?e="SHADOWMAP_TYPE_PCF_SOFT":n.shadowMapType===rf&&(e="SHADOWMAP_TYPE_VSM"),e}function Ble(n){let e="ENVMAP_TYPE_CUBE";if(n.envMap)switch(n.envMapMode){case fh:case Bp:e="ENVMAP_TYPE_CUBE";break;case My:e="ENVMAP_TYPE_CUBE_UV";break}return e}function kle(n){let e="ENVMAP_MODE_REFLECTION";if(n.envMap)switch(n.envMapMode){case Bp:e="ENVMAP_MODE_REFRACTION";break}return e}function Hle(n){let e="ENVMAP_BLENDING_NONE";if(n.envMap)switch(n.combine){case G_:e="ENVMAP_BLENDING_MULTIPLY";break;case rz:e="ENVMAP_BLENDING_MIX";break;case sz:e="ENVMAP_BLENDING_ADD";break}return e}function Fle(n){const e=n.envMapCubeUVHeight;if(e===null)return null;const t=Math.log2(e)-2,i=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,t),112)),texelHeight:i,maxMip:t}}function Vle(n,e,t,i){const r=n.getContext(),s=t.defines;let a=t.vertexShader,o=t.fragmentShader;const l=Ule(t),u=Ble(t),d=kle(t),m=Hle(t),v=Fle(t),y=Rle(t),x=Ole(s),T=r.createProgram();let E,w,P=t.glslVersion?"#version "+t.glslVersion+`
`:"";t.isRawShaderMaterial?(E=["#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,x].filter(k0).join(`
`),E.length>0&&(E+=`
`),w=["#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,x].filter(k0).join(`
`),w.length>0&&(w+=`
`)):(E=[TL(t),"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,x,t.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",t.batching?"#define USE_BATCHING":"",t.batchingColor?"#define USE_BATCHING_COLOR":"",t.instancing?"#define USE_INSTANCING":"",t.instancingColor?"#define USE_INSTANCING_COLOR":"",t.instancingMorph?"#define USE_INSTANCING_MORPH":"",t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+d:"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.displacementMap?"#define USE_DISPLACEMENTMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.anisotropy?"#define USE_ANISOTROPY":"",t.anisotropyMap?"#define USE_ANISOTROPYMAP":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaHash?"#define USE_ALPHAHASH":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.mapUv?"#define MAP_UV "+t.mapUv:"",t.alphaMapUv?"#define ALPHAMAP_UV "+t.alphaMapUv:"",t.lightMapUv?"#define LIGHTMAP_UV "+t.lightMapUv:"",t.aoMapUv?"#define AOMAP_UV "+t.aoMapUv:"",t.emissiveMapUv?"#define EMISSIVEMAP_UV "+t.emissiveMapUv:"",t.bumpMapUv?"#define BUMPMAP_UV "+t.bumpMapUv:"",t.normalMapUv?"#define NORMALMAP_UV "+t.normalMapUv:"",t.displacementMapUv?"#define DISPLACEMENTMAP_UV "+t.displacementMapUv:"",t.metalnessMapUv?"#define METALNESSMAP_UV "+t.metalnessMapUv:"",t.roughnessMapUv?"#define ROUGHNESSMAP_UV "+t.roughnessMapUv:"",t.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+t.anisotropyMapUv:"",t.clearcoatMapUv?"#define CLEARCOATMAP_UV "+t.clearcoatMapUv:"",t.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+t.clearcoatNormalMapUv:"",t.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+t.clearcoatRoughnessMapUv:"",t.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+t.iridescenceMapUv:"",t.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+t.iridescenceThicknessMapUv:"",t.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+t.sheenColorMapUv:"",t.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+t.sheenRoughnessMapUv:"",t.specularMapUv?"#define SPECULARMAP_UV "+t.specularMapUv:"",t.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+t.specularColorMapUv:"",t.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+t.specularIntensityMapUv:"",t.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+t.transmissionMapUv:"",t.thicknessMapUv?"#define THICKNESSMAP_UV "+t.thicknessMapUv:"",t.vertexTangents&&t.flatShading===!1?"#define USE_TANGENT":"",t.vertexColors?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.flatShading?"#define FLAT_SHADED":"",t.skinning?"#define USE_SKINNING":"",t.morphTargets?"#define USE_MORPHTARGETS":"",t.morphNormals&&t.flatShading===!1?"#define USE_MORPHNORMALS":"",t.morphColors?"#define USE_MORPHCOLORS":"",t.morphTargetsCount>0?"#define MORPHTARGETS_TEXTURE_STRIDE "+t.morphTextureStride:"",t.morphTargetsCount>0?"#define MORPHTARGETS_COUNT "+t.morphTargetsCount:"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+l:"",t.sizeAttenuation?"#define USE_SIZEATTENUATION":"",t.numLightProbes>0?"#define USE_LIGHT_PROBES":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.reverseDepthBuffer?"#define USE_REVERSEDEPTHBUF":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","#ifdef USE_INSTANCING_MORPH","	uniform sampler2D morphTexture;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(k0).join(`
`),w=[TL(t),"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,x,t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.alphaToCoverage?"#define ALPHA_TO_COVERAGE":"",t.map?"#define USE_MAP":"",t.matcap?"#define USE_MATCAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+u:"",t.envMap?"#define "+d:"",t.envMap?"#define "+m:"",v?"#define CUBEUV_TEXEL_WIDTH "+v.texelWidth:"",v?"#define CUBEUV_TEXEL_HEIGHT "+v.texelHeight:"",v?"#define CUBEUV_MAX_MIP "+v.maxMip+".0":"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.anisotropy?"#define USE_ANISOTROPY":"",t.anisotropyMap?"#define USE_ANISOTROPYMAP":"",t.clearcoat?"#define USE_CLEARCOAT":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.dispersion?"#define USE_DISPERSION":"",t.iridescence?"#define USE_IRIDESCENCE":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaTest?"#define USE_ALPHATEST":"",t.alphaHash?"#define USE_ALPHAHASH":"",t.sheen?"#define USE_SHEEN":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.vertexTangents&&t.flatShading===!1?"#define USE_TANGENT":"",t.vertexColors||t.instancingColor||t.batchingColor?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.gradientMap?"#define USE_GRADIENTMAP":"",t.flatShading?"#define FLAT_SHADED":"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+l:"",t.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",t.numLightProbes>0?"#define USE_LIGHT_PROBES":"",t.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",t.decodeVideoTextureEmissive?"#define DECODE_VIDEO_TEXTURE_EMISSIVE":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.reverseDepthBuffer?"#define USE_REVERSEDEPTHBUF":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",t.toneMapping!==oh?"#define TONE_MAPPING":"",t.toneMapping!==oh?ki.tonemapping_pars_fragment:"",t.toneMapping!==oh?Ale("toneMapping",t.toneMapping):"",t.dithering?"#define DITHERING":"",t.opaque?"#define OPAQUE":"",ki.colorspace_pars_fragment,Mle("linearToOutputTexel",t.outputColorSpace),Cle(),t.useDepthPacking?"#define DEPTH_PACKING "+t.depthPacking:"",`
`].filter(k0).join(`
`)),a=cA(a),a=SL(a,t),a=wL(a,t),o=cA(o),o=SL(o,t),o=wL(o,t),a=EL(a),o=EL(o),t.isRawShaderMaterial!==!0&&(P=`#version 300 es
`,E=[y,"#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+E,w=["#define varying in",t.glslVersion===J2?"":"layout(location = 0) out highp vec4 pc_fragColor;",t.glslVersion===J2?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+w);const D=P+E+a,N=P+w+o,G=_L(r,r.VERTEX_SHADER,D),k=_L(r,r.FRAGMENT_SHADER,N);r.attachShader(T,G),r.attachShader(T,k),t.index0AttributeName!==void 0?r.bindAttribLocation(T,0,t.index0AttributeName):t.morphTargets===!0&&r.bindAttribLocation(T,0,"position"),r.linkProgram(T);function M(ee){if(n.debug.checkShaderErrors){const pe=r.getProgramInfoLog(T).trim(),ae=r.getShaderInfoLog(G).trim(),ye=r.getShaderInfoLog(k).trim();let Te=!0,J=!0;if(r.getProgramParameter(T,r.LINK_STATUS)===!1)if(Te=!1,typeof n.debug.onShaderError=="function")n.debug.onShaderError(r,T,G,k);else{const de=xL(r,G,"vertex"),he=xL(r,k,"fragment");console.error("THREE.WebGLProgram: Shader Error "+r.getError()+" - VALIDATE_STATUS "+r.getProgramParameter(T,r.VALIDATE_STATUS)+`

Material Name: `+ee.name+`
Material Type: `+ee.type+`

Program Info Log: `+pe+`
`+de+`
`+he)}else pe!==""?console.warn("THREE.WebGLProgram: Program Info Log:",pe):(ae===""||ye==="")&&(J=!1);J&&(ee.diagnostics={runnable:Te,programLog:pe,vertexShader:{log:ae,prefix:E},fragmentShader:{log:ye,prefix:w}})}r.deleteShader(G),r.deleteShader(k),$=new Ix(r,T),V=Ple(r,T)}let $;this.getUniforms=function(){return $===void 0&&M(this),$};let V;this.getAttributes=function(){return V===void 0&&M(this),V};let H=t.rendererExtensionParallelShaderCompile===!1;return this.isReady=function(){return H===!1&&(H=r.getProgramParameter(T,Sle)),H},this.destroy=function(){i.releaseStatesOfProgram(this),r.deleteProgram(T),this.program=void 0},this.type=t.shaderType,this.name=t.shaderName,this.id=wle++,this.cacheKey=e,this.usedTimes=1,this.program=T,this.vertexShader=G,this.fragmentShader=k,this}let Gle=0;class jle{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const t=e.vertexShader,i=e.fragmentShader,r=this._getShaderStage(t),s=this._getShaderStage(i),a=this._getShaderCacheForMaterial(e);return a.has(r)===!1&&(a.add(r),r.usedTimes++),a.has(s)===!1&&(a.add(s),s.usedTimes++),this}remove(e){const t=this.materialCache.get(e);for(const i of t)i.usedTimes--,i.usedTimes===0&&this.shaderCache.delete(i.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const t=this.materialCache;let i=t.get(e);return i===void 0&&(i=new Set,t.set(e,i)),i}_getShaderStage(e){const t=this.shaderCache;let i=t.get(e);return i===void 0&&(i=new $le(e),t.set(e,i)),i}}class $le{constructor(e){this.id=Gle++,this.code=e,this.usedTimes=0}}function qle(n,e,t,i,r,s,a){const o=new gy,l=new jle,u=new Set,d=[],m=r.logarithmicDepthBuffer,v=r.vertexTextures;let y=r.precision;const x={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function T(V){return u.add(V),V===0?"uv":`uv${V}`}function E(V,H,ee,pe,ae){const ye=pe.fog,Te=ae.geometry,J=V.isMeshStandardMaterial?pe.environment:null,de=(V.isMeshStandardMaterial?t:e).get(V.envMap||J),he=de&&de.mapping===My?de.image.height:null,Le=x[V.type];V.precision!==null&&(y=r.getMaxPrecision(V.precision),y!==V.precision&&console.warn("THREE.WebGLProgram.getParameters:",V.precision,"not supported, using",y,"instead."));const ne=Te.morphAttributes.position||Te.morphAttributes.normal||Te.morphAttributes.color,re=ne!==void 0?ne.length:0;let ze=0;Te.morphAttributes.position!==void 0&&(ze=1),Te.morphAttributes.normal!==void 0&&(ze=2),Te.morphAttributes.color!==void 0&&(ze=3);let Ve,xe,$e,Ze;if(Le){const fi=af[Le];Ve=fi.vertexShader,xe=fi.fragmentShader}else Ve=V.vertexShader,xe=V.fragmentShader,l.update(V),$e=l.getVertexShaderID(V),Ze=l.getFragmentShaderID(V);const gt=n.getRenderTarget(),yt=n.state.buffers.depth.getReversed(),vt=ae.isInstancedMesh===!0,Vt=ae.isBatchedMesh===!0,zn=!!V.map,An=!!V.matcap,dn=!!de,fe=!!V.aoMap,Et=!!V.lightMap,Mt=!!V.bumpMap,At=!!V.normalMap,mt=!!V.displacementMap,Kt=!!V.emissiveMap,Ot=!!V.metalnessMap,Qt=!!V.roughnessMap,bn=V.anisotropy>0,ie=V.clearcoat>0,Z=V.dispersion>0,be=V.iridescence>0,Ge=V.sheen>0,ht=V.transmission>0,rt=bn&&!!V.anisotropyMap,qt=ie&&!!V.clearcoatMap,jt=ie&&!!V.clearcoatNormalMap,tn=ie&&!!V.clearcoatRoughnessMap,nn=be&&!!V.iridescenceMap,dt=be&&!!V.iridescenceThicknessMap,kt=Ge&&!!V.sheenColorMap,cn=Ge&&!!V.sheenRoughnessMap,Ee=!!V.specularMap,Fe=!!V.specularColorMap,Rt=!!V.specularIntensityMap,Ae=ht&&!!V.transmissionMap,Xe=ht&&!!V.thicknessMap,xt=!!V.gradientMap,Xt=!!V.alphaMap,Ht=V.alphaTest>0,Ct=!!V.alphaHash,$t=!!V.extensions;let fn=oh;V.toneMapped&&(gt===null||gt.isXRRenderTarget===!0)&&(fn=n.toneMapping);const ui={shaderID:Le,shaderType:V.type,shaderName:V.name,vertexShader:Ve,fragmentShader:xe,defines:V.defines,customVertexShaderID:$e,customFragmentShaderID:Ze,isRawShaderMaterial:V.isRawShaderMaterial===!0,glslVersion:V.glslVersion,precision:y,batching:Vt,batchingColor:Vt&&ae._colorsTexture!==null,instancing:vt,instancingColor:vt&&ae.instanceColor!==null,instancingMorph:vt&&ae.morphTexture!==null,supportsVertexTextures:v,outputColorSpace:gt===null?n.outputColorSpace:gt.isXRRenderTarget===!0?gt.texture.colorSpace:vf,alphaToCoverage:!!V.alphaToCoverage,map:zn,matcap:An,envMap:dn,envMapMode:dn&&de.mapping,envMapCubeUVHeight:he,aoMap:fe,lightMap:Et,bumpMap:Mt,normalMap:At,displacementMap:v&&mt,emissiveMap:Kt,normalMapObjectSpace:At&&V.normalMapType===vz,normalMapTangentSpace:At&&V.normalMapType===Vp,metalnessMap:Ot,roughnessMap:Qt,anisotropy:bn,anisotropyMap:rt,clearcoat:ie,clearcoatMap:qt,clearcoatNormalMap:jt,clearcoatRoughnessMap:tn,dispersion:Z,iridescence:be,iridescenceMap:nn,iridescenceThicknessMap:dt,sheen:Ge,sheenColorMap:kt,sheenRoughnessMap:cn,specularMap:Ee,specularColorMap:Fe,specularIntensityMap:Rt,transmission:ht,transmissionMap:Ae,thicknessMap:Xe,gradientMap:xt,opaque:V.transparent===!1&&V.blending===cg&&V.alphaToCoverage===!1,alphaMap:Xt,alphaTest:Ht,alphaHash:Ct,combine:V.combine,mapUv:zn&&T(V.map.channel),aoMapUv:fe&&T(V.aoMap.channel),lightMapUv:Et&&T(V.lightMap.channel),bumpMapUv:Mt&&T(V.bumpMap.channel),normalMapUv:At&&T(V.normalMap.channel),displacementMapUv:mt&&T(V.displacementMap.channel),emissiveMapUv:Kt&&T(V.emissiveMap.channel),metalnessMapUv:Ot&&T(V.metalnessMap.channel),roughnessMapUv:Qt&&T(V.roughnessMap.channel),anisotropyMapUv:rt&&T(V.anisotropyMap.channel),clearcoatMapUv:qt&&T(V.clearcoatMap.channel),clearcoatNormalMapUv:jt&&T(V.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:tn&&T(V.clearcoatRoughnessMap.channel),iridescenceMapUv:nn&&T(V.iridescenceMap.channel),iridescenceThicknessMapUv:dt&&T(V.iridescenceThicknessMap.channel),sheenColorMapUv:kt&&T(V.sheenColorMap.channel),sheenRoughnessMapUv:cn&&T(V.sheenRoughnessMap.channel),specularMapUv:Ee&&T(V.specularMap.channel),specularColorMapUv:Fe&&T(V.specularColorMap.channel),specularIntensityMapUv:Rt&&T(V.specularIntensityMap.channel),transmissionMapUv:Ae&&T(V.transmissionMap.channel),thicknessMapUv:Xe&&T(V.thicknessMap.channel),alphaMapUv:Xt&&T(V.alphaMap.channel),vertexTangents:!!Te.attributes.tangent&&(At||bn),vertexColors:V.vertexColors,vertexAlphas:V.vertexColors===!0&&!!Te.attributes.color&&Te.attributes.color.itemSize===4,pointsUvs:ae.isPoints===!0&&!!Te.attributes.uv&&(zn||Xt),fog:!!ye,useFog:V.fog===!0,fogExp2:!!ye&&ye.isFogExp2,flatShading:V.flatShading===!0&&V.wireframe===!1,sizeAttenuation:V.sizeAttenuation===!0,logarithmicDepthBuffer:m,reverseDepthBuffer:yt,skinning:ae.isSkinnedMesh===!0,morphTargets:Te.morphAttributes.position!==void 0,morphNormals:Te.morphAttributes.normal!==void 0,morphColors:Te.morphAttributes.color!==void 0,morphTargetsCount:re,morphTextureStride:ze,numDirLights:H.directional.length,numPointLights:H.point.length,numSpotLights:H.spot.length,numSpotLightMaps:H.spotLightMap.length,numRectAreaLights:H.rectArea.length,numHemiLights:H.hemi.length,numDirLightShadows:H.directionalShadowMap.length,numPointLightShadows:H.pointShadowMap.length,numSpotLightShadows:H.spotShadowMap.length,numSpotLightShadowsWithMaps:H.numSpotLightShadowsWithMaps,numLightProbes:H.numLightProbes,numClippingPlanes:a.numPlanes,numClipIntersection:a.numIntersection,dithering:V.dithering,shadowMapEnabled:n.shadowMap.enabled&&ee.length>0,shadowMapType:n.shadowMap.type,toneMapping:fn,decodeVideoTexture:zn&&V.map.isVideoTexture===!0&&ur.getTransfer(V.map.colorSpace)===Gr,decodeVideoTextureEmissive:Kt&&V.emissiveMap.isVideoTexture===!0&&ur.getTransfer(V.emissiveMap.colorSpace)===Gr,premultipliedAlpha:V.premultipliedAlpha,doubleSided:V.side===Eu,flipSided:V.side===Bl,useDepthPacking:V.depthPacking>=0,depthPacking:V.depthPacking||0,index0AttributeName:V.index0AttributeName,extensionClipCullDistance:$t&&V.extensions.clipCullDistance===!0&&i.has("WEBGL_clip_cull_distance"),extensionMultiDraw:($t&&V.extensions.multiDraw===!0||Vt)&&i.has("WEBGL_multi_draw"),rendererExtensionParallelShaderCompile:i.has("KHR_parallel_shader_compile"),customProgramCacheKey:V.customProgramCacheKey()};return ui.vertexUv1s=u.has(1),ui.vertexUv2s=u.has(2),ui.vertexUv3s=u.has(3),u.clear(),ui}function w(V){const H=[];if(V.shaderID?H.push(V.shaderID):(H.push(V.customVertexShaderID),H.push(V.customFragmentShaderID)),V.defines!==void 0)for(const ee in V.defines)H.push(ee),H.push(V.defines[ee]);return V.isRawShaderMaterial===!1&&(P(H,V),D(H,V),H.push(n.outputColorSpace)),H.push(V.customProgramCacheKey),H.join()}function P(V,H){V.push(H.precision),V.push(H.outputColorSpace),V.push(H.envMapMode),V.push(H.envMapCubeUVHeight),V.push(H.mapUv),V.push(H.alphaMapUv),V.push(H.lightMapUv),V.push(H.aoMapUv),V.push(H.bumpMapUv),V.push(H.normalMapUv),V.push(H.displacementMapUv),V.push(H.emissiveMapUv),V.push(H.metalnessMapUv),V.push(H.roughnessMapUv),V.push(H.anisotropyMapUv),V.push(H.clearcoatMapUv),V.push(H.clearcoatNormalMapUv),V.push(H.clearcoatRoughnessMapUv),V.push(H.iridescenceMapUv),V.push(H.iridescenceThicknessMapUv),V.push(H.sheenColorMapUv),V.push(H.sheenRoughnessMapUv),V.push(H.specularMapUv),V.push(H.specularColorMapUv),V.push(H.specularIntensityMapUv),V.push(H.transmissionMapUv),V.push(H.thicknessMapUv),V.push(H.combine),V.push(H.fogExp2),V.push(H.sizeAttenuation),V.push(H.morphTargetsCount),V.push(H.morphAttributeCount),V.push(H.numDirLights),V.push(H.numPointLights),V.push(H.numSpotLights),V.push(H.numSpotLightMaps),V.push(H.numHemiLights),V.push(H.numRectAreaLights),V.push(H.numDirLightShadows),V.push(H.numPointLightShadows),V.push(H.numSpotLightShadows),V.push(H.numSpotLightShadowsWithMaps),V.push(H.numLightProbes),V.push(H.shadowMapType),V.push(H.toneMapping),V.push(H.numClippingPlanes),V.push(H.numClipIntersection),V.push(H.depthPacking)}function D(V,H){o.disableAll(),H.supportsVertexTextures&&o.enable(0),H.instancing&&o.enable(1),H.instancingColor&&o.enable(2),H.instancingMorph&&o.enable(3),H.matcap&&o.enable(4),H.envMap&&o.enable(5),H.normalMapObjectSpace&&o.enable(6),H.normalMapTangentSpace&&o.enable(7),H.clearcoat&&o.enable(8),H.iridescence&&o.enable(9),H.alphaTest&&o.enable(10),H.vertexColors&&o.enable(11),H.vertexAlphas&&o.enable(12),H.vertexUv1s&&o.enable(13),H.vertexUv2s&&o.enable(14),H.vertexUv3s&&o.enable(15),H.vertexTangents&&o.enable(16),H.anisotropy&&o.enable(17),H.alphaHash&&o.enable(18),H.batching&&o.enable(19),H.dispersion&&o.enable(20),H.batchingColor&&o.enable(21),H.gradientMap&&o.enable(22),V.push(o.mask),o.disableAll(),H.fog&&o.enable(0),H.useFog&&o.enable(1),H.flatShading&&o.enable(2),H.logarithmicDepthBuffer&&o.enable(3),H.reverseDepthBuffer&&o.enable(4),H.skinning&&o.enable(5),H.morphTargets&&o.enable(6),H.morphNormals&&o.enable(7),H.morphColors&&o.enable(8),H.premultipliedAlpha&&o.enable(9),H.shadowMapEnabled&&o.enable(10),H.doubleSided&&o.enable(11),H.flipSided&&o.enable(12),H.useDepthPacking&&o.enable(13),H.dithering&&o.enable(14),H.transmission&&o.enable(15),H.sheen&&o.enable(16),H.opaque&&o.enable(17),H.pointsUvs&&o.enable(18),H.decodeVideoTexture&&o.enable(19),H.decodeVideoTextureEmissive&&o.enable(20),H.alphaToCoverage&&o.enable(21),V.push(o.mask)}function N(V){const H=x[V.type];let ee;if(H){const pe=af[H];ee=Pz.clone(pe.uniforms)}else ee=V.uniforms;return ee}function G(V,H){let ee;for(let pe=0,ae=d.length;pe<ae;pe++){const ye=d[pe];if(ye.cacheKey===H){ee=ye,++ee.usedTimes;break}}return ee===void 0&&(ee=new Vle(n,H,V,s),d.push(ee)),ee}function k(V){if(--V.usedTimes===0){const H=d.indexOf(V);d[H]=d[d.length-1],d.pop(),V.destroy()}}function M(V){l.remove(V)}function $(){l.dispose()}return{getParameters:E,getProgramCacheKey:w,getUniforms:N,acquireProgram:G,releaseProgram:k,releaseShaderCache:M,programs:d,dispose:$}}function Wle(){let n=new WeakMap;function e(a){return n.has(a)}function t(a){let o=n.get(a);return o===void 0&&(o={},n.set(a,o)),o}function i(a){n.delete(a)}function r(a,o,l){n.get(a)[o]=l}function s(){n=new WeakMap}return{has:e,get:t,remove:i,update:r,dispose:s}}function Xle(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.material.id!==e.material.id?n.material.id-e.material.id:n.z!==e.z?n.z-e.z:n.id-e.id}function ML(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.z!==e.z?e.z-n.z:n.id-e.id}function AL(){const n=[];let e=0;const t=[],i=[],r=[];function s(){e=0,t.length=0,i.length=0,r.length=0}function a(m,v,y,x,T,E){let w=n[e];return w===void 0?(w={id:m.id,object:m,geometry:v,material:y,groupOrder:x,renderOrder:m.renderOrder,z:T,group:E},n[e]=w):(w.id=m.id,w.object=m,w.geometry=v,w.material=y,w.groupOrder=x,w.renderOrder=m.renderOrder,w.z=T,w.group=E),e++,w}function o(m,v,y,x,T,E){const w=a(m,v,y,x,T,E);y.transmission>0?i.push(w):y.transparent===!0?r.push(w):t.push(w)}function l(m,v,y,x,T,E){const w=a(m,v,y,x,T,E);y.transmission>0?i.unshift(w):y.transparent===!0?r.unshift(w):t.unshift(w)}function u(m,v){t.length>1&&t.sort(m||Xle),i.length>1&&i.sort(v||ML),r.length>1&&r.sort(v||ML)}function d(){for(let m=e,v=n.length;m<v;m++){const y=n[m];if(y.id===null)break;y.id=null,y.object=null,y.geometry=null,y.material=null,y.group=null}}return{opaque:t,transmissive:i,transparent:r,init:s,push:o,unshift:l,finish:d,sort:u}}function Yle(){let n=new WeakMap;function e(i,r){const s=n.get(i);let a;return s===void 0?(a=new AL,n.set(i,[a])):r>=s.length?(a=new AL,s.push(a)):a=s[r],a}function t(){n=new WeakMap}return{get:e,dispose:t}}function Zle(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={direction:new me,color:new yn};break;case"SpotLight":t={position:new me,direction:new me,color:new yn,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":t={position:new me,color:new yn,distance:0,decay:0};break;case"HemisphereLight":t={direction:new me,skyColor:new yn,groundColor:new yn};break;case"RectAreaLight":t={color:new yn,position:new me,halfWidth:new me,halfHeight:new me};break}return n[e.id]=t,t}}}function Kle(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Lt};break;case"SpotLight":t={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Lt};break;case"PointLight":t={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Lt,shadowCameraNear:1,shadowCameraFar:1e3};break}return n[e.id]=t,t}}}let Qle=0;function Jle(n,e){return(e.castShadow?2:0)-(n.castShadow?2:0)+(e.map?1:0)-(n.map?1:0)}function ece(n){const e=new Zle,t=Kle(),i={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let u=0;u<9;u++)i.probe.push(new me);const r=new me,s=new mi,a=new mi;function o(u){let d=0,m=0,v=0;for(let V=0;V<9;V++)i.probe[V].set(0,0,0);let y=0,x=0,T=0,E=0,w=0,P=0,D=0,N=0,G=0,k=0,M=0;u.sort(Jle);for(let V=0,H=u.length;V<H;V++){const ee=u[V],pe=ee.color,ae=ee.intensity,ye=ee.distance,Te=ee.shadow&&ee.shadow.map?ee.shadow.map.texture:null;if(ee.isAmbientLight)d+=pe.r*ae,m+=pe.g*ae,v+=pe.b*ae;else if(ee.isLightProbe){for(let J=0;J<9;J++)i.probe[J].addScaledVector(ee.sh.coefficients[J],ae);M++}else if(ee.isDirectionalLight){const J=e.get(ee);if(J.color.copy(ee.color).multiplyScalar(ee.intensity),ee.castShadow){const de=ee.shadow,he=t.get(ee);he.shadowIntensity=de.intensity,he.shadowBias=de.bias,he.shadowNormalBias=de.normalBias,he.shadowRadius=de.radius,he.shadowMapSize=de.mapSize,i.directionalShadow[y]=he,i.directionalShadowMap[y]=Te,i.directionalShadowMatrix[y]=ee.shadow.matrix,P++}i.directional[y]=J,y++}else if(ee.isSpotLight){const J=e.get(ee);J.position.setFromMatrixPosition(ee.matrixWorld),J.color.copy(pe).multiplyScalar(ae),J.distance=ye,J.coneCos=Math.cos(ee.angle),J.penumbraCos=Math.cos(ee.angle*(1-ee.penumbra)),J.decay=ee.decay,i.spot[T]=J;const de=ee.shadow;if(ee.map&&(i.spotLightMap[G]=ee.map,G++,de.updateMatrices(ee),ee.castShadow&&k++),i.spotLightMatrix[T]=de.matrix,ee.castShadow){const he=t.get(ee);he.shadowIntensity=de.intensity,he.shadowBias=de.bias,he.shadowNormalBias=de.normalBias,he.shadowRadius=de.radius,he.shadowMapSize=de.mapSize,i.spotShadow[T]=he,i.spotShadowMap[T]=Te,N++}T++}else if(ee.isRectAreaLight){const J=e.get(ee);J.color.copy(pe).multiplyScalar(ae),J.halfWidth.set(ee.width*.5,0,0),J.halfHeight.set(0,ee.height*.5,0),i.rectArea[E]=J,E++}else if(ee.isPointLight){const J=e.get(ee);if(J.color.copy(ee.color).multiplyScalar(ee.intensity),J.distance=ee.distance,J.decay=ee.decay,ee.castShadow){const de=ee.shadow,he=t.get(ee);he.shadowIntensity=de.intensity,he.shadowBias=de.bias,he.shadowNormalBias=de.normalBias,he.shadowRadius=de.radius,he.shadowMapSize=de.mapSize,he.shadowCameraNear=de.camera.near,he.shadowCameraFar=de.camera.far,i.pointShadow[x]=he,i.pointShadowMap[x]=Te,i.pointShadowMatrix[x]=ee.shadow.matrix,D++}i.point[x]=J,x++}else if(ee.isHemisphereLight){const J=e.get(ee);J.skyColor.copy(ee.color).multiplyScalar(ae),J.groundColor.copy(ee.groundColor).multiplyScalar(ae),i.hemi[w]=J,w++}}E>0&&(n.has("OES_texture_float_linear")===!0?(i.rectAreaLTC1=vn.LTC_FLOAT_1,i.rectAreaLTC2=vn.LTC_FLOAT_2):(i.rectAreaLTC1=vn.LTC_HALF_1,i.rectAreaLTC2=vn.LTC_HALF_2)),i.ambient[0]=d,i.ambient[1]=m,i.ambient[2]=v;const $=i.hash;($.directionalLength!==y||$.pointLength!==x||$.spotLength!==T||$.rectAreaLength!==E||$.hemiLength!==w||$.numDirectionalShadows!==P||$.numPointShadows!==D||$.numSpotShadows!==N||$.numSpotMaps!==G||$.numLightProbes!==M)&&(i.directional.length=y,i.spot.length=T,i.rectArea.length=E,i.point.length=x,i.hemi.length=w,i.directionalShadow.length=P,i.directionalShadowMap.length=P,i.pointShadow.length=D,i.pointShadowMap.length=D,i.spotShadow.length=N,i.spotShadowMap.length=N,i.directionalShadowMatrix.length=P,i.pointShadowMatrix.length=D,i.spotLightMatrix.length=N+G-k,i.spotLightMap.length=G,i.numSpotLightShadowsWithMaps=k,i.numLightProbes=M,$.directionalLength=y,$.pointLength=x,$.spotLength=T,$.rectAreaLength=E,$.hemiLength=w,$.numDirectionalShadows=P,$.numPointShadows=D,$.numSpotShadows=N,$.numSpotMaps=G,$.numLightProbes=M,i.version=Qle++)}function l(u,d){let m=0,v=0,y=0,x=0,T=0;const E=d.matrixWorldInverse;for(let w=0,P=u.length;w<P;w++){const D=u[w];if(D.isDirectionalLight){const N=i.directional[m];N.direction.setFromMatrixPosition(D.matrixWorld),r.setFromMatrixPosition(D.target.matrixWorld),N.direction.sub(r),N.direction.transformDirection(E),m++}else if(D.isSpotLight){const N=i.spot[y];N.position.setFromMatrixPosition(D.matrixWorld),N.position.applyMatrix4(E),N.direction.setFromMatrixPosition(D.matrixWorld),r.setFromMatrixPosition(D.target.matrixWorld),N.direction.sub(r),N.direction.transformDirection(E),y++}else if(D.isRectAreaLight){const N=i.rectArea[x];N.position.setFromMatrixPosition(D.matrixWorld),N.position.applyMatrix4(E),a.identity(),s.copy(D.matrixWorld),s.premultiply(E),a.extractRotation(s),N.halfWidth.set(D.width*.5,0,0),N.halfHeight.set(0,D.height*.5,0),N.halfWidth.applyMatrix4(a),N.halfHeight.applyMatrix4(a),x++}else if(D.isPointLight){const N=i.point[v];N.position.setFromMatrixPosition(D.matrixWorld),N.position.applyMatrix4(E),v++}else if(D.isHemisphereLight){const N=i.hemi[T];N.direction.setFromMatrixPosition(D.matrixWorld),N.direction.transformDirection(E),T++}}}return{setup:o,setupView:l,state:i}}function CL(n){const e=new ece(n),t=[],i=[];function r(d){u.camera=d,t.length=0,i.length=0}function s(d){t.push(d)}function a(d){i.push(d)}function o(){e.setup(t)}function l(d){e.setupView(t,d)}const u={lightsArray:t,shadowsArray:i,camera:null,lights:e,transmissionRenderTarget:{}};return{init:r,state:u,setupLights:o,setupLightsView:l,pushLight:s,pushShadow:a}}function tce(n){let e=new WeakMap;function t(r,s=0){const a=e.get(r);let o;return a===void 0?(o=new CL(n),e.set(r,[o])):s>=a.length?(o=new CL(n),a.push(o)):o=a[s],o}function i(){e=new WeakMap}return{get:t,dispose:i}}const nce=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,ice=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function rce(n,e,t){let i=new Ay;const r=new Lt,s=new Lt,a=new _r,o=new UC({depthPacking:gz}),l=new BC,u={},d=t.maxTextureSize,m={[Sd]:Bl,[Bl]:Sd,[Eu]:Eu},v=new pc({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new Lt},radius:{value:4}},vertexShader:nce,fragmentShader:ice}),y=v.clone();y.defines.HORIZONTAL_PASS=1;const x=new zi;x.setAttribute("position",new Qr(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const T=new Gs(x,v),E=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=Ew;let w=this.type;this.render=function(k,M,$){if(E.enabled===!1||E.autoUpdate===!1&&E.needsUpdate===!1||k.length===0)return;const V=n.getRenderTarget(),H=n.getActiveCubeFace(),ee=n.getActiveMipmapLevel(),pe=n.state;pe.setBlending(ah),pe.buffers.color.setClear(1,1,1,1),pe.buffers.depth.setTest(!0),pe.setScissorTest(!1);const ae=w!==rf&&this.type===rf,ye=w===rf&&this.type!==rf;for(let Te=0,J=k.length;Te<J;Te++){const de=k[Te],he=de.shadow;if(he===void 0){console.warn("THREE.WebGLShadowMap:",de,"has no shadow.");continue}if(he.autoUpdate===!1&&he.needsUpdate===!1)continue;r.copy(he.mapSize);const Le=he.getFrameExtents();if(r.multiply(Le),s.copy(he.mapSize),(r.x>d||r.y>d)&&(r.x>d&&(s.x=Math.floor(d/Le.x),r.x=s.x*Le.x,he.mapSize.x=s.x),r.y>d&&(s.y=Math.floor(d/Le.y),r.y=s.y*Le.y,he.mapSize.y=s.y)),he.map===null||ae===!0||ye===!0){const re=this.type!==rf?{minFilter:Po,magFilter:Po}:{};he.map!==null&&he.map.dispose(),he.map=new Fc(r.x,r.y,re),he.map.texture.name=de.name+".shadowMap",he.camera.updateProjectionMatrix()}n.setRenderTarget(he.map),n.clear();const ne=he.getViewportCount();for(let re=0;re<ne;re++){const ze=he.getViewport(re);a.set(s.x*ze.x,s.y*ze.y,s.x*ze.z,s.y*ze.w),pe.viewport(a),he.updateMatrices(de,re),i=he.getFrustum(),N(M,$,he.camera,de,this.type)}he.isPointLightShadow!==!0&&this.type===rf&&P(he,$),he.needsUpdate=!1}w=this.type,E.needsUpdate=!1,n.setRenderTarget(V,H,ee)};function P(k,M){const $=e.update(T);v.defines.VSM_SAMPLES!==k.blurSamples&&(v.defines.VSM_SAMPLES=k.blurSamples,y.defines.VSM_SAMPLES=k.blurSamples,v.needsUpdate=!0,y.needsUpdate=!0),k.mapPass===null&&(k.mapPass=new Fc(r.x,r.y)),v.uniforms.shadow_pass.value=k.map.texture,v.uniforms.resolution.value=k.mapSize,v.uniforms.radius.value=k.radius,n.setRenderTarget(k.mapPass),n.clear(),n.renderBufferDirect(M,null,$,v,T,null),y.uniforms.shadow_pass.value=k.mapPass.texture,y.uniforms.resolution.value=k.mapSize,y.uniforms.radius.value=k.radius,n.setRenderTarget(k.map),n.clear(),n.renderBufferDirect(M,null,$,y,T,null)}function D(k,M,$,V){let H=null;const ee=$.isPointLight===!0?k.customDistanceMaterial:k.customDepthMaterial;if(ee!==void 0)H=ee;else if(H=$.isPointLight===!0?l:o,n.localClippingEnabled&&M.clipShadows===!0&&Array.isArray(M.clippingPlanes)&&M.clippingPlanes.length!==0||M.displacementMap&&M.displacementScale!==0||M.alphaMap&&M.alphaTest>0||M.map&&M.alphaTest>0||M.alphaToCoverage===!0){const pe=H.uuid,ae=M.uuid;let ye=u[pe];ye===void 0&&(ye={},u[pe]=ye);let Te=ye[ae];Te===void 0&&(Te=H.clone(),ye[ae]=Te,M.addEventListener("dispose",G)),H=Te}if(H.visible=M.visible,H.wireframe=M.wireframe,V===rf?H.side=M.shadowSide!==null?M.shadowSide:M.side:H.side=M.shadowSide!==null?M.shadowSide:m[M.side],H.alphaMap=M.alphaMap,H.alphaTest=M.alphaToCoverage===!0?.5:M.alphaTest,H.map=M.map,H.clipShadows=M.clipShadows,H.clippingPlanes=M.clippingPlanes,H.clipIntersection=M.clipIntersection,H.displacementMap=M.displacementMap,H.displacementScale=M.displacementScale,H.displacementBias=M.displacementBias,H.wireframeLinewidth=M.wireframeLinewidth,H.linewidth=M.linewidth,$.isPointLight===!0&&H.isMeshDistanceMaterial===!0){const pe=n.properties.get(H);pe.light=$}return H}function N(k,M,$,V,H){if(k.visible===!1)return;if(k.layers.test(M.layers)&&(k.isMesh||k.isLine||k.isPoints)&&(k.castShadow||k.receiveShadow&&H===rf)&&(!k.frustumCulled||i.intersectsObject(k))){k.modelViewMatrix.multiplyMatrices($.matrixWorldInverse,k.matrixWorld);const ae=e.update(k),ye=k.material;if(Array.isArray(ye)){const Te=ae.groups;for(let J=0,de=Te.length;J<de;J++){const he=Te[J],Le=ye[he.materialIndex];if(Le&&Le.visible){const ne=D(k,Le,V,H);k.onBeforeShadow(n,k,M,$,ae,ne,he),n.renderBufferDirect($,null,ae,ne,k,he),k.onAfterShadow(n,k,M,$,ae,ne,he)}}}else if(ye.visible){const Te=D(k,ye,V,H);k.onBeforeShadow(n,k,M,$,ae,Te,null),n.renderBufferDirect($,null,ae,Te,k,null),k.onAfterShadow(n,k,M,$,ae,Te,null)}}const pe=k.children;for(let ae=0,ye=pe.length;ae<ye;ae++)N(pe[ae],M,$,V,H)}function G(k){k.target.removeEventListener("dispose",G);for(const $ in u){const V=u[$],H=k.target.uuid;H in V&&(V[H].dispose(),delete V[H])}}}const sce={[rS]:sS,[aS]:cS,[oS]:uS,[gg]:lS,[sS]:rS,[cS]:aS,[uS]:oS,[lS]:gg};function ace(n,e){function t(){let Ae=!1;const Xe=new _r;let xt=null;const Xt=new _r(0,0,0,0);return{setMask:function(Ht){xt!==Ht&&!Ae&&(n.colorMask(Ht,Ht,Ht,Ht),xt=Ht)},setLocked:function(Ht){Ae=Ht},setClear:function(Ht,Ct,$t,fn,ui){ui===!0&&(Ht*=fn,Ct*=fn,$t*=fn),Xe.set(Ht,Ct,$t,fn),Xt.equals(Xe)===!1&&(n.clearColor(Ht,Ct,$t,fn),Xt.copy(Xe))},reset:function(){Ae=!1,xt=null,Xt.set(-1,0,0,0)}}}function i(){let Ae=!1,Xe=!1,xt=null,Xt=null,Ht=null;return{setReversed:function(Ct){if(Xe!==Ct){const $t=e.get("EXT_clip_control");Ct?$t.clipControlEXT($t.LOWER_LEFT_EXT,$t.ZERO_TO_ONE_EXT):$t.clipControlEXT($t.LOWER_LEFT_EXT,$t.NEGATIVE_ONE_TO_ONE_EXT),Xe=Ct;const fn=Ht;Ht=null,this.setClear(fn)}},getReversed:function(){return Xe},setTest:function(Ct){Ct?gt(n.DEPTH_TEST):yt(n.DEPTH_TEST)},setMask:function(Ct){xt!==Ct&&!Ae&&(n.depthMask(Ct),xt=Ct)},setFunc:function(Ct){if(Xe&&(Ct=sce[Ct]),Xt!==Ct){switch(Ct){case rS:n.depthFunc(n.NEVER);break;case sS:n.depthFunc(n.ALWAYS);break;case aS:n.depthFunc(n.LESS);break;case gg:n.depthFunc(n.LEQUAL);break;case oS:n.depthFunc(n.EQUAL);break;case lS:n.depthFunc(n.GEQUAL);break;case cS:n.depthFunc(n.GREATER);break;case uS:n.depthFunc(n.NOTEQUAL);break;default:n.depthFunc(n.LEQUAL)}Xt=Ct}},setLocked:function(Ct){Ae=Ct},setClear:function(Ct){Ht!==Ct&&(Xe&&(Ct=1-Ct),n.clearDepth(Ct),Ht=Ct)},reset:function(){Ae=!1,xt=null,Xt=null,Ht=null,Xe=!1}}}function r(){let Ae=!1,Xe=null,xt=null,Xt=null,Ht=null,Ct=null,$t=null,fn=null,ui=null;return{setTest:function(fi){Ae||(fi?gt(n.STENCIL_TEST):yt(n.STENCIL_TEST))},setMask:function(fi){Xe!==fi&&!Ae&&(n.stencilMask(fi),Xe=fi)},setFunc:function(fi,Ur,Wi){(xt!==fi||Xt!==Ur||Ht!==Wi)&&(n.stencilFunc(fi,Ur,Wi),xt=fi,Xt=Ur,Ht=Wi)},setOp:function(fi,Ur,Wi){(Ct!==fi||$t!==Ur||fn!==Wi)&&(n.stencilOp(fi,Ur,Wi),Ct=fi,$t=Ur,fn=Wi)},setLocked:function(fi){Ae=fi},setClear:function(fi){ui!==fi&&(n.clearStencil(fi),ui=fi)},reset:function(){Ae=!1,Xe=null,xt=null,Xt=null,Ht=null,Ct=null,$t=null,fn=null,ui=null}}}const s=new t,a=new i,o=new r,l=new WeakMap,u=new WeakMap;let d={},m={},v=new WeakMap,y=[],x=null,T=!1,E=null,w=null,P=null,D=null,N=null,G=null,k=null,M=new yn(0,0,0),$=0,V=!1,H=null,ee=null,pe=null,ae=null,ye=null;const Te=n.getParameter(n.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let J=!1,de=0;const he=n.getParameter(n.VERSION);he.indexOf("WebGL")!==-1?(de=parseFloat(/^WebGL (\d)/.exec(he)[1]),J=de>=1):he.indexOf("OpenGL ES")!==-1&&(de=parseFloat(/^OpenGL ES (\d)/.exec(he)[1]),J=de>=2);let Le=null,ne={};const re=n.getParameter(n.SCISSOR_BOX),ze=n.getParameter(n.VIEWPORT),Ve=new _r().fromArray(re),xe=new _r().fromArray(ze);function $e(Ae,Xe,xt,Xt){const Ht=new Uint8Array(4),Ct=n.createTexture();n.bindTexture(Ae,Ct),n.texParameteri(Ae,n.TEXTURE_MIN_FILTER,n.NEAREST),n.texParameteri(Ae,n.TEXTURE_MAG_FILTER,n.NEAREST);for(let $t=0;$t<xt;$t++)Ae===n.TEXTURE_3D||Ae===n.TEXTURE_2D_ARRAY?n.texImage3D(Xe,0,n.RGBA,1,1,Xt,0,n.RGBA,n.UNSIGNED_BYTE,Ht):n.texImage2D(Xe+$t,0,n.RGBA,1,1,0,n.RGBA,n.UNSIGNED_BYTE,Ht);return Ct}const Ze={};Ze[n.TEXTURE_2D]=$e(n.TEXTURE_2D,n.TEXTURE_2D,1),Ze[n.TEXTURE_CUBE_MAP]=$e(n.TEXTURE_CUBE_MAP,n.TEXTURE_CUBE_MAP_POSITIVE_X,6),Ze[n.TEXTURE_2D_ARRAY]=$e(n.TEXTURE_2D_ARRAY,n.TEXTURE_2D_ARRAY,1,1),Ze[n.TEXTURE_3D]=$e(n.TEXTURE_3D,n.TEXTURE_3D,1,1),s.setClear(0,0,0,1),a.setClear(1),o.setClear(0),gt(n.DEPTH_TEST),a.setFunc(gg),Mt(!1),At(q2),gt(n.CULL_FACE),fe(ah);function gt(Ae){d[Ae]!==!0&&(n.enable(Ae),d[Ae]=!0)}function yt(Ae){d[Ae]!==!1&&(n.disable(Ae),d[Ae]=!1)}function vt(Ae,Xe){return m[Ae]!==Xe?(n.bindFramebuffer(Ae,Xe),m[Ae]=Xe,Ae===n.DRAW_FRAMEBUFFER&&(m[n.FRAMEBUFFER]=Xe),Ae===n.FRAMEBUFFER&&(m[n.DRAW_FRAMEBUFFER]=Xe),!0):!1}function Vt(Ae,Xe){let xt=y,Xt=!1;if(Ae){xt=v.get(Xe),xt===void 0&&(xt=[],v.set(Xe,xt));const Ht=Ae.textures;if(xt.length!==Ht.length||xt[0]!==n.COLOR_ATTACHMENT0){for(let Ct=0,$t=Ht.length;Ct<$t;Ct++)xt[Ct]=n.COLOR_ATTACHMENT0+Ct;xt.length=Ht.length,Xt=!0}}else xt[0]!==n.BACK&&(xt[0]=n.BACK,Xt=!0);Xt&&n.drawBuffers(xt)}function zn(Ae){return x!==Ae?(n.useProgram(Ae),x=Ae,!0):!1}const An={[Rp]:n.FUNC_ADD,[FI]:n.FUNC_SUBTRACT,[VI]:n.FUNC_REVERSE_SUBTRACT};An[GI]=n.MIN,An[jI]=n.MAX;const dn={[$I]:n.ZERO,[qI]:n.ONE,[WI]:n.SRC_COLOR,[nS]:n.SRC_ALPHA,[JI]:n.SRC_ALPHA_SATURATE,[KI]:n.DST_COLOR,[YI]:n.DST_ALPHA,[XI]:n.ONE_MINUS_SRC_COLOR,[iS]:n.ONE_MINUS_SRC_ALPHA,[QI]:n.ONE_MINUS_DST_COLOR,[ZI]:n.ONE_MINUS_DST_ALPHA,[ez]:n.CONSTANT_COLOR,[tz]:n.ONE_MINUS_CONSTANT_COLOR,[nz]:n.CONSTANT_ALPHA,[iz]:n.ONE_MINUS_CONSTANT_ALPHA};function fe(Ae,Xe,xt,Xt,Ht,Ct,$t,fn,ui,fi){if(Ae===ah){T===!0&&(yt(n.BLEND),T=!1);return}if(T===!1&&(gt(n.BLEND),T=!0),Ae!==HI){if(Ae!==E||fi!==V){if((w!==Rp||N!==Rp)&&(n.blendEquation(n.FUNC_ADD),w=Rp,N=Rp),fi)switch(Ae){case cg:n.blendFuncSeparate(n.ONE,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA);break;case W2:n.blendFunc(n.ONE,n.ONE);break;case X2:n.blendFuncSeparate(n.ZERO,n.ONE_MINUS_SRC_COLOR,n.ZERO,n.ONE);break;case Y2:n.blendFuncSeparate(n.DST_COLOR,n.ONE_MINUS_SRC_ALPHA,n.ZERO,n.ONE);break;default:console.error("THREE.WebGLState: Invalid blending: ",Ae);break}else switch(Ae){case cg:n.blendFuncSeparate(n.SRC_ALPHA,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA);break;case W2:n.blendFuncSeparate(n.SRC_ALPHA,n.ONE,n.ONE,n.ONE);break;case X2:console.error("THREE.WebGLState: SubtractiveBlending requires material.premultipliedAlpha = true");break;case Y2:console.error("THREE.WebGLState: MultiplyBlending requires material.premultipliedAlpha = true");break;default:console.error("THREE.WebGLState: Invalid blending: ",Ae);break}P=null,D=null,G=null,k=null,M.set(0,0,0),$=0,E=Ae,V=fi}return}Ht=Ht||Xe,Ct=Ct||xt,$t=$t||Xt,(Xe!==w||Ht!==N)&&(n.blendEquationSeparate(An[Xe],An[Ht]),w=Xe,N=Ht),(xt!==P||Xt!==D||Ct!==G||$t!==k)&&(n.blendFuncSeparate(dn[xt],dn[Xt],dn[Ct],dn[$t]),P=xt,D=Xt,G=Ct,k=$t),(fn.equals(M)===!1||ui!==$)&&(n.blendColor(fn.r,fn.g,fn.b,ui),M.copy(fn),$=ui),E=Ae,V=!1}function Et(Ae,Xe){Ae.side===Eu?yt(n.CULL_FACE):gt(n.CULL_FACE);let xt=Ae.side===Bl;Xe&&(xt=!xt),Mt(xt),Ae.blending===cg&&Ae.transparent===!1?fe(ah):fe(Ae.blending,Ae.blendEquation,Ae.blendSrc,Ae.blendDst,Ae.blendEquationAlpha,Ae.blendSrcAlpha,Ae.blendDstAlpha,Ae.blendColor,Ae.blendAlpha,Ae.premultipliedAlpha),a.setFunc(Ae.depthFunc),a.setTest(Ae.depthTest),a.setMask(Ae.depthWrite),s.setMask(Ae.colorWrite);const Xt=Ae.stencilWrite;o.setTest(Xt),Xt&&(o.setMask(Ae.stencilWriteMask),o.setFunc(Ae.stencilFunc,Ae.stencilRef,Ae.stencilFuncMask),o.setOp(Ae.stencilFail,Ae.stencilZFail,Ae.stencilZPass)),Kt(Ae.polygonOffset,Ae.polygonOffsetFactor,Ae.polygonOffsetUnits),Ae.alphaToCoverage===!0?gt(n.SAMPLE_ALPHA_TO_COVERAGE):yt(n.SAMPLE_ALPHA_TO_COVERAGE)}function Mt(Ae){H!==Ae&&(Ae?n.frontFace(n.CW):n.frontFace(n.CCW),H=Ae)}function At(Ae){Ae!==UI?(gt(n.CULL_FACE),Ae!==ee&&(Ae===q2?n.cullFace(n.BACK):Ae===BI?n.cullFace(n.FRONT):n.cullFace(n.FRONT_AND_BACK))):yt(n.CULL_FACE),ee=Ae}function mt(Ae){Ae!==pe&&(J&&n.lineWidth(Ae),pe=Ae)}function Kt(Ae,Xe,xt){Ae?(gt(n.POLYGON_OFFSET_FILL),(ae!==Xe||ye!==xt)&&(n.polygonOffset(Xe,xt),ae=Xe,ye=xt)):yt(n.POLYGON_OFFSET_FILL)}function Ot(Ae){Ae?gt(n.SCISSOR_TEST):yt(n.SCISSOR_TEST)}function Qt(Ae){Ae===void 0&&(Ae=n.TEXTURE0+Te-1),Le!==Ae&&(n.activeTexture(Ae),Le=Ae)}function bn(Ae,Xe,xt){xt===void 0&&(Le===null?xt=n.TEXTURE0+Te-1:xt=Le);let Xt=ne[xt];Xt===void 0&&(Xt={type:void 0,texture:void 0},ne[xt]=Xt),(Xt.type!==Ae||Xt.texture!==Xe)&&(Le!==xt&&(n.activeTexture(xt),Le=xt),n.bindTexture(Ae,Xe||Ze[Ae]),Xt.type=Ae,Xt.texture=Xe)}function ie(){const Ae=ne[Le];Ae!==void 0&&Ae.type!==void 0&&(n.bindTexture(Ae.type,null),Ae.type=void 0,Ae.texture=void 0)}function Z(){try{n.compressedTexImage2D(...arguments)}catch(Ae){console.error("THREE.WebGLState:",Ae)}}function be(){try{n.compressedTexImage3D(...arguments)}catch(Ae){console.error("THREE.WebGLState:",Ae)}}function Ge(){try{n.texSubImage2D(...arguments)}catch(Ae){console.error("THREE.WebGLState:",Ae)}}function ht(){try{n.texSubImage3D(...arguments)}catch(Ae){console.error("THREE.WebGLState:",Ae)}}function rt(){try{n.compressedTexSubImage2D(...arguments)}catch(Ae){console.error("THREE.WebGLState:",Ae)}}function qt(){try{n.compressedTexSubImage3D(...arguments)}catch(Ae){console.error("THREE.WebGLState:",Ae)}}function jt(){try{n.texStorage2D(...arguments)}catch(Ae){console.error("THREE.WebGLState:",Ae)}}function tn(){try{n.texStorage3D(...arguments)}catch(Ae){console.error("THREE.WebGLState:",Ae)}}function nn(){try{n.texImage2D(...arguments)}catch(Ae){console.error("THREE.WebGLState:",Ae)}}function dt(){try{n.texImage3D(...arguments)}catch(Ae){console.error("THREE.WebGLState:",Ae)}}function kt(Ae){Ve.equals(Ae)===!1&&(n.scissor(Ae.x,Ae.y,Ae.z,Ae.w),Ve.copy(Ae))}function cn(Ae){xe.equals(Ae)===!1&&(n.viewport(Ae.x,Ae.y,Ae.z,Ae.w),xe.copy(Ae))}function Ee(Ae,Xe){let xt=u.get(Xe);xt===void 0&&(xt=new WeakMap,u.set(Xe,xt));let Xt=xt.get(Ae);Xt===void 0&&(Xt=n.getUniformBlockIndex(Xe,Ae.name),xt.set(Ae,Xt))}function Fe(Ae,Xe){const Xt=u.get(Xe).get(Ae);l.get(Xe)!==Xt&&(n.uniformBlockBinding(Xe,Xt,Ae.__bindingPointIndex),l.set(Xe,Xt))}function Rt(){n.disable(n.BLEND),n.disable(n.CULL_FACE),n.disable(n.DEPTH_TEST),n.disable(n.POLYGON_OFFSET_FILL),n.disable(n.SCISSOR_TEST),n.disable(n.STENCIL_TEST),n.disable(n.SAMPLE_ALPHA_TO_COVERAGE),n.blendEquation(n.FUNC_ADD),n.blendFunc(n.ONE,n.ZERO),n.blendFuncSeparate(n.ONE,n.ZERO,n.ONE,n.ZERO),n.blendColor(0,0,0,0),n.colorMask(!0,!0,!0,!0),n.clearColor(0,0,0,0),n.depthMask(!0),n.depthFunc(n.LESS),a.setReversed(!1),n.clearDepth(1),n.stencilMask(4294967295),n.stencilFunc(n.ALWAYS,0,4294967295),n.stencilOp(n.KEEP,n.KEEP,n.KEEP),n.clearStencil(0),n.cullFace(n.BACK),n.frontFace(n.CCW),n.polygonOffset(0,0),n.activeTexture(n.TEXTURE0),n.bindFramebuffer(n.FRAMEBUFFER,null),n.bindFramebuffer(n.DRAW_FRAMEBUFFER,null),n.bindFramebuffer(n.READ_FRAMEBUFFER,null),n.useProgram(null),n.lineWidth(1),n.scissor(0,0,n.canvas.width,n.canvas.height),n.viewport(0,0,n.canvas.width,n.canvas.height),d={},Le=null,ne={},m={},v=new WeakMap,y=[],x=null,T=!1,E=null,w=null,P=null,D=null,N=null,G=null,k=null,M=new yn(0,0,0),$=0,V=!1,H=null,ee=null,pe=null,ae=null,ye=null,Ve.set(0,0,n.canvas.width,n.canvas.height),xe.set(0,0,n.canvas.width,n.canvas.height),s.reset(),a.reset(),o.reset()}return{buffers:{color:s,depth:a,stencil:o},enable:gt,disable:yt,bindFramebuffer:vt,drawBuffers:Vt,useProgram:zn,setBlending:fe,setMaterial:Et,setFlipSided:Mt,setCullFace:At,setLineWidth:mt,setPolygonOffset:Kt,setScissorTest:Ot,activeTexture:Qt,bindTexture:bn,unbindTexture:ie,compressedTexImage2D:Z,compressedTexImage3D:be,texImage2D:nn,texImage3D:dt,updateUBOMapping:Ee,uniformBlockBinding:Fe,texStorage2D:jt,texStorage3D:tn,texSubImage2D:Ge,texSubImage3D:ht,compressedTexSubImage2D:rt,compressedTexSubImage3D:qt,scissor:kt,viewport:cn,reset:Rt}}function oce(n,e,t,i,r,s,a){const o=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,l=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),u=new Lt,d=new WeakMap;let m;const v=new WeakMap;let y=!1;try{y=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function x(ie,Z){return y?new OffscreenCanvas(ie,Z):x_("canvas")}function T(ie,Z,be){let Ge=1;const ht=bn(ie);if((ht.width>be||ht.height>be)&&(Ge=be/Math.max(ht.width,ht.height)),Ge<1)if(typeof HTMLImageElement<"u"&&ie instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&ie instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&ie instanceof ImageBitmap||typeof VideoFrame<"u"&&ie instanceof VideoFrame){const rt=Math.floor(Ge*ht.width),qt=Math.floor(Ge*ht.height);m===void 0&&(m=x(rt,qt));const jt=Z?x(rt,qt):m;return jt.width=rt,jt.height=qt,jt.getContext("2d").drawImage(ie,0,0,rt,qt),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+ht.width+"x"+ht.height+") to ("+rt+"x"+qt+")."),jt}else return"data"in ie&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+ht.width+"x"+ht.height+")."),ie;return ie}function E(ie){return ie.generateMipmaps}function w(ie){n.generateMipmap(ie)}function P(ie){return ie.isWebGLCubeRenderTarget?n.TEXTURE_CUBE_MAP:ie.isWebGL3DRenderTarget?n.TEXTURE_3D:ie.isWebGLArrayRenderTarget||ie.isCompressedArrayTexture?n.TEXTURE_2D_ARRAY:n.TEXTURE_2D}function D(ie,Z,be,Ge,ht=!1){if(ie!==null){if(n[ie]!==void 0)return n[ie];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+ie+"'")}let rt=Z;if(Z===n.RED&&(be===n.FLOAT&&(rt=n.R32F),be===n.HALF_FLOAT&&(rt=n.R16F),be===n.UNSIGNED_BYTE&&(rt=n.R8)),Z===n.RED_INTEGER&&(be===n.UNSIGNED_BYTE&&(rt=n.R8UI),be===n.UNSIGNED_SHORT&&(rt=n.R16UI),be===n.UNSIGNED_INT&&(rt=n.R32UI),be===n.BYTE&&(rt=n.R8I),be===n.SHORT&&(rt=n.R16I),be===n.INT&&(rt=n.R32I)),Z===n.RG&&(be===n.FLOAT&&(rt=n.RG32F),be===n.HALF_FLOAT&&(rt=n.RG16F),be===n.UNSIGNED_BYTE&&(rt=n.RG8)),Z===n.RG_INTEGER&&(be===n.UNSIGNED_BYTE&&(rt=n.RG8UI),be===n.UNSIGNED_SHORT&&(rt=n.RG16UI),be===n.UNSIGNED_INT&&(rt=n.RG32UI),be===n.BYTE&&(rt=n.RG8I),be===n.SHORT&&(rt=n.RG16I),be===n.INT&&(rt=n.RG32I)),Z===n.RGB_INTEGER&&(be===n.UNSIGNED_BYTE&&(rt=n.RGB8UI),be===n.UNSIGNED_SHORT&&(rt=n.RGB16UI),be===n.UNSIGNED_INT&&(rt=n.RGB32UI),be===n.BYTE&&(rt=n.RGB8I),be===n.SHORT&&(rt=n.RGB16I),be===n.INT&&(rt=n.RGB32I)),Z===n.RGBA_INTEGER&&(be===n.UNSIGNED_BYTE&&(rt=n.RGBA8UI),be===n.UNSIGNED_SHORT&&(rt=n.RGBA16UI),be===n.UNSIGNED_INT&&(rt=n.RGBA32UI),be===n.BYTE&&(rt=n.RGBA8I),be===n.SHORT&&(rt=n.RGBA16I),be===n.INT&&(rt=n.RGBA32I)),Z===n.RGB&&be===n.UNSIGNED_INT_5_9_9_9_REV&&(rt=n.RGB9_E5),Z===n.RGBA){const qt=ht?y_:ur.getTransfer(Ge);be===n.FLOAT&&(rt=n.RGBA32F),be===n.HALF_FLOAT&&(rt=n.RGBA16F),be===n.UNSIGNED_BYTE&&(rt=qt===Gr?n.SRGB8_ALPHA8:n.RGBA8),be===n.UNSIGNED_SHORT_4_4_4_4&&(rt=n.RGBA4),be===n.UNSIGNED_SHORT_5_5_5_1&&(rt=n.RGB5_A1)}return(rt===n.R16F||rt===n.R32F||rt===n.RG16F||rt===n.RG32F||rt===n.RGBA16F||rt===n.RGBA32F)&&e.get("EXT_color_buffer_float"),rt}function N(ie,Z){let be;return ie?Z===null||Z===hh||Z===hy?be=n.DEPTH24_STENCIL8:Z===Ds?be=n.DEPTH32F_STENCIL8:Z===fy&&(be=n.DEPTH24_STENCIL8,console.warn("DepthTexture: 16 bit depth attachment is not supported with stencil. Using 24-bit attachment.")):Z===null||Z===hh||Z===hy?be=n.DEPTH_COMPONENT24:Z===Ds?be=n.DEPTH_COMPONENT32F:Z===fy&&(be=n.DEPTH_COMPONENT16),be}function G(ie,Z){return E(ie)===!0||ie.isFramebufferTexture&&ie.minFilter!==Po&&ie.minFilter!==Or?Math.log2(Math.max(Z.width,Z.height))+1:ie.mipmaps!==void 0&&ie.mipmaps.length>0?ie.mipmaps.length:ie.isCompressedTexture&&Array.isArray(ie.image)?Z.mipmaps.length:1}function k(ie){const Z=ie.target;Z.removeEventListener("dispose",k),$(Z),Z.isVideoTexture&&d.delete(Z)}function M(ie){const Z=ie.target;Z.removeEventListener("dispose",M),H(Z)}function $(ie){const Z=i.get(ie);if(Z.__webglInit===void 0)return;const be=ie.source,Ge=v.get(be);if(Ge){const ht=Ge[Z.__cacheKey];ht.usedTimes--,ht.usedTimes===0&&V(ie),Object.keys(Ge).length===0&&v.delete(be)}i.remove(ie)}function V(ie){const Z=i.get(ie);n.deleteTexture(Z.__webglTexture);const be=ie.source,Ge=v.get(be);delete Ge[Z.__cacheKey],a.memory.textures--}function H(ie){const Z=i.get(ie);if(ie.depthTexture&&(ie.depthTexture.dispose(),i.remove(ie.depthTexture)),ie.isWebGLCubeRenderTarget)for(let Ge=0;Ge<6;Ge++){if(Array.isArray(Z.__webglFramebuffer[Ge]))for(let ht=0;ht<Z.__webglFramebuffer[Ge].length;ht++)n.deleteFramebuffer(Z.__webglFramebuffer[Ge][ht]);else n.deleteFramebuffer(Z.__webglFramebuffer[Ge]);Z.__webglDepthbuffer&&n.deleteRenderbuffer(Z.__webglDepthbuffer[Ge])}else{if(Array.isArray(Z.__webglFramebuffer))for(let Ge=0;Ge<Z.__webglFramebuffer.length;Ge++)n.deleteFramebuffer(Z.__webglFramebuffer[Ge]);else n.deleteFramebuffer(Z.__webglFramebuffer);if(Z.__webglDepthbuffer&&n.deleteRenderbuffer(Z.__webglDepthbuffer),Z.__webglMultisampledFramebuffer&&n.deleteFramebuffer(Z.__webglMultisampledFramebuffer),Z.__webglColorRenderbuffer)for(let Ge=0;Ge<Z.__webglColorRenderbuffer.length;Ge++)Z.__webglColorRenderbuffer[Ge]&&n.deleteRenderbuffer(Z.__webglColorRenderbuffer[Ge]);Z.__webglDepthRenderbuffer&&n.deleteRenderbuffer(Z.__webglDepthRenderbuffer)}const be=ie.textures;for(let Ge=0,ht=be.length;Ge<ht;Ge++){const rt=i.get(be[Ge]);rt.__webglTexture&&(n.deleteTexture(rt.__webglTexture),a.memory.textures--),i.remove(be[Ge])}i.remove(ie)}let ee=0;function pe(){ee=0}function ae(){const ie=ee;return ie>=r.maxTextures&&console.warn("THREE.WebGLTextures: Trying to use "+ie+" texture units while this GPU supports only "+r.maxTextures),ee+=1,ie}function ye(ie){const Z=[];return Z.push(ie.wrapS),Z.push(ie.wrapT),Z.push(ie.wrapR||0),Z.push(ie.magFilter),Z.push(ie.minFilter),Z.push(ie.anisotropy),Z.push(ie.internalFormat),Z.push(ie.format),Z.push(ie.type),Z.push(ie.generateMipmaps),Z.push(ie.premultiplyAlpha),Z.push(ie.flipY),Z.push(ie.unpackAlignment),Z.push(ie.colorSpace),Z.join()}function Te(ie,Z){const be=i.get(ie);if(ie.isVideoTexture&&Ot(ie),ie.isRenderTargetTexture===!1&&ie.version>0&&be.__version!==ie.version){const Ge=ie.image;if(Ge===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(Ge.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{Ze(be,ie,Z);return}}t.bindTexture(n.TEXTURE_2D,be.__webglTexture,n.TEXTURE0+Z)}function J(ie,Z){const be=i.get(ie);if(ie.version>0&&be.__version!==ie.version){Ze(be,ie,Z);return}t.bindTexture(n.TEXTURE_2D_ARRAY,be.__webglTexture,n.TEXTURE0+Z)}function de(ie,Z){const be=i.get(ie);if(ie.version>0&&be.__version!==ie.version){Ze(be,ie,Z);return}t.bindTexture(n.TEXTURE_3D,be.__webglTexture,n.TEXTURE0+Z)}function he(ie,Z){const be=i.get(ie);if(ie.version>0&&be.__version!==ie.version){gt(be,ie,Z);return}t.bindTexture(n.TEXTURE_CUBE_MAP,be.__webglTexture,n.TEXTURE0+Z)}const Le={[p_]:n.REPEAT,[Ra]:n.CLAMP_TO_EDGE,[m_]:n.MIRRORED_REPEAT},ne={[Po]:n.NEAREST,[pC]:n.NEAREST_MIPMAP_NEAREST,[Vv]:n.NEAREST_MIPMAP_LINEAR,[Or]:n.LINEAR,[$0]:n.LINEAR_MIPMAP_NEAREST,[ih]:n.LINEAR_MIPMAP_LINEAR},re={[yz]:n.NEVER,[Ez]:n.ALWAYS,[_z]:n.LESS,[xC]:n.LEQUAL,[bz]:n.EQUAL,[wz]:n.GEQUAL,[xz]:n.GREATER,[Sz]:n.NOTEQUAL};function ze(ie,Z){if(Z.type===Ds&&e.has("OES_texture_float_linear")===!1&&(Z.magFilter===Or||Z.magFilter===$0||Z.magFilter===Vv||Z.magFilter===ih||Z.minFilter===Or||Z.minFilter===$0||Z.minFilter===Vv||Z.minFilter===ih)&&console.warn("THREE.WebGLRenderer: Unable to use linear filtering with floating point textures. OES_texture_float_linear not supported on this device."),n.texParameteri(ie,n.TEXTURE_WRAP_S,Le[Z.wrapS]),n.texParameteri(ie,n.TEXTURE_WRAP_T,Le[Z.wrapT]),(ie===n.TEXTURE_3D||ie===n.TEXTURE_2D_ARRAY)&&n.texParameteri(ie,n.TEXTURE_WRAP_R,Le[Z.wrapR]),n.texParameteri(ie,n.TEXTURE_MAG_FILTER,ne[Z.magFilter]),n.texParameteri(ie,n.TEXTURE_MIN_FILTER,ne[Z.minFilter]),Z.compareFunction&&(n.texParameteri(ie,n.TEXTURE_COMPARE_MODE,n.COMPARE_REF_TO_TEXTURE),n.texParameteri(ie,n.TEXTURE_COMPARE_FUNC,re[Z.compareFunction])),e.has("EXT_texture_filter_anisotropic")===!0){if(Z.magFilter===Po||Z.minFilter!==Vv&&Z.minFilter!==ih||Z.type===Ds&&e.has("OES_texture_float_linear")===!1)return;if(Z.anisotropy>1||i.get(Z).__currentAnisotropy){const be=e.get("EXT_texture_filter_anisotropic");n.texParameterf(ie,be.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(Z.anisotropy,r.getMaxAnisotropy())),i.get(Z).__currentAnisotropy=Z.anisotropy}}}function Ve(ie,Z){let be=!1;ie.__webglInit===void 0&&(ie.__webglInit=!0,Z.addEventListener("dispose",k));const Ge=Z.source;let ht=v.get(Ge);ht===void 0&&(ht={},v.set(Ge,ht));const rt=ye(Z);if(rt!==ie.__cacheKey){ht[rt]===void 0&&(ht[rt]={texture:n.createTexture(),usedTimes:0},a.memory.textures++,be=!0),ht[rt].usedTimes++;const qt=ht[ie.__cacheKey];qt!==void 0&&(ht[ie.__cacheKey].usedTimes--,qt.usedTimes===0&&V(Z)),ie.__cacheKey=rt,ie.__webglTexture=ht[rt].texture}return be}function xe(ie,Z,be){return Math.floor(Math.floor(ie/be)/Z)}function $e(ie,Z,be,Ge){const rt=ie.updateRanges;if(rt.length===0)t.texSubImage2D(n.TEXTURE_2D,0,0,0,Z.width,Z.height,be,Ge,Z.data);else{rt.sort((dt,kt)=>dt.start-kt.start);let qt=0;for(let dt=1;dt<rt.length;dt++){const kt=rt[qt],cn=rt[dt],Ee=kt.start+kt.count,Fe=xe(cn.start,Z.width,4),Rt=xe(kt.start,Z.width,4);cn.start<=Ee+1&&Fe===Rt&&xe(cn.start+cn.count-1,Z.width,4)===Fe?kt.count=Math.max(kt.count,cn.start+cn.count-kt.start):(++qt,rt[qt]=cn)}rt.length=qt+1;const jt=n.getParameter(n.UNPACK_ROW_LENGTH),tn=n.getParameter(n.UNPACK_SKIP_PIXELS),nn=n.getParameter(n.UNPACK_SKIP_ROWS);n.pixelStorei(n.UNPACK_ROW_LENGTH,Z.width);for(let dt=0,kt=rt.length;dt<kt;dt++){const cn=rt[dt],Ee=Math.floor(cn.start/4),Fe=Math.ceil(cn.count/4),Rt=Ee%Z.width,Ae=Math.floor(Ee/Z.width),Xe=Fe,xt=1;n.pixelStorei(n.UNPACK_SKIP_PIXELS,Rt),n.pixelStorei(n.UNPACK_SKIP_ROWS,Ae),t.texSubImage2D(n.TEXTURE_2D,0,Rt,Ae,Xe,xt,be,Ge,Z.data)}ie.clearUpdateRanges(),n.pixelStorei(n.UNPACK_ROW_LENGTH,jt),n.pixelStorei(n.UNPACK_SKIP_PIXELS,tn),n.pixelStorei(n.UNPACK_SKIP_ROWS,nn)}}function Ze(ie,Z,be){let Ge=n.TEXTURE_2D;(Z.isDataArrayTexture||Z.isCompressedArrayTexture)&&(Ge=n.TEXTURE_2D_ARRAY),Z.isData3DTexture&&(Ge=n.TEXTURE_3D);const ht=Ve(ie,Z),rt=Z.source;t.bindTexture(Ge,ie.__webglTexture,n.TEXTURE0+be);const qt=i.get(rt);if(rt.version!==qt.__version||ht===!0){t.activeTexture(n.TEXTURE0+be);const jt=ur.getPrimaries(ur.workingColorSpace),tn=Z.colorSpace===ld?null:ur.getPrimaries(Z.colorSpace),nn=Z.colorSpace===ld||jt===tn?n.NONE:n.BROWSER_DEFAULT_WEBGL;n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,Z.flipY),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,Z.premultiplyAlpha),n.pixelStorei(n.UNPACK_ALIGNMENT,Z.unpackAlignment),n.pixelStorei(n.UNPACK_COLORSPACE_CONVERSION_WEBGL,nn);let dt=T(Z.image,!1,r.maxTextureSize);dt=Qt(Z,dt);const kt=s.convert(Z.format,Z.colorSpace),cn=s.convert(Z.type);let Ee=D(Z.internalFormat,kt,cn,Z.colorSpace,Z.isVideoTexture);ze(Ge,Z);let Fe;const Rt=Z.mipmaps,Ae=Z.isVideoTexture!==!0,Xe=qt.__version===void 0||ht===!0,xt=rt.dataReady,Xt=G(Z,dt);if(Z.isDepthTexture)Ee=N(Z.format===py,Z.type),Xe&&(Ae?t.texStorage2D(n.TEXTURE_2D,1,Ee,dt.width,dt.height):t.texImage2D(n.TEXTURE_2D,0,Ee,dt.width,dt.height,0,kt,cn,null));else if(Z.isDataTexture)if(Rt.length>0){Ae&&Xe&&t.texStorage2D(n.TEXTURE_2D,Xt,Ee,Rt[0].width,Rt[0].height);for(let Ht=0,Ct=Rt.length;Ht<Ct;Ht++)Fe=Rt[Ht],Ae?xt&&t.texSubImage2D(n.TEXTURE_2D,Ht,0,0,Fe.width,Fe.height,kt,cn,Fe.data):t.texImage2D(n.TEXTURE_2D,Ht,Ee,Fe.width,Fe.height,0,kt,cn,Fe.data);Z.generateMipmaps=!1}else Ae?(Xe&&t.texStorage2D(n.TEXTURE_2D,Xt,Ee,dt.width,dt.height),xt&&$e(Z,dt,kt,cn)):t.texImage2D(n.TEXTURE_2D,0,Ee,dt.width,dt.height,0,kt,cn,dt.data);else if(Z.isCompressedTexture)if(Z.isCompressedArrayTexture){Ae&&Xe&&t.texStorage3D(n.TEXTURE_2D_ARRAY,Xt,Ee,Rt[0].width,Rt[0].height,dt.depth);for(let Ht=0,Ct=Rt.length;Ht<Ct;Ht++)if(Fe=Rt[Ht],Z.format!==ma)if(kt!==null)if(Ae){if(xt)if(Z.layerUpdates.size>0){const $t=oA(Fe.width,Fe.height,Z.format,Z.type);for(const fn of Z.layerUpdates){const ui=Fe.data.subarray(fn*$t/Fe.data.BYTES_PER_ELEMENT,(fn+1)*$t/Fe.data.BYTES_PER_ELEMENT);t.compressedTexSubImage3D(n.TEXTURE_2D_ARRAY,Ht,0,0,fn,Fe.width,Fe.height,1,kt,ui)}Z.clearLayerUpdates()}else t.compressedTexSubImage3D(n.TEXTURE_2D_ARRAY,Ht,0,0,0,Fe.width,Fe.height,dt.depth,kt,Fe.data)}else t.compressedTexImage3D(n.TEXTURE_2D_ARRAY,Ht,Ee,Fe.width,Fe.height,dt.depth,0,Fe.data,0,0);else console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()");else Ae?xt&&t.texSubImage3D(n.TEXTURE_2D_ARRAY,Ht,0,0,0,Fe.width,Fe.height,dt.depth,kt,cn,Fe.data):t.texImage3D(n.TEXTURE_2D_ARRAY,Ht,Ee,Fe.width,Fe.height,dt.depth,0,kt,cn,Fe.data)}else{Ae&&Xe&&t.texStorage2D(n.TEXTURE_2D,Xt,Ee,Rt[0].width,Rt[0].height);for(let Ht=0,Ct=Rt.length;Ht<Ct;Ht++)Fe=Rt[Ht],Z.format!==ma?kt!==null?Ae?xt&&t.compressedTexSubImage2D(n.TEXTURE_2D,Ht,0,0,Fe.width,Fe.height,kt,Fe.data):t.compressedTexImage2D(n.TEXTURE_2D,Ht,Ee,Fe.width,Fe.height,0,Fe.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Ae?xt&&t.texSubImage2D(n.TEXTURE_2D,Ht,0,0,Fe.width,Fe.height,kt,cn,Fe.data):t.texImage2D(n.TEXTURE_2D,Ht,Ee,Fe.width,Fe.height,0,kt,cn,Fe.data)}else if(Z.isDataArrayTexture)if(Ae){if(Xe&&t.texStorage3D(n.TEXTURE_2D_ARRAY,Xt,Ee,dt.width,dt.height,dt.depth),xt)if(Z.layerUpdates.size>0){const Ht=oA(dt.width,dt.height,Z.format,Z.type);for(const Ct of Z.layerUpdates){const $t=dt.data.subarray(Ct*Ht/dt.data.BYTES_PER_ELEMENT,(Ct+1)*Ht/dt.data.BYTES_PER_ELEMENT);t.texSubImage3D(n.TEXTURE_2D_ARRAY,0,0,0,Ct,dt.width,dt.height,1,kt,cn,$t)}Z.clearLayerUpdates()}else t.texSubImage3D(n.TEXTURE_2D_ARRAY,0,0,0,0,dt.width,dt.height,dt.depth,kt,cn,dt.data)}else t.texImage3D(n.TEXTURE_2D_ARRAY,0,Ee,dt.width,dt.height,dt.depth,0,kt,cn,dt.data);else if(Z.isData3DTexture)Ae?(Xe&&t.texStorage3D(n.TEXTURE_3D,Xt,Ee,dt.width,dt.height,dt.depth),xt&&t.texSubImage3D(n.TEXTURE_3D,0,0,0,0,dt.width,dt.height,dt.depth,kt,cn,dt.data)):t.texImage3D(n.TEXTURE_3D,0,Ee,dt.width,dt.height,dt.depth,0,kt,cn,dt.data);else if(Z.isFramebufferTexture){if(Xe)if(Ae)t.texStorage2D(n.TEXTURE_2D,Xt,Ee,dt.width,dt.height);else{let Ht=dt.width,Ct=dt.height;for(let $t=0;$t<Xt;$t++)t.texImage2D(n.TEXTURE_2D,$t,Ee,Ht,Ct,0,kt,cn,null),Ht>>=1,Ct>>=1}}else if(Rt.length>0){if(Ae&&Xe){const Ht=bn(Rt[0]);t.texStorage2D(n.TEXTURE_2D,Xt,Ee,Ht.width,Ht.height)}for(let Ht=0,Ct=Rt.length;Ht<Ct;Ht++)Fe=Rt[Ht],Ae?xt&&t.texSubImage2D(n.TEXTURE_2D,Ht,0,0,kt,cn,Fe):t.texImage2D(n.TEXTURE_2D,Ht,Ee,kt,cn,Fe);Z.generateMipmaps=!1}else if(Ae){if(Xe){const Ht=bn(dt);t.texStorage2D(n.TEXTURE_2D,Xt,Ee,Ht.width,Ht.height)}xt&&t.texSubImage2D(n.TEXTURE_2D,0,0,0,kt,cn,dt)}else t.texImage2D(n.TEXTURE_2D,0,Ee,kt,cn,dt);E(Z)&&w(Ge),qt.__version=rt.version,Z.onUpdate&&Z.onUpdate(Z)}ie.__version=Z.version}function gt(ie,Z,be){if(Z.image.length!==6)return;const Ge=Ve(ie,Z),ht=Z.source;t.bindTexture(n.TEXTURE_CUBE_MAP,ie.__webglTexture,n.TEXTURE0+be);const rt=i.get(ht);if(ht.version!==rt.__version||Ge===!0){t.activeTexture(n.TEXTURE0+be);const qt=ur.getPrimaries(ur.workingColorSpace),jt=Z.colorSpace===ld?null:ur.getPrimaries(Z.colorSpace),tn=Z.colorSpace===ld||qt===jt?n.NONE:n.BROWSER_DEFAULT_WEBGL;n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,Z.flipY),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,Z.premultiplyAlpha),n.pixelStorei(n.UNPACK_ALIGNMENT,Z.unpackAlignment),n.pixelStorei(n.UNPACK_COLORSPACE_CONVERSION_WEBGL,tn);const nn=Z.isCompressedTexture||Z.image[0].isCompressedTexture,dt=Z.image[0]&&Z.image[0].isDataTexture,kt=[];for(let Ct=0;Ct<6;Ct++)!nn&&!dt?kt[Ct]=T(Z.image[Ct],!0,r.maxCubemapSize):kt[Ct]=dt?Z.image[Ct].image:Z.image[Ct],kt[Ct]=Qt(Z,kt[Ct]);const cn=kt[0],Ee=s.convert(Z.format,Z.colorSpace),Fe=s.convert(Z.type),Rt=D(Z.internalFormat,Ee,Fe,Z.colorSpace),Ae=Z.isVideoTexture!==!0,Xe=rt.__version===void 0||Ge===!0,xt=ht.dataReady;let Xt=G(Z,cn);ze(n.TEXTURE_CUBE_MAP,Z);let Ht;if(nn){Ae&&Xe&&t.texStorage2D(n.TEXTURE_CUBE_MAP,Xt,Rt,cn.width,cn.height);for(let Ct=0;Ct<6;Ct++){Ht=kt[Ct].mipmaps;for(let $t=0;$t<Ht.length;$t++){const fn=Ht[$t];Z.format!==ma?Ee!==null?Ae?xt&&t.compressedTexSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Ct,$t,0,0,fn.width,fn.height,Ee,fn.data):t.compressedTexImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Ct,$t,Rt,fn.width,fn.height,0,fn.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):Ae?xt&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Ct,$t,0,0,fn.width,fn.height,Ee,Fe,fn.data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Ct,$t,Rt,fn.width,fn.height,0,Ee,Fe,fn.data)}}}else{if(Ht=Z.mipmaps,Ae&&Xe){Ht.length>0&&Xt++;const Ct=bn(kt[0]);t.texStorage2D(n.TEXTURE_CUBE_MAP,Xt,Rt,Ct.width,Ct.height)}for(let Ct=0;Ct<6;Ct++)if(dt){Ae?xt&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Ct,0,0,0,kt[Ct].width,kt[Ct].height,Ee,Fe,kt[Ct].data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Ct,0,Rt,kt[Ct].width,kt[Ct].height,0,Ee,Fe,kt[Ct].data);for(let $t=0;$t<Ht.length;$t++){const ui=Ht[$t].image[Ct].image;Ae?xt&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Ct,$t+1,0,0,ui.width,ui.height,Ee,Fe,ui.data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Ct,$t+1,Rt,ui.width,ui.height,0,Ee,Fe,ui.data)}}else{Ae?xt&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Ct,0,0,0,Ee,Fe,kt[Ct]):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Ct,0,Rt,Ee,Fe,kt[Ct]);for(let $t=0;$t<Ht.length;$t++){const fn=Ht[$t];Ae?xt&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Ct,$t+1,0,0,Ee,Fe,fn.image[Ct]):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Ct,$t+1,Rt,Ee,Fe,fn.image[Ct])}}}E(Z)&&w(n.TEXTURE_CUBE_MAP),rt.__version=ht.version,Z.onUpdate&&Z.onUpdate(Z)}ie.__version=Z.version}function yt(ie,Z,be,Ge,ht,rt){const qt=s.convert(be.format,be.colorSpace),jt=s.convert(be.type),tn=D(be.internalFormat,qt,jt,be.colorSpace),nn=i.get(Z),dt=i.get(be);if(dt.__renderTarget=Z,!nn.__hasExternalTextures){const kt=Math.max(1,Z.width>>rt),cn=Math.max(1,Z.height>>rt);ht===n.TEXTURE_3D||ht===n.TEXTURE_2D_ARRAY?t.texImage3D(ht,rt,tn,kt,cn,Z.depth,0,qt,jt,null):t.texImage2D(ht,rt,tn,kt,cn,0,qt,jt,null)}t.bindFramebuffer(n.FRAMEBUFFER,ie),Kt(Z)?o.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,Ge,ht,dt.__webglTexture,0,mt(Z)):(ht===n.TEXTURE_2D||ht>=n.TEXTURE_CUBE_MAP_POSITIVE_X&&ht<=n.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&n.framebufferTexture2D(n.FRAMEBUFFER,Ge,ht,dt.__webglTexture,rt),t.bindFramebuffer(n.FRAMEBUFFER,null)}function vt(ie,Z,be){if(n.bindRenderbuffer(n.RENDERBUFFER,ie),Z.depthBuffer){const Ge=Z.depthTexture,ht=Ge&&Ge.isDepthTexture?Ge.type:null,rt=N(Z.stencilBuffer,ht),qt=Z.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,jt=mt(Z);Kt(Z)?o.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,jt,rt,Z.width,Z.height):be?n.renderbufferStorageMultisample(n.RENDERBUFFER,jt,rt,Z.width,Z.height):n.renderbufferStorage(n.RENDERBUFFER,rt,Z.width,Z.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,qt,n.RENDERBUFFER,ie)}else{const Ge=Z.textures;for(let ht=0;ht<Ge.length;ht++){const rt=Ge[ht],qt=s.convert(rt.format,rt.colorSpace),jt=s.convert(rt.type),tn=D(rt.internalFormat,qt,jt,rt.colorSpace),nn=mt(Z);be&&Kt(Z)===!1?n.renderbufferStorageMultisample(n.RENDERBUFFER,nn,tn,Z.width,Z.height):Kt(Z)?o.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,nn,tn,Z.width,Z.height):n.renderbufferStorage(n.RENDERBUFFER,tn,Z.width,Z.height)}}n.bindRenderbuffer(n.RENDERBUFFER,null)}function Vt(ie,Z){if(Z&&Z.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(t.bindFramebuffer(n.FRAMEBUFFER,ie),!(Z.depthTexture&&Z.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");const Ge=i.get(Z.depthTexture);Ge.__renderTarget=Z,(!Ge.__webglTexture||Z.depthTexture.image.width!==Z.width||Z.depthTexture.image.height!==Z.height)&&(Z.depthTexture.image.width=Z.width,Z.depthTexture.image.height=Z.height,Z.depthTexture.needsUpdate=!0),Te(Z.depthTexture,0);const ht=Ge.__webglTexture,rt=mt(Z);if(Z.depthTexture.format===dy)Kt(Z)?o.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,ht,0,rt):n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,ht,0);else if(Z.depthTexture.format===py)Kt(Z)?o.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.TEXTURE_2D,ht,0,rt):n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.TEXTURE_2D,ht,0);else throw new Error("Unknown depthTexture format")}function zn(ie){const Z=i.get(ie),be=ie.isWebGLCubeRenderTarget===!0;if(Z.__boundDepthTexture!==ie.depthTexture){const Ge=ie.depthTexture;if(Z.__depthDisposeCallback&&Z.__depthDisposeCallback(),Ge){const ht=()=>{delete Z.__boundDepthTexture,delete Z.__depthDisposeCallback,Ge.removeEventListener("dispose",ht)};Ge.addEventListener("dispose",ht),Z.__depthDisposeCallback=ht}Z.__boundDepthTexture=Ge}if(ie.depthTexture&&!Z.__autoAllocateDepthBuffer){if(be)throw new Error("target.depthTexture not supported in Cube render targets");const Ge=ie.texture.mipmaps;Ge&&Ge.length>0?Vt(Z.__webglFramebuffer[0],ie):Vt(Z.__webglFramebuffer,ie)}else if(be){Z.__webglDepthbuffer=[];for(let Ge=0;Ge<6;Ge++)if(t.bindFramebuffer(n.FRAMEBUFFER,Z.__webglFramebuffer[Ge]),Z.__webglDepthbuffer[Ge]===void 0)Z.__webglDepthbuffer[Ge]=n.createRenderbuffer(),vt(Z.__webglDepthbuffer[Ge],ie,!1);else{const ht=ie.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,rt=Z.__webglDepthbuffer[Ge];n.bindRenderbuffer(n.RENDERBUFFER,rt),n.framebufferRenderbuffer(n.FRAMEBUFFER,ht,n.RENDERBUFFER,rt)}}else{const Ge=ie.texture.mipmaps;if(Ge&&Ge.length>0?t.bindFramebuffer(n.FRAMEBUFFER,Z.__webglFramebuffer[0]):t.bindFramebuffer(n.FRAMEBUFFER,Z.__webglFramebuffer),Z.__webglDepthbuffer===void 0)Z.__webglDepthbuffer=n.createRenderbuffer(),vt(Z.__webglDepthbuffer,ie,!1);else{const ht=ie.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,rt=Z.__webglDepthbuffer;n.bindRenderbuffer(n.RENDERBUFFER,rt),n.framebufferRenderbuffer(n.FRAMEBUFFER,ht,n.RENDERBUFFER,rt)}}t.bindFramebuffer(n.FRAMEBUFFER,null)}function An(ie,Z,be){const Ge=i.get(ie);Z!==void 0&&yt(Ge.__webglFramebuffer,ie,ie.texture,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,0),be!==void 0&&zn(ie)}function dn(ie){const Z=ie.texture,be=i.get(ie),Ge=i.get(Z);ie.addEventListener("dispose",M);const ht=ie.textures,rt=ie.isWebGLCubeRenderTarget===!0,qt=ht.length>1;if(qt||(Ge.__webglTexture===void 0&&(Ge.__webglTexture=n.createTexture()),Ge.__version=Z.version,a.memory.textures++),rt){be.__webglFramebuffer=[];for(let jt=0;jt<6;jt++)if(Z.mipmaps&&Z.mipmaps.length>0){be.__webglFramebuffer[jt]=[];for(let tn=0;tn<Z.mipmaps.length;tn++)be.__webglFramebuffer[jt][tn]=n.createFramebuffer()}else be.__webglFramebuffer[jt]=n.createFramebuffer()}else{if(Z.mipmaps&&Z.mipmaps.length>0){be.__webglFramebuffer=[];for(let jt=0;jt<Z.mipmaps.length;jt++)be.__webglFramebuffer[jt]=n.createFramebuffer()}else be.__webglFramebuffer=n.createFramebuffer();if(qt)for(let jt=0,tn=ht.length;jt<tn;jt++){const nn=i.get(ht[jt]);nn.__webglTexture===void 0&&(nn.__webglTexture=n.createTexture(),a.memory.textures++)}if(ie.samples>0&&Kt(ie)===!1){be.__webglMultisampledFramebuffer=n.createFramebuffer(),be.__webglColorRenderbuffer=[],t.bindFramebuffer(n.FRAMEBUFFER,be.__webglMultisampledFramebuffer);for(let jt=0;jt<ht.length;jt++){const tn=ht[jt];be.__webglColorRenderbuffer[jt]=n.createRenderbuffer(),n.bindRenderbuffer(n.RENDERBUFFER,be.__webglColorRenderbuffer[jt]);const nn=s.convert(tn.format,tn.colorSpace),dt=s.convert(tn.type),kt=D(tn.internalFormat,nn,dt,tn.colorSpace,ie.isXRRenderTarget===!0),cn=mt(ie);n.renderbufferStorageMultisample(n.RENDERBUFFER,cn,kt,ie.width,ie.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+jt,n.RENDERBUFFER,be.__webglColorRenderbuffer[jt])}n.bindRenderbuffer(n.RENDERBUFFER,null),ie.depthBuffer&&(be.__webglDepthRenderbuffer=n.createRenderbuffer(),vt(be.__webglDepthRenderbuffer,ie,!0)),t.bindFramebuffer(n.FRAMEBUFFER,null)}}if(rt){t.bindTexture(n.TEXTURE_CUBE_MAP,Ge.__webglTexture),ze(n.TEXTURE_CUBE_MAP,Z);for(let jt=0;jt<6;jt++)if(Z.mipmaps&&Z.mipmaps.length>0)for(let tn=0;tn<Z.mipmaps.length;tn++)yt(be.__webglFramebuffer[jt][tn],ie,Z,n.COLOR_ATTACHMENT0,n.TEXTURE_CUBE_MAP_POSITIVE_X+jt,tn);else yt(be.__webglFramebuffer[jt],ie,Z,n.COLOR_ATTACHMENT0,n.TEXTURE_CUBE_MAP_POSITIVE_X+jt,0);E(Z)&&w(n.TEXTURE_CUBE_MAP),t.unbindTexture()}else if(qt){for(let jt=0,tn=ht.length;jt<tn;jt++){const nn=ht[jt],dt=i.get(nn);t.bindTexture(n.TEXTURE_2D,dt.__webglTexture),ze(n.TEXTURE_2D,nn),yt(be.__webglFramebuffer,ie,nn,n.COLOR_ATTACHMENT0+jt,n.TEXTURE_2D,0),E(nn)&&w(n.TEXTURE_2D)}t.unbindTexture()}else{let jt=n.TEXTURE_2D;if((ie.isWebGL3DRenderTarget||ie.isWebGLArrayRenderTarget)&&(jt=ie.isWebGL3DRenderTarget?n.TEXTURE_3D:n.TEXTURE_2D_ARRAY),t.bindTexture(jt,Ge.__webglTexture),ze(jt,Z),Z.mipmaps&&Z.mipmaps.length>0)for(let tn=0;tn<Z.mipmaps.length;tn++)yt(be.__webglFramebuffer[tn],ie,Z,n.COLOR_ATTACHMENT0,jt,tn);else yt(be.__webglFramebuffer,ie,Z,n.COLOR_ATTACHMENT0,jt,0);E(Z)&&w(jt),t.unbindTexture()}ie.depthBuffer&&zn(ie)}function fe(ie){const Z=ie.textures;for(let be=0,Ge=Z.length;be<Ge;be++){const ht=Z[be];if(E(ht)){const rt=P(ie),qt=i.get(ht).__webglTexture;t.bindTexture(rt,qt),w(rt),t.unbindTexture()}}}const Et=[],Mt=[];function At(ie){if(ie.samples>0){if(Kt(ie)===!1){const Z=ie.textures,be=ie.width,Ge=ie.height;let ht=n.COLOR_BUFFER_BIT;const rt=ie.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,qt=i.get(ie),jt=Z.length>1;if(jt)for(let nn=0;nn<Z.length;nn++)t.bindFramebuffer(n.FRAMEBUFFER,qt.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+nn,n.RENDERBUFFER,null),t.bindFramebuffer(n.FRAMEBUFFER,qt.__webglFramebuffer),n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0+nn,n.TEXTURE_2D,null,0);t.bindFramebuffer(n.READ_FRAMEBUFFER,qt.__webglMultisampledFramebuffer);const tn=ie.texture.mipmaps;tn&&tn.length>0?t.bindFramebuffer(n.DRAW_FRAMEBUFFER,qt.__webglFramebuffer[0]):t.bindFramebuffer(n.DRAW_FRAMEBUFFER,qt.__webglFramebuffer);for(let nn=0;nn<Z.length;nn++){if(ie.resolveDepthBuffer&&(ie.depthBuffer&&(ht|=n.DEPTH_BUFFER_BIT),ie.stencilBuffer&&ie.resolveStencilBuffer&&(ht|=n.STENCIL_BUFFER_BIT)),jt){n.framebufferRenderbuffer(n.READ_FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.RENDERBUFFER,qt.__webglColorRenderbuffer[nn]);const dt=i.get(Z[nn]).__webglTexture;n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,dt,0)}n.blitFramebuffer(0,0,be,Ge,0,0,be,Ge,ht,n.NEAREST),l===!0&&(Et.length=0,Mt.length=0,Et.push(n.COLOR_ATTACHMENT0+nn),ie.depthBuffer&&ie.resolveDepthBuffer===!1&&(Et.push(rt),Mt.push(rt),n.invalidateFramebuffer(n.DRAW_FRAMEBUFFER,Mt)),n.invalidateFramebuffer(n.READ_FRAMEBUFFER,Et))}if(t.bindFramebuffer(n.READ_FRAMEBUFFER,null),t.bindFramebuffer(n.DRAW_FRAMEBUFFER,null),jt)for(let nn=0;nn<Z.length;nn++){t.bindFramebuffer(n.FRAMEBUFFER,qt.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+nn,n.RENDERBUFFER,qt.__webglColorRenderbuffer[nn]);const dt=i.get(Z[nn]).__webglTexture;t.bindFramebuffer(n.FRAMEBUFFER,qt.__webglFramebuffer),n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0+nn,n.TEXTURE_2D,dt,0)}t.bindFramebuffer(n.DRAW_FRAMEBUFFER,qt.__webglMultisampledFramebuffer)}else if(ie.depthBuffer&&ie.resolveDepthBuffer===!1&&l){const Z=ie.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT;n.invalidateFramebuffer(n.DRAW_FRAMEBUFFER,[Z])}}}function mt(ie){return Math.min(r.maxSamples,ie.samples)}function Kt(ie){const Z=i.get(ie);return ie.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&Z.__useRenderToTexture!==!1}function Ot(ie){const Z=a.render.frame;d.get(ie)!==Z&&(d.set(ie,Z),ie.update())}function Qt(ie,Z){const be=ie.colorSpace,Ge=ie.format,ht=ie.type;return ie.isCompressedTexture===!0||ie.isVideoTexture===!0||be!==vf&&be!==ld&&(ur.getTransfer(be)===Gr?(Ge!==ma||ht!==Hl)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",be)),Z}function bn(ie){return typeof HTMLImageElement<"u"&&ie instanceof HTMLImageElement?(u.width=ie.naturalWidth||ie.width,u.height=ie.naturalHeight||ie.height):typeof VideoFrame<"u"&&ie instanceof VideoFrame?(u.width=ie.displayWidth,u.height=ie.displayHeight):(u.width=ie.width,u.height=ie.height),u}this.allocateTextureUnit=ae,this.resetTextureUnits=pe,this.setTexture2D=Te,this.setTexture2DArray=J,this.setTexture3D=de,this.setTextureCube=he,this.rebindTextures=An,this.setupRenderTarget=dn,this.updateRenderTargetMipmap=fe,this.updateMultisampleRenderTarget=At,this.setupDepthRenderbuffer=zn,this.setupFrameBufferTexture=yt,this.useMultisampledRTT=Kt}function IU(n,e){function t(i,r=ld){let s;const a=ur.getTransfer(r);if(i===Hl)return n.UNSIGNED_BYTE;if(i===Cw)return n.UNSIGNED_SHORT_4_4_4_4;if(i===Rw)return n.UNSIGNED_SHORT_5_5_5_1;if(i===mC)return n.UNSIGNED_INT_5_9_9_9_REV;if(i===Mw)return n.BYTE;if(i===Aw)return n.SHORT;if(i===fy)return n.UNSIGNED_SHORT;if(i===j_)return n.INT;if(i===hh)return n.UNSIGNED_INT;if(i===Ds)return n.FLOAT;if(i===Ha)return n.HALF_FLOAT;if(i===gC)return n.ALPHA;if(i===vC)return n.RGB;if(i===ma)return n.RGBA;if(i===dy)return n.DEPTH_COMPONENT;if(i===py)return n.DEPTH_STENCIL;if(i===$_)return n.RED;if(i===q_)return n.RED_INTEGER;if(i===yC)return n.RG;if(i===Ow)return n.RG_INTEGER;if(i===Pw)return n.RGBA_INTEGER;if(i===q0||i===W0||i===X0||i===Y0)if(a===Gr)if(s=e.get("WEBGL_compressed_texture_s3tc_srgb"),s!==null){if(i===q0)return s.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(i===W0)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(i===X0)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(i===Y0)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(s=e.get("WEBGL_compressed_texture_s3tc"),s!==null){if(i===q0)return s.COMPRESSED_RGB_S3TC_DXT1_EXT;if(i===W0)return s.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(i===X0)return s.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(i===Y0)return s.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(i===fS||i===hS||i===dS||i===pS)if(s=e.get("WEBGL_compressed_texture_pvrtc"),s!==null){if(i===fS)return s.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(i===hS)return s.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(i===dS)return s.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(i===pS)return s.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(i===mS||i===gS||i===vS)if(s=e.get("WEBGL_compressed_texture_etc"),s!==null){if(i===mS||i===gS)return a===Gr?s.COMPRESSED_SRGB8_ETC2:s.COMPRESSED_RGB8_ETC2;if(i===vS)return a===Gr?s.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:s.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(i===yS||i===_S||i===bS||i===xS||i===SS||i===wS||i===ES||i===TS||i===MS||i===AS||i===CS||i===RS||i===OS||i===PS)if(s=e.get("WEBGL_compressed_texture_astc"),s!==null){if(i===yS)return a===Gr?s.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:s.COMPRESSED_RGBA_ASTC_4x4_KHR;if(i===_S)return a===Gr?s.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:s.COMPRESSED_RGBA_ASTC_5x4_KHR;if(i===bS)return a===Gr?s.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:s.COMPRESSED_RGBA_ASTC_5x5_KHR;if(i===xS)return a===Gr?s.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:s.COMPRESSED_RGBA_ASTC_6x5_KHR;if(i===SS)return a===Gr?s.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:s.COMPRESSED_RGBA_ASTC_6x6_KHR;if(i===wS)return a===Gr?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:s.COMPRESSED_RGBA_ASTC_8x5_KHR;if(i===ES)return a===Gr?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:s.COMPRESSED_RGBA_ASTC_8x6_KHR;if(i===TS)return a===Gr?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:s.COMPRESSED_RGBA_ASTC_8x8_KHR;if(i===MS)return a===Gr?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:s.COMPRESSED_RGBA_ASTC_10x5_KHR;if(i===AS)return a===Gr?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:s.COMPRESSED_RGBA_ASTC_10x6_KHR;if(i===CS)return a===Gr?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:s.COMPRESSED_RGBA_ASTC_10x8_KHR;if(i===RS)return a===Gr?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:s.COMPRESSED_RGBA_ASTC_10x10_KHR;if(i===OS)return a===Gr?s.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:s.COMPRESSED_RGBA_ASTC_12x10_KHR;if(i===PS)return a===Gr?s.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:s.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(i===Z0||i===DS||i===LS)if(s=e.get("EXT_texture_compression_bptc"),s!==null){if(i===Z0)return a===Gr?s.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:s.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(i===DS)return s.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(i===LS)return s.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}else return null;if(i===_C||i===NS||i===IS||i===zS)if(s=e.get("EXT_texture_compression_rgtc"),s!==null){if(i===Z0)return s.COMPRESSED_RED_RGTC1_EXT;if(i===NS)return s.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(i===IS)return s.COMPRESSED_RED_GREEN_RGTC2_EXT;if(i===zS)return s.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return i===hy?n.UNSIGNED_INT_24_8:n[i]!==void 0?n[i]:null}return{convert:t}}const lce=`
void main() {

	gl_Position = vec4( position, 1.0 );

}`,cce=`
uniform sampler2DArray depthColor;
uniform float depthWidth;
uniform float depthHeight;

void main() {

	vec2 coord = vec2( gl_FragCoord.x / depthWidth, gl_FragCoord.y / depthHeight );

	if ( coord.x >= 1.0 ) {

		gl_FragDepth = texture( depthColor, vec3( coord.x - 1.0, coord.y, 1 ) ).r;

	} else {

		gl_FragDepth = texture( depthColor, vec3( coord.x, coord.y, 0 ) ).r;

	}

}`;class uce{constructor(){this.texture=null,this.mesh=null,this.depthNear=0,this.depthFar=0}init(e,t,i){if(this.texture===null){const r=new zr,s=e.properties.get(r);s.__webglTexture=t.texture,(t.depthNear!==i.depthNear||t.depthFar!==i.depthFar)&&(this.depthNear=t.depthNear,this.depthFar=t.depthFar),this.texture=r}}getMesh(e){if(this.texture!==null&&this.mesh===null){const t=e.cameras[0].viewport,i=new pc({vertexShader:lce,fragmentShader:cce,uniforms:{depthColor:{value:this.texture},depthWidth:{value:t.z},depthHeight:{value:t.w}}});this.mesh=new Gs(new jp(20,20),i)}return this.mesh}reset(){this.texture=null,this.mesh=null}getDepthTexture(){return this.texture}}class fce extends gh{constructor(e,t){super();const i=this;let r=null,s=1,a=null,o="local-floor",l=1,u=null,d=null,m=null,v=null,y=null,x=null;const T=new uce,E=t.getContextAttributes();let w=null,P=null;const D=[],N=[],G=new Lt;let k=null;const M=new fa;M.viewport=new _r;const $=new fa;$.viewport=new _r;const V=[M,$],H=new TU;let ee=null,pe=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(xe){let $e=D[xe];return $e===void 0&&($e=new Nx,D[xe]=$e),$e.getTargetRaySpace()},this.getControllerGrip=function(xe){let $e=D[xe];return $e===void 0&&($e=new Nx,D[xe]=$e),$e.getGripSpace()},this.getHand=function(xe){let $e=D[xe];return $e===void 0&&($e=new Nx,D[xe]=$e),$e.getHandSpace()};function ae(xe){const $e=N.indexOf(xe.inputSource);if($e===-1)return;const Ze=D[$e];Ze!==void 0&&(Ze.update(xe.inputSource,xe.frame,u||a),Ze.dispatchEvent({type:xe.type,data:xe.inputSource}))}function ye(){r.removeEventListener("select",ae),r.removeEventListener("selectstart",ae),r.removeEventListener("selectend",ae),r.removeEventListener("squeeze",ae),r.removeEventListener("squeezestart",ae),r.removeEventListener("squeezeend",ae),r.removeEventListener("end",ye),r.removeEventListener("inputsourceschange",Te);for(let xe=0;xe<D.length;xe++){const $e=N[xe];$e!==null&&(N[xe]=null,D[xe].disconnect($e))}ee=null,pe=null,T.reset(),e.setRenderTarget(w),y=null,v=null,m=null,r=null,P=null,Ve.stop(),i.isPresenting=!1,e.setPixelRatio(k),e.setSize(G.width,G.height,!1),i.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(xe){s=xe,i.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(xe){o=xe,i.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return u||a},this.setReferenceSpace=function(xe){u=xe},this.getBaseLayer=function(){return v!==null?v:y},this.getBinding=function(){return m},this.getFrame=function(){return x},this.getSession=function(){return r},this.setSession=async function(xe){if(r=xe,r!==null){if(w=e.getRenderTarget(),r.addEventListener("select",ae),r.addEventListener("selectstart",ae),r.addEventListener("selectend",ae),r.addEventListener("squeeze",ae),r.addEventListener("squeezestart",ae),r.addEventListener("squeezeend",ae),r.addEventListener("end",ye),r.addEventListener("inputsourceschange",Te),E.xrCompatible!==!0&&await t.makeXRCompatible(),k=e.getPixelRatio(),e.getSize(G),typeof XRWebGLBinding<"u"&&"createProjectionLayer"in XRWebGLBinding.prototype){let Ze=null,gt=null,yt=null;E.depth&&(yt=E.stencil?t.DEPTH24_STENCIL8:t.DEPTH_COMPONENT24,Ze=E.stencil?py:dy,gt=E.stencil?hy:hh);const vt={colorFormat:t.RGBA8,depthFormat:yt,scaleFactor:s};m=new XRWebGLBinding(r,t),v=m.createProjectionLayer(vt),r.updateRenderState({layers:[v]}),e.setPixelRatio(1),e.setSize(v.textureWidth,v.textureHeight,!1),P=new Fc(v.textureWidth,v.textureHeight,{format:ma,type:Hl,depthTexture:new Vw(v.textureWidth,v.textureHeight,gt,void 0,void 0,void 0,void 0,void 0,void 0,Ze),stencilBuffer:E.stencil,colorSpace:e.outputColorSpace,samples:E.antialias?4:0,resolveDepthBuffer:v.ignoreDepthValues===!1,resolveStencilBuffer:v.ignoreDepthValues===!1})}else{const Ze={antialias:E.antialias,alpha:!0,depth:E.depth,stencil:E.stencil,framebufferScaleFactor:s};y=new XRWebGLLayer(r,t,Ze),r.updateRenderState({baseLayer:y}),e.setPixelRatio(1),e.setSize(y.framebufferWidth,y.framebufferHeight,!1),P=new Fc(y.framebufferWidth,y.framebufferHeight,{format:ma,type:Hl,colorSpace:e.outputColorSpace,stencilBuffer:E.stencil,resolveDepthBuffer:y.ignoreDepthValues===!1,resolveStencilBuffer:y.ignoreDepthValues===!1})}P.isXRRenderTarget=!0,this.setFoveation(l),u=null,a=await r.requestReferenceSpace(o),Ve.setContext(r),Ve.start(),i.isPresenting=!0,i.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(r!==null)return r.environmentBlendMode},this.getDepthTexture=function(){return T.getDepthTexture()};function Te(xe){for(let $e=0;$e<xe.removed.length;$e++){const Ze=xe.removed[$e],gt=N.indexOf(Ze);gt>=0&&(N[gt]=null,D[gt].disconnect(Ze))}for(let $e=0;$e<xe.added.length;$e++){const Ze=xe.added[$e];let gt=N.indexOf(Ze);if(gt===-1){for(let vt=0;vt<D.length;vt++)if(vt>=N.length){N.push(Ze),gt=vt;break}else if(N[vt]===null){N[vt]=Ze,gt=vt;break}if(gt===-1)break}const yt=D[gt];yt&&yt.connect(Ze)}}const J=new me,de=new me;function he(xe,$e,Ze){J.setFromMatrixPosition($e.matrixWorld),de.setFromMatrixPosition(Ze.matrixWorld);const gt=J.distanceTo(de),yt=$e.projectionMatrix.elements,vt=Ze.projectionMatrix.elements,Vt=yt[14]/(yt[10]-1),zn=yt[14]/(yt[10]+1),An=(yt[9]+1)/yt[5],dn=(yt[9]-1)/yt[5],fe=(yt[8]-1)/yt[0],Et=(vt[8]+1)/vt[0],Mt=Vt*fe,At=Vt*Et,mt=gt/(-fe+Et),Kt=mt*-fe;if($e.matrixWorld.decompose(xe.position,xe.quaternion,xe.scale),xe.translateX(Kt),xe.translateZ(mt),xe.matrixWorld.compose(xe.position,xe.quaternion,xe.scale),xe.matrixWorldInverse.copy(xe.matrixWorld).invert(),yt[10]===-1)xe.projectionMatrix.copy($e.projectionMatrix),xe.projectionMatrixInverse.copy($e.projectionMatrixInverse);else{const Ot=Vt+mt,Qt=zn+mt,bn=Mt-Kt,ie=At+(gt-Kt),Z=An*zn/Qt*Ot,be=dn*zn/Qt*Ot;xe.projectionMatrix.makePerspective(bn,ie,Z,be,Ot,Qt),xe.projectionMatrixInverse.copy(xe.projectionMatrix).invert()}}function Le(xe,$e){$e===null?xe.matrixWorld.copy(xe.matrix):xe.matrixWorld.multiplyMatrices($e.matrixWorld,xe.matrix),xe.matrixWorldInverse.copy(xe.matrixWorld).invert()}this.updateCamera=function(xe){if(r===null)return;let $e=xe.near,Ze=xe.far;T.texture!==null&&(T.depthNear>0&&($e=T.depthNear),T.depthFar>0&&(Ze=T.depthFar)),H.near=$.near=M.near=$e,H.far=$.far=M.far=Ze,(ee!==H.near||pe!==H.far)&&(r.updateRenderState({depthNear:H.near,depthFar:H.far}),ee=H.near,pe=H.far),M.layers.mask=xe.layers.mask|2,$.layers.mask=xe.layers.mask|4,H.layers.mask=M.layers.mask|$.layers.mask;const gt=xe.parent,yt=H.cameras;Le(H,gt);for(let vt=0;vt<yt.length;vt++)Le(yt[vt],gt);yt.length===2?he(H,M,$):H.projectionMatrix.copy(M.projectionMatrix),ne(xe,H,gt)};function ne(xe,$e,Ze){Ze===null?xe.matrix.copy($e.matrixWorld):(xe.matrix.copy(Ze.matrixWorld),xe.matrix.invert(),xe.matrix.multiply($e.matrixWorld)),xe.matrix.decompose(xe.position,xe.quaternion,xe.scale),xe.updateMatrixWorld(!0),xe.projectionMatrix.copy($e.projectionMatrix),xe.projectionMatrixInverse.copy($e.projectionMatrixInverse),xe.isPerspectiveCamera&&(xe.fov=my*2*Math.atan(1/xe.projectionMatrix.elements[5]),xe.zoom=1)}this.getCamera=function(){return H},this.getFoveation=function(){if(!(v===null&&y===null))return l},this.setFoveation=function(xe){l=xe,v!==null&&(v.fixedFoveation=xe),y!==null&&y.fixedFoveation!==void 0&&(y.fixedFoveation=xe)},this.hasDepthSensing=function(){return T.texture!==null},this.getDepthSensingMesh=function(){return T.getMesh(H)};let re=null;function ze(xe,$e){if(d=$e.getViewerPose(u||a),x=$e,d!==null){const Ze=d.views;y!==null&&(e.setRenderTargetFramebuffer(P,y.framebuffer),e.setRenderTarget(P));let gt=!1;Ze.length!==H.cameras.length&&(H.cameras.length=0,gt=!0);for(let Vt=0;Vt<Ze.length;Vt++){const zn=Ze[Vt];let An=null;if(y!==null)An=y.getViewport(zn);else{const fe=m.getViewSubImage(v,zn);An=fe.viewport,Vt===0&&(e.setRenderTargetTextures(P,fe.colorTexture,fe.depthStencilTexture),e.setRenderTarget(P))}let dn=V[Vt];dn===void 0&&(dn=new fa,dn.layers.enable(Vt),dn.viewport=new _r,V[Vt]=dn),dn.matrix.fromArray(zn.transform.matrix),dn.matrix.decompose(dn.position,dn.quaternion,dn.scale),dn.projectionMatrix.fromArray(zn.projectionMatrix),dn.projectionMatrixInverse.copy(dn.projectionMatrix).invert(),dn.viewport.set(An.x,An.y,An.width,An.height),Vt===0&&(H.matrix.copy(dn.matrix),H.matrix.decompose(H.position,H.quaternion,H.scale)),gt===!0&&H.cameras.push(dn)}const yt=r.enabledFeatures;if(yt&&yt.includes("depth-sensing")&&r.depthUsage=="gpu-optimized"&&m){const Vt=m.getDepthInformation(Ze[0]);Vt&&Vt.isValid&&Vt.texture&&T.init(e,Vt,r.renderState)}}for(let Ze=0;Ze<D.length;Ze++){const gt=N[Ze],yt=D[Ze];gt!==null&&yt!==void 0&&yt.update(gt,$e,u||a)}re&&re(xe,$e),$e.detectedPlanes&&i.dispatchEvent({type:"planesdetected",data:$e}),x=null}const Ve=new OU;Ve.setAnimationLoop(ze),this.setAnimationLoop=function(xe){re=xe},this.dispose=function(){}}}const Hm=new Vc,hce=new mi;function dce(n,e){function t(E,w){E.matrixAutoUpdate===!0&&E.updateMatrix(),w.value.copy(E.matrix)}function i(E,w){w.color.getRGB(E.fogColor.value,Oz(n)),w.isFog?(E.fogNear.value=w.near,E.fogFar.value=w.far):w.isFogExp2&&(E.fogDensity.value=w.density)}function r(E,w,P,D,N){w.isMeshBasicMaterial||w.isMeshLambertMaterial?s(E,w):w.isMeshToonMaterial?(s(E,w),m(E,w)):w.isMeshPhongMaterial?(s(E,w),d(E,w)):w.isMeshStandardMaterial?(s(E,w),v(E,w),w.isMeshPhysicalMaterial&&y(E,w,N)):w.isMeshMatcapMaterial?(s(E,w),x(E,w)):w.isMeshDepthMaterial?s(E,w):w.isMeshDistanceMaterial?(s(E,w),T(E,w)):w.isMeshNormalMaterial?s(E,w):w.isLineBasicMaterial?(a(E,w),w.isLineDashedMaterial&&o(E,w)):w.isPointsMaterial?l(E,w,P,D):w.isSpriteMaterial?u(E,w):w.isShadowMaterial?(E.color.value.copy(w.color),E.opacity.value=w.opacity):w.isShaderMaterial&&(w.uniformsNeedUpdate=!1)}function s(E,w){E.opacity.value=w.opacity,w.color&&E.diffuse.value.copy(w.color),w.emissive&&E.emissive.value.copy(w.emissive).multiplyScalar(w.emissiveIntensity),w.map&&(E.map.value=w.map,t(w.map,E.mapTransform)),w.alphaMap&&(E.alphaMap.value=w.alphaMap,t(w.alphaMap,E.alphaMapTransform)),w.bumpMap&&(E.bumpMap.value=w.bumpMap,t(w.bumpMap,E.bumpMapTransform),E.bumpScale.value=w.bumpScale,w.side===Bl&&(E.bumpScale.value*=-1)),w.normalMap&&(E.normalMap.value=w.normalMap,t(w.normalMap,E.normalMapTransform),E.normalScale.value.copy(w.normalScale),w.side===Bl&&E.normalScale.value.negate()),w.displacementMap&&(E.displacementMap.value=w.displacementMap,t(w.displacementMap,E.displacementMapTransform),E.displacementScale.value=w.displacementScale,E.displacementBias.value=w.displacementBias),w.emissiveMap&&(E.emissiveMap.value=w.emissiveMap,t(w.emissiveMap,E.emissiveMapTransform)),w.specularMap&&(E.specularMap.value=w.specularMap,t(w.specularMap,E.specularMapTransform)),w.alphaTest>0&&(E.alphaTest.value=w.alphaTest);const P=e.get(w),D=P.envMap,N=P.envMapRotation;D&&(E.envMap.value=D,Hm.copy(N),Hm.x*=-1,Hm.y*=-1,Hm.z*=-1,D.isCubeTexture&&D.isRenderTargetTexture===!1&&(Hm.y*=-1,Hm.z*=-1),E.envMapRotation.value.setFromMatrix4(hce.makeRotationFromEuler(Hm)),E.flipEnvMap.value=D.isCubeTexture&&D.isRenderTargetTexture===!1?-1:1,E.reflectivity.value=w.reflectivity,E.ior.value=w.ior,E.refractionRatio.value=w.refractionRatio),w.lightMap&&(E.lightMap.value=w.lightMap,E.lightMapIntensity.value=w.lightMapIntensity,t(w.lightMap,E.lightMapTransform)),w.aoMap&&(E.aoMap.value=w.aoMap,E.aoMapIntensity.value=w.aoMapIntensity,t(w.aoMap,E.aoMapTransform))}function a(E,w){E.diffuse.value.copy(w.color),E.opacity.value=w.opacity,w.map&&(E.map.value=w.map,t(w.map,E.mapTransform))}function o(E,w){E.dashSize.value=w.dashSize,E.totalSize.value=w.dashSize+w.gapSize,E.scale.value=w.scale}function l(E,w,P,D){E.diffuse.value.copy(w.color),E.opacity.value=w.opacity,E.size.value=w.size*P,E.scale.value=D*.5,w.map&&(E.map.value=w.map,t(w.map,E.uvTransform)),w.alphaMap&&(E.alphaMap.value=w.alphaMap,t(w.alphaMap,E.alphaMapTransform)),w.alphaTest>0&&(E.alphaTest.value=w.alphaTest)}function u(E,w){E.diffuse.value.copy(w.color),E.opacity.value=w.opacity,E.rotation.value=w.rotation,w.map&&(E.map.value=w.map,t(w.map,E.mapTransform)),w.alphaMap&&(E.alphaMap.value=w.alphaMap,t(w.alphaMap,E.alphaMapTransform)),w.alphaTest>0&&(E.alphaTest.value=w.alphaTest)}function d(E,w){E.specular.value.copy(w.specular),E.shininess.value=Math.max(w.shininess,1e-4)}function m(E,w){w.gradientMap&&(E.gradientMap.value=w.gradientMap)}function v(E,w){E.metalness.value=w.metalness,w.metalnessMap&&(E.metalnessMap.value=w.metalnessMap,t(w.metalnessMap,E.metalnessMapTransform)),E.roughness.value=w.roughness,w.roughnessMap&&(E.roughnessMap.value=w.roughnessMap,t(w.roughnessMap,E.roughnessMapTransform)),w.envMap&&(E.envMapIntensity.value=w.envMapIntensity)}function y(E,w,P){E.ior.value=w.ior,w.sheen>0&&(E.sheenColor.value.copy(w.sheenColor).multiplyScalar(w.sheen),E.sheenRoughness.value=w.sheenRoughness,w.sheenColorMap&&(E.sheenColorMap.value=w.sheenColorMap,t(w.sheenColorMap,E.sheenColorMapTransform)),w.sheenRoughnessMap&&(E.sheenRoughnessMap.value=w.sheenRoughnessMap,t(w.sheenRoughnessMap,E.sheenRoughnessMapTransform))),w.clearcoat>0&&(E.clearcoat.value=w.clearcoat,E.clearcoatRoughness.value=w.clearcoatRoughness,w.clearcoatMap&&(E.clearcoatMap.value=w.clearcoatMap,t(w.clearcoatMap,E.clearcoatMapTransform)),w.clearcoatRoughnessMap&&(E.clearcoatRoughnessMap.value=w.clearcoatRoughnessMap,t(w.clearcoatRoughnessMap,E.clearcoatRoughnessMapTransform)),w.clearcoatNormalMap&&(E.clearcoatNormalMap.value=w.clearcoatNormalMap,t(w.clearcoatNormalMap,E.clearcoatNormalMapTransform),E.clearcoatNormalScale.value.copy(w.clearcoatNormalScale),w.side===Bl&&E.clearcoatNormalScale.value.negate())),w.dispersion>0&&(E.dispersion.value=w.dispersion),w.iridescence>0&&(E.iridescence.value=w.iridescence,E.iridescenceIOR.value=w.iridescenceIOR,E.iridescenceThicknessMinimum.value=w.iridescenceThicknessRange[0],E.iridescenceThicknessMaximum.value=w.iridescenceThicknessRange[1],w.iridescenceMap&&(E.iridescenceMap.value=w.iridescenceMap,t(w.iridescenceMap,E.iridescenceMapTransform)),w.iridescenceThicknessMap&&(E.iridescenceThicknessMap.value=w.iridescenceThicknessMap,t(w.iridescenceThicknessMap,E.iridescenceThicknessMapTransform))),w.transmission>0&&(E.transmission.value=w.transmission,E.transmissionSamplerMap.value=P.texture,E.transmissionSamplerSize.value.set(P.width,P.height),w.transmissionMap&&(E.transmissionMap.value=w.transmissionMap,t(w.transmissionMap,E.transmissionMapTransform)),E.thickness.value=w.thickness,w.thicknessMap&&(E.thicknessMap.value=w.thicknessMap,t(w.thicknessMap,E.thicknessMapTransform)),E.attenuationDistance.value=w.attenuationDistance,E.attenuationColor.value.copy(w.attenuationColor)),w.anisotropy>0&&(E.anisotropyVector.value.set(w.anisotropy*Math.cos(w.anisotropyRotation),w.anisotropy*Math.sin(w.anisotropyRotation)),w.anisotropyMap&&(E.anisotropyMap.value=w.anisotropyMap,t(w.anisotropyMap,E.anisotropyMapTransform))),E.specularIntensity.value=w.specularIntensity,E.specularColor.value.copy(w.specularColor),w.specularColorMap&&(E.specularColorMap.value=w.specularColorMap,t(w.specularColorMap,E.specularColorMapTransform)),w.specularIntensityMap&&(E.specularIntensityMap.value=w.specularIntensityMap,t(w.specularIntensityMap,E.specularIntensityMapTransform))}function x(E,w){w.matcap&&(E.matcap.value=w.matcap)}function T(E,w){const P=e.get(w).light;E.referencePosition.value.setFromMatrixPosition(P.matrixWorld),E.nearDistance.value=P.shadow.camera.near,E.farDistance.value=P.shadow.camera.far}return{refreshFogUniforms:i,refreshMaterialUniforms:r}}function pce(n,e,t,i){let r={},s={},a=[];const o=n.getParameter(n.MAX_UNIFORM_BUFFER_BINDINGS);function l(P,D){const N=D.program;i.uniformBlockBinding(P,N)}function u(P,D){let N=r[P.id];N===void 0&&(x(P),N=d(P),r[P.id]=N,P.addEventListener("dispose",E));const G=D.program;i.updateUBOMapping(P,G);const k=e.render.frame;s[P.id]!==k&&(v(P),s[P.id]=k)}function d(P){const D=m();P.__bindingPointIndex=D;const N=n.createBuffer(),G=P.__size,k=P.usage;return n.bindBuffer(n.UNIFORM_BUFFER,N),n.bufferData(n.UNIFORM_BUFFER,G,k),n.bindBuffer(n.UNIFORM_BUFFER,null),n.bindBufferBase(n.UNIFORM_BUFFER,D,N),N}function m(){for(let P=0;P<o;P++)if(a.indexOf(P)===-1)return a.push(P),P;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function v(P){const D=r[P.id],N=P.uniforms,G=P.__cache;n.bindBuffer(n.UNIFORM_BUFFER,D);for(let k=0,M=N.length;k<M;k++){const $=Array.isArray(N[k])?N[k]:[N[k]];for(let V=0,H=$.length;V<H;V++){const ee=$[V];if(y(ee,k,V,G)===!0){const pe=ee.__offset,ae=Array.isArray(ee.value)?ee.value:[ee.value];let ye=0;for(let Te=0;Te<ae.length;Te++){const J=ae[Te],de=T(J);typeof J=="number"||typeof J=="boolean"?(ee.__data[0]=J,n.bufferSubData(n.UNIFORM_BUFFER,pe+ye,ee.__data)):J.isMatrix3?(ee.__data[0]=J.elements[0],ee.__data[1]=J.elements[1],ee.__data[2]=J.elements[2],ee.__data[3]=0,ee.__data[4]=J.elements[3],ee.__data[5]=J.elements[4],ee.__data[6]=J.elements[5],ee.__data[7]=0,ee.__data[8]=J.elements[6],ee.__data[9]=J.elements[7],ee.__data[10]=J.elements[8],ee.__data[11]=0):(J.toArray(ee.__data,ye),ye+=de.storage/Float32Array.BYTES_PER_ELEMENT)}n.bufferSubData(n.UNIFORM_BUFFER,pe,ee.__data)}}}n.bindBuffer(n.UNIFORM_BUFFER,null)}function y(P,D,N,G){const k=P.value,M=D+"_"+N;if(G[M]===void 0)return typeof k=="number"||typeof k=="boolean"?G[M]=k:G[M]=k.clone(),!0;{const $=G[M];if(typeof k=="number"||typeof k=="boolean"){if($!==k)return G[M]=k,!0}else if($.equals(k)===!1)return $.copy(k),!0}return!1}function x(P){const D=P.uniforms;let N=0;const G=16;for(let M=0,$=D.length;M<$;M++){const V=Array.isArray(D[M])?D[M]:[D[M]];for(let H=0,ee=V.length;H<ee;H++){const pe=V[H],ae=Array.isArray(pe.value)?pe.value:[pe.value];for(let ye=0,Te=ae.length;ye<Te;ye++){const J=ae[ye],de=T(J),he=N%G,Le=he%de.boundary,ne=he+Le;N+=Le,ne!==0&&G-ne<de.storage&&(N+=G-ne),pe.__data=new Float32Array(de.storage/Float32Array.BYTES_PER_ELEMENT),pe.__offset=N,N+=de.storage}}}const k=N%G;return k>0&&(N+=G-k),P.__size=N,P.__cache={},this}function T(P){const D={boundary:0,storage:0};return typeof P=="number"||typeof P=="boolean"?(D.boundary=4,D.storage=4):P.isVector2?(D.boundary=8,D.storage=8):P.isVector3||P.isColor?(D.boundary=16,D.storage=12):P.isVector4?(D.boundary=16,D.storage=16):P.isMatrix3?(D.boundary=48,D.storage=48):P.isMatrix4?(D.boundary=64,D.storage=64):P.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",P),D}function E(P){const D=P.target;D.removeEventListener("dispose",E);const N=a.indexOf(D.__bindingPointIndex);a.splice(N,1),n.deleteBuffer(r[D.id]),delete r[D.id],delete s[D.id]}function w(){for(const P in r)n.deleteBuffer(r[P]);a=[],r={},s={}}return{bind:l,update:u,dispose:w}}class QC{constructor(e={}){const{canvas:t=Az(),context:i=null,depth:r=!0,stencil:s=!1,alpha:a=!1,antialias:o=!1,premultipliedAlpha:l=!0,preserveDrawingBuffer:u=!1,powerPreference:d="default",failIfMajorPerformanceCaveat:m=!1,reverseDepthBuffer:v=!1}=e;this.isWebGLRenderer=!0;let y;if(i!==null){if(typeof WebGLRenderingContext<"u"&&i instanceof WebGLRenderingContext)throw new Error("THREE.WebGLRenderer: WebGL 1 is not supported since r163.");y=i.getContextAttributes().alpha}else y=a;const x=new Uint32Array(4),T=new Int32Array(4);let E=null,w=null;const P=[],D=[];this.domElement=t,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.toneMapping=oh,this.toneMappingExposure=1,this.transmissionResolutionScale=1;const N=this;let G=!1;this._outputColorSpace=ka;let k=0,M=0,$=null,V=-1,H=null;const ee=new _r,pe=new _r;let ae=null;const ye=new yn(0);let Te=0,J=t.width,de=t.height,he=1,Le=null,ne=null;const re=new _r(0,0,J,de),ze=new _r(0,0,J,de);let Ve=!1;const xe=new Ay;let $e=!1,Ze=!1;const gt=new mi,yt=new mi,vt=new me,Vt=new _r,zn={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};let An=!1;function dn(){return $===null?he:1}let fe=i;function Et(Y,ve){return t.getContext(Y,ve)}try{const Y={alpha:!0,depth:r,stencil:s,antialias:o,premultipliedAlpha:l,preserveDrawingBuffer:u,powerPreference:d,failIfMajorPerformanceCaveat:m};if("setAttribute"in t&&t.setAttribute("data-engine",`three.js r${V_}`),t.addEventListener("webglcontextlost",Xt,!1),t.addEventListener("webglcontextrestored",Ht,!1),t.addEventListener("webglcontextcreationerror",Ct,!1),fe===null){const ve="webgl2";if(fe=Et(ve,Y),fe===null)throw Et(ve)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}}catch(Y){throw console.error("THREE.WebGLRenderer: "+Y.message),Y}let Mt,At,mt,Kt,Ot,Qt,bn,ie,Z,be,Ge,ht,rt,qt,jt,tn,nn,dt,kt,cn,Ee,Fe,Rt,Ae;function Xe(){Mt=new Moe(fe),Mt.init(),Fe=new IU(fe,Mt),At=new _oe(fe,Mt,e,Fe),mt=new ace(fe,Mt),At.reverseDepthBuffer&&v&&mt.buffers.depth.setReversed(!0),Kt=new Roe(fe),Ot=new Wle,Qt=new oce(fe,Mt,mt,Ot,At,Fe,Kt),bn=new xoe(N),ie=new Toe(N),Z=new Ire(fe),Rt=new voe(fe,Z),be=new Aoe(fe,Z,Kt,Rt),Ge=new Poe(fe,be,Z,Kt),kt=new Ooe(fe,At,Qt),tn=new boe(Ot),ht=new qle(N,bn,ie,Mt,At,Rt,tn),rt=new dce(N,Ot),qt=new Yle,jt=new tce(Mt),dt=new goe(N,bn,ie,mt,Ge,y,l),nn=new rce(N,Ge,At),Ae=new pce(fe,Kt,At,mt),cn=new yoe(fe,Mt,Kt),Ee=new Coe(fe,Mt,Kt),Kt.programs=ht.programs,N.capabilities=At,N.extensions=Mt,N.properties=Ot,N.renderLists=qt,N.shadowMap=nn,N.state=mt,N.info=Kt}Xe();const xt=new fce(N,fe);this.xr=xt,this.getContext=function(){return fe},this.getContextAttributes=function(){return fe.getContextAttributes()},this.forceContextLoss=function(){const Y=Mt.get("WEBGL_lose_context");Y&&Y.loseContext()},this.forceContextRestore=function(){const Y=Mt.get("WEBGL_lose_context");Y&&Y.restoreContext()},this.getPixelRatio=function(){return he},this.setPixelRatio=function(Y){Y!==void 0&&(he=Y,this.setSize(J,de,!1))},this.getSize=function(Y){return Y.set(J,de)},this.setSize=function(Y,ve,we=!0){if(xt.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}J=Y,de=ve,t.width=Math.floor(Y*he),t.height=Math.floor(ve*he),we===!0&&(t.style.width=Y+"px",t.style.height=ve+"px"),this.setViewport(0,0,Y,ve)},this.getDrawingBufferSize=function(Y){return Y.set(J*he,de*he).floor()},this.setDrawingBufferSize=function(Y,ve,we){J=Y,de=ve,he=we,t.width=Math.floor(Y*we),t.height=Math.floor(ve*we),this.setViewport(0,0,Y,ve)},this.getCurrentViewport=function(Y){return Y.copy(ee)},this.getViewport=function(Y){return Y.copy(re)},this.setViewport=function(Y,ve,we,Me){Y.isVector4?re.set(Y.x,Y.y,Y.z,Y.w):re.set(Y,ve,we,Me),mt.viewport(ee.copy(re).multiplyScalar(he).round())},this.getScissor=function(Y){return Y.copy(ze)},this.setScissor=function(Y,ve,we,Me){Y.isVector4?ze.set(Y.x,Y.y,Y.z,Y.w):ze.set(Y,ve,we,Me),mt.scissor(pe.copy(ze).multiplyScalar(he).round())},this.getScissorTest=function(){return Ve},this.setScissorTest=function(Y){mt.setScissorTest(Ve=Y)},this.setOpaqueSort=function(Y){Le=Y},this.setTransparentSort=function(Y){ne=Y},this.getClearColor=function(Y){return Y.copy(dt.getClearColor())},this.setClearColor=function(){dt.setClearColor(...arguments)},this.getClearAlpha=function(){return dt.getClearAlpha()},this.setClearAlpha=function(){dt.setClearAlpha(...arguments)},this.clear=function(Y=!0,ve=!0,we=!0){let Me=0;if(Y){let Ne=!1;if($!==null){const Ye=$.texture.format;Ne=Ye===Pw||Ye===Ow||Ye===q_}if(Ne){const Ye=$.texture.type,pt=Ye===Hl||Ye===hh||Ye===fy||Ye===hy||Ye===Cw||Ye===Rw,Tt=dt.getClearColor(),Nt=dt.getClearAlpha(),rn=Tt.r,en=Tt.g,sn=Tt.b;pt?(x[0]=rn,x[1]=en,x[2]=sn,x[3]=Nt,fe.clearBufferuiv(fe.COLOR,0,x)):(T[0]=rn,T[1]=en,T[2]=sn,T[3]=Nt,fe.clearBufferiv(fe.COLOR,0,T))}else Me|=fe.COLOR_BUFFER_BIT}ve&&(Me|=fe.DEPTH_BUFFER_BIT),we&&(Me|=fe.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),fe.clear(Me)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){t.removeEventListener("webglcontextlost",Xt,!1),t.removeEventListener("webglcontextrestored",Ht,!1),t.removeEventListener("webglcontextcreationerror",Ct,!1),dt.dispose(),qt.dispose(),jt.dispose(),Ot.dispose(),bn.dispose(),ie.dispose(),Ge.dispose(),Rt.dispose(),Ae.dispose(),ht.dispose(),xt.dispose(),xt.removeEventListener("sessionstart",Ki),xt.removeEventListener("sessionend",xr),Br.stop()};function Xt(Y){Y.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),G=!0}function Ht(){console.log("THREE.WebGLRenderer: Context Restored."),G=!1;const Y=Kt.autoReset,ve=nn.enabled,we=nn.autoUpdate,Me=nn.needsUpdate,Ne=nn.type;Xe(),Kt.autoReset=Y,nn.enabled=ve,nn.autoUpdate=we,nn.needsUpdate=Me,nn.type=Ne}function Ct(Y){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",Y.statusMessage)}function $t(Y){const ve=Y.target;ve.removeEventListener("dispose",$t),fn(ve)}function fn(Y){ui(Y),Ot.remove(Y)}function ui(Y){const ve=Ot.get(Y).programs;ve!==void 0&&(ve.forEach(function(we){ht.releaseProgram(we)}),Y.isShaderMaterial&&ht.releaseShaderCache(Y))}this.renderBufferDirect=function(Y,ve,we,Me,Ne,Ye){ve===null&&(ve=zn);const pt=Ne.isMesh&&Ne.matrixWorld.determinant()<0,Tt=De(Y,ve,we,Me,Ne);mt.setMaterial(Me,pt);let Nt=we.index,rn=1;if(Me.wireframe===!0){if(Nt=be.getWireframeAttribute(we),Nt===void 0)return;rn=2}const en=we.drawRange,sn=we.attributes.position;let Pn=en.start*rn,Cn=(en.start+en.count)*rn;Ye!==null&&(Pn=Math.max(Pn,Ye.start*rn),Cn=Math.min(Cn,(Ye.start+Ye.count)*rn)),Nt!==null?(Pn=Math.max(Pn,0),Cn=Math.min(Cn,Nt.count)):sn!=null&&(Pn=Math.max(Pn,0),Cn=Math.min(Cn,sn.count));const xi=Cn-Pn;if(xi<0||xi===1/0)return;Rt.setup(Ne,Me,Tt,we,Nt);let an,In=cn;if(Nt!==null&&(an=Z.get(Nt),In=Ee,In.setIndex(an)),Ne.isMesh)Me.wireframe===!0?(mt.setLineWidth(Me.wireframeLinewidth*dn()),In.setMode(fe.LINES)):In.setMode(fe.TRIANGLES);else if(Ne.isLine){let xn=Me.linewidth;xn===void 0&&(xn=1),mt.setLineWidth(xn*dn()),Ne.isLineSegments?In.setMode(fe.LINES):Ne.isLineLoop?In.setMode(fe.LINE_LOOP):In.setMode(fe.LINE_STRIP)}else Ne.isPoints?In.setMode(fe.POINTS):Ne.isSprite&&In.setMode(fe.TRIANGLES);if(Ne.isBatchedMesh)if(Ne._multiDrawInstances!==null)Jv("THREE.WebGLRenderer: renderMultiDrawInstances has been deprecated and will be removed in r184. Append to renderMultiDraw arguments and use indirection."),In.renderMultiDrawInstances(Ne._multiDrawStarts,Ne._multiDrawCounts,Ne._multiDrawCount,Ne._multiDrawInstances);else if(Mt.get("WEBGL_multi_draw"))In.renderMultiDraw(Ne._multiDrawStarts,Ne._multiDrawCounts,Ne._multiDrawCount);else{const xn=Ne._multiDrawStarts,Di=Ne._multiDrawCounts,$n=Ne._multiDrawCount,qn=Nt?Z.get(Nt).bytesPerElement:1,Mi=Ot.get(Me).currentProgram.getUniforms();for(let Sn=0;Sn<$n;Sn++)Mi.setValue(fe,"_gl_DrawID",Sn),In.render(xn[Sn]/qn,Di[Sn])}else if(Ne.isInstancedMesh)In.renderInstances(Pn,xi,Ne.count);else if(we.isInstancedBufferGeometry){const xn=we._maxInstanceCount!==void 0?we._maxInstanceCount:1/0,Di=Math.min(we.instanceCount,xn);In.renderInstances(Pn,xi,Di)}else In.render(Pn,xi)};function fi(Y,ve,we){Y.transparent===!0&&Y.side===Eu&&Y.forceSinglePass===!1?(Y.side=Bl,Y.needsUpdate=!0,Gi(Y,ve,we),Y.side=Sd,Y.needsUpdate=!0,Gi(Y,ve,we),Y.side=Eu):Gi(Y,ve,we)}this.compile=function(Y,ve,we=null){we===null&&(we=Y),w=jt.get(we),w.init(ve),D.push(w),we.traverseVisible(function(Ne){Ne.isLight&&Ne.layers.test(ve.layers)&&(w.pushLight(Ne),Ne.castShadow&&w.pushShadow(Ne))}),Y!==we&&Y.traverseVisible(function(Ne){Ne.isLight&&Ne.layers.test(ve.layers)&&(w.pushLight(Ne),Ne.castShadow&&w.pushShadow(Ne))}),w.setupLights();const Me=new Set;return Y.traverse(function(Ne){if(!(Ne.isMesh||Ne.isPoints||Ne.isLine||Ne.isSprite))return;const Ye=Ne.material;if(Ye)if(Array.isArray(Ye))for(let pt=0;pt<Ye.length;pt++){const Tt=Ye[pt];fi(Tt,we,Ne),Me.add(Tt)}else fi(Ye,we,Ne),Me.add(Ye)}),w=D.pop(),Me},this.compileAsync=function(Y,ve,we=null){const Me=this.compile(Y,ve,we);return new Promise(Ne=>{function Ye(){if(Me.forEach(function(pt){Ot.get(pt).currentProgram.isReady()&&Me.delete(pt)}),Me.size===0){Ne(Y);return}setTimeout(Ye,10)}Mt.get("KHR_parallel_shader_compile")!==null?Ye():setTimeout(Ye,10)})};let Ur=null;function Wi(Y){Ur&&Ur(Y)}function Ki(){Br.stop()}function xr(){Br.start()}const Br=new OU;Br.setAnimationLoop(Wi),typeof self<"u"&&Br.setContext(self),this.setAnimationLoop=function(Y){Ur=Y,xt.setAnimationLoop(Y),Y===null?Br.stop():Br.start()},xt.addEventListener("sessionstart",Ki),xt.addEventListener("sessionend",xr),this.render=function(Y,ve){if(ve!==void 0&&ve.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(G===!0)return;if(Y.matrixWorldAutoUpdate===!0&&Y.updateMatrixWorld(),ve.parent===null&&ve.matrixWorldAutoUpdate===!0&&ve.updateMatrixWorld(),xt.enabled===!0&&xt.isPresenting===!0&&(xt.cameraAutoUpdate===!0&&xt.updateCamera(ve),ve=xt.getCamera()),Y.isScene===!0&&Y.onBeforeRender(N,Y,ve,$),w=jt.get(Y,D.length),w.init(ve),D.push(w),yt.multiplyMatrices(ve.projectionMatrix,ve.matrixWorldInverse),xe.setFromProjectionMatrix(yt),Ze=this.localClippingEnabled,$e=tn.init(this.clippingPlanes,Ze),E=qt.get(Y,P.length),E.init(),P.push(E),xt.enabled===!0&&xt.isPresenting===!0){const Ye=N.xr.getDepthSensingMesh();Ye!==null&&ps(Ye,ve,-1/0,N.sortObjects)}ps(Y,ve,0,N.sortObjects),E.finish(),N.sortObjects===!0&&E.sort(Le,ne),An=xt.enabled===!1||xt.isPresenting===!1||xt.hasDepthSensing()===!1,An&&dt.addToRenderList(E,Y),this.info.render.frame++,$e===!0&&tn.beginShadows();const we=w.state.shadowsArray;nn.render(we,Y,ve),$e===!0&&tn.endShadows(),this.info.autoReset===!0&&this.info.reset();const Me=E.opaque,Ne=E.transmissive;if(w.setupLights(),ve.isArrayCamera){const Ye=ve.cameras;if(Ne.length>0)for(let pt=0,Tt=Ye.length;pt<Tt;pt++){const Nt=Ye[pt];Ls(Me,Ne,Y,Nt)}An&&dt.render(Y);for(let pt=0,Tt=Ye.length;pt<Tt;pt++){const Nt=Ye[pt];lo(E,Y,Nt,Nt.viewport)}}else Ne.length>0&&Ls(Me,Ne,Y,ve),An&&dt.render(Y),lo(E,Y,ve);$!==null&&M===0&&(Qt.updateMultisampleRenderTarget($),Qt.updateRenderTargetMipmap($)),Y.isScene===!0&&Y.onAfterRender(N,Y,ve),Rt.resetDefaultState(),V=-1,H=null,D.pop(),D.length>0?(w=D[D.length-1],$e===!0&&tn.setGlobalState(N.clippingPlanes,w.state.camera)):w=null,P.pop(),P.length>0?E=P[P.length-1]:E=null};function ps(Y,ve,we,Me){if(Y.visible===!1)return;if(Y.layers.test(ve.layers)){if(Y.isGroup)we=Y.renderOrder;else if(Y.isLOD)Y.autoUpdate===!0&&Y.update(ve);else if(Y.isLight)w.pushLight(Y),Y.castShadow&&w.pushShadow(Y);else if(Y.isSprite){if(!Y.frustumCulled||xe.intersectsSprite(Y)){Me&&Vt.setFromMatrixPosition(Y.matrixWorld).applyMatrix4(yt);const pt=Ge.update(Y),Tt=Y.material;Tt.visible&&E.push(Y,pt,Tt,we,Vt.z,null)}}else if((Y.isMesh||Y.isLine||Y.isPoints)&&(!Y.frustumCulled||xe.intersectsObject(Y))){const pt=Ge.update(Y),Tt=Y.material;if(Me&&(Y.boundingSphere!==void 0?(Y.boundingSphere===null&&Y.computeBoundingSphere(),Vt.copy(Y.boundingSphere.center)):(pt.boundingSphere===null&&pt.computeBoundingSphere(),Vt.copy(pt.boundingSphere.center)),Vt.applyMatrix4(Y.matrixWorld).applyMatrix4(yt)),Array.isArray(Tt)){const Nt=pt.groups;for(let rn=0,en=Nt.length;rn<en;rn++){const sn=Nt[rn],Pn=Tt[sn.materialIndex];Pn&&Pn.visible&&E.push(Y,pt,Pn,we,Vt.z,sn)}}else Tt.visible&&E.push(Y,pt,Tt,we,Vt.z,null)}}const Ye=Y.children;for(let pt=0,Tt=Ye.length;pt<Tt;pt++)ps(Ye[pt],ve,we,Me)}function lo(Y,ve,we,Me){const Ne=Y.opaque,Ye=Y.transmissive,pt=Y.transparent;w.setupLightsView(we),$e===!0&&tn.setGlobalState(N.clippingPlanes,we),Me&&mt.viewport(ee.copy(Me)),Ne.length>0&&Un(Ne,ve,we),Ye.length>0&&Un(Ye,ve,we),pt.length>0&&Un(pt,ve,we),mt.buffers.depth.setTest(!0),mt.buffers.depth.setMask(!0),mt.buffers.color.setMask(!0),mt.setPolygonOffset(!1)}function Ls(Y,ve,we,Me){if((we.isScene===!0?we.overrideMaterial:null)!==null)return;w.state.transmissionRenderTarget[Me.id]===void 0&&(w.state.transmissionRenderTarget[Me.id]=new Fc(1,1,{generateMipmaps:!0,type:Mt.has("EXT_color_buffer_half_float")||Mt.has("EXT_color_buffer_float")?Ha:Hl,minFilter:ih,samples:4,stencilBuffer:s,resolveDepthBuffer:!1,resolveStencilBuffer:!1,colorSpace:ur.workingColorSpace}));const Ye=w.state.transmissionRenderTarget[Me.id],pt=Me.viewport||ee;Ye.setSize(pt.z*N.transmissionResolutionScale,pt.w*N.transmissionResolutionScale);const Tt=N.getRenderTarget(),Nt=N.getActiveCubeFace(),rn=N.getActiveMipmapLevel();N.setRenderTarget(Ye),N.getClearColor(ye),Te=N.getClearAlpha(),Te<1&&N.setClearColor(16777215,.5),N.clear(),An&&dt.render(we);const en=N.toneMapping;N.toneMapping=oh;const sn=Me.viewport;if(Me.viewport!==void 0&&(Me.viewport=void 0),w.setupLightsView(Me),$e===!0&&tn.setGlobalState(N.clippingPlanes,Me),Un(Y,we,Me),Qt.updateMultisampleRenderTarget(Ye),Qt.updateRenderTargetMipmap(Ye),Mt.has("WEBGL_multisampled_render_to_texture")===!1){let Pn=!1;for(let Cn=0,xi=ve.length;Cn<xi;Cn++){const an=ve[Cn],In=an.object,xn=an.geometry,Di=an.material,$n=an.group;if(Di.side===Eu&&In.layers.test(Me.layers)){const qn=Di.side;Di.side=Bl,Di.needsUpdate=!0,rs(In,we,Me,xn,Di,$n),Di.side=qn,Di.needsUpdate=!0,Pn=!0}}Pn===!0&&(Qt.updateMultisampleRenderTarget(Ye),Qt.updateRenderTargetMipmap(Ye))}N.setRenderTarget(Tt,Nt,rn),N.setClearColor(ye,Te),sn!==void 0&&(Me.viewport=sn),N.toneMapping=en}function Un(Y,ve,we){const Me=ve.isScene===!0?ve.overrideMaterial:null;for(let Ne=0,Ye=Y.length;Ne<Ye;Ne++){const pt=Y[Ne],Tt=pt.object,Nt=pt.geometry,rn=pt.group;let en=pt.material;en.allowOverride===!0&&Me!==null&&(en=Me),Tt.layers.test(we.layers)&&rs(Tt,ve,we,Nt,en,rn)}}function rs(Y,ve,we,Me,Ne,Ye){Y.onBeforeRender(N,ve,we,Me,Ne,Ye),Y.modelViewMatrix.multiplyMatrices(we.matrixWorldInverse,Y.matrixWorld),Y.normalMatrix.getNormalMatrix(Y.modelViewMatrix),Ne.onBeforeRender(N,ve,we,Me,Y,Ye),Ne.transparent===!0&&Ne.side===Eu&&Ne.forceSinglePass===!1?(Ne.side=Bl,Ne.needsUpdate=!0,N.renderBufferDirect(we,ve,Me,Ne,Y,Ye),Ne.side=Sd,Ne.needsUpdate=!0,N.renderBufferDirect(we,ve,Me,Ne,Y,Ye),Ne.side=Eu):N.renderBufferDirect(we,ve,Me,Ne,Y,Ye),Y.onAfterRender(N,ve,we,Me,Ne,Ye)}function Gi(Y,ve,we){ve.isScene!==!0&&(ve=zn);const Me=Ot.get(Y),Ne=w.state.lights,Ye=w.state.shadowsArray,pt=Ne.state.version,Tt=ht.getParameters(Y,Ne.state,Ye,ve,we),Nt=ht.getProgramCacheKey(Tt);let rn=Me.programs;Me.environment=Y.isMeshStandardMaterial?ve.environment:null,Me.fog=ve.fog,Me.envMap=(Y.isMeshStandardMaterial?ie:bn).get(Y.envMap||Me.environment),Me.envMapRotation=Me.environment!==null&&Y.envMap===null?ve.environmentRotation:Y.envMapRotation,rn===void 0&&(Y.addEventListener("dispose",$t),rn=new Map,Me.programs=rn);let en=rn.get(Nt);if(en!==void 0){if(Me.currentProgram===en&&Me.lightsStateVersion===pt)return oe(Y,Tt),en}else Tt.uniforms=ht.getUniforms(Y),Y.onBeforeCompile(Tt,N),en=ht.acquireProgram(Tt,Nt),rn.set(Nt,en),Me.uniforms=Tt.uniforms;const sn=Me.uniforms;return(!Y.isShaderMaterial&&!Y.isRawShaderMaterial||Y.clipping===!0)&&(sn.clippingPlanes=tn.uniform),oe(Y,Tt),Me.needsLights=Je(Y),Me.lightsStateVersion=pt,Me.needsLights&&(sn.ambientLightColor.value=Ne.state.ambient,sn.lightProbe.value=Ne.state.probe,sn.directionalLights.value=Ne.state.directional,sn.directionalLightShadows.value=Ne.state.directionalShadow,sn.spotLights.value=Ne.state.spot,sn.spotLightShadows.value=Ne.state.spotShadow,sn.rectAreaLights.value=Ne.state.rectArea,sn.ltc_1.value=Ne.state.rectAreaLTC1,sn.ltc_2.value=Ne.state.rectAreaLTC2,sn.pointLights.value=Ne.state.point,sn.pointLightShadows.value=Ne.state.pointShadow,sn.hemisphereLights.value=Ne.state.hemi,sn.directionalShadowMap.value=Ne.state.directionalShadowMap,sn.directionalShadowMatrix.value=Ne.state.directionalShadowMatrix,sn.spotShadowMap.value=Ne.state.spotShadowMap,sn.spotLightMatrix.value=Ne.state.spotLightMatrix,sn.spotLightMap.value=Ne.state.spotLightMap,sn.pointShadowMap.value=Ne.state.pointShadowMap,sn.pointShadowMatrix.value=Ne.state.pointShadowMatrix),Me.currentProgram=en,Me.uniformsList=null,en}function K(Y){if(Y.uniformsList===null){const ve=Y.currentProgram.getUniforms();Y.uniformsList=Ix.seqWithValue(ve.seq,Y.uniforms)}return Y.uniformsList}function oe(Y,ve){const we=Ot.get(Y);we.outputColorSpace=ve.outputColorSpace,we.batching=ve.batching,we.batchingColor=ve.batchingColor,we.instancing=ve.instancing,we.instancingColor=ve.instancingColor,we.instancingMorph=ve.instancingMorph,we.skinning=ve.skinning,we.morphTargets=ve.morphTargets,we.morphNormals=ve.morphNormals,we.morphColors=ve.morphColors,we.morphTargetsCount=ve.morphTargetsCount,we.numClippingPlanes=ve.numClippingPlanes,we.numIntersection=ve.numClipIntersection,we.vertexAlphas=ve.vertexAlphas,we.vertexTangents=ve.vertexTangents,we.toneMapping=ve.toneMapping}function De(Y,ve,we,Me,Ne){ve.isScene!==!0&&(ve=zn),Qt.resetTextureUnits();const Ye=ve.fog,pt=Me.isMeshStandardMaterial?ve.environment:null,Tt=$===null?N.outputColorSpace:$.isXRRenderTarget===!0?$.texture.colorSpace:vf,Nt=(Me.isMeshStandardMaterial?ie:bn).get(Me.envMap||pt),rn=Me.vertexColors===!0&&!!we.attributes.color&&we.attributes.color.itemSize===4,en=!!we.attributes.tangent&&(!!Me.normalMap||Me.anisotropy>0),sn=!!we.morphAttributes.position,Pn=!!we.morphAttributes.normal,Cn=!!we.morphAttributes.color;let xi=oh;Me.toneMapped&&($===null||$.isXRRenderTarget===!0)&&(xi=N.toneMapping);const an=we.morphAttributes.position||we.morphAttributes.normal||we.morphAttributes.color,In=an!==void 0?an.length:0,xn=Ot.get(Me),Di=w.state.lights;if($e===!0&&(Ze===!0||Y!==H)){const Ai=Y===H&&Me.id===V;tn.setState(Me,Y,Ai)}let $n=!1;Me.version===xn.__version?(xn.needsLights&&xn.lightsStateVersion!==Di.state.version||xn.outputColorSpace!==Tt||Ne.isBatchedMesh&&xn.batching===!1||!Ne.isBatchedMesh&&xn.batching===!0||Ne.isBatchedMesh&&xn.batchingColor===!0&&Ne.colorTexture===null||Ne.isBatchedMesh&&xn.batchingColor===!1&&Ne.colorTexture!==null||Ne.isInstancedMesh&&xn.instancing===!1||!Ne.isInstancedMesh&&xn.instancing===!0||Ne.isSkinnedMesh&&xn.skinning===!1||!Ne.isSkinnedMesh&&xn.skinning===!0||Ne.isInstancedMesh&&xn.instancingColor===!0&&Ne.instanceColor===null||Ne.isInstancedMesh&&xn.instancingColor===!1&&Ne.instanceColor!==null||Ne.isInstancedMesh&&xn.instancingMorph===!0&&Ne.morphTexture===null||Ne.isInstancedMesh&&xn.instancingMorph===!1&&Ne.morphTexture!==null||xn.envMap!==Nt||Me.fog===!0&&xn.fog!==Ye||xn.numClippingPlanes!==void 0&&(xn.numClippingPlanes!==tn.numPlanes||xn.numIntersection!==tn.numIntersection)||xn.vertexAlphas!==rn||xn.vertexTangents!==en||xn.morphTargets!==sn||xn.morphNormals!==Pn||xn.morphColors!==Cn||xn.toneMapping!==xi||xn.morphTargetsCount!==In)&&($n=!0):($n=!0,xn.__version=Me.version);let qn=xn.currentProgram;$n===!0&&(qn=Gi(Me,ve,Ne));let Mi=!1,Sn=!1,Zn=!1;const kn=qn.getUniforms(),pr=xn.uniforms;if(mt.useProgram(qn.program)&&(Mi=!0,Sn=!0,Zn=!0),Me.id!==V&&(V=Me.id,Sn=!0),Mi||H!==Y){mt.buffers.depth.getReversed()?(gt.copy(Y.projectionMatrix),ane(gt),one(gt),kn.setValue(fe,"projectionMatrix",gt)):kn.setValue(fe,"projectionMatrix",Y.projectionMatrix),kn.setValue(fe,"viewMatrix",Y.matrixWorldInverse);const fr=kn.map.cameraPosition;fr!==void 0&&fr.setValue(fe,vt.setFromMatrixPosition(Y.matrixWorld)),At.logarithmicDepthBuffer&&kn.setValue(fe,"logDepthBufFC",2/(Math.log(Y.far+1)/Math.LN2)),(Me.isMeshPhongMaterial||Me.isMeshToonMaterial||Me.isMeshLambertMaterial||Me.isMeshBasicMaterial||Me.isMeshStandardMaterial||Me.isShaderMaterial)&&kn.setValue(fe,"isOrthographic",Y.isOrthographicCamera===!0),H!==Y&&(H=Y,Sn=!0,Zn=!0)}if(Ne.isSkinnedMesh){kn.setOptional(fe,Ne,"bindMatrix"),kn.setOptional(fe,Ne,"bindMatrixInverse");const Ai=Ne.skeleton;Ai&&(Ai.boneTexture===null&&Ai.computeBoneTexture(),kn.setValue(fe,"boneTexture",Ai.boneTexture,Qt))}Ne.isBatchedMesh&&(kn.setOptional(fe,Ne,"batchingTexture"),kn.setValue(fe,"batchingTexture",Ne._matricesTexture,Qt),kn.setOptional(fe,Ne,"batchingIdTexture"),kn.setValue(fe,"batchingIdTexture",Ne._indirectTexture,Qt),kn.setOptional(fe,Ne,"batchingColorTexture"),Ne._colorsTexture!==null&&kn.setValue(fe,"batchingColorTexture",Ne._colorsTexture,Qt));const ei=we.morphAttributes;if((ei.position!==void 0||ei.normal!==void 0||ei.color!==void 0)&&kt.update(Ne,we,qn),(Sn||xn.receiveShadow!==Ne.receiveShadow)&&(xn.receiveShadow=Ne.receiveShadow,kn.setValue(fe,"receiveShadow",Ne.receiveShadow)),Me.isMeshGouraudMaterial&&Me.envMap!==null&&(pr.envMap.value=Nt,pr.flipEnvMap.value=Nt.isCubeTexture&&Nt.isRenderTargetTexture===!1?-1:1),Me.isMeshStandardMaterial&&Me.envMap===null&&ve.environment!==null&&(pr.envMapIntensity.value=ve.environmentIntensity),Sn&&(kn.setValue(fe,"toneMappingExposure",N.toneMappingExposure),xn.needsLights&&Ke(pr,Zn),Ye&&Me.fog===!0&&rt.refreshFogUniforms(pr,Ye),rt.refreshMaterialUniforms(pr,Me,he,de,w.state.transmissionRenderTarget[Y.id]),Ix.upload(fe,K(xn),pr,Qt)),Me.isShaderMaterial&&Me.uniformsNeedUpdate===!0&&(Ix.upload(fe,K(xn),pr,Qt),Me.uniformsNeedUpdate=!1),Me.isSpriteMaterial&&kn.setValue(fe,"center",Ne.center),kn.setValue(fe,"modelViewMatrix",Ne.modelViewMatrix),kn.setValue(fe,"normalMatrix",Ne.normalMatrix),kn.setValue(fe,"modelMatrix",Ne.matrixWorld),Me.isShaderMaterial||Me.isRawShaderMaterial){const Ai=Me.uniformsGroups;for(let fr=0,Ss=Ai.length;fr<Ss;fr++){const na=Ai[fr];Ae.update(na,qn),Ae.bind(na,qn)}}return qn}function Ke(Y,ve){Y.ambientLightColor.needsUpdate=ve,Y.lightProbe.needsUpdate=ve,Y.directionalLights.needsUpdate=ve,Y.directionalLightShadows.needsUpdate=ve,Y.pointLights.needsUpdate=ve,Y.pointLightShadows.needsUpdate=ve,Y.spotLights.needsUpdate=ve,Y.spotLightShadows.needsUpdate=ve,Y.rectAreaLights.needsUpdate=ve,Y.hemisphereLights.needsUpdate=ve}function Je(Y){return Y.isMeshLambertMaterial||Y.isMeshToonMaterial||Y.isMeshPhongMaterial||Y.isMeshStandardMaterial||Y.isShadowMaterial||Y.isShaderMaterial&&Y.lights===!0}this.getActiveCubeFace=function(){return k},this.getActiveMipmapLevel=function(){return M},this.getRenderTarget=function(){return $},this.setRenderTargetTextures=function(Y,ve,we){const Me=Ot.get(Y);Me.__autoAllocateDepthBuffer=Y.resolveDepthBuffer===!1,Me.__autoAllocateDepthBuffer===!1&&(Me.__useRenderToTexture=!1),Ot.get(Y.texture).__webglTexture=ve,Ot.get(Y.depthTexture).__webglTexture=Me.__autoAllocateDepthBuffer?void 0:we,Me.__hasExternalTextures=!0},this.setRenderTargetFramebuffer=function(Y,ve){const we=Ot.get(Y);we.__webglFramebuffer=ve,we.__useDefaultFramebuffer=ve===void 0};const nt=fe.createFramebuffer();this.setRenderTarget=function(Y,ve=0,we=0){$=Y,k=ve,M=we;let Me=!0,Ne=null,Ye=!1,pt=!1;if(Y){const Nt=Ot.get(Y);if(Nt.__useDefaultFramebuffer!==void 0)mt.bindFramebuffer(fe.FRAMEBUFFER,null),Me=!1;else if(Nt.__webglFramebuffer===void 0)Qt.setupRenderTarget(Y);else if(Nt.__hasExternalTextures)Qt.rebindTextures(Y,Ot.get(Y.texture).__webglTexture,Ot.get(Y.depthTexture).__webglTexture);else if(Y.depthBuffer){const sn=Y.depthTexture;if(Nt.__boundDepthTexture!==sn){if(sn!==null&&Ot.has(sn)&&(Y.width!==sn.image.width||Y.height!==sn.image.height))throw new Error("WebGLRenderTarget: Attached DepthTexture is initialized to the incorrect size.");Qt.setupDepthRenderbuffer(Y)}}const rn=Y.texture;(rn.isData3DTexture||rn.isDataArrayTexture||rn.isCompressedArrayTexture)&&(pt=!0);const en=Ot.get(Y).__webglFramebuffer;Y.isWebGLCubeRenderTarget?(Array.isArray(en[ve])?Ne=en[ve][we]:Ne=en[ve],Ye=!0):Y.samples>0&&Qt.useMultisampledRTT(Y)===!1?Ne=Ot.get(Y).__webglMultisampledFramebuffer:Array.isArray(en)?Ne=en[we]:Ne=en,ee.copy(Y.viewport),pe.copy(Y.scissor),ae=Y.scissorTest}else ee.copy(re).multiplyScalar(he).floor(),pe.copy(ze).multiplyScalar(he).floor(),ae=Ve;if(we!==0&&(Ne=nt),mt.bindFramebuffer(fe.FRAMEBUFFER,Ne)&&Me&&mt.drawBuffers(Y,Ne),mt.viewport(ee),mt.scissor(pe),mt.setScissorTest(ae),Ye){const Nt=Ot.get(Y.texture);fe.framebufferTexture2D(fe.FRAMEBUFFER,fe.COLOR_ATTACHMENT0,fe.TEXTURE_CUBE_MAP_POSITIVE_X+ve,Nt.__webglTexture,we)}else if(pt){const Nt=Ot.get(Y.texture),rn=ve;fe.framebufferTextureLayer(fe.FRAMEBUFFER,fe.COLOR_ATTACHMENT0,Nt.__webglTexture,we,rn)}else if(Y!==null&&we!==0){const Nt=Ot.get(Y.texture);fe.framebufferTexture2D(fe.FRAMEBUFFER,fe.COLOR_ATTACHMENT0,fe.TEXTURE_2D,Nt.__webglTexture,we)}V=-1},this.readRenderTargetPixels=function(Y,ve,we,Me,Ne,Ye,pt,Tt=0){if(!(Y&&Y.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let Nt=Ot.get(Y).__webglFramebuffer;if(Y.isWebGLCubeRenderTarget&&pt!==void 0&&(Nt=Nt[pt]),Nt){mt.bindFramebuffer(fe.FRAMEBUFFER,Nt);try{const rn=Y.textures[Tt],en=rn.format,sn=rn.type;if(!At.textureFormatReadable(en)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}if(!At.textureTypeReadable(sn)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}ve>=0&&ve<=Y.width-Me&&we>=0&&we<=Y.height-Ne&&(Y.textures.length>1&&fe.readBuffer(fe.COLOR_ATTACHMENT0+Tt),fe.readPixels(ve,we,Me,Ne,Fe.convert(en),Fe.convert(sn),Ye))}finally{const rn=$!==null?Ot.get($).__webglFramebuffer:null;mt.bindFramebuffer(fe.FRAMEBUFFER,rn)}}},this.readRenderTargetPixelsAsync=async function(Y,ve,we,Me,Ne,Ye,pt,Tt=0){if(!(Y&&Y.isWebGLRenderTarget))throw new Error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let Nt=Ot.get(Y).__webglFramebuffer;if(Y.isWebGLCubeRenderTarget&&pt!==void 0&&(Nt=Nt[pt]),Nt)if(ve>=0&&ve<=Y.width-Me&&we>=0&&we<=Y.height-Ne){mt.bindFramebuffer(fe.FRAMEBUFFER,Nt);const rn=Y.textures[Tt],en=rn.format,sn=rn.type;if(!At.textureFormatReadable(en))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in RGBA or implementation defined format.");if(!At.textureTypeReadable(sn))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in UnsignedByteType or implementation defined type.");const Pn=fe.createBuffer();fe.bindBuffer(fe.PIXEL_PACK_BUFFER,Pn),fe.bufferData(fe.PIXEL_PACK_BUFFER,Ye.byteLength,fe.STREAM_READ),Y.textures.length>1&&fe.readBuffer(fe.COLOR_ATTACHMENT0+Tt),fe.readPixels(ve,we,Me,Ne,Fe.convert(en),Fe.convert(sn),0);const Cn=$!==null?Ot.get($).__webglFramebuffer:null;mt.bindFramebuffer(fe.FRAMEBUFFER,Cn);const xi=fe.fenceSync(fe.SYNC_GPU_COMMANDS_COMPLETE,0);return fe.flush(),await sne(fe,xi,4),fe.bindBuffer(fe.PIXEL_PACK_BUFFER,Pn),fe.getBufferSubData(fe.PIXEL_PACK_BUFFER,0,Ye),fe.deleteBuffer(Pn),fe.deleteSync(xi),Ye}else throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: requested read bounds are out of range.")},this.copyFramebufferToTexture=function(Y,ve=null,we=0){const Me=Math.pow(2,-we),Ne=Math.floor(Y.image.width*Me),Ye=Math.floor(Y.image.height*Me),pt=ve!==null?ve.x:0,Tt=ve!==null?ve.y:0;Qt.setTexture2D(Y,0),fe.copyTexSubImage2D(fe.TEXTURE_2D,we,0,0,pt,Tt,Ne,Ye),mt.unbindTexture()};const Ut=fe.createFramebuffer(),wt=fe.createFramebuffer();this.copyTextureToTexture=function(Y,ve,we=null,Me=null,Ne=0,Ye=null){Ye===null&&(Ne!==0?(Jv("WebGLRenderer: copyTextureToTexture function signature has changed to support src and dst mipmap levels."),Ye=Ne,Ne=0):Ye=0);let pt,Tt,Nt,rn,en,sn,Pn,Cn,xi;const an=Y.isCompressedTexture?Y.mipmaps[Ye]:Y.image;if(we!==null)pt=we.max.x-we.min.x,Tt=we.max.y-we.min.y,Nt=we.isBox3?we.max.z-we.min.z:1,rn=we.min.x,en=we.min.y,sn=we.isBox3?we.min.z:0;else{const ei=Math.pow(2,-Ne);pt=Math.floor(an.width*ei),Tt=Math.floor(an.height*ei),Y.isDataArrayTexture?Nt=an.depth:Y.isData3DTexture?Nt=Math.floor(an.depth*ei):Nt=1,rn=0,en=0,sn=0}Me!==null?(Pn=Me.x,Cn=Me.y,xi=Me.z):(Pn=0,Cn=0,xi=0);const In=Fe.convert(ve.format),xn=Fe.convert(ve.type);let Di;ve.isData3DTexture?(Qt.setTexture3D(ve,0),Di=fe.TEXTURE_3D):ve.isDataArrayTexture||ve.isCompressedArrayTexture?(Qt.setTexture2DArray(ve,0),Di=fe.TEXTURE_2D_ARRAY):(Qt.setTexture2D(ve,0),Di=fe.TEXTURE_2D),fe.pixelStorei(fe.UNPACK_FLIP_Y_WEBGL,ve.flipY),fe.pixelStorei(fe.UNPACK_PREMULTIPLY_ALPHA_WEBGL,ve.premultiplyAlpha),fe.pixelStorei(fe.UNPACK_ALIGNMENT,ve.unpackAlignment);const $n=fe.getParameter(fe.UNPACK_ROW_LENGTH),qn=fe.getParameter(fe.UNPACK_IMAGE_HEIGHT),Mi=fe.getParameter(fe.UNPACK_SKIP_PIXELS),Sn=fe.getParameter(fe.UNPACK_SKIP_ROWS),Zn=fe.getParameter(fe.UNPACK_SKIP_IMAGES);fe.pixelStorei(fe.UNPACK_ROW_LENGTH,an.width),fe.pixelStorei(fe.UNPACK_IMAGE_HEIGHT,an.height),fe.pixelStorei(fe.UNPACK_SKIP_PIXELS,rn),fe.pixelStorei(fe.UNPACK_SKIP_ROWS,en),fe.pixelStorei(fe.UNPACK_SKIP_IMAGES,sn);const kn=Y.isDataArrayTexture||Y.isData3DTexture,pr=ve.isDataArrayTexture||ve.isData3DTexture;if(Y.isDepthTexture){const ei=Ot.get(Y),Ai=Ot.get(ve),fr=Ot.get(ei.__renderTarget),Ss=Ot.get(Ai.__renderTarget);mt.bindFramebuffer(fe.READ_FRAMEBUFFER,fr.__webglFramebuffer),mt.bindFramebuffer(fe.DRAW_FRAMEBUFFER,Ss.__webglFramebuffer);for(let na=0;na<Nt;na++)kn&&(fe.framebufferTextureLayer(fe.READ_FRAMEBUFFER,fe.COLOR_ATTACHMENT0,Ot.get(Y).__webglTexture,Ne,sn+na),fe.framebufferTextureLayer(fe.DRAW_FRAMEBUFFER,fe.COLOR_ATTACHMENT0,Ot.get(ve).__webglTexture,Ye,xi+na)),fe.blitFramebuffer(rn,en,pt,Tt,Pn,Cn,pt,Tt,fe.DEPTH_BUFFER_BIT,fe.NEAREST);mt.bindFramebuffer(fe.READ_FRAMEBUFFER,null),mt.bindFramebuffer(fe.DRAW_FRAMEBUFFER,null)}else if(Ne!==0||Y.isRenderTargetTexture||Ot.has(Y)){const ei=Ot.get(Y),Ai=Ot.get(ve);mt.bindFramebuffer(fe.READ_FRAMEBUFFER,Ut),mt.bindFramebuffer(fe.DRAW_FRAMEBUFFER,wt);for(let fr=0;fr<Nt;fr++)kn?fe.framebufferTextureLayer(fe.READ_FRAMEBUFFER,fe.COLOR_ATTACHMENT0,ei.__webglTexture,Ne,sn+fr):fe.framebufferTexture2D(fe.READ_FRAMEBUFFER,fe.COLOR_ATTACHMENT0,fe.TEXTURE_2D,ei.__webglTexture,Ne),pr?fe.framebufferTextureLayer(fe.DRAW_FRAMEBUFFER,fe.COLOR_ATTACHMENT0,Ai.__webglTexture,Ye,xi+fr):fe.framebufferTexture2D(fe.DRAW_FRAMEBUFFER,fe.COLOR_ATTACHMENT0,fe.TEXTURE_2D,Ai.__webglTexture,Ye),Ne!==0?fe.blitFramebuffer(rn,en,pt,Tt,Pn,Cn,pt,Tt,fe.COLOR_BUFFER_BIT,fe.NEAREST):pr?fe.copyTexSubImage3D(Di,Ye,Pn,Cn,xi+fr,rn,en,pt,Tt):fe.copyTexSubImage2D(Di,Ye,Pn,Cn,rn,en,pt,Tt);mt.bindFramebuffer(fe.READ_FRAMEBUFFER,null),mt.bindFramebuffer(fe.DRAW_FRAMEBUFFER,null)}else pr?Y.isDataTexture||Y.isData3DTexture?fe.texSubImage3D(Di,Ye,Pn,Cn,xi,pt,Tt,Nt,In,xn,an.data):ve.isCompressedArrayTexture?fe.compressedTexSubImage3D(Di,Ye,Pn,Cn,xi,pt,Tt,Nt,In,an.data):fe.texSubImage3D(Di,Ye,Pn,Cn,xi,pt,Tt,Nt,In,xn,an):Y.isDataTexture?fe.texSubImage2D(fe.TEXTURE_2D,Ye,Pn,Cn,pt,Tt,In,xn,an.data):Y.isCompressedTexture?fe.compressedTexSubImage2D(fe.TEXTURE_2D,Ye,Pn,Cn,an.width,an.height,In,an.data):fe.texSubImage2D(fe.TEXTURE_2D,Ye,Pn,Cn,pt,Tt,In,xn,an);fe.pixelStorei(fe.UNPACK_ROW_LENGTH,$n),fe.pixelStorei(fe.UNPACK_IMAGE_HEIGHT,qn),fe.pixelStorei(fe.UNPACK_SKIP_PIXELS,Mi),fe.pixelStorei(fe.UNPACK_SKIP_ROWS,Sn),fe.pixelStorei(fe.UNPACK_SKIP_IMAGES,Zn),Ye===0&&ve.generateMipmaps&&fe.generateMipmap(Di),mt.unbindTexture()},this.copyTextureToTexture3D=function(Y,ve,we=null,Me=null,Ne=0){return Jv('WebGLRenderer: copyTextureToTexture3D function has been deprecated. Use "copyTextureToTexture" instead.'),this.copyTextureToTexture(Y,ve,we,Me,Ne)},this.initRenderTarget=function(Y){Ot.get(Y).__webglFramebuffer===void 0&&Qt.setupRenderTarget(Y)},this.initTexture=function(Y){Y.isCubeTexture?Qt.setTextureCube(Y,0):Y.isData3DTexture?Qt.setTexture3D(Y,0):Y.isDataArrayTexture||Y.isCompressedArrayTexture?Qt.setTexture2DArray(Y,0):Qt.setTexture2D(Y,0),mt.unbindTexture()},this.resetState=function(){k=0,M=0,$=null,mt.reset(),Rt.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return Au}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(e){this._outputColorSpace=e;const t=this.getContext();t.drawingBufferColorSpace=ur._getDrawingBufferColorSpace(e),t.unpackColorSpace=ur._getUnpackColorSpace()}}const mce=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping:dC,AddEquation:Rp,AddOperation:sz,AdditiveAnimationBlendMode:bC,AdditiveBlending:W2,AgXToneMapping:cz,AlphaFormat:gC,AlwaysCompare:Ez,AlwaysDepth:sS,AlwaysStencilFunc:Q2,AmbientLight:_U,AnimationAction:CU,AnimationClip:A_,AnimationLoader:Lie,AnimationMixer:sre,AnimationObjectGroup:ire,AnimationUtils:Rie,ArcCurve:Gz,ArrayCamera:TU,ArrowHelper:Mre,AttachedBindMode:Z2,Audio:MU,AudioAnalyser:Wie,AudioContext:jC,AudioListener:jie,AudioLoader:Fie,AxesHelper:Are,BackSide:Bl,BasicDepthPacking:mz,BasicShadowMap:kI,BatchedMesh:Bz,Bone:CC,BooleanKeyframeTrack:Mg,Box2:hre,Box3:tl,Box3Helper:Ere,BoxGeometry:Tg,BoxHelper:wre,BufferAttribute:Qr,BufferGeometry:zi,BufferGeometryLoader:EU,ByteType:Mw,Cache:rh,Camera:Iw,CameraHelper:Sre,CanvasTexture:Qne,CapsuleGeometry:Gw,CatmullRomCurve3:jz,CineonToneMapping:oz,CircleGeometry:jw,ClampToEdgeWrapping:Ra,Clock:$C,Color:yn,ColorKeyframeTrack:FC,ColorManagement:ur,CompressedArrayTexture:Zne,CompressedCubeTexture:Kne,CompressedTexture:Fw,CompressedTextureLoader:Nie,ConeGeometry:Z_,ConstantAlphaFactor:nz,ConstantColorFactor:ez,Controls:Rre,CubeCamera:Dz,CubeReflectionMapping:fh,CubeRefractionMapping:Bp,CubeTexture:W_,CubeTextureLoader:pU,CubeUVReflectionMapping:My,CubicBezierCurve:PC,CubicBezierCurve3:$z,CubicInterpolant:uU,CullFaceBack:q2,CullFaceFront:BI,CullFaceFrontBack:ate,CullFaceNone:UI,Curve:_f,CurvePath:Wz,CustomBlending:HI,CustomToneMapping:lz,CylinderGeometry:Y_,Cylindrical:fre,Data3DTexture:Nw,DataArrayTexture:Lw,DataTexture:hf,DataTextureLoader:VC,DataUtils:rg,DecrementStencilOp:_te,DecrementWrapStencilOp:xte,DefaultLoadingManager:dU,DepthFormat:dy,DepthStencilFormat:py,DepthTexture:Vw,DetachedBindMode:fz,DirectionalLight:yU,DirectionalLightHelper:xre,DiscreteInterpolant:fU,DodecahedronGeometry:$w,DoubleSide:Eu,DstAlphaFactor:YI,DstColorFactor:KI,DynamicCopyUsage:zte,DynamicDrawUsage:Ote,DynamicReadUsage:Lte,EdgesGeometry:Vz,EllipseCurve:qw,EqualCompare:bz,EqualDepth:oS,EqualStencilFunc:Tte,EquirectangularReflectionMapping:uy,EquirectangularRefractionMapping:d_,Euler:Vc,EventDispatcher:gh,ExtrudeGeometry:Ww,FileLoader:Hc,Float16BufferAttribute:Cne,Float32BufferAttribute:Nn,FloatType:Ds,Fog:Uw,FogExp2:zw,FramebufferTexture:Yne,FrontSide:Sd,Frustum:Ay,FrustumArray:Hw,GLBufferAttribute:ure,GLSL1:Bte,GLSL3:J2,GreaterCompare:xz,GreaterDepth:cS,GreaterEqualCompare:wz,GreaterEqualDepth:lS,GreaterEqualStencilFunc:Rte,GreaterStencilFunc:Ate,GridHelper:_re,Group:jv,HalfFloatType:Ha,HemisphereLight:mU,HemisphereLightHelper:yre,IcosahedronGeometry:K_,ImageBitmapLoader:Hie,ImageLoader:C_,ImageUtils:Cz,IncrementStencilOp:yte,IncrementWrapStencilOp:bte,InstancedBufferAttribute:yy,InstancedBufferGeometry:wU,InstancedInterleavedBuffer:cre,InstancedMesh:Uz,Int16BufferAttribute:Mne,Int32BufferAttribute:Ane,Int8BufferAttribute:wne,IntType:j_,InterleavedBuffer:Bw,InterleavedBufferAttribute:vg,Interpolant:e1,InterpolateDiscrete:g_,InterpolateLinear:US,InterpolateSmooth:Lx,InterpolationSamplingMode:Fte,InterpolationSamplingType:Hte,InvertStencilOp:Ste,KeepStencilOp:jm,KeyframeTrack:Ou,LOD:Iz,LatheGeometry:Xw,Layers:gy,LessCompare:_z,LessDepth:aS,LessEqualCompare:xC,LessEqualDepth:gg,LessEqualStencilFunc:Mte,LessStencilFunc:Ete,Light:$p,LightProbe:SU,Line:kp,Line3:dre,LineBasicMaterial:Fl,LineCurve:DC,LineCurve3:qz,LineDashedMaterial:oU,LineLoop:kz,LineSegments:vh,LinearFilter:Or,LinearInterpolant:HC,LinearMipMapLinearFilter:K2,LinearMipMapNearestFilter:cte,LinearMipmapLinearFilter:ih,LinearMipmapNearestFilter:$0,LinearSRGBColorSpace:vf,LinearToneMapping:Tw,LinearTransfer:y_,Loader:Vl,LoaderUtils:rA,LoadingManager:tE,LoopOnce:hz,LoopPingPong:pz,LoopRepeat:dz,MOUSE:Vm,Material:il,MaterialLoader:iE,MathUtils:Tz,Matrix2:ZC,Matrix3:Oi,Matrix4:mi,MaxEquation:jI,Mesh:Gs,MeshBasicMaterial:Cd,MeshDepthMaterial:UC,MeshDistanceMaterial:BC,MeshLambertMaterial:sU,MeshMatcapMaterial:aU,MeshNormalMaterial:rU,MeshPhongMaterial:nU,MeshPhysicalMaterial:tU,MeshStandardMaterial:zC,MeshToonMaterial:iU,MinEquation:GI,MirroredRepeatWrapping:m_,MixOperation:rz,MultiplyBlending:Y2,MultiplyOperation:G_,NearestFilter:Po,NearestMipMapLinearFilter:lte,NearestMipMapNearestFilter:ote,NearestMipmapLinearFilter:Vv,NearestMipmapNearestFilter:pC,NeutralToneMapping:uz,NeverCompare:yz,NeverDepth:rS,NeverStencilFunc:wte,NoBlending:ah,NoColorSpace:ld,NoToneMapping:oh,NormalAnimationBlendMode:Dw,NormalBlending:cg,NotEqualCompare:Sz,NotEqualDepth:uS,NotEqualStencilFunc:Cte,NumberKeyframeTrack:T_,Object3D:br,ObjectLoader:Bie,ObjectSpaceNormalMap:vz,OctahedronGeometry:Q_,OneFactor:qI,OneMinusConstantAlphaFactor:iz,OneMinusConstantColorFactor:tz,OneMinusDstAlphaFactor:ZI,OneMinusDstColorFactor:QI,OneMinusSrcAlphaFactor:iS,OneMinusSrcColorFactor:XI,OrthographicCamera:gd,PCFShadowMap:Ew,PCFSoftShadowMap:j0,PMREMGenerator:lA,Path:FS,PerspectiveCamera:fa,Plane:id,PlaneGeometry:jp,PlaneHelper:Tre,PointLight:vU,PointLightHelper:gre,Points:Hz,PointsMaterial:RC,PolarGridHelper:bre,PolyhedronGeometry:Gp,PositionalAudio:qie,PropertyBinding:yr,PropertyMixer:AU,QuadraticBezierCurve:LC,QuadraticBezierCurve3:NC,Quaternion:el,QuaternionKeyframeTrack:t1,QuaternionLinearInterpolant:hU,RED_GREEN_RGTC2_Format:IS,RED_RGTC1_Format:_C,REVISION:V_,RGBADepthPacking:gz,RGBAFormat:ma,RGBAIntegerFormat:Pw,RGBA_ASTC_10x10_Format:RS,RGBA_ASTC_10x5_Format:MS,RGBA_ASTC_10x6_Format:AS,RGBA_ASTC_10x8_Format:CS,RGBA_ASTC_12x10_Format:OS,RGBA_ASTC_12x12_Format:PS,RGBA_ASTC_4x4_Format:yS,RGBA_ASTC_5x4_Format:_S,RGBA_ASTC_5x5_Format:bS,RGBA_ASTC_6x5_Format:xS,RGBA_ASTC_6x6_Format:SS,RGBA_ASTC_8x5_Format:wS,RGBA_ASTC_8x6_Format:ES,RGBA_ASTC_8x8_Format:TS,RGBA_BPTC_Format:Z0,RGBA_ETC2_EAC_Format:vS,RGBA_PVRTC_2BPPV1_Format:pS,RGBA_PVRTC_4BPPV1_Format:dS,RGBA_S3TC_DXT1_Format:W0,RGBA_S3TC_DXT3_Format:X0,RGBA_S3TC_DXT5_Format:Y0,RGBDepthPacking:pte,RGBFormat:vC,RGBIntegerFormat:ute,RGB_BPTC_SIGNED_Format:DS,RGB_BPTC_UNSIGNED_Format:LS,RGB_ETC1_Format:mS,RGB_ETC2_Format:gS,RGB_PVRTC_2BPPV1_Format:hS,RGB_PVRTC_4BPPV1_Format:fS,RGB_S3TC_DXT1_Format:q0,RGDepthPacking:mte,RGFormat:yC,RGIntegerFormat:Ow,RawShaderMaterial:eU,Ray:Eg,Raycaster:YC,RectAreaLight:bU,RedFormat:$_,RedIntegerFormat:q_,ReinhardToneMapping:az,RenderTarget:wC,RenderTarget3D:are,RepeatWrapping:p_,ReplaceStencilOp:vte,ReverseSubtractEquation:VI,RingGeometry:Yw,SIGNED_RED_GREEN_RGTC2_Format:zS,SIGNED_RED_RGTC1_Format:NS,SRGBColorSpace:ka,SRGBTransfer:Gr,Scene:X_,ShaderChunk:ki,ShaderLib:af,ShaderMaterial:pc,ShadowMaterial:Jz,Shape:fg,ShapeGeometry:Zw,ShapePath:Cre,ShapeUtils:cf,ShortType:Aw,Skeleton:kw,SkeletonHelper:mre,SkinnedMesh:zz,Source:Dp,Sphere:Do,SphereGeometry:J_,Spherical:aA,SphericalHarmonics3:xU,SplineCurve:IC,SpotLight:gU,SpotLightHelper:pre,Sprite:Nz,SpriteMaterial:AC,SrcAlphaFactor:nS,SrcAlphaSaturateFactor:JI,SrcColorFactor:WI,StaticCopyUsage:Ite,StaticDrawUsage:__,StaticReadUsage:Dte,StereoCamera:Vie,StreamCopyUsage:Ute,StreamDrawUsage:Pte,StreamReadUsage:Nte,StringKeyframeTrack:Ag,SubtractEquation:FI,SubtractiveBlending:X2,TOUCH:Gm,TangentSpaceNormalMap:Vp,TetrahedronGeometry:Kw,Texture:zr,TextureLoader:nE,TextureUtils:Nre,TimestampQuery:kte,TorusGeometry:Qw,TorusKnotGeometry:Jw,Triangle:fc,TriangleFanDrawMode:dte,TriangleStripDrawMode:hte,TrianglesDrawMode:fte,TubeGeometry:eE,UVMapping:Up,Uint16BufferAttribute:EC,Uint32BufferAttribute:TC,Uint8BufferAttribute:Ene,Uint8ClampedBufferAttribute:Tne,Uniform:XC,UniformsGroup:lre,UniformsLib:vn,UniformsUtils:Pz,UnsignedByteType:Hl,UnsignedInt248Type:hy,UnsignedInt5999Type:mC,UnsignedIntType:hh,UnsignedShort4444Type:Cw,UnsignedShort5551Type:Rw,UnsignedShortType:fy,VSMShadowMap:rf,Vector2:Lt,Vector3:me,Vector4:_r,VectorKeyframeTrack:M_,VideoFrameTexture:Xne,VideoTexture:Fz,WebGL3DRenderTarget:hne,WebGLArrayRenderTarget:fne,WebGLCoordinateSystem:Au,WebGLCubeRenderTarget:MC,WebGLRenderTarget:Fc,WebGLRenderer:QC,WebGLUtils:IU,WebGPUCoordinateSystem:b_,WebXRController:Nx,WireframeGeometry:Qz,WrapAroundEnding:v_,ZeroCurvatureEnding:ng,ZeroFactor:$I,ZeroSlopeEnding:ig,ZeroStencilOp:gte,createCanvasElement:Az},Symbol.toStringTag,{value:"Module"}));var TM={exports:{}},MM={},AM={exports:{}},CM={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var RL;function gce(){if(RL)return CM;RL=1;var n=Sg();function e(m,v){return m===v&&(m!==0||1/m===1/v)||m!==m&&v!==v}var t=typeof Object.is=="function"?Object.is:e,i=n.useState,r=n.useEffect,s=n.useLayoutEffect,a=n.useDebugValue;function o(m,v){var y=v(),x=i({inst:{value:y,getSnapshot:v}}),T=x[0].inst,E=x[1];return s(function(){T.value=y,T.getSnapshot=v,l(T)&&E({inst:T})},[m,y,v]),r(function(){return l(T)&&E({inst:T}),m(function(){l(T)&&E({inst:T})})},[m]),a(y),y}function l(m){var v=m.getSnapshot;m=m.value;try{var y=v();return!t(m,y)}catch{return!0}}function u(m,v){return v()}var d=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?u:o;return CM.useSyncExternalStore=n.useSyncExternalStore!==void 0?n.useSyncExternalStore:d,CM}var OL;function vce(){return OL||(OL=1,AM.exports=gce()),AM.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var PL;function yce(){if(PL)return MM;PL=1;var n=Sg(),e=vce();function t(u,d){return u===d&&(u!==0||1/u===1/d)||u!==u&&d!==d}var i=typeof Object.is=="function"?Object.is:t,r=e.useSyncExternalStore,s=n.useRef,a=n.useEffect,o=n.useMemo,l=n.useDebugValue;return MM.useSyncExternalStoreWithSelector=function(u,d,m,v,y){var x=s(null);if(x.current===null){var T={hasValue:!1,value:null};x.current=T}else T=x.current;x=o(function(){function w(k){if(!P){if(P=!0,D=k,k=v(k),y!==void 0&&T.hasValue){var M=T.value;if(y(M,k))return N=M}return N=k}if(M=N,i(D,k))return M;var $=v(k);return y!==void 0&&y(M,$)?(D=k,M):(D=k,N=$)}var P=!1,D,N,G=m===void 0?null:m;return[function(){return w(d())},G===null?void 0:function(){return w(G())}]},[d,m,v,y]);var E=r(u,x[0],x[1]);return a(function(){T.hasValue=!0,T.value=E},[E]),l(E),E},MM}var DL;function _ce(){return DL||(DL=1,TM.exports=yce()),TM.exports}var bce=_ce();const xce=Ru(bce),LL=n=>{let e;const t=new Set,i=(u,d)=>{const m=typeof u=="function"?u(e):u;if(!Object.is(m,e)){const v=e;e=d??(typeof m!="object"||m===null)?m:Object.assign({},e,m),t.forEach(y=>y(e,v))}},r=()=>e,o={setState:i,getState:r,getInitialState:()=>l,subscribe:u=>(t.add(u),()=>t.delete(u))},l=e=n(i,r,o);return o},Sce=(n=>n?LL(n):LL),{useSyncExternalStoreWithSelector:wce}=xce,Ece=n=>n;function Tce(n,e=Ece,t){const i=wce(n.subscribe,n.getState,n.getInitialState,e,t);return Se.useDebugValue(i),i}const NL=(n,e)=>{const t=Sce(n),i=(r,s=e)=>Tce(t,r,s);return Object.assign(i,t),i},zU=((n,e)=>n?NL(n,e):NL),Mce=n=>typeof n=="object"&&typeof n.then=="function",ag=[];function UU(n,e,t=(i,r)=>i===r){if(n===e)return!0;if(!n||!e)return!1;const i=n.length;if(e.length!==i)return!1;for(let r=0;r<i;r++)if(!t(n[r],e[r]))return!1;return!0}function BU(n,e=null,t=!1,i={}){e===null&&(e=[n]);for(const s of ag)if(UU(e,s.keys,s.equal)){if(t)return;if(Object.prototype.hasOwnProperty.call(s,"error"))throw s.error;if(Object.prototype.hasOwnProperty.call(s,"response"))return i.lifespan&&i.lifespan>0&&(s.timeout&&clearTimeout(s.timeout),s.timeout=setTimeout(s.remove,i.lifespan)),s.response;if(!t)throw s.promise}const r={keys:e,equal:i.equal,remove:()=>{const s=ag.indexOf(r);s!==-1&&ag.splice(s,1)},promise:(Mce(n)?n:n(...e)).then(s=>{r.response=s,i.lifespan&&i.lifespan>0&&(r.timeout=setTimeout(r.remove,i.lifespan))}).catch(s=>r.error=s)};if(ag.push(r),!t)throw r.promise}const Ace=(n,e,t)=>BU(n,e,!1,t),Cce=(n,e,t)=>void BU(n,e,!0,t),Rce=n=>{if(n===void 0||n.length===0)ag.splice(0,ag.length);else{const e=ag.find(t=>UU(n,t.keys,t.equal));e&&e.remove()}};var RM={exports:{}},OM={exports:{}},PM={exports:{}},DM={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var IL;function Oce(){return IL||(IL=1,(function(n){function e(J,de){var he=J.length;J.push(de);e:for(;0<he;){var Le=he-1>>>1,ne=J[Le];if(0<r(ne,de))J[Le]=de,J[he]=ne,he=Le;else break e}}function t(J){return J.length===0?null:J[0]}function i(J){if(J.length===0)return null;var de=J[0],he=J.pop();if(he!==de){J[0]=he;e:for(var Le=0,ne=J.length,re=ne>>>1;Le<re;){var ze=2*(Le+1)-1,Ve=J[ze],xe=ze+1,$e=J[xe];if(0>r(Ve,he))xe<ne&&0>r($e,Ve)?(J[Le]=$e,J[xe]=he,Le=xe):(J[Le]=Ve,J[ze]=he,Le=ze);else if(xe<ne&&0>r($e,he))J[Le]=$e,J[xe]=he,Le=xe;else break e}}return de}function r(J,de){var he=J.sortIndex-de.sortIndex;return he!==0?he:J.id-de.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var a=Date,o=a.now();n.unstable_now=function(){return a.now()-o}}var l=[],u=[],d=1,m=null,v=3,y=!1,x=!1,T=!1,E=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,P=typeof setImmediate<"u"?setImmediate:null;function D(J){for(var de=t(u);de!==null;){if(de.callback===null)i(u);else if(de.startTime<=J)i(u),de.sortIndex=de.expirationTime,e(l,de);else break;de=t(u)}}function N(J){if(T=!1,D(J),!x)if(t(l)!==null)x=!0,ye();else{var de=t(u);de!==null&&Te(N,de.startTime-J)}}var G=!1,k=-1,M=5,$=-1;function V(){return!(n.unstable_now()-$<M)}function H(){if(G){var J=n.unstable_now();$=J;var de=!0;try{e:{x=!1,T&&(T=!1,w(k),k=-1),y=!0;var he=v;try{t:{for(D(J),m=t(l);m!==null&&!(m.expirationTime>J&&V());){var Le=m.callback;if(typeof Le=="function"){m.callback=null,v=m.priorityLevel;var ne=Le(m.expirationTime<=J);if(J=n.unstable_now(),typeof ne=="function"){m.callback=ne,D(J),de=!0;break t}m===t(l)&&i(l),D(J)}else i(l);m=t(l)}if(m!==null)de=!0;else{var re=t(u);re!==null&&Te(N,re.startTime-J),de=!1}}break e}finally{m=null,v=he,y=!1}de=void 0}}finally{de?ee():G=!1}}}var ee;if(typeof P=="function")ee=function(){P(H)};else if(typeof MessageChannel<"u"){var pe=new MessageChannel,ae=pe.port2;pe.port1.onmessage=H,ee=function(){ae.postMessage(null)}}else ee=function(){E(H,0)};function ye(){G||(G=!0,ee())}function Te(J,de){k=E(function(){J(n.unstable_now())},de)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(J){J.callback=null},n.unstable_continueExecution=function(){x||y||(x=!0,ye())},n.unstable_forceFrameRate=function(J){0>J||125<J?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<J?Math.floor(1e3/J):5},n.unstable_getCurrentPriorityLevel=function(){return v},n.unstable_getFirstCallbackNode=function(){return t(l)},n.unstable_next=function(J){switch(v){case 1:case 2:case 3:var de=3;break;default:de=v}var he=v;v=de;try{return J()}finally{v=he}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(J,de){switch(J){case 1:case 2:case 3:case 4:case 5:break;default:J=3}var he=v;v=J;try{return de()}finally{v=he}},n.unstable_scheduleCallback=function(J,de,he){var Le=n.unstable_now();switch(typeof he=="object"&&he!==null?(he=he.delay,he=typeof he=="number"&&0<he?Le+he:Le):he=Le,J){case 1:var ne=-1;break;case 2:ne=250;break;case 5:ne=1073741823;break;case 4:ne=1e4;break;default:ne=5e3}return ne=he+ne,J={id:d++,callback:de,priorityLevel:J,startTime:he,expirationTime:ne,sortIndex:-1},he>Le?(J.sortIndex=he,e(u,J),t(l)===null&&J===t(u)&&(T?(w(k),k=-1):T=!0,Te(N,he-Le))):(J.sortIndex=ne,e(l,J),x||y||(x=!0,ye())),J},n.unstable_shouldYield=V,n.unstable_wrapCallback=function(J){var de=v;return function(){var he=v;v=de;try{return J.apply(this,arguments)}finally{v=he}}}})(DM)),DM}var zL;function kU(){return zL||(zL=1,PM.exports=Oce()),PM.exports}/**
 * @license React
 * react-reconciler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var UL;function Pce(){return UL||(UL=1,(function(n){n.exports=function(e){function t(h,p,b,C){return new Qp(h,p,b,C)}function i(){}function r(h){var p="https://react.dev/errors/"+h;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)p+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+h+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(h){return h===null||typeof h!="object"?null:(h=le&&h[le]||h["@@iterator"],typeof h=="function"?h:null)}function a(h){if(h==null)return null;if(typeof h=="function")return h.$$typeof===ke?null:h.displayName||h.name||null;if(typeof h=="string")return h;switch(h){case iu:return"Fragment";case jo:return"Portal";case kd:return"Profiler";case Mh:return"StrictMode";case Fd:return"Suspense";case Lf:return"SuspenseList"}if(typeof h=="object")switch(h.$$typeof){case Qa:return(h.displayName||"Context")+".Provider";case Hd:return(h._context.displayName||"Context")+".Consumer";case ru:var p=h.render;return h=h.displayName,h||(h=p.displayName||p.name||"",h=h!==""?"ForwardRef("+h+")":"ForwardRef"),h;case su:return p=h.displayName||null,p!==null?p:a(h.type)||"Memo";case Q:p=h._payload,h=h._init;try{return a(h(p))}catch{}}return null}function o(h){if(ct===void 0)try{throw Error()}catch(b){var p=b.stack.trim().match(/\n( *(at )?)/);ct=p&&p[1]||"",It=-1<b.stack.indexOf(`
    at`)?" (<anonymous>)":-1<b.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ct+h+It}function l(h,p){if(!h||Zt)return"";Zt=!0;var b=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var C={DetermineComponentFrameRoot:function(){try{if(p){var gn=function(){throw Error()};if(Object.defineProperty(gn.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(gn,[])}catch(wi){var wn=wi}Reflect.construct(h,[],gn)}else{try{gn.call()}catch(wi){wn=wi}h.call(gn.prototype)}}else{try{throw Error()}catch(wi){wn=wi}(gn=h())&&typeof gn.catch=="function"&&gn.catch(function(){})}}catch(wi){if(wi&&wn&&typeof wi.stack=="string")return[wi.stack,wn.stack]}return[null,null]}};C.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var I=Object.getOwnPropertyDescriptor(C.DetermineComponentFrameRoot,"name");I&&I.configurable&&Object.defineProperty(C.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var F=C.DetermineComponentFrameRoot(),ce=F[0],Oe=F[1];if(ce&&Oe){var qe=ce.split(`
`),Pt=Oe.split(`
`);for(I=C=0;C<qe.length&&!qe[C].includes("DetermineComponentFrameRoot");)C++;for(;I<Pt.length&&!Pt[I].includes("DetermineComponentFrameRoot");)I++;if(C===qe.length||I===Pt.length)for(C=qe.length-1,I=Pt.length-1;1<=C&&0<=I&&qe[C]!==Pt[I];)I--;for(;1<=C&&0<=I;C--,I--)if(qe[C]!==Pt[I]){if(C!==1||I!==1)do if(C--,I--,0>I||qe[C]!==Pt[I]){var Jt=`
`+qe[C].replace(" at new "," at ");return h.displayName&&Jt.includes("<anonymous>")&&(Jt=Jt.replace("<anonymous>",h.displayName)),Jt}while(1<=C&&0<=I);break}}}finally{Zt=!1,Error.prepareStackTrace=b}return(b=h?h.displayName||h.name:"")?o(b):""}function u(h){switch(h.tag){case 26:case 27:case 5:return o(h.type);case 16:return o("Lazy");case 13:return o("Suspense");case 19:return o("SuspenseList");case 0:case 15:return h=l(h.type,!1),h;case 11:return h=l(h.type.render,!1),h;case 1:return h=l(h.type,!0),h;default:return""}}function d(h){try{var p="";do p+=u(h),h=h.return;while(h);return p}catch(b){return`
Error generating stack: `+b.message+`
`+b.stack}}function m(h){var p=h,b=h;if(h.alternate)for(;p.return;)p=p.return;else{h=p;do p=h,(p.flags&4098)!==0&&(b=p.return),h=p.return;while(h)}return p.tag===3?b:null}function v(h){if(m(h)!==h)throw Error(r(188))}function y(h){var p=h.alternate;if(!p){if(p=m(h),p===null)throw Error(r(188));return p!==h?null:h}for(var b=h,C=p;;){var I=b.return;if(I===null)break;var F=I.alternate;if(F===null){if(C=I.return,C!==null){b=C;continue}break}if(I.child===F.child){for(F=I.child;F;){if(F===b)return v(I),h;if(F===C)return v(I),p;F=F.sibling}throw Error(r(188))}if(b.return!==C.return)b=I,C=F;else{for(var ce=!1,Oe=I.child;Oe;){if(Oe===b){ce=!0,b=I,C=F;break}if(Oe===C){ce=!0,C=I,b=F;break}Oe=Oe.sibling}if(!ce){for(Oe=F.child;Oe;){if(Oe===b){ce=!0,b=F,C=I;break}if(Oe===C){ce=!0,C=F,b=I;break}Oe=Oe.sibling}if(!ce)throw Error(r(189))}}if(b.alternate!==C)throw Error(r(190))}if(b.tag!==3)throw Error(r(188));return b.stateNode.current===b?h:p}function x(h){var p=h.tag;if(p===5||p===26||p===27||p===6)return h;for(h=h.child;h!==null;){if(p=x(h),p!==null)return p;h=h.sibling}return null}function T(h){var p=h.tag;if(p===5||p===26||p===27||p===6)return h;for(h=h.child;h!==null;){if(h.tag!==4&&(p=T(h),p!==null))return p;h=h.sibling}return null}function E(h){return{current:h}}function w(h){0>$u||(h.current=Us[$u],Us[$u]=null,$u--)}function P(h,p){$u++,Us[$u]=h.current,h.current=p}function D(h){return h>>>=0,h===0?32:31-(O1(h)/P1|0)|0}function N(h){var p=h&42;if(p!==0)return p;switch(h&-h){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return h&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return h&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return h}}function G(h,p){var b=h.pendingLanes;if(b===0)return 0;var C=0,I=h.suspendedLanes,F=h.pingedLanes,ce=h.warmLanes;h=h.finishedLanes!==0;var Oe=b&134217727;return Oe!==0?(b=Oe&~I,b!==0?C=N(b):(F&=Oe,F!==0?C=N(F):h||(ce=Oe&~ce,ce!==0&&(C=N(ce))))):(Oe=b&~I,Oe!==0?C=N(Oe):F!==0?C=N(F):h||(ce=b&~ce,ce!==0&&(C=N(ce)))),C===0?0:p!==0&&p!==C&&(p&I)===0&&(I=C&-C,ce=p&-p,I>=ce||I===32&&(ce&4194176)!==0)?p:C}function k(h,p){return(h.pendingLanes&~(h.suspendedLanes&~h.pingedLanes)&p)===0}function M(h,p){switch(h){case 1:case 2:case 4:case 8:return p+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return p+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function $(){var h=lu;return lu<<=1,(lu&4194176)===0&&(lu=128),h}function V(){var h=Oh;return Oh<<=1,(Oh&62914560)===0&&(Oh=4194304),h}function H(h){for(var p=[],b=0;31>b;b++)p.push(h);return p}function ee(h,p){h.pendingLanes|=p,p!==268435456&&(h.suspendedLanes=0,h.pingedLanes=0,h.warmLanes=0)}function pe(h,p,b,C,I,F){var ce=h.pendingLanes;h.pendingLanes=b,h.suspendedLanes=0,h.pingedLanes=0,h.warmLanes=0,h.expiredLanes&=b,h.entangledLanes&=b,h.errorRecoveryDisabledLanes&=b,h.shellSuspendCounter=0;var Oe=h.entanglements,qe=h.expirationTimes,Pt=h.hiddenUpdates;for(b=ce&~b;0<b;){var Jt=31-xo(b),gn=1<<Jt;Oe[Jt]=0,qe[Jt]=-1;var wn=Pt[Jt];if(wn!==null)for(Pt[Jt]=null,Jt=0;Jt<wn.length;Jt++){var wi=wn[Jt];wi!==null&&(wi.lane&=-536870913)}b&=~gn}C!==0&&ae(h,C,0),F!==0&&I===0&&h.tag!==0&&(h.suspendedLanes|=F&~(ce&~p))}function ae(h,p,b){h.pendingLanes|=p,h.suspendedLanes&=~p;var C=31-xo(p);h.entangledLanes|=p,h.entanglements[C]=h.entanglements[C]|1073741824|b&4194218}function ye(h,p){var b=h.entangledLanes|=p;for(h=h.entanglements;b;){var C=31-xo(b),I=1<<C;I&p|h[C]&p&&(h[C]|=p),b&=~I}}function Te(h){return h&=-h,2<h?8<h?(h&134217727)!==0?32:268435456:8:2}function J(h){if(qo&&typeof qo.onCommitFiberRoot=="function")try{qo.onCommitFiberRoot(Bs,h,void 0,(h.current.flags&128)===128)}catch{}}function de(h){if(typeof N1=="function"&&wa(h),qo&&typeof qo.setStrictMode=="function")try{qo.setStrictMode(Bs,h)}catch{}}function he(h,p){return h===p&&(h!==0||1/h===1/p)||h!==h&&p!==p}function Le(h,p){if(typeof h=="object"&&h!==null){var b=$y.get(h);return b!==void 0?b:(p={value:h,source:p,stack:d(p)},$y.set(h,p),p)}return{value:h,source:p,stack:d(p)}}function ne(h,p){Ph[Dh++]=Yd,Ph[Dh++]=Lh,Lh=h,Yd=p}function re(h,p,b){vl[yl++]=Cc,vl[yl++]=Rc,vl[yl++]=Bf,Bf=h;var C=Cc;h=Rc;var I=32-xo(C)-1;C&=~(1<<I),b+=1;var F=32-xo(p)+I;if(30<F){var ce=I-I%5;F=(C&(1<<ce)-1).toString(32),C>>=ce,I-=ce,Cc=1<<32-xo(p)+I|b<<I|C,Rc=F+h}else Cc=1<<F|b<<I|C,Rc=h}function ze(h){h.return!==null&&(ne(h,1),re(h,1,0))}function Ve(h){for(;h===Lh;)Lh=Ph[--Dh],Ph[Dh]=null,Yd=Ph[--Dh],Ph[Dh]=null;for(;h===Bf;)Bf=vl[--yl],vl[yl]=null,Rc=vl[--yl],vl[yl]=null,Cc=vl[--yl],vl[yl]=null}function xe(h,p){P(cu,p),P(Zd,h),P(oa,null),h=hi(p),w(oa),P(oa,h)}function $e(){w(oa),w(Zd),w(cu)}function Ze(h){h.memoizedState!==null&&P(Nh,h);var p=oa.current,b=Xn(p,h.type);p!==b&&(P(Zd,h),P(oa,b))}function gt(h){Zd.current===h&&(w(oa),w(Zd)),Nh.current===h&&(w(Nh),ji?$o._currentValue=Tc:$o._currentValue2=Tc)}function yt(h){var p=Error(r(418,""));throw dn(Le(p,h)),mm}function vt(h,p){if(!or)throw Error(r(175));b1(h.stateNode,h.type,h.memoizedProps,p,h)||yt(h)}function Vt(h){for(Ua=h.return;Ua;)switch(Ua.tag){case 3:case 27:Ea=!0;return;case 5:case 13:Ea=!1;return;default:Ua=Ua.return}}function zn(h){if(!or||h!==Ua)return!1;if(!rr)return Vt(h),rr=!0,!1;var p=!1;if(kr?h.tag!==3&&h.tag!==27&&(h.tag!==5||Bg(h.type)&&!ln(h.type,h.memoizedProps))&&(p=!0):h.tag!==3&&(h.tag!==5||Bg(h.type)&&!ln(h.type,h.memoizedProps))&&(p=!0),p&&Ba&&yt(h),Vt(h),h.tag===13){if(!or)throw Error(r(316));if(h=h.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(r(317));Ba=S1(h)}else Ba=Ua?Fy(h.stateNode):null;return!0}function An(){or&&(Ba=Ua=null,rr=!1)}function dn(h){ec===null?ec=[h]:ec.push(h)}function fe(){for(var h=Ih,p=Oc=Ih=0;p<h;){var b=tc[p];tc[p++]=null;var C=tc[p];tc[p++]=null;var I=tc[p];tc[p++]=null;var F=tc[p];if(tc[p++]=null,C!==null&&I!==null){var ce=C.pending;ce===null?I.next=I:(I.next=ce.next,ce.next=I),C.pending=I}F!==0&&mt(b,I,F)}}function Et(h,p,b,C){tc[Ih++]=h,tc[Ih++]=p,tc[Ih++]=b,tc[Ih++]=C,Oc|=C,h.lanes|=C,h=h.alternate,h!==null&&(h.lanes|=C)}function Mt(h,p,b,C){return Et(h,p,b,C),Kt(h)}function At(h,p){return Et(h,null,null,p),Kt(h)}function mt(h,p,b){h.lanes|=b;var C=h.alternate;C!==null&&(C.lanes|=b);for(var I=!1,F=h.return;F!==null;)F.childLanes|=b,C=F.alternate,C!==null&&(C.childLanes|=b),F.tag===22&&(h=F.stateNode,h===null||h._visibility&1||(I=!0)),h=F,F=F.return;I&&p!==null&&h.tag===3&&(F=h.stateNode,I=31-xo(b),F=F.hiddenUpdates,h=F[I],h===null?F[I]=[p]:h.push(p),p.lane=b|536870912)}function Kt(h){if(50<sp)throw sp=0,Jg=null,Error(r(185));for(var p=h.return;p!==null;)h=p,p=h.return;return h.tag===3?h.stateNode:null}function Ot(h){h!==qu&&h.next===null&&(qu===null?gm=qu=h:qu=qu.next=h),$r=!0,zh||(zh=!0,Ge(bn))}function Qt(h,p){if(!qy&&$r){qy=!0;do for(var b=!1,C=gm;C!==null;){if(h!==0){var I=C.pendingLanes;if(I===0)var F=0;else{var ce=C.suspendedLanes,Oe=C.pingedLanes;F=(1<<31-xo(42|h)+1)-1,F&=I&~(ce&~Oe),F=F&201326677?F&201326677|1:F?F|2:0}F!==0&&(b=!0,be(C,F))}else F=Yi,F=G(C,C===Er?F:0),(F&3)===0||k(C,F)||(b=!0,be(C,F));C=C.next}while(b);qy=!1}}function bn(){$r=zh=!1;var h=0;Kd!==0&&(Vu()&&(h=Kd),Kd=0);for(var p=Jl(),b=null,C=gm;C!==null;){var I=C.next,F=ie(C,p);F===0?(C.next=null,b===null?gm=I:b.next=I,I===null&&(qu=b)):(b=C,(h!==0||(F&3)!==0)&&($r=!0)),C=I}Qt(h)}function ie(h,p){for(var b=h.suspendedLanes,C=h.pingedLanes,I=h.expirationTimes,F=h.pendingLanes&-62914561;0<F;){var ce=31-xo(F),Oe=1<<ce,qe=I[ce];qe===-1?((Oe&b)===0||(Oe&C)!==0)&&(I[ce]=M(Oe,p)):qe<=p&&(h.expiredLanes|=Oe),F&=~Oe}if(p=Er,b=Yi,b=G(h,h===p?b:0),C=h.callbackNode,b===0||h===p&&Nr===2||h.cancelPendingCommit!==null)return C!==null&&C!==null&&Vg(C),h.callbackNode=null,h.callbackPriority=0;if((b&3)===0||k(h,b)){if(p=b&-b,p===h.callbackPriority)return p;switch(C!==null&&Vg(C),Te(b)){case 2:case 8:b=L1;break;case 32:b=$g;break;case 268435456:b=_E;break;default:b=$g}return C=Z.bind(null,h),b=pm(b,C),h.callbackPriority=p,h.callbackNode=b,p}return C!==null&&C!==null&&Vg(C),h.callbackPriority=2,h.callbackNode=null,2}function Z(h,p){var b=h.callbackNode;if(hl()&&h.callbackNode!==b)return null;var C=Yi;return C=G(h,h===Er?C:0),C===0?null:(Qc(h,C,p),ie(h,Jl()),h.callbackNode!=null&&h.callbackNode===b?Z.bind(null,h):null)}function be(h,p){if(hl())return null;Qc(h,p,!0)}function Ge(h){em?Mc(function(){(cr&6)!==0?pm(jg,h):h()}):pm(jg,h)}function ht(){return Kd===0&&(Kd=$()),Kd}function rt(h,p){if(Qd===null){var b=Qd=[];Uh=0,_l=ht(),Bh={status:"pending",value:void 0,then:function(C){b.push(C)}}}return Uh++,p.then(qt,qt),p}function qt(){if(--Uh===0&&Qd!==null){Bh!==null&&(Bh.status="fulfilled");var h=Qd;Qd=null,_l=0,Bh=null;for(var p=0;p<h.length;p++)(0,h[p])()}}function jt(h,p){var b=[],C={status:"pending",value:null,reason:null,then:function(I){b.push(I)}};return h.then(function(){C.status="fulfilled",C.value=p;for(var I=0;I<b.length;I++)(0,b[I])(p)},function(I){for(C.status="rejected",C.reason=I,I=0;I<b.length;I++)(0,b[I])(void 0)}),C}function tn(h){h.updateQueue={baseState:h.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function nn(h,p){h=h.updateQueue,p.updateQueue===h&&(p.updateQueue={baseState:h.baseState,firstBaseUpdate:h.firstBaseUpdate,lastBaseUpdate:h.lastBaseUpdate,shared:h.shared,callbacks:null})}function dt(h){return{lane:h,tag:0,payload:null,callback:null,next:null}}function kt(h,p,b){var C=h.updateQueue;if(C===null)return null;if(C=C.shared,(cr&2)!==0){var I=C.pending;return I===null?p.next=p:(p.next=I.next,I.next=p),C.pending=p,p=Kt(h),mt(h,null,b),p}return Et(h,C,p,b),Kt(h)}function cn(h,p,b){if(p=p.updateQueue,p!==null&&(p=p.shared,(b&4194176)!==0)){var C=p.lanes;C&=h.pendingLanes,b|=C,p.lanes=b,ye(h,b)}}function Ee(h,p){var b=h.updateQueue,C=h.alternate;if(C!==null&&(C=C.updateQueue,b===C)){var I=null,F=null;if(b=b.firstBaseUpdate,b!==null){do{var ce={lane:b.lane,tag:b.tag,payload:b.payload,callback:null,next:null};F===null?I=F=ce:F=F.next=ce,b=b.next}while(b!==null);F===null?I=F=p:F=F.next=p}else I=F=p;b={baseState:C.baseState,firstBaseUpdate:I,lastBaseUpdate:F,shared:C.shared,callbacks:C.callbacks},h.updateQueue=b;return}h=b.lastBaseUpdate,h===null?b.firstBaseUpdate=p:h.next=p,b.lastBaseUpdate=p}function Fe(){if(kh){var h=Bh;if(h!==null)throw h}}function Rt(h,p,b,C){kh=!1;var I=h.updateQueue;Wu=!1;var F=I.firstBaseUpdate,ce=I.lastBaseUpdate,Oe=I.shared.pending;if(Oe!==null){I.shared.pending=null;var qe=Oe,Pt=qe.next;qe.next=null,ce===null?F=Pt:ce.next=Pt,ce=qe;var Jt=h.alternate;Jt!==null&&(Jt=Jt.updateQueue,Oe=Jt.lastBaseUpdate,Oe!==ce&&(Oe===null?Jt.firstBaseUpdate=Pt:Oe.next=Pt,Jt.lastBaseUpdate=qe))}if(F!==null){var gn=I.baseState;ce=0,Jt=Pt=qe=null,Oe=F;do{var wn=Oe.lane&-536870913,wi=wn!==Oe.lane;if(wi?(Yi&wn)===wn:(C&wn)===wn){wn!==0&&wn===_l&&(kh=!0),Jt!==null&&(Jt=Jt.next={lane:0,tag:Oe.tag,payload:Oe.payload,callback:null,next:null});e:{var Al=h,Wf=Oe;wn=p;var Xf=b;switch(Wf.tag){case 1:if(Al=Wf.payload,typeof Al=="function"){gn=Al.call(Xf,gn,wn);break e}gn=Al;break e;case 3:Al.flags=Al.flags&-65537|128;case 0:if(Al=Wf.payload,wn=typeof Al=="function"?Al.call(Xf,gn,wn):Al,wn==null)break e;gn=Bd({},gn,wn);break e;case 2:Wu=!0}}wn=Oe.callback,wn!==null&&(h.flags|=64,wi&&(h.flags|=8192),wi=I.callbacks,wi===null?I.callbacks=[wn]:wi.push(wn))}else wi={lane:wn,tag:Oe.tag,payload:Oe.payload,callback:Oe.callback,next:null},Jt===null?(Pt=Jt=wi,qe=gn):Jt=Jt.next=wi,ce|=wn;if(Oe=Oe.next,Oe===null){if(Oe=I.shared.pending,Oe===null)break;wi=Oe,Oe=wi.next,wi.next=null,I.lastBaseUpdate=wi,I.shared.pending=null}}while(!0);Jt===null&&(qe=gn),I.baseState=qe,I.firstBaseUpdate=Pt,I.lastBaseUpdate=Jt,F===null&&(I.shared.lanes=0),Tl|=ce,h.lanes=ce,h.memoizedState=gn}}function Ae(h,p){if(typeof h!="function")throw Error(r(191,h));h.call(p)}function Xe(h,p){var b=h.callbacks;if(b!==null)for(h.callbacks=null,h=0;h<b.length;h++)Ae(b[h],p)}function xt(h,p){if(Wo(h,p))return!0;if(typeof h!="object"||h===null||typeof p!="object"||p===null)return!1;var b=Object.keys(h),C=Object.keys(p);if(b.length!==C.length)return!1;for(C=0;C<b.length;C++){var I=b[C];if(!uu.call(p,I)||!Wo(h[I],p[I]))return!1}return!0}function Xt(h){return h=h.status,h==="fulfilled"||h==="rejected"}function Ht(){}function Ct(h,p,b){switch(b=h[b],b===void 0?h.push(p):b!==p&&(p.then(Ht,Ht),p=b),p.status){case"fulfilled":return p.value;case"rejected":throw h=p.reason,h===Jd?Error(r(483)):h;default:if(typeof p.status=="string")p.then(Ht,Ht);else{if(h=Er,h!==null&&100<h.shellSuspendCounter)throw Error(r(482));h=p,h.status="pending",h.then(function(C){if(p.status==="pending"){var I=p;I.status="fulfilled",I.value=C}},function(C){if(p.status==="pending"){var I=p;I.status="rejected",I.reason=C}})}switch(p.status){case"fulfilled":return p.value;case"rejected":throw h=p.reason,h===Jd?Error(r(483)):h}throw kf=p,Jd}}function $t(){if(kf===null)throw Error(r(459));var h=kf;return kf=null,h}function fn(h){var p=Ff;return Ff+=1,Hf===null&&(Hf=[]),Ct(Hf,h,p)}function ui(h,p){p=p.props.ref,h.ref=p!==void 0?p:null}function fi(h,p){throw p.$$typeof===zy?Error(r(525)):(h=Object.prototype.toString.call(p),Error(r(31,h==="[object Object]"?"object with keys {"+Object.keys(p).join(", ")+"}":h)))}function Ur(h){var p=h._init;return p(h._payload)}function Wi(h){function p(it,Ue){if(h){var ut=it.deletions;ut===null?(it.deletions=[Ue],it.flags|=16):ut.push(Ue)}}function b(it,Ue){if(!h)return null;for(;Ue!==null;)p(it,Ue),Ue=Ue.sibling;return null}function C(it){for(var Ue=new Map;it!==null;)it.key!==null?Ue.set(it.key,it):Ue.set(it.index,it),it=it.sibling;return Ue}function I(it,Ue){return it=Vo(it,Ue),it.index=0,it.sibling=null,it}function F(it,Ue,ut){return it.index=ut,h?(ut=it.alternate,ut!==null?(ut=ut.index,ut<Ue?(it.flags|=33554434,Ue):ut):(it.flags|=33554434,Ue)):(it.flags|=1048576,Ue)}function ce(it){return h&&it.alternate===null&&(it.flags|=33554434),it}function Oe(it,Ue,ut,Wt){return Ue===null||Ue.tag!==6?(Ue=Df(ut,it.mode,Wt),Ue.return=it,Ue):(Ue=I(Ue,ut),Ue.return=it,Ue)}function qe(it,Ue,ut,Wt){var Fn=ut.type;return Fn===iu?Jt(it,Ue,ut.props.children,Wt,ut.key):Ue!==null&&(Ue.elementType===Fn||typeof Fn=="object"&&Fn!==null&&Fn.$$typeof===Q&&Ur(Fn)===Ue.type)?(Ue=I(Ue,ut.props),ui(Ue,ut),Ue.return=it,Ue):(Ue=pl(ut.type,ut.key,ut.props,null,it.mode,Wt),ui(Ue,ut),Ue.return=it,Ue)}function Pt(it,Ue,ut,Wt){return Ue===null||Ue.tag!==4||Ue.stateNode.containerInfo!==ut.containerInfo||Ue.stateNode.implementation!==ut.implementation?(Ue=Ud(ut,it.mode,Wt),Ue.return=it,Ue):(Ue=I(Ue,ut.children||[]),Ue.return=it,Ue)}function Jt(it,Ue,ut,Wt,Fn){return Ue===null||Ue.tag!==7?(Ue=ls(ut,it.mode,Wt,Fn),Ue.return=it,Ue):(Ue=I(Ue,ut),Ue.return=it,Ue)}function gn(it,Ue,ut){if(typeof Ue=="string"&&Ue!==""||typeof Ue=="number"||typeof Ue=="bigint")return Ue=Df(""+Ue,it.mode,ut),Ue.return=it,Ue;if(typeof Ue=="object"&&Ue!==null){switch(Ue.$$typeof){case Th:return ut=pl(Ue.type,Ue.key,Ue.props,null,it.mode,ut),ui(ut,Ue),ut.return=it,ut;case jo:return Ue=Ud(Ue,it.mode,ut),Ue.return=it,Ue;case Q:var Wt=Ue._init;return Ue=Wt(Ue._payload),gn(it,Ue,ut)}if(_n(Ue)||s(Ue))return Ue=ls(Ue,it.mode,ut,null),Ue.return=it,Ue;if(typeof Ue.then=="function")return gn(it,fn(Ue),ut);if(Ue.$$typeof===Qa)return gn(it,Ya(it,Ue),ut);fi(it,Ue)}return null}function wn(it,Ue,ut,Wt){var Fn=Ue!==null?Ue.key:null;if(typeof ut=="string"&&ut!==""||typeof ut=="number"||typeof ut=="bigint")return Fn!==null?null:Oe(it,Ue,""+ut,Wt);if(typeof ut=="object"&&ut!==null){switch(ut.$$typeof){case Th:return ut.key===Fn?qe(it,Ue,ut,Wt):null;case jo:return ut.key===Fn?Pt(it,Ue,ut,Wt):null;case Q:return Fn=ut._init,ut=Fn(ut._payload),wn(it,Ue,ut,Wt)}if(_n(ut)||s(ut))return Fn!==null?null:Jt(it,Ue,ut,Wt,null);if(typeof ut.then=="function")return wn(it,Ue,fn(ut),Wt);if(ut.$$typeof===Qa)return wn(it,Ue,Ya(it,ut),Wt);fi(it,ut)}return null}function wi(it,Ue,ut,Wt,Fn){if(typeof Wt=="string"&&Wt!==""||typeof Wt=="number"||typeof Wt=="bigint")return it=it.get(ut)||null,Oe(Ue,it,""+Wt,Fn);if(typeof Wt=="object"&&Wt!==null){switch(Wt.$$typeof){case Th:return it=it.get(Wt.key===null?ut:Wt.key)||null,qe(Ue,it,Wt,Fn);case jo:return it=it.get(Wt.key===null?ut:Wt.key)||null,Pt(Ue,it,Wt,Fn);case Q:var is=Wt._init;return Wt=is(Wt._payload),wi(it,Ue,ut,Wt,Fn)}if(_n(Wt)||s(Wt))return it=it.get(ut)||null,Jt(Ue,it,Wt,Fn,null);if(typeof Wt.then=="function")return wi(it,Ue,ut,fn(Wt),Fn);if(Wt.$$typeof===Qa)return wi(it,Ue,ut,Ya(Ue,Wt),Fn);fi(Ue,Wt)}return null}function Al(it,Ue,ut,Wt){for(var Fn=null,is=null,di=Ue,dr=Ue=0,ks=null;di!==null&&dr<ut.length;dr++){di.index>dr?(ks=di,di=null):ks=di.sibling;var $i=wn(it,di,ut[dr],Wt);if($i===null){di===null&&(di=ks);break}h&&di&&$i.alternate===null&&p(it,di),Ue=F($i,Ue,dr),is===null?Fn=$i:is.sibling=$i,is=$i,di=ks}if(dr===ut.length)return b(it,di),rr&&ne(it,dr),Fn;if(di===null){for(;dr<ut.length;dr++)di=gn(it,ut[dr],Wt),di!==null&&(Ue=F(di,Ue,dr),is===null?Fn=di:is.sibling=di,is=di);return rr&&ne(it,dr),Fn}for(di=C(di);dr<ut.length;dr++)ks=wi(di,it,dr,ut[dr],Wt),ks!==null&&(h&&ks.alternate!==null&&di.delete(ks.key===null?dr:ks.key),Ue=F(ks,Ue,dr),is===null?Fn=ks:is.sibling=ks,is=ks);return h&&di.forEach(function(yu){return p(it,yu)}),rr&&ne(it,dr),Fn}function Wf(it,Ue,ut,Wt){if(ut==null)throw Error(r(151));for(var Fn=null,is=null,di=Ue,dr=Ue=0,ks=null,$i=ut.next();di!==null&&!$i.done;dr++,$i=ut.next()){di.index>dr?(ks=di,di=null):ks=di.sibling;var yu=wn(it,di,$i.value,Wt);if(yu===null){di===null&&(di=ks);break}h&&di&&yu.alternate===null&&p(it,di),Ue=F(yu,Ue,dr),is===null?Fn=yu:is.sibling=yu,is=yu,di=ks}if($i.done)return b(it,di),rr&&ne(it,dr),Fn;if(di===null){for(;!$i.done;dr++,$i=ut.next())$i=gn(it,$i.value,Wt),$i!==null&&(Ue=F($i,Ue,dr),is===null?Fn=$i:is.sibling=$i,is=$i);return rr&&ne(it,dr),Fn}for(di=C(di);!$i.done;dr++,$i=ut.next())$i=wi(di,it,dr,$i.value,Wt),$i!==null&&(h&&$i.alternate!==null&&di.delete($i.key===null?dr:$i.key),Ue=F($i,Ue,dr),is===null?Fn=$i:is.sibling=$i,is=$i);return h&&di.forEach(function(ev){return p(it,ev)}),rr&&ne(it,dr),Fn}function Xf(it,Ue,ut,Wt){if(typeof ut=="object"&&ut!==null&&ut.type===iu&&ut.key===null&&(ut=ut.props.children),typeof ut=="object"&&ut!==null){switch(ut.$$typeof){case Th:e:{for(var Fn=ut.key;Ue!==null;){if(Ue.key===Fn){if(Fn=ut.type,Fn===iu){if(Ue.tag===7){b(it,Ue.sibling),Wt=I(Ue,ut.props.children),Wt.return=it,it=Wt;break e}}else if(Ue.elementType===Fn||typeof Fn=="object"&&Fn!==null&&Fn.$$typeof===Q&&Ur(Fn)===Ue.type){b(it,Ue.sibling),Wt=I(Ue,ut.props),ui(Wt,ut),Wt.return=it,it=Wt;break e}b(it,Ue);break}else p(it,Ue);Ue=Ue.sibling}ut.type===iu?(Wt=ls(ut.props.children,it.mode,Wt,ut.key),Wt.return=it,it=Wt):(Wt=pl(ut.type,ut.key,ut.props,null,it.mode,Wt),ui(Wt,ut),Wt.return=it,it=Wt)}return ce(it);case jo:e:{for(Fn=ut.key;Ue!==null;){if(Ue.key===Fn)if(Ue.tag===4&&Ue.stateNode.containerInfo===ut.containerInfo&&Ue.stateNode.implementation===ut.implementation){b(it,Ue.sibling),Wt=I(Ue,ut.children||[]),Wt.return=it,it=Wt;break e}else{b(it,Ue);break}else p(it,Ue);Ue=Ue.sibling}Wt=Ud(ut,it.mode,Wt),Wt.return=it,it=Wt}return ce(it);case Q:return Fn=ut._init,ut=Fn(ut._payload),Xf(it,Ue,ut,Wt)}if(_n(ut))return Al(it,Ue,ut,Wt);if(s(ut)){if(Fn=s(ut),typeof Fn!="function")throw Error(r(150));return ut=Fn.call(ut),Wf(it,Ue,ut,Wt)}if(typeof ut.then=="function")return Xf(it,Ue,fn(ut),Wt);if(ut.$$typeof===Qa)return Xf(it,Ue,Ya(it,ut),Wt);fi(it,ut)}return typeof ut=="string"&&ut!==""||typeof ut=="number"||typeof ut=="bigint"?(ut=""+ut,Ue!==null&&Ue.tag===6?(b(it,Ue.sibling),Wt=I(Ue,ut),Wt.return=it,it=Wt):(b(it,Ue),Wt=Df(ut,it.mode,Wt),Wt.return=it,it=Wt),ce(it)):b(it,Ue)}return function(it,Ue,ut,Wt){try{Ff=0;var Fn=Xf(it,Ue,ut,Wt);return Hf=null,Fn}catch(di){if(di===Jd)throw di;var is=t(29,di,null,it.mode);return is.lanes=Wt,is.return=it,is}finally{}}}function Ki(h,p){h=to,P(ep,h),P(qr,p),to=h|p.baseLanes}function xr(){P(ep,to),P(qr,qr.current)}function Br(){to=ep.current,w(qr),w(ep)}function ps(h){var p=h.alternate;P(la,la.current&1),P(bl,h),Hr===null&&(p===null||qr.current!==null||p.memoizedState!==null)&&(Hr=h)}function lo(h){if(h.tag===22){if(P(la,la.current),P(bl,h),Hr===null){var p=h.alternate;p!==null&&p.memoizedState!==null&&(Hr=h)}}else Ls()}function Ls(){P(la,la.current),P(bl,bl.current)}function Un(h){w(bl),Hr===h&&(Hr=null),w(la)}function rs(h){for(var p=h;p!==null;){if(p.tag===13){var b=p.memoizedState;if(b!==null&&(b=b.dehydrated,b===null||Ig(b)||zg(b)))return p}else if(p.tag===19&&p.memoizedProps.revealOrder!==void 0){if((p.flags&128)!==0)return p}else if(p.child!==null){p.child.return=p,p=p.child;continue}if(p===h)break;for(;p.sibling===null;){if(p.return===null||p.return===h)return null;p=p.return}p.sibling.return=p.return,p=p.sibling}return null}function Gi(){throw Error(r(321))}function K(h,p){if(p===null)return!1;for(var b=0;b<p.length&&b<h.length;b++)if(!Wo(h[b],p[b]))return!1;return!0}function oe(h,p,b,C,I,F){return Xu=F,Ni=p,p.memoizedState=null,p.updateQueue=null,p.lanes=0,Pe.H=h===null||h.memoizedState===null?jf:So,Gf=!1,F=b(C,I),Gf=!1,Hh&&(F=Ke(p,b,C,I)),De(h),F}function De(h){Pe.H=As;var p=Jn!==null&&Jn.next!==null;if(Xu=0,lr=Jn=Ni=null,nc=!1,Fh=0,Ta=null,p)throw Error(r(300));h===null||Fr||(h=h.dependencies,h!==null&&ia(h)&&(Fr=!0))}function Ke(h,p,b,C){Ni=h;var I=0;do{if(Hh&&(Ta=null),Fh=0,Hh=!1,25<=I)throw Error(r(301));if(I+=1,lr=Jn=null,h.updateQueue!=null){var F=h.updateQueue;F.lastEffect=null,F.events=null,F.stores=null,F.memoCache!=null&&(F.memoCache.index=0)}Pe.H=xl,F=p(b,C)}while(Hh);return F}function Je(){var h=Pe.H,p=h.useState()[0];return p=typeof p.then=="function"?we(p):p,h=h.useState()[0],(Jn!==null?Jn.memoizedState:null)!==h&&(Ni.flags|=1024),p}function nt(){var h=qg!==0;return qg=0,h}function Ut(h,p,b){p.updateQueue=h.updateQueue,p.flags&=-2053,h.lanes&=~b}function wt(h){if(nc){for(h=h.memoizedState;h!==null;){var p=h.queue;p!==null&&(p.pending=null),h=h.next}nc=!1}Xu=0,lr=Jn=Ni=null,Hh=!1,Fh=qg=0,Ta=null}function Y(){var h={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return lr===null?Ni.memoizedState=lr=h:lr=lr.next=h,lr}function ve(){if(Jn===null){var h=Ni.alternate;h=h!==null?h.memoizedState:null}else h=Jn.next;var p=lr===null?Ni.memoizedState:lr.next;if(p!==null)lr=p,Jn=h;else{if(h===null)throw Ni.alternate===null?Error(r(467)):Error(r(310));Jn=h,h={memoizedState:Jn.memoizedState,baseState:Jn.baseState,baseQueue:Jn.baseQueue,queue:Jn.queue,next:null},lr===null?Ni.memoizedState=lr=h:lr=lr.next=h}return lr}function we(h){var p=Fh;return Fh+=1,Ta===null&&(Ta=[]),h=Ct(Ta,h,p),p=Ni,(lr===null?p.memoizedState:lr.next)===null&&(p=p.alternate,Pe.H=p===null||p.memoizedState===null?jf:So),h}function Me(h){if(h!==null&&typeof h=="object"){if(typeof h.then=="function")return we(h);if(h.$$typeof===Qa)return mr(h)}throw Error(r(438,String(h)))}function Ne(h){var p=null,b=Ni.updateQueue;if(b!==null&&(p=b.memoCache),p==null){var C=Ni.alternate;C!==null&&(C=C.updateQueue,C!==null&&(C=C.memoCache,C!=null&&(p={data:C.data.map(function(I){return I.slice()}),index:0})))}if(p==null&&(p={data:[],index:0}),b===null&&(b=Wg(),Ni.updateQueue=b),b.memoCache=p,b=p.data[p.index],b===void 0)for(b=p.data[p.index]=Array(h),C=0;C<h;C++)b[C]=j;return p.index++,b}function Ye(h,p){return typeof p=="function"?p(h):p}function pt(h){var p=ve();return Tt(p,Jn,h)}function Tt(h,p,b){var C=h.queue;if(C===null)throw Error(r(311));C.lastRenderedReducer=b;var I=h.baseQueue,F=C.pending;if(F!==null){if(I!==null){var ce=I.next;I.next=F.next,F.next=ce}p.baseQueue=I=F,C.pending=null}if(F=h.baseState,I===null)h.memoizedState=F;else{p=I.next;var Oe=ce=null,qe=null,Pt=p,Jt=!1;do{var gn=Pt.lane&-536870913;if(gn!==Pt.lane?(Yi&gn)===gn:(Xu&gn)===gn){var wn=Pt.revertLane;if(wn===0)qe!==null&&(qe=qe.next={lane:0,revertLane:0,action:Pt.action,hasEagerState:Pt.hasEagerState,eagerState:Pt.eagerState,next:null}),gn===_l&&(Jt=!0);else if((Xu&wn)===wn){Pt=Pt.next,wn===_l&&(Jt=!0);continue}else gn={lane:0,revertLane:Pt.revertLane,action:Pt.action,hasEagerState:Pt.hasEagerState,eagerState:Pt.eagerState,next:null},qe===null?(Oe=qe=gn,ce=F):qe=qe.next=gn,Ni.lanes|=wn,Tl|=wn;gn=Pt.action,Gf&&b(F,gn),F=Pt.hasEagerState?Pt.eagerState:b(F,gn)}else wn={lane:gn,revertLane:Pt.revertLane,action:Pt.action,hasEagerState:Pt.hasEagerState,eagerState:Pt.eagerState,next:null},qe===null?(Oe=qe=wn,ce=F):qe=qe.next=wn,Ni.lanes|=gn,Tl|=gn;Pt=Pt.next}while(Pt!==null&&Pt!==p);if(qe===null?ce=F:qe.next=Oe,!Wo(F,h.memoizedState)&&(Fr=!0,Jt&&(b=Bh,b!==null)))throw b;h.memoizedState=F,h.baseState=ce,h.baseQueue=qe,C.lastRenderedState=F}return I===null&&(C.lanes=0),[h.memoizedState,C.dispatch]}function Nt(h){var p=ve(),b=p.queue;if(b===null)throw Error(r(311));b.lastRenderedReducer=h;var C=b.dispatch,I=b.pending,F=p.memoizedState;if(I!==null){b.pending=null;var ce=I=I.next;do F=h(F,ce.action),ce=ce.next;while(ce!==I);Wo(F,p.memoizedState)||(Fr=!0),p.memoizedState=F,p.baseQueue===null&&(p.baseState=F),b.lastRenderedState=F}return[F,C]}function rn(h,p,b){var C=Ni,I=ve(),F=rr;if(F){if(b===void 0)throw Error(r(407));b=b()}else b=p();var ce=!Wo((Jn||I).memoizedState,b);if(ce&&(I.memoizedState=b,Fr=!0),I=I.queue,Du(Pn.bind(null,C,I,h),[h]),I.getSnapshot!==p||ce||lr!==null&&lr.memoizedState.tag&1){if(C.flags|=2048,Ss(9,sn.bind(null,C,I,b,p),{destroy:void 0},null),Er===null)throw Error(r(349));F||(Xu&60)!==0||en(C,p,b)}return b}function en(h,p,b){h.flags|=16384,h={getSnapshot:p,value:b},p=Ni.updateQueue,p===null?(p=Wg(),Ni.updateQueue=p,p.stores=[h]):(b=p.stores,b===null?p.stores=[h]:b.push(h))}function sn(h,p,b,C){p.value=b,p.getSnapshot=C,Cn(p)&&xi(h)}function Pn(h,p,b){return b(function(){Cn(p)&&xi(h)})}function Cn(h){var p=h.getSnapshot;h=h.value;try{var b=p();return!Wo(h,b)}catch{return!0}}function xi(h){var p=At(h,2);p!==null&&Xs(p,h,2)}function an(h){var p=Y();if(typeof h=="function"){var b=h;if(h=b(),Gf){de(!0);try{b()}finally{de(!1)}}}return p.memoizedState=p.baseState=h,p.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ye,lastRenderedState:h},p}function In(h,p,b,C){return h.baseState=b,Tt(h,Jn,typeof C=="function"?C:Ye)}function xn(h,p,b,C,I){if(ol(h))throw Error(r(485));if(h=p.action,h!==null){var F={payload:I,action:h,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(ce){F.listeners.push(ce)}};Pe.T!==null?b(!0):F.isTransition=!1,C(F),b=p.pending,b===null?(F.next=p.pending=F,Di(p,F)):(F.next=b.next,p.pending=b.next=F)}}function Di(h,p){var b=p.action,C=p.payload,I=h.state;if(p.isTransition){var F=Pe.T,ce={};Pe.T=ce;try{var Oe=b(I,C),qe=Pe.S;qe!==null&&qe(ce,Oe),$n(h,p,Oe)}catch(Pt){Mi(h,p,Pt)}finally{Pe.T=F}}else try{F=b(I,C),$n(h,p,F)}catch(Pt){Mi(h,p,Pt)}}function $n(h,p,b){b!==null&&typeof b=="object"&&typeof b.then=="function"?b.then(function(C){qn(h,p,C)},function(C){return Mi(h,p,C)}):qn(h,p,b)}function qn(h,p,b){p.status="fulfilled",p.value=b,Sn(p),h.state=b,p=h.pending,p!==null&&(b=p.next,b===p?h.pending=null:(b=b.next,p.next=b,Di(h,b)))}function Mi(h,p,b){var C=h.pending;if(h.pending=null,C!==null){C=C.next;do p.status="rejected",p.reason=b,Sn(p),p=p.next;while(p!==C)}h.action=null}function Sn(h){h=h.listeners;for(var p=0;p<h.length;p++)(0,h[p])()}function Zn(h,p){return p}function kn(h,p){if(rr){var b=Er.formState;if(b!==null){e:{var C=Ni;if(rr){if(Ba){var I=Hy(Ba,Ea);if(I){Ba=Fy(I),C=g1(I);break e}}yt(C)}C=!1}C&&(p=b[0])}}b=Y(),b.memoizedState=b.baseState=p,C={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zn,lastRenderedState:p},b.queue=C,b=Wc.bind(null,Ni,C),C.dispatch=b,C=an(!1);var F=$l.bind(null,Ni,!1,C.queue);return C=Y(),I={state:p,dispatch:null,action:h,pending:null},C.queue=I,b=xn.bind(null,Ni,I,F,b),I.dispatch=b,C.memoizedState=h,[p,b,!1]}function pr(h){var p=ve();return ei(p,Jn,h)}function ei(h,p,b){p=Tt(h,p,Zn)[0],h=pt(Ye)[0],p=typeof p=="object"&&p!==null&&typeof p.then=="function"?we(p):p;var C=ve(),I=C.queue,F=I.dispatch;return b!==C.memoizedState&&(Ni.flags|=2048,Ss(9,Ai.bind(null,I,b),{destroy:void 0},null)),[p,F,h]}function Ai(h,p){h.action=p}function fr(h){var p=ve(),b=Jn;if(b!==null)return ei(p,b,h);ve(),p=p.memoizedState,b=ve();var C=b.queue.dispatch;return b.memoizedState=h,[p,C,!1]}function Ss(h,p,b,C){return h={tag:h,create:p,inst:b,deps:C,next:null},p=Ni.updateQueue,p===null&&(p=Wg(),Ni.updateQueue=p),b=p.lastEffect,b===null?p.lastEffect=h.next=h:(C=b.next,b.next=h,h.next=C,p.lastEffect=h),h}function na(){return ve().memoizedState}function Oa(h,p,b,C){var I=Y();Ni.flags|=h,I.memoizedState=Ss(1|p,b,{destroy:void 0},C===void 0?null:C)}function ja(h,p,b,C){var I=ve();C=C===void 0?null:C;var F=I.memoizedState.inst;Jn!==null&&C!==null&&K(C,Jn.memoizedState.deps)?I.memoizedState=Ss(p,b,F,C):(Ni.flags|=h,I.memoizedState=Ss(1|p,b,F,C))}function co(h,p){Oa(8390656,8,h,p)}function Du(h,p){ja(2048,8,h,p)}function vc(h,p){return ja(4,2,h,p)}function ya(h,p){return ja(4,4,h,p)}function jc(h,p){if(typeof p=="function"){h=h();var b=p(h);return function(){typeof b=="function"?b():p(null)}}if(p!=null)return h=h(),p.current=h,function(){p.current=null}}function $a(h,p,b){b=b!=null?b.concat([h]):null,ja(4,4,jc.bind(null,p,h),b)}function qa(){}function Gl(h,p){var b=ve();p=p===void 0?null:p;var C=b.memoizedState;return p!==null&&K(p,C[1])?C[0]:(b.memoizedState=[h,p],h)}function jl(h,p){var b=ve();p=p===void 0?null:p;var C=b.memoizedState;if(p!==null&&K(p,C[1]))return C[0];if(C=h(),Gf){de(!0);try{h()}finally{de(!1)}}return b.memoizedState=[C,p],C}function yc(h,p,b){return b===void 0||(Xu&1073741824)!==0?h.memoizedState=p:(h.memoizedState=b,h=Yp(),Ni.lanes|=h,Tl|=h,b)}function _c(h,p,b,C){return Wo(b,p)?b:qr.current!==null?(h=yc(h,b,C),Wo(h,p)||(Fr=!0),h):(Xu&42)===0?(Fr=!0,h.memoizedState=b):(h=Yp(),Ni.lanes|=h,Tl|=h,p)}function sl(h,p,b,C,I){var F=Ys();Ui(F!==0&&8>F?F:8);var ce=Pe.T,Oe={};Pe.T=Oe,$l(h,!1,p,b);try{var qe=I(),Pt=Pe.S;if(Pt!==null&&Pt(Oe,qe),qe!==null&&typeof qe=="object"&&typeof qe.then=="function"){var Jt=jt(qe,C);ho(h,p,Jt,ys(h))}else ho(h,p,C,ys(h))}catch(gn){ho(h,p,{then:function(){},status:"rejected",reason:gn},ys())}finally{Ui(F),Pe.T=ce}}function uo(h){var p=h.memoizedState;if(p!==null)return p;p={memoizedState:Tc,baseState:Tc,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ye,lastRenderedState:Tc},next:null};var b={};return p.next={memoizedState:b,baseState:b,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ye,lastRenderedState:b},next:null},h.memoizedState=p,h=h.alternate,h!==null&&(h.memoizedState=p),p}function $c(){return mr($o)}function fo(){return ve().memoizedState}function al(){return ve().memoizedState}function xf(h){for(var p=h.return;p!==null;){switch(p.tag){case 24:case 3:var b=ys();h=dt(b);var C=kt(p,h,b);C!==null&&(Xs(C,p,b),cn(C,p,b)),p={cache:ko()},h.payload=p;return}p=p.return}}function qc(h,p,b){var C=ys();b={lane:C,revertLane:0,action:b,hasEagerState:!1,eagerState:null,next:null},ol(h)?Ns(p,b):(b=Mt(h,p,b,C),b!==null&&(Xs(b,h,C),No(b,p,C)))}function Wc(h,p,b){var C=ys();ho(h,p,b,C)}function ho(h,p,b,C){var I={lane:C,revertLane:0,action:b,hasEagerState:!1,eagerState:null,next:null};if(ol(h))Ns(p,I);else{var F=h.alternate;if(h.lanes===0&&(F===null||F.lanes===0)&&(F=p.lastRenderedReducer,F!==null))try{var ce=p.lastRenderedState,Oe=F(ce,b);if(I.hasEagerState=!0,I.eagerState=Oe,Wo(Oe,ce))return Et(h,p,I,0),Er===null&&fe(),!1}catch{}finally{}if(b=Mt(h,p,I,C),b!==null)return Xs(b,h,C),No(b,p,C),!0}return!1}function $l(h,p,b,C){if(C={lane:2,revertLane:ht(),action:C,hasEagerState:!1,eagerState:null,next:null},ol(h)){if(p)throw Error(r(479))}else p=Mt(h,b,C,2),p!==null&&Xs(p,h,2)}function ol(h){var p=h.alternate;return h===Ni||p!==null&&p===Ni}function Ns(h,p){Hh=nc=!0;var b=h.pending;b===null?p.next=p:(p.next=b.next,b.next=p),h.pending=p}function No(h,p,b){if((b&4194176)!==0){var C=p.lanes;C&=h.pendingLanes,b|=C,p.lanes=b,ye(h,b)}}function ll(h,p,b,C){p=h.memoizedState,b=b(C,p),b=b==null?p:Bd({},p,b),h.memoizedState=b,h.lanes===0&&(h.updateQueue.baseState=b)}function Io(h,p,b,C,I,F,ce){return h=h.stateNode,typeof h.shouldComponentUpdate=="function"?h.shouldComponentUpdate(C,F,ce):p.prototype&&p.prototype.isPureReactComponent?!xt(b,C)||!xt(I,F):!0}function Sf(h,p,b,C){h=p.state,typeof p.componentWillReceiveProps=="function"&&p.componentWillReceiveProps(b,C),typeof p.UNSAFE_componentWillReceiveProps=="function"&&p.UNSAFE_componentWillReceiveProps(b,C),p.state!==h&&hu.enqueueReplaceState(p,p.state,null)}function zo(h,p){var b=p;if("ref"in p){b={};for(var C in p)C!=="ref"&&(b[C]=p[C])}if(h=h.defaultProps){b===p&&(b=Bd({},b));for(var I in h)b[I]===void 0&&(b[I]=h[I])}return b}function Uo(h,p){try{var b=h.onUncaughtError;b(p.value,{componentStack:p.stack})}catch(C){setTimeout(function(){throw C})}}function Wa(h,p,b){try{var C=h.onCaughtError;C(b.value,{componentStack:b.stack,errorBoundary:p.tag===1?p.stateNode:null})}catch(I){setTimeout(function(){throw I})}}function ql(h,p,b){return b=dt(b),b.tag=3,b.payload={element:null},b.callback=function(){Uo(h,p)},b}function Xc(h){return h=dt(h),h.tag=3,h}function bc(h,p,b,C){var I=b.type.getDerivedStateFromError;if(typeof I=="function"){var F=C.value;h.payload=function(){return I(F)},h.callback=function(){Wa(p,b,C)}}var ce=b.stateNode;ce!==null&&typeof ce.componentDidCatch=="function"&&(h.callback=function(){Wa(p,b,C),typeof I!="function"&&($f===null?$f=new Set([this]):$f.add(this));var Oe=C.stack;this.componentDidCatch(C.value,{componentStack:Oe!==null?Oe:""})})}function qp(h,p,b,C,I){if(b.flags|=32768,C!==null&&typeof C=="object"&&typeof C.then=="function"){if(p=b.alternate,p!==null&&gs(p,b,I,!0),b=bl.current,b!==null){switch(b.tag){case 13:return Hr===null?Ia():b.alternate===null&&Vr===0&&(Vr=3),b.flags&=-257,b.flags|=65536,b.lanes=I,C===ym?b.flags|=16384:(p=b.updateQueue,p===null?b.updateQueue=new Set([C]):p.add(C),dl(h,C,I)),!1;case 22:return b.flags|=65536,C===ym?b.flags|=16384:(p=b.updateQueue,p===null?(p={transitions:null,markerInstances:null,retryQueue:new Set([C])},b.updateQueue=p):(b=p.retryQueue,b===null?p.retryQueue=new Set([C]):b.add(C)),dl(h,C,I)),!1}throw Error(r(435,b.tag))}return dl(h,C,I),Ia(),!1}if(rr)return p=bl.current,p!==null?((p.flags&65536)===0&&(p.flags|=256),p.flags|=65536,p.lanes=I,C!==mm&&(h=Error(r(422),{cause:C}),dn(Le(h,b)))):(C!==mm&&(p=Error(r(423),{cause:C}),dn(Le(p,b))),h=h.current.alternate,h.flags|=65536,I&=-I,h.lanes|=I,C=Le(C,b),I=ql(h.stateNode,C,I),Ee(h,I),Vr!==4&&(Vr=2)),!1;var F=Error(r(520),{cause:C});if(F=Le(F,b),Gh===null?Gh=[F]:Gh.push(F),Vr!==4&&(Vr=2),p===null)return!0;C=Le(C,b),b=p;do{switch(b.tag){case 3:return b.flags|=65536,h=I&-I,b.lanes|=h,h=ql(b.stateNode,C,h),Ee(b,h),!1;case 1:if(p=b.type,F=b.stateNode,(b.flags&128)===0&&(typeof p.getDerivedStateFromError=="function"||F!==null&&typeof F.componentDidCatch=="function"&&($f===null||!$f.has(F))))return b.flags|=65536,I&=-I,b.lanes|=I,I=Xc(I),bc(I,h,b,C),Ee(b,I),!1}b=b.return}while(b!==null);return!1}function ws(h,p,b,C){p.child=h===null?fu(p,null,b,C):Vf(p,h.child,b,C)}function S(h,p,b,C,I){b=b.render;var F=p.ref;if("ref"in C){var ce={};for(var Oe in C)Oe!=="ref"&&(ce[Oe]=C[Oe])}else ce=C;return Is(p),C=oe(h,p,b,ce,F,I),Oe=nt(),h!==null&&!Fr?(Ut(h,p,I),ms(h,p,I)):(rr&&Oe&&ze(p),p.flags|=1,ws(h,p,C,I),p.child)}function R(h,p,b,C,I){if(h===null){var F=b.type;return typeof F=="function"&&!Sh(F)&&F.defaultProps===void 0&&b.compare===null?(p.tag=15,p.type=F,U(h,p,F,C,I)):(h=pl(b.type,null,C,p,p.mode,I),h.ref=p.ref,h.return=p,p.child=h)}if(F=h.child,!Xa(h,I)){var ce=F.memoizedProps;if(b=b.compare,b=b!==null?b:xt,b(ce,C)&&h.ref===p.ref)return ms(h,p,I)}return p.flags|=1,h=Vo(F,C),h.ref=p.ref,h.return=p,p.child=h}function U(h,p,b,C,I){if(h!==null){var F=h.memoizedProps;if(xt(F,C)&&h.ref===p.ref)if(Fr=!1,p.pendingProps=C=F,Xa(h,I))(h.flags&131072)!==0&&(Fr=!0);else return p.lanes=h.lanes,ms(h,p,I)}return te(h,p,b,C,I)}function B(h,p,b){var C=p.pendingProps,I=C.children,F=(p.stateNode._pendingVisibility&2)!==0,ce=h!==null?h.memoizedState:null;if(W(h,p),C.mode==="hidden"||F){if((p.flags&128)!==0){if(C=ce!==null?ce.baseLanes|b:b,h!==null){for(I=p.child=h.child,F=0;I!==null;)F=F|I.lanes|I.childLanes,I=I.sibling;p.childLanes=F&~C}else p.childLanes=0,p.child=null;return q(h,p,C,b)}if((b&536870912)!==0)p.memoizedState={baseLanes:0,cachePool:null},h!==null&&wf(p,ce!==null?ce.cachePool:null),ce!==null?Ki(p,ce):xr(),lo(p);else return p.lanes=p.childLanes=536870912,q(h,p,ce!==null?ce.baseLanes|b:b,b)}else ce!==null?(wf(p,ce.cachePool),Ki(p,ce),Ls(),p.memoizedState=null):(h!==null&&wf(p,null),xr(),Ls());return ws(h,p,I,b),p.child}function q(h,p,b,C){var I=po();return I=I===null?null:{parent:ji?Wr._currentValue:Wr._currentValue2,pool:I},p.memoizedState={baseLanes:b,cachePool:I},h!==null&&wf(p,null),xr(),lo(p),h!==null&&gs(h,p,C,!0),null}function W(h,p){var b=p.ref;if(b===null)h!==null&&h.ref!==null&&(p.flags|=2097664);else{if(typeof b!="function"&&typeof b!="object")throw Error(r(284));(h===null||h.ref!==b)&&(p.flags|=2097664)}}function te(h,p,b,C,I){return Is(p),b=oe(h,p,b,C,void 0,I),C=nt(),h!==null&&!Fr?(Ut(h,p,I),ms(h,p,I)):(rr&&C&&ze(p),p.flags|=1,ws(h,p,b,I),p.child)}function Ce(h,p,b,C,I,F){return Is(p),p.updateQueue=null,b=Ke(p,C,b,I),De(h),C=nt(),h!==null&&!Fr?(Ut(h,p,F),ms(h,p,F)):(rr&&C&&ze(p),p.flags|=1,ws(h,p,b,F),p.child)}function _e(h,p,b,C,I){if(Is(p),p.stateNode===null){var F=Uf,ce=b.contextType;typeof ce=="object"&&ce!==null&&(F=mr(ce)),F=new b(C,F),p.memoizedState=F.state!==null&&F.state!==void 0?F.state:null,F.updater=hu,p.stateNode=F,F._reactInternals=p,F=p.stateNode,F.props=C,F.state=p.memoizedState,F.refs={},tn(p),ce=b.contextType,F.context=typeof ce=="object"&&ce!==null?mr(ce):Uf,F.state=p.memoizedState,ce=b.getDerivedStateFromProps,typeof ce=="function"&&(ll(p,b,ce,C),F.state=p.memoizedState),typeof b.getDerivedStateFromProps=="function"||typeof F.getSnapshotBeforeUpdate=="function"||typeof F.UNSAFE_componentWillMount!="function"&&typeof F.componentWillMount!="function"||(ce=F.state,typeof F.componentWillMount=="function"&&F.componentWillMount(),typeof F.UNSAFE_componentWillMount=="function"&&F.UNSAFE_componentWillMount(),ce!==F.state&&hu.enqueueReplaceState(F,F.state,null),Rt(p,C,F,I),Fe(),F.state=p.memoizedState),typeof F.componentDidMount=="function"&&(p.flags|=4194308),C=!0}else if(h===null){F=p.stateNode;var Oe=p.memoizedProps,qe=zo(b,Oe);F.props=qe;var Pt=F.context,Jt=b.contextType;ce=Uf,typeof Jt=="object"&&Jt!==null&&(ce=mr(Jt));var gn=b.getDerivedStateFromProps;Jt=typeof gn=="function"||typeof F.getSnapshotBeforeUpdate=="function",Oe=p.pendingProps!==Oe,Jt||typeof F.UNSAFE_componentWillReceiveProps!="function"&&typeof F.componentWillReceiveProps!="function"||(Oe||Pt!==ce)&&Sf(p,F,C,ce),Wu=!1;var wn=p.memoizedState;F.state=wn,Rt(p,C,F,I),Fe(),Pt=p.memoizedState,Oe||wn!==Pt||Wu?(typeof gn=="function"&&(ll(p,b,gn,C),Pt=p.memoizedState),(qe=Wu||Io(p,b,qe,C,wn,Pt,ce))?(Jt||typeof F.UNSAFE_componentWillMount!="function"&&typeof F.componentWillMount!="function"||(typeof F.componentWillMount=="function"&&F.componentWillMount(),typeof F.UNSAFE_componentWillMount=="function"&&F.UNSAFE_componentWillMount()),typeof F.componentDidMount=="function"&&(p.flags|=4194308)):(typeof F.componentDidMount=="function"&&(p.flags|=4194308),p.memoizedProps=C,p.memoizedState=Pt),F.props=C,F.state=Pt,F.context=ce,C=qe):(typeof F.componentDidMount=="function"&&(p.flags|=4194308),C=!1)}else{F=p.stateNode,nn(h,p),ce=p.memoizedProps,Jt=zo(b,ce),F.props=Jt,gn=p.pendingProps,wn=F.context,Pt=b.contextType,qe=Uf,typeof Pt=="object"&&Pt!==null&&(qe=mr(Pt)),Oe=b.getDerivedStateFromProps,(Pt=typeof Oe=="function"||typeof F.getSnapshotBeforeUpdate=="function")||typeof F.UNSAFE_componentWillReceiveProps!="function"&&typeof F.componentWillReceiveProps!="function"||(ce!==gn||wn!==qe)&&Sf(p,F,C,qe),Wu=!1,wn=p.memoizedState,F.state=wn,Rt(p,C,F,I),Fe();var wi=p.memoizedState;ce!==gn||wn!==wi||Wu||h!==null&&h.dependencies!==null&&ia(h.dependencies)?(typeof Oe=="function"&&(ll(p,b,Oe,C),wi=p.memoizedState),(Jt=Wu||Io(p,b,Jt,C,wn,wi,qe)||h!==null&&h.dependencies!==null&&ia(h.dependencies))?(Pt||typeof F.UNSAFE_componentWillUpdate!="function"&&typeof F.componentWillUpdate!="function"||(typeof F.componentWillUpdate=="function"&&F.componentWillUpdate(C,wi,qe),typeof F.UNSAFE_componentWillUpdate=="function"&&F.UNSAFE_componentWillUpdate(C,wi,qe)),typeof F.componentDidUpdate=="function"&&(p.flags|=4),typeof F.getSnapshotBeforeUpdate=="function"&&(p.flags|=1024)):(typeof F.componentDidUpdate!="function"||ce===h.memoizedProps&&wn===h.memoizedState||(p.flags|=4),typeof F.getSnapshotBeforeUpdate!="function"||ce===h.memoizedProps&&wn===h.memoizedState||(p.flags|=1024),p.memoizedProps=C,p.memoizedState=wi),F.props=C,F.state=wi,F.context=qe,C=Jt):(typeof F.componentDidUpdate!="function"||ce===h.memoizedProps&&wn===h.memoizedState||(p.flags|=4),typeof F.getSnapshotBeforeUpdate!="function"||ce===h.memoizedProps&&wn===h.memoizedState||(p.flags|=1024),C=!1)}return F=C,W(h,p),C=(p.flags&128)!==0,F||C?(F=p.stateNode,b=C&&typeof b.getDerivedStateFromError!="function"?null:F.render(),p.flags|=1,h!==null&&C?(p.child=Vf(p,h.child,null,I),p.child=Vf(p,null,b,I)):ws(h,p,b,I),p.memoizedState=F.state,h=p.child):h=ms(h,p,I),h}function He(h,p,b,C){return An(),p.flags|=256,ws(h,p,b,C),p.child}function ft(h){return{baseLanes:h,cachePool:yh()}}function bt(h,p,b){return h=h!==null?h.childLanes&~b:0,p&&(h|=Ml),h}function tt(h,p,b){var C=p.pendingProps,I=!1,F=(p.flags&128)!==0,ce;if((ce=F)||(ce=h!==null&&h.memoizedState===null?!1:(la.current&2)!==0),ce&&(I=!0,p.flags&=-129),ce=(p.flags&32)!==0,p.flags&=-33,h===null){if(rr){if(I?ps(p):Ls(),rr){var Oe=Ba,qe;(qe=Oe)&&(Oe=_1(Oe,Ea),Oe!==null?(p.memoizedState={dehydrated:Oe,treeContext:Bf!==null?{id:Cc,overflow:Rc}:null,retryLane:536870912},qe=t(18,null,null,0),qe.stateNode=Oe,qe.return=p,p.child=qe,Ua=p,Ba=null,qe=!0):qe=!1),qe||yt(p)}if(Oe=p.memoizedState,Oe!==null&&(Oe=Oe.dehydrated,Oe!==null))return zg(Oe)?p.lanes=16:p.lanes=536870912,null;Un(p)}return Oe=C.children,C=C.fallback,I?(Ls(),I=p.mode,Oe=Wn({mode:"hidden",children:Oe},I),C=ls(C,I,b,null),Oe.return=p,C.return=p,Oe.sibling=C,p.child=Oe,I=p.child,I.memoizedState=ft(b),I.childLanes=bt(h,ce,b),p.memoizedState=Zg,C):(ps(p),Ft(p,Oe))}if(qe=h.memoizedState,qe!==null&&(Oe=qe.dehydrated,Oe!==null)){if(F)p.flags&256?(ps(p),p.flags&=-257,p=Ei(h,p,b)):p.memoizedState!==null?(Ls(),p.child=h.child,p.flags|=128,p=null):(Ls(),I=C.fallback,Oe=p.mode,C=Wn({mode:"visible",children:C.children},Oe),I=ls(I,Oe,b,null),I.flags|=2,C.return=p,I.return=p,C.sibling=I,p.child=C,Vf(p,h.child,null,b),C=p.child,C.memoizedState=ft(b),C.childLanes=bt(h,ce,b),p.memoizedState=Zg,p=I);else if(ps(p),zg(Oe))ce=p1(Oe).digest,C=Error(r(419)),C.stack="",C.digest=ce,dn({value:C,source:null,stack:null}),p=Ei(h,p,b);else if(Fr||gs(h,p,b,!1),ce=(b&h.childLanes)!==0,Fr||ce){if(ce=Er,ce!==null){if(C=b&-b,(C&42)!==0)C=1;else switch(C){case 2:C=1;break;case 8:C=4;break;case 32:C=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:C=64;break;case 268435456:C=134217728;break;default:C=0}if(C=(C&(ce.suspendedLanes|b))!==0?0:C,C!==0&&C!==qe.retryLane)throw qe.retryLane=C,At(h,C),Xs(ce,h,C),Yg}Ig(Oe)||Ia(),p=Ei(h,p,b)}else Ig(Oe)?(p.flags|=128,p.child=h.child,p=wc.bind(null,h),m1(Oe,p),p=null):(h=qe.treeContext,or&&(Ba=y1(Oe),Ua=p,rr=!0,ec=null,Ea=!1,h!==null&&(vl[yl++]=Cc,vl[yl++]=Rc,vl[yl++]=Bf,Cc=h.id,Rc=h.overflow,Bf=p)),p=Ft(p,C.children),p.flags|=4096);return p}return I?(Ls(),I=C.fallback,Oe=p.mode,qe=h.child,F=qe.sibling,C=Vo(qe,{mode:"hidden",children:C.children}),C.subtreeFlags=qe.subtreeFlags&31457280,F!==null?I=Vo(F,I):(I=ls(I,Oe,b,null),I.flags|=2),I.return=p,C.return=p,C.sibling=I,p.child=C,C=I,I=p.child,Oe=h.child.memoizedState,Oe===null?Oe=ft(b):(qe=Oe.cachePool,qe!==null?(F=ji?Wr._currentValue:Wr._currentValue2,qe=qe.parent!==F?{parent:F,pool:F}:qe):qe=yh(),Oe={baseLanes:Oe.baseLanes|b,cachePool:qe}),I.memoizedState=Oe,I.childLanes=bt(h,ce,b),p.memoizedState=Zg,C):(ps(p),b=h.child,h=b.sibling,b=Vo(b,{mode:"visible",children:C.children}),b.return=p,b.sibling=null,h!==null&&(ce=p.deletions,ce===null?(p.deletions=[h],p.flags|=16):ce.push(h)),p.child=b,p.memoizedState=null,b)}function Ft(h,p){return p=Wn({mode:"visible",children:p},h.mode),p.return=h,h.child=p}function Wn(h,p){return Pf(h,p,0,null)}function Ei(h,p,b){return Vf(p,h.child,null,b),h=Ft(p,p.pendingProps.children),h.flags|=2,p.memoizedState=null,h}function Kn(h,p,b){h.lanes|=p;var C=h.alternate;C!==null&&(C.lanes|=p),Bo(h.return,p,b)}function es(h,p,b,C,I){var F=h.memoizedState;F===null?h.memoizedState={isBackwards:p,rendering:null,renderingStartTime:0,last:C,tail:b,tailMode:I}:(F.isBackwards=p,F.rendering=null,F.renderingStartTime=0,F.last=C,F.tail=b,F.tailMode=I)}function ss(h,p,b){var C=p.pendingProps,I=C.revealOrder,F=C.tail;if(ws(h,p,C.children,b),C=la.current,(C&2)!==0)C=C&1|2,p.flags|=128;else{if(h!==null&&(h.flags&128)!==0)e:for(h=p.child;h!==null;){if(h.tag===13)h.memoizedState!==null&&Kn(h,b,p);else if(h.tag===19)Kn(h,b,p);else if(h.child!==null){h.child.return=h,h=h.child;continue}if(h===p)break e;for(;h.sibling===null;){if(h.return===null||h.return===p)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}C&=1}switch(P(la,C),I){case"forwards":for(b=p.child,I=null;b!==null;)h=b.alternate,h!==null&&rs(h)===null&&(I=b),b=b.sibling;b=I,b===null?(I=p.child,p.child=null):(I=b.sibling,b.sibling=null),es(p,!1,I,b,F);break;case"backwards":for(b=null,I=p.child,p.child=null;I!==null;){if(h=I.alternate,h!==null&&rs(h)===null){p.child=I;break}h=I.sibling,I.sibling=b,b=I,I=h}es(p,!0,b,null,F);break;case"together":es(p,!1,null,null,void 0);break;default:p.memoizedState=null}return p.child}function ms(h,p,b){if(h!==null&&(p.dependencies=h.dependencies),Tl|=p.lanes,(b&p.childLanes)===0)if(h!==null){if(gs(h,p,b,!1),(b&p.childLanes)===0)return null}else return null;if(h!==null&&p.child!==h.child)throw Error(r(153));if(p.child!==null){for(h=p.child,b=Vo(h,h.pendingProps),p.child=b,b.return=p;h.sibling!==null;)h=h.sibling,b=b.sibling=Vo(h,h.pendingProps),b.return=p;b.sibling=null}return p.child}function Xa(h,p){return(h.lanes&p)!==0?!0:(h=h.dependencies,!!(h!==null&&ia(h)))}function Li(h,p,b){switch(p.tag){case 3:xe(p,p.stateNode.containerInfo),yi(p,Wr,h.memoizedState.cache),An();break;case 27:case 5:Ze(p);break;case 4:xe(p,p.stateNode.containerInfo);break;case 10:yi(p,p.type,p.memoizedProps.value);break;case 13:var C=p.memoizedState;if(C!==null)return C.dehydrated!==null?(ps(p),p.flags|=128,null):(b&p.child.childLanes)!==0?tt(h,p,b):(ps(p),h=ms(h,p,b),h!==null?h.sibling:null);ps(p);break;case 19:var I=(h.flags&128)!==0;if(C=(b&p.childLanes)!==0,C||(gs(h,p,b,!1),C=(b&p.childLanes)!==0),I){if(C)return ss(h,p,b);p.flags|=128}if(I=p.memoizedState,I!==null&&(I.rendering=null,I.tail=null,I.lastEffect=null),P(la,la.current),C)break;return null;case 22:case 23:return p.lanes=0,B(h,p,b);case 24:yi(p,Wr,h.memoizedState.cache)}return ms(h,p,b)}function Wl(h,p,b){if(h!==null)if(h.memoizedProps!==p.pendingProps)Fr=!0;else{if(!Xa(h,b)&&(p.flags&128)===0)return Fr=!1,Li(h,p,b);Fr=(h.flags&131072)!==0}else Fr=!1,rr&&(p.flags&1048576)!==0&&re(p,Yd,p.index);switch(p.lanes=0,p.tag){case 16:e:{h=p.pendingProps;var C=p.elementType,I=C._init;if(C=I(C._payload),p.type=C,typeof C=="function")Sh(C)?(h=zo(C,h),p.tag=1,p=_e(null,p,C,h,b)):(p.tag=0,p=te(null,p,C,h,b));else{if(C!=null){if(I=C.$$typeof,I===ru){p.tag=11,p=S(null,p,C,h,b);break e}else if(I===su){p.tag=14,p=R(null,p,C,h,b);break e}}throw p=a(C)||C,Error(r(306,p,""))}}return p;case 0:return te(h,p,p.type,p.pendingProps,b);case 1:return C=p.type,I=zo(C,p.pendingProps),_e(h,p,C,I,b);case 3:e:{if(xe(p,p.stateNode.containerInfo),h===null)throw Error(r(387));var F=p.pendingProps;I=p.memoizedState,C=I.element,nn(h,p),Rt(p,F,null,b);var ce=p.memoizedState;if(F=ce.cache,yi(p,Wr,F),F!==I.cache&&cl(p,[Wr],b,!0),Fe(),F=ce.element,or&&I.isDehydrated)if(I={element:F,isDehydrated:!1,cache:ce.cache},p.updateQueue.baseState=I,p.memoizedState=I,p.flags&256){p=He(h,p,F,b);break e}else if(F!==C){C=Le(Error(r(424)),p),dn(C),p=He(h,p,F,b);break e}else for(or&&(Ba=v1(p.stateNode.containerInfo),Ua=p,rr=!0,ec=null,Ea=!0),b=fu(p,null,F,b),p.child=b;b;)b.flags=b.flags&-3|4096,b=b.sibling;else{if(An(),F===C){p=ms(h,p,b);break e}ws(h,p,F,b)}p=p.child}return p;case 26:if(gl)return W(h,p),h===null?(b=jy(p.type,null,p.pendingProps,null))?p.memoizedState=b:rr||(p.stateNode=Fg(p.type,p.pendingProps,cu.current,p)):p.memoizedState=jy(p.type,h.memoizedProps,p.pendingProps,h.memoizedState),null;case 27:if(kr)return Ze(p),h===null&&kr&&rr&&(C=p.stateNode=Ac(p.type,p.pendingProps,cu.current,oa.current,!1),Ua=p,Ea=!0,Ba=Ug(C)),C=p.pendingProps.children,h!==null||rr?ws(h,p,C,b):p.child=Vf(p,null,C,b),W(h,p),p.child;case 5:return h===null&&rr&&(kg(p.type,p.pendingProps,oa.current),(I=C=Ba)&&(C=gE(C,p.type,p.pendingProps,Ea),C!==null?(p.stateNode=C,Ua=p,Ba=Ug(C),Ea=!1,I=!0):I=!1),I||yt(p)),Ze(p),I=p.type,F=p.pendingProps,ce=h!==null?h.memoizedProps:null,C=F.children,ln(I,F)?C=null:ce!==null&&ln(I,ce)&&(p.flags|=32),p.memoizedState!==null&&(I=oe(h,p,Je,null,null,b),ji?$o._currentValue=I:$o._currentValue2=I),W(h,p),ws(h,p,C,b),p.child;case 6:return h===null&&rr&&(E1(p.pendingProps,oa.current),(h=b=Ba)&&(b=Vy(b,p.pendingProps,Ea),b!==null?(p.stateNode=b,Ua=p,Ba=null,h=!0):h=!1),h||yt(p)),null;case 13:return tt(h,p,b);case 4:return xe(p,p.stateNode.containerInfo),C=p.pendingProps,h===null?p.child=Vf(p,null,C,b):ws(h,p,C,b),p.child;case 11:return S(h,p,p.type,p.pendingProps,b);case 7:return ws(h,p,p.pendingProps,b),p.child;case 8:return ws(h,p,p.pendingProps.children,b),p.child;case 12:return ws(h,p,p.pendingProps.children,b),p.child;case 10:return C=p.pendingProps,yi(p,p.type,C.value),ws(h,p,C.children,b),p.child;case 9:return I=p.type._context,C=p.pendingProps.children,Is(p),I=mr(I),C=C(I),p.flags|=1,ws(h,p,C,b),p.child;case 14:return R(h,p,p.type,p.pendingProps,b);case 15:return U(h,p,p.type,p.pendingProps,b);case 19:return ss(h,p,b);case 22:return B(h,p,b);case 24:return Is(p),C=mr(Wr),h===null?(I=po(),I===null&&(I=Er,F=ko(),I.pooledCache=F,F.refCount++,F!==null&&(I.pooledCacheLanes|=b),I=F),p.memoizedState={parent:C,cache:I},tn(p),yi(p,Wr,I)):((h.lanes&b)!==0&&(nn(h,p),Rt(p,null,null,b),Fe()),I=h.memoizedState,F=p.memoizedState,I.parent!==C?(I={parent:C,cache:C},p.memoizedState=I,p.lanes===0&&(p.memoizedState=p.updateQueue.baseState=I),yi(p,Wr,C)):(C=F.cache,yi(p,Wr,C),C!==I.cache&&cl(p,[Wr],b,!0))),ws(h,p,p.pendingProps.children,b),p.child;case 29:throw p.pendingProps}throw Error(r(156,p.tag))}function yi(h,p,b){ji?(P(Yu,p._currentValue),p._currentValue=b):(P(Yu,p._currentValue2),p._currentValue2=b)}function Qi(h){var p=Yu.current;ji?h._currentValue=p:h._currentValue2=p,w(Yu)}function Bo(h,p,b){for(;h!==null;){var C=h.alternate;if((h.childLanes&p)!==p?(h.childLanes|=p,C!==null&&(C.childLanes|=p)):C!==null&&(C.childLanes&p)!==p&&(C.childLanes|=p),h===b)break;h=h.return}}function cl(h,p,b,C){var I=h.child;for(I!==null&&(I.return=h);I!==null;){var F=I.dependencies;if(F!==null){var ce=I.child;F=F.firstContext;e:for(;F!==null;){var Oe=F;F=I;for(var qe=0;qe<p.length;qe++)if(Oe.context===p[qe]){F.lanes|=b,Oe=F.alternate,Oe!==null&&(Oe.lanes|=b),Bo(F.return,b,h),C||(ce=null);break e}F=Oe.next}}else if(I.tag===18){if(ce=I.return,ce===null)throw Error(r(341));ce.lanes|=b,F=ce.alternate,F!==null&&(F.lanes|=b),Bo(ce,b,h),ce=null}else ce=I.child;if(ce!==null)ce.return=I;else for(ce=I;ce!==null;){if(ce===h){ce=null;break}if(I=ce.sibling,I!==null){I.return=ce.return,ce=I;break}ce=ce.return}I=ce}}function gs(h,p,b,C){h=null;for(var I=p,F=!1;I!==null;){if(!F){if((I.flags&524288)!==0)F=!0;else if((I.flags&262144)!==0)break}if(I.tag===10){var ce=I.alternate;if(ce===null)throw Error(r(387));if(ce=ce.memoizedProps,ce!==null){var Oe=I.type;Wo(I.pendingProps.value,ce.value)||(h!==null?h.push(Oe):h=[Oe])}}else if(I===Nh.current){if(ce=I.alternate,ce===null)throw Error(r(387));ce.memoizedState.memoizedState!==I.memoizedState.memoizedState&&(h!==null?h.push($o):h=[$o])}I=I.return}h!==null&&cl(p,h,b,C),p.flags|=262144}function ia(h){for(h=h.firstContext;h!==null;){var p=h.context;if(!Wo(ji?p._currentValue:p._currentValue2,h.memoizedValue))return!0;h=h.next}return!1}function Is(h){Dc=h,Sl=null,h=h.dependencies,h!==null&&(h.firstContext=null)}function mr(h){return _a(Dc,h)}function Ya(h,p){return Dc===null&&Is(h),_a(h,p)}function _a(h,p){var b=ji?p._currentValue:p._currentValue2;if(p={context:p,memoizedValue:b,next:null},Sl===null){if(h===null)throw Error(r(308));Sl=p,h.dependencies={lanes:0,firstContext:p},h.flags|=524288}else Sl=Sl.next=p;return b}function ko(){return{controller:new tp,data:new Map,refCount:0}}function Pa(h){h.refCount--,h.refCount===0&&I1(z1,function(){h.controller.abort()})}function po(){var h=du.current;return h!==null?h:Er.pooledCache}function wf(h,p){p===null?P(du,du.current):P(du,p.pool)}function yh(){var h=po();return h===null?null:{parent:ji?Wr._currentValue:Wr._currentValue2,pool:h}}function ba(h){h.flags|=4}function oi(h,p){if(h!==null&&h.child===p.child)return!1;if((p.flags&16)!==0)return!0;for(h=p.child;h!==null;){if((h.flags&13878)!==0||(h.subtreeFlags&13878)!==0)return!0;h=h.sibling}return!1}function mo(h,p,b,C){if(ar)for(b=p.child;b!==null;){if(b.tag===5||b.tag===6)bi(h,b.stateNode);else if(!(b.tag===4||kr&&b.tag===27)&&b.child!==null){b.child.return=b,b=b.child;continue}if(b===p)break;for(;b.sibling===null;){if(b.return===null||b.return===p)return;b=b.return}b.sibling.return=b.return,b=b.sibling}else if(us)for(var I=p.child;I!==null;){if(I.tag===5){var F=I.stateNode;b&&C&&(F=By(F,I.type,I.memoizedProps)),bi(h,F)}else if(I.tag===6)F=I.stateNode,b&&C&&(F=ky(F,I.memoizedProps)),bi(h,F);else if(I.tag!==4){if(I.tag===22&&I.memoizedState!==null)F=I.child,F!==null&&(F.return=I),mo(h,I,!0,!0);else if(I.child!==null){I.child.return=I,I=I.child;continue}}if(I===p)break;for(;I.sibling===null;){if(I.return===null||I.return===p)return;I=I.return}I.sibling.return=I.return,I=I.sibling}}function Da(h,p,b,C){if(us)for(var I=p.child;I!==null;){if(I.tag===5){var F=I.stateNode;b&&C&&(F=By(F,I.type,I.memoizedProps)),Uy(h,F)}else if(I.tag===6)F=I.stateNode,b&&C&&(F=ky(F,I.memoizedProps)),Uy(h,F);else if(I.tag!==4){if(I.tag===22&&I.memoizedState!==null)F=I.child,F!==null&&(F.return=I),Da(h,I,!(I.memoizedProps!==null&&I.memoizedProps.mode==="manual"),!0);else if(I.child!==null){I.child.return=I,I=I.child;continue}}if(I===p)break;for(;I.sibling===null;){if(I.return===null||I.return===p)return;I=I.return}I.sibling.return=I.return,I=I.sibling}}function go(h,p){if(us&&oi(h,p)){h=p.stateNode;var b=h.containerInfo,C=cm();Da(C,p,!1,!1),h.pendingChildren=C,ba(p),Ng(b,C)}}function Ef(h,p,b,C){if(ar)h.memoizedProps!==C&&ba(p);else if(us){var I=h.stateNode,F=h.memoizedProps;if((h=oi(h,p))||F!==C){var ce=oa.current;F=qd(I,b,F,C,!h,null),F===I?p.stateNode=I:(Ci(F,b,C,ce)&&ba(p),p.stateNode=F,h?mo(F,p,!1,!1):ba(p))}else p.stateNode=I}}function Tf(h,p,b){if(vr(p,b)){if(h.flags|=16777216,!Ks(p,b))if(Jc())h.flags|=8192;else throw kf=ym,vm}else h.flags&=-16777217}function Yc(h,p){if(A1(p)){if(h.flags|=16777216,!Rh(p))if(Jc())h.flags|=8192;else throw kf=ym,vm}else h.flags&=-16777217}function ra(h,p){p!==null&&(h.flags|=4),h.flags&16384&&(p=h.tag!==22?V():536870912,h.lanes|=p,gu|=p)}function Xl(h,p){if(!rr)switch(h.tailMode){case"hidden":p=h.tail;for(var b=null;p!==null;)p.alternate!==null&&(b=p),p=p.sibling;b===null?h.tail=null:b.sibling=null;break;case"collapsed":b=h.tail;for(var C=null;b!==null;)b.alternate!==null&&(C=b),b=b.sibling;C===null?p||h.tail===null?h.tail=null:h.tail.sibling=null:C.sibling=null}}function Ji(h){var p=h.alternate!==null&&h.alternate.child===h.child,b=0,C=0;if(p)for(var I=h.child;I!==null;)b|=I.lanes|I.childLanes,C|=I.subtreeFlags&31457280,C|=I.flags&31457280,I.return=h,I=I.sibling;else for(I=h.child;I!==null;)b|=I.lanes|I.childLanes,C|=I.subtreeFlags,C|=I.flags,I.return=h,I=I.sibling;return h.subtreeFlags|=C,h.childLanes=b,p}function Mf(h,p,b){var C=p.pendingProps;switch(Ve(p),p.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ji(p),null;case 1:return Ji(p),null;case 3:return b=p.stateNode,C=null,h!==null&&(C=h.memoizedState.cache),p.memoizedState.cache!==C&&(p.flags|=2048),Qi(Wr),$e(),b.pendingContext&&(b.context=b.pendingContext,b.pendingContext=null),(h===null||h.child===null)&&(zn(p)?ba(p):h===null||h.memoizedState.isDehydrated&&(p.flags&256)===0||(p.flags|=1024,ec!==null&&(Uu(ec),ec=null))),go(h,p),Ji(p),null;case 26:if(gl){b=p.type;var I=p.memoizedState;return h===null?(ba(p),I!==null?(Ji(p),Yc(p,I)):(Ji(p),Tf(p,b,C))):I?I!==h.memoizedState?(ba(p),Ji(p),Yc(p,I)):(Ji(p),p.flags&=-16777217):(ar?h.memoizedProps!==C&&ba(p):Ef(h,p,b,C),Ji(p),Tf(p,b,C)),null}case 27:if(kr){if(gt(p),b=cu.current,I=p.type,h!==null&&p.stateNode!=null)ar?h.memoizedProps!==C&&ba(p):Ef(h,p,I,C);else{if(!C){if(p.stateNode===null)throw Error(r(166));return Ji(p),null}h=oa.current,zn(p)?vt(p,h):(h=Ac(I,C,b,h,!0),p.stateNode=h,ba(p))}return Ji(p),null}case 5:if(gt(p),b=p.type,h!==null&&p.stateNode!=null)Ef(h,p,b,C);else{if(!C){if(p.stateNode===null)throw Error(r(166));return Ji(p),null}h=oa.current,zn(p)?vt(p,h):(I=Sr(b,C,cu.current,h,p),mo(I,p,!1,!1),p.stateNode=I,Ci(I,b,C,h)&&ba(p))}return Ji(p),Tf(p,p.type,p.pendingProps),null;case 6:if(h&&p.stateNode!=null)b=h.memoizedProps,ar?b!==C&&ba(p):us&&(b!==C?(p.stateNode=Rn(C,cu.current,oa.current,p),ba(p)):p.stateNode=h.stateNode);else{if(typeof C!="string"&&p.stateNode===null)throw Error(r(166));if(h=cu.current,b=oa.current,zn(p)){if(!or)throw Error(r(176));if(h=p.stateNode,b=p.memoizedProps,C=null,I=Ua,I!==null)switch(I.tag){case 27:case 5:C=I.memoizedProps}Gy(h,b,p,C)||yt(p)}else p.stateNode=Rn(C,h,b,p)}return Ji(p),null;case 13:if(C=p.memoizedState,h===null||h.memoizedState!==null&&h.memoizedState.dehydrated!==null){if(I=zn(p),C!==null&&C.dehydrated!==null){if(h===null){if(!I)throw Error(r(318));if(!or)throw Error(r(344));if(I=p.memoizedState,I=I!==null?I.dehydrated:null,!I)throw Error(r(317));x1(I,p)}else An(),(p.flags&128)===0&&(p.memoizedState=null),p.flags|=4;Ji(p),I=!1}else ec!==null&&(Uu(ec),ec=null),I=!0;if(!I)return p.flags&256?(Un(p),p):(Un(p),null)}if(Un(p),(p.flags&128)!==0)return p.lanes=b,p;if(b=C!==null,h=h!==null&&h.memoizedState!==null,b){C=p.child,I=null,C.alternate!==null&&C.alternate.memoizedState!==null&&C.alternate.memoizedState.cachePool!==null&&(I=C.alternate.memoizedState.cachePool.pool);var F=null;C.memoizedState!==null&&C.memoizedState.cachePool!==null&&(F=C.memoizedState.cachePool.pool),F!==I&&(C.flags|=2048)}return b!==h&&b&&(p.child.flags|=8192),ra(p,p.updateQueue),Ji(p),null;case 4:return $e(),go(h,p),h===null&&ir(p.stateNode.containerInfo),Ji(p),null;case 10:return Qi(p.type),Ji(p),null;case 19:if(w(la),I=p.memoizedState,I===null)return Ji(p),null;if(C=(p.flags&128)!==0,F=I.rendering,F===null)if(C)Xl(I,!1);else{if(Vr!==0||h!==null&&(h.flags&128)!==0)for(h=p.child;h!==null;){if(F=rs(h),F!==null){for(p.flags|=128,Xl(I,!1),h=F.updateQueue,p.updateQueue=h,ra(p,h),p.subtreeFlags=0,h=b,b=p.child;b!==null;)wh(b,h),b=b.sibling;return P(la,la.current&1|2),p.child}h=h.sibling}I.tail!==null&&Jl()>rp&&(p.flags|=128,C=!0,Xl(I,!1),p.lanes=4194304)}else{if(!C)if(h=rs(F),h!==null){if(p.flags|=128,C=!0,h=h.updateQueue,p.updateQueue=h,ra(p,h),Xl(I,!0),I.tail===null&&I.tailMode==="hidden"&&!F.alternate&&!rr)return Ji(p),null}else 2*Jl()-I.renderingStartTime>rp&&b!==536870912&&(p.flags|=128,C=!0,Xl(I,!1),p.lanes=4194304);I.isBackwards?(F.sibling=p.child,p.child=F):(h=I.last,h!==null?h.sibling=F:p.child=F,I.last=F)}return I.tail!==null?(p=I.tail,I.rendering=p,I.tail=p.sibling,I.renderingStartTime=Jl(),p.sibling=null,h=la.current,P(la,C?h&1|2:h&1),p):(Ji(p),null);case 22:case 23:return Un(p),Br(),C=p.memoizedState!==null,h!==null?h.memoizedState!==null!==C&&(p.flags|=8192):C&&(p.flags|=8192),C?(b&536870912)!==0&&(p.flags&128)===0&&(Ji(p),p.subtreeFlags&6&&(p.flags|=8192)):Ji(p),b=p.updateQueue,b!==null&&ra(p,b.retryQueue),b=null,h!==null&&h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(b=h.memoizedState.cachePool.pool),C=null,p.memoizedState!==null&&p.memoizedState.cachePool!==null&&(C=p.memoizedState.cachePool.pool),C!==b&&(p.flags|=2048),h!==null&&w(du),null;case 24:return b=null,h!==null&&(b=h.memoizedState.cache),p.memoizedState.cache!==b&&(p.flags|=2048),Qi(Wr),Ji(p),null;case 25:return null}throw Error(r(156,p.tag))}function Lu(h,p){switch(Ve(p),p.tag){case 1:return h=p.flags,h&65536?(p.flags=h&-65537|128,p):null;case 3:return Qi(Wr),$e(),h=p.flags,(h&65536)!==0&&(h&128)===0?(p.flags=h&-65537|128,p):null;case 26:case 27:case 5:return gt(p),null;case 13:if(Un(p),h=p.memoizedState,h!==null&&h.dehydrated!==null){if(p.alternate===null)throw Error(r(340));An()}return h=p.flags,h&65536?(p.flags=h&-65537|128,p):null;case 19:return w(la),null;case 4:return $e(),null;case 10:return Qi(p.type),null;case 22:case 23:return Un(p),Br(),h!==null&&w(du),h=p.flags,h&65536?(p.flags=h&-65537|128,p):null;case 24:return Qi(Wr),null;case 25:return null;default:return null}}function Nu(h,p){switch(Ve(p),p.tag){case 3:Qi(Wr),$e();break;case 26:case 27:case 5:gt(p);break;case 4:$e();break;case 13:Un(p);break;case 19:w(la);break;case 10:Qi(p.type);break;case 22:case 23:Un(p),Br(),h!==null&&w(du);break;case 24:Qi(Wr)}}function ul(h,p){try{var b=p.updateQueue,C=b!==null?b.lastEffect:null;if(C!==null){var I=C.next;b=I;do{if((b.tag&h)===h){C=void 0;var F=b.create,ce=b.inst;C=F(),ce.destroy=C}b=b.next}while(b!==I)}}catch(Oe){hr(p,p.return,Oe)}}function vo(h,p,b){try{var C=p.updateQueue,I=C!==null?C.lastEffect:null;if(I!==null){var F=I.next;C=F;do{if((C.tag&h)===h){var ce=C.inst,Oe=ce.destroy;if(Oe!==void 0){ce.destroy=void 0,I=p;var qe=b;try{Oe()}catch(Pt){hr(I,qe,Pt)}}}C=C.next}while(C!==F)}}catch(Pt){hr(p,p.return,Pt)}}function _h(h){var p=h.updateQueue;if(p!==null){var b=h.stateNode;try{Xe(p,b)}catch(C){hr(h,h.return,C)}}}function as(h,p,b){b.props=zo(h.type,h.memoizedProps),b.state=h.memoizedState;try{b.componentWillUnmount()}catch(C){hr(h,p,C)}}function xa(h,p){try{var b=h.ref;if(b!==null){var C=h.stateNode;switch(h.tag){case 26:case 27:case 5:var I=Hn(C);break;default:I=C}typeof b=="function"?h.refCleanup=b(I):b.current=I}}catch(F){hr(h,p,F)}}function Es(h,p){var b=h.ref,C=h.refCleanup;if(b!==null)if(typeof C=="function")try{C()}catch(I){hr(h,p,I)}finally{h.refCleanup=null,h=h.alternate,h!=null&&(h.refCleanup=null)}else if(typeof b=="function")try{b(null)}catch(I){hr(h,p,I)}else b.current=null}function Sa(h){var p=h.type,b=h.memoizedProps,C=h.stateNode;try{Dg(C,p,b,h)}catch(I){hr(h,h.return,I)}}function Iu(h,p,b){try{Gd(h.stateNode,h.type,b,p,h)}catch(C){hr(h,h.return,C)}}function Af(h){return h.tag===5||h.tag===3||(gl?h.tag===26:!1)||(kr?h.tag===27:!1)||h.tag===4}function ge(h){e:for(;;){for(;h.sibling===null;){if(h.return===null||Af(h.return))return null;h=h.return}for(h.sibling.return=h.return,h=h.sibling;h.tag!==5&&h.tag!==6&&(!kr||h.tag!==27)&&h.tag!==18;){if(h.flags&2||h.child===null||h.tag===4)continue e;h.child.return=h,h=h.child}if(!(h.flags&2))return h.stateNode}}function Ie(h,p,b){var C=h.tag;if(C===5||C===6)h=h.stateNode,p?sm(b,h,p):Nf(b,h);else if(!(C===4||kr&&C===27)&&(h=h.child,h!==null))for(Ie(h,p,b),h=h.sibling;h!==null;)Ie(h,p,b),h=h.sibling}function We(h,p,b){var C=h.tag;if(C===5||C===6)h=h.stateNode,p?rm(b,h,p):au(b,h);else if(!(C===4||kr&&C===27)&&(h=h.child,h!==null))for(We(h,p,b),h=h.sibling;h!==null;)We(h,p,b),h=h.sibling}function st(h,p,b){h=h.containerInfo;try{Wd(h,b)}catch(C){hr(p,p.return,C)}}function _t(h,p){for(si(h.containerInfo),Si=p;Si!==null;)if(h=Si,p=h.child,(h.subtreeFlags&1028)!==0&&p!==null)p.return=h,Si=p;else for(;Si!==null;){h=Si;var b=h.alternate;switch(p=h.flags,h.tag){case 0:break;case 11:case 15:break;case 1:if((p&1024)!==0&&b!==null){p=void 0;var C=h,I=b.memoizedProps;b=b.memoizedState;var F=C.stateNode;try{var ce=zo(C.type,I,C.elementType===C.type);p=F.getSnapshotBeforeUpdate(ce,b),F.__reactInternalSnapshotBeforeUpdate=p}catch(Oe){hr(C,C.return,Oe)}}break;case 3:(p&1024)!==0&&ar&&d1(h.stateNode.containerInfo);break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((p&1024)!==0)throw Error(r(163))}if(p=h.sibling,p!==null){p.return=h.return,Si=p;break}Si=h.return}return ce=Fi,Fi=!1,ce}function Yt(h,p,b){var C=b.flags;switch(b.tag){case 0:case 11:case 15:Dr(h,b),C&4&&ul(5,b);break;case 1:if(Dr(h,b),C&4)if(h=b.stateNode,p===null)try{h.componentDidMount()}catch(Oe){hr(b,b.return,Oe)}else{var I=zo(b.type,p.memoizedProps);p=p.memoizedState;try{h.componentDidUpdate(I,p,h.__reactInternalSnapshotBeforeUpdate)}catch(Oe){hr(b,b.return,Oe)}}C&64&&_h(b),C&512&&xa(b,b.return);break;case 3:if(Dr(h,b),C&64&&(C=b.updateQueue,C!==null)){if(h=null,b.child!==null)switch(b.child.tag){case 27:case 5:h=Hn(b.child.stateNode);break;case 1:h=b.child.stateNode}try{Xe(C,h)}catch(Oe){hr(b,b.return,Oe)}}break;case 26:if(gl){Dr(h,b),C&512&&xa(b,b.return);break}case 27:case 5:Dr(h,b),p===null&&C&4&&Sa(b),C&512&&xa(b,b.return);break;case 12:Dr(h,b);break;case 13:Dr(h,b),C&4&&vi(h,b);break;case 22:if(I=b.memoizedState!==null||pu,!I){p=p!==null&&p.memoizedState!==null||Cs;var F=pu,ce=Cs;pu=I,(Cs=p)&&!ce?vs(h,b,(b.subtreeFlags&8772)!==0):Dr(h,b),pu=F,Cs=ce}C&512&&(b.memoizedProps.mode==="manual"?xa(b,b.return):Es(b,b.return));break;default:Dr(h,b)}}function pn(h){var p=h.alternate;p!==null&&(h.alternate=null,pn(p)),h.child=null,h.deletions=null,h.sibling=null,h.tag===5&&(p=h.stateNode,p!==null&&Zs(p)),h.stateNode=null,h.return=null,h.dependencies=null,h.memoizedProps=null,h.memoizedState=null,h.pendingProps=null,h.stateNode=null,h.updateQueue=null}function un(h,p,b){for(b=b.child;b!==null;)on(h,p,b),b=b.sibling}function on(h,p,b){if(qo&&typeof qo.onCommitFiberUnmount=="function")try{qo.onCommitFiberUnmount(Bs,b)}catch{}switch(b.tag){case 26:if(gl){Cs||Es(b,p),un(h,p,b),b.memoizedState?Ch(b.memoizedState):b.stateNode&&Xd(b.stateNode);break}case 27:if(kr){Cs||Es(b,p);var C=Yn,I=Ri;Yn=b.stateNode,un(h,p,b),zf(b.stateNode),Yn=C,Ri=I;break}case 5:Cs||Es(b,p);case 6:if(ar){if(C=Yn,I=Ri,Yn=null,un(h,p,b),Yn=C,Ri=I,Yn!==null)if(Ri)try{am(Yn,b.stateNode)}catch(F){hr(b,p,F)}else try{jd(Yn,b.stateNode)}catch(F){hr(b,p,F)}}else un(h,p,b);break;case 18:ar&&Yn!==null&&(Ri?um(Yn,b.stateNode):w1(Yn,b.stateNode));break;case 4:ar?(C=Yn,I=Ri,Yn=b.stateNode.containerInfo,Ri=!0,un(h,p,b),Yn=C,Ri=I):(us&&st(b.stateNode,b,cm()),un(h,p,b));break;case 0:case 11:case 14:case 15:Cs||vo(2,b,p),Cs||vo(4,b,p),un(h,p,b);break;case 1:Cs||(Es(b,p),C=b.stateNode,typeof C.componentWillUnmount=="function"&&as(b,p,C)),un(h,p,b);break;case 21:un(h,p,b);break;case 22:Cs||Es(b,p),Cs=(C=Cs)||b.memoizedState!==null,un(h,p,b),Cs=C;break;default:un(h,p,b)}}function vi(h,p){if(or&&p.memoizedState===null&&(h=p.alternate,h!==null&&(h=h.memoizedState,h!==null&&(h=h.dehydrated,h!==null))))try{yE(h)}catch(b){hr(p,p.return,b)}}function Vn(h){switch(h.tag){case 13:case 19:var p=h.stateNode;return p===null&&(p=h.stateNode=new wr),p;case 22:return h=h.stateNode,p=h._retryCache,p===null&&(p=h._retryCache=new wr),p;default:throw Error(r(435,h.tag))}}function Bn(h,p){var b=Vn(h);p.forEach(function(C){var I=tu.bind(null,h,C);b.has(C)||(b.add(C),C.then(I,I))})}function Gn(h,p){var b=p.deletions;if(b!==null)for(var C=0;C<b.length;C++){var I=b[C],F=h,ce=p;if(ar){var Oe=ce;e:for(;Oe!==null;){switch(Oe.tag){case 27:case 5:Yn=Oe.stateNode,Ri=!1;break e;case 3:Yn=Oe.stateNode.containerInfo,Ri=!0;break e;case 4:Yn=Oe.stateNode.containerInfo,Ri=!0;break e}Oe=Oe.return}if(Yn===null)throw Error(r(160));on(F,ce,I),Yn=null,Ri=!1}else on(F,ce,I);F=I.alternate,F!==null&&(F.return=null),I.return=null}if(p.subtreeFlags&13878)for(p=p.child;p!==null;)On(p,h),p=p.sibling}function On(h,p){var b=h.alternate,C=h.flags;switch(h.tag){case 0:case 11:case 14:case 15:Gn(p,h),Qn(h),C&4&&(vo(3,h,h.return),ul(3,h),vo(5,h,h.return));break;case 1:Gn(p,h),Qn(h),C&512&&(Cs||b===null||Es(b,b.return)),C&64&&pu&&(h=h.updateQueue,h!==null&&(C=h.callbacks,C!==null&&(b=h.shared.hiddenCallbacks,h.shared.hiddenCallbacks=b===null?C:b.concat(C))));break;case 26:if(gl){var I=_s;Gn(p,h),Qn(h),C&512&&(Cs||b===null||Es(b,b.return)),C&4&&(C=b!==null?b.memoizedState:null,p=h.memoizedState,b===null?p===null?h.stateNode===null?h.stateNode=hm(I,h.type,h.memoizedProps,h):dm(I,h.type,h.stateNode):h.stateNode=T1(I,p,h.memoizedProps):C!==p?(C===null?b.stateNode!==null&&Xd(b.stateNode):Ch(C),p===null?dm(I,h.type,h.stateNode):T1(I,p,h.memoizedProps)):p===null&&h.stateNode!==null&&Iu(h,h.memoizedProps,b.memoizedProps));break}case 27:if(kr&&C&4&&h.alternate===null){I=h.stateNode;var F=h.memoizedProps;try{If(I),R1(h.type,F,I,h)}catch(Jt){hr(h,h.return,Jt)}}case 5:if(Gn(p,h),Qn(h),C&512&&(Cs||b===null||Es(b,b.return)),ar){if(h.flags&32){p=h.stateNode;try{om(p)}catch(Jt){hr(h,h.return,Jt)}}C&4&&h.stateNode!=null&&(p=h.memoizedProps,Iu(h,p,b!==null?b.memoizedProps:p)),C&1024&&(Xy=!0)}break;case 6:if(Gn(p,h),Qn(h),C&4&&ar){if(h.stateNode===null)throw Error(r(162));C=h.memoizedProps,b=b!==null?b.memoizedProps:C,p=h.stateNode;try{im(p,b,C)}catch(Jt){hr(h,h.return,Jt)}}break;case 3:if(gl?(M1(),I=_s,_s=Hg(p.containerInfo),Gn(p,h),_s=I):Gn(p,h),Qn(h),C&4){if(ar&&or&&b!==null&&b.memoizedState.isDehydrated)try{vE(p.containerInfo)}catch(Jt){hr(h,h.return,Jt)}if(us){C=p.containerInfo,b=p.pendingChildren;try{Wd(C,b)}catch(Jt){hr(h,h.return,Jt)}}}Xy&&(Xy=!1,qs(h));break;case 4:gl?(b=_s,_s=Hg(h.stateNode.containerInfo),Gn(p,h),Qn(h),_s=b):(Gn(p,h),Qn(h)),C&4&&us&&st(h.stateNode,h,h.stateNode.pendingChildren);break;case 12:Gn(p,h),Qn(h);break;case 13:Gn(p,h),Qn(h),h.child.flags&8192&&h.memoizedState!==null!=(b!==null&&b.memoizedState!==null)&&(wo=Jl()),C&4&&(C=h.updateQueue,C!==null&&(h.updateQueue=null,Bn(h,C)));break;case 22:C&512&&(Cs||b===null||Es(b,b.return)),I=h.memoizedState!==null;var ce=b!==null&&b.memoizedState!==null,Oe=pu,qe=Cs;if(pu=Oe||I,Cs=qe||ce,Gn(p,h),Cs=qe,pu=Oe,Qn(h),p=h.stateNode,p._current=h,p._visibility&=-3,p._visibility|=p._pendingVisibility&2,C&8192&&(p._visibility=I?p._visibility&-2:p._visibility|1,I&&(p=pu||Cs,b===null||ce||p||Ts(h)),ar&&(h.memoizedProps===null||h.memoizedProps.mode!=="manual"))){e:if(b=null,ar)for(p=h;;){if(p.tag===5||gl&&p.tag===26||kr&&p.tag===27){if(b===null){ce=b=p;try{F=ce.stateNode,I?Lg(F):lm(ce.stateNode,ce.memoizedProps)}catch(Jt){hr(ce,ce.return,Jt)}}}else if(p.tag===6){if(b===null){ce=p;try{var Pt=ce.stateNode;I?$d(Pt):mE(Pt,ce.memoizedProps)}catch(Jt){hr(ce,ce.return,Jt)}}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===h)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===h)break e;for(;p.sibling===null;){if(p.return===null||p.return===h)break e;b===p&&(b=null),p=p.return}b===p&&(b=null),p.sibling.return=p.return,p=p.sibling}}C&4&&(C=h.updateQueue,C!==null&&(b=C.retryQueue,b!==null&&(C.retryQueue=null,Bn(h,b))));break;case 19:Gn(p,h),Qn(h),C&4&&(C=h.updateQueue,C!==null&&(h.updateQueue=null,Bn(h,C)));break;case 21:break;default:Gn(p,h),Qn(h)}}function Qn(h){var p=h.flags;if(p&2){try{if(ar&&(!kr||h.tag!==27)){e:{for(var b=h.return;b!==null;){if(Af(b)){var C=b;break e}b=b.return}throw Error(r(160))}switch(C.tag){case 27:if(kr){var I=C.stateNode,F=ge(h);We(h,F,I);break}case 5:var ce=C.stateNode;C.flags&32&&(om(ce),C.flags&=-33);var Oe=ge(h);We(h,Oe,ce);break;case 3:case 4:var qe=C.stateNode.containerInfo,Pt=ge(h);Ie(h,Pt,qe);break;default:throw Error(r(161))}}}catch(Jt){hr(h,h.return,Jt)}h.flags&=-3}p&4096&&(h.flags&=-4097)}function qs(h){if(h.subtreeFlags&1024)for(h=h.child;h!==null;){var p=h;qs(p),p.tag===5&&p.flags&1024&&Gu(p.stateNode),h=h.sibling}}function Dr(h,p){if(p.subtreeFlags&8772)for(p=p.child;p!==null;)Yt(h,p.alternate,p),p=p.sibling}function Ts(h){for(h=h.child;h!==null;){var p=h;switch(p.tag){case 0:case 11:case 14:case 15:vo(4,p,p.return),Ts(p);break;case 1:Es(p,p.return);var b=p.stateNode;typeof b.componentWillUnmount=="function"&&as(p,p.return,b),Ts(p);break;case 26:case 27:case 5:Es(p,p.return),Ts(p);break;case 22:Es(p,p.return),p.memoizedState===null&&Ts(p);break;default:Ts(p)}h=h.sibling}}function vs(h,p,b){for(b=b&&(p.subtreeFlags&8772)!==0,p=p.child;p!==null;){var C=p.alternate,I=h,F=p,ce=F.flags;switch(F.tag){case 0:case 11:case 15:vs(I,F,b),ul(4,F);break;case 1:if(vs(I,F,b),C=F,I=C.stateNode,typeof I.componentDidMount=="function")try{I.componentDidMount()}catch(Pt){hr(C,C.return,Pt)}if(C=F,I=C.updateQueue,I!==null){var Oe=C.stateNode;try{var qe=I.shared.hiddenCallbacks;if(qe!==null)for(I.shared.hiddenCallbacks=null,I=0;I<qe.length;I++)Ae(qe[I],Oe)}catch(Pt){hr(C,C.return,Pt)}}b&&ce&64&&_h(F),xa(F,F.return);break;case 26:case 27:case 5:vs(I,F,b),b&&C===null&&ce&4&&Sa(F),xa(F,F.return);break;case 12:vs(I,F,b);break;case 13:vs(I,F,b),b&&ce&4&&vi(I,F);break;case 22:F.memoizedState===null&&vs(I,F,b),xa(F,F.return);break;default:vs(I,F,b)}p=p.sibling}}function Ho(h,p){var b=null;h!==null&&h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(b=h.memoizedState.cachePool.pool),h=null,p.memoizedState!==null&&p.memoizedState.cachePool!==null&&(h=p.memoizedState.cachePool.pool),h!==b&&(h!=null&&h.refCount++,b!=null&&Pa(b))}function os(h,p){h=null,p.alternate!==null&&(h=p.alternate.memoizedState.cache),p=p.memoizedState.cache,p!==h&&(p.refCount++,h!=null&&Pa(h))}function Ws(h,p,b,C){if(p.subtreeFlags&10256)for(p=p.child;p!==null;)Wp(h,p,b,C),p=p.sibling}function Wp(h,p,b,C){var I=p.flags;switch(p.tag){case 0:case 11:case 15:Ws(h,p,b,C),I&2048&&ul(9,p);break;case 3:Ws(h,p,b,C),I&2048&&(h=null,p.alternate!==null&&(h=p.alternate.memoizedState.cache),p=p.memoizedState.cache,p!==h&&(p.refCount++,h!=null&&Pa(h)));break;case 12:if(I&2048){Ws(h,p,b,C),h=p.stateNode;try{var F=p.memoizedProps,ce=F.id,Oe=F.onPostCommit;typeof Oe=="function"&&Oe(ce,p.alternate===null?"mount":"update",h.passiveEffectDuration,-0)}catch(qe){hr(p,p.return,qe)}}else Ws(h,p,b,C);break;case 23:break;case 22:F=p.stateNode,p.memoizedState!==null?F._visibility&4?Ws(h,p,b,C):aa(h,p):F._visibility&4?Ws(h,p,b,C):(F._visibility|=4,sa(h,p,b,C,(p.subtreeFlags&10256)!==0)),I&2048&&Ho(p.alternate,p);break;case 24:Ws(h,p,b,C),I&2048&&os(p.alternate,p);break;default:Ws(h,p,b,C)}}function sa(h,p,b,C,I){for(I=I&&(p.subtreeFlags&10256)!==0,p=p.child;p!==null;){var F=h,ce=p,Oe=b,qe=C,Pt=ce.flags;switch(ce.tag){case 0:case 11:case 15:sa(F,ce,Oe,qe,I),ul(8,ce);break;case 23:break;case 22:var Jt=ce.stateNode;ce.memoizedState!==null?Jt._visibility&4?sa(F,ce,Oe,qe,I):aa(F,ce):(Jt._visibility|=4,sa(F,ce,Oe,qe,I)),I&&Pt&2048&&Ho(ce.alternate,ce);break;case 24:sa(F,ce,Oe,qe,I),I&&Pt&2048&&os(ce.alternate,ce);break;default:sa(F,ce,Oe,qe,I)}p=p.sibling}}function aa(h,p){if(p.subtreeFlags&10256)for(p=p.child;p!==null;){var b=h,C=p,I=C.flags;switch(C.tag){case 22:aa(b,C),I&2048&&Ho(C.alternate,C);break;case 24:aa(b,C),I&2048&&os(C.alternate,C);break;default:aa(b,C)}p=p.sibling}}function yo(h){if(h.subtreeFlags&wl)for(h=h.child;h!==null;)Pd(h),h=h.sibling}function Pd(h){switch(h.tag){case 26:yo(h),h.flags&wl&&(h.memoizedState!==null?C1(_s,h.memoizedState,h.memoizedProps):fs(h.type,h.memoizedProps));break;case 5:yo(h),h.flags&wl&&fs(h.type,h.memoizedProps);break;case 3:case 4:if(gl){var p=_s;_s=Hg(h.stateNode.containerInfo),yo(h),_s=p}else yo(h);break;case 22:h.memoizedState===null&&(p=h.alternate,p!==null&&p.memoizedState!==null?(p=wl,wl=16777216,yo(h),wl=p):yo(h));break;default:yo(h)}}function bh(h){var p=h.alternate;if(p!==null&&(h=p.child,h!==null)){p.child=null;do p=h.sibling,h.sibling=null,h=p;while(h!==null)}}function Zc(h){var p=h.deletions;if((h.flags&16)!==0){if(p!==null)for(var b=0;b<p.length;b++){var C=p[b];Si=C,fl(C,h)}bh(h)}if(h.subtreeFlags&10256)for(h=h.child;h!==null;)Dd(h),h=h.sibling}function Dd(h){switch(h.tag){case 0:case 11:case 15:Zc(h),h.flags&2048&&vo(9,h,h.return);break;case 3:Zc(h);break;case 12:Zc(h);break;case 22:var p=h.stateNode;h.memoizedState!==null&&p._visibility&4&&(h.return===null||h.return.tag!==13)?(p._visibility&=-5,xc(h)):Zc(h);break;default:Zc(h)}}function xc(h){var p=h.deletions;if((h.flags&16)!==0){if(p!==null)for(var b=0;b<p.length;b++){var C=p[b];Si=C,fl(C,h)}bh(h)}for(h=h.child;h!==null;){switch(p=h,p.tag){case 0:case 11:case 15:vo(8,p,p.return),xc(p);break;case 22:b=p.stateNode,b._visibility&4&&(b._visibility&=-5,xc(p));break;default:xc(p)}h=h.sibling}}function fl(h,p){for(;Si!==null;){var b=Si;switch(b.tag){case 0:case 11:case 15:vo(8,b,p);break;case 23:case 22:if(b.memoizedState!==null&&b.memoizedState.cachePool!==null){var C=b.memoizedState.cachePool.pool;C!=null&&C.refCount++}break;case 24:Pa(b.memoizedState.cache)}if(C=b.child,C!==null)C.return=b,Si=C;else e:for(b=h;Si!==null;){C=Si;var I=C.sibling,F=C.return;if(pn(C),C===b){Si=null;break e}if(I!==null){I.return=F,Si=I;break e}Si=F}}}function zu(h){var p=bo(h);if(p!=null){if(typeof p.memoizedProps["data-testname"]!="string")throw Error(r(364));return p}if(h=tm(h),h===null)throw Error(r(362));return h.stateNode.current}function Kc(h,p){var b=h.tag;switch(p.$$typeof){case ip:if(h.type===p.value)return!0;break;case ic:e:{for(p=p.value,h=[h,0],b=0;b<h.length;){var C=h[b++],I=C.tag,F=h[b++],ce=p[F];if(I!==5&&I!==26&&I!==27||!ju(C)){for(;ce!=null&&Kc(C,ce);)F++,ce=p[F];if(F===p.length){p=!0;break e}else for(C=C.child;C!==null;)h.push(C,F),C=C.sibling}}p=!1}return p;case ns:if((b===5||b===26||b===27)&&nm(h.stateNode,p.value))return!0;break;case mu:if((b===5||b===6||b===26||b===27)&&(h=Rg(h),h!==null&&0<=h.indexOf(p.value)))return!0;break;case Lc:if((b===5||b===26||b===27)&&(h=h.memoizedProps["data-testname"],typeof h=="string"&&h.toLowerCase()===p.value.toLowerCase()))return!0;break;default:throw Error(r(365))}return!1}function Xp(h){switch(h.$$typeof){case ip:return"<"+(a(h.value)||"Unknown")+">";case ic:return":has("+(Xp(h)||"")+")";case ns:return'[role="'+h.value+'"]';case mu:return'"'+h.value+'"';case Lc:return'[data-testname="'+h.value+'"]';default:throw Error(r(365))}}function Za(h,p){var b=[];h=[h,0];for(var C=0;C<h.length;){var I=h[C++],F=I.tag,ce=h[C++],Oe=p[ce];if(F!==5&&F!==26&&F!==27||!ju(I)){for(;Oe!=null&&Kc(I,Oe);)ce++,Oe=p[ce];if(ce===p.length)b.push(I);else for(I=I.child;I!==null;)h.push(I,ce),I=I.sibling}}return b}function xh(h,p){if(!Ql)throw Error(r(363));h=zu(h),h=Za(h,p),p=[],h=Array.from(h);for(var b=0;b<h.length;){var C=h[b++],I=C.tag;if(I===5||I===26||I===27)ju(C)||p.push(C.stateNode);else for(C=C.child;C!==null;)h.push(C),C=C.sibling}return p}function ys(){if((cr&2)!==0&&Yi!==0)return Yi&-Yi;if(Pe.T!==null){var h=_l;return h!==0?h:ht()}return ml()}function Yp(){Ml===0&&(Ml=(Yi&536870912)===0||rr?$():536870912);var h=bl.current;return h!==null&&(h.flags|=32),Ml}function Xs(h,p,b){(h===Er&&Nr===2||h.cancelPendingCommit!==null)&&(zs(h,0),La(h,Yi,Ml,!1)),ee(h,b),((cr&2)===0||h!==Er)&&(h===Er&&((cr&2)===0&&(Zu|=b),Vr===4&&La(h,Yi,Ml,!1)),Ot(h))}function Qc(h,p,b){if((cr&6)!==0)throw Error(r(327));var C=!b&&(p&60)===0&&(p&h.expiredLanes)===0||k(h,p),I=C?Kp(h,p):Ld(h,p,!0),F=C;do{if(I===0){El&&!C&&La(h,p,0,!1);break}else if(I===6)La(h,p,0,!sc);else{if(b=h.current.alternate,F&&!Cf(b)){I=Ld(h,p,!1),F=!1;continue}if(I===2){if(F=p,h.errorRecoveryDisabledLanes&F)var ce=0;else ce=h.pendingLanes&-536870913,ce=ce!==0?ce:ce&536870912?536870912:0;if(ce!==0){p=ce;e:{var Oe=h;I=Gh;var qe=or&&Oe.current.memoizedState.isDehydrated;if(qe&&(zs(Oe,ce).flags|=256),ce=Ld(Oe,ce,!1),ce!==2){if(ca&&!qe){Oe.errorRecoveryDisabledLanes|=F,Zu|=F,I=4;break e}F=Rs,Rs=I,F!==null&&Uu(F)}I=ce}if(F=!1,I!==2)continue}}if(I===1){zs(h,0),La(h,p,0,!0);break}e:{switch(C=h,I){case 0:case 1:throw Error(r(345));case 4:if((p&4194176)===p){La(C,p,Ml,!sc);break e}break;case 2:Rs=null;break;case 3:case 5:break;default:throw Error(r(329))}if(C.finishedWork=b,C.finishedLanes=p,(p&62914560)===p&&(F=wo+300-Jl(),10<F)){if(La(C,p,Ml,!sc),G(C,0)!==0)break e;C.timeoutHandle=ti(Bu.bind(null,C,b,Rs,bm,Kg,p,Ml,Zu,gu,sc,2,-0,0),F);break e}Bu(C,b,Rs,bm,Kg,p,Ml,Zu,gu,sc,0,-0,0)}}break}while(!0);Ot(h)}function Uu(h){Rs===null?Rs=h:Rs.push.apply(Rs,h)}function Bu(h,p,b,C,I,F,ce,Oe,qe,Pt,Jt,gn,wn){var wi=p.subtreeFlags;if((wi&8192||(wi&16785408)===16785408)&&(Ja(),Pd(p),p=ts(),p!==null)){h.cancelPendingCommit=p(_o.bind(null,h,b,C,I,ce,Oe,qe,1,gn,wn)),La(h,F,ce,!Pt);return}_o(h,b,C,I,ce,Oe,qe,Jt,gn,wn)}function Cf(h){for(var p=h;;){var b=p.tag;if((b===0||b===11||b===15)&&p.flags&16384&&(b=p.updateQueue,b!==null&&(b=b.stores,b!==null)))for(var C=0;C<b.length;C++){var I=b[C],F=I.getSnapshot;I=I.value;try{if(!Wo(F(),I))return!1}catch{return!1}}if(b=p.child,p.subtreeFlags&16384&&b!==null)b.return=p,p=b;else{if(p===h)break;for(;p.sibling===null;){if(p.return===null||p.return===h)return!0;p=p.return}p.sibling.return=p.return,p=p.sibling}}return!0}function La(h,p,b,C){p&=~_m,p&=~Zu,h.suspendedLanes|=p,h.pingedLanes&=~p,C&&(h.warmLanes|=p),C=h.expirationTimes;for(var I=p;0<I;){var F=31-xo(I),ce=1<<F;C[F]=-1,I&=~ce}b!==0&&ae(h,b,p)}function Rf(){return(cr&6)===0?(Qt(0),!1):!0}function Yl(){if(ni!==null){if(Nr===0)var h=ni.return;else h=ni,Sl=Dc=null,wt(h),Hf=null,Ff=0,h=ni;for(;h!==null;)Nu(h.alternate,h),h=h.return;ni=null}}function zs(h,p){h.finishedWork=null,h.finishedLanes=0;var b=h.timeoutHandle;b!==Hi&&(h.timeoutHandle=Hi,sr(b)),b=h.cancelPendingCommit,b!==null&&(h.cancelPendingCommit=null,b()),Yl(),Er=h,ni=b=Vo(h.current,null),Yi=p,Nr=0,eo=null,sc=!1,El=k(h,p),ca=!1,gu=Ml=_m=Zu=Tl=Vr=0,Rs=Gh=null,Kg=!1,(p&8)!==0&&(p|=p&32);var C=h.entangledLanes;if(C!==0)for(h=h.entanglements,C&=p;0<C;){var I=31-xo(C),F=1<<I;p|=h[I],C&=~F}return to=p,fe(),b}function Na(h,p){Ni=null,Pe.H=As,p===Jd?(p=$t(),Nr=3):p===vm?(p=$t(),Nr=4):Nr=p===Yg?8:p!==null&&typeof p=="object"&&typeof p.then=="function"?6:1,eo=p,ni===null&&(Vr=1,Uo(h,Le(p,h.current)))}function Jc(){var h=bl.current;return h===null?!0:(Yi&4194176)===Yi?Hr===null:(Yi&62914560)===Yi||(Yi&536870912)!==0?h===Hr:!1}function Zl(){var h=Pe.H;return Pe.H=As,h===null?As:h}function Kl(){var h=Pe.A;return Pe.A=np,h}function Ia(){Vr=4,sc||(Yi&4194176)!==Yi&&bl.current!==null||(El=!0),(Tl&134217727)===0&&(Zu&134217727)===0||Er===null||La(Er,Yi,Ml,!1)}function Ld(h,p,b){var C=cr;cr|=2;var I=Zl(),F=Kl();(Er!==h||Yi!==p)&&(bm=null,zs(h,p)),p=!1;var ce=Vr;e:do try{if(Nr!==0&&ni!==null){var Oe=ni,qe=eo;switch(Nr){case 8:Yl(),ce=6;break e;case 3:case 2:case 6:bl.current===null&&(p=!0);var Pt=Nr;if(Nr=0,eo=null,Fo(h,Oe,qe,Pt),b&&El){ce=0;break e}break;default:Pt=Nr,Nr=0,eo=null,Fo(h,Oe,qe,Pt)}}Zp(),ce=Vr;break}catch(Jt){Na(h,Jt)}while(!0);return p&&h.shellSuspendCounter++,Sl=Dc=null,cr=C,Pe.H=I,Pe.A=F,ni===null&&(Er=null,Yi=0,fe()),ce}function Zp(){for(;ni!==null;)Lr(ni)}function Kp(h,p){var b=cr;cr|=2;var C=Zl(),I=Kl();Er!==h||Yi!==p?(bm=null,rp=Jl()+500,zs(h,p)):El=k(h,p);e:do try{if(Nr!==0&&ni!==null){p=ni;var F=eo;t:switch(Nr){case 1:Nr=0,eo=null,Fo(h,p,F,1);break;case 2:if(Xt(F)){Nr=0,eo=null,Xi(p);break}p=function(){Nr===2&&Er===h&&(Nr=7),Ot(h)},F.then(p,p);break e;case 3:Nr=7;break e;case 4:Nr=5;break e;case 7:Xt(F)?(Nr=0,eo=null,Xi(p)):(Nr=0,eo=null,Fo(h,p,F,7));break;case 5:var ce=null;switch(ni.tag){case 26:ce=ni.memoizedState;case 5:case 27:var Oe=ni,qe=Oe.type,Pt=Oe.pendingProps;if(ce?Rh(ce):Ks(qe,Pt)){Nr=0,eo=null;var Jt=Oe.sibling;if(Jt!==null)ni=Jt;else{var gn=Oe.return;gn!==null?(ni=gn,Ka(gn)):ni=null}break t}}Nr=0,eo=null,Fo(h,p,F,5);break;case 6:Nr=0,eo=null,Fo(h,p,F,6);break;case 8:Yl(),Vr=6;break e;default:throw Error(r(462))}}za();break}catch(wn){Na(h,wn)}while(!0);return Sl=Dc=null,Pe.H=C,Pe.A=I,cr=b,ni!==null?0:(Er=null,Yi=0,fe(),Vr)}function za(){for(;ni!==null&&!D1();)Lr(ni)}function Lr(h){var p=Wl(h.alternate,h,to);h.memoizedProps=h.pendingProps,p===null?Ka(h):ni=p}function Xi(h){var p=h,b=p.alternate;switch(p.tag){case 15:case 0:p=Ce(b,p,p.pendingProps,p.type,void 0,Yi);break;case 11:p=Ce(b,p,p.pendingProps,p.type.render,p.ref,Yi);break;case 5:wt(p);default:Nu(b,p),p=ni=wh(p,to),p=Wl(b,p,to)}h.memoizedProps=h.pendingProps,p===null?Ka(h):ni=p}function Fo(h,p,b,C){Sl=Dc=null,wt(p),Hf=null,Ff=0;var I=p.return;try{if(qp(h,I,p,b,Yi)){Vr=1,Uo(h,Le(b,h.current)),ni=null;return}}catch(F){if(I!==null)throw ni=I,F;Vr=1,Uo(h,Le(b,h.current)),ni=null;return}p.flags&32768?(rr||C===1?h=!0:El||(Yi&536870912)!==0?h=!1:(sc=h=!0,(C===2||C===3||C===6)&&(C=bl.current,C!==null&&C.tag===13&&(C.flags|=16384))),Nd(p,h)):Ka(p)}function Ka(h){var p=h;do{if((p.flags&32768)!==0){Nd(p,sc);return}h=p.return;var b=Mf(p.alternate,p,to);if(b!==null){ni=b;return}if(p=p.sibling,p!==null){ni=p;return}ni=p=h}while(p!==null);Vr===0&&(Vr=5)}function Nd(h,p){do{var b=Lu(h.alternate,h);if(b!==null){b.flags&=32767,ni=b;return}if(b=h.return,b!==null&&(b.flags|=32768,b.subtreeFlags=0,b.deletions=null),!p&&(h=h.sibling,h!==null)){ni=h;return}ni=h=b}while(h!==null);Vr=6,ni=null}function _o(h,p,b,C,I,F,ce,Oe,qe,Pt){var Jt=Pe.T,gn=Ys();try{Ui(2),Pe.T=null,Id(h,p,b,C,gn,I,F,ce,Oe,qe,Pt)}finally{Pe.T=Jt,Ui(gn)}}function Id(h,p,b,C,I,F,ce,Oe){do hl();while(vu!==null);if((cr&6)!==0)throw Error(r(327));var qe=h.finishedWork;if(C=h.finishedLanes,qe===null)return null;if(h.finishedWork=null,h.finishedLanes=0,qe===h.current)throw Error(r(177));h.callbackNode=null,h.callbackPriority=0,h.cancelPendingCommit=null;var Pt=qe.lanes|qe.childLanes;if(Pt|=Oc,pe(h,C,Pt,F,ce,Oe),h===Er&&(ni=Er=null,Yi=0),(qe.subtreeFlags&10256)===0&&(qe.flags&10256)===0||Nc||(Nc=!0,qf=Pt,Qg=b,Ec($g,function(){return hl(),null})),b=(qe.flags&15990)!==0,(qe.subtreeFlags&15990)!==0||b?(b=Pe.T,Pe.T=null,F=Ys(),Ui(2),ce=cr,cr|=4,_t(h,qe),On(qe,h),gr(h.containerInfo),h.current=qe,Yt(h,qe.alternate,qe),Gg(),cr=ce,Ui(F),Pe.T=b):h.current=qe,Nc?(Nc=!1,vu=h,jh=C):zd(h,Pt),Pt=h.pendingLanes,Pt===0&&($f=null),J(qe.stateNode),Ot(h),p!==null)for(I=h.onRecoverableError,qe=0;qe<p.length;qe++)Pt=p[qe],I(Pt.value,{componentStack:Pt.stack});return(jh&3)!==0&&hl(),Pt=h.pendingLanes,(C&4194218)!==0&&(Pt&42)!==0?h===Jg?sp++:(sp=0,Jg=h):sp=0,Qt(0),null}function zd(h,p){(h.pooledCacheLanes&=p)===0&&(p=h.pooledCache,p!=null&&(h.pooledCache=null,Pa(p)))}function hl(){if(vu!==null){var h=vu,p=qf;qf=0;var b=Te(jh),C=32>b?32:b;b=Pe.T;var I=Ys();try{if(Ui(C),Pe.T=null,vu===null)var F=!1;else{C=Qg,Qg=null;var ce=vu,Oe=jh;if(vu=null,jh=0,(cr&6)!==0)throw Error(r(331));var qe=cr;if(cr|=4,Dd(ce.current),Wp(ce,ce.current,Oe,C),cr=qe,Qt(0,!1),qo&&typeof qo.onPostCommitFiberRoot=="function")try{qo.onPostCommitFiberRoot(Bs,ce)}catch{}F=!0}return F}finally{Ui(I),Pe.T=b,zd(h,p)}}return!1}function Of(h,p,b){p=Le(b,p),p=ql(h.stateNode,p,2),h=kt(h,p,2),h!==null&&(ee(h,2),Ot(h))}function hr(h,p,b){if(h.tag===3)Of(h,h,b);else for(;p!==null;){if(p.tag===3){Of(p,h,b);break}else if(p.tag===1){var C=p.stateNode;if(typeof p.type.getDerivedStateFromError=="function"||typeof C.componentDidCatch=="function"&&($f===null||!$f.has(C))){h=Le(b,h),b=Xc(2),C=kt(p,b,2),C!==null&&(bc(b,C,p,h),ee(C,2),Ot(C));break}}p=p.return}}function dl(h,p,b){var C=h.pingCache;if(C===null){C=h.pingCache=new rc;var I=new Set;C.set(p,I)}else I=C.get(p),I===void 0&&(I=new Set,C.set(p,I));I.has(b)||(ca=!0,I.add(b),h=Sc.bind(null,h,p,b),p.then(h,h))}function Sc(h,p,b){var C=h.pingCache;C!==null&&C.delete(p),h.pingedLanes|=h.suspendedLanes&b,h.warmLanes&=~b,Er===h&&(Yi&b)===b&&(Vr===4||Vr===3&&(Yi&62914560)===Yi&&300>Jl()-wo?(cr&2)===0&&zs(h,0):_m|=b,gu===Yi&&(gu=0)),Ot(h)}function eu(h,p){p===0&&(p=V()),h=At(h,p),h!==null&&(ee(h,p),Ot(h))}function wc(h){var p=h.memoizedState,b=0;p!==null&&(b=p.retryLane),eu(h,b)}function tu(h,p){var b=0;switch(h.tag){case 13:var C=h.stateNode,I=h.memoizedState;I!==null&&(b=I.retryLane);break;case 19:C=h.stateNode;break;case 22:C=h.stateNode._retryCache;break;default:throw Error(r(314))}C!==null&&C.delete(p),eu(h,b)}function Ec(h,p){return pm(h,p)}function Qp(h,p,b,C){this.tag=h,this.key=b,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=p,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=C,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Sh(h){return h=h.prototype,!(!h||!h.isReactComponent)}function Vo(h,p){var b=h.alternate;return b===null?(b=t(h.tag,p,h.key,h.mode),b.elementType=h.elementType,b.type=h.type,b.stateNode=h.stateNode,b.alternate=h,h.alternate=b):(b.pendingProps=p,b.type=h.type,b.flags=0,b.subtreeFlags=0,b.deletions=null),b.flags=h.flags&31457280,b.childLanes=h.childLanes,b.lanes=h.lanes,b.child=h.child,b.memoizedProps=h.memoizedProps,b.memoizedState=h.memoizedState,b.updateQueue=h.updateQueue,p=h.dependencies,b.dependencies=p===null?null:{lanes:p.lanes,firstContext:p.firstContext},b.sibling=h.sibling,b.index=h.index,b.ref=h.ref,b.refCleanup=h.refCleanup,b}function wh(h,p){h.flags&=31457282;var b=h.alternate;return b===null?(h.childLanes=0,h.lanes=p,h.child=null,h.subtreeFlags=0,h.memoizedProps=null,h.memoizedState=null,h.updateQueue=null,h.dependencies=null,h.stateNode=null):(h.childLanes=b.childLanes,h.lanes=b.lanes,h.child=b.child,h.subtreeFlags=0,h.deletions=null,h.memoizedProps=b.memoizedProps,h.memoizedState=b.memoizedState,h.updateQueue=b.updateQueue,h.type=b.type,p=b.dependencies,h.dependencies=p===null?null:{lanes:p.lanes,firstContext:p.firstContext}),h}function pl(h,p,b,C,I,F){var ce=0;if(C=h,typeof h=="function")Sh(h)&&(ce=1);else if(typeof h=="string")ce=gl&&kr?fm(h,b,oa.current)?26:ou(h)?27:5:gl?fm(h,b,oa.current)?26:5:kr&&ou(h)?27:5;else e:switch(h){case iu:return ls(b.children,I,F,p);case Mh:ce=8,I|=24;break;case kd:return h=t(12,b,p,I|2),h.elementType=kd,h.lanes=F,h;case Fd:return h=t(13,b,p,I),h.elementType=Fd,h.lanes=F,h;case Lf:return h=t(19,b,p,I),h.elementType=Lf,h.lanes=F,h;case O:return Pf(b,I,F,p);default:if(typeof h=="object"&&h!==null)switch(h.$$typeof){case Ah:case Qa:ce=10;break e;case Hd:ce=9;break e;case ru:ce=11;break e;case su:ce=14;break e;case Q:ce=16,C=null;break e}ce=29,b=Error(r(130,h===null?"null":typeof h,"")),C=null}return p=t(ce,b,p,I),p.elementType=h,p.type=C,p.lanes=F,p}function ls(h,p,b,C){return h=t(7,h,C,p),h.lanes=b,h}function Pf(h,p,b,C){h=t(22,h,C,p),h.elementType=O,h.lanes=b;var I={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var F=I._current;if(F===null)throw Error(r(456));if((I._pendingVisibility&2)===0){var ce=At(F,2);ce!==null&&(I._pendingVisibility|=2,Xs(ce,F,2))}},attach:function(){var F=I._current;if(F===null)throw Error(r(456));if((I._pendingVisibility&2)!==0){var ce=At(F,2);ce!==null&&(I._pendingVisibility&=-3,Xs(ce,F,2))}}};return h.stateNode=I,h}function Df(h,p,b){return h=t(6,h,null,p),h.lanes=b,h}function Ud(h,p,b){return p=t(4,h.children!==null?h.children:[],h.key,p),p.lanes=b,p.stateNode={containerInfo:h.containerInfo,pendingChildren:null,implementation:h.implementation},p}function ku(h,p,b,C,I,F,ce,Oe){this.tag=1,this.containerInfo=h,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=Hi,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=H(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=H(0),this.hiddenUpdates=H(null),this.identifierPrefix=C,this.onUncaughtError=I,this.onCaughtError=F,this.onRecoverableError=ce,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=Oe,this.incompleteTransitions=new Map}function Jp(h,p,b,C,I,F,ce,Oe,qe,Pt,Jt,gn){return h=new ku(h,p,b,ce,Oe,qe,Pt,gn),p=1,F===!0&&(p|=24),F=t(3,null,null,p),h.current=F,F.stateNode=h,p=ko(),p.refCount++,h.pooledCache=p,p.refCount++,F.memoizedState={element:C,isDehydrated:b,cache:p},tn(F),h}function cs(h){return h?(h=Uf,h):Uf}function Eh(h){var p=h._reactInternals;if(p===void 0)throw typeof h.render=="function"?Error(r(188)):(h=Object.keys(h).join(","),Error(r(268,h)));return h=y(p),h=h!==null?x(h):null,h===null?null:Hn(h.stateNode)}function nu(h,p,b,C,I,F){I=cs(I),C.context===null?C.context=I:C.pendingContext=I,C=dt(p),C.payload={element:b},F=F===void 0?null:F,F!==null&&(C.callback=F),b=kt(h,C,p),b!==null&&(Xs(b,h,p),cn(b,h,p))}function Hu(h,p){if(h=h.memoizedState,h!==null&&h.dehydrated!==null){var b=h.retryLane;h.retryLane=b!==0&&b<p?b:p}}function Fu(h,p){Hu(h,p),(h=h.alternate)&&Hu(h,p)}var _i={},Go=Sg(),Ms=kU(),Bd=Object.assign,zy=Symbol.for("react.element"),Th=Symbol.for("react.transitional.element"),jo=Symbol.for("react.portal"),iu=Symbol.for("react.fragment"),Mh=Symbol.for("react.strict_mode"),kd=Symbol.for("react.profiler"),Ah=Symbol.for("react.provider"),Hd=Symbol.for("react.consumer"),Qa=Symbol.for("react.context"),ru=Symbol.for("react.forward_ref"),Fd=Symbol.for("react.suspense"),Lf=Symbol.for("react.suspense_list"),su=Symbol.for("react.memo"),Q=Symbol.for("react.lazy"),O=Symbol.for("react.offscreen"),j=Symbol.for("react.memo_cache_sentinel"),le=Symbol.iterator,ke=Symbol.for("react.client.reference"),Pe=Go.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ct,It,Zt=!1,_n=Array.isArray,En=e.rendererVersion,hn=e.rendererPackageName,li=e.extraDevToolsConfig,Hn=e.getPublicInstance,hi=e.getRootHostContext,Xn=e.getChildHostContext,si=e.prepareForCommit,gr=e.resetAfterCommit,Sr=e.createInstance,bi=e.appendInitialChild,Ci=e.finalizeInitialChildren,ln=e.shouldSetTextContent,Rn=e.createTextInstance,ti=e.scheduleTimeout,sr=e.cancelTimeout,Hi=e.noTimeout,ji=e.isPrimaryRenderer;e.warnsIfNotActing;var ar=e.supportsMutation,us=e.supportsPersistence,or=e.supportsHydration,bo=e.getInstanceFromNode;e.beforeActiveInstanceBlur,e.afterActiveInstanceBlur;var ir=e.preparePortalMount;e.prepareScopeUpdate,e.getInstanceFromScope;var Ui=e.setCurrentUpdatePriority,Ys=e.getCurrentUpdatePriority,ml=e.resolveUpdatePriority;e.resolveEventType,e.resolveEventTimeStamp;var Vu=e.shouldAttemptEagerTransition,Zs=e.detachDeletedInstance;e.requestPostPaintCallback;var vr=e.maySuspendCommit,Ks=e.preloadInstance,Ja=e.startSuspendingCommit,fs=e.suspendInstance,ts=e.waitForCommitToBeReady,Tc=e.NotPendingTransition,$o=e.HostTransitionContext,Gu=e.resetFormInstance;e.bindToConsole;var em=e.supportsMicrotasks,Mc=e.scheduleMicrotask,Ql=e.supportsTestSelectors,tm=e.findFiberRoot,Vd=e.getBoundingRect,Rg=e.getTextContent,ju=e.isHiddenSubtree,nm=e.matchAccessibilityRole,Og=e.setFocusIfFocusable,Pg=e.setupIntersectionObserver,au=e.appendChild,Nf=e.appendChildToContainer,im=e.commitTextUpdate,Dg=e.commitMount,Gd=e.commitUpdate,rm=e.insertBefore,sm=e.insertInContainerBefore,jd=e.removeChild,am=e.removeChildFromContainer,om=e.resetTextContent,Lg=e.hideInstance,$d=e.hideTextInstance,lm=e.unhideInstance,mE=e.unhideTextInstance,d1=e.clearContainer,qd=e.cloneInstance,cm=e.createContainerChildSet,Uy=e.appendChildToContainerChildSet,Ng=e.finalizeContainerChildren,Wd=e.replaceContainerChildren,By=e.cloneHiddenInstance,ky=e.cloneHiddenTextInstance,Ig=e.isSuspenseInstancePending,zg=e.isSuspenseInstanceFallback,p1=e.getSuspenseInstanceFallbackErrorDetails,m1=e.registerSuspenseInstanceRetry,Hy=e.canHydrateFormStateMarker,g1=e.isFormStateMarkerMatching,Fy=e.getNextHydratableSibling,Ug=e.getFirstHydratableChild,v1=e.getFirstHydratableChildWithinContainer,y1=e.getFirstHydratableChildWithinSuspenseInstance,gE=e.canHydrateInstance,Vy=e.canHydrateTextInstance,_1=e.canHydrateSuspenseInstance,b1=e.hydrateInstance,Gy=e.hydrateTextInstance,x1=e.hydrateSuspenseInstance,S1=e.getNextHydratableInstanceAfterSuspenseInstance,vE=e.commitHydratedContainer,yE=e.commitHydratedSuspenseInstance,w1=e.clearSuspenseBoundary,um=e.clearSuspenseBoundaryFromContainer,Bg=e.shouldDeleteUnhydratedTailInstances;e.diffHydratedPropsForDevWarnings,e.diffHydratedTextForDevWarnings,e.describeHydratableInstanceForDevWarnings;var kg=e.validateHydratableInstance,E1=e.validateHydratableTextInstance,gl=e.supportsResources,fm=e.isHostHoistableType,Hg=e.getHoistableRoot,jy=e.getResource,T1=e.acquireResource,Ch=e.releaseResource,hm=e.hydrateHoistable,dm=e.mountHoistable,Xd=e.unmountHoistable,Fg=e.createHoistableInstance,M1=e.prepareToCommitHoistables,A1=e.mayResourceSuspendCommit,Rh=e.preloadResource,C1=e.suspendResource,kr=e.supportsSingletons,Ac=e.resolveSingletonInstance,If=e.clearSingleton,R1=e.acquireSingletonInstance,zf=e.releaseSingletonInstance,ou=e.isHostSingletonType,Us=[],$u=-1,Uf={},xo=Math.clz32?Math.clz32:D,O1=Math.log,P1=Math.LN2,lu=128,Oh=4194304,pm=Ms.unstable_scheduleCallback,Vg=Ms.unstable_cancelCallback,D1=Ms.unstable_shouldYield,Gg=Ms.unstable_requestPaint,Jl=Ms.unstable_now,jg=Ms.unstable_ImmediatePriority,L1=Ms.unstable_UserBlockingPriority,$g=Ms.unstable_NormalPriority,_E=Ms.unstable_IdlePriority,N1=Ms.log,wa=Ms.unstable_setDisableYieldValue,Bs=null,qo=null,Wo=typeof Object.is=="function"?Object.is:he,$y=new WeakMap,Ph=[],Dh=0,Lh=null,Yd=0,vl=[],yl=0,Bf=null,Cc=1,Rc="",oa=E(null),Zd=E(null),cu=E(null),Nh=E(null),Ua=null,Ba=null,rr=!1,ec=null,Ea=!1,mm=Error(r(519)),tc=[],Ih=0,Oc=0,gm=null,qu=null,zh=!1,$r=!1,qy=!1,Kd=0,Qd=null,Uh=0,_l=0,Bh=null,Wu=!1,kh=!1,uu=Object.prototype.hasOwnProperty,Jd=Error(r(460)),vm=Error(r(474)),ym={then:function(){}},kf=null,Hf=null,Ff=0,Vf=Wi(!0),fu=Wi(!1),qr=E(null),ep=E(0),bl=E(null),Hr=null,la=E(0),Xu=0,Ni=null,Jn=null,lr=null,nc=!1,Hh=!1,Gf=!1,qg=0,Fh=0,Ta=null,Pc=0,Wg=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}},As={readContext:mr,use:Me,useCallback:Gi,useContext:Gi,useEffect:Gi,useImperativeHandle:Gi,useLayoutEffect:Gi,useInsertionEffect:Gi,useMemo:Gi,useReducer:Gi,useRef:Gi,useState:Gi,useDebugValue:Gi,useDeferredValue:Gi,useTransition:Gi,useSyncExternalStore:Gi,useId:Gi};As.useCacheRefresh=Gi,As.useMemoCache=Gi,As.useHostTransitionStatus=Gi,As.useFormState=Gi,As.useActionState=Gi,As.useOptimistic=Gi;var jf={readContext:mr,use:Me,useCallback:function(h,p){return Y().memoizedState=[h,p===void 0?null:p],h},useContext:mr,useEffect:co,useImperativeHandle:function(h,p,b){b=b!=null?b.concat([h]):null,Oa(4194308,4,jc.bind(null,p,h),b)},useLayoutEffect:function(h,p){return Oa(4194308,4,h,p)},useInsertionEffect:function(h,p){Oa(4,2,h,p)},useMemo:function(h,p){var b=Y();p=p===void 0?null:p;var C=h();if(Gf){de(!0);try{h()}finally{de(!1)}}return b.memoizedState=[C,p],C},useReducer:function(h,p,b){var C=Y();if(b!==void 0){var I=b(p);if(Gf){de(!0);try{b(p)}finally{de(!1)}}}else I=p;return C.memoizedState=C.baseState=I,h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:h,lastRenderedState:I},C.queue=h,h=h.dispatch=qc.bind(null,Ni,h),[C.memoizedState,h]},useRef:function(h){var p=Y();return h={current:h},p.memoizedState=h},useState:function(h){h=an(h);var p=h.queue,b=Wc.bind(null,Ni,p);return p.dispatch=b,[h.memoizedState,b]},useDebugValue:qa,useDeferredValue:function(h,p){var b=Y();return yc(b,h,p)},useTransition:function(){var h=an(!1);return h=sl.bind(null,Ni,h.queue,!0,!1),Y().memoizedState=h,[!1,h]},useSyncExternalStore:function(h,p,b){var C=Ni,I=Y();if(rr){if(b===void 0)throw Error(r(407));b=b()}else{if(b=p(),Er===null)throw Error(r(349));(Yi&60)!==0||en(C,p,b)}I.memoizedState=b;var F={value:b,getSnapshot:p};return I.queue=F,co(Pn.bind(null,C,F,h),[h]),C.flags|=2048,Ss(9,sn.bind(null,C,F,b,p),{destroy:void 0},null),b},useId:function(){var h=Y(),p=Er.identifierPrefix;if(rr){var b=Rc,C=Cc;b=(C&~(1<<32-xo(C)-1)).toString(32)+b,p=":"+p+"R"+b,b=qg++,0<b&&(p+="H"+b.toString(32)),p+=":"}else b=Pc++,p=":"+p+"r"+b.toString(32)+":";return h.memoizedState=p},useCacheRefresh:function(){return Y().memoizedState=xf.bind(null,Ni)}};jf.useMemoCache=Ne,jf.useHostTransitionStatus=$c,jf.useFormState=kn,jf.useActionState=kn,jf.useOptimistic=function(h){var p=Y();p.memoizedState=p.baseState=h;var b={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return p.queue=b,p=$l.bind(null,Ni,!0,b),b.dispatch=p,[h,p]};var So={readContext:mr,use:Me,useCallback:Gl,useContext:mr,useEffect:Du,useImperativeHandle:$a,useInsertionEffect:vc,useLayoutEffect:ya,useMemo:jl,useReducer:pt,useRef:na,useState:function(){return pt(Ye)},useDebugValue:qa,useDeferredValue:function(h,p){var b=ve();return _c(b,Jn.memoizedState,h,p)},useTransition:function(){var h=pt(Ye)[0],p=ve().memoizedState;return[typeof h=="boolean"?h:we(h),p]},useSyncExternalStore:rn,useId:fo};So.useCacheRefresh=al,So.useMemoCache=Ne,So.useHostTransitionStatus=$c,So.useFormState=pr,So.useActionState=pr,So.useOptimistic=function(h,p){var b=ve();return In(b,Jn,h,p)};var xl={readContext:mr,use:Me,useCallback:Gl,useContext:mr,useEffect:Du,useImperativeHandle:$a,useInsertionEffect:vc,useLayoutEffect:ya,useMemo:jl,useReducer:Nt,useRef:na,useState:function(){return Nt(Ye)},useDebugValue:qa,useDeferredValue:function(h,p){var b=ve();return Jn===null?yc(b,h,p):_c(b,Jn.memoizedState,h,p)},useTransition:function(){var h=Nt(Ye)[0],p=ve().memoizedState;return[typeof h=="boolean"?h:we(h),p]},useSyncExternalStore:rn,useId:fo};xl.useCacheRefresh=al,xl.useMemoCache=Ne,xl.useHostTransitionStatus=$c,xl.useFormState=fr,xl.useActionState=fr,xl.useOptimistic=function(h,p){var b=ve();return Jn!==null?In(b,Jn,h,p):(b.baseState=h,[h,b.queue.dispatch])};var hu={isMounted:function(h){return(h=h._reactInternals)?m(h)===h:!1},enqueueSetState:function(h,p,b){h=h._reactInternals;var C=ys(),I=dt(C);I.payload=p,b!=null&&(I.callback=b),p=kt(h,I,C),p!==null&&(Xs(p,h,C),cn(p,h,C))},enqueueReplaceState:function(h,p,b){h=h._reactInternals;var C=ys(),I=dt(C);I.tag=1,I.payload=p,b!=null&&(I.callback=b),p=kt(h,I,C),p!==null&&(Xs(p,h,C),cn(p,h,C))},enqueueForceUpdate:function(h,p){h=h._reactInternals;var b=ys(),C=dt(b);C.tag=2,p!=null&&(C.callback=p),p=kt(h,C,b),p!==null&&(Xs(p,h,b),cn(p,h,b))}},Xg=typeof reportError=="function"?reportError:function(h){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var p=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof h=="object"&&h!==null&&typeof h.message=="string"?String(h.message):String(h),error:h});if(!window.dispatchEvent(p))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",h);return}console.error(h)},Yg=Error(r(461)),Fr=!1,Zg={dehydrated:null,treeContext:null,retryLane:0},Yu=E(null),Dc=null,Sl=null,tp=typeof AbortController<"u"?AbortController:function(){var h=[],p=this.signal={aborted:!1,addEventListener:function(b,C){h.push(C)}};this.abort=function(){p.aborted=!0,h.forEach(function(b){return b()})}},I1=Ms.unstable_scheduleCallback,z1=Ms.unstable_NormalPriority,Wr={$$typeof:Qa,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0},Wy=Pe.S;Pe.S=function(h,p){typeof p=="object"&&p!==null&&typeof p.then=="function"&&rt(h,p),Wy!==null&&Wy(h,p)};var du=E(null),pu=!1,Cs=!1,Xy=!1,wr=typeof WeakSet=="function"?WeakSet:Set,Si=null,Fi=!1,Yn=null,Ri=!1,_s=null,wl=8192,np={getCacheForType:function(h){var p=mr(Wr),b=p.data.get(h);return b===void 0&&(b=h(),p.data.set(h,b)),b}},ip=0,ic=1,ns=2,Lc=3,mu=4;if(typeof Symbol=="function"&&Symbol.for){var Vh=Symbol.for;ip=Vh("selector.component"),ic=Vh("selector.has_pseudo_class"),ns=Vh("selector.role"),Lc=Vh("selector.test_id"),mu=Vh("selector.text")}var rc=typeof WeakMap=="function"?WeakMap:Map,cr=0,Er=null,ni=null,Yi=0,Nr=0,eo=null,sc=!1,El=!1,ca=!1,to=0,Vr=0,Tl=0,Zu=0,_m=0,Ml=0,gu=0,Gh=null,Rs=null,Kg=!1,wo=0,rp=1/0,bm=null,$f=null,Nc=!1,vu=null,jh=0,qf=0,Qg=null,sp=0,Jg=null;return _i.attemptContinuousHydration=function(h){if(h.tag===13){var p=At(h,67108864);p!==null&&Xs(p,h,67108864),Fu(h,67108864)}},_i.attemptHydrationAtCurrentPriority=function(h){if(h.tag===13){var p=ys(),b=At(h,p);b!==null&&Xs(b,h,p),Fu(h,p)}},_i.attemptSynchronousHydration=function(h){switch(h.tag){case 3:if(h=h.stateNode,h.current.memoizedState.isDehydrated){var p=N(h.pendingLanes);if(p!==0){for(h.pendingLanes|=2,h.entangledLanes|=2;p;){var b=1<<31-xo(p);h.entanglements[1]|=b,p&=~b}Ot(h),(cr&6)===0&&(rp=Jl()+500,Qt(0))}}break;case 13:p=At(h,2),p!==null&&Xs(p,h,2),Rf(),Fu(h,2)}},_i.batchedUpdates=function(h,p){return h(p)},_i.createComponentSelector=function(h){return{$$typeof:ip,value:h}},_i.createContainer=function(h,p,b,C,I,F,ce,Oe,qe,Pt){return Jp(h,p,!1,null,b,C,F,ce,Oe,qe,Pt,null)},_i.createHasPseudoClassSelector=function(h){return{$$typeof:ic,value:h}},_i.createHydrationContainer=function(h,p,b,C,I,F,ce,Oe,qe,Pt,Jt,gn,wn){return h=Jp(b,C,!0,h,I,F,Oe,qe,Pt,Jt,gn,wn),h.context=cs(null),b=h.current,C=ys(),I=dt(C),I.callback=p??null,kt(b,I,C),h.current.lanes=C,ee(h,C),Ot(h),h},_i.createPortal=function(h,p,b){var C=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:jo,key:C==null?null:""+C,children:h,containerInfo:p,implementation:b}},_i.createRoleSelector=function(h){return{$$typeof:ns,value:h}},_i.createTestNameSelector=function(h){return{$$typeof:Lc,value:h}},_i.createTextSelector=function(h){return{$$typeof:mu,value:h}},_i.defaultOnCaughtError=function(h){console.error(h)},_i.defaultOnRecoverableError=function(h){Xg(h)},_i.defaultOnUncaughtError=function(h){Xg(h)},_i.deferredUpdates=function(h){var p=Pe.T,b=Ys();try{return Ui(32),Pe.T=null,h()}finally{Ui(b),Pe.T=p}},_i.discreteUpdates=function(h,p,b,C,I){var F=Pe.T,ce=Ys();try{return Ui(2),Pe.T=null,h(p,b,C,I)}finally{Ui(ce),Pe.T=F,cr===0&&(rp=Jl()+500)}},_i.findAllNodes=xh,_i.findBoundingRects=function(h,p){if(!Ql)throw Error(r(363));p=xh(h,p),h=[];for(var b=0;b<p.length;b++)h.push(Vd(p[b]));for(p=h.length-1;0<p;p--){b=h[p];for(var C=b.x,I=C+b.width,F=b.y,ce=F+b.height,Oe=p-1;0<=Oe;Oe--)if(p!==Oe){var qe=h[Oe],Pt=qe.x,Jt=Pt+qe.width,gn=qe.y,wn=gn+qe.height;if(C>=Pt&&F>=gn&&I<=Jt&&ce<=wn){h.splice(p,1);break}else if(C!==Pt||b.width!==qe.width||wn<F||gn>ce){if(!(F!==gn||b.height!==qe.height||Jt<C||Pt>I)){Pt>C&&(qe.width+=Pt-C,qe.x=C),Jt<I&&(qe.width=I-Pt),h.splice(p,1);break}}else{gn>F&&(qe.height+=gn-F,qe.y=F),wn<ce&&(qe.height=ce-gn),h.splice(p,1);break}}}return h},_i.findHostInstance=Eh,_i.findHostInstanceWithNoPortals=function(h){return h=y(h),h=h!==null?T(h):null,h===null?null:Hn(h.stateNode)},_i.findHostInstanceWithWarning=function(h){return Eh(h)},_i.flushPassiveEffects=hl,_i.flushSyncFromReconciler=function(h){var p=cr;cr|=1;var b=Pe.T,C=Ys();try{if(Ui(2),Pe.T=null,h)return h()}finally{Ui(C),Pe.T=b,cr=p,(cr&6)===0&&Qt(0)}},_i.flushSyncWork=Rf,_i.focusWithin=function(h,p){if(!Ql)throw Error(r(363));for(h=zu(h),p=Za(h,p),p=Array.from(p),h=0;h<p.length;){var b=p[h++],C=b.tag;if(!ju(b)){if((C===5||C===26||C===27)&&Og(b.stateNode))return!0;for(b=b.child;b!==null;)p.push(b),b=b.sibling}}return!1},_i.getFindAllNodesFailureDescription=function(h,p){if(!Ql)throw Error(r(363));var b=0,C=[];h=[zu(h),0];for(var I=0;I<h.length;){var F=h[I++],ce=F.tag,Oe=h[I++],qe=p[Oe];if((ce!==5&&ce!==26&&ce!==27||!ju(F))&&(Kc(F,qe)&&(C.push(Xp(qe)),Oe++,Oe>b&&(b=Oe)),Oe<p.length))for(F=F.child;F!==null;)h.push(F,Oe),F=F.sibling}if(b<p.length){for(h=[];b<p.length;b++)h.push(Xp(p[b]));return`findAllNodes was able to match part of the selector:
  `+(C.join(" > ")+`

No matching component was found for:
  `)+h.join(" > ")}return null},_i.getPublicRootInstance=function(h){if(h=h.current,!h.child)return null;switch(h.child.tag){case 27:case 5:return Hn(h.child.stateNode);default:return h.child.stateNode}},_i.injectIntoDevTools=function(){var h={bundleType:0,version:En,rendererPackageName:hn,currentDispatcherRef:Pe,findFiberByHostInstance:bo,reconcilerVersion:"19.0.0"};if(li!==null&&(h.rendererConfig=li),typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")h=!1;else{var p=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(p.isDisabled||!p.supportsFiber)h=!0;else{try{Bs=p.inject(h),qo=p}catch{}h=!!p.checkDCE}}return h},_i.isAlreadyRendering=function(){return!1},_i.observeVisibleRects=function(h,p,b,C){if(!Ql)throw Error(r(363));h=xh(h,p);var I=Pg(h,b,C).disconnect;return{disconnect:function(){I()}}},_i.shouldError=function(){return null},_i.shouldSuspend=function(){return!1},_i.startHostTransition=function(h,p,b,C){if(h.tag!==5)throw Error(r(476));var I=uo(h).queue;sl(h,I,p,Tc,b===null?i:function(){var F=uo(h).next.queue;return ho(h,F,{},ys()),b(C)})},_i.updateContainer=function(h,p,b,C){var I=p.current,F=ys();return nu(I,F,h,p,b,C),F},_i.updateContainerSync=function(h,p,b,C){return p.tag===0&&hl(),nu(p.current,2,h,p,b,C),2},_i},n.exports.default=n.exports,Object.defineProperty(n.exports,"__esModule",{value:!0})})(OM)),OM.exports}var BL;function Dce(){return BL||(BL=1,RM.exports=Pce()),RM.exports}var Lce=Dce();const Nce=Ru(Lce);var kL=kU();function JC(n,e,t){if(!n)return;if(t(n)===!0)return n;let i=e?n.return:n.child;for(;i;){const r=JC(i,e,t);if(r)return r;i=e?null:i.sibling}}function HU(n){try{return Object.defineProperties(n,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return n}}const eR=HU(z.createContext(null));let FU=class extends z.Component{render(){return z.createElement(eR.Provider,{value:this._reactInternals},this.props.children)}};function VU(){const n=z.useContext(eR);if(n===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const e=z.useId();return z.useMemo(()=>{for(const t of[n,n?.alternate]){if(!t)continue;const i=JC(t,!1,r=>{let s=r.memoizedState;for(;s;){if(s.memoizedState===e)return!0;s=s.next}});if(i)return i}},[n,e])}const Ice=Symbol.for("react.context"),zce=n=>n!==null&&typeof n=="object"&&"$$typeof"in n&&n.$$typeof===Ice;function Uce(){const n=VU(),[e]=z.useState(()=>new Map);e.clear();let t=n;for(;t;){const i=t.type;zce(i)&&i!==eR&&!e.has(i)&&e.set(i,z.use(HU(i))),t=t.return}return e}function Bce(){const n=Uce();return z.useMemo(()=>Array.from(n.keys()).reduce((e,t)=>i=>z.createElement(e,null,z.createElement(t.Provider,{...i,value:n.get(t)})),e=>z.createElement(FU,{...e})),[n])}function GU(n){let e=n.root;for(;e.getState().previousRoot;)e=e.getState().previousRoot;return e}const jU=n=>n&&n.isOrthographicCamera,kce=n=>n&&n.hasOwnProperty("current"),Hce=n=>n!=null&&(typeof n=="string"||typeof n=="number"||n.isColor),n1=((n,e)=>typeof window<"u"&&(((n=window.document)==null?void 0:n.createElement)||((e=window.navigator)==null?void 0:e.product)==="ReactNative"))()?z.useLayoutEffect:z.useEffect;function tR(n){const e=z.useRef(n);return n1(()=>void(e.current=n),[n]),e}function Fce(){const n=VU(),e=Bce();return z.useMemo(()=>({children:t})=>{const r=!!JC(n,!0,s=>s.type===z.StrictMode)?z.StrictMode:z.Fragment;return ue.jsx(r,{children:ue.jsx(e,{children:t})})},[n,e])}function Vce({set:n}){return n1(()=>(n(new Promise(()=>null)),()=>n(!1)),[n]),null}const Gce=(n=>(n=class extends z.Component{constructor(...t){super(...t),this.state={error:!1}}componentDidCatch(t){this.props.set(t)}render(){return this.state.error?null:this.props.children}},n.getDerivedStateFromError=()=>({error:!0}),n))();function $U(n){var e;const t=typeof window<"u"?(e=window.devicePixelRatio)!=null?e:2:1;return Array.isArray(n)?Math.min(Math.max(n[0],t),n[1]):n}function Dv(n){var e;return(e=n.__r3f)==null?void 0:e.root.getState()}const Ps={obj:n=>n===Object(n)&&!Ps.arr(n)&&typeof n!="function",fun:n=>typeof n=="function",str:n=>typeof n=="string",num:n=>typeof n=="number",boo:n=>typeof n=="boolean",und:n=>n===void 0,nul:n=>n===null,arr:n=>Array.isArray(n),equ(n,e,{arrays:t="shallow",objects:i="reference",strict:r=!0}={}){if(typeof n!=typeof e||!!n!=!!e)return!1;if(Ps.str(n)||Ps.num(n)||Ps.boo(n))return n===e;const s=Ps.obj(n);if(s&&i==="reference")return n===e;const a=Ps.arr(n);if(a&&t==="reference")return n===e;if((a||s)&&n===e)return!0;let o;for(o in n)if(!(o in e))return!1;if(s&&t==="shallow"&&i==="shallow"){for(o in r?e:n)if(!Ps.equ(n[o],e[o],{strict:r,objects:"reference"}))return!1}else for(o in r?e:n)if(n[o]!==e[o])return!1;if(Ps.und(o)){if(a&&n.length===0&&e.length===0||s&&Object.keys(n).length===0&&Object.keys(e).length===0)return!0;if(n!==e)return!1}return!0}};function jce(n){const e={nodes:{},materials:{},meshes:{}};return n&&n.traverse(t=>{t.name&&(e.nodes[t.name]=t),t.material&&!e.materials[t.material.name]&&(e.materials[t.material.name]=t.material),t.isMesh&&!e.meshes[t.name]&&(e.meshes[t.name]=t)}),e}function $ce(n){n.type!=="Scene"&&(n.dispose==null||n.dispose());for(const e in n){const t=n[e];t?.type!=="Scene"&&(t==null||t.dispose==null||t.dispose())}}const qU=["children","key","ref"];function qce(n){const e={};for(const t in n)qU.includes(t)||(e[t]=n[t]);return e}function VS(n,e,t,i){const r=n;let s=r?.__r3f;return s||(s={root:e,type:t,parent:null,children:[],props:qce(i),object:r,eventCount:0,handlers:{},isHidden:!1},r&&(r.__r3f=s)),s}function R_(n,e){let t=n[e];if(!e.includes("-"))return{root:n,key:e,target:t};t=n;for(const r of e.split("-")){var i;e=r,n=t,t=(i=t)==null?void 0:i[e]}return{root:n,key:e,target:t}}const HL=/-\d+$/;function GS(n,e){if(Ps.str(e.props.attach)){if(HL.test(e.props.attach)){const r=e.props.attach.replace(HL,""),{root:s,key:a}=R_(n.object,r);Array.isArray(s[a])||(s[a]=[])}const{root:t,key:i}=R_(n.object,e.props.attach);e.previousAttach=t[i],t[i]=e.object}else Ps.fun(e.props.attach)&&(e.previousAttach=e.props.attach(n.object,e.object))}function jS(n,e){if(Ps.str(e.props.attach)){const{root:t,key:i}=R_(n.object,e.props.attach),r=e.previousAttach;r===void 0?delete t[i]:t[i]=r}else e.previousAttach==null||e.previousAttach(n.object,e.object);delete e.previousAttach}const uA=[...qU,"args","dispose","attach","object","onUpdate","dispose"],FL=new Map;function Wce(n){let e=FL.get(n.constructor);try{e||(e=new n.constructor,FL.set(n.constructor,e))}catch{}return e}function Xce(n,e){const t={};for(const i in e)if(!uA.includes(i)&&!Ps.equ(e[i],n.props[i])){t[i]=e[i];for(const r in e)r.startsWith(`${i}-`)&&(t[r]=e[r])}for(const i in n.props){if(uA.includes(i)||e.hasOwnProperty(i))continue;const{root:r,key:s}=R_(n.object,i);if(r.constructor&&r.constructor.length===0){const a=Wce(r);Ps.und(a)||(t[s]=a[s])}else t[s]=0}return t}const Yce=["map","emissiveMap","sheenColorMap","specularColorMap","envMap"],Zce=/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/;function th(n,e){var t;const i=n.__r3f,r=i&&GU(i).getState(),s=i?.eventCount;for(const o in e){let l=e[o];if(uA.includes(o))continue;if(i&&Zce.test(o)){typeof l=="function"?i.handlers[o]=l:delete i.handlers[o],i.eventCount=Object.keys(i.handlers).length;continue}if(l===void 0)continue;let{root:u,key:d,target:m}=R_(n,o);if(m instanceof gy&&l instanceof gy)m.mask=l.mask;else if(m instanceof yn&&Hce(l))m.set(l);else if(m!==null&&typeof m=="object"&&typeof m.set=="function"&&typeof m.copy=="function"&&l!=null&&l.constructor&&m.constructor===l.constructor)m.copy(l);else if(m!==null&&typeof m=="object"&&typeof m.set=="function"&&Array.isArray(l))typeof m.fromArray=="function"?m.fromArray(l):m.set(...l);else if(m!==null&&typeof m=="object"&&typeof m.set=="function"&&typeof l=="number")typeof m.setScalar=="function"?m.setScalar(l):m.set(l);else{var a;u[d]=l,r&&!r.linear&&Yce.includes(d)&&(a=u[d])!=null&&a.isTexture&&u[d].format===ma&&u[d].type===Hl&&(u[d].colorSpace=ka)}}if(i!=null&&i.parent&&r!=null&&r.internal&&(t=i.object)!=null&&t.isObject3D&&s!==i.eventCount){const o=i.object,l=r.internal.interaction.indexOf(o);l>-1&&r.internal.interaction.splice(l,1),i.eventCount&&o.raycast!==null&&r.internal.interaction.push(o)}return i&&i.props.attach===void 0&&(i.object.isBufferGeometry?i.props.attach="geometry":i.object.isMaterial&&(i.props.attach="material")),i&&Ry(i),n}function Ry(n){var e;if(!n.parent)return;n.props.onUpdate==null||n.props.onUpdate(n.object);const t=(e=n.root)==null||e.getState==null?void 0:e.getState();t&&t.internal.frames===0&&t.invalidate()}function WU(n,e){n.manual||(jU(n)?(n.left=e.width/-2,n.right=e.width/2,n.top=e.height/2,n.bottom=e.height/-2):n.aspect=e.width/e.height,n.updateProjectionMatrix())}const Nl=n=>n?.isObject3D;function hx(n){return(n.eventObject||n.object).uuid+"/"+n.index+n.instanceId}function XU(n,e,t,i){const r=t.get(e);r&&(t.delete(e),t.size===0&&(n.delete(i),r.target.releasePointerCapture(i)))}function Kce(n,e){const{internal:t}=n.getState();t.interaction=t.interaction.filter(i=>i!==e),t.initialHits=t.initialHits.filter(i=>i!==e),t.hovered.forEach((i,r)=>{(i.eventObject===e||i.object===e)&&t.hovered.delete(r)}),t.capturedMap.forEach((i,r)=>{XU(t.capturedMap,e,i,r)})}function Qce(n){function e(l){const{internal:u}=n.getState(),d=l.offsetX-u.initialClick[0],m=l.offsetY-u.initialClick[1];return Math.round(Math.sqrt(d*d+m*m))}function t(l){return l.filter(u=>["Move","Over","Enter","Out","Leave"].some(d=>{var m;return(m=u.__r3f)==null?void 0:m.handlers["onPointer"+d]}))}function i(l,u){const d=n.getState(),m=new Set,v=[],y=u?u(d.internal.interaction):d.internal.interaction;for(let w=0;w<y.length;w++){const P=Dv(y[w]);P&&(P.raycaster.camera=void 0)}d.previousRoot||d.events.compute==null||d.events.compute(l,d);function x(w){const P=Dv(w);if(!P||!P.events.enabled||P.raycaster.camera===null)return[];if(P.raycaster.camera===void 0){var D;P.events.compute==null||P.events.compute(l,P,(D=P.previousRoot)==null?void 0:D.getState()),P.raycaster.camera===void 0&&(P.raycaster.camera=null)}return P.raycaster.camera?P.raycaster.intersectObject(w,!0):[]}let T=y.flatMap(x).sort((w,P)=>{const D=Dv(w.object),N=Dv(P.object);return!D||!N?w.distance-P.distance:N.events.priority-D.events.priority||w.distance-P.distance}).filter(w=>{const P=hx(w);return m.has(P)?!1:(m.add(P),!0)});d.events.filter&&(T=d.events.filter(T,d));for(const w of T){let P=w.object;for(;P;){var E;(E=P.__r3f)!=null&&E.eventCount&&v.push({...w,eventObject:P}),P=P.parent}}if("pointerId"in l&&d.internal.capturedMap.has(l.pointerId))for(let w of d.internal.capturedMap.get(l.pointerId).values())m.has(hx(w.intersection))||v.push(w.intersection);return v}function r(l,u,d,m){if(l.length){const v={stopped:!1};for(const y of l){let x=Dv(y.object);if(x||y.object.traverseAncestors(T=>{const E=Dv(T);if(E)return x=E,!1}),x){const{raycaster:T,pointer:E,camera:w,internal:P}=x,D=new me(E.x,E.y,0).unproject(w),N=V=>{var H,ee;return(H=(ee=P.capturedMap.get(V))==null?void 0:ee.has(y.eventObject))!=null?H:!1},G=V=>{const H={intersection:y,target:u.target};P.capturedMap.has(V)?P.capturedMap.get(V).set(y.eventObject,H):P.capturedMap.set(V,new Map([[y.eventObject,H]])),u.target.setPointerCapture(V)},k=V=>{const H=P.capturedMap.get(V);H&&XU(P.capturedMap,y.eventObject,H,V)};let M={};for(let V in u){let H=u[V];typeof H!="function"&&(M[V]=H)}let $={...y,...M,pointer:E,intersections:l,stopped:v.stopped,delta:d,unprojectedPoint:D,ray:T.ray,camera:w,stopPropagation(){const V="pointerId"in u&&P.capturedMap.get(u.pointerId);if((!V||V.has(y.eventObject))&&($.stopped=v.stopped=!0,P.hovered.size&&Array.from(P.hovered.values()).find(H=>H.eventObject===y.eventObject))){const H=l.slice(0,l.indexOf(y));s([...H,y])}},target:{hasPointerCapture:N,setPointerCapture:G,releasePointerCapture:k},currentTarget:{hasPointerCapture:N,setPointerCapture:G,releasePointerCapture:k},nativeEvent:u};if(m($),v.stopped===!0)break}}}return l}function s(l){const{internal:u}=n.getState();for(const d of u.hovered.values())if(!l.length||!l.find(m=>m.object===d.object&&m.index===d.index&&m.instanceId===d.instanceId)){const v=d.eventObject.__r3f;if(u.hovered.delete(hx(d)),v!=null&&v.eventCount){const y=v.handlers,x={...d,intersections:l};y.onPointerOut==null||y.onPointerOut(x),y.onPointerLeave==null||y.onPointerLeave(x)}}}function a(l,u){for(let d=0;d<u.length;d++){const m=u[d].__r3f;m==null||m.handlers.onPointerMissed==null||m.handlers.onPointerMissed(l)}}function o(l){switch(l){case"onPointerLeave":case"onPointerCancel":return()=>s([]);case"onLostPointerCapture":return u=>{const{internal:d}=n.getState();"pointerId"in u&&d.capturedMap.has(u.pointerId)&&requestAnimationFrame(()=>{d.capturedMap.has(u.pointerId)&&(d.capturedMap.delete(u.pointerId),s([]))})}}return function(d){const{onPointerMissed:m,internal:v}=n.getState();v.lastEvent.current=d;const y=l==="onPointerMove",x=l==="onClick"||l==="onContextMenu"||l==="onDoubleClick",E=i(d,y?t:void 0),w=x?e(d):0;l==="onPointerDown"&&(v.initialClick=[d.offsetX,d.offsetY],v.initialHits=E.map(D=>D.eventObject)),x&&!E.length&&w<=2&&(a(d,v.interaction),m&&m(d)),y&&s(E);function P(D){const N=D.eventObject,G=N.__r3f;if(!(G!=null&&G.eventCount))return;const k=G.handlers;if(y){if(k.onPointerOver||k.onPointerEnter||k.onPointerOut||k.onPointerLeave){const M=hx(D),$=v.hovered.get(M);$?$.stopped&&D.stopPropagation():(v.hovered.set(M,D),k.onPointerOver==null||k.onPointerOver(D),k.onPointerEnter==null||k.onPointerEnter(D))}k.onPointerMove==null||k.onPointerMove(D)}else{const M=k[l];M?(!x||v.initialHits.includes(N))&&(a(d,v.interaction.filter($=>!v.initialHits.includes($))),M(D)):x&&v.initialHits.includes(N)&&a(d,v.interaction.filter($=>!v.initialHits.includes($)))}}r(E,d,w,P)}}return{handlePointer:o}}const VL=n=>!!(n!=null&&n.render),nR=z.createContext(null),Jce=(n,e)=>{const t=zU((o,l)=>{const u=new me,d=new me,m=new me;function v(w=l().camera,P=d,D=l().size){const{width:N,height:G,top:k,left:M}=D,$=N/G;P.isVector3?m.copy(P):m.set(...P);const V=w.getWorldPosition(u).distanceTo(m);if(jU(w))return{width:N/w.zoom,height:G/w.zoom,top:k,left:M,factor:1,distance:V,aspect:$};{const H=w.fov*Math.PI/180,ee=2*Math.tan(H/2)*V,pe=ee*(N/G);return{width:pe,height:ee,top:k,left:M,factor:N/pe,distance:V,aspect:$}}}let y;const x=w=>o(P=>({performance:{...P.performance,current:w}})),T=new Lt;return{set:o,get:l,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},scene:null,xr:null,invalidate:(w=1)=>n(l(),w),advance:(w,P)=>e(w,P,l()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new $C,pointer:T,mouse:T,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const w=l();y&&clearTimeout(y),w.performance.current!==w.performance.min&&x(w.performance.min),y=setTimeout(()=>x(l().performance.max),w.performance.debounce)}},size:{width:0,height:0,top:0,left:0},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:v},setEvents:w=>o(P=>({...P,events:{...P.events,...w}})),setSize:(w,P,D=0,N=0)=>{const G=l().camera,k={width:w,height:P,top:D,left:N};o(M=>({size:k,viewport:{...M.viewport,...v(G,d,k)}}))},setDpr:w=>o(P=>{const D=$U(w);return{viewport:{...P.viewport,dpr:D,initialDpr:P.viewport.initialDpr||D}}}),setFrameloop:(w="always")=>{const P=l().clock;P.stop(),P.elapsedTime=0,w!=="never"&&(P.start(),P.elapsedTime=0),o(()=>({frameloop:w}))},previousRoot:void 0,internal:{interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,lastEvent:z.createRef(),active:!1,frames:0,priority:0,subscribe:(w,P,D)=>{const N=l().internal;return N.priority=N.priority+(P>0?1:0),N.subscribers.push({ref:w,priority:P,store:D}),N.subscribers=N.subscribers.sort((G,k)=>G.priority-k.priority),()=>{const G=l().internal;G!=null&&G.subscribers&&(G.priority=G.priority-(P>0?1:0),G.subscribers=G.subscribers.filter(k=>k.ref!==w))}}}}}),i=t.getState();let r=i.size,s=i.viewport.dpr,a=i.camera;return t.subscribe(()=>{const{camera:o,size:l,viewport:u,gl:d,set:m}=t.getState();if(l.width!==r.width||l.height!==r.height||u.dpr!==s){r=l,s=u.dpr,WU(o,l),u.dpr>0&&d.setPixelRatio(u.dpr);const v=typeof HTMLCanvasElement<"u"&&d.domElement instanceof HTMLCanvasElement;d.setSize(l.width,l.height,v)}o!==a&&(a=o,m(v=>({viewport:{...v.viewport,...v.viewport.getCurrentViewport(o)}})))}),t.subscribe(o=>n(o)),t};function iR(){const n=z.useContext(nR);if(!n)throw new Error("R3F: Hooks can only be used within the Canvas component!");return n}function ea(n=t=>t,e){return iR()(n,e)}function i1(n,e=0){const t=iR(),i=t.getState().internal.subscribe,r=tR(n);return n1(()=>i(r,e,t),[e,i,t]),null}const GL=new WeakMap,eue=n=>{var e;return typeof n=="function"&&(n==null||(e=n.prototype)==null?void 0:e.constructor)===n};function YU(n,e){return function(t,...i){let r;return eue(t)?(r=GL.get(t),r||(r=new t,GL.set(t,r))):r=t,n&&n(r),Promise.all(i.map(s=>new Promise((a,o)=>r.load(s,l=>{Nl(l?.scene)&&Object.assign(l,jce(l.scene)),a(l)},e,l=>o(new Error(`Could not load ${s}: ${l?.message}`))))))}}function wd(n,e,t,i){const r=Array.isArray(e)?e:[e],s=Ace(YU(t,i),[n,...r],{equal:Ps.equ});return Array.isArray(e)?s:s[0]}wd.preload=function(n,e,t){const i=Array.isArray(e)?e:[e];return Cce(YU(t),[n,...i])};wd.clear=function(n,e){const t=Array.isArray(e)?e:[e];return Rce([n,...t])};function tue(n){const e=Nce(n);return e.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:z.version}),e}const ZU=0,by={},nue=/^three(?=[A-Z])/,sE=n=>`${n[0].toUpperCase()}${n.slice(1)}`;let iue=0;const rue=n=>typeof n=="function";function KU(n){if(rue(n)){const e=`${iue++}`;return by[e]=n,e}else Object.assign(by,n)}function QU(n,e){const t=sE(n),i=by[t];if(n!=="primitive"&&!i)throw new Error(`R3F: ${t} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(n==="primitive"&&!e.object)throw new Error("R3F: Primitives without 'object' are invalid!");if(e.args!==void 0&&!Array.isArray(e.args))throw new Error("R3F: The args prop must be an array!")}function sue(n,e,t){var i;return n=sE(n)in by?n:n.replace(nue,""),QU(n,e),n==="primitive"&&(i=e.object)!=null&&i.__r3f&&delete e.object.__r3f,VS(e.object,t,n,e)}function aue(n){if(!n.isHidden){var e;n.props.attach&&(e=n.parent)!=null&&e.object?jS(n.parent,n):Nl(n.object)&&(n.object.visible=!1),n.isHidden=!0,Ry(n)}}function JU(n){if(n.isHidden){var e;n.props.attach&&(e=n.parent)!=null&&e.object?GS(n.parent,n):Nl(n.object)&&n.props.visible!==!1&&(n.object.visible=!0),n.isHidden=!1,Ry(n)}}function rR(n,e,t){const i=e.root.getState();if(!(!n.parent&&n.object!==i.scene)){if(!e.object){var r,s;const a=by[sE(e.type)];e.object=(r=e.props.object)!=null?r:new a(...(s=e.props.args)!=null?s:[]),e.object.__r3f=e}if(th(e.object,e.props),e.props.attach)GS(n,e);else if(Nl(e.object)&&Nl(n.object)){const a=n.object.children.indexOf(t?.object);if(t&&a!==-1){const o=n.object.children.indexOf(e.object);if(o!==-1){n.object.children.splice(o,1);const l=o<a?a-1:a;n.object.children.splice(l,0,e.object)}else e.object.parent=n.object,n.object.children.splice(a,0,e.object),e.object.dispatchEvent({type:"added"}),n.object.dispatchEvent({type:"childadded",child:e.object})}else n.object.add(e.object)}for(const a of e.children)rR(e,a);Ry(e)}}function LM(n,e){e&&(e.parent=n,n.children.push(e),rR(n,e))}function jL(n,e,t){if(!e||!t)return;e.parent=n;const i=n.children.indexOf(t);i!==-1?n.children.splice(i,0,e):n.children.push(e),rR(n,e,t)}function eB(n){if(typeof n.dispose=="function"){const e=()=>{try{n.dispose()}catch{}};typeof IS_REACT_ACT_ENVIRONMENT<"u"?e():kL.unstable_scheduleCallback(kL.unstable_IdlePriority,e)}}function fA(n,e,t){if(!e)return;e.parent=null;const i=n.children.indexOf(e);i!==-1&&n.children.splice(i,1),e.props.attach?jS(n,e):Nl(e.object)&&Nl(n.object)&&(n.object.remove(e.object),Kce(GU(e),e.object));const r=e.props.dispose!==null&&t!==!1;for(let s=e.children.length-1;s>=0;s--){const a=e.children[s];fA(e,a,r)}e.children.length=0,delete e.object.__r3f,r&&e.type!=="primitive"&&e.object.type!=="Scene"&&eB(e.object),t===void 0&&Ry(e)}function oue(n,e){for(const t of[n,n.alternate])if(t!==null)if(typeof t.ref=="function"){t.refCleanup==null||t.refCleanup();const i=t.ref(e);typeof i=="function"&&(t.refCleanup=i)}else t.ref&&(t.ref.current=e)}const zx=[];function lue(){for(const[t]of zx){const i=t.parent;if(i){t.props.attach?jS(i,t):Nl(t.object)&&Nl(i.object)&&i.object.remove(t.object);for(const r of t.children)r.props.attach?jS(t,r):Nl(r.object)&&Nl(t.object)&&t.object.remove(r.object)}t.isHidden&&JU(t),t.object.__r3f&&delete t.object.__r3f,t.type!=="primitive"&&eB(t.object)}for(const[t,i,r]of zx){t.props=i;const s=t.parent;if(s){var n,e;const a=by[sE(t.type)];t.object=(n=t.props.object)!=null?n:new a(...(e=t.props.args)!=null?e:[]),t.object.__r3f=t,oue(r,t.object),th(t.object,t.props),t.props.attach?GS(s,t):Nl(t.object)&&Nl(s.object)&&s.object.add(t.object);for(const o of t.children)o.props.attach?GS(t,o):Nl(o.object)&&Nl(t.object)&&t.object.add(o.object);Ry(t)}}zx.length=0}const NM=()=>{},$L={};let dx=ZU;const cue=0,uue=4,$S=tue({isPrimaryRenderer:!1,warnsIfNotActing:!1,supportsMutation:!0,supportsPersistence:!1,supportsHydration:!1,createInstance:sue,removeChild:fA,appendChild:LM,appendInitialChild:LM,insertBefore:jL,appendChildToContainer(n,e){const t=n.getState().scene.__r3f;!e||!t||LM(t,e)},removeChildFromContainer(n,e){const t=n.getState().scene.__r3f;!e||!t||fA(t,e)},insertInContainerBefore(n,e,t){const i=n.getState().scene.__r3f;!e||!t||!i||jL(i,e,t)},getRootHostContext:()=>$L,getChildHostContext:()=>$L,commitUpdate(n,e,t,i,r){var s,a,o;QU(e,i);let l=!1;if((n.type==="primitive"&&t.object!==i.object||((s=i.args)==null?void 0:s.length)!==((a=t.args)==null?void 0:a.length)||(o=i.args)!=null&&o.some((d,m)=>{var v;return d!==((v=t.args)==null?void 0:v[m])}))&&(l=!0),l)zx.push([n,{...i},r]);else{const d=Xce(n,i);Object.keys(d).length&&(Object.assign(n.props,d),th(n.object,d))}(r.sibling===null||(r.flags&uue)===cue)&&lue()},finalizeInitialChildren:()=>!1,commitMount(){},getPublicInstance:n=>n?.object,prepareForCommit:()=>null,preparePortalMount:n=>VS(n.getState().scene,n,"",{}),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance:aue,unhideInstance:JU,createTextInstance:NM,hideTextInstance:NM,unhideTextInstance:NM,scheduleTimeout:typeof setTimeout=="function"?setTimeout:void 0,cancelTimeout:typeof clearTimeout=="function"?clearTimeout:void 0,noTimeout:-1,getInstanceFromNode:()=>null,beforeActiveInstanceBlur(){},afterActiveInstanceBlur(){},detachDeletedInstance(){},prepareScopeUpdate(){},getInstanceFromScope:()=>null,shouldAttemptEagerTransition:()=>!1,trackSchedulerEvent:()=>{},resolveEventType:()=>null,resolveEventTimeStamp:()=>-1.1,requestPostPaintCallback(){},maySuspendCommit:()=>!1,preloadInstance:()=>!0,startSuspendingCommit(){},suspendInstance(){},waitForCommitToBeReady:()=>null,NotPendingTransition:null,HostTransitionContext:z.createContext(null),setCurrentUpdatePriority(n){dx=n},getCurrentUpdatePriority(){return dx},resolveUpdatePriority(){var n;if(dx!==ZU)return dx;switch(typeof window<"u"&&((n=window.event)==null?void 0:n.type)){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return Dx.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return Dx.ContinuousEventPriority;default:return Dx.DefaultEventPriority}},resetFormInstance(){}}),_g=new Map,Lv={objects:"shallow",strict:!1};function fue(n,e){if(!e&&typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement&&n.parentElement){const{width:t,height:i,top:r,left:s}=n.parentElement.getBoundingClientRect();return{width:t,height:i,top:r,left:s}}else if(!e&&typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas)return{width:n.width,height:n.height,top:0,left:0};return{width:0,height:0,top:0,left:0,...e}}function hue(n){const e=_g.get(n),t=e?.fiber,i=e?.store;e&&console.warn("R3F.createRoot should only be called once!");const r=typeof reportError=="function"?reportError:console.error,s=i||Jce(pA,WL),a=t||$S.createContainer(s,Dx.ConcurrentRoot,null,!1,null,"",r,r,r,null);e||_g.set(n,{fiber:a,store:s});let o,l,u=!1,d=null;return{async configure(m={}){let v;d=new Promise(re=>v=re);let{gl:y,size:x,scene:T,events:E,onCreated:w,shadows:P=!1,linear:D=!1,flat:N=!1,legacy:G=!1,orthographic:k=!1,frameloop:M="always",dpr:$=[1,2],performance:V,raycaster:H,camera:ee,onPointerMissed:pe}=m,ae=s.getState(),ye=ae.gl;if(!ae.gl){const re={canvas:n,powerPreference:"high-performance",antialias:!0,alpha:!0},ze=typeof y=="function"?await y(re):y;VL(ze)?ye=ze:ye=new QC({...re,...y}),ae.set({gl:ye})}let Te=ae.raycaster;Te||ae.set({raycaster:Te=new YC});const{params:J,...de}=H||{};if(Ps.equ(de,Te,Lv)||th(Te,{...de}),Ps.equ(J,Te.params,Lv)||th(Te,{params:{...Te.params,...J}}),!ae.camera||ae.camera===l&&!Ps.equ(l,ee,Lv)){l=ee;const re=ee?.isCamera,ze=re?ee:k?new gd(0,0,0,0,.1,1e3):new fa(75,0,.1,1e3);re||(ze.position.z=5,ee&&(th(ze,ee),ze.manual||("aspect"in ee||"left"in ee||"right"in ee||"bottom"in ee||"top"in ee)&&(ze.manual=!0,ze.updateProjectionMatrix())),!ae.camera&&!(ee!=null&&ee.rotation)&&ze.lookAt(0,0,0)),ae.set({camera:ze}),Te.camera=ze}if(!ae.scene){let re;T!=null&&T.isScene?(re=T,VS(re,s,"",{})):(re=new X_,VS(re,s,"",{}),T&&th(re,T)),ae.set({scene:re})}E&&!ae.events.handlers&&ae.set({events:E(s)});const he=fue(n,x);if(Ps.equ(he,ae.size,Lv)||ae.setSize(he.width,he.height,he.top,he.left),$&&ae.viewport.dpr!==$U($)&&ae.setDpr($),ae.frameloop!==M&&ae.setFrameloop(M),ae.onPointerMissed||ae.set({onPointerMissed:pe}),V&&!Ps.equ(V,ae.performance,Lv)&&ae.set(re=>({performance:{...re.performance,...V}})),!ae.xr){var Le;const re=(xe,$e)=>{const Ze=s.getState();Ze.frameloop!=="never"&&WL(xe,!0,Ze,$e)},ze=()=>{const xe=s.getState();xe.gl.xr.enabled=xe.gl.xr.isPresenting,xe.gl.xr.setAnimationLoop(xe.gl.xr.isPresenting?re:null),xe.gl.xr.isPresenting||pA(xe)},Ve={connect(){const xe=s.getState().gl;xe.xr.addEventListener("sessionstart",ze),xe.xr.addEventListener("sessionend",ze)},disconnect(){const xe=s.getState().gl;xe.xr.removeEventListener("sessionstart",ze),xe.xr.removeEventListener("sessionend",ze)}};typeof((Le=ye.xr)==null?void 0:Le.addEventListener)=="function"&&Ve.connect(),ae.set({xr:Ve})}if(ye.shadowMap){const re=ye.shadowMap.enabled,ze=ye.shadowMap.type;if(ye.shadowMap.enabled=!!P,Ps.boo(P))ye.shadowMap.type=j0;else if(Ps.str(P)){var ne;const Ve={basic:kI,percentage:Ew,soft:j0,variance:rf};ye.shadowMap.type=(ne=Ve[P])!=null?ne:j0}else Ps.obj(P)&&Object.assign(ye.shadowMap,P);(re!==ye.shadowMap.enabled||ze!==ye.shadowMap.type)&&(ye.shadowMap.needsUpdate=!0)}return ur.enabled=!G,u||(ye.outputColorSpace=D?vf:ka,ye.toneMapping=N?oh:dC),ae.legacy!==G&&ae.set(()=>({legacy:G})),ae.linear!==D&&ae.set(()=>({linear:D})),ae.flat!==N&&ae.set(()=>({flat:N})),y&&!Ps.fun(y)&&!VL(y)&&!Ps.equ(y,ye,Lv)&&th(ye,y),o=w,u=!0,v(),this},render(m){return!u&&!d&&this.configure(),d.then(()=>{$S.updateContainer(ue.jsx(due,{store:s,children:m,onCreated:o,rootElement:n}),a,null,()=>{})}),s},unmount(){tB(n)}}}function due({store:n,children:e,onCreated:t,rootElement:i}){return n1(()=>{const r=n.getState();r.set(s=>({internal:{...s.internal,active:!0}})),t&&t(r),n.getState().events.connected||r.events.connect==null||r.events.connect(i)},[]),ue.jsx(nR.Provider,{value:n,children:e})}function tB(n,e){const t=_g.get(n),i=t?.fiber;if(i){const r=t?.store.getState();r&&(r.internal.active=!1),$S.updateContainer(null,i,null,()=>{r&&setTimeout(()=>{try{var s,a,o,l;r.events.disconnect==null||r.events.disconnect(),(s=r.gl)==null||(a=s.renderLists)==null||a.dispose==null||a.dispose(),(o=r.gl)==null||o.forceContextLoss==null||o.forceContextLoss(),(l=r.gl)!=null&&l.xr&&r.xr.disconnect(),$ce(r.scene),_g.delete(n)}catch{}},500)})}}function pue(n,e,t){return ue.jsx(mue,{children:n,container:e,state:t})}function mue({state:n={},children:e,container:t}){const{events:i,size:r,...s}=n,a=iR(),[o]=z.useState(()=>new YC),[l]=z.useState(()=>new Lt),u=tR((m,v)=>{let y;if(v.camera&&r){const x=v.camera;y=m.viewport.getCurrentViewport(x,new me,r),x!==m.camera&&WU(x,r)}return{...m,...v,scene:t,raycaster:o,pointer:l,mouse:l,previousRoot:a,events:{...m.events,...v.events,...i},size:{...m.size,...r},viewport:{...m.viewport,...y},setEvents:x=>v.set(T=>({...T,events:{...T.events,...x}}))}}),d=z.useMemo(()=>{const m=zU((y,x)=>({...s,set:y,get:x})),v=y=>m.setState(x=>u.current(y,x));return v(a.getState()),a.subscribe(v),m},[a,t]);return ue.jsx(ue.Fragment,{children:$S.createPortal(ue.jsx(nR.Provider,{value:d,children:e}),d,null)})}const gue=new Set,vue=new Set,yue=new Set;function IM(n,e){if(n.size)for(const{callback:t}of n.values())t(e)}function e_(n,e){switch(n){case"before":return IM(gue,e);case"after":return IM(vue,e);case"tail":return IM(yue,e)}}let zM,UM;function hA(n,e,t){let i=e.clock.getDelta();e.frameloop==="never"&&typeof n=="number"&&(i=n-e.clock.elapsedTime,e.clock.oldTime=e.clock.elapsedTime,e.clock.elapsedTime=n),zM=e.internal.subscribers;for(let r=0;r<zM.length;r++)UM=zM[r],UM.ref.current(UM.store.getState(),i,t);return!e.internal.priority&&e.gl.render&&e.gl.render(e.scene,e.camera),e.internal.frames=Math.max(0,e.internal.frames-1),e.frameloop==="always"?1:e.internal.frames}let qS=!1,dA=!1,BM,qL,Nv;function nB(n){qL=requestAnimationFrame(nB),qS=!0,BM=0,e_("before",n),dA=!0;for(const t of _g.values()){var e;Nv=t.store.getState(),Nv.internal.active&&(Nv.frameloop==="always"||Nv.internal.frames>0)&&!((e=Nv.gl.xr)!=null&&e.isPresenting)&&(BM+=hA(n,Nv))}if(dA=!1,e_("after",n),BM===0)return e_("tail",n),qS=!1,cancelAnimationFrame(qL)}function pA(n,e=1){var t;if(!n)return _g.forEach(i=>pA(i.store.getState(),e));(t=n.gl.xr)!=null&&t.isPresenting||!n.internal.active||n.frameloop==="never"||(e>1?n.internal.frames=Math.min(60,n.internal.frames+e):dA?n.internal.frames=2:n.internal.frames=1,qS||(qS=!0,requestAnimationFrame(nB)))}function WL(n,e=!0,t,i){if(e&&e_("before",n),t)hA(n,t,i);else for(const r of _g.values())hA(n,r.store.getState());e&&e_("after",n)}const kM={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function _ue(n){const{handlePointer:e}=Qce(n);return{priority:1,enabled:!0,compute(t,i,r){i.pointer.set(t.offsetX/i.size.width*2-1,-(t.offsetY/i.size.height)*2+1),i.raycaster.setFromCamera(i.pointer,i.camera)},connected:void 0,handlers:Object.keys(kM).reduce((t,i)=>({...t,[i]:e(i)}),{}),update:()=>{var t;const{events:i,internal:r}=n.getState();(t=r.lastEvent)!=null&&t.current&&i.handlers&&i.handlers.onPointerMove(r.lastEvent.current)},connect:t=>{const{set:i,events:r}=n.getState();if(r.disconnect==null||r.disconnect(),i(s=>({events:{...s.events,connected:t}})),r.handlers)for(const s in r.handlers){const a=r.handlers[s],[o,l]=kM[s];t.addEventListener(o,a,{passive:l})}},disconnect:()=>{const{set:t,events:i}=n.getState();if(i.connected){if(i.handlers)for(const r in i.handlers){const s=i.handlers[r],[a]=kM[r];i.connected.removeEventListener(a,s)}t(r=>({events:{...r.events,connected:void 0}}))}}}}function XL(n,e){let t;return(...i)=>{window.clearTimeout(t),t=window.setTimeout(()=>n(...i),e)}}function bue({debounce:n,scroll:e,polyfill:t,offsetSize:i}={debounce:0,scroll:!1,offsetSize:!1}){const r=t||(typeof window>"u"?class{}:window.ResizeObserver);if(!r)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[s,a]=z.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),o=z.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:s,orientationHandler:null}),l=n?typeof n=="number"?n:n.scroll:null,u=n?typeof n=="number"?n:n.resize:null,d=z.useRef(!1);z.useEffect(()=>(d.current=!0,()=>void(d.current=!1)));const[m,v,y]=z.useMemo(()=>{const w=()=>{if(!o.current.element)return;const{left:P,top:D,width:N,height:G,bottom:k,right:M,x:$,y:V}=o.current.element.getBoundingClientRect(),H={left:P,top:D,width:N,height:G,bottom:k,right:M,x:$,y:V};o.current.element instanceof HTMLElement&&i&&(H.height=o.current.element.offsetHeight,H.width=o.current.element.offsetWidth),Object.freeze(H),d.current&&!Eue(o.current.lastBounds,H)&&a(o.current.lastBounds=H)};return[w,u?XL(w,u):w,l?XL(w,l):w]},[a,i,l,u]);function x(){o.current.scrollContainers&&(o.current.scrollContainers.forEach(w=>w.removeEventListener("scroll",y,!0)),o.current.scrollContainers=null),o.current.resizeObserver&&(o.current.resizeObserver.disconnect(),o.current.resizeObserver=null),o.current.orientationHandler&&("orientation"in screen&&"removeEventListener"in screen.orientation?screen.orientation.removeEventListener("change",o.current.orientationHandler):"onorientationchange"in window&&window.removeEventListener("orientationchange",o.current.orientationHandler))}function T(){o.current.element&&(o.current.resizeObserver=new r(y),o.current.resizeObserver.observe(o.current.element),e&&o.current.scrollContainers&&o.current.scrollContainers.forEach(w=>w.addEventListener("scroll",y,{capture:!0,passive:!0})),o.current.orientationHandler=()=>{y()},"orientation"in screen&&"addEventListener"in screen.orientation?screen.orientation.addEventListener("change",o.current.orientationHandler):"onorientationchange"in window&&window.addEventListener("orientationchange",o.current.orientationHandler))}const E=w=>{!w||w===o.current.element||(x(),o.current.element=w,o.current.scrollContainers=iB(w),T())};return Sue(y,!!e),xue(v),z.useEffect(()=>{x(),T()},[e,y,v]),z.useEffect(()=>x,[]),[E,s,m]}function xue(n){z.useEffect(()=>{const e=n;return window.addEventListener("resize",e),()=>void window.removeEventListener("resize",e)},[n])}function Sue(n,e){z.useEffect(()=>{if(e){const t=n;return window.addEventListener("scroll",t,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",t,!0)}},[n,e])}function iB(n){const e=[];if(!n||n===document.body)return e;const{overflow:t,overflowX:i,overflowY:r}=window.getComputedStyle(n);return[t,i,r].some(s=>s==="auto"||s==="scroll")&&e.push(n),[...e,...iB(n.parentElement)]}const wue=["x","y","top","bottom","left","right","width","height"],Eue=(n,e)=>wue.every(t=>n[t]===e[t]);function Tue({ref:n,children:e,fallback:t,resize:i,style:r,gl:s,events:a=_ue,eventSource:o,eventPrefix:l,shadows:u,linear:d,flat:m,legacy:v,orthographic:y,frameloop:x,dpr:T,performance:E,raycaster:w,camera:P,scene:D,onPointerMissed:N,onCreated:G,...k}){z.useMemo(()=>KU(mce),[]);const M=Fce(),[$,V]=bue({scroll:!0,debounce:{scroll:50,resize:0},...i}),H=z.useRef(null),ee=z.useRef(null);z.useImperativeHandle(n,()=>H.current);const pe=tR(N),[ae,ye]=z.useState(!1),[Te,J]=z.useState(!1);if(ae)throw ae;if(Te)throw Te;const de=z.useRef(null);n1(()=>{const Le=H.current;if(V.width>0&&V.height>0&&Le){de.current||(de.current=hue(Le));async function ne(){await de.current.configure({gl:s,scene:D,events:a,shadows:u,linear:d,flat:m,legacy:v,orthographic:y,frameloop:x,dpr:T,performance:E,raycaster:w,camera:P,size:V,onPointerMissed:(...re)=>pe.current==null?void 0:pe.current(...re),onCreated:re=>{re.events.connect==null||re.events.connect(o?kce(o)?o.current:o:ee.current),l&&re.setEvents({compute:(ze,Ve)=>{const xe=ze[l+"X"],$e=ze[l+"Y"];Ve.pointer.set(xe/Ve.size.width*2-1,-($e/Ve.size.height)*2+1),Ve.raycaster.setFromCamera(Ve.pointer,Ve.camera)}}),G?.(re)}}),de.current.render(ue.jsx(M,{children:ue.jsx(Gce,{set:J,children:ue.jsx(z.Suspense,{fallback:ue.jsx(Vce,{set:ye}),children:e??null})})}))}ne()}}),z.useEffect(()=>{const Le=H.current;if(Le)return()=>tB(Le)},[]);const he=o?"none":"auto";return ue.jsx("div",{ref:ee,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:he,...r},...k,children:ue.jsx("div",{ref:$,style:{width:"100%",height:"100%"},children:ue.jsx("canvas",{ref:H,style:{display:"block"},children:t})})})}function rB(n){return ue.jsx(FU,{children:ue.jsx(Tue,{...n})})}function Mue(n,e,t){return Math.max(e,Math.min(n,t))}const Qo={toVector(n,e){return n===void 0&&(n=e),Array.isArray(n)?n:[n,n]},add(n,e){return[n[0]+e[0],n[1]+e[1]]},sub(n,e){return[n[0]-e[0],n[1]-e[1]]},addTo(n,e){n[0]+=e[0],n[1]+=e[1]},subTo(n,e){n[0]-=e[0],n[1]-=e[1]}};function YL(n,e,t){return e===0||Math.abs(e)===1/0?Math.pow(n,t*5):n*e*t/(e+t*n)}function ZL(n,e,t,i=.15){return i===0?Mue(n,e,t):n<e?-YL(e-n,t-e,i)+e:n>t?+YL(n-t,t-e,i)+t:n}function Aue(n,[e,t],[i,r]){const[[s,a],[o,l]]=n;return[ZL(e,s,a,i),ZL(t,o,l,r)]}function Cue(n,e){if(typeof n!="object"||n===null)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function Rue(n){var e=Cue(n,"string");return typeof e=="symbol"?e:String(e)}function uc(n,e,t){return e=Rue(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function KL(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function js(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?KL(Object(t),!0).forEach(function(i){uc(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):KL(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}const sB={pointer:{start:"down",change:"move",end:"up"},mouse:{start:"down",change:"move",end:"up"},touch:{start:"start",change:"move",end:"end"},gesture:{start:"start",change:"change",end:"end"}};function QL(n){return n?n[0].toUpperCase()+n.slice(1):""}const Oue=["enter","leave"];function Pue(n=!1,e){return n&&!Oue.includes(e)}function Due(n,e="",t=!1){const i=sB[n],r=i&&i[e]||e;return"on"+QL(n)+QL(r)+(Pue(t,r)?"Capture":"")}const Lue=["gotpointercapture","lostpointercapture"];function Nue(n){let e=n.substring(2).toLowerCase();const t=!!~e.indexOf("passive");t&&(e=e.replace("passive",""));const i=Lue.includes(e)?"capturecapture":"capture",r=!!~e.indexOf(i);return r&&(e=e.replace("capture","")),{device:e,capture:r,passive:t}}function Iue(n,e=""){const t=sB[n],i=t&&t[e]||e;return n+i}function aE(n){return"touches"in n}function aB(n){return aE(n)?"touch":"pointerType"in n?n.pointerType:"mouse"}function zue(n){return Array.from(n.touches).filter(e=>{var t,i;return e.target===n.currentTarget||((t=n.currentTarget)===null||t===void 0||(i=t.contains)===null||i===void 0?void 0:i.call(t,e.target))})}function Uue(n){return n.type==="touchend"||n.type==="touchcancel"?n.changedTouches:n.targetTouches}function oB(n){return aE(n)?Uue(n)[0]:n}function Bue(n){return zue(n).map(e=>e.identifier)}function HM(n){const e=oB(n);return aE(n)?e.identifier:e.pointerId}function JL(n){const e=oB(n);return[e.clientX,e.clientY]}function kue(n){const e={};if("buttons"in n&&(e.buttons=n.buttons),"shiftKey"in n){const{shiftKey:t,altKey:i,metaKey:r,ctrlKey:s}=n;Object.assign(e,{shiftKey:t,altKey:i,metaKey:r,ctrlKey:s})}return e}function WS(n,...e){return typeof n=="function"?n(...e):n}function Hue(){}function Fue(...n){return n.length===0?Hue:n.length===1?n[0]:function(){let e;for(const t of n)e=t.apply(this,arguments)||e;return e}}function e4(n,e){return Object.assign({},e,n||{})}const Vue=32;class Gue{constructor(e,t,i){this.ctrl=e,this.args=t,this.key=i,this.state||(this.state={},this.computeValues([0,0]),this.computeInitial(),this.init&&this.init(),this.reset())}get state(){return this.ctrl.state[this.key]}set state(e){this.ctrl.state[this.key]=e}get shared(){return this.ctrl.state.shared}get eventStore(){return this.ctrl.gestureEventStores[this.key]}get timeoutStore(){return this.ctrl.gestureTimeoutStores[this.key]}get config(){return this.ctrl.config[this.key]}get sharedConfig(){return this.ctrl.config.shared}get handler(){return this.ctrl.handlers[this.key]}reset(){const{state:e,shared:t,ingKey:i,args:r}=this;t[i]=e._active=e.active=e._blocked=e._force=!1,e._step=[!1,!1],e.intentional=!1,e._movement=[0,0],e._distance=[0,0],e._direction=[0,0],e._delta=[0,0],e._bounds=[[-1/0,1/0],[-1/0,1/0]],e.args=r,e.axis=void 0,e.memo=void 0,e.elapsedTime=e.timeDelta=0,e.direction=[0,0],e.distance=[0,0],e.overflow=[0,0],e._movementBound=[!1,!1],e.velocity=[0,0],e.movement=[0,0],e.delta=[0,0],e.timeStamp=0}start(e){const t=this.state,i=this.config;t._active||(this.reset(),this.computeInitial(),t._active=!0,t.target=e.target,t.currentTarget=e.currentTarget,t.lastOffset=i.from?WS(i.from,t):t.offset,t.offset=t.lastOffset,t.startTime=t.timeStamp=e.timeStamp)}computeValues(e){const t=this.state;t._values=e,t.values=this.config.transform(e)}computeInitial(){const e=this.state;e._initial=e._values,e.initial=e.values}compute(e){const{state:t,config:i,shared:r}=this;t.args=this.args;let s=0;if(e&&(t.event=e,i.preventDefault&&e.cancelable&&t.event.preventDefault(),t.type=e.type,r.touches=this.ctrl.pointerIds.size||this.ctrl.touchIds.size,r.locked=!!document.pointerLockElement,Object.assign(r,kue(e)),r.down=r.pressed=r.buttons%2===1||r.touches>0,s=e.timeStamp-t.timeStamp,t.timeStamp=e.timeStamp,t.elapsedTime=t.timeStamp-t.startTime),t._active){const k=t._delta.map(Math.abs);Qo.addTo(t._distance,k)}this.axisIntent&&this.axisIntent(e);const[a,o]=t._movement,[l,u]=i.threshold,{_step:d,values:m}=t;if(i.hasCustomTransform?(d[0]===!1&&(d[0]=Math.abs(a)>=l&&m[0]),d[1]===!1&&(d[1]=Math.abs(o)>=u&&m[1])):(d[0]===!1&&(d[0]=Math.abs(a)>=l&&Math.sign(a)*l),d[1]===!1&&(d[1]=Math.abs(o)>=u&&Math.sign(o)*u)),t.intentional=d[0]!==!1||d[1]!==!1,!t.intentional)return;const v=[0,0];if(i.hasCustomTransform){const[k,M]=m;v[0]=d[0]!==!1?k-d[0]:0,v[1]=d[1]!==!1?M-d[1]:0}else v[0]=d[0]!==!1?a-d[0]:0,v[1]=d[1]!==!1?o-d[1]:0;this.restrictToAxis&&!t._blocked&&this.restrictToAxis(v);const y=t.offset,x=t._active&&!t._blocked||t.active;x&&(t.first=t._active&&!t.active,t.last=!t._active&&t.active,t.active=r[this.ingKey]=t._active,e&&(t.first&&("bounds"in i&&(t._bounds=WS(i.bounds,t)),this.setup&&this.setup()),t.movement=v,this.computeOffset()));const[T,E]=t.offset,[[w,P],[D,N]]=t._bounds;t.overflow=[T<w?-1:T>P?1:0,E<D?-1:E>N?1:0],t._movementBound[0]=t.overflow[0]?t._movementBound[0]===!1?t._movement[0]:t._movementBound[0]:!1,t._movementBound[1]=t.overflow[1]?t._movementBound[1]===!1?t._movement[1]:t._movementBound[1]:!1;const G=t._active?i.rubberband||[0,0]:[0,0];if(t.offset=Aue(t._bounds,t.offset,G),t.delta=Qo.sub(t.offset,y),this.computeMovement(),x&&(!t.last||s>Vue)){t.delta=Qo.sub(t.offset,y);const k=t.delta.map(Math.abs);Qo.addTo(t.distance,k),t.direction=t.delta.map(Math.sign),t._direction=t._delta.map(Math.sign),!t.first&&s>0&&(t.velocity=[k[0]/s,k[1]/s],t.timeDelta=s)}}emit(){const e=this.state,t=this.shared,i=this.config;if(e._active||this.clean(),(e._blocked||!e.intentional)&&!e._force&&!i.triggerAllEvents)return;const r=this.handler(js(js(js({},t),e),{},{[this.aliasKey]:e.values}));r!==void 0&&(e.memo=r)}clean(){this.eventStore.clean(),this.timeoutStore.clean()}}function jue([n,e],t){const i=Math.abs(n),r=Math.abs(e);if(i>r&&i>t)return"x";if(r>i&&r>t)return"y"}class $ue extends Gue{constructor(...e){super(...e),uc(this,"aliasKey","xy")}reset(){super.reset(),this.state.axis=void 0}init(){this.state.offset=[0,0],this.state.lastOffset=[0,0]}computeOffset(){this.state.offset=Qo.add(this.state.lastOffset,this.state.movement)}computeMovement(){this.state.movement=Qo.sub(this.state.offset,this.state.lastOffset)}axisIntent(e){const t=this.state,i=this.config;if(!t.axis&&e){const r=typeof i.axisThreshold=="object"?i.axisThreshold[aB(e)]:i.axisThreshold;t.axis=jue(t._movement,r)}t._blocked=(i.lockDirection||!!i.axis)&&!t.axis||!!i.axis&&i.axis!==t.axis}restrictToAxis(e){if(this.config.axis||this.config.lockDirection)switch(this.state.axis){case"x":e[1]=0;break;case"y":e[0]=0;break}}}const que=n=>n,t4=.15,lB={enabled(n=!0){return n},eventOptions(n,e,t){return js(js({},t.shared.eventOptions),n)},preventDefault(n=!1){return n},triggerAllEvents(n=!1){return n},rubberband(n=0){switch(n){case!0:return[t4,t4];case!1:return[0,0];default:return Qo.toVector(n)}},from(n){if(typeof n=="function")return n;if(n!=null)return Qo.toVector(n)},transform(n,e,t){const i=n||t.shared.transform;return this.hasCustomTransform=!!i,i||que},threshold(n){return Qo.toVector(n,0)}},Wue=0,r1=js(js({},lB),{},{axis(n,e,{axis:t}){if(this.lockDirection=t==="lock",!this.lockDirection)return t},axisThreshold(n=Wue){return n},bounds(n={}){if(typeof n=="function")return s=>r1.bounds(n(s));if("current"in n)return()=>n.current;if(typeof HTMLElement=="function"&&n instanceof HTMLElement)return n;const{left:e=-1/0,right:t=1/0,top:i=-1/0,bottom:r=1/0}=n;return[[e,t],[i,r]]}}),n4={ArrowRight:(n,e=1)=>[n*e,0],ArrowLeft:(n,e=1)=>[-1*n*e,0],ArrowUp:(n,e=1)=>[0,-1*n*e],ArrowDown:(n,e=1)=>[0,n*e]};class Xue extends $ue{constructor(...e){super(...e),uc(this,"ingKey","dragging")}reset(){super.reset();const e=this.state;e._pointerId=void 0,e._pointerActive=!1,e._keyboardActive=!1,e._preventScroll=!1,e._delayed=!1,e.swipe=[0,0],e.tap=!1,e.canceled=!1,e.cancel=this.cancel.bind(this)}setup(){const e=this.state;if(e._bounds instanceof HTMLElement){const t=e._bounds.getBoundingClientRect(),i=e.currentTarget.getBoundingClientRect(),r={left:t.left-i.left+e.offset[0],right:t.right-i.right+e.offset[0],top:t.top-i.top+e.offset[1],bottom:t.bottom-i.bottom+e.offset[1]};e._bounds=r1.bounds(r)}}cancel(){const e=this.state;e.canceled||(e.canceled=!0,e._active=!1,setTimeout(()=>{this.compute(),this.emit()},0))}setActive(){this.state._active=this.state._pointerActive||this.state._keyboardActive}clean(){this.pointerClean(),this.state._pointerActive=!1,this.state._keyboardActive=!1,super.clean()}pointerDown(e){const t=this.config,i=this.state;if(e.buttons!=null&&(Array.isArray(t.pointerButtons)?!t.pointerButtons.includes(e.buttons):t.pointerButtons!==-1&&t.pointerButtons!==e.buttons))return;const r=this.ctrl.setEventIds(e);t.pointerCapture&&e.target.setPointerCapture(e.pointerId),!(r&&r.size>1&&i._pointerActive)&&(this.start(e),this.setupPointer(e),i._pointerId=HM(e),i._pointerActive=!0,this.computeValues(JL(e)),this.computeInitial(),t.preventScrollAxis&&aB(e)!=="mouse"?(i._active=!1,this.setupScrollPrevention(e)):t.delay>0?(this.setupDelayTrigger(e),t.triggerAllEvents&&(this.compute(e),this.emit())):this.startPointerDrag(e))}startPointerDrag(e){const t=this.state;t._active=!0,t._preventScroll=!0,t._delayed=!1,this.compute(e),this.emit()}pointerMove(e){const t=this.state,i=this.config;if(!t._pointerActive)return;const r=HM(e);if(t._pointerId!==void 0&&r!==t._pointerId)return;const s=JL(e);if(document.pointerLockElement===e.target?t._delta=[e.movementX,e.movementY]:(t._delta=Qo.sub(s,t._values),this.computeValues(s)),Qo.addTo(t._movement,t._delta),this.compute(e),t._delayed&&t.intentional){this.timeoutStore.remove("dragDelay"),t.active=!1,this.startPointerDrag(e);return}if(i.preventScrollAxis&&!t._preventScroll)if(t.axis)if(t.axis===i.preventScrollAxis||i.preventScrollAxis==="xy"){t._active=!1,this.clean();return}else{this.timeoutStore.remove("startPointerDrag"),this.startPointerDrag(e);return}else return;this.emit()}pointerUp(e){this.ctrl.setEventIds(e);try{this.config.pointerCapture&&e.target.hasPointerCapture(e.pointerId)&&e.target.releasePointerCapture(e.pointerId)}catch{}const t=this.state,i=this.config;if(!t._active||!t._pointerActive)return;const r=HM(e);if(t._pointerId!==void 0&&r!==t._pointerId)return;this.state._pointerActive=!1,this.setActive(),this.compute(e);const[s,a]=t._distance;if(t.tap=s<=i.tapsThreshold&&a<=i.tapsThreshold,t.tap&&i.filterTaps)t._force=!0;else{const[o,l]=t._delta,[u,d]=t._movement,[m,v]=i.swipe.velocity,[y,x]=i.swipe.distance,T=i.swipe.duration;if(t.elapsedTime<T){const E=Math.abs(o/t.timeDelta),w=Math.abs(l/t.timeDelta);E>m&&Math.abs(u)>y&&(t.swipe[0]=Math.sign(o)),w>v&&Math.abs(d)>x&&(t.swipe[1]=Math.sign(l))}}this.emit()}pointerClick(e){!this.state.tap&&e.detail>0&&(e.preventDefault(),e.stopPropagation())}setupPointer(e){const t=this.config,i=t.device;t.pointerLock&&e.currentTarget.requestPointerLock(),t.pointerCapture||(this.eventStore.add(this.sharedConfig.window,i,"change",this.pointerMove.bind(this)),this.eventStore.add(this.sharedConfig.window,i,"end",this.pointerUp.bind(this)),this.eventStore.add(this.sharedConfig.window,i,"cancel",this.pointerUp.bind(this)))}pointerClean(){this.config.pointerLock&&document.pointerLockElement===this.state.currentTarget&&document.exitPointerLock()}preventScroll(e){this.state._preventScroll&&e.cancelable&&e.preventDefault()}setupScrollPrevention(e){this.state._preventScroll=!1,Yue(e);const t=this.eventStore.add(this.sharedConfig.window,"touch","change",this.preventScroll.bind(this),{passive:!1});this.eventStore.add(this.sharedConfig.window,"touch","end",t),this.eventStore.add(this.sharedConfig.window,"touch","cancel",t),this.timeoutStore.add("startPointerDrag",this.startPointerDrag.bind(this),this.config.preventScrollDelay,e)}setupDelayTrigger(e){this.state._delayed=!0,this.timeoutStore.add("dragDelay",()=>{this.state._step=[0,0],this.startPointerDrag(e)},this.config.delay)}keyDown(e){const t=n4[e.key];if(t){const i=this.state,r=e.shiftKey?10:e.altKey?.1:1;this.start(e),i._delta=t(this.config.keyboardDisplacement,r),i._keyboardActive=!0,Qo.addTo(i._movement,i._delta),this.compute(e),this.emit()}}keyUp(e){e.key in n4&&(this.state._keyboardActive=!1,this.setActive(),this.compute(e),this.emit())}bind(e){const t=this.config.device;e(t,"start",this.pointerDown.bind(this)),this.config.pointerCapture&&(e(t,"change",this.pointerMove.bind(this)),e(t,"end",this.pointerUp.bind(this)),e(t,"cancel",this.pointerUp.bind(this)),e("lostPointerCapture","",this.pointerUp.bind(this))),this.config.keys&&(e("key","down",this.keyDown.bind(this)),e("key","up",this.keyUp.bind(this))),this.config.filterTaps&&e("click","",this.pointerClick.bind(this),{capture:!0,passive:!1})}}function Yue(n){"persist"in n&&typeof n.persist=="function"&&n.persist()}const s1=typeof window<"u"&&window.document&&window.document.createElement;function cB(){return s1&&"ontouchstart"in window}function Zue(){return cB()||s1&&window.navigator.maxTouchPoints>1}function Kue(){return s1&&"onpointerdown"in window}function Que(){return s1&&"exitPointerLock"in window.document}function Jue(){try{return"constructor"in GestureEvent}catch{return!1}}const wu={isBrowser:s1,gesture:Jue(),touch:cB(),touchscreen:Zue(),pointer:Kue(),pointerLock:Que()},efe=250,tfe=180,nfe=.5,ife=50,rfe=250,sfe=10,i4={mouse:0,touch:0,pen:8},afe=js(js({},r1),{},{device(n,e,{pointer:{touch:t=!1,lock:i=!1,mouse:r=!1}={}}){return this.pointerLock=i&&wu.pointerLock,wu.touch&&t?"touch":this.pointerLock?"mouse":wu.pointer&&!r?"pointer":wu.touch?"touch":"mouse"},preventScrollAxis(n,e,{preventScroll:t}){if(this.preventScrollDelay=typeof t=="number"?t:t||t===void 0&&n?efe:void 0,!(!wu.touchscreen||t===!1))return n||(t!==void 0?"y":void 0)},pointerCapture(n,e,{pointer:{capture:t=!0,buttons:i=1,keys:r=!0}={}}){return this.pointerButtons=i,this.keys=r,!this.pointerLock&&this.device==="pointer"&&t},threshold(n,e,{filterTaps:t=!1,tapsThreshold:i=3,axis:r=void 0}){const s=Qo.toVector(n,t?i:r?1:0);return this.filterTaps=t,this.tapsThreshold=i,s},swipe({velocity:n=nfe,distance:e=ife,duration:t=rfe}={}){return{velocity:this.transform(Qo.toVector(n)),distance:this.transform(Qo.toVector(e)),duration:t}},delay(n=0){switch(n){case!0:return tfe;case!1:return 0;default:return n}},axisThreshold(n){return n?js(js({},i4),n):i4},keyboardDisplacement(n=sfe){return n}});js(js({},lB),{},{device(n,e,{shared:t,pointer:{touch:i=!1}={}}){if(t.target&&!wu.touch&&wu.gesture)return"gesture";if(wu.touch&&i)return"touch";if(wu.touchscreen){if(wu.pointer)return"pointer";if(wu.touch)return"touch"}},bounds(n,e,{scaleBounds:t={},angleBounds:i={}}){const r=a=>{const o=e4(WS(t,a),{min:-1/0,max:1/0});return[o.min,o.max]},s=a=>{const o=e4(WS(i,a),{min:-1/0,max:1/0});return[o.min,o.max]};return typeof t!="function"&&typeof i!="function"?[r(),s()]:a=>[r(a),s(a)]},threshold(n,e,t){return this.lockDirection=t.axis==="lock",Qo.toVector(n,this.lockDirection?[.1,3]:0)},modifierKey(n){return n===void 0?"ctrlKey":n},pinchOnWheel(n=!0){return n}});js(js({},r1),{},{mouseOnly:(n=!0)=>n});js(js({},r1),{},{mouseOnly:(n=!0)=>n});const uB=new Map,mA=new Map;function ofe(n){uB.set(n.key,n.engine),mA.set(n.key,n.resolver)}const lfe={key:"drag",engine:Xue,resolver:afe};function cfe(n,e){if(n==null)return{};var t={},i=Object.keys(n),r,s;for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&(t[r]=n[r]);return t}function ufe(n,e){if(n==null)return{};var t=cfe(n,e),i,r;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(r=0;r<s.length;r++)i=s[r],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(n,i)&&(t[i]=n[i])}return t}const ffe={target(n){if(n)return()=>"current"in n?n.current:n},enabled(n=!0){return n},window(n=wu.isBrowser?window:void 0){return n},eventOptions({passive:n=!0,capture:e=!1}={}){return{passive:n,capture:e}},transform(n){return n}},hfe=["target","eventOptions","window","enabled","transform"];function Ux(n={},e){const t={};for(const[i,r]of Object.entries(e))switch(typeof r){case"function":t[i]=r.call(t,n[i],i,n);break;case"object":t[i]=Ux(n[i],r);break;case"boolean":r&&(t[i]=n[i]);break}return t}function dfe(n,e,t={}){const i=n,{target:r,eventOptions:s,window:a,enabled:o,transform:l}=i,u=ufe(i,hfe);if(t.shared=Ux({target:r,eventOptions:s,window:a,enabled:o,transform:l},ffe),e){const d=mA.get(e);t[e]=Ux(js({shared:t.shared},u),d)}else for(const d in u){const m=mA.get(d);m&&(t[d]=Ux(js({shared:t.shared},u[d]),m))}return t}class fB{constructor(e,t){uc(this,"_listeners",new Set),this._ctrl=e,this._gestureKey=t}add(e,t,i,r,s){const a=this._listeners,o=Iue(t,i),l=this._gestureKey?this._ctrl.config[this._gestureKey].eventOptions:{},u=js(js({},l),s);e.addEventListener(o,r,u);const d=()=>{e.removeEventListener(o,r,u),a.delete(d)};return a.add(d),d}clean(){this._listeners.forEach(e=>e()),this._listeners.clear()}}class pfe{constructor(){uc(this,"_timeouts",new Map)}add(e,t,i=140,...r){this.remove(e),this._timeouts.set(e,window.setTimeout(t,i,...r))}remove(e){const t=this._timeouts.get(e);t&&window.clearTimeout(t)}clean(){this._timeouts.forEach(e=>void window.clearTimeout(e)),this._timeouts.clear()}}class mfe{constructor(e){uc(this,"gestures",new Set),uc(this,"_targetEventStore",new fB(this)),uc(this,"gestureEventStores",{}),uc(this,"gestureTimeoutStores",{}),uc(this,"handlers",{}),uc(this,"config",{}),uc(this,"pointerIds",new Set),uc(this,"touchIds",new Set),uc(this,"state",{shared:{shiftKey:!1,metaKey:!1,ctrlKey:!1,altKey:!1}}),gfe(this,e)}setEventIds(e){if(aE(e))return this.touchIds=new Set(Bue(e)),this.touchIds;if("pointerId"in e)return e.type==="pointerup"||e.type==="pointercancel"?this.pointerIds.delete(e.pointerId):e.type==="pointerdown"&&this.pointerIds.add(e.pointerId),this.pointerIds}applyHandlers(e,t){this.handlers=e,this.nativeHandlers=t}applyConfig(e,t){this.config=dfe(e,t,this.config)}clean(){this._targetEventStore.clean();for(const e of this.gestures)this.gestureEventStores[e].clean(),this.gestureTimeoutStores[e].clean()}effect(){return this.config.shared.target&&this.bind(),()=>this._targetEventStore.clean()}bind(...e){const t=this.config.shared,i={};let r;if(!(t.target&&(r=t.target(),!r))){if(t.enabled){for(const a of this.gestures){const o=this.config[a],l=r4(i,o.eventOptions,!!r);if(o.enabled){const u=uB.get(a);new u(this,e,a).bind(l)}}const s=r4(i,t.eventOptions,!!r);for(const a in this.nativeHandlers)s(a,"",o=>this.nativeHandlers[a](js(js({},this.state.shared),{},{event:o,args:e})),void 0,!0)}for(const s in i)i[s]=Fue(...i[s]);if(!r)return i;for(const s in i){const{device:a,capture:o,passive:l}=Nue(s);this._targetEventStore.add(r,a,"",i[s],{capture:o,passive:l})}}}}function Iv(n,e){n.gestures.add(e),n.gestureEventStores[e]=new fB(n,e),n.gestureTimeoutStores[e]=new pfe}function gfe(n,e){e.drag&&Iv(n,"drag"),e.wheel&&Iv(n,"wheel"),e.scroll&&Iv(n,"scroll"),e.move&&Iv(n,"move"),e.pinch&&Iv(n,"pinch"),e.hover&&Iv(n,"hover")}const r4=(n,e,t)=>(i,r,s,a={},o=!1)=>{var l,u;const d=(l=a.capture)!==null&&l!==void 0?l:e.capture,m=(u=a.passive)!==null&&u!==void 0?u:e.passive;let v=o?i:Due(i,r,d);t&&m&&(v+="Passive"),n[v]=n[v]||[],n[v].push(s)};function vfe(n,e={},t,i){const r=Se.useMemo(()=>new mfe(n),[]);if(r.applyHandlers(n,i),r.applyConfig(e,t),Se.useEffect(r.effect.bind(r)),Se.useEffect(()=>r.clean.bind(r),[]),e.target===void 0)return r.bind.bind(r)}function yfe(n,e){return ofe(lfe),vfe({drag:n},e||{},"drag")}const hB=parseInt(V_.replace(/\D+/g,""));var Tu=Uint8Array,Lp=Uint16Array,gA=Uint32Array,dB=new Tu([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),pB=new Tu([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),_fe=new Tu([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),mB=function(n,e){for(var t=new Lp(31),i=0;i<31;++i)t[i]=e+=1<<n[i-1];for(var r=new gA(t[30]),i=1;i<30;++i)for(var s=t[i];s<t[i+1];++s)r[s]=s-t[i]<<5|i;return[t,r]},gB=mB(dB,2),vB=gB[0],bfe=gB[1];vB[28]=258,bfe[258]=28;var xfe=mB(pB,0),Sfe=xfe[0],vA=new Lp(32768);for(var xs=0;xs<32768;++xs){var xp=(xs&43690)>>>1|(xs&21845)<<1;xp=(xp&52428)>>>2|(xp&13107)<<2,xp=(xp&61680)>>>4|(xp&3855)<<4,vA[xs]=((xp&65280)>>>8|(xp&255)<<8)>>>1}var t_=(function(n,e,t){for(var i=n.length,r=0,s=new Lp(e);r<i;++r)++s[n[r]-1];var a=new Lp(e);for(r=0;r<e;++r)a[r]=a[r-1]+s[r-1]<<1;var o;if(t){o=new Lp(1<<e);var l=15-e;for(r=0;r<i;++r)if(n[r])for(var u=r<<4|n[r],d=e-n[r],m=a[n[r]-1]++<<d,v=m|(1<<d)-1;m<=v;++m)o[vA[m]>>>l]=u}else for(o=new Lp(i),r=0;r<i;++r)n[r]&&(o[r]=vA[a[n[r]-1]++]>>>15-n[r]);return o}),a1=new Tu(288);for(var xs=0;xs<144;++xs)a1[xs]=8;for(var xs=144;xs<256;++xs)a1[xs]=9;for(var xs=256;xs<280;++xs)a1[xs]=7;for(var xs=280;xs<288;++xs)a1[xs]=8;var yB=new Tu(32);for(var xs=0;xs<32;++xs)yB[xs]=5;var wfe=t_(a1,9,1),Efe=t_(yB,5,1),FM=function(n){for(var e=n[0],t=1;t<n.length;++t)n[t]>e&&(e=n[t]);return e},tf=function(n,e,t){var i=e/8|0;return(n[i]|n[i+1]<<8)>>(e&7)&t},VM=function(n,e){var t=e/8|0;return(n[t]|n[t+1]<<8|n[t+2]<<16)>>(e&7)},Tfe=function(n){return(n/8|0)+(n&7&&1)},Mfe=function(n,e,t){(t==null||t>n.length)&&(t=n.length);var i=new(n instanceof Lp?Lp:n instanceof gA?gA:Tu)(t-e);return i.set(n.subarray(e,t)),i},Afe=function(n,e,t){var i=n.length;if(!i||t&&!t.l&&i<5)return e||new Tu(0);var r=!e||t,s=!t||t.i;t||(t={}),e||(e=new Tu(i*3));var a=function(Ze){var gt=e.length;if(Ze>gt){var yt=new Tu(Math.max(gt*2,Ze));yt.set(e),e=yt}},o=t.f||0,l=t.p||0,u=t.b||0,d=t.l,m=t.d,v=t.m,y=t.n,x=i*8;do{if(!d){t.f=o=tf(n,l,1);var T=tf(n,l+1,3);if(l+=3,T)if(T==1)d=wfe,m=Efe,v=9,y=5;else if(T==2){var D=tf(n,l,31)+257,N=tf(n,l+10,15)+4,G=D+tf(n,l+5,31)+1;l+=14;for(var k=new Tu(G),M=new Tu(19),$=0;$<N;++$)M[_fe[$]]=tf(n,l+$*3,7);l+=N*3;for(var V=FM(M),H=(1<<V)-1,ee=t_(M,V,1),$=0;$<G;){var pe=ee[tf(n,l,H)];l+=pe&15;var E=pe>>>4;if(E<16)k[$++]=E;else{var ae=0,ye=0;for(E==16?(ye=3+tf(n,l,3),l+=2,ae=k[$-1]):E==17?(ye=3+tf(n,l,7),l+=3):E==18&&(ye=11+tf(n,l,127),l+=7);ye--;)k[$++]=ae}}var Te=k.subarray(0,D),J=k.subarray(D);v=FM(Te),y=FM(J),d=t_(Te,v,1),m=t_(J,y,1)}else throw"invalid block type";else{var E=Tfe(l)+4,w=n[E-4]|n[E-3]<<8,P=E+w;if(P>i){if(s)throw"unexpected EOF";break}r&&a(u+w),e.set(n.subarray(E,P),u),t.b=u+=w,t.p=l=P*8;continue}if(l>x){if(s)throw"unexpected EOF";break}}r&&a(u+131072);for(var de=(1<<v)-1,he=(1<<y)-1,Le=l;;Le=l){var ae=d[VM(n,l)&de],ne=ae>>>4;if(l+=ae&15,l>x){if(s)throw"unexpected EOF";break}if(!ae)throw"invalid length/literal";if(ne<256)e[u++]=ne;else if(ne==256){Le=l,d=null;break}else{var re=ne-254;if(ne>264){var $=ne-257,ze=dB[$];re=tf(n,l,(1<<ze)-1)+vB[$],l+=ze}var Ve=m[VM(n,l)&he],xe=Ve>>>4;if(!Ve)throw"invalid distance";l+=Ve&15;var J=Sfe[xe];if(xe>3){var ze=pB[xe];J+=VM(n,l)&(1<<ze)-1,l+=ze}if(l>x){if(s)throw"unexpected EOF";break}r&&a(u+131072);for(var $e=u+re;u<$e;u+=4)e[u]=e[u-J],e[u+1]=e[u+1-J],e[u+2]=e[u+2-J],e[u+3]=e[u+3-J];u=$e}}t.l=d,t.p=Le,t.b=u,d&&(o=1,t.m=v,t.d=m,t.n=y)}while(!o);return u==e.length?e:Mfe(e,0,u)},Cfe=new Tu(0),Rfe=function(n){if((n[0]&15)!=8||n[0]>>>4>7||(n[0]<<8|n[1])%31)throw"invalid zlib data";if(n[1]&32)throw"invalid zlib data: preset dictionaries not supported"};function px(n,e){return Afe((Rfe(n),n.subarray(2,-4)),e)}var Ofe=typeof TextDecoder<"u"&&new TextDecoder,Pfe=0;try{Ofe.decode(Cfe,{stream:!0}),Pfe=1}catch{}const Dfe=n=>n&&n.isCubeTexture;class Lfe extends Gs{constructor(e,t){var i,r;const s=Dfe(e),o=((r=s?(i=e.image[0])==null?void 0:i.width:e.image.width)!=null?r:1024)/4,l=Math.floor(Math.log2(o)),u=Math.pow(2,l),d=3*Math.max(u,112),m=4*u,v=[s?"#define ENVMAP_TYPE_CUBE":"",`#define CUBEUV_TEXEL_WIDTH ${1/d}`,`#define CUBEUV_TEXEL_HEIGHT ${1/m}`,`#define CUBEUV_MAX_MIP ${l}.0`],y=`
        varying vec3 vWorldPosition;
        void main() 
        {
            vec4 worldPosition = ( modelMatrix * vec4( position, 1.0 ) );
            vWorldPosition = worldPosition.xyz;
            
            gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
        }
        `,x=v.join(`
`)+`
        #define ENVMAP_TYPE_CUBE_UV
        varying vec3 vWorldPosition;
        uniform float radius;
        uniform float height;
        uniform float angle;
        #ifdef ENVMAP_TYPE_CUBE
            uniform samplerCube map;
        #else
            uniform sampler2D map;
        #endif
        // From: https://www.shadertoy.com/view/4tsBD7
        float diskIntersectWithBackFaceCulling( vec3 ro, vec3 rd, vec3 c, vec3 n, float r ) 
        {
            float d = dot ( rd, n );
            
            if( d > 0.0 ) { return 1e6; }
            
            vec3  o = ro - c;
            float t = - dot( n, o ) / d;
            vec3  q = o + rd * t;
            
            return ( dot( q, q ) < r * r ) ? t : 1e6;
        }
        // From: https://www.iquilezles.org/www/articles/intersectors/intersectors.htm
        float sphereIntersect( vec3 ro, vec3 rd, vec3 ce, float ra ) 
        {
            vec3 oc = ro - ce;
            float b = dot( oc, rd );
            float c = dot( oc, oc ) - ra * ra;
            float h = b * b - c;
            
            if( h < 0.0 ) { return -1.0; }
            
            h = sqrt( h );
            
            return - b + h;
        }
        vec3 project() 
        {
            vec3 p = normalize( vWorldPosition );
            vec3 camPos = cameraPosition;
            camPos.y -= height;
            float intersection = sphereIntersect( camPos, p, vec3( 0.0 ), radius );
            if( intersection > 0.0 ) {
                
                vec3 h = vec3( 0.0, - height, 0.0 );
                float intersection2 = diskIntersectWithBackFaceCulling( camPos, p, h, vec3( 0.0, 1.0, 0.0 ), radius );
                p = ( camPos + min( intersection, intersection2 ) * p ) / radius;
            } else {
                p = vec3( 0.0, 1.0, 0.0 );
            }
            return p;
        }
        #include <common>
        #include <cube_uv_reflection_fragment>
        void main() 
        {
            vec3 projectedWorldPosition = project();
            
            #ifdef ENVMAP_TYPE_CUBE
                vec3 outcolor = textureCube( map, projectedWorldPosition ).rgb;
            #else
                vec3 direction = normalize( projectedWorldPosition );
                vec2 uv = equirectUv( direction );
                vec3 outcolor = texture2D( map, uv ).rgb;
            #endif
            gl_FragColor = vec4( outcolor, 1.0 );
            #include <tonemapping_fragment>
            #include <${hB>=154?"colorspace_fragment":"encodings_fragment"}>
        }
        `,T={map:{value:e},height:{value:t?.height||15},radius:{value:t?.radius||100}},E=new K_(1,16),w=new pc({uniforms:T,fragmentShader:x,vertexShader:y,side:Eu});super(E,w)}set radius(e){this.material.uniforms.radius.value=e}get radius(){return this.material.uniforms.radius.value}set height(e){this.material.uniforms.height.value=e}get height(){return this.material.uniforms.height.value}}var Nfe=Object.defineProperty,Ife=(n,e,t)=>e in n?Nfe(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,zfe=(n,e,t)=>(Ife(n,e+"",t),t);class Ufe{constructor(){zfe(this,"_listeners")}addEventListener(e,t){this._listeners===void 0&&(this._listeners={});const i=this._listeners;i[e]===void 0&&(i[e]=[]),i[e].indexOf(t)===-1&&i[e].push(t)}hasEventListener(e,t){if(this._listeners===void 0)return!1;const i=this._listeners;return i[e]!==void 0&&i[e].indexOf(t)!==-1}removeEventListener(e,t){if(this._listeners===void 0)return;const r=this._listeners[e];if(r!==void 0){const s=r.indexOf(t);s!==-1&&r.splice(s,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const i=this._listeners[e.type];if(i!==void 0){e.target=this;const r=i.slice(0);for(let s=0,a=r.length;s<a;s++)r[s].call(this,e);e.target=null}}}var Bfe=Object.defineProperty,kfe=(n,e,t)=>e in n?Bfe(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,ii=(n,e,t)=>(kfe(n,typeof e!="symbol"?e+"":e,t),t);const mx=new Eg,s4=new id,Hfe=Math.cos(70*(Math.PI/180)),a4=(n,e)=>(n%e+e)%e;let Ffe=class extends Ufe{constructor(e,t){super(),ii(this,"object"),ii(this,"domElement"),ii(this,"enabled",!0),ii(this,"target",new me),ii(this,"minDistance",0),ii(this,"maxDistance",1/0),ii(this,"minZoom",0),ii(this,"maxZoom",1/0),ii(this,"minPolarAngle",0),ii(this,"maxPolarAngle",Math.PI),ii(this,"minAzimuthAngle",-1/0),ii(this,"maxAzimuthAngle",1/0),ii(this,"enableDamping",!1),ii(this,"dampingFactor",.05),ii(this,"enableZoom",!0),ii(this,"zoomSpeed",1),ii(this,"enableRotate",!0),ii(this,"rotateSpeed",1),ii(this,"enablePan",!0),ii(this,"panSpeed",1),ii(this,"screenSpacePanning",!0),ii(this,"keyPanSpeed",7),ii(this,"zoomToCursor",!1),ii(this,"autoRotate",!1),ii(this,"autoRotateSpeed",2),ii(this,"reverseOrbit",!1),ii(this,"reverseHorizontalOrbit",!1),ii(this,"reverseVerticalOrbit",!1),ii(this,"keys",{LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"}),ii(this,"mouseButtons",{LEFT:Vm.ROTATE,MIDDLE:Vm.DOLLY,RIGHT:Vm.PAN}),ii(this,"touches",{ONE:Gm.ROTATE,TWO:Gm.DOLLY_PAN}),ii(this,"target0"),ii(this,"position0"),ii(this,"zoom0"),ii(this,"_domElementKeyEvents",null),ii(this,"getPolarAngle"),ii(this,"getAzimuthalAngle"),ii(this,"setPolarAngle"),ii(this,"setAzimuthalAngle"),ii(this,"getDistance"),ii(this,"getZoomScale"),ii(this,"listenToKeyEvents"),ii(this,"stopListenToKeyEvents"),ii(this,"saveState"),ii(this,"reset"),ii(this,"update"),ii(this,"connect"),ii(this,"dispose"),ii(this,"dollyIn"),ii(this,"dollyOut"),ii(this,"getScale"),ii(this,"setScale"),this.object=e,this.domElement=t,this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=()=>d.phi,this.getAzimuthalAngle=()=>d.theta,this.setPolarAngle=Ee=>{let Fe=a4(Ee,2*Math.PI),Rt=d.phi;Rt<0&&(Rt+=2*Math.PI),Fe<0&&(Fe+=2*Math.PI);let Ae=Math.abs(Fe-Rt);2*Math.PI-Ae<Ae&&(Fe<Rt?Fe+=2*Math.PI:Rt+=2*Math.PI),m.phi=Fe-Rt,i.update()},this.setAzimuthalAngle=Ee=>{let Fe=a4(Ee,2*Math.PI),Rt=d.theta;Rt<0&&(Rt+=2*Math.PI),Fe<0&&(Fe+=2*Math.PI);let Ae=Math.abs(Fe-Rt);2*Math.PI-Ae<Ae&&(Fe<Rt?Fe+=2*Math.PI:Rt+=2*Math.PI),m.theta=Fe-Rt,i.update()},this.getDistance=()=>i.object.position.distanceTo(i.target),this.listenToKeyEvents=Ee=>{Ee.addEventListener("keydown",rt),this._domElementKeyEvents=Ee},this.stopListenToKeyEvents=()=>{this._domElementKeyEvents.removeEventListener("keydown",rt),this._domElementKeyEvents=null},this.saveState=()=>{i.target0.copy(i.target),i.position0.copy(i.object.position),i.zoom0=i.object.zoom},this.reset=()=>{i.target.copy(i.target0),i.object.position.copy(i.position0),i.object.zoom=i.zoom0,i.object.updateProjectionMatrix(),i.dispatchEvent(r),i.update(),l=o.NONE},this.update=(()=>{const Ee=new me,Fe=new me(0,1,0),Rt=new el().setFromUnitVectors(e.up,Fe),Ae=Rt.clone().invert(),Xe=new me,xt=new el,Xt=2*Math.PI;return function(){const Ct=i.object.position;Rt.setFromUnitVectors(e.up,Fe),Ae.copy(Rt).invert(),Ee.copy(Ct).sub(i.target),Ee.applyQuaternion(Rt),d.setFromVector3(Ee),i.autoRotate&&l===o.NONE&&ye(pe()),i.enableDamping?(d.theta+=m.theta*i.dampingFactor,d.phi+=m.phi*i.dampingFactor):(d.theta+=m.theta,d.phi+=m.phi);let $t=i.minAzimuthAngle,fn=i.maxAzimuthAngle;isFinite($t)&&isFinite(fn)&&($t<-Math.PI?$t+=Xt:$t>Math.PI&&($t-=Xt),fn<-Math.PI?fn+=Xt:fn>Math.PI&&(fn-=Xt),$t<=fn?d.theta=Math.max($t,Math.min(fn,d.theta)):d.theta=d.theta>($t+fn)/2?Math.max($t,d.theta):Math.min(fn,d.theta)),d.phi=Math.max(i.minPolarAngle,Math.min(i.maxPolarAngle,d.phi)),d.makeSafe(),i.enableDamping===!0?i.target.addScaledVector(y,i.dampingFactor):i.target.add(y),i.zoomToCursor&&V||i.object.isOrthographicCamera?d.radius=Ve(d.radius):d.radius=Ve(d.radius*v),Ee.setFromSpherical(d),Ee.applyQuaternion(Ae),Ct.copy(i.target).add(Ee),i.object.matrixAutoUpdate||i.object.updateMatrix(),i.object.lookAt(i.target),i.enableDamping===!0?(m.theta*=1-i.dampingFactor,m.phi*=1-i.dampingFactor,y.multiplyScalar(1-i.dampingFactor)):(m.set(0,0,0),y.set(0,0,0));let ui=!1;if(i.zoomToCursor&&V){let fi=null;if(i.object instanceof fa&&i.object.isPerspectiveCamera){const Ur=Ee.length();fi=Ve(Ur*v);const Wi=Ur-fi;i.object.position.addScaledVector(M,Wi),i.object.updateMatrixWorld()}else if(i.object.isOrthographicCamera){const Ur=new me($.x,$.y,0);Ur.unproject(i.object),i.object.zoom=Math.max(i.minZoom,Math.min(i.maxZoom,i.object.zoom/v)),i.object.updateProjectionMatrix(),ui=!0;const Wi=new me($.x,$.y,0);Wi.unproject(i.object),i.object.position.sub(Wi).add(Ur),i.object.updateMatrixWorld(),fi=Ee.length()}else console.warn("WARNING: OrbitControls.js encountered an unknown camera type - zoom to cursor disabled."),i.zoomToCursor=!1;fi!==null&&(i.screenSpacePanning?i.target.set(0,0,-1).transformDirection(i.object.matrix).multiplyScalar(fi).add(i.object.position):(mx.origin.copy(i.object.position),mx.direction.set(0,0,-1).transformDirection(i.object.matrix),Math.abs(i.object.up.dot(mx.direction))<Hfe?e.lookAt(i.target):(s4.setFromNormalAndCoplanarPoint(i.object.up,i.target),mx.intersectPlane(s4,i.target))))}else i.object instanceof gd&&i.object.isOrthographicCamera&&(ui=v!==1,ui&&(i.object.zoom=Math.max(i.minZoom,Math.min(i.maxZoom,i.object.zoom/v)),i.object.updateProjectionMatrix()));return v=1,V=!1,ui||Xe.distanceToSquared(i.object.position)>u||8*(1-xt.dot(i.object.quaternion))>u?(i.dispatchEvent(r),Xe.copy(i.object.position),xt.copy(i.object.quaternion),ui=!1,!0):!1}})(),this.connect=Ee=>{i.domElement=Ee,i.domElement.style.touchAction="none",i.domElement.addEventListener("contextmenu",tn),i.domElement.addEventListener("pointerdown",bn),i.domElement.addEventListener("pointercancel",Z),i.domElement.addEventListener("wheel",ht)},this.dispose=()=>{var Ee,Fe,Rt,Ae,Xe,xt;i.domElement&&(i.domElement.style.touchAction="auto"),(Ee=i.domElement)==null||Ee.removeEventListener("contextmenu",tn),(Fe=i.domElement)==null||Fe.removeEventListener("pointerdown",bn),(Rt=i.domElement)==null||Rt.removeEventListener("pointercancel",Z),(Ae=i.domElement)==null||Ae.removeEventListener("wheel",ht),(Xe=i.domElement)==null||Xe.ownerDocument.removeEventListener("pointermove",ie),(xt=i.domElement)==null||xt.ownerDocument.removeEventListener("pointerup",Z),i._domElementKeyEvents!==null&&i._domElementKeyEvents.removeEventListener("keydown",rt)};const i=this,r={type:"change"},s={type:"start"},a={type:"end"},o={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let l=o.NONE;const u=1e-6,d=new aA,m=new aA;let v=1;const y=new me,x=new Lt,T=new Lt,E=new Lt,w=new Lt,P=new Lt,D=new Lt,N=new Lt,G=new Lt,k=new Lt,M=new me,$=new Lt;let V=!1;const H=[],ee={};function pe(){return 2*Math.PI/60/60*i.autoRotateSpeed}function ae(){return Math.pow(.95,i.zoomSpeed)}function ye(Ee){i.reverseOrbit||i.reverseHorizontalOrbit?m.theta+=Ee:m.theta-=Ee}function Te(Ee){i.reverseOrbit||i.reverseVerticalOrbit?m.phi+=Ee:m.phi-=Ee}const J=(()=>{const Ee=new me;return function(Rt,Ae){Ee.setFromMatrixColumn(Ae,0),Ee.multiplyScalar(-Rt),y.add(Ee)}})(),de=(()=>{const Ee=new me;return function(Rt,Ae){i.screenSpacePanning===!0?Ee.setFromMatrixColumn(Ae,1):(Ee.setFromMatrixColumn(Ae,0),Ee.crossVectors(i.object.up,Ee)),Ee.multiplyScalar(Rt),y.add(Ee)}})(),he=(()=>{const Ee=new me;return function(Rt,Ae){const Xe=i.domElement;if(Xe&&i.object instanceof fa&&i.object.isPerspectiveCamera){const xt=i.object.position;Ee.copy(xt).sub(i.target);let Xt=Ee.length();Xt*=Math.tan(i.object.fov/2*Math.PI/180),J(2*Rt*Xt/Xe.clientHeight,i.object.matrix),de(2*Ae*Xt/Xe.clientHeight,i.object.matrix)}else Xe&&i.object instanceof gd&&i.object.isOrthographicCamera?(J(Rt*(i.object.right-i.object.left)/i.object.zoom/Xe.clientWidth,i.object.matrix),de(Ae*(i.object.top-i.object.bottom)/i.object.zoom/Xe.clientHeight,i.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),i.enablePan=!1)}})();function Le(Ee){i.object instanceof fa&&i.object.isPerspectiveCamera||i.object instanceof gd&&i.object.isOrthographicCamera?v=Ee:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),i.enableZoom=!1)}function ne(Ee){Le(v/Ee)}function re(Ee){Le(v*Ee)}function ze(Ee){if(!i.zoomToCursor||!i.domElement)return;V=!0;const Fe=i.domElement.getBoundingClientRect(),Rt=Ee.clientX-Fe.left,Ae=Ee.clientY-Fe.top,Xe=Fe.width,xt=Fe.height;$.x=Rt/Xe*2-1,$.y=-(Ae/xt)*2+1,M.set($.x,$.y,1).unproject(i.object).sub(i.object.position).normalize()}function Ve(Ee){return Math.max(i.minDistance,Math.min(i.maxDistance,Ee))}function xe(Ee){x.set(Ee.clientX,Ee.clientY)}function $e(Ee){ze(Ee),N.set(Ee.clientX,Ee.clientY)}function Ze(Ee){w.set(Ee.clientX,Ee.clientY)}function gt(Ee){T.set(Ee.clientX,Ee.clientY),E.subVectors(T,x).multiplyScalar(i.rotateSpeed);const Fe=i.domElement;Fe&&(ye(2*Math.PI*E.x/Fe.clientHeight),Te(2*Math.PI*E.y/Fe.clientHeight)),x.copy(T),i.update()}function yt(Ee){G.set(Ee.clientX,Ee.clientY),k.subVectors(G,N),k.y>0?ne(ae()):k.y<0&&re(ae()),N.copy(G),i.update()}function vt(Ee){P.set(Ee.clientX,Ee.clientY),D.subVectors(P,w).multiplyScalar(i.panSpeed),he(D.x,D.y),w.copy(P),i.update()}function Vt(Ee){ze(Ee),Ee.deltaY<0?re(ae()):Ee.deltaY>0&&ne(ae()),i.update()}function zn(Ee){let Fe=!1;switch(Ee.code){case i.keys.UP:he(0,i.keyPanSpeed),Fe=!0;break;case i.keys.BOTTOM:he(0,-i.keyPanSpeed),Fe=!0;break;case i.keys.LEFT:he(i.keyPanSpeed,0),Fe=!0;break;case i.keys.RIGHT:he(-i.keyPanSpeed,0),Fe=!0;break}Fe&&(Ee.preventDefault(),i.update())}function An(){if(H.length==1)x.set(H[0].pageX,H[0].pageY);else{const Ee=.5*(H[0].pageX+H[1].pageX),Fe=.5*(H[0].pageY+H[1].pageY);x.set(Ee,Fe)}}function dn(){if(H.length==1)w.set(H[0].pageX,H[0].pageY);else{const Ee=.5*(H[0].pageX+H[1].pageX),Fe=.5*(H[0].pageY+H[1].pageY);w.set(Ee,Fe)}}function fe(){const Ee=H[0].pageX-H[1].pageX,Fe=H[0].pageY-H[1].pageY,Rt=Math.sqrt(Ee*Ee+Fe*Fe);N.set(0,Rt)}function Et(){i.enableZoom&&fe(),i.enablePan&&dn()}function Mt(){i.enableZoom&&fe(),i.enableRotate&&An()}function At(Ee){if(H.length==1)T.set(Ee.pageX,Ee.pageY);else{const Rt=cn(Ee),Ae=.5*(Ee.pageX+Rt.x),Xe=.5*(Ee.pageY+Rt.y);T.set(Ae,Xe)}E.subVectors(T,x).multiplyScalar(i.rotateSpeed);const Fe=i.domElement;Fe&&(ye(2*Math.PI*E.x/Fe.clientHeight),Te(2*Math.PI*E.y/Fe.clientHeight)),x.copy(T)}function mt(Ee){if(H.length==1)P.set(Ee.pageX,Ee.pageY);else{const Fe=cn(Ee),Rt=.5*(Ee.pageX+Fe.x),Ae=.5*(Ee.pageY+Fe.y);P.set(Rt,Ae)}D.subVectors(P,w).multiplyScalar(i.panSpeed),he(D.x,D.y),w.copy(P)}function Kt(Ee){const Fe=cn(Ee),Rt=Ee.pageX-Fe.x,Ae=Ee.pageY-Fe.y,Xe=Math.sqrt(Rt*Rt+Ae*Ae);G.set(0,Xe),k.set(0,Math.pow(G.y/N.y,i.zoomSpeed)),ne(k.y),N.copy(G)}function Ot(Ee){i.enableZoom&&Kt(Ee),i.enablePan&&mt(Ee)}function Qt(Ee){i.enableZoom&&Kt(Ee),i.enableRotate&&At(Ee)}function bn(Ee){var Fe,Rt;i.enabled!==!1&&(H.length===0&&((Fe=i.domElement)==null||Fe.ownerDocument.addEventListener("pointermove",ie),(Rt=i.domElement)==null||Rt.ownerDocument.addEventListener("pointerup",Z)),nn(Ee),Ee.pointerType==="touch"?qt(Ee):be(Ee))}function ie(Ee){i.enabled!==!1&&(Ee.pointerType==="touch"?jt(Ee):Ge(Ee))}function Z(Ee){var Fe,Rt,Ae;dt(Ee),H.length===0&&((Fe=i.domElement)==null||Fe.releasePointerCapture(Ee.pointerId),(Rt=i.domElement)==null||Rt.ownerDocument.removeEventListener("pointermove",ie),(Ae=i.domElement)==null||Ae.ownerDocument.removeEventListener("pointerup",Z)),i.dispatchEvent(a),l=o.NONE}function be(Ee){let Fe;switch(Ee.button){case 0:Fe=i.mouseButtons.LEFT;break;case 1:Fe=i.mouseButtons.MIDDLE;break;case 2:Fe=i.mouseButtons.RIGHT;break;default:Fe=-1}switch(Fe){case Vm.DOLLY:if(i.enableZoom===!1)return;$e(Ee),l=o.DOLLY;break;case Vm.ROTATE:if(Ee.ctrlKey||Ee.metaKey||Ee.shiftKey){if(i.enablePan===!1)return;Ze(Ee),l=o.PAN}else{if(i.enableRotate===!1)return;xe(Ee),l=o.ROTATE}break;case Vm.PAN:if(Ee.ctrlKey||Ee.metaKey||Ee.shiftKey){if(i.enableRotate===!1)return;xe(Ee),l=o.ROTATE}else{if(i.enablePan===!1)return;Ze(Ee),l=o.PAN}break;default:l=o.NONE}l!==o.NONE&&i.dispatchEvent(s)}function Ge(Ee){if(i.enabled!==!1)switch(l){case o.ROTATE:if(i.enableRotate===!1)return;gt(Ee);break;case o.DOLLY:if(i.enableZoom===!1)return;yt(Ee);break;case o.PAN:if(i.enablePan===!1)return;vt(Ee);break}}function ht(Ee){i.enabled===!1||i.enableZoom===!1||l!==o.NONE&&l!==o.ROTATE||(Ee.preventDefault(),i.dispatchEvent(s),Vt(Ee),i.dispatchEvent(a))}function rt(Ee){i.enabled===!1||i.enablePan===!1||zn(Ee)}function qt(Ee){switch(kt(Ee),H.length){case 1:switch(i.touches.ONE){case Gm.ROTATE:if(i.enableRotate===!1)return;An(),l=o.TOUCH_ROTATE;break;case Gm.PAN:if(i.enablePan===!1)return;dn(),l=o.TOUCH_PAN;break;default:l=o.NONE}break;case 2:switch(i.touches.TWO){case Gm.DOLLY_PAN:if(i.enableZoom===!1&&i.enablePan===!1)return;Et(),l=o.TOUCH_DOLLY_PAN;break;case Gm.DOLLY_ROTATE:if(i.enableZoom===!1&&i.enableRotate===!1)return;Mt(),l=o.TOUCH_DOLLY_ROTATE;break;default:l=o.NONE}break;default:l=o.NONE}l!==o.NONE&&i.dispatchEvent(s)}function jt(Ee){switch(kt(Ee),l){case o.TOUCH_ROTATE:if(i.enableRotate===!1)return;At(Ee),i.update();break;case o.TOUCH_PAN:if(i.enablePan===!1)return;mt(Ee),i.update();break;case o.TOUCH_DOLLY_PAN:if(i.enableZoom===!1&&i.enablePan===!1)return;Ot(Ee),i.update();break;case o.TOUCH_DOLLY_ROTATE:if(i.enableZoom===!1&&i.enableRotate===!1)return;Qt(Ee),i.update();break;default:l=o.NONE}}function tn(Ee){i.enabled!==!1&&Ee.preventDefault()}function nn(Ee){H.push(Ee)}function dt(Ee){delete ee[Ee.pointerId];for(let Fe=0;Fe<H.length;Fe++)if(H[Fe].pointerId==Ee.pointerId){H.splice(Fe,1);return}}function kt(Ee){let Fe=ee[Ee.pointerId];Fe===void 0&&(Fe=new Lt,ee[Ee.pointerId]=Fe),Fe.set(Ee.pageX,Ee.pageY)}function cn(Ee){const Fe=Ee.pointerId===H[0].pointerId?H[1]:H[0];return ee[Fe.pointerId]}this.dollyIn=(Ee=ae())=>{re(Ee),i.update()},this.dollyOut=(Ee=ae())=>{ne(Ee),i.update()},this.getScale=()=>v,this.setScale=Ee=>{Le(Ee),i.update()},this.getZoomScale=()=>ae(),t!==void 0&&this.connect(t),this.update()}};class Vfe extends VC{constructor(e){super(e),this.type=Ha}parse(e){const a=function($,V){switch($){case 1:throw new Error("THREE.RGBELoader: Read Error: "+(V||""));case 2:throw new Error("THREE.RGBELoader: Write Error: "+(V||""));case 3:throw new Error("THREE.RGBELoader: Bad File Format: "+(V||""));default:case 4:throw new Error("THREE.RGBELoader: Memory Error: "+(V||""))}},m=function($,V,H){V=V||1024;let pe=$.pos,ae=-1,ye=0,Te="",J=String.fromCharCode.apply(null,new Uint16Array($.subarray(pe,pe+128)));for(;0>(ae=J.indexOf(`
`))&&ye<V&&pe<$.byteLength;)Te+=J,ye+=J.length,pe+=128,J+=String.fromCharCode.apply(null,new Uint16Array($.subarray(pe,pe+128)));return-1<ae?($.pos+=ye+ae+1,Te+J.slice(0,ae)):!1},v=function($){const V=/^#\?(\S+)/,H=/^\s*GAMMA\s*=\s*(\d+(\.\d+)?)\s*$/,ee=/^\s*EXPOSURE\s*=\s*(\d+(\.\d+)?)\s*$/,pe=/^\s*FORMAT=(\S+)\s*$/,ae=/^\s*\-Y\s+(\d+)\s+\+X\s+(\d+)\s*$/,ye={valid:0,string:"",comments:"",programtype:"RGBE",format:"",gamma:1,exposure:1,width:0,height:0};let Te,J;for(($.pos>=$.byteLength||!(Te=m($)))&&a(1,"no header found"),(J=Te.match(V))||a(3,"bad initial token"),ye.valid|=1,ye.programtype=J[1],ye.string+=Te+`
`;Te=m($),Te!==!1;){if(ye.string+=Te+`
`,Te.charAt(0)==="#"){ye.comments+=Te+`
`;continue}if((J=Te.match(H))&&(ye.gamma=parseFloat(J[1])),(J=Te.match(ee))&&(ye.exposure=parseFloat(J[1])),(J=Te.match(pe))&&(ye.valid|=2,ye.format=J[1]),(J=Te.match(ae))&&(ye.valid|=4,ye.height=parseInt(J[1],10),ye.width=parseInt(J[2],10)),ye.valid&2&&ye.valid&4)break}return ye.valid&2||a(3,"missing format specifier"),ye.valid&4||a(3,"missing image size specifier"),ye},y=function($,V,H){const ee=V;if(ee<8||ee>32767||$[0]!==2||$[1]!==2||$[2]&128)return new Uint8Array($);ee!==($[2]<<8|$[3])&&a(3,"wrong scanline width");const pe=new Uint8Array(4*V*H);pe.length||a(4,"unable to allocate buffer space");let ae=0,ye=0;const Te=4*ee,J=new Uint8Array(4),de=new Uint8Array(Te);let he=H;for(;he>0&&ye<$.byteLength;){ye+4>$.byteLength&&a(1),J[0]=$[ye++],J[1]=$[ye++],J[2]=$[ye++],J[3]=$[ye++],(J[0]!=2||J[1]!=2||(J[2]<<8|J[3])!=ee)&&a(3,"bad rgbe scanline format");let Le=0,ne;for(;Le<Te&&ye<$.byteLength;){ne=$[ye++];const ze=ne>128;if(ze&&(ne-=128),(ne===0||Le+ne>Te)&&a(3,"bad scanline data"),ze){const Ve=$[ye++];for(let xe=0;xe<ne;xe++)de[Le++]=Ve}else de.set($.subarray(ye,ye+ne),Le),Le+=ne,ye+=ne}const re=ee;for(let ze=0;ze<re;ze++){let Ve=0;pe[ae]=de[ze+Ve],Ve+=ee,pe[ae+1]=de[ze+Ve],Ve+=ee,pe[ae+2]=de[ze+Ve],Ve+=ee,pe[ae+3]=de[ze+Ve],ae+=4}he--}return pe},x=function($,V,H,ee){const pe=$[V+3],ae=Math.pow(2,pe-128)/255;H[ee+0]=$[V+0]*ae,H[ee+1]=$[V+1]*ae,H[ee+2]=$[V+2]*ae,H[ee+3]=1},T=function($,V,H,ee){const pe=$[V+3],ae=Math.pow(2,pe-128)/255;H[ee+0]=rg.toHalfFloat(Math.min($[V+0]*ae,65504)),H[ee+1]=rg.toHalfFloat(Math.min($[V+1]*ae,65504)),H[ee+2]=rg.toHalfFloat(Math.min($[V+2]*ae,65504)),H[ee+3]=rg.toHalfFloat(1)},E=new Uint8Array(e);E.pos=0;const w=v(E),P=w.width,D=w.height,N=y(E.subarray(E.pos),P,D);let G,k,M;switch(this.type){case Ds:M=N.length/4;const $=new Float32Array(M*4);for(let H=0;H<M;H++)x(N,H*4,$,H*4);G=$,k=Ds;break;case Ha:M=N.length/4;const V=new Uint16Array(M*4);for(let H=0;H<M;H++)T(N,H*4,V,H*4);G=V,k=Ha;break;default:throw new Error("THREE.RGBELoader: Unsupported type: "+this.type)}return{width:P,height:D,data:G,header:w.string,gamma:w.gamma,exposure:w.exposure,type:k}}setDataType(e){return this.type=e,this}load(e,t,i,r){function s(a,o){switch(a.type){case Ds:case Ha:"colorSpace"in a?a.colorSpace="srgb-linear":a.encoding=3e3,a.minFilter=Or,a.magFilter=Or,a.generateMipmaps=!1,a.flipY=!0;break}t&&t(a,o)}return super.load(e,s,i,r)}}const P0=hB>=152;class Gfe extends VC{constructor(e){super(e),this.type=Ha}parse(e){const V=Math.pow(2.7182818,2.2);function H(K,oe){for(var De=0,Ke=0;Ke<65536;++Ke)(Ke==0||K[Ke>>3]&1<<(Ke&7))&&(oe[De++]=Ke);for(var Je=De-1;De<65536;)oe[De++]=0;return Je}function ee(K){for(var oe=0;oe<16384;oe++)K[oe]={},K[oe].len=0,K[oe].lit=0,K[oe].p=null}const pe={l:0,c:0,lc:0};function ae(K,oe,De,Ke,Je){for(;De<K;)oe=oe<<8|cn(Ke,Je),De+=8;De-=K,pe.l=oe>>De&(1<<K)-1,pe.c=oe,pe.lc=De}const ye=new Array(59);function Te(K){for(var oe=0;oe<=58;++oe)ye[oe]=0;for(var oe=0;oe<65537;++oe)ye[K[oe]]+=1;for(var De=0,oe=58;oe>0;--oe){var Ke=De+ye[oe]>>1;ye[oe]=De,De=Ke}for(var oe=0;oe<65537;++oe){var Je=K[oe];Je>0&&(K[oe]=Je|ye[Je]++<<6)}}function J(K,oe,De,Ke,Je,nt,Ut){for(var wt=De,Y=0,ve=0;Je<=nt;Je++){if(wt.value-De.value>Ke)return!1;ae(6,Y,ve,K,wt);var we=pe.l;if(Y=pe.c,ve=pe.lc,Ut[Je]=we,we==63){if(wt.value-De.value>Ke)throw"Something wrong with hufUnpackEncTable";ae(8,Y,ve,K,wt);var Me=pe.l+6;if(Y=pe.c,ve=pe.lc,Je+Me>nt+1)throw"Something wrong with hufUnpackEncTable";for(;Me--;)Ut[Je++]=0;Je--}else if(we>=59){var Me=we-59+2;if(Je+Me>nt+1)throw"Something wrong with hufUnpackEncTable";for(;Me--;)Ut[Je++]=0;Je--}}Te(Ut)}function de(K){return K&63}function he(K){return K>>6}function Le(K,oe,De,Ke){for(;oe<=De;oe++){var Je=he(K[oe]),nt=de(K[oe]);if(Je>>nt)throw"Invalid table entry";if(nt>14){var Ut=Ke[Je>>nt-14];if(Ut.len)throw"Invalid table entry";if(Ut.lit++,Ut.p){var wt=Ut.p;Ut.p=new Array(Ut.lit);for(var Y=0;Y<Ut.lit-1;++Y)Ut.p[Y]=wt[Y]}else Ut.p=new Array(1);Ut.p[Ut.lit-1]=oe}else if(nt)for(var ve=0,Y=1<<14-nt;Y>0;Y--){var Ut=Ke[(Je<<14-nt)+ve];if(Ut.len||Ut.p)throw"Invalid table entry";Ut.len=nt,Ut.lit=oe,ve++}}return!0}const ne={c:0,lc:0};function re(K,oe,De,Ke){K=K<<8|cn(De,Ke),oe+=8,ne.c=K,ne.lc=oe}const ze={c:0,lc:0};function Ve(K,oe,De,Ke,Je,nt,Ut,wt,Y,ve){if(K==oe){Ke<8&&(re(De,Ke,Je,Ut),De=ne.c,Ke=ne.lc),Ke-=8;var we=De>>Ke,we=new Uint8Array([we])[0];if(Y.value+we>ve)return!1;for(var Me=wt[Y.value-1];we-- >0;)wt[Y.value++]=Me}else if(Y.value<ve)wt[Y.value++]=K;else return!1;ze.c=De,ze.lc=Ke}function xe(K){return K&65535}function $e(K){var oe=xe(K);return oe>32767?oe-65536:oe}const Ze={a:0,b:0};function gt(K,oe){var De=$e(K),Ke=$e(oe),Je=Ke,nt=De+(Je&1)+(Je>>1),Ut=nt,wt=nt-Je;Ze.a=Ut,Ze.b=wt}function yt(K,oe){var De=xe(K),Ke=xe(oe),Je=De-(Ke>>1)&65535,nt=Ke+Je-32768&65535;Ze.a=nt,Ze.b=Je}function vt(K,oe,De,Ke,Je,nt,Ut){for(var wt=Ut<16384,Y=De>Je?Je:De,ve=1,we;ve<=Y;)ve<<=1;for(ve>>=1,we=ve,ve>>=1;ve>=1;){for(var Me=0,Ne=Me+nt*(Je-we),Ye=nt*ve,pt=nt*we,Tt=Ke*ve,Nt=Ke*we,rn,en,sn,Pn;Me<=Ne;Me+=pt){for(var Cn=Me,xi=Me+Ke*(De-we);Cn<=xi;Cn+=Nt){var an=Cn+Tt,In=Cn+Ye,xn=In+Tt;wt?(gt(K[Cn+oe],K[In+oe]),rn=Ze.a,sn=Ze.b,gt(K[an+oe],K[xn+oe]),en=Ze.a,Pn=Ze.b,gt(rn,en),K[Cn+oe]=Ze.a,K[an+oe]=Ze.b,gt(sn,Pn),K[In+oe]=Ze.a,K[xn+oe]=Ze.b):(yt(K[Cn+oe],K[In+oe]),rn=Ze.a,sn=Ze.b,yt(K[an+oe],K[xn+oe]),en=Ze.a,Pn=Ze.b,yt(rn,en),K[Cn+oe]=Ze.a,K[an+oe]=Ze.b,yt(sn,Pn),K[In+oe]=Ze.a,K[xn+oe]=Ze.b)}if(De&ve){var In=Cn+Ye;wt?gt(K[Cn+oe],K[In+oe]):yt(K[Cn+oe],K[In+oe]),rn=Ze.a,K[In+oe]=Ze.b,K[Cn+oe]=rn}}if(Je&ve)for(var Cn=Me,xi=Me+Ke*(De-we);Cn<=xi;Cn+=Nt){var an=Cn+Tt;wt?gt(K[Cn+oe],K[an+oe]):yt(K[Cn+oe],K[an+oe]),rn=Ze.a,K[an+oe]=Ze.b,K[Cn+oe]=rn}we=ve,ve>>=1}return Me}function Vt(K,oe,De,Ke,Je,nt,Ut,wt,Y,ve){for(var we=0,Me=0,Ne=wt,Ye=Math.trunc(Je.value+(nt+7)/8);Je.value<Ye;)for(re(we,Me,De,Je),we=ne.c,Me=ne.lc;Me>=14;){var pt=we>>Me-14&16383,Tt=oe[pt];if(Tt.len)Me-=Tt.len,Ve(Tt.lit,Ut,we,Me,De,Ke,Je,Y,ve,Ne),we=ze.c,Me=ze.lc;else{if(!Tt.p)throw"hufDecode issues";var Nt;for(Nt=0;Nt<Tt.lit;Nt++){for(var rn=de(K[Tt.p[Nt]]);Me<rn&&Je.value<Ye;)re(we,Me,De,Je),we=ne.c,Me=ne.lc;if(Me>=rn&&he(K[Tt.p[Nt]])==(we>>Me-rn&(1<<rn)-1)){Me-=rn,Ve(Tt.p[Nt],Ut,we,Me,De,Ke,Je,Y,ve,Ne),we=ze.c,Me=ze.lc;break}}if(Nt==Tt.lit)throw"hufDecode issues"}}var en=8-nt&7;for(we>>=en,Me-=en;Me>0;){var Tt=oe[we<<14-Me&16383];if(Tt.len)Me-=Tt.len,Ve(Tt.lit,Ut,we,Me,De,Ke,Je,Y,ve,Ne),we=ze.c,Me=ze.lc;else throw"hufDecode issues"}return!0}function zn(K,oe,De,Ke,Je,nt){var Ut={value:0},wt=De.value,Y=kt(oe,De),ve=kt(oe,De);De.value+=4;var we=kt(oe,De);if(De.value+=4,Y<0||Y>=65537||ve<0||ve>=65537)throw"Something wrong with HUF_ENCSIZE";var Me=new Array(65537),Ne=new Array(16384);ee(Ne);var Ye=Ke-(De.value-wt);if(J(K,oe,De,Ye,Y,ve,Me),we>8*(Ke-(De.value-wt)))throw"Something wrong with hufUncompress";Le(Me,Y,ve,Ne),Vt(Me,Ne,K,oe,De,we,ve,nt,Je,Ut)}function An(K,oe,De){for(var Ke=0;Ke<De;++Ke)oe[Ke]=K[oe[Ke]]}function dn(K){for(var oe=1;oe<K.length;oe++){var De=K[oe-1]+K[oe]-128;K[oe]=De}}function fe(K,oe){for(var De=0,Ke=Math.floor((K.length+1)/2),Je=0,nt=K.length-1;!(Je>nt||(oe[Je++]=K[De++],Je>nt));)oe[Je++]=K[Ke++]}function Et(K){for(var oe=K.byteLength,De=new Array,Ke=0,Je=new DataView(K);oe>0;){var nt=Je.getInt8(Ke++);if(nt<0){var Ut=-nt;oe-=Ut+1;for(var wt=0;wt<Ut;wt++)De.push(Je.getUint8(Ke++))}else{var Ut=nt;oe-=2;for(var Y=Je.getUint8(Ke++),wt=0;wt<Ut+1;wt++)De.push(Y)}}return De}function Mt(K,oe,De,Ke,Je,nt){var an=new DataView(nt.buffer),Ut=De[K.idx[0]].width,wt=De[K.idx[0]].height,Y=3,ve=Math.floor(Ut/8),we=Math.ceil(Ut/8),Me=Math.ceil(wt/8),Ne=Ut-(we-1)*8,Ye=wt-(Me-1)*8,pt={value:0},Tt=new Array(Y),Nt=new Array(Y),rn=new Array(Y),en=new Array(Y),sn=new Array(Y);for(let qn=0;qn<Y;++qn)sn[qn]=oe[K.idx[qn]],Tt[qn]=qn<1?0:Tt[qn-1]+we*Me,Nt[qn]=new Float32Array(64),rn[qn]=new Uint16Array(64),en[qn]=new Uint16Array(we*64);for(let qn=0;qn<Me;++qn){var Pn=8;qn==Me-1&&(Pn=Ye);var Cn=8;for(let Sn=0;Sn<we;++Sn){Sn==we-1&&(Cn=Ne);for(let Zn=0;Zn<Y;++Zn)rn[Zn].fill(0),rn[Zn][0]=Je[Tt[Zn]++],At(pt,Ke,rn[Zn]),mt(rn[Zn],Nt[Zn]),Kt(Nt[Zn]);Ot(Nt);for(let Zn=0;Zn<Y;++Zn)Qt(Nt[Zn],en[Zn],Sn*64)}let Mi=0;for(let Sn=0;Sn<Y;++Sn){const Zn=De[K.idx[Sn]].type;for(let kn=8*qn;kn<8*qn+Pn;++kn){Mi=sn[Sn][kn];for(let pr=0;pr<ve;++pr){const ei=pr*64+(kn&7)*8;an.setUint16(Mi+0*Zn,en[Sn][ei+0],!0),an.setUint16(Mi+2*Zn,en[Sn][ei+1],!0),an.setUint16(Mi+4*Zn,en[Sn][ei+2],!0),an.setUint16(Mi+6*Zn,en[Sn][ei+3],!0),an.setUint16(Mi+8*Zn,en[Sn][ei+4],!0),an.setUint16(Mi+10*Zn,en[Sn][ei+5],!0),an.setUint16(Mi+12*Zn,en[Sn][ei+6],!0),an.setUint16(Mi+14*Zn,en[Sn][ei+7],!0),Mi+=16*Zn}}if(ve!=we)for(let kn=8*qn;kn<8*qn+Pn;++kn){const pr=sn[Sn][kn]+8*ve*2*Zn,ei=ve*64+(kn&7)*8;for(let Ai=0;Ai<Cn;++Ai)an.setUint16(pr+Ai*2*Zn,en[Sn][ei+Ai],!0)}}}for(var xi=new Uint16Array(Ut),an=new DataView(nt.buffer),In=0;In<Y;++In){De[K.idx[In]].decoded=!0;var xn=De[K.idx[In]].type;if(De[In].type==2)for(var Di=0;Di<wt;++Di){const qn=sn[In][Di];for(var $n=0;$n<Ut;++$n)xi[$n]=an.getUint16(qn+$n*2*xn,!0);for(var $n=0;$n<Ut;++$n)an.setFloat32(qn+$n*2*xn,Xe(xi[$n]),!0)}}}function At(K,oe,De){for(var Ke,Je=1;Je<64;)Ke=oe[K.value],Ke==65280?Je=64:Ke>>8==255?Je+=Ke&255:(De[Je]=Ke,Je++),K.value++}function mt(K,oe){oe[0]=Xe(K[0]),oe[1]=Xe(K[1]),oe[2]=Xe(K[5]),oe[3]=Xe(K[6]),oe[4]=Xe(K[14]),oe[5]=Xe(K[15]),oe[6]=Xe(K[27]),oe[7]=Xe(K[28]),oe[8]=Xe(K[2]),oe[9]=Xe(K[4]),oe[10]=Xe(K[7]),oe[11]=Xe(K[13]),oe[12]=Xe(K[16]),oe[13]=Xe(K[26]),oe[14]=Xe(K[29]),oe[15]=Xe(K[42]),oe[16]=Xe(K[3]),oe[17]=Xe(K[8]),oe[18]=Xe(K[12]),oe[19]=Xe(K[17]),oe[20]=Xe(K[25]),oe[21]=Xe(K[30]),oe[22]=Xe(K[41]),oe[23]=Xe(K[43]),oe[24]=Xe(K[9]),oe[25]=Xe(K[11]),oe[26]=Xe(K[18]),oe[27]=Xe(K[24]),oe[28]=Xe(K[31]),oe[29]=Xe(K[40]),oe[30]=Xe(K[44]),oe[31]=Xe(K[53]),oe[32]=Xe(K[10]),oe[33]=Xe(K[19]),oe[34]=Xe(K[23]),oe[35]=Xe(K[32]),oe[36]=Xe(K[39]),oe[37]=Xe(K[45]),oe[38]=Xe(K[52]),oe[39]=Xe(K[54]),oe[40]=Xe(K[20]),oe[41]=Xe(K[22]),oe[42]=Xe(K[33]),oe[43]=Xe(K[38]),oe[44]=Xe(K[46]),oe[45]=Xe(K[51]),oe[46]=Xe(K[55]),oe[47]=Xe(K[60]),oe[48]=Xe(K[21]),oe[49]=Xe(K[34]),oe[50]=Xe(K[37]),oe[51]=Xe(K[47]),oe[52]=Xe(K[50]),oe[53]=Xe(K[56]),oe[54]=Xe(K[59]),oe[55]=Xe(K[61]),oe[56]=Xe(K[35]),oe[57]=Xe(K[36]),oe[58]=Xe(K[48]),oe[59]=Xe(K[49]),oe[60]=Xe(K[57]),oe[61]=Xe(K[58]),oe[62]=Xe(K[62]),oe[63]=Xe(K[63])}function Kt(K){const oe=.5*Math.cos(.7853975),De=.5*Math.cos(3.14159/16),Ke=.5*Math.cos(3.14159/8),Je=.5*Math.cos(3*3.14159/16),nt=.5*Math.cos(5*3.14159/16),Ut=.5*Math.cos(3*3.14159/8),wt=.5*Math.cos(7*3.14159/16);for(var Y=new Array(4),ve=new Array(4),we=new Array(4),Me=new Array(4),Ne=0;Ne<8;++Ne){var Ye=Ne*8;Y[0]=Ke*K[Ye+2],Y[1]=Ut*K[Ye+2],Y[2]=Ke*K[Ye+6],Y[3]=Ut*K[Ye+6],ve[0]=De*K[Ye+1]+Je*K[Ye+3]+nt*K[Ye+5]+wt*K[Ye+7],ve[1]=Je*K[Ye+1]-wt*K[Ye+3]-De*K[Ye+5]-nt*K[Ye+7],ve[2]=nt*K[Ye+1]-De*K[Ye+3]+wt*K[Ye+5]+Je*K[Ye+7],ve[3]=wt*K[Ye+1]-nt*K[Ye+3]+Je*K[Ye+5]-De*K[Ye+7],we[0]=oe*(K[Ye+0]+K[Ye+4]),we[3]=oe*(K[Ye+0]-K[Ye+4]),we[1]=Y[0]+Y[3],we[2]=Y[1]-Y[2],Me[0]=we[0]+we[1],Me[1]=we[3]+we[2],Me[2]=we[3]-we[2],Me[3]=we[0]-we[1],K[Ye+0]=Me[0]+ve[0],K[Ye+1]=Me[1]+ve[1],K[Ye+2]=Me[2]+ve[2],K[Ye+3]=Me[3]+ve[3],K[Ye+4]=Me[3]-ve[3],K[Ye+5]=Me[2]-ve[2],K[Ye+6]=Me[1]-ve[1],K[Ye+7]=Me[0]-ve[0]}for(var pt=0;pt<8;++pt)Y[0]=Ke*K[16+pt],Y[1]=Ut*K[16+pt],Y[2]=Ke*K[48+pt],Y[3]=Ut*K[48+pt],ve[0]=De*K[8+pt]+Je*K[24+pt]+nt*K[40+pt]+wt*K[56+pt],ve[1]=Je*K[8+pt]-wt*K[24+pt]-De*K[40+pt]-nt*K[56+pt],ve[2]=nt*K[8+pt]-De*K[24+pt]+wt*K[40+pt]+Je*K[56+pt],ve[3]=wt*K[8+pt]-nt*K[24+pt]+Je*K[40+pt]-De*K[56+pt],we[0]=oe*(K[pt]+K[32+pt]),we[3]=oe*(K[pt]-K[32+pt]),we[1]=Y[0]+Y[3],we[2]=Y[1]-Y[2],Me[0]=we[0]+we[1],Me[1]=we[3]+we[2],Me[2]=we[3]-we[2],Me[3]=we[0]-we[1],K[0+pt]=Me[0]+ve[0],K[8+pt]=Me[1]+ve[1],K[16+pt]=Me[2]+ve[2],K[24+pt]=Me[3]+ve[3],K[32+pt]=Me[3]-ve[3],K[40+pt]=Me[2]-ve[2],K[48+pt]=Me[1]-ve[1],K[56+pt]=Me[0]-ve[0]}function Ot(K){for(var oe=0;oe<64;++oe){var De=K[0][oe],Ke=K[1][oe],Je=K[2][oe];K[0][oe]=De+1.5747*Je,K[1][oe]=De-.1873*Ke-.4682*Je,K[2][oe]=De+1.8556*Ke}}function Qt(K,oe,De){for(var Ke=0;Ke<64;++Ke)oe[De+Ke]=rg.toHalfFloat(bn(K[Ke]))}function bn(K){return K<=1?Math.sign(K)*Math.pow(Math.abs(K),2.2):Math.sign(K)*Math.pow(V,Math.abs(K)-1)}function ie(K){return new DataView(K.array.buffer,K.offset.value,K.size)}function Z(K){var oe=K.viewer.buffer.slice(K.offset.value,K.offset.value+K.size),De=new Uint8Array(Et(oe)),Ke=new Uint8Array(De.length);return dn(De),fe(De,Ke),new DataView(Ke.buffer)}function be(K){var oe=K.array.slice(K.offset.value,K.offset.value+K.size),De=px(oe),Ke=new Uint8Array(De.length);return dn(De),fe(De,Ke),new DataView(Ke.buffer)}function Ge(K){for(var oe=K.viewer,De={value:K.offset.value},Ke=new Uint16Array(K.width*K.scanlineBlockSize*(K.channels*K.type)),Je=new Uint8Array(8192),nt=0,Ut=new Array(K.channels),wt=0;wt<K.channels;wt++)Ut[wt]={},Ut[wt].start=nt,Ut[wt].end=Ut[wt].start,Ut[wt].nx=K.width,Ut[wt].ny=K.lines,Ut[wt].size=K.type,nt+=Ut[wt].nx*Ut[wt].ny*Ut[wt].size;var Y=xt(oe,De),ve=xt(oe,De);if(ve>=8192)throw"Something is wrong with PIZ_COMPRESSION BITMAP_SIZE";if(Y<=ve)for(var wt=0;wt<ve-Y+1;wt++)Je[wt+Y]=Ee(oe,De);var we=new Uint16Array(65536),Me=H(Je,we),Ne=kt(oe,De);zn(K.array,oe,De,Ne,Ke,nt);for(var wt=0;wt<K.channels;++wt)for(var Ye=Ut[wt],pt=0;pt<Ut[wt].size;++pt)vt(Ke,Ye.start+pt,Ye.nx,Ye.size,Ye.ny,Ye.nx*Ye.size,Me);An(we,Ke,nt);for(var Tt=0,Nt=new Uint8Array(Ke.buffer.byteLength),rn=0;rn<K.lines;rn++)for(var en=0;en<K.channels;en++){var Ye=Ut[en],sn=Ye.nx*Ye.size,Pn=new Uint8Array(Ke.buffer,Ye.end*2,sn*2);Nt.set(Pn,Tt),Tt+=sn*2,Ye.end+=sn}return new DataView(Nt.buffer)}function ht(K){var oe=K.array.slice(K.offset.value,K.offset.value+K.size),De=px(oe);const Ke=K.lines*K.channels*K.width,Je=K.type==1?new Uint16Array(Ke):new Uint32Array(Ke);let nt=0,Ut=0;const wt=new Array(4);for(let Y=0;Y<K.lines;Y++)for(let ve=0;ve<K.channels;ve++){let we=0;switch(K.type){case 1:wt[0]=nt,wt[1]=wt[0]+K.width,nt=wt[1]+K.width;for(let Me=0;Me<K.width;++Me){const Ne=De[wt[0]++]<<8|De[wt[1]++];we+=Ne,Je[Ut]=we,Ut++}break;case 2:wt[0]=nt,wt[1]=wt[0]+K.width,wt[2]=wt[1]+K.width,nt=wt[2]+K.width;for(let Me=0;Me<K.width;++Me){const Ne=De[wt[0]++]<<24|De[wt[1]++]<<16|De[wt[2]++]<<8;we+=Ne,Je[Ut]=we,Ut++}break}}return new DataView(Je.buffer)}function rt(K){var oe=K.viewer,De={value:K.offset.value},Ke=new Uint8Array(K.width*K.lines*(K.channels*K.type*2)),Je={version:Fe(oe,De),unknownUncompressedSize:Fe(oe,De),unknownCompressedSize:Fe(oe,De),acCompressedSize:Fe(oe,De),dcCompressedSize:Fe(oe,De),rleCompressedSize:Fe(oe,De),rleUncompressedSize:Fe(oe,De),rleRawSize:Fe(oe,De),totalAcUncompressedCount:Fe(oe,De),totalDcUncompressedCount:Fe(oe,De),acCompression:Fe(oe,De)};if(Je.version<2)throw"EXRLoader.parse: "+Ls.compression+" version "+Je.version+" is unsupported";for(var nt=new Array,Ut=xt(oe,De)-2;Ut>0;){var wt=qt(oe.buffer,De),Y=Ee(oe,De),ve=Y>>2&3,we=(Y>>4)-1,Me=new Int8Array([we])[0],Ne=Ee(oe,De);nt.push({name:wt,index:Me,type:Ne,compression:ve}),Ut-=wt.length+3}for(var Ye=Ls.channels,pt=new Array(K.channels),Tt=0;Tt<K.channels;++Tt){var Nt=pt[Tt]={},rn=Ye[Tt];Nt.name=rn.name,Nt.compression=0,Nt.decoded=!1,Nt.type=rn.pixelType,Nt.pLinear=rn.pLinear,Nt.width=K.width,Nt.height=K.lines}for(var en={idx:new Array(3)},sn=0;sn<K.channels;++sn)for(var Nt=pt[sn],Tt=0;Tt<nt.length;++Tt){var Pn=nt[Tt];Nt.name==Pn.name&&(Nt.compression=Pn.compression,Pn.index>=0&&(en.idx[Pn.index]=sn),Nt.offset=sn)}if(Je.acCompressedSize>0)switch(Je.acCompression){case 0:var an=new Uint16Array(Je.totalAcUncompressedCount);zn(K.array,oe,De,Je.acCompressedSize,an,Je.totalAcUncompressedCount);break;case 1:var Cn=K.array.slice(De.value,De.value+Je.totalAcUncompressedCount),xi=px(Cn),an=new Uint16Array(xi.buffer);De.value+=Je.totalAcUncompressedCount;break}if(Je.dcCompressedSize>0){var In={array:K.array,offset:De,size:Je.dcCompressedSize},xn=new Uint16Array(be(In).buffer);De.value+=Je.dcCompressedSize}if(Je.rleRawSize>0){var Cn=K.array.slice(De.value,De.value+Je.rleCompressedSize),xi=px(Cn),Di=Et(xi.buffer);De.value+=Je.rleCompressedSize}for(var $n=0,qn=new Array(pt.length),Tt=0;Tt<qn.length;++Tt)qn[Tt]=new Array;for(var Mi=0;Mi<K.lines;++Mi)for(var Sn=0;Sn<pt.length;++Sn)qn[Sn].push($n),$n+=pt[Sn].width*K.type*2;Mt(en,qn,pt,an,xn,Ke);for(var Tt=0;Tt<pt.length;++Tt){var Nt=pt[Tt];if(!Nt.decoded)switch(Nt.compression){case 2:for(var Zn=0,kn=0,Mi=0;Mi<K.lines;++Mi){for(var pr=qn[Tt][Zn],ei=0;ei<Nt.width;++ei){for(var Ai=0;Ai<2*Nt.type;++Ai)Ke[pr++]=Di[kn+Ai*Nt.width*Nt.height];kn++}Zn++}break;case 1:default:throw"EXRLoader.parse: unsupported channel compression"}}return new DataView(Ke.buffer)}function qt(K,oe){for(var De=new Uint8Array(K),Ke=0;De[oe.value+Ke]!=0;)Ke+=1;var Je=new TextDecoder().decode(De.slice(oe.value,oe.value+Ke));return oe.value=oe.value+Ke+1,Je}function jt(K,oe,De){var Ke=new TextDecoder().decode(new Uint8Array(K).slice(oe.value,oe.value+De));return oe.value=oe.value+De,Ke}function tn(K,oe){var De=dt(K,oe),Ke=kt(K,oe);return[De,Ke]}function nn(K,oe){var De=kt(K,oe),Ke=kt(K,oe);return[De,Ke]}function dt(K,oe){var De=K.getInt32(oe.value,!0);return oe.value=oe.value+4,De}function kt(K,oe){var De=K.getUint32(oe.value,!0);return oe.value=oe.value+4,De}function cn(K,oe){var De=K[oe.value];return oe.value=oe.value+1,De}function Ee(K,oe){var De=K.getUint8(oe.value);return oe.value=oe.value+1,De}const Fe=function(K,oe){let De;return"getBigInt64"in DataView.prototype?De=Number(K.getBigInt64(oe.value,!0)):De=K.getUint32(oe.value+4,!0)+Number(K.getUint32(oe.value,!0)<<32),oe.value+=8,De};function Rt(K,oe){var De=K.getFloat32(oe.value,!0);return oe.value+=4,De}function Ae(K,oe){return rg.toHalfFloat(Rt(K,oe))}function Xe(K){var oe=(K&31744)>>10,De=K&1023;return(K>>15?-1:1)*(oe?oe===31?De?NaN:1/0:Math.pow(2,oe-15)*(1+De/1024):6103515625e-14*(De/1024))}function xt(K,oe){var De=K.getUint16(oe.value,!0);return oe.value+=2,De}function Xt(K,oe){return Xe(xt(K,oe))}function Ht(K,oe,De,Ke){for(var Je=De.value,nt=[];De.value<Je+Ke-1;){var Ut=qt(oe,De),wt=dt(K,De),Y=Ee(K,De);De.value+=3;var ve=dt(K,De),we=dt(K,De);nt.push({name:Ut,pixelType:wt,pLinear:Y,xSampling:ve,ySampling:we})}return De.value+=1,nt}function Ct(K,oe){var De=Rt(K,oe),Ke=Rt(K,oe),Je=Rt(K,oe),nt=Rt(K,oe),Ut=Rt(K,oe),wt=Rt(K,oe),Y=Rt(K,oe),ve=Rt(K,oe);return{redX:De,redY:Ke,greenX:Je,greenY:nt,blueX:Ut,blueY:wt,whiteX:Y,whiteY:ve}}function $t(K,oe){var De=["NO_COMPRESSION","RLE_COMPRESSION","ZIPS_COMPRESSION","ZIP_COMPRESSION","PIZ_COMPRESSION","PXR24_COMPRESSION","B44_COMPRESSION","B44A_COMPRESSION","DWAA_COMPRESSION","DWAB_COMPRESSION"],Ke=Ee(K,oe);return De[Ke]}function fn(K,oe){var De=kt(K,oe),Ke=kt(K,oe),Je=kt(K,oe),nt=kt(K,oe);return{xMin:De,yMin:Ke,xMax:Je,yMax:nt}}function ui(K,oe){var De=["INCREASING_Y"],Ke=Ee(K,oe);return De[Ke]}function fi(K,oe){var De=Rt(K,oe),Ke=Rt(K,oe);return[De,Ke]}function Ur(K,oe){var De=Rt(K,oe),Ke=Rt(K,oe),Je=Rt(K,oe);return[De,Ke,Je]}function Wi(K,oe,De,Ke,Je){if(Ke==="string"||Ke==="stringvector"||Ke==="iccProfile")return jt(oe,De,Je);if(Ke==="chlist")return Ht(K,oe,De,Je);if(Ke==="chromaticities")return Ct(K,De);if(Ke==="compression")return $t(K,De);if(Ke==="box2i")return fn(K,De);if(Ke==="lineOrder")return ui(K,De);if(Ke==="float")return Rt(K,De);if(Ke==="v2f")return fi(K,De);if(Ke==="v3f")return Ur(K,De);if(Ke==="int")return dt(K,De);if(Ke==="rational")return tn(K,De);if(Ke==="timecode")return nn(K,De);if(Ke==="preview")return De.value+=Je,"skipped";De.value+=Je}function Ki(K,oe,De){const Ke={};if(K.getUint32(0,!0)!=20000630)throw"THREE.EXRLoader: provided file doesn't appear to be in OpenEXR format.";Ke.version=K.getUint8(4);const Je=K.getUint8(5);Ke.spec={singleTile:!!(Je&2),longName:!!(Je&4),deepFormat:!!(Je&8),multiPart:!!(Je&16)},De.value=8;for(var nt=!0;nt;){var Ut=qt(oe,De);if(Ut==0)nt=!1;else{var wt=qt(oe,De),Y=kt(K,De),ve=Wi(K,oe,De,wt,Y);ve===void 0?console.warn(`EXRLoader.parse: skipped unknown header attribute type '${wt}'.`):Ke[Ut]=ve}}if((Je&-5)!=0)throw console.error("EXRHeader:",Ke),"THREE.EXRLoader: provided file is currently unsupported.";return Ke}function xr(K,oe,De,Ke,Je){const nt={size:0,viewer:oe,array:De,offset:Ke,width:K.dataWindow.xMax-K.dataWindow.xMin+1,height:K.dataWindow.yMax-K.dataWindow.yMin+1,channels:K.channels.length,bytesPerLine:null,lines:null,inputSize:null,type:K.channels[0].pixelType,uncompress:null,getter:null,format:null,[P0?"colorSpace":"encoding"]:null};switch(K.compression){case"NO_COMPRESSION":nt.lines=1,nt.uncompress=ie;break;case"RLE_COMPRESSION":nt.lines=1,nt.uncompress=Z;break;case"ZIPS_COMPRESSION":nt.lines=1,nt.uncompress=be;break;case"ZIP_COMPRESSION":nt.lines=16,nt.uncompress=be;break;case"PIZ_COMPRESSION":nt.lines=32,nt.uncompress=Ge;break;case"PXR24_COMPRESSION":nt.lines=16,nt.uncompress=ht;break;case"DWAA_COMPRESSION":nt.lines=32,nt.uncompress=rt;break;case"DWAB_COMPRESSION":nt.lines=256,nt.uncompress=rt;break;default:throw"EXRLoader.parse: "+K.compression+" is unsupported"}if(nt.scanlineBlockSize=nt.lines,nt.type==1)switch(Je){case Ds:nt.getter=Xt,nt.inputSize=2;break;case Ha:nt.getter=xt,nt.inputSize=2;break}else if(nt.type==2)switch(Je){case Ds:nt.getter=Rt,nt.inputSize=4;break;case Ha:nt.getter=Ae,nt.inputSize=4}else throw"EXRLoader.parse: unsupported pixelType "+nt.type+" for "+K.compression+".";nt.blockCount=(K.dataWindow.yMax+1)/nt.scanlineBlockSize;for(var Ut=0;Ut<nt.blockCount;Ut++)Fe(oe,Ke);nt.outputChannels=nt.channels==3?4:nt.channels;const wt=nt.width*nt.height*nt.outputChannels;switch(Je){case Ds:nt.byteArray=new Float32Array(wt),nt.channels<nt.outputChannels&&nt.byteArray.fill(1,0,wt);break;case Ha:nt.byteArray=new Uint16Array(wt),nt.channels<nt.outputChannels&&nt.byteArray.fill(15360,0,wt);break;default:console.error("THREE.EXRLoader: unsupported type: ",Je);break}return nt.bytesPerLine=nt.width*nt.inputSize*nt.channels,nt.outputChannels==4?nt.format=ma:nt.format=$_,P0?nt.colorSpace="srgb-linear":nt.encoding=3e3,nt}const Br=new DataView(e),ps=new Uint8Array(e),lo={value:0},Ls=Ki(Br,e,lo),Un=xr(Ls,Br,ps,lo,this.type),rs={value:0},Gi={R:0,G:1,B:2,A:3,Y:0};for(let K=0;K<Un.height/Un.scanlineBlockSize;K++){const oe=kt(Br,lo);Un.size=kt(Br,lo),Un.lines=oe+Un.scanlineBlockSize>Un.height?Un.height-oe:Un.scanlineBlockSize;const Ke=Un.size<Un.lines*Un.bytesPerLine?Un.uncompress(Un):ie(Un);lo.value+=Un.size;for(let Je=0;Je<Un.scanlineBlockSize;Je++){const nt=Je+K*Un.scanlineBlockSize;if(nt>=Un.height)break;for(let Ut=0;Ut<Un.channels;Ut++){const wt=Gi[Ls.channels[Ut].name];for(let Y=0;Y<Un.width;Y++){rs.value=(Je*(Un.channels*Un.width)+Ut*Un.width+Y)*Un.inputSize;const ve=(Un.height-1-nt)*(Un.width*Un.outputChannels)+Y*Un.outputChannels+wt;Un.byteArray[ve]=Un.getter(Ke,rs)}}}}return{header:Ls,width:Un.width,height:Un.height,data:Un.byteArray,format:Un.format,[P0?"colorSpace":"encoding"]:Un[P0?"colorSpace":"encoding"],type:this.type}}setDataType(e){return this.type=e,this}load(e,t,i,r){function s(a,o){P0?a.colorSpace=o.colorSpace:a.encoding=o.encoding,a.minFilter=Or,a.magFilter=Or,a.generateMipmaps=!1,a.flipY=!1,t&&t(a,o)}return super.load(e,s,i,r)}}const GM=n=>n===Object(n)&&!Array.isArray(n)&&typeof n!="function";function sR(n,e){const t=ea(s=>s.gl),i=wd(nE,GM(n)?Object.values(n):n);return z.useLayoutEffect(()=>{e?.(i)},[e]),z.useEffect(()=>{if("initTexture"in t){let s=[];Array.isArray(i)?s=i:i instanceof zr?s=[i]:GM(i)&&(s=Object.values(i)),s.forEach(a=>{a instanceof zr&&t.initTexture(a)})}},[t,i]),z.useMemo(()=>{if(GM(n)){const s={};let a=0;for(const o in n)s[o]=i[a++];return s}else return i},[n,i])}sR.preload=n=>wd.preload(nE,n);sR.clear=n=>wd.clear(nE,n);function _B(n,e,t){const i=ea(y=>y.size),r=ea(y=>y.viewport),s=typeof n=="number"?n:i.width*r.dpr,a=i.height*r.dpr,o=(typeof n=="number"?t:n)||{},{samples:l=0,depth:u,...d}=o,m=u??o.depthBuffer,v=z.useMemo(()=>{const y=new Fc(s,a,{minFilter:Or,magFilter:Or,type:Ha,...d});return m&&(y.depthTexture=new Vw(s,a,Ds)),y.samples=l,y},[]);return z.useLayoutEffect(()=>{v.setSize(s,a),l&&(v.samples=l)},[l,v,s,a]),z.useEffect(()=>()=>v.dispose(),[]),v}const jfe=n=>typeof n=="function",$fe=z.forwardRef(({envMap:n,resolution:e=256,frames:t=1/0,children:i,makeDefault:r,...s},a)=>{const o=ea(({set:E})=>E),l=ea(({camera:E})=>E),u=ea(({size:E})=>E),d=z.useRef(null);z.useImperativeHandle(a,()=>d.current,[]);const m=z.useRef(null),v=_B(e);z.useLayoutEffect(()=>{s.manual||d.current.updateProjectionMatrix()},[u,s]),z.useLayoutEffect(()=>{d.current.updateProjectionMatrix()}),z.useLayoutEffect(()=>{if(r){const E=l;return o(()=>({camera:d.current})),()=>o(()=>({camera:E}))}},[d,r,o]);let y=0,x=null;const T=jfe(i);return i1(E=>{T&&(t===1/0||y<t)&&(m.current.visible=!1,E.gl.setRenderTarget(v),x=E.scene.background,n&&(E.scene.background=n),E.gl.render(E.scene,d.current),E.scene.background=x,E.gl.setRenderTarget(null),m.current.visible=!0,y++)}),z.createElement(z.Fragment,null,z.createElement("orthographicCamera",ds({left:u.width/-2,right:u.width/2,top:u.height/2,bottom:u.height/-2,ref:d},s),!T&&i),z.createElement("group",{ref:m},T&&i(v.texture)))}),qfe=n=>typeof n=="function",Wfe=z.forwardRef(({envMap:n,resolution:e=256,frames:t=1/0,makeDefault:i,children:r,...s},a)=>{const o=ea(({set:E})=>E),l=ea(({camera:E})=>E),u=ea(({size:E})=>E),d=z.useRef(null);z.useImperativeHandle(a,()=>d.current,[]);const m=z.useRef(null),v=_B(e);z.useLayoutEffect(()=>{s.manual||(d.current.aspect=u.width/u.height)},[u,s]),z.useLayoutEffect(()=>{d.current.updateProjectionMatrix()});let y=0,x=null;const T=qfe(r);return i1(E=>{T&&(t===1/0||y<t)&&(m.current.visible=!1,E.gl.setRenderTarget(v),x=E.scene.background,n&&(E.scene.background=n),E.gl.render(E.scene,d.current),E.scene.background=x,E.gl.setRenderTarget(null),m.current.visible=!0,y++)}),z.useLayoutEffect(()=>{if(i){const E=l;return o(()=>({camera:d.current})),()=>o(()=>({camera:E}))}},[d,i,o]),z.createElement(z.Fragment,null,z.createElement("perspectiveCamera",ds({ref:d},s),!T&&r),z.createElement("group",{ref:m},T&&r(v.texture)))}),Xfe=z.forwardRef(({makeDefault:n,camera:e,regress:t,domElement:i,enableDamping:r=!0,keyEvents:s=!1,onChange:a,onStart:o,onEnd:l,...u},d)=>{const m=ea(k=>k.invalidate),v=ea(k=>k.camera),y=ea(k=>k.gl),x=ea(k=>k.events),T=ea(k=>k.setEvents),E=ea(k=>k.set),w=ea(k=>k.get),P=ea(k=>k.performance),D=e||v,N=i||x.connected||y.domElement,G=z.useMemo(()=>new Ffe(D),[D]);return i1(()=>{G.enabled&&G.update()},-1),z.useEffect(()=>(s&&G.connect(s===!0?N:s),G.connect(N),()=>void G.dispose()),[s,N,t,G,m]),z.useEffect(()=>{const k=V=>{m(),t&&P.regress(),a&&a(V)},M=V=>{o&&o(V)},$=V=>{l&&l(V)};return G.addEventListener("change",k),G.addEventListener("start",M),G.addEventListener("end",$),()=>{G.removeEventListener("start",M),G.removeEventListener("end",$),G.removeEventListener("change",k)}},[a,o,l,G,m,T]),z.useEffect(()=>{if(n){const k=w().controls;return E({controls:G}),()=>E({controls:k})}},[n,G]),z.createElement("primitive",ds({ref:d,object:G,enableDamping:r},u))}),Yfe=z.forwardRef(({children:n,enabled:e=!0,speed:t=1,rotationIntensity:i=1,floatIntensity:r=1,floatingRange:s=[-.1,.1],autoInvalidate:a=!1,...o},l)=>{const u=z.useRef(null);z.useImperativeHandle(l,()=>u.current,[]);const d=z.useRef(Math.random()*1e4);return i1(m=>{var v,y;if(!e||t===0)return;a&&m.invalidate();const x=d.current+m.clock.elapsedTime;u.current.rotation.x=Math.cos(x/4*t)/8*i,u.current.rotation.y=Math.sin(x/4*t)/8*i,u.current.rotation.z=Math.sin(x/4*t)/20*i;let T=Math.sin(x/4*t)/10;T=Tz.mapLinear(T,-.1,.1,(v=s?.[0])!==null&&v!==void 0?v:-.1,(y=s?.[1])!==null&&y!==void 0?y:.1),u.current.position.y=T*r,u.current.updateMatrix()}),z.createElement("group",o,z.createElement("group",{ref:u,matrixAutoUpdate:!1},n))}),bB=(n,e,t)=>{let i;switch(n){case Hl:i=new Uint8ClampedArray(e*t*4);break;case Ha:i=new Uint16Array(e*t*4);break;case hh:i=new Uint32Array(e*t*4);break;case Mw:i=new Int8Array(e*t*4);break;case Aw:i=new Int16Array(e*t*4);break;case j_:i=new Int32Array(e*t*4);break;case Ds:i=new Float32Array(e*t*4);break;default:throw new Error("Unsupported data type")}return i};let gx;const Zfe=(n,e,t,i)=>{if(gx!==void 0)return gx;const r=new Fc(1,1,i);e.setRenderTarget(r);const s=new Gs(new jp,new Cd({color:16777215}));e.render(s,t),e.setRenderTarget(null);const a=bB(n,r.width,r.height);return e.readRenderTargetPixels(r,0,0,r.width,r.height,a),r.dispose(),s.geometry.dispose(),s.material.dispose(),gx=a[0]!==0,gx};class aR{constructor(e){var t,i,r,s,a,o,l,u,d,m,v,y,x,T,E,w;this._rendererIsDisposable=!1,this._supportsReadPixels=!0,this.render=()=>{this._renderer.setRenderTarget(this._renderTarget);try{this._renderer.render(this._scene,this._camera)}catch(D){throw this._renderer.setRenderTarget(null),D}this._renderer.setRenderTarget(null)},this._width=e.width,this._height=e.height,this._type=e.type,this._colorSpace=e.colorSpace;const P={format:ma,depthBuffer:!1,stencilBuffer:!1,type:this._type,colorSpace:this._colorSpace,anisotropy:((t=e.renderTargetOptions)===null||t===void 0?void 0:t.anisotropy)!==void 0?(i=e.renderTargetOptions)===null||i===void 0?void 0:i.anisotropy:1,generateMipmaps:((r=e.renderTargetOptions)===null||r===void 0?void 0:r.generateMipmaps)!==void 0?(s=e.renderTargetOptions)===null||s===void 0?void 0:s.generateMipmaps:!1,magFilter:((a=e.renderTargetOptions)===null||a===void 0?void 0:a.magFilter)!==void 0?(o=e.renderTargetOptions)===null||o===void 0?void 0:o.magFilter:Or,minFilter:((l=e.renderTargetOptions)===null||l===void 0?void 0:l.minFilter)!==void 0?(u=e.renderTargetOptions)===null||u===void 0?void 0:u.minFilter:Or,samples:((d=e.renderTargetOptions)===null||d===void 0?void 0:d.samples)!==void 0?(m=e.renderTargetOptions)===null||m===void 0?void 0:m.samples:void 0,wrapS:((v=e.renderTargetOptions)===null||v===void 0?void 0:v.wrapS)!==void 0?(y=e.renderTargetOptions)===null||y===void 0?void 0:y.wrapS:Ra,wrapT:((x=e.renderTargetOptions)===null||x===void 0?void 0:x.wrapT)!==void 0?(T=e.renderTargetOptions)===null||T===void 0?void 0:T.wrapT:Ra};if(this._material=e.material,e.renderer?this._renderer=e.renderer:(this._renderer=aR.instantiateRenderer(),this._rendererIsDisposable=!0),this._scene=new X_,this._camera=new gd,this._camera.position.set(0,0,10),this._camera.left=-.5,this._camera.right=.5,this._camera.top=.5,this._camera.bottom=-.5,this._camera.updateProjectionMatrix(),!Zfe(this._type,this._renderer,this._camera,P)){let D;switch(this._type){case Ha:D=this._renderer.extensions.has("EXT_color_buffer_float")?Ds:void 0;break}D!==void 0?(console.warn(`This browser does not support reading pixels from ${this._type} RenderTargets, switching to ${Ds}`),this._type=D):(this._supportsReadPixels=!1,console.warn("This browser dos not support toArray or toDataTexture, calls to those methods will result in an error thrown"))}this._quad=new Gs(new jp,this._material),this._quad.geometry.computeBoundingBox(),this._scene.add(this._quad),this._renderTarget=new Fc(this.width,this.height,P),this._renderTarget.texture.mapping=((E=e.renderTargetOptions)===null||E===void 0?void 0:E.mapping)!==void 0?(w=e.renderTargetOptions)===null||w===void 0?void 0:w.mapping:Up}static instantiateRenderer(){const e=new QC;return e.setSize(128,128),e}toArray(){if(!this._supportsReadPixels)throw new Error("Can't read pixels in this browser");const e=bB(this._type,this._width,this._height);return this._renderer.readRenderTargetPixels(this._renderTarget,0,0,this._width,this._height,e),e}toDataTexture(e){const t=new hf(this.toArray(),this.width,this.height,ma,this._type,e?.mapping||Up,e?.wrapS||Ra,e?.wrapT||Ra,e?.magFilter||Or,e?.minFilter||Or,e?.anisotropy||1,vf);return t.generateMipmaps=e?.generateMipmaps!==void 0?e?.generateMipmaps:!1,t}disposeOnDemandRenderer(){this._renderer.setRenderTarget(null),this._rendererIsDisposable&&(this._renderer.dispose(),this._renderer.forceContextLoss())}dispose(e){this.disposeOnDemandRenderer(),e&&this.renderTarget.dispose(),this.material instanceof pc&&Object.values(this.material.uniforms).forEach(t=>{t.value instanceof zr&&t.value.dispose()}),Object.values(this.material).forEach(t=>{t instanceof zr&&t.dispose()}),this.material.dispose(),this._quad.geometry.dispose()}get width(){return this._width}set width(e){this._width=e,this._renderTarget.setSize(this._width,this._height)}get height(){return this._height}set height(e){this._height=e,this._renderTarget.setSize(this._width,this._height)}get renderer(){return this._renderer}get renderTarget(){return this._renderTarget}set renderTarget(e){this._renderTarget=e,this._width=e.width,this._height=e.height}get material(){return this._material}get type(){return this._type}get colorSpace(){return this._colorSpace}}const Kfe=`
varying vec2 vUv;

void main() {
  vUv = uv;
  gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);
}
`,Qfe=`
// min half float value
#define HALF_FLOAT_MIN vec3( -65504, -65504, -65504 )
// max half float value
#define HALF_FLOAT_MAX vec3( 65504, 65504, 65504 )

uniform sampler2D sdr;
uniform sampler2D gainMap;
uniform vec3 gamma;
uniform vec3 offsetHdr;
uniform vec3 offsetSdr;
uniform vec3 gainMapMin;
uniform vec3 gainMapMax;
uniform float weightFactor;

varying vec2 vUv;

void main() {
  vec3 rgb = texture2D( sdr, vUv ).rgb;
  vec3 recovery = texture2D( gainMap, vUv ).rgb;
  vec3 logRecovery = pow( recovery, gamma );
  vec3 logBoost = gainMapMin * ( 1.0 - logRecovery ) + gainMapMax * logRecovery;
  vec3 hdrColor = (rgb + offsetSdr) * exp2( logBoost * weightFactor ) - offsetHdr;
  vec3 clampedHdrColor = max( HALF_FLOAT_MIN, min( HALF_FLOAT_MAX, hdrColor ));
  gl_FragColor = vec4( clampedHdrColor , 1.0 );
}
`;class Jfe extends pc{constructor({gamma:e,offsetHdr:t,offsetSdr:i,gainMapMin:r,gainMapMax:s,maxDisplayBoost:a,hdrCapacityMin:o,hdrCapacityMax:l,sdr:u,gainMap:d}){super({name:"GainMapDecoderMaterial",vertexShader:Kfe,fragmentShader:Qfe,uniforms:{sdr:{value:u},gainMap:{value:d},gamma:{value:new me(1/e[0],1/e[1],1/e[2])},offsetHdr:{value:new me().fromArray(t)},offsetSdr:{value:new me().fromArray(i)},gainMapMin:{value:new me().fromArray(r)},gainMapMax:{value:new me().fromArray(s)},weightFactor:{value:(Math.log2(a)-o)/(l-o)}},blending:ah,depthTest:!1,depthWrite:!1}),this._maxDisplayBoost=a,this._hdrCapacityMin=o,this._hdrCapacityMax=l,this.needsUpdate=!0,this.uniformsNeedUpdate=!0}get sdr(){return this.uniforms.sdr.value}set sdr(e){this.uniforms.sdr.value=e}get gainMap(){return this.uniforms.gainMap.value}set gainMap(e){this.uniforms.gainMap.value=e}get offsetHdr(){return this.uniforms.offsetHdr.value.toArray()}set offsetHdr(e){this.uniforms.offsetHdr.value.fromArray(e)}get offsetSdr(){return this.uniforms.offsetSdr.value.toArray()}set offsetSdr(e){this.uniforms.offsetSdr.value.fromArray(e)}get gainMapMin(){return this.uniforms.gainMapMin.value.toArray()}set gainMapMin(e){this.uniforms.gainMapMin.value.fromArray(e)}get gainMapMax(){return this.uniforms.gainMapMax.value.toArray()}set gainMapMax(e){this.uniforms.gainMapMax.value.fromArray(e)}get gamma(){const e=this.uniforms.gamma.value;return[1/e.x,1/e.y,1/e.z]}set gamma(e){const t=this.uniforms.gamma.value;t.x=1/e[0],t.y=1/e[1],t.z=1/e[2]}get hdrCapacityMin(){return this._hdrCapacityMin}set hdrCapacityMin(e){this._hdrCapacityMin=e,this.calculateWeight()}get hdrCapacityMax(){return this._hdrCapacityMax}set hdrCapacityMax(e){this._hdrCapacityMax=e,this.calculateWeight()}get maxDisplayBoost(){return this._maxDisplayBoost}set maxDisplayBoost(e){this._maxDisplayBoost=Math.max(1,Math.min(65504,e)),this.calculateWeight()}calculateWeight(){const e=(Math.log2(this._maxDisplayBoost)-this._hdrCapacityMin)/(this._hdrCapacityMax-this._hdrCapacityMin);this.uniforms.weightFactor.value=Math.max(0,Math.min(1,e))}}class xB extends Error{}class SB extends Error{}const D0=(n,e,t)=>{const i=new RegExp(`${e}="([^"]*)"`,"i").exec(n);if(i)return i[1];const r=new RegExp(`<${e}[^>]*>([\\s\\S]*?)</${e}>`,"i").exec(n);if(r){const s=r[1].match(/<rdf:li>([^<]*)<\/rdf:li>/g);return s&&s.length===3?s.map(a=>a.replace(/<\/?rdf:li>/g,"")):r[1].trim()}if(t!==void 0)return t;throw new Error(`Can't find ${e} in gainmap metadata`)},ehe=n=>{let e;typeof TextDecoder<"u"?e=new TextDecoder().decode(n):e=n.toString();let t=e.indexOf("<x:xmpmeta");for(;t!==-1;){const i=e.indexOf("x:xmpmeta>",t),r=e.slice(t,i+10);try{const s=D0(r,"hdrgm:GainMapMin","0"),a=D0(r,"hdrgm:GainMapMax"),o=D0(r,"hdrgm:Gamma","1"),l=D0(r,"hdrgm:OffsetSDR","0.015625"),u=D0(r,"hdrgm:OffsetHDR","0.015625"),d=/hdrgm:HDRCapacityMin="([^"]*)"/.exec(r),m=d?d[1]:"0",v=/hdrgm:HDRCapacityMax="([^"]*)"/.exec(r);if(!v)throw new Error("Incomplete gainmap metadata");const y=v[1];return{gainMapMin:Array.isArray(s)?s.map(x=>parseFloat(x)):[parseFloat(s),parseFloat(s),parseFloat(s)],gainMapMax:Array.isArray(a)?a.map(x=>parseFloat(x)):[parseFloat(a),parseFloat(a),parseFloat(a)],gamma:Array.isArray(o)?o.map(x=>parseFloat(x)):[parseFloat(o),parseFloat(o),parseFloat(o)],offsetSdr:Array.isArray(l)?l.map(x=>parseFloat(x)):[parseFloat(l),parseFloat(l),parseFloat(l)],offsetHdr:Array.isArray(u)?u.map(x=>parseFloat(x)):[parseFloat(u),parseFloat(u),parseFloat(u)],hdrCapacityMin:parseFloat(m),hdrCapacityMax:parseFloat(y)}}catch{}t=e.indexOf("<x:xmpmeta",i)}};class the{constructor(e){this.options={debug:e&&e.debug!==void 0?e.debug:!1,extractFII:e&&e.extractFII!==void 0?e.extractFII:!0,extractNonFII:e&&e.extractNonFII!==void 0?e.extractNonFII:!0}}extract(e){return new Promise((t,i)=>{const r=this.options.debug,s=new DataView(e.buffer);if(s.getUint16(0)!==65496){i(new Error("Not a valid jpeg"));return}const a=s.byteLength;let o=2,l=0,u;for(;o<a;){if(++l>250){i(new Error(`Found no marker after ${l} loops `));return}if(s.getUint8(o)!==255){i(new Error(`Not a valid marker at offset 0x${o.toString(16)}, found: 0x${s.getUint8(o).toString(16)}`));return}if(u=s.getUint8(o+1),r&&console.log(`Marker: ${u.toString(16)}`),u===226){r&&console.log("Found APP2 marker (0xffe2)");const d=o+4;if(s.getUint32(d)===1297106432){const m=d+4;let v;if(s.getUint16(m)===18761)v=!1;else if(s.getUint16(m)===19789)v=!0;else{i(new Error("No valid endianness marker found in TIFF header"));return}if(s.getUint16(m+2,!v)!==42){i(new Error("Not valid TIFF data! (no 0x002A marker)"));return}const y=s.getUint32(m+4,!v);if(y<8){i(new Error("Not valid TIFF data! (First offset less than 8)"));return}const x=m+y,T=s.getUint16(x,!v),E=x+2;let w=0;for(let G=E;G<E+12*T;G+=12)s.getUint16(G,!v)===45057&&(w=s.getUint32(G+8,!v));const D=x+2+T*12+4,N=[];for(let G=D;G<D+w*16;G+=16){const k={MPType:s.getUint32(G,!v),size:s.getUint32(G+4,!v),dataOffset:s.getUint32(G+8,!v),dependantImages:s.getUint32(G+12,!v),start:-1,end:-1,isFII:!1};k.dataOffset?(k.start=m+k.dataOffset,k.isFII=!1):(k.start=0,k.isFII=!0),k.end=k.start+k.size,N.push(k)}if(this.options.extractNonFII&&N.length){const G=new Blob([s]),k=[];for(const M of N){if(M.isFII&&!this.options.extractFII)continue;const $=G.slice(M.start,M.end+1,"image/jpeg");k.push($)}t(k)}}}o+=2+s.getUint16(o+2)}})}}const nhe=async n=>{const e=ehe(n);if(!e)throw new SB("Gain map XMP metadata not found");const i=await new the({extractFII:!0,extractNonFII:!0}).extract(n);if(i.length!==2)throw new xB("Gain map recovery image not found");return{sdr:new Uint8Array(await i[0].arrayBuffer()),gainMap:new Uint8Array(await i[1].arrayBuffer()),metadata:e}},o4=n=>new Promise((e,t)=>{const i=document.createElement("img");i.onload=()=>{e(i)},i.onerror=r=>{t(r)},i.src=URL.createObjectURL(n)});class wB extends Vl{constructor(e,t){super(t),e&&(this._renderer=e),this._internalLoadingManager=new tE}setRenderer(e){return this._renderer=e,this}setRenderTargetOptions(e){return this._renderTargetOptions=e,this}prepareQuadRenderer(){this._renderer||console.warn("WARNING: An existing WebGL Renderer was not passed to this Loader constructor or in setRenderer, the result of this Loader will need to be converted to a Data Texture with toDataTexture() before you can use it in your renderer.");const e=new Jfe({gainMapMax:[1,1,1],gainMapMin:[0,0,0],gamma:[1,1,1],offsetHdr:[1,1,1],offsetSdr:[1,1,1],hdrCapacityMax:1,hdrCapacityMin:0,maxDisplayBoost:1,gainMap:new zr,sdr:new zr});return new aR({width:16,height:16,type:Ha,colorSpace:vf,material:e,renderer:this._renderer,renderTargetOptions:this._renderTargetOptions})}async render(e,t,i,r){const s=r?new Blob([r],{type:"image/jpeg"}):void 0,a=new Blob([i],{type:"image/jpeg"});let o,l,u=!1;if(typeof createImageBitmap>"u"){const v=await Promise.all([s?o4(s):Promise.resolve(void 0),o4(a)]);l=v[0],o=v[1],u=!0}else{const v=await Promise.all([s?createImageBitmap(s,{imageOrientation:"flipY"}):Promise.resolve(void 0),createImageBitmap(a,{imageOrientation:"flipY"})]);l=v[0],o=v[1]}const d=new zr(l||new ImageData(2,2),Up,Ra,Ra,Or,K2,ma,Hl,1,vf);d.flipY=u,d.needsUpdate=!0;const m=new zr(o,Up,Ra,Ra,Or,K2,ma,Hl,1,ka);m.flipY=u,m.needsUpdate=!0,e.width=o.width,e.height=o.height,e.material.gainMap=d,e.material.sdr=m,e.material.gainMapMin=t.gainMapMin,e.material.gainMapMax=t.gainMapMax,e.material.offsetHdr=t.offsetHdr,e.material.offsetSdr=t.offsetSdr,e.material.gamma=t.gamma,e.material.hdrCapacityMin=t.hdrCapacityMin,e.material.hdrCapacityMax=t.hdrCapacityMax,e.material.maxDisplayBoost=Math.pow(2,t.hdrCapacityMax),e.material.needsUpdate=!0,e.render()}}class ihe extends wB{load([e,t,i],r,s,a){const o=this.prepareQuadRenderer();let l,u,d;const m=async()=>{if(l&&u&&d){try{await this.render(o,d,l,u)}catch(V){this.manager.itemError(e),this.manager.itemError(t),this.manager.itemError(i),typeof a=="function"&&a(V),o.disposeOnDemandRenderer();return}typeof r=="function"&&r(o),this.manager.itemEnd(e),this.manager.itemEnd(t),this.manager.itemEnd(i),o.disposeOnDemandRenderer()}};let v=!0,y=0,x=0,T=!0,E=0,w=0,P=!0,D=0,N=0;const G=()=>{if(typeof s=="function"){const V=y+E+D,H=x+w+N,ee=v&&T&&P;s(new ProgressEvent("progress",{lengthComputable:ee,loaded:H,total:V}))}};this.manager.itemStart(e),this.manager.itemStart(t),this.manager.itemStart(i);const k=new Hc(this._internalLoadingManager);k.setResponseType("arraybuffer"),k.setRequestHeader(this.requestHeader),k.setPath(this.path),k.setWithCredentials(this.withCredentials),k.load(e,async V=>{if(typeof V=="string")throw new Error("Invalid sdr buffer");l=V,await m()},V=>{v=V.lengthComputable,x=V.loaded,y=V.total,G()},V=>{this.manager.itemError(e),typeof a=="function"&&a(V)});const M=new Hc(this._internalLoadingManager);M.setResponseType("arraybuffer"),M.setRequestHeader(this.requestHeader),M.setPath(this.path),M.setWithCredentials(this.withCredentials),M.load(t,async V=>{if(typeof V=="string")throw new Error("Invalid gainmap buffer");u=V,await m()},V=>{T=V.lengthComputable,w=V.loaded,E=V.total,G()},V=>{this.manager.itemError(t),typeof a=="function"&&a(V)});const $=new Hc(this._internalLoadingManager);return $.setRequestHeader(this.requestHeader),$.setPath(this.path),$.setWithCredentials(this.withCredentials),$.load(i,async V=>{if(typeof V!="string")throw new Error("Invalid metadata string");d=JSON.parse(V),await m()},V=>{P=V.lengthComputable,N=V.loaded,D=V.total,G()},V=>{this.manager.itemError(i),typeof a=="function"&&a(V)}),o}}class rhe extends wB{load(e,t,i,r){const s=this.prepareQuadRenderer(),a=new Hc(this._internalLoadingManager);return a.setResponseType("arraybuffer"),a.setRequestHeader(this.requestHeader),a.setPath(this.path),a.setWithCredentials(this.withCredentials),this.manager.itemStart(e),a.load(e,async o=>{if(typeof o=="string")throw new Error("Invalid buffer, received [string], was expecting [ArrayBuffer]");const l=new Uint8Array(o);let u,d,m;try{const v=await nhe(l);u=v.sdr,d=v.gainMap,m=v.metadata}catch(v){if(v instanceof SB||v instanceof xB)console.warn(`Failure to reconstruct an HDR image from ${e}: Gain map metadata not found in the file, HDRJPGLoader will render the SDR jpeg`),m={gainMapMin:[0,0,0],gainMapMax:[1,1,1],gamma:[1,1,1],hdrCapacityMin:0,hdrCapacityMax:1,offsetHdr:[0,0,0],offsetSdr:[0,0,0]},u=l;else throw v}try{await this.render(s,m,u,d)}catch(v){this.manager.itemError(e),typeof r=="function"&&r(v),s.disposeOnDemandRenderer();return}typeof t=="function"&&t(s),this.manager.itemEnd(e),s.disposeOnDemandRenderer()},i,o=>{this.manager.itemError(e),typeof r=="function"&&r(o)}),s}}const O_={apartment:"lebombo_1k.hdr",city:"potsdamer_platz_1k.hdr",dawn:"kiara_1_dawn_1k.hdr",forest:"forest_slope_1k.hdr",lobby:"st_fagans_interior_1k.hdr",night:"dikhololo_night_1k.hdr",park:"rooitou_park_1k.hdr",studio:"studio_small_03_1k.hdr",sunset:"venice_sunset_1k.hdr",warehouse:"empty_warehouse_01_1k.hdr"},EB="https://raw.githack.com/pmndrs/drei-assets/456060a26bbeb8fdf79326f224b6d99b8bcce736/hdri/",ty=n=>Array.isArray(n),oR=["/px.png","/nx.png","/py.png","/ny.png","/pz.png","/nz.png"];function oE({files:n=oR,path:e="",preset:t=void 0,colorSpace:i=void 0,extensions:r}={}){t&&(lR(t),n=O_[t],e=EB);const s=ty(n),{extension:a,isCubemap:o}=cR(n),l=uR(a);if(!l)throw new Error("useEnvironment: Unrecognized file extension: "+n);const u=ea(y=>y.gl);z.useLayoutEffect(()=>{if(a!=="webp"&&a!=="jpg"&&a!=="jpeg")return;function y(){wd.clear(l,s?[n]:n)}u.domElement.addEventListener("webglcontextlost",y,{once:!0})},[n,u.domElement]);const d=wd(l,s?[n]:n,y=>{(a==="webp"||a==="jpg"||a==="jpeg")&&y.setRenderer(u),y.setPath==null||y.setPath(e),r&&r(y)});let m=s?d[0]:d;if(a==="jpg"||a==="jpeg"||a==="webp"){var v;m=(v=m.renderTarget)==null?void 0:v.texture}return m.mapping=o?fh:uy,m.colorSpace=i??(o?"srgb":"srgb-linear"),m}const she={files:oR,path:"",preset:void 0,extensions:void 0};oE.preload=n=>{const e={...she,...n};let{files:t,path:i=""}=e;const{preset:r,extensions:s}=e;r&&(lR(r),t=O_[r],i=EB);const{extension:a}=cR(t);if(a==="webp"||a==="jpg"||a==="jpeg")throw new Error("useEnvironment: Preloading gainmaps is not supported");const o=uR(a);if(!o)throw new Error("useEnvironment: Unrecognized file extension: "+t);wd.preload(o,ty(t)?[t]:t,l=>{l.setPath==null||l.setPath(i),s&&s(l)})};const ahe={files:oR,preset:void 0};oE.clear=n=>{const e={...ahe,...n};let{files:t}=e;const{preset:i}=e;i&&(lR(i),t=O_[i]);const{extension:r}=cR(t),s=uR(r);if(!s)throw new Error("useEnvironment: Unrecognized file extension: "+t);wd.clear(s,ty(t)?[t]:t)};function lR(n){if(!(n in O_))throw new Error("Preset must be one of: "+Object.keys(O_).join(", "))}function cR(n){var e;const t=ty(n)&&n.length===6,i=ty(n)&&n.length===3&&n.some(a=>a.endsWith("json")),r=ty(n)?n[0]:n;return{extension:t?"cube":i?"webp":r.startsWith("data:application/exr")?"exr":r.startsWith("data:application/hdr")?"hdr":r.startsWith("data:image/jpeg")?"jpg":(e=r.split(".").pop())==null||(e=e.split("?"))==null||(e=e.shift())==null?void 0:e.toLowerCase(),isCubemap:t,isGainmap:i}}function uR(n){return n==="cube"?pU:n==="hdr"?Vfe:n==="exr"?Gfe:n==="jpg"||n==="jpeg"?rhe:n==="webp"?ihe:null}const ohe=n=>n.current&&n.current.isScene,lhe=n=>ohe(n)?n.current:n;function fR(n,e,t,i,r={}){var s,a,o,l;r={backgroundBlurriness:0,backgroundIntensity:1,backgroundRotation:[0,0,0],environmentIntensity:1,environmentRotation:[0,0,0],...r};const u=lhe(e||t),d=u.background,m=u.environment,v={backgroundBlurriness:u.backgroundBlurriness,backgroundIntensity:u.backgroundIntensity,backgroundRotation:(s=(a=u.backgroundRotation)==null||a.clone==null?void 0:a.clone())!==null&&s!==void 0?s:[0,0,0],environmentIntensity:u.environmentIntensity,environmentRotation:(o=(l=u.environmentRotation)==null||l.clone==null?void 0:l.clone())!==null&&o!==void 0?o:[0,0,0]};return n!=="only"&&(u.environment=i),n&&(u.background=i),th(u,r),()=>{n!=="only"&&(u.environment=m),n&&(u.background=d),th(u,v)}}function hR({scene:n,background:e=!1,map:t,...i}){const r=ea(s=>s.scene);return z.useLayoutEffect(()=>{if(t)return fR(e,n,r,t,i)}),null}function TB({background:n=!1,scene:e,blur:t,backgroundBlurriness:i,backgroundIntensity:r,backgroundRotation:s,environmentIntensity:a,environmentRotation:o,...l}){const u=oE(l),d=ea(m=>m.scene);return z.useLayoutEffect(()=>fR(n,e,d,u,{backgroundBlurriness:t??i,backgroundIntensity:r,backgroundRotation:s,environmentIntensity:a,environmentRotation:o})),z.useEffect(()=>()=>{u.dispose()},[u]),null}function che({children:n,near:e=.1,far:t=1e3,resolution:i=256,frames:r=1,map:s,background:a=!1,blur:o,backgroundBlurriness:l,backgroundIntensity:u,backgroundRotation:d,environmentIntensity:m,environmentRotation:v,scene:y,files:x,path:T,preset:E=void 0,extensions:w}){const P=ea($=>$.gl),D=ea($=>$.scene),N=z.useRef(null),[G]=z.useState(()=>new X_),k=z.useMemo(()=>{const $=new MC(i);return $.texture.type=Ha,$},[i]);z.useEffect(()=>()=>{k.dispose()},[k]),z.useLayoutEffect(()=>{if(r===1){const $=P.autoClear;P.autoClear=!0,N.current.update(P,G),P.autoClear=$}return fR(a,y,D,k.texture,{backgroundBlurriness:o??l,backgroundIntensity:u,backgroundRotation:d,environmentIntensity:m,environmentRotation:v})},[n,G,k.texture,y,D,a,r,P]);let M=1;return i1(()=>{if(r===1/0||M<r){const $=P.autoClear;P.autoClear=!0,N.current.update(P,G),P.autoClear=$,M++}}),z.createElement(z.Fragment,null,pue(z.createElement(z.Fragment,null,n,z.createElement("cubeCamera",{ref:N,args:[e,t,k]}),x||E?z.createElement(TB,{background:!0,files:x,preset:E,path:T,extensions:w}):s?z.createElement(hR,{background:!0,map:s,extensions:w}):null),G))}function uhe(n){var e,t,i,r;const s=oE(n),a=n.map||s;z.useMemo(()=>KU({GroundProjectedEnvImpl:Lfe}),[]),z.useEffect(()=>()=>{s.dispose()},[s]);const o=z.useMemo(()=>[a],[a]),l=(e=n.ground)==null?void 0:e.height,u=(t=n.ground)==null?void 0:t.radius,d=(i=(r=n.ground)==null?void 0:r.scale)!==null&&i!==void 0?i:1e3;return z.createElement(z.Fragment,null,z.createElement(hR,ds({},n,{map:a})),z.createElement("groundProjectedEnvImpl",{args:o,scale:d,height:l,radius:u}))}function fhe(n){return n.ground?z.createElement(uhe,n):n.map?z.createElement(hR,n):n.children?z.createElement(che,n):z.createElement(TB,n)}let hhe="/assets/configs/printables.json";const dhe=function({config:n}){return ue.jsx(Yfe,{speed:n.float.speed,rotationIntensity:n.float.rotationIntensity,floatIntensity:n.float.floatIntensity,floatingRange:n.float.floatingRange,children:ue.jsxs("group",{scale:n.scale,position:n.position,rotation:n.rotation,children:[ue.jsxs("mesh",{children:[ue.jsx("boxGeometry",{}),ue.jsx("meshStandardMaterial",{color:n.color})]}),ue.jsxs("mesh",{position:[0,-1,-.5],children:[ue.jsx("planeGeometry",{}),ue.jsx("meshStandardMaterial",{color:n.color})]})]})})};function phe({printablesConfig:n}){const e=z.useRef(),t=z.useRef();let i={...n};return z.useEffect(function(){e.current&&t.current&&(e.current.target=t.current)},[i.directionalLight.lookAt]),ue.jsxs(ue.Fragment,{children:[null,null,ue.jsx("ambientLight",{intensity:i.ambientLight.intensity,color:i.ambientLight.color}),ue.jsx("directionalLight",{ref:e,position:i.directionalLight.position,intensity:i.directionalLight.intensity,color:i.directionalLight.color}),ue.jsx(dhe,{config:i.printables}),null]})}function mhe({printablesContainer:n}){const{data:e,loading:t,error:i}=cy(hhe);return ue.jsx(ue.Fragment,{children:ue.jsx("div",{className:n,style:{width:"100%",height:"390px",position:"relative",minHeight:"390px"},children:ue.jsxs(rB,{gl:function(r){r.toneMapping=Tw,r.toneMappingExposure=1,r.outputColorSpace=ka},children:[ue.jsx($fe,{makeDefault:!0,position:[-3,3,3],zoom:150,onUpdate:function(r){r.lookAt(0,0,0)}}),t||i?null:ue.jsx(phe,{printablesConfig:e})]})})})}function ghe({leftImage:n,leftImageAlt:e,leftImageLabel:t,rightImage1:i,rightImage1Alt:r,rightImage1Label:s,rightImage2:a,rightImage2Alt:o,rightImage2Label:l,interval:u=5e3}){const[d,m]=z.useState(!0);return z.useEffect(function(){const v=setInterval(function(){m(function(y){return!y})},u);return function(){clearInterval(v)}},[u]),z.useEffect(function(){const v=new Image;v.src="data:image/webp;base64,UklGRjwiAABXRUJQVlA4WAoAAAAQAAAA3wEA3wEAQUxQSOwRAAABHMVt2zjR/mOnl7t3REwAWkaiA5TINwJEPAAAtWxp/n/nAR46RGyxG1vRhdgdLGU9Zg1brHfsDTdwvVnMZJuFS+zubsXOoZiIDVgIT9zn05/tuc65rsMnI2IC5Na2tmzRwd01cpeLVUAB1EAPVEED9EFGSEpG6IQ6dzxyl/Q+0SwiYgJ49v//+///lv5VWvfpn/Rp6tyMzQfOZGffzsvLcyMW5uXlZGefzMzcse6n6SmJ8X2er1/OXrLiW7vr+5/9tPv8A/Tk24eXTRvT95mKthKOat3HfLfzuhtVLrq45dvBbUuXQIR3/mDh4UdI580t3w5uV7qkIDQmMf2MhSTnrk6KCRC+SnGpmRbS7jyTFt/QJnK2ZqMycpHLu4sTagpb2bi0HOQ2Oy0uQsh8u3x93EKe3Yc+7+gjXYGx6QXIe156XJBclY1fXYQ6WLg6PlSiyo3Ya6E+Pl3dv7QsBcStdqBuFq2Os0uRT+xvhainN79pKEFVkq6izp5JKis7/m9ttVB3i35rJze1p91HPT42wF9kYjJcqM/5qVWlxS/+JGq2e3UXSSn/xX3U8cMv24SkeuoT1PXT8d4C0ijdiTqfneAjHK1XWqj7FwbYBaPJCgtN8HKCj1DUSHOhKZ6PswlE1TQnmuT+GGkoPbUYDdP6rZYk2BPuoIE60sqLwUtZaKgFY3xEoPl2NNgTz5tfWKoLjdZKL2t4sdfRePMSvQyu7iY04sPRphb4lQMN2fm1v5HFnEeDvhhjXoFfutGonV/6GVb3q2jcp1qYVPhCNPHif/gYU6fraOiHoszInuxGY3+aaEINjqLRLwkzHVvCEzT835uZTcQaNP+nQ0wm+hKK4LJwU7GNcaAQ3m7XJDQD5fDDXkVaZKMkfj9oLMfrT1AYj/trYUu2UByvlioRsgIl8v1uHeqdR5n8ul+FbgUolodNJejvQME86sjPloyyeTqcnu8ilM7ziezCt6N8PmwmF3kWJfTdTm51r6CM3nWm1ugGyqhF6K3vo4xahN75EcqoReivFqOMWoTe14EyahF6XwfKqEXofZ0ooxahxzlRRi1Cf92JMmoRerdilFGL0J9/jDJqEXqzfJRRi9Dr3kIZtQi96lWUUYvQy2ShjFqEHrAXZdQidK+lKKMWqaeijFqkPh5l1CL1OLeMWKTe7DGKqEXq5a+hiFqkbt+BImoR+3coohaxJ6KIWsTe0SkiFrFXyEUJtYjdZxdKqEXu36CEWuT+oqVHRbfOH9i8NCNjYVpaekbGys27TuU85sQi95r5qLXFZ5dPHftm21oB8If6lm/ce/DEBVuuWORZ5O57BHXVefrH8T1qeoNnBrV869MllwmzCP5r1NJrPw1vFQCeX7bnhJW3SLIIvpNbP65+93ZVUNjWcOTyPGosgi99HfWycF1ifSDQq+WETIsQi+QXo04+/CUuCOiMHLqhmAiL5PujPj75KdYfqA0fvMciwCL5mo90wb2tXwjQXPOjLNUskrdtRz28ObEqEG7rvMypkkX0I1ALM+PtQH3FpOvKWERf45EGFC9oDCz6DsxSwyJ62yZk/1FqFWDTK/aQAhbZD0Hu8yeEAau2Xoc8zSL7ag+ZezixFLBri8vyKIvwVyHrT7+KAJbtQ3I9xyL8l5Bz66dqwHbQJ0UeYhF+4GXODrQB1mut9QiL9L9Gvm/G24D72Mt/nkX6jRxsuaaHgQYGTnX/SRbp23Yh15ktQRPbXvhTLOJ/F5ku+psPaGNgqvuPs4g/6DpThxuBVna4/kdZ5J+MLDv/7gOaWWbNH2ORf+XHLF1pA/ppSyz+AywKuAg5/iUMtLT1pf+URQGfsRgqHAC6GrH1P2FRQNte5De7Oeirz/T/kEUFX0J+15YGrX3n6b8sKuh1ih0rxQs0t82rv1mU8B3ktugd0N/Zmz8sSmi/yM3dtqDD42c/fljUcDAye7Ia6HHfiUUNA3KY2VUKdLltjiKOLeZlZQBIu/8NZHWhD4j7KGR1qg3E3e86K5NA4Icip1+DwNsvc/IZSHw/ZPRbEPnjjCywiVxP5HOpN4j8Vj7W20Hkm1psnAoDmf8RucypAjJfsZiLB01A6JORSVd3EHp7DhfjQOrfQCYXgdjvZuJooNg1QR7vVQWxT+XBehHE3vcuD1+D3L+OLB70FbxNLBRUA7mv4mLhXRD8j5DDZSD55znIjZC8Vshhb5D8aRz8DJLvfZOB++VFrxsy+B6I/jwGttpEz36fPmdjEP2uSP9kkP059N0Kkz2vXPr6gey3RfJPeAnfJPq6g/CfI28HCH8NpN56VvpGkrcUpH89dVZL6QsopG45SH8vpL6V+E2ibg2I/1HqYsSvtJu4TBD/V5H4N+VvJnE5dvk7Q9yHIP4RFm3F5eQvFmn/FeT/C+I6lQDsou2iTf7sT2hLAvlvjaRb1UsARtC2E0oA59GWUBJwnLSnESUA/g7S1kAJYGskfWBJwGDSXOVYQ9Psrsws0naCJCUqs5O0MaI0W5m7pNURpe2qlEfKL4Mo3VSlI2mzZQnDFRlB2ivC9JwiMyhzlhKm/oqsp+wgCNNXimRRNkmaVqrhXUzZy9KUpUZ1JNwqJ00OLyU6U3YepAkrKjGIsvny1EqJiZSNkKdXlJhLWRt5SlRiI2HuEHmapMRpwn4HefpViTzCMgRqrwqBSHiKQF1ToSZlbwuUy0eB1pRFCxRGKtCLslCJilbgHcJyQaK6KjCasH0i9ZoCnxCWIVKDFZhJ2FSR+lCBRYSNE6mvFFhO2Osi9b0CmwjrIFJLFNhHWBOR2qrACcKqiNRRBbIJCxapKwrk0uW0iVS+Anfougci9USBfLpuyJRTgYd0XZYp9PK8QrqyhMrP8xx0nRaqEM+z6DomVBElXhU8z0HXaaGq6nmFdGUJVW3Pe0jXZaGK8rx8um4IVTPPu0PXvZKCXLqcNpmK8rxsujBEpmp73gnCqspUVc/bR1hTmargeZsI6yBTEZ63nLA3ZCrE8xYRNl6m/DxvJmHTZMrL8yYStliknOD5iYTtF6knCrxDWK5I5SvQkzAMlahbCrSiLFqizilQk7K3JWqvAgGUpUjUGgXgPmEZEpWuwinCsiQqVYX1hFlhApWswg+EYVuBGqVCCmWjBOpdFQZRNl+geqvQibLzAvW8CtUps8rJU30VvIsJw5flqbwKkEXZJHEqsimxnrKD4nQRlJxBmStcmrapMYIyfFWaFqjRkbQ50vSJGuVIuyxNCWrAXcqwjjD1UGQnaWOFKUqRWaTtEqZQRQaT5ionSnmgaCvScJAoHVfF30HaElFapQocI+1RgCR9pcxc0rCvJPVTZjhtyyWptTKtaSuOYKwl09vpskKVsT8hDRMY4/oaXVdB3Z207Tetikj3eoU+pw2bG9YrhE1WqA9xMwzrK8IGKRTupq0gyKx2E9ZGIThDGw40qhAHYeEqzSTulM2k+iDduaDyq8RhV5OaRtgGpSLcxK0zqTOEJSsFR4mzosypKhLeS61JxOFccxpDmFVGrV7UOWoY027CLoDaAYXE4WxTKu8ibJFisJ46RzVDGoqEj1BtJHU4w5C2U/aMajXIK65lRDUswor8VINz1OGPRpSChO8H5SeR525hQLZsyqapF0Merjegzkj5G+p55ZKHXc1nKWVWBfVgFn1n7aZT3UXZcSCwC3041nSmIOXfUOBzl76HFc0mpIC07hTAXPpwgdmMRsqLAknoxoDVxWT8c0jbBiR65dCHl4IMZhSS/jcaYCoD+KW5+OXQ1oqIaA6czY1lJJKe700EnGcAz/gbSnAubUuAygkc4NeG8inSPpiMKi4O3B2NJPIJbe6KZMAmDvB6uIn8jLTvAjpfZwF/NpDnLeJGE+J7lwUcbBw+x5B2qyohMI2Hp81N429I/CGgtDEPeCHULGoXUpdECuzkAZfYTMK2BamvS8trTOBHJjEKqT8BtPpcZ8Lqaw5RheR9TAx8xAQ+amQKfseR/EbUlCtiArPLGcIUJP8skLuICzwcZAQvWPT9hZ4mFhe4xscA6hYg+c6K9MBmNnCG/gWfRvpXAcHd+cCPdc/2GzL4CkVwjA8cr3kpyOA9P5LiGbEStO5Ni4OpQLL9Eh/oelPj2hchh01pgiGMoOs9bWtcgBxmAtG+VxlBdz9Nq52LLA6nCkZxgtYwLat+DVl8Wpos/3xO0BqtYZUvIo/fAd2TWUH83KZblc8hj1ZDwso84AUX+uhV9QvI5HqgPIUZXBGkUw1ykMtupIXcZgZPVNWn6LvI5RkbafAXbjA3Wpd6PEA2BwHtATnc4ONX9SjBiWzeCSAOhrCDVqqP/nh/i4ymAPX239lB3FxWdyI2IKNFFciDFxjCq631ptUV5HQ+MLiRIXQme2lMfCFy6qrHQZSTIcStlXUldBHyugBYnMMS3onVk2cvIK+uujyUzWcJMSNCP3ySXcjsD8DkeKbwRh/daHQIuXXU4ML3LFOIC8vohN9EB7I7B9hsb3GF99/30oaYs8ivozofsJAtxMxWelAhzY0MzwRGy93nC52zyvJnH/MAOS6K5AQSGEMsSPJn7uVzyPNUYNVrH2eIl9/yYixmLzJ9P4IXaFLMGuLpvjamWq1GtocCtx8zh3j8JRtDz65Fvs/4sGM/xh3iqXg7L7bum5DzbsBv02L2EG8ml+LDL/4Usr4MOE7RAMSC1Po81P7qDvJeXIcl3xM6gGht7etDnW/cZgu5/wJ4bu7QAkS8NaUZYbaY2feQ/1uhTEGSLiDiyXGRJNmiv7iCWtgfuPbapg+I1oGkOsT4dPr2GmridhtbEHlfI/71yS862KmoNXRZAWrjk9rAeF/NQMRHK4dF2VSr23/eRdTKscD6XO341/dWfdAmQJGy3f+69Bbq5kFv3oKzdORfO08vGtepnCcFR7/7+YprqKPFjYD5poWa8m8XHP7p43c71Q/6E7zKN+o2aGL6zquorx8B+/215t8vOLtv3c+zvpyQlDQyISHhg6SkCV+l/bxq26lbbtTek778wVwd0nj3c6CB/kck6xvQwtoFcnXSXw/gZUuqHtcHXUyRqnjQRttvMvUraGRApkRdDNUJqHZbnhzPgF62KRanMaCbA6VpnU074BNZulIW9NM2X5IKW4KO2jfKkfU66GnIMTFKBl2tdFWIlntpC9S9JUJnQkFjm+UL0L1aoLXPPxYfR0fQ3K5F0jMYtPcVp+x8DBo8wC05s0GL+7vlZpm3HkF/t9Rs9QNdftMlM4eCQZ/fcEpMVjnQ6Xdd8pJTDfT6hafScrM+6HbHh7JyMwr0O/qupFyrDTre4LqcXK0Fel7jgpRcrgG6HrFbRn6PBH33+0VCzlUCnfeaLB7Og+VA8wc5hWNbKdD+2EeiscgXDLDeecFI9QIjLL1JKlxDwRS9v5SJx33AIOOfCsTNlmCUra6Iw8FIMMywJcKQHgDGaUt0CIIzCYy09WUxuPEcGGrZjUKwtyIYq9fYIgmY6Qsm2/CY8RW8AYbr/6Xb7LZFgvl2zjE4Z7I3mHDEj8Z2oTWYcs9rZpZRCsw57HvLvG6+CmbdNsu0MsqAaQdPdprUpa5g4vU2G5M7LRjM3BZ/y4xOPwvmHj7TZT6P/uYLRt9ih+FY6ZXA+LucNpnMNiCB9oQ7ppKb4AVCWHpKsYkUfREMglg1zWka7oxaIIzV01wm4c6oCwIZlWEZw+bmIJTRy91GsK4lCGZUukP3rDVtQDirpT7RueL0hiCg5T+/p2v5X1QEIfWLP6FjucmlQFI7r3Br1q437SCtNSff1af7UxuAyPrGrXZpUWZCIMhtZNJl3SlIawLC693758f68uTXl/xAggNiM4p1xLU5PgTkOGLITrdeuDYNCAdpLv/+2iJdeLRsUHmQ6cDY9Hz+LqXF+oFk+3b+8qjFl2PbuPog4WXi0q4x5MxMjSsFgt5o2M/XGSncntwpEAS+2jtzzlj0ZWd8GOMHgh8Sk5h+xk1V7urk2LJQIhjaYezcAwWkXNsyO7FDKJQ0Vu46as72Ky7FHhz+acLrzYOgJNNeo2P/lPQdZ+55lHXzyKpZ/3iva1QolKT6Vm7Zq9/4lCnfZ2zcezI7OycvL8+FWJSXdyc7+2JmZuaWJT9M+seId/rENIr0hf/3/7P//zdLVlA4ICoQAACQcgCdASrgAeABPpFGnUulv6KhpZGY0/ASCWNu/H82hbyMAlgsSqxX/C/wA9gWAH20sAfgB+gDnAfaBcgI3+TP5/+0f2//mbGl3X+q/uF/hPIOwLdQ/pX6x9efczJJ9g/jH+7/f/zK+Yf+D/53sD/hnqAfw3+b/r31jPMF/Vf9p+4HvSf5/1Zf5H7VfkA/of/V6wP93vYA/Zz04P3g+CX+o/8z9u//V8jH7e////0e4B/6fUA/8fWv9ZP53+DX4TfjDYduRtxSdW/b76hgEPUd64/PnZZFw7LIuHZZFw7LIuHZZFw6EdlJ0XkWc6nKeAoKv14e1nHZZFw7LItqJNS2jEZRrHcoz+X1b/Dssi4djqKS8ljwNTsi4dNBL8whXIHRV/ZABt/vAp1nf+3SShUXzhoB6+ndF+TCoC2aPaNY5EXDssi2yX5SlY7IuFzrSkRUX5KqWESlC52Otkfq4hTIi4djDc7dJJBt5h9GvtZUg5XxIoAb2FSiA0oK8m87LHSrfspxtXozAC1HTqCEXV9XMm85fwi+QB/13pcOyyJ+VWEVgaVeCACY9jDAzNRl+1gI7IpeSq3PnZZFtPBFs0HBLxTC8ecUrAi0d8ORFw7LIuHZZFtUNRBDJ6a+OG5louur7OyyLh2WRcOyyLbQUJ8itt4A10iCAJdJKA0f/Z2klyZ8MNFkz4YaLJm1XdFRYbkmrYd3w6Ox9lVy76YOElyzeZCN4+kJOyKGG5JQqL8lNimS4NQK8Jz5FwtYqYVF+TCgGsn0sBJIqygil0Y/8VjLh2WRcLWKZLq90EBJs7Ee9ajdlkUMSI5C+ER4GpsUrSC1JPDs96HeFNwOrzdIZq/G49VYSO16FhVPsF+MTBcqVK/xwWmB8GV/6mPRFFQDGsciLhVR+rXqJKudR6ntNOv5gy3AH6INlu3on9kAG/qpKTtbpHd5hRmTi+me8w6PUbPYuwIgUTkRbgP9J+Ilq0fKm+ANdCotjYmn3Pv4Ng8kogQRdPkARDh0I7aBCxx01AkyqAZCOyNo/4SFNlD2H3be8yNcsjPf4p7+x/3tPFxgBFTCovyYVF+avCwAqtbNPYqL8mBF22nffcxFw7LIuHZXNxwDU9PBkv/SADfmTHoimLmQ4dlkXDsrjj22bHIi4dlc3LPotPZlNGsciKTE8d5sciLh2WRblQHiw/8ZJlbdVh1N8K2SuudkXDssi4dlj1Dktj1r0H6KqXHZZFtAAP4kBAAAAPTE4vKXYa7vz96R2j6RkQPSSzzRhf3lW2IzavJ3zJy1BqSc41F+LUAZJXzjlQrqPU7Zj4L9DqWYlxFIXHA9COd2fh1lb2jwL8gT/AGK4sVCznOks0gw4KWB6kvFNtK9eKY34nXSNEcAqq38Oh2Hb8MZ5zUjRH+Eu1E7MGvBI/ipiIsS0acKbOVJPpuckdjaK6tTFeqmX6zwAAKyxy2YYKm2Cls7AjsMR4E2xWTmttyDpA2/Q4minPONkfdRVSkpNhCKj90Hwv8Y6tNvkra45PF4i9TNM6SbVGAIztqh9uv7uL7XwSINP54stU64Q8pn0Ah4ei6Rv/0m6XZ2R9XYkL7smZYY1z95K3WMfUw6TP1H9u/Oq46tQCQ9NvUEKVHqQgaBkXbVX5kFqnkB0iY/EuJklIH1MK1xJ26/FkUHFZU17ApUrpbDQ6xluoHWcocAAJrARAjrL8q2UEV4orpXq0UOLrMXGuMEBW/7Vgtc7X8p3o6MOokqn7c4LRUtzXYQXNqGvOjzOgjHXK7a+NF0VXmVFwqG/ovyzOoUYZ/inJ0EzpnOK0QaxkAABpgx/Z173h4GJ7EH6bVQ4MpgwGJseafqTxjZnZYrgm8RHlJoNlNP6Trp44sv/hNr+4HYxzarZYPtzlQbrD6C1qAVkhd4QABs8BY4Cddv/2/Xhv9whuwP9HOz3BU2rtIi4QBE4+j/vnu1eTpGK4F+CqvG8tfCL/7XyPu0OD2kAC2ZeLbGfWeUyJeomcv7PgD6VGnuMGWbxaQ4dqMFOjE2HYJJy5KVDD3rgW/4pkAq9zMmwMOD5947vaNrrsqTrvrtUwN6eLSEOgsnOpm7vxHiQ7/o52e4LzIJo2sUUvzvqVous5ectHQjJnuwYz5MtQAPgx/47z4+g6SWUWHwFz8E/BgTY/a3Cfeg1Wzt6ZPW9KzKJVgI6UkNAKFjUpIPfFMdDHLCX+Cy/26+G7Jp+gVI9x6aUbshj96+WI+Tpkb8Zw/Zoe9+B9X3i/eZnPOceVxuHqp25FyELIrZPHWk8boe6lBudYzcn3YsI8lnwvekrDErDEqu7McrsUG3AETT1ZLQ9VpEK7EXd+S4gIRoDkbayaW/hzU8Q+yiOEg7NpvZnAWOAnXb/9v14b/cIbsD/Rzs9wVNq7SJka9eSQ5aOhGTPdgxnyZagn26hEAEjAEfZxD+WfkKhCOIZ4uTWZiYYLBX+5tlqWKoacC+hGd5H6DJkqwIay8Cl9u7v6ruivOjopdd6FuviNYzjzr4X5+Y9q3jQMJNs6EypW8o3gGfxyRQZmGQ/T6oS6YwDjGZLJGS/mTynVQ9v/fe5Qv+RHxDB7dBsUTruBHQ88yNKe/jf7hDdeG8COBpZ6FnV2kTI168khy0dCMme7Bi2UhpAAzbX+fE0rGxIRyCXW+Xg5C//g3UsLYRkNv3ILia147Sw/+dM+wYrDMb9mdRCX8LjT5loZ+DR3RsmeJZPW2klIBw2ouo5aNazG+UtvQagJ3QqOr7Ij/CawWri6Qcm4B949C/dJC0thfbCwFYJlPB4QAAl8NVACai2XrHoA99eP9ggAScnScyflMVOo7z7b9lYHj3pXYUaSMtCwR+pWFhRtm/l3YuzRmjxUh84XJk5Yh7JFUm3fYKX6q5Z4x8eeEJmtWUI3S3ef059rFWPLXlWVzphgQBoOe7VgcE5mTlhvfzndUu5+wn1XQAAYPCmVC/hh4jDR+UVmxwuzkodgylBBtcBjWmxRB/HUuEvH52FLCzaA8ZbaNoG8TbfQ1yygR2e5xWmi2rpJYGuBB7IiLybGzYVS/uoBk8K2SlvIwUmVJLGDRdNho4ZJp0Sb7ho09xD5kcKVEfuhl+LWpmgA2vioEoc9r/VmqSfPHOSVNVqXj7RWUSzVda3QLTLt8Ssrm9VLepn/B4q/XAoOpObkC4vo1ZCYz125/9ibmFVK7XjZpsYycqRzpbI78TRk44BWn2K5NC3ixZfyhl5YMvLBbwl9N7nOXMpg4AGucQFehQXAtTxJpbk0QdbzhnWAg+XggNsz/JOZ4wfPUOk8ied0om+k03yTW2PA40awa0Rr5k/BWf1fJ1noinUhCQhkmWxlKG0Uu20Xfl4rIwEHK38/aWE+Mu0kRsyiHcB9JBTxGDyyGT3ECVfQkPPfo+Ex3RkjdVaA5o5ipGWPb6QEw8E+PVKzbK5DuHSedl+cx3oKy3dlz69mZ/knESrkVtKpZBARiCEeqeXu0W6KRURhbuGglnaKKlzURAuoEwD0UE6L563qxP+VK+S2muIcHtW0NZjms66L2CDG34u90/mVDQFYfuZ9UoylhjzBrKcluKp/lsCy34ZAeEw2CpiDx/mSPj3cFE9XYJJIANs1xdE9NaJasahamzTA5NyTo0AQlScxniWxHgO0K4V6Vjfj4bXG4BsAidfMsXkbLhZQX0lXEkj0PPvc6HjkQT/vi0kz+TE5AvasWzDZX+6vP+KNWcGRxhk8GXKBZOIaasriWpWJjJ7MAjoev0iW8xofL057z1+YKiiMwdiKiQ+SH05StEqcbL7X905Eome0U/hUAAL7Cofk/BfTUffKoD2cTJhnO/EfFJA2kTx1k206eFq21gYORKOJBpog9uaV8/+pn0u5OfUjCeuxicjEKtHIPrigVYIvW/ShviobSB9+doE0Nky1Eq9E4iJtSAbdRvR9X4uN0ElkN9pOAsFRWju595v1Xrz+ka0R7vtbjJxSLl5XzY9J1tORygq7FG4K3BxPgnl7tJykn8Fc6tAvjSQYMEcYeBeoVzl6CFNpOlhp+fr4z5sNzBb+ndHTGMAP3AAlS9o9o0C/mGi4fpa5DrTj6ZXaTN0DZIId9Uo86+xpLLYLCZ0MwHou4FWymuAVW87EQGbmuG308kGAIq5Eq7gbl7fZnNg3baQa75fMVevxq/vByicrjILT2rOKj+19/URPgzgoBDhE4ZD7TeUGccDH03CTdI1dOaJLtqpfQOACUD1Ked1jujIBmuFLP18xyJ6p5e792qZC1NnzOY2RgLPCKZ7u/Bnano/FiochW1wLzlsVsjAoRQyBDSI5S7hXD+nNwrqXLyRQ1VTMwx6BNIn38m/uYnbvO7QrRSWHEGgE3ObOTGKEUoAVqFOvpvwOByu7QRsBGMUQJb4WuxJx9GNYzPhwjX/T+ux6LYqH9axTICKB2DUBtKo9AqcM5ZYwSQ/HmMwrANYRxp9LJiFcmgqbDRwyTTonJDEiPTwvt//7Kf/7ZN/daV3SgzFX0wSOQY8BJxdAn5I72Xg9bW7wAREE31c0UF4ozrywFt6YQNFH1I6oTWk0QzhbFVl2cvOMBCwO509cou8AAHkc+9y9TakmHd1WNPBLROxDTxj/S2ZSlSE0p6RuBaRyKihlIK//bdMgmwYG4LY81Ycj0xDHXCCnueShiOA1Kjc1b5sa6MK58IBFsgZmLomWprxm8HuHnLK5yi/tRthyTu9J/7D5WiQX6YB/nwkpFxX06MmbuI201efJXy2Uu7oq5K7pXP/HHl8LxdVYlzJg7q2uOjbAoaLY5uTfwiJ0AqG5PFiQIUurIgPIVCaLXot0VlLfZQNAlaBXteKAjEowM+SkfvQ1y2RbPXLGl/5pKbxsMDOC9EAj093EYeX6iONreS9SF8Ag7EvNfbCrfwSOYLhFCSCZ4PQuxTz95hW5PcK4EVa4//bqvizjYrZ8P8MRjc8c4OlBnCNkO5+qNPOK5gUmZy08H9njiwmJfM518AAiYNpSvn+Dp2ngzirhDa3vfWutFXCrC4yxyRAjVXzEhG9AqcMuzH8PH3kyexG35A8LcezYjSxw2hkX4EyXg8r9bOzjIAAT895NTpuPgghbNtaMlNtVt8H+Zl7yFqJhSunJC28H6wdZLgueDUWvSuEV52N+R3Zi/VErt5Dubtpjs2ETgqI7acL+cfik2Gp3iPKRk6ACs3xsSHzKS8Z1xdmACeTqqzGHOWSqbV3+pOaMkQ//3EP/7Bt+3z7z0SE7CR/dr98Kh+4BKgA/x8tYe4ekqUiPcBxi5w0QxTvGW249YIhHDgxs7L0l84DJy6HtqLNnfMru6e0mx7fqhedbsMMJUlkEQyK7EgWIJ3sYAhkcSnaHM/FhJ7OUIFJA55TGNgUAAGnwYQ3JVnRYP9uVpgbKzKgPXyV1FYpG8QEepa5Jm71tQiysGZKjlvlcjWnkEclH/X31YUk6Jd2HcGJtnHffAWhOadoyUx8iM5RlEXqAdOgERoRRSa7pY2PYHhfaC5QJ5IAbeppzbNmCSAAAAAAAAAAAAA",v.onload=function(){n=n.replace(".png",".webp"),i=i.replace(".png",".webp"),a=a.replace(".png",".webp")},v.onerror=function(){n=n.replace(".webp",".png"),i=i.replace(".webp",".png"),a=a.replace(".webp",".png")}},[]),ue.jsx($2,{leftImage:n,leftImageAlt:e,leftImageLabel:t,rightImage:d?i:a,rightImageAlt:d?r:o,rightImageLabel:d?s:l,imgProps:{loading:"lazy"}})}function vhe(){return ue.jsxs(ue.Fragment,{children:[ue.jsx(Co,{children:ue.jsx(so,{md:12,children:ue.jsx("h1",{children:ue.jsx(Ar,{to:"https://www.printables.com",target:"_blank",children:"Printables.com"})})})}),ue.jsxs(Co,{children:[ue.jsxs(so,{md:6,className:"blur",children:[ue.jsx("p",{children:"Printables.com is a platform that offers a huge variety of 3D models and a great relationship with the 3D printing community."}),ue.jsx("p",{children:"Printables.com is famous for its extensive database of 3D models. The variety and quality of the models available are impressive and being designed for 3D printing they are easy to print."}),ue.jsx("p",{children:"Printables.com's points system, called Prusameters, adds an element of incentive for users. Accumulating points through interacting with the platform, creating 3D models appreciated by the community or winning contests, leads to advantages such as spools of filament and even free printers. This system not only stimulates user interaction but also rewards their active involvement."}),ue.jsx("p",{children:"Printables.com regularly hosts contests that encourage creativity and innovation among its community of creators. These contests offer users the opportunity to test their skills, compete against other community members, and earn recognition and prizes. These events add an element of community, challenge and engagement to the platform."}),ue.jsx("p",{children:"One of Printables.com's strengths is its commitment to supporting creators. The new system implemented to support creators is a significant step forward in this process. Through this initiative, Printables.com users can offer support to creators who produce high-quality content for the platform. This not only benefits the creators themselves but also enriches the overall offering of templates and content available to users."}),ue.jsx("p",{children:"In summary, Printables.com stands out for its vast database of 3D models, engaging points system, inspiring contests and system to support creators. It is a valuable resource for 3D design professionals and enthusiasts, offering a dynamic, community-focused platform for access to high-quality content and creative expression."})]}),ue.jsx(so,{md:6,children:ue.jsx(mhe,{printablesContainer:"canvasExperience"})})]}),ue.jsx(Co,{children:ue.jsxs(so,{md:12,className:"blur",children:[ue.jsx("p",{children:"Here are some suggestions for improving some pages."}),ue.jsxs("section",{children:[ue.jsx("p",{children:"Collections and user profile:"}),ue.jsxs("ul",{children:[ue.jsx("li",{children:"Adding filters: using filters on the collections page to make it easier for users to quickly find models they're interested in when collections have many models, such as on the all models page on Printable.com."}),ue.jsx("li",{children:"Increased medals display: modify the user profile to allow up to six medals to be displayed instead of three, allowing users to showcase a wider range of their achievements."}),ue.jsx("li",{children:"Displaying the number of models and makes: next to the number of likes and downloads of the models, also include the total number of models uploaded and how many models have been printed (make)."})]}),ue.jsx("div",{className:"imagecompare collections",children:ue.jsx($2,{leftImage:"/src/img/printables/collections.png",leftImageAlt:"collections and user original",leftImageLabel:"original",rightImage:"/src/img/printables/collections_mod.png",rightImageAlt:"collections and user modified",rightImageLabel:"modified"})})]}),ue.jsxs("section",{children:[ue.jsx("p",{children:"About the user - medals section:"}),ue.jsx("ul",{children:ue.jsx("li",{children:"Redesign of the medals section: to allow users to download the medal for past levels and see who achieved each level, giving users additional motivation to achieve higher goals"})}),ue.jsx("div",{className:"imagecompare badges",children:ue.jsx(ghe,{leftImage:"/src/img/printables/badges.png",leftImageAlt:"badges original",leftImageLabel:"original",rightImage1:"/src/img/printables/badges_mod.png",rightImage1Alt:"badges modified",rightImage1Label:"modified",rightImage2:"/src/img/printables/badges_mod2.png",rightImage2Alt:"badges modified",rightImage2Label:"modified"})})]}),ue.jsxs("section",{children:[ue.jsx("p",{children:"Model:"}),ue.jsxs("ul",{children:[ue.jsx("li",{children:"Adding monthly likes and downloads progress for Prusameters: on the model page integrate the section showing the monthly progress of likes and downloads towards the PrusaMeters milestone, in order to provide users with detailed information on the performance of their model over time."}),ue.jsx("li",{children:"Redesign of the print statistics section: to allow viewing of multiple files and support different printers, giving users a more complete overview of model printing times on different printer configurations."})]}),ue.jsx("div",{className:"imagecompare model",children:ue.jsx($2,{leftImage:"/src/img/printables/model.png",leftImageAlt:"model original",leftImageLabel:"original",rightImage:"/src/img/printables/model_mod.png",rightImageAlt:"model modified",rightImageLabel:"modified"})})]}),ue.jsx("p",{children:"By implementing these proposals, the overall experience of users on the platform could be improved, making it easier for them to navigate, share and track their activities and successes."})]})})]})}function yhe(){return ue.jsxs(ue.Fragment,{children:[ue.jsx(Co,{children:ue.jsx(so,{md:12,children:ue.jsx("h1",{children:"Decreasing the Reality Gap of a Vehicle Simulation Digital Sibling Using the Addition of a Road Slope Study"})})}),ue.jsx(Co,{children:ue.jsxs(so,{md:12,className:"blur",children:[ue.jsx("h2",{children:"About this thesis"}),ue.jsx("p",{children:"This thesis focuses on reducing the reality gap in vehicle simulation platforms by integrating a comprehensive study of road slopes. Simulation platforms are critical tools for developing and testing driver-assistance systems (ADAS) and autonomous vehicles, offering a safe, cost-effective alternative to real-world tests. However, achieving high levels of realism, especially in road and vehicle dynamics, remains a significant challenge."}),ue.jsx("p",{children:"By incorporating detailed road slope data, this work aims to bridge the gap between simulated and real-world driving conditions. The enhanced realism enables more accurate testing of ADAS and autonomous driving technologies. This thesis delves into how custom soft-body physics engines and adaptable road models contribute to more reliable and immersive simulations, making it ideal for both academic and industry applications."})]})}),ue.jsx(Co,{children:ue.jsxs(so,{md:12,className:"blur",children:[ue.jsx("h2",{children:"Introduction"}),ue.jsx("p",{children:"As the complexity of modern driver training systems, ADAS, and autonomous driving technologies continues to grow, the demand for hyper-realistic simulation platforms becomes more pronounced. These platforms are indispensable for safely testing complex driving scenarios without exposing vehicles or drivers to real-world risks. However, one of the significant hurdles is accurately modeling real-world conditions such as road geometry, traffic patterns, and environmental factors like slopes."}),ue.jsx("p",{children:"This research leverages platforms like BeamNG.tech and Hexagons Virtual Test Drive (VTD) to improve the accuracy of road simulations. A major innovation of this thesis is the integration of OpenStreetMap (OSM) road data with a specific focus on road slopes, a critical factor in vehicle dynamics. This addition allows for a more realistic replication of how vehicles interact with varying terrain, which is essential for ADAS testing and the development of autonomous agents."}),ue.jsx("p",{children:"By focusing on the customization of simulation inputs, this research enhances the ability of simulation platforms to more closely mirror real-world driving environments. The study compares the performance of standard road data imports against customized imports, ultimately demonstrating how improved realism can lead to better development and testing outcomes."})]})}),ue.jsx(Co,{children:ue.jsxs(so,{md:12,className:"blur",children:[ue.jsx("h2",{children:"Resources"}),ue.jsx("p",{children:ue.jsx(Ar,{to:"https://drive.google.com/file/d/1siuiS3j4CdlGHEfWTbJEy1xZIaBR9Jmx/view?usp=sharing",target:"_blank",children:"thesis"})}),ue.jsx("p",{children:ue.jsx(Ar,{to:"https://drive.google.com/file/d/1mmctSXk7NwZpZN3yfJdmJLWTZgccr9b0/view?usp=sharing",target:"_blank",children:"presentation"})}),ue.jsx("p",{children:ue.jsx(Ar,{to:"https://github.com/gianlucafabris/BeamNGpy---Road-test",target:"_blank",children:"Github - BeamNGpy - Road test"})}),ue.jsx("p",{children:ue.jsx(Ar,{to:"https://github.com/gianlucafabris/Import-OSM-custom",target:"_blank",children:"Github - Import OSM custom"})}),ue.jsx("p",{children:ue.jsx(Ar,{to:"https://github.com/gianlucafabris/Import-OSM-custom---analysis-BeamNG-and-Hexagon",target:"_blank",children:"Github - Import OSM custom - analysis BeamNG and Hexagon"})})]})})]})}function _he(n,e){typeof n=="function"?n(e):n!=null&&(n.current=e)}function bhe(...n){return e=>n.forEach(t=>_he(t,e))}const MB=z.forwardRef((n,e)=>{const{children:t,...i}=n,r=z.Children.toArray(t),s=r.find(She);if(s){const a=s.props.children,o=r.map(l=>l===s?z.Children.count(a)>1?z.Children.only(null):z.isValidElement(a)?a.props.children:null:l);return z.createElement(yA,ds({},i,{ref:e}),z.isValidElement(a)?z.cloneElement(a,void 0,o):null)}return z.createElement(yA,ds({},i,{ref:e}),t)});MB.displayName="Slot";const yA=z.forwardRef((n,e)=>{const{children:t,...i}=n;return z.isValidElement(t)?z.cloneElement(t,{...whe(i,t.props),ref:bhe(e,t.ref)}):z.Children.count(t)>1?z.Children.only(null):null});yA.displayName="SlotClone";const xhe=({children:n})=>z.createElement(z.Fragment,null,n);function She(n){return z.isValidElement(n)&&n.type===xhe}function whe(n,e){const t={...e};for(const i in e){const r=n[i],s=e[i];/^on[A-Z]/.test(i)?r&&s?t[i]=(...o)=>{s(...o),r(...o)}:r&&(t[i]=r):i==="style"?t[i]={...r,...s}:i==="className"&&(t[i]=[r,s].filter(Boolean).join(" "))}return{...n,...t}}const Ehe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],The=Ehe.reduce((n,e)=>{const t=z.forwardRef((i,r)=>{const{asChild:s,...a}=i,o=s?MB:e;return z.useEffect(()=>{window[Symbol.for("radix-ui")]=!0},[]),z.createElement(o,ds({},a,{ref:r}))});return t.displayName=`Primitive.${e}`,{...n,[e]:t}},{}),Mhe=z.forwardRef((n,e)=>{var t;const{container:i=globalThis==null||(t=globalThis.document)===null||t===void 0?void 0:t.body,...r}=n;return i?Zm.createPortal(z.createElement(The.div,ds({},r,{ref:e})),i):null}),Ahe=Mhe;var l4=Object.prototype.hasOwnProperty;function P_(n,e){var t,i;if(n===e)return!0;if(n&&e&&(t=n.constructor)===e.constructor){if(t===Date)return n.getTime()===e.getTime();if(t===RegExp)return n.toString()===e.toString();if(t===Array){if((i=n.length)===e.length)for(;i--&&P_(n[i],e[i]););return i===-1}if(!t||typeof n=="object"){i=0;for(t in n)if(l4.call(n,t)&&++i&&!l4.call(e,t)||!(t in e)||!P_(n[t],e[t]))return!1;return Object.keys(e).length===i}}return n!==n&&e!==e}function lE(n,e){if(Object.is(n,e))return!0;if(typeof n!="object"||n===null||typeof e!="object"||e===null)return!1;const t=Object.keys(n);if(t.length!==Object.keys(e).length)return!1;for(let i=0;i<t.length;i++)if(!Object.prototype.hasOwnProperty.call(e,t[i])||!Object.is(n[t[i]],e[t[i]]))return!1;return!0}var cE=function(e,t,i,r){this.name=e,this.fn=t,this.args=i,this.modifiers=r};cE.prototype._test=function(e){var t=this.fn;try{ny(this.modifiers.slice(),t,this)(e)}catch{t=function(){return!1}}try{return ny(this.modifiers.slice(),t,this)(e)}catch{return!1}};cE.prototype._check=function(e){try{ny(this.modifiers.slice(),this.fn,this)(e)}catch{if(ny(this.modifiers.slice(),function(i){return i},this)(!1))return}if(!ny(this.modifiers.slice(),this.fn,this)(e))throw null};cE.prototype._testAsync=function(e){var t=this;return new Promise(function(i,r){CB(t.modifiers.slice(),t.fn,t)(e).then(function(s){s?i(e):r(null)}).catch(function(s){return r(s)})})};function AB(n,e){return e===void 0&&(e="simple"),typeof n=="object"?n[e]:n}function ny(n,e,t){if(n.length){var i=n.shift(),r=ny(n,e,t);return i.perform(r,t)}else return AB(e)}function CB(n,e,t){if(n.length){var i=n.shift(),r=CB(n,e,t);return i.performAsync(r,t)}else return function(s){return Promise.resolve(AB(e,"async")(s))}}var Che=function(e,t,i){this.name=e,this.perform=t,this.performAsync=i},dR=(function(n){function e(t,i,r,s){for(var a=[],o=arguments.length-4;o-- >0;)a[o]=arguments[o+4];n.call(this,a),n.captureStackTrace&&n.captureStackTrace(this,e),this.rule=t,this.value=i,this.cause=r,this.target=s}return n&&(e.__proto__=n),e.prototype=Object.create(n&&n.prototype),e.prototype.constructor=e,e})(Error),dh=function(e,t){e===void 0&&(e=[]),t===void 0&&(t=[]),this.chain=e,this.nextRuleModifiers=t};dh.prototype._applyRule=function(e,t){var i=this;return function(){for(var r=[],s=arguments.length;s--;)r[s]=arguments[s];return i.chain.push(new cE(t,e.apply(i,r),r,i.nextRuleModifiers)),i.nextRuleModifiers=[],i}};dh.prototype._applyModifier=function(e,t){return this.nextRuleModifiers.push(new Che(t,e.simple,e.async)),this};dh.prototype._clone=function(){return new dh(this.chain.slice(),this.nextRuleModifiers.slice())};dh.prototype.test=function(e){return this.chain.every(function(t){return t._test(e)})};dh.prototype.testAll=function(e){var t=[];return this.chain.forEach(function(i){try{i._check(e)}catch(r){t.push(new dR(i,e,r))}}),t};dh.prototype.check=function(e){this.chain.forEach(function(t){try{t._check(e)}catch(i){throw new dR(t,e,i)}})};dh.prototype.testAsync=function(e){var t=this;return new Promise(function(i,r){RB(e,t.chain.slice(),i,r)})};function RB(n,e,t,i){if(e.length){var r=e.shift();r._testAsync(n).then(function(){RB(n,e,t,i)},function(s){i(new dR(r,n,s))})}else t(n)}var c4=function(n,e){return e&&typeof n=="string"&&n.trim().length===0?!0:n==null};function Rhe(n,e){return e===void 0&&(e=!1),{simple:function(t){return c4(t,e)||n.check(t)===void 0},async:function(t){return c4(t,e)||n.testAsync(t)}}}function hc(){return typeof Proxy<"u"?OB(new dh):_A(new dh)}var D_={};hc.extend=function(n){Object.assign(D_,n)};hc.clearCustomRules=function(){D_={}};function OB(n){return new Proxy(n,{get:function(t,i){if(i in t)return t[i];var r=OB(n._clone());if(i in XS)return r._applyModifier(XS[i],i);if(i in D_)return r._applyRule(D_[i],i);if(i in bA)return r._applyRule(bA[i],i)}})}function _A(n){var e=function(r,s){return Object.keys(r).forEach(function(a){s[a]=function(){for(var o=[],l=arguments.length;l--;)o[l]=arguments[l];var u=_A(s._clone()),d=u._applyRule(r[a],a).apply(void 0,o);return d}}),s},t=e(bA,n),i=e(D_,t);return Object.keys(XS).forEach(function(r){Object.defineProperty(i,r,{get:function(){var s=_A(i._clone());return s._applyModifier(XS[r],r)}})}),i}var XS={not:{simple:function(n){return function(e){return!n(e)}},async:function(n){return function(e){return Promise.resolve(n(e)).then(function(t){return!t}).catch(function(){return!0})}}},some:{simple:function(n){return function(e){return vx(e).some(function(t){try{return n(t)}catch{return!1}})}},async:function(n){return function(e){return Promise.all(vx(e).map(function(t){try{return n(t).catch(function(){return!1})}catch{return!1}})).then(function(t){return t.some(Boolean)})}}},every:{simple:function(n){return function(e){return e!==!1&&vx(e).every(n)}},async:function(n){return function(e){return Promise.all(vx(e).map(n)).then(function(t){return t.every(Boolean)})}}},strict:{simple:function(n,e){return function(t){return u4(e)&&t&&typeof t=="object"?Object.keys(e.args[0]).length===Object.keys(t).length&&n(t):n(t)}},async:function(n,e){return function(t){return Promise.resolve(n(t)).then(function(i){return u4(e)&&t&&typeof t=="object"?Object.keys(e.args[0]).length===Object.keys(t).length&&i:i}).catch(function(){return!1})}}}};function u4(n){return n&&n.name==="schema"&&n.args.length>0&&typeof n.args[0]=="object"}function vx(n){return typeof n=="string"?n.split(""):n}var bA={equal:function(n){return function(e){return e==n}},exact:function(n){return function(e){return e===n}},number:function(n){return n===void 0&&(n=!0),function(e){return typeof e=="number"&&(n||isFinite(e))}},integer:function(){return function(n){var e=Number.isInteger||Ohe;return e(n)}},numeric:function(){return function(n){return!isNaN(parseFloat(n))&&isFinite(n)}},string:function(){return zv("string")},boolean:function(){return zv("boolean")},undefined:function(){return zv("undefined")},null:function(){return zv("null")},array:function(){return zv("array")},object:function(){return zv("object")},instanceOf:function(n){return function(e){return e instanceof n}},pattern:function(n){return function(e){return n.test(e)}},lowercase:function(){return function(n){return typeof n=="boolean"||n===n.toLowerCase()&&n.trim()!==""}},uppercase:function(){return function(n){return n===n.toUpperCase()&&n.trim()!==""}},vowel:function(){return function(n){return/^[aeiou]+$/i.test(n)}},consonant:function(){return function(n){return/^(?=[^aeiou])([a-z]+)$/i.test(n)}},first:function(n){return function(e){return e[0]==n}},last:function(n){return function(e){return e[e.length-1]==n}},empty:function(){return function(n){return n.length===0}},length:function(n,e){return function(t){return t.length>=n&&t.length<=(e||n)}},minLength:function(n){return function(e){return e.length>=n}},maxLength:function(n){return function(e){return e.length<=n}},negative:function(){return function(n){return n<0}},positive:function(){return function(n){return n>=0}},between:function(n,e){return function(t){return t>=n&&t<=e}},range:function(n,e){return function(t){return t>=n&&t<=e}},lessThan:function(n){return function(e){return e<n}},lessThanOrEqual:function(n){return function(e){return e<=n}},greaterThan:function(n){return function(e){return e>n}},greaterThanOrEqual:function(n){return function(e){return e>=n}},even:function(){return function(n){return n%2===0}},odd:function(){return function(n){return n%2!==0}},includes:function(n){return function(e){return~e.indexOf(n)}},schema:function(n){return Phe(n)},passesAnyOf:function(){for(var n=[],e=arguments.length;e--;)n[e]=arguments[e];return function(t){return n.some(function(i){return i.test(t)})}},optional:Rhe};function zv(n){return function(e){return Array.isArray(e)&&n==="array"||e===null&&n==="null"||typeof e===n}}function Ohe(n){return typeof n=="number"&&isFinite(n)&&Math.floor(n)===n}function Phe(n){return{simple:function(e){var t=[];if(Object.keys(n).forEach(function(i){var r=n[i];try{r.check((e||{})[i])}catch(s){s.target=i,t.push(s)}}),t.length>0)throw t;return!0},async:function(e){var t=[],i=Object.keys(n).map(function(r){var s=n[r];return s.testAsync((e||{})[r]).catch(function(a){a.target=r,t.push(a)})});return Promise.all(i).then(function(){if(t.length>0)throw t;return!0})}}}var Zr="colors",Ol="sizes",Dn="space",Dhe={gap:Dn,gridGap:Dn,columnGap:Dn,gridColumnGap:Dn,rowGap:Dn,gridRowGap:Dn,inset:Dn,insetBlock:Dn,insetBlockEnd:Dn,insetBlockStart:Dn,insetInline:Dn,insetInlineEnd:Dn,insetInlineStart:Dn,margin:Dn,marginTop:Dn,marginRight:Dn,marginBottom:Dn,marginLeft:Dn,marginBlock:Dn,marginBlockEnd:Dn,marginBlockStart:Dn,marginInline:Dn,marginInlineEnd:Dn,marginInlineStart:Dn,padding:Dn,paddingTop:Dn,paddingRight:Dn,paddingBottom:Dn,paddingLeft:Dn,paddingBlock:Dn,paddingBlockEnd:Dn,paddingBlockStart:Dn,paddingInline:Dn,paddingInlineEnd:Dn,paddingInlineStart:Dn,top:Dn,right:Dn,bottom:Dn,left:Dn,scrollMargin:Dn,scrollMarginTop:Dn,scrollMarginRight:Dn,scrollMarginBottom:Dn,scrollMarginLeft:Dn,scrollMarginX:Dn,scrollMarginY:Dn,scrollMarginBlock:Dn,scrollMarginBlockEnd:Dn,scrollMarginBlockStart:Dn,scrollMarginInline:Dn,scrollMarginInlineEnd:Dn,scrollMarginInlineStart:Dn,scrollPadding:Dn,scrollPaddingTop:Dn,scrollPaddingRight:Dn,scrollPaddingBottom:Dn,scrollPaddingLeft:Dn,scrollPaddingX:Dn,scrollPaddingY:Dn,scrollPaddingBlock:Dn,scrollPaddingBlockEnd:Dn,scrollPaddingBlockStart:Dn,scrollPaddingInline:Dn,scrollPaddingInlineEnd:Dn,scrollPaddingInlineStart:Dn,fontSize:"fontSizes",background:Zr,backgroundColor:Zr,backgroundImage:Zr,borderImage:Zr,border:Zr,borderBlock:Zr,borderBlockEnd:Zr,borderBlockStart:Zr,borderBottom:Zr,borderBottomColor:Zr,borderColor:Zr,borderInline:Zr,borderInlineEnd:Zr,borderInlineStart:Zr,borderLeft:Zr,borderLeftColor:Zr,borderRight:Zr,borderRightColor:Zr,borderTop:Zr,borderTopColor:Zr,caretColor:Zr,color:Zr,columnRuleColor:Zr,fill:Zr,outline:Zr,outlineColor:Zr,stroke:Zr,textDecorationColor:Zr,fontFamily:"fonts",fontWeight:"fontWeights",lineHeight:"lineHeights",letterSpacing:"letterSpacings",blockSize:Ol,minBlockSize:Ol,maxBlockSize:Ol,inlineSize:Ol,minInlineSize:Ol,maxInlineSize:Ol,width:Ol,minWidth:Ol,maxWidth:Ol,height:Ol,minHeight:Ol,maxHeight:Ol,flexBasis:Ol,gridTemplateColumns:Ol,gridTemplateRows:Ol,borderWidth:"borderWidths",borderTopWidth:"borderWidths",borderRightWidth:"borderWidths",borderBottomWidth:"borderWidths",borderLeftWidth:"borderWidths",borderStyle:"borderStyles",borderTopStyle:"borderStyles",borderRightStyle:"borderStyles",borderBottomStyle:"borderStyles",borderLeftStyle:"borderStyles",borderRadius:"radii",borderTopLeftRadius:"radii",borderTopRightRadius:"radii",borderBottomRightRadius:"radii",borderBottomLeftRadius:"radii",boxShadow:"shadows",textShadow:"shadows",transition:"transitions",zIndex:"zIndices"},Lhe=(n,e)=>typeof e=="function"?{"()":Function.prototype.toString.call(e)}:e,Oy=()=>{const n=Object.create(null);return(e,t,...i)=>{const r=(s=>JSON.stringify(s,Lhe))(e);return r in n?n[r]:n[r]=t(e,...i)}},hg=Symbol.for("sxs.internal"),pR=(n,e)=>Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)),f4=n=>{for(const e in n)return!0;return!1},{hasOwnProperty:Nhe}=Object.prototype,xA=n=>n.includes("-")?n:n.replace(/[A-Z]/g,(e=>"-"+e.toLowerCase())),Ihe=/\s+(?![^()]*\))/,Uv=n=>e=>n(...typeof e=="string"?String(e).split(Ihe):[e]),h4={appearance:n=>({WebkitAppearance:n,appearance:n}),backfaceVisibility:n=>({WebkitBackfaceVisibility:n,backfaceVisibility:n}),backdropFilter:n=>({WebkitBackdropFilter:n,backdropFilter:n}),backgroundClip:n=>({WebkitBackgroundClip:n,backgroundClip:n}),boxDecorationBreak:n=>({WebkitBoxDecorationBreak:n,boxDecorationBreak:n}),clipPath:n=>({WebkitClipPath:n,clipPath:n}),content:n=>({content:n.includes('"')||n.includes("'")||/^([A-Za-z]+\([^]*|[^]*-quote|inherit|initial|none|normal|revert|unset)$/.test(n)?n:`"${n}"`}),hyphens:n=>({WebkitHyphens:n,hyphens:n}),maskImage:n=>({WebkitMaskImage:n,maskImage:n}),maskSize:n=>({WebkitMaskSize:n,maskSize:n}),tabSize:n=>({MozTabSize:n,tabSize:n}),textSizeAdjust:n=>({WebkitTextSizeAdjust:n,textSizeAdjust:n}),userSelect:n=>({WebkitUserSelect:n,userSelect:n}),marginBlock:Uv(((n,e)=>({marginBlockStart:n,marginBlockEnd:e||n}))),marginInline:Uv(((n,e)=>({marginInlineStart:n,marginInlineEnd:e||n}))),maxSize:Uv(((n,e)=>({maxBlockSize:n,maxInlineSize:e||n}))),minSize:Uv(((n,e)=>({minBlockSize:n,minInlineSize:e||n}))),paddingBlock:Uv(((n,e)=>({paddingBlockStart:n,paddingBlockEnd:e||n}))),paddingInline:Uv(((n,e)=>({paddingInlineStart:n,paddingInlineEnd:e||n})))},jM=/([\d.]+)([^]*)/,zhe=(n,e)=>n.length?n.reduce(((t,i)=>(t.push(...e.map((r=>r.includes("&")?r.replace(/&/g,/[ +>|~]/.test(i)&&/&.*&/.test(r)?`:is(${i})`:i):i+" "+r))),t)),[]):e,Uhe=(n,e)=>n in Bhe&&typeof e=="string"?e.replace(/^((?:[^]*[^\w-])?)(fit-content|stretch)((?:[^\w-][^]*)?)$/,((t,i,r,s)=>i+(r==="stretch"?`-moz-available${s};${xA(n)}:${i}-webkit-fill-available`:`-moz-fit-content${s};${xA(n)}:${i}fit-content`)+s)):String(e),Bhe={blockSize:1,height:1,inlineSize:1,maxBlockSize:1,maxHeight:1,maxInlineSize:1,maxWidth:1,minBlockSize:1,minHeight:1,minInlineSize:1,minWidth:1,width:1},Ed=n=>n?n+"-":"",PB=(n,e,t)=>n.replace(/([+-])?((?:\d+(?:\.\d*)?|\.\d+)(?:[Ee][+-]?\d+)?)?(\$|--)([$\w-]+)/g,((i,r,s,a,o)=>a=="$"==!!s?i:(r||a=="--"?"calc(":"")+"var(--"+(a==="$"?Ed(e)+(o.includes("$")?"":Ed(t))+o.replace(/\$/g,"-"):o)+")"+(r||a=="--"?"*"+(r||"")+(s||"1")+")":""))),khe=/\s*,\s*(?![^()]*\))/,Hhe=Object.prototype.toString,qv=(n,e,t,i,r)=>{let s,a,o;const l=(u,d,m)=>{let v,y;const x=T=>{for(v in T){const P=v.charCodeAt(0)===64,D=P&&Array.isArray(T[v])?T[v]:[T[v]];for(y of D){const N=/[A-Z]/.test(w=v)?w:w.replace(/-[^]/g,(k=>k[1].toUpperCase())),G=typeof y=="object"&&y&&y.toString===Hhe&&(!i.utils[N]||!d.length);if(N in i.utils&&!G){const k=i.utils[N];if(k!==a){a=k,x(k(y)),a=null;continue}}else if(N in h4){const k=h4[N];if(k!==o){o=k,x(k(y)),o=null;continue}}if(P&&(E=v.slice(1)in i.media?"@media "+i.media[v.slice(1)]:v,v=E.replace(/\(\s*([\w-]+)\s*(=|<|<=|>|>=)\s*([\w-]+)\s*(?:(<|<=|>|>=)\s*([\w-]+)\s*)?\)/g,((k,M,$,V,H,ee)=>{const pe=jM.test(M),ae=.0625*(pe?-1:1),[ye,Te]=pe?[V,M]:[M,V];return"("+($[0]==="="?"":$[0]===">"===pe?"max-":"min-")+ye+":"+($[0]!=="="&&$.length===1?Te.replace(jM,((J,de,he)=>Number(de)+ae*($===">"?1:-1)+he)):Te)+(H?") and ("+(H[0]===">"?"min-":"max-")+ye+":"+(H.length===1?ee.replace(jM,((J,de,he)=>Number(de)+ae*(H===">"?-1:1)+he)):ee):"")+")"}))),G){const k=P?m.concat(v):[...m],M=P?[...d]:zhe(d,v.split(khe));s!==void 0&&r(d4(...s)),s=void 0,l(y,M,k)}else s===void 0&&(s=[[],d,m]),v=P||v.charCodeAt(0)!==36?v:`--${Ed(i.prefix)}${v.slice(1).replace(/\$/g,"-")}`,y=G?y:typeof y=="number"?y&&N in Fhe?String(y)+"px":String(y):PB(Uhe(N,y??""),i.prefix,i.themeMap[N]),s[0].push(`${P?`${v} `:`${xA(v)}:`}${y}`)}}var E,w};x(u),s!==void 0&&r(d4(...s)),s=void 0};l(n,e,t)},d4=(n,e,t)=>`${t.map((i=>`${i}{`)).join("")}${e.length?`${e.join(",")}{`:""}${n.join(";")}${e.length?"}":""}${Array(t.length?t.length+1:0).join("}")}`,Fhe={animationDelay:1,animationDuration:1,backgroundSize:1,blockSize:1,border:1,borderBlock:1,borderBlockEnd:1,borderBlockEndWidth:1,borderBlockStart:1,borderBlockStartWidth:1,borderBlockWidth:1,borderBottom:1,borderBottomLeftRadius:1,borderBottomRightRadius:1,borderBottomWidth:1,borderEndEndRadius:1,borderEndStartRadius:1,borderInlineEnd:1,borderInlineEndWidth:1,borderInlineStart:1,borderInlineStartWidth:1,borderInlineWidth:1,borderLeft:1,borderLeftWidth:1,borderRadius:1,borderRight:1,borderRightWidth:1,borderSpacing:1,borderStartEndRadius:1,borderStartStartRadius:1,borderTop:1,borderTopLeftRadius:1,borderTopRightRadius:1,borderTopWidth:1,borderWidth:1,bottom:1,columnGap:1,columnRule:1,columnRuleWidth:1,columnWidth:1,containIntrinsicSize:1,flexBasis:1,fontSize:1,gap:1,gridAutoColumns:1,gridAutoRows:1,gridTemplateColumns:1,gridTemplateRows:1,height:1,inlineSize:1,inset:1,insetBlock:1,insetBlockEnd:1,insetBlockStart:1,insetInline:1,insetInlineEnd:1,insetInlineStart:1,left:1,letterSpacing:1,margin:1,marginBlock:1,marginBlockEnd:1,marginBlockStart:1,marginBottom:1,marginInline:1,marginInlineEnd:1,marginInlineStart:1,marginLeft:1,marginRight:1,marginTop:1,maxBlockSize:1,maxHeight:1,maxInlineSize:1,maxWidth:1,minBlockSize:1,minHeight:1,minInlineSize:1,minWidth:1,offsetDistance:1,offsetRotate:1,outline:1,outlineOffset:1,outlineWidth:1,overflowClipMargin:1,padding:1,paddingBlock:1,paddingBlockEnd:1,paddingBlockStart:1,paddingBottom:1,paddingInline:1,paddingInlineEnd:1,paddingInlineStart:1,paddingLeft:1,paddingRight:1,paddingTop:1,perspective:1,right:1,rowGap:1,scrollMargin:1,scrollMarginBlock:1,scrollMarginBlockEnd:1,scrollMarginBlockStart:1,scrollMarginBottom:1,scrollMarginInline:1,scrollMarginInlineEnd:1,scrollMarginInlineStart:1,scrollMarginLeft:1,scrollMarginRight:1,scrollMarginTop:1,scrollPadding:1,scrollPaddingBlock:1,scrollPaddingBlockEnd:1,scrollPaddingBlockStart:1,scrollPaddingBottom:1,scrollPaddingInline:1,scrollPaddingInlineEnd:1,scrollPaddingInlineStart:1,scrollPaddingLeft:1,scrollPaddingRight:1,scrollPaddingTop:1,shapeMargin:1,textDecoration:1,textDecorationThickness:1,textIndent:1,textUnderlineOffset:1,top:1,transitionDelay:1,transitionDuration:1,verticalAlign:1,width:1,wordSpacing:1},p4=n=>String.fromCharCode(n+(n>25?39:97)),dg=n=>(e=>{let t,i="";for(t=Math.abs(e);t>52;t=t/52|0)i=p4(t%52)+i;return p4(t%52)+i})(((e,t)=>{let i=t.length;for(;i;)e=33*e^t.charCodeAt(--i);return e})(5381,JSON.stringify(n))>>>0),H0=["themed","global","styled","onevar","resonevar","allvar","inline"],Vhe=n=>{if(n.href&&!n.href.startsWith(location.origin))return!1;try{return!!n.cssRules}catch{return!1}},Ghe=n=>{let e;const t=()=>{const{cssRules:r}=e.sheet;return[].map.call(r,((s,a)=>{const{cssText:o}=s;let l="";if(o.startsWith("--sxs"))return"";if(r[a-1]&&(l=r[a-1].cssText).startsWith("--sxs")){if(!s.cssRules.length)return"";for(const u in e.rules)if(e.rules[u].group===s)return`--sxs{--sxs:${[...e.rules[u].cache].join(" ")}}${o}`;return s.cssRules.length?`${l}${o}`:""}return o})).join("")},i=()=>{if(e){const{rules:o,sheet:l}=e;if(!l.deleteRule){for(;Object(Object(l.cssRules)[0]).type===3;)l.cssRules.splice(0,1);l.cssRules=[]}for(const u in o)delete o[u]}const r=Object(n).styleSheets||[];for(const o of r)if(Vhe(o)){for(let l=0,u=o.cssRules;u[l];++l){const d=Object(u[l]);if(d.type!==1)continue;const m=Object(u[l+1]);if(m.type!==4)continue;++l;const{cssText:v}=d;if(!v.startsWith("--sxs"))continue;const y=v.slice(14,-3).trim().split(/\s+/),x=H0[y[0]];x&&(e||(e={sheet:o,reset:i,rules:{},toString:t}),e.rules[x]={group:m,index:l,cache:new Set(y)})}if(e)break}if(!e){const o=(l,u)=>({type:u,cssRules:[],insertRule(d,m){this.cssRules.splice(m,0,o(d,{import:3,undefined:1}[(d.toLowerCase().match(/^@([a-z]+)/)||[])[1]]||4))},get cssText(){return l==="@media{}"?`@media{${[].map.call(this.cssRules,(d=>d.cssText)).join("")}}`:l}});e={sheet:n?(n.head||n).appendChild(document.createElement("style")).sheet:o("","text/css"),rules:{},reset:i,toString:t}}const{sheet:s,rules:a}=e;for(let o=H0.length-1;o>=0;--o){const l=H0[o];if(!a[l]){const u=H0[o+1],d=a[u]?a[u].index:s.cssRules.length;s.insertRule("@media{}",d),s.insertRule(`--sxs{--sxs:${o}}`,d),a[l]={group:s.cssRules[d+1],index:d,cache:new Set([o])}}jhe(a[l])}};return i(),e},jhe=n=>{const e=n.group;let t=e.cssRules.length;n.apply=i=>{try{e.insertRule(i,t),++t}catch{}}},L0=Symbol(),$he=Oy(),m4=(n,e)=>$he(n,(()=>(...t)=>{let i={type:null,composers:new Set};for(const r of t)if(r!=null)if(r[hg]){i.type==null&&(i.type=r[hg].type);for(const s of r[hg].composers)i.composers.add(s)}else r.constructor!==Object||r.$$typeof?i.type==null&&(i.type=r):i.composers.add(qhe(r,n));return i.type==null&&(i.type="span"),i.composers.size||i.composers.add(["PJLV",{},[],[],{},[]]),Whe(n,i,e)})),qhe=({variants:n,compoundVariants:e,defaultVariants:t,...i},r)=>{const s=`${Ed(r.prefix)}c-${dg(i)}`,a=[],o=[],l=Object.create(null),u=[];for(const v in t)l[v]=String(t[v]);if(typeof n=="object"&&n)for(const v in n){d=l,m=v,Nhe.call(d,m)||(l[v]="undefined");const y=n[v];for(const x in y){const T={[v]:String(x)};String(x)==="undefined"&&u.push(v);const E=y[x],w=[T,E,!f4(E)];a.push(w)}}var d,m;if(typeof e=="object"&&e)for(const v of e){let{css:y,...x}=v;y=typeof y=="object"&&y||{};for(const E in x)x[E]=String(x[E]);const T=[x,y,!f4(y)];o.push(T)}return[s,i,a,o,l,u]},Whe=(n,e,t)=>{const[i,r,s,a]=Xhe(e.composers),o=typeof e.type=="function"||e.type.$$typeof?(m=>{function v(){for(let y=0;y<v[L0].length;y++){const[x,T]=v[L0][y];m.rules[x].apply(T)}return v[L0]=[],null}return v[L0]=[],v.rules={},H0.forEach((y=>v.rules[y]={apply:x=>v[L0].push([y,x])})),v})(t):null,l=(o||t).rules,u=`.${i}${r.length>1?`:where(.${r.slice(1).join(".")})`:""}`,d=m=>{m=typeof m=="object"&&m||Yhe;const{css:v,...y}=m,x={};for(const w in s)if(delete y[w],w in m){let P=m[w];typeof P=="object"&&P?x[w]={"@initial":s[w],...P}:(P=String(P),x[w]=P!=="undefined"||a.has(w)?P:s[w])}else x[w]=s[w];const T=new Set([...r]);for(const[w,P,D,N]of e.composers){t.rules.styled.cache.has(w)||(t.rules.styled.cache.add(w),qv(P,[`.${w}`],[],n,(M=>{l.styled.apply(M)})));const G=g4(D,x,n.media),k=g4(N,x,n.media,!0);for(const M of G)if(M!==void 0)for(const[$,V,H]of M){const ee=`${w}-${dg(V)}-${$}`;T.add(ee);const pe=(H?t.rules.resonevar:t.rules.onevar).cache,ae=H?l.resonevar:l.onevar;pe.has(ee)||(pe.add(ee),qv(V,[`.${ee}`],[],n,(ye=>{ae.apply(ye)})))}for(const M of k)if(M!==void 0)for(const[$,V]of M){const H=`${w}-${dg(V)}-${$}`;T.add(H),t.rules.allvar.cache.has(H)||(t.rules.allvar.cache.add(H),qv(V,[`.${H}`],[],n,(ee=>{l.allvar.apply(ee)})))}}if(typeof v=="object"&&v){const w=`${i}-i${dg(v)}-css`;T.add(w),t.rules.inline.cache.has(w)||(t.rules.inline.cache.add(w),qv(v,[`.${w}`],[],n,(P=>{l.inline.apply(P)})))}for(const w of String(m.className||"").trim().split(/\s+/))w&&T.add(w);const E=y.className=[...T].join(" ");return{type:e.type,className:E,selector:u,props:y,toString:()=>E,deferredInjector:o}};return pR(d,{className:i,selector:u,[hg]:e,toString:()=>(t.rules.styled.cache.has(i)||d(),i)})},Xhe=n=>{let e="";const t=[],i={},r=[];for(const[s,,,,a,o]of n){e===""&&(e=s),t.push(s),r.push(...o);for(const l in a){const u=a[l];(i[l]===void 0||u!=="undefined"||o.includes(u))&&(i[l]=u)}}return[e,t,i,new Set(r)]},g4=(n,e,t,i)=>{const r=[];e:for(let[s,a,o]of n){if(o)continue;let l,u=0,d=!1;for(l in s){const m=s[l];let v=e[l];if(v!==m){if(typeof v!="object"||!v)continue e;{let y,x,T=0;for(const E in v){if(m===String(v[E])){if(E!=="@initial"){const w=E.slice(1);(x=x||[]).push(w in t?t[w]:E.replace(/^@media ?/,"")),d=!0}u+=T,y=!0}++T}if(x&&x.length&&(a={["@media "+x.join(", ")]:a}),!y)continue e}}}(r[u]=r[u]||[]).push([i?"cv":`${l}-${s[l]}`,a,d])}return r},Yhe={},Zhe=Oy(),Khe=(n,e)=>Zhe(n,(()=>(...t)=>{const i=()=>{for(let r of t){r=typeof r=="object"&&r||{};let s=dg(r);if(!e.rules.global.cache.has(s)){if(e.rules.global.cache.add(s),"@import"in r){let a=[].indexOf.call(e.sheet.cssRules,e.rules.themed.group)-1;for(let o of[].concat(r["@import"]))o=o.includes('"')||o.includes("'")?o:`"${o}"`,e.sheet.insertRule(`@import ${o};`,a++);delete r["@import"]}qv(r,[],[],n,(a=>{e.rules.global.apply(a)}))}}return""};return pR(i,{toString:i})})),Qhe=Oy(),Jhe=(n,e)=>Qhe(n,(()=>t=>{const i=`${Ed(n.prefix)}k-${dg(t)}`,r=()=>{if(!e.rules.global.cache.has(i)){e.rules.global.cache.add(i);const s=[];qv(t,[],[],n,(o=>s.push(o)));const a=`@keyframes ${i}{${s.join("")}}`;e.rules.global.apply(a)}return i};return pR(r,{get name(){return r()},toString:r})})),ede=class{constructor(n,e,t,i){this.token=n==null?"":String(n),this.value=e==null?"":String(e),this.scale=t==null?"":String(t),this.prefix=i==null?"":String(i)}get computedValue(){return"var("+this.variable+")"}get variable(){return"--"+Ed(this.prefix)+Ed(this.scale)+this.token}toString(){return this.computedValue}},tde=Oy(),nde=(n,e)=>tde(n,(()=>(t,i)=>{i=typeof t=="object"&&t||Object(i);const r=`.${t=(t=typeof t=="string"?t:"")||`${Ed(n.prefix)}t-${dg(i)}`}`,s={},a=[];for(const l in i){s[l]={};for(const u in i[l]){const d=`--${Ed(n.prefix)}${l}-${u}`,m=PB(String(i[l][u]),n.prefix,l);s[l][u]=new ede(u,m,l,n.prefix),a.push(`${d}:${m}`)}}const o=()=>{if(a.length&&!e.rules.themed.cache.has(t)){e.rules.themed.cache.add(t);const l=`${i===n.theme?":root,":""}.${t}{${a.join(";")}}`;e.rules.themed.apply(l)}return t};return{...s,get className(){return o()},selector:r,toString:o}})),ide=Oy(),rde=Oy(),sde=n=>{const e=(t=>{let i=!1;const r=ide(t,(s=>{i=!0;const a="prefix"in(s=typeof s=="object"&&s||{})?String(s.prefix):"",o=typeof s.media=="object"&&s.media||{},l=typeof s.root=="object"?s.root||null:globalThis.document||null,u=typeof s.theme=="object"&&s.theme||{},d={prefix:a,media:o,theme:u,themeMap:typeof s.themeMap=="object"&&s.themeMap||{...Dhe},utils:typeof s.utils=="object"&&s.utils||{}},m=Ghe(l),v={css:m4(d,m),globalCss:Khe(d,m),keyframes:Jhe(d,m),createTheme:nde(d,m),reset(){m.reset(),v.theme.toString()},theme:{},sheet:m,config:d,prefix:a,getCssText:m.toString,toString:m.toString};return String(v.theme=v.createTheme(u)),v}));return i||r.reset(),r})(n);return e.styled=(({config:t,sheet:i})=>rde(t,(()=>{const r=m4(t,i);return(...s)=>{const a=r(...s),o=a[hg].type,l=Se.forwardRef(((u,d)=>{const m=u&&u.as||o,{props:v,deferredInjector:y}=a(u);return delete v.as,v.ref=d,y?Se.createElement(Se.Fragment,null,Se.createElement(m,v),Se.createElement(y,null)):Se.createElement(m,v)}));return l.className=a.className,l.displayName=`Styled.${o.displayName||o.name||o}`,l.selector=a.selector,l.toString=()=>a.selector,l[hg]=a[hg],l}})))(e),e};function rd(n,e,{checkForDefaultPrevented:t=!0}={}){return function(r){if(n?.(r),t===!1||!r.defaultPrevented)return e?.(r)}}function ade(n,e){typeof n=="function"?n(e):n!=null&&(n.current=e)}function DB(...n){return e=>n.forEach(t=>ade(t,e))}function Py(...n){return z.useCallback(DB(...n),n)}function LB(n,e=[]){let t=[];function i(s,a){const o=z.createContext(a),l=t.length;t=[...t,a];function u(m){const{scope:v,children:y,...x}=m,T=v?.[n][l]||o,E=z.useMemo(()=>x,Object.values(x));return z.createElement(T.Provider,{value:E},y)}function d(m,v){const y=v?.[n][l]||o,x=z.useContext(y);if(x)return x;if(a!==void 0)return a;throw new Error(`\`${m}\` must be used within \`${s}\``)}return u.displayName=s+"Provider",[u,d]}const r=()=>{const s=t.map(a=>z.createContext(a));return function(o){const l=o?.[n]||s;return z.useMemo(()=>({[`__scope${n}`]:{...o,[n]:l}}),[o,l])}};return r.scopeName=n,[i,ode(r,...e)]}function ode(...n){const e=n[0];if(n.length===1)return e;const t=()=>{const i=n.map(r=>({useScope:r(),scopeName:r.scopeName}));return function(s){const a=i.reduce((o,{useScope:l,scopeName:u})=>{const m=l(s)[`__scope${u}`];return{...o,...m}},{});return z.useMemo(()=>({[`__scope${e.scopeName}`]:a}),[a])}};return t.scopeName=e.scopeName,t}const NB=z.forwardRef((n,e)=>{const{children:t,...i}=n,r=z.Children.toArray(t),s=r.find(lde);if(s){const a=s.props.children,o=r.map(l=>l===s?z.Children.count(a)>1?z.Children.only(null):z.isValidElement(a)?a.props.children:null:l);return z.createElement(SA,ds({},i,{ref:e}),z.isValidElement(a)?z.cloneElement(a,void 0,o):null)}return z.createElement(SA,ds({},i,{ref:e}),t)});NB.displayName="Slot";const SA=z.forwardRef((n,e)=>{const{children:t,...i}=n;return z.isValidElement(t)?z.cloneElement(t,{...cde(i,t.props),ref:DB(e,t.ref)}):z.Children.count(t)>1?z.Children.only(null):null});SA.displayName="SlotClone";const IB=({children:n})=>z.createElement(z.Fragment,null,n);function lde(n){return z.isValidElement(n)&&n.type===IB}function cde(n,e){const t={...e};for(const i in e){const r=n[i],s=e[i];/^on[A-Z]/.test(i)?r&&s?t[i]=(...o)=>{s(...o),r(...o)}:r&&(t[i]=r):i==="style"?t[i]={...r,...s}:i==="className"&&(t[i]=[r,s].filter(Boolean).join(" "))}return{...n,...t}}const ude=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],bg=ude.reduce((n,e)=>{const t=z.forwardRef((i,r)=>{const{asChild:s,...a}=i,o=s?NB:e;return z.useEffect(()=>{window[Symbol.for("radix-ui")]=!0},[]),z.createElement(o,ds({},a,{ref:r}))});return t.displayName=`Primitive.${e}`,{...n,[e]:t}},{});function fde(n,e){n&&fw.flushSync(()=>n.dispatchEvent(e))}function mR(n){const e=z.useRef(n);return z.useEffect(()=>{e.current=n}),z.useMemo(()=>(...t)=>{var i;return(i=e.current)===null||i===void 0?void 0:i.call(e,...t)},[])}function hde(n,e=globalThis?.document){const t=mR(n);z.useEffect(()=>{const i=r=>{r.key==="Escape"&&t(r)};return e.addEventListener("keydown",i),()=>e.removeEventListener("keydown",i)},[t,e])}const wA="dismissableLayer.update",dde="dismissableLayer.pointerDownOutside",pde="dismissableLayer.focusOutside";let v4;const mde=z.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),gde=z.forwardRef((n,e)=>{var t;const{disableOutsidePointerEvents:i=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:a,onInteractOutside:o,onDismiss:l,...u}=n,d=z.useContext(mde),[m,v]=z.useState(null),y=(t=m?.ownerDocument)!==null&&t!==void 0?t:globalThis?.document,[,x]=z.useState({}),T=Py(e,$=>v($)),E=Array.from(d.layers),[w]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),P=E.indexOf(w),D=m?E.indexOf(m):-1,N=d.layersWithOutsidePointerEventsDisabled.size>0,G=D>=P,k=vde($=>{const V=$.target,H=[...d.branches].some(ee=>ee.contains(V));!G||H||(s?.($),o?.($),$.defaultPrevented||l?.())},y),M=yde($=>{const V=$.target;[...d.branches].some(ee=>ee.contains(V))||(a?.($),o?.($),$.defaultPrevented||l?.())},y);return hde($=>{D===d.layers.size-1&&(r?.($),!$.defaultPrevented&&l&&($.preventDefault(),l()))},y),z.useEffect(()=>{if(m)return i&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(v4=y.body.style.pointerEvents,y.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(m)),d.layers.add(m),y4(),()=>{i&&d.layersWithOutsidePointerEventsDisabled.size===1&&(y.body.style.pointerEvents=v4)}},[m,y,i,d]),z.useEffect(()=>()=>{m&&(d.layers.delete(m),d.layersWithOutsidePointerEventsDisabled.delete(m),y4())},[m,d]),z.useEffect(()=>{const $=()=>x({});return document.addEventListener(wA,$),()=>document.removeEventListener(wA,$)},[]),z.createElement(bg.div,ds({},u,{ref:T,style:{pointerEvents:N?G?"auto":"none":void 0,...n.style},onFocusCapture:rd(n.onFocusCapture,M.onFocusCapture),onBlurCapture:rd(n.onBlurCapture,M.onBlurCapture),onPointerDownCapture:rd(n.onPointerDownCapture,k.onPointerDownCapture)}))});function vde(n,e=globalThis?.document){const t=mR(n),i=z.useRef(!1),r=z.useRef(()=>{});return z.useEffect(()=>{const s=o=>{if(o.target&&!i.current){let d=function(){zB(dde,t,u,{discrete:!0})};var l=d;const u={originalEvent:o};o.pointerType==="touch"?(e.removeEventListener("click",r.current),r.current=d,e.addEventListener("click",r.current,{once:!0})):d()}i.current=!1},a=window.setTimeout(()=>{e.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(a),e.removeEventListener("pointerdown",s),e.removeEventListener("click",r.current)}},[e,t]),{onPointerDownCapture:()=>i.current=!0}}function yde(n,e=globalThis?.document){const t=mR(n),i=z.useRef(!1);return z.useEffect(()=>{const r=s=>{s.target&&!i.current&&zB(pde,t,{originalEvent:s},{discrete:!1})};return e.addEventListener("focusin",r),()=>e.removeEventListener("focusin",r)},[e,t]),{onFocusCapture:()=>i.current=!0,onBlurCapture:()=>i.current=!1}}function y4(){const n=new CustomEvent(wA);document.dispatchEvent(n)}function zB(n,e,t,{discrete:i}){const r=t.originalEvent.target,s=new CustomEvent(n,{bubbles:!1,cancelable:!0,detail:t});e&&r.addEventListener(n,e,{once:!0}),i?fde(r,s):r.dispatchEvent(s)}const _de=globalThis?.document?z.useLayoutEffect:()=>{},bde=r8.useId||(()=>{});let xde=0;function Sde(n){const[e,t]=z.useState(bde());return _de(()=>{t(i=>i??String(xde++))},[n]),e?`radix-${e}`:""}function Cg(n){return n.split("-")[0]}function o1(n){return n.split("-")[1]}function Dy(n){return["top","bottom"].includes(Cg(n))?"x":"y"}function gR(n){return n==="y"?"height":"width"}function _4(n,e,t){let{reference:i,floating:r}=n;const s=i.x+i.width/2-r.width/2,a=i.y+i.height/2-r.height/2,o=Dy(e),l=gR(o),u=i[l]/2-r[l]/2,d=o==="x";let m;switch(Cg(e)){case"top":m={x:s,y:i.y-r.height};break;case"bottom":m={x:s,y:i.y+i.height};break;case"right":m={x:i.x+i.width,y:a};break;case"left":m={x:i.x-r.width,y:a};break;default:m={x:i.x,y:i.y}}switch(o1(e)){case"start":m[o]-=u*(t&&d?-1:1);break;case"end":m[o]+=u*(t&&d?-1:1)}return m}const wde=async(n,e,t)=>{const{placement:i="bottom",strategy:r="absolute",middleware:s=[],platform:a}=t,o=await(a.isRTL==null?void 0:a.isRTL(e));let l=await a.getElementRects({reference:n,floating:e,strategy:r}),{x:u,y:d}=_4(l,i,o),m=i,v={},y=0;for(let x=0;x<s.length;x++){const{name:T,fn:E}=s[x],{x:w,y:P,data:D,reset:N}=await E({x:u,y:d,initialPlacement:i,placement:m,strategy:r,middlewareData:v,rects:l,platform:a,elements:{reference:n,floating:e}});u=w??u,d=P??d,v={...v,[T]:{...v[T],...D}},N&&y<=50&&(y++,typeof N=="object"&&(N.placement&&(m=N.placement),N.rects&&(l=N.rects===!0?await a.getElementRects({reference:n,floating:e,strategy:r}):N.rects),{x:u,y:d}=_4(l,m,o)),x=-1)}return{x:u,y:d,placement:m,strategy:r,middlewareData:v}};function UB(n){return typeof n!="number"?(function(e){return{top:0,right:0,bottom:0,left:0,...e}})(n):{top:n,right:n,bottom:n,left:n}}function YS(n){return{...n,top:n.y,left:n.x,right:n.x+n.width,bottom:n.y+n.height}}async function L_(n,e){var t;e===void 0&&(e={});const{x:i,y:r,platform:s,rects:a,elements:o,strategy:l}=n,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:m="floating",altBoundary:v=!1,padding:y=0}=e,x=UB(y),T=o[v?m==="floating"?"reference":"floating":m],E=YS(await s.getClippingRect({element:(t=await(s.isElement==null?void 0:s.isElement(T)))==null||t?T:T.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(o.floating)),boundary:u,rootBoundary:d,strategy:l})),w=YS(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({rect:m==="floating"?{...a.floating,x:i,y:r}:a.reference,offsetParent:await(s.getOffsetParent==null?void 0:s.getOffsetParent(o.floating)),strategy:l}):a[m]);return{top:E.top-w.top+x.top,bottom:w.bottom-E.bottom+x.bottom,left:E.left-w.left+x.left,right:w.right-E.right+x.right}}const Ede=Math.min,qm=Math.max;function EA(n,e,t){return qm(n,Ede(e,t))}const b4=n=>({name:"arrow",options:n,async fn(e){const{element:t,padding:i=0}=n??{},{x:r,y:s,placement:a,rects:o,platform:l}=e;if(t==null)return{};const u=UB(i),d={x:r,y:s},m=Dy(a),v=o1(a),y=gR(m),x=await l.getDimensions(t),T=m==="y"?"top":"left",E=m==="y"?"bottom":"right",w=o.reference[y]+o.reference[m]-d[m]-o.floating[y],P=d[m]-o.reference[m],D=await(l.getOffsetParent==null?void 0:l.getOffsetParent(t));let N=D?m==="y"?D.clientHeight||0:D.clientWidth||0:0;N===0&&(N=o.floating[y]);const G=w/2-P/2,k=u[T],M=N-x[y]-u[E],$=N/2-x[y]/2+G,V=EA(k,$,M),H=(v==="start"?u[T]:u[E])>0&&$!==V&&o.reference[y]<=o.floating[y];return{[m]:d[m]-(H?$<k?k-$:M-$:0),data:{[m]:V,centerOffset:$-V}}}}),Tde={left:"right",right:"left",bottom:"top",top:"bottom"};function ZS(n){return n.replace(/left|right|bottom|top/g,(e=>Tde[e]))}function Mde(n,e,t){t===void 0&&(t=!1);const i=o1(n),r=Dy(n),s=gR(r);let a=r==="x"?i===(t?"end":"start")?"right":"left":i==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(a=ZS(a)),{main:a,cross:ZS(a)}}const Ade={start:"end",end:"start"};function x4(n){return n.replace(/start|end/g,(e=>Ade[e]))}const BB=["top","right","bottom","left"];BB.reduce(((n,e)=>n.concat(e,e+"-start",e+"-end")),[]);const Cde=function(n){return n===void 0&&(n={}),{name:"flip",options:n,async fn(e){var t;const{placement:i,middlewareData:r,rects:s,initialPlacement:a,platform:o,elements:l}=e,{mainAxis:u=!0,crossAxis:d=!0,fallbackPlacements:m,fallbackStrategy:v="bestFit",flipAlignment:y=!0,...x}=n,T=Cg(i),E=m||(T===a||!y?[ZS(a)]:(function($){const V=ZS($);return[x4($),V,x4(V)]})(a)),w=[a,...E],P=await L_(e,x),D=[];let N=((t=r.flip)==null?void 0:t.overflows)||[];if(u&&D.push(P[T]),d){const{main:$,cross:V}=Mde(i,s,await(o.isRTL==null?void 0:o.isRTL(l.floating)));D.push(P[$],P[V])}if(N=[...N,{placement:i,overflows:D}],!D.every(($=>$<=0))){var G,k;const $=((G=(k=r.flip)==null?void 0:k.index)!=null?G:0)+1,V=w[$];if(V)return{data:{index:$,overflows:N},reset:{placement:V}};let H="bottom";switch(v){case"bestFit":{var M;const ee=(M=N.map((pe=>[pe,pe.overflows.filter((ae=>ae>0)).reduce(((ae,ye)=>ae+ye),0)])).sort(((pe,ae)=>pe[1]-ae[1]))[0])==null?void 0:M[0].placement;ee&&(H=ee);break}case"initialPlacement":H=a}if(i!==H)return{reset:{placement:H}}}return{}}}};function S4(n,e){return{top:n.top-e.height,right:n.right-e.width,bottom:n.bottom-e.height,left:n.left-e.width}}function w4(n){return BB.some((e=>n[e]>=0))}const Rde=function(n){let{strategy:e="referenceHidden",...t}=n===void 0?{}:n;return{name:"hide",async fn(i){const{rects:r}=i;switch(e){case"referenceHidden":{const s=S4(await L_(i,{...t,elementContext:"reference"}),r.reference);return{data:{referenceHiddenOffsets:s,referenceHidden:w4(s)}}}case"escaped":{const s=S4(await L_(i,{...t,altBoundary:!0}),r.floating);return{data:{escapedOffsets:s,escaped:w4(s)}}}default:return{}}}}},Ode=function(n){return n===void 0&&(n=0),{name:"offset",options:n,async fn(e){const{x:t,y:i}=e,r=await(async function(s,a){const{placement:o,platform:l,elements:u}=s,d=await(l.isRTL==null?void 0:l.isRTL(u.floating)),m=Cg(o),v=o1(o),y=Dy(o)==="x",x=["left","top"].includes(m)?-1:1,T=d&&y?-1:1,E=typeof a=="function"?a(s):a;let{mainAxis:w,crossAxis:P,alignmentAxis:D}=typeof E=="number"?{mainAxis:E,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...E};return v&&typeof D=="number"&&(P=v==="end"?-1*D:D),y?{x:P*T,y:w*x}:{x:w*x,y:P*T}})(e,n);return{x:t+r.x,y:i+r.y,data:r}}}};function kB(n){return n==="x"?"y":"x"}const Pde=function(n){return n===void 0&&(n={}),{name:"shift",options:n,async fn(e){const{x:t,y:i,placement:r}=e,{mainAxis:s=!0,crossAxis:a=!1,limiter:o={fn:E=>{let{x:w,y:P}=E;return{x:w,y:P}}},...l}=n,u={x:t,y:i},d=await L_(e,l),m=Dy(Cg(r)),v=kB(m);let y=u[m],x=u[v];if(s){const E=m==="y"?"bottom":"right";y=EA(y+d[m==="y"?"top":"left"],y,y-d[E])}if(a){const E=v==="y"?"bottom":"right";x=EA(x+d[v==="y"?"top":"left"],x,x-d[E])}const T=o.fn({...e,[m]:y,[v]:x});return{...T,data:{x:T.x-t,y:T.y-i}}}}},Dde=function(n){return n===void 0&&(n={}),{options:n,fn(e){const{x:t,y:i,placement:r,rects:s,middlewareData:a}=e,{offset:o=0,mainAxis:l=!0,crossAxis:u=!0}=n,d={x:t,y:i},m=Dy(r),v=kB(m);let y=d[m],x=d[v];const T=typeof o=="function"?o({...s,placement:r}):o,E=typeof T=="number"?{mainAxis:T,crossAxis:0}:{mainAxis:0,crossAxis:0,...T};if(l){const G=m==="y"?"height":"width",k=s.reference[m]-s.floating[G]+E.mainAxis,M=s.reference[m]+s.reference[G]-E.mainAxis;y<k?y=k:y>M&&(y=M)}if(u){var w,P,D,N;const G=m==="y"?"width":"height",k=["top","left"].includes(Cg(r)),M=s.reference[v]-s.floating[G]+(k&&(w=(P=a.offset)==null?void 0:P[v])!=null?w:0)+(k?0:E.crossAxis),$=s.reference[v]+s.reference[G]+(k?0:(D=(N=a.offset)==null?void 0:N[v])!=null?D:0)-(k?E.crossAxis:0);x<M?x=M:x>$&&(x=$)}return{[m]:y,[v]:x}}}},Lde=function(n){return n===void 0&&(n={}),{name:"size",options:n,async fn(e){const{placement:t,rects:i,platform:r,elements:s}=e,{apply:a,...o}=n,l=await L_(e,o),u=Cg(t),d=o1(t);let m,v;u==="top"||u==="bottom"?(m=u,v=d===(await(r.isRTL==null?void 0:r.isRTL(s.floating))?"start":"end")?"left":"right"):(v=u,m=d==="end"?"top":"bottom");const y=qm(l.left,0),x=qm(l.right,0),T=qm(l.top,0),E=qm(l.bottom,0),w={availableHeight:i.floating.height-(["left","right"].includes(t)?2*(T!==0||E!==0?T+E:qm(l.top,l.bottom)):l[m]),availableWidth:i.floating.width-(["top","bottom"].includes(t)?2*(y!==0||x!==0?y+x:qm(l.left,l.right)):l[v])},P=await r.getDimensions(s.floating);a?.({...e,...w});const D=await r.getDimensions(s.floating);return P.width!==D.width||P.height!==D.height?{reset:{rects:!0}}:{}}}};function HB(n){return n&&n.document&&n.location&&n.alert&&n.setInterval}function Rd(n){if(n==null)return window;if(!HB(n)){const e=n.ownerDocument;return e&&e.defaultView||window}return n}function l1(n){return Rd(n).getComputedStyle(n)}function vd(n){return HB(n)?"":n?(n.nodeName||"").toLowerCase():""}function FB(){const n=navigator.userAgentData;return n!=null&&n.brands?n.brands.map((e=>e.brand+"/"+e.version)).join(" "):navigator.userAgent}function ph(n){return n instanceof Rd(n).HTMLElement}function Hp(n){return n instanceof Rd(n).Element}function vR(n){return typeof ShadowRoot>"u"?!1:n instanceof Rd(n).ShadowRoot||n instanceof ShadowRoot}function uE(n){const{overflow:e,overflowX:t,overflowY:i}=l1(n);return/auto|scroll|overlay|hidden/.test(e+i+t)}function Nde(n){return["table","td","th"].includes(vd(n))}function E4(n){const e=/firefox/i.test(FB()),t=l1(n);return t.transform!=="none"||t.perspective!=="none"||t.contain==="paint"||["transform","perspective"].includes(t.willChange)||e&&t.willChange==="filter"||e&&!!t.filter&&t.filter!=="none"}function VB(){return!/^((?!chrome|android).)*safari/i.test(FB())}const T4=Math.min,n_=Math.max,KS=Math.round;function yd(n,e,t){var i,r,s,a;e===void 0&&(e=!1),t===void 0&&(t=!1);const o=n.getBoundingClientRect();let l=1,u=1;e&&ph(n)&&(l=n.offsetWidth>0&&KS(o.width)/n.offsetWidth||1,u=n.offsetHeight>0&&KS(o.height)/n.offsetHeight||1);const d=Hp(n)?Rd(n):window,m=!VB()&&t,v=(o.left+(m&&(i=(r=d.visualViewport)==null?void 0:r.offsetLeft)!=null?i:0))/l,y=(o.top+(m&&(s=(a=d.visualViewport)==null?void 0:a.offsetTop)!=null?s:0))/u,x=o.width/l,T=o.height/u;return{width:x,height:T,top:y,right:v+x,bottom:y+T,left:v,x:v,y}}function Np(n){return(e=n,(e instanceof Rd(e).Node?n.ownerDocument:n.document)||window.document).documentElement;var e}function fE(n){return Hp(n)?{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}:{scrollLeft:n.pageXOffset,scrollTop:n.pageYOffset}}function GB(n){return yd(Np(n)).left+fE(n).scrollLeft}function Ide(n,e,t){const i=ph(e),r=Np(e),s=yd(n,i&&(function(l){const u=yd(l);return KS(u.width)!==l.offsetWidth||KS(u.height)!==l.offsetHeight})(e),t==="fixed");let a={scrollLeft:0,scrollTop:0};const o={x:0,y:0};if(i||!i&&t!=="fixed")if((vd(e)!=="body"||uE(r))&&(a=fE(e)),ph(e)){const l=yd(e,!0);o.x=l.x+e.clientLeft,o.y=l.y+e.clientTop}else r&&(o.x=GB(r));return{x:s.left+a.scrollLeft-o.x,y:s.top+a.scrollTop-o.y,width:s.width,height:s.height}}function jB(n){return vd(n)==="html"?n:n.assignedSlot||n.parentNode||(vR(n)?n.host:null)||Np(n)}function M4(n){return ph(n)&&getComputedStyle(n).position!=="fixed"?n.offsetParent:null}function TA(n){const e=Rd(n);let t=M4(n);for(;t&&Nde(t)&&getComputedStyle(t).position==="static";)t=M4(t);return t&&(vd(t)==="html"||vd(t)==="body"&&getComputedStyle(t).position==="static"&&!E4(t))?e:t||(function(i){let r=jB(i);for(vR(r)&&(r=r.host);ph(r)&&!["html","body"].includes(vd(r));){if(E4(r))return r;r=r.parentNode}return null})(n)||e}function A4(n){if(ph(n))return{width:n.offsetWidth,height:n.offsetHeight};const e=yd(n);return{width:e.width,height:e.height}}function $B(n){const e=jB(n);return["html","body","#document"].includes(vd(e))?n.ownerDocument.body:ph(e)&&uE(e)?e:$B(e)}function QS(n,e){var t;e===void 0&&(e=[]);const i=$B(n),r=i===((t=n.ownerDocument)==null?void 0:t.body),s=Rd(i),a=r?[s].concat(s.visualViewport||[],uE(i)?i:[]):i,o=e.concat(a);return r?o:o.concat(QS(a))}function C4(n,e,t){return e==="viewport"?YS((function(i,r){const s=Rd(i),a=Np(i),o=s.visualViewport;let l=a.clientWidth,u=a.clientHeight,d=0,m=0;if(o){l=o.width,u=o.height;const v=VB();(v||!v&&r==="fixed")&&(d=o.offsetLeft,m=o.offsetTop)}return{width:l,height:u,x:d,y:m}})(n,t)):Hp(e)?(function(i,r){const s=yd(i,!1,r==="fixed"),a=s.top+i.clientTop,o=s.left+i.clientLeft;return{top:a,left:o,x:o,y:a,right:o+i.clientWidth,bottom:a+i.clientHeight,width:i.clientWidth,height:i.clientHeight}})(e,t):YS((function(i){var r;const s=Np(i),a=fE(i),o=(r=i.ownerDocument)==null?void 0:r.body,l=n_(s.scrollWidth,s.clientWidth,o?o.scrollWidth:0,o?o.clientWidth:0),u=n_(s.scrollHeight,s.clientHeight,o?o.scrollHeight:0,o?o.clientHeight:0);let d=-a.scrollLeft+GB(i);const m=-a.scrollTop;return l1(o||s).direction==="rtl"&&(d+=n_(s.clientWidth,o?o.clientWidth:0)-l),{width:l,height:u,x:d,y:m}})(Np(n)))}function zde(n){const e=QS(n),t=["absolute","fixed"].includes(l1(n).position)&&ph(n)?TA(n):n;return Hp(t)?e.filter((i=>Hp(i)&&(function(r,s){const a=s.getRootNode==null?void 0:s.getRootNode();if(r.contains(s))return!0;if(a&&vR(a)){let o=s;do{if(o&&r===o)return!0;o=o.parentNode||o.host}while(o)}return!1})(i,t)&&vd(i)!=="body")):[]}const Ude={getClippingRect:function(n){let{element:e,boundary:t,rootBoundary:i,strategy:r}=n;const s=[...t==="clippingAncestors"?zde(e):[].concat(t),i],a=s[0],o=s.reduce(((l,u)=>{const d=C4(e,u,r);return l.top=n_(d.top,l.top),l.right=T4(d.right,l.right),l.bottom=T4(d.bottom,l.bottom),l.left=n_(d.left,l.left),l}),C4(e,a,r));return{width:o.right-o.left,height:o.bottom-o.top,x:o.left,y:o.top}},convertOffsetParentRelativeRectToViewportRelativeRect:function(n){let{rect:e,offsetParent:t,strategy:i}=n;const r=ph(t),s=Np(t);if(t===s)return e;let a={scrollLeft:0,scrollTop:0};const o={x:0,y:0};if((r||!r&&i!=="fixed")&&((vd(t)!=="body"||uE(s))&&(a=fE(t)),ph(t))){const l=yd(t,!0);o.x=l.x+t.clientLeft,o.y=l.y+t.clientTop}return{...e,x:e.x-a.scrollLeft+o.x,y:e.y-a.scrollTop+o.y}},isElement:Hp,getDimensions:A4,getOffsetParent:TA,getDocumentElement:Np,getElementRects:n=>{let{reference:e,floating:t,strategy:i}=n;return{reference:Ide(e,TA(t),i),floating:{...A4(t),x:0,y:0}}},getClientRects:n=>Array.from(n.getClientRects()),isRTL:n=>l1(n).direction==="rtl"};function Bde(n,e,t,i){i===void 0&&(i={});const{ancestorScroll:r=!0,ancestorResize:s=!0,elementResize:a=!0,animationFrame:o=!1}=i,l=r&&!o,u=s&&!o,d=l||u?[...Hp(n)?QS(n):[],...QS(e)]:[];d.forEach((x=>{l&&x.addEventListener("scroll",t,{passive:!0}),u&&x.addEventListener("resize",t)}));let m,v=null;if(a){let x=!0;v=new ResizeObserver((()=>{x||t(),x=!1})),Hp(n)&&!o&&v.observe(n),v.observe(e)}let y=o?yd(n):null;return o&&(function x(){const T=yd(n);!y||T.x===y.x&&T.y===y.y&&T.width===y.width&&T.height===y.height||t(),y=T,m=requestAnimationFrame(x)})(),t(),()=>{var x;d.forEach((T=>{l&&T.removeEventListener("scroll",t),u&&T.removeEventListener("resize",t)})),(x=v)==null||x.disconnect(),v=null,o&&cancelAnimationFrame(m)}}const kde=(n,e,t)=>wde(n,e,{platform:Ude,...t});var MA=typeof document<"u"?z.useLayoutEffect:z.useEffect;function AA(n,e){if(n===e)return!0;if(typeof n!=typeof e)return!1;if(typeof n=="function"&&n.toString()===e.toString())return!0;let t,i,r;if(n&&e&&typeof n=="object"){if(Array.isArray(n)){if(t=n.length,t!=e.length)return!1;for(i=t;i--!==0;)if(!AA(n[i],e[i]))return!1;return!0}if(r=Object.keys(n),t=r.length,t!==Object.keys(e).length)return!1;for(i=t;i--!==0;)if(!Object.prototype.hasOwnProperty.call(e,r[i]))return!1;for(i=t;i--!==0;){const s=r[i];if(!(s==="_owner"&&n.$$typeof)&&!AA(n[s],e[s]))return!1}return!0}return n!==n&&e!==e}function Hde(n){const e=z.useRef(n);return MA(()=>{e.current=n}),e}function Fde(n){let{middleware:e,placement:t="bottom",strategy:i="absolute",whileElementsMounted:r}=n===void 0?{}:n;const s=z.useRef(null),a=z.useRef(null),o=Hde(r),l=z.useRef(null),[u,d]=z.useState({x:null,y:null,strategy:i,placement:t,middlewareData:{}}),[m,v]=z.useState(e);AA(m?.map(D=>{let{options:N}=D;return N}),e?.map(D=>{let{options:N}=D;return N}))||v(e);const y=z.useCallback(()=>{!s.current||!a.current||kde(s.current,a.current,{middleware:m,placement:t,strategy:i}).then(D=>{x.current&&fw.flushSync(()=>{d(D)})})},[m,t,i]);MA(()=>{x.current&&y()},[y]);const x=z.useRef(!1);MA(()=>(x.current=!0,()=>{x.current=!1}),[]);const T=z.useCallback(()=>{if(typeof l.current=="function"&&(l.current(),l.current=null),s.current&&a.current)if(o.current){const D=o.current(s.current,a.current,y);l.current=D}else y()},[y,o]),E=z.useCallback(D=>{s.current=D,T()},[T]),w=z.useCallback(D=>{a.current=D,T()},[T]),P=z.useMemo(()=>({reference:s,floating:a}),[]);return z.useMemo(()=>({...u,update:y,refs:P,reference:E,floating:w}),[u,y,P,E,w])}const Vde=n=>{const{element:e,padding:t}=n;function i(r){return Object.prototype.hasOwnProperty.call(r,"current")}return{name:"arrow",options:n,fn(r){return i(e)?e.current!=null?b4({element:e.current,padding:t}).fn(r):{}:e?b4({element:e,padding:t}).fn(r):{}}}},Gde=z.forwardRef((n,e)=>{const{children:t,width:i=10,height:r=5,...s}=n;return z.createElement(bg.svg,ds({},s,{ref:e,width:i,height:r,viewBox:"0 0 30 10",preserveAspectRatio:"none"}),n.asChild?t:z.createElement("polygon",{points:"0,0 30,0 15,10"}))}),jde=Gde;function $de(n){const e=z.useRef(n);return z.useEffect(()=>{e.current=n}),z.useMemo(()=>(...t)=>{var i;return(i=e.current)===null||i===void 0?void 0:i.call(e,...t)},[])}const F0=globalThis?.document?z.useLayoutEffect:()=>{};function qde(n){const[e,t]=z.useState(void 0);return F0(()=>{if(n){t({width:n.offsetWidth,height:n.offsetHeight});const i=new ResizeObserver(r=>{if(!Array.isArray(r)||!r.length)return;const s=r[0];let a,o;if("borderBoxSize"in s){const l=s.borderBoxSize,u=Array.isArray(l)?l[0]:l;a=u.inlineSize,o=u.blockSize}else a=n.offsetWidth,o=n.offsetHeight;t({width:a,height:o})});return i.observe(n,{box:"border-box"}),()=>i.unobserve(n)}else t(void 0)},[n]),e}const qB="Popper",[yR,WB]=LB(qB),[Wde,XB]=yR(qB),Xde=n=>{const{__scopePopper:e,children:t}=n,[i,r]=z.useState(null);return z.createElement(Wde,{scope:e,anchor:i,onAnchorChange:r},t)},Yde="PopperAnchor",Zde=z.forwardRef((n,e)=>{const{__scopePopper:t,virtualRef:i,...r}=n,s=XB(Yde,t),a=z.useRef(null),o=Py(e,a);return z.useEffect(()=>{s.onAnchorChange(i?.current||a.current)}),i?null:z.createElement(bg.div,ds({},r,{ref:o}))}),JS="PopperContent",[Kde,Qde]=yR(JS),[Jde,epe]=yR(JS,{hasParent:!1,positionUpdateFns:new Set}),tpe=z.forwardRef((n,e)=>{var t,i,r,s,a,o,l,u;const{__scopePopper:d,side:m="bottom",sideOffset:v=0,align:y="center",alignOffset:x=0,arrowPadding:T=0,collisionBoundary:E=[],collisionPadding:w=0,sticky:P="partial",hideWhenDetached:D=!1,avoidCollisions:N=!0,onPlaced:G,...k}=n,M=XB(JS,d),[$,V]=z.useState(null),H=Py(e,bn=>V(bn)),[ee,pe]=z.useState(null),ae=qde(ee),ye=(t=ae?.width)!==null&&t!==void 0?t:0,Te=(i=ae?.height)!==null&&i!==void 0?i:0,J=m+(y!=="center"?"-"+y:""),de=typeof w=="number"?w:{top:0,right:0,bottom:0,left:0,...w},he=Array.isArray(E)?E:[E],Le=he.length>0,ne={padding:de,boundary:he.filter(ape),altBoundary:Le},{reference:re,floating:ze,strategy:Ve,x:xe,y:$e,placement:Ze,middlewareData:gt,update:yt}=Fde({strategy:"fixed",placement:J,whileElementsMounted:Bde,middleware:[ope(),Ode({mainAxis:v+Te,alignmentAxis:x}),N?Pde({mainAxis:!0,crossAxis:!1,limiter:P==="partial"?Dde():void 0,...ne}):void 0,ee?Vde({element:ee,padding:T}):void 0,N?Cde({...ne}):void 0,Lde({...ne,apply:({elements:bn,availableWidth:ie,availableHeight:Z})=>{bn.floating.style.setProperty("--radix-popper-available-width",`${ie}px`),bn.floating.style.setProperty("--radix-popper-available-height",`${Z}px`)}}),lpe({arrowWidth:ye,arrowHeight:Te}),D?Rde({strategy:"referenceHidden"}):void 0].filter(spe)});F0(()=>{re(M.anchor)},[re,M.anchor]);const vt=xe!==null&&$e!==null,[Vt,zn]=YB(Ze),An=$de(G);F0(()=>{vt&&An?.()},[vt,An]);const dn=(r=gt.arrow)===null||r===void 0?void 0:r.x,fe=(s=gt.arrow)===null||s===void 0?void 0:s.y,Et=((a=gt.arrow)===null||a===void 0?void 0:a.centerOffset)!==0,[Mt,At]=z.useState();F0(()=>{$&&At(window.getComputedStyle($).zIndex)},[$]);const{hasParent:mt,positionUpdateFns:Kt}=epe(JS,d),Ot=!mt;z.useLayoutEffect(()=>{if(!Ot)return Kt.add(yt),()=>{Kt.delete(yt)}},[Ot,Kt,yt]),F0(()=>{Ot&&vt&&Array.from(Kt).reverse().forEach(bn=>requestAnimationFrame(bn))},[Ot,vt,Kt]);const Qt={"data-side":Vt,"data-align":zn,...k,ref:H,style:{...k.style,animation:vt?void 0:"none",opacity:(o=gt.hide)!==null&&o!==void 0&&o.referenceHidden?0:void 0}};return z.createElement("div",{ref:ze,"data-radix-popper-content-wrapper":"",style:{position:Ve,left:0,top:0,transform:vt?`translate3d(${Math.round(xe)}px, ${Math.round($e)}px, 0)`:"translate3d(0, -200%, 0)",minWidth:"max-content",zIndex:Mt,"--radix-popper-transform-origin":[(l=gt.transformOrigin)===null||l===void 0?void 0:l.x,(u=gt.transformOrigin)===null||u===void 0?void 0:u.y].join(" ")},dir:n.dir},z.createElement(Kde,{scope:d,placedSide:Vt,onArrowChange:pe,arrowX:dn,arrowY:fe,shouldHideArrow:Et},Ot?z.createElement(Jde,{scope:d,hasParent:!0,positionUpdateFns:Kt},z.createElement(bg.div,Qt)):z.createElement(bg.div,Qt)))}),npe="PopperArrow",ipe={top:"bottom",right:"left",bottom:"top",left:"right"},rpe=z.forwardRef(function(e,t){const{__scopePopper:i,...r}=e,s=Qde(npe,i),a=ipe[s.placedSide];return z.createElement("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[a]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0}},z.createElement(jde,ds({},r,{ref:t,style:{...r.style,display:"block"}})))});function spe(n){return n!==void 0}function ape(n){return n!==null}const ope=()=>({name:"anchorCssProperties",fn(n){const{rects:e,elements:t}=n,{width:i,height:r}=e.reference;return t.floating.style.setProperty("--radix-popper-anchor-width",`${i}px`),t.floating.style.setProperty("--radix-popper-anchor-height",`${r}px`),{}}}),lpe=n=>({name:"transformOrigin",options:n,fn(e){var t,i,r,s,a;const{placement:o,rects:l,middlewareData:u}=e,m=((t=u.arrow)===null||t===void 0?void 0:t.centerOffset)!==0,v=m?0:n.arrowWidth,y=m?0:n.arrowHeight,[x,T]=YB(o),E={start:"0%",center:"50%",end:"100%"}[T],w=((i=(r=u.arrow)===null||r===void 0?void 0:r.x)!==null&&i!==void 0?i:0)+v/2,P=((s=(a=u.arrow)===null||a===void 0?void 0:a.y)!==null&&s!==void 0?s:0)+y/2;let D="",N="";return x==="bottom"?(D=m?E:`${w}px`,N=`${-y}px`):x==="top"?(D=m?E:`${w}px`,N=`${l.floating.height+y}px`):x==="right"?(D=`${-y}px`,N=m?E:`${P}px`):x==="left"&&(D=`${l.floating.width+y}px`,N=m?E:`${P}px`),{data:{x:D,y:N}}}});function YB(n){const[e,t="center"]=n.split("-");return[e,t]}const cpe=Xde,upe=Zde,fpe=tpe,hpe=rpe,R4=globalThis?.document?z.useLayoutEffect:()=>{};function dpe(n,e){return z.useReducer((t,i)=>{const r=e[t][i];return r??t},n)}const ZB=n=>{const{present:e,children:t}=n,i=ppe(e),r=typeof t=="function"?t({present:i.isPresent}):z.Children.only(t),s=Py(i.ref,r.ref);return typeof t=="function"||i.isPresent?z.cloneElement(r,{ref:s}):null};ZB.displayName="Presence";function ppe(n){const[e,t]=z.useState(),i=z.useRef({}),r=z.useRef(n),s=z.useRef("none"),a=n?"mounted":"unmounted",[o,l]=dpe(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return z.useEffect(()=>{const u=yx(i.current);s.current=o==="mounted"?u:"none"},[o]),R4(()=>{const u=i.current,d=r.current;if(d!==n){const v=s.current,y=yx(u);n?l("MOUNT"):y==="none"||u?.display==="none"?l("UNMOUNT"):l(d&&v!==y?"ANIMATION_OUT":"UNMOUNT"),r.current=n}},[n,l]),R4(()=>{if(e){const u=m=>{const y=yx(i.current).includes(m.animationName);m.target===e&&y&&fw.flushSync(()=>l("ANIMATION_END"))},d=m=>{m.target===e&&(s.current=yx(i.current))};return e.addEventListener("animationstart",d),e.addEventListener("animationcancel",u),e.addEventListener("animationend",u),()=>{e.removeEventListener("animationstart",d),e.removeEventListener("animationcancel",u),e.removeEventListener("animationend",u)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(o),ref:z.useCallback(u=>{u&&(i.current=getComputedStyle(u)),t(u)},[])}}function yx(n){return n?.animationName||"none"}function KB(n){const e=z.useRef(n);return z.useEffect(()=>{e.current=n}),z.useMemo(()=>(...t)=>{var i;return(i=e.current)===null||i===void 0?void 0:i.call(e,...t)},[])}function mpe({prop:n,defaultProp:e,onChange:t=()=>{}}){const[i,r]=gpe({defaultProp:e,onChange:t}),s=n!==void 0,a=s?n:i,o=KB(t),l=z.useCallback(u=>{if(s){const m=typeof u=="function"?u(n):u;m!==n&&o(m)}else r(u)},[s,n,r,o]);return[a,l]}function gpe({defaultProp:n,onChange:e}){const t=z.useState(n),[i]=t,r=z.useRef(i),s=KB(e);return z.useEffect(()=>{r.current!==i&&(s(i),r.current=i)},[i,r,s]),t}const vpe=z.forwardRef((n,e)=>z.createElement(bg.span,ds({},n,{ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...n.style}}))),ype=vpe,[hE]=LB("Tooltip",[WB]),dE=WB(),_pe="TooltipProvider",CA="tooltip.open",[g_e,_R]=hE(_pe),bR="Tooltip",[bpe,pE]=hE(bR),xpe=n=>{const{__scopeTooltip:e,children:t,open:i,defaultOpen:r=!1,onOpenChange:s,disableHoverableContent:a,delayDuration:o}=n,l=_R(bR,n.__scopeTooltip),u=dE(e),[d,m]=z.useState(null),v=Sde(),y=z.useRef(0),x=a??l.disableHoverableContent,T=o??l.delayDuration,E=z.useRef(!1),[w=!1,P]=mpe({prop:i,defaultProp:r,onChange:M=>{M?(l.onOpen(),document.dispatchEvent(new CustomEvent(CA))):l.onClose(),s?.(M)}}),D=z.useMemo(()=>w?E.current?"delayed-open":"instant-open":"closed",[w]),N=z.useCallback(()=>{window.clearTimeout(y.current),E.current=!1,P(!0)},[P]),G=z.useCallback(()=>{window.clearTimeout(y.current),P(!1)},[P]),k=z.useCallback(()=>{window.clearTimeout(y.current),y.current=window.setTimeout(()=>{E.current=!0,P(!0)},T)},[T,P]);return z.useEffect(()=>()=>window.clearTimeout(y.current),[]),z.createElement(cpe,u,z.createElement(bpe,{scope:e,contentId:v,open:w,stateAttribute:D,trigger:d,onTriggerChange:m,onTriggerEnter:z.useCallback(()=>{l.isOpenDelayed?k():N()},[l.isOpenDelayed,k,N]),onTriggerLeave:z.useCallback(()=>{x?G():window.clearTimeout(y.current)},[G,x]),onOpen:N,onClose:G,disableHoverableContent:x},t))},O4="TooltipTrigger",Spe=z.forwardRef((n,e)=>{const{__scopeTooltip:t,...i}=n,r=pE(O4,t),s=_R(O4,t),a=dE(t),o=z.useRef(null),l=Py(e,o,r.onTriggerChange),u=z.useRef(!1),d=z.useRef(!1),m=z.useCallback(()=>u.current=!1,[]);return z.useEffect(()=>()=>document.removeEventListener("pointerup",m),[m]),z.createElement(upe,ds({asChild:!0},a),z.createElement(bg.button,ds({"aria-describedby":r.open?r.contentId:void 0,"data-state":r.stateAttribute},i,{ref:l,onPointerMove:rd(n.onPointerMove,v=>{v.pointerType!=="touch"&&!d.current&&!s.isPointerInTransitRef.current&&(r.onTriggerEnter(),d.current=!0)}),onPointerLeave:rd(n.onPointerLeave,()=>{r.onTriggerLeave(),d.current=!1}),onPointerDown:rd(n.onPointerDown,()=>{u.current=!0,document.addEventListener("pointerup",m,{once:!0})}),onFocus:rd(n.onFocus,()=>{u.current||r.onOpen()}),onBlur:rd(n.onBlur,r.onClose),onClick:rd(n.onClick,r.onClose)})))}),wpe="TooltipPortal",[v_e,Epe]=hE(wpe,{forceMount:void 0}),N_="TooltipContent",Tpe=z.forwardRef((n,e)=>{const t=Epe(N_,n.__scopeTooltip),{forceMount:i=t.forceMount,side:r="top",...s}=n,a=pE(N_,n.__scopeTooltip);return z.createElement(ZB,{present:i||a.open},a.disableHoverableContent?z.createElement(QB,ds({side:r},s,{ref:e})):z.createElement(Mpe,ds({side:r},s,{ref:e})))}),Mpe=z.forwardRef((n,e)=>{const t=pE(N_,n.__scopeTooltip),i=_R(N_,n.__scopeTooltip),r=z.useRef(null),s=Py(e,r),[a,o]=z.useState(null),{trigger:l,onClose:u}=t,d=r.current,{onPointerInTransitChange:m}=i,v=z.useCallback(()=>{o(null),m(!1)},[m]),y=z.useCallback((x,T)=>{const E=x.currentTarget,w={x:x.clientX,y:x.clientY},P=Ppe(w,E.getBoundingClientRect()),D=P==="right"||P==="bottom"?-5:5,G=P==="right"||P==="left"?{x:x.clientX+D,y:x.clientY}:{x:x.clientX,y:x.clientY+D},k=Dpe(T.getBoundingClientRect()),M=Npe([G,...k]);o(M),m(!0)},[m]);return z.useEffect(()=>()=>v(),[v]),z.useEffect(()=>{if(l&&d){const x=E=>y(E,d),T=E=>y(E,l);return l.addEventListener("pointerleave",x),d.addEventListener("pointerleave",T),()=>{l.removeEventListener("pointerleave",x),d.removeEventListener("pointerleave",T)}}},[l,d,y,v]),z.useEffect(()=>{if(a){const x=T=>{const E=T.target,w={x:T.clientX,y:T.clientY},P=l?.contains(E)||d?.contains(E),D=!Lpe(w,a);P?v():D&&(v(),u())};return document.addEventListener("pointermove",x),()=>document.removeEventListener("pointermove",x)}},[l,d,a,u,v]),z.createElement(QB,ds({},n,{ref:s}))}),[Ape,Cpe]=hE(bR,{isInside:!1}),QB=z.forwardRef((n,e)=>{const{__scopeTooltip:t,children:i,"aria-label":r,onEscapeKeyDown:s,onPointerDownOutside:a,...o}=n,l=pE(N_,t),u=dE(t),{onClose:d}=l;return z.useEffect(()=>(document.addEventListener(CA,d),()=>document.removeEventListener(CA,d)),[d]),z.useEffect(()=>{if(l.trigger){const m=v=>{const y=v.target;y!=null&&y.contains(l.trigger)&&d()};return window.addEventListener("scroll",m,{capture:!0}),()=>window.removeEventListener("scroll",m,{capture:!0})}},[l.trigger,d]),z.createElement(gde,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:s,onPointerDownOutside:a,onFocusOutside:m=>m.preventDefault(),onDismiss:d},z.createElement(fpe,ds({"data-state":l.stateAttribute},u,o,{ref:e,style:{...o.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"}}),z.createElement(IB,null,i),z.createElement(Ape,{scope:t,isInside:!0},z.createElement(ype,{id:l.contentId,role:"tooltip"},r||i))))}),Rpe="TooltipArrow",Ope=z.forwardRef((n,e)=>{const{__scopeTooltip:t,...i}=n,r=dE(t);return Cpe(Rpe,t).isInside?null:z.createElement(hpe,ds({},r,i,{ref:e}))});function Ppe(n,e){const t=Math.abs(e.top-n.y),i=Math.abs(e.bottom-n.y),r=Math.abs(e.right-n.x),s=Math.abs(e.left-n.x);switch(Math.min(t,i,r,s)){case s:return"left";case r:return"right";case t:return"top";case i:return"bottom";default:return null}}function Dpe(n){const{top:e,right:t,bottom:i,left:r}=n;return[{x:r,y:e},{x:t,y:e},{x:t,y:i},{x:r,y:i}]}function Lpe(n,e){const{x:t,y:i}=n;let r=!1;for(let s=0,a=e.length-1;s<e.length;a=s++){const o=e[s].x,l=e[s].y,u=e[a].x,d=e[a].y;l>i!=d>i&&t<(u-o)*(i-l)/(d-l)+o&&(r=!r)}return r}function Npe(n){const e=n.slice();return e.sort((t,i)=>t.x<i.x?-1:t.x>i.x?1:t.y<i.y?-1:t.y>i.y?1:0),Ipe(e)}function Ipe(n){if(n.length<=1)return n.slice();const e=[];for(let i=0;i<n.length;i++){const r=n[i];for(;e.length>=2;){const s=e[e.length-1],a=e[e.length-2];if((s.x-a.x)*(r.y-a.y)>=(s.y-a.y)*(r.x-a.x))e.pop();else break}e.push(r)}e.pop();const t=[];for(let i=n.length-1;i>=0;i--){const r=n[i];for(;t.length>=2;){const s=t[t.length-1],a=t[t.length-2];if((s.x-a.x)*(r.y-a.y)>=(s.y-a.y)*(r.x-a.x))t.pop();else break}t.push(r)}return t.pop(),e.length===1&&t.length===1&&e[0].x===t[0].x&&e[0].y===t[0].y?e:e.concat(t)}const zpe=xpe,Upe=Spe,Bpe=Tpe,kpe=Ope;function Hpe(n,e){if(n==null)return{};var t={},i=Object.keys(n),r,s;for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&(t[r]=n[r]);return t}function Jr(n,e){if(n==null)return{};var t=Hpe(n,e),i,r;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(r=0;r<s.length;r++)i=s[r],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(n,i)&&(t[i]=n[i])}return t}let Fs;(function(n){n[n.UNSUPPORTED_INPUT=0]="UNSUPPORTED_INPUT",n[n.NO_COMPONENT_FOR_TYPE=1]="NO_COMPONENT_FOR_TYPE",n[n.UNKNOWN_INPUT=2]="UNKNOWN_INPUT",n[n.DUPLICATE_KEYS=3]="DUPLICATE_KEYS",n[n.ALREADY_REGISTERED_TYPE=4]="ALREADY_REGISTERED_TYPE",n[n.CLIPBOARD_ERROR=5]="CLIPBOARD_ERROR",n[n.THEME_ERROR=6]="THEME_ERROR",n[n.PATH_DOESNT_EXIST=7]="PATH_DOESNT_EXIST",n[n.INPUT_TYPE_OVERRIDE=8]="INPUT_TYPE_OVERRIDE",n[n.EMPTY_KEY=9]="EMPTY_KEY"})(Fs||(Fs={}));const Fpe={[Fs.UNSUPPORTED_INPUT]:(n,e)=>[`An input with type \`${n}\` input was found at path \`${e}\` but it's not supported yet.`],[Fs.NO_COMPONENT_FOR_TYPE]:(n,e)=>[`Type \`${n}\` found at path \`${e}\` can't be displayed in panel because no component supports it yet.`],[Fs.UNKNOWN_INPUT]:(n,e)=>[`input at path \`${n}\` is not recognized.`,e],[Fs.DUPLICATE_KEYS]:(n,e,t)=>[`Key \`${n}\` of path \`${e}\` already exists at path \`${t}\`. Even nested keys need to be unique. Rename one of the keys.`],[Fs.ALREADY_REGISTERED_TYPE]:n=>[`Type ${n} has already been registered. You can't register a component with the same type.`],[Fs.CLIPBOARD_ERROR]:n=>["Error copying the value",n],[Fs.THEME_ERROR]:(n,e)=>[`Error accessing the theme \`${n}.${e}\` value.`],[Fs.PATH_DOESNT_EXIST]:n=>[`Error getting the value at path \`${n}\`. There is probably an error in your \`render\` function.`],[Fs.PATH_DOESNT_EXIST]:n=>[`Error accessing the value at path \`${n}\``],[Fs.INPUT_TYPE_OVERRIDE]:(n,e,t)=>[`Input at path \`${n}\` already exists with type: \`${e}\`. Its type cannot be overridden with type \`${t}\`.`],[Fs.EMPTY_KEY]:()=>["Keys can not be empty, if you want to hide a label use whitespace."]};function JB(n,e,...t){const[i,...r]=Fpe[e](...t);console[n]("LEVA: "+i,...r)}const ud=JB.bind(null,"warn"),Vpe=JB.bind(null,"log"),Gpe=["value"],jpe=["schema"],$pe=["value"],e6=[],xg={};function P4(n){let{value:e}=n,t=Jr(n,Gpe);for(let i of e6){const r=i(e,t);if(r)return r}}function Od(n,e){let{schema:t}=e,i=Jr(e,jpe);if(n in xg){ud(Fs.ALREADY_REGISTERED_TYPE,n);return}e6.push((r,s)=>t(r,s)&&n),xg[n]=i}function $M(n,e,t,i){const{normalize:r}=xg[n];if(r)return r(e,t,i);if(typeof e!="object"||!("value"in e))return{value:e};const{value:s}=e,a=Jr(e,$pe);return{value:s,settings:a}}function qpe(n,e,t,i,r,s){const{sanitize:a}=xg[n];return a?a(e,t,i,r,s):e}function D4(n,e,t){const{format:i}=xg[n];return i?i(e,t):e}function Wpe(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function L4(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function pi(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?L4(Object(t),!0).forEach(function(i){Wpe(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):L4(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}const Fp=(n,e,t)=>n>t?t:n<e?e:n,Xpe=n=>{if(n===""||typeof n=="number")return n;try{const e=wp(n);if(!isNaN(e))return e}catch{}return parseFloat(n)},Ype=Math.log(10);function N4(n){let e=Math.abs(+String(n).replace(".",""));if(e===0)return .01;for(;e!==0&&e%10===0;)e/=10;const t=Math.floor(Math.log(e)/Ype)+1,i=Math.floor(Math.log10(Math.abs(n))),r=Math.pow(10,i-t);return Math.max(r,.001)}const ew=(n,e,t)=>t===e?0:(Fp(n,e,t)-e)/(t-e),tw=(n,e,t)=>n*(t-e)+e,Zpe=()=>"_"+Math.random().toString(36).substr(2,9),I4=/\(([0-9+\-*/^ .]+)\)/,z4=/(\d+(?:\.\d+)?) ?\^ ?(\d+(?:\.\d+)?)/,U4=/(\d+(?:\.\d+)?) ?\* ?(\d+(?:\.\d+)?)/,B4=/(\d+(?:\.\d+)?) ?\/ ?(\d+(?:\.\d+)?)/,k4=/(\d+(?:\.\d+)?) ?\+ ?(\d+(?:\.\d+)?)/,H4=/(\d+(?:\.\d+)?) ?- ?(\d+(?:\.\d+)?)/;function wp(n){if(isNaN(Number(n)))if(I4.test(n)){const e=n.replace(I4,(t,i)=>String(wp(i)));return wp(e)}else if(z4.test(n)){const e=n.replace(z4,(t,i,r)=>String(Math.pow(Number(i),Number(r))));return wp(e)}else if(U4.test(n)){const e=n.replace(U4,(t,i,r)=>String(Number(i)*Number(r)));return wp(e)}else if(B4.test(n)){const e=n.replace(B4,(t,i,r)=>{if(r!=0)return String(Number(i)/Number(r));throw new Error("Division by zero")});return wp(e)}else if(k4.test(n)){const e=n.replace(k4,(t,i,r)=>String(Number(i)+Number(r)));return wp(e)}else if(H4.test(n)){const e=n.replace(H4,(t,i,r)=>String(Number(i)-Number(r)));return wp(e)}else return Number(n);return Number(n)}function Kpe(n,e){return e.reduce((t,i)=>(n&&n.hasOwnProperty(i)&&(t[i]=n[i]),t),{})}function Qpe(n,e){const t=pi({},n);return e.forEach(i=>i in n&&delete t[i]),t}function Jpe(n,e){return n.reduce((t,i,r)=>Object.assign(t,{[e[r]]:i}),{})}function t6(n){return Object.prototype.toString.call(n)==="[object Object]"}const eme=n=>t6(n)&&Object.keys(n).length===0;let df;(function(n){n.BUTTON="BUTTON",n.BUTTON_GROUP="BUTTON_GROUP",n.MONITOR="MONITOR",n.FOLDER="FOLDER"})(df||(df={}));let yf;(function(n){n.SELECT="SELECT",n.IMAGE="IMAGE",n.NUMBER="NUMBER",n.COLOR="COLOR",n.STRING="STRING",n.BOOLEAN="BOOLEAN",n.INTERVAL="INTERVAL",n.VECTOR3D="VECTOR3D",n.VECTOR2D="VECTOR2D"})(yf||(yf={}));const tme=["type","__customInput"],nme=["render","label","optional","order","disabled","hint","onChange","onEditStart","onEditEnd","transient"],ime=["type"];function n6(n,e,t={},i){var r,s;if(typeof n!="object"||Array.isArray(n))return{type:i,input:n,options:pi({key:e,label:e,optional:!1,disabled:!1,order:0},t)};if("__customInput"in n){const{type:G,__customInput:k}=n,M=Jr(n,tme);return n6(k,e,M,G)}const{render:a,label:o,optional:l,order:u=0,disabled:d,hint:m,onChange:v,onEditStart:y,onEditEnd:x,transient:T}=n,E=Jr(n,nme),w=pi({render:a,key:e,label:o??e,hint:m,transient:T??!!v,onEditStart:y,onEditEnd:x,disabled:d,optional:l,order:u},t);let{type:P}=E,D=Jr(E,ime);if(P=i??P,P in df)return{type:P,input:D,options:w};let N;return i&&t6(D)&&"value"in D?N=D.value:N=eme(D)?void 0:D,{type:P,input:N,options:pi(pi({},w),{},{onChange:v,optional:(r=w.optional)!==null&&r!==void 0?r:!1,disabled:(s=w.disabled)!==null&&s!==void 0?s:!1})}}function rme(n,e,t,i){const r=n6(n,e),{type:s,input:a,options:o}=r;if(s)return s in df?r:{type:s,input:$M(s,a,t,i),options:o};let l=P4(a);return l?{type:l,input:$M(l,a,t,i),options:o}:(l=P4({value:a}),l?{type:l,input:$M(l,{value:a},t,i),options:o}:!1)}function F4(n,e,t,i,r){const{value:s,type:a,settings:o}=n;n.value=i6({type:a,value:s,settings:o},e,t,i),n.fromPanel=r}const sme=function(e,t,i){this.type="LEVA_ERROR",this.message="LEVA: "+e,this.previousValue=t,this.error=i};function i6({type:n,value:e,settings:t},i,r,s){const a=n!=="SELECT"&&typeof i=="function"?i(e):i;let o;try{o=qpe(n,a,t,e,r,s)}catch(l){throw new sme(`The value \`${i}\` did not result in a correct value.`,e,l)}return P_(o,e)?e:o}const r6=(n,e,t=!1)=>{let i=0;return function(){const r=arguments,s=t&&!i,a=()=>n.apply(this,r);window.clearTimeout(i),i=window.setTimeout(a,e),s&&a()}},s6=n=>n.shiftKey?5:n.altKey?1/5:1,ame=["value"],ome=["min","max"],lme=n=>{if(typeof n=="number")return!0;if(typeof n=="string"){const e=parseFloat(n);return isNaN(e)?!1:n.substring((""+e).length).trim().length<4}return!1},a6=(n,{min:e=-1/0,max:t=1/0,suffix:i})=>{const r=parseFloat(n);if(n===""||isNaN(r))throw Error("Invalid number");const s=Fp(r,e,t);return i?s+i:s},cme=(n,{pad:e=0,suffix:t})=>{const i=parseFloat(n).toFixed(e);return t?i+t:i},o6=n=>{let{value:e}=n,t=Jr(n,ame);const{min:i=-1/0,max:r=1/0}=t,s=Jr(t,ome);let a=parseFloat(e);const o=typeof e=="string"?e.substring((""+a).length):void 0;a=Fp(a,i,r);let l=t.step;l||(Number.isFinite(i)?Number.isFinite(r)?l=+(Math.abs(r-i)/100).toPrecision(1):l=+(Math.abs(a-i)/100).toPrecision(1):Number.isFinite(r)&&(l=+(Math.abs(r-a)/100).toPrecision(1)));const u=l?N4(l)*10:N4(a);l=l||u/10;const d=Math.round(Fp(Math.log10(1/u),0,2));return{value:o?a+o:a,settings:pi({initialValue:a,step:l,pad:d,min:i,max:r,suffix:o},s)}},l6=(n,{step:e,initialValue:t})=>{const i=Math.round((n-t)/e);return t+i*e};var c6=Object.freeze({__proto__:null,schema:lme,sanitize:a6,format:cme,normalize:o6,sanitizeStep:l6});function ta(){return ta=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},ta.apply(this,arguments)}const u6=z.createContext({});function rl(){return z.useContext(u6)}const xR=z.createContext(null),f6=z.createContext(null),h6=z.createContext(null);function c1(){return z.useContext(f6)}function ume(){return z.useContext(h6)}const d6=()=>({colors:{elevation1:"#292d39",elevation2:"#181c20",elevation3:"#373c4b",accent1:"#0066dc",accent2:"#007bff",accent3:"#3c93ff",highlight1:"#535760",highlight2:"#8c92a4",highlight3:"#fefefe",vivid1:"#ffcc00",folderWidgetColor:"$highlight2",folderTextColor:"$highlight3",toolTipBackground:"$highlight3",toolTipText:"$elevation2"},radii:{xs:"2px",sm:"3px",lg:"10px"},space:{xs:"3px",sm:"6px",md:"10px",rowGap:"7px",colGap:"7px"},fonts:{mono:"ui-monospace, SFMono-Regular, Menlo, 'Roboto Mono', monospace",sans:"system-ui, sans-serif"},fontSizes:{root:"11px",toolTip:"$root"},sizes:{rootWidth:"280px",controlWidth:"160px",numberInputMinWidth:"38px",scrubberWidth:"8px",scrubberHeight:"16px",rowHeight:"24px",folderTitleHeight:"20px",checkboxSize:"16px",joystickWidth:"100px",joystickHeight:"100px",colorPickerWidth:"$controlWidth",colorPickerHeight:"100px",imagePreviewWidth:"$controlWidth",imagePreviewHeight:"100px",monitorHeight:"60px",titleBarHeight:"39px"},shadows:{level1:"0 0 9px 0 #00000088",level2:"0 4px 14px #00000033"},borderWidths:{root:"0px",input:"1px",focus:"1px",hover:"1px",active:"1px",folder:"1px"},fontWeights:{label:"normal",folder:"normal",button:"normal"}});function _x(n,e){const[t,i]=n.split(" "),r={};return t!=="none"&&(r.boxShadow=`${e.inset?"inset ":""}0 0 0 $borderWidths${[e.key]} $colors${t!=="default"&&t||e.borderColor}`),i&&(r.backgroundColor=i),r}const N0={$inputStyle:()=>n=>_x(n,{key:"$input",borderColor:"$highlight1",inset:!0}),$focusStyle:()=>n=>_x(n,{key:"$focus",borderColor:"$accent2"}),$hoverStyle:()=>n=>_x(n,{key:"$hover",borderColor:"$accent1",inset:!0}),$activeStyle:()=>n=>_x(n,{key:"$active",borderColor:"$accent1",inset:!0})},{styled:ri,css:y_e,createTheme:fme,globalCss:hme,keyframes:__e}=sde({prefix:"leva",theme:d6(),utils:pi(pi({},N0),{},{$flex:()=>({display:"flex",alignItems:"center"}),$flexCenter:()=>({display:"flex",alignItems:"center",justifyContent:"center"}),$reset:()=>({outline:"none",fontSize:"inherit",fontWeight:"inherit",color:"inherit",fontFamily:"inherit",border:"none",backgroundColor:"transparent",appearance:"none"}),$draggable:()=>({touchAction:"none",WebkitUserDrag:"none",userSelect:"none"}),$focus:n=>({"&:focus":N0.$focusStyle()(n)}),$focusWithin:n=>({"&:focus-within":N0.$focusStyle()(n)}),$hover:n=>({"&:hover":N0.$hoverStyle()(n)}),$active:n=>({"&:active":N0.$activeStyle()(n)})})}),dme=hme({".leva__panel__dragged":{WebkitUserDrag:"none",userSelect:"none",input:{userSelect:"none"},"*":{cursor:"ew-resize !important"}}});function pme(n){const e=d6();if(!n)return{theme:e,className:""};Object.keys(n).forEach(i=>{Object.assign(e[i],n[i])});const t=fme(e);return{theme:e,className:t.className}}function _d(n,e){const{theme:t}=z.useContext(xR);if(!(n in t)||!(e in t[n]))return ud(Fs.THEME_ERROR,n,e),"";let i=e;for(;;){let r=t[n][i];if(typeof r=="string"&&r.charAt(0)==="$")i=r.substr(1);else return r}}const p6=ri("input",{$reset:"",padding:"0 $sm",width:0,minWidth:0,flex:1,height:"100%",variants:{levaType:{number:{textAlign:"right"}},as:{textarea:{padding:"$sm"}}}}),m6=ri("div",{$draggable:"",height:"100%",$flexCenter:"",position:"relative",padding:"0 $xs",fontSize:"0.8em",opacity:.8,cursor:"default",touchAction:"none",[`& + ${p6}`]:{paddingLeft:0}}),mme=ri(m6,{cursor:"ew-resize",marginRight:"-$xs",textTransform:"uppercase",opacity:.3,"&:hover":{opacity:1},variants:{dragging:{true:{backgroundColor:"$accent2",opacity:1}}}}),gme=ri("div",{$flex:"",position:"relative",borderRadius:"$sm",overflow:"hidden",color:"inherit",height:"$rowHeight",backgroundColor:"$elevation3",$inputStyle:"$elevation1",$hover:"",$focusWithin:"",variants:{textArea:{true:{height:"auto"}}}}),vme=["innerLabel","value","onUpdate","onChange","onKeyDown","type","id","inputType","rows"],yme=["onUpdate"];function SR(n){let{innerLabel:e,value:t,onUpdate:i,onChange:r,onKeyDown:s,type:a,id:o,inputType:l="text",rows:u=0}=n,d=Jr(n,vme);const{id:m,emitOnEditStart:v,emitOnEditEnd:y,disabled:x}=rl(),T=o||m,E=z.useRef(null),w=u>0,P=w?"textarea":"input",D=z.useCallback(k=>M=>{const $=M.currentTarget.value;k($)},[]);Se.useEffect(()=>{const k=E.current,M=D($=>{i($),y()});return k?.addEventListener("blur",M),()=>k?.removeEventListener("blur",M)},[D,i,y]);const N=z.useCallback(k=>{k.key==="Enter"&&D(i)(k)},[D,i]),G=Object.assign({as:P},w?{rows:u}:{},d);return Se.createElement(gme,{textArea:w},e&&typeof e=="string"?Se.createElement(m6,null,e):e,Se.createElement(p6,ta({levaType:a,ref:E,id:T,type:l,autoComplete:"off",spellCheck:"false",value:t,onChange:D(r),onFocus:()=>v(),onKeyPress:N,onKeyDown:s,disabled:x},G)))}function _me(n){let{onUpdate:e}=n,t=Jr(n,yme);const i=z.useCallback(s=>e(Xpe(s)),[e]),r=z.useCallback(s=>{const a=s.key==="ArrowUp"?1:s.key==="ArrowDown"?-1:0;if(a){s.preventDefault();const o=s.altKey?.1:s.shiftKey?10:1;e(l=>parseFloat(l)+a*o)}},[e]);return Se.createElement(SR,ta({},t,{onUpdate:i,onKeyDown:r,type:"number"}))}const nw=ri("div",{}),RA=ri("div",{position:"relative",background:"$elevation2",transition:"height 300ms ease",variants:{fill:{true:{},false:{}},flat:{false:{},true:{}},isRoot:{true:{},false:{paddingLeft:"$md","&::after":{content:'""',position:"absolute",left:0,top:0,width:"$borderWidths$folder",height:"100%",backgroundColor:"$folderWidgetColor",opacity:.4,transform:"translateX(-50%)"}}}},compoundVariants:[{isRoot:!0,fill:!1,css:{overflowY:"auto",maxHeight:"calc(100vh - 20px - $$titleBarHeight)"}},{isRoot:!0,flat:!1,css:{borderRadius:"$lg"}}]}),bme=ri("div",{$flex:"",color:"$folderTextColor",userSelect:"none",cursor:"pointer",height:"$folderTitleHeight",fontWeight:"$folder","> svg":{marginLeft:-4,marginRight:4,cursor:"pointer",fill:"$folderWidgetColor",opacity:.6},"&:hover > svg":{fill:"$folderWidgetColor"},[`&:hover + ${RA}::after`]:{opacity:.6},[`${nw}:hover > & + ${RA}::after`]:{opacity:.6},[`${nw}:hover > & > svg`]:{opacity:1}}),g6=ri("div",{position:"relative",display:"grid",gridTemplateColumns:"100%",rowGap:"$rowGap",transition:"opacity 250ms ease",variants:{toggled:{true:{opacity:1,transitionDelay:"250ms"},false:{opacity:0,transitionDelay:"0ms",pointerEvents:"none"}},isRoot:{true:{"& > div":{paddingLeft:"$md",paddingRight:"$md"},"& > div:first-of-type":{paddingTop:"$sm"},"& > div:last-of-type":{paddingBottom:"$sm"},[`> ${nw}:not(:first-of-type)`]:{paddingTop:"$sm",marginTop:"$md",borderTop:"$borderWidths$folder solid $colors$elevation1"}}}}}),v6=ri("div",{position:"relative",zIndex:100,display:"grid",rowGap:"$rowGap",gridTemplateRows:"minmax($sizes$rowHeight, max-content)",alignItems:"center",color:"$highlight2",[`${g6} > &`]:{"&:first-of-type":{marginTop:"$rowGap"},"&:last-of-type":{marginBottom:"$rowGap"}},variants:{disabled:{true:{pointerEvents:"none"},false:{"&:hover,&:focus-within":{color:"$highlight3"}}}}}),y6=ri(v6,{gridTemplateColumns:"auto $sizes$controlWidth",columnGap:"$colGap"}),xme=ri("div",{$flex:"",height:"100%",position:"relative",overflow:"hidden","& > div":{marginLeft:"$colGap",padding:"0 $xs",opacity:.4},"& > div:hover":{opacity:.8},"& > div > svg":{display:"none",cursor:"pointer",width:13,minWidth:13,height:13,backgroundColor:"$elevation2"},"&:hover > div > svg":{display:"block"},variants:{align:{top:{height:"100%",alignItems:"flex-start",paddingTop:"$sm"}}}}),Sme=ri("input",{$reset:"",height:0,width:0,opacity:0,margin:0,"& + label":{position:"relative",$flexCenter:"",height:"100%",userSelect:"none",cursor:"pointer",paddingLeft:2,paddingRight:"$sm",pointerEvents:"auto"},"& + label:after":{content:'""',width:6,height:6,backgroundColor:"$elevation3",borderRadius:"50%",$activeStyle:""},"&:focus + label:after":{$focusStyle:""},"& + label:active:after":{backgroundColor:"$accent1",$focusStyle:""},"&:checked + label:after":{backgroundColor:"$accent1"}}),OA=ri("label",{fontWeight:"$label",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap","& > svg":{display:"block"}}),wme=ri("div",{opacity:1,variants:{disabled:{true:{opacity:.6,pointerEvents:"none",[`& ${OA}`]:{pointerEvents:"auto"}}}}}),_6=ri("div",{position:"fixed",top:0,bottom:0,right:0,left:0,zIndex:1e3,userSelect:"none"}),Eme=ri("div",{background:"$toolTipBackground",fontFamily:"$sans",fontSize:"$toolTip",padding:"$xs $sm",color:"$toolTipText",borderRadius:"$xs",boxShadow:"$level2",maxWidth:260}),Tme=ri(kpe,{fill:"$toolTipBackground"});function wR({children:n}){const{className:e}=z.useContext(xR);return Se.createElement(Ahe,{className:e},n)}const Mme=["align"];function Ame(){const{id:n,disable:e,disabled:t}=rl();return Se.createElement(Se.Fragment,null,Se.createElement(Sme,{id:n+"__disable",type:"checkbox",checked:!t,onChange:()=>e(!t)}),Se.createElement("label",{htmlFor:n+"__disable"}))}function Cme(n){const{id:e,optional:t,hint:i}=rl(),r=n.htmlFor||(e?{htmlFor:e}:null),s=!i&&typeof n.children=="string"?{title:n.children}:null;return Se.createElement(Se.Fragment,null,t&&Se.createElement(Ame,null),i!==void 0?Se.createElement(zpe,null,Se.createElement(Upe,{asChild:!0},Se.createElement(OA,ta({},r,n))),Se.createElement(Bpe,{side:"top",sideOffset:2},Se.createElement(Eme,null,i,Se.createElement(Tme,null)))):Se.createElement(OA,ta({},r,s,n)))}function bf(n){let{align:e}=n,t=Jr(n,Mme);const{value:i,label:r,key:s,disabled:a}=rl(),{hideCopyButton:o}=ume(),l=!o&&s!==void 0,[u,d]=z.useState(!1),m=async()=>{try{await navigator.clipboard.writeText(JSON.stringify({[s]:i??""})),d(!0)}catch{ud(Fs.CLIPBOARD_ERROR,{[s]:i})}};return Se.createElement(xme,{align:e,onPointerLeave:()=>d(!1)},Se.createElement(Cme,t),l&&!a&&Se.createElement("div",{title:`Click to copy ${typeof r=="string"?r:s} value`},u?Se.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},Se.createElement("path",{d:"M9 2a1 1 0 000 2h2a1 1 0 100-2H9z"}),Se.createElement("path",{fillRule:"evenodd",d:"M4 5a2 2 0 012-2 3 3 0 003 3h2a3 3 0 003-3 2 2 0 012 2v11a2 2 0 01-2 2H6a2 2 0 01-2-2V5zm9.707 5.707a1 1 0 00-1.414-1.414L9 12.586l-1.293-1.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})):Se.createElement("svg",{onClick:m,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},Se.createElement("path",{d:"M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z"}),Se.createElement("path",{d:"M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z"}))))}const Rme=["toggled"],Ome=ri("svg",{fill:"currentColor",transition:"transform 350ms ease, fill 250ms ease"});function ER(n){let{toggled:e}=n,t=Jr(n,Rme);return Se.createElement(Ome,ta({width:"9",height:"5",viewBox:"0 0 9 5",xmlns:"http://www.w3.org/2000/svg",style:{transform:`rotate(${e?0:-90}deg)`}},t),Se.createElement("path",{d:"M3.8 4.4c.4.3 1 .3 1.4 0L8 1.7A1 1 0 007.4 0H1.6a1 1 0 00-.7 1.7l3 2.7z"}))}const Pme=["input"];function Pu(n){let{input:e}=n,t=Jr(n,Pme);return e?Se.createElement(y6,t):Se.createElement(v6,t)}function b6({value:n,type:e,settings:t,setValue:i}){const[r,s]=z.useState(D4(e,n,t)),a=z.useRef(n),o=z.useRef(t);o.current=t;const l=z.useCallback(d=>s(D4(e,d,o.current)),[e]),u=z.useCallback(d=>{try{i(d)}catch(m){const{type:v,previousValue:y}=m;if(v!=="LEVA_ERROR")throw m;l(y)}},[l,i]);return z.useEffect(()=>{P_(n,a.current)||l(n),a.current=n},[n,l]),{displayValue:r,onChange:s,onUpdate:u}}function u1(n,e){const{emitOnEditStart:t,emitOnEditEnd:i}=rl();return yfe(r=>{r.first&&(document.body.classList.add("leva__panel__dragged"),t?.());const s=n(r);return r.last&&(document.body.classList.remove("leva__panel__dragged"),i?.()),s},e)}function Dme(n){const e=z.useRef(null),t=z.useRef(null),i=z.useRef(!1);return z.useEffect(()=>{const r=r6(()=>{e.current.width=e.current.offsetWidth*window.devicePixelRatio,e.current.height=e.current.offsetHeight*window.devicePixelRatio,n(e.current,t.current)},250);return window.addEventListener("resize",r),i.current||(r(),i.current=!0),()=>window.removeEventListener("resize",r)},[n]),z.useEffect(()=>{t.current=e.current.getContext("2d")},[]),[e,t]}function x6(){const n=z.useRef(null),e=z.useRef({x:0,y:0}),t=z.useCallback(i=>{Object.assign(e.current,i),n.current&&(n.current.style.transform=`translate3d(${e.current.x}px, ${e.current.y}px, 0)`)},[]);return[n,t]}const Lme=["__refCount"],qM=(n,e)=>{if(!n[e])return null;const t=n[e];return Jr(t,Lme)};function Nme(n){const e=c1(),[t,i]=z.useState(qM(e.getData(),n)),r=z.useCallback(u=>e.setValueAtPath(n,u,!0),[n,e]),s=z.useCallback(u=>e.setSettingsAtPath(n,u),[n,e]),a=z.useCallback(u=>e.disableInputAtPath(n,u),[n,e]),o=z.useCallback(()=>e.emitOnEditStart(n),[n,e]),l=z.useCallback(()=>e.emitOnEditEnd(n),[n,e]);return z.useEffect(()=>{i(qM(e.getData(),n));const u=e.useStore.subscribe(d=>qM(d.data,n),i,{equalityFn:lE});return()=>u()},[e,n]),[t,{set:r,setSettings:s,disable:a,storeId:e.storeId,emitOnEditStart:o,emitOnEditEnd:l}]}const Ime=ri("div",{variants:{hasRange:{true:{position:"relative",display:"grid",gridTemplateColumns:"auto $sizes$numberInputMinWidth",columnGap:"$colGap",alignItems:"center"}}}}),S6=ri("div",{position:"relative",width:"100%",height:2,borderRadius:"$xs",backgroundColor:"$elevation1"}),PA=ri("div",{position:"absolute",width:"$scrubberWidth",height:"$scrubberHeight",borderRadius:"$xs",boxShadow:"0 0 0 2px $colors$elevation2",backgroundColor:"$accent2",cursor:"pointer",$active:"none $accent1",$hover:"none $accent3",variants:{position:{left:{borderTopRightRadius:0,borderBottomRightRadius:0,transform:"translateX(calc(-0.5 * ($sizes$scrubberWidth + 4px)))"},right:{borderTopLeftRadius:0,borderBottomLeftRadius:0,transform:"translateX(calc(0.5 * ($sizes$scrubberWidth + 4px)))"}}}}),w6=ri("div",{position:"relative",$flex:"",height:"100%",cursor:"pointer",touchAction:"none"}),E6=ri("div",{position:"absolute",height:"100%",backgroundColor:"$accent2"});function zme({value:n,min:e,max:t,onDrag:i,step:r,initialValue:s}){const a=z.useRef(null),o=z.useRef(null),l=z.useRef(0),u=_d("sizes","scrubberWidth"),d=u1(({event:v,first:y,xy:[x],movement:[T],memo:E})=>{if(y){const{width:P,left:D}=a.current.getBoundingClientRect();l.current=P-parseFloat(u),E=v?.target===o.current?n:tw((x-D)/P,e,t)}const w=E+tw(T/l.current,0,t-e);return i(l6(w,{step:r,initialValue:s})),E}),m=ew(n,e,t);return Se.createElement(w6,ta({ref:a},d()),Se.createElement(S6,null,Se.createElement(E6,{style:{left:0,right:`${(1-m)*100}%`}})),Se.createElement(PA,{ref:o,style:{left:`calc(${m} * (100% - ${u}))`}}))}const Ume=Se.memo(({label:n,onUpdate:e,step:t,innerLabelTrim:i})=>{const[r,s]=z.useState(!1),a=u1(({active:o,delta:[l],event:u,memo:d=0,first:m,last:v,target:y})=>(m&&y.requestPointerLock(),v&&document.exitPointerLock(),s(o),d+=l/2,Math.abs(d)>=1&&(e(x=>parseFloat(x)+Math.floor(d)*t*s6(u)),d=0),d));return Se.createElement(mme,ta({dragging:r,title:n.length>1?n:""},a()),n.slice(0,i))});function T6({label:n,id:e,displayValue:t,onUpdate:i,onChange:r,settings:s,innerLabelTrim:a=1}){const o=a>0&&Se.createElement(Ume,{label:n,step:s.step,onUpdate:i,innerLabelTrim:a});return Se.createElement(_me,{id:e,value:String(t),onUpdate:i,onChange:r,innerLabel:o})}function Bme(){const n=rl(),{label:e,value:t,onUpdate:i,settings:r,id:s}=n,{min:a,max:o}=r,l=o!==1/0&&a!==-1/0;return Se.createElement(Pu,{input:!0},Se.createElement(bf,null,e),Se.createElement(Ime,{hasRange:l},l&&Se.createElement(zme,ta({value:parseFloat(t),onDrag:i},r)),Se.createElement(T6,ta({},n,{id:s,label:"value",innerLabelTrim:l?0:1}))))}const{sanitizeStep:kme}=c6,Hme=Jr(c6,["sanitizeStep"]);var Fme=pi({component:Bme},Hme);const Vme=(n,e)=>hc().schema({options:hc().passesAnyOf(hc().object(),hc().array())}).test(e),Gme=(n,{values:e})=>{if(e.indexOf(n)<0)throw Error("Selected value doesn't match Select options");return n},jme=(n,{values:e})=>e.indexOf(n),$me=n=>{let{value:e,options:t}=n,i,r;return Array.isArray(t)?(r=t,i=t.map(s=>String(s))):(r=Object.values(t),i=Object.keys(t)),"value"in n?r.includes(e)||(i.unshift(String(e)),r.unshift(e)):e=r[0],Object.values(t).includes(e)||(t[String(e)]=e),{value:e,settings:{keys:i,values:r}}};var qme=Object.freeze({__proto__:null,schema:Vme,sanitize:Gme,format:jme,normalize:$me});const Wme=ri("div",{$flexCenter:"",position:"relative","> svg":{pointerEvents:"none",position:"absolute",right:"$md"}}),DA=ri("select",{position:"absolute",top:0,left:0,width:"100%",height:"100%",opacity:0}),Xme=ri("div",{display:"flex",alignItems:"center",width:"100%",height:"$rowHeight",backgroundColor:"$elevation3",borderRadius:"$sm",padding:"0 $sm",cursor:"pointer",[`${DA}:focus + &`]:{$focusStyle:""},[`${DA}:hover + &`]:{$hoverStyle:""}});function Yme({displayValue:n,value:e,onUpdate:t,id:i,settings:r,disabled:s}){const{keys:a,values:o}=r,l=z.useRef();return e===o[n]&&(l.current=a[n]),Se.createElement(Wme,null,Se.createElement(DA,{id:i,value:n,onChange:u=>t(o[Number(u.currentTarget.value)]),disabled:s},a.map((u,d)=>Se.createElement("option",{key:u,value:d},u))),Se.createElement(Xme,null,l.current),Se.createElement(ER,{toggled:!0}))}function Zme(){const{label:n,value:e,displayValue:t,onUpdate:i,id:r,disabled:s,settings:a}=rl();return Se.createElement(Pu,{input:!0},Se.createElement(bf,null,n),Se.createElement(Yme,{id:r,value:e,displayValue:t,onUpdate:i,settings:a,disabled:s}))}var Kme=pi({component:Zme},qme);const Qme=n=>hc().string().test(n),Jme=n=>{if(typeof n!="string")throw Error("Invalid string");return n},ege=({value:n,editable:e=!0,rows:t=!1})=>({value:n,settings:{editable:e,rows:typeof t=="number"?t:t?5:0}});var tge=Object.freeze({__proto__:null,schema:Qme,sanitize:Jme,normalize:ege});const nge=["displayValue","onUpdate","onChange","editable"],ige=ri("div",{whiteSpace:"pre-wrap"});function rge(n){let{displayValue:e,onUpdate:t,onChange:i,editable:r=!0}=n,s=Jr(n,nge);return r?Se.createElement(SR,ta({value:e,onUpdate:t,onChange:i},s)):Se.createElement(ige,null,e)}function sge(){const{label:n,settings:e,displayValue:t,onUpdate:i,onChange:r}=rl();return Se.createElement(Pu,{input:!0},Se.createElement(bf,null,n),Se.createElement(rge,ta({displayValue:t,onUpdate:i,onChange:r},e)))}var age=pi({component:sge},tge);const oge=n=>hc().boolean().test(n),lge=n=>{if(typeof n!="boolean")throw Error("Invalid boolean");return n};var cge=Object.freeze({__proto__:null,schema:oge,sanitize:lge});const uge=ri("div",{position:"relative",$flex:"",height:"$rowHeight",input:{$reset:"",height:0,width:0,opacity:0,margin:0},label:{position:"relative",$flexCenter:"",userSelect:"none",cursor:"pointer",height:"$checkboxSize",width:"$checkboxSize",backgroundColor:"$elevation3",borderRadius:"$sm",$hover:""},"input:focus + label":{$focusStyle:""},"input:focus:checked + label, input:checked + label:hover":{$hoverStyle:"$accent3"},"input + label:active":{backgroundColor:"$accent1"},"input:checked + label:active":{backgroundColor:"$accent1"},"label > svg":{display:"none",width:"90%",height:"90%",stroke:"$highlight3"},"input:checked + label":{backgroundColor:"$accent2"},"input:checked + label > svg":{display:"block"}});function fge({value:n,onUpdate:e,id:t,disabled:i}){return Se.createElement(uge,null,Se.createElement("input",{id:t,type:"checkbox",checked:n,onChange:r=>e(r.currentTarget.checked),disabled:i}),Se.createElement("label",{htmlFor:t},Se.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},Se.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"}))))}function hge(){const{label:n,value:e,onUpdate:t,disabled:i,id:r}=rl();return Se.createElement(Pu,{input:!0},Se.createElement(bf,null,n),Se.createElement(fge,{value:e,onUpdate:t,id:r,disabled:i}))}var dge=pi({component:hge},cge);const pge=["locked"];function mge({value:n,id:e,valueKey:t,settings:i,onUpdate:r,innerLabelTrim:s}){const a=z.useRef(n[t]);a.current=n[t];const o=z.useCallback(u=>r({[t]:i6({type:"NUMBER",value:a.current,settings:i},u)}),[r,i,t]),l=b6({type:"NUMBER",value:n[t],settings:i,setValue:o});return Se.createElement(T6,{id:e,label:t,value:n[t],displayValue:l.displayValue,onUpdate:l.onUpdate,onChange:l.onChange,settings:i,innerLabelTrim:s})}const gge=ri("div",{display:"grid",columnGap:"$colGap",gridAutoFlow:"column dense",alignItems:"center",variants:{withLock:{true:{gridTemplateColumns:"10px auto","> svg":{cursor:"pointer"}}}}});function vge(n){let{locked:e}=n,t=Jr(n,pge);return Se.createElement("svg",ta({width:"10",height:"10",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),e?Se.createElement("path",{d:"M5 4.63601C5 3.76031 5.24219 3.1054 5.64323 2.67357C6.03934 2.24705 6.64582 1.9783 7.5014 1.9783C8.35745 1.9783 8.96306 2.24652 9.35823 2.67208C9.75838 3.10299 10 3.75708 10 4.63325V5.99999H5V4.63601ZM4 5.99999V4.63601C4 3.58148 4.29339 2.65754 4.91049 1.99307C5.53252 1.32329 6.42675 0.978302 7.5014 0.978302C8.57583 0.978302 9.46952 1.32233 10.091 1.99162C10.7076 2.65557 11 3.57896 11 4.63325V5.99999H12C12.5523 5.99999 13 6.44771 13 6.99999V13C13 13.5523 12.5523 14 12 14H3C2.44772 14 2 13.5523 2 13V6.99999C2 6.44771 2.44772 5.99999 3 5.99999H4ZM3 6.99999H12V13H3V6.99999Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"}):Se.createElement("path",{d:"M9 3.63601C9 2.76044 9.24207 2.11211 9.64154 1.68623C10.0366 1.26502 10.6432 1 11.5014 1C12.4485 1 13.0839 1.30552 13.4722 1.80636C13.8031 2.23312 14 2.84313 14 3.63325H15C15 2.68242 14.7626 1.83856 14.2625 1.19361C13.6389 0.38943 12.6743 0 11.5014 0C10.4294 0 9.53523 0.337871 8.91218 1.0021C8.29351 1.66167 8 2.58135 8 3.63601V6H1C0.447715 6 0 6.44772 0 7V13C0 13.5523 0.447715 14 1 14H10C10.5523 14 11 13.5523 11 13V7C11 6.44772 10.5523 6 10 6H9V3.63601ZM1 7H10V13H1V7Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"}))}function TR({value:n,onUpdate:e,settings:t,innerLabelTrim:i}){const{id:r,setSettings:s}=rl(),{lock:a,locked:o}=t;return Se.createElement(gge,{withLock:a},a&&Se.createElement(vge,{locked:o,onClick:()=>s({locked:!o})}),Object.keys(n).map((l,u)=>Se.createElement(mge,{id:u===0?r:`${r}.${l}`,key:l,valueKey:l,value:n,settings:t[l],onUpdate:e,innerLabelTrim:i})))}const M6=(n,e)=>{const t={};let i=0,r=1/0;Object.entries(n).forEach(([s,a])=>{t[s]=o6(pi({value:a},e[s])).settings,i=Math.max(i,t[s].step),r=Math.min(r,t[s].pad)});for(let s in t){const{step:a,min:o,max:l}=e[s]||{};!isFinite(a)&&(!isFinite(o)||!isFinite(l))&&(t[s].step=i,t[s].pad=r)}return t},yge=["lock"],_ge=["value"];function bge(n){const e=hc().array().length(n).every.number(),t=i=>{if(!i||typeof i!="object")return!1;const r=Object.values(i);return r.length===n&&r.every(s=>isFinite(s))};return i=>e.test(i)||t(i)}function xge(n){return Array.isArray(n)?"array":"object"}function i_(n,e,t){return xge(n)===e?n:e==="array"?Object.values(n):Jpe(n,t)}const Sge=(n,e,t)=>{const i=i_(n,"object",e.keys);for(let a in i)i[a]=a6(i[a],e[a]);const r=Object.keys(i);let s={};if(r.length===e.keys.length)s=i;else{const a=i_(t,"object",e.keys);if(r.length===1&&e.locked){const o=r[0],l=i[o],u=a[o],d=u!==0?l/u:1;for(let m in a)m===o?s[o]=l:s[m]=a[m]*d}else s=pi(pi({},a),i)}return i_(s,e.format,e.keys)},wge=(n,e)=>i_(n,"object",e.keys),Ege=n=>!!n&&("step"in n||"min"in n||"max"in n);function Tge(n,e,t=[]){const{lock:i=!1}=e,r=Jr(e,yge),s=Array.isArray(n)?"array":"object",a=s==="object"?Object.keys(n):t,o=i_(n,"object",a),l=Ege(r)?a.reduce((d,m)=>Object.assign(d,{[m]:r}),{}):r,u=M6(o,l);return{value:s==="array"?n:o,settings:pi(pi({},u),{},{format:s,keys:a,lock:i,locked:!1})}}function A6(n){return{schema:bge(n.length),normalize:e=>{let{value:t}=e,i=Jr(e,_ge);return Tge(t,i,n)},format:(e,t)=>wge(e,t),sanitize:(e,t,i)=>Sge(e,t,i)}}var Mge={grad:.9,turn:360,rad:360/(2*Math.PI)},nd=function(n){return typeof n=="string"?n.length>0:typeof n=="number"},ro=function(n,e,t){return e===void 0&&(e=0),t===void 0&&(t=Math.pow(10,e)),Math.round(t*n)/t+0},Cu=function(n,e,t){return e===void 0&&(e=0),t===void 0&&(t=1),n>t?t:n>e?n:e},C6=function(n){return(n=isFinite(n)?n%360:0)>0?n:n+360},V4=function(n){return{r:Cu(n.r,0,255),g:Cu(n.g,0,255),b:Cu(n.b,0,255),a:Cu(n.a)}},WM=function(n){return{r:ro(n.r),g:ro(n.g),b:ro(n.b),a:ro(n.a,3)}},Age=/^#([0-9a-f]{3,8})$/i,bx=function(n){var e=n.toString(16);return e.length<2?"0"+e:e},R6=function(n){var e=n.r,t=n.g,i=n.b,r=n.a,s=Math.max(e,t,i),a=s-Math.min(e,t,i),o=a?s===e?(t-i)/a:s===t?2+(i-e)/a:4+(e-t)/a:0;return{h:60*(o<0?o+6:o),s:s?a/s*100:0,v:s/255*100,a:r}},O6=function(n){var e=n.h,t=n.s,i=n.v,r=n.a;e=e/360*6,t/=100,i/=100;var s=Math.floor(e),a=i*(1-t),o=i*(1-(e-s)*t),l=i*(1-(1-e+s)*t),u=s%6;return{r:255*[i,o,a,a,l,i][u],g:255*[l,i,i,o,a,a][u],b:255*[a,a,l,i,i,o][u],a:r}},G4=function(n){return{h:C6(n.h),s:Cu(n.s,0,100),l:Cu(n.l,0,100),a:Cu(n.a)}},j4=function(n){return{h:ro(n.h),s:ro(n.s),l:ro(n.l),a:ro(n.a,3)}},$4=function(n){return O6((t=(e=n).s,{h:e.h,s:(t*=((i=e.l)<50?i:100-i)/100)>0?2*t/(i+t)*100:0,v:i+t,a:e.a}));var e,t,i},r_=function(n){return{h:(e=R6(n)).h,s:(r=(200-(t=e.s))*(i=e.v)/100)>0&&r<200?t*i/100/(r<=100?r:200-r)*100:0,l:r/2,a:e.a};var e,t,i,r},Cge=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*,\s*([+-]?\d*\.?\d+)%\s*,\s*([+-]?\d*\.?\d+)%\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,Rge=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,Oge=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,Pge=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,LA={string:[[function(n){var e=Age.exec(n);return e?(n=e[1]).length<=4?{r:parseInt(n[0]+n[0],16),g:parseInt(n[1]+n[1],16),b:parseInt(n[2]+n[2],16),a:n.length===4?ro(parseInt(n[3]+n[3],16)/255,2):1}:n.length===6||n.length===8?{r:parseInt(n.substr(0,2),16),g:parseInt(n.substr(2,2),16),b:parseInt(n.substr(4,2),16),a:n.length===8?ro(parseInt(n.substr(6,2),16)/255,2):1}:null:null},"hex"],[function(n){var e=Oge.exec(n)||Pge.exec(n);return e?e[2]!==e[4]||e[4]!==e[6]?null:V4({r:Number(e[1])/(e[2]?100/255:1),g:Number(e[3])/(e[4]?100/255:1),b:Number(e[5])/(e[6]?100/255:1),a:e[7]===void 0?1:Number(e[7])/(e[8]?100:1)}):null},"rgb"],[function(n){var e=Cge.exec(n)||Rge.exec(n);if(!e)return null;var t,i,r=G4({h:(t=e[1],i=e[2],i===void 0&&(i="deg"),Number(t)*(Mge[i]||1)),s:Number(e[3]),l:Number(e[4]),a:e[5]===void 0?1:Number(e[5])/(e[6]?100:1)});return $4(r)},"hsl"]],object:[[function(n){var e=n.r,t=n.g,i=n.b,r=n.a,s=r===void 0?1:r;return nd(e)&&nd(t)&&nd(i)?V4({r:Number(e),g:Number(t),b:Number(i),a:Number(s)}):null},"rgb"],[function(n){var e=n.h,t=n.s,i=n.l,r=n.a,s=r===void 0?1:r;if(!nd(e)||!nd(t)||!nd(i))return null;var a=G4({h:Number(e),s:Number(t),l:Number(i),a:Number(s)});return $4(a)},"hsl"],[function(n){var e=n.h,t=n.s,i=n.v,r=n.a,s=r===void 0?1:r;if(!nd(e)||!nd(t)||!nd(i))return null;var a=(function(o){return{h:C6(o.h),s:Cu(o.s,0,100),v:Cu(o.v,0,100),a:Cu(o.a)}})({h:Number(e),s:Number(t),v:Number(i),a:Number(s)});return O6(a)},"hsv"]]},q4=function(n,e){for(var t=0;t<e.length;t++){var i=e[t][0](n);if(i)return[i,e[t][1]]}return[null,void 0]},P6=function(n){return typeof n=="string"?q4(n.trim(),LA.string):typeof n=="object"&&n!==null?q4(n,LA.object):[null,void 0]},Dge=function(n){return P6(n)[1]},XM=function(n,e){var t=r_(n);return{h:t.h,s:Cu(t.s+100*e,0,100),l:t.l,a:t.a}},YM=function(n){return(299*n.r+587*n.g+114*n.b)/1e3/255},W4=function(n,e){var t=r_(n);return{h:t.h,s:t.s,l:Cu(t.l+100*e,0,100),a:t.a}},NA=(function(){function n(e){this.parsed=P6(e)[0],this.rgba=this.parsed||{r:0,g:0,b:0,a:1}}return n.prototype.isValid=function(){return this.parsed!==null},n.prototype.brightness=function(){return ro(YM(this.rgba),2)},n.prototype.isDark=function(){return YM(this.rgba)<.5},n.prototype.isLight=function(){return YM(this.rgba)>=.5},n.prototype.toHex=function(){return e=WM(this.rgba),t=e.r,i=e.g,r=e.b,a=(s=e.a)<1?bx(ro(255*s)):"","#"+bx(t)+bx(i)+bx(r)+a;var e,t,i,r,s,a},n.prototype.toRgb=function(){return WM(this.rgba)},n.prototype.toRgbString=function(){return e=WM(this.rgba),t=e.r,i=e.g,r=e.b,(s=e.a)<1?"rgba("+t+", "+i+", "+r+", "+s+")":"rgb("+t+", "+i+", "+r+")";var e,t,i,r,s},n.prototype.toHsl=function(){return j4(r_(this.rgba))},n.prototype.toHslString=function(){return e=j4(r_(this.rgba)),t=e.h,i=e.s,r=e.l,(s=e.a)<1?"hsla("+t+", "+i+"%, "+r+"%, "+s+")":"hsl("+t+", "+i+"%, "+r+"%)";var e,t,i,r,s},n.prototype.toHsv=function(){return e=R6(this.rgba),{h:ro(e.h),s:ro(e.s),v:ro(e.v),a:ro(e.a,3)};var e},n.prototype.invert=function(){return Dl({r:255-(e=this.rgba).r,g:255-e.g,b:255-e.b,a:e.a});var e},n.prototype.saturate=function(e){return e===void 0&&(e=.1),Dl(XM(this.rgba,e))},n.prototype.desaturate=function(e){return e===void 0&&(e=.1),Dl(XM(this.rgba,-e))},n.prototype.grayscale=function(){return Dl(XM(this.rgba,-1))},n.prototype.lighten=function(e){return e===void 0&&(e=.1),Dl(W4(this.rgba,e))},n.prototype.darken=function(e){return e===void 0&&(e=.1),Dl(W4(this.rgba,-e))},n.prototype.rotate=function(e){return e===void 0&&(e=15),this.hue(this.hue()+e)},n.prototype.alpha=function(e){return typeof e=="number"?Dl({r:(t=this.rgba).r,g:t.g,b:t.b,a:e}):ro(this.rgba.a,3);var t},n.prototype.hue=function(e){var t=r_(this.rgba);return typeof e=="number"?Dl({h:e,s:t.s,l:t.l,a:t.a}):ro(t.h)},n.prototype.isEqual=function(e){return this.toHex()===Dl(e).toHex()},n})(),Dl=function(n){return n instanceof NA?n:new NA(n)},X4=[],Lge=function(n){n.forEach(function(e){X4.indexOf(e)<0&&(e(NA,LA),X4.push(e))})};function Nge(n,e){var t={white:"#ffffff",bisque:"#ffe4c4",blue:"#0000ff",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",antiquewhite:"#faebd7",aqua:"#00ffff",azure:"#f0ffff",whitesmoke:"#f5f5f5",papayawhip:"#ffefd5",plum:"#dda0dd",blanchedalmond:"#ffebcd",black:"#000000",gold:"#ffd700",goldenrod:"#daa520",gainsboro:"#dcdcdc",cornsilk:"#fff8dc",cornflowerblue:"#6495ed",burlywood:"#deb887",aquamarine:"#7fffd4",beige:"#f5f5dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkkhaki:"#bdb76b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",peachpuff:"#ffdab9",darkmagenta:"#8b008b",darkred:"#8b0000",darkorchid:"#9932cc",darkorange:"#ff8c00",darkslateblue:"#483d8b",gray:"#808080",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",deeppink:"#ff1493",deepskyblue:"#00bfff",wheat:"#f5deb3",firebrick:"#b22222",floralwhite:"#fffaf0",ghostwhite:"#f8f8ff",darkviolet:"#9400d3",magenta:"#ff00ff",green:"#008000",dodgerblue:"#1e90ff",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",blueviolet:"#8a2be2",forestgreen:"#228b22",lawngreen:"#7cfc00",indianred:"#cd5c5c",indigo:"#4b0082",fuchsia:"#ff00ff",brown:"#a52a2a",maroon:"#800000",mediumblue:"#0000cd",lightcoral:"#f08080",darkturquoise:"#00ced1",lightcyan:"#e0ffff",ivory:"#fffff0",lightyellow:"#ffffe0",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",linen:"#faf0e6",mediumaquamarine:"#66cdaa",lemonchiffon:"#fffacd",lime:"#00ff00",khaki:"#f0e68c",mediumseagreen:"#3cb371",limegreen:"#32cd32",mediumspringgreen:"#00fa9a",lightskyblue:"#87cefa",lightblue:"#add8e6",midnightblue:"#191970",lightpink:"#ffb6c1",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",mintcream:"#f5fffa",lightslategray:"#778899",lightslategrey:"#778899",navajowhite:"#ffdead",navy:"#000080",mediumvioletred:"#c71585",powderblue:"#b0e0e6",palegoldenrod:"#eee8aa",oldlace:"#fdf5e6",paleturquoise:"#afeeee",mediumturquoise:"#48d1cc",mediumorchid:"#ba55d3",rebeccapurple:"#663399",lightsteelblue:"#b0c4de",mediumslateblue:"#7b68ee",thistle:"#d8bfd8",tan:"#d2b48c",orchid:"#da70d6",mediumpurple:"#9370db",purple:"#800080",pink:"#ffc0cb",skyblue:"#87ceeb",springgreen:"#00ff7f",palegreen:"#98fb98",red:"#ff0000",yellow:"#ffff00",slateblue:"#6a5acd",lavenderblush:"#fff0f5",peru:"#cd853f",palevioletred:"#db7093",violet:"#ee82ee",teal:"#008080",slategray:"#708090",slategrey:"#708090",aliceblue:"#f0f8ff",darkseagreen:"#8fbc8f",darkolivegreen:"#556b2f",greenyellow:"#adff2f",seagreen:"#2e8b57",seashell:"#fff5ee",tomato:"#ff6347",silver:"#c0c0c0",sienna:"#a0522d",lavender:"#e6e6fa",lightgreen:"#90ee90",orange:"#ffa500",orangered:"#ff4500",steelblue:"#4682b4",royalblue:"#4169e1",turquoise:"#40e0d0",yellowgreen:"#9acd32",salmon:"#fa8072",saddlebrown:"#8b4513",sandybrown:"#f4a460",rosybrown:"#bc8f8f",darksalmon:"#e9967a",lightgoldenrodyellow:"#fafad2",snow:"#fffafa",lightgrey:"#d3d3d3",lightgray:"#d3d3d3",dimgray:"#696969",dimgrey:"#696969",olivedrab:"#6b8e23",olive:"#808000"},i={};for(var r in t)i[t[r]]=r;var s={};n.prototype.toName=function(a){if(!(this.rgba.a||this.rgba.r||this.rgba.g||this.rgba.b))return"transparent";var o,l,u=i[this.toHex()];if(u)return u;if(a?.closest){var d=this.toRgb(),m=1/0,v="black";if(!s.length)for(var y in t)s[y]=new n(t[y]).toRgb();for(var x in t){var T=(o=d,l=s[x],Math.pow(o.r-l.r,2)+Math.pow(o.g-l.g,2)+Math.pow(o.b-l.b,2));T<m&&(m=T,v=x)}return v}},e.string.push([function(a){var o=a.toLowerCase(),l=o==="transparent"?"#0000":t[o];return l?new n(l).toRgb():null},"name"])}function Ly(){return(Ly=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n}).apply(this,arguments)}function MR(n,e){if(n==null)return{};var t,i,r={},s=Object.keys(n);for(i=0;i<s.length;i++)e.indexOf(t=s[i])>=0||(r[t]=n[t]);return r}function IA(n){var e=z.useRef(n),t=z.useRef(function(i){e.current&&e.current(i)});return e.current=n,t.current}var xy=function(n,e,t){return e===void 0&&(e=0),t===void 0&&(t=1),n>t?t:n<e?e:n},s_=function(n){return"touches"in n},zA=function(n){return n&&n.ownerDocument.defaultView||self},Y4=function(n,e,t){var i=n.getBoundingClientRect(),r=s_(e)?(function(s,a){for(var o=0;o<s.length;o++)if(s[o].identifier===a)return s[o];return s[0]})(e.touches,t):e;return{left:xy((r.pageX-(i.left+zA(n).pageXOffset))/i.width),top:xy((r.pageY-(i.top+zA(n).pageYOffset))/i.height)}},Z4=function(n){!s_(n)&&n.preventDefault()},AR=Se.memo(function(n){var e=n.onMove,t=n.onKey,i=MR(n,["onMove","onKey"]),r=z.useRef(null),s=IA(e),a=IA(t),o=z.useRef(null),l=z.useRef(!1),u=z.useMemo(function(){var y=function(E){Z4(E),(s_(E)?E.touches.length>0:E.buttons>0)&&r.current?s(Y4(r.current,E,o.current)):T(!1)},x=function(){return T(!1)};function T(E){var w=l.current,P=zA(r.current),D=E?P.addEventListener:P.removeEventListener;D(w?"touchmove":"mousemove",y),D(w?"touchend":"mouseup",x)}return[function(E){var w=E.nativeEvent,P=r.current;if(P&&(Z4(w),!(function(N,G){return G&&!s_(N)})(w,l.current)&&P)){if(s_(w)){l.current=!0;var D=w.changedTouches||[];D.length&&(o.current=D[0].identifier)}P.focus(),s(Y4(P,w,o.current)),T(!0)}},function(E){var w=E.which||E.keyCode;w<37||w>40||(E.preventDefault(),a({left:w===39?.05:w===37?-.05:0,top:w===40?.05:w===38?-.05:0}))},T]},[a,s]),d=u[0],m=u[1],v=u[2];return z.useEffect(function(){return v},[v]),Se.createElement("div",Ly({},i,{onTouchStart:d,onMouseDown:d,className:"react-colorful__interactive",ref:r,onKeyDown:m,tabIndex:0,role:"slider"}))}),f1=function(n){return n.filter(Boolean).join(" ")},CR=function(n){var e=n.color,t=n.left,i=n.top,r=i===void 0?.5:i,s=f1(["react-colorful__pointer",n.className]);return Se.createElement("div",{className:s,style:{top:100*r+"%",left:100*t+"%"}},Se.createElement("div",{className:"react-colorful__pointer-fill",style:{backgroundColor:e}}))},zl=function(n,e,t){return e===void 0&&(e=0),t===void 0&&(t=Math.pow(10,e)),Math.round(t*n)/t},D6=function(n){var e=n.s,t=n.v,i=n.a,r=(200-e)*t/100;return{h:zl(n.h),s:zl(r>0&&r<200?e*t/100/(r<=100?r:200-r)*100:0),l:zl(r/2),a:zl(i,2)}},UA=function(n){var e=D6(n);return"hsl("+e.h+", "+e.s+"%, "+e.l+"%)"},ZM=function(n){var e=D6(n);return"hsla("+e.h+", "+e.s+"%, "+e.l+"%, "+e.a+")"},L6=function(n){var e=n.h,t=n.s,i=n.v,r=n.a;e=e/360*6,t/=100,i/=100;var s=Math.floor(e),a=i*(1-t),o=i*(1-(e-s)*t),l=i*(1-(1-e+s)*t),u=s%6;return{r:zl(255*[i,o,a,a,l,i][u]),g:zl(255*[l,i,i,o,a,a][u]),b:zl(255*[a,a,l,i,i,o][u]),a:zl(r,2)}},N6=function(n){var e=n.r,t=n.g,i=n.b,r=n.a,s=Math.max(e,t,i),a=s-Math.min(e,t,i),o=a?s===e?(t-i)/a:s===t?2+(i-e)/a:4+(e-t)/a:0;return{h:zl(60*(o<0?o+6:o)),s:zl(s?a/s*100:0),v:zl(s/255*100),a:r}},I6=Se.memo(function(n){var e=n.hue,t=n.onChange,i=f1(["react-colorful__hue",n.className]);return Se.createElement("div",{className:i},Se.createElement(AR,{onMove:function(r){t({h:360*r.left})},onKey:function(r){t({h:xy(e+360*r.left,0,360)})},"aria-label":"Hue","aria-valuenow":zl(e),"aria-valuemax":"360","aria-valuemin":"0"},Se.createElement(CR,{className:"react-colorful__hue-pointer",left:e/360,color:UA({h:e,s:100,v:100,a:1})})))}),z6=Se.memo(function(n){var e=n.hsva,t=n.onChange,i={backgroundColor:UA({h:e.h,s:100,v:100,a:1})};return Se.createElement("div",{className:"react-colorful__saturation",style:i},Se.createElement(AR,{onMove:function(r){t({s:100*r.left,v:100-100*r.top})},onKey:function(r){t({s:xy(e.s+100*r.left,0,100),v:xy(e.v-100*r.top,0,100)})},"aria-label":"Color","aria-valuetext":"Saturation "+zl(e.s)+"%, Brightness "+zl(e.v)+"%"},Se.createElement(CR,{className:"react-colorful__saturation-pointer",top:1-e.v/100,left:e.s/100,color:UA(e)})))}),RR=function(n,e){if(n===e)return!0;for(var t in n)if(n[t]!==e[t])return!1;return!0};function U6(n,e,t){var i=IA(t),r=z.useState(function(){return n.toHsva(e)}),s=r[0],a=r[1],o=z.useRef({color:e,hsva:s});z.useEffect(function(){if(!n.equal(e,o.current.color)){var u=n.toHsva(e);o.current={hsva:u,color:e},a(u)}},[e,n]),z.useEffect(function(){var u;RR(s,o.current.hsva)||n.equal(u=n.fromHsva(s),o.current.color)||(o.current={hsva:s,color:u},i(u))},[s,n,i]);var l=z.useCallback(function(u){a(function(d){return Object.assign({},d,u)})},[]);return[s,l]}var Ige=typeof window<"u"?z.useLayoutEffect:z.useEffect,zge=function(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:void 0},K4=new Map,B6=function(n){Ige(function(){var e=n.current?n.current.ownerDocument:document;if(e!==void 0&&!K4.has(e)){var t=e.createElement("style");t.innerHTML=`.react-colorful{position:relative;display:flex;flex-direction:column;width:200px;height:200px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.react-colorful__saturation{position:relative;flex-grow:1;border-color:transparent;border-bottom:12px solid #000;border-radius:8px 8px 0 0;background-image:linear-gradient(0deg,#000,transparent),linear-gradient(90deg,#fff,hsla(0,0%,100%,0))}.react-colorful__alpha-gradient,.react-colorful__pointer-fill{content:"";position:absolute;left:0;top:0;right:0;bottom:0;pointer-events:none;border-radius:inherit}.react-colorful__alpha-gradient,.react-colorful__saturation{box-shadow:inset 0 0 0 1px rgba(0,0,0,.05)}.react-colorful__alpha,.react-colorful__hue{position:relative;height:24px}.react-colorful__hue{background:linear-gradient(90deg,red 0,#ff0 17%,#0f0 33%,#0ff 50%,#00f 67%,#f0f 83%,red)}.react-colorful__last-control{border-radius:0 0 8px 8px}.react-colorful__interactive{position:absolute;left:0;top:0;right:0;bottom:0;border-radius:inherit;outline:none;touch-action:none}.react-colorful__pointer{position:absolute;z-index:1;box-sizing:border-box;width:28px;height:28px;transform:translate(-50%,-50%);background-color:#fff;border:2px solid #fff;border-radius:50%;box-shadow:0 2px 4px rgba(0,0,0,.2)}.react-colorful__interactive:focus .react-colorful__pointer{transform:translate(-50%,-50%) scale(1.1)}.react-colorful__alpha,.react-colorful__alpha-pointer{background-color:#fff;background-image:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill-opacity=".05"><path d="M8 0h8v8H8zM0 8h8v8H0z"/></svg>')}.react-colorful__saturation-pointer{z-index:3}.react-colorful__hue-pointer{z-index:2}`,K4.set(e,t);var i=zge();i&&t.setAttribute("nonce",i),e.head.appendChild(t)}},[])},Uge=function(n){var e=n.className,t=n.colorModel,i=n.color,r=i===void 0?t.defaultColor:i,s=n.onChange,a=MR(n,["className","colorModel","color","onChange"]),o=z.useRef(null);B6(o);var l=U6(t,r,s),u=l[0],d=l[1],m=f1(["react-colorful",e]);return Se.createElement("div",Ly({},a,{ref:o,className:m}),Se.createElement(z6,{hsva:u,onChange:d}),Se.createElement(I6,{hue:u.h,onChange:d,className:"react-colorful__last-control"}))},Bge=function(n){var e=n.className,t=n.hsva,i=n.onChange,r={backgroundImage:"linear-gradient(90deg, "+ZM(Object.assign({},t,{a:0}))+", "+ZM(Object.assign({},t,{a:1}))+")"},s=f1(["react-colorful__alpha",e]),a=zl(100*t.a);return Se.createElement("div",{className:s},Se.createElement("div",{className:"react-colorful__alpha-gradient",style:r}),Se.createElement(AR,{onMove:function(o){i({a:o.left})},onKey:function(o){i({a:xy(t.a+o.left)})},"aria-label":"Alpha","aria-valuetext":a+"%","aria-valuenow":a,"aria-valuemin":"0","aria-valuemax":"100"},Se.createElement(CR,{className:"react-colorful__alpha-pointer",left:t.a,color:ZM(t)})))},kge=function(n){var e=n.className,t=n.colorModel,i=n.color,r=i===void 0?t.defaultColor:i,s=n.onChange,a=MR(n,["className","colorModel","color","onChange"]),o=z.useRef(null);B6(o);var l=U6(t,r,s),u=l[0],d=l[1],m=f1(["react-colorful",e]);return Se.createElement("div",Ly({},a,{ref:o,className:m}),Se.createElement(z6,{hsva:u,onChange:d}),Se.createElement(I6,{hue:u.h,onChange:d}),Se.createElement(Bge,{hsva:u,onChange:d,className:"react-colorful__last-control"}))},Hge={defaultColor:{r:0,g:0,b:0,a:1},toHsva:N6,fromHsva:L6,equal:RR},Fge=function(n){return Se.createElement(kge,Ly({},n,{colorModel:Hge}))},Vge={defaultColor:{r:0,g:0,b:0},toHsva:function(n){return N6({r:n.r,g:n.g,b:n.b,a:1})},fromHsva:function(n){return{r:(e=L6(n)).r,g:e.g,b:e.b};var e},equal:RR},Gge=function(n){return Se.createElement(Uge,Ly({},n,{colorModel:Vge}))};function Ny(n,e,t,i){function r(s){return s instanceof t?s:new t(function(a){a(s)})}return new(t||(t=Promise))(function(s,a){function o(d){try{u(i.next(d))}catch(m){a(m)}}function l(d){try{u(i.throw(d))}catch(m){a(m)}}function u(d){d.done?s(d.value):r(d.value).then(o,l)}u((i=i.apply(n,e||[])).next())})}function Iy(n,e){var t={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},i,r,s,a=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return a.next=o(0),a.throw=o(1),a.return=o(2),typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function o(u){return function(d){return l([u,d])}}function l(u){if(i)throw new TypeError("Generator is already executing.");for(;a&&(a=0,u[0]&&(t=0)),t;)try{if(i=1,r&&(s=u[0]&2?r.return:u[0]?r.throw||((s=r.return)&&s.call(r),0):r.next)&&!(s=s.call(r,u[1])).done)return s;switch(r=0,s&&(u=[u[0]&2,s.value]),u[0]){case 0:case 1:s=u;break;case 4:return t.label++,{value:u[1],done:!1};case 5:t.label++,r=u[1],u=[0];continue;case 7:u=t.ops.pop(),t.trys.pop();continue;default:if(s=t.trys,!(s=s.length>0&&s[s.length-1])&&(u[0]===6||u[0]===2)){t=0;continue}if(u[0]===3&&(!s||u[1]>s[0]&&u[1]<s[3])){t.label=u[1];break}if(u[0]===6&&t.label<s[1]){t.label=s[1],s=u;break}if(s&&t.label<s[2]){t.label=s[2],t.ops.push(u);break}s[2]&&t.ops.pop(),t.trys.pop();continue}u=e.call(n,t)}catch(d){u=[6,d],r=0}finally{i=s=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function jge(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var i=t.call(n),r,s=[],a;try{for(;(e===void 0||e-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(o){a={error:o}}finally{try{r&&!r.done&&(t=i.return)&&t.call(i)}finally{if(a)throw a.error}}return s}function $ge(){for(var n=[],e=0;e<arguments.length;e++)n=n.concat(jge(arguments[e]));return n}var qge=new Map([["aac","audio/aac"],["abw","application/x-abiword"],["arc","application/x-freearc"],["avif","image/avif"],["avi","video/x-msvideo"],["azw","application/vnd.amazon.ebook"],["bin","application/octet-stream"],["bmp","image/bmp"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["cda","application/x-cdf"],["csh","application/x-csh"],["css","text/css"],["csv","text/csv"],["doc","application/msword"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["eot","application/vnd.ms-fontobject"],["epub","application/epub+zip"],["gz","application/gzip"],["gif","image/gif"],["heic","image/heic"],["heif","image/heif"],["htm","text/html"],["html","text/html"],["ico","image/vnd.microsoft.icon"],["ics","text/calendar"],["jar","application/java-archive"],["jpeg","image/jpeg"],["jpg","image/jpeg"],["js","text/javascript"],["json","application/json"],["jsonld","application/ld+json"],["mid","audio/midi"],["midi","audio/midi"],["mjs","text/javascript"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mpeg","video/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["opus","audio/opus"],["otf","font/otf"],["png","image/png"],["pdf","application/pdf"],["php","application/x-httpd-php"],["ppt","application/vnd.ms-powerpoint"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["rar","application/vnd.rar"],["rtf","application/rtf"],["sh","application/x-sh"],["svg","image/svg+xml"],["swf","application/x-shockwave-flash"],["tar","application/x-tar"],["tif","image/tiff"],["tiff","image/tiff"],["ts","video/mp2t"],["ttf","font/ttf"],["txt","text/plain"],["vsd","application/vnd.visio"],["wav","audio/wav"],["weba","audio/webm"],["webm","video/webm"],["webp","image/webp"],["woff","font/woff"],["woff2","font/woff2"],["xhtml","application/xhtml+xml"],["xls","application/vnd.ms-excel"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xml","application/xml"],["xul","application/vnd.mozilla.xul+xml"],["zip","application/zip"],["7z","application/x-7z-compressed"],["mkv","video/x-matroska"],["mov","video/quicktime"],["msg","application/vnd.ms-outlook"]]);function h1(n,e){var t=Wge(n);if(typeof t.path!="string"){var i=n.webkitRelativePath;Object.defineProperty(t,"path",{value:typeof e=="string"?e:typeof i=="string"&&i.length>0?i:n.name,writable:!1,configurable:!1,enumerable:!0})}return t}function Wge(n){var e=n.name,t=e&&e.lastIndexOf(".")!==-1;if(t&&!n.type){var i=e.split(".").pop().toLowerCase(),r=qge.get(i);r&&Object.defineProperty(n,"type",{value:r,writable:!1,configurable:!1,enumerable:!0})}return n}var Xge=[".DS_Store","Thumbs.db"];function Yge(n){return Ny(this,void 0,void 0,function(){return Iy(this,function(e){return iw(n)&&Zge(n)?[2,eve(n.dataTransfer,n.type)]:Kge(n)?[2,Qge(n)]:Array.isArray(n)&&n.every(function(t){return"getFile"in t&&typeof t.getFile=="function"})?[2,Jge(n)]:[2,[]]})})}function Zge(n){return iw(n.dataTransfer)}function Kge(n){return iw(n)&&iw(n.target)}function iw(n){return typeof n=="object"&&n!==null}function Qge(n){return BA(n.target.files).map(function(e){return h1(e)})}function Jge(n){return Ny(this,void 0,void 0,function(){var e;return Iy(this,function(t){switch(t.label){case 0:return[4,Promise.all(n.map(function(i){return i.getFile()}))];case 1:return e=t.sent(),[2,e.map(function(i){return h1(i)})]}})})}function eve(n,e){return Ny(this,void 0,void 0,function(){var t,i;return Iy(this,function(r){switch(r.label){case 0:return n===null?[2,[]]:n.items?(t=BA(n.items).filter(function(s){return s.kind==="file"}),e!=="drop"?[2,t]:[4,Promise.all(t.map(tve))]):[3,2];case 1:return i=r.sent(),[2,Q4(k6(i))];case 2:return[2,Q4(BA(n.files).map(function(s){return h1(s)}))]}})})}function Q4(n){return n.filter(function(e){return Xge.indexOf(e.name)===-1})}function BA(n){if(n===null)return[];for(var e=[],t=0;t<n.length;t++){var i=n[t];e.push(i)}return e}function tve(n){if(typeof n.webkitGetAsEntry!="function")return J4(n);var e=n.webkitGetAsEntry();return e&&e.isDirectory?H6(e):J4(n)}function k6(n){return n.reduce(function(e,t){return $ge(e,Array.isArray(t)?k6(t):[t])},[])}function J4(n){var e=n.getAsFile();if(!e)return Promise.reject(n+" is not a File");var t=h1(e);return Promise.resolve(t)}function nve(n){return Ny(this,void 0,void 0,function(){return Iy(this,function(e){return[2,n.isDirectory?H6(n):ive(n)]})})}function H6(n){var e=n.createReader();return new Promise(function(t,i){var r=[];function s(){var a=this;e.readEntries(function(o){return Ny(a,void 0,void 0,function(){var l,u,d;return Iy(this,function(m){switch(m.label){case 0:if(o.length)return[3,5];m.label=1;case 1:return m.trys.push([1,3,,4]),[4,Promise.all(r)];case 2:return l=m.sent(),t(l),[3,4];case 3:return u=m.sent(),i(u),[3,4];case 4:return[3,6];case 5:d=Promise.all(o.map(nve)),r.push(d),s(),m.label=6;case 6:return[2]}})})},function(o){i(o)})}s()})}function ive(n){return Ny(this,void 0,void 0,function(){return Iy(this,function(e){return[2,new Promise(function(t,i){n.file(function(r){var s=h1(r,n.fullPath);t(s)},function(r){i(r)})})]})})}var xx={},eN;function rve(){return eN||(eN=1,xx.__esModule=!0,xx.default=function(n,e){if(n&&e){var t=Array.isArray(e)?e:e.split(",");if(t.length===0)return!0;var i=n.name||"",r=(n.type||"").toLowerCase(),s=r.replace(/\/.*$/,"");return t.some(function(a){var o=a.trim().toLowerCase();return o.charAt(0)==="."?i.toLowerCase().endsWith(o):o.endsWith("/*")?s===o.replace(/\/.*$/,""):r===o})}return!0}),xx}var sve=rve();const ave=Ru(sve);function tN(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function nN(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?tN(Object(t),!0).forEach(function(i){F6(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):tN(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function F6(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function iN(n,e){return uve(n)||cve(n,e)||lve(n,e)||ove()}function ove(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lve(n,e){if(n){if(typeof n=="string")return rN(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return rN(n,e)}}function rN(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,i=new Array(e);t<e;t++)i[t]=n[t];return i}function cve(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var i=[],r=!0,s=!1,a,o;try{for(t=t.call(n);!(r=(a=t.next()).done)&&(i.push(a.value),!(e&&i.length===e));r=!0);}catch(l){s=!0,o=l}finally{try{!r&&t.return!=null&&t.return()}finally{if(s)throw o}}return i}}function uve(n){if(Array.isArray(n))return n}var fve="file-invalid-type",hve="file-too-large",dve="file-too-small",pve="too-many-files",mve=function(e){e=Array.isArray(e)&&e.length===1?e[0]:e;var t=Array.isArray(e)?"one of ".concat(e.join(", ")):e;return{code:fve,message:"File type must be ".concat(t)}},sN=function(e){return{code:hve,message:"File is larger than ".concat(e," ").concat(e===1?"byte":"bytes")}},aN=function(e){return{code:dve,message:"File is smaller than ".concat(e," ").concat(e===1?"byte":"bytes")}},gve={code:pve,message:"Too many files"};function V6(n,e){var t=n.type==="application/x-moz-file"||ave(n,e);return[t,t?null:mve(e)]}function G6(n,e,t){if(I0(n.size))if(I0(e)&&I0(t)){if(n.size>t)return[!1,sN(t)];if(n.size<e)return[!1,aN(e)]}else{if(I0(e)&&n.size<e)return[!1,aN(e)];if(I0(t)&&n.size>t)return[!1,sN(t)]}return[!0,null]}function I0(n){return n!=null}function vve(n){var e=n.files,t=n.accept,i=n.minSize,r=n.maxSize,s=n.multiple,a=n.maxFiles;return!s&&e.length>1||s&&a>=1&&e.length>a?!1:e.every(function(o){var l=V6(o,t),u=iN(l,1),d=u[0],m=G6(o,i,r),v=iN(m,1),y=v[0];return d&&y})}function rw(n){return typeof n.isPropagationStopped=="function"?n.isPropagationStopped():typeof n.cancelBubble<"u"?n.cancelBubble:!1}function Sx(n){return n.dataTransfer?Array.prototype.some.call(n.dataTransfer.types,function(e){return e==="Files"||e==="application/x-moz-file"}):!!n.target&&!!n.target.files}function oN(n){n.preventDefault()}function yve(n){return n.indexOf("MSIE")!==-1||n.indexOf("Trident/")!==-1}function _ve(n){return n.indexOf("Edge/")!==-1}function bve(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return yve(n)||_ve(n)}function Qf(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return function(i){for(var r=arguments.length,s=new Array(r>1?r-1:0),a=1;a<r;a++)s[a-1]=arguments[a];return e.some(function(o){return!rw(i)&&o&&o.apply(void 0,[i].concat(s)),rw(i)})}}function xve(){return"showOpenFilePicker"in window}function Sve(n){return n=typeof n=="string"?n.split(","):n,[{description:"everything",accept:Array.isArray(n)?n.filter(function(e){return e==="audio/*"||e==="video/*"||e==="image/*"||e==="text/*"||/\w+\/[-+.\w]+/g.test(e)}).reduce(function(e,t){return nN(nN({},e),{},F6({},t,[]))},{}):{}}]}function wve(n){return n instanceof DOMException&&(n.name==="AbortError"||n.code===n.ABORT_ERR)}function Eve(n){return n instanceof DOMException&&(n.name==="SecurityError"||n.code===n.SECURITY_ERR)}var Tve=["children"],Mve=["open"],Ave=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],Cve=["refKey","onChange","onClick"];function Rve(n){return Dve(n)||Pve(n)||j6(n)||Ove()}function Ove(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Pve(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function Dve(n){if(Array.isArray(n))return kA(n)}function KM(n,e){return Ive(n)||Nve(n,e)||j6(n,e)||Lve()}function Lve(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function j6(n,e){if(n){if(typeof n=="string")return kA(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return kA(n,e)}}function kA(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,i=new Array(e);t<e;t++)i[t]=n[t];return i}function Nve(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var i=[],r=!0,s=!1,a,o;try{for(t=t.call(n);!(r=(a=t.next()).done)&&(i.push(a.value),!(e&&i.length===e));r=!0);}catch(l){s=!0,o=l}finally{try{!r&&t.return!=null&&t.return()}finally{if(s)throw o}}return i}}function Ive(n){if(Array.isArray(n))return n}function lN(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function Hs(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?lN(Object(t),!0).forEach(function(i){HA(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):lN(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function HA(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function sw(n,e){if(n==null)return{};var t=zve(n,e),i,r;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(r=0;r<s.length;r++)i=s[r],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(n,i)&&(t[i]=n[i])}return t}function zve(n,e){if(n==null)return{};var t={},i=Object.keys(n),r,s;for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&(t[r]=n[r]);return t}var OR=z.forwardRef(function(n,e){var t=n.children,i=sw(n,Tve),r=q6(i),s=r.open,a=sw(r,Mve);return z.useImperativeHandle(e,function(){return{open:s}},[s]),Se.createElement(z.Fragment,null,t(Hs(Hs({},a),{},{open:s})))});OR.displayName="Dropzone";var $6={disabled:!1,getFilesFromEvent:Yge,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!0};OR.defaultProps=$6;OR.propTypes={children:Tn.func,accept:Tn.oneOfType([Tn.string,Tn.arrayOf(Tn.string)]),multiple:Tn.bool,preventDropOnDocument:Tn.bool,noClick:Tn.bool,noKeyboard:Tn.bool,noDrag:Tn.bool,noDragEventsBubbling:Tn.bool,minSize:Tn.number,maxSize:Tn.number,maxFiles:Tn.number,disabled:Tn.bool,getFilesFromEvent:Tn.func,onFileDialogCancel:Tn.func,onFileDialogOpen:Tn.func,useFsAccessApi:Tn.bool,onDragEnter:Tn.func,onDragLeave:Tn.func,onDragOver:Tn.func,onDrop:Tn.func,onDropAccepted:Tn.func,onDropRejected:Tn.func,validator:Tn.func};var FA={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,draggedFiles:[],acceptedFiles:[],fileRejections:[]};function q6(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=Hs(Hs({},$6),n),t=e.accept,i=e.disabled,r=e.getFilesFromEvent,s=e.maxSize,a=e.minSize,o=e.multiple,l=e.maxFiles,u=e.onDragEnter,d=e.onDragLeave,m=e.onDragOver,v=e.onDrop,y=e.onDropAccepted,x=e.onDropRejected,T=e.onFileDialogCancel,E=e.onFileDialogOpen,w=e.useFsAccessApi,P=e.preventDropOnDocument,D=e.noClick,N=e.noKeyboard,G=e.noDrag,k=e.noDragEventsBubbling,M=e.validator,$=z.useMemo(function(){return typeof E=="function"?E:cN},[E]),V=z.useMemo(function(){return typeof T=="function"?T:cN},[T]),H=z.useRef(null),ee=z.useRef(null),pe=z.useReducer(Uve,FA),ae=KM(pe,2),ye=ae[0],Te=ae[1],J=ye.isFocused,de=ye.isFileDialogActive,he=ye.draggedFiles,Le=z.useRef(typeof window<"u"&&window.isSecureContext&&w&&xve()),ne=function(){!Le.current&&de&&setTimeout(function(){if(ee.current){var Z=ee.current.files;Z.length||(Te({type:"closeDialog"}),V())}},300)};z.useEffect(function(){return window.addEventListener("focus",ne,!1),function(){window.removeEventListener("focus",ne,!1)}},[ee,de,V,Le]);var re=z.useRef([]),ze=function(Z){H.current&&H.current.contains(Z.target)||(Z.preventDefault(),re.current=[])};z.useEffect(function(){return P&&(document.addEventListener("dragover",oN,!1),document.addEventListener("drop",ze,!1)),function(){P&&(document.removeEventListener("dragover",oN),document.removeEventListener("drop",ze))}},[H,P]);var Ve=z.useCallback(function(ie){ie.preventDefault(),ie.persist(),Mt(ie),re.current=[].concat(Rve(re.current),[ie.target]),Sx(ie)&&Promise.resolve(r(ie)).then(function(Z){rw(ie)&&!k||(Te({draggedFiles:Z,isDragActive:!0,type:"setDraggedFiles"}),u&&u(ie))})},[r,u,k]),xe=z.useCallback(function(ie){ie.preventDefault(),ie.persist(),Mt(ie);var Z=Sx(ie);if(Z&&ie.dataTransfer)try{ie.dataTransfer.dropEffect="copy"}catch{}return Z&&m&&m(ie),!1},[m,k]),$e=z.useCallback(function(ie){ie.preventDefault(),ie.persist(),Mt(ie);var Z=re.current.filter(function(Ge){return H.current&&H.current.contains(Ge)}),be=Z.indexOf(ie.target);be!==-1&&Z.splice(be,1),re.current=Z,!(Z.length>0)&&(Te({isDragActive:!1,type:"setDraggedFiles",draggedFiles:[]}),Sx(ie)&&d&&d(ie))},[H,d,k]),Ze=z.useCallback(function(ie,Z){var be=[],Ge=[];ie.forEach(function(ht){var rt=V6(ht,t),qt=KM(rt,2),jt=qt[0],tn=qt[1],nn=G6(ht,a,s),dt=KM(nn,2),kt=dt[0],cn=dt[1],Ee=M?M(ht):null;if(jt&&kt&&!Ee)be.push(ht);else{var Fe=[tn,cn];Ee&&(Fe=Fe.concat(Ee)),Ge.push({file:ht,errors:Fe.filter(function(Rt){return Rt})})}}),(!o&&be.length>1||o&&l>=1&&be.length>l)&&(be.forEach(function(ht){Ge.push({file:ht,errors:[gve]})}),be.splice(0)),Te({acceptedFiles:be,fileRejections:Ge,type:"setFiles"}),v&&v(be,Ge,Z),Ge.length>0&&x&&x(Ge,Z),be.length>0&&y&&y(be,Z)},[Te,o,t,a,s,l,v,y,x,M]),gt=z.useCallback(function(ie){ie.preventDefault(),ie.persist(),Mt(ie),re.current=[],Sx(ie)&&Promise.resolve(r(ie)).then(function(Z){rw(ie)&&!k||Ze(Z,ie)}),Te({type:"reset"})},[r,Ze,k]),yt=z.useCallback(function(){if(Le.current){Te({type:"openDialog"}),$();var ie={multiple:o,types:Sve(t)};window.showOpenFilePicker(ie).then(function(Z){return r(Z)}).then(function(Z){Ze(Z,null),Te({type:"closeDialog"})}).catch(function(Z){wve(Z)?(V(Z),Te({type:"closeDialog"})):Eve(Z)&&(Le.current=!1,ee.current&&(ee.current.value=null,ee.current.click()))});return}ee.current&&(Te({type:"openDialog"}),$(),ee.current.value=null,ee.current.click())},[Te,$,V,w,Ze,t,o]),vt=z.useCallback(function(ie){!H.current||!H.current.isEqualNode(ie.target)||(ie.key===" "||ie.key==="Enter"||ie.keyCode===32||ie.keyCode===13)&&(ie.preventDefault(),yt())},[H,yt]),Vt=z.useCallback(function(){Te({type:"focus"})},[]),zn=z.useCallback(function(){Te({type:"blur"})},[]),An=z.useCallback(function(){D||(bve()?setTimeout(yt,0):yt())},[D,yt]),dn=function(Z){return i?null:Z},fe=function(Z){return N?null:dn(Z)},Et=function(Z){return G?null:dn(Z)},Mt=function(Z){k&&Z.stopPropagation()},At=z.useMemo(function(){return function(){var ie=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Z=ie.refKey,be=Z===void 0?"ref":Z,Ge=ie.role,ht=ie.onKeyDown,rt=ie.onFocus,qt=ie.onBlur,jt=ie.onClick,tn=ie.onDragEnter,nn=ie.onDragOver,dt=ie.onDragLeave,kt=ie.onDrop,cn=sw(ie,Ave);return Hs(Hs(HA({onKeyDown:fe(Qf(ht,vt)),onFocus:fe(Qf(rt,Vt)),onBlur:fe(Qf(qt,zn)),onClick:dn(Qf(jt,An)),onDragEnter:Et(Qf(tn,Ve)),onDragOver:Et(Qf(nn,xe)),onDragLeave:Et(Qf(dt,$e)),onDrop:Et(Qf(kt,gt)),role:typeof Ge=="string"&&Ge!==""?Ge:"button"},be,H),!i&&!N?{tabIndex:0}:{}),cn)}},[H,vt,Vt,zn,An,Ve,xe,$e,gt,N,G,i]),mt=z.useCallback(function(ie){ie.stopPropagation()},[]),Kt=z.useMemo(function(){return function(){var ie=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Z=ie.refKey,be=Z===void 0?"ref":Z,Ge=ie.onChange,ht=ie.onClick,rt=sw(ie,Cve),qt=HA({accept:t,multiple:o,type:"file",style:{display:"none"},onChange:dn(Qf(Ge,gt)),onClick:dn(Qf(ht,mt)),tabIndex:-1},be,ee);return Hs(Hs({},qt),rt)}},[ee,t,o,gt,i]),Ot=he.length,Qt=Ot>0&&vve({files:he,accept:t,minSize:a,maxSize:s,multiple:o,maxFiles:l}),bn=Ot>0&&!Qt;return Hs(Hs({},ye),{},{isDragAccept:Qt,isDragReject:bn,isFocused:J&&!i,getRootProps:At,getInputProps:Kt,rootRef:H,inputRef:ee,open:dn(yt)})}function Uve(n,e){switch(e.type){case"focus":return Hs(Hs({},n),{},{isFocused:!0});case"blur":return Hs(Hs({},n),{},{isFocused:!1});case"openDialog":return Hs(Hs({},FA),{},{isFileDialogActive:!0});case"closeDialog":return Hs(Hs({},n),{},{isFileDialogActive:!1});case"setDraggedFiles":var t=e.isDragActive,i=e.draggedFiles;return Hs(Hs({},n),{},{draggedFiles:i,isDragActive:t});case"setFiles":return Hs(Hs({},n),{},{acceptedFiles:e.acceptedFiles,fileRejections:e.fileRejections});case"reset":return Hs({},FA);default:return n}}function cN(){}function Bve(n){let e;const t=new Set,i=(u,d)=>{const m=typeof u=="function"?u(e):u;if(m!==e){const v=e;e=d?m:Object.assign({},e,m),t.forEach(y=>y(e,v))}},r=()=>e,s=(u,d=r,m=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let v=d(e);function y(){const x=d(e);if(!m(v,x)){const T=v;u(v=x,T)}}return t.add(y),()=>t.delete(y)},l={setState:i,getState:r,subscribe:(u,d,m)=>d||m?s(u,d,m):(t.add(u),()=>t.delete(u)),destroy:()=>t.clear()};return e=n(i,r,l),l}const kve=typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),uN=kve?z.useEffect:z.useLayoutEffect;function Hve(n){const e=typeof n=="function"?Bve(n):n,t=(i=e.getState,r=Object.is)=>{const[,s]=z.useReducer(E=>E+1,0),a=e.getState(),o=z.useRef(a),l=z.useRef(i),u=z.useRef(r),d=z.useRef(!1),m=z.useRef();m.current===void 0&&(m.current=i(a));let v,y=!1;(o.current!==a||l.current!==i||u.current!==r||d.current)&&(v=i(a),y=!r(m.current,v)),uN(()=>{y&&(m.current=v),o.current=a,l.current=i,u.current=r,d.current=!1});const x=z.useRef(a);uN(()=>{const E=()=>{try{const P=e.getState(),D=l.current(P);u.current(m.current,D)||(o.current=P,m.current=D,s())}catch{d.current=!0,s()}},w=e.subscribe(E);return e.getState()!==x.current&&E(),w},[]);const T=y?v:m.current;return z.useDebugValue(T),T};return Object.assign(t,e),t[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");const i=[t,e];return{next(){const r=i.length<=0;return{value:i.shift(),done:r}}}},t}const Fve=n=>(e,t,i)=>{const r=i.subscribe;return i.subscribe=(a,o,l)=>{let u=a;if(o){const d=l?.equalityFn||Object.is;let m=a(i.getState());u=v=>{const y=a(v);if(!d(m,y)){const x=m;o(m=y,x)}},l?.fireImmediately&&o(m,m)}return r(u)},n(e,t,i)};/*!
 * isobject <https://github.com/jonschlinkert/isobject>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */var QM,fN;function Vve(){return fN||(fN=1,QM=function(e){return e!=null&&typeof e=="object"&&Array.isArray(e)===!1}),QM}/*!
 * is-plain-object <https://github.com/jonschlinkert/is-plain-object>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */var JM,hN;function W6(){if(hN)return JM;hN=1;var n=Vve();function e(t){return n(t)===!0&&Object.prototype.toString.call(t)==="[object Object]"}return JM=function(i){var r,s;return!(e(i)===!1||(r=i.constructor,typeof r!="function")||(s=r.prototype,e(s)===!1)||s.hasOwnProperty("isPrototypeOf")===!1)},JM}/*!
 * is-extendable <https://github.com/jonschlinkert/is-extendable>
 *
 * Copyright (c) 2015-2017, Jon Schlinkert.
 * Released under the MIT License.
 */var e2,dN;function PR(){if(dN)return e2;dN=1;var n=W6();return e2=function(t){return n(t)||typeof t=="function"||Array.isArray(t)},e2}/*!
 * for-in <https://github.com/jonschlinkert/for-in>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */var t2,pN;function Gve(){return pN||(pN=1,t2=function(e,t,i){for(var r in e)if(t.call(i,e[r],r,e)===!1)break}),t2}var n2,mN;function jve(){if(mN)return n2;mN=1;var n=PR(),e=Gve();function t(a,o){for(var l=arguments.length,u=0;++u<l;){var d=arguments[u];r(d)&&e(d,i,a)}return a}function i(a,o){if(s(o)){var l=this[o];r(a)&&r(l)?t(l,a):this[o]=a}}function r(a){return n(a)&&!Array.isArray(a)}function s(a){return a!=="__proto__"&&a!=="constructor"&&a!=="prototype"}return n2=t,n2}/*!
 * get-value <https://github.com/jonschlinkert/get-value>
 *
 * Copyright (c) 2014-2015, Jon Schlinkert.
 * Licensed under the MIT License.
 */var i2,gN;function $ve(){if(gN)return i2;gN=1,i2=function(t,i,r,s,a){if(!n(t)||!i)return t;if(i=e(i),r&&(i+="."+e(r)),s&&(i+="."+e(s)),a&&(i+="."+e(a)),i in t)return t[i];for(var o=i.split("."),l=o.length,u=-1;t&&++u<l;){for(var d=o[u];d[d.length-1]==="\\";)d=d.slice(0,-1)+"."+o[++u];t=t[d]}return t};function n(t){return t!==null&&(typeof t=="object"||typeof t=="function")}function e(t){return t?Array.isArray(t)?t.join("."):t:""}return i2}/*!
 * assign-symbols <https://github.com/jonschlinkert/assign-symbols>
 *
 * Copyright (c) 2015, Jon Schlinkert.
 * Licensed under the MIT License.
 */var r2,vN;function qve(){return vN||(vN=1,r2=function(n,e){if(n===null||typeof n>"u")throw new TypeError("expected first argument to be an object.");if(typeof e>"u"||typeof Symbol>"u"||typeof Object.getOwnPropertySymbols!="function")return n;for(var t=Object.prototype.propertyIsEnumerable,i=Object(n),r=arguments.length,s=0;++s<r;)for(var a=Object(arguments[s]),o=Object.getOwnPropertySymbols(a),l=0;l<o.length;l++){var u=o[l];t.call(a,u)&&(i[u]=a[u])}return i}),r2}var s2,yN;function Wve(){if(yN)return s2;yN=1;var n=PR(),e=qve();s2=Object.assign||function(o){if(o===null||typeof o>"u")throw new TypeError("Cannot convert undefined or null to object");s(o)||(o={});for(var l=1;l<arguments.length;l++){var u=arguments[l];i(u)&&(u=r(u)),s(u)&&(t(o,u),e(o,u))}return o};function t(o,l){for(var u in l)a(l,u)&&(o[u]=l[u])}function i(o){return o&&typeof o=="string"}function r(o){var l={};for(var u in o)l[u]=o[u];return l}function s(o){return o&&typeof o=="object"||n(o)}function a(o,l){return Object.prototype.hasOwnProperty.call(o,l)}return s2}/*!
 * split-string <https://github.com/jonschlinkert/split-string>
 *
 * Copyright (c) 2015-2017, Jon Schlinkert.
 * Released under the MIT License.
 */var a2,_N;function Xve(){if(_N)return a2;_N=1;var n=Wve();a2=function(r,s,a){if(typeof r!="string")throw new TypeError("expected a string");typeof s=="function"&&(a=s,s=null),typeof s=="string"&&(s={sep:s});var o=n({sep:"."},s),l=o.quotes||['"',"'","`"],u;o.brackets===!0?u={"<":">","(":")","[":"]","{":"}"}:o.brackets&&(u=o.brackets);var d=[],m=[],v=[""],y=o.sep,x=r.length,T=-1,E;function w(){if(u&&m.length)return u[m[m.length-1]]}for(;++T<x;){var P=r[T],D=r[T+1],N={val:P,idx:T,arr:v,str:r};if(d.push(N),P==="\\"){N.val=i(o,r,T)===!0?P+D:D,N.escaped=!0,typeof a=="function"&&a(N),v[v.length-1]+=N.val,T++;continue}if(u&&u[P]){m.push(P);var G=w(),k=T+1;if(r.indexOf(G,k+1)!==-1)for(;m.length&&k<x;){var M=r[++k];if(M==="\\"){M++;continue}if(l.indexOf(M)!==-1){k=e(r,M,k+1);continue}if(G=w(),m.length&&r.indexOf(G,k+1)===-1)break;if(u[M]){m.push(M);continue}G===M&&m.pop()}if(E=k,E===-1){v[v.length-1]+=P;continue}P=r.slice(T,E+1),N.val=P,N.idx=T=E}if(l.indexOf(P)!==-1){if(E=e(r,P,T+1),E===-1){v[v.length-1]+=P;continue}t(P,o)===!0?P=r.slice(T,E+1):P=r.slice(T+1,E),N.val=P,N.idx=T=E}if(typeof a=="function"&&(a(N,d),P=N.val,T=N.idx),N.val===y&&N.split!==!1){v.push("");continue}v[v.length-1]+=N.val}return v};function e(r,s,a,o){var l=r.indexOf(s,a);return r.charAt(l-1)==="\\"?e(r,s,l+1):l}function t(r,s){return s.keepDoubleQuotes===!0&&r==='"'||s.keepSingleQuotes===!0&&r==="'"?!0:s.keepQuotes}function i(r,s,a){return typeof r.keepEscaping=="function"?r.keepEscaping(s,a):r.keepEscaping===!0||s[a+1]==="\\"}return a2}/*!
 * is-extendable <https://github.com/jonschlinkert/is-extendable>
 *
 * Copyright (c) 2015, Jon Schlinkert.
 * Licensed under the MIT License.
 */var o2,bN;function Yve(){return bN||(bN=1,o2=function(e){return typeof e<"u"&&e!==null&&(typeof e=="object"||typeof e=="function")}),o2}var l2,xN;function Zve(){if(xN)return l2;xN=1;var n=Yve();l2=function(r){n(r)||(r={});for(var s=arguments.length,a=1;a<s;a++){var o=arguments[a];n(o)&&e(r,o)}return r};function e(i,r){for(var s in r)t(r,s)&&(i[s]=r[s])}function t(i,r){return Object.prototype.hasOwnProperty.call(i,r)}return l2}/*!
 * is-extendable <https://github.com/jonschlinkert/is-extendable>
 *
 * Copyright (c) 2015, Jon Schlinkert.
 * Licensed under the MIT License.
 */var c2,SN;function Kve(){return SN||(SN=1,c2=function(e){return typeof e<"u"&&e!==null&&(typeof e=="object"||typeof e=="function")}),c2}/*!
 * set-value <https://github.com/jonschlinkert/set-value>
 *
 * Copyright (c) 2014-2015, 2017, Jon Schlinkert.
 * Released under the MIT License.
 */var u2,wN;function Qve(){if(wN)return u2;wN=1;var n=Xve(),e=Zve(),t=W6(),i=Kve();u2=function(s,a,o){if(!i(s)||(Array.isArray(a)&&(a=[].concat.apply([],a).join(".")),typeof a!="string"))return s;for(var l=n(a,{sep:".",brackets:!0}).filter(r),u=l.length,d=-1,m=s;++d<u;){var v=l[d];if(d!==u-1){i(m[v])||(m[v]={}),m=m[v];continue}t(m[v])&&t(o)?m[v]=e({},m[v],o):m[v]=o}return s};function r(s){return s!=="__proto__"&&s!=="constructor"&&s!=="prototype"}return u2}var f2,EN;function Jve(){if(EN)return f2;EN=1;var n=PR(),e=jve(),t=$ve(),i=Qve();return f2=function(s,a,o){if(!n(s))throw new TypeError("expected an object");if(typeof a!="string"||o==null)return e.apply(null,arguments);if(typeof o=="string")return i(s,a,o),s;var l=t(s,a);return n(o)&&n(l)&&(o=e({},l,o)),i(s,a,o),s},f2}var eye=Jve();const tye=Ru(eye),DR=(...n)=>n.filter(Boolean).join(".");function nye(n){const e=n.split(".");return[e.pop(),e.join(".")||void 0]}function iye(n,e){return Object.entries(Kpe(n,e)).reduce((t,[,{value:i,disabled:r,key:s}])=>(t[s]=r?void 0:i,t),{})}function rye(n,e){const t=z.useRef();return P_(n,t.current)||(t.current=n),t.current}function X6(n,e){return z.useMemo(n,rye(e))}function sye(n){const e=z.useRef(null),t=z.useRef(null),i=z.useRef(!0);return z.useLayoutEffect(()=>{n||(e.current.style.height="0px",e.current.style.overflow="hidden")},[]),z.useEffect(()=>{if(i.current){i.current=!1;return}let r;const s=e.current,a=()=>{n&&(s.style.removeProperty("height"),s.style.removeProperty("overflow"),t.current.scrollIntoView({behavior:"smooth",block:"nearest"}))};s.addEventListener("transitionend",a,{once:!0});const{height:o}=t.current.getBoundingClientRect();return s.style.height=o+"px",n||(s.style.overflow="hidden",r=window.setTimeout(()=>s.style.height="0px",50)),()=>{s.removeEventListener("transitionend",a),clearTimeout(r)}},[n]),{wrapperRef:e,contentRef:t}}const aye=n=>{const[e,t]=z.useState(n.getVisiblePaths());return z.useEffect(()=>{t(n.getVisiblePaths());const i=n.useStore.subscribe(n.getVisiblePaths,t,{equalityFn:lE});return()=>i()},[n]),e};function oye(n,e,t){return n.useStore(r=>{const s=pi(pi({},t),r.data);return iye(s,e)},lE)}function Y6(n=3){const e=z.useRef(null),t=z.useRef(null),[i,r]=z.useState(!1),s=z.useCallback(()=>r(!0),[]),a=z.useCallback(()=>r(!1),[]);return z.useLayoutEffect(()=>{if(i){const{bottom:o,top:l,left:u}=e.current.getBoundingClientRect(),{height:d}=t.current.getBoundingClientRect(),m=o+d>window.innerHeight-40?"up":"down";t.current.style.position="fixed",t.current.style.zIndex="10000",t.current.style.left=u+"px",m==="down"?t.current.style.top=o+n+"px":t.current.style.bottom=window.innerHeight-l+n+"px"}},[n,i]),{popinRef:e,wrapperRef:t,shown:i,show:s,hide:a}}Lge([Nge]);const lye={rgb:"toRgb",hsl:"toHsl",hsv:"toHsv",hex:"toHex"};hc.extend({color:()=>n=>Dl(n).isValid()});const cye=n=>hc().color().test(n);function Z6(n,{format:e,hasAlpha:t,isString:i}){const r=lye[e]+(i&&e!=="hex"?"String":""),s=n[r]();return typeof s=="object"&&!t?Qpe(s,["a"]):s}const K6=(n,e)=>{const t=Dl(n);if(!t.isValid())throw Error("Invalid color");return Z6(t,e)},uye=(n,e)=>Z6(Dl(n),pi(pi({},e),{},{isString:!0,format:"hex"})),fye=({value:n})=>{const e=Dge(n),t=e==="name"?"hex":e,i=typeof n=="object"?"a"in n:e==="hex"&&n.length===8||/^(rgba)|(hsla)|(hsva)/.test(n),r={format:t,hasAlpha:i,isString:typeof n=="string"};return{value:K6(n,r),settings:r}};var hye=Object.freeze({__proto__:null,schema:cye,sanitize:K6,format:uye,normalize:fye});const dye=ri("div",{position:"relative",boxSizing:"border-box",borderRadius:"$sm",overflow:"hidden",cursor:"pointer",height:"$rowHeight",width:"$rowHeight",backgroundColor:"#fff",backgroundImage:`url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill-opacity=".05"><path d="M8 0h8v8H8zM0 8h8v8H0z"/></svg>')`,$inputStyle:"",$hover:"",zIndex:1,variants:{active:{true:{$inputStyle:"$accent1"}}},"&::before":{content:'""',position:"absolute",top:0,bottom:0,right:0,left:0,backgroundColor:"currentColor",zIndex:1}}),pye=ri("div",{position:"relative",display:"grid",gridTemplateColumns:"$sizes$rowHeight auto",columnGap:"$colGap",alignItems:"center"}),mye=ri("div",{width:"$colorPickerWidth",height:"$colorPickerHeight",".react-colorful":{width:"100%",height:"100%",boxShadow:"$level2",cursor:"crosshair"},".react-colorful__saturation":{borderRadius:"$sm $sm 0 0"},".react-colorful__alpha, .react-colorful__hue":{height:10},".react-colorful__last-control":{borderRadius:"0 0 $sm $sm"},".react-colorful__pointer":{height:12,width:12}});function TN(n,e){return e!=="rgb"?Dl(n).toRgb():n}function gye({value:n,displayValue:e,settings:t,onUpdate:i}){const{emitOnEditStart:r,emitOnEditEnd:s}=rl(),{format:a,hasAlpha:o}=t,{popinRef:l,wrapperRef:u,shown:d,show:m,hide:v}=Y6(),y=z.useRef(0),[x,T]=z.useState(()=>TN(n,a)),E=o?Fge:Gge,w=()=>{T(TN(n,a)),m(),r()},P=()=>{v(),s(),window.clearTimeout(y.current)},D=()=>{y.current=window.setTimeout(P,500)};return z.useEffect(()=>()=>window.clearTimeout(y.current),[]),Se.createElement(Se.Fragment,null,Se.createElement(dye,{ref:l,active:d,onClick:()=>w(),style:{color:e}}),d&&Se.createElement(wR,null,Se.createElement(_6,{onPointerUp:P}),Se.createElement(mye,{ref:u,onMouseEnter:()=>window.clearTimeout(y.current),onMouseLeave:N=>N.buttons===0&&D()},Se.createElement(E,{color:x,onChange:i}))))}function vye(){const{value:n,displayValue:e,label:t,onChange:i,onUpdate:r,settings:s}=rl();return Se.createElement(Pu,{input:!0},Se.createElement(bf,null,t),Se.createElement(pye,null,Se.createElement(gye,{value:n,displayValue:e,onChange:i,onUpdate:r,settings:s}),Se.createElement(SR,{value:e,onChange:i,onUpdate:r})))}var yye=pi({component:vye},hye);function _ye(){const{label:n,displayValue:e,onUpdate:t,settings:i}=rl();return Se.createElement(Pu,{input:!0},Se.createElement(bf,null,n),Se.createElement(TR,{value:e,settings:i,onUpdate:t}))}var bye=pi({component:_ye},A6(["x","y","z"]));const xye=ri("div",{$flexCenter:"",position:"relative",backgroundColor:"$elevation3",borderRadius:"$sm",cursor:"pointer",height:"$rowHeight",width:"$rowHeight",touchAction:"none",$draggable:"",$hover:"","&:active":{cursor:"none"},"&::after":{content:'""',backgroundColor:"$accent2",height:4,width:4,borderRadius:2}}),Sye=ri("div",{$flexCenter:"",width:"$joystickWidth",height:"$joystickHeight",borderRadius:"$sm",boxShadow:"$level2",position:"fixed",zIndex:1e4,overflow:"hidden",$draggable:"",transform:"translate(-50%, -50%)",variants:{isOutOfBounds:{true:{backgroundColor:"$elevation1"},false:{backgroundColor:"$elevation3"}}},"> div":{position:"absolute",$flexCenter:"",borderStyle:"solid",borderWidth:1,borderColor:"$highlight1",backgroundColor:"$elevation3",width:"80%",height:"80%","&::after,&::before":{content:'""',position:"absolute",zindex:10,backgroundColor:"$highlight1"},"&::before":{width:"100%",height:1},"&::after":{height:"100%",width:1}},"> span":{position:"relative",zindex:100,width:10,height:10,backgroundColor:"$accent2",borderRadius:"50%"}});function wye({value:n,settings:e,onUpdate:t}){const i=z.useRef(),r=z.useRef(0),s=z.useRef(0),a=z.useRef(1),[o,l]=z.useState(!1),[u,d]=z.useState(!1),[m,v]=x6(),y=z.useRef(null),x=z.useRef(null);z.useLayoutEffect(()=>{if(o){const{top:pe,left:ae,width:ye,height:Te}=y.current.getBoundingClientRect();x.current.style.left=ae+ye/2+"px",x.current.style.top=pe+Te/2+"px"}},[o]);const{keys:[T,E],joystick:w}=e,P=w==="invertY"?1:-1,{[T]:{step:D},[E]:{step:N}}=e,G=_d("sizes","joystickWidth"),k=_d("sizes","joystickHeight"),M=parseFloat(G)*.8/2,$=parseFloat(k)*.8/2,V=z.useCallback(()=>{i.current||(d(!0),r.current&&v({x:r.current*M}),s.current&&v({y:s.current*-$}),i.current=window.setInterval(()=>{t(pe=>{const ae=D*r.current*a.current,ye=P*N*s.current*a.current;return Array.isArray(pe)?{[T]:pe[0]+ae,[E]:pe[1]+ye}:{[T]:pe[T]+ae,[E]:pe[E]+ye}})},16))},[M,$,t,v,D,N,T,E,P]),H=z.useCallback(()=>{window.clearTimeout(i.current),i.current=void 0,d(!1)},[]);z.useEffect(()=>{function pe(ae){a.current=s6(ae)}return window.addEventListener("keydown",pe),window.addEventListener("keyup",pe),()=>{window.clearTimeout(i.current),window.removeEventListener("keydown",pe),window.removeEventListener("keyup",pe)}},[]);const ee=u1(({first:pe,active:ae,delta:[ye,Te],movement:[J,de]})=>{pe&&l(!0);const he=Fp(J,-M,M),Le=Fp(de,-$,$);r.current=Math.abs(J)>Math.abs(he)?Math.sign(J-he):0,s.current=Math.abs(de)>Math.abs(Le)?Math.sign(Le-de):0;let ne=n[T],re=n[E];ae?(r.current||(ne+=ye*D*a.current,v({x:he})),s.current||(re-=P*Te*N*a.current,v({y:Le})),r.current||s.current?V():H(),t({[T]:ne,[E]:re})):(l(!1),r.current=0,s.current=0,v({x:0,y:0}),H())});return Se.createElement(xye,ta({ref:y},ee()),o&&Se.createElement(wR,null,Se.createElement(Sye,{ref:x,isOutOfBounds:u},Se.createElement("div",null),Se.createElement("span",{ref:m}))))}const Eye=ri("div",{display:"grid",columnGap:"$colGap",variants:{withJoystick:{true:{gridTemplateColumns:"$sizes$rowHeight auto"},false:{gridTemplateColumns:"auto"}}}});function Tye(){const{label:n,displayValue:e,onUpdate:t,settings:i}=rl();return Se.createElement(Pu,{input:!0},Se.createElement(bf,null,n),Se.createElement(Eye,{withJoystick:!!i.joystick},i.joystick&&Se.createElement(wye,{value:e,settings:i,onUpdate:t}),Se.createElement(TR,{value:e,settings:i,onUpdate:t})))}const Mye=["joystick"],Q6=A6(["x","y"]),Aye=n=>{let{joystick:e=!0}=n,t=Jr(n,Mye);const{value:i,settings:r}=Q6.normalize(t);return{value:i,settings:pi(pi({},r),{},{joystick:e})}};var Cye=pi(pi({component:Tye},Q6),{},{normalize:Aye});const Rye=n=>{if(n!==void 0){if(n instanceof File)try{return URL.createObjectURL(n)}catch{return}if(typeof n=="string"&&n.indexOf("blob:")===0)return n;throw Error("Invalid image format [undefined | blob |File].")}},Oye=(n,e)=>typeof e=="object"&&"image"in e,Pye=({image:n})=>({value:n});var Dye=Object.freeze({__proto__:null,sanitize:Rye,schema:Oye,normalize:Pye});const Lye=ri("div",{position:"relative",display:"grid",gridTemplateColumns:"$sizes$rowHeight auto 20px",columnGap:"$colGap",alignItems:"center"}),Nye=ri("div",{$flexCenter:"",overflow:"hidden",height:"$rowHeight",background:"$elevation3",textAlign:"center",color:"inherit",borderRadius:"$sm",outline:"none",userSelect:"none",cursor:"pointer",$inputStyle:"",$hover:"",$focusWithin:"",$active:"$accent1 $elevation1",variants:{isDragAccept:{true:{$inputStyle:"$accent1",backgroundColor:"$elevation1"}}}}),Iye=ri("div",{boxSizing:"border-box",borderRadius:"$sm",height:"$rowHeight",width:"$rowHeight",$inputStyle:"",backgroundSize:"cover",backgroundPosition:"center",variants:{hasImage:{true:{cursor:"pointer",$hover:"",$active:""}}}}),zye=ri("div",{$flexCenter:"",width:"$imagePreviewWidth",height:"$imagePreviewHeight",borderRadius:"$sm",boxShadow:"$level2",pointerEvents:"none",$inputStyle:"",backgroundSize:"cover",backgroundPosition:"center"}),Uye=ri("div",{fontSize:"0.8em",height:"100%",padding:"$rowGap $md"}),Bye=ri("div",{$flexCenter:"",top:"0",right:"0",marginRight:"$sm",height:"100%",cursor:"pointer",variants:{disabled:{true:{color:"$elevation3",cursor:"default"}}},"&::after,&::before":{content:'""',position:"absolute",height:2,width:10,borderRadius:1,backgroundColor:"currentColor"},"&::after":{transform:"rotate(45deg)"},"&::before":{transform:"rotate(-45deg)"}});function kye(){const{label:n,value:e,onUpdate:t,disabled:i}=rl(),{popinRef:r,wrapperRef:s,shown:a,show:o,hide:l}=Y6(),u=z.useCallback(x=>{x.length&&t(x[0])},[t]),d=z.useCallback(x=>{x.stopPropagation(),t(void 0)},[t]),{getRootProps:m,getInputProps:v,isDragAccept:y}=q6({maxFiles:1,accept:"image/*",onDrop:u,disabled:i});return Se.createElement(Pu,{input:!0},Se.createElement(bf,null,n),Se.createElement(Lye,null,Se.createElement(Iye,{ref:r,hasImage:!!e,onPointerDown:()=>!!e&&o(),onPointerUp:l,style:{backgroundImage:e?`url(${e})`:"none"}}),a&&!!e&&Se.createElement(wR,null,Se.createElement(_6,{onPointerUp:l,style:{cursor:"pointer"}}),Se.createElement(zye,{ref:s,style:{backgroundImage:`url(${e})`}})),Se.createElement(Nye,m({isDragAccept:y}),Se.createElement("input",v()),Se.createElement(Uye,null,y?"drop image":"click or drop")),Se.createElement(Bye,{onClick:d,disabled:!e})))}var Hye=pi({component:kye},Dye);const MN=hc().number(),Fye=(n,e)=>hc().array().length(2).every.number().test(n)&&hc().schema({min:MN,max:MN}).test(e),aw=n=>({min:n[0],max:n[1]}),J6=(n,{bounds:[e,t]},i)=>{const r=Array.isArray(n)?aw(n):n,s={min:i[0],max:i[1]},{min:a,max:o}=pi(pi({},s),r);return[Fp(Number(a),e,Math.max(e,o)),Fp(Number(o),Math.min(t,a),t)]},Vye=({value:n,min:e,max:t})=>{const i={min:e,max:t},r=M6(aw(n),{min:i,max:i}),s=[e,t],a=pi(pi({},r),{},{bounds:s});return{value:J6(aw(n),a,n),settings:a}};var Gye=Object.freeze({__proto__:null,schema:Fye,format:aw,sanitize:J6,normalize:Vye});const jye=["value","bounds","onDrag"],$ye=["bounds"],qye=ri("div",{display:"grid",columnGap:"$colGap",gridTemplateColumns:"auto calc($sizes$numberInputMinWidth * 2 + $space$rowGap)"});function Wye(n){let{value:e,bounds:[t,i],onDrag:r}=n,s=Jr(n,jye);const a=z.useRef(null),o=z.useRef(null),l=z.useRef(null),u=z.useRef(0),d=_d("sizes","scrubberWidth"),m=u1(({event:x,first:T,xy:[E],movement:[w],memo:P={}})=>{if(T){const{width:N,left:G}=a.current.getBoundingClientRect();u.current=N-parseFloat(d);const k=x?.target===o.current||x?.target===l.current;P.pos=tw((E-G)/N,t,i);const M=Math.abs(P.pos-e.min)-Math.abs(P.pos-e.max);P.key=M<0||M===0&&P.pos<=e.min?"min":"max",k&&(P.pos=e[P.key])}const D=P.pos+tw(w/u.current,0,i-t);return r({[P.key]:kme(D,s[P.key])}),P}),v=`calc(${ew(e.min,t,i)} * (100% - ${d} - 8px) + 4px)`,y=`calc(${1-ew(e.max,t,i)} * (100% - ${d} - 8px) + 4px)`;return Se.createElement(w6,ta({ref:a},m()),Se.createElement(S6,null,Se.createElement(E6,{style:{left:v,right:y}})),Se.createElement(PA,{position:"left",ref:o,style:{left:v}}),Se.createElement(PA,{position:"right",ref:l,style:{right:y}}))}function Xye(){const{label:n,displayValue:e,onUpdate:t,settings:i}=rl(),r=Jr(i,$ye);return Se.createElement(Se.Fragment,null,Se.createElement(Pu,{input:!0},Se.createElement(bf,null,n),Se.createElement(qye,null,Se.createElement(Wye,ta({value:e},i,{onDrag:t})),Se.createElement(TR,{value:e,settings:r,onUpdate:t,innerLabelTrim:0}))))}var Yye=pi({component:Xye},Gye);const Zye=()=>{const n=new Map;return{on:(e,t)=>{let i=n.get(e);i===void 0&&(i=new Set,n.set(e,i)),i.add(t)},off:(e,t)=>{const i=n.get(e);i!==void 0&&(i.delete(t),i.size===0&&n.delete(e))},emit:(e,...t)=>{const i=n.get(e);if(i!==void 0)for(const r of i)r(...t)}}},Kye=["type","value"],Qye=["onChange","transient","onEditStart","onEditEnd"],Jye=function(){const e=Hve(Fve(()=>({data:{}}))),t=Zye();this.storeId=Zpe(),this.useStore=e;const i={},r=new Set;this.getVisiblePaths=()=>{const a=this.getData(),o=Object.keys(a),l=[];Object.entries(i).forEach(([d,m])=>{m.render&&o.some(v=>v.indexOf(d)===0)&&!m.render(this.get)&&l.push(d+".")});const u=[];return r.forEach(d=>{d in a&&a[d].__refCount>0&&l.every(m=>d.indexOf(m)===-1)&&(!a[d].render||a[d].render(this.get))&&u.push(d)}),u},this.setOrderedPaths=a=>{a.forEach(o=>r.add(o))},this.orderPaths=a=>(this.setOrderedPaths(a),a),this.disposePaths=a=>{e.setState(o=>{const l=o.data;return a.forEach(u=>{if(u in l){const d=l[u];d.__refCount--,d.__refCount===0&&d.type in df&&delete l[u]}}),{data:l}})},this.dispose=()=>{e.setState(()=>({data:{}}))},this.getFolderSettings=a=>i[a]||{},this.getData=()=>e.getState().data,this.addData=(a,o)=>{e.setState(l=>{const u=l.data;return Object.entries(a).forEach(([d,m])=>{let v=u[d];if(v){const{type:y,value:x}=m,T=Jr(m,Kye);y!==v.type?ud(Fs.INPUT_TYPE_OVERRIDE,y):((v.__refCount===0||o)&&Object.assign(v,T),v.__refCount++)}else u[d]=pi(pi({},m),{},{__refCount:1})}),{data:u}})},this.setValueAtPath=(a,o,l)=>{e.setState(u=>{const d=u.data;return F4(d[a],o,a,this,l),{data:d}})},this.setSettingsAtPath=(a,o)=>{e.setState(l=>{const u=l.data;return u[a].settings=pi(pi({},u[a].settings),o),{data:u}})},this.disableInputAtPath=(a,o)=>{e.setState(l=>{const u=l.data;return u[a].disabled=o,{data:u}})},this.set=(a,o)=>{e.setState(l=>{const u=l.data;return Object.entries(a).forEach(([d,m])=>{try{F4(u[d],m,void 0,void 0,o)}catch{}}),{data:u}})},this.getInput=a=>{try{return this.getData()[a]}catch{ud(Fs.PATH_DOESNT_EXIST,a)}},this.get=a=>{var o;return(o=this.getInput(a))===null||o===void 0?void 0:o.value},this.emitOnEditStart=a=>{t.emit(`onEditStart:${a}`,this.get(a),a,pi(pi({},this.getInput(a)),{},{get:this.get}))},this.emitOnEditEnd=a=>{t.emit(`onEditEnd:${a}`,this.get(a),a,pi(pi({},this.getInput(a)),{},{get:this.get}))},this.subscribeToEditStart=(a,o)=>{const l=`onEditStart:${a}`;return t.on(l,o),()=>t.off(l,o)},this.subscribeToEditEnd=(a,o)=>{const l=`onEditEnd:${a}`;return t.on(l,o),()=>t.off(l,o)};const s=(a,o,l)=>{const u={};return Object.entries(a).forEach(([d,m])=>{if(d==="")return ud(Fs.EMPTY_KEY);let v=DR(o,d);if(m.type===df.FOLDER){const y=s(m.schema,v,l);Object.assign(u,y),v in i||(i[v]=m.settings)}else if(d in l)ud(Fs.DUPLICATE_KEYS,d,v,l[d].path);else{const y=rme(m,d,v,u);if(y){const{type:x,options:T,input:E}=y,{onChange:w,transient:P,onEditStart:D,onEditEnd:N}=T,G=Jr(T,Qye);u[v]=pi(pi(pi({type:x},G),E),{},{fromPanel:!0}),l[d]={path:v,onChange:w,transient:P,onEditStart:D,onEditEnd:N}}else ud(Fs.UNKNOWN_INPUT,v,m)}}),u};this.getDataFromSchema=a=>{const o={};return[s(a,"",o),o]}},ek=new Jye,e0e={collapsed:!1};function t0e(n,e){return{type:df.FOLDER,schema:n,settings:pi(pi({},e0e),e)}}const AN=n=>"__levaInput"in n,n0e=(n,e)=>{const t={},i=e?e.toLowerCase():null;return n.forEach(r=>{const[s,a]=nye(r);(!i||s.toLowerCase().indexOf(i)>-1)&&tye(t,a,{[s]:{__levaInput:!0,path:r}})}),t},i0e=["type","label","path","valueKey","value","settings","setValue","disabled"];function r0e(n){let{type:e,label:t,path:i,valueKey:r,value:s,settings:a,setValue:o,disabled:l}=n,u=Jr(n,i0e);const{displayValue:d,onChange:m,onUpdate:v}=b6({type:e,value:s,settings:a,setValue:o}),y=xg[e].component;return y?Se.createElement(u6.Provider,{value:pi({key:r,path:i,id:""+i,label:t,displayValue:d,value:s,onChange:m,onUpdate:v,settings:a,setValue:o,disabled:l},u)},Se.createElement(wme,{disabled:l},Se.createElement(y,null))):(ud(Fs.NO_COMPONENT_FOR_TYPE,e,i),null)}const s0e=ri("button",{display:"block",$reset:"",fontWeight:"$button",height:"$rowHeight",borderStyle:"none",borderRadius:"$sm",backgroundColor:"$elevation1",color:"$highlight1","&:not(:disabled)":{color:"$highlight3",backgroundColor:"$accent2",cursor:"pointer",$hover:"$accent3",$active:"$accent3 $accent1",$focus:""}});function a0e({onClick:n,settings:e,label:t}){const i=c1();return Se.createElement(Pu,null,Se.createElement(s0e,{disabled:e.disabled,onClick:()=>n(i.get)},t))}const o0e=ri("div",{$flex:"",justifyContent:"flex-end",gap:"$colGap"}),l0e=ri("button",{$reset:"",cursor:"pointer",borderRadius:"$xs","&:hover":{backgroundColor:"$elevation3"}}),c0e=({label:n,opts:e})=>{let t=typeof n=="string"&&n.trim()===""?null:n,i=e;return typeof e.opts=="object"&&(i.label!==void 0&&(t=e.label),i=e.opts),{label:t,opts:i}};function u0e(n){const{label:e,opts:t}=c0e(n),i=c1();return Se.createElement(Pu,{input:!!e},e&&Se.createElement(bf,null,e),Se.createElement(o0e,null,Object.entries(t).map(([r,s])=>Se.createElement(l0e,{key:r,onClick:()=>s(i.get)},r))))}const f0e=ri("canvas",{height:"$monitorHeight",width:"100%",display:"block",borderRadius:"$sm"}),tk=100;function h0e(n,e){n.push(e),n.length>tk&&n.shift()}const d0e=z.forwardRef(function({initialValue:n},e){const t=_d("colors","highlight3"),i=_d("colors","elevation2"),r=_d("colors","highlight1"),[s,a]=z.useMemo(()=>[Dl(r).alpha(.4).toRgbString(),Dl(r).alpha(.1).toRgbString()],[r]),o=z.useRef([n]),l=z.useRef(n),u=z.useRef(n),d=z.useRef(),m=z.useCallback((x,T)=>{if(!x)return;const{width:E,height:w}=x,P=new Path2D,D=E/tk,N=w*.05;for(let M=0;M<o.current.length;M++){const $=ew(o.current[M],l.current,u.current),V=D*M,H=w-$*(w-N*2)-N;P.lineTo(V,H)}T.clearRect(0,0,E,w);const G=new Path2D(P);G.lineTo(D*(o.current.length+1),w),G.lineTo(0,w),G.lineTo(0,0);const k=T.createLinearGradient(0,0,0,w);k.addColorStop(0,s),k.addColorStop(1,a),T.fillStyle=k,T.fill(G),T.strokeStyle=i,T.lineJoin="round",T.lineWidth=14,T.stroke(P),T.strokeStyle=t,T.lineWidth=2,T.stroke(P)},[t,i,s,a]),[v,y]=Dme(m);return z.useImperativeHandle(e,()=>({frame:x=>{(l.current===void 0||x<l.current)&&(l.current=x),(u.current===void 0||x>u.current)&&(u.current=x),h0e(o.current,x),d.current=requestAnimationFrame(()=>m(v.current,y.current))}}),[v,y,m]),z.useEffect(()=>()=>cancelAnimationFrame(d.current),[]),Se.createElement(f0e,{ref:v})}),CN=n=>Number.isFinite(n)?n.toPrecision(2):n.toString(),p0e=z.forwardRef(function({initialValue:n},e){const[t,i]=z.useState(CN(n));return z.useImperativeHandle(e,()=>({frame:r=>i(CN(r))}),[]),Se.createElement("div",null,t)});function RN(n){return typeof n=="function"?n():n.current}function m0e({label:n,objectOrFn:e,settings:t}){const i=z.useRef(),r=z.useRef(RN(e));return z.useEffect(()=>{const s=window.setInterval(()=>{var a;document.hidden||(a=i.current)===null||a===void 0||a.frame(RN(e))},t.interval);return()=>window.clearInterval(s)},[e,t.interval]),Se.createElement(Pu,{input:!0},Se.createElement(bf,{align:"top"},n),t.graph?Se.createElement(d0e,{ref:i,initialValue:r.current}):Se.createElement(p0e,{ref:i,initialValue:r.current}))}const g0e=["type","label","key"],v0e={[df.BUTTON]:a0e,[df.BUTTON_GROUP]:u0e,[df.MONITOR]:m0e},y0e=Se.memo(({path:n})=>{const[e,{set:t,setSettings:i,disable:r,storeId:s,emitOnEditStart:a,emitOnEditEnd:o}]=Nme(n);if(!e)return null;const{type:l,label:u,key:d}=e,m=Jr(e,g0e);if(l in df){const v=v0e[l];return Se.createElement(v,ta({label:u,path:n},m))}return l in xg?Se.createElement(r0e,ta({key:s+n,type:l,label:u,storeId:s,path:n,valueKey:d,setValue:t,setSettings:i,disable:r,emitOnEditStart:a,emitOnEditEnd:o},m)):(Vpe(Fs.UNSUPPORTED_INPUT,l,n),null)});function _0e({toggle:n,toggled:e,name:t}){return Se.createElement(bme,{onClick:()=>n()},Se.createElement(ER,{toggled:e}),Se.createElement("div",null,t))}const b0e=({name:n,path:e,tree:t})=>{const i=c1(),r=DR(e,n),{collapsed:s,color:a}=i.getFolderSettings(r),[o,l]=z.useState(!s),u=z.useRef(null),d=_d("colors","folderWidgetColor"),m=_d("colors","folderTextColor");return z.useLayoutEffect(()=>{u.current.style.setProperty("--leva-colors-folderWidgetColor",a||d),u.current.style.setProperty("--leva-colors-folderTextColor",a||m)},[a,d,m]),Se.createElement(nw,{ref:u},Se.createElement(_0e,{name:n,toggled:o,toggle:()=>l(v=>!v)}),Se.createElement(nk,{parent:r,tree:t,toggled:o}))},nk=Se.memo(({isRoot:n=!1,fill:e=!1,flat:t=!1,parent:i,tree:r,toggled:s})=>{const{wrapperRef:a,contentRef:o}=sye(s),l=c1(),u=([m,v])=>{var y;return(AN(v)?(y=l.getInput(v.path))===null||y===void 0?void 0:y.order:l.getFolderSettings(DR(i,m)).order)||0},d=Object.entries(r).sort((m,v)=>u(m)-u(v));return Se.createElement(RA,{ref:a,isRoot:n,fill:e,flat:t},Se.createElement(g6,{ref:o,isRoot:n,toggled:s},d.map(([m,v])=>AN(v)?Se.createElement(y0e,{key:v.path,valueKey:v.valueKey,path:v.path}):Se.createElement(b0e,{key:m,name:m,path:i,tree:v}))))}),x0e=ri("div",{position:"relative",fontFamily:"$mono",fontSize:"$root",color:"$rootText",backgroundColor:"$elevation1",variants:{fill:{false:{position:"fixed",top:"10px",right:"10px",zIndex:1e3,width:"$rootWidth"},true:{position:"relative",width:"100%"}},flat:{false:{borderRadius:"$lg",boxShadow:"$level1"}},oneLineLabels:{true:{[`${y6}`]:{gridTemplateColumns:"auto",gridAutoColumns:"minmax(max-content, 1fr)",gridAutoRows:"minmax($sizes$rowHeight), auto)",rowGap:0,columnGap:0,marginTop:"$rowGap"}}},hideTitleBar:{true:{$$titleBarHeight:"0px"},false:{$$titleBarHeight:"$sizes$titleBarHeight"}}},"&,*,*:after,*:before":{boxSizing:"border-box"},"*::selection":{backgroundColor:"$accent2"}}),ik=40,ow=ri("i",{$flexCenter:"",width:ik,userSelect:"none",cursor:"pointer","> svg":{fill:"$highlight1",transition:"transform 350ms ease, fill 250ms ease"},"&:hover > svg":{fill:"$highlight3"},variants:{active:{true:{"> svg":{fill:"$highlight2"}}}}}),S0e=ri("div",{display:"flex",alignItems:"stretch",justifyContent:"space-between",height:"$titleBarHeight",variants:{mode:{drag:{cursor:"grab"}}}}),w0e=ri("div",{$flex:"",position:"relative",width:"100%",overflow:"hidden",transition:"height 250ms ease",color:"$highlight3",paddingLeft:"$md",[`> ${ow}`]:{height:30},variants:{toggled:{true:{height:30},false:{height:0}}}}),E0e=ri("input",{$reset:"",flex:1,position:"relative",height:30,width:"100%",backgroundColor:"transparent",fontSize:"10px",borderRadius:"$root","&:focus":{},"&::placeholder":{color:"$highlight2"}}),T0e=ri("div",{touchAction:"none",$flexCenter:"",flex:1,"> svg":{fill:"$highlight1"},color:"$highlight1",variants:{drag:{true:{$draggable:"","> svg":{transition:"fill 250ms ease"},"&:hover":{color:"$highlight3"},"&:hover > svg":{fill:"$highlight3"}}},filterEnabled:{false:{paddingRight:ik}}}}),M0e=Se.forwardRef(({setFilter:n,toggle:e},t)=>{const[i,r]=z.useState(""),s=z.useMemo(()=>r6(n,250),[n]),a=()=>{n(""),r("")},o=l=>{const u=l.currentTarget.value;e(!0),r(u)};return z.useEffect(()=>{s(i)},[i,s]),Se.createElement(Se.Fragment,null,Se.createElement(E0e,{ref:t,value:i,placeholder:"[Open filter with CMD+SHIFT+L]",onPointerDown:l=>l.stopPropagation(),onChange:o}),Se.createElement(ow,{onClick:()=>a(),style:{visibility:i?"visible":"hidden"}},Se.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",height:"14",width:"14",viewBox:"0 0 20 20",fill:"currentColor"},Se.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"}))))});function A0e({setFilter:n,onDrag:e,onDragStart:t,onDragEnd:i,toggle:r,toggled:s,title:a,drag:o,filterEnabled:l,from:u}){const[d,m]=z.useState(!1),v=z.useRef(null);z.useEffect(()=>{var x,T;d?(x=v.current)===null||x===void 0||x.focus():(T=v.current)===null||T===void 0||T.blur()},[d]);const y=u1(({offset:[x,T],first:E,last:w})=>{e({x,y:T}),E&&t({x,y:T}),w&&i({x,y:T})},{filterTaps:!0,from:({offset:[x,T]})=>[u?.x||x,u?.y||T]});return z.useEffect(()=>{const x=T=>{T.key==="L"&&T.shiftKey&&T.metaKey&&m(E=>!E)};return window.addEventListener("keydown",x),()=>window.removeEventListener("keydown",x)},[]),Se.createElement(Se.Fragment,null,Se.createElement(S0e,{mode:o?"drag":void 0},Se.createElement(ow,{active:!s,onClick:()=>r()},Se.createElement(ER,{toggled:s,width:12,height:8})),Se.createElement(T0e,ta({},o?y():{},{drag:o,filterEnabled:l}),a===void 0&&o?Se.createElement("svg",{width:"20",height:"10",viewBox:"0 0 28 14",xmlns:"http://www.w3.org/2000/svg"},Se.createElement("circle",{cx:"2",cy:"2",r:"2"}),Se.createElement("circle",{cx:"14",cy:"2",r:"2"}),Se.createElement("circle",{cx:"26",cy:"2",r:"2"}),Se.createElement("circle",{cx:"2",cy:"12",r:"2"}),Se.createElement("circle",{cx:"14",cy:"12",r:"2"}),Se.createElement("circle",{cx:"26",cy:"12",r:"2"})):a),l&&Se.createElement(ow,{active:d,onClick:()=>m(x=>!x)},Se.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",height:"20",viewBox:"0 0 20 20"},Se.createElement("path",{d:"M9 9a2 2 0 114 0 2 2 0 01-4 0z"}),Se.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-13a4 4 0 00-3.446 6.032l-2.261 2.26a1 1 0 101.414 1.415l2.261-2.261A4 4 0 1011 5z",clipRule:"evenodd"})))),Se.createElement(w0e,{toggled:d},Se.createElement(M0e,{ref:v,setFilter:n,toggle:r})))}const C0e=["store","hidden","theme","collapsed"];function R0e(n){let{store:e,hidden:t=!1,theme:i,collapsed:r=!1}=n,s=Jr(n,C0e);const a=X6(()=>pme(i),[i]),[o,l]=z.useState(!r),u=typeof r=="object"?!r.collapsed:o,d=z.useMemo(()=>typeof r=="object"?m=>{typeof m=="function"?r.onChange(!m(!r.collapsed)):r.onChange(!m)}:l,[r]);return!e||t?null:Se.createElement(xR.Provider,{value:a},Se.createElement(O0e,ta({store:e},s,{toggled:u,setToggle:d,rootClass:a.className})))}const O0e=Se.memo(({store:n,rootClass:e,fill:t=!1,flat:i=!1,neverHide:r=!1,oneLineLabels:s=!1,titleBar:a={title:void 0,drag:!0,filter:!0,position:void 0,onDrag:void 0,onDragStart:void 0,onDragEnd:void 0},hideCopyButton:o=!1,toggled:l,setToggle:u})=>{var d,m;const v=aye(n),[y,x]=z.useState(""),T=z.useMemo(()=>n0e(v,y),[v,y]),[E,w]=x6(),P=r||v.length>0,D=typeof a=="object"&&a.title||void 0,N=typeof a=="object"&&(d=a.drag)!==null&&d!==void 0?d:!0,G=typeof a=="object"&&(m=a.filter)!==null&&m!==void 0?m:!0,k=typeof a=="object"&&a.position||void 0,M=typeof a=="object"&&a.onDrag||void 0,$=typeof a=="object"&&a.onDragStart||void 0,V=typeof a=="object"&&a.onDragEnd||void 0;return Se.useEffect(()=>{w({x:k?.x,y:k?.y})},[k,w]),dme(),Se.createElement(h6.Provider,{value:{hideCopyButton:o}},Se.createElement(x0e,{ref:E,className:e,fill:t,flat:i,oneLineLabels:s,hideTitleBar:!a,style:{display:P?"block":"none"}},a&&Se.createElement(A0e,{onDrag:H=>{w(H),M?.(H)},onDragStart:H=>$?.(H),onDragEnd:H=>V?.(H),setFilter:x,toggle:H=>u(ee=>H??!ee),toggled:l,title:D,drag:N,filterEnabled:G,from:k}),P&&Se.createElement(f6.Provider,{value:n},Se.createElement(nk,{isRoot:!0,fill:t,flat:i,tree:T,toggled:l}))))}),P0e=["isRoot"];let lw=!1,og=null;function D0e(n){let{isRoot:e=!1}=n,t=Jr(n,P0e);return z.useEffect(()=>(lw=!0,!e&&og&&(og.remove(),og=null),()=>{e||(lw=!1)}),[e]),Se.createElement(R0e,ta({store:ek},t))}function L0e(n){z.useEffect(()=>{n&&!lw&&(og||(og=document.getElementById("leva__root")||Object.assign(document.createElement("div"),{id:"leva__root"}),document.body&&(document.body.appendChild(og),PN.createRoot(og).render(Se.createElement(D0e,{isRoot:!0})))),lw=!0)},[n])}function N0e(n,e,t,i,r){let s,a,o,l,u;return typeof n=="string"?(a=n,s=e,Array.isArray(t)?u=t:t&&("store"in t?(l=t,u=i):(o=t,Array.isArray(i)?u=i:(l=i,u=r)))):(s=n,Array.isArray(e)?u=e:(l=e,u=t)),{schema:s,folderName:a,folderSettings:o,hookSettings:l,deps:u||[]}}function I0e(n,e,t,i,r){const{folderName:s,schema:a,folderSettings:o,hookSettings:l,deps:u}=N0e(n,e,t,i,r),d=typeof a=="function",m=z.useRef(!1),v=z.useRef(!0),y=X6(()=>{m.current=!0;const ee=typeof a=="function"?a():a;return s?{[s]:t0e(ee,o)}:ee},u),x=!(l!=null&&l.store);L0e(x);const[T]=z.useState(()=>l?.store||ek),[E,w]=z.useMemo(()=>T.getDataFromSchema(y),[T,y]),[P,D,N,G,k]=z.useMemo(()=>{const ee=[],pe=[],ae={},ye={},Te={};return Object.values(w).forEach(({path:J,onChange:de,onEditStart:he,onEditEnd:Le,transient:ne})=>{ee.push(J),de?(ae[J]=de,ne||pe.push(J)):pe.push(J),he&&(ye[J]=he),Le&&(Te[J]=Le)}),[ee,pe,ae,ye,Te]},[w]),M=z.useMemo(()=>T.orderPaths(P),[P,T]),$=oye(T,D,E),V=z.useCallback(ee=>{const pe=Object.entries(ee).reduce((ae,[ye,Te])=>Object.assign(ae,{[w[ye].path]:Te}),{});T.set(pe,!1)},[T,w]),H=z.useCallback(ee=>T.get(w[ee].path),[T,w]);return z.useEffect(()=>{const ee=!v.current&&m.current;return T.addData(E,ee),v.current=!1,m.current=!1,()=>T.disposePaths(M)},[T,M,E]),z.useEffect(()=>{const ee=[];return Object.entries(N).forEach(([pe,ae])=>{ae(T.get(pe),pe,pi({initial:!0,get:T.get},T.getInput(pe)));const ye=T.useStore.subscribe(Te=>{const J=Te.data[pe];return[J.disabled?void 0:J.value,J]},([Te,J])=>ae(Te,pe,pi({initial:!1,get:T.get},J)),{equalityFn:lE});ee.push(ye)}),()=>ee.forEach(pe=>pe())},[T,N]),z.useEffect(()=>{const ee=[];return Object.entries(G).forEach(([pe,ae])=>ee.push(T.subscribeToEditStart(pe,ae))),Object.entries(k).forEach(([pe,ae])=>ee.push(T.subscribeToEditEnd(pe,ae))),()=>ee.forEach(pe=>pe())},[G,k,T]),d?[$,V,H]:$}Od(yf.SELECT,Kme);Od(yf.IMAGE,Hye);Od(yf.NUMBER,Fme);Od(yf.COLOR,yye);Od(yf.STRING,age);Od(yf.BOOLEAN,dge);Od(yf.INTERVAL,Yye);Od(yf.VECTOR3D,bye);Od(yf.VECTOR2D,Cye);let z0e="/assets/configs/solarsystem.json";const U0e=function({planet:n,config_planet:e,sun_direction:t}){const i=z.useRef(),r=z.useMemo(function(){const u={};return n.textures?.forEach(function(d,m){u[d.type]=e.textures[m]||d.url}),u},[n,e]),s=sR(Object.values(r)),a=z.useMemo(function(){const u={};return Object.keys(r).forEach(function(d,m){return u[d]=s[m],u}),u},[r]),o=z.useRef({dayTexture:{value:a.color},nightTexture:{value:a.color_night},emissiveTexture:{value:a.emissive_night},displacementTexture:{value:a.displacement},specularTexture:{value:a.specular},sunDirection:{value:new me(Math.cos(t),0,-Math.sin(t)).normalize()}});z.useEffect(function(){o.current.sunDirection.value.set(Math.cos(t),0,-Math.sin(t)).normalize()},[t]);let l=I0e(a.color_atmosphere?n.name:"",a.color_atmosphere?{color_atmosphere:{value:!0,label:"Show atmosphere"}}:{},{collapsed:!0},[n]);return l=a.color_atmosphere?l:{},ue.jsxs(ue.Fragment,{children:[ue.jsxs("mesh",{children:[ue.jsx("sphereGeometry",{args:[e.radius,512,256]}),ue.jsx("meshPhysicalMaterial",{ref:i,map:a.color_night?null:a.color,displacementMap:a.displacement,displacementScale:a.displacement?e.elevation*e.elevationScale:0,displacementBias:a.displacement?e.elevationBias*e.elevationScale:0,roughnessMap:a.specular,emissiveMap:a.emissive,emissive:a.emissive?new yn(16777215):new yn(0),emissiveIntensity:a.emissive?.1:0,onBeforeCompile:function(u){a.color_night&&(u.uniforms.dayTexture=o.current.dayTexture,u.uniforms.nightTexture=o.current.nightTexture,u.uniforms.sunDirection=o.current.sunDirection,a.emissive_night&&(u.uniforms.emissiveTexture=o.current.emissiveTexture),n.name==="Earth"&&(u.uniforms.displacementTexture=o.current.displacementTexture,u.uniforms.specularTexture=o.current.specularTexture,u.uniforms.shallowWaterDayColor={value:new yn(3839231)},u.uniforms.deepWaterDayColor={value:new yn(1125961)},u.uniforms.shallowWaterNightColor={value:new yn(1656431)},u.uniforms.deepWaterNightColor={value:new yn(0)}),u.vertexShader=u.vertexShader.replace("#include <common>",`
                        #include <common>
                        varying vec3 vWorldNormal;
                        varying vec2 vUv_custom;
                    `).replace("#include <uv_vertex>",`
                        #include <uv_vertex>
                        vUv_custom = uv;
                        vWorldNormal = normalize(mat3(modelMatrix) * normal);
                    `),u.fragmentShader=u.fragmentShader.replace("#include <common>",`
                        #include <common>
                        uniform sampler2D dayTexture;
                        uniform sampler2D nightTexture;
                        uniform vec3 sunDirection;
                        varying vec2 vUv_custom;
                        varying vec3 vWorldNormal;
                        ${a.emissive_night?"uniform sampler2D emissiveTexture;":""}
                        ${n.name==="Earth"?`
                            uniform sampler2D displacementTexture;
                            uniform sampler2D specularTexture;
                            uniform vec3 shallowWaterDayColor;
                            uniform vec3 deepWaterDayColor;
                            uniform vec3 shallowWaterNightColor;
                            uniform vec3 deepWaterNightColor;
                        `:""}
                    `).replace("#include <map_fragment>",`
                        #include <map_fragment>
                        float d = dot(normalize(vWorldNormal), normalize(sunDirection));
                        float blend = smoothstep(-0.5, 0.5, d);
                        vec4 dayColor = texture2D(dayTexture, vUv_custom);
                        vec4 nightColor = texture2D(nightTexture, vUv_custom);
                        diffuseColor = mix(nightColor, dayColor, blend);
                        ${a.emissive_night?`
                            vec4 emissive = texture2D(emissiveTexture, vUv_custom);
                            totalEmissiveRadiance += emissive.rgb * (1.0 - blend) * 0.1;
                        `:""}
                        ${n.name==="Earth"?`
                            float waterMask = 0.0;
                            waterMask = 1.0 - texture2D(specularTexture, vUv_custom).r;
                            float height = texture2D(displacementTexture, vUv_custom).r;
                            float waterDepthFactor = smoothstep(0.3, 0.7, height);
                            vec3 waterDayColor = mix(deepWaterDayColor, shallowWaterDayColor, waterDepthFactor);
                            vec3 waterNightColor = mix(deepWaterNightColor, shallowWaterNightColor, waterDepthFactor);
                            vec3 waterColor = mix(waterNightColor, waterDayColor, blend);
                            diffuseColor.rgb = mix(diffuseColor.rgb, waterColor, waterMask);
                        `:""}
                    `))}})]}),a.color_atmosphere&&l.color_atmosphere?ue.jsxs("mesh",{children:[ue.jsx("sphereGeometry",{args:[e.radius+.015,64,32]}),ue.jsx("meshPhysicalMaterial",{map:a.color_atmosphere,transparent:!0})]}):null,a.color_rings?ue.jsxs("mesh",{children:[ue.jsx("latheGeometry",{args:[[new Lt(e.radius*e.ringsRange[0],0),new Lt(e.radius*e.ringsRange[1],0)],64]}),ue.jsx("meshPhysicalMaterial",{map:a.color_rings,side:Eu,transparent:!0})]}):null]})};function B0e({solarSystemConfing:n,planetWithSatellites:e,mode:t}){const i=z.useRef(),r=t==="satellite"?e.selectedSatellite:e.selectedPlanet,s=t==="satellite"?.01:.1;let a={...n};delete a.planets,a.planet={...r},a.planet.textures=r.textures.map(function(l,u){return l.url}),delete a.planet.satellites,a.planet.elevationScale=s,a.sun_position=0;const o=t==="satellite"?e.selectedPlanet.distance:a.planet.distance;return ue.jsxs(ue.Fragment,{children:[null,null,ue.jsx("ambientLight",{intensity:r.name=="Sun"?3.5:a.ambientLight.intensity,color:a.ambientLight.color}),ue.jsx("group",{position:[0,0,0],rotation:[0,a.sun_position,0],scale:[1,1,1],children:ue.jsx("pointLight",{ref:i,position:[o,0,0],rotation:[0,0,0],scale:[1,1,1],intensity:r.name=="Sun"?0:a.pointLight.intensity,color:a.pointLight.color})}),ue.jsx(fhe,{background:!0,files:["/assets/solarsystem/background/px.png","/assets/solarsystem/background/nx.png","/assets/solarsystem/background/py.png","/assets/solarsystem/background/ny.png","/assets/solarsystem/background/pz.png","/assets/solarsystem/background/nz.png"]}),ue.jsx(U0e,{planet:r,config_planet:a.planet,sun_direction:a.sun_position}),ue.jsx(Xfe,{makeDefault:!0,enablePan:!1,enableZoom:!1})]})}function k0e({solarSystemContainer:n,planet:e}){const{data:t,loading:i,error:r}=cy(z0e);return ue.jsx(ue.Fragment,{children:ue.jsx("div",{className:n,style:{width:"100%",height:"calc(100vh - 2*(80px + 10px + 20px) - (48px + 20px))"},children:ue.jsxs(rB,{gl:function(s){s.toneMapping=Tw,s.toneMappingExposure=1,s.outputColorSpace=ka},children:[ue.jsx(Wfe,{makeDefault:!0,position:[e.selectedSatellite?.radius*10||e.selectedPlanet.radius*10,0,0],fov:30,near:e.selectedSatellite?.radius/2||e.selectedPlanet.radius/2,far:e.selectedSatellite?.radius*1e3||e.selectedPlanet.radius*1e3,onUpdate:function(s){s.lookAt(0,0,0)}}),i||r?null:ue.jsx(B0e,{solarSystemConfing:t,planetWithSatellites:e,mode:e.selectedSatellite?"satellite":"planet"})]})})})}let H0e="/assets/configs/solarsystem.json";function F0e({solarSystemContainer:n="solarsystem"}){const e=Md(),{data:t,loading:i,error:r}=cy(H0e),s=z.useMemo(function(){const a=new URLSearchParams(e.search),o=a.get("planet"),l=a.get("satellite");if(!t||i||r)return{selectedPlanet:null,selectedSatellite:null};if(!o)return{selectedPlanet:t.planets[3],selectedSatellite:null};let u=t.planets.find(function(m){return m.name.toLowerCase()===o.toLowerCase()});u==null&&(u=t.planets[3]);let d=null;return l&&u.satellites&&(d=u.satellites.find(function(m){return m.name.toLowerCase()===l.toLowerCase()})),{selectedPlanet:u,selectedSatellite:d}},[e.search,t,i,r]);return ue.jsxs(ue.Fragment,{children:[ue.jsx(Co,{children:ue.jsx(so,{md:12,className:"blur flex",children:i?ue.jsx("div",{children:"Loading..."}):r?ue.jsxs("div",{children:["Error loading solar system config: ",r.message]}):t.planets.map(function(a,o){return ue.jsx("div",{children:a.satellites?.length>0?ue.jsxs("details",{children:[ue.jsx("summary",{children:ue.jsx(Ar,{to:`/solarsystem?planet=${a.name.toLowerCase()}`,children:a.name})}),ue.jsx("ul",{children:a.satellites.map(function(l){return ue.jsx("li",{children:ue.jsx(Ar,{to:`/solarsystem?planet=${a.name.toLowerCase()}&satellite=${l.name.toLowerCase()}`,children:l.name})},l.name)})})]}):ue.jsx(Ar,{to:`/solarsystem?planet=${a.name.toLowerCase()}`,children:a.name})},a.name)})})}),ue.jsx(Co,{children:ue.jsx(so,{md:12,children:i?ue.jsx("div",{children:"Loading..."}):r?ue.jsxs("div",{children:["Error loading solar system config: ",r.message]}):ue.jsx(k0e,{solarSystemContainer:n,planet:s})})})]})}function V0e(){return ue.jsxs(ue.Fragment,{children:[ue.jsx(Co,{children:ue.jsx(so,{md:12,children:ue.jsx("h1",{children:"Credits"})})}),ue.jsx(Co,{children:ue.jsxs(so,{md:12,className:"blur",children:[ue.jsx("h2",{children:ue.jsx(Ar,{to:"/solarsystem",children:"Solar System"})}),ue.jsx("p",{children:ue.jsxs("ul",{children:[ue.jsx("li",{children:ue.jsx(Ar,{to:"https://sbcode.net/topoearth/",target:"_blank",children:"sbcode"})}),ue.jsx("li",{children:ue.jsx(Ar,{to:"https://www.shadedrelief.com/natural3/index.html",target:"_blank",children:"shadedrelief"})}),ue.jsx("li",{children:ue.jsx(Ar,{to:"https://www.solarsystemscope.com/",target:"_blank",children:"solarsystemscope"})})]})}),ue.jsx("h2",{children:ue.jsx(Ar,{to:"/citiesguesser",children:"Cities"})}),ue.jsx("p",{children:ue.jsxs("ul",{children:[ue.jsx("li",{children:ue.jsx(Ar,{to:"https://www.openstreetmap.org/",target:"_blank",children:"OpenStreetMap"})}),ue.jsx("li",{children:ue.jsx(Ar,{to:"https://www.opentopodata.org/",target:"_blank",children:"Open Topo Data"})})]})})]})})]})}function G0e(){return ue.jsx(ue.Fragment,{children:ue.jsx(Co,{children:ue.jsx(so,{md:12,className:"blur",children:ue.jsxs("p",{children:["Oops! The page you are looking for does not exist. ",ue.jsx(Ar,{to:"/home",children:"Go back to Home"})]})})})})}let j0e="/assets/configs/particles2D.json",$0e="/assets/configs/particles2D_404.json";function q0e(){const e=Md().pathname,{data:t,loading:i,error:r}=cy(j0e),{data:s,loading:a,error:o}=cy($0e),l=qee.reduce(function(m,v){return m[v.name]=v,m},{}),u=e.replace(/^\/+|\/+$/g,"").replace(/\.html$/,"").toLowerCase(),d=l[u===""||u==="index"?"home":u]||{name:"404",title:"404",description:"404 Not Found"};return ue.jsxs(ue.Fragment,{children:[ue.jsxs(T2,{children:[ue.jsxs("title",{children:["Gianluca Fabris - ",d.title]}),ue.jsx("meta",{name:"description",content:`Gianluca Fabris website - ${d.title} page, ${d.description}`}),ue.jsx("meta",{property:"og:title",content:`Gianluca Fabris - ${d.title}`}),ue.jsx("meta",{property:"og:description",content:`Gianluca Fabris website - ${d.title} page, ${d.description}`}),ue.jsx("meta",{property:"og:type",content:"website"}),ue.jsx("meta",{property:"og:url",content:`https://gianlucafabris.github.io/${d.name}.html`}),ue.jsx("meta",{property:"og:image",content:"https://gianlucafabris.github.io/src/img/background.png"}),ue.jsx("meta",{name:"twitter:card",content:"summary_large_image"}),ue.jsx("meta",{name:"twitter:title",content:`Gianluca Fabris - ${d.title}`}),ue.jsx("meta",{name:"twitter:description",content:`Gianluca Fabris website - ${d.title} page, ${d.description}`}),ue.jsx("meta",{name:"twitter:image",content:"https://gianlucafabris.github.io/src/img/background.png"})]}),null,i||a?ue.jsx("div",{children:"Loading..."}):r||o?ue.jsxs("div",{children:["Error loading background config: ",r?.message||o?.message]}):ue.jsx($ee,{particlesContainer:"particles-js",className:d.name==="404"?"p404":"",BackgroundConfig:d.name==="404"?s:t}),ue.jsxs(a5,{children:[ue.jsx("header",{children:ue.jsx(Co,{children:ue.jsx(so,{md:12,className:"blur",children:ue.jsxs(oT,{bg:"dark","data-bs-theme":"dark",sticky:"top",children:[e=="/"||e=="/home"||e=="/index"?ue.jsx(oT.Brand,{as:Ax,to:"/home",className:"active",children:"gianlucafabris2001.github.io"}):ue.jsx(oT.Brand,{as:Ax,to:"/home",children:"gianlucafabris2001.github.io"}),ue.jsx(Z3,{activeKey:e,className:"me-auto",children:Wee.map(function(m){return ue.jsx(Z3.Link,{as:Ax,to:`/${m.name}`,children:m.label},m.name)})})]})})})}),ue.jsx("main",{children:ue.jsxs(Y8,{children:[ue.jsx(Sp,{index:!0,element:ue.jsx(qP,{typedContainer:"typed"})}),l.home.paths.map(function(m){return ue.jsx(Sp,{path:m,element:ue.jsx(qP,{typedContainer:"typed"})},m)}),l.printables.paths.map(function(m){return ue.jsx(Sp,{path:m,element:ue.jsx(vhe,{})},m)}),l.thesis.paths.map(function(m){return ue.jsx(Sp,{path:m,element:ue.jsx(yhe,{})},m)}),l.solarsystem.paths.map(function(m){return ue.jsx(Sp,{path:m,element:ue.jsx(F0e,{solarSystemContainer:"solarsystem"})},m)}),l.credits.paths.map(function(m){return ue.jsx(Sp,{path:m,element:ue.jsx(V0e,{})},m)}),ue.jsx(Sp,{path:"*",element:ue.jsx(G0e,{})})]})}),ue.jsx("footer",{children:ue.jsx(Co,{children:ue.jsx(so,{md:12,className:"blur",children:ue.jsxs("div",{className:"footer flex",children:[ue.jsxs("div",{children:["Copyright  2023 Gianluca Fabris | Powered by Github & ",ue.jsx(Ar,{to:"/home",children:"Gianluca Fabris"})]}),ue.jsxs("div",{children:[ue.jsx(Ar,{to:"/credits",children:"Credits"}),ue.jsx("span",{children:" | "}),ue.jsx(Ar,{to:"https://www.iubenda.com/privacy-policy/86179529",className:"iubenda-black iubenda-noiframe iubenda-embed iubenda-noiframe ",title:"Privacy Policy ",target:"_blank",children:"Privacy Policy"}),ue.jsx("span",{children:" | "}),ue.jsx(Ar,{to:"https://www.iubenda.com/privacy-policy/86179529/cookie-policy",className:"iubenda-black iubenda-noiframe iubenda-embed iubenda-noiframe ",title:"Cookie Policy ",target:"_blank",children:"Cookie Policy"})]}),ue.jsxs("div",{className:"social",children:[ue.jsx(Ar,{to:"/home","aria-label":"website",children:ue.jsx(P5,{})}),ue.jsx(Ar,{to:"https://www.linkedin.com/in/gianluca-fabris-2001/",target:"_blank","aria-label":"linkedin",children:ue.jsx(D5,{})}),ue.jsx(Ar,{to:"https://github.com/gianlucafabris",target:"_blank","aria-label":"github",children:ue.jsx(O5,{})}),ue.jsx(Ar,{to:"https://www.printables.com/@gianlucafabris2001",target:"_blank","aria-label":"printables",children:ue.jsx("svg",{version:"1.0",xmlns:"http://www.w3.org/2000/svg",width:"19px",height:"19px",viewBox:"0 0 41.000000 41.000000",preserveAspectRatio:"xMidYMid meet",children:ue.jsxs("g",{transform:"translate(0.000000,41.000000) scale(0.100000,-0.100000)",fill:"var(--primary_color)",stroke:"none",children:[ue.jsx("path",{d:"M136 365 l-59 -33 29 -17 c16 -10 41 -26 56 -36 15 -11 32 -19 38 -19 6 0 10 -31 10 -80 0 -90 -3 -89 82 -35 l47 30 1 76 0 76 -54 26 c-30 15 -58 32 -61 37 -9 15 -24 11 -89 -25z"}),ue.jsx("path",{d:"M70 84 c0 -64 0 -65 23 -52 59 35 87 53 87 59 0 3 -17 14 -37 24 -78 39 -73 41 -73 -31z"})]})})})]})]})})})})]}),null]})}const W0e=i8.createRoot(h2.$("#root")[0]);W0e.render(ue.jsx(y9,{children:ue.jsx(q0e,{})}));
//# sourceMappingURL=index-BAlXwA3-.js.map
