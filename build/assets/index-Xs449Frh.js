function qz(n,e){for(var t=0;t<e.length;t++){const i=e[t];if(typeof i!="string"&&!Array.isArray(i)){for(const r in i)if(r!=="default"&&!(r in n)){const s=Object.getOwnPropertyDescriptor(i,r);s&&Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:()=>i[r]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function t(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(r){if(r.ep)return;r.ep=!0;const s=t(r);fetch(r.href,s)}})();function zu(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var jw={exports:{}},oy={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _O;function Yz(){if(_O)return oy;_O=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(i,r,s){var o=null;if(s!==void 0&&(o=""+s),r.key!==void 0&&(o=""+r.key),"key"in r){s={};for(var l in r)l!=="key"&&(s[l]=r[l])}else s=r;return r=s.ref,{$$typeof:n,type:i,key:o,ref:r!==void 0?r:null,props:s}}return oy.Fragment=e,oy.jsx=t,oy.jsxs=t,oy}var bO;function Kz(){return bO||(bO=1,jw.exports=Yz()),jw.exports}var Le=Kz(),w1={exports:{}};/*!
  * Bootstrap v5.3.8 (https://getbootstrap.com/)
  * Copyright 2011-2025 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */var Zz=w1.exports,xO;function Qz(){return xO||(xO=1,(function(n,e){(function(t,i){n.exports=i()})(Zz,function(){const t=new Map,i={set(ye,W,ae){t.has(ye)||t.set(ye,new Map);const Me=t.get(ye);Me.has(W)||Me.size===0?Me.set(W,ae):console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(Me.keys())[0]}.`)},get:(ye,W)=>t.has(ye)&&t.get(ye).get(W)||null,remove(ye,W){if(!t.has(ye))return;const ae=t.get(ye);ae.delete(W),ae.size===0&&t.delete(ye)}},r="transitionend",s=ye=>(ye&&window.CSS&&window.CSS.escape&&(ye=ye.replace(/#([^\s"#']+)/g,(W,ae)=>`#${CSS.escape(ae)}`)),ye),o=ye=>ye==null?`${ye}`:Object.prototype.toString.call(ye).match(/\s([a-z]+)/i)[1].toLowerCase(),l=ye=>{ye.dispatchEvent(new Event(r))},a=ye=>!(!ye||typeof ye!="object")&&(ye.jquery!==void 0&&(ye=ye[0]),ye.nodeType!==void 0),u=ye=>a(ye)?ye.jquery?ye[0]:ye:typeof ye=="string"&&ye.length>0?document.querySelector(s(ye)):null,m=ye=>{if(!a(ye)||ye.getClientRects().length===0)return!1;const W=getComputedStyle(ye).getPropertyValue("visibility")==="visible",ae=ye.closest("details:not([open])");if(!ae)return W;if(ae!==ye){const Me=ye.closest("summary");if(Me&&Me.parentNode!==ae||Me===null)return!1}return W},d=ye=>!ye||ye.nodeType!==Node.ELEMENT_NODE||!!ye.classList.contains("disabled")||(ye.disabled!==void 0?ye.disabled:ye.hasAttribute("disabled")&&ye.getAttribute("disabled")!=="false"),b=ye=>{if(!document.documentElement.attachShadow)return null;if(typeof ye.getRootNode=="function"){const W=ye.getRootNode();return W instanceof ShadowRoot?W:null}return ye instanceof ShadowRoot?ye:ye.parentNode?b(ye.parentNode):null},g=()=>{},_=ye=>{ye.offsetHeight},p=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,v=[],c=()=>document.documentElement.dir==="rtl",x=ye=>{var W;W=()=>{const ae=p();if(ae){const Me=ye.NAME,ut=ae.fn[Me];ae.fn[Me]=ye.jQueryInterface,ae.fn[Me].Constructor=ye,ae.fn[Me].noConflict=()=>(ae.fn[Me]=ut,ye.jQueryInterface)}},document.readyState==="loading"?(v.length||document.addEventListener("DOMContentLoaded",()=>{for(const ae of v)ae()}),v.push(W)):W()},w=(ye,W=[],ae=ye)=>typeof ye=="function"?ye.call(...W):ae,T=(ye,W,ae=!0)=>{if(!ae)return void w(ye);const Me=(Dt=>{if(!Dt)return 0;let{transitionDuration:cn,transitionDelay:Ln}=window.getComputedStyle(Dt);const Xn=Number.parseFloat(cn),Jn=Number.parseFloat(Ln);return Xn||Jn?(cn=cn.split(",")[0],Ln=Ln.split(",")[0],1e3*(Number.parseFloat(cn)+Number.parseFloat(Ln))):0})(W)+5;let ut=!1;const Qe=({target:Dt})=>{Dt===W&&(ut=!0,W.removeEventListener(r,Qe),w(ye))};W.addEventListener(r,Qe),setTimeout(()=>{ut||l(W)},Me)},L=(ye,W,ae,Me)=>{const ut=ye.length;let Qe=ye.indexOf(W);return Qe===-1?!ae&&Me?ye[ut-1]:ye[0]:(Qe+=ae?1:-1,Me&&(Qe=(Qe+ut)%ut),ye[Math.max(0,Math.min(Qe,ut-1))])},P=/[^.]*(?=\..*)\.|.*/,C=/\..*/,I=/::\d+$/,F={};let R=1;const D={mouseenter:"mouseover",mouseleave:"mouseout"},G=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function j(ye,W){return W&&`${W}::${R++}`||ye.uidEvent||R++}function k(ye){const W=j(ye);return ye.uidEvent=W,F[W]=F[W]||{},F[W]}function V(ye,W,ae=null){return Object.values(ye).find(Me=>Me.callable===W&&Me.delegationSelector===ae)}function H(ye,W,ae){const Me=typeof W=="string",ut=Me?ae:W||ae;let Qe=ie(ye);return G.has(Qe)||(Qe=ye),[Me,ut,Qe]}function te(ye,W,ae,Me,ut){if(typeof W!="string"||!ye)return;let[Qe,Dt,cn]=H(W,ae,Me);W in D&&(Dt=(Hi=>function(Ci){if(!Ci.relatedTarget||Ci.relatedTarget!==Ci.delegateTarget&&!Ci.delegateTarget.contains(Ci.relatedTarget))return Hi.call(this,Ci)})(Dt));const Ln=k(ye),Xn=Ln[cn]||(Ln[cn]={}),Jn=V(Xn,Dt,Qe?ae:null);if(Jn)return void(Jn.oneOff=Jn.oneOff&&ut);const zn=j(Dt,W.replace(P,"")),ki=Qe?(function(bi,Hi,Ci){return function Fi(Xr){const Qr=bi.querySelectorAll(Hi);for(let{target:Qi}=Xr;Qi&&Qi!==this;Qi=Qi.parentNode)for(const sr of Qr)if(sr===Qi)return Se(Xr,{delegateTarget:Qi}),Fi.oneOff&&ce.off(bi,Xr.type,Hi,Ci),Ci.apply(Qi,[Xr])}})(ye,ae,Dt):(function(bi,Hi){return function Ci(Fi){return Se(Fi,{delegateTarget:bi}),Ci.oneOff&&ce.off(bi,Fi.type,Hi),Hi.apply(bi,[Fi])}})(ye,Dt);ki.delegationSelector=Qe?ae:null,ki.callable=Dt,ki.oneOff=ut,ki.uidEvent=zn,Xn[zn]=ki,ye.addEventListener(cn,ki,Qe)}function ne(ye,W,ae,Me,ut){const Qe=V(W[ae],Me,ut);Qe&&(ye.removeEventListener(ae,Qe,!!ut),delete W[ae][Qe.uidEvent])}function he(ye,W,ae,Me){const ut=W[ae]||{};for(const[Qe,Dt]of Object.entries(ut))Qe.includes(Me)&&ne(ye,W,ae,Dt.callable,Dt.delegationSelector)}function ie(ye){return ye=ye.replace(C,""),D[ye]||ye}const ce={on(ye,W,ae,Me){te(ye,W,ae,Me,!1)},one(ye,W,ae,Me){te(ye,W,ae,Me,!0)},off(ye,W,ae,Me){if(typeof W!="string"||!ye)return;const[ut,Qe,Dt]=H(W,ae,Me),cn=Dt!==W,Ln=k(ye),Xn=Ln[Dt]||{},Jn=W.startsWith(".");if(Qe===void 0){if(Jn)for(const zn of Object.keys(Ln))he(ye,Ln,zn,W.slice(1));for(const[zn,ki]of Object.entries(Xn)){const bi=zn.replace(I,"");cn&&!W.includes(bi)||ne(ye,Ln,Dt,ki.callable,ki.delegationSelector)}}else{if(!Object.keys(Xn).length)return;ne(ye,Ln,Dt,Qe,ut?ae:null)}},trigger(ye,W,ae){if(typeof W!="string"||!ye)return null;const Me=p();let ut=null,Qe=!0,Dt=!0,cn=!1;W!==ie(W)&&Me&&(ut=Me.Event(W,ae),Me(ye).trigger(ut),Qe=!ut.isPropagationStopped(),Dt=!ut.isImmediatePropagationStopped(),cn=ut.isDefaultPrevented());const Ln=Se(new Event(W,{bubbles:Qe,cancelable:!0}),ae);return cn&&Ln.preventDefault(),Dt&&ye.dispatchEvent(Ln),Ln.defaultPrevented&&ut&&ut.preventDefault(),Ln}};function Se(ye,W={}){for(const[ae,Me]of Object.entries(W))try{ye[ae]=Me}catch{Object.defineProperty(ye,ae,{configurable:!0,get:()=>Me})}return ye}function Ee(ye){if(ye==="true")return!0;if(ye==="false")return!1;if(ye===Number(ye).toString())return Number(ye);if(ye===""||ye==="null")return null;if(typeof ye!="string")return ye;try{return JSON.parse(decodeURIComponent(ye))}catch{return ye}}function me(ye){return ye.replace(/[A-Z]/g,W=>`-${W.toLowerCase()}`)}const le={setDataAttribute(ye,W,ae){ye.setAttribute(`data-bs-${me(W)}`,ae)},removeDataAttribute(ye,W){ye.removeAttribute(`data-bs-${me(W)}`)},getDataAttributes(ye){if(!ye)return{};const W={},ae=Object.keys(ye.dataset).filter(Me=>Me.startsWith("bs")&&!Me.startsWith("bsConfig"));for(const Me of ae){let ut=Me.replace(/^bs/,"");ut=ut.charAt(0).toLowerCase()+ut.slice(1),W[ut]=Ee(ye.dataset[Me])}return W},getDataAttribute:(ye,W)=>Ee(ye.getAttribute(`data-bs-${me(W)}`))};class we{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(W){return W=this._mergeConfigObj(W),W=this._configAfterMerge(W),this._typeCheckConfig(W),W}_configAfterMerge(W){return W}_mergeConfigObj(W,ae){const Me=a(ae)?le.getDataAttribute(ae,"config"):{};return{...this.constructor.Default,...typeof Me=="object"?Me:{},...a(ae)?le.getDataAttributes(ae):{},...typeof W=="object"?W:{}}}_typeCheckConfig(W,ae=this.constructor.DefaultType){for(const[Me,ut]of Object.entries(ae)){const Qe=W[Me],Dt=a(Qe)?"element":o(Qe);if(!new RegExp(ut).test(Dt))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${Me}" provided type "${Dt}" but expected type "${ut}".`)}}}class Re extends we{constructor(W,ae){super(),(W=u(W))&&(this._element=W,this._config=this._getConfig(ae),i.set(this._element,this.constructor.DATA_KEY,this))}dispose(){i.remove(this._element,this.constructor.DATA_KEY),ce.off(this._element,this.constructor.EVENT_KEY);for(const W of Object.getOwnPropertyNames(this))this[W]=null}_queueCallback(W,ae,Me=!0){T(W,ae,Me)}_getConfig(W){return W=this._mergeConfigObj(W,this._element),W=this._configAfterMerge(W),this._typeCheckConfig(W),W}static getInstance(W){return i.get(u(W),this.DATA_KEY)}static getOrCreateInstance(W,ae={}){return this.getInstance(W)||new this(W,typeof ae=="object"?ae:null)}static get VERSION(){return"5.3.8"}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(W){return`${W}${this.EVENT_KEY}`}}const Fe=ye=>{let W=ye.getAttribute("data-bs-target");if(!W||W==="#"){let ae=ye.getAttribute("href");if(!ae||!ae.includes("#")&&!ae.startsWith("."))return null;ae.includes("#")&&!ae.startsWith("#")&&(ae=`#${ae.split("#")[1]}`),W=ae&&ae!=="#"?ae.trim():null}return W?W.split(",").map(ae=>s(ae)).join(","):null},qe={find:(ye,W=document.documentElement)=>[].concat(...Element.prototype.querySelectorAll.call(W,ye)),findOne:(ye,W=document.documentElement)=>Element.prototype.querySelector.call(W,ye),children:(ye,W)=>[].concat(...ye.children).filter(ae=>ae.matches(W)),parents(ye,W){const ae=[];let Me=ye.parentNode.closest(W);for(;Me;)ae.push(Me),Me=Me.parentNode.closest(W);return ae},prev(ye,W){let ae=ye.previousElementSibling;for(;ae;){if(ae.matches(W))return[ae];ae=ae.previousElementSibling}return[]},next(ye,W){let ae=ye.nextElementSibling;for(;ae;){if(ae.matches(W))return[ae];ae=ae.nextElementSibling}return[]},focusableChildren(ye){const W=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(ae=>`${ae}:not([tabindex^="-"])`).join(",");return this.find(W,ye).filter(ae=>!d(ae)&&m(ae))},getSelectorFromElement(ye){const W=Fe(ye);return W&&qe.findOne(W)?W:null},getElementFromSelector(ye){const W=Fe(ye);return W?qe.findOne(W):null},getMultipleElementsFromSelector(ye){const W=Fe(ye);return W?qe.find(W):[]}},ot=(ye,W="hide")=>{const ae=`click.dismiss${ye.EVENT_KEY}`,Me=ye.NAME;ce.on(document,ae,`[data-bs-dismiss="${Me}"]`,function(ut){if(["A","AREA"].includes(this.tagName)&&ut.preventDefault(),d(this))return;const Qe=qe.getElementFromSelector(this)||this.closest(`.${Me}`);ye.getOrCreateInstance(Qe)[W]()})},dn=".bs.alert",mn=`close${dn}`,pn=`closed${dn}`;class Ae extends Re{static get NAME(){return"alert"}close(){if(ce.trigger(this._element,mn).defaultPrevented)return;this._element.classList.remove("show");const W=this._element.classList.contains("fade");this._queueCallback(()=>this._destroyElement(),this._element,W)}_destroyElement(){this._element.remove(),ce.trigger(this._element,pn),this.dispose()}static jQueryInterface(W){return this.each(function(){const ae=Ae.getOrCreateInstance(this);if(typeof W=="string"){if(ae[W]===void 0||W.startsWith("_")||W==="constructor")throw new TypeError(`No method named "${W}"`);ae[W](this)}})}}ot(Ae,"close"),x(Ae);const Bt='[data-bs-toggle="button"]';class Tt extends Re{static get NAME(){return"button"}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle("active"))}static jQueryInterface(W){return this.each(function(){const ae=Tt.getOrCreateInstance(this);W==="toggle"&&ae[W]()})}}ce.on(document,"click.bs.button.data-api",Bt,ye=>{ye.preventDefault();const W=ye.target.closest(Bt);Tt.getOrCreateInstance(W).toggle()}),x(Tt);const zt=".bs.swipe",At=`touchstart${zt}`,yn=`touchmove${zt}`,nt=`touchend${zt}`,Nt=`pointerdown${zt}`,en=`pointerup${zt}`,_e={endCallback:null,leftCallback:null,rightCallback:null},ue={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class ze extends we{constructor(W,ae){super(),this._element=W,W&&ze.isSupported()&&(this._config=this._getConfig(ae),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents())}static get Default(){return _e}static get DefaultType(){return ue}static get NAME(){return"swipe"}dispose(){ce.off(this._element,zt)}_start(W){this._supportPointerEvents?this._eventIsPointerPenTouch(W)&&(this._deltaX=W.clientX):this._deltaX=W.touches[0].clientX}_end(W){this._eventIsPointerPenTouch(W)&&(this._deltaX=W.clientX-this._deltaX),this._handleSwipe(),w(this._config.endCallback)}_move(W){this._deltaX=W.touches&&W.touches.length>1?0:W.touches[0].clientX-this._deltaX}_handleSwipe(){const W=Math.abs(this._deltaX);if(W<=40)return;const ae=W/this._deltaX;this._deltaX=0,ae&&w(ae>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(ce.on(this._element,Nt,W=>this._start(W)),ce.on(this._element,en,W=>this._end(W)),this._element.classList.add("pointer-event")):(ce.on(this._element,At,W=>this._start(W)),ce.on(this._element,yn,W=>this._move(W)),ce.on(this._element,nt,W=>this._end(W)))}_eventIsPointerPenTouch(W){return this._supportPointerEvents&&(W.pointerType==="pen"||W.pointerType==="touch")}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const rt=".bs.carousel",pt=".data-api",ht="ArrowLeft",Yt="ArrowRight",Qt="next",Cn="prev",An="left",Pt="right",on=`slide${rt}`,Pn=`slid${rt}`,Ge=`keydown${rt}`,lt=`mouseenter${rt}`,Xt=`mouseleave${rt}`,Xe=`dragstart${rt}`,mt=`load${rt}${pt}`,$t=`click${rt}${pt}`,gn="carousel",sn="active",Ut=".active",_n=".carousel-item",Dn=Ut+_n,Ai={[ht]:Pt,[Yt]:An},Ri={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},Ar={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class rr extends Re{constructor(W,ae){super(W,ae),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=qe.findOne(".carousel-indicators",this._element),this._addEventListeners(),this._config.ride===gn&&this.cycle()}static get Default(){return Ri}static get DefaultType(){return Ar}static get NAME(){return"carousel"}next(){this._slide(Qt)}nextWhenVisible(){!document.hidden&&m(this._element)&&this.next()}prev(){this._slide(Cn)}pause(){this._isSliding&&l(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){this._config.ride&&(this._isSliding?ce.one(this._element,Pn,()=>this.cycle()):this.cycle())}to(W){const ae=this._getItems();if(W>ae.length-1||W<0)return;if(this._isSliding)return void ce.one(this._element,Pn,()=>this.to(W));const Me=this._getItemIndex(this._getActive());if(Me===W)return;const ut=W>Me?Qt:Cn;this._slide(ut,ae[W])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(W){return W.defaultInterval=W.interval,W}_addEventListeners(){this._config.keyboard&&ce.on(this._element,Ge,W=>this._keydown(W)),this._config.pause==="hover"&&(ce.on(this._element,lt,()=>this.pause()),ce.on(this._element,Xt,()=>this._maybeEnableCycle())),this._config.touch&&ze.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const ae of qe.find(".carousel-item img",this._element))ce.on(ae,Xe,Me=>Me.preventDefault());const W={leftCallback:()=>this._slide(this._directionToOrder(An)),rightCallback:()=>this._slide(this._directionToOrder(Pt)),endCallback:()=>{this._config.pause==="hover"&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),500+this._config.interval))}};this._swipeHelper=new ze(this._element,W)}_keydown(W){if(/input|textarea/i.test(W.target.tagName))return;const ae=Ai[W.key];ae&&(W.preventDefault(),this._slide(this._directionToOrder(ae)))}_getItemIndex(W){return this._getItems().indexOf(W)}_setActiveIndicatorElement(W){if(!this._indicatorsElement)return;const ae=qe.findOne(Ut,this._indicatorsElement);ae.classList.remove(sn),ae.removeAttribute("aria-current");const Me=qe.findOne(`[data-bs-slide-to="${W}"]`,this._indicatorsElement);Me&&(Me.classList.add(sn),Me.setAttribute("aria-current","true"))}_updateInterval(){const W=this._activeElement||this._getActive();if(!W)return;const ae=Number.parseInt(W.getAttribute("data-bs-interval"),10);this._config.interval=ae||this._config.defaultInterval}_slide(W,ae=null){if(this._isSliding)return;const Me=this._getActive(),ut=W===Qt,Qe=ae||L(this._getItems(),Me,ut,this._config.wrap);if(Qe===Me)return;const Dt=this._getItemIndex(Qe),cn=zn=>ce.trigger(this._element,zn,{relatedTarget:Qe,direction:this._orderToDirection(W),from:this._getItemIndex(Me),to:Dt});if(cn(on).defaultPrevented||!Me||!Qe)return;const Ln=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(Dt),this._activeElement=Qe;const Xn=ut?"carousel-item-start":"carousel-item-end",Jn=ut?"carousel-item-next":"carousel-item-prev";Qe.classList.add(Jn),_(Qe),Me.classList.add(Xn),Qe.classList.add(Xn),this._queueCallback(()=>{Qe.classList.remove(Xn,Jn),Qe.classList.add(sn),Me.classList.remove(sn,Jn,Xn),this._isSliding=!1,cn(Pn)},Me,this._isAnimated()),Ln&&this.cycle()}_isAnimated(){return this._element.classList.contains("slide")}_getActive(){return qe.findOne(Dn,this._element)}_getItems(){return qe.find(_n,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(W){return c()?W===An?Cn:Qt:W===An?Qt:Cn}_orderToDirection(W){return c()?W===Cn?An:Pt:W===Cn?Pt:An}static jQueryInterface(W){return this.each(function(){const ae=rr.getOrCreateInstance(this,W);if(typeof W!="number"){if(typeof W=="string"){if(ae[W]===void 0||W.startsWith("_")||W==="constructor")throw new TypeError(`No method named "${W}"`);ae[W]()}}else ae.to(W)})}}ce.on(document,$t,"[data-bs-slide], [data-bs-slide-to]",function(ye){const W=qe.getElementFromSelector(this);if(!W||!W.classList.contains(gn))return;ye.preventDefault();const ae=rr.getOrCreateInstance(W),Me=this.getAttribute("data-bs-slide-to");return Me?(ae.to(Me),void ae._maybeEnableCycle()):le.getDataAttribute(this,"slide")==="next"?(ae.next(),void ae._maybeEnableCycle()):(ae.prev(),void ae._maybeEnableCycle())}),ce.on(window,mt,()=>{const ye=qe.find('[data-bs-ride="carousel"]');for(const W of ye)rr.getOrCreateInstance(W)}),x(rr);const dr=".bs.collapse",Pr=`show${dr}`,gr=`shown${dr}`,ms=`hide${dr}`,zs=`hidden${dr}`,Ds=`click${dr}.data-api`,gi="show",ls="collapse",nr="collapsing",ge=`:scope .${ls} .${ls}`,Te='[data-bs-toggle="collapse"]',Ye={parent:null,toggle:!0},vt={parent:"(null|element)",toggle:"boolean"};class bt extends Re{constructor(W,ae){super(W,ae),this._isTransitioning=!1,this._triggerArray=[];const Me=qe.find(Te);for(const ut of Me){const Qe=qe.getSelectorFromElement(ut),Dt=qe.find(Qe).filter(cn=>cn===this._element);Qe!==null&&Dt.length&&this._triggerArray.push(ut)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return Ye}static get DefaultType(){return vt}static get NAME(){return"collapse"}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let W=[];if(this._config.parent&&(W=this._getFirstLevelChildren(".collapse.show, .collapse.collapsing").filter(ut=>ut!==this._element).map(ut=>bt.getOrCreateInstance(ut,{toggle:!1}))),W.length&&W[0]._isTransitioning||ce.trigger(this._element,Pr).defaultPrevented)return;for(const ut of W)ut.hide();const ae=this._getDimension();this._element.classList.remove(ls),this._element.classList.add(nr),this._element.style[ae]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const Me=`scroll${ae[0].toUpperCase()+ae.slice(1)}`;this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(nr),this._element.classList.add(ls,gi),this._element.style[ae]="",ce.trigger(this._element,gr)},this._element,!0),this._element.style[ae]=`${this._element[Me]}px`}hide(){if(this._isTransitioning||!this._isShown()||ce.trigger(this._element,ms).defaultPrevented)return;const W=this._getDimension();this._element.style[W]=`${this._element.getBoundingClientRect()[W]}px`,_(this._element),this._element.classList.add(nr),this._element.classList.remove(ls,gi);for(const ae of this._triggerArray){const Me=qe.getElementFromSelector(ae);Me&&!this._isShown(Me)&&this._addAriaAndCollapsedClass([ae],!1)}this._isTransitioning=!0,this._element.style[W]="",this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(nr),this._element.classList.add(ls),ce.trigger(this._element,zs)},this._element,!0)}_isShown(W=this._element){return W.classList.contains(gi)}_configAfterMerge(W){return W.toggle=!!W.toggle,W.parent=u(W.parent),W}_getDimension(){return this._element.classList.contains("collapse-horizontal")?"width":"height"}_initializeChildren(){if(!this._config.parent)return;const W=this._getFirstLevelChildren(Te);for(const ae of W){const Me=qe.getElementFromSelector(ae);Me&&this._addAriaAndCollapsedClass([ae],this._isShown(Me))}}_getFirstLevelChildren(W){const ae=qe.find(ge,this._config.parent);return qe.find(W,this._config.parent).filter(Me=>!ae.includes(Me))}_addAriaAndCollapsedClass(W,ae){if(W.length)for(const Me of W)Me.classList.toggle("collapsed",!ae),Me.setAttribute("aria-expanded",ae)}static jQueryInterface(W){const ae={};return typeof W=="string"&&/show|hide/.test(W)&&(ae.toggle=!1),this.each(function(){const Me=bt.getOrCreateInstance(this,ae);if(typeof W=="string"){if(Me[W]===void 0)throw new TypeError(`No method named "${W}"`);Me[W]()}})}}ce.on(document,Ds,Te,function(ye){(ye.target.tagName==="A"||ye.delegateTarget&&ye.delegateTarget.tagName==="A")&&ye.preventDefault();for(const W of qe.getMultipleElementsFromSelector(this))bt.getOrCreateInstance(W,{toggle:!1}).toggle()}),x(bt);var St="top",an="bottom",Wt="right",fe="left",Be="auto",Ve=[St,an,Wt,fe],je="start",et="end",ft="clippingParents",Et="viewport",Gt="popper",Jt="reference",Nn=Ve.reduce(function(ye,W){return ye.concat([W+"-"+je,W+"-"+et])},[]),Rn=[].concat(Ve,[Be]).reduce(function(ye,W){return ye.concat([W,W+"-"+je,W+"-"+et])},[]),hn="beforeRead",Un="read",Yn="afterRead",Ui="beforeMain",En="main",ri="afterMain",K="beforeWrite",$i="write",ni="afterWrite",ci=[hn,Un,Yn,Ui,En,ri,K,$i,ni];function ct(ye){return ye?(ye.nodeName||"").toLowerCase():null}function Je(ye){if(ye==null)return window;if(ye.toString()!=="[object Window]"){var W=ye.ownerDocument;return W&&W.defaultView||window}return ye}function wn(ye){return ye instanceof Je(ye).Element||ye instanceof Element}function qn(ye){return ye instanceof Je(ye).HTMLElement||ye instanceof HTMLElement}function yi(ye){return typeof ShadowRoot<"u"&&(ye instanceof Je(ye).ShadowRoot||ye instanceof ShadowRoot)}const $n={name:"applyStyles",enabled:!0,phase:"write",fn:function(ye){var W=ye.state;Object.keys(W.elements).forEach(function(ae){var Me=W.styles[ae]||{},ut=W.attributes[ae]||{},Qe=W.elements[ae];qn(Qe)&&ct(Qe)&&(Object.assign(Qe.style,Me),Object.keys(ut).forEach(function(Dt){var cn=ut[Dt];cn===!1?Qe.removeAttribute(Dt):Qe.setAttribute(Dt,cn===!0?"":cn)}))})},effect:function(ye){var W=ye.state,ae={popper:{position:W.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(W.elements.popper.style,ae.popper),W.styles=ae,W.elements.arrow&&Object.assign(W.elements.arrow.style,ae.arrow),function(){Object.keys(W.elements).forEach(function(Me){var ut=W.elements[Me],Qe=W.attributes[Me]||{},Dt=Object.keys(W.styles.hasOwnProperty(Me)?W.styles[Me]:ae[Me]).reduce(function(cn,Ln){return cn[Ln]="",cn},{});qn(ut)&&ct(ut)&&(Object.assign(ut.style,Dt),Object.keys(Qe).forEach(function(cn){ut.removeAttribute(cn)}))})}},requires:["computeStyles"]};function ji(ye){return ye.split("-")[0]}var Ht=Math.max,gs=Math.min,$s=Math.round;function ao(){var ye=navigator.userAgentData;return ye!=null&&ye.brands&&Array.isArray(ye.brands)?ye.brands.map(function(W){return W.brand+"/"+W.version}).join(" "):navigator.userAgent}function Dr(){return!/^((?!chrome|android).)*safari/i.test(ao())}function Zs(ye,W,ae){W===void 0&&(W=!1),ae===void 0&&(ae=!1);var Me=ye.getBoundingClientRect(),ut=1,Qe=1;W&&qn(ye)&&(ut=ye.offsetWidth>0&&$s(Me.width)/ye.offsetWidth||1,Qe=ye.offsetHeight>0&&$s(Me.height)/ye.offsetHeight||1);var Dt=(wn(ye)?Je(ye):window).visualViewport,cn=!Dr()&&ae,Ln=(Me.left+(cn&&Dt?Dt.offsetLeft:0))/ut,Xn=(Me.top+(cn&&Dt?Dt.offsetTop:0))/Qe,Jn=Me.width/ut,zn=Me.height/Qe;return{width:Jn,height:zn,top:Xn,right:Ln+Jn,bottom:Xn+zn,left:Ln,x:Ln,y:Xn}}function jo(ye){var W=Zs(ye),ae=ye.offsetWidth,Me=ye.offsetHeight;return Math.abs(W.width-ae)<=1&&(ae=W.width),Math.abs(W.height-Me)<=1&&(Me=W.height),{x:ye.offsetLeft,y:ye.offsetTop,width:ae,height:Me}}function Ua(ye,W){var ae=W.getRootNode&&W.getRootNode();if(ye.contains(W))return!0;if(ae&&yi(ae)){var Me=W;do{if(Me&&ye.isSameNode(Me))return!0;Me=Me.parentNode||Me.host}while(Me)}return!1}function Qs(ye){return Je(ye).getComputedStyle(ye)}function Qa(ye){return["table","td","th"].indexOf(ct(ye))>=0}function Js(ye){return((wn(ye)?ye.ownerDocument:ye.document)||window.document).documentElement}function lo(ye){return ct(ye)==="html"?ye:ye.assignedSlot||ye.parentNode||(yi(ye)?ye.host:null)||Js(ye)}function wa(ye){return qn(ye)&&Qs(ye).position!=="fixed"?ye.offsetParent:null}function ca(ye){for(var W=Je(ye),ae=wa(ye);ae&&Qa(ae)&&Qs(ae).position==="static";)ae=wa(ae);return ae&&(ct(ae)==="html"||ct(ae)==="body"&&Qs(ae).position==="static")?W:ae||(function(Me){var ut=/firefox/i.test(ao());if(/Trident/i.test(ao())&&qn(Me)&&Qs(Me).position==="fixed")return null;var Qe=lo(Me);for(yi(Qe)&&(Qe=Qe.host);qn(Qe)&&["html","body"].indexOf(ct(Qe))<0;){var Dt=Qs(Qe);if(Dt.transform!=="none"||Dt.perspective!=="none"||Dt.contain==="paint"||["transform","perspective"].indexOf(Dt.willChange)!==-1||ut&&Dt.willChange==="filter"||ut&&Dt.filter&&Dt.filter!=="none")return Qe;Qe=Qe.parentNode}return null})(ye)||W}function Ca(ye){return["top","bottom"].indexOf(ye)>=0?"x":"y"}function ka(ye,W,ae){return Ht(ye,gs(W,ae))}function ua(ye){return Object.assign({},{top:0,right:0,bottom:0,left:0},ye)}function Po(ye,W){return W.reduce(function(ae,Me){return ae[Me]=ye,ae},{})}const Ja={name:"arrow",enabled:!0,phase:"main",fn:function(ye){var W,ae=ye.state,Me=ye.name,ut=ye.options,Qe=ae.elements.arrow,Dt=ae.modifiersData.popperOffsets,cn=ji(ae.placement),Ln=Ca(cn),Xn=[fe,Wt].indexOf(cn)>=0?"height":"width";if(Qe&&Dt){var Jn=(function(Fr,vr){return ua(typeof(Fr=typeof Fr=="function"?Fr(Object.assign({},vr.rects,{placement:vr.placement})):Fr)!="number"?Fr:Po(Fr,Ve))})(ut.padding,ae),zn=jo(Qe),ki=Ln==="y"?St:fe,bi=Ln==="y"?an:Wt,Hi=ae.rects.reference[Xn]+ae.rects.reference[Ln]-Dt[Ln]-ae.rects.popper[Xn],Ci=Dt[Ln]-ae.rects.reference[Ln],Fi=ca(Qe),Xr=Fi?Ln==="y"?Fi.clientHeight||0:Fi.clientWidth||0:0,Qr=Hi/2-Ci/2,Qi=Jn[ki],sr=Xr-zn[Xn]-Jn[bi],Bn=Xr/2-zn[Xn]/2+Qr,oi=ka(Qi,Bn,sr),Pi=Ln;ae.modifiersData[Me]=((W={})[Pi]=oi,W.centerOffset=oi-Bn,W)}},effect:function(ye){var W=ye.state,ae=ye.options.element,Me=ae===void 0?"[data-popper-arrow]":ae;Me!=null&&(typeof Me!="string"||(Me=W.elements.popper.querySelector(Me)))&&Ua(W.elements.popper,Me)&&(W.elements.arrow=Me)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function No(ye){return ye.split("-")[1]}var ha={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Bl(ye){var W,ae=ye.popper,Me=ye.popperRect,ut=ye.placement,Qe=ye.variation,Dt=ye.offsets,cn=ye.position,Ln=ye.gpuAcceleration,Xn=ye.adaptive,Jn=ye.roundOffsets,zn=ye.isFixed,ki=Dt.x,bi=ki===void 0?0:ki,Hi=Dt.y,Ci=Hi===void 0?0:Hi,Fi=typeof Jn=="function"?Jn({x:bi,y:Ci}):{x:bi,y:Ci};bi=Fi.x,Ci=Fi.y;var Xr=Dt.hasOwnProperty("x"),Qr=Dt.hasOwnProperty("y"),Qi=fe,sr=St,Bn=window;if(Xn){var oi=ca(ae),Pi="clientHeight",Fr="clientWidth";oi===Je(ae)&&Qs(oi=Js(ae)).position!=="static"&&cn==="absolute"&&(Pi="scrollHeight",Fr="scrollWidth"),(ut===St||(ut===fe||ut===Wt)&&Qe===et)&&(sr=an,Ci-=(zn&&oi===Bn&&Bn.visualViewport?Bn.visualViewport.height:oi[Pi])-Me.height,Ci*=Ln?1:-1),ut!==fe&&(ut!==St&&ut!==an||Qe!==et)||(Qi=Wt,bi-=(zn&&oi===Bn&&Bn.visualViewport?Bn.visualViewport.width:oi[Fr])-Me.width,bi*=Ln?1:-1)}var vr,br=Object.assign({position:cn},Xn&&ha),Br=Jn===!0?(function(Xs,Ur){var rl=Xs.x,Nr=Xs.y,fr=Ur.devicePixelRatio||1;return{x:$s(rl*fr)/fr||0,y:$s(Nr*fr)/fr||0}})({x:bi,y:Ci},Je(ae)):{x:bi,y:Ci};return bi=Br.x,Ci=Br.y,Ln?Object.assign({},br,((vr={})[sr]=Qr?"0":"",vr[Qi]=Xr?"0":"",vr.transform=(Bn.devicePixelRatio||1)<=1?"translate("+bi+"px, "+Ci+"px)":"translate3d("+bi+"px, "+Ci+"px, 0)",vr)):Object.assign({},br,((W={})[sr]=Qr?Ci+"px":"",W[Qi]=Xr?bi+"px":"",W.transform="",W))}const el={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(ye){var W=ye.state,ae=ye.options,Me=ae.gpuAcceleration,ut=Me===void 0||Me,Qe=ae.adaptive,Dt=Qe===void 0||Qe,cn=ae.roundOffsets,Ln=cn===void 0||cn,Xn={placement:ji(W.placement),variation:No(W.placement),popper:W.elements.popper,popperRect:W.rects.popper,gpuAcceleration:ut,isFixed:W.options.strategy==="fixed"};W.modifiersData.popperOffsets!=null&&(W.styles.popper=Object.assign({},W.styles.popper,Bl(Object.assign({},Xn,{offsets:W.modifiersData.popperOffsets,position:W.options.strategy,adaptive:Dt,roundOffsets:Ln})))),W.modifiersData.arrow!=null&&(W.styles.arrow=Object.assign({},W.styles.arrow,Bl(Object.assign({},Xn,{offsets:W.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:Ln})))),W.attributes.popper=Object.assign({},W.attributes.popper,{"data-popper-placement":W.placement})},data:{}};var tl={passive:!0};const Io={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(ye){var W=ye.state,ae=ye.instance,Me=ye.options,ut=Me.scroll,Qe=ut===void 0||ut,Dt=Me.resize,cn=Dt===void 0||Dt,Ln=Je(W.elements.popper),Xn=[].concat(W.scrollParents.reference,W.scrollParents.popper);return Qe&&Xn.forEach(function(Jn){Jn.addEventListener("scroll",ae.update,tl)}),cn&&Ln.addEventListener("resize",ae.update,tl),function(){Qe&&Xn.forEach(function(Jn){Jn.removeEventListener("scroll",ae.update,tl)}),cn&&Ln.removeEventListener("resize",ae.update,tl)}},data:{}};var Fs={left:"right",right:"left",bottom:"top",top:"bottom"};function jr(ye){return ye.replace(/left|right|bottom|top/g,function(W){return Fs[W]})}var vs={start:"end",end:"start"};function Rr(ye){return ye.replace(/start|end/g,function(W){return vs[W]})}function co(ye){var W=Je(ye);return{scrollLeft:W.pageXOffset,scrollTop:W.pageYOffset}}function Xo(ye){return Zs(Js(ye)).left+co(ye).scrollLeft}function Ta(ye){var W=Qs(ye),ae=W.overflow,Me=W.overflowX,ut=W.overflowY;return/auto|scroll|overlay|hidden/.test(ae+ut+Me)}function eo(ye){return["html","body","#document"].indexOf(ct(ye))>=0?ye.ownerDocument.body:qn(ye)&&Ta(ye)?ye:eo(lo(ye))}function xn(ye,W){var ae;W===void 0&&(W=[]);var Me=eo(ye),ut=Me===((ae=ye.ownerDocument)==null?void 0:ae.body),Qe=Je(Me),Dt=ut?[Qe].concat(Qe.visualViewport||[],Ta(Me)?Me:[]):Me,cn=W.concat(Dt);return ut?cn:cn.concat(xn(lo(Dt)))}function A(ye){return Object.assign({},ye,{left:ye.x,top:ye.y,right:ye.x+ye.width,bottom:ye.y+ye.height})}function B(ye,W,ae){return W===Et?A((function(Me,ut){var Qe=Je(Me),Dt=Js(Me),cn=Qe.visualViewport,Ln=Dt.clientWidth,Xn=Dt.clientHeight,Jn=0,zn=0;if(cn){Ln=cn.width,Xn=cn.height;var ki=Dr();(ki||!ki&&ut==="fixed")&&(Jn=cn.offsetLeft,zn=cn.offsetTop)}return{width:Ln,height:Xn,x:Jn+Xo(Me),y:zn}})(ye,ae)):wn(W)?(function(Me,ut){var Qe=Zs(Me,!1,ut==="fixed");return Qe.top=Qe.top+Me.clientTop,Qe.left=Qe.left+Me.clientLeft,Qe.bottom=Qe.top+Me.clientHeight,Qe.right=Qe.left+Me.clientWidth,Qe.width=Me.clientWidth,Qe.height=Me.clientHeight,Qe.x=Qe.left,Qe.y=Qe.top,Qe})(W,ae):A((function(Me){var ut,Qe=Js(Me),Dt=co(Me),cn=(ut=Me.ownerDocument)==null?void 0:ut.body,Ln=Ht(Qe.scrollWidth,Qe.clientWidth,cn?cn.scrollWidth:0,cn?cn.clientWidth:0),Xn=Ht(Qe.scrollHeight,Qe.clientHeight,cn?cn.scrollHeight:0,cn?cn.clientHeight:0),Jn=-Dt.scrollLeft+Xo(Me),zn=-Dt.scrollTop;return Qs(cn||Qe).direction==="rtl"&&(Jn+=Ht(Qe.clientWidth,cn?cn.clientWidth:0)-Ln),{width:Ln,height:Xn,x:Jn,y:zn}})(Js(ye)))}function J(ye){var W,ae=ye.reference,Me=ye.element,ut=ye.placement,Qe=ut?ji(ut):null,Dt=ut?No(ut):null,cn=ae.x+ae.width/2-Me.width/2,Ln=ae.y+ae.height/2-Me.height/2;switch(Qe){case St:W={x:cn,y:ae.y-Me.height};break;case an:W={x:cn,y:ae.y+ae.height};break;case Wt:W={x:ae.x+ae.width,y:Ln};break;case fe:W={x:ae.x-Me.width,y:Ln};break;default:W={x:ae.x,y:ae.y}}var Xn=Qe?Ca(Qe):null;if(Xn!=null){var Jn=Xn==="y"?"height":"width";switch(Dt){case je:W[Xn]=W[Xn]-(ae[Jn]/2-Me[Jn]/2);break;case et:W[Xn]=W[Xn]+(ae[Jn]/2-Me[Jn]/2)}}return W}function Z(ye,W){W===void 0&&(W={});var ae=W,Me=ae.placement,ut=Me===void 0?ye.placement:Me,Qe=ae.strategy,Dt=Qe===void 0?ye.strategy:Qe,cn=ae.boundary,Ln=cn===void 0?ft:cn,Xn=ae.rootBoundary,Jn=Xn===void 0?Et:Xn,zn=ae.elementContext,ki=zn===void 0?Gt:zn,bi=ae.altBoundary,Hi=bi!==void 0&&bi,Ci=ae.padding,Fi=Ci===void 0?0:Ci,Xr=ua(typeof Fi!="number"?Fi:Po(Fi,Ve)),Qr=ki===Gt?Jt:Gt,Qi=ye.rects.popper,sr=ye.elements[Hi?Qr:ki],Bn=(function(Ur,rl,Nr,fr){var ko=rl==="clippingParents"?(function(qr){var $o=xn(lo(qr)),Ga=["absolute","fixed"].indexOf(Qs(qr).position)>=0&&qn(qr)?ca(qr):qr;return wn(Ga)?$o.filter(function(qs){return wn(qs)&&Ua(qs,Ga)&&ct(qs)!=="body"}):[]})(Ur):[].concat(rl),Hl=[].concat(ko,[Nr]),Ku=Hl[0],zo=Hl.reduce(function(qr,$o){var Ga=B(Ur,$o,fr);return qr.top=Ht(Ga.top,qr.top),qr.right=gs(Ga.right,qr.right),qr.bottom=gs(Ga.bottom,qr.bottom),qr.left=Ht(Ga.left,qr.left),qr},B(Ur,Ku,fr));return zo.width=zo.right-zo.left,zo.height=zo.bottom-zo.top,zo.x=zo.left,zo.y=zo.top,zo})(wn(sr)?sr:sr.contextElement||Js(ye.elements.popper),Ln,Jn,Dt),oi=Zs(ye.elements.reference),Pi=J({reference:oi,element:Qi,placement:ut}),Fr=A(Object.assign({},Qi,Pi)),vr=ki===Gt?Fr:oi,br={top:Bn.top-vr.top+Xr.top,bottom:vr.bottom-Bn.bottom+Xr.bottom,left:Bn.left-vr.left+Xr.left,right:vr.right-Bn.right+Xr.right},Br=ye.modifiersData.offset;if(ki===Gt&&Br){var Xs=Br[ut];Object.keys(br).forEach(function(Ur){var rl=[Wt,an].indexOf(Ur)>=0?1:-1,Nr=[St,an].indexOf(Ur)>=0?"y":"x";br[Ur]+=Xs[Nr]*rl})}return br}function be(ye,W){W===void 0&&(W={});var ae=W,Me=ae.placement,ut=ae.boundary,Qe=ae.rootBoundary,Dt=ae.padding,cn=ae.flipVariations,Ln=ae.allowedAutoPlacements,Xn=Ln===void 0?Rn:Ln,Jn=No(Me),zn=Jn?cn?Nn:Nn.filter(function(Hi){return No(Hi)===Jn}):Ve,ki=zn.filter(function(Hi){return Xn.indexOf(Hi)>=0});ki.length===0&&(ki=zn);var bi=ki.reduce(function(Hi,Ci){return Hi[Ci]=Z(ye,{placement:Ci,boundary:ut,rootBoundary:Qe,padding:Dt})[ji(Ci)],Hi},{});return Object.keys(bi).sort(function(Hi,Ci){return bi[Hi]-bi[Ci]})}const Ne={name:"flip",enabled:!0,phase:"main",fn:function(ye){var W=ye.state,ae=ye.options,Me=ye.name;if(!W.modifiersData[Me]._skip){for(var ut=ae.mainAxis,Qe=ut===void 0||ut,Dt=ae.altAxis,cn=Dt===void 0||Dt,Ln=ae.fallbackPlacements,Xn=ae.padding,Jn=ae.boundary,zn=ae.rootBoundary,ki=ae.altBoundary,bi=ae.flipVariations,Hi=bi===void 0||bi,Ci=ae.allowedAutoPlacements,Fi=W.options.placement,Xr=ji(Fi),Qr=Ln||(Xr!==Fi&&Hi?(function(qr){if(ji(qr)===Be)return[];var $o=jr(qr);return[Rr(qr),$o,Rr($o)]})(Fi):[jr(Fi)]),Qi=[Fi].concat(Qr).reduce(function(qr,$o){return qr.concat(ji($o)===Be?be(W,{placement:$o,boundary:Jn,rootBoundary:zn,padding:Xn,flipVariations:Hi,allowedAutoPlacements:Ci}):$o)},[]),sr=W.rects.reference,Bn=W.rects.popper,oi=new Map,Pi=!0,Fr=Qi[0],vr=0;vr<Qi.length;vr++){var br=Qi[vr],Br=ji(br),Xs=No(br)===je,Ur=[St,an].indexOf(Br)>=0,rl=Ur?"width":"height",Nr=Z(W,{placement:br,boundary:Jn,rootBoundary:zn,altBoundary:ki,padding:Xn}),fr=Ur?Xs?Wt:fe:Xs?an:St;sr[rl]>Bn[rl]&&(fr=jr(fr));var ko=jr(fr),Hl=[];if(Qe&&Hl.push(Nr[Br]<=0),cn&&Hl.push(Nr[fr]<=0,Nr[ko]<=0),Hl.every(function(qr){return qr})){Fr=br,Pi=!1;break}oi.set(br,Hl)}if(Pi)for(var Ku=function(qr){var $o=Qi.find(function(Ga){var qs=oi.get(Ga);if(qs)return qs.slice(0,qr).every(function(Bs){return Bs})});if($o)return Fr=$o,"break"},zo=Hi?3:1;zo>0&&Ku(zo)!=="break";zo--);W.placement!==Fr&&(W.modifiersData[Me]._skip=!0,W.placement=Fr,W.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function O(ye,W,ae){return ae===void 0&&(ae={x:0,y:0}),{top:ye.top-W.height-ae.y,right:ye.right-W.width+ae.x,bottom:ye.bottom-W.height+ae.y,left:ye.left-W.width-ae.x}}function U(ye){return[St,Wt,an,fe].some(function(W){return ye[W]>=0})}const X={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(ye){var W=ye.state,ae=ye.name,Me=W.rects.reference,ut=W.rects.popper,Qe=W.modifiersData.preventOverflow,Dt=Z(W,{elementContext:"reference"}),cn=Z(W,{altBoundary:!0}),Ln=O(Dt,Me),Xn=O(cn,ut,Qe),Jn=U(Ln),zn=U(Xn);W.modifiersData[ae]={referenceClippingOffsets:Ln,popperEscapeOffsets:Xn,isReferenceHidden:Jn,hasPopperEscaped:zn},W.attributes.popper=Object.assign({},W.attributes.popper,{"data-popper-reference-hidden":Jn,"data-popper-escaped":zn})}},ee={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(ye){var W=ye.state,ae=ye.options,Me=ye.name,ut=ae.offset,Qe=ut===void 0?[0,0]:ut,Dt=Rn.reduce(function(Jn,zn){return Jn[zn]=(function(ki,bi,Hi){var Ci=ji(ki),Fi=[fe,St].indexOf(Ci)>=0?-1:1,Xr=typeof Hi=="function"?Hi(Object.assign({},bi,{placement:ki})):Hi,Qr=Xr[0],Qi=Xr[1];return Qr=Qr||0,Qi=(Qi||0)*Fi,[fe,Wt].indexOf(Ci)>=0?{x:Qi,y:Qr}:{x:Qr,y:Qi}})(zn,W.rects,Qe),Jn},{}),cn=Dt[W.placement],Ln=cn.x,Xn=cn.y;W.modifiersData.popperOffsets!=null&&(W.modifiersData.popperOffsets.x+=Ln,W.modifiersData.popperOffsets.y+=Xn),W.modifiersData[Me]=Dt}},oe={name:"popperOffsets",enabled:!0,phase:"read",fn:function(ye){var W=ye.state,ae=ye.name;W.modifiersData[ae]=J({reference:W.rects.reference,element:W.rects.popper,placement:W.placement})},data:{}},re={name:"preventOverflow",enabled:!0,phase:"main",fn:function(ye){var W=ye.state,ae=ye.options,Me=ye.name,ut=ae.mainAxis,Qe=ut===void 0||ut,Dt=ae.altAxis,cn=Dt!==void 0&&Dt,Ln=ae.boundary,Xn=ae.rootBoundary,Jn=ae.altBoundary,zn=ae.padding,ki=ae.tether,bi=ki===void 0||ki,Hi=ae.tetherOffset,Ci=Hi===void 0?0:Hi,Fi=Z(W,{boundary:Ln,rootBoundary:Xn,padding:zn,altBoundary:Jn}),Xr=ji(W.placement),Qr=No(W.placement),Qi=!Qr,sr=Ca(Xr),Bn=sr==="x"?"y":"x",oi=W.modifiersData.popperOffsets,Pi=W.rects.reference,Fr=W.rects.popper,vr=typeof Ci=="function"?Ci(Object.assign({},W.rects,{placement:W.placement})):Ci,br=typeof vr=="number"?{mainAxis:vr,altAxis:vr}:Object.assign({mainAxis:0,altAxis:0},vr),Br=W.modifiersData.offset?W.modifiersData.offset[W.placement]:null,Xs={x:0,y:0};if(oi){if(Qe){var Ur,rl=sr==="y"?St:fe,Nr=sr==="y"?an:Wt,fr=sr==="y"?"height":"width",ko=oi[sr],Hl=ko+Fi[rl],Ku=ko-Fi[Nr],zo=bi?-Fr[fr]/2:0,qr=Qr===je?Pi[fr]:Fr[fr],$o=Qr===je?-Fr[fr]:-Pi[fr],Ga=W.elements.arrow,qs=bi&&Ga?jo(Ga):{width:0,height:0},Bs=W.modifiersData["arrow#persistent"]?W.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},Hc=Bs[rl],El=Bs[Nr],Zu=ka(0,Pi[fr],qs[fr]),em=Qi?Pi[fr]/2-zo-Zu-Hc-br.mainAxis:qr-Zu-Hc-br.mainAxis,Gc=Qi?-Pi[fr]/2+zo+Zu+El+br.mainAxis:$o+Zu+El+br.mainAxis,_c=W.elements.arrow&&ca(W.elements.arrow),tm=_c?sr==="y"?_c.clientTop||0:_c.clientLeft||0:0,Gf=(Ur=Br?.[sr])!=null?Ur:0,Mg=ko+Gc-Gf,Qu=ka(bi?gs(Hl,ko+em-Gf-tm):Hl,ko,bi?Ht(Ku,Mg):Ku);oi[sr]=Qu,Xs[sr]=Qu-ko}if(cn){var nm,Og=sr==="x"?St:fe,Lg=sr==="x"?an:Wt,vu=oi[Bn],Dh=Bn==="y"?"height":"width",im=vu+Fi[Og],Pg=vu-Fi[Lg],Vf=[St,fe].indexOf(Xr)!==-1,rm=(nm=Br?.[Bn])!=null?nm:0,sm=Vf?im:vu-Pi[Dh]-Fr[Dh]-rm+br.altAxis,Wf=Vf?vu+Pi[Dh]+Fr[Dh]-rm-br.altAxis:Pg,om=bi&&Vf?(function(am,Ng,jf){var lm=ka(am,Ng,jf);return lm>jf?jf:lm})(sm,vu,Wf):ka(bi?sm:im,vu,bi?Wf:Pg);oi[Bn]=om,Xs[Bn]=om-vu}W.modifiersData[Me]=Xs}},requiresIfExists:["offset"]};function pe(ye,W,ae){ae===void 0&&(ae=!1);var Me,ut,Qe=qn(W),Dt=qn(W)&&(function(zn){var ki=zn.getBoundingClientRect(),bi=$s(ki.width)/zn.offsetWidth||1,Hi=$s(ki.height)/zn.offsetHeight||1;return bi!==1||Hi!==1})(W),cn=Js(W),Ln=Zs(ye,Dt,ae),Xn={scrollLeft:0,scrollTop:0},Jn={x:0,y:0};return(Qe||!Qe&&!ae)&&((ct(W)!=="body"||Ta(cn))&&(Xn=(Me=W)!==Je(Me)&&qn(Me)?{scrollLeft:(ut=Me).scrollLeft,scrollTop:ut.scrollTop}:co(Me)),qn(W)?((Jn=Zs(W,!0)).x+=W.clientLeft,Jn.y+=W.clientTop):cn&&(Jn.x=Xo(cn))),{x:Ln.left+Xn.scrollLeft-Jn.x,y:Ln.top+Xn.scrollTop-Jn.y,width:Ln.width,height:Ln.height}}function He(ye){var W=new Map,ae=new Set,Me=[];function ut(Qe){ae.add(Qe.name),[].concat(Qe.requires||[],Qe.requiresIfExists||[]).forEach(function(Dt){if(!ae.has(Dt)){var cn=W.get(Dt);cn&&ut(cn)}}),Me.push(Qe)}return ye.forEach(function(Qe){W.set(Qe.name,Qe)}),ye.forEach(function(Qe){ae.has(Qe.name)||ut(Qe)}),Me}var Ie={placement:"bottom",modifiers:[],strategy:"absolute"};function tt(){for(var ye=arguments.length,W=new Array(ye),ae=0;ae<ye;ae++)W[ae]=arguments[ae];return!W.some(function(Me){return!(Me&&typeof Me.getBoundingClientRect=="function")})}function Rt(ye){ye===void 0&&(ye={});var W=ye,ae=W.defaultModifiers,Me=ae===void 0?[]:ae,ut=W.defaultOptions,Qe=ut===void 0?Ie:ut;return function(Dt,cn,Ln){Ln===void 0&&(Ln=Qe);var Xn,Jn,zn={placement:"bottom",orderedModifiers:[],options:Object.assign({},Ie,Qe),modifiersData:{},elements:{reference:Dt,popper:cn},attributes:{},styles:{}},ki=[],bi=!1,Hi={state:zn,setOptions:function(Fi){var Xr=typeof Fi=="function"?Fi(zn.options):Fi;Ci(),zn.options=Object.assign({},Qe,zn.options,Xr),zn.scrollParents={reference:wn(Dt)?xn(Dt):Dt.contextElement?xn(Dt.contextElement):[],popper:xn(cn)};var Qr,Qi,sr=(function(Bn){var oi=He(Bn);return ci.reduce(function(Pi,Fr){return Pi.concat(oi.filter(function(vr){return vr.phase===Fr}))},[])})((Qr=[].concat(Me,zn.options.modifiers),Qi=Qr.reduce(function(Bn,oi){var Pi=Bn[oi.name];return Bn[oi.name]=Pi?Object.assign({},Pi,oi,{options:Object.assign({},Pi.options,oi.options),data:Object.assign({},Pi.data,oi.data)}):oi,Bn},{}),Object.keys(Qi).map(function(Bn){return Qi[Bn]})));return zn.orderedModifiers=sr.filter(function(Bn){return Bn.enabled}),zn.orderedModifiers.forEach(function(Bn){var oi=Bn.name,Pi=Bn.options,Fr=Pi===void 0?{}:Pi,vr=Bn.effect;if(typeof vr=="function"){var br=vr({state:zn,name:oi,instance:Hi,options:Fr});ki.push(br||function(){})}}),Hi.update()},forceUpdate:function(){if(!bi){var Fi=zn.elements,Xr=Fi.reference,Qr=Fi.popper;if(tt(Xr,Qr)){zn.rects={reference:pe(Xr,ca(Qr),zn.options.strategy==="fixed"),popper:jo(Qr)},zn.reset=!1,zn.placement=zn.options.placement,zn.orderedModifiers.forEach(function(vr){return zn.modifiersData[vr.name]=Object.assign({},vr.data)});for(var Qi=0;Qi<zn.orderedModifiers.length;Qi++)if(zn.reset!==!0){var sr=zn.orderedModifiers[Qi],Bn=sr.fn,oi=sr.options,Pi=oi===void 0?{}:oi,Fr=sr.name;typeof Bn=="function"&&(zn=Bn({state:zn,options:Pi,name:Fr,instance:Hi})||zn)}else zn.reset=!1,Qi=-1}}},update:(Xn=function(){return new Promise(function(Fi){Hi.forceUpdate(),Fi(zn)})},function(){return Jn||(Jn=new Promise(function(Fi){Promise.resolve().then(function(){Jn=void 0,Fi(Xn())})})),Jn}),destroy:function(){Ci(),bi=!0}};if(!tt(Dt,cn))return Hi;function Ci(){ki.forEach(function(Fi){return Fi()}),ki=[]}return Hi.setOptions(Ln).then(function(Fi){!bi&&Ln.onFirstUpdate&&Ln.onFirstUpdate(Fi)}),Hi}}var Vt=Rt(),_t=Rt({defaultModifiers:[Io,oe,el,$n]}),ln=Rt({defaultModifiers:[Io,oe,el,$n,ee,Ne,re,Ja,X]});const si=Object.freeze(Object.defineProperty({__proto__:null,afterMain:ri,afterRead:Yn,afterWrite:ni,applyStyles:$n,arrow:Ja,auto:Be,basePlacements:Ve,beforeMain:Ui,beforeRead:hn,beforeWrite:K,bottom:an,clippingParents:ft,computeStyles:el,createPopper:ln,createPopperBase:Vt,createPopperLite:_t,detectOverflow:Z,end:et,eventListeners:Io,flip:Ne,hide:X,left:fe,main:En,modifierPhases:ci,offset:ee,placements:Rn,popper:Gt,popperGenerator:Rt,popperOffsets:oe,preventOverflow:re,read:Un,reference:Jt,right:Wt,start:je,top:St,variationPlacements:Nn,viewport:Et,write:$i},Symbol.toStringTag,{value:"Module"})),ve="dropdown",xe=".bs.dropdown",$e=".data-api",Pe="ArrowUp",Ue="ArrowDown",qt=`hide${xe}`,kt=`hidden${xe}`,Zt=`show${xe}`,vn=`shown${xe}`,Mn=`click${xe}${$e}`,ui=`keydown${xe}${$e}`,qi=`keyup${xe}${$e}`,ai="show",Er='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',Ki=`${Er}.${ai}`,bn=".dropdown-menu",hi=c()?"top-end":"top-start",Qn=c()?"top-start":"top-end",Kn=c()?"bottom-end":"bottom-start",vi=c()?"bottom-start":"bottom-end",fi=c()?"left-start":"right-start",to=c()?"right-start":"left-start",da={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},xo={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class Mi extends Re{constructor(W,ae){super(W,ae),this._popper=null,this._parent=this._element.parentNode,this._menu=qe.next(this._element,bn)[0]||qe.prev(this._element,bn)[0]||qe.findOne(bn,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return da}static get DefaultType(){return xo}static get NAME(){return ve}toggle(){return this._isShown()?this.hide():this.show()}show(){if(d(this._element)||this._isShown())return;const W={relatedTarget:this._element};if(!ce.trigger(this._element,Zt,W).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(".navbar-nav"))for(const ae of[].concat(...document.body.children))ce.on(ae,"mouseover",g);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(ai),this._element.classList.add(ai),ce.trigger(this._element,vn,W)}}hide(){if(d(this._element)||!this._isShown())return;const W={relatedTarget:this._element};this._completeHide(W)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(W){if(!ce.trigger(this._element,qt,W).defaultPrevented){if("ontouchstart"in document.documentElement)for(const ae of[].concat(...document.body.children))ce.off(ae,"mouseover",g);this._popper&&this._popper.destroy(),this._menu.classList.remove(ai),this._element.classList.remove(ai),this._element.setAttribute("aria-expanded","false"),le.removeDataAttribute(this._menu,"popper"),ce.trigger(this._element,kt,W)}}_getConfig(W){if(typeof(W=super._getConfig(W)).reference=="object"&&!a(W.reference)&&typeof W.reference.getBoundingClientRect!="function")throw new TypeError(`${ve.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return W}_createPopper(){if(si===void 0)throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org/docs/v2/)");let W=this._element;this._config.reference==="parent"?W=this._parent:a(this._config.reference)?W=u(this._config.reference):typeof this._config.reference=="object"&&(W=this._config.reference);const ae=this._getPopperConfig();this._popper=ln(W,this._menu,ae)}_isShown(){return this._menu.classList.contains(ai)}_getPlacement(){const W=this._parent;if(W.classList.contains("dropend"))return fi;if(W.classList.contains("dropstart"))return to;if(W.classList.contains("dropup-center"))return"top";if(W.classList.contains("dropdown-center"))return"bottom";const ae=getComputedStyle(this._menu).getPropertyValue("--bs-position").trim()==="end";return W.classList.contains("dropup")?ae?Qn:hi:ae?vi:Kn}_detectNavbar(){return this._element.closest(".navbar")!==null}_getOffset(){const{offset:W}=this._config;return typeof W=="string"?W.split(",").map(ae=>Number.parseInt(ae,10)):typeof W=="function"?ae=>W(ae,this._element):W}_getPopperConfig(){const W={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||this._config.display==="static")&&(le.setDataAttribute(this._menu,"popper","static"),W.modifiers=[{name:"applyStyles",enabled:!1}]),{...W,...w(this._config.popperConfig,[void 0,W])}}_selectMenuItem({key:W,target:ae}){const Me=qe.find(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",this._menu).filter(ut=>m(ut));Me.length&&L(Me,ae,W===Ue,!Me.includes(ae)).focus()}static jQueryInterface(W){return this.each(function(){const ae=Mi.getOrCreateInstance(this,W);if(typeof W=="string"){if(ae[W]===void 0)throw new TypeError(`No method named "${W}"`);ae[W]()}})}static clearMenus(W){if(W.button===2||W.type==="keyup"&&W.key!=="Tab")return;const ae=qe.find(Ki);for(const Me of ae){const ut=Mi.getInstance(Me);if(!ut||ut._config.autoClose===!1)continue;const Qe=W.composedPath(),Dt=Qe.includes(ut._menu);if(Qe.includes(ut._element)||ut._config.autoClose==="inside"&&!Dt||ut._config.autoClose==="outside"&&Dt||ut._menu.contains(W.target)&&(W.type==="keyup"&&W.key==="Tab"||/input|select|option|textarea|form/i.test(W.target.tagName)))continue;const cn={relatedTarget:ut._element};W.type==="click"&&(cn.clickEvent=W),ut._completeHide(cn)}}static dataApiKeydownHandler(W){const ae=/input|textarea/i.test(W.target.tagName),Me=W.key==="Escape",ut=[Pe,Ue].includes(W.key);if(!ut&&!Me||ae&&!Me)return;W.preventDefault();const Qe=this.matches(Er)?this:qe.prev(this,Er)[0]||qe.next(this,Er)[0]||qe.findOne(Er,W.delegateTarget.parentNode),Dt=Mi.getOrCreateInstance(Qe);if(ut)return W.stopPropagation(),Dt.show(),void Dt._selectMenuItem(W);Dt._isShown()&&(W.stopPropagation(),Dt.hide(),Qe.focus())}}ce.on(document,ui,Er,Mi.dataApiKeydownHandler),ce.on(document,ui,bn,Mi.dataApiKeydownHandler),ce.on(document,Mn,Mi.clearMenus),ce.on(document,qi,Mi.clearMenus),ce.on(document,Mn,Er,function(ye){ye.preventDefault(),Mi.getOrCreateInstance(this).toggle()}),x(Mi);const fa="backdrop",Do="show",qo=`mousedown.bs.${fa}`,Ji={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},cs={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class Hr extends we{constructor(W){super(),this._config=this._getConfig(W),this._isAppended=!1,this._element=null}static get Default(){return Ji}static get DefaultType(){return cs}static get NAME(){return fa}show(W){if(!this._config.isVisible)return void w(W);this._append();const ae=this._getElement();this._config.isAnimated&&_(ae),ae.classList.add(Do),this._emulateAnimation(()=>{w(W)})}hide(W){this._config.isVisible?(this._getElement().classList.remove(Do),this._emulateAnimation(()=>{this.dispose(),w(W)})):w(W)}dispose(){this._isAppended&&(ce.off(this._element,qo),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const W=document.createElement("div");W.className=this._config.className,this._config.isAnimated&&W.classList.add("fade"),this._element=W}return this._element}_configAfterMerge(W){return W.rootElement=u(W.rootElement),W}_append(){if(this._isAppended)return;const W=this._getElement();this._config.rootElement.append(W),ce.on(W,qo,()=>{w(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(W){T(W,this._getElement(),this._config.isAnimated)}}const Gr=".bs.focustrap",Cs=`focusin${Gr}`,ii=`keydown.tab${Gr}`,Yo="backward",Hs={autofocus:!0,trapElement:null},pa={autofocus:"boolean",trapElement:"element"};class uo extends we{constructor(W){super(),this._config=this._getConfig(W),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return Hs}static get DefaultType(){return pa}static get NAME(){return"focustrap"}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),ce.off(document,Gr),ce.on(document,Cs,W=>this._handleFocusin(W)),ce.on(document,ii,W=>this._handleKeydown(W)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,ce.off(document,Gr))}_handleFocusin(W){const{trapElement:ae}=this._config;if(W.target===document||W.target===ae||ae.contains(W.target))return;const Me=qe.focusableChildren(ae);Me.length===0?ae.focus():this._lastTabNavDirection===Yo?Me[Me.length-1].focus():Me[0].focus()}_handleKeydown(W){W.key==="Tab"&&(this._lastTabNavDirection=W.shiftKey?Yo:"forward")}}const ys=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",_d=".sticky-top",Gs="padding-right",ma="margin-right";class ho{constructor(){this._element=document.body}getWidth(){const W=document.documentElement.clientWidth;return Math.abs(window.innerWidth-W)}hide(){const W=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,Gs,ae=>ae+W),this._setElementAttributes(ys,Gs,ae=>ae+W),this._setElementAttributes(_d,ma,ae=>ae-W)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,Gs),this._resetElementAttributes(ys,Gs),this._resetElementAttributes(_d,ma)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(W,ae,Me){const ut=this.getWidth();this._applyManipulationCallback(W,Qe=>{if(Qe!==this._element&&window.innerWidth>Qe.clientWidth+ut)return;this._saveInitialAttribute(Qe,ae);const Dt=window.getComputedStyle(Qe).getPropertyValue(ae);Qe.style.setProperty(ae,`${Me(Number.parseFloat(Dt))}px`)})}_saveInitialAttribute(W,ae){const Me=W.style.getPropertyValue(ae);Me&&le.setDataAttribute(W,ae,Me)}_resetElementAttributes(W,ae){this._applyManipulationCallback(W,Me=>{const ut=le.getDataAttribute(Me,ae);ut!==null?(le.removeDataAttribute(Me,ae),Me.style.setProperty(ae,ut)):Me.style.removeProperty(ae)})}_applyManipulationCallback(W,ae){if(a(W))ae(W);else for(const Me of qe.find(W,this._element))ae(Me)}}const ga=".bs.modal",Gu=`hide${ga}`,Rh=`hidePrevented${ga}`,ke=`hidden${ga}`,it=`show${ga}`,yt=`shown${ga}`,Mt=`resize${ga}`,jt=`click.dismiss${ga}`,On=`mousedown.dismiss${ga}`,Hn=`keydown.dismiss${ga}`,kn=`click${ga}.data-api`,Fn="modal-open",Yi="show",Si="modal-static",_i={backdrop:!0,focus:!0,keyboard:!0},Ei={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class li extends Re{constructor(W,ae){super(W,ae),this._dialog=qe.findOne(".modal-dialog",this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new ho,this._addEventListeners()}static get Default(){return _i}static get DefaultType(){return Ei}static get NAME(){return"modal"}toggle(W){return this._isShown?this.hide():this.show(W)}show(W){this._isShown||this._isTransitioning||ce.trigger(this._element,it,{relatedTarget:W}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(Fn),this._adjustDialog(),this._backdrop.show(()=>this._showElement(W)))}hide(){this._isShown&&!this._isTransitioning&&(ce.trigger(this._element,Gu).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(Yi),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated())))}dispose(){ce.off(window,ga),ce.off(this._dialog,ga),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new Hr({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new uo({trapElement:this._element})}_showElement(W){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const ae=qe.findOne(".modal-body",this._dialog);ae&&(ae.scrollTop=0),_(this._element),this._element.classList.add(Yi),this._queueCallback(()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,ce.trigger(this._element,yt,{relatedTarget:W})},this._dialog,this._isAnimated())}_addEventListeners(){ce.on(this._element,Hn,W=>{W.key==="Escape"&&(this._config.keyboard?this.hide():this._triggerBackdropTransition())}),ce.on(window,Mt,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),ce.on(this._element,On,W=>{ce.one(this._element,jt,ae=>{this._element===W.target&&this._element===ae.target&&(this._config.backdrop!=="static"?this._config.backdrop&&this.hide():this._triggerBackdropTransition())})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(Fn),this._resetAdjustments(),this._scrollBar.reset(),ce.trigger(this._element,ke)})}_isAnimated(){return this._element.classList.contains("fade")}_triggerBackdropTransition(){if(ce.trigger(this._element,Rh).defaultPrevented)return;const W=this._element.scrollHeight>document.documentElement.clientHeight,ae=this._element.style.overflowY;ae==="hidden"||this._element.classList.contains(Si)||(W||(this._element.style.overflowY="hidden"),this._element.classList.add(Si),this._queueCallback(()=>{this._element.classList.remove(Si),this._queueCallback(()=>{this._element.style.overflowY=ae},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const W=this._element.scrollHeight>document.documentElement.clientHeight,ae=this._scrollBar.getWidth(),Me=ae>0;if(Me&&!W){const ut=c()?"paddingLeft":"paddingRight";this._element.style[ut]=`${ae}px`}if(!Me&&W){const ut=c()?"paddingRight":"paddingLeft";this._element.style[ut]=`${ae}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(W,ae){return this.each(function(){const Me=li.getOrCreateInstance(this,W);if(typeof W=="string"){if(Me[W]===void 0)throw new TypeError(`No method named "${W}"`);Me[W](ae)}})}}ce.on(document,kn,'[data-bs-toggle="modal"]',function(ye){const W=qe.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&ye.preventDefault(),ce.one(W,it,Me=>{Me.defaultPrevented||ce.one(W,ke,()=>{m(this)&&this.focus()})});const ae=qe.findOne(".modal.show");ae&&li.getInstance(ae).hide(),li.getOrCreateInstance(W).toggle(this)}),ot(li),x(li);const Oi=".bs.offcanvas",Fo=".data-api",us=`load${Oi}${Fo}`,fo="show",no="showing",yl="hiding",Vs=".offcanvas.show",Bo=`show${Oi}`,Xp=`shown${Oi}`,Ko=`hide${Oi}`,Zo=`hidePrevented${Oi}`,nl=`hidden${Oi}`,Pf=`resize${Oi}`,bd=`click${Oi}${Fo}`,au=`keydown.dismiss${Oi}`,Nf={backdrop:!0,keyboard:!0,scroll:!1},Uc={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class Ul extends Re{constructor(W,ae){super(W,ae),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return Nf}static get DefaultType(){return Uc}static get NAME(){return"offcanvas"}toggle(W){return this._isShown?this.hide():this.show(W)}show(W){this._isShown||ce.trigger(this._element,Bo,{relatedTarget:W}).defaultPrevented||(this._isShown=!0,this._backdrop.show(),this._config.scroll||new ho().hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(no),this._queueCallback(()=>{this._config.scroll&&!this._config.backdrop||this._focustrap.activate(),this._element.classList.add(fo),this._element.classList.remove(no),ce.trigger(this._element,Xp,{relatedTarget:W})},this._element,!0))}hide(){this._isShown&&(ce.trigger(this._element,Ko).defaultPrevented||(this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(yl),this._backdrop.hide(),this._queueCallback(()=>{this._element.classList.remove(fo,yl),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||new ho().reset(),ce.trigger(this._element,nl)},this._element,!0)))}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const W=!!this._config.backdrop;return new Hr({className:"offcanvas-backdrop",isVisible:W,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:W?()=>{this._config.backdrop!=="static"?this.hide():ce.trigger(this._element,Zo)}:null})}_initializeFocusTrap(){return new uo({trapElement:this._element})}_addEventListeners(){ce.on(this._element,au,W=>{W.key==="Escape"&&(this._config.keyboard?this.hide():ce.trigger(this._element,Zo))})}static jQueryInterface(W){return this.each(function(){const ae=Ul.getOrCreateInstance(this,W);if(typeof W=="string"){if(ae[W]===void 0||W.startsWith("_")||W==="constructor")throw new TypeError(`No method named "${W}"`);ae[W](this)}})}}ce.on(document,bd,'[data-bs-toggle="offcanvas"]',function(ye){const W=qe.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&ye.preventDefault(),d(this))return;ce.one(W,nl,()=>{m(this)&&this.focus()});const ae=qe.findOne(Vs);ae&&ae!==W&&Ul.getInstance(ae).hide(),Ul.getOrCreateInstance(W).toggle(this)}),ce.on(window,us,()=>{for(const ye of qe.find(Vs))Ul.getOrCreateInstance(ye).show()}),ce.on(window,Pf,()=>{for(const ye of qe.find("[aria-modal][class*=show][class*=offcanvas-]"))getComputedStyle(ye).position!=="fixed"&&Ul.getOrCreateInstance(ye).hide()}),ot(Ul),x(Ul);const Vu={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],dd:[],div:[],dl:[],dt:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},lu=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),qp=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,za=(ye,W)=>{const ae=ye.nodeName.toLowerCase();return W.includes(ae)?!lu.has(ae)||!!qp.test(ye.nodeValue):W.filter(Me=>Me instanceof RegExp).some(Me=>Me.test(ae))},xd={allowList:Vu,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},io={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},Yp={entry:"(string|element|function|null)",selector:"(string|element)"};class Uo extends we{constructor(W){super(),this._config=this._getConfig(W)}static get Default(){return xd}static get DefaultType(){return io}static get NAME(){return"TemplateFactory"}getContent(){return Object.values(this._config.content).map(W=>this._resolvePossibleFunction(W)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(W){return this._checkContent(W),this._config.content={...this._config.content,...W},this}toHtml(){const W=document.createElement("div");W.innerHTML=this._maybeSanitize(this._config.template);for(const[ut,Qe]of Object.entries(this._config.content))this._setContent(W,Qe,ut);const ae=W.children[0],Me=this._resolvePossibleFunction(this._config.extraClass);return Me&&ae.classList.add(...Me.split(" ")),ae}_typeCheckConfig(W){super._typeCheckConfig(W),this._checkContent(W.content)}_checkContent(W){for(const[ae,Me]of Object.entries(W))super._typeCheckConfig({selector:ae,entry:Me},Yp)}_setContent(W,ae,Me){const ut=qe.findOne(Me,W);ut&&((ae=this._resolvePossibleFunction(ae))?a(ae)?this._putElementInTemplate(u(ae),ut):this._config.html?ut.innerHTML=this._maybeSanitize(ae):ut.textContent=ae:ut.remove())}_maybeSanitize(W){return this._config.sanitize?(function(ae,Me,ut){if(!ae.length)return ae;if(ut&&typeof ut=="function")return ut(ae);const Qe=new window.DOMParser().parseFromString(ae,"text/html"),Dt=[].concat(...Qe.body.querySelectorAll("*"));for(const cn of Dt){const Ln=cn.nodeName.toLowerCase();if(!Object.keys(Me).includes(Ln)){cn.remove();continue}const Xn=[].concat(...cn.attributes),Jn=[].concat(Me["*"]||[],Me[Ln]||[]);for(const zn of Xn)za(zn,Jn)||cn.removeAttribute(zn.nodeName)}return Qe.body.innerHTML})(W,this._config.allowList,this._config.sanitizeFn):W}_resolvePossibleFunction(W){return w(W,[void 0,this])}_putElementInTemplate(W,ae){if(this._config.html)return ae.innerHTML="",void ae.append(W);ae.textContent=W.textContent}}const cu=new Set(["sanitize","allowList","sanitizeFn"]),Wu="fade",ju="show",Mh=".tooltip-inner",Aa=".modal",Oh="hide.bs.modal",gc="hover",So="focus",Ra="click",uu={AUTO:"auto",TOP:"top",RIGHT:c()?"left":"right",BOTTOM:"bottom",LEFT:c()?"right":"left"},vc={allowList:Vu,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},yc={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class Ma extends Re{constructor(W,ae){if(si===void 0)throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org/docs/v2/)");super(W,ae),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return vc}static get DefaultType(){return yc}static get NAME(){return"tooltip"}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){this._isEnabled&&(this._isShown()?this._leave():this._enter())}dispose(){clearTimeout(this._timeout),ce.off(this._element.closest(Aa),Oh,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if(this._element.style.display==="none")throw new Error("Please use show on visible elements");if(!this._isWithContent()||!this._isEnabled)return;const W=ce.trigger(this._element,this.constructor.eventName("show")),ae=(b(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(W.defaultPrevented||!ae)return;this._disposePopper();const Me=this._getTipElement();this._element.setAttribute("aria-describedby",Me.getAttribute("id"));const{container:ut}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(ut.append(Me),ce.trigger(this._element,this.constructor.eventName("inserted"))),this._popper=this._createPopper(Me),Me.classList.add(ju),"ontouchstart"in document.documentElement)for(const Qe of[].concat(...document.body.children))ce.on(Qe,"mouseover",g);this._queueCallback(()=>{ce.trigger(this._element,this.constructor.eventName("shown")),this._isHovered===!1&&this._leave(),this._isHovered=!1},this.tip,this._isAnimated())}hide(){if(this._isShown()&&!ce.trigger(this._element,this.constructor.eventName("hide")).defaultPrevented){if(this._getTipElement().classList.remove(ju),"ontouchstart"in document.documentElement)for(const W of[].concat(...document.body.children))ce.off(W,"mouseover",g);this._activeTrigger[Ra]=!1,this._activeTrigger[So]=!1,this._activeTrigger[gc]=!1,this._isHovered=null,this._queueCallback(()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),ce.trigger(this._element,this.constructor.eventName("hidden")))},this.tip,this._isAnimated())}}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(W){const ae=this._getTemplateFactory(W).toHtml();if(!ae)return null;ae.classList.remove(Wu,ju),ae.classList.add(`bs-${this.constructor.NAME}-auto`);const Me=(ut=>{do ut+=Math.floor(1e6*Math.random());while(document.getElementById(ut));return ut})(this.constructor.NAME).toString();return ae.setAttribute("id",Me),this._isAnimated()&&ae.classList.add(Wu),ae}setContent(W){this._newContent=W,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(W){return this._templateFactory?this._templateFactory.changeContent(W):this._templateFactory=new Uo({...this._config,content:W,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{[Mh]:this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(W){return this.constructor.getOrCreateInstance(W.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(Wu)}_isShown(){return this.tip&&this.tip.classList.contains(ju)}_createPopper(W){const ae=w(this._config.placement,[this,W,this._element]),Me=uu[ae.toUpperCase()];return ln(this._element,W,this._getPopperConfig(Me))}_getOffset(){const{offset:W}=this._config;return typeof W=="string"?W.split(",").map(ae=>Number.parseInt(ae,10)):typeof W=="function"?ae=>W(ae,this._element):W}_resolvePossibleFunction(W){return w(W,[this._element,this._element])}_getPopperConfig(W){const ae={placement:W,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:Me=>{this._getTipElement().setAttribute("data-popper-placement",Me.state.placement)}}]};return{...ae,...w(this._config.popperConfig,[void 0,ae])}}_setListeners(){const W=this._config.trigger.split(" ");for(const ae of W)if(ae==="click")ce.on(this._element,this.constructor.eventName("click"),this._config.selector,Me=>{const ut=this._initializeOnDelegatedTarget(Me);ut._activeTrigger[Ra]=!(ut._isShown()&&ut._activeTrigger[Ra]),ut.toggle()});else if(ae!=="manual"){const Me=ae===gc?this.constructor.eventName("mouseenter"):this.constructor.eventName("focusin"),ut=ae===gc?this.constructor.eventName("mouseleave"):this.constructor.eventName("focusout");ce.on(this._element,Me,this._config.selector,Qe=>{const Dt=this._initializeOnDelegatedTarget(Qe);Dt._activeTrigger[Qe.type==="focusin"?So:gc]=!0,Dt._enter()}),ce.on(this._element,ut,this._config.selector,Qe=>{const Dt=this._initializeOnDelegatedTarget(Qe);Dt._activeTrigger[Qe.type==="focusout"?So:gc]=Dt._element.contains(Qe.relatedTarget),Dt._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},ce.on(this._element.closest(Aa),Oh,this._hideModalHandler)}_fixTitle(){const W=this._element.getAttribute("title");W&&(this._element.getAttribute("aria-label")||this._element.textContent.trim()||this._element.setAttribute("aria-label",W),this._element.setAttribute("data-bs-original-title",W),this._element.removeAttribute("title"))}_enter(){this._isShown()||this._isHovered?this._isHovered=!0:(this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show))}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(W,ae){clearTimeout(this._timeout),this._timeout=setTimeout(W,ae)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(W){const ae=le.getDataAttributes(this._element);for(const Me of Object.keys(ae))cu.has(Me)&&delete ae[Me];return W={...ae,...typeof W=="object"&&W?W:{}},W=this._mergeConfigObj(W),W=this._configAfterMerge(W),this._typeCheckConfig(W),W}_configAfterMerge(W){return W.container=W.container===!1?document.body:u(W.container),typeof W.delay=="number"&&(W.delay={show:W.delay,hide:W.delay}),typeof W.title=="number"&&(W.title=W.title.toString()),typeof W.content=="number"&&(W.content=W.content.toString()),W}_getDelegateConfig(){const W={};for(const[ae,Me]of Object.entries(this._config))this.constructor.Default[ae]!==Me&&(W[ae]=Me);return W.selector=!1,W.trigger="manual",W}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(W){return this.each(function(){const ae=Ma.getOrCreateInstance(this,W);if(typeof W=="string"){if(ae[W]===void 0)throw new TypeError(`No method named "${W}"`);ae[W]()}})}}x(Ma);const If=".popover-header",Kp=".popover-body",Zp={...Ma.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},Oa={...Ma.DefaultType,content:"(null|string|element|function)"};class hs extends Ma{static get Default(){return Zp}static get DefaultType(){return Oa}static get NAME(){return"popover"}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{[If]:this._getTitle(),[Kp]:this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(W){return this.each(function(){const ae=hs.getOrCreateInstance(this,W);if(typeof W=="string"){if(ae[W]===void 0)throw new TypeError(`No method named "${W}"`);ae[W]()}})}}x(hs);const wr=".bs.scrollspy",_l=`activate${wr}`,$a=`click${wr}`,Df=`load${wr}.data-api`,il="active",Ff="[href]",Bf=".nav-link",kl=`${Bf}, .nav-item > ${Bf}, .list-group-item`,Lh={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},Vr={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class zl extends Re{constructor(W,ae){super(W,ae),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement=getComputedStyle(this._element).overflowY==="visible"?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return Lh}static get DefaultType(){return Vr}static get NAME(){return"scrollspy"}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const W of this._observableSections.values())this._observer.observe(W)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(W){return W.target=u(W.target)||document.body,W.rootMargin=W.offset?`${W.offset}px 0px -30%`:W.rootMargin,typeof W.threshold=="string"&&(W.threshold=W.threshold.split(",").map(ae=>Number.parseFloat(ae))),W}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(ce.off(this._config.target,$a),ce.on(this._config.target,$a,Ff,W=>{const ae=this._observableSections.get(W.target.hash);if(ae){W.preventDefault();const Me=this._rootElement||window,ut=ae.offsetTop-this._element.offsetTop;if(Me.scrollTo)return void Me.scrollTo({top:ut,behavior:"smooth"});Me.scrollTop=ut}}))}_getNewObserver(){const W={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver(ae=>this._observerCallback(ae),W)}_observerCallback(W){const ae=Dt=>this._targetLinks.get(`#${Dt.target.id}`),Me=Dt=>{this._previousScrollData.visibleEntryTop=Dt.target.offsetTop,this._process(ae(Dt))},ut=(this._rootElement||document.documentElement).scrollTop,Qe=ut>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=ut;for(const Dt of W){if(!Dt.isIntersecting){this._activeTarget=null,this._clearActiveClass(ae(Dt));continue}const cn=Dt.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(Qe&&cn){if(Me(Dt),!ut)return}else Qe||cn||Me(Dt)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const W=qe.find(Ff,this._config.target);for(const ae of W){if(!ae.hash||d(ae))continue;const Me=qe.findOne(decodeURI(ae.hash),this._element);m(Me)&&(this._targetLinks.set(decodeURI(ae.hash),ae),this._observableSections.set(ae.hash,Me))}}_process(W){this._activeTarget!==W&&(this._clearActiveClass(this._config.target),this._activeTarget=W,W.classList.add(il),this._activateParents(W),ce.trigger(this._element,_l,{relatedTarget:W}))}_activateParents(W){if(W.classList.contains("dropdown-item"))qe.findOne(".dropdown-toggle",W.closest(".dropdown")).classList.add(il);else for(const ae of qe.parents(W,".nav, .list-group"))for(const Me of qe.prev(ae,kl))Me.classList.add(il)}_clearActiveClass(W){W.classList.remove(il);const ae=qe.find(`${Ff}.${il}`,W);for(const Me of ae)Me.classList.remove(il)}static jQueryInterface(W){return this.each(function(){const ae=zl.getOrCreateInstance(this,W);if(typeof W=="string"){if(ae[W]===void 0||W.startsWith("_")||W==="constructor")throw new TypeError(`No method named "${W}"`);ae[W]()}})}}ce.on(window,Df,()=>{for(const ye of qe.find('[data-bs-spy="scroll"]'))zl.getOrCreateInstance(ye)}),x(zl);const kc=".bs.tab",hu=`hide${kc}`,zc=`hidden${kc}`,du=`show${kc}`,$c=`shown${kc}`,Qp=`click${kc}`,Sd=`keydown${kc}`,bl=`load${kc}`,Ed="ArrowLeft",$l="ArrowRight",Ws="ArrowUp",Ph="ArrowDown",Nh="Home",Uf="End",Xu="active",Jp="fade",js="show",wd=".dropdown-toggle",fu=`:not(${wd})`,qu='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',Yu=`.nav-link${fu}, .list-group-item${fu}, [role="tab"]${fu}, ${qu}`,Zi=`.${Xu}[data-bs-toggle="tab"], .${Xu}[data-bs-toggle="pill"], .${Xu}[data-bs-toggle="list"]`;class xl extends Re{constructor(W){super(W),this._parent=this._element.closest('.list-group, .nav, [role="tablist"]'),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),ce.on(this._element,Sd,ae=>this._keydown(ae)))}static get NAME(){return"tab"}show(){const W=this._element;if(this._elemIsActive(W))return;const ae=this._getActiveElem(),Me=ae?ce.trigger(ae,hu,{relatedTarget:W}):null;ce.trigger(W,du,{relatedTarget:ae}).defaultPrevented||Me&&Me.defaultPrevented||(this._deactivate(ae,W),this._activate(W,ae))}_activate(W,ae){W&&(W.classList.add(Xu),this._activate(qe.getElementFromSelector(W)),this._queueCallback(()=>{W.getAttribute("role")==="tab"?(W.removeAttribute("tabindex"),W.setAttribute("aria-selected",!0),this._toggleDropDown(W,!0),ce.trigger(W,$c,{relatedTarget:ae})):W.classList.add(js)},W,W.classList.contains(Jp)))}_deactivate(W,ae){W&&(W.classList.remove(Xu),W.blur(),this._deactivate(qe.getElementFromSelector(W)),this._queueCallback(()=>{W.getAttribute("role")==="tab"?(W.setAttribute("aria-selected",!1),W.setAttribute("tabindex","-1"),this._toggleDropDown(W,!1),ce.trigger(W,zc,{relatedTarget:ae})):W.classList.remove(js)},W,W.classList.contains(Jp)))}_keydown(W){if(![Ed,$l,Ws,Ph,Nh,Uf].includes(W.key))return;W.stopPropagation(),W.preventDefault();const ae=this._getChildren().filter(ut=>!d(ut));let Me;if([Nh,Uf].includes(W.key))Me=ae[W.key===Nh?0:ae.length-1];else{const ut=[$l,Ph].includes(W.key);Me=L(ae,W.target,ut,!0)}Me&&(Me.focus({preventScroll:!0}),xl.getOrCreateInstance(Me).show())}_getChildren(){return qe.find(Yu,this._parent)}_getActiveElem(){return this._getChildren().find(W=>this._elemIsActive(W))||null}_setInitialAttributes(W,ae){this._setAttributeIfNotExists(W,"role","tablist");for(const Me of ae)this._setInitialAttributesOnChild(Me)}_setInitialAttributesOnChild(W){W=this._getInnerElement(W);const ae=this._elemIsActive(W),Me=this._getOuterElement(W);W.setAttribute("aria-selected",ae),Me!==W&&this._setAttributeIfNotExists(Me,"role","presentation"),ae||W.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(W,"role","tab"),this._setInitialAttributesOnTargetPanel(W)}_setInitialAttributesOnTargetPanel(W){const ae=qe.getElementFromSelector(W);ae&&(this._setAttributeIfNotExists(ae,"role","tabpanel"),W.id&&this._setAttributeIfNotExists(ae,"aria-labelledby",`${W.id}`))}_toggleDropDown(W,ae){const Me=this._getOuterElement(W);if(!Me.classList.contains("dropdown"))return;const ut=(Qe,Dt)=>{const cn=qe.findOne(Qe,Me);cn&&cn.classList.toggle(Dt,ae)};ut(wd,Xu),ut(".dropdown-menu",js),Me.setAttribute("aria-expanded",ae)}_setAttributeIfNotExists(W,ae,Me){W.hasAttribute(ae)||W.setAttribute(ae,Me)}_elemIsActive(W){return W.classList.contains(Xu)}_getInnerElement(W){return W.matches(Yu)?W:qe.findOne(Yu,W)}_getOuterElement(W){return W.closest(".nav-item, .list-group-item")||W}static jQueryInterface(W){return this.each(function(){const ae=xl.getOrCreateInstance(this);if(typeof W=="string"){if(ae[W]===void 0||W.startsWith("_")||W==="constructor")throw new TypeError(`No method named "${W}"`);ae[W]()}})}}ce.on(document,Qp,qu,function(ye){["A","AREA"].includes(this.tagName)&&ye.preventDefault(),d(this)||xl.getOrCreateInstance(this).show()}),ce.on(window,bl,()=>{for(const ye of qe.find(Zi))xl.getOrCreateInstance(ye)}),x(xl);const po=".bs.toast",kf=`mouseover${po}`,D0=`mouseout${po}`,Cd=`focusin${po}`,Sl=`focusout${po}`,pu=`hide${po}`,Td=`hidden${po}`,zf=`show${po}`,Ad=`shown${po}`,$f="hide",Ha="show",mu="showing",Hf={animation:"boolean",autohide:"boolean",delay:"number"},Ih={animation:!0,autohide:!0,delay:5e3};class gu extends Re{constructor(W,ae){super(W,ae),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return Ih}static get DefaultType(){return Hf}static get NAME(){return"toast"}show(){ce.trigger(this._element,zf).defaultPrevented||(this._clearTimeout(),this._config.animation&&this._element.classList.add("fade"),this._element.classList.remove($f),_(this._element),this._element.classList.add(Ha,mu),this._queueCallback(()=>{this._element.classList.remove(mu),ce.trigger(this._element,Ad),this._maybeScheduleHide()},this._element,this._config.animation))}hide(){this.isShown()&&(ce.trigger(this._element,pu).defaultPrevented||(this._element.classList.add(mu),this._queueCallback(()=>{this._element.classList.add($f),this._element.classList.remove(mu,Ha),ce.trigger(this._element,Td)},this._element,this._config.animation)))}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(Ha),super.dispose()}isShown(){return this._element.classList.contains(Ha)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(W,ae){switch(W.type){case"mouseover":case"mouseout":this._hasMouseInteraction=ae;break;case"focusin":case"focusout":this._hasKeyboardInteraction=ae}if(ae)return void this._clearTimeout();const Me=W.relatedTarget;this._element===Me||this._element.contains(Me)||this._maybeScheduleHide()}_setListeners(){ce.on(this._element,kf,W=>this._onInteraction(W,!0)),ce.on(this._element,D0,W=>this._onInteraction(W,!1)),ce.on(this._element,Cd,W=>this._onInteraction(W,!0)),ce.on(this._element,Sl,W=>this._onInteraction(W,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(W){return this.each(function(){const ae=gu.getOrCreateInstance(this,W);if(typeof W=="string"){if(ae[W]===void 0)throw new TypeError(`No method named "${W}"`);ae[W](this)}})}}return ot(gu),x(gu),{Alert:Ae,Button:Tt,Carousel:rr,Collapse:bt,Dropdown:Mi,Modal:li,Offcanvas:Ul,Popover:hs,ScrollSpy:zl,Tab:xl,Toast:gu,Tooltip:Ma}})})(w1)),w1.exports}Qz();var ay={},C1={exports:{}};/*!
 * jQuery JavaScript Library v3.7.1
 * https://jquery.com/
 *
 * Copyright OpenJS Foundation and other contributors
 * Released under the MIT license
 * https://jquery.org/license
 *
 * Date: 2023-08-28T13:37Z
 */var Jz=C1.exports,SO;function e$(){return SO||(SO=1,(function(n){(function(e,t){n.exports=e.document?t(e,!0):function(i){if(!i.document)throw new Error("jQuery requires a window with a document");return t(i)}})(typeof window<"u"?window:Jz,function(e,t){var i=[],r=Object.getPrototypeOf,s=i.slice,o=i.flat?function(O){return i.flat.call(O)}:function(O){return i.concat.apply([],O)},l=i.push,a=i.indexOf,u={},m=u.toString,d=u.hasOwnProperty,b=d.toString,g=b.call(Object),_={},p=function(U){return typeof U=="function"&&typeof U.nodeType!="number"&&typeof U.item!="function"},v=function(U){return U!=null&&U===U.window},c=e.document,x={type:!0,src:!0,nonce:!0,noModule:!0};function w(O,U,X){X=X||c;var ee,oe,re=X.createElement("script");if(re.text=O,U)for(ee in x)oe=U[ee]||U.getAttribute&&U.getAttribute(ee),oe&&re.setAttribute(ee,oe);X.head.appendChild(re).parentNode.removeChild(re)}function T(O){return O==null?O+"":typeof O=="object"||typeof O=="function"?u[m.call(O)]||"object":typeof O}var L="3.7.1",P=/HTML$/i,C=function(O,U){return new C.fn.init(O,U)};C.fn=C.prototype={jquery:L,constructor:C,length:0,toArray:function(){return s.call(this)},get:function(O){return O==null?s.call(this):O<0?this[O+this.length]:this[O]},pushStack:function(O){var U=C.merge(this.constructor(),O);return U.prevObject=this,U},each:function(O){return C.each(this,O)},map:function(O){return this.pushStack(C.map(this,function(U,X){return O.call(U,X,U)}))},slice:function(){return this.pushStack(s.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(C.grep(this,function(O,U){return(U+1)%2}))},odd:function(){return this.pushStack(C.grep(this,function(O,U){return U%2}))},eq:function(O){var U=this.length,X=+O+(O<0?U:0);return this.pushStack(X>=0&&X<U?[this[X]]:[])},end:function(){return this.prevObject||this.constructor()},push:l,sort:i.sort,splice:i.splice},C.extend=C.fn.extend=function(){var O,U,X,ee,oe,re,pe=arguments[0]||{},He=1,Ie=arguments.length,tt=!1;for(typeof pe=="boolean"&&(tt=pe,pe=arguments[He]||{},He++),typeof pe!="object"&&!p(pe)&&(pe={}),He===Ie&&(pe=this,He--);He<Ie;He++)if((O=arguments[He])!=null)for(U in O)ee=O[U],!(U==="__proto__"||pe===ee)&&(tt&&ee&&(C.isPlainObject(ee)||(oe=Array.isArray(ee)))?(X=pe[U],oe&&!Array.isArray(X)?re=[]:!oe&&!C.isPlainObject(X)?re={}:re=X,oe=!1,pe[U]=C.extend(tt,re,ee)):ee!==void 0&&(pe[U]=ee));return pe},C.extend({expando:"jQuery"+(L+Math.random()).replace(/\D/g,""),isReady:!0,error:function(O){throw new Error(O)},noop:function(){},isPlainObject:function(O){var U,X;return!O||m.call(O)!=="[object Object]"?!1:(U=r(O),U?(X=d.call(U,"constructor")&&U.constructor,typeof X=="function"&&b.call(X)===g):!0)},isEmptyObject:function(O){var U;for(U in O)return!1;return!0},globalEval:function(O,U,X){w(O,{nonce:U&&U.nonce},X)},each:function(O,U){var X,ee=0;if(I(O))for(X=O.length;ee<X&&U.call(O[ee],ee,O[ee])!==!1;ee++);else for(ee in O)if(U.call(O[ee],ee,O[ee])===!1)break;return O},text:function(O){var U,X="",ee=0,oe=O.nodeType;if(!oe)for(;U=O[ee++];)X+=C.text(U);return oe===1||oe===11?O.textContent:oe===9?O.documentElement.textContent:oe===3||oe===4?O.nodeValue:X},makeArray:function(O,U){var X=U||[];return O!=null&&(I(Object(O))?C.merge(X,typeof O=="string"?[O]:O):l.call(X,O)),X},inArray:function(O,U,X){return U==null?-1:a.call(U,O,X)},isXMLDoc:function(O){var U=O&&O.namespaceURI,X=O&&(O.ownerDocument||O).documentElement;return!P.test(U||X&&X.nodeName||"HTML")},merge:function(O,U){for(var X=+U.length,ee=0,oe=O.length;ee<X;ee++)O[oe++]=U[ee];return O.length=oe,O},grep:function(O,U,X){for(var ee,oe=[],re=0,pe=O.length,He=!X;re<pe;re++)ee=!U(O[re],re),ee!==He&&oe.push(O[re]);return oe},map:function(O,U,X){var ee,oe,re=0,pe=[];if(I(O))for(ee=O.length;re<ee;re++)oe=U(O[re],re,X),oe!=null&&pe.push(oe);else for(re in O)oe=U(O[re],re,X),oe!=null&&pe.push(oe);return o(pe)},guid:1,support:_}),typeof Symbol=="function"&&(C.fn[Symbol.iterator]=i[Symbol.iterator]),C.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(O,U){u["[object "+U+"]"]=U.toLowerCase()});function I(O){var U=!!O&&"length"in O&&O.length,X=T(O);return p(O)||v(O)?!1:X==="array"||U===0||typeof U=="number"&&U>0&&U-1 in O}function F(O,U){return O.nodeName&&O.nodeName.toLowerCase()===U.toLowerCase()}var R=i.pop,D=i.sort,G=i.splice,j="[\\x20\\t\\r\\n\\f]",k=new RegExp("^"+j+"+|((?:^|[^\\\\])(?:\\\\.)*)"+j+"+$","g");C.contains=function(O,U){var X=U&&U.parentNode;return O===X||!!(X&&X.nodeType===1&&(O.contains?O.contains(X):O.compareDocumentPosition&&O.compareDocumentPosition(X)&16))};var V=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g;function H(O,U){return U?O==="\0"?"�":O.slice(0,-1)+"\\"+O.charCodeAt(O.length-1).toString(16)+" ":"\\"+O}C.escapeSelector=function(O){return(O+"").replace(V,H)};var te=c,ne=l;(function(){var O,U,X,ee,oe,re=ne,pe,He,Ie,tt,Rt,Vt=C.expando,_t=0,ln=0,si=fa(),ve=fa(),xe=fa(),$e=fa(),Pe=function(ke,it){return ke===it&&(oe=!0),0},Ue="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",qt="(?:\\\\[\\da-fA-F]{1,6}"+j+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",kt="\\["+j+"*("+qt+")(?:"+j+"*([*^$|!~]?=)"+j+`*(?:'((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)"|(`+qt+"))|)"+j+"*\\]",Zt=":("+qt+`)(?:\\((('((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)")|((?:\\\\.|[^\\\\()[\\]]|`+kt+")*)|.*)\\)|)",vn=new RegExp(j+"+","g"),Mn=new RegExp("^"+j+"*,"+j+"*"),ui=new RegExp("^"+j+"*([>+~]|"+j+")"+j+"*"),qi=new RegExp(j+"|>"),ai=new RegExp(Zt),Er=new RegExp("^"+qt+"$"),Ki={ID:new RegExp("^#("+qt+")"),CLASS:new RegExp("^\\.("+qt+")"),TAG:new RegExp("^("+qt+"|[*])"),ATTR:new RegExp("^"+kt),PSEUDO:new RegExp("^"+Zt),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+j+"*(even|odd|(([+-]|)(\\d*)n|)"+j+"*(?:([+-]|)"+j+"*(\\d+)|))"+j+"*\\)|)","i"),bool:new RegExp("^(?:"+Ue+")$","i"),needsContext:new RegExp("^"+j+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+j+"*((?:-\\d)?\\d*)"+j+"*\\)|)(?=[^-]|$)","i")},bn=/^(?:input|select|textarea|button)$/i,hi=/^h\d$/i,Qn=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Kn=/[+~]/,vi=new RegExp("\\\\[\\da-fA-F]{1,6}"+j+"?|\\\\([^\\r\\n\\f])","g"),fi=function(ke,it){var yt="0x"+ke.slice(1)-65536;return it||(yt<0?String.fromCharCode(yt+65536):String.fromCharCode(yt>>10|55296,yt&1023|56320))},to=function(){ii()},da=uo(function(ke){return ke.disabled===!0&&F(ke,"fieldset")},{dir:"parentNode",next:"legend"});function xo(){try{return pe.activeElement}catch{}}try{re.apply(i=s.call(te.childNodes),te.childNodes),i[te.childNodes.length].nodeType}catch{re={apply:function(it,yt){ne.apply(it,s.call(yt))},call:function(it){ne.apply(it,s.call(arguments,1))}}}function Mi(ke,it,yt,Mt){var jt,On,Hn,kn,Fn,Yi,Si,_i=it&&it.ownerDocument,Ei=it?it.nodeType:9;if(yt=yt||[],typeof ke!="string"||!ke||Ei!==1&&Ei!==9&&Ei!==11)return yt;if(!Mt&&(ii(it),it=it||pe,Ie)){if(Ei!==11&&(Fn=Qn.exec(ke)))if(jt=Fn[1]){if(Ei===9)if(Hn=it.getElementById(jt)){if(Hn.id===jt)return re.call(yt,Hn),yt}else return yt;else if(_i&&(Hn=_i.getElementById(jt))&&Mi.contains(it,Hn)&&Hn.id===jt)return re.call(yt,Hn),yt}else{if(Fn[2])return re.apply(yt,it.getElementsByTagName(ke)),yt;if((jt=Fn[3])&&it.getElementsByClassName)return re.apply(yt,it.getElementsByClassName(jt)),yt}if(!$e[ke+" "]&&(!tt||!tt.test(ke))){if(Si=ke,_i=it,Ei===1&&(qi.test(ke)||ui.test(ke))){for(_i=Kn.test(ke)&&Cs(it.parentNode)||it,(_i!=it||!_.scope)&&((kn=it.getAttribute("id"))?kn=C.escapeSelector(kn):it.setAttribute("id",kn=Vt)),Yi=Hs(ke),On=Yi.length;On--;)Yi[On]=(kn?"#"+kn:":scope")+" "+pa(Yi[On]);Si=Yi.join(",")}try{return re.apply(yt,_i.querySelectorAll(Si)),yt}catch{$e(ke,!0)}finally{kn===Vt&&it.removeAttribute("id")}}}return Rh(ke.replace(k,"$1"),it,yt,Mt)}function fa(){var ke=[];function it(yt,Mt){return ke.push(yt+" ")>U.cacheLength&&delete it[ke.shift()],it[yt+" "]=Mt}return it}function Do(ke){return ke[Vt]=!0,ke}function qo(ke){var it=pe.createElement("fieldset");try{return!!ke(it)}catch{return!1}finally{it.parentNode&&it.parentNode.removeChild(it),it=null}}function Ji(ke){return function(it){return F(it,"input")&&it.type===ke}}function cs(ke){return function(it){return(F(it,"input")||F(it,"button"))&&it.type===ke}}function Hr(ke){return function(it){return"form"in it?it.parentNode&&it.disabled===!1?"label"in it?"label"in it.parentNode?it.parentNode.disabled===ke:it.disabled===ke:it.isDisabled===ke||it.isDisabled!==!ke&&da(it)===ke:it.disabled===ke:"label"in it?it.disabled===ke:!1}}function Gr(ke){return Do(function(it){return it=+it,Do(function(yt,Mt){for(var jt,On=ke([],yt.length,it),Hn=On.length;Hn--;)yt[jt=On[Hn]]&&(yt[jt]=!(Mt[jt]=yt[jt]))})})}function Cs(ke){return ke&&typeof ke.getElementsByTagName<"u"&&ke}function ii(ke){var it,yt=ke?ke.ownerDocument||ke:te;return yt==pe||yt.nodeType!==9||!yt.documentElement||(pe=yt,He=pe.documentElement,Ie=!C.isXMLDoc(pe),Rt=He.matches||He.webkitMatchesSelector||He.msMatchesSelector,He.msMatchesSelector&&te!=pe&&(it=pe.defaultView)&&it.top!==it&&it.addEventListener("unload",to),_.getById=qo(function(Mt){return He.appendChild(Mt).id=C.expando,!pe.getElementsByName||!pe.getElementsByName(C.expando).length}),_.disconnectedMatch=qo(function(Mt){return Rt.call(Mt,"*")}),_.scope=qo(function(){return pe.querySelectorAll(":scope")}),_.cssHas=qo(function(){try{return pe.querySelector(":has(*,:jqfake)"),!1}catch{return!0}}),_.getById?(U.filter.ID=function(Mt){var jt=Mt.replace(vi,fi);return function(On){return On.getAttribute("id")===jt}},U.find.ID=function(Mt,jt){if(typeof jt.getElementById<"u"&&Ie){var On=jt.getElementById(Mt);return On?[On]:[]}}):(U.filter.ID=function(Mt){var jt=Mt.replace(vi,fi);return function(On){var Hn=typeof On.getAttributeNode<"u"&&On.getAttributeNode("id");return Hn&&Hn.value===jt}},U.find.ID=function(Mt,jt){if(typeof jt.getElementById<"u"&&Ie){var On,Hn,kn,Fn=jt.getElementById(Mt);if(Fn){if(On=Fn.getAttributeNode("id"),On&&On.value===Mt)return[Fn];for(kn=jt.getElementsByName(Mt),Hn=0;Fn=kn[Hn++];)if(On=Fn.getAttributeNode("id"),On&&On.value===Mt)return[Fn]}return[]}}),U.find.TAG=function(Mt,jt){return typeof jt.getElementsByTagName<"u"?jt.getElementsByTagName(Mt):jt.querySelectorAll(Mt)},U.find.CLASS=function(Mt,jt){if(typeof jt.getElementsByClassName<"u"&&Ie)return jt.getElementsByClassName(Mt)},tt=[],qo(function(Mt){var jt;He.appendChild(Mt).innerHTML="<a id='"+Vt+"' href='' disabled='disabled'></a><select id='"+Vt+"-\r\\' disabled='disabled'><option selected=''></option></select>",Mt.querySelectorAll("[selected]").length||tt.push("\\["+j+"*(?:value|"+Ue+")"),Mt.querySelectorAll("[id~="+Vt+"-]").length||tt.push("~="),Mt.querySelectorAll("a#"+Vt+"+*").length||tt.push(".#.+[+~]"),Mt.querySelectorAll(":checked").length||tt.push(":checked"),jt=pe.createElement("input"),jt.setAttribute("type","hidden"),Mt.appendChild(jt).setAttribute("name","D"),He.appendChild(Mt).disabled=!0,Mt.querySelectorAll(":disabled").length!==2&&tt.push(":enabled",":disabled"),jt=pe.createElement("input"),jt.setAttribute("name",""),Mt.appendChild(jt),Mt.querySelectorAll("[name='']").length||tt.push("\\["+j+"*name"+j+"*="+j+`*(?:''|"")`)}),_.cssHas||tt.push(":has"),tt=tt.length&&new RegExp(tt.join("|")),Pe=function(Mt,jt){if(Mt===jt)return oe=!0,0;var On=!Mt.compareDocumentPosition-!jt.compareDocumentPosition;return On||(On=(Mt.ownerDocument||Mt)==(jt.ownerDocument||jt)?Mt.compareDocumentPosition(jt):1,On&1||!_.sortDetached&&jt.compareDocumentPosition(Mt)===On?Mt===pe||Mt.ownerDocument==te&&Mi.contains(te,Mt)?-1:jt===pe||jt.ownerDocument==te&&Mi.contains(te,jt)?1:ee?a.call(ee,Mt)-a.call(ee,jt):0:On&4?-1:1)}),pe}Mi.matches=function(ke,it){return Mi(ke,null,null,it)},Mi.matchesSelector=function(ke,it){if(ii(ke),Ie&&!$e[it+" "]&&(!tt||!tt.test(it)))try{var yt=Rt.call(ke,it);if(yt||_.disconnectedMatch||ke.document&&ke.document.nodeType!==11)return yt}catch{$e(it,!0)}return Mi(it,pe,null,[ke]).length>0},Mi.contains=function(ke,it){return(ke.ownerDocument||ke)!=pe&&ii(ke),C.contains(ke,it)},Mi.attr=function(ke,it){(ke.ownerDocument||ke)!=pe&&ii(ke);var yt=U.attrHandle[it.toLowerCase()],Mt=yt&&d.call(U.attrHandle,it.toLowerCase())?yt(ke,it,!Ie):void 0;return Mt!==void 0?Mt:ke.getAttribute(it)},Mi.error=function(ke){throw new Error("Syntax error, unrecognized expression: "+ke)},C.uniqueSort=function(ke){var it,yt=[],Mt=0,jt=0;if(oe=!_.sortStable,ee=!_.sortStable&&s.call(ke,0),D.call(ke,Pe),oe){for(;it=ke[jt++];)it===ke[jt]&&(Mt=yt.push(jt));for(;Mt--;)G.call(ke,yt[Mt],1)}return ee=null,ke},C.fn.uniqueSort=function(){return this.pushStack(C.uniqueSort(s.apply(this)))},U=C.expr={cacheLength:50,createPseudo:Do,match:Ki,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(ke){return ke[1]=ke[1].replace(vi,fi),ke[3]=(ke[3]||ke[4]||ke[5]||"").replace(vi,fi),ke[2]==="~="&&(ke[3]=" "+ke[3]+" "),ke.slice(0,4)},CHILD:function(ke){return ke[1]=ke[1].toLowerCase(),ke[1].slice(0,3)==="nth"?(ke[3]||Mi.error(ke[0]),ke[4]=+(ke[4]?ke[5]+(ke[6]||1):2*(ke[3]==="even"||ke[3]==="odd")),ke[5]=+(ke[7]+ke[8]||ke[3]==="odd")):ke[3]&&Mi.error(ke[0]),ke},PSEUDO:function(ke){var it,yt=!ke[6]&&ke[2];return Ki.CHILD.test(ke[0])?null:(ke[3]?ke[2]=ke[4]||ke[5]||"":yt&&ai.test(yt)&&(it=Hs(yt,!0))&&(it=yt.indexOf(")",yt.length-it)-yt.length)&&(ke[0]=ke[0].slice(0,it),ke[2]=yt.slice(0,it)),ke.slice(0,3))}},filter:{TAG:function(ke){var it=ke.replace(vi,fi).toLowerCase();return ke==="*"?function(){return!0}:function(yt){return F(yt,it)}},CLASS:function(ke){var it=si[ke+" "];return it||(it=new RegExp("(^|"+j+")"+ke+"("+j+"|$)"))&&si(ke,function(yt){return it.test(typeof yt.className=="string"&&yt.className||typeof yt.getAttribute<"u"&&yt.getAttribute("class")||"")})},ATTR:function(ke,it,yt){return function(Mt){var jt=Mi.attr(Mt,ke);return jt==null?it==="!=":it?(jt+="",it==="="?jt===yt:it==="!="?jt!==yt:it==="^="?yt&&jt.indexOf(yt)===0:it==="*="?yt&&jt.indexOf(yt)>-1:it==="$="?yt&&jt.slice(-yt.length)===yt:it==="~="?(" "+jt.replace(vn," ")+" ").indexOf(yt)>-1:it==="|="?jt===yt||jt.slice(0,yt.length+1)===yt+"-":!1):!0}},CHILD:function(ke,it,yt,Mt,jt){var On=ke.slice(0,3)!=="nth",Hn=ke.slice(-4)!=="last",kn=it==="of-type";return Mt===1&&jt===0?function(Fn){return!!Fn.parentNode}:function(Fn,Yi,Si){var _i,Ei,li,Oi,Fo,us=On!==Hn?"nextSibling":"previousSibling",fo=Fn.parentNode,no=kn&&Fn.nodeName.toLowerCase(),yl=!Si&&!kn,Vs=!1;if(fo){if(On){for(;us;){for(li=Fn;li=li[us];)if(kn?F(li,no):li.nodeType===1)return!1;Fo=us=ke==="only"&&!Fo&&"nextSibling"}return!0}if(Fo=[Hn?fo.firstChild:fo.lastChild],Hn&&yl){for(Ei=fo[Vt]||(fo[Vt]={}),_i=Ei[ke]||[],Oi=_i[0]===_t&&_i[1],Vs=Oi&&_i[2],li=Oi&&fo.childNodes[Oi];li=++Oi&&li&&li[us]||(Vs=Oi=0)||Fo.pop();)if(li.nodeType===1&&++Vs&&li===Fn){Ei[ke]=[_t,Oi,Vs];break}}else if(yl&&(Ei=Fn[Vt]||(Fn[Vt]={}),_i=Ei[ke]||[],Oi=_i[0]===_t&&_i[1],Vs=Oi),Vs===!1)for(;(li=++Oi&&li&&li[us]||(Vs=Oi=0)||Fo.pop())&&!((kn?F(li,no):li.nodeType===1)&&++Vs&&(yl&&(Ei=li[Vt]||(li[Vt]={}),Ei[ke]=[_t,Vs]),li===Fn)););return Vs-=jt,Vs===Mt||Vs%Mt===0&&Vs/Mt>=0}}},PSEUDO:function(ke,it){var yt,Mt=U.pseudos[ke]||U.setFilters[ke.toLowerCase()]||Mi.error("unsupported pseudo: "+ke);return Mt[Vt]?Mt(it):Mt.length>1?(yt=[ke,ke,"",it],U.setFilters.hasOwnProperty(ke.toLowerCase())?Do(function(jt,On){for(var Hn,kn=Mt(jt,it),Fn=kn.length;Fn--;)Hn=a.call(jt,kn[Fn]),jt[Hn]=!(On[Hn]=kn[Fn])}):function(jt){return Mt(jt,0,yt)}):Mt}},pseudos:{not:Do(function(ke){var it=[],yt=[],Mt=Gu(ke.replace(k,"$1"));return Mt[Vt]?Do(function(jt,On,Hn,kn){for(var Fn,Yi=Mt(jt,null,kn,[]),Si=jt.length;Si--;)(Fn=Yi[Si])&&(jt[Si]=!(On[Si]=Fn))}):function(jt,On,Hn){return it[0]=jt,Mt(it,null,Hn,yt),it[0]=null,!yt.pop()}}),has:Do(function(ke){return function(it){return Mi(ke,it).length>0}}),contains:Do(function(ke){return ke=ke.replace(vi,fi),function(it){return(it.textContent||C.text(it)).indexOf(ke)>-1}}),lang:Do(function(ke){return Er.test(ke||"")||Mi.error("unsupported lang: "+ke),ke=ke.replace(vi,fi).toLowerCase(),function(it){var yt;do if(yt=Ie?it.lang:it.getAttribute("xml:lang")||it.getAttribute("lang"))return yt=yt.toLowerCase(),yt===ke||yt.indexOf(ke+"-")===0;while((it=it.parentNode)&&it.nodeType===1);return!1}}),target:function(ke){var it=e.location&&e.location.hash;return it&&it.slice(1)===ke.id},root:function(ke){return ke===He},focus:function(ke){return ke===xo()&&pe.hasFocus()&&!!(ke.type||ke.href||~ke.tabIndex)},enabled:Hr(!1),disabled:Hr(!0),checked:function(ke){return F(ke,"input")&&!!ke.checked||F(ke,"option")&&!!ke.selected},selected:function(ke){return ke.parentNode&&ke.parentNode.selectedIndex,ke.selected===!0},empty:function(ke){for(ke=ke.firstChild;ke;ke=ke.nextSibling)if(ke.nodeType<6)return!1;return!0},parent:function(ke){return!U.pseudos.empty(ke)},header:function(ke){return hi.test(ke.nodeName)},input:function(ke){return bn.test(ke.nodeName)},button:function(ke){return F(ke,"input")&&ke.type==="button"||F(ke,"button")},text:function(ke){var it;return F(ke,"input")&&ke.type==="text"&&((it=ke.getAttribute("type"))==null||it.toLowerCase()==="text")},first:Gr(function(){return[0]}),last:Gr(function(ke,it){return[it-1]}),eq:Gr(function(ke,it,yt){return[yt<0?yt+it:yt]}),even:Gr(function(ke,it){for(var yt=0;yt<it;yt+=2)ke.push(yt);return ke}),odd:Gr(function(ke,it){for(var yt=1;yt<it;yt+=2)ke.push(yt);return ke}),lt:Gr(function(ke,it,yt){var Mt;for(yt<0?Mt=yt+it:yt>it?Mt=it:Mt=yt;--Mt>=0;)ke.push(Mt);return ke}),gt:Gr(function(ke,it,yt){for(var Mt=yt<0?yt+it:yt;++Mt<it;)ke.push(Mt);return ke})}},U.pseudos.nth=U.pseudos.eq;for(O in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})U.pseudos[O]=Ji(O);for(O in{submit:!0,reset:!0})U.pseudos[O]=cs(O);function Yo(){}Yo.prototype=U.filters=U.pseudos,U.setFilters=new Yo;function Hs(ke,it){var yt,Mt,jt,On,Hn,kn,Fn,Yi=ve[ke+" "];if(Yi)return it?0:Yi.slice(0);for(Hn=ke,kn=[],Fn=U.preFilter;Hn;){(!yt||(Mt=Mn.exec(Hn)))&&(Mt&&(Hn=Hn.slice(Mt[0].length)||Hn),kn.push(jt=[])),yt=!1,(Mt=ui.exec(Hn))&&(yt=Mt.shift(),jt.push({value:yt,type:Mt[0].replace(k," ")}),Hn=Hn.slice(yt.length));for(On in U.filter)(Mt=Ki[On].exec(Hn))&&(!Fn[On]||(Mt=Fn[On](Mt)))&&(yt=Mt.shift(),jt.push({value:yt,type:On,matches:Mt}),Hn=Hn.slice(yt.length));if(!yt)break}return it?Hn.length:Hn?Mi.error(ke):ve(ke,kn).slice(0)}function pa(ke){for(var it=0,yt=ke.length,Mt="";it<yt;it++)Mt+=ke[it].value;return Mt}function uo(ke,it,yt){var Mt=it.dir,jt=it.next,On=jt||Mt,Hn=yt&&On==="parentNode",kn=ln++;return it.first?function(Fn,Yi,Si){for(;Fn=Fn[Mt];)if(Fn.nodeType===1||Hn)return ke(Fn,Yi,Si);return!1}:function(Fn,Yi,Si){var _i,Ei,li=[_t,kn];if(Si){for(;Fn=Fn[Mt];)if((Fn.nodeType===1||Hn)&&ke(Fn,Yi,Si))return!0}else for(;Fn=Fn[Mt];)if(Fn.nodeType===1||Hn)if(Ei=Fn[Vt]||(Fn[Vt]={}),jt&&F(Fn,jt))Fn=Fn[Mt]||Fn;else{if((_i=Ei[On])&&_i[0]===_t&&_i[1]===kn)return li[2]=_i[2];if(Ei[On]=li,li[2]=ke(Fn,Yi,Si))return!0}return!1}}function ys(ke){return ke.length>1?function(it,yt,Mt){for(var jt=ke.length;jt--;)if(!ke[jt](it,yt,Mt))return!1;return!0}:ke[0]}function _d(ke,it,yt){for(var Mt=0,jt=it.length;Mt<jt;Mt++)Mi(ke,it[Mt],yt);return yt}function Gs(ke,it,yt,Mt,jt){for(var On,Hn=[],kn=0,Fn=ke.length,Yi=it!=null;kn<Fn;kn++)(On=ke[kn])&&(!yt||yt(On,Mt,jt))&&(Hn.push(On),Yi&&it.push(kn));return Hn}function ma(ke,it,yt,Mt,jt,On){return Mt&&!Mt[Vt]&&(Mt=ma(Mt)),jt&&!jt[Vt]&&(jt=ma(jt,On)),Do(function(Hn,kn,Fn,Yi){var Si,_i,Ei,li,Oi=[],Fo=[],us=kn.length,fo=Hn||_d(it||"*",Fn.nodeType?[Fn]:Fn,[]),no=ke&&(Hn||!it)?Gs(fo,Oi,ke,Fn,Yi):fo;if(yt?(li=jt||(Hn?ke:us||Mt)?[]:kn,yt(no,li,Fn,Yi)):li=no,Mt)for(Si=Gs(li,Fo),Mt(Si,[],Fn,Yi),_i=Si.length;_i--;)(Ei=Si[_i])&&(li[Fo[_i]]=!(no[Fo[_i]]=Ei));if(Hn){if(jt||ke){if(jt){for(Si=[],_i=li.length;_i--;)(Ei=li[_i])&&Si.push(no[_i]=Ei);jt(null,li=[],Si,Yi)}for(_i=li.length;_i--;)(Ei=li[_i])&&(Si=jt?a.call(Hn,Ei):Oi[_i])>-1&&(Hn[Si]=!(kn[Si]=Ei))}}else li=Gs(li===kn?li.splice(us,li.length):li),jt?jt(null,kn,li,Yi):re.apply(kn,li)})}function ho(ke){for(var it,yt,Mt,jt=ke.length,On=U.relative[ke[0].type],Hn=On||U.relative[" "],kn=On?1:0,Fn=uo(function(_i){return _i===it},Hn,!0),Yi=uo(function(_i){return a.call(it,_i)>-1},Hn,!0),Si=[function(_i,Ei,li){var Oi=!On&&(li||Ei!=X)||((it=Ei).nodeType?Fn(_i,Ei,li):Yi(_i,Ei,li));return it=null,Oi}];kn<jt;kn++)if(yt=U.relative[ke[kn].type])Si=[uo(ys(Si),yt)];else{if(yt=U.filter[ke[kn].type].apply(null,ke[kn].matches),yt[Vt]){for(Mt=++kn;Mt<jt&&!U.relative[ke[Mt].type];Mt++);return ma(kn>1&&ys(Si),kn>1&&pa(ke.slice(0,kn-1).concat({value:ke[kn-2].type===" "?"*":""})).replace(k,"$1"),yt,kn<Mt&&ho(ke.slice(kn,Mt)),Mt<jt&&ho(ke=ke.slice(Mt)),Mt<jt&&pa(ke))}Si.push(yt)}return ys(Si)}function ga(ke,it){var yt=it.length>0,Mt=ke.length>0,jt=function(On,Hn,kn,Fn,Yi){var Si,_i,Ei,li=0,Oi="0",Fo=On&&[],us=[],fo=X,no=On||Mt&&U.find.TAG("*",Yi),yl=_t+=fo==null?1:Math.random()||.1,Vs=no.length;for(Yi&&(X=Hn==pe||Hn||Yi);Oi!==Vs&&(Si=no[Oi])!=null;Oi++){if(Mt&&Si){for(_i=0,!Hn&&Si.ownerDocument!=pe&&(ii(Si),kn=!Ie);Ei=ke[_i++];)if(Ei(Si,Hn||pe,kn)){re.call(Fn,Si);break}Yi&&(_t=yl)}yt&&((Si=!Ei&&Si)&&li--,On&&Fo.push(Si))}if(li+=Oi,yt&&Oi!==li){for(_i=0;Ei=it[_i++];)Ei(Fo,us,Hn,kn);if(On){if(li>0)for(;Oi--;)Fo[Oi]||us[Oi]||(us[Oi]=R.call(Fn));us=Gs(us)}re.apply(Fn,us),Yi&&!On&&us.length>0&&li+it.length>1&&C.uniqueSort(Fn)}return Yi&&(_t=yl,X=fo),Fo};return yt?Do(jt):jt}function Gu(ke,it){var yt,Mt=[],jt=[],On=xe[ke+" "];if(!On){for(it||(it=Hs(ke)),yt=it.length;yt--;)On=ho(it[yt]),On[Vt]?Mt.push(On):jt.push(On);On=xe(ke,ga(jt,Mt)),On.selector=ke}return On}function Rh(ke,it,yt,Mt){var jt,On,Hn,kn,Fn,Yi=typeof ke=="function"&&ke,Si=!Mt&&Hs(ke=Yi.selector||ke);if(yt=yt||[],Si.length===1){if(On=Si[0]=Si[0].slice(0),On.length>2&&(Hn=On[0]).type==="ID"&&it.nodeType===9&&Ie&&U.relative[On[1].type]){if(it=(U.find.ID(Hn.matches[0].replace(vi,fi),it)||[])[0],it)Yi&&(it=it.parentNode);else return yt;ke=ke.slice(On.shift().value.length)}for(jt=Ki.needsContext.test(ke)?0:On.length;jt--&&(Hn=On[jt],!U.relative[kn=Hn.type]);)if((Fn=U.find[kn])&&(Mt=Fn(Hn.matches[0].replace(vi,fi),Kn.test(On[0].type)&&Cs(it.parentNode)||it))){if(On.splice(jt,1),ke=Mt.length&&pa(On),!ke)return re.apply(yt,Mt),yt;break}}return(Yi||Gu(ke,Si))(Mt,it,!Ie,yt,!it||Kn.test(ke)&&Cs(it.parentNode)||it),yt}_.sortStable=Vt.split("").sort(Pe).join("")===Vt,ii(),_.sortDetached=qo(function(ke){return ke.compareDocumentPosition(pe.createElement("fieldset"))&1}),C.find=Mi,C.expr[":"]=C.expr.pseudos,C.unique=C.uniqueSort,Mi.compile=Gu,Mi.select=Rh,Mi.setDocument=ii,Mi.tokenize=Hs,Mi.escape=C.escapeSelector,Mi.getText=C.text,Mi.isXML=C.isXMLDoc,Mi.selectors=C.expr,Mi.support=C.support,Mi.uniqueSort=C.uniqueSort})();var he=function(O,U,X){for(var ee=[],oe=X!==void 0;(O=O[U])&&O.nodeType!==9;)if(O.nodeType===1){if(oe&&C(O).is(X))break;ee.push(O)}return ee},ie=function(O,U){for(var X=[];O;O=O.nextSibling)O.nodeType===1&&O!==U&&X.push(O);return X},ce=C.expr.match.needsContext,Se=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function Ee(O,U,X){return p(U)?C.grep(O,function(ee,oe){return!!U.call(ee,oe,ee)!==X}):U.nodeType?C.grep(O,function(ee){return ee===U!==X}):typeof U!="string"?C.grep(O,function(ee){return a.call(U,ee)>-1!==X}):C.filter(U,O,X)}C.filter=function(O,U,X){var ee=U[0];return X&&(O=":not("+O+")"),U.length===1&&ee.nodeType===1?C.find.matchesSelector(ee,O)?[ee]:[]:C.find.matches(O,C.grep(U,function(oe){return oe.nodeType===1}))},C.fn.extend({find:function(O){var U,X,ee=this.length,oe=this;if(typeof O!="string")return this.pushStack(C(O).filter(function(){for(U=0;U<ee;U++)if(C.contains(oe[U],this))return!0}));for(X=this.pushStack([]),U=0;U<ee;U++)C.find(O,oe[U],X);return ee>1?C.uniqueSort(X):X},filter:function(O){return this.pushStack(Ee(this,O||[],!1))},not:function(O){return this.pushStack(Ee(this,O||[],!0))},is:function(O){return!!Ee(this,typeof O=="string"&&ce.test(O)?C(O):O||[],!1).length}});var me,le=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,we=C.fn.init=function(O,U,X){var ee,oe;if(!O)return this;if(X=X||me,typeof O=="string")if(O[0]==="<"&&O[O.length-1]===">"&&O.length>=3?ee=[null,O,null]:ee=le.exec(O),ee&&(ee[1]||!U))if(ee[1]){if(U=U instanceof C?U[0]:U,C.merge(this,C.parseHTML(ee[1],U&&U.nodeType?U.ownerDocument||U:c,!0)),Se.test(ee[1])&&C.isPlainObject(U))for(ee in U)p(this[ee])?this[ee](U[ee]):this.attr(ee,U[ee]);return this}else return oe=c.getElementById(ee[2]),oe&&(this[0]=oe,this.length=1),this;else return!U||U.jquery?(U||X).find(O):this.constructor(U).find(O);else{if(O.nodeType)return this[0]=O,this.length=1,this;if(p(O))return X.ready!==void 0?X.ready(O):O(C)}return C.makeArray(O,this)};we.prototype=C.fn,me=C(c);var Re=/^(?:parents|prev(?:Until|All))/,Fe={children:!0,contents:!0,next:!0,prev:!0};C.fn.extend({has:function(O){var U=C(O,this),X=U.length;return this.filter(function(){for(var ee=0;ee<X;ee++)if(C.contains(this,U[ee]))return!0})},closest:function(O,U){var X,ee=0,oe=this.length,re=[],pe=typeof O!="string"&&C(O);if(!ce.test(O)){for(;ee<oe;ee++)for(X=this[ee];X&&X!==U;X=X.parentNode)if(X.nodeType<11&&(pe?pe.index(X)>-1:X.nodeType===1&&C.find.matchesSelector(X,O))){re.push(X);break}}return this.pushStack(re.length>1?C.uniqueSort(re):re)},index:function(O){return O?typeof O=="string"?a.call(C(O),this[0]):a.call(this,O.jquery?O[0]:O):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(O,U){return this.pushStack(C.uniqueSort(C.merge(this.get(),C(O,U))))},addBack:function(O){return this.add(O==null?this.prevObject:this.prevObject.filter(O))}});function qe(O,U){for(;(O=O[U])&&O.nodeType!==1;);return O}C.each({parent:function(O){var U=O.parentNode;return U&&U.nodeType!==11?U:null},parents:function(O){return he(O,"parentNode")},parentsUntil:function(O,U,X){return he(O,"parentNode",X)},next:function(O){return qe(O,"nextSibling")},prev:function(O){return qe(O,"previousSibling")},nextAll:function(O){return he(O,"nextSibling")},prevAll:function(O){return he(O,"previousSibling")},nextUntil:function(O,U,X){return he(O,"nextSibling",X)},prevUntil:function(O,U,X){return he(O,"previousSibling",X)},siblings:function(O){return ie((O.parentNode||{}).firstChild,O)},children:function(O){return ie(O.firstChild)},contents:function(O){return O.contentDocument!=null&&r(O.contentDocument)?O.contentDocument:(F(O,"template")&&(O=O.content||O),C.merge([],O.childNodes))}},function(O,U){C.fn[O]=function(X,ee){var oe=C.map(this,U,X);return O.slice(-5)!=="Until"&&(ee=X),ee&&typeof ee=="string"&&(oe=C.filter(ee,oe)),this.length>1&&(Fe[O]||C.uniqueSort(oe),Re.test(O)&&oe.reverse()),this.pushStack(oe)}});var ot=/[^\x20\t\r\n\f]+/g;function dn(O){var U={};return C.each(O.match(ot)||[],function(X,ee){U[ee]=!0}),U}C.Callbacks=function(O){O=typeof O=="string"?dn(O):C.extend({},O);var U,X,ee,oe,re=[],pe=[],He=-1,Ie=function(){for(oe=oe||O.once,ee=U=!0;pe.length;He=-1)for(X=pe.shift();++He<re.length;)re[He].apply(X[0],X[1])===!1&&O.stopOnFalse&&(He=re.length,X=!1);O.memory||(X=!1),U=!1,oe&&(X?re=[]:re="")},tt={add:function(){return re&&(X&&!U&&(He=re.length-1,pe.push(X)),(function Rt(Vt){C.each(Vt,function(_t,ln){p(ln)?(!O.unique||!tt.has(ln))&&re.push(ln):ln&&ln.length&&T(ln)!=="string"&&Rt(ln)})})(arguments),X&&!U&&Ie()),this},remove:function(){return C.each(arguments,function(Rt,Vt){for(var _t;(_t=C.inArray(Vt,re,_t))>-1;)re.splice(_t,1),_t<=He&&He--}),this},has:function(Rt){return Rt?C.inArray(Rt,re)>-1:re.length>0},empty:function(){return re&&(re=[]),this},disable:function(){return oe=pe=[],re=X="",this},disabled:function(){return!re},lock:function(){return oe=pe=[],!X&&!U&&(re=X=""),this},locked:function(){return!!oe},fireWith:function(Rt,Vt){return oe||(Vt=Vt||[],Vt=[Rt,Vt.slice?Vt.slice():Vt],pe.push(Vt),U||Ie()),this},fire:function(){return tt.fireWith(this,arguments),this},fired:function(){return!!ee}};return tt};function mn(O){return O}function pn(O){throw O}function Ae(O,U,X,ee){var oe;try{O&&p(oe=O.promise)?oe.call(O).done(U).fail(X):O&&p(oe=O.then)?oe.call(O,U,X):U.apply(void 0,[O].slice(ee))}catch(re){X.apply(void 0,[re])}}C.extend({Deferred:function(O){var U=[["notify","progress",C.Callbacks("memory"),C.Callbacks("memory"),2],["resolve","done",C.Callbacks("once memory"),C.Callbacks("once memory"),0,"resolved"],["reject","fail",C.Callbacks("once memory"),C.Callbacks("once memory"),1,"rejected"]],X="pending",ee={state:function(){return X},always:function(){return oe.done(arguments).fail(arguments),this},catch:function(re){return ee.then(null,re)},pipe:function(){var re=arguments;return C.Deferred(function(pe){C.each(U,function(He,Ie){var tt=p(re[Ie[4]])&&re[Ie[4]];oe[Ie[1]](function(){var Rt=tt&&tt.apply(this,arguments);Rt&&p(Rt.promise)?Rt.promise().progress(pe.notify).done(pe.resolve).fail(pe.reject):pe[Ie[0]+"With"](this,tt?[Rt]:arguments)})}),re=null}).promise()},then:function(re,pe,He){var Ie=0;function tt(Rt,Vt,_t,ln){return function(){var si=this,ve=arguments,xe=function(){var Pe,Ue;if(!(Rt<Ie)){if(Pe=_t.apply(si,ve),Pe===Vt.promise())throw new TypeError("Thenable self-resolution");Ue=Pe&&(typeof Pe=="object"||typeof Pe=="function")&&Pe.then,p(Ue)?ln?Ue.call(Pe,tt(Ie,Vt,mn,ln),tt(Ie,Vt,pn,ln)):(Ie++,Ue.call(Pe,tt(Ie,Vt,mn,ln),tt(Ie,Vt,pn,ln),tt(Ie,Vt,mn,Vt.notifyWith))):(_t!==mn&&(si=void 0,ve=[Pe]),(ln||Vt.resolveWith)(si,ve))}},$e=ln?xe:function(){try{xe()}catch(Pe){C.Deferred.exceptionHook&&C.Deferred.exceptionHook(Pe,$e.error),Rt+1>=Ie&&(_t!==pn&&(si=void 0,ve=[Pe]),Vt.rejectWith(si,ve))}};Rt?$e():(C.Deferred.getErrorHook?$e.error=C.Deferred.getErrorHook():C.Deferred.getStackHook&&($e.error=C.Deferred.getStackHook()),e.setTimeout($e))}}return C.Deferred(function(Rt){U[0][3].add(tt(0,Rt,p(He)?He:mn,Rt.notifyWith)),U[1][3].add(tt(0,Rt,p(re)?re:mn)),U[2][3].add(tt(0,Rt,p(pe)?pe:pn))}).promise()},promise:function(re){return re!=null?C.extend(re,ee):ee}},oe={};return C.each(U,function(re,pe){var He=pe[2],Ie=pe[5];ee[pe[1]]=He.add,Ie&&He.add(function(){X=Ie},U[3-re][2].disable,U[3-re][3].disable,U[0][2].lock,U[0][3].lock),He.add(pe[3].fire),oe[pe[0]]=function(){return oe[pe[0]+"With"](this===oe?void 0:this,arguments),this},oe[pe[0]+"With"]=He.fireWith}),ee.promise(oe),O&&O.call(oe,oe),oe},when:function(O){var U=arguments.length,X=U,ee=Array(X),oe=s.call(arguments),re=C.Deferred(),pe=function(He){return function(Ie){ee[He]=this,oe[He]=arguments.length>1?s.call(arguments):Ie,--U||re.resolveWith(ee,oe)}};if(U<=1&&(Ae(O,re.done(pe(X)).resolve,re.reject,!U),re.state()==="pending"||p(oe[X]&&oe[X].then)))return re.then();for(;X--;)Ae(oe[X],pe(X),re.reject);return re.promise()}});var Bt=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;C.Deferred.exceptionHook=function(O,U){e.console&&e.console.warn&&O&&Bt.test(O.name)&&e.console.warn("jQuery.Deferred exception: "+O.message,O.stack,U)},C.readyException=function(O){e.setTimeout(function(){throw O})};var Tt=C.Deferred();C.fn.ready=function(O){return Tt.then(O).catch(function(U){C.readyException(U)}),this},C.extend({isReady:!1,readyWait:1,ready:function(O){(O===!0?--C.readyWait:C.isReady)||(C.isReady=!0,!(O!==!0&&--C.readyWait>0)&&Tt.resolveWith(c,[C]))}}),C.ready.then=Tt.then;function zt(){c.removeEventListener("DOMContentLoaded",zt),e.removeEventListener("load",zt),C.ready()}c.readyState==="complete"||c.readyState!=="loading"&&!c.documentElement.doScroll?e.setTimeout(C.ready):(c.addEventListener("DOMContentLoaded",zt),e.addEventListener("load",zt));var At=function(O,U,X,ee,oe,re,pe){var He=0,Ie=O.length,tt=X==null;if(T(X)==="object"){oe=!0;for(He in X)At(O,U,He,X[He],!0,re,pe)}else if(ee!==void 0&&(oe=!0,p(ee)||(pe=!0),tt&&(pe?(U.call(O,ee),U=null):(tt=U,U=function(Rt,Vt,_t){return tt.call(C(Rt),_t)})),U))for(;He<Ie;He++)U(O[He],X,pe?ee:ee.call(O[He],He,U(O[He],X)));return oe?O:tt?U.call(O):Ie?U(O[0],X):re},yn=/^-ms-/,nt=/-([a-z])/g;function Nt(O,U){return U.toUpperCase()}function en(O){return O.replace(yn,"ms-").replace(nt,Nt)}var _e=function(O){return O.nodeType===1||O.nodeType===9||!+O.nodeType};function ue(){this.expando=C.expando+ue.uid++}ue.uid=1,ue.prototype={cache:function(O){var U=O[this.expando];return U||(U={},_e(O)&&(O.nodeType?O[this.expando]=U:Object.defineProperty(O,this.expando,{value:U,configurable:!0}))),U},set:function(O,U,X){var ee,oe=this.cache(O);if(typeof U=="string")oe[en(U)]=X;else for(ee in U)oe[en(ee)]=U[ee];return oe},get:function(O,U){return U===void 0?this.cache(O):O[this.expando]&&O[this.expando][en(U)]},access:function(O,U,X){return U===void 0||U&&typeof U=="string"&&X===void 0?this.get(O,U):(this.set(O,U,X),X!==void 0?X:U)},remove:function(O,U){var X,ee=O[this.expando];if(ee!==void 0){if(U!==void 0)for(Array.isArray(U)?U=U.map(en):(U=en(U),U=U in ee?[U]:U.match(ot)||[]),X=U.length;X--;)delete ee[U[X]];(U===void 0||C.isEmptyObject(ee))&&(O.nodeType?O[this.expando]=void 0:delete O[this.expando])}},hasData:function(O){var U=O[this.expando];return U!==void 0&&!C.isEmptyObject(U)}};var ze=new ue,rt=new ue,pt=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,ht=/[A-Z]/g;function Yt(O){return O==="true"?!0:O==="false"?!1:O==="null"?null:O===+O+""?+O:pt.test(O)?JSON.parse(O):O}function Qt(O,U,X){var ee;if(X===void 0&&O.nodeType===1)if(ee="data-"+U.replace(ht,"-$&").toLowerCase(),X=O.getAttribute(ee),typeof X=="string"){try{X=Yt(X)}catch{}rt.set(O,U,X)}else X=void 0;return X}C.extend({hasData:function(O){return rt.hasData(O)||ze.hasData(O)},data:function(O,U,X){return rt.access(O,U,X)},removeData:function(O,U){rt.remove(O,U)},_data:function(O,U,X){return ze.access(O,U,X)},_removeData:function(O,U){ze.remove(O,U)}}),C.fn.extend({data:function(O,U){var X,ee,oe,re=this[0],pe=re&&re.attributes;if(O===void 0){if(this.length&&(oe=rt.get(re),re.nodeType===1&&!ze.get(re,"hasDataAttrs"))){for(X=pe.length;X--;)pe[X]&&(ee=pe[X].name,ee.indexOf("data-")===0&&(ee=en(ee.slice(5)),Qt(re,ee,oe[ee])));ze.set(re,"hasDataAttrs",!0)}return oe}return typeof O=="object"?this.each(function(){rt.set(this,O)}):At(this,function(He){var Ie;if(re&&He===void 0)return Ie=rt.get(re,O),Ie!==void 0||(Ie=Qt(re,O),Ie!==void 0)?Ie:void 0;this.each(function(){rt.set(this,O,He)})},null,U,arguments.length>1,null,!0)},removeData:function(O){return this.each(function(){rt.remove(this,O)})}}),C.extend({queue:function(O,U,X){var ee;if(O)return U=(U||"fx")+"queue",ee=ze.get(O,U),X&&(!ee||Array.isArray(X)?ee=ze.access(O,U,C.makeArray(X)):ee.push(X)),ee||[]},dequeue:function(O,U){U=U||"fx";var X=C.queue(O,U),ee=X.length,oe=X.shift(),re=C._queueHooks(O,U),pe=function(){C.dequeue(O,U)};oe==="inprogress"&&(oe=X.shift(),ee--),oe&&(U==="fx"&&X.unshift("inprogress"),delete re.stop,oe.call(O,pe,re)),!ee&&re&&re.empty.fire()},_queueHooks:function(O,U){var X=U+"queueHooks";return ze.get(O,X)||ze.access(O,X,{empty:C.Callbacks("once memory").add(function(){ze.remove(O,[U+"queue",X])})})}}),C.fn.extend({queue:function(O,U){var X=2;return typeof O!="string"&&(U=O,O="fx",X--),arguments.length<X?C.queue(this[0],O):U===void 0?this:this.each(function(){var ee=C.queue(this,O,U);C._queueHooks(this,O),O==="fx"&&ee[0]!=="inprogress"&&C.dequeue(this,O)})},dequeue:function(O){return this.each(function(){C.dequeue(this,O)})},clearQueue:function(O){return this.queue(O||"fx",[])},promise:function(O,U){var X,ee=1,oe=C.Deferred(),re=this,pe=this.length,He=function(){--ee||oe.resolveWith(re,[re])};for(typeof O!="string"&&(U=O,O=void 0),O=O||"fx";pe--;)X=ze.get(re[pe],O+"queueHooks"),X&&X.empty&&(ee++,X.empty.add(He));return He(),oe.promise(U)}});var Cn=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,An=new RegExp("^(?:([+-])=|)("+Cn+")([a-z%]*)$","i"),Pt=["Top","Right","Bottom","Left"],on=c.documentElement,Pn=function(O){return C.contains(O.ownerDocument,O)},Ge={composed:!0};on.getRootNode&&(Pn=function(O){return C.contains(O.ownerDocument,O)||O.getRootNode(Ge)===O.ownerDocument});var lt=function(O,U){return O=U||O,O.style.display==="none"||O.style.display===""&&Pn(O)&&C.css(O,"display")==="none"};function Xt(O,U,X,ee){var oe,re,pe=20,He=ee?function(){return ee.cur()}:function(){return C.css(O,U,"")},Ie=He(),tt=X&&X[3]||(C.cssNumber[U]?"":"px"),Rt=O.nodeType&&(C.cssNumber[U]||tt!=="px"&&+Ie)&&An.exec(C.css(O,U));if(Rt&&Rt[3]!==tt){for(Ie=Ie/2,tt=tt||Rt[3],Rt=+Ie||1;pe--;)C.style(O,U,Rt+tt),(1-re)*(1-(re=He()/Ie||.5))<=0&&(pe=0),Rt=Rt/re;Rt=Rt*2,C.style(O,U,Rt+tt),X=X||[]}return X&&(Rt=+Rt||+Ie||0,oe=X[1]?Rt+(X[1]+1)*X[2]:+X[2],ee&&(ee.unit=tt,ee.start=Rt,ee.end=oe)),oe}var Xe={};function mt(O){var U,X=O.ownerDocument,ee=O.nodeName,oe=Xe[ee];return oe||(U=X.body.appendChild(X.createElement(ee)),oe=C.css(U,"display"),U.parentNode.removeChild(U),oe==="none"&&(oe="block"),Xe[ee]=oe,oe)}function $t(O,U){for(var X,ee,oe=[],re=0,pe=O.length;re<pe;re++)ee=O[re],ee.style&&(X=ee.style.display,U?(X==="none"&&(oe[re]=ze.get(ee,"display")||null,oe[re]||(ee.style.display="")),ee.style.display===""&&lt(ee)&&(oe[re]=mt(ee))):X!=="none"&&(oe[re]="none",ze.set(ee,"display",X)));for(re=0;re<pe;re++)oe[re]!=null&&(O[re].style.display=oe[re]);return O}C.fn.extend({show:function(){return $t(this,!0)},hide:function(){return $t(this)},toggle:function(O){return typeof O=="boolean"?O?this.show():this.hide():this.each(function(){lt(this)?C(this).show():C(this).hide()})}});var gn=/^(?:checkbox|radio)$/i,sn=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,Ut=/^$|^module$|\/(?:java|ecma)script/i;(function(){var O=c.createDocumentFragment(),U=O.appendChild(c.createElement("div")),X=c.createElement("input");X.setAttribute("type","radio"),X.setAttribute("checked","checked"),X.setAttribute("name","t"),U.appendChild(X),_.checkClone=U.cloneNode(!0).cloneNode(!0).lastChild.checked,U.innerHTML="<textarea>x</textarea>",_.noCloneChecked=!!U.cloneNode(!0).lastChild.defaultValue,U.innerHTML="<option></option>",_.option=!!U.lastChild})();var _n={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};_n.tbody=_n.tfoot=_n.colgroup=_n.caption=_n.thead,_n.th=_n.td,_.option||(_n.optgroup=_n.option=[1,"<select multiple='multiple'>","</select>"]);function Dn(O,U){var X;return typeof O.getElementsByTagName<"u"?X=O.getElementsByTagName(U||"*"):typeof O.querySelectorAll<"u"?X=O.querySelectorAll(U||"*"):X=[],U===void 0||U&&F(O,U)?C.merge([O],X):X}function Ai(O,U){for(var X=0,ee=O.length;X<ee;X++)ze.set(O[X],"globalEval",!U||ze.get(U[X],"globalEval"))}var Ri=/<|&#?\w+;/;function Ar(O,U,X,ee,oe){for(var re,pe,He,Ie,tt,Rt,Vt=U.createDocumentFragment(),_t=[],ln=0,si=O.length;ln<si;ln++)if(re=O[ln],re||re===0)if(T(re)==="object")C.merge(_t,re.nodeType?[re]:re);else if(!Ri.test(re))_t.push(U.createTextNode(re));else{for(pe=pe||Vt.appendChild(U.createElement("div")),He=(sn.exec(re)||["",""])[1].toLowerCase(),Ie=_n[He]||_n._default,pe.innerHTML=Ie[1]+C.htmlPrefilter(re)+Ie[2],Rt=Ie[0];Rt--;)pe=pe.lastChild;C.merge(_t,pe.childNodes),pe=Vt.firstChild,pe.textContent=""}for(Vt.textContent="",ln=0;re=_t[ln++];){if(ee&&C.inArray(re,ee)>-1){oe&&oe.push(re);continue}if(tt=Pn(re),pe=Dn(Vt.appendChild(re),"script"),tt&&Ai(pe),X)for(Rt=0;re=pe[Rt++];)Ut.test(re.type||"")&&X.push(re)}return Vt}var rr=/^([^.]*)(?:\.(.+)|)/;function dr(){return!0}function Pr(){return!1}function gr(O,U,X,ee,oe,re){var pe,He;if(typeof U=="object"){typeof X!="string"&&(ee=ee||X,X=void 0);for(He in U)gr(O,He,X,ee,U[He],re);return O}if(ee==null&&oe==null?(oe=X,ee=X=void 0):oe==null&&(typeof X=="string"?(oe=ee,ee=void 0):(oe=ee,ee=X,X=void 0)),oe===!1)oe=Pr;else if(!oe)return O;return re===1&&(pe=oe,oe=function(Ie){return C().off(Ie),pe.apply(this,arguments)},oe.guid=pe.guid||(pe.guid=C.guid++)),O.each(function(){C.event.add(this,U,oe,ee,X)})}C.event={global:{},add:function(O,U,X,ee,oe){var re,pe,He,Ie,tt,Rt,Vt,_t,ln,si,ve,xe=ze.get(O);if(_e(O))for(X.handler&&(re=X,X=re.handler,oe=re.selector),oe&&C.find.matchesSelector(on,oe),X.guid||(X.guid=C.guid++),(Ie=xe.events)||(Ie=xe.events=Object.create(null)),(pe=xe.handle)||(pe=xe.handle=function($e){return typeof C<"u"&&C.event.triggered!==$e.type?C.event.dispatch.apply(O,arguments):void 0}),U=(U||"").match(ot)||[""],tt=U.length;tt--;)He=rr.exec(U[tt])||[],ln=ve=He[1],si=(He[2]||"").split(".").sort(),ln&&(Vt=C.event.special[ln]||{},ln=(oe?Vt.delegateType:Vt.bindType)||ln,Vt=C.event.special[ln]||{},Rt=C.extend({type:ln,origType:ve,data:ee,handler:X,guid:X.guid,selector:oe,needsContext:oe&&C.expr.match.needsContext.test(oe),namespace:si.join(".")},re),(_t=Ie[ln])||(_t=Ie[ln]=[],_t.delegateCount=0,(!Vt.setup||Vt.setup.call(O,ee,si,pe)===!1)&&O.addEventListener&&O.addEventListener(ln,pe)),Vt.add&&(Vt.add.call(O,Rt),Rt.handler.guid||(Rt.handler.guid=X.guid)),oe?_t.splice(_t.delegateCount++,0,Rt):_t.push(Rt),C.event.global[ln]=!0)},remove:function(O,U,X,ee,oe){var re,pe,He,Ie,tt,Rt,Vt,_t,ln,si,ve,xe=ze.hasData(O)&&ze.get(O);if(!(!xe||!(Ie=xe.events))){for(U=(U||"").match(ot)||[""],tt=U.length;tt--;){if(He=rr.exec(U[tt])||[],ln=ve=He[1],si=(He[2]||"").split(".").sort(),!ln){for(ln in Ie)C.event.remove(O,ln+U[tt],X,ee,!0);continue}for(Vt=C.event.special[ln]||{},ln=(ee?Vt.delegateType:Vt.bindType)||ln,_t=Ie[ln]||[],He=He[2]&&new RegExp("(^|\\.)"+si.join("\\.(?:.*\\.|)")+"(\\.|$)"),pe=re=_t.length;re--;)Rt=_t[re],(oe||ve===Rt.origType)&&(!X||X.guid===Rt.guid)&&(!He||He.test(Rt.namespace))&&(!ee||ee===Rt.selector||ee==="**"&&Rt.selector)&&(_t.splice(re,1),Rt.selector&&_t.delegateCount--,Vt.remove&&Vt.remove.call(O,Rt));pe&&!_t.length&&((!Vt.teardown||Vt.teardown.call(O,si,xe.handle)===!1)&&C.removeEvent(O,ln,xe.handle),delete Ie[ln])}C.isEmptyObject(Ie)&&ze.remove(O,"handle events")}},dispatch:function(O){var U,X,ee,oe,re,pe,He=new Array(arguments.length),Ie=C.event.fix(O),tt=(ze.get(this,"events")||Object.create(null))[Ie.type]||[],Rt=C.event.special[Ie.type]||{};for(He[0]=Ie,U=1;U<arguments.length;U++)He[U]=arguments[U];if(Ie.delegateTarget=this,!(Rt.preDispatch&&Rt.preDispatch.call(this,Ie)===!1)){for(pe=C.event.handlers.call(this,Ie,tt),U=0;(oe=pe[U++])&&!Ie.isPropagationStopped();)for(Ie.currentTarget=oe.elem,X=0;(re=oe.handlers[X++])&&!Ie.isImmediatePropagationStopped();)(!Ie.rnamespace||re.namespace===!1||Ie.rnamespace.test(re.namespace))&&(Ie.handleObj=re,Ie.data=re.data,ee=((C.event.special[re.origType]||{}).handle||re.handler).apply(oe.elem,He),ee!==void 0&&(Ie.result=ee)===!1&&(Ie.preventDefault(),Ie.stopPropagation()));return Rt.postDispatch&&Rt.postDispatch.call(this,Ie),Ie.result}},handlers:function(O,U){var X,ee,oe,re,pe,He=[],Ie=U.delegateCount,tt=O.target;if(Ie&&tt.nodeType&&!(O.type==="click"&&O.button>=1)){for(;tt!==this;tt=tt.parentNode||this)if(tt.nodeType===1&&!(O.type==="click"&&tt.disabled===!0)){for(re=[],pe={},X=0;X<Ie;X++)ee=U[X],oe=ee.selector+" ",pe[oe]===void 0&&(pe[oe]=ee.needsContext?C(oe,this).index(tt)>-1:C.find(oe,this,null,[tt]).length),pe[oe]&&re.push(ee);re.length&&He.push({elem:tt,handlers:re})}}return tt=this,Ie<U.length&&He.push({elem:tt,handlers:U.slice(Ie)}),He},addProp:function(O,U){Object.defineProperty(C.Event.prototype,O,{enumerable:!0,configurable:!0,get:p(U)?function(){if(this.originalEvent)return U(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[O]},set:function(X){Object.defineProperty(this,O,{enumerable:!0,configurable:!0,writable:!0,value:X})}})},fix:function(O){return O[C.expando]?O:new C.Event(O)},special:{load:{noBubble:!0},click:{setup:function(O){var U=this||O;return gn.test(U.type)&&U.click&&F(U,"input")&&ms(U,"click",!0),!1},trigger:function(O){var U=this||O;return gn.test(U.type)&&U.click&&F(U,"input")&&ms(U,"click"),!0},_default:function(O){var U=O.target;return gn.test(U.type)&&U.click&&F(U,"input")&&ze.get(U,"click")||F(U,"a")}},beforeunload:{postDispatch:function(O){O.result!==void 0&&O.originalEvent&&(O.originalEvent.returnValue=O.result)}}}};function ms(O,U,X){if(!X){ze.get(O,U)===void 0&&C.event.add(O,U,dr);return}ze.set(O,U,!1),C.event.add(O,U,{namespace:!1,handler:function(ee){var oe,re=ze.get(this,U);if(ee.isTrigger&1&&this[U]){if(re)(C.event.special[U]||{}).delegateType&&ee.stopPropagation();else if(re=s.call(arguments),ze.set(this,U,re),this[U](),oe=ze.get(this,U),ze.set(this,U,!1),re!==oe)return ee.stopImmediatePropagation(),ee.preventDefault(),oe}else re&&(ze.set(this,U,C.event.trigger(re[0],re.slice(1),this)),ee.stopPropagation(),ee.isImmediatePropagationStopped=dr)}})}C.removeEvent=function(O,U,X){O.removeEventListener&&O.removeEventListener(U,X)},C.Event=function(O,U){if(!(this instanceof C.Event))return new C.Event(O,U);O&&O.type?(this.originalEvent=O,this.type=O.type,this.isDefaultPrevented=O.defaultPrevented||O.defaultPrevented===void 0&&O.returnValue===!1?dr:Pr,this.target=O.target&&O.target.nodeType===3?O.target.parentNode:O.target,this.currentTarget=O.currentTarget,this.relatedTarget=O.relatedTarget):this.type=O,U&&C.extend(this,U),this.timeStamp=O&&O.timeStamp||Date.now(),this[C.expando]=!0},C.Event.prototype={constructor:C.Event,isDefaultPrevented:Pr,isPropagationStopped:Pr,isImmediatePropagationStopped:Pr,isSimulated:!1,preventDefault:function(){var O=this.originalEvent;this.isDefaultPrevented=dr,O&&!this.isSimulated&&O.preventDefault()},stopPropagation:function(){var O=this.originalEvent;this.isPropagationStopped=dr,O&&!this.isSimulated&&O.stopPropagation()},stopImmediatePropagation:function(){var O=this.originalEvent;this.isImmediatePropagationStopped=dr,O&&!this.isSimulated&&O.stopImmediatePropagation(),this.stopPropagation()}},C.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},C.event.addProp),C.each({focus:"focusin",blur:"focusout"},function(O,U){function X(ee){if(c.documentMode){var oe=ze.get(this,"handle"),re=C.event.fix(ee);re.type=ee.type==="focusin"?"focus":"blur",re.isSimulated=!0,oe(ee),re.target===re.currentTarget&&oe(re)}else C.event.simulate(U,ee.target,C.event.fix(ee))}C.event.special[O]={setup:function(){var ee;if(ms(this,O,!0),c.documentMode)ee=ze.get(this,U),ee||this.addEventListener(U,X),ze.set(this,U,(ee||0)+1);else return!1},trigger:function(){return ms(this,O),!0},teardown:function(){var ee;if(c.documentMode)ee=ze.get(this,U)-1,ee?ze.set(this,U,ee):(this.removeEventListener(U,X),ze.remove(this,U));else return!1},_default:function(ee){return ze.get(ee.target,O)},delegateType:U},C.event.special[U]={setup:function(){var ee=this.ownerDocument||this.document||this,oe=c.documentMode?this:ee,re=ze.get(oe,U);re||(c.documentMode?this.addEventListener(U,X):ee.addEventListener(O,X,!0)),ze.set(oe,U,(re||0)+1)},teardown:function(){var ee=this.ownerDocument||this.document||this,oe=c.documentMode?this:ee,re=ze.get(oe,U)-1;re?ze.set(oe,U,re):(c.documentMode?this.removeEventListener(U,X):ee.removeEventListener(O,X,!0),ze.remove(oe,U))}}}),C.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(O,U){C.event.special[O]={delegateType:U,bindType:U,handle:function(X){var ee,oe=this,re=X.relatedTarget,pe=X.handleObj;return(!re||re!==oe&&!C.contains(oe,re))&&(X.type=pe.origType,ee=pe.handler.apply(this,arguments),X.type=U),ee}}}),C.fn.extend({on:function(O,U,X,ee){return gr(this,O,U,X,ee)},one:function(O,U,X,ee){return gr(this,O,U,X,ee,1)},off:function(O,U,X){var ee,oe;if(O&&O.preventDefault&&O.handleObj)return ee=O.handleObj,C(O.delegateTarget).off(ee.namespace?ee.origType+"."+ee.namespace:ee.origType,ee.selector,ee.handler),this;if(typeof O=="object"){for(oe in O)this.off(oe,U,O[oe]);return this}return(U===!1||typeof U=="function")&&(X=U,U=void 0),X===!1&&(X=Pr),this.each(function(){C.event.remove(this,O,X,U)})}});var zs=/<script|<style|<link/i,Ds=/checked\s*(?:[^=]|=\s*.checked.)/i,gi=/^\s*<!\[CDATA\[|\]\]>\s*$/g;function ls(O,U){return F(O,"table")&&F(U.nodeType!==11?U:U.firstChild,"tr")&&C(O).children("tbody")[0]||O}function nr(O){return O.type=(O.getAttribute("type")!==null)+"/"+O.type,O}function ge(O){return(O.type||"").slice(0,5)==="true/"?O.type=O.type.slice(5):O.removeAttribute("type"),O}function Te(O,U){var X,ee,oe,re,pe,He,Ie;if(U.nodeType===1){if(ze.hasData(O)&&(re=ze.get(O),Ie=re.events,Ie)){ze.remove(U,"handle events");for(oe in Ie)for(X=0,ee=Ie[oe].length;X<ee;X++)C.event.add(U,oe,Ie[oe][X])}rt.hasData(O)&&(pe=rt.access(O),He=C.extend({},pe),rt.set(U,He))}}function Ye(O,U){var X=U.nodeName.toLowerCase();X==="input"&&gn.test(O.type)?U.checked=O.checked:(X==="input"||X==="textarea")&&(U.defaultValue=O.defaultValue)}function vt(O,U,X,ee){U=o(U);var oe,re,pe,He,Ie,tt,Rt=0,Vt=O.length,_t=Vt-1,ln=U[0],si=p(ln);if(si||Vt>1&&typeof ln=="string"&&!_.checkClone&&Ds.test(ln))return O.each(function(ve){var xe=O.eq(ve);si&&(U[0]=ln.call(this,ve,xe.html())),vt(xe,U,X,ee)});if(Vt&&(oe=Ar(U,O[0].ownerDocument,!1,O,ee),re=oe.firstChild,oe.childNodes.length===1&&(oe=re),re||ee)){for(pe=C.map(Dn(oe,"script"),nr),He=pe.length;Rt<Vt;Rt++)Ie=oe,Rt!==_t&&(Ie=C.clone(Ie,!0,!0),He&&C.merge(pe,Dn(Ie,"script"))),X.call(O[Rt],Ie,Rt);if(He)for(tt=pe[pe.length-1].ownerDocument,C.map(pe,ge),Rt=0;Rt<He;Rt++)Ie=pe[Rt],Ut.test(Ie.type||"")&&!ze.access(Ie,"globalEval")&&C.contains(tt,Ie)&&(Ie.src&&(Ie.type||"").toLowerCase()!=="module"?C._evalUrl&&!Ie.noModule&&C._evalUrl(Ie.src,{nonce:Ie.nonce||Ie.getAttribute("nonce")},tt):w(Ie.textContent.replace(gi,""),Ie,tt))}return O}function bt(O,U,X){for(var ee,oe=U?C.filter(U,O):O,re=0;(ee=oe[re])!=null;re++)!X&&ee.nodeType===1&&C.cleanData(Dn(ee)),ee.parentNode&&(X&&Pn(ee)&&Ai(Dn(ee,"script")),ee.parentNode.removeChild(ee));return O}C.extend({htmlPrefilter:function(O){return O},clone:function(O,U,X){var ee,oe,re,pe,He=O.cloneNode(!0),Ie=Pn(O);if(!_.noCloneChecked&&(O.nodeType===1||O.nodeType===11)&&!C.isXMLDoc(O))for(pe=Dn(He),re=Dn(O),ee=0,oe=re.length;ee<oe;ee++)Ye(re[ee],pe[ee]);if(U)if(X)for(re=re||Dn(O),pe=pe||Dn(He),ee=0,oe=re.length;ee<oe;ee++)Te(re[ee],pe[ee]);else Te(O,He);return pe=Dn(He,"script"),pe.length>0&&Ai(pe,!Ie&&Dn(O,"script")),He},cleanData:function(O){for(var U,X,ee,oe=C.event.special,re=0;(X=O[re])!==void 0;re++)if(_e(X)){if(U=X[ze.expando]){if(U.events)for(ee in U.events)oe[ee]?C.event.remove(X,ee):C.removeEvent(X,ee,U.handle);X[ze.expando]=void 0}X[rt.expando]&&(X[rt.expando]=void 0)}}}),C.fn.extend({detach:function(O){return bt(this,O,!0)},remove:function(O){return bt(this,O)},text:function(O){return At(this,function(U){return U===void 0?C.text(this):this.empty().each(function(){(this.nodeType===1||this.nodeType===11||this.nodeType===9)&&(this.textContent=U)})},null,O,arguments.length)},append:function(){return vt(this,arguments,function(O){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var U=ls(this,O);U.appendChild(O)}})},prepend:function(){return vt(this,arguments,function(O){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var U=ls(this,O);U.insertBefore(O,U.firstChild)}})},before:function(){return vt(this,arguments,function(O){this.parentNode&&this.parentNode.insertBefore(O,this)})},after:function(){return vt(this,arguments,function(O){this.parentNode&&this.parentNode.insertBefore(O,this.nextSibling)})},empty:function(){for(var O,U=0;(O=this[U])!=null;U++)O.nodeType===1&&(C.cleanData(Dn(O,!1)),O.textContent="");return this},clone:function(O,U){return O=O??!1,U=U??O,this.map(function(){return C.clone(this,O,U)})},html:function(O){return At(this,function(U){var X=this[0]||{},ee=0,oe=this.length;if(U===void 0&&X.nodeType===1)return X.innerHTML;if(typeof U=="string"&&!zs.test(U)&&!_n[(sn.exec(U)||["",""])[1].toLowerCase()]){U=C.htmlPrefilter(U);try{for(;ee<oe;ee++)X=this[ee]||{},X.nodeType===1&&(C.cleanData(Dn(X,!1)),X.innerHTML=U);X=0}catch{}}X&&this.empty().append(U)},null,O,arguments.length)},replaceWith:function(){var O=[];return vt(this,arguments,function(U){var X=this.parentNode;C.inArray(this,O)<0&&(C.cleanData(Dn(this)),X&&X.replaceChild(U,this))},O)}}),C.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(O,U){C.fn[O]=function(X){for(var ee,oe=[],re=C(X),pe=re.length-1,He=0;He<=pe;He++)ee=He===pe?this:this.clone(!0),C(re[He])[U](ee),l.apply(oe,ee.get());return this.pushStack(oe)}});var St=new RegExp("^("+Cn+")(?!px)[a-z%]+$","i"),an=/^--/,Wt=function(O){var U=O.ownerDocument.defaultView;return(!U||!U.opener)&&(U=e),U.getComputedStyle(O)},fe=function(O,U,X){var ee,oe,re={};for(oe in U)re[oe]=O.style[oe],O.style[oe]=U[oe];ee=X.call(O);for(oe in U)O.style[oe]=re[oe];return ee},Be=new RegExp(Pt.join("|"),"i");(function(){function O(){if(tt){Ie.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",tt.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",on.appendChild(Ie).appendChild(tt);var Rt=e.getComputedStyle(tt);X=Rt.top!=="1%",He=U(Rt.marginLeft)===12,tt.style.right="60%",re=U(Rt.right)===36,ee=U(Rt.width)===36,tt.style.position="absolute",oe=U(tt.offsetWidth/3)===12,on.removeChild(Ie),tt=null}}function U(Rt){return Math.round(parseFloat(Rt))}var X,ee,oe,re,pe,He,Ie=c.createElement("div"),tt=c.createElement("div");tt.style&&(tt.style.backgroundClip="content-box",tt.cloneNode(!0).style.backgroundClip="",_.clearCloneStyle=tt.style.backgroundClip==="content-box",C.extend(_,{boxSizingReliable:function(){return O(),ee},pixelBoxStyles:function(){return O(),re},pixelPosition:function(){return O(),X},reliableMarginLeft:function(){return O(),He},scrollboxSize:function(){return O(),oe},reliableTrDimensions:function(){var Rt,Vt,_t,ln;return pe==null&&(Rt=c.createElement("table"),Vt=c.createElement("tr"),_t=c.createElement("div"),Rt.style.cssText="position:absolute;left:-11111px;border-collapse:separate",Vt.style.cssText="box-sizing:content-box;border:1px solid",Vt.style.height="1px",_t.style.height="9px",_t.style.display="block",on.appendChild(Rt).appendChild(Vt).appendChild(_t),ln=e.getComputedStyle(Vt),pe=parseInt(ln.height,10)+parseInt(ln.borderTopWidth,10)+parseInt(ln.borderBottomWidth,10)===Vt.offsetHeight,on.removeChild(Rt)),pe}}))})();function Ve(O,U,X){var ee,oe,re,pe,He=an.test(U),Ie=O.style;return X=X||Wt(O),X&&(pe=X.getPropertyValue(U)||X[U],He&&pe&&(pe=pe.replace(k,"$1")||void 0),pe===""&&!Pn(O)&&(pe=C.style(O,U)),!_.pixelBoxStyles()&&St.test(pe)&&Be.test(U)&&(ee=Ie.width,oe=Ie.minWidth,re=Ie.maxWidth,Ie.minWidth=Ie.maxWidth=Ie.width=pe,pe=X.width,Ie.width=ee,Ie.minWidth=oe,Ie.maxWidth=re)),pe!==void 0?pe+"":pe}function je(O,U){return{get:function(){if(O()){delete this.get;return}return(this.get=U).apply(this,arguments)}}}var et=["Webkit","Moz","ms"],ft=c.createElement("div").style,Et={};function Gt(O){for(var U=O[0].toUpperCase()+O.slice(1),X=et.length;X--;)if(O=et[X]+U,O in ft)return O}function Jt(O){var U=C.cssProps[O]||Et[O];return U||(O in ft?O:Et[O]=Gt(O)||O)}var Nn=/^(none|table(?!-c[ea]).+)/,Rn={position:"absolute",visibility:"hidden",display:"block"},hn={letterSpacing:"0",fontWeight:"400"};function Un(O,U,X){var ee=An.exec(U);return ee?Math.max(0,ee[2]-(X||0))+(ee[3]||"px"):U}function Yn(O,U,X,ee,oe,re){var pe=U==="width"?1:0,He=0,Ie=0,tt=0;if(X===(ee?"border":"content"))return 0;for(;pe<4;pe+=2)X==="margin"&&(tt+=C.css(O,X+Pt[pe],!0,oe)),ee?(X==="content"&&(Ie-=C.css(O,"padding"+Pt[pe],!0,oe)),X!=="margin"&&(Ie-=C.css(O,"border"+Pt[pe]+"Width",!0,oe))):(Ie+=C.css(O,"padding"+Pt[pe],!0,oe),X!=="padding"?Ie+=C.css(O,"border"+Pt[pe]+"Width",!0,oe):He+=C.css(O,"border"+Pt[pe]+"Width",!0,oe));return!ee&&re>=0&&(Ie+=Math.max(0,Math.ceil(O["offset"+U[0].toUpperCase()+U.slice(1)]-re-Ie-He-.5))||0),Ie+tt}function Ui(O,U,X){var ee=Wt(O),oe=!_.boxSizingReliable()||X,re=oe&&C.css(O,"boxSizing",!1,ee)==="border-box",pe=re,He=Ve(O,U,ee),Ie="offset"+U[0].toUpperCase()+U.slice(1);if(St.test(He)){if(!X)return He;He="auto"}return(!_.boxSizingReliable()&&re||!_.reliableTrDimensions()&&F(O,"tr")||He==="auto"||!parseFloat(He)&&C.css(O,"display",!1,ee)==="inline")&&O.getClientRects().length&&(re=C.css(O,"boxSizing",!1,ee)==="border-box",pe=Ie in O,pe&&(He=O[Ie])),He=parseFloat(He)||0,He+Yn(O,U,X||(re?"border":"content"),pe,ee,He)+"px"}C.extend({cssHooks:{opacity:{get:function(O,U){if(U){var X=Ve(O,"opacity");return X===""?"1":X}}}},cssNumber:{animationIterationCount:!0,aspectRatio:!0,borderImageSlice:!0,columnCount:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,scale:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeMiterlimit:!0,strokeOpacity:!0},cssProps:{},style:function(O,U,X,ee){if(!(!O||O.nodeType===3||O.nodeType===8||!O.style)){var oe,re,pe,He=en(U),Ie=an.test(U),tt=O.style;if(Ie||(U=Jt(He)),pe=C.cssHooks[U]||C.cssHooks[He],X!==void 0){if(re=typeof X,re==="string"&&(oe=An.exec(X))&&oe[1]&&(X=Xt(O,U,oe),re="number"),X==null||X!==X)return;re==="number"&&!Ie&&(X+=oe&&oe[3]||(C.cssNumber[He]?"":"px")),!_.clearCloneStyle&&X===""&&U.indexOf("background")===0&&(tt[U]="inherit"),(!pe||!("set"in pe)||(X=pe.set(O,X,ee))!==void 0)&&(Ie?tt.setProperty(U,X):tt[U]=X)}else return pe&&"get"in pe&&(oe=pe.get(O,!1,ee))!==void 0?oe:tt[U]}},css:function(O,U,X,ee){var oe,re,pe,He=en(U),Ie=an.test(U);return Ie||(U=Jt(He)),pe=C.cssHooks[U]||C.cssHooks[He],pe&&"get"in pe&&(oe=pe.get(O,!0,X)),oe===void 0&&(oe=Ve(O,U,ee)),oe==="normal"&&U in hn&&(oe=hn[U]),X===""||X?(re=parseFloat(oe),X===!0||isFinite(re)?re||0:oe):oe}}),C.each(["height","width"],function(O,U){C.cssHooks[U]={get:function(X,ee,oe){if(ee)return Nn.test(C.css(X,"display"))&&(!X.getClientRects().length||!X.getBoundingClientRect().width)?fe(X,Rn,function(){return Ui(X,U,oe)}):Ui(X,U,oe)},set:function(X,ee,oe){var re,pe=Wt(X),He=!_.scrollboxSize()&&pe.position==="absolute",Ie=He||oe,tt=Ie&&C.css(X,"boxSizing",!1,pe)==="border-box",Rt=oe?Yn(X,U,oe,tt,pe):0;return tt&&He&&(Rt-=Math.ceil(X["offset"+U[0].toUpperCase()+U.slice(1)]-parseFloat(pe[U])-Yn(X,U,"border",!1,pe)-.5)),Rt&&(re=An.exec(ee))&&(re[3]||"px")!=="px"&&(X.style[U]=ee,ee=C.css(X,U)),Un(X,ee,Rt)}}}),C.cssHooks.marginLeft=je(_.reliableMarginLeft,function(O,U){if(U)return(parseFloat(Ve(O,"marginLeft"))||O.getBoundingClientRect().left-fe(O,{marginLeft:0},function(){return O.getBoundingClientRect().left}))+"px"}),C.each({margin:"",padding:"",border:"Width"},function(O,U){C.cssHooks[O+U]={expand:function(X){for(var ee=0,oe={},re=typeof X=="string"?X.split(" "):[X];ee<4;ee++)oe[O+Pt[ee]+U]=re[ee]||re[ee-2]||re[0];return oe}},O!=="margin"&&(C.cssHooks[O+U].set=Un)}),C.fn.extend({css:function(O,U){return At(this,function(X,ee,oe){var re,pe,He={},Ie=0;if(Array.isArray(ee)){for(re=Wt(X),pe=ee.length;Ie<pe;Ie++)He[ee[Ie]]=C.css(X,ee[Ie],!1,re);return He}return oe!==void 0?C.style(X,ee,oe):C.css(X,ee)},O,U,arguments.length>1)}});function En(O,U,X,ee,oe){return new En.prototype.init(O,U,X,ee,oe)}C.Tween=En,En.prototype={constructor:En,init:function(O,U,X,ee,oe,re){this.elem=O,this.prop=X,this.easing=oe||C.easing._default,this.options=U,this.start=this.now=this.cur(),this.end=ee,this.unit=re||(C.cssNumber[X]?"":"px")},cur:function(){var O=En.propHooks[this.prop];return O&&O.get?O.get(this):En.propHooks._default.get(this)},run:function(O){var U,X=En.propHooks[this.prop];return this.options.duration?this.pos=U=C.easing[this.easing](O,this.options.duration*O,0,1,this.options.duration):this.pos=U=O,this.now=(this.end-this.start)*U+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),X&&X.set?X.set(this):En.propHooks._default.set(this),this}},En.prototype.init.prototype=En.prototype,En.propHooks={_default:{get:function(O){var U;return O.elem.nodeType!==1||O.elem[O.prop]!=null&&O.elem.style[O.prop]==null?O.elem[O.prop]:(U=C.css(O.elem,O.prop,""),!U||U==="auto"?0:U)},set:function(O){C.fx.step[O.prop]?C.fx.step[O.prop](O):O.elem.nodeType===1&&(C.cssHooks[O.prop]||O.elem.style[Jt(O.prop)]!=null)?C.style(O.elem,O.prop,O.now+O.unit):O.elem[O.prop]=O.now}}},En.propHooks.scrollTop=En.propHooks.scrollLeft={set:function(O){O.elem.nodeType&&O.elem.parentNode&&(O.elem[O.prop]=O.now)}},C.easing={linear:function(O){return O},swing:function(O){return .5-Math.cos(O*Math.PI)/2},_default:"swing"},C.fx=En.prototype.init,C.fx.step={};var ri,K,$i=/^(?:toggle|show|hide)$/,ni=/queueHooks$/;function ci(){K&&(c.hidden===!1&&e.requestAnimationFrame?e.requestAnimationFrame(ci):e.setTimeout(ci,C.fx.interval),C.fx.tick())}function ct(){return e.setTimeout(function(){ri=void 0}),ri=Date.now()}function Je(O,U){var X,ee=0,oe={height:O};for(U=U?1:0;ee<4;ee+=2-U)X=Pt[ee],oe["margin"+X]=oe["padding"+X]=O;return U&&(oe.opacity=oe.width=O),oe}function wn(O,U,X){for(var ee,oe=($n.tweeners[U]||[]).concat($n.tweeners["*"]),re=0,pe=oe.length;re<pe;re++)if(ee=oe[re].call(X,U,O))return ee}function qn(O,U,X){var ee,oe,re,pe,He,Ie,tt,Rt,Vt="width"in U||"height"in U,_t=this,ln={},si=O.style,ve=O.nodeType&&lt(O),xe=ze.get(O,"fxshow");X.queue||(pe=C._queueHooks(O,"fx"),pe.unqueued==null&&(pe.unqueued=0,He=pe.empty.fire,pe.empty.fire=function(){pe.unqueued||He()}),pe.unqueued++,_t.always(function(){_t.always(function(){pe.unqueued--,C.queue(O,"fx").length||pe.empty.fire()})}));for(ee in U)if(oe=U[ee],$i.test(oe)){if(delete U[ee],re=re||oe==="toggle",oe===(ve?"hide":"show"))if(oe==="show"&&xe&&xe[ee]!==void 0)ve=!0;else continue;ln[ee]=xe&&xe[ee]||C.style(O,ee)}if(Ie=!C.isEmptyObject(U),!(!Ie&&C.isEmptyObject(ln))){Vt&&O.nodeType===1&&(X.overflow=[si.overflow,si.overflowX,si.overflowY],tt=xe&&xe.display,tt==null&&(tt=ze.get(O,"display")),Rt=C.css(O,"display"),Rt==="none"&&(tt?Rt=tt:($t([O],!0),tt=O.style.display||tt,Rt=C.css(O,"display"),$t([O]))),(Rt==="inline"||Rt==="inline-block"&&tt!=null)&&C.css(O,"float")==="none"&&(Ie||(_t.done(function(){si.display=tt}),tt==null&&(Rt=si.display,tt=Rt==="none"?"":Rt)),si.display="inline-block")),X.overflow&&(si.overflow="hidden",_t.always(function(){si.overflow=X.overflow[0],si.overflowX=X.overflow[1],si.overflowY=X.overflow[2]})),Ie=!1;for(ee in ln)Ie||(xe?"hidden"in xe&&(ve=xe.hidden):xe=ze.access(O,"fxshow",{display:tt}),re&&(xe.hidden=!ve),ve&&$t([O],!0),_t.done(function(){ve||$t([O]),ze.remove(O,"fxshow");for(ee in ln)C.style(O,ee,ln[ee])})),Ie=wn(ve?xe[ee]:0,ee,_t),ee in xe||(xe[ee]=Ie.start,ve&&(Ie.end=Ie.start,Ie.start=0))}}function yi(O,U){var X,ee,oe,re,pe;for(X in O)if(ee=en(X),oe=U[ee],re=O[X],Array.isArray(re)&&(oe=re[1],re=O[X]=re[0]),X!==ee&&(O[ee]=re,delete O[X]),pe=C.cssHooks[ee],pe&&"expand"in pe){re=pe.expand(re),delete O[ee];for(X in re)X in O||(O[X]=re[X],U[X]=oe)}else U[ee]=oe}function $n(O,U,X){var ee,oe,re=0,pe=$n.prefilters.length,He=C.Deferred().always(function(){delete Ie.elem}),Ie=function(){if(oe)return!1;for(var Vt=ri||ct(),_t=Math.max(0,tt.startTime+tt.duration-Vt),ln=_t/tt.duration||0,si=1-ln,ve=0,xe=tt.tweens.length;ve<xe;ve++)tt.tweens[ve].run(si);return He.notifyWith(O,[tt,si,_t]),si<1&&xe?_t:(xe||He.notifyWith(O,[tt,1,0]),He.resolveWith(O,[tt]),!1)},tt=He.promise({elem:O,props:C.extend({},U),opts:C.extend(!0,{specialEasing:{},easing:C.easing._default},X),originalProperties:U,originalOptions:X,startTime:ri||ct(),duration:X.duration,tweens:[],createTween:function(Vt,_t){var ln=C.Tween(O,tt.opts,Vt,_t,tt.opts.specialEasing[Vt]||tt.opts.easing);return tt.tweens.push(ln),ln},stop:function(Vt){var _t=0,ln=Vt?tt.tweens.length:0;if(oe)return this;for(oe=!0;_t<ln;_t++)tt.tweens[_t].run(1);return Vt?(He.notifyWith(O,[tt,1,0]),He.resolveWith(O,[tt,Vt])):He.rejectWith(O,[tt,Vt]),this}}),Rt=tt.props;for(yi(Rt,tt.opts.specialEasing);re<pe;re++)if(ee=$n.prefilters[re].call(tt,O,Rt,tt.opts),ee)return p(ee.stop)&&(C._queueHooks(tt.elem,tt.opts.queue).stop=ee.stop.bind(ee)),ee;return C.map(Rt,wn,tt),p(tt.opts.start)&&tt.opts.start.call(O,tt),tt.progress(tt.opts.progress).done(tt.opts.done,tt.opts.complete).fail(tt.opts.fail).always(tt.opts.always),C.fx.timer(C.extend(Ie,{elem:O,anim:tt,queue:tt.opts.queue})),tt}C.Animation=C.extend($n,{tweeners:{"*":[function(O,U){var X=this.createTween(O,U);return Xt(X.elem,O,An.exec(U),X),X}]},tweener:function(O,U){p(O)?(U=O,O=["*"]):O=O.match(ot);for(var X,ee=0,oe=O.length;ee<oe;ee++)X=O[ee],$n.tweeners[X]=$n.tweeners[X]||[],$n.tweeners[X].unshift(U)},prefilters:[qn],prefilter:function(O,U){U?$n.prefilters.unshift(O):$n.prefilters.push(O)}}),C.speed=function(O,U,X){var ee=O&&typeof O=="object"?C.extend({},O):{complete:X||!X&&U||p(O)&&O,duration:O,easing:X&&U||U&&!p(U)&&U};return C.fx.off?ee.duration=0:typeof ee.duration!="number"&&(ee.duration in C.fx.speeds?ee.duration=C.fx.speeds[ee.duration]:ee.duration=C.fx.speeds._default),(ee.queue==null||ee.queue===!0)&&(ee.queue="fx"),ee.old=ee.complete,ee.complete=function(){p(ee.old)&&ee.old.call(this),ee.queue&&C.dequeue(this,ee.queue)},ee},C.fn.extend({fadeTo:function(O,U,X,ee){return this.filter(lt).css("opacity",0).show().end().animate({opacity:U},O,X,ee)},animate:function(O,U,X,ee){var oe=C.isEmptyObject(O),re=C.speed(U,X,ee),pe=function(){var He=$n(this,C.extend({},O),re);(oe||ze.get(this,"finish"))&&He.stop(!0)};return pe.finish=pe,oe||re.queue===!1?this.each(pe):this.queue(re.queue,pe)},stop:function(O,U,X){var ee=function(oe){var re=oe.stop;delete oe.stop,re(X)};return typeof O!="string"&&(X=U,U=O,O=void 0),U&&this.queue(O||"fx",[]),this.each(function(){var oe=!0,re=O!=null&&O+"queueHooks",pe=C.timers,He=ze.get(this);if(re)He[re]&&He[re].stop&&ee(He[re]);else for(re in He)He[re]&&He[re].stop&&ni.test(re)&&ee(He[re]);for(re=pe.length;re--;)pe[re].elem===this&&(O==null||pe[re].queue===O)&&(pe[re].anim.stop(X),oe=!1,pe.splice(re,1));(oe||!X)&&C.dequeue(this,O)})},finish:function(O){return O!==!1&&(O=O||"fx"),this.each(function(){var U,X=ze.get(this),ee=X[O+"queue"],oe=X[O+"queueHooks"],re=C.timers,pe=ee?ee.length:0;for(X.finish=!0,C.queue(this,O,[]),oe&&oe.stop&&oe.stop.call(this,!0),U=re.length;U--;)re[U].elem===this&&re[U].queue===O&&(re[U].anim.stop(!0),re.splice(U,1));for(U=0;U<pe;U++)ee[U]&&ee[U].finish&&ee[U].finish.call(this);delete X.finish})}}),C.each(["toggle","show","hide"],function(O,U){var X=C.fn[U];C.fn[U]=function(ee,oe,re){return ee==null||typeof ee=="boolean"?X.apply(this,arguments):this.animate(Je(U,!0),ee,oe,re)}}),C.each({slideDown:Je("show"),slideUp:Je("hide"),slideToggle:Je("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(O,U){C.fn[O]=function(X,ee,oe){return this.animate(U,X,ee,oe)}}),C.timers=[],C.fx.tick=function(){var O,U=0,X=C.timers;for(ri=Date.now();U<X.length;U++)O=X[U],!O()&&X[U]===O&&X.splice(U--,1);X.length||C.fx.stop(),ri=void 0},C.fx.timer=function(O){C.timers.push(O),C.fx.start()},C.fx.interval=13,C.fx.start=function(){K||(K=!0,ci())},C.fx.stop=function(){K=null},C.fx.speeds={slow:600,fast:200,_default:400},C.fn.delay=function(O,U){return O=C.fx&&C.fx.speeds[O]||O,U=U||"fx",this.queue(U,function(X,ee){var oe=e.setTimeout(X,O);ee.stop=function(){e.clearTimeout(oe)}})},(function(){var O=c.createElement("input"),U=c.createElement("select"),X=U.appendChild(c.createElement("option"));O.type="checkbox",_.checkOn=O.value!=="",_.optSelected=X.selected,O=c.createElement("input"),O.value="t",O.type="radio",_.radioValue=O.value==="t"})();var ji,Ht=C.expr.attrHandle;C.fn.extend({attr:function(O,U){return At(this,C.attr,O,U,arguments.length>1)},removeAttr:function(O){return this.each(function(){C.removeAttr(this,O)})}}),C.extend({attr:function(O,U,X){var ee,oe,re=O.nodeType;if(!(re===3||re===8||re===2)){if(typeof O.getAttribute>"u")return C.prop(O,U,X);if((re!==1||!C.isXMLDoc(O))&&(oe=C.attrHooks[U.toLowerCase()]||(C.expr.match.bool.test(U)?ji:void 0)),X!==void 0){if(X===null){C.removeAttr(O,U);return}return oe&&"set"in oe&&(ee=oe.set(O,X,U))!==void 0?ee:(O.setAttribute(U,X+""),X)}return oe&&"get"in oe&&(ee=oe.get(O,U))!==null?ee:(ee=C.find.attr(O,U),ee??void 0)}},attrHooks:{type:{set:function(O,U){if(!_.radioValue&&U==="radio"&&F(O,"input")){var X=O.value;return O.setAttribute("type",U),X&&(O.value=X),U}}}},removeAttr:function(O,U){var X,ee=0,oe=U&&U.match(ot);if(oe&&O.nodeType===1)for(;X=oe[ee++];)O.removeAttribute(X)}}),ji={set:function(O,U,X){return U===!1?C.removeAttr(O,X):O.setAttribute(X,X),X}},C.each(C.expr.match.bool.source.match(/\w+/g),function(O,U){var X=Ht[U]||C.find.attr;Ht[U]=function(ee,oe,re){var pe,He,Ie=oe.toLowerCase();return re||(He=Ht[Ie],Ht[Ie]=pe,pe=X(ee,oe,re)!=null?Ie:null,Ht[Ie]=He),pe}});var gs=/^(?:input|select|textarea|button)$/i,$s=/^(?:a|area)$/i;C.fn.extend({prop:function(O,U){return At(this,C.prop,O,U,arguments.length>1)},removeProp:function(O){return this.each(function(){delete this[C.propFix[O]||O]})}}),C.extend({prop:function(O,U,X){var ee,oe,re=O.nodeType;if(!(re===3||re===8||re===2))return(re!==1||!C.isXMLDoc(O))&&(U=C.propFix[U]||U,oe=C.propHooks[U]),X!==void 0?oe&&"set"in oe&&(ee=oe.set(O,X,U))!==void 0?ee:O[U]=X:oe&&"get"in oe&&(ee=oe.get(O,U))!==null?ee:O[U]},propHooks:{tabIndex:{get:function(O){var U=C.find.attr(O,"tabindex");return U?parseInt(U,10):gs.test(O.nodeName)||$s.test(O.nodeName)&&O.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),_.optSelected||(C.propHooks.selected={get:function(O){var U=O.parentNode;return U&&U.parentNode&&U.parentNode.selectedIndex,null},set:function(O){var U=O.parentNode;U&&(U.selectedIndex,U.parentNode&&U.parentNode.selectedIndex)}}),C.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){C.propFix[this.toLowerCase()]=this});function ao(O){var U=O.match(ot)||[];return U.join(" ")}function Dr(O){return O.getAttribute&&O.getAttribute("class")||""}function Zs(O){return Array.isArray(O)?O:typeof O=="string"?O.match(ot)||[]:[]}C.fn.extend({addClass:function(O){var U,X,ee,oe,re,pe;return p(O)?this.each(function(He){C(this).addClass(O.call(this,He,Dr(this)))}):(U=Zs(O),U.length?this.each(function(){if(ee=Dr(this),X=this.nodeType===1&&" "+ao(ee)+" ",X){for(re=0;re<U.length;re++)oe=U[re],X.indexOf(" "+oe+" ")<0&&(X+=oe+" ");pe=ao(X),ee!==pe&&this.setAttribute("class",pe)}}):this)},removeClass:function(O){var U,X,ee,oe,re,pe;return p(O)?this.each(function(He){C(this).removeClass(O.call(this,He,Dr(this)))}):arguments.length?(U=Zs(O),U.length?this.each(function(){if(ee=Dr(this),X=this.nodeType===1&&" "+ao(ee)+" ",X){for(re=0;re<U.length;re++)for(oe=U[re];X.indexOf(" "+oe+" ")>-1;)X=X.replace(" "+oe+" "," ");pe=ao(X),ee!==pe&&this.setAttribute("class",pe)}}):this):this.attr("class","")},toggleClass:function(O,U){var X,ee,oe,re,pe=typeof O,He=pe==="string"||Array.isArray(O);return p(O)?this.each(function(Ie){C(this).toggleClass(O.call(this,Ie,Dr(this),U),U)}):typeof U=="boolean"&&He?U?this.addClass(O):this.removeClass(O):(X=Zs(O),this.each(function(){if(He)for(re=C(this),oe=0;oe<X.length;oe++)ee=X[oe],re.hasClass(ee)?re.removeClass(ee):re.addClass(ee);else(O===void 0||pe==="boolean")&&(ee=Dr(this),ee&&ze.set(this,"__className__",ee),this.setAttribute&&this.setAttribute("class",ee||O===!1?"":ze.get(this,"__className__")||""))}))},hasClass:function(O){var U,X,ee=0;for(U=" "+O+" ";X=this[ee++];)if(X.nodeType===1&&(" "+ao(Dr(X))+" ").indexOf(U)>-1)return!0;return!1}});var jo=/\r/g;C.fn.extend({val:function(O){var U,X,ee,oe=this[0];return arguments.length?(ee=p(O),this.each(function(re){var pe;this.nodeType===1&&(ee?pe=O.call(this,re,C(this).val()):pe=O,pe==null?pe="":typeof pe=="number"?pe+="":Array.isArray(pe)&&(pe=C.map(pe,function(He){return He==null?"":He+""})),U=C.valHooks[this.type]||C.valHooks[this.nodeName.toLowerCase()],(!U||!("set"in U)||U.set(this,pe,"value")===void 0)&&(this.value=pe))})):oe?(U=C.valHooks[oe.type]||C.valHooks[oe.nodeName.toLowerCase()],U&&"get"in U&&(X=U.get(oe,"value"))!==void 0?X:(X=oe.value,typeof X=="string"?X.replace(jo,""):X??"")):void 0}}),C.extend({valHooks:{option:{get:function(O){var U=C.find.attr(O,"value");return U??ao(C.text(O))}},select:{get:function(O){var U,X,ee,oe=O.options,re=O.selectedIndex,pe=O.type==="select-one",He=pe?null:[],Ie=pe?re+1:oe.length;for(re<0?ee=Ie:ee=pe?re:0;ee<Ie;ee++)if(X=oe[ee],(X.selected||ee===re)&&!X.disabled&&(!X.parentNode.disabled||!F(X.parentNode,"optgroup"))){if(U=C(X).val(),pe)return U;He.push(U)}return He},set:function(O,U){for(var X,ee,oe=O.options,re=C.makeArray(U),pe=oe.length;pe--;)ee=oe[pe],(ee.selected=C.inArray(C.valHooks.option.get(ee),re)>-1)&&(X=!0);return X||(O.selectedIndex=-1),re}}}}),C.each(["radio","checkbox"],function(){C.valHooks[this]={set:function(O,U){if(Array.isArray(U))return O.checked=C.inArray(C(O).val(),U)>-1}},_.checkOn||(C.valHooks[this].get=function(O){return O.getAttribute("value")===null?"on":O.value})});var Ua=e.location,Qs={guid:Date.now()},Qa=/\?/;C.parseXML=function(O){var U,X;if(!O||typeof O!="string")return null;try{U=new e.DOMParser().parseFromString(O,"text/xml")}catch{}return X=U&&U.getElementsByTagName("parsererror")[0],(!U||X)&&C.error("Invalid XML: "+(X?C.map(X.childNodes,function(ee){return ee.textContent}).join(`
`):O)),U};var Js=/^(?:focusinfocus|focusoutblur)$/,lo=function(O){O.stopPropagation()};C.extend(C.event,{trigger:function(O,U,X,ee){var oe,re,pe,He,Ie,tt,Rt,Vt,_t=[X||c],ln=d.call(O,"type")?O.type:O,si=d.call(O,"namespace")?O.namespace.split("."):[];if(re=Vt=pe=X=X||c,!(X.nodeType===3||X.nodeType===8)&&!Js.test(ln+C.event.triggered)&&(ln.indexOf(".")>-1&&(si=ln.split("."),ln=si.shift(),si.sort()),Ie=ln.indexOf(":")<0&&"on"+ln,O=O[C.expando]?O:new C.Event(ln,typeof O=="object"&&O),O.isTrigger=ee?2:3,O.namespace=si.join("."),O.rnamespace=O.namespace?new RegExp("(^|\\.)"+si.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,O.result=void 0,O.target||(O.target=X),U=U==null?[O]:C.makeArray(U,[O]),Rt=C.event.special[ln]||{},!(!ee&&Rt.trigger&&Rt.trigger.apply(X,U)===!1))){if(!ee&&!Rt.noBubble&&!v(X)){for(He=Rt.delegateType||ln,Js.test(He+ln)||(re=re.parentNode);re;re=re.parentNode)_t.push(re),pe=re;pe===(X.ownerDocument||c)&&_t.push(pe.defaultView||pe.parentWindow||e)}for(oe=0;(re=_t[oe++])&&!O.isPropagationStopped();)Vt=re,O.type=oe>1?He:Rt.bindType||ln,tt=(ze.get(re,"events")||Object.create(null))[O.type]&&ze.get(re,"handle"),tt&&tt.apply(re,U),tt=Ie&&re[Ie],tt&&tt.apply&&_e(re)&&(O.result=tt.apply(re,U),O.result===!1&&O.preventDefault());return O.type=ln,!ee&&!O.isDefaultPrevented()&&(!Rt._default||Rt._default.apply(_t.pop(),U)===!1)&&_e(X)&&Ie&&p(X[ln])&&!v(X)&&(pe=X[Ie],pe&&(X[Ie]=null),C.event.triggered=ln,O.isPropagationStopped()&&Vt.addEventListener(ln,lo),X[ln](),O.isPropagationStopped()&&Vt.removeEventListener(ln,lo),C.event.triggered=void 0,pe&&(X[Ie]=pe)),O.result}},simulate:function(O,U,X){var ee=C.extend(new C.Event,X,{type:O,isSimulated:!0});C.event.trigger(ee,null,U)}}),C.fn.extend({trigger:function(O,U){return this.each(function(){C.event.trigger(O,U,this)})},triggerHandler:function(O,U){var X=this[0];if(X)return C.event.trigger(O,U,X,!0)}});var wa=/\[\]$/,ca=/\r?\n/g,Ca=/^(?:submit|button|image|reset|file)$/i,ka=/^(?:input|select|textarea|keygen)/i;function ua(O,U,X,ee){var oe;if(Array.isArray(U))C.each(U,function(re,pe){X||wa.test(O)?ee(O,pe):ua(O+"["+(typeof pe=="object"&&pe!=null?re:"")+"]",pe,X,ee)});else if(!X&&T(U)==="object")for(oe in U)ua(O+"["+oe+"]",U[oe],X,ee);else ee(O,U)}C.param=function(O,U){var X,ee=[],oe=function(re,pe){var He=p(pe)?pe():pe;ee[ee.length]=encodeURIComponent(re)+"="+encodeURIComponent(He??"")};if(O==null)return"";if(Array.isArray(O)||O.jquery&&!C.isPlainObject(O))C.each(O,function(){oe(this.name,this.value)});else for(X in O)ua(X,O[X],U,oe);return ee.join("&")},C.fn.extend({serialize:function(){return C.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var O=C.prop(this,"elements");return O?C.makeArray(O):this}).filter(function(){var O=this.type;return this.name&&!C(this).is(":disabled")&&ka.test(this.nodeName)&&!Ca.test(O)&&(this.checked||!gn.test(O))}).map(function(O,U){var X=C(this).val();return X==null?null:Array.isArray(X)?C.map(X,function(ee){return{name:U.name,value:ee.replace(ca,`\r
`)}}):{name:U.name,value:X.replace(ca,`\r
`)}}).get()}});var Po=/%20/g,Ja=/#.*$/,No=/([?&])_=[^&]*/,ha=/^(.*?):[ \t]*([^\r\n]*)$/mg,Bl=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,el=/^(?:GET|HEAD)$/,tl=/^\/\//,Io={},Fs={},jr="*/".concat("*"),vs=c.createElement("a");vs.href=Ua.href;function Rr(O){return function(U,X){typeof U!="string"&&(X=U,U="*");var ee,oe=0,re=U.toLowerCase().match(ot)||[];if(p(X))for(;ee=re[oe++];)ee[0]==="+"?(ee=ee.slice(1)||"*",(O[ee]=O[ee]||[]).unshift(X)):(O[ee]=O[ee]||[]).push(X)}}function co(O,U,X,ee){var oe={},re=O===Fs;function pe(He){var Ie;return oe[He]=!0,C.each(O[He]||[],function(tt,Rt){var Vt=Rt(U,X,ee);if(typeof Vt=="string"&&!re&&!oe[Vt])return U.dataTypes.unshift(Vt),pe(Vt),!1;if(re)return!(Ie=Vt)}),Ie}return pe(U.dataTypes[0])||!oe["*"]&&pe("*")}function Xo(O,U){var X,ee,oe=C.ajaxSettings.flatOptions||{};for(X in U)U[X]!==void 0&&((oe[X]?O:ee||(ee={}))[X]=U[X]);return ee&&C.extend(!0,O,ee),O}function Ta(O,U,X){for(var ee,oe,re,pe,He=O.contents,Ie=O.dataTypes;Ie[0]==="*";)Ie.shift(),ee===void 0&&(ee=O.mimeType||U.getResponseHeader("Content-Type"));if(ee){for(oe in He)if(He[oe]&&He[oe].test(ee)){Ie.unshift(oe);break}}if(Ie[0]in X)re=Ie[0];else{for(oe in X){if(!Ie[0]||O.converters[oe+" "+Ie[0]]){re=oe;break}pe||(pe=oe)}re=re||pe}if(re)return re!==Ie[0]&&Ie.unshift(re),X[re]}function eo(O,U,X,ee){var oe,re,pe,He,Ie,tt={},Rt=O.dataTypes.slice();if(Rt[1])for(pe in O.converters)tt[pe.toLowerCase()]=O.converters[pe];for(re=Rt.shift();re;)if(O.responseFields[re]&&(X[O.responseFields[re]]=U),!Ie&&ee&&O.dataFilter&&(U=O.dataFilter(U,O.dataType)),Ie=re,re=Rt.shift(),re){if(re==="*")re=Ie;else if(Ie!=="*"&&Ie!==re){if(pe=tt[Ie+" "+re]||tt["* "+re],!pe){for(oe in tt)if(He=oe.split(" "),He[1]===re&&(pe=tt[Ie+" "+He[0]]||tt["* "+He[0]],pe)){pe===!0?pe=tt[oe]:tt[oe]!==!0&&(re=He[0],Rt.unshift(He[1]));break}}if(pe!==!0)if(pe&&O.throws)U=pe(U);else try{U=pe(U)}catch(Vt){return{state:"parsererror",error:pe?Vt:"No conversion from "+Ie+" to "+re}}}}return{state:"success",data:U}}C.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Ua.href,type:"GET",isLocal:Bl.test(Ua.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":jr,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":C.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(O,U){return U?Xo(Xo(O,C.ajaxSettings),U):Xo(C.ajaxSettings,O)},ajaxPrefilter:Rr(Io),ajaxTransport:Rr(Fs),ajax:function(O,U){typeof O=="object"&&(U=O,O=void 0),U=U||{};var X,ee,oe,re,pe,He,Ie,tt,Rt,Vt,_t=C.ajaxSetup({},U),ln=_t.context||_t,si=_t.context&&(ln.nodeType||ln.jquery)?C(ln):C.event,ve=C.Deferred(),xe=C.Callbacks("once memory"),$e=_t.statusCode||{},Pe={},Ue={},qt="canceled",kt={readyState:0,getResponseHeader:function(vn){var Mn;if(Ie){if(!re)for(re={};Mn=ha.exec(oe);)re[Mn[1].toLowerCase()+" "]=(re[Mn[1].toLowerCase()+" "]||[]).concat(Mn[2]);Mn=re[vn.toLowerCase()+" "]}return Mn==null?null:Mn.join(", ")},getAllResponseHeaders:function(){return Ie?oe:null},setRequestHeader:function(vn,Mn){return Ie==null&&(vn=Ue[vn.toLowerCase()]=Ue[vn.toLowerCase()]||vn,Pe[vn]=Mn),this},overrideMimeType:function(vn){return Ie==null&&(_t.mimeType=vn),this},statusCode:function(vn){var Mn;if(vn)if(Ie)kt.always(vn[kt.status]);else for(Mn in vn)$e[Mn]=[$e[Mn],vn[Mn]];return this},abort:function(vn){var Mn=vn||qt;return X&&X.abort(Mn),Zt(0,Mn),this}};if(ve.promise(kt),_t.url=((O||_t.url||Ua.href)+"").replace(tl,Ua.protocol+"//"),_t.type=U.method||U.type||_t.method||_t.type,_t.dataTypes=(_t.dataType||"*").toLowerCase().match(ot)||[""],_t.crossDomain==null){He=c.createElement("a");try{He.href=_t.url,He.href=He.href,_t.crossDomain=vs.protocol+"//"+vs.host!=He.protocol+"//"+He.host}catch{_t.crossDomain=!0}}if(_t.data&&_t.processData&&typeof _t.data!="string"&&(_t.data=C.param(_t.data,_t.traditional)),co(Io,_t,U,kt),Ie)return kt;tt=C.event&&_t.global,tt&&C.active++===0&&C.event.trigger("ajaxStart"),_t.type=_t.type.toUpperCase(),_t.hasContent=!el.test(_t.type),ee=_t.url.replace(Ja,""),_t.hasContent?_t.data&&_t.processData&&(_t.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&(_t.data=_t.data.replace(Po,"+")):(Vt=_t.url.slice(ee.length),_t.data&&(_t.processData||typeof _t.data=="string")&&(ee+=(Qa.test(ee)?"&":"?")+_t.data,delete _t.data),_t.cache===!1&&(ee=ee.replace(No,"$1"),Vt=(Qa.test(ee)?"&":"?")+"_="+Qs.guid+++Vt),_t.url=ee+Vt),_t.ifModified&&(C.lastModified[ee]&&kt.setRequestHeader("If-Modified-Since",C.lastModified[ee]),C.etag[ee]&&kt.setRequestHeader("If-None-Match",C.etag[ee])),(_t.data&&_t.hasContent&&_t.contentType!==!1||U.contentType)&&kt.setRequestHeader("Content-Type",_t.contentType),kt.setRequestHeader("Accept",_t.dataTypes[0]&&_t.accepts[_t.dataTypes[0]]?_t.accepts[_t.dataTypes[0]]+(_t.dataTypes[0]!=="*"?", "+jr+"; q=0.01":""):_t.accepts["*"]);for(Rt in _t.headers)kt.setRequestHeader(Rt,_t.headers[Rt]);if(_t.beforeSend&&(_t.beforeSend.call(ln,kt,_t)===!1||Ie))return kt.abort();if(qt="abort",xe.add(_t.complete),kt.done(_t.success),kt.fail(_t.error),X=co(Fs,_t,U,kt),!X)Zt(-1,"No Transport");else{if(kt.readyState=1,tt&&si.trigger("ajaxSend",[kt,_t]),Ie)return kt;_t.async&&_t.timeout>0&&(pe=e.setTimeout(function(){kt.abort("timeout")},_t.timeout));try{Ie=!1,X.send(Pe,Zt)}catch(vn){if(Ie)throw vn;Zt(-1,vn)}}function Zt(vn,Mn,ui,qi){var ai,Er,Ki,bn,hi,Qn=Mn;Ie||(Ie=!0,pe&&e.clearTimeout(pe),X=void 0,oe=qi||"",kt.readyState=vn>0?4:0,ai=vn>=200&&vn<300||vn===304,ui&&(bn=Ta(_t,kt,ui)),!ai&&C.inArray("script",_t.dataTypes)>-1&&C.inArray("json",_t.dataTypes)<0&&(_t.converters["text script"]=function(){}),bn=eo(_t,bn,kt,ai),ai?(_t.ifModified&&(hi=kt.getResponseHeader("Last-Modified"),hi&&(C.lastModified[ee]=hi),hi=kt.getResponseHeader("etag"),hi&&(C.etag[ee]=hi)),vn===204||_t.type==="HEAD"?Qn="nocontent":vn===304?Qn="notmodified":(Qn=bn.state,Er=bn.data,Ki=bn.error,ai=!Ki)):(Ki=Qn,(vn||!Qn)&&(Qn="error",vn<0&&(vn=0))),kt.status=vn,kt.statusText=(Mn||Qn)+"",ai?ve.resolveWith(ln,[Er,Qn,kt]):ve.rejectWith(ln,[kt,Qn,Ki]),kt.statusCode($e),$e=void 0,tt&&si.trigger(ai?"ajaxSuccess":"ajaxError",[kt,_t,ai?Er:Ki]),xe.fireWith(ln,[kt,Qn]),tt&&(si.trigger("ajaxComplete",[kt,_t]),--C.active||C.event.trigger("ajaxStop")))}return kt},getJSON:function(O,U,X){return C.get(O,U,X,"json")},getScript:function(O,U){return C.get(O,void 0,U,"script")}}),C.each(["get","post"],function(O,U){C[U]=function(X,ee,oe,re){return p(ee)&&(re=re||oe,oe=ee,ee=void 0),C.ajax(C.extend({url:X,type:U,dataType:re,data:ee,success:oe},C.isPlainObject(X)&&X))}}),C.ajaxPrefilter(function(O){var U;for(U in O.headers)U.toLowerCase()==="content-type"&&(O.contentType=O.headers[U]||"")}),C._evalUrl=function(O,U,X){return C.ajax({url:O,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(ee){C.globalEval(ee,U,X)}})},C.fn.extend({wrapAll:function(O){var U;return this[0]&&(p(O)&&(O=O.call(this[0])),U=C(O,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&U.insertBefore(this[0]),U.map(function(){for(var X=this;X.firstElementChild;)X=X.firstElementChild;return X}).append(this)),this},wrapInner:function(O){return p(O)?this.each(function(U){C(this).wrapInner(O.call(this,U))}):this.each(function(){var U=C(this),X=U.contents();X.length?X.wrapAll(O):U.append(O)})},wrap:function(O){var U=p(O);return this.each(function(X){C(this).wrapAll(U?O.call(this,X):O)})},unwrap:function(O){return this.parent(O).not("body").each(function(){C(this).replaceWith(this.childNodes)}),this}}),C.expr.pseudos.hidden=function(O){return!C.expr.pseudos.visible(O)},C.expr.pseudos.visible=function(O){return!!(O.offsetWidth||O.offsetHeight||O.getClientRects().length)},C.ajaxSettings.xhr=function(){try{return new e.XMLHttpRequest}catch{}};var xn={0:200,1223:204},A=C.ajaxSettings.xhr();_.cors=!!A&&"withCredentials"in A,_.ajax=A=!!A,C.ajaxTransport(function(O){var U,X;if(_.cors||A&&!O.crossDomain)return{send:function(ee,oe){var re,pe=O.xhr();if(pe.open(O.type,O.url,O.async,O.username,O.password),O.xhrFields)for(re in O.xhrFields)pe[re]=O.xhrFields[re];O.mimeType&&pe.overrideMimeType&&pe.overrideMimeType(O.mimeType),!O.crossDomain&&!ee["X-Requested-With"]&&(ee["X-Requested-With"]="XMLHttpRequest");for(re in ee)pe.setRequestHeader(re,ee[re]);U=function(He){return function(){U&&(U=X=pe.onload=pe.onerror=pe.onabort=pe.ontimeout=pe.onreadystatechange=null,He==="abort"?pe.abort():He==="error"?typeof pe.status!="number"?oe(0,"error"):oe(pe.status,pe.statusText):oe(xn[pe.status]||pe.status,pe.statusText,(pe.responseType||"text")!=="text"||typeof pe.responseText!="string"?{binary:pe.response}:{text:pe.responseText},pe.getAllResponseHeaders()))}},pe.onload=U(),X=pe.onerror=pe.ontimeout=U("error"),pe.onabort!==void 0?pe.onabort=X:pe.onreadystatechange=function(){pe.readyState===4&&e.setTimeout(function(){U&&X()})},U=U("abort");try{pe.send(O.hasContent&&O.data||null)}catch(He){if(U)throw He}},abort:function(){U&&U()}}}),C.ajaxPrefilter(function(O){O.crossDomain&&(O.contents.script=!1)}),C.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(O){return C.globalEval(O),O}}}),C.ajaxPrefilter("script",function(O){O.cache===void 0&&(O.cache=!1),O.crossDomain&&(O.type="GET")}),C.ajaxTransport("script",function(O){if(O.crossDomain||O.scriptAttrs){var U,X;return{send:function(ee,oe){U=C("<script>").attr(O.scriptAttrs||{}).prop({charset:O.scriptCharset,src:O.url}).on("load error",X=function(re){U.remove(),X=null,re&&oe(re.type==="error"?404:200,re.type)}),c.head.appendChild(U[0])},abort:function(){X&&X()}}}});var B=[],J=/(=)\?(?=&|$)|\?\?/;C.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var O=B.pop()||C.expando+"_"+Qs.guid++;return this[O]=!0,O}}),C.ajaxPrefilter("json jsonp",function(O,U,X){var ee,oe,re,pe=O.jsonp!==!1&&(J.test(O.url)?"url":typeof O.data=="string"&&(O.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&J.test(O.data)&&"data");if(pe||O.dataTypes[0]==="jsonp")return ee=O.jsonpCallback=p(O.jsonpCallback)?O.jsonpCallback():O.jsonpCallback,pe?O[pe]=O[pe].replace(J,"$1"+ee):O.jsonp!==!1&&(O.url+=(Qa.test(O.url)?"&":"?")+O.jsonp+"="+ee),O.converters["script json"]=function(){return re||C.error(ee+" was not called"),re[0]},O.dataTypes[0]="json",oe=e[ee],e[ee]=function(){re=arguments},X.always(function(){oe===void 0?C(e).removeProp(ee):e[ee]=oe,O[ee]&&(O.jsonpCallback=U.jsonpCallback,B.push(ee)),re&&p(oe)&&oe(re[0]),re=oe=void 0}),"script"}),_.createHTMLDocument=(function(){var O=c.implementation.createHTMLDocument("").body;return O.innerHTML="<form></form><form></form>",O.childNodes.length===2})(),C.parseHTML=function(O,U,X){if(typeof O!="string")return[];typeof U=="boolean"&&(X=U,U=!1);var ee,oe,re;return U||(_.createHTMLDocument?(U=c.implementation.createHTMLDocument(""),ee=U.createElement("base"),ee.href=c.location.href,U.head.appendChild(ee)):U=c),oe=Se.exec(O),re=!X&&[],oe?[U.createElement(oe[1])]:(oe=Ar([O],U,re),re&&re.length&&C(re).remove(),C.merge([],oe.childNodes))},C.fn.load=function(O,U,X){var ee,oe,re,pe=this,He=O.indexOf(" ");return He>-1&&(ee=ao(O.slice(He)),O=O.slice(0,He)),p(U)?(X=U,U=void 0):U&&typeof U=="object"&&(oe="POST"),pe.length>0&&C.ajax({url:O,type:oe||"GET",dataType:"html",data:U}).done(function(Ie){re=arguments,pe.html(ee?C("<div>").append(C.parseHTML(Ie)).find(ee):Ie)}).always(X&&function(Ie,tt){pe.each(function(){X.apply(this,re||[Ie.responseText,tt,Ie])})}),this},C.expr.pseudos.animated=function(O){return C.grep(C.timers,function(U){return O===U.elem}).length},C.offset={setOffset:function(O,U,X){var ee,oe,re,pe,He,Ie,tt,Rt=C.css(O,"position"),Vt=C(O),_t={};Rt==="static"&&(O.style.position="relative"),He=Vt.offset(),re=C.css(O,"top"),Ie=C.css(O,"left"),tt=(Rt==="absolute"||Rt==="fixed")&&(re+Ie).indexOf("auto")>-1,tt?(ee=Vt.position(),pe=ee.top,oe=ee.left):(pe=parseFloat(re)||0,oe=parseFloat(Ie)||0),p(U)&&(U=U.call(O,X,C.extend({},He))),U.top!=null&&(_t.top=U.top-He.top+pe),U.left!=null&&(_t.left=U.left-He.left+oe),"using"in U?U.using.call(O,_t):Vt.css(_t)}},C.fn.extend({offset:function(O){if(arguments.length)return O===void 0?this:this.each(function(oe){C.offset.setOffset(this,O,oe)});var U,X,ee=this[0];if(ee)return ee.getClientRects().length?(U=ee.getBoundingClientRect(),X=ee.ownerDocument.defaultView,{top:U.top+X.pageYOffset,left:U.left+X.pageXOffset}):{top:0,left:0}},position:function(){if(this[0]){var O,U,X,ee=this[0],oe={top:0,left:0};if(C.css(ee,"position")==="fixed")U=ee.getBoundingClientRect();else{for(U=this.offset(),X=ee.ownerDocument,O=ee.offsetParent||X.documentElement;O&&(O===X.body||O===X.documentElement)&&C.css(O,"position")==="static";)O=O.parentNode;O&&O!==ee&&O.nodeType===1&&(oe=C(O).offset(),oe.top+=C.css(O,"borderTopWidth",!0),oe.left+=C.css(O,"borderLeftWidth",!0))}return{top:U.top-oe.top-C.css(ee,"marginTop",!0),left:U.left-oe.left-C.css(ee,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var O=this.offsetParent;O&&C.css(O,"position")==="static";)O=O.offsetParent;return O||on})}}),C.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(O,U){var X=U==="pageYOffset";C.fn[O]=function(ee){return At(this,function(oe,re,pe){var He;if(v(oe)?He=oe:oe.nodeType===9&&(He=oe.defaultView),pe===void 0)return He?He[U]:oe[re];He?He.scrollTo(X?He.pageXOffset:pe,X?pe:He.pageYOffset):oe[re]=pe},O,ee,arguments.length)}}),C.each(["top","left"],function(O,U){C.cssHooks[U]=je(_.pixelPosition,function(X,ee){if(ee)return ee=Ve(X,U),St.test(ee)?C(X).position()[U]+"px":ee})}),C.each({Height:"height",Width:"width"},function(O,U){C.each({padding:"inner"+O,content:U,"":"outer"+O},function(X,ee){C.fn[ee]=function(oe,re){var pe=arguments.length&&(X||typeof oe!="boolean"),He=X||(oe===!0||re===!0?"margin":"border");return At(this,function(Ie,tt,Rt){var Vt;return v(Ie)?ee.indexOf("outer")===0?Ie["inner"+O]:Ie.document.documentElement["client"+O]:Ie.nodeType===9?(Vt=Ie.documentElement,Math.max(Ie.body["scroll"+O],Vt["scroll"+O],Ie.body["offset"+O],Vt["offset"+O],Vt["client"+O])):Rt===void 0?C.css(Ie,tt,He):C.style(Ie,tt,Rt,He)},U,pe?oe:void 0,pe)}})}),C.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(O,U){C.fn[U]=function(X){return this.on(U,X)}}),C.fn.extend({bind:function(O,U,X){return this.on(O,null,U,X)},unbind:function(O,U){return this.off(O,null,U)},delegate:function(O,U,X,ee){return this.on(U,O,X,ee)},undelegate:function(O,U,X){return arguments.length===1?this.off(O,"**"):this.off(U,O||"**",X)},hover:function(O,U){return this.on("mouseenter",O).on("mouseleave",U||O)}}),C.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(O,U){C.fn[U]=function(X,ee){return arguments.length>0?this.on(U,null,X,ee):this.trigger(U)}});var Z=/^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g;C.proxy=function(O,U){var X,ee,oe;if(typeof U=="string"&&(X=O[U],U=O,O=X),!!p(O))return ee=s.call(arguments,2),oe=function(){return O.apply(U||this,ee.concat(s.call(arguments)))},oe.guid=O.guid=O.guid||C.guid++,oe},C.holdReady=function(O){O?C.readyWait++:C.ready(!0)},C.isArray=Array.isArray,C.parseJSON=JSON.parse,C.nodeName=F,C.isFunction=p,C.isWindow=v,C.camelCase=en,C.type=T,C.now=Date.now,C.isNumeric=function(O){var U=C.type(O);return(U==="number"||U==="string")&&!isNaN(O-parseFloat(O))},C.trim=function(O){return O==null?"":(O+"").replace(Z,"$1")};var be=e.jQuery,Ne=e.$;return C.noConflict=function(O){return e.$===C&&(e.$=Ne),O&&e.jQuery===C&&(e.jQuery=be),C},typeof t>"u"&&(e.jQuery=e.$=C),C})})(C1)),C1.exports}var EO;function t$(){if(EO)return ay;EO=1;const n=e$();return window.$=n,window.jQuery=n,(function(e,t,i,r){function s(o,l){this.settings=null,this.options=e.extend({},s.Defaults,l),this.$element=e(o),this._handlers={},this._plugins={},this._supress={},this._current=null,this._speed=null,this._coordinates=[],this._breakpoint=null,this._width=null,this._items=[],this._clones=[],this._mergers=[],this._widths=[],this._invalidated={},this._pipe=[],this._drag={time:null,target:null,pointer:null,stage:{start:null,current:null},direction:null},this._states={current:{},tags:{initializing:["busy"],animating:["busy"],dragging:["interacting"]}},e.each(["onResize","onThrottledResize"],e.proxy(function(a,u){this._handlers[u]=e.proxy(this[u],this)},this)),e.each(s.Plugins,e.proxy(function(a,u){this._plugins[a.charAt(0).toLowerCase()+a.slice(1)]=new u(this)},this)),e.each(s.Workers,e.proxy(function(a,u){this._pipe.push({filter:u.filter,run:e.proxy(u.run,this)})},this)),this.setup(),this.initialize()}s.Defaults={items:3,loop:!1,center:!1,rewind:!1,mouseDrag:!0,touchDrag:!0,pullDrag:!0,freeDrag:!1,margin:0,stagePadding:0,merge:!1,mergeFit:!0,autoWidth:!1,startPosition:0,rtl:!1,smartSpeed:250,fluidSpeed:!1,dragEndSpeed:!1,responsive:{},responsiveRefreshRate:200,responsiveBaseElement:t,fallbackEasing:"swing",info:!1,nestedItemSelector:!1,itemElement:"div",stageElement:"div",refreshClass:"owl-refresh",loadedClass:"owl-loaded",loadingClass:"owl-loading",rtlClass:"owl-rtl",responsiveClass:"owl-responsive",dragClass:"owl-drag",itemClass:"owl-item",stageClass:"owl-stage",stageOuterClass:"owl-stage-outer",grabClass:"owl-grab"},s.Width={Default:"default",Inner:"inner",Outer:"outer"},s.Type={Event:"event",State:"state"},s.Plugins={},s.Workers=[{filter:["width","settings"],run:function(){this._width=this.$element.width()}},{filter:["width","items","settings"],run:function(o){o.current=this._items&&this._items[this.relative(this._current)]}},{filter:["items","settings"],run:function(){this.$stage.children(".cloned").remove()}},{filter:["width","items","settings"],run:function(o){var l=this.settings.margin||"",a=!this.settings.autoWidth,u=this.settings.rtl,m={width:"auto","margin-left":u?l:"","margin-right":u?"":l};!a&&this.$stage.children().css(m),o.css=m}},{filter:["width","items","settings"],run:function(o){var l=(this.width()/this.settings.items).toFixed(3)-this.settings.margin,a=null,u=this._items.length,m=!this.settings.autoWidth,d=[];for(o.items={merge:!1,width:l};u--;)a=this._mergers[u],a=this.settings.mergeFit&&Math.min(a,this.settings.items)||a,o.items.merge=a>1||o.items.merge,d[u]=m?l*a:this._items[u].width();this._widths=d}},{filter:["items","settings"],run:function(){var o=[],l=this._items,a=this.settings,u=Math.max(2*a.items,4),m=2*Math.ceil(l.length/2),d=a.loop&&l.length?a.rewind?u:Math.max(u,m):0,b="",g="";for(d/=2;d>0;)o.push(this.normalize(o.length/2,!0)),b+=l[o[o.length-1]][0].outerHTML,o.push(this.normalize(l.length-1-(o.length-1)/2,!0)),g=l[o[o.length-1]][0].outerHTML+g,d-=1;this._clones=o,e(b).addClass("cloned").appendTo(this.$stage),e(g).addClass("cloned").prependTo(this.$stage)}},{filter:["width","items","settings"],run:function(){for(var o=this.settings.rtl?1:-1,l=this._clones.length+this._items.length,a=-1,u=0,m=0,d=[];++a<l;)u=d[a-1]||0,m=this._widths[this.relative(a)]+this.settings.margin,d.push(u+m*o);this._coordinates=d}},{filter:["width","items","settings"],run:function(){var o=this.settings.stagePadding,l=this._coordinates,a={width:Math.ceil(Math.abs(l[l.length-1]))+2*o,"padding-left":o||"","padding-right":o||""};this.$stage.css(a)}},{filter:["width","items","settings"],run:function(o){var l=this._coordinates.length,a=!this.settings.autoWidth,u=this.$stage.children();if(a&&o.items.merge)for(;l--;)o.css.width=this._widths[this.relative(l)],u.eq(l).css(o.css);else a&&(o.css.width=o.items.width,u.css(o.css))}},{filter:["items"],run:function(){this._coordinates.length<1&&this.$stage.removeAttr("style")}},{filter:["width","items","settings"],run:function(o){o.current=o.current?this.$stage.children().index(o.current):0,o.current=Math.max(this.minimum(),Math.min(this.maximum(),o.current)),this.reset(o.current)}},{filter:["position"],run:function(){this.animate(this.coordinates(this._current))}},{filter:["width","position","items","settings"],run:function(){var o,l,a,u,m=this.settings.rtl?1:-1,d=2*this.settings.stagePadding,b=this.coordinates(this.current())+d,g=b+this.width()*m,_=[];for(a=0,u=this._coordinates.length;u>a;a++)o=this._coordinates[a-1]||0,l=Math.abs(this._coordinates[a])+d*m,(this.op(o,"<=",b)&&this.op(o,">",g)||this.op(l,"<",b)&&this.op(l,">",g))&&_.push(a);this.$stage.children(".active").removeClass("active"),this.$stage.children(":eq("+_.join("), :eq(")+")").addClass("active"),this.$stage.children(".center").removeClass("center"),this.settings.center&&this.$stage.children().eq(this.current()).addClass("center")}}],s.prototype.initialize=function(){if(this.enter("initializing"),this.trigger("initialize"),this.$element.toggleClass(this.settings.rtlClass,this.settings.rtl),this.settings.autoWidth&&!this.is("pre-loading")){var o,l,a;o=this.$element.find("img"),l=this.settings.nestedItemSelector?"."+this.settings.nestedItemSelector:r,a=this.$element.children(l).width(),o.length&&0>=a&&this.preloadAutoWidthImages(o)}this.$element.addClass(this.options.loadingClass),this.$stage=e("<"+this.settings.stageElement+' class="'+this.settings.stageClass+'"/>').wrap('<div class="'+this.settings.stageOuterClass+'"/>'),this.$element.append(this.$stage.parent()),this.replace(this.$element.children().not(this.$stage.parent())),this.$element.is(":visible")?this.refresh():this.invalidate("width"),this.$element.removeClass(this.options.loadingClass).addClass(this.options.loadedClass),this.registerEventHandlers(),this.leave("initializing"),this.trigger("initialized")},s.prototype.setup=function(){var o=this.viewport(),l=this.options.responsive,a=-1,u=null;l?(e.each(l,function(m){o>=m&&m>a&&(a=Number(m))}),u=e.extend({},this.options,l[a]),typeof u.stagePadding=="function"&&(u.stagePadding=u.stagePadding()),delete u.responsive,u.responsiveClass&&this.$element.attr("class",this.$element.attr("class").replace(new RegExp("("+this.options.responsiveClass+"-)\\S+\\s","g"),"$1"+a))):u=e.extend({},this.options),this.trigger("change",{property:{name:"settings",value:u}}),this._breakpoint=a,this.settings=u,this.invalidate("settings"),this.trigger("changed",{property:{name:"settings",value:this.settings}})},s.prototype.optionsLogic=function(){this.settings.autoWidth&&(this.settings.stagePadding=!1,this.settings.merge=!1)},s.prototype.prepare=function(o){var l=this.trigger("prepare",{content:o});return l.data||(l.data=e("<"+this.settings.itemElement+"/>").addClass(this.options.itemClass).append(o)),this.trigger("prepared",{content:l.data}),l.data},s.prototype.update=function(){for(var o=0,l=this._pipe.length,a=e.proxy(function(m){return this[m]},this._invalidated),u={};l>o;)(this._invalidated.all||e.grep(this._pipe[o].filter,a).length>0)&&this._pipe[o].run(u),o++;this._invalidated={},!this.is("valid")&&this.enter("valid")},s.prototype.width=function(o){switch(o=o||s.Width.Default){case s.Width.Inner:case s.Width.Outer:return this._width;default:return this._width-2*this.settings.stagePadding+this.settings.margin}},s.prototype.refresh=function(){this.enter("refreshing"),this.trigger("refresh"),this.setup(),this.optionsLogic(),this.$element.addClass(this.options.refreshClass),this.update(),this.$element.removeClass(this.options.refreshClass),this.leave("refreshing"),this.trigger("refreshed")},s.prototype.onThrottledResize=function(){t.clearTimeout(this.resizeTimer),this.resizeTimer=t.setTimeout(this._handlers.onResize,this.settings.responsiveRefreshRate)},s.prototype.onResize=function(){return this._items.length?this._width===this.$element.width()?!1:this.$element.is(":visible")?(this.enter("resizing"),this.trigger("resize").isDefaultPrevented()?(this.leave("resizing"),!1):(this.invalidate("width"),this.refresh(),this.leave("resizing"),void this.trigger("resized"))):!1:!1},s.prototype.registerEventHandlers=function(){e.support.transition&&this.$stage.on(e.support.transition.end+".owl.core",e.proxy(this.onTransitionEnd,this)),this.settings.responsive!==!1&&this.on(t,"resize",this._handlers.onThrottledResize),this.settings.mouseDrag&&(this.$element.addClass(this.options.dragClass),this.$stage.on("mousedown.owl.core",e.proxy(this.onDragStart,this)),this.$stage.on("dragstart.owl.core selectstart.owl.core",function(){return!1})),this.settings.touchDrag&&(this.$stage.on("touchstart.owl.core",e.proxy(this.onDragStart,this)),this.$stage.on("touchcancel.owl.core",e.proxy(this.onDragEnd,this)))},s.prototype.onDragStart=function(o){var l=null;o.which!==3&&(e.support.transform?(l=this.$stage.css("transform").replace(/.*\(|\)| /g,"").split(","),l={x:l[l.length===16?12:4],y:l[l.length===16?13:5]}):(l=this.$stage.position(),l={x:this.settings.rtl?l.left+this.$stage.width()-this.width()+this.settings.margin:l.left,y:l.top}),this.is("animating")&&(e.support.transform?this.animate(l.x):this.$stage.stop(),this.invalidate("position")),this.$element.toggleClass(this.options.grabClass,o.type==="mousedown"),this.speed(0),this._drag.time=new Date().getTime(),this._drag.target=e(o.target),this._drag.stage.start=l,this._drag.stage.current=l,this._drag.pointer=this.pointer(o),e(i).on("mouseup.owl.core touchend.owl.core",e.proxy(this.onDragEnd,this)),e(i).one("mousemove.owl.core touchmove.owl.core",e.proxy(function(a){var u=this.difference(this._drag.pointer,this.pointer(a));e(i).on("mousemove.owl.core touchmove.owl.core",e.proxy(this.onDragMove,this)),Math.abs(u.x)<Math.abs(u.y)&&this.is("valid")||(a.preventDefault(),this.enter("dragging"),this.trigger("drag"))},this)))},s.prototype.onDragMove=function(o){var l=null,a=null,u=null,m=this.difference(this._drag.pointer,this.pointer(o)),d=this.difference(this._drag.stage.start,m);this.is("dragging")&&(o.preventDefault(),this.settings.loop?(l=this.coordinates(this.minimum()),a=this.coordinates(this.maximum()+1)-l,d.x=((d.x-l)%a+a)%a+l):(l=this.settings.rtl?this.coordinates(this.maximum()):this.coordinates(this.minimum()),a=this.settings.rtl?this.coordinates(this.minimum()):this.coordinates(this.maximum()),u=this.settings.pullDrag?-1*m.x/5:0,d.x=Math.max(Math.min(d.x,l+u),a+u)),this._drag.stage.current=d,this.animate(d.x))},s.prototype.onDragEnd=function(o){var l=this.difference(this._drag.pointer,this.pointer(o)),a=this._drag.stage.current,u=l.x>0^this.settings.rtl?"left":"right";e(i).off(".owl.core"),this.$element.removeClass(this.options.grabClass),(l.x!==0&&this.is("dragging")||!this.is("valid"))&&(this.speed(this.settings.dragEndSpeed||this.settings.smartSpeed),this.current(this.closest(a.x,l.x!==0?u:this._drag.direction)),this.invalidate("position"),this.update(),this._drag.direction=u,(Math.abs(l.x)>3||new Date().getTime()-this._drag.time>300)&&this._drag.target.one("click.owl.core",function(){return!1})),this.is("dragging")&&(this.leave("dragging"),this.trigger("dragged"))},s.prototype.closest=function(o,l){var a=-1,u=30,m=this.width(),d=this.coordinates();return this.settings.freeDrag||e.each(d,e.proxy(function(b,g){return l==="left"&&o>g-u&&g+u>o?a=b:l==="right"&&o>g-m-u&&g-m+u>o?a=b+1:this.op(o,"<",g)&&this.op(o,">",d[b+1]||g-m)&&(a=l==="left"?b+1:b),a===-1},this)),this.settings.loop||(this.op(o,">",d[this.minimum()])?a=o=this.minimum():this.op(o,"<",d[this.maximum()])&&(a=o=this.maximum())),a},s.prototype.animate=function(o){var l=this.speed()>0;this.is("animating")&&this.onTransitionEnd(),l&&(this.enter("animating"),this.trigger("translate")),e.support.transform3d&&e.support.transition?this.$stage.css({transform:"translate3d("+o+"px,0px,0px)",transition:this.speed()/1e3+"s"}):l?this.$stage.animate({left:o+"px"},this.speed(),this.settings.fallbackEasing,e.proxy(this.onTransitionEnd,this)):this.$stage.css({left:o+"px"})},s.prototype.is=function(o){return this._states.current[o]&&this._states.current[o]>0},s.prototype.current=function(o){if(o===r)return this._current;if(this._items.length===0)return r;if(o=this.normalize(o),this._current!==o){var l=this.trigger("change",{property:{name:"position",value:o}});l.data!==r&&(o=this.normalize(l.data)),this._current=o,this.invalidate("position"),this.trigger("changed",{property:{name:"position",value:this._current}})}return this._current},s.prototype.invalidate=function(o){return e.type(o)==="string"&&(this._invalidated[o]=!0,this.is("valid")&&this.leave("valid")),e.map(this._invalidated,function(l,a){return a})},s.prototype.reset=function(o){o=this.normalize(o),o!==r&&(this._speed=0,this._current=o,this.suppress(["translate","translated"]),this.animate(this.coordinates(o)),this.release(["translate","translated"]))},s.prototype.normalize=function(o,l){var a=this._items.length,u=l?0:this._clones.length;return!this.isNumeric(o)||1>a?o=r:(0>o||o>=a+u)&&(o=((o-u/2)%a+a)%a+u/2),o},s.prototype.relative=function(o){return o-=this._clones.length/2,this.normalize(o,!0)},s.prototype.maximum=function(o){var l,a,u,m=this.settings,d=this._coordinates.length;if(m.loop)d=this._clones.length/2+this._items.length-1;else if(m.autoWidth||m.merge){if(l=this._items.length)for(a=this._items[--l].width(),u=this.$element.width();l--&&(a+=this._items[l].width()+this.settings.margin,!(a>u)););d=l+1}else d=m.center?this._items.length-1:this._items.length-m.items;return o&&(d-=this._clones.length/2),Math.max(d,0)},s.prototype.minimum=function(o){return o?0:this._clones.length/2},s.prototype.items=function(o){return o===r?this._items.slice():(o=this.normalize(o,!0),this._items[o])},s.prototype.mergers=function(o){return o===r?this._mergers.slice():(o=this.normalize(o,!0),this._mergers[o])},s.prototype.clones=function(o){var l=this._clones.length/2,a=l+this._items.length,u=function(m){return m%2===0?a+m/2:l-(m+1)/2};return o===r?e.map(this._clones,function(m,d){return u(d)}):e.map(this._clones,function(m,d){return m===o?u(d):null})},s.prototype.speed=function(o){return o!==r&&(this._speed=o),this._speed},s.prototype.coordinates=function(o){var l,a=1,u=o-1;return o===r?e.map(this._coordinates,e.proxy(function(m,d){return this.coordinates(d)},this)):(this.settings.center?(this.settings.rtl&&(a=-1,u=o+1),l=this._coordinates[o],l+=(this.width()-l+(this._coordinates[u]||0))/2*a):l=this._coordinates[u]||0,l=Math.ceil(l))},s.prototype.duration=function(o,l,a){return a===0?0:Math.min(Math.max(Math.abs(l-o),1),6)*Math.abs(a||this.settings.smartSpeed)},s.prototype.to=function(o,l){var a=this.current(),u=null,m=o-this.relative(a),d=(m>0)-(0>m),b=this._items.length,g=this.minimum(),_=this.maximum();this.settings.loop?(!this.settings.rewind&&Math.abs(m)>b/2&&(m+=-1*d*b),o=a+m,u=((o-g)%b+b)%b+g,u!==o&&_>=u-m&&u-m>0&&(a=u-m,o=u,this.reset(a))):this.settings.rewind?(_+=1,o=(o%_+_)%_):o=Math.max(g,Math.min(_,o)),this.speed(this.duration(a,o,l)),this.current(o),this.$element.is(":visible")&&this.update()},s.prototype.next=function(o){o=o||!1,this.to(this.relative(this.current())+1,o)},s.prototype.prev=function(o){o=o||!1,this.to(this.relative(this.current())-1,o)},s.prototype.onTransitionEnd=function(o){return o!==r&&(o.stopPropagation(),(o.target||o.srcElement||o.originalTarget)!==this.$stage.get(0))?!1:(this.leave("animating"),void this.trigger("translated"))},s.prototype.viewport=function(){var o;return this.options.responsiveBaseElement!==t?o=e(this.options.responsiveBaseElement).width():t.innerWidth?o=t.innerWidth:i.documentElement&&i.documentElement.clientWidth?o=i.documentElement.clientWidth:console.warn("Can not detect viewport width."),o},s.prototype.replace=function(o){this.$stage.empty(),this._items=[],o&&(o=o instanceof jQuery?o:e(o)),this.settings.nestedItemSelector&&(o=o.find("."+this.settings.nestedItemSelector)),o.filter(function(){return this.nodeType===1}).each(e.proxy(function(l,a){a=this.prepare(a),this.$stage.append(a),this._items.push(a),this._mergers.push(1*a.find("[data-merge]").addBack("[data-merge]").attr("data-merge")||1)},this)),this.reset(this.isNumeric(this.settings.startPosition)?this.settings.startPosition:0),this.invalidate("items")},s.prototype.add=function(o,l){var a=this.relative(this._current);l=l===r?this._items.length:this.normalize(l,!0),o=o instanceof jQuery?o:e(o),this.trigger("add",{content:o,position:l}),o=this.prepare(o),this._items.length===0||l===this._items.length?(this._items.length===0&&this.$stage.append(o),this._items.length!==0&&this._items[l-1].after(o),this._items.push(o),this._mergers.push(1*o.find("[data-merge]").addBack("[data-merge]").attr("data-merge")||1)):(this._items[l].before(o),this._items.splice(l,0,o),this._mergers.splice(l,0,1*o.find("[data-merge]").addBack("[data-merge]").attr("data-merge")||1)),this._items[a]&&this.reset(this._items[a].index()),this.invalidate("items"),this.trigger("added",{content:o,position:l})},s.prototype.remove=function(o){o=this.normalize(o,!0),o!==r&&(this.trigger("remove",{content:this._items[o],position:o}),this._items[o].remove(),this._items.splice(o,1),this._mergers.splice(o,1),this.invalidate("items"),this.trigger("removed",{content:null,position:o}))},s.prototype.preloadAutoWidthImages=function(o){o.each(e.proxy(function(l,a){this.enter("pre-loading"),a=e(a),e(new Image).one("load",e.proxy(function(u){a.attr("src",u.target.src),a.css("opacity",1),this.leave("pre-loading"),!this.is("pre-loading")&&!this.is("initializing")&&this.refresh()},this)).attr("src",a.attr("src")||a.attr("data-src")||a.attr("data-src-retina"))},this))},s.prototype.destroy=function(){this.$element.off(".owl.core"),this.$stage.off(".owl.core"),e(i).off(".owl.core"),this.settings.responsive!==!1&&(t.clearTimeout(this.resizeTimer),this.off(t,"resize",this._handlers.onThrottledResize));for(var o in this._plugins)this._plugins[o].destroy();this.$stage.children(".cloned").remove(),this.$stage.unwrap(),this.$stage.children().contents().unwrap(),this.$stage.children().unwrap(),this.$stage.remove(),this.$element.removeClass(this.options.refreshClass).removeClass(this.options.loadingClass).removeClass(this.options.loadedClass).removeClass(this.options.rtlClass).removeClass(this.options.dragClass).removeClass(this.options.grabClass).attr("class",this.$element.attr("class").replace(new RegExp(this.options.responsiveClass+"-\\S+\\s","g"),"")).removeData("owl.carousel")},s.prototype.op=function(o,l,a){var u=this.settings.rtl;switch(l){case"<":return u?o>a:a>o;case">":return u?a>o:o>a;case">=":return u?a>=o:o>=a;case"<=":return u?o>=a:a>=o}},s.prototype.on=function(o,l,a,u){o.addEventListener?o.addEventListener(l,a,u):o.attachEvent&&o.attachEvent("on"+l,a)},s.prototype.off=function(o,l,a,u){o.removeEventListener?o.removeEventListener(l,a,u):o.detachEvent&&o.detachEvent("on"+l,a)},s.prototype.trigger=function(o,l,a,u,m){var d={item:{count:this._items.length,index:this.current()}},b=e.camelCase(e.grep(["on",o,a],function(_){return _}).join("-").toLowerCase()),g=e.Event([o,"owl",a||"carousel"].join(".").toLowerCase(),e.extend({relatedTarget:this},d,l));return this._supress[o]||(e.each(this._plugins,function(_,p){p.onTrigger&&p.onTrigger(g)}),this.register({type:s.Type.Event,name:o}),this.$element.trigger(g),this.settings&&typeof this.settings[b]=="function"&&this.settings[b].call(this,g)),g},s.prototype.enter=function(o){e.each([o].concat(this._states.tags[o]||[]),e.proxy(function(l,a){this._states.current[a]===r&&(this._states.current[a]=0),this._states.current[a]++},this))},s.prototype.leave=function(o){e.each([o].concat(this._states.tags[o]||[]),e.proxy(function(l,a){this._states.current[a]--},this))},s.prototype.register=function(o){if(o.type===s.Type.Event){if(e.event.special[o.name]||(e.event.special[o.name]={}),!e.event.special[o.name].owl){var l=e.event.special[o.name]._default;e.event.special[o.name]._default=function(a){return!l||!l.apply||a.namespace&&a.namespace.indexOf("owl")!==-1?a.namespace&&a.namespace.indexOf("owl")>-1:l.apply(this,arguments)},e.event.special[o.name].owl=!0}}else o.type===s.Type.State&&(this._states.tags[o.name]?this._states.tags[o.name]=this._states.tags[o.name].concat(o.tags):this._states.tags[o.name]=o.tags,this._states.tags[o.name]=e.grep(this._states.tags[o.name],e.proxy(function(a,u){return e.inArray(a,this._states.tags[o.name])===u},this)))},s.prototype.suppress=function(o){e.each(o,e.proxy(function(l,a){this._supress[a]=!0},this))},s.prototype.release=function(o){e.each(o,e.proxy(function(l,a){delete this._supress[a]},this))},s.prototype.pointer=function(o){var l={x:null,y:null};return o=o.originalEvent||o||t.event,o=o.touches&&o.touches.length?o.touches[0]:o.changedTouches&&o.changedTouches.length?o.changedTouches[0]:o,o.pageX?(l.x=o.pageX,l.y=o.pageY):(l.x=o.clientX,l.y=o.clientY),l},s.prototype.isNumeric=function(o){return!isNaN(parseFloat(o))},s.prototype.difference=function(o,l){return{x:o.x-l.x,y:o.y-l.y}},e.fn.owlCarousel=function(o){var l=Array.prototype.slice.call(arguments,1);return this.each(function(){var a=e(this),u=a.data("owl.carousel");u||(u=new s(this,typeof o=="object"&&o),a.data("owl.carousel",u),e.each(["next","prev","to","destroy","refresh","replace","add","remove"],function(m,d){u.register({type:s.Type.Event,name:d}),u.$element.on(d+".owl.carousel.core",e.proxy(function(b){b.namespace&&b.relatedTarget!==this&&(this.suppress([d]),u[d].apply(this,[].slice.call(arguments,1)),this.release([d]))},u))})),typeof o=="string"&&o.charAt(0)!=="_"&&u[o].apply(u,l)})},e.fn.owlCarousel.Constructor=s})(window.Zepto||window.jQuery,window,document),(function(e,t,i,r){var s=function(o){this._core=o,this._interval=null,this._visible=null,this._handlers={"initialized.owl.carousel":e.proxy(function(l){l.namespace&&this._core.settings.autoRefresh&&this.watch()},this)},this._core.options=e.extend({},s.Defaults,this._core.options),this._core.$element.on(this._handlers)};s.Defaults={autoRefresh:!0,autoRefreshInterval:500},s.prototype.watch=function(){this._interval||(this._visible=this._core.$element.is(":visible"),this._interval=t.setInterval(e.proxy(this.refresh,this),this._core.settings.autoRefreshInterval))},s.prototype.refresh=function(){this._core.$element.is(":visible")!==this._visible&&(this._visible=!this._visible,this._core.$element.toggleClass("owl-hidden",!this._visible),this._visible&&this._core.invalidate("width")&&this._core.refresh())},s.prototype.destroy=function(){var o,l;t.clearInterval(this._interval);for(o in this._handlers)this._core.$element.off(o,this._handlers[o]);for(l in Object.getOwnPropertyNames(this))typeof this[l]!="function"&&(this[l]=null)},e.fn.owlCarousel.Constructor.Plugins.AutoRefresh=s})(window.Zepto||window.jQuery,window),(function(e,t,i,r){var s=function(o){this._core=o,this._loaded=[],this._handlers={"initialized.owl.carousel change.owl.carousel resized.owl.carousel":e.proxy(function(l){if(l.namespace&&this._core.settings&&this._core.settings.lazyLoad&&(l.property&&l.property.name=="position"||l.type=="initialized"))for(var a=this._core.settings,u=a.center&&Math.ceil(a.items/2)||a.items,m=a.center&&-1*u||0,d=(l.property&&l.property.value!==r?l.property.value:this._core.current())+m,b=this._core.clones().length,g=e.proxy(function(_,p){this.load(p)},this);m++<u;)this.load(b/2+this._core.relative(d)),b&&e.each(this._core.clones(this._core.relative(d)),g),d++},this)},this._core.options=e.extend({},s.Defaults,this._core.options),this._core.$element.on(this._handlers)};s.Defaults={lazyLoad:!1},s.prototype.load=function(o){var l=this._core.$stage.children().eq(o),a=l&&l.find(".owl-lazy");!a||e.inArray(l.get(0),this._loaded)>-1||(a.each(e.proxy(function(u,m){var d,b=e(m),g=t.devicePixelRatio>1&&b.attr("data-src-retina")||b.attr("data-src");this._core.trigger("load",{element:b,url:g},"lazy"),b.is("img")?b.one("load.owl.lazy",e.proxy(function(){b.css("opacity",1),this._core.trigger("loaded",{element:b,url:g},"lazy")},this)).attr("src",g):(d=new Image,d.onload=e.proxy(function(){b.css({"background-image":'url("'+g+'")',opacity:"1"}),this._core.trigger("loaded",{element:b,url:g},"lazy")},this),d.src=g)},this)),this._loaded.push(l.get(0)))},s.prototype.destroy=function(){var o,l;for(o in this.handlers)this._core.$element.off(o,this.handlers[o]);for(l in Object.getOwnPropertyNames(this))typeof this[l]!="function"&&(this[l]=null)},e.fn.owlCarousel.Constructor.Plugins.Lazy=s})(window.Zepto||window.jQuery,window),(function(e,t,i,r){var s=function(o){this._core=o,this._handlers={"initialized.owl.carousel refreshed.owl.carousel":e.proxy(function(l){l.namespace&&this._core.settings.autoHeight&&this.update()},this),"changed.owl.carousel":e.proxy(function(l){l.namespace&&this._core.settings.autoHeight&&l.property.name=="position"&&this.update()},this),"loaded.owl.lazy":e.proxy(function(l){l.namespace&&this._core.settings.autoHeight&&l.element.closest("."+this._core.settings.itemClass).index()===this._core.current()&&this.update()},this)},this._core.options=e.extend({},s.Defaults,this._core.options),this._core.$element.on(this._handlers)};s.Defaults={autoHeight:!1,autoHeightClass:"owl-height"},s.prototype.update=function(){var o=this._core._current,l=o+this._core.settings.items,a=this._core.$stage.children().toArray().slice(o,l),u=[],m=0;e.each(a,function(d,b){u.push(e(b).height())}),m=Math.max.apply(null,u),this._core.$stage.parent().height(m).addClass(this._core.settings.autoHeightClass)},s.prototype.destroy=function(){var o,l;for(o in this._handlers)this._core.$element.off(o,this._handlers[o]);for(l in Object.getOwnPropertyNames(this))typeof this[l]!="function"&&(this[l]=null)},e.fn.owlCarousel.Constructor.Plugins.AutoHeight=s})(window.Zepto||window.jQuery),(function(e,t,i,r){var s=function(o){this._core=o,this._videos={},this._playing=null,this._handlers={"initialized.owl.carousel":e.proxy(function(l){l.namespace&&this._core.register({type:"state",name:"playing",tags:["interacting"]})},this),"resize.owl.carousel":e.proxy(function(l){l.namespace&&this._core.settings.video&&this.isInFullScreen()&&l.preventDefault()},this),"refreshed.owl.carousel":e.proxy(function(l){l.namespace&&this._core.is("resizing")&&this._core.$stage.find(".cloned .owl-video-frame").remove()},this),"changed.owl.carousel":e.proxy(function(l){l.namespace&&l.property.name==="position"&&this._playing&&this.stop()},this),"prepared.owl.carousel":e.proxy(function(l){if(l.namespace){var a=e(l.content).find(".owl-video");a.length&&(a.css("display","none"),this.fetch(a,e(l.content)))}},this)},this._core.options=e.extend({},s.Defaults,this._core.options),this._core.$element.on(this._handlers),this._core.$element.on("click.owl.video",".owl-video-play-icon",e.proxy(function(l){this.play(l)},this))};s.Defaults={video:!1,videoHeight:!1,videoWidth:!1},s.prototype.fetch=function(o,l){var a=(function(){return o.attr("data-vimeo-id")?"vimeo":o.attr("data-vzaar-id")?"vzaar":"youtube"})(),u=o.attr("data-vimeo-id")||o.attr("data-youtube-id")||o.attr("data-vzaar-id"),m=o.attr("data-width")||this._core.settings.videoWidth,d=o.attr("data-height")||this._core.settings.videoHeight,b=o.attr("href");if(!b)throw new Error("Missing video URL.");if(u=b.match(/(http:|https:|)\/\/(player.|www.|app.)?(vimeo\.com|youtu(be\.com|\.be|be\.googleapis\.com)|vzaar\.com)\/(video\/|videos\/|embed\/|channels\/.+\/|groups\/.+\/|watch\?v=|v\/)?([A-Za-z0-9._%-]*)(\&\S+)?/),u[3].indexOf("youtu")>-1)a="youtube";else if(u[3].indexOf("vimeo")>-1)a="vimeo";else{if(!(u[3].indexOf("vzaar")>-1))throw new Error("Video URL not supported.");a="vzaar"}u=u[6],this._videos[b]={type:a,id:u,width:m,height:d},l.attr("data-video",b),this.thumbnail(o,this._videos[b])},s.prototype.thumbnail=function(o,l){var a,u,m,d=l.width&&l.height?'style="width:'+l.width+"px;height:"+l.height+'px;"':"",b=o.find("img"),g="src",_="",p=this._core.settings,v=function(c){u='<div class="owl-video-play-icon"></div>',a=p.lazyLoad?'<div class="owl-video-tn '+_+'" '+g+'="'+c+'"></div>':'<div class="owl-video-tn" style="opacity:1;background-image:url('+c+')"></div>',o.after(a),o.after(u)};return o.wrap('<div class="owl-video-wrapper"'+d+"></div>"),this._core.settings.lazyLoad&&(g="data-src",_="owl-lazy"),b.length?(v(b.attr(g)),b.remove(),!1):void(l.type==="youtube"?(m="//img.youtube.com/vi/"+l.id+"/hqdefault.jpg",v(m)):l.type==="vimeo"?e.ajax({type:"GET",url:"//vimeo.com/api/v2/video/"+l.id+".json",jsonp:"callback",dataType:"jsonp",success:function(c){m=c[0].thumbnail_large,v(m)}}):l.type==="vzaar"&&e.ajax({type:"GET",url:"//vzaar.com/api/videos/"+l.id+".json",jsonp:"callback",dataType:"jsonp",success:function(c){m=c.framegrab_url,v(m)}}))},s.prototype.stop=function(){this._core.trigger("stop",null,"video"),this._playing.find(".owl-video-frame").remove(),this._playing.removeClass("owl-video-playing"),this._playing=null,this._core.leave("playing"),this._core.trigger("stopped",null,"video")},s.prototype.play=function(o){var l,a=e(o.target),u=a.closest("."+this._core.settings.itemClass),m=this._videos[u.attr("data-video")],d=m.width||"100%",b=m.height||this._core.$stage.height();this._playing||(this._core.enter("playing"),this._core.trigger("play",null,"video"),u=this._core.items(this._core.relative(u.index())),this._core.reset(u.index()),m.type==="youtube"?l='<iframe width="'+d+'" height="'+b+'" src="//www.youtube.com/embed/'+m.id+"?autoplay=1&rel=0&v="+m.id+'" frameborder="0" allowfullscreen></iframe>':m.type==="vimeo"?l='<iframe src="//player.vimeo.com/video/'+m.id+'?autoplay=1" width="'+d+'" height="'+b+'" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe>':m.type==="vzaar"&&(l='<iframe frameborder="0"height="'+b+'"width="'+d+'" allowfullscreen mozallowfullscreen webkitAllowFullScreen src="//view.vzaar.com/'+m.id+'/player?autoplay=true"></iframe>'),e('<div class="owl-video-frame">'+l+"</div>").insertAfter(u.find(".owl-video")),this._playing=u.addClass("owl-video-playing"))},s.prototype.isInFullScreen=function(){var o=i.fullscreenElement||i.mozFullScreenElement||i.webkitFullscreenElement;return o&&e(o).parent().hasClass("owl-video-frame")},s.prototype.destroy=function(){var o,l;this._core.$element.off("click.owl.video");for(o in this._handlers)this._core.$element.off(o,this._handlers[o]);for(l in Object.getOwnPropertyNames(this))typeof this[l]!="function"&&(this[l]=null)},e.fn.owlCarousel.Constructor.Plugins.Video=s})(window.Zepto||window.jQuery,window,document),(function(e,t,i,r){var s=function(o){this.core=o,this.core.options=e.extend({},s.Defaults,this.core.options),this.swapping=!0,this.previous=r,this.next=r,this.handlers={"change.owl.carousel":e.proxy(function(l){l.namespace&&l.property.name=="position"&&(this.previous=this.core.current(),this.next=l.property.value)},this),"drag.owl.carousel dragged.owl.carousel translated.owl.carousel":e.proxy(function(l){l.namespace&&(this.swapping=l.type=="translated")},this),"translate.owl.carousel":e.proxy(function(l){l.namespace&&this.swapping&&(this.core.options.animateOut||this.core.options.animateIn)&&this.swap()},this)},this.core.$element.on(this.handlers)};s.Defaults={animateOut:!1,animateIn:!1},s.prototype.swap=function(){if(this.core.settings.items===1&&e.support.animation&&e.support.transition){this.core.speed(0);var o,l=e.proxy(this.clear,this),a=this.core.$stage.children().eq(this.previous),u=this.core.$stage.children().eq(this.next),m=this.core.settings.animateIn,d=this.core.settings.animateOut;this.core.current()!==this.previous&&(d&&(o=this.core.coordinates(this.previous)-this.core.coordinates(this.next),a.one(e.support.animation.end,l).css({left:o+"px"}).addClass("animated owl-animated-out").addClass(d)),m&&u.one(e.support.animation.end,l).addClass("animated owl-animated-in").addClass(m))}},s.prototype.clear=function(o){e(o.target).css({left:""}).removeClass("animated owl-animated-out owl-animated-in").removeClass(this.core.settings.animateIn).removeClass(this.core.settings.animateOut),this.core.onTransitionEnd()},s.prototype.destroy=function(){var o,l;for(o in this.handlers)this.core.$element.off(o,this.handlers[o]);for(l in Object.getOwnPropertyNames(this))typeof this[l]!="function"&&(this[l]=null)},e.fn.owlCarousel.Constructor.Plugins.Animate=s})(window.Zepto||window.jQuery),(function(e,t,i,r){var s=function(o){this._core=o,this._call=null,this._time=0,this._timeout=0,this._paused=!0,this._handlers={"changed.owl.carousel":e.proxy(function(l){l.namespace&&l.property.name==="settings"?this._core.settings.autoplay?this.play():this.stop():l.namespace&&l.property.name==="position"&&this._paused&&(this._time=0)},this),"initialized.owl.carousel":e.proxy(function(l){l.namespace&&this._core.settings.autoplay&&this.play()},this),"play.owl.autoplay":e.proxy(function(l,a,u){l.namespace&&this.play(a,u)},this),"stop.owl.autoplay":e.proxy(function(l){l.namespace&&this.stop()},this),"mouseover.owl.autoplay":e.proxy(function(){this._core.settings.autoplayHoverPause&&this._core.is("rotating")&&this.pause()},this),"mouseleave.owl.autoplay":e.proxy(function(){this._core.settings.autoplayHoverPause&&this._core.is("rotating")&&this.play()},this),"touchstart.owl.core":e.proxy(function(){this._core.settings.autoplayHoverPause&&this._core.is("rotating")&&this.pause()},this),"touchend.owl.core":e.proxy(function(){this._core.settings.autoplayHoverPause&&this.play()},this)},this._core.$element.on(this._handlers),this._core.options=e.extend({},s.Defaults,this._core.options)};s.Defaults={autoplay:!1,autoplayTimeout:5e3,autoplayHoverPause:!1,autoplaySpeed:!1},s.prototype._next=function(o){this._call=t.setTimeout(e.proxy(this._next,this,o),this._timeout*(Math.round(this.read()/this._timeout)+1)-this.read()),this._core.is("busy")||this._core.is("interacting")||i.hidden||this._core.next(o||this._core.settings.autoplaySpeed)},s.prototype.read=function(){return new Date().getTime()-this._time},s.prototype.play=function(o,l){var a;this._core.is("rotating")||this._core.enter("rotating"),o=o||this._core.settings.autoplayTimeout,a=Math.min(this._time%(this._timeout||o),o),this._paused?(this._time=this.read(),this._paused=!1):t.clearTimeout(this._call),this._time+=this.read()%o-a,this._timeout=o,this._call=t.setTimeout(e.proxy(this._next,this,l),o-a)},s.prototype.stop=function(){this._core.is("rotating")&&(this._time=0,this._paused=!0,t.clearTimeout(this._call),this._core.leave("rotating"))},s.prototype.pause=function(){this._core.is("rotating")&&!this._paused&&(this._time=this.read(),this._paused=!0,t.clearTimeout(this._call))},s.prototype.destroy=function(){var o,l;this.stop();for(o in this._handlers)this._core.$element.off(o,this._handlers[o]);for(l in Object.getOwnPropertyNames(this))typeof this[l]!="function"&&(this[l]=null)},e.fn.owlCarousel.Constructor.Plugins.autoplay=s})(window.Zepto||window.jQuery,window,document),(function(e,t,i,r){var s=function(o){this._core=o,this._initialized=!1,this._pages=[],this._controls={},this._templates=[],this.$element=this._core.$element,this._overrides={next:this._core.next,prev:this._core.prev,to:this._core.to},this._handlers={"prepared.owl.carousel":e.proxy(function(l){l.namespace&&this._core.settings.dotsData&&this._templates.push('<div class="'+this._core.settings.dotClass+'">'+e(l.content).find("[data-dot]").addBack("[data-dot]").attr("data-dot")+"</div>")},this),"added.owl.carousel":e.proxy(function(l){l.namespace&&this._core.settings.dotsData&&this._templates.splice(l.position,0,this._templates.pop())},this),"remove.owl.carousel":e.proxy(function(l){l.namespace&&this._core.settings.dotsData&&this._templates.splice(l.position,1)},this),"changed.owl.carousel":e.proxy(function(l){l.namespace&&l.property.name=="position"&&this.draw()},this),"initialized.owl.carousel":e.proxy(function(l){l.namespace&&!this._initialized&&(this._core.trigger("initialize",null,"navigation"),this.initialize(),this.update(),this.draw(),this._initialized=!0,this._core.trigger("initialized",null,"navigation"))},this),"refreshed.owl.carousel":e.proxy(function(l){l.namespace&&this._initialized&&(this._core.trigger("refresh",null,"navigation"),this.update(),this.draw(),this._core.trigger("refreshed",null,"navigation"))},this)},this._core.options=e.extend({},s.Defaults,this._core.options),this.$element.on(this._handlers)};s.Defaults={nav:!1,navText:['<span aria-label="prev">&#x2039;</span>','<span aria-label="next">&#x203a;</span>'],navSpeed:!1,navElement:'button role="presentation"',navContainer:!1,navContainerClass:"owl-nav",navClass:["owl-prev","owl-next"],slideBy:1,dotClass:"owl-dot",dotsClass:"owl-dots",dots:!0,dotsEach:!1,dotsData:!1,dotsSpeed:!1,dotsContainer:!1},s.prototype.initialize=function(){var o,l=this._core.settings;this._controls.$relative=(l.navContainer?e(l.navContainer):e("<div>").addClass(l.navContainerClass).appendTo(this.$element)).addClass("disabled"),this._controls.$previous=e("<"+l.navElement+">").addClass(l.navClass[0]).html(l.navText[0]).prependTo(this._controls.$relative).on("click",e.proxy(function(a){this.prev(l.navSpeed)},this)),this._controls.$next=e("<"+l.navElement+">").addClass(l.navClass[1]).html(l.navText[1]).appendTo(this._controls.$relative).on("click",e.proxy(function(a){this.next(l.navSpeed)},this)),l.dotsData||(this._templates=[e("<button>").addClass(l.dotClass).append(e("<span>")).prop("outerHTML")]),this._controls.$absolute=(l.dotsContainer?e(l.dotsContainer):e("<div>").addClass(l.dotsClass).appendTo(this.$element)).addClass("disabled"),this._controls.$absolute.on("click","button",e.proxy(function(a){var u=e(a.target).parent().is(this._controls.$absolute)?e(a.target).index():e(a.target).parent().index();a.preventDefault(),this.to(u,l.dotsSpeed)},this));for(o in this._overrides)this._core[o]=e.proxy(this[o],this)},s.prototype.destroy=function(){var o,l,a,u;for(o in this._handlers)this.$element.off(o,this._handlers[o]);for(l in this._controls)l==="$relative"&&settings.navContainer?this._controls[l].html(""):this._controls[l].remove();for(u in this.overides)this._core[u]=this._overrides[u];for(a in Object.getOwnPropertyNames(this))typeof this[a]!="function"&&(this[a]=null)},s.prototype.update=function(){var o,l,a=this._core.clones().length/2,u=a+this._core.items().length,m=this._core.maximum(!0),d=this._core.settings,b=d.center||d.autoWidth||d.dotsData?1:d.dotsEach||d.items;if(d.slideBy!=="page"&&(d.slideBy=Math.min(d.slideBy,d.items)),d.dots||d.slideBy=="page")for(this._pages=[],o=a,l=0,0;u>o;o++){if(l>=b||l===0){if(this._pages.push({start:Math.min(m,o-a),end:o-a+b-1}),Math.min(m,o-a)===m)break;l=0}l+=this._core.mergers(this._core.relative(o))}},s.prototype.draw=function(){var o,l=this._core.settings,a=this._core.items().length<=l.items,u=this._core.relative(this._core.current()),m=l.loop||l.rewind;this._controls.$relative.toggleClass("disabled",!l.nav||a),l.nav&&(this._controls.$previous.toggleClass("disabled",!m&&u<=this._core.minimum(!0)),this._controls.$next.toggleClass("disabled",!m&&u>=this._core.maximum(!0))),this._controls.$absolute.toggleClass("disabled",!l.dots||a),l.dots&&(o=this._pages.length-this._controls.$absolute.children().length,l.dotsData&&o!==0?this._controls.$absolute.html(this._templates.join("")):o>0?this._controls.$absolute.append(new Array(o+1).join(this._templates[0])):0>o&&this._controls.$absolute.children().slice(o).remove(),this._controls.$absolute.find(".active").removeClass("active"),this._controls.$absolute.children().eq(e.inArray(this.current(),this._pages)).addClass("active"))},s.prototype.onTrigger=function(o){var l=this._core.settings;o.page={index:e.inArray(this.current(),this._pages),count:this._pages.length,size:l&&(l.center||l.autoWidth||l.dotsData?1:l.dotsEach||l.items)}},s.prototype.current=function(){var o=this._core.relative(this._core.current());return e.grep(this._pages,e.proxy(function(l,a){return l.start<=o&&l.end>=o},this)).pop()},s.prototype.getPosition=function(o){var l,a,u=this._core.settings;return u.slideBy=="page"?(l=e.inArray(this.current(),this._pages),a=this._pages.length,o?++l:--l,l=this._pages[(l%a+a)%a].start):(l=this._core.relative(this._core.current()),a=this._core.items().length,o?l+=u.slideBy:l-=u.slideBy),l},s.prototype.next=function(o){e.proxy(this._overrides.to,this._core)(this.getPosition(!0),o)},s.prototype.prev=function(o){e.proxy(this._overrides.to,this._core)(this.getPosition(!1),o)},s.prototype.to=function(o,l,a){var u;!a&&this._pages.length?(u=this._pages.length,e.proxy(this._overrides.to,this._core)(this._pages[(o%u+u)%u].start,l)):e.proxy(this._overrides.to,this._core)(o,l)},e.fn.owlCarousel.Constructor.Plugins.Navigation=s})(window.Zepto||window.jQuery),(function(e,t,i,r){var s=function(o){this._core=o,this._hashes={},this.$element=this._core.$element,this._handlers={"initialized.owl.carousel":e.proxy(function(l){l.namespace&&this._core.settings.startPosition==="URLHash"&&e(t).trigger("hashchange.owl.navigation")},this),"prepared.owl.carousel":e.proxy(function(l){if(l.namespace){var a=e(l.content).find("[data-hash]").addBack("[data-hash]").attr("data-hash");if(!a)return;this._hashes[a]=l.content}},this),"changed.owl.carousel":e.proxy(function(l){if(l.namespace&&l.property.name==="position"){var a=this._core.items(this._core.relative(this._core.current())),u=e.map(this._hashes,function(m,d){return m===a?d:null}).join();if(!u||t.location.hash.slice(1)===u)return;t.location.hash=u}},this)},this._core.options=e.extend({},s.Defaults,this._core.options),this.$element.on(this._handlers),e(t).on("hashchange.owl.navigation",e.proxy(function(l){var a=t.location.hash.substring(1),u=this._core.$stage.children(),m=this._hashes[a]&&u.index(this._hashes[a]);m!==r&&m!==this._core.current()&&this._core.to(this._core.relative(m),!1,!0)},this))};s.Defaults={URLhashListener:!1},s.prototype.destroy=function(){var o,l;e(t).off("hashchange.owl.navigation");for(o in this._handlers)this._core.$element.off(o,this._handlers[o]);for(l in Object.getOwnPropertyNames(this))typeof this[l]!="function"&&(this[l]=null)},e.fn.owlCarousel.Constructor.Plugins.Hash=s})(window.Zepto||window.jQuery,window),(function(e,t,i,r){function s(d,b){var g=!1,_=d.charAt(0).toUpperCase()+d.slice(1);return e.each((d+" "+a.join(_+" ")+_).split(" "),function(p,v){return l[v]!==r?(g=b?v:!0,!1):void 0}),g}function o(d){return s(d,!0)}var l=e("<support>").get(0).style,a="Webkit Moz O ms".split(" "),u={transition:{end:{WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",transition:"transitionend"}},animation:{end:{WebkitAnimation:"webkitAnimationEnd",MozAnimation:"animationend",OAnimation:"oAnimationEnd",animation:"animationend"}}},m={csstransforms:function(){return!!s("transform")},csstransforms3d:function(){return!!s("perspective")},csstransitions:function(){return!!s("transition")},cssanimations:function(){return!!s("animation")}};m.csstransitions()&&(e.support.transition=new String(o("transition")),e.support.transition.end=u.transition.end[e.support.transition]),m.cssanimations()&&(e.support.animation=new String(o("animation")),e.support.animation.end=u.animation.end[e.support.animation]),m.csstransforms()&&(e.support.transform=new String(o("transform")),e.support.transform3d=m.csstransforms3d())})(window.Zepto||window.jQuery),jQuery.easing.jswing=jQuery.easing.swing,jQuery.extend(jQuery.easing,{def:"easeOutQuad",swing:function(e,t,i,r,s){return jQuery.easing[jQuery.easing.def](e,t,i,r,s)},easeInQuad:function(e,t,i,r,s){return r*(t/=s)*t+i},easeOutQuad:function(e,t,i,r,s){return-r*(t/=s)*(t-2)+i},easeInOutQuad:function(e,t,i,r,s){return(t/=s/2)<1?r/2*t*t+i:-r/2*(--t*(t-2)-1)+i},easeInCubic:function(e,t,i,r,s){return r*(t/=s)*t*t+i},easeOutCubic:function(e,t,i,r,s){return r*((t=t/s-1)*t*t+1)+i},easeInOutCubic:function(e,t,i,r,s){return(t/=s/2)<1?r/2*t*t*t+i:r/2*((t-=2)*t*t+2)+i},easeInQuart:function(e,t,i,r,s){return r*(t/=s)*t*t*t+i},easeOutQuart:function(e,t,i,r,s){return-r*((t=t/s-1)*t*t*t-1)+i},easeInOutQuart:function(e,t,i,r,s){return(t/=s/2)<1?r/2*t*t*t*t+i:-r/2*((t-=2)*t*t*t-2)+i},easeInQuint:function(e,t,i,r,s){return r*(t/=s)*t*t*t*t+i},easeOutQuint:function(e,t,i,r,s){return r*((t=t/s-1)*t*t*t*t+1)+i},easeInOutQuint:function(e,t,i,r,s){return(t/=s/2)<1?r/2*t*t*t*t*t+i:r/2*((t-=2)*t*t*t*t+2)+i},easeInSine:function(e,t,i,r,s){return-r*Math.cos(t/s*(Math.PI/2))+r+i},easeOutSine:function(e,t,i,r,s){return r*Math.sin(t/s*(Math.PI/2))+i},easeInOutSine:function(e,t,i,r,s){return-r/2*(Math.cos(Math.PI*t/s)-1)+i},easeInExpo:function(e,t,i,r,s){return t==0?i:r*Math.pow(2,10*(t/s-1))+i},easeOutExpo:function(e,t,i,r,s){return t==s?i+r:r*(-Math.pow(2,-10*t/s)+1)+i},easeInOutExpo:function(e,t,i,r,s){return t==0?i:t==s?i+r:(t/=s/2)<1?r/2*Math.pow(2,10*(t-1))+i:r/2*(-Math.pow(2,-10*--t)+2)+i},easeInCirc:function(e,t,i,r,s){return-r*(Math.sqrt(1-(t/=s)*t)-1)+i},easeOutCirc:function(e,t,i,r,s){return r*Math.sqrt(1-(t=t/s-1)*t)+i},easeInOutCirc:function(e,t,i,r,s){return(t/=s/2)<1?-r/2*(Math.sqrt(1-t*t)-1)+i:r/2*(Math.sqrt(1-(t-=2)*t)+1)+i},easeInElastic:function(e,t,i,r,s){var a=1.70158,o=0,l=r;if(t==0)return i;if((t/=s)==1)return i+r;if(o||(o=s*.3),l<Math.abs(r)){l=r;var a=o/4}else var a=o/(2*Math.PI)*Math.asin(r/l);return-(l*Math.pow(2,10*(t-=1))*Math.sin((t*s-a)*(2*Math.PI)/o))+i},easeOutElastic:function(e,t,i,r,s){var a=1.70158,o=0,l=r;if(t==0)return i;if((t/=s)==1)return i+r;if(o||(o=s*.3),l<Math.abs(r)){l=r;var a=o/4}else var a=o/(2*Math.PI)*Math.asin(r/l);return l*Math.pow(2,-10*t)*Math.sin((t*s-a)*(2*Math.PI)/o)+r+i},easeInOutElastic:function(e,t,i,r,s){var a=1.70158,o=0,l=r;if(t==0)return i;if((t/=s/2)==2)return i+r;if(o||(o=s*(.3*1.5)),l<Math.abs(r)){l=r;var a=o/4}else var a=o/(2*Math.PI)*Math.asin(r/l);return t<1?-.5*(l*Math.pow(2,10*(t-=1))*Math.sin((t*s-a)*(2*Math.PI)/o))+i:l*Math.pow(2,-10*(t-=1))*Math.sin((t*s-a)*(2*Math.PI)/o)*.5+r+i},easeInBack:function(e,t,i,r,s,o){return o==null&&(o=1.70158),r*(t/=s)*t*((o+1)*t-o)+i},easeOutBack:function(e,t,i,r,s,o){return o==null&&(o=1.70158),r*((t=t/s-1)*t*((o+1)*t+o)+1)+i},easeInOutBack:function(e,t,i,r,s,o){return o==null&&(o=1.70158),(t/=s/2)<1?r/2*(t*t*(((o*=1.525)+1)*t-o))+i:r/2*((t-=2)*t*(((o*=1.525)+1)*t+o)+2)+i},easeInBounce:function(e,t,i,r,s){return r-jQuery.easing.easeOutBounce(e,s-t,0,r,s)+i},easeOutBounce:function(e,t,i,r,s){return(t/=s)<1/2.75?r*(7.5625*t*t)+i:t<2/2.75?r*(7.5625*(t-=1.5/2.75)*t+.75)+i:t<2.5/2.75?r*(7.5625*(t-=2.25/2.75)*t+.9375)+i:r*(7.5625*(t-=2.625/2.75)*t+.984375)+i},easeInOutBounce:function(e,t,i,r,s){return t<s/2?jQuery.easing.easeInBounce(e,t*2,0,r,s)*.5+i:jQuery.easing.easeOutBounce(e,t*2-s,0,r,s)*.5+r*.5+i}}),(function(e){e.fn.niceSelect=function(t){function i(s){s.after(e("<div></div>").addClass("nice-select").addClass(s.attr("class")||"").addClass(s.attr("disabled")?"disabled":"").attr("tabindex",s.attr("disabled")?null:"0").html('<span class="current"></span><ul class="list"></ul>'));const o=s.next(),l=s.find("option"),a=s.find("option:selected");o.find(".current").html(a.data("display")||a.text()),l.each(function(u){const m=e(this),d=m.data("display");o.find("ul").append(e("<li></li>").attr("data-value",m.val()).attr("data-display",d||null).addClass(`option${m.is(":selected")?" selected":""}${m.is(":disabled")?" disabled":""}`).html(m.text()))})}if(typeof t=="string")return t=="update"?this.each(function(){const s=e(this),o=e(this).next(".nice-select"),l=o.hasClass("open");o.length&&(o.remove(),i(s),l&&s.next().trigger("click"))}):t=="destroy"?(this.each(function(){const s=e(this),o=e(this).next(".nice-select");o.length&&(o.remove(),s.css("display",""))}),e(".nice-select").length==0&&e(document).off(".nice_select")):console.log(`Method "${t}" does not exist.`),this;this.hide(),this.each(function(){const s=e(this);s.next().hasClass("nice-select")||i(s)}),e(document).off(".nice_select"),e(document).on("click.nice_select",".nice-select",function(s){const o=e(this);e(".nice-select").not(o).removeClass("open"),o.toggleClass("open"),o.hasClass("open")?(o.find(".option"),o.find(".focus").removeClass("focus"),o.find(".selected").addClass("focus")):o.focus()}),e(document).on("click.nice_select",s=>{e(s.target).closest(".nice-select").length===0&&e(".nice-select").removeClass("open").find(".option")}),e(document).on("click.nice_select",".nice-select .option:not(.disabled)",function(s){const o=e(this),l=o.closest(".nice-select");l.find(".selected").removeClass("selected"),o.addClass("selected");const a=o.data("display")||o.text();l.find(".current").text(a),l.prev("select").val(o.data("value")).trigger("change")}),e(document).on("keydown.nice_select",".nice-select",function(s){const o=e(this),l=e(o.find(".focus")||o.find(".list .option.selected"));if(s.keyCode==32||s.keyCode==13)return o.hasClass("open")?l.trigger("click"):o.trigger("click"),!1;if(s.keyCode==40){if(o.hasClass("open")){const a=l.nextAll(".option:not(.disabled)").first();a.length>0&&(o.find(".focus").removeClass("focus"),a.addClass("focus"))}else o.trigger("click");return!1}if(s.keyCode==38){if(o.hasClass("open")){const a=l.prevAll(".option:not(.disabled)").first();a.length>0&&(o.find(".focus").removeClass("focus"),a.addClass("focus"))}else o.trigger("click");return!1}if(s.keyCode==27)o.hasClass("open")&&o.trigger("click");else if(s.keyCode==9&&o.hasClass("open"))return!1});const r=document.createElement("a").style;return r.cssText="pointer-events:auto",r.pointerEvents!=="auto"&&e("html").addClass("no-csspointerevents"),this}})(jQuery),ay.$=n,ay.Jquery=n,ay.jquery=n,ay}var mA=t$(),Xw={exports:{}},ly={},qw={exports:{}},Yw={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wO;function n$(){return wO||(wO=1,(function(n){function e(H,te){var ne=H.length;H.push(te);e:for(;0<ne;){var he=ne-1>>>1,ie=H[he];if(0<r(ie,te))H[he]=te,H[ne]=ie,ne=he;else break e}}function t(H){return H.length===0?null:H[0]}function i(H){if(H.length===0)return null;var te=H[0],ne=H.pop();if(ne!==te){H[0]=ne;e:for(var he=0,ie=H.length,ce=ie>>>1;he<ce;){var Se=2*(he+1)-1,Ee=H[Se],me=Se+1,le=H[me];if(0>r(Ee,ne))me<ie&&0>r(le,Ee)?(H[he]=le,H[me]=ne,he=me):(H[he]=Ee,H[Se]=ne,he=Se);else if(me<ie&&0>r(le,ne))H[he]=le,H[me]=ne,he=me;else break e}}return te}function r(H,te){var ne=H.sortIndex-te.sortIndex;return ne!==0?ne:H.id-te.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();n.unstable_now=function(){return o.now()-l}}var a=[],u=[],m=1,d=null,b=3,g=!1,_=!1,p=!1,v=!1,c=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;function T(H){for(var te=t(u);te!==null;){if(te.callback===null)i(u);else if(te.startTime<=H)i(u),te.sortIndex=te.expirationTime,e(a,te);else break;te=t(u)}}function L(H){if(p=!1,T(H),!_)if(t(a)!==null)_=!0,P||(P=!0,G());else{var te=t(u);te!==null&&V(L,te.startTime-H)}}var P=!1,C=-1,I=5,F=-1;function R(){return v?!0:!(n.unstable_now()-F<I)}function D(){if(v=!1,P){var H=n.unstable_now();F=H;var te=!0;try{e:{_=!1,p&&(p=!1,x(C),C=-1),g=!0;var ne=b;try{t:{for(T(H),d=t(a);d!==null&&!(d.expirationTime>H&&R());){var he=d.callback;if(typeof he=="function"){d.callback=null,b=d.priorityLevel;var ie=he(d.expirationTime<=H);if(H=n.unstable_now(),typeof ie=="function"){d.callback=ie,T(H),te=!0;break t}d===t(a)&&i(a),T(H)}else i(a);d=t(a)}if(d!==null)te=!0;else{var ce=t(u);ce!==null&&V(L,ce.startTime-H),te=!1}}break e}finally{d=null,b=ne,g=!1}te=void 0}}finally{te?G():P=!1}}}var G;if(typeof w=="function")G=function(){w(D)};else if(typeof MessageChannel<"u"){var j=new MessageChannel,k=j.port2;j.port1.onmessage=D,G=function(){k.postMessage(null)}}else G=function(){c(D,0)};function V(H,te){C=c(function(){H(n.unstable_now())},te)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(H){H.callback=null},n.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<H?Math.floor(1e3/H):5},n.unstable_getCurrentPriorityLevel=function(){return b},n.unstable_next=function(H){switch(b){case 1:case 2:case 3:var te=3;break;default:te=b}var ne=b;b=te;try{return H()}finally{b=ne}},n.unstable_requestPaint=function(){v=!0},n.unstable_runWithPriority=function(H,te){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var ne=b;b=H;try{return te()}finally{b=ne}},n.unstable_scheduleCallback=function(H,te,ne){var he=n.unstable_now();switch(typeof ne=="object"&&ne!==null?(ne=ne.delay,ne=typeof ne=="number"&&0<ne?he+ne:he):ne=he,H){case 1:var ie=-1;break;case 2:ie=250;break;case 5:ie=1073741823;break;case 4:ie=1e4;break;default:ie=5e3}return ie=ne+ie,H={id:m++,callback:te,priorityLevel:H,startTime:ne,expirationTime:ie,sortIndex:-1},ne>he?(H.sortIndex=ne,e(u,H),t(a)===null&&H===t(u)&&(p?(x(C),C=-1):p=!0,V(L,ne-he))):(H.sortIndex=ie,e(a,H),_||g||(_=!0,P||(P=!0,G()))),H},n.unstable_shouldYield=R,n.unstable_wrapCallback=function(H){var te=b;return function(){var ne=b;b=te;try{return H.apply(this,arguments)}finally{b=ne}}}})(Yw)),Yw}var CO;function i$(){return CO||(CO=1,qw.exports=n$()),qw.exports}var Kw={exports:{}},pr={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var TO;function r$(){if(TO)return pr;TO=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),o=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),a=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),d=Symbol.iterator;function b(ie){return ie===null||typeof ie!="object"?null:(ie=d&&ie[d]||ie["@@iterator"],typeof ie=="function"?ie:null)}var g={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_=Object.assign,p={};function v(ie,ce,Se){this.props=ie,this.context=ce,this.refs=p,this.updater=Se||g}v.prototype.isReactComponent={},v.prototype.setState=function(ie,ce){if(typeof ie!="object"&&typeof ie!="function"&&ie!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,ie,ce,"setState")},v.prototype.forceUpdate=function(ie){this.updater.enqueueForceUpdate(this,ie,"forceUpdate")};function c(){}c.prototype=v.prototype;function x(ie,ce,Se){this.props=ie,this.context=ce,this.refs=p,this.updater=Se||g}var w=x.prototype=new c;w.constructor=x,_(w,v.prototype),w.isPureReactComponent=!0;var T=Array.isArray,L={H:null,A:null,T:null,S:null,V:null},P=Object.prototype.hasOwnProperty;function C(ie,ce,Se,Ee,me,le){return Se=le.ref,{$$typeof:n,type:ie,key:ce,ref:Se!==void 0?Se:null,props:le}}function I(ie,ce){return C(ie.type,ce,void 0,void 0,void 0,ie.props)}function F(ie){return typeof ie=="object"&&ie!==null&&ie.$$typeof===n}function R(ie){var ce={"=":"=0",":":"=2"};return"$"+ie.replace(/[=:]/g,function(Se){return ce[Se]})}var D=/\/+/g;function G(ie,ce){return typeof ie=="object"&&ie!==null&&ie.key!=null?R(""+ie.key):ce.toString(36)}function j(){}function k(ie){switch(ie.status){case"fulfilled":return ie.value;case"rejected":throw ie.reason;default:switch(typeof ie.status=="string"?ie.then(j,j):(ie.status="pending",ie.then(function(ce){ie.status==="pending"&&(ie.status="fulfilled",ie.value=ce)},function(ce){ie.status==="pending"&&(ie.status="rejected",ie.reason=ce)})),ie.status){case"fulfilled":return ie.value;case"rejected":throw ie.reason}}throw ie}function V(ie,ce,Se,Ee,me){var le=typeof ie;(le==="undefined"||le==="boolean")&&(ie=null);var we=!1;if(ie===null)we=!0;else switch(le){case"bigint":case"string":case"number":we=!0;break;case"object":switch(ie.$$typeof){case n:case e:we=!0;break;case m:return we=ie._init,V(we(ie._payload),ce,Se,Ee,me)}}if(we)return me=me(ie),we=Ee===""?"."+G(ie,0):Ee,T(me)?(Se="",we!=null&&(Se=we.replace(D,"$&/")+"/"),V(me,ce,Se,"",function(qe){return qe})):me!=null&&(F(me)&&(me=I(me,Se+(me.key==null||ie&&ie.key===me.key?"":(""+me.key).replace(D,"$&/")+"/")+we)),ce.push(me)),1;we=0;var Re=Ee===""?".":Ee+":";if(T(ie))for(var Fe=0;Fe<ie.length;Fe++)Ee=ie[Fe],le=Re+G(Ee,Fe),we+=V(Ee,ce,Se,le,me);else if(Fe=b(ie),typeof Fe=="function")for(ie=Fe.call(ie),Fe=0;!(Ee=ie.next()).done;)Ee=Ee.value,le=Re+G(Ee,Fe++),we+=V(Ee,ce,Se,le,me);else if(le==="object"){if(typeof ie.then=="function")return V(k(ie),ce,Se,Ee,me);throw ce=String(ie),Error("Objects are not valid as a React child (found: "+(ce==="[object Object]"?"object with keys {"+Object.keys(ie).join(", ")+"}":ce)+"). If you meant to render a collection of children, use an array instead.")}return we}function H(ie,ce,Se){if(ie==null)return ie;var Ee=[],me=0;return V(ie,Ee,"","",function(le){return ce.call(Se,le,me++)}),Ee}function te(ie){if(ie._status===-1){var ce=ie._result;ce=ce(),ce.then(function(Se){(ie._status===0||ie._status===-1)&&(ie._status=1,ie._result=Se)},function(Se){(ie._status===0||ie._status===-1)&&(ie._status=2,ie._result=Se)}),ie._status===-1&&(ie._status=0,ie._result=ce)}if(ie._status===1)return ie._result.default;throw ie._result}var ne=typeof reportError=="function"?reportError:function(ie){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ce=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof ie=="object"&&ie!==null&&typeof ie.message=="string"?String(ie.message):String(ie),error:ie});if(!window.dispatchEvent(ce))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",ie);return}console.error(ie)};function he(){}return pr.Children={map:H,forEach:function(ie,ce,Se){H(ie,function(){ce.apply(this,arguments)},Se)},count:function(ie){var ce=0;return H(ie,function(){ce++}),ce},toArray:function(ie){return H(ie,function(ce){return ce})||[]},only:function(ie){if(!F(ie))throw Error("React.Children.only expected to receive a single React element child.");return ie}},pr.Component=v,pr.Fragment=t,pr.Profiler=r,pr.PureComponent=x,pr.StrictMode=i,pr.Suspense=a,pr.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=L,pr.__COMPILER_RUNTIME={__proto__:null,c:function(ie){return L.H.useMemoCache(ie)}},pr.cache=function(ie){return function(){return ie.apply(null,arguments)}},pr.cloneElement=function(ie,ce,Se){if(ie==null)throw Error("The argument must be a React element, but you passed "+ie+".");var Ee=_({},ie.props),me=ie.key,le=void 0;if(ce!=null)for(we in ce.ref!==void 0&&(le=void 0),ce.key!==void 0&&(me=""+ce.key),ce)!P.call(ce,we)||we==="key"||we==="__self"||we==="__source"||we==="ref"&&ce.ref===void 0||(Ee[we]=ce[we]);var we=arguments.length-2;if(we===1)Ee.children=Se;else if(1<we){for(var Re=Array(we),Fe=0;Fe<we;Fe++)Re[Fe]=arguments[Fe+2];Ee.children=Re}return C(ie.type,me,void 0,void 0,le,Ee)},pr.createContext=function(ie){return ie={$$typeof:o,_currentValue:ie,_currentValue2:ie,_threadCount:0,Provider:null,Consumer:null},ie.Provider=ie,ie.Consumer={$$typeof:s,_context:ie},ie},pr.createElement=function(ie,ce,Se){var Ee,me={},le=null;if(ce!=null)for(Ee in ce.key!==void 0&&(le=""+ce.key),ce)P.call(ce,Ee)&&Ee!=="key"&&Ee!=="__self"&&Ee!=="__source"&&(me[Ee]=ce[Ee]);var we=arguments.length-2;if(we===1)me.children=Se;else if(1<we){for(var Re=Array(we),Fe=0;Fe<we;Fe++)Re[Fe]=arguments[Fe+2];me.children=Re}if(ie&&ie.defaultProps)for(Ee in we=ie.defaultProps,we)me[Ee]===void 0&&(me[Ee]=we[Ee]);return C(ie,le,void 0,void 0,null,me)},pr.createRef=function(){return{current:null}},pr.forwardRef=function(ie){return{$$typeof:l,render:ie}},pr.isValidElement=F,pr.lazy=function(ie){return{$$typeof:m,_payload:{_status:-1,_result:ie},_init:te}},pr.memo=function(ie,ce){return{$$typeof:u,type:ie,compare:ce===void 0?null:ce}},pr.startTransition=function(ie){var ce=L.T,Se={};L.T=Se;try{var Ee=ie(),me=L.S;me!==null&&me(Se,Ee),typeof Ee=="object"&&Ee!==null&&typeof Ee.then=="function"&&Ee.then(he,ne)}catch(le){ne(le)}finally{L.T=ce}},pr.unstable_useCacheRefresh=function(){return L.H.useCacheRefresh()},pr.use=function(ie){return L.H.use(ie)},pr.useActionState=function(ie,ce,Se){return L.H.useActionState(ie,ce,Se)},pr.useCallback=function(ie,ce){return L.H.useCallback(ie,ce)},pr.useContext=function(ie){return L.H.useContext(ie)},pr.useDebugValue=function(){},pr.useDeferredValue=function(ie,ce){return L.H.useDeferredValue(ie,ce)},pr.useEffect=function(ie,ce,Se){var Ee=L.H;if(typeof Se=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return Ee.useEffect(ie,ce)},pr.useId=function(){return L.H.useId()},pr.useImperativeHandle=function(ie,ce,Se){return L.H.useImperativeHandle(ie,ce,Se)},pr.useInsertionEffect=function(ie,ce){return L.H.useInsertionEffect(ie,ce)},pr.useLayoutEffect=function(ie,ce){return L.H.useLayoutEffect(ie,ce)},pr.useMemo=function(ie,ce){return L.H.useMemo(ie,ce)},pr.useOptimistic=function(ie,ce){return L.H.useOptimistic(ie,ce)},pr.useReducer=function(ie,ce,Se){return L.H.useReducer(ie,ce,Se)},pr.useRef=function(ie){return L.H.useRef(ie)},pr.useState=function(ie){return L.H.useState(ie)},pr.useSyncExternalStore=function(ie,ce,Se){return L.H.useSyncExternalStore(ie,ce,Se)},pr.useTransition=function(){return L.H.useTransition()},pr.version="19.1.1",pr}var AO;function Sg(){return AO||(AO=1,Kw.exports=r$()),Kw.exports}var Zw={exports:{}},Tl={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var RO;function s$(){if(RO)return Tl;RO=1;var n=Sg();function e(a){var u="https://react.dev/errors/"+a;if(1<arguments.length){u+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)u+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+a+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var i={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},r=Symbol.for("react.portal");function s(a,u,m){var d=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:d==null?null:""+d,children:a,containerInfo:u,implementation:m}}var o=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function l(a,u){if(a==="font")return"";if(typeof u=="string")return u==="use-credentials"?u:""}return Tl.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Tl.createPortal=function(a,u){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!u||u.nodeType!==1&&u.nodeType!==9&&u.nodeType!==11)throw Error(e(299));return s(a,u,null,m)},Tl.flushSync=function(a){var u=o.T,m=i.p;try{if(o.T=null,i.p=2,a)return a()}finally{o.T=u,i.p=m,i.d.f()}},Tl.preconnect=function(a,u){typeof a=="string"&&(u?(u=u.crossOrigin,u=typeof u=="string"?u==="use-credentials"?u:"":void 0):u=null,i.d.C(a,u))},Tl.prefetchDNS=function(a){typeof a=="string"&&i.d.D(a)},Tl.preinit=function(a,u){if(typeof a=="string"&&u&&typeof u.as=="string"){var m=u.as,d=l(m,u.crossOrigin),b=typeof u.integrity=="string"?u.integrity:void 0,g=typeof u.fetchPriority=="string"?u.fetchPriority:void 0;m==="style"?i.d.S(a,typeof u.precedence=="string"?u.precedence:void 0,{crossOrigin:d,integrity:b,fetchPriority:g}):m==="script"&&i.d.X(a,{crossOrigin:d,integrity:b,fetchPriority:g,nonce:typeof u.nonce=="string"?u.nonce:void 0})}},Tl.preinitModule=function(a,u){if(typeof a=="string")if(typeof u=="object"&&u!==null){if(u.as==null||u.as==="script"){var m=l(u.as,u.crossOrigin);i.d.M(a,{crossOrigin:m,integrity:typeof u.integrity=="string"?u.integrity:void 0,nonce:typeof u.nonce=="string"?u.nonce:void 0})}}else u==null&&i.d.M(a)},Tl.preload=function(a,u){if(typeof a=="string"&&typeof u=="object"&&u!==null&&typeof u.as=="string"){var m=u.as,d=l(m,u.crossOrigin);i.d.L(a,m,{crossOrigin:d,integrity:typeof u.integrity=="string"?u.integrity:void 0,nonce:typeof u.nonce=="string"?u.nonce:void 0,type:typeof u.type=="string"?u.type:void 0,fetchPriority:typeof u.fetchPriority=="string"?u.fetchPriority:void 0,referrerPolicy:typeof u.referrerPolicy=="string"?u.referrerPolicy:void 0,imageSrcSet:typeof u.imageSrcSet=="string"?u.imageSrcSet:void 0,imageSizes:typeof u.imageSizes=="string"?u.imageSizes:void 0,media:typeof u.media=="string"?u.media:void 0})}},Tl.preloadModule=function(a,u){if(typeof a=="string")if(u){var m=l(u.as,u.crossOrigin);i.d.m(a,{as:typeof u.as=="string"&&u.as!=="script"?u.as:void 0,crossOrigin:m,integrity:typeof u.integrity=="string"?u.integrity:void 0})}else i.d.m(a)},Tl.requestFormReset=function(a){i.d.r(a)},Tl.unstable_batchedUpdates=function(a,u){return a(u)},Tl.useFormState=function(a,u,m){return o.H.useFormState(a,u,m)},Tl.useFormStatus=function(){return o.H.useHostTransitionStatus()},Tl.version="19.1.1",Tl}var MO;function DD(){if(MO)return Zw.exports;MO=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Zw.exports=s$(),Zw.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var OO;function o$(){if(OO)return ly;OO=1;var n=i$(),e=Sg(),t=DD();function i(h){var f="https://react.dev/errors/"+h;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)f+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+h+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(h){return!(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)}function s(h){var f=h,E=h;if(h.alternate)for(;f.return;)f=f.return;else{h=f;do f=h,(f.flags&4098)!==0&&(E=f.return),h=f.return;while(h)}return f.tag===3?E:null}function o(h){if(h.tag===13){var f=h.memoizedState;if(f===null&&(h=h.alternate,h!==null&&(f=h.memoizedState)),f!==null)return f.dehydrated}return null}function l(h){if(s(h)!==h)throw Error(i(188))}function a(h){var f=h.alternate;if(!f){if(f=s(h),f===null)throw Error(i(188));return f!==h?null:h}for(var E=h,M=f;;){var z=E.return;if(z===null)break;var q=z.alternate;if(q===null){if(M=z.return,M!==null){E=M;continue}break}if(z.child===q.child){for(q=z.child;q;){if(q===E)return l(z),h;if(q===M)return l(z),f;q=q.sibling}throw Error(i(188))}if(E.return!==M.return)E=z,M=q;else{for(var de=!1,Ce=z.child;Ce;){if(Ce===E){de=!0,E=z,M=q;break}if(Ce===M){de=!0,M=z,E=q;break}Ce=Ce.sibling}if(!de){for(Ce=q.child;Ce;){if(Ce===E){de=!0,E=q,M=z;break}if(Ce===M){de=!0,M=q,E=z;break}Ce=Ce.sibling}if(!de)throw Error(i(189))}}if(E.alternate!==M)throw Error(i(190))}if(E.tag!==3)throw Error(i(188));return E.stateNode.current===E?h:f}function u(h){var f=h.tag;if(f===5||f===26||f===27||f===6)return h;for(h=h.child;h!==null;){if(f=u(h),f!==null)return f;h=h.sibling}return null}var m=Object.assign,d=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),g=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),p=Symbol.for("react.strict_mode"),v=Symbol.for("react.profiler"),c=Symbol.for("react.provider"),x=Symbol.for("react.consumer"),w=Symbol.for("react.context"),T=Symbol.for("react.forward_ref"),L=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),I=Symbol.for("react.lazy"),F=Symbol.for("react.activity"),R=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function G(h){return h===null||typeof h!="object"?null:(h=D&&h[D]||h["@@iterator"],typeof h=="function"?h:null)}var j=Symbol.for("react.client.reference");function k(h){if(h==null)return null;if(typeof h=="function")return h.$$typeof===j?null:h.displayName||h.name||null;if(typeof h=="string")return h;switch(h){case _:return"Fragment";case v:return"Profiler";case p:return"StrictMode";case L:return"Suspense";case P:return"SuspenseList";case F:return"Activity"}if(typeof h=="object")switch(h.$$typeof){case g:return"Portal";case w:return(h.displayName||"Context")+".Provider";case x:return(h._context.displayName||"Context")+".Consumer";case T:var f=h.render;return h=h.displayName,h||(h=f.displayName||f.name||"",h=h!==""?"ForwardRef("+h+")":"ForwardRef"),h;case C:return f=h.displayName||null,f!==null?f:k(h.type)||"Memo";case I:f=h._payload,h=h._init;try{return k(h(f))}catch{}}return null}var V=Array.isArray,H=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,te=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ne={pending:!1,data:null,method:null,action:null},he=[],ie=-1;function ce(h){return{current:h}}function Se(h){0>ie||(h.current=he[ie],he[ie]=null,ie--)}function Ee(h,f){ie++,he[ie]=h.current,h.current=f}var me=ce(null),le=ce(null),we=ce(null),Re=ce(null);function Fe(h,f){switch(Ee(we,f),Ee(le,h),Ee(me,null),f.nodeType){case 9:case 11:h=(h=f.documentElement)&&(h=h.namespaceURI)?X2(h):0;break;default:if(h=f.tagName,f=f.namespaceURI)f=X2(f),h=q2(f,h);else switch(h){case"svg":h=1;break;case"math":h=2;break;default:h=0}}Se(me),Ee(me,h)}function qe(){Se(me),Se(le),Se(we)}function ot(h){h.memoizedState!==null&&Ee(Re,h);var f=me.current,E=q2(f,h.type);f!==E&&(Ee(le,h),Ee(me,E))}function dn(h){le.current===h&&(Se(me),Se(le)),Re.current===h&&(Se(Re),ty._currentValue=ne)}var mn=Object.prototype.hasOwnProperty,pn=n.unstable_scheduleCallback,Ae=n.unstable_cancelCallback,Bt=n.unstable_shouldYield,Tt=n.unstable_requestPaint,zt=n.unstable_now,At=n.unstable_getCurrentPriorityLevel,yn=n.unstable_ImmediatePriority,nt=n.unstable_UserBlockingPriority,Nt=n.unstable_NormalPriority,en=n.unstable_LowPriority,_e=n.unstable_IdlePriority,ue=n.log,ze=n.unstable_setDisableYieldValue,rt=null,pt=null;function ht(h){if(typeof ue=="function"&&ze(h),pt&&typeof pt.setStrictMode=="function")try{pt.setStrictMode(rt,h)}catch{}}var Yt=Math.clz32?Math.clz32:An,Qt=Math.log,Cn=Math.LN2;function An(h){return h>>>=0,h===0?32:31-(Qt(h)/Cn|0)|0}var Pt=256,on=4194304;function Pn(h){var f=h&42;if(f!==0)return f;switch(h&-h){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return h&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return h&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return h}}function Ge(h,f,E){var M=h.pendingLanes;if(M===0)return 0;var z=0,q=h.suspendedLanes,de=h.pingedLanes;h=h.warmLanes;var Ce=M&134217727;return Ce!==0?(M=Ce&~q,M!==0?z=Pn(M):(de&=Ce,de!==0?z=Pn(de):E||(E=Ce&~h,E!==0&&(z=Pn(E))))):(Ce=M&~q,Ce!==0?z=Pn(Ce):de!==0?z=Pn(de):E||(E=M&~h,E!==0&&(z=Pn(E)))),z===0?0:f!==0&&f!==z&&(f&q)===0&&(q=z&-z,E=f&-f,q>=E||q===32&&(E&4194048)!==0)?f:z}function lt(h,f){return(h.pendingLanes&~(h.suspendedLanes&~h.pingedLanes)&f)===0}function Xt(h,f){switch(h){case 1:case 2:case 4:case 8:case 64:return f+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return f+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Xe(){var h=Pt;return Pt<<=1,(Pt&4194048)===0&&(Pt=256),h}function mt(){var h=on;return on<<=1,(on&62914560)===0&&(on=4194304),h}function $t(h){for(var f=[],E=0;31>E;E++)f.push(h);return f}function gn(h,f){h.pendingLanes|=f,f!==268435456&&(h.suspendedLanes=0,h.pingedLanes=0,h.warmLanes=0)}function sn(h,f,E,M,z,q){var de=h.pendingLanes;h.pendingLanes=E,h.suspendedLanes=0,h.pingedLanes=0,h.warmLanes=0,h.expiredLanes&=E,h.entangledLanes&=E,h.errorRecoveryDisabledLanes&=E,h.shellSuspendCounter=0;var Ce=h.entanglements,Ke=h.expirationTimes,wt=h.hiddenUpdates;for(E=de&~E;0<E;){var nn=31-Yt(E),fn=1<<nn;Ce[nn]=0,Ke[nn]=-1;var Ot=wt[nn];if(Ot!==null)for(wt[nn]=null,nn=0;nn<Ot.length;nn++){var It=Ot[nn];It!==null&&(It.lane&=-536870913)}E&=~fn}M!==0&&Ut(h,M,0),q!==0&&z===0&&h.tag!==0&&(h.suspendedLanes|=q&~(de&~f))}function Ut(h,f,E){h.pendingLanes|=f,h.suspendedLanes&=~f;var M=31-Yt(f);h.entangledLanes|=f,h.entanglements[M]=h.entanglements[M]|1073741824|E&4194090}function _n(h,f){var E=h.entangledLanes|=f;for(h=h.entanglements;E;){var M=31-Yt(E),z=1<<M;z&f|h[M]&f&&(h[M]|=f),E&=~z}}function Dn(h){switch(h){case 2:h=1;break;case 8:h=4;break;case 32:h=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:h=128;break;case 268435456:h=134217728;break;default:h=0}return h}function Ai(h){return h&=-h,2<h?8<h?(h&134217727)!==0?32:268435456:8:2}function Ri(){var h=te.p;return h!==0?h:(h=window.event,h===void 0?32:fO(h.type))}function Ar(h,f){var E=te.p;try{return te.p=h,f()}finally{te.p=E}}var rr=Math.random().toString(36).slice(2),dr="__reactFiber$"+rr,Pr="__reactProps$"+rr,gr="__reactContainer$"+rr,ms="__reactEvents$"+rr,zs="__reactListeners$"+rr,Ds="__reactHandles$"+rr,gi="__reactResources$"+rr,ls="__reactMarker$"+rr;function nr(h){delete h[dr],delete h[Pr],delete h[ms],delete h[zs],delete h[Ds]}function ge(h){var f=h[dr];if(f)return f;for(var E=h.parentNode;E;){if(f=E[gr]||E[dr]){if(E=f.alternate,f.child!==null||E!==null&&E.child!==null)for(h=Q2(h);h!==null;){if(E=h[dr])return E;h=Q2(h)}return f}h=E,E=h.parentNode}return null}function Te(h){if(h=h[dr]||h[gr]){var f=h.tag;if(f===5||f===6||f===13||f===26||f===27||f===3)return h}return null}function Ye(h){var f=h.tag;if(f===5||f===26||f===27||f===6)return h.stateNode;throw Error(i(33))}function vt(h){var f=h[gi];return f||(f=h[gi]={hoistableStyles:new Map,hoistableScripts:new Map}),f}function bt(h){h[ls]=!0}var St=new Set,an={};function Wt(h,f){fe(h,f),fe(h+"Capture",f)}function fe(h,f){for(an[h]=f,h=0;h<f.length;h++)St.add(f[h])}var Be=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ve={},je={};function et(h){return mn.call(je,h)?!0:mn.call(Ve,h)?!1:Be.test(h)?je[h]=!0:(Ve[h]=!0,!1)}function ft(h,f,E){if(et(f))if(E===null)h.removeAttribute(f);else{switch(typeof E){case"undefined":case"function":case"symbol":h.removeAttribute(f);return;case"boolean":var M=f.toLowerCase().slice(0,5);if(M!=="data-"&&M!=="aria-"){h.removeAttribute(f);return}}h.setAttribute(f,""+E)}}function Et(h,f,E){if(E===null)h.removeAttribute(f);else{switch(typeof E){case"undefined":case"function":case"symbol":case"boolean":h.removeAttribute(f);return}h.setAttribute(f,""+E)}}function Gt(h,f,E,M){if(M===null)h.removeAttribute(E);else{switch(typeof M){case"undefined":case"function":case"symbol":case"boolean":h.removeAttribute(E);return}h.setAttributeNS(f,E,""+M)}}var Jt,Nn;function Rn(h){if(Jt===void 0)try{throw Error()}catch(E){var f=E.stack.trim().match(/\n( *(at )?)/);Jt=f&&f[1]||"",Nn=-1<E.stack.indexOf(`
    at`)?" (<anonymous>)":-1<E.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Jt+h+Nn}var hn=!1;function Un(h,f){if(!h||hn)return"";hn=!0;var E=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var M={DetermineComponentFrameRoot:function(){try{if(f){var fn=function(){throw Error()};if(Object.defineProperty(fn.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(fn,[])}catch(It){var Ot=It}Reflect.construct(h,[],fn)}else{try{fn.call()}catch(It){Ot=It}h.call(fn.prototype)}}else{try{throw Error()}catch(It){Ot=It}(fn=h())&&typeof fn.catch=="function"&&fn.catch(function(){})}}catch(It){if(It&&Ot&&typeof It.stack=="string")return[It.stack,Ot.stack]}return[null,null]}};M.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var z=Object.getOwnPropertyDescriptor(M.DetermineComponentFrameRoot,"name");z&&z.configurable&&Object.defineProperty(M.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var q=M.DetermineComponentFrameRoot(),de=q[0],Ce=q[1];if(de&&Ce){var Ke=de.split(`
`),wt=Ce.split(`
`);for(z=M=0;M<Ke.length&&!Ke[M].includes("DetermineComponentFrameRoot");)M++;for(;z<wt.length&&!wt[z].includes("DetermineComponentFrameRoot");)z++;if(M===Ke.length||z===wt.length)for(M=Ke.length-1,z=wt.length-1;1<=M&&0<=z&&Ke[M]!==wt[z];)z--;for(;1<=M&&0<=z;M--,z--)if(Ke[M]!==wt[z]){if(M!==1||z!==1)do if(M--,z--,0>z||Ke[M]!==wt[z]){var nn=`
`+Ke[M].replace(" at new "," at ");return h.displayName&&nn.includes("<anonymous>")&&(nn=nn.replace("<anonymous>",h.displayName)),nn}while(1<=M&&0<=z);break}}}finally{hn=!1,Error.prepareStackTrace=E}return(E=h?h.displayName||h.name:"")?Rn(E):""}function Yn(h){switch(h.tag){case 26:case 27:case 5:return Rn(h.type);case 16:return Rn("Lazy");case 13:return Rn("Suspense");case 19:return Rn("SuspenseList");case 0:case 15:return Un(h.type,!1);case 11:return Un(h.type.render,!1);case 1:return Un(h.type,!0);case 31:return Rn("Activity");default:return""}}function Ui(h){try{var f="";do f+=Yn(h),h=h.return;while(h);return f}catch(E){return`
Error generating stack: `+E.message+`
`+E.stack}}function En(h){switch(typeof h){case"bigint":case"boolean":case"number":case"string":case"undefined":return h;case"object":return h;default:return""}}function ri(h){var f=h.type;return(h=h.nodeName)&&h.toLowerCase()==="input"&&(f==="checkbox"||f==="radio")}function K(h){var f=ri(h)?"checked":"value",E=Object.getOwnPropertyDescriptor(h.constructor.prototype,f),M=""+h[f];if(!h.hasOwnProperty(f)&&typeof E<"u"&&typeof E.get=="function"&&typeof E.set=="function"){var z=E.get,q=E.set;return Object.defineProperty(h,f,{configurable:!0,get:function(){return z.call(this)},set:function(de){M=""+de,q.call(this,de)}}),Object.defineProperty(h,f,{enumerable:E.enumerable}),{getValue:function(){return M},setValue:function(de){M=""+de},stopTracking:function(){h._valueTracker=null,delete h[f]}}}}function $i(h){h._valueTracker||(h._valueTracker=K(h))}function ni(h){if(!h)return!1;var f=h._valueTracker;if(!f)return!0;var E=f.getValue(),M="";return h&&(M=ri(h)?h.checked?"true":"false":h.value),h=M,h!==E?(f.setValue(h),!0):!1}function ci(h){if(h=h||(typeof document<"u"?document:void 0),typeof h>"u")return null;try{return h.activeElement||h.body}catch{return h.body}}var ct=/[\n"\\]/g;function Je(h){return h.replace(ct,function(f){return"\\"+f.charCodeAt(0).toString(16)+" "})}function wn(h,f,E,M,z,q,de,Ce){h.name="",de!=null&&typeof de!="function"&&typeof de!="symbol"&&typeof de!="boolean"?h.type=de:h.removeAttribute("type"),f!=null?de==="number"?(f===0&&h.value===""||h.value!=f)&&(h.value=""+En(f)):h.value!==""+En(f)&&(h.value=""+En(f)):de!=="submit"&&de!=="reset"||h.removeAttribute("value"),f!=null?yi(h,de,En(f)):E!=null?yi(h,de,En(E)):M!=null&&h.removeAttribute("value"),z==null&&q!=null&&(h.defaultChecked=!!q),z!=null&&(h.checked=z&&typeof z!="function"&&typeof z!="symbol"),Ce!=null&&typeof Ce!="function"&&typeof Ce!="symbol"&&typeof Ce!="boolean"?h.name=""+En(Ce):h.removeAttribute("name")}function qn(h,f,E,M,z,q,de,Ce){if(q!=null&&typeof q!="function"&&typeof q!="symbol"&&typeof q!="boolean"&&(h.type=q),f!=null||E!=null){if(!(q!=="submit"&&q!=="reset"||f!=null))return;E=E!=null?""+En(E):"",f=f!=null?""+En(f):E,Ce||f===h.value||(h.value=f),h.defaultValue=f}M=M??z,M=typeof M!="function"&&typeof M!="symbol"&&!!M,h.checked=Ce?h.checked:!!M,h.defaultChecked=!!M,de!=null&&typeof de!="function"&&typeof de!="symbol"&&typeof de!="boolean"&&(h.name=de)}function yi(h,f,E){f==="number"&&ci(h.ownerDocument)===h||h.defaultValue===""+E||(h.defaultValue=""+E)}function $n(h,f,E,M){if(h=h.options,f){f={};for(var z=0;z<E.length;z++)f["$"+E[z]]=!0;for(E=0;E<h.length;E++)z=f.hasOwnProperty("$"+h[E].value),h[E].selected!==z&&(h[E].selected=z),z&&M&&(h[E].defaultSelected=!0)}else{for(E=""+En(E),f=null,z=0;z<h.length;z++){if(h[z].value===E){h[z].selected=!0,M&&(h[z].defaultSelected=!0);return}f!==null||h[z].disabled||(f=h[z])}f!==null&&(f.selected=!0)}}function ji(h,f,E){if(f!=null&&(f=""+En(f),f!==h.value&&(h.value=f),E==null)){h.defaultValue!==f&&(h.defaultValue=f);return}h.defaultValue=E!=null?""+En(E):""}function Ht(h,f,E,M){if(f==null){if(M!=null){if(E!=null)throw Error(i(92));if(V(M)){if(1<M.length)throw Error(i(93));M=M[0]}E=M}E==null&&(E=""),f=E}E=En(f),h.defaultValue=E,M=h.textContent,M===E&&M!==""&&M!==null&&(h.value=M)}function gs(h,f){if(f){var E=h.firstChild;if(E&&E===h.lastChild&&E.nodeType===3){E.nodeValue=f;return}}h.textContent=f}var $s=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ao(h,f,E){var M=f.indexOf("--")===0;E==null||typeof E=="boolean"||E===""?M?h.setProperty(f,""):f==="float"?h.cssFloat="":h[f]="":M?h.setProperty(f,E):typeof E!="number"||E===0||$s.has(f)?f==="float"?h.cssFloat=E:h[f]=(""+E).trim():h[f]=E+"px"}function Dr(h,f,E){if(f!=null&&typeof f!="object")throw Error(i(62));if(h=h.style,E!=null){for(var M in E)!E.hasOwnProperty(M)||f!=null&&f.hasOwnProperty(M)||(M.indexOf("--")===0?h.setProperty(M,""):M==="float"?h.cssFloat="":h[M]="");for(var z in f)M=f[z],f.hasOwnProperty(z)&&E[z]!==M&&ao(h,z,M)}else for(var q in f)f.hasOwnProperty(q)&&ao(h,q,f[q])}function Zs(h){if(h.indexOf("-")===-1)return!1;switch(h){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var jo=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ua=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Qs(h){return Ua.test(""+h)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":h}var Qa=null;function Js(h){return h=h.target||h.srcElement||window,h.correspondingUseElement&&(h=h.correspondingUseElement),h.nodeType===3?h.parentNode:h}var lo=null,wa=null;function ca(h){var f=Te(h);if(f&&(h=f.stateNode)){var E=h[Pr]||null;e:switch(h=f.stateNode,f.type){case"input":if(wn(h,E.value,E.defaultValue,E.defaultValue,E.checked,E.defaultChecked,E.type,E.name),f=E.name,E.type==="radio"&&f!=null){for(E=h;E.parentNode;)E=E.parentNode;for(E=E.querySelectorAll('input[name="'+Je(""+f)+'"][type="radio"]'),f=0;f<E.length;f++){var M=E[f];if(M!==h&&M.form===h.form){var z=M[Pr]||null;if(!z)throw Error(i(90));wn(M,z.value,z.defaultValue,z.defaultValue,z.checked,z.defaultChecked,z.type,z.name)}}for(f=0;f<E.length;f++)M=E[f],M.form===h.form&&ni(M)}break e;case"textarea":ji(h,E.value,E.defaultValue);break e;case"select":f=E.value,f!=null&&$n(h,!!E.multiple,f,!1)}}}var Ca=!1;function ka(h,f,E){if(Ca)return h(f,E);Ca=!0;try{var M=h(f);return M}finally{if(Ca=!1,(lo!==null||wa!==null)&&(Ru(),lo&&(f=lo,h=wa,wa=lo=null,ca(f),h)))for(f=0;f<h.length;f++)ca(h[f])}}function ua(h,f){var E=h.stateNode;if(E===null)return null;var M=E[Pr]||null;if(M===null)return null;E=M[f];e:switch(f){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(M=!M.disabled)||(h=h.type,M=!(h==="button"||h==="input"||h==="select"||h==="textarea")),h=!M;break e;default:h=!1}if(h)return null;if(E&&typeof E!="function")throw Error(i(231,f,typeof E));return E}var Po=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ja=!1;if(Po)try{var No={};Object.defineProperty(No,"passive",{get:function(){Ja=!0}}),window.addEventListener("test",No,No),window.removeEventListener("test",No,No)}catch{Ja=!1}var ha=null,Bl=null,el=null;function tl(){if(el)return el;var h,f=Bl,E=f.length,M,z="value"in ha?ha.value:ha.textContent,q=z.length;for(h=0;h<E&&f[h]===z[h];h++);var de=E-h;for(M=1;M<=de&&f[E-M]===z[q-M];M++);return el=z.slice(h,1<M?1-M:void 0)}function Io(h){var f=h.keyCode;return"charCode"in h?(h=h.charCode,h===0&&f===13&&(h=13)):h=f,h===10&&(h=13),32<=h||h===13?h:0}function Fs(){return!0}function jr(){return!1}function vs(h){function f(E,M,z,q,de){this._reactName=E,this._targetInst=z,this.type=M,this.nativeEvent=q,this.target=de,this.currentTarget=null;for(var Ce in h)h.hasOwnProperty(Ce)&&(E=h[Ce],this[Ce]=E?E(q):q[Ce]);return this.isDefaultPrevented=(q.defaultPrevented!=null?q.defaultPrevented:q.returnValue===!1)?Fs:jr,this.isPropagationStopped=jr,this}return m(f.prototype,{preventDefault:function(){this.defaultPrevented=!0;var E=this.nativeEvent;E&&(E.preventDefault?E.preventDefault():typeof E.returnValue!="unknown"&&(E.returnValue=!1),this.isDefaultPrevented=Fs)},stopPropagation:function(){var E=this.nativeEvent;E&&(E.stopPropagation?E.stopPropagation():typeof E.cancelBubble!="unknown"&&(E.cancelBubble=!0),this.isPropagationStopped=Fs)},persist:function(){},isPersistent:Fs}),f}var Rr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(h){return h.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},co=vs(Rr),Xo=m({},Rr,{view:0,detail:0}),Ta=vs(Xo),eo,xn,A,B=m({},Xo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Vt,button:0,buttons:0,relatedTarget:function(h){return h.relatedTarget===void 0?h.fromElement===h.srcElement?h.toElement:h.fromElement:h.relatedTarget},movementX:function(h){return"movementX"in h?h.movementX:(h!==A&&(A&&h.type==="mousemove"?(eo=h.screenX-A.screenX,xn=h.screenY-A.screenY):xn=eo=0,A=h),eo)},movementY:function(h){return"movementY"in h?h.movementY:xn}}),J=vs(B),Z=m({},B,{dataTransfer:0}),be=vs(Z),Ne=m({},Xo,{relatedTarget:0}),O=vs(Ne),U=m({},Rr,{animationName:0,elapsedTime:0,pseudoElement:0}),X=vs(U),ee=m({},Rr,{clipboardData:function(h){return"clipboardData"in h?h.clipboardData:window.clipboardData}}),oe=vs(ee),re=m({},Rr,{data:0}),pe=vs(re),He={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ie={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},tt={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Rt(h){var f=this.nativeEvent;return f.getModifierState?f.getModifierState(h):(h=tt[h])?!!f[h]:!1}function Vt(){return Rt}var _t=m({},Xo,{key:function(h){if(h.key){var f=He[h.key]||h.key;if(f!=="Unidentified")return f}return h.type==="keypress"?(h=Io(h),h===13?"Enter":String.fromCharCode(h)):h.type==="keydown"||h.type==="keyup"?Ie[h.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Vt,charCode:function(h){return h.type==="keypress"?Io(h):0},keyCode:function(h){return h.type==="keydown"||h.type==="keyup"?h.keyCode:0},which:function(h){return h.type==="keypress"?Io(h):h.type==="keydown"||h.type==="keyup"?h.keyCode:0}}),ln=vs(_t),si=m({},B,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ve=vs(si),xe=m({},Xo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Vt}),$e=vs(xe),Pe=m({},Rr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ue=vs(Pe),qt=m({},B,{deltaX:function(h){return"deltaX"in h?h.deltaX:"wheelDeltaX"in h?-h.wheelDeltaX:0},deltaY:function(h){return"deltaY"in h?h.deltaY:"wheelDeltaY"in h?-h.wheelDeltaY:"wheelDelta"in h?-h.wheelDelta:0},deltaZ:0,deltaMode:0}),kt=vs(qt),Zt=m({},Rr,{newState:0,oldState:0}),vn=vs(Zt),Mn=[9,13,27,32],ui=Po&&"CompositionEvent"in window,qi=null;Po&&"documentMode"in document&&(qi=document.documentMode);var ai=Po&&"TextEvent"in window&&!qi,Er=Po&&(!ui||qi&&8<qi&&11>=qi),Ki=" ",bn=!1;function hi(h,f){switch(h){case"keyup":return Mn.indexOf(f.keyCode)!==-1;case"keydown":return f.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Qn(h){return h=h.detail,typeof h=="object"&&"data"in h?h.data:null}var Kn=!1;function vi(h,f){switch(h){case"compositionend":return Qn(f);case"keypress":return f.which!==32?null:(bn=!0,Ki);case"textInput":return h=f.data,h===Ki&&bn?null:h;default:return null}}function fi(h,f){if(Kn)return h==="compositionend"||!ui&&hi(h,f)?(h=tl(),el=Bl=ha=null,Kn=!1,h):null;switch(h){case"paste":return null;case"keypress":if(!(f.ctrlKey||f.altKey||f.metaKey)||f.ctrlKey&&f.altKey){if(f.char&&1<f.char.length)return f.char;if(f.which)return String.fromCharCode(f.which)}return null;case"compositionend":return Er&&f.locale!=="ko"?null:f.data;default:return null}}var to={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function da(h){var f=h&&h.nodeName&&h.nodeName.toLowerCase();return f==="input"?!!to[h.type]:f==="textarea"}function xo(h,f,E,M){lo?wa?wa.push(M):wa=[M]:lo=M,f=kb(f,"onChange"),0<f.length&&(E=new co("onChange","change",null,E,M),h.push({event:E,listeners:f}))}var Mi=null,fa=null;function Do(h){H2(h,0)}function qo(h){var f=Ye(h);if(ni(f))return h}function Ji(h,f){if(h==="change")return f}var cs=!1;if(Po){var Hr;if(Po){var Gr="oninput"in document;if(!Gr){var Cs=document.createElement("div");Cs.setAttribute("oninput","return;"),Gr=typeof Cs.oninput=="function"}Hr=Gr}else Hr=!1;cs=Hr&&(!document.documentMode||9<document.documentMode)}function ii(){Mi&&(Mi.detachEvent("onpropertychange",Yo),fa=Mi=null)}function Yo(h){if(h.propertyName==="value"&&qo(fa)){var f=[];xo(f,fa,h,Js(h)),ka(Do,f)}}function Hs(h,f,E){h==="focusin"?(ii(),Mi=f,fa=E,Mi.attachEvent("onpropertychange",Yo)):h==="focusout"&&ii()}function pa(h){if(h==="selectionchange"||h==="keyup"||h==="keydown")return qo(fa)}function uo(h,f){if(h==="click")return qo(f)}function ys(h,f){if(h==="input"||h==="change")return qo(f)}function _d(h,f){return h===f&&(h!==0||1/h===1/f)||h!==h&&f!==f}var Gs=typeof Object.is=="function"?Object.is:_d;function ma(h,f){if(Gs(h,f))return!0;if(typeof h!="object"||h===null||typeof f!="object"||f===null)return!1;var E=Object.keys(h),M=Object.keys(f);if(E.length!==M.length)return!1;for(M=0;M<E.length;M++){var z=E[M];if(!mn.call(f,z)||!Gs(h[z],f[z]))return!1}return!0}function ho(h){for(;h&&h.firstChild;)h=h.firstChild;return h}function ga(h,f){var E=ho(h);h=0;for(var M;E;){if(E.nodeType===3){if(M=h+E.textContent.length,h<=f&&M>=f)return{node:E,offset:f-h};h=M}e:{for(;E;){if(E.nextSibling){E=E.nextSibling;break e}E=E.parentNode}E=void 0}E=ho(E)}}function Gu(h,f){return h&&f?h===f?!0:h&&h.nodeType===3?!1:f&&f.nodeType===3?Gu(h,f.parentNode):"contains"in h?h.contains(f):h.compareDocumentPosition?!!(h.compareDocumentPosition(f)&16):!1:!1}function Rh(h){h=h!=null&&h.ownerDocument!=null&&h.ownerDocument.defaultView!=null?h.ownerDocument.defaultView:window;for(var f=ci(h.document);f instanceof h.HTMLIFrameElement;){try{var E=typeof f.contentWindow.location.href=="string"}catch{E=!1}if(E)h=f.contentWindow;else break;f=ci(h.document)}return f}function ke(h){var f=h&&h.nodeName&&h.nodeName.toLowerCase();return f&&(f==="input"&&(h.type==="text"||h.type==="search"||h.type==="tel"||h.type==="url"||h.type==="password")||f==="textarea"||h.contentEditable==="true")}var it=Po&&"documentMode"in document&&11>=document.documentMode,yt=null,Mt=null,jt=null,On=!1;function Hn(h,f,E){var M=E.window===E?E.document:E.nodeType===9?E:E.ownerDocument;On||yt==null||yt!==ci(M)||(M=yt,"selectionStart"in M&&ke(M)?M={start:M.selectionStart,end:M.selectionEnd}:(M=(M.ownerDocument&&M.ownerDocument.defaultView||window).getSelection(),M={anchorNode:M.anchorNode,anchorOffset:M.anchorOffset,focusNode:M.focusNode,focusOffset:M.focusOffset}),jt&&ma(jt,M)||(jt=M,M=kb(Mt,"onSelect"),0<M.length&&(f=new co("onSelect","select",null,f,E),h.push({event:f,listeners:M}),f.target=yt)))}function kn(h,f){var E={};return E[h.toLowerCase()]=f.toLowerCase(),E["Webkit"+h]="webkit"+f,E["Moz"+h]="moz"+f,E}var Fn={animationend:kn("Animation","AnimationEnd"),animationiteration:kn("Animation","AnimationIteration"),animationstart:kn("Animation","AnimationStart"),transitionrun:kn("Transition","TransitionRun"),transitionstart:kn("Transition","TransitionStart"),transitioncancel:kn("Transition","TransitionCancel"),transitionend:kn("Transition","TransitionEnd")},Yi={},Si={};Po&&(Si=document.createElement("div").style,"AnimationEvent"in window||(delete Fn.animationend.animation,delete Fn.animationiteration.animation,delete Fn.animationstart.animation),"TransitionEvent"in window||delete Fn.transitionend.transition);function _i(h){if(Yi[h])return Yi[h];if(!Fn[h])return h;var f=Fn[h],E;for(E in f)if(f.hasOwnProperty(E)&&E in Si)return Yi[h]=f[E];return h}var Ei=_i("animationend"),li=_i("animationiteration"),Oi=_i("animationstart"),Fo=_i("transitionrun"),us=_i("transitionstart"),fo=_i("transitioncancel"),no=_i("transitionend"),yl=new Map,Vs="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Vs.push("scrollEnd");function Bo(h,f){yl.set(h,f),Wt(f,[h])}var Xp=new WeakMap;function Ko(h,f){if(typeof h=="object"&&h!==null){var E=Xp.get(h);return E!==void 0?E:(f={value:h,source:f,stack:Ui(f)},Xp.set(h,f),f)}return{value:h,source:f,stack:Ui(f)}}var Zo=[],nl=0,Pf=0;function bd(){for(var h=nl,f=Pf=nl=0;f<h;){var E=Zo[f];Zo[f++]=null;var M=Zo[f];Zo[f++]=null;var z=Zo[f];Zo[f++]=null;var q=Zo[f];if(Zo[f++]=null,M!==null&&z!==null){var de=M.pending;de===null?z.next=z:(z.next=de.next,de.next=z),M.pending=z}q!==0&&Ul(E,z,q)}}function au(h,f,E,M){Zo[nl++]=h,Zo[nl++]=f,Zo[nl++]=E,Zo[nl++]=M,Pf|=M,h.lanes|=M,h=h.alternate,h!==null&&(h.lanes|=M)}function Nf(h,f,E,M){return au(h,f,E,M),Vu(h)}function Uc(h,f){return au(h,null,null,f),Vu(h)}function Ul(h,f,E){h.lanes|=E;var M=h.alternate;M!==null&&(M.lanes|=E);for(var z=!1,q=h.return;q!==null;)q.childLanes|=E,M=q.alternate,M!==null&&(M.childLanes|=E),q.tag===22&&(h=q.stateNode,h===null||h._visibility&1||(z=!0)),h=q,q=q.return;return h.tag===3?(q=h.stateNode,z&&f!==null&&(z=31-Yt(E),h=q.hiddenUpdates,M=h[z],M===null?h[z]=[f]:M.push(f),f.lane=E|536870912),q):null}function Vu(h){if(50<Au)throw Au=0,Gd=null,Error(i(185));for(var f=h.return;f!==null;)h=f,f=h.return;return h.tag===3?h.stateNode:null}var lu={};function qp(h,f,E,M){this.tag=h,this.key=E,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=f,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=M,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function za(h,f,E,M){return new qp(h,f,E,M)}function xd(h){return h=h.prototype,!(!h||!h.isReactComponent)}function io(h,f){var E=h.alternate;return E===null?(E=za(h.tag,f,h.key,h.mode),E.elementType=h.elementType,E.type=h.type,E.stateNode=h.stateNode,E.alternate=h,h.alternate=E):(E.pendingProps=f,E.type=h.type,E.flags=0,E.subtreeFlags=0,E.deletions=null),E.flags=h.flags&65011712,E.childLanes=h.childLanes,E.lanes=h.lanes,E.child=h.child,E.memoizedProps=h.memoizedProps,E.memoizedState=h.memoizedState,E.updateQueue=h.updateQueue,f=h.dependencies,E.dependencies=f===null?null:{lanes:f.lanes,firstContext:f.firstContext},E.sibling=h.sibling,E.index=h.index,E.ref=h.ref,E.refCleanup=h.refCleanup,E}function Yp(h,f){h.flags&=65011714;var E=h.alternate;return E===null?(h.childLanes=0,h.lanes=f,h.child=null,h.subtreeFlags=0,h.memoizedProps=null,h.memoizedState=null,h.updateQueue=null,h.dependencies=null,h.stateNode=null):(h.childLanes=E.childLanes,h.lanes=E.lanes,h.child=E.child,h.subtreeFlags=0,h.deletions=null,h.memoizedProps=E.memoizedProps,h.memoizedState=E.memoizedState,h.updateQueue=E.updateQueue,h.type=E.type,f=E.dependencies,h.dependencies=f===null?null:{lanes:f.lanes,firstContext:f.firstContext}),h}function Uo(h,f,E,M,z,q){var de=0;if(M=h,typeof h=="function")xd(h)&&(de=1);else if(typeof h=="string")de=Dz(h,E,me.current)?26:h==="html"||h==="head"||h==="body"?27:5;else e:switch(h){case F:return h=za(31,E,f,z),h.elementType=F,h.lanes=q,h;case _:return cu(E.children,z,q,f);case p:de=8,z|=24;break;case v:return h=za(12,E,f,z|2),h.elementType=v,h.lanes=q,h;case L:return h=za(13,E,f,z),h.elementType=L,h.lanes=q,h;case P:return h=za(19,E,f,z),h.elementType=P,h.lanes=q,h;default:if(typeof h=="object"&&h!==null)switch(h.$$typeof){case c:case w:de=10;break e;case x:de=9;break e;case T:de=11;break e;case C:de=14;break e;case I:de=16,M=null;break e}de=29,E=Error(i(130,h===null?"null":typeof h,"")),M=null}return f=za(de,E,f,z),f.elementType=h,f.type=M,f.lanes=q,f}function cu(h,f,E,M){return h=za(7,h,M,f),h.lanes=E,h}function Wu(h,f,E){return h=za(6,h,null,f),h.lanes=E,h}function ju(h,f,E){return f=za(4,h.children!==null?h.children:[],h.key,f),f.lanes=E,f.stateNode={containerInfo:h.containerInfo,pendingChildren:null,implementation:h.implementation},f}var Mh=[],Aa=0,Oh=null,gc=0,So=[],Ra=0,uu=null,vc=1,yc="";function Ma(h,f){Mh[Aa++]=gc,Mh[Aa++]=Oh,Oh=h,gc=f}function If(h,f,E){So[Ra++]=vc,So[Ra++]=yc,So[Ra++]=uu,uu=h;var M=vc;h=yc;var z=32-Yt(M)-1;M&=~(1<<z),E+=1;var q=32-Yt(f)+z;if(30<q){var de=z-z%5;q=(M&(1<<de)-1).toString(32),M>>=de,z-=de,vc=1<<32-Yt(f)+z|E<<z|M,yc=q+h}else vc=1<<q|E<<z|M,yc=h}function Kp(h){h.return!==null&&(Ma(h,1),If(h,1,0))}function Zp(h){for(;h===Oh;)Oh=Mh[--Aa],Mh[Aa]=null,gc=Mh[--Aa],Mh[Aa]=null;for(;h===uu;)uu=So[--Ra],So[Ra]=null,yc=So[--Ra],So[Ra]=null,vc=So[--Ra],So[Ra]=null}var Oa=null,hs=null,wr=!1,_l=null,$a=!1,Df=Error(i(519));function il(h){var f=Error(i(418,""));throw zl(Ko(f,h)),Df}function Ff(h){var f=h.stateNode,E=h.type,M=h.memoizedProps;switch(f[dr]=h,f[Pr]=M,E){case"dialog":Mr("cancel",f),Mr("close",f);break;case"iframe":case"object":case"embed":Mr("load",f);break;case"video":case"audio":for(E=0;E<Y0.length;E++)Mr(Y0[E],f);break;case"source":Mr("error",f);break;case"img":case"image":case"link":Mr("error",f),Mr("load",f);break;case"details":Mr("toggle",f);break;case"input":Mr("invalid",f),qn(f,M.value,M.defaultValue,M.checked,M.defaultChecked,M.type,M.name,!0),$i(f);break;case"select":Mr("invalid",f);break;case"textarea":Mr("invalid",f),Ht(f,M.value,M.defaultValue,M.children),$i(f)}E=M.children,typeof E!="string"&&typeof E!="number"&&typeof E!="bigint"||f.textContent===""+E||M.suppressHydrationWarning===!0||j2(f.textContent,E)?(M.popover!=null&&(Mr("beforetoggle",f),Mr("toggle",f)),M.onScroll!=null&&Mr("scroll",f),M.onScrollEnd!=null&&Mr("scrollend",f),M.onClick!=null&&(f.onclick=zb),f=!0):f=!1,f||il(h)}function Bf(h){for(Oa=h.return;Oa;)switch(Oa.tag){case 5:case 13:$a=!1;return;case 27:case 3:$a=!0;return;default:Oa=Oa.return}}function kl(h){if(h!==Oa)return!1;if(!wr)return Bf(h),wr=!0,!1;var f=h.tag,E;if((E=f!==3&&f!==27)&&((E=f===5)&&(E=h.type,E=!(E!=="form"&&E!=="button")||Pw(h.type,h.memoizedProps)),E=!E),E&&hs&&il(h),Bf(h),f===13){if(h=h.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(i(317));e:{for(h=h.nextSibling,f=0;h;){if(h.nodeType===8)if(E=h.data,E==="/$"){if(f===0){hs=sh(h.nextSibling);break e}f--}else E!=="$"&&E!=="$!"&&E!=="$?"||f++;h=h.nextSibling}hs=null}}else f===27?(f=hs,ap(h.type)?(h=Fw,Fw=null,hs=h):hs=f):hs=Oa?sh(h.stateNode.nextSibling):null;return!0}function Lh(){hs=Oa=null,wr=!1}function Vr(){var h=_l;return h!==null&&(Ni===null?Ni=h:Ni.push.apply(Ni,h),_l=null),h}function zl(h){_l===null?_l=[h]:_l.push(h)}var kc=ce(null),hu=null,zc=null;function du(h,f,E){Ee(kc,f._currentValue),f._currentValue=E}function $c(h){h._currentValue=kc.current,Se(kc)}function Qp(h,f,E){for(;h!==null;){var M=h.alternate;if((h.childLanes&f)!==f?(h.childLanes|=f,M!==null&&(M.childLanes|=f)):M!==null&&(M.childLanes&f)!==f&&(M.childLanes|=f),h===E)break;h=h.return}}function Sd(h,f,E,M){var z=h.child;for(z!==null&&(z.return=h);z!==null;){var q=z.dependencies;if(q!==null){var de=z.child;q=q.firstContext;e:for(;q!==null;){var Ce=q;q=z;for(var Ke=0;Ke<f.length;Ke++)if(Ce.context===f[Ke]){q.lanes|=E,Ce=q.alternate,Ce!==null&&(Ce.lanes|=E),Qp(q.return,E,h),M||(de=null);break e}q=Ce.next}}else if(z.tag===18){if(de=z.return,de===null)throw Error(i(341));de.lanes|=E,q=de.alternate,q!==null&&(q.lanes|=E),Qp(de,E,h),de=null}else de=z.child;if(de!==null)de.return=z;else for(de=z;de!==null;){if(de===h){de=null;break}if(z=de.sibling,z!==null){z.return=de.return,de=z;break}de=de.return}z=de}}function bl(h,f,E,M){h=null;for(var z=f,q=!1;z!==null;){if(!q){if((z.flags&524288)!==0)q=!0;else if((z.flags&262144)!==0)break}if(z.tag===10){var de=z.alternate;if(de===null)throw Error(i(387));if(de=de.memoizedProps,de!==null){var Ce=z.type;Gs(z.pendingProps.value,de.value)||(h!==null?h.push(Ce):h=[Ce])}}else if(z===Re.current){if(de=z.alternate,de===null)throw Error(i(387));de.memoizedState.memoizedState!==z.memoizedState.memoizedState&&(h!==null?h.push(ty):h=[ty])}z=z.return}h!==null&&Sd(f,h,E,M),f.flags|=262144}function Ed(h){for(h=h.firstContext;h!==null;){if(!Gs(h.context._currentValue,h.memoizedValue))return!0;h=h.next}return!1}function $l(h){hu=h,zc=null,h=h.dependencies,h!==null&&(h.firstContext=null)}function Ws(h){return Nh(hu,h)}function Ph(h,f){return hu===null&&$l(h),Nh(h,f)}function Nh(h,f){var E=f._currentValue;if(f={context:f,memoizedValue:E,next:null},zc===null){if(h===null)throw Error(i(308));zc=f,h.dependencies={lanes:0,firstContext:f},h.flags|=524288}else zc=zc.next=f;return E}var Uf=typeof AbortController<"u"?AbortController:function(){var h=[],f=this.signal={aborted:!1,addEventListener:function(E,M){h.push(M)}};this.abort=function(){f.aborted=!0,h.forEach(function(E){return E()})}},Xu=n.unstable_scheduleCallback,Jp=n.unstable_NormalPriority,js={$$typeof:w,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function wd(){return{controller:new Uf,data:new Map,refCount:0}}function fu(h){h.refCount--,h.refCount===0&&Xu(Jp,function(){h.controller.abort()})}var qu=null,Yu=0,Zi=0,xl=null;function po(h,f){if(qu===null){var E=qu=[];Yu=0,Zi=Ew(),xl={status:"pending",value:void 0,then:function(M){E.push(M)}}}return Yu++,f.then(kf,kf),f}function kf(){if(--Yu===0&&qu!==null){xl!==null&&(xl.status="fulfilled");var h=qu;qu=null,Zi=0,xl=null;for(var f=0;f<h.length;f++)(0,h[f])()}}function D0(h,f){var E=[],M={status:"pending",value:null,reason:null,then:function(z){E.push(z)}};return h.then(function(){M.status="fulfilled",M.value=f;for(var z=0;z<E.length;z++)(0,E[z])(f)},function(z){for(M.status="rejected",M.reason=z,z=0;z<E.length;z++)(0,E[z])(void 0)}),M}var Cd=H.S;H.S=function(h,f){typeof f=="object"&&f!==null&&typeof f.then=="function"&&po(h,f),Cd!==null&&Cd(h,f)};var Sl=ce(null);function pu(){var h=Sl.current;return h!==null?h:er.pooledCache}function Td(h,f){f===null?Ee(Sl,Sl.current):Ee(Sl,f.pool)}function zf(){var h=pu();return h===null?null:{parent:js._currentValue,pool:h}}var Ad=Error(i(460)),$f=Error(i(474)),Ha=Error(i(542)),mu={then:function(){}};function Hf(h){return h=h.status,h==="fulfilled"||h==="rejected"}function Ih(){}function gu(h,f,E){switch(E=h[E],E===void 0?h.push(f):E!==f&&(f.then(Ih,Ih),f=E),f.status){case"fulfilled":return f.value;case"rejected":throw h=f.reason,ae(h),h;default:if(typeof f.status=="string")f.then(Ih,Ih);else{if(h=er,h!==null&&100<h.shellSuspendCounter)throw Error(i(482));h=f,h.status="pending",h.then(function(M){if(f.status==="pending"){var z=f;z.status="fulfilled",z.value=M}},function(M){if(f.status==="pending"){var z=f;z.status="rejected",z.reason=M}})}switch(f.status){case"fulfilled":return f.value;case"rejected":throw h=f.reason,ae(h),h}throw ye=f,Ad}}var ye=null;function W(){if(ye===null)throw Error(i(459));var h=ye;return ye=null,h}function ae(h){if(h===Ad||h===Ha)throw Error(i(483))}var Me=!1;function ut(h){h.updateQueue={baseState:h.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Qe(h,f){h=h.updateQueue,f.updateQueue===h&&(f.updateQueue={baseState:h.baseState,firstBaseUpdate:h.firstBaseUpdate,lastBaseUpdate:h.lastBaseUpdate,shared:h.shared,callbacks:null})}function Dt(h){return{lane:h,tag:0,payload:null,callback:null,next:null}}function cn(h,f,E){var M=h.updateQueue;if(M===null)return null;if(M=M.shared,(Jr&2)!==0){var z=M.pending;return z===null?f.next=f:(f.next=z.next,z.next=f),M.pending=f,f=Vu(h),Ul(h,null,E),f}return au(h,M,f,E),Vu(h)}function Ln(h,f,E){if(f=f.updateQueue,f!==null&&(f=f.shared,(E&4194048)!==0)){var M=f.lanes;M&=h.pendingLanes,E|=M,f.lanes=E,_n(h,E)}}function Xn(h,f){var E=h.updateQueue,M=h.alternate;if(M!==null&&(M=M.updateQueue,E===M)){var z=null,q=null;if(E=E.firstBaseUpdate,E!==null){do{var de={lane:E.lane,tag:E.tag,payload:E.payload,callback:null,next:null};q===null?z=q=de:q=q.next=de,E=E.next}while(E!==null);q===null?z=q=f:q=q.next=f}else z=q=f;E={baseState:M.baseState,firstBaseUpdate:z,lastBaseUpdate:q,shared:M.shared,callbacks:M.callbacks},h.updateQueue=E;return}h=E.lastBaseUpdate,h===null?E.firstBaseUpdate=f:h.next=f,E.lastBaseUpdate=f}var Jn=!1;function zn(){if(Jn){var h=xl;if(h!==null)throw h}}function ki(h,f,E,M){Jn=!1;var z=h.updateQueue;Me=!1;var q=z.firstBaseUpdate,de=z.lastBaseUpdate,Ce=z.shared.pending;if(Ce!==null){z.shared.pending=null;var Ke=Ce,wt=Ke.next;Ke.next=null,de===null?q=wt:de.next=wt,de=Ke;var nn=h.alternate;nn!==null&&(nn=nn.updateQueue,Ce=nn.lastBaseUpdate,Ce!==de&&(Ce===null?nn.firstBaseUpdate=wt:Ce.next=wt,nn.lastBaseUpdate=Ke))}if(q!==null){var fn=z.baseState;de=0,nn=wt=Ke=null,Ce=q;do{var Ot=Ce.lane&-536870913,It=Ot!==Ce.lane;if(It?(Ti&Ot)===Ot:(M&Ot)===Ot){Ot!==0&&Ot===Zi&&(Jn=!0),nn!==null&&(nn=nn.next={lane:0,tag:Ce.tag,payload:Ce.payload,callback:null,next:null});e:{var Xi=h,Bi=Ce;Ot=f;var Os=E;switch(Bi.tag){case 1:if(Xi=Bi.payload,typeof Xi=="function"){fn=Xi.call(Os,fn,Ot);break e}fn=Xi;break e;case 3:Xi.flags=Xi.flags&-65537|128;case 0:if(Xi=Bi.payload,Ot=typeof Xi=="function"?Xi.call(Os,fn,Ot):Xi,Ot==null)break e;fn=m({},fn,Ot);break e;case 2:Me=!0}}Ot=Ce.callback,Ot!==null&&(h.flags|=64,It&&(h.flags|=8192),It=z.callbacks,It===null?z.callbacks=[Ot]:It.push(Ot))}else It={lane:Ot,tag:Ce.tag,payload:Ce.payload,callback:Ce.callback,next:null},nn===null?(wt=nn=It,Ke=fn):nn=nn.next=It,de|=Ot;if(Ce=Ce.next,Ce===null){if(Ce=z.shared.pending,Ce===null)break;It=Ce,Ce=It.next,It.next=null,z.lastBaseUpdate=It,z.shared.pending=null}}while(!0);nn===null&&(Ke=fn),z.baseState=Ke,z.firstBaseUpdate=wt,z.lastBaseUpdate=nn,q===null&&(z.shared.lanes=0),Kc|=de,h.lanes=de,h.memoizedState=fn}}function bi(h,f){if(typeof h!="function")throw Error(i(191,h));h.call(f)}function Hi(h,f){var E=h.callbacks;if(E!==null)for(h.callbacks=null,h=0;h<E.length;h++)bi(E[h],f)}var Ci=ce(null),Fi=ce(0);function Xr(h,f){h=wc,Ee(Fi,h),Ee(Ci,f),wc=h|f.baseLanes}function Qr(){Ee(Fi,wc),Ee(Ci,Ci.current)}function Qi(){wc=Fi.current,Se(Ci),Se(Fi)}var sr=0,Bn=null,oi=null,Pi=null,Fr=!1,vr=!1,br=!1,Br=0,Xs=0,Ur=null,rl=0;function Nr(){throw Error(i(321))}function fr(h,f){if(f===null)return!1;for(var E=0;E<f.length&&E<h.length;E++)if(!Gs(h[E],f[E]))return!1;return!0}function ko(h,f,E,M,z,q){return sr=q,Bn=f,f.memoizedState=null,f.updateQueue=null,f.lanes=0,H.H=h===null||h.memoizedState===null?zg:G0,br=!1,q=E(M,z),br=!1,vr&&(q=Ku(f,E,M,z)),Hl(h),q}function Hl(h){H.H=hm;var f=oi!==null&&oi.next!==null;if(sr=0,Pi=oi=Bn=null,Fr=!1,Xs=0,Ur=null,f)throw Error(i(300));h===null||va||(h=h.dependencies,h!==null&&Ed(h)&&(va=!0))}function Ku(h,f,E,M){Bn=h;var z=0;do{if(vr&&(Ur=null),Xs=0,vr=!1,25<=z)throw Error(i(301));if(z+=1,Pi=oi=null,h.updateQueue!=null){var q=h.updateQueue;q.lastEffect=null,q.events=null,q.stores=null,q.memoCache!=null&&(q.memoCache.index=0)}H.H=Tb,q=f(E,M)}while(vr);return q}function zo(){var h=H.H,f=h.useState()[0];return f=typeof f.then=="function"?El(f):f,h=h.useState()[0],(oi!==null?oi.memoizedState:null)!==h&&(Bn.flags|=1024),f}function qr(){var h=Br!==0;return Br=0,h}function $o(h,f,E){f.updateQueue=h.updateQueue,f.flags&=-2053,h.lanes&=~E}function Ga(h){if(Fr){for(h=h.memoizedState;h!==null;){var f=h.queue;f!==null&&(f.pending=null),h=h.next}Fr=!1}sr=0,Pi=oi=Bn=null,vr=!1,Xs=Br=0,Ur=null}function qs(){var h={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Pi===null?Bn.memoizedState=Pi=h:Pi=Pi.next=h,Pi}function Bs(){if(oi===null){var h=Bn.alternate;h=h!==null?h.memoizedState:null}else h=oi.next;var f=Pi===null?Bn.memoizedState:Pi.next;if(f!==null)Pi=f,oi=h;else{if(h===null)throw Bn.alternate===null?Error(i(467)):Error(i(310));oi=h,h={memoizedState:oi.memoizedState,baseState:oi.baseState,baseQueue:oi.baseQueue,queue:oi.queue,next:null},Pi===null?Bn.memoizedState=Pi=h:Pi=Pi.next=h}return Pi}function Hc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function El(h){var f=Xs;return Xs+=1,Ur===null&&(Ur=[]),h=gu(Ur,h,f),f=Bn,(Pi===null?f.memoizedState:Pi.next)===null&&(f=f.alternate,H.H=f===null||f.memoizedState===null?zg:G0),h}function Zu(h){if(h!==null&&typeof h=="object"){if(typeof h.then=="function")return El(h);if(h.$$typeof===w)return Ws(h)}throw Error(i(438,String(h)))}function em(h){var f=null,E=Bn.updateQueue;if(E!==null&&(f=E.memoCache),f==null){var M=Bn.alternate;M!==null&&(M=M.updateQueue,M!==null&&(M=M.memoCache,M!=null&&(f={data:M.data.map(function(z){return z.slice()}),index:0})))}if(f==null&&(f={data:[],index:0}),E===null&&(E=Hc(),Bn.updateQueue=E),E.memoCache=f,E=f.data[f.index],E===void 0)for(E=f.data[f.index]=Array(h),M=0;M<h;M++)E[M]=R;return f.index++,E}function Gc(h,f){return typeof f=="function"?f(h):f}function _c(h){var f=Bs();return tm(f,oi,h)}function tm(h,f,E){var M=h.queue;if(M===null)throw Error(i(311));M.lastRenderedReducer=E;var z=h.baseQueue,q=M.pending;if(q!==null){if(z!==null){var de=z.next;z.next=q.next,q.next=de}f.baseQueue=z=q,M.pending=null}if(q=h.baseState,z===null)h.memoizedState=q;else{f=z.next;var Ce=de=null,Ke=null,wt=f,nn=!1;do{var fn=wt.lane&-536870913;if(fn!==wt.lane?(Ti&fn)===fn:(sr&fn)===fn){var Ot=wt.revertLane;if(Ot===0)Ke!==null&&(Ke=Ke.next={lane:0,revertLane:0,action:wt.action,hasEagerState:wt.hasEagerState,eagerState:wt.eagerState,next:null}),fn===Zi&&(nn=!0);else if((sr&Ot)===Ot){wt=wt.next,Ot===Zi&&(nn=!0);continue}else fn={lane:0,revertLane:wt.revertLane,action:wt.action,hasEagerState:wt.hasEagerState,eagerState:wt.eagerState,next:null},Ke===null?(Ce=Ke=fn,de=q):Ke=Ke.next=fn,Bn.lanes|=Ot,Kc|=Ot;fn=wt.action,br&&E(q,fn),q=wt.hasEagerState?wt.eagerState:E(q,fn)}else Ot={lane:fn,revertLane:wt.revertLane,action:wt.action,hasEagerState:wt.hasEagerState,eagerState:wt.eagerState,next:null},Ke===null?(Ce=Ke=Ot,de=q):Ke=Ke.next=Ot,Bn.lanes|=fn,Kc|=fn;wt=wt.next}while(wt!==null&&wt!==f);if(Ke===null?de=q:Ke.next=Ce,!Gs(q,h.memoizedState)&&(va=!0,nn&&(E=xl,E!==null)))throw E;h.memoizedState=q,h.baseState=de,h.baseQueue=Ke,M.lastRenderedState=q}return z===null&&(M.lanes=0),[h.memoizedState,M.dispatch]}function Gf(h){var f=Bs(),E=f.queue;if(E===null)throw Error(i(311));E.lastRenderedReducer=h;var M=E.dispatch,z=E.pending,q=f.memoizedState;if(z!==null){E.pending=null;var de=z=z.next;do q=h(q,de.action),de=de.next;while(de!==z);Gs(q,f.memoizedState)||(va=!0),f.memoizedState=q,f.baseQueue===null&&(f.baseState=q),E.lastRenderedState=q}return[q,M]}function Mg(h,f,E){var M=Bn,z=Bs(),q=wr;if(q){if(E===void 0)throw Error(i(407));E=E()}else E=f();var de=!Gs((oi||z).memoizedState,E);de&&(z.memoizedState=E,va=!0),z=z.queue;var Ce=Og.bind(null,M,z,h);if(qf(2048,8,Ce,[h]),z.getSnapshot!==f||de||Pi!==null&&Pi.memoizedState.tag&1){if(M.flags|=2048,Xf(9,cm(),nm.bind(null,M,z,E,f),null),er===null)throw Error(i(349));q||(sr&124)!==0||Qu(M,f,E)}return E}function Qu(h,f,E){h.flags|=16384,h={getSnapshot:f,value:E},f=Bn.updateQueue,f===null?(f=Hc(),Bn.updateQueue=f,f.stores=[h]):(E=f.stores,E===null?f.stores=[h]:E.push(h))}function nm(h,f,E,M){f.value=E,f.getSnapshot=M,Lg(f)&&vu(h)}function Og(h,f,E){return E(function(){Lg(f)&&vu(h)})}function Lg(h){var f=h.getSnapshot;h=h.value;try{var E=f();return!Gs(h,E)}catch{return!0}}function vu(h){var f=Uc(h,2);f!==null&&al(f,h,2)}function Dh(h){var f=qs();if(typeof h=="function"){var E=h;if(h=E(),br){ht(!0);try{E()}finally{ht(!1)}}}return f.memoizedState=f.baseState=h,f.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gc,lastRenderedState:h},f}function im(h,f,E,M){return h.baseState=E,tm(h,oi,typeof M=="function"?M:Gc)}function Pg(h,f,E,M,z){if(kg(h))throw Error(i(485));if(h=f.action,h!==null){var q={payload:z,action:h,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(de){q.listeners.push(de)}};H.T!==null?E(!0):q.isTransition=!1,M(q),E=f.pending,E===null?(q.next=f.pending=q,Vf(f,q)):(q.next=E.next,f.pending=E.next=q)}}function Vf(h,f){var E=f.action,M=f.payload,z=h.state;if(f.isTransition){var q=H.T,de={};H.T=de;try{var Ce=E(z,M),Ke=H.S;Ke!==null&&Ke(de,Ce),rm(h,f,Ce)}catch(wt){Wf(h,f,wt)}finally{H.T=q}}else try{q=E(z,M),rm(h,f,q)}catch(wt){Wf(h,f,wt)}}function rm(h,f,E){E!==null&&typeof E=="object"&&typeof E.then=="function"?E.then(function(M){sm(h,f,M)},function(M){return Wf(h,f,M)}):sm(h,f,E)}function sm(h,f,E){f.status="fulfilled",f.value=E,om(f),h.state=E,f=h.pending,f!==null&&(E=f.next,E===f?h.pending=null:(E=E.next,f.next=E,Vf(h,E)))}function Wf(h,f,E){var M=h.pending;if(h.pending=null,M!==null){M=M.next;do f.status="rejected",f.reason=E,om(f),f=f.next;while(f!==M)}h.action=null}function om(h){h=h.listeners;for(var f=0;f<h.length;f++)(0,h[f])()}function am(h,f){return f}function Ng(h,f){if(wr){var E=er.formState;if(E!==null){e:{var M=Bn;if(wr){if(hs){t:{for(var z=hs,q=$a;z.nodeType!==8;){if(!q){z=null;break t}if(z=sh(z.nextSibling),z===null){z=null;break t}}q=z.data,z=q==="F!"||q==="F"?z:null}if(z){hs=sh(z.nextSibling),M=z.data==="F!";break e}}il(M)}M=!1}M&&(f=E[0])}}return E=qs(),E.memoizedState=E.baseState=f,M={pending:null,lanes:0,dispatch:null,lastRenderedReducer:am,lastRenderedState:f},E.queue=M,E=wb.bind(null,Bn,M),M.dispatch=E,M=Dh(!1),q=Ug.bind(null,Bn,!1,M.queue),M=qs(),z={state:f,dispatch:null,action:h,pending:null},M.queue=z,E=Pg.bind(null,Bn,z,q,E),z.dispatch=E,M.memoizedState=h,[f,E,!1]}function jf(h){var f=Bs();return lm(f,oi,h)}function lm(h,f,E){if(f=tm(h,f,am)[0],h=_c(Gc)[0],typeof f=="object"&&f!==null&&typeof f.then=="function")try{var M=El(f)}catch(de){throw de===Ad?Ha:de}else M=f;f=Bs();var z=f.queue,q=z.dispatch;return E!==f.memoizedState&&(Bn.flags|=2048,Xf(9,cm(),vw.bind(null,z,E),null)),[M,q,h]}function vw(h,f){h.action=f}function pb(h){var f=Bs(),E=oi;if(E!==null)return lm(f,E,h);Bs(),f=f.memoizedState,E=Bs();var M=E.queue.dispatch;return E.memoizedState=h,[f,M,!1]}function Xf(h,f,E,M){return h={tag:h,create:E,deps:M,inst:f,next:null},f=Bn.updateQueue,f===null&&(f=Hc(),Bn.updateQueue=f),E=f.lastEffect,E===null?f.lastEffect=h.next=h:(M=E.next,E.next=h,h.next=M,f.lastEffect=h),h}function cm(){return{destroy:void 0,resource:void 0}}function F0(){return Bs().memoizedState}function Ig(h,f,E,M){var z=qs();M=M===void 0?null:M,Bn.flags|=h,z.memoizedState=Xf(1|f,cm(),E,M)}function qf(h,f,E,M){var z=Bs();M=M===void 0?null:M;var q=z.memoizedState.inst;oi!==null&&M!==null&&fr(M,oi.memoizedState.deps)?z.memoizedState=Xf(f,q,E,M):(Bn.flags|=h,z.memoizedState=Xf(1|f,q,E,M))}function B0(h,f){Ig(8390656,8,h,f)}function U0(h,f){qf(2048,8,h,f)}function Dg(h,f){return qf(4,2,h,f)}function Fg(h,f){return qf(4,4,h,f)}function mb(h,f){if(typeof f=="function"){h=h();var E=f(h);return function(){typeof E=="function"?E():f(null)}}if(f!=null)return h=h(),f.current=h,function(){f.current=null}}function gb(h,f,E){E=E!=null?E.concat([h]):null,qf(4,4,mb.bind(null,f,h),E)}function k0(){}function vb(h,f){var E=Bs();f=f===void 0?null:f;var M=E.memoizedState;return f!==null&&fr(f,M[1])?M[0]:(E.memoizedState=[h,f],h)}function z0(h,f){var E=Bs();f=f===void 0?null:f;var M=E.memoizedState;if(f!==null&&fr(f,M[1]))return M[0];if(M=h(),br){ht(!0);try{h()}finally{ht(!1)}}return E.memoizedState=[M,f],M}function Bg(h,f,E){return E===void 0||(sr&1073741824)!==0?h.memoizedState=f:(h.memoizedState=E,h=Zg(),Bn.lanes|=h,Kc|=h,E)}function yb(h,f,E,M){return Gs(E,f)?E:Ci.current!==null?(h=Bg(h,E,M),Gs(h,f)||(va=!0),h):(sr&42)===0?(va=!0,h.memoizedState=E):(h=Zg(),Bn.lanes|=h,Kc|=h,f)}function _b(h,f,E,M,z){var q=te.p;te.p=q!==0&&8>q?q:8;var de=H.T,Ce={};H.T=Ce,Ug(h,!1,f,E);try{var Ke=z(),wt=H.S;if(wt!==null&&wt(Ce,Ke),Ke!==null&&typeof Ke=="object"&&typeof Ke.then=="function"){var nn=D0(Ke,M);um(h,f,nn,vo(h))}else um(h,f,M,vo(h))}catch(fn){um(h,f,{then:function(){},status:"rejected",reason:fn},vo())}finally{te.p=q,H.T=de}}function yw(){}function $0(h,f,E,M){if(h.tag!==5)throw Error(i(476));var z=bb(h).queue;_b(h,z,f,ne,E===null?yw:function(){return xb(h),E(M)})}function bb(h){var f=h.memoizedState;if(f!==null)return f;f={memoizedState:ne,baseState:ne,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gc,lastRenderedState:ne},next:null};var E={};return f.next={memoizedState:E,baseState:E,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gc,lastRenderedState:E},next:null},h.memoizedState=f,h=h.alternate,h!==null&&(h.memoizedState=f),f}function xb(h){var f=bb(h).next.queue;um(h,f,{},vo())}function H0(){return Ws(ty)}function Sb(){return Bs().memoizedState}function Eb(){return Bs().memoizedState}function _w(h){for(var f=h.return;f!==null;){switch(f.tag){case 24:case 3:var E=vo();h=Dt(E);var M=cn(f,h,E);M!==null&&(al(M,f,E),Ln(M,f,E)),f={cache:wd()},h.payload=f;return}f=f.return}}function bw(h,f,E){var M=vo();E={lane:M,revertLane:0,action:E,hasEagerState:!1,eagerState:null,next:null},kg(h)?Cb(f,E):(E=Nf(h,f,E,M),E!==null&&(al(E,h,M),Gl(E,f,M)))}function wb(h,f,E){var M=vo();um(h,f,E,M)}function um(h,f,E,M){var z={lane:M,revertLane:0,action:E,hasEagerState:!1,eagerState:null,next:null};if(kg(h))Cb(f,z);else{var q=h.alternate;if(h.lanes===0&&(q===null||q.lanes===0)&&(q=f.lastRenderedReducer,q!==null))try{var de=f.lastRenderedState,Ce=q(de,E);if(z.hasEagerState=!0,z.eagerState=Ce,Gs(Ce,de))return au(h,f,z,0),er===null&&bd(),!1}catch{}finally{}if(E=Nf(h,f,z,M),E!==null)return al(E,h,M),Gl(E,f,M),!0}return!1}function Ug(h,f,E,M){if(M={lane:2,revertLane:Ew(),action:M,hasEagerState:!1,eagerState:null,next:null},kg(h)){if(f)throw Error(i(479))}else f=Nf(h,E,M,2),f!==null&&al(f,h,2)}function kg(h){var f=h.alternate;return h===Bn||f!==null&&f===Bn}function Cb(h,f){vr=Fr=!0;var E=h.pending;E===null?f.next=f:(f.next=E.next,E.next=f),h.pending=f}function Gl(h,f,E){if((E&4194048)!==0){var M=f.lanes;M&=h.pendingLanes,E|=M,f.lanes=E,_n(h,E)}}var hm={readContext:Ws,use:Zu,useCallback:Nr,useContext:Nr,useEffect:Nr,useImperativeHandle:Nr,useLayoutEffect:Nr,useInsertionEffect:Nr,useMemo:Nr,useReducer:Nr,useRef:Nr,useState:Nr,useDebugValue:Nr,useDeferredValue:Nr,useTransition:Nr,useSyncExternalStore:Nr,useId:Nr,useHostTransitionStatus:Nr,useFormState:Nr,useActionState:Nr,useOptimistic:Nr,useMemoCache:Nr,useCacheRefresh:Nr},zg={readContext:Ws,use:Zu,useCallback:function(h,f){return qs().memoizedState=[h,f===void 0?null:f],h},useContext:Ws,useEffect:B0,useImperativeHandle:function(h,f,E){E=E!=null?E.concat([h]):null,Ig(4194308,4,mb.bind(null,f,h),E)},useLayoutEffect:function(h,f){return Ig(4194308,4,h,f)},useInsertionEffect:function(h,f){Ig(4,2,h,f)},useMemo:function(h,f){var E=qs();f=f===void 0?null:f;var M=h();if(br){ht(!0);try{h()}finally{ht(!1)}}return E.memoizedState=[M,f],M},useReducer:function(h,f,E){var M=qs();if(E!==void 0){var z=E(f);if(br){ht(!0);try{E(f)}finally{ht(!1)}}}else z=f;return M.memoizedState=M.baseState=z,h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:h,lastRenderedState:z},M.queue=h,h=h.dispatch=bw.bind(null,Bn,h),[M.memoizedState,h]},useRef:function(h){var f=qs();return h={current:h},f.memoizedState=h},useState:function(h){h=Dh(h);var f=h.queue,E=wb.bind(null,Bn,f);return f.dispatch=E,[h.memoizedState,E]},useDebugValue:k0,useDeferredValue:function(h,f){var E=qs();return Bg(E,h,f)},useTransition:function(){var h=Dh(!1);return h=_b.bind(null,Bn,h.queue,!0,!1),qs().memoizedState=h,[!1,h]},useSyncExternalStore:function(h,f,E){var M=Bn,z=qs();if(wr){if(E===void 0)throw Error(i(407));E=E()}else{if(E=f(),er===null)throw Error(i(349));(Ti&124)!==0||Qu(M,f,E)}z.memoizedState=E;var q={value:E,getSnapshot:f};return z.queue=q,B0(Og.bind(null,M,q,h),[h]),M.flags|=2048,Xf(9,cm(),nm.bind(null,M,q,E,f),null),E},useId:function(){var h=qs(),f=er.identifierPrefix;if(wr){var E=yc,M=vc;E=(M&~(1<<32-Yt(M)-1)).toString(32)+E,f="«"+f+"R"+E,E=Br++,0<E&&(f+="H"+E.toString(32)),f+="»"}else E=rl++,f="«"+f+"r"+E.toString(32)+"»";return h.memoizedState=f},useHostTransitionStatus:H0,useFormState:Ng,useActionState:Ng,useOptimistic:function(h){var f=qs();f.memoizedState=f.baseState=h;var E={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return f.queue=E,f=Ug.bind(null,Bn,!0,E),E.dispatch=f,[h,f]},useMemoCache:em,useCacheRefresh:function(){return qs().memoizedState=_w.bind(null,Bn)}},G0={readContext:Ws,use:Zu,useCallback:vb,useContext:Ws,useEffect:U0,useImperativeHandle:gb,useInsertionEffect:Dg,useLayoutEffect:Fg,useMemo:z0,useReducer:_c,useRef:F0,useState:function(){return _c(Gc)},useDebugValue:k0,useDeferredValue:function(h,f){var E=Bs();return yb(E,oi.memoizedState,h,f)},useTransition:function(){var h=_c(Gc)[0],f=Bs().memoizedState;return[typeof h=="boolean"?h:El(h),f]},useSyncExternalStore:Mg,useId:Sb,useHostTransitionStatus:H0,useFormState:jf,useActionState:jf,useOptimistic:function(h,f){var E=Bs();return im(E,oi,h,f)},useMemoCache:em,useCacheRefresh:Eb},Tb={readContext:Ws,use:Zu,useCallback:vb,useContext:Ws,useEffect:U0,useImperativeHandle:gb,useInsertionEffect:Dg,useLayoutEffect:Fg,useMemo:z0,useReducer:Gf,useRef:F0,useState:function(){return Gf(Gc)},useDebugValue:k0,useDeferredValue:function(h,f){var E=Bs();return oi===null?Bg(E,h,f):yb(E,oi.memoizedState,h,f)},useTransition:function(){var h=Gf(Gc)[0],f=Bs().memoizedState;return[typeof h=="boolean"?h:El(h),f]},useSyncExternalStore:Mg,useId:Sb,useHostTransitionStatus:H0,useFormState:pb,useActionState:pb,useOptimistic:function(h,f){var E=Bs();return oi!==null?im(E,oi,h,f):(E.baseState=h,[h,E.queue.dispatch])},useMemoCache:em,useCacheRefresh:Eb},Rd=null,dm=0;function fm(h){var f=dm;return dm+=1,Rd===null&&(Rd=[]),gu(Rd,h,f)}function Yf(h,f){f=f.props.ref,h.ref=f!==void 0?f:null}function $g(h,f){throw f.$$typeof===d?Error(i(525)):(h=Object.prototype.toString.call(f),Error(i(31,h==="[object Object]"?"object with keys {"+Object.keys(f).join(", ")+"}":h)))}function Ab(h){var f=h._init;return f(h._payload)}function Rb(h){function f(dt,at){if(h){var xt=dt.deletions;xt===null?(dt.deletions=[at],dt.flags|=16):xt.push(at)}}function E(dt,at){if(!h)return null;for(;at!==null;)f(dt,at),at=at.sibling;return null}function M(dt){for(var at=new Map;dt!==null;)dt.key!==null?at.set(dt.key,dt):at.set(dt.index,dt),dt=dt.sibling;return at}function z(dt,at){return dt=io(dt,at),dt.index=0,dt.sibling=null,dt}function q(dt,at,xt){return dt.index=xt,h?(xt=dt.alternate,xt!==null?(xt=xt.index,xt<at?(dt.flags|=67108866,at):xt):(dt.flags|=67108866,at)):(dt.flags|=1048576,at)}function de(dt){return h&&dt.alternate===null&&(dt.flags|=67108866),dt}function Ce(dt,at,xt,un){return at===null||at.tag!==6?(at=Wu(xt,dt.mode,un),at.return=dt,at):(at=z(at,xt),at.return=dt,at)}function Ke(dt,at,xt,un){var pi=xt.type;return pi===_?nn(dt,at,xt.props.children,un,xt.key):at!==null&&(at.elementType===pi||typeof pi=="object"&&pi!==null&&pi.$$typeof===I&&Ab(pi)===at.type)?(at=z(at,xt.props),Yf(at,xt),at.return=dt,at):(at=Uo(xt.type,xt.key,xt.props,null,dt.mode,un),Yf(at,xt),at.return=dt,at)}function wt(dt,at,xt,un){return at===null||at.tag!==4||at.stateNode.containerInfo!==xt.containerInfo||at.stateNode.implementation!==xt.implementation?(at=ju(xt,dt.mode,un),at.return=dt,at):(at=z(at,xt.children||[]),at.return=dt,at)}function nn(dt,at,xt,un,pi){return at===null||at.tag!==7?(at=cu(xt,dt.mode,un,pi),at.return=dt,at):(at=z(at,xt),at.return=dt,at)}function fn(dt,at,xt){if(typeof at=="string"&&at!==""||typeof at=="number"||typeof at=="bigint")return at=Wu(""+at,dt.mode,xt),at.return=dt,at;if(typeof at=="object"&&at!==null){switch(at.$$typeof){case b:return xt=Uo(at.type,at.key,at.props,null,dt.mode,xt),Yf(xt,at),xt.return=dt,xt;case g:return at=ju(at,dt.mode,xt),at.return=dt,at;case I:var un=at._init;return at=un(at._payload),fn(dt,at,xt)}if(V(at)||G(at))return at=cu(at,dt.mode,xt,null),at.return=dt,at;if(typeof at.then=="function")return fn(dt,fm(at),xt);if(at.$$typeof===w)return fn(dt,Ph(dt,at),xt);$g(dt,at)}return null}function Ot(dt,at,xt,un){var pi=at!==null?at.key:null;if(typeof xt=="string"&&xt!==""||typeof xt=="number"||typeof xt=="bigint")return pi!==null?null:Ce(dt,at,""+xt,un);if(typeof xt=="object"&&xt!==null){switch(xt.$$typeof){case b:return xt.key===pi?Ke(dt,at,xt,un):null;case g:return xt.key===pi?wt(dt,at,xt,un):null;case I:return pi=xt._init,xt=pi(xt._payload),Ot(dt,at,xt,un)}if(V(xt)||G(xt))return pi!==null?null:nn(dt,at,xt,un,null);if(typeof xt.then=="function")return Ot(dt,at,fm(xt),un);if(xt.$$typeof===w)return Ot(dt,at,Ph(dt,xt),un);$g(dt,xt)}return null}function It(dt,at,xt,un,pi){if(typeof un=="string"&&un!==""||typeof un=="number"||typeof un=="bigint")return dt=dt.get(xt)||null,Ce(at,dt,""+un,pi);if(typeof un=="object"&&un!==null){switch(un.$$typeof){case b:return dt=dt.get(un.key===null?xt:un.key)||null,Ke(at,dt,un,pi);case g:return dt=dt.get(un.key===null?xt:un.key)||null,wt(at,dt,un,pi);case I:var Tr=un._init;return un=Tr(un._payload),It(dt,at,xt,un,pi)}if(V(un)||G(un))return dt=dt.get(xt)||null,nn(at,dt,un,pi,null);if(typeof un.then=="function")return It(dt,at,xt,fm(un),pi);if(un.$$typeof===w)return It(dt,at,xt,Ph(at,un),pi);$g(at,un)}return null}function Xi(dt,at,xt,un){for(var pi=null,Tr=null,wi=at,zi=at=0,ja=null;wi!==null&&zi<xt.length;zi++){wi.index>zi?(ja=wi,wi=null):ja=wi.sibling;var ts=Ot(dt,wi,xt[zi],un);if(ts===null){wi===null&&(wi=ja);break}h&&wi&&ts.alternate===null&&f(dt,wi),at=q(ts,at,zi),Tr===null?pi=ts:Tr.sibling=ts,Tr=ts,wi=ja}if(zi===xt.length)return E(dt,wi),wr&&Ma(dt,zi),pi;if(wi===null){for(;zi<xt.length;zi++)wi=fn(dt,xt[zi],un),wi!==null&&(at=q(wi,at,zi),Tr===null?pi=wi:Tr.sibling=wi,Tr=wi);return wr&&Ma(dt,zi),pi}for(wi=M(wi);zi<xt.length;zi++)ja=It(wi,dt,zi,xt[zi],un),ja!==null&&(h&&ja.alternate!==null&&wi.delete(ja.key===null?zi:ja.key),at=q(ja,at,zi),Tr===null?pi=ja:Tr.sibling=ja,Tr=ja);return h&&wi.forEach(function(dp){return f(dt,dp)}),wr&&Ma(dt,zi),pi}function Bi(dt,at,xt,un){if(xt==null)throw Error(i(151));for(var pi=null,Tr=null,wi=at,zi=at=0,ja=null,ts=xt.next();wi!==null&&!ts.done;zi++,ts=xt.next()){wi.index>zi?(ja=wi,wi=null):ja=wi.sibling;var dp=Ot(dt,wi,ts.value,un);if(dp===null){wi===null&&(wi=ja);break}h&&wi&&dp.alternate===null&&f(dt,wi),at=q(dp,at,zi),Tr===null?pi=dp:Tr.sibling=dp,Tr=dp,wi=ja}if(ts.done)return E(dt,wi),wr&&Ma(dt,zi),pi;if(wi===null){for(;!ts.done;zi++,ts=xt.next())ts=fn(dt,ts.value,un),ts!==null&&(at=q(ts,at,zi),Tr===null?pi=ts:Tr.sibling=ts,Tr=ts);return wr&&Ma(dt,zi),pi}for(wi=M(wi);!ts.done;zi++,ts=xt.next())ts=It(wi,dt,zi,ts.value,un),ts!==null&&(h&&ts.alternate!==null&&wi.delete(ts.key===null?zi:ts.key),at=q(ts,at,zi),Tr===null?pi=ts:Tr.sibling=ts,Tr=ts);return h&&wi.forEach(function(Xz){return f(dt,Xz)}),wr&&Ma(dt,zi),pi}function Os(dt,at,xt,un){if(typeof xt=="object"&&xt!==null&&xt.type===_&&xt.key===null&&(xt=xt.props.children),typeof xt=="object"&&xt!==null){switch(xt.$$typeof){case b:e:{for(var pi=xt.key;at!==null;){if(at.key===pi){if(pi=xt.type,pi===_){if(at.tag===7){E(dt,at.sibling),un=z(at,xt.props.children),un.return=dt,dt=un;break e}}else if(at.elementType===pi||typeof pi=="object"&&pi!==null&&pi.$$typeof===I&&Ab(pi)===at.type){E(dt,at.sibling),un=z(at,xt.props),Yf(un,xt),un.return=dt,dt=un;break e}E(dt,at);break}else f(dt,at);at=at.sibling}xt.type===_?(un=cu(xt.props.children,dt.mode,un,xt.key),un.return=dt,dt=un):(un=Uo(xt.type,xt.key,xt.props,null,dt.mode,un),Yf(un,xt),un.return=dt,dt=un)}return de(dt);case g:e:{for(pi=xt.key;at!==null;){if(at.key===pi)if(at.tag===4&&at.stateNode.containerInfo===xt.containerInfo&&at.stateNode.implementation===xt.implementation){E(dt,at.sibling),un=z(at,xt.children||[]),un.return=dt,dt=un;break e}else{E(dt,at);break}else f(dt,at);at=at.sibling}un=ju(xt,dt.mode,un),un.return=dt,dt=un}return de(dt);case I:return pi=xt._init,xt=pi(xt._payload),Os(dt,at,xt,un)}if(V(xt))return Xi(dt,at,xt,un);if(G(xt)){if(pi=G(xt),typeof pi!="function")throw Error(i(150));return xt=pi.call(xt),Bi(dt,at,xt,un)}if(typeof xt.then=="function")return Os(dt,at,fm(xt),un);if(xt.$$typeof===w)return Os(dt,at,Ph(dt,xt),un);$g(dt,xt)}return typeof xt=="string"&&xt!==""||typeof xt=="number"||typeof xt=="bigint"?(xt=""+xt,at!==null&&at.tag===6?(E(dt,at.sibling),un=z(at,xt),un.return=dt,dt=un):(E(dt,at),un=Wu(xt,dt.mode,un),un.return=dt,dt=un),de(dt)):E(dt,at)}return function(dt,at,xt,un){try{dm=0;var pi=Os(dt,at,xt,un);return Rd=null,pi}catch(wi){if(wi===Ad||wi===Ha)throw wi;var Tr=za(29,wi,null,dt.mode);return Tr.lanes=un,Tr.return=dt,Tr}finally{}}}var Md=Rb(!0),Mb=Rb(!1),_s=ce(null),Vc=null;function Fh(h){var f=h.alternate;Ee(Eo,Eo.current&1),Ee(_s,h),Vc===null&&(f===null||Ci.current!==null||f.memoizedState!==null)&&(Vc=h)}function Ob(h){if(h.tag===22){if(Ee(Eo,Eo.current),Ee(_s,h),Vc===null){var f=h.alternate;f!==null&&f.memoizedState!==null&&(Vc=h)}}else Bh()}function Bh(){Ee(Eo,Eo.current),Ee(_s,_s.current)}function yu(h){Se(_s),Vc===h&&(Vc=null),Se(Eo)}var Eo=ce(0);function Ju(h){for(var f=h;f!==null;){if(f.tag===13){var E=f.memoizedState;if(E!==null&&(E=E.dehydrated,E===null||E.data==="$?"||Dw(E)))return f}else if(f.tag===19&&f.memoizedProps.revealOrder!==void 0){if((f.flags&128)!==0)return f}else if(f.child!==null){f.child.return=f,f=f.child;continue}if(f===h)break;for(;f.sibling===null;){if(f.return===null||f.return===h)return null;f=f.return}f.sibling.return=f.return,f=f.sibling}return null}function Uh(h,f,E,M){f=h.memoizedState,E=E(M,f),E=E==null?f:m({},f,E),h.memoizedState=E,h.lanes===0&&(h.updateQueue.baseState=E)}var sl={enqueueSetState:function(h,f,E){h=h._reactInternals;var M=vo(),z=Dt(M);z.payload=f,E!=null&&(z.callback=E),f=cn(h,z,M),f!==null&&(al(f,h,M),Ln(f,h,M))},enqueueReplaceState:function(h,f,E){h=h._reactInternals;var M=vo(),z=Dt(M);z.tag=1,z.payload=f,E!=null&&(z.callback=E),f=cn(h,z,M),f!==null&&(al(f,h,M),Ln(f,h,M))},enqueueForceUpdate:function(h,f){h=h._reactInternals;var E=vo(),M=Dt(E);M.tag=2,f!=null&&(M.callback=f),f=cn(h,M,E),f!==null&&(al(f,h,E),Ln(f,h,E))}};function Lb(h,f,E,M,z,q,de){return h=h.stateNode,typeof h.shouldComponentUpdate=="function"?h.shouldComponentUpdate(M,q,de):f.prototype&&f.prototype.isPureReactComponent?!ma(E,M)||!ma(z,q):!0}function Pb(h,f,E,M){h=f.state,typeof f.componentWillReceiveProps=="function"&&f.componentWillReceiveProps(E,M),typeof f.UNSAFE_componentWillReceiveProps=="function"&&f.UNSAFE_componentWillReceiveProps(E,M),f.state!==h&&sl.enqueueReplaceState(f,f.state,null)}function _u(h,f){var E=f;if("ref"in f){E={};for(var M in f)M!=="ref"&&(E[M]=f[M])}if(h=h.defaultProps){E===f&&(E=m({},E));for(var z in h)E[z]===void 0&&(E[z]=h[z])}return E}var Od=typeof reportError=="function"?reportError:function(h){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var f=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof h=="object"&&h!==null&&typeof h.message=="string"?String(h.message):String(h),error:h});if(!window.dispatchEvent(f))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",h);return}console.error(h)};function pm(h){Od(h)}function Hg(h){console.error(h)}function Nb(h){Od(h)}function Gg(h,f){try{var E=h.onUncaughtError;E(f.value,{componentStack:f.stack})}catch(M){setTimeout(function(){throw M})}}function bc(h,f,E){try{var M=h.onCaughtError;M(E.value,{componentStack:E.stack,errorBoundary:f.tag===1?f.stateNode:null})}catch(z){setTimeout(function(){throw z})}}function Vg(h,f,E){return E=Dt(E),E.tag=3,E.payload={element:null},E.callback=function(){Gg(h,f)},E}function Ib(h){return h=Dt(h),h.tag=3,h}function Wg(h,f,E,M){var z=E.type.getDerivedStateFromError;if(typeof z=="function"){var q=M.value;h.payload=function(){return z(q)},h.callback=function(){bc(f,E,M)}}var de=E.stateNode;de!==null&&typeof de.componentDidCatch=="function"&&(h.callback=function(){bc(f,E,M),typeof z!="function"&&(Zl===null?Zl=new Set([this]):Zl.add(this));var Ce=M.stack;this.componentDidCatch(M.value,{componentStack:Ce!==null?Ce:""})})}function xw(h,f,E,M,z){if(E.flags|=32768,M!==null&&typeof M=="object"&&typeof M.then=="function"){if(f=E.alternate,f!==null&&bl(f,E,z,!0),E=_s.current,E!==null){switch(E.tag){case 13:return Vc===null?y():E.alternate===null&&Us===0&&(Us=3),E.flags&=-257,E.flags|=65536,E.lanes=z,M===mu?E.flags|=16384:(f=E.updateQueue,f===null?E.updateQueue=new Set([M]):f.add(M),Ft(h,M,z)),!1;case 22:return E.flags|=65536,M===mu?E.flags|=16384:(f=E.updateQueue,f===null?(f={transitions:null,markerInstances:null,retryQueue:new Set([M])},E.updateQueue=f):(E=f.retryQueue,E===null?f.retryQueue=new Set([M]):E.add(M)),Ft(h,M,z)),!1}throw Error(i(435,E.tag))}return Ft(h,M,z),y(),!1}if(wr)return f=_s.current,f!==null?((f.flags&65536)===0&&(f.flags|=256),f.flags|=65536,f.lanes=z,M!==Df&&(h=Error(i(422),{cause:M}),zl(Ko(h,E)))):(M!==Df&&(f=Error(i(423),{cause:M}),zl(Ko(f,E))),h=h.current.alternate,h.flags|=65536,z&=-z,h.lanes|=z,M=Ko(M,E),z=Vg(h.stateNode,M,z),Xn(h,z),Us!==4&&(Us=2)),!1;var q=Error(i(520),{cause:M});if(q=Ko(q,E),es===null?es=[q]:es.push(q),Us!==4&&(Us=2),f===null)return!0;M=Ko(M,E),E=f;do{switch(E.tag){case 3:return E.flags|=65536,h=z&-z,E.lanes|=h,h=Vg(E.stateNode,M,h),Xn(E,h),!1;case 1:if(f=E.type,q=E.stateNode,(E.flags&128)===0&&(typeof f.getDerivedStateFromError=="function"||q!==null&&typeof q.componentDidCatch=="function"&&(Zl===null||!Zl.has(q))))return E.flags|=65536,z&=-z,E.lanes|=z,z=Ib(z),Wg(z,h,E,M),Xn(E,z),!1}E=E.return}while(E!==null);return!1}var Db=Error(i(461)),va=!1;function wo(h,f,E,M){f.child=h===null?Mb(f,null,E,M):Md(f,h.child,E,M)}function wl(h,f,E,M,z){E=E.render;var q=f.ref;if("ref"in M){var de={};for(var Ce in M)Ce!=="ref"&&(de[Ce]=M[Ce])}else de=M;return $l(f),M=ko(h,f,E,de,q,z),Ce=qr(),h!==null&&!va?($o(h,f,z),ya(h,f,z)):(wr&&Ce&&Kp(f),f.flags|=1,wo(h,f,M,z),f.child)}function Cl(h,f,E,M,z){if(h===null){var q=E.type;return typeof q=="function"&&!xd(q)&&q.defaultProps===void 0&&E.compare===null?(f.tag=15,f.type=q,V0(h,f,q,M,z)):(h=Uo(E.type,null,M,f,f.mode,z),h.ref=f.ref,h.return=f,f.child=h)}if(q=h.child,!mm(h,z)){var de=q.memoizedProps;if(E=E.compare,E=E!==null?E:ma,E(de,M)&&h.ref===f.ref)return ya(h,f,z)}return f.flags|=1,h=io(q,M),h.ref=f.ref,h.return=f,f.child=h}function V0(h,f,E,M,z){if(h!==null){var q=h.memoizedProps;if(ma(q,M)&&h.ref===f.ref)if(va=!1,f.pendingProps=M=q,mm(h,z))(h.flags&131072)!==0&&(va=!0);else return f.lanes=h.lanes,ya(h,f,z)}return Kf(h,f,E,M,z)}function Ld(h,f,E){var M=f.pendingProps,z=M.children,q=h!==null?h.memoizedState:null;if(M.mode==="hidden"){if((f.flags&128)!==0){if(M=q!==null?q.baseLanes|E:E,h!==null){for(z=f.child=h.child,q=0;z!==null;)q=q|z.lanes|z.childLanes,z=z.sibling;f.childLanes=q&~M}else f.childLanes=0,f.child=null;return Pd(h,f,M,E)}if((E&536870912)!==0)f.memoizedState={baseLanes:0,cachePool:null},h!==null&&Td(f,q!==null?q.cachePool:null),q!==null?Xr(f,q):Qr(),Ob(f);else return f.lanes=f.childLanes=536870912,Pd(h,f,q!==null?q.baseLanes|E:E,E)}else q!==null?(Td(f,q.cachePool),Xr(f,q),Bh(),f.memoizedState=null):(h!==null&&Td(f,null),Qr(),Bh());return wo(h,f,z,E),f.child}function Pd(h,f,E,M){var z=pu();return z=z===null?null:{parent:js._currentValue,pool:z},f.memoizedState={baseLanes:E,cachePool:z},h!==null&&Td(f,null),Qr(),Ob(f),h!==null&&bl(h,f,M,!0),null}function Nd(h,f){var E=f.ref;if(E===null)h!==null&&h.ref!==null&&(f.flags|=4194816);else{if(typeof E!="function"&&typeof E!="object")throw Error(i(284));(h===null||h.ref!==E)&&(f.flags|=4194816)}}function Kf(h,f,E,M,z){return $l(f),E=ko(h,f,E,M,void 0,z),M=qr(),h!==null&&!va?($o(h,f,z),ya(h,f,z)):(wr&&M&&Kp(f),f.flags|=1,wo(h,f,E,z),f.child)}function Vl(h,f,E,M,z,q){return $l(f),f.updateQueue=null,E=Ku(f,M,E,z),Hl(h),M=qr(),h!==null&&!va?($o(h,f,q),ya(h,f,q)):(wr&&M&&Kp(f),f.flags|=1,wo(h,f,E,q),f.child)}function Wl(h,f,E,M,z){if($l(f),f.stateNode===null){var q=lu,de=E.contextType;typeof de=="object"&&de!==null&&(q=Ws(de)),q=new E(M,q),f.memoizedState=q.state!==null&&q.state!==void 0?q.state:null,q.updater=sl,f.stateNode=q,q._reactInternals=f,q=f.stateNode,q.props=M,q.state=f.memoizedState,q.refs={},ut(f),de=E.contextType,q.context=typeof de=="object"&&de!==null?Ws(de):lu,q.state=f.memoizedState,de=E.getDerivedStateFromProps,typeof de=="function"&&(Uh(f,E,de,M),q.state=f.memoizedState),typeof E.getDerivedStateFromProps=="function"||typeof q.getSnapshotBeforeUpdate=="function"||typeof q.UNSAFE_componentWillMount!="function"&&typeof q.componentWillMount!="function"||(de=q.state,typeof q.componentWillMount=="function"&&q.componentWillMount(),typeof q.UNSAFE_componentWillMount=="function"&&q.UNSAFE_componentWillMount(),de!==q.state&&sl.enqueueReplaceState(q,q.state,null),ki(f,M,q,z),zn(),q.state=f.memoizedState),typeof q.componentDidMount=="function"&&(f.flags|=4194308),M=!0}else if(h===null){q=f.stateNode;var Ce=f.memoizedProps,Ke=_u(E,Ce);q.props=Ke;var wt=q.context,nn=E.contextType;de=lu,typeof nn=="object"&&nn!==null&&(de=Ws(nn));var fn=E.getDerivedStateFromProps;nn=typeof fn=="function"||typeof q.getSnapshotBeforeUpdate=="function",Ce=f.pendingProps!==Ce,nn||typeof q.UNSAFE_componentWillReceiveProps!="function"&&typeof q.componentWillReceiveProps!="function"||(Ce||wt!==de)&&Pb(f,q,M,de),Me=!1;var Ot=f.memoizedState;q.state=Ot,ki(f,M,q,z),zn(),wt=f.memoizedState,Ce||Ot!==wt||Me?(typeof fn=="function"&&(Uh(f,E,fn,M),wt=f.memoizedState),(Ke=Me||Lb(f,E,Ke,M,Ot,wt,de))?(nn||typeof q.UNSAFE_componentWillMount!="function"&&typeof q.componentWillMount!="function"||(typeof q.componentWillMount=="function"&&q.componentWillMount(),typeof q.UNSAFE_componentWillMount=="function"&&q.UNSAFE_componentWillMount()),typeof q.componentDidMount=="function"&&(f.flags|=4194308)):(typeof q.componentDidMount=="function"&&(f.flags|=4194308),f.memoizedProps=M,f.memoizedState=wt),q.props=M,q.state=wt,q.context=de,M=Ke):(typeof q.componentDidMount=="function"&&(f.flags|=4194308),M=!1)}else{q=f.stateNode,Qe(h,f),de=f.memoizedProps,nn=_u(E,de),q.props=nn,fn=f.pendingProps,Ot=q.context,wt=E.contextType,Ke=lu,typeof wt=="object"&&wt!==null&&(Ke=Ws(wt)),Ce=E.getDerivedStateFromProps,(wt=typeof Ce=="function"||typeof q.getSnapshotBeforeUpdate=="function")||typeof q.UNSAFE_componentWillReceiveProps!="function"&&typeof q.componentWillReceiveProps!="function"||(de!==fn||Ot!==Ke)&&Pb(f,q,M,Ke),Me=!1,Ot=f.memoizedState,q.state=Ot,ki(f,M,q,z),zn();var It=f.memoizedState;de!==fn||Ot!==It||Me||h!==null&&h.dependencies!==null&&Ed(h.dependencies)?(typeof Ce=="function"&&(Uh(f,E,Ce,M),It=f.memoizedState),(nn=Me||Lb(f,E,nn,M,Ot,It,Ke)||h!==null&&h.dependencies!==null&&Ed(h.dependencies))?(wt||typeof q.UNSAFE_componentWillUpdate!="function"&&typeof q.componentWillUpdate!="function"||(typeof q.componentWillUpdate=="function"&&q.componentWillUpdate(M,It,Ke),typeof q.UNSAFE_componentWillUpdate=="function"&&q.UNSAFE_componentWillUpdate(M,It,Ke)),typeof q.componentDidUpdate=="function"&&(f.flags|=4),typeof q.getSnapshotBeforeUpdate=="function"&&(f.flags|=1024)):(typeof q.componentDidUpdate!="function"||de===h.memoizedProps&&Ot===h.memoizedState||(f.flags|=4),typeof q.getSnapshotBeforeUpdate!="function"||de===h.memoizedProps&&Ot===h.memoizedState||(f.flags|=1024),f.memoizedProps=M,f.memoizedState=It),q.props=M,q.state=It,q.context=Ke,M=nn):(typeof q.componentDidUpdate!="function"||de===h.memoizedProps&&Ot===h.memoizedState||(f.flags|=4),typeof q.getSnapshotBeforeUpdate!="function"||de===h.memoizedProps&&Ot===h.memoizedState||(f.flags|=1024),M=!1)}return q=M,Nd(h,f),M=(f.flags&128)!==0,q||M?(q=f.stateNode,E=M&&typeof E.getDerivedStateFromError!="function"?null:q.render(),f.flags|=1,h!==null&&M?(f.child=Md(f,h.child,null,z),f.child=Md(f,null,E,z)):wo(h,f,E,z),f.memoizedState=q.state,h=f.child):h=ya(h,f,z),h}function kh(h,f,E,M){return Lh(),f.flags|=256,wo(h,f,E,M),f.child}var Wc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function jc(h){return{baseLanes:h,cachePool:zf()}}function Qo(h,f,E){return h=h!==null?h.childLanes&~E:0,f&&(h|=Cc),h}function Zf(h,f,E){var M=f.pendingProps,z=!1,q=(f.flags&128)!==0,de;if((de=q)||(de=h!==null&&h.memoizedState===null?!1:(Eo.current&2)!==0),de&&(z=!0,f.flags&=-129),de=(f.flags&32)!==0,f.flags&=-33,h===null){if(wr){if(z?Fh(f):Bh(),wr){var Ce=hs,Ke;if(Ke=Ce){e:{for(Ke=Ce,Ce=$a;Ke.nodeType!==8;){if(!Ce){Ce=null;break e}if(Ke=sh(Ke.nextSibling),Ke===null){Ce=null;break e}}Ce=Ke}Ce!==null?(f.memoizedState={dehydrated:Ce,treeContext:uu!==null?{id:vc,overflow:yc}:null,retryLane:536870912,hydrationErrors:null},Ke=za(18,null,null,0),Ke.stateNode=Ce,Ke.return=f,f.child=Ke,Oa=f,hs=null,Ke=!0):Ke=!1}Ke||il(f)}if(Ce=f.memoizedState,Ce!==null&&(Ce=Ce.dehydrated,Ce!==null))return Dw(Ce)?f.lanes=32:f.lanes=536870912,null;yu(f)}return Ce=M.children,M=M.fallback,z?(Bh(),z=f.mode,Ce=Id({mode:"hidden",children:Ce},z),M=cu(M,z,E,null),Ce.return=f,M.return=f,Ce.sibling=M,f.child=Ce,z=f.child,z.memoizedState=jc(E),z.childLanes=Qo(h,de,E),f.memoizedState=Wc,M):(Fh(f),bu(f,Ce))}if(Ke=h.memoizedState,Ke!==null&&(Ce=Ke.dehydrated,Ce!==null)){if(q)f.flags&256?(Fh(f),f.flags&=-257,f=La(h,f,E)):f.memoizedState!==null?(Bh(),f.child=h.child,f.flags|=128,f=null):(Bh(),z=M.fallback,Ce=f.mode,M=Id({mode:"visible",children:M.children},Ce),z=cu(z,Ce,E,null),z.flags|=2,M.return=f,z.return=f,M.sibling=z,f.child=M,Md(f,h.child,null,E),M=f.child,M.memoizedState=jc(E),M.childLanes=Qo(h,de,E),f.memoizedState=Wc,f=z);else if(Fh(f),Dw(Ce)){if(de=Ce.nextSibling&&Ce.nextSibling.dataset,de)var wt=de.dgst;de=wt,M=Error(i(419)),M.stack="",M.digest=de,zl({value:M,source:null,stack:null}),f=La(h,f,E)}else if(va||bl(h,f,E,!1),de=(E&h.childLanes)!==0,va||de){if(de=er,de!==null&&(M=E&-E,M=(M&42)!==0?1:Dn(M),M=(M&(de.suspendedLanes|E))!==0?0:M,M!==0&&M!==Ke.retryLane))throw Ke.retryLane=M,Uc(h,M),al(de,h,M),Db;Ce.data==="$?"||y(),f=La(h,f,E)}else Ce.data==="$?"?(f.flags|=192,f.child=h.child,f=null):(h=Ke.treeContext,hs=sh(Ce.nextSibling),Oa=f,wr=!0,_l=null,$a=!1,h!==null&&(So[Ra++]=vc,So[Ra++]=yc,So[Ra++]=uu,vc=h.id,yc=h.overflow,uu=f),f=bu(f,M.children),f.flags|=4096);return f}return z?(Bh(),z=M.fallback,Ce=f.mode,Ke=h.child,wt=Ke.sibling,M=io(Ke,{mode:"hidden",children:M.children}),M.subtreeFlags=Ke.subtreeFlags&65011712,wt!==null?z=io(wt,z):(z=cu(z,Ce,E,null),z.flags|=2),z.return=f,M.return=f,M.sibling=z,f.child=M,M=z,z=f.child,Ce=h.child.memoizedState,Ce===null?Ce=jc(E):(Ke=Ce.cachePool,Ke!==null?(wt=js._currentValue,Ke=Ke.parent!==wt?{parent:wt,pool:wt}:Ke):Ke=zf(),Ce={baseLanes:Ce.baseLanes|E,cachePool:Ke}),z.memoizedState=Ce,z.childLanes=Qo(h,de,E),f.memoizedState=Wc,M):(Fh(f),E=h.child,h=E.sibling,E=io(E,{mode:"visible",children:M.children}),E.return=f,E.sibling=null,h!==null&&(de=f.deletions,de===null?(f.deletions=[h],f.flags|=16):de.push(h)),f.child=E,f.memoizedState=null,E)}function bu(h,f){return f=Id({mode:"visible",children:f},h.mode),f.return=h,h.child=f}function Id(h,f){return h=za(22,h,null,f),h.lanes=0,h.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},h}function La(h,f,E){return Md(f,h.child,null,E),h=bu(f,f.pendingProps.children),h.flags|=2,f.memoizedState=null,h}function Pa(h,f,E){h.lanes|=f;var M=h.alternate;M!==null&&(M.lanes|=f),Qp(h.return,f,E)}function Ir(h,f,E,M,z){var q=h.memoizedState;q===null?h.memoizedState={isBackwards:f,rendering:null,renderingStartTime:0,last:M,tail:E,tailMode:z}:(q.isBackwards=f,q.rendering=null,q.renderingStartTime=0,q.last=M,q.tail=E,q.tailMode=z)}function xc(h,f,E){var M=f.pendingProps,z=M.revealOrder,q=M.tail;if(wo(h,f,M.children,E),M=Eo.current,(M&2)!==0)M=M&1|2,f.flags|=128;else{if(h!==null&&(h.flags&128)!==0)e:for(h=f.child;h!==null;){if(h.tag===13)h.memoizedState!==null&&Pa(h,E,f);else if(h.tag===19)Pa(h,E,f);else if(h.child!==null){h.child.return=h,h=h.child;continue}if(h===f)break e;for(;h.sibling===null;){if(h.return===null||h.return===f)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}M&=1}switch(Ee(Eo,M),z){case"forwards":for(E=f.child,z=null;E!==null;)h=E.alternate,h!==null&&Ju(h)===null&&(z=E),E=E.sibling;E=z,E===null?(z=f.child,f.child=null):(z=E.sibling,E.sibling=null),Ir(f,!1,z,E,q);break;case"backwards":for(E=null,z=f.child,f.child=null;z!==null;){if(h=z.alternate,h!==null&&Ju(h)===null){f.child=z;break}h=z.sibling,z.sibling=E,E=z,z=h}Ir(f,!0,E,null,q);break;case"together":Ir(f,!1,null,null,void 0);break;default:f.memoizedState=null}return f.child}function ya(h,f,E){if(h!==null&&(f.dependencies=h.dependencies),Kc|=f.lanes,(E&f.childLanes)===0)if(h!==null){if(bl(h,f,E,!1),(E&f.childLanes)===0)return null}else return null;if(h!==null&&f.child!==h.child)throw Error(i(153));if(f.child!==null){for(h=f.child,E=io(h,h.pendingProps),f.child=E,E.return=f;h.sibling!==null;)h=h.sibling,E=E.sibling=io(h,h.pendingProps),E.return=f;E.sibling=null}return f.child}function mm(h,f){return(h.lanes&f)!==0?!0:(h=h.dependencies,!!(h!==null&&Ed(h)))}function Sc(h,f,E){switch(f.tag){case 3:Fe(f,f.stateNode.containerInfo),du(f,js,h.memoizedState.cache),Lh();break;case 27:case 5:ot(f);break;case 4:Fe(f,f.stateNode.containerInfo);break;case 10:du(f,f.type,f.memoizedProps.value);break;case 13:var M=f.memoizedState;if(M!==null)return M.dehydrated!==null?(Fh(f),f.flags|=128,null):(E&f.child.childLanes)!==0?Zf(h,f,E):(Fh(f),h=ya(h,f,E),h!==null?h.sibling:null);Fh(f);break;case 19:var z=(h.flags&128)!==0;if(M=(E&f.childLanes)!==0,M||(bl(h,f,E,!1),M=(E&f.childLanes)!==0),z){if(M)return xc(h,f,E);f.flags|=128}if(z=f.memoizedState,z!==null&&(z.rendering=null,z.tail=null,z.lastEffect=null),Ee(Eo,Eo.current),M)break;return null;case 22:case 23:return f.lanes=0,Ld(h,f,E);case 24:du(f,js,h.memoizedState.cache)}return ya(h,f,E)}function Dd(h,f,E){if(h!==null)if(h.memoizedProps!==f.pendingProps)va=!0;else{if(!mm(h,E)&&(f.flags&128)===0)return va=!1,Sc(h,f,E);va=(h.flags&131072)!==0}else va=!1,wr&&(f.flags&1048576)!==0&&If(f,gc,f.index);switch(f.lanes=0,f.tag){case 16:e:{h=f.pendingProps;var M=f.elementType,z=M._init;if(M=z(M._payload),f.type=M,typeof M=="function")xd(M)?(h=_u(M,h),f.tag=1,f=Wl(null,f,M,h,E)):(f.tag=0,f=Kf(null,f,M,h,E));else{if(M!=null){if(z=M.$$typeof,z===T){f.tag=11,f=wl(null,f,M,h,E);break e}else if(z===C){f.tag=14,f=Cl(null,f,M,h,E);break e}}throw f=k(M)||M,Error(i(306,f,""))}}return f;case 0:return Kf(h,f,f.type,f.pendingProps,E);case 1:return M=f.type,z=_u(M,f.pendingProps),Wl(h,f,M,z,E);case 3:e:{if(Fe(f,f.stateNode.containerInfo),h===null)throw Error(i(387));M=f.pendingProps;var q=f.memoizedState;z=q.element,Qe(h,f),ki(f,M,null,E);var de=f.memoizedState;if(M=de.cache,du(f,js,M),M!==q.cache&&Sd(f,[js],E,!0),zn(),M=de.element,q.isDehydrated)if(q={element:M,isDehydrated:!1,cache:de.cache},f.updateQueue.baseState=q,f.memoizedState=q,f.flags&256){f=kh(h,f,M,E);break e}else if(M!==z){z=Ko(Error(i(424)),f),zl(z),f=kh(h,f,M,E);break e}else{switch(h=f.stateNode.containerInfo,h.nodeType){case 9:h=h.body;break;default:h=h.nodeName==="HTML"?h.ownerDocument.body:h}for(hs=sh(h.firstChild),Oa=f,wr=!0,_l=null,$a=!0,E=Mb(f,null,M,E),f.child=E;E;)E.flags=E.flags&-3|4096,E=E.sibling}else{if(Lh(),M===z){f=ya(h,f,E);break e}wo(h,f,M,E)}f=f.child}return f;case 26:return Nd(h,f),h===null?(E=nO(f.type,null,f.pendingProps,null))?f.memoizedState=E:wr||(E=f.type,h=f.pendingProps,M=$b(we.current).createElement(E),M[dr]=f,M[Pr]=h,ll(M,E,h),bt(M),f.stateNode=M):f.memoizedState=nO(f.type,h.memoizedProps,f.pendingProps,h.memoizedState),null;case 27:return ot(f),h===null&&wr&&(M=f.stateNode=J2(f.type,f.pendingProps,we.current),Oa=f,$a=!0,z=hs,ap(f.type)?(Fw=z,hs=sh(M.firstChild)):hs=z),wo(h,f,f.pendingProps.children,E),Nd(h,f),h===null&&(f.flags|=4194304),f.child;case 5:return h===null&&wr&&((z=M=hs)&&(M=Sz(M,f.type,f.pendingProps,$a),M!==null?(f.stateNode=M,Oa=f,hs=sh(M.firstChild),$a=!1,z=!0):z=!1),z||il(f)),ot(f),z=f.type,q=f.pendingProps,de=h!==null?h.memoizedProps:null,M=q.children,Pw(z,q)?M=null:de!==null&&Pw(z,de)&&(f.flags|=32),f.memoizedState!==null&&(z=ko(h,f,zo,null,null,E),ty._currentValue=z),Nd(h,f),wo(h,f,M,E),f.child;case 6:return h===null&&wr&&((h=E=hs)&&(E=Ez(E,f.pendingProps,$a),E!==null?(f.stateNode=E,Oa=f,hs=null,h=!0):h=!1),h||il(f)),null;case 13:return Zf(h,f,E);case 4:return Fe(f,f.stateNode.containerInfo),M=f.pendingProps,h===null?f.child=Md(f,null,M,E):wo(h,f,M,E),f.child;case 11:return wl(h,f,f.type,f.pendingProps,E);case 7:return wo(h,f,f.pendingProps,E),f.child;case 8:return wo(h,f,f.pendingProps.children,E),f.child;case 12:return wo(h,f,f.pendingProps.children,E),f.child;case 10:return M=f.pendingProps,du(f,f.type,M.value),wo(h,f,M.children,E),f.child;case 9:return z=f.type._context,M=f.pendingProps.children,$l(f),z=Ws(z),M=M(z),f.flags|=1,wo(h,f,M,E),f.child;case 14:return Cl(h,f,f.type,f.pendingProps,E);case 15:return V0(h,f,f.type,f.pendingProps,E);case 19:return xc(h,f,E);case 31:return M=f.pendingProps,E=f.mode,M={mode:M.mode,children:M.children},h===null?(E=Id(M,E),E.ref=f.ref,f.child=E,E.return=f,f=E):(E=io(h.child,M),E.ref=f.ref,f.child=E,E.return=f,f=E),f;case 22:return Ld(h,f,E);case 24:return $l(f),M=Ws(js),h===null?(z=pu(),z===null&&(z=er,q=wd(),z.pooledCache=q,q.refCount++,q!==null&&(z.pooledCacheLanes|=E),z=q),f.memoizedState={parent:M,cache:z},ut(f),du(f,js,z)):((h.lanes&E)!==0&&(Qe(h,f),ki(f,null,null,E),zn()),z=h.memoizedState,q=f.memoizedState,z.parent!==M?(z={parent:M,cache:M},f.memoizedState=z,f.lanes===0&&(f.memoizedState=f.updateQueue.baseState=z),du(f,js,M)):(M=q.cache,du(f,js,M),M!==z.cache&&Sd(f,[js],E,!0))),wo(h,f,f.pendingProps.children,E),f.child;case 29:throw f.pendingProps}throw Error(i(156,f.tag))}function Xc(h){h.flags|=4}function gm(h,f){if(f.type!=="stylesheet"||(f.state.loading&4)!==0)h.flags&=-16777217;else if(h.flags|=16777216,!aO(f)){if(f=_s.current,f!==null&&((Ti&4194048)===Ti?Vc!==null:(Ti&62914560)!==Ti&&(Ti&536870912)===0||f!==Vc))throw ye=mu,$f;h.flags|=8192}}function eh(h,f){f!==null&&(h.flags|=4),h.flags&16384&&(f=h.tag!==22?mt():536870912,h.lanes|=f,zr|=f)}function Fd(h,f){if(!wr)switch(h.tailMode){case"hidden":f=h.tail;for(var E=null;f!==null;)f.alternate!==null&&(E=f),f=f.sibling;E===null?h.tail=null:E.sibling=null;break;case"collapsed":E=h.tail;for(var M=null;E!==null;)E.alternate!==null&&(M=E),E=E.sibling;M===null?f||h.tail===null?h.tail=null:h.tail.sibling=null:M.sibling=null}}function Ts(h){var f=h.alternate!==null&&h.alternate.child===h.child,E=0,M=0;if(f)for(var z=h.child;z!==null;)E|=z.lanes|z.childLanes,M|=z.subtreeFlags&65011712,M|=z.flags&65011712,z.return=h,z=z.sibling;else for(z=h.child;z!==null;)E|=z.lanes|z.childLanes,M|=z.subtreeFlags,M|=z.flags,z.return=h,z=z.sibling;return h.subtreeFlags|=M,h.childLanes=E,f}function W0(h,f,E){var M=f.pendingProps;switch(Zp(f),f.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ts(f),null;case 1:return Ts(f),null;case 3:return E=f.stateNode,M=null,h!==null&&(M=h.memoizedState.cache),f.memoizedState.cache!==M&&(f.flags|=2048),$c(js),qe(),E.pendingContext&&(E.context=E.pendingContext,E.pendingContext=null),(h===null||h.child===null)&&(kl(f)?Xc(f):h===null||h.memoizedState.isDehydrated&&(f.flags&256)===0||(f.flags|=1024,Vr())),Ts(f),null;case 26:return E=f.memoizedState,h===null?(Xc(f),E!==null?(Ts(f),gm(f,E)):(Ts(f),f.flags&=-16777217)):E?E!==h.memoizedState?(Xc(f),Ts(f),gm(f,E)):(Ts(f),f.flags&=-16777217):(h.memoizedProps!==M&&Xc(f),Ts(f),f.flags&=-16777217),null;case 27:dn(f),E=we.current;var z=f.type;if(h!==null&&f.stateNode!=null)h.memoizedProps!==M&&Xc(f);else{if(!M){if(f.stateNode===null)throw Error(i(166));return Ts(f),null}h=me.current,kl(f)?Ff(f):(h=J2(z,M,E),f.stateNode=h,Xc(f))}return Ts(f),null;case 5:if(dn(f),E=f.type,h!==null&&f.stateNode!=null)h.memoizedProps!==M&&Xc(f);else{if(!M){if(f.stateNode===null)throw Error(i(166));return Ts(f),null}if(h=me.current,kl(f))Ff(f);else{switch(z=$b(we.current),h){case 1:h=z.createElementNS("http://www.w3.org/2000/svg",E);break;case 2:h=z.createElementNS("http://www.w3.org/1998/Math/MathML",E);break;default:switch(E){case"svg":h=z.createElementNS("http://www.w3.org/2000/svg",E);break;case"math":h=z.createElementNS("http://www.w3.org/1998/Math/MathML",E);break;case"script":h=z.createElement("div"),h.innerHTML="<script><\/script>",h=h.removeChild(h.firstChild);break;case"select":h=typeof M.is=="string"?z.createElement("select",{is:M.is}):z.createElement("select"),M.multiple?h.multiple=!0:M.size&&(h.size=M.size);break;default:h=typeof M.is=="string"?z.createElement(E,{is:M.is}):z.createElement(E)}}h[dr]=f,h[Pr]=M;e:for(z=f.child;z!==null;){if(z.tag===5||z.tag===6)h.appendChild(z.stateNode);else if(z.tag!==4&&z.tag!==27&&z.child!==null){z.child.return=z,z=z.child;continue}if(z===f)break e;for(;z.sibling===null;){if(z.return===null||z.return===f)break e;z=z.return}z.sibling.return=z.return,z=z.sibling}f.stateNode=h;e:switch(ll(h,E,M),E){case"button":case"input":case"select":case"textarea":h=!!M.autoFocus;break e;case"img":h=!0;break e;default:h=!1}h&&Xc(f)}}return Ts(f),f.flags&=-16777217,null;case 6:if(h&&f.stateNode!=null)h.memoizedProps!==M&&Xc(f);else{if(typeof M!="string"&&f.stateNode===null)throw Error(i(166));if(h=we.current,kl(f)){if(h=f.stateNode,E=f.memoizedProps,M=null,z=Oa,z!==null)switch(z.tag){case 27:case 5:M=z.memoizedProps}h[dr]=f,h=!!(h.nodeValue===E||M!==null&&M.suppressHydrationWarning===!0||j2(h.nodeValue,E)),h||il(f)}else h=$b(h).createTextNode(M),h[dr]=f,f.stateNode=h}return Ts(f),null;case 13:if(M=f.memoizedState,h===null||h.memoizedState!==null&&h.memoizedState.dehydrated!==null){if(z=kl(f),M!==null&&M.dehydrated!==null){if(h===null){if(!z)throw Error(i(318));if(z=f.memoizedState,z=z!==null?z.dehydrated:null,!z)throw Error(i(317));z[dr]=f}else Lh(),(f.flags&128)===0&&(f.memoizedState=null),f.flags|=4;Ts(f),z=!1}else z=Vr(),h!==null&&h.memoizedState!==null&&(h.memoizedState.hydrationErrors=z),z=!0;if(!z)return f.flags&256?(yu(f),f):(yu(f),null)}if(yu(f),(f.flags&128)!==0)return f.lanes=E,f;if(E=M!==null,h=h!==null&&h.memoizedState!==null,E){M=f.child,z=null,M.alternate!==null&&M.alternate.memoizedState!==null&&M.alternate.memoizedState.cachePool!==null&&(z=M.alternate.memoizedState.cachePool.pool);var q=null;M.memoizedState!==null&&M.memoizedState.cachePool!==null&&(q=M.memoizedState.cachePool.pool),q!==z&&(M.flags|=2048)}return E!==h&&E&&(f.child.flags|=8192),eh(f,f.updateQueue),Ts(f),null;case 4:return qe(),h===null&&Aw(f.stateNode.containerInfo),Ts(f),null;case 10:return $c(f.type),Ts(f),null;case 19:if(Se(Eo),z=f.memoizedState,z===null)return Ts(f),null;if(M=(f.flags&128)!==0,q=z.rendering,q===null)if(M)Fd(z,!1);else{if(Us!==0||h!==null&&(h.flags&128)!==0)for(h=f.child;h!==null;){if(q=Ju(h),q!==null){for(f.flags|=128,Fd(z,!1),h=q.updateQueue,f.updateQueue=h,eh(f,h),f.subtreeFlags=0,h=E,E=f.child;E!==null;)Yp(E,h),E=E.sibling;return Ee(Eo,Eo.current&1|2),f.child}h=h.sibling}z.tail!==null&&zt()>Va&&(f.flags|=128,M=!0,Fd(z,!1),f.lanes=4194304)}else{if(!M)if(h=Ju(q),h!==null){if(f.flags|=128,M=!0,h=h.updateQueue,f.updateQueue=h,eh(f,h),Fd(z,!0),z.tail===null&&z.tailMode==="hidden"&&!q.alternate&&!wr)return Ts(f),null}else 2*zt()-z.renderingStartTime>Va&&E!==536870912&&(f.flags|=128,M=!0,Fd(z,!1),f.lanes=4194304);z.isBackwards?(q.sibling=f.child,f.child=q):(h=z.last,h!==null?h.sibling=q:f.child=q,z.last=q)}return z.tail!==null?(f=z.tail,z.rendering=f,z.tail=f.sibling,z.renderingStartTime=zt(),f.sibling=null,h=Eo.current,Ee(Eo,M?h&1|2:h&1),f):(Ts(f),null);case 22:case 23:return yu(f),Qi(),M=f.memoizedState!==null,h!==null?h.memoizedState!==null!==M&&(f.flags|=8192):M&&(f.flags|=8192),M?(E&536870912)!==0&&(f.flags&128)===0&&(Ts(f),f.subtreeFlags&6&&(f.flags|=8192)):Ts(f),E=f.updateQueue,E!==null&&eh(f,E.retryQueue),E=null,h!==null&&h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(E=h.memoizedState.cachePool.pool),M=null,f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(M=f.memoizedState.cachePool.pool),M!==E&&(f.flags|=2048),h!==null&&Se(Sl),null;case 24:return E=null,h!==null&&(E=h.memoizedState.cache),f.memoizedState.cache!==E&&(f.flags|=2048),$c(js),Ts(f),null;case 25:return null;case 30:return null}throw Error(i(156,f.tag))}function Qf(h,f){switch(Zp(f),f.tag){case 1:return h=f.flags,h&65536?(f.flags=h&-65537|128,f):null;case 3:return $c(js),qe(),h=f.flags,(h&65536)!==0&&(h&128)===0?(f.flags=h&-65537|128,f):null;case 26:case 27:case 5:return dn(f),null;case 13:if(yu(f),h=f.memoizedState,h!==null&&h.dehydrated!==null){if(f.alternate===null)throw Error(i(340));Lh()}return h=f.flags,h&65536?(f.flags=h&-65537|128,f):null;case 19:return Se(Eo),null;case 4:return qe(),null;case 10:return $c(f.type),null;case 22:case 23:return yu(f),Qi(),h!==null&&Se(Sl),h=f.flags,h&65536?(f.flags=h&-65537|128,f):null;case 24:return $c(js),null;case 25:return null;default:return null}}function Jf(h,f){switch(Zp(f),f.tag){case 3:$c(js),qe();break;case 26:case 27:case 5:dn(f);break;case 4:qe();break;case 13:yu(f);break;case 19:Se(Eo);break;case 10:$c(f.type);break;case 22:case 23:yu(f),Qi(),h!==null&&Se(Sl);break;case 24:$c(js)}}function Bd(h,f){try{var E=f.updateQueue,M=E!==null?E.lastEffect:null;if(M!==null){var z=M.next;E=z;do{if((E.tag&h)===h){M=void 0;var q=E.create,de=E.inst;M=q(),de.destroy=M}E=E.next}while(E!==z)}}catch(Ce){st(f,f.return,Ce)}}function jl(h,f,E){try{var M=f.updateQueue,z=M!==null?M.lastEffect:null;if(z!==null){var q=z.next;M=q;do{if((M.tag&h)===h){var de=M.inst,Ce=de.destroy;if(Ce!==void 0){de.destroy=void 0,z=f;var Ke=E,wt=Ce;try{wt()}catch(nn){st(z,Ke,nn)}}}M=M.next}while(M!==q)}}catch(nn){st(f,f.return,nn)}}function Ud(h){var f=h.updateQueue;if(f!==null){var E=h.stateNode;try{Hi(f,E)}catch(M){st(h,h.return,M)}}}function th(h,f,E){E.props=_u(h.type,h.memoizedProps),E.state=h.memoizedState;try{E.componentWillUnmount()}catch(M){st(h,f,M)}}function kd(h,f){try{var E=h.ref;if(E!==null){switch(h.tag){case 26:case 27:case 5:var M=h.stateNode;break;case 30:M=h.stateNode;break;default:M=h.stateNode}typeof E=="function"?h.refCleanup=E(M):E.current=M}}catch(z){st(h,f,z)}}function xu(h,f){var E=h.ref,M=h.refCleanup;if(E!==null)if(typeof M=="function")try{M()}catch(z){st(h,f,z)}finally{h.refCleanup=null,h=h.alternate,h!=null&&(h.refCleanup=null)}else if(typeof E=="function")try{E(null)}catch(z){st(h,f,z)}else E.current=null}function ep(h){var f=h.type,E=h.memoizedProps,M=h.stateNode;try{e:switch(f){case"button":case"input":case"select":case"textarea":E.autoFocus&&M.focus();break e;case"img":E.src?M.src=E.src:E.srcSet&&(M.srcset=E.srcSet)}}catch(z){st(h,h.return,z)}}function vm(h,f,E){try{var M=h.stateNode;vz(M,h.type,E,f),M[Pr]=f}catch(z){st(h,h.return,z)}}function ym(h){return h.tag===5||h.tag===3||h.tag===26||h.tag===27&&ap(h.type)||h.tag===4}function zh(h){e:for(;;){for(;h.sibling===null;){if(h.return===null||ym(h.return))return null;h=h.return}for(h.sibling.return=h.return,h=h.sibling;h.tag!==5&&h.tag!==6&&h.tag!==18;){if(h.tag===27&&ap(h.type)||h.flags&2||h.child===null||h.tag===4)continue e;h.child.return=h,h=h.child}if(!(h.flags&2))return h.stateNode}}function $h(h,f,E){var M=h.tag;if(M===5||M===6)h=h.stateNode,f?(E.nodeType===9?E.body:E.nodeName==="HTML"?E.ownerDocument.body:E).insertBefore(h,f):(f=E.nodeType===9?E.body:E.nodeName==="HTML"?E.ownerDocument.body:E,f.appendChild(h),E=E._reactRootContainer,E!=null||f.onclick!==null||(f.onclick=zb));else if(M!==4&&(M===27&&ap(h.type)&&(E=h.stateNode,f=null),h=h.child,h!==null))for($h(h,f,E),h=h.sibling;h!==null;)$h(h,f,E),h=h.sibling}function Hh(h,f,E){var M=h.tag;if(M===5||M===6)h=h.stateNode,f?E.insertBefore(h,f):E.appendChild(h);else if(M!==4&&(M===27&&ap(h.type)&&(E=h.stateNode),h=h.child,h!==null))for(Hh(h,f,E),h=h.sibling;h!==null;)Hh(h,f,E),h=h.sibling}function Gh(h){var f=h.stateNode,E=h.memoizedProps;try{for(var M=h.type,z=f.attributes;z.length;)f.removeAttributeNode(z[0]);ll(f,M,E),f[dr]=h,f[Pr]=E}catch(q){st(h,h.return,q)}}var Su=!1,As=!1,tp=!1,Xl=typeof WeakSet=="function"?WeakSet:Set,bs=null;function Jo(h,f){if(h=h.containerInfo,Ow=Xb,h=Rh(h),ke(h)){if("selectionStart"in h)var E={start:h.selectionStart,end:h.selectionEnd};else e:{E=(E=h.ownerDocument)&&E.defaultView||window;var M=E.getSelection&&E.getSelection();if(M&&M.rangeCount!==0){E=M.anchorNode;var z=M.anchorOffset,q=M.focusNode;M=M.focusOffset;try{E.nodeType,q.nodeType}catch{E=null;break e}var de=0,Ce=-1,Ke=-1,wt=0,nn=0,fn=h,Ot=null;t:for(;;){for(var It;fn!==E||z!==0&&fn.nodeType!==3||(Ce=de+z),fn!==q||M!==0&&fn.nodeType!==3||(Ke=de+M),fn.nodeType===3&&(de+=fn.nodeValue.length),(It=fn.firstChild)!==null;)Ot=fn,fn=It;for(;;){if(fn===h)break t;if(Ot===E&&++wt===z&&(Ce=de),Ot===q&&++nn===M&&(Ke=de),(It=fn.nextSibling)!==null)break;fn=Ot,Ot=fn.parentNode}fn=It}E=Ce===-1||Ke===-1?null:{start:Ce,end:Ke}}else E=null}E=E||{start:0,end:0}}else E=null;for(Lw={focusedElem:h,selectionRange:E},Xb=!1,bs=f;bs!==null;)if(f=bs,h=f.child,(f.subtreeFlags&1024)!==0&&h!==null)h.return=f,bs=h;else for(;bs!==null;){switch(f=bs,q=f.alternate,h=f.flags,f.tag){case 0:break;case 11:case 15:break;case 1:if((h&1024)!==0&&q!==null){h=void 0,E=f,z=q.memoizedProps,q=q.memoizedState,M=E.stateNode;try{var Xi=_u(E.type,z,E.elementType===E.type);h=M.getSnapshotBeforeUpdate(Xi,q),M.__reactInternalSnapshotBeforeUpdate=h}catch(Bi){st(E,E.return,Bi)}}break;case 3:if((h&1024)!==0){if(h=f.stateNode.containerInfo,E=h.nodeType,E===9)Iw(h);else if(E===1)switch(h.nodeName){case"HEAD":case"HTML":case"BODY":Iw(h);break;default:h.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((h&1024)!==0)throw Error(i(163))}if(h=f.sibling,h!==null){h.return=f.return,bs=h;break}bs=f.return}}function nh(h,f,E){var M=E.flags;switch(E.tag){case 0:case 11:case 15:ol(h,E),M&4&&Bd(5,E);break;case 1:if(ol(h,E),M&4)if(h=E.stateNode,f===null)try{h.componentDidMount()}catch(de){st(E,E.return,de)}else{var z=_u(E.type,f.memoizedProps);f=f.memoizedState;try{h.componentDidUpdate(z,f,h.__reactInternalSnapshotBeforeUpdate)}catch(de){st(E,E.return,de)}}M&64&&Ud(E),M&512&&kd(E,E.return);break;case 3:if(ol(h,E),M&64&&(h=E.updateQueue,h!==null)){if(f=null,E.child!==null)switch(E.child.tag){case 27:case 5:f=E.child.stateNode;break;case 1:f=E.child.stateNode}try{Hi(h,f)}catch(de){st(E,E.return,de)}}break;case 27:f===null&&M&4&&Gh(E);case 26:case 5:ol(h,E),f===null&&M&4&&ep(E),M&512&&kd(E,E.return);break;case 12:ol(h,E);break;case 13:ol(h,E),M&4&&Vh(h,E),M&64&&(h=E.memoizedState,h!==null&&(h=h.dehydrated,h!==null&&(E=ks.bind(null,E),wz(h,E))));break;case 22:if(M=E.memoizedState!==null||Su,!M){f=f!==null&&f.memoizedState!==null||As,z=Su;var q=As;Su=M,(As=f)&&!q?Eu(h,E,(E.subtreeFlags&8772)!==0):ol(h,E),Su=z,As=q}break;case 30:break;default:ol(h,E)}}function cr(h){var f=h.alternate;f!==null&&(h.alternate=null,cr(f)),h.child=null,h.deletions=null,h.sibling=null,h.tag===5&&(f=h.stateNode,f!==null&&nr(f)),h.stateNode=null,h.return=null,h.dependencies=null,h.memoizedProps=null,h.memoizedState=null,h.pendingProps=null,h.stateNode=null,h.updateQueue=null}var Li=null,kr=!1;function Ec(h,f,E){for(E=E.child;E!==null;)zd(h,f,E),E=E.sibling}function zd(h,f,E){if(pt&&typeof pt.onCommitFiberUnmount=="function")try{pt.onCommitFiberUnmount(rt,E)}catch{}switch(E.tag){case 26:As||xu(E,f),Ec(h,f,E),E.memoizedState?E.memoizedState.count--:E.stateNode&&(E=E.stateNode,E.parentNode.removeChild(E));break;case 27:As||xu(E,f);var M=Li,z=kr;ap(E.type)&&(Li=E.stateNode,kr=!1),Ec(h,f,E),Z0(E.stateNode),Li=M,kr=z;break;case 5:As||xu(E,f);case 6:if(M=Li,z=kr,Li=null,Ec(h,f,E),Li=M,kr=z,Li!==null)if(kr)try{(Li.nodeType===9?Li.body:Li.nodeName==="HTML"?Li.ownerDocument.body:Li).removeChild(E.stateNode)}catch(q){st(E,f,q)}else try{Li.removeChild(E.stateNode)}catch(q){st(E,f,q)}break;case 18:Li!==null&&(kr?(h=Li,Z2(h.nodeType===9?h.body:h.nodeName==="HTML"?h.ownerDocument.body:h,E.stateNode),sy(h)):Z2(Li,E.stateNode));break;case 4:M=Li,z=kr,Li=E.stateNode.containerInfo,kr=!0,Ec(h,f,E),Li=M,kr=z;break;case 0:case 11:case 14:case 15:As||jl(2,E,f),As||jl(4,E,f),Ec(h,f,E);break;case 1:As||(xu(E,f),M=E.stateNode,typeof M.componentWillUnmount=="function"&&th(E,f,M)),Ec(h,f,E);break;case 21:Ec(h,f,E);break;case 22:As=(M=As)||E.memoizedState!==null,Ec(h,f,E),As=M;break;default:Ec(h,f,E)}}function Vh(h,f){if(f.memoizedState===null&&(h=f.alternate,h!==null&&(h=h.memoizedState,h!==null&&(h=h.dehydrated,h!==null))))try{sy(h)}catch(E){st(f,f.return,E)}}function jg(h){switch(h.tag){case 13:case 19:var f=h.stateNode;return f===null&&(f=h.stateNode=new Xl),f;case 22:return h=h.stateNode,f=h._retryCache,f===null&&(f=h._retryCache=new Xl),f;default:throw Error(i(435,h.tag))}}function $d(h,f){var E=jg(h);f.forEach(function(M){var z=Gi.bind(null,h,M);E.has(M)||(E.add(M),M.then(z,z))})}function _a(h,f){var E=f.deletions;if(E!==null)for(var M=0;M<E.length;M++){var z=E[M],q=h,de=f,Ce=de;e:for(;Ce!==null;){switch(Ce.tag){case 27:if(ap(Ce.type)){Li=Ce.stateNode,kr=!1;break e}break;case 5:Li=Ce.stateNode,kr=!1;break e;case 3:case 4:Li=Ce.stateNode.containerInfo,kr=!0;break e}Ce=Ce.return}if(Li===null)throw Error(i(160));zd(q,de,z),Li=null,kr=!1,q=z.alternate,q!==null&&(q.return=null),z.return=null}if(f.subtreeFlags&13878)for(f=f.child;f!==null;)Xg(f,h),f=f.sibling}var qc=null;function Xg(h,f){var E=h.alternate,M=h.flags;switch(h.tag){case 0:case 11:case 14:case 15:_a(f,h),mo(h),M&4&&(jl(3,h,h.return),Bd(3,h),jl(5,h,h.return));break;case 1:_a(f,h),mo(h),M&512&&(As||E===null||xu(E,E.return)),M&64&&Su&&(h=h.updateQueue,h!==null&&(M=h.callbacks,M!==null&&(E=h.shared.hiddenCallbacks,h.shared.hiddenCallbacks=E===null?M:E.concat(M))));break;case 26:var z=qc;if(_a(f,h),mo(h),M&512&&(As||E===null||xu(E,E.return)),M&4){var q=E!==null?E.memoizedState:null;if(M=h.memoizedState,E===null)if(M===null)if(h.stateNode===null){e:{M=h.type,E=h.memoizedProps,z=z.ownerDocument||z;t:switch(M){case"title":q=z.getElementsByTagName("title")[0],(!q||q[ls]||q[dr]||q.namespaceURI==="http://www.w3.org/2000/svg"||q.hasAttribute("itemprop"))&&(q=z.createElement(M),z.head.insertBefore(q,z.querySelector("head > title"))),ll(q,M,E),q[dr]=h,bt(q),M=q;break e;case"link":var de=sO("link","href",z).get(M+(E.href||""));if(de){for(var Ce=0;Ce<de.length;Ce++)if(q=de[Ce],q.getAttribute("href")===(E.href==null||E.href===""?null:E.href)&&q.getAttribute("rel")===(E.rel==null?null:E.rel)&&q.getAttribute("title")===(E.title==null?null:E.title)&&q.getAttribute("crossorigin")===(E.crossOrigin==null?null:E.crossOrigin)){de.splice(Ce,1);break t}}q=z.createElement(M),ll(q,M,E),z.head.appendChild(q);break;case"meta":if(de=sO("meta","content",z).get(M+(E.content||""))){for(Ce=0;Ce<de.length;Ce++)if(q=de[Ce],q.getAttribute("content")===(E.content==null?null:""+E.content)&&q.getAttribute("name")===(E.name==null?null:E.name)&&q.getAttribute("property")===(E.property==null?null:E.property)&&q.getAttribute("http-equiv")===(E.httpEquiv==null?null:E.httpEquiv)&&q.getAttribute("charset")===(E.charSet==null?null:E.charSet)){de.splice(Ce,1);break t}}q=z.createElement(M),ll(q,M,E),z.head.appendChild(q);break;default:throw Error(i(468,M))}q[dr]=h,bt(q),M=q}h.stateNode=M}else oO(z,h.type,h.stateNode);else h.stateNode=rO(z,M,h.memoizedProps);else q!==M?(q===null?E.stateNode!==null&&(E=E.stateNode,E.parentNode.removeChild(E)):q.count--,M===null?oO(z,h.type,h.stateNode):rO(z,M,h.memoizedProps)):M===null&&h.stateNode!==null&&vm(h,h.memoizedProps,E.memoizedProps)}break;case 27:_a(f,h),mo(h),M&512&&(As||E===null||xu(E,E.return)),E!==null&&M&4&&vm(h,h.memoizedProps,E.memoizedProps);break;case 5:if(_a(f,h),mo(h),M&512&&(As||E===null||xu(E,E.return)),h.flags&32){z=h.stateNode;try{gs(z,"")}catch(It){st(h,h.return,It)}}M&4&&h.stateNode!=null&&(z=h.memoizedProps,vm(h,z,E!==null?E.memoizedProps:z)),M&1024&&(tp=!0);break;case 6:if(_a(f,h),mo(h),M&4){if(h.stateNode===null)throw Error(i(162));M=h.memoizedProps,E=h.stateNode;try{E.nodeValue=M}catch(It){st(h,h.return,It)}}break;case 3:if(Vb=null,z=qc,qc=Hb(f.containerInfo),_a(f,h),qc=z,mo(h),M&4&&E!==null&&E.memoizedState.isDehydrated)try{sy(f.containerInfo)}catch(It){st(h,h.return,It)}tp&&(tp=!1,Wh(h));break;case 4:M=qc,qc=Hb(h.stateNode.containerInfo),_a(f,h),mo(h),qc=M;break;case 12:_a(f,h),mo(h);break;case 13:_a(f,h),mo(h),h.child.flags&8192&&h.memoizedState!==null!=(E!==null&&E.memoizedState!==null)&&(ds=zt()),M&4&&(M=h.updateQueue,M!==null&&(h.updateQueue=null,$d(h,M)));break;case 22:z=h.memoizedState!==null;var Ke=E!==null&&E.memoizedState!==null,wt=Su,nn=As;if(Su=wt||z,As=nn||Ke,_a(f,h),As=nn,Su=wt,mo(h),M&8192)e:for(f=h.stateNode,f._visibility=z?f._visibility&-2:f._visibility|1,z&&(E===null||Ke||Su||As||ql(h)),E=null,f=h;;){if(f.tag===5||f.tag===26){if(E===null){Ke=E=f;try{if(q=Ke.stateNode,z)de=q.style,typeof de.setProperty=="function"?de.setProperty("display","none","important"):de.display="none";else{Ce=Ke.stateNode;var fn=Ke.memoizedProps.style,Ot=fn!=null&&fn.hasOwnProperty("display")?fn.display:null;Ce.style.display=Ot==null||typeof Ot=="boolean"?"":(""+Ot).trim()}}catch(It){st(Ke,Ke.return,It)}}}else if(f.tag===6){if(E===null){Ke=f;try{Ke.stateNode.nodeValue=z?"":Ke.memoizedProps}catch(It){st(Ke,Ke.return,It)}}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===h)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===h)break e;for(;f.sibling===null;){if(f.return===null||f.return===h)break e;E===f&&(E=null),f=f.return}E===f&&(E=null),f.sibling.return=f.return,f=f.sibling}M&4&&(M=h.updateQueue,M!==null&&(E=M.retryQueue,E!==null&&(M.retryQueue=null,$d(h,E))));break;case 19:_a(f,h),mo(h),M&4&&(M=h.updateQueue,M!==null&&(h.updateQueue=null,$d(h,M)));break;case 30:break;case 21:break;default:_a(f,h),mo(h)}}function mo(h){var f=h.flags;if(f&2){try{for(var E,M=h.return;M!==null;){if(ym(M)){E=M;break}M=M.return}if(E==null)throw Error(i(160));switch(E.tag){case 27:var z=E.stateNode,q=zh(h);Hh(h,q,z);break;case 5:var de=E.stateNode;E.flags&32&&(gs(de,""),E.flags&=-33);var Ce=zh(h);Hh(h,Ce,de);break;case 3:case 4:var Ke=E.stateNode.containerInfo,wt=zh(h);$h(h,wt,Ke);break;default:throw Error(i(161))}}catch(nn){st(h,h.return,nn)}h.flags&=-3}f&4096&&(h.flags&=-4097)}function Wh(h){if(h.subtreeFlags&1024)for(h=h.child;h!==null;){var f=h;Wh(f),f.tag===5&&f.flags&1024&&f.stateNode.reset(),h=h.sibling}}function ol(h,f){if(f.subtreeFlags&8772)for(f=f.child;f!==null;)nh(h,f.alternate,f),f=f.sibling}function ql(h){for(h=h.child;h!==null;){var f=h;switch(f.tag){case 0:case 11:case 14:case 15:jl(4,f,f.return),ql(f);break;case 1:xu(f,f.return);var E=f.stateNode;typeof E.componentWillUnmount=="function"&&th(f,f.return,E),ql(f);break;case 27:Z0(f.stateNode);case 26:case 5:xu(f,f.return),ql(f);break;case 22:f.memoizedState===null&&ql(f);break;case 30:ql(f);break;default:ql(f)}h=h.sibling}}function Eu(h,f,E){for(E=E&&(f.subtreeFlags&8772)!==0,f=f.child;f!==null;){var M=f.alternate,z=h,q=f,de=q.flags;switch(q.tag){case 0:case 11:case 15:Eu(z,q,E),Bd(4,q);break;case 1:if(Eu(z,q,E),M=q,z=M.stateNode,typeof z.componentDidMount=="function")try{z.componentDidMount()}catch(wt){st(M,M.return,wt)}if(M=q,z=M.updateQueue,z!==null){var Ce=M.stateNode;try{var Ke=z.shared.hiddenCallbacks;if(Ke!==null)for(z.shared.hiddenCallbacks=null,z=0;z<Ke.length;z++)bi(Ke[z],Ce)}catch(wt){st(M,M.return,wt)}}E&&de&64&&Ud(q),kd(q,q.return);break;case 27:Gh(q);case 26:case 5:Eu(z,q,E),E&&M===null&&de&4&&ep(q),kd(q,q.return);break;case 12:Eu(z,q,E);break;case 13:Eu(z,q,E),E&&de&4&&Vh(z,q);break;case 22:q.memoizedState===null&&Eu(z,q,E),kd(q,q.return);break;case 30:break;default:Eu(z,q,E)}f=f.sibling}}function qg(h,f){var E=null;h!==null&&h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(E=h.memoizedState.cachePool.pool),h=null,f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(h=f.memoizedState.cachePool.pool),h!==E&&(h!=null&&h.refCount++,E!=null&&fu(E))}function Yg(h,f){h=null,f.alternate!==null&&(h=f.alternate.memoizedState.cache),f=f.memoizedState.cache,f!==h&&(f.refCount++,h!=null&&fu(h))}function xs(h,f,E,M){if(f.subtreeFlags&10256)for(f=f.child;f!==null;)Kg(h,f,E,M),f=f.sibling}function Kg(h,f,E,M){var z=f.flags;switch(f.tag){case 0:case 11:case 15:xs(h,f,E,M),z&2048&&Bd(9,f);break;case 1:xs(h,f,E,M);break;case 3:xs(h,f,E,M),z&2048&&(h=null,f.alternate!==null&&(h=f.alternate.memoizedState.cache),f=f.memoizedState.cache,f!==h&&(f.refCount++,h!=null&&fu(h)));break;case 12:if(z&2048){xs(h,f,E,M),h=f.stateNode;try{var q=f.memoizedProps,de=q.id,Ce=q.onPostCommit;typeof Ce=="function"&&Ce(de,f.alternate===null?"mount":"update",h.passiveEffectDuration,-0)}catch(Ke){st(f,f.return,Ke)}}else xs(h,f,E,M);break;case 13:xs(h,f,E,M);break;case 23:break;case 22:q=f.stateNode,de=f.alternate,f.memoizedState!==null?q._visibility&2?xs(h,f,E,M):Yc(h,f):q._visibility&2?xs(h,f,E,M):(q._visibility|=2,ih(h,f,E,M,(f.subtreeFlags&10256)!==0)),z&2048&&qg(de,f);break;case 24:xs(h,f,E,M),z&2048&&Yg(f.alternate,f);break;default:xs(h,f,E,M)}}function ih(h,f,E,M,z){for(z=z&&(f.subtreeFlags&10256)!==0,f=f.child;f!==null;){var q=h,de=f,Ce=E,Ke=M,wt=de.flags;switch(de.tag){case 0:case 11:case 15:ih(q,de,Ce,Ke,z),Bd(8,de);break;case 23:break;case 22:var nn=de.stateNode;de.memoizedState!==null?nn._visibility&2?ih(q,de,Ce,Ke,z):Yc(q,de):(nn._visibility|=2,ih(q,de,Ce,Ke,z)),z&&wt&2048&&qg(de.alternate,de);break;case 24:ih(q,de,Ce,Ke,z),z&&wt&2048&&Yg(de.alternate,de);break;default:ih(q,de,Ce,Ke,z)}f=f.sibling}}function Yc(h,f){if(f.subtreeFlags&10256)for(f=f.child;f!==null;){var E=h,M=f,z=M.flags;switch(M.tag){case 22:Yc(E,M),z&2048&&qg(M.alternate,M);break;case 24:Yc(E,M),z&2048&&Yg(M.alternate,M);break;default:Yc(E,M)}f=f.sibling}}var Yl=8192;function np(h){if(h.subtreeFlags&Yl)for(h=h.child;h!==null;)Fb(h),h=h.sibling}function Fb(h){switch(h.tag){case 26:np(h),h.flags&Yl&&h.memoizedState!==null&&Bz(qc,h.memoizedState,h.memoizedProps);break;case 5:np(h);break;case 3:case 4:var f=qc;qc=Hb(h.stateNode.containerInfo),np(h),qc=f;break;case 22:h.memoizedState===null&&(f=h.alternate,f!==null&&f.memoizedState!==null?(f=Yl,Yl=16777216,np(h),Yl=f):np(h));break;default:np(h)}}function Bb(h){var f=h.alternate;if(f!==null&&(h=f.child,h!==null)){f.child=null;do f=h.sibling,h.sibling=null,h=f;while(h!==null)}}function Rs(h){var f=h.deletions;if((h.flags&16)!==0){if(f!==null)for(var E=0;E<f.length;E++){var M=f[E];bs=M,Cu(M,h)}Bb(h)}if(h.subtreeFlags&10256)for(h=h.child;h!==null;)j0(h),h=h.sibling}function j0(h){switch(h.tag){case 0:case 11:case 15:Rs(h),h.flags&2048&&jl(9,h,h.return);break;case 3:Rs(h);break;case 12:Rs(h);break;case 22:var f=h.stateNode;h.memoizedState!==null&&f._visibility&2&&(h.return===null||h.return.tag!==13)?(f._visibility&=-3,wu(h)):Rs(h);break;default:Rs(h)}}function wu(h){var f=h.deletions;if((h.flags&16)!==0){if(f!==null)for(var E=0;E<f.length;E++){var M=f[E];bs=M,Cu(M,h)}Bb(h)}for(h=h.child;h!==null;){switch(f=h,f.tag){case 0:case 11:case 15:jl(8,f,f.return),wu(f);break;case 22:E=f.stateNode,E._visibility&2&&(E._visibility&=-3,wu(f));break;default:wu(f)}h=h.sibling}}function Cu(h,f){for(;bs!==null;){var E=bs;switch(E.tag){case 0:case 11:case 15:jl(8,E,f);break;case 23:case 22:if(E.memoizedState!==null&&E.memoizedState.cachePool!==null){var M=E.memoizedState.cachePool.pool;M!=null&&M.refCount++}break;case 24:fu(E.memoizedState.cache)}if(M=E.child,M!==null)M.return=E,bs=M;else e:for(E=h;bs!==null;){M=bs;var z=M.sibling,q=M.return;if(cr(M),M===E){bs=null;break e}if(z!==null){z.return=q,bs=z;break e}bs=q}}}var go={getCacheForType:function(h){var f=Ws(js),E=f.data.get(h);return E===void 0&&(E=h(),f.data.set(h,E)),E}},X0=typeof WeakMap=="function"?WeakMap:Map,Jr=0,er=null,yr=null,Ti=0,or=0,ro=null,Kl=!1,ip=!1,rp=!1,wc=0,Us=0,Kc=0,Tu=0,Hd=0,Cc=0,zr=0,es=null,Ni=null,Cr=!1,ds=0,Va=1/0,Tc=null,Zl=null,ea=0,Wa=null,Ss=null,Ql=0,rh=0,_m=null,Jl=null,Au=0,Gd=null;function vo(){if((Jr&2)!==0&&Ti!==0)return Ti&-Ti;if(H.T!==null){var h=Zi;return h!==0?h:Ew()}return Ri()}function Zg(){Cc===0&&(Cc=(Ti&536870912)===0||wr?Xe():536870912);var h=_s.current;return h!==null&&(h.flags|=32),Cc}function al(h,f,E){(h===er&&(or===2||or===9)||h.cancelPendingCommit!==null)&&(Xh(h,0),Zc(h,Ti,Cc,!1)),gn(h,E),((Jr&2)===0||h!==er)&&(h===er&&((Jr&2)===0&&(Tu|=E),Us===4&&Zc(h,Ti,Cc,!1)),Kh(h))}function sp(h,f,E){if((Jr&6)!==0)throw Error(i(327));var M=!E&&(f&124)===0&&(f&h.expiredLanes)===0||lt(h,f),z=M?$(h,f):S(h,f,!0),q=M;do{if(z===0){ip&&!M&&Zc(h,f,0,!1);break}else{if(E=h.current.alternate,q&&!jh(E)){z=S(h,f,!1),q=!1;continue}if(z===2){if(q=f,h.errorRecoveryDisabledLanes&q)var de=0;else de=h.pendingLanes&-536870913,de=de!==0?de:de&536870912?536870912:0;if(de!==0){f=de;e:{var Ce=h;z=es;var Ke=Ce.current.memoizedState.isDehydrated;if(Ke&&(Xh(Ce,de).flags|=256),de=S(Ce,de,!1),de!==2){if(rp&&!Ke){Ce.errorRecoveryDisabledLanes|=q,Tu|=q,z=4;break e}q=Ni,Ni=z,q!==null&&(Ni===null?Ni=q:Ni.push.apply(Ni,q))}z=de}if(q=!1,z!==2)continue}}if(z===1){Xh(h,0),Zc(h,f,0,!0);break}e:{switch(M=h,q=z,q){case 0:case 1:throw Error(i(345));case 4:if((f&4194048)!==f)break;case 6:Zc(M,f,Cc,!Kl);break e;case 2:Ni=null;break;case 3:case 5:break;default:throw Error(i(329))}if((f&62914560)===f&&(z=ds+300-zt(),10<z)){if(Zc(M,f,Cc,!Kl),Ge(M,0,!0)!==0)break e;M.timeoutHandle=Y2(bm.bind(null,M,E,Ni,Tc,Cr,f,Cc,Tu,zr,Kl,q,2,-0,0),z);break e}bm(M,E,Ni,Tc,Cr,f,Cc,Tu,zr,Kl,q,0,-0,0)}}break}while(!0);Kh(h)}function bm(h,f,E,M,z,q,de,Ce,Ke,wt,nn,fn,Ot,It){if(h.timeoutHandle=-1,fn=f.subtreeFlags,(fn&8192||(fn&16785408)===16785408)&&(ey={stylesheets:null,count:0,unsuspend:Fz},Fb(f),fn=Uz(),fn!==null)){h.cancelPendingCommit=fn(In.bind(null,h,f,q,E,M,z,de,Ce,Ke,nn,1,Ot,It)),Zc(h,q,de,!wt);return}In(h,f,q,E,M,z,de,Ce,Ke)}function jh(h){for(var f=h;;){var E=f.tag;if((E===0||E===11||E===15)&&f.flags&16384&&(E=f.updateQueue,E!==null&&(E=E.stores,E!==null)))for(var M=0;M<E.length;M++){var z=E[M],q=z.getSnapshot;z=z.value;try{if(!Gs(q(),z))return!1}catch{return!1}}if(E=f.child,f.subtreeFlags&16384&&E!==null)E.return=f,f=E;else{if(f===h)break;for(;f.sibling===null;){if(f.return===null||f.return===h)return!0;f=f.return}f.sibling.return=f.return,f=f.sibling}}return!0}function Zc(h,f,E,M){f&=~Hd,f&=~Tu,h.suspendedLanes|=f,h.pingedLanes&=~f,M&&(h.warmLanes|=f),M=h.expirationTimes;for(var z=f;0<z;){var q=31-Yt(z),de=1<<q;M[q]=-1,z&=~de}E!==0&&Ut(h,E,f)}function Ru(){return(Jr&6)===0?(q0(0),!1):!0}function Vd(){if(yr!==null){if(or===0)var h=yr.return;else h=yr,zc=hu=null,Ga(h),Rd=null,dm=0,h=yr;for(;h!==null;)Jf(h.alternate,h),h=h.return;yr=null}}function Xh(h,f){var E=h.timeoutHandle;E!==-1&&(h.timeoutHandle=-1,_z(E)),E=h.cancelPendingCommit,E!==null&&(h.cancelPendingCommit=null,E()),Vd(),er=h,yr=E=io(h.current,null),Ti=f,or=0,ro=null,Kl=!1,ip=lt(h,f),rp=!1,zr=Cc=Hd=Tu=Kc=Us=0,Ni=es=null,Cr=!1,(f&8)!==0&&(f|=f&32);var M=h.entangledLanes;if(M!==0)for(h=h.entanglements,M&=f;0<M;){var z=31-Yt(M),q=1<<z;f|=h[z],M&=~q}return wc=f,bd(),E}function Qg(h,f){Bn=null,H.H=hm,f===Ad||f===Ha?(f=W(),or=3):f===$f?(f=W(),or=4):or=f===Db?8:f!==null&&typeof f=="object"&&typeof f.then=="function"?6:1,ro=f,yr===null&&(Us=1,Gg(h,Ko(f,h.current)))}function op(){var h=H.H;return H.H=hm,h===null?hm:h}function Jg(){var h=H.A;return H.A=go,h}function y(){Us=4,Kl||(Ti&4194048)!==Ti&&_s.current!==null||(ip=!0),(Kc&134217727)===0&&(Tu&134217727)===0||er===null||Zc(er,Ti,Cc,!1)}function S(h,f,E){var M=Jr;Jr|=2;var z=op(),q=Jg();(er!==h||Ti!==f)&&(Tc=null,Xh(h,f)),f=!1;var de=Us;e:do try{if(or!==0&&yr!==null){var Ce=yr,Ke=ro;switch(or){case 8:Vd(),de=6;break e;case 3:case 2:case 9:case 6:_s.current===null&&(f=!0);var wt=or;if(or=0,ro=null,Ze(h,Ce,Ke,wt),E&&ip){de=0;break e}break;default:wt=or,or=0,ro=null,Ze(h,Ce,Ke,wt)}}N(),de=Us;break}catch(nn){Qg(h,nn)}while(!0);return f&&h.shellSuspendCounter++,zc=hu=null,Jr=M,H.H=z,H.A=q,yr===null&&(er=null,Ti=0,bd()),de}function N(){for(;yr!==null;)se(yr)}function $(h,f){var E=Jr;Jr|=2;var M=op(),z=Jg();er!==h||Ti!==f?(Tc=null,Va=zt()+500,Xh(h,f)):ip=lt(h,f);e:do try{if(or!==0&&yr!==null){f=yr;var q=ro;t:switch(or){case 1:or=0,ro=null,Ze(h,f,q,1);break;case 2:case 9:if(Hf(q)){or=0,ro=null,Oe(f);break}f=function(){or!==2&&or!==9||er!==h||(or=7),Kh(h)},q.then(f,f);break e;case 3:or=7;break e;case 4:or=5;break e;case 7:Hf(q)?(or=0,ro=null,Oe(f)):(or=0,ro=null,Ze(h,f,q,7));break;case 5:var de=null;switch(yr.tag){case 26:de=yr.memoizedState;case 5:case 27:var Ce=yr;if(!de||aO(de)){or=0,ro=null;var Ke=Ce.sibling;if(Ke!==null)yr=Ke;else{var wt=Ce.return;wt!==null?(yr=wt,gt(wt)):yr=null}break t}}or=0,ro=null,Ze(h,f,q,5);break;case 6:or=0,ro=null,Ze(h,f,q,6);break;case 8:Vd(),Us=6;break e;default:throw Error(i(462))}}Y();break}catch(nn){Qg(h,nn)}while(!0);return zc=hu=null,H.H=M,H.A=z,Jr=E,yr!==null?0:(er=null,Ti=0,bd(),Us)}function Y(){for(;yr!==null&&!Bt();)se(yr)}function se(h){var f=Dd(h.alternate,h,wc);h.memoizedProps=h.pendingProps,f===null?gt(h):yr=f}function Oe(h){var f=h,E=f.alternate;switch(f.tag){case 15:case 0:f=Vl(E,f,f.pendingProps,f.type,void 0,Ti);break;case 11:f=Vl(E,f,f.pendingProps,f.type.render,f.ref,Ti);break;case 5:Ga(f);default:Jf(E,f),f=yr=Yp(f,wc),f=Dd(E,f,wc)}h.memoizedProps=h.pendingProps,f===null?gt(h):yr=f}function Ze(h,f,E,M){zc=hu=null,Ga(f),Rd=null,dm=0;var z=f.return;try{if(xw(h,z,f,E,Ti)){Us=1,Gg(h,Ko(E,h.current)),yr=null;return}}catch(q){if(z!==null)throw yr=z,q;Us=1,Gg(h,Ko(E,h.current)),yr=null;return}f.flags&32768?(wr||M===1?h=!0:ip||(Ti&536870912)!==0?h=!1:(Kl=h=!0,(M===2||M===9||M===3||M===6)&&(M=_s.current,M!==null&&M.tag===13&&(M.flags|=16384))),tn(f,h)):gt(f)}function gt(h){var f=h;do{if((f.flags&32768)!==0){tn(f,Kl);return}h=f.return;var E=W0(f.alternate,f,wc);if(E!==null){yr=E;return}if(f=f.sibling,f!==null){yr=f;return}yr=f=h}while(f!==null);Us===0&&(Us=5)}function tn(h,f){do{var E=Qf(h.alternate,h);if(E!==null){E.flags&=32767,yr=E;return}if(E=h.return,E!==null&&(E.flags|=32768,E.subtreeFlags=0,E.deletions=null),!f&&(h=h.sibling,h!==null)){yr=h;return}yr=h=E}while(h!==null);Us=6,yr=null}function In(h,f,E,M,z,q,de,Ce,Ke){h.cancelPendingCommit=null;do qh();while(ea!==0);if((Jr&6)!==0)throw Error(i(327));if(f!==null){if(f===h.current)throw Error(i(177));if(q=f.lanes|f.childLanes,q|=Pf,sn(h,E,q,de,Ce,Ke),h===er&&(yr=er=null,Ti=0),Ss=f,Wa=h,Ql=E,rh=q,_m=z,Jl=M,(f.subtreeFlags&10256)!==0||(f.flags&10256)!==0?(h.callbackNode=null,h.callbackPriority=0,Wr(Nt,function(){return Yh(),null})):(h.callbackNode=null,h.callbackPriority=0),M=(f.flags&13878)!==0,(f.subtreeFlags&13878)!==0||M){M=H.T,H.T=null,z=te.p,te.p=2,de=Jr,Jr|=4;try{Jo(h,f,E)}finally{Jr=de,te.p=z,H.T=M}}ea=1,Vn(),Zn(),tr()}}function Vn(){if(ea===1){ea=0;var h=Wa,f=Ss,E=(f.flags&13878)!==0;if((f.subtreeFlags&13878)!==0||E){E=H.T,H.T=null;var M=te.p;te.p=2;var z=Jr;Jr|=4;try{Xg(f,h);var q=Lw,de=Rh(h.containerInfo),Ce=q.focusedElem,Ke=q.selectionRange;if(de!==Ce&&Ce&&Ce.ownerDocument&&Gu(Ce.ownerDocument.documentElement,Ce)){if(Ke!==null&&ke(Ce)){var wt=Ke.start,nn=Ke.end;if(nn===void 0&&(nn=wt),"selectionStart"in Ce)Ce.selectionStart=wt,Ce.selectionEnd=Math.min(nn,Ce.value.length);else{var fn=Ce.ownerDocument||document,Ot=fn&&fn.defaultView||window;if(Ot.getSelection){var It=Ot.getSelection(),Xi=Ce.textContent.length,Bi=Math.min(Ke.start,Xi),Os=Ke.end===void 0?Bi:Math.min(Ke.end,Xi);!It.extend&&Bi>Os&&(de=Os,Os=Bi,Bi=de);var dt=ga(Ce,Bi),at=ga(Ce,Os);if(dt&&at&&(It.rangeCount!==1||It.anchorNode!==dt.node||It.anchorOffset!==dt.offset||It.focusNode!==at.node||It.focusOffset!==at.offset)){var xt=fn.createRange();xt.setStart(dt.node,dt.offset),It.removeAllRanges(),Bi>Os?(It.addRange(xt),It.extend(at.node,at.offset)):(xt.setEnd(at.node,at.offset),It.addRange(xt))}}}}for(fn=[],It=Ce;It=It.parentNode;)It.nodeType===1&&fn.push({element:It,left:It.scrollLeft,top:It.scrollTop});for(typeof Ce.focus=="function"&&Ce.focus(),Ce=0;Ce<fn.length;Ce++){var un=fn[Ce];un.element.scrollLeft=un.left,un.element.scrollTop=un.top}}Xb=!!Ow,Lw=Ow=null}finally{Jr=z,te.p=M,H.T=E}}h.current=f,ea=2}}function Zn(){if(ea===2){ea=0;var h=Wa,f=Ss,E=(f.flags&8772)!==0;if((f.subtreeFlags&8772)!==0||E){E=H.T,H.T=null;var M=te.p;te.p=2;var z=Jr;Jr|=4;try{nh(h,f.alternate,f)}finally{Jr=z,te.p=M,H.T=E}}ea=3}}function tr(){if(ea===4||ea===3){ea=0,Tt();var h=Wa,f=Ss,E=Ql,M=Jl;(f.subtreeFlags&10256)!==0||(f.flags&10256)!==0?ea=5:(ea=0,Ss=Wa=null,ec(h,h.pendingLanes));var z=h.pendingLanes;if(z===0&&(Zl=null),Ai(E),f=f.stateNode,pt&&typeof pt.onCommitFiberRoot=="function")try{pt.onCommitFiberRoot(rt,f,void 0,(f.current.flags&128)===128)}catch{}if(M!==null){f=H.T,z=te.p,te.p=2,H.T=null;try{for(var q=h.onRecoverableError,de=0;de<M.length;de++){var Ce=M[de];q(Ce.value,{componentStack:Ce.stack})}}finally{H.T=f,te.p=z}}(Ql&3)!==0&&qh(),Kh(h),z=h.pendingLanes,(E&4194090)!==0&&(z&42)!==0?h===Gd?Au++:(Au=0,Gd=h):Au=0,q0(0)}}function ec(h,f){(h.pooledCacheLanes&=f)===0&&(f=h.pooledCache,f!=null&&(h.pooledCache=null,fu(f)))}function qh(h){return Vn(),Zn(),tr(),Yh()}function Yh(){if(ea!==5)return!1;var h=Wa,f=rh;rh=0;var E=Ai(Ql),M=H.T,z=te.p;try{te.p=32>E?32:E,H.T=null,E=_m,_m=null;var q=Wa,de=Ql;if(ea=0,Ss=Wa=null,Ql=0,(Jr&6)!==0)throw Error(i(331));var Ce=Jr;if(Jr|=4,j0(q.current),Kg(q,q.current,de,E),Jr=Ce,q0(0,!1),pt&&typeof pt.onPostCommitFiberRoot=="function")try{pt.onPostCommitFiberRoot(rt,q)}catch{}return!0}finally{te.p=z,H.T=M,ec(h,f)}}function Ct(h,f,E){f=Ko(E,f),f=Vg(h.stateNode,f,2),h=cn(h,f,2),h!==null&&(gn(h,2),Kh(h))}function st(h,f,E){if(h.tag===3)Ct(h,h,E);else for(;f!==null;){if(f.tag===3){Ct(f,h,E);break}else if(f.tag===1){var M=f.stateNode;if(typeof f.type.getDerivedStateFromError=="function"||typeof M.componentDidCatch=="function"&&(Zl===null||!Zl.has(M))){h=Ko(E,h),E=Ib(2),M=cn(f,E,2),M!==null&&(Wg(E,M,f,h),gn(M,2),Kh(M));break}}f=f.return}}function Ft(h,f,E){var M=h.pingCache;if(M===null){M=h.pingCache=new X0;var z=new Set;M.set(f,z)}else z=M.get(f),z===void 0&&(z=new Set,M.set(f,z));z.has(E)||(rp=!0,z.add(E),h=Tn.bind(null,h,f,E),f.then(h,h))}function Tn(h,f,E){var M=h.pingCache;M!==null&&M.delete(f),h.pingedLanes|=h.suspendedLanes&E,h.warmLanes&=~E,er===h&&(Ti&E)===E&&(Us===4||Us===3&&(Ti&62914560)===Ti&&300>zt()-ds?(Jr&2)===0&&Xh(h,0):Hd|=E,zr===Ti&&(zr=0)),Kh(h)}function xi(h,f){f===0&&(f=mt()),h=Uc(h,f),h!==null&&(gn(h,f),Kh(h))}function ks(h){var f=h.memoizedState,E=0;f!==null&&(E=f.retryLane),xi(h,E)}function Gi(h,f){var E=0;switch(h.tag){case 13:var M=h.stateNode,z=h.memoizedState;z!==null&&(E=z.retryLane);break;case 19:M=h.stateNode;break;case 22:M=h.stateNode._retryCache;break;default:throw Error(i(314))}M!==null&&M.delete(f),xi(h,E)}function Wr(h,f){return pn(h,f)}var Co=null,xr=null,Mu=!1,ev=!1,Sw=!1,xm=0;function Kh(h){h!==xr&&h.next===null&&(xr===null?Co=xr=h:xr=xr.next=h),ev=!0,Mu||(Mu=!0,uz())}function q0(h,f){if(!Sw&&ev){Sw=!0;do for(var E=!1,M=Co;M!==null;){if(h!==0){var z=M.pendingLanes;if(z===0)var q=0;else{var de=M.suspendedLanes,Ce=M.pingedLanes;q=(1<<31-Yt(42|h)+1)-1,q&=z&~(de&~Ce),q=q&201326741?q&201326741|1:q?q|2:0}q!==0&&(E=!0,k2(M,q))}else q=Ti,q=Ge(M,M===er?q:0,M.cancelPendingCommit!==null||M.timeoutHandle!==-1),(q&3)===0||lt(M,q)||(E=!0,k2(M,q));M=M.next}while(E);Sw=!1}}function cz(){F2()}function F2(){ev=Mu=!1;var h=0;xm!==0&&(yz()&&(h=xm),xm=0);for(var f=zt(),E=null,M=Co;M!==null;){var z=M.next,q=B2(M,f);q===0?(M.next=null,E===null?Co=z:E.next=z,z===null&&(xr=E)):(E=M,(h!==0||(q&3)!==0)&&(ev=!0)),M=z}q0(h)}function B2(h,f){for(var E=h.suspendedLanes,M=h.pingedLanes,z=h.expirationTimes,q=h.pendingLanes&-62914561;0<q;){var de=31-Yt(q),Ce=1<<de,Ke=z[de];Ke===-1?((Ce&E)===0||(Ce&M)!==0)&&(z[de]=Xt(Ce,f)):Ke<=f&&(h.expiredLanes|=Ce),q&=~Ce}if(f=er,E=Ti,E=Ge(h,h===f?E:0,h.cancelPendingCommit!==null||h.timeoutHandle!==-1),M=h.callbackNode,E===0||h===f&&(or===2||or===9)||h.cancelPendingCommit!==null)return M!==null&&M!==null&&Ae(M),h.callbackNode=null,h.callbackPriority=0;if((E&3)===0||lt(h,E)){if(f=E&-E,f===h.callbackPriority)return f;switch(M!==null&&Ae(M),Ai(E)){case 2:case 8:E=nt;break;case 32:E=Nt;break;case 268435456:E=_e;break;default:E=Nt}return M=U2.bind(null,h),E=pn(E,M),h.callbackPriority=f,h.callbackNode=E,f}return M!==null&&M!==null&&Ae(M),h.callbackPriority=2,h.callbackNode=null,2}function U2(h,f){if(ea!==0&&ea!==5)return h.callbackNode=null,h.callbackPriority=0,null;var E=h.callbackNode;if(qh()&&h.callbackNode!==E)return null;var M=Ti;return M=Ge(h,h===er?M:0,h.cancelPendingCommit!==null||h.timeoutHandle!==-1),M===0?null:(sp(h,M,f),B2(h,zt()),h.callbackNode!=null&&h.callbackNode===E?U2.bind(null,h):null)}function k2(h,f){if(qh())return null;sp(h,f,!0)}function uz(){bz(function(){(Jr&6)!==0?pn(yn,cz):F2()})}function Ew(){return xm===0&&(xm=Xe()),xm}function z2(h){return h==null||typeof h=="symbol"||typeof h=="boolean"?null:typeof h=="function"?h:Qs(""+h)}function $2(h,f){var E=f.ownerDocument.createElement("input");return E.name=f.name,E.value=f.value,h.id&&E.setAttribute("form",h.id),f.parentNode.insertBefore(E,f),h=new FormData(h),E.parentNode.removeChild(E),h}function hz(h,f,E,M,z){if(f==="submit"&&E&&E.stateNode===z){var q=z2((z[Pr]||null).action),de=M.submitter;de&&(f=(f=de[Pr]||null)?z2(f.formAction):de.getAttribute("formAction"),f!==null&&(q=f,de=null));var Ce=new co("action","action",null,M,z);h.push({event:Ce,listeners:[{instance:null,listener:function(){if(M.defaultPrevented){if(xm!==0){var Ke=de?$2(z,de):new FormData(z);$0(E,{pending:!0,data:Ke,method:z.method,action:q},null,Ke)}}else typeof q=="function"&&(Ce.preventDefault(),Ke=de?$2(z,de):new FormData(z),$0(E,{pending:!0,data:Ke,method:z.method,action:q},q,Ke))},currentTarget:z}]})}}for(var ww=0;ww<Vs.length;ww++){var Cw=Vs[ww],dz=Cw.toLowerCase(),fz=Cw[0].toUpperCase()+Cw.slice(1);Bo(dz,"on"+fz)}Bo(Ei,"onAnimationEnd"),Bo(li,"onAnimationIteration"),Bo(Oi,"onAnimationStart"),Bo("dblclick","onDoubleClick"),Bo("focusin","onFocus"),Bo("focusout","onBlur"),Bo(Fo,"onTransitionRun"),Bo(us,"onTransitionStart"),Bo(fo,"onTransitionCancel"),Bo(no,"onTransitionEnd"),fe("onMouseEnter",["mouseout","mouseover"]),fe("onMouseLeave",["mouseout","mouseover"]),fe("onPointerEnter",["pointerout","pointerover"]),fe("onPointerLeave",["pointerout","pointerover"]),Wt("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Wt("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Wt("onBeforeInput",["compositionend","keypress","textInput","paste"]),Wt("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Wt("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Wt("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Y0="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),pz=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Y0));function H2(h,f){f=(f&4)!==0;for(var E=0;E<h.length;E++){var M=h[E],z=M.event;M=M.listeners;e:{var q=void 0;if(f)for(var de=M.length-1;0<=de;de--){var Ce=M[de],Ke=Ce.instance,wt=Ce.currentTarget;if(Ce=Ce.listener,Ke!==q&&z.isPropagationStopped())break e;q=Ce,z.currentTarget=wt;try{q(z)}catch(nn){Od(nn)}z.currentTarget=null,q=Ke}else for(de=0;de<M.length;de++){if(Ce=M[de],Ke=Ce.instance,wt=Ce.currentTarget,Ce=Ce.listener,Ke!==q&&z.isPropagationStopped())break e;q=Ce,z.currentTarget=wt;try{q(z)}catch(nn){Od(nn)}z.currentTarget=null,q=Ke}}}}function Mr(h,f){var E=f[ms];E===void 0&&(E=f[ms]=new Set);var M=h+"__bubble";E.has(M)||(G2(f,h,2,!1),E.add(M))}function Tw(h,f,E){var M=0;f&&(M|=4),G2(E,h,M,f)}var Ub="_reactListening"+Math.random().toString(36).slice(2);function Aw(h){if(!h[Ub]){h[Ub]=!0,St.forEach(function(E){E!=="selectionchange"&&(pz.has(E)||Tw(E,!1,h),Tw(E,!0,h))});var f=h.nodeType===9?h:h.ownerDocument;f===null||f[Ub]||(f[Ub]=!0,Tw("selectionchange",!1,f))}}function G2(h,f,E,M){switch(fO(f)){case 2:var z=$z;break;case 8:z=Hz;break;default:z=$w}E=z.bind(null,f,E,h),z=void 0,!Ja||f!=="touchstart"&&f!=="touchmove"&&f!=="wheel"||(z=!0),M?z!==void 0?h.addEventListener(f,E,{capture:!0,passive:z}):h.addEventListener(f,E,!0):z!==void 0?h.addEventListener(f,E,{passive:z}):h.addEventListener(f,E,!1)}function Rw(h,f,E,M,z){var q=M;if((f&1)===0&&(f&2)===0&&M!==null)e:for(;;){if(M===null)return;var de=M.tag;if(de===3||de===4){var Ce=M.stateNode.containerInfo;if(Ce===z)break;if(de===4)for(de=M.return;de!==null;){var Ke=de.tag;if((Ke===3||Ke===4)&&de.stateNode.containerInfo===z)return;de=de.return}for(;Ce!==null;){if(de=ge(Ce),de===null)return;if(Ke=de.tag,Ke===5||Ke===6||Ke===26||Ke===27){M=q=de;continue e}Ce=Ce.parentNode}}M=M.return}ka(function(){var wt=q,nn=Js(E),fn=[];e:{var Ot=yl.get(h);if(Ot!==void 0){var It=co,Xi=h;switch(h){case"keypress":if(Io(E)===0)break e;case"keydown":case"keyup":It=ln;break;case"focusin":Xi="focus",It=O;break;case"focusout":Xi="blur",It=O;break;case"beforeblur":case"afterblur":It=O;break;case"click":if(E.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":It=J;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":It=be;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":It=$e;break;case Ei:case li:case Oi:It=X;break;case no:It=Ue;break;case"scroll":case"scrollend":It=Ta;break;case"wheel":It=kt;break;case"copy":case"cut":case"paste":It=oe;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":It=ve;break;case"toggle":case"beforetoggle":It=vn}var Bi=(f&4)!==0,Os=!Bi&&(h==="scroll"||h==="scrollend"),dt=Bi?Ot!==null?Ot+"Capture":null:Ot;Bi=[];for(var at=wt,xt;at!==null;){var un=at;if(xt=un.stateNode,un=un.tag,un!==5&&un!==26&&un!==27||xt===null||dt===null||(un=ua(at,dt),un!=null&&Bi.push(K0(at,un,xt))),Os)break;at=at.return}0<Bi.length&&(Ot=new It(Ot,Xi,null,E,nn),fn.push({event:Ot,listeners:Bi}))}}if((f&7)===0){e:{if(Ot=h==="mouseover"||h==="pointerover",It=h==="mouseout"||h==="pointerout",Ot&&E!==Qa&&(Xi=E.relatedTarget||E.fromElement)&&(ge(Xi)||Xi[gr]))break e;if((It||Ot)&&(Ot=nn.window===nn?nn:(Ot=nn.ownerDocument)?Ot.defaultView||Ot.parentWindow:window,It?(Xi=E.relatedTarget||E.toElement,It=wt,Xi=Xi?ge(Xi):null,Xi!==null&&(Os=s(Xi),Bi=Xi.tag,Xi!==Os||Bi!==5&&Bi!==27&&Bi!==6)&&(Xi=null)):(It=null,Xi=wt),It!==Xi)){if(Bi=J,un="onMouseLeave",dt="onMouseEnter",at="mouse",(h==="pointerout"||h==="pointerover")&&(Bi=ve,un="onPointerLeave",dt="onPointerEnter",at="pointer"),Os=It==null?Ot:Ye(It),xt=Xi==null?Ot:Ye(Xi),Ot=new Bi(un,at+"leave",It,E,nn),Ot.target=Os,Ot.relatedTarget=xt,un=null,ge(nn)===wt&&(Bi=new Bi(dt,at+"enter",Xi,E,nn),Bi.target=xt,Bi.relatedTarget=Os,un=Bi),Os=un,It&&Xi)t:{for(Bi=It,dt=Xi,at=0,xt=Bi;xt;xt=tv(xt))at++;for(xt=0,un=dt;un;un=tv(un))xt++;for(;0<at-xt;)Bi=tv(Bi),at--;for(;0<xt-at;)dt=tv(dt),xt--;for(;at--;){if(Bi===dt||dt!==null&&Bi===dt.alternate)break t;Bi=tv(Bi),dt=tv(dt)}Bi=null}else Bi=null;It!==null&&V2(fn,Ot,It,Bi,!1),Xi!==null&&Os!==null&&V2(fn,Os,Xi,Bi,!0)}}e:{if(Ot=wt?Ye(wt):window,It=Ot.nodeName&&Ot.nodeName.toLowerCase(),It==="select"||It==="input"&&Ot.type==="file")var pi=Ji;else if(da(Ot))if(cs)pi=ys;else{pi=pa;var Tr=Hs}else It=Ot.nodeName,!It||It.toLowerCase()!=="input"||Ot.type!=="checkbox"&&Ot.type!=="radio"?wt&&Zs(wt.elementType)&&(pi=Ji):pi=uo;if(pi&&(pi=pi(h,wt))){xo(fn,pi,E,nn);break e}Tr&&Tr(h,Ot,wt),h==="focusout"&&wt&&Ot.type==="number"&&wt.memoizedProps.value!=null&&yi(Ot,"number",Ot.value)}switch(Tr=wt?Ye(wt):window,h){case"focusin":(da(Tr)||Tr.contentEditable==="true")&&(yt=Tr,Mt=wt,jt=null);break;case"focusout":jt=Mt=yt=null;break;case"mousedown":On=!0;break;case"contextmenu":case"mouseup":case"dragend":On=!1,Hn(fn,E,nn);break;case"selectionchange":if(it)break;case"keydown":case"keyup":Hn(fn,E,nn)}var wi;if(ui)e:{switch(h){case"compositionstart":var zi="onCompositionStart";break e;case"compositionend":zi="onCompositionEnd";break e;case"compositionupdate":zi="onCompositionUpdate";break e}zi=void 0}else Kn?hi(h,E)&&(zi="onCompositionEnd"):h==="keydown"&&E.keyCode===229&&(zi="onCompositionStart");zi&&(Er&&E.locale!=="ko"&&(Kn||zi!=="onCompositionStart"?zi==="onCompositionEnd"&&Kn&&(wi=tl()):(ha=nn,Bl="value"in ha?ha.value:ha.textContent,Kn=!0)),Tr=kb(wt,zi),0<Tr.length&&(zi=new pe(zi,h,null,E,nn),fn.push({event:zi,listeners:Tr}),wi?zi.data=wi:(wi=Qn(E),wi!==null&&(zi.data=wi)))),(wi=ai?vi(h,E):fi(h,E))&&(zi=kb(wt,"onBeforeInput"),0<zi.length&&(Tr=new pe("onBeforeInput","beforeinput",null,E,nn),fn.push({event:Tr,listeners:zi}),Tr.data=wi)),hz(fn,h,wt,E,nn)}H2(fn,f)})}function K0(h,f,E){return{instance:h,listener:f,currentTarget:E}}function kb(h,f){for(var E=f+"Capture",M=[];h!==null;){var z=h,q=z.stateNode;if(z=z.tag,z!==5&&z!==26&&z!==27||q===null||(z=ua(h,E),z!=null&&M.unshift(K0(h,z,q)),z=ua(h,f),z!=null&&M.push(K0(h,z,q))),h.tag===3)return M;h=h.return}return[]}function tv(h){if(h===null)return null;do h=h.return;while(h&&h.tag!==5&&h.tag!==27);return h||null}function V2(h,f,E,M,z){for(var q=f._reactName,de=[];E!==null&&E!==M;){var Ce=E,Ke=Ce.alternate,wt=Ce.stateNode;if(Ce=Ce.tag,Ke!==null&&Ke===M)break;Ce!==5&&Ce!==26&&Ce!==27||wt===null||(Ke=wt,z?(wt=ua(E,q),wt!=null&&de.unshift(K0(E,wt,Ke))):z||(wt=ua(E,q),wt!=null&&de.push(K0(E,wt,Ke)))),E=E.return}de.length!==0&&h.push({event:f,listeners:de})}var mz=/\r\n?/g,gz=/\u0000|\uFFFD/g;function W2(h){return(typeof h=="string"?h:""+h).replace(mz,`
`).replace(gz,"")}function j2(h,f){return f=W2(f),W2(h)===f}function zb(){}function Ms(h,f,E,M,z,q){switch(E){case"children":typeof M=="string"?f==="body"||f==="textarea"&&M===""||gs(h,M):(typeof M=="number"||typeof M=="bigint")&&f!=="body"&&gs(h,""+M);break;case"className":Et(h,"class",M);break;case"tabIndex":Et(h,"tabindex",M);break;case"dir":case"role":case"viewBox":case"width":case"height":Et(h,E,M);break;case"style":Dr(h,M,q);break;case"data":if(f!=="object"){Et(h,"data",M);break}case"src":case"href":if(M===""&&(f!=="a"||E!=="href")){h.removeAttribute(E);break}if(M==null||typeof M=="function"||typeof M=="symbol"||typeof M=="boolean"){h.removeAttribute(E);break}M=Qs(""+M),h.setAttribute(E,M);break;case"action":case"formAction":if(typeof M=="function"){h.setAttribute(E,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof q=="function"&&(E==="formAction"?(f!=="input"&&Ms(h,f,"name",z.name,z,null),Ms(h,f,"formEncType",z.formEncType,z,null),Ms(h,f,"formMethod",z.formMethod,z,null),Ms(h,f,"formTarget",z.formTarget,z,null)):(Ms(h,f,"encType",z.encType,z,null),Ms(h,f,"method",z.method,z,null),Ms(h,f,"target",z.target,z,null)));if(M==null||typeof M=="symbol"||typeof M=="boolean"){h.removeAttribute(E);break}M=Qs(""+M),h.setAttribute(E,M);break;case"onClick":M!=null&&(h.onclick=zb);break;case"onScroll":M!=null&&Mr("scroll",h);break;case"onScrollEnd":M!=null&&Mr("scrollend",h);break;case"dangerouslySetInnerHTML":if(M!=null){if(typeof M!="object"||!("__html"in M))throw Error(i(61));if(E=M.__html,E!=null){if(z.children!=null)throw Error(i(60));h.innerHTML=E}}break;case"multiple":h.multiple=M&&typeof M!="function"&&typeof M!="symbol";break;case"muted":h.muted=M&&typeof M!="function"&&typeof M!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(M==null||typeof M=="function"||typeof M=="boolean"||typeof M=="symbol"){h.removeAttribute("xlink:href");break}E=Qs(""+M),h.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",E);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":M!=null&&typeof M!="function"&&typeof M!="symbol"?h.setAttribute(E,""+M):h.removeAttribute(E);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":M&&typeof M!="function"&&typeof M!="symbol"?h.setAttribute(E,""):h.removeAttribute(E);break;case"capture":case"download":M===!0?h.setAttribute(E,""):M!==!1&&M!=null&&typeof M!="function"&&typeof M!="symbol"?h.setAttribute(E,M):h.removeAttribute(E);break;case"cols":case"rows":case"size":case"span":M!=null&&typeof M!="function"&&typeof M!="symbol"&&!isNaN(M)&&1<=M?h.setAttribute(E,M):h.removeAttribute(E);break;case"rowSpan":case"start":M==null||typeof M=="function"||typeof M=="symbol"||isNaN(M)?h.removeAttribute(E):h.setAttribute(E,M);break;case"popover":Mr("beforetoggle",h),Mr("toggle",h),ft(h,"popover",M);break;case"xlinkActuate":Gt(h,"http://www.w3.org/1999/xlink","xlink:actuate",M);break;case"xlinkArcrole":Gt(h,"http://www.w3.org/1999/xlink","xlink:arcrole",M);break;case"xlinkRole":Gt(h,"http://www.w3.org/1999/xlink","xlink:role",M);break;case"xlinkShow":Gt(h,"http://www.w3.org/1999/xlink","xlink:show",M);break;case"xlinkTitle":Gt(h,"http://www.w3.org/1999/xlink","xlink:title",M);break;case"xlinkType":Gt(h,"http://www.w3.org/1999/xlink","xlink:type",M);break;case"xmlBase":Gt(h,"http://www.w3.org/XML/1998/namespace","xml:base",M);break;case"xmlLang":Gt(h,"http://www.w3.org/XML/1998/namespace","xml:lang",M);break;case"xmlSpace":Gt(h,"http://www.w3.org/XML/1998/namespace","xml:space",M);break;case"is":ft(h,"is",M);break;case"innerText":case"textContent":break;default:(!(2<E.length)||E[0]!=="o"&&E[0]!=="O"||E[1]!=="n"&&E[1]!=="N")&&(E=jo.get(E)||E,ft(h,E,M))}}function Mw(h,f,E,M,z,q){switch(E){case"style":Dr(h,M,q);break;case"dangerouslySetInnerHTML":if(M!=null){if(typeof M!="object"||!("__html"in M))throw Error(i(61));if(E=M.__html,E!=null){if(z.children!=null)throw Error(i(60));h.innerHTML=E}}break;case"children":typeof M=="string"?gs(h,M):(typeof M=="number"||typeof M=="bigint")&&gs(h,""+M);break;case"onScroll":M!=null&&Mr("scroll",h);break;case"onScrollEnd":M!=null&&Mr("scrollend",h);break;case"onClick":M!=null&&(h.onclick=zb);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!an.hasOwnProperty(E))e:{if(E[0]==="o"&&E[1]==="n"&&(z=E.endsWith("Capture"),f=E.slice(2,z?E.length-7:void 0),q=h[Pr]||null,q=q!=null?q[E]:null,typeof q=="function"&&h.removeEventListener(f,q,z),typeof M=="function")){typeof q!="function"&&q!==null&&(E in h?h[E]=null:h.hasAttribute(E)&&h.removeAttribute(E)),h.addEventListener(f,M,z);break e}E in h?h[E]=M:M===!0?h.setAttribute(E,""):ft(h,E,M)}}}function ll(h,f,E){switch(f){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Mr("error",h),Mr("load",h);var M=!1,z=!1,q;for(q in E)if(E.hasOwnProperty(q)){var de=E[q];if(de!=null)switch(q){case"src":M=!0;break;case"srcSet":z=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,f));default:Ms(h,f,q,de,E,null)}}z&&Ms(h,f,"srcSet",E.srcSet,E,null),M&&Ms(h,f,"src",E.src,E,null);return;case"input":Mr("invalid",h);var Ce=q=de=z=null,Ke=null,wt=null;for(M in E)if(E.hasOwnProperty(M)){var nn=E[M];if(nn!=null)switch(M){case"name":z=nn;break;case"type":de=nn;break;case"checked":Ke=nn;break;case"defaultChecked":wt=nn;break;case"value":q=nn;break;case"defaultValue":Ce=nn;break;case"children":case"dangerouslySetInnerHTML":if(nn!=null)throw Error(i(137,f));break;default:Ms(h,f,M,nn,E,null)}}qn(h,q,Ce,Ke,wt,de,z,!1),$i(h);return;case"select":Mr("invalid",h),M=de=q=null;for(z in E)if(E.hasOwnProperty(z)&&(Ce=E[z],Ce!=null))switch(z){case"value":q=Ce;break;case"defaultValue":de=Ce;break;case"multiple":M=Ce;default:Ms(h,f,z,Ce,E,null)}f=q,E=de,h.multiple=!!M,f!=null?$n(h,!!M,f,!1):E!=null&&$n(h,!!M,E,!0);return;case"textarea":Mr("invalid",h),q=z=M=null;for(de in E)if(E.hasOwnProperty(de)&&(Ce=E[de],Ce!=null))switch(de){case"value":M=Ce;break;case"defaultValue":z=Ce;break;case"children":q=Ce;break;case"dangerouslySetInnerHTML":if(Ce!=null)throw Error(i(91));break;default:Ms(h,f,de,Ce,E,null)}Ht(h,M,z,q),$i(h);return;case"option":for(Ke in E)if(E.hasOwnProperty(Ke)&&(M=E[Ke],M!=null))switch(Ke){case"selected":h.selected=M&&typeof M!="function"&&typeof M!="symbol";break;default:Ms(h,f,Ke,M,E,null)}return;case"dialog":Mr("beforetoggle",h),Mr("toggle",h),Mr("cancel",h),Mr("close",h);break;case"iframe":case"object":Mr("load",h);break;case"video":case"audio":for(M=0;M<Y0.length;M++)Mr(Y0[M],h);break;case"image":Mr("error",h),Mr("load",h);break;case"details":Mr("toggle",h);break;case"embed":case"source":case"link":Mr("error",h),Mr("load",h);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(wt in E)if(E.hasOwnProperty(wt)&&(M=E[wt],M!=null))switch(wt){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,f));default:Ms(h,f,wt,M,E,null)}return;default:if(Zs(f)){for(nn in E)E.hasOwnProperty(nn)&&(M=E[nn],M!==void 0&&Mw(h,f,nn,M,E,void 0));return}}for(Ce in E)E.hasOwnProperty(Ce)&&(M=E[Ce],M!=null&&Ms(h,f,Ce,M,E,null))}function vz(h,f,E,M){switch(f){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var z=null,q=null,de=null,Ce=null,Ke=null,wt=null,nn=null;for(It in E){var fn=E[It];if(E.hasOwnProperty(It)&&fn!=null)switch(It){case"checked":break;case"value":break;case"defaultValue":Ke=fn;default:M.hasOwnProperty(It)||Ms(h,f,It,null,M,fn)}}for(var Ot in M){var It=M[Ot];if(fn=E[Ot],M.hasOwnProperty(Ot)&&(It!=null||fn!=null))switch(Ot){case"type":q=It;break;case"name":z=It;break;case"checked":wt=It;break;case"defaultChecked":nn=It;break;case"value":de=It;break;case"defaultValue":Ce=It;break;case"children":case"dangerouslySetInnerHTML":if(It!=null)throw Error(i(137,f));break;default:It!==fn&&Ms(h,f,Ot,It,M,fn)}}wn(h,de,Ce,Ke,wt,nn,q,z);return;case"select":It=de=Ce=Ot=null;for(q in E)if(Ke=E[q],E.hasOwnProperty(q)&&Ke!=null)switch(q){case"value":break;case"multiple":It=Ke;default:M.hasOwnProperty(q)||Ms(h,f,q,null,M,Ke)}for(z in M)if(q=M[z],Ke=E[z],M.hasOwnProperty(z)&&(q!=null||Ke!=null))switch(z){case"value":Ot=q;break;case"defaultValue":Ce=q;break;case"multiple":de=q;default:q!==Ke&&Ms(h,f,z,q,M,Ke)}f=Ce,E=de,M=It,Ot!=null?$n(h,!!E,Ot,!1):!!M!=!!E&&(f!=null?$n(h,!!E,f,!0):$n(h,!!E,E?[]:"",!1));return;case"textarea":It=Ot=null;for(Ce in E)if(z=E[Ce],E.hasOwnProperty(Ce)&&z!=null&&!M.hasOwnProperty(Ce))switch(Ce){case"value":break;case"children":break;default:Ms(h,f,Ce,null,M,z)}for(de in M)if(z=M[de],q=E[de],M.hasOwnProperty(de)&&(z!=null||q!=null))switch(de){case"value":Ot=z;break;case"defaultValue":It=z;break;case"children":break;case"dangerouslySetInnerHTML":if(z!=null)throw Error(i(91));break;default:z!==q&&Ms(h,f,de,z,M,q)}ji(h,Ot,It);return;case"option":for(var Xi in E)if(Ot=E[Xi],E.hasOwnProperty(Xi)&&Ot!=null&&!M.hasOwnProperty(Xi))switch(Xi){case"selected":h.selected=!1;break;default:Ms(h,f,Xi,null,M,Ot)}for(Ke in M)if(Ot=M[Ke],It=E[Ke],M.hasOwnProperty(Ke)&&Ot!==It&&(Ot!=null||It!=null))switch(Ke){case"selected":h.selected=Ot&&typeof Ot!="function"&&typeof Ot!="symbol";break;default:Ms(h,f,Ke,Ot,M,It)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Bi in E)Ot=E[Bi],E.hasOwnProperty(Bi)&&Ot!=null&&!M.hasOwnProperty(Bi)&&Ms(h,f,Bi,null,M,Ot);for(wt in M)if(Ot=M[wt],It=E[wt],M.hasOwnProperty(wt)&&Ot!==It&&(Ot!=null||It!=null))switch(wt){case"children":case"dangerouslySetInnerHTML":if(Ot!=null)throw Error(i(137,f));break;default:Ms(h,f,wt,Ot,M,It)}return;default:if(Zs(f)){for(var Os in E)Ot=E[Os],E.hasOwnProperty(Os)&&Ot!==void 0&&!M.hasOwnProperty(Os)&&Mw(h,f,Os,void 0,M,Ot);for(nn in M)Ot=M[nn],It=E[nn],!M.hasOwnProperty(nn)||Ot===It||Ot===void 0&&It===void 0||Mw(h,f,nn,Ot,M,It);return}}for(var dt in E)Ot=E[dt],E.hasOwnProperty(dt)&&Ot!=null&&!M.hasOwnProperty(dt)&&Ms(h,f,dt,null,M,Ot);for(fn in M)Ot=M[fn],It=E[fn],!M.hasOwnProperty(fn)||Ot===It||Ot==null&&It==null||Ms(h,f,fn,Ot,M,It)}var Ow=null,Lw=null;function $b(h){return h.nodeType===9?h:h.ownerDocument}function X2(h){switch(h){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function q2(h,f){if(h===0)switch(f){case"svg":return 1;case"math":return 2;default:return 0}return h===1&&f==="foreignObject"?0:h}function Pw(h,f){return h==="textarea"||h==="noscript"||typeof f.children=="string"||typeof f.children=="number"||typeof f.children=="bigint"||typeof f.dangerouslySetInnerHTML=="object"&&f.dangerouslySetInnerHTML!==null&&f.dangerouslySetInnerHTML.__html!=null}var Nw=null;function yz(){var h=window.event;return h&&h.type==="popstate"?h===Nw?!1:(Nw=h,!0):(Nw=null,!1)}var Y2=typeof setTimeout=="function"?setTimeout:void 0,_z=typeof clearTimeout=="function"?clearTimeout:void 0,K2=typeof Promise=="function"?Promise:void 0,bz=typeof queueMicrotask=="function"?queueMicrotask:typeof K2<"u"?function(h){return K2.resolve(null).then(h).catch(xz)}:Y2;function xz(h){setTimeout(function(){throw h})}function ap(h){return h==="head"}function Z2(h,f){var E=f,M=0,z=0;do{var q=E.nextSibling;if(h.removeChild(E),q&&q.nodeType===8)if(E=q.data,E==="/$"){if(0<M&&8>M){E=M;var de=h.ownerDocument;if(E&1&&Z0(de.documentElement),E&2&&Z0(de.body),E&4)for(E=de.head,Z0(E),de=E.firstChild;de;){var Ce=de.nextSibling,Ke=de.nodeName;de[ls]||Ke==="SCRIPT"||Ke==="STYLE"||Ke==="LINK"&&de.rel.toLowerCase()==="stylesheet"||E.removeChild(de),de=Ce}}if(z===0){h.removeChild(q),sy(f);return}z--}else E==="$"||E==="$?"||E==="$!"?z++:M=E.charCodeAt(0)-48;else M=0;E=q}while(E);sy(f)}function Iw(h){var f=h.firstChild;for(f&&f.nodeType===10&&(f=f.nextSibling);f;){var E=f;switch(f=f.nextSibling,E.nodeName){case"HTML":case"HEAD":case"BODY":Iw(E),nr(E);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(E.rel.toLowerCase()==="stylesheet")continue}h.removeChild(E)}}function Sz(h,f,E,M){for(;h.nodeType===1;){var z=E;if(h.nodeName.toLowerCase()!==f.toLowerCase()){if(!M&&(h.nodeName!=="INPUT"||h.type!=="hidden"))break}else if(M){if(!h[ls])switch(f){case"meta":if(!h.hasAttribute("itemprop"))break;return h;case"link":if(q=h.getAttribute("rel"),q==="stylesheet"&&h.hasAttribute("data-precedence"))break;if(q!==z.rel||h.getAttribute("href")!==(z.href==null||z.href===""?null:z.href)||h.getAttribute("crossorigin")!==(z.crossOrigin==null?null:z.crossOrigin)||h.getAttribute("title")!==(z.title==null?null:z.title))break;return h;case"style":if(h.hasAttribute("data-precedence"))break;return h;case"script":if(q=h.getAttribute("src"),(q!==(z.src==null?null:z.src)||h.getAttribute("type")!==(z.type==null?null:z.type)||h.getAttribute("crossorigin")!==(z.crossOrigin==null?null:z.crossOrigin))&&q&&h.hasAttribute("async")&&!h.hasAttribute("itemprop"))break;return h;default:return h}}else if(f==="input"&&h.type==="hidden"){var q=z.name==null?null:""+z.name;if(z.type==="hidden"&&h.getAttribute("name")===q)return h}else return h;if(h=sh(h.nextSibling),h===null)break}return null}function Ez(h,f,E){if(f==="")return null;for(;h.nodeType!==3;)if((h.nodeType!==1||h.nodeName!=="INPUT"||h.type!=="hidden")&&!E||(h=sh(h.nextSibling),h===null))return null;return h}function Dw(h){return h.data==="$!"||h.data==="$?"&&h.ownerDocument.readyState==="complete"}function wz(h,f){var E=h.ownerDocument;if(h.data!=="$?"||E.readyState==="complete")f();else{var M=function(){f(),E.removeEventListener("DOMContentLoaded",M)};E.addEventListener("DOMContentLoaded",M),h._reactRetry=M}}function sh(h){for(;h!=null;h=h.nextSibling){var f=h.nodeType;if(f===1||f===3)break;if(f===8){if(f=h.data,f==="$"||f==="$!"||f==="$?"||f==="F!"||f==="F")break;if(f==="/$")return null}}return h}var Fw=null;function Q2(h){h=h.previousSibling;for(var f=0;h;){if(h.nodeType===8){var E=h.data;if(E==="$"||E==="$!"||E==="$?"){if(f===0)return h;f--}else E==="/$"&&f++}h=h.previousSibling}return null}function J2(h,f,E){switch(f=$b(E),h){case"html":if(h=f.documentElement,!h)throw Error(i(452));return h;case"head":if(h=f.head,!h)throw Error(i(453));return h;case"body":if(h=f.body,!h)throw Error(i(454));return h;default:throw Error(i(451))}}function Z0(h){for(var f=h.attributes;f.length;)h.removeAttributeNode(f[0]);nr(h)}var Ou=new Map,eO=new Set;function Hb(h){return typeof h.getRootNode=="function"?h.getRootNode():h.nodeType===9?h:h.ownerDocument}var Wd=te.d;te.d={f:Cz,r:Tz,D:Az,C:Rz,L:Mz,m:Oz,X:Pz,S:Lz,M:Nz};function Cz(){var h=Wd.f(),f=Ru();return h||f}function Tz(h){var f=Te(h);f!==null&&f.tag===5&&f.type==="form"?xb(f):Wd.r(h)}var nv=typeof document>"u"?null:document;function tO(h,f,E){var M=nv;if(M&&typeof f=="string"&&f){var z=Je(f);z='link[rel="'+h+'"][href="'+z+'"]',typeof E=="string"&&(z+='[crossorigin="'+E+'"]'),eO.has(z)||(eO.add(z),h={rel:h,crossOrigin:E,href:f},M.querySelector(z)===null&&(f=M.createElement("link"),ll(f,"link",h),bt(f),M.head.appendChild(f)))}}function Az(h){Wd.D(h),tO("dns-prefetch",h,null)}function Rz(h,f){Wd.C(h,f),tO("preconnect",h,f)}function Mz(h,f,E){Wd.L(h,f,E);var M=nv;if(M&&h&&f){var z='link[rel="preload"][as="'+Je(f)+'"]';f==="image"&&E&&E.imageSrcSet?(z+='[imagesrcset="'+Je(E.imageSrcSet)+'"]',typeof E.imageSizes=="string"&&(z+='[imagesizes="'+Je(E.imageSizes)+'"]')):z+='[href="'+Je(h)+'"]';var q=z;switch(f){case"style":q=iv(h);break;case"script":q=rv(h)}Ou.has(q)||(h=m({rel:"preload",href:f==="image"&&E&&E.imageSrcSet?void 0:h,as:f},E),Ou.set(q,h),M.querySelector(z)!==null||f==="style"&&M.querySelector(Q0(q))||f==="script"&&M.querySelector(J0(q))||(f=M.createElement("link"),ll(f,"link",h),bt(f),M.head.appendChild(f)))}}function Oz(h,f){Wd.m(h,f);var E=nv;if(E&&h){var M=f&&typeof f.as=="string"?f.as:"script",z='link[rel="modulepreload"][as="'+Je(M)+'"][href="'+Je(h)+'"]',q=z;switch(M){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":q=rv(h)}if(!Ou.has(q)&&(h=m({rel:"modulepreload",href:h},f),Ou.set(q,h),E.querySelector(z)===null)){switch(M){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(E.querySelector(J0(q)))return}M=E.createElement("link"),ll(M,"link",h),bt(M),E.head.appendChild(M)}}}function Lz(h,f,E){Wd.S(h,f,E);var M=nv;if(M&&h){var z=vt(M).hoistableStyles,q=iv(h);f=f||"default";var de=z.get(q);if(!de){var Ce={loading:0,preload:null};if(de=M.querySelector(Q0(q)))Ce.loading=5;else{h=m({rel:"stylesheet",href:h,"data-precedence":f},E),(E=Ou.get(q))&&Bw(h,E);var Ke=de=M.createElement("link");bt(Ke),ll(Ke,"link",h),Ke._p=new Promise(function(wt,nn){Ke.onload=wt,Ke.onerror=nn}),Ke.addEventListener("load",function(){Ce.loading|=1}),Ke.addEventListener("error",function(){Ce.loading|=2}),Ce.loading|=4,Gb(de,f,M)}de={type:"stylesheet",instance:de,count:1,state:Ce},z.set(q,de)}}}function Pz(h,f){Wd.X(h,f);var E=nv;if(E&&h){var M=vt(E).hoistableScripts,z=rv(h),q=M.get(z);q||(q=E.querySelector(J0(z)),q||(h=m({src:h,async:!0},f),(f=Ou.get(z))&&Uw(h,f),q=E.createElement("script"),bt(q),ll(q,"link",h),E.head.appendChild(q)),q={type:"script",instance:q,count:1,state:null},M.set(z,q))}}function Nz(h,f){Wd.M(h,f);var E=nv;if(E&&h){var M=vt(E).hoistableScripts,z=rv(h),q=M.get(z);q||(q=E.querySelector(J0(z)),q||(h=m({src:h,async:!0,type:"module"},f),(f=Ou.get(z))&&Uw(h,f),q=E.createElement("script"),bt(q),ll(q,"link",h),E.head.appendChild(q)),q={type:"script",instance:q,count:1,state:null},M.set(z,q))}}function nO(h,f,E,M){var z=(z=we.current)?Hb(z):null;if(!z)throw Error(i(446));switch(h){case"meta":case"title":return null;case"style":return typeof E.precedence=="string"&&typeof E.href=="string"?(f=iv(E.href),E=vt(z).hoistableStyles,M=E.get(f),M||(M={type:"style",instance:null,count:0,state:null},E.set(f,M)),M):{type:"void",instance:null,count:0,state:null};case"link":if(E.rel==="stylesheet"&&typeof E.href=="string"&&typeof E.precedence=="string"){h=iv(E.href);var q=vt(z).hoistableStyles,de=q.get(h);if(de||(z=z.ownerDocument||z,de={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},q.set(h,de),(q=z.querySelector(Q0(h)))&&!q._p&&(de.instance=q,de.state.loading=5),Ou.has(h)||(E={rel:"preload",as:"style",href:E.href,crossOrigin:E.crossOrigin,integrity:E.integrity,media:E.media,hrefLang:E.hrefLang,referrerPolicy:E.referrerPolicy},Ou.set(h,E),q||Iz(z,h,E,de.state))),f&&M===null)throw Error(i(528,""));return de}if(f&&M!==null)throw Error(i(529,""));return null;case"script":return f=E.async,E=E.src,typeof E=="string"&&f&&typeof f!="function"&&typeof f!="symbol"?(f=rv(E),E=vt(z).hoistableScripts,M=E.get(f),M||(M={type:"script",instance:null,count:0,state:null},E.set(f,M)),M):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,h))}}function iv(h){return'href="'+Je(h)+'"'}function Q0(h){return'link[rel="stylesheet"]['+h+"]"}function iO(h){return m({},h,{"data-precedence":h.precedence,precedence:null})}function Iz(h,f,E,M){h.querySelector('link[rel="preload"][as="style"]['+f+"]")?M.loading=1:(f=h.createElement("link"),M.preload=f,f.addEventListener("load",function(){return M.loading|=1}),f.addEventListener("error",function(){return M.loading|=2}),ll(f,"link",E),bt(f),h.head.appendChild(f))}function rv(h){return'[src="'+Je(h)+'"]'}function J0(h){return"script[async]"+h}function rO(h,f,E){if(f.count++,f.instance===null)switch(f.type){case"style":var M=h.querySelector('style[data-href~="'+Je(E.href)+'"]');if(M)return f.instance=M,bt(M),M;var z=m({},E,{"data-href":E.href,"data-precedence":E.precedence,href:null,precedence:null});return M=(h.ownerDocument||h).createElement("style"),bt(M),ll(M,"style",z),Gb(M,E.precedence,h),f.instance=M;case"stylesheet":z=iv(E.href);var q=h.querySelector(Q0(z));if(q)return f.state.loading|=4,f.instance=q,bt(q),q;M=iO(E),(z=Ou.get(z))&&Bw(M,z),q=(h.ownerDocument||h).createElement("link"),bt(q);var de=q;return de._p=new Promise(function(Ce,Ke){de.onload=Ce,de.onerror=Ke}),ll(q,"link",M),f.state.loading|=4,Gb(q,E.precedence,h),f.instance=q;case"script":return q=rv(E.src),(z=h.querySelector(J0(q)))?(f.instance=z,bt(z),z):(M=E,(z=Ou.get(q))&&(M=m({},E),Uw(M,z)),h=h.ownerDocument||h,z=h.createElement("script"),bt(z),ll(z,"link",M),h.head.appendChild(z),f.instance=z);case"void":return null;default:throw Error(i(443,f.type))}else f.type==="stylesheet"&&(f.state.loading&4)===0&&(M=f.instance,f.state.loading|=4,Gb(M,E.precedence,h));return f.instance}function Gb(h,f,E){for(var M=E.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),z=M.length?M[M.length-1]:null,q=z,de=0;de<M.length;de++){var Ce=M[de];if(Ce.dataset.precedence===f)q=Ce;else if(q!==z)break}q?q.parentNode.insertBefore(h,q.nextSibling):(f=E.nodeType===9?E.head:E,f.insertBefore(h,f.firstChild))}function Bw(h,f){h.crossOrigin==null&&(h.crossOrigin=f.crossOrigin),h.referrerPolicy==null&&(h.referrerPolicy=f.referrerPolicy),h.title==null&&(h.title=f.title)}function Uw(h,f){h.crossOrigin==null&&(h.crossOrigin=f.crossOrigin),h.referrerPolicy==null&&(h.referrerPolicy=f.referrerPolicy),h.integrity==null&&(h.integrity=f.integrity)}var Vb=null;function sO(h,f,E){if(Vb===null){var M=new Map,z=Vb=new Map;z.set(E,M)}else z=Vb,M=z.get(E),M||(M=new Map,z.set(E,M));if(M.has(h))return M;for(M.set(h,null),E=E.getElementsByTagName(h),z=0;z<E.length;z++){var q=E[z];if(!(q[ls]||q[dr]||h==="link"&&q.getAttribute("rel")==="stylesheet")&&q.namespaceURI!=="http://www.w3.org/2000/svg"){var de=q.getAttribute(f)||"";de=h+de;var Ce=M.get(de);Ce?Ce.push(q):M.set(de,[q])}}return M}function oO(h,f,E){h=h.ownerDocument||h,h.head.insertBefore(E,f==="title"?h.querySelector("head > title"):null)}function Dz(h,f,E){if(E===1||f.itemProp!=null)return!1;switch(h){case"meta":case"title":return!0;case"style":if(typeof f.precedence!="string"||typeof f.href!="string"||f.href==="")break;return!0;case"link":if(typeof f.rel!="string"||typeof f.href!="string"||f.href===""||f.onLoad||f.onError)break;switch(f.rel){case"stylesheet":return h=f.disabled,typeof f.precedence=="string"&&h==null;default:return!0}case"script":if(f.async&&typeof f.async!="function"&&typeof f.async!="symbol"&&!f.onLoad&&!f.onError&&f.src&&typeof f.src=="string")return!0}return!1}function aO(h){return!(h.type==="stylesheet"&&(h.state.loading&3)===0)}var ey=null;function Fz(){}function Bz(h,f,E){if(ey===null)throw Error(i(475));var M=ey;if(f.type==="stylesheet"&&(typeof E.media!="string"||matchMedia(E.media).matches!==!1)&&(f.state.loading&4)===0){if(f.instance===null){var z=iv(E.href),q=h.querySelector(Q0(z));if(q){h=q._p,h!==null&&typeof h=="object"&&typeof h.then=="function"&&(M.count++,M=Wb.bind(M),h.then(M,M)),f.state.loading|=4,f.instance=q,bt(q);return}q=h.ownerDocument||h,E=iO(E),(z=Ou.get(z))&&Bw(E,z),q=q.createElement("link"),bt(q);var de=q;de._p=new Promise(function(Ce,Ke){de.onload=Ce,de.onerror=Ke}),ll(q,"link",E),f.instance=q}M.stylesheets===null&&(M.stylesheets=new Map),M.stylesheets.set(f,h),(h=f.state.preload)&&(f.state.loading&3)===0&&(M.count++,f=Wb.bind(M),h.addEventListener("load",f),h.addEventListener("error",f))}}function Uz(){if(ey===null)throw Error(i(475));var h=ey;return h.stylesheets&&h.count===0&&kw(h,h.stylesheets),0<h.count?function(f){var E=setTimeout(function(){if(h.stylesheets&&kw(h,h.stylesheets),h.unsuspend){var M=h.unsuspend;h.unsuspend=null,M()}},6e4);return h.unsuspend=f,function(){h.unsuspend=null,clearTimeout(E)}}:null}function Wb(){if(this.count--,this.count===0){if(this.stylesheets)kw(this,this.stylesheets);else if(this.unsuspend){var h=this.unsuspend;this.unsuspend=null,h()}}}var jb=null;function kw(h,f){h.stylesheets=null,h.unsuspend!==null&&(h.count++,jb=new Map,f.forEach(kz,h),jb=null,Wb.call(h))}function kz(h,f){if(!(f.state.loading&4)){var E=jb.get(h);if(E)var M=E.get(null);else{E=new Map,jb.set(h,E);for(var z=h.querySelectorAll("link[data-precedence],style[data-precedence]"),q=0;q<z.length;q++){var de=z[q];(de.nodeName==="LINK"||de.getAttribute("media")!=="not all")&&(E.set(de.dataset.precedence,de),M=de)}M&&E.set(null,M)}z=f.instance,de=z.getAttribute("data-precedence"),q=E.get(de)||M,q===M&&E.set(null,z),E.set(de,z),this.count++,M=Wb.bind(this),z.addEventListener("load",M),z.addEventListener("error",M),q?q.parentNode.insertBefore(z,q.nextSibling):(h=h.nodeType===9?h.head:h,h.insertBefore(z,h.firstChild)),f.state.loading|=4}}var ty={$$typeof:w,Provider:null,Consumer:null,_currentValue:ne,_currentValue2:ne,_threadCount:0};function zz(h,f,E,M,z,q,de,Ce){this.tag=1,this.containerInfo=h,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=$t(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=$t(0),this.hiddenUpdates=$t(null),this.identifierPrefix=M,this.onUncaughtError=z,this.onCaughtError=q,this.onRecoverableError=de,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=Ce,this.incompleteTransitions=new Map}function lO(h,f,E,M,z,q,de,Ce,Ke,wt,nn,fn){return h=new zz(h,f,E,de,Ce,Ke,wt,fn),f=1,q===!0&&(f|=24),q=za(3,null,null,f),h.current=q,q.stateNode=h,f=wd(),f.refCount++,h.pooledCache=f,f.refCount++,q.memoizedState={element:M,isDehydrated:E,cache:f},ut(q),h}function cO(h){return h?(h=lu,h):lu}function uO(h,f,E,M,z,q){z=cO(z),M.context===null?M.context=z:M.pendingContext=z,M=Dt(f),M.payload={element:E},q=q===void 0?null:q,q!==null&&(M.callback=q),E=cn(h,M,f),E!==null&&(al(E,h,f),Ln(E,h,f))}function hO(h,f){if(h=h.memoizedState,h!==null&&h.dehydrated!==null){var E=h.retryLane;h.retryLane=E!==0&&E<f?E:f}}function zw(h,f){hO(h,f),(h=h.alternate)&&hO(h,f)}function dO(h){if(h.tag===13){var f=Uc(h,67108864);f!==null&&al(f,h,67108864),zw(h,67108864)}}var Xb=!0;function $z(h,f,E,M){var z=H.T;H.T=null;var q=te.p;try{te.p=2,$w(h,f,E,M)}finally{te.p=q,H.T=z}}function Hz(h,f,E,M){var z=H.T;H.T=null;var q=te.p;try{te.p=8,$w(h,f,E,M)}finally{te.p=q,H.T=z}}function $w(h,f,E,M){if(Xb){var z=Hw(M);if(z===null)Rw(h,f,M,qb,E),pO(h,M);else if(Vz(z,h,f,E,M))M.stopPropagation();else if(pO(h,M),f&4&&-1<Gz.indexOf(h)){for(;z!==null;){var q=Te(z);if(q!==null)switch(q.tag){case 3:if(q=q.stateNode,q.current.memoizedState.isDehydrated){var de=Pn(q.pendingLanes);if(de!==0){var Ce=q;for(Ce.pendingLanes|=2,Ce.entangledLanes|=2;de;){var Ke=1<<31-Yt(de);Ce.entanglements[1]|=Ke,de&=~Ke}Kh(q),(Jr&6)===0&&(Va=zt()+500,q0(0))}}break;case 13:Ce=Uc(q,2),Ce!==null&&al(Ce,q,2),Ru(),zw(q,2)}if(q=Hw(M),q===null&&Rw(h,f,M,qb,E),q===z)break;z=q}z!==null&&M.stopPropagation()}else Rw(h,f,M,null,E)}}function Hw(h){return h=Js(h),Gw(h)}var qb=null;function Gw(h){if(qb=null,h=ge(h),h!==null){var f=s(h);if(f===null)h=null;else{var E=f.tag;if(E===13){if(h=o(f),h!==null)return h;h=null}else if(E===3){if(f.stateNode.current.memoizedState.isDehydrated)return f.tag===3?f.stateNode.containerInfo:null;h=null}else f!==h&&(h=null)}}return qb=h,null}function fO(h){switch(h){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(At()){case yn:return 2;case nt:return 8;case Nt:case en:return 32;case _e:return 268435456;default:return 32}default:return 32}}var Vw=!1,lp=null,cp=null,up=null,ny=new Map,iy=new Map,hp=[],Gz="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function pO(h,f){switch(h){case"focusin":case"focusout":lp=null;break;case"dragenter":case"dragleave":cp=null;break;case"mouseover":case"mouseout":up=null;break;case"pointerover":case"pointerout":ny.delete(f.pointerId);break;case"gotpointercapture":case"lostpointercapture":iy.delete(f.pointerId)}}function ry(h,f,E,M,z,q){return h===null||h.nativeEvent!==q?(h={blockedOn:f,domEventName:E,eventSystemFlags:M,nativeEvent:q,targetContainers:[z]},f!==null&&(f=Te(f),f!==null&&dO(f)),h):(h.eventSystemFlags|=M,f=h.targetContainers,z!==null&&f.indexOf(z)===-1&&f.push(z),h)}function Vz(h,f,E,M,z){switch(f){case"focusin":return lp=ry(lp,h,f,E,M,z),!0;case"dragenter":return cp=ry(cp,h,f,E,M,z),!0;case"mouseover":return up=ry(up,h,f,E,M,z),!0;case"pointerover":var q=z.pointerId;return ny.set(q,ry(ny.get(q)||null,h,f,E,M,z)),!0;case"gotpointercapture":return q=z.pointerId,iy.set(q,ry(iy.get(q)||null,h,f,E,M,z)),!0}return!1}function mO(h){var f=ge(h.target);if(f!==null){var E=s(f);if(E!==null){if(f=E.tag,f===13){if(f=o(E),f!==null){h.blockedOn=f,Ar(h.priority,function(){if(E.tag===13){var M=vo();M=Dn(M);var z=Uc(E,M);z!==null&&al(z,E,M),zw(E,M)}});return}}else if(f===3&&E.stateNode.current.memoizedState.isDehydrated){h.blockedOn=E.tag===3?E.stateNode.containerInfo:null;return}}}h.blockedOn=null}function Yb(h){if(h.blockedOn!==null)return!1;for(var f=h.targetContainers;0<f.length;){var E=Hw(h.nativeEvent);if(E===null){E=h.nativeEvent;var M=new E.constructor(E.type,E);Qa=M,E.target.dispatchEvent(M),Qa=null}else return f=Te(E),f!==null&&dO(f),h.blockedOn=E,!1;f.shift()}return!0}function gO(h,f,E){Yb(h)&&E.delete(f)}function Wz(){Vw=!1,lp!==null&&Yb(lp)&&(lp=null),cp!==null&&Yb(cp)&&(cp=null),up!==null&&Yb(up)&&(up=null),ny.forEach(gO),iy.forEach(gO)}function Kb(h,f){h.blockedOn===f&&(h.blockedOn=null,Vw||(Vw=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,Wz)))}var Zb=null;function vO(h){Zb!==h&&(Zb=h,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Zb===h&&(Zb=null);for(var f=0;f<h.length;f+=3){var E=h[f],M=h[f+1],z=h[f+2];if(typeof M!="function"){if(Gw(M||E)===null)continue;break}var q=Te(E);q!==null&&(h.splice(f,3),f-=3,$0(q,{pending:!0,data:z,method:E.method,action:M},M,z))}}))}function sy(h){function f(Ke){return Kb(Ke,h)}lp!==null&&Kb(lp,h),cp!==null&&Kb(cp,h),up!==null&&Kb(up,h),ny.forEach(f),iy.forEach(f);for(var E=0;E<hp.length;E++){var M=hp[E];M.blockedOn===h&&(M.blockedOn=null)}for(;0<hp.length&&(E=hp[0],E.blockedOn===null);)mO(E),E.blockedOn===null&&hp.shift();if(E=(h.ownerDocument||h).$$reactFormReplay,E!=null)for(M=0;M<E.length;M+=3){var z=E[M],q=E[M+1],de=z[Pr]||null;if(typeof q=="function")de||vO(E);else if(de){var Ce=null;if(q&&q.hasAttribute("formAction")){if(z=q,de=q[Pr]||null)Ce=de.formAction;else if(Gw(z)!==null)continue}else Ce=de.action;typeof Ce=="function"?E[M+1]=Ce:(E.splice(M,3),M-=3),vO(E)}}}function Ww(h){this._internalRoot=h}Qb.prototype.render=Ww.prototype.render=function(h){var f=this._internalRoot;if(f===null)throw Error(i(409));var E=f.current,M=vo();uO(E,M,h,f,null,null)},Qb.prototype.unmount=Ww.prototype.unmount=function(){var h=this._internalRoot;if(h!==null){this._internalRoot=null;var f=h.containerInfo;uO(h.current,2,null,h,null,null),Ru(),f[gr]=null}};function Qb(h){this._internalRoot=h}Qb.prototype.unstable_scheduleHydration=function(h){if(h){var f=Ri();h={blockedOn:null,target:h,priority:f};for(var E=0;E<hp.length&&f!==0&&f<hp[E].priority;E++);hp.splice(E,0,h),E===0&&mO(h)}};var yO=e.version;if(yO!=="19.1.1")throw Error(i(527,yO,"19.1.1"));te.findDOMNode=function(h){var f=h._reactInternals;if(f===void 0)throw typeof h.render=="function"?Error(i(188)):(h=Object.keys(h).join(","),Error(i(268,h)));return h=a(f),h=h!==null?u(h):null,h=h===null?null:h.stateNode,h};var jz={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Jb=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Jb.isDisabled&&Jb.supportsFiber)try{rt=Jb.inject(jz),pt=Jb}catch{}}return ly.createRoot=function(h,f){if(!r(h))throw Error(i(299));var E=!1,M="",z=pm,q=Hg,de=Nb,Ce=null;return f!=null&&(f.unstable_strictMode===!0&&(E=!0),f.identifierPrefix!==void 0&&(M=f.identifierPrefix),f.onUncaughtError!==void 0&&(z=f.onUncaughtError),f.onCaughtError!==void 0&&(q=f.onCaughtError),f.onRecoverableError!==void 0&&(de=f.onRecoverableError),f.unstable_transitionCallbacks!==void 0&&(Ce=f.unstable_transitionCallbacks)),f=lO(h,1,!1,null,null,E,M,z,q,de,Ce,null),h[gr]=f.current,Aw(h),new Ww(f)},ly.hydrateRoot=function(h,f,E){if(!r(h))throw Error(i(299));var M=!1,z="",q=pm,de=Hg,Ce=Nb,Ke=null,wt=null;return E!=null&&(E.unstable_strictMode===!0&&(M=!0),E.identifierPrefix!==void 0&&(z=E.identifierPrefix),E.onUncaughtError!==void 0&&(q=E.onUncaughtError),E.onCaughtError!==void 0&&(de=E.onCaughtError),E.onRecoverableError!==void 0&&(Ce=E.onRecoverableError),E.unstable_transitionCallbacks!==void 0&&(Ke=E.unstable_transitionCallbacks),E.formState!==void 0&&(wt=E.formState)),f=lO(h,1,!0,f,E??null,M,z,q,de,Ce,Ke,wt),f.context=cO(null),E=f.current,M=vo(),M=Dn(M),z=Dt(M),z.callback=null,cn(E,z,M),E=M,f.current.lanes=E,gn(f,E),Kh(f),h[gr]=f.current,Aw(h),new Qb(f)},ly.version="19.1.1",ly}var LO;function a$(){if(LO)return Xw.exports;LO=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Xw.exports=o$(),Xw.exports}var FD=a$();const l$=zu(FD);var Q=Sg();const We=zu(Q),c$=qz({__proto__:null,default:We},[Q]);/**
 * react-router v7.8.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var PO="popstate";function u$(n={}){function e(r,s){let{pathname:o="/",search:l="",hash:a=""}=Eg(r.location.hash.substring(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),gA("",{pathname:o,search:l,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function t(r,s){let o=r.document.querySelector("base"),l="";if(o&&o.getAttribute("href")){let a=r.location.href,u=a.indexOf("#");l=u===-1?a:a.slice(0,u)}return l+"#"+(typeof s=="string"?s:a_(s))}function i(r,s){xh(r.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(s)})`)}return d$(e,t,i,n)}function Lo(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function xh(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function h$(){return Math.random().toString(36).substring(2,10)}function NO(n,e){return{usr:n.state,key:n.key,idx:e}}function gA(n,e,t=null,i){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?Eg(e):e,state:t,key:e&&e.key||i||h$()}}function a_({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function Eg(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let i=n.indexOf("?");i>=0&&(e.search=n.substring(i),n=n.substring(0,i)),n&&(e.pathname=n)}return e}function d$(n,e,t,i={}){let{window:r=document.defaultView,v5Compat:s=!1}=i,o=r.history,l="POP",a=null,u=m();u==null&&(u=0,o.replaceState({...o.state,idx:u},""));function m(){return(o.state||{idx:null}).idx}function d(){l="POP";let v=m(),c=v==null?null:v-u;u=v,a&&a({action:l,location:p.location,delta:c})}function b(v,c){l="PUSH";let x=gA(p.location,v,c);t&&t(x,v),u=m()+1;let w=NO(x,u),T=p.createHref(x);try{o.pushState(w,"",T)}catch(L){if(L instanceof DOMException&&L.name==="DataCloneError")throw L;r.location.assign(T)}s&&a&&a({action:l,location:p.location,delta:1})}function g(v,c){l="REPLACE";let x=gA(p.location,v,c);t&&t(x,v),u=m();let w=NO(x,u),T=p.createHref(x);o.replaceState(w,"",T),s&&a&&a({action:l,location:p.location,delta:0})}function _(v){return f$(v)}let p={get action(){return l},get location(){return n(r,o)},listen(v){if(a)throw new Error("A history only accepts one active listener");return r.addEventListener(PO,d),a=v,()=>{r.removeEventListener(PO,d),a=null}},createHref(v){return e(r,v)},createURL:_,encodeLocation(v){let c=_(v);return{pathname:c.pathname,search:c.search,hash:c.hash}},push:b,replace:g,go(v){return o.go(v)}};return p}function f$(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),Lo(t,"No window.location.(origin|href) available to create URL");let i=typeof n=="string"?n:a_(n);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=t+i),new URL(i,t)}function BD(n,e,t="/"){return p$(n,e,t,!1)}function p$(n,e,t,i){let r=typeof e=="string"?Eg(e):e,s=xf(r.pathname||"/",t);if(s==null)return null;let o=UD(n);m$(o);let l=null;for(let a=0;l==null&&a<o.length;++a){let u=T$(s);l=w$(o[a],u,i)}return l}function UD(n,e=[],t=[],i="",r=!1){let s=(o,l,a=r,u)=>{let m={relativePath:u===void 0?o.path||"":u,caseSensitive:o.caseSensitive===!0,childrenIndex:l,route:o};if(m.relativePath.startsWith("/")){if(!m.relativePath.startsWith(i)&&a)return;Lo(m.relativePath.startsWith(i),`Absolute route path "${m.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),m.relativePath=m.relativePath.slice(i.length)}let d=pf([i,m.relativePath]),b=t.concat(m);o.children&&o.children.length>0&&(Lo(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${d}".`),UD(o.children,e,b,d,a)),!(o.path==null&&!o.index)&&e.push({path:d,score:S$(d,o.index),routesMeta:b})};return n.forEach((o,l)=>{if(o.path===""||!o.path?.includes("?"))s(o,l);else for(let a of kD(o.path))s(o,l,!0,a)}),e}function kD(n){let e=n.split("/");if(e.length===0)return[];let[t,...i]=e,r=t.endsWith("?"),s=t.replace(/\?$/,"");if(i.length===0)return r?[s,""]:[s];let o=kD(i.join("/")),l=[];return l.push(...o.map(a=>a===""?s:[s,a].join("/"))),r&&l.push(...o),l.map(a=>n.startsWith("/")&&a===""?"/":a)}function m$(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:E$(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}var g$=/^:[\w-]+$/,v$=3,y$=2,_$=1,b$=10,x$=-2,IO=n=>n==="*";function S$(n,e){let t=n.split("/"),i=t.length;return t.some(IO)&&(i+=x$),e&&(i+=y$),t.filter(r=>!IO(r)).reduce((r,s)=>r+(g$.test(s)?v$:s===""?_$:b$),i)}function E$(n,e){return n.length===e.length&&n.slice(0,-1).every((i,r)=>i===e[r])?n[n.length-1]-e[e.length-1]:0}function w$(n,e,t=!1){let{routesMeta:i}=n,r={},s="/",o=[];for(let l=0;l<i.length;++l){let a=i[l],u=l===i.length-1,m=s==="/"?e:e.slice(s.length)||"/",d=z1({path:a.relativePath,caseSensitive:a.caseSensitive,end:u},m),b=a.route;if(!d&&u&&t&&!i[i.length-1].route.index&&(d=z1({path:a.relativePath,caseSensitive:a.caseSensitive,end:!1},m)),!d)return null;Object.assign(r,d.params),o.push({params:r,pathname:pf([s,d.pathname]),pathnameBase:O$(pf([s,d.pathnameBase])),route:b}),d.pathnameBase!=="/"&&(s=pf([s,d.pathnameBase]))}return o}function z1(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,i]=C$(n.path,n.caseSensitive,n.end),r=e.match(t);if(!r)return null;let s=r[0],o=s.replace(/(.)\/+$/,"$1"),l=r.slice(1);return{params:i.reduce((u,{paramName:m,isOptional:d},b)=>{if(m==="*"){let _=l[b]||"";o=s.slice(0,s.length-_.length).replace(/(.)\/+$/,"$1")}const g=l[b];return d&&!g?u[m]=void 0:u[m]=(g||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:o,pattern:n}}function C$(n,e=!1,t=!0){xh(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let i=[],r="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,a)=>(i.push({paramName:l,isOptional:a!=null}),a?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return n.endsWith("*")?(i.push({paramName:"*"}),r+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?r+="\\/*$":n!==""&&n!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,e?void 0:"i"),i]}function T$(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return xh(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function xf(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=n.charAt(t);return i&&i!=="/"?null:n.slice(t)||"/"}function A$(n,e="/"){let{pathname:t,search:i="",hash:r=""}=typeof n=="string"?Eg(n):n;return{pathname:t?t.startsWith("/")?t:R$(t,e):e,search:L$(i),hash:P$(r)}}function R$(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(r=>{r===".."?t.length>1&&t.pop():r!=="."&&t.push(r)}),t.length>1?t.join("/"):"/"}function Qw(n,e,t,i){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function M$(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function zD(n){let e=M$(n);return e.map((t,i)=>i===e.length-1?t.pathname:t.pathnameBase)}function $D(n,e,t,i=!1){let r;typeof n=="string"?r=Eg(n):(r={...n},Lo(!r.pathname||!r.pathname.includes("?"),Qw("?","pathname","search",r)),Lo(!r.pathname||!r.pathname.includes("#"),Qw("#","pathname","hash",r)),Lo(!r.search||!r.search.includes("#"),Qw("#","search","hash",r)));let s=n===""||r.pathname==="",o=s?"/":r.pathname,l;if(o==null)l=t;else{let d=e.length-1;if(!i&&o.startsWith("..")){let b=o.split("/");for(;b[0]==="..";)b.shift(),d-=1;r.pathname=b.join("/")}l=d>=0?e[d]:"/"}let a=A$(r,l),u=o&&o!=="/"&&o.endsWith("/"),m=(s||o===".")&&t.endsWith("/");return!a.pathname.endsWith("/")&&(u||m)&&(a.pathname+="/"),a}var pf=n=>n.join("/").replace(/\/\/+/g,"/"),O$=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),L$=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,P$=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function N$(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var HD=["POST","PUT","PATCH","DELETE"];new Set(HD);var I$=["GET",...HD];new Set(I$);var x0=Q.createContext(null);x0.displayName="DataRouter";var hE=Q.createContext(null);hE.displayName="DataRouterState";Q.createContext(!1);var GD=Q.createContext({isTransitioning:!1});GD.displayName="ViewTransition";var D$=Q.createContext(new Map);D$.displayName="Fetchers";var F$=Q.createContext(null);F$.displayName="Await";var gd=Q.createContext(null);gd.displayName="Navigation";var F_=Q.createContext(null);F_.displayName="Location";var Tf=Q.createContext({outlet:null,matches:[],isDataRoute:!1});Tf.displayName="Route";var WR=Q.createContext(null);WR.displayName="RouteError";function B$(n,{relative:e}={}){Lo(B_(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:i}=Q.useContext(gd),{hash:r,pathname:s,search:o}=U_(n,{relative:e}),l=s;return t!=="/"&&(l=s==="/"?t:pf([t,s])),i.createHref({pathname:l,search:o,hash:r})}function B_(){return Q.useContext(F_)!=null}function Af(){return Lo(B_(),"useLocation() may be used only in the context of a <Router> component."),Q.useContext(F_).location}var VD="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function WD(n){Q.useContext(gd).static||Q.useLayoutEffect(n)}function U$(){let{isDataRoute:n}=Q.useContext(Tf);return n?Z$():k$()}function k$(){Lo(B_(),"useNavigate() may be used only in the context of a <Router> component.");let n=Q.useContext(x0),{basename:e,navigator:t}=Q.useContext(gd),{matches:i}=Q.useContext(Tf),{pathname:r}=Af(),s=JSON.stringify(zD(i)),o=Q.useRef(!1);return WD(()=>{o.current=!0}),Q.useCallback((a,u={})=>{if(xh(o.current,VD),!o.current)return;if(typeof a=="number"){t.go(a);return}let m=$D(a,JSON.parse(s),r,u.relative==="path");n==null&&e!=="/"&&(m.pathname=m.pathname==="/"?e:pf([e,m.pathname])),(u.replace?t.replace:t.push)(m,u.state,u)},[e,t,s,r,n])}Q.createContext(null);function U_(n,{relative:e}={}){let{matches:t}=Q.useContext(Tf),{pathname:i}=Af(),r=JSON.stringify(zD(t));return Q.useMemo(()=>$D(n,JSON.parse(r),i,e==="path"),[n,r,i,e])}function z$(n,e){return jD(n,e)}function jD(n,e,t,i,r){Lo(B_(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=Q.useContext(gd),{matches:o}=Q.useContext(Tf),l=o[o.length-1],a=l?l.params:{},u=l?l.pathname:"/",m=l?l.pathnameBase:"/",d=l&&l.route;{let x=d&&d.path||"";XD(u,!d||x.endsWith("*")||x.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${u}" (under <Route path="${x}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${x}"> to <Route path="${x==="/"?"*":`${x}/*`}">.`)}let b=Af(),g;if(e){let x=typeof e=="string"?Eg(e):e;Lo(m==="/"||x.pathname?.startsWith(m),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${m}" but pathname "${x.pathname}" was given in the \`location\` prop.`),g=x}else g=b;let _=g.pathname||"/",p=_;if(m!=="/"){let x=m.replace(/^\//,"").split("/");p="/"+_.replace(/^\//,"").split("/").slice(x.length).join("/")}let v=BD(n,{pathname:p});xh(d||v!=null,`No routes matched location "${g.pathname}${g.search}${g.hash}" `),xh(v==null||v[v.length-1].route.element!==void 0||v[v.length-1].route.Component!==void 0||v[v.length-1].route.lazy!==void 0,`Matched leaf route at location "${g.pathname}${g.search}${g.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let c=W$(v&&v.map(x=>Object.assign({},x,{params:Object.assign({},a,x.params),pathname:pf([m,s.encodeLocation?s.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?m:pf([m,s.encodeLocation?s.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),o,t,i,r);return e&&c?Q.createElement(F_.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...g},navigationType:"POP"}},c):c}function $$(){let n=K$(),e=N$(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,i="rgba(200,200,200, 0.5)",r={padding:"0.5rem",backgroundColor:i},s={padding:"2px 4px",backgroundColor:i},o=null;return console.error("Error handled by React Router default ErrorBoundary:",n),o=Q.createElement(Q.Fragment,null,Q.createElement("p",null,"💿 Hey developer 👋"),Q.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",Q.createElement("code",{style:s},"ErrorBoundary")," or"," ",Q.createElement("code",{style:s},"errorElement")," prop on your route.")),Q.createElement(Q.Fragment,null,Q.createElement("h2",null,"Unexpected Application Error!"),Q.createElement("h3",{style:{fontStyle:"italic"}},e),t?Q.createElement("pre",{style:r},t):null,o)}var H$=Q.createElement($$,null),G$=class extends Q.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){this.props.unstable_onError?this.props.unstable_onError(n,e):console.error("React Router caught the following error during render",n)}render(){return this.state.error!==void 0?Q.createElement(Tf.Provider,{value:this.props.routeContext},Q.createElement(WR.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function V$({routeContext:n,match:e,children:t}){let i=Q.useContext(x0);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),Q.createElement(Tf.Provider,{value:n},t)}function W$(n,e=[],t=null,i=null,r=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let s=n,o=t?.errors;if(o!=null){let u=s.findIndex(m=>m.route.id&&o?.[m.route.id]!==void 0);Lo(u>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),s=s.slice(0,Math.min(s.length,u+1))}let l=!1,a=-1;if(t)for(let u=0;u<s.length;u++){let m=s[u];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(a=u),m.route.id){let{loaderData:d,errors:b}=t,g=m.route.loader&&!d.hasOwnProperty(m.route.id)&&(!b||b[m.route.id]===void 0);if(m.route.lazy||g){l=!0,a>=0?s=s.slice(0,a+1):s=[s[0]];break}}}return s.reduceRight((u,m,d)=>{let b,g=!1,_=null,p=null;t&&(b=o&&m.route.id?o[m.route.id]:void 0,_=m.route.errorElement||H$,l&&(a<0&&d===0?(XD("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),g=!0,p=null):a===d&&(g=!0,p=m.route.hydrateFallbackElement||null)));let v=e.concat(s.slice(0,d+1)),c=()=>{let x;return b?x=_:g?x=p:m.route.Component?x=Q.createElement(m.route.Component,null):m.route.element?x=m.route.element:x=u,Q.createElement(V$,{match:m,routeContext:{outlet:u,matches:v,isDataRoute:t!=null},children:x})};return t&&(m.route.ErrorBoundary||m.route.errorElement||d===0)?Q.createElement(G$,{location:t.location,revalidation:t.revalidation,component:_,error:b,children:c(),routeContext:{outlet:null,matches:v,isDataRoute:!0},unstable_onError:i}):c()},null)}function jR(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function j$(n){let e=Q.useContext(x0);return Lo(e,jR(n)),e}function X$(n){let e=Q.useContext(hE);return Lo(e,jR(n)),e}function q$(n){let e=Q.useContext(Tf);return Lo(e,jR(n)),e}function XR(n){let e=q$(n),t=e.matches[e.matches.length-1];return Lo(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function Y$(){return XR("useRouteId")}function K$(){let n=Q.useContext(WR),e=X$("useRouteError"),t=XR("useRouteError");return n!==void 0?n:e.errors?.[t]}function Z$(){let{router:n}=j$("useNavigate"),e=XR("useNavigate"),t=Q.useRef(!1);return WD(()=>{t.current=!0}),Q.useCallback(async(r,s={})=>{xh(t.current,VD),t.current&&(typeof r=="number"?n.navigate(r):await n.navigate(r,{fromRouteId:e,...s}))},[n,e])}var DO={};function XD(n,e,t){!e&&!DO[n]&&(DO[n]=!0,xh(!1,t))}Q.memo(Q$);function Q$({routes:n,future:e,state:t,unstable_onError:i}){return jD(n,void 0,t,i,e)}function Ep(n){Lo(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function J$({basename:n="/",children:e=null,location:t,navigationType:i="POP",navigator:r,static:s=!1}){Lo(!B_(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=n.replace(/^\/*/,"/"),l=Q.useMemo(()=>({basename:o,navigator:r,static:s,future:{}}),[o,r,s]);typeof t=="string"&&(t=Eg(t));let{pathname:a="/",search:u="",hash:m="",state:d=null,key:b="default"}=t,g=Q.useMemo(()=>{let _=xf(a,o);return _==null?null:{location:{pathname:_,search:u,hash:m,state:d,key:b},navigationType:i}},[o,a,u,m,d,b,i]);return xh(g!=null,`<Router basename="${o}"> is not able to match the URL "${a}${u}${m}" because it does not start with the basename, so the <Router> won't render anything.`),g==null?null:Q.createElement(gd.Provider,{value:l},Q.createElement(F_.Provider,{children:e,value:g}))}function e6({children:n,location:e}){return z$(vA(n),e)}function vA(n,e=[]){let t=[];return Q.Children.forEach(n,(i,r)=>{if(!Q.isValidElement(i))return;let s=[...e,r];if(i.type===Q.Fragment){t.push.apply(t,vA(i.props.children,s));return}Lo(i.type===Ep,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Lo(!i.props.index||!i.props.children,"An index route cannot have child routes.");let o={id:i.props.id||s.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(o.children=vA(i.props.children,s)),t.push(o)}),t}var T1="get",A1="application/x-www-form-urlencoded";function dE(n){return n!=null&&typeof n.tagName=="string"}function t6(n){return dE(n)&&n.tagName.toLowerCase()==="button"}function n6(n){return dE(n)&&n.tagName.toLowerCase()==="form"}function i6(n){return dE(n)&&n.tagName.toLowerCase()==="input"}function r6(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function s6(n,e){return n.button===0&&(!e||e==="_self")&&!r6(n)}var ex=null;function o6(){if(ex===null)try{new FormData(document.createElement("form"),0),ex=!1}catch{ex=!0}return ex}var a6=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Jw(n){return n!=null&&!a6.has(n)?(xh(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${A1}"`),null):n}function l6(n,e){let t,i,r,s,o;if(n6(n)){let l=n.getAttribute("action");i=l?xf(l,e):null,t=n.getAttribute("method")||T1,r=Jw(n.getAttribute("enctype"))||A1,s=new FormData(n)}else if(t6(n)||i6(n)&&(n.type==="submit"||n.type==="image")){let l=n.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let a=n.getAttribute("formaction")||l.getAttribute("action");if(i=a?xf(a,e):null,t=n.getAttribute("formmethod")||l.getAttribute("method")||T1,r=Jw(n.getAttribute("formenctype"))||Jw(l.getAttribute("enctype"))||A1,s=new FormData(l,n),!o6()){let{name:u,type:m,value:d}=n;if(m==="image"){let b=u?`${u}.`:"";s.append(`${b}x`,"0"),s.append(`${b}y`,"0")}else u&&s.append(u,d)}}else{if(dE(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=T1,i=null,r=A1,o=n}return s&&r==="text/plain"&&(o=s,s=void 0),{action:i,method:t.toLowerCase(),encType:r,formData:s,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function qR(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function c6(n,e,t){let i=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return i.pathname==="/"?i.pathname=`_root.${t}`:e&&xf(i.pathname,e)==="/"?i.pathname=`${e.replace(/\/$/,"")}/_root.${t}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${t}`,i}async function u6(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function h6(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function d6(n,e,t){let i=await Promise.all(n.map(async r=>{let s=e.routes[r.route.id];if(s){let o=await u6(s,t);return o.links?o.links():[]}return[]}));return g6(i.flat(1).filter(h6).filter(r=>r.rel==="stylesheet"||r.rel==="preload").map(r=>r.rel==="stylesheet"?{...r,rel:"prefetch",as:"style"}:{...r,rel:"prefetch"}))}function FO(n,e,t,i,r,s){let o=(a,u)=>t[u]?a.route.id!==t[u].route.id:!0,l=(a,u)=>t[u].pathname!==a.pathname||t[u].route.path?.endsWith("*")&&t[u].params["*"]!==a.params["*"];return s==="assets"?e.filter((a,u)=>o(a,u)||l(a,u)):s==="data"?e.filter((a,u)=>{let m=i.routes[a.route.id];if(!m||!m.hasLoader)return!1;if(o(a,u)||l(a,u))return!0;if(a.route.shouldRevalidate){let d=a.route.shouldRevalidate({currentUrl:new URL(r.pathname+r.search+r.hash,window.origin),currentParams:t[0]?.params||{},nextUrl:new URL(n,window.origin),nextParams:a.params,defaultShouldRevalidate:!0});if(typeof d=="boolean")return d}return!0}):[]}function f6(n,e,{includeHydrateFallback:t}={}){return p6(n.map(i=>{let r=e.routes[i.route.id];if(!r)return[];let s=[r.module];return r.clientActionModule&&(s=s.concat(r.clientActionModule)),r.clientLoaderModule&&(s=s.concat(r.clientLoaderModule)),t&&r.hydrateFallbackModule&&(s=s.concat(r.hydrateFallbackModule)),r.imports&&(s=s.concat(r.imports)),s}).flat(1))}function p6(n){return[...new Set(n)]}function m6(n){let e={},t=Object.keys(n).sort();for(let i of t)e[i]=n[i];return e}function g6(n,e){let t=new Set;return new Set(e),n.reduce((i,r)=>{let s=JSON.stringify(m6(r));return t.has(s)||(t.add(s),i.push({key:s,link:r})),i},[])}function qD(){let n=Q.useContext(x0);return qR(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function v6(){let n=Q.useContext(hE);return qR(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var YR=Q.createContext(void 0);YR.displayName="FrameworkContext";function YD(){let n=Q.useContext(YR);return qR(n,"You must render this element inside a <HydratedRouter> element"),n}function y6(n,e){let t=Q.useContext(YR),[i,r]=Q.useState(!1),[s,o]=Q.useState(!1),{onFocus:l,onBlur:a,onMouseEnter:u,onMouseLeave:m,onTouchStart:d}=e,b=Q.useRef(null);Q.useEffect(()=>{if(n==="render"&&o(!0),n==="viewport"){let p=c=>{c.forEach(x=>{o(x.isIntersecting)})},v=new IntersectionObserver(p,{threshold:.5});return b.current&&v.observe(b.current),()=>{v.disconnect()}}},[n]),Q.useEffect(()=>{if(i){let p=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(p)}}},[i]);let g=()=>{r(!0)},_=()=>{r(!1),o(!1)};return t?n!=="intent"?[s,b,{}]:[s,b,{onFocus:cy(l,g),onBlur:cy(a,_),onMouseEnter:cy(u,g),onMouseLeave:cy(m,_),onTouchStart:cy(d,g)}]:[!1,b,{}]}function cy(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function _6({page:n,...e}){let{router:t}=qD(),i=Q.useMemo(()=>BD(t.routes,n,t.basename),[t.routes,n,t.basename]);return i?Q.createElement(x6,{page:n,matches:i,...e}):null}function b6(n){let{manifest:e,routeModules:t}=YD(),[i,r]=Q.useState([]);return Q.useEffect(()=>{let s=!1;return d6(n,e,t).then(o=>{s||r(o)}),()=>{s=!0}},[n,e,t]),i}function x6({page:n,matches:e,...t}){let i=Af(),{manifest:r,routeModules:s}=YD(),{basename:o}=qD(),{loaderData:l,matches:a}=v6(),u=Q.useMemo(()=>FO(n,e,a,r,i,"data"),[n,e,a,r,i]),m=Q.useMemo(()=>FO(n,e,a,r,i,"assets"),[n,e,a,r,i]),d=Q.useMemo(()=>{if(n===i.pathname+i.search+i.hash)return[];let _=new Set,p=!1;if(e.forEach(c=>{let x=r.routes[c.route.id];!x||!x.hasLoader||(!u.some(w=>w.route.id===c.route.id)&&c.route.id in l&&s[c.route.id]?.shouldRevalidate||x.hasClientLoader?p=!0:_.add(c.route.id))}),_.size===0)return[];let v=c6(n,o,"data");return p&&_.size>0&&v.searchParams.set("_routes",e.filter(c=>_.has(c.route.id)).map(c=>c.route.id).join(",")),[v.pathname+v.search]},[o,l,i,r,u,e,n,s]),b=Q.useMemo(()=>f6(m,r),[m,r]),g=b6(m);return Q.createElement(Q.Fragment,null,d.map(_=>Q.createElement("link",{key:_,rel:"prefetch",as:"fetch",href:_,...t})),b.map(_=>Q.createElement("link",{key:_,rel:"modulepreload",href:_,...t})),g.map(({key:_,link:p})=>Q.createElement("link",{key:_,nonce:t.nonce,...p})))}function S6(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var KD=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{KD&&(window.__reactRouterVersion="7.8.2")}catch{}function E6({basename:n,children:e,window:t}){let i=Q.useRef();i.current==null&&(i.current=u$({window:t,v5Compat:!0}));let r=i.current,[s,o]=Q.useState({action:r.action,location:r.location}),l=Q.useCallback(a=>{Q.startTransition(()=>o(a))},[o]);return Q.useLayoutEffect(()=>r.listen(l),[r,l]),Q.createElement(J$,{basename:n,children:e,location:s.location,navigationType:s.action,navigator:r})}var ZD=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,is=Q.forwardRef(function({onClick:e,discover:t="render",prefetch:i="none",relative:r,reloadDocument:s,replace:o,state:l,target:a,to:u,preventScrollReset:m,viewTransition:d,...b},g){let{basename:_}=Q.useContext(gd),p=typeof u=="string"&&ZD.test(u),v,c=!1;if(typeof u=="string"&&p&&(v=u,KD))try{let F=new URL(window.location.href),R=u.startsWith("//")?new URL(F.protocol+u):new URL(u),D=xf(R.pathname,_);R.origin===F.origin&&D!=null?u=D+R.search+R.hash:c=!0}catch{xh(!1,`<Link to="${u}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let x=B$(u,{relative:r}),[w,T,L]=y6(i,b),P=T6(u,{replace:o,state:l,target:a,preventScrollReset:m,relative:r,viewTransition:d});function C(F){e&&e(F),F.defaultPrevented||P(F)}let I=Q.createElement("a",{...b,...L,href:v||x,onClick:c||s?e:C,ref:S6(g,T),target:a,"data-discover":!p&&t==="render"?"true":void 0});return w&&!p?Q.createElement(Q.Fragment,null,I,Q.createElement(_6,{page:x})):I});is.displayName="Link";var R1=Q.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:i="",end:r=!1,style:s,to:o,viewTransition:l,children:a,...u},m){let d=U_(o,{relative:u.relative}),b=Af(),g=Q.useContext(hE),{navigator:_,basename:p}=Q.useContext(gd),v=g!=null&&L6(d)&&l===!0,c=_.encodeLocation?_.encodeLocation(d).pathname:d.pathname,x=b.pathname,w=g&&g.navigation&&g.navigation.location?g.navigation.location.pathname:null;t||(x=x.toLowerCase(),w=w?w.toLowerCase():null,c=c.toLowerCase()),w&&p&&(w=xf(w,p)||w);const T=c!=="/"&&c.endsWith("/")?c.length-1:c.length;let L=x===c||!r&&x.startsWith(c)&&x.charAt(T)==="/",P=w!=null&&(w===c||!r&&w.startsWith(c)&&w.charAt(c.length)==="/"),C={isActive:L,isPending:P,isTransitioning:v},I=L?e:void 0,F;typeof i=="function"?F=i(C):F=[i,L?"active":null,P?"pending":null,v?"transitioning":null].filter(Boolean).join(" ");let R=typeof s=="function"?s(C):s;return Q.createElement(is,{...u,"aria-current":I,className:F,ref:m,style:R,to:o,viewTransition:l},typeof a=="function"?a(C):a)});R1.displayName="NavLink";var w6=Q.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:i,replace:r,state:s,method:o=T1,action:l,onSubmit:a,relative:u,preventScrollReset:m,viewTransition:d,...b},g)=>{let _=M6(),p=O6(l,{relative:u}),v=o.toLowerCase()==="get"?"get":"post",c=typeof l=="string"&&ZD.test(l),x=w=>{if(a&&a(w),w.defaultPrevented)return;w.preventDefault();let T=w.nativeEvent.submitter,L=T?.getAttribute("formmethod")||o;_(T||w.currentTarget,{fetcherKey:e,method:L,navigate:t,replace:r,state:s,relative:u,preventScrollReset:m,viewTransition:d})};return Q.createElement("form",{ref:g,method:v,action:p,onSubmit:i?a:x,...b,"data-discover":!c&&n==="render"?"true":void 0})});w6.displayName="Form";function C6(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function QD(n){let e=Q.useContext(x0);return Lo(e,C6(n)),e}function T6(n,{target:e,replace:t,state:i,preventScrollReset:r,relative:s,viewTransition:o}={}){let l=U$(),a=Af(),u=U_(n,{relative:s});return Q.useCallback(m=>{if(s6(m,e)){m.preventDefault();let d=t!==void 0?t:a_(a)===a_(u);l(n,{replace:d,state:i,preventScrollReset:r,relative:s,viewTransition:o})}},[a,l,u,t,i,e,n,r,s,o])}var A6=0,R6=()=>`__${String(++A6)}__`;function M6(){let{router:n}=QD("useSubmit"),{basename:e}=Q.useContext(gd),t=Y$();return Q.useCallback(async(i,r={})=>{let{action:s,method:o,encType:l,formData:a,body:u}=l6(i,e);if(r.navigate===!1){let m=r.fetcherKey||R6();await n.fetch(m,t,r.action||s,{preventScrollReset:r.preventScrollReset,formData:a,body:u,formMethod:r.method||o,formEncType:r.encType||l,flushSync:r.flushSync})}else await n.navigate(r.action||s,{preventScrollReset:r.preventScrollReset,formData:a,body:u,formMethod:r.method||o,formEncType:r.encType||l,replace:r.replace,state:r.state,fromRouteId:t,flushSync:r.flushSync,viewTransition:r.viewTransition})},[n,e,t])}function O6(n,{relative:e}={}){let{basename:t}=Q.useContext(gd),i=Q.useContext(Tf);Lo(i,"useFormAction must be used inside a RouteContext");let[r]=i.matches.slice(-1),s={...U_(n||".",{relative:e})},o=Af();if(n==null){s.search=o.search;let l=new URLSearchParams(s.search),a=l.getAll("index");if(a.some(m=>m==="")){l.delete("index"),a.filter(d=>d).forEach(d=>l.append("index",d));let m=l.toString();s.search=m?`?${m}`:""}}return(!n||n===".")&&r.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(s.pathname=s.pathname==="/"?t:pf([t,s.pathname])),a_(s)}function L6(n,{relative:e}={}){let t=Q.useContext(GD);Lo(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=QD("useViewTransitionState"),r=U_(n,{relative:e});if(!t.isTransitioning)return!1;let s=xf(t.currentLocation.pathname,i)||t.currentLocation.pathname,o=xf(t.nextLocation.pathname,i)||t.nextLocation.pathname;return z1(r.pathname,o)!=null||z1(r.pathname,s)!=null}var fE=DD();const Km=zu(fE);var eC={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var BO;function P6(){return BO||(BO=1,(function(n){(function(){var e={}.hasOwnProperty;function t(){for(var s="",o=0;o<arguments.length;o++){var l=arguments[o];l&&(s=r(s,i(l)))}return s}function i(s){if(typeof s=="string"||typeof s=="number")return s;if(typeof s!="object")return"";if(Array.isArray(s))return t.apply(null,s);if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]"))return s.toString();var o="";for(var l in s)e.call(s,l)&&s[l]&&(o=r(o,l));return o}function r(s,o){return o?s?s+" "+o:s+o:s}n.exports?(t.default=t,n.exports=t):window.classNames=t})()})(eC)),eC.exports}var N6=P6();const la=zu(N6);function Ks(){return Ks=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Ks.apply(null,arguments)}function JD(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)!==-1)continue;t[i]=n[i]}return t}function UO(n){return"default"+n.charAt(0).toUpperCase()+n.substr(1)}function I6(n){var e=D6(n,"string");return typeof e=="symbol"?e:String(e)}function D6(n,e){if(typeof n!="object"||n===null)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}function F6(n,e,t){var i=Q.useRef(n!==void 0),r=Q.useState(e),s=r[0],o=r[1],l=n!==void 0,a=i.current;return i.current=l,!l&&a&&s!==e&&o(e),[l?n:s,Q.useCallback(function(u){for(var m=arguments.length,d=new Array(m>1?m-1:0),b=1;b<m;b++)d[b-1]=arguments[b];t&&t.apply(void 0,[u].concat(d)),o(u)},[t])]}function eF(n,e){return Object.keys(e).reduce(function(t,i){var r,s=t,o=s[UO(i)],l=s[i],a=JD(s,[UO(i),i].map(I6)),u=e[i],m=F6(l,o,n[u]),d=m[0],b=m[1];return Ks({},a,(r={},r[i]=d,r[u]=b,r))},n)}function yA(n,e){return yA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,i){return t.__proto__=i,t},yA(n,e)}function B6(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,yA(n,e)}const U6=["xxl","xl","lg","md","sm","xs"],k6="xs",pE=Q.createContext({prefixes:{},breakpoints:U6,minBreakpoint:k6}),{Consumer:t_e,Provider:n_e}=pE;function Il(n,e){const{prefixes:t}=Q.useContext(pE);return n||t[e]||e}function tF(){const{breakpoints:n}=Q.useContext(pE);return n}function nF(){const{minBreakpoint:n}=Q.useContext(pE);return n}function KR(n){return n&&n.ownerDocument||document}function z6(n){var e=KR(n);return e&&e.defaultView||window}function $6(n,e){return z6(n).getComputedStyle(n,e)}var H6=/([A-Z])/g;function G6(n){return n.replace(H6,"-$1").toLowerCase()}var V6=/^ms-/;function tx(n){return G6(n).replace(V6,"-ms-")}var W6=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function j6(n){return!!(n&&W6.test(n))}function mf(n,e){var t="",i="";if(typeof e=="string")return n.style.getPropertyValue(tx(e))||$6(n).getPropertyValue(tx(e));Object.keys(e).forEach(function(r){var s=e[r];!s&&s!==0?n.style.removeProperty(tx(r)):j6(r)?i+=r+"("+s+") ":t+=tx(r)+": "+s+";"}),i&&(t+="transform: "+i+";"),n.style.cssText+=";"+t}var tC={exports:{}},nC,kO;function X6(){if(kO)return nC;kO=1;var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return nC=n,nC}var iC,zO;function q6(){if(zO)return iC;zO=1;var n=X6();function e(){}function t(){}return t.resetWarningCache=e,iC=function(){function i(o,l,a,u,m,d){if(d!==n){var b=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw b.name="Invariant Violation",b}}i.isRequired=i;function r(){return i}var s={array:i,bigint:i,bool:i,func:i,number:i,object:i,string:i,symbol:i,any:i,arrayOf:r,element:i,elementType:i,instanceOf:r,node:i,objectOf:r,oneOf:r,oneOfType:r,shape:r,exact:r,checkPropTypes:t,resetWarningCache:e};return s.PropTypes=s,s},iC}var $O;function Y6(){return $O||($O=1,tC.exports=q6()()),tC.exports}var K6=Y6();const ei=zu(K6),HO={disabled:!1},iF=We.createContext(null);var Z6=function(e){return e.scrollTop},Fy="unmounted",Cp="exited",dh="entering",of="entered",l_="exiting",Rf=(function(n){B6(e,n);function e(i,r){var s;s=n.call(this,i,r)||this;var o=r,l=o&&!o.isMounting?i.enter:i.appear,a;return s.appearStatus=null,i.in?l?(a=Cp,s.appearStatus=dh):a=of:i.unmountOnExit||i.mountOnEnter?a=Fy:a=Cp,s.state={status:a},s.nextCallback=null,s}e.getDerivedStateFromProps=function(r,s){var o=r.in;return o&&s.status===Fy?{status:Cp}:null};var t=e.prototype;return t.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},t.componentDidUpdate=function(r){var s=null;if(r!==this.props){var o=this.state.status;this.props.in?o!==dh&&o!==of&&(s=dh):(o===dh||o===of)&&(s=l_)}this.updateStatus(!1,s)},t.componentWillUnmount=function(){this.cancelNextCallback()},t.getTimeouts=function(){var r=this.props.timeout,s,o,l;return s=o=l=r,r!=null&&typeof r!="number"&&(s=r.exit,o=r.enter,l=r.appear!==void 0?r.appear:o),{exit:s,enter:o,appear:l}},t.updateStatus=function(r,s){if(r===void 0&&(r=!1),s!==null)if(this.cancelNextCallback(),s===dh){if(this.props.unmountOnExit||this.props.mountOnEnter){var o=this.props.nodeRef?this.props.nodeRef.current:Km.findDOMNode(this);o&&Z6(o)}this.performEnter(r)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Cp&&this.setState({status:Fy})},t.performEnter=function(r){var s=this,o=this.props.enter,l=this.context?this.context.isMounting:r,a=this.props.nodeRef?[l]:[Km.findDOMNode(this),l],u=a[0],m=a[1],d=this.getTimeouts(),b=l?d.appear:d.enter;if(!r&&!o||HO.disabled){this.safeSetState({status:of},function(){s.props.onEntered(u)});return}this.props.onEnter(u,m),this.safeSetState({status:dh},function(){s.props.onEntering(u,m),s.onTransitionEnd(b,function(){s.safeSetState({status:of},function(){s.props.onEntered(u,m)})})})},t.performExit=function(){var r=this,s=this.props.exit,o=this.getTimeouts(),l=this.props.nodeRef?void 0:Km.findDOMNode(this);if(!s||HO.disabled){this.safeSetState({status:Cp},function(){r.props.onExited(l)});return}this.props.onExit(l),this.safeSetState({status:l_},function(){r.props.onExiting(l),r.onTransitionEnd(o.exit,function(){r.safeSetState({status:Cp},function(){r.props.onExited(l)})})})},t.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},t.safeSetState=function(r,s){s=this.setNextCallback(s),this.setState(r,s)},t.setNextCallback=function(r){var s=this,o=!0;return this.nextCallback=function(l){o&&(o=!1,s.nextCallback=null,r(l))},this.nextCallback.cancel=function(){o=!1},this.nextCallback},t.onTransitionEnd=function(r,s){this.setNextCallback(s);var o=this.props.nodeRef?this.props.nodeRef.current:Km.findDOMNode(this),l=r==null&&!this.props.addEndListener;if(!o||l){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var a=this.props.nodeRef?[this.nextCallback]:[o,this.nextCallback],u=a[0],m=a[1];this.props.addEndListener(u,m)}r!=null&&setTimeout(this.nextCallback,r)},t.render=function(){var r=this.state.status;if(r===Fy)return null;var s=this.props,o=s.children;s.in,s.mountOnEnter,s.unmountOnExit,s.appear,s.enter,s.exit,s.timeout,s.addEndListener,s.onEnter,s.onEntering,s.onEntered,s.onExit,s.onExiting,s.onExited,s.nodeRef;var l=JD(s,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return We.createElement(iF.Provider,{value:null},typeof o=="function"?o(r,l):We.cloneElement(We.Children.only(o),l))},e})(We.Component);Rf.contextType=iF;Rf.propTypes={};function sv(){}Rf.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:sv,onEntering:sv,onEntered:sv,onExit:sv,onExiting:sv,onExited:sv};Rf.UNMOUNTED=Fy;Rf.EXITED=Cp;Rf.ENTERING=dh;Rf.ENTERED=of;Rf.EXITING=l_;function Q6(n){return n.code==="Escape"||n.keyCode===27}function J6(){const n=Q.version.split(".");return{major:+n[0],minor:+n[1],patch:+n[2]}}function S0(n){if(!n||typeof n=="function")return null;const{major:e}=J6();return e>=19?n.props.ref:n.ref}const mE=!!(typeof window<"u"&&window.document&&window.document.createElement);var _A=!1,bA=!1;try{var rC={get passive(){return _A=!0},get once(){return bA=_A=!0}};mE&&(window.addEventListener("test",rC,rC),window.removeEventListener("test",rC,!0))}catch{}function eH(n,e,t,i){if(i&&typeof i!="boolean"&&!bA){var r=i.once,s=i.capture,o=t;!bA&&r&&(o=t.__once||function l(a){this.removeEventListener(e,l,s),t.call(this,a)},t.__once=o),n.addEventListener(e,o,_A?i:s)}n.addEventListener(e,t,i)}function tH(n,e,t,i){var r=i&&typeof i!="boolean"?i.capture:i;n.removeEventListener(e,t,r),t.__once&&n.removeEventListener(e,t.__once,r)}function $1(n,e,t,i){return eH(n,e,t,i),function(){tH(n,e,t,i)}}function nH(n,e,t,i){if(i===void 0&&(i=!0),n){var r=document.createEvent("HTMLEvents");r.initEvent(e,t,i),n.dispatchEvent(r)}}function iH(n){var e=mf(n,"transitionDuration")||"",t=e.indexOf("ms")===-1?1e3:1;return parseFloat(e)*t}function rH(n,e,t){t===void 0&&(t=5);var i=!1,r=setTimeout(function(){i||nH(n,"transitionend",!0)},e+t),s=$1(n,"transitionend",function(){i=!0},{once:!0});return function(){clearTimeout(r),s()}}function sH(n,e,t,i){t==null&&(t=iH(n)||0);var r=rH(n,t,i),s=$1(n,"transitionend",e);return function(){r(),s()}}function GO(n,e){const t=mf(n,e)||"",i=t.indexOf("ms")===-1?1e3:1;return parseFloat(t)*i}function ZR(n,e){const t=GO(n,"transitionDuration"),i=GO(n,"transitionDelay"),r=sH(n,s=>{s.target===n&&(r(),e(s))},t+i)}function uy(...n){return n.filter(e=>e!=null).reduce((e,t)=>{if(typeof t!="function")throw new Error("Invalid Argument Type, must only provide functions, undefined, or null.");return e===null?t:function(...r){e.apply(this,r),t.apply(this,r)}},null)}function rF(n){n.offsetHeight}const VO=n=>!n||typeof n=="function"?n:e=>{n.current=e};function oH(n,e){const t=VO(n),i=VO(e);return r=>{t&&t(r),i&&i(r)}}function aH(n,e){return Q.useMemo(()=>oH(n,e),[n,e])}function lH(n){return n&&"setState"in n?Km.findDOMNode(n):n??null}const gE=We.forwardRef(({onEnter:n,onEntering:e,onEntered:t,onExit:i,onExiting:r,onExited:s,addEndListener:o,children:l,childRef:a,...u},m)=>{const d=Q.useRef(null),b=aH(d,a),g=P=>{b(lH(P))},_=P=>C=>{P&&d.current&&P(d.current,C)},p=Q.useCallback(_(n),[n]),v=Q.useCallback(_(e),[e]),c=Q.useCallback(_(t),[t]),x=Q.useCallback(_(i),[i]),w=Q.useCallback(_(r),[r]),T=Q.useCallback(_(s),[s]),L=Q.useCallback(_(o),[o]);return Le.jsx(Rf,{ref:m,...u,onEnter:p,onEntered:c,onEntering:v,onExit:x,onExited:T,onExiting:w,addEndListener:L,nodeRef:d,children:typeof l=="function"?(P,C)=>l(P,{...C,ref:g}):We.cloneElement(l,{ref:g})})});gE.displayName="TransitionWrapper";const cH={height:["marginTop","marginBottom"],width:["marginLeft","marginRight"]};function uH(n,e){const t=`offset${n[0].toUpperCase()}${n.slice(1)}`,i=e[t],r=cH[n];return i+parseInt(mf(e,r[0]),10)+parseInt(mf(e,r[1]),10)}const hH={[Cp]:"collapse",[l_]:"collapsing",[dh]:"collapsing",[of]:"collapse show"},sF=We.forwardRef(({onEnter:n,onEntering:e,onEntered:t,onExit:i,onExiting:r,className:s,children:o,dimension:l="height",in:a=!1,timeout:u=300,mountOnEnter:m=!1,unmountOnExit:d=!1,appear:b=!1,getDimensionValue:g=uH,..._},p)=>{const v=typeof l=="function"?l():l,c=Q.useMemo(()=>uy(P=>{P.style[v]="0"},n),[v,n]),x=Q.useMemo(()=>uy(P=>{const C=`scroll${v[0].toUpperCase()}${v.slice(1)}`;P.style[v]=`${P[C]}px`},e),[v,e]),w=Q.useMemo(()=>uy(P=>{P.style[v]=null},t),[v,t]),T=Q.useMemo(()=>uy(P=>{P.style[v]=`${g(v,P)}px`,rF(P)},i),[i,g,v]),L=Q.useMemo(()=>uy(P=>{P.style[v]=null},r),[v,r]);return Le.jsx(gE,{ref:p,addEndListener:ZR,..._,"aria-expanded":_.role?a:null,onEnter:c,onEntering:x,onEntered:w,onExit:T,onExiting:L,childRef:S0(o),in:a,timeout:u,mountOnEnter:m,unmountOnExit:d,appear:b,children:(P,C)=>We.cloneElement(o,{...C,className:la(s,o.props.className,hH[P],v==="width"&&"collapse-horizontal")})})});sF.displayName="Collapse";function dH(n){const e=Q.useRef(n);return Q.useEffect(()=>{e.current=n},[n]),e}function vE(n){const e=dH(n);return Q.useCallback(function(...t){return e.current&&e.current(...t)},[e])}const fH=(n=>Q.forwardRef((e,t)=>Le.jsx("div",{...e,ref:t,className:la(e.className,n)})));function pH(n){const e=Q.useRef(n);return Q.useEffect(()=>{e.current=n},[n]),e}function af(n){const e=pH(n);return Q.useCallback(function(...t){return e.current&&e.current(...t)},[e])}function mH(){const n=Q.useRef(!0),e=Q.useRef(()=>n.current);return Q.useEffect(()=>(n.current=!0,()=>{n.current=!1}),[]),e.current}function gH(n){const e=Q.useRef(null);return Q.useEffect(()=>{e.current=n}),e.current}const vH=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",yH=typeof document<"u",WO=yH||vH?Q.useLayoutEffect:Q.useEffect,_H=["as","disabled"];function bH(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)>=0)continue;t[i]=n[i]}return t}function xH(n){return!n||n.trim()==="#"}function oF({tagName:n,disabled:e,href:t,target:i,rel:r,role:s,onClick:o,tabIndex:l=0,type:a}){n||(t!=null||i!=null||r!=null?n="a":n="button");const u={tagName:n};if(n==="button")return[{type:a||"button",disabled:e},u];const m=b=>{if((e||n==="a"&&xH(t))&&b.preventDefault(),e){b.stopPropagation();return}o?.(b)},d=b=>{b.key===" "&&(b.preventDefault(),m(b))};return n==="a"&&(t||(t="#"),e&&(t=void 0)),[{role:s??"button",disabled:void 0,tabIndex:e?void 0:l,href:t,target:n==="a"?i:void 0,"aria-disabled":e||void 0,rel:n==="a"?r:void 0,onClick:m,onKeyDown:d},u]}const aF=Q.forwardRef((n,e)=>{let{as:t,disabled:i}=n,r=bH(n,_H);const[s,{tagName:o}]=oF(Object.assign({tagName:t,disabled:i},r));return Le.jsx(o,Object.assign({},r,s,{ref:e}))});aF.displayName="Button";const SH=["onKeyDown"];function EH(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)>=0)continue;t[i]=n[i]}return t}function wH(n){return!n||n.trim()==="#"}const lF=Q.forwardRef((n,e)=>{let{onKeyDown:t}=n,i=EH(n,SH);const[r]=oF(Object.assign({tagName:"a"},i)),s=af(o=>{r.onKeyDown(o),t?.(o)});return wH(i.href)||i.role==="button"?Le.jsx("a",Object.assign({ref:e},i,r,{onKeyDown:s})):Le.jsx("a",Object.assign({ref:e},i,{onKeyDown:t}))});lF.displayName="Anchor";const CH={[dh]:"show",[of]:"show"},cF=Q.forwardRef(({className:n,children:e,transitionClasses:t={},onEnter:i,...r},s)=>{const o={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,...r},l=Q.useCallback((a,u)=>{rF(a),i?.(a,u)},[i]);return Le.jsx(gE,{ref:s,addEndListener:ZR,...o,onEnter:l,childRef:S0(e),children:(a,u)=>Q.cloneElement(e,{...u,className:la("fade",n,e.props.className,CH[a],t[a])})})});cF.displayName="Fade";const TH={"aria-label":ei.string,onClick:ei.func,variant:ei.oneOf(["white"])},QR=Q.forwardRef(({className:n,variant:e,"aria-label":t="Close",...i},r)=>Le.jsx("button",{ref:r,type:"button",className:la("btn-close",e&&`btn-close-${e}`,n),"aria-label":t,...i}));QR.displayName="CloseButton";QR.propTypes=TH;const uF=Q.createContext(null);uF.displayName="CardHeaderContext";function AH({as:n,bsPrefix:e,className:t,...i}){e=Il(e,"col");const r=tF(),s=nF(),o=[],l=[];return r.forEach(a=>{const u=i[a];delete i[a];let m,d,b;typeof u=="object"&&u!=null?{span:m,offset:d,order:b}=u:m=u;const g=a!==s?`-${a}`:"";m&&o.push(m===!0?`${e}${g}`:`${e}${g}-${m}`),b!=null&&l.push(`order${g}-${b}`),d!=null&&l.push(`offset${g}-${d}`)}),[{...i,className:la(t,...o,...l)},{as:n,bsPrefix:e,spans:o}]}const Ya=Q.forwardRef((n,e)=>{const[{className:t,...i},{as:r="div",bsPrefix:s,spans:o}]=AH(n);return Le.jsx(r,{...i,ref:e,className:la(t,!o.length&&s)})});Ya.displayName="Col";const hF=Q.forwardRef(({bsPrefix:n,fluid:e=!1,as:t="div",className:i,...r},s)=>{const o=Il(n,"container"),l=typeof e=="string"?`-${e}`:"-fluid";return Le.jsx(t,{ref:s,...r,className:la(i,e?`${o}${l}`:o)})});hF.displayName="Container";var RH=Function.prototype.bind.call(Function.prototype.call,[].slice);function $m(n,e){return RH(n.querySelectorAll(e))}function MH(){const[,n]=Q.useReducer(e=>e+1,0);return n}function jO(n,e){if(n.contains)return n.contains(e);if(n.compareDocumentPosition)return n===e||!!(n.compareDocumentPosition(e)&16)}const H1=Q.createContext(null),JR=(n,e=null)=>n!=null?String(n):e||null,eM=Q.createContext(null);eM.displayName="NavContext";const OH="data-rr-ui-",LH="rrUi";function yE(n){return`${OH}${n}`}function PH(n){return`${LH}${n}`}const dF=Q.createContext(mE?window:void 0);dF.Provider;function tM(){return Q.useContext(dF)}const NH=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",IH=typeof document<"u",DH=IH||NH?Q.useLayoutEffect:Q.useEffect,E0=Q.createContext(null);E0.displayName="NavbarContext";const XO=n=>!n||typeof n=="function"?n:e=>{n.current=e};function FH(n,e){const t=XO(n),i=XO(e);return r=>{t&&t(r),i&&i(r)}}function _E(n,e){return Q.useMemo(()=>FH(n,e),[n,e])}const fF=Q.createContext(null),BH=["as","active","eventKey"];function UH(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)>=0)continue;t[i]=n[i]}return t}function pF({key:n,onClick:e,active:t,id:i,role:r,disabled:s}){const o=Q.useContext(H1),l=Q.useContext(eM),a=Q.useContext(fF);let u=t;const m={role:r};if(l){!r&&l.role==="tablist"&&(m.role="tab");const d=l.getControllerId(n??null),b=l.getControlledId(n??null);m[yE("event-key")]=n,m.id=d||i,u=t==null&&n!=null?l.activeKey===n:t,(u||!(a!=null&&a.unmountOnExit)&&!(a!=null&&a.mountOnEnter))&&(m["aria-controls"]=b)}return m.role==="tab"&&(m["aria-selected"]=u,u||(m.tabIndex=-1),s&&(m.tabIndex=-1,m["aria-disabled"]=!0)),m.onClick=af(d=>{s||(e?.(d),n!=null&&o&&!d.isPropagationStopped()&&o(n,d))}),[m,{isActive:u}]}const mF=Q.forwardRef((n,e)=>{let{as:t=aF,active:i,eventKey:r}=n,s=UH(n,BH);const[o,l]=pF(Object.assign({key:JR(r,s.href),active:i},s));return o[yE("active")]=l.isActive,Le.jsx(t,Object.assign({},s,o,{ref:e}))});mF.displayName="NavItem";const kH=["as","onSelect","activeKey","role","onKeyDown"];function zH(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)>=0)continue;t[i]=n[i]}return t}const qO=()=>{},YO=yE("event-key"),gF=Q.forwardRef((n,e)=>{let{as:t="div",onSelect:i,activeKey:r,role:s,onKeyDown:o}=n,l=zH(n,kH);const a=MH(),u=Q.useRef(!1),m=Q.useContext(H1),d=Q.useContext(fF);let b,g;d&&(s=s||"tablist",r=d.activeKey,b=d.getControlledId,g=d.getControllerId);const _=Q.useRef(null),p=w=>{const T=_.current;if(!T)return null;const L=$m(T,`[${YO}]:not([aria-disabled=true])`),P=T.querySelector("[aria-selected=true]");if(!P||P!==document.activeElement)return null;const C=L.indexOf(P);if(C===-1)return null;let I=C+w;return I>=L.length&&(I=0),I<0&&(I=L.length-1),L[I]},v=(w,T)=>{w!=null&&(i?.(w,T),m?.(w,T))},c=w=>{if(o?.(w),!d)return;let T;switch(w.key){case"ArrowLeft":case"ArrowUp":T=p(-1);break;case"ArrowRight":case"ArrowDown":T=p(1);break;default:return}T&&(w.preventDefault(),v(T.dataset[PH("EventKey")]||null,w),u.current=!0,a())};Q.useEffect(()=>{if(_.current&&u.current){const w=_.current.querySelector(`[${YO}][aria-selected=true]`);w?.focus()}u.current=!1});const x=_E(e,_);return Le.jsx(H1.Provider,{value:v,children:Le.jsx(eM.Provider,{value:{role:s,activeKey:JR(r),getControlledId:b||qO,getControllerId:g||qO},children:Le.jsx(t,Object.assign({},l,{onKeyDown:c,ref:x,role:s}))})})});gF.displayName="Nav";const $H=Object.assign(gF,{Item:mF});function sC(n){n===void 0&&(n=KR());try{var e=n.activeElement;return!e||!e.nodeName?null:e}catch{return n.body}}function HH(n){const e=Q.useRef(n);return e.current=n,e}function GH(n){const e=HH(n);Q.useEffect(()=>()=>e.current(),[])}function VH(n=document){const e=n.defaultView;return Math.abs(e.innerWidth-n.documentElement.clientWidth)}const KO=yE("modal-open");class nM{constructor({ownerDocument:e,handleContainerOverflow:t=!0,isRTL:i=!1}={}){this.handleContainerOverflow=t,this.isRTL=i,this.modals=[],this.ownerDocument=e}getScrollbarWidth(){return VH(this.ownerDocument)}getElement(){return(this.ownerDocument||document).body}setModalAttributes(e){}removeModalAttributes(e){}setContainerStyle(e){const t={overflow:"hidden"},i=this.isRTL?"paddingLeft":"paddingRight",r=this.getElement();e.style={overflow:r.style.overflow,[i]:r.style[i]},e.scrollBarWidth&&(t[i]=`${parseInt(mf(r,i)||"0",10)+e.scrollBarWidth}px`),r.setAttribute(KO,""),mf(r,t)}reset(){[...this.modals].forEach(e=>this.remove(e))}removeContainerStyle(e){const t=this.getElement();t.removeAttribute(KO),Object.assign(t.style,e.style)}add(e){let t=this.modals.indexOf(e);return t!==-1||(t=this.modals.length,this.modals.push(e),this.setModalAttributes(e),t!==0)||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),t}remove(e){const t=this.modals.indexOf(e);t!==-1&&(this.modals.splice(t,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(e))}isTopModal(e){return!!this.modals.length&&this.modals[this.modals.length-1]===e}}const oC=(n,e)=>mE?n==null?(e||KR()).body:(typeof n=="function"&&(n=n()),n&&"current"in n&&(n=n.current),n&&("nodeType"in n||n.getBoundingClientRect)?n:null):null;function WH(n,e){const t=tM(),[i,r]=Q.useState(()=>oC(n,t?.document));if(!i){const s=oC(n);s&&r(s)}return Q.useEffect(()=>{},[e,i]),Q.useEffect(()=>{const s=oC(n);s!==i&&r(s)},[n,i]),i}function jH({children:n,in:e,onExited:t,mountOnEnter:i,unmountOnExit:r}){const s=Q.useRef(null),o=Q.useRef(e),l=af(t);Q.useEffect(()=>{e?o.current=!0:l(s.current)},[e,l]);const a=_E(s,S0(n)),u=Q.cloneElement(n,{ref:a});return e?u:r||!o.current&&i?null:u}const XH=["onEnter","onEntering","onEntered","onExit","onExiting","onExited","addEndListener","children"];function qH(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)>=0)continue;t[i]=n[i]}return t}function YH(n){let{onEnter:e,onEntering:t,onEntered:i,onExit:r,onExiting:s,onExited:o,addEndListener:l,children:a}=n,u=qH(n,XH);const m=Q.useRef(null),d=_E(m,S0(a)),b=T=>L=>{T&&m.current&&T(m.current,L)},g=Q.useCallback(b(e),[e]),_=Q.useCallback(b(t),[t]),p=Q.useCallback(b(i),[i]),v=Q.useCallback(b(r),[r]),c=Q.useCallback(b(s),[s]),x=Q.useCallback(b(o),[o]),w=Q.useCallback(b(l),[l]);return Object.assign({},u,{nodeRef:m},e&&{onEnter:g},t&&{onEntering:_},i&&{onEntered:p},r&&{onExit:v},s&&{onExiting:c},o&&{onExited:x},l&&{addEndListener:w},{children:typeof a=="function"?(T,L)=>a(T,Object.assign({},L,{ref:d})):Q.cloneElement(a,{ref:d})})}const KH=["component"];function ZH(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)>=0)continue;t[i]=n[i]}return t}const QH=Q.forwardRef((n,e)=>{let{component:t}=n,i=ZH(n,KH);const r=YH(i);return Le.jsx(t,Object.assign({ref:e},r))});function JH({in:n,onTransition:e}){const t=Q.useRef(null),i=Q.useRef(!0),r=af(e);return WO(()=>{if(!t.current)return;let s=!1;return r({in:n,element:t.current,initial:i.current,isStale:()=>s}),()=>{s=!0}},[n,r]),WO(()=>(i.current=!1,()=>{i.current=!0}),[]),t}function eG({children:n,in:e,onExited:t,onEntered:i,transition:r}){const[s,o]=Q.useState(!e);e&&s&&o(!1);const l=JH({in:!!e,onTransition:u=>{const m=()=>{u.isStale()||(u.in?i?.(u.element,u.initial):(o(!0),t?.(u.element)))};Promise.resolve(r(u)).then(m,d=>{throw u.in||o(!0),d})}}),a=_E(l,S0(n));return s&&!e?null:Q.cloneElement(n,{ref:a})}function ZO(n,e,t){return n?Le.jsx(QH,Object.assign({},t,{component:n})):e?Le.jsx(eG,Object.assign({},t,{transition:e})):Le.jsx(jH,Object.assign({},t))}const tG=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","runTransition","backdropTransition","runBackdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];function nG(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)>=0)continue;t[i]=n[i]}return t}let aC;function iG(n){return aC||(aC=new nM({ownerDocument:n?.document})),aC}function rG(n){const e=tM(),t=n||iG(e),i=Q.useRef({dialog:null,backdrop:null});return Object.assign(i.current,{add:()=>t.add(i.current),remove:()=>t.remove(i.current),isTopModal:()=>t.isTopModal(i.current),setDialogRef:Q.useCallback(r=>{i.current.dialog=r},[]),setBackdropRef:Q.useCallback(r=>{i.current.backdrop=r},[])})}const vF=Q.forwardRef((n,e)=>{let{show:t=!1,role:i="dialog",className:r,style:s,children:o,backdrop:l=!0,keyboard:a=!0,onBackdropClick:u,onEscapeKeyDown:m,transition:d,runTransition:b,backdropTransition:g,runBackdropTransition:_,autoFocus:p=!0,enforceFocus:v=!0,restoreFocus:c=!0,restoreFocusOptions:x,renderDialog:w,renderBackdrop:T=Bt=>Le.jsx("div",Object.assign({},Bt)),manager:L,container:P,onShow:C,onHide:I=()=>{},onExit:F,onExited:R,onExiting:D,onEnter:G,onEntering:j,onEntered:k}=n,V=nG(n,tG);const H=tM(),te=WH(P),ne=rG(L),he=mH(),ie=gH(t),[ce,Se]=Q.useState(!t),Ee=Q.useRef(null);Q.useImperativeHandle(e,()=>ne,[ne]),mE&&!ie&&t&&(Ee.current=sC(H?.document)),t&&ce&&Se(!1);const me=af(()=>{if(ne.add(),ot.current=$1(document,"keydown",Fe),qe.current=$1(document,"focus",()=>setTimeout(we),!0),C&&C(),p){var Bt,Tt;const zt=sC((Bt=(Tt=ne.dialog)==null?void 0:Tt.ownerDocument)!=null?Bt:H?.document);ne.dialog&&zt&&!jO(ne.dialog,zt)&&(Ee.current=zt,ne.dialog.focus())}}),le=af(()=>{if(ne.remove(),ot.current==null||ot.current(),qe.current==null||qe.current(),c){var Bt;(Bt=Ee.current)==null||Bt.focus==null||Bt.focus(x),Ee.current=null}});Q.useEffect(()=>{!t||!te||me()},[t,te,me]),Q.useEffect(()=>{ce&&le()},[ce,le]),GH(()=>{le()});const we=af(()=>{if(!v||!he()||!ne.isTopModal())return;const Bt=sC(H?.document);ne.dialog&&Bt&&!jO(ne.dialog,Bt)&&ne.dialog.focus()}),Re=af(Bt=>{Bt.target===Bt.currentTarget&&(u?.(Bt),l===!0&&I())}),Fe=af(Bt=>{a&&Q6(Bt)&&ne.isTopModal()&&(m?.(Bt),Bt.defaultPrevented||I())}),qe=Q.useRef(),ot=Q.useRef(),dn=(...Bt)=>{Se(!0),R?.(...Bt)};if(!te)return null;const mn=Object.assign({role:i,ref:ne.setDialogRef,"aria-modal":i==="dialog"?!0:void 0},V,{style:s,className:r,tabIndex:-1});let pn=w?w(mn):Le.jsx("div",Object.assign({},mn,{children:Q.cloneElement(o,{role:"document"})}));pn=ZO(d,b,{unmountOnExit:!0,mountOnEnter:!0,appear:!0,in:!!t,onExit:F,onExiting:D,onExited:dn,onEnter:G,onEntering:j,onEntered:k,children:pn});let Ae=null;return l&&(Ae=T({ref:ne.setBackdropRef,onClick:Re}),Ae=ZO(g,_,{in:!!t,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:Ae})),Le.jsx(Le.Fragment,{children:Km.createPortal(Le.jsxs(Le.Fragment,{children:[Ae,pn]}),te)})});vF.displayName="Modal";const sG=Object.assign(vF,{Manager:nM});function oG(n,e){return n.classList?n.classList.contains(e):(" "+(n.className.baseVal||n.className)+" ").indexOf(" "+e+" ")!==-1}function aG(n,e){n.classList?n.classList.add(e):oG(n,e)||(typeof n.className=="string"?n.className=n.className+" "+e:n.setAttribute("class",(n.className&&n.className.baseVal||"")+" "+e))}function QO(n,e){return n.replace(new RegExp("(^|\\s)"+e+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function lG(n,e){n.classList?n.classList.remove(e):typeof n.className=="string"?n.className=QO(n.className,e):n.setAttribute("class",QO(n.className&&n.className.baseVal||"",e))}const ov={FIXED_CONTENT:".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",STICKY_CONTENT:".sticky-top",NAVBAR_TOGGLER:".navbar-toggler"};class yF extends nM{adjustAndStore(e,t,i){const r=t.style[e];t.dataset[e]=r,mf(t,{[e]:`${parseFloat(mf(t,e))+i}px`})}restore(e,t){const i=t.dataset[e];i!==void 0&&(delete t.dataset[e],mf(t,{[e]:i}))}setContainerStyle(e){super.setContainerStyle(e);const t=this.getElement();if(aG(t,"modal-open"),!e.scrollBarWidth)return;const i=this.isRTL?"paddingLeft":"paddingRight",r=this.isRTL?"marginLeft":"marginRight";$m(t,ov.FIXED_CONTENT).forEach(s=>this.adjustAndStore(i,s,e.scrollBarWidth)),$m(t,ov.STICKY_CONTENT).forEach(s=>this.adjustAndStore(r,s,-e.scrollBarWidth)),$m(t,ov.NAVBAR_TOGGLER).forEach(s=>this.adjustAndStore(r,s,e.scrollBarWidth))}removeContainerStyle(e){super.removeContainerStyle(e);const t=this.getElement();lG(t,"modal-open");const i=this.isRTL?"paddingLeft":"paddingRight",r=this.isRTL?"marginLeft":"marginRight";$m(t,ov.FIXED_CONTENT).forEach(s=>this.restore(i,s)),$m(t,ov.STICKY_CONTENT).forEach(s=>this.restore(r,s)),$m(t,ov.NAVBAR_TOGGLER).forEach(s=>this.restore(r,s))}}let lC;function cG(n){return lC||(lC=new yF(n)),lC}const _F=Q.createContext({onHide(){}}),bF=Q.forwardRef(({closeLabel:n="Close",closeVariant:e,closeButton:t=!1,onHide:i,children:r,...s},o)=>{const l=Q.useContext(_F),a=vE(()=>{l?.onHide(),i?.()});return Le.jsxs("div",{ref:o,...s,children:[r,t&&Le.jsx(QR,{"aria-label":n,variant:e,onClick:a})]})});bF.displayName="AbstractModalHeader";const xF=Q.forwardRef(({className:n,bsPrefix:e,as:t="div",...i},r)=>(e=Il(e,"nav-item"),Le.jsx(t,{ref:r,className:la(n,e),...i})));xF.displayName="NavItem";const SF=Q.forwardRef(({bsPrefix:n,className:e,as:t=lF,active:i,eventKey:r,disabled:s=!1,...o},l)=>{n=Il(n,"nav-link");const[a,u]=pF({key:JR(r,o.href),active:i,disabled:s,...o});return Le.jsx(t,{...o,...a,ref:l,disabled:s,className:la(e,n,s&&"disabled",u.isActive&&"active")})});SF.displayName="NavLink";const EF=Q.forwardRef((n,e)=>{const{as:t="div",bsPrefix:i,variant:r,fill:s=!1,justify:o=!1,navbar:l,navbarScroll:a,className:u,activeKey:m,...d}=eF(n,{activeKey:"onSelect"}),b=Il(i,"nav");let g,_,p=!1;const v=Q.useContext(E0),c=Q.useContext(uF);return v?(g=v.bsPrefix,p=l??!0):c&&({cardHeaderBsPrefix:_}=c),Le.jsx($H,{as:t,ref:e,activeKey:m,className:la(u,{[b]:!p,[`${g}-nav`]:p,[`${g}-nav-scroll`]:p&&a,[`${_}-${r}`]:!!_,[`${b}-${r}`]:!!r,[`${b}-fill`]:s,[`${b}-justified`]:o}),...d})});EF.displayName="Nav";const JO=Object.assign(EF,{Item:xF,Link:SF}),wF=Q.forwardRef(({bsPrefix:n,className:e,as:t,...i},r)=>{n=Il(n,"navbar-brand");const s=t||(i.href?"a":"span");return Le.jsx(s,{...i,ref:r,className:la(e,n)})});wF.displayName="NavbarBrand";const CF=Q.forwardRef(({children:n,bsPrefix:e,...t},i)=>{e=Il(e,"navbar-collapse");const r=Q.useContext(E0);return Le.jsx(sF,{in:!!(r&&r.expanded),...t,children:Le.jsx("div",{ref:i,className:e,children:n})})});CF.displayName="NavbarCollapse";const TF=Q.forwardRef(({bsPrefix:n,className:e,children:t,label:i="Toggle navigation",as:r="button",onClick:s,...o},l)=>{n=Il(n,"navbar-toggler");const{onToggle:a,expanded:u}=Q.useContext(E0)||{},m=vE(d=>{s&&s(d),a&&a()});return r==="button"&&(o.type="button"),Le.jsx(r,{...o,ref:l,onClick:m,"aria-label":i,className:la(e,n,!u&&"collapsed"),children:t||Le.jsx("span",{className:`${n}-icon`})})});TF.displayName="NavbarToggle";const xA=new WeakMap,e3=(n,e)=>{if(!n||!e)return;const t=xA.get(e)||new Map;xA.set(e,t);let i=t.get(n);return i||(i=e.matchMedia(n),i.refCount=0,t.set(i.media,i)),i};function uG(n,e=typeof window>"u"?void 0:window){const t=e3(n,e),[i,r]=Q.useState(()=>t?t.matches:!1);return DH(()=>{let s=e3(n,e);if(!s)return r(!1);let o=xA.get(e);const l=()=>{r(s.matches)};return s.refCount++,s.addListener(l),l(),()=>{s.removeListener(l),s.refCount--,s.refCount<=0&&o?.delete(s.media),s=void 0}},[n]),i}function hG(n){const e=Object.keys(n);function t(l,a){return l===a?a:l?`${l} and ${a}`:a}function i(l){return e[Math.min(e.indexOf(l)+1,e.length-1)]}function r(l){const a=i(l);let u=n[a];return typeof u=="number"?u=`${u-.2}px`:u=`calc(${u} - 0.2px)`,`(max-width: ${u})`}function s(l){let a=n[l];return typeof a=="number"&&(a=`${a}px`),`(min-width: ${a})`}function o(l,a,u){let m;typeof l=="object"?(m=l,u=a,a=!0):(a=a||!0,m={[l]:a});let d=Q.useMemo(()=>Object.entries(m).reduce((b,[g,_])=>((_==="up"||_===!0)&&(b=t(b,s(g))),(_==="down"||_===!0)&&(b=t(b,r(g))),b),""),[JSON.stringify(m)]);return uG(d,u)}return o}const dG=hG({xs:0,sm:576,md:768,lg:992,xl:1200,xxl:1400}),AF=Q.forwardRef(({className:n,bsPrefix:e,as:t="div",...i},r)=>(e=Il(e,"offcanvas-body"),Le.jsx(t,{ref:r,className:la(n,e),...i})));AF.displayName="OffcanvasBody";const fG={[dh]:"show",[of]:"show"},RF=Q.forwardRef(({bsPrefix:n,className:e,children:t,in:i=!1,mountOnEnter:r=!1,unmountOnExit:s=!1,appear:o=!1,...l},a)=>(n=Il(n,"offcanvas"),Le.jsx(gE,{ref:a,addEndListener:ZR,in:i,mountOnEnter:r,unmountOnExit:s,appear:o,...l,childRef:S0(t),children:(u,m)=>Q.cloneElement(t,{...m,className:la(e,t.props.className,(u===dh||u===l_)&&`${n}-toggling`,fG[u])})})));RF.displayName="OffcanvasToggling";const MF=Q.forwardRef(({bsPrefix:n,className:e,closeLabel:t="Close",closeButton:i=!1,...r},s)=>(n=Il(n,"offcanvas-header"),Le.jsx(bF,{ref:s,...r,className:la(e,n),closeLabel:t,closeButton:i})));MF.displayName="OffcanvasHeader";const pG=fH("h5"),OF=Q.forwardRef(({className:n,bsPrefix:e,as:t=pG,...i},r)=>(e=Il(e,"offcanvas-title"),Le.jsx(t,{ref:r,className:la(n,e),...i})));OF.displayName="OffcanvasTitle";function mG(n){return Le.jsx(RF,{...n})}function gG(n){return Le.jsx(cF,{...n})}const LF=Q.forwardRef(({bsPrefix:n,className:e,children:t,"aria-labelledby":i,placement:r="start",responsive:s,show:o=!1,backdrop:l=!0,keyboard:a=!0,scroll:u=!1,onEscapeKeyDown:m,onShow:d,onHide:b,container:g,autoFocus:_=!0,enforceFocus:p=!0,restoreFocus:v=!0,restoreFocusOptions:c,onEntered:x,onExit:w,onExiting:T,onEnter:L,onEntering:P,onExited:C,backdropClassName:I,manager:F,renderStaticNode:R=!1,...D},G)=>{const j=Q.useRef();n=Il(n,"offcanvas");const[k,V]=Q.useState(!1),H=vE(b),te=dG(s||"xs","up");Q.useEffect(()=>{V(s?o&&!te:o)},[o,s,te]);const ne=Q.useMemo(()=>({onHide:H}),[H]);function he(){return F||(u?(j.current||(j.current=new yF({handleContainerOverflow:!1})),j.current):cG())}const ie=(me,...le)=>{me&&(me.style.visibility="visible"),L?.(me,...le)},ce=(me,...le)=>{me&&(me.style.visibility=""),C?.(...le)},Se=Q.useCallback(me=>Le.jsx("div",{...me,className:la(`${n}-backdrop`,I)}),[I,n]),Ee=me=>Le.jsx("div",{...me,...D,className:la(e,s?`${n}-${s}`:n,`${n}-${r}`),"aria-labelledby":i,children:t});return Le.jsxs(Le.Fragment,{children:[!k&&(s||R)&&Ee({}),Le.jsx(_F.Provider,{value:ne,children:Le.jsx(sG,{show:k,ref:G,backdrop:l,container:g,keyboard:a,autoFocus:_,enforceFocus:p&&!u,restoreFocus:v,restoreFocusOptions:c,onEscapeKeyDown:m,onShow:d,onHide:H,onEnter:ie,onEntering:P,onEntered:x,onExit:w,onExiting:T,onExited:ce,manager:he(),transition:mG,backdropTransition:gG,renderBackdrop:Se,renderDialog:Ee})})]})});LF.displayName="Offcanvas";const vG=Object.assign(LF,{Body:AF,Header:MF,Title:OF}),PF=Q.forwardRef(({onHide:n,...e},t)=>{const i=Q.useContext(E0),r=vE(()=>{i==null||i.onToggle==null||i.onToggle(),n?.()});return Le.jsx(vG,{ref:t,show:!!(i!=null&&i.expanded),...e,renderStaticNode:!0,onHide:r})});PF.displayName="NavbarOffcanvas";const NF=Q.forwardRef(({className:n,bsPrefix:e,as:t="span",...i},r)=>(e=Il(e,"navbar-text"),Le.jsx(t,{ref:r,className:la(n,e),...i})));NF.displayName="NavbarText";const IF=Q.forwardRef((n,e)=>{const{bsPrefix:t,expand:i=!0,variant:r="light",bg:s,fixed:o,sticky:l,className:a,as:u="nav",expanded:m,onToggle:d,onSelect:b,collapseOnSelect:g=!1,..._}=eF(n,{expanded:"onToggle"}),p=Il(t,"navbar"),v=Q.useCallback((...w)=>{b?.(...w),g&&m&&d?.(!1)},[b,g,m,d]);_.role===void 0&&u!=="nav"&&(_.role="navigation");let c=`${p}-expand`;typeof i=="string"&&(c=`${c}-${i}`);const x=Q.useMemo(()=>({onToggle:()=>d?.(!m),bsPrefix:p,expanded:!!m,expand:i}),[p,m,i,d]);return Le.jsx(E0.Provider,{value:x,children:Le.jsx(H1.Provider,{value:v,children:Le.jsx(u,{ref:e,..._,className:la(a,p,i&&c,r&&`${p}-${r}`,s&&`bg-${s}`,l&&`sticky-${l}`,o&&`fixed-${o}`)})})})});IF.displayName="Navbar";const cC=Object.assign(IF,{Brand:wF,Collapse:CF,Offcanvas:PF,Text:NF,Toggle:TF}),dl=Q.forwardRef(({bsPrefix:n,className:e,as:t="div",...i},r)=>{const s=Il(n,"row"),o=tF(),l=nF(),a=`${s}-cols`,u=[];return o.forEach(m=>{const d=i[m];delete i[m];let b;d!=null&&typeof d=="object"?{cols:b}=d:b=d;const g=m!==l?`-${m}`:"";b!=null&&u.push(`${a}${g}-${b}`)}),Le.jsx(t,{ref:r,...i,className:la(e,s,...u)})});dl.displayName="Row";var yG=["color","size","title","className"];function SA(){return SA=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},SA.apply(null,arguments)}function _G(n,e){if(n==null)return{};var t,i,r=bG(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)t=s[i],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(r[t]=n[t])}return r}function bG(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)!==-1)continue;t[i]=n[i]}return t}var DF=Q.forwardRef(function(n,e){var t=n.color,i=t===void 0?"currentColor":t,r=n.size,s=r===void 0?"1em":r,o=n.title,l=o===void 0?null:o,a=n.className,u=a===void 0?"":a,m=_G(n,yG);return We.createElement("svg",SA({ref:e,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:s,height:s,fill:i,className:["bi","bi-github",u].filter(Boolean).join(" ")},m),l?We.createElement("title",null,l):null,We.createElement("path",{d:"M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27s1.36.09 2 .27c1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.01 8.01 0 0 0 16 8c0-4.42-3.58-8-8-8"}))});DF.propTypes={color:ei.string,size:ei.oneOfType([ei.string,ei.number]),title:ei.string,className:ei.string};var xG=["color","size","title","className"];function EA(){return EA=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},EA.apply(null,arguments)}function SG(n,e){if(n==null)return{};var t,i,r=EG(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)t=s[i],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(r[t]=n[t])}return r}function EG(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)!==-1)continue;t[i]=n[i]}return t}var FF=Q.forwardRef(function(n,e){var t=n.color,i=t===void 0?"currentColor":t,r=n.size,s=r===void 0?"1em":r,o=n.title,l=o===void 0?null:o,a=n.className,u=a===void 0?"":a,m=SG(n,xG);return We.createElement("svg",EA({ref:e,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:s,height:s,fill:i,className:["bi","bi-globe2",u].filter(Boolean).join(" ")},m),l?We.createElement("title",null,l):null,We.createElement("path",{d:"M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8m7.5-6.923c-.67.204-1.335.82-1.887 1.855q-.215.403-.395.872c.705.157 1.472.257 2.282.287zM4.249 3.539q.214-.577.481-1.078a7 7 0 0 1 .597-.933A7 7 0 0 0 3.051 3.05q.544.277 1.198.49zM3.509 7.5c.036-1.07.188-2.087.436-3.008a9 9 0 0 1-1.565-.667A6.96 6.96 0 0 0 1.018 7.5zm1.4-2.741a12.3 12.3 0 0 0-.4 2.741H7.5V5.091c-.91-.03-1.783-.145-2.591-.332M8.5 5.09V7.5h2.99a12.3 12.3 0 0 0-.399-2.741c-.808.187-1.681.301-2.591.332zM4.51 8.5c.035.987.176 1.914.399 2.741A13.6 13.6 0 0 1 7.5 10.91V8.5zm3.99 0v2.409c.91.03 1.783.145 2.591.332.223-.827.364-1.754.4-2.741zm-3.282 3.696q.18.469.395.872c.552 1.035 1.218 1.65 1.887 1.855V11.91c-.81.03-1.577.13-2.282.287zm.11 2.276a7 7 0 0 1-.598-.933 9 9 0 0 1-.481-1.079 8.4 8.4 0 0 0-1.198.49 7 7 0 0 0 2.276 1.522zm-1.383-2.964A13.4 13.4 0 0 1 3.508 8.5h-2.49a6.96 6.96 0 0 0 1.362 3.675c.47-.258.995-.482 1.565-.667m6.728 2.964a7 7 0 0 0 2.275-1.521 8.4 8.4 0 0 0-1.197-.49 9 9 0 0 1-.481 1.078 7 7 0 0 1-.597.933M8.5 11.909v3.014c.67-.204 1.335-.82 1.887-1.855q.216-.403.395-.872A12.6 12.6 0 0 0 8.5 11.91zm3.555-.401c.57.185 1.095.409 1.565.667A6.96 6.96 0 0 0 14.982 8.5h-2.49a13.4 13.4 0 0 1-.437 3.008M14.982 7.5a6.96 6.96 0 0 0-1.362-3.675c-.47.258-.995.482-1.565.667.248.92.4 1.938.437 3.008zM11.27 2.461q.266.502.482 1.078a8.4 8.4 0 0 0 1.196-.49 7 7 0 0 0-2.275-1.52c.218.283.418.597.597.932m-.488 1.343a8 8 0 0 0-.395-.872C9.835 1.897 9.17 1.282 8.5 1.077V4.09c.81-.03 1.577-.13 2.282-.287z"}))});FF.propTypes={color:ei.string,size:ei.oneOfType([ei.string,ei.number]),title:ei.string,className:ei.string};var wG=["color","size","title","className"];function wA(){return wA=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},wA.apply(null,arguments)}function CG(n,e){if(n==null)return{};var t,i,r=TG(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)t=s[i],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(r[t]=n[t])}return r}function TG(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)!==-1)continue;t[i]=n[i]}return t}var BF=Q.forwardRef(function(n,e){var t=n.color,i=t===void 0?"currentColor":t,r=n.size,s=r===void 0?"1em":r,o=n.title,l=o===void 0?null:o,a=n.className,u=a===void 0?"":a,m=CG(n,wG);return We.createElement("svg",wA({ref:e,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:s,height:s,fill:i,className:["bi","bi-linkedin",u].filter(Boolean).join(" ")},m),l?We.createElement("title",null,l):null,We.createElement("path",{d:"M0 1.146C0 .513.526 0 1.175 0h13.65C15.474 0 16 .513 16 1.146v13.708c0 .633-.526 1.146-1.175 1.146H1.175C.526 16 0 15.487 0 14.854zm4.943 12.248V6.169H2.542v7.225zm-1.2-8.212c.837 0 1.358-.554 1.358-1.248-.015-.709-.52-1.248-1.342-1.248S2.4 3.226 2.4 3.934c0 .694.521 1.248 1.327 1.248zm4.908 8.212V9.359c0-.216.016-.432.08-.586.173-.431.568-.878 1.232-.878.869 0 1.216.662 1.216 1.634v3.865h2.401V9.25c0-2.22-1.184-3.252-2.764-3.252-1.274 0-1.845.7-2.165 1.193v.025h-.016l.016-.025V6.169h-2.4c.03.678 0 7.225 0 7.225z"}))});BF.propTypes={color:ei.string,size:ei.oneOfType([ei.string,ei.number]),title:ei.string,className:ei.string};var uC,t3;function AG(){if(t3)return uC;t3=1;function n(l){return l&&typeof l=="object"&&"default"in l?l.default:l}var e=Sg(),t=n(e);function i(l,a,u){return a in l?Object.defineProperty(l,a,{value:u,enumerable:!0,configurable:!0,writable:!0}):l[a]=u,l}function r(l,a){l.prototype=Object.create(a.prototype),l.prototype.constructor=l,l.__proto__=a}var s=!!(typeof window<"u"&&window.document&&window.document.createElement);function o(l,a,u){if(typeof l!="function")throw new Error("Expected reducePropsToState to be a function.");if(typeof a!="function")throw new Error("Expected handleStateChangeOnClient to be a function.");if(typeof u<"u"&&typeof u!="function")throw new Error("Expected mapStateOnServer to either be undefined or a function.");function m(d){return d.displayName||d.name||"Component"}return function(b){if(typeof b!="function")throw new Error("Expected WrappedComponent to be a React component.");var g=[],_;function p(){_=l(g.map(function(c){return c.props})),v.canUseDOM?a(_):u&&(_=u(_))}var v=(function(c){r(x,c);function x(){return c.apply(this,arguments)||this}x.peek=function(){return _},x.rewind=function(){if(x.canUseDOM)throw new Error("You may only call rewind() on the server. Call peek() to read the current state.");var L=_;return _=void 0,g=[],L};var w=x.prototype;return w.UNSAFE_componentWillMount=function(){g.push(this),p()},w.componentDidUpdate=function(){p()},w.componentWillUnmount=function(){var L=g.indexOf(this);g.splice(L,1),p()},w.render=function(){return t.createElement(b,this.props)},x})(e.PureComponent);return i(v,"displayName","SideEffect("+m(b)+")"),i(v,"canUseDOM",s),v}}return uC=o,uC}var RG=AG();const MG=zu(RG);var hC,n3;function OG(){if(n3)return hC;n3=1;var n=typeof Element<"u",e=typeof Map=="function",t=typeof Set=="function",i=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function r(s,o){if(s===o)return!0;if(s&&o&&typeof s=="object"&&typeof o=="object"){if(s.constructor!==o.constructor)return!1;var l,a,u;if(Array.isArray(s)){if(l=s.length,l!=o.length)return!1;for(a=l;a--!==0;)if(!r(s[a],o[a]))return!1;return!0}var m;if(e&&s instanceof Map&&o instanceof Map){if(s.size!==o.size)return!1;for(m=s.entries();!(a=m.next()).done;)if(!o.has(a.value[0]))return!1;for(m=s.entries();!(a=m.next()).done;)if(!r(a.value[1],o.get(a.value[0])))return!1;return!0}if(t&&s instanceof Set&&o instanceof Set){if(s.size!==o.size)return!1;for(m=s.entries();!(a=m.next()).done;)if(!o.has(a.value[0]))return!1;return!0}if(i&&ArrayBuffer.isView(s)&&ArrayBuffer.isView(o)){if(l=s.length,l!=o.length)return!1;for(a=l;a--!==0;)if(s[a]!==o[a])return!1;return!0}if(s.constructor===RegExp)return s.source===o.source&&s.flags===o.flags;if(s.valueOf!==Object.prototype.valueOf&&typeof s.valueOf=="function"&&typeof o.valueOf=="function")return s.valueOf()===o.valueOf();if(s.toString!==Object.prototype.toString&&typeof s.toString=="function"&&typeof o.toString=="function")return s.toString()===o.toString();if(u=Object.keys(s),l=u.length,l!==Object.keys(o).length)return!1;for(a=l;a--!==0;)if(!Object.prototype.hasOwnProperty.call(o,u[a]))return!1;if(n&&s instanceof Element)return!1;for(a=l;a--!==0;)if(!((u[a]==="_owner"||u[a]==="__v"||u[a]==="__o")&&s.$$typeof)&&!r(s[u[a]],o[u[a]]))return!1;return!0}return s!==s&&o!==o}return hC=function(o,l){try{return r(o,l)}catch(a){if((a.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw a}},hC}var LG=OG();const PG=zu(LG);/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var dC,i3;function NG(){if(i3)return dC;i3=1;var n=Object.getOwnPropertySymbols,e=Object.prototype.hasOwnProperty,t=Object.prototype.propertyIsEnumerable;function i(s){if(s==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(s)}function r(){try{if(!Object.assign)return!1;var s=new String("abc");if(s[5]="de",Object.getOwnPropertyNames(s)[0]==="5")return!1;for(var o={},l=0;l<10;l++)o["_"+String.fromCharCode(l)]=l;var a=Object.getOwnPropertyNames(o).map(function(m){return o[m]});if(a.join("")!=="0123456789")return!1;var u={};return"abcdefghijklmnopqrst".split("").forEach(function(m){u[m]=m}),Object.keys(Object.assign({},u)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}return dC=r()?Object.assign:function(s,o){for(var l,a=i(s),u,m=1;m<arguments.length;m++){l=Object(arguments[m]);for(var d in l)e.call(l,d)&&(a[d]=l[d]);if(n){u=n(l);for(var b=0;b<u.length;b++)t.call(l,u[b])&&(a[u[b]]=l[u[b]])}}return a},dC}var IG=NG();const DG=zu(IG);var lg={BODY:"bodyAttributes",HTML:"htmlAttributes",TITLE:"titleAttributes"},lr={BASE:"base",BODY:"body",HEAD:"head",HTML:"html",LINK:"link",META:"meta",NOSCRIPT:"noscript",SCRIPT:"script",STYLE:"style",TITLE:"title"};Object.keys(lr).map(function(n){return lr[n]});var yo={CHARSET:"charset",CSS_TEXT:"cssText",HREF:"href",HTTPEQUIV:"http-equiv",INNER_HTML:"innerHTML",ITEM_PROP:"itemprop",NAME:"name",PROPERTY:"property",REL:"rel",SRC:"src",TARGET:"target"},G1={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},c_={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate"},FG=Object.keys(G1).reduce(function(n,e){return n[G1[e]]=e,n},{}),BG=[lr.NOSCRIPT,lr.SCRIPT,lr.STYLE],ph="data-react-helmet",UG=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},kG=function(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")},zG=(function(){function n(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,i){return t&&n(e.prototype,t),i&&n(e,i),e}})(),Mc=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},$G=function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(n,e):n.__proto__=e)},r3=function(n,e){var t={};for(var i in n)e.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i]);return t},HG=function(n,e){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:n},CA=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return t===!1?String(e):String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")},GG=function(e){var t=Xv(e,lr.TITLE),i=Xv(e,c_.TITLE_TEMPLATE);if(i&&t)return i.replace(/%s/g,function(){return Array.isArray(t)?t.join(""):t});var r=Xv(e,c_.DEFAULT_TITLE);return t||r||void 0},VG=function(e){return Xv(e,c_.ON_CHANGE_CLIENT_STATE)||function(){}},fC=function(e,t){return t.filter(function(i){return typeof i[e]<"u"}).map(function(i){return i[e]}).reduce(function(i,r){return Mc({},i,r)},{})},WG=function(e,t){return t.filter(function(i){return typeof i[lr.BASE]<"u"}).map(function(i){return i[lr.BASE]}).reverse().reduce(function(i,r){if(!i.length)for(var s=Object.keys(r),o=0;o<s.length;o++){var l=s[o],a=l.toLowerCase();if(e.indexOf(a)!==-1&&r[a])return i.concat(r)}return i},[])},hy=function(e,t,i){var r={};return i.filter(function(s){return Array.isArray(s[e])?!0:(typeof s[e]<"u"&&YG("Helmet: "+e+' should be of type "Array". Instead found type "'+UG(s[e])+'"'),!1)}).map(function(s){return s[e]}).reverse().reduce(function(s,o){var l={};o.filter(function(b){for(var g=void 0,_=Object.keys(b),p=0;p<_.length;p++){var v=_[p],c=v.toLowerCase();t.indexOf(c)!==-1&&!(g===yo.REL&&b[g].toLowerCase()==="canonical")&&!(c===yo.REL&&b[c].toLowerCase()==="stylesheet")&&(g=c),t.indexOf(v)!==-1&&(v===yo.INNER_HTML||v===yo.CSS_TEXT||v===yo.ITEM_PROP)&&(g=v)}if(!g||!b[g])return!1;var x=b[g].toLowerCase();return r[g]||(r[g]={}),l[g]||(l[g]={}),r[g][x]?!1:(l[g][x]=!0,!0)}).reverse().forEach(function(b){return s.push(b)});for(var a=Object.keys(l),u=0;u<a.length;u++){var m=a[u],d=DG({},r[m],l[m]);r[m]=d}return s},[]).reverse()},Xv=function(e,t){for(var i=e.length-1;i>=0;i--){var r=e[i];if(r.hasOwnProperty(t))return r[t]}return null},jG=function(e){return{baseTag:WG([yo.HREF,yo.TARGET],e),bodyAttributes:fC(lg.BODY,e),defer:Xv(e,c_.DEFER),encode:Xv(e,c_.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:fC(lg.HTML,e),linkTags:hy(lr.LINK,[yo.REL,yo.HREF],e),metaTags:hy(lr.META,[yo.NAME,yo.CHARSET,yo.HTTPEQUIV,yo.PROPERTY,yo.ITEM_PROP],e),noscriptTags:hy(lr.NOSCRIPT,[yo.INNER_HTML],e),onChangeClientState:VG(e),scriptTags:hy(lr.SCRIPT,[yo.SRC,yo.INNER_HTML],e),styleTags:hy(lr.STYLE,[yo.CSS_TEXT],e),title:GG(e),titleAttributes:fC(lg.TITLE,e)}},TA=(function(){var n=Date.now();return function(e){var t=Date.now();t-n>16?(n=t,e(t)):setTimeout(function(){TA(e)},0)}})(),s3=function(e){return clearTimeout(e)},XG=typeof window<"u"?window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||TA:global.requestAnimationFrame||TA,qG=typeof window<"u"?window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||s3:global.cancelAnimationFrame||s3,YG=function(e){return console&&typeof console.warn=="function"&&console.warn(e)},dy=null,KG=function(e){dy&&qG(dy),e.defer?dy=XG(function(){o3(e,function(){dy=null})}):(o3(e),dy=null)},o3=function(e,t){var i=e.baseTag,r=e.bodyAttributes,s=e.htmlAttributes,o=e.linkTags,l=e.metaTags,a=e.noscriptTags,u=e.onChangeClientState,m=e.scriptTags,d=e.styleTags,b=e.title,g=e.titleAttributes;AA(lr.BODY,r),AA(lr.HTML,s),ZG(b,g);var _={baseTag:av(lr.BASE,i),linkTags:av(lr.LINK,o),metaTags:av(lr.META,l),noscriptTags:av(lr.NOSCRIPT,a),scriptTags:av(lr.SCRIPT,m),styleTags:av(lr.STYLE,d)},p={},v={};Object.keys(_).forEach(function(c){var x=_[c],w=x.newTags,T=x.oldTags;w.length&&(p[c]=w),T.length&&(v[c]=_[c].oldTags)}),t&&t(),u(e,p,v)},UF=function(e){return Array.isArray(e)?e.join(""):e},ZG=function(e,t){typeof e<"u"&&document.title!==e&&(document.title=UF(e)),AA(lr.TITLE,t)},AA=function(e,t){var i=document.getElementsByTagName(e)[0];if(i){for(var r=i.getAttribute(ph),s=r?r.split(","):[],o=[].concat(s),l=Object.keys(t),a=0;a<l.length;a++){var u=l[a],m=t[u]||"";i.getAttribute(u)!==m&&i.setAttribute(u,m),s.indexOf(u)===-1&&s.push(u);var d=o.indexOf(u);d!==-1&&o.splice(d,1)}for(var b=o.length-1;b>=0;b--)i.removeAttribute(o[b]);s.length===o.length?i.removeAttribute(ph):i.getAttribute(ph)!==l.join(",")&&i.setAttribute(ph,l.join(","))}},av=function(e,t){var i=document.head||document.querySelector(lr.HEAD),r=i.querySelectorAll(e+"["+ph+"]"),s=Array.prototype.slice.call(r),o=[],l=void 0;return t&&t.length&&t.forEach(function(a){var u=document.createElement(e);for(var m in a)if(a.hasOwnProperty(m))if(m===yo.INNER_HTML)u.innerHTML=a.innerHTML;else if(m===yo.CSS_TEXT)u.styleSheet?u.styleSheet.cssText=a.cssText:u.appendChild(document.createTextNode(a.cssText));else{var d=typeof a[m]>"u"?"":a[m];u.setAttribute(m,d)}u.setAttribute(ph,"true"),s.some(function(b,g){return l=g,u.isEqualNode(b)})?s.splice(l,1):o.push(u)}),s.forEach(function(a){return a.parentNode.removeChild(a)}),o.forEach(function(a){return i.appendChild(a)}),{oldTags:s,newTags:o}},kF=function(e){return Object.keys(e).reduce(function(t,i){var r=typeof e[i]<"u"?i+'="'+e[i]+'"':""+i;return t?t+" "+r:r},"")},QG=function(e,t,i,r){var s=kF(i),o=UF(t);return s?"<"+e+" "+ph+'="true" '+s+">"+CA(o,r)+"</"+e+">":"<"+e+" "+ph+'="true">'+CA(o,r)+"</"+e+">"},JG=function(e,t,i){return t.reduce(function(r,s){var o=Object.keys(s).filter(function(u){return!(u===yo.INNER_HTML||u===yo.CSS_TEXT)}).reduce(function(u,m){var d=typeof s[m]>"u"?m:m+'="'+CA(s[m],i)+'"';return u?u+" "+d:d},""),l=s.innerHTML||s.cssText||"",a=BG.indexOf(e)===-1;return r+"<"+e+" "+ph+'="true" '+o+(a?"/>":">"+l+"</"+e+">")},"")},zF=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(e).reduce(function(i,r){return i[G1[r]||r]=e[r],i},t)},eV=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(e).reduce(function(i,r){return i[FG[r]||r]=e[r],i},t)},tV=function(e,t,i){var r,s=(r={key:t},r[ph]=!0,r),o=zF(i,s);return[We.createElement(lr.TITLE,o,t)]},nV=function(e,t){return t.map(function(i,r){var s,o=(s={key:r},s[ph]=!0,s);return Object.keys(i).forEach(function(l){var a=G1[l]||l;if(a===yo.INNER_HTML||a===yo.CSS_TEXT){var u=i.innerHTML||i.cssText;o.dangerouslySetInnerHTML={__html:u}}else o[a]=i[l]}),We.createElement(e,o)})},jd=function(e,t,i){switch(e){case lr.TITLE:return{toComponent:function(){return tV(e,t.title,t.titleAttributes)},toString:function(){return QG(e,t.title,t.titleAttributes,i)}};case lg.BODY:case lg.HTML:return{toComponent:function(){return zF(t)},toString:function(){return kF(t)}};default:return{toComponent:function(){return nV(e,t)},toString:function(){return JG(e,t,i)}}}},$F=function(e){var t=e.baseTag,i=e.bodyAttributes,r=e.encode,s=e.htmlAttributes,o=e.linkTags,l=e.metaTags,a=e.noscriptTags,u=e.scriptTags,m=e.styleTags,d=e.title,b=d===void 0?"":d,g=e.titleAttributes;return{base:jd(lr.BASE,t,r),bodyAttributes:jd(lg.BODY,i,r),htmlAttributes:jd(lg.HTML,s,r),link:jd(lr.LINK,o,r),meta:jd(lr.META,l,r),noscript:jd(lr.NOSCRIPT,a,r),script:jd(lr.SCRIPT,u,r),style:jd(lr.STYLE,m,r),title:jd(lr.TITLE,{title:b,titleAttributes:g},r)}},iV=function(e){var t,i;return i=t=(function(r){$G(s,r);function s(){return kG(this,s),HG(this,r.apply(this,arguments))}return s.prototype.shouldComponentUpdate=function(l){return!PG(this.props,l)},s.prototype.mapNestedChildrenToProps=function(l,a){if(!a)return null;switch(l.type){case lr.SCRIPT:case lr.NOSCRIPT:return{innerHTML:a};case lr.STYLE:return{cssText:a}}throw new Error("<"+l.type+" /> elements are self-closing and can not contain children. Refer to our API for more information.")},s.prototype.flattenArrayTypeChildren=function(l){var a,u=l.child,m=l.arrayTypeChildren,d=l.newChildProps,b=l.nestedChildren;return Mc({},m,(a={},a[u.type]=[].concat(m[u.type]||[],[Mc({},d,this.mapNestedChildrenToProps(u,b))]),a))},s.prototype.mapObjectTypeChildren=function(l){var a,u,m=l.child,d=l.newProps,b=l.newChildProps,g=l.nestedChildren;switch(m.type){case lr.TITLE:return Mc({},d,(a={},a[m.type]=g,a.titleAttributes=Mc({},b),a));case lr.BODY:return Mc({},d,{bodyAttributes:Mc({},b)});case lr.HTML:return Mc({},d,{htmlAttributes:Mc({},b)})}return Mc({},d,(u={},u[m.type]=Mc({},b),u))},s.prototype.mapArrayTypeChildrenToProps=function(l,a){var u=Mc({},a);return Object.keys(l).forEach(function(m){var d;u=Mc({},u,(d={},d[m]=l[m],d))}),u},s.prototype.warnOnInvalidChildren=function(l,a){return!0},s.prototype.mapChildrenToProps=function(l,a){var u=this,m={};return We.Children.forEach(l,function(d){if(!(!d||!d.props)){var b=d.props,g=b.children,_=r3(b,["children"]),p=eV(_);switch(u.warnOnInvalidChildren(d,g),d.type){case lr.LINK:case lr.META:case lr.NOSCRIPT:case lr.SCRIPT:case lr.STYLE:m=u.flattenArrayTypeChildren({child:d,arrayTypeChildren:m,newChildProps:p,nestedChildren:g});break;default:a=u.mapObjectTypeChildren({child:d,newProps:a,newChildProps:p,nestedChildren:g});break}}}),a=this.mapArrayTypeChildrenToProps(m,a),a},s.prototype.render=function(){var l=this.props,a=l.children,u=r3(l,["children"]),m=Mc({},u);return a&&(m=this.mapChildrenToProps(a,m)),We.createElement(e,m)},zG(s,null,[{key:"canUseDOM",set:function(l){e.canUseDOM=l}}]),s})(We.Component),t.propTypes={base:ei.object,bodyAttributes:ei.object,children:ei.oneOfType([ei.arrayOf(ei.node),ei.node]),defaultTitle:ei.string,defer:ei.bool,encodeSpecialCharacters:ei.bool,htmlAttributes:ei.object,link:ei.arrayOf(ei.object),meta:ei.arrayOf(ei.object),noscript:ei.arrayOf(ei.object),onChangeClientState:ei.func,script:ei.arrayOf(ei.object),style:ei.arrayOf(ei.object),title:ei.string,titleAttributes:ei.object,titleTemplate:ei.string},t.defaultProps={defer:!0,encodeSpecialCharacters:!0},t.peek=e.peek,t.rewind=function(){var r=e.rewind();return r||(r=$F({baseTag:[],bodyAttributes:{},htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}})),r},i},rV=function(){return null},sV=MG(jG,KG,$F)(rV),RA=iV(sV);RA.renderStatic=RA.rewind;const Zm="generated",u_="pointerdown",oV="pointerup",MA="pointerleave",aV="pointerout",pg="pointermove",h_="touchstart",a3="touchend",lV="touchmove",cV="touchcancel",uV="resize",hV="visibilitychange",Za="tsParticles - Error",Sr=100,_r=.5,Ps=1e3,xa={x:0,y:0,z:0},nx={a:1,b:0,c:0,d:1},i0="random",M1="mid",Ka=2,HF=Math.PI*Ka,pC=60,dV=1,GF="true",l3="false",mC="canvas",c3=0,lf=2,u3=4,fV=1,h3=1,d3=1,pV=4,VF=1,O1=255,Qm=360,OA=100,LA=100,f3=0,PA=0,mV=60,gV=0,V1=.25,p3=_r+V1,m3=0,vV=1,yV=0,_V=0,bV=1,iM=1,xV=1,g3=1,W1=0,WF=1,SV=0,EV=120,wV=0,CV=0,TV=1e4,AV=0,RV=1,d_=0,jF=1,MV=1,OV=0,v3=1,LV=0,PV=0,y3=-V1,_3=1.5,b3=0,NV=1,IV=0,NA=0,XF=1,DV=1,j1=1,FV=500,x3=50,qF=0,IA=1,YF=0,S3=1,BV=0,Sm=255,gC=3,vC=6,UV=1,kV=1,zV=0,$V=0,HV=0,GV=0;var hl;(function(n){n.bottom="bottom",n.bottomLeft="bottom-left",n.bottomRight="bottom-right",n.left="left",n.none="none",n.right="right",n.top="top",n.topLeft="top-left",n.topRight="top-right",n.outside="outside",n.inside="inside"})(hl||(hl={}));function KF(n){return typeof n=="boolean"}function dc(n){return typeof n=="string"}function vl(n){return typeof n=="number"}function bE(n){return typeof n=="function"}function Lp(n){return typeof n=="object"&&n!==null}function Da(n){return Array.isArray(n)}function Lt(n){return n==null}class eu{constructor(e,t,i){if(this._updateFromAngle=(r,s)=>{this.x=Math.cos(r)*s,this.y=Math.sin(r)*s},!vl(e)&&e){this.x=e.x,this.y=e.y;const r=e;this.z=r.z?r.z:xa.z}else if(e!==void 0&&t!==void 0)this.x=e,this.y=t,this.z=i??xa.z;else throw new Error(`${Za} Vector3d not initialized correctly`)}static get origin(){return eu.create(xa.x,xa.y,xa.z)}get angle(){return Math.atan2(this.y,this.x)}set angle(e){this._updateFromAngle(e,this.length)}get length(){return Math.sqrt(this.getLengthSq())}set length(e){this._updateFromAngle(this.angle,e)}static clone(e){return eu.create(e.x,e.y,e.z)}static create(e,t,i){return new eu(e,t,i)}add(e){return eu.create(this.x+e.x,this.y+e.y,this.z+e.z)}addTo(e){this.x+=e.x,this.y+=e.y,this.z+=e.z}copy(){return eu.clone(this)}distanceTo(e){return this.sub(e).length}distanceToSq(e){return this.sub(e).getLengthSq()}div(e){return eu.create(this.x/e,this.y/e,this.z/e)}divTo(e){this.x/=e,this.y/=e,this.z/=e}getLengthSq(){return this.x**lf+this.y**lf}mult(e){return eu.create(this.x*e,this.y*e,this.z*e)}multTo(e){this.x*=e,this.y*=e,this.z*=e}normalize(){const e=this.length;e!=d_&&this.multTo(VF/e)}rotate(e){return eu.create(this.x*Math.cos(e)-this.y*Math.sin(e),this.x*Math.sin(e)+this.y*Math.cos(e),xa.z)}setTo(e){this.x=e.x,this.y=e.y;const t=e;this.z=t.z?t.z:xa.z}sub(e){return eu.create(this.x-e.x,this.y-e.y,this.z-e.z)}subFrom(e){this.x-=e.x,this.y-=e.y,this.z-=e.z}}let Lr=class L1 extends eu{constructor(e,t){super(e,t,xa.z)}static get origin(){return L1.create(xa.x,xa.y)}static clone(e){return L1.create(e.x,e.y)}static create(e,t){return new L1(e,t)}},VV=Math.random;const ZF={nextFrame:n=>requestAnimationFrame(n),cancel:n=>cancelAnimationFrame(n)};function Gn(){return Ic(VV(),0,1-Number.EPSILON)}function WV(n){return ZF.nextFrame(n)}function jV(n){ZF.cancel(n)}function Ic(n,e,t){return Math.min(Math.max(n,e),t)}function yC(n,e,t,i){return Math.floor((n*t+e*i)/(t+i))}function ra(n){const e=tu(n),t=0;let i=r0(n);return e===i&&(i=t),Gn()*(e-i)+i}function Kt(n){return vl(n)?n:ra(n)}function r0(n){return vl(n)?n:n.min}function tu(n){return vl(n)?n:n.max}function ti(n,e){if(n===e||e===void 0&&vl(n))return n;const t=r0(n),i=tu(n);return e!==void 0?{min:Math.min(t,e),max:Math.max(i,e)}:ti(t,i)}function aa(n,e){const t=n.x-e.x,i=n.y-e.y,r=2;return{dx:t,dy:i,distance:Math.sqrt(t**r+i**r)}}function fl(n,e){return aa(n,e).distance}function vh(n){return n*Math.PI/180}function XV(n,e,t){if(vl(n))return vh(n);switch(n){case hl.top:return-Math.PI*_r;case hl.topRight:return-Math.PI*V1;case hl.right:return gV;case hl.bottomRight:return Math.PI*V1;case hl.bottom:return Math.PI*_r;case hl.bottomLeft:return Math.PI*p3;case hl.left:return Math.PI;case hl.topLeft:return-Math.PI*p3;case hl.inside:return Math.atan2(t.y-e.y,t.x-e.x);case hl.outside:return Math.atan2(e.y-t.y,e.x-t.x);default:return Gn()*HF}}function qV(n){const e=Lr.origin;return e.length=1,e.angle=n,e}function E3(n,e,t,i){return Lr.create(n.x*(t-i)/(t+i)+e.x*Ka*i/(t+i),n.y)}function QF(n){return{x:(n.position?.x??Gn()*Sr)*n.size.width/Sr,y:(n.position?.y??Gn()*Sr)*n.size.height/Sr}}function JF(n){const e={x:n.position?.x!==void 0?Kt(n.position.x):void 0,y:n.position?.y!==void 0?Kt(n.position.y):void 0};return QF({size:n.size,position:e})}function YV(n){return{x:n.position?.x??Gn()*n.size.width,y:n.position?.y??Gn()*n.size.height}}function k_(n){return n?n.endsWith("%")?parseFloat(n)/Sr:parseFloat(n):1}var Jm;(function(n){n.auto="auto",n.increase="increase",n.decrease="decrease",n.random="random"})(Jm||(Jm={}));var ws;(function(n){n.increasing="increasing",n.decreasing="decreasing"})(ws||(ws={}));var cd;(function(n){n.none="none",n.max="max",n.min="min"})(cd||(cd={}));var Or;(function(n){n.bottom="bottom",n.left="left",n.right="right",n.top="top"})(Or||(Or={}));var Sh;(function(n){n.precise="precise",n.percent="percent"})(Sh||(Sh={}));var od;(function(n){n.max="max",n.min="min",n.random="random"})(od||(od={}));const KV={debug:console.debug,error:console.error,info:console.info,log:console.log,verbose:console.log,warning:console.warn};function Sf(){return KV}function ZV(n){const e=new Map;return(...t)=>{const i=JSON.stringify(t);if(e.has(i))return e.get(i);const r=n(...t);return e.set(i,r),r}}function w3(n){const e={bounced:!1},{pSide:t,pOtherSide:i,rectSide:r,rectOtherSide:s,velocity:o,factor:l}=n;return i.min<s.min||i.min>s.max||i.max<s.min||i.max>s.max||(t.max>=r.min&&t.max<=(r.max+r.min)*_r&&o>m3||t.min<=r.max&&t.min>(r.max+r.min)*_r&&o<m3)&&(e.velocity=o*-l,e.bounced=!0),e}function QV(n,e){const t=Ys(e,i=>n.matches(i));return Da(t)?t.some(i=>i):t}function mg(){return typeof window>"u"||!window||typeof window.document>"u"||!window.document}function JV(){return!mg()&&typeof matchMedia<"u"}function rM(n){if(JV())return matchMedia(n)}function e8(n){if(!(mg()||typeof IntersectionObserver>"u"))return new IntersectionObserver(n)}function t8(n){if(!(mg()||typeof MutationObserver>"u"))return new MutationObserver(n)}function fs(n,e){return n===e||Da(e)&&e.indexOf(n)>-1}async function DA(n,e){try{await document.fonts.load(`${e??"400"} 36px '${n??"Verdana"}'`)}catch{}}function e4(n){return Math.floor(Gn()*n.length)}function ud(n,e,t=!0){return n[e!==void 0&&t?e%n.length:e4(n)]}function z_(n,e,t,i,r){return n8($_(n,i??0),e,t,r)}function n8(n,e,t,i){let r=!0;return(!i||i===Or.bottom)&&(r=n.top<e.height+t.x),r&&(!i||i===Or.left)&&(r=n.right>t.x),r&&(!i||i===Or.right)&&(r=n.left<e.width+t.y),r&&(!i||i===Or.top)&&(r=n.bottom>t.y),r}function $_(n,e){return{bottom:n.y+e,left:n.x-e,right:n.x+e,top:n.y-e}}function ss(n,...e){for(const t of e){if(t==null)continue;if(!Lp(t)){n=t;continue}const i=Array.isArray(t);i&&(Lp(n)||!n||!Array.isArray(n))?n=[]:!i&&(Lp(n)||!n||Array.isArray(n))&&(n={});for(const r in t){if(r==="__proto__")continue;const s=t,o=s[r],l=n;l[r]=Lp(o)&&Array.isArray(o)?o.map(a=>ss(l[r],a)):ss(l[r],o)}}return n}function sM(n,e){return!!i4(e,t=>t.enable&&fs(n,t.mode))}function oM(n,e,t){Ys(e,i=>{const r=i.mode;i.enable&&fs(n,r)&&i8(i,t)})}function i8(n,e){const t=n.selectors;Ys(t,i=>{e(i,n)})}function t4(n,e){if(!(!e||!n))return i4(n,t=>QV(e,t.selectors))}function FA(n){return{position:n.getPosition(),radius:n.getRadius(),mass:n.getMass(),velocity:n.velocity,factor:Lr.create(Kt(n.options.bounce.horizontal.value),Kt(n.options.bounce.vertical.value))}}function n4(n,e){const{x:t,y:i}=n.velocity.sub(e.velocity),[r,s]=[n.position,e.position],{dx:o,dy:l}=aa(s,r);if(t*o+i*l<0)return;const u=-Math.atan2(l,o),m=n.mass,d=e.mass,b=n.velocity.rotate(u),g=e.velocity.rotate(u),_=E3(b,g,m,d),p=E3(g,b,m,d),v=_.rotate(-u),c=p.rotate(-u);n.velocity.x=v.x*n.factor.x,n.velocity.y=v.y*n.factor.y,e.velocity.x=c.x*e.factor.x,e.velocity.y=c.y*e.factor.y}function r8(n,e){const t=n.getPosition(),i=n.getRadius(),r=$_(t,i),s=n.options.bounce,o=w3({pSide:{min:r.left,max:r.right},pOtherSide:{min:r.top,max:r.bottom},rectSide:{min:e.left,max:e.right},rectOtherSide:{min:e.top,max:e.bottom},velocity:n.velocity.x,factor:Kt(s.horizontal.value)});o.bounced&&(o.velocity!==void 0&&(n.velocity.x=o.velocity),o.position!==void 0&&(n.position.x=o.position));const l=w3({pSide:{min:r.top,max:r.bottom},pOtherSide:{min:r.left,max:r.right},rectSide:{min:e.top,max:e.bottom},rectOtherSide:{min:e.left,max:e.right},velocity:n.velocity.y,factor:Kt(s.vertical.value)});l.bounced&&(l.velocity!==void 0&&(n.velocity.y=l.velocity),l.position!==void 0&&(n.position.y=l.position))}function Ys(n,e){return Da(n)?n.map((i,r)=>e(i,r)):e(n,0)}function sa(n,e,t){return Da(n)?ud(n,e,t):n}function i4(n,e){return Da(n)?n.find((i,r)=>e(i,r)):e(n,0)?n:void 0}function r4(n,e){const t=n.value,i=n.animation,r={delayTime:Kt(i.delay)*Ps,enable:i.enable,value:Kt(n.value)*e,max:tu(t)*e,min:r0(t)*e,loops:0,maxLoops:Kt(i.count),time:0},s=1;if(i.enable){switch(r.decay=s-Kt(i.decay),i.mode){case Jm.increase:r.status=ws.increasing;break;case Jm.decrease:r.status=ws.decreasing;break;case Jm.random:r.status=Gn()>=_r?ws.increasing:ws.decreasing;break}const o=i.mode===Jm.auto;switch(i.startValue){case od.min:r.value=r.min,o&&(r.status=ws.increasing);break;case od.max:r.value=r.max,o&&(r.status=ws.decreasing);break;case od.random:default:r.value=ra(r),o&&(r.status=Gn()>=_r?ws.increasing:ws.decreasing);break}}return r.initialValue=r.value,r}function s4(n,e){if(!(n.mode===Sh.percent)){const{mode:r,...s}=n;return s}return"x"in n?{x:n.x/Sr*e.width,y:n.y/Sr*e.height}:{width:n.width/Sr*e.width,height:n.height/Sr*e.height}}function aM(n,e){return s4(n,e)}function C3(n,e){return s4(n,e)}function s8(n,e,t,i,r){switch(e){case cd.max:t>=r&&n.destroy();break;case cd.min:t<=i&&n.destroy();break}}function s0(n,e,t,i,r){if(n.destroyed||!e||!e.enable||(e.maxLoops??0)>0&&(e.loops??0)>(e.maxLoops??0))return;const m=(e.velocity??0)*r.factor,d=e.min,b=e.max,g=e.decay??1;if(e.time||(e.time=0),(e.delayTime??0)>0&&e.time<(e.delayTime??0)&&(e.time+=r.value),!((e.delayTime??0)>0&&e.time<(e.delayTime??0))){switch(e.status){case ws.increasing:e.value>=b?(t?e.status=ws.decreasing:e.value-=b,e.loops||(e.loops=0),e.loops++):e.value+=m;break;case ws.decreasing:e.value<=d?(t?e.status=ws.increasing:e.value+=b,e.loops||(e.loops=0),e.loops++):e.value-=m}e.velocity&&g!==1&&(e.velocity*=g),s8(n,i,e.value,d,b),n.destroyed||(e.value=Ic(e.value,d,b))}}function o8(n){const e=document.createElement("div").style;if(!n)return e;for(const t in n){const i=n[t];if(!Object.prototype.hasOwnProperty.call(n,t)||Lt(i))continue;const r=n.getPropertyValue?.(i);if(!r)continue;const s=n.getPropertyPriority?.(i);s?e.setProperty?.(i,r,s):e.setProperty?.(i,r)}return e}function a8(n){const e=document.createElement("div").style,t=10,i={width:"100%",height:"100%",margin:"0",padding:"0",borderWidth:"0",position:"fixed",zIndex:n.toString(t),"z-index":n.toString(t),top:"0",left:"0"};for(const r in i){const s=i[r];e.setProperty(r,s)}return e}const l8=ZV(a8);var Tp;(function(n){n.darken="darken",n.enlighten="enlighten"})(Tp||(Tp={}));function o4(n,e){if(e){for(const t of n.colorManagers.values())if(e.startsWith(t.stringPrefix))return t.parseString(e)}}function pl(n,e,t,i=!0){if(!e)return;const r=dc(e)?{value:e}:e;if(dc(r.value))return a4(n,r.value,t,i);if(Da(r.value))return pl(n,{value:ud(r.value,t,i)});for(const s of n.colorManagers.values()){const o=s.handleRangeColor(r);if(o)return o}}function a4(n,e,t,i=!0){if(!e)return;const r=dc(e)?{value:e}:e;if(dc(r.value))return r.value===i0?c4():u8(n,r.value);if(Da(r.value))return a4(n,{value:ud(r.value,t,i)});for(const s of n.colorManagers.values()){const o=s.handleColor(r);if(o)return o}}function hd(n,e,t,i=!0){const r=pl(n,e,t,i);return r?l4(r):void 0}function l4(n){const e=n.r/O1,t=n.g/O1,i=n.b/O1,r=Math.max(e,t,i),s=Math.min(e,t,i),o={h:f3,l:(r+s)*_r,s:PA};return r!==s&&(o.s=o.l<_r?(r-s)/(r+s):(r-s)/(Ka-r-s),o.h=e===r?(t-i)/(r-s):o.h=t===r?Ka+(i-e)/(r-s):Ka*Ka+(e-t)/(r-s)),o.l*=LA,o.s*=OA,o.h*=mV,o.h<f3&&(o.h+=Qm),o.h>=Qm&&(o.h-=Qm),o}function c8(n,e){return o4(n,e)?.a}function u8(n,e){return o4(n,e)}function o0(n){const e=(n.h%Qm+Qm)%Qm,t=Math.max(PA,Math.min(OA,n.s)),i=Math.max(BV,Math.min(LA,n.l)),r=e/Qm,s=t/OA,o=i/LA;if(t===PA){const _=Math.round(o*Sm);return{r:_,g:_,b:_}}const l=(_,p,v)=>{if(v<0&&v++,v>1&&v--,v*vC<1)return _+(p-_)*vC*v;if(v*Ka<1)return p;if(v*gC<1*Ka){const w=Ka/gC;return _+(p-_)*(w-v)*vC}return _},a=o<_r?o*(UV+s):o+s-o*s,u=Ka*o-a,m=kV/gC,d=Math.min(Sm,Sm*l(u,a,r+m)),b=Math.min(Sm,Sm*l(u,a,r)),g=Math.min(Sm,Sm*l(u,a,r-m));return{r:Math.round(d),g:Math.round(b),b:Math.round(g)}}function h8(n){const e=o0(n);return{a:n.a,b:e.b,g:e.g,r:e.r}}function c4(n){const e=zV,t=O1+IA;return{b:Math.floor(ra(ti(e,t))),g:Math.floor(ra(ti(e,t))),r:Math.floor(ra(ti(e,t)))}}function uc(n,e){return`rgba(${n.r}, ${n.g}, ${n.b}, ${e??iM})`}function Fp(n,e){return`hsla(${n.h}, ${n.s}%, ${n.l}%, ${e??iM})`}function lM(n,e,t,i){let r=n,s=e;return r.r===void 0&&(r=o0(n)),s.r===void 0&&(s=o0(e)),{b:yC(r.b,s.b,t,i),g:yC(r.g,s.g,t,i),r:yC(r.r,s.r,t,i)}}function BA(n,e,t){if(t===i0)return c4();if(t===M1){const i=n.getFillColor()??n.getStrokeColor(),r=e?.getFillColor()??e?.getStrokeColor();if(i&&r&&e)return lM(i,r,n.getRadius(),e.getRadius());{const s=i??r;if(s)return o0(s)}}else return t}function u4(n,e,t,i){const r=dc(e)?e:e.value;return r===i0?i?pl(n,{value:r}):t?i0:M1:r===M1?M1:pl(n,{value:r})}function T3(n){return n!==void 0?{h:n.h.value,s:n.s.value,l:n.l.value}:void 0}function cM(n,e,t){const i={h:{enable:!1,value:n.h},s:{enable:!1,value:n.s},l:{enable:!1,value:n.l}};return e&&(_C(i.h,e.h,t),_C(i.s,e.s,t),_C(i.l,e.l,t)),i}function _C(n,e,t){n.enable=e.enable,n.enable?(n.velocity=Kt(e.speed)/Sr*t,n.decay=jF-Kt(e.decay),n.status=ws.increasing,n.loops=HV,n.maxLoops=Kt(e.count),n.time=GV,n.delayTime=Kt(e.delay)*Ps,e.sync||(n.velocity*=Gn(),n.value*=Gn()),n.initialValue=n.value,n.offset=ti(e.offset)):n.velocity=$V}function bC(n,e,t,i){if(!n||!n.enable||(n.maxLoops??0)>0&&(n.loops??0)>(n.maxLoops??0)||(n.time||(n.time=0),(n.delayTime??0)>0&&n.time<(n.delayTime??0)&&(n.time+=i.value),(n.delayTime??0)>0&&n.time<(n.delayTime??0)))return;const m=n.offset?ra(n.offset):0,d=(n.velocity??0)*i.factor+m*3.6,b=n.decay??1,g=tu(e),_=r0(e);!t||n.status===ws.increasing?(n.value+=d,n.value>g&&(n.loops||(n.loops=0),n.loops++,t?n.status=ws.decreasing:n.value-=g)):(n.value-=d,n.value<0&&(n.loops||(n.loops=0),n.loops++,n.status=ws.increasing)),n.velocity&&b!==1&&(n.velocity*=b),n.value=Ic(n.value,_,g)}function uM(n,e){if(!n)return;const{h:t,s:i,l:r}=n,s={h:{min:0,max:360},s:{min:0,max:100},l:{min:0,max:100}};t&&bC(t,s.h,!1,e),i&&bC(i,s.s,!0,e),r&&bC(r,s.l,!0,e)}function Gy(n,e,t){n.beginPath(),n.moveTo(e.x,e.y),n.lineTo(t.x,t.y),n.closePath()}function d8(n,e,t){n.fillStyle=t??"rgba(0,0,0,0)",n.fillRect(xa.x,xa.y,e.width,e.height)}function f8(n,e,t,i){t&&(n.globalAlpha=i,n.drawImage(t,xa.x,xa.y,e.width,e.height),n.globalAlpha=1)}function xC(n,e){n.clearRect(xa.x,xa.y,e.width,e.height)}function p8(n){const{container:e,context:t,particle:i,delta:r,colorStyles:s,backgroundMask:o,composite:l,radius:a,opacity:u,shadow:m,transform:d}=n,b=i.getPosition(),g=i.rotation+(i.pathRotation?i.velocity.angle:qF),_={sin:Math.sin(g),cos:Math.cos(g)},p=!!g,v={a:_.cos*(d.a??nx.a),b:p?_.sin*(d.b??IA):d.b??nx.b,c:p?-_.sin*(d.c??IA):d.c??nx.c,d:_.cos*(d.d??nx.d)};t.setTransform(v.a,v.b,v.c,v.d,b.x,b.y),o&&(t.globalCompositeOperation=l);const c=i.shadowColor;m.enable&&c&&(t.shadowBlur=m.blur,t.shadowColor=uc(c),t.shadowOffsetX=m.offset.x,t.shadowOffsetY=m.offset.y),s.fill&&(t.fillStyle=s.fill);const x=i.strokeWidth??YF;t.lineWidth=x,s.stroke&&(t.strokeStyle=s.stroke);const w={container:e,context:t,particle:i,radius:a,opacity:u,delta:r,transformData:v,strokeWidth:x};g8(w),v8(w),m8(w),t.globalCompositeOperation="source-over",t.resetTransform()}function m8(n){const{container:e,context:t,particle:i,radius:r,opacity:s,delta:o,transformData:l}=n;if(!i.effect)return;const a=e.effectDrawers.get(i.effect);a&&a.draw({context:t,particle:i,radius:r,opacity:s,delta:o,pixelRatio:e.retina.pixelRatio,transformData:{...l}})}function g8(n){const{container:e,context:t,particle:i,radius:r,opacity:s,delta:o,strokeWidth:l,transformData:a}=n;if(!i.shape)return;const u=e.shapeDrawers.get(i.shape);u&&(t.beginPath(),u.draw({context:t,particle:i,radius:r,opacity:s,delta:o,pixelRatio:e.retina.pixelRatio,transformData:{...a}}),i.shapeClose&&t.closePath(),l>YF&&t.stroke(),i.shapeFill&&t.fill())}function v8(n){const{container:e,context:t,particle:i,radius:r,opacity:s,delta:o,transformData:l}=n;if(!i.shape)return;const a=e.shapeDrawers.get(i.shape);a?.afterDraw&&a.afterDraw({context:t,particle:i,radius:r,opacity:s,delta:o,pixelRatio:e.retina.pixelRatio,transformData:{...l}})}function y8(n,e,t){e.draw&&e.draw(n,t)}function _8(n,e,t,i){e.drawParticle&&e.drawParticle(n,t,i)}function b8(n,e,t){return{h:n.h,s:n.s,l:n.l+(e===Tp.darken?-S3:S3)*t}}function x8(n,e,t){const i=e[t];i!==void 0&&(n[t]=(n[t]??vV)*i)}function A3(n,e,t=!1){if(!e)return;const i=n;if(!i)return;const r=i.style;if(!r)return;const s=new Set;for(const o in r)Object.prototype.hasOwnProperty.call(r,o)&&s.add(r[o]);for(const o in e)Object.prototype.hasOwnProperty.call(e,o)&&s.add(e[o]);for(const o of s){const l=e.getPropertyValue(o);l?r.setProperty(o,l,t?"important":""):r.removeProperty(o)}}let S8=class{constructor(e,t){this.container=e,this._applyPostDrawUpdaters=s=>{for(const o of this._postDrawUpdaters)o.afterDraw?.(s)},this._applyPreDrawUpdaters=(s,o,l,a,u,m)=>{for(const d of this._preDrawUpdaters){if(d.getColorStyles){const{fill:b,stroke:g}=d.getColorStyles(o,s,l,a);b&&(u.fill=b),g&&(u.stroke=g)}if(d.getTransformValues){const b=d.getTransformValues(o);for(const g in b)x8(m,b,g)}d.beforeDraw?.(o)}},this._applyResizePlugins=()=>{for(const s of this._resizePlugins)s.resize?.()},this._getPluginParticleColors=s=>{let o,l;for(const a of this._colorPlugins)if(!o&&a.particleFillColor&&(o=hd(this._engine,a.particleFillColor(s))),!l&&a.particleStrokeColor&&(l=hd(this._engine,a.particleStrokeColor(s))),o&&l)break;return[o,l]},this._initCover=async()=>{const s=this.container.actualOptions,o=s.backgroundMask.cover,l=o.color;if(l){const a=pl(this._engine,l);if(a){const u={...a,a:o.opacity};this._coverColorStyle=uc(u,u.a)}}else await new Promise((a,u)=>{if(!o.image)return;const m=document.createElement("img");m.addEventListener("load",()=>{this._coverImage={image:m,opacity:o.opacity},a()}),m.addEventListener("error",d=>{u(d.error)}),m.src=o.image})},this._initStyle=()=>{const s=this.element,o=this.container.actualOptions;if(s){this._fullScreen?this._setFullScreenStyle():this._resetOriginalStyle();for(const l in o.style){if(!l||!o.style||!Object.prototype.hasOwnProperty.call(o.style,l))continue;const a=o.style[l];a&&s.style.setProperty(l,a,"important")}}},this._initTrail=async()=>{const s=this.container.actualOptions,o=s.particles.move.trail,l=o.fill;if(!o.enable)return;const a=VF/o.length;if(l.color){const u=pl(this._engine,l.color);if(!u)return;this._trailFill={color:{...u},opacity:a}}else await new Promise((u,m)=>{if(!l.image)return;const d=document.createElement("img");d.addEventListener("load",()=>{this._trailFill={image:d,opacity:a},u()}),d.addEventListener("error",b=>{m(b.error)}),d.src=l.image})},this._paintBase=s=>{this.draw(o=>d8(o,this.size,s))},this._paintImage=(s,o)=>{this.draw(l=>f8(l,this.size,s,o))},this._repairStyle=()=>{const s=this.element;if(!s)return;this._safeMutationObserver(l=>l.disconnect()),this._initStyle(),this.initBackground();const o=this._pointerEvents;s.style.pointerEvents=o,s.setAttribute("pointer-events",o),this._safeMutationObserver(l=>{!s||!(s instanceof Node)||l.observe(s,{attributes:!0})})},this._resetOriginalStyle=()=>{const s=this.element,o=this._originalStyle;!s||!o||A3(s,o,!0)},this._safeMutationObserver=s=>{this._mutationObserver&&s(this._mutationObserver)},this._setFullScreenStyle=()=>{const s=this.element;s&&A3(s,l8(this.container.actualOptions.fullScreen.zIndex),!0)},this._engine=t,this._standardSize={height:0,width:0};const i=e.retina.pixelRatio,r=this._standardSize;this.size={height:r.height*i,width:r.width*i},this._context=null,this._generated=!1,this._preDrawUpdaters=[],this._postDrawUpdaters=[],this._resizePlugins=[],this._colorPlugins=[],this._pointerEvents="none"}get _fullScreen(){return this.container.actualOptions.fullScreen.enable}clear(){const e=this.container.actualOptions,t=e.particles.move.trail,i=this._trailFill;e.backgroundMask.enable?this.paint():t.enable&&t.length>_V&&i?i.color?this._paintBase(uc(i.color,i.opacity)):i.image&&this._paintImage(i.image,i.opacity):e.clear&&this.draw(r=>{xC(r,this.size)})}destroy(){this.stop(),this._generated?(this.element?.remove(),this.element=void 0):this._resetOriginalStyle(),this._preDrawUpdaters=[],this._postDrawUpdaters=[],this._resizePlugins=[],this._colorPlugins=[]}draw(e){const t=this._context;if(t)return e(t)}drawAsync(e){const t=this._context;if(t)return e(t)}drawParticle(e,t){if(e.spawning||e.destroyed)return;const i=e.getRadius();if(i<=yV)return;const r=e.getFillColor(),s=e.getStrokeColor()??r;let[o,l]=this._getPluginParticleColors(e);o||(o=r),l||(l=s),!(!o&&!l)&&this.draw(a=>{const u=this.container,m=u.actualOptions,d=e.options.zIndex,b=bV-e.zIndexFactor,g=b**d.opacityRate,_=e.bubble.opacity??e.opacity?.value??iM,p=e.strokeOpacity??_,v=_*g,c=p*g,x={},w={fill:o?Fp(o,v):void 0};w.stroke=l?Fp(l,c):w.fill,this._applyPreDrawUpdaters(a,e,i,v,w,x),p8({container:u,context:a,particle:e,delta:t,colorStyles:w,backgroundMask:m.backgroundMask.enable,composite:m.backgroundMask.composite,radius:i*b**d.sizeRate,opacity:v,shadow:e.options.shadow,transform:x}),this._applyPostDrawUpdaters(e)})}drawParticlePlugin(e,t,i){this.draw(r=>_8(r,e,t,i))}drawPlugin(e,t){this.draw(i=>y8(i,e,t))}async init(){this._safeMutationObserver(e=>e.disconnect()),this._mutationObserver=t8(e=>{for(const t of e)t.type==="attributes"&&t.attributeName==="style"&&this._repairStyle()}),this.resize(),this._initStyle(),await this._initCover();try{await this._initTrail()}catch(e){Sf().error(e)}this.initBackground(),this._safeMutationObserver(e=>{!this.element||!(this.element instanceof Node)||e.observe(this.element,{attributes:!0})}),this.initUpdaters(),this.initPlugins(),this.paint()}initBackground(){const e=this.container.actualOptions,t=e.background,i=this.element;if(!i)return;const r=i.style;if(r){if(t.color){const s=pl(this._engine,t.color);r.backgroundColor=s?uc(s,t.opacity):""}else r.backgroundColor="";r.backgroundImage=t.image||"",r.backgroundPosition=t.position||"",r.backgroundRepeat=t.repeat||"",r.backgroundSize=t.size||""}}initPlugins(){this._resizePlugins=[];for(const e of this.container.plugins.values())e.resize&&this._resizePlugins.push(e),(e.particleFillColor??e.particleStrokeColor)&&this._colorPlugins.push(e)}initUpdaters(){this._preDrawUpdaters=[],this._postDrawUpdaters=[];for(const e of this.container.particles.updaters)e.afterDraw&&this._postDrawUpdaters.push(e),(e.getColorStyles??e.getTransformValues??e.beforeDraw)&&this._preDrawUpdaters.push(e)}loadCanvas(e){this._generated&&this.element&&this.element.remove(),this._generated=e.dataset&&Zm in e.dataset?e.dataset[Zm]==="true":this._generated,this.element=e,this.element.ariaHidden="true",this._originalStyle=o8(this.element.style);const t=this._standardSize;t.height=e.offsetHeight,t.width=e.offsetWidth;const i=this.container.retina.pixelRatio,r=this.size;e.height=r.height=t.height*i,e.width=r.width=t.width*i,this._context=this.element.getContext("2d"),this._safeMutationObserver(s=>s.disconnect()),this.container.retina.init(),this.initBackground(),this._safeMutationObserver(s=>{!this.element||!(this.element instanceof Node)||s.observe(this.element,{attributes:!0})})}paint(){const e=this.container.actualOptions;this.draw(t=>{e.backgroundMask.enable&&e.backgroundMask.cover?(xC(t,this.size),this._coverImage?this._paintImage(this._coverImage.image,this._coverImage.opacity):this._coverColorStyle?this._paintBase(this._coverColorStyle):this._paintBase()):this._paintBase()})}resize(){if(!this.element)return!1;const e=this.container,t=e.canvas._standardSize,i={width:this.element.offsetWidth,height:this.element.offsetHeight},r=e.retina.pixelRatio,s={width:i.width*r,height:i.height*r};if(i.height===t.height&&i.width===t.width&&s.height===this.element.height&&s.width===this.element.width)return!1;const o={...t};t.height=i.height,t.width=i.width;const l=this.size;return this.element.width=l.width=s.width,this.element.height=l.height=s.height,this.container.started&&e.particles.setResizeFactor({width:t.width/o.width,height:t.height/o.height}),!0}setPointerEvents(e){this.element&&(this._pointerEvents=e,this._repairStyle())}stop(){this._safeMutationObserver(e=>e.disconnect()),this._mutationObserver=void 0,this.draw(e=>xC(e,this.size))}async windowResize(){if(!this.element||!this.resize())return;const e=this.container,t=e.updateActualOptions();e.particles.setDensity(),this._applyResizePlugins(),t&&await e.refresh()}};var qv;(function(n){n.canvas="canvas",n.parent="parent",n.window="window"})(qv||(qv={}));function Lu(n,e,t,i,r){if(i){let s={passive:!0};KF(r)?s.capture=r:r!==void 0&&(s=r),n.addEventListener(e,t,s)}else{const s=r;n.removeEventListener(e,t,s)}}class E8{constructor(e){this.container=e,this._doMouseTouchClick=t=>{const i=this.container,r=i.actualOptions;if(this._canPush){const s=i.interactivity.mouse,o=s.position;if(!o)return;s.clickPosition={...o},s.clickTime=new Date().getTime();const l=r.interactivity.events.onClick;Ys(l.mode,a=>this.container.handleClickMode(a))}t.type==="touchend"&&setTimeout(()=>this._mouseTouchFinish(),FV)},this._handleThemeChange=t=>{const i=t,r=this.container,s=r.options,o=s.defaultThemes,l=i.matches?o.dark:o.light;s.themes.find(u=>u.name===l)?.default.auto&&r.loadTheme(l)},this._handleVisibilityChange=()=>{const t=this.container,i=t.actualOptions;this._mouseTouchFinish(),i.pauseOnBlur&&(document?.hidden?(t.pageHidden=!0,t.pause()):(t.pageHidden=!1,t.animationStatus?t.play(!0):t.draw(!0)))},this._handleWindowResize=()=>{this._resizeTimeout&&(clearTimeout(this._resizeTimeout),delete this._resizeTimeout);const t=async()=>{await this.container.canvas?.windowResize()};this._resizeTimeout=setTimeout(()=>void t(),this.container.actualOptions.interactivity.events.resize.delay*Ps)},this._manageInteractivityListeners=(t,i)=>{const r=this._handlers,s=this.container,o=s.actualOptions,l=s.interactivity.element;if(!l)return;const a=l,u=s.canvas;u.setPointerEvents(a===u.element?"initial":"none"),(o.interactivity.events.onHover.enable||o.interactivity.events.onClick.enable)&&(Lu(l,pg,r.mouseMove,i),Lu(l,h_,r.touchStart,i),Lu(l,lV,r.touchMove,i),o.interactivity.events.onClick.enable?(Lu(l,a3,r.touchEndClick,i),Lu(l,oV,r.mouseUp,i),Lu(l,u_,r.mouseDown,i)):Lu(l,a3,r.touchEnd,i),Lu(l,t,r.mouseLeave,i),Lu(l,cV,r.touchCancel,i))},this._manageListeners=t=>{const i=this._handlers,r=this.container,s=r.actualOptions,o=s.interactivity.detectsOn,l=r.canvas.element;let a=MA;o===qv.window?(r.interactivity.element=window,a=aV):o===qv.parent&&l?r.interactivity.element=l.parentElement??l.parentNode:r.interactivity.element=l,this._manageMediaMatch(t),this._manageResize(t),this._manageInteractivityListeners(a,t),document&&Lu(document,hV,i.visibilityChange,t,!1)},this._manageMediaMatch=t=>{const i=this._handlers,r=rM("(prefers-color-scheme: dark)");if(r){if(r.addEventListener!==void 0){Lu(r,"change",i.themeChange,t);return}r.addListener!==void 0&&(t?r.addListener(i.oldThemeChange):r.removeListener(i.oldThemeChange))}},this._manageResize=t=>{const i=this._handlers,r=this.container;if(!r.actualOptions.interactivity.events.resize)return;if(typeof ResizeObserver>"u"){Lu(window,uV,i.resize,t);return}const o=r.canvas.element;this._resizeObserver&&!t?(o&&this._resizeObserver.unobserve(o),this._resizeObserver.disconnect(),delete this._resizeObserver):!this._resizeObserver&&t&&o&&(this._resizeObserver=new ResizeObserver(l=>{l.find(u=>u.target===o)&&this._handleWindowResize()}),this._resizeObserver.observe(o))},this._mouseDown=()=>{const{interactivity:t}=this.container;if(!t)return;const{mouse:i}=t;i.clicking=!0,i.downPosition=i.position},this._mouseTouchClick=t=>{const i=this.container,r=i.actualOptions,{mouse:s}=i.interactivity;s.inside=!0;let o=!1;const l=s.position;if(!(!l||!r.interactivity.events.onClick.enable)){for(const a of i.plugins.values())if(a.clickPositionValid&&(o=a.clickPositionValid(l),o))break;o||this._doMouseTouchClick(t),s.clicking=!1}},this._mouseTouchFinish=()=>{const t=this.container.interactivity;if(!t)return;const i=t.mouse;delete i.position,delete i.clickPosition,delete i.downPosition,t.status=MA,i.inside=!1,i.clicking=!1},this._mouseTouchMove=t=>{const i=this.container,r=i.actualOptions,s=i.interactivity,o=i.canvas.element;if(!s?.element)return;s.mouse.inside=!0;let l;if(t.type.startsWith("pointer")){this._canPush=!0;const u=t;if(s.element===window){if(o){const m=o.getBoundingClientRect();l={x:u.clientX-m.left,y:u.clientY-m.top}}}else if(r.interactivity.detectsOn===qv.parent){const m=u.target,d=u.currentTarget;if(m&&d&&o){const b=m.getBoundingClientRect(),g=d.getBoundingClientRect(),_=o.getBoundingClientRect();l={x:u.offsetX+Ka*b.left-(g.left+_.left),y:u.offsetY+Ka*b.top-(g.top+_.top)}}else l={x:u.offsetX??u.clientX,y:u.offsetY??u.clientY}}else u.target===o&&(l={x:u.offsetX??u.clientX,y:u.offsetY??u.clientY})}else if(this._canPush=t.type!=="touchmove",o){const u=t,m=u.touches[u.touches.length-XF],d=o.getBoundingClientRect();l={x:m.clientX-(d.left??W1),y:m.clientY-(d.top??W1)}}const a=i.retina.pixelRatio;l&&(l.x*=a,l.y*=a),s.mouse.position=l,s.status=pg},this._touchEnd=t=>{const i=t,r=Array.from(i.changedTouches);for(const s of r)this._touches.delete(s.identifier);this._mouseTouchFinish()},this._touchEndClick=t=>{const i=t,r=Array.from(i.changedTouches);for(const s of r)this._touches.delete(s.identifier);this._mouseTouchClick(t)},this._touchStart=t=>{const i=t,r=Array.from(i.changedTouches);for(const s of r)this._touches.set(s.identifier,performance.now());this._mouseTouchMove(t)},this._canPush=!0,this._touches=new Map,this._handlers={mouseDown:()=>this._mouseDown(),mouseLeave:()=>this._mouseTouchFinish(),mouseMove:t=>this._mouseTouchMove(t),mouseUp:t=>this._mouseTouchClick(t),touchStart:t=>this._touchStart(t),touchMove:t=>this._mouseTouchMove(t),touchEnd:t=>this._touchEnd(t),touchCancel:t=>this._touchEnd(t),touchEndClick:t=>this._touchEndClick(t),visibilityChange:()=>this._handleVisibilityChange(),themeChange:t=>this._handleThemeChange(t),oldThemeChange:t=>this._handleThemeChange(t),resize:()=>{this._handleWindowResize()}}}addListeners(){this._manageListeners(!0)}removeListeners(){this._manageListeners(!1)}}var oc;(function(n){n.configAdded="configAdded",n.containerInit="containerInit",n.particlesSetup="particlesSetup",n.containerStarted="containerStarted",n.containerStopped="containerStopped",n.containerDestroyed="containerDestroyed",n.containerPaused="containerPaused",n.containerPlay="containerPlay",n.containerBuilt="containerBuilt",n.particleAdded="particleAdded",n.particleDestroyed="particleDestroyed",n.particleRemoved="particleRemoved"})(oc||(oc={}));class rs{constructor(){this.value=""}static create(e,t){const i=new rs;return i.load(e),t!==void 0&&(dc(t)||Da(t)?i.load({value:t}):i.load(t)),i}load(e){Lt(e)||Lt(e.value)||(this.value=e.value)}}class w8{constructor(){this.color=new rs,this.color.value="",this.image="",this.position="",this.repeat="",this.size="",this.opacity=1}load(e){Lt(e)||(e.color!==void 0&&(this.color=rs.create(this.color,e.color)),e.image!==void 0&&(this.image=e.image),e.position!==void 0&&(this.position=e.position),e.repeat!==void 0&&(this.repeat=e.repeat),e.size!==void 0&&(this.size=e.size),e.opacity!==void 0&&(this.opacity=e.opacity))}}class C8{constructor(){this.opacity=1}load(e){Lt(e)||(e.color!==void 0&&(this.color=rs.create(this.color,e.color)),e.image!==void 0&&(this.image=e.image),e.opacity!==void 0&&(this.opacity=e.opacity))}}class T8{constructor(){this.composite="destination-out",this.cover=new C8,this.enable=!1}load(e){if(!Lt(e)){if(e.composite!==void 0&&(this.composite=e.composite),e.cover!==void 0){const t=e.cover,i=dc(e.cover)?{color:e.cover}:e.cover;this.cover.load(t.color!==void 0||t.image!==void 0?t:{color:i})}e.enable!==void 0&&(this.enable=e.enable)}}}class A8{constructor(){this.enable=!0,this.zIndex=0}load(e){Lt(e)||(e.enable!==void 0&&(this.enable=e.enable),e.zIndex!==void 0&&(this.zIndex=e.zIndex))}}class R8{constructor(){this.enable=!1,this.mode=[]}load(e){Lt(e)||(e.enable!==void 0&&(this.enable=e.enable),e.mode!==void 0&&(this.mode=e.mode))}}var a0;(function(n){n.circle="circle",n.rectangle="rectangle"})(a0||(a0={}));class R3{constructor(){this.selectors=[],this.enable=!1,this.mode=[],this.type=a0.circle}load(e){Lt(e)||(e.selectors!==void 0&&(this.selectors=e.selectors),e.enable!==void 0&&(this.enable=e.enable),e.mode!==void 0&&(this.mode=e.mode),e.type!==void 0&&(this.type=e.type))}}class M8{constructor(){this.enable=!1,this.force=2,this.smooth=10}load(e){Lt(e)||(e.enable!==void 0&&(this.enable=e.enable),e.force!==void 0&&(this.force=e.force),e.smooth!==void 0&&(this.smooth=e.smooth))}}class O8{constructor(){this.enable=!1,this.mode=[],this.parallax=new M8}load(e){Lt(e)||(e.enable!==void 0&&(this.enable=e.enable),e.mode!==void 0&&(this.mode=e.mode),this.parallax.load(e.parallax))}}class L8{constructor(){this.delay=.5,this.enable=!0}load(e){Lt(e)||(e.delay!==void 0&&(this.delay=e.delay),e.enable!==void 0&&(this.enable=e.enable))}}class P8{constructor(){this.onClick=new R8,this.onDiv=new R3,this.onHover=new O8,this.resize=new L8}load(e){if(Lt(e))return;this.onClick.load(e.onClick);const t=e.onDiv;t!==void 0&&(this.onDiv=Ys(t,i=>{const r=new R3;return r.load(i),r})),this.onHover.load(e.onHover),this.resize.load(e.resize)}}class N8{constructor(e,t){this._engine=e,this._container=t}load(e){if(Lt(e)||!this._container)return;const t=this._engine.interactors.get(this._container);if(t)for(const i of t)i.loadModeOptions&&i.loadModeOptions(this,e)}}class h4{constructor(e,t){this.detectsOn=qv.window,this.events=new P8,this.modes=new N8(e,t)}load(e){if(Lt(e))return;const t=e.detectsOn;t!==void 0&&(this.detectsOn=t),this.events.load(e.events),this.modes.load(e.modes)}}class I8{load(e){Lt(e)||(e.position&&(this.position={x:e.position.x??x3,y:e.position.y??x3,mode:e.position.mode??Sh.percent}),e.options&&(this.options=ss({},e.options)))}}var eg;(function(n){n.screen="screen",n.canvas="canvas"})(eg||(eg={}));class D8{constructor(){this.maxWidth=1/0,this.options={},this.mode=eg.canvas}load(e){Lt(e)||(Lt(e.maxWidth)||(this.maxWidth=e.maxWidth),Lt(e.mode)||(e.mode===eg.screen?this.mode=eg.screen:this.mode=eg.canvas),Lt(e.options)||(this.options=ss({},e.options)))}}var Ap;(function(n){n.any="any",n.dark="dark",n.light="light"})(Ap||(Ap={}));class F8{constructor(){this.auto=!1,this.mode=Ap.any,this.value=!1}load(e){Lt(e)||(e.auto!==void 0&&(this.auto=e.auto),e.mode!==void 0&&(this.mode=e.mode),e.value!==void 0&&(this.value=e.value))}}class B8{constructor(){this.name="",this.default=new F8}load(e){Lt(e)||(e.name!==void 0&&(this.name=e.name),this.default.load(e.default),e.options!==void 0&&(this.options=ss({},e.options)))}}class xE{constructor(){this.count=0,this.enable=!1,this.speed=1,this.decay=0,this.delay=0,this.sync=!1}load(e){Lt(e)||(e.count!==void 0&&(this.count=ti(e.count)),e.enable!==void 0&&(this.enable=e.enable),e.speed!==void 0&&(this.speed=ti(e.speed)),e.decay!==void 0&&(this.decay=ti(e.decay)),e.delay!==void 0&&(this.delay=ti(e.delay)),e.sync!==void 0&&(this.sync=e.sync))}}class hM extends xE{constructor(){super(),this.mode=Jm.auto,this.startValue=od.random}load(e){super.load(e),!Lt(e)&&(e.mode!==void 0&&(this.mode=e.mode),e.startValue!==void 0&&(this.startValue=e.startValue))}}class SC extends xE{constructor(){super(),this.offset=0,this.sync=!0}load(e){super.load(e),!Lt(e)&&e.offset!==void 0&&(this.offset=ti(e.offset))}}class U8{constructor(){this.h=new SC,this.s=new SC,this.l=new SC}load(e){Lt(e)||(this.h.load(e.h),this.s.load(e.s),this.l.load(e.l))}}class Bp extends rs{constructor(){super(),this.animation=new U8}static create(e,t){const i=new Bp;return i.load(e),t!==void 0&&(dc(t)||Da(t)?i.load({value:t}):i.load(t)),i}load(e){if(super.load(e),Lt(e))return;const t=e.animation;t!==void 0&&(t.enable!==void 0?this.animation.h.load(t):this.animation.load(e.animation))}}var Yv;(function(n){n.absorb="absorb",n.bounce="bounce",n.destroy="destroy"})(Yv||(Yv={}));class k8{constructor(){this.speed=2}load(e){Lt(e)||e.speed!==void 0&&(this.speed=e.speed)}}class z8{constructor(){this.enable=!0,this.retries=0}load(e){Lt(e)||(e.enable!==void 0&&(this.enable=e.enable),e.retries!==void 0&&(this.retries=e.retries))}}class ou{constructor(){this.value=0}load(e){Lt(e)||Lt(e.value)||(this.value=ti(e.value))}}class $8 extends ou{constructor(){super(),this.animation=new xE}load(e){if(super.load(e),Lt(e))return;const t=e.animation;t!==void 0&&this.animation.load(t)}}class d4 extends $8{constructor(){super(),this.animation=new hM}load(e){super.load(e)}}class M3 extends ou{constructor(){super(),this.value=1}}class f4{constructor(){this.horizontal=new M3,this.vertical=new M3}load(e){Lt(e)||(this.horizontal.load(e.horizontal),this.vertical.load(e.vertical))}}class H8{constructor(){this.absorb=new k8,this.bounce=new f4,this.enable=!1,this.maxSpeed=50,this.mode=Yv.bounce,this.overlap=new z8}load(e){Lt(e)||(this.absorb.load(e.absorb),this.bounce.load(e.bounce),e.enable!==void 0&&(this.enable=e.enable),e.maxSpeed!==void 0&&(this.maxSpeed=ti(e.maxSpeed)),e.mode!==void 0&&(this.mode=e.mode),this.overlap.load(e.overlap))}}class G8{constructor(){this.close=!0,this.fill=!0,this.options={},this.type=[]}load(e){if(Lt(e))return;const t=e.options;if(t!==void 0)for(const i in t){const r=t[i];r&&(this.options[i]=ss(this.options[i]??{},r))}e.close!==void 0&&(this.close=e.close),e.fill!==void 0&&(this.fill=e.fill),e.type!==void 0&&(this.type=e.type)}}class V8{constructor(){this.offset=0,this.value=90}load(e){Lt(e)||(e.offset!==void 0&&(this.offset=ti(e.offset)),e.value!==void 0&&(this.value=ti(e.value)))}}class W8{constructor(){this.distance=200,this.enable=!1,this.rotate={x:3e3,y:3e3}}load(e){if(!Lt(e)&&(e.distance!==void 0&&(this.distance=ti(e.distance)),e.enable!==void 0&&(this.enable=e.enable),e.rotate)){const t=e.rotate.x;t!==void 0&&(this.rotate.x=t);const i=e.rotate.y;i!==void 0&&(this.rotate.y=i)}}}class j8{constructor(){this.x=50,this.y=50,this.mode=Sh.percent,this.radius=0}load(e){Lt(e)||(e.x!==void 0&&(this.x=e.x),e.y!==void 0&&(this.y=e.y),e.mode!==void 0&&(this.mode=e.mode),e.radius!==void 0&&(this.radius=e.radius))}}class X8{constructor(){this.acceleration=9.81,this.enable=!1,this.inverse=!1,this.maxSpeed=50}load(e){Lt(e)||(e.acceleration!==void 0&&(this.acceleration=ti(e.acceleration)),e.enable!==void 0&&(this.enable=e.enable),e.inverse!==void 0&&(this.inverse=e.inverse),e.maxSpeed!==void 0&&(this.maxSpeed=ti(e.maxSpeed)))}}class q8{constructor(){this.clamp=!0,this.delay=new ou,this.enable=!1,this.options={}}load(e){Lt(e)||(e.clamp!==void 0&&(this.clamp=e.clamp),this.delay.load(e.delay),e.enable!==void 0&&(this.enable=e.enable),this.generator=e.generator,e.options&&(this.options=ss(this.options,e.options)))}}class Y8{load(e){Lt(e)||(e.color!==void 0&&(this.color=rs.create(this.color,e.color)),e.image!==void 0&&(this.image=e.image))}}class K8{constructor(){this.enable=!1,this.length=10,this.fill=new Y8}load(e){Lt(e)||(e.enable!==void 0&&(this.enable=e.enable),e.fill!==void 0&&this.fill.load(e.fill),e.length!==void 0&&(this.length=e.length))}}var Sa;(function(n){n.bounce="bounce",n.none="none",n.out="out",n.destroy="destroy",n.split="split"})(Sa||(Sa={}));class Z8{constructor(){this.default=Sa.out}load(e){Lt(e)||(e.default!==void 0&&(this.default=e.default),this.bottom=e.bottom??e.default,this.left=e.left??e.default,this.right=e.right??e.default,this.top=e.top??e.default)}}class Q8{constructor(){this.acceleration=0,this.enable=!1}load(e){Lt(e)||(e.acceleration!==void 0&&(this.acceleration=ti(e.acceleration)),e.enable!==void 0&&(this.enable=e.enable),e.position&&(this.position=ss({},e.position)))}}class J8{constructor(){this.angle=new V8,this.attract=new W8,this.center=new j8,this.decay=0,this.distance={},this.direction=hl.none,this.drift=0,this.enable=!1,this.gravity=new X8,this.path=new q8,this.outModes=new Z8,this.random=!1,this.size=!1,this.speed=2,this.spin=new Q8,this.straight=!1,this.trail=new K8,this.vibrate=!1,this.warp=!1}load(e){if(Lt(e))return;this.angle.load(vl(e.angle)?{value:e.angle}:e.angle),this.attract.load(e.attract),this.center.load(e.center),e.decay!==void 0&&(this.decay=ti(e.decay)),e.direction!==void 0&&(this.direction=e.direction),e.distance!==void 0&&(this.distance=vl(e.distance)?{horizontal:e.distance,vertical:e.distance}:{...e.distance}),e.drift!==void 0&&(this.drift=ti(e.drift)),e.enable!==void 0&&(this.enable=e.enable),this.gravity.load(e.gravity);const t=e.outModes;t!==void 0&&(Lp(t)?this.outModes.load(t):this.outModes.load({default:t})),this.path.load(e.path),e.random!==void 0&&(this.random=e.random),e.size!==void 0&&(this.size=e.size),e.speed!==void 0&&(this.speed=ti(e.speed)),this.spin.load(e.spin),e.straight!==void 0&&(this.straight=e.straight),this.trail.load(e.trail),e.vibrate!==void 0&&(this.vibrate=e.vibrate),e.warp!==void 0&&(this.warp=e.warp)}}class e9 extends hM{constructor(){super(),this.destroy=cd.none,this.speed=2}load(e){super.load(e),!Lt(e)&&e.destroy!==void 0&&(this.destroy=e.destroy)}}class t9 extends d4{constructor(){super(),this.animation=new e9,this.value=1}load(e){if(Lt(e))return;super.load(e);const t=e.animation;t!==void 0&&this.animation.load(t)}}class n9{constructor(){this.enable=!1,this.width=1920,this.height=1080}load(e){if(Lt(e))return;e.enable!==void 0&&(this.enable=e.enable);const t=e.width;t!==void 0&&(this.width=t);const i=e.height;i!==void 0&&(this.height=i)}}var f_;(function(n){n.delete="delete",n.wait="wait"})(f_||(f_={}));class i9{constructor(){this.mode=f_.delete,this.value=0}load(e){Lt(e)||(e.mode!==void 0&&(this.mode=e.mode),e.value!==void 0&&(this.value=e.value))}}class r9{constructor(){this.density=new n9,this.limit=new i9,this.value=0}load(e){Lt(e)||(this.density.load(e.density),this.limit.load(e.limit),e.value!==void 0&&(this.value=e.value))}}class s9{constructor(){this.blur=0,this.color=new rs,this.enable=!1,this.offset={x:0,y:0},this.color.value="#000"}load(e){Lt(e)||(e.blur!==void 0&&(this.blur=e.blur),this.color=rs.create(this.color,e.color),e.enable!==void 0&&(this.enable=e.enable),e.offset!==void 0&&(e.offset.x!==void 0&&(this.offset.x=e.offset.x),e.offset.y!==void 0&&(this.offset.y=e.offset.y)))}}let o9=class{constructor(){this.close=!0,this.fill=!0,this.options={},this.type="circle"}load(e){if(Lt(e))return;const t=e.options;if(t!==void 0)for(const i in t){const r=t[i];r&&(this.options[i]=ss(this.options[i]??{},r))}e.close!==void 0&&(this.close=e.close),e.fill!==void 0&&(this.fill=e.fill),e.type!==void 0&&(this.type=e.type)}};class a9 extends hM{constructor(){super(),this.destroy=cd.none,this.speed=5}load(e){super.load(e),!Lt(e)&&e.destroy!==void 0&&(this.destroy=e.destroy)}}class l9 extends d4{constructor(){super(),this.animation=new a9,this.value=3}load(e){if(super.load(e),Lt(e))return;const t=e.animation;t!==void 0&&this.animation.load(t)}}class O3{constructor(){this.width=0}load(e){Lt(e)||(e.color!==void 0&&(this.color=Bp.create(this.color,e.color)),e.width!==void 0&&(this.width=ti(e.width)),e.opacity!==void 0&&(this.opacity=ti(e.opacity)))}}class c9 extends ou{constructor(){super(),this.opacityRate=1,this.sizeRate=1,this.velocityRate=1}load(e){super.load(e),!Lt(e)&&(e.opacityRate!==void 0&&(this.opacityRate=e.opacityRate),e.sizeRate!==void 0&&(this.sizeRate=e.sizeRate),e.velocityRate!==void 0&&(this.velocityRate=e.velocityRate))}}class u9{constructor(e,t){this._engine=e,this._container=t,this.bounce=new f4,this.collisions=new H8,this.color=new Bp,this.color.value="#fff",this.effect=new G8,this.groups={},this.move=new J8,this.number=new r9,this.opacity=new t9,this.reduceDuplicates=!1,this.shadow=new s9,this.shape=new o9,this.size=new l9,this.stroke=new O3,this.zIndex=new c9}load(e){if(Lt(e))return;if(e.groups!==void 0)for(const i of Object.keys(e.groups)){if(!Object.hasOwn(e.groups,i))continue;const r=e.groups[i];r!==void 0&&(this.groups[i]=ss(this.groups[i]??{},r))}e.reduceDuplicates!==void 0&&(this.reduceDuplicates=e.reduceDuplicates),this.bounce.load(e.bounce),this.color.load(Bp.create(this.color,e.color)),this.effect.load(e.effect),this.move.load(e.move),this.number.load(e.number),this.opacity.load(e.opacity),this.shape.load(e.shape),this.size.load(e.size),this.shadow.load(e.shadow),this.zIndex.load(e.zIndex),this.collisions.load(e.collisions),e.interactivity!==void 0&&(this.interactivity=ss({},e.interactivity));const t=e.stroke;if(t&&(this.stroke=Ys(t,i=>{const r=new O3;return r.load(i),r})),this._container){const i=this._engine.updaters.get(this._container);if(i)for(const s of i)s.loadOptions&&s.loadOptions(this,e);const r=this._engine.interactors.get(this._container);if(r)for(const s of r)s.loadParticlesOptions&&s.loadParticlesOptions(this,e)}}}function p4(n,...e){for(const t of e)n.load(t)}function dM(n,e,...t){const i=new u9(n,e);return p4(i,...t),i}class h9{constructor(e,t){this._findDefaultTheme=i=>this.themes.find(r=>r.default.value&&r.default.mode===i)??this.themes.find(r=>r.default.value&&r.default.mode===Ap.any),this._importPreset=i=>{this.load(this._engine.getPreset(i))},this._engine=e,this._container=t,this.autoPlay=!0,this.background=new w8,this.backgroundMask=new T8,this.clear=!0,this.defaultThemes={},this.delay=0,this.fullScreen=new A8,this.detectRetina=!0,this.duration=0,this.fpsLimit=120,this.interactivity=new h4(e,t),this.manualParticles=[],this.particles=dM(this._engine,this._container),this.pauseOnBlur=!0,this.pauseOnOutsideViewport=!0,this.responsive=[],this.smooth=!1,this.style={},this.themes=[],this.zLayers=100}load(e){if(Lt(e))return;e.preset!==void 0&&Ys(e.preset,o=>this._importPreset(o)),e.autoPlay!==void 0&&(this.autoPlay=e.autoPlay),e.clear!==void 0&&(this.clear=e.clear),e.key!==void 0&&(this.key=e.key),e.name!==void 0&&(this.name=e.name),e.delay!==void 0&&(this.delay=ti(e.delay));const t=e.detectRetina;t!==void 0&&(this.detectRetina=t),e.duration!==void 0&&(this.duration=ti(e.duration));const i=e.fpsLimit;i!==void 0&&(this.fpsLimit=i),e.pauseOnBlur!==void 0&&(this.pauseOnBlur=e.pauseOnBlur),e.pauseOnOutsideViewport!==void 0&&(this.pauseOnOutsideViewport=e.pauseOnOutsideViewport),e.zLayers!==void 0&&(this.zLayers=e.zLayers),this.background.load(e.background);const r=e.fullScreen;KF(r)?this.fullScreen.enable=r:this.fullScreen.load(r),this.backgroundMask.load(e.backgroundMask),this.interactivity.load(e.interactivity),e.manualParticles&&(this.manualParticles=e.manualParticles.map(o=>{const l=new I8;return l.load(o),l})),this.particles.load(e.particles),this.style=ss(this.style,e.style),this._engine.loadOptions(this,e),e.smooth!==void 0&&(this.smooth=e.smooth);const s=this._engine.interactors.get(this._container);if(s)for(const o of s)o.loadOptions&&o.loadOptions(this,e);if(e.responsive!==void 0)for(const o of e.responsive){const l=new D8;l.load(o),this.responsive.push(l)}if(this.responsive.sort((o,l)=>o.maxWidth-l.maxWidth),e.themes!==void 0)for(const o of e.themes){const l=this.themes.find(a=>a.name===o.name);if(l)l.load(o);else{const a=new B8;a.load(o),this.themes.push(a)}}this.defaultThemes.dark=this._findDefaultTheme(Ap.dark)?.name,this.defaultThemes.light=this._findDefaultTheme(Ap.light)?.name}setResponsive(e,t,i){this.load(i);const r=this.responsive.find(s=>s.mode===eg.screen&&screen?s.maxWidth>screen.availWidth:s.maxWidth*t>e);return this.load(r?.options),r?.maxWidth}setTheme(e){if(e){const t=this.themes.find(i=>i.name===e);t&&this.load(t.options)}else{const t=rM("(prefers-color-scheme: dark)"),i=t?.matches,r=this._findDefaultTheme(i?Ap.dark:Ap.light);r&&this.load(r.options)}}}var l0;(function(n){n.external="external",n.particles="particles"})(l0||(l0={}));class d9{constructor(e,t){this.container=t,this._engine=e,this._interactors=[],this._externalInteractors=[],this._particleInteractors=[]}externalInteract(e){for(const t of this._externalInteractors)t.isEnabled()&&t.interact(e)}handleClickMode(e){for(const t of this._externalInteractors)t.handleClickMode?.(e)}async init(){this._interactors=await this._engine.getInteractors(this.container,!0),this._externalInteractors=[],this._particleInteractors=[];for(const e of this._interactors){switch(e.type){case l0.external:this._externalInteractors.push(e);break;case l0.particles:this._particleInteractors.push(e);break}e.init()}}particlesInteract(e,t){for(const i of this._externalInteractors)i.clear(e,t);for(const i of this._particleInteractors)i.isEnabled(e)&&i.interact(e,t)}reset(e){for(const t of this._externalInteractors)t.isEnabled()&&t.reset(e);for(const t of this._particleInteractors)t.isEnabled(e)&&t.reset(e)}}var yh;(function(n){n.normal="normal",n.inside="inside",n.outside="outside"})(yh||(yh={}));function f9(n,e,t,i){const r=e.options[n];if(r)return ss({close:e.close,fill:e.fill},sa(r,t,i))}function p9(n,e,t,i){const r=e.options[n];if(r)return ss({close:e.close,fill:e.fill},sa(r,t,i))}function L3(n){if(!fs(n.outMode,n.checkModes))return;const e=n.radius*Ka;n.coord>n.maxCoord-e?n.setCb(-n.radius):n.coord<e&&n.setCb(n.radius)}class m9{constructor(e,t){this.container=t,this._calcPosition=(i,r,s,o=c3)=>{for(const _ of i.plugins.values()){const p=_.particlePosition!==void 0?_.particlePosition(r,this):void 0;if(p)return eu.create(p.x,p.y,s)}const l=i.canvas.size,a=YV({size:l,position:r}),u=eu.create(a.x,a.y,s),m=this.getRadius(),d=this.options.move.outModes,b=_=>{L3({outMode:_,checkModes:[Sa.bounce],coord:u.x,maxCoord:i.canvas.size.width,setCb:p=>u.x+=p,radius:m})},g=_=>{L3({outMode:_,checkModes:[Sa.bounce],coord:u.y,maxCoord:i.canvas.size.height,setCb:p=>u.y+=p,radius:m})};return b(d.left??d.default),b(d.right??d.default),g(d.top??d.default),g(d.bottom??d.default),this._checkOverlap(u,o)?this._calcPosition(i,void 0,s,o+MV):u},this._calculateVelocity=()=>{const i=qV(this.direction),r=i.copy(),s=this.options.move;if(s.direction===hl.inside||s.direction===hl.outside)return r;const o=vh(Kt(s.angle.value)),l=vh(Kt(s.angle.offset)),a={left:l-o*_r,right:l+o*_r};return s.straight||(r.angle+=ra(ti(a.left,a.right))),s.random&&typeof s.speed=="number"&&(r.length*=Gn()),r},this._checkOverlap=(i,r=c3)=>{const s=this.options.collisions,o=this.getRadius();if(!s.enable)return!1;const l=s.overlap;if(l.enable)return!1;const a=l.retries;if(a>=OV&&r>a)throw new Error(`${Za} particle is overlapping and can't be placed`);return!!this.container.particles.find(u=>fl(i,u.position)<o+u.getRadius())},this._getRollColor=i=>{if(!i||!this.roll||!this.backColor&&!this.roll.alter)return i;const r=this.roll.horizontal&&this.roll.vertical?Ka*v3:v3,s=this.roll.horizontal?Math.PI*_r:d_;return Math.floor(((this.roll.angle??d_)+s)/(Math.PI/r))%Ka?this.backColor?this.backColor:this.roll.alter?b8(i,this.roll.alter.type,this.roll.alter.value):i:i},this._initPosition=i=>{const r=this.container,s=Kt(this.options.zIndex.value);this.position=this._calcPosition(r,i,Ic(s,LV,r.zLayers)),this.initialPosition=this.position.copy();const o=r.canvas.size;switch(this.moveCenter={...aM(this.options.move.center,o),radius:this.options.move.center.radius??PV,mode:this.options.move.center.mode??Sh.percent},this.direction=XV(this.options.move.direction,this.position,this.moveCenter),this.options.move.direction){case hl.inside:this.outType=yh.inside;break;case hl.outside:this.outType=yh.outside;break}this.offset=Lr.origin},this._engine=e}destroy(e){if(this.unbreakable||this.destroyed)return;this.destroyed=!0,this.bubble.inRange=!1,this.slow.inRange=!1;const t=this.container,i=this.pathGenerator;t.shapeDrawers.get(this.shape)?.particleDestroy?.(this);for(const s of t.plugins.values())s.particleDestroyed?.(this,e);for(const s of t.particles.updaters)s.particleDestroyed?.(this,e);i?.reset(this),this._engine.dispatchEvent(oc.particleDestroyed,{container:this.container,data:{particle:this}})}draw(e){const t=this.container,i=t.canvas;for(const r of t.plugins.values())i.drawParticlePlugin(r,this,e);i.drawParticle(this,e)}getFillColor(){return this._getRollColor(this.bubble.color??T3(this.color))}getMass(){return this.getRadius()**lf*Math.PI*_r}getPosition(){return{x:this.position.x+this.offset.x,y:this.position.y+this.offset.y,z:this.position.z}}getRadius(){return this.bubble.radius??this.size.value}getStrokeColor(){return this._getRollColor(this.bubble.color??T3(this.strokeColor))}init(e,t,i,r){const s=this.container,o=this._engine;this.id=e,this.group=r,this.effectClose=!0,this.effectFill=!0,this.shapeClose=!0,this.shapeFill=!0,this.pathRotation=!1,this.lastPathTime=0,this.destroyed=!1,this.unbreakable=!1,this.isRotating=!1,this.rotation=0,this.misplaced=!1,this.retina={maxDistance:{}},this.outType=yh.normal,this.ignoresResizeRatio=!0;const l=s.retina.pixelRatio,a=s.actualOptions,u=dM(this._engine,s,a.particles),{reduceDuplicates:m}=u,d=u.effect.type,b=u.shape.type;this.effect=sa(d,this.id,m),this.shape=sa(b,this.id,m);const g=u.effect,_=u.shape;if(i){if(i.effect?.type){const C=i.effect.type,I=sa(C,this.id,m);I&&(this.effect=I,g.load(i.effect))}if(i.shape?.type){const C=i.shape.type,I=sa(C,this.id,m);I&&(this.shape=I,_.load(i.shape))}}if(this.effect===i0){const C=[...this.container.effectDrawers.keys()];this.effect=C[Math.floor(Gn()*C.length)]}if(this.shape===i0){const C=[...this.container.shapeDrawers.keys()];this.shape=C[Math.floor(Gn()*C.length)]}this.effectData=f9(this.effect,g,this.id,m),this.shapeData=p9(this.shape,_,this.id,m),u.load(i);const p=this.effectData;p&&u.load(p.particles);const v=this.shapeData;v&&u.load(v.particles);const c=new h4(o,s);c.load(s.actualOptions.interactivity),c.load(u.interactivity),this.interactivity=c,this.effectFill=p?.fill??u.effect.fill,this.effectClose=p?.close??u.effect.close,this.shapeFill=v?.fill??u.shape.fill,this.shapeClose=v?.close??u.shape.close,this.options=u;const x=this.options.move.path;this.pathDelay=Kt(x.delay.value)*Ps,x.generator&&(this.pathGenerator=this._engine.getPathGenerator(x.generator),this.pathGenerator&&s.addPath(x.generator,this.pathGenerator)&&this.pathGenerator.init(s)),s.retina.initParticle(this),this.size=r4(this.options.size,l),this.bubble={inRange:!1},this.slow={inRange:!1,factor:1},this._initPosition(t),this.initialVelocity=this._calculateVelocity(),this.velocity=this.initialVelocity.copy(),this.moveDecay=jF-Kt(this.options.move.decay);const w=s.particles;w.setLastZIndex(this.position.z),this.zIndexFactor=this.position.z/s.zLayers,this.sides=24;let T=s.effectDrawers.get(this.effect);T||(T=this._engine.getEffectDrawer(this.effect),T&&s.effectDrawers.set(this.effect,T)),T?.loadEffect&&T.loadEffect(this);let L=s.shapeDrawers.get(this.shape);L||(L=this._engine.getShapeDrawer(this.shape),L&&s.shapeDrawers.set(this.shape,L)),L?.loadShape&&L.loadShape(this);const P=L?.getSidesCount;P&&(this.sides=P(this)),this.spawning=!1,this.shadowColor=pl(this._engine,this.options.shadow.color);for(const C of w.updaters)C.init(this);for(const C of w.movers)C.init?.(this);T?.particleInit?.(s,this),L?.particleInit?.(s,this);for(const C of s.plugins.values())C.particleCreated?.(this)}isInsideCanvas(){const e=this.getRadius(),t=this.container.canvas.size,i=this.position;return i.x>=-e&&i.y>=-e&&i.y<=t.height+e&&i.x<=t.width+e}isVisible(){return!this.destroyed&&!this.spawning&&this.isInsideCanvas()}reset(){for(const e of this.container.particles.updaters)e.reset?.(this)}}class g9{constructor(e,t){this.position=e,this.particle=t}}var Kv;(function(n){n.circle="circle",n.rectangle="rectangle"})(Kv||(Kv={}));class m4{constructor(e,t,i){this.position={x:e,y:t},this.type=i}}class Ll extends m4{constructor(e,t,i){super(e,t,Kv.circle),this.radius=i}contains(e){return fl(e,this.position)<=this.radius}intersects(e){const t=this.position,i=e.position,r={x:Math.abs(i.x-t.x),y:Math.abs(i.y-t.y)},s=this.radius;if(e instanceof Ll||e.type===Kv.circle){const o=e,l=s+o.radius,a=Math.sqrt(r.x**lf+r.y**lf);return l>a}else if(e instanceof Eh||e.type===Kv.rectangle){const o=e,{width:l,height:a}=o.size;return Math.pow(r.x-l,lf)+Math.pow(r.y-a,lf)<=s**lf||r.x<=s+l&&r.y<=s+a||r.x<=l||r.y<=a}return!1}}class Eh extends m4{constructor(e,t,i,r){super(e,t,Kv.rectangle),this.size={height:r,width:i}}contains(e){const t=this.size.width,i=this.size.height,r=this.position;return e.x>=r.x&&e.x<=r.x+t&&e.y>=r.y&&e.y<=r.y+i}intersects(e){if(e instanceof Ll)return e.intersects(this);const t=this.size.width,i=this.size.height,r=this.position,s=e.position,o=e instanceof Eh?e.size:{width:0,height:0},l=o.width,a=o.height;return s.x<r.x+t&&s.x+l>r.x&&s.y<r.y+i&&s.y+a>r.y}}class X1{constructor(e,t){this.rectangle=e,this.capacity=t,this._subdivide=()=>{const{x:i,y:r}=this.rectangle.position,{width:s,height:o}=this.rectangle.size,{capacity:l}=this;for(let a=0;a<pV;a++){const u=a%Ka;this._subs.push(new X1(new Eh(i+s*_r*u,r+o*_r*(Math.round(a*_r)-u),s*_r,o*_r),l))}this._divided=!0},this._points=[],this._divided=!1,this._subs=[]}insert(e){return this.rectangle.contains(e.position)?this._points.length<this.capacity?(this._points.push(e),!0):(this._divided||this._subdivide(),this._subs.some(t=>t.insert(e))):!1}query(e,t){const i=[];if(!e.intersects(this.rectangle))return[];for(const r of this._points)!e.contains(r.position)&&fl(e.position,r.position)>r.particle.getRadius()&&(!t||t(r.particle))||i.push(r.particle);if(this._divided)for(const r of this._subs)i.push(...r.query(e,t));return i}queryCircle(e,t,i){return this.query(new Ll(e.x,e.y,t),i)}queryRectangle(e,t,i){return this.query(new Eh(e.x,e.y,t.width,t.height),i)}}const P3=n=>{const{height:e,width:t}=n;return new Eh(y3*t,y3*e,_3*t,_3*e)};let v9=class{constructor(e,t){this._addToPool=(...r)=>{this._pool.push(...r)},this._applyDensity=(r,s,o,l)=>{const a=r.number;if(!r.number.density?.enable){o===void 0?this._limit=a.limit.value:(l?.number.limit?.value??a.limit.value)&&this._groupLimits.set(o,l?.number.limit?.value??a.limit.value);return}const u=this._initDensityFactor(a.density),m=a.value,d=a.limit.value>b3?a.limit.value:m,b=Math.min(m,d)*u+s,g=Math.min(this.count,this.filter(_=>_.group===o).length);o===void 0?this._limit=a.limit.value*u:this._groupLimits.set(o,a.limit.value*u),g<b?this.push(Math.abs(b-g),void 0,r,o):g>b&&this.removeQuantity(g-b,o)},this._initDensityFactor=r=>{const s=this._container;if(!s.canvas.element||!r.enable)return DV;const o=s.canvas.element,l=s.retina.pixelRatio;return o.width*o.height/(r.height*r.width*l**lf)},this._pushParticle=(r,s,o,l)=>{try{let a=this._pool.pop();a||(a=new m9(this._engine,this._container)),a.init(this._nextId,r,s,o);let u=!0;return l&&(u=l(a)),u?(this._array.push(a),this._zArray.push(a),this._nextId++,this._engine.dispatchEvent(oc.particleAdded,{container:this._container,data:{particle:a}}),a):void 0}catch(a){Sf().warning(`${Za} adding particle: ${a}`)}},this._removeParticle=(r,s,o)=>{const l=this._array[r];if(!l||l.group!==s)return!1;const a=this._zArray.indexOf(l);return this._array.splice(r,j1),this._zArray.splice(a,j1),l.destroy(o),this._engine.dispatchEvent(oc.particleRemoved,{container:this._container,data:{particle:l}}),this._addToPool(l),!0},this._engine=e,this._container=t,this._nextId=0,this._array=[],this._zArray=[],this._pool=[],this._limit=0,this._groupLimits=new Map,this._needsSort=!1,this._lastZIndex=0,this._interactionManager=new d9(e,t),this._pluginsInitialized=!1;const i=t.canvas.size;this.quadTree=new X1(P3(i),u3),this.movers=[],this.updaters=[]}get count(){return this._array.length}addManualParticles(){const e=this._container;e.actualOptions.manualParticles.forEach(i=>this.addParticle(i.position?aM(i.position,e.canvas.size):void 0,i.options))}addParticle(e,t,i,r){const s=this._container.actualOptions.particles.number.limit.mode,o=i===void 0?this._limit:this._groupLimits.get(i)??this._limit,l=this.count;if(o>b3)switch(s){case f_.delete:{const a=l+NV-o;a>IV&&this.removeQuantity(a);break}case f_.wait:if(l>=o)return;break}return this._pushParticle(e,t,i,r)}clear(){this._array=[],this._zArray=[],this._pluginsInitialized=!1}destroy(){this._array=[],this._zArray=[],this.movers=[],this.updaters=[]}draw(e){const t=this._container,i=t.canvas;i.clear(),this.update(e);for(const r of t.plugins.values())i.drawPlugin(r,e);for(const r of this._zArray)r.draw(e)}filter(e){return this._array.filter(e)}find(e){return this._array.find(e)}get(e){return this._array[e]}handleClickMode(e){this._interactionManager.handleClickMode(e)}async init(){const e=this._container,t=e.actualOptions;this._lastZIndex=0,this._needsSort=!1,await this.initPlugins();let i=!1;for(const r of e.plugins.values())if(i=r.particlesInitialization?.()??i,i)break;if(this.addManualParticles(),!i){const r=t.particles,s=r.groups;for(const o in s){const l=s[o];for(let a=this.count,u=0;u<l.number?.value&&a<r.number.value;a++,u++)this.addParticle(void 0,l,o)}for(let o=this.count;o<r.number.value;o++)this.addParticle()}}async initPlugins(){if(this._pluginsInitialized)return;const e=this._container;this.movers=await this._engine.getMovers(e,!0),this.updaters=await this._engine.getUpdaters(e,!0),await this._interactionManager.init();for(const t of e.pathGenerators.values())t.init(e)}push(e,t,i,r){for(let s=0;s<e;s++)this.addParticle(t?.position,i,r)}async redraw(){this.clear(),await this.init(),this.draw({value:0,factor:0})}remove(e,t,i){this.removeAt(this._array.indexOf(e),void 0,t,i)}removeAt(e,t=fV,i,r){if(e<NA||e>this.count)return;let s=0;for(let o=e;s<t&&o<this.count;o++)this._removeParticle(o,i,r)&&(o--,s++)}removeQuantity(e,t){this.removeAt(NA,e,t)}setDensity(){const e=this._container.actualOptions,t=e.particles.groups,i=e.manualParticles.length;for(const r in t)this._applyDensity(t[r],i,r);this._applyDensity(e.particles,i)}setLastZIndex(e){this._lastZIndex=e,this._needsSort=this._needsSort||this._lastZIndex<e}setResizeFactor(e){this._resizeFactor=e}update(e){const t=this._container,i=new Set;this.quadTree=new X1(P3(t.canvas.size),u3);for(const s of t.pathGenerators.values())s.update();for(const s of t.plugins.values())s.update?.(e);const r=this._resizeFactor;for(const s of this._array){r&&!s.ignoresResizeRatio&&(s.position.x*=r.width,s.position.y*=r.height,s.initialPosition.x*=r.width,s.initialPosition.y*=r.height),s.ignoresResizeRatio=!1,this._interactionManager.reset(s);for(const o of this._container.plugins.values()){if(s.destroyed)break;o.particleUpdate?.(s,e)}for(const o of this.movers)o.isEnabled(s)&&o.move(s,e);if(s.destroyed){i.add(s);continue}this.quadTree.insert(new g9(s.getPosition(),s))}if(i.size){const s=o=>!i.has(o);this._array=this.filter(s),this._zArray=this._zArray.filter(s);for(const o of i)this._engine.dispatchEvent(oc.particleRemoved,{container:this._container,data:{particle:o}});this._addToPool(...i)}this._interactionManager.externalInteract(e);for(const s of this._array){for(const o of this.updaters)o.update(s,e);!s.destroyed&&!s.spawning&&this._interactionManager.particlesInteract(s,e)}if(delete this._resizeFactor,this._needsSort){const s=this._zArray;s.sort((o,l)=>l.position.z-o.position.z||o.id-l.id),this._lastZIndex=s[s.length-XF].position.z,this._needsSort=!1}}};class y9{constructor(e){this.container=e,this.pixelRatio=h3,this.reduceFactor=d3}init(){const e=this.container,t=e.actualOptions;this.pixelRatio=!t.detectRetina||mg()?h3:devicePixelRatio,this.reduceFactor=d3;const i=this.pixelRatio,r=e.canvas;if(r.element){const l=r.element;r.size.width=l.offsetWidth*i,r.size.height=l.offsetHeight*i}const s=t.particles,o=s.move;this.maxSpeed=Kt(o.gravity.maxSpeed)*i,this.sizeAnimationSpeed=Kt(s.size.animation.speed)*i}initParticle(e){const t=e.options,i=this.pixelRatio,r=t.move,s=r.distance,o=e.retina;o.moveDrift=Kt(r.drift)*i,o.moveSpeed=Kt(r.speed)*i,o.sizeAnimationSpeed=Kt(t.size.animation.speed)*i;const l=o.maxDistance;l.horizontal=s.horizontal!==void 0?s.horizontal*i:void 0,l.vertical=s.vertical!==void 0?s.vertical*i:void 0,o.maxSpeed=Kt(r.gravity.maxSpeed)*i}}function Ho(n){return n&&!n.destroyed}function _9(n,e=pC,t=!1){return{value:n,factor:t?pC/e:pC*n/Ps}}function lv(n,e,...t){const i=new h9(n,e);return p4(i,...t),i}let b9=class{constructor(e,t,i){this._intersectionManager=r=>{if(!(!Ho(this)||!this.actualOptions.pauseOnOutsideViewport))for(const s of r)s.target===this.interactivity.element&&(s.isIntersecting?this.play():this.pause())},this._nextFrame=r=>{try{if(!this._smooth&&this._lastFrameTime!==void 0&&r<this._lastFrameTime+Ps/this.fpsLimit){this.draw(!1);return}this._lastFrameTime??=r;const s=_9(r-this._lastFrameTime,this.fpsLimit,this._smooth);if(this.addLifeTime(s.value),this._lastFrameTime=r,s.value>Ps){this.draw(!1);return}if(this.particles.draw(s),!this.alive()){this.destroy();return}this.animationStatus&&this.draw(!1)}catch(s){Sf().error(`${Za} in animation loop`,s)}},this._engine=e,this.id=Symbol(t),this.fpsLimit=120,this._smooth=!1,this._delay=0,this._duration=0,this._lifeTime=0,this._firstStart=!0,this.started=!1,this.destroyed=!1,this._paused=!0,this._lastFrameTime=0,this.zLayers=100,this.pageHidden=!1,this._clickHandlers=new Map,this._sourceOptions=i,this._initialSourceOptions=i,this.retina=new y9(this),this.canvas=new S8(this,this._engine),this.particles=new v9(this._engine,this),this.pathGenerators=new Map,this.interactivity={mouse:{clicking:!1,inside:!1}},this.plugins=new Map,this.effectDrawers=new Map,this.shapeDrawers=new Map,this._options=lv(this._engine,this),this.actualOptions=lv(this._engine,this),this._eventListeners=new E8(this),this._intersectionObserver=e8(r=>this._intersectionManager(r)),this._engine.dispatchEvent(oc.containerBuilt,{container:this})}get animationStatus(){return!this._paused&&!this.pageHidden&&Ho(this)}get options(){return this._options}get sourceOptions(){return this._sourceOptions}addClickHandler(e){if(!Ho(this))return;const t=this.interactivity.element;if(!t)return;const i=(d,b,g)=>{if(!Ho(this))return;const _=this.retina.pixelRatio,p={x:b.x*_,y:b.y*_},v=this.particles.quadTree.queryCircle(p,g*_);e(d,v)},r=d=>{if(!Ho(this))return;const b=d,g={x:b.offsetX||b.clientX,y:b.offsetY||b.clientY};i(d,g,xV)},s=()=>{Ho(this)&&(u=!0,m=!1)},o=()=>{Ho(this)&&(m=!0)},l=d=>{if(Ho(this)){if(u&&!m){const b=d;let g=b.touches[b.touches.length-g3];if(!g&&(g=b.changedTouches[b.changedTouches.length-g3],!g))return;const _=this.canvas.element,p=_?_.getBoundingClientRect():void 0,v={x:g.clientX-(p?p.left:W1),y:g.clientY-(p?p.top:W1)};i(d,v,Math.max(g.radiusX,g.radiusY))}u=!1,m=!1}},a=()=>{Ho(this)&&(u=!1,m=!1)};let u=!1,m=!1;this._clickHandlers.set("click",r),this._clickHandlers.set("touchstart",s),this._clickHandlers.set("touchmove",o),this._clickHandlers.set("touchend",l),this._clickHandlers.set("touchcancel",a);for(const[d,b]of this._clickHandlers)t.addEventListener(d,b)}addLifeTime(e){this._lifeTime+=e}addPath(e,t,i=!1){return!Ho(this)||!i&&this.pathGenerators.has(e)?!1:(this.pathGenerators.set(e,t),!0)}alive(){return!this._duration||this._lifeTime<=this._duration}clearClickHandlers(){if(Ho(this)){for(const[e,t]of this._clickHandlers)this.interactivity.element?.removeEventListener(e,t);this._clickHandlers.clear()}}destroy(e=!0){if(Ho(this)){this.stop(),this.clearClickHandlers(),this.particles.destroy(),this.canvas.destroy();for(const t of this.effectDrawers.values())t.destroy?.(this);for(const t of this.shapeDrawers.values())t.destroy?.(this);for(const t of this.effectDrawers.keys())this.effectDrawers.delete(t);for(const t of this.shapeDrawers.keys())this.shapeDrawers.delete(t);if(this._engine.clearPlugins(this),this.destroyed=!0,e){const t=this._engine.items,i=t.findIndex(r=>r===this);i>=SV&&t.splice(i,WF)}this._engine.dispatchEvent(oc.containerDestroyed,{container:this})}}draw(e){if(!Ho(this))return;let t=e;const i=r=>{t&&(this._lastFrameTime=void 0,t=!1),this._nextFrame(r)};this._drawAnimationFrame=WV(r=>i(r))}async export(e,t={}){for(const i of this.plugins.values()){if(!i.export)continue;const r=await i.export(e,t);if(r.supported)return r.blob}Sf().error(`${Za} - Export plugin with type ${e} not found`)}handleClickMode(e){if(Ho(this)){this.particles.handleClickMode(e);for(const t of this.plugins.values())t.handleClickMode?.(e)}}async init(){if(!Ho(this))return;const e=this._engine.getSupportedEffects();for(const u of e){const m=this._engine.getEffectDrawer(u);m&&this.effectDrawers.set(u,m)}const t=this._engine.getSupportedShapes();for(const u of t){const m=this._engine.getShapeDrawer(u);m&&this.shapeDrawers.set(u,m)}await this.particles.initPlugins(),this._options=lv(this._engine,this,this._initialSourceOptions,this.sourceOptions),this.actualOptions=lv(this._engine,this,this._options);const i=await this._engine.getAvailablePlugins(this);for(const[u,m]of i)this.plugins.set(u,m);this.retina.init(),await this.canvas.init(),this.updateActualOptions(),this.canvas.initBackground(),this.canvas.resize();const{zLayers:r,duration:s,delay:o,fpsLimit:l,smooth:a}=this.actualOptions;this.zLayers=r,this._duration=Kt(s)*Ps,this._delay=Kt(o)*Ps,this._lifeTime=0,this.fpsLimit=l>wV?l:EV,this._smooth=a;for(const u of this.effectDrawers.values())await u.init?.(this);for(const u of this.shapeDrawers.values())await u.init?.(this);for(const u of this.plugins.values())await u.init?.();this._engine.dispatchEvent(oc.containerInit,{container:this}),await this.particles.init(),this.particles.setDensity();for(const u of this.plugins.values())u.particlesSetup?.();this._engine.dispatchEvent(oc.particlesSetup,{container:this})}async loadTheme(e){Ho(this)&&(this._currentTheme=e,await this.refresh())}pause(){if(Ho(this)&&(this._drawAnimationFrame!==void 0&&(jV(this._drawAnimationFrame),delete this._drawAnimationFrame),!this._paused)){for(const e of this.plugins.values())e.pause?.();this.pageHidden||(this._paused=!0),this._engine.dispatchEvent(oc.containerPaused,{container:this})}}play(e){if(!Ho(this))return;const t=this._paused||e;if(this._firstStart&&!this.actualOptions.autoPlay){this._firstStart=!1;return}if(this._paused&&(this._paused=!1),t)for(const i of this.plugins.values())i.play&&i.play();this._engine.dispatchEvent(oc.containerPlay,{container:this}),this.draw(t??!1)}async refresh(){if(Ho(this))return this.stop(),this.start()}async reset(e){if(Ho(this))return this._initialSourceOptions=e,this._sourceOptions=e,this._options=lv(this._engine,this,this._initialSourceOptions,this.sourceOptions),this.actualOptions=lv(this._engine,this,this._options),this.refresh()}async start(){!Ho(this)||this.started||(await this.init(),this.started=!0,await new Promise(e=>{const t=async()=>{this._eventListeners.addListeners(),this.interactivity.element instanceof HTMLElement&&this._intersectionObserver&&this._intersectionObserver.observe(this.interactivity.element);for(const i of this.plugins.values())await i.start?.();this._engine.dispatchEvent(oc.containerStarted,{container:this}),this.play(),e()};this._delayTimeout=setTimeout(()=>void t(),this._delay)}))}stop(){if(!(!Ho(this)||!this.started)){this._delayTimeout&&(clearTimeout(this._delayTimeout),delete this._delayTimeout),this._firstStart=!0,this.started=!1,this._eventListeners.removeListeners(),this.pause(),this.particles.clear(),this.canvas.stop(),this.interactivity.element instanceof HTMLElement&&this._intersectionObserver&&this._intersectionObserver.unobserve(this.interactivity.element);for(const e of this.plugins.values())e.stop?.();for(const e of this.plugins.keys())this.plugins.delete(e);this._sourceOptions=this._options,this._engine.dispatchEvent(oc.containerStopped,{container:this})}}updateActualOptions(){this.actualOptions.responsive=[];const e=this.actualOptions.setResponsive(this.canvas.size.width,this.retina.pixelRatio,this._options);return this.actualOptions.setTheme(this._currentTheme),this._responsiveMaxWidth===e?!1:(this._responsiveMaxWidth=e,!0)}},x9=class{constructor(){this._listeners=new Map}addEventListener(e,t){this.removeEventListener(e,t);let i=this._listeners.get(e);i||(i=[],this._listeners.set(e,i)),i.push(t)}dispatchEvent(e,t){this._listeners.get(e)?.forEach(r=>r(t))}hasEventListener(e){return!!this._listeners.get(e)}removeAllEventListeners(e){e?this._listeners.delete(e):this._listeners=new Map}removeEventListener(e,t){const i=this._listeners.get(e);if(!i)return;const r=i.length,s=i.indexOf(t);s<NA||(r===j1?this._listeners.delete(e):i.splice(s,j1))}};async function EC(n,e,t,i=!1){let r=e.get(n);return(!r||i)&&(r=await Promise.all([...t.values()].map(s=>s(n))),e.set(n,r)),r}async function S9(n){const e=sa(n.url,n.index);if(!e)return n.fallback;const t=await fetch(e);return t.ok?await t.json():(Sf().error(`${Za} ${t.status} while retrieving config file`),n.fallback)}const E9=n=>{let e;if(n instanceof HTMLCanvasElement||n.tagName.toLowerCase()===mC)e=n,e.dataset[Zm]||(e.dataset[Zm]=l3);else{const i=n.getElementsByTagName(mC);i.length?(e=i[CV],e.dataset[Zm]=l3):(e=document.createElement(mC),e.dataset[Zm]=GF,n.appendChild(e))}const t="100%";return e.style.width||(e.style.width=t),e.style.height||(e.style.height=t),e},w9=(n,e)=>{let t=e??document.getElementById(n);return t||(t=document.createElement("div"),t.id=n,t.dataset[Zm]=GF,document.body.append(t),t)};let C9=class{constructor(){this._configs=new Map,this._domArray=[],this._eventDispatcher=new x9,this._initialized=!1,this.plugins=[],this.colorManagers=new Map,this.easingFunctions=new Map,this._initializers={interactors:new Map,movers:new Map,updaters:new Map},this.interactors=new Map,this.movers=new Map,this.updaters=new Map,this.presets=new Map,this.effectDrawers=new Map,this.shapeDrawers=new Map,this.pathGenerators=new Map}get configs(){const e={};for(const[t,i]of this._configs)e[t]=i;return e}get items(){return this._domArray}get version(){return"3.9.1"}async addColorManager(e,t=!0){this.colorManagers.set(e.key,e),await this.refresh(t)}addConfig(e){const t=e.key??e.name??"default";this._configs.set(t,e),this._eventDispatcher.dispatchEvent(oc.configAdded,{data:{name:t,config:e}})}async addEasing(e,t,i=!0){this.getEasing(e)||(this.easingFunctions.set(e,t),await this.refresh(i))}async addEffect(e,t,i=!0){Ys(e,r=>{this.getEffectDrawer(r)||this.effectDrawers.set(r,t)}),await this.refresh(i)}addEventListener(e,t){this._eventDispatcher.addEventListener(e,t)}async addInteractor(e,t,i=!0){this._initializers.interactors.set(e,t),await this.refresh(i)}async addMover(e,t,i=!0){this._initializers.movers.set(e,t),await this.refresh(i)}async addParticleUpdater(e,t,i=!0){this._initializers.updaters.set(e,t),await this.refresh(i)}async addPathGenerator(e,t,i=!0){this.getPathGenerator(e)||this.pathGenerators.set(e,t),await this.refresh(i)}async addPlugin(e,t=!0){this.getPlugin(e.id)||this.plugins.push(e),await this.refresh(t)}async addPreset(e,t,i=!1,r=!0){(i||!this.getPreset(e))&&this.presets.set(e,t),await this.refresh(r)}async addShape(e,t=!0){for(const i of e.validTypes)this.getShapeDrawer(i)||this.shapeDrawers.set(i,e);await this.refresh(t)}checkVersion(e){if(this.version!==e)throw new Error(`The tsParticles version is different from the loaded plugins version. Engine version: ${this.version}. Plugin version: ${e}`)}clearPlugins(e){this.updaters.delete(e),this.movers.delete(e),this.interactors.delete(e)}dispatchEvent(e,t){this._eventDispatcher.dispatchEvent(e,t)}dom(){return this.items}domItem(e){return this.item(e)}async getAvailablePlugins(e){const t=new Map;for(const i of this.plugins)i.needsPlugin(e.actualOptions)&&t.set(i.id,await i.getPlugin(e));return t}getEasing(e){return this.easingFunctions.get(e)??(t=>t)}getEffectDrawer(e){return this.effectDrawers.get(e)}async getInteractors(e,t=!1){return EC(e,this.interactors,this._initializers.interactors,t)}async getMovers(e,t=!1){return EC(e,this.movers,this._initializers.movers,t)}getPathGenerator(e){return this.pathGenerators.get(e)}getPlugin(e){return this.plugins.find(t=>t.id===e)}getPreset(e){return this.presets.get(e)}getShapeDrawer(e){return this.shapeDrawers.get(e)}getSupportedEffects(){return this.effectDrawers.keys()}getSupportedShapes(){return this.shapeDrawers.keys()}async getUpdaters(e,t=!1){return EC(e,this.updaters,this._initializers.updaters,t)}init(){this._initialized||(this._initialized=!0)}item(e){const{items:t}=this,i=t[e];if(!i||i.destroyed){t.splice(e,WF);return}return i}async load(e){const t=e.id??e.element?.id??`tsparticles${Math.floor(Gn()*TV)}`,{index:i,url:r}=e,s=r?await S9({fallback:e.options,url:r,index:i}):e.options,o=sa(s,i),{items:l}=this,a=l.findIndex(b=>b.id.description===t),u=new b9(this,t,o);if(a>=AV){const b=this.item(a),g=b?RV:d_;b&&!b.destroyed&&b.destroy(!1),l.splice(a,g,u)}else l.push(u);const m=w9(t,e.element),d=E9(m);return u.canvas.loadCanvas(d),await u.start(),u}loadOptions(e,t){this.plugins.forEach(i=>i.loadOptions?.(e,t))}loadParticlesOptions(e,t,...i){const r=this.updaters.get(e);r&&r.forEach(s=>s.loadOptions?.(t,...i))}async refresh(e=!0){e&&await Promise.all(this.items.map(t=>t.refresh()))}removeEventListener(e,t){this._eventDispatcher.removeEventListener(e,t)}setOnClickHandler(e){const{items:t}=this;if(!t.length)throw new Error(`${Za} can only set click handlers after calling tsParticles.load()`);t.forEach(i=>i.addClickHandler(e))}};function T9(){const n=new C9;return n.init(),n}class Fc{constructor(e){this.type=l0.external,this.container=e}}class w0{constructor(e){this.type=l0.particles,this.container=e}}var ia;(function(n){n.clockwise="clockwise",n.counterClockwise="counter-clockwise",n.random="random"})(ia||(ia={}));var q1;(function(n){n.linear="linear",n.radial="radial",n.random="random"})(q1||(q1={}));var as;(function(n){n.easeInBack="ease-in-back",n.easeInCirc="ease-in-circ",n.easeInCubic="ease-in-cubic",n.easeInLinear="ease-in-linear",n.easeInQuad="ease-in-quad",n.easeInQuart="ease-in-quart",n.easeInQuint="ease-in-quint",n.easeInExpo="ease-in-expo",n.easeInSine="ease-in-sine",n.easeOutBack="ease-out-back",n.easeOutCirc="ease-out-circ",n.easeOutCubic="ease-out-cubic",n.easeOutLinear="ease-out-linear",n.easeOutQuad="ease-out-quad",n.easeOutQuart="ease-out-quart",n.easeOutQuint="ease-out-quint",n.easeOutExpo="ease-out-expo",n.easeOutSine="ease-out-sine",n.easeInOutBack="ease-in-out-back",n.easeInOutCirc="ease-in-out-circ",n.easeInOutCubic="ease-in-out-cubic",n.easeInOutLinear="ease-in-out-linear",n.easeInOutQuad="ease-in-out-quad",n.easeInOutQuart="ease-in-out-quart",n.easeInOutQuint="ease-in-out-quint",n.easeInOutExpo="ease-in-out-expo",n.easeInOutSine="ease-in-out-sine"})(as||(as={}));const SE=T9();mg()||(window.tsParticles=SE);const A9=n=>{const e=n.id??"tsparticles";return Q.useEffect(()=>{let t;return SE.load({id:e,url:n.url,options:n.options}).then(i=>{var r;t=i,(r=n.particlesLoaded)==null||r.call(n,i)}),()=>{t?.destroy()}},[e,n,n.url,n.options]),Le.jsx("div",{id:e,className:n.className})};async function R9(n){await n(SE)}const M9=120,O9=.5,L9=100,P9=3;class Y1{static init(e){const t=new Y1,i=e.selector;if(!i)throw new Error("No selector provided");const r=document.querySelector(i);if(!r)throw new Error("No element found for selector");return SE.load({element:r,id:i.replace(".","").replace("!",""),options:{fullScreen:{enable:!1},particles:{color:{value:e.color??"!000000"},links:{color:"random",distance:e.minDistance??M9,enable:e.connectParticles??!1},move:{enable:!0,speed:e.speed??O9},number:{value:e.maxParticles??L9},size:{value:{min:1,max:e.sizeVariations??P9}}},responsive:e.responsive?.map(s=>({maxWidth:s.breakpoint,options:{particles:{color:{value:s.options?.color},links:{distance:s.options?.minDistance,enable:s.options?.connectParticles},number:{value:e.maxParticles},move:{enable:!0,speed:s.options?.speed},size:{value:s.options?.sizeVariations}}}}))}}).then(s=>{t._container=s}),t}destroy(){this._container?.destroy()}pauseAnimation(){this._container?.pause()}resumeAnimation(){this._container?.play()}}const N9=0,I9=0,D9=3,F9={particles:{number:{value:400,density:{enable:!0,value_area:800}},color:{value:"#fff"},shape:{type:"circle",stroke:{width:0,color:"#ff0000"},polygon:{nb_sides:5},image:{src:"",width:100,height:100}},opacity:{value:1,random:!1,anim:{enable:!1,speed:2,opacity_min:0,sync:!1}},size:{value:20,random:!1,anim:{enable:!1,speed:20,size_min:0,sync:!1}},line_linked:{enable:!0,distance:100,color:"#fff",opacity:1,width:1},move:{enable:!0,speed:2,direction:"none",random:!1,straight:!1,out_mode:"out",bounce:!1,attract:{enable:!1,rotateX:3e3,rotateY:3e3}}},interactivity:{detect_on:"canvas",events:{onhover:{enable:!0,mode:"grab"},onclick:{enable:!0,mode:"push"},resize:!0},modes:{grab:{distance:100,line_linked:{opacity:1}},bubble:{distance:200,size:80,duration:.4,opacity:1,speed:3},repulse:{distance:200,duration:.4},push:{particles_nb:4},remove:{particles_nb:2}}},retina_detect:!1},B9=n=>{const e=(i,r)=>{const s=ss(F9,r);return n.load({id:i,options:{fullScreen:{enable:!1},detectRetina:s.retina_detect,smooth:!0,interactivity:{detectsOn:s.interactivity.detect_on,events:{onHover:{enable:s.interactivity.events.onhover.enable,mode:s.interactivity.events.onhover.mode},onClick:{enable:s.interactivity.events.onclick.enable,mode:s.interactivity.events.onclick.mode},resize:{enable:s.interactivity.events.resize}},modes:{grab:{distance:s.interactivity.modes.grab.distance,links:{opacity:s.interactivity.modes.grab.line_linked.opacity}},bubble:{distance:s.interactivity.modes.bubble.distance,size:s.interactivity.modes.bubble.size,duration:s.interactivity.modes.bubble.duration,opacity:s.interactivity.modes.bubble.opacity,speed:s.interactivity.modes.bubble.speed},repulse:{distance:s.interactivity.modes.repulse.distance,duration:s.interactivity.modes.repulse.duration},push:{quantity:s.interactivity.modes.push.particles_nb},remove:{quantity:s.interactivity.modes.remove.particles_nb}}},particles:{collisions:{enable:s.particles.move.bounce},number:{value:s.particles.number.value,density:{enable:s.particles.number.density.enable,width:s.particles.number.density.value_area}},color:{value:s.particles.color.value},stroke:{width:s.particles.shape.stroke.width,color:{value:s.particles.shape.stroke.color}},shape:{type:s.particles.shape.type,options:{polygon:{sides:s.particles.shape.polygon.nb_sides},image:{src:s.particles.shape.image.src,width:s.particles.shape.image.width,height:s.particles.shape.image.height}}},opacity:{value:s.particles.opacity.random?{min:s.particles.opacity.anim.enable?s.particles.opacity.anim.opacity_min:N9,max:s.particles.opacity.value}:s.particles.opacity.value,animation:{enable:s.particles.opacity.anim.enable,speed:s.particles.opacity.anim.speed,sync:s.particles.opacity.anim.sync}},size:{value:s.particles.size.random?{min:s.particles.size.anim.enable?s.particles.size.anim.size_min:I9,max:s.particles.size.value}:s.particles.size.value,animation:{enable:s.particles.size.anim.enable,speed:s.particles.size.anim.speed,sync:s.particles.size.anim.sync}},links:{enable:s.particles.line_linked.enable,distance:s.particles.line_linked.distance,color:s.particles.line_linked.color,opacity:s.particles.line_linked.opacity,width:s.particles.line_linked.width},move:{enable:s.particles.move.enable,speed:s.particles.move.speed/D9,direction:s.particles.move.direction,random:s.particles.move.random,straight:s.particles.move.straight,outModes:s.particles.move.out_mode,attract:{enable:s.particles.move.attract.enable,rotate:{x:s.particles.move.attract.rotateX,y:s.particles.move.attract.rotateY}}}}}})};e.load=(i,r,s)=>{n.load({id:i,url:r}).then(o=>{o&&s(o)}).catch(()=>{s(void 0)})},e.setOnClickHandler=i=>{n.setOnClickHandler(i)};const t=n.dom();return{particlesJS:e,pJSDom:t}},U9=n=>{n.checkVersion("3.9.1");const{particlesJS:e,pJSDom:t}=B9(n);return window.particlesJS=e,window.pJSDom=t,window.Particles=Y1,{particlesJS:e,pJSDom:t,Particles:Y1}},k9=2,z9=.5,$9=.2,H9=.5,tc=.5,wC={y:0};function G9(n){const{context:e,particle:t,radius:i}=n,r=i*k9,s=t.heightFactor??z9,o=t.headWidthFactor??$9,l=t.bodyHeightFactor??H9,a=r*s,u=r*o,m=a*l;e.moveTo(-r*tc,wC.y),e.lineTo(-r*tc,-m*tc),e.lineTo(r*tc-u,-m*tc),e.lineTo(r*tc-u,-a*tc),e.lineTo(r*tc+u,wC.y),e.lineTo(r*tc-u,a*tc),e.lineTo(r*tc-u,m*tc),e.lineTo(-r*tc,m*tc),e.lineTo(-r*tc,wC.y)}const V9=.5,W9=.2,j9=.5;class X9{constructor(){this.validTypes=["arrow"]}draw(e){G9(e)}particleInit(e,t){const i=t.shapeData;t.heightFactor=Kt(i?.heightFactor??V9),t.headWidthFactor=Kt(i?.headWidthFactor??W9),t.bodyHeightFactor=Kt(i?.bodyHeightFactor??j9)}}async function q9(n,e=!0){n.checkVersion("3.9.1"),await n.addShape(new X9,e)}const Y9=3;class K9{draw(e){const{context:t,radius:i}=e,r=i/Y9;t.beginPath(),t.arc(r,-r,r,qF,HF,!1),t.closePath(),t.fillStyle="#fff9",t.fill()}}async function Z9(n,e=!0){n.checkVersion("3.9.1"),await n.addEffect("bubble",new K9,e)}class Q9{constructor(){this.color=!0,this.opacity=!1}load(e){Lt(e)||(e.color!==void 0&&(this.color=e.color),e.opacity!==void 0&&(this.opacity=e.opacity))}}const J9=0;class e7{constructor(){this.filter=e=>e.a>J9,this.offset=4}load(e){if(!Lt(e)){if(e.filter!==void 0)if(dc(e.filter)){if(Object.hasOwn(window,e.filter)){const t=window[e.filter];bE(t)&&(this.filter=t)}}else this.filter=e.filter;e.offset!==void 0&&(this.offset=e.offset)}}}class t7{constructor(){this.src=""}load(e){Lt(e)||e.src!==void 0&&(this.src=e.src)}}class n7{constructor(){this.family="sans-serif",this.size=100}load(e){Lt(e)||(e.family!==void 0&&(this.family=e.family),e.size!==void 0&&(this.size=e.size),e.style!==void 0&&(this.style=e.style),e.variant!==void 0&&(this.variant=e.variant),e.weight!==void 0&&(this.weight=e.weight))}}class i7{constructor(){this.separator=`
`,this.spacing=10}load(e){Lt(e)||(e.separator!==void 0&&(this.separator=e.separator),e.spacing!==void 0&&(this.spacing=e.spacing))}}class r7{constructor(){this.color="#000000",this.font=new n7,this.lines=new i7,this.text=""}load(e){Lt(e)||(e.color!==void 0&&(this.color=e.color),this.font.load(e.font),this.lines.load(e.lines),e.text!==void 0&&(this.text=e.text))}}class s7{constructor(){this.enable=!1,this.override=new Q9,this.pixels=new e7,this.position={x:50,y:50},this.scale=1}load(e){Lt(e)||(e.element!==void 0&&e.element instanceof HTMLCanvasElement&&(this.element=e.element),e.enable!==void 0&&(this.enable=e.enable),e.image&&(this.image||(this.image=new t7),this.image.load(e.image)),this.pixels.load(e.pixels),e.position&&(this.position={x:e.position.x??this.position.x,y:e.position.y??this.position.y}),this.override.load(e.override),e.scale!==void 0&&(this.scale=e.scale),e.selector!==void 0&&(this.selector=e.selector),e.text&&(this.text||(this.text=new r7),this.text.load(e.text)))}}const N3=.5,df={x:0,y:0},o7=0;function a7(n,e,t,i,r,s){const{height:o,width:l}=e,a=o*l,u=u7(h7(a)),m=Math.min(a,n.actualOptions.particles.number.value),d=n.canvas.size;let b=0;const g={x:d.width*t.x/Sr-l*i*N3,y:d.height*t.y/Sr-o*i*N3};for(;b<m&&u.length;){const p=u.pop()??0,v={x:p%l,y:Math.floor(p/l)},c=e.pixels[v.y][v.x];if(!s(c))continue;const w={x:v.x*i+g.x,y:v.y*i+g.y},T={};r.color&&(T.color={value:c}),r.opacity&&(T.opacity={value:c.a}),n.particles.addParticle(w,T),b++}}function fM(n,e,t,i=!0){const r=n.getImageData(df.x,df.y,e.width,e.height).data;i&&n.clearRect(df.x,df.y,e.width,e.height);const s=[];for(let o=0;o<r.length;o+=t){const l=o/t,a={x:l%e.width,y:Math.floor(l/e.width)};s[a.y]||(s[a.y]=[]);const u={r:0,g:1,b:2,a:3},m=255;s[a.y][a.x]={r:r[o+u.r],g:r[o+u.g],b:r[o+u.b],a:r[o+u.a]/m}}return{pixels:s,width:Math.min(...s.map(o=>o.length)),height:s.length}}function l7(n,e){const t=new Image;t.crossOrigin="Anonymous";const i=new Promise((r,s)=>{t.onerror=s,t.onload=()=>{const o=document.createElement("canvas");o.width=t.width,o.height=t.height;const l=o.getContext("2d");if(!l)return s(new Error(`${Za} Could not get canvas context`));l.drawImage(t,df.x,df.y,t.width,t.height,df.x,df.y,o.width,o.height),r(fM(l,o,e))}});return t.src=n,i}function c7(n,e){const t=document.createElement("canvas"),i=t.getContext("2d"),{font:r,text:s,lines:o,color:l}=n;if(!s||!i)return;const a=s.split(o.separator),u=vl(r.size)?`${r.size}px`:r.size,m=[];let d=0,b=0;for(const _ of a){i.font=`${r.style??""} ${r.variant??""} ${r.weight??""} ${u} ${r.family}`;const p=i.measureText(_),v={measure:p,text:_,height:p.actualBoundingBoxAscent+p.actualBoundingBoxDescent,width:p.width};d=Math.max(d||o7,v.width),b+=v.height+o.spacing,m.push(v)}t.width=d,t.height=b;let g=0;for(const _ of m)i.font=`${r.style??""} ${r.variant??""} ${r.weight??""} ${u} ${r.family}`,i.fillStyle=l,i.fillText(_.text,df.x,g+_.measure.actualBoundingBoxAscent),g+=_.height+o.spacing;return fM(i,t,e)}function u7(n){for(let i=n.length-1;i>=0;i--){const r=Math.floor(Gn()*i);[n[i],n[r]]=[n[r],n[i]]}return n}const h7=n=>[...Array(n).keys()];class d7{constructor(e){this._container=e}async init(){const e=this._container,t=e.actualOptions.canvasMask;if(!t?.enable)return;let i={pixels:[],height:0,width:0};const r=t.pixels.offset;if(t.image){const s=t.image.src;if(!s)return;i=await l7(s,r)}else if(t.text){const s=t.text,o=c7(s,r);if(Lt(o))return;i=o}else if(t.element??t.selector){const s=t.element??(t.selector&&document.querySelector(t.selector));if(!s)return;const o=s.getContext("2d");if(!o)return;i=fM(o,s,r)}a7(e,i,t.position,t.scale,t.override,t.pixels.filter)}}class f7{constructor(){this.id="canvasMask"}getPlugin(e){return Promise.resolve(new d7(e))}loadOptions(e,t){if(!this.needsPlugin(e)&&!this.needsPlugin(t))return;let i=e.canvasMask;i?.load===void 0&&(e.canvasMask=i=new s7),i.load(t?.canvasMask)}needsPlugin(e){return e?.canvasMask?.enable??!1}}async function p7(n,e=!0){n.checkVersion("3.9.1"),await n.addPlugin(new f7,e)}function EE(n,e){if(!e.segments.length||!e.segments[0].values.length)return;const{context:t,radius:i}=n;t.moveTo(e.segments[0].values[0].x*i,e.segments[0].values[0].y*i);for(const r of e.segments)t.bezierCurveTo(r.values[1].x*i,r.values[1].y*i,r.values[2].x*i,r.values[2].y*i,r.values[3].x*i,r.values[3].y*i);for(let r=e.segments.length-1;r>=0;r--){const s=e.segments[r];t.bezierCurveTo(-s.values[2].x*i,s.values[2].y*i,-s.values[1].x*i,s.values[1].y*i,-s.values[0].x*i,s.values[0].y*i)}}const Sn=1/2,wE={heart:{segments:[{values:[{x:0,y:Sn},{x:0,y:Sn},{x:Sn,y:0},{x:Sn,y:-Sn/2}]},{values:[{x:Sn,y:-Sn/2},{x:Sn,y:-Sn/2},{x:Sn,y:-Sn},{x:Sn/2,y:-Sn}]},{values:[{x:Sn/2,y:-Sn},{x:Sn/2,y:-Sn},{x:0,y:-Sn},{x:0,y:-Sn/2}]}]},diamond:{segments:[{values:[{x:0,y:Sn},{x:0,y:Sn},{x:3*Sn/4,y:0},{x:3*Sn/4,y:0}]},{values:[{x:3*Sn/4,y:0},{x:3*Sn/4,y:0},{x:0,y:-Sn},{x:0,y:-Sn}]}]},club:{segments:[{values:[{x:0,y:-Sn},{x:0,y:-Sn},{x:Sn/2,y:-Sn},{x:Sn/2,y:-Sn/2}]},{values:[{x:Sn/2,y:-Sn/2},{x:Sn/2,y:-Sn/2},{x:Sn,y:-Sn/2},{x:Sn,y:0}]},{values:[{x:Sn,y:0},{x:Sn,y:0},{x:Sn,y:Sn/2},{x:Sn/2,y:Sn/2}]},{values:[{x:Sn/2,y:Sn/2},{x:Sn/2,y:Sn/2},{x:Sn/8,y:Sn/2},{x:Sn/8,y:Sn/8}]},{values:[{x:Sn/8,y:Sn/8},{x:Sn/8,y:Sn/2},{x:Sn/2,y:Sn},{x:Sn/2,y:Sn}]},{values:[{x:Sn/2,y:Sn},{x:Sn/2,y:Sn},{x:0,y:Sn},{x:0,y:Sn}]}]},spade:{segments:[{values:[{x:0,y:-Sn},{x:0,y:-Sn},{x:Sn,y:-Sn/2},{x:Sn,y:0}]},{values:[{x:Sn,y:0},{x:Sn,y:0},{x:Sn,y:Sn/2},{x:Sn/2,y:Sn/2}]},{values:[{x:Sn/2,y:Sn/2},{x:Sn/2,y:Sn/2},{x:Sn/8,y:Sn/2},{x:Sn/8,y:Sn/8}]},{values:[{x:Sn/8,y:Sn/8},{x:Sn/8,y:Sn/2},{x:Sn/2,y:Sn},{x:Sn/2,y:Sn}]},{values:[{x:Sn/2,y:Sn},{x:Sn/2,y:Sn},{x:0,y:Sn},{x:0,y:Sn}]}]}};class m7{constructor(){this.validTypes=["club","clubs"]}draw(e){EE(e,wE.club)}}class g7{constructor(){this.validTypes=["diamond","diamonds"]}draw(e){EE(e,wE.diamond)}}let v7=class{constructor(){this.validTypes=["heart","hearts"]}draw(e){EE(e,wE.heart)}};class y7{constructor(){this.validTypes=["spade","spades"]}draw(e){EE(e,wE.spade)}}async function _7(n,e=!0){n.checkVersion("3.9.1"),await n.addShape(new y7,e),await n.addShape(new v7,e),await n.addShape(new g7,e),await n.addShape(new m7,e)}const g4=2,UA=Math.PI*g4,b7=0,CC={x:0,y:0},I3=.005;function x7(n){const{context:e,particle:t,radius:i}=n;if(t.cogHoleRadius===void 0||t.cogInnerRadius===void 0||t.cogInnerTaper===void 0||t.cogNotches===void 0||t.cogOuterTaper===void 0)return;const r=i*t.cogHoleRadius/Sr;e.globalCompositeOperation="destination-out",e.beginPath(),e.moveTo(r,CC.y),e.arc(CC.x,CC.y,r,b7,UA),e.closePath(),e.fill(),e.globalCompositeOperation="source-over"}function S7(n){const{context:e,particle:t,radius:i}=n;if(t.cogHoleRadius===void 0||t.cogInnerRadius===void 0||t.cogInnerTaper===void 0||t.cogNotches===void 0||t.cogOuterTaper===void 0)return;const r=UA/(t.cogNotches*g4),s=r*t.cogInnerTaper*I3,o=r*t.cogOuterTaper*I3,l=i*t.cogInnerRadius/Sr;let a=r,u=!1;for(e.moveTo(i*Math.cos(o),i*Math.sin(o));a<=UA;a+=r)u?(e.lineTo(l*Math.cos(a-s),l*Math.sin(a-s)),e.lineTo(i*Math.cos(a+o),i*Math.sin(a+o))):(e.lineTo(i*Math.cos(a-o),i*Math.sin(a-o)),e.lineTo(l*Math.cos(a+s),l*Math.sin(a+s))),u=!u}const E7=44,w7=72,C7=35,T7=7,A7=50;class R7{constructor(){this.validTypes=["cog"]}afterDraw(e){x7(e)}draw(e){S7(e)}particleInit(e,t){const i=t.shapeData;t.cogHoleRadius=Kt(i?.holeRadius??E7),t.cogInnerRadius=Kt(i?.innerRadius??w7),t.cogInnerTaper=Kt(i?.innerTaper??C7),t.cogNotches=Kt(i?.notches??T7),t.cogOuterTaper=Kt(i?.outerTaper??A7)}}async function M7(n,e=!0){n.checkVersion("3.9.1"),await n.addShape(new R7,e)}function Bu(n){const e=new Uint32Array(1);return e[0]=n[0]*1664525+1013904223,e}class O7{constructor(){this._NORM_2D=1/47,this._SQUISH_2D=(Math.sqrt(3)-1)/2,this._STRETCH_2D=(1/Math.sqrt(3)-1)/2,this._base2D=[[1,1,0,1,0,1,0,0,0],[1,1,0,1,0,1,2,1,1]],this._gradients2D=[5,2,2,5,-5,2,-2,5,5,-2,2,-5,-5,-2,-2,-5],this._lookup=[],this._lookupPairs2D=[0,1,1,0,4,1,17,0,20,2,21,2,22,5,23,5,26,4,39,3,42,4,43,3],this._p2D=[0,0,1,-1,0,0,-1,1,0,2,1,1,1,2,2,0,1,2,0,2,1,0,0,0],this._perm=new Uint8Array(256),this._perm2D=new Uint8Array(256)}noise(e,t){const{_gradients2D:i,_NORM_2D:r,_SQUISH_2D:s,_STRETCH_2D:o,_lookup:l,_perm:a,_perm2D:u}=this,m=(e+t)*o,d=e+m,b=t+m,g=Math.floor(d),_=Math.floor(b),p=(g+_)*s,v=e-(g+p),c=t-(_+p),x=d-g,w=b-_,T=x+w,L=x-w+1|T<<1|T+w<<2|T+x<<4;let P=0;for(let C=l[L];C!==void 0;C=C.next){const I=v+C.dx,F=c+C.dy,R=2-I*I-F*F;if(R>0){const D=g+C.xsb,G=_+C.ysb,j=a[D&255],k=u[j+G&255],V=i[k]*I+i[k+1]*F;P+=R*R*R*R*V}}return P*r}seed(e){const{_p2D:t,_base2D:i,_lookupPairs2D:r}=this,s=[];for(let a=0;a<t.length;a+=4){const u=i[t[a]];let m=null,d=null;for(let b=0;b<u.length;b+=3)d=this._contribution2D(u[b],u[b+1],u[b+2]),m===null?s[a/4]=d:m.next=d,m=d;d&&(d.next=this._contribution2D(t[a+1],t[a+2],t[a+3]))}this._lookup=[];for(let a=0;a<r.length;a+=2)this._lookup[r[a]]=s[r[a+1]];this._perm=new Uint8Array(256),this._perm2D=new Uint8Array(256);const o=new Uint8Array(256);for(let a=0;a<256;a++)o[a]=a;let l=new Uint32Array(1);l[0]=e,l=Bu(Bu(Bu(l)));for(let a=255;a>=0;a--){l=Bu(l);const u=new Uint32Array(1);u[0]=(l[0]+31)%(a+1),u[0]<0&&(u[0]+=a+1),this._perm[a]=o[u[0]],this._perm2D[a]=this._perm[a]&14,o[u[0]]=o[a]}}_contribution2D(e,t,i){const{_SQUISH_2D:r}=this;return{dx:-t-e*r,dy:-i-e*r,xsb:t,ysb:i}}}class L7{constructor(){this._NORM_3D=1/103,this._SQUISH_3D=(Math.sqrt(4)-1)/3,this._STRETCH_3D=(1/Math.sqrt(4)-1)/3,this._base3D=[[0,0,0,0,1,1,0,0,1,0,1,0,1,0,0,1],[2,1,1,0,2,1,0,1,2,0,1,1,3,1,1,1],[1,1,0,0,1,0,1,0,1,0,0,1,2,1,1,0,2,1,0,1,2,0,1,1]],this._gradients3D=[-11,4,4,-4,11,4,-4,4,11,11,4,4,4,11,4,4,4,11,-11,-4,4,-4,-11,4,-4,-4,11,11,-4,4,4,-11,4,4,-4,11,-11,4,-4,-4,11,-4,-4,4,-11,11,4,-4,4,11,-4,4,4,-11,-11,-4,-4,-4,-11,-4,-4,-4,-11,11,-4,-4,4,-11,-4,4,-4,-11],this._lookup=[],this._lookupPairs3D=[0,2,1,1,2,2,5,1,6,0,7,0,32,2,34,2,129,1,133,1,160,5,161,5,518,0,519,0,546,4,550,4,645,3,647,3,672,5,673,5,674,4,677,3,678,4,679,3,680,13,681,13,682,12,685,14,686,12,687,14,712,20,714,18,809,21,813,23,840,20,841,21,1198,19,1199,22,1226,18,1230,19,1325,23,1327,22,1352,15,1353,17,1354,15,1357,17,1358,16,1359,16,1360,11,1361,10,1362,11,1365,10,1366,9,1367,9,1392,11,1394,11,1489,10,1493,10,1520,8,1521,8,1878,9,1879,9,1906,7,1910,7,2005,6,2007,6,2032,8,2033,8,2034,7,2037,6,2038,7,2039,6],this._p3D=[0,0,1,-1,0,0,1,0,-1,0,0,-1,1,0,0,0,1,-1,0,0,-1,0,1,0,0,-1,1,0,2,1,1,0,1,1,1,-1,0,2,1,0,1,1,1,-1,1,0,2,0,1,1,1,-1,1,1,1,3,2,1,0,3,1,2,0,1,3,2,0,1,3,1,0,2,1,3,0,2,1,3,0,1,2,1,1,1,0,0,2,2,0,0,1,1,0,1,0,2,0,2,0,1,1,0,0,1,2,0,0,2,2,0,0,0,0,1,1,-1,1,2,0,0,0,0,1,-1,1,1,2,0,0,0,0,1,1,1,-1,2,3,1,1,1,2,0,0,2,2,3,1,1,1,2,2,0,0,2,3,1,1,1,2,0,2,0,2,1,1,-1,1,2,0,0,2,2,1,1,-1,1,2,2,0,0,2,1,-1,1,1,2,0,0,2,2,1,-1,1,1,2,0,2,0,2,1,1,1,-1,2,2,0,0,2,1,1,1,-1,2,0,2,0],this._perm=new Uint8Array(256),this._perm3D=new Uint8Array(256)}noise(e,t,i){const{_STRETCH_3D:r,_NORM_3D:s,_SQUISH_3D:o,_lookup:l,_perm:a,_perm3D:u,_gradients3D:m}=this,d=(e+t+i)*r,b=e+d,g=t+d,_=i+d,p=Math.floor(b),v=Math.floor(g),c=Math.floor(_),x=(p+v+c)*o,w=e-(p+x),T=t-(v+x),L=i-(c+x),P=b-p,C=g-v,I=_-c,F=P+C+I,R=C-I+1|P-C+1<<1|P-I+1<<2|F<<3|F+I<<5|F+C<<7|F+P<<9;let D=0;for(let G=l[R];G!==void 0;G=G.next){const j=w+G.dx,k=T+G.dy,V=L+G.dz,H=2-j*j-k*k-V*V;if(H>0){const te=p+G.xsb,ne=v+G.ysb,he=c+G.zsb,ie=a[te&255],ce=a[ie+ne&255],Se=u[ce+he&255],Ee=m[Se]*j+m[Se+1]*k+m[Se+2]*V;D+=H*H*H*H*Ee}}return D*s}seed(e){const{_base3D:t,_lookupPairs3D:i,_p3D:r}=this,s=[];for(let a=0;a<r.length;a+=9){const u=t[r[a]];let m=null,d=null;for(let b=0;b<u.length;b+=4)d=this._contribution3D(u[b],u[b+1],u[b+2],u[b+3]),m===null?s[a/9]=d:m.next=d,m=d;d&&(d.next=this._contribution3D(r[a+1],r[a+2],r[a+3],r[a+4]),d.next.next=this._contribution3D(r[a+5],r[a+6],r[a+7],r[a+8]))}this._lookup=[];for(let a=0;a<i.length;a+=2)this._lookup[i[a]]=s[i[a+1]];this._perm=new Uint8Array(256),this._perm3D=new Uint8Array(256);const o=new Uint8Array(256);for(let a=0;a<256;a++)o[a]=a;let l=new Uint32Array(1);l[0]=e,l=Bu(Bu(Bu(l)));for(let a=255;a>=0;a--){l=Bu(l);const u=new Uint32Array(1);u[0]=(l[0]+31)%(a+1),u[0]<0&&(u[0]+=a+1),this._perm[a]=o[u[0]],this._perm3D[a]=this._perm[a]%24*3,o[u[0]]=o[a]}}_contribution3D(e,t,i,r){const{_SQUISH_3D:s}=this;return{dx:-t-e*s,dy:-i-e*s,dz:-r-e*s,xsb:t,ysb:i,zsb:r}}}class P7{constructor(){this._NORM_4D=1/30,this._SQUISH_4D=(Math.sqrt(5)-1)*.25,this._STRETCH_4D=(1/Math.sqrt(5)-1)*.25,this._lookup=[],this._perm=new Uint8Array(0),this._perm4D=new Uint8Array(0),this._base4D=[[0,0,0,0,0,1,1,0,0,0,1,0,1,0,0,1,0,0,1,0,1,0,0,0,1],[3,1,1,1,0,3,1,1,0,1,3,1,0,1,1,3,0,1,1,1,4,1,1,1,1],[1,1,0,0,0,1,0,1,0,0,1,0,0,1,0,1,0,0,0,1,2,1,1,0,0,2,1,0,1,0,2,1,0,0,1,2,0,1,1,0,2,0,1,0,1,2,0,0,1,1],[3,1,1,1,0,3,1,1,0,1,3,1,0,1,1,3,0,1,1,1,2,1,1,0,0,2,1,0,1,0,2,1,0,0,1,2,0,1,1,0,2,0,1,0,1,2,0,0,1,1]],this._gradients4D=[3,1,1,1,1,3,1,1,1,1,3,1,1,1,1,3,-3,1,1,1,-1,3,1,1,-1,1,3,1,-1,1,1,3,3,-1,1,1,1,-3,1,1,1,-1,3,1,1,-1,1,3,-3,-1,1,1,-1,-3,1,1,-1,-1,3,1,-1,-1,1,3,3,1,-1,1,1,3,-1,1,1,1,-3,1,1,1,-1,3,-3,1,-1,1,-1,3,-1,1,-1,1,-3,1,-1,1,-1,3,3,-1,-1,1,1,-3,-1,1,1,-1,-3,1,1,-1,-1,3,-3,-1,-1,1,-1,-3,-1,1,-1,-1,-3,1,-1,-1,-1,3,3,1,1,-1,1,3,1,-1,1,1,3,-1,1,1,1,-3,-3,1,1,-1,-1,3,1,-1,-1,1,3,-1,-1,1,1,-3,3,-1,1,-1,1,-3,1,-1,1,-1,3,-1,1,-1,1,-3,-3,-1,1,-1,-1,-3,1,-1,-1,-1,3,-1,-1,-1,1,-3,3,1,-1,-1,1,3,-1,-1,1,1,-3,-1,1,1,-1,-3,-3,1,-1,-1,-1,3,-1,-1,-1,1,-3,-1,-1,1,-1,-3,3,-1,-1,-1,1,-3,-1,-1,1,-1,-3,-1,1,-1,-1,-3,-3,-1,-1,-1,-1,-3,-1,-1,-1,-1,-3,-1,-1,-1,-1,-3],this._lookupPairs4D=[0,3,1,2,2,3,5,2,6,1,7,1,8,3,9,2,10,3,13,2,16,3,18,3,22,1,23,1,24,3,26,3,33,2,37,2,38,1,39,1,41,2,45,2,54,1,55,1,56,0,57,0,58,0,59,0,60,0,61,0,62,0,63,0,256,3,258,3,264,3,266,3,272,3,274,3,280,3,282,3,2049,2,2053,2,2057,2,2061,2,2081,2,2085,2,2089,2,2093,2,2304,9,2305,9,2312,9,2313,9,16390,1,16391,1,16406,1,16407,1,16422,1,16423,1,16438,1,16439,1,16642,8,16646,8,16658,8,16662,8,18437,6,18439,6,18469,6,18471,6,18688,9,18689,9,18690,8,18693,6,18694,8,18695,6,18696,9,18697,9,18706,8,18710,8,18725,6,18727,6,131128,0,131129,0,131130,0,131131,0,131132,0,131133,0,131134,0,131135,0,131352,7,131354,7,131384,7,131386,7,133161,5,133165,5,133177,5,133181,5,133376,9,133377,9,133384,9,133385,9,133400,7,133402,7,133417,5,133421,5,133432,7,133433,5,133434,7,133437,5,147510,4,147511,4,147518,4,147519,4,147714,8,147718,8,147730,8,147734,8,147736,7,147738,7,147766,4,147767,4,147768,7,147770,7,147774,4,147775,4,149509,6,149511,6,149541,6,149543,6,149545,5,149549,5,149558,4,149559,4,149561,5,149565,5,149566,4,149567,4,149760,9,149761,9,149762,8,149765,6,149766,8,149767,6,149768,9,149769,9,149778,8,149782,8,149784,7,149786,7,149797,6,149799,6,149801,5,149805,5,149814,4,149815,4,149816,7,149817,5,149818,7,149821,5,149822,4,149823,4,149824,37,149825,37,149826,36,149829,34,149830,36,149831,34,149832,37,149833,37,149842,36,149846,36,149848,35,149850,35,149861,34,149863,34,149865,33,149869,33,149878,32,149879,32,149880,35,149881,33,149882,35,149885,33,149886,32,149887,32,150080,49,150082,48,150088,49,150098,48,150104,47,150106,47,151873,46,151877,45,151881,46,151909,45,151913,44,151917,44,152128,49,152129,46,152136,49,152137,46,166214,43,166215,42,166230,43,166247,42,166262,41,166263,41,166466,48,166470,43,166482,48,166486,43,168261,45,168263,42,168293,45,168295,42,168512,31,168513,28,168514,31,168517,28,168518,25,168519,25,280952,40,280953,39,280954,40,280957,39,280958,38,280959,38,281176,47,281178,47,281208,40,281210,40,282985,44,282989,44,283001,39,283005,39,283208,30,283209,27,283224,30,283241,27,283256,22,283257,22,297334,41,297335,41,297342,38,297343,38,297554,29,297558,24,297562,29,297590,24,297594,21,297598,21,299365,26,299367,23,299373,26,299383,23,299389,20,299391,20,299584,31,299585,28,299586,31,299589,28,299590,25,299591,25,299592,30,299593,27,299602,29,299606,24,299608,30,299610,29,299621,26,299623,23,299625,27,299629,26,299638,24,299639,23,299640,22,299641,22,299642,21,299645,20,299646,21,299647,20,299648,61,299649,60,299650,61,299653,60,299654,59,299655,59,299656,58,299657,57,299666,55,299670,54,299672,58,299674,55,299685,52,299687,51,299689,57,299693,52,299702,54,299703,51,299704,56,299705,56,299706,53,299709,50,299710,53,299711,50,299904,61,299906,61,299912,58,299922,55,299928,58,299930,55,301697,60,301701,60,301705,57,301733,52,301737,57,301741,52,301952,79,301953,79,301960,76,301961,76,316038,59,316039,59,316054,54,316071,51,316086,54,316087,51,316290,78,316294,78,316306,73,316310,73,318085,77,318087,77,318117,70,318119,70,318336,79,318337,79,318338,78,318341,77,318342,78,318343,77,430776,56,430777,56,430778,53,430781,50,430782,53,430783,50,431e3,75,431002,72,431032,75,431034,72,432809,74,432813,69,432825,74,432829,69,433032,76,433033,76,433048,75,433065,74,433080,75,433081,74,447158,71,447159,68,447166,71,447167,68,447378,73,447382,73,447386,72,447414,71,447418,72,447422,71,449189,70,449191,70,449197,69,449207,68,449213,69,449215,68,449408,67,449409,67,449410,66,449413,64,449414,66,449415,64,449416,67,449417,67,449426,66,449430,66,449432,65,449434,65,449445,64,449447,64,449449,63,449453,63,449462,62,449463,62,449464,65,449465,63,449466,65,449469,63,449470,62,449471,62,449472,19,449473,19,449474,18,449477,16,449478,18,449479,16,449480,19,449481,19,449490,18,449494,18,449496,17,449498,17,449509,16,449511,16,449513,15,449517,15,449526,14,449527,14,449528,17,449529,15,449530,17,449533,15,449534,14,449535,14,449728,19,449729,19,449730,18,449734,18,449736,19,449737,19,449746,18,449750,18,449752,17,449754,17,449784,17,449786,17,451520,19,451521,19,451525,16,451527,16,451528,19,451529,19,451557,16,451559,16,451561,15,451565,15,451577,15,451581,15,451776,19,451777,19,451784,19,451785,19,465858,18,465861,16,465862,18,465863,16,465874,18,465878,18,465893,16,465895,16,465910,14,465911,14,465918,14,465919,14,466114,18,466118,18,466130,18,466134,18,467909,16,467911,16,467941,16,467943,16,468160,13,468161,13,468162,13,468163,13,468164,13,468165,13,468166,13,468167,13,580568,17,580570,17,580585,15,580589,15,580598,14,580599,14,580600,17,580601,15,580602,17,580605,15,580606,14,580607,14,580824,17,580826,17,580856,17,580858,17,582633,15,582637,15,582649,15,582653,15,582856,12,582857,12,582872,12,582873,12,582888,12,582889,12,582904,12,582905,12,596982,14,596983,14,596990,14,596991,14,597202,11,597206,11,597210,11,597214,11,597234,11,597238,11,597242,11,597246,11,599013,10,599015,10,599021,10,599023,10,599029,10,599031,10,599037,10,599039,10,599232,13,599233,13,599234,13,599235,13,599236,13,599237,13,599238,13,599239,13,599240,12,599241,12,599250,11,599254,11,599256,12,599257,12,599258,11,599262,11,599269,10,599271,10,599272,12,599273,12,599277,10,599279,10,599282,11,599285,10,599286,11,599287,10,599288,12,599289,12,599290,11,599293,10,599294,11,599295,10],this._p4D=[0,0,1,-1,0,0,0,1,0,-1,0,0,1,0,0,-1,0,0,-1,1,0,0,0,0,1,-1,0,0,0,1,0,-1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,-1,0,0,-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,2,1,1,0,0,1,1,1,-1,0,1,1,1,0,-1,0,2,1,0,1,0,1,1,-1,1,0,1,1,0,1,-1,0,2,0,1,1,0,1,-1,1,1,0,1,0,1,1,-1,0,2,1,0,0,1,1,1,-1,0,1,1,1,0,-1,1,0,2,0,1,0,1,1,-1,1,0,1,1,0,1,-1,1,0,2,0,0,1,1,1,-1,0,1,1,1,0,-1,1,1,1,4,2,1,1,0,4,1,2,1,0,4,1,1,2,0,1,4,2,1,0,1,4,1,2,0,1,4,1,1,0,2,1,4,2,0,1,1,4,1,0,2,1,4,1,0,1,2,1,4,0,2,1,1,4,0,1,2,1,4,0,1,1,2,1,2,1,1,0,0,3,2,1,0,0,3,1,2,0,0,1,2,1,0,1,0,3,2,0,1,0,3,1,0,2,0,1,2,0,1,1,0,3,0,2,1,0,3,0,1,2,0,1,2,1,0,0,1,3,2,0,0,1,3,1,0,0,2,1,2,0,1,0,1,3,0,2,0,1,3,0,1,0,2,1,2,0,0,1,1,3,0,0,2,1,3,0,0,1,2,2,3,1,1,1,0,2,1,1,1,-1,2,2,0,0,0,2,3,1,1,0,1,2,1,1,-1,1,2,2,0,0,0,2,3,1,0,1,1,2,1,-1,1,1,2,2,0,0,0,2,3,1,1,1,0,2,1,1,1,-1,2,0,2,0,0,2,3,1,1,0,1,2,1,1,-1,1,2,0,2,0,0,2,3,0,1,1,1,2,-1,1,1,1,2,0,2,0,0,2,3,1,1,1,0,2,1,1,1,-1,2,0,0,2,0,2,3,1,0,1,1,2,1,-1,1,1,2,0,0,2,0,2,3,0,1,1,1,2,-1,1,1,1,2,0,0,2,0,2,3,1,1,0,1,2,1,1,-1,1,2,0,0,0,2,2,3,1,0,1,1,2,1,-1,1,1,2,0,0,0,2,2,3,0,1,1,1,2,-1,1,1,1,2,0,0,0,2,2,1,1,1,-1,0,1,1,1,0,-1,0,0,0,0,0,2,1,1,-1,1,0,1,1,0,1,-1,0,0,0,0,0,2,1,-1,1,1,0,1,0,1,1,-1,0,0,0,0,0,2,1,1,-1,0,1,1,1,0,-1,1,0,0,0,0,0,2,1,-1,1,0,1,1,0,1,-1,1,0,0,0,0,0,2,1,-1,0,1,1,1,0,-1,1,1,0,0,0,0,0,2,1,1,1,-1,0,1,1,1,0,-1,2,2,0,0,0,2,1,1,-1,1,0,1,1,0,1,-1,2,2,0,0,0,2,1,1,-1,0,1,1,1,0,-1,1,2,2,0,0,0,2,1,1,1,-1,0,1,1,1,0,-1,2,0,2,0,0,2,1,-1,1,1,0,1,0,1,1,-1,2,0,2,0,0,2,1,-1,1,0,1,1,0,1,-1,1,2,0,2,0,0,2,1,1,-1,1,0,1,1,0,1,-1,2,0,0,2,0,2,1,-1,1,1,0,1,0,1,1,-1,2,0,0,2,0,2,1,-1,0,1,1,1,0,-1,1,1,2,0,0,2,0,2,1,1,-1,0,1,1,1,0,-1,1,2,0,0,0,2,2,1,-1,1,0,1,1,0,1,-1,1,2,0,0,0,2,2,1,-1,0,1,1,1,0,-1,1,1,2,0,0,0,2,3,1,1,0,0,0,2,2,0,0,0,2,1,1,1,-1,3,1,0,1,0,0,2,0,2,0,0,2,1,1,1,-1,3,1,0,0,1,0,2,0,0,2,0,2,1,1,1,-1,3,1,1,0,0,0,2,2,0,0,0,2,1,1,-1,1,3,1,0,1,0,0,2,0,2,0,0,2,1,1,-1,1,3,1,0,0,0,1,2,0,0,0,2,2,1,1,-1,1,3,1,1,0,0,0,2,2,0,0,0,2,1,-1,1,1,3,1,0,0,1,0,2,0,0,2,0,2,1,-1,1,1,3,1,0,0,0,1,2,0,0,0,2,2,1,-1,1,1,3,1,0,1,0,0,2,0,2,0,0,2,-1,1,1,1,3,1,0,0,1,0,2,0,0,2,0,2,-1,1,1,1,3,1,0,0,0,1,2,0,0,0,2,2,-1,1,1,1,3,3,2,1,0,0,3,1,2,0,0,4,1,1,1,1,3,3,2,0,1,0,3,1,0,2,0,4,1,1,1,1,3,3,0,2,1,0,3,0,1,2,0,4,1,1,1,1,3,3,2,0,0,1,3,1,0,0,2,4,1,1,1,1,3,3,0,2,0,1,3,0,1,0,2,4,1,1,1,1,3,3,0,0,2,1,3,0,0,1,2,4,1,1,1,1,3,3,2,1,0,0,3,1,2,0,0,2,1,1,1,-1,3,3,2,0,1,0,3,1,0,2,0,2,1,1,1,-1,3,3,0,2,1,0,3,0,1,2,0,2,1,1,1,-1,3,3,2,1,0,0,3,1,2,0,0,2,1,1,-1,1,3,3,2,0,0,1,3,1,0,0,2,2,1,1,-1,1,3,3,0,2,0,1,3,0,1,0,2,2,1,1,-1,1,3,3,2,0,1,0,3,1,0,2,0,2,1,-1,1,1,3,3,2,0,0,1,3,1,0,0,2,2,1,-1,1,1,3,3,0,0,2,1,3,0,0,1,2,2,1,-1,1,1,3,3,0,2,1,0,3,0,1,2,0,2,-1,1,1,1,3,3,0,2,0,1,3,0,1,0,2,2,-1,1,1,1,3,3,0,0,2,1,3,0,0,1,2,2,-1,1,1,1]}noise(e,t,i,r){const{_perm:s,_perm4D:o,_lookup:l,_STRETCH_4D:a,_SQUISH_4D:u,_gradients4D:m,_NORM_4D:d}=this,b=(e+t+i+r)*a,g=e+b,_=t+b,p=i+b,v=r+b,c=Math.floor(g),x=Math.floor(_),w=Math.floor(p),T=Math.floor(v),L=(c+x+w+T)*u,P=e-(c+L),C=t-(x+L),I=i-(w+L),F=r-(T+L),R=g-c,D=_-x,G=p-w,j=v-T,k=R+D+G+j,V=G-j+1|D-G+1<<1|D-j+1<<2|R-D+1<<3|R-G+1<<4|R-j+1<<5|k<<6|k+j<<8|k+G<<11|k+D<<14|k+R<<17;let H=0;for(let te=l[V];te!==void 0;te=te.next){const ne=P+te.dx,he=C+te.dy,ie=I+te.dz,ce=F+te.dw,Se=2-ne*ne-he*he-ie*ie-ce*ce;if(Se>0){const Ee=c+te.xsb,me=x+te.ysb,le=w+te.zsb,we=T+te.wsb,Re=s[Ee&255],Fe=s[Re+me&255],qe=s[Fe+le&255],ot=o[qe+we&255],dn=m[ot]*ne+m[ot+1]*he+m[ot+2]*ie+m[ot+3]*ce;H+=Se*Se*Se*Se*dn}}return H*d}seed(e){const{_p4D:t,_base4D:i,_lookupPairs4D:r}=this,s=[];for(let a=0;a<t.length;a+=16){const u=i[t[a]];let m=null,d=null;for(let b=0;b<u.length;b+=5)d=this._contribution4D(u[b],u[b+1],u[b+2],u[b+3],u[b+4]),m===null?s[a/16]=d:m.next=d,m=d;d&&(d.next=this._contribution4D(t[a+1],t[a+2],t[a+3],t[a+4],t[a+5]),d.next.next=this._contribution4D(t[a+6],t[a+7],t[a+8],t[a+9],t[a+10]),d.next.next.next=this._contribution4D(t[a+11],t[a+12],t[a+13],t[a+14],t[a+15]))}this._lookup=[];for(let a=0;a<r.length;a+=2)this._lookup[r[a]]=s[r[a+1]];this._perm=new Uint8Array(256),this._perm4D=new Uint8Array(256);const o=new Uint8Array(256);for(let a=0;a<256;a++)o[a]=a;let l=new Uint32Array(1);l[0]=e,l=Bu(Bu(Bu(l)));for(let a=255;a>=0;a--){l=Bu(l);const u=new Uint32Array(1);u[0]=(l[0]+31)%(a+1),u[0]<0&&(u[0]+=a+1),this._perm[a]=o[u[0]],this._perm4D[a]=this._perm[a]&252,o[u[0]]=o[a]}}_contribution4D(e,t,i,r,s){const{_SQUISH_4D:o}=this;return{dx:-t-e*o,dy:-i-e*o,dz:-r-e*o,dw:-s-e*o,xsb:t,ysb:i,zsb:r,wsb:s}}}class v4{constructor(){this.noise2d=new O7,this.noise3d=new L7,this.noise4d=new P7}}const TC={speed:.2,step:250},D3=2;class N7{constructor(){const e=new v4;this._simplex=e.noise2d,this.options=ss({},TC)}generate(e){const t=e.getPosition(),{speed:i,step:r}=this.options,s=t.x/r,o=t.y/r,l=.001,a=this._simplex.noise(s,o+l),u=this._simplex.noise(s,o-l),m=(a-u)/(D3*l),d=this._simplex.noise(s+l,o),b=this._simplex.noise(s-l,o),g=(d-b)/(D3*l);return e.velocity.x=0,e.velocity.y=0,Lr.create(i*m,i*-g)}init(e){const t=e.actualOptions.particles.move.path.options;this.options.seed=t?.seed,this.options.speed=(t?.speed??TC.speed)*e.retina.pixelRatio,this.options.step=t?.step??TC.step,this._simplex.seed(this.options.seed??Gn())}reset(){}update(){}}const I7="curlNoise";async function D7(n,e=!0){n.checkVersion("3.9.1"),await n.addPathGenerator(I7,new N7,e)}function F7(n,e,t,i,r=0,s=1){const o=[],l=[],a=[],u=[],m=[],d=n??Gn;let b=0;t<1&&(t=1);for(let g=1;g<=t;++g)o[g]=d(),l[g]=d(),a[g]=g===1?1:a[g-1]*i,b+=a[g],u[g]=g/e,m[g]=d();return a.forEach((g,_)=>a[_]=g/b*(s-r)),()=>{let g,_,p=0;for(let v=t;v>=1;--v)g=m[v]+=u[v],m[v]>=1&&(g=m[v]-=1,o[v]=l[v],l[v]=d()),_=g**2*(3-2*g),p+=(o[v]*(1-_)+l[v]*_)*a[v];return p+r}}const B7=2,F3=Math.PI*B7;function U7(){return Gn()*.6+.8}class k7{constructor(){this.options={rndFunc:null,period:100,nbHarmonics:2,attenHarmonics:.8,lowValue:-.03,highValue:.03}}generate(e){if(!e.pathGen){const t=this.options;e.pathGen=F7(t.rndFunc,t.period,t.nbHarmonics,t.attenHarmonics,t.lowValue,t.highValue)}return e.curveVelocity?(e.curveVelocity.length+=.01,e.curveVelocity.angle=(e.curveVelocity.angle+e.pathGen())%F3):(e.curveVelocity=Lr.origin,e.curveVelocity.length=U7(),e.curveVelocity.angle=Gn()*F3),e.velocity.x=0,e.velocity.y=0,e.curveVelocity}init(e){const t=e.actualOptions.particles.move.path.options,{options:i}=this;bE(t.rndFunc)?i.rndFunc=t.rndFunc:dc(t.rndFunc)&&(i.rndFunc=window[t.rndFunc]??this.options.rndFunc),i.period=t.period??i.period,i.nbHarmonics=t.nbHarmonics??i.nbHarmonics,i.attenHarmonics=t.attenHarmonics??i.attenHarmonics,i.lowValue=t.lowValue??i.lowValue,i.highValue=t.highValue??i.highValue}reset(e){delete e.pathGen,delete e.curveVelocity}update(){}}const z7="curvesPathGenerator";async function $7(n,e=!0){n.checkVersion("3.9.1"),await n.addPathGenerator(z7,new k7,e)}async function H7(n,e=!0){n.checkVersion("3.9.1"),await n.addEasing(as.easeInBack,t=>2.70158*t**3-1.70158*t**2,!1),await n.addEasing(as.easeOutBack,t=>1+2.70158*Math.pow(t-1,3)+1.70158*Math.pow(t-1,2),!1),await n.addEasing(as.easeInOutBack,t=>{const r=2.5949095;return t<.5?(2*t)**2*((r+1)*2*t-r)/2:((2*t-2)**2*((r+1)*(t*2-2)+r)+2)/2},!1),await n.refresh(e)}async function G7(n,e){n.checkVersion("3.9.1"),await n.addEasing(as.easeInCirc,t=>1-Math.sqrt(1-t**2),!1),await n.addEasing(as.easeOutCirc,t=>Math.sqrt(1-(t-1)**2),!1),await n.addEasing(as.easeInOutCirc,t=>t<.5?(1-Math.sqrt(1-(2*t)**2))/2:(Math.sqrt(1-(-2*t+2)**2)+1)/2,!1),await n.refresh(e)}async function V7(n,e=!0){n.checkVersion("3.9.1"),await n.addEasing(as.easeInCubic,t=>t**3,!1),await n.addEasing(as.easeOutCubic,t=>1-(1-t)**3,!1),await n.addEasing(as.easeInOutCubic,t=>t<.5?4*t**3:1-(-2*t+2)**3/2,!1),await n.refresh(e)}async function W7(n,e=!0){n.checkVersion("3.9.1"),await n.addEasing(as.easeInExpo,t=>t?2**(10*t-10):0,!1),await n.addEasing(as.easeOutExpo,t=>t===1?1:1-Math.pow(2,-10*t),!1),await n.addEasing(as.easeInOutExpo,t=>t===1?t?1:0:t?t<.5?2**(20*t-10)/2:(2-2**(-20*t+10))/2:0,!1),await n.refresh(e)}async function j7(n,e=!0){n.checkVersion("3.9.1"),await n.addEasing(as.easeInLinear,t=>t,!1),await n.addEasing(as.easeOutLinear,t=>t,!1),await n.addEasing(as.easeInOutLinear,t=>t,!1),await n.refresh(e)}async function X7(n,e=!0){n.checkVersion("3.9.1"),await n.addEasing(as.easeInQuart,t=>t**4,!1),await n.addEasing(as.easeOutQuart,t=>1-(1-t)**4,!1),await n.addEasing(as.easeInOutQuart,t=>t<.5?8*t**4:1-(-2*t+2)**4/2,!1),await n.refresh(e)}async function q7(n,e=!0){n.checkVersion("3.9.1"),await n.addEasing(as.easeInQuint,t=>t**5,!1),await n.addEasing(as.easeOutQuint,t=>1-(1-t)**5,!1),await n.addEasing(as.easeInOutQuint,t=>t<.5?16*t**5:1-(-2*t+2)**5/2,!1),await n.refresh(e)}async function Y7(n,e=!0){n.checkVersion("3.9.1"),await n.addEasing(as.easeInSine,t=>1-Math.cos(t*Math.PI/2),!1),await n.addEasing(as.easeOutSine,t=>Math.sin(t*Math.PI/2),!1),await n.addEasing(as.easeInOutSine,t=>-(Math.cos(Math.PI*t)-1)/2,!1),await n.refresh(e)}class K7{constructor(){this.wait=!1}load(e){Lt(e)||(e.count!==void 0&&(this.count=e.count),e.delay!==void 0&&(this.delay=ti(e.delay)),e.duration!==void 0&&(this.duration=ti(e.duration)),e.wait!==void 0&&(this.wait=e.wait))}}class Z7{constructor(){this.quantity=1,this.delay=.1}load(e){Lt(e)||(e.quantity!==void 0&&(this.quantity=ti(e.quantity)),e.delay!==void 0&&(this.delay=ti(e.delay)))}}class Q7{constructor(){this.color=!1,this.opacity=!1}load(e){Lt(e)||(e.color!==void 0&&(this.color=e.color),e.opacity!==void 0&&(this.opacity=e.opacity))}}class J7{constructor(){this.options={},this.replace=new Q7,this.type="square"}load(e){Lt(e)||(e.options!==void 0&&(this.options=ss({},e.options??{})),this.replace.load(e.replace),e.type!==void 0&&(this.type=e.type))}}class y4{constructor(){this.mode=Sh.percent,this.height=0,this.width=0}load(e){Lt(e)||(e.mode!==void 0&&(this.mode=e.mode),e.height!==void 0&&(this.height=e.height),e.width!==void 0&&(this.width=e.width))}}class Rp{constructor(){this.autoPlay=!0,this.fill=!0,this.life=new K7,this.rate=new Z7,this.shape=new J7,this.startCount=0}load(e){Lt(e)||(e.autoPlay!==void 0&&(this.autoPlay=e.autoPlay),e.size!==void 0&&(this.size||(this.size=new y4),this.size.load(e.size)),e.direction!==void 0&&(this.direction=e.direction),this.domId=e.domId,e.fill!==void 0&&(this.fill=e.fill),this.life.load(e.life),this.name=e.name,this.particles=Ys(e.particles,t=>ss({},t)),this.rate.load(e.rate),this.shape.load(e.shape),e.position!==void 0&&(this.position={},e.position.x!==void 0&&(this.position.x=ti(e.position.x)),e.position.y!==void 0&&(this.position.y=ti(e.position.y))),e.spawnColor!==void 0&&(this.spawnColor===void 0&&(this.spawnColor=new Bp),this.spawnColor.load(e.spawnColor)),e.startCount!==void 0&&(this.startCount=e.startCount))}}var K1;(function(n){n.emitter="emitter"})(K1||(K1={}));const B3=.5,U3=0,ix=0,k3=0,eW=0,tW=-1,nW=1;function z3(n,e){n.color?n.color.value=e:n.color={value:e}}class iW{constructor(e,t,i,r,s){this.emitters=t,this.container=i,this._destroy=()=>{this._mutationObserver?.disconnect(),this._mutationObserver=void 0,this._resizeObserver?.disconnect(),this._resizeObserver=void 0,this.emitters.removeEmitter(this),this._engine.dispatchEvent("emitterDestroyed",{container:this.container,data:{emitter:this}})},this._prepareToDie=()=>{if(this._paused)return;const u=this.options.life?.duration!==void 0?Kt(this.options.life.duration):void 0;(this._lifeCount>0||this._immortal)&&u!==void 0&&u>0&&(this._duration=u*Ps)},this._setColorAnimation=(u,m,d,b=nW)=>{const g=this.container;if(!u.enable)return m;const _=ra(u.offset),p=Kt(this.options.rate.delay),v=g.retina.reduceFactor?p*Ps/g.retina.reduceFactor:1/0,c=0,x=Kt(u.speed??c);return(m+x*g.fpsLimit/v+_*b)%d},this._engine=e,this._currentDuration=0,this._currentEmitDelay=0,this._currentSpawnDelay=0,this._initialPosition=s,r instanceof Rp?this.options=r:(this.options=new Rp,this.options.load(r)),this._spawnDelay=i.retina.reduceFactor?Kt(this.options.life.delay??U3)*Ps/i.retina.reduceFactor:1/0,this.position=this._initialPosition??this._calcPosition(),this.name=this.options.name,this.fill=this.options.fill,this._firstSpawn=!this.options.life.wait,this._startParticlesAdded=!1;let o=ss({},this.options.particles);if(o??={},o.move??={},o.move.direction??=this.options.direction,this.options.spawnColor&&(this.spawnColor=hd(this._engine,this.options.spawnColor)),this._paused=!this.options.autoPlay,this._particlesOptions=o,this._size=this._calcSize(),this.size=C3(this._size,this.container.canvas.size),this._lifeCount=this.options.life.count??tW,this._immortal=this._lifeCount<=ix,this.options.domId){const u=document.getElementById(this.options.domId);u&&(this._mutationObserver=new MutationObserver(()=>{this.resize()}),this._resizeObserver=new ResizeObserver(()=>{this.resize()}),this._mutationObserver.observe(u,{attributes:!0,attributeFilter:["style","width","height"]}),this._resizeObserver.observe(u))}const l=this.options.shape,a=this._engine.emitterShapeManager?.getShapeGenerator(l.type);a&&(this._shape=a.generate(this.position,this.size,this.fill,l.options)),this._engine.dispatchEvent("emitterCreated",{container:i,data:{emitter:this}}),this.play()}externalPause(){this._paused=!0,this.pause()}externalPlay(){this._paused=!1,this.play()}async init(){await this._shape?.init()}pause(){this._paused||delete this._emitDelay}play(){if(this._paused||!((this._lifeCount>ix||this._immortal||!this.options.life.count)&&(this._firstSpawn||this._currentSpawnDelay>=(this._spawnDelay??k3))))return;const e=this.container;if(this._emitDelay===void 0){const t=Kt(this.options.rate.delay);this._emitDelay=e.retina.reduceFactor?t*Ps/e.retina.reduceFactor:1/0}(this._lifeCount>ix||this._immortal)&&this._prepareToDie()}resize(){const e=this._initialPosition,t=this.container;this.position=e&&z_(e,t.canvas.size,Lr.origin)?e:this._calcPosition(),this._size=this._calcSize(),this.size=C3(this._size,t.canvas.size),this._shape?.resize(this.position,this.size)}update(e){if(this._paused)return;const t=this.container;this._firstSpawn&&(this._firstSpawn=!1,this._currentSpawnDelay=this._spawnDelay??k3,this._currentEmitDelay=this._emitDelay??eW),this._startParticlesAdded||(this._startParticlesAdded=!0,this._emitParticles(this.options.startCount)),this._duration!==void 0&&(this._currentDuration+=e.value,this._currentDuration>=this._duration&&(this.pause(),this._spawnDelay!==void 0&&delete this._spawnDelay,this._immortal||this._lifeCount--,this._lifeCount>ix||this._immortal?(this.position=this._calcPosition(),this._shape?.resize(this.position,this.size),this._spawnDelay=t.retina.reduceFactor?Kt(this.options.life.delay??U3)*Ps/t.retina.reduceFactor:1/0):this._destroy(),this._currentDuration-=this._duration,delete this._duration)),this._spawnDelay!==void 0&&(this._currentSpawnDelay+=e.value,this._currentSpawnDelay>=this._spawnDelay&&(this._engine.dispatchEvent("emitterPlay",{container:this.container}),this.play(),this._currentSpawnDelay-=this._currentSpawnDelay,delete this._spawnDelay)),this._emitDelay!==void 0&&(this._currentEmitDelay+=e.value,this._currentEmitDelay>=this._emitDelay&&(this._emit(),this._currentEmitDelay-=this._emitDelay))}_calcPosition(){const e=this.container;if(this.options.domId){const t=document.getElementById(this.options.domId);if(t){const i=t.getBoundingClientRect(),r=e.retina.pixelRatio;return{x:(i.x+i.width*B3)*r,y:(i.y+i.height*B3)*r}}}return JF({size:e.canvas.size,position:this.options.position})}_calcSize(){const e=this.container;if(this.options.domId){const t=document.getElementById(this.options.domId);if(t){const i=t.getBoundingClientRect();return{width:i.width*e.retina.pixelRatio,height:i.height*e.retina.pixelRatio,mode:Sh.precise}}}return this.options.size??(()=>{const t=new y4;return t.load({height:0,mode:Sh.percent,width:0}),t})()}_emit(){if(this._paused)return;const e=Kt(this.options.rate.quantity);this._emitParticles(e)}_emitParticles(e){const t=sa(this._particlesOptions),i=this.container.retina.reduceFactor;for(let r=0;r<e*i;r++){const s=ss({},t);if(this.spawnColor){const a=this.options.spawnColor?.animation;if(a){const u={h:360,s:100,l:100},m=3.6;this.spawnColor.h=this._setColorAnimation(a.h,this.spawnColor.h,u.h,m),this.spawnColor.s=this._setColorAnimation(a.s,this.spawnColor.s,u.s),this.spawnColor.l=this._setColorAnimation(a.l,this.spawnColor.l,u.l)}z3(s,this.spawnColor)}const o=this.options.shape;let l=this.position;if(this._shape){const a=this._shape.randomPosition();if(a){l=a.position;const u=o.replace;u.color&&a.color&&z3(s,a.color),u.opacity&&(s.opacity?s.opacity.value=a.opacity:s.opacity={value:a.opacity})}else l=null}l&&this.container.particles.addParticle(l,s)}}}class rW{constructor(e,t){this.container=t,this._engine=e,this.array=[],this.emitters=[],this.interactivityEmitters={random:{count:1,enable:!1},value:[]};const i=0;t.getEmitter=r=>r===void 0||vl(r)?this.array[r??i]:this.array.find(s=>s.name===r),t.addEmitter=async(r,s)=>this.addEmitter(r,s),t.removeEmitter=r=>{const s=t.getEmitter(r);s&&this.removeEmitter(s)},t.playEmitter=r=>{const s=t.getEmitter(r);s&&s.externalPlay()},t.pauseEmitter=r=>{const s=t.getEmitter(r);s&&s.externalPause()}}async addEmitter(e,t){const i=new Rp;i.load(e);const r=new iW(this._engine,this,this.container,i,t);return await r.init(),this.array.push(r),r}handleClickMode(e){const t=this.emitters,i=this.interactivityEmitters;if(e!==K1.emitter)return;let r;if(i&&Da(i.value))if(i.value.length>0&&i.random.enable){r=[];const a=[];for(let u=0;u<i.random.count;u++){const m=e4(i.value);if(a.includes(m)&&a.length<i.value.length){u--;continue}a.push(m),r.push(ud(i.value,m))}}else r=i.value;else r=i?.value;const s=r??t,o=this.container.interactivity.mouse.clickPosition;Ys(s,async l=>{await this.addEmitter(l,o)})}async init(){if(this.emitters=this.container.actualOptions.emitters,this.interactivityEmitters=this.container.actualOptions.interactivity.modes.emitters,!!this.emitters)if(Da(this.emitters))for(const e of this.emitters)await this.addEmitter(e);else await this.addEmitter(this.emitters)}pause(){for(const e of this.array)e.pause()}play(){for(const e of this.array)e.play()}removeEmitter(e){const t=this.array.indexOf(e);t>=0&&this.array.splice(t,1)}resize(){for(const e of this.array)e.resize()}stop(){this.array=[]}update(e){for(const t of this.array)t.update(e)}}class sW{constructor(e){this._engine=e,this.id="emitters"}getPlugin(e){return Promise.resolve(new rW(this._engine,e))}loadOptions(e,t){if(!this.needsPlugin(e)&&!this.needsPlugin(t))return;t?.emitters&&(e.emitters=Ys(t.emitters,r=>{const s=new Rp;return s.load(r),s}));const i=t?.interactivity?.modes?.emitters;if(i)if(Da(i))e.interactivity.modes.emitters={random:{count:1,enable:!0},value:i.map(r=>{const s=new Rp;return s.load(r),s})};else{const r=i;if(r.value!==void 0)if(Da(r.value))e.interactivity.modes.emitters={random:{count:r.random.count??1,enable:r.random.enable??!1},value:r.value.map(o=>{const l=new Rp;return l.load(o),l})};else{const o=new Rp;o.load(r.value),e.interactivity.modes.emitters={random:{count:r.random.count??1,enable:r.random.enable??!1},value:o}}else(e.interactivity.modes.emitters={random:{count:1,enable:!1},value:new Rp}).value.load(i)}}needsPlugin(e){if(!e)return!1;const t=e.emitters;return Da(t)&&!!t.length||t!==void 0||!!e.interactivity?.events?.onClick?.mode&&fs(K1.emitter,e.interactivity.events.onClick.mode)}}const AC=new Map;class oW{constructor(e){this._engine=e}addShapeGenerator(e,t){this.getShapeGenerator(e)||AC.set(e,t)}getShapeGenerator(e){return AC.get(e)}getSupportedShapeGenerators(){return AC.keys()}}class H_{constructor(e,t,i,r){this.position=e,this.size=t,this.fill=i,this.options=r}resize(e,t){this.position=e,this.size=t}}async function aW(n,e=!0){n.checkVersion("3.9.1"),n.emitterShapeManager||(n.emitterShapeManager=new oW(n)),n.addEmitterShapeGenerator||(n.addEmitterShapeGenerator=(i,r)=>{n.emitterShapeManager?.addShapeGenerator(i,r)});const t=new sW(n);await n.addPlugin(t,e)}const id={x:0,y:0},lW=0;function pM(n,e,t,i=!0){const r=n.getImageData(id.x,id.y,e.width,e.height).data;i&&n.clearRect(id.x,id.y,e.width,e.height);const s=[];for(let o=0;o<r.length;o+=t){const l=o/t,a={x:l%e.width,y:Math.floor(l/e.width)};s[a.y]||(s[a.y]=[]);const u={r:0,g:1,b:2,a:3},m=255;s[a.y][a.x]={r:r[o+u.r],g:r[o+u.g],b:r[o+u.b],a:r[o+u.a]/m}}return{pixels:s,width:Math.min(...s.map(o=>o.length)),height:s.length}}function cW(n,e){const t=new Image;t.crossOrigin="Anonymous";const i=new Promise((r,s)=>{t.onerror=s,t.onload=()=>{const o=document.createElement("canvas");o.width=t.width,o.height=t.height;const l=o.getContext("2d");if(!l)return s(new Error(`${Za} Could not get canvas context`));l.drawImage(t,id.x,id.y,t.width,t.height,id.x,id.y,o.width,o.height),r(pM(l,o,e))}});return t.src=n,i}function uW(n,e,t){const i=document.createElement("canvas"),r=i.getContext("2d"),{font:s,text:o,lines:l,color:a}=n;if(!o||!r)return;const u=o.split(l.separator),m=vl(s.size)?`${s.size}px`:s.size,d=[];let b=0,g=0;for(const p of u){r.font=`${s.style||""} ${s.variant||""} ${s.weight||""} ${m} ${s.family}`;const v=r.measureText(p),c={measure:v,text:p,height:v.actualBoundingBoxAscent+v.actualBoundingBoxDescent,width:v.width};b=Math.max(b||lW,c.width),g+=c.height+l.spacing,d.push(c)}i.width=b,i.height=g;let _=0;for(const p of d)r.font=`${s.style||""} ${s.variant||""} ${s.weight||""} ${m} ${s.family}`,t?(r.fillStyle=a,r.fillText(p.text,id.x,_+p.measure.actualBoundingBoxAscent)):(r.strokeStyle=a,r.strokeText(p.text,id.x,_+p.measure.actualBoundingBoxAscent)),_+=p.height+l.spacing;return pM(r,i,e)}const hW=100,$3=.5;class dW extends H_{constructor(e,t,i,r){super(e,t,i,r);const s=r.filter,o=0;let l=a=>a.a>o;if(s!==void 0)if(dc(s)){if(Object.hasOwn(window,s)){const a=window[s];bE(a)&&(l=a)}}else l=s;this.filter=l,this.scale=r.scale,this.pixelData={pixels:[],height:0,width:0}}async init(){let e;const t=this.options,i=t.selector,r=t.pixels,s=t.image,o=t.element,l=t.text,a=r.offset;if(s){const u=s.src;if(!u)return;e=await cW(u,a)}else if(l){const u=uW(l,a,this.fill);if(Lt(u))return;e=u}else if(o??i){const u=o??(i&&document.querySelector(i));if(!u)return;const m=u.getContext("2d");if(!m)return;e=pM(m,u,a)}e&&(this.pixelData=e)}randomPosition(){const{height:e,width:t}=this.pixelData,i=this.pixelData,r=this.position,s=this.scale,o={x:r.x-t*s*$3,y:r.y-e*s*$3};for(let l=0;l<hW;l++){const a=Math.floor(Gn()*t*e),u={x:a%t,y:Math.floor(a/t)},m=i.pixels[u.y][u.x];if(this.filter(m))return{position:{x:u.x*s+o.x,y:u.y*s+o.y},color:{...m},opacity:m.a}}return null}resize(e,t){super.resize(e,t)}}class fW{constructor(){this.offset=4}load(e){Lt(e)||e.offset!==void 0&&(this.offset=e.offset)}}class pW{constructor(){this.family="Verdana",this.size=32,this.style="",this.variant="",this.weight=""}load(e){Lt(e)||(e.family!==void 0&&(this.family=e.family),e.size!==void 0&&(this.size=e.size),e.style!==void 0&&(this.style=e.style),e.variant!==void 0&&(this.variant=e.variant),e.weight!==void 0&&(this.weight=e.weight))}}class mW{constructor(){this.separator=`
`,this.spacing=0}load(e){Lt(e)||(e.separator!==void 0&&(this.separator=e.separator),e.spacing!==void 0&&(this.spacing=e.spacing))}}class gW{constructor(){this.color="#000000",this.font=new pW,this.lines=new mW,this.text=""}load(e){Lt(e)||(e.color!==void 0&&(this.color=e.color),this.font.load(e.font),this.lines.load(e.lines),e.text!==void 0&&(this.text=e.text))}}const vW=0;class yW{constructor(){this.filter=e=>e.a>vW,this.pixels=new fW,this.scale=1,this.selector="",this.text=new gW}load(e){Lt(e)||(e.element!==void 0&&(this.element=e.element),e.filter!==void 0&&(this.filter=e.filter),this.pixels.load(e.pixels),e.scale!==void 0&&(this.scale=e.scale),e.selector!==void 0&&(this.selector=e.selector),e.image!==void 0&&(this.image=e.image),this.text.load(e.text))}}class _W{generate(e,t,i,r){const s=new yW;return s.load(r),new dW(e,t,i,s)}}async function bW(n,e=!0){const t=n;t.checkVersion("3.9.1"),t.addEmitterShapeGenerator?.("canvas",new _W),await t.refresh(e)}const _4=100,Z1=.5;function xW(n,e,t,i){let r=null;for(let s=0;s<_4;s++){const o={x:t.x+Gn()*i.width-i.width*Z1,y:t.y+Gn()*i.height-i.height*Z1};if(n.isPointInPath(e,o.x,o.y)){r=o;break}}return r}function SW(n,e,t,i){let r=null;for(let s=0;s<_4;s++){const o={x:t.x+Gn()*i.width-i.width*Z1,y:t.y+Gn()*i.height-i.height*Z1};if(n.isPointInStroke(e,o.x,o.y)){r=o;break}}return r}const rx=.5;class EW extends H_{constructor(e,t,i,r){super(e,t,i,r);const s=document.createElement("canvas").getContext("2d");if(!s)throw new Error(`${Za} No 2d context available`);this.checkContext=s,this.points=r.points;const o=this.points,l=new Path2D,a={x:e.x-t.width*rx,y:e.y-t.height*rx};for(const[d,b]of o.entries()){const g={x:a.x+b.x*t.width/Sr,y:a.y+b.y*t.height/Sr};d?l.lineTo(g.x,g.y):l.moveTo(g.x,g.y)}const u=0,m=o[u];if(m){const d={x:a.x+m.x*t.width/Sr,y:a.y+m.y*t.height/Sr};l.lineTo(d.x,d.y)}this.path=l}async init(){}randomPosition(){const e=this.checkContext,t=this.position,i=this.size,r=this.fill,s=this.path,o=r?xW(e,s,t,i):SW(e,s,t,i);return o?{position:o}:null}resize(e,t){super.resize(e,t);const i=this.points,r=new Path2D,s={x:e.x-t.width*rx,y:e.y-t.height*rx};for(const[a,u]of i.entries()){const m={x:s.x+u.x*t.width/Sr,y:s.y+u.y*t.height/Sr};a?r.lineTo(m.x,m.y):r.moveTo(m.x,m.y)}const o=0,l=i[o];if(l){const a={x:s.x+l.x*t.width/Sr,y:s.y+l.y*t.height/Sr};r.lineTo(a.x,a.y)}this.path=r}}const H3={x:50,y:50};class wW{constructor(){this.points=[]}load(e){Lt(e)||e.points!==void 0&&(this.points=e.points.map(t=>({x:t.x??H3.x,y:t.y??H3.y})))}}class CW{generate(e,t,i,r){const s=new wW;return s.load(r),new EW(e,t,i,s)}}async function TW(n,e=!0){const t=n;t.checkVersion("3.9.1"),t.addEmitterShapeGenerator?.("path",new CW),await t.refresh(e)}const AW=2,RW=Math.PI*AW,MW=0,OW=100;function G3(n,e,t,i=MW){const r=[],s=RW/e;for(let o=0;o<e;o++){const l=s*o+i;r.push({x:n.x+t*Math.cos(l),y:n.y+t*Math.sin(l)})}return r}function LW(n){const t=n[0],i={...t},r={...t};for(const o of n)o.x<i.x&&(i.x=o.x),o.x>r.x&&(r.x=o.x),o.y<i.y&&(i.y=o.y),o.y>r.y&&(r.y=o.y);let s=null;for(let o=0;o<OW;o++){const l={x:i.x+Gn()*(r.x-i.x),y:i.y+Gn()*(r.y-i.y)};if(NW(l,n)){s=l;break}}return s}function PW(n){const e=Math.floor(Gn()*n.length),t=n[e],i=1,r=n[(e+i)%n.length],s=Gn();return{x:t.x+(r.x-t.x)*s,y:t.y+(r.y-t.y)*s}}function NW(n,e){let t=!1;const i=1;for(let r=0,s=e.length-i;r<e.length;s=r++){const o=e[r],l=e[s];o.y>n.y!=l.y>n.y&&n.x<(l.x-o.x)*(n.y-o.y)/(l.y-o.y)+o.x&&(t=!t)}return t}const V3=.5;class IW extends H_{constructor(e,t,i,r){super(e,t,i,r),this.sides=r.sides,this.angle=vh(r.angle),this.polygon=G3(e,this.sides,t.width*V3,this.angle)}async init(){}randomPosition(){const e=this.fill,t=this.polygon,i=e?LW(t):PW(t);return i?{position:i}:null}resize(e,t){super.resize(e,t),this.polygon=G3(e,this.sides,t.width*V3,this.angle)}}class DW{constructor(){this.angle=0,this.sides=5}load(e){Lt(e)||(e.angle!==void 0&&(this.angle=e.angle),e.sides!==void 0&&(this.sides=e.sides))}}class FW{generate(e,t,i,r){const s=new DW;return s.load(r),new IW(e,t,i,s)}}async function BW(n,e=!0){const t=n;t.checkVersion("3.9.1"),t.addEmitterShapeGenerator?.("polygon",new FW),await t.refresh(e)}class UW{constructor(e,t){this._exportImage=async i=>{const r=this._container.canvas.element;if(r)return new Promise(s=>{r.toBlob(o=>{if(!o){s(void 0);return}s(o)},i.type??"image/png",i.quality)})},this._container=e,this._engine=t}async export(e,t){const i={supported:!1};switch(e){case"image":i.supported=!0,i.blob=await this._exportImage(t);break}return i}}class kW{constructor(e){this.id="export-image",this._engine=e}getPlugin(e){return Promise.resolve(new UW(e,this._engine))}loadOptions(){}needsPlugin(){return!0}}async function zW(n,e=!0){n.checkVersion("3.9.1"),await n.addPlugin(new kW(n),e)}const $W=2;class HW{constructor(e,t){this._exportJSON=async()=>{const i=JSON.stringify(this._container.actualOptions,(r,s)=>{if(!r.startsWith("_"))return s},$W);return Promise.resolve(new Blob([i],{type:"application/json"}))},this._container=e,this._engine=t}async export(e){const t={supported:!1};switch(e){case"json":t.supported=!0,t.blob=await this._exportJSON();break}return t}}class GW{constructor(e){this.id="export-json",this._engine=e}getPlugin(e){return Promise.resolve(new HW(e,this._engine))}loadOptions(){}needsPlugin(){return!0}}async function VW(n,e=!0){n.checkVersion("3.9.1"),await n.addPlugin(new GW(n),e)}const WW=["webm","ogg","mp4","x-matroska"],jW=["vp9","vp9.0","vp8","vp8.0","avc1","av1","h265","h.265","h264","h.264","opus","pcm","aac","mpeg","mp4a"];function XW(){const n=t=>MediaRecorder.isTypeSupported(t),e=[];return WW.forEach(t=>{const i=`video/${t}`;jW.forEach(r=>[`${i};codecs=${r}`,`${i};codecs=${r.toUpperCase()}`].forEach(s=>{n(s)&&e.push(s)})),n(i)&&e.push(i)}),e}class qW{constructor(e,t){this._supportedTypes=[],this._exportVideo=async i=>{const r=this._container.canvas.element;if(r)return new Promise(s=>{const o=r.captureStream(i.fps??this._container.actualOptions.fpsLimit),l=0,a=i.mimeType??this._supportedTypes[l],u=new MediaRecorder(o,{mimeType:a}),m=[],d=5;u.addEventListener("dataavailable",b=>{m.push(b.data)}),u.addEventListener("stop",()=>{s(new Blob(m,{type:a}))}),u.start(),setTimeout(()=>{u.stop()},i.duration??d*Ps)})},this._container=e,this._engine=t,this._supportedTypes=XW()}async export(e,t){const i={supported:!1};switch(e){case"video":i.supported=!0,i.blob=await this._exportVideo(t);break}return i}}class YW{constructor(e){this.id="export-video",this._engine=e}getPlugin(e){return Promise.resolve(new qW(e,this._engine))}loadOptions(){}needsPlugin(){return!0}}async function KW(n,e=!0){n.checkVersion("3.9.1"),await n.addPlugin(new YW(n),e)}class ZW{constructor(){this.replaceCursor=!1,this.pauseOnStop=!1,this.stopDelay=0}load(e){Lt(e)||(e.options!==void 0&&(this.options=ss({},e.options)),e.replaceCursor!==void 0&&(this.replaceCursor=e.replaceCursor),e.pauseOnStop!==void 0&&(this.pauseOnStop=e.pauseOnStop),e.stopDelay!==void 0&&(this.stopDelay=e.stopDelay))}}const W3="particle";class QW extends Fc{constructor(e){super(e)}clear(){}init(){}interact(){const e=this.container,{interactivity:t}=e,i=e.actualOptions;if(!e.retina.reduceFactor)return;const r=t.mouse.position,s=i.interactivity.modes.particle;if(!s)return;const o=s.pauseOnStop&&(t.mouse.position===this._lastPosition||t.mouse.position?.x===this._lastPosition?.x&&t.mouse.position?.y===this._lastPosition?.y),l=s.stopDelay;if(r?this._lastPosition={...r}:delete this._lastPosition,!!this._lastPosition){if(o){if(this._clearTimeout)return;this._clearTimeout=setTimeout(()=>{if(this._particle){if(s.replaceCursor){const a=t.element;a&&(a instanceof Window?document.body.style.cursor="":a.style.cursor="")}this.container.particles.remove(this._particle,void 0,!0),delete this._particle}},l);return}if(this._clearTimeout&&(clearTimeout(this._clearTimeout),delete this._clearTimeout),!this._particle){const a=ss(s.options,{move:{enable:!1}});if(this._particle=e.particles.addParticle(this._lastPosition,a),s.replaceCursor){const u=t.element;u&&(u instanceof Window?document.body.style.cursor="none":u.style.cursor="none")}}this._particle&&(this._particle.position.x=this._lastPosition.x,this._particle.position.y=this._lastPosition.y)}}isEnabled(e){const t=this.container,i=t.actualOptions,r=t.interactivity.mouse,s=(e?.interactivity??i.interactivity).events;return r.clicking&&r.inside&&!!r.position&&fs(W3,s.onClick.mode)||r.inside&&!!r.position&&fs(W3,s.onHover.mode)}loadModeOptions(e,...t){e.particle||(e.particle=new ZW);for(const i of t)e.particle.load(i?.particle)}reset(){}}async function JW(n,e=!0){n.checkVersion("3.9.1"),await n.addInteractor("externalParticle",t=>Promise.resolve(new QW(t)),e)}const ej="pop";class tj extends Fc{constructor(e){super(e),this.handleClickMode=t=>{const i=this.container;if(t!==ej)return;const r=i.interactivity.mouse.clickPosition;if(!r)return;const s=i.particles.quadTree.queryCircle(r,i.retina.pixelRatio);if(s.length)for(const o of s)i.particles.remove(o)}}clear(){}init(){}interact(){}isEnabled(){return!0}reset(){}}async function nj(n,e=!0){n.checkVersion("3.9.1"),await n.addInteractor("externalPop",t=>Promise.resolve(new tj(t)),e)}const so=(n,e,t)=>n+t*(e-n),Xd=n=>n*n*(3-2*n),fy=n=>n-Math.floor(n);class ij{constructor(){this._coeffW=29.537,this._coeffX=127.1,this._coeffY=311.7,this._coeffZ=78.233,this._coeffZW=37.719,this._scaleFactor=43758.5453}noise2d(e,t){const i=Math.floor(e),r=Math.floor(t),s=i+1,o=r+1,l=Xd(e-i),a=Xd(t-r),u=this._valueNoise2D(i,r),m=this._valueNoise2D(s,r),d=this._valueNoise2D(i,o),b=this._valueNoise2D(s,o),g=so(u,m,l),_=so(d,b,l);return so(g,_,a)}noise3d(e,t,i){const r=Math.floor(e),s=Math.floor(t),o=Math.floor(i),l=r+1,a=s+1,u=o+1,m=Xd(e-r),d=Xd(t-s),b=Xd(i-o),g=this._valueNoise3D(r,s,o),_=this._valueNoise3D(l,s,o),p=this._valueNoise3D(r,a,o),v=this._valueNoise3D(l,a,o),c=this._valueNoise3D(r,s,u),x=this._valueNoise3D(l,s,u),w=this._valueNoise3D(r,a,u),T=this._valueNoise3D(l,a,u),L=so(g,_,m),P=so(p,v,m),C=so(c,x,m),I=so(w,T,m),F=so(L,P,d),R=so(C,I,d);return so(F,R,b)}noise4d(e,t,i,r){const s=Math.floor(e),o=Math.floor(t),l=Math.floor(i),a=Math.floor(r),u=s+1,m=o+1,d=l+1,b=a+1,g=Xd(e-s),_=Xd(t-o),p=Xd(i-l),v=Xd(r-a),c=this._valueNoise4D(s,o,l,a),x=this._valueNoise4D(u,o,l,a),w=this._valueNoise4D(s,m,l,a),T=this._valueNoise4D(u,m,l,a),L=this._valueNoise4D(s,o,d,a),P=this._valueNoise4D(u,o,d,a),C=this._valueNoise4D(s,m,d,a),I=this._valueNoise4D(u,m,d,a),F=this._valueNoise4D(s,o,l,b),R=this._valueNoise4D(u,o,l,b),D=this._valueNoise4D(s,m,l,b),G=this._valueNoise4D(u,m,l,b),j=this._valueNoise4D(s,o,d,b),k=this._valueNoise4D(u,o,d,b),V=this._valueNoise4D(s,m,d,b),H=this._valueNoise4D(u,m,d,b),te=so(c,x,g),ne=so(w,T,g),he=so(L,P,g),ie=so(C,I,g),ce=so(F,R,g),Se=so(D,G,g),Ee=so(j,k,g),me=so(V,H,g),le=so(te,ne,_),we=so(he,ie,_),Re=so(ce,Se,_),Fe=so(Ee,me,_),qe=so(le,we,p),ot=so(Re,Fe,p);return so(qe,ot,v)}seed(e){const t=Math.sin(e)*1e4;this._coeffX=fy(t*15731),this._coeffY=fy(t*789221),this._coeffZ=fy(t*1376312589),this._coeffZW=fy(t*974634777),this._coeffW=fy(t*592558533),this._scaleFactor=43758.5453}_valueNoise2D(e,t){const i=Math.sin(e*this._coeffX+t*this._coeffY)*this._scaleFactor;return(i-Math.floor(i))*2-1}_valueNoise3D(e,t,i){const r=Math.sin(e*this._coeffX+t*this._coeffY+i*this._coeffZ)*this._scaleFactor;return(r-Math.floor(r))*2-1}_valueNoise4D(e,t,i,r){const s=Math.sin(e*this._coeffX+t*this._coeffY+i*this._coeffZW+r*this._coeffW)*this._scaleFactor;return(s-Math.floor(s))*2-1}}class rj{constructor(){this._smoothValueNoise=new ij}noise2d(e,t,i=5,r=.5,s=2){let o=0,l=1,a=1,u=0;for(let m=0;m<i;m++)o+=this._smoothValueNoise.noise2d(e*l,t*l)*a,u+=a,a*=r,l*=s;return o/u}noise3d(e,t,i,r=5,s=.5,o=2){let l=0,a=1,u=1,m=0;for(let d=0;d<r;d++)l+=this._smoothValueNoise.noise3d(e*a,t*a,i*a)*u,m+=u,u*=s,a*=o;return l/m}noise4d(e,t,i,r,s=5,o=.5,l=2){let a=0,u=1,m=1,d=0;for(let b=0;b<s;b++)a+=this._smoothValueNoise.noise4d(e*u,t*u,i*u,r*u)*m,d+=m,m*=o,u*=l;return a/d}seed(e){this._smoothValueNoise.seed(e)}}const cv={size:20,increment:.004,columns:0,rows:0,layers:0,width:0,height:0,offset:{x:4e4,y:4e4,z:4e4}};class sj{constructor(){this._fractal=new rj,this.field=[],this.noiseW=0,this.options=ss({},cv)}generate(e){const t=e.getPosition(),i={x:Math.max(Math.floor(t.x/this.options.size),0),y:Math.max(Math.floor(t.y/this.options.size),0),z:Math.max(Math.floor(t.z/this.options.size),0)},r=Lr.origin;return this.field?.[i.x]?.[i.y]?.[i.z]&&r.setTo(this.field[i.x][i.y][i.z]),r}init(e){this.container=e,this._setup()}reset(){}update(){this.container&&(this._calculateField(),this.noiseW+=this.options.increment)}_calculateField(){const e=this.options;for(let t=0;t<e.columns;t++)for(let i=0;i<e.rows;i++)for(let r=0;r<e.layers;r++)this.field[t][i][r].angle=this._fractal.noise4d(t/50,i/50,r/50,this.noiseW)*Math.PI*2,this.field[t][i][r].length=this._fractal.noise4d(t/100+e.offset.x,i/100+e.offset.y,r/100+e.offset.z,this.noiseW)}_initField(){this.field=new Array(this.options.columns);for(let e=0;e<this.options.columns;e++){this.field[e]=new Array(this.options.rows);for(let t=0;t<this.options.rows;t++){this.field[e][t]=new Array(this.options.layers);for(let i=0;i<this.options.layers;i++)this.field[e][t][i]=Lr.origin}}}_resetField(){const e=this.container;if(!e)return;const t=e.actualOptions.particles.move.path.options;this.options.size=t.size>0?t.size:cv.size,this.options.increment=t.increment>0?t.increment:cv.increment,this.options.width=e.canvas.size.width,this.options.height=e.canvas.size.height;const i=t.offset;this.options.offset.x=i?.x??cv.offset.x,this.options.offset.y=i?.y??cv.offset.y,this.options.offset.z=i?.z??cv.offset.z,this.options.seed=t.seed,this._fractal.seed(this.options.seed??Gn()),this.options.columns=Math.floor(this.options.width/this.options.size)+1,this.options.rows=Math.floor(this.options.height/this.options.size)+1,this.options.layers=Math.floor(e.zLayers/this.options.size)+1,this._initField()}_setup(){this.noiseW=0,this._resetField(),addEventListener("resize",()=>this._resetField())}}const oj="fractalNoise";async function aj(n,e=!0){n.checkVersion("3.9.1"),await n.addPathGenerator(oj,new sj,e)}class lj{constructor(){this.radius=0,this.mass=0}load(e){Lt(e)||(e.mass!==void 0&&(this.mass=e.mass),e.radius!==void 0&&(this.radius=e.radius))}}class cj extends ou{constructor(){super(),this.density=5,this.value=50,this.limit=new lj}load(e){Lt(e)||(super.load(e),e.density!==void 0&&(this.density=e.density),vl(e.limit)?this.limit.radius=e.limit:this.limit.load(e.limit))}}class Q1{constructor(){this.color=new rs,this.color.value="#000000",this.draggable=!1,this.opacity=1,this.destroy=!0,this.orbits=!1,this.size=new cj}load(e){Lt(e)||(e.color!==void 0&&(this.color=rs.create(this.color,e.color)),e.draggable!==void 0&&(this.draggable=e.draggable),this.name=e.name,e.opacity!==void 0&&(this.opacity=e.opacity),e.position!==void 0&&(this.position={},e.position.x!==void 0&&(this.position.x=ti(e.position.x)),e.position.y!==void 0&&(this.position.y=ti(e.position.y))),e.size!==void 0&&this.size.load(e.size),e.destroy!==void 0&&(this.destroy=e.destroy),e.orbits!==void 0&&(this.orbits=e.orbits))}}var J1;(function(n){n.absorber="absorber"})(J1||(J1={}));const uj=2,hj=.033,dj=0,fj=0,pj=0,mj=0,gj=2,j3=Math.PI*gj,X3=0;class vj{constructor(e,t,i,r,s){this._calcPosition=()=>{const l=JF({size:this._container.canvas.size,position:this.options.position});return Lr.create(l.x,l.y)},this._updateParticlePosition=(l,a)=>{if(l.destroyed)return;const u=this._container,m=u.canvas.size;if(l.needsNewPosition){const d=QF({size:m});l.position.setTo(d),l.velocity.setTo(l.initialVelocity),l.absorberOrbit=void 0,l.needsNewPosition=!1}if(this.options.orbits){if(l.absorberOrbit===void 0&&(l.absorberOrbit=Lr.origin,l.absorberOrbit.length=fl(l.getPosition(),this.position),l.absorberOrbit.angle=Gn()*j3),l.absorberOrbit.length<=this.size&&!this.options.destroy){const p=Math.min(m.width,m.height),v=1,c=.1,x=.2;l.absorberOrbit.length=p*(v+(Gn()*x-c))}l.absorberOrbitDirection===void 0&&(l.absorberOrbitDirection=l.velocity.x>=X3?ia.clockwise:ia.counterClockwise);const d=l.absorberOrbit.length,b=l.absorberOrbit.angle,g=l.absorberOrbitDirection;l.velocity.setTo(Lr.origin);const _={x:g===ia.clockwise?Math.cos:Math.sin,y:g===ia.clockwise?Math.sin:Math.cos};l.position.x=this.position.x+d*_.x(b),l.position.y=this.position.y+d*_.y(b),l.absorberOrbit.length-=a.length,l.absorberOrbit.angle+=(l.retina.moveSpeed??X3)*u.retina.pixelRatio/Sr*u.retina.reduceFactor}else{const d=Lr.origin;d.length=a.length,d.angle=a.angle,l.velocity.addTo(d)}},this._absorbers=e,this._container=t,this._engine=i,this.initialPosition=s?Lr.create(s.x,s.y):void 0,r instanceof Q1?this.options=r:(this.options=new Q1,this.options.load(r)),this.dragging=!1,this.name=this.options.name,this.opacity=this.options.opacity,this.size=Kt(this.options.size.value)*t.retina.pixelRatio,this.mass=this.size*this.options.size.density*t.retina.reduceFactor;const o=this.options.size.limit;this.limit={radius:o.radius*t.retina.pixelRatio*t.retina.reduceFactor,mass:o.mass},this.color=pl(this._engine,this.options.color)??{b:0,g:0,r:0},this.position=this.initialPosition?.copy()??this._calcPosition()}attract(e){const t=this._container,i=this.options;if(i.draggable){const u=t.interactivity.mouse;u.clicking&&u.downPosition?fl(this.position,u.downPosition)<=this.size&&(this.dragging=!0):this.dragging=!1,this.dragging&&u.position&&(this.position.x=u.position.x,this.position.y=u.position.y)}const r=e.getPosition(),{dx:s,dy:o,distance:l}=aa(this.position,r),a=Lr.create(s,o);if(a.length=this.mass/Math.pow(l,uj)*t.retina.reduceFactor,l<this.size+e.getRadius()){const u=e.getRadius()*hj*t.retina.pixelRatio;this.size>e.getRadius()&&l<this.size-e.getRadius()||e.absorberOrbit!==void 0&&e.absorberOrbit.length<dj?i.destroy?e.destroy():(e.needsNewPosition=!0,this._updateParticlePosition(e,a)):(i.destroy&&(e.size.value-=u),this._updateParticlePosition(e,a)),(this.limit.radius<=fj||this.size<this.limit.radius)&&(this.size+=u),(this.limit.mass<=pj||this.mass<this.limit.mass)&&(this.mass+=u*this.options.size.density*t.retina.reduceFactor)}else this._updateParticlePosition(e,a)}draw(e){e.translate(this.position.x,this.position.y),e.beginPath(),e.arc(xa.x,xa.y,this.size,mj,j3,!1),e.closePath(),e.fillStyle=uc(this.color,this.opacity),e.fill()}resize(){const e=this.initialPosition;this.position=e&&z_(e,this._container.canvas.size,Lr.origin)?e:this._calcPosition()}}const q3=0;class yj{constructor(e,t){this._container=e,this._engine=t,this.array=[],this.absorbers=[],this.interactivityAbsorbers=[],e.getAbsorber=i=>i===void 0||vl(i)?this.array[i??q3]:this.array.find(r=>r.name===i),e.addAbsorber=async(i,r)=>this.addAbsorber(i,r)}async addAbsorber(e,t){const i=new vj(this,this._container,this._engine,e,t);return this.array.push(i),Promise.resolve(i)}draw(e){for(const t of this.array)t.draw(e)}handleClickMode(e){const t=this.absorbers,i=this.interactivityAbsorbers;if(e===J1.absorber){const r=sa(i),s=r??sa(t),o=this._container.interactivity.mouse.clickPosition;this.addAbsorber(s,o)}}async init(){this.absorbers=this._container.actualOptions.absorbers,this.interactivityAbsorbers=this._container.actualOptions.interactivity.modes.absorbers;const e=Ys(this.absorbers,async t=>{await this.addAbsorber(t)});e instanceof Array?await Promise.all(e):await e}particleUpdate(e){for(const t of this.array)if(t.attract(e),e.destroyed)break}removeAbsorber(e){const t=this.array.indexOf(e);t>=q3&&this.array.splice(t,1)}resize(){for(const e of this.array)e.resize()}stop(){this.array=[]}}class _j{constructor(e){this.id="absorbers",this._engine=e}async getPlugin(e){return Promise.resolve(new yj(e,this._engine))}loadOptions(e,t){!this.needsPlugin(e)&&!this.needsPlugin(t)||(t?.absorbers&&(e.absorbers=Ys(t.absorbers,i=>{const r=new Q1;return r.load(i),r})),e.interactivity.modes.absorbers=Ys(t?.interactivity?.modes?.absorbers,i=>{const r=new Q1;return r.load(i),r}))}needsPlugin(e){if(!e)return!1;const t=e.absorbers;return Da(t)?!!t.length:t?!0:!!(e.interactivity?.events?.onClick?.mode&&fs(J1.absorber,e.interactivity.events.onClick.mode))}}async function bj(n,e=!0){n.checkVersion("3.9.1"),await n.addPlugin(new _j(n),e)}class xj{load(e){Lt(e)||(e.bottom!==void 0&&(this.bottom=ti(e.bottom)),e.left!==void 0&&(this.left=ti(e.left)),e.right!==void 0&&(this.right=ti(e.right)),e.top!==void 0&&(this.top=ti(e.top)))}}var eS;(function(n){n.none="none",n.split="split"})(eS||(eS={}));class Sj extends ou{constructor(){super(),this.value=3}}class Ej extends ou{constructor(){super(),this.value={min:4,max:9}}}class wj{constructor(){this.count=1,this.factor=new Sj,this.rate=new Ej,this.sizeOffset=!0}load(e){Lt(e)||(e.color!==void 0&&(this.color=rs.create(this.color,e.color)),e.count!==void 0&&(this.count=e.count),this.factor.load(e.factor),this.rate.load(e.rate),this.particles=Ys(e.particles,t=>ss({},t)),e.sizeOffset!==void 0&&(this.sizeOffset=e.sizeOffset),e.colorOffset&&(this.colorOffset=this.colorOffset??{},e.colorOffset.h!==void 0&&(this.colorOffset.h=e.colorOffset.h),e.colorOffset.s!==void 0&&(this.colorOffset.s=e.colorOffset.s),e.colorOffset.l!==void 0&&(this.colorOffset.l=e.colorOffset.l)))}}class Cj{constructor(){this.bounds=new xj,this.mode=eS.none,this.split=new wj}load(e){Lt(e)||(e.mode&&(this.mode=e.mode),e.bounds&&this.bounds.load(e.bounds),this.split.load(e.split))}}const sx=0,Tj=.5,Aj=0,Rj=1,Mj=500,Oj=0;function Lj(n,e,t,i){const r=t.options.destroy;if(!r)return;const s=r.split,o=dM(n,e,t.options),l=Kt(s.factor.value),a=t.getFillColor();s.color?o.color.load(s.color):s.colorOffset&&a?o.color.load({value:{hsl:{h:a.h+Kt(s.colorOffset.h??sx),s:a.s+Kt(s.colorOffset.s??sx),l:a.l+Kt(s.colorOffset.l??sx)}}}):o.color.load({value:{hsl:t.getFillColor()}}),o.move.load({center:{x:t.position.x,y:t.position.y,mode:Sh.precise}}),vl(o.size.value)?o.size.value/=l:(o.size.value.min/=l,o.size.value.max/=l),o.load(i);const u=s.sizeOffset?ti(-t.size.value,t.size.value):sx,m={x:t.position.x+ra(u),y:t.position.y+ra(u)};return e.particles.addParticle(m,o,t.group,d=>d.size.value<Tj?!1:(d.velocity.length=ra(ti(t.velocity.length,d.velocity.length)),d.splitCount=(t.splitCount??Aj)+Rj,d.unbreakable=!0,setTimeout(()=>{d.unbreakable=!1},Mj),!0))}function Pj(n,e,t){const i=t.options.destroy;if(!i)return;const r=i.split;if(r.count>=Oj&&(t.splitCount===void 0||t.splitCount++>r.count))return;const s=Kt(r.rate.value),o=sa(r.particles);for(let l=0;l<s;l++)Lj(n,e,t,o)}class Nj{constructor(e,t){this.container=t,this.engine=e}init(e){const t=this.container,i=e.options,r=i.destroy;if(!r)return;e.splitCount=0;const s=r.bounds;e.destroyBounds||(e.destroyBounds={});const{bottom:o,left:l,right:a,top:u}=s,{destroyBounds:m}=e,d=t.canvas.size;o&&(m.bottom=Kt(o)*d.height/Sr),l&&(m.left=Kt(l)*d.width/Sr),a&&(m.right=Kt(a)*d.width/Sr),u&&(m.top=Kt(u)*d.height/Sr)}isEnabled(e){return!e.destroyed}loadOptions(e,...t){e.destroy||(e.destroy=new Cj);for(const i of t)e.destroy.load(i?.destroy)}particleDestroyed(e,t){if(t)return;const i=e.options.destroy;i&&i.mode===eS.split&&Pj(this.engine,this.container,e)}update(e){if(!this.isEnabled(e))return;const t=e.getPosition(),i=e.destroyBounds;i&&(i.bottom!==void 0&&t.y>=i.bottom||i.left!==void 0&&t.x<=i.left||i.right!==void 0&&t.x>=i.right||i.top!==void 0&&t.y<=i.top)&&e.destroy()}}async function Ij(n,e=!0){n.checkVersion("3.9.1"),await n.addParticleUpdater("destroy",t=>Promise.resolve(new Nj(n,t)),e)}const py=.25,kA=2,Dj=Math.PI*kA,Y3=2,K3=.5;class Fj extends H_{constructor(e,t,i,r){super(e,t,i,r)}async init(){}randomPosition(){const e=this.size,t=this.fill,i=this.position,r=(d,b)=>{const g=Gn()*py,_=Math.atan(b/d*Math.tan(Dj*g)),p=Gn();return p<py?_:p<kA*py?Math.PI-_:p<kA*py+py?Math.PI+_:-_},s=(d,b,g)=>d*b/Math.sqrt((b*Math.cos(g))**Y3+(d*Math.sin(g))**Y3),[o,l]=[e.width*K3,e.height*K3],a=r(o,l),u=s(o,l,a),m=t?u*Math.sqrt(Gn()):u;return{position:{x:i.x+m*Math.cos(a),y:i.y+m*Math.sin(a)}}}}class Bj{generate(e,t,i,r){return new Fj(e,t,i,r)}}async function Uj(n,e=!0){const t=n;t.checkVersion("3.9.1"),t.addEmitterShapeGenerator?.("circle",new Bj),await t.refresh(e)}const kj=4;var Uv;(function(n){n[n.TopLeft=0]="TopLeft",n[n.TopRight=1]="TopRight",n[n.BottomRight=2]="BottomRight",n[n.BottomLeft=3]="BottomLeft"})(Uv||(Uv={}));function Z3(n,e){return n+e*(Gn()-_r)}class zj extends H_{constructor(e,t,i,r){super(e,t,i,r)}async init(){}randomPosition(){const e=this.fill,t=this.position,i=this.size;if(e)return{position:{x:Z3(t.x,i.width),y:Z3(t.y,i.height)}};{const r=i.width*_r,s=i.height*_r,o=Math.floor(Gn()*kj),l=(Gn()-_r)*Ka;switch(o){case Uv.TopLeft:return{position:{x:t.x+l*r,y:t.y-s}};case Uv.TopRight:return{position:{x:t.x-r,y:t.y+l*s}};case Uv.BottomRight:return{position:{x:t.x+l*r,y:t.y+s}};case Uv.BottomLeft:default:return{position:{x:t.x+r,y:t.y+l*s}}}}}}class $j{generate(e,t,i,r){return new zj(e,t,i,r)}}async function Hj(n,e=!0){const t=n;t.checkVersion("3.9.1"),t.addEmitterShapeGenerator?.("square",new $j),await t.refresh(e)}class Gj{constructor(){this.delay=1,this.pauseOnStop=!1,this.quantity=1}load(e){Lt(e)||(e.delay!==void 0&&(this.delay=e.delay),e.quantity!==void 0&&(this.quantity=e.quantity),e.particles!==void 0&&(this.particles=ss({},e.particles)),e.pauseOnStop!==void 0&&(this.pauseOnStop=e.pauseOnStop))}}const Q3="trail";class Vj extends Fc{constructor(e){super(e),this._delay=0}clear(){}init(){}interact(e){const t=this.container,{interactivity:i}=t;if(!t.retina.reduceFactor)return;const r=t.actualOptions,s=r.interactivity.modes.trail;if(!s)return;const o=s.delay*Ps/this.container.retina.reduceFactor;if(this._delay<o&&(this._delay+=e.value),this._delay<o)return;const l=!(s.pauseOnStop&&(i.mouse.position===this._lastPosition||i.mouse.position?.x===this._lastPosition?.x&&i.mouse.position?.y===this._lastPosition?.y)),a=t.interactivity.mouse.position;a?this._lastPosition={...a}:delete this._lastPosition,l&&t.particles.push(s.quantity,t.interactivity.mouse,s.particles),this._delay-=o}isEnabled(e){const t=this.container,i=t.actualOptions,r=t.interactivity.mouse,s=(e?.interactivity??i.interactivity).events;return r.clicking&&r.inside&&!!r.position&&fs(Q3,s.onClick.mode)||r.inside&&!!r.position&&fs(Q3,s.onHover.mode)}loadModeOptions(e,...t){e.trail||(e.trail=new Gj);for(const i of t)e.trail.load(i?.trail)}reset(){}}async function Wj(n,e=!0){n.checkVersion("3.9.1"),await n.addInteractor("externalTrail",t=>Promise.resolve(new Vj(t)),e)}var tg;(function(n){n.both="both",n.horizontal="horizontal",n.vertical="vertical"})(tg||(tg={}));const jj=2,b4=Math.PI*jj,Xj=360;function qj(n,e){const t=e.options.roll;if(!t?.enable){e.roll={enable:!1,horizontal:!1,vertical:!1,angle:0,speed:0};return}if(e.roll={enable:t.enable,horizontal:t.mode===tg.horizontal||t.mode===tg.both,vertical:t.mode===tg.vertical||t.mode===tg.both,angle:Gn()*b4,speed:Kt(t.speed)/Xj},t.backColor)e.backColor=hd(n,t.backColor);else if(t.darken.enable&&t.enlighten.enable){const i=Gn()>=_r?Tp.darken:Tp.enlighten;e.roll.alter={type:i,value:Kt(i===Tp.darken?t.darken.value:t.enlighten.value)}}else t.darken.enable?e.roll.alter={type:Tp.darken,value:Kt(t.darken.value)}:t.enlighten.enable&&(e.roll.alter={type:Tp.enlighten,value:Kt(t.enlighten.value)})}function Yj(n,e){const t=n.options.roll,i=n.roll;if(!i||!t?.enable)return;const r=i.speed*e.factor,s=b4;i.angle+=r,i.angle>s&&(i.angle-=s)}class J3{constructor(){this.enable=!1,this.value=0}load(e){Lt(e)||(e.enable!==void 0&&(this.enable=e.enable),e.value!==void 0&&(this.value=ti(e.value)))}}class Kj{constructor(){this.darken=new J3,this.enable=!1,this.enlighten=new J3,this.mode=tg.vertical,this.speed=25}load(e){Lt(e)||(e.backColor!==void 0&&(this.backColor=rs.create(this.backColor,e.backColor)),this.darken.load(e.darken),e.enable!==void 0&&(this.enable=e.enable),this.enlighten.load(e.enlighten),e.mode!==void 0&&(this.mode=e.mode),e.speed!==void 0&&(this.speed=ti(e.speed)))}}class Zj{constructor(e){this._engine=e}getTransformValues(e){const t=e.roll?.enable&&e.roll,i=t&&t.horizontal,r=t&&t.vertical;return{a:i?Math.cos(t.angle):void 0,d:r?Math.sin(t.angle):void 0}}init(e){qj(this._engine,e)}isEnabled(e){const t=e.options.roll;return!e.destroyed&&!e.spawning&&!!t?.enable}loadOptions(e,...t){e.roll||(e.roll=new Kj);for(const i of t)e.roll.load(i?.roll)}update(e,t){this.isEnabled(e)&&Yj(e,t)}}async function Qj(n,e=!0){n.checkVersion("3.9.1"),await n.addParticleUpdater("roll",()=>Promise.resolve(new Zj(n)),e)}const zA=.5,Jj=2,Pp=0,mh=1,eL=60,tL=0,eX=.01,tX=Math.PI*Jj;function nX(n){const e=n.initialPosition,{dx:t,dy:i}=aa(e,n.position),r=Math.abs(t),s=Math.abs(i),{maxDistance:o}=n.retina,l=o.horizontal,a=o.vertical;if(!l&&!a)return;const u=(l&&r>=l)??!1,m=(a&&s>=a)??!1;if((u||m)&&!n.misplaced)n.misplaced=!!l&&r>l||!!a&&s>a,l&&(n.velocity.x=n.velocity.y*zA-n.velocity.x),a&&(n.velocity.y=n.velocity.x*zA-n.velocity.y);else if((!l||r<l)&&(!a||s<a)&&n.misplaced)n.misplaced=!1;else if(n.misplaced){const d=n.position,b=n.velocity;l&&(d.x<e.x&&b.x<Pp||d.x>e.x&&b.x>Pp)&&(b.x*=-Gn()),a&&(d.y<e.y&&b.y<Pp||d.y>e.y&&b.y>Pp)&&(b.y*=-Gn())}}function iX(n,e,t,i,r,s,o){sX(n,o);const l=n.gravity,a=l?.enable&&l.inverse?-mh:mh;r&&t&&(n.velocity.x+=r*o.factor/(eL*t)),l?.enable&&t&&(n.velocity.y+=a*(l.acceleration*o.factor)/(eL*t));const u=n.moveDecay;n.velocity.multTo(u);const m=n.velocity.mult(t);l?.enable&&i>Pp&&(!l.inverse&&m.y>=Pp&&m.y>=i||l.inverse&&m.y<=Pp&&m.y<=-i)&&(m.y=a*i,t&&(n.velocity.y=m.y/t));const d=n.options.zIndex,b=(mh-n.zIndexFactor)**d.velocityRate;m.multTo(b),m.multTo(s);const{position:g}=n;g.addTo(m),e.vibrate&&(g.x+=Math.sin(g.x*Math.cos(g.y))*s,g.y+=Math.cos(g.y*Math.sin(g.x))*s)}function rX(n,e,t){const i=n.container;if(!n.spin)return;const r=n.spin.direction===ia.clockwise,s={x:r?Math.cos:Math.sin,y:r?Math.sin:Math.cos};n.position.x=n.spin.center.x+n.spin.radius*s.x(n.spin.angle)*t,n.position.y=n.spin.center.y+n.spin.radius*s.y(n.spin.angle)*t,n.spin.radius+=n.spin.acceleration*t;const o=Math.max(i.canvas.size.width,i.canvas.size.height),l=o*zA;n.spin.radius>l?(n.spin.radius=l,n.spin.acceleration*=-mh):n.spin.radius<tL&&(n.spin.radius=tL,n.spin.acceleration*=-mh),n.spin.angle+=e*eX*(mh-n.spin.radius/o)}function sX(n,e){const t=n.options,i=t.move.path;if(!i.enable)return;if(n.lastPathTime<=n.pathDelay){n.lastPathTime+=e.value;return}const s=n.pathGenerator?.generate(n,e);s&&n.velocity.addTo(s),i.clamp&&(n.velocity.x=Ic(n.velocity.x,-mh,mh),n.velocity.y=Ic(n.velocity.y,-mh,mh)),n.lastPathTime-=n.pathDelay}function oX(n){return n.slow.inRange?n.slow.factor:mh}function aX(n){const e=n.container,t=n.options,i=t.move.spin;if(!i.enable)return;const r=i.position??{x:50,y:50},s=.01,o={x:r.x*s*e.canvas.size.width,y:r.y*s*e.canvas.size.height},l=n.getPosition(),a=fl(l,o),u=Kt(i.acceleration);n.retina.spinAcceleration=u*e.retina.pixelRatio,n.spin={center:o,direction:n.velocity.x>=Pp?ia.clockwise:ia.counterClockwise,angle:Gn()*tX,radius:a,acceleration:n.retina.spinAcceleration}}const lX=2,cX=1,uX=1;class hX{init(e){const t=e.options,i=t.move.gravity;e.gravity={enable:i.enable,acceleration:Kt(i.acceleration),inverse:i.inverse},aX(e)}isEnabled(e){return!e.destroyed&&e.options.move.enable}move(e,t){const i=e.options,r=i.move;if(!r.enable)return;const s=e.container,o=s.retina.pixelRatio;e.retina.moveSpeed??=Kt(r.speed)*o,e.retina.moveDrift??=Kt(e.options.move.drift)*o;const l=oX(e),a=s.retina.reduceFactor,u=e.retina.moveSpeed,m=e.retina.moveDrift,d=tu(i.size.value)*o,b=r.size?e.getRadius()/d:cX,g=t.factor||uX,_=u*b*l*g/lX,p=e.retina.maxSpeed??s.retina.maxSpeed;r.spin.enable?rX(e,_,a):iX(e,r,_,p,m,a,t),nX(e)}}async function dX(n,e=!0){n.checkVersion("3.9.1"),await n.addMover("base",()=>Promise.resolve(new hX),e)}const fX=2,pX=Math.PI*fX,mX=0,nL={x:0,y:0};function gX(n){const{context:e,particle:t,radius:i}=n;t.circleRange||(t.circleRange={min:mX,max:pX});const r=t.circleRange;e.arc(nL.x,nL.y,i,r.min,r.max,!1)}const vX=12,yX=360,iL=0;class _X{constructor(){this.validTypes=["circle"]}draw(e){gX(e)}getSidesCount(){return vX}particleInit(e,t){const i=t.shapeData,r=i?.angle??{max:yX,min:iL};t.circleRange=Lp(r)?{min:vh(r.min),max:vh(r.max)}:{min:iL,max:vh(r)}}}async function bX(n,e=!0){n.checkVersion("3.9.1"),await n.addShape(new _X,e)}class xX{constructor(e,t){this._container=e,this._engine=t}init(e){const t=hd(this._engine,e.options.color,e.id,e.options.reduceDuplicates);t&&(e.color=cM(t,e.options.color.animation,this._container.retina.reduceFactor))}isEnabled(e){const{h:t,s:i,l:r}=e.options.color.animation,{color:s}=e;return!e.destroyed&&!e.spawning&&(s?.h.value!==void 0&&t.enable||s?.s.value!==void 0&&i.enable||s?.l.value!==void 0&&r.enable)}update(e,t){uM(e.color,t)}}async function SX(n,e=!0){n.checkVersion("3.9.1"),await n.addParticleUpdater("color",t=>Promise.resolve(new xX(t,n)),e)}var Xm;(function(n){n[n.r=1]="r",n[n.g=2]="g",n[n.b=3]="b",n[n.a=4]="a"})(Xm||(Xm={}));const EX=/^#?([a-f\d])([a-f\d])([a-f\d])([a-f\d])?$/i,wX=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})?$/i,ox=16,CX=1,TX=255;class AX{constructor(){this.key="hex",this.stringPrefix="#"}handleColor(e){return this._parseString(e.value)}handleRangeColor(e){return this._parseString(e.value)}parseString(e){return this._parseString(e)}_parseString(e){if(typeof e!="string"||!e?.startsWith(this.stringPrefix))return;const t=e.replace(EX,(r,s,o,l,a)=>s+s+o+o+l+l+(a!==void 0?a+a:"")),i=wX.exec(t);return i?{a:i[Xm.a]!==void 0?parseInt(i[Xm.a],ox)/TX:CX,b:parseInt(i[Xm.b],ox),g:parseInt(i[Xm.g],ox),r:parseInt(i[Xm.r],ox)}:void 0}}async function RX(n,e=!0){n.checkVersion("3.9.1"),await n.addColorManager(new AX,e)}var kv;(function(n){n[n.h=1]="h",n[n.s=2]="s",n[n.l=3]="l",n[n.a=5]="a"})(kv||(kv={}));class MX{constructor(){this.key="hsl",this.stringPrefix="hsl"}handleColor(e){const t=e.value,i=t.hsl??e.value;if(i.h!==void 0&&i.s!==void 0&&i.l!==void 0)return o0(i)}handleRangeColor(e){const t=e.value,i=t.hsl??e.value;if(i.h!==void 0&&i.l!==void 0)return o0({h:Kt(i.h),l:Kt(i.l),s:Kt(i.s)})}parseString(e){if(!e.startsWith("hsl"))return;const t=/hsla?\(\s*(\d+)\s*[\s,]\s*(\d+)%\s*[\s,]\s*(\d+)%\s*([\s,]\s*(0|1|0?\.\d+|(\d{1,3})%)\s*)?\)/i,i=t.exec(e),r=4,s=1,o=10;return i?h8({a:i.length>r?k_(i[kv.a]):s,h:parseInt(i[kv.h],o),l:parseInt(i[kv.l],o),s:parseInt(i[kv.s],o)}):void 0}}async function OX(n,e=!0){n.checkVersion("3.9.1"),await n.addColorManager(new MX,e)}class LX{constructor(e){this.container=e}init(e){const t=e.options.opacity,i=1;e.opacity=r4(t,i);const r=t.animation;r.enable&&(e.opacity.velocity=Kt(r.speed)/Sr*this.container.retina.reduceFactor,r.sync||(e.opacity.velocity*=Gn()))}isEnabled(e){return!e.destroyed&&!e.spawning&&!!e.opacity&&e.opacity.enable&&((e.opacity.maxLoops??0)<=0||(e.opacity.maxLoops??0)>0&&(e.opacity.loops??0)<(e.opacity.maxLoops??0))}reset(e){e.opacity&&(e.opacity.time=0,e.opacity.loops=0)}update(e,t){!this.isEnabled(e)||!e.opacity||s0(e,e.opacity,!0,e.options.opacity.animation.destroy,t)}}async function PX(n,e=!0){n.checkVersion("3.9.1"),await n.addParticleUpdater("opacity",t=>Promise.resolve(new LX(t)),e)}const tS=0,Zv=0;function NX(n){if(n.outMode!==Sa.bounce&&n.outMode!==Sa.split||n.direction!==Or.left&&n.direction!==Or.right)return;n.bounds.right<Zv&&n.direction===Or.left?n.particle.position.x=n.size+n.offset.x:n.bounds.left>n.canvasSize.width&&n.direction===Or.right&&(n.particle.position.x=n.canvasSize.width-n.size-n.offset.x);const e=n.particle.velocity.x;let t=!1;if(n.direction===Or.right&&n.bounds.right>=n.canvasSize.width&&e>tS||n.direction===Or.left&&n.bounds.left<=Zv&&e<tS){const r=Kt(n.particle.options.bounce.horizontal.value);n.particle.velocity.x*=-r,t=!0}if(!t)return;const i=n.offset.x+n.size;n.bounds.right>=n.canvasSize.width&&n.direction===Or.right?n.particle.position.x=n.canvasSize.width-i:n.bounds.left<=Zv&&n.direction===Or.left&&(n.particle.position.x=i),n.outMode===Sa.split&&n.particle.destroy()}function IX(n){if(n.outMode!==Sa.bounce&&n.outMode!==Sa.split||n.direction!==Or.bottom&&n.direction!==Or.top)return;n.bounds.bottom<Zv&&n.direction===Or.top?n.particle.position.y=n.size+n.offset.y:n.bounds.top>n.canvasSize.height&&n.direction===Or.bottom&&(n.particle.position.y=n.canvasSize.height-n.size-n.offset.y);const e=n.particle.velocity.y;let t=!1;if(n.direction===Or.bottom&&n.bounds.bottom>=n.canvasSize.height&&e>tS||n.direction===Or.top&&n.bounds.top<=Zv&&e<tS){const r=Kt(n.particle.options.bounce.vertical.value);n.particle.velocity.y*=-r,t=!0}if(!t)return;const i=n.offset.y+n.size;n.bounds.bottom>=n.canvasSize.height&&n.direction===Or.bottom?n.particle.position.y=n.canvasSize.height-i:n.bounds.top<=Zv&&n.direction===Or.top&&(n.particle.position.y=i),n.outMode===Sa.split&&n.particle.destroy()}class DX{constructor(e){this.container=e,this.modes=[Sa.bounce,Sa.split]}update(e,t,i,r){if(!this.modes.includes(r))return;const s=this.container;let o=!1;for(const b of s.plugins.values())if(b.particleBounce!==void 0&&(o=b.particleBounce(e,i,t)),o)break;if(o)return;const l=e.getPosition(),a=e.offset,u=e.getRadius(),m=$_(l,u),d=s.canvas.size;NX({particle:e,outMode:r,direction:t,bounds:m,canvasSize:d,offset:a,size:u}),IX({particle:e,outMode:r,direction:t,bounds:m,canvasSize:d,offset:a,size:u})}}const ax=0;class FX{constructor(e){this.container=e,this.modes=[Sa.destroy]}update(e,t,i,r){if(!this.modes.includes(r))return;const s=this.container;switch(e.outType){case yh.normal:case yh.outside:if(z_(e.position,s.canvas.size,Lr.origin,e.getRadius(),t))return;break;case yh.inside:{const{dx:o,dy:l}=aa(e.position,e.moveCenter),{x:a,y:u}=e.velocity;if(a<ax&&o>e.moveCenter.radius||u<ax&&l>e.moveCenter.radius||a>=ax&&o<-e.moveCenter.radius||u>=ax&&l<-e.moveCenter.radius)return;break}}s.particles.remove(e,e.group,!0)}}const lx=0;class BX{constructor(e){this.container=e,this.modes=[Sa.none]}update(e,t,i,r){if(!this.modes.includes(r)||((e.options.move.distance.horizontal&&(t===Or.left||t===Or.right))??(e.options.move.distance.vertical&&(t===Or.top||t===Or.bottom))))return;const s=e.options.move.gravity,o=this.container,l=o.canvas.size,a=e.getRadius();if(s.enable){const u=e.position;(!s.inverse&&u.y>l.height+a&&t===Or.bottom||s.inverse&&u.y<-a&&t===Or.top)&&o.particles.remove(e)}else{if(e.velocity.y>lx&&e.position.y<=l.height+a||e.velocity.y<lx&&e.position.y>=-a||e.velocity.x>lx&&e.position.x<=l.width+a||e.velocity.x<lx&&e.position.x>=-a)return;z_(e.position,o.canvas.size,Lr.origin,a,t)||o.particles.remove(e)}}}const cx=0,ux=0;class UX{constructor(e){this.container=e,this.modes=[Sa.out]}update(e,t,i,r){if(!this.modes.includes(r))return;const s=this.container;switch(e.outType){case yh.inside:{const{x:o,y:l}=e.velocity,a=Lr.origin;a.length=e.moveCenter.radius,a.angle=e.velocity.angle+Math.PI,a.addTo(Lr.create(e.moveCenter));const{dx:u,dy:m}=aa(e.position,a);if(o<=cx&&u>=ux||l<=cx&&m>=ux||o>=cx&&u<=ux||l>=cx&&m<=ux)return;e.position.x=Math.floor(ra({min:0,max:s.canvas.size.width})),e.position.y=Math.floor(ra({min:0,max:s.canvas.size.height}));const{dx:d,dy:b}=aa(e.position,e.moveCenter);e.direction=Math.atan2(-b,-d),e.velocity.angle=e.direction;break}default:{if(z_(e.position,s.canvas.size,Lr.origin,e.getRadius(),t))return;switch(e.outType){case yh.outside:{e.position.x=Math.floor(ra({min:-e.moveCenter.radius,max:e.moveCenter.radius}))+e.moveCenter.x,e.position.y=Math.floor(ra({min:-e.moveCenter.radius,max:e.moveCenter.radius}))+e.moveCenter.y;const{dx:o,dy:l}=aa(e.position,e.moveCenter);e.moveCenter.radius&&(e.direction=Math.atan2(l,o),e.velocity.angle=e.direction);break}case yh.normal:{const o=e.options.move.warp,l=s.canvas.size,a={bottom:l.height+e.getRadius()+e.offset.y,left:-e.getRadius()-e.offset.x,right:l.width+e.getRadius()+e.offset.x,top:-e.getRadius()-e.offset.y},u=e.getRadius(),m=$_(e.position,u);t===Or.right&&m.left>l.width+e.offset.x?(e.position.x=a.left,e.initialPosition.x=e.position.x,o||(e.position.y=Gn()*l.height,e.initialPosition.y=e.position.y)):t===Or.left&&m.right<-e.offset.x&&(e.position.x=a.right,e.initialPosition.x=e.position.x,o||(e.position.y=Gn()*l.height,e.initialPosition.y=e.position.y)),t===Or.bottom&&m.top>l.height+e.offset.y?(o||(e.position.x=Gn()*l.width,e.initialPosition.x=e.position.x),e.position.y=a.top,e.initialPosition.y=e.position.y):t===Or.top&&m.bottom<-e.offset.y&&(o||(e.position.x=Gn()*l.width,e.initialPosition.x=e.position.x),e.position.y=a.bottom,e.initialPosition.y=e.position.y);break}}break}}}}const kX=(n,e)=>n.default===e||n.bottom===e||n.left===e||n.right===e||n.top===e;class zX{constructor(e){this._addUpdaterIfMissing=(t,i,r)=>{const s=t.options.move.outModes;!this.updaters.has(i)&&kX(s,i)&&this.updaters.set(i,r(this.container))},this._updateOutMode=(t,i,r,s)=>{for(const o of this.updaters.values())o.update(t,s,i,r)},this.container=e,this.updaters=new Map}init(e){this._addUpdaterIfMissing(e,Sa.bounce,t=>new DX(t)),this._addUpdaterIfMissing(e,Sa.out,t=>new UX(t)),this._addUpdaterIfMissing(e,Sa.destroy,t=>new FX(t)),this._addUpdaterIfMissing(e,Sa.none,t=>new BX(t))}isEnabled(e){return!e.destroyed&&!e.spawning}update(e,t){const i=e.options.move.outModes;this._updateOutMode(e,t,i.bottom??i.default,Or.bottom),this._updateOutMode(e,t,i.left??i.default,Or.left),this._updateOutMode(e,t,i.right??i.default,Or.right),this._updateOutMode(e,t,i.top??i.default,Or.top)}}async function $X(n,e=!0){n.checkVersion("3.9.1"),await n.addParticleUpdater("outModes",t=>Promise.resolve(new zX(t)),e)}var zv;(function(n){n[n.r=1]="r",n[n.g=2]="g",n[n.b=3]="b",n[n.a=5]="a"})(zv||(zv={}));class HX{constructor(){this.key="rgb",this.stringPrefix="rgb"}handleColor(e){const t=e.value,i=t.rgb??e.value;if(i.r!==void 0)return i}handleRangeColor(e){const t=e.value,i=t.rgb??e.value;if(i.r!==void 0)return{r:Kt(i.r),g:Kt(i.g),b:Kt(i.b)}}parseString(e){if(!e.startsWith(this.stringPrefix))return;const t=/rgba?\(\s*(\d{1,3})\s*[\s,]\s*(\d{1,3})\s*[\s,]\s*(\d{1,3})\s*([\s,]\s*(0|1|0?\.\d+|(\d{1,3})%)\s*)?\)/i,i=t.exec(e),r=10;return i?{a:i.length>4?k_(i[zv.a]):1,b:parseInt(i[zv.b],r),g:parseInt(i[zv.g],r),r:parseInt(i[zv.r],r)}:void 0}}async function GX(n,e=!0){n.checkVersion("3.9.1"),await n.addColorManager(new HX,e)}const Em=0;class VX{init(e){const t=e.container,i=e.options.size,r=i.animation;r.enable&&(e.size.velocity=(e.retina.sizeAnimationSpeed??t.retina.sizeAnimationSpeed)/Sr*t.retina.reduceFactor,r.sync||(e.size.velocity*=Gn()))}isEnabled(e){return!e.destroyed&&!e.spawning&&e.size.enable&&((e.size.maxLoops??Em)<=Em||(e.size.maxLoops??Em)>Em&&(e.size.loops??Em)<(e.size.maxLoops??Em))}reset(e){e.size.loops=Em}update(e,t){this.isEnabled(e)&&s0(e,e.size,!0,e.options.size.animation.destroy,t)}}async function WX(n,e=!0){n.checkVersion("3.9.1"),await n.addParticleUpdater("size",()=>Promise.resolve(new VX),e)}async function jX(n,e=!0){n.checkVersion("3.9.1"),await RX(n,!1),await OX(n,!1),await GX(n,!1),await dX(n,!1),await bX(n,!1),await SX(n,!1),await PX(n,!1),await $X(n,!1),await WX(n,!1),await n.refresh(e)}async function XX(n,e=!0){n.checkVersion("3.9.1"),await n.addEasing(as.easeInQuad,t=>t**2,!1),await n.addEasing(as.easeOutQuad,t=>1-(1-t)**2,!1),await n.addEasing(as.easeInOutQuad,t=>t<.5?2*t**2:1-(-2*t+2)**2/2,!1),await n.refresh(e)}function qX(n,e){const{context:t,opacity:i}=n,r=.5,s=t.globalAlpha;if(!e)return;const o=e.width,l=o*r;t.globalAlpha=i,t.drawImage(e,-l,-l,o,o),t.globalAlpha=s}const RC='"Twemoji Mozilla", Apple Color Emoji, "Segoe UI Emoji", "Noto Color Emoji", "EmojiOne Color"',rL=0;class YX{constructor(){this.validTypes=["emoji"],this._emojiShapeDict=new Map}destroy(){for(const[e,t]of this._emojiShapeDict)t instanceof ImageBitmap&&t?.close(),this._emojiShapeDict.delete(e)}draw(e){const t=e.particle.emojiDataKey;if(!t)return;const i=this._emojiShapeDict.get(t);i&&qX(e,i)}async init(e){const t=e.actualOptions,{validTypes:i}=this;if(!i.find(o=>fs(o,t.particles.shape.type)))return;const r=[DA(RC)],s=i.map(o=>t.particles.shape.options[o]).find(o=>!!o);s&&Ys(s,o=>{o.font&&r.push(DA(o.font))}),await Promise.all(r)}particleDestroy(e){e.emojiDataKey=void 0}particleInit(e,t){const r=t.shapeData;if(!r?.value)return;const s=sa(r.value,t.randomIndexData);if(!s)return;const o=typeof s=="string"?{font:r.font??RC,padding:r.padding??rL,value:s}:{font:RC,padding:rL,...r,...s},l=o.font,a=o.value,u=`${a}_${l}`;if(this._emojiShapeDict.has(u)){t.emojiDataKey=u;return}const m=o.padding*2,d=tu(t.size.value),b=d+m,g=b*2;let _;if(typeof OffscreenCanvas<"u"){const p=new OffscreenCanvas(g,g),v=p.getContext("2d");if(!v)return;v.font=`400 ${d*2}px ${l}`,v.textBaseline="middle",v.textAlign="center",v.fillText(a,b,b),_=p.transferToImageBitmap()}else{const p=document.createElement("canvas");p.width=g,p.height=g;const v=p.getContext("2d");if(!v)return;v.font=`400 ${d*2}px ${l}`,v.textBaseline="middle",v.textAlign="center",v.fillText(a,b,b),_=p}this._emojiShapeDict.set(u,_),t.emojiDataKey=u}}async function KX(n,e=!0){n.checkVersion("3.9.1"),await n.addShape(new YX,e)}const ZX=1,QX=1,x4=0;function S4(n,e,t,i,r,s){const o=e.actualOptions.interactivity.modes.attract;if(!o)return;const l=e.particles.quadTree.query(r,s);for(const a of l){const{dx:u,dy:m,distance:d}=aa(a.position,t),b=o.speed*o.factor,g=Ic(n.getEasing(o.easing)(QX-d/i)*b,ZX,o.maxSpeed),_=Lr.create(d?u/d*g:b,d?m/d*g:b);a.position.subFrom(_)}}function JX(n,e,t){e.attract||(e.attract={particles:[]});const{attract:i}=e;if(i.finish||(i.count||(i.count=0),i.count++,i.count===e.particles.count&&(i.finish=!0)),i.clicking){const r=e.interactivity.mouse.clickPosition,s=e.retina.attractModeDistance;if(!s||s<x4||!r)return;S4(n,e,r,s,new Ll(r.x,r.y,s),o=>t(o))}else i.clicking===!1&&(i.particles=[])}function eq(n,e,t){const i=e.interactivity.mouse.position,r=e.retina.attractModeDistance;!r||r<x4||!i||S4(n,e,i,r,new Ll(i.x,i.y,r),s=>t(s))}class tq{constructor(){this.distance=200,this.duration=.4,this.easing=as.easeOutQuad,this.factor=1,this.maxSpeed=50,this.speed=1}load(e){Lt(e)||(e.distance!==void 0&&(this.distance=e.distance),e.duration!==void 0&&(this.duration=e.duration),e.easing!==void 0&&(this.easing=e.easing),e.factor!==void 0&&(this.factor=e.factor),e.maxSpeed!==void 0&&(this.maxSpeed=e.maxSpeed),e.speed!==void 0&&(this.speed=e.speed))}}const my="attract";let nq=class extends Fc{constructor(e,t){super(t),this._engine=e,t.attract||(t.attract={particles:[]}),this.handleClickMode=i=>{const r=this.container.actualOptions,s=r.interactivity.modes.attract;if(!(!s||i!==my)){t.attract||(t.attract={particles:[]}),t.attract.clicking=!0,t.attract.count=0;for(const o of t.attract.particles)this.isEnabled(o)&&o.velocity.setTo(o.initialVelocity);t.attract.particles=[],t.attract.finish=!1,setTimeout(()=>{t.destroyed||(t.attract||(t.attract={particles:[]}),t.attract.clicking=!1)},s.duration*Ps)}}}clear(){}init(){const e=this.container,t=e.actualOptions.interactivity.modes.attract;t&&(e.retina.attractModeDistance=t.distance*e.retina.pixelRatio)}interact(){const e=this.container,t=e.actualOptions,i=e.interactivity.status===pg,r=t.interactivity.events,{enable:s,mode:o}=r.onHover,{enable:l,mode:a}=r.onClick;i&&s&&fs(my,o)?eq(this._engine,this.container,u=>this.isEnabled(u)):l&&fs(my,a)&&JX(this._engine,this.container,u=>this.isEnabled(u))}isEnabled(e){const t=this.container,i=t.actualOptions,r=t.interactivity.mouse,s=(e?.interactivity??i.interactivity).events;if((!r.position||!s.onHover.enable)&&(!r.clickPosition||!s.onClick.enable))return!1;const o=s.onHover.mode,l=s.onClick.mode;return fs(my,o)||fs(my,l)}loadModeOptions(e,...t){e.attract||(e.attract=new tq);for(const i of t)e.attract.load(i?.attract)}reset(){}};async function iq(n,e=!0){n.checkVersion("3.9.1"),await n.addInteractor("externalAttract",t=>Promise.resolve(new nq(n,t)),e)}const rq=2,P1=.5,sq=Math.PI*P1,sL=2,E4=10,oq=0;function w4(n,e,t,i,r){const s=n.particles.quadTree.query(i,r);for(const o of s)i instanceof Ll?n4(FA(o),{position:e,mass:t**rq*sq,velocity:Lr.origin,factor:Lr.origin}):i instanceof Eh&&r8(o,$_(e,t))}function aq(n,e,t,i){const r=document.querySelectorAll(e);r.length&&r.forEach(s=>{const o=s,l=n.retina.pixelRatio,a={x:(o.offsetLeft+o.offsetWidth*P1)*l,y:(o.offsetTop+o.offsetHeight*P1)*l},u=o.offsetWidth*P1*l,m=E4*l,d=t.type===a0.circle?new Ll(a.x,a.y,u+m):new Eh(o.offsetLeft*l-m,o.offsetTop*l-m,o.offsetWidth*l+m*sL,o.offsetHeight*l+m*sL);i(a,u,d)})}function lq(n,e,t,i){oM(t,e,(r,s)=>aq(n,r,s,(o,l,a)=>w4(n,o,l,a,i)))}function cq(n,e){const t=n.retina.pixelRatio,i=E4*t,r=n.interactivity.mouse.position,s=n.retina.bounceModeDistance;!s||s<oq||!r||w4(n,r,s,new Ll(r.x,r.y,s+i),e)}class uq{constructor(){this.distance=200}load(e){Lt(e)||e.distance!==void 0&&(this.distance=e.distance)}}const hx="bounce";class hq extends Fc{constructor(e){super(e)}clear(){}init(){const e=this.container,t=e.actualOptions.interactivity.modes.bounce;t&&(e.retina.bounceModeDistance=t.distance*e.retina.pixelRatio)}interact(){const e=this.container,t=e.actualOptions,i=t.interactivity.events,r=e.interactivity.status===pg,s=i.onHover.enable,o=i.onHover.mode,l=i.onDiv;r&&s&&fs(hx,o)?cq(this.container,a=>this.isEnabled(a)):lq(this.container,l,hx,a=>this.isEnabled(a))}isEnabled(e){const t=this.container,i=t.actualOptions,r=t.interactivity.mouse,s=(e?.interactivity??i.interactivity).events,o=s.onDiv;return!!r.position&&s.onHover.enable&&fs(hx,s.onHover.mode)||sM(hx,o)}loadModeOptions(e,...t){e.bounce||(e.bounce=new uq);for(const i of t)e.bounce.load(i?.bounce)}reset(){}}async function dq(n,e=!0){n.checkVersion("3.9.1"),await n.addInteractor("externalBounce",t=>Promise.resolve(new hq(t)),e)}class C4{constructor(){this.distance=200,this.duration=.4,this.mix=!1}load(e){if(!Lt(e)){if(e.distance!==void 0&&(this.distance=e.distance),e.duration!==void 0&&(this.duration=e.duration),e.mix!==void 0&&(this.mix=e.mix),e.opacity!==void 0&&(this.opacity=e.opacity),e.color!==void 0){const t=Da(this.color)?void 0:this.color;this.color=Ys(e.color,i=>rs.create(t,i))}e.size!==void 0&&(this.size=e.size)}}}class fq extends C4{constructor(){super(),this.selectors=[]}load(e){super.load(e),!Lt(e)&&e.selectors!==void 0&&(this.selectors=e.selectors)}}class pq extends C4{load(e){super.load(e),!Lt(e)&&(this.divs=Ys(e.divs,t=>{const i=new fq;return i.load(t),i}))}}var ed;(function(n){n.color="color",n.opacity="opacity",n.size="size"})(ed||(ed={}));function oL(n,e,t,i){if(e>=t){const r=n+(e-t)*i;return Ic(r,n,e)}else if(e<t){const r=n-(t-e)*i;return Ic(r,e,n)}}const wm="bubble",MC=0,mq=0,gq=2,aL=1,lL=1,vq=0,yq=0,OC=.5,LC=1;class _q extends Fc{constructor(e,t){super(e),this._clickBubble=()=>{const i=this.container,r=i.actualOptions,s=i.interactivity.mouse.clickPosition,o=r.interactivity.modes.bubble;if(!o||!s)return;i.bubble||(i.bubble={});const l=i.retina.bubbleModeDistance;if(!l||l<MC)return;const a=i.particles.quadTree.queryCircle(s,l,m=>this.isEnabled(m)),{bubble:u}=i;for(const m of a){if(!u.clicking)continue;m.bubble.inRange=!u.durationEnd;const d=m.getPosition(),b=fl(d,s),g=(new Date().getTime()-(i.interactivity.mouse.clickTime??mq))/Ps;g>o.duration&&(u.durationEnd=!0),g>o.duration*gq&&(u.clicking=!1,u.durationEnd=!1);const _={bubbleObj:{optValue:i.retina.bubbleModeSize,value:m.bubble.radius},particlesObj:{optValue:tu(m.options.size.value)*i.retina.pixelRatio,value:m.size.value},type:ed.size};this._process(m,b,g,_);const p={bubbleObj:{optValue:o.opacity,value:m.bubble.opacity},particlesObj:{optValue:tu(m.options.opacity.value),value:m.opacity?.value??aL},type:ed.opacity};this._process(m,b,g,p),!u.durationEnd&&b<=l?this._hoverBubbleColor(m,b):delete m.bubble.color}},this._hoverBubble=()=>{const i=this.container,r=i.interactivity.mouse.position,s=i.retina.bubbleModeDistance;if(!s||s<MC||!r)return;const o=i.particles.quadTree.queryCircle(r,s,l=>this.isEnabled(l));for(const l of o){l.bubble.inRange=!0;const a=l.getPosition(),u=fl(a,r),m=lL-u/s;u<=s?m>=yq&&i.interactivity.status===pg&&(this._hoverBubbleSize(l,m),this._hoverBubbleOpacity(l,m),this._hoverBubbleColor(l,m)):this.reset(l),i.interactivity.status===MA&&this.reset(l)}},this._hoverBubbleColor=(i,r,s)=>{const o=this.container.actualOptions,l=s??o.interactivity.modes.bubble;if(l){if(!i.bubble.finalColor){const a=l.color;if(!a)return;const u=sa(a);i.bubble.finalColor=hd(this._engine,u)}if(i.bubble.finalColor)if(l.mix){i.bubble.color=void 0;const a=i.getFillColor();i.bubble.color=a?l4(lM(a,i.bubble.finalColor,lL-r,r)):i.bubble.finalColor}else i.bubble.color=i.bubble.finalColor}},this._hoverBubbleOpacity=(i,r,s)=>{const o=this.container,l=o.actualOptions,a=s?.opacity??l.interactivity.modes.bubble?.opacity;if(!a)return;const u=i.options.opacity.value,m=i.opacity?.value??aL,d=oL(m,a,tu(u),r);d!==void 0&&(i.bubble.opacity=d)},this._hoverBubbleSize=(i,r,s)=>{const o=this.container,l=s?.size?s.size*o.retina.pixelRatio:o.retina.bubbleModeSize;if(l===void 0)return;const a=tu(i.options.size.value)*o.retina.pixelRatio,u=i.size.value,m=oL(u,l,a,r);m!==void 0&&(i.bubble.radius=m)},this._process=(i,r,s,o)=>{const l=this.container,a=o.bubbleObj.optValue,u=l.actualOptions,m=u.interactivity.modes.bubble;if(!m||a===void 0)return;const d=m.duration,b=l.retina.bubbleModeDistance,g=o.particlesObj.optValue,_=o.bubbleObj.value,p=o.particlesObj.value??vq,v=o.type;if(!(!b||b<MC||a===g))if(l.bubble||(l.bubble={}),l.bubble.durationEnd)_&&(v===ed.size&&delete i.bubble.radius,v===ed.opacity&&delete i.bubble.opacity);else if(r<=b){if((_??p)!==a){const x=p-s*(p-a)/d;v===ed.size&&(i.bubble.radius=x),v===ed.opacity&&(i.bubble.opacity=x)}}else v===ed.size&&delete i.bubble.radius,v===ed.opacity&&delete i.bubble.opacity},this._singleSelectorHover=(i,r,s)=>{const o=this.container,l=document.querySelectorAll(r),a=o.actualOptions.interactivity.modes.bubble;!a||!l.length||l.forEach(u=>{const m=u,d=o.retina.pixelRatio,b={x:(m.offsetLeft+m.offsetWidth*OC)*d,y:(m.offsetTop+m.offsetHeight*OC)*d},g=m.offsetWidth*OC*d,_=s.type===a0.circle?new Ll(b.x,b.y,g):new Eh(m.offsetLeft*d,m.offsetTop*d,m.offsetWidth*d,m.offsetHeight*d),p=o.particles.quadTree.query(_,v=>this.isEnabled(v));for(const v of p){if(!_.contains(v.getPosition()))continue;v.bubble.inRange=!0;const c=a.divs,x=t4(c,m);(!v.bubble.div||v.bubble.div!==m)&&(this.clear(v,i,!0),v.bubble.div=m),this._hoverBubbleSize(v,LC,x),this._hoverBubbleOpacity(v,LC,x),this._hoverBubbleColor(v,LC,x)}})},this._engine=t,e.bubble||(e.bubble={}),this.handleClickMode=i=>{i===wm&&(e.bubble||(e.bubble={}),e.bubble.clicking=!0)}}clear(e,t,i){e.bubble.inRange&&!i||(delete e.bubble.div,delete e.bubble.opacity,delete e.bubble.radius,delete e.bubble.color)}init(){const e=this.container,t=e.actualOptions.interactivity.modes.bubble;t&&(e.retina.bubbleModeDistance=t.distance*e.retina.pixelRatio,t.size!==void 0&&(e.retina.bubbleModeSize=t.size*e.retina.pixelRatio))}interact(e){const t=this.container.actualOptions,i=t.interactivity.events,r=i.onHover,s=i.onClick,o=r.enable,l=r.mode,a=s.enable,u=s.mode,m=i.onDiv;o&&fs(wm,l)?this._hoverBubble():a&&fs(wm,u)?this._clickBubble():oM(wm,m,(d,b)=>this._singleSelectorHover(e,d,b))}isEnabled(e){const t=this.container,i=t.actualOptions,r=t.interactivity.mouse,s=(e?.interactivity??i.interactivity).events,{onClick:o,onDiv:l,onHover:a}=s,u=sM(wm,l);return u||a.enable&&r.position||o.enable&&r.clickPosition?fs(wm,a.mode)||fs(wm,o.mode)||u:!1}loadModeOptions(e,...t){e.bubble||(e.bubble=new pq);for(const i of t)e.bubble.load(i?.bubble)}reset(e){e.bubble.inRange=!1}}async function bq(n,e=!0){n.checkVersion("3.9.1"),await n.addInteractor("externalBubble",t=>Promise.resolve(new _q(t,n)),e)}class xq{constructor(){this.opacity=.5}load(e){Lt(e)||e.opacity!==void 0&&(this.opacity=e.opacity)}}class Sq{constructor(){this.distance=80,this.links=new xq,this.radius=60}load(e){Lt(e)||(e.distance!==void 0&&(this.distance=e.distance),this.links.load(e.links),e.radius!==void 0&&(this.radius=e.radius))}}const cL=0,uL=1,Eq=0;function wq(n,e,t,i){const r=Math.floor(t.getRadius()/e.getRadius()),s=e.getFillColor(),o=t.getFillColor();if(!s||!o)return;const l=e.getPosition(),a=t.getPosition(),u=lM(s,o,e.getRadius(),t.getRadius()),m=n.createLinearGradient(l.x,l.y,a.x,a.y);return m.addColorStop(cL,Fp(s,i)),m.addColorStop(Ic(r,cL,uL),uc(u,i)),m.addColorStop(uL,Fp(o,i)),m}function Cq(n,e,t,i,r){Gy(n,i,r),n.lineWidth=e,n.strokeStyle=t,n.stroke()}function Tq(n,e,t,i){const r=n.actualOptions,s=r.interactivity.modes.connect;if(s)return wq(e,t,i,s.links.opacity)}function Aq(n,e,t){n.canvas.draw(i=>{const r=Tq(n,i,e,t);if(!r)return;const s=e.getPosition(),o=t.getPosition();Cq(i,e.retina.linksWidth??Eq,r,s,o)})}const Rq="connect",hL=0;class Mq extends Fc{constructor(e){super(e)}clear(){}init(){const e=this.container,t=e.actualOptions.interactivity.modes.connect;t&&(e.retina.connectModeDistance=t.distance*e.retina.pixelRatio,e.retina.connectModeRadius=t.radius*e.retina.pixelRatio)}interact(){const e=this.container;if(e.actualOptions.interactivity.events.onHover.enable&&e.interactivity.status==="pointermove"){const i=e.interactivity.mouse.position,{connectModeDistance:r,connectModeRadius:s}=e.retina;if(!r||r<hL||!s||s<hL||!i)return;const o=Math.abs(s),l=e.particles.quadTree.queryCircle(i,o,a=>this.isEnabled(a));l.forEach((a,u)=>{const m=a.getPosition(),d=1;for(const b of l.slice(u+d)){const g=b.getPosition(),_=Math.abs(r),p=Math.abs(m.x-g.x),v=Math.abs(m.y-g.y);p<_&&v<_&&Aq(e,a,b)}})}}isEnabled(e){const t=this.container,i=t.interactivity.mouse,r=(e?.interactivity??t.actualOptions.interactivity).events;return r.onHover.enable&&i.position?fs(Rq,r.onHover.mode):!1}loadModeOptions(e,...t){e.connect||(e.connect=new Sq);for(const i of t)e.connect.load(i?.connect)}reset(){}}async function Oq(n,e=!0){n.checkVersion("3.9.1"),await n.addInteractor("externalConnect",t=>Promise.resolve(new Mq(t)),e)}class Lq{constructor(){this.blink=!1,this.consent=!1,this.opacity=1}load(e){Lt(e)||(e.blink!==void 0&&(this.blink=e.blink),e.color!==void 0&&(this.color=rs.create(this.color,e.color)),e.consent!==void 0&&(this.consent=e.consent),e.opacity!==void 0&&(this.opacity=e.opacity))}}class Pq{constructor(){this.distance=100,this.links=new Lq}load(e){Lt(e)||(e.distance!==void 0&&(this.distance=e.distance),this.links.load(e.links))}}const Nq=0;function Iq(n,e,t,i,r,s){Gy(n,t,i),n.strokeStyle=uc(r,s),n.lineWidth=e,n.stroke()}function Dq(n,e,t,i,r){n.canvas.draw(s=>{const o=e.getPosition();Iq(s,e.retina.linksWidth??Nq,o,r,t,i)})}const Fq="grab",Bq=0,Uq=0;class kq extends Fc{constructor(e,t){super(e),this._engine=t}clear(){}init(){const e=this.container,t=e.actualOptions.interactivity.modes.grab;t&&(e.retina.grabModeDistance=t.distance*e.retina.pixelRatio)}interact(){const e=this.container,t=e.actualOptions,i=t.interactivity;if(!i.modes.grab||!i.events.onHover.enable||e.interactivity.status!==pg)return;const r=e.interactivity.mouse.position;if(!r)return;const s=e.retina.grabModeDistance;if(!s||s<Bq)return;const o=e.particles.quadTree.queryCircle(r,s,l=>this.isEnabled(l));for(const l of o){const a=l.getPosition(),u=fl(a,r);if(u>s)continue;const m=i.modes.grab.links,d=m.opacity,b=d-u*d/s;if(b<=Uq)continue;const g=m.color??l.options.links?.color;if(!e.particles.grabLineColor&&g){const p=i.modes.grab.links;e.particles.grabLineColor=u4(this._engine,g,p.blink,p.consent)}const _=BA(l,void 0,e.particles.grabLineColor);_&&Dq(e,l,_,b,r)}}isEnabled(e){const t=this.container,i=t.interactivity.mouse,r=(e?.interactivity??t.actualOptions.interactivity).events;return r.onHover.enable&&!!i.position&&fs(Fq,r.onHover.mode)}loadModeOptions(e,...t){e.grab||(e.grab=new Pq);for(const i of t)e.grab.load(i?.grab)}reset(){}}async function zq(n,e=!0){n.checkVersion("3.9.1"),await n.addInteractor("externalGrab",t=>Promise.resolve(new kq(t,n)),e)}const $q="pause";class Hq extends Fc{constructor(e){super(e),this.handleClickMode=t=>{if(t!==$q)return;const i=this.container;i.animationStatus?i.pause():i.play()}}clear(){}init(){}interact(){}isEnabled(){return!0}reset(){}}async function Gq(n,e=!0){n.checkVersion("3.9.1"),await n.addInteractor("externalPause",t=>Promise.resolve(new Hq(t)),e)}class Vq{constructor(){this.default=!0,this.groups=[],this.quantity=4}load(e){if(Lt(e))return;e.default!==void 0&&(this.default=e.default),e.groups!==void 0&&(this.groups=e.groups.map(i=>i)),this.groups.length||(this.default=!0);const t=e.quantity;t!==void 0&&(this.quantity=ti(t)),this.particles=Ys(e.particles,i=>ss({},i))}}const Wq="push",jq=0;class Xq extends Fc{constructor(e){super(e),this.handleClickMode=t=>{if(t!==Wq)return;const i=this.container,r=i.actualOptions,s=r.interactivity.modes.push;if(!s)return;const o=Kt(s.quantity);if(o<=jq)return;const l=ud([void 0,...s.groups]),a=l!==void 0?i.actualOptions.particles.groups[l]:void 0,u=sa(s.particles),m=ss(a,u);i.particles.push(o,i.interactivity.mouse,m,l)}}clear(){}init(){}interact(){}isEnabled(){return!0}loadModeOptions(e,...t){e.push||(e.push=new Vq);for(const i of t)e.push.load(i?.push)}reset(){}}async function qq(n,e=!0){n.checkVersion("3.9.1"),await n.addInteractor("externalPush",t=>Promise.resolve(new Xq(t)),e)}let Yq=class{constructor(){this.quantity=2}load(e){if(Lt(e))return;const t=e.quantity;t!==void 0&&(this.quantity=ti(t))}};const Kq="remove";class Zq extends Fc{constructor(e){super(e),this.handleClickMode=t=>{const i=this.container,r=i.actualOptions;if(!r.interactivity.modes.remove||t!==Kq)return;const s=Kt(r.interactivity.modes.remove.quantity);i.particles.removeQuantity(s)}}clear(){}init(){}interact(){}isEnabled(){return!0}loadModeOptions(e,...t){e.remove||(e.remove=new Yq);for(const i of t)e.remove.load(i?.remove)}reset(){}}async function Qq(n,e=!0){n.checkVersion("3.9.1"),await n.addInteractor("externalRemove",t=>Promise.resolve(new Zq(t)),e)}class T4{constructor(){this.distance=200,this.duration=.4,this.factor=100,this.speed=1,this.maxSpeed=50,this.easing=as.easeOutQuad}load(e){Lt(e)||(e.distance!==void 0&&(this.distance=e.distance),e.duration!==void 0&&(this.duration=e.duration),e.easing!==void 0&&(this.easing=e.easing),e.factor!==void 0&&(this.factor=e.factor),e.speed!==void 0&&(this.speed=e.speed),e.maxSpeed!==void 0&&(this.maxSpeed=e.maxSpeed))}}class Jq extends T4{constructor(){super(),this.selectors=[]}load(e){super.load(e),!Lt(e)&&e.selectors!==void 0&&(this.selectors=e.selectors)}}class eY extends T4{load(e){super.load(e),!Lt(e)&&(this.divs=Ys(e.divs,t=>{const i=new Jq;return i.load(t),i}))}}const Cm="repulse",tY=0,nY=6,iY=3,rY=2,sY=0,oY=0,aY=1,PC=.5;let lY=class extends Fc{constructor(e,t){super(t),this._clickRepulse=()=>{const i=this.container,r=i.actualOptions.interactivity.modes.repulse;if(!r)return;const s=i.repulse??{particles:[]};if(s.finish||(s.count||(s.count=0),s.count++,s.count===i.particles.count&&(s.finish=!0)),s.clicking){const o=i.retina.repulseModeDistance;if(!o||o<tY)return;const l=Math.pow(o/nY,iY),a=i.interactivity.mouse.clickPosition;if(a===void 0)return;const u=new Ll(a.x,a.y,l),m=i.particles.quadTree.query(u,d=>this.isEnabled(d));for(const d of m){const{dx:b,dy:g,distance:_}=aa(a,d.position),p=_**rY,v=r.speed,c=-l*v/p;if(p<=l){s.particles.push(d);const x=Lr.create(b,g);x.length=c,d.velocity.setTo(x)}}}else if(s.clicking===!1){for(const o of s.particles)o.velocity.setTo(o.initialVelocity);s.particles=[]}},this._hoverRepulse=()=>{const i=this.container,r=i.interactivity.mouse.position,s=i.retina.repulseModeDistance;!s||s<sY||!r||this._processRepulse(r,s,new Ll(r.x,r.y,s))},this._processRepulse=(i,r,s,o)=>{const l=this.container,a=l.particles.quadTree.query(s,v=>this.isEnabled(v)),u=l.actualOptions.interactivity.modes.repulse;if(!u)return;const{easing:m,speed:d,factor:b,maxSpeed:g}=u,_=this._engine.getEasing(m),p=(o?.speed??d)*b;for(const v of a){const{dx:c,dy:x,distance:w}=aa(v.position,i),T=Ic(_(aY-w/r)*p,oY,g),L=Lr.create(w?c/w*T:p,w?x/w*T:p);v.position.addTo(L)}},this._singleSelectorRepulse=(i,r)=>{const s=this.container,o=s.actualOptions.interactivity.modes.repulse;if(!o)return;const l=document.querySelectorAll(i);l.length&&l.forEach(a=>{const u=a,m=s.retina.pixelRatio,d={x:(u.offsetLeft+u.offsetWidth*PC)*m,y:(u.offsetTop+u.offsetHeight*PC)*m},b=u.offsetWidth*PC*m,g=r.type===a0.circle?new Ll(d.x,d.y,b):new Eh(u.offsetLeft*m,u.offsetTop*m,u.offsetWidth*m,u.offsetHeight*m),_=o.divs,p=t4(_,u);this._processRepulse(d,b,g,p)})},this._engine=e,t.repulse||(t.repulse={particles:[]}),this.handleClickMode=i=>{const r=this.container.actualOptions,s=r.interactivity.modes.repulse;if(!s||i!==Cm)return;t.repulse||(t.repulse={particles:[]});const o=t.repulse;o.clicking=!0,o.count=0;for(const l of t.repulse.particles)this.isEnabled(l)&&l.velocity.setTo(l.initialVelocity);o.particles=[],o.finish=!1,setTimeout(()=>{t.destroyed||(o.clicking=!1)},s.duration*Ps)}}clear(){}init(){const e=this.container,t=e.actualOptions.interactivity.modes.repulse;t&&(e.retina.repulseModeDistance=t.distance*e.retina.pixelRatio)}interact(){const e=this.container,t=e.actualOptions,i=e.interactivity.status===pg,r=t.interactivity.events,s=r.onHover,o=s.enable,l=s.mode,a=r.onClick,u=a.enable,m=a.mode,d=r.onDiv;i&&o&&fs(Cm,l)?this._hoverRepulse():u&&fs(Cm,m)?this._clickRepulse():oM(Cm,d,(b,g)=>this._singleSelectorRepulse(b,g))}isEnabled(e){const t=this.container,i=t.actualOptions,r=t.interactivity.mouse,s=(e?.interactivity??i.interactivity).events,o=s.onDiv,l=s.onHover,a=s.onClick,u=sM(Cm,o);if(!(u||l.enable&&r.position||a.enable&&r.clickPosition))return!1;const m=l.mode,d=a.mode;return fs(Cm,m)||fs(Cm,d)||u}loadModeOptions(e,...t){e.repulse||(e.repulse=new eY);for(const i of t)e.repulse.load(i?.repulse)}reset(){}};async function cY(n,e=!0){n.checkVersion("3.9.1"),await n.addInteractor("externalRepulse",t=>Promise.resolve(new lY(n,t)),e)}class uY{constructor(){this.factor=3,this.radius=200}load(e){Lt(e)||(e.factor!==void 0&&(this.factor=e.factor),e.radius!==void 0&&(this.radius=e.radius))}}const hY="slow",dY=0;class fY extends Fc{constructor(e){super(e)}clear(e,t,i){e.slow.inRange&&!i||(e.slow.factor=1)}init(){const e=this.container,t=e.actualOptions.interactivity.modes.slow;t&&(e.retina.slowModeRadius=t.radius*e.retina.pixelRatio)}interact(){}isEnabled(e){const t=this.container,i=t.interactivity.mouse,r=(e?.interactivity??t.actualOptions.interactivity).events;return r.onHover.enable&&!!i.position&&fs(hY,r.onHover.mode)}loadModeOptions(e,...t){e.slow||(e.slow=new uY);for(const i of t)e.slow.load(i?.slow)}reset(e){e.slow.inRange=!1;const t=this.container,i=t.actualOptions,r=t.interactivity.mouse.position,s=t.retina.slowModeRadius,o=i.interactivity.modes.slow;if(!o||!s||s<dY||!r)return;const l=e.getPosition(),a=fl(r,l),u=a/s,m=o.factor,{slow:d}=e;a>s||(d.inRange=!0,d.factor=u/m)}}async function pY(n,e=!0){n.checkVersion("3.9.1"),await n.addInteractor("externalSlow",t=>Promise.resolve(new fY(t)),e)}const mY=0,gY=1,vY=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d.]+%?\))|currentcolor/gi;function yY(n,e,t){const{svgData:i}=n;if(!i)return"";const r=Fp(e,t);if(i.includes("fill"))return i.replace(vY,()=>r);const s=i.indexOf(">");return`${i.substring(mY,s)} fill="${r}"${i.substring(s)}`}async function CE(n){return new Promise(e=>{n.loading=!0;const t=new Image;n.element=t,t.addEventListener("load",()=>{n.loading=!1,e()}),t.addEventListener("error",()=>{n.element=void 0,n.error=!0,n.loading=!1,Sf().error(`${Za} loading image: ${n.source}`),e()}),t.src=n.source})}async function _Y(n){if(n.type!=="svg"){await CE(n);return}n.loading=!0;const e=await fetch(n.source);e.ok?n.svgData=await e.text():(Sf().error(`${Za} Image not found`),n.error=!0),n.loading=!1}function bY(n,e,t,i){const r=yY(n,t,i.opacity?.value??gY),s={color:t,gif:e.gif,data:{...n,svgData:r},loaded:!1,ratio:e.width/e.height,replaceColor:e.replaceColor,source:e.src};return new Promise(o=>{const l=new Blob([r],{type:"image/svg+xml"}),a=URL||window.URL||window.webkitURL||window,u=a.createObjectURL(l),m=new Image;m.addEventListener("load",()=>{s.loaded=!0,s.element=m,o(s),a.revokeObjectURL(u)});const d=async()=>{a.revokeObjectURL(u);const b={...n,error:!1,loading:!0};await CE(b),s.loaded=!0,s.element=b.element,o(s)};m.addEventListener("error",()=>void d()),m.src=u})}const NC=[0,4,2,1],dL=[8,8,4,2];class xY{constructor(e){this.pos=0,this.data=new Uint8ClampedArray(e)}getString(e){const t=this.data.slice(this.pos,this.pos+e);return this.pos+=t.length,t.reduce((i,r)=>i+String.fromCharCode(r),"")}nextByte(){return this.data[this.pos++]}nextTwoBytes(){return this.pos+=2,this.data[this.pos-2]+(this.data[this.pos-1]<<8)}readSubBlocks(){let e="",t=0;const i=0,r=0;do{t=this.data[this.pos++];for(let s=t;--s>=i;e+=String.fromCharCode(this.data[this.pos++]));}while(t!==r);return e}readSubBlocksBin(){let e=this.data[this.pos],t=0;const i=0,r=1;for(let o=0;e!==i;o+=e+r,e=this.data[this.pos+o])t+=e;const s=new Uint8Array(t);e=this.data[this.pos++];for(let o=0;e!==i;e=this.data[this.pos++])for(let l=e;--l>=i;s[o++]=this.data[this.pos++]);return s}skipSubBlocks(){for(const e=1,t=0;this.data[this.pos]!==t;this.pos+=this.data[this.pos]+e);this.pos++}}var uh;(function(n){n[n.Replace=0]="Replace",n[n.Combine=1]="Combine",n[n.RestoreBackground=2]="RestoreBackground",n[n.RestorePrevious=3]="RestorePrevious",n[n.UndefinedA=4]="UndefinedA",n[n.UndefinedB=5]="UndefinedB",n[n.UndefinedC=6]="UndefinedC",n[n.UndefinedD=7]="UndefinedD"})(uh||(uh={}));var ff;(function(n){n[n.Extension=33]="Extension",n[n.ApplicationExtension=255]="ApplicationExtension",n[n.GraphicsControlExtension=249]="GraphicsControlExtension",n[n.PlainTextExtension=1]="PlainTextExtension",n[n.CommentExtension=254]="CommentExtension",n[n.Image=44]="Image",n[n.EndOfFile=59]="EndOfFile"})(ff||(ff={}));const Ac={x:0,y:0},SY=0,fL=.5,EY=0,pL=0,$A=0;function A4(n,e){const t=[];for(let i=0;i<e;i++)t.push({r:n.data[n.pos],g:n.data[n.pos+1],b:n.data[n.pos+2]}),n.pos+=3;return t}function wY(n,e,t,i){switch(n.nextByte()){case ff.GraphicsControlExtension:{const r=e.frames[t(!1)];n.pos++;const s=n.nextByte();r.GCreserved=(s&224)>>>5,r.disposalMethod=(s&28)>>>2,r.userInputDelayFlag=(s&2)===2;const o=(s&1)===1;r.delayTime=n.nextTwoBytes()*10;const l=n.nextByte();o&&i(l),n.pos++;break}case ff.ApplicationExtension:{n.pos++;const r={identifier:n.getString(8),authenticationCode:n.getString(3),data:n.readSubBlocksBin()};e.applicationExtensions.push(r);break}case ff.CommentExtension:{e.comments.push([t(!1),n.readSubBlocks()]);break}case ff.PlainTextExtension:{if(e.globalColorTable.length===0)throw new EvalError("plain text extension without global color table");n.pos++,e.frames[t(!1)].plainTextData={left:n.nextTwoBytes(),top:n.nextTwoBytes(),width:n.nextTwoBytes(),height:n.nextTwoBytes(),charSize:{width:n.nextTwoBytes(),height:n.nextTwoBytes()},foregroundColor:n.nextByte(),backgroundColor:n.nextByte(),text:n.readSubBlocks()};break}default:n.skipSubBlocks();break}}async function CY(n,e,t,i,r,s){const o=e.frames[i(!0)];o.left=n.nextTwoBytes(),o.top=n.nextTwoBytes(),o.width=n.nextTwoBytes(),o.height=n.nextTwoBytes();const l=n.nextByte(),a=(l&128)===128,u=(l&64)===64;o.sortFlag=(l&32)===32,o.reserved=(l&24)>>>3;const m=1<<(l&7)+1;a&&(o.localColorTable=A4(n,m));const d=c=>{const{r:x,g:w,b:T}=(a?o.localColorTable:e.globalColorTable)[c];return c!==r(null)?{r:x,g:w,b:T,a:255}:{r:x,g:w,b:T,a:t?~~((x+w+T)/3):0}},b=(()=>{try{return new ImageData(o.width,o.height,{colorSpace:"srgb"})}catch(c){if(c instanceof DOMException&&c.name==="IndexSizeError")return null;throw c}})();if(b==null)throw new EvalError("GIF frame size is to large");const g=n.nextByte(),_=n.readSubBlocksBin(),p=1<<g,v=(c,x)=>{const w=c>>>3,T=c&7;return(_[w]+(_[w+1]<<8)+(_[w+2]<<16)&(1<<x)-1<<T)>>>T};if(u){for(let c=0,x=g+1,w=0,T=[[0]],L=0;L<4;L++)if(NC[L]<o.height){let P=0,C=0,I=!1;for(;!I;){const F=c;if(c=v(w,x),w+=x+1,c===p){x=g+1,T.length=p+2;for(let R=0;R<T.length;R++)T[R]=R<p?[R]:[]}else{c>=T.length?T.push(T[F].concat(T[F][0])):F!==p&&T.push(T[F].concat(T[c][0]));for(const R of T[c]){const{r:D,g:G,b:j,a:k}=d(R);b.data.set([D,G,j,k],NC[L]*o.width+dL[L]*C+P%(o.width*4)),P+=4}T.length===1<<x&&x<12&&x++}P===o.width*4*(C+1)&&(C++,NC[L]+dL[L]*C>=o.height&&(I=!0))}}o.image=b,o.bitmap=await createImageBitmap(b)}else{let c=0,x=g+1,w=0,T=-4,L=!1;const P=[[0]];for(;!L;){const C=c;if(c=v(w,x),w+=x,c===p){x=g+1,P.length=p+2;for(let I=0;I<P.length;I++)P[I]=I<p?[I]:[]}else{if(c===p+1){L=!0;break}c>=P.length?P.push(P[C].concat(P[C][0])):C!==p&&P.push(P[C].concat(P[c][0]));for(const I of P[c]){const{r:F,g:R,b:D,a:G}=d(I);b.data.set([F,R,D,G],T+=4)}P.length>=1<<x&&x<12&&x++}}o.image=b,o.bitmap=await createImageBitmap(b)}}async function TY(n,e,t,i,r,s){switch(n.nextByte()){case ff.EndOfFile:return!0;case ff.Image:await CY(n,e,t,i,r);break;case ff.Extension:wY(n,e,i,r);break;default:throw new EvalError("undefined block found")}return!1}function AY(n){for(const e of n.applicationExtensions)if(e.identifier+e.authenticationCode==="NETSCAPE2.0")return e.data[1]+(e.data[2]<<8);return NaN}async function RY(n,e,t){t||(t=!1);const i=await fetch(n);if(!i.ok&&i.status===404)throw new EvalError("file not found");const r=await i.arrayBuffer(),s={width:0,height:0,totalTime:0,colorRes:0,pixelAspectRatio:0,frames:[],sortFlag:!1,globalColorTable:[],backgroundImage:new ImageData(1,1,{colorSpace:"srgb"}),comments:[],applicationExtensions:[]},o=new xY(new Uint8ClampedArray(r));if(o.getString(6)!=="GIF89a")throw new Error("not a supported GIF file");s.width=o.nextTwoBytes(),s.height=o.nextTwoBytes();const l=o.nextByte(),a=(l&128)===128;s.colorRes=(l&112)>>>4,s.sortFlag=(l&8)===8;const u=1<<(l&7)+1,m=o.nextByte();s.pixelAspectRatio=o.nextByte(),s.pixelAspectRatio!==0&&(s.pixelAspectRatio=(s.pixelAspectRatio+15)/64),a&&(s.globalColorTable=A4(o,u));const d=(()=>{try{return new ImageData(s.width,s.height,{colorSpace:"srgb"})}catch(T){if(T instanceof DOMException&&T.name==="IndexSizeError")return null;throw T}})();if(d==null)throw new Error("GIF frame size is to large");const{r:b,g,b:_}=s.globalColorTable[m];d.data.set(a?[b,g,_,255]:[0,0,0,0]);for(let T=4;T<d.data.length;T*=2)d.data.copyWithin(T,0,T);s.backgroundImage=d;let p=-1,v=!0,c=-1;const x=T=>(T&&(v=!0),p),w=T=>(T!=null&&(c=T),c);try{do v&&(s.frames.push({left:0,top:0,width:0,height:0,disposalMethod:uh.Replace,image:new ImageData(1,1,{colorSpace:"srgb"}),plainTextData:null,userInputDelayFlag:!1,delayTime:0,sortFlag:!1,localColorTable:[],reserved:0,GCreserved:0}),p++,c=-1,v=!1);while(!await TY(o,s,t,x,w,e));s.frames.length--;for(const T of s.frames){if(T.userInputDelayFlag&&T.delayTime===0){s.totalTime=1/0;break}s.totalTime+=T.delayTime}return s}catch(T){throw T instanceof EvalError?new Error(`error while parsing frame ${p} "${T.message}"`):T}}function MY(n){const{context:e,radius:t,particle:i,delta:r}=n,s=i.image;if(!s?.gifData||!s.gif)return;const o=new OffscreenCanvas(s.gifData.width,s.gifData.height),l=o.getContext("2d");if(!l)throw new Error("could not create offscreen canvas context");l.imageSmoothingQuality="low",l.imageSmoothingEnabled=!1,l.clearRect(Ac.x,Ac.y,o.width,o.height),i.gifLoopCount===void 0&&(i.gifLoopCount=s.gifLoopCount??$A);let a=i.gifFrame??SY;const u={x:-s.gifData.width*fL,y:-s.gifData.height*fL},m=s.gifData.frames[a];if(i.gifTime===void 0&&(i.gifTime=EY),!!m.bitmap){switch(e.scale(t/s.gifData.width,t/s.gifData.height),m.disposalMethod){case uh.UndefinedA:case uh.UndefinedB:case uh.UndefinedC:case uh.UndefinedD:case uh.Replace:l.drawImage(m.bitmap,m.left,m.top),e.drawImage(o,u.x,u.y),l.clearRect(Ac.x,Ac.y,o.width,o.height);break;case uh.Combine:l.drawImage(m.bitmap,m.left,m.top),e.drawImage(o,u.x,u.y);break;case uh.RestoreBackground:l.drawImage(m.bitmap,m.left,m.top),e.drawImage(o,u.x,u.y),l.clearRect(Ac.x,Ac.y,o.width,o.height),s.gifData.globalColorTable.length?l.putImageData(s.gifData.backgroundImage,u.x,u.y):l.putImageData(s.gifData.frames[pL].image,u.x+m.left,u.y+m.top);break;case uh.RestorePrevious:{const d=l.getImageData(Ac.x,Ac.y,o.width,o.height);l.drawImage(m.bitmap,m.left,m.top),e.drawImage(o,u.x,u.y),l.clearRect(Ac.x,Ac.y,o.width,o.height),l.putImageData(d,Ac.x,Ac.y)}break}if(i.gifTime+=r.value,i.gifTime>m.delayTime){if(i.gifTime-=m.delayTime,++a>=s.gifData.frames.length){if(--i.gifLoopCount<=$A)return;a=pL,l.clearRect(Ac.x,Ac.y,o.width,o.height)}i.gifFrame=a}e.scale(s.gifData.width/t,s.gifData.height/t)}}async function OY(n){if(n.type!=="gif"){await CE(n);return}n.loading=!0;try{n.gifData=await RY(n.source),n.gifLoopCount=AY(n.gifData)??$A,n.gifLoopCount||(n.gifLoopCount=1/0)}catch{n.error=!0}n.loading=!1}const LY=2,PY=1,NY=12,IY=1;class DY{constructor(e){this.validTypes=["image","images"],this.loadImageShape=async t=>{if(!this._engine.loadImage)throw new Error(`${Za} image shape not initialized`);await this._engine.loadImage({gif:t.gif,name:t.name,replaceColor:t.replaceColor??!1,src:t.src})},this._engine=e}addImage(e){this._engine.images||(this._engine.images=[]),this._engine.images.push(e)}draw(e){const{context:t,radius:i,particle:r,opacity:s}=e,o=r.image,l=o?.element;if(o){if(t.globalAlpha=s,o.gif&&o.gifData)MY(e);else if(l){const a=o.ratio,u={x:-i,y:-i},m=i*LY;t.drawImage(l,u.x,u.y,m,m/a)}t.globalAlpha=PY}}getSidesCount(){return NY}async init(e){const t=e.actualOptions;if(!(!t.preload||!this._engine.loadImage))for(const i of t.preload)await this._engine.loadImage(i)}loadShape(e){if(e.shape!=="image"&&e.shape!=="images")return;this._engine.images||(this._engine.images=[]);const t=e.shapeData;if(!t)return;this._engine.images.find(r=>r.name===t.name||r.source===t.src)||this.loadImageShape(t).then(()=>{this.loadShape(e)})}particleInit(e,t){if(t.shape!=="image"&&t.shape!=="images")return;this._engine.images||(this._engine.images=[]);const i=this._engine.images,r=t.shapeData;if(!r)return;const s=t.getFillColor(),o=i.find(a=>a.name===r.name||a.source===r.src);if(!o)return;const l=r.replaceColor??o.replaceColor;if(o.loading){setTimeout(()=>{this.particleInit(e,t)});return}(async()=>{let a;o.svgData&&s?a=await bY(o,r,s,t):a={color:s,data:o,element:o.element,gif:o.gif,gifData:o.gifData,gifLoopCount:o.gifLoopCount,loaded:!0,ratio:r.width&&r.height?r.width/r.height:o.ratio??IY,replaceColor:l,source:r.src},a.ratio||(a.ratio=1);const u=r.fill??t.shapeFill,m=r.close??t.shapeClose,d={image:a,fill:u,close:m};t.image=d.image,t.shapeFill=d.fill,t.shapeClose=d.close})()}}class FY{constructor(){this.src="",this.gif=!1}load(e){Lt(e)||(e.gif!==void 0&&(this.gif=e.gif),e.height!==void 0&&(this.height=e.height),e.name!==void 0&&(this.name=e.name),e.replaceColor!==void 0&&(this.replaceColor=e.replaceColor),e.src!==void 0&&(this.src=e.src),e.width!==void 0&&(this.width=e.width))}}class BY{constructor(e){this.id="imagePreloader",this._engine=e}async getPlugin(){return await Promise.resolve(),{}}loadOptions(e,t){if(!t?.preload)return;e.preload||(e.preload=[]);const i=e.preload;for(const r of t.preload){const s=i.find(o=>o.name===r.name||o.src===r.src);if(s)s.load(r);else{const o=new FY;o.load(r),i.push(o)}}}needsPlugin(){return!0}}const UY=3;function kY(n){n.loadImage||(n.loadImage=async e=>{if(!e.name&&!e.src)throw new Error(`${Za} no image source provided`);if(n.images||(n.images=[]),!n.images.find(t=>t.name===e.name||t.source===e.src))try{const t={gif:e.gif??!1,name:e.name??e.src,source:e.src,type:e.src.substring(e.src.length-UY),error:!1,loading:!0,replaceColor:e.replaceColor,ratio:e.width&&e.height?e.width/e.height:void 0};n.images.push(t);let i;e.gif?i=OY:i=e.replaceColor?_Y:CE,await i(t)}catch{throw new Error(`${Za} ${e.name??e.src} not found`)}})}async function zY(n,e=!0){n.checkVersion("3.9.1"),kY(n);const t=new BY(n);await n.addPlugin(t,e),await n.addShape(new DY(n),e)}class $Y extends ou{constructor(){super(),this.sync=!1}load(e){Lt(e)||(super.load(e),e.sync!==void 0&&(this.sync=e.sync))}}class HY extends ou{constructor(){super(),this.sync=!1}load(e){Lt(e)||(super.load(e),e.sync!==void 0&&(this.sync=e.sync))}}class GY{constructor(){this.count=0,this.delay=new $Y,this.duration=new HY}load(e){Lt(e)||(e.count!==void 0&&(this.count=e.count),this.delay.load(e.delay),this.duration.load(e.duration))}}const uv=0,VY=-1,mL=0,gL=0;function WY(n,e,t){if(!n.life)return;const i=n.life;let r=!1;if(n.spawning)if(i.delayTime+=e.value,i.delayTime>=n.life.delay)r=!0,n.spawning=!1,i.delayTime=uv,i.time=uv;else return;if(i.duration===VY||n.spawning||(r?i.time=uv:i.time+=e.value,i.time<i.duration))return;if(i.time=uv,n.life.count>mL&&n.life.count--,n.life.count===mL){n.destroy();return}const s=ti(gL,t.width),o=ti(gL,t.width);n.position.x=ra(s),n.position.y=ra(o),n.spawning=!0,i.delayTime=uv,i.time=uv,n.reset();const l=n.options.life;l&&(i.delay=Kt(l.delay.value)*Ps,i.duration=Kt(l.duration.value)*Ps)}const Tm=0,vL=1,yL=-1;class jY{constructor(e){this.container=e}init(e){const t=this.container,i=e.options,r=i.life;r&&(e.life={delay:t.retina.reduceFactor?Kt(r.delay.value)*(r.delay.sync?vL:Gn())/t.retina.reduceFactor*Ps:Tm,delayTime:Tm,duration:t.retina.reduceFactor?Kt(r.duration.value)*(r.duration.sync?vL:Gn())/t.retina.reduceFactor*Ps:Tm,time:Tm,count:r.count},e.life.duration<=Tm&&(e.life.duration=yL),e.life.count<=Tm&&(e.life.count=yL),e.life&&(e.spawning=e.life.delay>Tm))}isEnabled(e){return!e.destroyed}loadOptions(e,...t){e.life||(e.life=new GY);for(const i of t)e.life.load(i?.life)}update(e,t){!this.isEnabled(e)||!e.life||WY(e,t,this.container.canvas.size)}}async function XY(n,e=!0){n.checkVersion("3.9.1"),await n.addParticleUpdater("life",async t=>Promise.resolve(new jY(t)),e)}function qY(n){const{context:e,particle:t,radius:i}=n,r=t.shapeData,s=0;e.moveTo(-i,s),e.lineTo(i,s),e.lineCap=r?.cap??"butt"}const YY=1;class KY{constructor(){this.validTypes=["line"]}draw(e){qY(e)}getSidesCount(){return YY}}async function ZY(n,e=!0){n.checkVersion("3.9.1"),await n.addShape(new KY,e)}const _L=.5;class QY{init(){}isEnabled(e){return!mg()&&!e.destroyed&&e.container.actualOptions.interactivity.events.onHover.parallax.enable}move(e){const t=e.container,i=t.actualOptions,r=i.interactivity.events.onHover.parallax;if(mg()||!r.enable)return;const s=r.force,o=t.interactivity.mouse.position;if(!o)return;const l=t.canvas.size,a={x:l.width*_L,y:l.height*_L},u=r.smooth,m=e.getRadius()/s,d={x:(o.x-a.x)*m,y:(o.y-a.y)*m},{offset:b}=e;b.x+=(d.x-b.x)/u,b.y+=(d.y-b.y)/u}}async function JY(n,e=!0){n.checkVersion("3.9.1"),await n.addMover("parallax",()=>Promise.resolve(new QY),e)}const bL=1e3,eK=1;class tK extends w0{constructor(e){super(e)}clear(){}init(){}interact(e){const t=this.container;e.attractDistance===void 0&&(e.attractDistance=Kt(e.options.move.attract.distance)*t.retina.pixelRatio);const i=e.attractDistance,r=e.getPosition(),s=t.particles.quadTree.queryCircle(r,i);for(const o of s){if(e===o||!o.options.move.attract.enable||o.destroyed||o.spawning)continue;const l=o.getPosition(),{dx:a,dy:u}=aa(r,l),m=e.options.move.attract.rotate,d=a/(m.x*bL),b=u/(m.y*bL),g=o.size.value/e.size.value,_=eK/g;e.velocity.x-=d*g,e.velocity.y-=b*g,o.velocity.x+=d*_,o.velocity.y+=b*_}}isEnabled(e){return e.options.move.attract.enable}reset(){}}async function nK(n,e=!0){n.checkVersion("3.9.1"),await n.addInteractor("particlesAttract",t=>Promise.resolve(new tK(t)),e)}const iK=.5,rK=10,sK=0;function xL(n,e,t,i,r,s){const o=Ic(n.options.collisions.absorb.speed*r.factor/rK,sK,i);n.size.value+=o*iK,t.size.value-=o,i<=s&&(t.size.value=0,t.destroy())}function oK(n,e,t,i){const r=n.getRadius(),s=e.getRadius();r===void 0&&s!==void 0?n.destroy():r!==void 0&&s===void 0?e.destroy():r!==void 0&&s!==void 0&&(r>=s?xL(n,r,e,s,t,i):xL(e,s,n,r,t,i))}const SL=n=>{n.collisionMaxSpeed===void 0&&(n.collisionMaxSpeed=Kt(n.options.collisions.maxSpeed)),n.velocity.length>n.collisionMaxSpeed&&(n.velocity.length=n.collisionMaxSpeed)};function R4(n,e){n4(FA(n),FA(e)),SL(n),SL(e)}function aK(n,e){!n.unbreakable&&!e.unbreakable&&R4(n,e),n.getRadius()===void 0&&e.getRadius()!==void 0?n.destroy():n.getRadius()!==void 0&&e.getRadius()===void 0?e.destroy():n.getRadius()!==void 0&&e.getRadius()!==void 0&&(n.getRadius()>=e.getRadius()?e:n).destroy()}function lK(n,e,t,i){switch(n.options.collisions.mode){case Yv.absorb:{oK(n,e,t,i);break}case Yv.bounce:{R4(n,e);break}case Yv.destroy:{aK(n,e);break}}}const cK=2;class uK extends w0{constructor(e){super(e)}clear(){}init(){}interact(e,t){if(e.destroyed||e.spawning)return;const i=this.container,r=e.getPosition(),s=e.getRadius(),o=i.particles.quadTree.queryCircle(r,s*cK);for(const l of o){if(e===l||!l.options.collisions.enable||e.options.collisions.mode!==l.options.collisions.mode||l.destroyed||l.spawning)continue;const a=l.getPosition(),u=l.getRadius();if(Math.abs(Math.round(r.z)-Math.round(a.z))>s+u)continue;const m=fl(r,a),d=s+u;m>d||lK(e,l,t,i.retina.pixelRatio)}}isEnabled(e){return e.options.collisions.enable}reset(){}}async function hK(n,e=!0){n.checkVersion("3.9.1"),await n.addInteractor("particlesCollisions",t=>Promise.resolve(new uK(t)),e)}const IC=2;class dK extends Ll{constructor(e,t,i,r){super(e,t,i),this.canvasSize=r,this.canvasSize={...r}}contains(e){const{width:t,height:i}=this.canvasSize,{x:r,y:s}=e;return super.contains(e)||super.contains({x:r-t,y:s})||super.contains({x:r-t,y:s-i})||super.contains({x:r,y:s-i})}intersects(e){if(super.intersects(e))return!0;const t=e,i=e,r={x:e.position.x-this.canvasSize.width,y:e.position.y-this.canvasSize.height};if(i.radius!==void 0){const s=new Ll(r.x,r.y,i.radius*IC);return super.intersects(s)}else if(t.size!==void 0){const s=new Eh(r.x,r.y,t.size.width*IC,t.size.height*IC);return super.intersects(s)}return!1}}class fK{constructor(){this.blur=5,this.color=new rs,this.color.value="#000",this.enable=!1}load(e){Lt(e)||(e.blur!==void 0&&(this.blur=e.blur),this.color=rs.create(this.color,e.color),e.enable!==void 0&&(this.enable=e.enable))}}class pK{constructor(){this.enable=!1,this.frequency=1}load(e){Lt(e)||(e.color!==void 0&&(this.color=rs.create(this.color,e.color)),e.enable!==void 0&&(this.enable=e.enable),e.frequency!==void 0&&(this.frequency=e.frequency),e.opacity!==void 0&&(this.opacity=e.opacity))}}class mK{constructor(){this.blink=!1,this.color=new rs,this.color.value="#fff",this.consent=!1,this.distance=100,this.enable=!1,this.frequency=1,this.opacity=1,this.shadow=new fK,this.triangles=new pK,this.width=1,this.warp=!1}load(e){Lt(e)||(e.id!==void 0&&(this.id=e.id),e.blink!==void 0&&(this.blink=e.blink),this.color=rs.create(this.color,e.color),e.consent!==void 0&&(this.consent=e.consent),e.distance!==void 0&&(this.distance=e.distance),e.enable!==void 0&&(this.enable=e.enable),e.frequency!==void 0&&(this.frequency=e.frequency),e.opacity!==void 0&&(this.opacity=e.opacity),this.shadow.load(e.shadow),this.triangles.load(e.triangles),e.width!==void 0&&(this.width=e.width),e.warp!==void 0&&(this.warp=e.warp))}}const EL=2,gK=1,dx={x:0,y:0},vK=0;function yK(n,e,t,i,r){const{dx:s,dy:o,distance:l}=aa(n,e);if(!r||l<=t)return l;const a={x:Math.abs(s),y:Math.abs(o)},u={x:Math.min(a.x,i.width-a.x),y:Math.min(a.y,i.height-a.y)};return Math.sqrt(u.x**EL+u.y**EL)}class _K extends w0{constructor(e,t){super(e),this._setColor=i=>{if(!i.options.links)return;const r=this._linkContainer,s=i.options.links;let o=s.id===void 0?r.particles.linksColor:r.particles.linksColors.get(s.id);if(o)return;const l=s.color;o=u4(this._engine,l,s.blink,s.consent),s.id===void 0?r.particles.linksColor=o:r.particles.linksColors.set(s.id,o)},this._linkContainer=e,this._engine=t}clear(){}init(){this._linkContainer.particles.linksColor=void 0,this._linkContainer.particles.linksColors=new Map}interact(e){if(!e.options.links)return;e.links=[];const t=e.getPosition(),i=this.container,r=i.canvas.size;if(t.x<dx.x||t.y<dx.y||t.x>r.width||t.y>r.height)return;const s=e.options.links,o=s.opacity,l=e.retina.linksDistance??vK,a=s.warp;let u;a?u=new dK(t.x,t.y,l,r):u=new Ll(t.x,t.y,l);const m=i.particles.quadTree.query(u);for(const d of m){const b=d.options.links;if(e===d||!b?.enable||s.id!==b.id||d.spawning||d.destroyed||!d.links||e.links.some(v=>v.destination===d)||d.links.some(v=>v.destination===e))continue;const g=d.getPosition();if(g.x<dx.x||g.y<dx.y||g.x>r.width||g.y>r.height)continue;const _=yK(t,g,l,r,a&&b.warp);if(_>l)continue;const p=(gK-_/l)*o;this._setColor(e),e.links.push({destination:d,opacity:p})}}isEnabled(e){return!!e.options.links?.enable}loadParticlesOptions(e,...t){e.links||(e.links=new mK);for(const i of t)e.links.load(i?.links)}reset(){}}async function bK(n,e=!0){await n.addInteractor("particlesLinks",async t=>Promise.resolve(new _K(t,n)),e)}function xK(n,e,t,i){n.beginPath(),n.moveTo(e.x,e.y),n.lineTo(t.x,t.y),n.lineTo(i.x,i.y),n.closePath()}function SK(n){let e=!1;const{begin:t,end:i,engine:r,maxDistance:s,context:o,canvasSize:l,width:a,backgroundMask:u,colorLine:m,opacity:d,links:b}=n;if(fl(t,i)<=s)Gy(o,t,i),e=!0;else if(b.warp){let _,p;const v={x:i.x-l.width,y:i.y},c=aa(t,v);if(c.distance<=s){const x=t.y-c.dy/c.dx*t.x;_={x:0,y:x},p={x:l.width,y:x}}else{const x={x:i.x,y:i.y-l.height},w=aa(t,x);if(w.distance<=s){const L=-(t.y-w.dy/w.dx*t.x)/(w.dy/w.dx);_={x:L,y:0},p={x:L,y:l.height}}else{const T={x:i.x-l.width,y:i.y-l.height},L=aa(t,T);if(L.distance<=s){const P=t.y-L.dy/L.dx*t.x;_={x:-P/(L.dy/L.dx),y:P},p={x:_.x+l.width,y:_.y+l.height}}}}_&&p&&(Gy(o,t,_),Gy(o,i,p),e=!0)}if(!e)return;o.lineWidth=a,u.enable&&(o.globalCompositeOperation=u.composite),o.strokeStyle=uc(m,d);const{shadow:g}=b;if(g.enable){const _=pl(r,g.color);_&&(o.shadowBlur=g.blur,o.shadowColor=uc(_))}o.stroke()}function EK(n){const{context:e,pos1:t,pos2:i,pos3:r,backgroundMask:s,colorTriangle:o,opacityTriangle:l}=n;xK(e,t,i,r),s.enable&&(e.globalCompositeOperation=s.composite),e.fillStyle=uc(o,l),e.fill()}function wK(n){return n.sort((e,t)=>e-t),n.join("_")}function wL(n,e){const t=wK(n.map(r=>r.id));let i=e.get(t);return i===void 0&&(i=Gn(),e.set(t,i)),i}const CL=0,DC=0,TL=0,CK=.5,TK=1;class AK{constructor(e,t){this._drawLinkLine=(i,r)=>{const s=i.options.links;if(!s?.enable)return;const o=this._container,l=o.actualOptions,a=r.destination,u=i.getPosition(),m=a.getPosition();let d=r.opacity;o.canvas.draw(b=>{let g;const _=i.options.twinkle?.lines;if(_?.enable){const x=_.frequency,w=pl(this._engine,_.color);Gn()<x&&w&&(g=w,d=Kt(_.opacity))}if(!g){const x=s.id!==void 0?o.particles.linksColors.get(s.id):o.particles.linksColor;g=BA(i,a,x)}if(!g)return;const p=i.retina.linksWidth??DC,v=i.retina.linksDistance??TL,{backgroundMask:c}=l;SK({context:b,width:p,begin:u,end:m,engine:this._engine,maxDistance:v,canvasSize:o.canvas.size,links:s,backgroundMask:c,colorLine:g,opacity:d})})},this._drawLinkTriangle=(i,r,s)=>{const o=i.options.links;if(!o?.enable)return;const l=o.triangles;if(!l.enable)return;const a=this._container,u=a.actualOptions,m=r.destination,d=s.destination,b=l.opacity??(r.opacity+s.opacity)*CK;b<=CL||a.canvas.draw(g=>{const _=i.getPosition(),p=m.getPosition(),v=d.getPosition(),c=i.retina.linksDistance??TL;if(fl(_,p)>c||fl(v,p)>c||fl(v,_)>c)return;let x=pl(this._engine,l.color);if(!x){const w=o.id!==void 0?a.particles.linksColors.get(o.id):a.particles.linksColor;x=BA(i,m,w)}x&&EK({context:g,pos1:_,pos2:p,pos3:v,backgroundMask:u.backgroundMask,colorTriangle:x,opacityTriangle:b})})},this._drawTriangles=(i,r,s,o)=>{const l=s.destination;if(!(i.links?.triangles.enable&&l.options.links?.triangles.enable))return;const a=l.links?.filter(u=>{const m=this._getLinkFrequency(l,u.destination);return l.options.links&&m<=l.options.links.frequency&&o.findIndex(b=>b.destination===u.destination)>=0});if(a?.length)for(const u of a){const m=u.destination;this._getTriangleFrequency(r,l,m)>i.links.triangles.frequency||this._drawLinkTriangle(r,s,u)}},this._getLinkFrequency=(i,r)=>wL([i,r],this._freqs.links),this._getTriangleFrequency=(i,r,s)=>wL([i,r,s],this._freqs.triangles),this._container=e,this._engine=t,this._freqs={links:new Map,triangles:new Map}}drawParticle(e,t){const{links:i,options:r}=t;if(!i?.length)return;const s=i.filter(o=>r.links&&(r.links.frequency>=TK||this._getLinkFrequency(t,o.destination)<=r.links.frequency));for(const o of s)this._drawTriangles(r,t,o,s),o.opacity>CL&&(t.retina.linksWidth??DC)>DC&&this._drawLinkLine(t,o)}async init(){this._freqs.links=new Map,this._freqs.triangles=new Map,await Promise.resolve()}particleCreated(e){if(e.links=[],!e.options.links)return;const t=this._container.retina.pixelRatio,{retina:i}=e,{distance:r,width:s}=e.options.links;i.linksDistance=r*t,i.linksWidth=s*t}particleDestroyed(e){e.links=[]}}class RK{constructor(e){this.id="links",this._engine=e}getPlugin(e){return Promise.resolve(new AK(e,this._engine))}loadOptions(){}needsPlugin(){return!0}}async function MK(n,e=!0){const t=new RK(n);await n.addPlugin(t,e)}async function OK(n,e=!0){n.checkVersion("3.9.1"),await bK(n,e),await MK(n,e)}const LK=180,fx={x:0,y:0},PK=2;function NK(n,e,t){const{context:i}=n,r=t.count.numerator*t.count.denominator,s=t.count.numerator/t.count.denominator,o=LK*(s-PK)/s,l=Math.PI-vh(o);if(i){i.beginPath(),i.translate(e.x,e.y),i.moveTo(fx.x,fx.y);for(let a=0;a<r;a++)i.lineTo(t.length,fx.y),i.translate(t.length,fx.y),i.rotate(l)}}const IK=5;class M4{draw(e){const{particle:t,radius:i}=e,r=this.getCenter(t,i),s=this.getSidesData(t,i);NK(e,r,s)}getSidesCount(e){const t=e.shapeData;return Math.round(Kt(t?.sides??IK))}}const AL=3.5,RL=2.66,DK=3;class FK extends M4{constructor(){super(...arguments),this.validTypes=["polygon"]}getCenter(e,t){return{x:-t/(e.sides/AL),y:-t/(RL/AL)}}getSidesData(e,t){const i=e.sides;return{count:{denominator:1,numerator:i},length:t*RL/(i/DK)}}}const BK=1.66,UK=3,kK=2;class zK extends M4{constructor(){super(...arguments),this.validTypes=["triangle"]}getCenter(e,t){return{x:-t,y:t/BK}}getSidesCount(){return UK}getSidesData(e,t){const i=t*kK;return{count:{denominator:2,numerator:3},length:i}}}async function $K(n,e=!0){n.checkVersion("3.9.1"),await n.addShape(new FK,e)}async function HK(n,e=!0){n.checkVersion("3.9.1"),await n.addShape(new zK,e)}async function GK(n,e=!0){n.checkVersion("3.9.1"),await $K(n,e),await HK(n,e)}class VK{constructor(){this.enable=!1,this.speed=0,this.decay=0,this.sync=!1}load(e){Lt(e)||(e.enable!==void 0&&(this.enable=e.enable),e.speed!==void 0&&(this.speed=ti(e.speed)),e.decay!==void 0&&(this.decay=ti(e.decay)),e.sync!==void 0&&(this.sync=e.sync))}}class WK extends ou{constructor(){super(),this.animation=new VK,this.direction=ia.clockwise,this.path=!1,this.value=0}load(e){Lt(e)||(super.load(e),e.direction!==void 0&&(this.direction=e.direction),this.animation.load(e.animation),e.path!==void 0&&(this.path=e.path))}}const O4=2,jK=Math.PI*O4,XK=1,qK=360;class YK{constructor(e){this.container=e}init(e){const t=e.options.rotate;if(!t)return;e.rotate={enable:t.animation.enable,value:vh(Kt(t.value)),min:0,max:jK},e.pathRotation=t.path;let i=t.direction;switch(i===ia.random&&(i=Math.floor(Gn()*O4)>0?ia.counterClockwise:ia.clockwise),i){case ia.counterClockwise:case"counterClockwise":e.rotate.status=ws.decreasing;break;case ia.clockwise:e.rotate.status=ws.increasing;break}const r=t.animation;r.enable&&(e.rotate.decay=XK-Kt(r.decay),e.rotate.velocity=Kt(r.speed)/qK*this.container.retina.reduceFactor,r.sync||(e.rotate.velocity*=Gn())),e.rotation=e.rotate.value}isEnabled(e){const t=e.options.rotate;return t?!e.destroyed&&!e.spawning&&(!!t.value||t.animation.enable||t.path):!1}loadOptions(e,...t){e.rotate||(e.rotate=new WK);for(const i of t)e.rotate.load(i?.rotate)}update(e,t){this.isEnabled(e)&&(e.isRotating=!!e.rotate,e.rotate&&(s0(e,e.rotate,!1,cd.none,t),e.rotation=e.rotate.value))}}async function KK(n,e=!0){n.checkVersion("3.9.1"),await n.addParticleUpdater("rotate",t=>Promise.resolve(new YK(t)),e)}const ZK=2,QK=Math.sqrt(ZK),JK=2;function eZ(n){const{context:e,radius:t}=n,i=t/QK,r=i*JK;e.rect(-i,-i,r,r)}const tZ=4;class nZ{constructor(){this.validTypes=["edge","square"]}draw(e){eZ(e)}getSidesCount(){return tZ}}async function iZ(n,e=!0){n.checkVersion("3.9.1"),await n.addShape(new nZ,e)}const rZ=2,hv={x:0,y:0};function sZ(n){const{context:e,particle:t,radius:i}=n,r=t.sides,s=t.starInset??rZ;e.moveTo(hv.x,hv.y-i);for(let o=0;o<r;o++)e.rotate(Math.PI/r),e.lineTo(hv.x,hv.y-i*s),e.rotate(Math.PI/r),e.lineTo(hv.x,hv.y-i)}const oZ=2,aZ=5;class lZ{constructor(){this.validTypes=["star"]}draw(e){sZ(e)}getSidesCount(e){const t=e.shapeData;return Math.round(Kt(t?.sides??aZ))}particleInit(e,t){const i=t.shapeData;t.starInset=Kt(i?.inset??oZ)}}async function cZ(n,e=!0){n.checkVersion("3.9.1"),await n.addShape(new lZ,e)}const uZ=1;class hZ{constructor(e,t){this._container=e,this._engine=t}init(e){const t=this._container,i=e.options,r=sa(i.stroke,e.id,i.reduceDuplicates);e.strokeWidth=Kt(r.width)*t.retina.pixelRatio,e.strokeOpacity=Kt(r.opacity??uZ),e.strokeAnimation=r.color?.animation;const s=hd(this._engine,r.color)??e.getFillColor();s&&(e.strokeColor=cM(s,e.strokeAnimation,t.retina.reduceFactor))}isEnabled(e){const t=e.strokeAnimation,{strokeColor:i}=e;return!e.destroyed&&!e.spawning&&!!t&&(i?.h.value!==void 0&&i.h.enable||i?.s.value!==void 0&&i.s.enable||i?.l.value!==void 0&&i.l.enable)}update(e,t){this.isEnabled(e)&&uM(e.strokeColor,t)}}async function dZ(n,e=!0){n.checkVersion("3.9.1"),await n.addParticleUpdater("strokeColor",t=>Promise.resolve(new hZ(t,n)),e)}async function fZ(n,e=!0){n.checkVersion("3.9.1"),await JY(n,!1),await iq(n,!1),await dq(n,!1),await bq(n,!1),await Oq(n,!1),await zq(n,!1),await Gq(n,!1),await qq(n,!1),await Qq(n,!1),await cY(n,!1),await pY(n,!1),await nK(n,!1),await hK(n,!1),await OK(n,!1),await XX(n,!1),await KX(n,!1),await zY(n,!1),await ZY(n,!1),await GK(n,!1),await iZ(n,!1),await cZ(n,!1),await XY(n,!1),await KK(n,!1),await dZ(n,!1),await jX(n,e)}const L4=2,ML=.5;function pZ(n){const{context:e,particle:t,radius:i,opacity:r}=n,s=t.shapeData;if(!s)return;const o=s.value;if(o===void 0)return;t.text===void 0&&(t.text=sa(o,t.randomIndexData));const l=t.text,a=s.style??"",u=s.weight??"400",m=Math.round(i)*L4,d=s.font??"Verdana",b=t.shapeFill,g=l?.split(`
`);if(g){e.font=`${a} ${u} ${m}px "${d}"`,e.globalAlpha=r;for(let _=0;_<g.length;_++)mZ(e,g[_],i,r,_,b);e.globalAlpha=1}}function mZ(n,e,t,i,r,s){const o=e.length*t*ML,l={x:-o,y:t*ML},a=t*L4;s?n.fillText(e,l.x,l.y+a*r):n.strokeText(e,l.x,l.y+a*r)}class gZ{constructor(){this.validTypes=["text","character","char","multiline-text"]}draw(e){pZ(e)}async init(e){const t=e.actualOptions,{validTypes:i}=this;if(i.find(r=>fs(r,t.particles.shape.type))){const r=i.map(o=>t.particles.shape.options[o]).find(o=>!!o),s=[];Ys(r,o=>{s.push(DA(o.font,o.weight))}),await Promise.all(s)}}particleInit(e,t){if(!t.shape||!this.validTypes.includes(t.shape))return;const i=t.shapeData;if(i===void 0)return;const r=i.value;r!==void 0&&(t.text=sa(r,t.randomIndexData))}}async function vZ(n,e=!0){n.checkVersion("3.9.1"),await n.addShape(new gZ,e)}var Mp;(function(n){n.clockwise="clockwise",n.counterClockwise="counter-clockwise",n.random="random"})(Mp||(Mp={}));class yZ{constructor(){this.enable=!1,this.speed=0,this.decay=0,this.sync=!1}load(e){Lt(e)||(e.enable!==void 0&&(this.enable=e.enable),e.speed!==void 0&&(this.speed=ti(e.speed)),e.decay!==void 0&&(this.decay=ti(e.decay)),e.sync!==void 0&&(this.sync=e.sync))}}class _Z extends ou{constructor(){super(),this.animation=new yZ,this.direction=Mp.clockwise,this.enable=!1,this.value=0}load(e){super.load(e),!Lt(e)&&(this.animation.load(e.animation),e.direction!==void 0&&(this.direction=e.direction),e.enable!==void 0&&(this.enable=e.enable))}}const gy=1,P4=2,bZ=Math.PI*P4,xZ=360;class SZ{constructor(e){this.container=e}getTransformValues(e){const t=e.tilt?.enable&&e.tilt;return{b:t?Math.cos(t.value)*t.cosDirection:void 0,c:t?Math.sin(t.value)*t.sinDirection:void 0}}init(e){const t=e.options.tilt;if(!t)return;e.tilt={enable:t.enable,value:vh(Kt(t.value)),sinDirection:Gn()>=_r?gy:-gy,cosDirection:Gn()>=_r?gy:-gy,min:0,max:bZ};let i=t.direction;switch(i===Mp.random&&(i=Math.floor(Gn()*P4)>0?Mp.counterClockwise:Mp.clockwise),i){case Mp.counterClockwise:case"counterClockwise":e.tilt.status=ws.decreasing;break;case Mp.clockwise:e.tilt.status=ws.increasing;break}const r=e.options.tilt?.animation;r?.enable&&(e.tilt.decay=gy-Kt(r.decay),e.tilt.velocity=Kt(r.speed)/xZ*this.container.retina.reduceFactor,r.sync||(e.tilt.velocity*=Gn()))}isEnabled(e){const t=e.options.tilt?.animation;return!e.destroyed&&!e.spawning&&!!t?.enable}loadOptions(e,...t){e.tilt||(e.tilt=new _Z);for(const i of t)e.tilt.load(i?.tilt)}async update(e,t){!this.isEnabled(e)||!e.tilt||(s0(e,e.tilt,!1,cd.none,t),await Promise.resolve())}}async function EZ(n,e=!0){n.checkVersion("3.9.1"),await n.addParticleUpdater("tilt",t=>Promise.resolve(new SZ(t)),e)}class OL{constructor(){this.enable=!1,this.frequency=.05,this.opacity=1}load(e){Lt(e)||(e.color!==void 0&&(this.color=rs.create(this.color,e.color)),e.enable!==void 0&&(this.enable=e.enable),e.frequency!==void 0&&(this.frequency=e.frequency),e.opacity!==void 0&&(this.opacity=ti(e.opacity)))}}class wZ{constructor(){this.lines=new OL,this.particles=new OL}load(e){Lt(e)||(this.lines.load(e.lines),this.particles.load(e.particles))}}class CZ{constructor(e){this._engine=e}getColorStyles(e,t,i,r){const s=e.options,o=s.twinkle;if(!o)return{};const l=o.particles,a=l.enable&&Gn()<l.frequency,u=e.options.zIndex,m=1,d=(m-e.zIndexFactor)**u.opacityRate,b=a?Kt(l.opacity)*d:r,g=hd(this._engine,l.color),_=g?Fp(g,b):void 0,p={},v=a&&_;return p.fill=v?_:void 0,p.stroke=v?_:void 0,p}async init(){await Promise.resolve()}isEnabled(e){const t=e.options,i=t.twinkle;return i?i.particles.enable:!1}loadOptions(e,...t){e.twinkle||(e.twinkle=new wZ);for(const i of t)e.twinkle.load(i?.twinkle)}async update(){await Promise.resolve()}}async function TZ(n,e=!0){n.checkVersion("3.9.1"),await n.addParticleUpdater("twinkle",()=>Promise.resolve(new CZ(n)),e)}class AZ{constructor(){this.angle=50,this.move=10}load(e){Lt(e)||(e.angle!==void 0&&(this.angle=ti(e.angle)),e.move!==void 0&&(this.move=ti(e.move)))}}class RZ{constructor(){this.distance=5,this.enable=!1,this.speed=new AZ}load(e){if(!Lt(e)&&(e.distance!==void 0&&(this.distance=ti(e.distance)),e.enable!==void 0&&(this.enable=e.enable),e.speed!==void 0))if(vl(e.speed))this.speed.load({angle:e.speed});else{const t=e.speed;t.min!==void 0?this.speed.load({angle:t}):this.speed.load(e.speed)}}}const MZ=0,OZ=2,LZ=Math.PI*OZ,PZ=60;function NZ(n,e){const{wobble:t}=n.options,{container:i,wobble:r}=n;if(!t?.enable||!r)return;const s=i.retina.reduceFactor,o=r.angleSpeed*e.factor*s,l=r.moveSpeed*e.factor*s,a=l*(n.retina.wobbleDistance??MZ)/(Ps/PZ),u=LZ,{position:m}=n;r.angle+=o,r.angle>u&&(r.angle-=u),m.x+=a*Math.cos(r.angle),m.y+=a*Math.abs(Math.sin(r.angle))}const IZ=2,DZ=Math.PI*IZ,FZ=360,BZ=10,UZ=0;class kZ{constructor(e){this.container=e}init(e){const t=e.options.wobble;t?.enable?e.wobble={angle:Gn()*DZ,angleSpeed:Kt(t.speed.angle)/FZ,moveSpeed:Kt(t.speed.move)/BZ}:e.wobble={angle:0,angleSpeed:0,moveSpeed:0},e.retina.wobbleDistance=Kt(t?.distance??UZ)*this.container.retina.pixelRatio}isEnabled(e){return!e.destroyed&&!e.spawning&&!!e.options.wobble?.enable}loadOptions(e,...t){e.wobble||(e.wobble=new RZ);for(const i of t)e.wobble.load(i?.wobble)}update(e,t){this.isEnabled(e)&&NZ(e,t)}}async function zZ(n,e=!0){n.checkVersion("3.9.1"),await n.addParticleUpdater("wobble",t=>Promise.resolve(new kZ(t)),e)}async function $Z(n,e=!0){n.checkVersion("3.9.1"),await Ij(n,!1),await Qj(n,!1),await EZ(n,!1),await TZ(n,!1),await zZ(n,!1),await vZ(n,!1),await Wj(n,!1),await bj(n,!1),await aW(n,!1),await Uj(n,!1),await Hj(n,!1),await fZ(n,e)}class HZ{constructor(){this.count=0,this.enable=!1,this.speed=0,this.decay=0,this.delay=0,this.sync=!1,this.startValue=od.random}load(e){Lt(e)||(e.count!==void 0&&(this.count=ti(e.count)),e.enable!==void 0&&(this.enable=e.enable),e.speed!==void 0&&(this.speed=ti(e.speed)),e.sync!==void 0&&(this.sync=e.sync),e.startValue!==void 0&&(this.startValue=e.startValue),e.decay!==void 0&&(this.decay=ti(e.decay)),e.delay!==void 0&&(this.delay=ti(e.delay)))}}class GZ{constructor(){this.value=0,this.animation=new HZ}load(e){Lt(e)||(this.animation.load(e.animation),e.value!==void 0&&(this.value=ti(e.value)))}}class VZ{constructor(){this.stop=0,this.value=new Bp}load(e){Lt(e)||(e.stop!==void 0&&(this.stop=e.stop),this.value=Bp.create(this.value,e.value),e.opacity!==void 0&&(this.opacity=new GZ,vl(e.opacity)?this.opacity.value=e.opacity:this.opacity.load(e.opacity)))}}class WZ{constructor(){this.count=0,this.enable=!1,this.speed=0,this.decay=0,this.delay=0,this.sync=!1}load(e){Lt(e)||(e.count!==void 0&&(this.count=ti(e.count)),e.enable!==void 0&&(this.enable=e.enable),e.speed!==void 0&&(this.speed=ti(e.speed)),e.decay!==void 0&&(this.decay=ti(e.decay)),e.delay!==void 0&&(this.delay=ti(e.delay)),e.sync!==void 0&&(this.sync=e.sync))}}class jZ{constructor(){this.value=0,this.animation=new WZ,this.direction=ia.clockwise}load(e){Lt(e)||(this.animation.load(e.animation),e.value!==void 0&&(this.value=ti(e.value)),e.direction!==void 0&&(this.direction=e.direction))}}class XZ{constructor(){this.angle=new jZ,this.colors=[],this.type=q1.random}load(e){Lt(e)||(this.angle.load(e.angle),e.colors!==void 0&&(this.colors=e.colors.map(t=>{const i=new VZ;return i.load(t),i})),e.type!==void 0&&(this.type=e.type))}}function qZ(n,e){const{gradient:t}=n;if(t){s0(n,t.angle,!1,cd.none,e);for(const i of t.colors)uM(i.value,e),i.opacity&&s0(n,i.opacity,!0,cd.none,e)}}const YZ=2,KZ=Math.PI*YZ;class ZZ{constructor(e){this._engine=e}getColorStyles(e,t,i,r){const s=e.gradient;if(!s)return{};const o=s.angle.value,l={x:0,y:0},a=0,u=s.type===q1.radial?t.createRadialGradient(l.x,l.y,a,l.x,l.y,i):t.createLinearGradient(Math.cos(o)*-i,Math.sin(o)*-i,Math.cos(o)*i,Math.sin(o)*i);for(const{stop:m,value:d,opacity:b}of s.colors)u.addColorStop(m,Fp({h:d.h.value,s:d.s.value,l:d.l.value},b?.value??r));return{fill:u}}init(e){const t=sa(e.options.gradient);if(!t)return;const{angle:i}=t,r=360,s=1;e.gradient={angle:{value:Kt(i.value),enable:i.animation.enable,velocity:Kt(i.animation.speed)/r*e.container.retina.reduceFactor,decay:s-Kt(i.animation.decay),delayTime:Kt(i.animation.delay)*Ps,max:KZ,min:0,time:0},type:t.type,colors:[]};let o=t.angle.direction;switch(o===ia.random&&(o=Gn()>_r?ia.counterClockwise:ia.clockwise),o){case ia.counterClockwise:case"counterClockwise":e.gradient.angle.status=ws.decreasing;break;case ia.clockwise:e.gradient.angle.status=ws.increasing;break}const l=e.options.reduceDuplicates;for(const a of t.colors){const u=hd(this._engine,a.value,e.id,l);if(!u)continue;const m=cM(u,a.value.animation,e.container.retina.reduceFactor),d={stop:a.stop,value:m,opacity:a.opacity?{enable:a.opacity.animation.enable,max:tu(a.opacity.value),min:r0(a.opacity.value),status:ws.increasing,value:Kt(a.opacity.value),velocity:Kt(a.opacity.animation.speed)/Sr*e.container.retina.reduceFactor,decay:s-Kt(a.opacity.animation.decay),delayTime:Kt(a.opacity.animation.delay)*Ps,time:0}:void 0},{opacity:b}=d;if(a.opacity&&b){const g=a.opacity.value;switch(b.min=r0(g),b.max=tu(g),a.opacity.animation.startValue){case od.min:b.value=b.min,b.status=ws.increasing;break;case od.max:b.value=b.max,b.status=ws.decreasing;break;case od.random:default:b.value=ra(b),b.status=Gn()>=_r?ws.increasing:ws.decreasing;break}}e.gradient.colors.push(d)}}isEnabled(e){return!e.destroyed&&!e.spawning&&(!!e.gradient?.angle.enable||(e.gradient?.colors.some(t=>t.value.h.enable||t.value.s.enable||t.value.l.enable)??!1))}loadOptions(e,...t){for(const i of t){if(!i?.gradient)continue;const r=i.gradient;r&&(e.gradient=Ys(r,s=>{const o=new XZ;return o.load(s),o}))}}update(e,t){qZ(e,t)}}async function QZ(n,e=!0){n.checkVersion("3.9.1"),await n.addParticleUpdater("gradient",()=>Promise.resolve(new ZZ(n)),e)}const JZ=.5,eQ=2;function tQ(n){const{context:e,radius:t}=n,i=t*eQ,r=t*JZ,s=t+r,o=-t,l=-t;e.moveTo(o,l+r),e.quadraticCurveTo(o,l,o+r,l),e.quadraticCurveTo(o+t,l,o+t,l+r),e.quadraticCurveTo(o+t,l,o+s,l),e.quadraticCurveTo(o+i,l,o+i,l+r),e.quadraticCurveTo(o+i,l+t,o+s,l+s),e.lineTo(o+t,l+i),e.lineTo(o+r,l+s),e.quadraticCurveTo(o,l+t,o,l+r)}class nQ{constructor(){this.validTypes=["heart"]}draw(e){tQ(e)}}async function iQ(n,e=!0){n.checkVersion("3.9.1"),await n.addShape(new nQ,e)}const FC=255;function HA(n){const e={b:0,g:0,r:0},t=60,i={h:n.h/t,s:n.s/Sr,v:n.v/Sr},r=1,s=2,o=i.v*i.s,l=o*(r-Math.abs(i.h%s-r));let a;const u={min:0,max:1},m={min:1,max:2},d={min:2,max:3},b={min:3,max:4},g={min:4,max:5},_={min:5,max:6};if(i.h>=u.min&&i.h<=u.max?a={r:o,g:l,b:0}:i.h>m.min&&i.h<=m.max?a={r:l,g:o,b:0}:i.h>d.min&&i.h<=d.max?a={r:0,g:o,b:l}:i.h>b.min&&i.h<=b.max?a={r:0,g:l,b:o}:i.h>g.min&&i.h<=g.max?a={r:l,g:0,b:o}:i.h>_.min&&i.h<=_.max&&(a={r:o,g:0,b:l}),a){const p=i.v-o;e.r=Math.floor((a.r+p)*FC),e.g=Math.floor((a.g+p)*FC),e.b=Math.floor((a.b+p)*FC)}return e}function rQ(n){return{a:n.a,...HA(n)}}class sQ{constructor(){this.key="hsv",this.stringPrefix="hsv"}handleColor(e){const t=e.value,i=t.hsv??e.value;if(i.h!==void 0&&i.v!==void 0)return HA(i)}handleRangeColor(e){const t=e.value,i=t.hsv??e.value;if(i.h!==void 0&&i.v!==void 0)return HA({h:Kt(i.h),s:Kt(i.s),v:Kt(i.v)})}parseString(e){if(!e.startsWith("hsv"))return;const t=/hsva?\(\s*(\d+)°\s*[\s,]\s*(\d+)%\s*[\s,]\s*(\d+)%\s*([\s,]\s*(0|1|0?\.\d+|(\d{1,3})%)\s*)?\)/i,i=t.exec(e),r=4,s={h:1,s:2,v:3,a:5},o=1,l=10;return i?rQ({a:i.length>r?k_(i[s.a]):o,h:parseInt(i[s.h],l),s:parseInt(i[s.s],l),v:parseInt(i[s.v],l)}):void 0}}async function oQ(n,e=!0){n.checkVersion("3.9.1"),await n.addColorManager(new sQ,e)}class aQ{constructor(){this.color=new rs,this.color.value="#ff0000",this.radius=0,this.rate=1}load(e){Lt(e)||(e.color!==void 0&&(this.color=rs.create(this.color,e.color)),this.duration=e.duration,this.infectedStage=e.infectedStage,e.radius!==void 0&&(this.radius=e.radius),e.rate!==void 0&&(this.rate=e.rate))}}class lQ{constructor(){this.cure=!1,this.delay=0,this.enable=!1,this.infections=0,this.stages=[]}load(e){Lt(e)||(e.cure!==void 0&&(this.cure=e.cure),e.delay!==void 0&&(this.delay=e.delay),e.enable!==void 0&&(this.enable=e.enable),e.infections!==void 0&&(this.infections=e.infections),e.stages!==void 0&&(this.stages=e.stages.map(t=>{const i=new aQ;return i.load(t),i})))}}const px=0,cQ=0;class uQ{constructor(e){this._nextInfectionStage=t=>{const i=this._container.actualOptions.infection,{infection:r}=t;if(!i||!r)return;const s=i.stages.length;s<=px||r.stage===void 0||(r.time=0,s<=++r.stage&&(i.cure?(delete r.stage,delete r.time):(r.stage=0,r.time=0)))},this._container=e}startInfection(e,t){const i=this._container.actualOptions.infection,{infection:r}=e;if(!i||!r)return;const s=i.stages,o=s.length;t>o||t<px||(r.delay=0,r.delayStage=t)}updateInfection(e,t){const i=this._container.actualOptions.infection,{infection:r}=e;if(!i||!r)return;const s=i.stages,o=s.length;if(r.delay!==void 0&&r.delayStage!==void 0){const l=r.delayStage;if(l>o||l<px)return;r.delay>=i.delay*Ps?(r.stage=l,r.time=0,delete r.delay,delete r.delayStage):r.delay+=t}else delete r.delay,delete r.delayStage;if(r.stage!==void 0&&r.time!==void 0){const l=s[r.stage];l.duration!==void 0&&l.duration>=cQ&&r.time>l.duration*Ps?this._nextInfectionStage(e):r.time+=t}else delete r.stage,delete r.time}updateInfectionStage(e,t){const i=this._container.actualOptions,{infection:r}=e;if(!i.infection||!r)return;const s=i.infection.stages.length;t>s||t<px||r.stage!==void 0&&r.stage>t||(r.stage=t,r.time=0)}}const hQ=0;class dQ{constructor(e){this._container=e,this._container.infecter=new uQ(this._container)}particleFillColor(e){const t=this._container.actualOptions;if(!e.infection||!t.infection)return;const i=e.infection.stage,r=t.infection,s=r.stages;return i!==void 0?s[i].color:void 0}particleStrokeColor(e){return this.particleFillColor(e)}particlesSetup(){const e=this._container.actualOptions;if(e.infection)for(let t=0;t<e.infection.infections;t++){const i=this._container.particles.filter(s=>{const o=s;return o.infection||(o.infection={}),o.infection.stage===void 0}),r=ud(i);this._container.infecter?.startInfection(r,hQ)}}}class fQ{constructor(){this.id="infection"}getPlugin(e){return Promise.resolve(new dQ(e))}loadOptions(e,t){if(!this.needsPlugin(e)&&!this.needsPlugin(t))return;let i=e.infection;i?.load===void 0&&(e.infection=i=new lQ),i.load(t?.infection)}needsPlugin(e){return e?.infection?.enable??!1}}const pQ=1,mQ=2;class gQ extends w0{constructor(e){super(e)}clear(){}init(){}interact(e,t){const i=this.container.infecter;if(!i||(i.updateInfection(e,t.value),e.infection?.stage===void 0))return;const r=this.container,s=r.actualOptions,o=s.infection;if(!o?.enable||o.stages.length<pQ)return;const l=o.stages[e.infection.stage],a=r.retina.pixelRatio,u=e.getRadius()*mQ+l.radius*a,m=e.getPosition(),d=l.infectedStage??e.infection.stage,b=r.particles.quadTree.queryCircle(m,u),g=l.rate,_=b.length;for(const p of b){const v=p;if(!(v===e||v.destroyed||v.spawning||!(v.infection?.stage===void 0||v.infection.stage!==e.infection.stage)||Gn()>=g/_)){if(v.infection?.stage===void 0)i.startInfection(v,d);else if(v.infection.stage<e.infection.stage)i.updateInfectionStage(v,d);else if(v.infection.stage>e.infection.stage){const x=o.stages[v.infection.stage]?.infectedStage??v.infection.stage;i.updateInfectionStage(e,x)}}}}isEnabled(){return this.container.actualOptions?.infection?.enable??!1}reset(){}}async function vQ(n,e=!0){n.checkVersion("3.9.1");const t=new fQ;await n.addPlugin(t,e),await n.addInteractor("particlesInfection",i=>Promise.resolve(new gQ(i)),e)}const qd={x:0,y:0},yQ=.55;function _Q(n){const{context:e,radius:t}=n,i=t*yQ;e.moveTo(qd.x,qd.y),e.bezierCurveTo(i,-t,i,t,qd.x,qd.y),e.moveTo(qd.x,qd.y),e.bezierCurveTo(-i,-t,qd.x-i,t,qd.x,qd.y)}class bQ{constructor(){this.validTypes=["infinity"]}draw(e){_Q(e)}}async function xQ(n,e=!0){n.checkVersion("3.9.1"),await n.addShape(new bQ,e)}const LL={max:1,min:0},SQ=.5,EQ=2,PL=Math.PI*SQ,N4=Math.PI*EQ,wQ=.25,CQ=Math.PI*wQ,NL=0,I4="light";function TQ(n,e,t){const i=n.actualOptions.interactivity.modes.light?.area;if(!i)return;e.beginPath(),e.arc(t.x,t.y,i.radius,NL,N4);const r=e.createRadialGradient(t.x,t.y,NL,t.x,t.y,i.radius),s=n.canvas.mouseLight;!s?.start||!s.stop||(r.addColorStop(LL.min,uc(s.start)),r.addColorStop(LL.max,uc(s.stop)),e.fillStyle=r,e.fill())}function AQ(n,e,t,i){const r=t.getPosition(),s=n.actualOptions.interactivity.modes.light?.shadow;if(!s)return;const o=t.lightShadow;if(!o)return;const l=t.getRadius(),a=t.sides,u=N4/a,m=-t.rotation+CQ,d=1,b=[];for(let w=0;w<a;w++)b.push({x:r.x+l*Math.sin(m+u*w)*d,y:r.y+l*Math.cos(m+u*w)*d});const g=[],_=s.length;for(const w of b){const T=Math.atan2(i.y-w.y,i.x-w.x),L={x:w.x+_*Math.sin(-T-PL),y:w.y+_*Math.cos(-T-PL)};g.push({end:L,start:w})}const p=uc(o),v=1,c=0,x=g.length-v;for(let w=x,T=0;w>=c;T=w--)e.beginPath(),e.moveTo(g[w].start.x,g[w].start.y),e.lineTo(g[T].start.x,g[T].start.y),e.lineTo(g[T].end.x,g[T].end.y),e.lineTo(g[w].end.x,g[w].end.y),e.fillStyle=p,e.fill()}class RQ{constructor(){this.start=new rs,this.stop=new rs,this.start.value="#ffffff",this.stop.value="#000000"}load(e){Lt(e)||(this.start=rs.create(this.start,e.start),this.stop=rs.create(this.stop,e.stop))}}class MQ{constructor(){this.gradient=new RQ,this.radius=1e3}load(e){Lt(e)||(this.gradient.load(e.gradient),e.radius!==void 0&&(this.radius=e.radius))}}let OQ=class{constructor(){this.color=new rs,this.color.value="#000000",this.length=2e3}load(e){Lt(e)||(this.color=rs.create(this.color,e.color),e.length!==void 0&&(this.length=e.length))}},LQ=class{constructor(){this.area=new MQ,this.shadow=new OQ}load(e){Lt(e)||(this.area.load(e.area),this.shadow.load(e.shadow))}};class PQ extends Fc{constructor(e,t){super(e),this._engine=t}clear(){}init(){}interact(){const e=this.container,t=e.actualOptions,i=e.interactivity;if(!t.interactivity.events.onHover.enable||i.status!=="pointermove")return;const r=i.mouse.position;r&&e.canvas.draw(s=>{TQ(e,s,r)})}isEnabled(e){const t=this.container,i=t.interactivity.mouse,r=e?.interactivity??t.actualOptions.interactivity,s=r.events;if(!(s.onHover.enable&&i.position))return!1;const o=fs(I4,s.onHover.mode);if(o&&r.modes.light){const l=r.modes.light.area.gradient;t.canvas.mouseLight={start:pl(this._engine,l.start),stop:pl(this._engine,l.stop)}}return o}loadModeOptions(e,...t){e.light||(e.light=new LQ);for(const i of t)e.light.load(i?.light)}reset(){}}class NQ extends w0{constructor(e,t){super(e),this._engine=t}clear(){}init(){}interact(e){const t=this.container,i=t.actualOptions,r=t.interactivity;if(!i.interactivity.events.onHover.enable||r.status!=="pointermove")return;const s=r.mouse.position;s&&t.canvas.draw(o=>{AQ(t,o,e,s)})}isEnabled(e){const t=this.container,i=e.interactivity??t.actualOptions.interactivity,r=t.interactivity.mouse,s=i.events;if(!(s.onHover.enable&&r.position))return!1;const o=fs(I4,s.onHover.mode);if(o&&i.modes.light){const l=i.modes.light.shadow;e.lightShadow=pl(this._engine,l.color)}return o}reset(){}}async function IQ(n,e=!0){n.checkVersion("3.9.1"),await n.addInteractor("externalLight",t=>Promise.resolve(new PQ(t,n)),e),await n.addInteractor("particlesLight",t=>Promise.resolve(new NQ(t,n)),e)}class DQ{constructor(){this.factor=4,this.value=!0}load(e){Lt(e)||(e.factor!==void 0&&(this.factor=e.factor),e.value!==void 0&&(this.value=e.value))}}class FQ{constructor(){this.disable=!0,this.reduce=new DQ}load(e){Lt(e)||(e.disable!==void 0&&(this.disable=e.disable),this.reduce.load(e.reduce))}}const IL=1,BQ=1,UQ=0,kQ=1;class zQ{constructor(e,t){this._handleMotionChange=i=>{const r=this._container,s=r.actualOptions.motion;s&&(i.matches?s.disable?r.retina.reduceFactor=UQ:r.retina.reduceFactor=s.reduce.value?kQ/s.reduce.factor:IL:r.retina.reduceFactor=BQ)},this._container=e,this._engine=t}async init(){const e=this._container,t=e.actualOptions.motion;if(!(t&&(t.disable||t.reduce.value))){e.retina.reduceFactor=1;return}const i=rM("(prefers-reduced-motion: reduce)");if(!i){e.retina.reduceFactor=IL;return}this._handleMotionChange(i);const r=()=>{(async()=>{this._handleMotionChange(i);try{await e.refresh()}catch{}})()};i.addEventListener!==void 0?i.addEventListener("change",r):i.addListener!==void 0&&i.addListener(r),await Promise.resolve()}}class $Q{constructor(e){this.id="motion",this._engine=e}getPlugin(e){return Promise.resolve(new zQ(e,this._engine))}loadOptions(e,t){if(!this.needsPlugin())return;let i=e.motion;i?.load||(e.motion=i=new FQ),i.load(t?.motion)}needsPlugin(){return!0}}async function HQ(n,e=!0){n.checkVersion("3.9.1"),await n.addPlugin(new $Q(n),e)}const GQ=new Map([["aliceblue",{r:240,g:248,b:255}],["antiquewhite",{r:250,g:235,b:215}],["aqua",{r:0,g:255,b:255}],["aquamarine",{r:127,g:255,b:212}],["azure",{r:240,g:255,b:255}],["beige",{r:245,g:245,b:220}],["bisque",{r:255,g:228,b:196}],["black",{r:0,g:0,b:0}],["blanchedalmond",{r:255,g:235,b:205}],["blue",{r:0,g:0,b:255}],["blueviolet",{r:138,g:43,b:226}],["brown",{r:165,g:42,b:42}],["burlywood",{r:222,g:184,b:135}],["cadetblue",{r:95,g:158,b:160}],["chartreuse",{r:127,g:255,b:0}],["chocolate",{r:210,g:105,b:30}],["coral",{r:255,g:127,b:80}],["cornflowerblue",{r:100,g:149,b:237}],["cornsilk",{r:255,g:248,b:220}],["crimson",{r:220,g:20,b:60}],["cyan",{r:0,g:255,b:255}],["darkblue",{r:0,g:0,b:139}],["darkcyan",{r:0,g:139,b:139}],["darkgoldenrod",{r:184,g:134,b:11}],["darkgray",{r:169,g:169,b:169}],["darkgreen",{r:0,g:100,b:0}],["darkgrey",{r:169,g:169,b:169}],["darkkhaki",{r:189,g:183,b:107}],["darkmagenta",{r:139,g:0,b:139}],["darkolivegreen",{r:85,g:107,b:47}],["darkorange",{r:255,g:140,b:0}],["darkorchid",{r:153,g:50,b:204}],["darkred",{r:139,g:0,b:0}],["darksalmon",{r:233,g:150,b:122}],["darkseagreen",{r:143,g:188,b:143}],["darkslateblue",{r:72,g:61,b:139}],["darkslategray",{r:47,g:79,b:79}],["darkslategrey",{r:47,g:79,b:79}],["darkturquoise",{r:0,g:206,b:209}],["darkviolet",{r:148,g:0,b:211}],["deeppink",{r:255,g:20,b:147}],["deepskyblue",{r:0,g:191,b:255}],["dimgray",{r:105,g:105,b:105}],["dimgrey",{r:105,g:105,b:105}],["dodgerblue",{r:30,g:144,b:255}],["firebrick",{r:178,g:34,b:34}],["floralwhite",{r:255,g:250,b:240}],["forestgreen",{r:34,g:139,b:34}],["fuchsia",{r:255,g:0,b:255}],["gainsboro",{r:220,g:220,b:220}],["ghostwhite",{r:248,g:248,b:255}],["gold",{r:255,g:215,b:0}],["goldenrod",{r:218,g:165,b:32}],["gray",{r:128,g:128,b:128}],["green",{r:0,g:128,b:0}],["greenyellow",{r:173,g:255,b:47}],["grey",{r:128,g:128,b:128}],["honeydew",{r:240,g:255,b:240}],["hotpink",{r:255,g:105,b:180}],["indianred",{r:205,g:92,b:92}],["indigo",{r:75,g:0,b:130}],["ivory",{r:255,g:255,b:240}],["khaki",{r:240,g:230,b:140}],["lavender",{r:230,g:230,b:250}],["lavenderblush",{r:255,g:240,b:245}],["lawngreen",{r:124,g:252,b:0}],["lemonchiffon",{r:255,g:250,b:205}],["lightblue",{r:173,g:216,b:230}],["lightcoral",{r:240,g:128,b:128}],["lightcyan",{r:224,g:255,b:255}],["lightgoldenrodyellow",{r:250,g:250,b:210}],["lightgray",{r:211,g:211,b:211}],["lightgreen",{r:144,g:238,b:144}],["lightgrey",{r:211,g:211,b:211}],["lightpink",{r:255,g:182,b:193}],["lightsalmon",{r:255,g:160,b:122}],["lightseagreen",{r:32,g:178,b:170}],["lightskyblue",{r:135,g:206,b:250}],["lightslategray",{r:119,g:136,b:153}],["lightslategrey",{r:119,g:136,b:153}],["lightsteelblue",{r:176,g:196,b:222}],["lightyellow",{r:255,g:255,b:224}],["lime",{r:0,g:255,b:0}],["limegreen",{r:50,g:205,b:50}],["linen",{r:250,g:240,b:230}],["magenta",{r:255,g:0,b:255}],["maroon",{r:128,g:0,b:0}],["mediumaquamarine",{r:102,g:205,b:170}],["mediumblue",{r:0,g:0,b:205}],["mediumorchid",{r:186,g:85,b:211}],["mediumpurple",{r:147,g:112,b:219}],["mediumseagreen",{r:60,g:179,b:113}],["mediumslateblue",{r:123,g:104,b:238}],["mediumspringgreen",{r:0,g:250,b:154}],["mediumturquoise",{r:72,g:209,b:204}],["mediumvioletred",{r:199,g:21,b:133}],["midnightblue",{r:25,g:25,b:112}],["mintcream",{r:245,g:255,b:250}],["mistyrose",{r:255,g:228,b:225}],["moccasin",{r:255,g:228,b:181}],["navajowhite",{r:255,g:222,b:173}],["navy",{r:0,g:0,b:128}],["oldlace",{r:253,g:245,b:230}],["olive",{r:128,g:128,b:0}],["olivedrab",{r:107,g:142,b:35}],["orange",{r:255,g:165,b:0}],["orangered",{r:255,g:69,b:0}],["orchid",{r:218,g:112,b:214}],["palegoldenrod",{r:238,g:232,b:170}],["palegreen",{r:152,g:251,b:152}],["paleturquoise",{r:175,g:238,b:238}],["palevioletred",{r:219,g:112,b:147}],["papayawhip",{r:255,g:239,b:213}],["peachpuff",{r:255,g:218,b:185}],["peru",{r:205,g:133,b:63}],["pink",{r:255,g:192,b:203}],["plum",{r:221,g:160,b:221}],["powderblue",{r:176,g:224,b:230}],["purple",{r:128,g:0,b:128}],["rebeccapurple",{r:102,g:51,b:153}],["red",{r:255,g:0,b:0}],["rosybrown",{r:188,g:143,b:143}],["royalblue",{r:65,g:105,b:225}],["saddlebrown",{r:139,g:69,b:19}],["salmon",{r:250,g:128,b:114}],["sandybrown",{r:244,g:164,b:96}],["seagreen",{r:46,g:139,b:87}],["seashell",{r:255,g:245,b:238}],["sienna",{r:160,g:82,b:45}],["silver",{r:192,g:192,b:192}],["skyblue",{r:135,g:206,b:235}],["slateblue",{r:106,g:90,b:205}],["slategray",{r:112,g:128,b:144}],["slategrey",{r:112,g:128,b:144}],["snow",{r:255,g:250,b:250}],["springgreen",{r:0,g:255,b:127}],["steelblue",{r:70,g:130,b:180}],["tan",{r:210,g:180,b:140}],["teal",{r:0,g:128,b:128}],["thistle",{r:216,g:191,b:216}],["tomato",{r:255,g:99,b:71}],["turquoise",{r:64,g:224,b:208}],["violet",{r:238,g:130,b:238}],["wheat",{r:245,g:222,b:179}],["white",{r:255,g:255,b:255}],["whitesmoke",{r:245,g:245,b:245}],["yellow",{r:255,g:255,b:0}],["yellowgreen",{r:154,g:205,b:50}]]);class VQ{constructor(){this.key="named",this.stringPrefix=""}handleColor(e){return this._parseString(e.value)}handleRangeColor(e){return this._parseString(e.value)}parseString(e){return this._parseString(e)}_parseString(e){if(!e||typeof e!="string")return;const t=GQ.get(e.toLowerCase());if(!t){Sf().error("Color not found",e);return}return{...t,a:255}}}async function WQ(n,e=!0){n.checkVersion("3.9.1"),await n.addColorManager(new VQ,e)}const Qv=255,D4=360;function GA(n){const e=n.l/Sr,t=n.c,i=n.h/D4,r={r:0,g:0,b:0};return r.r=Math.floor(e*Qv),r.g=Math.floor(t*Qv),r.b=Math.floor(i*Qv),r}function jQ(n){return{a:n.a,...GA(n)}}function VA(n){const e=n.l/Sr,t=n.c/Sr,i=n.h/D4,r={r:0,g:0,b:0};return r.r=Math.floor(e*Qv),r.g=Math.floor(t*Qv),r.b=Math.floor(i*Qv),r}function XQ(n){return{a:n.a,...VA(n)}}class qQ{constructor(){this.key="lch",this.stringPrefix="lch"}handleColor(e){const t=e.value,i=t.lch??e.value;if(i.l!==void 0&&i.c!==void 0&&i.h!==void 0)return GA(i)}handleRangeColor(e){const t=e.value,i=t.lch??e.value;if(i.l!==void 0&&i.c!==void 0&&i.h!==void 0)return GA({l:Kt(i.l),c:Kt(i.c),h:Kt(i.h)})}parseString(e){if(!e.startsWith("lch"))return;const i=/lch\(\s*(\d+(\.\d+)?)%\s+(\d+(\.\d+)?)\s+(\d+(\.\d+)?)(?:\s*\/\s*(0|1|0?\.\d+|\d{1,3}%))?\s*\)/i,r=i.exec(e),s={l:1,c:3,h:5,a:7};return r?jQ({a:r[s.a]?k_(r[s.a]):1,c:parseFloat(r[s.c]),h:parseFloat(r[s.h]),l:parseFloat(r[s.l])}):void 0}}class YQ{constructor(){this.key="oklch",this.stringPrefix="oklch"}handleColor(e){const t=e.value,i=t.oklch??e.value;if(i.l!==void 0&&i.c!==void 0&&i.h!==void 0)return VA(i)}handleRangeColor(e){const t=e.value,i=t.oklch??e.value;if(i.l!==void 0&&i.c!==void 0&&i.h!==void 0)return VA({l:Kt(i.l),c:Kt(i.c),h:Kt(i.h)})}parseString(e){if(!e.startsWith("oklch"))return;const i=/oklch\(\s*(\d+(\.\d+)?)%\s+(\d+(\.\d+)?)\s+(\d+(\.\d+)?)(°)?(?:\s*\/\s*(0|1|0?\.\d+|\d{1,3}%))?\s*\)/i,r=i.exec(e),s={l:1,c:3,h:5,a:7};return r?XQ({a:r[s.a]?k_(r[s.a]):1,c:parseFloat(r[s.c]),h:parseFloat(r[s.h]),l:parseFloat(r[s.l])}):void 0}}async function KQ(n,e=!0){n.checkVersion("3.9.1"),await n.addColorManager(new YQ,e),await n.addColorManager(new qQ,e)}class ZQ extends ou{constructor(){super(),this.value=45}load(e){Lt(e)||super.load(e)}}class QQ{constructor(){this.animation=new xE,this.enable=!1,this.opacity=1,this.rotation=new ZQ,this.width=1}load(e){Lt(e)||(this.animation.load(e.animation),this.rotation.load(e.rotation),e.enable!==void 0&&(this.enable=e.enable),e.opacity!==void 0&&(this.opacity=ti(e.opacity)),e.width!==void 0&&(this.width=ti(e.width)),e.radius!==void 0&&(this.radius=ti(e.radius)),e.color!==void 0&&(this.color=rs.create(this.color,e.color)))}}var $v;(function(n){n.front="front",n.back="back"})($v||($v={}));const JQ=0,eJ=.5,tJ=2;function nJ(n,e,t,i,r,s,o,l,a){if(s<=JQ)return;const u=e.getPosition();t&&(n.strokeStyle=Fp(t,r)),n.lineWidth=s;const m=vh(o);n.beginPath(),n.ellipse(u.x,u.y,i*eJ,i*tJ,m,l,a),n.stroke()}const iJ=2,rJ=.5,DL=Math.PI*iJ,FL=0,WA=Math.PI*rJ,BL=Math.PI+WA,sJ=0,oJ=1,aJ=1,UL=0;class lJ{constructor(e,t){this._engine=t,this._container=e}afterDraw(e){e.options.orbit?.enable&&this.drawOrbit(e,$v.front)}beforeDraw(e){e.options.orbit?.enable&&this.drawOrbit(e,$v.back)}drawOrbit(e,t){const i=this._container;let r,s;switch(t){case $v.back:r=WA,s=BL;break;case $v.front:r=BL,s=WA;break;default:r=sJ,s=DL}i.canvas.draw(o=>{nJ(o,e,e.orbitColor??e.getFillColor(),e.retina.orbitRadius??i.retina.orbitRadius??e.getRadius(),e.orbitOpacity??oJ,e.orbitWidth??aJ,(e.orbitRotation??UL)*i.retina.pixelRatio,r,s)})}init(e){const t=this._container,i=e.options,r=i.orbit;r?.enable&&(e.orbitRotation=Kt(r.rotation.value),e.orbitColor=hd(this._engine,r.color),e.retina.orbitRadius=r.radius!==void 0?Kt(r.radius)*t.retina.pixelRatio:void 0,t.retina.orbitRadius=e.retina.orbitRadius,e.orbitAnimationSpeed=r.animation.enable?Kt(r.animation.speed):FL,e.orbitWidth=Kt(r.width),e.orbitOpacity=Kt(r.opacity))}isEnabled(e){const t=e.options.orbit?.animation;return!e.destroyed&&!e.spawning&&!!t?.enable}loadOptions(e,...t){e.orbit||(e.orbit=new QQ);for(const i of t)e.orbit.load(i?.orbit)}update(e,t){this.isEnabled(e)&&(e.orbitRotation===void 0&&(e.orbitRotation=UL),e.orbitRotation+=(e.orbitAnimationSpeed??FL/DL)*t.factor)}}async function cJ(n,e=!0){n.checkVersion("3.9.1"),await n.addParticleUpdater("orbit",t=>Promise.resolve(new lJ(t,n)),e)}class uJ extends ou{constructor(){super(),this.enabled=!1,this.distance=1,this.duration=1,this.factor=1,this.speed=1}load(e){super.load(e),!Lt(e)&&(e.enabled!==void 0&&(this.enabled=e.enabled),e.distance!==void 0&&(this.distance=ti(e.distance)),e.duration!==void 0&&(this.duration=ti(e.duration)),e.factor!==void 0&&(this.factor=ti(e.factor)),e.speed!==void 0&&(this.speed=ti(e.speed)))}}const hJ=0,dJ=1,fJ=2,pJ=0;class mJ extends w0{constructor(e){super(e)}clear(){}init(){}interact(e){const t=this.container;if(!e.repulse){const s=e.options.repulse;if(!s)return;e.repulse={distance:Kt(s.distance)*t.retina.pixelRatio,speed:Kt(s.speed),factor:Kt(s.factor)}}const i=e.getPosition(),r=t.particles.quadTree.queryCircle(i,e.repulse.distance);for(const s of r){if(e===s||s.destroyed)continue;const o=s.getPosition(),{dx:l,dy:a,distance:u}=aa(o,i),m=e.repulse.speed*e.repulse.factor;if(u>hJ){const d=Ic((dJ-Math.pow(u/e.repulse.distance,fJ))*m,pJ,m),b=Lr.create(l/u*d,a/u*d);s.position.addTo(b)}else{const d=Lr.create(m,m);s.position.addTo(d)}}}isEnabled(e){return e.options.repulse?.enabled??!1}loadParticlesOptions(e,...t){e.repulse||(e.repulse=new uJ);for(const i of t)e.repulse.load(i?.repulse)}reset(){}}async function gJ(n,e=!0){n.checkVersion("3.9.1"),await n.addInteractor("particlesRepulse",t=>Promise.resolve(new mJ(t)),e)}var Nu;(function(n){n.line="line",n.bezier="bezier",n.quadratic="quadratic",n.arc="arc",n.ellipse="ellipse"})(Nu||(Nu={}));function vJ(n,e,t){const r=t.segments[0],s=r.values[0];n.moveTo(s.x*e,s.y*e);for(const a of t.segments){const u=a.values[0],m=1,d=2,b=3;switch(a.type){case Nu.line:n.lineTo(u.x*e,u.y*e);break;case Nu.bezier:n.bezierCurveTo(a.values[m].x*e,a.values[m].y*e,a.values[d].x*e,a.values[d].y*e,a.values[b].x*e,a.values[b].y*e);break;case Nu.quadratic:n.quadraticCurveTo(a.values[m].x*e,a.values[m].y*e,a.values[d].x*e,a.values[d].y*e);break;case Nu.arc:n.arc(u.x*e,u.y*e,a.values[m].x*e,a.values[d].x,a.values[d].y);break;case Nu.ellipse:n.ellipse(u.x*e,u.y*e,a.values[m].x*e,a.values[m].y*e,a.values[d].x,a.values[b].x,a.values[b].y)}}if(!t.half)return;const o=1,l=0;for(let a=t.segments.length-o;a>=l;a--){const u=t.segments[a],m=u.values[0],d=1,b=2;switch(u.type){case Nu.line:n.lineTo(m.x*-e,m.y*e);break;case Nu.bezier:n.bezierCurveTo(-u.values[b].x*e,u.values[b].y*e,-u.values[d].x*e,u.values[d].y*e,m.x*e,m.y*e);break;case Nu.quadratic:n.quadraticCurveTo(-u.values[d].x*e,u.values[d].y*e,-u.values[b].x*e,u.values[b].y*e);break;case Nu.arc:case Nu.ellipse:}}}class yJ{constructor(){this.validTypes=["path"]}draw(e){const{context:t,particle:i,radius:r}=e;i.pathData&&vJ(t,r,i.pathData)}particleInit(e,t){const i=t.shapeData;i&&(t.pathData=ss({},i))}}async function _J(n,e=!0){n.checkVersion("3.9.1"),await n.addShape(new yJ,e)}class ns{constructor(e,t,i,r){this.x=e,this.y=t,this.z=i,this.w=r}dot2(e,t){return this.x*e+this.y*t}dot3(e,t,i){return this.dot2(e,t)+this.z*i}dot4(e,t,i,r){return this.dot3(e,t,i)+this.w*r}}class bJ{constructor(){this._grad4=[new ns(0,1,1,1),new ns(0,1,1,-1),new ns(0,1,-1,1),new ns(0,1,-1,-1),new ns(0,-1,1,1),new ns(0,-1,1,-1),new ns(0,-1,-1,1),new ns(0,-1,-1,-1),new ns(1,0,1,1),new ns(1,0,1,-1),new ns(1,0,-1,1),new ns(1,0,-1,-1),new ns(-1,0,1,1),new ns(-1,0,1,-1),new ns(-1,0,-1,1),new ns(-1,0,-1,-1),new ns(1,1,0,1),new ns(1,1,0,-1),new ns(1,-1,0,1),new ns(1,-1,0,-1),new ns(-1,1,0,1),new ns(-1,1,0,-1),new ns(-1,-1,0,1),new ns(-1,-1,0,-1),new ns(1,1,1,0),new ns(1,1,-1,0),new ns(1,-1,1,0),new ns(1,-1,-1,0),new ns(-1,1,1,0),new ns(-1,1,-1,0),new ns(-1,-1,1,0),new ns(-1,-1,-1,0)],this._p=[151,160,137,91,90,15,131,13,201,95,96,53,194,233,7,225,140,36,103,30,69,142,8,99,37,240,21,10,23,190,6,148,247,120,234,75,0,26,197,62,94,252,219,203,117,35,11,32,57,177,33,88,237,149,56,87,174,20,125,136,171,168,68,175,74,165,71,134,139,48,27,166,77,146,158,231,83,111,229,122,60,211,133,230,220,105,92,41,55,46,245,40,244,102,143,54,65,25,63,161,1,216,80,73,209,76,132,187,208,89,18,169,200,196,135,130,116,188,159,86,164,100,109,198,173,186,3,64,52,217,226,250,124,123,5,202,38,147,118,126,255,82,85,212,207,206,59,227,47,16,58,17,182,189,28,42,223,183,170,213,119,248,152,2,44,154,163,70,221,153,101,155,167,43,172,9,129,22,39,253,19,98,108,110,79,113,224,232,178,185,112,104,218,246,97,228,251,34,242,193,238,210,144,12,191,179,162,241,81,51,145,235,249,14,239,107,49,192,214,31,181,199,106,157,184,84,204,176,115,121,50,45,127,4,150,254,138,236,205,93,222,114,67,29,24,72,243,141,128,195,78,66,215,61,156,180],this._gradP=new Array(512),this._perm=new Array(512)}noise2d(e,t){const{_gradP:i,_perm:r}=this;let s=Math.floor(e),o=Math.floor(t);e-=s,t-=o,s&=255,o&=255;const l=i[s+r[o]].dot2(e,t),a=i[s+r[o+1]].dot2(e,t-1),u=i[s+1+r[o]].dot2(e-1,t),m=i[s+1+r[o+1]].dot2(e-1,t-1),d=this._fade(e);return this._lerp(this._lerp(l,u,d),this._lerp(a,m,d),this._fade(t))}noise3d(e,t,i){const{_gradP:r,_perm:s}=this;let o=Math.floor(e),l=Math.floor(t),a=Math.floor(i);e=e-o,t=t-l,i=i-a,o=o&255,l=l&255,a=a&255;const u=r[o+s[l+s[a]]].dot3(e,t,i),m=r[o+s[l+s[a+1]]].dot3(e,t,i-1),d=r[o+s[l+1+s[a]]].dot3(e,t-1,i),b=r[o+s[l+1+s[a+1]]].dot3(e,t-1,i-1),g=r[o+1+s[l+s[a]]].dot3(e-1,t,i),_=r[o+1+s[l+s[a+1]]].dot3(e-1,t,i-1),p=r[o+1+s[l+1+s[a]]].dot3(e-1,t-1,i),v=r[o+1+s[l+1+s[a+1]]].dot3(e-1,t-1,i-1),c=this._fade(e),x=this._fade(t),w=this._fade(i);return this._lerp(this._lerp(this._lerp(u,g,c),this._lerp(m,_,c),w),this._lerp(this._lerp(d,p,c),this._lerp(b,v,c),w),x)}noise4d(e,t,i,r){const{_gradP:s,_perm:o}=this;let l=Math.floor(e),a=Math.floor(t),u=Math.floor(i),m=Math.floor(r);e-=l,t-=a,i-=u,r-=m,l&=255,a&=255,u&=255,m&=255;const d=this._fade(e),b=this._fade(t),g=this._fade(i),_=this._fade(r),p=(ot,dn,mn,pn)=>s[l+ot+o[a+dn+o[u+mn+o[m+pn]]]],v=p(0,0,0,0).dot4(e,t,i,r),c=p(0,0,0,1).dot4(e,t,i,r-1),x=p(0,0,1,0).dot4(e,t,i-1,r),w=p(0,0,1,1).dot4(e,t,i-1,r-1),T=p(0,1,0,0).dot4(e,t-1,i,r),L=p(0,1,0,1).dot4(e,t-1,i,r-1),P=p(0,1,1,0).dot4(e,t-1,i-1,r),C=p(0,1,1,1).dot4(e,t-1,i-1,r-1),I=p(1,0,0,0).dot4(e-1,t,i,r),F=p(1,0,0,1).dot4(e-1,t,i,r-1),R=p(1,0,1,0).dot4(e-1,t,i-1,r),D=p(1,0,1,1).dot4(e-1,t,i-1,r-1),G=p(1,1,0,0).dot4(e-1,t-1,i,r),j=p(1,1,0,1).dot4(e-1,t-1,i,r-1),k=p(1,1,1,0).dot4(e-1,t-1,i-1,r),V=p(1,1,1,1).dot4(e-1,t-1,i-1,r-1),H=this._lerp(v,I,d),te=this._lerp(c,F,d),ne=this._lerp(x,R,d),he=this._lerp(w,D,d),ie=this._lerp(H,ne,g),ce=this._lerp(te,he,g),Se=this._lerp(T,G,d),Ee=this._lerp(L,j,d),me=this._lerp(P,k,d),le=this._lerp(C,V,d),we=this._lerp(Se,me,g),Re=this._lerp(Ee,le,g),Fe=this._lerp(ie,we,b),qe=this._lerp(ce,Re,b);return this._lerp(Fe,qe,_)}seed(e){const{_grad4:t,_gradP:i,_perm:r,_p:s}=this;let o=e;o>0&&o<1&&(o*=65536),o=Math.floor(o),o<256&&(o|=o<<8);const l=t.length;for(let a=0;a<256;a++){const u=a&1?s[a]^o&255:s[a]^o>>8&255;r[a]=r[a+256]=u,i[a]=i[a+256]=t[u%l]}}_fade(e){return e*e*e*(e*(e*6-15)+10)}_lerp(e,t,i){return(1-i)*e+i*t}}const xJ=2,SJ=Math.PI*xJ,fp={draw:!1,size:20,increment:.004,columns:0,rows:0,layers:0,width:0,height:0,factor:{angle:.02,length:.01},offset:{x:4e4,y:4e4,z:4e4}};class EJ{constructor(){this.noiseGen=new bJ,this.field=[],this.noiseW=0,this.options=ss({},fp)}generate(e){const t=e.getPosition(),{size:i}=this.options,r={x:Math.max(Math.floor(t.x/i),0),y:Math.max(Math.floor(t.y/i),0),z:Math.max(Math.floor(t.z/i),0)},s=Lr.origin,{field:o}=this;return o?.[r.x]?.[r.y]?.[r.z]?o[r.x][r.y][r.z].copy():s}init(e){this.container=e,this._setup()}reset(){}update(){this.container&&(this._calculateField(),this.noiseW+=this.options.increment,this.options.draw&&this.container.canvas.draw(e=>this._drawField(e)))}_calculateField(){const{field:e,noiseGen:t,options:i,noiseW:r}=this,s=i.factor.length,o=i.factor.angle;for(let l=0;l<i.columns;l++)for(let a=0;a<i.rows;a++)for(let u=0;u<i.layers;u++){const m=e[l][a][u];m.length=t.noise4d(l*s+i.offset.x,a*s+i.offset.y,u*s+i.offset.z,r),m.angle=t.noise4d(l*o,a*o,u*o,r)*SJ}}_drawField(e){const{field:t,options:i}=this;for(let r=0;r<i.columns;r++){const s=t[r];for(let o=0;o<i.rows;o++){const l=s[o][0],{angle:a,length:u}=l;e.setTransform(1,0,0,1,r*this.options.size,o*this.options.size),e.rotate(a),e.strokeStyle="white",e.beginPath(),e.moveTo(0,0),e.lineTo(0,this.options.size*u),e.stroke(),e.setTransform(1,0,0,1,0,0)}}}_initField(){const{columns:e,rows:t,layers:i}=this.options;this.field=new Array(e);for(let r=0;r<e;r++){this.field[r]=new Array(t);for(let s=0;s<t;s++){this.field[r][s]=new Array(i);for(let o=0;o<i;o++)this.field[r][s][o]=Lr.origin}}}_resetField(){const e=this.container;if(!e)return;const t=e.actualOptions.particles.move.path.options,{options:i}=this;i.width=e.canvas.size.width,i.height=e.canvas.size.height,i.size=t.size>0?t.size:fp.size,i.increment=t.increment>0?t.increment:fp.increment,i.draw=!!t.draw;const r=t.offset;i.offset.x=r?.x??fp.offset.x,i.offset.y=r?.y??fp.offset.y,i.offset.z=r?.z??fp.offset.z;const s=t.factor;i.factor.angle=s?.angle??fp.factor.angle,i.factor.length=s?.length??fp.factor.length,i.seed=t.seed,this.noiseGen.seed(i.seed??Gn()),i.columns=Math.floor(i.width/i.size)+1,i.rows=Math.floor(i.height/i.size)+1,i.layers=Math.floor(e.zLayers/i.size)+1,this._initField()}_setup(){this.noiseW=0,this._resetField(),addEventListener("resize",()=>this._resetField())}}const wJ="perlinNoise";async function CJ(n,e=!0){n.checkVersion("3.9.1"),await n.addPathGenerator(wJ,new EJ,e)}class TJ{constructor(){this.enable=!1,this.dimensions=2,this.radius=0,this.retries=30,this.steps=0}load(e){Lt(e)||(e.enable!==void 0&&(this.enable=e.enable),e.dimensions!==void 0&&(this.dimensions=e.dimensions),e.radius!==void 0&&(this.radius=e.radius),e.retries!==void 0&&(this.retries=e.retries))}}const F4=2,AJ=Math.PI*F4;class RJ{constructor(e,t,i,r,s){this.size={...e},this.radius=t,this.retries=i,this.dimensions=r,this.cellSize=Math.floor(this.radius/Math.sqrt(this.dimensions)),this.cols=Math.floor(this.size.width/this.cellSize),this.rows=Math.floor(this.size.height/this.cellSize),this.points=[],this.active=[],this.grid=[],this.firstPoint=s?{...s}:void 0,this.reset()}addPoint(e){const t={position:{...e},gridPosition:{x:Math.floor(e.x/this.cellSize),y:Math.floor(e.y/this.cellSize)}},i=this.points.length;this.points.push(t),this.grid[t.gridPosition.y][t.gridPosition.x]=i,this.active.push(i)}getRandom(e,t){return Math.floor(Gn()*(t-e))+e}initialiseGrid(){for(let e=0;e<=this.rows;e++){this.grid[e]=[];for(let t=0;t<=this.cols;t++)this.grid[e][t]=-1}}reset(){this.points=[],this.active=[],this.grid=[],this.initialiseGrid(),this.firstPoint?this.addPoint(this.firstPoint):this.addPoint({x:this.getRandom(0,this.size.width),y:this.getRandom(0,this.size.height)})}async run(){this.reset();const e=0,t=1;for(;this.active.length>e;)await this.steps(t)}async steps(e){for(let i=0;i<e;i++)this.active.length<=0||await this._step()}_getNewPoint(e,t){const o=t*(AJ/this.retries),l=this.getRandom(this.radius,this.radius*F4),a={x:Math.cos(o)*l,y:Math.sin(o)*l},u={x:Math.floor(e.position.x+a.x),y:Math.floor(e.position.y+a.y)},m={x:Math.floor(u.x/this.cellSize),y:Math.floor(u.y/this.cellSize)};if(u.x>0&&u.x<this.size.width&&u.y>0&&u.y<this.size.height)if(this.grid[m.y][m.x]<0)for(let d=-1;d<=1;d++)for(let b=-1;b<=1;b++){const g={x:m.x+b,y:m.y+d};if(g.x>=0&&g.y>=0&&g.x<this.cols&&g.y<this.rows&&(g.x!==m.x||g.y!==m.y)&&this.grid[g.y][g.x]>=0){const _=this.grid[g.y][g.x],p=this.points[_];if(fl(u,p.position)<this.radius)return}}else return;else return;return u}async _step(){const t=this.getRandom(0,this.active.length);return new Promise(i=>{let r=!1;for(let s=0;s<this.retries;s++){const o=this._getNewPoint(this.points[this.active[t]],s);if(o){r=!0,this.addPoint(o);break}}r||this.active.splice(t,1),i()})}}class MJ{constructor(e,t){this._container=e,this._engine=t,this._currentIndex=0}async init(){await this._initData()}particlePosition(e){const t=this._container,i=t.actualOptions.poisson;if(!(!this.poissonDisc||!(i?.enable??!1)||this._currentIndex>=this.poissonDisc.points.length))return e??this.poissonDisc?.points[this._currentIndex++]?.position}resize(){const e=this._container;if(!(e.actualOptions.poisson?.enable??!1))return;this.redrawTimeout&&clearTimeout(this.redrawTimeout);const i=250;this.redrawTimeout=setTimeout(()=>{(async()=>(await this._initData(),await e.particles.redraw()))()},i)}stop(){delete this.poissonDisc}async _initData(){const e=this._container,t=e.actualOptions.poisson,i=e.actualOptions.particles,r=e.canvas.size,s=e.retina.pixelRatio;if(!t?.enable)return;this._currentIndex=0,this.poissonDisc=new RJ(r,t.radius?t.radius*s:Math.max(tu(i.size.value)*s,Math.sqrt(r.width*r.height/i.number.value)),t.retries,t.dimensions),t.steps>0?await this.poissonDisc.steps(t.steps):await this.poissonDisc.run()}}class OJ{constructor(e){this.id="poisson",this._engine=e}getPlugin(e){return Promise.resolve(new MJ(e,this._engine))}loadOptions(e,t){if(!this.needsPlugin(e)&&!this.needsPlugin(t))return;let i=e.poisson;i?.load===void 0&&(e.poisson=i=new TJ),i.load(t?.poisson)}needsPlugin(e){return e?.poisson?.enable??!1}}async function LJ(n,e=!0){n.checkVersion("3.9.1"),await n.addPlugin(new OJ(n),e)}(function(){try{if(typeof window>"u")return;"SVGPathSeg"in window||(window.SVGPathSeg=function(n,e,t){this.pathSegType=n,this.pathSegTypeAsLetter=e,this._owningPathSegList=t},window.SVGPathSeg.prototype.classname="SVGPathSeg",window.SVGPathSeg.PATHSEG_UNKNOWN=0,window.SVGPathSeg.PATHSEG_CLOSEPATH=1,window.SVGPathSeg.PATHSEG_MOVETO_ABS=2,window.SVGPathSeg.PATHSEG_MOVETO_REL=3,window.SVGPathSeg.PATHSEG_LINETO_ABS=4,window.SVGPathSeg.PATHSEG_LINETO_REL=5,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS=6,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL=7,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS=8,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL=9,window.SVGPathSeg.PATHSEG_ARC_ABS=10,window.SVGPathSeg.PATHSEG_ARC_REL=11,window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS=12,window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL=13,window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS=14,window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL=15,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS=16,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL=17,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS=18,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL=19,window.SVGPathSeg.prototype._segmentChanged=function(){this._owningPathSegList&&this._owningPathSegList.segmentChanged(this)},window.SVGPathSegClosePath=function(n){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CLOSEPATH,"z",n)},window.SVGPathSegClosePath.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegClosePath.prototype.toString=function(){return"[object SVGPathSegClosePath]"},window.SVGPathSegClosePath.prototype._asPathString=function(){return this.pathSegTypeAsLetter},window.SVGPathSegClosePath.prototype.clone=function(){return new window.SVGPathSegClosePath(void 0)},window.SVGPathSegMovetoAbs=function(n,e,t){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_MOVETO_ABS,"M",n),this._x=e,this._y=t},window.SVGPathSegMovetoAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegMovetoAbs.prototype.toString=function(){return"[object SVGPathSegMovetoAbs]"},window.SVGPathSegMovetoAbs.prototype._asPathString=function(){return`${this.pathSegTypeAsLetter} ${this._x} ${this._y}`},window.SVGPathSegMovetoAbs.prototype.clone=function(){return new window.SVGPathSegMovetoAbs(void 0,this._x,this._y)},Object.defineProperty(window.SVGPathSegMovetoAbs.prototype,"x",{get:function(){return this._x},set:function(n){this._x=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegMovetoAbs.prototype,"y",{get:function(){return this._y},set:function(n){this._y=n,this._segmentChanged()},enumerable:!0}),window.SVGPathSegMovetoRel=function(n,e,t){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_MOVETO_REL,"m",n),this._x=e,this._y=t},window.SVGPathSegMovetoRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegMovetoRel.prototype.toString=function(){return"[object SVGPathSegMovetoRel]"},window.SVGPathSegMovetoRel.prototype._asPathString=function(){return`${this.pathSegTypeAsLetter} ${this._x} ${this._y}`},window.SVGPathSegMovetoRel.prototype.clone=function(){return new window.SVGPathSegMovetoRel(void 0,this._x,this._y)},Object.defineProperty(window.SVGPathSegMovetoRel.prototype,"x",{get:function(){return this._x},set:function(n){this._x=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegMovetoRel.prototype,"y",{get:function(){return this._y},set:function(n){this._y=n,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoAbs=function(n,e,t){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_LINETO_ABS,"L",n),this._x=e,this._y=t},window.SVGPathSegLinetoAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegLinetoAbs.prototype.toString=function(){return"[object SVGPathSegLinetoAbs]"},window.SVGPathSegLinetoAbs.prototype._asPathString=function(){return`${this.pathSegTypeAsLetter} ${this._x} ${this._y}`},window.SVGPathSegLinetoAbs.prototype.clone=function(){return new window.SVGPathSegLinetoAbs(void 0,this._x,this._y)},Object.defineProperty(window.SVGPathSegLinetoAbs.prototype,"x",{get:function(){return this._x},set:function(n){this._x=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegLinetoAbs.prototype,"y",{get:function(){return this._y},set:function(n){this._y=n,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoRel=function(n,e,t){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_LINETO_REL,"l",n),this._x=e,this._y=t},window.SVGPathSegLinetoRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegLinetoRel.prototype.toString=function(){return"[object SVGPathSegLinetoRel]"},window.SVGPathSegLinetoRel.prototype._asPathString=function(){return`${this.pathSegTypeAsLetter} ${this._x} ${this._y}`},window.SVGPathSegLinetoRel.prototype.clone=function(){return new window.SVGPathSegLinetoRel(void 0,this._x,this._y)},Object.defineProperty(window.SVGPathSegLinetoRel.prototype,"x",{get:function(){return this._x},set:function(n){this._x=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegLinetoRel.prototype,"y",{get:function(){return this._y},set:function(n){this._y=n,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoCubicAbs=function(n,e,t,i,r,s,o){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS,"C",n),this._x=e,this._y=t,this._x1=i,this._y1=r,this._x2=s,this._y2=o},window.SVGPathSegCurvetoCubicAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoCubicAbs.prototype.toString=function(){return"[object SVGPathSegCurvetoCubicAbs]"},window.SVGPathSegCurvetoCubicAbs.prototype._asPathString=function(){return`${this.pathSegTypeAsLetter}  ${this._x1} ${this._y1} ${this._x2} ${this._y2} ${this._x} ${this._y}`},window.SVGPathSegCurvetoCubicAbs.prototype.clone=function(){return new window.SVGPathSegCurvetoCubicAbs(void 0,this._x,this._y,this._x1,this._y1,this._x2,this._y2)},Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype,"x",{get:function(){return this._x},set:function(n){this._x=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype,"y",{get:function(){return this._y},set:function(n){this._y=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype,"x1",{get:function(){return this._x1},set:function(n){this._x1=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype,"y1",{get:function(){return this._y1},set:function(n){this._y1=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype,"x2",{get:function(){return this._x2},set:function(n){this._x2=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype,"y2",{get:function(){return this._y2},set:function(n){this._y2=n,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoCubicRel=function(n,e,t,i,r,s,o){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL,"c",n),this._x=e,this._y=t,this._x1=i,this._y1=r,this._x2=s,this._y2=o},window.SVGPathSegCurvetoCubicRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoCubicRel.prototype.toString=function(){return"[object SVGPathSegCurvetoCubicRel]"},window.SVGPathSegCurvetoCubicRel.prototype._asPathString=function(){return`${this.pathSegTypeAsLetter} ${this._x1} ${this._y1} ${this._x2} ${this._y2} ${this._x} ${this._y}`},window.SVGPathSegCurvetoCubicRel.prototype.clone=function(){return new window.SVGPathSegCurvetoCubicRel(void 0,this._x,this._y,this._x1,this._y1,this._x2,this._y2)},Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype,"x",{get:function(){return this._x},set:function(n){this._x=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype,"y",{get:function(){return this._y},set:function(n){this._y=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype,"x1",{get:function(){return this._x1},set:function(n){this._x1=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype,"y1",{get:function(){return this._y1},set:function(n){this._y1=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype,"x2",{get:function(){return this._x2},set:function(n){this._x2=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype,"y2",{get:function(){return this._y2},set:function(n){this._y2=n,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoQuadraticAbs=function(n,e,t,i,r){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS,"Q",n),this._x=e,this._y=t,this._x1=i,this._y1=r},window.SVGPathSegCurvetoQuadraticAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoQuadraticAbs.prototype.toString=function(){return"[object SVGPathSegCurvetoQuadraticAbs]"},window.SVGPathSegCurvetoQuadraticAbs.prototype._asPathString=function(){return`${this.pathSegTypeAsLetter} ${this._x1} ${this._y1} ${this._x} ${this._y}`},window.SVGPathSegCurvetoQuadraticAbs.prototype.clone=function(){return new window.SVGPathSegCurvetoQuadraticAbs(void 0,this._x,this._y,this._x1,this._y1)},Object.defineProperty(window.SVGPathSegCurvetoQuadraticAbs.prototype,"x",{get:function(){return this._x},set:function(n){this._x=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticAbs.prototype,"y",{get:function(){return this._y},set:function(n){this._y=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticAbs.prototype,"x1",{get:function(){return this._x1},set:function(n){this._x1=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticAbs.prototype,"y1",{get:function(){return this._y1},set:function(n){this._y1=n,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoQuadraticRel=function(n,e,t,i,r){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL,"q",n),this._x=e,this._y=t,this._x1=i,this._y1=r},window.SVGPathSegCurvetoQuadraticRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoQuadraticRel.prototype.toString=function(){return"[object SVGPathSegCurvetoQuadraticRel]"},window.SVGPathSegCurvetoQuadraticRel.prototype._asPathString=function(){return`${this.pathSegTypeAsLetter} ${this._x1} ${this._y1} ${this._x} ${this._y}`},window.SVGPathSegCurvetoQuadraticRel.prototype.clone=function(){return new window.SVGPathSegCurvetoQuadraticRel(void 0,this._x,this._y,this._x1,this._y1)},Object.defineProperty(window.SVGPathSegCurvetoQuadraticRel.prototype,"x",{get:function(){return this._x},set:function(n){this._x=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticRel.prototype,"y",{get:function(){return this._y},set:function(n){this._y=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticRel.prototype,"x1",{get:function(){return this._x1},set:function(n){this._x1=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticRel.prototype,"y1",{get:function(){return this._y1},set:function(n){this._y1=n,this._segmentChanged()},enumerable:!0}),window.SVGPathSegArcAbs=function(n,e,t,i,r,s,o,l){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_ARC_ABS,"A",n),this._x=e,this._y=t,this._r1=i,this._r2=r,this._angle=s,this._largeArcFlag=o,this._sweepFlag=l},window.SVGPathSegArcAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegArcAbs.prototype.toString=function(){return"[object SVGPathSegArcAbs]"},window.SVGPathSegArcAbs.prototype._asPathString=function(){return`${this.pathSegTypeAsLetter} ${this._r1} ${this._r2} ${this._angle} ${this._largeArcFlag?"1":"0"} ${this._sweepFlag?"1":"0"} ${this._x} ${this._y}`},window.SVGPathSegArcAbs.prototype.clone=function(){return new window.SVGPathSegArcAbs(void 0,this._x,this._y,this._r1,this._r2,this._angle,this._largeArcFlag,this._sweepFlag)},Object.defineProperty(window.SVGPathSegArcAbs.prototype,"x",{get:function(){return this._x},set:function(n){this._x=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcAbs.prototype,"y",{get:function(){return this._y},set:function(n){this._y=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcAbs.prototype,"r1",{get:function(){return this._r1},set:function(n){this._r1=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcAbs.prototype,"r2",{get:function(){return this._r2},set:function(n){this._r2=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcAbs.prototype,"angle",{get:function(){return this._angle},set:function(n){this._angle=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcAbs.prototype,"largeArcFlag",{get:function(){return this._largeArcFlag},set:function(n){this._largeArcFlag=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcAbs.prototype,"sweepFlag",{get:function(){return this._sweepFlag},set:function(n){this._sweepFlag=n,this._segmentChanged()},enumerable:!0}),window.SVGPathSegArcRel=function(n,e,t,i,r,s,o,l){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_ARC_REL,"a",n),this._x=e,this._y=t,this._r1=i,this._r2=r,this._angle=s,this._largeArcFlag=o,this._sweepFlag=l},window.SVGPathSegArcRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegArcRel.prototype.toString=function(){return"[object SVGPathSegArcRel]"},window.SVGPathSegArcRel.prototype._asPathString=function(){return`${this.pathSegTypeAsLetter} ${this._r1} ${this._r2} ${this._angle} ${this._largeArcFlag?"1":"0"} ${this._sweepFlag?"1":"0"} ${this._x} ${this._y}`},window.SVGPathSegArcRel.prototype.clone=function(){return new window.SVGPathSegArcRel(void 0,this._x,this._y,this._r1,this._r2,this._angle,this._largeArcFlag,this._sweepFlag)},Object.defineProperty(window.SVGPathSegArcRel.prototype,"x",{get:function(){return this._x},set:function(n){this._x=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcRel.prototype,"y",{get:function(){return this._y},set:function(n){this._y=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcRel.prototype,"r1",{get:function(){return this._r1},set:function(n){this._r1=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcRel.prototype,"r2",{get:function(){return this._r2},set:function(n){this._r2=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcRel.prototype,"angle",{get:function(){return this._angle},set:function(n){this._angle=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcRel.prototype,"largeArcFlag",{get:function(){return this._largeArcFlag},set:function(n){this._largeArcFlag=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcRel.prototype,"sweepFlag",{get:function(){return this._sweepFlag},set:function(n){this._sweepFlag=n,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoHorizontalAbs=function(n,e){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS,"H",n),this._x=e},window.SVGPathSegLinetoHorizontalAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegLinetoHorizontalAbs.prototype.toString=function(){return"[object SVGPathSegLinetoHorizontalAbs]"},window.SVGPathSegLinetoHorizontalAbs.prototype._asPathString=function(){return`${this.pathSegTypeAsLetter} ${this._x}`},window.SVGPathSegLinetoHorizontalAbs.prototype.clone=function(){return new window.SVGPathSegLinetoHorizontalAbs(void 0,this._x)},Object.defineProperty(window.SVGPathSegLinetoHorizontalAbs.prototype,"x",{get:function(){return this._x},set:function(n){this._x=n,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoHorizontalRel=function(n,e){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL,"h",n),this._x=e},window.SVGPathSegLinetoHorizontalRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegLinetoHorizontalRel.prototype.toString=function(){return"[object SVGPathSegLinetoHorizontalRel]"},window.SVGPathSegLinetoHorizontalRel.prototype._asPathString=function(){return`${this.pathSegTypeAsLetter} ${this._x}`},window.SVGPathSegLinetoHorizontalRel.prototype.clone=function(){return new window.SVGPathSegLinetoHorizontalRel(void 0,this._x)},Object.defineProperty(window.SVGPathSegLinetoHorizontalRel.prototype,"x",{get:function(){return this._x},set:function(n){this._x=n,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoVerticalAbs=function(n,e){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS,"V",n),this._y=e},window.SVGPathSegLinetoVerticalAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegLinetoVerticalAbs.prototype.toString=function(){return"[object SVGPathSegLinetoVerticalAbs]"},window.SVGPathSegLinetoVerticalAbs.prototype._asPathString=function(){return`${this.pathSegTypeAsLetter} ${this._y}`},window.SVGPathSegLinetoVerticalAbs.prototype.clone=function(){return new window.SVGPathSegLinetoVerticalAbs(void 0,this._y)},Object.defineProperty(window.SVGPathSegLinetoVerticalAbs.prototype,"y",{get:function(){return this._y},set:function(n){this._y=n,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoVerticalRel=function(n,e){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL,"v",n),this._y=e},window.SVGPathSegLinetoVerticalRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegLinetoVerticalRel.prototype.toString=function(){return"[object SVGPathSegLinetoVerticalRel]"},window.SVGPathSegLinetoVerticalRel.prototype._asPathString=function(){return`${this.pathSegTypeAsLetter} ${this._y}`},window.SVGPathSegLinetoVerticalRel.prototype.clone=function(){return new window.SVGPathSegLinetoVerticalRel(void 0,this._y)},Object.defineProperty(window.SVGPathSegLinetoVerticalRel.prototype,"y",{get:function(){return this._y},set:function(n){this._y=n,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoCubicSmoothAbs=function(n,e,t,i,r){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS,"S",n),this._x=e,this._y=t,this._x2=i,this._y2=r},window.SVGPathSegCurvetoCubicSmoothAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoCubicSmoothAbs.prototype.toString=function(){return"[object SVGPathSegCurvetoCubicSmoothAbs]"},window.SVGPathSegCurvetoCubicSmoothAbs.prototype._asPathString=function(){return`${this.pathSegTypeAsLetter} ${this._x2} ${this._y2} ${this._x} ${this._y}`},window.SVGPathSegCurvetoCubicSmoothAbs.prototype.clone=function(){return new window.SVGPathSegCurvetoCubicSmoothAbs(void 0,this._x,this._y,this._x2,this._y2)},Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothAbs.prototype,"x",{get:function(){return this._x},set:function(n){this._x=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothAbs.prototype,"y",{get:function(){return this._y},set:function(n){this._y=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothAbs.prototype,"x2",{get:function(){return this._x2},set:function(n){this._x2=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothAbs.prototype,"y2",{get:function(){return this._y2},set:function(n){this._y2=n,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoCubicSmoothRel=function(n,e,t,i,r){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL,"s",n),this._x=e,this._y=t,this._x2=i,this._y2=r},window.SVGPathSegCurvetoCubicSmoothRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoCubicSmoothRel.prototype.toString=function(){return"[object SVGPathSegCurvetoCubicSmoothRel]"},window.SVGPathSegCurvetoCubicSmoothRel.prototype._asPathString=function(){return`${this.pathSegTypeAsLetter} ${this._x2} ${this._y2} ${this._x} ${this._y}`},window.SVGPathSegCurvetoCubicSmoothRel.prototype.clone=function(){return new window.SVGPathSegCurvetoCubicSmoothRel(void 0,this._x,this._y,this._x2,this._y2)},Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothRel.prototype,"x",{get:function(){return this._x},set:function(n){this._x=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothRel.prototype,"y",{get:function(){return this._y},set:function(n){this._y=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothRel.prototype,"x2",{get:function(){return this._x2},set:function(n){this._x2=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothRel.prototype,"y2",{get:function(){return this._y2},set:function(n){this._y2=n,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoQuadraticSmoothAbs=function(n,e,t){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS,"T",n),this._x=e,this._y=t},window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype.toString=function(){return"[object SVGPathSegCurvetoQuadraticSmoothAbs]"},window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype._asPathString=function(){return`${this.pathSegTypeAsLetter} ${this._x} ${this._y}`},window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype.clone=function(){return new window.SVGPathSegCurvetoQuadraticSmoothAbs(void 0,this._x,this._y)},Object.defineProperty(window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype,"x",{get:function(){return this._x},set:function(n){this._x=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype,"y",{get:function(){return this._y},set:function(n){this._y=n,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoQuadraticSmoothRel=function(n,e,t){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL,"t",n),this._x=e,this._y=t},window.SVGPathSegCurvetoQuadraticSmoothRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoQuadraticSmoothRel.prototype.toString=function(){return"[object SVGPathSegCurvetoQuadraticSmoothRel]"},window.SVGPathSegCurvetoQuadraticSmoothRel.prototype._asPathString=function(){return`${this.pathSegTypeAsLetter} ${this._x} ${this._y}`},window.SVGPathSegCurvetoQuadraticSmoothRel.prototype.clone=function(){return new window.SVGPathSegCurvetoQuadraticSmoothRel(void 0,this._x,this._y)},Object.defineProperty(window.SVGPathSegCurvetoQuadraticSmoothRel.prototype,"x",{get:function(){return this._x},set:function(n){this._x=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticSmoothRel.prototype,"y",{get:function(){return this._y},set:function(n){this._y=n,this._segmentChanged()},enumerable:!0}),window.SVGPathElement.prototype.createSVGPathSegClosePath=function(){return new window.SVGPathSegClosePath(void 0)},window.SVGPathElement.prototype.createSVGPathSegMovetoAbs=function(n,e){return new window.SVGPathSegMovetoAbs(void 0,n,e)},window.SVGPathElement.prototype.createSVGPathSegMovetoRel=function(n,e){return new window.SVGPathSegMovetoRel(void 0,n,e)},window.SVGPathElement.prototype.createSVGPathSegLinetoAbs=function(n,e){return new window.SVGPathSegLinetoAbs(void 0,n,e)},window.SVGPathElement.prototype.createSVGPathSegLinetoRel=function(n,e){return new window.SVGPathSegLinetoRel(void 0,n,e)},window.SVGPathElement.prototype.createSVGPathSegCurvetoCubicAbs=function(n,e,t,i,r,s){return new window.SVGPathSegCurvetoCubicAbs(void 0,n,e,t,i,r,s)},window.SVGPathElement.prototype.createSVGPathSegCurvetoCubicRel=function(n,e,t,i,r,s){return new window.SVGPathSegCurvetoCubicRel(void 0,n,e,t,i,r,s)},window.SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticAbs=function(n,e,t,i){return new window.SVGPathSegCurvetoQuadraticAbs(void 0,n,e,t,i)},window.SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticRel=function(n,e,t,i){return new window.SVGPathSegCurvetoQuadraticRel(void 0,n,e,t,i)},window.SVGPathElement.prototype.createSVGPathSegArcAbs=function(n,e,t,i,r,s,o){return new window.SVGPathSegArcAbs(void 0,n,e,t,i,r,s,o)},window.SVGPathElement.prototype.createSVGPathSegArcRel=function(n,e,t,i,r,s,o){return new window.SVGPathSegArcRel(void 0,n,e,t,i,r,s,o)},window.SVGPathElement.prototype.createSVGPathSegLinetoHorizontalAbs=function(n){return new window.SVGPathSegLinetoHorizontalAbs(void 0,n)},window.SVGPathElement.prototype.createSVGPathSegLinetoHorizontalRel=function(n){return new window.SVGPathSegLinetoHorizontalRel(void 0,n)},window.SVGPathElement.prototype.createSVGPathSegLinetoVerticalAbs=function(n){return new window.SVGPathSegLinetoVerticalAbs(void 0,n)},window.SVGPathElement.prototype.createSVGPathSegLinetoVerticalRel=function(n){return new window.SVGPathSegLinetoVerticalRel(void 0,n)},window.SVGPathElement.prototype.createSVGPathSegCurvetoCubicSmoothAbs=function(n,e,t,i){return new window.SVGPathSegCurvetoCubicSmoothAbs(void 0,n,e,t,i)},window.SVGPathElement.prototype.createSVGPathSegCurvetoCubicSmoothRel=function(n,e,t,i){return new window.SVGPathSegCurvetoCubicSmoothRel(void 0,n,e,t,i)},window.SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticSmoothAbs=function(n,e){return new window.SVGPathSegCurvetoQuadraticSmoothAbs(void 0,n,e)},window.SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticSmoothRel=function(n,e){return new window.SVGPathSegCurvetoQuadraticSmoothRel(void 0,n,e)},"getPathSegAtLength"in window.SVGPathElement.prototype||(window.SVGPathElement.prototype.getPathSegAtLength=function(n){if(n===void 0||!isFinite(n))throw"Invalid arguments.";const e=document.createElementNS("http://www.w3.org/2000/svg","path");e.setAttribute("d",this.getAttribute("d"));let t=e.pathSegList.numberOfItems-1;if(t<=0)return 0;do{if(e.pathSegList.removeItem(t),n>e.getTotalLength())break;t--}while(t>0);return t})),(!("SVGPathSegList"in window)||!("appendItem"in window.SVGPathSegList.prototype))&&(window.SVGPathSegList=function(n){this._pathElement=n,this._list=this._parsePath(this._pathElement.getAttribute("d")),this._mutationObserverConfig={attributes:!0,attributeFilter:["d"]},this._pathElementMutationObserver=new MutationObserver(this._updateListFromPathMutations.bind(this)),this._pathElementMutationObserver.observe(this._pathElement,this._mutationObserverConfig)},window.SVGPathSegList.prototype.classname="SVGPathSegList",Object.defineProperty(window.SVGPathSegList.prototype,"numberOfItems",{get:function(){return this._checkPathSynchronizedToList(),this._list.length},enumerable:!0}),Object.defineProperty(window.SVGPathSegList.prototype,"length",{get:function(){return this._checkPathSynchronizedToList(),this._list.length},enumerable:!0}),Object.defineProperty(window.SVGPathElement.prototype,"pathSegList",{get:function(){return this._pathSegList||(this._pathSegList=new window.SVGPathSegList(this)),this._pathSegList},enumerable:!0}),Object.defineProperty(window.SVGPathElement.prototype,"normalizedPathSegList",{get:function(){return this.pathSegList},enumerable:!0}),Object.defineProperty(window.SVGPathElement.prototype,"animatedPathSegList",{get:function(){return this.pathSegList},enumerable:!0}),Object.defineProperty(window.SVGPathElement.prototype,"animatedNormalizedPathSegList",{get:function(){return this.pathSegList},enumerable:!0}),window.SVGPathSegList.prototype._checkPathSynchronizedToList=function(){this._updateListFromPathMutations(this._pathElementMutationObserver.takeRecords())},window.SVGPathSegList.prototype._updateListFromPathMutations=function(n){if(!this._pathElement)return;let e=!1;n.forEach(function(t){t.attributeName=="d"&&(e=!0)}),e&&(this._list=this._parsePath(this._pathElement.getAttribute("d")))},window.SVGPathSegList.prototype._writeListToPath=function(){this._pathElementMutationObserver.disconnect(),this._pathElement.setAttribute("d",window.SVGPathSegList._pathSegArrayAsString(this._list)),this._pathElementMutationObserver.observe(this._pathElement,this._mutationObserverConfig)},window.SVGPathSegList.prototype.segmentChanged=function(){this._writeListToPath()},window.SVGPathSegList.prototype.clear=function(){this._checkPathSynchronizedToList(),this._list.forEach(function(n){n._owningPathSegList=null}),this._list=[],this._writeListToPath()},window.SVGPathSegList.prototype.initialize=function(n){return this._checkPathSynchronizedToList(),this._list=[n],n._owningPathSegList=this,this._writeListToPath(),n},window.SVGPathSegList.prototype._checkValidIndex=function(n){if(isNaN(n)||n<0||n>=this.numberOfItems)throw"INDEX_SIZE_ERR"},window.SVGPathSegList.prototype.getItem=function(n){return this._checkPathSynchronizedToList(),this._checkValidIndex(n),this._list[n]},window.SVGPathSegList.prototype.insertItemBefore=function(n,e){return this._checkPathSynchronizedToList(),e>this.numberOfItems&&(e=this.numberOfItems),n._owningPathSegList&&(n=n.clone()),this._list.splice(e,0,n),n._owningPathSegList=this,this._writeListToPath(),n},window.SVGPathSegList.prototype.replaceItem=function(n,e){return this._checkPathSynchronizedToList(),n._owningPathSegList&&(n=n.clone()),this._checkValidIndex(e),this._list[e]=n,n._owningPathSegList=this,this._writeListToPath(),n},window.SVGPathSegList.prototype.removeItem=function(n){this._checkPathSynchronizedToList(),this._checkValidIndex(n);const e=this._list[n];return this._list.splice(n,1),this._writeListToPath(),e},window.SVGPathSegList.prototype.appendItem=function(n){return this._checkPathSynchronizedToList(),n._owningPathSegList&&(n=n.clone()),this._list.push(n),n._owningPathSegList=this,this._writeListToPath(),n},window.SVGPathSegList._pathSegArrayAsString=function(n){let e="",t=!0;return n.forEach(function(i){t?(t=!1,e+=i._asPathString()):e+=` ${i._asPathString()}`}),e},window.SVGPathSegList.prototype._parsePath=function(n){if(!n||!n.length)return[];const e=this,t=function(){this.pathSegList=[]};t.prototype.appendSegment=function(o){this.pathSegList.push(o)};const i=function(o){this._string=o,this._currentIndex=0,this._endIndex=this._string.length,this._previousCommand=window.SVGPathSeg.PATHSEG_UNKNOWN,this._skipOptionalSpaces()};i.prototype._isCurrentSpace=function(){const o=this._string[this._currentIndex];return o<=" "&&(o==" "||o==`
`||o=="	"||o=="\r"||o=="\f")},i.prototype._skipOptionalSpaces=function(){for(;this._currentIndex<this._endIndex&&this._isCurrentSpace();)this._currentIndex++;return this._currentIndex<this._endIndex},i.prototype._skipOptionalSpacesOrDelimiter=function(){return this._currentIndex<this._endIndex&&!this._isCurrentSpace()&&this._string.charAt(this._currentIndex)!=","?!1:(this._skipOptionalSpaces()&&this._currentIndex<this._endIndex&&this._string.charAt(this._currentIndex)==","&&(this._currentIndex++,this._skipOptionalSpaces()),this._currentIndex<this._endIndex)},i.prototype.hasMoreData=function(){return this._currentIndex<this._endIndex},i.prototype.peekSegmentType=function(){const o=this._string[this._currentIndex];return this._pathSegTypeFromChar(o)},i.prototype._pathSegTypeFromChar=function(o){switch(o){case"Z":case"z":return window.SVGPathSeg.PATHSEG_CLOSEPATH;case"M":return window.SVGPathSeg.PATHSEG_MOVETO_ABS;case"m":return window.SVGPathSeg.PATHSEG_MOVETO_REL;case"L":return window.SVGPathSeg.PATHSEG_LINETO_ABS;case"l":return window.SVGPathSeg.PATHSEG_LINETO_REL;case"C":return window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS;case"c":return window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL;case"Q":return window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS;case"q":return window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL;case"A":return window.SVGPathSeg.PATHSEG_ARC_ABS;case"a":return window.SVGPathSeg.PATHSEG_ARC_REL;case"H":return window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS;case"h":return window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL;case"V":return window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS;case"v":return window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL;case"S":return window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS;case"s":return window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL;case"T":return window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS;case"t":return window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL;default:return window.SVGPathSeg.PATHSEG_UNKNOWN}},i.prototype._nextCommandHelper=function(o,l){return(o=="+"||o=="-"||o=="."||o>="0"&&o<="9")&&l!=window.SVGPathSeg.PATHSEG_CLOSEPATH?l==window.SVGPathSeg.PATHSEG_MOVETO_ABS?window.SVGPathSeg.PATHSEG_LINETO_ABS:l==window.SVGPathSeg.PATHSEG_MOVETO_REL?window.SVGPathSeg.PATHSEG_LINETO_REL:l:window.SVGPathSeg.PATHSEG_UNKNOWN},i.prototype.initialCommandIsMoveTo=function(){if(!this.hasMoreData())return!0;const o=this.peekSegmentType();return o==window.SVGPathSeg.PATHSEG_MOVETO_ABS||o==window.SVGPathSeg.PATHSEG_MOVETO_REL},i.prototype._parseNumber=function(){let o=0,l=0,a=1,u=0,m=1,d=1;const b=this._currentIndex;if(this._skipOptionalSpaces(),this._currentIndex<this._endIndex&&this._string.charAt(this._currentIndex)=="+"?this._currentIndex++:this._currentIndex<this._endIndex&&this._string.charAt(this._currentIndex)=="-"&&(this._currentIndex++,m=-1),this._currentIndex==this._endIndex||(this._string.charAt(this._currentIndex)<"0"||this._string.charAt(this._currentIndex)>"9")&&this._string.charAt(this._currentIndex)!=".")return;const g=this._currentIndex;for(;this._currentIndex<this._endIndex&&this._string.charAt(this._currentIndex)>="0"&&this._string.charAt(this._currentIndex)<="9";)this._currentIndex++;if(this._currentIndex!=g){let p=this._currentIndex-1,v=1;for(;p>=g;)l+=v*(this._string.charAt(p--)-"0"),v*=10}if(this._currentIndex<this._endIndex&&this._string.charAt(this._currentIndex)=="."){if(this._currentIndex++,this._currentIndex>=this._endIndex||this._string.charAt(this._currentIndex)<"0"||this._string.charAt(this._currentIndex)>"9")return;for(;this._currentIndex<this._endIndex&&this._string.charAt(this._currentIndex)>="0"&&this._string.charAt(this._currentIndex)<="9";)a*=10,u+=(this._string.charAt(this._currentIndex)-"0")/a,this._currentIndex+=1}if(this._currentIndex!=b&&this._currentIndex+1<this._endIndex&&(this._string.charAt(this._currentIndex)=="e"||this._string.charAt(this._currentIndex)=="E")&&this._string.charAt(this._currentIndex+1)!="x"&&this._string.charAt(this._currentIndex+1)!="m"){if(this._currentIndex++,this._string.charAt(this._currentIndex)=="+"?this._currentIndex++:this._string.charAt(this._currentIndex)=="-"&&(this._currentIndex++,d=-1),this._currentIndex>=this._endIndex||this._string.charAt(this._currentIndex)<"0"||this._string.charAt(this._currentIndex)>"9")return;for(;this._currentIndex<this._endIndex&&this._string.charAt(this._currentIndex)>="0"&&this._string.charAt(this._currentIndex)<="9";)o*=10,o+=this._string.charAt(this._currentIndex)-"0",this._currentIndex++}let _=l+u;if(_*=m,o&&(_*=Math.pow(10,d*o)),b!=this._currentIndex)return this._skipOptionalSpacesOrDelimiter(),_},i.prototype._parseArcFlag=function(){if(this._currentIndex>=this._endIndex)return;let o=!1;const l=this._string.charAt(this._currentIndex++);if(l=="0")o=!1;else if(l=="1")o=!0;else return;return this._skipOptionalSpacesOrDelimiter(),o},i.prototype.parseSegment=function(){const o=this._string[this._currentIndex];let l=this._pathSegTypeFromChar(o);if(l==window.SVGPathSeg.PATHSEG_UNKNOWN){if(this._previousCommand==window.SVGPathSeg.PATHSEG_UNKNOWN||(l=this._nextCommandHelper(o,this._previousCommand),l==window.SVGPathSeg.PATHSEG_UNKNOWN))return null}else this._currentIndex++;this._previousCommand=l;let a;switch(l){case window.SVGPathSeg.PATHSEG_MOVETO_REL:return new window.SVGPathSegMovetoRel(e,this._parseNumber(),this._parseNumber());case window.SVGPathSeg.PATHSEG_MOVETO_ABS:return new window.SVGPathSegMovetoAbs(e,this._parseNumber(),this._parseNumber());case window.SVGPathSeg.PATHSEG_LINETO_REL:return new window.SVGPathSegLinetoRel(e,this._parseNumber(),this._parseNumber());case window.SVGPathSeg.PATHSEG_LINETO_ABS:return new window.SVGPathSegLinetoAbs(e,this._parseNumber(),this._parseNumber());case window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL:return new window.SVGPathSegLinetoHorizontalRel(e,this._parseNumber());case window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS:return new window.SVGPathSegLinetoHorizontalAbs(e,this._parseNumber());case window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL:return new window.SVGPathSegLinetoVerticalRel(e,this._parseNumber());case window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS:return new window.SVGPathSegLinetoVerticalAbs(e,this._parseNumber());case window.SVGPathSeg.PATHSEG_CLOSEPATH:return this._skipOptionalSpaces(),new window.SVGPathSegClosePath(e);case window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL:return a={x1:this._parseNumber(),y1:this._parseNumber(),x2:this._parseNumber(),y2:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()},new window.SVGPathSegCurvetoCubicRel(e,a.x,a.y,a.x1,a.y1,a.x2,a.y2);case window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS:return a={x1:this._parseNumber(),y1:this._parseNumber(),x2:this._parseNumber(),y2:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()},new window.SVGPathSegCurvetoCubicAbs(e,a.x,a.y,a.x1,a.y1,a.x2,a.y2);case window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL:return a={x2:this._parseNumber(),y2:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()},new window.SVGPathSegCurvetoCubicSmoothRel(e,a.x,a.y,a.x2,a.y2);case window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS:return a={x2:this._parseNumber(),y2:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()},new window.SVGPathSegCurvetoCubicSmoothAbs(e,a.x,a.y,a.x2,a.y2);case window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL:return a={x1:this._parseNumber(),y1:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()},new window.SVGPathSegCurvetoQuadraticRel(e,a.x,a.y,a.x1,a.y1);case window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS:return a={x1:this._parseNumber(),y1:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()},new window.SVGPathSegCurvetoQuadraticAbs(e,a.x,a.y,a.x1,a.y1);case window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL:return new window.SVGPathSegCurvetoQuadraticSmoothRel(e,this._parseNumber(),this._parseNumber());case window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS:return new window.SVGPathSegCurvetoQuadraticSmoothAbs(e,this._parseNumber(),this._parseNumber());case window.SVGPathSeg.PATHSEG_ARC_REL:return a={x1:this._parseNumber(),y1:this._parseNumber(),arcAngle:this._parseNumber(),arcLarge:this._parseArcFlag(),arcSweep:this._parseArcFlag(),x:this._parseNumber(),y:this._parseNumber()},new window.SVGPathSegArcRel(e,a.x,a.y,a.x1,a.y1,a.arcAngle,a.arcLarge,a.arcSweep);case window.SVGPathSeg.PATHSEG_ARC_ABS:return a={x1:this._parseNumber(),y1:this._parseNumber(),arcAngle:this._parseNumber(),arcLarge:this._parseArcFlag(),arcSweep:this._parseArcFlag(),x:this._parseNumber(),y:this._parseNumber()},new window.SVGPathSegArcAbs(e,a.x,a.y,a.x1,a.y1,a.arcAngle,a.arcLarge,a.arcSweep);default:throw"Unknown path seg type."}};const r=new t,s=new i(n);if(!s.initialCommandIsMoveTo())return[];for(;s.hasMoreData();){const o=s.parseSegment();if(!o)return[];r.appendSegment(o)}return r.pathSegList})}catch(n){console.warn("An error occurred in tsParticles pathseg polyfill. If the Polygon Mask is not working, please open an issue here: https://github.com/tsparticles/tsparticles",n)}})();class PJ{constructor(e){this._engine=e,this.color=new rs,this.width=.5,this.opacity=1}load(e){Lt(e)||(this.color=rs.create(this.color,e.color),dc(this.color.value)&&(this.opacity=c8(this._engine,this.color.value)??this.opacity),e.opacity!==void 0&&(this.opacity=e.opacity),e.width!==void 0&&(this.width=e.width))}}class NJ{constructor(e){this.enable=!1,this.stroke=new PJ(e)}load(e){if(Lt(e))return;e.enable!==void 0&&(this.enable=e.enable);const t=e.stroke;this.stroke.load(t)}}var td;(function(n){n.equidistant="equidistant",n.onePerPoint="one-per-point",n.perPoint="per-point",n.randomLength="random-length",n.randomPoint="random-point"})(td||(td={}));class IJ{constructor(){this.arrangement=td.onePerPoint}load(e){Lt(e)||e.arrangement!==void 0&&(this.arrangement=e.arrangement)}}class DJ{constructor(){this.path=[],this.size={height:0,width:0}}load(e){Lt(e)||(e.path!==void 0&&(this.path=e.path),e.size!==void 0&&(e.size.width!==void 0&&(this.size.width=e.size.width),e.size.height!==void 0&&(this.size.height=e.size.height)))}}var jA;(function(n){n.path="path",n.radius="radius"})(jA||(jA={}));class FJ{constructor(){this.radius=10,this.type=jA.path}load(e){Lt(e)||(e.radius!==void 0&&(this.radius=e.radius),e.type!==void 0&&(this.type=e.type))}}var ul;(function(n){n.inline="inline",n.inside="inside",n.outside="outside",n.none="none"})(ul||(ul={}));class BJ{constructor(e){this.draw=new NJ(e),this.enable=!1,this.inline=new IJ,this.move=new FJ,this.scale=1,this.type=ul.none}load(e){Lt(e)||(this.draw.load(e.draw),this.inline.load(e.inline),this.move.load(e.move),e.scale!==void 0&&(this.scale=e.scale),e.type!==void 0&&(this.type=e.type),e.enable!==void 0?this.enable=e.enable:this.enable=this.type!==ul.none,e.url!==void 0&&(this.url=e.url),e.data!==void 0&&(dc(e.data)?this.data=e.data:(this.data=new DJ,this.data.load(e.data))),e.position!==void 0&&(this.position=ss({},e.position)))}}const kL=2,mx={min:0,max:1},UJ=2;function kJ(n,e,t,i){const r=pl(n,i.color);if(!r)return;const s=0,o=t[s];e.beginPath(),e.moveTo(o.x,o.y);for(const l of t)e.lineTo(l.x,l.y);e.closePath(),e.strokeStyle=uc(r),e.lineWidth=i.width,e.stroke()}function zJ(n,e,t,i,r){const s={a:1,b:0,c:0,d:1};e.setTransform(s.a,s.b,s.c,s.d,r.x,r.y);const o=pl(n,i.color);o&&(e.strokeStyle=uc(o,i.opacity),e.lineWidth=i.width,e.stroke(t),e.resetTransform())}function $J(n,e,t){const i=[];for(const s of n){const o=s.element.pathSegList,l=o?.numberOfItems??0,a={x:0,y:0};for(let u=0;u<l;u++){const m=o?.getItem(u),d=window.SVGPathSeg;switch(m?.pathSegType){case d.PATHSEG_MOVETO_ABS:case d.PATHSEG_LINETO_ABS:case d.PATHSEG_CURVETO_CUBIC_ABS:case d.PATHSEG_CURVETO_QUADRATIC_ABS:case d.PATHSEG_ARC_ABS:case d.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS:case d.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS:{const b=m;a.x=b.x,a.y=b.y;break}case d.PATHSEG_LINETO_HORIZONTAL_ABS:a.x=m.x;break;case d.PATHSEG_LINETO_VERTICAL_ABS:a.y=m.y;break;case d.PATHSEG_LINETO_REL:case d.PATHSEG_MOVETO_REL:case d.PATHSEG_CURVETO_CUBIC_REL:case d.PATHSEG_CURVETO_QUADRATIC_REL:case d.PATHSEG_ARC_REL:case d.PATHSEG_CURVETO_CUBIC_SMOOTH_REL:case d.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL:{const b=m;a.x+=b.x,a.y+=b.y;break}case d.PATHSEG_LINETO_HORIZONTAL_REL:a.x+=m.x;break;case d.PATHSEG_LINETO_VERTICAL_REL:a.y+=m.y;break;case d.PATHSEG_UNKNOWN:case d.PATHSEG_CLOSEPATH:continue}i.push({x:a.x*e+t.x,y:a.y*e+t.y})}}return i}function HJ(n,e,t){const{dx:i,dy:r}=aa(t,n),{dx:s,dy:o}=aa(e,n),l=(i*s+r*o)/(s**kL+o**kL),a={x:n.x+s*l,y:n.y+o*l,isOnSegment:l>=mx.min&&l<=mx.max};return l<mx.min?(a.x=n.x,a.y=n.y):l>mx.max&&(a.x=e.x,a.y=e.y),a}function GJ(n,e,t){const{dx:i,dy:r}=aa(n,e),s=Math.atan2(r,i),o=Lr.create(Math.sin(s),-Math.cos(s)),l=UJ*(t.x*o.x+t.y*o.y);o.multTo(l),t.subFrom(o)}const gx=`${Za} No polygon data loaded.`,VJ=`${Za} No polygon found, you need to specify SVG url in config.`,dv={x:0,y:0},vx=.5,WJ=2;class jJ{constructor(e,t){this._checkInsidePolygon=i=>{const r=this._container,s=r.actualOptions.polygon;if(!s?.enable||s.type===ul.none||s.type===ul.inline)return!0;if(!this.raw)throw new Error(VJ);const o=r.canvas.size,l=i?.x??Gn()*o.width,a=i?.y??Gn()*o.height,u=1;let m=!1;for(let d=0,b=this.raw.length-u;d<this.raw.length;b=d++){const g=this.raw[d],_=this.raw[b];g.y>a!=_.y>a&&l<(_.x-g.x)*(a-g.y)/(_.y-g.y)+g.x&&(m=!m)}return s.type===ul.inside?m:s.type===ul.outside?!m:!1},this._createPath2D=()=>{if(!(!this._container.actualOptions.polygon||!this.paths?.length))for(const s of this.paths){const o=s.element?.getAttribute("d");if(o){const u=new Path2D(o),m=document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGMatrix(),d=new Path2D,b=m.scale(this._scale);d.addPath?(d.addPath(u,b),s.path2d=d):delete s.path2d}else delete s.path2d;if(s.path2d??!this.raw)continue;s.path2d=new Path2D;const l=0,a=this.raw[l];s.path2d.moveTo(a.x,a.y),this.raw.forEach((u,m)=>{m>l&&s.path2d?.lineTo(u.x,u.y)}),s.path2d.closePath()}},this._downloadSvgPath=async(i,r)=>{const s=this._container.actualOptions.polygon;if(!s)return;const o=i??s.url,l=r??!1;if(!o||this.paths!==void 0&&!l)return this.raw;const a=await fetch(o);if(!a.ok)throw new Error(`${Za} occurred during polygon mask download`);return this._parseSvgPath(await a.text(),r)},this._drawPoints=()=>{if(this.raw)for(const i of this.raw)this._container.particles.addParticle({x:i.x,y:i.y})},this._getEquidistantPointByIndex=i=>{const r=this._container,s=r.actualOptions;if(!s.polygon)return;if(!this.raw?.length||!this.paths?.length)throw new Error(gx);let l=0,a;const u=0,m=this.paths.reduce((g,_)=>g+_.length,u),d=m/s.particles.number.value;for(const g of this.paths){const _=d*i-l;if(_<=g.length){a=g.element.getPointAtLength(_);break}else l+=g.length}const b=this._scale;return{x:(a?.x??dv.x)*b+(this.offset?.x??dv.x),y:(a?.y??dv.y)*b+(this.offset?.y??dv.y)}},this._getPointByIndex=i=>{if(!this.raw?.length)throw new Error(gx);const r=this.raw[i%this.raw.length];return{x:r.x,y:r.y}},this._getRandomPoint=()=>{if(!this.raw?.length)throw new Error(gx);const i=ud(this.raw);return{x:i.x,y:i.y}},this._getRandomPointByLength=()=>{if(!this._container.actualOptions.polygon)return;if(!this.raw?.length||!this.paths?.length)throw new Error(gx);const s=ud(this.paths),o=1,l=Math.floor(Gn()*s.length)+o,a=s.element.getPointAtLength(l),u=this._scale;return{x:a.x*u+(this.offset?.x??dv.x),y:a.y*u+(this.offset?.y??dv.y)}},this._initRawData=async i=>{const r=this._container.actualOptions.polygon;if(r){if(r.url)this.raw=await this._downloadSvgPath(r.url,i);else if(r.data){const s=r.data;let o;if(dc(s))o=s;else{const l=m=>`<path d="${m}" />`,a=Da(s.path)?s.path.map(l).join(""):l(s.path);o=`<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="${s.size.width}" height="${s.size.height}">${a}</svg>`}this.raw=this._parseSvgPath(o,i)}this._createPath2D(),this._engine.dispatchEvent("polygonMaskLoaded",{container:this._container})}},this._parseSvgPath=(i,r)=>{const s=r??!1;if(this.paths!==void 0&&!s)return this.raw;const o=this._container,l=o.actualOptions.polygon;if(!l)return;const a=new DOMParser,u=a.parseFromString(i,"image/svg+xml"),m=0,d=u.getElementsByTagName("svg")[m];let b=d.getElementsByTagName("path");b.length||(b=u.getElementsByTagName("path")),this.paths=[];for(let v=0;v<b.length;v++){const c=b.item(v);c&&this.paths.push({element:c,length:c.getTotalLength()})}const g=this._scale;this.dimension.width=parseFloat(d.getAttribute("width")??"0")*g,this.dimension.height=parseFloat(d.getAttribute("height")??"0")*g;const _=l.position??{x:50,y:50},p=o.canvas.size;return this.offset={x:p.width*_.x/Sr-this.dimension.width*vx,y:p.height*_.y/Sr-this.dimension.height*vx},$J(this.paths,g,this.offset)},this._polygonBounce=(i,r,s)=>{const o=this._container.actualOptions.polygon;if(!this.raw||!o?.enable||s!==Or.top)return!1;if(o.type===ul.inside||o.type===ul.outside){let l,a,u;const m=i.getPosition(),d=i.getRadius(),b=1;for(let g=0,_=this.raw.length-b;g<this.raw.length;_=g++){const p=this.raw[g],v=this.raw[_];l=HJ(p,v,m);const c=aa(m,l);if([a,u]=[c.dx,c.dy],c.distance<d)return GJ(p,v,i.velocity),!0}if(l&&a!==void 0&&u!==void 0&&!this._checkInsidePolygon(m)){const g={x:1,y:1},_=d*WJ,p=-1;return m.x>=l.x&&(g.x=-1),m.y>=l.y&&(g.y=-1),i.position.x=l.x+_*g.x,i.position.y=l.y+_*g.y,i.velocity.mult(p),!0}}else if(o.type===ul.inline&&i.initialPosition){const l=fl(i.initialPosition,i.getPosition()),{velocity:a}=i;if(l>this._moveRadius)return a.x=a.y*vx-a.x,a.y=a.x*vx-a.y,!0}return!1},this._randomPoint=()=>{const i=this._container,r=i.actualOptions.polygon;if(!r)return;let s;if(r.type===ul.inline)switch(r.inline.arrangement){case td.randomPoint:s=this._getRandomPoint();break;case td.randomLength:s=this._getRandomPointByLength();break;case td.equidistant:s=this._getEquidistantPointByIndex(i.particles.count);break;case td.onePerPoint:case td.perPoint:default:s=this._getPointByIndex(i.particles.count)}else{const o=i.canvas.size;s={x:Gn()*o.width,y:Gn()*o.height}}return this._checkInsidePolygon(s)?s:this._randomPoint()},this._container=e,this._engine=t,this.dimension={height:0,width:0},this._moveRadius=0,this._scale=1}clickPositionValid(e){const t=this._container.actualOptions.polygon;return!!t?.enable&&t.type!==ul.none&&t.type!==ul.inline&&this._checkInsidePolygon(e)}draw(e){if(!this.paths?.length)return;const t=this._container.actualOptions.polygon;if(!t?.enable)return;const i=t.draw;if(!i.enable)return;const r=this.raw;for(const s of this.paths){const o=s.path2d;e&&(o&&this.offset?zJ(this._engine,e,o,i.stroke,this.offset):r&&kJ(this._engine,e,r,i.stroke))}}async init(){const e=this._container,t=e.actualOptions.polygon,i=e.retina.pixelRatio;t&&(this._moveRadius=t.move.radius*i,this._scale=t.scale*i,t.enable&&await this._initRawData())}particleBounce(e,t,i){return this._polygonBounce(e,t,i)}particlePosition(e){const t=this._container.actualOptions.polygon,i=0;if(t?.enable&&(this.raw?.length??i)>i)return ss({},e||this._randomPoint())}particlesInitialization(){const e=this._container.actualOptions.polygon;return e?.enable&&e.type===ul.inline&&(e.inline.arrangement===td.onePerPoint||e.inline.arrangement===td.perPoint)?(this._drawPoints(),!0):!1}resize(){const e=this._container,t=e.actualOptions.polygon;if(!(t?.enable&&t.type!==ul.none))return;this.redrawTimeout&&clearTimeout(this.redrawTimeout);const i=250;this.redrawTimeout=setTimeout(()=>{(async()=>(await this._initRawData(!0),await e.particles.redraw()))()},i)}stop(){delete this.raw,delete this.paths}}class XJ{constructor(e){this.id="polygonMask",this._engine=e}getPlugin(e){return Promise.resolve(new jJ(e,this._engine))}loadOptions(e,t){if(!this.needsPlugin(e)&&!this.needsPlugin(t))return;let i=e.polygon;i?.load===void 0&&(e.polygon=i=new BJ(this._engine)),i.load(t?.polygon)}needsPlugin(e){return e?.polygon?.enable??(e?.polygon?.type!==void 0&&e.polygon.type!==ul.none)}}async function qJ(n,e=!0){n.checkVersion("3.9.1"),await n.addPlugin(new XJ(n),e)}class YJ{constructor(){this._createDirs=()=>{this.dirsList=[];for(let e=0;e<360;e+=360/this.options.sides){const t=this.options.angle+e;this.dirsList.push(Lr.create(Math.cos(t*Math.PI/180),Math.sin(t*Math.PI/180)))}},this.dirsList=[],this.options={sides:6,turnSteps:20,angle:30}}generate(e){const{sides:t}=this.options;e.hexStep===void 0&&(e.hexStep=0),e.hexDirection===void 0&&(e.hexDirection=t===6?(Gn()*3|0)*2:Gn()*t|0),e.hexSpeed===void 0&&(e.hexSpeed=e.velocity.length),e.hexStep%this.options.turnSteps===0&&(e.hexDirection=Gn()>.5?(e.hexDirection+1)%t:(e.hexDirection+t-1)%t),e.velocity.x=0,e.velocity.y=0,e.hexStep++;const i=this.dirsList[e.hexDirection];return Lr.create(i.x*e.hexSpeed,i.y*e.hexSpeed)}init(e){const t=e.actualOptions.particles.move.path.options;this.options.sides=t.sides>0?t.sides:6,this.options.angle=t.angle??30,this.options.turnSteps=t.turnSteps>=0?t.turnSteps:20,this._createDirs()}reset(e){delete e.hexStep,delete e.hexDirection,delete e.hexSpeed}update(){}}const KJ="polygonPathGenerator";async function ZJ(n,e=!0){n.checkVersion("3.9.1"),await n.addPathGenerator(KJ,new YJ,e)}const QJ=2,JJ=Math.PI*QJ,yx=.5,eee=0;function tee(n,e,t=eee){const i=JJ/n,r=[];for(let s=0;s<n;s++)r.push({x:Math.cos(s*i+t)*e,y:Math.sin(s*i+t)*e});return r}function nee(n,e,t){let o=e[0],l=e[1];const a=e.length;n.moveTo((o.x+l.x)*yx,(o.y+l.y)*yx);for(let u=1;u<=a;u++)o=l,l=e[(u+1)%a],n.arcTo(o.x,o.y,(o.x+l.x)*yx,(o.y+l.y)*yx,t)}const zL=5,iee=5;class ree{constructor(){this.validTypes=["rounded-polygon"]}draw(e){const{context:t,particle:i,radius:r}=e;nee(t,tee(i.sides,r),i.borderRadius??iee)}getSidesCount(e){const t=e.shapeData;return Math.round(Kt(t?.sides??zL))}particleInit(e,t){const i=t.shapeData;t.borderRadius=Math.round(Kt(i?.radius??zL))*e.retina.pixelRatio}}async function see(n,e=!0){n.checkVersion("3.9.1"),await n.addShape(new ree,e)}function oee(n,e,t,i){const r={x:-e,y:-e,height:t,width:t},s={topLeft:i,topRight:i,bottomLeft:i,bottomRight:i},{x:o,y:l,width:a,height:u}=r,m=o+a,d=l+u;n.moveTo(o+s.topLeft,l),n.lineTo(m-s.topRight,l),n.quadraticCurveTo(m,l,m,l+s.topRight),n.lineTo(m,l+u-s.bottomRight),n.quadraticCurveTo(m,d,m-s.bottomRight,d),n.lineTo(o+s.bottomLeft,d),n.quadraticCurveTo(o,d,o,d-s.bottomLeft),n.lineTo(o,l+s.topLeft),n.quadraticCurveTo(o,l,o+s.topLeft,l)}const aee=2,lee=Math.sqrt(aee),cee=2,$L=5;class uee{constructor(){this.validTypes=["rounded-rect"]}draw(e){const{context:t,particle:i,radius:r}=e,s=r/lee,o=s*cee,l=i.borderRadius??$L;"roundRect"in t?t.roundRect(-s,-s,o,o,l):oee(t,s,o,l)}particleInit(e,t){const i=t.shapeData;t.borderRadius=Kt(i?.radius??$L)*e.retina.pixelRatio}}async function hee(n,e=!0){n.checkVersion("3.9.1"),await n.addShape(new uee,e)}var qm;(function(n){n[n.normal=0]="normal",n[n.reverse=1]="reverse"})(qm||(qm={}));const dee=1,fee=0,pee=0,mee=0,gee=1;class vee{constructor(){this._paths=[],this._reverse=!1,this._size={width:0,height:0},this._scale=1,this._offset={x:0,y:0,mode:Sh.percent},this._width=0}generate(e,t){const i=e.container,r=i.retina.pixelRatio;e.svgDirection===void 0&&(e.svgDirection=Gn()>_r?qm.normal:qm.reverse),e.svgPathIndex===void 0&&(e.svgPathIndex=Math.floor(Gn()*this._paths.length)),e.svgSpeed===void 0&&(e.svgSpeed=e.velocity.mult((e.retina.moveSpeed??dee)*_r).length),e.svgStep===void 0&&(e.svgStep=ra({min:0,max:this._paths[e.svgPathIndex].length})*r),e.svgOffset===void 0&&(e.svgOffset={width:ra({min:-this._width*_r,max:this._width*_r})*r,height:ra({min:-this._width*_r,max:this._width*_r})*r}),e.svgInitialPosition===void 0&&(e.svgInitialPosition={...e.position}),e.velocity.x=0,e.velocity.y=0,e.svgDirection===qm.normal?e.svgStep+=e.svgSpeed*t.factor:e.svgStep-=e.svgSpeed*t.factor;let s=this._paths[e.svgPathIndex];if(s){const o=s.length,l=1;e.svgStep>=o?(e.svgPathIndex=e.svgPathIndex+l,e.svgPathIndex>=this._paths.length&&(this._reverse?(e.svgPathIndex=this._paths.length-l,e.svgDirection=qm.reverse):(e.svgPathIndex=0,e.svgStep=0))):e.svgStep<=fee&&(e.svgPathIndex=e.svgPathIndex-l,e.svgPathIndex<pee&&(this._reverse?(e.svgPathIndex=0,e.svgDirection=qm.normal):(e.svgPathIndex=this._paths.length-l,s=this._paths[e.svgPathIndex],e.svgStep=s.length))),s=this._paths[e.svgPathIndex]}if(s){const o=s.element,l=o.getPointAtLength(e.svgStep),a=e.container.canvas.size,u=aM(this._offset,a),m=this._scale*r;e.position.x=(l.x-this._size.width*_r)*m+e.svgInitialPosition.x+u.x+e.svgOffset.width,e.position.y=(l.y-this._size.height*_r)*m+e.svgInitialPosition.y+u.y+e.svgOffset.height}return Lr.origin}init(e){const t=e.actualOptions.particles.move.path.options,i=t.position??this._offset;if(this._reverse=t.reverse??this._reverse,this._scale=t.scale??gee,this._offset.x=i.x,this._offset.y=i.y,this._offset.mode=i.mode,this._width=t.width??mee,t.url&&!t.path){const r=t.url;(async()=>{const s=await fetch(r),o=await s.text(),l=new DOMParser,a=l.parseFromString(o,"image/svg+xml"),u=0,m=a.getElementsByTagName("svg")[u];let d=m.getElementsByTagName("path");d.length||(d=a.getElementsByTagName("path")),this._paths=[];for(let b=0;b<d.length;b++){const g=d.item(b);g&&this._paths.push({element:g,length:g.getTotalLength()})}this._size.height=parseFloat(m.getAttribute("height")??"0"),this._size.width=parseFloat(m.getAttribute("width")??"0")})()}else if(t.path){const r=t.path;this._paths=[];for(const s of r.data){const o=document.createElementNS("http://www.w3.org/2000/svg","path");o.setAttribute("d",s),this._paths.push({element:o,length:o.getTotalLength()})}this._size.height=r.size.height,this._size.width=r.size.width}}reset(){}update(){}}const yee="svgPathGenerator";async function _ee(n,e=!0){n.checkVersion("3.9.1"),await n.addPathGenerator(yee,new vee,e)}const pp={draw:!1,size:20,increment:.004,columns:0,rows:0,layers:0,width:0,height:0,factor:{angle:.02,length:.01},offset:{x:4e4,y:4e4,z:4e4}};class bee{constructor(){const e=new v4;this._simplex=e.noise4d,this.field=[],this.noiseW=0,this.options=ss({},pp)}generate(e){const t=e.getPosition(),{size:i}=this.options,r={x:Math.max(Math.floor(t.x/i),0),y:Math.max(Math.floor(t.y/i),0),z:Math.max(Math.floor(t.z/i),0)},s=Lr.origin,{field:o}=this;return o?.[r.x]?.[r.y]?.[r.z]?o[r.x][r.y][r.z].copy():s}init(e){this.container=e,this._setup()}reset(){}update(){this.container&&(this._calculateField(),this.noiseW+=this.options.increment,this.options.draw&&this.container.canvas.draw(e=>this._drawField(e)))}_calculateField(){const{options:e,field:t,_simplex:i,noiseW:r}=this,s=e.factor.length,o=e.factor.angle;for(let l=0;l<e.columns;l++)for(let a=0;a<e.rows;a++)for(let u=0;u<e.layers;u++){const m=t[l][a][u];m.length=i.noise(l*s+e.offset.x,a*s+e.offset.y,u*s+e.offset.z,r),m.angle=i.noise(l*o,a*o,u*o,r)*Math.PI*2}}_drawField(e){const{field:t,options:i}=this;for(let r=0;r<i.columns;r++){const s=t[r];for(let o=0;o<i.rows;o++){const l=s[o][0],{angle:a,length:u}=l;e.setTransform(1,0,0,1,r*this.options.size,o*this.options.size),e.rotate(a),e.strokeStyle="white",e.beginPath(),e.moveTo(0,0),e.lineTo(0,this.options.size*u),e.stroke(),e.setTransform(1,0,0,1,0,0)}}}_initField(){const{columns:e,rows:t,layers:i}=this.options;this.field=new Array(e);for(let r=0;r<e;r++){this.field[r]=new Array(t);for(let s=0;s<t;s++){this.field[r][s]=new Array(i);for(let o=0;o<i;o++)this.field[r][s][o]=Lr.origin}}}_resetField(){const e=this.container;if(!e)return;const t=e.actualOptions.particles.move.path.options,{options:i}=this;i.width=e.canvas.size.width,i.height=e.canvas.size.height,i.size=t.size>0?t.size:pp.size,i.increment=t.increment>0?t.increment:pp.increment,i.draw=!!t.draw;const r=t.offset;i.offset.x=r?.x??pp.offset.x,i.offset.y=r?.y??pp.offset.y,i.offset.z=r?.z??pp.offset.z;const s=t.factor;i.factor.angle=s?.angle??pp.factor.angle,i.factor.length=s?.length??pp.factor.length,i.seed=t.seed,this._simplex.seed(i.seed??Gn()),i.columns=Math.floor(i.width/i.size)+1,i.rows=Math.floor(i.height/i.size)+1,i.layers=Math.floor(e.zLayers/i.size)+1,this._initField()}_setup(){this.noiseW=0,this._resetField(),addEventListener("resize",()=>this._resetField())}}const xee="simplexNoise";async function See(n,e=!0){n.checkVersion("3.9.1"),await n.addPathGenerator(xee,new bee,e)}class HL{constructor(){this.loop=!1,this.source=""}load(e){Lt(e)||(Lp(e)?(e.loop!==void 0&&(this.loop=e.loop),e.source!==void 0&&(this.source=e.source)):this.source=e)}}class B4{constructor(){this.duration=500,this.value=[]}load(e){Lt(e)||(e.duration!==void 0&&(this.duration=e.duration),e.value!==void 0&&(this.value=e.value))}}class mM{constructor(){this.loop=!1,this.melodies=[],this.notes=[]}load(e){Lt(e)||(e.loop!==void 0&&(this.loop=e.loop),e.melodies!==void 0&&(this.melodies=e.melodies.map(t=>{const i=new mM;return i.load(t),i})),e.notes!==void 0&&(this.notes=e.notes.map(t=>{const i=new B4;return i.load(t),i})))}}class Eee{constructor(){this.event=[],this.notes=[]}load(e){if(!Lt(e)&&(e.event!==void 0&&(this.event=e.event),e.audio!==void 0&&(Da(e.audio)?this.audio=e.audio.map(t=>{const i=new HL;return i.load(t),i}):(this.audio=new HL,this.audio.load(e.audio))),e.notes!==void 0&&(this.notes=e.notes.map(t=>{const i=new B4;return i.load(t),i})),e.melodies!==void 0&&(this.melodies=e.melodies.map(t=>{const i=new mM;return i.load(t),i})),e.filter))if(dc(e.filter)){const t=window[e.filter];bE(t)&&(this.filter=t)}else this.filter=e.filter}}class _x{constructor(){this.width=24,this.height=24,this.style=""}load(e){Lt(e)||(e.path!==void 0&&(this.path=e.path),e.svg!==void 0&&(this.svg=e.svg),e.width!==void 0&&(this.width=e.width),e.height!==void 0&&(this.height=e.height))}}class wee{constructor(){this.mute=new _x,this.unmute=new _x,this.volumeDown=new _x,this.volumeUp=new _x,this.enable=!1,this.mute.svg=`<?xml version="1.0"?>
<svg baseProfile="tiny" height="24px" version="1.2" viewBox="0 0 24 24" width="24px"
    xml:space="preserve" xmlns="http://www.w3.org/2000/svg"
    xmlns:xlink="http://www.w3.org/1999/xlink">
    <g id="Layer_1">
        <path fill="#fff" d="M19.707,5.293c-0.391-0.391-1.023-0.391-1.414,0l-1.551,1.551c-0.345-0.688-0.987-1.02-1.604-1.02c-0.449,0-0.905,0.152-1.356,0.453l-2.672,1.781C10.357,8.561,8.904,9,8,9c-1.654,0-3,1.346-3,3v2c0,1.237,0.754,2.302,1.826,2.76l-1.533,1.533c-0.391,0.391-0.391,1.023,0,1.414C5.488,19.902,5.744,20,6,20s0.512-0.098,0.707-0.293l2.527-2.527c0.697,0.174,1.416,0.455,1.875,0.762l2.672,1.781c0.451,0.301,0.907,0.453,1.356,0.453C16.035,20.176,17,19.495,17,18V9.414l2.707-2.707C20.098,6.316,20.098,5.684,19.707,5.293z M14.891,7.941c0.038-0.025,0.073-0.046,0.104-0.062C14.998,7.914,15,7.954,15,8v1.293l-2,2V9.202L14.891,7.941z M7,12c0-0.552,0.448-1,1-1c1.211,0,2.907-0.495,4-1.146v2.439l-2.83,2.83C8.757,15.046,8.356,15,8,15c-0.552,0-1-0.448-1-1V12z M10.301,15.406L12,13.707v2.439C11.519,15.859,10.925,15.604,10.301,15.406z M14.994,18.12c-0.03-0.016-0.065-0.036-0.104-0.062L13,16.798v-4.091l2-2V18C15,18.046,14.998,18.086,14.994,18.12z"/>
    </g>
</svg>`,this.unmute.svg=`<?xml version="1.0"?>
<svg baseProfile="tiny" height="24px" version="1.2" viewBox="0 0 24 24" width="24px"
    xml:space="preserve" xmlns="http://www.w3.org/2000/svg"
    xmlns:xlink="http://www.w3.org/1999/xlink">
    <g id="Layer_1">
        <path fill="#fff" d="M17.138,5.824c-0.449,0-0.905,0.152-1.356,0.453l-2.672,1.781C12.357,8.561,10.904,9,10,9c-1.654,0-3,1.346-3,3v2c0,1.654,1.346,3,3,3c0.904,0,2.357,0.439,3.109,0.941l2.672,1.781c0.451,0.301,0.907,0.453,1.356,0.453C18.035,20.176,19,19.495,19,18V8C19,6.505,18.035,5.824,17.138,5.824z M14,16.146C12.907,15.495,11.211,15,10,15c-0.552,0-1-0.448-1-1v-2c0-0.552,0.448-1,1-1c1.211,0,2.907-0.495,4-1.146V16.146z M17,18c0,0.046-0.002,0.086-0.006,0.12c-0.03-0.016-0.065-0.036-0.104-0.062L15,16.798V9.202l1.891-1.261c0.038-0.025,0.073-0.046,0.104-0.062C16.998,7.914,17,7.954,17,8V18z"/>
    </g>
</svg>`,this.volumeDown.svg=`<?xml version="1.0"?>
<svg baseProfile="tiny" height="24px" version="1.2" viewBox="0 0 24 24" width="24px"
    xml:space="preserve" xmlns="http://www.w3.org/2000/svg"
    xmlns:xlink="http://www.w3.org/1999/xlink">
    <g id="Layer_1">
        <path fill="#fff" d="M15.138,5.824c-0.449,0-0.905,0.152-1.356,0.453l-2.672,1.781C10.357,8.561,8.904,9,8,9c-1.654,0-3,1.346-3,3v2c0,1.654,1.346,3,3,3c0.904,0,2.357,0.439,3.109,0.941l2.672,1.781c0.451,0.301,0.907,0.453,1.356,0.453C16.035,20.176,17,19.495,17,18V8C17,6.505,16.035,5.824,15.138,5.824z M8,15c-0.552,0-1-0.448-1-1v-2c0-0.552,0.448-1,1-1c1.211,0,2.907-0.495,4-1.146v6.293C10.907,15.495,9.211,15,8,15z M15,18c0,0.046-0.002,0.086-0.006,0.12c-0.03-0.016-0.065-0.036-0.104-0.062L13,16.798V9.202l1.891-1.261c0.038-0.025,0.073-0.046,0.104-0.062C14.998,7.914,15,7.954,15,8V18z"/>
        <path fill="#fff" d="M18.292,10.294c-0.39,0.391-0.39,1.023,0.002,1.414c0.345,0.345,0.535,0.803,0.535,1.291c0,0.489-0.19,0.948-0.536,1.294c-0.391,0.39-0.391,1.023,0,1.414C18.488,15.902,18.744,16,19,16s0.512-0.098,0.707-0.293c0.724-0.723,1.122-1.685,1.122-2.708s-0.398-1.984-1.123-2.707C19.317,9.903,18.683,9.901,18.292,10.294z"/>
    </g>
</svg>`,this.volumeUp.svg=`<?xml version="1.0"?>
<svg baseProfile="tiny" height="24px" version="1.2" viewBox="0 0 24 24" width="24px"
    xml:space="preserve" xmlns="http://www.w3.org/2000/svg"
    xmlns:xlink="http://www.w3.org/1999/xlink">
    <g id="Layer_1">
        <path fill="#fff" d="M16.706,10.292c-0.389-0.389-1.023-0.391-1.414,0.002c-0.39,0.391-0.39,1.023,0.002,1.414c0.345,0.345,0.535,0.803,0.535,1.291c0,0.489-0.19,0.948-0.536,1.294c-0.391,0.39-0.391,1.023,0,1.414C15.488,15.902,15.744,16,16,16s0.512-0.098,0.707-0.293c0.724-0.723,1.122-1.685,1.122-2.708S17.431,11.015,16.706,10.292z"/>
        <path fill="#fff" d="M18.706,8.292c-0.391-0.389-1.023-0.39-1.414,0.002c-0.39,0.391-0.39,1.024,0.002,1.414c0.879,0.877,1.363,2.044,1.364,3.287c0.001,1.246-0.484,2.417-1.365,3.298c-0.391,0.391-0.391,1.023,0,1.414C17.488,17.902,17.744,18,18,18s0.512-0.098,0.707-0.293c1.259-1.259,1.952-2.933,1.951-4.713C20.657,11.217,19.964,9.547,18.706,8.292z"/>
        <path fill="#fff" d="M20.706,6.292c-0.391-0.389-1.023-0.39-1.414,0.002c-0.39,0.391-0.39,1.024,0.002,1.414c1.412,1.409,2.191,3.285,2.192,5.284c0.002,2.002-0.777,3.885-2.193,5.301c-0.391,0.391-0.391,1.023,0,1.414C19.488,19.902,19.744,20,20,20s0.512-0.098,0.707-0.293c1.794-1.794,2.781-4.18,2.779-6.717C23.485,10.457,22.497,8.078,20.706,6.292z"/>
        <path fill="#fff" d="M12.138,5.824c-0.449,0-0.905,0.152-1.356,0.453L8.109,8.059C7.357,8.561,5.904,9,5,9c-1.654,0-3,1.346-3,3v2c0,1.654,1.346,3,3,3c0.904,0,2.357,0.439,3.109,0.941l2.672,1.781c0.451,0.301,0.907,0.453,1.356,0.453C13.035,20.176,14,19.495,14,18V8C14,6.505,13.035,5.824,12.138,5.824z M5,15c-0.552,0-1-0.448-1-1v-2c0-0.552,0.448-1,1-1c1.211,0,2.907-0.495,4-1.146v6.293C7.907,15.495,6.211,15,5,15z M12,18c0,0.046-0.002,0.086-0.006,0.12c-0.03-0.016-0.065-0.036-0.104-0.062L10,16.798V9.202l1.891-1.261c0.038-0.025,0.073-0.046,0.104-0.062C11.998,7.914,12,7.954,12,8V18z"/>
    </g>
</svg>`}load(e){Lt(e)||(e.enable!==void 0&&(this.enable=e.enable),this.mute.load(e.mute),this.unmute.load(e.unmute),this.volumeDown.load(e.volumeDown),this.volumeUp.load(e.volumeUp))}}class Cee{constructor(){this.value=100,this.max=100,this.min=0,this.step=10}load(e){Lt(e)||(Lp(e)?(e.max!==void 0&&(this.max=e.max),e.min!==void 0&&(this.min=e.min),e.step!==void 0&&(this.step=e.step),e.value!==void 0&&(this.value=e.value)):this.value=e)}}class Tee{constructor(){this.autoPlay=!0,this.enable=!1,this.events=[],this.icons=new wee,this.volume=new Cee}load(e){Lt(e)||(e.autoPlay!==void 0&&(this.autoPlay=e.autoPlay),e.enable!==void 0&&(this.enable=e.enable),e.events!==void 0&&(this.events=e.events.map(t=>{const i=new Eee;return i.load(t),i})),this.icons.load(e.icons),e.volume!==void 0&&this.volume.load(e.volume))}}var nS;(function(n){n.mute="soundsMuted",n.unmute="soundsUnmuted"})(nS||(nS={}));var Vy;(function(n){n.Block="block",n.None="none"})(Vy||(Vy={}));const Bc=new Map;Bc.set("C",[16.35,32.7,65.41,130.81,261.63,523.25,1046.5,2093,4186.01]);Bc.set("Db",[17.32,34.65,69.3,138.59,277.18,554.37,1108.73,2217.46,4434.92]);Bc.set("D",[18.35,36.71,73.42,146.83,293.66,587.33,1174.66,2349.32,4698.63]);Bc.set("Eb",[19.45,38.89,77.78,155.56,311.13,622.25,1244.51,2489.02,4978.03]);Bc.set("E",[20.6,41.2,82.41,164.81,329.63,659.25,1318.51,2637.02,5274.04]);Bc.set("F",[21.83,43.65,87.31,174.61,349.23,698.46,1396.91,2793.83,5587.65]);Bc.set("Gb",[23.12,46.25,92.5,185,369.99,739.99,1479.98,2959.96,5919.91]);Bc.set("G",[24.5,49,98,196,392,783.99,1567.98,3135.96,6271.93]);Bc.set("Ab",[25.96,51.91,103.83,207.65,415.3,830.61,1661.22,3322.44,6644.88]);Bc.set("A",[27.5,55,110,220,440,880,1760,3520,7040]);Bc.set("Bb",[29.14,58.27,116.54,233.08,466.16,932.33,1864.66,3729.31,7458.62]);Bc.set("B",[30.87,61.74,123.47,246.94,493.88,987.77,1975.53,3951.07,7902.13]);Bc.set("pause",[0]);function Aee(n){const e=/(([A-G]b?)(\d))|pause/i,t=e.exec(n),i=2,r=0,s=3;if(!t?.length)return;const o=t[i]||t[r],l=Bc.get(o);if(l)return l[parseInt(t[s]||"0")]}let U4=!0;const GL=()=>U4,k4=()=>{U4=!1},z4=1,Ree=1,VL=0;function bx(n){const e=document.createElement("img"),{clickCb:t,container:i,display:r,iconOptions:s,margin:o,options:l,pos:a,rightOffsets:u}=n,{width:m,path:d,style:b,svg:g}=s;return Mee(e,a.top+o,a.right-(o*(u.length+Ree)+m+u.reduce((v,c)=>v+c,0)),r,l.fullScreen.zIndex+z4,m,o,b),e.src=d??(g?`data:image/svg+xml;base64,${btoa(g)}`:""),(i.canvas.element?.parentNode??document.body).append(e),e.addEventListener("click",()=>{t()}),e}function xx(n){n&&n.remove()}function Mee(n,e,t,i,r,s,o,l){n.style.userSelect="none",n.style.webkitUserSelect="none",n.style.position="absolute",n.style.top=`${e+o}px`,n.style.left=`${t-o-s}px`,n.style.display=i,n.style.zIndex=`${r+z4}`,n.style.cssText+=l}class Oee{constructor(e,t){this._addBuffer=i=>{const r=i.createBufferSource();return this._audioSources.push(r),r},this._addOscillator=i=>{const r=i.createOscillator();return this._audioSources.push(r),r},this._initEvents=()=>{const i=this._container,r=i.actualOptions.sounds;if(!(!r?.enable||!i.canvas.element))for(const s of r.events){const o=l=>{(async()=>{const a=s.filter&&!s.filter(l);if(this._container!==l.container)return;if(!this._container||this._container.muted||this._container.destroyed){Ys(s.event,m=>{this._engine.removeEventListener(m,o)});return}if(a)return;const u=0;if(s.audio)this._playBuffer(sa(s.audio));else if(s.melodies){const m=ud(s.melodies);m.melodies.length?await Promise.allSettled(m.melodies.map(d=>this._playNote(d.notes,u,m.loop))):await this._playNote(m.notes,u,m.loop)}else if(s.notes){const m=ud(s.notes);await this._playNote([m],u,!1)}})()};Ys(s.event,l=>{this._engine.addEventListener(l,o)})}},this._mute=async()=>{const i=this._container,r=this._getAudioContext();for(const s of this._audioSources)this._removeAudioSource(s);this._gain&&this._gain.disconnect(),await r.close(),i.audioContext=void 0,this._engine.dispatchEvent(nS.mute,{container:this._container})},this._playBuffer=i=>{const r=this._audioMap.get(i.source);if(!r)return;const s=this._container.audioContext;if(!s)return;const o=this._addBuffer(s);o.loop=i.loop,o.buffer=r,o.connect(this._gain??s.destination),o.start()},this._playFrequency=async(i,r)=>{if(!this._gain||this._container.muted)return;const s=this._getAudioContext(),o=this._addOscillator(s);return o.connect(this._gain),o.type="sine",o.frequency.value=i,o.start(),new Promise(l=>{setTimeout(()=>{this._removeAudioSource(o),l()},r)})},this._playMuteSound=()=>{if(this._container.muted)return;const i=this._getAudioContext(),r=i.createGain();r.connect(i.destination),r.gain.value=0;const s=i.createOscillator();s.connect(r),s.type="sine",s.frequency.value=1,s.start(),setTimeout(()=>{s.stop(),s.disconnect(),r.disconnect()})},this._playNote=async(i,r,s)=>{if(this._container.muted)return;const o=i[r];if(!o)return;const l=o.value,a=Ys(l,async(d,b)=>this._playNoteValue(i,r,b));await(Da(a)?Promise.allSettled(a):a);let m=r+1;s&&m>=i.length&&(m=m%i.length),!this._container.muted&&await this._playNote(i,m,s)},this._playNoteValue=async(i,r,s)=>{const o=i[r];if(!o)return;const l=sa(o.value,s,!0);try{const a=Aee(l);if(!vl(a))return;await this._playFrequency(a,o.duration)}catch(a){Sf().error(a)}},this._removeAudioSource=i=>{i.stop(),i.disconnect(),this._audioSources.splice(this._audioSources.indexOf(i),1)},this._unmute=()=>{const i=this._container,r=i.actualOptions,s=r.sounds;if(!s)return;const o=this._getAudioContext();this._audioSources||(this._audioSources=[]);const l=o.createGain();l.connect(o.destination),l.gain.value=s.volume.value/Sr,this._gain=l,this._initEvents(),this._engine.dispatchEvent(nS.unmute,{container:this._container})},this._updateMuteIcons=()=>{const i=this._container,r=i.actualOptions.sounds;if(!r?.enable||!r.icons.enable)return;const s=this._muteImg,o=this._unmuteImg;s&&(s.style.display=i.muted?"block":"none"),o&&(o.style.display=i.muted?"none":"block")},this._updateMuteStatus=async()=>{const i=this._container,r=this._getAudioContext();i.muted?(await r?.suspend(),await this._mute()):(await r?.resume(),this._unmute(),this._playMuteSound())},this._updateVolume=async()=>{const i=this._container,r=i.actualOptions.sounds;if(!r?.enable)return;Ic(this._volume,r.volume.min,r.volume.max);let s=!1;this._volume<=VL&&!i.muted?(this._volume=0,i.muted=!0,s=!0):this._volume>VL&&i.muted&&(i.muted=!1,s=!0),s&&(this._updateMuteIcons(),await this._updateMuteStatus()),this._gain?.gain&&(this._gain.gain.value=this._volume/Sr)},this._container=e,this._engine=t,this._volume=0,this._audioSources=[],this._audioMap=new Map}async init(){const e=this._container,t=e.actualOptions,i=t.sounds;if(!i?.enable)return;if(i.autoPlay&&GL()){const s=()=>{removeEventListener(u_,s),removeEventListener(h_,s),k4(),this.unmute()},o={capture:!0,once:!0};addEventListener(u_,s,o),addEventListener(h_,s,o)}this._volume=i.volume.value;const r=i.events;this._audioMap=new Map;for(const s of r){if(!s.audio)continue;const o=Ys(s.audio,async l=>{const a=await fetch(l.source);if(!a.ok)return;const u=await a.arrayBuffer(),m=this._getAudioContext(),d=await m.decodeAudioData(u);this._audioMap.set(l.source,d)});o instanceof Promise?await o:await Promise.allSettled(o)}}async mute(){this._container.muted||await this.toggleMute()}async start(){const e=this._container,t=e.actualOptions,i=t.sounds;if(!i?.enable||!e.canvas.element)return;e.muted=!0;const r=e.canvas.element,s={top:r.offsetTop,right:r.offsetLeft+r.offsetWidth},{mute:o,unmute:l,volumeDown:a,volumeUp:u}=i.icons,m=10,d=async()=>{await this.toggleMute()},b=i.icons.enable,g=b?Vy.Block:Vy.None;this._muteImg=bx({container:e,options:t,pos:s,display:g,iconOptions:o,margin:m,rightOffsets:[a.width,u.width],clickCb:d}),this._unmuteImg=bx({container:e,options:t,pos:s,display:Vy.None,iconOptions:l,margin:m,rightOffsets:[a.width,u.width],clickCb:d}),this._volumeDownImg=bx({container:e,options:t,pos:s,display:g,iconOptions:a,margin:m,rightOffsets:[u.width],clickCb:async()=>{await this.volumeDown()}}),this._volumeUpImg=bx({container:e,options:t,pos:s,display:g,iconOptions:u,margin:m,rightOffsets:[],clickCb:async()=>{await this.volumeUp()}}),!GL()&&i.autoPlay&&await this.unmute()}stop(){this._container.muted=!0,(async()=>(await this._mute(),xx(this._muteImg),xx(this._unmuteImg),xx(this._volumeDownImg),xx(this._volumeUpImg)))()}async toggleMute(){const e=this._container;e.muted=!e.muted,this._updateMuteIcons(),await this._updateMuteStatus()}async unmute(){this._container.muted&&await this.toggleMute()}async volumeDown(){const e=this._container,t=e.actualOptions.sounds;t?.enable&&(e.muted&&(this._volume=0),this._volume-=t.volume.step,await this._updateVolume())}async volumeUp(){const e=this._container,t=e.actualOptions.sounds;t?.enable&&(this._volume+=t.volume.step,await this._updateVolume())}_getAudioContext(){const e=this._container;return e.audioContext||(e.audioContext=new AudioContext),e.audioContext}}const iS=()=>{removeEventListener(u_,iS),removeEventListener(h_,iS),k4()};class Lee{constructor(e){this.id="sounds",this._engine=e;const t={capture:!0,once:!0};addEventListener(u_,iS,t),addEventListener(h_,iS,t)}getPlugin(e){return Promise.resolve(new Oee(e,this._engine))}loadOptions(e,t){if(!this.needsPlugin(e)&&!this.needsPlugin(t))return;let i=e.sounds;i?.load===void 0&&(e.sounds=i=new Tee),i.load(t?.sounds)}needsPlugin(e){return e?.sounds?.enable??!1}}async function Pee(n,e=!0){n.checkVersion("3.9.1"),await n.addPlugin(new Lee(n),e)}function Nee(n){const{context:e,particle:t,radius:i}=n;if(t.spiralInnerRadius===void 0||t.spiralLineSpacing===void 0||t.spiralWidthFactor===void 0)return;const r=(i-t.spiralInnerRadius)/t.spiralLineSpacing,s=10;for(let o=0;o<r*s;o++){const l=o/s,a=t.spiralInnerRadius+t.spiralLineSpacing*l,u={x:a*Math.cos(l),y:a*Math.sin(l)};e.lineTo(u.x,u.y)}}const Iee=1,Dee=1,Fee=10;class Bee{constructor(){this.validTypes=["spiral"]}draw(e){Nee(e)}particleInit(e,t){const i=e.retina.pixelRatio,r=t.shapeData;t.spiralInnerRadius=Kt(r?.innerRadius??Iee)*i,t.spiralLineSpacing=Kt(r?.lineSpacing??Dee)*i,t.spiralWidthFactor=Kt(r?.widthFactor??Fee)}}async function Uee(n,e=!0){n.checkVersion("3.9.1"),await n.addShape(new Bee,e)}const kee=2,WL=1,zee=-1,$ee=10,jL={a:1,b:0,c:0,d:1};class Hee{draw(e){const{context:t,radius:i,particle:r,transformData:s}=e,o=i*Ka,l=r.container.retina.pixelRatio,a=r.getPosition(),u=r.trail;if(!u||!r.trailLength)return;const m=r.trailLength+i;if(u.push({color:t.fillStyle??t.strokeStyle,position:{x:a.x,y:a.y},transformData:{...e.transformData}}),u.length<kee)return;for(;u.length>m;)u.shift();const d=Math.min(u.length,m),b={width:r.container.canvas.size.width+o,height:r.container.canvas.size.height+o};let g=u[d-WL].position;for(let _=d;_>d_;_--){const p=u[_-WL],v=p.position,c=r.trailTransform?p.transformData??jL:jL;t.setTransform(c.a,c.b,c.c,c.d,v.x,v.y),t.beginPath(),t.moveTo(g.x-v.x,g.y-v.y);const x={x:(g.x+b.width)%b.width,y:(g.y+b.height)%b.height};if(Math.abs(g.x-v.x)>b.width*_r||Math.abs(g.y-v.y)>b.height*_r){g=v;continue}t.lineTo(Math.abs(g.x-v.x)>b.width*_r?x.x:xa.x,Math.abs(g.y-v.y)>b.height*_r?x.y:xa.y);const w=Math.max(_/d*o,l,r.trailMinWidth??zee),T=t.globalAlpha;t.globalAlpha=r.trailFade?_/d:dV,t.lineWidth=r.trailMaxWidth?Math.min(w,r.trailMaxWidth):w,t.strokeStyle=p.color,t.stroke(),t.globalAlpha=T,g=v}t.setTransform(s.a,s.b,s.c,s.d,a.x,a.y)}particleInit(e,t){t.trail=[];const i=t.effectData;t.trailFade=i?.fade??!0,t.trailLength=Kt(i?.length??$ee)*e.retina.pixelRatio,t.trailMaxWidth=i?.maxWidth?Kt(i.maxWidth)*e.retina.pixelRatio:void 0,t.trailMinWidth=i?.minWidth?Kt(i.minWidth)*e.retina.pixelRatio:void 0,t.trailTransform=i?.transform??!1}}async function Gee(n,e=!0){n.checkVersion("3.9.1"),await n.addEffect("trail",new Hee,e)}const Vee=.5,Wee=.5,XL=Math.PI*Wee;class jee{constructor(){this.options={waveHeight:{min:0,max:3},waveLength:{min:0,max:5}}}generate(e,t){e.zigzag===void 0&&(e.zigzag={counter:Gn(),waveHeight:Kt(this.options.waveHeight),waveLength:Kt(this.options.waveLength)});const i=Vee/e.zigzag.waveLength*t.factor;e.zigzag.counter+=i;const r=e.zigzag.waveHeight*Math.sin(e.zigzag.counter);return e.position.x+=r*Math.cos(e.velocity.angle+XL),e.position.y+=r*Math.sin(e.velocity.angle+XL),Lr.origin}init(e){const t=e.actualOptions.particles.move.path.options;this.options.waveLength=t.waveLength??this.options.waveLength,this.options.waveHeight=t.waveHeight??this.options.waveHeight}reset(){}update(){}}const Xee="zigZagPathGenerator";async function qee(n,e=!0){n.checkVersion("3.9.1"),await n.addPathGenerator(Xee,new jee,e)}async function Yee(n,e=!0){n.checkVersion("3.9.1"),U9(n),await $Z(n,!1),await oQ(n,!1),await WQ(n,!1),await KQ(n,!1),await H7(n,!1),await G7(n,!1),await V7(n,!1),await W7(n,!1),await j7(n,!1),await X7(n,!1),await q7(n,!1),await Y7(n,!1),await bW(n,!1),await TW(n,!1),await BW(n,!1),await p7(n,!1),await vQ(n,!1),await HQ(n,!1),await qJ(n,!1),await Pee(n,!1),await zW(n,!1),await VW(n,!1),await KW(n,!1),await JW(n,!1),await nj(n,!1),await IQ(n,!1),await gJ(n,!1),await QZ(n,!1),await cJ(n,!1),await $7(n,!1),await D7(n,!1),await aj(n,!1),await CJ(n,!1),await LJ(n,!1),await ZJ(n,!1),await _ee(n,!1),await qee(n,!1),await See(n,!1),await Z9(n,!1),await q9(n,!1),await _7(n,!1),await M7(n,!1),await iQ(n,!1),await xQ(n,!1),await _J(n,!1),await see(n,!1),await hee(n,!1),await Uee(n,!1),await Gee(n,!1),await n.refresh(e)}function Kee(n,e){typeof n=="function"?n(e):n!=null&&(n.current=e)}function Zee(...n){return e=>n.forEach(t=>Kee(t,e))}const $4=Q.forwardRef((n,e)=>{const{children:t,...i}=n,r=Q.Children.toArray(t),s=r.find(Jee);if(s){const o=s.props.children,l=r.map(a=>a===s?Q.Children.count(o)>1?Q.Children.only(null):Q.isValidElement(o)?o.props.children:null:a);return Q.createElement(XA,Ks({},i,{ref:e}),Q.isValidElement(o)?Q.cloneElement(o,void 0,l):null)}return Q.createElement(XA,Ks({},i,{ref:e}),t)});$4.displayName="Slot";const XA=Q.forwardRef((n,e)=>{const{children:t,...i}=n;return Q.isValidElement(t)?Q.cloneElement(t,{...ete(i,t.props),ref:Zee(e,t.ref)}):Q.Children.count(t)>1?Q.Children.only(null):null});XA.displayName="SlotClone";const Qee=({children:n})=>Q.createElement(Q.Fragment,null,n);function Jee(n){return Q.isValidElement(n)&&n.type===Qee}function ete(n,e){const t={...e};for(const i in e){const r=n[i],s=e[i];/^on[A-Z]/.test(i)?r&&s?t[i]=(...l)=>{s(...l),r(...l)}:r&&(t[i]=r):i==="style"?t[i]={...r,...s}:i==="className"&&(t[i]=[r,s].filter(Boolean).join(" "))}return{...n,...t}}const tte=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],nte=tte.reduce((n,e)=>{const t=Q.forwardRef((i,r)=>{const{asChild:s,...o}=i,l=s?$4:e;return Q.useEffect(()=>{window[Symbol.for("radix-ui")]=!0},[]),Q.createElement(l,Ks({},o,{ref:r}))});return t.displayName=`Primitive.${e}`,{...n,[e]:t}},{}),ite=Q.forwardRef((n,e)=>{var t;const{container:i=globalThis==null||(t=globalThis.document)===null||t===void 0?void 0:t.body,...r}=n;return i?Km.createPortal(Q.createElement(nte.div,Ks({},r,{ref:e})),i):null}),rte=ite;var qL=Object.prototype.hasOwnProperty;function p_(n,e){var t,i;if(n===e)return!0;if(n&&e&&(t=n.constructor)===e.constructor){if(t===Date)return n.getTime()===e.getTime();if(t===RegExp)return n.toString()===e.toString();if(t===Array){if((i=n.length)===e.length)for(;i--&&p_(n[i],e[i]););return i===-1}if(!t||typeof n=="object"){i=0;for(t in n)if(qL.call(n,t)&&++i&&!qL.call(e,t)||!(t in e)||!p_(n[t],e[t]))return!1;return Object.keys(e).length===i}}return n!==n&&e!==e}function TE(n,e){if(Object.is(n,e))return!0;if(typeof n!="object"||n===null||typeof e!="object"||e===null)return!1;const t=Object.keys(n);if(t.length!==Object.keys(e).length)return!1;for(let i=0;i<t.length;i++)if(!Object.prototype.hasOwnProperty.call(e,t[i])||!Object.is(n[t[i]],e[t[i]]))return!1;return!0}var AE=function(e,t,i,r){this.name=e,this.fn=t,this.args=i,this.modifiers=r};AE.prototype._test=function(e){var t=this.fn;try{Jv(this.modifiers.slice(),t,this)(e)}catch{t=function(){return!1}}try{return Jv(this.modifiers.slice(),t,this)(e)}catch{return!1}};AE.prototype._check=function(e){try{Jv(this.modifiers.slice(),this.fn,this)(e)}catch{if(Jv(this.modifiers.slice(),function(i){return i},this)(!1))return}if(!Jv(this.modifiers.slice(),this.fn,this)(e))throw null};AE.prototype._testAsync=function(e){var t=this;return new Promise(function(i,r){G4(t.modifiers.slice(),t.fn,t)(e).then(function(s){s?i(e):r(null)}).catch(function(s){return r(s)})})};function H4(n,e){return e===void 0&&(e="simple"),typeof n=="object"?n[e]:n}function Jv(n,e,t){if(n.length){var i=n.shift(),r=Jv(n,e,t);return i.perform(r,t)}else return H4(e)}function G4(n,e,t){if(n.length){var i=n.shift(),r=G4(n,e,t);return i.performAsync(r,t)}else return function(s){return Promise.resolve(H4(e,"async")(s))}}var ste=function(e,t,i){this.name=e,this.perform=t,this.performAsync=i},gM=(function(n){function e(t,i,r,s){for(var o=[],l=arguments.length-4;l-- >0;)o[l]=arguments[l+4];n.call(this,o),n.captureStackTrace&&n.captureStackTrace(this,e),this.rule=t,this.value=i,this.cause=r,this.target=s}return n&&(e.__proto__=n),e.prototype=Object.create(n&&n.prototype),e.prototype.constructor=e,e})(Error),dd=function(e,t){e===void 0&&(e=[]),t===void 0&&(t=[]),this.chain=e,this.nextRuleModifiers=t};dd.prototype._applyRule=function(e,t){var i=this;return function(){for(var r=[],s=arguments.length;s--;)r[s]=arguments[s];return i.chain.push(new AE(t,e.apply(i,r),r,i.nextRuleModifiers)),i.nextRuleModifiers=[],i}};dd.prototype._applyModifier=function(e,t){return this.nextRuleModifiers.push(new ste(t,e.simple,e.async)),this};dd.prototype._clone=function(){return new dd(this.chain.slice(),this.nextRuleModifiers.slice())};dd.prototype.test=function(e){return this.chain.every(function(t){return t._test(e)})};dd.prototype.testAll=function(e){var t=[];return this.chain.forEach(function(i){try{i._check(e)}catch(r){t.push(new gM(i,e,r))}}),t};dd.prototype.check=function(e){this.chain.forEach(function(t){try{t._check(e)}catch(i){throw new gM(t,e,i)}})};dd.prototype.testAsync=function(e){var t=this;return new Promise(function(i,r){V4(e,t.chain.slice(),i,r)})};function V4(n,e,t,i){if(e.length){var r=e.shift();r._testAsync(n).then(function(){V4(n,e,t,i)},function(s){i(new gM(r,n,s))})}else t(n)}var YL=function(n,e){return e&&typeof n=="string"&&n.trim().length===0?!0:n==null};function ote(n,e){return e===void 0&&(e=!1),{simple:function(t){return YL(t,e)||n.check(t)===void 0},async:function(t){return YL(t,e)||n.testAsync(t)}}}function Nc(){return typeof Proxy<"u"?W4(new dd):qA(new dd)}var m_={};Nc.extend=function(n){Object.assign(m_,n)};Nc.clearCustomRules=function(){m_={}};function W4(n){return new Proxy(n,{get:function(t,i){if(i in t)return t[i];var r=W4(n._clone());if(i in rS)return r._applyModifier(rS[i],i);if(i in m_)return r._applyRule(m_[i],i);if(i in YA)return r._applyRule(YA[i],i)}})}function qA(n){var e=function(r,s){return Object.keys(r).forEach(function(o){s[o]=function(){for(var l=[],a=arguments.length;a--;)l[a]=arguments[a];var u=qA(s._clone()),m=u._applyRule(r[o],o).apply(void 0,l);return m}}),s},t=e(YA,n),i=e(m_,t);return Object.keys(rS).forEach(function(r){Object.defineProperty(i,r,{get:function(){var s=qA(i._clone());return s._applyModifier(rS[r],r)}})}),i}var rS={not:{simple:function(n){return function(e){return!n(e)}},async:function(n){return function(e){return Promise.resolve(n(e)).then(function(t){return!t}).catch(function(){return!0})}}},some:{simple:function(n){return function(e){return Sx(e).some(function(t){try{return n(t)}catch{return!1}})}},async:function(n){return function(e){return Promise.all(Sx(e).map(function(t){try{return n(t).catch(function(){return!1})}catch{return!1}})).then(function(t){return t.some(Boolean)})}}},every:{simple:function(n){return function(e){return e!==!1&&Sx(e).every(n)}},async:function(n){return function(e){return Promise.all(Sx(e).map(n)).then(function(t){return t.every(Boolean)})}}},strict:{simple:function(n,e){return function(t){return KL(e)&&t&&typeof t=="object"?Object.keys(e.args[0]).length===Object.keys(t).length&&n(t):n(t)}},async:function(n,e){return function(t){return Promise.resolve(n(t)).then(function(i){return KL(e)&&t&&typeof t=="object"?Object.keys(e.args[0]).length===Object.keys(t).length&&i:i}).catch(function(){return!1})}}}};function KL(n){return n&&n.name==="schema"&&n.args.length>0&&typeof n.args[0]=="object"}function Sx(n){return typeof n=="string"?n.split(""):n}var YA={equal:function(n){return function(e){return e==n}},exact:function(n){return function(e){return e===n}},number:function(n){return n===void 0&&(n=!0),function(e){return typeof e=="number"&&(n||isFinite(e))}},integer:function(){return function(n){var e=Number.isInteger||ate;return e(n)}},numeric:function(){return function(n){return!isNaN(parseFloat(n))&&isFinite(n)}},string:function(){return fv("string")},boolean:function(){return fv("boolean")},undefined:function(){return fv("undefined")},null:function(){return fv("null")},array:function(){return fv("array")},object:function(){return fv("object")},instanceOf:function(n){return function(e){return e instanceof n}},pattern:function(n){return function(e){return n.test(e)}},lowercase:function(){return function(n){return typeof n=="boolean"||n===n.toLowerCase()&&n.trim()!==""}},uppercase:function(){return function(n){return n===n.toUpperCase()&&n.trim()!==""}},vowel:function(){return function(n){return/^[aeiou]+$/i.test(n)}},consonant:function(){return function(n){return/^(?=[^aeiou])([a-z]+)$/i.test(n)}},first:function(n){return function(e){return e[0]==n}},last:function(n){return function(e){return e[e.length-1]==n}},empty:function(){return function(n){return n.length===0}},length:function(n,e){return function(t){return t.length>=n&&t.length<=(e||n)}},minLength:function(n){return function(e){return e.length>=n}},maxLength:function(n){return function(e){return e.length<=n}},negative:function(){return function(n){return n<0}},positive:function(){return function(n){return n>=0}},between:function(n,e){return function(t){return t>=n&&t<=e}},range:function(n,e){return function(t){return t>=n&&t<=e}},lessThan:function(n){return function(e){return e<n}},lessThanOrEqual:function(n){return function(e){return e<=n}},greaterThan:function(n){return function(e){return e>n}},greaterThanOrEqual:function(n){return function(e){return e>=n}},even:function(){return function(n){return n%2===0}},odd:function(){return function(n){return n%2!==0}},includes:function(n){return function(e){return~e.indexOf(n)}},schema:function(n){return lte(n)},passesAnyOf:function(){for(var n=[],e=arguments.length;e--;)n[e]=arguments[e];return function(t){return n.some(function(i){return i.test(t)})}},optional:ote};function fv(n){return function(e){return Array.isArray(e)&&n==="array"||e===null&&n==="null"||typeof e===n}}function ate(n){return typeof n=="number"&&isFinite(n)&&Math.floor(n)===n}function lte(n){return{simple:function(e){var t=[];if(Object.keys(n).forEach(function(i){var r=n[i];try{r.check((e||{})[i])}catch(s){s.target=i,t.push(s)}}),t.length>0)throw t;return!0},async:function(e){var t=[],i=Object.keys(n).map(function(r){var s=n[r];return s.testAsync((e||{})[r]).catch(function(o){o.target=r,t.push(o)})});return Promise.all(i).then(function(){if(t.length>0)throw t;return!0})}}}var Ls="colors",nc="sizes",di="space",cte={gap:di,gridGap:di,columnGap:di,gridColumnGap:di,rowGap:di,gridRowGap:di,inset:di,insetBlock:di,insetBlockEnd:di,insetBlockStart:di,insetInline:di,insetInlineEnd:di,insetInlineStart:di,margin:di,marginTop:di,marginRight:di,marginBottom:di,marginLeft:di,marginBlock:di,marginBlockEnd:di,marginBlockStart:di,marginInline:di,marginInlineEnd:di,marginInlineStart:di,padding:di,paddingTop:di,paddingRight:di,paddingBottom:di,paddingLeft:di,paddingBlock:di,paddingBlockEnd:di,paddingBlockStart:di,paddingInline:di,paddingInlineEnd:di,paddingInlineStart:di,top:di,right:di,bottom:di,left:di,scrollMargin:di,scrollMarginTop:di,scrollMarginRight:di,scrollMarginBottom:di,scrollMarginLeft:di,scrollMarginX:di,scrollMarginY:di,scrollMarginBlock:di,scrollMarginBlockEnd:di,scrollMarginBlockStart:di,scrollMarginInline:di,scrollMarginInlineEnd:di,scrollMarginInlineStart:di,scrollPadding:di,scrollPaddingTop:di,scrollPaddingRight:di,scrollPaddingBottom:di,scrollPaddingLeft:di,scrollPaddingX:di,scrollPaddingY:di,scrollPaddingBlock:di,scrollPaddingBlockEnd:di,scrollPaddingBlockStart:di,scrollPaddingInline:di,scrollPaddingInlineEnd:di,scrollPaddingInlineStart:di,fontSize:"fontSizes",background:Ls,backgroundColor:Ls,backgroundImage:Ls,borderImage:Ls,border:Ls,borderBlock:Ls,borderBlockEnd:Ls,borderBlockStart:Ls,borderBottom:Ls,borderBottomColor:Ls,borderColor:Ls,borderInline:Ls,borderInlineEnd:Ls,borderInlineStart:Ls,borderLeft:Ls,borderLeftColor:Ls,borderRight:Ls,borderRightColor:Ls,borderTop:Ls,borderTopColor:Ls,caretColor:Ls,color:Ls,columnRuleColor:Ls,fill:Ls,outline:Ls,outlineColor:Ls,stroke:Ls,textDecorationColor:Ls,fontFamily:"fonts",fontWeight:"fontWeights",lineHeight:"lineHeights",letterSpacing:"letterSpacings",blockSize:nc,minBlockSize:nc,maxBlockSize:nc,inlineSize:nc,minInlineSize:nc,maxInlineSize:nc,width:nc,minWidth:nc,maxWidth:nc,height:nc,minHeight:nc,maxHeight:nc,flexBasis:nc,gridTemplateColumns:nc,gridTemplateRows:nc,borderWidth:"borderWidths",borderTopWidth:"borderWidths",borderRightWidth:"borderWidths",borderBottomWidth:"borderWidths",borderLeftWidth:"borderWidths",borderStyle:"borderStyles",borderTopStyle:"borderStyles",borderRightStyle:"borderStyles",borderBottomStyle:"borderStyles",borderLeftStyle:"borderStyles",borderRadius:"radii",borderTopLeftRadius:"radii",borderTopRightRadius:"radii",borderBottomRightRadius:"radii",borderBottomLeftRadius:"radii",boxShadow:"shadows",textShadow:"shadows",transition:"transitions",zIndex:"zIndices"},ute=(n,e)=>typeof e=="function"?{"()":Function.prototype.toString.call(e)}:e,C0=()=>{const n=Object.create(null);return(e,t,...i)=>{const r=(s=>JSON.stringify(s,ute))(e);return r in n?n[r]:n[r]=t(e,...i)}},cg=Symbol.for("sxs.internal"),vM=(n,e)=>Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)),ZL=n=>{for(const e in n)return!0;return!1},{hasOwnProperty:hte}=Object.prototype,KA=n=>n.includes("-")?n:n.replace(/[A-Z]/g,(e=>"-"+e.toLowerCase())),dte=/\s+(?![^()]*\))/,pv=n=>e=>n(...typeof e=="string"?String(e).split(dte):[e]),QL={appearance:n=>({WebkitAppearance:n,appearance:n}),backfaceVisibility:n=>({WebkitBackfaceVisibility:n,backfaceVisibility:n}),backdropFilter:n=>({WebkitBackdropFilter:n,backdropFilter:n}),backgroundClip:n=>({WebkitBackgroundClip:n,backgroundClip:n}),boxDecorationBreak:n=>({WebkitBoxDecorationBreak:n,boxDecorationBreak:n}),clipPath:n=>({WebkitClipPath:n,clipPath:n}),content:n=>({content:n.includes('"')||n.includes("'")||/^([A-Za-z]+\([^]*|[^]*-quote|inherit|initial|none|normal|revert|unset)$/.test(n)?n:`"${n}"`}),hyphens:n=>({WebkitHyphens:n,hyphens:n}),maskImage:n=>({WebkitMaskImage:n,maskImage:n}),maskSize:n=>({WebkitMaskSize:n,maskSize:n}),tabSize:n=>({MozTabSize:n,tabSize:n}),textSizeAdjust:n=>({WebkitTextSizeAdjust:n,textSizeAdjust:n}),userSelect:n=>({WebkitUserSelect:n,userSelect:n}),marginBlock:pv(((n,e)=>({marginBlockStart:n,marginBlockEnd:e||n}))),marginInline:pv(((n,e)=>({marginInlineStart:n,marginInlineEnd:e||n}))),maxSize:pv(((n,e)=>({maxBlockSize:n,maxInlineSize:e||n}))),minSize:pv(((n,e)=>({minBlockSize:n,minInlineSize:e||n}))),paddingBlock:pv(((n,e)=>({paddingBlockStart:n,paddingBlockEnd:e||n}))),paddingInline:pv(((n,e)=>({paddingInlineStart:n,paddingInlineEnd:e||n})))},BC=/([\d.]+)([^]*)/,fte=(n,e)=>n.length?n.reduce(((t,i)=>(t.push(...e.map((r=>r.includes("&")?r.replace(/&/g,/[ +>|~]/.test(i)&&/&.*&/.test(r)?`:is(${i})`:i):i+" "+r))),t)),[]):e,pte=(n,e)=>n in mte&&typeof e=="string"?e.replace(/^((?:[^]*[^\w-])?)(fit-content|stretch)((?:[^\w-][^]*)?)$/,((t,i,r,s)=>i+(r==="stretch"?`-moz-available${s};${KA(n)}:${i}-webkit-fill-available`:`-moz-fit-content${s};${KA(n)}:${i}fit-content`)+s)):String(e),mte={blockSize:1,height:1,inlineSize:1,maxBlockSize:1,maxHeight:1,maxInlineSize:1,maxWidth:1,minBlockSize:1,minHeight:1,minInlineSize:1,minWidth:1,width:1},Ef=n=>n?n+"-":"",j4=(n,e,t)=>n.replace(/([+-])?((?:\d+(?:\.\d*)?|\.\d+)(?:[Ee][+-]?\d+)?)?(\$|--)([$\w-]+)/g,((i,r,s,o,l)=>o=="$"==!!s?i:(r||o=="--"?"calc(":"")+"var(--"+(o==="$"?Ef(e)+(l.includes("$")?"":Ef(t))+l.replace(/\$/g,"-"):l)+")"+(r||o=="--"?"*"+(r||"")+(s||"1")+")":""))),gte=/\s*,\s*(?![^()]*\))/,vte=Object.prototype.toString,Hv=(n,e,t,i,r)=>{let s,o,l;const a=(u,m,d)=>{let b,g;const _=p=>{for(b in p){const x=b.charCodeAt(0)===64,w=x&&Array.isArray(p[b])?p[b]:[p[b]];for(g of w){const T=/[A-Z]/.test(c=b)?c:c.replace(/-[^]/g,(P=>P[1].toUpperCase())),L=typeof g=="object"&&g&&g.toString===vte&&(!i.utils[T]||!m.length);if(T in i.utils&&!L){const P=i.utils[T];if(P!==o){o=P,_(P(g)),o=null;continue}}else if(T in QL){const P=QL[T];if(P!==l){l=P,_(P(g)),l=null;continue}}if(x&&(v=b.slice(1)in i.media?"@media "+i.media[b.slice(1)]:b,b=v.replace(/\(\s*([\w-]+)\s*(=|<|<=|>|>=)\s*([\w-]+)\s*(?:(<|<=|>|>=)\s*([\w-]+)\s*)?\)/g,((P,C,I,F,R,D)=>{const G=BC.test(C),j=.0625*(G?-1:1),[k,V]=G?[F,C]:[C,F];return"("+(I[0]==="="?"":I[0]===">"===G?"max-":"min-")+k+":"+(I[0]!=="="&&I.length===1?V.replace(BC,((H,te,ne)=>Number(te)+j*(I===">"?1:-1)+ne)):V)+(R?") and ("+(R[0]===">"?"min-":"max-")+k+":"+(R.length===1?D.replace(BC,((H,te,ne)=>Number(te)+j*(R===">"?-1:1)+ne)):D):"")+")"}))),L){const P=x?d.concat(b):[...d],C=x?[...m]:fte(m,b.split(gte));s!==void 0&&r(JL(...s)),s=void 0,a(g,C,P)}else s===void 0&&(s=[[],m,d]),b=x||b.charCodeAt(0)!==36?b:`--${Ef(i.prefix)}${b.slice(1).replace(/\$/g,"-")}`,g=L?g:typeof g=="number"?g&&T in yte?String(g)+"px":String(g):j4(pte(T,g??""),i.prefix,i.themeMap[T]),s[0].push(`${x?`${b} `:`${KA(b)}:`}${g}`)}}var v,c};_(u),s!==void 0&&r(JL(...s)),s=void 0};a(n,e,t)},JL=(n,e,t)=>`${t.map((i=>`${i}{`)).join("")}${e.length?`${e.join(",")}{`:""}${n.join(";")}${e.length?"}":""}${Array(t.length?t.length+1:0).join("}")}`,yte={animationDelay:1,animationDuration:1,backgroundSize:1,blockSize:1,border:1,borderBlock:1,borderBlockEnd:1,borderBlockEndWidth:1,borderBlockStart:1,borderBlockStartWidth:1,borderBlockWidth:1,borderBottom:1,borderBottomLeftRadius:1,borderBottomRightRadius:1,borderBottomWidth:1,borderEndEndRadius:1,borderEndStartRadius:1,borderInlineEnd:1,borderInlineEndWidth:1,borderInlineStart:1,borderInlineStartWidth:1,borderInlineWidth:1,borderLeft:1,borderLeftWidth:1,borderRadius:1,borderRight:1,borderRightWidth:1,borderSpacing:1,borderStartEndRadius:1,borderStartStartRadius:1,borderTop:1,borderTopLeftRadius:1,borderTopRightRadius:1,borderTopWidth:1,borderWidth:1,bottom:1,columnGap:1,columnRule:1,columnRuleWidth:1,columnWidth:1,containIntrinsicSize:1,flexBasis:1,fontSize:1,gap:1,gridAutoColumns:1,gridAutoRows:1,gridTemplateColumns:1,gridTemplateRows:1,height:1,inlineSize:1,inset:1,insetBlock:1,insetBlockEnd:1,insetBlockStart:1,insetInline:1,insetInlineEnd:1,insetInlineStart:1,left:1,letterSpacing:1,margin:1,marginBlock:1,marginBlockEnd:1,marginBlockStart:1,marginBottom:1,marginInline:1,marginInlineEnd:1,marginInlineStart:1,marginLeft:1,marginRight:1,marginTop:1,maxBlockSize:1,maxHeight:1,maxInlineSize:1,maxWidth:1,minBlockSize:1,minHeight:1,minInlineSize:1,minWidth:1,offsetDistance:1,offsetRotate:1,outline:1,outlineOffset:1,outlineWidth:1,overflowClipMargin:1,padding:1,paddingBlock:1,paddingBlockEnd:1,paddingBlockStart:1,paddingBottom:1,paddingInline:1,paddingInlineEnd:1,paddingInlineStart:1,paddingLeft:1,paddingRight:1,paddingTop:1,perspective:1,right:1,rowGap:1,scrollMargin:1,scrollMarginBlock:1,scrollMarginBlockEnd:1,scrollMarginBlockStart:1,scrollMarginBottom:1,scrollMarginInline:1,scrollMarginInlineEnd:1,scrollMarginInlineStart:1,scrollMarginLeft:1,scrollMarginRight:1,scrollMarginTop:1,scrollPadding:1,scrollPaddingBlock:1,scrollPaddingBlockEnd:1,scrollPaddingBlockStart:1,scrollPaddingBottom:1,scrollPaddingInline:1,scrollPaddingInlineEnd:1,scrollPaddingInlineStart:1,scrollPaddingLeft:1,scrollPaddingRight:1,scrollPaddingTop:1,shapeMargin:1,textDecoration:1,textDecorationThickness:1,textIndent:1,textUnderlineOffset:1,top:1,transitionDelay:1,transitionDuration:1,verticalAlign:1,width:1,wordSpacing:1},eP=n=>String.fromCharCode(n+(n>25?39:97)),ug=n=>(e=>{let t,i="";for(t=Math.abs(e);t>52;t=t/52|0)i=eP(t%52)+i;return eP(t%52)+i})(((e,t)=>{let i=t.length;for(;i;)e=33*e^t.charCodeAt(--i);return e})(5381,JSON.stringify(n))>>>0),By=["themed","global","styled","onevar","resonevar","allvar","inline"],_te=n=>{if(n.href&&!n.href.startsWith(location.origin))return!1;try{return!!n.cssRules}catch{return!1}},bte=n=>{let e;const t=()=>{const{cssRules:r}=e.sheet;return[].map.call(r,((s,o)=>{const{cssText:l}=s;let a="";if(l.startsWith("--sxs"))return"";if(r[o-1]&&(a=r[o-1].cssText).startsWith("--sxs")){if(!s.cssRules.length)return"";for(const u in e.rules)if(e.rules[u].group===s)return`--sxs{--sxs:${[...e.rules[u].cache].join(" ")}}${l}`;return s.cssRules.length?`${a}${l}`:""}return l})).join("")},i=()=>{if(e){const{rules:l,sheet:a}=e;if(!a.deleteRule){for(;Object(Object(a.cssRules)[0]).type===3;)a.cssRules.splice(0,1);a.cssRules=[]}for(const u in l)delete l[u]}const r=Object(n).styleSheets||[];for(const l of r)if(_te(l)){for(let a=0,u=l.cssRules;u[a];++a){const m=Object(u[a]);if(m.type!==1)continue;const d=Object(u[a+1]);if(d.type!==4)continue;++a;const{cssText:b}=m;if(!b.startsWith("--sxs"))continue;const g=b.slice(14,-3).trim().split(/\s+/),_=By[g[0]];_&&(e||(e={sheet:l,reset:i,rules:{},toString:t}),e.rules[_]={group:d,index:a,cache:new Set(g)})}if(e)break}if(!e){const l=(a,u)=>({type:u,cssRules:[],insertRule(m,d){this.cssRules.splice(d,0,l(m,{import:3,undefined:1}[(m.toLowerCase().match(/^@([a-z]+)/)||[])[1]]||4))},get cssText(){return a==="@media{}"?`@media{${[].map.call(this.cssRules,(m=>m.cssText)).join("")}}`:a}});e={sheet:n?(n.head||n).appendChild(document.createElement("style")).sheet:l("","text/css"),rules:{},reset:i,toString:t}}const{sheet:s,rules:o}=e;for(let l=By.length-1;l>=0;--l){const a=By[l];if(!o[a]){const u=By[l+1],m=o[u]?o[u].index:s.cssRules.length;s.insertRule("@media{}",m),s.insertRule(`--sxs{--sxs:${l}}`,m),o[a]={group:s.cssRules[m+1],index:m,cache:new Set([l])}}xte(o[a])}};return i(),e},xte=n=>{const e=n.group;let t=e.cssRules.length;n.apply=i=>{try{e.insertRule(i,t),++t}catch{}}},vy=Symbol(),Ste=C0(),tP=(n,e)=>Ste(n,(()=>(...t)=>{let i={type:null,composers:new Set};for(const r of t)if(r!=null)if(r[cg]){i.type==null&&(i.type=r[cg].type);for(const s of r[cg].composers)i.composers.add(s)}else r.constructor!==Object||r.$$typeof?i.type==null&&(i.type=r):i.composers.add(Ete(r,n));return i.type==null&&(i.type="span"),i.composers.size||i.composers.add(["PJLV",{},[],[],{},[]]),wte(n,i,e)})),Ete=({variants:n,compoundVariants:e,defaultVariants:t,...i},r)=>{const s=`${Ef(r.prefix)}c-${ug(i)}`,o=[],l=[],a=Object.create(null),u=[];for(const b in t)a[b]=String(t[b]);if(typeof n=="object"&&n)for(const b in n){m=a,d=b,hte.call(m,d)||(a[b]="undefined");const g=n[b];for(const _ in g){const p={[b]:String(_)};String(_)==="undefined"&&u.push(b);const v=g[_],c=[p,v,!ZL(v)];o.push(c)}}var m,d;if(typeof e=="object"&&e)for(const b of e){let{css:g,..._}=b;g=typeof g=="object"&&g||{};for(const v in _)_[v]=String(_[v]);const p=[_,g,!ZL(g)];l.push(p)}return[s,i,o,l,a,u]},wte=(n,e,t)=>{const[i,r,s,o]=Cte(e.composers),l=typeof e.type=="function"||e.type.$$typeof?(d=>{function b(){for(let g=0;g<b[vy].length;g++){const[_,p]=b[vy][g];d.rules[_].apply(p)}return b[vy]=[],null}return b[vy]=[],b.rules={},By.forEach((g=>b.rules[g]={apply:_=>b[vy].push([g,_])})),b})(t):null,a=(l||t).rules,u=`.${i}${r.length>1?`:where(.${r.slice(1).join(".")})`:""}`,m=d=>{d=typeof d=="object"&&d||Tte;const{css:b,...g}=d,_={};for(const c in s)if(delete g[c],c in d){let x=d[c];typeof x=="object"&&x?_[c]={"@initial":s[c],...x}:(x=String(x),_[c]=x!=="undefined"||o.has(c)?x:s[c])}else _[c]=s[c];const p=new Set([...r]);for(const[c,x,w,T]of e.composers){t.rules.styled.cache.has(c)||(t.rules.styled.cache.add(c),Hv(x,[`.${c}`],[],n,(C=>{a.styled.apply(C)})));const L=nP(w,_,n.media),P=nP(T,_,n.media,!0);for(const C of L)if(C!==void 0)for(const[I,F,R]of C){const D=`${c}-${ug(F)}-${I}`;p.add(D);const G=(R?t.rules.resonevar:t.rules.onevar).cache,j=R?a.resonevar:a.onevar;G.has(D)||(G.add(D),Hv(F,[`.${D}`],[],n,(k=>{j.apply(k)})))}for(const C of P)if(C!==void 0)for(const[I,F]of C){const R=`${c}-${ug(F)}-${I}`;p.add(R),t.rules.allvar.cache.has(R)||(t.rules.allvar.cache.add(R),Hv(F,[`.${R}`],[],n,(D=>{a.allvar.apply(D)})))}}if(typeof b=="object"&&b){const c=`${i}-i${ug(b)}-css`;p.add(c),t.rules.inline.cache.has(c)||(t.rules.inline.cache.add(c),Hv(b,[`.${c}`],[],n,(x=>{a.inline.apply(x)})))}for(const c of String(d.className||"").trim().split(/\s+/))c&&p.add(c);const v=g.className=[...p].join(" ");return{type:e.type,className:v,selector:u,props:g,toString:()=>v,deferredInjector:l}};return vM(m,{className:i,selector:u,[cg]:e,toString:()=>(t.rules.styled.cache.has(i)||m(),i)})},Cte=n=>{let e="";const t=[],i={},r=[];for(const[s,,,,o,l]of n){e===""&&(e=s),t.push(s),r.push(...l);for(const a in o){const u=o[a];(i[a]===void 0||u!=="undefined"||l.includes(u))&&(i[a]=u)}}return[e,t,i,new Set(r)]},nP=(n,e,t,i)=>{const r=[];e:for(let[s,o,l]of n){if(l)continue;let a,u=0,m=!1;for(a in s){const d=s[a];let b=e[a];if(b!==d){if(typeof b!="object"||!b)continue e;{let g,_,p=0;for(const v in b){if(d===String(b[v])){if(v!=="@initial"){const c=v.slice(1);(_=_||[]).push(c in t?t[c]:v.replace(/^@media ?/,"")),m=!0}u+=p,g=!0}++p}if(_&&_.length&&(o={["@media "+_.join(", ")]:o}),!g)continue e}}}(r[u]=r[u]||[]).push([i?"cv":`${a}-${s[a]}`,o,m])}return r},Tte={},Ate=C0(),Rte=(n,e)=>Ate(n,(()=>(...t)=>{const i=()=>{for(let r of t){r=typeof r=="object"&&r||{};let s=ug(r);if(!e.rules.global.cache.has(s)){if(e.rules.global.cache.add(s),"@import"in r){let o=[].indexOf.call(e.sheet.cssRules,e.rules.themed.group)-1;for(let l of[].concat(r["@import"]))l=l.includes('"')||l.includes("'")?l:`"${l}"`,e.sheet.insertRule(`@import ${l};`,o++);delete r["@import"]}Hv(r,[],[],n,(o=>{e.rules.global.apply(o)}))}}return""};return vM(i,{toString:i})})),Mte=C0(),Ote=(n,e)=>Mte(n,(()=>t=>{const i=`${Ef(n.prefix)}k-${ug(t)}`,r=()=>{if(!e.rules.global.cache.has(i)){e.rules.global.cache.add(i);const s=[];Hv(t,[],[],n,(l=>s.push(l)));const o=`@keyframes ${i}{${s.join("")}}`;e.rules.global.apply(o)}return i};return vM(r,{get name(){return r()},toString:r})})),Lte=class{constructor(n,e,t,i){this.token=n==null?"":String(n),this.value=e==null?"":String(e),this.scale=t==null?"":String(t),this.prefix=i==null?"":String(i)}get computedValue(){return"var("+this.variable+")"}get variable(){return"--"+Ef(this.prefix)+Ef(this.scale)+this.token}toString(){return this.computedValue}},Pte=C0(),Nte=(n,e)=>Pte(n,(()=>(t,i)=>{i=typeof t=="object"&&t||Object(i);const r=`.${t=(t=typeof t=="string"?t:"")||`${Ef(n.prefix)}t-${ug(i)}`}`,s={},o=[];for(const a in i){s[a]={};for(const u in i[a]){const m=`--${Ef(n.prefix)}${a}-${u}`,d=j4(String(i[a][u]),n.prefix,a);s[a][u]=new Lte(u,d,a,n.prefix),o.push(`${m}:${d}`)}}const l=()=>{if(o.length&&!e.rules.themed.cache.has(t)){e.rules.themed.cache.add(t);const a=`${i===n.theme?":root,":""}.${t}{${o.join(";")}}`;e.rules.themed.apply(a)}return t};return{...s,get className(){return l()},selector:r,toString:l}})),Ite=C0(),Dte=C0(),Fte=n=>{const e=(t=>{let i=!1;const r=Ite(t,(s=>{i=!0;const o="prefix"in(s=typeof s=="object"&&s||{})?String(s.prefix):"",l=typeof s.media=="object"&&s.media||{},a=typeof s.root=="object"?s.root||null:globalThis.document||null,u=typeof s.theme=="object"&&s.theme||{},m={prefix:o,media:l,theme:u,themeMap:typeof s.themeMap=="object"&&s.themeMap||{...cte},utils:typeof s.utils=="object"&&s.utils||{}},d=bte(a),b={css:tP(m,d),globalCss:Rte(m,d),keyframes:Ote(m,d),createTheme:Nte(m,d),reset(){d.reset(),b.theme.toString()},theme:{},sheet:d,config:m,prefix:o,getCssText:d.toString,toString:d.toString};return String(b.theme=b.createTheme(u)),b}));return i||r.reset(),r})(n);return e.styled=(({config:t,sheet:i})=>Dte(t,(()=>{const r=tP(t,i);return(...s)=>{const o=r(...s),l=o[cg].type,a=We.forwardRef(((u,m)=>{const d=u&&u.as||l,{props:b,deferredInjector:g}=o(u);return delete b.as,b.ref=m,g?We.createElement(We.Fragment,null,We.createElement(d,b),We.createElement(g,null)):We.createElement(d,b)}));return a.className=o.className,a.displayName=`Styled.${l.displayName||l.name||l}`,a.selector=o.selector,a.toString=()=>o.selector,a[cg]=o[cg],a}})))(e),e};function Bte(n,e,t){return Math.max(e,Math.min(n,t))}const Ol={toVector(n,e){return n===void 0&&(n=e),Array.isArray(n)?n:[n,n]},add(n,e){return[n[0]+e[0],n[1]+e[1]]},sub(n,e){return[n[0]-e[0],n[1]-e[1]]},addTo(n,e){n[0]+=e[0],n[1]+=e[1]},subTo(n,e){n[0]-=e[0],n[1]-=e[1]}};function iP(n,e,t){return e===0||Math.abs(e)===1/0?Math.pow(n,t*5):n*e*t/(e+t*n)}function rP(n,e,t,i=.15){return i===0?Bte(n,e,t):n<e?-iP(e-n,t-e,i)+e:n>t?+iP(n-t,t-e,i)+t:n}function Ute(n,[e,t],[i,r]){const[[s,o],[l,a]]=n;return[rP(e,s,o,i),rP(t,l,a,r)]}function kte(n,e){if(typeof n!="object"||n===null)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function zte(n){var e=kte(n,"string");return typeof e=="symbol"?e:String(e)}function Lc(n,e,t){return e=zte(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function sP(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function Mo(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?sP(Object(t),!0).forEach(function(i){Lc(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):sP(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}const X4={pointer:{start:"down",change:"move",end:"up"},mouse:{start:"down",change:"move",end:"up"},touch:{start:"start",change:"move",end:"end"},gesture:{start:"start",change:"change",end:"end"}};function oP(n){return n?n[0].toUpperCase()+n.slice(1):""}const $te=["enter","leave"];function Hte(n=!1,e){return n&&!$te.includes(e)}function Gte(n,e="",t=!1){const i=X4[n],r=i&&i[e]||e;return"on"+oP(n)+oP(r)+(Hte(t,r)?"Capture":"")}const Vte=["gotpointercapture","lostpointercapture"];function Wte(n){let e=n.substring(2).toLowerCase();const t=!!~e.indexOf("passive");t&&(e=e.replace("passive",""));const i=Vte.includes(e)?"capturecapture":"capture",r=!!~e.indexOf(i);return r&&(e=e.replace("capture","")),{device:e,capture:r,passive:t}}function jte(n,e=""){const t=X4[n],i=t&&t[e]||e;return n+i}function RE(n){return"touches"in n}function q4(n){return RE(n)?"touch":"pointerType"in n?n.pointerType:"mouse"}function Xte(n){return Array.from(n.touches).filter(e=>{var t,i;return e.target===n.currentTarget||((t=n.currentTarget)===null||t===void 0||(i=t.contains)===null||i===void 0?void 0:i.call(t,e.target))})}function qte(n){return n.type==="touchend"||n.type==="touchcancel"?n.changedTouches:n.targetTouches}function Y4(n){return RE(n)?qte(n)[0]:n}function Yte(n){return Xte(n).map(e=>e.identifier)}function UC(n){const e=Y4(n);return RE(n)?e.identifier:e.pointerId}function aP(n){const e=Y4(n);return[e.clientX,e.clientY]}function Kte(n){const e={};if("buttons"in n&&(e.buttons=n.buttons),"shiftKey"in n){const{shiftKey:t,altKey:i,metaKey:r,ctrlKey:s}=n;Object.assign(e,{shiftKey:t,altKey:i,metaKey:r,ctrlKey:s})}return e}function sS(n,...e){return typeof n=="function"?n(...e):n}function Zte(){}function Qte(...n){return n.length===0?Zte:n.length===1?n[0]:function(){let e;for(const t of n)e=t.apply(this,arguments)||e;return e}}function lP(n,e){return Object.assign({},e,n||{})}const Jte=32;class ene{constructor(e,t,i){this.ctrl=e,this.args=t,this.key=i,this.state||(this.state={},this.computeValues([0,0]),this.computeInitial(),this.init&&this.init(),this.reset())}get state(){return this.ctrl.state[this.key]}set state(e){this.ctrl.state[this.key]=e}get shared(){return this.ctrl.state.shared}get eventStore(){return this.ctrl.gestureEventStores[this.key]}get timeoutStore(){return this.ctrl.gestureTimeoutStores[this.key]}get config(){return this.ctrl.config[this.key]}get sharedConfig(){return this.ctrl.config.shared}get handler(){return this.ctrl.handlers[this.key]}reset(){const{state:e,shared:t,ingKey:i,args:r}=this;t[i]=e._active=e.active=e._blocked=e._force=!1,e._step=[!1,!1],e.intentional=!1,e._movement=[0,0],e._distance=[0,0],e._direction=[0,0],e._delta=[0,0],e._bounds=[[-1/0,1/0],[-1/0,1/0]],e.args=r,e.axis=void 0,e.memo=void 0,e.elapsedTime=e.timeDelta=0,e.direction=[0,0],e.distance=[0,0],e.overflow=[0,0],e._movementBound=[!1,!1],e.velocity=[0,0],e.movement=[0,0],e.delta=[0,0],e.timeStamp=0}start(e){const t=this.state,i=this.config;t._active||(this.reset(),this.computeInitial(),t._active=!0,t.target=e.target,t.currentTarget=e.currentTarget,t.lastOffset=i.from?sS(i.from,t):t.offset,t.offset=t.lastOffset,t.startTime=t.timeStamp=e.timeStamp)}computeValues(e){const t=this.state;t._values=e,t.values=this.config.transform(e)}computeInitial(){const e=this.state;e._initial=e._values,e.initial=e.values}compute(e){const{state:t,config:i,shared:r}=this;t.args=this.args;let s=0;if(e&&(t.event=e,i.preventDefault&&e.cancelable&&t.event.preventDefault(),t.type=e.type,r.touches=this.ctrl.pointerIds.size||this.ctrl.touchIds.size,r.locked=!!document.pointerLockElement,Object.assign(r,Kte(e)),r.down=r.pressed=r.buttons%2===1||r.touches>0,s=e.timeStamp-t.timeStamp,t.timeStamp=e.timeStamp,t.elapsedTime=t.timeStamp-t.startTime),t._active){const P=t._delta.map(Math.abs);Ol.addTo(t._distance,P)}this.axisIntent&&this.axisIntent(e);const[o,l]=t._movement,[a,u]=i.threshold,{_step:m,values:d}=t;if(i.hasCustomTransform?(m[0]===!1&&(m[0]=Math.abs(o)>=a&&d[0]),m[1]===!1&&(m[1]=Math.abs(l)>=u&&d[1])):(m[0]===!1&&(m[0]=Math.abs(o)>=a&&Math.sign(o)*a),m[1]===!1&&(m[1]=Math.abs(l)>=u&&Math.sign(l)*u)),t.intentional=m[0]!==!1||m[1]!==!1,!t.intentional)return;const b=[0,0];if(i.hasCustomTransform){const[P,C]=d;b[0]=m[0]!==!1?P-m[0]:0,b[1]=m[1]!==!1?C-m[1]:0}else b[0]=m[0]!==!1?o-m[0]:0,b[1]=m[1]!==!1?l-m[1]:0;this.restrictToAxis&&!t._blocked&&this.restrictToAxis(b);const g=t.offset,_=t._active&&!t._blocked||t.active;_&&(t.first=t._active&&!t.active,t.last=!t._active&&t.active,t.active=r[this.ingKey]=t._active,e&&(t.first&&("bounds"in i&&(t._bounds=sS(i.bounds,t)),this.setup&&this.setup()),t.movement=b,this.computeOffset()));const[p,v]=t.offset,[[c,x],[w,T]]=t._bounds;t.overflow=[p<c?-1:p>x?1:0,v<w?-1:v>T?1:0],t._movementBound[0]=t.overflow[0]?t._movementBound[0]===!1?t._movement[0]:t._movementBound[0]:!1,t._movementBound[1]=t.overflow[1]?t._movementBound[1]===!1?t._movement[1]:t._movementBound[1]:!1;const L=t._active?i.rubberband||[0,0]:[0,0];if(t.offset=Ute(t._bounds,t.offset,L),t.delta=Ol.sub(t.offset,g),this.computeMovement(),_&&(!t.last||s>Jte)){t.delta=Ol.sub(t.offset,g);const P=t.delta.map(Math.abs);Ol.addTo(t.distance,P),t.direction=t.delta.map(Math.sign),t._direction=t._delta.map(Math.sign),!t.first&&s>0&&(t.velocity=[P[0]/s,P[1]/s],t.timeDelta=s)}}emit(){const e=this.state,t=this.shared,i=this.config;if(e._active||this.clean(),(e._blocked||!e.intentional)&&!e._force&&!i.triggerAllEvents)return;const r=this.handler(Mo(Mo(Mo({},t),e),{},{[this.aliasKey]:e.values}));r!==void 0&&(e.memo=r)}clean(){this.eventStore.clean(),this.timeoutStore.clean()}}function tne([n,e],t){const i=Math.abs(n),r=Math.abs(e);if(i>r&&i>t)return"x";if(r>i&&r>t)return"y"}class nne extends ene{constructor(...e){super(...e),Lc(this,"aliasKey","xy")}reset(){super.reset(),this.state.axis=void 0}init(){this.state.offset=[0,0],this.state.lastOffset=[0,0]}computeOffset(){this.state.offset=Ol.add(this.state.lastOffset,this.state.movement)}computeMovement(){this.state.movement=Ol.sub(this.state.offset,this.state.lastOffset)}axisIntent(e){const t=this.state,i=this.config;if(!t.axis&&e){const r=typeof i.axisThreshold=="object"?i.axisThreshold[q4(e)]:i.axisThreshold;t.axis=tne(t._movement,r)}t._blocked=(i.lockDirection||!!i.axis)&&!t.axis||!!i.axis&&i.axis!==t.axis}restrictToAxis(e){if(this.config.axis||this.config.lockDirection)switch(this.state.axis){case"x":e[1]=0;break;case"y":e[0]=0;break}}}const ine=n=>n,cP=.15,K4={enabled(n=!0){return n},eventOptions(n,e,t){return Mo(Mo({},t.shared.eventOptions),n)},preventDefault(n=!1){return n},triggerAllEvents(n=!1){return n},rubberband(n=0){switch(n){case!0:return[cP,cP];case!1:return[0,0];default:return Ol.toVector(n)}},from(n){if(typeof n=="function")return n;if(n!=null)return Ol.toVector(n)},transform(n,e,t){const i=n||t.shared.transform;return this.hasCustomTransform=!!i,i||ine},threshold(n){return Ol.toVector(n,0)}},rne=0,G_=Mo(Mo({},K4),{},{axis(n,e,{axis:t}){if(this.lockDirection=t==="lock",!this.lockDirection)return t},axisThreshold(n=rne){return n},bounds(n={}){if(typeof n=="function")return s=>G_.bounds(n(s));if("current"in n)return()=>n.current;if(typeof HTMLElement=="function"&&n instanceof HTMLElement)return n;const{left:e=-1/0,right:t=1/0,top:i=-1/0,bottom:r=1/0}=n;return[[e,t],[i,r]]}}),uP={ArrowRight:(n,e=1)=>[n*e,0],ArrowLeft:(n,e=1)=>[-1*n*e,0],ArrowUp:(n,e=1)=>[0,-1*n*e],ArrowDown:(n,e=1)=>[0,n*e]};class sne extends nne{constructor(...e){super(...e),Lc(this,"ingKey","dragging")}reset(){super.reset();const e=this.state;e._pointerId=void 0,e._pointerActive=!1,e._keyboardActive=!1,e._preventScroll=!1,e._delayed=!1,e.swipe=[0,0],e.tap=!1,e.canceled=!1,e.cancel=this.cancel.bind(this)}setup(){const e=this.state;if(e._bounds instanceof HTMLElement){const t=e._bounds.getBoundingClientRect(),i=e.currentTarget.getBoundingClientRect(),r={left:t.left-i.left+e.offset[0],right:t.right-i.right+e.offset[0],top:t.top-i.top+e.offset[1],bottom:t.bottom-i.bottom+e.offset[1]};e._bounds=G_.bounds(r)}}cancel(){const e=this.state;e.canceled||(e.canceled=!0,e._active=!1,setTimeout(()=>{this.compute(),this.emit()},0))}setActive(){this.state._active=this.state._pointerActive||this.state._keyboardActive}clean(){this.pointerClean(),this.state._pointerActive=!1,this.state._keyboardActive=!1,super.clean()}pointerDown(e){const t=this.config,i=this.state;if(e.buttons!=null&&(Array.isArray(t.pointerButtons)?!t.pointerButtons.includes(e.buttons):t.pointerButtons!==-1&&t.pointerButtons!==e.buttons))return;const r=this.ctrl.setEventIds(e);t.pointerCapture&&e.target.setPointerCapture(e.pointerId),!(r&&r.size>1&&i._pointerActive)&&(this.start(e),this.setupPointer(e),i._pointerId=UC(e),i._pointerActive=!0,this.computeValues(aP(e)),this.computeInitial(),t.preventScrollAxis&&q4(e)!=="mouse"?(i._active=!1,this.setupScrollPrevention(e)):t.delay>0?(this.setupDelayTrigger(e),t.triggerAllEvents&&(this.compute(e),this.emit())):this.startPointerDrag(e))}startPointerDrag(e){const t=this.state;t._active=!0,t._preventScroll=!0,t._delayed=!1,this.compute(e),this.emit()}pointerMove(e){const t=this.state,i=this.config;if(!t._pointerActive)return;const r=UC(e);if(t._pointerId!==void 0&&r!==t._pointerId)return;const s=aP(e);if(document.pointerLockElement===e.target?t._delta=[e.movementX,e.movementY]:(t._delta=Ol.sub(s,t._values),this.computeValues(s)),Ol.addTo(t._movement,t._delta),this.compute(e),t._delayed&&t.intentional){this.timeoutStore.remove("dragDelay"),t.active=!1,this.startPointerDrag(e);return}if(i.preventScrollAxis&&!t._preventScroll)if(t.axis)if(t.axis===i.preventScrollAxis||i.preventScrollAxis==="xy"){t._active=!1,this.clean();return}else{this.timeoutStore.remove("startPointerDrag"),this.startPointerDrag(e);return}else return;this.emit()}pointerUp(e){this.ctrl.setEventIds(e);try{this.config.pointerCapture&&e.target.hasPointerCapture(e.pointerId)&&e.target.releasePointerCapture(e.pointerId)}catch{}const t=this.state,i=this.config;if(!t._active||!t._pointerActive)return;const r=UC(e);if(t._pointerId!==void 0&&r!==t._pointerId)return;this.state._pointerActive=!1,this.setActive(),this.compute(e);const[s,o]=t._distance;if(t.tap=s<=i.tapsThreshold&&o<=i.tapsThreshold,t.tap&&i.filterTaps)t._force=!0;else{const[l,a]=t._delta,[u,m]=t._movement,[d,b]=i.swipe.velocity,[g,_]=i.swipe.distance,p=i.swipe.duration;if(t.elapsedTime<p){const v=Math.abs(l/t.timeDelta),c=Math.abs(a/t.timeDelta);v>d&&Math.abs(u)>g&&(t.swipe[0]=Math.sign(l)),c>b&&Math.abs(m)>_&&(t.swipe[1]=Math.sign(a))}}this.emit()}pointerClick(e){!this.state.tap&&e.detail>0&&(e.preventDefault(),e.stopPropagation())}setupPointer(e){const t=this.config,i=t.device;t.pointerLock&&e.currentTarget.requestPointerLock(),t.pointerCapture||(this.eventStore.add(this.sharedConfig.window,i,"change",this.pointerMove.bind(this)),this.eventStore.add(this.sharedConfig.window,i,"end",this.pointerUp.bind(this)),this.eventStore.add(this.sharedConfig.window,i,"cancel",this.pointerUp.bind(this)))}pointerClean(){this.config.pointerLock&&document.pointerLockElement===this.state.currentTarget&&document.exitPointerLock()}preventScroll(e){this.state._preventScroll&&e.cancelable&&e.preventDefault()}setupScrollPrevention(e){this.state._preventScroll=!1,one(e);const t=this.eventStore.add(this.sharedConfig.window,"touch","change",this.preventScroll.bind(this),{passive:!1});this.eventStore.add(this.sharedConfig.window,"touch","end",t),this.eventStore.add(this.sharedConfig.window,"touch","cancel",t),this.timeoutStore.add("startPointerDrag",this.startPointerDrag.bind(this),this.config.preventScrollDelay,e)}setupDelayTrigger(e){this.state._delayed=!0,this.timeoutStore.add("dragDelay",()=>{this.state._step=[0,0],this.startPointerDrag(e)},this.config.delay)}keyDown(e){const t=uP[e.key];if(t){const i=this.state,r=e.shiftKey?10:e.altKey?.1:1;this.start(e),i._delta=t(this.config.keyboardDisplacement,r),i._keyboardActive=!0,Ol.addTo(i._movement,i._delta),this.compute(e),this.emit()}}keyUp(e){e.key in uP&&(this.state._keyboardActive=!1,this.setActive(),this.compute(e),this.emit())}bind(e){const t=this.config.device;e(t,"start",this.pointerDown.bind(this)),this.config.pointerCapture&&(e(t,"change",this.pointerMove.bind(this)),e(t,"end",this.pointerUp.bind(this)),e(t,"cancel",this.pointerUp.bind(this)),e("lostPointerCapture","",this.pointerUp.bind(this))),this.config.keys&&(e("key","down",this.keyDown.bind(this)),e("key","up",this.keyUp.bind(this))),this.config.filterTaps&&e("click","",this.pointerClick.bind(this),{capture:!0,passive:!1})}}function one(n){"persist"in n&&typeof n.persist=="function"&&n.persist()}const V_=typeof window<"u"&&window.document&&window.document.createElement;function Z4(){return V_&&"ontouchstart"in window}function ane(){return Z4()||V_&&window.navigator.maxTouchPoints>1}function lne(){return V_&&"onpointerdown"in window}function cne(){return V_&&"exitPointerLock"in window.document}function une(){try{return"constructor"in GestureEvent}catch{return!1}}const Iu={isBrowser:V_,gesture:une(),touch:Z4(),touchscreen:ane(),pointer:lne(),pointerLock:cne()},hne=250,dne=180,fne=.5,pne=50,mne=250,gne=10,hP={mouse:0,touch:0,pen:8},vne=Mo(Mo({},G_),{},{device(n,e,{pointer:{touch:t=!1,lock:i=!1,mouse:r=!1}={}}){return this.pointerLock=i&&Iu.pointerLock,Iu.touch&&t?"touch":this.pointerLock?"mouse":Iu.pointer&&!r?"pointer":Iu.touch?"touch":"mouse"},preventScrollAxis(n,e,{preventScroll:t}){if(this.preventScrollDelay=typeof t=="number"?t:t||t===void 0&&n?hne:void 0,!(!Iu.touchscreen||t===!1))return n||(t!==void 0?"y":void 0)},pointerCapture(n,e,{pointer:{capture:t=!0,buttons:i=1,keys:r=!0}={}}){return this.pointerButtons=i,this.keys=r,!this.pointerLock&&this.device==="pointer"&&t},threshold(n,e,{filterTaps:t=!1,tapsThreshold:i=3,axis:r=void 0}){const s=Ol.toVector(n,t?i:r?1:0);return this.filterTaps=t,this.tapsThreshold=i,s},swipe({velocity:n=fne,distance:e=pne,duration:t=mne}={}){return{velocity:this.transform(Ol.toVector(n)),distance:this.transform(Ol.toVector(e)),duration:t}},delay(n=0){switch(n){case!0:return dne;case!1:return 0;default:return n}},axisThreshold(n){return n?Mo(Mo({},hP),n):hP},keyboardDisplacement(n=gne){return n}});Mo(Mo({},K4),{},{device(n,e,{shared:t,pointer:{touch:i=!1}={}}){if(t.target&&!Iu.touch&&Iu.gesture)return"gesture";if(Iu.touch&&i)return"touch";if(Iu.touchscreen){if(Iu.pointer)return"pointer";if(Iu.touch)return"touch"}},bounds(n,e,{scaleBounds:t={},angleBounds:i={}}){const r=o=>{const l=lP(sS(t,o),{min:-1/0,max:1/0});return[l.min,l.max]},s=o=>{const l=lP(sS(i,o),{min:-1/0,max:1/0});return[l.min,l.max]};return typeof t!="function"&&typeof i!="function"?[r(),s()]:o=>[r(o),s(o)]},threshold(n,e,t){return this.lockDirection=t.axis==="lock",Ol.toVector(n,this.lockDirection?[.1,3]:0)},modifierKey(n){return n===void 0?"ctrlKey":n},pinchOnWheel(n=!0){return n}});Mo(Mo({},G_),{},{mouseOnly:(n=!0)=>n});Mo(Mo({},G_),{},{mouseOnly:(n=!0)=>n});const Q4=new Map,ZA=new Map;function yne(n){Q4.set(n.key,n.engine),ZA.set(n.key,n.resolver)}const _ne={key:"drag",engine:sne,resolver:vne};function bne(n,e){if(n==null)return{};var t={},i=Object.keys(n),r,s;for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&(t[r]=n[r]);return t}function xne(n,e){if(n==null)return{};var t=bne(n,e),i,r;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(r=0;r<s.length;r++)i=s[r],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(n,i)&&(t[i]=n[i])}return t}const Sne={target(n){if(n)return()=>"current"in n?n.current:n},enabled(n=!0){return n},window(n=Iu.isBrowser?window:void 0){return n},eventOptions({passive:n=!0,capture:e=!1}={}){return{passive:n,capture:e}},transform(n){return n}},Ene=["target","eventOptions","window","enabled","transform"];function N1(n={},e){const t={};for(const[i,r]of Object.entries(e))switch(typeof r){case"function":t[i]=r.call(t,n[i],i,n);break;case"object":t[i]=N1(n[i],r);break;case"boolean":r&&(t[i]=n[i]);break}return t}function wne(n,e,t={}){const i=n,{target:r,eventOptions:s,window:o,enabled:l,transform:a}=i,u=xne(i,Ene);if(t.shared=N1({target:r,eventOptions:s,window:o,enabled:l,transform:a},Sne),e){const m=ZA.get(e);t[e]=N1(Mo({shared:t.shared},u),m)}else for(const m in u){const d=ZA.get(m);d&&(t[m]=N1(Mo({shared:t.shared},u[m]),d))}return t}class J4{constructor(e,t){Lc(this,"_listeners",new Set),this._ctrl=e,this._gestureKey=t}add(e,t,i,r,s){const o=this._listeners,l=jte(t,i),a=this._gestureKey?this._ctrl.config[this._gestureKey].eventOptions:{},u=Mo(Mo({},a),s);e.addEventListener(l,r,u);const m=()=>{e.removeEventListener(l,r,u),o.delete(m)};return o.add(m),m}clean(){this._listeners.forEach(e=>e()),this._listeners.clear()}}class Cne{constructor(){Lc(this,"_timeouts",new Map)}add(e,t,i=140,...r){this.remove(e),this._timeouts.set(e,window.setTimeout(t,i,...r))}remove(e){const t=this._timeouts.get(e);t&&window.clearTimeout(t)}clean(){this._timeouts.forEach(e=>void window.clearTimeout(e)),this._timeouts.clear()}}class Tne{constructor(e){Lc(this,"gestures",new Set),Lc(this,"_targetEventStore",new J4(this)),Lc(this,"gestureEventStores",{}),Lc(this,"gestureTimeoutStores",{}),Lc(this,"handlers",{}),Lc(this,"config",{}),Lc(this,"pointerIds",new Set),Lc(this,"touchIds",new Set),Lc(this,"state",{shared:{shiftKey:!1,metaKey:!1,ctrlKey:!1,altKey:!1}}),Ane(this,e)}setEventIds(e){if(RE(e))return this.touchIds=new Set(Yte(e)),this.touchIds;if("pointerId"in e)return e.type==="pointerup"||e.type==="pointercancel"?this.pointerIds.delete(e.pointerId):e.type==="pointerdown"&&this.pointerIds.add(e.pointerId),this.pointerIds}applyHandlers(e,t){this.handlers=e,this.nativeHandlers=t}applyConfig(e,t){this.config=wne(e,t,this.config)}clean(){this._targetEventStore.clean();for(const e of this.gestures)this.gestureEventStores[e].clean(),this.gestureTimeoutStores[e].clean()}effect(){return this.config.shared.target&&this.bind(),()=>this._targetEventStore.clean()}bind(...e){const t=this.config.shared,i={};let r;if(!(t.target&&(r=t.target(),!r))){if(t.enabled){for(const o of this.gestures){const l=this.config[o],a=dP(i,l.eventOptions,!!r);if(l.enabled){const u=Q4.get(o);new u(this,e,o).bind(a)}}const s=dP(i,t.eventOptions,!!r);for(const o in this.nativeHandlers)s(o,"",l=>this.nativeHandlers[o](Mo(Mo({},this.state.shared),{},{event:l,args:e})),void 0,!0)}for(const s in i)i[s]=Qte(...i[s]);if(!r)return i;for(const s in i){const{device:o,capture:l,passive:a}=Wte(s);this._targetEventStore.add(r,o,"",i[s],{capture:l,passive:a})}}}}function mv(n,e){n.gestures.add(e),n.gestureEventStores[e]=new J4(n,e),n.gestureTimeoutStores[e]=new Cne}function Ane(n,e){e.drag&&mv(n,"drag"),e.wheel&&mv(n,"wheel"),e.scroll&&mv(n,"scroll"),e.move&&mv(n,"move"),e.pinch&&mv(n,"pinch"),e.hover&&mv(n,"hover")}const dP=(n,e,t)=>(i,r,s,o={},l=!1)=>{var a,u;const m=(a=o.capture)!==null&&a!==void 0?a:e.capture,d=(u=o.passive)!==null&&u!==void 0?u:e.passive;let b=l?i:Gte(i,r,m);t&&d&&(b+="Passive"),n[b]=n[b]||[],n[b].push(s)};function Rne(n,e={},t,i){const r=We.useMemo(()=>new Tne(n),[]);if(r.applyHandlers(n,i),r.applyConfig(e,t),We.useEffect(r.effect.bind(r)),We.useEffect(()=>r.clean.bind(r),[]),e.target===void 0)return r.bind.bind(r)}function Mne(n,e){return yne(_ne),Rne({drag:n},e||{},"drag")}function rf(n,e,{checkForDefaultPrevented:t=!0}={}){return function(r){if(n?.(r),t===!1||!r.defaultPrevented)return e?.(r)}}function One(n,e){typeof n=="function"?n(e):n!=null&&(n.current=e)}function eB(...n){return e=>n.forEach(t=>One(t,e))}function T0(...n){return Q.useCallback(eB(...n),n)}function tB(n,e=[]){let t=[];function i(s,o){const l=Q.createContext(o),a=t.length;t=[...t,o];function u(d){const{scope:b,children:g,..._}=d,p=b?.[n][a]||l,v=Q.useMemo(()=>_,Object.values(_));return Q.createElement(p.Provider,{value:v},g)}function m(d,b){const g=b?.[n][a]||l,_=Q.useContext(g);if(_)return _;if(o!==void 0)return o;throw new Error(`\`${d}\` must be used within \`${s}\``)}return u.displayName=s+"Provider",[u,m]}const r=()=>{const s=t.map(o=>Q.createContext(o));return function(l){const a=l?.[n]||s;return Q.useMemo(()=>({[`__scope${n}`]:{...l,[n]:a}}),[l,a])}};return r.scopeName=n,[i,Lne(r,...e)]}function Lne(...n){const e=n[0];if(n.length===1)return e;const t=()=>{const i=n.map(r=>({useScope:r(),scopeName:r.scopeName}));return function(s){const o=i.reduce((l,{useScope:a,scopeName:u})=>{const d=a(s)[`__scope${u}`];return{...l,...d}},{});return Q.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return t.scopeName=e.scopeName,t}const nB=Q.forwardRef((n,e)=>{const{children:t,...i}=n,r=Q.Children.toArray(t),s=r.find(Pne);if(s){const o=s.props.children,l=r.map(a=>a===s?Q.Children.count(o)>1?Q.Children.only(null):Q.isValidElement(o)?o.props.children:null:a);return Q.createElement(QA,Ks({},i,{ref:e}),Q.isValidElement(o)?Q.cloneElement(o,void 0,l):null)}return Q.createElement(QA,Ks({},i,{ref:e}),t)});nB.displayName="Slot";const QA=Q.forwardRef((n,e)=>{const{children:t,...i}=n;return Q.isValidElement(t)?Q.cloneElement(t,{...Nne(i,t.props),ref:eB(e,t.ref)}):Q.Children.count(t)>1?Q.Children.only(null):null});QA.displayName="SlotClone";const iB=({children:n})=>Q.createElement(Q.Fragment,null,n);function Pne(n){return Q.isValidElement(n)&&n.type===iB}function Nne(n,e){const t={...e};for(const i in e){const r=n[i],s=e[i];/^on[A-Z]/.test(i)?r&&s?t[i]=(...l)=>{s(...l),r(...l)}:r&&(t[i]=r):i==="style"?t[i]={...r,...s}:i==="className"&&(t[i]=[r,s].filter(Boolean).join(" "))}return{...n,...t}}const Ine=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],gg=Ine.reduce((n,e)=>{const t=Q.forwardRef((i,r)=>{const{asChild:s,...o}=i,l=s?nB:e;return Q.useEffect(()=>{window[Symbol.for("radix-ui")]=!0},[]),Q.createElement(l,Ks({},o,{ref:r}))});return t.displayName=`Primitive.${e}`,{...n,[e]:t}},{});function Dne(n,e){n&&fE.flushSync(()=>n.dispatchEvent(e))}function yM(n){const e=Q.useRef(n);return Q.useEffect(()=>{e.current=n}),Q.useMemo(()=>(...t)=>{var i;return(i=e.current)===null||i===void 0?void 0:i.call(e,...t)},[])}function Fne(n,e=globalThis?.document){const t=yM(n);Q.useEffect(()=>{const i=r=>{r.key==="Escape"&&t(r)};return e.addEventListener("keydown",i),()=>e.removeEventListener("keydown",i)},[t,e])}const JA="dismissableLayer.update",Bne="dismissableLayer.pointerDownOutside",Une="dismissableLayer.focusOutside";let fP;const kne=Q.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),zne=Q.forwardRef((n,e)=>{var t;const{disableOutsidePointerEvents:i=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:o,onInteractOutside:l,onDismiss:a,...u}=n,m=Q.useContext(kne),[d,b]=Q.useState(null),g=(t=d?.ownerDocument)!==null&&t!==void 0?t:globalThis?.document,[,_]=Q.useState({}),p=T0(e,I=>b(I)),v=Array.from(m.layers),[c]=[...m.layersWithOutsidePointerEventsDisabled].slice(-1),x=v.indexOf(c),w=d?v.indexOf(d):-1,T=m.layersWithOutsidePointerEventsDisabled.size>0,L=w>=x,P=$ne(I=>{const F=I.target,R=[...m.branches].some(D=>D.contains(F));!L||R||(s?.(I),l?.(I),I.defaultPrevented||a?.())},g),C=Hne(I=>{const F=I.target;[...m.branches].some(D=>D.contains(F))||(o?.(I),l?.(I),I.defaultPrevented||a?.())},g);return Fne(I=>{w===m.layers.size-1&&(r?.(I),!I.defaultPrevented&&a&&(I.preventDefault(),a()))},g),Q.useEffect(()=>{if(d)return i&&(m.layersWithOutsidePointerEventsDisabled.size===0&&(fP=g.body.style.pointerEvents,g.body.style.pointerEvents="none"),m.layersWithOutsidePointerEventsDisabled.add(d)),m.layers.add(d),pP(),()=>{i&&m.layersWithOutsidePointerEventsDisabled.size===1&&(g.body.style.pointerEvents=fP)}},[d,g,i,m]),Q.useEffect(()=>()=>{d&&(m.layers.delete(d),m.layersWithOutsidePointerEventsDisabled.delete(d),pP())},[d,m]),Q.useEffect(()=>{const I=()=>_({});return document.addEventListener(JA,I),()=>document.removeEventListener(JA,I)},[]),Q.createElement(gg.div,Ks({},u,{ref:p,style:{pointerEvents:T?L?"auto":"none":void 0,...n.style},onFocusCapture:rf(n.onFocusCapture,C.onFocusCapture),onBlurCapture:rf(n.onBlurCapture,C.onBlurCapture),onPointerDownCapture:rf(n.onPointerDownCapture,P.onPointerDownCapture)}))});function $ne(n,e=globalThis?.document){const t=yM(n),i=Q.useRef(!1),r=Q.useRef(()=>{});return Q.useEffect(()=>{const s=l=>{if(l.target&&!i.current){let m=function(){rB(Bne,t,u,{discrete:!0})};var a=m;const u={originalEvent:l};l.pointerType==="touch"?(e.removeEventListener("click",r.current),r.current=m,e.addEventListener("click",r.current,{once:!0})):m()}i.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",s),e.removeEventListener("click",r.current)}},[e,t]),{onPointerDownCapture:()=>i.current=!0}}function Hne(n,e=globalThis?.document){const t=yM(n),i=Q.useRef(!1);return Q.useEffect(()=>{const r=s=>{s.target&&!i.current&&rB(Une,t,{originalEvent:s},{discrete:!1})};return e.addEventListener("focusin",r),()=>e.removeEventListener("focusin",r)},[e,t]),{onFocusCapture:()=>i.current=!0,onBlurCapture:()=>i.current=!1}}function pP(){const n=new CustomEvent(JA);document.dispatchEvent(n)}function rB(n,e,t,{discrete:i}){const r=t.originalEvent.target,s=new CustomEvent(n,{bubbles:!1,cancelable:!0,detail:t});e&&r.addEventListener(n,e,{once:!0}),i?Dne(r,s):r.dispatchEvent(s)}const Gne=globalThis?.document?Q.useLayoutEffect:()=>{},Vne=c$.useId||(()=>{});let Wne=0;function jne(n){const[e,t]=Q.useState(Vne());return Gne(()=>{t(i=>i??String(Wne++))},[n]),e?`radix-${e}`:""}function wg(n){return n.split("-")[0]}function W_(n){return n.split("-")[1]}function A0(n){return["top","bottom"].includes(wg(n))?"x":"y"}function _M(n){return n==="y"?"height":"width"}function mP(n,e,t){let{reference:i,floating:r}=n;const s=i.x+i.width/2-r.width/2,o=i.y+i.height/2-r.height/2,l=A0(e),a=_M(l),u=i[a]/2-r[a]/2,m=l==="x";let d;switch(wg(e)){case"top":d={x:s,y:i.y-r.height};break;case"bottom":d={x:s,y:i.y+i.height};break;case"right":d={x:i.x+i.width,y:o};break;case"left":d={x:i.x-r.width,y:o};break;default:d={x:i.x,y:i.y}}switch(W_(e)){case"start":d[l]-=u*(t&&m?-1:1);break;case"end":d[l]+=u*(t&&m?-1:1)}return d}const Xne=async(n,e,t)=>{const{placement:i="bottom",strategy:r="absolute",middleware:s=[],platform:o}=t,l=await(o.isRTL==null?void 0:o.isRTL(e));let a=await o.getElementRects({reference:n,floating:e,strategy:r}),{x:u,y:m}=mP(a,i,l),d=i,b={},g=0;for(let _=0;_<s.length;_++){const{name:p,fn:v}=s[_],{x:c,y:x,data:w,reset:T}=await v({x:u,y:m,initialPlacement:i,placement:d,strategy:r,middlewareData:b,rects:a,platform:o,elements:{reference:n,floating:e}});u=c??u,m=x??m,b={...b,[p]:{...b[p],...w}},T&&g<=50&&(g++,typeof T=="object"&&(T.placement&&(d=T.placement),T.rects&&(a=T.rects===!0?await o.getElementRects({reference:n,floating:e,strategy:r}):T.rects),{x:u,y:m}=mP(a,d,l)),_=-1)}return{x:u,y:m,placement:d,strategy:r,middlewareData:b}};function sB(n){return typeof n!="number"?(function(e){return{top:0,right:0,bottom:0,left:0,...e}})(n):{top:n,right:n,bottom:n,left:n}}function oS(n){return{...n,top:n.y,left:n.x,right:n.x+n.width,bottom:n.y+n.height}}async function g_(n,e){var t;e===void 0&&(e={});const{x:i,y:r,platform:s,rects:o,elements:l,strategy:a}=n,{boundary:u="clippingAncestors",rootBoundary:m="viewport",elementContext:d="floating",altBoundary:b=!1,padding:g=0}=e,_=sB(g),p=l[b?d==="floating"?"reference":"floating":d],v=oS(await s.getClippingRect({element:(t=await(s.isElement==null?void 0:s.isElement(p)))==null||t?p:p.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(l.floating)),boundary:u,rootBoundary:m,strategy:a})),c=oS(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({rect:d==="floating"?{...o.floating,x:i,y:r}:o.reference,offsetParent:await(s.getOffsetParent==null?void 0:s.getOffsetParent(l.floating)),strategy:a}):o[d]);return{top:v.top-c.top+_.top,bottom:c.bottom-v.bottom+_.bottom,left:v.left-c.left+_.left,right:c.right-v.right+_.right}}const qne=Math.min,Hm=Math.max;function eR(n,e,t){return Hm(n,qne(e,t))}const gP=n=>({name:"arrow",options:n,async fn(e){const{element:t,padding:i=0}=n??{},{x:r,y:s,placement:o,rects:l,platform:a}=e;if(t==null)return{};const u=sB(i),m={x:r,y:s},d=A0(o),b=W_(o),g=_M(d),_=await a.getDimensions(t),p=d==="y"?"top":"left",v=d==="y"?"bottom":"right",c=l.reference[g]+l.reference[d]-m[d]-l.floating[g],x=m[d]-l.reference[d],w=await(a.getOffsetParent==null?void 0:a.getOffsetParent(t));let T=w?d==="y"?w.clientHeight||0:w.clientWidth||0:0;T===0&&(T=l.floating[g]);const L=c/2-x/2,P=u[p],C=T-_[g]-u[v],I=T/2-_[g]/2+L,F=eR(P,I,C),R=(b==="start"?u[p]:u[v])>0&&I!==F&&l.reference[g]<=l.floating[g];return{[d]:m[d]-(R?I<P?P-I:C-I:0),data:{[d]:F,centerOffset:I-F}}}}),Yne={left:"right",right:"left",bottom:"top",top:"bottom"};function aS(n){return n.replace(/left|right|bottom|top/g,(e=>Yne[e]))}function Kne(n,e,t){t===void 0&&(t=!1);const i=W_(n),r=A0(n),s=_M(r);let o=r==="x"?i===(t?"end":"start")?"right":"left":i==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(o=aS(o)),{main:o,cross:aS(o)}}const Zne={start:"end",end:"start"};function vP(n){return n.replace(/start|end/g,(e=>Zne[e]))}const oB=["top","right","bottom","left"];oB.reduce(((n,e)=>n.concat(e,e+"-start",e+"-end")),[]);const Qne=function(n){return n===void 0&&(n={}),{name:"flip",options:n,async fn(e){var t;const{placement:i,middlewareData:r,rects:s,initialPlacement:o,platform:l,elements:a}=e,{mainAxis:u=!0,crossAxis:m=!0,fallbackPlacements:d,fallbackStrategy:b="bestFit",flipAlignment:g=!0,..._}=n,p=wg(i),v=d||(p===o||!g?[aS(o)]:(function(I){const F=aS(I);return[vP(I),F,vP(F)]})(o)),c=[o,...v],x=await g_(e,_),w=[];let T=((t=r.flip)==null?void 0:t.overflows)||[];if(u&&w.push(x[p]),m){const{main:I,cross:F}=Kne(i,s,await(l.isRTL==null?void 0:l.isRTL(a.floating)));w.push(x[I],x[F])}if(T=[...T,{placement:i,overflows:w}],!w.every((I=>I<=0))){var L,P;const I=((L=(P=r.flip)==null?void 0:P.index)!=null?L:0)+1,F=c[I];if(F)return{data:{index:I,overflows:T},reset:{placement:F}};let R="bottom";switch(b){case"bestFit":{var C;const D=(C=T.map((G=>[G,G.overflows.filter((j=>j>0)).reduce(((j,k)=>j+k),0)])).sort(((G,j)=>G[1]-j[1]))[0])==null?void 0:C[0].placement;D&&(R=D);break}case"initialPlacement":R=o}if(i!==R)return{reset:{placement:R}}}return{}}}};function yP(n,e){return{top:n.top-e.height,right:n.right-e.width,bottom:n.bottom-e.height,left:n.left-e.width}}function _P(n){return oB.some((e=>n[e]>=0))}const Jne=function(n){let{strategy:e="referenceHidden",...t}=n===void 0?{}:n;return{name:"hide",async fn(i){const{rects:r}=i;switch(e){case"referenceHidden":{const s=yP(await g_(i,{...t,elementContext:"reference"}),r.reference);return{data:{referenceHiddenOffsets:s,referenceHidden:_P(s)}}}case"escaped":{const s=yP(await g_(i,{...t,altBoundary:!0}),r.floating);return{data:{escapedOffsets:s,escaped:_P(s)}}}default:return{}}}}},eie=function(n){return n===void 0&&(n=0),{name:"offset",options:n,async fn(e){const{x:t,y:i}=e,r=await(async function(s,o){const{placement:l,platform:a,elements:u}=s,m=await(a.isRTL==null?void 0:a.isRTL(u.floating)),d=wg(l),b=W_(l),g=A0(l)==="x",_=["left","top"].includes(d)?-1:1,p=m&&g?-1:1,v=typeof o=="function"?o(s):o;let{mainAxis:c,crossAxis:x,alignmentAxis:w}=typeof v=="number"?{mainAxis:v,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...v};return b&&typeof w=="number"&&(x=b==="end"?-1*w:w),g?{x:x*p,y:c*_}:{x:c*_,y:x*p}})(e,n);return{x:t+r.x,y:i+r.y,data:r}}}};function aB(n){return n==="x"?"y":"x"}const tie=function(n){return n===void 0&&(n={}),{name:"shift",options:n,async fn(e){const{x:t,y:i,placement:r}=e,{mainAxis:s=!0,crossAxis:o=!1,limiter:l={fn:v=>{let{x:c,y:x}=v;return{x:c,y:x}}},...a}=n,u={x:t,y:i},m=await g_(e,a),d=A0(wg(r)),b=aB(d);let g=u[d],_=u[b];if(s){const v=d==="y"?"bottom":"right";g=eR(g+m[d==="y"?"top":"left"],g,g-m[v])}if(o){const v=b==="y"?"bottom":"right";_=eR(_+m[b==="y"?"top":"left"],_,_-m[v])}const p=l.fn({...e,[d]:g,[b]:_});return{...p,data:{x:p.x-t,y:p.y-i}}}}},nie=function(n){return n===void 0&&(n={}),{options:n,fn(e){const{x:t,y:i,placement:r,rects:s,middlewareData:o}=e,{offset:l=0,mainAxis:a=!0,crossAxis:u=!0}=n,m={x:t,y:i},d=A0(r),b=aB(d);let g=m[d],_=m[b];const p=typeof l=="function"?l({...s,placement:r}):l,v=typeof p=="number"?{mainAxis:p,crossAxis:0}:{mainAxis:0,crossAxis:0,...p};if(a){const L=d==="y"?"height":"width",P=s.reference[d]-s.floating[L]+v.mainAxis,C=s.reference[d]+s.reference[L]-v.mainAxis;g<P?g=P:g>C&&(g=C)}if(u){var c,x,w,T;const L=d==="y"?"width":"height",P=["top","left"].includes(wg(r)),C=s.reference[b]-s.floating[L]+(P&&(c=(x=o.offset)==null?void 0:x[b])!=null?c:0)+(P?0:v.crossAxis),I=s.reference[b]+s.reference[L]+(P?0:(w=(T=o.offset)==null?void 0:T[b])!=null?w:0)-(P?v.crossAxis:0);_<C?_=C:_>I&&(_=I)}return{[d]:g,[b]:_}}}},iie=function(n){return n===void 0&&(n={}),{name:"size",options:n,async fn(e){const{placement:t,rects:i,platform:r,elements:s}=e,{apply:o,...l}=n,a=await g_(e,l),u=wg(t),m=W_(t);let d,b;u==="top"||u==="bottom"?(d=u,b=m===(await(r.isRTL==null?void 0:r.isRTL(s.floating))?"start":"end")?"left":"right"):(b=u,d=m==="end"?"top":"bottom");const g=Hm(a.left,0),_=Hm(a.right,0),p=Hm(a.top,0),v=Hm(a.bottom,0),c={availableHeight:i.floating.height-(["left","right"].includes(t)?2*(p!==0||v!==0?p+v:Hm(a.top,a.bottom)):a[d]),availableWidth:i.floating.width-(["top","bottom"].includes(t)?2*(g!==0||_!==0?g+_:Hm(a.left,a.right)):a[b])},x=await r.getDimensions(s.floating);o?.({...e,...c});const w=await r.getDimensions(s.floating);return x.width!==w.width||x.height!==w.height?{reset:{rects:!0}}:{}}}};function lB(n){return n&&n.document&&n.location&&n.alert&&n.setInterval}function Mf(n){if(n==null)return window;if(!lB(n)){const e=n.ownerDocument;return e&&e.defaultView||window}return n}function j_(n){return Mf(n).getComputedStyle(n)}function gf(n){return lB(n)?"":n?(n.nodeName||"").toLowerCase():""}function cB(){const n=navigator.userAgentData;return n!=null&&n.brands?n.brands.map((e=>e.brand+"/"+e.version)).join(" "):navigator.userAgent}function fd(n){return n instanceof Mf(n).HTMLElement}function Up(n){return n instanceof Mf(n).Element}function bM(n){return typeof ShadowRoot>"u"?!1:n instanceof Mf(n).ShadowRoot||n instanceof ShadowRoot}function ME(n){const{overflow:e,overflowX:t,overflowY:i}=j_(n);return/auto|scroll|overlay|hidden/.test(e+i+t)}function rie(n){return["table","td","th"].includes(gf(n))}function bP(n){const e=/firefox/i.test(cB()),t=j_(n);return t.transform!=="none"||t.perspective!=="none"||t.contain==="paint"||["transform","perspective"].includes(t.willChange)||e&&t.willChange==="filter"||e&&!!t.filter&&t.filter!=="none"}function uB(){return!/^((?!chrome|android).)*safari/i.test(cB())}const xP=Math.min,Wy=Math.max,lS=Math.round;function vf(n,e,t){var i,r,s,o;e===void 0&&(e=!1),t===void 0&&(t=!1);const l=n.getBoundingClientRect();let a=1,u=1;e&&fd(n)&&(a=n.offsetWidth>0&&lS(l.width)/n.offsetWidth||1,u=n.offsetHeight>0&&lS(l.height)/n.offsetHeight||1);const m=Up(n)?Mf(n):window,d=!uB()&&t,b=(l.left+(d&&(i=(r=m.visualViewport)==null?void 0:r.offsetLeft)!=null?i:0))/a,g=(l.top+(d&&(s=(o=m.visualViewport)==null?void 0:o.offsetTop)!=null?s:0))/u,_=l.width/a,p=l.height/u;return{width:_,height:p,top:g,right:b+_,bottom:g+p,left:b,x:b,y:g}}function Dp(n){return(e=n,(e instanceof Mf(e).Node?n.ownerDocument:n.document)||window.document).documentElement;var e}function OE(n){return Up(n)?{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}:{scrollLeft:n.pageXOffset,scrollTop:n.pageYOffset}}function hB(n){return vf(Dp(n)).left+OE(n).scrollLeft}function sie(n,e,t){const i=fd(e),r=Dp(e),s=vf(n,i&&(function(a){const u=vf(a);return lS(u.width)!==a.offsetWidth||lS(u.height)!==a.offsetHeight})(e),t==="fixed");let o={scrollLeft:0,scrollTop:0};const l={x:0,y:0};if(i||!i&&t!=="fixed")if((gf(e)!=="body"||ME(r))&&(o=OE(e)),fd(e)){const a=vf(e,!0);l.x=a.x+e.clientLeft,l.y=a.y+e.clientTop}else r&&(l.x=hB(r));return{x:s.left+o.scrollLeft-l.x,y:s.top+o.scrollTop-l.y,width:s.width,height:s.height}}function dB(n){return gf(n)==="html"?n:n.assignedSlot||n.parentNode||(bM(n)?n.host:null)||Dp(n)}function SP(n){return fd(n)&&getComputedStyle(n).position!=="fixed"?n.offsetParent:null}function tR(n){const e=Mf(n);let t=SP(n);for(;t&&rie(t)&&getComputedStyle(t).position==="static";)t=SP(t);return t&&(gf(t)==="html"||gf(t)==="body"&&getComputedStyle(t).position==="static"&&!bP(t))?e:t||(function(i){let r=dB(i);for(bM(r)&&(r=r.host);fd(r)&&!["html","body"].includes(gf(r));){if(bP(r))return r;r=r.parentNode}return null})(n)||e}function EP(n){if(fd(n))return{width:n.offsetWidth,height:n.offsetHeight};const e=vf(n);return{width:e.width,height:e.height}}function fB(n){const e=dB(n);return["html","body","#document"].includes(gf(e))?n.ownerDocument.body:fd(e)&&ME(e)?e:fB(e)}function cS(n,e){var t;e===void 0&&(e=[]);const i=fB(n),r=i===((t=n.ownerDocument)==null?void 0:t.body),s=Mf(i),o=r?[s].concat(s.visualViewport||[],ME(i)?i:[]):i,l=e.concat(o);return r?l:l.concat(cS(o))}function wP(n,e,t){return e==="viewport"?oS((function(i,r){const s=Mf(i),o=Dp(i),l=s.visualViewport;let a=o.clientWidth,u=o.clientHeight,m=0,d=0;if(l){a=l.width,u=l.height;const b=uB();(b||!b&&r==="fixed")&&(m=l.offsetLeft,d=l.offsetTop)}return{width:a,height:u,x:m,y:d}})(n,t)):Up(e)?(function(i,r){const s=vf(i,!1,r==="fixed"),o=s.top+i.clientTop,l=s.left+i.clientLeft;return{top:o,left:l,x:l,y:o,right:l+i.clientWidth,bottom:o+i.clientHeight,width:i.clientWidth,height:i.clientHeight}})(e,t):oS((function(i){var r;const s=Dp(i),o=OE(i),l=(r=i.ownerDocument)==null?void 0:r.body,a=Wy(s.scrollWidth,s.clientWidth,l?l.scrollWidth:0,l?l.clientWidth:0),u=Wy(s.scrollHeight,s.clientHeight,l?l.scrollHeight:0,l?l.clientHeight:0);let m=-o.scrollLeft+hB(i);const d=-o.scrollTop;return j_(l||s).direction==="rtl"&&(m+=Wy(s.clientWidth,l?l.clientWidth:0)-a),{width:a,height:u,x:m,y:d}})(Dp(n)))}function oie(n){const e=cS(n),t=["absolute","fixed"].includes(j_(n).position)&&fd(n)?tR(n):n;return Up(t)?e.filter((i=>Up(i)&&(function(r,s){const o=s.getRootNode==null?void 0:s.getRootNode();if(r.contains(s))return!0;if(o&&bM(o)){let l=s;do{if(l&&r===l)return!0;l=l.parentNode||l.host}while(l)}return!1})(i,t)&&gf(i)!=="body")):[]}const aie={getClippingRect:function(n){let{element:e,boundary:t,rootBoundary:i,strategy:r}=n;const s=[...t==="clippingAncestors"?oie(e):[].concat(t),i],o=s[0],l=s.reduce(((a,u)=>{const m=wP(e,u,r);return a.top=Wy(m.top,a.top),a.right=xP(m.right,a.right),a.bottom=xP(m.bottom,a.bottom),a.left=Wy(m.left,a.left),a}),wP(e,o,r));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}},convertOffsetParentRelativeRectToViewportRelativeRect:function(n){let{rect:e,offsetParent:t,strategy:i}=n;const r=fd(t),s=Dp(t);if(t===s)return e;let o={scrollLeft:0,scrollTop:0};const l={x:0,y:0};if((r||!r&&i!=="fixed")&&((gf(t)!=="body"||ME(s))&&(o=OE(t)),fd(t))){const a=vf(t,!0);l.x=a.x+t.clientLeft,l.y=a.y+t.clientTop}return{...e,x:e.x-o.scrollLeft+l.x,y:e.y-o.scrollTop+l.y}},isElement:Up,getDimensions:EP,getOffsetParent:tR,getDocumentElement:Dp,getElementRects:n=>{let{reference:e,floating:t,strategy:i}=n;return{reference:sie(e,tR(t),i),floating:{...EP(t),x:0,y:0}}},getClientRects:n=>Array.from(n.getClientRects()),isRTL:n=>j_(n).direction==="rtl"};function lie(n,e,t,i){i===void 0&&(i={});const{ancestorScroll:r=!0,ancestorResize:s=!0,elementResize:o=!0,animationFrame:l=!1}=i,a=r&&!l,u=s&&!l,m=a||u?[...Up(n)?cS(n):[],...cS(e)]:[];m.forEach((_=>{a&&_.addEventListener("scroll",t,{passive:!0}),u&&_.addEventListener("resize",t)}));let d,b=null;if(o){let _=!0;b=new ResizeObserver((()=>{_||t(),_=!1})),Up(n)&&!l&&b.observe(n),b.observe(e)}let g=l?vf(n):null;return l&&(function _(){const p=vf(n);!g||p.x===g.x&&p.y===g.y&&p.width===g.width&&p.height===g.height||t(),g=p,d=requestAnimationFrame(_)})(),t(),()=>{var _;m.forEach((p=>{a&&p.removeEventListener("scroll",t),u&&p.removeEventListener("resize",t)})),(_=b)==null||_.disconnect(),b=null,l&&cancelAnimationFrame(d)}}const cie=(n,e,t)=>Xne(n,e,{platform:aie,...t});var nR=typeof document<"u"?Q.useLayoutEffect:Q.useEffect;function iR(n,e){if(n===e)return!0;if(typeof n!=typeof e)return!1;if(typeof n=="function"&&n.toString()===e.toString())return!0;let t,i,r;if(n&&e&&typeof n=="object"){if(Array.isArray(n)){if(t=n.length,t!=e.length)return!1;for(i=t;i--!==0;)if(!iR(n[i],e[i]))return!1;return!0}if(r=Object.keys(n),t=r.length,t!==Object.keys(e).length)return!1;for(i=t;i--!==0;)if(!Object.prototype.hasOwnProperty.call(e,r[i]))return!1;for(i=t;i--!==0;){const s=r[i];if(!(s==="_owner"&&n.$$typeof)&&!iR(n[s],e[s]))return!1}return!0}return n!==n&&e!==e}function uie(n){const e=Q.useRef(n);return nR(()=>{e.current=n}),e}function hie(n){let{middleware:e,placement:t="bottom",strategy:i="absolute",whileElementsMounted:r}=n===void 0?{}:n;const s=Q.useRef(null),o=Q.useRef(null),l=uie(r),a=Q.useRef(null),[u,m]=Q.useState({x:null,y:null,strategy:i,placement:t,middlewareData:{}}),[d,b]=Q.useState(e);iR(d?.map(w=>{let{options:T}=w;return T}),e?.map(w=>{let{options:T}=w;return T}))||b(e);const g=Q.useCallback(()=>{!s.current||!o.current||cie(s.current,o.current,{middleware:d,placement:t,strategy:i}).then(w=>{_.current&&fE.flushSync(()=>{m(w)})})},[d,t,i]);nR(()=>{_.current&&g()},[g]);const _=Q.useRef(!1);nR(()=>(_.current=!0,()=>{_.current=!1}),[]);const p=Q.useCallback(()=>{if(typeof a.current=="function"&&(a.current(),a.current=null),s.current&&o.current)if(l.current){const w=l.current(s.current,o.current,g);a.current=w}else g()},[g,l]),v=Q.useCallback(w=>{s.current=w,p()},[p]),c=Q.useCallback(w=>{o.current=w,p()},[p]),x=Q.useMemo(()=>({reference:s,floating:o}),[]);return Q.useMemo(()=>({...u,update:g,refs:x,reference:v,floating:c}),[u,g,x,v,c])}const die=n=>{const{element:e,padding:t}=n;function i(r){return Object.prototype.hasOwnProperty.call(r,"current")}return{name:"arrow",options:n,fn(r){return i(e)?e.current!=null?gP({element:e.current,padding:t}).fn(r):{}:e?gP({element:e,padding:t}).fn(r):{}}}},fie=Q.forwardRef((n,e)=>{const{children:t,width:i=10,height:r=5,...s}=n;return Q.createElement(gg.svg,Ks({},s,{ref:e,width:i,height:r,viewBox:"0 0 30 10",preserveAspectRatio:"none"}),n.asChild?t:Q.createElement("polygon",{points:"0,0 30,0 15,10"}))}),pie=fie;function mie(n){const e=Q.useRef(n);return Q.useEffect(()=>{e.current=n}),Q.useMemo(()=>(...t)=>{var i;return(i=e.current)===null||i===void 0?void 0:i.call(e,...t)},[])}const Uy=globalThis?.document?Q.useLayoutEffect:()=>{};function gie(n){const[e,t]=Q.useState(void 0);return Uy(()=>{if(n){t({width:n.offsetWidth,height:n.offsetHeight});const i=new ResizeObserver(r=>{if(!Array.isArray(r)||!r.length)return;const s=r[0];let o,l;if("borderBoxSize"in s){const a=s.borderBoxSize,u=Array.isArray(a)?a[0]:a;o=u.inlineSize,l=u.blockSize}else o=n.offsetWidth,l=n.offsetHeight;t({width:o,height:l})});return i.observe(n,{box:"border-box"}),()=>i.unobserve(n)}else t(void 0)},[n]),e}const pB="Popper",[xM,mB]=tB(pB),[vie,gB]=xM(pB),yie=n=>{const{__scopePopper:e,children:t}=n,[i,r]=Q.useState(null);return Q.createElement(vie,{scope:e,anchor:i,onAnchorChange:r},t)},_ie="PopperAnchor",bie=Q.forwardRef((n,e)=>{const{__scopePopper:t,virtualRef:i,...r}=n,s=gB(_ie,t),o=Q.useRef(null),l=T0(e,o);return Q.useEffect(()=>{s.onAnchorChange(i?.current||o.current)}),i?null:Q.createElement(gg.div,Ks({},r,{ref:l}))}),uS="PopperContent",[xie,Sie]=xM(uS),[Eie,wie]=xM(uS,{hasParent:!1,positionUpdateFns:new Set}),Cie=Q.forwardRef((n,e)=>{var t,i,r,s,o,l,a,u;const{__scopePopper:m,side:d="bottom",sideOffset:b=0,align:g="center",alignOffset:_=0,arrowPadding:p=0,collisionBoundary:v=[],collisionPadding:c=0,sticky:x="partial",hideWhenDetached:w=!1,avoidCollisions:T=!0,onPlaced:L,...P}=n,C=gB(uS,m),[I,F]=Q.useState(null),R=T0(e,en=>F(en)),[D,G]=Q.useState(null),j=gie(D),k=(t=j?.width)!==null&&t!==void 0?t:0,V=(i=j?.height)!==null&&i!==void 0?i:0,H=d+(g!=="center"?"-"+g:""),te=typeof c=="number"?c:{top:0,right:0,bottom:0,left:0,...c},ne=Array.isArray(v)?v:[v],he=ne.length>0,ie={padding:te,boundary:ne.filter(Oie),altBoundary:he},{reference:ce,floating:Se,strategy:Ee,x:me,y:le,placement:we,middlewareData:Re,update:Fe}=hie({strategy:"fixed",placement:H,whileElementsMounted:lie,middleware:[Lie(),eie({mainAxis:b+V,alignmentAxis:_}),T?tie({mainAxis:!0,crossAxis:!1,limiter:x==="partial"?nie():void 0,...ie}):void 0,D?die({element:D,padding:p}):void 0,T?Qne({...ie}):void 0,iie({...ie,apply:({elements:en,availableWidth:_e,availableHeight:ue})=>{en.floating.style.setProperty("--radix-popper-available-width",`${_e}px`),en.floating.style.setProperty("--radix-popper-available-height",`${ue}px`)}}),Pie({arrowWidth:k,arrowHeight:V}),w?Jne({strategy:"referenceHidden"}):void 0].filter(Mie)});Uy(()=>{ce(C.anchor)},[ce,C.anchor]);const qe=me!==null&&le!==null,[ot,dn]=vB(we),mn=mie(L);Uy(()=>{qe&&mn?.()},[qe,mn]);const pn=(r=Re.arrow)===null||r===void 0?void 0:r.x,Ae=(s=Re.arrow)===null||s===void 0?void 0:s.y,Bt=((o=Re.arrow)===null||o===void 0?void 0:o.centerOffset)!==0,[Tt,zt]=Q.useState();Uy(()=>{I&&zt(window.getComputedStyle(I).zIndex)},[I]);const{hasParent:At,positionUpdateFns:yn}=wie(uS,m),nt=!At;Q.useLayoutEffect(()=>{if(!nt)return yn.add(Fe),()=>{yn.delete(Fe)}},[nt,yn,Fe]),Uy(()=>{nt&&qe&&Array.from(yn).reverse().forEach(en=>requestAnimationFrame(en))},[nt,qe,yn]);const Nt={"data-side":ot,"data-align":dn,...P,ref:R,style:{...P.style,animation:qe?void 0:"none",opacity:(l=Re.hide)!==null&&l!==void 0&&l.referenceHidden?0:void 0}};return Q.createElement("div",{ref:Se,"data-radix-popper-content-wrapper":"",style:{position:Ee,left:0,top:0,transform:qe?`translate3d(${Math.round(me)}px, ${Math.round(le)}px, 0)`:"translate3d(0, -200%, 0)",minWidth:"max-content",zIndex:Tt,"--radix-popper-transform-origin":[(a=Re.transformOrigin)===null||a===void 0?void 0:a.x,(u=Re.transformOrigin)===null||u===void 0?void 0:u.y].join(" ")},dir:n.dir},Q.createElement(xie,{scope:m,placedSide:ot,onArrowChange:G,arrowX:pn,arrowY:Ae,shouldHideArrow:Bt},nt?Q.createElement(Eie,{scope:m,hasParent:!0,positionUpdateFns:yn},Q.createElement(gg.div,Nt)):Q.createElement(gg.div,Nt)))}),Tie="PopperArrow",Aie={top:"bottom",right:"left",bottom:"top",left:"right"},Rie=Q.forwardRef(function(e,t){const{__scopePopper:i,...r}=e,s=Sie(Tie,i),o=Aie[s.placedSide];return Q.createElement("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0}},Q.createElement(pie,Ks({},r,{ref:t,style:{...r.style,display:"block"}})))});function Mie(n){return n!==void 0}function Oie(n){return n!==null}const Lie=()=>({name:"anchorCssProperties",fn(n){const{rects:e,elements:t}=n,{width:i,height:r}=e.reference;return t.floating.style.setProperty("--radix-popper-anchor-width",`${i}px`),t.floating.style.setProperty("--radix-popper-anchor-height",`${r}px`),{}}}),Pie=n=>({name:"transformOrigin",options:n,fn(e){var t,i,r,s,o;const{placement:l,rects:a,middlewareData:u}=e,d=((t=u.arrow)===null||t===void 0?void 0:t.centerOffset)!==0,b=d?0:n.arrowWidth,g=d?0:n.arrowHeight,[_,p]=vB(l),v={start:"0%",center:"50%",end:"100%"}[p],c=((i=(r=u.arrow)===null||r===void 0?void 0:r.x)!==null&&i!==void 0?i:0)+b/2,x=((s=(o=u.arrow)===null||o===void 0?void 0:o.y)!==null&&s!==void 0?s:0)+g/2;let w="",T="";return _==="bottom"?(w=d?v:`${c}px`,T=`${-g}px`):_==="top"?(w=d?v:`${c}px`,T=`${a.floating.height+g}px`):_==="right"?(w=`${-g}px`,T=d?v:`${x}px`):_==="left"&&(w=`${a.floating.width+g}px`,T=d?v:`${x}px`),{data:{x:w,y:T}}}});function vB(n){const[e,t="center"]=n.split("-");return[e,t]}const Nie=yie,Iie=bie,Die=Cie,Fie=Rie,CP=globalThis?.document?Q.useLayoutEffect:()=>{};function Bie(n,e){return Q.useReducer((t,i)=>{const r=e[t][i];return r??t},n)}const yB=n=>{const{present:e,children:t}=n,i=Uie(e),r=typeof t=="function"?t({present:i.isPresent}):Q.Children.only(t),s=T0(i.ref,r.ref);return typeof t=="function"||i.isPresent?Q.cloneElement(r,{ref:s}):null};yB.displayName="Presence";function Uie(n){const[e,t]=Q.useState(),i=Q.useRef({}),r=Q.useRef(n),s=Q.useRef("none"),o=n?"mounted":"unmounted",[l,a]=Bie(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return Q.useEffect(()=>{const u=Ex(i.current);s.current=l==="mounted"?u:"none"},[l]),CP(()=>{const u=i.current,m=r.current;if(m!==n){const b=s.current,g=Ex(u);n?a("MOUNT"):g==="none"||u?.display==="none"?a("UNMOUNT"):a(m&&b!==g?"ANIMATION_OUT":"UNMOUNT"),r.current=n}},[n,a]),CP(()=>{if(e){const u=d=>{const g=Ex(i.current).includes(d.animationName);d.target===e&&g&&fE.flushSync(()=>a("ANIMATION_END"))},m=d=>{d.target===e&&(s.current=Ex(i.current))};return e.addEventListener("animationstart",m),e.addEventListener("animationcancel",u),e.addEventListener("animationend",u),()=>{e.removeEventListener("animationstart",m),e.removeEventListener("animationcancel",u),e.removeEventListener("animationend",u)}}else a("ANIMATION_END")},[e,a]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:Q.useCallback(u=>{u&&(i.current=getComputedStyle(u)),t(u)},[])}}function Ex(n){return n?.animationName||"none"}function _B(n){const e=Q.useRef(n);return Q.useEffect(()=>{e.current=n}),Q.useMemo(()=>(...t)=>{var i;return(i=e.current)===null||i===void 0?void 0:i.call(e,...t)},[])}function kie({prop:n,defaultProp:e,onChange:t=()=>{}}){const[i,r]=zie({defaultProp:e,onChange:t}),s=n!==void 0,o=s?n:i,l=_B(t),a=Q.useCallback(u=>{if(s){const d=typeof u=="function"?u(n):u;d!==n&&l(d)}else r(u)},[s,n,r,l]);return[o,a]}function zie({defaultProp:n,onChange:e}){const t=Q.useState(n),[i]=t,r=Q.useRef(i),s=_B(e);return Q.useEffect(()=>{r.current!==i&&(s(i),r.current=i)},[i,r,s]),t}const $ie=Q.forwardRef((n,e)=>Q.createElement(gg.span,Ks({},n,{ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...n.style}}))),Hie=$ie,[LE,m_e]=tB("Tooltip",[mB]),PE=mB(),Gie="TooltipProvider",rR="tooltip.open",[g_e,SM]=LE(Gie),EM="Tooltip",[Vie,NE]=LE(EM),Wie=n=>{const{__scopeTooltip:e,children:t,open:i,defaultOpen:r=!1,onOpenChange:s,disableHoverableContent:o,delayDuration:l}=n,a=SM(EM,n.__scopeTooltip),u=PE(e),[m,d]=Q.useState(null),b=jne(),g=Q.useRef(0),_=o??a.disableHoverableContent,p=l??a.delayDuration,v=Q.useRef(!1),[c=!1,x]=kie({prop:i,defaultProp:r,onChange:C=>{C?(a.onOpen(),document.dispatchEvent(new CustomEvent(rR))):a.onClose(),s?.(C)}}),w=Q.useMemo(()=>c?v.current?"delayed-open":"instant-open":"closed",[c]),T=Q.useCallback(()=>{window.clearTimeout(g.current),v.current=!1,x(!0)},[x]),L=Q.useCallback(()=>{window.clearTimeout(g.current),x(!1)},[x]),P=Q.useCallback(()=>{window.clearTimeout(g.current),g.current=window.setTimeout(()=>{v.current=!0,x(!0)},p)},[p,x]);return Q.useEffect(()=>()=>window.clearTimeout(g.current),[]),Q.createElement(Nie,u,Q.createElement(Vie,{scope:e,contentId:b,open:c,stateAttribute:w,trigger:m,onTriggerChange:d,onTriggerEnter:Q.useCallback(()=>{a.isOpenDelayed?P():T()},[a.isOpenDelayed,P,T]),onTriggerLeave:Q.useCallback(()=>{_?L():window.clearTimeout(g.current)},[L,_]),onOpen:T,onClose:L,disableHoverableContent:_},t))},TP="TooltipTrigger",jie=Q.forwardRef((n,e)=>{const{__scopeTooltip:t,...i}=n,r=NE(TP,t),s=SM(TP,t),o=PE(t),l=Q.useRef(null),a=T0(e,l,r.onTriggerChange),u=Q.useRef(!1),m=Q.useRef(!1),d=Q.useCallback(()=>u.current=!1,[]);return Q.useEffect(()=>()=>document.removeEventListener("pointerup",d),[d]),Q.createElement(Iie,Ks({asChild:!0},o),Q.createElement(gg.button,Ks({"aria-describedby":r.open?r.contentId:void 0,"data-state":r.stateAttribute},i,{ref:a,onPointerMove:rf(n.onPointerMove,b=>{b.pointerType!=="touch"&&!m.current&&!s.isPointerInTransitRef.current&&(r.onTriggerEnter(),m.current=!0)}),onPointerLeave:rf(n.onPointerLeave,()=>{r.onTriggerLeave(),m.current=!1}),onPointerDown:rf(n.onPointerDown,()=>{u.current=!0,document.addEventListener("pointerup",d,{once:!0})}),onFocus:rf(n.onFocus,()=>{u.current||r.onOpen()}),onBlur:rf(n.onBlur,r.onClose),onClick:rf(n.onClick,r.onClose)})))}),Xie="TooltipPortal",[v_e,qie]=LE(Xie,{forceMount:void 0}),v_="TooltipContent",Yie=Q.forwardRef((n,e)=>{const t=qie(v_,n.__scopeTooltip),{forceMount:i=t.forceMount,side:r="top",...s}=n,o=NE(v_,n.__scopeTooltip);return Q.createElement(yB,{present:i||o.open},o.disableHoverableContent?Q.createElement(bB,Ks({side:r},s,{ref:e})):Q.createElement(Kie,Ks({side:r},s,{ref:e})))}),Kie=Q.forwardRef((n,e)=>{const t=NE(v_,n.__scopeTooltip),i=SM(v_,n.__scopeTooltip),r=Q.useRef(null),s=T0(e,r),[o,l]=Q.useState(null),{trigger:a,onClose:u}=t,m=r.current,{onPointerInTransitChange:d}=i,b=Q.useCallback(()=>{l(null),d(!1)},[d]),g=Q.useCallback((_,p)=>{const v=_.currentTarget,c={x:_.clientX,y:_.clientY},x=tre(c,v.getBoundingClientRect()),w=x==="right"||x==="bottom"?-5:5,L=x==="right"||x==="left"?{x:_.clientX+w,y:_.clientY}:{x:_.clientX,y:_.clientY+w},P=nre(p.getBoundingClientRect()),C=rre([L,...P]);l(C),d(!0)},[d]);return Q.useEffect(()=>()=>b(),[b]),Q.useEffect(()=>{if(a&&m){const _=v=>g(v,m),p=v=>g(v,a);return a.addEventListener("pointerleave",_),m.addEventListener("pointerleave",p),()=>{a.removeEventListener("pointerleave",_),m.removeEventListener("pointerleave",p)}}},[a,m,g,b]),Q.useEffect(()=>{if(o){const _=p=>{const v=p.target,c={x:p.clientX,y:p.clientY},x=a?.contains(v)||m?.contains(v),w=!ire(c,o);x?b():w&&(b(),u())};return document.addEventListener("pointermove",_),()=>document.removeEventListener("pointermove",_)}},[a,m,o,u,b]),Q.createElement(bB,Ks({},n,{ref:s}))}),[Zie,Qie]=LE(EM,{isInside:!1}),bB=Q.forwardRef((n,e)=>{const{__scopeTooltip:t,children:i,"aria-label":r,onEscapeKeyDown:s,onPointerDownOutside:o,...l}=n,a=NE(v_,t),u=PE(t),{onClose:m}=a;return Q.useEffect(()=>(document.addEventListener(rR,m),()=>document.removeEventListener(rR,m)),[m]),Q.useEffect(()=>{if(a.trigger){const d=b=>{const g=b.target;g!=null&&g.contains(a.trigger)&&m()};return window.addEventListener("scroll",d,{capture:!0}),()=>window.removeEventListener("scroll",d,{capture:!0})}},[a.trigger,m]),Q.createElement(zne,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:d=>d.preventDefault(),onDismiss:m},Q.createElement(Die,Ks({"data-state":a.stateAttribute},u,l,{ref:e,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"}}),Q.createElement(iB,null,i),Q.createElement(Zie,{scope:t,isInside:!0},Q.createElement(Hie,{id:a.contentId,role:"tooltip"},r||i))))}),Jie="TooltipArrow",ere=Q.forwardRef((n,e)=>{const{__scopeTooltip:t,...i}=n,r=PE(t);return Qie(Jie,t).isInside?null:Q.createElement(Fie,Ks({},r,i,{ref:e}))});function tre(n,e){const t=Math.abs(e.top-n.y),i=Math.abs(e.bottom-n.y),r=Math.abs(e.right-n.x),s=Math.abs(e.left-n.x);switch(Math.min(t,i,r,s)){case s:return"left";case r:return"right";case t:return"top";case i:return"bottom";default:return null}}function nre(n){const{top:e,right:t,bottom:i,left:r}=n;return[{x:r,y:e},{x:t,y:e},{x:t,y:i},{x:r,y:i}]}function ire(n,e){const{x:t,y:i}=n;let r=!1;for(let s=0,o=e.length-1;s<e.length;o=s++){const l=e[s].x,a=e[s].y,u=e[o].x,m=e[o].y;a>i!=m>i&&t<(u-l)*(i-a)/(m-a)+l&&(r=!r)}return r}function rre(n){const e=n.slice();return e.sort((t,i)=>t.x<i.x?-1:t.x>i.x?1:t.y<i.y?-1:t.y>i.y?1:0),sre(e)}function sre(n){if(n.length<=1)return n.slice();const e=[];for(let i=0;i<n.length;i++){const r=n[i];for(;e.length>=2;){const s=e[e.length-1],o=e[e.length-2];if((s.x-o.x)*(r.y-o.y)>=(s.y-o.y)*(r.x-o.x))e.pop();else break}e.push(r)}e.pop();const t=[];for(let i=n.length-1;i>=0;i--){const r=n[i];for(;t.length>=2;){const s=t[t.length-1],o=t[t.length-2];if((s.x-o.x)*(r.y-o.y)>=(s.y-o.y)*(r.x-o.x))t.pop();else break}t.push(r)}return t.pop(),e.length===1&&t.length===1&&e[0].x===t[0].x&&e[0].y===t[0].y?e:e.concat(t)}const ore=Wie,are=jie,lre=Yie,cre=ere;function ure(n,e){if(n==null)return{};var t={},i=Object.keys(n),r,s;for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&(t[r]=n[r]);return t}function Ns(n,e){if(n==null)return{};var t=ure(n,e),i,r;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(r=0;r<s.length;r++)i=s[r],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(n,i)&&(t[i]=n[i])}return t}let Ao;(function(n){n[n.UNSUPPORTED_INPUT=0]="UNSUPPORTED_INPUT",n[n.NO_COMPONENT_FOR_TYPE=1]="NO_COMPONENT_FOR_TYPE",n[n.UNKNOWN_INPUT=2]="UNKNOWN_INPUT",n[n.DUPLICATE_KEYS=3]="DUPLICATE_KEYS",n[n.ALREADY_REGISTERED_TYPE=4]="ALREADY_REGISTERED_TYPE",n[n.CLIPBOARD_ERROR=5]="CLIPBOARD_ERROR",n[n.THEME_ERROR=6]="THEME_ERROR",n[n.PATH_DOESNT_EXIST=7]="PATH_DOESNT_EXIST",n[n.INPUT_TYPE_OVERRIDE=8]="INPUT_TYPE_OVERRIDE",n[n.EMPTY_KEY=9]="EMPTY_KEY"})(Ao||(Ao={}));const hre={[Ao.UNSUPPORTED_INPUT]:(n,e)=>[`An input with type \`${n}\` input was found at path \`${e}\` but it's not supported yet.`],[Ao.NO_COMPONENT_FOR_TYPE]:(n,e)=>[`Type \`${n}\` found at path \`${e}\` can't be displayed in panel because no component supports it yet.`],[Ao.UNKNOWN_INPUT]:(n,e)=>[`input at path \`${n}\` is not recognized.`,e],[Ao.DUPLICATE_KEYS]:(n,e,t)=>[`Key \`${n}\` of path \`${e}\` already exists at path \`${t}\`. Even nested keys need to be unique. Rename one of the keys.`],[Ao.ALREADY_REGISTERED_TYPE]:n=>[`Type ${n} has already been registered. You can't register a component with the same type.`],[Ao.CLIPBOARD_ERROR]:n=>["Error copying the value",n],[Ao.THEME_ERROR]:(n,e)=>[`Error accessing the theme \`${n}.${e}\` value.`],[Ao.PATH_DOESNT_EXIST]:n=>[`Error getting the value at path \`${n}\`. There is probably an error in your \`render\` function.`],[Ao.PATH_DOESNT_EXIST]:n=>[`Error accessing the value at path \`${n}\``],[Ao.INPUT_TYPE_OVERRIDE]:(n,e,t)=>[`Input at path \`${n}\` already exists with type: \`${e}\`. Its type cannot be overridden with type \`${t}\`.`],[Ao.EMPTY_KEY]:()=>["Keys can not be empty, if you want to hide a label use whitespace."]};function xB(n,e,...t){const[i,...r]=hre[e](...t);console[n]("LEVA: "+i,...r)}const cf=xB.bind(null,"warn"),dre=xB.bind(null,"log"),fre=["value"],pre=["schema"],mre=["value"],SB=[],vg={};function AP(n){let{value:e}=n,t=Ns(n,fre);for(let i of SB){const r=i(e,t);if(r)return r}}function Of(n,e){let{schema:t}=e,i=Ns(e,pre);if(n in vg){cf(Ao.ALREADY_REGISTERED_TYPE,n);return}SB.push((r,s)=>t(r,s)&&n),vg[n]=i}function kC(n,e,t,i){const{normalize:r}=vg[n];if(r)return r(e,t,i);if(typeof e!="object"||!("value"in e))return{value:e};const{value:s}=e,o=Ns(e,mre);return{value:s,settings:o}}function gre(n,e,t,i,r,s){const{sanitize:o}=vg[n];return o?o(e,t,i,r,s):e}function RP(n,e,t){const{format:i}=vg[n];return i?i(e,t):e}function vre(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function MP(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function Vi(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?MP(Object(t),!0).forEach(function(i){vre(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):MP(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}const kp=(n,e,t)=>n>t?t:n<e?e:n,yre=n=>{if(n===""||typeof n=="number")return n;try{const e=wp(n);if(!isNaN(e))return e}catch{}return parseFloat(n)},_re=Math.log(10);function OP(n){let e=Math.abs(+String(n).replace(".",""));if(e===0)return .01;for(;e!==0&&e%10===0;)e/=10;const t=Math.floor(Math.log(e)/_re)+1,i=Math.floor(Math.log10(Math.abs(n))),r=Math.pow(10,i-t);return Math.max(r,.001)}const hS=(n,e,t)=>t===e?0:(kp(n,e,t)-e)/(t-e),dS=(n,e,t)=>n*(t-e)+e,bre=()=>"_"+Math.random().toString(36).substr(2,9),LP=/\(([0-9+\-*/^ .]+)\)/,PP=/(\d+(?:\.\d+)?) ?\^ ?(\d+(?:\.\d+)?)/,NP=/(\d+(?:\.\d+)?) ?\* ?(\d+(?:\.\d+)?)/,IP=/(\d+(?:\.\d+)?) ?\/ ?(\d+(?:\.\d+)?)/,DP=/(\d+(?:\.\d+)?) ?\+ ?(\d+(?:\.\d+)?)/,FP=/(\d+(?:\.\d+)?) ?- ?(\d+(?:\.\d+)?)/;function wp(n){if(isNaN(Number(n)))if(LP.test(n)){const e=n.replace(LP,(t,i)=>String(wp(i)));return wp(e)}else if(PP.test(n)){const e=n.replace(PP,(t,i,r)=>String(Math.pow(Number(i),Number(r))));return wp(e)}else if(NP.test(n)){const e=n.replace(NP,(t,i,r)=>String(Number(i)*Number(r)));return wp(e)}else if(IP.test(n)){const e=n.replace(IP,(t,i,r)=>{if(r!=0)return String(Number(i)/Number(r));throw new Error("Division by zero")});return wp(e)}else if(DP.test(n)){const e=n.replace(DP,(t,i,r)=>String(Number(i)+Number(r)));return wp(e)}else if(FP.test(n)){const e=n.replace(FP,(t,i,r)=>String(Number(i)-Number(r)));return wp(e)}else return Number(n);return Number(n)}function xre(n,e){return e.reduce((t,i)=>(n&&n.hasOwnProperty(i)&&(t[i]=n[i]),t),{})}function Sre(n,e){const t=Vi({},n);return e.forEach(i=>i in n&&delete t[i]),t}function Ere(n,e){return n.reduce((t,i,r)=>Object.assign(t,{[e[r]]:i}),{})}function EB(n){return Object.prototype.toString.call(n)==="[object Object]"}const wre=n=>EB(n)&&Object.keys(n).length===0;let _h;(function(n){n.BUTTON="BUTTON",n.BUTTON_GROUP="BUTTON_GROUP",n.MONITOR="MONITOR",n.FOLDER="FOLDER"})(_h||(_h={}));let wh;(function(n){n.SELECT="SELECT",n.IMAGE="IMAGE",n.NUMBER="NUMBER",n.COLOR="COLOR",n.STRING="STRING",n.BOOLEAN="BOOLEAN",n.INTERVAL="INTERVAL",n.VECTOR3D="VECTOR3D",n.VECTOR2D="VECTOR2D"})(wh||(wh={}));const Cre=["type","__customInput"],Tre=["render","label","optional","order","disabled","hint","onChange","onEditStart","onEditEnd","transient"],Are=["type"];function wB(n,e,t={},i){var r,s;if(typeof n!="object"||Array.isArray(n))return{type:i,input:n,options:Vi({key:e,label:e,optional:!1,disabled:!1,order:0},t)};if("__customInput"in n){const{type:L,__customInput:P}=n,C=Ns(n,Cre);return wB(P,e,C,L)}const{render:o,label:l,optional:a,order:u=0,disabled:m,hint:d,onChange:b,onEditStart:g,onEditEnd:_,transient:p}=n,v=Ns(n,Tre),c=Vi({render:o,key:e,label:l??e,hint:d,transient:p??!!b,onEditStart:g,onEditEnd:_,disabled:m,optional:a,order:u},t);let{type:x}=v,w=Ns(v,Are);if(x=i??x,x in _h)return{type:x,input:w,options:c};let T;return i&&EB(w)&&"value"in w?T=w.value:T=wre(w)?void 0:w,{type:x,input:T,options:Vi(Vi({},c),{},{onChange:b,optional:(r=c.optional)!==null&&r!==void 0?r:!1,disabled:(s=c.disabled)!==null&&s!==void 0?s:!1})}}function Rre(n,e,t,i){const r=wB(n,e),{type:s,input:o,options:l}=r;if(s)return s in _h?r:{type:s,input:kC(s,o,t,i),options:l};let a=AP(o);return a?{type:a,input:kC(a,o,t,i),options:l}:(a=AP({value:o}),a?{type:a,input:kC(a,{value:o},t,i),options:l}:!1)}function BP(n,e,t,i,r){const{value:s,type:o,settings:l}=n;n.value=CB({type:o,value:s,settings:l},e,t,i),n.fromPanel=r}const Mre=function(e,t,i){this.type="LEVA_ERROR",this.message="LEVA: "+e,this.previousValue=t,this.error=i};function CB({type:n,value:e,settings:t},i,r,s){const o=n!=="SELECT"&&typeof i=="function"?i(e):i;let l;try{l=gre(n,o,t,e,r,s)}catch(a){throw new Mre(`The value \`${i}\` did not result in a correct value.`,e,a)}return p_(l,e)?e:l}const TB=(n,e,t=!1)=>{let i=0;return function(){const r=arguments,s=t&&!i,o=()=>n.apply(this,r);window.clearTimeout(i),i=window.setTimeout(o,e),s&&o()}},AB=n=>n.shiftKey?5:n.altKey?1/5:1,Ore=["value"],Lre=["min","max"],Pre=n=>{if(typeof n=="number")return!0;if(typeof n=="string"){const e=parseFloat(n);return isNaN(e)?!1:n.substring((""+e).length).trim().length<4}return!1},RB=(n,{min:e=-1/0,max:t=1/0,suffix:i})=>{const r=parseFloat(n);if(n===""||isNaN(r))throw Error("Invalid number");const s=kp(r,e,t);return i?s+i:s},Nre=(n,{pad:e=0,suffix:t})=>{const i=parseFloat(n).toFixed(e);return t?i+t:i},MB=n=>{let{value:e}=n,t=Ns(n,Ore);const{min:i=-1/0,max:r=1/0}=t,s=Ns(t,Lre);let o=parseFloat(e);const l=typeof e=="string"?e.substring((""+o).length):void 0;o=kp(o,i,r);let a=t.step;a||(Number.isFinite(i)?Number.isFinite(r)?a=+(Math.abs(r-i)/100).toPrecision(1):a=+(Math.abs(o-i)/100).toPrecision(1):Number.isFinite(r)&&(a=+(Math.abs(r-o)/100).toPrecision(1)));const u=a?OP(a)*10:OP(o);a=a||u/10;const m=Math.round(kp(Math.log10(1/u),0,2));return{value:l?o+l:o,settings:Vi({initialValue:o,step:a,pad:m,min:i,max:r,suffix:l},s)}},OB=(n,{step:e,initialValue:t})=>{const i=Math.round((n-t)/e);return t+i*e};var LB=Object.freeze({__proto__:null,schema:Pre,sanitize:RB,format:Nre,normalize:MB,sanitizeStep:OB});function Wo(){return Wo=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Wo.apply(this,arguments)}const PB=Q.createContext({});function Dl(){return Q.useContext(PB)}const wM=Q.createContext(null),NB=Q.createContext(null),IB=Q.createContext(null);function X_(){return Q.useContext(NB)}function Ire(){return Q.useContext(IB)}const DB=()=>({colors:{elevation1:"#292d39",elevation2:"#181c20",elevation3:"#373c4b",accent1:"#0066dc",accent2:"#007bff",accent3:"#3c93ff",highlight1:"#535760",highlight2:"#8c92a4",highlight3:"#fefefe",vivid1:"#ffcc00",folderWidgetColor:"$highlight2",folderTextColor:"$highlight3",toolTipBackground:"$highlight3",toolTipText:"$elevation2"},radii:{xs:"2px",sm:"3px",lg:"10px"},space:{xs:"3px",sm:"6px",md:"10px",rowGap:"7px",colGap:"7px"},fonts:{mono:"ui-monospace, SFMono-Regular, Menlo, 'Roboto Mono', monospace",sans:"system-ui, sans-serif"},fontSizes:{root:"11px",toolTip:"$root"},sizes:{rootWidth:"280px",controlWidth:"160px",numberInputMinWidth:"38px",scrubberWidth:"8px",scrubberHeight:"16px",rowHeight:"24px",folderTitleHeight:"20px",checkboxSize:"16px",joystickWidth:"100px",joystickHeight:"100px",colorPickerWidth:"$controlWidth",colorPickerHeight:"100px",imagePreviewWidth:"$controlWidth",imagePreviewHeight:"100px",monitorHeight:"60px",titleBarHeight:"39px"},shadows:{level1:"0 0 9px 0 #00000088",level2:"0 4px 14px #00000033"},borderWidths:{root:"0px",input:"1px",focus:"1px",hover:"1px",active:"1px",folder:"1px"},fontWeights:{label:"normal",folder:"normal",button:"normal"}});function wx(n,e){const[t,i]=n.split(" "),r={};return t!=="none"&&(r.boxShadow=`${e.inset?"inset ":""}0 0 0 $borderWidths${[e.key]} $colors${t!=="default"&&t||e.borderColor}`),i&&(r.backgroundColor=i),r}const yy={$inputStyle:()=>n=>wx(n,{key:"$input",borderColor:"$highlight1",inset:!0}),$focusStyle:()=>n=>wx(n,{key:"$focus",borderColor:"$accent2"}),$hoverStyle:()=>n=>wx(n,{key:"$hover",borderColor:"$accent1",inset:!0}),$activeStyle:()=>n=>wx(n,{key:"$active",borderColor:"$accent1",inset:!0})},{styled:Di,css:y_e,createTheme:Dre,globalCss:Fre,keyframes:__e}=Fte({prefix:"leva",theme:DB(),utils:Vi(Vi({},yy),{},{$flex:()=>({display:"flex",alignItems:"center"}),$flexCenter:()=>({display:"flex",alignItems:"center",justifyContent:"center"}),$reset:()=>({outline:"none",fontSize:"inherit",fontWeight:"inherit",color:"inherit",fontFamily:"inherit",border:"none",backgroundColor:"transparent",appearance:"none"}),$draggable:()=>({touchAction:"none",WebkitUserDrag:"none",userSelect:"none"}),$focus:n=>({"&:focus":yy.$focusStyle()(n)}),$focusWithin:n=>({"&:focus-within":yy.$focusStyle()(n)}),$hover:n=>({"&:hover":yy.$hoverStyle()(n)}),$active:n=>({"&:active":yy.$activeStyle()(n)})})}),Bre=Fre({".leva__panel__dragged":{WebkitUserDrag:"none",userSelect:"none",input:{userSelect:"none"},"*":{cursor:"ew-resize !important"}}});function Ure(n){const e=DB();if(!n)return{theme:e,className:""};Object.keys(n).forEach(i=>{Object.assign(e[i],n[i])});const t=Dre(e);return{theme:e,className:t.className}}function yf(n,e){const{theme:t}=Q.useContext(wM);if(!(n in t)||!(e in t[n]))return cf(Ao.THEME_ERROR,n,e),"";let i=e;for(;;){let r=t[n][i];if(typeof r=="string"&&r.charAt(0)==="$")i=r.substr(1);else return r}}const FB=Di("input",{$reset:"",padding:"0 $sm",width:0,minWidth:0,flex:1,height:"100%",variants:{levaType:{number:{textAlign:"right"}},as:{textarea:{padding:"$sm"}}}}),BB=Di("div",{$draggable:"",height:"100%",$flexCenter:"",position:"relative",padding:"0 $xs",fontSize:"0.8em",opacity:.8,cursor:"default",touchAction:"none",[`& + ${FB}`]:{paddingLeft:0}}),kre=Di(BB,{cursor:"ew-resize",marginRight:"-$xs",textTransform:"uppercase",opacity:.3,"&:hover":{opacity:1},variants:{dragging:{true:{backgroundColor:"$accent2",opacity:1}}}}),zre=Di("div",{$flex:"",position:"relative",borderRadius:"$sm",overflow:"hidden",color:"inherit",height:"$rowHeight",backgroundColor:"$elevation3",$inputStyle:"$elevation1",$hover:"",$focusWithin:"",variants:{textArea:{true:{height:"auto"}}}}),$re=["innerLabel","value","onUpdate","onChange","onKeyDown","type","id","inputType","rows"],Hre=["onUpdate"];function CM(n){let{innerLabel:e,value:t,onUpdate:i,onChange:r,onKeyDown:s,type:o,id:l,inputType:a="text",rows:u=0}=n,m=Ns(n,$re);const{id:d,emitOnEditStart:b,emitOnEditEnd:g,disabled:_}=Dl(),p=l||d,v=Q.useRef(null),c=u>0,x=c?"textarea":"input",w=Q.useCallback(P=>C=>{const I=C.currentTarget.value;P(I)},[]);We.useEffect(()=>{const P=v.current,C=w(I=>{i(I),g()});return P?.addEventListener("blur",C),()=>P?.removeEventListener("blur",C)},[w,i,g]);const T=Q.useCallback(P=>{P.key==="Enter"&&w(i)(P)},[w,i]),L=Object.assign({as:x},c?{rows:u}:{},m);return We.createElement(zre,{textArea:c},e&&typeof e=="string"?We.createElement(BB,null,e):e,We.createElement(FB,Wo({levaType:o,ref:v,id:p,type:a,autoComplete:"off",spellCheck:"false",value:t,onChange:w(r),onFocus:()=>b(),onKeyPress:T,onKeyDown:s,disabled:_},L)))}function Gre(n){let{onUpdate:e}=n,t=Ns(n,Hre);const i=Q.useCallback(s=>e(yre(s)),[e]),r=Q.useCallback(s=>{const o=s.key==="ArrowUp"?1:s.key==="ArrowDown"?-1:0;if(o){s.preventDefault();const l=s.altKey?.1:s.shiftKey?10:1;e(a=>parseFloat(a)+o*l)}},[e]);return We.createElement(CM,Wo({},t,{onUpdate:i,onKeyDown:r,type:"number"}))}const fS=Di("div",{}),sR=Di("div",{position:"relative",background:"$elevation2",transition:"height 300ms ease",variants:{fill:{true:{},false:{}},flat:{false:{},true:{}},isRoot:{true:{},false:{paddingLeft:"$md","&::after":{content:'""',position:"absolute",left:0,top:0,width:"$borderWidths$folder",height:"100%",backgroundColor:"$folderWidgetColor",opacity:.4,transform:"translateX(-50%)"}}}},compoundVariants:[{isRoot:!0,fill:!1,css:{overflowY:"auto",maxHeight:"calc(100vh - 20px - $$titleBarHeight)"}},{isRoot:!0,flat:!1,css:{borderRadius:"$lg"}}]}),Vre=Di("div",{$flex:"",color:"$folderTextColor",userSelect:"none",cursor:"pointer",height:"$folderTitleHeight",fontWeight:"$folder","> svg":{marginLeft:-4,marginRight:4,cursor:"pointer",fill:"$folderWidgetColor",opacity:.6},"&:hover > svg":{fill:"$folderWidgetColor"},[`&:hover + ${sR}::after`]:{opacity:.6},[`${fS}:hover > & + ${sR}::after`]:{opacity:.6},[`${fS}:hover > & > svg`]:{opacity:1}}),UB=Di("div",{position:"relative",display:"grid",gridTemplateColumns:"100%",rowGap:"$rowGap",transition:"opacity 250ms ease",variants:{toggled:{true:{opacity:1,transitionDelay:"250ms"},false:{opacity:0,transitionDelay:"0ms",pointerEvents:"none"}},isRoot:{true:{"& > div":{paddingLeft:"$md",paddingRight:"$md"},"& > div:first-of-type":{paddingTop:"$sm"},"& > div:last-of-type":{paddingBottom:"$sm"},[`> ${fS}:not(:first-of-type)`]:{paddingTop:"$sm",marginTop:"$md",borderTop:"$borderWidths$folder solid $colors$elevation1"}}}}}),kB=Di("div",{position:"relative",zIndex:100,display:"grid",rowGap:"$rowGap",gridTemplateRows:"minmax($sizes$rowHeight, max-content)",alignItems:"center",color:"$highlight2",[`${UB} > &`]:{"&:first-of-type":{marginTop:"$rowGap"},"&:last-of-type":{marginBottom:"$rowGap"}},variants:{disabled:{true:{pointerEvents:"none"},false:{"&:hover,&:focus-within":{color:"$highlight3"}}}}}),zB=Di(kB,{gridTemplateColumns:"auto $sizes$controlWidth",columnGap:"$colGap"}),Wre=Di("div",{$flex:"",height:"100%",position:"relative",overflow:"hidden","& > div":{marginLeft:"$colGap",padding:"0 $xs",opacity:.4},"& > div:hover":{opacity:.8},"& > div > svg":{display:"none",cursor:"pointer",width:13,minWidth:13,height:13,backgroundColor:"$elevation2"},"&:hover > div > svg":{display:"block"},variants:{align:{top:{height:"100%",alignItems:"flex-start",paddingTop:"$sm"}}}}),jre=Di("input",{$reset:"",height:0,width:0,opacity:0,margin:0,"& + label":{position:"relative",$flexCenter:"",height:"100%",userSelect:"none",cursor:"pointer",paddingLeft:2,paddingRight:"$sm",pointerEvents:"auto"},"& + label:after":{content:'""',width:6,height:6,backgroundColor:"$elevation3",borderRadius:"50%",$activeStyle:""},"&:focus + label:after":{$focusStyle:""},"& + label:active:after":{backgroundColor:"$accent1",$focusStyle:""},"&:checked + label:after":{backgroundColor:"$accent1"}}),oR=Di("label",{fontWeight:"$label",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap","& > svg":{display:"block"}}),Xre=Di("div",{opacity:1,variants:{disabled:{true:{opacity:.6,pointerEvents:"none",[`& ${oR}`]:{pointerEvents:"auto"}}}}}),$B=Di("div",{position:"fixed",top:0,bottom:0,right:0,left:0,zIndex:1e3,userSelect:"none"}),qre=Di("div",{background:"$toolTipBackground",fontFamily:"$sans",fontSize:"$toolTip",padding:"$xs $sm",color:"$toolTipText",borderRadius:"$xs",boxShadow:"$level2",maxWidth:260}),Yre=Di(cre,{fill:"$toolTipBackground"});function TM({children:n}){const{className:e}=Q.useContext(wM);return We.createElement(rte,{className:e},n)}const Kre=["align"];function Zre(){const{id:n,disable:e,disabled:t}=Dl();return We.createElement(We.Fragment,null,We.createElement(jre,{id:n+"__disable",type:"checkbox",checked:!t,onChange:()=>e(!t)}),We.createElement("label",{htmlFor:n+"__disable"}))}function Qre(n){const{id:e,optional:t,hint:i}=Dl(),r=n.htmlFor||(e?{htmlFor:e}:null),s=!i&&typeof n.children=="string"?{title:n.children}:null;return We.createElement(We.Fragment,null,t&&We.createElement(Zre,null),i!==void 0?We.createElement(ore,null,We.createElement(are,{asChild:!0},We.createElement(oR,Wo({},r,n))),We.createElement(lre,{side:"top",sideOffset:2},We.createElement(qre,null,i,We.createElement(Yre,null)))):We.createElement(oR,Wo({},r,s,n)))}function Th(n){let{align:e}=n,t=Ns(n,Kre);const{value:i,label:r,key:s,disabled:o}=Dl(),{hideCopyButton:l}=Ire(),a=!l&&s!==void 0,[u,m]=Q.useState(!1),d=async()=>{try{await navigator.clipboard.writeText(JSON.stringify({[s]:i??""})),m(!0)}catch{cf(Ao.CLIPBOARD_ERROR,{[s]:i})}};return We.createElement(Wre,{align:e,onPointerLeave:()=>m(!1)},We.createElement(Qre,t),a&&!o&&We.createElement("div",{title:`Click to copy ${typeof r=="string"?r:s} value`},u?We.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},We.createElement("path",{d:"M9 2a1 1 0 000 2h2a1 1 0 100-2H9z"}),We.createElement("path",{fillRule:"evenodd",d:"M4 5a2 2 0 012-2 3 3 0 003 3h2a3 3 0 003-3 2 2 0 012 2v11a2 2 0 01-2 2H6a2 2 0 01-2-2V5zm9.707 5.707a1 1 0 00-1.414-1.414L9 12.586l-1.293-1.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})):We.createElement("svg",{onClick:d,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},We.createElement("path",{d:"M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z"}),We.createElement("path",{d:"M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z"}))))}const Jre=["toggled"],ese=Di("svg",{fill:"currentColor",transition:"transform 350ms ease, fill 250ms ease"});function AM(n){let{toggled:e}=n,t=Ns(n,Jre);return We.createElement(ese,Wo({width:"9",height:"5",viewBox:"0 0 9 5",xmlns:"http://www.w3.org/2000/svg",style:{transform:`rotate(${e?0:-90}deg)`}},t),We.createElement("path",{d:"M3.8 4.4c.4.3 1 .3 1.4 0L8 1.7A1 1 0 007.4 0H1.6a1 1 0 00-.7 1.7l3 2.7z"}))}const tse=["input"];function $u(n){let{input:e}=n,t=Ns(n,tse);return e?We.createElement(zB,t):We.createElement(kB,t)}function HB({value:n,type:e,settings:t,setValue:i}){const[r,s]=Q.useState(RP(e,n,t)),o=Q.useRef(n),l=Q.useRef(t);l.current=t;const a=Q.useCallback(m=>s(RP(e,m,l.current)),[e]),u=Q.useCallback(m=>{try{i(m)}catch(d){const{type:b,previousValue:g}=d;if(b!=="LEVA_ERROR")throw d;a(g)}},[a,i]);return Q.useEffect(()=>{p_(n,o.current)||a(n),o.current=n},[n,a]),{displayValue:r,onChange:s,onUpdate:u}}function q_(n,e){const{emitOnEditStart:t,emitOnEditEnd:i}=Dl();return Mne(r=>{r.first&&(document.body.classList.add("leva__panel__dragged"),t?.());const s=n(r);return r.last&&(document.body.classList.remove("leva__panel__dragged"),i?.()),s},e)}function nse(n){const e=Q.useRef(null),t=Q.useRef(null),i=Q.useRef(!1);return Q.useEffect(()=>{const r=TB(()=>{e.current.width=e.current.offsetWidth*window.devicePixelRatio,e.current.height=e.current.offsetHeight*window.devicePixelRatio,n(e.current,t.current)},250);return window.addEventListener("resize",r),i.current||(r(),i.current=!0),()=>window.removeEventListener("resize",r)},[n]),Q.useEffect(()=>{t.current=e.current.getContext("2d")},[]),[e,t]}function GB(){const n=Q.useRef(null),e=Q.useRef({x:0,y:0}),t=Q.useCallback(i=>{Object.assign(e.current,i),n.current&&(n.current.style.transform=`translate3d(${e.current.x}px, ${e.current.y}px, 0)`)},[]);return[n,t]}const ise=["__refCount"],zC=(n,e)=>{if(!n[e])return null;const t=n[e];return Ns(t,ise)};function rse(n){const e=X_(),[t,i]=Q.useState(zC(e.getData(),n)),r=Q.useCallback(u=>e.setValueAtPath(n,u,!0),[n,e]),s=Q.useCallback(u=>e.setSettingsAtPath(n,u),[n,e]),o=Q.useCallback(u=>e.disableInputAtPath(n,u),[n,e]),l=Q.useCallback(()=>e.emitOnEditStart(n),[n,e]),a=Q.useCallback(()=>e.emitOnEditEnd(n),[n,e]);return Q.useEffect(()=>{i(zC(e.getData(),n));const u=e.useStore.subscribe(m=>zC(m.data,n),i,{equalityFn:TE});return()=>u()},[e,n]),[t,{set:r,setSettings:s,disable:o,storeId:e.storeId,emitOnEditStart:l,emitOnEditEnd:a}]}const sse=Di("div",{variants:{hasRange:{true:{position:"relative",display:"grid",gridTemplateColumns:"auto $sizes$numberInputMinWidth",columnGap:"$colGap",alignItems:"center"}}}}),VB=Di("div",{position:"relative",width:"100%",height:2,borderRadius:"$xs",backgroundColor:"$elevation1"}),aR=Di("div",{position:"absolute",width:"$scrubberWidth",height:"$scrubberHeight",borderRadius:"$xs",boxShadow:"0 0 0 2px $colors$elevation2",backgroundColor:"$accent2",cursor:"pointer",$active:"none $accent1",$hover:"none $accent3",variants:{position:{left:{borderTopRightRadius:0,borderBottomRightRadius:0,transform:"translateX(calc(-0.5 * ($sizes$scrubberWidth + 4px)))"},right:{borderTopLeftRadius:0,borderBottomLeftRadius:0,transform:"translateX(calc(0.5 * ($sizes$scrubberWidth + 4px)))"}}}}),WB=Di("div",{position:"relative",$flex:"",height:"100%",cursor:"pointer",touchAction:"none"}),jB=Di("div",{position:"absolute",height:"100%",backgroundColor:"$accent2"});function ose({value:n,min:e,max:t,onDrag:i,step:r,initialValue:s}){const o=Q.useRef(null),l=Q.useRef(null),a=Q.useRef(0),u=yf("sizes","scrubberWidth"),m=q_(({event:b,first:g,xy:[_],movement:[p],memo:v})=>{if(g){const{width:x,left:w}=o.current.getBoundingClientRect();a.current=x-parseFloat(u),v=b?.target===l.current?n:dS((_-w)/x,e,t)}const c=v+dS(p/a.current,0,t-e);return i(OB(c,{step:r,initialValue:s})),v}),d=hS(n,e,t);return We.createElement(WB,Wo({ref:o},m()),We.createElement(VB,null,We.createElement(jB,{style:{left:0,right:`${(1-d)*100}%`}})),We.createElement(aR,{ref:l,style:{left:`calc(${d} * (100% - ${u}))`}}))}const ase=We.memo(({label:n,onUpdate:e,step:t,innerLabelTrim:i})=>{const[r,s]=Q.useState(!1),o=q_(({active:l,delta:[a],event:u,memo:m=0,first:d,last:b,target:g})=>(d&&g.requestPointerLock(),b&&document.exitPointerLock(),s(l),m+=a/2,Math.abs(m)>=1&&(e(_=>parseFloat(_)+Math.floor(m)*t*AB(u)),m=0),m));return We.createElement(kre,Wo({dragging:r,title:n.length>1?n:""},o()),n.slice(0,i))});function XB({label:n,id:e,displayValue:t,onUpdate:i,onChange:r,settings:s,innerLabelTrim:o=1}){const l=o>0&&We.createElement(ase,{label:n,step:s.step,onUpdate:i,innerLabelTrim:o});return We.createElement(Gre,{id:e,value:String(t),onUpdate:i,onChange:r,innerLabel:l})}function lse(){const n=Dl(),{label:e,value:t,onUpdate:i,settings:r,id:s}=n,{min:o,max:l}=r,a=l!==1/0&&o!==-1/0;return We.createElement($u,{input:!0},We.createElement(Th,null,e),We.createElement(sse,{hasRange:a},a&&We.createElement(ose,Wo({value:parseFloat(t),onDrag:i},r)),We.createElement(XB,Wo({},n,{id:s,label:"value",innerLabelTrim:a?0:1}))))}const{sanitizeStep:cse}=LB,use=Ns(LB,["sanitizeStep"]);var hse=Vi({component:lse},use);const dse=(n,e)=>Nc().schema({options:Nc().passesAnyOf(Nc().object(),Nc().array())}).test(e),fse=(n,{values:e})=>{if(e.indexOf(n)<0)throw Error("Selected value doesn't match Select options");return n},pse=(n,{values:e})=>e.indexOf(n),mse=n=>{let{value:e,options:t}=n,i,r;return Array.isArray(t)?(r=t,i=t.map(s=>String(s))):(r=Object.values(t),i=Object.keys(t)),"value"in n?r.includes(e)||(i.unshift(String(e)),r.unshift(e)):e=r[0],Object.values(t).includes(e)||(t[String(e)]=e),{value:e,settings:{keys:i,values:r}}};var gse=Object.freeze({__proto__:null,schema:dse,sanitize:fse,format:pse,normalize:mse});const vse=Di("div",{$flexCenter:"",position:"relative","> svg":{pointerEvents:"none",position:"absolute",right:"$md"}}),lR=Di("select",{position:"absolute",top:0,left:0,width:"100%",height:"100%",opacity:0}),yse=Di("div",{display:"flex",alignItems:"center",width:"100%",height:"$rowHeight",backgroundColor:"$elevation3",borderRadius:"$sm",padding:"0 $sm",cursor:"pointer",[`${lR}:focus + &`]:{$focusStyle:""},[`${lR}:hover + &`]:{$hoverStyle:""}});function _se({displayValue:n,value:e,onUpdate:t,id:i,settings:r,disabled:s}){const{keys:o,values:l}=r,a=Q.useRef();return e===l[n]&&(a.current=o[n]),We.createElement(vse,null,We.createElement(lR,{id:i,value:n,onChange:u=>t(l[Number(u.currentTarget.value)]),disabled:s},o.map((u,m)=>We.createElement("option",{key:u,value:m},u))),We.createElement(yse,null,a.current),We.createElement(AM,{toggled:!0}))}function bse(){const{label:n,value:e,displayValue:t,onUpdate:i,id:r,disabled:s,settings:o}=Dl();return We.createElement($u,{input:!0},We.createElement(Th,null,n),We.createElement(_se,{id:r,value:e,displayValue:t,onUpdate:i,settings:o,disabled:s}))}var xse=Vi({component:bse},gse);const Sse=n=>Nc().string().test(n),Ese=n=>{if(typeof n!="string")throw Error("Invalid string");return n},wse=({value:n,editable:e=!0,rows:t=!1})=>({value:n,settings:{editable:e,rows:typeof t=="number"?t:t?5:0}});var Cse=Object.freeze({__proto__:null,schema:Sse,sanitize:Ese,normalize:wse});const Tse=["displayValue","onUpdate","onChange","editable"],Ase=Di("div",{whiteSpace:"pre-wrap"});function Rse(n){let{displayValue:e,onUpdate:t,onChange:i,editable:r=!0}=n,s=Ns(n,Tse);return r?We.createElement(CM,Wo({value:e,onUpdate:t,onChange:i},s)):We.createElement(Ase,null,e)}function Mse(){const{label:n,settings:e,displayValue:t,onUpdate:i,onChange:r}=Dl();return We.createElement($u,{input:!0},We.createElement(Th,null,n),We.createElement(Rse,Wo({displayValue:t,onUpdate:i,onChange:r},e)))}var Ose=Vi({component:Mse},Cse);const Lse=n=>Nc().boolean().test(n),Pse=n=>{if(typeof n!="boolean")throw Error("Invalid boolean");return n};var Nse=Object.freeze({__proto__:null,schema:Lse,sanitize:Pse});const Ise=Di("div",{position:"relative",$flex:"",height:"$rowHeight",input:{$reset:"",height:0,width:0,opacity:0,margin:0},label:{position:"relative",$flexCenter:"",userSelect:"none",cursor:"pointer",height:"$checkboxSize",width:"$checkboxSize",backgroundColor:"$elevation3",borderRadius:"$sm",$hover:""},"input:focus + label":{$focusStyle:""},"input:focus:checked + label, input:checked + label:hover":{$hoverStyle:"$accent3"},"input + label:active":{backgroundColor:"$accent1"},"input:checked + label:active":{backgroundColor:"$accent1"},"label > svg":{display:"none",width:"90%",height:"90%",stroke:"$highlight3"},"input:checked + label":{backgroundColor:"$accent2"},"input:checked + label > svg":{display:"block"}});function Dse({value:n,onUpdate:e,id:t,disabled:i}){return We.createElement(Ise,null,We.createElement("input",{id:t,type:"checkbox",checked:n,onChange:r=>e(r.currentTarget.checked),disabled:i}),We.createElement("label",{htmlFor:t},We.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},We.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"}))))}function Fse(){const{label:n,value:e,onUpdate:t,disabled:i,id:r}=Dl();return We.createElement($u,{input:!0},We.createElement(Th,null,n),We.createElement(Dse,{value:e,onUpdate:t,id:r,disabled:i}))}var Bse=Vi({component:Fse},Nse);const Use=["locked"];function kse({value:n,id:e,valueKey:t,settings:i,onUpdate:r,innerLabelTrim:s}){const o=Q.useRef(n[t]);o.current=n[t];const l=Q.useCallback(u=>r({[t]:CB({type:"NUMBER",value:o.current,settings:i},u)}),[r,i,t]),a=HB({type:"NUMBER",value:n[t],settings:i,setValue:l});return We.createElement(XB,{id:e,label:t,value:n[t],displayValue:a.displayValue,onUpdate:a.onUpdate,onChange:a.onChange,settings:i,innerLabelTrim:s})}const zse=Di("div",{display:"grid",columnGap:"$colGap",gridAutoFlow:"column dense",alignItems:"center",variants:{withLock:{true:{gridTemplateColumns:"10px auto","> svg":{cursor:"pointer"}}}}});function $se(n){let{locked:e}=n,t=Ns(n,Use);return We.createElement("svg",Wo({width:"10",height:"10",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),e?We.createElement("path",{d:"M5 4.63601C5 3.76031 5.24219 3.1054 5.64323 2.67357C6.03934 2.24705 6.64582 1.9783 7.5014 1.9783C8.35745 1.9783 8.96306 2.24652 9.35823 2.67208C9.75838 3.10299 10 3.75708 10 4.63325V5.99999H5V4.63601ZM4 5.99999V4.63601C4 3.58148 4.29339 2.65754 4.91049 1.99307C5.53252 1.32329 6.42675 0.978302 7.5014 0.978302C8.57583 0.978302 9.46952 1.32233 10.091 1.99162C10.7076 2.65557 11 3.57896 11 4.63325V5.99999H12C12.5523 5.99999 13 6.44771 13 6.99999V13C13 13.5523 12.5523 14 12 14H3C2.44772 14 2 13.5523 2 13V6.99999C2 6.44771 2.44772 5.99999 3 5.99999H4ZM3 6.99999H12V13H3V6.99999Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"}):We.createElement("path",{d:"M9 3.63601C9 2.76044 9.24207 2.11211 9.64154 1.68623C10.0366 1.26502 10.6432 1 11.5014 1C12.4485 1 13.0839 1.30552 13.4722 1.80636C13.8031 2.23312 14 2.84313 14 3.63325H15C15 2.68242 14.7626 1.83856 14.2625 1.19361C13.6389 0.38943 12.6743 0 11.5014 0C10.4294 0 9.53523 0.337871 8.91218 1.0021C8.29351 1.66167 8 2.58135 8 3.63601V6H1C0.447715 6 0 6.44772 0 7V13C0 13.5523 0.447715 14 1 14H10C10.5523 14 11 13.5523 11 13V7C11 6.44772 10.5523 6 10 6H9V3.63601ZM1 7H10V13H1V7Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"}))}function RM({value:n,onUpdate:e,settings:t,innerLabelTrim:i}){const{id:r,setSettings:s}=Dl(),{lock:o,locked:l}=t;return We.createElement(zse,{withLock:o},o&&We.createElement($se,{locked:l,onClick:()=>s({locked:!l})}),Object.keys(n).map((a,u)=>We.createElement(kse,{id:u===0?r:`${r}.${a}`,key:a,valueKey:a,value:n,settings:t[a],onUpdate:e,innerLabelTrim:i})))}const qB=(n,e)=>{const t={};let i=0,r=1/0;Object.entries(n).forEach(([s,o])=>{t[s]=MB(Vi({value:o},e[s])).settings,i=Math.max(i,t[s].step),r=Math.min(r,t[s].pad)});for(let s in t){const{step:o,min:l,max:a}=e[s]||{};!isFinite(o)&&(!isFinite(l)||!isFinite(a))&&(t[s].step=i,t[s].pad=r)}return t},Hse=["lock"],Gse=["value"];function Vse(n){const e=Nc().array().length(n).every.number(),t=i=>{if(!i||typeof i!="object")return!1;const r=Object.values(i);return r.length===n&&r.every(s=>isFinite(s))};return i=>e.test(i)||t(i)}function Wse(n){return Array.isArray(n)?"array":"object"}function jy(n,e,t){return Wse(n)===e?n:e==="array"?Object.values(n):Ere(n,t)}const jse=(n,e,t)=>{const i=jy(n,"object",e.keys);for(let o in i)i[o]=RB(i[o],e[o]);const r=Object.keys(i);let s={};if(r.length===e.keys.length)s=i;else{const o=jy(t,"object",e.keys);if(r.length===1&&e.locked){const l=r[0],a=i[l],u=o[l],m=u!==0?a/u:1;for(let d in o)d===l?s[l]=a:s[d]=o[d]*m}else s=Vi(Vi({},o),i)}return jy(s,e.format,e.keys)},Xse=(n,e)=>jy(n,"object",e.keys),qse=n=>!!n&&("step"in n||"min"in n||"max"in n);function Yse(n,e,t=[]){const{lock:i=!1}=e,r=Ns(e,Hse),s=Array.isArray(n)?"array":"object",o=s==="object"?Object.keys(n):t,l=jy(n,"object",o),a=qse(r)?o.reduce((m,d)=>Object.assign(m,{[d]:r}),{}):r,u=qB(l,a);return{value:s==="array"?n:l,settings:Vi(Vi({},u),{},{format:s,keys:o,lock:i,locked:!1})}}function YB(n){return{schema:Vse(n.length),normalize:e=>{let{value:t}=e,i=Ns(e,Gse);return Yse(t,i,n)},format:(e,t)=>Xse(e,t),sanitize:(e,t,i)=>jse(e,t,i)}}var Kse={grad:.9,turn:360,rad:360/(2*Math.PI)},Yd=function(n){return typeof n=="string"?n.length>0:typeof n=="number"},qa=function(n,e,t){return e===void 0&&(e=0),t===void 0&&(t=Math.pow(10,e)),Math.round(t*n)/t+0},Uu=function(n,e,t){return e===void 0&&(e=0),t===void 0&&(t=1),n>t?t:n>e?n:e},KB=function(n){return(n=isFinite(n)?n%360:0)>0?n:n+360},UP=function(n){return{r:Uu(n.r,0,255),g:Uu(n.g,0,255),b:Uu(n.b,0,255),a:Uu(n.a)}},$C=function(n){return{r:qa(n.r),g:qa(n.g),b:qa(n.b),a:qa(n.a,3)}},Zse=/^#([0-9a-f]{3,8})$/i,Cx=function(n){var e=n.toString(16);return e.length<2?"0"+e:e},ZB=function(n){var e=n.r,t=n.g,i=n.b,r=n.a,s=Math.max(e,t,i),o=s-Math.min(e,t,i),l=o?s===e?(t-i)/o:s===t?2+(i-e)/o:4+(e-t)/o:0;return{h:60*(l<0?l+6:l),s:s?o/s*100:0,v:s/255*100,a:r}},QB=function(n){var e=n.h,t=n.s,i=n.v,r=n.a;e=e/360*6,t/=100,i/=100;var s=Math.floor(e),o=i*(1-t),l=i*(1-(e-s)*t),a=i*(1-(1-e+s)*t),u=s%6;return{r:255*[i,l,o,o,a,i][u],g:255*[a,i,i,l,o,o][u],b:255*[o,o,a,i,i,l][u],a:r}},kP=function(n){return{h:KB(n.h),s:Uu(n.s,0,100),l:Uu(n.l,0,100),a:Uu(n.a)}},zP=function(n){return{h:qa(n.h),s:qa(n.s),l:qa(n.l),a:qa(n.a,3)}},$P=function(n){return QB((t=(e=n).s,{h:e.h,s:(t*=((i=e.l)<50?i:100-i)/100)>0?2*t/(i+t)*100:0,v:i+t,a:e.a}));var e,t,i},Xy=function(n){return{h:(e=ZB(n)).h,s:(r=(200-(t=e.s))*(i=e.v)/100)>0&&r<200?t*i/100/(r<=100?r:200-r)*100:0,l:r/2,a:e.a};var e,t,i,r},Qse=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*,\s*([+-]?\d*\.?\d+)%\s*,\s*([+-]?\d*\.?\d+)%\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,Jse=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,eoe=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,toe=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,cR={string:[[function(n){var e=Zse.exec(n);return e?(n=e[1]).length<=4?{r:parseInt(n[0]+n[0],16),g:parseInt(n[1]+n[1],16),b:parseInt(n[2]+n[2],16),a:n.length===4?qa(parseInt(n[3]+n[3],16)/255,2):1}:n.length===6||n.length===8?{r:parseInt(n.substr(0,2),16),g:parseInt(n.substr(2,2),16),b:parseInt(n.substr(4,2),16),a:n.length===8?qa(parseInt(n.substr(6,2),16)/255,2):1}:null:null},"hex"],[function(n){var e=eoe.exec(n)||toe.exec(n);return e?e[2]!==e[4]||e[4]!==e[6]?null:UP({r:Number(e[1])/(e[2]?100/255:1),g:Number(e[3])/(e[4]?100/255:1),b:Number(e[5])/(e[6]?100/255:1),a:e[7]===void 0?1:Number(e[7])/(e[8]?100:1)}):null},"rgb"],[function(n){var e=Qse.exec(n)||Jse.exec(n);if(!e)return null;var t,i,r=kP({h:(t=e[1],i=e[2],i===void 0&&(i="deg"),Number(t)*(Kse[i]||1)),s:Number(e[3]),l:Number(e[4]),a:e[5]===void 0?1:Number(e[5])/(e[6]?100:1)});return $P(r)},"hsl"]],object:[[function(n){var e=n.r,t=n.g,i=n.b,r=n.a,s=r===void 0?1:r;return Yd(e)&&Yd(t)&&Yd(i)?UP({r:Number(e),g:Number(t),b:Number(i),a:Number(s)}):null},"rgb"],[function(n){var e=n.h,t=n.s,i=n.l,r=n.a,s=r===void 0?1:r;if(!Yd(e)||!Yd(t)||!Yd(i))return null;var o=kP({h:Number(e),s:Number(t),l:Number(i),a:Number(s)});return $P(o)},"hsl"],[function(n){var e=n.h,t=n.s,i=n.v,r=n.a,s=r===void 0?1:r;if(!Yd(e)||!Yd(t)||!Yd(i))return null;var o=(function(l){return{h:KB(l.h),s:Uu(l.s,0,100),v:Uu(l.v,0,100),a:Uu(l.a)}})({h:Number(e),s:Number(t),v:Number(i),a:Number(s)});return QB(o)},"hsv"]]},HP=function(n,e){for(var t=0;t<e.length;t++){var i=e[t][0](n);if(i)return[i,e[t][1]]}return[null,void 0]},JB=function(n){return typeof n=="string"?HP(n.trim(),cR.string):typeof n=="object"&&n!==null?HP(n,cR.object):[null,void 0]},noe=function(n){return JB(n)[1]},HC=function(n,e){var t=Xy(n);return{h:t.h,s:Uu(t.s+100*e,0,100),l:t.l,a:t.a}},GC=function(n){return(299*n.r+587*n.g+114*n.b)/1e3/255},GP=function(n,e){var t=Xy(n);return{h:t.h,s:t.s,l:Uu(t.l+100*e,0,100),a:t.a}},uR=(function(){function n(e){this.parsed=JB(e)[0],this.rgba=this.parsed||{r:0,g:0,b:0,a:1}}return n.prototype.isValid=function(){return this.parsed!==null},n.prototype.brightness=function(){return qa(GC(this.rgba),2)},n.prototype.isDark=function(){return GC(this.rgba)<.5},n.prototype.isLight=function(){return GC(this.rgba)>=.5},n.prototype.toHex=function(){return e=$C(this.rgba),t=e.r,i=e.g,r=e.b,o=(s=e.a)<1?Cx(qa(255*s)):"","#"+Cx(t)+Cx(i)+Cx(r)+o;var e,t,i,r,s,o},n.prototype.toRgb=function(){return $C(this.rgba)},n.prototype.toRgbString=function(){return e=$C(this.rgba),t=e.r,i=e.g,r=e.b,(s=e.a)<1?"rgba("+t+", "+i+", "+r+", "+s+")":"rgb("+t+", "+i+", "+r+")";var e,t,i,r,s},n.prototype.toHsl=function(){return zP(Xy(this.rgba))},n.prototype.toHslString=function(){return e=zP(Xy(this.rgba)),t=e.h,i=e.s,r=e.l,(s=e.a)<1?"hsla("+t+", "+i+"%, "+r+"%, "+s+")":"hsl("+t+", "+i+"%, "+r+"%)";var e,t,i,r,s},n.prototype.toHsv=function(){return e=ZB(this.rgba),{h:qa(e.h),s:qa(e.s),v:qa(e.v),a:qa(e.a,3)};var e},n.prototype.invert=function(){return sc({r:255-(e=this.rgba).r,g:255-e.g,b:255-e.b,a:e.a});var e},n.prototype.saturate=function(e){return e===void 0&&(e=.1),sc(HC(this.rgba,e))},n.prototype.desaturate=function(e){return e===void 0&&(e=.1),sc(HC(this.rgba,-e))},n.prototype.grayscale=function(){return sc(HC(this.rgba,-1))},n.prototype.lighten=function(e){return e===void 0&&(e=.1),sc(GP(this.rgba,e))},n.prototype.darken=function(e){return e===void 0&&(e=.1),sc(GP(this.rgba,-e))},n.prototype.rotate=function(e){return e===void 0&&(e=15),this.hue(this.hue()+e)},n.prototype.alpha=function(e){return typeof e=="number"?sc({r:(t=this.rgba).r,g:t.g,b:t.b,a:e}):qa(this.rgba.a,3);var t},n.prototype.hue=function(e){var t=Xy(this.rgba);return typeof e=="number"?sc({h:e,s:t.s,l:t.l,a:t.a}):qa(t.h)},n.prototype.isEqual=function(e){return this.toHex()===sc(e).toHex()},n})(),sc=function(n){return n instanceof uR?n:new uR(n)},VP=[],ioe=function(n){n.forEach(function(e){VP.indexOf(e)<0&&(e(uR,cR),VP.push(e))})};function roe(n,e){var t={white:"#ffffff",bisque:"#ffe4c4",blue:"#0000ff",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",antiquewhite:"#faebd7",aqua:"#00ffff",azure:"#f0ffff",whitesmoke:"#f5f5f5",papayawhip:"#ffefd5",plum:"#dda0dd",blanchedalmond:"#ffebcd",black:"#000000",gold:"#ffd700",goldenrod:"#daa520",gainsboro:"#dcdcdc",cornsilk:"#fff8dc",cornflowerblue:"#6495ed",burlywood:"#deb887",aquamarine:"#7fffd4",beige:"#f5f5dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkkhaki:"#bdb76b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",peachpuff:"#ffdab9",darkmagenta:"#8b008b",darkred:"#8b0000",darkorchid:"#9932cc",darkorange:"#ff8c00",darkslateblue:"#483d8b",gray:"#808080",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",deeppink:"#ff1493",deepskyblue:"#00bfff",wheat:"#f5deb3",firebrick:"#b22222",floralwhite:"#fffaf0",ghostwhite:"#f8f8ff",darkviolet:"#9400d3",magenta:"#ff00ff",green:"#008000",dodgerblue:"#1e90ff",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",blueviolet:"#8a2be2",forestgreen:"#228b22",lawngreen:"#7cfc00",indianred:"#cd5c5c",indigo:"#4b0082",fuchsia:"#ff00ff",brown:"#a52a2a",maroon:"#800000",mediumblue:"#0000cd",lightcoral:"#f08080",darkturquoise:"#00ced1",lightcyan:"#e0ffff",ivory:"#fffff0",lightyellow:"#ffffe0",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",linen:"#faf0e6",mediumaquamarine:"#66cdaa",lemonchiffon:"#fffacd",lime:"#00ff00",khaki:"#f0e68c",mediumseagreen:"#3cb371",limegreen:"#32cd32",mediumspringgreen:"#00fa9a",lightskyblue:"#87cefa",lightblue:"#add8e6",midnightblue:"#191970",lightpink:"#ffb6c1",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",mintcream:"#f5fffa",lightslategray:"#778899",lightslategrey:"#778899",navajowhite:"#ffdead",navy:"#000080",mediumvioletred:"#c71585",powderblue:"#b0e0e6",palegoldenrod:"#eee8aa",oldlace:"#fdf5e6",paleturquoise:"#afeeee",mediumturquoise:"#48d1cc",mediumorchid:"#ba55d3",rebeccapurple:"#663399",lightsteelblue:"#b0c4de",mediumslateblue:"#7b68ee",thistle:"#d8bfd8",tan:"#d2b48c",orchid:"#da70d6",mediumpurple:"#9370db",purple:"#800080",pink:"#ffc0cb",skyblue:"#87ceeb",springgreen:"#00ff7f",palegreen:"#98fb98",red:"#ff0000",yellow:"#ffff00",slateblue:"#6a5acd",lavenderblush:"#fff0f5",peru:"#cd853f",palevioletred:"#db7093",violet:"#ee82ee",teal:"#008080",slategray:"#708090",slategrey:"#708090",aliceblue:"#f0f8ff",darkseagreen:"#8fbc8f",darkolivegreen:"#556b2f",greenyellow:"#adff2f",seagreen:"#2e8b57",seashell:"#fff5ee",tomato:"#ff6347",silver:"#c0c0c0",sienna:"#a0522d",lavender:"#e6e6fa",lightgreen:"#90ee90",orange:"#ffa500",orangered:"#ff4500",steelblue:"#4682b4",royalblue:"#4169e1",turquoise:"#40e0d0",yellowgreen:"#9acd32",salmon:"#fa8072",saddlebrown:"#8b4513",sandybrown:"#f4a460",rosybrown:"#bc8f8f",darksalmon:"#e9967a",lightgoldenrodyellow:"#fafad2",snow:"#fffafa",lightgrey:"#d3d3d3",lightgray:"#d3d3d3",dimgray:"#696969",dimgrey:"#696969",olivedrab:"#6b8e23",olive:"#808000"},i={};for(var r in t)i[t[r]]=r;var s={};n.prototype.toName=function(o){if(!(this.rgba.a||this.rgba.r||this.rgba.g||this.rgba.b))return"transparent";var l,a,u=i[this.toHex()];if(u)return u;if(o?.closest){var m=this.toRgb(),d=1/0,b="black";if(!s.length)for(var g in t)s[g]=new n(t[g]).toRgb();for(var _ in t){var p=(l=m,a=s[_],Math.pow(l.r-a.r,2)+Math.pow(l.g-a.g,2)+Math.pow(l.b-a.b,2));p<d&&(d=p,b=_)}return b}},e.string.push([function(o){var l=o.toLowerCase(),a=l==="transparent"?"#0000":t[l];return a?new n(a).toRgb():null},"name"])}function R0(){return(R0=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n}).apply(this,arguments)}function MM(n,e){if(n==null)return{};var t,i,r={},s=Object.keys(n);for(i=0;i<s.length;i++)e.indexOf(t=s[i])>=0||(r[t]=n[t]);return r}function hR(n){var e=Q.useRef(n),t=Q.useRef(function(i){e.current&&e.current(i)});return e.current=n,t.current}var c0=function(n,e,t){return e===void 0&&(e=0),t===void 0&&(t=1),n>t?t:n<e?e:n},qy=function(n){return"touches"in n},dR=function(n){return n&&n.ownerDocument.defaultView||self},WP=function(n,e,t){var i=n.getBoundingClientRect(),r=qy(e)?(function(s,o){for(var l=0;l<s.length;l++)if(s[l].identifier===o)return s[l];return s[0]})(e.touches,t):e;return{left:c0((r.pageX-(i.left+dR(n).pageXOffset))/i.width),top:c0((r.pageY-(i.top+dR(n).pageYOffset))/i.height)}},jP=function(n){!qy(n)&&n.preventDefault()},OM=We.memo(function(n){var e=n.onMove,t=n.onKey,i=MM(n,["onMove","onKey"]),r=Q.useRef(null),s=hR(e),o=hR(t),l=Q.useRef(null),a=Q.useRef(!1),u=Q.useMemo(function(){var g=function(v){jP(v),(qy(v)?v.touches.length>0:v.buttons>0)&&r.current?s(WP(r.current,v,l.current)):p(!1)},_=function(){return p(!1)};function p(v){var c=a.current,x=dR(r.current),w=v?x.addEventListener:x.removeEventListener;w(c?"touchmove":"mousemove",g),w(c?"touchend":"mouseup",_)}return[function(v){var c=v.nativeEvent,x=r.current;if(x&&(jP(c),!(function(T,L){return L&&!qy(T)})(c,a.current)&&x)){if(qy(c)){a.current=!0;var w=c.changedTouches||[];w.length&&(l.current=w[0].identifier)}x.focus(),s(WP(x,c,l.current)),p(!0)}},function(v){var c=v.which||v.keyCode;c<37||c>40||(v.preventDefault(),o({left:c===39?.05:c===37?-.05:0,top:c===40?.05:c===38?-.05:0}))},p]},[o,s]),m=u[0],d=u[1],b=u[2];return Q.useEffect(function(){return b},[b]),We.createElement("div",R0({},i,{onTouchStart:m,onMouseDown:m,className:"react-colorful__interactive",ref:r,onKeyDown:d,tabIndex:0,role:"slider"}))}),Y_=function(n){return n.filter(Boolean).join(" ")},LM=function(n){var e=n.color,t=n.left,i=n.top,r=i===void 0?.5:i,s=Y_(["react-colorful__pointer",n.className]);return We.createElement("div",{className:s,style:{top:100*r+"%",left:100*t+"%"}},We.createElement("div",{className:"react-colorful__pointer-fill",style:{backgroundColor:e}}))},cc=function(n,e,t){return e===void 0&&(e=0),t===void 0&&(t=Math.pow(10,e)),Math.round(t*n)/t},eU=function(n){var e=n.s,t=n.v,i=n.a,r=(200-e)*t/100;return{h:cc(n.h),s:cc(r>0&&r<200?e*t/100/(r<=100?r:200-r)*100:0),l:cc(r/2),a:cc(i,2)}},fR=function(n){var e=eU(n);return"hsl("+e.h+", "+e.s+"%, "+e.l+"%)"},VC=function(n){var e=eU(n);return"hsla("+e.h+", "+e.s+"%, "+e.l+"%, "+e.a+")"},tU=function(n){var e=n.h,t=n.s,i=n.v,r=n.a;e=e/360*6,t/=100,i/=100;var s=Math.floor(e),o=i*(1-t),l=i*(1-(e-s)*t),a=i*(1-(1-e+s)*t),u=s%6;return{r:cc(255*[i,l,o,o,a,i][u]),g:cc(255*[a,i,i,l,o,o][u]),b:cc(255*[o,o,a,i,i,l][u]),a:cc(r,2)}},nU=function(n){var e=n.r,t=n.g,i=n.b,r=n.a,s=Math.max(e,t,i),o=s-Math.min(e,t,i),l=o?s===e?(t-i)/o:s===t?2+(i-e)/o:4+(e-t)/o:0;return{h:cc(60*(l<0?l+6:l)),s:cc(s?o/s*100:0),v:cc(s/255*100),a:r}},iU=We.memo(function(n){var e=n.hue,t=n.onChange,i=Y_(["react-colorful__hue",n.className]);return We.createElement("div",{className:i},We.createElement(OM,{onMove:function(r){t({h:360*r.left})},onKey:function(r){t({h:c0(e+360*r.left,0,360)})},"aria-label":"Hue","aria-valuenow":cc(e),"aria-valuemax":"360","aria-valuemin":"0"},We.createElement(LM,{className:"react-colorful__hue-pointer",left:e/360,color:fR({h:e,s:100,v:100,a:1})})))}),rU=We.memo(function(n){var e=n.hsva,t=n.onChange,i={backgroundColor:fR({h:e.h,s:100,v:100,a:1})};return We.createElement("div",{className:"react-colorful__saturation",style:i},We.createElement(OM,{onMove:function(r){t({s:100*r.left,v:100-100*r.top})},onKey:function(r){t({s:c0(e.s+100*r.left,0,100),v:c0(e.v-100*r.top,0,100)})},"aria-label":"Color","aria-valuetext":"Saturation "+cc(e.s)+"%, Brightness "+cc(e.v)+"%"},We.createElement(LM,{className:"react-colorful__saturation-pointer",top:1-e.v/100,left:e.s/100,color:fR(e)})))}),PM=function(n,e){if(n===e)return!0;for(var t in n)if(n[t]!==e[t])return!1;return!0};function sU(n,e,t){var i=hR(t),r=Q.useState(function(){return n.toHsva(e)}),s=r[0],o=r[1],l=Q.useRef({color:e,hsva:s});Q.useEffect(function(){if(!n.equal(e,l.current.color)){var u=n.toHsva(e);l.current={hsva:u,color:e},o(u)}},[e,n]),Q.useEffect(function(){var u;PM(s,l.current.hsva)||n.equal(u=n.fromHsva(s),l.current.color)||(l.current={hsva:s,color:u},i(u))},[s,n,i]);var a=Q.useCallback(function(u){o(function(m){return Object.assign({},m,u)})},[]);return[s,a]}var soe=typeof window<"u"?Q.useLayoutEffect:Q.useEffect,ooe=function(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:void 0},XP=new Map,oU=function(n){soe(function(){var e=n.current?n.current.ownerDocument:document;if(e!==void 0&&!XP.has(e)){var t=e.createElement("style");t.innerHTML=`.react-colorful{position:relative;display:flex;flex-direction:column;width:200px;height:200px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.react-colorful__saturation{position:relative;flex-grow:1;border-color:transparent;border-bottom:12px solid #000;border-radius:8px 8px 0 0;background-image:linear-gradient(0deg,#000,transparent),linear-gradient(90deg,#fff,hsla(0,0%,100%,0))}.react-colorful__alpha-gradient,.react-colorful__pointer-fill{content:"";position:absolute;left:0;top:0;right:0;bottom:0;pointer-events:none;border-radius:inherit}.react-colorful__alpha-gradient,.react-colorful__saturation{box-shadow:inset 0 0 0 1px rgba(0,0,0,.05)}.react-colorful__alpha,.react-colorful__hue{position:relative;height:24px}.react-colorful__hue{background:linear-gradient(90deg,red 0,#ff0 17%,#0f0 33%,#0ff 50%,#00f 67%,#f0f 83%,red)}.react-colorful__last-control{border-radius:0 0 8px 8px}.react-colorful__interactive{position:absolute;left:0;top:0;right:0;bottom:0;border-radius:inherit;outline:none;touch-action:none}.react-colorful__pointer{position:absolute;z-index:1;box-sizing:border-box;width:28px;height:28px;transform:translate(-50%,-50%);background-color:#fff;border:2px solid #fff;border-radius:50%;box-shadow:0 2px 4px rgba(0,0,0,.2)}.react-colorful__interactive:focus .react-colorful__pointer{transform:translate(-50%,-50%) scale(1.1)}.react-colorful__alpha,.react-colorful__alpha-pointer{background-color:#fff;background-image:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill-opacity=".05"><path d="M8 0h8v8H8zM0 8h8v8H0z"/></svg>')}.react-colorful__saturation-pointer{z-index:3}.react-colorful__hue-pointer{z-index:2}`,XP.set(e,t);var i=ooe();i&&t.setAttribute("nonce",i),e.head.appendChild(t)}},[])},aoe=function(n){var e=n.className,t=n.colorModel,i=n.color,r=i===void 0?t.defaultColor:i,s=n.onChange,o=MM(n,["className","colorModel","color","onChange"]),l=Q.useRef(null);oU(l);var a=sU(t,r,s),u=a[0],m=a[1],d=Y_(["react-colorful",e]);return We.createElement("div",R0({},o,{ref:l,className:d}),We.createElement(rU,{hsva:u,onChange:m}),We.createElement(iU,{hue:u.h,onChange:m,className:"react-colorful__last-control"}))},loe=function(n){var e=n.className,t=n.hsva,i=n.onChange,r={backgroundImage:"linear-gradient(90deg, "+VC(Object.assign({},t,{a:0}))+", "+VC(Object.assign({},t,{a:1}))+")"},s=Y_(["react-colorful__alpha",e]),o=cc(100*t.a);return We.createElement("div",{className:s},We.createElement("div",{className:"react-colorful__alpha-gradient",style:r}),We.createElement(OM,{onMove:function(l){i({a:l.left})},onKey:function(l){i({a:c0(t.a+l.left)})},"aria-label":"Alpha","aria-valuetext":o+"%","aria-valuenow":o,"aria-valuemin":"0","aria-valuemax":"100"},We.createElement(LM,{className:"react-colorful__alpha-pointer",left:t.a,color:VC(t)})))},coe=function(n){var e=n.className,t=n.colorModel,i=n.color,r=i===void 0?t.defaultColor:i,s=n.onChange,o=MM(n,["className","colorModel","color","onChange"]),l=Q.useRef(null);oU(l);var a=sU(t,r,s),u=a[0],m=a[1],d=Y_(["react-colorful",e]);return We.createElement("div",R0({},o,{ref:l,className:d}),We.createElement(rU,{hsva:u,onChange:m}),We.createElement(iU,{hue:u.h,onChange:m}),We.createElement(loe,{hsva:u,onChange:m,className:"react-colorful__last-control"}))},uoe={defaultColor:{r:0,g:0,b:0,a:1},toHsva:nU,fromHsva:tU,equal:PM},hoe=function(n){return We.createElement(coe,R0({},n,{colorModel:uoe}))},doe={defaultColor:{r:0,g:0,b:0},toHsva:function(n){return nU({r:n.r,g:n.g,b:n.b,a:1})},fromHsva:function(n){return{r:(e=tU(n)).r,g:e.g,b:e.b};var e},equal:PM},foe=function(n){return We.createElement(aoe,R0({},n,{colorModel:doe}))};function M0(n,e,t,i){function r(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function l(m){try{u(i.next(m))}catch(d){o(d)}}function a(m){try{u(i.throw(m))}catch(d){o(d)}}function u(m){m.done?s(m.value):r(m.value).then(l,a)}u((i=i.apply(n,e||[])).next())})}function O0(n,e){var t={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},i,r,s,o=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return o.next=l(0),o.throw=l(1),o.return=l(2),typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function l(u){return function(m){return a([u,m])}}function a(u){if(i)throw new TypeError("Generator is already executing.");for(;o&&(o=0,u[0]&&(t=0)),t;)try{if(i=1,r&&(s=u[0]&2?r.return:u[0]?r.throw||((s=r.return)&&s.call(r),0):r.next)&&!(s=s.call(r,u[1])).done)return s;switch(r=0,s&&(u=[u[0]&2,s.value]),u[0]){case 0:case 1:s=u;break;case 4:return t.label++,{value:u[1],done:!1};case 5:t.label++,r=u[1],u=[0];continue;case 7:u=t.ops.pop(),t.trys.pop();continue;default:if(s=t.trys,!(s=s.length>0&&s[s.length-1])&&(u[0]===6||u[0]===2)){t=0;continue}if(u[0]===3&&(!s||u[1]>s[0]&&u[1]<s[3])){t.label=u[1];break}if(u[0]===6&&t.label<s[1]){t.label=s[1],s=u;break}if(s&&t.label<s[2]){t.label=s[2],t.ops.push(u);break}s[2]&&t.ops.pop(),t.trys.pop();continue}u=e.call(n,t)}catch(m){u=[6,m],r=0}finally{i=s=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function poe(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var i=t.call(n),r,s=[],o;try{for(;(e===void 0||e-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(l){o={error:l}}finally{try{r&&!r.done&&(t=i.return)&&t.call(i)}finally{if(o)throw o.error}}return s}function moe(){for(var n=[],e=0;e<arguments.length;e++)n=n.concat(poe(arguments[e]));return n}var goe=new Map([["aac","audio/aac"],["abw","application/x-abiword"],["arc","application/x-freearc"],["avif","image/avif"],["avi","video/x-msvideo"],["azw","application/vnd.amazon.ebook"],["bin","application/octet-stream"],["bmp","image/bmp"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["cda","application/x-cdf"],["csh","application/x-csh"],["css","text/css"],["csv","text/csv"],["doc","application/msword"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["eot","application/vnd.ms-fontobject"],["epub","application/epub+zip"],["gz","application/gzip"],["gif","image/gif"],["heic","image/heic"],["heif","image/heif"],["htm","text/html"],["html","text/html"],["ico","image/vnd.microsoft.icon"],["ics","text/calendar"],["jar","application/java-archive"],["jpeg","image/jpeg"],["jpg","image/jpeg"],["js","text/javascript"],["json","application/json"],["jsonld","application/ld+json"],["mid","audio/midi"],["midi","audio/midi"],["mjs","text/javascript"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mpeg","video/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["opus","audio/opus"],["otf","font/otf"],["png","image/png"],["pdf","application/pdf"],["php","application/x-httpd-php"],["ppt","application/vnd.ms-powerpoint"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["rar","application/vnd.rar"],["rtf","application/rtf"],["sh","application/x-sh"],["svg","image/svg+xml"],["swf","application/x-shockwave-flash"],["tar","application/x-tar"],["tif","image/tiff"],["tiff","image/tiff"],["ts","video/mp2t"],["ttf","font/ttf"],["txt","text/plain"],["vsd","application/vnd.visio"],["wav","audio/wav"],["weba","audio/webm"],["webm","video/webm"],["webp","image/webp"],["woff","font/woff"],["woff2","font/woff2"],["xhtml","application/xhtml+xml"],["xls","application/vnd.ms-excel"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xml","application/xml"],["xul","application/vnd.mozilla.xul+xml"],["zip","application/zip"],["7z","application/x-7z-compressed"],["mkv","video/x-matroska"],["mov","video/quicktime"],["msg","application/vnd.ms-outlook"]]);function K_(n,e){var t=voe(n);if(typeof t.path!="string"){var i=n.webkitRelativePath;Object.defineProperty(t,"path",{value:typeof e=="string"?e:typeof i=="string"&&i.length>0?i:n.name,writable:!1,configurable:!1,enumerable:!0})}return t}function voe(n){var e=n.name,t=e&&e.lastIndexOf(".")!==-1;if(t&&!n.type){var i=e.split(".").pop().toLowerCase(),r=goe.get(i);r&&Object.defineProperty(n,"type",{value:r,writable:!1,configurable:!1,enumerable:!0})}return n}var yoe=[".DS_Store","Thumbs.db"];function _oe(n){return M0(this,void 0,void 0,function(){return O0(this,function(e){return pS(n)&&boe(n)?[2,woe(n.dataTransfer,n.type)]:xoe(n)?[2,Soe(n)]:Array.isArray(n)&&n.every(function(t){return"getFile"in t&&typeof t.getFile=="function"})?[2,Eoe(n)]:[2,[]]})})}function boe(n){return pS(n.dataTransfer)}function xoe(n){return pS(n)&&pS(n.target)}function pS(n){return typeof n=="object"&&n!==null}function Soe(n){return pR(n.target.files).map(function(e){return K_(e)})}function Eoe(n){return M0(this,void 0,void 0,function(){var e;return O0(this,function(t){switch(t.label){case 0:return[4,Promise.all(n.map(function(i){return i.getFile()}))];case 1:return e=t.sent(),[2,e.map(function(i){return K_(i)})]}})})}function woe(n,e){return M0(this,void 0,void 0,function(){var t,i;return O0(this,function(r){switch(r.label){case 0:return n===null?[2,[]]:n.items?(t=pR(n.items).filter(function(s){return s.kind==="file"}),e!=="drop"?[2,t]:[4,Promise.all(t.map(Coe))]):[3,2];case 1:return i=r.sent(),[2,qP(aU(i))];case 2:return[2,qP(pR(n.files).map(function(s){return K_(s)}))]}})})}function qP(n){return n.filter(function(e){return yoe.indexOf(e.name)===-1})}function pR(n){if(n===null)return[];for(var e=[],t=0;t<n.length;t++){var i=n[t];e.push(i)}return e}function Coe(n){if(typeof n.webkitGetAsEntry!="function")return YP(n);var e=n.webkitGetAsEntry();return e&&e.isDirectory?lU(e):YP(n)}function aU(n){return n.reduce(function(e,t){return moe(e,Array.isArray(t)?aU(t):[t])},[])}function YP(n){var e=n.getAsFile();if(!e)return Promise.reject(n+" is not a File");var t=K_(e);return Promise.resolve(t)}function Toe(n){return M0(this,void 0,void 0,function(){return O0(this,function(e){return[2,n.isDirectory?lU(n):Aoe(n)]})})}function lU(n){var e=n.createReader();return new Promise(function(t,i){var r=[];function s(){var o=this;e.readEntries(function(l){return M0(o,void 0,void 0,function(){var a,u,m;return O0(this,function(d){switch(d.label){case 0:if(l.length)return[3,5];d.label=1;case 1:return d.trys.push([1,3,,4]),[4,Promise.all(r)];case 2:return a=d.sent(),t(a),[3,4];case 3:return u=d.sent(),i(u),[3,4];case 4:return[3,6];case 5:m=Promise.all(l.map(Toe)),r.push(m),s(),d.label=6;case 6:return[2]}})})},function(l){i(l)})}s()})}function Aoe(n){return M0(this,void 0,void 0,function(){return O0(this,function(e){return[2,new Promise(function(t,i){n.file(function(r){var s=K_(r,n.fullPath);t(s)},function(r){i(r)})})]})})}var Tx={},KP;function Roe(){return KP||(KP=1,Tx.__esModule=!0,Tx.default=function(n,e){if(n&&e){var t=Array.isArray(e)?e:e.split(",");if(t.length===0)return!0;var i=n.name||"",r=(n.type||"").toLowerCase(),s=r.replace(/\/.*$/,"");return t.some(function(o){var l=o.trim().toLowerCase();return l.charAt(0)==="."?i.toLowerCase().endsWith(l):l.endsWith("/*")?s===l.replace(/\/.*$/,""):r===l})}return!0}),Tx}var Moe=Roe();const Ooe=zu(Moe);function ZP(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function QP(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?ZP(Object(t),!0).forEach(function(i){cU(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):ZP(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function cU(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function JP(n,e){return Ioe(n)||Noe(n,e)||Poe(n,e)||Loe()}function Loe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Poe(n,e){if(n){if(typeof n=="string")return eN(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return eN(n,e)}}function eN(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,i=new Array(e);t<e;t++)i[t]=n[t];return i}function Noe(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var i=[],r=!0,s=!1,o,l;try{for(t=t.call(n);!(r=(o=t.next()).done)&&(i.push(o.value),!(e&&i.length===e));r=!0);}catch(a){s=!0,l=a}finally{try{!r&&t.return!=null&&t.return()}finally{if(s)throw l}}return i}}function Ioe(n){if(Array.isArray(n))return n}var Doe="file-invalid-type",Foe="file-too-large",Boe="file-too-small",Uoe="too-many-files",koe=function(e){e=Array.isArray(e)&&e.length===1?e[0]:e;var t=Array.isArray(e)?"one of ".concat(e.join(", ")):e;return{code:Doe,message:"File type must be ".concat(t)}},tN=function(e){return{code:Foe,message:"File is larger than ".concat(e," ").concat(e===1?"byte":"bytes")}},nN=function(e){return{code:Boe,message:"File is smaller than ".concat(e," ").concat(e===1?"byte":"bytes")}},zoe={code:Uoe,message:"Too many files"};function uU(n,e){var t=n.type==="application/x-moz-file"||Ooe(n,e);return[t,t?null:koe(e)]}function hU(n,e,t){if(_y(n.size))if(_y(e)&&_y(t)){if(n.size>t)return[!1,tN(t)];if(n.size<e)return[!1,nN(e)]}else{if(_y(e)&&n.size<e)return[!1,nN(e)];if(_y(t)&&n.size>t)return[!1,tN(t)]}return[!0,null]}function _y(n){return n!=null}function $oe(n){var e=n.files,t=n.accept,i=n.minSize,r=n.maxSize,s=n.multiple,o=n.maxFiles;return!s&&e.length>1||s&&o>=1&&e.length>o?!1:e.every(function(l){var a=uU(l,t),u=JP(a,1),m=u[0],d=hU(l,i,r),b=JP(d,1),g=b[0];return m&&g})}function mS(n){return typeof n.isPropagationStopped=="function"?n.isPropagationStopped():typeof n.cancelBubble<"u"?n.cancelBubble:!1}function Ax(n){return n.dataTransfer?Array.prototype.some.call(n.dataTransfer.types,function(e){return e==="Files"||e==="application/x-moz-file"}):!!n.target&&!!n.target.files}function iN(n){n.preventDefault()}function Hoe(n){return n.indexOf("MSIE")!==-1||n.indexOf("Trident/")!==-1}function Goe(n){return n.indexOf("Edge/")!==-1}function Voe(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return Hoe(n)||Goe(n)}function Zh(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return function(i){for(var r=arguments.length,s=new Array(r>1?r-1:0),o=1;o<r;o++)s[o-1]=arguments[o];return e.some(function(l){return!mS(i)&&l&&l.apply(void 0,[i].concat(s)),mS(i)})}}function Woe(){return"showOpenFilePicker"in window}function joe(n){return n=typeof n=="string"?n.split(","):n,[{description:"everything",accept:Array.isArray(n)?n.filter(function(e){return e==="audio/*"||e==="video/*"||e==="image/*"||e==="text/*"||/\w+\/[-+.\w]+/g.test(e)}).reduce(function(e,t){return QP(QP({},e),{},cU({},t,[]))},{}):{}}]}function Xoe(n){return n instanceof DOMException&&(n.name==="AbortError"||n.code===n.ABORT_ERR)}function qoe(n){return n instanceof DOMException&&(n.name==="SecurityError"||n.code===n.SECURITY_ERR)}var Yoe=["children"],Koe=["open"],Zoe=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],Qoe=["refKey","onChange","onClick"];function Joe(n){return nae(n)||tae(n)||dU(n)||eae()}function eae(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tae(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function nae(n){if(Array.isArray(n))return mR(n)}function WC(n,e){return sae(n)||rae(n,e)||dU(n,e)||iae()}function iae(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dU(n,e){if(n){if(typeof n=="string")return mR(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return mR(n,e)}}function mR(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,i=new Array(e);t<e;t++)i[t]=n[t];return i}function rae(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var i=[],r=!0,s=!1,o,l;try{for(t=t.call(n);!(r=(o=t.next()).done)&&(i.push(o.value),!(e&&i.length===e));r=!0);}catch(a){s=!0,l=a}finally{try{!r&&t.return!=null&&t.return()}finally{if(s)throw l}}return i}}function sae(n){if(Array.isArray(n))return n}function rN(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function To(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?rN(Object(t),!0).forEach(function(i){gR(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):rN(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function gR(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function gS(n,e){if(n==null)return{};var t=oae(n,e),i,r;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(r=0;r<s.length;r++)i=s[r],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(n,i)&&(t[i]=n[i])}return t}function oae(n,e){if(n==null)return{};var t={},i=Object.keys(n),r,s;for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&(t[r]=n[r]);return t}var NM=Q.forwardRef(function(n,e){var t=n.children,i=gS(n,Yoe),r=pU(i),s=r.open,o=gS(r,Koe);return Q.useImperativeHandle(e,function(){return{open:s}},[s]),We.createElement(Q.Fragment,null,t(To(To({},o),{},{open:s})))});NM.displayName="Dropzone";var fU={disabled:!1,getFilesFromEvent:_oe,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!0};NM.defaultProps=fU;NM.propTypes={children:ei.func,accept:ei.oneOfType([ei.string,ei.arrayOf(ei.string)]),multiple:ei.bool,preventDropOnDocument:ei.bool,noClick:ei.bool,noKeyboard:ei.bool,noDrag:ei.bool,noDragEventsBubbling:ei.bool,minSize:ei.number,maxSize:ei.number,maxFiles:ei.number,disabled:ei.bool,getFilesFromEvent:ei.func,onFileDialogCancel:ei.func,onFileDialogOpen:ei.func,useFsAccessApi:ei.bool,onDragEnter:ei.func,onDragLeave:ei.func,onDragOver:ei.func,onDrop:ei.func,onDropAccepted:ei.func,onDropRejected:ei.func,validator:ei.func};var vR={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,draggedFiles:[],acceptedFiles:[],fileRejections:[]};function pU(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=To(To({},fU),n),t=e.accept,i=e.disabled,r=e.getFilesFromEvent,s=e.maxSize,o=e.minSize,l=e.multiple,a=e.maxFiles,u=e.onDragEnter,m=e.onDragLeave,d=e.onDragOver,b=e.onDrop,g=e.onDropAccepted,_=e.onDropRejected,p=e.onFileDialogCancel,v=e.onFileDialogOpen,c=e.useFsAccessApi,x=e.preventDropOnDocument,w=e.noClick,T=e.noKeyboard,L=e.noDrag,P=e.noDragEventsBubbling,C=e.validator,I=Q.useMemo(function(){return typeof v=="function"?v:sN},[v]),F=Q.useMemo(function(){return typeof p=="function"?p:sN},[p]),R=Q.useRef(null),D=Q.useRef(null),G=Q.useReducer(aae,vR),j=WC(G,2),k=j[0],V=j[1],H=k.isFocused,te=k.isFileDialogActive,ne=k.draggedFiles,he=Q.useRef(typeof window<"u"&&window.isSecureContext&&c&&Woe()),ie=function(){!he.current&&te&&setTimeout(function(){if(D.current){var ue=D.current.files;ue.length||(V({type:"closeDialog"}),F())}},300)};Q.useEffect(function(){return window.addEventListener("focus",ie,!1),function(){window.removeEventListener("focus",ie,!1)}},[D,te,F,he]);var ce=Q.useRef([]),Se=function(ue){R.current&&R.current.contains(ue.target)||(ue.preventDefault(),ce.current=[])};Q.useEffect(function(){return x&&(document.addEventListener("dragover",iN,!1),document.addEventListener("drop",Se,!1)),function(){x&&(document.removeEventListener("dragover",iN),document.removeEventListener("drop",Se))}},[R,x]);var Ee=Q.useCallback(function(_e){_e.preventDefault(),_e.persist(),Tt(_e),ce.current=[].concat(Joe(ce.current),[_e.target]),Ax(_e)&&Promise.resolve(r(_e)).then(function(ue){mS(_e)&&!P||(V({draggedFiles:ue,isDragActive:!0,type:"setDraggedFiles"}),u&&u(_e))})},[r,u,P]),me=Q.useCallback(function(_e){_e.preventDefault(),_e.persist(),Tt(_e);var ue=Ax(_e);if(ue&&_e.dataTransfer)try{_e.dataTransfer.dropEffect="copy"}catch{}return ue&&d&&d(_e),!1},[d,P]),le=Q.useCallback(function(_e){_e.preventDefault(),_e.persist(),Tt(_e);var ue=ce.current.filter(function(rt){return R.current&&R.current.contains(rt)}),ze=ue.indexOf(_e.target);ze!==-1&&ue.splice(ze,1),ce.current=ue,!(ue.length>0)&&(V({isDragActive:!1,type:"setDraggedFiles",draggedFiles:[]}),Ax(_e)&&m&&m(_e))},[R,m,P]),we=Q.useCallback(function(_e,ue){var ze=[],rt=[];_e.forEach(function(pt){var ht=uU(pt,t),Yt=WC(ht,2),Qt=Yt[0],Cn=Yt[1],An=hU(pt,o,s),Pt=WC(An,2),on=Pt[0],Pn=Pt[1],Ge=C?C(pt):null;if(Qt&&on&&!Ge)ze.push(pt);else{var lt=[Cn,Pn];Ge&&(lt=lt.concat(Ge)),rt.push({file:pt,errors:lt.filter(function(Xt){return Xt})})}}),(!l&&ze.length>1||l&&a>=1&&ze.length>a)&&(ze.forEach(function(pt){rt.push({file:pt,errors:[zoe]})}),ze.splice(0)),V({acceptedFiles:ze,fileRejections:rt,type:"setFiles"}),b&&b(ze,rt,ue),rt.length>0&&_&&_(rt,ue),ze.length>0&&g&&g(ze,ue)},[V,l,t,o,s,a,b,g,_,C]),Re=Q.useCallback(function(_e){_e.preventDefault(),_e.persist(),Tt(_e),ce.current=[],Ax(_e)&&Promise.resolve(r(_e)).then(function(ue){mS(_e)&&!P||we(ue,_e)}),V({type:"reset"})},[r,we,P]),Fe=Q.useCallback(function(){if(he.current){V({type:"openDialog"}),I();var _e={multiple:l,types:joe(t)};window.showOpenFilePicker(_e).then(function(ue){return r(ue)}).then(function(ue){we(ue,null),V({type:"closeDialog"})}).catch(function(ue){Xoe(ue)?(F(ue),V({type:"closeDialog"})):qoe(ue)&&(he.current=!1,D.current&&(D.current.value=null,D.current.click()))});return}D.current&&(V({type:"openDialog"}),I(),D.current.value=null,D.current.click())},[V,I,F,c,we,t,l]),qe=Q.useCallback(function(_e){!R.current||!R.current.isEqualNode(_e.target)||(_e.key===" "||_e.key==="Enter"||_e.keyCode===32||_e.keyCode===13)&&(_e.preventDefault(),Fe())},[R,Fe]),ot=Q.useCallback(function(){V({type:"focus"})},[]),dn=Q.useCallback(function(){V({type:"blur"})},[]),mn=Q.useCallback(function(){w||(Voe()?setTimeout(Fe,0):Fe())},[w,Fe]),pn=function(ue){return i?null:ue},Ae=function(ue){return T?null:pn(ue)},Bt=function(ue){return L?null:pn(ue)},Tt=function(ue){P&&ue.stopPropagation()},zt=Q.useMemo(function(){return function(){var _e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},ue=_e.refKey,ze=ue===void 0?"ref":ue,rt=_e.role,pt=_e.onKeyDown,ht=_e.onFocus,Yt=_e.onBlur,Qt=_e.onClick,Cn=_e.onDragEnter,An=_e.onDragOver,Pt=_e.onDragLeave,on=_e.onDrop,Pn=gS(_e,Zoe);return To(To(gR({onKeyDown:Ae(Zh(pt,qe)),onFocus:Ae(Zh(ht,ot)),onBlur:Ae(Zh(Yt,dn)),onClick:pn(Zh(Qt,mn)),onDragEnter:Bt(Zh(Cn,Ee)),onDragOver:Bt(Zh(An,me)),onDragLeave:Bt(Zh(Pt,le)),onDrop:Bt(Zh(on,Re)),role:typeof rt=="string"&&rt!==""?rt:"button"},ze,R),!i&&!T?{tabIndex:0}:{}),Pn)}},[R,qe,ot,dn,mn,Ee,me,le,Re,T,L,i]),At=Q.useCallback(function(_e){_e.stopPropagation()},[]),yn=Q.useMemo(function(){return function(){var _e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},ue=_e.refKey,ze=ue===void 0?"ref":ue,rt=_e.onChange,pt=_e.onClick,ht=gS(_e,Qoe),Yt=gR({accept:t,multiple:l,type:"file",style:{display:"none"},onChange:pn(Zh(rt,Re)),onClick:pn(Zh(pt,At)),tabIndex:-1},ze,D);return To(To({},Yt),ht)}},[D,t,l,Re,i]),nt=ne.length,Nt=nt>0&&$oe({files:ne,accept:t,minSize:o,maxSize:s,multiple:l,maxFiles:a}),en=nt>0&&!Nt;return To(To({},k),{},{isDragAccept:Nt,isDragReject:en,isFocused:H&&!i,getRootProps:zt,getInputProps:yn,rootRef:R,inputRef:D,open:pn(Fe)})}function aae(n,e){switch(e.type){case"focus":return To(To({},n),{},{isFocused:!0});case"blur":return To(To({},n),{},{isFocused:!1});case"openDialog":return To(To({},vR),{},{isFileDialogActive:!0});case"closeDialog":return To(To({},n),{},{isFileDialogActive:!1});case"setDraggedFiles":var t=e.isDragActive,i=e.draggedFiles;return To(To({},n),{},{draggedFiles:i,isDragActive:t});case"setFiles":return To(To({},n),{},{acceptedFiles:e.acceptedFiles,fileRejections:e.fileRejections});case"reset":return To({},vR);default:return n}}function sN(){}function lae(n){let e;const t=new Set,i=(u,m)=>{const d=typeof u=="function"?u(e):u;if(d!==e){const b=e;e=m?d:Object.assign({},e,d),t.forEach(g=>g(e,b))}},r=()=>e,s=(u,m=r,d=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let b=m(e);function g(){const _=m(e);if(!d(b,_)){const p=b;u(b=_,p)}}return t.add(g),()=>t.delete(g)},a={setState:i,getState:r,subscribe:(u,m,d)=>m||d?s(u,m,d):(t.add(u),()=>t.delete(u)),destroy:()=>t.clear()};return e=n(i,r,a),a}const cae=typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),oN=cae?Q.useEffect:Q.useLayoutEffect;function uae(n){const e=typeof n=="function"?lae(n):n,t=(i=e.getState,r=Object.is)=>{const[,s]=Q.useReducer(v=>v+1,0),o=e.getState(),l=Q.useRef(o),a=Q.useRef(i),u=Q.useRef(r),m=Q.useRef(!1),d=Q.useRef();d.current===void 0&&(d.current=i(o));let b,g=!1;(l.current!==o||a.current!==i||u.current!==r||m.current)&&(b=i(o),g=!r(d.current,b)),oN(()=>{g&&(d.current=b),l.current=o,a.current=i,u.current=r,m.current=!1});const _=Q.useRef(o);oN(()=>{const v=()=>{try{const x=e.getState(),w=a.current(x);u.current(d.current,w)||(l.current=x,d.current=w,s())}catch{m.current=!0,s()}},c=e.subscribe(v);return e.getState()!==_.current&&v(),c},[]);const p=g?b:d.current;return Q.useDebugValue(p),p};return Object.assign(t,e),t[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");const i=[t,e];return{next(){const r=i.length<=0;return{value:i.shift(),done:r}}}},t}const hae=n=>(e,t,i)=>{const r=i.subscribe;return i.subscribe=(o,l,a)=>{let u=o;if(l){const m=a?.equalityFn||Object.is;let d=o(i.getState());u=b=>{const g=o(b);if(!m(d,g)){const _=d;l(d=g,_)}},a?.fireImmediately&&l(d,d)}return r(u)},n(e,t,i)};/*!
 * isobject <https://github.com/jonschlinkert/isobject>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */var jC,aN;function dae(){return aN||(aN=1,jC=function(e){return e!=null&&typeof e=="object"&&Array.isArray(e)===!1}),jC}/*!
 * is-plain-object <https://github.com/jonschlinkert/is-plain-object>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */var XC,lN;function mU(){if(lN)return XC;lN=1;var n=dae();function e(t){return n(t)===!0&&Object.prototype.toString.call(t)==="[object Object]"}return XC=function(i){var r,s;return!(e(i)===!1||(r=i.constructor,typeof r!="function")||(s=r.prototype,e(s)===!1)||s.hasOwnProperty("isPrototypeOf")===!1)},XC}/*!
 * is-extendable <https://github.com/jonschlinkert/is-extendable>
 *
 * Copyright (c) 2015-2017, Jon Schlinkert.
 * Released under the MIT License.
 */var qC,cN;function IM(){if(cN)return qC;cN=1;var n=mU();return qC=function(t){return n(t)||typeof t=="function"||Array.isArray(t)},qC}/*!
 * for-in <https://github.com/jonschlinkert/for-in>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */var YC,uN;function fae(){return uN||(uN=1,YC=function(e,t,i){for(var r in e)if(t.call(i,e[r],r,e)===!1)break}),YC}var KC,hN;function pae(){if(hN)return KC;hN=1;var n=IM(),e=fae();function t(o,l){for(var a=arguments.length,u=0;++u<a;){var m=arguments[u];r(m)&&e(m,i,o)}return o}function i(o,l){if(s(l)){var a=this[l];r(o)&&r(a)?t(a,o):this[l]=o}}function r(o){return n(o)&&!Array.isArray(o)}function s(o){return o!=="__proto__"&&o!=="constructor"&&o!=="prototype"}return KC=t,KC}/*!
 * get-value <https://github.com/jonschlinkert/get-value>
 *
 * Copyright (c) 2014-2015, Jon Schlinkert.
 * Licensed under the MIT License.
 */var ZC,dN;function mae(){if(dN)return ZC;dN=1,ZC=function(t,i,r,s,o){if(!n(t)||!i)return t;if(i=e(i),r&&(i+="."+e(r)),s&&(i+="."+e(s)),o&&(i+="."+e(o)),i in t)return t[i];for(var l=i.split("."),a=l.length,u=-1;t&&++u<a;){for(var m=l[u];m[m.length-1]==="\\";)m=m.slice(0,-1)+"."+l[++u];t=t[m]}return t};function n(t){return t!==null&&(typeof t=="object"||typeof t=="function")}function e(t){return t?Array.isArray(t)?t.join("."):t:""}return ZC}/*!
 * assign-symbols <https://github.com/jonschlinkert/assign-symbols>
 *
 * Copyright (c) 2015, Jon Schlinkert.
 * Licensed under the MIT License.
 */var QC,fN;function gae(){return fN||(fN=1,QC=function(n,e){if(n===null||typeof n>"u")throw new TypeError("expected first argument to be an object.");if(typeof e>"u"||typeof Symbol>"u"||typeof Object.getOwnPropertySymbols!="function")return n;for(var t=Object.prototype.propertyIsEnumerable,i=Object(n),r=arguments.length,s=0;++s<r;)for(var o=Object(arguments[s]),l=Object.getOwnPropertySymbols(o),a=0;a<l.length;a++){var u=l[a];t.call(o,u)&&(i[u]=o[u])}return i}),QC}var JC,pN;function vae(){if(pN)return JC;pN=1;var n=IM(),e=gae();JC=Object.assign||function(l){if(l===null||typeof l>"u")throw new TypeError("Cannot convert undefined or null to object");s(l)||(l={});for(var a=1;a<arguments.length;a++){var u=arguments[a];i(u)&&(u=r(u)),s(u)&&(t(l,u),e(l,u))}return l};function t(l,a){for(var u in a)o(a,u)&&(l[u]=a[u])}function i(l){return l&&typeof l=="string"}function r(l){var a={};for(var u in l)a[u]=l[u];return a}function s(l){return l&&typeof l=="object"||n(l)}function o(l,a){return Object.prototype.hasOwnProperty.call(l,a)}return JC}/*!
 * split-string <https://github.com/jonschlinkert/split-string>
 *
 * Copyright (c) 2015-2017, Jon Schlinkert.
 * Released under the MIT License.
 */var eT,mN;function yae(){if(mN)return eT;mN=1;var n=vae();eT=function(r,s,o){if(typeof r!="string")throw new TypeError("expected a string");typeof s=="function"&&(o=s,s=null),typeof s=="string"&&(s={sep:s});var l=n({sep:"."},s),a=l.quotes||['"',"'","`"],u;l.brackets===!0?u={"<":">","(":")","[":"]","{":"}"}:l.brackets&&(u=l.brackets);var m=[],d=[],b=[""],g=l.sep,_=r.length,p=-1,v;function c(){if(u&&d.length)return u[d[d.length-1]]}for(;++p<_;){var x=r[p],w=r[p+1],T={val:x,idx:p,arr:b,str:r};if(m.push(T),x==="\\"){T.val=i(l,r,p)===!0?x+w:w,T.escaped=!0,typeof o=="function"&&o(T),b[b.length-1]+=T.val,p++;continue}if(u&&u[x]){d.push(x);var L=c(),P=p+1;if(r.indexOf(L,P+1)!==-1)for(;d.length&&P<_;){var C=r[++P];if(C==="\\"){C++;continue}if(a.indexOf(C)!==-1){P=e(r,C,P+1);continue}if(L=c(),d.length&&r.indexOf(L,P+1)===-1)break;if(u[C]){d.push(C);continue}L===C&&d.pop()}if(v=P,v===-1){b[b.length-1]+=x;continue}x=r.slice(p,v+1),T.val=x,T.idx=p=v}if(a.indexOf(x)!==-1){if(v=e(r,x,p+1),v===-1){b[b.length-1]+=x;continue}t(x,l)===!0?x=r.slice(p,v+1):x=r.slice(p+1,v),T.val=x,T.idx=p=v}if(typeof o=="function"&&(o(T,m),x=T.val,p=T.idx),T.val===g&&T.split!==!1){b.push("");continue}b[b.length-1]+=T.val}return b};function e(r,s,o,l){var a=r.indexOf(s,o);return r.charAt(a-1)==="\\"?e(r,s,a+1):a}function t(r,s){return s.keepDoubleQuotes===!0&&r==='"'||s.keepSingleQuotes===!0&&r==="'"?!0:s.keepQuotes}function i(r,s,o){return typeof r.keepEscaping=="function"?r.keepEscaping(s,o):r.keepEscaping===!0||s[o+1]==="\\"}return eT}/*!
 * is-extendable <https://github.com/jonschlinkert/is-extendable>
 *
 * Copyright (c) 2015, Jon Schlinkert.
 * Licensed under the MIT License.
 */var tT,gN;function _ae(){return gN||(gN=1,tT=function(e){return typeof e<"u"&&e!==null&&(typeof e=="object"||typeof e=="function")}),tT}var nT,vN;function bae(){if(vN)return nT;vN=1;var n=_ae();nT=function(r){n(r)||(r={});for(var s=arguments.length,o=1;o<s;o++){var l=arguments[o];n(l)&&e(r,l)}return r};function e(i,r){for(var s in r)t(r,s)&&(i[s]=r[s])}function t(i,r){return Object.prototype.hasOwnProperty.call(i,r)}return nT}/*!
 * is-extendable <https://github.com/jonschlinkert/is-extendable>
 *
 * Copyright (c) 2015, Jon Schlinkert.
 * Licensed under the MIT License.
 */var iT,yN;function xae(){return yN||(yN=1,iT=function(e){return typeof e<"u"&&e!==null&&(typeof e=="object"||typeof e=="function")}),iT}/*!
 * set-value <https://github.com/jonschlinkert/set-value>
 *
 * Copyright (c) 2014-2015, 2017, Jon Schlinkert.
 * Released under the MIT License.
 */var rT,_N;function Sae(){if(_N)return rT;_N=1;var n=yae(),e=bae(),t=mU(),i=xae();rT=function(s,o,l){if(!i(s)||(Array.isArray(o)&&(o=[].concat.apply([],o).join(".")),typeof o!="string"))return s;for(var a=n(o,{sep:".",brackets:!0}).filter(r),u=a.length,m=-1,d=s;++m<u;){var b=a[m];if(m!==u-1){i(d[b])||(d[b]={}),d=d[b];continue}t(d[b])&&t(l)?d[b]=e({},d[b],l):d[b]=l}return s};function r(s){return s!=="__proto__"&&s!=="constructor"&&s!=="prototype"}return rT}var sT,bN;function Eae(){if(bN)return sT;bN=1;var n=IM(),e=pae(),t=mae(),i=Sae();return sT=function(s,o,l){if(!n(s))throw new TypeError("expected an object");if(typeof o!="string"||l==null)return e.apply(null,arguments);if(typeof l=="string")return i(s,o,l),s;var a=t(s,o);return n(l)&&n(a)&&(l=e({},a,l)),i(s,o,l),s},sT}var wae=Eae();const Cae=zu(wae),DM=(...n)=>n.filter(Boolean).join(".");function Tae(n){const e=n.split(".");return[e.pop(),e.join(".")||void 0]}function Aae(n,e){return Object.entries(xre(n,e)).reduce((t,[,{value:i,disabled:r,key:s}])=>(t[s]=r?void 0:i,t),{})}function Rae(n,e){const t=Q.useRef();return p_(n,t.current)||(t.current=n),t.current}function gU(n,e){return Q.useMemo(n,Rae(e))}function Mae(n){const e=Q.useRef(null),t=Q.useRef(null),i=Q.useRef(!0);return Q.useLayoutEffect(()=>{n||(e.current.style.height="0px",e.current.style.overflow="hidden")},[]),Q.useEffect(()=>{if(i.current){i.current=!1;return}let r;const s=e.current,o=()=>{n&&(s.style.removeProperty("height"),s.style.removeProperty("overflow"),t.current.scrollIntoView({behavior:"smooth",block:"nearest"}))};s.addEventListener("transitionend",o,{once:!0});const{height:l}=t.current.getBoundingClientRect();return s.style.height=l+"px",n||(s.style.overflow="hidden",r=window.setTimeout(()=>s.style.height="0px",50)),()=>{s.removeEventListener("transitionend",o),clearTimeout(r)}},[n]),{wrapperRef:e,contentRef:t}}const Oae=n=>{const[e,t]=Q.useState(n.getVisiblePaths());return Q.useEffect(()=>{t(n.getVisiblePaths());const i=n.useStore.subscribe(n.getVisiblePaths,t,{equalityFn:TE});return()=>i()},[n]),e};function Lae(n,e,t){return n.useStore(r=>{const s=Vi(Vi({},t),r.data);return Aae(s,e)},TE)}function vU(n=3){const e=Q.useRef(null),t=Q.useRef(null),[i,r]=Q.useState(!1),s=Q.useCallback(()=>r(!0),[]),o=Q.useCallback(()=>r(!1),[]);return Q.useLayoutEffect(()=>{if(i){const{bottom:l,top:a,left:u}=e.current.getBoundingClientRect(),{height:m}=t.current.getBoundingClientRect(),d=l+m>window.innerHeight-40?"up":"down";t.current.style.position="fixed",t.current.style.zIndex="10000",t.current.style.left=u+"px",d==="down"?t.current.style.top=l+n+"px":t.current.style.bottom=window.innerHeight-a+n+"px"}},[n,i]),{popinRef:e,wrapperRef:t,shown:i,show:s,hide:o}}ioe([roe]);const Pae={rgb:"toRgb",hsl:"toHsl",hsv:"toHsv",hex:"toHex"};Nc.extend({color:()=>n=>sc(n).isValid()});const Nae=n=>Nc().color().test(n);function yU(n,{format:e,hasAlpha:t,isString:i}){const r=Pae[e]+(i&&e!=="hex"?"String":""),s=n[r]();return typeof s=="object"&&!t?Sre(s,["a"]):s}const _U=(n,e)=>{const t=sc(n);if(!t.isValid())throw Error("Invalid color");return yU(t,e)},Iae=(n,e)=>yU(sc(n),Vi(Vi({},e),{},{isString:!0,format:"hex"})),Dae=({value:n})=>{const e=noe(n),t=e==="name"?"hex":e,i=typeof n=="object"?"a"in n:e==="hex"&&n.length===8||/^(rgba)|(hsla)|(hsva)/.test(n),r={format:t,hasAlpha:i,isString:typeof n=="string"};return{value:_U(n,r),settings:r}};var Fae=Object.freeze({__proto__:null,schema:Nae,sanitize:_U,format:Iae,normalize:Dae});const Bae=Di("div",{position:"relative",boxSizing:"border-box",borderRadius:"$sm",overflow:"hidden",cursor:"pointer",height:"$rowHeight",width:"$rowHeight",backgroundColor:"#fff",backgroundImage:`url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill-opacity=".05"><path d="M8 0h8v8H8zM0 8h8v8H0z"/></svg>')`,$inputStyle:"",$hover:"",zIndex:1,variants:{active:{true:{$inputStyle:"$accent1"}}},"&::before":{content:'""',position:"absolute",top:0,bottom:0,right:0,left:0,backgroundColor:"currentColor",zIndex:1}}),Uae=Di("div",{position:"relative",display:"grid",gridTemplateColumns:"$sizes$rowHeight auto",columnGap:"$colGap",alignItems:"center"}),kae=Di("div",{width:"$colorPickerWidth",height:"$colorPickerHeight",".react-colorful":{width:"100%",height:"100%",boxShadow:"$level2",cursor:"crosshair"},".react-colorful__saturation":{borderRadius:"$sm $sm 0 0"},".react-colorful__alpha, .react-colorful__hue":{height:10},".react-colorful__last-control":{borderRadius:"0 0 $sm $sm"},".react-colorful__pointer":{height:12,width:12}});function xN(n,e){return e!=="rgb"?sc(n).toRgb():n}function zae({value:n,displayValue:e,settings:t,onUpdate:i}){const{emitOnEditStart:r,emitOnEditEnd:s}=Dl(),{format:o,hasAlpha:l}=t,{popinRef:a,wrapperRef:u,shown:m,show:d,hide:b}=vU(),g=Q.useRef(0),[_,p]=Q.useState(()=>xN(n,o)),v=l?hoe:foe,c=()=>{p(xN(n,o)),d(),r()},x=()=>{b(),s(),window.clearTimeout(g.current)},w=()=>{g.current=window.setTimeout(x,500)};return Q.useEffect(()=>()=>window.clearTimeout(g.current),[]),We.createElement(We.Fragment,null,We.createElement(Bae,{ref:a,active:m,onClick:()=>c(),style:{color:e}}),m&&We.createElement(TM,null,We.createElement($B,{onPointerUp:x}),We.createElement(kae,{ref:u,onMouseEnter:()=>window.clearTimeout(g.current),onMouseLeave:T=>T.buttons===0&&w()},We.createElement(v,{color:_,onChange:i}))))}function $ae(){const{value:n,displayValue:e,label:t,onChange:i,onUpdate:r,settings:s}=Dl();return We.createElement($u,{input:!0},We.createElement(Th,null,t),We.createElement(Uae,null,We.createElement(zae,{value:n,displayValue:e,onChange:i,onUpdate:r,settings:s}),We.createElement(CM,{value:e,onChange:i,onUpdate:r})))}var Hae=Vi({component:$ae},Fae);function Gae(){const{label:n,displayValue:e,onUpdate:t,settings:i}=Dl();return We.createElement($u,{input:!0},We.createElement(Th,null,n),We.createElement(RM,{value:e,settings:i,onUpdate:t}))}var Vae=Vi({component:Gae},YB(["x","y","z"]));const Wae=Di("div",{$flexCenter:"",position:"relative",backgroundColor:"$elevation3",borderRadius:"$sm",cursor:"pointer",height:"$rowHeight",width:"$rowHeight",touchAction:"none",$draggable:"",$hover:"","&:active":{cursor:"none"},"&::after":{content:'""',backgroundColor:"$accent2",height:4,width:4,borderRadius:2}}),jae=Di("div",{$flexCenter:"",width:"$joystickWidth",height:"$joystickHeight",borderRadius:"$sm",boxShadow:"$level2",position:"fixed",zIndex:1e4,overflow:"hidden",$draggable:"",transform:"translate(-50%, -50%)",variants:{isOutOfBounds:{true:{backgroundColor:"$elevation1"},false:{backgroundColor:"$elevation3"}}},"> div":{position:"absolute",$flexCenter:"",borderStyle:"solid",borderWidth:1,borderColor:"$highlight1",backgroundColor:"$elevation3",width:"80%",height:"80%","&::after,&::before":{content:'""',position:"absolute",zindex:10,backgroundColor:"$highlight1"},"&::before":{width:"100%",height:1},"&::after":{height:"100%",width:1}},"> span":{position:"relative",zindex:100,width:10,height:10,backgroundColor:"$accent2",borderRadius:"50%"}});function Xae({value:n,settings:e,onUpdate:t}){const i=Q.useRef(),r=Q.useRef(0),s=Q.useRef(0),o=Q.useRef(1),[l,a]=Q.useState(!1),[u,m]=Q.useState(!1),[d,b]=GB(),g=Q.useRef(null),_=Q.useRef(null);Q.useLayoutEffect(()=>{if(l){const{top:G,left:j,width:k,height:V}=g.current.getBoundingClientRect();_.current.style.left=j+k/2+"px",_.current.style.top=G+V/2+"px"}},[l]);const{keys:[p,v],joystick:c}=e,x=c==="invertY"?1:-1,{[p]:{step:w},[v]:{step:T}}=e,L=yf("sizes","joystickWidth"),P=yf("sizes","joystickHeight"),C=parseFloat(L)*.8/2,I=parseFloat(P)*.8/2,F=Q.useCallback(()=>{i.current||(m(!0),r.current&&b({x:r.current*C}),s.current&&b({y:s.current*-I}),i.current=window.setInterval(()=>{t(G=>{const j=w*r.current*o.current,k=x*T*s.current*o.current;return Array.isArray(G)?{[p]:G[0]+j,[v]:G[1]+k}:{[p]:G[p]+j,[v]:G[v]+k}})},16))},[C,I,t,b,w,T,p,v,x]),R=Q.useCallback(()=>{window.clearTimeout(i.current),i.current=void 0,m(!1)},[]);Q.useEffect(()=>{function G(j){o.current=AB(j)}return window.addEventListener("keydown",G),window.addEventListener("keyup",G),()=>{window.clearTimeout(i.current),window.removeEventListener("keydown",G),window.removeEventListener("keyup",G)}},[]);const D=q_(({first:G,active:j,delta:[k,V],movement:[H,te]})=>{G&&a(!0);const ne=kp(H,-C,C),he=kp(te,-I,I);r.current=Math.abs(H)>Math.abs(ne)?Math.sign(H-ne):0,s.current=Math.abs(te)>Math.abs(he)?Math.sign(he-te):0;let ie=n[p],ce=n[v];j?(r.current||(ie+=k*w*o.current,b({x:ne})),s.current||(ce-=x*V*T*o.current,b({y:he})),r.current||s.current?F():R(),t({[p]:ie,[v]:ce})):(a(!1),r.current=0,s.current=0,b({x:0,y:0}),R())});return We.createElement(Wae,Wo({ref:g},D()),l&&We.createElement(TM,null,We.createElement(jae,{ref:_,isOutOfBounds:u},We.createElement("div",null),We.createElement("span",{ref:d}))))}const qae=Di("div",{display:"grid",columnGap:"$colGap",variants:{withJoystick:{true:{gridTemplateColumns:"$sizes$rowHeight auto"},false:{gridTemplateColumns:"auto"}}}});function Yae(){const{label:n,displayValue:e,onUpdate:t,settings:i}=Dl();return We.createElement($u,{input:!0},We.createElement(Th,null,n),We.createElement(qae,{withJoystick:!!i.joystick},i.joystick&&We.createElement(Xae,{value:e,settings:i,onUpdate:t}),We.createElement(RM,{value:e,settings:i,onUpdate:t})))}const Kae=["joystick"],bU=YB(["x","y"]),Zae=n=>{let{joystick:e=!0}=n,t=Ns(n,Kae);const{value:i,settings:r}=bU.normalize(t);return{value:i,settings:Vi(Vi({},r),{},{joystick:e})}};var Qae=Vi(Vi({component:Yae},bU),{},{normalize:Zae});const Jae=n=>{if(n!==void 0){if(n instanceof File)try{return URL.createObjectURL(n)}catch{return}if(typeof n=="string"&&n.indexOf("blob:")===0)return n;throw Error("Invalid image format [undefined | blob | File].")}},ele=(n,e)=>typeof e=="object"&&"image"in e,tle=({image:n})=>({value:n});var nle=Object.freeze({__proto__:null,sanitize:Jae,schema:ele,normalize:tle});const ile=Di("div",{position:"relative",display:"grid",gridTemplateColumns:"$sizes$rowHeight auto 20px",columnGap:"$colGap",alignItems:"center"}),rle=Di("div",{$flexCenter:"",overflow:"hidden",height:"$rowHeight",background:"$elevation3",textAlign:"center",color:"inherit",borderRadius:"$sm",outline:"none",userSelect:"none",cursor:"pointer",$inputStyle:"",$hover:"",$focusWithin:"",$active:"$accent1 $elevation1",variants:{isDragAccept:{true:{$inputStyle:"$accent1",backgroundColor:"$elevation1"}}}}),sle=Di("div",{boxSizing:"border-box",borderRadius:"$sm",height:"$rowHeight",width:"$rowHeight",$inputStyle:"",backgroundSize:"cover",backgroundPosition:"center",variants:{hasImage:{true:{cursor:"pointer",$hover:"",$active:""}}}}),ole=Di("div",{$flexCenter:"",width:"$imagePreviewWidth",height:"$imagePreviewHeight",borderRadius:"$sm",boxShadow:"$level2",pointerEvents:"none",$inputStyle:"",backgroundSize:"cover",backgroundPosition:"center"}),ale=Di("div",{fontSize:"0.8em",height:"100%",padding:"$rowGap $md"}),lle=Di("div",{$flexCenter:"",top:"0",right:"0",marginRight:"$sm",height:"100%",cursor:"pointer",variants:{disabled:{true:{color:"$elevation3",cursor:"default"}}},"&::after,&::before":{content:'""',position:"absolute",height:2,width:10,borderRadius:1,backgroundColor:"currentColor"},"&::after":{transform:"rotate(45deg)"},"&::before":{transform:"rotate(-45deg)"}});function cle(){const{label:n,value:e,onUpdate:t,disabled:i}=Dl(),{popinRef:r,wrapperRef:s,shown:o,show:l,hide:a}=vU(),u=Q.useCallback(_=>{_.length&&t(_[0])},[t]),m=Q.useCallback(_=>{_.stopPropagation(),t(void 0)},[t]),{getRootProps:d,getInputProps:b,isDragAccept:g}=pU({maxFiles:1,accept:"image/*",onDrop:u,disabled:i});return We.createElement($u,{input:!0},We.createElement(Th,null,n),We.createElement(ile,null,We.createElement(sle,{ref:r,hasImage:!!e,onPointerDown:()=>!!e&&l(),onPointerUp:a,style:{backgroundImage:e?`url(${e})`:"none"}}),o&&!!e&&We.createElement(TM,null,We.createElement($B,{onPointerUp:a,style:{cursor:"pointer"}}),We.createElement(ole,{ref:s,style:{backgroundImage:`url(${e})`}})),We.createElement(rle,d({isDragAccept:g}),We.createElement("input",b()),We.createElement(ale,null,g?"drop image":"click or drop")),We.createElement(lle,{onClick:m,disabled:!e})))}var ule=Vi({component:cle},nle);const SN=Nc().number(),hle=(n,e)=>Nc().array().length(2).every.number().test(n)&&Nc().schema({min:SN,max:SN}).test(e),vS=n=>({min:n[0],max:n[1]}),xU=(n,{bounds:[e,t]},i)=>{const r=Array.isArray(n)?vS(n):n,s={min:i[0],max:i[1]},{min:o,max:l}=Vi(Vi({},s),r);return[kp(Number(o),e,Math.max(e,l)),kp(Number(l),Math.min(t,o),t)]},dle=({value:n,min:e,max:t})=>{const i={min:e,max:t},r=qB(vS(n),{min:i,max:i}),s=[e,t],o=Vi(Vi({},r),{},{bounds:s});return{value:xU(vS(n),o,n),settings:o}};var fle=Object.freeze({__proto__:null,schema:hle,format:vS,sanitize:xU,normalize:dle});const ple=["value","bounds","onDrag"],mle=["bounds"],gle=Di("div",{display:"grid",columnGap:"$colGap",gridTemplateColumns:"auto calc($sizes$numberInputMinWidth * 2 + $space$rowGap)"});function vle(n){let{value:e,bounds:[t,i],onDrag:r}=n,s=Ns(n,ple);const o=Q.useRef(null),l=Q.useRef(null),a=Q.useRef(null),u=Q.useRef(0),m=yf("sizes","scrubberWidth"),d=q_(({event:_,first:p,xy:[v],movement:[c],memo:x={}})=>{if(p){const{width:T,left:L}=o.current.getBoundingClientRect();u.current=T-parseFloat(m);const P=_?.target===l.current||_?.target===a.current;x.pos=dS((v-L)/T,t,i);const C=Math.abs(x.pos-e.min)-Math.abs(x.pos-e.max);x.key=C<0||C===0&&x.pos<=e.min?"min":"max",P&&(x.pos=e[x.key])}const w=x.pos+dS(c/u.current,0,i-t);return r({[x.key]:cse(w,s[x.key])}),x}),b=`calc(${hS(e.min,t,i)} * (100% - ${m} - 8px) + 4px)`,g=`calc(${1-hS(e.max,t,i)} * (100% - ${m} - 8px) + 4px)`;return We.createElement(WB,Wo({ref:o},d()),We.createElement(VB,null,We.createElement(jB,{style:{left:b,right:g}})),We.createElement(aR,{position:"left",ref:l,style:{left:b}}),We.createElement(aR,{position:"right",ref:a,style:{right:g}}))}function yle(){const{label:n,displayValue:e,onUpdate:t,settings:i}=Dl(),r=Ns(i,mle);return We.createElement(We.Fragment,null,We.createElement($u,{input:!0},We.createElement(Th,null,n),We.createElement(gle,null,We.createElement(vle,Wo({value:e},i,{onDrag:t})),We.createElement(RM,{value:e,settings:r,onUpdate:t,innerLabelTrim:0}))))}var _le=Vi({component:yle},fle);const ble=()=>{const n=new Map;return{on:(e,t)=>{let i=n.get(e);i===void 0&&(i=new Set,n.set(e,i)),i.add(t)},off:(e,t)=>{const i=n.get(e);i!==void 0&&(i.delete(t),i.size===0&&n.delete(e))},emit:(e,...t)=>{const i=n.get(e);if(i!==void 0)for(const r of i)r(...t)}}},xle=["type","value"],Sle=["onChange","transient","onEditStart","onEditEnd"],Ele=function(){const e=uae(hae(()=>({data:{}}))),t=ble();this.storeId=bre(),this.useStore=e;const i={},r=new Set;this.getVisiblePaths=()=>{const o=this.getData(),l=Object.keys(o),a=[];Object.entries(i).forEach(([m,d])=>{d.render&&l.some(b=>b.indexOf(m)===0)&&!d.render(this.get)&&a.push(m+".")});const u=[];return r.forEach(m=>{m in o&&o[m].__refCount>0&&a.every(d=>m.indexOf(d)===-1)&&(!o[m].render||o[m].render(this.get))&&u.push(m)}),u},this.setOrderedPaths=o=>{o.forEach(l=>r.add(l))},this.orderPaths=o=>(this.setOrderedPaths(o),o),this.disposePaths=o=>{e.setState(l=>{const a=l.data;return o.forEach(u=>{if(u in a){const m=a[u];m.__refCount--,m.__refCount===0&&m.type in _h&&delete a[u]}}),{data:a}})},this.dispose=()=>{e.setState(()=>({data:{}}))},this.getFolderSettings=o=>i[o]||{},this.getData=()=>e.getState().data,this.addData=(o,l)=>{e.setState(a=>{const u=a.data;return Object.entries(o).forEach(([m,d])=>{let b=u[m];if(b){const{type:g,value:_}=d,p=Ns(d,xle);g!==b.type?cf(Ao.INPUT_TYPE_OVERRIDE,g):((b.__refCount===0||l)&&Object.assign(b,p),b.__refCount++)}else u[m]=Vi(Vi({},d),{},{__refCount:1})}),{data:u}})},this.setValueAtPath=(o,l,a)=>{e.setState(u=>{const m=u.data;return BP(m[o],l,o,this,a),{data:m}})},this.setSettingsAtPath=(o,l)=>{e.setState(a=>{const u=a.data;return u[o].settings=Vi(Vi({},u[o].settings),l),{data:u}})},this.disableInputAtPath=(o,l)=>{e.setState(a=>{const u=a.data;return u[o].disabled=l,{data:u}})},this.set=(o,l)=>{e.setState(a=>{const u=a.data;return Object.entries(o).forEach(([m,d])=>{try{BP(u[m],d,void 0,void 0,l)}catch{}}),{data:u}})},this.getInput=o=>{try{return this.getData()[o]}catch{cf(Ao.PATH_DOESNT_EXIST,o)}},this.get=o=>{var l;return(l=this.getInput(o))===null||l===void 0?void 0:l.value},this.emitOnEditStart=o=>{t.emit(`onEditStart:${o}`,this.get(o),o,Vi(Vi({},this.getInput(o)),{},{get:this.get}))},this.emitOnEditEnd=o=>{t.emit(`onEditEnd:${o}`,this.get(o),o,Vi(Vi({},this.getInput(o)),{},{get:this.get}))},this.subscribeToEditStart=(o,l)=>{const a=`onEditStart:${o}`;return t.on(a,l),()=>t.off(a,l)},this.subscribeToEditEnd=(o,l)=>{const a=`onEditEnd:${o}`;return t.on(a,l),()=>t.off(a,l)};const s=(o,l,a)=>{const u={};return Object.entries(o).forEach(([m,d])=>{if(m==="")return cf(Ao.EMPTY_KEY);let b=DM(l,m);if(d.type===_h.FOLDER){const g=s(d.schema,b,a);Object.assign(u,g),b in i||(i[b]=d.settings)}else if(m in a)cf(Ao.DUPLICATE_KEYS,m,b,a[m].path);else{const g=Rre(d,m,b,u);if(g){const{type:_,options:p,input:v}=g,{onChange:c,transient:x,onEditStart:w,onEditEnd:T}=p,L=Ns(p,Sle);u[b]=Vi(Vi(Vi({type:_},L),v),{},{fromPanel:!0}),a[m]={path:b,onChange:c,transient:x,onEditStart:w,onEditEnd:T}}else cf(Ao.UNKNOWN_INPUT,b,d)}}),u};this.getDataFromSchema=o=>{const l={};return[s(o,"",l),l]}},SU=new Ele,wle={collapsed:!1};function Cle(n,e){return{type:_h.FOLDER,schema:n,settings:Vi(Vi({},wle),e)}}const EN=n=>"__levaInput"in n,Tle=(n,e)=>{const t={},i=e?e.toLowerCase():null;return n.forEach(r=>{const[s,o]=Tae(r);(!i||s.toLowerCase().indexOf(i)>-1)&&Cae(t,o,{[s]:{__levaInput:!0,path:r}})}),t},Ale=["type","label","path","valueKey","value","settings","setValue","disabled"];function Rle(n){let{type:e,label:t,path:i,valueKey:r,value:s,settings:o,setValue:l,disabled:a}=n,u=Ns(n,Ale);const{displayValue:m,onChange:d,onUpdate:b}=HB({type:e,value:s,settings:o,setValue:l}),g=vg[e].component;return g?We.createElement(PB.Provider,{value:Vi({key:r,path:i,id:""+i,label:t,displayValue:m,value:s,onChange:d,onUpdate:b,settings:o,setValue:l,disabled:a},u)},We.createElement(Xre,{disabled:a},We.createElement(g,null))):(cf(Ao.NO_COMPONENT_FOR_TYPE,e,i),null)}const Mle=Di("button",{display:"block",$reset:"",fontWeight:"$button",height:"$rowHeight",borderStyle:"none",borderRadius:"$sm",backgroundColor:"$elevation1",color:"$highlight1","&:not(:disabled)":{color:"$highlight3",backgroundColor:"$accent2",cursor:"pointer",$hover:"$accent3",$active:"$accent3 $accent1",$focus:""}});function Ole({onClick:n,settings:e,label:t}){const i=X_();return We.createElement($u,null,We.createElement(Mle,{disabled:e.disabled,onClick:()=>n(i.get)},t))}const Lle=Di("div",{$flex:"",justifyContent:"flex-end",gap:"$colGap"}),Ple=Di("button",{$reset:"",cursor:"pointer",borderRadius:"$xs","&:hover":{backgroundColor:"$elevation3"}}),Nle=({label:n,opts:e})=>{let t=typeof n=="string"&&n.trim()===""?null:n,i=e;return typeof e.opts=="object"&&(i.label!==void 0&&(t=e.label),i=e.opts),{label:t,opts:i}};function Ile(n){const{label:e,opts:t}=Nle(n),i=X_();return We.createElement($u,{input:!!e},e&&We.createElement(Th,null,e),We.createElement(Lle,null,Object.entries(t).map(([r,s])=>We.createElement(Ple,{key:r,onClick:()=>s(i.get)},r))))}const Dle=Di("canvas",{height:"$monitorHeight",width:"100%",display:"block",borderRadius:"$sm"}),EU=100;function Fle(n,e){n.push(e),n.length>EU&&n.shift()}const Ble=Q.forwardRef(function({initialValue:n},e){const t=yf("colors","highlight3"),i=yf("colors","elevation2"),r=yf("colors","highlight1"),[s,o]=Q.useMemo(()=>[sc(r).alpha(.4).toRgbString(),sc(r).alpha(.1).toRgbString()],[r]),l=Q.useRef([n]),a=Q.useRef(n),u=Q.useRef(n),m=Q.useRef(),d=Q.useCallback((_,p)=>{if(!_)return;const{width:v,height:c}=_,x=new Path2D,w=v/EU,T=c*.05;for(let C=0;C<l.current.length;C++){const I=hS(l.current[C],a.current,u.current),F=w*C,R=c-I*(c-T*2)-T;x.lineTo(F,R)}p.clearRect(0,0,v,c);const L=new Path2D(x);L.lineTo(w*(l.current.length+1),c),L.lineTo(0,c),L.lineTo(0,0);const P=p.createLinearGradient(0,0,0,c);P.addColorStop(0,s),P.addColorStop(1,o),p.fillStyle=P,p.fill(L),p.strokeStyle=i,p.lineJoin="round",p.lineWidth=14,p.stroke(x),p.strokeStyle=t,p.lineWidth=2,p.stroke(x)},[t,i,s,o]),[b,g]=nse(d);return Q.useImperativeHandle(e,()=>({frame:_=>{(a.current===void 0||_<a.current)&&(a.current=_),(u.current===void 0||_>u.current)&&(u.current=_),Fle(l.current,_),m.current=requestAnimationFrame(()=>d(b.current,g.current))}}),[b,g,d]),Q.useEffect(()=>()=>cancelAnimationFrame(m.current),[]),We.createElement(Dle,{ref:b})}),wN=n=>Number.isFinite(n)?n.toPrecision(2):n.toString(),Ule=Q.forwardRef(function({initialValue:n},e){const[t,i]=Q.useState(wN(n));return Q.useImperativeHandle(e,()=>({frame:r=>i(wN(r))}),[]),We.createElement("div",null,t)});function CN(n){return typeof n=="function"?n():n.current}function kle({label:n,objectOrFn:e,settings:t}){const i=Q.useRef(),r=Q.useRef(CN(e));return Q.useEffect(()=>{const s=window.setInterval(()=>{var o;document.hidden||(o=i.current)===null||o===void 0||o.frame(CN(e))},t.interval);return()=>window.clearInterval(s)},[e,t.interval]),We.createElement($u,{input:!0},We.createElement(Th,{align:"top"},n),t.graph?We.createElement(Ble,{ref:i,initialValue:r.current}):We.createElement(Ule,{ref:i,initialValue:r.current}))}const zle=["type","label","key"],$le={[_h.BUTTON]:Ole,[_h.BUTTON_GROUP]:Ile,[_h.MONITOR]:kle},Hle=We.memo(({path:n})=>{const[e,{set:t,setSettings:i,disable:r,storeId:s,emitOnEditStart:o,emitOnEditEnd:l}]=rse(n);if(!e)return null;const{type:a,label:u,key:m}=e,d=Ns(e,zle);if(a in _h){const b=$le[a];return We.createElement(b,Wo({label:u,path:n},d))}return a in vg?We.createElement(Rle,Wo({key:s+n,type:a,label:u,storeId:s,path:n,valueKey:m,setValue:t,setSettings:i,disable:r,emitOnEditStart:o,emitOnEditEnd:l},d)):(dre(Ao.UNSUPPORTED_INPUT,a,n),null)});function Gle({toggle:n,toggled:e,name:t}){return We.createElement(Vre,{onClick:()=>n()},We.createElement(AM,{toggled:e}),We.createElement("div",null,t))}const Vle=({name:n,path:e,tree:t})=>{const i=X_(),r=DM(e,n),{collapsed:s,color:o}=i.getFolderSettings(r),[l,a]=Q.useState(!s),u=Q.useRef(null),m=yf("colors","folderWidgetColor"),d=yf("colors","folderTextColor");return Q.useLayoutEffect(()=>{u.current.style.setProperty("--leva-colors-folderWidgetColor",o||m),u.current.style.setProperty("--leva-colors-folderTextColor",o||d)},[o,m,d]),We.createElement(fS,{ref:u},We.createElement(Gle,{name:n,toggled:l,toggle:()=>a(b=>!b)}),We.createElement(wU,{parent:r,tree:t,toggled:l}))},wU=We.memo(({isRoot:n=!1,fill:e=!1,flat:t=!1,parent:i,tree:r,toggled:s})=>{const{wrapperRef:o,contentRef:l}=Mae(s),a=X_(),u=([d,b])=>{var g;return(EN(b)?(g=a.getInput(b.path))===null||g===void 0?void 0:g.order:a.getFolderSettings(DM(i,d)).order)||0},m=Object.entries(r).sort((d,b)=>u(d)-u(b));return We.createElement(sR,{ref:o,isRoot:n,fill:e,flat:t},We.createElement(UB,{ref:l,isRoot:n,toggled:s},m.map(([d,b])=>EN(b)?We.createElement(Hle,{key:b.path,valueKey:b.valueKey,path:b.path}):We.createElement(Vle,{key:d,name:d,path:i,tree:b}))))}),Wle=Di("div",{position:"relative",fontFamily:"$mono",fontSize:"$root",color:"$rootText",backgroundColor:"$elevation1",variants:{fill:{false:{position:"fixed",top:"10px",right:"10px",zIndex:1e3,width:"$rootWidth"},true:{position:"relative",width:"100%"}},flat:{false:{borderRadius:"$lg",boxShadow:"$level1"}},oneLineLabels:{true:{[`${zB}`]:{gridTemplateColumns:"auto",gridAutoColumns:"minmax(max-content, 1fr)",gridAutoRows:"minmax($sizes$rowHeight), auto)",rowGap:0,columnGap:0,marginTop:"$rowGap"}}},hideTitleBar:{true:{$$titleBarHeight:"0px"},false:{$$titleBarHeight:"$sizes$titleBarHeight"}}},"&,*,*:after,*:before":{boxSizing:"border-box"},"*::selection":{backgroundColor:"$accent2"}}),CU=40,yS=Di("i",{$flexCenter:"",width:CU,userSelect:"none",cursor:"pointer","> svg":{fill:"$highlight1",transition:"transform 350ms ease, fill 250ms ease"},"&:hover > svg":{fill:"$highlight3"},variants:{active:{true:{"> svg":{fill:"$highlight2"}}}}}),jle=Di("div",{display:"flex",alignItems:"stretch",justifyContent:"space-between",height:"$titleBarHeight",variants:{mode:{drag:{cursor:"grab"}}}}),Xle=Di("div",{$flex:"",position:"relative",width:"100%",overflow:"hidden",transition:"height 250ms ease",color:"$highlight3",paddingLeft:"$md",[`> ${yS}`]:{height:30},variants:{toggled:{true:{height:30},false:{height:0}}}}),qle=Di("input",{$reset:"",flex:1,position:"relative",height:30,width:"100%",backgroundColor:"transparent",fontSize:"10px",borderRadius:"$root","&:focus":{},"&::placeholder":{color:"$highlight2"}}),Yle=Di("div",{touchAction:"none",$flexCenter:"",flex:1,"> svg":{fill:"$highlight1"},color:"$highlight1",variants:{drag:{true:{$draggable:"","> svg":{transition:"fill 250ms ease"},"&:hover":{color:"$highlight3"},"&:hover > svg":{fill:"$highlight3"}}},filterEnabled:{false:{paddingRight:CU}}}}),Kle=We.forwardRef(({setFilter:n,toggle:e},t)=>{const[i,r]=Q.useState(""),s=Q.useMemo(()=>TB(n,250),[n]),o=()=>{n(""),r("")},l=a=>{const u=a.currentTarget.value;e(!0),r(u)};return Q.useEffect(()=>{s(i)},[i,s]),We.createElement(We.Fragment,null,We.createElement(qle,{ref:t,value:i,placeholder:"[Open filter with CMD+SHIFT+L]",onPointerDown:a=>a.stopPropagation(),onChange:l}),We.createElement(yS,{onClick:()=>o(),style:{visibility:i?"visible":"hidden"}},We.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",height:"14",width:"14",viewBox:"0 0 20 20",fill:"currentColor"},We.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"}))))});function Zle({setFilter:n,onDrag:e,onDragStart:t,onDragEnd:i,toggle:r,toggled:s,title:o,drag:l,filterEnabled:a,from:u}){const[m,d]=Q.useState(!1),b=Q.useRef(null);Q.useEffect(()=>{var _,p;m?(_=b.current)===null||_===void 0||_.focus():(p=b.current)===null||p===void 0||p.blur()},[m]);const g=q_(({offset:[_,p],first:v,last:c})=>{e({x:_,y:p}),v&&t({x:_,y:p}),c&&i({x:_,y:p})},{filterTaps:!0,from:({offset:[_,p]})=>[u?.x||_,u?.y||p]});return Q.useEffect(()=>{const _=p=>{p.key==="L"&&p.shiftKey&&p.metaKey&&d(v=>!v)};return window.addEventListener("keydown",_),()=>window.removeEventListener("keydown",_)},[]),We.createElement(We.Fragment,null,We.createElement(jle,{mode:l?"drag":void 0},We.createElement(yS,{active:!s,onClick:()=>r()},We.createElement(AM,{toggled:s,width:12,height:8})),We.createElement(Yle,Wo({},l?g():{},{drag:l,filterEnabled:a}),o===void 0&&l?We.createElement("svg",{width:"20",height:"10",viewBox:"0 0 28 14",xmlns:"http://www.w3.org/2000/svg"},We.createElement("circle",{cx:"2",cy:"2",r:"2"}),We.createElement("circle",{cx:"14",cy:"2",r:"2"}),We.createElement("circle",{cx:"26",cy:"2",r:"2"}),We.createElement("circle",{cx:"2",cy:"12",r:"2"}),We.createElement("circle",{cx:"14",cy:"12",r:"2"}),We.createElement("circle",{cx:"26",cy:"12",r:"2"})):o),a&&We.createElement(yS,{active:m,onClick:()=>d(_=>!_)},We.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",height:"20",viewBox:"0 0 20 20"},We.createElement("path",{d:"M9 9a2 2 0 114 0 2 2 0 01-4 0z"}),We.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-13a4 4 0 00-3.446 6.032l-2.261 2.26a1 1 0 101.414 1.415l2.261-2.261A4 4 0 1011 5z",clipRule:"evenodd"})))),We.createElement(Xle,{toggled:m},We.createElement(Kle,{ref:b,setFilter:n,toggle:r})))}const Qle=["store","hidden","theme","collapsed"];function Jle(n){let{store:e,hidden:t=!1,theme:i,collapsed:r=!1}=n,s=Ns(n,Qle);const o=gU(()=>Ure(i),[i]),[l,a]=Q.useState(!r),u=typeof r=="object"?!r.collapsed:l,m=Q.useMemo(()=>typeof r=="object"?d=>{typeof d=="function"?r.onChange(!d(!r.collapsed)):r.onChange(!d)}:a,[r]);return!e||t?null:We.createElement(wM.Provider,{value:o},We.createElement(ece,Wo({store:e},s,{toggled:u,setToggle:m,rootClass:o.className})))}const ece=We.memo(({store:n,rootClass:e,fill:t=!1,flat:i=!1,neverHide:r=!1,oneLineLabels:s=!1,titleBar:o={title:void 0,drag:!0,filter:!0,position:void 0,onDrag:void 0,onDragStart:void 0,onDragEnd:void 0},hideCopyButton:l=!1,toggled:a,setToggle:u})=>{var m,d;const b=Oae(n),[g,_]=Q.useState(""),p=Q.useMemo(()=>Tle(b,g),[b,g]),[v,c]=GB(),x=r||b.length>0,w=typeof o=="object"&&o.title||void 0,T=typeof o=="object"&&(m=o.drag)!==null&&m!==void 0?m:!0,L=typeof o=="object"&&(d=o.filter)!==null&&d!==void 0?d:!0,P=typeof o=="object"&&o.position||void 0,C=typeof o=="object"&&o.onDrag||void 0,I=typeof o=="object"&&o.onDragStart||void 0,F=typeof o=="object"&&o.onDragEnd||void 0;return We.useEffect(()=>{c({x:P?.x,y:P?.y})},[P,c]),Bre(),We.createElement(IB.Provider,{value:{hideCopyButton:l}},We.createElement(Wle,{ref:v,className:e,fill:t,flat:i,oneLineLabels:s,hideTitleBar:!o,style:{display:x?"block":"none"}},o&&We.createElement(Zle,{onDrag:R=>{c(R),C?.(R)},onDragStart:R=>I?.(R),onDragEnd:R=>F?.(R),setFilter:_,toggle:R=>u(D=>R??!D),toggled:a,title:w,drag:T,filterEnabled:L,from:P}),x&&We.createElement(NB.Provider,{value:n},We.createElement(wU,{isRoot:!0,fill:t,flat:i,tree:p,toggled:a}))))}),tce=["isRoot"];let _S=!1,ng=null;function nce(n){let{isRoot:e=!1}=n,t=Ns(n,tce);return Q.useEffect(()=>(_S=!0,!e&&ng&&(ng.remove(),ng=null),()=>{e||(_S=!1)}),[e]),We.createElement(Jle,Wo({store:SU},t))}function ice(n){Q.useEffect(()=>{n&&!_S&&(ng||(ng=document.getElementById("leva__root")||Object.assign(document.createElement("div"),{id:"leva__root"}),document.body&&(document.body.appendChild(ng),FD.createRoot(ng).render(We.createElement(nce,{isRoot:!0})))),_S=!0)},[n])}function rce(n,e,t,i,r){let s,o,l,a,u;return typeof n=="string"?(o=n,s=e,Array.isArray(t)?u=t:t&&("store"in t?(a=t,u=i):(l=t,Array.isArray(i)?u=i:(a=i,u=r)))):(s=n,Array.isArray(e)?u=e:(a=e,u=t)),{schema:s,folderName:o,folderSettings:l,hookSettings:a,deps:u||[]}}function sce(n,e,t,i,r){const{folderName:s,schema:o,folderSettings:l,hookSettings:a,deps:u}=rce(n,e,t,i,r),m=typeof o=="function",d=Q.useRef(!1),b=Q.useRef(!0),g=gU(()=>{d.current=!0;const D=typeof o=="function"?o():o;return s?{[s]:Cle(D,l)}:D},u),_=!(a!=null&&a.store);ice(_);const[p]=Q.useState(()=>a?.store||SU),[v,c]=Q.useMemo(()=>p.getDataFromSchema(g),[p,g]),[x,w,T,L,P]=Q.useMemo(()=>{const D=[],G=[],j={},k={},V={};return Object.values(c).forEach(({path:H,onChange:te,onEditStart:ne,onEditEnd:he,transient:ie})=>{D.push(H),te?(j[H]=te,ie||G.push(H)):G.push(H),ne&&(k[H]=ne),he&&(V[H]=he)}),[D,G,j,k,V]},[c]),C=Q.useMemo(()=>p.orderPaths(x),[x,p]),I=Lae(p,w,v),F=Q.useCallback(D=>{const G=Object.entries(D).reduce((j,[k,V])=>Object.assign(j,{[c[k].path]:V}),{});p.set(G,!1)},[p,c]),R=Q.useCallback(D=>p.get(c[D].path),[p,c]);return Q.useEffect(()=>{const D=!b.current&&d.current;return p.addData(v,D),b.current=!1,d.current=!1,()=>p.disposePaths(C)},[p,C,v]),Q.useEffect(()=>{const D=[];return Object.entries(T).forEach(([G,j])=>{j(p.get(G),G,Vi({initial:!0,get:p.get},p.getInput(G)));const k=p.useStore.subscribe(V=>{const H=V.data[G];return[H.disabled?void 0:H.value,H]},([V,H])=>j(V,G,Vi({initial:!1,get:p.get},H)),{equalityFn:TE});D.push(k)}),()=>D.forEach(G=>G())},[p,T]),Q.useEffect(()=>{const D=[];return Object.entries(L).forEach(([G,j])=>D.push(p.subscribeToEditStart(G,j))),Object.entries(P).forEach(([G,j])=>D.push(p.subscribeToEditEnd(G,j))),()=>D.forEach(G=>G())},[L,P,p]),m?[I,F,R]:I}Of(wh.SELECT,xse);Of(wh.IMAGE,ule);Of(wh.NUMBER,hse);Of(wh.COLOR,Hae);Of(wh.STRING,Ose);Of(wh.BOOLEAN,Bse);Of(wh.INTERVAL,_le);Of(wh.VECTOR3D,Vae);Of(wh.VECTOR2D,Qae);/**
 * @license
 * Copyright 2010-2025 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const Z_="178",Gm={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},Vm={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},TU=0,yR=1,AU=2,oce=3,RU=0,IE=1,Yy=2,hh=3,wf=0,hc=1,Du=2,ad=0,hg=1,_R=2,bR=3,xR=4,MU=5,Op=100,OU=101,LU=102,PU=103,NU=104,IU=200,DU=201,FU=202,BU=203,bS=204,xS=205,UU=206,kU=207,zU=208,$U=209,HU=210,GU=211,VU=212,WU=213,jU=214,SS=0,ES=1,wS=2,yg=3,CS=4,TS=5,AS=6,RS=7,Q_=0,XU=1,qU=2,ld=0,DE=1,YU=2,KU=3,FM=4,ZU=5,QU=6,JU=7,SR="attached",ek="detached",zp=300,pd=301,$p=302,u0=303,y_=304,L0=306,__=1e3,Ea=1001,b_=1002,ml=1003,BM=1004,lce=1004,Gv=1005,cce=1005,os=1006,Ky=1007,uce=1007,rd=1008,ER=1008,fc=1009,FE=1010,BE=1011,h0=1012,J_=1013,md=1014,bo=1015,Ia=1016,UE=1017,kE=1018,d0=1020,UM=35902,kM=1021,zM=1022,oa=1023,f0=1026,p0=1027,eb=1028,tb=1029,$M=1030,zE=1031,hce=1032,$E=1033,Zy=33776,Qy=33777,Jy=33778,e_=33779,MS=35840,OS=35841,LS=35842,PS=35843,NS=36196,IS=37492,DS=37496,FS=37808,BS=37809,US=37810,kS=37811,zS=37812,$S=37813,HS=37814,GS=37815,VS=37816,WS=37817,jS=37818,XS=37819,qS=37820,YS=37821,t_=36492,KS=36494,ZS=36495,HM=36283,QS=36284,JS=36285,eE=36286,tk=2200,nk=2201,ik=2202,x_=2300,tE=2301,I1=2302,ig=2400,rg=2401,S_=2402,HE=2500,GM=2501,dce=0,fce=1,pce=2,rk=3200,sk=3201,mce=3202,gce=3203,Gp=0,ok=1,uf="",Na="srgb",Ch="srgb-linear",E_="linear",Es="srgb",vce=0,Wm=7680,yce=7681,_ce=7682,bce=7683,xce=34055,Sce=34056,Ece=5386,wce=512,Cce=513,Tce=514,Ace=515,Rce=516,Mce=517,Oce=518,wR=519,ak=512,lk=513,ck=514,VM=515,uk=516,hk=517,dk=518,fk=519,w_=35044,Lce=35048,Pce=35040,Nce=35045,Ice=35049,Dce=35041,Fce=35046,Bce=35050,Uce=35042,kce="100",CR="300 es",ku=2e3,C_=2001,zce={COMPUTE:"compute",RENDER:"render"},$ce={PERSPECTIVE:"perspective",LINEAR:"linear",FLAT:"flat"},Hce={NORMAL:"normal",CENTROID:"centroid",SAMPLE:"sample",FIRST:"first",EITHER:"either"};let vd=class{addEventListener(e,t){this._listeners===void 0&&(this._listeners={});const i=this._listeners;i[e]===void 0&&(i[e]=[]),i[e].indexOf(t)===-1&&i[e].push(t)}hasEventListener(e,t){const i=this._listeners;return i===void 0?!1:i[e]!==void 0&&i[e].indexOf(t)!==-1}removeEventListener(e,t){const i=this._listeners;if(i===void 0)return;const r=i[e];if(r!==void 0){const s=r.indexOf(t);s!==-1&&r.splice(s,1)}}dispatchEvent(e){const t=this._listeners;if(t===void 0)return;const i=t[e.type];if(i!==void 0){e.target=this;const r=i.slice(0);for(let s=0,o=r.length;s<o;s++)r[s].call(this,e);e.target=null}}};const Al=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let TN=1234567;const dg=Math.PI/180,m0=180/Math.PI;function nu(){const n=Math.random()*4294967295|0,e=Math.random()*4294967295|0,t=Math.random()*4294967295|0,i=Math.random()*4294967295|0;return(Al[n&255]+Al[n>>8&255]+Al[n>>16&255]+Al[n>>24&255]+"-"+Al[e&255]+Al[e>>8&255]+"-"+Al[e>>16&15|64]+Al[e>>24&255]+"-"+Al[t&63|128]+Al[t>>8&255]+"-"+Al[t>>16&255]+Al[t>>24&255]+Al[i&255]+Al[i>>8&255]+Al[i>>16&255]+Al[i>>24&255]).toLowerCase()}function ir(n,e,t){return Math.max(e,Math.min(t,n))}function WM(n,e){return(n%e+e)%e}function Gce(n,e,t,i,r){return i+(n-e)*(r-i)/(t-e)}function Vce(n,e,t){return n!==e?(t-n)/(e-n):0}function n_(n,e,t){return(1-t)*n+t*e}function Wce(n,e,t,i){return n_(n,e,1-Math.exp(-t*i))}function jce(n,e=1){return e-Math.abs(WM(n,e*2)-e)}function Xce(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*(3-2*n))}function qce(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*n*(n*(n*6-15)+10))}function Yce(n,e){return n+Math.floor(Math.random()*(e-n+1))}function Kce(n,e){return n+Math.random()*(e-n)}function Zce(n){return n*(.5-Math.random())}function Qce(n){n!==void 0&&(TN=n);let e=TN+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function Jce(n){return n*dg}function eue(n){return n*m0}function tue(n){return(n&n-1)===0&&n!==0}function nue(n){return Math.pow(2,Math.ceil(Math.log(n)/Math.LN2))}function iue(n){return Math.pow(2,Math.floor(Math.log(n)/Math.LN2))}function rue(n,e,t,i,r){const s=Math.cos,o=Math.sin,l=s(t/2),a=o(t/2),u=s((e+i)/2),m=o((e+i)/2),d=s((e-i)/2),b=o((e-i)/2),g=s((i-e)/2),_=o((i-e)/2);switch(r){case"XYX":n.set(l*m,a*d,a*b,l*u);break;case"YZY":n.set(a*b,l*m,a*d,l*u);break;case"ZXZ":n.set(a*d,a*b,l*m,l*u);break;case"XZX":n.set(l*m,a*_,a*g,l*u);break;case"YXY":n.set(a*g,l*m,a*_,l*u);break;case"ZYZ":n.set(a*_,a*g,l*m,l*u);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+r)}}function lc(n,e){switch(e.constructor){case Float32Array:return n;case Uint32Array:return n/4294967295;case Uint16Array:return n/65535;case Uint8Array:return n/255;case Int32Array:return Math.max(n/2147483647,-1);case Int16Array:return Math.max(n/32767,-1);case Int8Array:return Math.max(n/127,-1);default:throw new Error("Invalid component type.")}}function ur(n,e){switch(e.constructor){case Float32Array:return n;case Uint32Array:return Math.round(n*4294967295);case Uint16Array:return Math.round(n*65535);case Uint8Array:return Math.round(n*255);case Int32Array:return Math.round(n*2147483647);case Int16Array:return Math.round(n*32767);case Int8Array:return Math.round(n*127);default:throw new Error("Invalid component type.")}}const pk={DEG2RAD:dg,RAD2DEG:m0,generateUUID:nu,clamp:ir,euclideanModulo:WM,mapLinear:Gce,inverseLerp:Vce,lerp:n_,damp:Wce,pingpong:jce,smoothstep:Xce,smootherstep:qce,randInt:Yce,randFloat:Kce,randFloatSpread:Zce,seededRandom:Qce,degToRad:Jce,radToDeg:eue,isPowerOfTwo:tue,ceilPowerOfTwo:nue,floorPowerOfTwo:iue,setQuaternionFromProperEuler:rue,normalize:ur,denormalize:lc};class rn{constructor(e=0,t=0){rn.prototype.isVector2=!0,this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const t=this.x,i=this.y,r=e.elements;return this.x=r[0]*t+r[3]*i+r[6],this.y=r[1]*t+r[4]*i+r[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=ir(this.x,e.x,t.x),this.y=ir(this.y,e.y,t.y),this}clampScalar(e,t){return this.x=ir(this.x,e,t),this.y=ir(this.y,e,t),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(ir(i,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const i=this.dot(e)/t;return Math.acos(ir(i,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,i=this.y-e.y;return t*t+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){const i=Math.cos(t),r=Math.sin(t),s=this.x-e.x,o=this.y-e.y;return this.x=s*i-o*r+e.x,this.y=s*r+o*i+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class Pl{constructor(e=0,t=0,i=0,r=1){this.isQuaternion=!0,this._x=e,this._y=t,this._z=i,this._w=r}static slerpFlat(e,t,i,r,s,o,l){let a=i[r+0],u=i[r+1],m=i[r+2],d=i[r+3];const b=s[o+0],g=s[o+1],_=s[o+2],p=s[o+3];if(l===0){e[t+0]=a,e[t+1]=u,e[t+2]=m,e[t+3]=d;return}if(l===1){e[t+0]=b,e[t+1]=g,e[t+2]=_,e[t+3]=p;return}if(d!==p||a!==b||u!==g||m!==_){let v=1-l;const c=a*b+u*g+m*_+d*p,x=c>=0?1:-1,w=1-c*c;if(w>Number.EPSILON){const L=Math.sqrt(w),P=Math.atan2(L,c*x);v=Math.sin(v*P)/L,l=Math.sin(l*P)/L}const T=l*x;if(a=a*v+b*T,u=u*v+g*T,m=m*v+_*T,d=d*v+p*T,v===1-l){const L=1/Math.sqrt(a*a+u*u+m*m+d*d);a*=L,u*=L,m*=L,d*=L}}e[t]=a,e[t+1]=u,e[t+2]=m,e[t+3]=d}static multiplyQuaternionsFlat(e,t,i,r,s,o){const l=i[r],a=i[r+1],u=i[r+2],m=i[r+3],d=s[o],b=s[o+1],g=s[o+2],_=s[o+3];return e[t]=l*_+m*d+a*g-u*b,e[t+1]=a*_+m*b+u*d-l*g,e[t+2]=u*_+m*g+l*b-a*d,e[t+3]=m*_-l*d-a*b-u*g,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,i,r){return this._x=e,this._y=t,this._z=i,this._w=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,t=!0){const i=e._x,r=e._y,s=e._z,o=e._order,l=Math.cos,a=Math.sin,u=l(i/2),m=l(r/2),d=l(s/2),b=a(i/2),g=a(r/2),_=a(s/2);switch(o){case"XYZ":this._x=b*m*d+u*g*_,this._y=u*g*d-b*m*_,this._z=u*m*_+b*g*d,this._w=u*m*d-b*g*_;break;case"YXZ":this._x=b*m*d+u*g*_,this._y=u*g*d-b*m*_,this._z=u*m*_-b*g*d,this._w=u*m*d+b*g*_;break;case"ZXY":this._x=b*m*d-u*g*_,this._y=u*g*d+b*m*_,this._z=u*m*_+b*g*d,this._w=u*m*d-b*g*_;break;case"ZYX":this._x=b*m*d-u*g*_,this._y=u*g*d+b*m*_,this._z=u*m*_-b*g*d,this._w=u*m*d+b*g*_;break;case"YZX":this._x=b*m*d+u*g*_,this._y=u*g*d+b*m*_,this._z=u*m*_-b*g*d,this._w=u*m*d-b*g*_;break;case"XZY":this._x=b*m*d-u*g*_,this._y=u*g*d-b*m*_,this._z=u*m*_+b*g*d,this._w=u*m*d+b*g*_;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+o)}return t===!0&&this._onChangeCallback(),this}setFromAxisAngle(e,t){const i=t/2,r=Math.sin(i);return this._x=e.x*r,this._y=e.y*r,this._z=e.z*r,this._w=Math.cos(i),this._onChangeCallback(),this}setFromRotationMatrix(e){const t=e.elements,i=t[0],r=t[4],s=t[8],o=t[1],l=t[5],a=t[9],u=t[2],m=t[6],d=t[10],b=i+l+d;if(b>0){const g=.5/Math.sqrt(b+1);this._w=.25/g,this._x=(m-a)*g,this._y=(s-u)*g,this._z=(o-r)*g}else if(i>l&&i>d){const g=2*Math.sqrt(1+i-l-d);this._w=(m-a)/g,this._x=.25*g,this._y=(r+o)/g,this._z=(s+u)/g}else if(l>d){const g=2*Math.sqrt(1+l-i-d);this._w=(s-u)/g,this._x=(r+o)/g,this._y=.25*g,this._z=(a+m)/g}else{const g=2*Math.sqrt(1+d-i-l);this._w=(o-r)/g,this._x=(s+u)/g,this._y=(a+m)/g,this._z=.25*g}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let i=e.dot(t)+1;return i<1e-8?(i=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=i):(this._x=0,this._y=-e.z,this._z=e.y,this._w=i)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=i),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(ir(this.dot(e),-1,1)))}rotateTowards(e,t){const i=this.angleTo(e);if(i===0)return this;const r=Math.min(1,t/i);return this.slerp(e,r),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){const i=e._x,r=e._y,s=e._z,o=e._w,l=t._x,a=t._y,u=t._z,m=t._w;return this._x=i*m+o*l+r*u-s*a,this._y=r*m+o*a+s*l-i*u,this._z=s*m+o*u+i*a-r*l,this._w=o*m-i*l-r*a-s*u,this._onChangeCallback(),this}slerp(e,t){if(t===0)return this;if(t===1)return this.copy(e);const i=this._x,r=this._y,s=this._z,o=this._w;let l=o*e._w+i*e._x+r*e._y+s*e._z;if(l<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,l=-l):this.copy(e),l>=1)return this._w=o,this._x=i,this._y=r,this._z=s,this;const a=1-l*l;if(a<=Number.EPSILON){const g=1-t;return this._w=g*o+t*this._w,this._x=g*i+t*this._x,this._y=g*r+t*this._y,this._z=g*s+t*this._z,this.normalize(),this}const u=Math.sqrt(a),m=Math.atan2(u,l),d=Math.sin((1-t)*m)/u,b=Math.sin(t*m)/u;return this._w=o*d+this._w*b,this._x=i*d+this._x*b,this._y=r*d+this._y*b,this._z=s*d+this._z*b,this._onChangeCallback(),this}slerpQuaternions(e,t,i){return this.copy(e).slerp(t,i)}random(){const e=2*Math.PI*Math.random(),t=2*Math.PI*Math.random(),i=Math.random(),r=Math.sqrt(1-i),s=Math.sqrt(i);return this.set(r*Math.sin(e),r*Math.cos(e),s*Math.sin(t),s*Math.cos(t))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,t=0){return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class De{constructor(e=0,t=0,i=0){De.prototype.isVector3=!0,this.x=e,this.y=t,this.z=i}set(e,t,i){return i===void 0&&(i=this.z),this.x=e,this.y=t,this.z=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return this.applyQuaternion(AN.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion(AN.setFromAxisAngle(e,t))}applyMatrix3(e){const t=this.x,i=this.y,r=this.z,s=e.elements;return this.x=s[0]*t+s[3]*i+s[6]*r,this.y=s[1]*t+s[4]*i+s[7]*r,this.z=s[2]*t+s[5]*i+s[8]*r,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const t=this.x,i=this.y,r=this.z,s=e.elements,o=1/(s[3]*t+s[7]*i+s[11]*r+s[15]);return this.x=(s[0]*t+s[4]*i+s[8]*r+s[12])*o,this.y=(s[1]*t+s[5]*i+s[9]*r+s[13])*o,this.z=(s[2]*t+s[6]*i+s[10]*r+s[14])*o,this}applyQuaternion(e){const t=this.x,i=this.y,r=this.z,s=e.x,o=e.y,l=e.z,a=e.w,u=2*(o*r-l*i),m=2*(l*t-s*r),d=2*(s*i-o*t);return this.x=t+a*u+o*d-l*m,this.y=i+a*m+l*u-s*d,this.z=r+a*d+s*m-o*u,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const t=this.x,i=this.y,r=this.z,s=e.elements;return this.x=s[0]*t+s[4]*i+s[8]*r,this.y=s[1]*t+s[5]*i+s[9]*r,this.z=s[2]*t+s[6]*i+s[10]*r,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=ir(this.x,e.x,t.x),this.y=ir(this.y,e.y,t.y),this.z=ir(this.z,e.z,t.z),this}clampScalar(e,t){return this.x=ir(this.x,e,t),this.y=ir(this.y,e,t),this.z=ir(this.z,e,t),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(ir(i,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this.z=e.z+(t.z-e.z)*i,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,t){const i=e.x,r=e.y,s=e.z,o=t.x,l=t.y,a=t.z;return this.x=r*a-s*l,this.y=s*o-i*a,this.z=i*l-r*o,this}projectOnVector(e){const t=e.lengthSq();if(t===0)return this.set(0,0,0);const i=e.dot(this)/t;return this.copy(e).multiplyScalar(i)}projectOnPlane(e){return oT.copy(this).projectOnVector(e),this.sub(oT)}reflect(e){return this.sub(oT.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const i=this.dot(e)/t;return Math.acos(ir(i,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,i=this.y-e.y,r=this.z-e.z;return t*t+i*i+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,i){const r=Math.sin(t)*e;return this.x=r*Math.sin(i),this.y=Math.cos(t)*e,this.z=r*Math.cos(i),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,i){return this.x=e*Math.sin(t),this.y=i,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){const t=this.setFromMatrixColumn(e,0).length(),i=this.setFromMatrixColumn(e,1).length(),r=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=i,this.z=r,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,t*4)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,t*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=Math.random()*Math.PI*2,t=Math.random()*2-1,i=Math.sqrt(1-t*t);return this.x=i*Math.cos(e),this.y=t,this.z=i*Math.sin(e),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const oT=new De,AN=new Pl;class ar{constructor(e,t,i,r,s,o,l,a,u){ar.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],e!==void 0&&this.set(e,t,i,r,s,o,l,a,u)}set(e,t,i,r,s,o,l,a,u){const m=this.elements;return m[0]=e,m[1]=r,m[2]=l,m[3]=t,m[4]=s,m[5]=a,m[6]=i,m[7]=o,m[8]=u,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const t=this.elements,i=e.elements;return t[0]=i[0],t[1]=i[1],t[2]=i[2],t[3]=i[3],t[4]=i[4],t[5]=i[5],t[6]=i[6],t[7]=i[7],t[8]=i[8],this}extractBasis(e,t,i){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),i.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const i=e.elements,r=t.elements,s=this.elements,o=i[0],l=i[3],a=i[6],u=i[1],m=i[4],d=i[7],b=i[2],g=i[5],_=i[8],p=r[0],v=r[3],c=r[6],x=r[1],w=r[4],T=r[7],L=r[2],P=r[5],C=r[8];return s[0]=o*p+l*x+a*L,s[3]=o*v+l*w+a*P,s[6]=o*c+l*T+a*C,s[1]=u*p+m*x+d*L,s[4]=u*v+m*w+d*P,s[7]=u*c+m*T+d*C,s[2]=b*p+g*x+_*L,s[5]=b*v+g*w+_*P,s[8]=b*c+g*T+_*C,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){const e=this.elements,t=e[0],i=e[1],r=e[2],s=e[3],o=e[4],l=e[5],a=e[6],u=e[7],m=e[8];return t*o*m-t*l*u-i*s*m+i*l*a+r*s*u-r*o*a}invert(){const e=this.elements,t=e[0],i=e[1],r=e[2],s=e[3],o=e[4],l=e[5],a=e[6],u=e[7],m=e[8],d=m*o-l*u,b=l*a-m*s,g=u*s-o*a,_=t*d+i*b+r*g;if(_===0)return this.set(0,0,0,0,0,0,0,0,0);const p=1/_;return e[0]=d*p,e[1]=(r*u-m*i)*p,e[2]=(l*i-r*o)*p,e[3]=b*p,e[4]=(m*t-r*a)*p,e[5]=(r*s-l*t)*p,e[6]=g*p,e[7]=(i*a-u*t)*p,e[8]=(o*t-i*s)*p,this}transpose(){let e;const t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,i,r,s,o,l){const a=Math.cos(s),u=Math.sin(s);return this.set(i*a,i*u,-i*(a*o+u*l)+o+e,-r*u,r*a,-r*(-u*o+a*l)+l+t,0,0,1),this}scale(e,t){return this.premultiply(aT.makeScale(e,t)),this}rotate(e){return this.premultiply(aT.makeRotation(-e)),this}translate(e,t){return this.premultiply(aT.makeTranslation(e,t)),this}makeTranslation(e,t){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,t,0,0,1),this}makeRotation(e){const t=Math.cos(e),i=Math.sin(e);return this.set(t,-i,0,i,t,0,0,0,1),this}makeScale(e,t){return this.set(e,0,0,0,t,0,0,0,1),this}equals(e){const t=this.elements,i=e.elements;for(let r=0;r<9;r++)if(t[r]!==i[r])return!1;return!0}fromArray(e,t=0){for(let i=0;i<9;i++)this.elements[i]=e[i+t];return this}toArray(e=[],t=0){const i=this.elements;return e[t]=i[0],e[t+1]=i[1],e[t+2]=i[2],e[t+3]=i[3],e[t+4]=i[4],e[t+5]=i[5],e[t+6]=i[6],e[t+7]=i[7],e[t+8]=i[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const aT=new ar;function mk(n){for(let e=n.length-1;e>=0;--e)if(n[e]>=65535)return!0;return!1}const sue={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function Vv(n,e){return new sue[n](e)}function T_(n){return document.createElementNS("http://www.w3.org/1999/xhtml",n)}function gk(){const n=T_("canvas");return n.style.display="block",n}const RN={};function e0(n){n in RN||(RN[n]=!0,console.warn(n))}function oue(n,e,t){return new Promise(function(i,r){function s(){switch(n.clientWaitSync(e,n.SYNC_FLUSH_COMMANDS_BIT,0)){case n.WAIT_FAILED:r();break;case n.TIMEOUT_EXPIRED:setTimeout(s,t);break;default:i()}}setTimeout(s,t)})}function aue(n){const e=n.elements;e[2]=.5*e[2]+.5*e[3],e[6]=.5*e[6]+.5*e[7],e[10]=.5*e[10]+.5*e[11],e[14]=.5*e[14]+.5*e[15]}function lue(n){const e=n.elements;e[11]===-1?(e[10]=-e[10]-1,e[14]=-e[14]):(e[10]=-e[10],e[14]=-e[14]+1)}const MN=new ar().set(.4123908,.3575843,.1804808,.212639,.7151687,.0721923,.0193308,.1191948,.9505322),ON=new ar().set(3.2409699,-1.5373832,-.4986108,-.9692436,1.8759675,.0415551,.0556301,-.203977,1.0569715);function cue(){const n={enabled:!0,workingColorSpace:Ch,spaces:{},convert:function(r,s,o){return this.enabled===!1||s===o||!s||!o||(this.spaces[s].transfer===Es&&(r.r=_f(r.r),r.g=_f(r.g),r.b=_f(r.b)),this.spaces[s].primaries!==this.spaces[o].primaries&&(r.applyMatrix3(this.spaces[s].toXYZ),r.applyMatrix3(this.spaces[o].fromXYZ)),this.spaces[o].transfer===Es&&(r.r=t0(r.r),r.g=t0(r.g),r.b=t0(r.b))),r},workingToColorSpace:function(r,s){return this.convert(r,this.workingColorSpace,s)},colorSpaceToWorking:function(r,s){return this.convert(r,s,this.workingColorSpace)},getPrimaries:function(r){return this.spaces[r].primaries},getTransfer:function(r){return r===uf?E_:this.spaces[r].transfer},getLuminanceCoefficients:function(r,s=this.workingColorSpace){return r.fromArray(this.spaces[s].luminanceCoefficients)},define:function(r){Object.assign(this.spaces,r)},_getMatrix:function(r,s,o){return r.copy(this.spaces[s].toXYZ).multiply(this.spaces[o].fromXYZ)},_getDrawingBufferColorSpace:function(r){return this.spaces[r].outputColorSpaceConfig.drawingBufferColorSpace},_getUnpackColorSpace:function(r=this.workingColorSpace){return this.spaces[r].workingColorSpaceConfig.unpackColorSpace},fromWorkingColorSpace:function(r,s){return e0("THREE.ColorManagement: .fromWorkingColorSpace() has been renamed to .workingToColorSpace()."),n.workingToColorSpace(r,s)},toWorkingColorSpace:function(r,s){return e0("THREE.ColorManagement: .toWorkingColorSpace() has been renamed to .colorSpaceToWorking()."),n.colorSpaceToWorking(r,s)}},e=[.64,.33,.3,.6,.15,.06],t=[.2126,.7152,.0722],i=[.3127,.329];return n.define({[Ch]:{primaries:e,whitePoint:i,transfer:E_,toXYZ:MN,fromXYZ:ON,luminanceCoefficients:t,workingColorSpaceConfig:{unpackColorSpace:Na},outputColorSpaceConfig:{drawingBufferColorSpace:Na}},[Na]:{primaries:e,whitePoint:i,transfer:Es,toXYZ:MN,fromXYZ:ON,luminanceCoefficients:t,outputColorSpaceConfig:{drawingBufferColorSpace:Na}}}),n}const $r=cue();function _f(n){return n<.04045?n*.0773993808:Math.pow(n*.9478672986+.0521327014,2.4)}function t0(n){return n<.0031308?n*12.92:1.055*Math.pow(n,.41666)-.055}let gv;class vk{static getDataURL(e,t="image/png"){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let i;if(e instanceof HTMLCanvasElement)i=e;else{gv===void 0&&(gv=T_("canvas")),gv.width=e.width,gv.height=e.height;const r=gv.getContext("2d");e instanceof ImageData?r.putImageData(e,0,0):r.drawImage(e,0,0,e.width,e.height),i=gv}return i.toDataURL(t)}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const t=T_("canvas");t.width=e.width,t.height=e.height;const i=t.getContext("2d");i.drawImage(e,0,0,e.width,e.height);const r=i.getImageData(0,0,e.width,e.height),s=r.data;for(let o=0;o<s.length;o++)s[o]=_f(s[o]/255)*255;return i.putImageData(r,0,0),t}else if(e.data){const t=e.data.slice(0);for(let i=0;i<t.length;i++)t instanceof Uint8Array||t instanceof Uint8ClampedArray?t[i]=Math.floor(_f(t[i]/255)*255):t[i]=_f(t[i]);return{data:t,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let uue=0;class Np{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:uue++}),this.uuid=nu(),this.data=e,this.dataReady=!0,this.version=0}getSize(e){const t=this.data;return t instanceof HTMLVideoElement?e.set(t.videoWidth,t.videoHeight):t!==null?e.set(t.width,t.height,t.depth||0):e.set(0,0,0),e}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const i={uuid:this.uuid,url:""},r=this.data;if(r!==null){let s;if(Array.isArray(r)){s=[];for(let o=0,l=r.length;o<l;o++)r[o].isDataTexture?s.push(lT(r[o].image)):s.push(lT(r[o]))}else s=lT(r);i.url=s}return t||(e.images[this.uuid]=i),i}}function lT(n){return typeof HTMLImageElement<"u"&&n instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&n instanceof ImageBitmap?vk.getDataURL(n):n.data?{data:Array.from(n.data),width:n.width,height:n.height,type:n.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let hue=0;const cT=new De;class ps extends vd{constructor(e=ps.DEFAULT_IMAGE,t=ps.DEFAULT_MAPPING,i=Ea,r=Ea,s=os,o=rd,l=oa,a=fc,u=ps.DEFAULT_ANISOTROPY,m=uf){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:hue++}),this.uuid=nu(),this.name="",this.source=new Np(e),this.mipmaps=[],this.mapping=t,this.channel=0,this.wrapS=i,this.wrapT=r,this.magFilter=s,this.minFilter=o,this.anisotropy=u,this.format=l,this.internalFormat=null,this.type=a,this.offset=new rn(0,0),this.repeat=new rn(1,1),this.center=new rn(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new ar,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.colorSpace=m,this.userData={},this.updateRanges=[],this.version=0,this.onUpdate=null,this.renderTarget=null,this.isRenderTargetTexture=!1,this.isArrayTexture=!!(e&&e.depth&&e.depth>1),this.pmremVersion=0}get width(){return this.source.getSize(cT).x}get height(){return this.source.getSize(cT).y}get depth(){return this.source.getSize(cT).z}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.renderTarget=e.renderTarget,this.isRenderTargetTexture=e.isRenderTargetTexture,this.isArrayTexture=e.isArrayTexture,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}setValues(e){for(const t in e){const i=e[t];if(i===void 0){console.warn(`THREE.Texture.setValues(): parameter '${t}' has value of undefined.`);continue}const r=this[t];if(r===void 0){console.warn(`THREE.Texture.setValues(): property '${t}' does not exist.`);continue}r&&i&&r.isVector2&&i.isVector2||r&&i&&r.isVector3&&i.isVector3||r&&i&&r.isMatrix3&&i.isMatrix3?r.copy(i):this[t]=i}}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const i={metadata:{version:4.7,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(i.userData=this.userData),t||(e.textures[this.uuid]=i),i}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==zp)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case __:e.x=e.x-Math.floor(e.x);break;case Ea:e.x=e.x<0?0:1;break;case b_:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case __:e.y=e.y-Math.floor(e.y);break;case Ea:e.y=e.y<0?0:1;break;case b_:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}set needsPMREMUpdate(e){e===!0&&this.pmremVersion++}}ps.DEFAULT_IMAGE=null;ps.DEFAULT_MAPPING=zp;ps.DEFAULT_ANISOTROPY=1;class Kr{constructor(e=0,t=0,i=0,r=1){Kr.prototype.isVector4=!0,this.x=e,this.y=t,this.z=i,this.w=r}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,i,r){return this.x=e,this.y=t,this.z=i,this.w=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const t=this.x,i=this.y,r=this.z,s=this.w,o=e.elements;return this.x=o[0]*t+o[4]*i+o[8]*r+o[12]*s,this.y=o[1]*t+o[5]*i+o[9]*r+o[13]*s,this.z=o[2]*t+o[6]*i+o[10]*r+o[14]*s,this.w=o[3]*t+o[7]*i+o[11]*r+o[15]*s,this}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this.w/=e.w,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,i,r,s;const a=e.elements,u=a[0],m=a[4],d=a[8],b=a[1],g=a[5],_=a[9],p=a[2],v=a[6],c=a[10];if(Math.abs(m-b)<.01&&Math.abs(d-p)<.01&&Math.abs(_-v)<.01){if(Math.abs(m+b)<.1&&Math.abs(d+p)<.1&&Math.abs(_+v)<.1&&Math.abs(u+g+c-3)<.1)return this.set(1,0,0,0),this;t=Math.PI;const w=(u+1)/2,T=(g+1)/2,L=(c+1)/2,P=(m+b)/4,C=(d+p)/4,I=(_+v)/4;return w>T&&w>L?w<.01?(i=0,r=.707106781,s=.707106781):(i=Math.sqrt(w),r=P/i,s=C/i):T>L?T<.01?(i=.707106781,r=0,s=.707106781):(r=Math.sqrt(T),i=P/r,s=I/r):L<.01?(i=.707106781,r=.707106781,s=0):(s=Math.sqrt(L),i=C/s,r=I/s),this.set(i,r,s,t),this}let x=Math.sqrt((v-_)*(v-_)+(d-p)*(d-p)+(b-m)*(b-m));return Math.abs(x)<.001&&(x=1),this.x=(v-_)/x,this.y=(d-p)/x,this.z=(b-m)/x,this.w=Math.acos((u+g+c-1)/2),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this.w=t[15],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=ir(this.x,e.x,t.x),this.y=ir(this.y,e.y,t.y),this.z=ir(this.z,e.z,t.z),this.w=ir(this.w,e.w,t.w),this}clampScalar(e,t){return this.x=ir(this.x,e,t),this.y=ir(this.y,e,t),this.z=ir(this.z,e,t),this.w=ir(this.w,e,t),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(ir(i,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this.z=e.z+(t.z-e.z)*i,this.w=e.w+(t.w-e.w)*i,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class jM extends vd{constructor(e=1,t=1,i={}){super(),i=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:os,depthBuffer:!0,stencilBuffer:!1,resolveDepthBuffer:!0,resolveStencilBuffer:!0,depthTexture:null,samples:0,count:1,depth:1,multiview:!1},i),this.isRenderTarget=!0,this.width=e,this.height=t,this.depth=i.depth,this.scissor=new Kr(0,0,e,t),this.scissorTest=!1,this.viewport=new Kr(0,0,e,t);const r={width:e,height:t,depth:i.depth},s=new ps(r);this.textures=[];const o=i.count;for(let l=0;l<o;l++)this.textures[l]=s.clone(),this.textures[l].isRenderTargetTexture=!0,this.textures[l].renderTarget=this;this._setTextureOptions(i),this.depthBuffer=i.depthBuffer,this.stencilBuffer=i.stencilBuffer,this.resolveDepthBuffer=i.resolveDepthBuffer,this.resolveStencilBuffer=i.resolveStencilBuffer,this._depthTexture=null,this.depthTexture=i.depthTexture,this.samples=i.samples,this.multiview=i.multiview}_setTextureOptions(e={}){const t={minFilter:os,generateMipmaps:!1,flipY:!1,internalFormat:null};e.mapping!==void 0&&(t.mapping=e.mapping),e.wrapS!==void 0&&(t.wrapS=e.wrapS),e.wrapT!==void 0&&(t.wrapT=e.wrapT),e.wrapR!==void 0&&(t.wrapR=e.wrapR),e.magFilter!==void 0&&(t.magFilter=e.magFilter),e.minFilter!==void 0&&(t.minFilter=e.minFilter),e.format!==void 0&&(t.format=e.format),e.type!==void 0&&(t.type=e.type),e.anisotropy!==void 0&&(t.anisotropy=e.anisotropy),e.colorSpace!==void 0&&(t.colorSpace=e.colorSpace),e.flipY!==void 0&&(t.flipY=e.flipY),e.generateMipmaps!==void 0&&(t.generateMipmaps=e.generateMipmaps),e.internalFormat!==void 0&&(t.internalFormat=e.internalFormat);for(let i=0;i<this.textures.length;i++)this.textures[i].setValues(t)}get texture(){return this.textures[0]}set texture(e){this.textures[0]=e}set depthTexture(e){this._depthTexture!==null&&(this._depthTexture.renderTarget=null),e!==null&&(e.renderTarget=this),this._depthTexture=e}get depthTexture(){return this._depthTexture}setSize(e,t,i=1){if(this.width!==e||this.height!==t||this.depth!==i){this.width=e,this.height=t,this.depth=i;for(let r=0,s=this.textures.length;r<s;r++)this.textures[r].image.width=e,this.textures[r].image.height=t,this.textures[r].image.depth=i,this.textures[r].isArrayTexture=this.textures[r].image.depth>1;this.dispose()}this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.textures.length=0;for(let t=0,i=e.textures.length;t<i;t++){this.textures[t]=e.textures[t].clone(),this.textures[t].isRenderTargetTexture=!0,this.textures[t].renderTarget=this;const r=Object.assign({},e.textures[t].image);this.textures[t].source=new Np(r)}return this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.resolveDepthBuffer=e.resolveDepthBuffer,this.resolveStencilBuffer=e.resolveStencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class ru extends jM{constructor(e=1,t=1,i={}){super(e,t,i),this.isWebGLRenderTarget=!0}}class GE extends ps{constructor(e=null,t=1,i=1,r=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:t,height:i,depth:r},this.magFilter=ml,this.minFilter=ml,this.wrapR=Ea,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class due extends ru{constructor(e=1,t=1,i=1,r={}){super(e,t,r),this.isWebGLArrayRenderTarget=!0,this.depth=i,this.texture=new GE(null,e,t,i),this._setTextureOptions(r),this.texture.isRenderTargetTexture=!0}}class VE extends ps{constructor(e=null,t=1,i=1,r=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:t,height:i,depth:r},this.magFilter=ml,this.minFilter=ml,this.wrapR=Ea,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class fue extends ru{constructor(e=1,t=1,i=1,r={}){super(e,t,r),this.isWebGL3DRenderTarget=!0,this.depth=i,this.texture=new VE(null,e,t,i),this._setTextureOptions(r),this.texture.isRenderTargetTexture=!0}}class Nl{constructor(e=new De(1/0,1/0,1/0),t=new De(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){this.makeEmpty();for(let t=0,i=e.length;t<i;t+=3)this.expandByPoint(oh.fromArray(e,t));return this}setFromBufferAttribute(e){this.makeEmpty();for(let t=0,i=e.count;t<i;t++)this.expandByPoint(oh.fromBufferAttribute(e,t));return this}setFromPoints(e){this.makeEmpty();for(let t=0,i=e.length;t<i;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const i=oh.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(i),this.max.copy(e).add(i),this}setFromObject(e,t=!1){return this.makeEmpty(),this.expandByObject(e,t)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,t=!1){e.updateWorldMatrix(!1,!1);const i=e.geometry;if(i!==void 0){const s=i.getAttribute("position");if(t===!0&&s!==void 0&&e.isInstancedMesh!==!0)for(let o=0,l=s.count;o<l;o++)e.isMesh===!0?e.getVertexPosition(o,oh):oh.fromBufferAttribute(s,o),oh.applyMatrix4(e.matrixWorld),this.expandByPoint(oh);else e.boundingBox!==void 0?(e.boundingBox===null&&e.computeBoundingBox(),Rx.copy(e.boundingBox)):(i.boundingBox===null&&i.computeBoundingBox(),Rx.copy(i.boundingBox)),Rx.applyMatrix4(e.matrixWorld),this.union(Rx)}const r=e.children;for(let s=0,o=r.length;s<o;s++)this.expandByObject(r[s],t);return this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y&&e.z>=this.min.z&&e.z<=this.max.z}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y&&e.max.z>=this.min.z&&e.min.z<=this.max.z}intersectsSphere(e){return this.clampPoint(e.center,oh),oh.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,i;return e.normal.x>0?(t=e.normal.x*this.min.x,i=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,i=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,i+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,i+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,i+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,i+=e.normal.z*this.min.z),t<=-e.constant&&i>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(by),Mx.subVectors(this.max,by),vv.subVectors(e.a,by),yv.subVectors(e.b,by),_v.subVectors(e.c,by),mp.subVectors(yv,vv),gp.subVectors(_v,yv),Am.subVectors(vv,_v);let t=[0,-mp.z,mp.y,0,-gp.z,gp.y,0,-Am.z,Am.y,mp.z,0,-mp.x,gp.z,0,-gp.x,Am.z,0,-Am.x,-mp.y,mp.x,0,-gp.y,gp.x,0,-Am.y,Am.x,0];return!uT(t,vv,yv,_v,Mx)||(t=[1,0,0,0,1,0,0,0,1],!uT(t,vv,yv,_v,Mx))?!1:(Ox.crossVectors(mp,gp),t=[Ox.x,Ox.y,Ox.z],uT(t,vv,yv,_v,Mx))}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,oh).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(oh).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(Kd[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),Kd[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),Kd[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),Kd[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),Kd[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),Kd[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),Kd[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),Kd[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(Kd),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}toJSON(){return{min:this.min.toArray(),max:this.max.toArray()}}fromJSON(e){return this.min.fromArray(e.min),this.max.fromArray(e.max),this}}const Kd=[new De,new De,new De,new De,new De,new De,new De,new De],oh=new De,Rx=new Nl,vv=new De,yv=new De,_v=new De,mp=new De,gp=new De,Am=new De,by=new De,Mx=new De,Ox=new De,Rm=new De;function uT(n,e,t,i,r){for(let s=0,o=n.length-3;s<=o;s+=3){Rm.fromArray(n,s);const l=r.x*Math.abs(Rm.x)+r.y*Math.abs(Rm.y)+r.z*Math.abs(Rm.z),a=e.dot(Rm),u=t.dot(Rm),m=i.dot(Rm);if(Math.max(-Math.max(a,u,m),Math.min(a,u,m))>l)return!1}return!0}const pue=new Nl,xy=new De,hT=new De;class gl{constructor(e=new De,t=-1){this.isSphere=!0,this.center=e,this.radius=t}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(e,t){const i=this.center;t!==void 0?i.copy(t):pue.setFromPoints(e).getCenter(i);let r=0;for(let s=0,o=e.length;s<o;s++)r=Math.max(r,i.distanceToSquared(e[s]));return this.radius=Math.sqrt(r),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){const i=this.center.distanceToSquared(e);return t.copy(e),i>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;xy.subVectors(e,this.center);const t=xy.lengthSq();if(t>this.radius*this.radius){const i=Math.sqrt(t),r=(i-this.radius)*.5;this.center.addScaledVector(xy,r/i),this.radius+=r}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(hT.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(xy.copy(e.center).add(hT)),this.expandByPoint(xy.copy(e.center).sub(hT))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}toJSON(){return{radius:this.radius,center:this.center.toArray()}}fromJSON(e){return this.radius=e.radius,this.center.fromArray(e.center),this}}const Zd=new De,dT=new De,Lx=new De,vp=new De,fT=new De,Px=new De,pT=new De;class Cg{constructor(e=new De,t=new De(0,0,-1)){this.origin=e,this.direction=t}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return t.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,Zd)),this}closestPointToPoint(e,t){t.subVectors(e,this.origin);const i=t.dot(this.direction);return i<0?t.copy(this.origin):t.copy(this.origin).addScaledVector(this.direction,i)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const t=Zd.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(Zd.copy(this.origin).addScaledVector(this.direction,t),Zd.distanceToSquared(e))}distanceSqToSegment(e,t,i,r){dT.copy(e).add(t).multiplyScalar(.5),Lx.copy(t).sub(e).normalize(),vp.copy(this.origin).sub(dT);const s=e.distanceTo(t)*.5,o=-this.direction.dot(Lx),l=vp.dot(this.direction),a=-vp.dot(Lx),u=vp.lengthSq(),m=Math.abs(1-o*o);let d,b,g,_;if(m>0)if(d=o*a-l,b=o*l-a,_=s*m,d>=0)if(b>=-_)if(b<=_){const p=1/m;d*=p,b*=p,g=d*(d+o*b+2*l)+b*(o*d+b+2*a)+u}else b=s,d=Math.max(0,-(o*b+l)),g=-d*d+b*(b+2*a)+u;else b=-s,d=Math.max(0,-(o*b+l)),g=-d*d+b*(b+2*a)+u;else b<=-_?(d=Math.max(0,-(-o*s+l)),b=d>0?-s:Math.min(Math.max(-s,-a),s),g=-d*d+b*(b+2*a)+u):b<=_?(d=0,b=Math.min(Math.max(-s,-a),s),g=b*(b+2*a)+u):(d=Math.max(0,-(o*s+l)),b=d>0?s:Math.min(Math.max(-s,-a),s),g=-d*d+b*(b+2*a)+u);else b=o>0?-s:s,d=Math.max(0,-(o*b+l)),g=-d*d+b*(b+2*a)+u;return i&&i.copy(this.origin).addScaledVector(this.direction,d),r&&r.copy(dT).addScaledVector(Lx,b),g}intersectSphere(e,t){Zd.subVectors(e.center,this.origin);const i=Zd.dot(this.direction),r=Zd.dot(Zd)-i*i,s=e.radius*e.radius;if(r>s)return null;const o=Math.sqrt(s-r),l=i-o,a=i+o;return a<0?null:l<0?this.at(a,t):this.at(l,t)}intersectsSphere(e){return e.radius<0?!1:this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const t=e.normal.dot(this.direction);if(t===0)return e.distanceToPoint(this.origin)===0?0:null;const i=-(this.origin.dot(e.normal)+e.constant)/t;return i>=0?i:null}intersectPlane(e,t){const i=this.distanceToPlane(e);return i===null?null:this.at(i,t)}intersectsPlane(e){const t=e.distanceToPoint(this.origin);return t===0||e.normal.dot(this.direction)*t<0}intersectBox(e,t){let i,r,s,o,l,a;const u=1/this.direction.x,m=1/this.direction.y,d=1/this.direction.z,b=this.origin;return u>=0?(i=(e.min.x-b.x)*u,r=(e.max.x-b.x)*u):(i=(e.max.x-b.x)*u,r=(e.min.x-b.x)*u),m>=0?(s=(e.min.y-b.y)*m,o=(e.max.y-b.y)*m):(s=(e.max.y-b.y)*m,o=(e.min.y-b.y)*m),i>o||s>r||((s>i||isNaN(i))&&(i=s),(o<r||isNaN(r))&&(r=o),d>=0?(l=(e.min.z-b.z)*d,a=(e.max.z-b.z)*d):(l=(e.max.z-b.z)*d,a=(e.min.z-b.z)*d),i>a||l>r)||((l>i||i!==i)&&(i=l),(a<r||r!==r)&&(r=a),r<0)?null:this.at(i>=0?i:r,t)}intersectsBox(e){return this.intersectBox(e,Zd)!==null}intersectTriangle(e,t,i,r,s){fT.subVectors(t,e),Px.subVectors(i,e),pT.crossVectors(fT,Px);let o=this.direction.dot(pT),l;if(o>0){if(r)return null;l=1}else if(o<0)l=-1,o=-o;else return null;vp.subVectors(this.origin,e);const a=l*this.direction.dot(Px.crossVectors(vp,Px));if(a<0)return null;const u=l*this.direction.dot(fT.cross(vp));if(u<0||a+u>o)return null;const m=-l*vp.dot(pT);return m<0?null:this.at(m/o,s)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class Wi{constructor(e,t,i,r,s,o,l,a,u,m,d,b,g,_,p,v){Wi.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e!==void 0&&this.set(e,t,i,r,s,o,l,a,u,m,d,b,g,_,p,v)}set(e,t,i,r,s,o,l,a,u,m,d,b,g,_,p,v){const c=this.elements;return c[0]=e,c[4]=t,c[8]=i,c[12]=r,c[1]=s,c[5]=o,c[9]=l,c[13]=a,c[2]=u,c[6]=m,c[10]=d,c[14]=b,c[3]=g,c[7]=_,c[11]=p,c[15]=v,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new Wi().fromArray(this.elements)}copy(e){const t=this.elements,i=e.elements;return t[0]=i[0],t[1]=i[1],t[2]=i[2],t[3]=i[3],t[4]=i[4],t[5]=i[5],t[6]=i[6],t[7]=i[7],t[8]=i[8],t[9]=i[9],t[10]=i[10],t[11]=i[11],t[12]=i[12],t[13]=i[13],t[14]=i[14],t[15]=i[15],this}copyPosition(e){const t=this.elements,i=e.elements;return t[12]=i[12],t[13]=i[13],t[14]=i[14],this}setFromMatrix3(e){const t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,i){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),i.setFromMatrixColumn(this,2),this}makeBasis(e,t,i){return this.set(e.x,t.x,i.x,0,e.y,t.y,i.y,0,e.z,t.z,i.z,0,0,0,0,1),this}extractRotation(e){const t=this.elements,i=e.elements,r=1/bv.setFromMatrixColumn(e,0).length(),s=1/bv.setFromMatrixColumn(e,1).length(),o=1/bv.setFromMatrixColumn(e,2).length();return t[0]=i[0]*r,t[1]=i[1]*r,t[2]=i[2]*r,t[3]=0,t[4]=i[4]*s,t[5]=i[5]*s,t[6]=i[6]*s,t[7]=0,t[8]=i[8]*o,t[9]=i[9]*o,t[10]=i[10]*o,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){const t=this.elements,i=e.x,r=e.y,s=e.z,o=Math.cos(i),l=Math.sin(i),a=Math.cos(r),u=Math.sin(r),m=Math.cos(s),d=Math.sin(s);if(e.order==="XYZ"){const b=o*m,g=o*d,_=l*m,p=l*d;t[0]=a*m,t[4]=-a*d,t[8]=u,t[1]=g+_*u,t[5]=b-p*u,t[9]=-l*a,t[2]=p-b*u,t[6]=_+g*u,t[10]=o*a}else if(e.order==="YXZ"){const b=a*m,g=a*d,_=u*m,p=u*d;t[0]=b+p*l,t[4]=_*l-g,t[8]=o*u,t[1]=o*d,t[5]=o*m,t[9]=-l,t[2]=g*l-_,t[6]=p+b*l,t[10]=o*a}else if(e.order==="ZXY"){const b=a*m,g=a*d,_=u*m,p=u*d;t[0]=b-p*l,t[4]=-o*d,t[8]=_+g*l,t[1]=g+_*l,t[5]=o*m,t[9]=p-b*l,t[2]=-o*u,t[6]=l,t[10]=o*a}else if(e.order==="ZYX"){const b=o*m,g=o*d,_=l*m,p=l*d;t[0]=a*m,t[4]=_*u-g,t[8]=b*u+p,t[1]=a*d,t[5]=p*u+b,t[9]=g*u-_,t[2]=-u,t[6]=l*a,t[10]=o*a}else if(e.order==="YZX"){const b=o*a,g=o*u,_=l*a,p=l*u;t[0]=a*m,t[4]=p-b*d,t[8]=_*d+g,t[1]=d,t[5]=o*m,t[9]=-l*m,t[2]=-u*m,t[6]=g*d+_,t[10]=b-p*d}else if(e.order==="XZY"){const b=o*a,g=o*u,_=l*a,p=l*u;t[0]=a*m,t[4]=-d,t[8]=u*m,t[1]=b*d+p,t[5]=o*m,t[9]=g*d-_,t[2]=_*d-g,t[6]=l*m,t[10]=p*d+b}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose(mue,e,gue)}lookAt(e,t,i){const r=this.elements;return Qc.subVectors(e,t),Qc.lengthSq()===0&&(Qc.z=1),Qc.normalize(),yp.crossVectors(i,Qc),yp.lengthSq()===0&&(Math.abs(i.z)===1?Qc.x+=1e-4:Qc.z+=1e-4,Qc.normalize(),yp.crossVectors(i,Qc)),yp.normalize(),Nx.crossVectors(Qc,yp),r[0]=yp.x,r[4]=Nx.x,r[8]=Qc.x,r[1]=yp.y,r[5]=Nx.y,r[9]=Qc.y,r[2]=yp.z,r[6]=Nx.z,r[10]=Qc.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const i=e.elements,r=t.elements,s=this.elements,o=i[0],l=i[4],a=i[8],u=i[12],m=i[1],d=i[5],b=i[9],g=i[13],_=i[2],p=i[6],v=i[10],c=i[14],x=i[3],w=i[7],T=i[11],L=i[15],P=r[0],C=r[4],I=r[8],F=r[12],R=r[1],D=r[5],G=r[9],j=r[13],k=r[2],V=r[6],H=r[10],te=r[14],ne=r[3],he=r[7],ie=r[11],ce=r[15];return s[0]=o*P+l*R+a*k+u*ne,s[4]=o*C+l*D+a*V+u*he,s[8]=o*I+l*G+a*H+u*ie,s[12]=o*F+l*j+a*te+u*ce,s[1]=m*P+d*R+b*k+g*ne,s[5]=m*C+d*D+b*V+g*he,s[9]=m*I+d*G+b*H+g*ie,s[13]=m*F+d*j+b*te+g*ce,s[2]=_*P+p*R+v*k+c*ne,s[6]=_*C+p*D+v*V+c*he,s[10]=_*I+p*G+v*H+c*ie,s[14]=_*F+p*j+v*te+c*ce,s[3]=x*P+w*R+T*k+L*ne,s[7]=x*C+w*D+T*V+L*he,s[11]=x*I+w*G+T*H+L*ie,s[15]=x*F+w*j+T*te+L*ce,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){const e=this.elements,t=e[0],i=e[4],r=e[8],s=e[12],o=e[1],l=e[5],a=e[9],u=e[13],m=e[2],d=e[6],b=e[10],g=e[14],_=e[3],p=e[7],v=e[11],c=e[15];return _*(+s*a*d-r*u*d-s*l*b+i*u*b+r*l*g-i*a*g)+p*(+t*a*g-t*u*b+s*o*b-r*o*g+r*u*m-s*a*m)+v*(+t*u*d-t*l*g-s*o*d+i*o*g+s*l*m-i*u*m)+c*(-r*l*m-t*a*d+t*l*b+r*o*d-i*o*b+i*a*m)}transpose(){const e=this.elements;let t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,i){const r=this.elements;return e.isVector3?(r[12]=e.x,r[13]=e.y,r[14]=e.z):(r[12]=e,r[13]=t,r[14]=i),this}invert(){const e=this.elements,t=e[0],i=e[1],r=e[2],s=e[3],o=e[4],l=e[5],a=e[6],u=e[7],m=e[8],d=e[9],b=e[10],g=e[11],_=e[12],p=e[13],v=e[14],c=e[15],x=d*v*u-p*b*u+p*a*g-l*v*g-d*a*c+l*b*c,w=_*b*u-m*v*u-_*a*g+o*v*g+m*a*c-o*b*c,T=m*p*u-_*d*u+_*l*g-o*p*g-m*l*c+o*d*c,L=_*d*a-m*p*a-_*l*b+o*p*b+m*l*v-o*d*v,P=t*x+i*w+r*T+s*L;if(P===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const C=1/P;return e[0]=x*C,e[1]=(p*b*s-d*v*s-p*r*g+i*v*g+d*r*c-i*b*c)*C,e[2]=(l*v*s-p*a*s+p*r*u-i*v*u-l*r*c+i*a*c)*C,e[3]=(d*a*s-l*b*s-d*r*u+i*b*u+l*r*g-i*a*g)*C,e[4]=w*C,e[5]=(m*v*s-_*b*s+_*r*g-t*v*g-m*r*c+t*b*c)*C,e[6]=(_*a*s-o*v*s-_*r*u+t*v*u+o*r*c-t*a*c)*C,e[7]=(o*b*s-m*a*s+m*r*u-t*b*u-o*r*g+t*a*g)*C,e[8]=T*C,e[9]=(_*d*s-m*p*s-_*i*g+t*p*g+m*i*c-t*d*c)*C,e[10]=(o*p*s-_*l*s+_*i*u-t*p*u-o*i*c+t*l*c)*C,e[11]=(m*l*s-o*d*s-m*i*u+t*d*u+o*i*g-t*l*g)*C,e[12]=L*C,e[13]=(m*p*r-_*d*r+_*i*b-t*p*b-m*i*v+t*d*v)*C,e[14]=(_*l*r-o*p*r-_*i*a+t*p*a+o*i*v-t*l*v)*C,e[15]=(o*d*r-m*l*r+m*i*a-t*d*a-o*i*b+t*l*b)*C,this}scale(e){const t=this.elements,i=e.x,r=e.y,s=e.z;return t[0]*=i,t[4]*=r,t[8]*=s,t[1]*=i,t[5]*=r,t[9]*=s,t[2]*=i,t[6]*=r,t[10]*=s,t[3]*=i,t[7]*=r,t[11]*=s,this}getMaxScaleOnAxis(){const e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],i=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],r=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,i,r))}makeTranslation(e,t,i){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,t,0,0,1,i,0,0,0,1),this}makeRotationX(e){const t=Math.cos(e),i=Math.sin(e);return this.set(1,0,0,0,0,t,-i,0,0,i,t,0,0,0,0,1),this}makeRotationY(e){const t=Math.cos(e),i=Math.sin(e);return this.set(t,0,i,0,0,1,0,0,-i,0,t,0,0,0,0,1),this}makeRotationZ(e){const t=Math.cos(e),i=Math.sin(e);return this.set(t,-i,0,0,i,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){const i=Math.cos(t),r=Math.sin(t),s=1-i,o=e.x,l=e.y,a=e.z,u=s*o,m=s*l;return this.set(u*o+i,u*l-r*a,u*a+r*l,0,u*l+r*a,m*l+i,m*a-r*o,0,u*a-r*l,m*a+r*o,s*a*a+i,0,0,0,0,1),this}makeScale(e,t,i){return this.set(e,0,0,0,0,t,0,0,0,0,i,0,0,0,0,1),this}makeShear(e,t,i,r,s,o){return this.set(1,i,s,0,e,1,o,0,t,r,1,0,0,0,0,1),this}compose(e,t,i){const r=this.elements,s=t._x,o=t._y,l=t._z,a=t._w,u=s+s,m=o+o,d=l+l,b=s*u,g=s*m,_=s*d,p=o*m,v=o*d,c=l*d,x=a*u,w=a*m,T=a*d,L=i.x,P=i.y,C=i.z;return r[0]=(1-(p+c))*L,r[1]=(g+T)*L,r[2]=(_-w)*L,r[3]=0,r[4]=(g-T)*P,r[5]=(1-(b+c))*P,r[6]=(v+x)*P,r[7]=0,r[8]=(_+w)*C,r[9]=(v-x)*C,r[10]=(1-(b+p))*C,r[11]=0,r[12]=e.x,r[13]=e.y,r[14]=e.z,r[15]=1,this}decompose(e,t,i){const r=this.elements;let s=bv.set(r[0],r[1],r[2]).length();const o=bv.set(r[4],r[5],r[6]).length(),l=bv.set(r[8],r[9],r[10]).length();this.determinant()<0&&(s=-s),e.x=r[12],e.y=r[13],e.z=r[14],ah.copy(this);const u=1/s,m=1/o,d=1/l;return ah.elements[0]*=u,ah.elements[1]*=u,ah.elements[2]*=u,ah.elements[4]*=m,ah.elements[5]*=m,ah.elements[6]*=m,ah.elements[8]*=d,ah.elements[9]*=d,ah.elements[10]*=d,t.setFromRotationMatrix(ah),i.x=s,i.y=o,i.z=l,this}makePerspective(e,t,i,r,s,o,l=ku){const a=this.elements,u=2*s/(t-e),m=2*s/(i-r),d=(t+e)/(t-e),b=(i+r)/(i-r);let g,_;if(l===ku)g=-(o+s)/(o-s),_=-2*o*s/(o-s);else if(l===C_)g=-o/(o-s),_=-o*s/(o-s);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+l);return a[0]=u,a[4]=0,a[8]=d,a[12]=0,a[1]=0,a[5]=m,a[9]=b,a[13]=0,a[2]=0,a[6]=0,a[10]=g,a[14]=_,a[3]=0,a[7]=0,a[11]=-1,a[15]=0,this}makeOrthographic(e,t,i,r,s,o,l=ku){const a=this.elements,u=1/(t-e),m=1/(i-r),d=1/(o-s),b=(t+e)*u,g=(i+r)*m;let _,p;if(l===ku)_=(o+s)*d,p=-2*d;else if(l===C_)_=s*d,p=-1*d;else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+l);return a[0]=2*u,a[4]=0,a[8]=0,a[12]=-b,a[1]=0,a[5]=2*m,a[9]=0,a[13]=-g,a[2]=0,a[6]=0,a[10]=p,a[14]=-_,a[3]=0,a[7]=0,a[11]=0,a[15]=1,this}equals(e){const t=this.elements,i=e.elements;for(let r=0;r<16;r++)if(t[r]!==i[r])return!1;return!0}fromArray(e,t=0){for(let i=0;i<16;i++)this.elements[i]=e[i+t];return this}toArray(e=[],t=0){const i=this.elements;return e[t]=i[0],e[t+1]=i[1],e[t+2]=i[2],e[t+3]=i[3],e[t+4]=i[4],e[t+5]=i[5],e[t+6]=i[6],e[t+7]=i[7],e[t+8]=i[8],e[t+9]=i[9],e[t+10]=i[10],e[t+11]=i[11],e[t+12]=i[12],e[t+13]=i[13],e[t+14]=i[14],e[t+15]=i[15],e}}const bv=new De,ah=new Wi,mue=new De(0,0,0),gue=new De(1,1,1),yp=new De,Nx=new De,Qc=new De,LN=new Wi,PN=new Pl;class su{constructor(e=0,t=0,i=0,r=su.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=t,this._z=i,this._order=r}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,t,i,r=this._order){return this._x=e,this._y=t,this._z=i,this._order=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,t=this._order,i=!0){const r=e.elements,s=r[0],o=r[4],l=r[8],a=r[1],u=r[5],m=r[9],d=r[2],b=r[6],g=r[10];switch(t){case"XYZ":this._y=Math.asin(ir(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-m,g),this._z=Math.atan2(-o,s)):(this._x=Math.atan2(b,u),this._z=0);break;case"YXZ":this._x=Math.asin(-ir(m,-1,1)),Math.abs(m)<.9999999?(this._y=Math.atan2(l,g),this._z=Math.atan2(a,u)):(this._y=Math.atan2(-d,s),this._z=0);break;case"ZXY":this._x=Math.asin(ir(b,-1,1)),Math.abs(b)<.9999999?(this._y=Math.atan2(-d,g),this._z=Math.atan2(-o,u)):(this._y=0,this._z=Math.atan2(a,s));break;case"ZYX":this._y=Math.asin(-ir(d,-1,1)),Math.abs(d)<.9999999?(this._x=Math.atan2(b,g),this._z=Math.atan2(a,s)):(this._x=0,this._z=Math.atan2(-o,u));break;case"YZX":this._z=Math.asin(ir(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(-m,u),this._y=Math.atan2(-d,s)):(this._x=0,this._y=Math.atan2(l,g));break;case"XZY":this._z=Math.asin(-ir(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(b,u),this._y=Math.atan2(l,s)):(this._x=Math.atan2(-m,g),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,i===!0&&this._onChangeCallback(),this}setFromQuaternion(e,t,i){return LN.makeRotationFromQuaternion(e),this.setFromRotationMatrix(LN,t,i)}setFromVector3(e,t=this._order){return this.set(e.x,e.y,e.z,t)}reorder(e){return PN.setFromEuler(this),this.setFromQuaternion(PN,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}su.DEFAULT_ORDER="XYZ";class g0{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let vue=0;const NN=new De,xv=new Pl,Qd=new Wi,Ix=new De,Sy=new De,yue=new De,_ue=new Pl,IN=new De(1,0,0),DN=new De(0,1,0),FN=new De(0,0,1),BN={type:"added"},bue={type:"removed"},Sv={type:"childadded",child:null},mT={type:"childremoved",child:null};class Zr extends vd{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:vue++}),this.uuid=nu(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Zr.DEFAULT_UP.clone();const e=new De,t=new su,i=new Pl,r=new De(1,1,1);function s(){i.setFromEuler(t,!1)}function o(){t.setFromQuaternion(i,void 0,!1)}t._onChange(s),i._onChange(o),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:i},scale:{configurable:!0,enumerable:!0,value:r},modelViewMatrix:{value:new Wi},normalMatrix:{value:new ar}}),this.matrix=new Wi,this.matrixWorld=new Wi,this.matrixAutoUpdate=Zr.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=Zr.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new g0,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.customDepthMaterial=void 0,this.customDistanceMaterial=void 0,this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,t){this.quaternion.setFromAxisAngle(e,t)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,t){return xv.setFromAxisAngle(e,t),this.quaternion.multiply(xv),this}rotateOnWorldAxis(e,t){return xv.setFromAxisAngle(e,t),this.quaternion.premultiply(xv),this}rotateX(e){return this.rotateOnAxis(IN,e)}rotateY(e){return this.rotateOnAxis(DN,e)}rotateZ(e){return this.rotateOnAxis(FN,e)}translateOnAxis(e,t){return NN.copy(e).applyQuaternion(this.quaternion),this.position.add(NN.multiplyScalar(t)),this}translateX(e){return this.translateOnAxis(IN,e)}translateY(e){return this.translateOnAxis(DN,e)}translateZ(e){return this.translateOnAxis(FN,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(Qd.copy(this.matrixWorld).invert())}lookAt(e,t,i){e.isVector3?Ix.copy(e):Ix.set(e,t,i);const r=this.parent;this.updateWorldMatrix(!0,!1),Sy.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?Qd.lookAt(Sy,Ix,this.up):Qd.lookAt(Ix,Sy,this.up),this.quaternion.setFromRotationMatrix(Qd),r&&(Qd.extractRotation(r.matrixWorld),xv.setFromRotationMatrix(Qd),this.quaternion.premultiply(xv.invert()))}add(e){if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.removeFromParent(),e.parent=this,this.children.push(e),e.dispatchEvent(BN),Sv.child=e,this.dispatchEvent(Sv),Sv.child=null):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let i=0;i<arguments.length;i++)this.remove(arguments[i]);return this}const t=this.children.indexOf(e);return t!==-1&&(e.parent=null,this.children.splice(t,1),e.dispatchEvent(bue),mT.child=e,this.dispatchEvent(mT),mT.child=null),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){return this.remove(...this.children)}attach(e){return this.updateWorldMatrix(!0,!1),Qd.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),Qd.multiply(e.parent.matrixWorld)),e.applyMatrix4(Qd),e.removeFromParent(),e.parent=this,this.children.push(e),e.updateWorldMatrix(!1,!0),e.dispatchEvent(BN),Sv.child=e,this.dispatchEvent(Sv),Sv.child=null,this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,t){if(this[e]===t)return this;for(let i=0,r=this.children.length;i<r;i++){const o=this.children[i].getObjectByProperty(e,t);if(o!==void 0)return o}}getObjectsByProperty(e,t,i=[]){this[e]===t&&i.push(this);const r=this.children;for(let s=0,o=r.length;s<o;s++)r[s].getObjectsByProperty(e,t,i);return i}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Sy,e,yue),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Sy,_ue,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}raycast(){}traverse(e){e(this);const t=this.children;for(let i=0,r=t.length;i<r;i++)t[i].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const t=this.children;for(let i=0,r=t.length;i<r;i++)t[i].traverseVisible(e)}traverseAncestors(e){const t=this.parent;t!==null&&(e(t),t.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),this.matrixWorldNeedsUpdate=!1,e=!0);const t=this.children;for(let i=0,r=t.length;i<r;i++)t[i].updateMatrixWorld(e)}updateWorldMatrix(e,t){const i=this.parent;if(e===!0&&i!==null&&i.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),t===!0){const r=this.children;for(let s=0,o=r.length;s<o;s++)r[s].updateWorldMatrix(!1,!0)}}toJSON(e){const t=e===void 0||typeof e=="string",i={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},i.metadata={version:4.7,type:"Object",generator:"Object3D.toJSON"});const r={};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.castShadow===!0&&(r.castShadow=!0),this.receiveShadow===!0&&(r.receiveShadow=!0),this.visible===!1&&(r.visible=!1),this.frustumCulled===!1&&(r.frustumCulled=!1),this.renderOrder!==0&&(r.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(r.userData=this.userData),r.layers=this.layers.mask,r.matrix=this.matrix.toArray(),r.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(r.matrixAutoUpdate=!1),this.isInstancedMesh&&(r.type="InstancedMesh",r.count=this.count,r.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(r.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(r.type="BatchedMesh",r.perObjectFrustumCulled=this.perObjectFrustumCulled,r.sortObjects=this.sortObjects,r.drawRanges=this._drawRanges,r.reservedRanges=this._reservedRanges,r.geometryInfo=this._geometryInfo.map(l=>({...l,boundingBox:l.boundingBox?l.boundingBox.toJSON():void 0,boundingSphere:l.boundingSphere?l.boundingSphere.toJSON():void 0})),r.instanceInfo=this._instanceInfo.map(l=>({...l})),r.availableInstanceIds=this._availableInstanceIds.slice(),r.availableGeometryIds=this._availableGeometryIds.slice(),r.nextIndexStart=this._nextIndexStart,r.nextVertexStart=this._nextVertexStart,r.geometryCount=this._geometryCount,r.maxInstanceCount=this._maxInstanceCount,r.maxVertexCount=this._maxVertexCount,r.maxIndexCount=this._maxIndexCount,r.geometryInitialized=this._geometryInitialized,r.matricesTexture=this._matricesTexture.toJSON(e),r.indirectTexture=this._indirectTexture.toJSON(e),this._colorsTexture!==null&&(r.colorsTexture=this._colorsTexture.toJSON(e)),this.boundingSphere!==null&&(r.boundingSphere=this.boundingSphere.toJSON()),this.boundingBox!==null&&(r.boundingBox=this.boundingBox.toJSON()));function s(l,a){return l[a.uuid]===void 0&&(l[a.uuid]=a.toJSON(e)),a.uuid}if(this.isScene)this.background&&(this.background.isColor?r.background=this.background.toJSON():this.background.isTexture&&(r.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(r.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){r.geometry=s(e.geometries,this.geometry);const l=this.geometry.parameters;if(l!==void 0&&l.shapes!==void 0){const a=l.shapes;if(Array.isArray(a))for(let u=0,m=a.length;u<m;u++){const d=a[u];s(e.shapes,d)}else s(e.shapes,a)}}if(this.isSkinnedMesh&&(r.bindMode=this.bindMode,r.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(s(e.skeletons,this.skeleton),r.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const l=[];for(let a=0,u=this.material.length;a<u;a++)l.push(s(e.materials,this.material[a]));r.material=l}else r.material=s(e.materials,this.material);if(this.children.length>0){r.children=[];for(let l=0;l<this.children.length;l++)r.children.push(this.children[l].toJSON(e).object)}if(this.animations.length>0){r.animations=[];for(let l=0;l<this.animations.length;l++){const a=this.animations[l];r.animations.push(s(e.animations,a))}}if(t){const l=o(e.geometries),a=o(e.materials),u=o(e.textures),m=o(e.images),d=o(e.shapes),b=o(e.skeletons),g=o(e.animations),_=o(e.nodes);l.length>0&&(i.geometries=l),a.length>0&&(i.materials=a),u.length>0&&(i.textures=u),m.length>0&&(i.images=m),d.length>0&&(i.shapes=d),b.length>0&&(i.skeletons=b),g.length>0&&(i.animations=g),_.length>0&&(i.nodes=_)}return i.object=r,i;function o(l){const a=[];for(const u in l){const m=l[u];delete m.metadata,a.push(m)}return a}}clone(e){return new this.constructor().copy(this,e)}copy(e,t=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations.slice(),this.userData=JSON.parse(JSON.stringify(e.userData)),t===!0)for(let i=0;i<e.children.length;i++){const r=e.children[i];this.add(r.clone())}return this}}Zr.DEFAULT_UP=new De(0,1,0);Zr.DEFAULT_MATRIX_AUTO_UPDATE=!0;Zr.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const lh=new De,Jd=new De,gT=new De,ef=new De,Ev=new De,wv=new De,UN=new De,vT=new De,yT=new De,_T=new De,bT=new Kr,xT=new Kr,ST=new Kr;class Pc{constructor(e=new De,t=new De,i=new De){this.a=e,this.b=t,this.c=i}static getNormal(e,t,i,r){r.subVectors(i,t),lh.subVectors(e,t),r.cross(lh);const s=r.lengthSq();return s>0?r.multiplyScalar(1/Math.sqrt(s)):r.set(0,0,0)}static getBarycoord(e,t,i,r,s){lh.subVectors(r,t),Jd.subVectors(i,t),gT.subVectors(e,t);const o=lh.dot(lh),l=lh.dot(Jd),a=lh.dot(gT),u=Jd.dot(Jd),m=Jd.dot(gT),d=o*u-l*l;if(d===0)return s.set(0,0,0),null;const b=1/d,g=(u*a-l*m)*b,_=(o*m-l*a)*b;return s.set(1-g-_,_,g)}static containsPoint(e,t,i,r){return this.getBarycoord(e,t,i,r,ef)===null?!1:ef.x>=0&&ef.y>=0&&ef.x+ef.y<=1}static getInterpolation(e,t,i,r,s,o,l,a){return this.getBarycoord(e,t,i,r,ef)===null?(a.x=0,a.y=0,"z"in a&&(a.z=0),"w"in a&&(a.w=0),null):(a.setScalar(0),a.addScaledVector(s,ef.x),a.addScaledVector(o,ef.y),a.addScaledVector(l,ef.z),a)}static getInterpolatedAttribute(e,t,i,r,s,o){return bT.setScalar(0),xT.setScalar(0),ST.setScalar(0),bT.fromBufferAttribute(e,t),xT.fromBufferAttribute(e,i),ST.fromBufferAttribute(e,r),o.setScalar(0),o.addScaledVector(bT,s.x),o.addScaledVector(xT,s.y),o.addScaledVector(ST,s.z),o}static isFrontFacing(e,t,i,r){return lh.subVectors(i,t),Jd.subVectors(e,t),lh.cross(Jd).dot(r)<0}set(e,t,i){return this.a.copy(e),this.b.copy(t),this.c.copy(i),this}setFromPointsAndIndices(e,t,i,r){return this.a.copy(e[t]),this.b.copy(e[i]),this.c.copy(e[r]),this}setFromAttributeAndIndices(e,t,i,r){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,i),this.c.fromBufferAttribute(e,r),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return lh.subVectors(this.c,this.b),Jd.subVectors(this.a,this.b),lh.cross(Jd).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return Pc.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,t){return Pc.getBarycoord(e,this.a,this.b,this.c,t)}getInterpolation(e,t,i,r,s){return Pc.getInterpolation(e,this.a,this.b,this.c,t,i,r,s)}containsPoint(e){return Pc.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return Pc.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,t){const i=this.a,r=this.b,s=this.c;let o,l;Ev.subVectors(r,i),wv.subVectors(s,i),vT.subVectors(e,i);const a=Ev.dot(vT),u=wv.dot(vT);if(a<=0&&u<=0)return t.copy(i);yT.subVectors(e,r);const m=Ev.dot(yT),d=wv.dot(yT);if(m>=0&&d<=m)return t.copy(r);const b=a*d-m*u;if(b<=0&&a>=0&&m<=0)return o=a/(a-m),t.copy(i).addScaledVector(Ev,o);_T.subVectors(e,s);const g=Ev.dot(_T),_=wv.dot(_T);if(_>=0&&g<=_)return t.copy(s);const p=g*u-a*_;if(p<=0&&u>=0&&_<=0)return l=u/(u-_),t.copy(i).addScaledVector(wv,l);const v=m*_-g*d;if(v<=0&&d-m>=0&&g-_>=0)return UN.subVectors(s,r),l=(d-m)/(d-m+(g-_)),t.copy(r).addScaledVector(UN,l);const c=1/(v+p+b);return o=p*c,l=b*c,t.copy(i).addScaledVector(Ev,o).addScaledVector(wv,l)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}const yk={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},_p={h:0,s:0,l:0},Dx={h:0,s:0,l:0};function ET(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*6*(2/3-t):n}class jn{constructor(e,t,i){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,t,i)}set(e,t,i){if(t===void 0&&i===void 0){const r=e;r&&r.isColor?this.copy(r):typeof r=="number"?this.setHex(r):typeof r=="string"&&this.setStyle(r)}else this.setRGB(e,t,i);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,t=Na){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,$r.colorSpaceToWorking(this,t),this}setRGB(e,t,i,r=$r.workingColorSpace){return this.r=e,this.g=t,this.b=i,$r.colorSpaceToWorking(this,r),this}setHSL(e,t,i,r=$r.workingColorSpace){if(e=WM(e,1),t=ir(t,0,1),i=ir(i,0,1),t===0)this.r=this.g=this.b=i;else{const s=i<=.5?i*(1+t):i+t-i*t,o=2*i-s;this.r=ET(o,s,e+1/3),this.g=ET(o,s,e),this.b=ET(o,s,e-1/3)}return $r.colorSpaceToWorking(this,r),this}setStyle(e,t=Na){function i(s){s!==void 0&&parseFloat(s)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let r;if(r=/^(\w+)\(([^\)]*)\)/.exec(e)){let s;const o=r[1],l=r[2];switch(o){case"rgb":case"rgba":if(s=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(l))return i(s[4]),this.setRGB(Math.min(255,parseInt(s[1],10))/255,Math.min(255,parseInt(s[2],10))/255,Math.min(255,parseInt(s[3],10))/255,t);if(s=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(l))return i(s[4]),this.setRGB(Math.min(100,parseInt(s[1],10))/100,Math.min(100,parseInt(s[2],10))/100,Math.min(100,parseInt(s[3],10))/100,t);break;case"hsl":case"hsla":if(s=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(l))return i(s[4]),this.setHSL(parseFloat(s[1])/360,parseFloat(s[2])/100,parseFloat(s[3])/100,t);break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(r=/^\#([A-Fa-f\d]+)$/.exec(e)){const s=r[1],o=s.length;if(o===3)return this.setRGB(parseInt(s.charAt(0),16)/15,parseInt(s.charAt(1),16)/15,parseInt(s.charAt(2),16)/15,t);if(o===6)return this.setHex(parseInt(s,16),t);console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,t);return this}setColorName(e,t=Na){const i=yk[e.toLowerCase()];return i!==void 0?this.setHex(i,t):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=_f(e.r),this.g=_f(e.g),this.b=_f(e.b),this}copyLinearToSRGB(e){return this.r=t0(e.r),this.g=t0(e.g),this.b=t0(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=Na){return $r.workingToColorSpace(Rl.copy(this),e),Math.round(ir(Rl.r*255,0,255))*65536+Math.round(ir(Rl.g*255,0,255))*256+Math.round(ir(Rl.b*255,0,255))}getHexString(e=Na){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,t=$r.workingColorSpace){$r.workingToColorSpace(Rl.copy(this),t);const i=Rl.r,r=Rl.g,s=Rl.b,o=Math.max(i,r,s),l=Math.min(i,r,s);let a,u;const m=(l+o)/2;if(l===o)a=0,u=0;else{const d=o-l;switch(u=m<=.5?d/(o+l):d/(2-o-l),o){case i:a=(r-s)/d+(r<s?6:0);break;case r:a=(s-i)/d+2;break;case s:a=(i-r)/d+4;break}a/=6}return e.h=a,e.s=u,e.l=m,e}getRGB(e,t=$r.workingColorSpace){return $r.workingToColorSpace(Rl.copy(this),t),e.r=Rl.r,e.g=Rl.g,e.b=Rl.b,e}getStyle(e=Na){$r.workingToColorSpace(Rl.copy(this),e);const t=Rl.r,i=Rl.g,r=Rl.b;return e!==Na?`color(${e} ${t.toFixed(3)} ${i.toFixed(3)} ${r.toFixed(3)})`:`rgb(${Math.round(t*255)},${Math.round(i*255)},${Math.round(r*255)})`}offsetHSL(e,t,i){return this.getHSL(_p),this.setHSL(_p.h+e,_p.s+t,_p.l+i)}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}lerpColors(e,t,i){return this.r=e.r+(t.r-e.r)*i,this.g=e.g+(t.g-e.g)*i,this.b=e.b+(t.b-e.b)*i,this}lerpHSL(e,t){this.getHSL(_p),e.getHSL(Dx);const i=n_(_p.h,Dx.h,t),r=n_(_p.s,Dx.s,t),s=n_(_p.l,Dx.l,t);return this.setHSL(i,r,s),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const t=this.r,i=this.g,r=this.b,s=e.elements;return this.r=s[0]*t+s[3]*i+s[6]*r,this.g=s[1]*t+s[4]*i+s[7]*r,this.b=s[2]*t+s[5]*i+s[8]*r,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,t=0){return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}toArray(e=[],t=0){return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}fromBufferAttribute(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const Rl=new jn;jn.NAMES=yk;let xue=0;class Fl extends vd{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:xue++}),this.uuid=nu(),this.name="",this.type="Material",this.blending=hg,this.side=wf,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=bS,this.blendDst=xS,this.blendEquation=Op,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new jn(0,0,0),this.blendAlpha=0,this.depthFunc=yg,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=wR,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=Wm,this.stencilZFail=Wm,this.stencilZPass=Wm,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.allowOverride=!0,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const t in e){const i=e[t];if(i===void 0){console.warn(`THREE.Material: parameter '${t}' has value of undefined.`);continue}const r=this[t];if(r===void 0){console.warn(`THREE.Material: '${t}' is not a property of THREE.${this.type}.`);continue}r&&r.isColor?r.set(i):r&&r.isVector3&&i&&i.isVector3?r.copy(i):this[t]=i}}toJSON(e){const t=e===void 0||typeof e=="string";t&&(e={textures:{},images:{}});const i={metadata:{version:4.7,type:"Material",generator:"Material.toJSON"}};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.color&&this.color.isColor&&(i.color=this.color.getHex()),this.roughness!==void 0&&(i.roughness=this.roughness),this.metalness!==void 0&&(i.metalness=this.metalness),this.sheen!==void 0&&(i.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(i.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(i.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(i.emissive=this.emissive.getHex()),this.emissiveIntensity!==void 0&&this.emissiveIntensity!==1&&(i.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(i.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(i.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(i.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(i.shininess=this.shininess),this.clearcoat!==void 0&&(i.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(i.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(i.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(i.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,i.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.dispersion!==void 0&&(i.dispersion=this.dispersion),this.iridescence!==void 0&&(i.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(i.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(i.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(i.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(i.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.anisotropy!==void 0&&(i.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(i.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(i.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(i.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(i.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(i.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(i.lightMap=this.lightMap.toJSON(e).uuid,i.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(i.aoMap=this.aoMap.toJSON(e).uuid,i.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(i.bumpMap=this.bumpMap.toJSON(e).uuid,i.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(i.normalMap=this.normalMap.toJSON(e).uuid,i.normalMapType=this.normalMapType,i.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(i.displacementMap=this.displacementMap.toJSON(e).uuid,i.displacementScale=this.displacementScale,i.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(i.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(i.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(i.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(i.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(i.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(i.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(i.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(i.combine=this.combine)),this.envMapRotation!==void 0&&(i.envMapRotation=this.envMapRotation.toArray()),this.envMapIntensity!==void 0&&(i.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(i.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(i.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(i.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(i.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(i.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(i.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(i.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(i.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(i.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(i.size=this.size),this.shadowSide!==null&&(i.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(i.sizeAttenuation=this.sizeAttenuation),this.blending!==hg&&(i.blending=this.blending),this.side!==wf&&(i.side=this.side),this.vertexColors===!0&&(i.vertexColors=!0),this.opacity<1&&(i.opacity=this.opacity),this.transparent===!0&&(i.transparent=!0),this.blendSrc!==bS&&(i.blendSrc=this.blendSrc),this.blendDst!==xS&&(i.blendDst=this.blendDst),this.blendEquation!==Op&&(i.blendEquation=this.blendEquation),this.blendSrcAlpha!==null&&(i.blendSrcAlpha=this.blendSrcAlpha),this.blendDstAlpha!==null&&(i.blendDstAlpha=this.blendDstAlpha),this.blendEquationAlpha!==null&&(i.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(i.blendColor=this.blendColor.getHex()),this.blendAlpha!==0&&(i.blendAlpha=this.blendAlpha),this.depthFunc!==yg&&(i.depthFunc=this.depthFunc),this.depthTest===!1&&(i.depthTest=this.depthTest),this.depthWrite===!1&&(i.depthWrite=this.depthWrite),this.colorWrite===!1&&(i.colorWrite=this.colorWrite),this.stencilWriteMask!==255&&(i.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==wR&&(i.stencilFunc=this.stencilFunc),this.stencilRef!==0&&(i.stencilRef=this.stencilRef),this.stencilFuncMask!==255&&(i.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==Wm&&(i.stencilFail=this.stencilFail),this.stencilZFail!==Wm&&(i.stencilZFail=this.stencilZFail),this.stencilZPass!==Wm&&(i.stencilZPass=this.stencilZPass),this.stencilWrite===!0&&(i.stencilWrite=this.stencilWrite),this.rotation!==void 0&&this.rotation!==0&&(i.rotation=this.rotation),this.polygonOffset===!0&&(i.polygonOffset=!0),this.polygonOffsetFactor!==0&&(i.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(i.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(i.linewidth=this.linewidth),this.dashSize!==void 0&&(i.dashSize=this.dashSize),this.gapSize!==void 0&&(i.gapSize=this.gapSize),this.scale!==void 0&&(i.scale=this.scale),this.dithering===!0&&(i.dithering=!0),this.alphaTest>0&&(i.alphaTest=this.alphaTest),this.alphaHash===!0&&(i.alphaHash=!0),this.alphaToCoverage===!0&&(i.alphaToCoverage=!0),this.premultipliedAlpha===!0&&(i.premultipliedAlpha=!0),this.forceSinglePass===!0&&(i.forceSinglePass=!0),this.wireframe===!0&&(i.wireframe=!0),this.wireframeLinewidth>1&&(i.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(i.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(i.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(i.flatShading=!0),this.visible===!1&&(i.visible=!1),this.toneMapped===!1&&(i.toneMapped=!1),this.fog===!1&&(i.fog=!1),Object.keys(this.userData).length>0&&(i.userData=this.userData);function r(s){const o=[];for(const l in s){const a=s[l];delete a.metadata,o.push(a)}return o}if(t){const s=r(e.textures),o=r(e.images);s.length>0&&(i.textures=s),o.length>0&&(i.images=o)}return i}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.blendColor.copy(e.blendColor),this.blendAlpha=e.blendAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const t=e.clippingPlanes;let i=null;if(t!==null){const r=t.length;i=new Array(r);for(let s=0;s!==r;++s)i[s]=t[s].clone()}return this.clippingPlanes=i,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}}class Lf extends Fl{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new jn(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new su,this.combine=Q_,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const hf=Sue();function Sue(){const n=new ArrayBuffer(4),e=new Float32Array(n),t=new Uint32Array(n),i=new Uint32Array(512),r=new Uint32Array(512);for(let a=0;a<256;++a){const u=a-127;u<-27?(i[a]=0,i[a|256]=32768,r[a]=24,r[a|256]=24):u<-14?(i[a]=1024>>-u-14,i[a|256]=1024>>-u-14|32768,r[a]=-u-1,r[a|256]=-u-1):u<=15?(i[a]=u+15<<10,i[a|256]=u+15<<10|32768,r[a]=13,r[a|256]=13):u<128?(i[a]=31744,i[a|256]=64512,r[a]=24,r[a|256]=24):(i[a]=31744,i[a|256]=64512,r[a]=13,r[a|256]=13)}const s=new Uint32Array(2048),o=new Uint32Array(64),l=new Uint32Array(64);for(let a=1;a<1024;++a){let u=a<<13,m=0;for(;(u&8388608)===0;)u<<=1,m-=8388608;u&=-8388609,m+=947912704,s[a]=u|m}for(let a=1024;a<2048;++a)s[a]=939524096+(a-1024<<13);for(let a=1;a<31;++a)o[a]=a<<23;o[31]=1199570944,o[32]=2147483648;for(let a=33;a<63;++a)o[a]=2147483648+(a-32<<23);o[63]=3347054592;for(let a=1;a<64;++a)a!==32&&(l[a]=1024);return{floatView:e,uint32View:t,baseTable:i,shiftTable:r,mantissaTable:s,exponentTable:o,offsetTable:l}}function Oc(n){Math.abs(n)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),n=ir(n,-65504,65504),hf.floatView[0]=n;const e=hf.uint32View[0],t=e>>23&511;return hf.baseTable[t]+((e&8388607)>>hf.shiftTable[t])}function ky(n){const e=n>>10;return hf.uint32View[0]=hf.mantissaTable[hf.offsetTable[e]+(n&1023)]+hf.exponentTable[e],hf.floatView[0]}class sg{static toHalfFloat(e){return Oc(e)}static fromHalfFloat(e){return ky(e)}}const ba=new De,Fx=new rn;let Eue=0;class Is{constructor(e,t,i=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,Object.defineProperty(this,"id",{value:Eue++}),this.name="",this.array=e,this.itemSize=t,this.count=e!==void 0?e.length/t:0,this.normalized=i,this.usage=w_,this.updateRanges=[],this.gpuType=bo,this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,t,i){e*=this.itemSize,i*=t.itemSize;for(let r=0,s=this.itemSize;r<s;r++)this.array[e+r]=t.array[i+r];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let t=0,i=this.count;t<i;t++)Fx.fromBufferAttribute(this,t),Fx.applyMatrix3(e),this.setXY(t,Fx.x,Fx.y);else if(this.itemSize===3)for(let t=0,i=this.count;t<i;t++)ba.fromBufferAttribute(this,t),ba.applyMatrix3(e),this.setXYZ(t,ba.x,ba.y,ba.z);return this}applyMatrix4(e){for(let t=0,i=this.count;t<i;t++)ba.fromBufferAttribute(this,t),ba.applyMatrix4(e),this.setXYZ(t,ba.x,ba.y,ba.z);return this}applyNormalMatrix(e){for(let t=0,i=this.count;t<i;t++)ba.fromBufferAttribute(this,t),ba.applyNormalMatrix(e),this.setXYZ(t,ba.x,ba.y,ba.z);return this}transformDirection(e){for(let t=0,i=this.count;t<i;t++)ba.fromBufferAttribute(this,t),ba.transformDirection(e),this.setXYZ(t,ba.x,ba.y,ba.z);return this}set(e,t=0){return this.array.set(e,t),this}getComponent(e,t){let i=this.array[e*this.itemSize+t];return this.normalized&&(i=lc(i,this.array)),i}setComponent(e,t,i){return this.normalized&&(i=ur(i,this.array)),this.array[e*this.itemSize+t]=i,this}getX(e){let t=this.array[e*this.itemSize];return this.normalized&&(t=lc(t,this.array)),t}setX(e,t){return this.normalized&&(t=ur(t,this.array)),this.array[e*this.itemSize]=t,this}getY(e){let t=this.array[e*this.itemSize+1];return this.normalized&&(t=lc(t,this.array)),t}setY(e,t){return this.normalized&&(t=ur(t,this.array)),this.array[e*this.itemSize+1]=t,this}getZ(e){let t=this.array[e*this.itemSize+2];return this.normalized&&(t=lc(t,this.array)),t}setZ(e,t){return this.normalized&&(t=ur(t,this.array)),this.array[e*this.itemSize+2]=t,this}getW(e){let t=this.array[e*this.itemSize+3];return this.normalized&&(t=lc(t,this.array)),t}setW(e,t){return this.normalized&&(t=ur(t,this.array)),this.array[e*this.itemSize+3]=t,this}setXY(e,t,i){return e*=this.itemSize,this.normalized&&(t=ur(t,this.array),i=ur(i,this.array)),this.array[e+0]=t,this.array[e+1]=i,this}setXYZ(e,t,i,r){return e*=this.itemSize,this.normalized&&(t=ur(t,this.array),i=ur(i,this.array),r=ur(r,this.array)),this.array[e+0]=t,this.array[e+1]=i,this.array[e+2]=r,this}setXYZW(e,t,i,r,s){return e*=this.itemSize,this.normalized&&(t=ur(t,this.array),i=ur(i,this.array),r=ur(r,this.array),s=ur(s,this.array)),this.array[e+0]=t,this.array[e+1]=i,this.array[e+2]=r,this.array[e+3]=s,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==w_&&(e.usage=this.usage),e}}class wue extends Is{constructor(e,t,i){super(new Int8Array(e),t,i)}}class Cue extends Is{constructor(e,t,i){super(new Uint8Array(e),t,i)}}class Tue extends Is{constructor(e,t,i){super(new Uint8ClampedArray(e),t,i)}}class Aue extends Is{constructor(e,t,i){super(new Int16Array(e),t,i)}}class XM extends Is{constructor(e,t,i){super(new Uint16Array(e),t,i)}}class Rue extends Is{constructor(e,t,i){super(new Int32Array(e),t,i)}}class qM extends Is{constructor(e,t,i){super(new Uint32Array(e),t,i)}}class Mue extends Is{constructor(e,t,i){super(new Uint16Array(e),t,i),this.isFloat16BufferAttribute=!0}getX(e){let t=ky(this.array[e*this.itemSize]);return this.normalized&&(t=lc(t,this.array)),t}setX(e,t){return this.normalized&&(t=ur(t,this.array)),this.array[e*this.itemSize]=Oc(t),this}getY(e){let t=ky(this.array[e*this.itemSize+1]);return this.normalized&&(t=lc(t,this.array)),t}setY(e,t){return this.normalized&&(t=ur(t,this.array)),this.array[e*this.itemSize+1]=Oc(t),this}getZ(e){let t=ky(this.array[e*this.itemSize+2]);return this.normalized&&(t=lc(t,this.array)),t}setZ(e,t){return this.normalized&&(t=ur(t,this.array)),this.array[e*this.itemSize+2]=Oc(t),this}getW(e){let t=ky(this.array[e*this.itemSize+3]);return this.normalized&&(t=lc(t,this.array)),t}setW(e,t){return this.normalized&&(t=ur(t,this.array)),this.array[e*this.itemSize+3]=Oc(t),this}setXY(e,t,i){return e*=this.itemSize,this.normalized&&(t=ur(t,this.array),i=ur(i,this.array)),this.array[e+0]=Oc(t),this.array[e+1]=Oc(i),this}setXYZ(e,t,i,r){return e*=this.itemSize,this.normalized&&(t=ur(t,this.array),i=ur(i,this.array),r=ur(r,this.array)),this.array[e+0]=Oc(t),this.array[e+1]=Oc(i),this.array[e+2]=Oc(r),this}setXYZW(e,t,i,r,s){return e*=this.itemSize,this.normalized&&(t=ur(t,this.array),i=ur(i,this.array),r=ur(r,this.array),s=ur(s,this.array)),this.array[e+0]=Oc(t),this.array[e+1]=Oc(i),this.array[e+2]=Oc(r),this.array[e+3]=Oc(s),this}}class mi extends Is{constructor(e,t,i){super(new Float32Array(e),t,i)}}let Oue=0;const Pu=new Wi,wT=new Zr,Cv=new De,Jc=new Nl,Ey=new Nl,Xa=new De;class hr extends vd{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:Oue++}),this.uuid=nu(),this.name="",this.type="BufferGeometry",this.index=null,this.indirect=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(mk(e)?qM:XM)(e,1):this.index=e,this}setIndirect(e){return this.indirect=e,this}getIndirect(){return this.indirect}getAttribute(e){return this.attributes[e]}setAttribute(e,t){return this.attributes[e]=t,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,t,i=0){this.groups.push({start:e,count:t,materialIndex:i})}clearGroups(){this.groups=[]}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}applyMatrix4(e){const t=this.attributes.position;t!==void 0&&(t.applyMatrix4(e),t.needsUpdate=!0);const i=this.attributes.normal;if(i!==void 0){const s=new ar().getNormalMatrix(e);i.applyNormalMatrix(s),i.needsUpdate=!0}const r=this.attributes.tangent;return r!==void 0&&(r.transformDirection(e),r.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return Pu.makeRotationFromQuaternion(e),this.applyMatrix4(Pu),this}rotateX(e){return Pu.makeRotationX(e),this.applyMatrix4(Pu),this}rotateY(e){return Pu.makeRotationY(e),this.applyMatrix4(Pu),this}rotateZ(e){return Pu.makeRotationZ(e),this.applyMatrix4(Pu),this}translate(e,t,i){return Pu.makeTranslation(e,t,i),this.applyMatrix4(Pu),this}scale(e,t,i){return Pu.makeScale(e,t,i),this.applyMatrix4(Pu),this}lookAt(e){return wT.lookAt(e),wT.updateMatrix(),this.applyMatrix4(wT.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(Cv).negate(),this.translate(Cv.x,Cv.y,Cv.z),this}setFromPoints(e){const t=this.getAttribute("position");if(t===void 0){const i=[];for(let r=0,s=e.length;r<s;r++){const o=e[r];i.push(o.x,o.y,o.z||0)}this.setAttribute("position",new mi(i,3))}else{const i=Math.min(e.length,t.count);for(let r=0;r<i;r++){const s=e[r];t.setXYZ(r,s.x,s.y,s.z||0)}e.length>t.count&&console.warn("THREE.BufferGeometry: Buffer size too small for points data. Use .dispose() and create a new geometry."),t.needsUpdate=!0}return this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Nl);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box.",this),this.boundingBox.set(new De(-1/0,-1/0,-1/0),new De(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),t)for(let i=0,r=t.length;i<r;i++){const s=t[i];Jc.setFromBufferAttribute(s),this.morphTargetsRelative?(Xa.addVectors(this.boundingBox.min,Jc.min),this.boundingBox.expandByPoint(Xa),Xa.addVectors(this.boundingBox.max,Jc.max),this.boundingBox.expandByPoint(Xa)):(this.boundingBox.expandByPoint(Jc.min),this.boundingBox.expandByPoint(Jc.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new gl);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere.",this),this.boundingSphere.set(new De,1/0);return}if(e){const i=this.boundingSphere.center;if(Jc.setFromBufferAttribute(e),t)for(let s=0,o=t.length;s<o;s++){const l=t[s];Ey.setFromBufferAttribute(l),this.morphTargetsRelative?(Xa.addVectors(Jc.min,Ey.min),Jc.expandByPoint(Xa),Xa.addVectors(Jc.max,Ey.max),Jc.expandByPoint(Xa)):(Jc.expandByPoint(Ey.min),Jc.expandByPoint(Ey.max))}Jc.getCenter(i);let r=0;for(let s=0,o=e.count;s<o;s++)Xa.fromBufferAttribute(e,s),r=Math.max(r,i.distanceToSquared(Xa));if(t)for(let s=0,o=t.length;s<o;s++){const l=t[s],a=this.morphTargetsRelative;for(let u=0,m=l.count;u<m;u++)Xa.fromBufferAttribute(l,u),a&&(Cv.fromBufferAttribute(e,u),Xa.add(Cv)),r=Math.max(r,i.distanceToSquared(Xa))}this.boundingSphere.radius=Math.sqrt(r),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,t=this.attributes;if(e===null||t.position===void 0||t.normal===void 0||t.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const i=t.position,r=t.normal,s=t.uv;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new Is(new Float32Array(4*i.count),4));const o=this.getAttribute("tangent"),l=[],a=[];for(let I=0;I<i.count;I++)l[I]=new De,a[I]=new De;const u=new De,m=new De,d=new De,b=new rn,g=new rn,_=new rn,p=new De,v=new De;function c(I,F,R){u.fromBufferAttribute(i,I),m.fromBufferAttribute(i,F),d.fromBufferAttribute(i,R),b.fromBufferAttribute(s,I),g.fromBufferAttribute(s,F),_.fromBufferAttribute(s,R),m.sub(u),d.sub(u),g.sub(b),_.sub(b);const D=1/(g.x*_.y-_.x*g.y);isFinite(D)&&(p.copy(m).multiplyScalar(_.y).addScaledVector(d,-g.y).multiplyScalar(D),v.copy(d).multiplyScalar(g.x).addScaledVector(m,-_.x).multiplyScalar(D),l[I].add(p),l[F].add(p),l[R].add(p),a[I].add(v),a[F].add(v),a[R].add(v))}let x=this.groups;x.length===0&&(x=[{start:0,count:e.count}]);for(let I=0,F=x.length;I<F;++I){const R=x[I],D=R.start,G=R.count;for(let j=D,k=D+G;j<k;j+=3)c(e.getX(j+0),e.getX(j+1),e.getX(j+2))}const w=new De,T=new De,L=new De,P=new De;function C(I){L.fromBufferAttribute(r,I),P.copy(L);const F=l[I];w.copy(F),w.sub(L.multiplyScalar(L.dot(F))).normalize(),T.crossVectors(P,F);const D=T.dot(a[I])<0?-1:1;o.setXYZW(I,w.x,w.y,w.z,D)}for(let I=0,F=x.length;I<F;++I){const R=x[I],D=R.start,G=R.count;for(let j=D,k=D+G;j<k;j+=3)C(e.getX(j+0)),C(e.getX(j+1)),C(e.getX(j+2))}}computeVertexNormals(){const e=this.index,t=this.getAttribute("position");if(t!==void 0){let i=this.getAttribute("normal");if(i===void 0)i=new Is(new Float32Array(t.count*3),3),this.setAttribute("normal",i);else for(let b=0,g=i.count;b<g;b++)i.setXYZ(b,0,0,0);const r=new De,s=new De,o=new De,l=new De,a=new De,u=new De,m=new De,d=new De;if(e)for(let b=0,g=e.count;b<g;b+=3){const _=e.getX(b+0),p=e.getX(b+1),v=e.getX(b+2);r.fromBufferAttribute(t,_),s.fromBufferAttribute(t,p),o.fromBufferAttribute(t,v),m.subVectors(o,s),d.subVectors(r,s),m.cross(d),l.fromBufferAttribute(i,_),a.fromBufferAttribute(i,p),u.fromBufferAttribute(i,v),l.add(m),a.add(m),u.add(m),i.setXYZ(_,l.x,l.y,l.z),i.setXYZ(p,a.x,a.y,a.z),i.setXYZ(v,u.x,u.y,u.z)}else for(let b=0,g=t.count;b<g;b+=3)r.fromBufferAttribute(t,b+0),s.fromBufferAttribute(t,b+1),o.fromBufferAttribute(t,b+2),m.subVectors(o,s),d.subVectors(r,s),m.cross(d),i.setXYZ(b+0,m.x,m.y,m.z),i.setXYZ(b+1,m.x,m.y,m.z),i.setXYZ(b+2,m.x,m.y,m.z);this.normalizeNormals(),i.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let t=0,i=e.count;t<i;t++)Xa.fromBufferAttribute(e,t),Xa.normalize(),e.setXYZ(t,Xa.x,Xa.y,Xa.z)}toNonIndexed(){function e(l,a){const u=l.array,m=l.itemSize,d=l.normalized,b=new u.constructor(a.length*m);let g=0,_=0;for(let p=0,v=a.length;p<v;p++){l.isInterleavedBufferAttribute?g=a[p]*l.data.stride+l.offset:g=a[p]*m;for(let c=0;c<m;c++)b[_++]=u[g++]}return new Is(b,m,d)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const t=new hr,i=this.index.array,r=this.attributes;for(const l in r){const a=r[l],u=e(a,i);t.setAttribute(l,u)}const s=this.morphAttributes;for(const l in s){const a=[],u=s[l];for(let m=0,d=u.length;m<d;m++){const b=u[m],g=e(b,i);a.push(g)}t.morphAttributes[l]=a}t.morphTargetsRelative=this.morphTargetsRelative;const o=this.groups;for(let l=0,a=o.length;l<a;l++){const u=o[l];t.addGroup(u.start,u.count,u.materialIndex)}return t}toJSON(){const e={metadata:{version:4.7,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const a=this.parameters;for(const u in a)a[u]!==void 0&&(e[u]=a[u]);return e}e.data={attributes:{}};const t=this.index;t!==null&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});const i=this.attributes;for(const a in i){const u=i[a];e.data.attributes[a]=u.toJSON(e.data)}const r={};let s=!1;for(const a in this.morphAttributes){const u=this.morphAttributes[a],m=[];for(let d=0,b=u.length;d<b;d++){const g=u[d];m.push(g.toJSON(e.data))}m.length>0&&(r[a]=m,s=!0)}s&&(e.data.morphAttributes=r,e.data.morphTargetsRelative=this.morphTargetsRelative);const o=this.groups;o.length>0&&(e.data.groups=JSON.parse(JSON.stringify(o)));const l=this.boundingSphere;return l!==null&&(e.data.boundingSphere=l.toJSON()),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const t={};this.name=e.name;const i=e.index;i!==null&&this.setIndex(i.clone());const r=e.attributes;for(const u in r){const m=r[u];this.setAttribute(u,m.clone(t))}const s=e.morphAttributes;for(const u in s){const m=[],d=s[u];for(let b=0,g=d.length;b<g;b++)m.push(d[b].clone(t));this.morphAttributes[u]=m}this.morphTargetsRelative=e.morphTargetsRelative;const o=e.groups;for(let u=0,m=o.length;u<m;u++){const d=o[u];this.addGroup(d.start,d.count,d.materialIndex)}const l=e.boundingBox;l!==null&&(this.boundingBox=l.clone());const a=e.boundingSphere;return a!==null&&(this.boundingSphere=a.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const kN=new Wi,Mm=new Cg,Bx=new gl,zN=new De,Ux=new De,kx=new De,zx=new De,CT=new De,$x=new De,$N=new De,Hx=new De;class Oo extends Zr{constructor(e=new hr,t=new Lf){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=t,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.count=1,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}updateMorphTargets(){const t=this.geometry.morphAttributes,i=Object.keys(t);if(i.length>0){const r=t[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=r.length;s<o;s++){const l=r[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[l]=s}}}}getVertexPosition(e,t){const i=this.geometry,r=i.attributes.position,s=i.morphAttributes.position,o=i.morphTargetsRelative;t.fromBufferAttribute(r,e);const l=this.morphTargetInfluences;if(s&&l){$x.set(0,0,0);for(let a=0,u=s.length;a<u;a++){const m=l[a],d=s[a];m!==0&&(CT.fromBufferAttribute(d,e),o?$x.addScaledVector(CT,m):$x.addScaledVector(CT.sub(t),m))}t.add($x)}return t}raycast(e,t){const i=this.geometry,r=this.material,s=this.matrixWorld;r!==void 0&&(i.boundingSphere===null&&i.computeBoundingSphere(),Bx.copy(i.boundingSphere),Bx.applyMatrix4(s),Mm.copy(e.ray).recast(e.near),!(Bx.containsPoint(Mm.origin)===!1&&(Mm.intersectSphere(Bx,zN)===null||Mm.origin.distanceToSquared(zN)>(e.far-e.near)**2))&&(kN.copy(s).invert(),Mm.copy(e.ray).applyMatrix4(kN),!(i.boundingBox!==null&&Mm.intersectsBox(i.boundingBox)===!1)&&this._computeIntersections(e,t,Mm)))}_computeIntersections(e,t,i){let r;const s=this.geometry,o=this.material,l=s.index,a=s.attributes.position,u=s.attributes.uv,m=s.attributes.uv1,d=s.attributes.normal,b=s.groups,g=s.drawRange;if(l!==null)if(Array.isArray(o))for(let _=0,p=b.length;_<p;_++){const v=b[_],c=o[v.materialIndex],x=Math.max(v.start,g.start),w=Math.min(l.count,Math.min(v.start+v.count,g.start+g.count));for(let T=x,L=w;T<L;T+=3){const P=l.getX(T),C=l.getX(T+1),I=l.getX(T+2);r=Gx(this,c,e,i,u,m,d,P,C,I),r&&(r.faceIndex=Math.floor(T/3),r.face.materialIndex=v.materialIndex,t.push(r))}}else{const _=Math.max(0,g.start),p=Math.min(l.count,g.start+g.count);for(let v=_,c=p;v<c;v+=3){const x=l.getX(v),w=l.getX(v+1),T=l.getX(v+2);r=Gx(this,o,e,i,u,m,d,x,w,T),r&&(r.faceIndex=Math.floor(v/3),t.push(r))}}else if(a!==void 0)if(Array.isArray(o))for(let _=0,p=b.length;_<p;_++){const v=b[_],c=o[v.materialIndex],x=Math.max(v.start,g.start),w=Math.min(a.count,Math.min(v.start+v.count,g.start+g.count));for(let T=x,L=w;T<L;T+=3){const P=T,C=T+1,I=T+2;r=Gx(this,c,e,i,u,m,d,P,C,I),r&&(r.faceIndex=Math.floor(T/3),r.face.materialIndex=v.materialIndex,t.push(r))}}else{const _=Math.max(0,g.start),p=Math.min(a.count,g.start+g.count);for(let v=_,c=p;v<c;v+=3){const x=v,w=v+1,T=v+2;r=Gx(this,o,e,i,u,m,d,x,w,T),r&&(r.faceIndex=Math.floor(v/3),t.push(r))}}}}function Lue(n,e,t,i,r,s,o,l){let a;if(e.side===hc?a=i.intersectTriangle(o,s,r,!0,l):a=i.intersectTriangle(r,s,o,e.side===wf,l),a===null)return null;Hx.copy(l),Hx.applyMatrix4(n.matrixWorld);const u=t.ray.origin.distanceTo(Hx);return u<t.near||u>t.far?null:{distance:u,point:Hx.clone(),object:n}}function Gx(n,e,t,i,r,s,o,l,a,u){n.getVertexPosition(l,Ux),n.getVertexPosition(a,kx),n.getVertexPosition(u,zx);const m=Lue(n,e,t,i,Ux,kx,zx,$N);if(m){const d=new De;Pc.getBarycoord($N,Ux,kx,zx,d),r&&(m.uv=Pc.getInterpolatedAttribute(r,l,a,u,d,new rn)),s&&(m.uv1=Pc.getInterpolatedAttribute(s,l,a,u,d,new rn)),o&&(m.normal=Pc.getInterpolatedAttribute(o,l,a,u,d,new De),m.normal.dot(i.direction)>0&&m.normal.multiplyScalar(-1));const b={a:l,b:a,c:u,normal:new De,materialIndex:0};Pc.getNormal(Ux,kx,zx,b.normal),m.face=b,m.barycoord=d}return m}class Tg extends hr{constructor(e=1,t=1,i=1,r=1,s=1,o=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:i,widthSegments:r,heightSegments:s,depthSegments:o};const l=this;r=Math.floor(r),s=Math.floor(s),o=Math.floor(o);const a=[],u=[],m=[],d=[];let b=0,g=0;_("z","y","x",-1,-1,i,t,e,o,s,0),_("z","y","x",1,-1,i,t,-e,o,s,1),_("x","z","y",1,1,e,i,t,r,o,2),_("x","z","y",1,-1,e,i,-t,r,o,3),_("x","y","z",1,-1,e,t,i,r,s,4),_("x","y","z",-1,-1,e,t,-i,r,s,5),this.setIndex(a),this.setAttribute("position",new mi(u,3)),this.setAttribute("normal",new mi(m,3)),this.setAttribute("uv",new mi(d,2));function _(p,v,c,x,w,T,L,P,C,I,F){const R=T/C,D=L/I,G=T/2,j=L/2,k=P/2,V=C+1,H=I+1;let te=0,ne=0;const he=new De;for(let ie=0;ie<H;ie++){const ce=ie*D-j;for(let Se=0;Se<V;Se++){const Ee=Se*R-G;he[p]=Ee*x,he[v]=ce*w,he[c]=k,u.push(he.x,he.y,he.z),he[p]=0,he[v]=0,he[c]=P>0?1:-1,m.push(he.x,he.y,he.z),d.push(Se/C),d.push(1-ie/I),te+=1}}for(let ie=0;ie<I;ie++)for(let ce=0;ce<C;ce++){const Se=b+ce+V*ie,Ee=b+ce+V*(ie+1),me=b+(ce+1)+V*(ie+1),le=b+(ce+1)+V*ie;a.push(Se,Ee,le),a.push(Ee,me,le),ne+=6}l.addGroup(g,ne,F),g+=ne,b+=te}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Tg(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function v0(n){const e={};for(const t in n){e[t]={};for(const i in n[t]){const r=n[t][i];r&&(r.isColor||r.isMatrix3||r.isMatrix4||r.isVector2||r.isVector3||r.isVector4||r.isTexture||r.isQuaternion)?r.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[t][i]=null):e[t][i]=r.clone():Array.isArray(r)?e[t][i]=r.slice():e[t][i]=r}}return e}function rc(n){const e={};for(let t=0;t<n.length;t++){const i=v0(n[t]);for(const r in i)e[r]=i[r]}return e}function Pue(n){const e=[];for(let t=0;t<n.length;t++)e.push(n[t].clone());return e}function _k(n){const e=n.getRenderTarget();return e===null?n.outputColorSpace:e.isXRRenderTarget===!0?e.texture.colorSpace:$r.workingColorSpace}const bk={clone:v0,merge:rc};var Nue=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,Iue=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class Dc extends Fl{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=Nue,this.fragmentShader=Iue,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={clipCullDistance:!1,multiDraw:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=v0(e.uniforms),this.uniformsGroups=Pue(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const t=super.toJSON(e);t.glslVersion=this.glslVersion,t.uniforms={};for(const r in this.uniforms){const o=this.uniforms[r].value;o&&o.isTexture?t.uniforms[r]={type:"t",value:o.toJSON(e).uuid}:o&&o.isColor?t.uniforms[r]={type:"c",value:o.getHex()}:o&&o.isVector2?t.uniforms[r]={type:"v2",value:o.toArray()}:o&&o.isVector3?t.uniforms[r]={type:"v3",value:o.toArray()}:o&&o.isVector4?t.uniforms[r]={type:"v4",value:o.toArray()}:o&&o.isMatrix3?t.uniforms[r]={type:"m3",value:o.toArray()}:o&&o.isMatrix4?t.uniforms[r]={type:"m4",value:o.toArray()}:t.uniforms[r]={value:o}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader,t.lights=this.lights,t.clipping=this.clipping;const i={};for(const r in this.extensions)this.extensions[r]===!0&&(i[r]=!0);return Object.keys(i).length>0&&(t.extensions=i),t}}class WE extends Zr{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new Wi,this.projectionMatrix=new Wi,this.projectionMatrixInverse=new Wi,this.coordinateSystem=ku}copy(e,t){return super.copy(e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){return super.getWorldDirection(e).negate()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}const bp=new De,HN=new rn,GN=new rn;let na=class extends WE{constructor(e=50,t=1,i=.1,r=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=i,this.far=r,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const t=.5*this.getFilmHeight()/e;this.fov=m0*2*Math.atan(t),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(dg*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return m0*2*Math.atan(Math.tan(dg*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}getViewBounds(e,t,i){bp.set(-1,-1,.5).applyMatrix4(this.projectionMatrixInverse),t.set(bp.x,bp.y).multiplyScalar(-e/bp.z),bp.set(1,1,.5).applyMatrix4(this.projectionMatrixInverse),i.set(bp.x,bp.y).multiplyScalar(-e/bp.z)}getViewSize(e,t){return this.getViewBounds(e,HN,GN),t.subVectors(GN,HN)}setViewOffset(e,t,i,r,s,o){this.aspect=e/t,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=i,this.view.offsetY=r,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let t=e*Math.tan(dg*.5*this.fov)/this.zoom,i=2*t,r=this.aspect*i,s=-.5*r;const o=this.view;if(this.view!==null&&this.view.enabled){const a=o.fullWidth,u=o.fullHeight;s+=o.offsetX*r/a,t-=o.offsetY*i/u,r*=o.width/a,i*=o.height/u}const l=this.filmOffset;l!==0&&(s+=e*l/this.getFilmWidth()),this.projectionMatrix.makePerspective(s,s+r,t,t-i,e,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,this.view!==null&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}};const Tv=-90,Av=1;class xk extends Zr{constructor(e,t,i){super(),this.type="CubeCamera",this.renderTarget=i,this.coordinateSystem=null,this.activeMipmapLevel=0;const r=new na(Tv,Av,e,t);r.layers=this.layers,this.add(r);const s=new na(Tv,Av,e,t);s.layers=this.layers,this.add(s);const o=new na(Tv,Av,e,t);o.layers=this.layers,this.add(o);const l=new na(Tv,Av,e,t);l.layers=this.layers,this.add(l);const a=new na(Tv,Av,e,t);a.layers=this.layers,this.add(a);const u=new na(Tv,Av,e,t);u.layers=this.layers,this.add(u)}updateCoordinateSystem(){const e=this.coordinateSystem,t=this.children.concat(),[i,r,s,o,l,a]=t;for(const u of t)this.remove(u);if(e===ku)i.up.set(0,1,0),i.lookAt(1,0,0),r.up.set(0,1,0),r.lookAt(-1,0,0),s.up.set(0,0,-1),s.lookAt(0,1,0),o.up.set(0,0,1),o.lookAt(0,-1,0),l.up.set(0,1,0),l.lookAt(0,0,1),a.up.set(0,1,0),a.lookAt(0,0,-1);else if(e===C_)i.up.set(0,-1,0),i.lookAt(-1,0,0),r.up.set(0,-1,0),r.lookAt(1,0,0),s.up.set(0,0,1),s.lookAt(0,1,0),o.up.set(0,0,-1),o.lookAt(0,-1,0),l.up.set(0,-1,0),l.lookAt(0,0,1),a.up.set(0,-1,0),a.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);for(const u of t)this.add(u),u.updateMatrixWorld()}update(e,t){this.parent===null&&this.updateMatrixWorld();const{renderTarget:i,activeMipmapLevel:r}=this;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[s,o,l,a,u,m]=this.children,d=e.getRenderTarget(),b=e.getActiveCubeFace(),g=e.getActiveMipmapLevel(),_=e.xr.enabled;e.xr.enabled=!1;const p=i.texture.generateMipmaps;i.texture.generateMipmaps=!1,e.setRenderTarget(i,0,r),e.render(t,s),e.setRenderTarget(i,1,r),e.render(t,o),e.setRenderTarget(i,2,r),e.render(t,l),e.setRenderTarget(i,3,r),e.render(t,a),e.setRenderTarget(i,4,r),e.render(t,u),i.texture.generateMipmaps=p,e.setRenderTarget(i,5,r),e.render(t,m),e.setRenderTarget(d,b,g),e.xr.enabled=_,i.texture.needsPMREMUpdate=!0}}class nb extends ps{constructor(e=[],t=pd,i,r,s,o,l,a,u,m){super(e,t,i,r,s,o,l,a,u,m),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class YM extends ru{constructor(e=1,t={}){super(e,e,t),this.isWebGLCubeRenderTarget=!0;const i={width:e,height:e,depth:1},r=[i,i,i,i,i,i];this.texture=new nb(r),this._setTextureOptions(t),this.texture.isRenderTargetTexture=!0}fromEquirectangularTexture(e,t){this.texture.type=t.type,this.texture.colorSpace=t.colorSpace,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;const i={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},r=new Tg(5,5,5),s=new Dc({name:"CubemapFromEquirect",uniforms:v0(i.uniforms),vertexShader:i.vertexShader,fragmentShader:i.fragmentShader,side:hc,blending:ad});s.uniforms.tEquirect.value=t;const o=new Oo(r,s),l=t.minFilter;return t.minFilter===rd&&(t.minFilter=os),new xk(1,10,this).update(e,o),t.minFilter=l,o.geometry.dispose(),o.material.dispose(),this}clear(e,t=!0,i=!0,r=!0){const s=e.getRenderTarget();for(let o=0;o<6;o++)e.setRenderTarget(this,o),e.clear(t,i,r);e.setRenderTarget(s)}}class Wv extends Zr{constructor(){super(),this.isGroup=!0,this.type="Group"}}const Due={type:"move"};class D1{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new Wv,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new Wv,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new De,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new De),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new Wv,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new De,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new De),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const t=this._hand;if(t)for(const i of e.hand.values())this._getHandJoint(t,i)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,t,i){let r=null,s=null,o=null;const l=this._targetRay,a=this._grip,u=this._hand;if(e&&t.session.visibilityState!=="visible-blurred"){if(u&&e.hand){o=!0;for(const p of e.hand.values()){const v=t.getJointPose(p,i),c=this._getHandJoint(u,p);v!==null&&(c.matrix.fromArray(v.transform.matrix),c.matrix.decompose(c.position,c.rotation,c.scale),c.matrixWorldNeedsUpdate=!0,c.jointRadius=v.radius),c.visible=v!==null}const m=u.joints["index-finger-tip"],d=u.joints["thumb-tip"],b=m.position.distanceTo(d.position),g=.02,_=.005;u.inputState.pinching&&b>g+_?(u.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!u.inputState.pinching&&b<=g-_&&(u.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else a!==null&&e.gripSpace&&(s=t.getPose(e.gripSpace,i),s!==null&&(a.matrix.fromArray(s.transform.matrix),a.matrix.decompose(a.position,a.rotation,a.scale),a.matrixWorldNeedsUpdate=!0,s.linearVelocity?(a.hasLinearVelocity=!0,a.linearVelocity.copy(s.linearVelocity)):a.hasLinearVelocity=!1,s.angularVelocity?(a.hasAngularVelocity=!0,a.angularVelocity.copy(s.angularVelocity)):a.hasAngularVelocity=!1));l!==null&&(r=t.getPose(e.targetRaySpace,i),r===null&&s!==null&&(r=s),r!==null&&(l.matrix.fromArray(r.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),l.matrixWorldNeedsUpdate=!0,r.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(r.linearVelocity)):l.hasLinearVelocity=!1,r.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(r.angularVelocity)):l.hasAngularVelocity=!1,this.dispatchEvent(Due)))}return l!==null&&(l.visible=r!==null),a!==null&&(a.visible=s!==null),u!==null&&(u.visible=o!==null),this}_getHandJoint(e,t){if(e.joints[t.jointName]===void 0){const i=new Wv;i.matrixAutoUpdate=!1,i.visible=!1,e.joints[t.jointName]=i,e.add(i)}return e.joints[t.jointName]}}class jE{constructor(e,t=25e-5){this.isFogExp2=!0,this.name="",this.color=new jn(e),this.density=t}clone(){return new jE(this.color,this.density)}toJSON(){return{type:"FogExp2",name:this.name,color:this.color.getHex(),density:this.density}}}class XE{constructor(e,t=1,i=1e3){this.isFog=!0,this.name="",this.color=new jn(e),this.near=t,this.far=i}clone(){return new XE(this.color,this.near,this.far)}toJSON(){return{type:"Fog",name:this.name,color:this.color.getHex(),near:this.near,far:this.far}}}class ib extends Zr{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.backgroundRotation=new su,this.environmentIntensity=1,this.environmentRotation=new su,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,t){return super.copy(e,t),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,this.backgroundRotation.copy(e.backgroundRotation),this.environmentIntensity=e.environmentIntensity,this.environmentRotation.copy(e.environmentRotation),e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const t=super.toJSON(e);return this.fog!==null&&(t.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(t.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(t.object.backgroundIntensity=this.backgroundIntensity),t.object.backgroundRotation=this.backgroundRotation.toArray(),this.environmentIntensity!==1&&(t.object.environmentIntensity=this.environmentIntensity),t.object.environmentRotation=this.environmentRotation.toArray(),t}}class qE{constructor(e,t){this.isInterleavedBuffer=!0,this.array=e,this.stride=t,this.count=e!==void 0?e.length/t:0,this.usage=w_,this.updateRanges=[],this.version=0,this.uuid=nu()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,t,i){e*=this.stride,i*=t.stride;for(let r=0,s=this.stride;r<s;r++)this.array[e+r]=t.array[i+r];return this}set(e,t=0){return this.array.set(e,t),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=nu()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const t=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),i=new this.constructor(t,this.stride);return i.setUsage(this.usage),i}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=nu()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const ic=new De;class _g{constructor(e,t,i,r=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=t,this.offset=i,this.normalized=r}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let t=0,i=this.data.count;t<i;t++)ic.fromBufferAttribute(this,t),ic.applyMatrix4(e),this.setXYZ(t,ic.x,ic.y,ic.z);return this}applyNormalMatrix(e){for(let t=0,i=this.count;t<i;t++)ic.fromBufferAttribute(this,t),ic.applyNormalMatrix(e),this.setXYZ(t,ic.x,ic.y,ic.z);return this}transformDirection(e){for(let t=0,i=this.count;t<i;t++)ic.fromBufferAttribute(this,t),ic.transformDirection(e),this.setXYZ(t,ic.x,ic.y,ic.z);return this}getComponent(e,t){let i=this.array[e*this.data.stride+this.offset+t];return this.normalized&&(i=lc(i,this.array)),i}setComponent(e,t,i){return this.normalized&&(i=ur(i,this.array)),this.data.array[e*this.data.stride+this.offset+t]=i,this}setX(e,t){return this.normalized&&(t=ur(t,this.array)),this.data.array[e*this.data.stride+this.offset]=t,this}setY(e,t){return this.normalized&&(t=ur(t,this.array)),this.data.array[e*this.data.stride+this.offset+1]=t,this}setZ(e,t){return this.normalized&&(t=ur(t,this.array)),this.data.array[e*this.data.stride+this.offset+2]=t,this}setW(e,t){return this.normalized&&(t=ur(t,this.array)),this.data.array[e*this.data.stride+this.offset+3]=t,this}getX(e){let t=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(t=lc(t,this.array)),t}getY(e){let t=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(t=lc(t,this.array)),t}getZ(e){let t=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(t=lc(t,this.array)),t}getW(e){let t=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(t=lc(t,this.array)),t}setXY(e,t,i){return e=e*this.data.stride+this.offset,this.normalized&&(t=ur(t,this.array),i=ur(i,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=i,this}setXYZ(e,t,i,r){return e=e*this.data.stride+this.offset,this.normalized&&(t=ur(t,this.array),i=ur(i,this.array),r=ur(r,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=i,this.data.array[e+2]=r,this}setXYZW(e,t,i,r,s){return e=e*this.data.stride+this.offset,this.normalized&&(t=ur(t,this.array),i=ur(i,this.array),r=ur(r,this.array),s=ur(s,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=i,this.data.array[e+2]=r,this.data.array[e+3]=s,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let i=0;i<this.count;i++){const r=i*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)t.push(this.data.array[r+s])}return new Is(new this.array.constructor(t),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new _g(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let i=0;i<this.count;i++){const r=i*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)t.push(this.data.array[r+s])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class KM extends Fl{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new jn(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let Rv;const wy=new De,Mv=new De,Ov=new De,Lv=new rn,Cy=new rn,Sk=new Wi,Vx=new De,Ty=new De,Wx=new De,VN=new rn,TT=new rn,WN=new rn;class Ek extends Zr{constructor(e=new KM){if(super(),this.isSprite=!0,this.type="Sprite",Rv===void 0){Rv=new hr;const t=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),i=new qE(t,5);Rv.setIndex([0,1,2,0,2,3]),Rv.setAttribute("position",new _g(i,3,0,!1)),Rv.setAttribute("uv",new _g(i,2,3,!1))}this.geometry=Rv,this.material=e,this.center=new rn(.5,.5),this.count=1}raycast(e,t){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),Mv.setFromMatrixScale(this.matrixWorld),Sk.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),Ov.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&Mv.multiplyScalar(-Ov.z);const i=this.material.rotation;let r,s;i!==0&&(s=Math.cos(i),r=Math.sin(i));const o=this.center;jx(Vx.set(-.5,-.5,0),Ov,o,Mv,r,s),jx(Ty.set(.5,-.5,0),Ov,o,Mv,r,s),jx(Wx.set(.5,.5,0),Ov,o,Mv,r,s),VN.set(0,0),TT.set(1,0),WN.set(1,1);let l=e.ray.intersectTriangle(Vx,Ty,Wx,!1,wy);if(l===null&&(jx(Ty.set(-.5,.5,0),Ov,o,Mv,r,s),TT.set(0,1),l=e.ray.intersectTriangle(Vx,Wx,Ty,!1,wy),l===null))return;const a=e.ray.origin.distanceTo(wy);a<e.near||a>e.far||t.push({distance:a,point:wy.clone(),uv:Pc.getInterpolation(wy,Vx,Ty,Wx,VN,TT,WN,new rn),face:null,object:this})}copy(e,t){return super.copy(e,t),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}function jx(n,e,t,i,r,s){Lv.subVectors(n,t).addScalar(.5).multiply(i),r!==void 0?(Cy.x=s*Lv.x-r*Lv.y,Cy.y=r*Lv.x+s*Lv.y):Cy.copy(Lv),n.copy(e),n.x+=Cy.x,n.y+=Cy.y,n.applyMatrix4(Sk)}const Xx=new De,jN=new De;class wk extends Zr{constructor(){super(),this.isLOD=!0,this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const t=e.levels;for(let i=0,r=t.length;i<r;i++){const s=t[i];this.addLevel(s.object.clone(),s.distance,s.hysteresis)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,t=0,i=0){t=Math.abs(t);const r=this.levels;let s;for(s=0;s<r.length&&!(t<r[s].distance);s++);return r.splice(s,0,{distance:t,hysteresis:i,object:e}),this.add(e),this}removeLevel(e){const t=this.levels;for(let i=0;i<t.length;i++)if(t[i].distance===e){const r=t.splice(i,1);return this.remove(r[0].object),!0}return!1}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const t=this.levels;if(t.length>0){let i,r;for(i=1,r=t.length;i<r;i++){let s=t[i].distance;if(t[i].object.visible&&(s-=s*t[i].hysteresis),e<s)break}return t[i-1].object}return null}raycast(e,t){if(this.levels.length>0){Xx.setFromMatrixPosition(this.matrixWorld);const r=e.ray.origin.distanceTo(Xx);this.getObjectForDistance(r).raycast(e,t)}}update(e){const t=this.levels;if(t.length>1){Xx.setFromMatrixPosition(e.matrixWorld),jN.setFromMatrixPosition(this.matrixWorld);const i=Xx.distanceTo(jN)/e.zoom;t[0].object.visible=!0;let r,s;for(r=1,s=t.length;r<s;r++){let o=t[r].distance;if(t[r].object.visible&&(o-=o*t[r].hysteresis),i>=o)t[r-1].object.visible=!1,t[r].object.visible=!0;else break}for(this._currentLevel=r-1;r<s;r++)t[r].object.visible=!1}}toJSON(e){const t=super.toJSON(e);this.autoUpdate===!1&&(t.object.autoUpdate=!1),t.object.levels=[];const i=this.levels;for(let r=0,s=i.length;r<s;r++){const o=i[r];t.object.levels.push({object:o.object.uuid,distance:o.distance,hysteresis:o.hysteresis})}return t}}const XN=new De,qN=new Kr,YN=new Kr,Fue=new De,KN=new Wi,qx=new De,AT=new gl,ZN=new Wi,RT=new Cg;class Ck extends Oo{constructor(e,t){super(e,t),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode=SR,this.bindMatrix=new Wi,this.bindMatrixInverse=new Wi,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const e=this.geometry;this.boundingBox===null&&(this.boundingBox=new Nl),this.boundingBox.makeEmpty();const t=e.getAttribute("position");for(let i=0;i<t.count;i++)this.getVertexPosition(i,qx),this.boundingBox.expandByPoint(qx)}computeBoundingSphere(){const e=this.geometry;this.boundingSphere===null&&(this.boundingSphere=new gl),this.boundingSphere.makeEmpty();const t=e.getAttribute("position");for(let i=0;i<t.count;i++)this.getVertexPosition(i,qx),this.boundingSphere.expandByPoint(qx)}copy(e,t){return super.copy(e,t),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}raycast(e,t){const i=this.material,r=this.matrixWorld;i!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),AT.copy(this.boundingSphere),AT.applyMatrix4(r),e.ray.intersectsSphere(AT)!==!1&&(ZN.copy(r).invert(),RT.copy(e.ray).applyMatrix4(ZN),!(this.boundingBox!==null&&RT.intersectsBox(this.boundingBox)===!1)&&this._computeIntersections(e,t,RT)))}getVertexPosition(e,t){return super.getVertexPosition(e,t),this.applyBoneTransform(e,t),t}bind(e,t){this.skeleton=e,t===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.copy(t).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new Kr,t=this.geometry.attributes.skinWeight;for(let i=0,r=t.count;i<r;i++){e.fromBufferAttribute(t,i);const s=1/e.manhattanLength();s!==1/0?e.multiplyScalar(s):e.set(1,0,0,0),t.setXYZW(i,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode===SR?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode===ek?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(e,t){const i=this.skeleton,r=this.geometry;qN.fromBufferAttribute(r.attributes.skinIndex,e),YN.fromBufferAttribute(r.attributes.skinWeight,e),XN.copy(t).applyMatrix4(this.bindMatrix),t.set(0,0,0);for(let s=0;s<4;s++){const o=YN.getComponent(s);if(o!==0){const l=qN.getComponent(s);KN.multiplyMatrices(i.bones[l].matrixWorld,i.boneInverses[l]),t.addScaledVector(Fue.copy(XN).applyMatrix4(KN),o)}}return t.applyMatrix4(this.bindMatrixInverse)}}class ZM extends Zr{constructor(){super(),this.isBone=!0,this.type="Bone"}}class bh extends ps{constructor(e=null,t=1,i=1,r,s,o,l,a,u=ml,m=ml,d,b){super(null,o,l,a,u,m,r,s,d,b),this.isDataTexture=!0,this.image={data:e,width:t,height:i},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const QN=new Wi,Bue=new Wi;class YE{constructor(e=[],t=[]){this.uuid=nu(),this.bones=e.slice(0),this.boneInverses=t,this.boneMatrices=null,this.boneTexture=null,this.init()}init(){const e=this.bones,t=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),t.length===0)this.calculateInverses();else if(e.length!==t.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let i=0,r=this.bones.length;i<r;i++)this.boneInverses.push(new Wi)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,t=this.bones.length;e<t;e++){const i=new Wi;this.bones[e]&&i.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(i)}}pose(){for(let e=0,t=this.bones.length;e<t;e++){const i=this.bones[e];i&&i.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,t=this.bones.length;e<t;e++){const i=this.bones[e];i&&(i.parent&&i.parent.isBone?(i.matrix.copy(i.parent.matrixWorld).invert(),i.matrix.multiply(i.matrixWorld)):i.matrix.copy(i.matrixWorld),i.matrix.decompose(i.position,i.quaternion,i.scale))}}update(){const e=this.bones,t=this.boneInverses,i=this.boneMatrices,r=this.boneTexture;for(let s=0,o=e.length;s<o;s++){const l=e[s]?e[s].matrixWorld:Bue;QN.multiplyMatrices(l,t[s]),QN.toArray(i,s*16)}r!==null&&(r.needsUpdate=!0)}clone(){return new YE(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const t=new Float32Array(e*e*4);t.set(this.boneMatrices);const i=new bh(t,e,e,oa,bo);return i.needsUpdate=!0,this.boneMatrices=t,this.boneTexture=i,this}getBoneByName(e){for(let t=0,i=this.bones.length;t<i;t++){const r=this.bones[t];if(r.name===e)return r}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,t){this.uuid=e.uuid;for(let i=0,r=e.bones.length;i<r;i++){const s=e.bones[i];let o=t[s];o===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",s),o=new ZM),this.bones.push(o),this.boneInverses.push(new Wi().fromArray(e.boneInverses[i]))}return this.init(),this}toJSON(){const e={metadata:{version:4.7,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const t=this.bones,i=this.boneInverses;for(let r=0,s=t.length;r<s;r++){const o=t[r];e.bones.push(o.uuid);const l=i[r];e.boneInverses.push(l.toArray())}return e}}class y0 extends Is{constructor(e,t,i,r=1){super(e,t,i),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const Pv=new Wi,JN=new Wi,Yx=[],eI=new Nl,Uue=new Wi,Ay=new Oo,Ry=new gl;class Tk extends Oo{constructor(e,t,i){super(e,t),this.isInstancedMesh=!0,this.instanceMatrix=new y0(new Float32Array(i*16),16),this.instanceColor=null,this.morphTexture=null,this.count=i,this.boundingBox=null,this.boundingSphere=null;for(let r=0;r<i;r++)this.setMatrixAt(r,Uue)}computeBoundingBox(){const e=this.geometry,t=this.count;this.boundingBox===null&&(this.boundingBox=new Nl),e.boundingBox===null&&e.computeBoundingBox(),this.boundingBox.makeEmpty();for(let i=0;i<t;i++)this.getMatrixAt(i,Pv),eI.copy(e.boundingBox).applyMatrix4(Pv),this.boundingBox.union(eI)}computeBoundingSphere(){const e=this.geometry,t=this.count;this.boundingSphere===null&&(this.boundingSphere=new gl),e.boundingSphere===null&&e.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let i=0;i<t;i++)this.getMatrixAt(i,Pv),Ry.copy(e.boundingSphere).applyMatrix4(Pv),this.boundingSphere.union(Ry)}copy(e,t){return super.copy(e,t),this.instanceMatrix.copy(e.instanceMatrix),e.morphTexture!==null&&(this.morphTexture=e.morphTexture.clone()),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}getColorAt(e,t){t.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,t){t.fromArray(this.instanceMatrix.array,e*16)}getMorphAt(e,t){const i=t.morphTargetInfluences,r=this.morphTexture.source.data.data,s=i.length+1,o=e*s+1;for(let l=0;l<i.length;l++)i[l]=r[o+l]}raycast(e,t){const i=this.matrixWorld,r=this.count;if(Ay.geometry=this.geometry,Ay.material=this.material,Ay.material!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),Ry.copy(this.boundingSphere),Ry.applyMatrix4(i),e.ray.intersectsSphere(Ry)!==!1))for(let s=0;s<r;s++){this.getMatrixAt(s,Pv),JN.multiplyMatrices(i,Pv),Ay.matrixWorld=JN,Ay.raycast(e,Yx);for(let o=0,l=Yx.length;o<l;o++){const a=Yx[o];a.instanceId=s,a.object=this,t.push(a)}Yx.length=0}}setColorAt(e,t){this.instanceColor===null&&(this.instanceColor=new y0(new Float32Array(this.instanceMatrix.count*3).fill(1),3)),t.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,t){t.toArray(this.instanceMatrix.array,e*16)}setMorphAt(e,t){const i=t.morphTargetInfluences,r=i.length+1;this.morphTexture===null&&(this.morphTexture=new bh(new Float32Array(r*this.count),r,this.count,eb,bo));const s=this.morphTexture.source.data.data;let o=0;for(let u=0;u<i.length;u++)o+=i[u];const l=this.geometry.morphTargetsRelative?1:1-o,a=r*e;s[a]=l,s.set(i,a+1)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"}),this.morphTexture!==null&&(this.morphTexture.dispose(),this.morphTexture=null)}}const MT=new De,kue=new De,zue=new ar;class sf{constructor(e=new De(1,0,0),t=0){this.isPlane=!0,this.normal=e,this.constant=t}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,i,r){return this.normal.set(e,t,i),this.constant=r,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,i){const r=MT.subVectors(i,t).cross(kue.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(r,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return t.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,t){const i=e.delta(MT),r=this.normal.dot(i);if(r===0)return this.distanceToPoint(e.start)===0?t.copy(e.start):null;const s=-(e.start.dot(this.normal)+this.constant)/r;return s<0||s>1?null:t.copy(e.start).addScaledVector(i,s)}intersectsLine(e){const t=this.distanceToPoint(e.start),i=this.distanceToPoint(e.end);return t<0&&i>0||i<0&&t>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){const i=t||zue.getNormalMatrix(e),r=this.coplanarPoint(MT).applyMatrix4(e),s=this.normal.applyMatrix3(i).normalize();return this.constant=-r.dot(s),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const Om=new gl,$ue=new rn(.5,.5),Kx=new De;class P0{constructor(e=new sf,t=new sf,i=new sf,r=new sf,s=new sf,o=new sf){this.planes=[e,t,i,r,s,o]}set(e,t,i,r,s,o){const l=this.planes;return l[0].copy(e),l[1].copy(t),l[2].copy(i),l[3].copy(r),l[4].copy(s),l[5].copy(o),this}copy(e){const t=this.planes;for(let i=0;i<6;i++)t[i].copy(e.planes[i]);return this}setFromProjectionMatrix(e,t=ku){const i=this.planes,r=e.elements,s=r[0],o=r[1],l=r[2],a=r[3],u=r[4],m=r[5],d=r[6],b=r[7],g=r[8],_=r[9],p=r[10],v=r[11],c=r[12],x=r[13],w=r[14],T=r[15];if(i[0].setComponents(a-s,b-u,v-g,T-c).normalize(),i[1].setComponents(a+s,b+u,v+g,T+c).normalize(),i[2].setComponents(a+o,b+m,v+_,T+x).normalize(),i[3].setComponents(a-o,b-m,v-_,T-x).normalize(),i[4].setComponents(a-l,b-d,v-p,T-w).normalize(),t===ku)i[5].setComponents(a+l,b+d,v+p,T+w).normalize();else if(t===C_)i[5].setComponents(l,d,p,w).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+t);return this}intersectsObject(e){if(e.boundingSphere!==void 0)e.boundingSphere===null&&e.computeBoundingSphere(),Om.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const t=e.geometry;t.boundingSphere===null&&t.computeBoundingSphere(),Om.copy(t.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(Om)}intersectsSprite(e){Om.center.set(0,0,0);const t=$ue.distanceTo(e.center);return Om.radius=.7071067811865476+t,Om.applyMatrix4(e.matrixWorld),this.intersectsSphere(Om)}intersectsSphere(e){const t=this.planes,i=e.center,r=-e.radius;for(let s=0;s<6;s++)if(t[s].distanceToPoint(i)<r)return!1;return!0}intersectsBox(e){const t=this.planes;for(let i=0;i<6;i++){const r=t[i];if(Kx.x=r.normal.x>0?e.max.x:e.min.x,Kx.y=r.normal.y>0?e.max.y:e.min.y,Kx.z=r.normal.z>0?e.max.z:e.min.z,r.distanceToPoint(Kx)<0)return!1}return!0}containsPoint(e){const t=this.planes;for(let i=0;i<6;i++)if(t[i].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}const Qh=new Wi,Jh=new P0;class KE{constructor(){this.coordinateSystem=ku}intersectsObject(e,t){if(!t.isArrayCamera||t.cameras.length===0)return!1;for(let i=0;i<t.cameras.length;i++){const r=t.cameras[i];if(Qh.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),Jh.setFromProjectionMatrix(Qh,this.coordinateSystem),Jh.intersectsObject(e))return!0}return!1}intersectsSprite(e,t){if(!t||!t.cameras||t.cameras.length===0)return!1;for(let i=0;i<t.cameras.length;i++){const r=t.cameras[i];if(Qh.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),Jh.setFromProjectionMatrix(Qh,this.coordinateSystem),Jh.intersectsSprite(e))return!0}return!1}intersectsSphere(e,t){if(!t||!t.cameras||t.cameras.length===0)return!1;for(let i=0;i<t.cameras.length;i++){const r=t.cameras[i];if(Qh.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),Jh.setFromProjectionMatrix(Qh,this.coordinateSystem),Jh.intersectsSphere(e))return!0}return!1}intersectsBox(e,t){if(!t||!t.cameras||t.cameras.length===0)return!1;for(let i=0;i<t.cameras.length;i++){const r=t.cameras[i];if(Qh.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),Jh.setFromProjectionMatrix(Qh,this.coordinateSystem),Jh.intersectsBox(e))return!0}return!1}containsPoint(e,t){if(!t||!t.cameras||t.cameras.length===0)return!1;for(let i=0;i<t.cameras.length;i++){const r=t.cameras[i];if(Qh.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),Jh.setFromProjectionMatrix(Qh,this.coordinateSystem),Jh.containsPoint(e))return!0}return!1}clone(){return new KE}}function OT(n,e){return n-e}function Hue(n,e){return n.z-e.z}function Gue(n,e){return e.z-n.z}class Vue{constructor(){this.index=0,this.pool=[],this.list=[]}push(e,t,i,r){const s=this.pool,o=this.list;this.index>=s.length&&s.push({start:-1,count:-1,z:-1,index:-1});const l=s[this.index];o.push(l),this.index++,l.start=e,l.count=t,l.z=i,l.index=r}reset(){this.list.length=0,this.index=0}}const Rc=new Wi,Wue=new jn(1,1,1),tI=new P0,jue=new KE,Zx=new Nl,Lm=new gl,My=new De,nI=new De,Xue=new De,LT=new Vue,Ml=new Oo,Qx=[];function que(n,e,t=0){const i=e.itemSize;if(n.isInterleavedBufferAttribute||n.array.constructor!==e.array.constructor){const r=n.count;for(let s=0;s<r;s++)for(let o=0;o<i;o++)e.setComponent(s+t,o,n.getComponent(s,o))}else e.array.set(n.array,t*i);e.needsUpdate=!0}function Pm(n,e){if(n.constructor!==e.constructor){const t=Math.min(n.length,e.length);for(let i=0;i<t;i++)e[i]=n[i]}else{const t=Math.min(n.length,e.length);e.set(new n.constructor(n.buffer,0,t))}}class Ak extends Oo{constructor(e,t,i=t*2,r){super(new hr,r),this.isBatchedMesh=!0,this.perObjectFrustumCulled=!0,this.sortObjects=!0,this.boundingBox=null,this.boundingSphere=null,this.customSort=null,this._instanceInfo=[],this._geometryInfo=[],this._availableInstanceIds=[],this._availableGeometryIds=[],this._nextIndexStart=0,this._nextVertexStart=0,this._geometryCount=0,this._visibilityChanged=!0,this._geometryInitialized=!1,this._maxInstanceCount=e,this._maxVertexCount=t,this._maxIndexCount=i,this._multiDrawCounts=new Int32Array(e),this._multiDrawStarts=new Int32Array(e),this._multiDrawCount=0,this._multiDrawInstances=null,this._matricesTexture=null,this._indirectTexture=null,this._colorsTexture=null,this._initMatricesTexture(),this._initIndirectTexture()}get maxInstanceCount(){return this._maxInstanceCount}get instanceCount(){return this._instanceInfo.length-this._availableInstanceIds.length}get unusedVertexCount(){return this._maxVertexCount-this._nextVertexStart}get unusedIndexCount(){return this._maxIndexCount-this._nextIndexStart}_initMatricesTexture(){let e=Math.sqrt(this._maxInstanceCount*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const t=new Float32Array(e*e*4),i=new bh(t,e,e,oa,bo);this._matricesTexture=i}_initIndirectTexture(){let e=Math.sqrt(this._maxInstanceCount);e=Math.ceil(e);const t=new Uint32Array(e*e),i=new bh(t,e,e,tb,md);this._indirectTexture=i}_initColorsTexture(){let e=Math.sqrt(this._maxInstanceCount);e=Math.ceil(e);const t=new Float32Array(e*e*4).fill(1),i=new bh(t,e,e,oa,bo);i.colorSpace=$r.workingColorSpace,this._colorsTexture=i}_initializeGeometry(e){const t=this.geometry,i=this._maxVertexCount,r=this._maxIndexCount;if(this._geometryInitialized===!1){for(const s in e.attributes){const o=e.getAttribute(s),{array:l,itemSize:a,normalized:u}=o,m=new l.constructor(i*a),d=new Is(m,a,u);t.setAttribute(s,d)}if(e.getIndex()!==null){const s=i>65535?new Uint32Array(r):new Uint16Array(r);t.setIndex(new Is(s,1))}this._geometryInitialized=!0}}_validateGeometry(e){const t=this.geometry;if(!!e.getIndex()!=!!t.getIndex())throw new Error('THREE.BatchedMesh: All geometries must consistently have "index".');for(const i in t.attributes){if(!e.hasAttribute(i))throw new Error(`THREE.BatchedMesh: Added geometry missing "${i}". All geometries must have consistent attributes.`);const r=e.getAttribute(i),s=t.getAttribute(i);if(r.itemSize!==s.itemSize||r.normalized!==s.normalized)throw new Error("THREE.BatchedMesh: All attributes must have a consistent itemSize and normalized value.")}}validateInstanceId(e){const t=this._instanceInfo;if(e<0||e>=t.length||t[e].active===!1)throw new Error(`THREE.BatchedMesh: Invalid instanceId ${e}. Instance is either out of range or has been deleted.`)}validateGeometryId(e){const t=this._geometryInfo;if(e<0||e>=t.length||t[e].active===!1)throw new Error(`THREE.BatchedMesh: Invalid geometryId ${e}. Geometry is either out of range or has been deleted.`)}setCustomSort(e){return this.customSort=e,this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Nl);const e=this.boundingBox,t=this._instanceInfo;e.makeEmpty();for(let i=0,r=t.length;i<r;i++){if(t[i].active===!1)continue;const s=t[i].geometryIndex;this.getMatrixAt(i,Rc),this.getBoundingBoxAt(s,Zx).applyMatrix4(Rc),e.union(Zx)}}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new gl);const e=this.boundingSphere,t=this._instanceInfo;e.makeEmpty();for(let i=0,r=t.length;i<r;i++){if(t[i].active===!1)continue;const s=t[i].geometryIndex;this.getMatrixAt(i,Rc),this.getBoundingSphereAt(s,Lm).applyMatrix4(Rc),e.union(Lm)}}addInstance(e){if(this._instanceInfo.length>=this.maxInstanceCount&&this._availableInstanceIds.length===0)throw new Error("THREE.BatchedMesh: Maximum item count reached.");const i={visible:!0,active:!0,geometryIndex:e};let r=null;this._availableInstanceIds.length>0?(this._availableInstanceIds.sort(OT),r=this._availableInstanceIds.shift(),this._instanceInfo[r]=i):(r=this._instanceInfo.length,this._instanceInfo.push(i));const s=this._matricesTexture;Rc.identity().toArray(s.image.data,r*16),s.needsUpdate=!0;const o=this._colorsTexture;return o&&(Wue.toArray(o.image.data,r*4),o.needsUpdate=!0),this._visibilityChanged=!0,r}addGeometry(e,t=-1,i=-1){this._initializeGeometry(e),this._validateGeometry(e);const r={vertexStart:-1,vertexCount:-1,reservedVertexCount:-1,indexStart:-1,indexCount:-1,reservedIndexCount:-1,start:-1,count:-1,boundingBox:null,boundingSphere:null,active:!0},s=this._geometryInfo;r.vertexStart=this._nextVertexStart,r.reservedVertexCount=t===-1?e.getAttribute("position").count:t;const o=e.getIndex();if(o!==null&&(r.indexStart=this._nextIndexStart,r.reservedIndexCount=i===-1?o.count:i),r.indexStart!==-1&&r.indexStart+r.reservedIndexCount>this._maxIndexCount||r.vertexStart+r.reservedVertexCount>this._maxVertexCount)throw new Error("THREE.BatchedMesh: Reserved space request exceeds the maximum buffer size.");let a;return this._availableGeometryIds.length>0?(this._availableGeometryIds.sort(OT),a=this._availableGeometryIds.shift(),s[a]=r):(a=this._geometryCount,this._geometryCount++,s.push(r)),this.setGeometryAt(a,e),this._nextIndexStart=r.indexStart+r.reservedIndexCount,this._nextVertexStart=r.vertexStart+r.reservedVertexCount,a}setGeometryAt(e,t){if(e>=this._geometryCount)throw new Error("THREE.BatchedMesh: Maximum geometry count reached.");this._validateGeometry(t);const i=this.geometry,r=i.getIndex()!==null,s=i.getIndex(),o=t.getIndex(),l=this._geometryInfo[e];if(r&&o.count>l.reservedIndexCount||t.attributes.position.count>l.reservedVertexCount)throw new Error("THREE.BatchedMesh: Reserved space not large enough for provided geometry.");const a=l.vertexStart,u=l.reservedVertexCount;l.vertexCount=t.getAttribute("position").count;for(const m in i.attributes){const d=t.getAttribute(m),b=i.getAttribute(m);que(d,b,a);const g=d.itemSize;for(let _=d.count,p=u;_<p;_++){const v=a+_;for(let c=0;c<g;c++)b.setComponent(v,c,0)}b.needsUpdate=!0,b.addUpdateRange(a*g,u*g)}if(r){const m=l.indexStart,d=l.reservedIndexCount;l.indexCount=t.getIndex().count;for(let b=0;b<o.count;b++)s.setX(m+b,a+o.getX(b));for(let b=o.count,g=d;b<g;b++)s.setX(m+b,a);s.needsUpdate=!0,s.addUpdateRange(m,l.reservedIndexCount)}return l.start=r?l.indexStart:l.vertexStart,l.count=r?l.indexCount:l.vertexCount,l.boundingBox=null,t.boundingBox!==null&&(l.boundingBox=t.boundingBox.clone()),l.boundingSphere=null,t.boundingSphere!==null&&(l.boundingSphere=t.boundingSphere.clone()),this._visibilityChanged=!0,e}deleteGeometry(e){const t=this._geometryInfo;if(e>=t.length||t[e].active===!1)return this;const i=this._instanceInfo;for(let r=0,s=i.length;r<s;r++)i[r].active&&i[r].geometryIndex===e&&this.deleteInstance(r);return t[e].active=!1,this._availableGeometryIds.push(e),this._visibilityChanged=!0,this}deleteInstance(e){return this.validateInstanceId(e),this._instanceInfo[e].active=!1,this._availableInstanceIds.push(e),this._visibilityChanged=!0,this}optimize(){let e=0,t=0;const i=this._geometryInfo,r=i.map((o,l)=>l).sort((o,l)=>i[o].vertexStart-i[l].vertexStart),s=this.geometry;for(let o=0,l=i.length;o<l;o++){const a=r[o],u=i[a];if(u.active!==!1){if(s.index!==null){if(u.indexStart!==t){const{indexStart:m,vertexStart:d,reservedIndexCount:b}=u,g=s.index,_=g.array,p=e-d;for(let v=m;v<m+b;v++)_[v]=_[v]+p;g.array.copyWithin(t,m,m+b),g.addUpdateRange(t,b),u.indexStart=t}t+=u.reservedIndexCount}if(u.vertexStart!==e){const{vertexStart:m,reservedVertexCount:d}=u,b=s.attributes;for(const g in b){const _=b[g],{array:p,itemSize:v}=_;p.copyWithin(e*v,m*v,(m+d)*v),_.addUpdateRange(e*v,d*v)}u.vertexStart=e}e+=u.reservedVertexCount,u.start=s.index?u.indexStart:u.vertexStart,this._nextIndexStart=s.index?u.indexStart+u.reservedIndexCount:0,this._nextVertexStart=u.vertexStart+u.reservedVertexCount}}return this}getBoundingBoxAt(e,t){if(e>=this._geometryCount)return null;const i=this.geometry,r=this._geometryInfo[e];if(r.boundingBox===null){const s=new Nl,o=i.index,l=i.attributes.position;for(let a=r.start,u=r.start+r.count;a<u;a++){let m=a;o&&(m=o.getX(m)),s.expandByPoint(My.fromBufferAttribute(l,m))}r.boundingBox=s}return t.copy(r.boundingBox),t}getBoundingSphereAt(e,t){if(e>=this._geometryCount)return null;const i=this.geometry,r=this._geometryInfo[e];if(r.boundingSphere===null){const s=new gl;this.getBoundingBoxAt(e,Zx),Zx.getCenter(s.center);const o=i.index,l=i.attributes.position;let a=0;for(let u=r.start,m=r.start+r.count;u<m;u++){let d=u;o&&(d=o.getX(d)),My.fromBufferAttribute(l,d),a=Math.max(a,s.center.distanceToSquared(My))}s.radius=Math.sqrt(a),r.boundingSphere=s}return t.copy(r.boundingSphere),t}setMatrixAt(e,t){this.validateInstanceId(e);const i=this._matricesTexture,r=this._matricesTexture.image.data;return t.toArray(r,e*16),i.needsUpdate=!0,this}getMatrixAt(e,t){return this.validateInstanceId(e),t.fromArray(this._matricesTexture.image.data,e*16)}setColorAt(e,t){return this.validateInstanceId(e),this._colorsTexture===null&&this._initColorsTexture(),t.toArray(this._colorsTexture.image.data,e*4),this._colorsTexture.needsUpdate=!0,this}getColorAt(e,t){return this.validateInstanceId(e),t.fromArray(this._colorsTexture.image.data,e*4)}setVisibleAt(e,t){return this.validateInstanceId(e),this._instanceInfo[e].visible===t?this:(this._instanceInfo[e].visible=t,this._visibilityChanged=!0,this)}getVisibleAt(e){return this.validateInstanceId(e),this._instanceInfo[e].visible}setGeometryIdAt(e,t){return this.validateInstanceId(e),this.validateGeometryId(t),this._instanceInfo[e].geometryIndex=t,this}getGeometryIdAt(e){return this.validateInstanceId(e),this._instanceInfo[e].geometryIndex}getGeometryRangeAt(e,t={}){this.validateGeometryId(e);const i=this._geometryInfo[e];return t.vertexStart=i.vertexStart,t.vertexCount=i.vertexCount,t.reservedVertexCount=i.reservedVertexCount,t.indexStart=i.indexStart,t.indexCount=i.indexCount,t.reservedIndexCount=i.reservedIndexCount,t.start=i.start,t.count=i.count,t}setInstanceCount(e){const t=this._availableInstanceIds,i=this._instanceInfo;for(t.sort(OT);t[t.length-1]===i.length;)i.pop(),t.pop();if(e<i.length)throw new Error(`BatchedMesh: Instance ids outside the range ${e} are being used. Cannot shrink instance count.`);const r=new Int32Array(e),s=new Int32Array(e);Pm(this._multiDrawCounts,r),Pm(this._multiDrawStarts,s),this._multiDrawCounts=r,this._multiDrawStarts=s,this._maxInstanceCount=e;const o=this._indirectTexture,l=this._matricesTexture,a=this._colorsTexture;o.dispose(),this._initIndirectTexture(),Pm(o.image.data,this._indirectTexture.image.data),l.dispose(),this._initMatricesTexture(),Pm(l.image.data,this._matricesTexture.image.data),a&&(a.dispose(),this._initColorsTexture(),Pm(a.image.data,this._colorsTexture.image.data))}setGeometrySize(e,t){const i=[...this._geometryInfo].filter(l=>l.active);if(Math.max(...i.map(l=>l.vertexStart+l.reservedVertexCount))>e)throw new Error(`BatchedMesh: Geometry vertex values are being used outside the range ${t}. Cannot shrink further.`);if(this.geometry.index&&Math.max(...i.map(a=>a.indexStart+a.reservedIndexCount))>t)throw new Error(`BatchedMesh: Geometry index values are being used outside the range ${t}. Cannot shrink further.`);const s=this.geometry;s.dispose(),this._maxVertexCount=e,this._maxIndexCount=t,this._geometryInitialized&&(this._geometryInitialized=!1,this.geometry=new hr,this._initializeGeometry(s));const o=this.geometry;s.index&&Pm(s.index.array,o.index.array);for(const l in s.attributes)Pm(s.attributes[l].array,o.attributes[l].array)}raycast(e,t){const i=this._instanceInfo,r=this._geometryInfo,s=this.matrixWorld,o=this.geometry;Ml.material=this.material,Ml.geometry.index=o.index,Ml.geometry.attributes=o.attributes,Ml.geometry.boundingBox===null&&(Ml.geometry.boundingBox=new Nl),Ml.geometry.boundingSphere===null&&(Ml.geometry.boundingSphere=new gl);for(let l=0,a=i.length;l<a;l++){if(!i[l].visible||!i[l].active)continue;const u=i[l].geometryIndex,m=r[u];Ml.geometry.setDrawRange(m.start,m.count),this.getMatrixAt(l,Ml.matrixWorld).premultiply(s),this.getBoundingBoxAt(u,Ml.geometry.boundingBox),this.getBoundingSphereAt(u,Ml.geometry.boundingSphere),Ml.raycast(e,Qx);for(let d=0,b=Qx.length;d<b;d++){const g=Qx[d];g.object=this,g.batchId=l,t.push(g)}Qx.length=0}Ml.material=null,Ml.geometry.index=null,Ml.geometry.attributes={},Ml.geometry.setDrawRange(0,1/0)}copy(e){return super.copy(e),this.geometry=e.geometry.clone(),this.perObjectFrustumCulled=e.perObjectFrustumCulled,this.sortObjects=e.sortObjects,this.boundingBox=e.boundingBox!==null?e.boundingBox.clone():null,this.boundingSphere=e.boundingSphere!==null?e.boundingSphere.clone():null,this._geometryInfo=e._geometryInfo.map(t=>({...t,boundingBox:t.boundingBox!==null?t.boundingBox.clone():null,boundingSphere:t.boundingSphere!==null?t.boundingSphere.clone():null})),this._instanceInfo=e._instanceInfo.map(t=>({...t})),this._availableInstanceIds=e._availableInstanceIds.slice(),this._availableGeometryIds=e._availableGeometryIds.slice(),this._nextIndexStart=e._nextIndexStart,this._nextVertexStart=e._nextVertexStart,this._geometryCount=e._geometryCount,this._maxInstanceCount=e._maxInstanceCount,this._maxVertexCount=e._maxVertexCount,this._maxIndexCount=e._maxIndexCount,this._geometryInitialized=e._geometryInitialized,this._multiDrawCounts=e._multiDrawCounts.slice(),this._multiDrawStarts=e._multiDrawStarts.slice(),this._indirectTexture=e._indirectTexture.clone(),this._indirectTexture.image.data=this._indirectTexture.image.data.slice(),this._matricesTexture=e._matricesTexture.clone(),this._matricesTexture.image.data=this._matricesTexture.image.data.slice(),this._colorsTexture!==null&&(this._colorsTexture=e._colorsTexture.clone(),this._colorsTexture.image.data=this._colorsTexture.image.data.slice()),this}dispose(){this.geometry.dispose(),this._matricesTexture.dispose(),this._matricesTexture=null,this._indirectTexture.dispose(),this._indirectTexture=null,this._colorsTexture!==null&&(this._colorsTexture.dispose(),this._colorsTexture=null)}onBeforeRender(e,t,i,r,s){if(!this._visibilityChanged&&!this.perObjectFrustumCulled&&!this.sortObjects)return;const o=r.getIndex(),l=o===null?1:o.array.BYTES_PER_ELEMENT,a=this._instanceInfo,u=this._multiDrawStarts,m=this._multiDrawCounts,d=this._geometryInfo,b=this.perObjectFrustumCulled,g=this._indirectTexture,_=g.image.data,p=i.isArrayCamera?jue:tI;b&&!i.isArrayCamera&&(Rc.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse).multiply(this.matrixWorld),tI.setFromProjectionMatrix(Rc,e.coordinateSystem));let v=0;if(this.sortObjects){Rc.copy(this.matrixWorld).invert(),My.setFromMatrixPosition(i.matrixWorld).applyMatrix4(Rc),nI.set(0,0,-1).transformDirection(i.matrixWorld).transformDirection(Rc);for(let w=0,T=a.length;w<T;w++)if(a[w].visible&&a[w].active){const L=a[w].geometryIndex;this.getMatrixAt(w,Rc),this.getBoundingSphereAt(L,Lm).applyMatrix4(Rc);let P=!1;if(b&&(P=!p.intersectsSphere(Lm,i)),!P){const C=d[L],I=Xue.subVectors(Lm.center,My).dot(nI);LT.push(C.start,C.count,I,w)}}const c=LT.list,x=this.customSort;x===null?c.sort(s.transparent?Gue:Hue):x.call(this,c,i);for(let w=0,T=c.length;w<T;w++){const L=c[w];u[v]=L.start*l,m[v]=L.count,_[v]=L.index,v++}LT.reset()}else for(let c=0,x=a.length;c<x;c++)if(a[c].visible&&a[c].active){const w=a[c].geometryIndex;let T=!1;if(b&&(this.getMatrixAt(c,Rc),this.getBoundingSphereAt(w,Lm).applyMatrix4(Rc),T=!p.intersectsSphere(Lm,i)),!T){const L=d[w];u[v]=L.start*l,m[v]=L.count,_[v]=c,v++}}g.needsUpdate=!0,this._multiDrawCount=v,this._visibilityChanged=!1}onBeforeShadow(e,t,i,r,s,o){this.onBeforeRender(e,null,r,s,o)}}class pc extends Fl{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new jn(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const nE=new De,iE=new De,iI=new Wi,Oy=new Cg,Jx=new gl,PT=new De,rI=new De;class Hp extends Zr{constructor(e=new hr,t=new pc){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=t,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,i=[0];for(let r=1,s=t.count;r<s;r++)nE.fromBufferAttribute(t,r-1),iE.fromBufferAttribute(t,r),i[r]=i[r-1],i[r]+=nE.distanceTo(iE);e.setAttribute("lineDistance",new mi(i,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,t){const i=this.geometry,r=this.matrixWorld,s=e.params.Line.threshold,o=i.drawRange;if(i.boundingSphere===null&&i.computeBoundingSphere(),Jx.copy(i.boundingSphere),Jx.applyMatrix4(r),Jx.radius+=s,e.ray.intersectsSphere(Jx)===!1)return;iI.copy(r).invert(),Oy.copy(e.ray).applyMatrix4(iI);const l=s/((this.scale.x+this.scale.y+this.scale.z)/3),a=l*l,u=this.isLineSegments?2:1,m=i.index,b=i.attributes.position;if(m!==null){const g=Math.max(0,o.start),_=Math.min(m.count,o.start+o.count);for(let p=g,v=_-1;p<v;p+=u){const c=m.getX(p),x=m.getX(p+1),w=e1(this,e,Oy,a,c,x,p);w&&t.push(w)}if(this.isLineLoop){const p=m.getX(_-1),v=m.getX(g),c=e1(this,e,Oy,a,p,v,_-1);c&&t.push(c)}}else{const g=Math.max(0,o.start),_=Math.min(b.count,o.start+o.count);for(let p=g,v=_-1;p<v;p+=u){const c=e1(this,e,Oy,a,p,p+1,p);c&&t.push(c)}if(this.isLineLoop){const p=e1(this,e,Oy,a,_-1,g,_-1);p&&t.push(p)}}}updateMorphTargets(){const t=this.geometry.morphAttributes,i=Object.keys(t);if(i.length>0){const r=t[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=r.length;s<o;s++){const l=r[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[l]=s}}}}}function e1(n,e,t,i,r,s,o){const l=n.geometry.attributes.position;if(nE.fromBufferAttribute(l,r),iE.fromBufferAttribute(l,s),t.distanceSqToSegment(nE,iE,PT,rI)>i)return;PT.applyMatrix4(n.matrixWorld);const u=e.ray.origin.distanceTo(PT);if(!(u<e.near||u>e.far))return{distance:u,point:rI.clone().applyMatrix4(n.matrixWorld),index:o,face:null,faceIndex:null,barycoord:null,object:n}}const sI=new De,oI=new De;class yd extends Hp{constructor(e,t){super(e,t),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,i=[];for(let r=0,s=t.count;r<s;r+=2)sI.fromBufferAttribute(t,r),oI.fromBufferAttribute(t,r+1),i[r]=r===0?0:i[r-1],i[r+1]=i[r]+sI.distanceTo(oI);e.setAttribute("lineDistance",new mi(i,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class Rk extends Hp{constructor(e,t){super(e,t),this.isLineLoop=!0,this.type="LineLoop"}}class QM extends Fl{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new jn(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const aI=new Wi,TR=new Cg,t1=new gl,n1=new De;class Mk extends Zr{constructor(e=new hr,t=new QM){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=t,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}raycast(e,t){const i=this.geometry,r=this.matrixWorld,s=e.params.Points.threshold,o=i.drawRange;if(i.boundingSphere===null&&i.computeBoundingSphere(),t1.copy(i.boundingSphere),t1.applyMatrix4(r),t1.radius+=s,e.ray.intersectsSphere(t1)===!1)return;aI.copy(r).invert(),TR.copy(e.ray).applyMatrix4(aI);const l=s/((this.scale.x+this.scale.y+this.scale.z)/3),a=l*l,u=i.index,d=i.attributes.position;if(u!==null){const b=Math.max(0,o.start),g=Math.min(u.count,o.start+o.count);for(let _=b,p=g;_<p;_++){const v=u.getX(_);n1.fromBufferAttribute(d,v),lI(n1,v,a,r,e,t,this)}}else{const b=Math.max(0,o.start),g=Math.min(d.count,o.start+o.count);for(let _=b,p=g;_<p;_++)n1.fromBufferAttribute(d,_),lI(n1,_,a,r,e,t,this)}}updateMorphTargets(){const t=this.geometry.morphAttributes,i=Object.keys(t);if(i.length>0){const r=t[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=r.length;s<o;s++){const l=r[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[l]=s}}}}}function lI(n,e,t,i,r,s,o){const l=TR.distanceSqToPoint(n);if(l<t){const a=new De;TR.closestPointToPoint(n,a),a.applyMatrix4(i);const u=r.ray.origin.distanceTo(a);if(u<r.near||u>r.far)return;s.push({distance:u,distanceToRay:Math.sqrt(l),point:a,index:e,face:null,faceIndex:null,barycoord:null,object:o})}}class Ok extends ps{constructor(e,t,i,r,s=os,o=os,l,a,u){super(e,t,i,r,s,o,l,a,u),this.isVideoTexture=!0,this.generateMipmaps=!1;const m=this;function d(){m.needsUpdate=!0,e.requestVideoFrameCallback(d)}"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback(d)}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}class Yue extends Ok{constructor(e,t,i,r,s,o,l,a){super({},e,t,i,r,s,o,l,a),this.isVideoFrameTexture=!0}update(){}clone(){return new this.constructor().copy(this)}setFrame(e){this.image=e,this.needsUpdate=!0}}class Kue extends ps{constructor(e,t){super({width:e,height:t}),this.isFramebufferTexture=!0,this.magFilter=ml,this.minFilter=ml,this.generateMipmaps=!1,this.needsUpdate=!0}}class ZE extends ps{constructor(e,t,i,r,s,o,l,a,u,m,d,b){super(null,o,l,a,u,m,r,s,d,b),this.isCompressedTexture=!0,this.image={width:t,height:i},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}class Zue extends ZE{constructor(e,t,i,r,s,o){super(e,t,i,s,o),this.isCompressedArrayTexture=!0,this.image.depth=r,this.wrapR=Ea,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class Que extends ZE{constructor(e,t,i){super(void 0,e[0].width,e[0].height,t,i,pd),this.isCompressedCubeTexture=!0,this.isCubeTexture=!0,this.image=e}}class Jue extends ps{constructor(e,t,i,r,s,o,l,a,u){super(e,t,i,r,s,o,l,a,u),this.isCanvasTexture=!0,this.needsUpdate=!0}}class QE extends ps{constructor(e,t,i=md,r,s,o,l=ml,a=ml,u,m=f0,d=1){if(m!==f0&&m!==p0)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");const b={width:e,height:t,depth:d};super(b,r,s,o,l,a,m,i,u),this.isDepthTexture=!0,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.source=new Np(Object.assign({},e.image)),this.compareFunction=e.compareFunction,this}toJSON(e){const t=super.toJSON(e);return this.compareFunction!==null&&(t.compareFunction=this.compareFunction),t}}class JE extends hr{constructor(e=1,t=1,i=4,r=8,s=1){super(),this.type="CapsuleGeometry",this.parameters={radius:e,height:t,capSegments:i,radialSegments:r,heightSegments:s},t=Math.max(0,t),i=Math.max(1,Math.floor(i)),r=Math.max(3,Math.floor(r)),s=Math.max(1,Math.floor(s));const o=[],l=[],a=[],u=[],m=t/2,d=Math.PI/2*e,b=t,g=2*d+b,_=i*2+s,p=r+1,v=new De,c=new De;for(let x=0;x<=_;x++){let w=0,T=0,L=0,P=0;if(x<=i){const F=x/i,R=F*Math.PI/2;T=-m-e*Math.cos(R),L=e*Math.sin(R),P=-e*Math.cos(R),w=F*d}else if(x<=i+s){const F=(x-i)/s;T=-m+F*t,L=e,P=0,w=d+F*b}else{const F=(x-i-s)/i,R=F*Math.PI/2;T=m+e*Math.sin(R),L=e*Math.cos(R),P=e*Math.sin(R),w=d+b+F*d}const C=Math.max(0,Math.min(1,w/g));let I=0;x===0?I=.5/r:x===_&&(I=-.5/r);for(let F=0;F<=r;F++){const R=F/r,D=R*Math.PI*2,G=Math.sin(D),j=Math.cos(D);c.x=-L*j,c.y=T,c.z=L*G,l.push(c.x,c.y,c.z),v.set(-L*j,P,L*G),v.normalize(),a.push(v.x,v.y,v.z),u.push(R+I,C)}if(x>0){const F=(x-1)*p;for(let R=0;R<r;R++){const D=F+R,G=F+R+1,j=x*p+R,k=x*p+R+1;o.push(D,G,j),o.push(G,k,j)}}}this.setIndex(o),this.setAttribute("position",new mi(l,3)),this.setAttribute("normal",new mi(a,3)),this.setAttribute("uv",new mi(u,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new JE(e.radius,e.height,e.capSegments,e.radialSegments,e.heightSegments)}}class ew extends hr{constructor(e=1,t=32,i=0,r=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:t,thetaStart:i,thetaLength:r},t=Math.max(3,t);const s=[],o=[],l=[],a=[],u=new De,m=new rn;o.push(0,0,0),l.push(0,0,1),a.push(.5,.5);for(let d=0,b=3;d<=t;d++,b+=3){const g=i+d/t*r;u.x=e*Math.cos(g),u.y=e*Math.sin(g),o.push(u.x,u.y,u.z),l.push(0,0,1),m.x=(o[b]/e+1)/2,m.y=(o[b+1]/e+1)/2,a.push(m.x,m.y)}for(let d=1;d<=t;d++)s.push(d,d+1,0);this.setIndex(s),this.setAttribute("position",new mi(o,3)),this.setAttribute("normal",new mi(l,3)),this.setAttribute("uv",new mi(a,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new ew(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class rb extends hr{constructor(e=1,t=1,i=1,r=32,s=1,o=!1,l=0,a=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:i,radialSegments:r,heightSegments:s,openEnded:o,thetaStart:l,thetaLength:a};const u=this;r=Math.floor(r),s=Math.floor(s);const m=[],d=[],b=[],g=[];let _=0;const p=[],v=i/2;let c=0;x(),o===!1&&(e>0&&w(!0),t>0&&w(!1)),this.setIndex(m),this.setAttribute("position",new mi(d,3)),this.setAttribute("normal",new mi(b,3)),this.setAttribute("uv",new mi(g,2));function x(){const T=new De,L=new De;let P=0;const C=(t-e)/i;for(let I=0;I<=s;I++){const F=[],R=I/s,D=R*(t-e)+e;for(let G=0;G<=r;G++){const j=G/r,k=j*a+l,V=Math.sin(k),H=Math.cos(k);L.x=D*V,L.y=-R*i+v,L.z=D*H,d.push(L.x,L.y,L.z),T.set(V,C,H).normalize(),b.push(T.x,T.y,T.z),g.push(j,1-R),F.push(_++)}p.push(F)}for(let I=0;I<r;I++)for(let F=0;F<s;F++){const R=p[F][I],D=p[F+1][I],G=p[F+1][I+1],j=p[F][I+1];(e>0||F!==0)&&(m.push(R,D,j),P+=3),(t>0||F!==s-1)&&(m.push(D,G,j),P+=3)}u.addGroup(c,P,0),c+=P}function w(T){const L=_,P=new rn,C=new De;let I=0;const F=T===!0?e:t,R=T===!0?1:-1;for(let G=1;G<=r;G++)d.push(0,v*R,0),b.push(0,R,0),g.push(.5,.5),_++;const D=_;for(let G=0;G<=r;G++){const k=G/r*a+l,V=Math.cos(k),H=Math.sin(k);C.x=F*H,C.y=v*R,C.z=F*V,d.push(C.x,C.y,C.z),b.push(0,R,0),P.x=V*.5+.5,P.y=H*.5*R+.5,g.push(P.x,P.y),_++}for(let G=0;G<r;G++){const j=L+G,k=D+G;T===!0?m.push(k,k+1,j):m.push(k+1,k,j),I+=3}u.addGroup(c,I,T===!0?1:2),c+=I}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new rb(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class sb extends rb{constructor(e=1,t=1,i=32,r=1,s=!1,o=0,l=Math.PI*2){super(0,e,t,i,r,s,o,l),this.type="ConeGeometry",this.parameters={radius:e,height:t,radialSegments:i,heightSegments:r,openEnded:s,thetaStart:o,thetaLength:l}}static fromJSON(e){return new sb(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class Vp extends hr{constructor(e=[],t=[],i=1,r=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:t,radius:i,detail:r};const s=[],o=[];l(r),u(i),m(),this.setAttribute("position",new mi(s,3)),this.setAttribute("normal",new mi(s.slice(),3)),this.setAttribute("uv",new mi(o,2)),r===0?this.computeVertexNormals():this.normalizeNormals();function l(x){const w=new De,T=new De,L=new De;for(let P=0;P<t.length;P+=3)g(t[P+0],w),g(t[P+1],T),g(t[P+2],L),a(w,T,L,x)}function a(x,w,T,L){const P=L+1,C=[];for(let I=0;I<=P;I++){C[I]=[];const F=x.clone().lerp(T,I/P),R=w.clone().lerp(T,I/P),D=P-I;for(let G=0;G<=D;G++)G===0&&I===P?C[I][G]=F:C[I][G]=F.clone().lerp(R,G/D)}for(let I=0;I<P;I++)for(let F=0;F<2*(P-I)-1;F++){const R=Math.floor(F/2);F%2===0?(b(C[I][R+1]),b(C[I+1][R]),b(C[I][R])):(b(C[I][R+1]),b(C[I+1][R+1]),b(C[I+1][R]))}}function u(x){const w=new De;for(let T=0;T<s.length;T+=3)w.x=s[T+0],w.y=s[T+1],w.z=s[T+2],w.normalize().multiplyScalar(x),s[T+0]=w.x,s[T+1]=w.y,s[T+2]=w.z}function m(){const x=new De;for(let w=0;w<s.length;w+=3){x.x=s[w+0],x.y=s[w+1],x.z=s[w+2];const T=v(x)/2/Math.PI+.5,L=c(x)/Math.PI+.5;o.push(T,1-L)}_(),d()}function d(){for(let x=0;x<o.length;x+=6){const w=o[x+0],T=o[x+2],L=o[x+4],P=Math.max(w,T,L),C=Math.min(w,T,L);P>.9&&C<.1&&(w<.2&&(o[x+0]+=1),T<.2&&(o[x+2]+=1),L<.2&&(o[x+4]+=1))}}function b(x){s.push(x.x,x.y,x.z)}function g(x,w){const T=x*3;w.x=e[T+0],w.y=e[T+1],w.z=e[T+2]}function _(){const x=new De,w=new De,T=new De,L=new De,P=new rn,C=new rn,I=new rn;for(let F=0,R=0;F<s.length;F+=9,R+=6){x.set(s[F+0],s[F+1],s[F+2]),w.set(s[F+3],s[F+4],s[F+5]),T.set(s[F+6],s[F+7],s[F+8]),P.set(o[R+0],o[R+1]),C.set(o[R+2],o[R+3]),I.set(o[R+4],o[R+5]),L.copy(x).add(w).add(T).divideScalar(3);const D=v(L);p(P,R+0,x,D),p(C,R+2,w,D),p(I,R+4,T,D)}}function p(x,w,T,L){L<0&&x.x===1&&(o[w]=x.x-1),T.x===0&&T.z===0&&(o[w]=L/2/Math.PI+.5)}function v(x){return Math.atan2(x.z,-x.x)}function c(x){return Math.atan2(-x.y,Math.sqrt(x.x*x.x+x.z*x.z))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Vp(e.vertices,e.indices,e.radius,e.details)}}class tw extends Vp{constructor(e=1,t=0){const i=(1+Math.sqrt(5))/2,r=1/i,s=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-r,-i,0,-r,i,0,r,-i,0,r,i,-r,-i,0,-r,i,0,r,-i,0,r,i,0,-i,0,-r,i,0,-r,-i,0,r,i,0,r],o=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(s,o,e,t),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new tw(e.radius,e.detail)}}const i1=new De,r1=new De,NT=new De,s1=new Pc;class Lk extends hr{constructor(e=null,t=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:t},e!==null){const r=Math.pow(10,4),s=Math.cos(dg*t),o=e.getIndex(),l=e.getAttribute("position"),a=o?o.count:l.count,u=[0,0,0],m=["a","b","c"],d=new Array(3),b={},g=[];for(let _=0;_<a;_+=3){o?(u[0]=o.getX(_),u[1]=o.getX(_+1),u[2]=o.getX(_+2)):(u[0]=_,u[1]=_+1,u[2]=_+2);const{a:p,b:v,c}=s1;if(p.fromBufferAttribute(l,u[0]),v.fromBufferAttribute(l,u[1]),c.fromBufferAttribute(l,u[2]),s1.getNormal(NT),d[0]=`${Math.round(p.x*r)},${Math.round(p.y*r)},${Math.round(p.z*r)}`,d[1]=`${Math.round(v.x*r)},${Math.round(v.y*r)},${Math.round(v.z*r)}`,d[2]=`${Math.round(c.x*r)},${Math.round(c.y*r)},${Math.round(c.z*r)}`,!(d[0]===d[1]||d[1]===d[2]||d[2]===d[0]))for(let x=0;x<3;x++){const w=(x+1)%3,T=d[x],L=d[w],P=s1[m[x]],C=s1[m[w]],I=`${T}_${L}`,F=`${L}_${T}`;F in b&&b[F]?(NT.dot(b[F].normal)<=s&&(g.push(P.x,P.y,P.z),g.push(C.x,C.y,C.z)),b[F]=null):I in b||(b[I]={index0:u[x],index1:u[w],normal:NT.clone()})}}for(const _ in b)if(b[_]){const{index0:p,index1:v}=b[_];i1.fromBufferAttribute(l,p),r1.fromBufferAttribute(l,v),g.push(i1.x,i1.y,i1.z),g.push(r1.x,r1.y,r1.z)}this.setAttribute("position",new mi(g,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}class Ah{constructor(){this.type="Curve",this.arcLengthDivisions=200,this.needsUpdate=!1,this.cacheArcLengths=null}getPoint(){console.warn("THREE.Curve: .getPoint() not implemented.")}getPointAt(e,t){const i=this.getUtoTmapping(e);return this.getPoint(i,t)}getPoints(e=5){const t=[];for(let i=0;i<=e;i++)t.push(this.getPoint(i/e));return t}getSpacedPoints(e=5){const t=[];for(let i=0;i<=e;i++)t.push(this.getPointAt(i/e));return t}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const t=[];let i,r=this.getPoint(0),s=0;t.push(0);for(let o=1;o<=e;o++)i=this.getPoint(o/e),s+=i.distanceTo(r),t.push(s),r=i;return this.cacheArcLengths=t,t}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,t=null){const i=this.getLengths();let r=0;const s=i.length;let o;t?o=t:o=e*i[s-1];let l=0,a=s-1,u;for(;l<=a;)if(r=Math.floor(l+(a-l)/2),u=i[r]-o,u<0)l=r+1;else if(u>0)a=r-1;else{a=r;break}if(r=a,i[r]===o)return r/(s-1);const m=i[r],b=i[r+1]-m,g=(o-m)/b;return(r+g)/(s-1)}getTangent(e,t){let r=e-1e-4,s=e+1e-4;r<0&&(r=0),s>1&&(s=1);const o=this.getPoint(r),l=this.getPoint(s),a=t||(o.isVector2?new rn:new De);return a.copy(l).sub(o).normalize(),a}getTangentAt(e,t){const i=this.getUtoTmapping(e);return this.getTangent(i,t)}computeFrenetFrames(e,t=!1){const i=new De,r=[],s=[],o=[],l=new De,a=new Wi;for(let g=0;g<=e;g++){const _=g/e;r[g]=this.getTangentAt(_,new De)}s[0]=new De,o[0]=new De;let u=Number.MAX_VALUE;const m=Math.abs(r[0].x),d=Math.abs(r[0].y),b=Math.abs(r[0].z);m<=u&&(u=m,i.set(1,0,0)),d<=u&&(u=d,i.set(0,1,0)),b<=u&&i.set(0,0,1),l.crossVectors(r[0],i).normalize(),s[0].crossVectors(r[0],l),o[0].crossVectors(r[0],s[0]);for(let g=1;g<=e;g++){if(s[g]=s[g-1].clone(),o[g]=o[g-1].clone(),l.crossVectors(r[g-1],r[g]),l.length()>Number.EPSILON){l.normalize();const _=Math.acos(ir(r[g-1].dot(r[g]),-1,1));s[g].applyMatrix4(a.makeRotationAxis(l,_))}o[g].crossVectors(r[g],s[g])}if(t===!0){let g=Math.acos(ir(s[0].dot(s[e]),-1,1));g/=e,r[0].dot(l.crossVectors(s[0],s[e]))>0&&(g=-g);for(let _=1;_<=e;_++)s[_].applyMatrix4(a.makeRotationAxis(r[_],g*_)),o[_].crossVectors(r[_],s[_])}return{tangents:r,normals:s,binormals:o}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.7,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class nw extends Ah{constructor(e=0,t=0,i=1,r=1,s=0,o=Math.PI*2,l=!1,a=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=t,this.xRadius=i,this.yRadius=r,this.aStartAngle=s,this.aEndAngle=o,this.aClockwise=l,this.aRotation=a}getPoint(e,t=new rn){const i=t,r=Math.PI*2;let s=this.aEndAngle-this.aStartAngle;const o=Math.abs(s)<Number.EPSILON;for(;s<0;)s+=r;for(;s>r;)s-=r;s<Number.EPSILON&&(o?s=0:s=r),this.aClockwise===!0&&!o&&(s===r?s=-r:s=s-r);const l=this.aStartAngle+e*s;let a=this.aX+this.xRadius*Math.cos(l),u=this.aY+this.yRadius*Math.sin(l);if(this.aRotation!==0){const m=Math.cos(this.aRotation),d=Math.sin(this.aRotation),b=a-this.aX,g=u-this.aY;a=b*m-g*d+this.aX,u=b*d+g*m+this.aY}return i.set(a,u)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class Pk extends nw{constructor(e,t,i,r,s,o){super(e,t,i,i,r,s,o),this.isArcCurve=!0,this.type="ArcCurve"}}function JM(){let n=0,e=0,t=0,i=0;function r(s,o,l,a){n=s,e=l,t=-3*s+3*o-2*l-a,i=2*s-2*o+l+a}return{initCatmullRom:function(s,o,l,a,u){r(o,l,u*(l-s),u*(a-o))},initNonuniformCatmullRom:function(s,o,l,a,u,m,d){let b=(o-s)/u-(l-s)/(u+m)+(l-o)/m,g=(l-o)/m-(a-o)/(m+d)+(a-l)/d;b*=m,g*=m,r(o,l,b,g)},calc:function(s){const o=s*s,l=o*s;return n+e*s+t*o+i*l}}}const o1=new De,IT=new JM,DT=new JM,FT=new JM;class Nk extends Ah{constructor(e=[],t=!1,i="centripetal",r=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=t,this.curveType=i,this.tension=r}getPoint(e,t=new De){const i=t,r=this.points,s=r.length,o=(s-(this.closed?0:1))*e;let l=Math.floor(o),a=o-l;this.closed?l+=l>0?0:(Math.floor(Math.abs(l)/s)+1)*s:a===0&&l===s-1&&(l=s-2,a=1);let u,m;this.closed||l>0?u=r[(l-1)%s]:(o1.subVectors(r[0],r[1]).add(r[0]),u=o1);const d=r[l%s],b=r[(l+1)%s];if(this.closed||l+2<s?m=r[(l+2)%s]:(o1.subVectors(r[s-1],r[s-2]).add(r[s-1]),m=o1),this.curveType==="centripetal"||this.curveType==="chordal"){const g=this.curveType==="chordal"?.5:.25;let _=Math.pow(u.distanceToSquared(d),g),p=Math.pow(d.distanceToSquared(b),g),v=Math.pow(b.distanceToSquared(m),g);p<1e-4&&(p=1),_<1e-4&&(_=p),v<1e-4&&(v=p),IT.initNonuniformCatmullRom(u.x,d.x,b.x,m.x,_,p,v),DT.initNonuniformCatmullRom(u.y,d.y,b.y,m.y,_,p,v),FT.initNonuniformCatmullRom(u.z,d.z,b.z,m.z,_,p,v)}else this.curveType==="catmullrom"&&(IT.initCatmullRom(u.x,d.x,b.x,m.x,this.tension),DT.initCatmullRom(u.y,d.y,b.y,m.y,this.tension),FT.initCatmullRom(u.z,d.z,b.z,m.z,this.tension));return i.set(IT.calc(a),DT.calc(a),FT.calc(a)),i}copy(e){super.copy(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const r=e.points[t];this.points.push(r.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,i=this.points.length;t<i;t++){const r=this.points[t];e.points.push(r.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const r=e.points[t];this.points.push(new De().fromArray(r))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function cI(n,e,t,i,r){const s=(i-e)*.5,o=(r-t)*.5,l=n*n,a=n*l;return(2*t-2*i+s+o)*a+(-3*t+3*i-2*s-o)*l+s*n+t}function ehe(n,e){const t=1-n;return t*t*e}function the(n,e){return 2*(1-n)*n*e}function nhe(n,e){return n*n*e}function i_(n,e,t,i){return ehe(n,e)+the(n,t)+nhe(n,i)}function ihe(n,e){const t=1-n;return t*t*t*e}function rhe(n,e){const t=1-n;return 3*t*t*n*e}function she(n,e){return 3*(1-n)*n*n*e}function ohe(n,e){return n*n*n*e}function r_(n,e,t,i,r){return ihe(n,e)+rhe(n,t)+she(n,i)+ohe(n,r)}class e2 extends Ah{constructor(e=new rn,t=new rn,i=new rn,r=new rn){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=t,this.v2=i,this.v3=r}getPoint(e,t=new rn){const i=t,r=this.v0,s=this.v1,o=this.v2,l=this.v3;return i.set(r_(e,r.x,s.x,o.x,l.x),r_(e,r.y,s.y,o.y,l.y)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class Ik extends Ah{constructor(e=new De,t=new De,i=new De,r=new De){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=t,this.v2=i,this.v3=r}getPoint(e,t=new De){const i=t,r=this.v0,s=this.v1,o=this.v2,l=this.v3;return i.set(r_(e,r.x,s.x,o.x,l.x),r_(e,r.y,s.y,o.y,l.y),r_(e,r.z,s.z,o.z,l.z)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class t2 extends Ah{constructor(e=new rn,t=new rn){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=t}getPoint(e,t=new rn){const i=t;return e===1?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(e).add(this.v1)),i}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new rn){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class Dk extends Ah{constructor(e=new De,t=new De){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=t}getPoint(e,t=new De){const i=t;return e===1?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(e).add(this.v1)),i}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new De){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class n2 extends Ah{constructor(e=new rn,t=new rn,i=new rn){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=t,this.v2=i}getPoint(e,t=new rn){const i=t,r=this.v0,s=this.v1,o=this.v2;return i.set(i_(e,r.x,s.x,o.x),i_(e,r.y,s.y,o.y)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class i2 extends Ah{constructor(e=new De,t=new De,i=new De){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=t,this.v2=i}getPoint(e,t=new De){const i=t,r=this.v0,s=this.v1,o=this.v2;return i.set(i_(e,r.x,s.x,o.x),i_(e,r.y,s.y,o.y),i_(e,r.z,s.z,o.z)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class r2 extends Ah{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,t=new rn){const i=t,r=this.points,s=(r.length-1)*e,o=Math.floor(s),l=s-o,a=r[o===0?o:o-1],u=r[o],m=r[o>r.length-2?r.length-1:o+1],d=r[o>r.length-3?r.length-1:o+2];return i.set(cI(l,a.x,u.x,m.x,d.x),cI(l,a.y,u.y,m.y,d.y)),i}copy(e){super.copy(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const r=e.points[t];this.points.push(r.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,i=this.points.length;t<i;t++){const r=this.points[t];e.points.push(r.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const r=e.points[t];this.points.push(new rn().fromArray(r))}return this}}var rE=Object.freeze({__proto__:null,ArcCurve:Pk,CatmullRomCurve3:Nk,CubicBezierCurve:e2,CubicBezierCurve3:Ik,EllipseCurve:nw,LineCurve:t2,LineCurve3:Dk,QuadraticBezierCurve:n2,QuadraticBezierCurve3:i2,SplineCurve:r2});class Fk extends Ah{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);if(!e.equals(t)){const i=e.isVector2===!0?"LineCurve":"LineCurve3";this.curves.push(new rE[i](t,e))}return this}getPoint(e,t){const i=e*this.getLength(),r=this.getCurveLengths();let s=0;for(;s<r.length;){if(r[s]>=i){const o=r[s]-i,l=this.curves[s],a=l.getLength(),u=a===0?0:1-o/a;return l.getPointAt(u,t)}s++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let t=0;for(let i=0,r=this.curves.length;i<r;i++)t+=this.curves[i].getLength(),e.push(t);return this.cacheLengths=e,e}getSpacedPoints(e=40){const t=[];for(let i=0;i<=e;i++)t.push(this.getPoint(i/e));return this.autoClose&&t.push(t[0]),t}getPoints(e=12){const t=[];let i;for(let r=0,s=this.curves;r<s.length;r++){const o=s[r],l=o.isEllipseCurve?e*2:o.isLineCurve||o.isLineCurve3?1:o.isSplineCurve?e*o.points.length:e,a=o.getPoints(l);for(let u=0;u<a.length;u++){const m=a[u];i&&i.equals(m)||(t.push(m),i=m)}}return this.autoClose&&t.length>1&&!t[t.length-1].equals(t[0])&&t.push(t[0]),t}copy(e){super.copy(e),this.curves=[];for(let t=0,i=e.curves.length;t<i;t++){const r=e.curves[t];this.curves.push(r.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let t=0,i=this.curves.length;t<i;t++){const r=this.curves[t];e.curves.push(r.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let t=0,i=e.curves.length;t<i;t++){const r=e.curves[t];this.curves.push(new rE[r.type]().fromJSON(r))}return this}}class sE extends Fk{constructor(e){super(),this.type="Path",this.currentPoint=new rn,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let t=1,i=e.length;t<i;t++)this.lineTo(e[t].x,e[t].y);return this}moveTo(e,t){return this.currentPoint.set(e,t),this}lineTo(e,t){const i=new t2(this.currentPoint.clone(),new rn(e,t));return this.curves.push(i),this.currentPoint.set(e,t),this}quadraticCurveTo(e,t,i,r){const s=new n2(this.currentPoint.clone(),new rn(e,t),new rn(i,r));return this.curves.push(s),this.currentPoint.set(i,r),this}bezierCurveTo(e,t,i,r,s,o){const l=new e2(this.currentPoint.clone(),new rn(e,t),new rn(i,r),new rn(s,o));return this.curves.push(l),this.currentPoint.set(s,o),this}splineThru(e){const t=[this.currentPoint.clone()].concat(e),i=new r2(t);return this.curves.push(i),this.currentPoint.copy(e[e.length-1]),this}arc(e,t,i,r,s,o){const l=this.currentPoint.x,a=this.currentPoint.y;return this.absarc(e+l,t+a,i,r,s,o),this}absarc(e,t,i,r,s,o){return this.absellipse(e,t,i,i,r,s,o),this}ellipse(e,t,i,r,s,o,l,a){const u=this.currentPoint.x,m=this.currentPoint.y;return this.absellipse(e+u,t+m,i,r,s,o,l,a),this}absellipse(e,t,i,r,s,o,l,a){const u=new nw(e,t,i,r,s,o,l,a);if(this.curves.length>0){const d=u.getPoint(0);d.equals(this.currentPoint)||this.lineTo(d.x,d.y)}this.curves.push(u);const m=u.getPoint(1);return this.currentPoint.copy(m),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class fg extends sE{constructor(e){super(e),this.uuid=nu(),this.type="Shape",this.holes=[]}getPointsHoles(e){const t=[];for(let i=0,r=this.holes.length;i<r;i++)t[i]=this.holes[i].getPoints(e);return t}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let t=0,i=e.holes.length;t<i;t++){const r=e.holes[t];this.holes.push(r.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let t=0,i=this.holes.length;t<i;t++){const r=this.holes[t];e.holes.push(r.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let t=0,i=e.holes.length;t<i;t++){const r=e.holes[t];this.holes.push(new sE().fromJSON(r))}return this}}function ahe(n,e,t=2){const i=e&&e.length,r=i?e[0]*t:n.length;let s=Bk(n,0,r,t,!0);const o=[];if(!s||s.next===s.prev)return o;let l,a,u;if(i&&(s=dhe(n,e,s,t)),n.length>80*t){l=1/0,a=1/0;let m=-1/0,d=-1/0;for(let b=t;b<r;b+=t){const g=n[b],_=n[b+1];g<l&&(l=g),_<a&&(a=_),g>m&&(m=g),_>d&&(d=_)}u=Math.max(m-l,d-a),u=u!==0?32767/u:0}return A_(s,o,t,l,a,u,0),o}function Bk(n,e,t,i,r){let s;if(r===Ehe(n,e,t,i)>0)for(let o=e;o<t;o+=i)s=uI(o/i|0,n[o],n[o+1],s);else for(let o=t-i;o>=e;o-=i)s=uI(o/i|0,n[o],n[o+1],s);return s&&_0(s,s.next)&&(M_(s),s=s.next),s}function bg(n,e){if(!n)return n;e||(e=n);let t=n,i;do if(i=!1,!t.steiner&&(_0(t,t.next)||Ro(t.prev,t,t.next)===0)){if(M_(t),t=e=t.prev,t===t.next)break;i=!0}else t=t.next;while(i||t!==e);return e}function A_(n,e,t,i,r,s,o){if(!n)return;!o&&s&&vhe(n,i,r,s);let l=n;for(;n.prev!==n.next;){const a=n.prev,u=n.next;if(s?che(n,i,r,s):lhe(n)){e.push(a.i,n.i,u.i),M_(n),n=u.next,l=u.next;continue}if(n=u,n===l){o?o===1?(n=uhe(bg(n),e),A_(n,e,t,i,r,s,2)):o===2&&hhe(n,e,t,i,r,s):A_(bg(n),e,t,i,r,s,1);break}}}function lhe(n){const e=n.prev,t=n,i=n.next;if(Ro(e,t,i)>=0)return!1;const r=e.x,s=t.x,o=i.x,l=e.y,a=t.y,u=i.y,m=Math.min(r,s,o),d=Math.min(l,a,u),b=Math.max(r,s,o),g=Math.max(l,a,u);let _=i.next;for(;_!==e;){if(_.x>=m&&_.x<=b&&_.y>=d&&_.y<=g&&zy(r,l,s,a,o,u,_.x,_.y)&&Ro(_.prev,_,_.next)>=0)return!1;_=_.next}return!0}function che(n,e,t,i){const r=n.prev,s=n,o=n.next;if(Ro(r,s,o)>=0)return!1;const l=r.x,a=s.x,u=o.x,m=r.y,d=s.y,b=o.y,g=Math.min(l,a,u),_=Math.min(m,d,b),p=Math.max(l,a,u),v=Math.max(m,d,b),c=AR(g,_,e,t,i),x=AR(p,v,e,t,i);let w=n.prevZ,T=n.nextZ;for(;w&&w.z>=c&&T&&T.z<=x;){if(w.x>=g&&w.x<=p&&w.y>=_&&w.y<=v&&w!==r&&w!==o&&zy(l,m,a,d,u,b,w.x,w.y)&&Ro(w.prev,w,w.next)>=0||(w=w.prevZ,T.x>=g&&T.x<=p&&T.y>=_&&T.y<=v&&T!==r&&T!==o&&zy(l,m,a,d,u,b,T.x,T.y)&&Ro(T.prev,T,T.next)>=0))return!1;T=T.nextZ}for(;w&&w.z>=c;){if(w.x>=g&&w.x<=p&&w.y>=_&&w.y<=v&&w!==r&&w!==o&&zy(l,m,a,d,u,b,w.x,w.y)&&Ro(w.prev,w,w.next)>=0)return!1;w=w.prevZ}for(;T&&T.z<=x;){if(T.x>=g&&T.x<=p&&T.y>=_&&T.y<=v&&T!==r&&T!==o&&zy(l,m,a,d,u,b,T.x,T.y)&&Ro(T.prev,T,T.next)>=0)return!1;T=T.nextZ}return!0}function uhe(n,e){let t=n;do{const i=t.prev,r=t.next.next;!_0(i,r)&&kk(i,t,t.next,r)&&R_(i,r)&&R_(r,i)&&(e.push(i.i,t.i,r.i),M_(t),M_(t.next),t=n=r),t=t.next}while(t!==n);return bg(t)}function hhe(n,e,t,i,r,s){let o=n;do{let l=o.next.next;for(;l!==o.prev;){if(o.i!==l.i&&bhe(o,l)){let a=zk(o,l);o=bg(o,o.next),a=bg(a,a.next),A_(o,e,t,i,r,s,0),A_(a,e,t,i,r,s,0);return}l=l.next}o=o.next}while(o!==n)}function dhe(n,e,t,i){const r=[];for(let s=0,o=e.length;s<o;s++){const l=e[s]*i,a=s<o-1?e[s+1]*i:n.length,u=Bk(n,l,a,i,!1);u===u.next&&(u.steiner=!0),r.push(_he(u))}r.sort(fhe);for(let s=0;s<r.length;s++)t=phe(r[s],t);return t}function fhe(n,e){let t=n.x-e.x;if(t===0&&(t=n.y-e.y,t===0)){const i=(n.next.y-n.y)/(n.next.x-n.x),r=(e.next.y-e.y)/(e.next.x-e.x);t=i-r}return t}function phe(n,e){const t=mhe(n,e);if(!t)return e;const i=zk(t,n);return bg(i,i.next),bg(t,t.next)}function mhe(n,e){let t=e;const i=n.x,r=n.y;let s=-1/0,o;if(_0(n,t))return t;do{if(_0(n,t.next))return t.next;if(r<=t.y&&r>=t.next.y&&t.next.y!==t.y){const d=t.x+(r-t.y)*(t.next.x-t.x)/(t.next.y-t.y);if(d<=i&&d>s&&(s=d,o=t.x<t.next.x?t:t.next,d===i))return o}t=t.next}while(t!==e);if(!o)return null;const l=o,a=o.x,u=o.y;let m=1/0;t=o;do{if(i>=t.x&&t.x>=a&&i!==t.x&&Uk(r<u?i:s,r,a,u,r<u?s:i,r,t.x,t.y)){const d=Math.abs(r-t.y)/(i-t.x);R_(t,n)&&(d<m||d===m&&(t.x>o.x||t.x===o.x&&ghe(o,t)))&&(o=t,m=d)}t=t.next}while(t!==l);return o}function ghe(n,e){return Ro(n.prev,n,e.prev)<0&&Ro(e.next,n,n.next)<0}function vhe(n,e,t,i){let r=n;do r.z===0&&(r.z=AR(r.x,r.y,e,t,i)),r.prevZ=r.prev,r.nextZ=r.next,r=r.next;while(r!==n);r.prevZ.nextZ=null,r.prevZ=null,yhe(r)}function yhe(n){let e,t=1;do{let i=n,r;n=null;let s=null;for(e=0;i;){e++;let o=i,l=0;for(let u=0;u<t&&(l++,o=o.nextZ,!!o);u++);let a=t;for(;l>0||a>0&&o;)l!==0&&(a===0||!o||i.z<=o.z)?(r=i,i=i.nextZ,l--):(r=o,o=o.nextZ,a--),s?s.nextZ=r:n=r,r.prevZ=s,s=r;i=o}s.nextZ=null,t*=2}while(e>1);return n}function AR(n,e,t,i,r){return n=(n-t)*r|0,e=(e-i)*r|0,n=(n|n<<8)&16711935,n=(n|n<<4)&252645135,n=(n|n<<2)&858993459,n=(n|n<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,n|e<<1}function _he(n){let e=n,t=n;do(e.x<t.x||e.x===t.x&&e.y<t.y)&&(t=e),e=e.next;while(e!==n);return t}function Uk(n,e,t,i,r,s,o,l){return(r-o)*(e-l)>=(n-o)*(s-l)&&(n-o)*(i-l)>=(t-o)*(e-l)&&(t-o)*(s-l)>=(r-o)*(i-l)}function zy(n,e,t,i,r,s,o,l){return!(n===o&&e===l)&&Uk(n,e,t,i,r,s,o,l)}function bhe(n,e){return n.next.i!==e.i&&n.prev.i!==e.i&&!xhe(n,e)&&(R_(n,e)&&R_(e,n)&&She(n,e)&&(Ro(n.prev,n,e.prev)||Ro(n,e.prev,e))||_0(n,e)&&Ro(n.prev,n,n.next)>0&&Ro(e.prev,e,e.next)>0)}function Ro(n,e,t){return(e.y-n.y)*(t.x-e.x)-(e.x-n.x)*(t.y-e.y)}function _0(n,e){return n.x===e.x&&n.y===e.y}function kk(n,e,t,i){const r=l1(Ro(n,e,t)),s=l1(Ro(n,e,i)),o=l1(Ro(t,i,n)),l=l1(Ro(t,i,e));return!!(r!==s&&o!==l||r===0&&a1(n,t,e)||s===0&&a1(n,i,e)||o===0&&a1(t,n,i)||l===0&&a1(t,e,i))}function a1(n,e,t){return e.x<=Math.max(n.x,t.x)&&e.x>=Math.min(n.x,t.x)&&e.y<=Math.max(n.y,t.y)&&e.y>=Math.min(n.y,t.y)}function l1(n){return n>0?1:n<0?-1:0}function xhe(n,e){let t=n;do{if(t.i!==n.i&&t.next.i!==n.i&&t.i!==e.i&&t.next.i!==e.i&&kk(t,t.next,n,e))return!0;t=t.next}while(t!==n);return!1}function R_(n,e){return Ro(n.prev,n,n.next)<0?Ro(n,e,n.next)>=0&&Ro(n,n.prev,e)>=0:Ro(n,e,n.prev)<0||Ro(n,n.next,e)<0}function She(n,e){let t=n,i=!1;const r=(n.x+e.x)/2,s=(n.y+e.y)/2;do t.y>s!=t.next.y>s&&t.next.y!==t.y&&r<(t.next.x-t.x)*(s-t.y)/(t.next.y-t.y)+t.x&&(i=!i),t=t.next;while(t!==n);return i}function zk(n,e){const t=RR(n.i,n.x,n.y),i=RR(e.i,e.x,e.y),r=n.next,s=e.prev;return n.next=e,e.prev=n,t.next=r,r.prev=t,i.next=t,t.prev=i,s.next=i,i.prev=s,i}function uI(n,e,t,i){const r=RR(n,e,t);return i?(r.next=i.next,r.prev=i,i.next.prev=r,i.next=r):(r.prev=r,r.next=r),r}function M_(n){n.next.prev=n.prev,n.prev.next=n.next,n.prevZ&&(n.prevZ.nextZ=n.nextZ),n.nextZ&&(n.nextZ.prevZ=n.prevZ)}function RR(n,e,t){return{i:n,x:e,y:t,prev:null,next:null,z:0,prevZ:null,nextZ:null,steiner:!1}}function Ehe(n,e,t,i){let r=0;for(let s=e,o=t-i;s<t;s+=i)r+=(n[o]-n[s])*(n[s+1]+n[o+1]),o=s;return r}class whe{static triangulate(e,t,i=2){return ahe(e,t,i)}}class gh{static area(e){const t=e.length;let i=0;for(let r=t-1,s=0;s<t;r=s++)i+=e[r].x*e[s].y-e[s].x*e[r].y;return i*.5}static isClockWise(e){return gh.area(e)<0}static triangulateShape(e,t){const i=[],r=[],s=[];hI(e),dI(i,e);let o=e.length;t.forEach(hI);for(let a=0;a<t.length;a++)r.push(o),o+=t[a].length,dI(i,t[a]);const l=whe.triangulate(i,r);for(let a=0;a<l.length;a+=3)s.push(l.slice(a,a+3));return s}}function hI(n){const e=n.length;e>2&&n[e-1].equals(n[0])&&n.pop()}function dI(n,e){for(let t=0;t<e.length;t++)n.push(e[t].x),n.push(e[t].y)}class iw extends hr{constructor(e=new fg([new rn(.5,.5),new rn(-.5,.5),new rn(-.5,-.5),new rn(.5,-.5)]),t={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:t},e=Array.isArray(e)?e:[e];const i=this,r=[],s=[];for(let l=0,a=e.length;l<a;l++){const u=e[l];o(u)}this.setAttribute("position",new mi(r,3)),this.setAttribute("uv",new mi(s,2)),this.computeVertexNormals();function o(l){const a=[],u=t.curveSegments!==void 0?t.curveSegments:12,m=t.steps!==void 0?t.steps:1,d=t.depth!==void 0?t.depth:1;let b=t.bevelEnabled!==void 0?t.bevelEnabled:!0,g=t.bevelThickness!==void 0?t.bevelThickness:.2,_=t.bevelSize!==void 0?t.bevelSize:g-.1,p=t.bevelOffset!==void 0?t.bevelOffset:0,v=t.bevelSegments!==void 0?t.bevelSegments:3;const c=t.extrudePath,x=t.UVGenerator!==void 0?t.UVGenerator:Che;let w,T=!1,L,P,C,I;c&&(w=c.getSpacedPoints(m),T=!0,b=!1,L=c.computeFrenetFrames(m,!1),P=new De,C=new De,I=new De),b||(v=0,g=0,_=0,p=0);const F=l.extractPoints(u);let R=F.shape;const D=F.holes;if(!gh.isClockWise(R)){R=R.reverse();for(let Ae=0,Bt=D.length;Ae<Bt;Ae++){const Tt=D[Ae];gh.isClockWise(Tt)&&(D[Ae]=Tt.reverse())}}function j(Ae){const Tt=10000000000000001e-36;let zt=Ae[0];for(let At=1;At<=Ae.length;At++){const yn=At%Ae.length,nt=Ae[yn],Nt=nt.x-zt.x,en=nt.y-zt.y,_e=Nt*Nt+en*en,ue=Math.max(Math.abs(nt.x),Math.abs(nt.y),Math.abs(zt.x),Math.abs(zt.y)),ze=Tt*ue*ue;if(_e<=ze){Ae.splice(yn,1),At--;continue}zt=nt}}j(R),D.forEach(j);const k=D.length,V=R;for(let Ae=0;Ae<k;Ae++){const Bt=D[Ae];R=R.concat(Bt)}function H(Ae,Bt,Tt){return Bt||console.error("THREE.ExtrudeGeometry: vec does not exist"),Ae.clone().addScaledVector(Bt,Tt)}const te=R.length;function ne(Ae,Bt,Tt){let zt,At,yn;const nt=Ae.x-Bt.x,Nt=Ae.y-Bt.y,en=Tt.x-Ae.x,_e=Tt.y-Ae.y,ue=nt*nt+Nt*Nt,ze=nt*_e-Nt*en;if(Math.abs(ze)>Number.EPSILON){const rt=Math.sqrt(ue),pt=Math.sqrt(en*en+_e*_e),ht=Bt.x-Nt/rt,Yt=Bt.y+nt/rt,Qt=Tt.x-_e/pt,Cn=Tt.y+en/pt,An=((Qt-ht)*_e-(Cn-Yt)*en)/(nt*_e-Nt*en);zt=ht+nt*An-Ae.x,At=Yt+Nt*An-Ae.y;const Pt=zt*zt+At*At;if(Pt<=2)return new rn(zt,At);yn=Math.sqrt(Pt/2)}else{let rt=!1;nt>Number.EPSILON?en>Number.EPSILON&&(rt=!0):nt<-Number.EPSILON?en<-Number.EPSILON&&(rt=!0):Math.sign(Nt)===Math.sign(_e)&&(rt=!0),rt?(zt=-Nt,At=nt,yn=Math.sqrt(ue)):(zt=nt,At=Nt,yn=Math.sqrt(ue/2))}return new rn(zt/yn,At/yn)}const he=[];for(let Ae=0,Bt=V.length,Tt=Bt-1,zt=Ae+1;Ae<Bt;Ae++,Tt++,zt++)Tt===Bt&&(Tt=0),zt===Bt&&(zt=0),he[Ae]=ne(V[Ae],V[Tt],V[zt]);const ie=[];let ce,Se=he.concat();for(let Ae=0,Bt=k;Ae<Bt;Ae++){const Tt=D[Ae];ce=[];for(let zt=0,At=Tt.length,yn=At-1,nt=zt+1;zt<At;zt++,yn++,nt++)yn===At&&(yn=0),nt===At&&(nt=0),ce[zt]=ne(Tt[zt],Tt[yn],Tt[nt]);ie.push(ce),Se=Se.concat(ce)}let Ee;if(v===0)Ee=gh.triangulateShape(V,D);else{const Ae=[],Bt=[];for(let Tt=0;Tt<v;Tt++){const zt=Tt/v,At=g*Math.cos(zt*Math.PI/2),yn=_*Math.sin(zt*Math.PI/2)+p;for(let nt=0,Nt=V.length;nt<Nt;nt++){const en=H(V[nt],he[nt],yn);qe(en.x,en.y,-At),zt===0&&Ae.push(en)}for(let nt=0,Nt=k;nt<Nt;nt++){const en=D[nt];ce=ie[nt];const _e=[];for(let ue=0,ze=en.length;ue<ze;ue++){const rt=H(en[ue],ce[ue],yn);qe(rt.x,rt.y,-At),zt===0&&_e.push(rt)}zt===0&&Bt.push(_e)}}Ee=gh.triangulateShape(Ae,Bt)}const me=Ee.length,le=_+p;for(let Ae=0;Ae<te;Ae++){const Bt=b?H(R[Ae],Se[Ae],le):R[Ae];T?(C.copy(L.normals[0]).multiplyScalar(Bt.x),P.copy(L.binormals[0]).multiplyScalar(Bt.y),I.copy(w[0]).add(C).add(P),qe(I.x,I.y,I.z)):qe(Bt.x,Bt.y,0)}for(let Ae=1;Ae<=m;Ae++)for(let Bt=0;Bt<te;Bt++){const Tt=b?H(R[Bt],Se[Bt],le):R[Bt];T?(C.copy(L.normals[Ae]).multiplyScalar(Tt.x),P.copy(L.binormals[Ae]).multiplyScalar(Tt.y),I.copy(w[Ae]).add(C).add(P),qe(I.x,I.y,I.z)):qe(Tt.x,Tt.y,d/m*Ae)}for(let Ae=v-1;Ae>=0;Ae--){const Bt=Ae/v,Tt=g*Math.cos(Bt*Math.PI/2),zt=_*Math.sin(Bt*Math.PI/2)+p;for(let At=0,yn=V.length;At<yn;At++){const nt=H(V[At],he[At],zt);qe(nt.x,nt.y,d+Tt)}for(let At=0,yn=D.length;At<yn;At++){const nt=D[At];ce=ie[At];for(let Nt=0,en=nt.length;Nt<en;Nt++){const _e=H(nt[Nt],ce[Nt],zt);T?qe(_e.x,_e.y+w[m-1].y,w[m-1].x+Tt):qe(_e.x,_e.y,d+Tt)}}}we(),Re();function we(){const Ae=r.length/3;if(b){let Bt=0,Tt=te*Bt;for(let zt=0;zt<me;zt++){const At=Ee[zt];ot(At[2]+Tt,At[1]+Tt,At[0]+Tt)}Bt=m+v*2,Tt=te*Bt;for(let zt=0;zt<me;zt++){const At=Ee[zt];ot(At[0]+Tt,At[1]+Tt,At[2]+Tt)}}else{for(let Bt=0;Bt<me;Bt++){const Tt=Ee[Bt];ot(Tt[2],Tt[1],Tt[0])}for(let Bt=0;Bt<me;Bt++){const Tt=Ee[Bt];ot(Tt[0]+te*m,Tt[1]+te*m,Tt[2]+te*m)}}i.addGroup(Ae,r.length/3-Ae,0)}function Re(){const Ae=r.length/3;let Bt=0;Fe(V,Bt),Bt+=V.length;for(let Tt=0,zt=D.length;Tt<zt;Tt++){const At=D[Tt];Fe(At,Bt),Bt+=At.length}i.addGroup(Ae,r.length/3-Ae,1)}function Fe(Ae,Bt){let Tt=Ae.length;for(;--Tt>=0;){const zt=Tt;let At=Tt-1;At<0&&(At=Ae.length-1);for(let yn=0,nt=m+v*2;yn<nt;yn++){const Nt=te*yn,en=te*(yn+1),_e=Bt+zt+Nt,ue=Bt+At+Nt,ze=Bt+At+en,rt=Bt+zt+en;dn(_e,ue,ze,rt)}}}function qe(Ae,Bt,Tt){a.push(Ae),a.push(Bt),a.push(Tt)}function ot(Ae,Bt,Tt){mn(Ae),mn(Bt),mn(Tt);const zt=r.length/3,At=x.generateTopUV(i,r,zt-3,zt-2,zt-1);pn(At[0]),pn(At[1]),pn(At[2])}function dn(Ae,Bt,Tt,zt){mn(Ae),mn(Bt),mn(zt),mn(Bt),mn(Tt),mn(zt);const At=r.length/3,yn=x.generateSideWallUV(i,r,At-6,At-3,At-2,At-1);pn(yn[0]),pn(yn[1]),pn(yn[3]),pn(yn[1]),pn(yn[2]),pn(yn[3])}function mn(Ae){r.push(a[Ae*3+0]),r.push(a[Ae*3+1]),r.push(a[Ae*3+2])}function pn(Ae){s.push(Ae.x),s.push(Ae.y)}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),t=this.parameters.shapes,i=this.parameters.options;return The(t,i,e)}static fromJSON(e,t){const i=[];for(let s=0,o=e.shapes.length;s<o;s++){const l=t[e.shapes[s]];i.push(l)}const r=e.options.extrudePath;return r!==void 0&&(e.options.extrudePath=new rE[r.type]().fromJSON(r)),new iw(i,e.options)}}const Che={generateTopUV:function(n,e,t,i,r){const s=e[t*3],o=e[t*3+1],l=e[i*3],a=e[i*3+1],u=e[r*3],m=e[r*3+1];return[new rn(s,o),new rn(l,a),new rn(u,m)]},generateSideWallUV:function(n,e,t,i,r,s){const o=e[t*3],l=e[t*3+1],a=e[t*3+2],u=e[i*3],m=e[i*3+1],d=e[i*3+2],b=e[r*3],g=e[r*3+1],_=e[r*3+2],p=e[s*3],v=e[s*3+1],c=e[s*3+2];return Math.abs(l-m)<Math.abs(o-u)?[new rn(o,1-a),new rn(u,1-d),new rn(b,1-_),new rn(p,1-c)]:[new rn(l,1-a),new rn(m,1-d),new rn(g,1-_),new rn(v,1-c)]}};function The(n,e,t){if(t.shapes=[],Array.isArray(n))for(let i=0,r=n.length;i<r;i++){const s=n[i];t.shapes.push(s.uuid)}else t.shapes.push(n.uuid);return t.options=Object.assign({},e),e.extrudePath!==void 0&&(t.options.extrudePath=e.extrudePath.toJSON()),t}class ob extends Vp{constructor(e=1,t=0){const i=(1+Math.sqrt(5))/2,r=[-1,i,0,1,i,0,-1,-i,0,1,-i,0,0,-1,i,0,1,i,0,-1,-i,0,1,-i,i,0,-1,i,0,1,-i,0,-1,-i,0,1],s=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(r,s,e,t),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new ob(e.radius,e.detail)}}class rw extends hr{constructor(e=[new rn(0,-.5),new rn(.5,0),new rn(0,.5)],t=12,i=0,r=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:e,segments:t,phiStart:i,phiLength:r},t=Math.floor(t),r=ir(r,0,Math.PI*2);const s=[],o=[],l=[],a=[],u=[],m=1/t,d=new De,b=new rn,g=new De,_=new De,p=new De;let v=0,c=0;for(let x=0;x<=e.length-1;x++)switch(x){case 0:v=e[x+1].x-e[x].x,c=e[x+1].y-e[x].y,g.x=c*1,g.y=-v,g.z=c*0,p.copy(g),g.normalize(),a.push(g.x,g.y,g.z);break;case e.length-1:a.push(p.x,p.y,p.z);break;default:v=e[x+1].x-e[x].x,c=e[x+1].y-e[x].y,g.x=c*1,g.y=-v,g.z=c*0,_.copy(g),g.x+=p.x,g.y+=p.y,g.z+=p.z,g.normalize(),a.push(g.x,g.y,g.z),p.copy(_)}for(let x=0;x<=t;x++){const w=i+x*m*r,T=Math.sin(w),L=Math.cos(w);for(let P=0;P<=e.length-1;P++){d.x=e[P].x*T,d.y=e[P].y,d.z=e[P].x*L,o.push(d.x,d.y,d.z),b.x=x/t,b.y=P/(e.length-1),l.push(b.x,b.y);const C=a[3*P+0]*T,I=a[3*P+1],F=a[3*P+0]*L;u.push(C,I,F)}}for(let x=0;x<t;x++)for(let w=0;w<e.length-1;w++){const T=w+x*e.length,L=T,P=T+e.length,C=T+e.length+1,I=T+1;s.push(L,P,I),s.push(C,I,P)}this.setIndex(s),this.setAttribute("position",new mi(o,3)),this.setAttribute("uv",new mi(l,2)),this.setAttribute("normal",new mi(u,3))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new rw(e.points,e.segments,e.phiStart,e.phiLength)}}class ab extends Vp{constructor(e=1,t=0){const i=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],r=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(i,r,e,t),this.type="OctahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new ab(e.radius,e.detail)}}class Wp extends hr{constructor(e=1,t=1,i=1,r=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:i,heightSegments:r};const s=e/2,o=t/2,l=Math.floor(i),a=Math.floor(r),u=l+1,m=a+1,d=e/l,b=t/a,g=[],_=[],p=[],v=[];for(let c=0;c<m;c++){const x=c*b-o;for(let w=0;w<u;w++){const T=w*d-s;_.push(T,-x,0),p.push(0,0,1),v.push(w/l),v.push(1-c/a)}}for(let c=0;c<a;c++)for(let x=0;x<l;x++){const w=x+u*c,T=x+u*(c+1),L=x+1+u*(c+1),P=x+1+u*c;g.push(w,T,P),g.push(T,L,P)}this.setIndex(g),this.setAttribute("position",new mi(_,3)),this.setAttribute("normal",new mi(p,3)),this.setAttribute("uv",new mi(v,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Wp(e.width,e.height,e.widthSegments,e.heightSegments)}}class sw extends hr{constructor(e=.5,t=1,i=32,r=1,s=0,o=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:i,phiSegments:r,thetaStart:s,thetaLength:o},i=Math.max(3,i),r=Math.max(1,r);const l=[],a=[],u=[],m=[];let d=e;const b=(t-e)/r,g=new De,_=new rn;for(let p=0;p<=r;p++){for(let v=0;v<=i;v++){const c=s+v/i*o;g.x=d*Math.cos(c),g.y=d*Math.sin(c),a.push(g.x,g.y,g.z),u.push(0,0,1),_.x=(g.x/t+1)/2,_.y=(g.y/t+1)/2,m.push(_.x,_.y)}d+=b}for(let p=0;p<r;p++){const v=p*(i+1);for(let c=0;c<i;c++){const x=c+v,w=x,T=x+i+1,L=x+i+2,P=x+1;l.push(w,T,P),l.push(T,L,P)}}this.setIndex(l),this.setAttribute("position",new mi(a,3)),this.setAttribute("normal",new mi(u,3)),this.setAttribute("uv",new mi(m,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new sw(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class ow extends hr{constructor(e=new fg([new rn(0,.5),new rn(-.5,-.5),new rn(.5,-.5)]),t=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:t};const i=[],r=[],s=[],o=[];let l=0,a=0;if(Array.isArray(e)===!1)u(e);else for(let m=0;m<e.length;m++)u(e[m]),this.addGroup(l,a,m),l+=a,a=0;this.setIndex(i),this.setAttribute("position",new mi(r,3)),this.setAttribute("normal",new mi(s,3)),this.setAttribute("uv",new mi(o,2));function u(m){const d=r.length/3,b=m.extractPoints(t);let g=b.shape;const _=b.holes;gh.isClockWise(g)===!1&&(g=g.reverse());for(let v=0,c=_.length;v<c;v++){const x=_[v];gh.isClockWise(x)===!0&&(_[v]=x.reverse())}const p=gh.triangulateShape(g,_);for(let v=0,c=_.length;v<c;v++){const x=_[v];g=g.concat(x)}for(let v=0,c=g.length;v<c;v++){const x=g[v];r.push(x.x,x.y,0),s.push(0,0,1),o.push(x.x,x.y)}for(let v=0,c=p.length;v<c;v++){const x=p[v],w=x[0]+d,T=x[1]+d,L=x[2]+d;i.push(w,T,L),a+=3}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),t=this.parameters.shapes;return Ahe(t,e)}static fromJSON(e,t){const i=[];for(let r=0,s=e.shapes.length;r<s;r++){const o=t[e.shapes[r]];i.push(o)}return new ow(i,e.curveSegments)}}function Ahe(n,e){if(e.shapes=[],Array.isArray(n))for(let t=0,i=n.length;t<i;t++){const r=n[t];e.shapes.push(r.uuid)}else e.shapes.push(n.uuid);return e}class lb extends hr{constructor(e=1,t=32,i=16,r=0,s=Math.PI*2,o=0,l=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:i,phiStart:r,phiLength:s,thetaStart:o,thetaLength:l},t=Math.max(3,Math.floor(t)),i=Math.max(2,Math.floor(i));const a=Math.min(o+l,Math.PI);let u=0;const m=[],d=new De,b=new De,g=[],_=[],p=[],v=[];for(let c=0;c<=i;c++){const x=[],w=c/i;let T=0;c===0&&o===0?T=.5/t:c===i&&a===Math.PI&&(T=-.5/t);for(let L=0;L<=t;L++){const P=L/t;d.x=-e*Math.cos(r+P*s)*Math.sin(o+w*l),d.y=e*Math.cos(o+w*l),d.z=e*Math.sin(r+P*s)*Math.sin(o+w*l),_.push(d.x,d.y,d.z),b.copy(d).normalize(),p.push(b.x,b.y,b.z),v.push(P+T,1-w),x.push(u++)}m.push(x)}for(let c=0;c<i;c++)for(let x=0;x<t;x++){const w=m[c][x+1],T=m[c][x],L=m[c+1][x],P=m[c+1][x+1];(c!==0||o>0)&&g.push(w,T,P),(c!==i-1||a<Math.PI)&&g.push(T,L,P)}this.setIndex(g),this.setAttribute("position",new mi(_,3)),this.setAttribute("normal",new mi(p,3)),this.setAttribute("uv",new mi(v,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new lb(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class aw extends Vp{constructor(e=1,t=0){const i=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],r=[2,1,0,0,3,2,1,3,0,2,3,1];super(i,r,e,t),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new aw(e.radius,e.detail)}}class lw extends hr{constructor(e=1,t=.4,i=12,r=48,s=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:t,radialSegments:i,tubularSegments:r,arc:s},i=Math.floor(i),r=Math.floor(r);const o=[],l=[],a=[],u=[],m=new De,d=new De,b=new De;for(let g=0;g<=i;g++)for(let _=0;_<=r;_++){const p=_/r*s,v=g/i*Math.PI*2;d.x=(e+t*Math.cos(v))*Math.cos(p),d.y=(e+t*Math.cos(v))*Math.sin(p),d.z=t*Math.sin(v),l.push(d.x,d.y,d.z),m.x=e*Math.cos(p),m.y=e*Math.sin(p),b.subVectors(d,m).normalize(),a.push(b.x,b.y,b.z),u.push(_/r),u.push(g/i)}for(let g=1;g<=i;g++)for(let _=1;_<=r;_++){const p=(r+1)*g+_-1,v=(r+1)*(g-1)+_-1,c=(r+1)*(g-1)+_,x=(r+1)*g+_;o.push(p,v,x),o.push(v,c,x)}this.setIndex(o),this.setAttribute("position",new mi(l,3)),this.setAttribute("normal",new mi(a,3)),this.setAttribute("uv",new mi(u,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new lw(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class cw extends hr{constructor(e=1,t=.4,i=64,r=8,s=2,o=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:t,tubularSegments:i,radialSegments:r,p:s,q:o},i=Math.floor(i),r=Math.floor(r);const l=[],a=[],u=[],m=[],d=new De,b=new De,g=new De,_=new De,p=new De,v=new De,c=new De;for(let w=0;w<=i;++w){const T=w/i*s*Math.PI*2;x(T,s,o,e,g),x(T+.01,s,o,e,_),v.subVectors(_,g),c.addVectors(_,g),p.crossVectors(v,c),c.crossVectors(p,v),p.normalize(),c.normalize();for(let L=0;L<=r;++L){const P=L/r*Math.PI*2,C=-t*Math.cos(P),I=t*Math.sin(P);d.x=g.x+(C*c.x+I*p.x),d.y=g.y+(C*c.y+I*p.y),d.z=g.z+(C*c.z+I*p.z),a.push(d.x,d.y,d.z),b.subVectors(d,g).normalize(),u.push(b.x,b.y,b.z),m.push(w/i),m.push(L/r)}}for(let w=1;w<=i;w++)for(let T=1;T<=r;T++){const L=(r+1)*(w-1)+(T-1),P=(r+1)*w+(T-1),C=(r+1)*w+T,I=(r+1)*(w-1)+T;l.push(L,P,I),l.push(P,C,I)}this.setIndex(l),this.setAttribute("position",new mi(a,3)),this.setAttribute("normal",new mi(u,3)),this.setAttribute("uv",new mi(m,2));function x(w,T,L,P,C){const I=Math.cos(w),F=Math.sin(w),R=L/T*w,D=Math.cos(R);C.x=P*(2+D)*.5*I,C.y=P*(2+D)*F*.5,C.z=P*Math.sin(R)*.5}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new cw(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class uw extends hr{constructor(e=new i2(new De(-1,-1,0),new De(-1,1,0),new De(1,1,0)),t=64,i=1,r=8,s=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:t,radius:i,radialSegments:r,closed:s};const o=e.computeFrenetFrames(t,s);this.tangents=o.tangents,this.normals=o.normals,this.binormals=o.binormals;const l=new De,a=new De,u=new rn;let m=new De;const d=[],b=[],g=[],_=[];p(),this.setIndex(_),this.setAttribute("position",new mi(d,3)),this.setAttribute("normal",new mi(b,3)),this.setAttribute("uv",new mi(g,2));function p(){for(let w=0;w<t;w++)v(w);v(s===!1?t:0),x(),c()}function v(w){m=e.getPointAt(w/t,m);const T=o.normals[w],L=o.binormals[w];for(let P=0;P<=r;P++){const C=P/r*Math.PI*2,I=Math.sin(C),F=-Math.cos(C);a.x=F*T.x+I*L.x,a.y=F*T.y+I*L.y,a.z=F*T.z+I*L.z,a.normalize(),b.push(a.x,a.y,a.z),l.x=m.x+i*a.x,l.y=m.y+i*a.y,l.z=m.z+i*a.z,d.push(l.x,l.y,l.z)}}function c(){for(let w=1;w<=t;w++)for(let T=1;T<=r;T++){const L=(r+1)*(w-1)+(T-1),P=(r+1)*w+(T-1),C=(r+1)*w+T,I=(r+1)*(w-1)+T;_.push(L,P,I),_.push(P,C,I)}}function x(){for(let w=0;w<=t;w++)for(let T=0;T<=r;T++)u.x=w/t,u.y=T/r,g.push(u.x,u.y)}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new uw(new rE[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class $k extends hr{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){const t=[],i=new Set,r=new De,s=new De;if(e.index!==null){const o=e.attributes.position,l=e.index;let a=e.groups;a.length===0&&(a=[{start:0,count:l.count,materialIndex:0}]);for(let u=0,m=a.length;u<m;++u){const d=a[u],b=d.start,g=d.count;for(let _=b,p=b+g;_<p;_+=3)for(let v=0;v<3;v++){const c=l.getX(_+v),x=l.getX(_+(v+1)%3);r.fromBufferAttribute(o,c),s.fromBufferAttribute(o,x),fI(r,s,i)===!0&&(t.push(r.x,r.y,r.z),t.push(s.x,s.y,s.z))}}}else{const o=e.attributes.position;for(let l=0,a=o.count/3;l<a;l++)for(let u=0;u<3;u++){const m=3*l+u,d=3*l+(u+1)%3;r.fromBufferAttribute(o,m),s.fromBufferAttribute(o,d),fI(r,s,i)===!0&&(t.push(r.x,r.y,r.z),t.push(s.x,s.y,s.z))}}this.setAttribute("position",new mi(t,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}function fI(n,e,t){const i=`${n.x},${n.y},${n.z}-${e.x},${e.y},${e.z}`,r=`${e.x},${e.y},${e.z}-${n.x},${n.y},${n.z}`;return t.has(i)===!0||t.has(r)===!0?!1:(t.add(i),t.add(r),!0)}var pI=Object.freeze({__proto__:null,BoxGeometry:Tg,CapsuleGeometry:JE,CircleGeometry:ew,ConeGeometry:sb,CylinderGeometry:rb,DodecahedronGeometry:tw,EdgesGeometry:Lk,ExtrudeGeometry:iw,IcosahedronGeometry:ob,LatheGeometry:rw,OctahedronGeometry:ab,PlaneGeometry:Wp,PolyhedronGeometry:Vp,RingGeometry:sw,ShapeGeometry:ow,SphereGeometry:lb,TetrahedronGeometry:aw,TorusGeometry:lw,TorusKnotGeometry:cw,TubeGeometry:uw,WireframeGeometry:$k});class Hk extends Fl{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new jn(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class Gk extends Dc{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class s2 extends Fl{constructor(e){super(),this.isMeshStandardMaterial=!0,this.type="MeshStandardMaterial",this.defines={STANDARD:""},this.color=new jn(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new jn(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Gp,this.normalScale=new rn(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new su,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class Vk extends s2{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new rn(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return ir(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(t){this.ior=(1+.4*t)/(1-.4*t)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new jn(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new jn(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new jn(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._dispersion=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(e)}get anisotropy(){return this._anisotropy}set anisotropy(e){this._anisotropy>0!=e>0&&this.version++,this._anisotropy=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get dispersion(){return this._dispersion}set dispersion(e){this._dispersion>0!=e>0&&this.version++,this._dispersion=e}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=e.anisotropy,this.anisotropyRotation=e.anisotropyRotation,this.anisotropyMap=e.anisotropyMap,this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.dispersion=e.dispersion,this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class Wk extends Fl{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new jn(16777215),this.specular=new jn(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new jn(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Gp,this.normalScale=new rn(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new su,this.combine=Q_,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class jk extends Fl{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new jn(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new jn(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Gp,this.normalScale=new rn(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class Xk extends Fl{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Gp,this.normalScale=new rn(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class qk extends Fl{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new jn(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new jn(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Gp,this.normalScale=new rn(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new su,this.combine=Q_,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class o2 extends Fl{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=rk,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class a2 extends Fl{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}class Yk extends Fl{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new jn(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Gp,this.normalScale=new rn(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this.fog=e.fog,this}}class Kk extends pc{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}function og(n,e){return!n||n.constructor===e?n:typeof e.BYTES_PER_ELEMENT=="number"?new e(n):Array.prototype.slice.call(n)}function Zk(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}function Qk(n){function e(r,s){return n[r]-n[s]}const t=n.length,i=new Array(t);for(let r=0;r!==t;++r)i[r]=r;return i.sort(e),i}function MR(n,e,t){const i=n.length,r=new n.constructor(i);for(let s=0,o=0;o!==i;++s){const l=t[s]*e;for(let a=0;a!==e;++a)r[o++]=n[l+a]}return r}function l2(n,e,t,i){let r=1,s=n[0];for(;s!==void 0&&s[i]===void 0;)s=n[r++];if(s===void 0)return;let o=s[i];if(o!==void 0)if(Array.isArray(o))do o=s[i],o!==void 0&&(e.push(s.time),t.push(...o)),s=n[r++];while(s!==void 0);else if(o.toArray!==void 0)do o=s[i],o!==void 0&&(e.push(s.time),o.toArray(t,t.length)),s=n[r++];while(s!==void 0);else do o=s[i],o!==void 0&&(e.push(s.time),t.push(o)),s=n[r++];while(s!==void 0)}function Rhe(n,e,t,i,r=30){const s=n.clone();s.name=e;const o=[];for(let a=0;a<s.tracks.length;++a){const u=s.tracks[a],m=u.getValueSize(),d=[],b=[];for(let g=0;g<u.times.length;++g){const _=u.times[g]*r;if(!(_<t||_>=i)){d.push(u.times[g]);for(let p=0;p<m;++p)b.push(u.values[g*m+p])}}d.length!==0&&(u.times=og(d,u.times.constructor),u.values=og(b,u.values.constructor),o.push(u))}s.tracks=o;let l=1/0;for(let a=0;a<s.tracks.length;++a)l>s.tracks[a].times[0]&&(l=s.tracks[a].times[0]);for(let a=0;a<s.tracks.length;++a)s.tracks[a].shift(-1*l);return s.resetDuration(),s}function Mhe(n,e=0,t=n,i=30){i<=0&&(i=30);const r=t.tracks.length,s=e/i;for(let o=0;o<r;++o){const l=t.tracks[o],a=l.ValueTypeName;if(a==="bool"||a==="string")continue;const u=n.tracks.find(function(c){return c.name===l.name&&c.ValueTypeName===a});if(u===void 0)continue;let m=0;const d=l.getValueSize();l.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(m=d/3);let b=0;const g=u.getValueSize();u.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(b=g/3);const _=l.times.length-1;let p;if(s<=l.times[0]){const c=m,x=d-m;p=l.values.slice(c,x)}else if(s>=l.times[_]){const c=_*d+m,x=c+d-m;p=l.values.slice(c,x)}else{const c=l.createInterpolant(),x=m,w=d-m;c.evaluate(s),p=c.resultBuffer.slice(x,w)}a==="quaternion"&&new Pl().fromArray(p).normalize().conjugate().toArray(p);const v=u.times.length;for(let c=0;c<v;++c){const x=c*g+b;if(a==="quaternion")Pl.multiplyQuaternionsFlat(u.values,x,p,0,u.values,x);else{const w=g-b*2;for(let T=0;T<w;++T)u.values[x+T]-=p[T]}}}return n.blendMode=GM,n}class Ohe{static convertArray(e,t){return og(e,t)}static isTypedArray(e){return Zk(e)}static getKeyframeOrder(e){return Qk(e)}static sortedArray(e,t,i){return MR(e,t,i)}static flattenJSON(e,t,i,r){l2(e,t,i,r)}static subclip(e,t,i,r,s=30){return Rhe(e,t,i,r,s)}static makeClipAdditive(e,t=0,i=e,r=30){return Mhe(e,t,i,r)}}class cb{constructor(e,t,i,r){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=r!==void 0?r:new t.constructor(i),this.sampleValues=t,this.valueSize=i,this.settings=null,this.DefaultSettings_={}}evaluate(e){const t=this.parameterPositions;let i=this._cachedIndex,r=t[i],s=t[i-1];e:{t:{let o;n:{i:if(!(e<r)){for(let l=i+2;;){if(r===void 0){if(e<s)break i;return i=t.length,this._cachedIndex=i,this.copySampleValue_(i-1)}if(i===l)break;if(s=r,r=t[++i],e<r)break t}o=t.length;break n}if(!(e>=s)){const l=t[1];e<l&&(i=2,s=l);for(let a=i-2;;){if(s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(i===a)break;if(r=s,s=t[--i-1],e>=s)break t}o=i,i=0;break n}break e}for(;i<o;){const l=i+o>>>1;e<t[l]?o=l:i=l+1}if(r=t[i],s=t[i-1],s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(r===void 0)return i=t.length,this._cachedIndex=i,this.copySampleValue_(i-1)}this._cachedIndex=i,this.intervalChanged_(i,s,r)}return this.interpolate_(i,s,e,r)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const t=this.resultBuffer,i=this.sampleValues,r=this.valueSize,s=e*r;for(let o=0;o!==r;++o)t[o]=i[s+o];return t}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class Jk extends cb{constructor(e,t,i,r){super(e,t,i,r),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:ig,endingEnd:ig}}intervalChanged_(e,t,i){const r=this.parameterPositions;let s=e-2,o=e+1,l=r[s],a=r[o];if(l===void 0)switch(this.getSettings_().endingStart){case rg:s=e,l=2*t-i;break;case S_:s=r.length-2,l=t+r[s]-r[s+1];break;default:s=e,l=i}if(a===void 0)switch(this.getSettings_().endingEnd){case rg:o=e,a=2*i-t;break;case S_:o=1,a=i+r[1]-r[0];break;default:o=e-1,a=t}const u=(i-t)*.5,m=this.valueSize;this._weightPrev=u/(t-l),this._weightNext=u/(a-i),this._offsetPrev=s*m,this._offsetNext=o*m}interpolate_(e,t,i,r){const s=this.resultBuffer,o=this.sampleValues,l=this.valueSize,a=e*l,u=a-l,m=this._offsetPrev,d=this._offsetNext,b=this._weightPrev,g=this._weightNext,_=(i-t)/(r-t),p=_*_,v=p*_,c=-b*v+2*b*p-b*_,x=(1+b)*v+(-1.5-2*b)*p+(-.5+b)*_+1,w=(-1-g)*v+(1.5+g)*p+.5*_,T=g*v-g*p;for(let L=0;L!==l;++L)s[L]=c*o[m+L]+x*o[u+L]+w*o[a+L]+T*o[d+L];return s}}class c2 extends cb{constructor(e,t,i,r){super(e,t,i,r)}interpolate_(e,t,i,r){const s=this.resultBuffer,o=this.sampleValues,l=this.valueSize,a=e*l,u=a-l,m=(i-t)/(r-t),d=1-m;for(let b=0;b!==l;++b)s[b]=o[u+b]*d+o[a+b]*m;return s}}class e5 extends cb{constructor(e,t,i,r){super(e,t,i,r)}interpolate_(e){return this.copySampleValue_(e-1)}}class Hu{constructor(e,t,i,r){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(t===void 0||t.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=og(t,this.TimeBufferType),this.values=og(i,this.ValueBufferType),this.setInterpolation(r||this.DefaultInterpolation)}static toJSON(e){const t=e.constructor;let i;if(t.toJSON!==this.toJSON)i=t.toJSON(e);else{i={name:e.name,times:og(e.times,Array),values:og(e.values,Array)};const r=e.getInterpolation();r!==e.DefaultInterpolation&&(i.interpolation=r)}return i.type=e.ValueTypeName,i}InterpolantFactoryMethodDiscrete(e){return new e5(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new c2(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new Jk(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let t;switch(e){case x_:t=this.InterpolantFactoryMethodDiscrete;break;case tE:t=this.InterpolantFactoryMethodLinear;break;case I1:t=this.InterpolantFactoryMethodSmooth;break}if(t===void 0){const i="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(i);return console.warn("THREE.KeyframeTrack:",i),this}return this.createInterpolant=t,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return x_;case this.InterpolantFactoryMethodLinear:return tE;case this.InterpolantFactoryMethodSmooth:return I1}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const t=this.times;for(let i=0,r=t.length;i!==r;++i)t[i]+=e}return this}scale(e){if(e!==1){const t=this.times;for(let i=0,r=t.length;i!==r;++i)t[i]*=e}return this}trim(e,t){const i=this.times,r=i.length;let s=0,o=r-1;for(;s!==r&&i[s]<e;)++s;for(;o!==-1&&i[o]>t;)--o;if(++o,s!==0||o!==r){s>=o&&(o=Math.max(o,1),s=o-1);const l=this.getValueSize();this.times=i.slice(s,o),this.values=this.values.slice(s*l,o*l)}return this}validate(){let e=!0;const t=this.getValueSize();t-Math.floor(t)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const i=this.times,r=this.values,s=i.length;s===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let o=null;for(let l=0;l!==s;l++){const a=i[l];if(typeof a=="number"&&isNaN(a)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,l,a),e=!1;break}if(o!==null&&o>a){console.error("THREE.KeyframeTrack: Out of order keys.",this,l,a,o),e=!1;break}o=a}if(r!==void 0&&Zk(r))for(let l=0,a=r.length;l!==a;++l){const u=r[l];if(isNaN(u)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,l,u),e=!1;break}}return e}optimize(){const e=this.times.slice(),t=this.values.slice(),i=this.getValueSize(),r=this.getInterpolation()===I1,s=e.length-1;let o=1;for(let l=1;l<s;++l){let a=!1;const u=e[l],m=e[l+1];if(u!==m&&(l!==1||u!==e[0]))if(r)a=!0;else{const d=l*i,b=d-i,g=d+i;for(let _=0;_!==i;++_){const p=t[d+_];if(p!==t[b+_]||p!==t[g+_]){a=!0;break}}}if(a){if(l!==o){e[o]=e[l];const d=l*i,b=o*i;for(let g=0;g!==i;++g)t[b+g]=t[d+g]}++o}}if(s>0){e[o]=e[s];for(let l=s*i,a=o*i,u=0;u!==i;++u)t[a+u]=t[l+u];++o}return o!==e.length?(this.times=e.slice(0,o),this.values=t.slice(0,o*i)):(this.times=e,this.values=t),this}clone(){const e=this.times.slice(),t=this.values.slice(),i=this.constructor,r=new i(this.name,e,t);return r.createInterpolant=this.createInterpolant,r}}Hu.prototype.ValueTypeName="";Hu.prototype.TimeBufferType=Float32Array;Hu.prototype.ValueBufferType=Float32Array;Hu.prototype.DefaultInterpolation=tE;class Ag extends Hu{constructor(e,t,i){super(e,t,i)}}Ag.prototype.ValueTypeName="bool";Ag.prototype.ValueBufferType=Array;Ag.prototype.DefaultInterpolation=x_;Ag.prototype.InterpolantFactoryMethodLinear=void 0;Ag.prototype.InterpolantFactoryMethodSmooth=void 0;class u2 extends Hu{constructor(e,t,i,r){super(e,t,i,r)}}u2.prototype.ValueTypeName="color";class O_ extends Hu{constructor(e,t,i,r){super(e,t,i,r)}}O_.prototype.ValueTypeName="number";class t5 extends cb{constructor(e,t,i,r){super(e,t,i,r)}interpolate_(e,t,i,r){const s=this.resultBuffer,o=this.sampleValues,l=this.valueSize,a=(i-t)/(r-t);let u=e*l;for(let m=u+l;u!==m;u+=4)Pl.slerpFlat(s,0,o,u-l,o,u,a);return s}}class ub extends Hu{constructor(e,t,i,r){super(e,t,i,r)}InterpolantFactoryMethodLinear(e){return new t5(this.times,this.values,this.getValueSize(),e)}}ub.prototype.ValueTypeName="quaternion";ub.prototype.InterpolantFactoryMethodSmooth=void 0;class Rg extends Hu{constructor(e,t,i){super(e,t,i)}}Rg.prototype.ValueTypeName="string";Rg.prototype.ValueBufferType=Array;Rg.prototype.DefaultInterpolation=x_;Rg.prototype.InterpolantFactoryMethodLinear=void 0;Rg.prototype.InterpolantFactoryMethodSmooth=void 0;class L_ extends Hu{constructor(e,t,i,r){super(e,t,i,r)}}L_.prototype.ValueTypeName="vector";class P_{constructor(e="",t=-1,i=[],r=HE){this.name=e,this.tracks=i,this.duration=t,this.blendMode=r,this.uuid=nu(),this.duration<0&&this.resetDuration()}static parse(e){const t=[],i=e.tracks,r=1/(e.fps||1);for(let o=0,l=i.length;o!==l;++o)t.push(Phe(i[o]).scale(r));const s=new this(e.name,e.duration,t,e.blendMode);return s.uuid=e.uuid,s}static toJSON(e){const t=[],i=e.tracks,r={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode};for(let s=0,o=i.length;s!==o;++s)t.push(Hu.toJSON(i[s]));return r}static CreateFromMorphTargetSequence(e,t,i,r){const s=t.length,o=[];for(let l=0;l<s;l++){let a=[],u=[];a.push((l+s-1)%s,l,(l+1)%s),u.push(0,1,0);const m=Qk(a);a=MR(a,1,m),u=MR(u,1,m),!r&&a[0]===0&&(a.push(s),u.push(u[0])),o.push(new O_(".morphTargetInfluences["+t[l].name+"]",a,u).scale(1/i))}return new this(e,-1,o)}static findByName(e,t){let i=e;if(!Array.isArray(e)){const r=e;i=r.geometry&&r.geometry.animations||r.animations}for(let r=0;r<i.length;r++)if(i[r].name===t)return i[r];return null}static CreateClipsFromMorphTargetSequences(e,t,i){const r={},s=/^([\w-]*?)([\d]+)$/;for(let l=0,a=e.length;l<a;l++){const u=e[l],m=u.name.match(s);if(m&&m.length>1){const d=m[1];let b=r[d];b||(r[d]=b=[]),b.push(u)}}const o=[];for(const l in r)o.push(this.CreateFromMorphTargetSequence(l,r[l],t,i));return o}static parseAnimation(e,t){if(console.warn("THREE.AnimationClip: parseAnimation() is deprecated and will be removed with r185"),!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const i=function(d,b,g,_,p){if(g.length!==0){const v=[],c=[];l2(g,v,c,_),v.length!==0&&p.push(new d(b,v,c))}},r=[],s=e.name||"default",o=e.fps||30,l=e.blendMode;let a=e.length||-1;const u=e.hierarchy||[];for(let d=0;d<u.length;d++){const b=u[d].keys;if(!(!b||b.length===0))if(b[0].morphTargets){const g={};let _;for(_=0;_<b.length;_++)if(b[_].morphTargets)for(let p=0;p<b[_].morphTargets.length;p++)g[b[_].morphTargets[p]]=-1;for(const p in g){const v=[],c=[];for(let x=0;x!==b[_].morphTargets.length;++x){const w=b[_];v.push(w.time),c.push(w.morphTarget===p?1:0)}r.push(new O_(".morphTargetInfluence["+p+"]",v,c))}a=g.length*o}else{const g=".bones["+t[d].name+"]";i(L_,g+".position",b,"pos",r),i(ub,g+".quaternion",b,"rot",r),i(L_,g+".scale",b,"scl",r)}}return r.length===0?null:new this(s,a,r,l)}resetDuration(){const e=this.tracks;let t=0;for(let i=0,r=e.length;i!==r;++i){const s=this.tracks[i];t=Math.max(t,s.times[s.times.length-1])}return this.duration=t,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let t=0;t<this.tracks.length;t++)e.push(this.tracks[t].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function Lhe(n){switch(n.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return O_;case"vector":case"vector2":case"vector3":case"vector4":return L_;case"color":return u2;case"quaternion":return ub;case"bool":case"boolean":return Ag;case"string":return Rg}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+n)}function Phe(n){if(n.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=Lhe(n.type);if(n.times===void 0){const t=[],i=[];l2(n.keys,t,i,"value"),n.times=t,n.values=i}return e.parse!==void 0?e.parse(n):new e(n.name,n.times,n.values,n.interpolation)}const sd={enabled:!1,files:{},add:function(n,e){this.enabled!==!1&&(this.files[n]=e)},get:function(n){if(this.enabled!==!1)return this.files[n]},remove:function(n){delete this.files[n]},clear:function(){this.files={}}};class hw{constructor(e,t,i){const r=this;let s=!1,o=0,l=0,a;const u=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=i,this.itemStart=function(m){l++,s===!1&&r.onStart!==void 0&&r.onStart(m,o,l),s=!0},this.itemEnd=function(m){o++,r.onProgress!==void 0&&r.onProgress(m,o,l),o===l&&(s=!1,r.onLoad!==void 0&&r.onLoad())},this.itemError=function(m){r.onError!==void 0&&r.onError(m)},this.resolveURL=function(m){return a?a(m):m},this.setURLModifier=function(m){return a=m,this},this.addHandler=function(m,d){return u.push(m,d),this},this.removeHandler=function(m){const d=u.indexOf(m);return d!==-1&&u.splice(d,2),this},this.getHandler=function(m){for(let d=0,b=u.length;d<b;d+=2){const g=u[d],_=u[d+1];if(g.global&&(g.lastIndex=0),g.test(m))return _}return null}}}const n5=new hw;class mc{constructor(e){this.manager=e!==void 0?e:n5,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,t){const i=this;return new Promise(function(r,s){i.load(e,r,t,s)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}}mc.DEFAULT_MATERIAL_NAME="__DEFAULT";const tf={};class Nhe extends Error{constructor(e,t){super(e),this.response=t}}class iu extends mc{constructor(e){super(e),this.mimeType="",this.responseType=""}load(e,t,i,r){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=sd.get(`file:${e}`);if(s!==void 0)return this.manager.itemStart(e),setTimeout(()=>{t&&t(s),this.manager.itemEnd(e)},0),s;if(tf[e]!==void 0){tf[e].push({onLoad:t,onProgress:i,onError:r});return}tf[e]=[],tf[e].push({onLoad:t,onProgress:i,onError:r});const o=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),l=this.mimeType,a=this.responseType;fetch(o).then(u=>{if(u.status===200||u.status===0){if(u.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||u.body===void 0||u.body.getReader===void 0)return u;const m=tf[e],d=u.body.getReader(),b=u.headers.get("X-File-Size")||u.headers.get("Content-Length"),g=b?parseInt(b):0,_=g!==0;let p=0;const v=new ReadableStream({start(c){x();function x(){d.read().then(({done:w,value:T})=>{if(w)c.close();else{p+=T.byteLength;const L=new ProgressEvent("progress",{lengthComputable:_,loaded:p,total:g});for(let P=0,C=m.length;P<C;P++){const I=m[P];I.onProgress&&I.onProgress(L)}c.enqueue(T),x()}},w=>{c.error(w)})}}});return new Response(v)}else throw new Nhe(`fetch for "${u.url}" responded with ${u.status}: ${u.statusText}`,u)}).then(u=>{switch(a){case"arraybuffer":return u.arrayBuffer();case"blob":return u.blob();case"document":return u.text().then(m=>new DOMParser().parseFromString(m,l));case"json":return u.json();default:if(l==="")return u.text();{const d=/charset="?([^;"\s]*)"?/i.exec(l),b=d&&d[1]?d[1].toLowerCase():void 0,g=new TextDecoder(b);return u.arrayBuffer().then(_=>g.decode(_))}}}).then(u=>{sd.add(`file:${e}`,u);const m=tf[e];delete tf[e];for(let d=0,b=m.length;d<b;d++){const g=m[d];g.onLoad&&g.onLoad(u)}}).catch(u=>{const m=tf[e];if(m===void 0)throw this.manager.itemError(e),u;delete tf[e];for(let d=0,b=m.length;d<b;d++){const g=m[d];g.onError&&g.onError(u)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class Ihe extends mc{constructor(e){super(e)}load(e,t,i,r){const s=this,o=new iu(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(l){try{t(s.parse(JSON.parse(l)))}catch(a){r?r(a):console.error(a),s.manager.itemError(e)}},i,r)}parse(e){const t=[];for(let i=0;i<e.length;i++){const r=P_.parse(e[i]);t.push(r)}return t}}class Dhe extends mc{constructor(e){super(e)}load(e,t,i,r){const s=this,o=[],l=new ZE,a=new iu(this.manager);a.setPath(this.path),a.setResponseType("arraybuffer"),a.setRequestHeader(this.requestHeader),a.setWithCredentials(s.withCredentials);let u=0;function m(d){a.load(e[d],function(b){const g=s.parse(b,!0);o[d]={width:g.width,height:g.height,format:g.format,mipmaps:g.mipmaps},u+=1,u===6&&(g.mipmapCount===1&&(l.minFilter=os),l.image=o,l.format=g.format,l.needsUpdate=!0,t&&t(l))},i,r)}if(Array.isArray(e))for(let d=0,b=e.length;d<b;++d)m(d);else a.load(e,function(d){const b=s.parse(d,!0);if(b.isCubemap){const g=b.mipmaps.length/b.mipmapCount;for(let _=0;_<g;_++){o[_]={mipmaps:[]};for(let p=0;p<b.mipmapCount;p++)o[_].mipmaps.push(b.mipmaps[_*b.mipmapCount+p]),o[_].format=b.format,o[_].width=b.width,o[_].height=b.height}l.image=o}else l.image.width=b.width,l.image.height=b.height,l.mipmaps=b.mipmaps;b.mipmapCount===1&&(l.minFilter=os),l.format=b.format,l.needsUpdate=!0,t&&t(l)},i,r);return l}}const Nv=new WeakMap;class N_ extends mc{constructor(e){super(e)}load(e,t,i,r){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=sd.get(`image:${e}`);if(o!==void 0){if(o.complete===!0)s.manager.itemStart(e),setTimeout(function(){t&&t(o),s.manager.itemEnd(e)},0);else{let d=Nv.get(o);d===void 0&&(d=[],Nv.set(o,d)),d.push({onLoad:t,onError:r})}return o}const l=T_("img");function a(){m(),t&&t(this);const d=Nv.get(this)||[];for(let b=0;b<d.length;b++){const g=d[b];g.onLoad&&g.onLoad(this)}Nv.delete(this),s.manager.itemEnd(e)}function u(d){m(),r&&r(d),sd.remove(`image:${e}`);const b=Nv.get(this)||[];for(let g=0;g<b.length;g++){const _=b[g];_.onError&&_.onError(d)}Nv.delete(this),s.manager.itemError(e),s.manager.itemEnd(e)}function m(){l.removeEventListener("load",a,!1),l.removeEventListener("error",u,!1)}return l.addEventListener("load",a,!1),l.addEventListener("error",u,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(l.crossOrigin=this.crossOrigin),sd.add(`image:${e}`,l),s.manager.itemStart(e),l.src=e,l}}class i5 extends mc{constructor(e){super(e)}load(e,t,i,r){const s=new nb;s.colorSpace=Na;const o=new N_(this.manager);o.setCrossOrigin(this.crossOrigin),o.setPath(this.path);let l=0;function a(u){o.load(e[u],function(m){s.images[u]=m,l++,l===6&&(s.needsUpdate=!0,t&&t(s))},void 0,r)}for(let u=0;u<e.length;++u)a(u);return s}}class h2 extends mc{constructor(e){super(e)}load(e,t,i,r){const s=this,o=new bh,l=new iu(this.manager);return l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setPath(this.path),l.setWithCredentials(s.withCredentials),l.load(e,function(a){let u;try{u=s.parse(a)}catch(m){if(r!==void 0)r(m);else{console.error(m);return}}u.image!==void 0?o.image=u.image:u.data!==void 0&&(o.image.width=u.width,o.image.height=u.height,o.image.data=u.data),o.wrapS=u.wrapS!==void 0?u.wrapS:Ea,o.wrapT=u.wrapT!==void 0?u.wrapT:Ea,o.magFilter=u.magFilter!==void 0?u.magFilter:os,o.minFilter=u.minFilter!==void 0?u.minFilter:os,o.anisotropy=u.anisotropy!==void 0?u.anisotropy:1,u.colorSpace!==void 0&&(o.colorSpace=u.colorSpace),u.flipY!==void 0&&(o.flipY=u.flipY),u.format!==void 0&&(o.format=u.format),u.type!==void 0&&(o.type=u.type),u.mipmaps!==void 0&&(o.mipmaps=u.mipmaps,o.minFilter=rd),u.mipmapCount===1&&(o.minFilter=os),u.generateMipmaps!==void 0&&(o.generateMipmaps=u.generateMipmaps),o.needsUpdate=!0,t&&t(o,u)},i,r),o}}class dw extends mc{constructor(e){super(e)}load(e,t,i,r){const s=new ps,o=new N_(this.manager);return o.setCrossOrigin(this.crossOrigin),o.setPath(this.path),o.load(e,function(l){s.image=l,s.needsUpdate=!0,t!==void 0&&t(s)},i,r),s}}class jp extends Zr{constructor(e,t=1){super(),this.isLight=!0,this.type="Light",this.color=new jn(e),this.intensity=t}dispose(){}copy(e,t){return super.copy(e,t),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const t=super.toJSON(e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,this.groundColor!==void 0&&(t.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(t.object.distance=this.distance),this.angle!==void 0&&(t.object.angle=this.angle),this.decay!==void 0&&(t.object.decay=this.decay),this.penumbra!==void 0&&(t.object.penumbra=this.penumbra),this.shadow!==void 0&&(t.object.shadow=this.shadow.toJSON()),this.target!==void 0&&(t.object.target=this.target.uuid),t}}class r5 extends jp{constructor(e,t,i){super(e,i),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(Zr.DEFAULT_UP),this.updateMatrix(),this.groundColor=new jn(t)}copy(e,t){return super.copy(e,t),this.groundColor.copy(e.groundColor),this}}const BT=new Wi,mI=new De,gI=new De;class d2{constructor(e){this.camera=e,this.intensity=1,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new rn(512,512),this.mapType=fc,this.map=null,this.mapPass=null,this.matrix=new Wi,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new P0,this._frameExtents=new rn(1,1),this._viewportCount=1,this._viewports=[new Kr(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const t=this.camera,i=this.matrix;mI.setFromMatrixPosition(e.matrixWorld),t.position.copy(mI),gI.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(gI),t.updateMatrixWorld(),BT.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(BT),i.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),i.multiply(BT)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.intensity=e.intensity,this.bias=e.bias,this.radius=e.radius,this.autoUpdate=e.autoUpdate,this.needsUpdate=e.needsUpdate,this.normalBias=e.normalBias,this.blurSamples=e.blurSamples,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.intensity!==1&&(e.intensity=this.intensity),this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class Fhe extends d2{constructor(){super(new na(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1,this.aspect=1}updateMatrices(e){const t=this.camera,i=m0*2*e.angle*this.focus,r=this.mapSize.width/this.mapSize.height*this.aspect,s=e.distance||t.far;(i!==t.fov||r!==t.aspect||s!==t.far)&&(t.fov=i,t.aspect=r,t.far=s,t.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class s5 extends jp{constructor(e,t,i=0,r=Math.PI/3,s=0,o=2){super(e,t),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(Zr.DEFAULT_UP),this.updateMatrix(),this.target=new Zr,this.distance=i,this.angle=r,this.penumbra=s,this.decay=o,this.map=null,this.shadow=new Fhe}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const vI=new Wi,Ly=new De,UT=new De;class Bhe extends d2{constructor(){super(new na(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new rn(4,2),this._viewportCount=6,this._viewports=[new Kr(2,1,1,1),new Kr(0,1,1,1),new Kr(3,1,1,1),new Kr(1,1,1,1),new Kr(3,0,1,1),new Kr(1,0,1,1)],this._cubeDirections=[new De(1,0,0),new De(-1,0,0),new De(0,0,1),new De(0,0,-1),new De(0,1,0),new De(0,-1,0)],this._cubeUps=[new De(0,1,0),new De(0,1,0),new De(0,1,0),new De(0,1,0),new De(0,0,1),new De(0,0,-1)]}updateMatrices(e,t=0){const i=this.camera,r=this.matrix,s=e.distance||i.far;s!==i.far&&(i.far=s,i.updateProjectionMatrix()),Ly.setFromMatrixPosition(e.matrixWorld),i.position.copy(Ly),UT.copy(i.position),UT.add(this._cubeDirections[t]),i.up.copy(this._cubeUps[t]),i.lookAt(UT),i.updateMatrixWorld(),r.makeTranslation(-Ly.x,-Ly.y,-Ly.z),vI.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),this._frustum.setFromProjectionMatrix(vI)}}class o5 extends jp{constructor(e,t,i=0,r=2){super(e,t),this.isPointLight=!0,this.type="PointLight",this.distance=i,this.decay=r,this.shadow=new Bhe}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}let bf=class extends WE{constructor(e=-1,t=1,i=1,r=-1,s=.1,o=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=i,this.bottom=r,this.near=s,this.far=o,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,t,i,r,s,o){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=i,this.view.offsetY=r,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),i=(this.right+this.left)/2,r=(this.top+this.bottom)/2;let s=i-e,o=i+e,l=r+t,a=r-t;if(this.view!==null&&this.view.enabled){const u=(this.right-this.left)/this.view.fullWidth/this.zoom,m=(this.top-this.bottom)/this.view.fullHeight/this.zoom;s+=u*this.view.offsetX,o=s+u*this.view.width,l-=m*this.view.offsetY,a=l-m*this.view.height}this.projectionMatrix.makeOrthographic(s,o,l,a,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,this.view!==null&&(t.object.view=Object.assign({},this.view)),t}};class Uhe extends d2{constructor(){super(new bf(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class a5 extends jp{constructor(e,t){super(e,t),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(Zr.DEFAULT_UP),this.updateMatrix(),this.target=new Zr,this.shadow=new Uhe}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class l5 extends jp{constructor(e,t){super(e,t),this.isAmbientLight=!0,this.type="AmbientLight"}}class c5 extends jp{constructor(e,t,i=10,r=10){super(e,t),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=i,this.height=r}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const t=super.toJSON(e);return t.object.width=this.width,t.object.height=this.height,t}}class u5{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new De)}set(e){for(let t=0;t<9;t++)this.coefficients[t].copy(e[t]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,t){const i=e.x,r=e.y,s=e.z,o=this.coefficients;return t.copy(o[0]).multiplyScalar(.282095),t.addScaledVector(o[1],.488603*r),t.addScaledVector(o[2],.488603*s),t.addScaledVector(o[3],.488603*i),t.addScaledVector(o[4],1.092548*(i*r)),t.addScaledVector(o[5],1.092548*(r*s)),t.addScaledVector(o[6],.315392*(3*s*s-1)),t.addScaledVector(o[7],1.092548*(i*s)),t.addScaledVector(o[8],.546274*(i*i-r*r)),t}getIrradianceAt(e,t){const i=e.x,r=e.y,s=e.z,o=this.coefficients;return t.copy(o[0]).multiplyScalar(.886227),t.addScaledVector(o[1],2*.511664*r),t.addScaledVector(o[2],2*.511664*s),t.addScaledVector(o[3],2*.511664*i),t.addScaledVector(o[4],2*.429043*i*r),t.addScaledVector(o[5],2*.429043*r*s),t.addScaledVector(o[6],.743125*s*s-.247708),t.addScaledVector(o[7],2*.429043*i*s),t.addScaledVector(o[8],.429043*(i*i-r*r)),t}add(e){for(let t=0;t<9;t++)this.coefficients[t].add(e.coefficients[t]);return this}addScaledSH(e,t){for(let i=0;i<9;i++)this.coefficients[i].addScaledVector(e.coefficients[i],t);return this}scale(e){for(let t=0;t<9;t++)this.coefficients[t].multiplyScalar(e);return this}lerp(e,t){for(let i=0;i<9;i++)this.coefficients[i].lerp(e.coefficients[i],t);return this}equals(e){for(let t=0;t<9;t++)if(!this.coefficients[t].equals(e.coefficients[t]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,t=0){const i=this.coefficients;for(let r=0;r<9;r++)i[r].fromArray(e,t+r*3);return this}toArray(e=[],t=0){const i=this.coefficients;for(let r=0;r<9;r++)i[r].toArray(e,t+r*3);return e}static getBasisAt(e,t){const i=e.x,r=e.y,s=e.z;t[0]=.282095,t[1]=.488603*r,t[2]=.488603*s,t[3]=.488603*i,t[4]=1.092548*i*r,t[5]=1.092548*r*s,t[6]=.315392*(3*s*s-1),t[7]=1.092548*i*s,t[8]=.546274*(i*i-r*r)}}class h5 extends jp{constructor(e=new u5,t=1){super(void 0,t),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const t=super.toJSON(e);return t.object.sh=this.sh.toArray(),t}}class fw extends mc{constructor(e){super(e),this.textures={}}load(e,t,i,r){const s=this,o=new iu(s.manager);o.setPath(s.path),o.setRequestHeader(s.requestHeader),o.setWithCredentials(s.withCredentials),o.load(e,function(l){try{t(s.parse(JSON.parse(l)))}catch(a){r?r(a):console.error(a),s.manager.itemError(e)}},i,r)}parse(e){const t=this.textures;function i(s){return t[s]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",s),t[s]}const r=this.createMaterialFromType(e.type);if(e.uuid!==void 0&&(r.uuid=e.uuid),e.name!==void 0&&(r.name=e.name),e.color!==void 0&&r.color!==void 0&&r.color.setHex(e.color),e.roughness!==void 0&&(r.roughness=e.roughness),e.metalness!==void 0&&(r.metalness=e.metalness),e.sheen!==void 0&&(r.sheen=e.sheen),e.sheenColor!==void 0&&(r.sheenColor=new jn().setHex(e.sheenColor)),e.sheenRoughness!==void 0&&(r.sheenRoughness=e.sheenRoughness),e.emissive!==void 0&&r.emissive!==void 0&&r.emissive.setHex(e.emissive),e.specular!==void 0&&r.specular!==void 0&&r.specular.setHex(e.specular),e.specularIntensity!==void 0&&(r.specularIntensity=e.specularIntensity),e.specularColor!==void 0&&r.specularColor!==void 0&&r.specularColor.setHex(e.specularColor),e.shininess!==void 0&&(r.shininess=e.shininess),e.clearcoat!==void 0&&(r.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=e.clearcoatRoughness),e.dispersion!==void 0&&(r.dispersion=e.dispersion),e.iridescence!==void 0&&(r.iridescence=e.iridescence),e.iridescenceIOR!==void 0&&(r.iridescenceIOR=e.iridescenceIOR),e.iridescenceThicknessRange!==void 0&&(r.iridescenceThicknessRange=e.iridescenceThicknessRange),e.transmission!==void 0&&(r.transmission=e.transmission),e.thickness!==void 0&&(r.thickness=e.thickness),e.attenuationDistance!==void 0&&(r.attenuationDistance=e.attenuationDistance),e.attenuationColor!==void 0&&r.attenuationColor!==void 0&&r.attenuationColor.setHex(e.attenuationColor),e.anisotropy!==void 0&&(r.anisotropy=e.anisotropy),e.anisotropyRotation!==void 0&&(r.anisotropyRotation=e.anisotropyRotation),e.fog!==void 0&&(r.fog=e.fog),e.flatShading!==void 0&&(r.flatShading=e.flatShading),e.blending!==void 0&&(r.blending=e.blending),e.combine!==void 0&&(r.combine=e.combine),e.side!==void 0&&(r.side=e.side),e.shadowSide!==void 0&&(r.shadowSide=e.shadowSide),e.opacity!==void 0&&(r.opacity=e.opacity),e.transparent!==void 0&&(r.transparent=e.transparent),e.alphaTest!==void 0&&(r.alphaTest=e.alphaTest),e.alphaHash!==void 0&&(r.alphaHash=e.alphaHash),e.depthFunc!==void 0&&(r.depthFunc=e.depthFunc),e.depthTest!==void 0&&(r.depthTest=e.depthTest),e.depthWrite!==void 0&&(r.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(r.colorWrite=e.colorWrite),e.blendSrc!==void 0&&(r.blendSrc=e.blendSrc),e.blendDst!==void 0&&(r.blendDst=e.blendDst),e.blendEquation!==void 0&&(r.blendEquation=e.blendEquation),e.blendSrcAlpha!==void 0&&(r.blendSrcAlpha=e.blendSrcAlpha),e.blendDstAlpha!==void 0&&(r.blendDstAlpha=e.blendDstAlpha),e.blendEquationAlpha!==void 0&&(r.blendEquationAlpha=e.blendEquationAlpha),e.blendColor!==void 0&&r.blendColor!==void 0&&r.blendColor.setHex(e.blendColor),e.blendAlpha!==void 0&&(r.blendAlpha=e.blendAlpha),e.stencilWriteMask!==void 0&&(r.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(r.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(r.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(r.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(r.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(r.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(r.stencilZPass=e.stencilZPass),e.stencilWrite!==void 0&&(r.stencilWrite=e.stencilWrite),e.wireframe!==void 0&&(r.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(r.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(r.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(r.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(r.rotation=e.rotation),e.linewidth!==void 0&&(r.linewidth=e.linewidth),e.dashSize!==void 0&&(r.dashSize=e.dashSize),e.gapSize!==void 0&&(r.gapSize=e.gapSize),e.scale!==void 0&&(r.scale=e.scale),e.polygonOffset!==void 0&&(r.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(r.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(r.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(r.dithering=e.dithering),e.alphaToCoverage!==void 0&&(r.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(r.premultipliedAlpha=e.premultipliedAlpha),e.forceSinglePass!==void 0&&(r.forceSinglePass=e.forceSinglePass),e.visible!==void 0&&(r.visible=e.visible),e.toneMapped!==void 0&&(r.toneMapped=e.toneMapped),e.userData!==void 0&&(r.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?r.vertexColors=e.vertexColors>0:r.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const s in e.uniforms){const o=e.uniforms[s];switch(r.uniforms[s]={},o.type){case"t":r.uniforms[s].value=i(o.value);break;case"c":r.uniforms[s].value=new jn().setHex(o.value);break;case"v2":r.uniforms[s].value=new rn().fromArray(o.value);break;case"v3":r.uniforms[s].value=new De().fromArray(o.value);break;case"v4":r.uniforms[s].value=new Kr().fromArray(o.value);break;case"m3":r.uniforms[s].value=new ar().fromArray(o.value);break;case"m4":r.uniforms[s].value=new Wi().fromArray(o.value);break;default:r.uniforms[s].value=o.value}}if(e.defines!==void 0&&(r.defines=e.defines),e.vertexShader!==void 0&&(r.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(r.fragmentShader=e.fragmentShader),e.glslVersion!==void 0&&(r.glslVersion=e.glslVersion),e.extensions!==void 0)for(const s in e.extensions)r.extensions[s]=e.extensions[s];if(e.lights!==void 0&&(r.lights=e.lights),e.clipping!==void 0&&(r.clipping=e.clipping),e.size!==void 0&&(r.size=e.size),e.sizeAttenuation!==void 0&&(r.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(r.map=i(e.map)),e.matcap!==void 0&&(r.matcap=i(e.matcap)),e.alphaMap!==void 0&&(r.alphaMap=i(e.alphaMap)),e.bumpMap!==void 0&&(r.bumpMap=i(e.bumpMap)),e.bumpScale!==void 0&&(r.bumpScale=e.bumpScale),e.normalMap!==void 0&&(r.normalMap=i(e.normalMap)),e.normalMapType!==void 0&&(r.normalMapType=e.normalMapType),e.normalScale!==void 0){let s=e.normalScale;Array.isArray(s)===!1&&(s=[s,s]),r.normalScale=new rn().fromArray(s)}return e.displacementMap!==void 0&&(r.displacementMap=i(e.displacementMap)),e.displacementScale!==void 0&&(r.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(r.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(r.roughnessMap=i(e.roughnessMap)),e.metalnessMap!==void 0&&(r.metalnessMap=i(e.metalnessMap)),e.emissiveMap!==void 0&&(r.emissiveMap=i(e.emissiveMap)),e.emissiveIntensity!==void 0&&(r.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(r.specularMap=i(e.specularMap)),e.specularIntensityMap!==void 0&&(r.specularIntensityMap=i(e.specularIntensityMap)),e.specularColorMap!==void 0&&(r.specularColorMap=i(e.specularColorMap)),e.envMap!==void 0&&(r.envMap=i(e.envMap)),e.envMapRotation!==void 0&&r.envMapRotation.fromArray(e.envMapRotation),e.envMapIntensity!==void 0&&(r.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(r.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(r.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(r.lightMap=i(e.lightMap)),e.lightMapIntensity!==void 0&&(r.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(r.aoMap=i(e.aoMap)),e.aoMapIntensity!==void 0&&(r.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(r.gradientMap=i(e.gradientMap)),e.clearcoatMap!==void 0&&(r.clearcoatMap=i(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(r.clearcoatRoughnessMap=i(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(r.clearcoatNormalMap=i(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(r.clearcoatNormalScale=new rn().fromArray(e.clearcoatNormalScale)),e.iridescenceMap!==void 0&&(r.iridescenceMap=i(e.iridescenceMap)),e.iridescenceThicknessMap!==void 0&&(r.iridescenceThicknessMap=i(e.iridescenceThicknessMap)),e.transmissionMap!==void 0&&(r.transmissionMap=i(e.transmissionMap)),e.thicknessMap!==void 0&&(r.thicknessMap=i(e.thicknessMap)),e.anisotropyMap!==void 0&&(r.anisotropyMap=i(e.anisotropyMap)),e.sheenColorMap!==void 0&&(r.sheenColorMap=i(e.sheenColorMap)),e.sheenRoughnessMap!==void 0&&(r.sheenRoughnessMap=i(e.sheenRoughnessMap)),r}setTextures(e){return this.textures=e,this}createMaterialFromType(e){return fw.createMaterialFromType(e)}static createMaterialFromType(e){const t={ShadowMaterial:Hk,SpriteMaterial:KM,RawShaderMaterial:Gk,ShaderMaterial:Dc,PointsMaterial:QM,MeshPhysicalMaterial:Vk,MeshStandardMaterial:s2,MeshPhongMaterial:Wk,MeshToonMaterial:jk,MeshNormalMaterial:Xk,MeshLambertMaterial:qk,MeshDepthMaterial:o2,MeshDistanceMaterial:a2,MeshBasicMaterial:Lf,MeshMatcapMaterial:Yk,LineDashedMaterial:Kk,LineBasicMaterial:pc,Material:Fl};return new t[e]}}class OR{static extractUrlBase(e){const t=e.lastIndexOf("/");return t===-1?"./":e.slice(0,t+1)}static resolveURL(e,t){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(t)&&/^\//.test(e)&&(t=t.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:t+e)}}class d5 extends hr{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){const e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class f5 extends mc{constructor(e){super(e)}load(e,t,i,r){const s=this,o=new iu(s.manager);o.setPath(s.path),o.setRequestHeader(s.requestHeader),o.setWithCredentials(s.withCredentials),o.load(e,function(l){try{t(s.parse(JSON.parse(l)))}catch(a){r?r(a):console.error(a),s.manager.itemError(e)}},i,r)}parse(e){const t={},i={};function r(g,_){if(t[_]!==void 0)return t[_];const v=g.interleavedBuffers[_],c=s(g,v.buffer),x=Vv(v.type,c),w=new qE(x,v.stride);return w.uuid=v.uuid,t[_]=w,w}function s(g,_){if(i[_]!==void 0)return i[_];const v=g.arrayBuffers[_],c=new Uint32Array(v).buffer;return i[_]=c,c}const o=e.isInstancedBufferGeometry?new d5:new hr,l=e.data.index;if(l!==void 0){const g=Vv(l.type,l.array);o.setIndex(new Is(g,1))}const a=e.data.attributes;for(const g in a){const _=a[g];let p;if(_.isInterleavedBufferAttribute){const v=r(e.data,_.data);p=new _g(v,_.itemSize,_.offset,_.normalized)}else{const v=Vv(_.type,_.array),c=_.isInstancedBufferAttribute?y0:Is;p=new c(v,_.itemSize,_.normalized)}_.name!==void 0&&(p.name=_.name),_.usage!==void 0&&p.setUsage(_.usage),o.setAttribute(g,p)}const u=e.data.morphAttributes;if(u)for(const g in u){const _=u[g],p=[];for(let v=0,c=_.length;v<c;v++){const x=_[v];let w;if(x.isInterleavedBufferAttribute){const T=r(e.data,x.data);w=new _g(T,x.itemSize,x.offset,x.normalized)}else{const T=Vv(x.type,x.array);w=new Is(T,x.itemSize,x.normalized)}x.name!==void 0&&(w.name=x.name),p.push(w)}o.morphAttributes[g]=p}e.data.morphTargetsRelative&&(o.morphTargetsRelative=!0);const d=e.data.groups||e.data.drawcalls||e.data.offsets;if(d!==void 0)for(let g=0,_=d.length;g!==_;++g){const p=d[g];o.addGroup(p.start,p.count,p.materialIndex)}const b=e.data.boundingSphere;return b!==void 0&&(o.boundingSphere=new gl().fromJSON(b)),e.name&&(o.name=e.name),e.userData&&(o.userData=e.userData),o}}class khe extends mc{constructor(e){super(e)}load(e,t,i,r){const s=this,o=this.path===""?OR.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||o;const l=new iu(this.manager);l.setPath(this.path),l.setRequestHeader(this.requestHeader),l.setWithCredentials(this.withCredentials),l.load(e,function(a){let u=null;try{u=JSON.parse(a)}catch(d){r!==void 0&&r(d),console.error("THREE:ObjectLoader: Can't parse "+e+".",d.message);return}const m=u.metadata;if(m===void 0||m.type===void 0||m.type.toLowerCase()==="geometry"){r!==void 0&&r(new Error("THREE.ObjectLoader: Can't load "+e)),console.error("THREE.ObjectLoader: Can't load "+e);return}s.parse(u,t)},i,r)}async loadAsync(e,t){const i=this,r=this.path===""?OR.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||r;const s=new iu(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials);const o=await s.loadAsync(e,t),l=JSON.parse(o),a=l.metadata;if(a===void 0||a.type===void 0||a.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return await i.parseAsync(l)}parse(e,t){const i=this.parseAnimations(e.animations),r=this.parseShapes(e.shapes),s=this.parseGeometries(e.geometries,r),o=this.parseImages(e.images,function(){t!==void 0&&t(u)}),l=this.parseTextures(e.textures,o),a=this.parseMaterials(e.materials,l),u=this.parseObject(e.object,s,a,l,i),m=this.parseSkeletons(e.skeletons,u);if(this.bindSkeletons(u,m),this.bindLightTargets(u),t!==void 0){let d=!1;for(const b in o)if(o[b].data instanceof HTMLImageElement){d=!0;break}d===!1&&t(u)}return u}async parseAsync(e){const t=this.parseAnimations(e.animations),i=this.parseShapes(e.shapes),r=this.parseGeometries(e.geometries,i),s=await this.parseImagesAsync(e.images),o=this.parseTextures(e.textures,s),l=this.parseMaterials(e.materials,o),a=this.parseObject(e.object,r,l,o,t),u=this.parseSkeletons(e.skeletons,a);return this.bindSkeletons(a,u),this.bindLightTargets(a),a}parseShapes(e){const t={};if(e!==void 0)for(let i=0,r=e.length;i<r;i++){const s=new fg().fromJSON(e[i]);t[s.uuid]=s}return t}parseSkeletons(e,t){const i={},r={};if(t.traverse(function(s){s.isBone&&(r[s.uuid]=s)}),e!==void 0)for(let s=0,o=e.length;s<o;s++){const l=new YE().fromJSON(e[s],r);i[l.uuid]=l}return i}parseGeometries(e,t){const i={};if(e!==void 0){const r=new f5;for(let s=0,o=e.length;s<o;s++){let l;const a=e[s];switch(a.type){case"BufferGeometry":case"InstancedBufferGeometry":l=r.parse(a);break;default:a.type in pI?l=pI[a.type].fromJSON(a,t):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${a.type}"`)}l.uuid=a.uuid,a.name!==void 0&&(l.name=a.name),a.userData!==void 0&&(l.userData=a.userData),i[a.uuid]=l}}return i}parseMaterials(e,t){const i={},r={};if(e!==void 0){const s=new fw;s.setTextures(t);for(let o=0,l=e.length;o<l;o++){const a=e[o];i[a.uuid]===void 0&&(i[a.uuid]=s.parse(a)),r[a.uuid]=i[a.uuid]}}return r}parseAnimations(e){const t={};if(e!==void 0)for(let i=0;i<e.length;i++){const r=e[i],s=P_.parse(r);t[s.uuid]=s}return t}parseImages(e,t){const i=this,r={};let s;function o(a){return i.manager.itemStart(a),s.load(a,function(){i.manager.itemEnd(a)},void 0,function(){i.manager.itemError(a),i.manager.itemEnd(a)})}function l(a){if(typeof a=="string"){const u=a,m=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(u)?u:i.resourcePath+u;return o(m)}else return a.data?{data:Vv(a.type,a.data),width:a.width,height:a.height}:null}if(e!==void 0&&e.length>0){const a=new hw(t);s=new N_(a),s.setCrossOrigin(this.crossOrigin);for(let u=0,m=e.length;u<m;u++){const d=e[u],b=d.url;if(Array.isArray(b)){const g=[];for(let _=0,p=b.length;_<p;_++){const v=b[_],c=l(v);c!==null&&(c instanceof HTMLImageElement?g.push(c):g.push(new bh(c.data,c.width,c.height)))}r[d.uuid]=new Np(g)}else{const g=l(d.url);r[d.uuid]=new Np(g)}}}return r}async parseImagesAsync(e){const t=this,i={};let r;async function s(o){if(typeof o=="string"){const l=o,a=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(l)?l:t.resourcePath+l;return await r.loadAsync(a)}else return o.data?{data:Vv(o.type,o.data),width:o.width,height:o.height}:null}if(e!==void 0&&e.length>0){r=new N_(this.manager),r.setCrossOrigin(this.crossOrigin);for(let o=0,l=e.length;o<l;o++){const a=e[o],u=a.url;if(Array.isArray(u)){const m=[];for(let d=0,b=u.length;d<b;d++){const g=u[d],_=await s(g);_!==null&&(_ instanceof HTMLImageElement?m.push(_):m.push(new bh(_.data,_.width,_.height)))}i[a.uuid]=new Np(m)}else{const m=await s(a.url);i[a.uuid]=new Np(m)}}}return i}parseTextures(e,t){function i(s,o){return typeof s=="number"?s:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",s),o[s])}const r={};if(e!==void 0)for(let s=0,o=e.length;s<o;s++){const l=e[s];l.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',l.uuid),t[l.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",l.image);const a=t[l.image],u=a.data;let m;Array.isArray(u)?(m=new nb,u.length===6&&(m.needsUpdate=!0)):(u&&u.data?m=new bh:m=new ps,u&&(m.needsUpdate=!0)),m.source=a,m.uuid=l.uuid,l.name!==void 0&&(m.name=l.name),l.mapping!==void 0&&(m.mapping=i(l.mapping,zhe)),l.channel!==void 0&&(m.channel=l.channel),l.offset!==void 0&&m.offset.fromArray(l.offset),l.repeat!==void 0&&m.repeat.fromArray(l.repeat),l.center!==void 0&&m.center.fromArray(l.center),l.rotation!==void 0&&(m.rotation=l.rotation),l.wrap!==void 0&&(m.wrapS=i(l.wrap[0],yI),m.wrapT=i(l.wrap[1],yI)),l.format!==void 0&&(m.format=l.format),l.internalFormat!==void 0&&(m.internalFormat=l.internalFormat),l.type!==void 0&&(m.type=l.type),l.colorSpace!==void 0&&(m.colorSpace=l.colorSpace),l.minFilter!==void 0&&(m.minFilter=i(l.minFilter,_I)),l.magFilter!==void 0&&(m.magFilter=i(l.magFilter,_I)),l.anisotropy!==void 0&&(m.anisotropy=l.anisotropy),l.flipY!==void 0&&(m.flipY=l.flipY),l.generateMipmaps!==void 0&&(m.generateMipmaps=l.generateMipmaps),l.premultiplyAlpha!==void 0&&(m.premultiplyAlpha=l.premultiplyAlpha),l.unpackAlignment!==void 0&&(m.unpackAlignment=l.unpackAlignment),l.compareFunction!==void 0&&(m.compareFunction=l.compareFunction),l.userData!==void 0&&(m.userData=l.userData),r[l.uuid]=m}return r}parseObject(e,t,i,r,s){let o;function l(b){return t[b]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",b),t[b]}function a(b){if(b!==void 0){if(Array.isArray(b)){const g=[];for(let _=0,p=b.length;_<p;_++){const v=b[_];i[v]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",v),g.push(i[v])}return g}return i[b]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",b),i[b]}}function u(b){return r[b]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",b),r[b]}let m,d;switch(e.type){case"Scene":o=new ib,e.background!==void 0&&(Number.isInteger(e.background)?o.background=new jn(e.background):o.background=u(e.background)),e.environment!==void 0&&(o.environment=u(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?o.fog=new XE(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(o.fog=new jE(e.fog.color,e.fog.density)),e.fog.name!==""&&(o.fog.name=e.fog.name)),e.backgroundBlurriness!==void 0&&(o.backgroundBlurriness=e.backgroundBlurriness),e.backgroundIntensity!==void 0&&(o.backgroundIntensity=e.backgroundIntensity),e.backgroundRotation!==void 0&&o.backgroundRotation.fromArray(e.backgroundRotation),e.environmentIntensity!==void 0&&(o.environmentIntensity=e.environmentIntensity),e.environmentRotation!==void 0&&o.environmentRotation.fromArray(e.environmentRotation);break;case"PerspectiveCamera":o=new na(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(o.focus=e.focus),e.zoom!==void 0&&(o.zoom=e.zoom),e.filmGauge!==void 0&&(o.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(o.filmOffset=e.filmOffset),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"OrthographicCamera":o=new bf(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(o.zoom=e.zoom),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"AmbientLight":o=new l5(e.color,e.intensity);break;case"DirectionalLight":o=new a5(e.color,e.intensity),o.target=e.target||"";break;case"PointLight":o=new o5(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":o=new c5(e.color,e.intensity,e.width,e.height);break;case"SpotLight":o=new s5(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay),o.target=e.target||"";break;case"HemisphereLight":o=new r5(e.color,e.groundColor,e.intensity);break;case"LightProbe":o=new h5().fromJSON(e);break;case"SkinnedMesh":m=l(e.geometry),d=a(e.material),o=new Ck(m,d),e.bindMode!==void 0&&(o.bindMode=e.bindMode),e.bindMatrix!==void 0&&o.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(o.skeleton=e.skeleton);break;case"Mesh":m=l(e.geometry),d=a(e.material),o=new Oo(m,d);break;case"InstancedMesh":m=l(e.geometry),d=a(e.material);const b=e.count,g=e.instanceMatrix,_=e.instanceColor;o=new Tk(m,d,b),o.instanceMatrix=new y0(new Float32Array(g.array),16),_!==void 0&&(o.instanceColor=new y0(new Float32Array(_.array),_.itemSize));break;case"BatchedMesh":m=l(e.geometry),d=a(e.material),o=new Ak(e.maxInstanceCount,e.maxVertexCount,e.maxIndexCount,d),o.geometry=m,o.perObjectFrustumCulled=e.perObjectFrustumCulled,o.sortObjects=e.sortObjects,o._drawRanges=e.drawRanges,o._reservedRanges=e.reservedRanges,o._geometryInfo=e.geometryInfo.map(p=>{let v=null,c=null;return p.boundingBox!==void 0&&(v=new Nl().fromJSON(p.boundingBox)),p.boundingSphere!==void 0&&(c=new gl().fromJSON(p.boundingSphere)),{...p,boundingBox:v,boundingSphere:c}}),o._instanceInfo=e.instanceInfo,o._availableInstanceIds=e._availableInstanceIds,o._availableGeometryIds=e._availableGeometryIds,o._nextIndexStart=e.nextIndexStart,o._nextVertexStart=e.nextVertexStart,o._geometryCount=e.geometryCount,o._maxInstanceCount=e.maxInstanceCount,o._maxVertexCount=e.maxVertexCount,o._maxIndexCount=e.maxIndexCount,o._geometryInitialized=e.geometryInitialized,o._matricesTexture=u(e.matricesTexture.uuid),o._indirectTexture=u(e.indirectTexture.uuid),e.colorsTexture!==void 0&&(o._colorsTexture=u(e.colorsTexture.uuid)),e.boundingSphere!==void 0&&(o.boundingSphere=new gl().fromJSON(e.boundingSphere)),e.boundingBox!==void 0&&(o.boundingBox=new Nl().fromJSON(e.boundingBox));break;case"LOD":o=new wk;break;case"Line":o=new Hp(l(e.geometry),a(e.material));break;case"LineLoop":o=new Rk(l(e.geometry),a(e.material));break;case"LineSegments":o=new yd(l(e.geometry),a(e.material));break;case"PointCloud":case"Points":o=new Mk(l(e.geometry),a(e.material));break;case"Sprite":o=new Ek(a(e.material));break;case"Group":o=new Wv;break;case"Bone":o=new ZM;break;default:o=new Zr}if(o.uuid=e.uuid,e.name!==void 0&&(o.name=e.name),e.matrix!==void 0?(o.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(o.matrixAutoUpdate=e.matrixAutoUpdate),o.matrixAutoUpdate&&o.matrix.decompose(o.position,o.quaternion,o.scale)):(e.position!==void 0&&o.position.fromArray(e.position),e.rotation!==void 0&&o.rotation.fromArray(e.rotation),e.quaternion!==void 0&&o.quaternion.fromArray(e.quaternion),e.scale!==void 0&&o.scale.fromArray(e.scale)),e.up!==void 0&&o.up.fromArray(e.up),e.castShadow!==void 0&&(o.castShadow=e.castShadow),e.receiveShadow!==void 0&&(o.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.intensity!==void 0&&(o.shadow.intensity=e.shadow.intensity),e.shadow.bias!==void 0&&(o.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(o.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(o.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&o.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(o.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(o.visible=e.visible),e.frustumCulled!==void 0&&(o.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(o.renderOrder=e.renderOrder),e.userData!==void 0&&(o.userData=e.userData),e.layers!==void 0&&(o.layers.mask=e.layers),e.children!==void 0){const b=e.children;for(let g=0;g<b.length;g++)o.add(this.parseObject(b[g],t,i,r,s))}if(e.animations!==void 0){const b=e.animations;for(let g=0;g<b.length;g++){const _=b[g];o.animations.push(s[_])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(o.autoUpdate=e.autoUpdate);const b=e.levels;for(let g=0;g<b.length;g++){const _=b[g],p=o.getObjectByProperty("uuid",_.object);p!==void 0&&o.addLevel(p,_.distance,_.hysteresis)}}return o}bindSkeletons(e,t){Object.keys(t).length!==0&&e.traverse(function(i){if(i.isSkinnedMesh===!0&&i.skeleton!==void 0){const r=t[i.skeleton];r===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",i.skeleton):i.bind(r,i.bindMatrix)}})}bindLightTargets(e){e.traverse(function(t){if(t.isDirectionalLight||t.isSpotLight){const i=t.target,r=e.getObjectByProperty("uuid",i);r!==void 0?t.target=r:t.target=new Zr}})}}const zhe={UVMapping:zp,CubeReflectionMapping:pd,CubeRefractionMapping:$p,EquirectangularReflectionMapping:u0,EquirectangularRefractionMapping:y_,CubeUVReflectionMapping:L0},yI={RepeatWrapping:__,ClampToEdgeWrapping:Ea,MirroredRepeatWrapping:b_},_I={NearestFilter:ml,NearestMipmapNearestFilter:BM,NearestMipmapLinearFilter:Gv,LinearFilter:os,LinearMipmapNearestFilter:Ky,LinearMipmapLinearFilter:rd},kT=new WeakMap;class $he extends mc{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,t,i,r){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=sd.get(`image-bitmap:${e}`);if(o!==void 0){if(s.manager.itemStart(e),o.then){o.then(u=>{if(kT.has(o)===!0)r&&r(kT.get(o)),s.manager.itemError(e),s.manager.itemEnd(e);else return t&&t(u),s.manager.itemEnd(e),u});return}return setTimeout(function(){t&&t(o),s.manager.itemEnd(e)},0),o}const l={};l.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",l.headers=this.requestHeader;const a=fetch(e,l).then(function(u){return u.blob()}).then(function(u){return createImageBitmap(u,Object.assign(s.options,{colorSpaceConversion:"none"}))}).then(function(u){return sd.add(`image-bitmap:${e}`,u),t&&t(u),s.manager.itemEnd(e),u}).catch(function(u){r&&r(u),kT.set(a,u),sd.remove(`image-bitmap:${e}`),s.manager.itemError(e),s.manager.itemEnd(e)});sd.add(`image-bitmap:${e}`,a),s.manager.itemStart(e)}}let c1,f2=class{static getContext(){return c1===void 0&&(c1=new(window.AudioContext||window.webkitAudioContext)),c1}static setContext(e){c1=e}};class Hhe extends mc{constructor(e){super(e)}load(e,t,i,r){const s=this,o=new iu(this.manager);o.setResponseType("arraybuffer"),o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(a){try{const u=a.slice(0);f2.getContext().decodeAudioData(u,function(d){t(d)}).catch(l)}catch(u){l(u)}},i,r);function l(a){r?r(a):console.error(a),s.manager.itemError(e)}}}const bI=new Wi,xI=new Wi,Nm=new Wi;class Ghe{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new na,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new na,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const t=this._cache;if(t.focus!==e.focus||t.fov!==e.fov||t.aspect!==e.aspect*this.aspect||t.near!==e.near||t.far!==e.far||t.zoom!==e.zoom||t.eyeSep!==this.eyeSep){t.focus=e.focus,t.fov=e.fov,t.aspect=e.aspect*this.aspect,t.near=e.near,t.far=e.far,t.zoom=e.zoom,t.eyeSep=this.eyeSep,Nm.copy(e.projectionMatrix);const r=t.eyeSep/2,s=r*t.near/t.focus,o=t.near*Math.tan(dg*t.fov*.5)/t.zoom;let l,a;xI.elements[12]=-r,bI.elements[12]=r,l=-o*t.aspect+s,a=o*t.aspect+s,Nm.elements[0]=2*t.near/(a-l),Nm.elements[8]=(a+l)/(a-l),this.cameraL.projectionMatrix.copy(Nm),l=-o*t.aspect-s,a=o*t.aspect-s,Nm.elements[0]=2*t.near/(a-l),Nm.elements[8]=(a+l)/(a-l),this.cameraR.projectionMatrix.copy(Nm)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(xI),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(bI)}}class p5 extends na{constructor(e=[]){super(),this.isArrayCamera=!0,this.isMultiViewCamera=!1,this.cameras=e}}class p2{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=performance.now(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const t=performance.now();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}}const Im=new De,zT=new Pl,Vhe=new De,Dm=new De,Fm=new De;class Whe extends Zr{constructor(){super(),this.type="AudioListener",this.context=f2.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new p2}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const t=this.context.listener;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(Im,zT,Vhe),Dm.set(0,0,-1).applyQuaternion(zT),Fm.set(0,1,0).applyQuaternion(zT),t.positionX){const i=this.context.currentTime+this.timeDelta;t.positionX.linearRampToValueAtTime(Im.x,i),t.positionY.linearRampToValueAtTime(Im.y,i),t.positionZ.linearRampToValueAtTime(Im.z,i),t.forwardX.linearRampToValueAtTime(Dm.x,i),t.forwardY.linearRampToValueAtTime(Dm.y,i),t.forwardZ.linearRampToValueAtTime(Dm.z,i),t.upX.linearRampToValueAtTime(Fm.x,i),t.upY.linearRampToValueAtTime(Fm.y,i),t.upZ.linearRampToValueAtTime(Fm.z,i)}else t.setPosition(Im.x,Im.y,Im.z),t.setOrientation(Dm.x,Dm.y,Dm.z,Fm.x,Fm.y,Fm.z)}}class m5 extends Zr{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.loopStart=this.loopStart,t.loopEnd=this.loopEnd,t.onended=this.onEnded.bind(this),t.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=t,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(e=0){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source!==null&&(this.source.stop(this.context.currentTime+e),this.source.onended=null),this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this._connected!==!1){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){return this.detune=e,this.isPlaying===!0&&this.source.detune!==void 0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1,this._progress=0}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}copy(e,t){return super.copy(e,t),e.sourceType!=="buffer"?(console.warn("THREE.Audio: Audio source type cannot be copied."),this):(this.autoplay=e.autoplay,this.buffer=e.buffer,this.detune=e.detune,this.loop=e.loop,this.loopStart=e.loopStart,this.loopEnd=e.loopEnd,this.offset=e.offset,this.duration=e.duration,this.playbackRate=e.playbackRate,this.hasPlaybackControl=e.hasPlaybackControl,this.sourceType=e.sourceType,this.filters=e.filters.slice(),this)}clone(e){return new this.constructor(this.listener).copy(this,e)}}const Bm=new De,SI=new Pl,jhe=new De,Um=new De;class Xhe extends m5{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}connect(){return super.connect(),this.panner.connect(this.gain),this}disconnect(){return super.disconnect(),this.panner.disconnect(this.gain),this}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,t,i){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=t,this.panner.coneOuterGain=i,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(Bm,SI,jhe),Um.set(0,0,1).applyQuaternion(SI);const t=this.panner;if(t.positionX){const i=this.context.currentTime+this.listener.timeDelta;t.positionX.linearRampToValueAtTime(Bm.x,i),t.positionY.linearRampToValueAtTime(Bm.y,i),t.positionZ.linearRampToValueAtTime(Bm.z,i),t.orientationX.linearRampToValueAtTime(Um.x,i),t.orientationY.linearRampToValueAtTime(Um.y,i),t.orientationZ.linearRampToValueAtTime(Um.z,i)}else t.setPosition(Bm.x,Bm.y,Bm.z),t.setOrientation(Um.x,Um.y,Um.z)}}class qhe{constructor(e,t=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=t,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const t=this.getFrequencyData();for(let i=0;i<t.length;i++)e+=t[i];return e/t.length}}class g5{constructor(e,t,i){this.binding=e,this.valueSize=i;let r,s,o;switch(t){case"quaternion":r=this._slerp,s=this._slerpAdditive,o=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(i*6),this._workIndex=5;break;case"string":case"bool":r=this._select,s=this._select,o=this._setAdditiveIdentityOther,this.buffer=new Array(i*5);break;default:r=this._lerp,s=this._lerpAdditive,o=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(i*5)}this._mixBufferRegion=r,this._mixBufferRegionAdditive=s,this._setIdentity=o,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,t){const i=this.buffer,r=this.valueSize,s=e*r+r;let o=this.cumulativeWeight;if(o===0){for(let l=0;l!==r;++l)i[s+l]=i[l];o=t}else{o+=t;const l=t/o;this._mixBufferRegion(i,s,0,l,r)}this.cumulativeWeight=o}accumulateAdditive(e){const t=this.buffer,i=this.valueSize,r=i*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(t,r,0,e,i),this.cumulativeWeightAdditive+=e}apply(e){const t=this.valueSize,i=this.buffer,r=e*t+t,s=this.cumulativeWeight,o=this.cumulativeWeightAdditive,l=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,s<1){const a=t*this._origIndex;this._mixBufferRegion(i,r,a,1-s,t)}o>0&&this._mixBufferRegionAdditive(i,r,this._addIndex*t,1,t);for(let a=t,u=t+t;a!==u;++a)if(i[a]!==i[a+t]){l.setValue(i,r);break}}saveOriginalState(){const e=this.binding,t=this.buffer,i=this.valueSize,r=i*this._origIndex;e.getValue(t,r);for(let s=i,o=r;s!==o;++s)t[s]=t[r+s%i];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,t=e+this.valueSize;for(let i=e;i<t;i++)this.buffer[i]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,t=this._addIndex*this.valueSize;for(let i=0;i<this.valueSize;i++)this.buffer[t+i]=this.buffer[e+i]}_select(e,t,i,r,s){if(r>=.5)for(let o=0;o!==s;++o)e[t+o]=e[i+o]}_slerp(e,t,i,r){Pl.slerpFlat(e,t,e,t,e,i,r)}_slerpAdditive(e,t,i,r,s){const o=this._workIndex*s;Pl.multiplyQuaternionsFlat(e,o,e,t,e,i),Pl.slerpFlat(e,t,e,t,e,o,r)}_lerp(e,t,i,r,s){const o=1-r;for(let l=0;l!==s;++l){const a=t+l;e[a]=e[a]*o+e[i+l]*r}}_lerpAdditive(e,t,i,r,s){for(let o=0;o!==s;++o){const l=t+o;e[l]=e[l]+e[i+o]*r}}}const m2="\\[\\]\\.:\\/",Yhe=new RegExp("["+m2+"]","g"),g2="[^"+m2+"]",Khe="[^"+m2.replace("\\.","")+"]",Zhe=/((?:WC+[\/:])*)/.source.replace("WC",g2),Qhe=/(WCOD+)?/.source.replace("WCOD",Khe),Jhe=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",g2),ede=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",g2),tde=new RegExp("^"+Zhe+Qhe+Jhe+ede+"$"),nde=["material","materials","bones","map"];class ide{constructor(e,t,i){const r=i||Yr.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,r)}getValue(e,t){this.bind();const i=this._targetGroup.nCachedObjects_,r=this._bindings[i];r!==void 0&&r.getValue(e,t)}setValue(e,t){const i=this._bindings;for(let r=this._targetGroup.nCachedObjects_,s=i.length;r!==s;++r)i[r].setValue(e,t)}bind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,i=e.length;t!==i;++t)e[t].bind()}unbind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,i=e.length;t!==i;++t)e[t].unbind()}}class Yr{constructor(e,t,i){this.path=t,this.parsedPath=i||Yr.parseTrackName(t),this.node=Yr.findNode(e,this.parsedPath.nodeName),this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,t,i){return e&&e.isAnimationObjectGroup?new Yr.Composite(e,t,i):new Yr(e,t,i)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(Yhe,"")}static parseTrackName(e){const t=tde.exec(e);if(t===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const i={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},r=i.nodeName&&i.nodeName.lastIndexOf(".");if(r!==void 0&&r!==-1){const s=i.nodeName.substring(r+1);nde.indexOf(s)!==-1&&(i.nodeName=i.nodeName.substring(0,r),i.objectName=s)}if(i.propertyName===null||i.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return i}static findNode(e,t){if(t===void 0||t===""||t==="."||t===-1||t===e.name||t===e.uuid)return e;if(e.skeleton){const i=e.skeleton.getBoneByName(t);if(i!==void 0)return i}if(e.children){const i=function(s){for(let o=0;o<s.length;o++){const l=s[o];if(l.name===t||l.uuid===t)return l;const a=i(l.children);if(a)return a}return null},r=i(e.children);if(r)return r}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,t){e[t]=this.targetObject[this.propertyName]}_getValue_array(e,t){const i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)e[t++]=i[r]}_getValue_arrayElement(e,t){e[t]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,t){this.resolvedProperty.toArray(e,t)}_setValue_direct(e,t){this.targetObject[this.propertyName]=e[t]}_setValue_direct_setNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,t){const i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)i[r]=e[t++]}_setValue_array_setNeedsUpdate(e,t){const i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)i[r]=e[t++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,t){const i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)i[r]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,t){this.resolvedProperty[this.propertyIndex]=e[t]}_setValue_arrayElement_setNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,t){this.resolvedProperty.fromArray(e,t)}_setValue_fromArray_setNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,t){this.bind(),this.getValue(e,t)}_setValue_unbound(e,t){this.bind(),this.setValue(e,t)}bind(){let e=this.node;const t=this.parsedPath,i=t.objectName,r=t.propertyName;let s=t.propertyIndex;if(e||(e=Yr.findNode(this.rootNode,t.nodeName),this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.warn("THREE.PropertyBinding: No target node found for track: "+this.path+".");return}if(i){let u=t.objectIndex;switch(i){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let m=0;m<e.length;m++)if(e[m].name===u){u=m;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}e=e.material.map;break;default:if(e[i]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[i]}if(u!==void 0){if(e[u]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[u]}}const o=e[r];if(o===void 0){const u=t.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+u+"."+r+" but it wasn't found.",e);return}let l=this.Versioning.None;this.targetObject=e,e.isMaterial===!0?l=this.Versioning.NeedsUpdate:e.isObject3D===!0&&(l=this.Versioning.MatrixWorldNeedsUpdate);let a=this.BindingType.Direct;if(s!==void 0){if(r==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[s]!==void 0&&(s=e.morphTargetDictionary[s])}a=this.BindingType.ArrayElement,this.resolvedProperty=o,this.propertyIndex=s}else o.fromArray!==void 0&&o.toArray!==void 0?(a=this.BindingType.HasFromToArray,this.resolvedProperty=o):Array.isArray(o)?(a=this.BindingType.EntireArray,this.resolvedProperty=o):this.propertyName=r;this.getValue=this.GetterByBindingType[a],this.setValue=this.SetterByBindingTypeAndVersioning[a][l]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}Yr.Composite=ide;Yr.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};Yr.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};Yr.prototype.GetterByBindingType=[Yr.prototype._getValue_direct,Yr.prototype._getValue_array,Yr.prototype._getValue_arrayElement,Yr.prototype._getValue_toArray];Yr.prototype.SetterByBindingTypeAndVersioning=[[Yr.prototype._setValue_direct,Yr.prototype._setValue_direct_setNeedsUpdate,Yr.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[Yr.prototype._setValue_array,Yr.prototype._setValue_array_setNeedsUpdate,Yr.prototype._setValue_array_setMatrixWorldNeedsUpdate],[Yr.prototype._setValue_arrayElement,Yr.prototype._setValue_arrayElement_setNeedsUpdate,Yr.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[Yr.prototype._setValue_fromArray,Yr.prototype._setValue_fromArray_setNeedsUpdate,Yr.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class rde{constructor(){this.isAnimationObjectGroup=!0,this.uuid=nu(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let i=0,r=arguments.length;i!==r;++i)e[arguments[i].uuid]=i;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const t=this;this.stats={objects:{get total(){return t._objects.length},get inUse(){return this.total-t.nCachedObjects_}},get bindingsPerObject(){return t._bindings.length}}}add(){const e=this._objects,t=this._indicesByUUID,i=this._paths,r=this._parsedPaths,s=this._bindings,o=s.length;let l,a=e.length,u=this.nCachedObjects_;for(let m=0,d=arguments.length;m!==d;++m){const b=arguments[m],g=b.uuid;let _=t[g];if(_===void 0){_=a++,t[g]=_,e.push(b);for(let p=0,v=o;p!==v;++p)s[p].push(new Yr(b,i[p],r[p]))}else if(_<u){l=e[_];const p=--u,v=e[p];t[v.uuid]=_,e[_]=v,t[g]=p,e[p]=b;for(let c=0,x=o;c!==x;++c){const w=s[c],T=w[p];let L=w[_];w[_]=T,L===void 0&&(L=new Yr(b,i[c],r[c])),w[p]=L}}else e[_]!==l&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=u}remove(){const e=this._objects,t=this._indicesByUUID,i=this._bindings,r=i.length;let s=this.nCachedObjects_;for(let o=0,l=arguments.length;o!==l;++o){const a=arguments[o],u=a.uuid,m=t[u];if(m!==void 0&&m>=s){const d=s++,b=e[d];t[b.uuid]=m,e[m]=b,t[u]=d,e[d]=a;for(let g=0,_=r;g!==_;++g){const p=i[g],v=p[d],c=p[m];p[m]=v,p[d]=c}}}this.nCachedObjects_=s}uncache(){const e=this._objects,t=this._indicesByUUID,i=this._bindings,r=i.length;let s=this.nCachedObjects_,o=e.length;for(let l=0,a=arguments.length;l!==a;++l){const u=arguments[l],m=u.uuid,d=t[m];if(d!==void 0)if(delete t[m],d<s){const b=--s,g=e[b],_=--o,p=e[_];t[g.uuid]=d,e[d]=g,t[p.uuid]=b,e[b]=p,e.pop();for(let v=0,c=r;v!==c;++v){const x=i[v],w=x[b],T=x[_];x[d]=w,x[b]=T,x.pop()}}else{const b=--o,g=e[b];b>0&&(t[g.uuid]=d),e[d]=g,e.pop();for(let _=0,p=r;_!==p;++_){const v=i[_];v[d]=v[b],v.pop()}}}this.nCachedObjects_=s}subscribe_(e,t){const i=this._bindingsIndicesByPath;let r=i[e];const s=this._bindings;if(r!==void 0)return s[r];const o=this._paths,l=this._parsedPaths,a=this._objects,u=a.length,m=this.nCachedObjects_,d=new Array(u);r=s.length,i[e]=r,o.push(e),l.push(t),s.push(d);for(let b=m,g=a.length;b!==g;++b){const _=a[b];d[b]=new Yr(_,e,t)}return d}unsubscribe_(e){const t=this._bindingsIndicesByPath,i=t[e];if(i!==void 0){const r=this._paths,s=this._parsedPaths,o=this._bindings,l=o.length-1,a=o[l],u=e[l];t[u]=i,o[i]=a,o.pop(),s[i]=s[l],s.pop(),r[i]=r[l],r.pop()}}}class v5{constructor(e,t,i=null,r=t.blendMode){this._mixer=e,this._clip=t,this._localRoot=i,this.blendMode=r;const s=t.tracks,o=s.length,l=new Array(o),a={endingStart:ig,endingEnd:ig};for(let u=0;u!==o;++u){const m=s[u].createInterpolant(null);l[u]=m,m.settings=a}this._interpolantSettings=a,this._interpolants=l,this._propertyBindings=new Array(o),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=nk,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,t){return this.loop=e,this.repetitions=t,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,t,i=!1){if(e.fadeOut(t),this.fadeIn(t),i===!0){const r=this._clip.duration,s=e._clip.duration,o=s/r,l=r/s;e.warp(1,o,t),this.warp(l,1,t)}return this}crossFadeTo(e,t,i=!1){return e.crossFadeFrom(this,t,i)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,t,i){const r=this._mixer,s=r.time,o=this.timeScale;let l=this._timeScaleInterpolant;l===null&&(l=r._lendControlInterpolant(),this._timeScaleInterpolant=l);const a=l.parameterPositions,u=l.sampleValues;return a[0]=s,a[1]=s+i,u[0]=e/o,u[1]=t/o,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,t,i,r){if(!this.enabled){this._updateWeight(e);return}const s=this._startTime;if(s!==null){const a=(e-s)*i;a<0||i===0?t=0:(this._startTime=null,t=i*a)}t*=this._updateTimeScale(e);const o=this._updateTime(t),l=this._updateWeight(e);if(l>0){const a=this._interpolants,u=this._propertyBindings;switch(this.blendMode){case GM:for(let m=0,d=a.length;m!==d;++m)a[m].evaluate(o),u[m].accumulateAdditive(l);break;case HE:default:for(let m=0,d=a.length;m!==d;++m)a[m].evaluate(o),u[m].accumulate(r,l)}}}_updateWeight(e){let t=0;if(this.enabled){t=this.weight;const i=this._weightInterpolant;if(i!==null){const r=i.evaluate(e)[0];t*=r,e>i.parameterPositions[1]&&(this.stopFading(),r===0&&(this.enabled=!1))}}return this._effectiveWeight=t,t}_updateTimeScale(e){let t=0;if(!this.paused){t=this.timeScale;const i=this._timeScaleInterpolant;if(i!==null){const r=i.evaluate(e)[0];t*=r,e>i.parameterPositions[1]&&(this.stopWarping(),t===0?this.paused=!0:this.timeScale=t)}}return this._effectiveTimeScale=t,t}_updateTime(e){const t=this._clip.duration,i=this.loop;let r=this.time+e,s=this._loopCount;const o=i===ik;if(e===0)return s===-1?r:o&&(s&1)===1?t-r:r;if(i===tk){s===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(r>=t)r=t;else if(r<0)r=0;else{this.time=r;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(s===-1&&(e>=0?(s=0,this._setEndings(!0,this.repetitions===0,o)):this._setEndings(this.repetitions===0,!0,o)),r>=t||r<0){const l=Math.floor(r/t);r-=t*l,s+=Math.abs(l);const a=this.repetitions-s;if(a<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,r=e>0?t:0,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(a===1){const u=e<0;this._setEndings(u,!u,o)}else this._setEndings(!1,!1,o);this._loopCount=s,this.time=r,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:l})}}else this.time=r;if(o&&(s&1)===1)return t-r}return r}_setEndings(e,t,i){const r=this._interpolantSettings;i?(r.endingStart=rg,r.endingEnd=rg):(e?r.endingStart=this.zeroSlopeAtStart?rg:ig:r.endingStart=S_,t?r.endingEnd=this.zeroSlopeAtEnd?rg:ig:r.endingEnd=S_)}_scheduleFading(e,t,i){const r=this._mixer,s=r.time;let o=this._weightInterpolant;o===null&&(o=r._lendControlInterpolant(),this._weightInterpolant=o);const l=o.parameterPositions,a=o.sampleValues;return l[0]=s,a[0]=t,l[1]=s+e,a[1]=i,this}}const sde=new Float32Array(1);class ode extends vd{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,t){const i=e._localRoot||this._root,r=e._clip.tracks,s=r.length,o=e._propertyBindings,l=e._interpolants,a=i.uuid,u=this._bindingsByRootAndName;let m=u[a];m===void 0&&(m={},u[a]=m);for(let d=0;d!==s;++d){const b=r[d],g=b.name;let _=m[g];if(_!==void 0)++_.referenceCount,o[d]=_;else{if(_=o[d],_!==void 0){_._cacheIndex===null&&(++_.referenceCount,this._addInactiveBinding(_,a,g));continue}const p=t&&t._propertyBindings[d].binding.parsedPath;_=new g5(Yr.create(i,g,p),b.ValueTypeName,b.getValueSize()),++_.referenceCount,this._addInactiveBinding(_,a,g),o[d]=_}l[d].resultBuffer=_.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const i=(e._localRoot||this._root).uuid,r=e._clip.uuid,s=this._actionsByClip[r];this._bindAction(e,s&&s.knownActions[0]),this._addInactiveAction(e,r,i)}const t=e._propertyBindings;for(let i=0,r=t.length;i!==r;++i){const s=t[i];s.useCount++===0&&(this._lendBinding(s),s.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const t=e._propertyBindings;for(let i=0,r=t.length;i!==r;++i){const s=t[i];--s.useCount===0&&(s.restoreOriginalState(),this._takeBackBinding(s))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const t=e._cacheIndex;return t!==null&&t<this._nActiveActions}_addInactiveAction(e,t,i){const r=this._actions,s=this._actionsByClip;let o=s[t];if(o===void 0)o={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,s[t]=o;else{const l=o.knownActions;e._byClipCacheIndex=l.length,l.push(e)}e._cacheIndex=r.length,r.push(e),o.actionByRoot[i]=e}_removeInactiveAction(e){const t=this._actions,i=t[t.length-1],r=e._cacheIndex;i._cacheIndex=r,t[r]=i,t.pop(),e._cacheIndex=null;const s=e._clip.uuid,o=this._actionsByClip,l=o[s],a=l.knownActions,u=a[a.length-1],m=e._byClipCacheIndex;u._byClipCacheIndex=m,a[m]=u,a.pop(),e._byClipCacheIndex=null;const d=l.actionByRoot,b=(e._localRoot||this._root).uuid;delete d[b],a.length===0&&delete o[s],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const t=e._propertyBindings;for(let i=0,r=t.length;i!==r;++i){const s=t[i];--s.referenceCount===0&&this._removeInactiveBinding(s)}}_lendAction(e){const t=this._actions,i=e._cacheIndex,r=this._nActiveActions++,s=t[r];e._cacheIndex=r,t[r]=e,s._cacheIndex=i,t[i]=s}_takeBackAction(e){const t=this._actions,i=e._cacheIndex,r=--this._nActiveActions,s=t[r];e._cacheIndex=r,t[r]=e,s._cacheIndex=i,t[i]=s}_addInactiveBinding(e,t,i){const r=this._bindingsByRootAndName,s=this._bindings;let o=r[t];o===void 0&&(o={},r[t]=o),o[i]=e,e._cacheIndex=s.length,s.push(e)}_removeInactiveBinding(e){const t=this._bindings,i=e.binding,r=i.rootNode.uuid,s=i.path,o=this._bindingsByRootAndName,l=o[r],a=t[t.length-1],u=e._cacheIndex;a._cacheIndex=u,t[u]=a,t.pop(),delete l[s],Object.keys(l).length===0&&delete o[r]}_lendBinding(e){const t=this._bindings,i=e._cacheIndex,r=this._nActiveBindings++,s=t[r];e._cacheIndex=r,t[r]=e,s._cacheIndex=i,t[i]=s}_takeBackBinding(e){const t=this._bindings,i=e._cacheIndex,r=--this._nActiveBindings,s=t[r];e._cacheIndex=r,t[r]=e,s._cacheIndex=i,t[i]=s}_lendControlInterpolant(){const e=this._controlInterpolants,t=this._nActiveControlInterpolants++;let i=e[t];return i===void 0&&(i=new c2(new Float32Array(2),new Float32Array(2),1,sde),i.__cacheIndex=t,e[t]=i),i}_takeBackControlInterpolant(e){const t=this._controlInterpolants,i=e.__cacheIndex,r=--this._nActiveControlInterpolants,s=t[r];e.__cacheIndex=r,t[r]=e,s.__cacheIndex=i,t[i]=s}clipAction(e,t,i){const r=t||this._root,s=r.uuid;let o=typeof e=="string"?P_.findByName(r,e):e;const l=o!==null?o.uuid:e,a=this._actionsByClip[l];let u=null;if(i===void 0&&(o!==null?i=o.blendMode:i=HE),a!==void 0){const d=a.actionByRoot[s];if(d!==void 0&&d.blendMode===i)return d;u=a.knownActions[0],o===null&&(o=u._clip)}if(o===null)return null;const m=new v5(this,o,t,i);return this._bindAction(m,u),this._addInactiveAction(m,l,s),m}existingAction(e,t){const i=t||this._root,r=i.uuid,s=typeof e=="string"?P_.findByName(i,e):e,o=s?s.uuid:e,l=this._actionsByClip[o];return l!==void 0&&l.actionByRoot[r]||null}stopAllAction(){const e=this._actions,t=this._nActiveActions;for(let i=t-1;i>=0;--i)e[i].stop();return this}update(e){e*=this.timeScale;const t=this._actions,i=this._nActiveActions,r=this.time+=e,s=Math.sign(e),o=this._accuIndex^=1;for(let u=0;u!==i;++u)t[u]._update(r,e,s,o);const l=this._bindings,a=this._nActiveBindings;for(let u=0;u!==a;++u)l[u].apply(o);return this}setTime(e){this.time=0;for(let t=0;t<this._actions.length;t++)this._actions[t].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const t=this._actions,i=e.uuid,r=this._actionsByClip,s=r[i];if(s!==void 0){const o=s.knownActions;for(let l=0,a=o.length;l!==a;++l){const u=o[l];this._deactivateAction(u);const m=u._cacheIndex,d=t[t.length-1];u._cacheIndex=null,u._byClipCacheIndex=null,d._cacheIndex=m,t[m]=d,t.pop(),this._removeInactiveBindingsForAction(u)}delete r[i]}}uncacheRoot(e){const t=e.uuid,i=this._actionsByClip;for(const o in i){const l=i[o].actionByRoot,a=l[t];a!==void 0&&(this._deactivateAction(a),this._removeInactiveAction(a))}const r=this._bindingsByRootAndName,s=r[t];if(s!==void 0)for(const o in s){const l=s[o];l.restoreOriginalState(),this._removeInactiveBinding(l)}}uncacheAction(e,t){const i=this.existingAction(e,t);i!==null&&(this._deactivateAction(i),this._removeInactiveAction(i))}}class ade extends jM{constructor(e=1,t=1,i=1,r={}){super(e,t,r),this.isRenderTarget3D=!0,this.depth=i,this.texture=new VE(null,e,t,i),this._setTextureOptions(r),this.texture.isRenderTargetTexture=!0}}class v2{constructor(e){this.value=e}clone(){return new v2(this.value.clone===void 0?this.value:this.value.clone())}}let lde=0;class cde extends vd{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:lde++}),this.name="",this.usage=w_,this.uniforms=[]}add(e){return this.uniforms.push(e),this}remove(e){const t=this.uniforms.indexOf(e);return t!==-1&&this.uniforms.splice(t,1),this}setName(e){return this.name=e,this}setUsage(e){return this.usage=e,this}dispose(){this.dispatchEvent({type:"dispose"})}copy(e){this.name=e.name,this.usage=e.usage;const t=e.uniforms;this.uniforms.length=0;for(let i=0,r=t.length;i<r;i++){const s=Array.isArray(t[i])?t[i]:[t[i]];for(let o=0;o<s.length;o++)this.uniforms.push(s[o].clone())}return this}clone(){return new this.constructor().copy(this)}}class ude extends qE{constructor(e,t,i=1){super(e,t),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=i}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const t=super.clone(e);return t.meshPerAttribute=this.meshPerAttribute,t}toJSON(e){const t=super.toJSON(e);return t.isInstancedInterleavedBuffer=!0,t.meshPerAttribute=this.meshPerAttribute,t}}class hde{constructor(e,t,i,r,s,o=!1){this.isGLBufferAttribute=!0,this.name="",this.buffer=e,this.type=t,this.itemSize=i,this.elementSize=r,this.count=s,this.normalized=o,this.version=0}set needsUpdate(e){e===!0&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,t){return this.type=e,this.elementSize=t,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}const EI=new Wi;class y2{constructor(e,t,i=0,r=1/0){this.ray=new Cg(e,t),this.near=i,this.far=r,this.camera=null,this.layers=new g0,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,t){this.ray.set(e,t)}setFromCamera(e,t){t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):console.error("THREE.Raycaster: Unsupported camera type: "+t.type)}setFromXRController(e){return EI.identity().extractRotation(e.matrixWorld),this.ray.origin.setFromMatrixPosition(e.matrixWorld),this.ray.direction.set(0,0,-1).applyMatrix4(EI),this}intersectObject(e,t=!0,i=[]){return LR(e,this,i,t),i.sort(wI),i}intersectObjects(e,t=!0,i=[]){for(let r=0,s=e.length;r<s;r++)LR(e[r],this,i,t);return i.sort(wI),i}}function wI(n,e){return n.distance-e.distance}function LR(n,e,t,i){let r=!0;if(n.layers.test(e.layers)&&n.raycast(e,t)===!1&&(r=!1),r===!0&&i===!0){const s=n.children;for(let o=0,l=s.length;o<l;o++)LR(s[o],e,t,!0)}}class PR{constructor(e=1,t=0,i=0){this.radius=e,this.phi=t,this.theta=i}set(e,t,i){return this.radius=e,this.phi=t,this.theta=i,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=ir(this.phi,1e-6,Math.PI-1e-6),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,i){return this.radius=Math.sqrt(e*e+t*t+i*i),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,i),this.phi=Math.acos(ir(t/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class dde{constructor(e=1,t=0,i=0){this.radius=e,this.theta=t,this.y=i}set(e,t,i){return this.radius=e,this.theta=t,this.y=i,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,i){return this.radius=Math.sqrt(e*e+i*i),this.theta=Math.atan2(e,i),this.y=t,this}clone(){return new this.constructor().copy(this)}}class _2{constructor(e,t,i,r){_2.prototype.isMatrix2=!0,this.elements=[1,0,0,1],e!==void 0&&this.set(e,t,i,r)}identity(){return this.set(1,0,0,1),this}fromArray(e,t=0){for(let i=0;i<4;i++)this.elements[i]=e[i+t];return this}set(e,t,i,r){const s=this.elements;return s[0]=e,s[2]=t,s[1]=i,s[3]=r,this}}const CI=new rn;class fde{constructor(e=new rn(1/0,1/0),t=new rn(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromPoints(e){this.makeEmpty();for(let t=0,i=e.length;t<i;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const i=CI.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(i),this.max.copy(e).add(i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,CI).distanceTo(e)}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const TI=new De,u1=new De;class pde{constructor(e=new De,t=new De){this.start=e,this.end=t}set(e,t){return this.start.copy(e),this.end.copy(t),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,t){return this.delta(t).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,t){TI.subVectors(e,this.start),u1.subVectors(this.end,this.start);const i=u1.dot(u1);let s=u1.dot(TI)/i;return t&&(s=ir(s,0,1)),s}closestPointToPoint(e,t,i){const r=this.closestPointToPointParameter(e,t);return this.delta(i).multiplyScalar(r).add(this.start)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const AI=new De;class mde extends Zr{constructor(e,t){super(),this.light=e,this.matrixAutoUpdate=!1,this.color=t,this.type="SpotLightHelper";const i=new hr,r=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let o=0,l=1,a=32;o<a;o++,l++){const u=o/a*Math.PI*2,m=l/a*Math.PI*2;r.push(Math.cos(u),Math.sin(u),1,Math.cos(m),Math.sin(m),1)}i.setAttribute("position",new mi(r,3));const s=new pc({fog:!1,toneMapped:!1});this.cone=new yd(i,s),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),this.parent?(this.parent.updateWorldMatrix(!0),this.matrix.copy(this.parent.matrixWorld).invert().multiply(this.light.matrixWorld)):this.matrix.copy(this.light.matrixWorld),this.matrixWorld.copy(this.light.matrixWorld);const e=this.light.distance?this.light.distance:1e3,t=e*Math.tan(this.light.angle);this.cone.scale.set(t,t,e),AI.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(AI),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const xp=new De,h1=new Wi,$T=new Wi;class gde extends yd{constructor(e){const t=y5(e),i=new hr,r=[],s=[],o=new jn(0,0,1),l=new jn(0,1,0);for(let u=0;u<t.length;u++){const m=t[u];m.parent&&m.parent.isBone&&(r.push(0,0,0),r.push(0,0,0),s.push(o.r,o.g,o.b),s.push(l.r,l.g,l.b))}i.setAttribute("position",new mi(r,3)),i.setAttribute("color",new mi(s,3));const a=new pc({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(i,a),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=t,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(e){const t=this.bones,i=this.geometry,r=i.getAttribute("position");$T.copy(this.root.matrixWorld).invert();for(let s=0,o=0;s<t.length;s++){const l=t[s];l.parent&&l.parent.isBone&&(h1.multiplyMatrices($T,l.matrixWorld),xp.setFromMatrixPosition(h1),r.setXYZ(o,xp.x,xp.y,xp.z),h1.multiplyMatrices($T,l.parent.matrixWorld),xp.setFromMatrixPosition(h1),r.setXYZ(o+1,xp.x,xp.y,xp.z),o+=2)}i.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose()}}function y5(n){const e=[];n.isBone===!0&&e.push(n);for(let t=0;t<n.children.length;t++)e.push(...y5(n.children[t]));return e}class vde extends Oo{constructor(e,t,i){const r=new lb(t,4,2),s=new Lf({wireframe:!0,fog:!1,toneMapped:!1});super(r,s),this.light=e,this.color=i,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const yde=new De,RI=new jn,MI=new jn;class _de extends Zr{constructor(e,t,i){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=i,this.type="HemisphereLightHelper";const r=new ab(t);r.rotateY(Math.PI*.5),this.material=new Lf({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const s=r.getAttribute("position"),o=new Float32Array(s.count*3);r.setAttribute("color",new Is(o,3)),this.add(new Oo(r,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const t=e.geometry.getAttribute("color");RI.copy(this.light.color),MI.copy(this.light.groundColor);for(let i=0,r=t.count;i<r;i++){const s=i<r/2?RI:MI;t.setXYZ(i,s.r,s.g,s.b)}t.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),e.lookAt(yde.setFromMatrixPosition(this.light.matrixWorld).negate())}}class bde extends yd{constructor(e=10,t=10,i=4473924,r=8947848){i=new jn(i),r=new jn(r);const s=t/2,o=e/t,l=e/2,a=[],u=[];for(let b=0,g=0,_=-l;b<=t;b++,_+=o){a.push(-l,0,_,l,0,_),a.push(_,0,-l,_,0,l);const p=b===s?i:r;p.toArray(u,g),g+=3,p.toArray(u,g),g+=3,p.toArray(u,g),g+=3,p.toArray(u,g),g+=3}const m=new hr;m.setAttribute("position",new mi(a,3)),m.setAttribute("color",new mi(u,3));const d=new pc({vertexColors:!0,toneMapped:!1});super(m,d),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class xde extends yd{constructor(e=10,t=16,i=8,r=64,s=4473924,o=8947848){s=new jn(s),o=new jn(o);const l=[],a=[];if(t>1)for(let d=0;d<t;d++){const b=d/t*(Math.PI*2),g=Math.sin(b)*e,_=Math.cos(b)*e;l.push(0,0,0),l.push(g,0,_);const p=d&1?s:o;a.push(p.r,p.g,p.b),a.push(p.r,p.g,p.b)}for(let d=0;d<i;d++){const b=d&1?s:o,g=e-e/i*d;for(let _=0;_<r;_++){let p=_/r*(Math.PI*2),v=Math.sin(p)*g,c=Math.cos(p)*g;l.push(v,0,c),a.push(b.r,b.g,b.b),p=(_+1)/r*(Math.PI*2),v=Math.sin(p)*g,c=Math.cos(p)*g,l.push(v,0,c),a.push(b.r,b.g,b.b)}}const u=new hr;u.setAttribute("position",new mi(l,3)),u.setAttribute("color",new mi(a,3));const m=new pc({vertexColors:!0,toneMapped:!1});super(u,m),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const OI=new De,d1=new De,LI=new De;class Sde extends Zr{constructor(e,t,i){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=i,this.type="DirectionalLightHelper",t===void 0&&(t=1);let r=new hr;r.setAttribute("position",new mi([-t,t,0,t,t,0,t,-t,0,-t,-t,0,-t,t,0],3));const s=new pc({fog:!1,toneMapped:!1});this.lightPlane=new Hp(r,s),this.add(this.lightPlane),r=new hr,r.setAttribute("position",new mi([0,0,0,0,0,1],3)),this.targetLine=new Hp(r,s),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),OI.setFromMatrixPosition(this.light.matrixWorld),d1.setFromMatrixPosition(this.light.target.matrixWorld),LI.subVectors(d1,OI),this.lightPlane.lookAt(d1),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(d1),this.targetLine.scale.z=LI.length()}}const f1=new De,Go=new WE;class Ede extends yd{constructor(e){const t=new hr,i=new pc({color:16777215,vertexColors:!0,toneMapped:!1}),r=[],s=[],o={};l("n1","n2"),l("n2","n4"),l("n4","n3"),l("n3","n1"),l("f1","f2"),l("f2","f4"),l("f4","f3"),l("f3","f1"),l("n1","f1"),l("n2","f2"),l("n3","f3"),l("n4","f4"),l("p","n1"),l("p","n2"),l("p","n3"),l("p","n4"),l("u1","u2"),l("u2","u3"),l("u3","u1"),l("c","t"),l("p","c"),l("cn1","cn2"),l("cn3","cn4"),l("cf1","cf2"),l("cf3","cf4");function l(_,p){a(_),a(p)}function a(_){r.push(0,0,0),s.push(0,0,0),o[_]===void 0&&(o[_]=[]),o[_].push(r.length/3-1)}t.setAttribute("position",new mi(r,3)),t.setAttribute("color",new mi(s,3)),super(t,i),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=o,this.update();const u=new jn(16755200),m=new jn(16711680),d=new jn(43775),b=new jn(16777215),g=new jn(3355443);this.setColors(u,m,d,b,g)}setColors(e,t,i,r,s){const l=this.geometry.getAttribute("color");l.setXYZ(0,e.r,e.g,e.b),l.setXYZ(1,e.r,e.g,e.b),l.setXYZ(2,e.r,e.g,e.b),l.setXYZ(3,e.r,e.g,e.b),l.setXYZ(4,e.r,e.g,e.b),l.setXYZ(5,e.r,e.g,e.b),l.setXYZ(6,e.r,e.g,e.b),l.setXYZ(7,e.r,e.g,e.b),l.setXYZ(8,e.r,e.g,e.b),l.setXYZ(9,e.r,e.g,e.b),l.setXYZ(10,e.r,e.g,e.b),l.setXYZ(11,e.r,e.g,e.b),l.setXYZ(12,e.r,e.g,e.b),l.setXYZ(13,e.r,e.g,e.b),l.setXYZ(14,e.r,e.g,e.b),l.setXYZ(15,e.r,e.g,e.b),l.setXYZ(16,e.r,e.g,e.b),l.setXYZ(17,e.r,e.g,e.b),l.setXYZ(18,e.r,e.g,e.b),l.setXYZ(19,e.r,e.g,e.b),l.setXYZ(20,e.r,e.g,e.b),l.setXYZ(21,e.r,e.g,e.b),l.setXYZ(22,e.r,e.g,e.b),l.setXYZ(23,e.r,e.g,e.b),l.setXYZ(24,t.r,t.g,t.b),l.setXYZ(25,t.r,t.g,t.b),l.setXYZ(26,t.r,t.g,t.b),l.setXYZ(27,t.r,t.g,t.b),l.setXYZ(28,t.r,t.g,t.b),l.setXYZ(29,t.r,t.g,t.b),l.setXYZ(30,t.r,t.g,t.b),l.setXYZ(31,t.r,t.g,t.b),l.setXYZ(32,i.r,i.g,i.b),l.setXYZ(33,i.r,i.g,i.b),l.setXYZ(34,i.r,i.g,i.b),l.setXYZ(35,i.r,i.g,i.b),l.setXYZ(36,i.r,i.g,i.b),l.setXYZ(37,i.r,i.g,i.b),l.setXYZ(38,r.r,r.g,r.b),l.setXYZ(39,r.r,r.g,r.b),l.setXYZ(40,s.r,s.g,s.b),l.setXYZ(41,s.r,s.g,s.b),l.setXYZ(42,s.r,s.g,s.b),l.setXYZ(43,s.r,s.g,s.b),l.setXYZ(44,s.r,s.g,s.b),l.setXYZ(45,s.r,s.g,s.b),l.setXYZ(46,s.r,s.g,s.b),l.setXYZ(47,s.r,s.g,s.b),l.setXYZ(48,s.r,s.g,s.b),l.setXYZ(49,s.r,s.g,s.b),l.needsUpdate=!0}update(){const e=this.geometry,t=this.pointMap,i=1,r=1;Go.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse);const s=this.camera.coordinateSystem===ku?-1:0;ta("c",t,e,Go,0,0,s),ta("t",t,e,Go,0,0,1),ta("n1",t,e,Go,-i,-r,s),ta("n2",t,e,Go,i,-r,s),ta("n3",t,e,Go,-i,r,s),ta("n4",t,e,Go,i,r,s),ta("f1",t,e,Go,-i,-r,1),ta("f2",t,e,Go,i,-r,1),ta("f3",t,e,Go,-i,r,1),ta("f4",t,e,Go,i,r,1),ta("u1",t,e,Go,i*.7,r*1.1,s),ta("u2",t,e,Go,-i*.7,r*1.1,s),ta("u3",t,e,Go,0,r*2,s),ta("cf1",t,e,Go,-i,0,1),ta("cf2",t,e,Go,i,0,1),ta("cf3",t,e,Go,0,-r,1),ta("cf4",t,e,Go,0,r,1),ta("cn1",t,e,Go,-i,0,s),ta("cn2",t,e,Go,i,0,s),ta("cn3",t,e,Go,0,-r,s),ta("cn4",t,e,Go,0,r,s),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function ta(n,e,t,i,r,s,o){f1.set(r,s,o).unproject(i);const l=e[n];if(l!==void 0){const a=t.getAttribute("position");for(let u=0,m=l.length;u<m;u++)a.setXYZ(l[u],f1.x,f1.y,f1.z)}}const p1=new Nl;class wde extends yd{constructor(e,t=16776960){const i=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=new Float32Array(24),s=new hr;s.setIndex(new Is(i,1)),s.setAttribute("position",new Is(r,3)),super(s,new pc({color:t,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(){if(this.object!==void 0&&p1.setFromObject(this.object),p1.isEmpty())return;const e=p1.min,t=p1.max,i=this.geometry.attributes.position,r=i.array;r[0]=t.x,r[1]=t.y,r[2]=t.z,r[3]=e.x,r[4]=t.y,r[5]=t.z,r[6]=e.x,r[7]=e.y,r[8]=t.z,r[9]=t.x,r[10]=e.y,r[11]=t.z,r[12]=t.x,r[13]=t.y,r[14]=e.z,r[15]=e.x,r[16]=t.y,r[17]=e.z,r[18]=e.x,r[19]=e.y,r[20]=e.z,r[21]=t.x,r[22]=e.y,r[23]=e.z,i.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,t){return super.copy(e,t),this.object=e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class Cde extends yd{constructor(e,t=16776960){const i=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],s=new hr;s.setIndex(new Is(i,1)),s.setAttribute("position",new mi(r,3)),super(s,new pc({color:t,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const t=this.box;t.isEmpty()||(t.getCenter(this.position),t.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}}class Tde extends Hp{constructor(e,t=1,i=16776960){const r=i,s=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],o=new hr;o.setAttribute("position",new mi(s,3)),o.computeBoundingSphere(),super(o,new pc({color:r,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=t;const l=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],a=new hr;a.setAttribute("position",new mi(l,3)),a.computeBoundingSphere(),this.add(new Oo(a,new Lf({color:r,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const PI=new De;let m1,HT;class Ade extends Zr{constructor(e=new De(0,0,1),t=new De(0,0,0),i=1,r=16776960,s=i*.2,o=s*.2){super(),this.type="ArrowHelper",m1===void 0&&(m1=new hr,m1.setAttribute("position",new mi([0,0,0,0,1,0],3)),HT=new sb(.5,1,5,1),HT.translate(0,-.5,0)),this.position.copy(t),this.line=new Hp(m1,new pc({color:r,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new Oo(HT,new Lf({color:r,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(i,s,o)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{PI.set(e.z,0,-e.x).normalize();const t=Math.acos(e.y);this.quaternion.setFromAxisAngle(PI,t)}}setLength(e,t=e*.2,i=t*.2){this.line.scale.set(1,Math.max(1e-4,e-t),1),this.line.updateMatrix(),this.cone.scale.set(i,t,i),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class Rde extends yd{constructor(e=1){const t=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],i=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],r=new hr;r.setAttribute("position",new mi(t,3)),r.setAttribute("color",new mi(i,3));const s=new pc({vertexColors:!0,toneMapped:!1});super(r,s),this.type="AxesHelper"}setColors(e,t,i){const r=new jn,s=this.geometry.attributes.color.array;return r.set(e),r.toArray(s,0),r.toArray(s,3),r.set(t),r.toArray(s,6),r.toArray(s,9),r.set(i),r.toArray(s,12),r.toArray(s,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class Mde{constructor(){this.type="ShapePath",this.color=new jn,this.subPaths=[],this.currentPath=null}moveTo(e,t){return this.currentPath=new sE,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t),this}lineTo(e,t){return this.currentPath.lineTo(e,t),this}quadraticCurveTo(e,t,i,r){return this.currentPath.quadraticCurveTo(e,t,i,r),this}bezierCurveTo(e,t,i,r,s,o){return this.currentPath.bezierCurveTo(e,t,i,r,s,o),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function t(c){const x=[];for(let w=0,T=c.length;w<T;w++){const L=c[w],P=new fg;P.curves=L.curves,x.push(P)}return x}function i(c,x){const w=x.length;let T=!1;for(let L=w-1,P=0;P<w;L=P++){let C=x[L],I=x[P],F=I.x-C.x,R=I.y-C.y;if(Math.abs(R)>Number.EPSILON){if(R<0&&(C=x[P],F=-F,I=x[L],R=-R),c.y<C.y||c.y>I.y)continue;if(c.y===C.y){if(c.x===C.x)return!0}else{const D=R*(c.x-C.x)-F*(c.y-C.y);if(D===0)return!0;if(D<0)continue;T=!T}}else{if(c.y!==C.y)continue;if(I.x<=c.x&&c.x<=C.x||C.x<=c.x&&c.x<=I.x)return!0}}return T}const r=gh.isClockWise,s=this.subPaths;if(s.length===0)return[];let o,l,a;const u=[];if(s.length===1)return l=s[0],a=new fg,a.curves=l.curves,u.push(a),u;let m=!r(s[0].getPoints());m=e?!m:m;const d=[],b=[];let g=[],_=0,p;b[_]=void 0,g[_]=[];for(let c=0,x=s.length;c<x;c++)l=s[c],p=l.getPoints(),o=r(p),o=e?!o:o,o?(!m&&b[_]&&_++,b[_]={s:new fg,p},b[_].s.curves=l.curves,m&&_++,g[_]=[]):g[_].push({h:l,p:p[0]});if(!b[0])return t(s);if(b.length>1){let c=!1,x=0;for(let w=0,T=b.length;w<T;w++)d[w]=[];for(let w=0,T=b.length;w<T;w++){const L=g[w];for(let P=0;P<L.length;P++){const C=L[P];let I=!0;for(let F=0;F<b.length;F++)i(C.p,b[F].p)&&(w!==F&&x++,I?(I=!1,d[F].push(C)):c=!0);I&&d[w].push(C)}}x>0&&c===!1&&(g=d)}let v;for(let c=0,x=b.length;c<x;c++){a=b[c].s,u.push(a),v=g[c];for(let w=0,T=v.length;w<T;w++)a.holes.push(v[w].h)}return u}}class Ode extends vd{constructor(e,t=null){super(),this.object=e,this.domElement=t,this.enabled=!0,this.state=-1,this.keys={},this.mouseButtons={LEFT:null,MIDDLE:null,RIGHT:null},this.touches={ONE:null,TWO:null}}connect(e){if(e===void 0){console.warn("THREE.Controls: connect() now requires an element.");return}this.domElement!==null&&this.disconnect(),this.domElement=e}disconnect(){}dispose(){}update(){}}function Lde(n,e){const t=n.image&&n.image.width?n.image.width/n.image.height:1;return t>e?(n.repeat.x=1,n.repeat.y=t/e,n.offset.x=0,n.offset.y=(1-n.repeat.y)/2):(n.repeat.x=e/t,n.repeat.y=1,n.offset.x=(1-n.repeat.x)/2,n.offset.y=0),n}function Pde(n,e){const t=n.image&&n.image.width?n.image.width/n.image.height:1;return t>e?(n.repeat.x=e/t,n.repeat.y=1,n.offset.x=(1-n.repeat.x)/2,n.offset.y=0):(n.repeat.x=1,n.repeat.y=t/e,n.offset.x=0,n.offset.y=(1-n.repeat.y)/2),n}function Nde(n){return n.repeat.x=1,n.repeat.y=1,n.offset.x=0,n.offset.y=0,n}function NR(n,e,t,i){const r=Ide(i);switch(t){case kM:return n*e;case eb:return n*e/r.components*r.byteLength;case tb:return n*e/r.components*r.byteLength;case $M:return n*e*2/r.components*r.byteLength;case zE:return n*e*2/r.components*r.byteLength;case zM:return n*e*3/r.components*r.byteLength;case oa:return n*e*4/r.components*r.byteLength;case $E:return n*e*4/r.components*r.byteLength;case Zy:case Qy:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*8;case Jy:case e_:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*16;case OS:case PS:return Math.max(n,16)*Math.max(e,8)/4;case MS:case LS:return Math.max(n,8)*Math.max(e,8)/2;case NS:case IS:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*8;case DS:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*16;case FS:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*16;case BS:return Math.floor((n+4)/5)*Math.floor((e+3)/4)*16;case US:return Math.floor((n+4)/5)*Math.floor((e+4)/5)*16;case kS:return Math.floor((n+5)/6)*Math.floor((e+4)/5)*16;case zS:return Math.floor((n+5)/6)*Math.floor((e+5)/6)*16;case $S:return Math.floor((n+7)/8)*Math.floor((e+4)/5)*16;case HS:return Math.floor((n+7)/8)*Math.floor((e+5)/6)*16;case GS:return Math.floor((n+7)/8)*Math.floor((e+7)/8)*16;case VS:return Math.floor((n+9)/10)*Math.floor((e+4)/5)*16;case WS:return Math.floor((n+9)/10)*Math.floor((e+5)/6)*16;case jS:return Math.floor((n+9)/10)*Math.floor((e+7)/8)*16;case XS:return Math.floor((n+9)/10)*Math.floor((e+9)/10)*16;case qS:return Math.floor((n+11)/12)*Math.floor((e+9)/10)*16;case YS:return Math.floor((n+11)/12)*Math.floor((e+11)/12)*16;case t_:case KS:case ZS:return Math.ceil(n/4)*Math.ceil(e/4)*16;case HM:case QS:return Math.ceil(n/4)*Math.ceil(e/4)*8;case JS:case eE:return Math.ceil(n/4)*Math.ceil(e/4)*16}throw new Error(`Unable to determine texture byte length for ${t} format.`)}function Ide(n){switch(n){case fc:case FE:return{byteLength:1,components:1};case h0:case BE:case Ia:return{byteLength:2,components:1};case UE:case kE:return{byteLength:2,components:4};case md:case J_:case bo:return{byteLength:4,components:1};case UM:return{byteLength:4,components:3}}throw new Error(`Unknown texture type ${n}.`)}class Dde{static contain(e,t){return Lde(e,t)}static cover(e,t){return Pde(e,t)}static fill(e){return Nde(e)}static getByteLength(e,t,i,r){return NR(e,t,i,r)}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:Z_}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=Z_);/**
 * @license
 * Copyright 2010-2025 Three.js Authors
 * SPDX-License-Identifier: MIT
 */function _5(){let n=null,e=!1,t=null,i=null;function r(s,o){t(s,o),i=n.requestAnimationFrame(r)}return{start:function(){e!==!0&&t!==null&&(i=n.requestAnimationFrame(r),e=!0)},stop:function(){n.cancelAnimationFrame(i),e=!1},setAnimationLoop:function(s){t=s},setContext:function(s){n=s}}}function Fde(n){const e=new WeakMap;function t(l,a){const u=l.array,m=l.usage,d=u.byteLength,b=n.createBuffer();n.bindBuffer(a,b),n.bufferData(a,u,m),l.onUploadCallback();let g;if(u instanceof Float32Array)g=n.FLOAT;else if(typeof Float16Array<"u"&&u instanceof Float16Array)g=n.HALF_FLOAT;else if(u instanceof Uint16Array)l.isFloat16BufferAttribute?g=n.HALF_FLOAT:g=n.UNSIGNED_SHORT;else if(u instanceof Int16Array)g=n.SHORT;else if(u instanceof Uint32Array)g=n.UNSIGNED_INT;else if(u instanceof Int32Array)g=n.INT;else if(u instanceof Int8Array)g=n.BYTE;else if(u instanceof Uint8Array)g=n.UNSIGNED_BYTE;else if(u instanceof Uint8ClampedArray)g=n.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+u);return{buffer:b,type:g,bytesPerElement:u.BYTES_PER_ELEMENT,version:l.version,size:d}}function i(l,a,u){const m=a.array,d=a.updateRanges;if(n.bindBuffer(u,l),d.length===0)n.bufferSubData(u,0,m);else{d.sort((g,_)=>g.start-_.start);let b=0;for(let g=1;g<d.length;g++){const _=d[b],p=d[g];p.start<=_.start+_.count+1?_.count=Math.max(_.count,p.start+p.count-_.start):(++b,d[b]=p)}d.length=b+1;for(let g=0,_=d.length;g<_;g++){const p=d[g];n.bufferSubData(u,p.start*m.BYTES_PER_ELEMENT,m,p.start,p.count)}a.clearUpdateRanges()}a.onUploadCallback()}function r(l){return l.isInterleavedBufferAttribute&&(l=l.data),e.get(l)}function s(l){l.isInterleavedBufferAttribute&&(l=l.data);const a=e.get(l);a&&(n.deleteBuffer(a.buffer),e.delete(l))}function o(l,a){if(l.isInterleavedBufferAttribute&&(l=l.data),l.isGLBufferAttribute){const m=e.get(l);(!m||m.version<l.version)&&e.set(l,{buffer:l.buffer,type:l.type,bytesPerElement:l.elementSize,version:l.version});return}const u=e.get(l);if(u===void 0)e.set(l,t(l,a));else if(u.version<l.version){if(u.size!==l.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");i(u.buffer,l,a),u.version=l.version}}return{get:r,remove:s,update:o}}var Bde=`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,Ude=`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,kde=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,zde=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,$de=`#ifdef USE_ALPHATEST
	#ifdef ALPHA_TO_COVERAGE
	diffuseColor.a = smoothstep( alphaTest, alphaTest + fwidth( diffuseColor.a ), diffuseColor.a );
	if ( diffuseColor.a == 0.0 ) discard;
	#else
	if ( diffuseColor.a < alphaTest ) discard;
	#endif
#endif`,Hde=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,Gde=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_CLEARCOAT ) 
		clearcoatSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_SHEEN ) 
		sheenSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometryNormal, geometryViewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,Vde=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,Wde=`#ifdef USE_BATCHING
	#if ! defined( GL_ANGLE_multi_draw )
	#define gl_DrawID _gl_DrawID
	uniform int _gl_DrawID;
	#endif
	uniform highp sampler2D batchingTexture;
	uniform highp usampler2D batchingIdTexture;
	mat4 getBatchingMatrix( const in float i ) {
		int size = textureSize( batchingTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
	float getIndirectIndex( const in int i ) {
		int size = textureSize( batchingIdTexture, 0 ).x;
		int x = i % size;
		int y = i / size;
		return float( texelFetch( batchingIdTexture, ivec2( x, y ), 0 ).r );
	}
#endif
#ifdef USE_BATCHING_COLOR
	uniform sampler2D batchingColorTexture;
	vec3 getBatchingColor( const in float i ) {
		int size = textureSize( batchingColorTexture, 0 ).x;
		int j = int( i );
		int x = j % size;
		int y = j / size;
		return texelFetch( batchingColorTexture, ivec2( x, y ), 0 ).rgb;
	}
#endif`,jde=`#ifdef USE_BATCHING
	mat4 batchingMatrix = getBatchingMatrix( getIndirectIndex( gl_DrawID ) );
#endif`,Xde=`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,qde=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,Yde=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,Kde=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,Zde=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );
		vec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,Qde=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#ifdef ALPHA_TO_COVERAGE
		float distanceToPlane, distanceGradient;
		float clipOpacity = 1.0;
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
			distanceGradient = fwidth( distanceToPlane ) / 2.0;
			clipOpacity *= smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			if ( clipOpacity == 0.0 ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			float unionClipOpacity = 1.0;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
				distanceGradient = fwidth( distanceToPlane ) / 2.0;
				unionClipOpacity *= 1.0 - smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			}
			#pragma unroll_loop_end
			clipOpacity *= 1.0 - unionClipOpacity;
		#endif
		diffuseColor.a *= clipOpacity;
		if ( diffuseColor.a == 0.0 ) discard;
	#else
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			bool clipped = true;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
			}
			#pragma unroll_loop_end
			if ( clipped ) discard;
		#endif
	#endif
#endif`,Jde=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,efe=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,tfe=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,nfe=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,ife=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,rfe=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	varying vec3 vColor;
#endif`,sfe=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif
#ifdef USE_BATCHING_COLOR
	vec3 batchingColor = getBatchingColor( getIndirectIndex( gl_DrawID ) );
	vColor.xyz *= batchingColor.xyz;
#endif`,ofe=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,afe=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,lfe=`vec3 transformedNormal = objectNormal;
#ifdef USE_TANGENT
	vec3 transformedTangent = objectTangent;
#endif
#ifdef USE_BATCHING
	mat3 bm = mat3( batchingMatrix );
	transformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );
	transformedNormal = bm * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = bm * transformedTangent;
	#endif
#endif
#ifdef USE_INSTANCING
	mat3 im = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );
	transformedNormal = im * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = im * transformedTangent;
	#endif
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	transformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,cfe=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,ufe=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,hfe=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	#ifdef DECODE_VIDEO_TEXTURE_EMISSIVE
		emissiveColor = sRGBTransferEOTF( emissiveColor );
	#endif
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,dfe=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,ffe="gl_FragColor = linearToOutputTexel( gl_FragColor );",pfe=`vec4 LinearTransferOETF( in vec4 value ) {
	return value;
}
vec4 sRGBTransferEOTF( in vec4 value ) {
	return vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );
}
vec4 sRGBTransferOETF( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,mfe=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, envMapRotation * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,gfe=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	uniform mat3 envMapRotation;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,vfe=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,yfe=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,_fe=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,bfe=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,xfe=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,Sfe=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,Efe=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,wfe=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,Cfe=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,Tfe=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,Afe=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,Rfe=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
#if defined( USE_LIGHT_PROBES )
	uniform vec3 lightProbe[ 9 ];
#endif
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
	if ( cutoffDistance > 0.0 ) {
		distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
	}
	return distanceFalloff;
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,Mfe=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,Ofe=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,Lfe=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,Pfe=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,Nfe=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,Ife=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_DISPERSION
	material.dispersion = dispersion;
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	if( material.anisotropy == 0.0 ) {
		anisotropyV = vec2( 1.0, 0.0 );
	} else {
		anisotropyV /= material.anisotropy;
		material.anisotropy = saturate( material.anisotropy );
	}
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;
#endif`,Dfe=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	float dispersion;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecularDirect = vec3( 0.0 );
vec3 clearcoatSpecularIndirect = vec3( 0.0 );
vec3 sheenSpecularDirect = vec3( 0.0 );
vec3 sheenSpecularIndirect = vec3(0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return saturate(v);
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColor;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometryNormal;
		vec3 viewDir = geometryViewDir;
		vec3 position = geometryPosition;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometryViewDir, geometryNormal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,Ffe=`
vec3 geometryPosition = - vViewPosition;
vec3 geometryNormal = normal;
vec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
vec3 geometryClearcoatNormal = vec3( 0.0 );
#ifdef USE_CLEARCOAT
	geometryClearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometryViewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometryPosition, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowIntensity, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometryPosition, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowIntensity, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowIntensity, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	#if defined( USE_LIGHT_PROBES )
		irradiance += getLightProbeIrradiance( lightProbe, geometryNormal );
	#endif
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,Bfe=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometryNormal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,Ufe=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif`,kfe=`#if defined( USE_LOGDEPTHBUF )
	gl_FragDepth = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,zfe=`#if defined( USE_LOGDEPTHBUF )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,$fe=`#ifdef USE_LOGDEPTHBUF
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,Hfe=`#ifdef USE_LOGDEPTHBUF
	vFragDepth = 1.0 + gl_Position.w;
	vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
#endif`,Gfe=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vMapUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = sRGBTransferEOTF( sampledDiffuseColor );
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,Vfe=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,Wfe=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,jfe=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,Xfe=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,qfe=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,Yfe=`#ifdef USE_INSTANCING_MORPH
	float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	float morphTargetBaseInfluence = texelFetch( morphTexture, ivec2( 0, gl_InstanceID ), 0 ).r;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		morphTargetInfluences[i] =  texelFetch( morphTexture, ivec2( i + 1, gl_InstanceID ), 0 ).r;
	}
#endif`,Kfe=`#if defined( USE_MORPHCOLORS )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,Zfe=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,Qfe=`#ifdef USE_MORPHTARGETS
	#ifndef USE_INSTANCING_MORPH
		uniform float morphTargetBaseInfluence;
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	#endif
	uniform sampler2DArray morphTargetsTexture;
	uniform ivec2 morphTargetsTextureSize;
	vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
		int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
		int y = texelIndex / morphTargetsTextureSize.x;
		int x = texelIndex - y * morphTargetsTextureSize.x;
		ivec3 morphUV = ivec3( x, y, morphTargetIndex );
		return texelFetch( morphTargetsTexture, morphUV, 0 );
	}
#endif`,Jfe=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,epe=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 nonPerturbedNormal = normal;`,tpe=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,npe=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,ipe=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,rpe=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,spe=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,ope=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = nonPerturbedNormal;
#endif`,ape=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,lpe=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,cpe=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,upe=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,hpe=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;const float ShiftRight8 = 1. / 256.;
const float Inv255 = 1. / 255.;
const vec4 PackFactors = vec4( 1.0, 256.0, 256.0 * 256.0, 256.0 * 256.0 * 256.0 );
const vec2 UnpackFactors2 = vec2( UnpackDownscale, 1.0 / PackFactors.g );
const vec3 UnpackFactors3 = vec3( UnpackDownscale / PackFactors.rg, 1.0 / PackFactors.b );
const vec4 UnpackFactors4 = vec4( UnpackDownscale / PackFactors.rgb, 1.0 / PackFactors.a );
vec4 packDepthToRGBA( const in float v ) {
	if( v <= 0.0 )
		return vec4( 0., 0., 0., 0. );
	if( v >= 1.0 )
		return vec4( 1., 1., 1., 1. );
	float vuf;
	float af = modf( v * PackFactors.a, vuf );
	float bf = modf( vuf * ShiftRight8, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec4( vuf * Inv255, gf * PackUpscale, bf * PackUpscale, af );
}
vec3 packDepthToRGB( const in float v ) {
	if( v <= 0.0 )
		return vec3( 0., 0., 0. );
	if( v >= 1.0 )
		return vec3( 1., 1., 1. );
	float vuf;
	float bf = modf( v * PackFactors.b, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec3( vuf * Inv255, gf * PackUpscale, bf );
}
vec2 packDepthToRG( const in float v ) {
	if( v <= 0.0 )
		return vec2( 0., 0. );
	if( v >= 1.0 )
		return vec2( 1., 1. );
	float vuf;
	float gf = modf( v * 256., vuf );
	return vec2( vuf * Inv255, gf );
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors4 );
}
float unpackRGBToDepth( const in vec3 v ) {
	return dot( v, UnpackFactors3 );
}
float unpackRGToDepth( const in vec2 v ) {
	return v.r * UnpackFactors2.r + v.g * UnpackFactors2.g;
}
vec4 pack2HalfToRGBA( const in vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( const in vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,dpe=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,fpe=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_BATCHING
	mvPosition = batchingMatrix * mvPosition;
#endif
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,ppe=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,mpe=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,gpe=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,vpe=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,ype=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		float shadow = 1.0;
		vec3 lightToPosition = shadowCoord.xyz;
		
		float lightToPositionLength = length( lightToPosition );
		if ( lightToPositionLength - shadowCameraFar <= 0.0 && lightToPositionLength - shadowCameraNear >= 0.0 ) {
			float dp = ( lightToPositionLength - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );			dp += shadowBias;
			vec3 bd3D = normalize( lightToPosition );
			vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
			#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
				vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
				shadow = (
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
				) * ( 1.0 / 9.0 );
			#else
				shadow = texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
			#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
#endif`,_pe=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,bpe=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,xpe=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowIntensity, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowIntensity, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowIntensity, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,Spe=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,Epe=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	mat4 getBoneMatrix( const in float i ) {
		int size = textureSize( boneTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,wpe=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,Cpe=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,Tpe=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,Ape=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,Rpe=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,Mpe=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 CineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
const mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(
	vec3( 1.6605, - 0.1246, - 0.0182 ),
	vec3( - 0.5876, 1.1329, - 0.1006 ),
	vec3( - 0.0728, - 0.0083, 1.1187 )
);
const mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(
	vec3( 0.6274, 0.0691, 0.0164 ),
	vec3( 0.3293, 0.9195, 0.0880 ),
	vec3( 0.0433, 0.0113, 0.8956 )
);
vec3 agxDefaultContrastApprox( vec3 x ) {
	vec3 x2 = x * x;
	vec3 x4 = x2 * x2;
	return + 15.5 * x4 * x2
		- 40.14 * x4 * x
		+ 31.96 * x4
		- 6.868 * x2 * x
		+ 0.4298 * x2
		+ 0.1191 * x
		- 0.00232;
}
vec3 AgXToneMapping( vec3 color ) {
	const mat3 AgXInsetMatrix = mat3(
		vec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),
		vec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),
		vec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )
	);
	const mat3 AgXOutsetMatrix = mat3(
		vec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),
		vec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),
		vec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )
	);
	const float AgxMinEv = - 12.47393;	const float AgxMaxEv = 4.026069;
	color *= toneMappingExposure;
	color = LINEAR_SRGB_TO_LINEAR_REC2020 * color;
	color = AgXInsetMatrix * color;
	color = max( color, 1e-10 );	color = log2( color );
	color = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );
	color = clamp( color, 0.0, 1.0 );
	color = agxDefaultContrastApprox( color );
	color = AgXOutsetMatrix * color;
	color = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );
	color = LINEAR_REC2020_TO_LINEAR_SRGB * color;
	color = clamp( color, 0.0, 1.0 );
	return color;
}
vec3 NeutralToneMapping( vec3 color ) {
	const float StartCompression = 0.8 - 0.04;
	const float Desaturation = 0.15;
	color *= toneMappingExposure;
	float x = min( color.r, min( color.g, color.b ) );
	float offset = x < 0.08 ? x - 6.25 * x * x : 0.04;
	color -= offset;
	float peak = max( color.r, max( color.g, color.b ) );
	if ( peak < StartCompression ) return color;
	float d = 1. - StartCompression;
	float newPeak = 1. - d * d / ( peak + d - StartCompression );
	color *= newPeak / peak;
	float g = 1. - 1. / ( Desaturation * ( peak - newPeak ) + 1. );
	return mix( color, vec3( newPeak ), g );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,Ope=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.dispersion, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,Lpe=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float dispersion, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec4 transmittedLight;
		vec3 transmittance;
		#ifdef USE_DISPERSION
			float halfSpread = ( ior - 1.0 ) * 0.025 * dispersion;
			vec3 iors = vec3( ior - halfSpread, ior, ior + halfSpread );
			for ( int i = 0; i < 3; i ++ ) {
				vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, iors[ i ], modelMatrix );
				vec3 refractedRayExit = position + transmissionRay;
				vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
				vec2 refractionCoords = ndcPos.xy / ndcPos.w;
				refractionCoords += 1.0;
				refractionCoords /= 2.0;
				vec4 transmissionSample = getTransmissionSample( refractionCoords, roughness, iors[ i ] );
				transmittedLight[ i ] = transmissionSample[ i ];
				transmittedLight.a += transmissionSample.a;
				transmittance[ i ] = diffuseColor[ i ] * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance )[ i ];
			}
			transmittedLight.a /= 3.0;
		#else
			vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
			vec3 refractedRayExit = position + transmissionRay;
			vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
			vec2 refractionCoords = ndcPos.xy / ndcPos.w;
			refractionCoords += 1.0;
			refractionCoords /= 2.0;
			transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
			transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		#endif
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,Ppe=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,Npe=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,Ipe=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,Dpe=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_BATCHING
		worldPosition = batchingMatrix * worldPosition;
	#endif
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const Fpe=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,Bpe=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,Upe=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,kpe=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
uniform mat3 backgroundRotation;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, backgroundRotation * vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, backgroundRotation * vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,zpe=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,$pe=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,Hpe=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,Gpe=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#elif DEPTH_PACKING == 3202
		gl_FragColor = vec4( packDepthToRGB( fragCoordZ ), 1.0 );
	#elif DEPTH_PACKING == 3203
		gl_FragColor = vec4( packDepthToRG( fragCoordZ ), 0.0, 1.0 );
	#endif
}`,Vpe=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,Wpe=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,jpe=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,Xpe=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,qpe=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,Ype=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,Kpe=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,Zpe=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Qpe=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Jpe=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,eme=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,tme=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,nme=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,ime=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( 0.0, 0.0, 0.0, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), diffuseColor.a );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,rme=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,sme=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,ome=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,ame=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_DISPERSION
	uniform float dispersion;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecularDirect + sheenSpecularIndirect;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,lme=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,cme=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,ume=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,hme=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,dme=`#include <common>
#include <batching_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,fme=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,pme=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix[ 3 ];
	vec2 scale = vec2( length( modelMatrix[ 0 ].xyz ), length( modelMatrix[ 1 ].xyz ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,mme=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,mr={alphahash_fragment:Bde,alphahash_pars_fragment:Ude,alphamap_fragment:kde,alphamap_pars_fragment:zde,alphatest_fragment:$de,alphatest_pars_fragment:Hde,aomap_fragment:Gde,aomap_pars_fragment:Vde,batching_pars_vertex:Wde,batching_vertex:jde,begin_vertex:Xde,beginnormal_vertex:qde,bsdfs:Yde,iridescence_fragment:Kde,bumpmap_pars_fragment:Zde,clipping_planes_fragment:Qde,clipping_planes_pars_fragment:Jde,clipping_planes_pars_vertex:efe,clipping_planes_vertex:tfe,color_fragment:nfe,color_pars_fragment:ife,color_pars_vertex:rfe,color_vertex:sfe,common:ofe,cube_uv_reflection_fragment:afe,defaultnormal_vertex:lfe,displacementmap_pars_vertex:cfe,displacementmap_vertex:ufe,emissivemap_fragment:hfe,emissivemap_pars_fragment:dfe,colorspace_fragment:ffe,colorspace_pars_fragment:pfe,envmap_fragment:mfe,envmap_common_pars_fragment:gfe,envmap_pars_fragment:vfe,envmap_pars_vertex:yfe,envmap_physical_pars_fragment:Mfe,envmap_vertex:_fe,fog_vertex:bfe,fog_pars_vertex:xfe,fog_fragment:Sfe,fog_pars_fragment:Efe,gradientmap_pars_fragment:wfe,lightmap_pars_fragment:Cfe,lights_lambert_fragment:Tfe,lights_lambert_pars_fragment:Afe,lights_pars_begin:Rfe,lights_toon_fragment:Ofe,lights_toon_pars_fragment:Lfe,lights_phong_fragment:Pfe,lights_phong_pars_fragment:Nfe,lights_physical_fragment:Ife,lights_physical_pars_fragment:Dfe,lights_fragment_begin:Ffe,lights_fragment_maps:Bfe,lights_fragment_end:Ufe,logdepthbuf_fragment:kfe,logdepthbuf_pars_fragment:zfe,logdepthbuf_pars_vertex:$fe,logdepthbuf_vertex:Hfe,map_fragment:Gfe,map_pars_fragment:Vfe,map_particle_fragment:Wfe,map_particle_pars_fragment:jfe,metalnessmap_fragment:Xfe,metalnessmap_pars_fragment:qfe,morphinstance_vertex:Yfe,morphcolor_vertex:Kfe,morphnormal_vertex:Zfe,morphtarget_pars_vertex:Qfe,morphtarget_vertex:Jfe,normal_fragment_begin:epe,normal_fragment_maps:tpe,normal_pars_fragment:npe,normal_pars_vertex:ipe,normal_vertex:rpe,normalmap_pars_fragment:spe,clearcoat_normal_fragment_begin:ope,clearcoat_normal_fragment_maps:ape,clearcoat_pars_fragment:lpe,iridescence_pars_fragment:cpe,opaque_fragment:upe,packing:hpe,premultiplied_alpha_fragment:dpe,project_vertex:fpe,dithering_fragment:ppe,dithering_pars_fragment:mpe,roughnessmap_fragment:gpe,roughnessmap_pars_fragment:vpe,shadowmap_pars_fragment:ype,shadowmap_pars_vertex:_pe,shadowmap_vertex:bpe,shadowmask_pars_fragment:xpe,skinbase_vertex:Spe,skinning_pars_vertex:Epe,skinning_vertex:wpe,skinnormal_vertex:Cpe,specularmap_fragment:Tpe,specularmap_pars_fragment:Ape,tonemapping_fragment:Rpe,tonemapping_pars_fragment:Mpe,transmission_fragment:Ope,transmission_pars_fragment:Lpe,uv_pars_fragment:Ppe,uv_pars_vertex:Npe,uv_vertex:Ipe,worldpos_vertex:Dpe,background_vert:Fpe,background_frag:Bpe,backgroundCube_vert:Upe,backgroundCube_frag:kpe,cube_vert:zpe,cube_frag:$pe,depth_vert:Hpe,depth_frag:Gpe,distanceRGBA_vert:Vpe,distanceRGBA_frag:Wpe,equirect_vert:jpe,equirect_frag:Xpe,linedashed_vert:qpe,linedashed_frag:Ype,meshbasic_vert:Kpe,meshbasic_frag:Zpe,meshlambert_vert:Qpe,meshlambert_frag:Jpe,meshmatcap_vert:eme,meshmatcap_frag:tme,meshnormal_vert:nme,meshnormal_frag:ime,meshphong_vert:rme,meshphong_frag:sme,meshphysical_vert:ome,meshphysical_frag:ame,meshtoon_vert:lme,meshtoon_frag:cme,points_vert:ume,points_frag:hme,shadow_vert:dme,shadow_frag:fme,sprite_vert:pme,sprite_frag:mme},Wn={common:{diffuse:{value:new jn(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new ar},alphaMap:{value:null},alphaMapTransform:{value:new ar},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new ar}},envmap:{envMap:{value:null},envMapRotation:{value:new ar},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new ar}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new ar}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new ar},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new ar},normalScale:{value:new rn(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new ar},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new ar}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new ar}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new ar}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new jn(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new jn(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new ar},alphaTest:{value:0},uvTransform:{value:new ar}},sprite:{diffuse:{value:new jn(16777215)},opacity:{value:1},center:{value:new rn(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new ar},alphaMap:{value:null},alphaMapTransform:{value:new ar},alphaTest:{value:0}}},fh={basic:{uniforms:rc([Wn.common,Wn.specularmap,Wn.envmap,Wn.aomap,Wn.lightmap,Wn.fog]),vertexShader:mr.meshbasic_vert,fragmentShader:mr.meshbasic_frag},lambert:{uniforms:rc([Wn.common,Wn.specularmap,Wn.envmap,Wn.aomap,Wn.lightmap,Wn.emissivemap,Wn.bumpmap,Wn.normalmap,Wn.displacementmap,Wn.fog,Wn.lights,{emissive:{value:new jn(0)}}]),vertexShader:mr.meshlambert_vert,fragmentShader:mr.meshlambert_frag},phong:{uniforms:rc([Wn.common,Wn.specularmap,Wn.envmap,Wn.aomap,Wn.lightmap,Wn.emissivemap,Wn.bumpmap,Wn.normalmap,Wn.displacementmap,Wn.fog,Wn.lights,{emissive:{value:new jn(0)},specular:{value:new jn(1118481)},shininess:{value:30}}]),vertexShader:mr.meshphong_vert,fragmentShader:mr.meshphong_frag},standard:{uniforms:rc([Wn.common,Wn.envmap,Wn.aomap,Wn.lightmap,Wn.emissivemap,Wn.bumpmap,Wn.normalmap,Wn.displacementmap,Wn.roughnessmap,Wn.metalnessmap,Wn.fog,Wn.lights,{emissive:{value:new jn(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:mr.meshphysical_vert,fragmentShader:mr.meshphysical_frag},toon:{uniforms:rc([Wn.common,Wn.aomap,Wn.lightmap,Wn.emissivemap,Wn.bumpmap,Wn.normalmap,Wn.displacementmap,Wn.gradientmap,Wn.fog,Wn.lights,{emissive:{value:new jn(0)}}]),vertexShader:mr.meshtoon_vert,fragmentShader:mr.meshtoon_frag},matcap:{uniforms:rc([Wn.common,Wn.bumpmap,Wn.normalmap,Wn.displacementmap,Wn.fog,{matcap:{value:null}}]),vertexShader:mr.meshmatcap_vert,fragmentShader:mr.meshmatcap_frag},points:{uniforms:rc([Wn.points,Wn.fog]),vertexShader:mr.points_vert,fragmentShader:mr.points_frag},dashed:{uniforms:rc([Wn.common,Wn.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:mr.linedashed_vert,fragmentShader:mr.linedashed_frag},depth:{uniforms:rc([Wn.common,Wn.displacementmap]),vertexShader:mr.depth_vert,fragmentShader:mr.depth_frag},normal:{uniforms:rc([Wn.common,Wn.bumpmap,Wn.normalmap,Wn.displacementmap,{opacity:{value:1}}]),vertexShader:mr.meshnormal_vert,fragmentShader:mr.meshnormal_frag},sprite:{uniforms:rc([Wn.sprite,Wn.fog]),vertexShader:mr.sprite_vert,fragmentShader:mr.sprite_frag},background:{uniforms:{uvTransform:{value:new ar},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:mr.background_vert,fragmentShader:mr.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1},backgroundRotation:{value:new ar}},vertexShader:mr.backgroundCube_vert,fragmentShader:mr.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:mr.cube_vert,fragmentShader:mr.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:mr.equirect_vert,fragmentShader:mr.equirect_frag},distanceRGBA:{uniforms:rc([Wn.common,Wn.displacementmap,{referencePosition:{value:new De},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:mr.distanceRGBA_vert,fragmentShader:mr.distanceRGBA_frag},shadow:{uniforms:rc([Wn.lights,Wn.fog,{color:{value:new jn(0)},opacity:{value:1}}]),vertexShader:mr.shadow_vert,fragmentShader:mr.shadow_frag}};fh.physical={uniforms:rc([fh.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new ar},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new ar},clearcoatNormalScale:{value:new rn(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new ar},dispersion:{value:0},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new ar},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new ar},sheen:{value:0},sheenColor:{value:new jn(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new ar},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new ar},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new ar},transmissionSamplerSize:{value:new rn},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new ar},attenuationDistance:{value:0},attenuationColor:{value:new jn(0)},specularColor:{value:new jn(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new ar},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new ar},anisotropyVector:{value:new rn},anisotropyMap:{value:null},anisotropyMapTransform:{value:new ar}}]),vertexShader:mr.meshphysical_vert,fragmentShader:mr.meshphysical_frag};const g1={r:0,b:0,g:0},km=new su,gme=new Wi;function vme(n,e,t,i,r,s,o){const l=new jn(0);let a=s===!0?0:1,u,m,d=null,b=0,g=null;function _(w){let T=w.isScene===!0?w.background:null;return T&&T.isTexture&&(T=(w.backgroundBlurriness>0?t:e).get(T)),T}function p(w){let T=!1;const L=_(w);L===null?c(l,a):L&&L.isColor&&(c(L,1),T=!0);const P=n.xr.getEnvironmentBlendMode();P==="additive"?i.buffers.color.setClear(0,0,0,1,o):P==="alpha-blend"&&i.buffers.color.setClear(0,0,0,0,o),(n.autoClear||T)&&(i.buffers.depth.setTest(!0),i.buffers.depth.setMask(!0),i.buffers.color.setMask(!0),n.clear(n.autoClearColor,n.autoClearDepth,n.autoClearStencil))}function v(w,T){const L=_(T);L&&(L.isCubeTexture||L.mapping===L0)?(m===void 0&&(m=new Oo(new Tg(1,1,1),new Dc({name:"BackgroundCubeMaterial",uniforms:v0(fh.backgroundCube.uniforms),vertexShader:fh.backgroundCube.vertexShader,fragmentShader:fh.backgroundCube.fragmentShader,side:hc,depthTest:!1,depthWrite:!1,fog:!1,allowOverride:!1})),m.geometry.deleteAttribute("normal"),m.geometry.deleteAttribute("uv"),m.onBeforeRender=function(P,C,I){this.matrixWorld.copyPosition(I.matrixWorld)},Object.defineProperty(m.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),r.update(m)),km.copy(T.backgroundRotation),km.x*=-1,km.y*=-1,km.z*=-1,L.isCubeTexture&&L.isRenderTargetTexture===!1&&(km.y*=-1,km.z*=-1),m.material.uniforms.envMap.value=L,m.material.uniforms.flipEnvMap.value=L.isCubeTexture&&L.isRenderTargetTexture===!1?-1:1,m.material.uniforms.backgroundBlurriness.value=T.backgroundBlurriness,m.material.uniforms.backgroundIntensity.value=T.backgroundIntensity,m.material.uniforms.backgroundRotation.value.setFromMatrix4(gme.makeRotationFromEuler(km)),m.material.toneMapped=$r.getTransfer(L.colorSpace)!==Es,(d!==L||b!==L.version||g!==n.toneMapping)&&(m.material.needsUpdate=!0,d=L,b=L.version,g=n.toneMapping),m.layers.enableAll(),w.unshift(m,m.geometry,m.material,0,0,null)):L&&L.isTexture&&(u===void 0&&(u=new Oo(new Wp(2,2),new Dc({name:"BackgroundMaterial",uniforms:v0(fh.background.uniforms),vertexShader:fh.background.vertexShader,fragmentShader:fh.background.fragmentShader,side:wf,depthTest:!1,depthWrite:!1,fog:!1,allowOverride:!1})),u.geometry.deleteAttribute("normal"),Object.defineProperty(u.material,"map",{get:function(){return this.uniforms.t2D.value}}),r.update(u)),u.material.uniforms.t2D.value=L,u.material.uniforms.backgroundIntensity.value=T.backgroundIntensity,u.material.toneMapped=$r.getTransfer(L.colorSpace)!==Es,L.matrixAutoUpdate===!0&&L.updateMatrix(),u.material.uniforms.uvTransform.value.copy(L.matrix),(d!==L||b!==L.version||g!==n.toneMapping)&&(u.material.needsUpdate=!0,d=L,b=L.version,g=n.toneMapping),u.layers.enableAll(),w.unshift(u,u.geometry,u.material,0,0,null))}function c(w,T){w.getRGB(g1,_k(n)),i.buffers.color.setClear(g1.r,g1.g,g1.b,T,o)}function x(){m!==void 0&&(m.geometry.dispose(),m.material.dispose(),m=void 0),u!==void 0&&(u.geometry.dispose(),u.material.dispose(),u=void 0)}return{getClearColor:function(){return l},setClearColor:function(w,T=1){l.set(w),a=T,c(l,a)},getClearAlpha:function(){return a},setClearAlpha:function(w){a=w,c(l,a)},render:p,addToRenderList:v,dispose:x}}function yme(n,e){const t=n.getParameter(n.MAX_VERTEX_ATTRIBS),i={},r=b(null);let s=r,o=!1;function l(R,D,G,j,k){let V=!1;const H=d(j,G,D);s!==H&&(s=H,u(s.object)),V=g(R,j,G,k),V&&_(R,j,G,k),k!==null&&e.update(k,n.ELEMENT_ARRAY_BUFFER),(V||o)&&(o=!1,T(R,D,G,j),k!==null&&n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,e.get(k).buffer))}function a(){return n.createVertexArray()}function u(R){return n.bindVertexArray(R)}function m(R){return n.deleteVertexArray(R)}function d(R,D,G){const j=G.wireframe===!0;let k=i[R.id];k===void 0&&(k={},i[R.id]=k);let V=k[D.id];V===void 0&&(V={},k[D.id]=V);let H=V[j];return H===void 0&&(H=b(a()),V[j]=H),H}function b(R){const D=[],G=[],j=[];for(let k=0;k<t;k++)D[k]=0,G[k]=0,j[k]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:D,enabledAttributes:G,attributeDivisors:j,object:R,attributes:{},index:null}}function g(R,D,G,j){const k=s.attributes,V=D.attributes;let H=0;const te=G.getAttributes();for(const ne in te)if(te[ne].location>=0){const ie=k[ne];let ce=V[ne];if(ce===void 0&&(ne==="instanceMatrix"&&R.instanceMatrix&&(ce=R.instanceMatrix),ne==="instanceColor"&&R.instanceColor&&(ce=R.instanceColor)),ie===void 0||ie.attribute!==ce||ce&&ie.data!==ce.data)return!0;H++}return s.attributesNum!==H||s.index!==j}function _(R,D,G,j){const k={},V=D.attributes;let H=0;const te=G.getAttributes();for(const ne in te)if(te[ne].location>=0){let ie=V[ne];ie===void 0&&(ne==="instanceMatrix"&&R.instanceMatrix&&(ie=R.instanceMatrix),ne==="instanceColor"&&R.instanceColor&&(ie=R.instanceColor));const ce={};ce.attribute=ie,ie&&ie.data&&(ce.data=ie.data),k[ne]=ce,H++}s.attributes=k,s.attributesNum=H,s.index=j}function p(){const R=s.newAttributes;for(let D=0,G=R.length;D<G;D++)R[D]=0}function v(R){c(R,0)}function c(R,D){const G=s.newAttributes,j=s.enabledAttributes,k=s.attributeDivisors;G[R]=1,j[R]===0&&(n.enableVertexAttribArray(R),j[R]=1),k[R]!==D&&(n.vertexAttribDivisor(R,D),k[R]=D)}function x(){const R=s.newAttributes,D=s.enabledAttributes;for(let G=0,j=D.length;G<j;G++)D[G]!==R[G]&&(n.disableVertexAttribArray(G),D[G]=0)}function w(R,D,G,j,k,V,H){H===!0?n.vertexAttribIPointer(R,D,G,k,V):n.vertexAttribPointer(R,D,G,j,k,V)}function T(R,D,G,j){p();const k=j.attributes,V=G.getAttributes(),H=D.defaultAttributeValues;for(const te in V){const ne=V[te];if(ne.location>=0){let he=k[te];if(he===void 0&&(te==="instanceMatrix"&&R.instanceMatrix&&(he=R.instanceMatrix),te==="instanceColor"&&R.instanceColor&&(he=R.instanceColor)),he!==void 0){const ie=he.normalized,ce=he.itemSize,Se=e.get(he);if(Se===void 0)continue;const Ee=Se.buffer,me=Se.type,le=Se.bytesPerElement,we=me===n.INT||me===n.UNSIGNED_INT||he.gpuType===J_;if(he.isInterleavedBufferAttribute){const Re=he.data,Fe=Re.stride,qe=he.offset;if(Re.isInstancedInterleavedBuffer){for(let ot=0;ot<ne.locationSize;ot++)c(ne.location+ot,Re.meshPerAttribute);R.isInstancedMesh!==!0&&j._maxInstanceCount===void 0&&(j._maxInstanceCount=Re.meshPerAttribute*Re.count)}else for(let ot=0;ot<ne.locationSize;ot++)v(ne.location+ot);n.bindBuffer(n.ARRAY_BUFFER,Ee);for(let ot=0;ot<ne.locationSize;ot++)w(ne.location+ot,ce/ne.locationSize,me,ie,Fe*le,(qe+ce/ne.locationSize*ot)*le,we)}else{if(he.isInstancedBufferAttribute){for(let Re=0;Re<ne.locationSize;Re++)c(ne.location+Re,he.meshPerAttribute);R.isInstancedMesh!==!0&&j._maxInstanceCount===void 0&&(j._maxInstanceCount=he.meshPerAttribute*he.count)}else for(let Re=0;Re<ne.locationSize;Re++)v(ne.location+Re);n.bindBuffer(n.ARRAY_BUFFER,Ee);for(let Re=0;Re<ne.locationSize;Re++)w(ne.location+Re,ce/ne.locationSize,me,ie,ce*le,ce/ne.locationSize*Re*le,we)}}else if(H!==void 0){const ie=H[te];if(ie!==void 0)switch(ie.length){case 2:n.vertexAttrib2fv(ne.location,ie);break;case 3:n.vertexAttrib3fv(ne.location,ie);break;case 4:n.vertexAttrib4fv(ne.location,ie);break;default:n.vertexAttrib1fv(ne.location,ie)}}}}x()}function L(){I();for(const R in i){const D=i[R];for(const G in D){const j=D[G];for(const k in j)m(j[k].object),delete j[k];delete D[G]}delete i[R]}}function P(R){if(i[R.id]===void 0)return;const D=i[R.id];for(const G in D){const j=D[G];for(const k in j)m(j[k].object),delete j[k];delete D[G]}delete i[R.id]}function C(R){for(const D in i){const G=i[D];if(G[R.id]===void 0)continue;const j=G[R.id];for(const k in j)m(j[k].object),delete j[k];delete G[R.id]}}function I(){F(),o=!0,s!==r&&(s=r,u(s.object))}function F(){r.geometry=null,r.program=null,r.wireframe=!1}return{setup:l,reset:I,resetDefaultState:F,dispose:L,releaseStatesOfGeometry:P,releaseStatesOfProgram:C,initAttributes:p,enableAttribute:v,disableUnusedAttributes:x}}function _me(n,e,t){let i;function r(u){i=u}function s(u,m){n.drawArrays(i,u,m),t.update(m,i,1)}function o(u,m,d){d!==0&&(n.drawArraysInstanced(i,u,m,d),t.update(m,i,d))}function l(u,m,d){if(d===0)return;e.get("WEBGL_multi_draw").multiDrawArraysWEBGL(i,u,0,m,0,d);let g=0;for(let _=0;_<d;_++)g+=m[_];t.update(g,i,1)}function a(u,m,d,b){if(d===0)return;const g=e.get("WEBGL_multi_draw");if(g===null)for(let _=0;_<u.length;_++)o(u[_],m[_],b[_]);else{g.multiDrawArraysInstancedWEBGL(i,u,0,m,0,b,0,d);let _=0;for(let p=0;p<d;p++)_+=m[p]*b[p];t.update(_,i,1)}}this.setMode=r,this.render=s,this.renderInstances=o,this.renderMultiDraw=l,this.renderMultiDrawInstances=a}function bme(n,e,t,i){let r;function s(){if(r!==void 0)return r;if(e.has("EXT_texture_filter_anisotropic")===!0){const C=e.get("EXT_texture_filter_anisotropic");r=n.getParameter(C.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else r=0;return r}function o(C){return!(C!==oa&&i.convert(C)!==n.getParameter(n.IMPLEMENTATION_COLOR_READ_FORMAT))}function l(C){const I=C===Ia&&(e.has("EXT_color_buffer_half_float")||e.has("EXT_color_buffer_float"));return!(C!==fc&&i.convert(C)!==n.getParameter(n.IMPLEMENTATION_COLOR_READ_TYPE)&&C!==bo&&!I)}function a(C){if(C==="highp"){if(n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.HIGH_FLOAT).precision>0&&n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.HIGH_FLOAT).precision>0)return"highp";C="mediump"}return C==="mediump"&&n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.MEDIUM_FLOAT).precision>0&&n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}let u=t.precision!==void 0?t.precision:"highp";const m=a(u);m!==u&&(console.warn("THREE.WebGLRenderer:",u,"not supported, using",m,"instead."),u=m);const d=t.logarithmicDepthBuffer===!0,b=t.reverseDepthBuffer===!0&&e.has("EXT_clip_control"),g=n.getParameter(n.MAX_TEXTURE_IMAGE_UNITS),_=n.getParameter(n.MAX_VERTEX_TEXTURE_IMAGE_UNITS),p=n.getParameter(n.MAX_TEXTURE_SIZE),v=n.getParameter(n.MAX_CUBE_MAP_TEXTURE_SIZE),c=n.getParameter(n.MAX_VERTEX_ATTRIBS),x=n.getParameter(n.MAX_VERTEX_UNIFORM_VECTORS),w=n.getParameter(n.MAX_VARYING_VECTORS),T=n.getParameter(n.MAX_FRAGMENT_UNIFORM_VECTORS),L=_>0,P=n.getParameter(n.MAX_SAMPLES);return{isWebGL2:!0,getMaxAnisotropy:s,getMaxPrecision:a,textureFormatReadable:o,textureTypeReadable:l,precision:u,logarithmicDepthBuffer:d,reverseDepthBuffer:b,maxTextures:g,maxVertexTextures:_,maxTextureSize:p,maxCubemapSize:v,maxAttributes:c,maxVertexUniforms:x,maxVaryings:w,maxFragmentUniforms:T,vertexTextures:L,maxSamples:P}}function xme(n){const e=this;let t=null,i=0,r=!1,s=!1;const o=new sf,l=new ar,a={value:null,needsUpdate:!1};this.uniform=a,this.numPlanes=0,this.numIntersection=0,this.init=function(d,b){const g=d.length!==0||b||i!==0||r;return r=b,i=d.length,g},this.beginShadows=function(){s=!0,m(null)},this.endShadows=function(){s=!1},this.setGlobalState=function(d,b){t=m(d,b,0)},this.setState=function(d,b,g){const _=d.clippingPlanes,p=d.clipIntersection,v=d.clipShadows,c=n.get(d);if(!r||_===null||_.length===0||s&&!v)s?m(null):u();else{const x=s?0:i,w=x*4;let T=c.clippingState||null;a.value=T,T=m(_,b,w,g);for(let L=0;L!==w;++L)T[L]=t[L];c.clippingState=T,this.numIntersection=p?this.numPlanes:0,this.numPlanes+=x}};function u(){a.value!==t&&(a.value=t,a.needsUpdate=i>0),e.numPlanes=i,e.numIntersection=0}function m(d,b,g,_){const p=d!==null?d.length:0;let v=null;if(p!==0){if(v=a.value,_!==!0||v===null){const c=g+p*4,x=b.matrixWorldInverse;l.getNormalMatrix(x),(v===null||v.length<c)&&(v=new Float32Array(c));for(let w=0,T=g;w!==p;++w,T+=4)o.copy(d[w]).applyMatrix4(x,l),o.normal.toArray(v,T),v[T+3]=o.constant}a.value=v,a.needsUpdate=!0}return e.numPlanes=p,e.numIntersection=0,v}}function Sme(n){let e=new WeakMap;function t(o,l){return l===u0?o.mapping=pd:l===y_&&(o.mapping=$p),o}function i(o){if(o&&o.isTexture){const l=o.mapping;if(l===u0||l===y_)if(e.has(o)){const a=e.get(o).texture;return t(a,o.mapping)}else{const a=o.image;if(a&&a.height>0){const u=new YM(a.height);return u.fromEquirectangularTexture(n,o),e.set(o,u),o.addEventListener("dispose",r),t(u.texture,o.mapping)}else return null}}return o}function r(o){const l=o.target;l.removeEventListener("dispose",r);const a=e.get(l);a!==void 0&&(e.delete(l),a.dispose())}function s(){e=new WeakMap}return{get:i,dispose:s}}const jv=4,NI=[.125,.215,.35,.446,.526,.582],Ym=20,GT=new bf,II=new jn;let VT=null,WT=0,jT=0,XT=!1;const jm=(1+Math.sqrt(5))/2,Iv=1/jm,DI=[new De(-jm,Iv,0),new De(jm,Iv,0),new De(-Iv,0,jm),new De(Iv,0,jm),new De(0,jm,-Iv),new De(0,jm,Iv),new De(-1,1,-1),new De(1,1,-1),new De(-1,1,1),new De(1,1,1)],Eme=new De;class IR{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,t=0,i=.1,r=100,s={}){const{size:o=256,position:l=Eme}=s;VT=this._renderer.getRenderTarget(),WT=this._renderer.getActiveCubeFace(),jT=this._renderer.getActiveMipmapLevel(),XT=this._renderer.xr.enabled,this._renderer.xr.enabled=!1,this._setSize(o);const a=this._allocateTargets();return a.depthBuffer=!0,this._sceneToCubeUV(e,i,r,a,l),t>0&&this._blur(a,0,0,t),this._applyPMREM(a),this._cleanup(a),a}fromEquirectangular(e,t=null){return this._fromTexture(e,t)}fromCubemap(e,t=null){return this._fromTexture(e,t)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=UI(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=BI(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(VT,WT,jT),this._renderer.xr.enabled=XT,e.scissorTest=!1,v1(e,0,0,e.width,e.height)}_fromTexture(e,t){e.mapping===pd||e.mapping===$p?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),VT=this._renderer.getRenderTarget(),WT=this._renderer.getActiveCubeFace(),jT=this._renderer.getActiveMipmapLevel(),XT=this._renderer.xr.enabled,this._renderer.xr.enabled=!1;const i=t||this._allocateTargets();return this._textureToCubeUV(e,i),this._applyPMREM(i),this._cleanup(i),i}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),t=4*this._cubeSize,i={magFilter:os,minFilter:os,generateMipmaps:!1,type:Ia,format:oa,colorSpace:Ch,depthBuffer:!1},r=FI(e,t,i);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==t){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=FI(e,t,i);const{_lodMax:s}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=wme(s)),this._blurMaterial=Cme(s,e,t)}return r}_compileMaterial(e){const t=new Oo(this._lodPlanes[0],e);this._renderer.compile(t,GT)}_sceneToCubeUV(e,t,i,r,s){const a=new na(90,1,t,i),u=[1,-1,1,1,1,1],m=[1,1,1,-1,-1,-1],d=this._renderer,b=d.autoClear,g=d.toneMapping;d.getClearColor(II),d.toneMapping=ld,d.autoClear=!1;const _=new Lf({name:"PMREM.Background",side:hc,depthWrite:!1,depthTest:!1}),p=new Oo(new Tg,_);let v=!1;const c=e.background;c?c.isColor&&(_.color.copy(c),e.background=null,v=!0):(_.color.copy(II),v=!0);for(let x=0;x<6;x++){const w=x%3;w===0?(a.up.set(0,u[x],0),a.position.set(s.x,s.y,s.z),a.lookAt(s.x+m[x],s.y,s.z)):w===1?(a.up.set(0,0,u[x]),a.position.set(s.x,s.y,s.z),a.lookAt(s.x,s.y+m[x],s.z)):(a.up.set(0,u[x],0),a.position.set(s.x,s.y,s.z),a.lookAt(s.x,s.y,s.z+m[x]));const T=this._cubeSize;v1(r,w*T,x>2?T:0,T,T),d.setRenderTarget(r),v&&d.render(p,a),d.render(e,a)}p.geometry.dispose(),p.material.dispose(),d.toneMapping=g,d.autoClear=b,e.background=c}_textureToCubeUV(e,t){const i=this._renderer,r=e.mapping===pd||e.mapping===$p;r?(this._cubemapMaterial===null&&(this._cubemapMaterial=UI()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=BI());const s=r?this._cubemapMaterial:this._equirectMaterial,o=new Oo(this._lodPlanes[0],s),l=s.uniforms;l.envMap.value=e;const a=this._cubeSize;v1(t,0,0,3*a,2*a),i.setRenderTarget(t),i.render(o,GT)}_applyPMREM(e){const t=this._renderer,i=t.autoClear;t.autoClear=!1;const r=this._lodPlanes.length;for(let s=1;s<r;s++){const o=Math.sqrt(this._sigmas[s]*this._sigmas[s]-this._sigmas[s-1]*this._sigmas[s-1]),l=DI[(r-s-1)%DI.length];this._blur(e,s-1,s,o,l)}t.autoClear=i}_blur(e,t,i,r,s){const o=this._pingPongRenderTarget;this._halfBlur(e,o,t,i,r,"latitudinal",s),this._halfBlur(o,e,i,i,r,"longitudinal",s)}_halfBlur(e,t,i,r,s,o,l){const a=this._renderer,u=this._blurMaterial;o!=="latitudinal"&&o!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const m=3,d=new Oo(this._lodPlanes[r],u),b=u.uniforms,g=this._sizeLods[i]-1,_=isFinite(s)?Math.PI/(2*g):2*Math.PI/(2*Ym-1),p=s/_,v=isFinite(s)?1+Math.floor(m*p):Ym;v>Ym&&console.warn(`sigmaRadians, ${s}, is too large and will clip, as it requested ${v} samples when the maximum is set to ${Ym}`);const c=[];let x=0;for(let C=0;C<Ym;++C){const I=C/p,F=Math.exp(-I*I/2);c.push(F),C===0?x+=F:C<v&&(x+=2*F)}for(let C=0;C<c.length;C++)c[C]=c[C]/x;b.envMap.value=e.texture,b.samples.value=v,b.weights.value=c,b.latitudinal.value=o==="latitudinal",l&&(b.poleAxis.value=l);const{_lodMax:w}=this;b.dTheta.value=_,b.mipInt.value=w-i;const T=this._sizeLods[r],L=3*T*(r>w-jv?r-w+jv:0),P=4*(this._cubeSize-T);v1(t,L,P,3*T,2*T),a.setRenderTarget(t),a.render(d,GT)}}function wme(n){const e=[],t=[],i=[];let r=n;const s=n-jv+1+NI.length;for(let o=0;o<s;o++){const l=Math.pow(2,r);t.push(l);let a=1/l;o>n-jv?a=NI[o-n+jv-1]:o===0&&(a=0),i.push(a);const u=1/(l-2),m=-u,d=1+u,b=[m,m,d,m,d,d,m,m,d,d,m,d],g=6,_=6,p=3,v=2,c=1,x=new Float32Array(p*_*g),w=new Float32Array(v*_*g),T=new Float32Array(c*_*g);for(let P=0;P<g;P++){const C=P%3*2/3-1,I=P>2?0:-1,F=[C,I,0,C+2/3,I,0,C+2/3,I+1,0,C,I,0,C+2/3,I+1,0,C,I+1,0];x.set(F,p*_*P),w.set(b,v*_*P);const R=[P,P,P,P,P,P];T.set(R,c*_*P)}const L=new hr;L.setAttribute("position",new Is(x,p)),L.setAttribute("uv",new Is(w,v)),L.setAttribute("faceIndex",new Is(T,c)),e.push(L),r>jv&&r--}return{lodPlanes:e,sizeLods:t,sigmas:i}}function FI(n,e,t){const i=new ru(n,e,t);return i.texture.mapping=L0,i.texture.name="PMREM.cubeUv",i.scissorTest=!0,i}function v1(n,e,t,i,r){n.viewport.set(e,t,i,r),n.scissor.set(e,t,i,r)}function Cme(n,e,t){const i=new Float32Array(Ym),r=new De(0,1,0);return new Dc({name:"SphericalGaussianBlur",defines:{n:Ym,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/t,CUBEUV_MAX_MIP:`${n}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:i},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:r}},vertexShader:b2(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:ad,depthTest:!1,depthWrite:!1})}function BI(){return new Dc({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:b2(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:ad,depthTest:!1,depthWrite:!1})}function UI(){return new Dc({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:b2(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:ad,depthTest:!1,depthWrite:!1})}function b2(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function Tme(n){let e=new WeakMap,t=null;function i(l){if(l&&l.isTexture){const a=l.mapping,u=a===u0||a===y_,m=a===pd||a===$p;if(u||m){let d=e.get(l);const b=d!==void 0?d.texture.pmremVersion:0;if(l.isRenderTargetTexture&&l.pmremVersion!==b)return t===null&&(t=new IR(n)),d=u?t.fromEquirectangular(l,d):t.fromCubemap(l,d),d.texture.pmremVersion=l.pmremVersion,e.set(l,d),d.texture;if(d!==void 0)return d.texture;{const g=l.image;return u&&g&&g.height>0||m&&g&&r(g)?(t===null&&(t=new IR(n)),d=u?t.fromEquirectangular(l):t.fromCubemap(l),d.texture.pmremVersion=l.pmremVersion,e.set(l,d),l.addEventListener("dispose",s),d.texture):null}}}return l}function r(l){let a=0;const u=6;for(let m=0;m<u;m++)l[m]!==void 0&&a++;return a===u}function s(l){const a=l.target;a.removeEventListener("dispose",s);const u=e.get(a);u!==void 0&&(e.delete(a),u.dispose())}function o(){e=new WeakMap,t!==null&&(t.dispose(),t=null)}return{get:i,dispose:o}}function Ame(n){const e={};function t(i){if(e[i]!==void 0)return e[i];let r;switch(i){case"WEBGL_depth_texture":r=n.getExtension("WEBGL_depth_texture")||n.getExtension("MOZ_WEBGL_depth_texture")||n.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":r=n.getExtension("EXT_texture_filter_anisotropic")||n.getExtension("MOZ_EXT_texture_filter_anisotropic")||n.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":r=n.getExtension("WEBGL_compressed_texture_s3tc")||n.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":r=n.getExtension("WEBGL_compressed_texture_pvrtc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:r=n.getExtension(i)}return e[i]=r,r}return{has:function(i){return t(i)!==null},init:function(){t("EXT_color_buffer_float"),t("WEBGL_clip_cull_distance"),t("OES_texture_float_linear"),t("EXT_color_buffer_half_float"),t("WEBGL_multisampled_render_to_texture"),t("WEBGL_render_shared_exponent")},get:function(i){const r=t(i);return r===null&&e0("THREE.WebGLRenderer: "+i+" extension not supported."),r}}}function Rme(n,e,t,i){const r={},s=new WeakMap;function o(d){const b=d.target;b.index!==null&&e.remove(b.index);for(const _ in b.attributes)e.remove(b.attributes[_]);b.removeEventListener("dispose",o),delete r[b.id];const g=s.get(b);g&&(e.remove(g),s.delete(b)),i.releaseStatesOfGeometry(b),b.isInstancedBufferGeometry===!0&&delete b._maxInstanceCount,t.memory.geometries--}function l(d,b){return r[b.id]===!0||(b.addEventListener("dispose",o),r[b.id]=!0,t.memory.geometries++),b}function a(d){const b=d.attributes;for(const g in b)e.update(b[g],n.ARRAY_BUFFER)}function u(d){const b=[],g=d.index,_=d.attributes.position;let p=0;if(g!==null){const x=g.array;p=g.version;for(let w=0,T=x.length;w<T;w+=3){const L=x[w+0],P=x[w+1],C=x[w+2];b.push(L,P,P,C,C,L)}}else if(_!==void 0){const x=_.array;p=_.version;for(let w=0,T=x.length/3-1;w<T;w+=3){const L=w+0,P=w+1,C=w+2;b.push(L,P,P,C,C,L)}}else return;const v=new(mk(b)?qM:XM)(b,1);v.version=p;const c=s.get(d);c&&e.remove(c),s.set(d,v)}function m(d){const b=s.get(d);if(b){const g=d.index;g!==null&&b.version<g.version&&u(d)}else u(d);return s.get(d)}return{get:l,update:a,getWireframeAttribute:m}}function Mme(n,e,t){let i;function r(b){i=b}let s,o;function l(b){s=b.type,o=b.bytesPerElement}function a(b,g){n.drawElements(i,g,s,b*o),t.update(g,i,1)}function u(b,g,_){_!==0&&(n.drawElementsInstanced(i,g,s,b*o,_),t.update(g,i,_))}function m(b,g,_){if(_===0)return;e.get("WEBGL_multi_draw").multiDrawElementsWEBGL(i,g,0,s,b,0,_);let v=0;for(let c=0;c<_;c++)v+=g[c];t.update(v,i,1)}function d(b,g,_,p){if(_===0)return;const v=e.get("WEBGL_multi_draw");if(v===null)for(let c=0;c<b.length;c++)u(b[c]/o,g[c],p[c]);else{v.multiDrawElementsInstancedWEBGL(i,g,0,s,b,0,p,0,_);let c=0;for(let x=0;x<_;x++)c+=g[x]*p[x];t.update(c,i,1)}}this.setMode=r,this.setIndex=l,this.render=a,this.renderInstances=u,this.renderMultiDraw=m,this.renderMultiDrawInstances=d}function Ome(n){const e={geometries:0,textures:0},t={frame:0,calls:0,triangles:0,points:0,lines:0};function i(s,o,l){switch(t.calls++,o){case n.TRIANGLES:t.triangles+=l*(s/3);break;case n.LINES:t.lines+=l*(s/2);break;case n.LINE_STRIP:t.lines+=l*(s-1);break;case n.LINE_LOOP:t.lines+=l*s;break;case n.POINTS:t.points+=l*s;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",o);break}}function r(){t.calls=0,t.triangles=0,t.points=0,t.lines=0}return{memory:e,render:t,programs:null,autoReset:!0,reset:r,update:i}}function Lme(n,e,t){const i=new WeakMap,r=new Kr;function s(o,l,a){const u=o.morphTargetInfluences,m=l.morphAttributes.position||l.morphAttributes.normal||l.morphAttributes.color,d=m!==void 0?m.length:0;let b=i.get(l);if(b===void 0||b.count!==d){let R=function(){I.dispose(),i.delete(l),l.removeEventListener("dispose",R)};var g=R;b!==void 0&&b.texture.dispose();const _=l.morphAttributes.position!==void 0,p=l.morphAttributes.normal!==void 0,v=l.morphAttributes.color!==void 0,c=l.morphAttributes.position||[],x=l.morphAttributes.normal||[],w=l.morphAttributes.color||[];let T=0;_===!0&&(T=1),p===!0&&(T=2),v===!0&&(T=3);let L=l.attributes.position.count*T,P=1;L>e.maxTextureSize&&(P=Math.ceil(L/e.maxTextureSize),L=e.maxTextureSize);const C=new Float32Array(L*P*4*d),I=new GE(C,L,P,d);I.type=bo,I.needsUpdate=!0;const F=T*4;for(let D=0;D<d;D++){const G=c[D],j=x[D],k=w[D],V=L*P*4*D;for(let H=0;H<G.count;H++){const te=H*F;_===!0&&(r.fromBufferAttribute(G,H),C[V+te+0]=r.x,C[V+te+1]=r.y,C[V+te+2]=r.z,C[V+te+3]=0),p===!0&&(r.fromBufferAttribute(j,H),C[V+te+4]=r.x,C[V+te+5]=r.y,C[V+te+6]=r.z,C[V+te+7]=0),v===!0&&(r.fromBufferAttribute(k,H),C[V+te+8]=r.x,C[V+te+9]=r.y,C[V+te+10]=r.z,C[V+te+11]=k.itemSize===4?r.w:1)}}b={count:d,texture:I,size:new rn(L,P)},i.set(l,b),l.addEventListener("dispose",R)}if(o.isInstancedMesh===!0&&o.morphTexture!==null)a.getUniforms().setValue(n,"morphTexture",o.morphTexture,t);else{let _=0;for(let v=0;v<u.length;v++)_+=u[v];const p=l.morphTargetsRelative?1:1-_;a.getUniforms().setValue(n,"morphTargetBaseInfluence",p),a.getUniforms().setValue(n,"morphTargetInfluences",u)}a.getUniforms().setValue(n,"morphTargetsTexture",b.texture,t),a.getUniforms().setValue(n,"morphTargetsTextureSize",b.size)}return{update:s}}function Pme(n,e,t,i){let r=new WeakMap;function s(a){const u=i.render.frame,m=a.geometry,d=e.get(a,m);if(r.get(d)!==u&&(e.update(d),r.set(d,u)),a.isInstancedMesh&&(a.hasEventListener("dispose",l)===!1&&a.addEventListener("dispose",l),r.get(a)!==u&&(t.update(a.instanceMatrix,n.ARRAY_BUFFER),a.instanceColor!==null&&t.update(a.instanceColor,n.ARRAY_BUFFER),r.set(a,u))),a.isSkinnedMesh){const b=a.skeleton;r.get(b)!==u&&(b.update(),r.set(b,u))}return d}function o(){r=new WeakMap}function l(a){const u=a.target;u.removeEventListener("dispose",l),t.remove(u.instanceMatrix),u.instanceColor!==null&&t.remove(u.instanceColor)}return{update:s,dispose:o}}const b5=new ps,kI=new QE(1,1),x5=new GE,S5=new VE,E5=new nb,zI=[],$I=[],HI=new Float32Array(16),GI=new Float32Array(9),VI=new Float32Array(4);function N0(n,e,t){const i=n[0];if(i<=0||i>0)return n;const r=e*t;let s=zI[r];if(s===void 0&&(s=new Float32Array(r),zI[r]=s),e!==0){i.toArray(s,0);for(let o=1,l=0;o!==e;++o)l+=t,n[o].toArray(s,l)}return s}function Fa(n,e){if(n.length!==e.length)return!1;for(let t=0,i=n.length;t<i;t++)if(n[t]!==e[t])return!1;return!0}function Ba(n,e){for(let t=0,i=e.length;t<i;t++)n[t]=e[t]}function pw(n,e){let t=$I[e];t===void 0&&(t=new Int32Array(e),$I[e]=t);for(let i=0;i!==e;++i)t[i]=n.allocateTextureUnit();return t}function Nme(n,e){const t=this.cache;t[0]!==e&&(n.uniform1f(this.addr,e),t[0]=e)}function Ime(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2f(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(Fa(t,e))return;n.uniform2fv(this.addr,e),Ba(t,e)}}function Dme(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3f(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else if(e.r!==void 0)(t[0]!==e.r||t[1]!==e.g||t[2]!==e.b)&&(n.uniform3f(this.addr,e.r,e.g,e.b),t[0]=e.r,t[1]=e.g,t[2]=e.b);else{if(Fa(t,e))return;n.uniform3fv(this.addr,e),Ba(t,e)}}function Fme(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4f(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(Fa(t,e))return;n.uniform4fv(this.addr,e),Ba(t,e)}}function Bme(n,e){const t=this.cache,i=e.elements;if(i===void 0){if(Fa(t,e))return;n.uniformMatrix2fv(this.addr,!1,e),Ba(t,e)}else{if(Fa(t,i))return;VI.set(i),n.uniformMatrix2fv(this.addr,!1,VI),Ba(t,i)}}function Ume(n,e){const t=this.cache,i=e.elements;if(i===void 0){if(Fa(t,e))return;n.uniformMatrix3fv(this.addr,!1,e),Ba(t,e)}else{if(Fa(t,i))return;GI.set(i),n.uniformMatrix3fv(this.addr,!1,GI),Ba(t,i)}}function kme(n,e){const t=this.cache,i=e.elements;if(i===void 0){if(Fa(t,e))return;n.uniformMatrix4fv(this.addr,!1,e),Ba(t,e)}else{if(Fa(t,i))return;HI.set(i),n.uniformMatrix4fv(this.addr,!1,HI),Ba(t,i)}}function zme(n,e){const t=this.cache;t[0]!==e&&(n.uniform1i(this.addr,e),t[0]=e)}function $me(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2i(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(Fa(t,e))return;n.uniform2iv(this.addr,e),Ba(t,e)}}function Hme(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3i(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(Fa(t,e))return;n.uniform3iv(this.addr,e),Ba(t,e)}}function Gme(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4i(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(Fa(t,e))return;n.uniform4iv(this.addr,e),Ba(t,e)}}function Vme(n,e){const t=this.cache;t[0]!==e&&(n.uniform1ui(this.addr,e),t[0]=e)}function Wme(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2ui(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(Fa(t,e))return;n.uniform2uiv(this.addr,e),Ba(t,e)}}function jme(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3ui(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(Fa(t,e))return;n.uniform3uiv(this.addr,e),Ba(t,e)}}function Xme(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4ui(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(Fa(t,e))return;n.uniform4uiv(this.addr,e),Ba(t,e)}}function qme(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r);let s;this.type===n.SAMPLER_2D_SHADOW?(kI.compareFunction=VM,s=kI):s=b5,t.setTexture2D(e||s,r)}function Yme(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),t.setTexture3D(e||S5,r)}function Kme(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),t.setTextureCube(e||E5,r)}function Zme(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),t.setTexture2DArray(e||x5,r)}function Qme(n){switch(n){case 5126:return Nme;case 35664:return Ime;case 35665:return Dme;case 35666:return Fme;case 35674:return Bme;case 35675:return Ume;case 35676:return kme;case 5124:case 35670:return zme;case 35667:case 35671:return $me;case 35668:case 35672:return Hme;case 35669:case 35673:return Gme;case 5125:return Vme;case 36294:return Wme;case 36295:return jme;case 36296:return Xme;case 35678:case 36198:case 36298:case 36306:case 35682:return qme;case 35679:case 36299:case 36307:return Yme;case 35680:case 36300:case 36308:case 36293:return Kme;case 36289:case 36303:case 36311:case 36292:return Zme}}function Jme(n,e){n.uniform1fv(this.addr,e)}function ege(n,e){const t=N0(e,this.size,2);n.uniform2fv(this.addr,t)}function tge(n,e){const t=N0(e,this.size,3);n.uniform3fv(this.addr,t)}function nge(n,e){const t=N0(e,this.size,4);n.uniform4fv(this.addr,t)}function ige(n,e){const t=N0(e,this.size,4);n.uniformMatrix2fv(this.addr,!1,t)}function rge(n,e){const t=N0(e,this.size,9);n.uniformMatrix3fv(this.addr,!1,t)}function sge(n,e){const t=N0(e,this.size,16);n.uniformMatrix4fv(this.addr,!1,t)}function oge(n,e){n.uniform1iv(this.addr,e)}function age(n,e){n.uniform2iv(this.addr,e)}function lge(n,e){n.uniform3iv(this.addr,e)}function cge(n,e){n.uniform4iv(this.addr,e)}function uge(n,e){n.uniform1uiv(this.addr,e)}function hge(n,e){n.uniform2uiv(this.addr,e)}function dge(n,e){n.uniform3uiv(this.addr,e)}function fge(n,e){n.uniform4uiv(this.addr,e)}function pge(n,e,t){const i=this.cache,r=e.length,s=pw(t,r);Fa(i,s)||(n.uniform1iv(this.addr,s),Ba(i,s));for(let o=0;o!==r;++o)t.setTexture2D(e[o]||b5,s[o])}function mge(n,e,t){const i=this.cache,r=e.length,s=pw(t,r);Fa(i,s)||(n.uniform1iv(this.addr,s),Ba(i,s));for(let o=0;o!==r;++o)t.setTexture3D(e[o]||S5,s[o])}function gge(n,e,t){const i=this.cache,r=e.length,s=pw(t,r);Fa(i,s)||(n.uniform1iv(this.addr,s),Ba(i,s));for(let o=0;o!==r;++o)t.setTextureCube(e[o]||E5,s[o])}function vge(n,e,t){const i=this.cache,r=e.length,s=pw(t,r);Fa(i,s)||(n.uniform1iv(this.addr,s),Ba(i,s));for(let o=0;o!==r;++o)t.setTexture2DArray(e[o]||x5,s[o])}function yge(n){switch(n){case 5126:return Jme;case 35664:return ege;case 35665:return tge;case 35666:return nge;case 35674:return ige;case 35675:return rge;case 35676:return sge;case 5124:case 35670:return oge;case 35667:case 35671:return age;case 35668:case 35672:return lge;case 35669:case 35673:return cge;case 5125:return uge;case 36294:return hge;case 36295:return dge;case 36296:return fge;case 35678:case 36198:case 36298:case 36306:case 35682:return pge;case 35679:case 36299:case 36307:return mge;case 35680:case 36300:case 36308:case 36293:return gge;case 36289:case 36303:case 36311:case 36292:return vge}}class _ge{constructor(e,t,i){this.id=e,this.addr=i,this.cache=[],this.type=t.type,this.setValue=Qme(t.type)}}class bge{constructor(e,t,i){this.id=e,this.addr=i,this.cache=[],this.type=t.type,this.size=t.size,this.setValue=yge(t.type)}}class xge{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,t,i){const r=this.seq;for(let s=0,o=r.length;s!==o;++s){const l=r[s];l.setValue(e,t[l.id],i)}}}const qT=/(\w+)(\])?(\[|\.)?/g;function WI(n,e){n.seq.push(e),n.map[e.id]=e}function Sge(n,e,t){const i=n.name,r=i.length;for(qT.lastIndex=0;;){const s=qT.exec(i),o=qT.lastIndex;let l=s[1];const a=s[2]==="]",u=s[3];if(a&&(l=l|0),u===void 0||u==="["&&o+2===r){WI(t,u===void 0?new _ge(l,n,e):new bge(l,n,e));break}else{let d=t.map[l];d===void 0&&(d=new xge(l),WI(t,d)),t=d}}}class F1{constructor(e,t){this.seq=[],this.map={};const i=e.getProgramParameter(t,e.ACTIVE_UNIFORMS);for(let r=0;r<i;++r){const s=e.getActiveUniform(t,r),o=e.getUniformLocation(t,s.name);Sge(s,o,this)}}setValue(e,t,i,r){const s=this.map[t];s!==void 0&&s.setValue(e,i,r)}setOptional(e,t,i){const r=t[i];r!==void 0&&this.setValue(e,i,r)}static upload(e,t,i,r){for(let s=0,o=t.length;s!==o;++s){const l=t[s],a=i[l.id];a.needsUpdate!==!1&&l.setValue(e,a.value,r)}}static seqWithValue(e,t){const i=[];for(let r=0,s=e.length;r!==s;++r){const o=e[r];o.id in t&&i.push(o)}return i}}function jI(n,e,t){const i=n.createShader(e);return n.shaderSource(i,t),n.compileShader(i),i}const Ege=37297;let wge=0;function Cge(n,e){const t=n.split(`
`),i=[],r=Math.max(e-6,0),s=Math.min(e+6,t.length);for(let o=r;o<s;o++){const l=o+1;i.push(`${l===e?">":" "} ${l}: ${t[o]}`)}return i.join(`
`)}const XI=new ar;function Tge(n){$r._getMatrix(XI,$r.workingColorSpace,n);const e=`mat3( ${XI.elements.map(t=>t.toFixed(4))} )`;switch($r.getTransfer(n)){case E_:return[e,"LinearTransferOETF"];case Es:return[e,"sRGBTransferOETF"];default:return console.warn("THREE.WebGLProgram: Unsupported color space: ",n),[e,"LinearTransferOETF"]}}function qI(n,e,t){const i=n.getShaderParameter(e,n.COMPILE_STATUS),r=n.getShaderInfoLog(e).trim();if(i&&r==="")return"";const s=/ERROR: 0:(\d+)/.exec(r);if(s){const o=parseInt(s[1]);return t.toUpperCase()+`

`+r+`

`+Cge(n.getShaderSource(e),o)}else return r}function Age(n,e){const t=Tge(e);return[`vec4 ${n}( vec4 value ) {`,`	return ${t[1]}( vec4( value.rgb * ${t[0]}, value.a ) );`,"}"].join(`
`)}function Rge(n,e){let t;switch(e){case DE:t="Linear";break;case YU:t="Reinhard";break;case KU:t="Cineon";break;case FM:t="ACESFilmic";break;case QU:t="AgX";break;case JU:t="Neutral";break;case ZU:t="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),t="Linear"}return"vec3 "+n+"( vec3 color ) { return "+t+"ToneMapping( color ); }"}const y1=new De;function Mge(){$r.getLuminanceCoefficients(y1);const n=y1.x.toFixed(4),e=y1.y.toFixed(4),t=y1.z.toFixed(4);return["float luminance( const in vec3 rgb ) {",`	const vec3 weights = vec3( ${n}, ${e}, ${t} );`,"	return dot( weights, rgb );","}"].join(`
`)}function Oge(n){return[n.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":"",n.extensionMultiDraw?"#extension GL_ANGLE_multi_draw : require":""].filter($y).join(`
`)}function Lge(n){const e=[];for(const t in n){const i=n[t];i!==!1&&e.push("#define "+t+" "+i)}return e.join(`
`)}function Pge(n,e){const t={},i=n.getProgramParameter(e,n.ACTIVE_ATTRIBUTES);for(let r=0;r<i;r++){const s=n.getActiveAttrib(e,r),o=s.name;let l=1;s.type===n.FLOAT_MAT2&&(l=2),s.type===n.FLOAT_MAT3&&(l=3),s.type===n.FLOAT_MAT4&&(l=4),t[o]={type:s.type,location:n.getAttribLocation(e,o),locationSize:l}}return t}function $y(n){return n!==""}function YI(n,e){const t=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return n.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,t).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function KI(n,e){return n.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const Nge=/^[ \t]*#include +<([\w\d./]+)>/gm;function DR(n){return n.replace(Nge,Dge)}const Ige=new Map;function Dge(n,e){let t=mr[e];if(t===void 0){const i=Ige.get(e);if(i!==void 0)t=mr[i],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',e,i);else throw new Error("Can not resolve #include <"+e+">")}return DR(t)}const Fge=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function ZI(n){return n.replace(Fge,Bge)}function Bge(n,e,t,i){let r="";for(let s=parseInt(e);s<parseInt(t);s++)r+=i.replace(/\[\s*i\s*\]/g,"[ "+s+" ]").replace(/UNROLLED_LOOP_INDEX/g,s);return r}function QI(n){let e=`precision ${n.precision} float;
	precision ${n.precision} int;
	precision ${n.precision} sampler2D;
	precision ${n.precision} samplerCube;
	precision ${n.precision} sampler3D;
	precision ${n.precision} sampler2DArray;
	precision ${n.precision} sampler2DShadow;
	precision ${n.precision} samplerCubeShadow;
	precision ${n.precision} sampler2DArrayShadow;
	precision ${n.precision} isampler2D;
	precision ${n.precision} isampler3D;
	precision ${n.precision} isamplerCube;
	precision ${n.precision} isampler2DArray;
	precision ${n.precision} usampler2D;
	precision ${n.precision} usampler3D;
	precision ${n.precision} usamplerCube;
	precision ${n.precision} usampler2DArray;
	`;return n.precision==="highp"?e+=`
#define HIGH_PRECISION`:n.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:n.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function Uge(n){let e="SHADOWMAP_TYPE_BASIC";return n.shadowMapType===IE?e="SHADOWMAP_TYPE_PCF":n.shadowMapType===Yy?e="SHADOWMAP_TYPE_PCF_SOFT":n.shadowMapType===hh&&(e="SHADOWMAP_TYPE_VSM"),e}function kge(n){let e="ENVMAP_TYPE_CUBE";if(n.envMap)switch(n.envMapMode){case pd:case $p:e="ENVMAP_TYPE_CUBE";break;case L0:e="ENVMAP_TYPE_CUBE_UV";break}return e}function zge(n){let e="ENVMAP_MODE_REFLECTION";if(n.envMap)switch(n.envMapMode){case $p:e="ENVMAP_MODE_REFRACTION";break}return e}function $ge(n){let e="ENVMAP_BLENDING_NONE";if(n.envMap)switch(n.combine){case Q_:e="ENVMAP_BLENDING_MULTIPLY";break;case XU:e="ENVMAP_BLENDING_MIX";break;case qU:e="ENVMAP_BLENDING_ADD";break}return e}function Hge(n){const e=n.envMapCubeUVHeight;if(e===null)return null;const t=Math.log2(e)-2,i=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,t),112)),texelHeight:i,maxMip:t}}function Gge(n,e,t,i){const r=n.getContext(),s=t.defines;let o=t.vertexShader,l=t.fragmentShader;const a=Uge(t),u=kge(t),m=zge(t),d=$ge(t),b=Hge(t),g=Oge(t),_=Lge(s),p=r.createProgram();let v,c,x=t.glslVersion?"#version "+t.glslVersion+`
`:"";t.isRawShaderMaterial?(v=["#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,_].filter($y).join(`
`),v.length>0&&(v+=`
`),c=["#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,_].filter($y).join(`
`),c.length>0&&(c+=`
`)):(v=[QI(t),"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,_,t.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",t.batching?"#define USE_BATCHING":"",t.batchingColor?"#define USE_BATCHING_COLOR":"",t.instancing?"#define USE_INSTANCING":"",t.instancingColor?"#define USE_INSTANCING_COLOR":"",t.instancingMorph?"#define USE_INSTANCING_MORPH":"",t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+m:"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.displacementMap?"#define USE_DISPLACEMENTMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.anisotropy?"#define USE_ANISOTROPY":"",t.anisotropyMap?"#define USE_ANISOTROPYMAP":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaHash?"#define USE_ALPHAHASH":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.mapUv?"#define MAP_UV "+t.mapUv:"",t.alphaMapUv?"#define ALPHAMAP_UV "+t.alphaMapUv:"",t.lightMapUv?"#define LIGHTMAP_UV "+t.lightMapUv:"",t.aoMapUv?"#define AOMAP_UV "+t.aoMapUv:"",t.emissiveMapUv?"#define EMISSIVEMAP_UV "+t.emissiveMapUv:"",t.bumpMapUv?"#define BUMPMAP_UV "+t.bumpMapUv:"",t.normalMapUv?"#define NORMALMAP_UV "+t.normalMapUv:"",t.displacementMapUv?"#define DISPLACEMENTMAP_UV "+t.displacementMapUv:"",t.metalnessMapUv?"#define METALNESSMAP_UV "+t.metalnessMapUv:"",t.roughnessMapUv?"#define ROUGHNESSMAP_UV "+t.roughnessMapUv:"",t.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+t.anisotropyMapUv:"",t.clearcoatMapUv?"#define CLEARCOATMAP_UV "+t.clearcoatMapUv:"",t.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+t.clearcoatNormalMapUv:"",t.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+t.clearcoatRoughnessMapUv:"",t.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+t.iridescenceMapUv:"",t.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+t.iridescenceThicknessMapUv:"",t.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+t.sheenColorMapUv:"",t.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+t.sheenRoughnessMapUv:"",t.specularMapUv?"#define SPECULARMAP_UV "+t.specularMapUv:"",t.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+t.specularColorMapUv:"",t.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+t.specularIntensityMapUv:"",t.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+t.transmissionMapUv:"",t.thicknessMapUv?"#define THICKNESSMAP_UV "+t.thicknessMapUv:"",t.vertexTangents&&t.flatShading===!1?"#define USE_TANGENT":"",t.vertexColors?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.flatShading?"#define FLAT_SHADED":"",t.skinning?"#define USE_SKINNING":"",t.morphTargets?"#define USE_MORPHTARGETS":"",t.morphNormals&&t.flatShading===!1?"#define USE_MORPHNORMALS":"",t.morphColors?"#define USE_MORPHCOLORS":"",t.morphTargetsCount>0?"#define MORPHTARGETS_TEXTURE_STRIDE "+t.morphTextureStride:"",t.morphTargetsCount>0?"#define MORPHTARGETS_COUNT "+t.morphTargetsCount:"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+a:"",t.sizeAttenuation?"#define USE_SIZEATTENUATION":"",t.numLightProbes>0?"#define USE_LIGHT_PROBES":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.reverseDepthBuffer?"#define USE_REVERSEDEPTHBUF":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","#ifdef USE_INSTANCING_MORPH","	uniform sampler2D morphTexture;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter($y).join(`
`),c=[QI(t),"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,_,t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.alphaToCoverage?"#define ALPHA_TO_COVERAGE":"",t.map?"#define USE_MAP":"",t.matcap?"#define USE_MATCAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+u:"",t.envMap?"#define "+m:"",t.envMap?"#define "+d:"",b?"#define CUBEUV_TEXEL_WIDTH "+b.texelWidth:"",b?"#define CUBEUV_TEXEL_HEIGHT "+b.texelHeight:"",b?"#define CUBEUV_MAX_MIP "+b.maxMip+".0":"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.anisotropy?"#define USE_ANISOTROPY":"",t.anisotropyMap?"#define USE_ANISOTROPYMAP":"",t.clearcoat?"#define USE_CLEARCOAT":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.dispersion?"#define USE_DISPERSION":"",t.iridescence?"#define USE_IRIDESCENCE":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaTest?"#define USE_ALPHATEST":"",t.alphaHash?"#define USE_ALPHAHASH":"",t.sheen?"#define USE_SHEEN":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.vertexTangents&&t.flatShading===!1?"#define USE_TANGENT":"",t.vertexColors||t.instancingColor||t.batchingColor?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.gradientMap?"#define USE_GRADIENTMAP":"",t.flatShading?"#define FLAT_SHADED":"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+a:"",t.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",t.numLightProbes>0?"#define USE_LIGHT_PROBES":"",t.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",t.decodeVideoTextureEmissive?"#define DECODE_VIDEO_TEXTURE_EMISSIVE":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.reverseDepthBuffer?"#define USE_REVERSEDEPTHBUF":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",t.toneMapping!==ld?"#define TONE_MAPPING":"",t.toneMapping!==ld?mr.tonemapping_pars_fragment:"",t.toneMapping!==ld?Rge("toneMapping",t.toneMapping):"",t.dithering?"#define DITHERING":"",t.opaque?"#define OPAQUE":"",mr.colorspace_pars_fragment,Age("linearToOutputTexel",t.outputColorSpace),Mge(),t.useDepthPacking?"#define DEPTH_PACKING "+t.depthPacking:"",`
`].filter($y).join(`
`)),o=DR(o),o=YI(o,t),o=KI(o,t),l=DR(l),l=YI(l,t),l=KI(l,t),o=ZI(o),l=ZI(l),t.isRawShaderMaterial!==!0&&(x=`#version 300 es
`,v=[g,"#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+v,c=["#define varying in",t.glslVersion===CR?"":"layout(location = 0) out highp vec4 pc_fragColor;",t.glslVersion===CR?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+c);const w=x+v+o,T=x+c+l,L=jI(r,r.VERTEX_SHADER,w),P=jI(r,r.FRAGMENT_SHADER,T);r.attachShader(p,L),r.attachShader(p,P),t.index0AttributeName!==void 0?r.bindAttribLocation(p,0,t.index0AttributeName):t.morphTargets===!0&&r.bindAttribLocation(p,0,"position"),r.linkProgram(p);function C(D){if(n.debug.checkShaderErrors){const G=r.getProgramInfoLog(p).trim(),j=r.getShaderInfoLog(L).trim(),k=r.getShaderInfoLog(P).trim();let V=!0,H=!0;if(r.getProgramParameter(p,r.LINK_STATUS)===!1)if(V=!1,typeof n.debug.onShaderError=="function")n.debug.onShaderError(r,p,L,P);else{const te=qI(r,L,"vertex"),ne=qI(r,P,"fragment");console.error("THREE.WebGLProgram: Shader Error "+r.getError()+" - VALIDATE_STATUS "+r.getProgramParameter(p,r.VALIDATE_STATUS)+`

Material Name: `+D.name+`
Material Type: `+D.type+`

Program Info Log: `+G+`
`+te+`
`+ne)}else G!==""?console.warn("THREE.WebGLProgram: Program Info Log:",G):(j===""||k==="")&&(H=!1);H&&(D.diagnostics={runnable:V,programLog:G,vertexShader:{log:j,prefix:v},fragmentShader:{log:k,prefix:c}})}r.deleteShader(L),r.deleteShader(P),I=new F1(r,p),F=Pge(r,p)}let I;this.getUniforms=function(){return I===void 0&&C(this),I};let F;this.getAttributes=function(){return F===void 0&&C(this),F};let R=t.rendererExtensionParallelShaderCompile===!1;return this.isReady=function(){return R===!1&&(R=r.getProgramParameter(p,Ege)),R},this.destroy=function(){i.releaseStatesOfProgram(this),r.deleteProgram(p),this.program=void 0},this.type=t.shaderType,this.name=t.shaderName,this.id=wge++,this.cacheKey=e,this.usedTimes=1,this.program=p,this.vertexShader=L,this.fragmentShader=P,this}let Vge=0;class Wge{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const t=e.vertexShader,i=e.fragmentShader,r=this._getShaderStage(t),s=this._getShaderStage(i),o=this._getShaderCacheForMaterial(e);return o.has(r)===!1&&(o.add(r),r.usedTimes++),o.has(s)===!1&&(o.add(s),s.usedTimes++),this}remove(e){const t=this.materialCache.get(e);for(const i of t)i.usedTimes--,i.usedTimes===0&&this.shaderCache.delete(i.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const t=this.materialCache;let i=t.get(e);return i===void 0&&(i=new Set,t.set(e,i)),i}_getShaderStage(e){const t=this.shaderCache;let i=t.get(e);return i===void 0&&(i=new jge(e),t.set(e,i)),i}}class jge{constructor(e){this.id=Vge++,this.code=e,this.usedTimes=0}}function Xge(n,e,t,i,r,s,o){const l=new g0,a=new Wge,u=new Set,m=[],d=r.logarithmicDepthBuffer,b=r.vertexTextures;let g=r.precision;const _={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function p(F){return u.add(F),F===0?"uv":`uv${F}`}function v(F,R,D,G,j){const k=G.fog,V=j.geometry,H=F.isMeshStandardMaterial?G.environment:null,te=(F.isMeshStandardMaterial?t:e).get(F.envMap||H),ne=te&&te.mapping===L0?te.image.height:null,he=_[F.type];F.precision!==null&&(g=r.getMaxPrecision(F.precision),g!==F.precision&&console.warn("THREE.WebGLProgram.getParameters:",F.precision,"not supported, using",g,"instead."));const ie=V.morphAttributes.position||V.morphAttributes.normal||V.morphAttributes.color,ce=ie!==void 0?ie.length:0;let Se=0;V.morphAttributes.position!==void 0&&(Se=1),V.morphAttributes.normal!==void 0&&(Se=2),V.morphAttributes.color!==void 0&&(Se=3);let Ee,me,le,we;if(he){const Ri=fh[he];Ee=Ri.vertexShader,me=Ri.fragmentShader}else Ee=F.vertexShader,me=F.fragmentShader,a.update(F),le=a.getVertexShaderID(F),we=a.getFragmentShaderID(F);const Re=n.getRenderTarget(),Fe=n.state.buffers.depth.getReversed(),qe=j.isInstancedMesh===!0,ot=j.isBatchedMesh===!0,dn=!!F.map,mn=!!F.matcap,pn=!!te,Ae=!!F.aoMap,Bt=!!F.lightMap,Tt=!!F.bumpMap,zt=!!F.normalMap,At=!!F.displacementMap,yn=!!F.emissiveMap,nt=!!F.metalnessMap,Nt=!!F.roughnessMap,en=F.anisotropy>0,_e=F.clearcoat>0,ue=F.dispersion>0,ze=F.iridescence>0,rt=F.sheen>0,pt=F.transmission>0,ht=en&&!!F.anisotropyMap,Yt=_e&&!!F.clearcoatMap,Qt=_e&&!!F.clearcoatNormalMap,Cn=_e&&!!F.clearcoatRoughnessMap,An=ze&&!!F.iridescenceMap,Pt=ze&&!!F.iridescenceThicknessMap,on=rt&&!!F.sheenColorMap,Pn=rt&&!!F.sheenRoughnessMap,Ge=!!F.specularMap,lt=!!F.specularColorMap,Xt=!!F.specularIntensityMap,Xe=pt&&!!F.transmissionMap,mt=pt&&!!F.thicknessMap,$t=!!F.gradientMap,gn=!!F.alphaMap,sn=F.alphaTest>0,Ut=!!F.alphaHash,_n=!!F.extensions;let Dn=ld;F.toneMapped&&(Re===null||Re.isXRRenderTarget===!0)&&(Dn=n.toneMapping);const Ai={shaderID:he,shaderType:F.type,shaderName:F.name,vertexShader:Ee,fragmentShader:me,defines:F.defines,customVertexShaderID:le,customFragmentShaderID:we,isRawShaderMaterial:F.isRawShaderMaterial===!0,glslVersion:F.glslVersion,precision:g,batching:ot,batchingColor:ot&&j._colorsTexture!==null,instancing:qe,instancingColor:qe&&j.instanceColor!==null,instancingMorph:qe&&j.morphTexture!==null,supportsVertexTextures:b,outputColorSpace:Re===null?n.outputColorSpace:Re.isXRRenderTarget===!0?Re.texture.colorSpace:Ch,alphaToCoverage:!!F.alphaToCoverage,map:dn,matcap:mn,envMap:pn,envMapMode:pn&&te.mapping,envMapCubeUVHeight:ne,aoMap:Ae,lightMap:Bt,bumpMap:Tt,normalMap:zt,displacementMap:b&&At,emissiveMap:yn,normalMapObjectSpace:zt&&F.normalMapType===ok,normalMapTangentSpace:zt&&F.normalMapType===Gp,metalnessMap:nt,roughnessMap:Nt,anisotropy:en,anisotropyMap:ht,clearcoat:_e,clearcoatMap:Yt,clearcoatNormalMap:Qt,clearcoatRoughnessMap:Cn,dispersion:ue,iridescence:ze,iridescenceMap:An,iridescenceThicknessMap:Pt,sheen:rt,sheenColorMap:on,sheenRoughnessMap:Pn,specularMap:Ge,specularColorMap:lt,specularIntensityMap:Xt,transmission:pt,transmissionMap:Xe,thicknessMap:mt,gradientMap:$t,opaque:F.transparent===!1&&F.blending===hg&&F.alphaToCoverage===!1,alphaMap:gn,alphaTest:sn,alphaHash:Ut,combine:F.combine,mapUv:dn&&p(F.map.channel),aoMapUv:Ae&&p(F.aoMap.channel),lightMapUv:Bt&&p(F.lightMap.channel),bumpMapUv:Tt&&p(F.bumpMap.channel),normalMapUv:zt&&p(F.normalMap.channel),displacementMapUv:At&&p(F.displacementMap.channel),emissiveMapUv:yn&&p(F.emissiveMap.channel),metalnessMapUv:nt&&p(F.metalnessMap.channel),roughnessMapUv:Nt&&p(F.roughnessMap.channel),anisotropyMapUv:ht&&p(F.anisotropyMap.channel),clearcoatMapUv:Yt&&p(F.clearcoatMap.channel),clearcoatNormalMapUv:Qt&&p(F.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:Cn&&p(F.clearcoatRoughnessMap.channel),iridescenceMapUv:An&&p(F.iridescenceMap.channel),iridescenceThicknessMapUv:Pt&&p(F.iridescenceThicknessMap.channel),sheenColorMapUv:on&&p(F.sheenColorMap.channel),sheenRoughnessMapUv:Pn&&p(F.sheenRoughnessMap.channel),specularMapUv:Ge&&p(F.specularMap.channel),specularColorMapUv:lt&&p(F.specularColorMap.channel),specularIntensityMapUv:Xt&&p(F.specularIntensityMap.channel),transmissionMapUv:Xe&&p(F.transmissionMap.channel),thicknessMapUv:mt&&p(F.thicknessMap.channel),alphaMapUv:gn&&p(F.alphaMap.channel),vertexTangents:!!V.attributes.tangent&&(zt||en),vertexColors:F.vertexColors,vertexAlphas:F.vertexColors===!0&&!!V.attributes.color&&V.attributes.color.itemSize===4,pointsUvs:j.isPoints===!0&&!!V.attributes.uv&&(dn||gn),fog:!!k,useFog:F.fog===!0,fogExp2:!!k&&k.isFogExp2,flatShading:F.flatShading===!0&&F.wireframe===!1,sizeAttenuation:F.sizeAttenuation===!0,logarithmicDepthBuffer:d,reverseDepthBuffer:Fe,skinning:j.isSkinnedMesh===!0,morphTargets:V.morphAttributes.position!==void 0,morphNormals:V.morphAttributes.normal!==void 0,morphColors:V.morphAttributes.color!==void 0,morphTargetsCount:ce,morphTextureStride:Se,numDirLights:R.directional.length,numPointLights:R.point.length,numSpotLights:R.spot.length,numSpotLightMaps:R.spotLightMap.length,numRectAreaLights:R.rectArea.length,numHemiLights:R.hemi.length,numDirLightShadows:R.directionalShadowMap.length,numPointLightShadows:R.pointShadowMap.length,numSpotLightShadows:R.spotShadowMap.length,numSpotLightShadowsWithMaps:R.numSpotLightShadowsWithMaps,numLightProbes:R.numLightProbes,numClippingPlanes:o.numPlanes,numClipIntersection:o.numIntersection,dithering:F.dithering,shadowMapEnabled:n.shadowMap.enabled&&D.length>0,shadowMapType:n.shadowMap.type,toneMapping:Dn,decodeVideoTexture:dn&&F.map.isVideoTexture===!0&&$r.getTransfer(F.map.colorSpace)===Es,decodeVideoTextureEmissive:yn&&F.emissiveMap.isVideoTexture===!0&&$r.getTransfer(F.emissiveMap.colorSpace)===Es,premultipliedAlpha:F.premultipliedAlpha,doubleSided:F.side===Du,flipSided:F.side===hc,useDepthPacking:F.depthPacking>=0,depthPacking:F.depthPacking||0,index0AttributeName:F.index0AttributeName,extensionClipCullDistance:_n&&F.extensions.clipCullDistance===!0&&i.has("WEBGL_clip_cull_distance"),extensionMultiDraw:(_n&&F.extensions.multiDraw===!0||ot)&&i.has("WEBGL_multi_draw"),rendererExtensionParallelShaderCompile:i.has("KHR_parallel_shader_compile"),customProgramCacheKey:F.customProgramCacheKey()};return Ai.vertexUv1s=u.has(1),Ai.vertexUv2s=u.has(2),Ai.vertexUv3s=u.has(3),u.clear(),Ai}function c(F){const R=[];if(F.shaderID?R.push(F.shaderID):(R.push(F.customVertexShaderID),R.push(F.customFragmentShaderID)),F.defines!==void 0)for(const D in F.defines)R.push(D),R.push(F.defines[D]);return F.isRawShaderMaterial===!1&&(x(R,F),w(R,F),R.push(n.outputColorSpace)),R.push(F.customProgramCacheKey),R.join()}function x(F,R){F.push(R.precision),F.push(R.outputColorSpace),F.push(R.envMapMode),F.push(R.envMapCubeUVHeight),F.push(R.mapUv),F.push(R.alphaMapUv),F.push(R.lightMapUv),F.push(R.aoMapUv),F.push(R.bumpMapUv),F.push(R.normalMapUv),F.push(R.displacementMapUv),F.push(R.emissiveMapUv),F.push(R.metalnessMapUv),F.push(R.roughnessMapUv),F.push(R.anisotropyMapUv),F.push(R.clearcoatMapUv),F.push(R.clearcoatNormalMapUv),F.push(R.clearcoatRoughnessMapUv),F.push(R.iridescenceMapUv),F.push(R.iridescenceThicknessMapUv),F.push(R.sheenColorMapUv),F.push(R.sheenRoughnessMapUv),F.push(R.specularMapUv),F.push(R.specularColorMapUv),F.push(R.specularIntensityMapUv),F.push(R.transmissionMapUv),F.push(R.thicknessMapUv),F.push(R.combine),F.push(R.fogExp2),F.push(R.sizeAttenuation),F.push(R.morphTargetsCount),F.push(R.morphAttributeCount),F.push(R.numDirLights),F.push(R.numPointLights),F.push(R.numSpotLights),F.push(R.numSpotLightMaps),F.push(R.numHemiLights),F.push(R.numRectAreaLights),F.push(R.numDirLightShadows),F.push(R.numPointLightShadows),F.push(R.numSpotLightShadows),F.push(R.numSpotLightShadowsWithMaps),F.push(R.numLightProbes),F.push(R.shadowMapType),F.push(R.toneMapping),F.push(R.numClippingPlanes),F.push(R.numClipIntersection),F.push(R.depthPacking)}function w(F,R){l.disableAll(),R.supportsVertexTextures&&l.enable(0),R.instancing&&l.enable(1),R.instancingColor&&l.enable(2),R.instancingMorph&&l.enable(3),R.matcap&&l.enable(4),R.envMap&&l.enable(5),R.normalMapObjectSpace&&l.enable(6),R.normalMapTangentSpace&&l.enable(7),R.clearcoat&&l.enable(8),R.iridescence&&l.enable(9),R.alphaTest&&l.enable(10),R.vertexColors&&l.enable(11),R.vertexAlphas&&l.enable(12),R.vertexUv1s&&l.enable(13),R.vertexUv2s&&l.enable(14),R.vertexUv3s&&l.enable(15),R.vertexTangents&&l.enable(16),R.anisotropy&&l.enable(17),R.alphaHash&&l.enable(18),R.batching&&l.enable(19),R.dispersion&&l.enable(20),R.batchingColor&&l.enable(21),R.gradientMap&&l.enable(22),F.push(l.mask),l.disableAll(),R.fog&&l.enable(0),R.useFog&&l.enable(1),R.flatShading&&l.enable(2),R.logarithmicDepthBuffer&&l.enable(3),R.reverseDepthBuffer&&l.enable(4),R.skinning&&l.enable(5),R.morphTargets&&l.enable(6),R.morphNormals&&l.enable(7),R.morphColors&&l.enable(8),R.premultipliedAlpha&&l.enable(9),R.shadowMapEnabled&&l.enable(10),R.doubleSided&&l.enable(11),R.flipSided&&l.enable(12),R.useDepthPacking&&l.enable(13),R.dithering&&l.enable(14),R.transmission&&l.enable(15),R.sheen&&l.enable(16),R.opaque&&l.enable(17),R.pointsUvs&&l.enable(18),R.decodeVideoTexture&&l.enable(19),R.decodeVideoTextureEmissive&&l.enable(20),R.alphaToCoverage&&l.enable(21),F.push(l.mask)}function T(F){const R=_[F.type];let D;if(R){const G=fh[R];D=bk.clone(G.uniforms)}else D=F.uniforms;return D}function L(F,R){let D;for(let G=0,j=m.length;G<j;G++){const k=m[G];if(k.cacheKey===R){D=k,++D.usedTimes;break}}return D===void 0&&(D=new Gge(n,R,F,s),m.push(D)),D}function P(F){if(--F.usedTimes===0){const R=m.indexOf(F);m[R]=m[m.length-1],m.pop(),F.destroy()}}function C(F){a.remove(F)}function I(){a.dispose()}return{getParameters:v,getProgramCacheKey:c,getUniforms:T,acquireProgram:L,releaseProgram:P,releaseShaderCache:C,programs:m,dispose:I}}function qge(){let n=new WeakMap;function e(o){return n.has(o)}function t(o){let l=n.get(o);return l===void 0&&(l={},n.set(o,l)),l}function i(o){n.delete(o)}function r(o,l,a){n.get(o)[l]=a}function s(){n=new WeakMap}return{has:e,get:t,remove:i,update:r,dispose:s}}function Yge(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.material.id!==e.material.id?n.material.id-e.material.id:n.z!==e.z?n.z-e.z:n.id-e.id}function JI(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.z!==e.z?e.z-n.z:n.id-e.id}function eD(){const n=[];let e=0;const t=[],i=[],r=[];function s(){e=0,t.length=0,i.length=0,r.length=0}function o(d,b,g,_,p,v){let c=n[e];return c===void 0?(c={id:d.id,object:d,geometry:b,material:g,groupOrder:_,renderOrder:d.renderOrder,z:p,group:v},n[e]=c):(c.id=d.id,c.object=d,c.geometry=b,c.material=g,c.groupOrder=_,c.renderOrder=d.renderOrder,c.z=p,c.group=v),e++,c}function l(d,b,g,_,p,v){const c=o(d,b,g,_,p,v);g.transmission>0?i.push(c):g.transparent===!0?r.push(c):t.push(c)}function a(d,b,g,_,p,v){const c=o(d,b,g,_,p,v);g.transmission>0?i.unshift(c):g.transparent===!0?r.unshift(c):t.unshift(c)}function u(d,b){t.length>1&&t.sort(d||Yge),i.length>1&&i.sort(b||JI),r.length>1&&r.sort(b||JI)}function m(){for(let d=e,b=n.length;d<b;d++){const g=n[d];if(g.id===null)break;g.id=null,g.object=null,g.geometry=null,g.material=null,g.group=null}}return{opaque:t,transmissive:i,transparent:r,init:s,push:l,unshift:a,finish:m,sort:u}}function Kge(){let n=new WeakMap;function e(i,r){const s=n.get(i);let o;return s===void 0?(o=new eD,n.set(i,[o])):r>=s.length?(o=new eD,s.push(o)):o=s[r],o}function t(){n=new WeakMap}return{get:e,dispose:t}}function Zge(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={direction:new De,color:new jn};break;case"SpotLight":t={position:new De,direction:new De,color:new jn,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":t={position:new De,color:new jn,distance:0,decay:0};break;case"HemisphereLight":t={direction:new De,skyColor:new jn,groundColor:new jn};break;case"RectAreaLight":t={color:new jn,position:new De,halfWidth:new De,halfHeight:new De};break}return n[e.id]=t,t}}}function Qge(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new rn};break;case"SpotLight":t={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new rn};break;case"PointLight":t={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new rn,shadowCameraNear:1,shadowCameraFar:1e3};break}return n[e.id]=t,t}}}let Jge=0;function eve(n,e){return(e.castShadow?2:0)-(n.castShadow?2:0)+(e.map?1:0)-(n.map?1:0)}function tve(n){const e=new Zge,t=Qge(),i={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let u=0;u<9;u++)i.probe.push(new De);const r=new De,s=new Wi,o=new Wi;function l(u){let m=0,d=0,b=0;for(let F=0;F<9;F++)i.probe[F].set(0,0,0);let g=0,_=0,p=0,v=0,c=0,x=0,w=0,T=0,L=0,P=0,C=0;u.sort(eve);for(let F=0,R=u.length;F<R;F++){const D=u[F],G=D.color,j=D.intensity,k=D.distance,V=D.shadow&&D.shadow.map?D.shadow.map.texture:null;if(D.isAmbientLight)m+=G.r*j,d+=G.g*j,b+=G.b*j;else if(D.isLightProbe){for(let H=0;H<9;H++)i.probe[H].addScaledVector(D.sh.coefficients[H],j);C++}else if(D.isDirectionalLight){const H=e.get(D);if(H.color.copy(D.color).multiplyScalar(D.intensity),D.castShadow){const te=D.shadow,ne=t.get(D);ne.shadowIntensity=te.intensity,ne.shadowBias=te.bias,ne.shadowNormalBias=te.normalBias,ne.shadowRadius=te.radius,ne.shadowMapSize=te.mapSize,i.directionalShadow[g]=ne,i.directionalShadowMap[g]=V,i.directionalShadowMatrix[g]=D.shadow.matrix,x++}i.directional[g]=H,g++}else if(D.isSpotLight){const H=e.get(D);H.position.setFromMatrixPosition(D.matrixWorld),H.color.copy(G).multiplyScalar(j),H.distance=k,H.coneCos=Math.cos(D.angle),H.penumbraCos=Math.cos(D.angle*(1-D.penumbra)),H.decay=D.decay,i.spot[p]=H;const te=D.shadow;if(D.map&&(i.spotLightMap[L]=D.map,L++,te.updateMatrices(D),D.castShadow&&P++),i.spotLightMatrix[p]=te.matrix,D.castShadow){const ne=t.get(D);ne.shadowIntensity=te.intensity,ne.shadowBias=te.bias,ne.shadowNormalBias=te.normalBias,ne.shadowRadius=te.radius,ne.shadowMapSize=te.mapSize,i.spotShadow[p]=ne,i.spotShadowMap[p]=V,T++}p++}else if(D.isRectAreaLight){const H=e.get(D);H.color.copy(G).multiplyScalar(j),H.halfWidth.set(D.width*.5,0,0),H.halfHeight.set(0,D.height*.5,0),i.rectArea[v]=H,v++}else if(D.isPointLight){const H=e.get(D);if(H.color.copy(D.color).multiplyScalar(D.intensity),H.distance=D.distance,H.decay=D.decay,D.castShadow){const te=D.shadow,ne=t.get(D);ne.shadowIntensity=te.intensity,ne.shadowBias=te.bias,ne.shadowNormalBias=te.normalBias,ne.shadowRadius=te.radius,ne.shadowMapSize=te.mapSize,ne.shadowCameraNear=te.camera.near,ne.shadowCameraFar=te.camera.far,i.pointShadow[_]=ne,i.pointShadowMap[_]=V,i.pointShadowMatrix[_]=D.shadow.matrix,w++}i.point[_]=H,_++}else if(D.isHemisphereLight){const H=e.get(D);H.skyColor.copy(D.color).multiplyScalar(j),H.groundColor.copy(D.groundColor).multiplyScalar(j),i.hemi[c]=H,c++}}v>0&&(n.has("OES_texture_float_linear")===!0?(i.rectAreaLTC1=Wn.LTC_FLOAT_1,i.rectAreaLTC2=Wn.LTC_FLOAT_2):(i.rectAreaLTC1=Wn.LTC_HALF_1,i.rectAreaLTC2=Wn.LTC_HALF_2)),i.ambient[0]=m,i.ambient[1]=d,i.ambient[2]=b;const I=i.hash;(I.directionalLength!==g||I.pointLength!==_||I.spotLength!==p||I.rectAreaLength!==v||I.hemiLength!==c||I.numDirectionalShadows!==x||I.numPointShadows!==w||I.numSpotShadows!==T||I.numSpotMaps!==L||I.numLightProbes!==C)&&(i.directional.length=g,i.spot.length=p,i.rectArea.length=v,i.point.length=_,i.hemi.length=c,i.directionalShadow.length=x,i.directionalShadowMap.length=x,i.pointShadow.length=w,i.pointShadowMap.length=w,i.spotShadow.length=T,i.spotShadowMap.length=T,i.directionalShadowMatrix.length=x,i.pointShadowMatrix.length=w,i.spotLightMatrix.length=T+L-P,i.spotLightMap.length=L,i.numSpotLightShadowsWithMaps=P,i.numLightProbes=C,I.directionalLength=g,I.pointLength=_,I.spotLength=p,I.rectAreaLength=v,I.hemiLength=c,I.numDirectionalShadows=x,I.numPointShadows=w,I.numSpotShadows=T,I.numSpotMaps=L,I.numLightProbes=C,i.version=Jge++)}function a(u,m){let d=0,b=0,g=0,_=0,p=0;const v=m.matrixWorldInverse;for(let c=0,x=u.length;c<x;c++){const w=u[c];if(w.isDirectionalLight){const T=i.directional[d];T.direction.setFromMatrixPosition(w.matrixWorld),r.setFromMatrixPosition(w.target.matrixWorld),T.direction.sub(r),T.direction.transformDirection(v),d++}else if(w.isSpotLight){const T=i.spot[g];T.position.setFromMatrixPosition(w.matrixWorld),T.position.applyMatrix4(v),T.direction.setFromMatrixPosition(w.matrixWorld),r.setFromMatrixPosition(w.target.matrixWorld),T.direction.sub(r),T.direction.transformDirection(v),g++}else if(w.isRectAreaLight){const T=i.rectArea[_];T.position.setFromMatrixPosition(w.matrixWorld),T.position.applyMatrix4(v),o.identity(),s.copy(w.matrixWorld),s.premultiply(v),o.extractRotation(s),T.halfWidth.set(w.width*.5,0,0),T.halfHeight.set(0,w.height*.5,0),T.halfWidth.applyMatrix4(o),T.halfHeight.applyMatrix4(o),_++}else if(w.isPointLight){const T=i.point[b];T.position.setFromMatrixPosition(w.matrixWorld),T.position.applyMatrix4(v),b++}else if(w.isHemisphereLight){const T=i.hemi[p];T.direction.setFromMatrixPosition(w.matrixWorld),T.direction.transformDirection(v),p++}}}return{setup:l,setupView:a,state:i}}function tD(n){const e=new tve(n),t=[],i=[];function r(m){u.camera=m,t.length=0,i.length=0}function s(m){t.push(m)}function o(m){i.push(m)}function l(){e.setup(t)}function a(m){e.setupView(t,m)}const u={lightsArray:t,shadowsArray:i,camera:null,lights:e,transmissionRenderTarget:{}};return{init:r,state:u,setupLights:l,setupLightsView:a,pushLight:s,pushShadow:o}}function nve(n){let e=new WeakMap;function t(r,s=0){const o=e.get(r);let l;return o===void 0?(l=new tD(n),e.set(r,[l])):s>=o.length?(l=new tD(n),o.push(l)):l=o[s],l}function i(){e=new WeakMap}return{get:t,dispose:i}}const ive=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,rve=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function sve(n,e,t){let i=new P0;const r=new rn,s=new rn,o=new Kr,l=new o2({depthPacking:sk}),a=new a2,u={},m=t.maxTextureSize,d={[wf]:hc,[hc]:wf,[Du]:Du},b=new Dc({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new rn},radius:{value:4}},vertexShader:ive,fragmentShader:rve}),g=b.clone();g.defines.HORIZONTAL_PASS=1;const _=new hr;_.setAttribute("position",new Is(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const p=new Oo(_,b),v=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=IE;let c=this.type;this.render=function(P,C,I){if(v.enabled===!1||v.autoUpdate===!1&&v.needsUpdate===!1||P.length===0)return;const F=n.getRenderTarget(),R=n.getActiveCubeFace(),D=n.getActiveMipmapLevel(),G=n.state;G.setBlending(ad),G.buffers.color.setClear(1,1,1,1),G.buffers.depth.setTest(!0),G.setScissorTest(!1);const j=c!==hh&&this.type===hh,k=c===hh&&this.type!==hh;for(let V=0,H=P.length;V<H;V++){const te=P[V],ne=te.shadow;if(ne===void 0){console.warn("THREE.WebGLShadowMap:",te,"has no shadow.");continue}if(ne.autoUpdate===!1&&ne.needsUpdate===!1)continue;r.copy(ne.mapSize);const he=ne.getFrameExtents();if(r.multiply(he),s.copy(ne.mapSize),(r.x>m||r.y>m)&&(r.x>m&&(s.x=Math.floor(m/he.x),r.x=s.x*he.x,ne.mapSize.x=s.x),r.y>m&&(s.y=Math.floor(m/he.y),r.y=s.y*he.y,ne.mapSize.y=s.y)),ne.map===null||j===!0||k===!0){const ce=this.type!==hh?{minFilter:ml,magFilter:ml}:{};ne.map!==null&&ne.map.dispose(),ne.map=new ru(r.x,r.y,ce),ne.map.texture.name=te.name+".shadowMap",ne.camera.updateProjectionMatrix()}n.setRenderTarget(ne.map),n.clear();const ie=ne.getViewportCount();for(let ce=0;ce<ie;ce++){const Se=ne.getViewport(ce);o.set(s.x*Se.x,s.y*Se.y,s.x*Se.z,s.y*Se.w),G.viewport(o),ne.updateMatrices(te,ce),i=ne.getFrustum(),T(C,I,ne.camera,te,this.type)}ne.isPointLightShadow!==!0&&this.type===hh&&x(ne,I),ne.needsUpdate=!1}c=this.type,v.needsUpdate=!1,n.setRenderTarget(F,R,D)};function x(P,C){const I=e.update(p);b.defines.VSM_SAMPLES!==P.blurSamples&&(b.defines.VSM_SAMPLES=P.blurSamples,g.defines.VSM_SAMPLES=P.blurSamples,b.needsUpdate=!0,g.needsUpdate=!0),P.mapPass===null&&(P.mapPass=new ru(r.x,r.y)),b.uniforms.shadow_pass.value=P.map.texture,b.uniforms.resolution.value=P.mapSize,b.uniforms.radius.value=P.radius,n.setRenderTarget(P.mapPass),n.clear(),n.renderBufferDirect(C,null,I,b,p,null),g.uniforms.shadow_pass.value=P.mapPass.texture,g.uniforms.resolution.value=P.mapSize,g.uniforms.radius.value=P.radius,n.setRenderTarget(P.map),n.clear(),n.renderBufferDirect(C,null,I,g,p,null)}function w(P,C,I,F){let R=null;const D=I.isPointLight===!0?P.customDistanceMaterial:P.customDepthMaterial;if(D!==void 0)R=D;else if(R=I.isPointLight===!0?a:l,n.localClippingEnabled&&C.clipShadows===!0&&Array.isArray(C.clippingPlanes)&&C.clippingPlanes.length!==0||C.displacementMap&&C.displacementScale!==0||C.alphaMap&&C.alphaTest>0||C.map&&C.alphaTest>0||C.alphaToCoverage===!0){const G=R.uuid,j=C.uuid;let k=u[G];k===void 0&&(k={},u[G]=k);let V=k[j];V===void 0&&(V=R.clone(),k[j]=V,C.addEventListener("dispose",L)),R=V}if(R.visible=C.visible,R.wireframe=C.wireframe,F===hh?R.side=C.shadowSide!==null?C.shadowSide:C.side:R.side=C.shadowSide!==null?C.shadowSide:d[C.side],R.alphaMap=C.alphaMap,R.alphaTest=C.alphaToCoverage===!0?.5:C.alphaTest,R.map=C.map,R.clipShadows=C.clipShadows,R.clippingPlanes=C.clippingPlanes,R.clipIntersection=C.clipIntersection,R.displacementMap=C.displacementMap,R.displacementScale=C.displacementScale,R.displacementBias=C.displacementBias,R.wireframeLinewidth=C.wireframeLinewidth,R.linewidth=C.linewidth,I.isPointLight===!0&&R.isMeshDistanceMaterial===!0){const G=n.properties.get(R);G.light=I}return R}function T(P,C,I,F,R){if(P.visible===!1)return;if(P.layers.test(C.layers)&&(P.isMesh||P.isLine||P.isPoints)&&(P.castShadow||P.receiveShadow&&R===hh)&&(!P.frustumCulled||i.intersectsObject(P))){P.modelViewMatrix.multiplyMatrices(I.matrixWorldInverse,P.matrixWorld);const j=e.update(P),k=P.material;if(Array.isArray(k)){const V=j.groups;for(let H=0,te=V.length;H<te;H++){const ne=V[H],he=k[ne.materialIndex];if(he&&he.visible){const ie=w(P,he,F,R);P.onBeforeShadow(n,P,C,I,j,ie,ne),n.renderBufferDirect(I,null,j,ie,P,ne),P.onAfterShadow(n,P,C,I,j,ie,ne)}}}else if(k.visible){const V=w(P,k,F,R);P.onBeforeShadow(n,P,C,I,j,V,null),n.renderBufferDirect(I,null,j,V,P,null),P.onAfterShadow(n,P,C,I,j,V,null)}}const G=P.children;for(let j=0,k=G.length;j<k;j++)T(G[j],C,I,F,R)}function L(P){P.target.removeEventListener("dispose",L);for(const I in u){const F=u[I],R=P.target.uuid;R in F&&(F[R].dispose(),delete F[R])}}}const ove={[SS]:ES,[wS]:AS,[CS]:RS,[yg]:TS,[ES]:SS,[AS]:wS,[RS]:CS,[TS]:yg};function ave(n,e){function t(){let Xe=!1;const mt=new Kr;let $t=null;const gn=new Kr(0,0,0,0);return{setMask:function(sn){$t!==sn&&!Xe&&(n.colorMask(sn,sn,sn,sn),$t=sn)},setLocked:function(sn){Xe=sn},setClear:function(sn,Ut,_n,Dn,Ai){Ai===!0&&(sn*=Dn,Ut*=Dn,_n*=Dn),mt.set(sn,Ut,_n,Dn),gn.equals(mt)===!1&&(n.clearColor(sn,Ut,_n,Dn),gn.copy(mt))},reset:function(){Xe=!1,$t=null,gn.set(-1,0,0,0)}}}function i(){let Xe=!1,mt=!1,$t=null,gn=null,sn=null;return{setReversed:function(Ut){if(mt!==Ut){const _n=e.get("EXT_clip_control");Ut?_n.clipControlEXT(_n.LOWER_LEFT_EXT,_n.ZERO_TO_ONE_EXT):_n.clipControlEXT(_n.LOWER_LEFT_EXT,_n.NEGATIVE_ONE_TO_ONE_EXT),mt=Ut;const Dn=sn;sn=null,this.setClear(Dn)}},getReversed:function(){return mt},setTest:function(Ut){Ut?Re(n.DEPTH_TEST):Fe(n.DEPTH_TEST)},setMask:function(Ut){$t!==Ut&&!Xe&&(n.depthMask(Ut),$t=Ut)},setFunc:function(Ut){if(mt&&(Ut=ove[Ut]),gn!==Ut){switch(Ut){case SS:n.depthFunc(n.NEVER);break;case ES:n.depthFunc(n.ALWAYS);break;case wS:n.depthFunc(n.LESS);break;case yg:n.depthFunc(n.LEQUAL);break;case CS:n.depthFunc(n.EQUAL);break;case TS:n.depthFunc(n.GEQUAL);break;case AS:n.depthFunc(n.GREATER);break;case RS:n.depthFunc(n.NOTEQUAL);break;default:n.depthFunc(n.LEQUAL)}gn=Ut}},setLocked:function(Ut){Xe=Ut},setClear:function(Ut){sn!==Ut&&(mt&&(Ut=1-Ut),n.clearDepth(Ut),sn=Ut)},reset:function(){Xe=!1,$t=null,gn=null,sn=null,mt=!1}}}function r(){let Xe=!1,mt=null,$t=null,gn=null,sn=null,Ut=null,_n=null,Dn=null,Ai=null;return{setTest:function(Ri){Xe||(Ri?Re(n.STENCIL_TEST):Fe(n.STENCIL_TEST))},setMask:function(Ri){mt!==Ri&&!Xe&&(n.stencilMask(Ri),mt=Ri)},setFunc:function(Ri,Ar,rr){($t!==Ri||gn!==Ar||sn!==rr)&&(n.stencilFunc(Ri,Ar,rr),$t=Ri,gn=Ar,sn=rr)},setOp:function(Ri,Ar,rr){(Ut!==Ri||_n!==Ar||Dn!==rr)&&(n.stencilOp(Ri,Ar,rr),Ut=Ri,_n=Ar,Dn=rr)},setLocked:function(Ri){Xe=Ri},setClear:function(Ri){Ai!==Ri&&(n.clearStencil(Ri),Ai=Ri)},reset:function(){Xe=!1,mt=null,$t=null,gn=null,sn=null,Ut=null,_n=null,Dn=null,Ai=null}}}const s=new t,o=new i,l=new r,a=new WeakMap,u=new WeakMap;let m={},d={},b=new WeakMap,g=[],_=null,p=!1,v=null,c=null,x=null,w=null,T=null,L=null,P=null,C=new jn(0,0,0),I=0,F=!1,R=null,D=null,G=null,j=null,k=null;const V=n.getParameter(n.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let H=!1,te=0;const ne=n.getParameter(n.VERSION);ne.indexOf("WebGL")!==-1?(te=parseFloat(/^WebGL (\d)/.exec(ne)[1]),H=te>=1):ne.indexOf("OpenGL ES")!==-1&&(te=parseFloat(/^OpenGL ES (\d)/.exec(ne)[1]),H=te>=2);let he=null,ie={};const ce=n.getParameter(n.SCISSOR_BOX),Se=n.getParameter(n.VIEWPORT),Ee=new Kr().fromArray(ce),me=new Kr().fromArray(Se);function le(Xe,mt,$t,gn){const sn=new Uint8Array(4),Ut=n.createTexture();n.bindTexture(Xe,Ut),n.texParameteri(Xe,n.TEXTURE_MIN_FILTER,n.NEAREST),n.texParameteri(Xe,n.TEXTURE_MAG_FILTER,n.NEAREST);for(let _n=0;_n<$t;_n++)Xe===n.TEXTURE_3D||Xe===n.TEXTURE_2D_ARRAY?n.texImage3D(mt,0,n.RGBA,1,1,gn,0,n.RGBA,n.UNSIGNED_BYTE,sn):n.texImage2D(mt+_n,0,n.RGBA,1,1,0,n.RGBA,n.UNSIGNED_BYTE,sn);return Ut}const we={};we[n.TEXTURE_2D]=le(n.TEXTURE_2D,n.TEXTURE_2D,1),we[n.TEXTURE_CUBE_MAP]=le(n.TEXTURE_CUBE_MAP,n.TEXTURE_CUBE_MAP_POSITIVE_X,6),we[n.TEXTURE_2D_ARRAY]=le(n.TEXTURE_2D_ARRAY,n.TEXTURE_2D_ARRAY,1,1),we[n.TEXTURE_3D]=le(n.TEXTURE_3D,n.TEXTURE_3D,1,1),s.setClear(0,0,0,1),o.setClear(1),l.setClear(0),Re(n.DEPTH_TEST),o.setFunc(yg),Tt(!1),zt(yR),Re(n.CULL_FACE),Ae(ad);function Re(Xe){m[Xe]!==!0&&(n.enable(Xe),m[Xe]=!0)}function Fe(Xe){m[Xe]!==!1&&(n.disable(Xe),m[Xe]=!1)}function qe(Xe,mt){return d[Xe]!==mt?(n.bindFramebuffer(Xe,mt),d[Xe]=mt,Xe===n.DRAW_FRAMEBUFFER&&(d[n.FRAMEBUFFER]=mt),Xe===n.FRAMEBUFFER&&(d[n.DRAW_FRAMEBUFFER]=mt),!0):!1}function ot(Xe,mt){let $t=g,gn=!1;if(Xe){$t=b.get(mt),$t===void 0&&($t=[],b.set(mt,$t));const sn=Xe.textures;if($t.length!==sn.length||$t[0]!==n.COLOR_ATTACHMENT0){for(let Ut=0,_n=sn.length;Ut<_n;Ut++)$t[Ut]=n.COLOR_ATTACHMENT0+Ut;$t.length=sn.length,gn=!0}}else $t[0]!==n.BACK&&($t[0]=n.BACK,gn=!0);gn&&n.drawBuffers($t)}function dn(Xe){return _!==Xe?(n.useProgram(Xe),_=Xe,!0):!1}const mn={[Op]:n.FUNC_ADD,[OU]:n.FUNC_SUBTRACT,[LU]:n.FUNC_REVERSE_SUBTRACT};mn[PU]=n.MIN,mn[NU]=n.MAX;const pn={[IU]:n.ZERO,[DU]:n.ONE,[FU]:n.SRC_COLOR,[bS]:n.SRC_ALPHA,[HU]:n.SRC_ALPHA_SATURATE,[zU]:n.DST_COLOR,[UU]:n.DST_ALPHA,[BU]:n.ONE_MINUS_SRC_COLOR,[xS]:n.ONE_MINUS_SRC_ALPHA,[$U]:n.ONE_MINUS_DST_COLOR,[kU]:n.ONE_MINUS_DST_ALPHA,[GU]:n.CONSTANT_COLOR,[VU]:n.ONE_MINUS_CONSTANT_COLOR,[WU]:n.CONSTANT_ALPHA,[jU]:n.ONE_MINUS_CONSTANT_ALPHA};function Ae(Xe,mt,$t,gn,sn,Ut,_n,Dn,Ai,Ri){if(Xe===ad){p===!0&&(Fe(n.BLEND),p=!1);return}if(p===!1&&(Re(n.BLEND),p=!0),Xe!==MU){if(Xe!==v||Ri!==F){if((c!==Op||T!==Op)&&(n.blendEquation(n.FUNC_ADD),c=Op,T=Op),Ri)switch(Xe){case hg:n.blendFuncSeparate(n.ONE,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA);break;case _R:n.blendFunc(n.ONE,n.ONE);break;case bR:n.blendFuncSeparate(n.ZERO,n.ONE_MINUS_SRC_COLOR,n.ZERO,n.ONE);break;case xR:n.blendFuncSeparate(n.DST_COLOR,n.ONE_MINUS_SRC_ALPHA,n.ZERO,n.ONE);break;default:console.error("THREE.WebGLState: Invalid blending: ",Xe);break}else switch(Xe){case hg:n.blendFuncSeparate(n.SRC_ALPHA,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA);break;case _R:n.blendFuncSeparate(n.SRC_ALPHA,n.ONE,n.ONE,n.ONE);break;case bR:console.error("THREE.WebGLState: SubtractiveBlending requires material.premultipliedAlpha = true");break;case xR:console.error("THREE.WebGLState: MultiplyBlending requires material.premultipliedAlpha = true");break;default:console.error("THREE.WebGLState: Invalid blending: ",Xe);break}x=null,w=null,L=null,P=null,C.set(0,0,0),I=0,v=Xe,F=Ri}return}sn=sn||mt,Ut=Ut||$t,_n=_n||gn,(mt!==c||sn!==T)&&(n.blendEquationSeparate(mn[mt],mn[sn]),c=mt,T=sn),($t!==x||gn!==w||Ut!==L||_n!==P)&&(n.blendFuncSeparate(pn[$t],pn[gn],pn[Ut],pn[_n]),x=$t,w=gn,L=Ut,P=_n),(Dn.equals(C)===!1||Ai!==I)&&(n.blendColor(Dn.r,Dn.g,Dn.b,Ai),C.copy(Dn),I=Ai),v=Xe,F=!1}function Bt(Xe,mt){Xe.side===Du?Fe(n.CULL_FACE):Re(n.CULL_FACE);let $t=Xe.side===hc;mt&&($t=!$t),Tt($t),Xe.blending===hg&&Xe.transparent===!1?Ae(ad):Ae(Xe.blending,Xe.blendEquation,Xe.blendSrc,Xe.blendDst,Xe.blendEquationAlpha,Xe.blendSrcAlpha,Xe.blendDstAlpha,Xe.blendColor,Xe.blendAlpha,Xe.premultipliedAlpha),o.setFunc(Xe.depthFunc),o.setTest(Xe.depthTest),o.setMask(Xe.depthWrite),s.setMask(Xe.colorWrite);const gn=Xe.stencilWrite;l.setTest(gn),gn&&(l.setMask(Xe.stencilWriteMask),l.setFunc(Xe.stencilFunc,Xe.stencilRef,Xe.stencilFuncMask),l.setOp(Xe.stencilFail,Xe.stencilZFail,Xe.stencilZPass)),yn(Xe.polygonOffset,Xe.polygonOffsetFactor,Xe.polygonOffsetUnits),Xe.alphaToCoverage===!0?Re(n.SAMPLE_ALPHA_TO_COVERAGE):Fe(n.SAMPLE_ALPHA_TO_COVERAGE)}function Tt(Xe){R!==Xe&&(Xe?n.frontFace(n.CW):n.frontFace(n.CCW),R=Xe)}function zt(Xe){Xe!==TU?(Re(n.CULL_FACE),Xe!==D&&(Xe===yR?n.cullFace(n.BACK):Xe===AU?n.cullFace(n.FRONT):n.cullFace(n.FRONT_AND_BACK))):Fe(n.CULL_FACE),D=Xe}function At(Xe){Xe!==G&&(H&&n.lineWidth(Xe),G=Xe)}function yn(Xe,mt,$t){Xe?(Re(n.POLYGON_OFFSET_FILL),(j!==mt||k!==$t)&&(n.polygonOffset(mt,$t),j=mt,k=$t)):Fe(n.POLYGON_OFFSET_FILL)}function nt(Xe){Xe?Re(n.SCISSOR_TEST):Fe(n.SCISSOR_TEST)}function Nt(Xe){Xe===void 0&&(Xe=n.TEXTURE0+V-1),he!==Xe&&(n.activeTexture(Xe),he=Xe)}function en(Xe,mt,$t){$t===void 0&&(he===null?$t=n.TEXTURE0+V-1:$t=he);let gn=ie[$t];gn===void 0&&(gn={type:void 0,texture:void 0},ie[$t]=gn),(gn.type!==Xe||gn.texture!==mt)&&(he!==$t&&(n.activeTexture($t),he=$t),n.bindTexture(Xe,mt||we[Xe]),gn.type=Xe,gn.texture=mt)}function _e(){const Xe=ie[he];Xe!==void 0&&Xe.type!==void 0&&(n.bindTexture(Xe.type,null),Xe.type=void 0,Xe.texture=void 0)}function ue(){try{n.compressedTexImage2D(...arguments)}catch(Xe){console.error("THREE.WebGLState:",Xe)}}function ze(){try{n.compressedTexImage3D(...arguments)}catch(Xe){console.error("THREE.WebGLState:",Xe)}}function rt(){try{n.texSubImage2D(...arguments)}catch(Xe){console.error("THREE.WebGLState:",Xe)}}function pt(){try{n.texSubImage3D(...arguments)}catch(Xe){console.error("THREE.WebGLState:",Xe)}}function ht(){try{n.compressedTexSubImage2D(...arguments)}catch(Xe){console.error("THREE.WebGLState:",Xe)}}function Yt(){try{n.compressedTexSubImage3D(...arguments)}catch(Xe){console.error("THREE.WebGLState:",Xe)}}function Qt(){try{n.texStorage2D(...arguments)}catch(Xe){console.error("THREE.WebGLState:",Xe)}}function Cn(){try{n.texStorage3D(...arguments)}catch(Xe){console.error("THREE.WebGLState:",Xe)}}function An(){try{n.texImage2D(...arguments)}catch(Xe){console.error("THREE.WebGLState:",Xe)}}function Pt(){try{n.texImage3D(...arguments)}catch(Xe){console.error("THREE.WebGLState:",Xe)}}function on(Xe){Ee.equals(Xe)===!1&&(n.scissor(Xe.x,Xe.y,Xe.z,Xe.w),Ee.copy(Xe))}function Pn(Xe){me.equals(Xe)===!1&&(n.viewport(Xe.x,Xe.y,Xe.z,Xe.w),me.copy(Xe))}function Ge(Xe,mt){let $t=u.get(mt);$t===void 0&&($t=new WeakMap,u.set(mt,$t));let gn=$t.get(Xe);gn===void 0&&(gn=n.getUniformBlockIndex(mt,Xe.name),$t.set(Xe,gn))}function lt(Xe,mt){const gn=u.get(mt).get(Xe);a.get(mt)!==gn&&(n.uniformBlockBinding(mt,gn,Xe.__bindingPointIndex),a.set(mt,gn))}function Xt(){n.disable(n.BLEND),n.disable(n.CULL_FACE),n.disable(n.DEPTH_TEST),n.disable(n.POLYGON_OFFSET_FILL),n.disable(n.SCISSOR_TEST),n.disable(n.STENCIL_TEST),n.disable(n.SAMPLE_ALPHA_TO_COVERAGE),n.blendEquation(n.FUNC_ADD),n.blendFunc(n.ONE,n.ZERO),n.blendFuncSeparate(n.ONE,n.ZERO,n.ONE,n.ZERO),n.blendColor(0,0,0,0),n.colorMask(!0,!0,!0,!0),n.clearColor(0,0,0,0),n.depthMask(!0),n.depthFunc(n.LESS),o.setReversed(!1),n.clearDepth(1),n.stencilMask(4294967295),n.stencilFunc(n.ALWAYS,0,4294967295),n.stencilOp(n.KEEP,n.KEEP,n.KEEP),n.clearStencil(0),n.cullFace(n.BACK),n.frontFace(n.CCW),n.polygonOffset(0,0),n.activeTexture(n.TEXTURE0),n.bindFramebuffer(n.FRAMEBUFFER,null),n.bindFramebuffer(n.DRAW_FRAMEBUFFER,null),n.bindFramebuffer(n.READ_FRAMEBUFFER,null),n.useProgram(null),n.lineWidth(1),n.scissor(0,0,n.canvas.width,n.canvas.height),n.viewport(0,0,n.canvas.width,n.canvas.height),m={},he=null,ie={},d={},b=new WeakMap,g=[],_=null,p=!1,v=null,c=null,x=null,w=null,T=null,L=null,P=null,C=new jn(0,0,0),I=0,F=!1,R=null,D=null,G=null,j=null,k=null,Ee.set(0,0,n.canvas.width,n.canvas.height),me.set(0,0,n.canvas.width,n.canvas.height),s.reset(),o.reset(),l.reset()}return{buffers:{color:s,depth:o,stencil:l},enable:Re,disable:Fe,bindFramebuffer:qe,drawBuffers:ot,useProgram:dn,setBlending:Ae,setMaterial:Bt,setFlipSided:Tt,setCullFace:zt,setLineWidth:At,setPolygonOffset:yn,setScissorTest:nt,activeTexture:Nt,bindTexture:en,unbindTexture:_e,compressedTexImage2D:ue,compressedTexImage3D:ze,texImage2D:An,texImage3D:Pt,updateUBOMapping:Ge,uniformBlockBinding:lt,texStorage2D:Qt,texStorage3D:Cn,texSubImage2D:rt,texSubImage3D:pt,compressedTexSubImage2D:ht,compressedTexSubImage3D:Yt,scissor:on,viewport:Pn,reset:Xt}}function lve(n,e,t,i,r,s,o){const l=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,a=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),u=new rn,m=new WeakMap;let d;const b=new WeakMap;let g=!1;try{g=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function _(_e,ue){return g?new OffscreenCanvas(_e,ue):T_("canvas")}function p(_e,ue,ze){let rt=1;const pt=en(_e);if((pt.width>ze||pt.height>ze)&&(rt=ze/Math.max(pt.width,pt.height)),rt<1)if(typeof HTMLImageElement<"u"&&_e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&_e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&_e instanceof ImageBitmap||typeof VideoFrame<"u"&&_e instanceof VideoFrame){const ht=Math.floor(rt*pt.width),Yt=Math.floor(rt*pt.height);d===void 0&&(d=_(ht,Yt));const Qt=ue?_(ht,Yt):d;return Qt.width=ht,Qt.height=Yt,Qt.getContext("2d").drawImage(_e,0,0,ht,Yt),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+pt.width+"x"+pt.height+") to ("+ht+"x"+Yt+")."),Qt}else return"data"in _e&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+pt.width+"x"+pt.height+")."),_e;return _e}function v(_e){return _e.generateMipmaps}function c(_e){n.generateMipmap(_e)}function x(_e){return _e.isWebGLCubeRenderTarget?n.TEXTURE_CUBE_MAP:_e.isWebGL3DRenderTarget?n.TEXTURE_3D:_e.isWebGLArrayRenderTarget||_e.isCompressedArrayTexture?n.TEXTURE_2D_ARRAY:n.TEXTURE_2D}function w(_e,ue,ze,rt,pt=!1){if(_e!==null){if(n[_e]!==void 0)return n[_e];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+_e+"'")}let ht=ue;if(ue===n.RED&&(ze===n.FLOAT&&(ht=n.R32F),ze===n.HALF_FLOAT&&(ht=n.R16F),ze===n.UNSIGNED_BYTE&&(ht=n.R8)),ue===n.RED_INTEGER&&(ze===n.UNSIGNED_BYTE&&(ht=n.R8UI),ze===n.UNSIGNED_SHORT&&(ht=n.R16UI),ze===n.UNSIGNED_INT&&(ht=n.R32UI),ze===n.BYTE&&(ht=n.R8I),ze===n.SHORT&&(ht=n.R16I),ze===n.INT&&(ht=n.R32I)),ue===n.RG&&(ze===n.FLOAT&&(ht=n.RG32F),ze===n.HALF_FLOAT&&(ht=n.RG16F),ze===n.UNSIGNED_BYTE&&(ht=n.RG8)),ue===n.RG_INTEGER&&(ze===n.UNSIGNED_BYTE&&(ht=n.RG8UI),ze===n.UNSIGNED_SHORT&&(ht=n.RG16UI),ze===n.UNSIGNED_INT&&(ht=n.RG32UI),ze===n.BYTE&&(ht=n.RG8I),ze===n.SHORT&&(ht=n.RG16I),ze===n.INT&&(ht=n.RG32I)),ue===n.RGB_INTEGER&&(ze===n.UNSIGNED_BYTE&&(ht=n.RGB8UI),ze===n.UNSIGNED_SHORT&&(ht=n.RGB16UI),ze===n.UNSIGNED_INT&&(ht=n.RGB32UI),ze===n.BYTE&&(ht=n.RGB8I),ze===n.SHORT&&(ht=n.RGB16I),ze===n.INT&&(ht=n.RGB32I)),ue===n.RGBA_INTEGER&&(ze===n.UNSIGNED_BYTE&&(ht=n.RGBA8UI),ze===n.UNSIGNED_SHORT&&(ht=n.RGBA16UI),ze===n.UNSIGNED_INT&&(ht=n.RGBA32UI),ze===n.BYTE&&(ht=n.RGBA8I),ze===n.SHORT&&(ht=n.RGBA16I),ze===n.INT&&(ht=n.RGBA32I)),ue===n.RGB&&ze===n.UNSIGNED_INT_5_9_9_9_REV&&(ht=n.RGB9_E5),ue===n.RGBA){const Yt=pt?E_:$r.getTransfer(rt);ze===n.FLOAT&&(ht=n.RGBA32F),ze===n.HALF_FLOAT&&(ht=n.RGBA16F),ze===n.UNSIGNED_BYTE&&(ht=Yt===Es?n.SRGB8_ALPHA8:n.RGBA8),ze===n.UNSIGNED_SHORT_4_4_4_4&&(ht=n.RGBA4),ze===n.UNSIGNED_SHORT_5_5_5_1&&(ht=n.RGB5_A1)}return(ht===n.R16F||ht===n.R32F||ht===n.RG16F||ht===n.RG32F||ht===n.RGBA16F||ht===n.RGBA32F)&&e.get("EXT_color_buffer_float"),ht}function T(_e,ue){let ze;return _e?ue===null||ue===md||ue===d0?ze=n.DEPTH24_STENCIL8:ue===bo?ze=n.DEPTH32F_STENCIL8:ue===h0&&(ze=n.DEPTH24_STENCIL8,console.warn("DepthTexture: 16 bit depth attachment is not supported with stencil. Using 24-bit attachment.")):ue===null||ue===md||ue===d0?ze=n.DEPTH_COMPONENT24:ue===bo?ze=n.DEPTH_COMPONENT32F:ue===h0&&(ze=n.DEPTH_COMPONENT16),ze}function L(_e,ue){return v(_e)===!0||_e.isFramebufferTexture&&_e.minFilter!==ml&&_e.minFilter!==os?Math.log2(Math.max(ue.width,ue.height))+1:_e.mipmaps!==void 0&&_e.mipmaps.length>0?_e.mipmaps.length:_e.isCompressedTexture&&Array.isArray(_e.image)?ue.mipmaps.length:1}function P(_e){const ue=_e.target;ue.removeEventListener("dispose",P),I(ue),ue.isVideoTexture&&m.delete(ue)}function C(_e){const ue=_e.target;ue.removeEventListener("dispose",C),R(ue)}function I(_e){const ue=i.get(_e);if(ue.__webglInit===void 0)return;const ze=_e.source,rt=b.get(ze);if(rt){const pt=rt[ue.__cacheKey];pt.usedTimes--,pt.usedTimes===0&&F(_e),Object.keys(rt).length===0&&b.delete(ze)}i.remove(_e)}function F(_e){const ue=i.get(_e);n.deleteTexture(ue.__webglTexture);const ze=_e.source,rt=b.get(ze);delete rt[ue.__cacheKey],o.memory.textures--}function R(_e){const ue=i.get(_e);if(_e.depthTexture&&(_e.depthTexture.dispose(),i.remove(_e.depthTexture)),_e.isWebGLCubeRenderTarget)for(let rt=0;rt<6;rt++){if(Array.isArray(ue.__webglFramebuffer[rt]))for(let pt=0;pt<ue.__webglFramebuffer[rt].length;pt++)n.deleteFramebuffer(ue.__webglFramebuffer[rt][pt]);else n.deleteFramebuffer(ue.__webglFramebuffer[rt]);ue.__webglDepthbuffer&&n.deleteRenderbuffer(ue.__webglDepthbuffer[rt])}else{if(Array.isArray(ue.__webglFramebuffer))for(let rt=0;rt<ue.__webglFramebuffer.length;rt++)n.deleteFramebuffer(ue.__webglFramebuffer[rt]);else n.deleteFramebuffer(ue.__webglFramebuffer);if(ue.__webglDepthbuffer&&n.deleteRenderbuffer(ue.__webglDepthbuffer),ue.__webglMultisampledFramebuffer&&n.deleteFramebuffer(ue.__webglMultisampledFramebuffer),ue.__webglColorRenderbuffer)for(let rt=0;rt<ue.__webglColorRenderbuffer.length;rt++)ue.__webglColorRenderbuffer[rt]&&n.deleteRenderbuffer(ue.__webglColorRenderbuffer[rt]);ue.__webglDepthRenderbuffer&&n.deleteRenderbuffer(ue.__webglDepthRenderbuffer)}const ze=_e.textures;for(let rt=0,pt=ze.length;rt<pt;rt++){const ht=i.get(ze[rt]);ht.__webglTexture&&(n.deleteTexture(ht.__webglTexture),o.memory.textures--),i.remove(ze[rt])}i.remove(_e)}let D=0;function G(){D=0}function j(){const _e=D;return _e>=r.maxTextures&&console.warn("THREE.WebGLTextures: Trying to use "+_e+" texture units while this GPU supports only "+r.maxTextures),D+=1,_e}function k(_e){const ue=[];return ue.push(_e.wrapS),ue.push(_e.wrapT),ue.push(_e.wrapR||0),ue.push(_e.magFilter),ue.push(_e.minFilter),ue.push(_e.anisotropy),ue.push(_e.internalFormat),ue.push(_e.format),ue.push(_e.type),ue.push(_e.generateMipmaps),ue.push(_e.premultiplyAlpha),ue.push(_e.flipY),ue.push(_e.unpackAlignment),ue.push(_e.colorSpace),ue.join()}function V(_e,ue){const ze=i.get(_e);if(_e.isVideoTexture&&nt(_e),_e.isRenderTargetTexture===!1&&_e.version>0&&ze.__version!==_e.version){const rt=_e.image;if(rt===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(rt.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{we(ze,_e,ue);return}}t.bindTexture(n.TEXTURE_2D,ze.__webglTexture,n.TEXTURE0+ue)}function H(_e,ue){const ze=i.get(_e);if(_e.version>0&&ze.__version!==_e.version){we(ze,_e,ue);return}t.bindTexture(n.TEXTURE_2D_ARRAY,ze.__webglTexture,n.TEXTURE0+ue)}function te(_e,ue){const ze=i.get(_e);if(_e.version>0&&ze.__version!==_e.version){we(ze,_e,ue);return}t.bindTexture(n.TEXTURE_3D,ze.__webglTexture,n.TEXTURE0+ue)}function ne(_e,ue){const ze=i.get(_e);if(_e.version>0&&ze.__version!==_e.version){Re(ze,_e,ue);return}t.bindTexture(n.TEXTURE_CUBE_MAP,ze.__webglTexture,n.TEXTURE0+ue)}const he={[__]:n.REPEAT,[Ea]:n.CLAMP_TO_EDGE,[b_]:n.MIRRORED_REPEAT},ie={[ml]:n.NEAREST,[BM]:n.NEAREST_MIPMAP_NEAREST,[Gv]:n.NEAREST_MIPMAP_LINEAR,[os]:n.LINEAR,[Ky]:n.LINEAR_MIPMAP_NEAREST,[rd]:n.LINEAR_MIPMAP_LINEAR},ce={[ak]:n.NEVER,[fk]:n.ALWAYS,[lk]:n.LESS,[VM]:n.LEQUAL,[ck]:n.EQUAL,[dk]:n.GEQUAL,[uk]:n.GREATER,[hk]:n.NOTEQUAL};function Se(_e,ue){if(ue.type===bo&&e.has("OES_texture_float_linear")===!1&&(ue.magFilter===os||ue.magFilter===Ky||ue.magFilter===Gv||ue.magFilter===rd||ue.minFilter===os||ue.minFilter===Ky||ue.minFilter===Gv||ue.minFilter===rd)&&console.warn("THREE.WebGLRenderer: Unable to use linear filtering with floating point textures. OES_texture_float_linear not supported on this device."),n.texParameteri(_e,n.TEXTURE_WRAP_S,he[ue.wrapS]),n.texParameteri(_e,n.TEXTURE_WRAP_T,he[ue.wrapT]),(_e===n.TEXTURE_3D||_e===n.TEXTURE_2D_ARRAY)&&n.texParameteri(_e,n.TEXTURE_WRAP_R,he[ue.wrapR]),n.texParameteri(_e,n.TEXTURE_MAG_FILTER,ie[ue.magFilter]),n.texParameteri(_e,n.TEXTURE_MIN_FILTER,ie[ue.minFilter]),ue.compareFunction&&(n.texParameteri(_e,n.TEXTURE_COMPARE_MODE,n.COMPARE_REF_TO_TEXTURE),n.texParameteri(_e,n.TEXTURE_COMPARE_FUNC,ce[ue.compareFunction])),e.has("EXT_texture_filter_anisotropic")===!0){if(ue.magFilter===ml||ue.minFilter!==Gv&&ue.minFilter!==rd||ue.type===bo&&e.has("OES_texture_float_linear")===!1)return;if(ue.anisotropy>1||i.get(ue).__currentAnisotropy){const ze=e.get("EXT_texture_filter_anisotropic");n.texParameterf(_e,ze.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(ue.anisotropy,r.getMaxAnisotropy())),i.get(ue).__currentAnisotropy=ue.anisotropy}}}function Ee(_e,ue){let ze=!1;_e.__webglInit===void 0&&(_e.__webglInit=!0,ue.addEventListener("dispose",P));const rt=ue.source;let pt=b.get(rt);pt===void 0&&(pt={},b.set(rt,pt));const ht=k(ue);if(ht!==_e.__cacheKey){pt[ht]===void 0&&(pt[ht]={texture:n.createTexture(),usedTimes:0},o.memory.textures++,ze=!0),pt[ht].usedTimes++;const Yt=pt[_e.__cacheKey];Yt!==void 0&&(pt[_e.__cacheKey].usedTimes--,Yt.usedTimes===0&&F(ue)),_e.__cacheKey=ht,_e.__webglTexture=pt[ht].texture}return ze}function me(_e,ue,ze){return Math.floor(Math.floor(_e/ze)/ue)}function le(_e,ue,ze,rt){const ht=_e.updateRanges;if(ht.length===0)t.texSubImage2D(n.TEXTURE_2D,0,0,0,ue.width,ue.height,ze,rt,ue.data);else{ht.sort((Pt,on)=>Pt.start-on.start);let Yt=0;for(let Pt=1;Pt<ht.length;Pt++){const on=ht[Yt],Pn=ht[Pt],Ge=on.start+on.count,lt=me(Pn.start,ue.width,4),Xt=me(on.start,ue.width,4);Pn.start<=Ge+1&&lt===Xt&&me(Pn.start+Pn.count-1,ue.width,4)===lt?on.count=Math.max(on.count,Pn.start+Pn.count-on.start):(++Yt,ht[Yt]=Pn)}ht.length=Yt+1;const Qt=n.getParameter(n.UNPACK_ROW_LENGTH),Cn=n.getParameter(n.UNPACK_SKIP_PIXELS),An=n.getParameter(n.UNPACK_SKIP_ROWS);n.pixelStorei(n.UNPACK_ROW_LENGTH,ue.width);for(let Pt=0,on=ht.length;Pt<on;Pt++){const Pn=ht[Pt],Ge=Math.floor(Pn.start/4),lt=Math.ceil(Pn.count/4),Xt=Ge%ue.width,Xe=Math.floor(Ge/ue.width),mt=lt,$t=1;n.pixelStorei(n.UNPACK_SKIP_PIXELS,Xt),n.pixelStorei(n.UNPACK_SKIP_ROWS,Xe),t.texSubImage2D(n.TEXTURE_2D,0,Xt,Xe,mt,$t,ze,rt,ue.data)}_e.clearUpdateRanges(),n.pixelStorei(n.UNPACK_ROW_LENGTH,Qt),n.pixelStorei(n.UNPACK_SKIP_PIXELS,Cn),n.pixelStorei(n.UNPACK_SKIP_ROWS,An)}}function we(_e,ue,ze){let rt=n.TEXTURE_2D;(ue.isDataArrayTexture||ue.isCompressedArrayTexture)&&(rt=n.TEXTURE_2D_ARRAY),ue.isData3DTexture&&(rt=n.TEXTURE_3D);const pt=Ee(_e,ue),ht=ue.source;t.bindTexture(rt,_e.__webglTexture,n.TEXTURE0+ze);const Yt=i.get(ht);if(ht.version!==Yt.__version||pt===!0){t.activeTexture(n.TEXTURE0+ze);const Qt=$r.getPrimaries($r.workingColorSpace),Cn=ue.colorSpace===uf?null:$r.getPrimaries(ue.colorSpace),An=ue.colorSpace===uf||Qt===Cn?n.NONE:n.BROWSER_DEFAULT_WEBGL;n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,ue.flipY),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,ue.premultiplyAlpha),n.pixelStorei(n.UNPACK_ALIGNMENT,ue.unpackAlignment),n.pixelStorei(n.UNPACK_COLORSPACE_CONVERSION_WEBGL,An);let Pt=p(ue.image,!1,r.maxTextureSize);Pt=Nt(ue,Pt);const on=s.convert(ue.format,ue.colorSpace),Pn=s.convert(ue.type);let Ge=w(ue.internalFormat,on,Pn,ue.colorSpace,ue.isVideoTexture);Se(rt,ue);let lt;const Xt=ue.mipmaps,Xe=ue.isVideoTexture!==!0,mt=Yt.__version===void 0||pt===!0,$t=ht.dataReady,gn=L(ue,Pt);if(ue.isDepthTexture)Ge=T(ue.format===p0,ue.type),mt&&(Xe?t.texStorage2D(n.TEXTURE_2D,1,Ge,Pt.width,Pt.height):t.texImage2D(n.TEXTURE_2D,0,Ge,Pt.width,Pt.height,0,on,Pn,null));else if(ue.isDataTexture)if(Xt.length>0){Xe&&mt&&t.texStorage2D(n.TEXTURE_2D,gn,Ge,Xt[0].width,Xt[0].height);for(let sn=0,Ut=Xt.length;sn<Ut;sn++)lt=Xt[sn],Xe?$t&&t.texSubImage2D(n.TEXTURE_2D,sn,0,0,lt.width,lt.height,on,Pn,lt.data):t.texImage2D(n.TEXTURE_2D,sn,Ge,lt.width,lt.height,0,on,Pn,lt.data);ue.generateMipmaps=!1}else Xe?(mt&&t.texStorage2D(n.TEXTURE_2D,gn,Ge,Pt.width,Pt.height),$t&&le(ue,Pt,on,Pn)):t.texImage2D(n.TEXTURE_2D,0,Ge,Pt.width,Pt.height,0,on,Pn,Pt.data);else if(ue.isCompressedTexture)if(ue.isCompressedArrayTexture){Xe&&mt&&t.texStorage3D(n.TEXTURE_2D_ARRAY,gn,Ge,Xt[0].width,Xt[0].height,Pt.depth);for(let sn=0,Ut=Xt.length;sn<Ut;sn++)if(lt=Xt[sn],ue.format!==oa)if(on!==null)if(Xe){if($t)if(ue.layerUpdates.size>0){const _n=NR(lt.width,lt.height,ue.format,ue.type);for(const Dn of ue.layerUpdates){const Ai=lt.data.subarray(Dn*_n/lt.data.BYTES_PER_ELEMENT,(Dn+1)*_n/lt.data.BYTES_PER_ELEMENT);t.compressedTexSubImage3D(n.TEXTURE_2D_ARRAY,sn,0,0,Dn,lt.width,lt.height,1,on,Ai)}ue.clearLayerUpdates()}else t.compressedTexSubImage3D(n.TEXTURE_2D_ARRAY,sn,0,0,0,lt.width,lt.height,Pt.depth,on,lt.data)}else t.compressedTexImage3D(n.TEXTURE_2D_ARRAY,sn,Ge,lt.width,lt.height,Pt.depth,0,lt.data,0,0);else console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()");else Xe?$t&&t.texSubImage3D(n.TEXTURE_2D_ARRAY,sn,0,0,0,lt.width,lt.height,Pt.depth,on,Pn,lt.data):t.texImage3D(n.TEXTURE_2D_ARRAY,sn,Ge,lt.width,lt.height,Pt.depth,0,on,Pn,lt.data)}else{Xe&&mt&&t.texStorage2D(n.TEXTURE_2D,gn,Ge,Xt[0].width,Xt[0].height);for(let sn=0,Ut=Xt.length;sn<Ut;sn++)lt=Xt[sn],ue.format!==oa?on!==null?Xe?$t&&t.compressedTexSubImage2D(n.TEXTURE_2D,sn,0,0,lt.width,lt.height,on,lt.data):t.compressedTexImage2D(n.TEXTURE_2D,sn,Ge,lt.width,lt.height,0,lt.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Xe?$t&&t.texSubImage2D(n.TEXTURE_2D,sn,0,0,lt.width,lt.height,on,Pn,lt.data):t.texImage2D(n.TEXTURE_2D,sn,Ge,lt.width,lt.height,0,on,Pn,lt.data)}else if(ue.isDataArrayTexture)if(Xe){if(mt&&t.texStorage3D(n.TEXTURE_2D_ARRAY,gn,Ge,Pt.width,Pt.height,Pt.depth),$t)if(ue.layerUpdates.size>0){const sn=NR(Pt.width,Pt.height,ue.format,ue.type);for(const Ut of ue.layerUpdates){const _n=Pt.data.subarray(Ut*sn/Pt.data.BYTES_PER_ELEMENT,(Ut+1)*sn/Pt.data.BYTES_PER_ELEMENT);t.texSubImage3D(n.TEXTURE_2D_ARRAY,0,0,0,Ut,Pt.width,Pt.height,1,on,Pn,_n)}ue.clearLayerUpdates()}else t.texSubImage3D(n.TEXTURE_2D_ARRAY,0,0,0,0,Pt.width,Pt.height,Pt.depth,on,Pn,Pt.data)}else t.texImage3D(n.TEXTURE_2D_ARRAY,0,Ge,Pt.width,Pt.height,Pt.depth,0,on,Pn,Pt.data);else if(ue.isData3DTexture)Xe?(mt&&t.texStorage3D(n.TEXTURE_3D,gn,Ge,Pt.width,Pt.height,Pt.depth),$t&&t.texSubImage3D(n.TEXTURE_3D,0,0,0,0,Pt.width,Pt.height,Pt.depth,on,Pn,Pt.data)):t.texImage3D(n.TEXTURE_3D,0,Ge,Pt.width,Pt.height,Pt.depth,0,on,Pn,Pt.data);else if(ue.isFramebufferTexture){if(mt)if(Xe)t.texStorage2D(n.TEXTURE_2D,gn,Ge,Pt.width,Pt.height);else{let sn=Pt.width,Ut=Pt.height;for(let _n=0;_n<gn;_n++)t.texImage2D(n.TEXTURE_2D,_n,Ge,sn,Ut,0,on,Pn,null),sn>>=1,Ut>>=1}}else if(Xt.length>0){if(Xe&&mt){const sn=en(Xt[0]);t.texStorage2D(n.TEXTURE_2D,gn,Ge,sn.width,sn.height)}for(let sn=0,Ut=Xt.length;sn<Ut;sn++)lt=Xt[sn],Xe?$t&&t.texSubImage2D(n.TEXTURE_2D,sn,0,0,on,Pn,lt):t.texImage2D(n.TEXTURE_2D,sn,Ge,on,Pn,lt);ue.generateMipmaps=!1}else if(Xe){if(mt){const sn=en(Pt);t.texStorage2D(n.TEXTURE_2D,gn,Ge,sn.width,sn.height)}$t&&t.texSubImage2D(n.TEXTURE_2D,0,0,0,on,Pn,Pt)}else t.texImage2D(n.TEXTURE_2D,0,Ge,on,Pn,Pt);v(ue)&&c(rt),Yt.__version=ht.version,ue.onUpdate&&ue.onUpdate(ue)}_e.__version=ue.version}function Re(_e,ue,ze){if(ue.image.length!==6)return;const rt=Ee(_e,ue),pt=ue.source;t.bindTexture(n.TEXTURE_CUBE_MAP,_e.__webglTexture,n.TEXTURE0+ze);const ht=i.get(pt);if(pt.version!==ht.__version||rt===!0){t.activeTexture(n.TEXTURE0+ze);const Yt=$r.getPrimaries($r.workingColorSpace),Qt=ue.colorSpace===uf?null:$r.getPrimaries(ue.colorSpace),Cn=ue.colorSpace===uf||Yt===Qt?n.NONE:n.BROWSER_DEFAULT_WEBGL;n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,ue.flipY),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,ue.premultiplyAlpha),n.pixelStorei(n.UNPACK_ALIGNMENT,ue.unpackAlignment),n.pixelStorei(n.UNPACK_COLORSPACE_CONVERSION_WEBGL,Cn);const An=ue.isCompressedTexture||ue.image[0].isCompressedTexture,Pt=ue.image[0]&&ue.image[0].isDataTexture,on=[];for(let Ut=0;Ut<6;Ut++)!An&&!Pt?on[Ut]=p(ue.image[Ut],!0,r.maxCubemapSize):on[Ut]=Pt?ue.image[Ut].image:ue.image[Ut],on[Ut]=Nt(ue,on[Ut]);const Pn=on[0],Ge=s.convert(ue.format,ue.colorSpace),lt=s.convert(ue.type),Xt=w(ue.internalFormat,Ge,lt,ue.colorSpace),Xe=ue.isVideoTexture!==!0,mt=ht.__version===void 0||rt===!0,$t=pt.dataReady;let gn=L(ue,Pn);Se(n.TEXTURE_CUBE_MAP,ue);let sn;if(An){Xe&&mt&&t.texStorage2D(n.TEXTURE_CUBE_MAP,gn,Xt,Pn.width,Pn.height);for(let Ut=0;Ut<6;Ut++){sn=on[Ut].mipmaps;for(let _n=0;_n<sn.length;_n++){const Dn=sn[_n];ue.format!==oa?Ge!==null?Xe?$t&&t.compressedTexSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Ut,_n,0,0,Dn.width,Dn.height,Ge,Dn.data):t.compressedTexImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Ut,_n,Xt,Dn.width,Dn.height,0,Dn.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):Xe?$t&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Ut,_n,0,0,Dn.width,Dn.height,Ge,lt,Dn.data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Ut,_n,Xt,Dn.width,Dn.height,0,Ge,lt,Dn.data)}}}else{if(sn=ue.mipmaps,Xe&&mt){sn.length>0&&gn++;const Ut=en(on[0]);t.texStorage2D(n.TEXTURE_CUBE_MAP,gn,Xt,Ut.width,Ut.height)}for(let Ut=0;Ut<6;Ut++)if(Pt){Xe?$t&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Ut,0,0,0,on[Ut].width,on[Ut].height,Ge,lt,on[Ut].data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Ut,0,Xt,on[Ut].width,on[Ut].height,0,Ge,lt,on[Ut].data);for(let _n=0;_n<sn.length;_n++){const Ai=sn[_n].image[Ut].image;Xe?$t&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Ut,_n+1,0,0,Ai.width,Ai.height,Ge,lt,Ai.data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Ut,_n+1,Xt,Ai.width,Ai.height,0,Ge,lt,Ai.data)}}else{Xe?$t&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Ut,0,0,0,Ge,lt,on[Ut]):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Ut,0,Xt,Ge,lt,on[Ut]);for(let _n=0;_n<sn.length;_n++){const Dn=sn[_n];Xe?$t&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Ut,_n+1,0,0,Ge,lt,Dn.image[Ut]):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Ut,_n+1,Xt,Ge,lt,Dn.image[Ut])}}}v(ue)&&c(n.TEXTURE_CUBE_MAP),ht.__version=pt.version,ue.onUpdate&&ue.onUpdate(ue)}_e.__version=ue.version}function Fe(_e,ue,ze,rt,pt,ht){const Yt=s.convert(ze.format,ze.colorSpace),Qt=s.convert(ze.type),Cn=w(ze.internalFormat,Yt,Qt,ze.colorSpace),An=i.get(ue),Pt=i.get(ze);if(Pt.__renderTarget=ue,!An.__hasExternalTextures){const on=Math.max(1,ue.width>>ht),Pn=Math.max(1,ue.height>>ht);pt===n.TEXTURE_3D||pt===n.TEXTURE_2D_ARRAY?t.texImage3D(pt,ht,Cn,on,Pn,ue.depth,0,Yt,Qt,null):t.texImage2D(pt,ht,Cn,on,Pn,0,Yt,Qt,null)}t.bindFramebuffer(n.FRAMEBUFFER,_e),yn(ue)?l.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,rt,pt,Pt.__webglTexture,0,At(ue)):(pt===n.TEXTURE_2D||pt>=n.TEXTURE_CUBE_MAP_POSITIVE_X&&pt<=n.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&n.framebufferTexture2D(n.FRAMEBUFFER,rt,pt,Pt.__webglTexture,ht),t.bindFramebuffer(n.FRAMEBUFFER,null)}function qe(_e,ue,ze){if(n.bindRenderbuffer(n.RENDERBUFFER,_e),ue.depthBuffer){const rt=ue.depthTexture,pt=rt&&rt.isDepthTexture?rt.type:null,ht=T(ue.stencilBuffer,pt),Yt=ue.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,Qt=At(ue);yn(ue)?l.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,Qt,ht,ue.width,ue.height):ze?n.renderbufferStorageMultisample(n.RENDERBUFFER,Qt,ht,ue.width,ue.height):n.renderbufferStorage(n.RENDERBUFFER,ht,ue.width,ue.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,Yt,n.RENDERBUFFER,_e)}else{const rt=ue.textures;for(let pt=0;pt<rt.length;pt++){const ht=rt[pt],Yt=s.convert(ht.format,ht.colorSpace),Qt=s.convert(ht.type),Cn=w(ht.internalFormat,Yt,Qt,ht.colorSpace),An=At(ue);ze&&yn(ue)===!1?n.renderbufferStorageMultisample(n.RENDERBUFFER,An,Cn,ue.width,ue.height):yn(ue)?l.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,An,Cn,ue.width,ue.height):n.renderbufferStorage(n.RENDERBUFFER,Cn,ue.width,ue.height)}}n.bindRenderbuffer(n.RENDERBUFFER,null)}function ot(_e,ue){if(ue&&ue.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(t.bindFramebuffer(n.FRAMEBUFFER,_e),!(ue.depthTexture&&ue.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");const rt=i.get(ue.depthTexture);rt.__renderTarget=ue,(!rt.__webglTexture||ue.depthTexture.image.width!==ue.width||ue.depthTexture.image.height!==ue.height)&&(ue.depthTexture.image.width=ue.width,ue.depthTexture.image.height=ue.height,ue.depthTexture.needsUpdate=!0),V(ue.depthTexture,0);const pt=rt.__webglTexture,ht=At(ue);if(ue.depthTexture.format===f0)yn(ue)?l.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,pt,0,ht):n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,pt,0);else if(ue.depthTexture.format===p0)yn(ue)?l.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.TEXTURE_2D,pt,0,ht):n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.TEXTURE_2D,pt,0);else throw new Error("Unknown depthTexture format")}function dn(_e){const ue=i.get(_e),ze=_e.isWebGLCubeRenderTarget===!0;if(ue.__boundDepthTexture!==_e.depthTexture){const rt=_e.depthTexture;if(ue.__depthDisposeCallback&&ue.__depthDisposeCallback(),rt){const pt=()=>{delete ue.__boundDepthTexture,delete ue.__depthDisposeCallback,rt.removeEventListener("dispose",pt)};rt.addEventListener("dispose",pt),ue.__depthDisposeCallback=pt}ue.__boundDepthTexture=rt}if(_e.depthTexture&&!ue.__autoAllocateDepthBuffer){if(ze)throw new Error("target.depthTexture not supported in Cube render targets");const rt=_e.texture.mipmaps;rt&&rt.length>0?ot(ue.__webglFramebuffer[0],_e):ot(ue.__webglFramebuffer,_e)}else if(ze){ue.__webglDepthbuffer=[];for(let rt=0;rt<6;rt++)if(t.bindFramebuffer(n.FRAMEBUFFER,ue.__webglFramebuffer[rt]),ue.__webglDepthbuffer[rt]===void 0)ue.__webglDepthbuffer[rt]=n.createRenderbuffer(),qe(ue.__webglDepthbuffer[rt],_e,!1);else{const pt=_e.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,ht=ue.__webglDepthbuffer[rt];n.bindRenderbuffer(n.RENDERBUFFER,ht),n.framebufferRenderbuffer(n.FRAMEBUFFER,pt,n.RENDERBUFFER,ht)}}else{const rt=_e.texture.mipmaps;if(rt&&rt.length>0?t.bindFramebuffer(n.FRAMEBUFFER,ue.__webglFramebuffer[0]):t.bindFramebuffer(n.FRAMEBUFFER,ue.__webglFramebuffer),ue.__webglDepthbuffer===void 0)ue.__webglDepthbuffer=n.createRenderbuffer(),qe(ue.__webglDepthbuffer,_e,!1);else{const pt=_e.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,ht=ue.__webglDepthbuffer;n.bindRenderbuffer(n.RENDERBUFFER,ht),n.framebufferRenderbuffer(n.FRAMEBUFFER,pt,n.RENDERBUFFER,ht)}}t.bindFramebuffer(n.FRAMEBUFFER,null)}function mn(_e,ue,ze){const rt=i.get(_e);ue!==void 0&&Fe(rt.__webglFramebuffer,_e,_e.texture,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,0),ze!==void 0&&dn(_e)}function pn(_e){const ue=_e.texture,ze=i.get(_e),rt=i.get(ue);_e.addEventListener("dispose",C);const pt=_e.textures,ht=_e.isWebGLCubeRenderTarget===!0,Yt=pt.length>1;if(Yt||(rt.__webglTexture===void 0&&(rt.__webglTexture=n.createTexture()),rt.__version=ue.version,o.memory.textures++),ht){ze.__webglFramebuffer=[];for(let Qt=0;Qt<6;Qt++)if(ue.mipmaps&&ue.mipmaps.length>0){ze.__webglFramebuffer[Qt]=[];for(let Cn=0;Cn<ue.mipmaps.length;Cn++)ze.__webglFramebuffer[Qt][Cn]=n.createFramebuffer()}else ze.__webglFramebuffer[Qt]=n.createFramebuffer()}else{if(ue.mipmaps&&ue.mipmaps.length>0){ze.__webglFramebuffer=[];for(let Qt=0;Qt<ue.mipmaps.length;Qt++)ze.__webglFramebuffer[Qt]=n.createFramebuffer()}else ze.__webglFramebuffer=n.createFramebuffer();if(Yt)for(let Qt=0,Cn=pt.length;Qt<Cn;Qt++){const An=i.get(pt[Qt]);An.__webglTexture===void 0&&(An.__webglTexture=n.createTexture(),o.memory.textures++)}if(_e.samples>0&&yn(_e)===!1){ze.__webglMultisampledFramebuffer=n.createFramebuffer(),ze.__webglColorRenderbuffer=[],t.bindFramebuffer(n.FRAMEBUFFER,ze.__webglMultisampledFramebuffer);for(let Qt=0;Qt<pt.length;Qt++){const Cn=pt[Qt];ze.__webglColorRenderbuffer[Qt]=n.createRenderbuffer(),n.bindRenderbuffer(n.RENDERBUFFER,ze.__webglColorRenderbuffer[Qt]);const An=s.convert(Cn.format,Cn.colorSpace),Pt=s.convert(Cn.type),on=w(Cn.internalFormat,An,Pt,Cn.colorSpace,_e.isXRRenderTarget===!0),Pn=At(_e);n.renderbufferStorageMultisample(n.RENDERBUFFER,Pn,on,_e.width,_e.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+Qt,n.RENDERBUFFER,ze.__webglColorRenderbuffer[Qt])}n.bindRenderbuffer(n.RENDERBUFFER,null),_e.depthBuffer&&(ze.__webglDepthRenderbuffer=n.createRenderbuffer(),qe(ze.__webglDepthRenderbuffer,_e,!0)),t.bindFramebuffer(n.FRAMEBUFFER,null)}}if(ht){t.bindTexture(n.TEXTURE_CUBE_MAP,rt.__webglTexture),Se(n.TEXTURE_CUBE_MAP,ue);for(let Qt=0;Qt<6;Qt++)if(ue.mipmaps&&ue.mipmaps.length>0)for(let Cn=0;Cn<ue.mipmaps.length;Cn++)Fe(ze.__webglFramebuffer[Qt][Cn],_e,ue,n.COLOR_ATTACHMENT0,n.TEXTURE_CUBE_MAP_POSITIVE_X+Qt,Cn);else Fe(ze.__webglFramebuffer[Qt],_e,ue,n.COLOR_ATTACHMENT0,n.TEXTURE_CUBE_MAP_POSITIVE_X+Qt,0);v(ue)&&c(n.TEXTURE_CUBE_MAP),t.unbindTexture()}else if(Yt){for(let Qt=0,Cn=pt.length;Qt<Cn;Qt++){const An=pt[Qt],Pt=i.get(An);t.bindTexture(n.TEXTURE_2D,Pt.__webglTexture),Se(n.TEXTURE_2D,An),Fe(ze.__webglFramebuffer,_e,An,n.COLOR_ATTACHMENT0+Qt,n.TEXTURE_2D,0),v(An)&&c(n.TEXTURE_2D)}t.unbindTexture()}else{let Qt=n.TEXTURE_2D;if((_e.isWebGL3DRenderTarget||_e.isWebGLArrayRenderTarget)&&(Qt=_e.isWebGL3DRenderTarget?n.TEXTURE_3D:n.TEXTURE_2D_ARRAY),t.bindTexture(Qt,rt.__webglTexture),Se(Qt,ue),ue.mipmaps&&ue.mipmaps.length>0)for(let Cn=0;Cn<ue.mipmaps.length;Cn++)Fe(ze.__webglFramebuffer[Cn],_e,ue,n.COLOR_ATTACHMENT0,Qt,Cn);else Fe(ze.__webglFramebuffer,_e,ue,n.COLOR_ATTACHMENT0,Qt,0);v(ue)&&c(Qt),t.unbindTexture()}_e.depthBuffer&&dn(_e)}function Ae(_e){const ue=_e.textures;for(let ze=0,rt=ue.length;ze<rt;ze++){const pt=ue[ze];if(v(pt)){const ht=x(_e),Yt=i.get(pt).__webglTexture;t.bindTexture(ht,Yt),c(ht),t.unbindTexture()}}}const Bt=[],Tt=[];function zt(_e){if(_e.samples>0){if(yn(_e)===!1){const ue=_e.textures,ze=_e.width,rt=_e.height;let pt=n.COLOR_BUFFER_BIT;const ht=_e.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,Yt=i.get(_e),Qt=ue.length>1;if(Qt)for(let An=0;An<ue.length;An++)t.bindFramebuffer(n.FRAMEBUFFER,Yt.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+An,n.RENDERBUFFER,null),t.bindFramebuffer(n.FRAMEBUFFER,Yt.__webglFramebuffer),n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0+An,n.TEXTURE_2D,null,0);t.bindFramebuffer(n.READ_FRAMEBUFFER,Yt.__webglMultisampledFramebuffer);const Cn=_e.texture.mipmaps;Cn&&Cn.length>0?t.bindFramebuffer(n.DRAW_FRAMEBUFFER,Yt.__webglFramebuffer[0]):t.bindFramebuffer(n.DRAW_FRAMEBUFFER,Yt.__webglFramebuffer);for(let An=0;An<ue.length;An++){if(_e.resolveDepthBuffer&&(_e.depthBuffer&&(pt|=n.DEPTH_BUFFER_BIT),_e.stencilBuffer&&_e.resolveStencilBuffer&&(pt|=n.STENCIL_BUFFER_BIT)),Qt){n.framebufferRenderbuffer(n.READ_FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.RENDERBUFFER,Yt.__webglColorRenderbuffer[An]);const Pt=i.get(ue[An]).__webglTexture;n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,Pt,0)}n.blitFramebuffer(0,0,ze,rt,0,0,ze,rt,pt,n.NEAREST),a===!0&&(Bt.length=0,Tt.length=0,Bt.push(n.COLOR_ATTACHMENT0+An),_e.depthBuffer&&_e.resolveDepthBuffer===!1&&(Bt.push(ht),Tt.push(ht),n.invalidateFramebuffer(n.DRAW_FRAMEBUFFER,Tt)),n.invalidateFramebuffer(n.READ_FRAMEBUFFER,Bt))}if(t.bindFramebuffer(n.READ_FRAMEBUFFER,null),t.bindFramebuffer(n.DRAW_FRAMEBUFFER,null),Qt)for(let An=0;An<ue.length;An++){t.bindFramebuffer(n.FRAMEBUFFER,Yt.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+An,n.RENDERBUFFER,Yt.__webglColorRenderbuffer[An]);const Pt=i.get(ue[An]).__webglTexture;t.bindFramebuffer(n.FRAMEBUFFER,Yt.__webglFramebuffer),n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0+An,n.TEXTURE_2D,Pt,0)}t.bindFramebuffer(n.DRAW_FRAMEBUFFER,Yt.__webglMultisampledFramebuffer)}else if(_e.depthBuffer&&_e.resolveDepthBuffer===!1&&a){const ue=_e.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT;n.invalidateFramebuffer(n.DRAW_FRAMEBUFFER,[ue])}}}function At(_e){return Math.min(r.maxSamples,_e.samples)}function yn(_e){const ue=i.get(_e);return _e.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&ue.__useRenderToTexture!==!1}function nt(_e){const ue=o.render.frame;m.get(_e)!==ue&&(m.set(_e,ue),_e.update())}function Nt(_e,ue){const ze=_e.colorSpace,rt=_e.format,pt=_e.type;return _e.isCompressedTexture===!0||_e.isVideoTexture===!0||ze!==Ch&&ze!==uf&&($r.getTransfer(ze)===Es?(rt!==oa||pt!==fc)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",ze)),ue}function en(_e){return typeof HTMLImageElement<"u"&&_e instanceof HTMLImageElement?(u.width=_e.naturalWidth||_e.width,u.height=_e.naturalHeight||_e.height):typeof VideoFrame<"u"&&_e instanceof VideoFrame?(u.width=_e.displayWidth,u.height=_e.displayHeight):(u.width=_e.width,u.height=_e.height),u}this.allocateTextureUnit=j,this.resetTextureUnits=G,this.setTexture2D=V,this.setTexture2DArray=H,this.setTexture3D=te,this.setTextureCube=ne,this.rebindTextures=mn,this.setupRenderTarget=pn,this.updateRenderTargetMipmap=Ae,this.updateMultisampleRenderTarget=zt,this.setupDepthRenderbuffer=dn,this.setupFrameBufferTexture=Fe,this.useMultisampledRTT=yn}function w5(n,e){function t(i,r=uf){let s;const o=$r.getTransfer(r);if(i===fc)return n.UNSIGNED_BYTE;if(i===UE)return n.UNSIGNED_SHORT_4_4_4_4;if(i===kE)return n.UNSIGNED_SHORT_5_5_5_1;if(i===UM)return n.UNSIGNED_INT_5_9_9_9_REV;if(i===FE)return n.BYTE;if(i===BE)return n.SHORT;if(i===h0)return n.UNSIGNED_SHORT;if(i===J_)return n.INT;if(i===md)return n.UNSIGNED_INT;if(i===bo)return n.FLOAT;if(i===Ia)return n.HALF_FLOAT;if(i===kM)return n.ALPHA;if(i===zM)return n.RGB;if(i===oa)return n.RGBA;if(i===f0)return n.DEPTH_COMPONENT;if(i===p0)return n.DEPTH_STENCIL;if(i===eb)return n.RED;if(i===tb)return n.RED_INTEGER;if(i===$M)return n.RG;if(i===zE)return n.RG_INTEGER;if(i===$E)return n.RGBA_INTEGER;if(i===Zy||i===Qy||i===Jy||i===e_)if(o===Es)if(s=e.get("WEBGL_compressed_texture_s3tc_srgb"),s!==null){if(i===Zy)return s.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(i===Qy)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(i===Jy)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(i===e_)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(s=e.get("WEBGL_compressed_texture_s3tc"),s!==null){if(i===Zy)return s.COMPRESSED_RGB_S3TC_DXT1_EXT;if(i===Qy)return s.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(i===Jy)return s.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(i===e_)return s.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(i===MS||i===OS||i===LS||i===PS)if(s=e.get("WEBGL_compressed_texture_pvrtc"),s!==null){if(i===MS)return s.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(i===OS)return s.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(i===LS)return s.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(i===PS)return s.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(i===NS||i===IS||i===DS)if(s=e.get("WEBGL_compressed_texture_etc"),s!==null){if(i===NS||i===IS)return o===Es?s.COMPRESSED_SRGB8_ETC2:s.COMPRESSED_RGB8_ETC2;if(i===DS)return o===Es?s.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:s.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(i===FS||i===BS||i===US||i===kS||i===zS||i===$S||i===HS||i===GS||i===VS||i===WS||i===jS||i===XS||i===qS||i===YS)if(s=e.get("WEBGL_compressed_texture_astc"),s!==null){if(i===FS)return o===Es?s.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:s.COMPRESSED_RGBA_ASTC_4x4_KHR;if(i===BS)return o===Es?s.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:s.COMPRESSED_RGBA_ASTC_5x4_KHR;if(i===US)return o===Es?s.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:s.COMPRESSED_RGBA_ASTC_5x5_KHR;if(i===kS)return o===Es?s.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:s.COMPRESSED_RGBA_ASTC_6x5_KHR;if(i===zS)return o===Es?s.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:s.COMPRESSED_RGBA_ASTC_6x6_KHR;if(i===$S)return o===Es?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:s.COMPRESSED_RGBA_ASTC_8x5_KHR;if(i===HS)return o===Es?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:s.COMPRESSED_RGBA_ASTC_8x6_KHR;if(i===GS)return o===Es?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:s.COMPRESSED_RGBA_ASTC_8x8_KHR;if(i===VS)return o===Es?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:s.COMPRESSED_RGBA_ASTC_10x5_KHR;if(i===WS)return o===Es?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:s.COMPRESSED_RGBA_ASTC_10x6_KHR;if(i===jS)return o===Es?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:s.COMPRESSED_RGBA_ASTC_10x8_KHR;if(i===XS)return o===Es?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:s.COMPRESSED_RGBA_ASTC_10x10_KHR;if(i===qS)return o===Es?s.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:s.COMPRESSED_RGBA_ASTC_12x10_KHR;if(i===YS)return o===Es?s.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:s.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(i===t_||i===KS||i===ZS)if(s=e.get("EXT_texture_compression_bptc"),s!==null){if(i===t_)return o===Es?s.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:s.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(i===KS)return s.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(i===ZS)return s.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}else return null;if(i===HM||i===QS||i===JS||i===eE)if(s=e.get("EXT_texture_compression_rgtc"),s!==null){if(i===t_)return s.COMPRESSED_RED_RGTC1_EXT;if(i===QS)return s.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(i===JS)return s.COMPRESSED_RED_GREEN_RGTC2_EXT;if(i===eE)return s.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return i===d0?n.UNSIGNED_INT_24_8:n[i]!==void 0?n[i]:null}return{convert:t}}const cve=`
void main() {

	gl_Position = vec4( position, 1.0 );

}`,uve=`
uniform sampler2DArray depthColor;
uniform float depthWidth;
uniform float depthHeight;

void main() {

	vec2 coord = vec2( gl_FragCoord.x / depthWidth, gl_FragCoord.y / depthHeight );

	if ( coord.x >= 1.0 ) {

		gl_FragDepth = texture( depthColor, vec3( coord.x - 1.0, coord.y, 1 ) ).r;

	} else {

		gl_FragDepth = texture( depthColor, vec3( coord.x, coord.y, 0 ) ).r;

	}

}`;class hve{constructor(){this.texture=null,this.mesh=null,this.depthNear=0,this.depthFar=0}init(e,t,i){if(this.texture===null){const r=new ps,s=e.properties.get(r);s.__webglTexture=t.texture,(t.depthNear!==i.depthNear||t.depthFar!==i.depthFar)&&(this.depthNear=t.depthNear,this.depthFar=t.depthFar),this.texture=r}}getMesh(e){if(this.texture!==null&&this.mesh===null){const t=e.cameras[0].viewport,i=new Dc({vertexShader:cve,fragmentShader:uve,uniforms:{depthColor:{value:this.texture},depthWidth:{value:t.z},depthHeight:{value:t.w}}});this.mesh=new Oo(new Wp(20,20),i)}return this.mesh}reset(){this.texture=null,this.mesh=null}getDepthTexture(){return this.texture}}class dve extends vd{constructor(e,t){super();const i=this;let r=null,s=1,o=null,l="local-floor",a=1,u=null,m=null,d=null,b=null,g=null,_=null;const p=new hve,v=t.getContextAttributes();let c=null,x=null;const w=[],T=[],L=new rn;let P=null;const C=new na;C.viewport=new Kr;const I=new na;I.viewport=new Kr;const F=[C,I],R=new p5;let D=null,G=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(me){let le=w[me];return le===void 0&&(le=new D1,w[me]=le),le.getTargetRaySpace()},this.getControllerGrip=function(me){let le=w[me];return le===void 0&&(le=new D1,w[me]=le),le.getGripSpace()},this.getHand=function(me){let le=w[me];return le===void 0&&(le=new D1,w[me]=le),le.getHandSpace()};function j(me){const le=T.indexOf(me.inputSource);if(le===-1)return;const we=w[le];we!==void 0&&(we.update(me.inputSource,me.frame,u||o),we.dispatchEvent({type:me.type,data:me.inputSource}))}function k(){r.removeEventListener("select",j),r.removeEventListener("selectstart",j),r.removeEventListener("selectend",j),r.removeEventListener("squeeze",j),r.removeEventListener("squeezestart",j),r.removeEventListener("squeezeend",j),r.removeEventListener("end",k),r.removeEventListener("inputsourceschange",V);for(let me=0;me<w.length;me++){const le=T[me];le!==null&&(T[me]=null,w[me].disconnect(le))}D=null,G=null,p.reset(),e.setRenderTarget(c),g=null,b=null,d=null,r=null,x=null,Ee.stop(),i.isPresenting=!1,e.setPixelRatio(P),e.setSize(L.width,L.height,!1),i.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(me){s=me,i.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(me){l=me,i.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return u||o},this.setReferenceSpace=function(me){u=me},this.getBaseLayer=function(){return b!==null?b:g},this.getBinding=function(){return d},this.getFrame=function(){return _},this.getSession=function(){return r},this.setSession=async function(me){if(r=me,r!==null){if(c=e.getRenderTarget(),r.addEventListener("select",j),r.addEventListener("selectstart",j),r.addEventListener("selectend",j),r.addEventListener("squeeze",j),r.addEventListener("squeezestart",j),r.addEventListener("squeezeend",j),r.addEventListener("end",k),r.addEventListener("inputsourceschange",V),v.xrCompatible!==!0&&await t.makeXRCompatible(),P=e.getPixelRatio(),e.getSize(L),typeof XRWebGLBinding<"u"&&"createProjectionLayer"in XRWebGLBinding.prototype){let we=null,Re=null,Fe=null;v.depth&&(Fe=v.stencil?t.DEPTH24_STENCIL8:t.DEPTH_COMPONENT24,we=v.stencil?p0:f0,Re=v.stencil?d0:md);const qe={colorFormat:t.RGBA8,depthFormat:Fe,scaleFactor:s};d=new XRWebGLBinding(r,t),b=d.createProjectionLayer(qe),r.updateRenderState({layers:[b]}),e.setPixelRatio(1),e.setSize(b.textureWidth,b.textureHeight,!1),x=new ru(b.textureWidth,b.textureHeight,{format:oa,type:fc,depthTexture:new QE(b.textureWidth,b.textureHeight,Re,void 0,void 0,void 0,void 0,void 0,void 0,we),stencilBuffer:v.stencil,colorSpace:e.outputColorSpace,samples:v.antialias?4:0,resolveDepthBuffer:b.ignoreDepthValues===!1,resolveStencilBuffer:b.ignoreDepthValues===!1})}else{const we={antialias:v.antialias,alpha:!0,depth:v.depth,stencil:v.stencil,framebufferScaleFactor:s};g=new XRWebGLLayer(r,t,we),r.updateRenderState({baseLayer:g}),e.setPixelRatio(1),e.setSize(g.framebufferWidth,g.framebufferHeight,!1),x=new ru(g.framebufferWidth,g.framebufferHeight,{format:oa,type:fc,colorSpace:e.outputColorSpace,stencilBuffer:v.stencil,resolveDepthBuffer:g.ignoreDepthValues===!1,resolveStencilBuffer:g.ignoreDepthValues===!1})}x.isXRRenderTarget=!0,this.setFoveation(a),u=null,o=await r.requestReferenceSpace(l),Ee.setContext(r),Ee.start(),i.isPresenting=!0,i.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(r!==null)return r.environmentBlendMode},this.getDepthTexture=function(){return p.getDepthTexture()};function V(me){for(let le=0;le<me.removed.length;le++){const we=me.removed[le],Re=T.indexOf(we);Re>=0&&(T[Re]=null,w[Re].disconnect(we))}for(let le=0;le<me.added.length;le++){const we=me.added[le];let Re=T.indexOf(we);if(Re===-1){for(let qe=0;qe<w.length;qe++)if(qe>=T.length){T.push(we),Re=qe;break}else if(T[qe]===null){T[qe]=we,Re=qe;break}if(Re===-1)break}const Fe=w[Re];Fe&&Fe.connect(we)}}const H=new De,te=new De;function ne(me,le,we){H.setFromMatrixPosition(le.matrixWorld),te.setFromMatrixPosition(we.matrixWorld);const Re=H.distanceTo(te),Fe=le.projectionMatrix.elements,qe=we.projectionMatrix.elements,ot=Fe[14]/(Fe[10]-1),dn=Fe[14]/(Fe[10]+1),mn=(Fe[9]+1)/Fe[5],pn=(Fe[9]-1)/Fe[5],Ae=(Fe[8]-1)/Fe[0],Bt=(qe[8]+1)/qe[0],Tt=ot*Ae,zt=ot*Bt,At=Re/(-Ae+Bt),yn=At*-Ae;if(le.matrixWorld.decompose(me.position,me.quaternion,me.scale),me.translateX(yn),me.translateZ(At),me.matrixWorld.compose(me.position,me.quaternion,me.scale),me.matrixWorldInverse.copy(me.matrixWorld).invert(),Fe[10]===-1)me.projectionMatrix.copy(le.projectionMatrix),me.projectionMatrixInverse.copy(le.projectionMatrixInverse);else{const nt=ot+At,Nt=dn+At,en=Tt-yn,_e=zt+(Re-yn),ue=mn*dn/Nt*nt,ze=pn*dn/Nt*nt;me.projectionMatrix.makePerspective(en,_e,ue,ze,nt,Nt),me.projectionMatrixInverse.copy(me.projectionMatrix).invert()}}function he(me,le){le===null?me.matrixWorld.copy(me.matrix):me.matrixWorld.multiplyMatrices(le.matrixWorld,me.matrix),me.matrixWorldInverse.copy(me.matrixWorld).invert()}this.updateCamera=function(me){if(r===null)return;let le=me.near,we=me.far;p.texture!==null&&(p.depthNear>0&&(le=p.depthNear),p.depthFar>0&&(we=p.depthFar)),R.near=I.near=C.near=le,R.far=I.far=C.far=we,(D!==R.near||G!==R.far)&&(r.updateRenderState({depthNear:R.near,depthFar:R.far}),D=R.near,G=R.far),C.layers.mask=me.layers.mask|2,I.layers.mask=me.layers.mask|4,R.layers.mask=C.layers.mask|I.layers.mask;const Re=me.parent,Fe=R.cameras;he(R,Re);for(let qe=0;qe<Fe.length;qe++)he(Fe[qe],Re);Fe.length===2?ne(R,C,I):R.projectionMatrix.copy(C.projectionMatrix),ie(me,R,Re)};function ie(me,le,we){we===null?me.matrix.copy(le.matrixWorld):(me.matrix.copy(we.matrixWorld),me.matrix.invert(),me.matrix.multiply(le.matrixWorld)),me.matrix.decompose(me.position,me.quaternion,me.scale),me.updateMatrixWorld(!0),me.projectionMatrix.copy(le.projectionMatrix),me.projectionMatrixInverse.copy(le.projectionMatrixInverse),me.isPerspectiveCamera&&(me.fov=m0*2*Math.atan(1/me.projectionMatrix.elements[5]),me.zoom=1)}this.getCamera=function(){return R},this.getFoveation=function(){if(!(b===null&&g===null))return a},this.setFoveation=function(me){a=me,b!==null&&(b.fixedFoveation=me),g!==null&&g.fixedFoveation!==void 0&&(g.fixedFoveation=me)},this.hasDepthSensing=function(){return p.texture!==null},this.getDepthSensingMesh=function(){return p.getMesh(R)};let ce=null;function Se(me,le){if(m=le.getViewerPose(u||o),_=le,m!==null){const we=m.views;g!==null&&(e.setRenderTargetFramebuffer(x,g.framebuffer),e.setRenderTarget(x));let Re=!1;we.length!==R.cameras.length&&(R.cameras.length=0,Re=!0);for(let ot=0;ot<we.length;ot++){const dn=we[ot];let mn=null;if(g!==null)mn=g.getViewport(dn);else{const Ae=d.getViewSubImage(b,dn);mn=Ae.viewport,ot===0&&(e.setRenderTargetTextures(x,Ae.colorTexture,Ae.depthStencilTexture),e.setRenderTarget(x))}let pn=F[ot];pn===void 0&&(pn=new na,pn.layers.enable(ot),pn.viewport=new Kr,F[ot]=pn),pn.matrix.fromArray(dn.transform.matrix),pn.matrix.decompose(pn.position,pn.quaternion,pn.scale),pn.projectionMatrix.fromArray(dn.projectionMatrix),pn.projectionMatrixInverse.copy(pn.projectionMatrix).invert(),pn.viewport.set(mn.x,mn.y,mn.width,mn.height),ot===0&&(R.matrix.copy(pn.matrix),R.matrix.decompose(R.position,R.quaternion,R.scale)),Re===!0&&R.cameras.push(pn)}const Fe=r.enabledFeatures;if(Fe&&Fe.includes("depth-sensing")&&r.depthUsage=="gpu-optimized"&&d){const ot=d.getDepthInformation(we[0]);ot&&ot.isValid&&ot.texture&&p.init(e,ot,r.renderState)}}for(let we=0;we<w.length;we++){const Re=T[we],Fe=w[we];Re!==null&&Fe!==void 0&&Fe.update(Re,le,u||o)}ce&&ce(me,le),le.detectedPlanes&&i.dispatchEvent({type:"planesdetected",data:le}),_=null}const Ee=new _5;Ee.setAnimationLoop(Se),this.setAnimationLoop=function(me){ce=me},this.dispose=function(){}}}const zm=new su,fve=new Wi;function pve(n,e){function t(v,c){v.matrixAutoUpdate===!0&&v.updateMatrix(),c.value.copy(v.matrix)}function i(v,c){c.color.getRGB(v.fogColor.value,_k(n)),c.isFog?(v.fogNear.value=c.near,v.fogFar.value=c.far):c.isFogExp2&&(v.fogDensity.value=c.density)}function r(v,c,x,w,T){c.isMeshBasicMaterial||c.isMeshLambertMaterial?s(v,c):c.isMeshToonMaterial?(s(v,c),d(v,c)):c.isMeshPhongMaterial?(s(v,c),m(v,c)):c.isMeshStandardMaterial?(s(v,c),b(v,c),c.isMeshPhysicalMaterial&&g(v,c,T)):c.isMeshMatcapMaterial?(s(v,c),_(v,c)):c.isMeshDepthMaterial?s(v,c):c.isMeshDistanceMaterial?(s(v,c),p(v,c)):c.isMeshNormalMaterial?s(v,c):c.isLineBasicMaterial?(o(v,c),c.isLineDashedMaterial&&l(v,c)):c.isPointsMaterial?a(v,c,x,w):c.isSpriteMaterial?u(v,c):c.isShadowMaterial?(v.color.value.copy(c.color),v.opacity.value=c.opacity):c.isShaderMaterial&&(c.uniformsNeedUpdate=!1)}function s(v,c){v.opacity.value=c.opacity,c.color&&v.diffuse.value.copy(c.color),c.emissive&&v.emissive.value.copy(c.emissive).multiplyScalar(c.emissiveIntensity),c.map&&(v.map.value=c.map,t(c.map,v.mapTransform)),c.alphaMap&&(v.alphaMap.value=c.alphaMap,t(c.alphaMap,v.alphaMapTransform)),c.bumpMap&&(v.bumpMap.value=c.bumpMap,t(c.bumpMap,v.bumpMapTransform),v.bumpScale.value=c.bumpScale,c.side===hc&&(v.bumpScale.value*=-1)),c.normalMap&&(v.normalMap.value=c.normalMap,t(c.normalMap,v.normalMapTransform),v.normalScale.value.copy(c.normalScale),c.side===hc&&v.normalScale.value.negate()),c.displacementMap&&(v.displacementMap.value=c.displacementMap,t(c.displacementMap,v.displacementMapTransform),v.displacementScale.value=c.displacementScale,v.displacementBias.value=c.displacementBias),c.emissiveMap&&(v.emissiveMap.value=c.emissiveMap,t(c.emissiveMap,v.emissiveMapTransform)),c.specularMap&&(v.specularMap.value=c.specularMap,t(c.specularMap,v.specularMapTransform)),c.alphaTest>0&&(v.alphaTest.value=c.alphaTest);const x=e.get(c),w=x.envMap,T=x.envMapRotation;w&&(v.envMap.value=w,zm.copy(T),zm.x*=-1,zm.y*=-1,zm.z*=-1,w.isCubeTexture&&w.isRenderTargetTexture===!1&&(zm.y*=-1,zm.z*=-1),v.envMapRotation.value.setFromMatrix4(fve.makeRotationFromEuler(zm)),v.flipEnvMap.value=w.isCubeTexture&&w.isRenderTargetTexture===!1?-1:1,v.reflectivity.value=c.reflectivity,v.ior.value=c.ior,v.refractionRatio.value=c.refractionRatio),c.lightMap&&(v.lightMap.value=c.lightMap,v.lightMapIntensity.value=c.lightMapIntensity,t(c.lightMap,v.lightMapTransform)),c.aoMap&&(v.aoMap.value=c.aoMap,v.aoMapIntensity.value=c.aoMapIntensity,t(c.aoMap,v.aoMapTransform))}function o(v,c){v.diffuse.value.copy(c.color),v.opacity.value=c.opacity,c.map&&(v.map.value=c.map,t(c.map,v.mapTransform))}function l(v,c){v.dashSize.value=c.dashSize,v.totalSize.value=c.dashSize+c.gapSize,v.scale.value=c.scale}function a(v,c,x,w){v.diffuse.value.copy(c.color),v.opacity.value=c.opacity,v.size.value=c.size*x,v.scale.value=w*.5,c.map&&(v.map.value=c.map,t(c.map,v.uvTransform)),c.alphaMap&&(v.alphaMap.value=c.alphaMap,t(c.alphaMap,v.alphaMapTransform)),c.alphaTest>0&&(v.alphaTest.value=c.alphaTest)}function u(v,c){v.diffuse.value.copy(c.color),v.opacity.value=c.opacity,v.rotation.value=c.rotation,c.map&&(v.map.value=c.map,t(c.map,v.mapTransform)),c.alphaMap&&(v.alphaMap.value=c.alphaMap,t(c.alphaMap,v.alphaMapTransform)),c.alphaTest>0&&(v.alphaTest.value=c.alphaTest)}function m(v,c){v.specular.value.copy(c.specular),v.shininess.value=Math.max(c.shininess,1e-4)}function d(v,c){c.gradientMap&&(v.gradientMap.value=c.gradientMap)}function b(v,c){v.metalness.value=c.metalness,c.metalnessMap&&(v.metalnessMap.value=c.metalnessMap,t(c.metalnessMap,v.metalnessMapTransform)),v.roughness.value=c.roughness,c.roughnessMap&&(v.roughnessMap.value=c.roughnessMap,t(c.roughnessMap,v.roughnessMapTransform)),c.envMap&&(v.envMapIntensity.value=c.envMapIntensity)}function g(v,c,x){v.ior.value=c.ior,c.sheen>0&&(v.sheenColor.value.copy(c.sheenColor).multiplyScalar(c.sheen),v.sheenRoughness.value=c.sheenRoughness,c.sheenColorMap&&(v.sheenColorMap.value=c.sheenColorMap,t(c.sheenColorMap,v.sheenColorMapTransform)),c.sheenRoughnessMap&&(v.sheenRoughnessMap.value=c.sheenRoughnessMap,t(c.sheenRoughnessMap,v.sheenRoughnessMapTransform))),c.clearcoat>0&&(v.clearcoat.value=c.clearcoat,v.clearcoatRoughness.value=c.clearcoatRoughness,c.clearcoatMap&&(v.clearcoatMap.value=c.clearcoatMap,t(c.clearcoatMap,v.clearcoatMapTransform)),c.clearcoatRoughnessMap&&(v.clearcoatRoughnessMap.value=c.clearcoatRoughnessMap,t(c.clearcoatRoughnessMap,v.clearcoatRoughnessMapTransform)),c.clearcoatNormalMap&&(v.clearcoatNormalMap.value=c.clearcoatNormalMap,t(c.clearcoatNormalMap,v.clearcoatNormalMapTransform),v.clearcoatNormalScale.value.copy(c.clearcoatNormalScale),c.side===hc&&v.clearcoatNormalScale.value.negate())),c.dispersion>0&&(v.dispersion.value=c.dispersion),c.iridescence>0&&(v.iridescence.value=c.iridescence,v.iridescenceIOR.value=c.iridescenceIOR,v.iridescenceThicknessMinimum.value=c.iridescenceThicknessRange[0],v.iridescenceThicknessMaximum.value=c.iridescenceThicknessRange[1],c.iridescenceMap&&(v.iridescenceMap.value=c.iridescenceMap,t(c.iridescenceMap,v.iridescenceMapTransform)),c.iridescenceThicknessMap&&(v.iridescenceThicknessMap.value=c.iridescenceThicknessMap,t(c.iridescenceThicknessMap,v.iridescenceThicknessMapTransform))),c.transmission>0&&(v.transmission.value=c.transmission,v.transmissionSamplerMap.value=x.texture,v.transmissionSamplerSize.value.set(x.width,x.height),c.transmissionMap&&(v.transmissionMap.value=c.transmissionMap,t(c.transmissionMap,v.transmissionMapTransform)),v.thickness.value=c.thickness,c.thicknessMap&&(v.thicknessMap.value=c.thicknessMap,t(c.thicknessMap,v.thicknessMapTransform)),v.attenuationDistance.value=c.attenuationDistance,v.attenuationColor.value.copy(c.attenuationColor)),c.anisotropy>0&&(v.anisotropyVector.value.set(c.anisotropy*Math.cos(c.anisotropyRotation),c.anisotropy*Math.sin(c.anisotropyRotation)),c.anisotropyMap&&(v.anisotropyMap.value=c.anisotropyMap,t(c.anisotropyMap,v.anisotropyMapTransform))),v.specularIntensity.value=c.specularIntensity,v.specularColor.value.copy(c.specularColor),c.specularColorMap&&(v.specularColorMap.value=c.specularColorMap,t(c.specularColorMap,v.specularColorMapTransform)),c.specularIntensityMap&&(v.specularIntensityMap.value=c.specularIntensityMap,t(c.specularIntensityMap,v.specularIntensityMapTransform))}function _(v,c){c.matcap&&(v.matcap.value=c.matcap)}function p(v,c){const x=e.get(c).light;v.referencePosition.value.setFromMatrixPosition(x.matrixWorld),v.nearDistance.value=x.shadow.camera.near,v.farDistance.value=x.shadow.camera.far}return{refreshFogUniforms:i,refreshMaterialUniforms:r}}function mve(n,e,t,i){let r={},s={},o=[];const l=n.getParameter(n.MAX_UNIFORM_BUFFER_BINDINGS);function a(x,w){const T=w.program;i.uniformBlockBinding(x,T)}function u(x,w){let T=r[x.id];T===void 0&&(_(x),T=m(x),r[x.id]=T,x.addEventListener("dispose",v));const L=w.program;i.updateUBOMapping(x,L);const P=e.render.frame;s[x.id]!==P&&(b(x),s[x.id]=P)}function m(x){const w=d();x.__bindingPointIndex=w;const T=n.createBuffer(),L=x.__size,P=x.usage;return n.bindBuffer(n.UNIFORM_BUFFER,T),n.bufferData(n.UNIFORM_BUFFER,L,P),n.bindBuffer(n.UNIFORM_BUFFER,null),n.bindBufferBase(n.UNIFORM_BUFFER,w,T),T}function d(){for(let x=0;x<l;x++)if(o.indexOf(x)===-1)return o.push(x),x;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function b(x){const w=r[x.id],T=x.uniforms,L=x.__cache;n.bindBuffer(n.UNIFORM_BUFFER,w);for(let P=0,C=T.length;P<C;P++){const I=Array.isArray(T[P])?T[P]:[T[P]];for(let F=0,R=I.length;F<R;F++){const D=I[F];if(g(D,P,F,L)===!0){const G=D.__offset,j=Array.isArray(D.value)?D.value:[D.value];let k=0;for(let V=0;V<j.length;V++){const H=j[V],te=p(H);typeof H=="number"||typeof H=="boolean"?(D.__data[0]=H,n.bufferSubData(n.UNIFORM_BUFFER,G+k,D.__data)):H.isMatrix3?(D.__data[0]=H.elements[0],D.__data[1]=H.elements[1],D.__data[2]=H.elements[2],D.__data[3]=0,D.__data[4]=H.elements[3],D.__data[5]=H.elements[4],D.__data[6]=H.elements[5],D.__data[7]=0,D.__data[8]=H.elements[6],D.__data[9]=H.elements[7],D.__data[10]=H.elements[8],D.__data[11]=0):(H.toArray(D.__data,k),k+=te.storage/Float32Array.BYTES_PER_ELEMENT)}n.bufferSubData(n.UNIFORM_BUFFER,G,D.__data)}}}n.bindBuffer(n.UNIFORM_BUFFER,null)}function g(x,w,T,L){const P=x.value,C=w+"_"+T;if(L[C]===void 0)return typeof P=="number"||typeof P=="boolean"?L[C]=P:L[C]=P.clone(),!0;{const I=L[C];if(typeof P=="number"||typeof P=="boolean"){if(I!==P)return L[C]=P,!0}else if(I.equals(P)===!1)return I.copy(P),!0}return!1}function _(x){const w=x.uniforms;let T=0;const L=16;for(let C=0,I=w.length;C<I;C++){const F=Array.isArray(w[C])?w[C]:[w[C]];for(let R=0,D=F.length;R<D;R++){const G=F[R],j=Array.isArray(G.value)?G.value:[G.value];for(let k=0,V=j.length;k<V;k++){const H=j[k],te=p(H),ne=T%L,he=ne%te.boundary,ie=ne+he;T+=he,ie!==0&&L-ie<te.storage&&(T+=L-ie),G.__data=new Float32Array(te.storage/Float32Array.BYTES_PER_ELEMENT),G.__offset=T,T+=te.storage}}}const P=T%L;return P>0&&(T+=L-P),x.__size=T,x.__cache={},this}function p(x){const w={boundary:0,storage:0};return typeof x=="number"||typeof x=="boolean"?(w.boundary=4,w.storage=4):x.isVector2?(w.boundary=8,w.storage=8):x.isVector3||x.isColor?(w.boundary=16,w.storage=12):x.isVector4?(w.boundary=16,w.storage=16):x.isMatrix3?(w.boundary=48,w.storage=48):x.isMatrix4?(w.boundary=64,w.storage=64):x.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",x),w}function v(x){const w=x.target;w.removeEventListener("dispose",v);const T=o.indexOf(w.__bindingPointIndex);o.splice(T,1),n.deleteBuffer(r[w.id]),delete r[w.id],delete s[w.id]}function c(){for(const x in r)n.deleteBuffer(r[x]);o=[],r={},s={}}return{bind:a,update:u,dispose:c}}class x2{constructor(e={}){const{canvas:t=gk(),context:i=null,depth:r=!0,stencil:s=!1,alpha:o=!1,antialias:l=!1,premultipliedAlpha:a=!0,preserveDrawingBuffer:u=!1,powerPreference:m="default",failIfMajorPerformanceCaveat:d=!1,reverseDepthBuffer:b=!1}=e;this.isWebGLRenderer=!0;let g;if(i!==null){if(typeof WebGLRenderingContext<"u"&&i instanceof WebGLRenderingContext)throw new Error("THREE.WebGLRenderer: WebGL 1 is not supported since r163.");g=i.getContextAttributes().alpha}else g=o;const _=new Uint32Array(4),p=new Int32Array(4);let v=null,c=null;const x=[],w=[];this.domElement=t,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.toneMapping=ld,this.toneMappingExposure=1,this.transmissionResolutionScale=1;const T=this;let L=!1;this._outputColorSpace=Na;let P=0,C=0,I=null,F=-1,R=null;const D=new Kr,G=new Kr;let j=null;const k=new jn(0);let V=0,H=t.width,te=t.height,ne=1,he=null,ie=null;const ce=new Kr(0,0,H,te),Se=new Kr(0,0,H,te);let Ee=!1;const me=new P0;let le=!1,we=!1;const Re=new Wi,Fe=new Wi,qe=new De,ot=new Kr,dn={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};let mn=!1;function pn(){return I===null?ne:1}let Ae=i;function Bt(fe,Be){return t.getContext(fe,Be)}try{const fe={alpha:!0,depth:r,stencil:s,antialias:l,premultipliedAlpha:a,preserveDrawingBuffer:u,powerPreference:m,failIfMajorPerformanceCaveat:d};if("setAttribute"in t&&t.setAttribute("data-engine",`three.js r${Z_}`),t.addEventListener("webglcontextlost",gn,!1),t.addEventListener("webglcontextrestored",sn,!1),t.addEventListener("webglcontextcreationerror",Ut,!1),Ae===null){const Be="webgl2";if(Ae=Bt(Be,fe),Ae===null)throw Bt(Be)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}}catch(fe){throw console.error("THREE.WebGLRenderer: "+fe.message),fe}let Tt,zt,At,yn,nt,Nt,en,_e,ue,ze,rt,pt,ht,Yt,Qt,Cn,An,Pt,on,Pn,Ge,lt,Xt,Xe;function mt(){Tt=new Ame(Ae),Tt.init(),lt=new w5(Ae,Tt),zt=new bme(Ae,Tt,e,lt),At=new ave(Ae,Tt),zt.reverseDepthBuffer&&b&&At.buffers.depth.setReversed(!0),yn=new Ome(Ae),nt=new qge,Nt=new lve(Ae,Tt,At,nt,zt,lt,yn),en=new Sme(T),_e=new Tme(T),ue=new Fde(Ae),Xt=new yme(Ae,ue),ze=new Rme(Ae,ue,yn,Xt),rt=new Pme(Ae,ze,ue,yn),on=new Lme(Ae,zt,Nt),Cn=new xme(nt),pt=new Xge(T,en,_e,Tt,zt,Xt,Cn),ht=new pve(T,nt),Yt=new Kge,Qt=new nve(Tt),Pt=new vme(T,en,_e,At,rt,g,a),An=new sve(T,rt,zt),Xe=new mve(Ae,yn,zt,At),Pn=new _me(Ae,Tt,yn),Ge=new Mme(Ae,Tt,yn),yn.programs=pt.programs,T.capabilities=zt,T.extensions=Tt,T.properties=nt,T.renderLists=Yt,T.shadowMap=An,T.state=At,T.info=yn}mt();const $t=new dve(T,Ae);this.xr=$t,this.getContext=function(){return Ae},this.getContextAttributes=function(){return Ae.getContextAttributes()},this.forceContextLoss=function(){const fe=Tt.get("WEBGL_lose_context");fe&&fe.loseContext()},this.forceContextRestore=function(){const fe=Tt.get("WEBGL_lose_context");fe&&fe.restoreContext()},this.getPixelRatio=function(){return ne},this.setPixelRatio=function(fe){fe!==void 0&&(ne=fe,this.setSize(H,te,!1))},this.getSize=function(fe){return fe.set(H,te)},this.setSize=function(fe,Be,Ve=!0){if($t.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}H=fe,te=Be,t.width=Math.floor(fe*ne),t.height=Math.floor(Be*ne),Ve===!0&&(t.style.width=fe+"px",t.style.height=Be+"px"),this.setViewport(0,0,fe,Be)},this.getDrawingBufferSize=function(fe){return fe.set(H*ne,te*ne).floor()},this.setDrawingBufferSize=function(fe,Be,Ve){H=fe,te=Be,ne=Ve,t.width=Math.floor(fe*Ve),t.height=Math.floor(Be*Ve),this.setViewport(0,0,fe,Be)},this.getCurrentViewport=function(fe){return fe.copy(D)},this.getViewport=function(fe){return fe.copy(ce)},this.setViewport=function(fe,Be,Ve,je){fe.isVector4?ce.set(fe.x,fe.y,fe.z,fe.w):ce.set(fe,Be,Ve,je),At.viewport(D.copy(ce).multiplyScalar(ne).round())},this.getScissor=function(fe){return fe.copy(Se)},this.setScissor=function(fe,Be,Ve,je){fe.isVector4?Se.set(fe.x,fe.y,fe.z,fe.w):Se.set(fe,Be,Ve,je),At.scissor(G.copy(Se).multiplyScalar(ne).round())},this.getScissorTest=function(){return Ee},this.setScissorTest=function(fe){At.setScissorTest(Ee=fe)},this.setOpaqueSort=function(fe){he=fe},this.setTransparentSort=function(fe){ie=fe},this.getClearColor=function(fe){return fe.copy(Pt.getClearColor())},this.setClearColor=function(){Pt.setClearColor(...arguments)},this.getClearAlpha=function(){return Pt.getClearAlpha()},this.setClearAlpha=function(){Pt.setClearAlpha(...arguments)},this.clear=function(fe=!0,Be=!0,Ve=!0){let je=0;if(fe){let et=!1;if(I!==null){const ft=I.texture.format;et=ft===$E||ft===zE||ft===tb}if(et){const ft=I.texture.type,Et=ft===fc||ft===md||ft===h0||ft===d0||ft===UE||ft===kE,Gt=Pt.getClearColor(),Jt=Pt.getClearAlpha(),Nn=Gt.r,Rn=Gt.g,hn=Gt.b;Et?(_[0]=Nn,_[1]=Rn,_[2]=hn,_[3]=Jt,Ae.clearBufferuiv(Ae.COLOR,0,_)):(p[0]=Nn,p[1]=Rn,p[2]=hn,p[3]=Jt,Ae.clearBufferiv(Ae.COLOR,0,p))}else je|=Ae.COLOR_BUFFER_BIT}Be&&(je|=Ae.DEPTH_BUFFER_BIT),Ve&&(je|=Ae.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),Ae.clear(je)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){t.removeEventListener("webglcontextlost",gn,!1),t.removeEventListener("webglcontextrestored",sn,!1),t.removeEventListener("webglcontextcreationerror",Ut,!1),Pt.dispose(),Yt.dispose(),Qt.dispose(),nt.dispose(),en.dispose(),_e.dispose(),rt.dispose(),Xt.dispose(),Xe.dispose(),pt.dispose(),$t.dispose(),$t.removeEventListener("sessionstart",dr),$t.removeEventListener("sessionend",Pr),gr.stop()};function gn(fe){fe.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),L=!0}function sn(){console.log("THREE.WebGLRenderer: Context Restored."),L=!1;const fe=yn.autoReset,Be=An.enabled,Ve=An.autoUpdate,je=An.needsUpdate,et=An.type;mt(),yn.autoReset=fe,An.enabled=Be,An.autoUpdate=Ve,An.needsUpdate=je,An.type=et}function Ut(fe){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",fe.statusMessage)}function _n(fe){const Be=fe.target;Be.removeEventListener("dispose",_n),Dn(Be)}function Dn(fe){Ai(fe),nt.remove(fe)}function Ai(fe){const Be=nt.get(fe).programs;Be!==void 0&&(Be.forEach(function(Ve){pt.releaseProgram(Ve)}),fe.isShaderMaterial&&pt.releaseShaderCache(fe))}this.renderBufferDirect=function(fe,Be,Ve,je,et,ft){Be===null&&(Be=dn);const Et=et.isMesh&&et.matrixWorld.determinant()<0,Gt=Ye(fe,Be,Ve,je,et);At.setMaterial(je,Et);let Jt=Ve.index,Nn=1;if(je.wireframe===!0){if(Jt=ze.getWireframeAttribute(Ve),Jt===void 0)return;Nn=2}const Rn=Ve.drawRange,hn=Ve.attributes.position;let Un=Rn.start*Nn,Yn=(Rn.start+Rn.count)*Nn;ft!==null&&(Un=Math.max(Un,ft.start*Nn),Yn=Math.min(Yn,(ft.start+ft.count)*Nn)),Jt!==null?(Un=Math.max(Un,0),Yn=Math.min(Yn,Jt.count)):hn!=null&&(Un=Math.max(Un,0),Yn=Math.min(Yn,hn.count));const Ui=Yn-Un;if(Ui<0||Ui===1/0)return;Xt.setup(et,je,Gt,Ve,Jt);let En,ri=Pn;if(Jt!==null&&(En=ue.get(Jt),ri=Ge,ri.setIndex(En)),et.isMesh)je.wireframe===!0?(At.setLineWidth(je.wireframeLinewidth*pn()),ri.setMode(Ae.LINES)):ri.setMode(Ae.TRIANGLES);else if(et.isLine){let K=je.linewidth;K===void 0&&(K=1),At.setLineWidth(K*pn()),et.isLineSegments?ri.setMode(Ae.LINES):et.isLineLoop?ri.setMode(Ae.LINE_LOOP):ri.setMode(Ae.LINE_STRIP)}else et.isPoints?ri.setMode(Ae.POINTS):et.isSprite&&ri.setMode(Ae.TRIANGLES);if(et.isBatchedMesh)if(et._multiDrawInstances!==null)e0("THREE.WebGLRenderer: renderMultiDrawInstances has been deprecated and will be removed in r184. Append to renderMultiDraw arguments and use indirection."),ri.renderMultiDrawInstances(et._multiDrawStarts,et._multiDrawCounts,et._multiDrawCount,et._multiDrawInstances);else if(Tt.get("WEBGL_multi_draw"))ri.renderMultiDraw(et._multiDrawStarts,et._multiDrawCounts,et._multiDrawCount);else{const K=et._multiDrawStarts,$i=et._multiDrawCounts,ni=et._multiDrawCount,ci=Jt?ue.get(Jt).bytesPerElement:1,ct=nt.get(je).currentProgram.getUniforms();for(let Je=0;Je<ni;Je++)ct.setValue(Ae,"_gl_DrawID",Je),ri.render(K[Je]/ci,$i[Je])}else if(et.isInstancedMesh)ri.renderInstances(Un,Ui,et.count);else if(Ve.isInstancedBufferGeometry){const K=Ve._maxInstanceCount!==void 0?Ve._maxInstanceCount:1/0,$i=Math.min(Ve.instanceCount,K);ri.renderInstances(Un,Ui,$i)}else ri.render(Un,Ui)};function Ri(fe,Be,Ve){fe.transparent===!0&&fe.side===Du&&fe.forceSinglePass===!1?(fe.side=hc,fe.needsUpdate=!0,nr(fe,Be,Ve),fe.side=wf,fe.needsUpdate=!0,nr(fe,Be,Ve),fe.side=Du):nr(fe,Be,Ve)}this.compile=function(fe,Be,Ve=null){Ve===null&&(Ve=fe),c=Qt.get(Ve),c.init(Be),w.push(c),Ve.traverseVisible(function(et){et.isLight&&et.layers.test(Be.layers)&&(c.pushLight(et),et.castShadow&&c.pushShadow(et))}),fe!==Ve&&fe.traverseVisible(function(et){et.isLight&&et.layers.test(Be.layers)&&(c.pushLight(et),et.castShadow&&c.pushShadow(et))}),c.setupLights();const je=new Set;return fe.traverse(function(et){if(!(et.isMesh||et.isPoints||et.isLine||et.isSprite))return;const ft=et.material;if(ft)if(Array.isArray(ft))for(let Et=0;Et<ft.length;Et++){const Gt=ft[Et];Ri(Gt,Ve,et),je.add(Gt)}else Ri(ft,Ve,et),je.add(ft)}),c=w.pop(),je},this.compileAsync=function(fe,Be,Ve=null){const je=this.compile(fe,Be,Ve);return new Promise(et=>{function ft(){if(je.forEach(function(Et){nt.get(Et).currentProgram.isReady()&&je.delete(Et)}),je.size===0){et(fe);return}setTimeout(ft,10)}Tt.get("KHR_parallel_shader_compile")!==null?ft():setTimeout(ft,10)})};let Ar=null;function rr(fe){Ar&&Ar(fe)}function dr(){gr.stop()}function Pr(){gr.start()}const gr=new _5;gr.setAnimationLoop(rr),typeof self<"u"&&gr.setContext(self),this.setAnimationLoop=function(fe){Ar=fe,$t.setAnimationLoop(fe),fe===null?gr.stop():gr.start()},$t.addEventListener("sessionstart",dr),$t.addEventListener("sessionend",Pr),this.render=function(fe,Be){if(Be!==void 0&&Be.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(L===!0)return;if(fe.matrixWorldAutoUpdate===!0&&fe.updateMatrixWorld(),Be.parent===null&&Be.matrixWorldAutoUpdate===!0&&Be.updateMatrixWorld(),$t.enabled===!0&&$t.isPresenting===!0&&($t.cameraAutoUpdate===!0&&$t.updateCamera(Be),Be=$t.getCamera()),fe.isScene===!0&&fe.onBeforeRender(T,fe,Be,I),c=Qt.get(fe,w.length),c.init(Be),w.push(c),Fe.multiplyMatrices(Be.projectionMatrix,Be.matrixWorldInverse),me.setFromProjectionMatrix(Fe),we=this.localClippingEnabled,le=Cn.init(this.clippingPlanes,we),v=Yt.get(fe,x.length),v.init(),x.push(v),$t.enabled===!0&&$t.isPresenting===!0){const ft=T.xr.getDepthSensingMesh();ft!==null&&ms(ft,Be,-1/0,T.sortObjects)}ms(fe,Be,0,T.sortObjects),v.finish(),T.sortObjects===!0&&v.sort(he,ie),mn=$t.enabled===!1||$t.isPresenting===!1||$t.hasDepthSensing()===!1,mn&&Pt.addToRenderList(v,fe),this.info.render.frame++,le===!0&&Cn.beginShadows();const Ve=c.state.shadowsArray;An.render(Ve,fe,Be),le===!0&&Cn.endShadows(),this.info.autoReset===!0&&this.info.reset();const je=v.opaque,et=v.transmissive;if(c.setupLights(),Be.isArrayCamera){const ft=Be.cameras;if(et.length>0)for(let Et=0,Gt=ft.length;Et<Gt;Et++){const Jt=ft[Et];Ds(je,et,fe,Jt)}mn&&Pt.render(fe);for(let Et=0,Gt=ft.length;Et<Gt;Et++){const Jt=ft[Et];zs(v,fe,Jt,Jt.viewport)}}else et.length>0&&Ds(je,et,fe,Be),mn&&Pt.render(fe),zs(v,fe,Be);I!==null&&C===0&&(Nt.updateMultisampleRenderTarget(I),Nt.updateRenderTargetMipmap(I)),fe.isScene===!0&&fe.onAfterRender(T,fe,Be),Xt.resetDefaultState(),F=-1,R=null,w.pop(),w.length>0?(c=w[w.length-1],le===!0&&Cn.setGlobalState(T.clippingPlanes,c.state.camera)):c=null,x.pop(),x.length>0?v=x[x.length-1]:v=null};function ms(fe,Be,Ve,je){if(fe.visible===!1)return;if(fe.layers.test(Be.layers)){if(fe.isGroup)Ve=fe.renderOrder;else if(fe.isLOD)fe.autoUpdate===!0&&fe.update(Be);else if(fe.isLight)c.pushLight(fe),fe.castShadow&&c.pushShadow(fe);else if(fe.isSprite){if(!fe.frustumCulled||me.intersectsSprite(fe)){je&&ot.setFromMatrixPosition(fe.matrixWorld).applyMatrix4(Fe);const Et=rt.update(fe),Gt=fe.material;Gt.visible&&v.push(fe,Et,Gt,Ve,ot.z,null)}}else if((fe.isMesh||fe.isLine||fe.isPoints)&&(!fe.frustumCulled||me.intersectsObject(fe))){const Et=rt.update(fe),Gt=fe.material;if(je&&(fe.boundingSphere!==void 0?(fe.boundingSphere===null&&fe.computeBoundingSphere(),ot.copy(fe.boundingSphere.center)):(Et.boundingSphere===null&&Et.computeBoundingSphere(),ot.copy(Et.boundingSphere.center)),ot.applyMatrix4(fe.matrixWorld).applyMatrix4(Fe)),Array.isArray(Gt)){const Jt=Et.groups;for(let Nn=0,Rn=Jt.length;Nn<Rn;Nn++){const hn=Jt[Nn],Un=Gt[hn.materialIndex];Un&&Un.visible&&v.push(fe,Et,Un,Ve,ot.z,hn)}}else Gt.visible&&v.push(fe,Et,Gt,Ve,ot.z,null)}}const ft=fe.children;for(let Et=0,Gt=ft.length;Et<Gt;Et++)ms(ft[Et],Be,Ve,je)}function zs(fe,Be,Ve,je){const et=fe.opaque,ft=fe.transmissive,Et=fe.transparent;c.setupLightsView(Ve),le===!0&&Cn.setGlobalState(T.clippingPlanes,Ve),je&&At.viewport(D.copy(je)),et.length>0&&gi(et,Be,Ve),ft.length>0&&gi(ft,Be,Ve),Et.length>0&&gi(Et,Be,Ve),At.buffers.depth.setTest(!0),At.buffers.depth.setMask(!0),At.buffers.color.setMask(!0),At.setPolygonOffset(!1)}function Ds(fe,Be,Ve,je){if((Ve.isScene===!0?Ve.overrideMaterial:null)!==null)return;c.state.transmissionRenderTarget[je.id]===void 0&&(c.state.transmissionRenderTarget[je.id]=new ru(1,1,{generateMipmaps:!0,type:Tt.has("EXT_color_buffer_half_float")||Tt.has("EXT_color_buffer_float")?Ia:fc,minFilter:rd,samples:4,stencilBuffer:s,resolveDepthBuffer:!1,resolveStencilBuffer:!1,colorSpace:$r.workingColorSpace}));const ft=c.state.transmissionRenderTarget[je.id],Et=je.viewport||D;ft.setSize(Et.z*T.transmissionResolutionScale,Et.w*T.transmissionResolutionScale);const Gt=T.getRenderTarget(),Jt=T.getActiveCubeFace(),Nn=T.getActiveMipmapLevel();T.setRenderTarget(ft),T.getClearColor(k),V=T.getClearAlpha(),V<1&&T.setClearColor(16777215,.5),T.clear(),mn&&Pt.render(Ve);const Rn=T.toneMapping;T.toneMapping=ld;const hn=je.viewport;if(je.viewport!==void 0&&(je.viewport=void 0),c.setupLightsView(je),le===!0&&Cn.setGlobalState(T.clippingPlanes,je),gi(fe,Ve,je),Nt.updateMultisampleRenderTarget(ft),Nt.updateRenderTargetMipmap(ft),Tt.has("WEBGL_multisampled_render_to_texture")===!1){let Un=!1;for(let Yn=0,Ui=Be.length;Yn<Ui;Yn++){const En=Be[Yn],ri=En.object,K=En.geometry,$i=En.material,ni=En.group;if($i.side===Du&&ri.layers.test(je.layers)){const ci=$i.side;$i.side=hc,$i.needsUpdate=!0,ls(ri,Ve,je,K,$i,ni),$i.side=ci,$i.needsUpdate=!0,Un=!0}}Un===!0&&(Nt.updateMultisampleRenderTarget(ft),Nt.updateRenderTargetMipmap(ft))}T.setRenderTarget(Gt,Jt,Nn),T.setClearColor(k,V),hn!==void 0&&(je.viewport=hn),T.toneMapping=Rn}function gi(fe,Be,Ve){const je=Be.isScene===!0?Be.overrideMaterial:null;for(let et=0,ft=fe.length;et<ft;et++){const Et=fe[et],Gt=Et.object,Jt=Et.geometry,Nn=Et.group;let Rn=Et.material;Rn.allowOverride===!0&&je!==null&&(Rn=je),Gt.layers.test(Ve.layers)&&ls(Gt,Be,Ve,Jt,Rn,Nn)}}function ls(fe,Be,Ve,je,et,ft){fe.onBeforeRender(T,Be,Ve,je,et,ft),fe.modelViewMatrix.multiplyMatrices(Ve.matrixWorldInverse,fe.matrixWorld),fe.normalMatrix.getNormalMatrix(fe.modelViewMatrix),et.onBeforeRender(T,Be,Ve,je,fe,ft),et.transparent===!0&&et.side===Du&&et.forceSinglePass===!1?(et.side=hc,et.needsUpdate=!0,T.renderBufferDirect(Ve,Be,je,et,fe,ft),et.side=wf,et.needsUpdate=!0,T.renderBufferDirect(Ve,Be,je,et,fe,ft),et.side=Du):T.renderBufferDirect(Ve,Be,je,et,fe,ft),fe.onAfterRender(T,Be,Ve,je,et,ft)}function nr(fe,Be,Ve){Be.isScene!==!0&&(Be=dn);const je=nt.get(fe),et=c.state.lights,ft=c.state.shadowsArray,Et=et.state.version,Gt=pt.getParameters(fe,et.state,ft,Be,Ve),Jt=pt.getProgramCacheKey(Gt);let Nn=je.programs;je.environment=fe.isMeshStandardMaterial?Be.environment:null,je.fog=Be.fog,je.envMap=(fe.isMeshStandardMaterial?_e:en).get(fe.envMap||je.environment),je.envMapRotation=je.environment!==null&&fe.envMap===null?Be.environmentRotation:fe.envMapRotation,Nn===void 0&&(fe.addEventListener("dispose",_n),Nn=new Map,je.programs=Nn);let Rn=Nn.get(Jt);if(Rn!==void 0){if(je.currentProgram===Rn&&je.lightsStateVersion===Et)return Te(fe,Gt),Rn}else Gt.uniforms=pt.getUniforms(fe),fe.onBeforeCompile(Gt,T),Rn=pt.acquireProgram(Gt,Jt),Nn.set(Jt,Rn),je.uniforms=Gt.uniforms;const hn=je.uniforms;return(!fe.isShaderMaterial&&!fe.isRawShaderMaterial||fe.clipping===!0)&&(hn.clippingPlanes=Cn.uniform),Te(fe,Gt),je.needsLights=bt(fe),je.lightsStateVersion=Et,je.needsLights&&(hn.ambientLightColor.value=et.state.ambient,hn.lightProbe.value=et.state.probe,hn.directionalLights.value=et.state.directional,hn.directionalLightShadows.value=et.state.directionalShadow,hn.spotLights.value=et.state.spot,hn.spotLightShadows.value=et.state.spotShadow,hn.rectAreaLights.value=et.state.rectArea,hn.ltc_1.value=et.state.rectAreaLTC1,hn.ltc_2.value=et.state.rectAreaLTC2,hn.pointLights.value=et.state.point,hn.pointLightShadows.value=et.state.pointShadow,hn.hemisphereLights.value=et.state.hemi,hn.directionalShadowMap.value=et.state.directionalShadowMap,hn.directionalShadowMatrix.value=et.state.directionalShadowMatrix,hn.spotShadowMap.value=et.state.spotShadowMap,hn.spotLightMatrix.value=et.state.spotLightMatrix,hn.spotLightMap.value=et.state.spotLightMap,hn.pointShadowMap.value=et.state.pointShadowMap,hn.pointShadowMatrix.value=et.state.pointShadowMatrix),je.currentProgram=Rn,je.uniformsList=null,Rn}function ge(fe){if(fe.uniformsList===null){const Be=fe.currentProgram.getUniforms();fe.uniformsList=F1.seqWithValue(Be.seq,fe.uniforms)}return fe.uniformsList}function Te(fe,Be){const Ve=nt.get(fe);Ve.outputColorSpace=Be.outputColorSpace,Ve.batching=Be.batching,Ve.batchingColor=Be.batchingColor,Ve.instancing=Be.instancing,Ve.instancingColor=Be.instancingColor,Ve.instancingMorph=Be.instancingMorph,Ve.skinning=Be.skinning,Ve.morphTargets=Be.morphTargets,Ve.morphNormals=Be.morphNormals,Ve.morphColors=Be.morphColors,Ve.morphTargetsCount=Be.morphTargetsCount,Ve.numClippingPlanes=Be.numClippingPlanes,Ve.numIntersection=Be.numClipIntersection,Ve.vertexAlphas=Be.vertexAlphas,Ve.vertexTangents=Be.vertexTangents,Ve.toneMapping=Be.toneMapping}function Ye(fe,Be,Ve,je,et){Be.isScene!==!0&&(Be=dn),Nt.resetTextureUnits();const ft=Be.fog,Et=je.isMeshStandardMaterial?Be.environment:null,Gt=I===null?T.outputColorSpace:I.isXRRenderTarget===!0?I.texture.colorSpace:Ch,Jt=(je.isMeshStandardMaterial?_e:en).get(je.envMap||Et),Nn=je.vertexColors===!0&&!!Ve.attributes.color&&Ve.attributes.color.itemSize===4,Rn=!!Ve.attributes.tangent&&(!!je.normalMap||je.anisotropy>0),hn=!!Ve.morphAttributes.position,Un=!!Ve.morphAttributes.normal,Yn=!!Ve.morphAttributes.color;let Ui=ld;je.toneMapped&&(I===null||I.isXRRenderTarget===!0)&&(Ui=T.toneMapping);const En=Ve.morphAttributes.position||Ve.morphAttributes.normal||Ve.morphAttributes.color,ri=En!==void 0?En.length:0,K=nt.get(je),$i=c.state.lights;if(le===!0&&(we===!0||fe!==R)){const ji=fe===R&&je.id===F;Cn.setState(je,fe,ji)}let ni=!1;je.version===K.__version?(K.needsLights&&K.lightsStateVersion!==$i.state.version||K.outputColorSpace!==Gt||et.isBatchedMesh&&K.batching===!1||!et.isBatchedMesh&&K.batching===!0||et.isBatchedMesh&&K.batchingColor===!0&&et.colorTexture===null||et.isBatchedMesh&&K.batchingColor===!1&&et.colorTexture!==null||et.isInstancedMesh&&K.instancing===!1||!et.isInstancedMesh&&K.instancing===!0||et.isSkinnedMesh&&K.skinning===!1||!et.isSkinnedMesh&&K.skinning===!0||et.isInstancedMesh&&K.instancingColor===!0&&et.instanceColor===null||et.isInstancedMesh&&K.instancingColor===!1&&et.instanceColor!==null||et.isInstancedMesh&&K.instancingMorph===!0&&et.morphTexture===null||et.isInstancedMesh&&K.instancingMorph===!1&&et.morphTexture!==null||K.envMap!==Jt||je.fog===!0&&K.fog!==ft||K.numClippingPlanes!==void 0&&(K.numClippingPlanes!==Cn.numPlanes||K.numIntersection!==Cn.numIntersection)||K.vertexAlphas!==Nn||K.vertexTangents!==Rn||K.morphTargets!==hn||K.morphNormals!==Un||K.morphColors!==Yn||K.toneMapping!==Ui||K.morphTargetsCount!==ri)&&(ni=!0):(ni=!0,K.__version=je.version);let ci=K.currentProgram;ni===!0&&(ci=nr(je,Be,et));let ct=!1,Je=!1,wn=!1;const qn=ci.getUniforms(),yi=K.uniforms;if(At.useProgram(ci.program)&&(ct=!0,Je=!0,wn=!0),je.id!==F&&(F=je.id,Je=!0),ct||R!==fe){At.buffers.depth.getReversed()?(Re.copy(fe.projectionMatrix),aue(Re),lue(Re),qn.setValue(Ae,"projectionMatrix",Re)):qn.setValue(Ae,"projectionMatrix",fe.projectionMatrix),qn.setValue(Ae,"viewMatrix",fe.matrixWorldInverse);const Ht=qn.map.cameraPosition;Ht!==void 0&&Ht.setValue(Ae,qe.setFromMatrixPosition(fe.matrixWorld)),zt.logarithmicDepthBuffer&&qn.setValue(Ae,"logDepthBufFC",2/(Math.log(fe.far+1)/Math.LN2)),(je.isMeshPhongMaterial||je.isMeshToonMaterial||je.isMeshLambertMaterial||je.isMeshBasicMaterial||je.isMeshStandardMaterial||je.isShaderMaterial)&&qn.setValue(Ae,"isOrthographic",fe.isOrthographicCamera===!0),R!==fe&&(R=fe,Je=!0,wn=!0)}if(et.isSkinnedMesh){qn.setOptional(Ae,et,"bindMatrix"),qn.setOptional(Ae,et,"bindMatrixInverse");const ji=et.skeleton;ji&&(ji.boneTexture===null&&ji.computeBoneTexture(),qn.setValue(Ae,"boneTexture",ji.boneTexture,Nt))}et.isBatchedMesh&&(qn.setOptional(Ae,et,"batchingTexture"),qn.setValue(Ae,"batchingTexture",et._matricesTexture,Nt),qn.setOptional(Ae,et,"batchingIdTexture"),qn.setValue(Ae,"batchingIdTexture",et._indirectTexture,Nt),qn.setOptional(Ae,et,"batchingColorTexture"),et._colorsTexture!==null&&qn.setValue(Ae,"batchingColorTexture",et._colorsTexture,Nt));const $n=Ve.morphAttributes;if(($n.position!==void 0||$n.normal!==void 0||$n.color!==void 0)&&on.update(et,Ve,ci),(Je||K.receiveShadow!==et.receiveShadow)&&(K.receiveShadow=et.receiveShadow,qn.setValue(Ae,"receiveShadow",et.receiveShadow)),je.isMeshGouraudMaterial&&je.envMap!==null&&(yi.envMap.value=Jt,yi.flipEnvMap.value=Jt.isCubeTexture&&Jt.isRenderTargetTexture===!1?-1:1),je.isMeshStandardMaterial&&je.envMap===null&&Be.environment!==null&&(yi.envMapIntensity.value=Be.environmentIntensity),Je&&(qn.setValue(Ae,"toneMappingExposure",T.toneMappingExposure),K.needsLights&&vt(yi,wn),ft&&je.fog===!0&&ht.refreshFogUniforms(yi,ft),ht.refreshMaterialUniforms(yi,je,ne,te,c.state.transmissionRenderTarget[fe.id]),F1.upload(Ae,ge(K),yi,Nt)),je.isShaderMaterial&&je.uniformsNeedUpdate===!0&&(F1.upload(Ae,ge(K),yi,Nt),je.uniformsNeedUpdate=!1),je.isSpriteMaterial&&qn.setValue(Ae,"center",et.center),qn.setValue(Ae,"modelViewMatrix",et.modelViewMatrix),qn.setValue(Ae,"normalMatrix",et.normalMatrix),qn.setValue(Ae,"modelMatrix",et.matrixWorld),je.isShaderMaterial||je.isRawShaderMaterial){const ji=je.uniformsGroups;for(let Ht=0,gs=ji.length;Ht<gs;Ht++){const $s=ji[Ht];Xe.update($s,ci),Xe.bind($s,ci)}}return ci}function vt(fe,Be){fe.ambientLightColor.needsUpdate=Be,fe.lightProbe.needsUpdate=Be,fe.directionalLights.needsUpdate=Be,fe.directionalLightShadows.needsUpdate=Be,fe.pointLights.needsUpdate=Be,fe.pointLightShadows.needsUpdate=Be,fe.spotLights.needsUpdate=Be,fe.spotLightShadows.needsUpdate=Be,fe.rectAreaLights.needsUpdate=Be,fe.hemisphereLights.needsUpdate=Be}function bt(fe){return fe.isMeshLambertMaterial||fe.isMeshToonMaterial||fe.isMeshPhongMaterial||fe.isMeshStandardMaterial||fe.isShadowMaterial||fe.isShaderMaterial&&fe.lights===!0}this.getActiveCubeFace=function(){return P},this.getActiveMipmapLevel=function(){return C},this.getRenderTarget=function(){return I},this.setRenderTargetTextures=function(fe,Be,Ve){const je=nt.get(fe);je.__autoAllocateDepthBuffer=fe.resolveDepthBuffer===!1,je.__autoAllocateDepthBuffer===!1&&(je.__useRenderToTexture=!1),nt.get(fe.texture).__webglTexture=Be,nt.get(fe.depthTexture).__webglTexture=je.__autoAllocateDepthBuffer?void 0:Ve,je.__hasExternalTextures=!0},this.setRenderTargetFramebuffer=function(fe,Be){const Ve=nt.get(fe);Ve.__webglFramebuffer=Be,Ve.__useDefaultFramebuffer=Be===void 0};const St=Ae.createFramebuffer();this.setRenderTarget=function(fe,Be=0,Ve=0){I=fe,P=Be,C=Ve;let je=!0,et=null,ft=!1,Et=!1;if(fe){const Jt=nt.get(fe);if(Jt.__useDefaultFramebuffer!==void 0)At.bindFramebuffer(Ae.FRAMEBUFFER,null),je=!1;else if(Jt.__webglFramebuffer===void 0)Nt.setupRenderTarget(fe);else if(Jt.__hasExternalTextures)Nt.rebindTextures(fe,nt.get(fe.texture).__webglTexture,nt.get(fe.depthTexture).__webglTexture);else if(fe.depthBuffer){const hn=fe.depthTexture;if(Jt.__boundDepthTexture!==hn){if(hn!==null&&nt.has(hn)&&(fe.width!==hn.image.width||fe.height!==hn.image.height))throw new Error("WebGLRenderTarget: Attached DepthTexture is initialized to the incorrect size.");Nt.setupDepthRenderbuffer(fe)}}const Nn=fe.texture;(Nn.isData3DTexture||Nn.isDataArrayTexture||Nn.isCompressedArrayTexture)&&(Et=!0);const Rn=nt.get(fe).__webglFramebuffer;fe.isWebGLCubeRenderTarget?(Array.isArray(Rn[Be])?et=Rn[Be][Ve]:et=Rn[Be],ft=!0):fe.samples>0&&Nt.useMultisampledRTT(fe)===!1?et=nt.get(fe).__webglMultisampledFramebuffer:Array.isArray(Rn)?et=Rn[Ve]:et=Rn,D.copy(fe.viewport),G.copy(fe.scissor),j=fe.scissorTest}else D.copy(ce).multiplyScalar(ne).floor(),G.copy(Se).multiplyScalar(ne).floor(),j=Ee;if(Ve!==0&&(et=St),At.bindFramebuffer(Ae.FRAMEBUFFER,et)&&je&&At.drawBuffers(fe,et),At.viewport(D),At.scissor(G),At.setScissorTest(j),ft){const Jt=nt.get(fe.texture);Ae.framebufferTexture2D(Ae.FRAMEBUFFER,Ae.COLOR_ATTACHMENT0,Ae.TEXTURE_CUBE_MAP_POSITIVE_X+Be,Jt.__webglTexture,Ve)}else if(Et){const Jt=nt.get(fe.texture),Nn=Be;Ae.framebufferTextureLayer(Ae.FRAMEBUFFER,Ae.COLOR_ATTACHMENT0,Jt.__webglTexture,Ve,Nn)}else if(fe!==null&&Ve!==0){const Jt=nt.get(fe.texture);Ae.framebufferTexture2D(Ae.FRAMEBUFFER,Ae.COLOR_ATTACHMENT0,Ae.TEXTURE_2D,Jt.__webglTexture,Ve)}F=-1},this.readRenderTargetPixels=function(fe,Be,Ve,je,et,ft,Et,Gt=0){if(!(fe&&fe.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let Jt=nt.get(fe).__webglFramebuffer;if(fe.isWebGLCubeRenderTarget&&Et!==void 0&&(Jt=Jt[Et]),Jt){At.bindFramebuffer(Ae.FRAMEBUFFER,Jt);try{const Nn=fe.textures[Gt],Rn=Nn.format,hn=Nn.type;if(!zt.textureFormatReadable(Rn)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}if(!zt.textureTypeReadable(hn)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}Be>=0&&Be<=fe.width-je&&Ve>=0&&Ve<=fe.height-et&&(fe.textures.length>1&&Ae.readBuffer(Ae.COLOR_ATTACHMENT0+Gt),Ae.readPixels(Be,Ve,je,et,lt.convert(Rn),lt.convert(hn),ft))}finally{const Nn=I!==null?nt.get(I).__webglFramebuffer:null;At.bindFramebuffer(Ae.FRAMEBUFFER,Nn)}}},this.readRenderTargetPixelsAsync=async function(fe,Be,Ve,je,et,ft,Et,Gt=0){if(!(fe&&fe.isWebGLRenderTarget))throw new Error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let Jt=nt.get(fe).__webglFramebuffer;if(fe.isWebGLCubeRenderTarget&&Et!==void 0&&(Jt=Jt[Et]),Jt)if(Be>=0&&Be<=fe.width-je&&Ve>=0&&Ve<=fe.height-et){At.bindFramebuffer(Ae.FRAMEBUFFER,Jt);const Nn=fe.textures[Gt],Rn=Nn.format,hn=Nn.type;if(!zt.textureFormatReadable(Rn))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in RGBA or implementation defined format.");if(!zt.textureTypeReadable(hn))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in UnsignedByteType or implementation defined type.");const Un=Ae.createBuffer();Ae.bindBuffer(Ae.PIXEL_PACK_BUFFER,Un),Ae.bufferData(Ae.PIXEL_PACK_BUFFER,ft.byteLength,Ae.STREAM_READ),fe.textures.length>1&&Ae.readBuffer(Ae.COLOR_ATTACHMENT0+Gt),Ae.readPixels(Be,Ve,je,et,lt.convert(Rn),lt.convert(hn),0);const Yn=I!==null?nt.get(I).__webglFramebuffer:null;At.bindFramebuffer(Ae.FRAMEBUFFER,Yn);const Ui=Ae.fenceSync(Ae.SYNC_GPU_COMMANDS_COMPLETE,0);return Ae.flush(),await oue(Ae,Ui,4),Ae.bindBuffer(Ae.PIXEL_PACK_BUFFER,Un),Ae.getBufferSubData(Ae.PIXEL_PACK_BUFFER,0,ft),Ae.deleteBuffer(Un),Ae.deleteSync(Ui),ft}else throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: requested read bounds are out of range.")},this.copyFramebufferToTexture=function(fe,Be=null,Ve=0){const je=Math.pow(2,-Ve),et=Math.floor(fe.image.width*je),ft=Math.floor(fe.image.height*je),Et=Be!==null?Be.x:0,Gt=Be!==null?Be.y:0;Nt.setTexture2D(fe,0),Ae.copyTexSubImage2D(Ae.TEXTURE_2D,Ve,0,0,Et,Gt,et,ft),At.unbindTexture()};const an=Ae.createFramebuffer(),Wt=Ae.createFramebuffer();this.copyTextureToTexture=function(fe,Be,Ve=null,je=null,et=0,ft=null){ft===null&&(et!==0?(e0("WebGLRenderer: copyTextureToTexture function signature has changed to support src and dst mipmap levels."),ft=et,et=0):ft=0);let Et,Gt,Jt,Nn,Rn,hn,Un,Yn,Ui;const En=fe.isCompressedTexture?fe.mipmaps[ft]:fe.image;if(Ve!==null)Et=Ve.max.x-Ve.min.x,Gt=Ve.max.y-Ve.min.y,Jt=Ve.isBox3?Ve.max.z-Ve.min.z:1,Nn=Ve.min.x,Rn=Ve.min.y,hn=Ve.isBox3?Ve.min.z:0;else{const $n=Math.pow(2,-et);Et=Math.floor(En.width*$n),Gt=Math.floor(En.height*$n),fe.isDataArrayTexture?Jt=En.depth:fe.isData3DTexture?Jt=Math.floor(En.depth*$n):Jt=1,Nn=0,Rn=0,hn=0}je!==null?(Un=je.x,Yn=je.y,Ui=je.z):(Un=0,Yn=0,Ui=0);const ri=lt.convert(Be.format),K=lt.convert(Be.type);let $i;Be.isData3DTexture?(Nt.setTexture3D(Be,0),$i=Ae.TEXTURE_3D):Be.isDataArrayTexture||Be.isCompressedArrayTexture?(Nt.setTexture2DArray(Be,0),$i=Ae.TEXTURE_2D_ARRAY):(Nt.setTexture2D(Be,0),$i=Ae.TEXTURE_2D),Ae.pixelStorei(Ae.UNPACK_FLIP_Y_WEBGL,Be.flipY),Ae.pixelStorei(Ae.UNPACK_PREMULTIPLY_ALPHA_WEBGL,Be.premultiplyAlpha),Ae.pixelStorei(Ae.UNPACK_ALIGNMENT,Be.unpackAlignment);const ni=Ae.getParameter(Ae.UNPACK_ROW_LENGTH),ci=Ae.getParameter(Ae.UNPACK_IMAGE_HEIGHT),ct=Ae.getParameter(Ae.UNPACK_SKIP_PIXELS),Je=Ae.getParameter(Ae.UNPACK_SKIP_ROWS),wn=Ae.getParameter(Ae.UNPACK_SKIP_IMAGES);Ae.pixelStorei(Ae.UNPACK_ROW_LENGTH,En.width),Ae.pixelStorei(Ae.UNPACK_IMAGE_HEIGHT,En.height),Ae.pixelStorei(Ae.UNPACK_SKIP_PIXELS,Nn),Ae.pixelStorei(Ae.UNPACK_SKIP_ROWS,Rn),Ae.pixelStorei(Ae.UNPACK_SKIP_IMAGES,hn);const qn=fe.isDataArrayTexture||fe.isData3DTexture,yi=Be.isDataArrayTexture||Be.isData3DTexture;if(fe.isDepthTexture){const $n=nt.get(fe),ji=nt.get(Be),Ht=nt.get($n.__renderTarget),gs=nt.get(ji.__renderTarget);At.bindFramebuffer(Ae.READ_FRAMEBUFFER,Ht.__webglFramebuffer),At.bindFramebuffer(Ae.DRAW_FRAMEBUFFER,gs.__webglFramebuffer);for(let $s=0;$s<Jt;$s++)qn&&(Ae.framebufferTextureLayer(Ae.READ_FRAMEBUFFER,Ae.COLOR_ATTACHMENT0,nt.get(fe).__webglTexture,et,hn+$s),Ae.framebufferTextureLayer(Ae.DRAW_FRAMEBUFFER,Ae.COLOR_ATTACHMENT0,nt.get(Be).__webglTexture,ft,Ui+$s)),Ae.blitFramebuffer(Nn,Rn,Et,Gt,Un,Yn,Et,Gt,Ae.DEPTH_BUFFER_BIT,Ae.NEAREST);At.bindFramebuffer(Ae.READ_FRAMEBUFFER,null),At.bindFramebuffer(Ae.DRAW_FRAMEBUFFER,null)}else if(et!==0||fe.isRenderTargetTexture||nt.has(fe)){const $n=nt.get(fe),ji=nt.get(Be);At.bindFramebuffer(Ae.READ_FRAMEBUFFER,an),At.bindFramebuffer(Ae.DRAW_FRAMEBUFFER,Wt);for(let Ht=0;Ht<Jt;Ht++)qn?Ae.framebufferTextureLayer(Ae.READ_FRAMEBUFFER,Ae.COLOR_ATTACHMENT0,$n.__webglTexture,et,hn+Ht):Ae.framebufferTexture2D(Ae.READ_FRAMEBUFFER,Ae.COLOR_ATTACHMENT0,Ae.TEXTURE_2D,$n.__webglTexture,et),yi?Ae.framebufferTextureLayer(Ae.DRAW_FRAMEBUFFER,Ae.COLOR_ATTACHMENT0,ji.__webglTexture,ft,Ui+Ht):Ae.framebufferTexture2D(Ae.DRAW_FRAMEBUFFER,Ae.COLOR_ATTACHMENT0,Ae.TEXTURE_2D,ji.__webglTexture,ft),et!==0?Ae.blitFramebuffer(Nn,Rn,Et,Gt,Un,Yn,Et,Gt,Ae.COLOR_BUFFER_BIT,Ae.NEAREST):yi?Ae.copyTexSubImage3D($i,ft,Un,Yn,Ui+Ht,Nn,Rn,Et,Gt):Ae.copyTexSubImage2D($i,ft,Un,Yn,Nn,Rn,Et,Gt);At.bindFramebuffer(Ae.READ_FRAMEBUFFER,null),At.bindFramebuffer(Ae.DRAW_FRAMEBUFFER,null)}else yi?fe.isDataTexture||fe.isData3DTexture?Ae.texSubImage3D($i,ft,Un,Yn,Ui,Et,Gt,Jt,ri,K,En.data):Be.isCompressedArrayTexture?Ae.compressedTexSubImage3D($i,ft,Un,Yn,Ui,Et,Gt,Jt,ri,En.data):Ae.texSubImage3D($i,ft,Un,Yn,Ui,Et,Gt,Jt,ri,K,En):fe.isDataTexture?Ae.texSubImage2D(Ae.TEXTURE_2D,ft,Un,Yn,Et,Gt,ri,K,En.data):fe.isCompressedTexture?Ae.compressedTexSubImage2D(Ae.TEXTURE_2D,ft,Un,Yn,En.width,En.height,ri,En.data):Ae.texSubImage2D(Ae.TEXTURE_2D,ft,Un,Yn,Et,Gt,ri,K,En);Ae.pixelStorei(Ae.UNPACK_ROW_LENGTH,ni),Ae.pixelStorei(Ae.UNPACK_IMAGE_HEIGHT,ci),Ae.pixelStorei(Ae.UNPACK_SKIP_PIXELS,ct),Ae.pixelStorei(Ae.UNPACK_SKIP_ROWS,Je),Ae.pixelStorei(Ae.UNPACK_SKIP_IMAGES,wn),ft===0&&Be.generateMipmaps&&Ae.generateMipmap($i),At.unbindTexture()},this.copyTextureToTexture3D=function(fe,Be,Ve=null,je=null,et=0){return e0('WebGLRenderer: copyTextureToTexture3D function has been deprecated. Use "copyTextureToTexture" instead.'),this.copyTextureToTexture(fe,Be,Ve,je,et)},this.initRenderTarget=function(fe){nt.get(fe).__webglFramebuffer===void 0&&Nt.setupRenderTarget(fe)},this.initTexture=function(fe){fe.isCubeTexture?Nt.setTextureCube(fe,0):fe.isData3DTexture?Nt.setTexture3D(fe,0):fe.isDataArrayTexture||fe.isCompressedArrayTexture?Nt.setTexture2DArray(fe,0):Nt.setTexture2D(fe,0),At.unbindTexture()},this.resetState=function(){P=0,C=0,I=null,At.reset(),Xt.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return ku}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(e){this._outputColorSpace=e;const t=this.getContext();t.drawingBufferColorSpace=$r._getDrawingBufferColorSpace(e),t.unpackColorSpace=$r._getUnpackColorSpace()}}const gve=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping:FM,AddEquation:Op,AddOperation:qU,AdditiveAnimationBlendMode:GM,AdditiveBlending:_R,AgXToneMapping:QU,AlphaFormat:kM,AlwaysCompare:fk,AlwaysDepth:ES,AlwaysStencilFunc:wR,AmbientLight:l5,AnimationAction:v5,AnimationClip:P_,AnimationLoader:Ihe,AnimationMixer:ode,AnimationObjectGroup:rde,AnimationUtils:Ohe,ArcCurve:Pk,ArrayCamera:p5,ArrowHelper:Ade,AttachedBindMode:SR,Audio:m5,AudioAnalyser:qhe,AudioContext:f2,AudioListener:Whe,AudioLoader:Hhe,AxesHelper:Rde,BackSide:hc,BasicDepthPacking:rk,BasicShadowMap:RU,BatchedMesh:Ak,Bone:ZM,BooleanKeyframeTrack:Ag,Box2:fde,Box3:Nl,Box3Helper:Cde,BoxGeometry:Tg,BoxHelper:wde,BufferAttribute:Is,BufferGeometry:hr,BufferGeometryLoader:f5,ByteType:FE,Cache:sd,Camera:WE,CameraHelper:Ede,CanvasTexture:Jue,CapsuleGeometry:JE,CatmullRomCurve3:Nk,CineonToneMapping:KU,CircleGeometry:ew,ClampToEdgeWrapping:Ea,Clock:p2,Color:jn,ColorKeyframeTrack:u2,ColorManagement:$r,CompressedArrayTexture:Zue,CompressedCubeTexture:Que,CompressedTexture:ZE,CompressedTextureLoader:Dhe,ConeGeometry:sb,ConstantAlphaFactor:WU,ConstantColorFactor:GU,Controls:Ode,CubeCamera:xk,CubeReflectionMapping:pd,CubeRefractionMapping:$p,CubeTexture:nb,CubeTextureLoader:i5,CubeUVReflectionMapping:L0,CubicBezierCurve:e2,CubicBezierCurve3:Ik,CubicInterpolant:Jk,CullFaceBack:yR,CullFaceFront:AU,CullFaceFrontBack:oce,CullFaceNone:TU,Curve:Ah,CurvePath:Fk,CustomBlending:MU,CustomToneMapping:ZU,CylinderGeometry:rb,Cylindrical:dde,Data3DTexture:VE,DataArrayTexture:GE,DataTexture:bh,DataTextureLoader:h2,DataUtils:sg,DecrementStencilOp:bce,DecrementWrapStencilOp:Sce,DefaultLoadingManager:n5,DepthFormat:f0,DepthStencilFormat:p0,DepthTexture:QE,DetachedBindMode:ek,DirectionalLight:a5,DirectionalLightHelper:Sde,DiscreteInterpolant:e5,DodecahedronGeometry:tw,DoubleSide:Du,DstAlphaFactor:UU,DstColorFactor:zU,DynamicCopyUsage:Bce,DynamicDrawUsage:Lce,DynamicReadUsage:Ice,EdgesGeometry:Lk,EllipseCurve:nw,EqualCompare:ck,EqualDepth:CS,EqualStencilFunc:Tce,EquirectangularReflectionMapping:u0,EquirectangularRefractionMapping:y_,Euler:su,EventDispatcher:vd,ExtrudeGeometry:iw,FileLoader:iu,Float16BufferAttribute:Mue,Float32BufferAttribute:mi,FloatType:bo,Fog:XE,FogExp2:jE,FramebufferTexture:Kue,FrontSide:wf,Frustum:P0,FrustumArray:KE,GLBufferAttribute:hde,GLSL1:kce,GLSL3:CR,GreaterCompare:uk,GreaterDepth:AS,GreaterEqualCompare:dk,GreaterEqualDepth:TS,GreaterEqualStencilFunc:Oce,GreaterStencilFunc:Rce,GridHelper:bde,Group:Wv,HalfFloatType:Ia,HemisphereLight:r5,HemisphereLightHelper:_de,IcosahedronGeometry:ob,ImageBitmapLoader:$he,ImageLoader:N_,ImageUtils:vk,IncrementStencilOp:_ce,IncrementWrapStencilOp:xce,InstancedBufferAttribute:y0,InstancedBufferGeometry:d5,InstancedInterleavedBuffer:ude,InstancedMesh:Tk,Int16BufferAttribute:Aue,Int32BufferAttribute:Rue,Int8BufferAttribute:wue,IntType:J_,InterleavedBuffer:qE,InterleavedBufferAttribute:_g,Interpolant:cb,InterpolateDiscrete:x_,InterpolateLinear:tE,InterpolateSmooth:I1,InterpolationSamplingMode:Hce,InterpolationSamplingType:$ce,InvertStencilOp:Ece,KeepStencilOp:Wm,KeyframeTrack:Hu,LOD:wk,LatheGeometry:rw,Layers:g0,LessCompare:lk,LessDepth:wS,LessEqualCompare:VM,LessEqualDepth:yg,LessEqualStencilFunc:Ace,LessStencilFunc:Cce,Light:jp,LightProbe:h5,Line:Hp,Line3:pde,LineBasicMaterial:pc,LineCurve:t2,LineCurve3:Dk,LineDashedMaterial:Kk,LineLoop:Rk,LineSegments:yd,LinearFilter:os,LinearInterpolant:c2,LinearMipMapLinearFilter:ER,LinearMipMapNearestFilter:uce,LinearMipmapLinearFilter:rd,LinearMipmapNearestFilter:Ky,LinearSRGBColorSpace:Ch,LinearToneMapping:DE,LinearTransfer:E_,Loader:mc,LoaderUtils:OR,LoadingManager:hw,LoopOnce:tk,LoopPingPong:ik,LoopRepeat:nk,MOUSE:Gm,Material:Fl,MaterialLoader:fw,MathUtils:pk,Matrix2:_2,Matrix3:ar,Matrix4:Wi,MaxEquation:NU,Mesh:Oo,MeshBasicMaterial:Lf,MeshDepthMaterial:o2,MeshDistanceMaterial:a2,MeshLambertMaterial:qk,MeshMatcapMaterial:Yk,MeshNormalMaterial:Xk,MeshPhongMaterial:Wk,MeshPhysicalMaterial:Vk,MeshStandardMaterial:s2,MeshToonMaterial:jk,MinEquation:PU,MirroredRepeatWrapping:b_,MixOperation:XU,MultiplyBlending:xR,MultiplyOperation:Q_,NearestFilter:ml,NearestMipMapLinearFilter:cce,NearestMipMapNearestFilter:lce,NearestMipmapLinearFilter:Gv,NearestMipmapNearestFilter:BM,NeutralToneMapping:JU,NeverCompare:ak,NeverDepth:SS,NeverStencilFunc:wce,NoBlending:ad,NoColorSpace:uf,NoToneMapping:ld,NormalAnimationBlendMode:HE,NormalBlending:hg,NotEqualCompare:hk,NotEqualDepth:RS,NotEqualStencilFunc:Mce,NumberKeyframeTrack:O_,Object3D:Zr,ObjectLoader:khe,ObjectSpaceNormalMap:ok,OctahedronGeometry:ab,OneFactor:DU,OneMinusConstantAlphaFactor:jU,OneMinusConstantColorFactor:VU,OneMinusDstAlphaFactor:kU,OneMinusDstColorFactor:$U,OneMinusSrcAlphaFactor:xS,OneMinusSrcColorFactor:BU,OrthographicCamera:bf,PCFShadowMap:IE,PCFSoftShadowMap:Yy,PMREMGenerator:IR,Path:sE,PerspectiveCamera:na,Plane:sf,PlaneGeometry:Wp,PlaneHelper:Tde,PointLight:o5,PointLightHelper:vde,Points:Mk,PointsMaterial:QM,PolarGridHelper:xde,PolyhedronGeometry:Vp,PositionalAudio:Xhe,PropertyBinding:Yr,PropertyMixer:g5,QuadraticBezierCurve:n2,QuadraticBezierCurve3:i2,Quaternion:Pl,QuaternionKeyframeTrack:ub,QuaternionLinearInterpolant:t5,RED_GREEN_RGTC2_Format:JS,RED_RGTC1_Format:HM,REVISION:Z_,RGBADepthPacking:sk,RGBAFormat:oa,RGBAIntegerFormat:$E,RGBA_ASTC_10x10_Format:XS,RGBA_ASTC_10x5_Format:VS,RGBA_ASTC_10x6_Format:WS,RGBA_ASTC_10x8_Format:jS,RGBA_ASTC_12x10_Format:qS,RGBA_ASTC_12x12_Format:YS,RGBA_ASTC_4x4_Format:FS,RGBA_ASTC_5x4_Format:BS,RGBA_ASTC_5x5_Format:US,RGBA_ASTC_6x5_Format:kS,RGBA_ASTC_6x6_Format:zS,RGBA_ASTC_8x5_Format:$S,RGBA_ASTC_8x6_Format:HS,RGBA_ASTC_8x8_Format:GS,RGBA_BPTC_Format:t_,RGBA_ETC2_EAC_Format:DS,RGBA_PVRTC_2BPPV1_Format:PS,RGBA_PVRTC_4BPPV1_Format:LS,RGBA_S3TC_DXT1_Format:Qy,RGBA_S3TC_DXT3_Format:Jy,RGBA_S3TC_DXT5_Format:e_,RGBDepthPacking:mce,RGBFormat:zM,RGBIntegerFormat:hce,RGB_BPTC_SIGNED_Format:KS,RGB_BPTC_UNSIGNED_Format:ZS,RGB_ETC1_Format:NS,RGB_ETC2_Format:IS,RGB_PVRTC_2BPPV1_Format:OS,RGB_PVRTC_4BPPV1_Format:MS,RGB_S3TC_DXT1_Format:Zy,RGDepthPacking:gce,RGFormat:$M,RGIntegerFormat:zE,RawShaderMaterial:Gk,Ray:Cg,Raycaster:y2,RectAreaLight:c5,RedFormat:eb,RedIntegerFormat:tb,ReinhardToneMapping:YU,RenderTarget:jM,RenderTarget3D:ade,RepeatWrapping:__,ReplaceStencilOp:yce,ReverseSubtractEquation:LU,RingGeometry:sw,SIGNED_RED_GREEN_RGTC2_Format:eE,SIGNED_RED_RGTC1_Format:QS,SRGBColorSpace:Na,SRGBTransfer:Es,Scene:ib,ShaderChunk:mr,ShaderLib:fh,ShaderMaterial:Dc,ShadowMaterial:Hk,Shape:fg,ShapeGeometry:ow,ShapePath:Mde,ShapeUtils:gh,ShortType:BE,Skeleton:YE,SkeletonHelper:gde,SkinnedMesh:Ck,Source:Np,Sphere:gl,SphereGeometry:lb,Spherical:PR,SphericalHarmonics3:u5,SplineCurve:r2,SpotLight:s5,SpotLightHelper:mde,Sprite:Ek,SpriteMaterial:KM,SrcAlphaFactor:bS,SrcAlphaSaturateFactor:HU,SrcColorFactor:FU,StaticCopyUsage:Fce,StaticDrawUsage:w_,StaticReadUsage:Nce,StereoCamera:Ghe,StreamCopyUsage:Uce,StreamDrawUsage:Pce,StreamReadUsage:Dce,StringKeyframeTrack:Rg,SubtractEquation:OU,SubtractiveBlending:bR,TOUCH:Vm,TangentSpaceNormalMap:Gp,TetrahedronGeometry:aw,Texture:ps,TextureLoader:dw,TextureUtils:Dde,TimestampQuery:zce,TorusGeometry:lw,TorusKnotGeometry:cw,Triangle:Pc,TriangleFanDrawMode:pce,TriangleStripDrawMode:fce,TrianglesDrawMode:dce,TubeGeometry:uw,UVMapping:zp,Uint16BufferAttribute:XM,Uint32BufferAttribute:qM,Uint8BufferAttribute:Cue,Uint8ClampedBufferAttribute:Tue,Uniform:v2,UniformsGroup:cde,UniformsLib:Wn,UniformsUtils:bk,UnsignedByteType:fc,UnsignedInt248Type:d0,UnsignedInt5999Type:UM,UnsignedIntType:md,UnsignedShort4444Type:UE,UnsignedShort5551Type:kE,UnsignedShortType:h0,VSMShadowMap:hh,Vector2:rn,Vector3:De,Vector4:Kr,VectorKeyframeTrack:L_,VideoFrameTexture:Yue,VideoTexture:Ok,WebGL3DRenderTarget:fue,WebGLArrayRenderTarget:due,WebGLCoordinateSystem:ku,WebGLCubeRenderTarget:YM,WebGLRenderTarget:ru,WebGLRenderer:x2,WebGLUtils:w5,WebGPUCoordinateSystem:C_,WebXRController:D1,WireframeGeometry:$k,WrapAroundEnding:S_,ZeroCurvatureEnding:ig,ZeroFactor:IU,ZeroSlopeEnding:rg,ZeroStencilOp:vce,createCanvasElement:gk},Symbol.toStringTag,{value:"Module"}));var YT={exports:{}},nf={};/**
 * @license React
 * react-reconciler-constants.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nD;function vve(){return nD||(nD=1,nf.ConcurrentRoot=1,nf.ContinuousEventPriority=8,nf.DefaultEventPriority=32,nf.DiscreteEventPriority=2,nf.IdleEventPriority=268435456,nf.LegacyRoot=0,nf.NoEventPriority=0),nf}var iD;function yve(){return iD||(iD=1,YT.exports=vve()),YT.exports}var B1=yve(),KT={exports:{}},ZT={},QT={exports:{}},JT={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rD;function _ve(){if(rD)return JT;rD=1;var n=Sg();function e(d,b){return d===b&&(d!==0||1/d===1/b)||d!==d&&b!==b}var t=typeof Object.is=="function"?Object.is:e,i=n.useState,r=n.useEffect,s=n.useLayoutEffect,o=n.useDebugValue;function l(d,b){var g=b(),_=i({inst:{value:g,getSnapshot:b}}),p=_[0].inst,v=_[1];return s(function(){p.value=g,p.getSnapshot=b,a(p)&&v({inst:p})},[d,g,b]),r(function(){return a(p)&&v({inst:p}),d(function(){a(p)&&v({inst:p})})},[d]),o(g),g}function a(d){var b=d.getSnapshot;d=d.value;try{var g=b();return!t(d,g)}catch{return!0}}function u(d,b){return b()}var m=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?u:l;return JT.useSyncExternalStore=n.useSyncExternalStore!==void 0?n.useSyncExternalStore:m,JT}var sD;function bve(){return sD||(sD=1,QT.exports=_ve()),QT.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oD;function xve(){if(oD)return ZT;oD=1;var n=Sg(),e=bve();function t(u,m){return u===m&&(u!==0||1/u===1/m)||u!==u&&m!==m}var i=typeof Object.is=="function"?Object.is:t,r=e.useSyncExternalStore,s=n.useRef,o=n.useEffect,l=n.useMemo,a=n.useDebugValue;return ZT.useSyncExternalStoreWithSelector=function(u,m,d,b,g){var _=s(null);if(_.current===null){var p={hasValue:!1,value:null};_.current=p}else p=_.current;_=l(function(){function c(P){if(!x){if(x=!0,w=P,P=b(P),g!==void 0&&p.hasValue){var C=p.value;if(g(C,P))return T=C}return T=P}if(C=T,i(w,P))return C;var I=b(P);return g!==void 0&&g(C,I)?(w=P,C):(w=P,T=I)}var x=!1,w,T,L=d===void 0?null:d;return[function(){return c(m())},L===null?void 0:function(){return c(L())}]},[m,d,b,g]);var v=r(u,_[0],_[1]);return o(function(){p.hasValue=!0,p.value=v},[v]),a(v),v},ZT}var aD;function Sve(){return aD||(aD=1,KT.exports=xve()),KT.exports}var Eve=Sve();const wve=zu(Eve),lD=n=>{let e;const t=new Set,i=(u,m)=>{const d=typeof u=="function"?u(e):u;if(!Object.is(d,e)){const b=e;e=m??(typeof d!="object"||d===null)?d:Object.assign({},e,d),t.forEach(g=>g(e,b))}},r=()=>e,l={setState:i,getState:r,getInitialState:()=>a,subscribe:u=>(t.add(u),()=>t.delete(u))},a=e=n(i,r,l);return l},Cve=(n=>n?lD(n):lD),{useSyncExternalStoreWithSelector:Tve}=wve,Ave=n=>n;function Rve(n,e=Ave,t){const i=Tve(n.subscribe,n.getState,n.getInitialState,e,t);return We.useDebugValue(i),i}const cD=(n,e)=>{const t=Cve(n),i=(r,s=e)=>Rve(t,r,s);return Object.assign(i,t),i},C5=((n,e)=>n?cD(n,e):cD),Mve=n=>typeof n=="object"&&typeof n.then=="function",ag=[];function T5(n,e,t=(i,r)=>i===r){if(n===e)return!0;if(!n||!e)return!1;const i=n.length;if(e.length!==i)return!1;for(let r=0;r<i;r++)if(!t(n[r],e[r]))return!1;return!0}function A5(n,e=null,t=!1,i={}){e===null&&(e=[n]);for(const s of ag)if(T5(e,s.keys,s.equal)){if(t)return;if(Object.prototype.hasOwnProperty.call(s,"error"))throw s.error;if(Object.prototype.hasOwnProperty.call(s,"response"))return i.lifespan&&i.lifespan>0&&(s.timeout&&clearTimeout(s.timeout),s.timeout=setTimeout(s.remove,i.lifespan)),s.response;if(!t)throw s.promise}const r={keys:e,equal:i.equal,remove:()=>{const s=ag.indexOf(r);s!==-1&&ag.splice(s,1)},promise:(Mve(n)?n:n(...e)).then(s=>{r.response=s,i.lifespan&&i.lifespan>0&&(r.timeout=setTimeout(r.remove,i.lifespan))}).catch(s=>r.error=s)};if(ag.push(r),!t)throw r.promise}const Ove=(n,e,t)=>A5(n,e,!1,t),Lve=(n,e,t)=>void A5(n,e,!0,t),Pve=n=>{if(n===void 0||n.length===0)ag.splice(0,ag.length);else{const e=ag.find(t=>T5(n,t.keys,t.equal));e&&e.remove()}};var eA={exports:{}},tA={exports:{}},nA={exports:{}},iA={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uD;function Nve(){return uD||(uD=1,(function(n){function e(H,te){var ne=H.length;H.push(te);e:for(;0<ne;){var he=ne-1>>>1,ie=H[he];if(0<r(ie,te))H[he]=te,H[ne]=ie,ne=he;else break e}}function t(H){return H.length===0?null:H[0]}function i(H){if(H.length===0)return null;var te=H[0],ne=H.pop();if(ne!==te){H[0]=ne;e:for(var he=0,ie=H.length,ce=ie>>>1;he<ce;){var Se=2*(he+1)-1,Ee=H[Se],me=Se+1,le=H[me];if(0>r(Ee,ne))me<ie&&0>r(le,Ee)?(H[he]=le,H[me]=ne,he=me):(H[he]=Ee,H[Se]=ne,he=Se);else if(me<ie&&0>r(le,ne))H[he]=le,H[me]=ne,he=me;else break e}}return te}function r(H,te){var ne=H.sortIndex-te.sortIndex;return ne!==0?ne:H.id-te.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();n.unstable_now=function(){return o.now()-l}}var a=[],u=[],m=1,d=null,b=3,g=!1,_=!1,p=!1,v=typeof setTimeout=="function"?setTimeout:null,c=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;function w(H){for(var te=t(u);te!==null;){if(te.callback===null)i(u);else if(te.startTime<=H)i(u),te.sortIndex=te.expirationTime,e(a,te);else break;te=t(u)}}function T(H){if(p=!1,w(H),!_)if(t(a)!==null)_=!0,k();else{var te=t(u);te!==null&&V(T,te.startTime-H)}}var L=!1,P=-1,C=5,I=-1;function F(){return!(n.unstable_now()-I<C)}function R(){if(L){var H=n.unstable_now();I=H;var te=!0;try{e:{_=!1,p&&(p=!1,c(P),P=-1),g=!0;var ne=b;try{t:{for(w(H),d=t(a);d!==null&&!(d.expirationTime>H&&F());){var he=d.callback;if(typeof he=="function"){d.callback=null,b=d.priorityLevel;var ie=he(d.expirationTime<=H);if(H=n.unstable_now(),typeof ie=="function"){d.callback=ie,w(H),te=!0;break t}d===t(a)&&i(a),w(H)}else i(a);d=t(a)}if(d!==null)te=!0;else{var ce=t(u);ce!==null&&V(T,ce.startTime-H),te=!1}}break e}finally{d=null,b=ne,g=!1}te=void 0}}finally{te?D():L=!1}}}var D;if(typeof x=="function")D=function(){x(R)};else if(typeof MessageChannel<"u"){var G=new MessageChannel,j=G.port2;G.port1.onmessage=R,D=function(){j.postMessage(null)}}else D=function(){v(R,0)};function k(){L||(L=!0,D())}function V(H,te){P=v(function(){H(n.unstable_now())},te)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(H){H.callback=null},n.unstable_continueExecution=function(){_||g||(_=!0,k())},n.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<H?Math.floor(1e3/H):5},n.unstable_getCurrentPriorityLevel=function(){return b},n.unstable_getFirstCallbackNode=function(){return t(a)},n.unstable_next=function(H){switch(b){case 1:case 2:case 3:var te=3;break;default:te=b}var ne=b;b=te;try{return H()}finally{b=ne}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(H,te){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var ne=b;b=H;try{return te()}finally{b=ne}},n.unstable_scheduleCallback=function(H,te,ne){var he=n.unstable_now();switch(typeof ne=="object"&&ne!==null?(ne=ne.delay,ne=typeof ne=="number"&&0<ne?he+ne:he):ne=he,H){case 1:var ie=-1;break;case 2:ie=250;break;case 5:ie=1073741823;break;case 4:ie=1e4;break;default:ie=5e3}return ie=ne+ie,H={id:m++,callback:te,priorityLevel:H,startTime:ne,expirationTime:ie,sortIndex:-1},ne>he?(H.sortIndex=ne,e(u,H),t(a)===null&&H===t(u)&&(p?(c(P),P=-1):p=!0,V(T,ne-he))):(H.sortIndex=ie,e(a,H),_||g||(_=!0,k())),H},n.unstable_shouldYield=F,n.unstable_wrapCallback=function(H){var te=b;return function(){var ne=b;b=te;try{return H.apply(this,arguments)}finally{b=ne}}}})(iA)),iA}var hD;function R5(){return hD||(hD=1,nA.exports=Nve()),nA.exports}/**
 * @license React
 * react-reconciler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dD;function Ive(){return dD||(dD=1,(function(n){n.exports=function(e){function t(y,S,N,$){return new Qp(y,S,N,$)}function i(){}function r(y){var S="https://react.dev/errors/"+y;if(1<arguments.length){S+="?args[]="+encodeURIComponent(arguments[1]);for(var N=2;N<arguments.length;N++)S+="&args[]="+encodeURIComponent(arguments[N])}return"Minified React error #"+y+"; visit "+S+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(y){return y===null||typeof y!="object"?null:(y=Me&&y[Me]||y["@@iterator"],typeof y=="function"?y:null)}function o(y){if(y==null)return null;if(typeof y=="function")return y.$$typeof===ut?null:y.displayName||y.name||null;if(typeof y=="string")return y;switch(y){case pu:return"Fragment";case Sl:return"Portal";case zf:return"Profiler";case Td:return"StrictMode";case Hf:return"Suspense";case Ih:return"SuspenseList"}if(typeof y=="object")switch(y.$$typeof){case Ha:return(y.displayName||"Context")+".Provider";case $f:return(y._context.displayName||"Context")+".Consumer";case mu:var S=y.render;return y=y.displayName,y||(y=S.displayName||S.name||"",y=y!==""?"ForwardRef("+y+")":"ForwardRef"),y;case gu:return S=y.displayName||null,S!==null?S:o(y.type)||"Memo";case ye:S=y._payload,y=y._init;try{return o(y(S))}catch{}}return null}function l(y){if(Dt===void 0)try{throw Error()}catch(N){var S=N.stack.trim().match(/\n( *(at )?)/);Dt=S&&S[1]||"",cn=-1<N.stack.indexOf(`
    at`)?" (<anonymous>)":-1<N.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Dt+y+cn}function a(y,S){if(!y||Ln)return"";Ln=!0;var N=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var $={DetermineComponentFrameRoot:function(){try{if(S){var Vn=function(){throw Error()};if(Object.defineProperty(Vn.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Vn,[])}catch(tr){var Zn=tr}Reflect.construct(y,[],Vn)}else{try{Vn.call()}catch(tr){Zn=tr}y.call(Vn.prototype)}}else{try{throw Error()}catch(tr){Zn=tr}(Vn=y())&&typeof Vn.catch=="function"&&Vn.catch(function(){})}}catch(tr){if(tr&&Zn&&typeof tr.stack=="string")return[tr.stack,Zn.stack]}return[null,null]}};$.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var Y=Object.getOwnPropertyDescriptor($.DetermineComponentFrameRoot,"name");Y&&Y.configurable&&Object.defineProperty($.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var se=$.DetermineComponentFrameRoot(),Oe=se[0],Ze=se[1];if(Oe&&Ze){var gt=Oe.split(`
`),tn=Ze.split(`
`);for(Y=$=0;$<gt.length&&!gt[$].includes("DetermineComponentFrameRoot");)$++;for(;Y<tn.length&&!tn[Y].includes("DetermineComponentFrameRoot");)Y++;if($===gt.length||Y===tn.length)for($=gt.length-1,Y=tn.length-1;1<=$&&0<=Y&&gt[$]!==tn[Y];)Y--;for(;1<=$&&0<=Y;$--,Y--)if(gt[$]!==tn[Y]){if($!==1||Y!==1)do if($--,Y--,0>Y||gt[$]!==tn[Y]){var In=`
`+gt[$].replace(" at new "," at ");return y.displayName&&In.includes("<anonymous>")&&(In=In.replace("<anonymous>",y.displayName)),In}while(1<=$&&0<=Y);break}}}finally{Ln=!1,Error.prepareStackTrace=N}return(N=y?y.displayName||y.name:"")?l(N):""}function u(y){switch(y.tag){case 26:case 27:case 5:return l(y.type);case 16:return l("Lazy");case 13:return l("Suspense");case 19:return l("SuspenseList");case 0:case 15:return y=a(y.type,!1),y;case 11:return y=a(y.type.render,!1),y;case 1:return y=a(y.type,!0),y;default:return""}}function m(y){try{var S="";do S+=u(y),y=y.return;while(y);return S}catch(N){return`
Error generating stack: `+N.message+`
`+N.stack}}function d(y){var S=y,N=y;if(y.alternate)for(;S.return;)S=S.return;else{y=S;do S=y,(S.flags&4098)!==0&&(N=S.return),y=S.return;while(y)}return S.tag===3?N:null}function b(y){if(d(y)!==y)throw Error(r(188))}function g(y){var S=y.alternate;if(!S){if(S=d(y),S===null)throw Error(r(188));return S!==y?null:y}for(var N=y,$=S;;){var Y=N.return;if(Y===null)break;var se=Y.alternate;if(se===null){if($=Y.return,$!==null){N=$;continue}break}if(Y.child===se.child){for(se=Y.child;se;){if(se===N)return b(Y),y;if(se===$)return b(Y),S;se=se.sibling}throw Error(r(188))}if(N.return!==$.return)N=Y,$=se;else{for(var Oe=!1,Ze=Y.child;Ze;){if(Ze===N){Oe=!0,N=Y,$=se;break}if(Ze===$){Oe=!0,$=Y,N=se;break}Ze=Ze.sibling}if(!Oe){for(Ze=se.child;Ze;){if(Ze===N){Oe=!0,N=se,$=Y;break}if(Ze===$){Oe=!0,$=se,N=Y;break}Ze=Ze.sibling}if(!Oe)throw Error(r(189))}}if(N.alternate!==$)throw Error(r(190))}if(N.tag!==3)throw Error(r(188));return N.stateNode.current===N?y:S}function _(y){var S=y.tag;if(S===5||S===26||S===27||S===6)return y;for(y=y.child;y!==null;){if(S=_(y),S!==null)return S;y=y.sibling}return null}function p(y){var S=y.tag;if(S===5||S===26||S===27||S===6)return y;for(y=y.child;y!==null;){if(y.tag!==4&&(S=p(y),S!==null))return S;y=y.sibling}return null}function v(y){return{current:y}}function c(y){0>Ju||(y.current=Eo[Ju],Eo[Ju]=null,Ju--)}function x(y,S){Ju++,Eo[Ju]=y.current,y.current=S}function w(y){return y>>>=0,y===0?32:31-(Lb(y)/Pb|0)|0}function T(y){var S=y&42;if(S!==0)return S;switch(y&-y){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return y&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return y&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return y}}function L(y,S){var N=y.pendingLanes;if(N===0)return 0;var $=0,Y=y.suspendedLanes,se=y.pingedLanes,Oe=y.warmLanes;y=y.finishedLanes!==0;var Ze=N&134217727;return Ze!==0?(N=Ze&~Y,N!==0?$=T(N):(se&=Ze,se!==0?$=T(se):y||(Oe=Ze&~Oe,Oe!==0&&($=T(Oe))))):(Ze=N&~Y,Ze!==0?$=T(Ze):se!==0?$=T(se):y||(Oe=N&~Oe,Oe!==0&&($=T(Oe)))),$===0?0:S!==0&&S!==$&&(S&Y)===0&&(Y=$&-$,Oe=S&-S,Y>=Oe||Y===32&&(Oe&4194176)!==0)?S:$}function P(y,S){return(y.pendingLanes&~(y.suspendedLanes&~y.pingedLanes)&S)===0}function C(y,S){switch(y){case 1:case 2:case 4:case 8:return S+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return S+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function I(){var y=_u;return _u<<=1,(_u&4194176)===0&&(_u=128),y}function F(){var y=Od;return Od<<=1,(Od&62914560)===0&&(Od=4194304),y}function R(y){for(var S=[],N=0;31>N;N++)S.push(y);return S}function D(y,S){y.pendingLanes|=S,S!==268435456&&(y.suspendedLanes=0,y.pingedLanes=0,y.warmLanes=0)}function G(y,S,N,$,Y,se){var Oe=y.pendingLanes;y.pendingLanes=N,y.suspendedLanes=0,y.pingedLanes=0,y.warmLanes=0,y.expiredLanes&=N,y.entangledLanes&=N,y.errorRecoveryDisabledLanes&=N,y.shellSuspendCounter=0;var Ze=y.entanglements,gt=y.expirationTimes,tn=y.hiddenUpdates;for(N=Oe&~N;0<N;){var In=31-sl(N),Vn=1<<In;Ze[In]=0,gt[In]=-1;var Zn=tn[In];if(Zn!==null)for(tn[In]=null,In=0;In<Zn.length;In++){var tr=Zn[In];tr!==null&&(tr.lane&=-536870913)}N&=~Vn}$!==0&&j(y,$,0),se!==0&&Y===0&&y.tag!==0&&(y.suspendedLanes|=se&~(Oe&~S))}function j(y,S,N){y.pendingLanes|=S,y.suspendedLanes&=~S;var $=31-sl(S);y.entangledLanes|=S,y.entanglements[$]=y.entanglements[$]|1073741824|N&4194218}function k(y,S){var N=y.entangledLanes|=S;for(y=y.entanglements;N;){var $=31-sl(N),Y=1<<$;Y&S|y[$]&S&&(y[$]|=S),N&=~Y}}function V(y){return y&=-y,2<y?8<y?(y&134217727)!==0?32:268435456:8:2}function H(y){if(wl&&typeof wl.onCommitFiberRoot=="function")try{wl.onCommitFiberRoot(wo,y,void 0,(y.current.flags&128)===128)}catch{}}function te(y){if(typeof Db=="function"&&va(y),wl&&typeof wl.setStrictMode=="function")try{wl.setStrictMode(wo,y)}catch{}}function ne(y,S){return y===S&&(y!==0||1/y===1/S)||y!==y&&S!==S}function he(y,S){if(typeof y=="object"&&y!==null){var N=V0.get(y);return N!==void 0?N:(S={value:y,source:S,stack:m(S)},V0.set(y,S),S)}return{value:y,source:S,stack:m(S)}}function ie(y,S){Ld[Pd++]=Kf,Ld[Pd++]=Nd,Nd=y,Kf=S}function ce(y,S,N){Vl[Wl++]=Wc,Vl[Wl++]=jc,Vl[Wl++]=kh,kh=y;var $=Wc;y=jc;var Y=32-sl($)-1;$&=~(1<<Y),N+=1;var se=32-sl(S)+Y;if(30<se){var Oe=Y-Y%5;se=($&(1<<Oe)-1).toString(32),$>>=Oe,Y-=Oe,Wc=1<<32-sl(S)+Y|N<<Y|$,jc=se+y}else Wc=1<<se|N<<Y|$,jc=y}function Se(y){y.return!==null&&(ie(y,1),ce(y,1,0))}function Ee(y){for(;y===Nd;)Nd=Ld[--Pd],Ld[Pd]=null,Kf=Ld[--Pd],Ld[Pd]=null;for(;y===kh;)kh=Vl[--Wl],Vl[Wl]=null,jc=Vl[--Wl],Vl[Wl]=null,Wc=Vl[--Wl],Vl[Wl]=null}function me(y,S){x(bu,S),x(Zf,y),x(Qo,null),y=Hi(S),c(Qo),x(Qo,y)}function le(){c(Qo),c(Zf),c(bu)}function we(y){y.memoizedState!==null&&x(Id,y);var S=Qo.current,N=Ci(S,y.type);S!==N&&(x(Zf,y),x(Qo,N))}function Re(y){Zf.current===y&&(c(Qo),c(Zf)),Id.current===y&&(c(Id),br?El._currentValue=Hc:El._currentValue2=Hc)}function Fe(y){var S=Error(r(418,""));throw pn(he(S,y)),mm}function qe(y,S){if(!Ur)throw Error(r(175));xb(y.stateNode,y.type,y.memoizedProps,S,y)||Fe(y)}function ot(y){for(La=y.return;La;)switch(La.tag){case 3:case 27:ya=!0;return;case 5:case 13:ya=!1;return;default:La=La.return}}function dn(y){if(!Ur||y!==La)return!1;if(!Ir)return ot(y),Ir=!0,!1;var S=!1;if(_s?y.tag!==3&&y.tag!==27&&(y.tag!==5||Ug(y.type)&&!Bn(y.type,y.memoizedProps))&&(S=!0):y.tag!==3&&(y.tag!==5||Ug(y.type)&&!Bn(y.type,y.memoizedProps))&&(S=!0),S&&Pa&&Fe(y),ot(y),y.tag===13){if(!Ur)throw Error(r(316));if(y=y.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(r(317));Pa=Eb(y)}else Pa=La?z0(y.stateNode):null;return!0}function mn(){Ur&&(Pa=La=null,Ir=!1)}function pn(y){xc===null?xc=[y]:xc.push(y)}function Ae(){for(var y=Dd,S=Xc=Dd=0;S<y;){var N=Sc[S];Sc[S++]=null;var $=Sc[S];Sc[S++]=null;var Y=Sc[S];Sc[S++]=null;var se=Sc[S];if(Sc[S++]=null,$!==null&&Y!==null){var Oe=$.pending;Oe===null?Y.next=Y:(Y.next=Oe.next,Oe.next=Y),$.pending=Y}se!==0&&At(N,Y,se)}}function Bt(y,S,N,$){Sc[Dd++]=y,Sc[Dd++]=S,Sc[Dd++]=N,Sc[Dd++]=$,Xc|=$,y.lanes|=$,y=y.alternate,y!==null&&(y.lanes|=$)}function Tt(y,S,N,$){return Bt(y,S,N,$),yn(y)}function zt(y,S){return Bt(y,null,null,S),yn(y)}function At(y,S,N){y.lanes|=N;var $=y.alternate;$!==null&&($.lanes|=N);for(var Y=!1,se=y.return;se!==null;)se.childLanes|=N,$=se.alternate,$!==null&&($.childLanes|=N),se.tag===22&&(y=se.stateNode,y===null||y._visibility&1||(Y=!0)),y=se,se=se.return;Y&&S!==null&&y.tag===3&&(se=y.stateNode,Y=31-sl(N),se=se.hiddenUpdates,y=se[Y],y===null?se[Y]=[S]:y.push(S),S.lane=N|536870912)}function yn(y){if(50<op)throw op=0,Jg=null,Error(r(185));for(var S=y.return;S!==null;)y=S,S=y.return;return y.tag===3?y.stateNode:null}function nt(y){y!==eh&&y.next===null&&(eh===null?gm=eh=y:eh=eh.next=y),Ts=!0,Fd||(Fd=!0,rt(en))}function Nt(y,S){if(!W0&&Ts){W0=!0;do for(var N=!1,$=gm;$!==null;){if(y!==0){var Y=$.pendingLanes;if(Y===0)var se=0;else{var Oe=$.suspendedLanes,Ze=$.pingedLanes;se=(1<<31-sl(42|y)+1)-1,se&=Y&~(Oe&~Ze),se=se&201326677?se&201326677|1:se?se|2:0}se!==0&&(N=!0,ze($,se))}else se=Cr,se=L($,$===es?se:0),(se&3)===0||P($,se)||(N=!0,ze($,se));$=$.next}while(N);W0=!1}}function en(){Ts=Fd=!1;var y=0;Qf!==0&&(Ku()&&(y=Qf),Qf=0);for(var S=bc(),N=null,$=gm;$!==null;){var Y=$.next,se=_e($,S);se===0?($.next=null,N===null?gm=Y:N.next=Y,Y===null&&(eh=N)):(N=$,(y!==0||(se&3)!==0)&&(Ts=!0)),$=Y}Nt(y)}function _e(y,S){for(var N=y.suspendedLanes,$=y.pingedLanes,Y=y.expirationTimes,se=y.pendingLanes&-62914561;0<se;){var Oe=31-sl(se),Ze=1<<Oe,gt=Y[Oe];gt===-1?((Ze&N)===0||(Ze&$)!==0)&&(Y[Oe]=C(Ze,S)):gt<=S&&(y.expiredLanes|=Ze),se&=~Ze}if(S=es,N=Cr,N=L(y,y===S?N:0),$=y.callbackNode,N===0||y===S&&ds===2||y.cancelPendingCommit!==null)return $!==null&&$!==null&&Hg($),y.callbackNode=null,y.callbackPriority=0;if((N&3)===0||P(y,N)){if(S=N&-N,S===y.callbackPriority)return S;switch($!==null&&Hg($),V(N)){case 2:case 8:N=Ib;break;case 32:N=Wg;break;case 268435456:N=xw;break;default:N=Wg}return $=ue.bind(null,y),N=pm(N,$),y.callbackPriority=S,y.callbackNode=N,S}return $!==null&&$!==null&&Hg($),y.callbackPriority=2,y.callbackNode=null,2}function ue(y,S){var N=y.callbackNode;if(kl()&&y.callbackNode!==N)return null;var $=Cr;return $=L(y,y===es?$:0),$===0?null:(cu(y,$,S),_e(y,bc()),y.callbackNode!=null&&y.callbackNode===N?ue.bind(null,y):null)}function ze(y,S){if(kl())return null;cu(y,S,!0)}function rt(y){em?Gc(function(){(zr&6)!==0?pm(Vg,y):y()}):pm(Vg,y)}function pt(){return Qf===0&&(Qf=I()),Qf}function ht(y,S){if(Jf===null){var N=Jf=[];Bd=0,jl=pt(),Ud={status:"pending",value:void 0,then:function($){N.push($)}}}return Bd++,S.then(Yt,Yt),S}function Yt(){if(--Bd===0&&Jf!==null){Ud!==null&&(Ud.status="fulfilled");var y=Jf;Jf=null,jl=0,Ud=null;for(var S=0;S<y.length;S++)(0,y[S])()}}function Qt(y,S){var N=[],$={status:"pending",value:null,reason:null,then:function(Y){N.push(Y)}};return y.then(function(){$.status="fulfilled",$.value=S;for(var Y=0;Y<N.length;Y++)(0,N[Y])(S)},function(Y){for($.status="rejected",$.reason=Y,Y=0;Y<N.length;Y++)(0,N[Y])(void 0)}),$}function Cn(y){y.updateQueue={baseState:y.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function An(y,S){y=y.updateQueue,S.updateQueue===y&&(S.updateQueue={baseState:y.baseState,firstBaseUpdate:y.firstBaseUpdate,lastBaseUpdate:y.lastBaseUpdate,shared:y.shared,callbacks:null})}function Pt(y){return{lane:y,tag:0,payload:null,callback:null,next:null}}function on(y,S,N){var $=y.updateQueue;if($===null)return null;if($=$.shared,(zr&2)!==0){var Y=$.pending;return Y===null?S.next=S:(S.next=Y.next,Y.next=S),$.pending=S,S=yn(y),At(y,null,N),S}return Bt(y,$,S,N),yn(y)}function Pn(y,S,N){if(S=S.updateQueue,S!==null&&(S=S.shared,(N&4194176)!==0)){var $=S.lanes;$&=y.pendingLanes,N|=$,S.lanes=N,k(y,N)}}function Ge(y,S){var N=y.updateQueue,$=y.alternate;if($!==null&&($=$.updateQueue,N===$)){var Y=null,se=null;if(N=N.firstBaseUpdate,N!==null){do{var Oe={lane:N.lane,tag:N.tag,payload:N.payload,callback:null,next:null};se===null?Y=se=Oe:se=se.next=Oe,N=N.next}while(N!==null);se===null?Y=se=S:se=se.next=S}else Y=se=S;N={baseState:$.baseState,firstBaseUpdate:Y,lastBaseUpdate:se,shared:$.shared,callbacks:$.callbacks},y.updateQueue=N;return}y=N.lastBaseUpdate,y===null?N.firstBaseUpdate=S:y.next=S,N.lastBaseUpdate=S}function lt(){if(kd){var y=Ud;if(y!==null)throw y}}function Xt(y,S,N,$){kd=!1;var Y=y.updateQueue;th=!1;var se=Y.firstBaseUpdate,Oe=Y.lastBaseUpdate,Ze=Y.shared.pending;if(Ze!==null){Y.shared.pending=null;var gt=Ze,tn=gt.next;gt.next=null,Oe===null?se=tn:Oe.next=tn,Oe=gt;var In=y.alternate;In!==null&&(In=In.updateQueue,Ze=In.lastBaseUpdate,Ze!==Oe&&(Ze===null?In.firstBaseUpdate=tn:Ze.next=tn,In.lastBaseUpdate=gt))}if(se!==null){var Vn=Y.baseState;Oe=0,In=tn=gt=null,Ze=se;do{var Zn=Ze.lane&-536870913,tr=Zn!==Ze.lane;if(tr?(Cr&Zn)===Zn:($&Zn)===Zn){Zn!==0&&Zn===jl&&(kd=!0),In!==null&&(In=In.next={lane:0,tag:Ze.tag,payload:Ze.payload,callback:null,next:null});e:{var ec=y,qh=Ze;Zn=S;var Yh=N;switch(qh.tag){case 1:if(ec=qh.payload,typeof ec=="function"){Vn=ec.call(Yh,Vn,Zn);break e}Vn=ec;break e;case 3:ec.flags=ec.flags&-65537|128;case 0:if(ec=qh.payload,Zn=typeof ec=="function"?ec.call(Yh,Vn,Zn):ec,Zn==null)break e;Vn=kf({},Vn,Zn);break e;case 2:th=!0}}Zn=Ze.callback,Zn!==null&&(y.flags|=64,tr&&(y.flags|=8192),tr=Y.callbacks,tr===null?Y.callbacks=[Zn]:tr.push(Zn))}else tr={lane:Zn,tag:Ze.tag,payload:Ze.payload,callback:Ze.callback,next:null},In===null?(tn=In=tr,gt=Vn):In=In.next=tr,Oe|=Zn;if(Ze=Ze.next,Ze===null){if(Ze=Y.shared.pending,Ze===null)break;tr=Ze,Ze=tr.next,tr.next=null,Y.lastBaseUpdate=tr,Y.shared.pending=null}}while(!0);In===null&&(gt=Vn),Y.baseState=gt,Y.firstBaseUpdate=tn,Y.lastBaseUpdate=In,se===null&&(Y.shared.lanes=0),Ql|=Oe,y.lanes=Oe,y.memoizedState=Vn}}function Xe(y,S){if(typeof y!="function")throw Error(r(191,y));y.call(S)}function mt(y,S){var N=y.callbacks;if(N!==null)for(y.callbacks=null,y=0;y<N.length;y++)Xe(N[y],S)}function $t(y,S){if(Cl(y,S))return!0;if(typeof y!="object"||y===null||typeof S!="object"||S===null)return!1;var N=Object.keys(y),$=Object.keys(S);if(N.length!==$.length)return!1;for($=0;$<N.length;$++){var Y=N[$];if(!xu.call(S,Y)||!Cl(y[Y],S[Y]))return!1}return!0}function gn(y){return y=y.status,y==="fulfilled"||y==="rejected"}function sn(){}function Ut(y,S,N){switch(N=y[N],N===void 0?y.push(S):N!==S&&(S.then(sn,sn),S=N),S.status){case"fulfilled":return S.value;case"rejected":throw y=S.reason,y===ep?Error(r(483)):y;default:if(typeof S.status=="string")S.then(sn,sn);else{if(y=es,y!==null&&100<y.shellSuspendCounter)throw Error(r(482));y=S,y.status="pending",y.then(function($){if(S.status==="pending"){var Y=S;Y.status="fulfilled",Y.value=$}},function($){if(S.status==="pending"){var Y=S;Y.status="rejected",Y.reason=$}})}switch(S.status){case"fulfilled":return S.value;case"rejected":throw y=S.reason,y===ep?Error(r(483)):y}throw zh=S,ep}}function _n(){if(zh===null)throw Error(r(459));var y=zh;return zh=null,y}function Dn(y){var S=Hh;return Hh+=1,$h===null&&($h=[]),Ut($h,y,S)}function Ai(y,S){S=S.props.ref,y.ref=S!==void 0?S:null}function Ri(y,S){throw S.$$typeof===D0?Error(r(525)):(y=Object.prototype.toString.call(S),Error(r(31,y==="[object Object]"?"object with keys {"+Object.keys(S).join(", ")+"}":y)))}function Ar(y){var S=y._init;return S(y._payload)}function rr(y){function S(Ct,st){if(y){var Ft=Ct.deletions;Ft===null?(Ct.deletions=[st],Ct.flags|=16):Ft.push(st)}}function N(Ct,st){if(!y)return null;for(;st!==null;)S(Ct,st),st=st.sibling;return null}function $(Ct){for(var st=new Map;Ct!==null;)Ct.key!==null?st.set(Ct.key,Ct):st.set(Ct.index,Ct),Ct=Ct.sibling;return st}function Y(Ct,st){return Ct=bl(Ct,st),Ct.index=0,Ct.sibling=null,Ct}function se(Ct,st,Ft){return Ct.index=Ft,y?(Ft=Ct.alternate,Ft!==null?(Ft=Ft.index,Ft<st?(Ct.flags|=33554434,st):Ft):(Ct.flags|=33554434,st)):(Ct.flags|=1048576,st)}function Oe(Ct){return y&&Ct.alternate===null&&(Ct.flags|=33554434),Ct}function Ze(Ct,st,Ft,Tn){return st===null||st.tag!==6?(st=Nh(Ft,Ct.mode,Tn),st.return=Ct,st):(st=Y(st,Ft),st.return=Ct,st)}function gt(Ct,st,Ft,Tn){var xi=Ft.type;return xi===pu?In(Ct,st,Ft.props.children,Tn,Ft.key):st!==null&&(st.elementType===xi||typeof xi=="object"&&xi!==null&&xi.$$typeof===ye&&Ar(xi)===st.type)?(st=Y(st,Ft.props),Ai(st,Ft),st.return=Ct,st):(st=$l(Ft.type,Ft.key,Ft.props,null,Ct.mode,Tn),Ai(st,Ft),st.return=Ct,st)}function tn(Ct,st,Ft,Tn){return st===null||st.tag!==4||st.stateNode.containerInfo!==Ft.containerInfo||st.stateNode.implementation!==Ft.implementation?(st=Uf(Ft,Ct.mode,Tn),st.return=Ct,st):(st=Y(st,Ft.children||[]),st.return=Ct,st)}function In(Ct,st,Ft,Tn,xi){return st===null||st.tag!==7?(st=Ws(Ft,Ct.mode,Tn,xi),st.return=Ct,st):(st=Y(st,Ft),st.return=Ct,st)}function Vn(Ct,st,Ft){if(typeof st=="string"&&st!==""||typeof st=="number"||typeof st=="bigint")return st=Nh(""+st,Ct.mode,Ft),st.return=Ct,st;if(typeof st=="object"&&st!==null){switch(st.$$typeof){case Cd:return Ft=$l(st.type,st.key,st.props,null,Ct.mode,Ft),Ai(Ft,st),Ft.return=Ct,Ft;case Sl:return st=Uf(st,Ct.mode,Ft),st.return=Ct,st;case ye:var Tn=st._init;return st=Tn(st._payload),Vn(Ct,st,Ft)}if(Xn(st)||s(st))return st=Ws(st,Ct.mode,Ft,null),st.return=Ct,st;if(typeof st.then=="function")return Vn(Ct,Dn(st),Ft);if(st.$$typeof===Ha)return Vn(Ct,hi(Ct,st),Ft);Ri(Ct,st)}return null}function Zn(Ct,st,Ft,Tn){var xi=st!==null?st.key:null;if(typeof Ft=="string"&&Ft!==""||typeof Ft=="number"||typeof Ft=="bigint")return xi!==null?null:Ze(Ct,st,""+Ft,Tn);if(typeof Ft=="object"&&Ft!==null){switch(Ft.$$typeof){case Cd:return Ft.key===xi?gt(Ct,st,Ft,Tn):null;case Sl:return Ft.key===xi?tn(Ct,st,Ft,Tn):null;case ye:return xi=Ft._init,Ft=xi(Ft._payload),Zn(Ct,st,Ft,Tn)}if(Xn(Ft)||s(Ft))return xi!==null?null:In(Ct,st,Ft,Tn,null);if(typeof Ft.then=="function")return Zn(Ct,st,Dn(Ft),Tn);if(Ft.$$typeof===Ha)return Zn(Ct,st,hi(Ct,Ft),Tn);Ri(Ct,Ft)}return null}function tr(Ct,st,Ft,Tn,xi){if(typeof Tn=="string"&&Tn!==""||typeof Tn=="number"||typeof Tn=="bigint")return Ct=Ct.get(Ft)||null,Ze(st,Ct,""+Tn,xi);if(typeof Tn=="object"&&Tn!==null){switch(Tn.$$typeof){case Cd:return Ct=Ct.get(Tn.key===null?Ft:Tn.key)||null,gt(st,Ct,Tn,xi);case Sl:return Ct=Ct.get(Tn.key===null?Ft:Tn.key)||null,tn(st,Ct,Tn,xi);case ye:var ks=Tn._init;return Tn=ks(Tn._payload),tr(Ct,st,Ft,Tn,xi)}if(Xn(Tn)||s(Tn))return Ct=Ct.get(Ft)||null,In(st,Ct,Tn,xi,null);if(typeof Tn.then=="function")return tr(Ct,st,Ft,Dn(Tn),xi);if(Tn.$$typeof===Ha)return tr(Ct,st,Ft,hi(st,Tn),xi);Ri(st,Tn)}return null}function ec(Ct,st,Ft,Tn){for(var xi=null,ks=null,Gi=st,Wr=st=0,Co=null;Gi!==null&&Wr<Ft.length;Wr++){Gi.index>Wr?(Co=Gi,Gi=null):Co=Gi.sibling;var xr=Zn(Ct,Gi,Ft[Wr],Tn);if(xr===null){Gi===null&&(Gi=Co);break}y&&Gi&&xr.alternate===null&&S(Ct,Gi),st=se(xr,st,Wr),ks===null?xi=xr:ks.sibling=xr,ks=xr,Gi=Co}if(Wr===Ft.length)return N(Ct,Gi),Ir&&ie(Ct,Wr),xi;if(Gi===null){for(;Wr<Ft.length;Wr++)Gi=Vn(Ct,Ft[Wr],Tn),Gi!==null&&(st=se(Gi,st,Wr),ks===null?xi=Gi:ks.sibling=Gi,ks=Gi);return Ir&&ie(Ct,Wr),xi}for(Gi=$(Gi);Wr<Ft.length;Wr++)Co=tr(Gi,Ct,Wr,Ft[Wr],Tn),Co!==null&&(y&&Co.alternate!==null&&Gi.delete(Co.key===null?Wr:Co.key),st=se(Co,st,Wr),ks===null?xi=Co:ks.sibling=Co,ks=Co);return y&&Gi.forEach(function(Mu){return S(Ct,Mu)}),Ir&&ie(Ct,Wr),xi}function qh(Ct,st,Ft,Tn){if(Ft==null)throw Error(r(151));for(var xi=null,ks=null,Gi=st,Wr=st=0,Co=null,xr=Ft.next();Gi!==null&&!xr.done;Wr++,xr=Ft.next()){Gi.index>Wr?(Co=Gi,Gi=null):Co=Gi.sibling;var Mu=Zn(Ct,Gi,xr.value,Tn);if(Mu===null){Gi===null&&(Gi=Co);break}y&&Gi&&Mu.alternate===null&&S(Ct,Gi),st=se(Mu,st,Wr),ks===null?xi=Mu:ks.sibling=Mu,ks=Mu,Gi=Co}if(xr.done)return N(Ct,Gi),Ir&&ie(Ct,Wr),xi;if(Gi===null){for(;!xr.done;Wr++,xr=Ft.next())xr=Vn(Ct,xr.value,Tn),xr!==null&&(st=se(xr,st,Wr),ks===null?xi=xr:ks.sibling=xr,ks=xr);return Ir&&ie(Ct,Wr),xi}for(Gi=$(Gi);!xr.done;Wr++,xr=Ft.next())xr=tr(Gi,Ct,Wr,xr.value,Tn),xr!==null&&(y&&xr.alternate!==null&&Gi.delete(xr.key===null?Wr:xr.key),st=se(xr,st,Wr),ks===null?xi=xr:ks.sibling=xr,ks=xr);return y&&Gi.forEach(function(ev){return S(Ct,ev)}),Ir&&ie(Ct,Wr),xi}function Yh(Ct,st,Ft,Tn){if(typeof Ft=="object"&&Ft!==null&&Ft.type===pu&&Ft.key===null&&(Ft=Ft.props.children),typeof Ft=="object"&&Ft!==null){switch(Ft.$$typeof){case Cd:e:{for(var xi=Ft.key;st!==null;){if(st.key===xi){if(xi=Ft.type,xi===pu){if(st.tag===7){N(Ct,st.sibling),Tn=Y(st,Ft.props.children),Tn.return=Ct,Ct=Tn;break e}}else if(st.elementType===xi||typeof xi=="object"&&xi!==null&&xi.$$typeof===ye&&Ar(xi)===st.type){N(Ct,st.sibling),Tn=Y(st,Ft.props),Ai(Tn,Ft),Tn.return=Ct,Ct=Tn;break e}N(Ct,st);break}else S(Ct,st);st=st.sibling}Ft.type===pu?(Tn=Ws(Ft.props.children,Ct.mode,Tn,Ft.key),Tn.return=Ct,Ct=Tn):(Tn=$l(Ft.type,Ft.key,Ft.props,null,Ct.mode,Tn),Ai(Tn,Ft),Tn.return=Ct,Ct=Tn)}return Oe(Ct);case Sl:e:{for(xi=Ft.key;st!==null;){if(st.key===xi)if(st.tag===4&&st.stateNode.containerInfo===Ft.containerInfo&&st.stateNode.implementation===Ft.implementation){N(Ct,st.sibling),Tn=Y(st,Ft.children||[]),Tn.return=Ct,Ct=Tn;break e}else{N(Ct,st);break}else S(Ct,st);st=st.sibling}Tn=Uf(Ft,Ct.mode,Tn),Tn.return=Ct,Ct=Tn}return Oe(Ct);case ye:return xi=Ft._init,Ft=xi(Ft._payload),Yh(Ct,st,Ft,Tn)}if(Xn(Ft))return ec(Ct,st,Ft,Tn);if(s(Ft)){if(xi=s(Ft),typeof xi!="function")throw Error(r(150));return Ft=xi.call(Ft),qh(Ct,st,Ft,Tn)}if(typeof Ft.then=="function")return Yh(Ct,st,Dn(Ft),Tn);if(Ft.$$typeof===Ha)return Yh(Ct,st,hi(Ct,Ft),Tn);Ri(Ct,Ft)}return typeof Ft=="string"&&Ft!==""||typeof Ft=="number"||typeof Ft=="bigint"?(Ft=""+Ft,st!==null&&st.tag===6?(N(Ct,st.sibling),Tn=Y(st,Ft),Tn.return=Ct,Ct=Tn):(N(Ct,st),Tn=Nh(Ft,Ct.mode,Tn),Tn.return=Ct,Ct=Tn),Oe(Ct)):N(Ct,st)}return function(Ct,st,Ft,Tn){try{Hh=0;var xi=Yh(Ct,st,Ft,Tn);return $h=null,xi}catch(Gi){if(Gi===ep)throw Gi;var ks=t(29,Gi,null,Ct.mode);return ks.lanes=Tn,ks.return=Ct,ks}finally{}}}function dr(y,S){y=Wa,x(tp,y),x(As,S),Wa=y|S.baseLanes}function Pr(){x(tp,Wa),x(As,As.current)}function gr(){Wa=tp.current,c(As),c(tp)}function ms(y){var S=y.alternate;x(Jo,Jo.current&1),x(Xl,y),bs===null&&(S===null||As.current!==null||S.memoizedState!==null)&&(bs=y)}function zs(y){if(y.tag===22){if(x(Jo,Jo.current),x(Xl,y),bs===null){var S=y.alternate;S!==null&&S.memoizedState!==null&&(bs=y)}}else Ds()}function Ds(){x(Jo,Jo.current),x(Xl,Xl.current)}function gi(y){c(Xl),bs===y&&(bs=null),c(Jo)}function ls(y){for(var S=y;S!==null;){if(S.tag===13){var N=S.memoizedState;if(N!==null&&(N=N.dehydrated,N===null||Dg(N)||Fg(N)))return S}else if(S.tag===19&&S.memoizedProps.revealOrder!==void 0){if((S.flags&128)!==0)return S}else if(S.child!==null){S.child.return=S,S=S.child;continue}if(S===y)break;for(;S.sibling===null;){if(S.return===null||S.return===y)return null;S=S.return}S.sibling.return=S.return,S=S.sibling}return null}function nr(){throw Error(r(321))}function ge(y,S){if(S===null)return!1;for(var N=0;N<S.length&&N<y.length;N++)if(!Cl(y[N],S[N]))return!1;return!0}function Te(y,S,N,$,Y,se){return nh=se,cr=S,S.memoizedState=null,S.updateQueue=null,S.lanes=0,Qe.H=y===null||y.memoizedState===null?Wh:ol,Vh=!1,se=N($,Y),Vh=!1,zd&&(se=vt(S,N,$,Y)),Ye(y),se}function Ye(y){Qe.H=mo;var S=Li!==null&&Li.next!==null;if(nh=0,kr=Li=cr=null,Ec=!1,$d=0,_a=null,S)throw Error(r(300));y===null||xs||(y=y.dependencies,y!==null&&Er(y)&&(xs=!0))}function vt(y,S,N,$){cr=y;var Y=0;do{if(zd&&(_a=null),$d=0,zd=!1,25<=Y)throw Error(r(301));if(Y+=1,kr=Li=null,y.updateQueue!=null){var se=y.updateQueue;se.lastEffect=null,se.events=null,se.stores=null,se.memoCache!=null&&(se.memoCache.index=0)}Qe.H=ql,se=S(N,$)}while(zd);return se}function bt(){var y=Qe.H,S=y.useState()[0];return S=typeof S.then=="function"?Ve(S):S,y=y.useState()[0],(Li!==null?Li.memoizedState:null)!==y&&(cr.flags|=1024),S}function St(){var y=jg!==0;return jg=0,y}function an(y,S,N){S.updateQueue=y.updateQueue,S.flags&=-2053,y.lanes&=~N}function Wt(y){if(Ec){for(y=y.memoizedState;y!==null;){var S=y.queue;S!==null&&(S.pending=null),y=y.next}Ec=!1}nh=0,kr=Li=cr=null,zd=!1,$d=jg=0,_a=null}function fe(){var y={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return kr===null?cr.memoizedState=kr=y:kr=kr.next=y,kr}function Be(){if(Li===null){var y=cr.alternate;y=y!==null?y.memoizedState:null}else y=Li.next;var S=kr===null?cr.memoizedState:kr.next;if(S!==null)kr=S,Li=y;else{if(y===null)throw cr.alternate===null?Error(r(467)):Error(r(310));Li=y,y={memoizedState:Li.memoizedState,baseState:Li.baseState,baseQueue:Li.baseQueue,queue:Li.queue,next:null},kr===null?cr.memoizedState=kr=y:kr=kr.next=y}return kr}function Ve(y){var S=$d;return $d+=1,_a===null&&(_a=[]),y=Ut(_a,y,S),S=cr,(kr===null?S.memoizedState:kr.next)===null&&(S=S.alternate,Qe.H=S===null||S.memoizedState===null?Wh:ol),y}function je(y){if(y!==null&&typeof y=="object"){if(typeof y.then=="function")return Ve(y);if(y.$$typeof===Ha)return bn(y)}throw Error(r(438,String(y)))}function et(y){var S=null,N=cr.updateQueue;if(N!==null&&(S=N.memoCache),S==null){var $=cr.alternate;$!==null&&($=$.updateQueue,$!==null&&($=$.memoCache,$!=null&&(S={data:$.data.map(function(Y){return Y.slice()}),index:0})))}if(S==null&&(S={data:[],index:0}),N===null&&(N=Xg(),cr.updateQueue=N),N.memoCache=S,N=S.data[S.index],N===void 0)for(N=S.data[S.index]=Array(y),$=0;$<y;$++)N[$]=ae;return S.index++,N}function ft(y,S){return typeof S=="function"?S(y):S}function Et(y){var S=Be();return Gt(S,Li,y)}function Gt(y,S,N){var $=y.queue;if($===null)throw Error(r(311));$.lastRenderedReducer=N;var Y=y.baseQueue,se=$.pending;if(se!==null){if(Y!==null){var Oe=Y.next;Y.next=se.next,se.next=Oe}S.baseQueue=Y=se,$.pending=null}if(se=y.baseState,Y===null)y.memoizedState=se;else{S=Y.next;var Ze=Oe=null,gt=null,tn=S,In=!1;do{var Vn=tn.lane&-536870913;if(Vn!==tn.lane?(Cr&Vn)===Vn:(nh&Vn)===Vn){var Zn=tn.revertLane;if(Zn===0)gt!==null&&(gt=gt.next={lane:0,revertLane:0,action:tn.action,hasEagerState:tn.hasEagerState,eagerState:tn.eagerState,next:null}),Vn===jl&&(In=!0);else if((nh&Zn)===Zn){tn=tn.next,Zn===jl&&(In=!0);continue}else Vn={lane:0,revertLane:tn.revertLane,action:tn.action,hasEagerState:tn.hasEagerState,eagerState:tn.eagerState,next:null},gt===null?(Ze=gt=Vn,Oe=se):gt=gt.next=Vn,cr.lanes|=Zn,Ql|=Zn;Vn=tn.action,Vh&&N(se,Vn),se=tn.hasEagerState?tn.eagerState:N(se,Vn)}else Zn={lane:Vn,revertLane:tn.revertLane,action:tn.action,hasEagerState:tn.hasEagerState,eagerState:tn.eagerState,next:null},gt===null?(Ze=gt=Zn,Oe=se):gt=gt.next=Zn,cr.lanes|=Vn,Ql|=Vn;tn=tn.next}while(tn!==null&&tn!==S);if(gt===null?Oe=se:gt.next=Ze,!Cl(se,y.memoizedState)&&(xs=!0,In&&(N=Ud,N!==null)))throw N;y.memoizedState=se,y.baseState=Oe,y.baseQueue=gt,$.lastRenderedState=se}return Y===null&&($.lanes=0),[y.memoizedState,$.dispatch]}function Jt(y){var S=Be(),N=S.queue;if(N===null)throw Error(r(311));N.lastRenderedReducer=y;var $=N.dispatch,Y=N.pending,se=S.memoizedState;if(Y!==null){N.pending=null;var Oe=Y=Y.next;do se=y(se,Oe.action),Oe=Oe.next;while(Oe!==Y);Cl(se,S.memoizedState)||(xs=!0),S.memoizedState=se,S.baseQueue===null&&(S.baseState=se),N.lastRenderedState=se}return[se,$]}function Nn(y,S,N){var $=cr,Y=Be(),se=Ir;if(se){if(N===void 0)throw Error(r(407));N=N()}else N=S();var Oe=!Cl((Li||Y).memoizedState,N);if(Oe&&(Y.memoizedState=N,xs=!0),Y=Y.queue,jo(Un.bind(null,$,Y,y),[y]),Y.getSnapshot!==S||Oe||kr!==null&&kr.memoizedState.tag&1){if($.flags|=2048,gs(9,hn.bind(null,$,Y,N,S),{destroy:void 0},null),es===null)throw Error(r(349));se||(nh&60)!==0||Rn($,S,N)}return N}function Rn(y,S,N){y.flags|=16384,y={getSnapshot:S,value:N},S=cr.updateQueue,S===null?(S=Xg(),cr.updateQueue=S,S.stores=[y]):(N=S.stores,N===null?S.stores=[y]:N.push(y))}function hn(y,S,N,$){S.value=N,S.getSnapshot=$,Yn(S)&&Ui(y)}function Un(y,S,N){return N(function(){Yn(S)&&Ui(y)})}function Yn(y){var S=y.getSnapshot;y=y.value;try{var N=S();return!Cl(y,N)}catch{return!0}}function Ui(y){var S=zt(y,2);S!==null&&Uo(S,y,2)}function En(y){var S=fe();if(typeof y=="function"){var N=y;if(y=N(),Vh){te(!0);try{N()}finally{te(!1)}}}return S.memoizedState=S.baseState=y,S.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ft,lastRenderedState:y},S}function ri(y,S,N,$){return y.baseState=N,Gt(y,Li,typeof $=="function"?$:ft)}function K(y,S,N,$,Y){if(jr(y))throw Error(r(485));if(y=S.action,y!==null){var se={payload:Y,action:y,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(Oe){se.listeners.push(Oe)}};Qe.T!==null?N(!0):se.isTransition=!1,$(se),N=S.pending,N===null?(se.next=S.pending=se,$i(S,se)):(se.next=N.next,S.pending=N.next=se)}}function $i(y,S){var N=S.action,$=S.payload,Y=y.state;if(S.isTransition){var se=Qe.T,Oe={};Qe.T=Oe;try{var Ze=N(Y,$),gt=Qe.S;gt!==null&&gt(Oe,Ze),ni(y,S,Ze)}catch(tn){ct(y,S,tn)}finally{Qe.T=se}}else try{se=N(Y,$),ni(y,S,se)}catch(tn){ct(y,S,tn)}}function ni(y,S,N){N!==null&&typeof N=="object"&&typeof N.then=="function"?N.then(function($){ci(y,S,$)},function($){return ct(y,S,$)}):ci(y,S,N)}function ci(y,S,N){S.status="fulfilled",S.value=N,Je(S),y.state=N,S=y.pending,S!==null&&(N=S.next,N===S?y.pending=null:(N=N.next,S.next=N,$i(y,N)))}function ct(y,S,N){var $=y.pending;if(y.pending=null,$!==null){$=$.next;do S.status="rejected",S.reason=N,Je(S),S=S.next;while(S!==$)}y.action=null}function Je(y){y=y.listeners;for(var S=0;S<y.length;S++)(0,y[S])()}function wn(y,S){return S}function qn(y,S){if(Ir){var N=es.formState;if(N!==null){e:{var $=cr;if(Ir){if(Pa){var Y=k0(Pa,ya);if(Y){Pa=z0(Y),$=vb(Y);break e}}Fe($)}$=!1}$&&(S=N[0])}}N=fe(),N.memoizedState=N.baseState=S,$={pending:null,lanes:0,dispatch:null,lastRenderedReducer:wn,lastRenderedState:S},N.queue=$,N=tl.bind(null,cr,$),$.dispatch=N,$=En(!1);var se=Fs.bind(null,cr,!1,$.queue);return $=fe(),Y={state:S,dispatch:null,action:y,pending:null},$.queue=Y,N=K.bind(null,cr,Y,se,N),Y.dispatch=N,$.memoizedState=y,[S,N,!1]}function yi(y){var S=Be();return $n(S,Li,y)}function $n(y,S,N){S=Gt(y,S,wn)[0],y=Et(ft)[0],S=typeof S=="object"&&S!==null&&typeof S.then=="function"?Ve(S):S;var $=Be(),Y=$.queue,se=Y.dispatch;return N!==$.memoizedState&&(cr.flags|=2048,gs(9,ji.bind(null,Y,N),{destroy:void 0},null)),[S,se,y]}function ji(y,S){y.action=S}function Ht(y){var S=Be(),N=Li;if(N!==null)return $n(S,N,y);Be(),S=S.memoizedState,N=Be();var $=N.queue.dispatch;return N.memoizedState=y,[S,$,!1]}function gs(y,S,N,$){return y={tag:y,create:S,inst:N,deps:$,next:null},S=cr.updateQueue,S===null&&(S=Xg(),cr.updateQueue=S),N=S.lastEffect,N===null?S.lastEffect=y.next=y:($=N.next,N.next=y,y.next=$,S.lastEffect=y),y}function $s(){return Be().memoizedState}function ao(y,S,N,$){var Y=fe();cr.flags|=y,Y.memoizedState=gs(1|S,N,{destroy:void 0},$===void 0?null:$)}function Dr(y,S,N,$){var Y=Be();$=$===void 0?null:$;var se=Y.memoizedState.inst;Li!==null&&$!==null&&ge($,Li.memoizedState.deps)?Y.memoizedState=gs(S,N,se,$):(cr.flags|=y,Y.memoizedState=gs(1|S,N,se,$))}function Zs(y,S){ao(8390656,8,y,S)}function jo(y,S){Dr(2048,8,y,S)}function Ua(y,S){return Dr(4,2,y,S)}function Qs(y,S){return Dr(4,4,y,S)}function Qa(y,S){if(typeof S=="function"){y=y();var N=S(y);return function(){typeof N=="function"?N():S(null)}}if(S!=null)return y=y(),S.current=y,function(){S.current=null}}function Js(y,S,N){N=N!=null?N.concat([y]):null,Dr(4,4,Qa.bind(null,S,y),N)}function lo(){}function wa(y,S){var N=Be();S=S===void 0?null:S;var $=N.memoizedState;return S!==null&&ge(S,$[1])?$[0]:(N.memoizedState=[y,S],y)}function ca(y,S){var N=Be();S=S===void 0?null:S;var $=N.memoizedState;if(S!==null&&ge(S,$[1]))return $[0];if($=y(),Vh){te(!0);try{y()}finally{te(!1)}}return N.memoizedState=[$,S],$}function Ca(y,S,N){return N===void 0||(nh&1073741824)!==0?y.memoizedState=S:(y.memoizedState=N,y=Yp(),cr.lanes|=y,Ql|=y,N)}function ka(y,S,N,$){return Cl(N,S)?N:As.current!==null?(y=Ca(y,N,$),Cl(y,S)||(xs=!0),y):(nh&42)===0?(xs=!0,y.memoizedState=N):(y=Yp(),cr.lanes|=y,Ql|=y,S)}function ua(y,S,N,$,Y){var se=ko();fr(se!==0&&8>se?se:8);var Oe=Qe.T,Ze={};Qe.T=Ze,Fs(y,!1,S,N);try{var gt=Y(),tn=Qe.S;if(tn!==null&&tn(Ze,gt),gt!==null&&typeof gt=="object"&&typeof gt.then=="function"){var In=Qt(gt,$);Io(y,S,In,io(y))}else Io(y,S,$,io(y))}catch(Vn){Io(y,S,{then:function(){},status:"rejected",reason:Vn},io())}finally{fr(se),Qe.T=Oe}}function Po(y){var S=y.memoizedState;if(S!==null)return S;S={memoizedState:Hc,baseState:Hc,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ft,lastRenderedState:Hc},next:null};var N={};return S.next={memoizedState:N,baseState:N,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ft,lastRenderedState:N},next:null},y.memoizedState=S,y=y.alternate,y!==null&&(y.memoizedState=S),S}function Ja(){return bn(El)}function No(){return Be().memoizedState}function ha(){return Be().memoizedState}function Bl(y){for(var S=y.return;S!==null;){switch(S.tag){case 24:case 3:var N=io();y=Pt(N);var $=on(S,y,N);$!==null&&(Uo($,S,N),Pn($,S,N)),S={cache:Kn()},y.payload=S;return}S=S.return}}function el(y,S,N){var $=io();N={lane:$,revertLane:0,action:N,hasEagerState:!1,eagerState:null,next:null},jr(y)?vs(S,N):(N=Tt(y,S,N,$),N!==null&&(Uo(N,y,$),Rr(N,S,$)))}function tl(y,S,N){var $=io();Io(y,S,N,$)}function Io(y,S,N,$){var Y={lane:$,revertLane:0,action:N,hasEagerState:!1,eagerState:null,next:null};if(jr(y))vs(S,Y);else{var se=y.alternate;if(y.lanes===0&&(se===null||se.lanes===0)&&(se=S.lastRenderedReducer,se!==null))try{var Oe=S.lastRenderedState,Ze=se(Oe,N);if(Y.hasEagerState=!0,Y.eagerState=Ze,Cl(Ze,Oe))return Bt(y,S,Y,0),es===null&&Ae(),!1}catch{}finally{}if(N=Tt(y,S,Y,$),N!==null)return Uo(N,y,$),Rr(N,S,$),!0}return!1}function Fs(y,S,N,$){if($={lane:2,revertLane:pt(),action:$,hasEagerState:!1,eagerState:null,next:null},jr(y)){if(S)throw Error(r(479))}else S=Tt(y,N,$,2),S!==null&&Uo(S,y,2)}function jr(y){var S=y.alternate;return y===cr||S!==null&&S===cr}function vs(y,S){zd=Ec=!0;var N=y.pending;N===null?S.next=S:(S.next=N.next,N.next=S),y.pending=S}function Rr(y,S,N){if((N&4194176)!==0){var $=S.lanes;$&=y.pendingLanes,N|=$,S.lanes=N,k(y,N)}}function co(y,S,N,$){S=y.memoizedState,N=N($,S),N=N==null?S:kf({},S,N),y.memoizedState=N,y.lanes===0&&(y.updateQueue.baseState=N)}function Xo(y,S,N,$,Y,se,Oe){return y=y.stateNode,typeof y.shouldComponentUpdate=="function"?y.shouldComponentUpdate($,se,Oe):S.prototype&&S.prototype.isPureReactComponent?!$t(N,$)||!$t(Y,se):!0}function Ta(y,S,N,$){y=S.state,typeof S.componentWillReceiveProps=="function"&&S.componentWillReceiveProps(N,$),typeof S.UNSAFE_componentWillReceiveProps=="function"&&S.UNSAFE_componentWillReceiveProps(N,$),S.state!==y&&Eu.enqueueReplaceState(S,S.state,null)}function eo(y,S){var N=S;if("ref"in S){N={};for(var $ in S)$!=="ref"&&(N[$]=S[$])}if(y=y.defaultProps){N===S&&(N=kf({},N));for(var Y in y)N[Y]===void 0&&(N[Y]=y[Y])}return N}function xn(y,S){try{var N=y.onUncaughtError;N(S.value,{componentStack:S.stack})}catch($){setTimeout(function(){throw $})}}function A(y,S,N){try{var $=y.onCaughtError;$(N.value,{componentStack:N.stack,errorBoundary:S.tag===1?S.stateNode:null})}catch(Y){setTimeout(function(){throw Y})}}function B(y,S,N){return N=Pt(N),N.tag=3,N.payload={element:null},N.callback=function(){xn(y,S)},N}function J(y){return y=Pt(y),y.tag=3,y}function Z(y,S,N,$){var Y=N.type.getDerivedStateFromError;if(typeof Y=="function"){var se=$.value;y.payload=function(){return Y(se)},y.callback=function(){A(S,N,$)}}var Oe=N.stateNode;Oe!==null&&typeof Oe.componentDidCatch=="function"&&(y.callback=function(){A(S,N,$),typeof Y!="function"&&(jh===null?jh=new Set([this]):jh.add(this));var Ze=$.stack;this.componentDidCatch($.value,{componentStack:Ze!==null?Ze:""})})}function be(y,S,N,$,Y){if(N.flags|=32768,$!==null&&typeof $=="object"&&typeof $.then=="function"){if(S=N.alternate,S!==null&&ai(S,N,Y,!0),N=Xl.current,N!==null){switch(N.tag){case 13:return bs===null?Ma():N.alternate===null&&Ss===0&&(Ss=3),N.flags&=-257,N.flags|=65536,N.lanes=Y,$===ym?N.flags|=16384:(S=N.updateQueue,S===null?N.updateQueue=new Set([$]):S.add($),zl(y,$,Y)),!1;case 22:return N.flags|=65536,$===ym?N.flags|=16384:(S=N.updateQueue,S===null?(S={transitions:null,markerInstances:null,retryQueue:new Set([$])},N.updateQueue=S):(N=S.retryQueue,N===null?S.retryQueue=new Set([$]):N.add($)),zl(y,$,Y)),!1}throw Error(r(435,N.tag))}return zl(y,$,Y),Ma(),!1}if(Ir)return S=Xl.current,S!==null?((S.flags&65536)===0&&(S.flags|=256),S.flags|=65536,S.lanes=Y,$!==mm&&(y=Error(r(422),{cause:$}),pn(he(y,N)))):($!==mm&&(S=Error(r(423),{cause:$}),pn(he(S,N))),y=y.current.alternate,y.flags|=65536,Y&=-Y,y.lanes|=Y,$=he($,N),Y=B(y.stateNode,$,Y),Ge(y,Y),Ss!==4&&(Ss=2)),!1;var se=Error(r(520),{cause:$});if(se=he(se,N),Gd===null?Gd=[se]:Gd.push(se),Ss!==4&&(Ss=2),S===null)return!0;$=he($,N),N=S;do{switch(N.tag){case 3:return N.flags|=65536,y=Y&-Y,N.lanes|=y,y=B(N.stateNode,$,y),Ge(N,y),!1;case 1:if(S=N.type,se=N.stateNode,(N.flags&128)===0&&(typeof S.getDerivedStateFromError=="function"||se!==null&&typeof se.componentDidCatch=="function"&&(jh===null||!jh.has(se))))return N.flags|=65536,Y&=-Y,N.lanes|=Y,Y=J(Y),Z(Y,y,N,$),Ge(N,Y),!1}N=N.return}while(N!==null);return!1}function Ne(y,S,N,$){S.child=y===null?Su(S,null,N,$):Gh(S,y.child,N,$)}function O(y,S,N,$,Y){N=N.render;var se=S.ref;if("ref"in $){var Oe={};for(var Ze in $)Ze!=="ref"&&(Oe[Ze]=$[Ze])}else Oe=$;return Ki(S),$=Te(y,S,N,Oe,se,Y),Ze=St(),y!==null&&!xs?(an(y,S,Y),Ue(y,S,Y)):(Ir&&Ze&&Se(S),S.flags|=1,Ne(y,S,$,Y),S.child)}function U(y,S,N,$,Y){if(y===null){var se=N.type;return typeof se=="function"&&!Sd(se)&&se.defaultProps===void 0&&N.compare===null?(S.tag=15,S.type=se,X(y,S,se,$,Y)):(y=$l(N.type,null,$,S,S.mode,Y),y.ref=S.ref,y.return=S,S.child=y)}if(se=y.child,!qt(y,Y)){var Oe=se.memoizedProps;if(N=N.compare,N=N!==null?N:$t,N(Oe,$)&&y.ref===S.ref)return Ue(y,S,Y)}return S.flags|=1,y=bl(se,$),y.ref=S.ref,y.return=S,S.child=y}function X(y,S,N,$,Y){if(y!==null){var se=y.memoizedProps;if($t(se,$)&&y.ref===S.ref)if(xs=!1,S.pendingProps=$=se,qt(y,Y))(y.flags&131072)!==0&&(xs=!0);else return S.lanes=y.lanes,Ue(y,S,Y)}return pe(y,S,N,$,Y)}function ee(y,S,N){var $=S.pendingProps,Y=$.children,se=(S.stateNode._pendingVisibility&2)!==0,Oe=y!==null?y.memoizedState:null;if(re(y,S),$.mode==="hidden"||se){if((S.flags&128)!==0){if($=Oe!==null?Oe.baseLanes|N:N,y!==null){for(Y=S.child=y.child,se=0;Y!==null;)se=se|Y.lanes|Y.childLanes,Y=Y.sibling;S.childLanes=se&~$}else S.childLanes=0,S.child=null;return oe(y,S,$,N)}if((N&536870912)!==0)S.memoizedState={baseLanes:0,cachePool:null},y!==null&&to(S,Oe!==null?Oe.cachePool:null),Oe!==null?dr(S,Oe):Pr(),zs(S);else return S.lanes=S.childLanes=536870912,oe(y,S,Oe!==null?Oe.baseLanes|N:N,N)}else Oe!==null?(to(S,Oe.cachePool),dr(S,Oe),Ds(),S.memoizedState=null):(y!==null&&to(S,null),Pr(),Ds());return Ne(y,S,Y,N),S.child}function oe(y,S,N,$){var Y=fi();return Y=Y===null?null:{parent:br?Rs._currentValue:Rs._currentValue2,pool:Y},S.memoizedState={baseLanes:N,cachePool:Y},y!==null&&to(S,null),Pr(),zs(S),y!==null&&ai(y,S,$,!0),null}function re(y,S){var N=S.ref;if(N===null)y!==null&&y.ref!==null&&(S.flags|=2097664);else{if(typeof N!="function"&&typeof N!="object")throw Error(r(284));(y===null||y.ref!==N)&&(S.flags|=2097664)}}function pe(y,S,N,$,Y){return Ki(S),N=Te(y,S,N,$,void 0,Y),$=St(),y!==null&&!xs?(an(y,S,Y),Ue(y,S,Y)):(Ir&&$&&Se(S),S.flags|=1,Ne(y,S,N,Y),S.child)}function He(y,S,N,$,Y,se){return Ki(S),S.updateQueue=null,N=vt(S,$,N,Y),Ye(y),$=St(),y!==null&&!xs?(an(y,S,se),Ue(y,S,se)):(Ir&&$&&Se(S),S.flags|=1,Ne(y,S,N,se),S.child)}function Ie(y,S,N,$,Y){if(Ki(S),S.stateNode===null){var se=Uh,Oe=N.contextType;typeof Oe=="object"&&Oe!==null&&(se=bn(Oe)),se=new N($,se),S.memoizedState=se.state!==null&&se.state!==void 0?se.state:null,se.updater=Eu,S.stateNode=se,se._reactInternals=S,se=S.stateNode,se.props=$,se.state=S.memoizedState,se.refs={},Cn(S),Oe=N.contextType,se.context=typeof Oe=="object"&&Oe!==null?bn(Oe):Uh,se.state=S.memoizedState,Oe=N.getDerivedStateFromProps,typeof Oe=="function"&&(co(S,N,Oe,$),se.state=S.memoizedState),typeof N.getDerivedStateFromProps=="function"||typeof se.getSnapshotBeforeUpdate=="function"||typeof se.UNSAFE_componentWillMount!="function"&&typeof se.componentWillMount!="function"||(Oe=se.state,typeof se.componentWillMount=="function"&&se.componentWillMount(),typeof se.UNSAFE_componentWillMount=="function"&&se.UNSAFE_componentWillMount(),Oe!==se.state&&Eu.enqueueReplaceState(se,se.state,null),Xt(S,$,se,Y),lt(),se.state=S.memoizedState),typeof se.componentDidMount=="function"&&(S.flags|=4194308),$=!0}else if(y===null){se=S.stateNode;var Ze=S.memoizedProps,gt=eo(N,Ze);se.props=gt;var tn=se.context,In=N.contextType;Oe=Uh,typeof In=="object"&&In!==null&&(Oe=bn(In));var Vn=N.getDerivedStateFromProps;In=typeof Vn=="function"||typeof se.getSnapshotBeforeUpdate=="function",Ze=S.pendingProps!==Ze,In||typeof se.UNSAFE_componentWillReceiveProps!="function"&&typeof se.componentWillReceiveProps!="function"||(Ze||tn!==Oe)&&Ta(S,se,$,Oe),th=!1;var Zn=S.memoizedState;se.state=Zn,Xt(S,$,se,Y),lt(),tn=S.memoizedState,Ze||Zn!==tn||th?(typeof Vn=="function"&&(co(S,N,Vn,$),tn=S.memoizedState),(gt=th||Xo(S,N,gt,$,Zn,tn,Oe))?(In||typeof se.UNSAFE_componentWillMount!="function"&&typeof se.componentWillMount!="function"||(typeof se.componentWillMount=="function"&&se.componentWillMount(),typeof se.UNSAFE_componentWillMount=="function"&&se.UNSAFE_componentWillMount()),typeof se.componentDidMount=="function"&&(S.flags|=4194308)):(typeof se.componentDidMount=="function"&&(S.flags|=4194308),S.memoizedProps=$,S.memoizedState=tn),se.props=$,se.state=tn,se.context=Oe,$=gt):(typeof se.componentDidMount=="function"&&(S.flags|=4194308),$=!1)}else{se=S.stateNode,An(y,S),Oe=S.memoizedProps,In=eo(N,Oe),se.props=In,Vn=S.pendingProps,Zn=se.context,tn=N.contextType,gt=Uh,typeof tn=="object"&&tn!==null&&(gt=bn(tn)),Ze=N.getDerivedStateFromProps,(tn=typeof Ze=="function"||typeof se.getSnapshotBeforeUpdate=="function")||typeof se.UNSAFE_componentWillReceiveProps!="function"&&typeof se.componentWillReceiveProps!="function"||(Oe!==Vn||Zn!==gt)&&Ta(S,se,$,gt),th=!1,Zn=S.memoizedState,se.state=Zn,Xt(S,$,se,Y),lt();var tr=S.memoizedState;Oe!==Vn||Zn!==tr||th||y!==null&&y.dependencies!==null&&Er(y.dependencies)?(typeof Ze=="function"&&(co(S,N,Ze,$),tr=S.memoizedState),(In=th||Xo(S,N,In,$,Zn,tr,gt)||y!==null&&y.dependencies!==null&&Er(y.dependencies))?(tn||typeof se.UNSAFE_componentWillUpdate!="function"&&typeof se.componentWillUpdate!="function"||(typeof se.componentWillUpdate=="function"&&se.componentWillUpdate($,tr,gt),typeof se.UNSAFE_componentWillUpdate=="function"&&se.UNSAFE_componentWillUpdate($,tr,gt)),typeof se.componentDidUpdate=="function"&&(S.flags|=4),typeof se.getSnapshotBeforeUpdate=="function"&&(S.flags|=1024)):(typeof se.componentDidUpdate!="function"||Oe===y.memoizedProps&&Zn===y.memoizedState||(S.flags|=4),typeof se.getSnapshotBeforeUpdate!="function"||Oe===y.memoizedProps&&Zn===y.memoizedState||(S.flags|=1024),S.memoizedProps=$,S.memoizedState=tr),se.props=$,se.state=tr,se.context=gt,$=In):(typeof se.componentDidUpdate!="function"||Oe===y.memoizedProps&&Zn===y.memoizedState||(S.flags|=4),typeof se.getSnapshotBeforeUpdate!="function"||Oe===y.memoizedProps&&Zn===y.memoizedState||(S.flags|=1024),$=!1)}return se=$,re(y,S),$=(S.flags&128)!==0,se||$?(se=S.stateNode,N=$&&typeof N.getDerivedStateFromError!="function"?null:se.render(),S.flags|=1,y!==null&&$?(S.child=Gh(S,y.child,null,Y),S.child=Gh(S,null,N,Y)):Ne(y,S,N,Y),S.memoizedState=se.state,y=S.child):y=Ue(y,S,Y),y}function tt(y,S,N,$){return mn(),S.flags|=256,Ne(y,S,N,$),S.child}function Rt(y){return{baseLanes:y,cachePool:da()}}function Vt(y,S,N){return y=y!==null?y.childLanes&~N:0,S&&(y|=Jl),y}function _t(y,S,N){var $=S.pendingProps,Y=!1,se=(S.flags&128)!==0,Oe;if((Oe=se)||(Oe=y!==null&&y.memoizedState===null?!1:(Jo.current&2)!==0),Oe&&(Y=!0,S.flags&=-129),Oe=(S.flags&32)!==0,S.flags&=-33,y===null){if(Ir){if(Y?ms(S):Ds(),Ir){var Ze=Pa,gt;(gt=Ze)&&(Ze=bb(Ze,ya),Ze!==null?(S.memoizedState={dehydrated:Ze,treeContext:kh!==null?{id:Wc,overflow:jc}:null,retryLane:536870912},gt=t(18,null,null,0),gt.stateNode=Ze,gt.return=S,S.child=gt,La=S,Pa=null,gt=!0):gt=!1),gt||Fe(S)}if(Ze=S.memoizedState,Ze!==null&&(Ze=Ze.dehydrated,Ze!==null))return Fg(Ze)?S.lanes=16:S.lanes=536870912,null;gi(S)}return Ze=$.children,$=$.fallback,Y?(Ds(),Y=S.mode,Ze=si({mode:"hidden",children:Ze},Y),$=Ws($,Y,N,null),Ze.return=S,$.return=S,Ze.sibling=$,S.child=Ze,Y=S.child,Y.memoizedState=Rt(N),Y.childLanes=Vt(y,Oe,N),S.memoizedState=Kg,$):(ms(S),ln(S,Ze))}if(gt=y.memoizedState,gt!==null&&(Ze=gt.dehydrated,Ze!==null)){if(se)S.flags&256?(ms(S),S.flags&=-257,S=ve(y,S,N)):S.memoizedState!==null?(Ds(),S.child=y.child,S.flags|=128,S=null):(Ds(),Y=$.fallback,Ze=S.mode,$=si({mode:"visible",children:$.children},Ze),Y=Ws(Y,Ze,N,null),Y.flags|=2,$.return=S,Y.return=S,$.sibling=Y,S.child=$,Gh(S,y.child,null,N),$=S.child,$.memoizedState=Rt(N),$.childLanes=Vt(y,Oe,N),S.memoizedState=Kg,S=Y);else if(ms(S),Fg(Ze))Oe=mb(Ze).digest,$=Error(r(419)),$.stack="",$.digest=Oe,pn({value:$,source:null,stack:null}),S=ve(y,S,N);else if(xs||ai(y,S,N,!1),Oe=(N&y.childLanes)!==0,xs||Oe){if(Oe=es,Oe!==null){if($=N&-N,($&42)!==0)$=1;else switch($){case 2:$=1;break;case 8:$=4;break;case 32:$=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:$=64;break;case 268435456:$=134217728;break;default:$=0}if($=($&(Oe.suspendedLanes|N))!==0?0:$,$!==0&&$!==gt.retryLane)throw gt.retryLane=$,zt(y,$),Uo(Oe,y,$),Yg}Dg(Ze)||Ma(),S=ve(y,S,N)}else Dg(Ze)?(S.flags|=128,S.child=y.child,S=zc.bind(null,y),gb(Ze,S),S=null):(y=gt.treeContext,Ur&&(Pa=_b(Ze),La=S,Ir=!0,xc=null,ya=!1,y!==null&&(Vl[Wl++]=Wc,Vl[Wl++]=jc,Vl[Wl++]=kh,Wc=y.id,jc=y.overflow,kh=S)),S=ln(S,$.children),S.flags|=4096);return S}return Y?(Ds(),Y=$.fallback,Ze=S.mode,gt=y.child,se=gt.sibling,$=bl(gt,{mode:"hidden",children:$.children}),$.subtreeFlags=gt.subtreeFlags&31457280,se!==null?Y=bl(se,Y):(Y=Ws(Y,Ze,N,null),Y.flags|=2),Y.return=S,$.return=S,$.sibling=Y,S.child=$,$=Y,Y=S.child,Ze=y.child.memoizedState,Ze===null?Ze=Rt(N):(gt=Ze.cachePool,gt!==null?(se=br?Rs._currentValue:Rs._currentValue2,gt=gt.parent!==se?{parent:se,pool:se}:gt):gt=da(),Ze={baseLanes:Ze.baseLanes|N,cachePool:gt}),Y.memoizedState=Ze,Y.childLanes=Vt(y,Oe,N),S.memoizedState=Kg,$):(ms(S),N=y.child,y=N.sibling,N=bl(N,{mode:"visible",children:$.children}),N.return=S,N.sibling=null,y!==null&&(Oe=S.deletions,Oe===null?(S.deletions=[y],S.flags|=16):Oe.push(y)),S.child=N,S.memoizedState=null,N)}function ln(y,S){return S=si({mode:"visible",children:S},y.mode),S.return=y,y.child=S}function si(y,S){return Ph(y,S,0,null)}function ve(y,S,N){return Gh(S,y.child,null,N),y=ln(S,S.pendingProps.children),y.flags|=2,S.memoizedState=null,y}function xe(y,S,N){y.lanes|=S;var $=y.alternate;$!==null&&($.lanes|=S),ui(y.return,S,N)}function $e(y,S,N,$,Y){var se=y.memoizedState;se===null?y.memoizedState={isBackwards:S,rendering:null,renderingStartTime:0,last:$,tail:N,tailMode:Y}:(se.isBackwards=S,se.rendering=null,se.renderingStartTime=0,se.last=$,se.tail=N,se.tailMode=Y)}function Pe(y,S,N){var $=S.pendingProps,Y=$.revealOrder,se=$.tail;if(Ne(y,S,$.children,N),$=Jo.current,($&2)!==0)$=$&1|2,S.flags|=128;else{if(y!==null&&(y.flags&128)!==0)e:for(y=S.child;y!==null;){if(y.tag===13)y.memoizedState!==null&&xe(y,N,S);else if(y.tag===19)xe(y,N,S);else if(y.child!==null){y.child.return=y,y=y.child;continue}if(y===S)break e;for(;y.sibling===null;){if(y.return===null||y.return===S)break e;y=y.return}y.sibling.return=y.return,y=y.sibling}$&=1}switch(x(Jo,$),Y){case"forwards":for(N=S.child,Y=null;N!==null;)y=N.alternate,y!==null&&ls(y)===null&&(Y=N),N=N.sibling;N=Y,N===null?(Y=S.child,S.child=null):(Y=N.sibling,N.sibling=null),$e(S,!1,Y,N,se);break;case"backwards":for(N=null,Y=S.child,S.child=null;Y!==null;){if(y=Y.alternate,y!==null&&ls(y)===null){S.child=Y;break}y=Y.sibling,Y.sibling=N,N=Y,Y=y}$e(S,!0,N,null,se);break;case"together":$e(S,!1,null,null,void 0);break;default:S.memoizedState=null}return S.child}function Ue(y,S,N){if(y!==null&&(S.dependencies=y.dependencies),Ql|=S.lanes,(N&S.childLanes)===0)if(y!==null){if(ai(y,S,N,!1),(N&S.childLanes)===0)return null}else return null;if(y!==null&&S.child!==y.child)throw Error(r(153));if(S.child!==null){for(y=S.child,N=bl(y,y.pendingProps),S.child=N,N.return=S;y.sibling!==null;)y=y.sibling,N=N.sibling=bl(y,y.pendingProps),N.return=S;N.sibling=null}return S.child}function qt(y,S){return(y.lanes&S)!==0?!0:(y=y.dependencies,!!(y!==null&&Er(y)))}function kt(y,S,N){switch(S.tag){case 3:me(S,S.stateNode.containerInfo),vn(S,Rs,y.memoizedState.cache),mn();break;case 27:case 5:we(S);break;case 4:me(S,S.stateNode.containerInfo);break;case 10:vn(S,S.type,S.memoizedProps.value);break;case 13:var $=S.memoizedState;if($!==null)return $.dehydrated!==null?(ms(S),S.flags|=128,null):(N&S.child.childLanes)!==0?_t(y,S,N):(ms(S),y=Ue(y,S,N),y!==null?y.sibling:null);ms(S);break;case 19:var Y=(y.flags&128)!==0;if($=(N&S.childLanes)!==0,$||(ai(y,S,N,!1),$=(N&S.childLanes)!==0),Y){if($)return Pe(y,S,N);S.flags|=128}if(Y=S.memoizedState,Y!==null&&(Y.rendering=null,Y.tail=null,Y.lastEffect=null),x(Jo,Jo.current),$)break;return null;case 22:case 23:return S.lanes=0,ee(y,S,N);case 24:vn(S,Rs,y.memoizedState.cache)}return Ue(y,S,N)}function Zt(y,S,N){if(y!==null)if(y.memoizedProps!==S.pendingProps)xs=!0;else{if(!qt(y,N)&&(S.flags&128)===0)return xs=!1,kt(y,S,N);xs=(y.flags&131072)!==0}else xs=!1,Ir&&(S.flags&1048576)!==0&&ce(S,Kf,S.index);switch(S.lanes=0,S.tag){case 16:e:{y=S.pendingProps;var $=S.elementType,Y=$._init;if($=Y($._payload),S.type=$,typeof $=="function")Sd($)?(y=eo($,y),S.tag=1,S=Ie(null,S,$,y,N)):(S.tag=0,S=pe(null,S,$,y,N));else{if($!=null){if(Y=$.$$typeof,Y===mu){S.tag=11,S=O(null,S,$,y,N);break e}else if(Y===gu){S.tag=14,S=U(null,S,$,y,N);break e}}throw S=o($)||$,Error(r(306,S,""))}}return S;case 0:return pe(y,S,S.type,S.pendingProps,N);case 1:return $=S.type,Y=eo($,S.pendingProps),Ie(y,S,$,Y,N);case 3:e:{if(me(S,S.stateNode.containerInfo),y===null)throw Error(r(387));var se=S.pendingProps;Y=S.memoizedState,$=Y.element,An(y,S),Xt(S,se,null,N);var Oe=S.memoizedState;if(se=Oe.cache,vn(S,Rs,se),se!==Y.cache&&qi(S,[Rs],N,!0),lt(),se=Oe.element,Ur&&Y.isDehydrated)if(Y={element:se,isDehydrated:!1,cache:Oe.cache},S.updateQueue.baseState=Y,S.memoizedState=Y,S.flags&256){S=tt(y,S,se,N);break e}else if(se!==$){$=he(Error(r(424)),S),pn($),S=tt(y,S,se,N);break e}else for(Ur&&(Pa=yb(S.stateNode.containerInfo),La=S,Ir=!0,xc=null,ya=!0),N=Su(S,null,se,N),S.child=N;N;)N.flags=N.flags&-3|4096,N=N.sibling;else{if(mn(),se===$){S=Ue(y,S,N);break e}Ne(y,S,se,N)}S=S.child}return S;case 26:if(Gl)return re(y,S),y===null?(N=G0(S.type,null,S.pendingProps,null))?S.memoizedState=N:Ir||(S.stateNode=$g(S.type,S.pendingProps,bu.current,S)):S.memoizedState=G0(S.type,y.memoizedProps,S.pendingProps,y.memoizedState),null;case 27:if(_s)return we(S),y===null&&_s&&Ir&&($=S.stateNode=Vc(S.type,S.pendingProps,bu.current,Qo.current,!1),La=S,ya=!0,Pa=Bg($)),$=S.pendingProps.children,y!==null||Ir?Ne(y,S,$,N):S.child=Gh(S,null,$,N),re(y,S),S.child;case 5:return y===null&&Ir&&(kg(S.type,S.pendingProps,Qo.current),(Y=$=Pa)&&($=yw($,S.type,S.pendingProps,ya),$!==null?(S.stateNode=$,La=S,Pa=Bg($),ya=!1,Y=!0):Y=!1),Y||Fe(S)),we(S),Y=S.type,se=S.pendingProps,Oe=y!==null?y.memoizedProps:null,$=se.children,Bn(Y,se)?$=null:Oe!==null&&Bn(Y,Oe)&&(S.flags|=32),S.memoizedState!==null&&(Y=Te(y,S,bt,null,null,N),br?El._currentValue=Y:El._currentValue2=Y),re(y,S),Ne(y,S,$,N),S.child;case 6:return y===null&&Ir&&(Cb(S.pendingProps,Qo.current),(y=N=Pa)&&(N=$0(N,S.pendingProps,ya),N!==null?(S.stateNode=N,La=S,Pa=null,y=!0):y=!1),y||Fe(S)),null;case 13:return _t(y,S,N);case 4:return me(S,S.stateNode.containerInfo),$=S.pendingProps,y===null?S.child=Gh(S,null,$,N):Ne(y,S,$,N),S.child;case 11:return O(y,S,S.type,S.pendingProps,N);case 7:return Ne(y,S,S.pendingProps,N),S.child;case 8:return Ne(y,S,S.pendingProps.children,N),S.child;case 12:return Ne(y,S,S.pendingProps.children,N),S.child;case 10:return $=S.pendingProps,vn(S,S.type,$.value),Ne(y,S,$.children,N),S.child;case 9:return Y=S.type._context,$=S.pendingProps.children,Ki(S),Y=bn(Y),$=$(Y),S.flags|=1,Ne(y,S,$,N),S.child;case 14:return U(y,S,S.type,S.pendingProps,N);case 15:return X(y,S,S.type,S.pendingProps,N);case 19:return Pe(y,S,N);case 22:return ee(y,S,N);case 24:return Ki(S),$=bn(Rs),y===null?(Y=fi(),Y===null&&(Y=es,se=Kn(),Y.pooledCache=se,se.refCount++,se!==null&&(Y.pooledCacheLanes|=N),Y=se),S.memoizedState={parent:$,cache:Y},Cn(S),vn(S,Rs,Y)):((y.lanes&N)!==0&&(An(y,S),Xt(S,null,null,N),lt()),Y=y.memoizedState,se=S.memoizedState,Y.parent!==$?(Y={parent:$,cache:$},S.memoizedState=Y,S.lanes===0&&(S.memoizedState=S.updateQueue.baseState=Y),vn(S,Rs,$)):($=se.cache,vn(S,Rs,$),$!==Y.cache&&qi(S,[Rs],N,!0))),Ne(y,S,S.pendingProps.children,N),S.child;case 29:throw S.pendingProps}throw Error(r(156,S.tag))}function vn(y,S,N){br?(x(ih,S._currentValue),S._currentValue=N):(x(ih,S._currentValue2),S._currentValue2=N)}function Mn(y){var S=ih.current;br?y._currentValue=S:y._currentValue2=S,c(ih)}function ui(y,S,N){for(;y!==null;){var $=y.alternate;if((y.childLanes&S)!==S?(y.childLanes|=S,$!==null&&($.childLanes|=S)):$!==null&&($.childLanes&S)!==S&&($.childLanes|=S),y===N)break;y=y.return}}function qi(y,S,N,$){var Y=y.child;for(Y!==null&&(Y.return=y);Y!==null;){var se=Y.dependencies;if(se!==null){var Oe=Y.child;se=se.firstContext;e:for(;se!==null;){var Ze=se;se=Y;for(var gt=0;gt<S.length;gt++)if(Ze.context===S[gt]){se.lanes|=N,Ze=se.alternate,Ze!==null&&(Ze.lanes|=N),ui(se.return,N,y),$||(Oe=null);break e}se=Ze.next}}else if(Y.tag===18){if(Oe=Y.return,Oe===null)throw Error(r(341));Oe.lanes|=N,se=Oe.alternate,se!==null&&(se.lanes|=N),ui(Oe,N,y),Oe=null}else Oe=Y.child;if(Oe!==null)Oe.return=Y;else for(Oe=Y;Oe!==null;){if(Oe===y){Oe=null;break}if(Y=Oe.sibling,Y!==null){Y.return=Oe.return,Oe=Y;break}Oe=Oe.return}Y=Oe}}function ai(y,S,N,$){y=null;for(var Y=S,se=!1;Y!==null;){if(!se){if((Y.flags&524288)!==0)se=!0;else if((Y.flags&262144)!==0)break}if(Y.tag===10){var Oe=Y.alternate;if(Oe===null)throw Error(r(387));if(Oe=Oe.memoizedProps,Oe!==null){var Ze=Y.type;Cl(Y.pendingProps.value,Oe.value)||(y!==null?y.push(Ze):y=[Ze])}}else if(Y===Id.current){if(Oe=Y.alternate,Oe===null)throw Error(r(387));Oe.memoizedState.memoizedState!==Y.memoizedState.memoizedState&&(y!==null?y.push(El):y=[El])}Y=Y.return}y!==null&&qi(S,y,N,$),S.flags|=262144}function Er(y){for(y=y.firstContext;y!==null;){var S=y.context;if(!Cl(br?S._currentValue:S._currentValue2,y.memoizedValue))return!0;y=y.next}return!1}function Ki(y){Yc=y,Yl=null,y=y.dependencies,y!==null&&(y.firstContext=null)}function bn(y){return Qn(Yc,y)}function hi(y,S){return Yc===null&&Ki(y),Qn(y,S)}function Qn(y,S){var N=br?S._currentValue:S._currentValue2;if(S={context:S,memoizedValue:N,next:null},Yl===null){if(y===null)throw Error(r(308));Yl=S,y.dependencies={lanes:0,firstContext:S},y.flags|=524288}else Yl=Yl.next=S;return N}function Kn(){return{controller:new np,data:new Map,refCount:0}}function vi(y){y.refCount--,y.refCount===0&&Fb(Bb,function(){y.controller.abort()})}function fi(){var y=wu.current;return y!==null?y:es.pooledCache}function to(y,S){S===null?x(wu,wu.current):x(wu,S.pool)}function da(){var y=fi();return y===null?null:{parent:br?Rs._currentValue:Rs._currentValue2,pool:y}}function xo(y){y.flags|=4}function Mi(y,S){if(y!==null&&y.child===S.child)return!1;if((S.flags&16)!==0)return!0;for(y=S.child;y!==null;){if((y.flags&13878)!==0||(y.subtreeFlags&13878)!==0)return!0;y=y.sibling}return!1}function fa(y,S,N,$){if(Br)for(N=S.child;N!==null;){if(N.tag===5||N.tag===6)Qi(y,N.stateNode);else if(!(N.tag===4||_s&&N.tag===27)&&N.child!==null){N.child.return=N,N=N.child;continue}if(N===S)break;for(;N.sibling===null;){if(N.return===null||N.return===S)return;N=N.return}N.sibling.return=N.return,N=N.sibling}else if(Xs)for(var Y=S.child;Y!==null;){if(Y.tag===5){var se=Y.stateNode;N&&$&&(se=B0(se,Y.type,Y.memoizedProps)),Qi(y,se)}else if(Y.tag===6)se=Y.stateNode,N&&$&&(se=U0(se,Y.memoizedProps)),Qi(y,se);else if(Y.tag!==4){if(Y.tag===22&&Y.memoizedState!==null)se=Y.child,se!==null&&(se.return=Y),fa(y,Y,!0,!0);else if(Y.child!==null){Y.child.return=Y,Y=Y.child;continue}}if(Y===S)break;for(;Y.sibling===null;){if(Y.return===null||Y.return===S)return;Y=Y.return}Y.sibling.return=Y.return,Y=Y.sibling}}function Do(y,S,N,$){if(Xs)for(var Y=S.child;Y!==null;){if(Y.tag===5){var se=Y.stateNode;N&&$&&(se=B0(se,Y.type,Y.memoizedProps)),F0(y,se)}else if(Y.tag===6)se=Y.stateNode,N&&$&&(se=U0(se,Y.memoizedProps)),F0(y,se);else if(Y.tag!==4){if(Y.tag===22&&Y.memoizedState!==null)se=Y.child,se!==null&&(se.return=Y),Do(y,Y,!(Y.memoizedProps!==null&&Y.memoizedProps.mode==="manual"),!0);else if(Y.child!==null){Y.child.return=Y,Y=Y.child;continue}}if(Y===S)break;for(;Y.sibling===null;){if(Y.return===null||Y.return===S)return;Y=Y.return}Y.sibling.return=Y.return,Y=Y.sibling}}function qo(y,S){if(Xs&&Mi(y,S)){y=S.stateNode;var N=y.containerInfo,$=cm();Do($,S,!1,!1),y.pendingChildren=$,xo(S),Ig(N,$)}}function Ji(y,S,N,$){if(Br)y.memoizedProps!==$&&xo(S);else if(Xs){var Y=y.stateNode,se=y.memoizedProps;if((y=Mi(y,S))||se!==$){var Oe=Qo.current;se=Xf(Y,N,se,$,!y,null),se===Y?S.stateNode=Y:(sr(se,N,$,Oe)&&xo(S),S.stateNode=se,y?fa(se,S,!1,!1):xo(S))}else S.stateNode=Y}}function cs(y,S,N){if(qr(S,N)){if(y.flags|=16777216,!$o(S,N))if(uu())y.flags|=8192;else throw zh=ym,vm}else y.flags&=-16777217}function Hr(y,S){if(Rb(S)){if(y.flags|=16777216,!Md(S))if(uu())y.flags|=8192;else throw zh=ym,vm}else y.flags&=-16777217}function Gr(y,S){S!==null&&(y.flags|=4),y.flags&16384&&(S=y.tag!==22?F():536870912,y.lanes|=S,Au|=S)}function Cs(y,S){if(!Ir)switch(y.tailMode){case"hidden":S=y.tail;for(var N=null;S!==null;)S.alternate!==null&&(N=S),S=S.sibling;N===null?y.tail=null:N.sibling=null;break;case"collapsed":N=y.tail;for(var $=null;N!==null;)N.alternate!==null&&($=N),N=N.sibling;$===null?S||y.tail===null?y.tail=null:y.tail.sibling=null:$.sibling=null}}function ii(y){var S=y.alternate!==null&&y.alternate.child===y.child,N=0,$=0;if(S)for(var Y=y.child;Y!==null;)N|=Y.lanes|Y.childLanes,$|=Y.subtreeFlags&31457280,$|=Y.flags&31457280,Y.return=y,Y=Y.sibling;else for(Y=y.child;Y!==null;)N|=Y.lanes|Y.childLanes,$|=Y.subtreeFlags,$|=Y.flags,Y.return=y,Y=Y.sibling;return y.subtreeFlags|=$,y.childLanes=N,S}function Yo(y,S,N){var $=S.pendingProps;switch(Ee(S),S.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ii(S),null;case 1:return ii(S),null;case 3:return N=S.stateNode,$=null,y!==null&&($=y.memoizedState.cache),S.memoizedState.cache!==$&&(S.flags|=2048),Mn(Rs),le(),N.pendingContext&&(N.context=N.pendingContext,N.pendingContext=null),(y===null||y.child===null)&&(dn(S)?xo(S):y===null||y.memoizedState.isDehydrated&&(S.flags&256)===0||(S.flags|=1024,xc!==null&&(Wu(xc),xc=null))),qo(y,S),ii(S),null;case 26:if(Gl){N=S.type;var Y=S.memoizedState;return y===null?(xo(S),Y!==null?(ii(S),Hr(S,Y)):(ii(S),cs(S,N,$))):Y?Y!==y.memoizedState?(xo(S),ii(S),Hr(S,Y)):(ii(S),S.flags&=-16777217):(Br?y.memoizedProps!==$&&xo(S):Ji(y,S,N,$),ii(S),cs(S,N,$)),null}case 27:if(_s){if(Re(S),N=bu.current,Y=S.type,y!==null&&S.stateNode!=null)Br?y.memoizedProps!==$&&xo(S):Ji(y,S,Y,$);else{if(!$){if(S.stateNode===null)throw Error(r(166));return ii(S),null}y=Qo.current,dn(S)?qe(S,y):(y=Vc(Y,$,N,y,!0),S.stateNode=y,xo(S))}return ii(S),null}case 5:if(Re(S),N=S.type,y!==null&&S.stateNode!=null)Ji(y,S,N,$);else{if(!$){if(S.stateNode===null)throw Error(r(166));return ii(S),null}y=Qo.current,dn(S)?qe(S,y):(Y=Qr(N,$,bu.current,y,S),fa(Y,S,!1,!1),S.stateNode=Y,sr(Y,N,$,y)&&xo(S))}return ii(S),cs(S,S.type,S.pendingProps),null;case 6:if(y&&S.stateNode!=null)N=y.memoizedProps,Br?N!==$&&xo(S):Xs&&(N!==$?(S.stateNode=oi($,bu.current,Qo.current,S),xo(S)):S.stateNode=y.stateNode);else{if(typeof $!="string"&&S.stateNode===null)throw Error(r(166));if(y=bu.current,N=Qo.current,dn(S)){if(!Ur)throw Error(r(176));if(y=S.stateNode,N=S.memoizedProps,$=null,Y=La,Y!==null)switch(Y.tag){case 27:case 5:$=Y.memoizedProps}H0(y,N,S,$)||Fe(S)}else S.stateNode=oi($,y,N,S)}return ii(S),null;case 13:if($=S.memoizedState,y===null||y.memoizedState!==null&&y.memoizedState.dehydrated!==null){if(Y=dn(S),$!==null&&$.dehydrated!==null){if(y===null){if(!Y)throw Error(r(318));if(!Ur)throw Error(r(344));if(Y=S.memoizedState,Y=Y!==null?Y.dehydrated:null,!Y)throw Error(r(317));Sb(Y,S)}else mn(),(S.flags&128)===0&&(S.memoizedState=null),S.flags|=4;ii(S),Y=!1}else xc!==null&&(Wu(xc),xc=null),Y=!0;if(!Y)return S.flags&256?(gi(S),S):(gi(S),null)}if(gi(S),(S.flags&128)!==0)return S.lanes=N,S;if(N=$!==null,y=y!==null&&y.memoizedState!==null,N){$=S.child,Y=null,$.alternate!==null&&$.alternate.memoizedState!==null&&$.alternate.memoizedState.cachePool!==null&&(Y=$.alternate.memoizedState.cachePool.pool);var se=null;$.memoizedState!==null&&$.memoizedState.cachePool!==null&&(se=$.memoizedState.cachePool.pool),se!==Y&&($.flags|=2048)}return N!==y&&N&&(S.child.flags|=8192),Gr(S,S.updateQueue),ii(S),null;case 4:return le(),qo(y,S),y===null&&Nr(S.stateNode.containerInfo),ii(S),null;case 10:return Mn(S.type),ii(S),null;case 19:if(c(Jo),Y=S.memoizedState,Y===null)return ii(S),null;if($=(S.flags&128)!==0,se=Y.rendering,se===null)if($)Cs(Y,!1);else{if(Ss!==0||y!==null&&(y.flags&128)!==0)for(y=S.child;y!==null;){if(se=ls(y),se!==null){for(S.flags|=128,Cs(Y,!1),y=se.updateQueue,S.updateQueue=y,Gr(S,y),S.subtreeFlags=0,y=N,N=S.child;N!==null;)Ed(N,y),N=N.sibling;return x(Jo,Jo.current&1|2),S.child}y=y.sibling}Y.tail!==null&&bc()>sp&&(S.flags|=128,$=!0,Cs(Y,!1),S.lanes=4194304)}else{if(!$)if(y=ls(se),y!==null){if(S.flags|=128,$=!0,y=y.updateQueue,S.updateQueue=y,Gr(S,y),Cs(Y,!0),Y.tail===null&&Y.tailMode==="hidden"&&!se.alternate&&!Ir)return ii(S),null}else 2*bc()-Y.renderingStartTime>sp&&N!==536870912&&(S.flags|=128,$=!0,Cs(Y,!1),S.lanes=4194304);Y.isBackwards?(se.sibling=S.child,S.child=se):(y=Y.last,y!==null?y.sibling=se:S.child=se,Y.last=se)}return Y.tail!==null?(S=Y.tail,Y.rendering=S,Y.tail=S.sibling,Y.renderingStartTime=bc(),S.sibling=null,y=Jo.current,x(Jo,$?y&1|2:y&1),S):(ii(S),null);case 22:case 23:return gi(S),gr(),$=S.memoizedState!==null,y!==null?y.memoizedState!==null!==$&&(S.flags|=8192):$&&(S.flags|=8192),$?(N&536870912)!==0&&(S.flags&128)===0&&(ii(S),S.subtreeFlags&6&&(S.flags|=8192)):ii(S),N=S.updateQueue,N!==null&&Gr(S,N.retryQueue),N=null,y!==null&&y.memoizedState!==null&&y.memoizedState.cachePool!==null&&(N=y.memoizedState.cachePool.pool),$=null,S.memoizedState!==null&&S.memoizedState.cachePool!==null&&($=S.memoizedState.cachePool.pool),$!==N&&(S.flags|=2048),y!==null&&c(wu),null;case 24:return N=null,y!==null&&(N=y.memoizedState.cache),S.memoizedState.cache!==N&&(S.flags|=2048),Mn(Rs),ii(S),null;case 25:return null}throw Error(r(156,S.tag))}function Hs(y,S){switch(Ee(S),S.tag){case 1:return y=S.flags,y&65536?(S.flags=y&-65537|128,S):null;case 3:return Mn(Rs),le(),y=S.flags,(y&65536)!==0&&(y&128)===0?(S.flags=y&-65537|128,S):null;case 26:case 27:case 5:return Re(S),null;case 13:if(gi(S),y=S.memoizedState,y!==null&&y.dehydrated!==null){if(S.alternate===null)throw Error(r(340));mn()}return y=S.flags,y&65536?(S.flags=y&-65537|128,S):null;case 19:return c(Jo),null;case 4:return le(),null;case 10:return Mn(S.type),null;case 22:case 23:return gi(S),gr(),y!==null&&c(wu),y=S.flags,y&65536?(S.flags=y&-65537|128,S):null;case 24:return Mn(Rs),null;case 25:return null;default:return null}}function pa(y,S){switch(Ee(S),S.tag){case 3:Mn(Rs),le();break;case 26:case 27:case 5:Re(S);break;case 4:le();break;case 13:gi(S);break;case 19:c(Jo);break;case 10:Mn(S.type);break;case 22:case 23:gi(S),gr(),y!==null&&c(wu);break;case 24:Mn(Rs)}}function uo(y,S){try{var N=S.updateQueue,$=N!==null?N.lastEffect:null;if($!==null){var Y=$.next;N=Y;do{if((N.tag&y)===y){$=void 0;var se=N.create,Oe=N.inst;$=se(),Oe.destroy=$}N=N.next}while(N!==Y)}}catch(Ze){Vr(S,S.return,Ze)}}function ys(y,S,N){try{var $=S.updateQueue,Y=$!==null?$.lastEffect:null;if(Y!==null){var se=Y.next;$=se;do{if(($.tag&y)===y){var Oe=$.inst,Ze=Oe.destroy;if(Ze!==void 0){Oe.destroy=void 0,Y=S;var gt=N;try{Ze()}catch(tn){Vr(Y,gt,tn)}}}$=$.next}while($!==se)}}catch(tn){Vr(S,S.return,tn)}}function _d(y){var S=y.updateQueue;if(S!==null){var N=y.stateNode;try{mt(S,N)}catch($){Vr(y,y.return,$)}}}function Gs(y,S,N){N.props=eo(y.type,y.memoizedProps),N.state=y.memoizedState;try{N.componentWillUnmount()}catch($){Vr(y,S,$)}}function ma(y,S){try{var N=y.ref;if(N!==null){var $=y.stateNode;switch(y.tag){case 26:case 27:case 5:var Y=bi($);break;default:Y=$}typeof N=="function"?y.refCleanup=N(Y):N.current=Y}}catch(se){Vr(y,S,se)}}function ho(y,S){var N=y.ref,$=y.refCleanup;if(N!==null)if(typeof $=="function")try{$()}catch(Y){Vr(y,S,Y)}finally{y.refCleanup=null,y=y.alternate,y!=null&&(y.refCleanup=null)}else if(typeof N=="function")try{N(null)}catch(Y){Vr(y,S,Y)}else N.current=null}function ga(y){var S=y.type,N=y.memoizedProps,$=y.stateNode;try{Pg($,S,N,y)}catch(Y){Vr(y,y.return,Y)}}function Gu(y,S,N){try{Vf(y.stateNode,y.type,N,S,y)}catch($){Vr(y,y.return,$)}}function Rh(y){return y.tag===5||y.tag===3||(Gl?y.tag===26:!1)||(_s?y.tag===27:!1)||y.tag===4}function ke(y){e:for(;;){for(;y.sibling===null;){if(y.return===null||Rh(y.return))return null;y=y.return}for(y.sibling.return=y.return,y=y.sibling;y.tag!==5&&y.tag!==6&&(!_s||y.tag!==27)&&y.tag!==18;){if(y.flags&2||y.child===null||y.tag===4)continue e;y.child.return=y,y=y.child}if(!(y.flags&2))return y.stateNode}}function it(y,S,N){var $=y.tag;if($===5||$===6)y=y.stateNode,S?sm(N,y,S):Dh(N,y);else if(!($===4||_s&&$===27)&&(y=y.child,y!==null))for(it(y,S,N),y=y.sibling;y!==null;)it(y,S,N),y=y.sibling}function yt(y,S,N){var $=y.tag;if($===5||$===6)y=y.stateNode,S?rm(N,y,S):vu(N,y);else if(!($===4||_s&&$===27)&&(y=y.child,y!==null))for(yt(y,S,N),y=y.sibling;y!==null;)yt(y,S,N),y=y.sibling}function Mt(y,S,N){y=y.containerInfo;try{qf(y,N)}catch($){Vr(S,S.return,$)}}function jt(y,S){for(Fi(y.containerInfo),er=S;er!==null;)if(y=er,S=y.child,(y.subtreeFlags&1028)!==0&&S!==null)S.return=y,er=S;else for(;er!==null;){y=er;var N=y.alternate;switch(S=y.flags,y.tag){case 0:break;case 11:case 15:break;case 1:if((S&1024)!==0&&N!==null){S=void 0;var $=y,Y=N.memoizedProps;N=N.memoizedState;var se=$.stateNode;try{var Oe=eo($.type,Y,$.elementType===$.type);S=se.getSnapshotBeforeUpdate(Oe,N),se.__reactInternalSnapshotBeforeUpdate=S}catch(Ze){Vr($,$.return,Ze)}}break;case 3:(S&1024)!==0&&Br&&pb(y.stateNode.containerInfo);break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((S&1024)!==0)throw Error(r(163))}if(S=y.sibling,S!==null){S.return=y.return,er=S;break}er=y.return}return Oe=yr,yr=!1,Oe}function On(y,S,N){var $=N.flags;switch(N.tag){case 0:case 11:case 15:us(y,N),$&4&&uo(5,N);break;case 1:if(us(y,N),$&4)if(y=N.stateNode,S===null)try{y.componentDidMount()}catch(Ze){Vr(N,N.return,Ze)}else{var Y=eo(N.type,S.memoizedProps);S=S.memoizedState;try{y.componentDidUpdate(Y,S,y.__reactInternalSnapshotBeforeUpdate)}catch(Ze){Vr(N,N.return,Ze)}}$&64&&_d(N),$&512&&ma(N,N.return);break;case 3:if(us(y,N),$&64&&($=N.updateQueue,$!==null)){if(y=null,N.child!==null)switch(N.child.tag){case 27:case 5:y=bi(N.child.stateNode);break;case 1:y=N.child.stateNode}try{mt($,y)}catch(Ze){Vr(N,N.return,Ze)}}break;case 26:if(Gl){us(y,N),$&512&&ma(N,N.return);break}case 27:case 5:us(y,N),S===null&&$&4&&ga(N),$&512&&ma(N,N.return);break;case 12:us(y,N);break;case 13:us(y,N),$&4&&Yi(y,N);break;case 22:if(Y=N.memoizedState!==null||Cu,!Y){S=S!==null&&S.memoizedState!==null||go;var se=Cu,Oe=go;Cu=Y,(go=S)&&!Oe?no(y,N,(N.subtreeFlags&8772)!==0):us(y,N),Cu=se,go=Oe}$&512&&(N.memoizedProps.mode==="manual"?ma(N,N.return):ho(N,N.return));break;default:us(y,N)}}function Hn(y){var S=y.alternate;S!==null&&(y.alternate=null,Hn(S)),y.child=null,y.deletions=null,y.sibling=null,y.tag===5&&(S=y.stateNode,S!==null&&zo(S)),y.stateNode=null,y.return=null,y.dependencies=null,y.memoizedProps=null,y.memoizedState=null,y.pendingProps=null,y.stateNode=null,y.updateQueue=null}function kn(y,S,N){for(N=N.child;N!==null;)Fn(y,S,N),N=N.sibling}function Fn(y,S,N){if(wl&&typeof wl.onCommitFiberUnmount=="function")try{wl.onCommitFiberUnmount(wo,N)}catch{}switch(N.tag){case 26:if(Gl){go||ho(N,S),kn(y,S,N),N.memoizedState?Rd(N.memoizedState):N.stateNode&&Yf(N.stateNode);break}case 27:if(_s){go||ho(N,S);var $=Ti,Y=or;Ti=N.stateNode,kn(y,S,N),Bh(N.stateNode),Ti=$,or=Y;break}case 5:go||ho(N,S);case 6:if(Br){if($=Ti,Y=or,Ti=null,kn(y,S,N),Ti=$,or=Y,Ti!==null)if(or)try{om(Ti,N.stateNode)}catch(se){Vr(N,S,se)}else try{Wf(Ti,N.stateNode)}catch(se){Vr(N,S,se)}}else kn(y,S,N);break;case 18:Br&&Ti!==null&&(or?um(Ti,N.stateNode):wb(Ti,N.stateNode));break;case 4:Br?($=Ti,Y=or,Ti=N.stateNode.containerInfo,or=!0,kn(y,S,N),Ti=$,or=Y):(Xs&&Mt(N.stateNode,N,cm()),kn(y,S,N));break;case 0:case 11:case 14:case 15:go||ys(2,N,S),go||ys(4,N,S),kn(y,S,N);break;case 1:go||(ho(N,S),$=N.stateNode,typeof $.componentWillUnmount=="function"&&Gs(N,S,$)),kn(y,S,N);break;case 21:kn(y,S,N);break;case 22:go||ho(N,S),go=($=go)||N.memoizedState!==null,kn(y,S,N),go=$;break;default:kn(y,S,N)}}function Yi(y,S){if(Ur&&S.memoizedState===null&&(y=S.alternate,y!==null&&(y=y.memoizedState,y!==null&&(y=y.dehydrated,y!==null))))try{bw(y)}catch(N){Vr(S,S.return,N)}}function Si(y){switch(y.tag){case 13:case 19:var S=y.stateNode;return S===null&&(S=y.stateNode=new Jr),S;case 22:return y=y.stateNode,S=y._retryCache,S===null&&(S=y._retryCache=new Jr),S;default:throw Error(r(435,y.tag))}}function _i(y,S){var N=Si(y);S.forEach(function($){var Y=du.bind(null,y,$);N.has($)||(N.add($),$.then(Y,Y))})}function Ei(y,S){var N=S.deletions;if(N!==null)for(var $=0;$<N.length;$++){var Y=N[$],se=y,Oe=S;if(Br){var Ze=Oe;e:for(;Ze!==null;){switch(Ze.tag){case 27:case 5:Ti=Ze.stateNode,or=!1;break e;case 3:Ti=Ze.stateNode.containerInfo,or=!0;break e;case 4:Ti=Ze.stateNode.containerInfo,or=!0;break e}Ze=Ze.return}if(Ti===null)throw Error(r(160));Fn(se,Oe,Y),Ti=null,or=!1}else Fn(se,Oe,Y);se=Y.alternate,se!==null&&(se.return=null),Y.return=null}if(S.subtreeFlags&13878)for(S=S.child;S!==null;)li(S,y),S=S.sibling}function li(y,S){var N=y.alternate,$=y.flags;switch(y.tag){case 0:case 11:case 14:case 15:Ei(S,y),Oi(y),$&4&&(ys(3,y,y.return),uo(3,y),ys(5,y,y.return));break;case 1:Ei(S,y),Oi(y),$&512&&(go||N===null||ho(N,N.return)),$&64&&Cu&&(y=y.updateQueue,y!==null&&($=y.callbacks,$!==null&&(N=y.shared.hiddenCallbacks,y.shared.hiddenCallbacks=N===null?$:N.concat($))));break;case 26:if(Gl){var Y=ro;Ei(S,y),Oi(y),$&512&&(go||N===null||ho(N,N.return)),$&4&&($=N!==null?N.memoizedState:null,S=y.memoizedState,N===null?S===null?y.stateNode===null?y.stateNode=dm(Y,y.type,y.memoizedProps,y):fm(Y,y.type,y.stateNode):y.stateNode=Tb(Y,S,y.memoizedProps):$!==S?($===null?N.stateNode!==null&&Yf(N.stateNode):Rd($),S===null?fm(Y,y.type,y.stateNode):Tb(Y,S,y.memoizedProps)):S===null&&y.stateNode!==null&&Gu(y,y.memoizedProps,N.memoizedProps));break}case 27:if(_s&&$&4&&y.alternate===null){Y=y.stateNode;var se=y.memoizedProps;try{Fh(Y),Ob(y.type,se,Y,y)}catch(In){Vr(y,y.return,In)}}case 5:if(Ei(S,y),Oi(y),$&512&&(go||N===null||ho(N,N.return)),Br){if(y.flags&32){S=y.stateNode;try{am(S)}catch(In){Vr(y,y.return,In)}}$&4&&y.stateNode!=null&&(S=y.memoizedProps,Gu(y,S,N!==null?N.memoizedProps:S)),$&1024&&(X0=!0)}break;case 6:if(Ei(S,y),Oi(y),$&4&&Br){if(y.stateNode===null)throw Error(r(162));$=y.memoizedProps,N=N!==null?N.memoizedProps:$,S=y.stateNode;try{im(S,N,$)}catch(In){Vr(y,y.return,In)}}break;case 3:if(Gl?(Ab(),Y=ro,ro=zg(S.containerInfo),Ei(S,y),ro=Y):Ei(S,y),Oi(y),$&4){if(Br&&Ur&&N!==null&&N.memoizedState.isDehydrated)try{_w(S.containerInfo)}catch(In){Vr(y,y.return,In)}if(Xs){$=S.containerInfo,N=S.pendingChildren;try{qf($,N)}catch(In){Vr(y,y.return,In)}}}X0&&(X0=!1,Fo(y));break;case 4:Gl?(N=ro,ro=zg(y.stateNode.containerInfo),Ei(S,y),Oi(y),ro=N):(Ei(S,y),Oi(y)),$&4&&Xs&&Mt(y.stateNode,y,y.stateNode.pendingChildren);break;case 12:Ei(S,y),Oi(y);break;case 13:Ei(S,y),Oi(y),y.child.flags&8192&&y.memoizedState!==null!=(N!==null&&N.memoizedState!==null)&&(al=bc()),$&4&&($=y.updateQueue,$!==null&&(y.updateQueue=null,_i(y,$)));break;case 22:$&512&&(go||N===null||ho(N,N.return)),Y=y.memoizedState!==null;var Oe=N!==null&&N.memoizedState!==null,Ze=Cu,gt=go;if(Cu=Ze||Y,go=gt||Oe,Ei(S,y),go=gt,Cu=Ze,Oi(y),S=y.stateNode,S._current=y,S._visibility&=-3,S._visibility|=S._pendingVisibility&2,$&8192&&(S._visibility=Y?S._visibility&-2:S._visibility|1,Y&&(S=Cu||go,N===null||Oe||S||fo(y)),Br&&(y.memoizedProps===null||y.memoizedProps.mode!=="manual"))){e:if(N=null,Br)for(S=y;;){if(S.tag===5||Gl&&S.tag===26||_s&&S.tag===27){if(N===null){Oe=N=S;try{se=Oe.stateNode,Y?Ng(se):lm(Oe.stateNode,Oe.memoizedProps)}catch(In){Vr(Oe,Oe.return,In)}}}else if(S.tag===6){if(N===null){Oe=S;try{var tn=Oe.stateNode;Y?jf(tn):vw(tn,Oe.memoizedProps)}catch(In){Vr(Oe,Oe.return,In)}}}else if((S.tag!==22&&S.tag!==23||S.memoizedState===null||S===y)&&S.child!==null){S.child.return=S,S=S.child;continue}if(S===y)break e;for(;S.sibling===null;){if(S.return===null||S.return===y)break e;N===S&&(N=null),S=S.return}N===S&&(N=null),S.sibling.return=S.return,S=S.sibling}}$&4&&($=y.updateQueue,$!==null&&(N=$.retryQueue,N!==null&&($.retryQueue=null,_i(y,N))));break;case 19:Ei(S,y),Oi(y),$&4&&($=y.updateQueue,$!==null&&(y.updateQueue=null,_i(y,$)));break;case 21:break;default:Ei(S,y),Oi(y)}}function Oi(y){var S=y.flags;if(S&2){try{if(Br&&(!_s||y.tag!==27)){e:{for(var N=y.return;N!==null;){if(Rh(N)){var $=N;break e}N=N.return}throw Error(r(160))}switch($.tag){case 27:if(_s){var Y=$.stateNode,se=ke(y);yt(y,se,Y);break}case 5:var Oe=$.stateNode;$.flags&32&&(am(Oe),$.flags&=-33);var Ze=ke(y);yt(y,Ze,Oe);break;case 3:case 4:var gt=$.stateNode.containerInfo,tn=ke(y);it(y,tn,gt);break;default:throw Error(r(161))}}}catch(In){Vr(y,y.return,In)}y.flags&=-3}S&4096&&(y.flags&=-4097)}function Fo(y){if(y.subtreeFlags&1024)for(y=y.child;y!==null;){var S=y;Fo(S),S.tag===5&&S.flags&1024&&Zu(S.stateNode),y=y.sibling}}function us(y,S){if(S.subtreeFlags&8772)for(S=S.child;S!==null;)On(y,S.alternate,S),S=S.sibling}function fo(y){for(y=y.child;y!==null;){var S=y;switch(S.tag){case 0:case 11:case 14:case 15:ys(4,S,S.return),fo(S);break;case 1:ho(S,S.return);var N=S.stateNode;typeof N.componentWillUnmount=="function"&&Gs(S,S.return,N),fo(S);break;case 26:case 27:case 5:ho(S,S.return),fo(S);break;case 22:ho(S,S.return),S.memoizedState===null&&fo(S);break;default:fo(S)}y=y.sibling}}function no(y,S,N){for(N=N&&(S.subtreeFlags&8772)!==0,S=S.child;S!==null;){var $=S.alternate,Y=y,se=S,Oe=se.flags;switch(se.tag){case 0:case 11:case 15:no(Y,se,N),uo(4,se);break;case 1:if(no(Y,se,N),$=se,Y=$.stateNode,typeof Y.componentDidMount=="function")try{Y.componentDidMount()}catch(tn){Vr($,$.return,tn)}if($=se,Y=$.updateQueue,Y!==null){var Ze=$.stateNode;try{var gt=Y.shared.hiddenCallbacks;if(gt!==null)for(Y.shared.hiddenCallbacks=null,Y=0;Y<gt.length;Y++)Xe(gt[Y],Ze)}catch(tn){Vr($,$.return,tn)}}N&&Oe&64&&_d(se),ma(se,se.return);break;case 26:case 27:case 5:no(Y,se,N),N&&$===null&&Oe&4&&ga(se),ma(se,se.return);break;case 12:no(Y,se,N);break;case 13:no(Y,se,N),N&&Oe&4&&Yi(Y,se);break;case 22:se.memoizedState===null&&no(Y,se,N),ma(se,se.return);break;default:no(Y,se,N)}S=S.sibling}}function yl(y,S){var N=null;y!==null&&y.memoizedState!==null&&y.memoizedState.cachePool!==null&&(N=y.memoizedState.cachePool.pool),y=null,S.memoizedState!==null&&S.memoizedState.cachePool!==null&&(y=S.memoizedState.cachePool.pool),y!==N&&(y!=null&&y.refCount++,N!=null&&vi(N))}function Vs(y,S){y=null,S.alternate!==null&&(y=S.alternate.memoizedState.cache),S=S.memoizedState.cache,S!==y&&(S.refCount++,y!=null&&vi(y))}function Bo(y,S,N,$){if(S.subtreeFlags&10256)for(S=S.child;S!==null;)Xp(y,S,N,$),S=S.sibling}function Xp(y,S,N,$){var Y=S.flags;switch(S.tag){case 0:case 11:case 15:Bo(y,S,N,$),Y&2048&&uo(9,S);break;case 3:Bo(y,S,N,$),Y&2048&&(y=null,S.alternate!==null&&(y=S.alternate.memoizedState.cache),S=S.memoizedState.cache,S!==y&&(S.refCount++,y!=null&&vi(y)));break;case 12:if(Y&2048){Bo(y,S,N,$),y=S.stateNode;try{var se=S.memoizedProps,Oe=se.id,Ze=se.onPostCommit;typeof Ze=="function"&&Ze(Oe,S.alternate===null?"mount":"update",y.passiveEffectDuration,-0)}catch(gt){Vr(S,S.return,gt)}}else Bo(y,S,N,$);break;case 23:break;case 22:se=S.stateNode,S.memoizedState!==null?se._visibility&4?Bo(y,S,N,$):Zo(y,S):se._visibility&4?Bo(y,S,N,$):(se._visibility|=4,Ko(y,S,N,$,(S.subtreeFlags&10256)!==0)),Y&2048&&yl(S.alternate,S);break;case 24:Bo(y,S,N,$),Y&2048&&Vs(S.alternate,S);break;default:Bo(y,S,N,$)}}function Ko(y,S,N,$,Y){for(Y=Y&&(S.subtreeFlags&10256)!==0,S=S.child;S!==null;){var se=y,Oe=S,Ze=N,gt=$,tn=Oe.flags;switch(Oe.tag){case 0:case 11:case 15:Ko(se,Oe,Ze,gt,Y),uo(8,Oe);break;case 23:break;case 22:var In=Oe.stateNode;Oe.memoizedState!==null?In._visibility&4?Ko(se,Oe,Ze,gt,Y):Zo(se,Oe):(In._visibility|=4,Ko(se,Oe,Ze,gt,Y)),Y&&tn&2048&&yl(Oe.alternate,Oe);break;case 24:Ko(se,Oe,Ze,gt,Y),Y&&tn&2048&&Vs(Oe.alternate,Oe);break;default:Ko(se,Oe,Ze,gt,Y)}S=S.sibling}}function Zo(y,S){if(S.subtreeFlags&10256)for(S=S.child;S!==null;){var N=y,$=S,Y=$.flags;switch($.tag){case 22:Zo(N,$),Y&2048&&yl($.alternate,$);break;case 24:Zo(N,$),Y&2048&&Vs($.alternate,$);break;default:Zo(N,$)}S=S.sibling}}function nl(y){if(y.subtreeFlags&Kl)for(y=y.child;y!==null;)Pf(y),y=y.sibling}function Pf(y){switch(y.tag){case 26:nl(y),y.flags&Kl&&(y.memoizedState!==null?Mb(ro,y.memoizedState,y.memoizedProps):qs(y.type,y.memoizedProps));break;case 5:nl(y),y.flags&Kl&&qs(y.type,y.memoizedProps);break;case 3:case 4:if(Gl){var S=ro;ro=zg(y.stateNode.containerInfo),nl(y),ro=S}else nl(y);break;case 22:y.memoizedState===null&&(S=y.alternate,S!==null&&S.memoizedState!==null?(S=Kl,Kl=16777216,nl(y),Kl=S):nl(y));break;default:nl(y)}}function bd(y){var S=y.alternate;if(S!==null&&(y=S.child,y!==null)){S.child=null;do S=y.sibling,y.sibling=null,y=S;while(y!==null)}}function au(y){var S=y.deletions;if((y.flags&16)!==0){if(S!==null)for(var N=0;N<S.length;N++){var $=S[N];er=$,Ul($,y)}bd(y)}if(y.subtreeFlags&10256)for(y=y.child;y!==null;)Nf(y),y=y.sibling}function Nf(y){switch(y.tag){case 0:case 11:case 15:au(y),y.flags&2048&&ys(9,y,y.return);break;case 3:au(y);break;case 12:au(y);break;case 22:var S=y.stateNode;y.memoizedState!==null&&S._visibility&4&&(y.return===null||y.return.tag!==13)?(S._visibility&=-5,Uc(y)):au(y);break;default:au(y)}}function Uc(y){var S=y.deletions;if((y.flags&16)!==0){if(S!==null)for(var N=0;N<S.length;N++){var $=S[N];er=$,Ul($,y)}bd(y)}for(y=y.child;y!==null;){switch(S=y,S.tag){case 0:case 11:case 15:ys(8,S,S.return),Uc(S);break;case 22:N=S.stateNode,N._visibility&4&&(N._visibility&=-5,Uc(S));break;default:Uc(S)}y=y.sibling}}function Ul(y,S){for(;er!==null;){var N=er;switch(N.tag){case 0:case 11:case 15:ys(8,N,S);break;case 23:case 22:if(N.memoizedState!==null&&N.memoizedState.cachePool!==null){var $=N.memoizedState.cachePool.pool;$!=null&&$.refCount++}break;case 24:vi(N.memoizedState.cache)}if($=N.child,$!==null)$.return=N,er=$;else e:for(N=y;er!==null;){$=er;var Y=$.sibling,se=$.return;if(Hn($),$===N){er=null;break e}if(Y!==null){Y.return=se,er=Y;break e}er=se}}}function Vu(y){var S=rl(y);if(S!=null){if(typeof S.memoizedProps["data-testname"]!="string")throw Error(r(364));return S}if(y=tm(y),y===null)throw Error(r(362));return y.stateNode.current}function lu(y,S){var N=y.tag;switch(S.$$typeof){case rp:if(y.type===S.value)return!0;break;case wc:e:{for(S=S.value,y=[y,0],N=0;N<y.length;){var $=y[N++],Y=$.tag,se=y[N++],Oe=S[se];if(Y!==5&&Y!==26&&Y!==27||!Qu($)){for(;Oe!=null&&lu($,Oe);)se++,Oe=S[se];if(se===S.length){S=!0;break e}else for($=$.child;$!==null;)y.push($,se),$=$.sibling}}S=!1}return S;case Us:if((N===5||N===26||N===27)&&nm(y.stateNode,S.value))return!0;break;case Tu:if((N===5||N===6||N===26||N===27)&&(y=Mg(y),y!==null&&0<=y.indexOf(S.value)))return!0;break;case Kc:if((N===5||N===26||N===27)&&(y=y.memoizedProps["data-testname"],typeof y=="string"&&y.toLowerCase()===S.value.toLowerCase()))return!0;break;default:throw Error(r(365))}return!1}function qp(y){switch(y.$$typeof){case rp:return"<"+(o(y.value)||"Unknown")+">";case wc:return":has("+(qp(y)||"")+")";case Us:return'[role="'+y.value+'"]';case Tu:return'"'+y.value+'"';case Kc:return'[data-testname="'+y.value+'"]';default:throw Error(r(365))}}function za(y,S){var N=[];y=[y,0];for(var $=0;$<y.length;){var Y=y[$++],se=Y.tag,Oe=y[$++],Ze=S[Oe];if(se!==5&&se!==26&&se!==27||!Qu(Y)){for(;Ze!=null&&lu(Y,Ze);)Oe++,Ze=S[Oe];if(Oe===S.length)N.push(Y);else for(Y=Y.child;Y!==null;)y.push(Y,Oe),Y=Y.sibling}}return N}function xd(y,S){if(!_c)throw Error(r(363));y=Vu(y),y=za(y,S),S=[],y=Array.from(y);for(var N=0;N<y.length;){var $=y[N++],Y=$.tag;if(Y===5||Y===26||Y===27)Qu($)||S.push($.stateNode);else for($=$.child;$!==null;)y.push($),$=$.sibling}return S}function io(){if((zr&2)!==0&&Cr!==0)return Cr&-Cr;if(Qe.T!==null){var y=jl;return y!==0?y:pt()}return Hl()}function Yp(){Jl===0&&(Jl=(Cr&536870912)===0||Ir?I():536870912);var y=Xl.current;return y!==null&&(y.flags|=32),Jl}function Uo(y,S,N){(y===es&&ds===2||y.cancelPendingCommit!==null)&&(So(y,0),Aa(y,Cr,Jl,!1)),D(y,N),((zr&2)===0||y!==es)&&(y===es&&((zr&2)===0&&(rh|=N),Ss===4&&Aa(y,Cr,Jl,!1)),nt(y))}function cu(y,S,N){if((zr&6)!==0)throw Error(r(327));var $=!N&&(S&60)===0&&(S&y.expiredLanes)===0||P(y,S),Y=$?Zp(y,S):If(y,S,!0),se=$;do{if(Y===0){Zl&&!$&&Aa(y,S,0,!1);break}else if(Y===6)Aa(y,S,0,!Tc);else{if(N=y.current.alternate,se&&!Mh(N)){Y=If(y,S,!1),se=!1;continue}if(Y===2){if(se=S,y.errorRecoveryDisabledLanes&se)var Oe=0;else Oe=y.pendingLanes&-536870913,Oe=Oe!==0?Oe:Oe&536870912?536870912:0;if(Oe!==0){S=Oe;e:{var Ze=y;Y=Gd;var gt=Ur&&Ze.current.memoizedState.isDehydrated;if(gt&&(So(Ze,Oe).flags|=256),Oe=If(Ze,Oe,!1),Oe!==2){if(ea&&!gt){Ze.errorRecoveryDisabledLanes|=se,rh|=se,Y=4;break e}se=vo,vo=Y,se!==null&&Wu(se)}Y=Oe}if(se=!1,Y!==2)continue}}if(Y===1){So(y,0),Aa(y,S,0,!0);break}e:{switch($=y,Y){case 0:case 1:throw Error(r(345));case 4:if((S&4194176)===S){Aa($,S,Jl,!Tc);break e}break;case 2:vo=null;break;case 3:case 5:break;default:throw Error(r(329))}if($.finishedWork=N,$.finishedLanes=S,(S&62914560)===S&&(se=al+300-bc(),10<se)){if(Aa($,S,Jl,!Tc),L($,0)!==0)break e;$.timeoutHandle=Pi(ju.bind(null,$,N,vo,bm,Zg,S,Jl,rh,Au,Tc,2,-0,0),se);break e}ju($,N,vo,bm,Zg,S,Jl,rh,Au,Tc,0,-0,0)}}break}while(!0);nt(y)}function Wu(y){vo===null?vo=y:vo.push.apply(vo,y)}function ju(y,S,N,$,Y,se,Oe,Ze,gt,tn,In,Vn,Zn){var tr=S.subtreeFlags;if((tr&8192||(tr&16785408)===16785408)&&(Ga(),Pf(S),S=Bs(),S!==null)){y.cancelPendingCommit=S(il.bind(null,y,N,$,Y,Oe,Ze,gt,1,Vn,Zn)),Aa(y,se,Oe,!tn);return}il(y,N,$,Y,Oe,Ze,gt,In,Vn,Zn)}function Mh(y){for(var S=y;;){var N=S.tag;if((N===0||N===11||N===15)&&S.flags&16384&&(N=S.updateQueue,N!==null&&(N=N.stores,N!==null)))for(var $=0;$<N.length;$++){var Y=N[$],se=Y.getSnapshot;Y=Y.value;try{if(!Cl(se(),Y))return!1}catch{return!1}}if(N=S.child,S.subtreeFlags&16384&&N!==null)N.return=S,S=N;else{if(S===y)break;for(;S.sibling===null;){if(S.return===null||S.return===y)return!0;S=S.return}S.sibling.return=S.return,S=S.sibling}}return!0}function Aa(y,S,N,$){S&=~_m,S&=~rh,y.suspendedLanes|=S,y.pingedLanes&=~S,$&&(y.warmLanes|=S),$=y.expirationTimes;for(var Y=S;0<Y;){var se=31-sl(Y),Oe=1<<se;$[se]=-1,Y&=~Oe}N!==0&&j(y,N,S)}function Oh(){return(zr&6)===0?(Nt(0),!1):!0}function gc(){if(Ni!==null){if(ds===0)var y=Ni.return;else y=Ni,Yl=Yc=null,Wt(y),$h=null,Hh=0,y=Ni;for(;y!==null;)pa(y.alternate,y),y=y.return;Ni=null}}function So(y,S){y.finishedWork=null,y.finishedLanes=0;var N=y.timeoutHandle;N!==vr&&(y.timeoutHandle=vr,Fr(N)),N=y.cancelPendingCommit,N!==null&&(y.cancelPendingCommit=null,N()),gc(),es=y,Ni=N=bl(y.current,null),Cr=S,ds=0,Va=null,Tc=!1,Zl=P(y,S),ea=!1,Au=Jl=_m=rh=Ql=Ss=0,vo=Gd=null,Zg=!1,(S&8)!==0&&(S|=S&32);var $=y.entangledLanes;if($!==0)for(y=y.entanglements,$&=S;0<$;){var Y=31-sl($),se=1<<Y;S|=y[Y],$&=~se}return Wa=S,Ae(),N}function Ra(y,S){cr=null,Qe.H=mo,S===ep?(S=_n(),ds=3):S===vm?(S=_n(),ds=4):ds=S===Yg?8:S!==null&&typeof S=="object"&&typeof S.then=="function"?6:1,Va=S,Ni===null&&(Ss=1,xn(y,he(S,y.current)))}function uu(){var y=Xl.current;return y===null?!0:(Cr&4194176)===Cr?bs===null:(Cr&62914560)===Cr||(Cr&536870912)!==0?y===bs:!1}function vc(){var y=Qe.H;return Qe.H=mo,y===null?mo:y}function yc(){var y=Qe.A;return Qe.A=ip,y}function Ma(){Ss=4,Tc||(Cr&4194176)!==Cr&&Xl.current!==null||(Zl=!0),(Ql&134217727)===0&&(rh&134217727)===0||es===null||Aa(es,Cr,Jl,!1)}function If(y,S,N){var $=zr;zr|=2;var Y=vc(),se=yc();(es!==y||Cr!==S)&&(bm=null,So(y,S)),S=!1;var Oe=Ss;e:do try{if(ds!==0&&Ni!==null){var Ze=Ni,gt=Va;switch(ds){case 8:gc(),Oe=6;break e;case 3:case 2:case 6:Xl.current===null&&(S=!0);var tn=ds;if(ds=0,Va=null,_l(y,Ze,gt,tn),N&&Zl){Oe=0;break e}break;default:tn=ds,ds=0,Va=null,_l(y,Ze,gt,tn)}}Kp(),Oe=Ss;break}catch(In){Ra(y,In)}while(!0);return S&&y.shellSuspendCounter++,Yl=Yc=null,zr=$,Qe.H=Y,Qe.A=se,Ni===null&&(es=null,Cr=0,Ae()),Oe}function Kp(){for(;Ni!==null;)hs(Ni)}function Zp(y,S){var N=zr;zr|=2;var $=vc(),Y=yc();es!==y||Cr!==S?(bm=null,sp=bc()+500,So(y,S)):Zl=P(y,S);e:do try{if(ds!==0&&Ni!==null){S=Ni;var se=Va;t:switch(ds){case 1:ds=0,Va=null,_l(y,S,se,1);break;case 2:if(gn(se)){ds=0,Va=null,wr(S);break}S=function(){ds===2&&es===y&&(ds=7),nt(y)},se.then(S,S);break e;case 3:ds=7;break e;case 4:ds=5;break e;case 7:gn(se)?(ds=0,Va=null,wr(S)):(ds=0,Va=null,_l(y,S,se,7));break;case 5:var Oe=null;switch(Ni.tag){case 26:Oe=Ni.memoizedState;case 5:case 27:var Ze=Ni,gt=Ze.type,tn=Ze.pendingProps;if(Oe?Md(Oe):$o(gt,tn)){ds=0,Va=null;var In=Ze.sibling;if(In!==null)Ni=In;else{var Vn=Ze.return;Vn!==null?(Ni=Vn,$a(Vn)):Ni=null}break t}}ds=0,Va=null,_l(y,S,se,5);break;case 6:ds=0,Va=null,_l(y,S,se,6);break;case 8:gc(),Ss=6;break e;default:throw Error(r(462))}}Oa();break}catch(Zn){Ra(y,Zn)}while(!0);return Yl=Yc=null,Qe.H=$,Qe.A=Y,zr=N,Ni!==null?0:(es=null,Cr=0,Ae(),Ss)}function Oa(){for(;Ni!==null&&!Nb();)hs(Ni)}function hs(y){var S=Zt(y.alternate,y,Wa);y.memoizedProps=y.pendingProps,S===null?$a(y):Ni=S}function wr(y){var S=y,N=S.alternate;switch(S.tag){case 15:case 0:S=He(N,S,S.pendingProps,S.type,void 0,Cr);break;case 11:S=He(N,S,S.pendingProps,S.type.render,S.ref,Cr);break;case 5:Wt(S);default:pa(N,S),S=Ni=Ed(S,Wa),S=Zt(N,S,Wa)}y.memoizedProps=y.pendingProps,S===null?$a(y):Ni=S}function _l(y,S,N,$){Yl=Yc=null,Wt(S),$h=null,Hh=0;var Y=S.return;try{if(be(y,Y,S,N,Cr)){Ss=1,xn(y,he(N,y.current)),Ni=null;return}}catch(se){if(Y!==null)throw Ni=Y,se;Ss=1,xn(y,he(N,y.current)),Ni=null;return}S.flags&32768?(Ir||$===1?y=!0:Zl||(Cr&536870912)!==0?y=!1:(Tc=y=!0,($===2||$===3||$===6)&&($=Xl.current,$!==null&&$.tag===13&&($.flags|=16384))),Df(S,y)):$a(S)}function $a(y){var S=y;do{if((S.flags&32768)!==0){Df(S,Tc);return}y=S.return;var N=Yo(S.alternate,S,Wa);if(N!==null){Ni=N;return}if(S=S.sibling,S!==null){Ni=S;return}Ni=S=y}while(S!==null);Ss===0&&(Ss=5)}function Df(y,S){do{var N=Hs(y.alternate,y);if(N!==null){N.flags&=32767,Ni=N;return}if(N=y.return,N!==null&&(N.flags|=32768,N.subtreeFlags=0,N.deletions=null),!S&&(y=y.sibling,y!==null)){Ni=y;return}Ni=y=N}while(y!==null);Ss=6,Ni=null}function il(y,S,N,$,Y,se,Oe,Ze,gt,tn){var In=Qe.T,Vn=ko();try{fr(2),Qe.T=null,Ff(y,S,N,$,Vn,Y,se,Oe,Ze,gt,tn)}finally{Qe.T=In,fr(Vn)}}function Ff(y,S,N,$,Y,se,Oe,Ze){do kl();while(Ru!==null);if((zr&6)!==0)throw Error(r(327));var gt=y.finishedWork;if($=y.finishedLanes,gt===null)return null;if(y.finishedWork=null,y.finishedLanes=0,gt===y.current)throw Error(r(177));y.callbackNode=null,y.callbackPriority=0,y.cancelPendingCommit=null;var tn=gt.lanes|gt.childLanes;if(tn|=Xc,G(y,$,tn,se,Oe,Ze),y===es&&(Ni=es=null,Cr=0),(gt.subtreeFlags&10256)===0&&(gt.flags&10256)===0||Zc||(Zc=!0,Xh=tn,Qg=N,$c(Wg,function(){return kl(),null})),N=(gt.flags&15990)!==0,(gt.subtreeFlags&15990)!==0||N?(N=Qe.T,Qe.T=null,se=ko(),fr(2),Oe=zr,zr|=4,jt(y,gt),li(gt,y),Xr(y.containerInfo),y.current=gt,On(y,gt.alternate,gt),Gg(),zr=Oe,fr(se),Qe.T=N):y.current=gt,Zc?(Zc=!1,Ru=y,Vd=$):Bf(y,tn),tn=y.pendingLanes,tn===0&&(jh=null),H(gt.stateNode),nt(y),S!==null)for(Y=y.onRecoverableError,gt=0;gt<S.length;gt++)tn=S[gt],Y(tn.value,{componentStack:tn.stack});return(Vd&3)!==0&&kl(),tn=y.pendingLanes,($&4194218)!==0&&(tn&42)!==0?y===Jg?op++:(op=0,Jg=y):op=0,Nt(0),null}function Bf(y,S){(y.pooledCacheLanes&=S)===0&&(S=y.pooledCache,S!=null&&(y.pooledCache=null,vi(S)))}function kl(){if(Ru!==null){var y=Ru,S=Xh;Xh=0;var N=V(Vd),$=32>N?32:N;N=Qe.T;var Y=ko();try{if(fr($),Qe.T=null,Ru===null)var se=!1;else{$=Qg,Qg=null;var Oe=Ru,Ze=Vd;if(Ru=null,Vd=0,(zr&6)!==0)throw Error(r(331));var gt=zr;if(zr|=4,Nf(Oe.current),Xp(Oe,Oe.current,Ze,$),zr=gt,Nt(0,!1),wl&&typeof wl.onPostCommitFiberRoot=="function")try{wl.onPostCommitFiberRoot(wo,Oe)}catch{}se=!0}return se}finally{fr(Y),Qe.T=N,Bf(y,S)}}return!1}function Lh(y,S,N){S=he(N,S),S=B(y.stateNode,S,2),y=on(y,S,2),y!==null&&(D(y,2),nt(y))}function Vr(y,S,N){if(y.tag===3)Lh(y,y,N);else for(;S!==null;){if(S.tag===3){Lh(S,y,N);break}else if(S.tag===1){var $=S.stateNode;if(typeof S.type.getDerivedStateFromError=="function"||typeof $.componentDidCatch=="function"&&(jh===null||!jh.has($))){y=he(N,y),N=J(2),$=on(S,N,2),$!==null&&(Z(N,$,S,y),D($,2),nt($));break}}S=S.return}}function zl(y,S,N){var $=y.pingCache;if($===null){$=y.pingCache=new Cc;var Y=new Set;$.set(S,Y)}else Y=$.get(S),Y===void 0&&(Y=new Set,$.set(S,Y));Y.has(N)||(ea=!0,Y.add(N),y=kc.bind(null,y,S,N),S.then(y,y))}function kc(y,S,N){var $=y.pingCache;$!==null&&$.delete(S),y.pingedLanes|=y.suspendedLanes&N,y.warmLanes&=~N,es===y&&(Cr&N)===N&&(Ss===4||Ss===3&&(Cr&62914560)===Cr&&300>bc()-al?(zr&2)===0&&So(y,0):_m|=N,Au===Cr&&(Au=0)),nt(y)}function hu(y,S){S===0&&(S=F()),y=zt(y,S),y!==null&&(D(y,S),nt(y))}function zc(y){var S=y.memoizedState,N=0;S!==null&&(N=S.retryLane),hu(y,N)}function du(y,S){var N=0;switch(y.tag){case 13:var $=y.stateNode,Y=y.memoizedState;Y!==null&&(N=Y.retryLane);break;case 19:$=y.stateNode;break;case 22:$=y.stateNode._retryCache;break;default:throw Error(r(314))}$!==null&&$.delete(S),hu(y,N)}function $c(y,S){return pm(y,S)}function Qp(y,S,N,$){this.tag=y,this.key=N,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=S,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=$,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Sd(y){return y=y.prototype,!(!y||!y.isReactComponent)}function bl(y,S){var N=y.alternate;return N===null?(N=t(y.tag,S,y.key,y.mode),N.elementType=y.elementType,N.type=y.type,N.stateNode=y.stateNode,N.alternate=y,y.alternate=N):(N.pendingProps=S,N.type=y.type,N.flags=0,N.subtreeFlags=0,N.deletions=null),N.flags=y.flags&31457280,N.childLanes=y.childLanes,N.lanes=y.lanes,N.child=y.child,N.memoizedProps=y.memoizedProps,N.memoizedState=y.memoizedState,N.updateQueue=y.updateQueue,S=y.dependencies,N.dependencies=S===null?null:{lanes:S.lanes,firstContext:S.firstContext},N.sibling=y.sibling,N.index=y.index,N.ref=y.ref,N.refCleanup=y.refCleanup,N}function Ed(y,S){y.flags&=31457282;var N=y.alternate;return N===null?(y.childLanes=0,y.lanes=S,y.child=null,y.subtreeFlags=0,y.memoizedProps=null,y.memoizedState=null,y.updateQueue=null,y.dependencies=null,y.stateNode=null):(y.childLanes=N.childLanes,y.lanes=N.lanes,y.child=N.child,y.subtreeFlags=0,y.deletions=null,y.memoizedProps=N.memoizedProps,y.memoizedState=N.memoizedState,y.updateQueue=N.updateQueue,y.type=N.type,S=N.dependencies,y.dependencies=S===null?null:{lanes:S.lanes,firstContext:S.firstContext}),y}function $l(y,S,N,$,Y,se){var Oe=0;if($=y,typeof y=="function")Sd(y)&&(Oe=1);else if(typeof y=="string")Oe=Gl&&_s?hm(y,N,Qo.current)?26:yu(y)?27:5:Gl?hm(y,N,Qo.current)?26:5:_s&&yu(y)?27:5;else e:switch(y){case pu:return Ws(N.children,Y,se,S);case Td:Oe=8,Y|=24;break;case zf:return y=t(12,N,S,Y|2),y.elementType=zf,y.lanes=se,y;case Hf:return y=t(13,N,S,Y),y.elementType=Hf,y.lanes=se,y;case Ih:return y=t(19,N,S,Y),y.elementType=Ih,y.lanes=se,y;case W:return Ph(N,Y,se,S);default:if(typeof y=="object"&&y!==null)switch(y.$$typeof){case Ad:case Ha:Oe=10;break e;case $f:Oe=9;break e;case mu:Oe=11;break e;case gu:Oe=14;break e;case ye:Oe=16,$=null;break e}Oe=29,N=Error(r(130,y===null?"null":typeof y,"")),$=null}return S=t(Oe,N,S,Y),S.elementType=y,S.type=$,S.lanes=se,S}function Ws(y,S,N,$){return y=t(7,y,$,S),y.lanes=N,y}function Ph(y,S,N,$){y=t(22,y,$,S),y.elementType=W,y.lanes=N;var Y={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var se=Y._current;if(se===null)throw Error(r(456));if((Y._pendingVisibility&2)===0){var Oe=zt(se,2);Oe!==null&&(Y._pendingVisibility|=2,Uo(Oe,se,2))}},attach:function(){var se=Y._current;if(se===null)throw Error(r(456));if((Y._pendingVisibility&2)!==0){var Oe=zt(se,2);Oe!==null&&(Y._pendingVisibility&=-3,Uo(Oe,se,2))}}};return y.stateNode=Y,y}function Nh(y,S,N){return y=t(6,y,null,S),y.lanes=N,y}function Uf(y,S,N){return S=t(4,y.children!==null?y.children:[],y.key,S),S.lanes=N,S.stateNode={containerInfo:y.containerInfo,pendingChildren:null,implementation:y.implementation},S}function Xu(y,S,N,$,Y,se,Oe,Ze){this.tag=1,this.containerInfo=y,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=vr,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=R(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=R(0),this.hiddenUpdates=R(null),this.identifierPrefix=$,this.onUncaughtError=Y,this.onCaughtError=se,this.onRecoverableError=Oe,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=Ze,this.incompleteTransitions=new Map}function Jp(y,S,N,$,Y,se,Oe,Ze,gt,tn,In,Vn){return y=new Xu(y,S,N,Oe,Ze,gt,tn,Vn),S=1,se===!0&&(S|=24),se=t(3,null,null,S),y.current=se,se.stateNode=y,S=Kn(),S.refCount++,y.pooledCache=S,S.refCount++,se.memoizedState={element:$,isDehydrated:N,cache:S},Cn(se),y}function js(y){return y?(y=Uh,y):Uh}function wd(y){var S=y._reactInternals;if(S===void 0)throw typeof y.render=="function"?Error(r(188)):(y=Object.keys(y).join(","),Error(r(268,y)));return y=g(S),y=y!==null?_(y):null,y===null?null:bi(y.stateNode)}function fu(y,S,N,$,Y,se){Y=js(Y),$.context===null?$.context=Y:$.pendingContext=Y,$=Pt(S),$.payload={element:N},se=se===void 0?null:se,se!==null&&($.callback=se),N=on(y,$,S),N!==null&&(Uo(N,y,S),Pn(N,y,S))}function qu(y,S){if(y=y.memoizedState,y!==null&&y.dehydrated!==null){var N=y.retryLane;y.retryLane=N!==0&&N<S?N:S}}function Yu(y,S){qu(y,S),(y=y.alternate)&&qu(y,S)}var Zi={},xl=Sg(),po=R5(),kf=Object.assign,D0=Symbol.for("react.element"),Cd=Symbol.for("react.transitional.element"),Sl=Symbol.for("react.portal"),pu=Symbol.for("react.fragment"),Td=Symbol.for("react.strict_mode"),zf=Symbol.for("react.profiler"),Ad=Symbol.for("react.provider"),$f=Symbol.for("react.consumer"),Ha=Symbol.for("react.context"),mu=Symbol.for("react.forward_ref"),Hf=Symbol.for("react.suspense"),Ih=Symbol.for("react.suspense_list"),gu=Symbol.for("react.memo"),ye=Symbol.for("react.lazy"),W=Symbol.for("react.offscreen"),ae=Symbol.for("react.memo_cache_sentinel"),Me=Symbol.iterator,ut=Symbol.for("react.client.reference"),Qe=xl.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Dt,cn,Ln=!1,Xn=Array.isArray,Jn=e.rendererVersion,zn=e.rendererPackageName,ki=e.extraDevToolsConfig,bi=e.getPublicInstance,Hi=e.getRootHostContext,Ci=e.getChildHostContext,Fi=e.prepareForCommit,Xr=e.resetAfterCommit,Qr=e.createInstance,Qi=e.appendInitialChild,sr=e.finalizeInitialChildren,Bn=e.shouldSetTextContent,oi=e.createTextInstance,Pi=e.scheduleTimeout,Fr=e.cancelTimeout,vr=e.noTimeout,br=e.isPrimaryRenderer;e.warnsIfNotActing;var Br=e.supportsMutation,Xs=e.supportsPersistence,Ur=e.supportsHydration,rl=e.getInstanceFromNode;e.beforeActiveInstanceBlur,e.afterActiveInstanceBlur;var Nr=e.preparePortalMount;e.prepareScopeUpdate,e.getInstanceFromScope;var fr=e.setCurrentUpdatePriority,ko=e.getCurrentUpdatePriority,Hl=e.resolveUpdatePriority;e.resolveEventType,e.resolveEventTimeStamp;var Ku=e.shouldAttemptEagerTransition,zo=e.detachDeletedInstance;e.requestPostPaintCallback;var qr=e.maySuspendCommit,$o=e.preloadInstance,Ga=e.startSuspendingCommit,qs=e.suspendInstance,Bs=e.waitForCommitToBeReady,Hc=e.NotPendingTransition,El=e.HostTransitionContext,Zu=e.resetFormInstance;e.bindToConsole;var em=e.supportsMicrotasks,Gc=e.scheduleMicrotask,_c=e.supportsTestSelectors,tm=e.findFiberRoot,Gf=e.getBoundingRect,Mg=e.getTextContent,Qu=e.isHiddenSubtree,nm=e.matchAccessibilityRole,Og=e.setFocusIfFocusable,Lg=e.setupIntersectionObserver,vu=e.appendChild,Dh=e.appendChildToContainer,im=e.commitTextUpdate,Pg=e.commitMount,Vf=e.commitUpdate,rm=e.insertBefore,sm=e.insertInContainerBefore,Wf=e.removeChild,om=e.removeChildFromContainer,am=e.resetTextContent,Ng=e.hideInstance,jf=e.hideTextInstance,lm=e.unhideInstance,vw=e.unhideTextInstance,pb=e.clearContainer,Xf=e.cloneInstance,cm=e.createContainerChildSet,F0=e.appendChildToContainerChildSet,Ig=e.finalizeContainerChildren,qf=e.replaceContainerChildren,B0=e.cloneHiddenInstance,U0=e.cloneHiddenTextInstance,Dg=e.isSuspenseInstancePending,Fg=e.isSuspenseInstanceFallback,mb=e.getSuspenseInstanceFallbackErrorDetails,gb=e.registerSuspenseInstanceRetry,k0=e.canHydrateFormStateMarker,vb=e.isFormStateMarkerMatching,z0=e.getNextHydratableSibling,Bg=e.getFirstHydratableChild,yb=e.getFirstHydratableChildWithinContainer,_b=e.getFirstHydratableChildWithinSuspenseInstance,yw=e.canHydrateInstance,$0=e.canHydrateTextInstance,bb=e.canHydrateSuspenseInstance,xb=e.hydrateInstance,H0=e.hydrateTextInstance,Sb=e.hydrateSuspenseInstance,Eb=e.getNextHydratableInstanceAfterSuspenseInstance,_w=e.commitHydratedContainer,bw=e.commitHydratedSuspenseInstance,wb=e.clearSuspenseBoundary,um=e.clearSuspenseBoundaryFromContainer,Ug=e.shouldDeleteUnhydratedTailInstances;e.diffHydratedPropsForDevWarnings,e.diffHydratedTextForDevWarnings,e.describeHydratableInstanceForDevWarnings;var kg=e.validateHydratableInstance,Cb=e.validateHydratableTextInstance,Gl=e.supportsResources,hm=e.isHostHoistableType,zg=e.getHoistableRoot,G0=e.getResource,Tb=e.acquireResource,Rd=e.releaseResource,dm=e.hydrateHoistable,fm=e.mountHoistable,Yf=e.unmountHoistable,$g=e.createHoistableInstance,Ab=e.prepareToCommitHoistables,Rb=e.mayResourceSuspendCommit,Md=e.preloadResource,Mb=e.suspendResource,_s=e.supportsSingletons,Vc=e.resolveSingletonInstance,Fh=e.clearSingleton,Ob=e.acquireSingletonInstance,Bh=e.releaseSingletonInstance,yu=e.isHostSingletonType,Eo=[],Ju=-1,Uh={},sl=Math.clz32?Math.clz32:w,Lb=Math.log,Pb=Math.LN2,_u=128,Od=4194304,pm=po.unstable_scheduleCallback,Hg=po.unstable_cancelCallback,Nb=po.unstable_shouldYield,Gg=po.unstable_requestPaint,bc=po.unstable_now,Vg=po.unstable_ImmediatePriority,Ib=po.unstable_UserBlockingPriority,Wg=po.unstable_NormalPriority,xw=po.unstable_IdlePriority,Db=po.log,va=po.unstable_setDisableYieldValue,wo=null,wl=null,Cl=typeof Object.is=="function"?Object.is:ne,V0=new WeakMap,Ld=[],Pd=0,Nd=null,Kf=0,Vl=[],Wl=0,kh=null,Wc=1,jc="",Qo=v(null),Zf=v(null),bu=v(null),Id=v(null),La=null,Pa=null,Ir=!1,xc=null,ya=!1,mm=Error(r(519)),Sc=[],Dd=0,Xc=0,gm=null,eh=null,Fd=!1,Ts=!1,W0=!1,Qf=0,Jf=null,Bd=0,jl=0,Ud=null,th=!1,kd=!1,xu=Object.prototype.hasOwnProperty,ep=Error(r(460)),vm=Error(r(474)),ym={then:function(){}},zh=null,$h=null,Hh=0,Gh=rr(!0),Su=rr(!1),As=v(null),tp=v(0),Xl=v(null),bs=null,Jo=v(0),nh=0,cr=null,Li=null,kr=null,Ec=!1,zd=!1,Vh=!1,jg=0,$d=0,_a=null,qc=0,Xg=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}},mo={readContext:bn,use:je,useCallback:nr,useContext:nr,useEffect:nr,useImperativeHandle:nr,useLayoutEffect:nr,useInsertionEffect:nr,useMemo:nr,useReducer:nr,useRef:nr,useState:nr,useDebugValue:nr,useDeferredValue:nr,useTransition:nr,useSyncExternalStore:nr,useId:nr};mo.useCacheRefresh=nr,mo.useMemoCache=nr,mo.useHostTransitionStatus=nr,mo.useFormState=nr,mo.useActionState=nr,mo.useOptimistic=nr;var Wh={readContext:bn,use:je,useCallback:function(y,S){return fe().memoizedState=[y,S===void 0?null:S],y},useContext:bn,useEffect:Zs,useImperativeHandle:function(y,S,N){N=N!=null?N.concat([y]):null,ao(4194308,4,Qa.bind(null,S,y),N)},useLayoutEffect:function(y,S){return ao(4194308,4,y,S)},useInsertionEffect:function(y,S){ao(4,2,y,S)},useMemo:function(y,S){var N=fe();S=S===void 0?null:S;var $=y();if(Vh){te(!0);try{y()}finally{te(!1)}}return N.memoizedState=[$,S],$},useReducer:function(y,S,N){var $=fe();if(N!==void 0){var Y=N(S);if(Vh){te(!0);try{N(S)}finally{te(!1)}}}else Y=S;return $.memoizedState=$.baseState=Y,y={pending:null,lanes:0,dispatch:null,lastRenderedReducer:y,lastRenderedState:Y},$.queue=y,y=y.dispatch=el.bind(null,cr,y),[$.memoizedState,y]},useRef:function(y){var S=fe();return y={current:y},S.memoizedState=y},useState:function(y){y=En(y);var S=y.queue,N=tl.bind(null,cr,S);return S.dispatch=N,[y.memoizedState,N]},useDebugValue:lo,useDeferredValue:function(y,S){var N=fe();return Ca(N,y,S)},useTransition:function(){var y=En(!1);return y=ua.bind(null,cr,y.queue,!0,!1),fe().memoizedState=y,[!1,y]},useSyncExternalStore:function(y,S,N){var $=cr,Y=fe();if(Ir){if(N===void 0)throw Error(r(407));N=N()}else{if(N=S(),es===null)throw Error(r(349));(Cr&60)!==0||Rn($,S,N)}Y.memoizedState=N;var se={value:N,getSnapshot:S};return Y.queue=se,Zs(Un.bind(null,$,se,y),[y]),$.flags|=2048,gs(9,hn.bind(null,$,se,N,S),{destroy:void 0},null),N},useId:function(){var y=fe(),S=es.identifierPrefix;if(Ir){var N=jc,$=Wc;N=($&~(1<<32-sl($)-1)).toString(32)+N,S=":"+S+"R"+N,N=jg++,0<N&&(S+="H"+N.toString(32)),S+=":"}else N=qc++,S=":"+S+"r"+N.toString(32)+":";return y.memoizedState=S},useCacheRefresh:function(){return fe().memoizedState=Bl.bind(null,cr)}};Wh.useMemoCache=et,Wh.useHostTransitionStatus=Ja,Wh.useFormState=qn,Wh.useActionState=qn,Wh.useOptimistic=function(y){var S=fe();S.memoizedState=S.baseState=y;var N={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return S.queue=N,S=Fs.bind(null,cr,!0,N),N.dispatch=S,[y,S]};var ol={readContext:bn,use:je,useCallback:wa,useContext:bn,useEffect:jo,useImperativeHandle:Js,useInsertionEffect:Ua,useLayoutEffect:Qs,useMemo:ca,useReducer:Et,useRef:$s,useState:function(){return Et(ft)},useDebugValue:lo,useDeferredValue:function(y,S){var N=Be();return ka(N,Li.memoizedState,y,S)},useTransition:function(){var y=Et(ft)[0],S=Be().memoizedState;return[typeof y=="boolean"?y:Ve(y),S]},useSyncExternalStore:Nn,useId:No};ol.useCacheRefresh=ha,ol.useMemoCache=et,ol.useHostTransitionStatus=Ja,ol.useFormState=yi,ol.useActionState=yi,ol.useOptimistic=function(y,S){var N=Be();return ri(N,Li,y,S)};var ql={readContext:bn,use:je,useCallback:wa,useContext:bn,useEffect:jo,useImperativeHandle:Js,useInsertionEffect:Ua,useLayoutEffect:Qs,useMemo:ca,useReducer:Jt,useRef:$s,useState:function(){return Jt(ft)},useDebugValue:lo,useDeferredValue:function(y,S){var N=Be();return Li===null?Ca(N,y,S):ka(N,Li.memoizedState,y,S)},useTransition:function(){var y=Jt(ft)[0],S=Be().memoizedState;return[typeof y=="boolean"?y:Ve(y),S]},useSyncExternalStore:Nn,useId:No};ql.useCacheRefresh=ha,ql.useMemoCache=et,ql.useHostTransitionStatus=Ja,ql.useFormState=Ht,ql.useActionState=Ht,ql.useOptimistic=function(y,S){var N=Be();return Li!==null?ri(N,Li,y,S):(N.baseState=y,[y,N.queue.dispatch])};var Eu={isMounted:function(y){return(y=y._reactInternals)?d(y)===y:!1},enqueueSetState:function(y,S,N){y=y._reactInternals;var $=io(),Y=Pt($);Y.payload=S,N!=null&&(Y.callback=N),S=on(y,Y,$),S!==null&&(Uo(S,y,$),Pn(S,y,$))},enqueueReplaceState:function(y,S,N){y=y._reactInternals;var $=io(),Y=Pt($);Y.tag=1,Y.payload=S,N!=null&&(Y.callback=N),S=on(y,Y,$),S!==null&&(Uo(S,y,$),Pn(S,y,$))},enqueueForceUpdate:function(y,S){y=y._reactInternals;var N=io(),$=Pt(N);$.tag=2,S!=null&&($.callback=S),S=on(y,$,N),S!==null&&(Uo(S,y,N),Pn(S,y,N))}},qg=typeof reportError=="function"?reportError:function(y){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var S=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof y=="object"&&y!==null&&typeof y.message=="string"?String(y.message):String(y),error:y});if(!window.dispatchEvent(S))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",y);return}console.error(y)},Yg=Error(r(461)),xs=!1,Kg={dehydrated:null,treeContext:null,retryLane:0},ih=v(null),Yc=null,Yl=null,np=typeof AbortController<"u"?AbortController:function(){var y=[],S=this.signal={aborted:!1,addEventListener:function(N,$){y.push($)}};this.abort=function(){S.aborted=!0,y.forEach(function(N){return N()})}},Fb=po.unstable_scheduleCallback,Bb=po.unstable_NormalPriority,Rs={$$typeof:Ha,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0},j0=Qe.S;Qe.S=function(y,S){typeof S=="object"&&S!==null&&typeof S.then=="function"&&ht(y,S),j0!==null&&j0(y,S)};var wu=v(null),Cu=!1,go=!1,X0=!1,Jr=typeof WeakSet=="function"?WeakSet:Set,er=null,yr=!1,Ti=null,or=!1,ro=null,Kl=8192,ip={getCacheForType:function(y){var S=bn(Rs),N=S.data.get(y);return N===void 0&&(N=y(),S.data.set(y,N)),N}},rp=0,wc=1,Us=2,Kc=3,Tu=4;if(typeof Symbol=="function"&&Symbol.for){var Hd=Symbol.for;rp=Hd("selector.component"),wc=Hd("selector.has_pseudo_class"),Us=Hd("selector.role"),Kc=Hd("selector.test_id"),Tu=Hd("selector.text")}var Cc=typeof WeakMap=="function"?WeakMap:Map,zr=0,es=null,Ni=null,Cr=0,ds=0,Va=null,Tc=!1,Zl=!1,ea=!1,Wa=0,Ss=0,Ql=0,rh=0,_m=0,Jl=0,Au=0,Gd=null,vo=null,Zg=!1,al=0,sp=1/0,bm=null,jh=null,Zc=!1,Ru=null,Vd=0,Xh=0,Qg=null,op=0,Jg=null;return Zi.attemptContinuousHydration=function(y){if(y.tag===13){var S=zt(y,67108864);S!==null&&Uo(S,y,67108864),Yu(y,67108864)}},Zi.attemptHydrationAtCurrentPriority=function(y){if(y.tag===13){var S=io(),N=zt(y,S);N!==null&&Uo(N,y,S),Yu(y,S)}},Zi.attemptSynchronousHydration=function(y){switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var S=T(y.pendingLanes);if(S!==0){for(y.pendingLanes|=2,y.entangledLanes|=2;S;){var N=1<<31-sl(S);y.entanglements[1]|=N,S&=~N}nt(y),(zr&6)===0&&(sp=bc()+500,Nt(0))}}break;case 13:S=zt(y,2),S!==null&&Uo(S,y,2),Oh(),Yu(y,2)}},Zi.batchedUpdates=function(y,S){return y(S)},Zi.createComponentSelector=function(y){return{$$typeof:rp,value:y}},Zi.createContainer=function(y,S,N,$,Y,se,Oe,Ze,gt,tn){return Jp(y,S,!1,null,N,$,se,Oe,Ze,gt,tn,null)},Zi.createHasPseudoClassSelector=function(y){return{$$typeof:wc,value:y}},Zi.createHydrationContainer=function(y,S,N,$,Y,se,Oe,Ze,gt,tn,In,Vn,Zn){return y=Jp(N,$,!0,y,Y,se,Ze,gt,tn,In,Vn,Zn),y.context=js(null),N=y.current,$=io(),Y=Pt($),Y.callback=S??null,on(N,Y,$),y.current.lanes=$,D(y,$),nt(y),y},Zi.createPortal=function(y,S,N){var $=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Sl,key:$==null?null:""+$,children:y,containerInfo:S,implementation:N}},Zi.createRoleSelector=function(y){return{$$typeof:Us,value:y}},Zi.createTestNameSelector=function(y){return{$$typeof:Kc,value:y}},Zi.createTextSelector=function(y){return{$$typeof:Tu,value:y}},Zi.defaultOnCaughtError=function(y){console.error(y)},Zi.defaultOnRecoverableError=function(y){qg(y)},Zi.defaultOnUncaughtError=function(y){qg(y)},Zi.deferredUpdates=function(y){var S=Qe.T,N=ko();try{return fr(32),Qe.T=null,y()}finally{fr(N),Qe.T=S}},Zi.discreteUpdates=function(y,S,N,$,Y){var se=Qe.T,Oe=ko();try{return fr(2),Qe.T=null,y(S,N,$,Y)}finally{fr(Oe),Qe.T=se,zr===0&&(sp=bc()+500)}},Zi.findAllNodes=xd,Zi.findBoundingRects=function(y,S){if(!_c)throw Error(r(363));S=xd(y,S),y=[];for(var N=0;N<S.length;N++)y.push(Gf(S[N]));for(S=y.length-1;0<S;S--){N=y[S];for(var $=N.x,Y=$+N.width,se=N.y,Oe=se+N.height,Ze=S-1;0<=Ze;Ze--)if(S!==Ze){var gt=y[Ze],tn=gt.x,In=tn+gt.width,Vn=gt.y,Zn=Vn+gt.height;if($>=tn&&se>=Vn&&Y<=In&&Oe<=Zn){y.splice(S,1);break}else if($!==tn||N.width!==gt.width||Zn<se||Vn>Oe){if(!(se!==Vn||N.height!==gt.height||In<$||tn>Y)){tn>$&&(gt.width+=tn-$,gt.x=$),In<Y&&(gt.width=Y-tn),y.splice(S,1);break}}else{Vn>se&&(gt.height+=Vn-se,gt.y=se),Zn<Oe&&(gt.height=Oe-Vn),y.splice(S,1);break}}}return y},Zi.findHostInstance=wd,Zi.findHostInstanceWithNoPortals=function(y){return y=g(y),y=y!==null?p(y):null,y===null?null:bi(y.stateNode)},Zi.findHostInstanceWithWarning=function(y){return wd(y)},Zi.flushPassiveEffects=kl,Zi.flushSyncFromReconciler=function(y){var S=zr;zr|=1;var N=Qe.T,$=ko();try{if(fr(2),Qe.T=null,y)return y()}finally{fr($),Qe.T=N,zr=S,(zr&6)===0&&Nt(0)}},Zi.flushSyncWork=Oh,Zi.focusWithin=function(y,S){if(!_c)throw Error(r(363));for(y=Vu(y),S=za(y,S),S=Array.from(S),y=0;y<S.length;){var N=S[y++],$=N.tag;if(!Qu(N)){if(($===5||$===26||$===27)&&Og(N.stateNode))return!0;for(N=N.child;N!==null;)S.push(N),N=N.sibling}}return!1},Zi.getFindAllNodesFailureDescription=function(y,S){if(!_c)throw Error(r(363));var N=0,$=[];y=[Vu(y),0];for(var Y=0;Y<y.length;){var se=y[Y++],Oe=se.tag,Ze=y[Y++],gt=S[Ze];if((Oe!==5&&Oe!==26&&Oe!==27||!Qu(se))&&(lu(se,gt)&&($.push(qp(gt)),Ze++,Ze>N&&(N=Ze)),Ze<S.length))for(se=se.child;se!==null;)y.push(se,Ze),se=se.sibling}if(N<S.length){for(y=[];N<S.length;N++)y.push(qp(S[N]));return`findAllNodes was able to match part of the selector:
  `+($.join(" > ")+`

No matching component was found for:
  `)+y.join(" > ")}return null},Zi.getPublicRootInstance=function(y){if(y=y.current,!y.child)return null;switch(y.child.tag){case 27:case 5:return bi(y.child.stateNode);default:return y.child.stateNode}},Zi.injectIntoDevTools=function(){var y={bundleType:0,version:Jn,rendererPackageName:zn,currentDispatcherRef:Qe,findFiberByHostInstance:rl,reconcilerVersion:"19.0.0"};if(ki!==null&&(y.rendererConfig=ki),typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")y=!1;else{var S=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(S.isDisabled||!S.supportsFiber)y=!0;else{try{wo=S.inject(y),wl=S}catch{}y=!!S.checkDCE}}return y},Zi.isAlreadyRendering=function(){return!1},Zi.observeVisibleRects=function(y,S,N,$){if(!_c)throw Error(r(363));y=xd(y,S);var Y=Lg(y,N,$).disconnect;return{disconnect:function(){Y()}}},Zi.shouldError=function(){return null},Zi.shouldSuspend=function(){return!1},Zi.startHostTransition=function(y,S,N,$){if(y.tag!==5)throw Error(r(476));var Y=Po(y).queue;ua(y,Y,S,Hc,N===null?i:function(){var se=Po(y).next.queue;return Io(y,se,{},io()),N($)})},Zi.updateContainer=function(y,S,N,$){var Y=S.current,se=io();return fu(Y,se,y,S,N,$),se},Zi.updateContainerSync=function(y,S,N,$){return S.tag===0&&kl(),fu(S.current,2,y,S,N,$),2},Zi},n.exports.default=n.exports,Object.defineProperty(n.exports,"__esModule",{value:!0})})(tA)),tA.exports}var fD;function Dve(){return fD||(fD=1,eA.exports=Ive()),eA.exports}var Fve=Dve();const Bve=zu(Fve);var pD=R5();function S2(n,e,t){if(!n)return;if(t(n)===!0)return n;let i=e?n.return:n.child;for(;i;){const r=S2(i,e,t);if(r)return r;i=e?null:i.sibling}}function M5(n){try{return Object.defineProperties(n,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return n}}const E2=M5(Q.createContext(null));class O5 extends Q.Component{render(){return Q.createElement(E2.Provider,{value:this._reactInternals},this.props.children)}}function L5(){const n=Q.useContext(E2);if(n===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const e=Q.useId();return Q.useMemo(()=>{for(const t of[n,n?.alternate]){if(!t)continue;const i=S2(t,!1,r=>{let s=r.memoizedState;for(;s;){if(s.memoizedState===e)return!0;s=s.next}});if(i)return i}},[n,e])}const Uve=Symbol.for("react.context"),kve=n=>n!==null&&typeof n=="object"&&"$$typeof"in n&&n.$$typeof===Uve;function zve(){const n=L5(),[e]=Q.useState(()=>new Map);e.clear();let t=n;for(;t;){const i=t.type;kve(i)&&i!==E2&&!e.has(i)&&e.set(i,Q.use(M5(i))),t=t.return}return e}function $ve(){const n=zve();return Q.useMemo(()=>Array.from(n.keys()).reduce((e,t)=>i=>Q.createElement(e,null,Q.createElement(t.Provider,{...i,value:n.get(t)})),e=>Q.createElement(O5,{...e})),[n])}function P5(n){let e=n.root;for(;e.getState().previousRoot;)e=e.getState().previousRoot;return e}const N5=n=>n&&n.isOrthographicCamera,Hve=n=>n&&n.hasOwnProperty("current"),Gve=n=>n!=null&&(typeof n=="string"||typeof n=="number"||n.isColor),hb=((n,e)=>typeof window<"u"&&(((n=window.document)==null?void 0:n.createElement)||((e=window.navigator)==null?void 0:e.product)==="ReactNative"))()?Q.useLayoutEffect:Q.useEffect;function w2(n){const e=Q.useRef(n);return hb(()=>void(e.current=n),[n]),e}function Vve(){const n=L5(),e=$ve();return Q.useMemo(()=>({children:t})=>{const r=!!S2(n,!0,s=>s.type===Q.StrictMode)?Q.StrictMode:Q.Fragment;return Le.jsx(r,{children:Le.jsx(e,{children:t})})},[n,e])}function Wve({set:n}){return hb(()=>(n(new Promise(()=>null)),()=>n(!1)),[n]),null}const jve=(n=>(n=class extends Q.Component{constructor(...t){super(...t),this.state={error:!1}}componentDidCatch(t){this.props.set(t)}render(){return this.state.error?null:this.props.children}},n.getDerivedStateFromError=()=>({error:!0}),n))();function I5(n){var e;const t=typeof window<"u"?(e=window.devicePixelRatio)!=null?e:2:1;return Array.isArray(n)?Math.min(Math.max(n[0],t),n[1]):n}function Dv(n){var e;return(e=n.__r3f)==null?void 0:e.root.getState()}const _o={obj:n=>n===Object(n)&&!_o.arr(n)&&typeof n!="function",fun:n=>typeof n=="function",str:n=>typeof n=="string",num:n=>typeof n=="number",boo:n=>typeof n=="boolean",und:n=>n===void 0,nul:n=>n===null,arr:n=>Array.isArray(n),equ(n,e,{arrays:t="shallow",objects:i="reference",strict:r=!0}={}){if(typeof n!=typeof e||!!n!=!!e)return!1;if(_o.str(n)||_o.num(n)||_o.boo(n))return n===e;const s=_o.obj(n);if(s&&i==="reference")return n===e;const o=_o.arr(n);if(o&&t==="reference")return n===e;if((o||s)&&n===e)return!0;let l;for(l in n)if(!(l in e))return!1;if(s&&t==="shallow"&&i==="shallow"){for(l in r?e:n)if(!_o.equ(n[l],e[l],{strict:r,objects:"reference"}))return!1}else for(l in r?e:n)if(n[l]!==e[l])return!1;if(_o.und(l)){if(o&&n.length===0&&e.length===0||s&&Object.keys(n).length===0&&Object.keys(e).length===0)return!0;if(n!==e)return!1}return!0}};function Xve(n){const e={nodes:{},materials:{},meshes:{}};return n&&n.traverse(t=>{t.name&&(e.nodes[t.name]=t),t.material&&!e.materials[t.material.name]&&(e.materials[t.material.name]=t.material),t.isMesh&&!e.meshes[t.name]&&(e.meshes[t.name]=t)}),e}function qve(n){n.type!=="Scene"&&(n.dispose==null||n.dispose());for(const e in n){const t=n[e];t?.type!=="Scene"&&(t==null||t.dispose==null||t.dispose())}}const D5=["children","key","ref"];function Yve(n){const e={};for(const t in n)D5.includes(t)||(e[t]=n[t]);return e}function oE(n,e,t,i){const r=n;let s=r?.__r3f;return s||(s={root:e,type:t,parent:null,children:[],props:Yve(i),object:r,eventCount:0,handlers:{},isHidden:!1},r&&(r.__r3f=s)),s}function I_(n,e){let t=n[e];if(!e.includes("-"))return{root:n,key:e,target:t};t=n;for(const r of e.split("-")){var i;e=r,n=t,t=(i=t)==null?void 0:i[e]}return{root:n,key:e,target:t}}const mD=/-\d+$/;function aE(n,e){if(_o.str(e.props.attach)){if(mD.test(e.props.attach)){const r=e.props.attach.replace(mD,""),{root:s,key:o}=I_(n.object,r);Array.isArray(s[o])||(s[o]=[])}const{root:t,key:i}=I_(n.object,e.props.attach);e.previousAttach=t[i],t[i]=e.object}else _o.fun(e.props.attach)&&(e.previousAttach=e.props.attach(n.object,e.object))}function lE(n,e){if(_o.str(e.props.attach)){const{root:t,key:i}=I_(n.object,e.props.attach),r=e.previousAttach;r===void 0?delete t[i]:t[i]=r}else e.previousAttach==null||e.previousAttach(n.object,e.object);delete e.previousAttach}const FR=[...D5,"args","dispose","attach","object","onUpdate","dispose"],gD=new Map;function Kve(n){let e=gD.get(n.constructor);try{e||(e=new n.constructor,gD.set(n.constructor,e))}catch{}return e}function Zve(n,e){const t={};for(const i in e)if(!FR.includes(i)&&!_o.equ(e[i],n.props[i])){t[i]=e[i];for(const r in e)r.startsWith(`${i}-`)&&(t[r]=e[r])}for(const i in n.props){if(FR.includes(i)||e.hasOwnProperty(i))continue;const{root:r,key:s}=I_(n.object,i);if(r.constructor&&r.constructor.length===0){const o=Kve(r);_o.und(o)||(t[s]=o[s])}else t[s]=0}return t}const Qve=["map","emissiveMap","sheenColorMap","specularColorMap","envMap"],Jve=/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/;function nd(n,e){var t;const i=n.__r3f,r=i&&P5(i).getState(),s=i?.eventCount;for(const l in e){let a=e[l];if(FR.includes(l))continue;if(i&&Jve.test(l)){typeof a=="function"?i.handlers[l]=a:delete i.handlers[l],i.eventCount=Object.keys(i.handlers).length;continue}if(a===void 0)continue;let{root:u,key:m,target:d}=I_(n,l);if(d instanceof g0&&a instanceof g0)d.mask=a.mask;else if(d instanceof jn&&Gve(a))d.set(a);else if(d!==null&&typeof d=="object"&&typeof d.set=="function"&&typeof d.copy=="function"&&a!=null&&a.constructor&&d.constructor===a.constructor)d.copy(a);else if(d!==null&&typeof d=="object"&&typeof d.set=="function"&&Array.isArray(a))typeof d.fromArray=="function"?d.fromArray(a):d.set(...a);else if(d!==null&&typeof d=="object"&&typeof d.set=="function"&&typeof a=="number")typeof d.setScalar=="function"?d.setScalar(a):d.set(a);else{var o;u[m]=a,r&&!r.linear&&Qve.includes(m)&&(o=u[m])!=null&&o.isTexture&&u[m].format===oa&&u[m].type===fc&&(u[m].colorSpace=Na)}}if(i!=null&&i.parent&&r!=null&&r.internal&&(t=i.object)!=null&&t.isObject3D&&s!==i.eventCount){const l=i.object,a=r.internal.interaction.indexOf(l);a>-1&&r.internal.interaction.splice(a,1),i.eventCount&&l.raycast!==null&&r.internal.interaction.push(l)}return i&&i.props.attach===void 0&&(i.object.isBufferGeometry?i.props.attach="geometry":i.object.isMaterial&&(i.props.attach="material")),i&&I0(i),n}function I0(n){var e;if(!n.parent)return;n.props.onUpdate==null||n.props.onUpdate(n.object);const t=(e=n.root)==null||e.getState==null?void 0:e.getState();t&&t.internal.frames===0&&t.invalidate()}function F5(n,e){n.manual||(N5(n)?(n.left=e.width/-2,n.right=e.width/2,n.top=e.height/2,n.bottom=e.height/-2):n.aspect=e.width/e.height,n.updateProjectionMatrix())}const ac=n=>n?.isObject3D;function _1(n){return(n.eventObject||n.object).uuid+"/"+n.index+n.instanceId}function B5(n,e,t,i){const r=t.get(e);r&&(t.delete(e),t.size===0&&(n.delete(i),r.target.releasePointerCapture(i)))}function e0e(n,e){const{internal:t}=n.getState();t.interaction=t.interaction.filter(i=>i!==e),t.initialHits=t.initialHits.filter(i=>i!==e),t.hovered.forEach((i,r)=>{(i.eventObject===e||i.object===e)&&t.hovered.delete(r)}),t.capturedMap.forEach((i,r)=>{B5(t.capturedMap,e,i,r)})}function t0e(n){function e(a){const{internal:u}=n.getState(),m=a.offsetX-u.initialClick[0],d=a.offsetY-u.initialClick[1];return Math.round(Math.sqrt(m*m+d*d))}function t(a){return a.filter(u=>["Move","Over","Enter","Out","Leave"].some(m=>{var d;return(d=u.__r3f)==null?void 0:d.handlers["onPointer"+m]}))}function i(a,u){const m=n.getState(),d=new Set,b=[],g=u?u(m.internal.interaction):m.internal.interaction;for(let c=0;c<g.length;c++){const x=Dv(g[c]);x&&(x.raycaster.camera=void 0)}m.previousRoot||m.events.compute==null||m.events.compute(a,m);function _(c){const x=Dv(c);if(!x||!x.events.enabled||x.raycaster.camera===null)return[];if(x.raycaster.camera===void 0){var w;x.events.compute==null||x.events.compute(a,x,(w=x.previousRoot)==null?void 0:w.getState()),x.raycaster.camera===void 0&&(x.raycaster.camera=null)}return x.raycaster.camera?x.raycaster.intersectObject(c,!0):[]}let p=g.flatMap(_).sort((c,x)=>{const w=Dv(c.object),T=Dv(x.object);return!w||!T?c.distance-x.distance:T.events.priority-w.events.priority||c.distance-x.distance}).filter(c=>{const x=_1(c);return d.has(x)?!1:(d.add(x),!0)});m.events.filter&&(p=m.events.filter(p,m));for(const c of p){let x=c.object;for(;x;){var v;(v=x.__r3f)!=null&&v.eventCount&&b.push({...c,eventObject:x}),x=x.parent}}if("pointerId"in a&&m.internal.capturedMap.has(a.pointerId))for(let c of m.internal.capturedMap.get(a.pointerId).values())d.has(_1(c.intersection))||b.push(c.intersection);return b}function r(a,u,m,d){if(a.length){const b={stopped:!1};for(const g of a){let _=Dv(g.object);if(_||g.object.traverseAncestors(p=>{const v=Dv(p);if(v)return _=v,!1}),_){const{raycaster:p,pointer:v,camera:c,internal:x}=_,w=new De(v.x,v.y,0).unproject(c),T=F=>{var R,D;return(R=(D=x.capturedMap.get(F))==null?void 0:D.has(g.eventObject))!=null?R:!1},L=F=>{const R={intersection:g,target:u.target};x.capturedMap.has(F)?x.capturedMap.get(F).set(g.eventObject,R):x.capturedMap.set(F,new Map([[g.eventObject,R]])),u.target.setPointerCapture(F)},P=F=>{const R=x.capturedMap.get(F);R&&B5(x.capturedMap,g.eventObject,R,F)};let C={};for(let F in u){let R=u[F];typeof R!="function"&&(C[F]=R)}let I={...g,...C,pointer:v,intersections:a,stopped:b.stopped,delta:m,unprojectedPoint:w,ray:p.ray,camera:c,stopPropagation(){const F="pointerId"in u&&x.capturedMap.get(u.pointerId);if((!F||F.has(g.eventObject))&&(I.stopped=b.stopped=!0,x.hovered.size&&Array.from(x.hovered.values()).find(R=>R.eventObject===g.eventObject))){const R=a.slice(0,a.indexOf(g));s([...R,g])}},target:{hasPointerCapture:T,setPointerCapture:L,releasePointerCapture:P},currentTarget:{hasPointerCapture:T,setPointerCapture:L,releasePointerCapture:P},nativeEvent:u};if(d(I),b.stopped===!0)break}}}return a}function s(a){const{internal:u}=n.getState();for(const m of u.hovered.values())if(!a.length||!a.find(d=>d.object===m.object&&d.index===m.index&&d.instanceId===m.instanceId)){const b=m.eventObject.__r3f;if(u.hovered.delete(_1(m)),b!=null&&b.eventCount){const g=b.handlers,_={...m,intersections:a};g.onPointerOut==null||g.onPointerOut(_),g.onPointerLeave==null||g.onPointerLeave(_)}}}function o(a,u){for(let m=0;m<u.length;m++){const d=u[m].__r3f;d==null||d.handlers.onPointerMissed==null||d.handlers.onPointerMissed(a)}}function l(a){switch(a){case"onPointerLeave":case"onPointerCancel":return()=>s([]);case"onLostPointerCapture":return u=>{const{internal:m}=n.getState();"pointerId"in u&&m.capturedMap.has(u.pointerId)&&requestAnimationFrame(()=>{m.capturedMap.has(u.pointerId)&&(m.capturedMap.delete(u.pointerId),s([]))})}}return function(m){const{onPointerMissed:d,internal:b}=n.getState();b.lastEvent.current=m;const g=a==="onPointerMove",_=a==="onClick"||a==="onContextMenu"||a==="onDoubleClick",v=i(m,g?t:void 0),c=_?e(m):0;a==="onPointerDown"&&(b.initialClick=[m.offsetX,m.offsetY],b.initialHits=v.map(w=>w.eventObject)),_&&!v.length&&c<=2&&(o(m,b.interaction),d&&d(m)),g&&s(v);function x(w){const T=w.eventObject,L=T.__r3f;if(!(L!=null&&L.eventCount))return;const P=L.handlers;if(g){if(P.onPointerOver||P.onPointerEnter||P.onPointerOut||P.onPointerLeave){const C=_1(w),I=b.hovered.get(C);I?I.stopped&&w.stopPropagation():(b.hovered.set(C,w),P.onPointerOver==null||P.onPointerOver(w),P.onPointerEnter==null||P.onPointerEnter(w))}P.onPointerMove==null||P.onPointerMove(w)}else{const C=P[a];C?(!_||b.initialHits.includes(T))&&(o(m,b.interaction.filter(I=>!b.initialHits.includes(I))),C(w)):_&&b.initialHits.includes(T)&&o(m,b.interaction.filter(I=>!b.initialHits.includes(I)))}}r(v,m,c,x)}}return{handlePointer:l}}const vD=n=>!!(n!=null&&n.render),C2=Q.createContext(null),n0e=(n,e)=>{const t=C5((l,a)=>{const u=new De,m=new De,d=new De;function b(c=a().camera,x=m,w=a().size){const{width:T,height:L,top:P,left:C}=w,I=T/L;x.isVector3?d.copy(x):d.set(...x);const F=c.getWorldPosition(u).distanceTo(d);if(N5(c))return{width:T/c.zoom,height:L/c.zoom,top:P,left:C,factor:1,distance:F,aspect:I};{const R=c.fov*Math.PI/180,D=2*Math.tan(R/2)*F,G=D*(T/L);return{width:G,height:D,top:P,left:C,factor:T/G,distance:F,aspect:I}}}let g;const _=c=>l(x=>({performance:{...x.performance,current:c}})),p=new rn;return{set:l,get:a,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},scene:null,xr:null,invalidate:(c=1)=>n(a(),c),advance:(c,x)=>e(c,x,a()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new p2,pointer:p,mouse:p,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const c=a();g&&clearTimeout(g),c.performance.current!==c.performance.min&&_(c.performance.min),g=setTimeout(()=>_(a().performance.max),c.performance.debounce)}},size:{width:0,height:0,top:0,left:0},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:b},setEvents:c=>l(x=>({...x,events:{...x.events,...c}})),setSize:(c,x,w=0,T=0)=>{const L=a().camera,P={width:c,height:x,top:w,left:T};l(C=>({size:P,viewport:{...C.viewport,...b(L,m,P)}}))},setDpr:c=>l(x=>{const w=I5(c);return{viewport:{...x.viewport,dpr:w,initialDpr:x.viewport.initialDpr||w}}}),setFrameloop:(c="always")=>{const x=a().clock;x.stop(),x.elapsedTime=0,c!=="never"&&(x.start(),x.elapsedTime=0),l(()=>({frameloop:c}))},previousRoot:void 0,internal:{interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,lastEvent:Q.createRef(),active:!1,frames:0,priority:0,subscribe:(c,x,w)=>{const T=a().internal;return T.priority=T.priority+(x>0?1:0),T.subscribers.push({ref:c,priority:x,store:w}),T.subscribers=T.subscribers.sort((L,P)=>L.priority-P.priority),()=>{const L=a().internal;L!=null&&L.subscribers&&(L.priority=L.priority-(x>0?1:0),L.subscribers=L.subscribers.filter(P=>P.ref!==c))}}}}}),i=t.getState();let r=i.size,s=i.viewport.dpr,o=i.camera;return t.subscribe(()=>{const{camera:l,size:a,viewport:u,gl:m,set:d}=t.getState();if(a.width!==r.width||a.height!==r.height||u.dpr!==s){r=a,s=u.dpr,F5(l,a),u.dpr>0&&m.setPixelRatio(u.dpr);const b=typeof HTMLCanvasElement<"u"&&m.domElement instanceof HTMLCanvasElement;m.setSize(a.width,a.height,b)}l!==o&&(o=l,d(b=>({viewport:{...b.viewport,...b.viewport.getCurrentViewport(l)}})))}),t.subscribe(l=>n(l)),t};function T2(){const n=Q.useContext(C2);if(!n)throw new Error("R3F: Hooks can only be used within the Canvas component!");return n}function Vo(n=t=>t,e){return T2()(n,e)}function db(n,e=0){const t=T2(),i=t.getState().internal.subscribe,r=w2(n);return hb(()=>i(r,e,t),[e,i,t]),null}const yD=new WeakMap,i0e=n=>{var e;return typeof n=="function"&&(n==null||(e=n.prototype)==null?void 0:e.constructor)===n};function U5(n,e){return function(t,...i){let r;return i0e(t)?(r=yD.get(t),r||(r=new t,yD.set(t,r))):r=t,n&&n(r),Promise.all(i.map(s=>new Promise((o,l)=>r.load(s,a=>{ac(a?.scene)&&Object.assign(a,Xve(a.scene)),o(a)},e,a=>l(new Error(`Could not load ${s}: ${a?.message}`))))))}}function Cf(n,e,t,i){const r=Array.isArray(e)?e:[e],s=Ove(U5(t,i),[n,...r],{equal:_o.equ});return Array.isArray(e)?s:s[0]}Cf.preload=function(n,e,t){const i=Array.isArray(e)?e:[e];return Lve(U5(t),[n,...i])};Cf.clear=function(n,e){const t=Array.isArray(e)?e:[e];return Pve([n,...t])};function r0e(n){const e=Bve(n);return e.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:Q.version}),e}const k5=0,b0={},s0e=/^three(?=[A-Z])/,mw=n=>`${n[0].toUpperCase()}${n.slice(1)}`;let o0e=0;const a0e=n=>typeof n=="function";function z5(n){if(a0e(n)){const e=`${o0e++}`;return b0[e]=n,e}else Object.assign(b0,n)}function $5(n,e){const t=mw(n),i=b0[t];if(n!=="primitive"&&!i)throw new Error(`R3F: ${t} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(n==="primitive"&&!e.object)throw new Error("R3F: Primitives without 'object' are invalid!");if(e.args!==void 0&&!Array.isArray(e.args))throw new Error("R3F: The args prop must be an array!")}function l0e(n,e,t){var i;return n=mw(n)in b0?n:n.replace(s0e,""),$5(n,e),n==="primitive"&&(i=e.object)!=null&&i.__r3f&&delete e.object.__r3f,oE(e.object,t,n,e)}function c0e(n){if(!n.isHidden){var e;n.props.attach&&(e=n.parent)!=null&&e.object?lE(n.parent,n):ac(n.object)&&(n.object.visible=!1),n.isHidden=!0,I0(n)}}function H5(n){if(n.isHidden){var e;n.props.attach&&(e=n.parent)!=null&&e.object?aE(n.parent,n):ac(n.object)&&n.props.visible!==!1&&(n.object.visible=!0),n.isHidden=!1,I0(n)}}function A2(n,e,t){const i=e.root.getState();if(!(!n.parent&&n.object!==i.scene)){if(!e.object){var r,s;const o=b0[mw(e.type)];e.object=(r=e.props.object)!=null?r:new o(...(s=e.props.args)!=null?s:[]),e.object.__r3f=e}if(nd(e.object,e.props),e.props.attach)aE(n,e);else if(ac(e.object)&&ac(n.object)){const o=n.object.children.indexOf(t?.object);if(t&&o!==-1){const l=n.object.children.indexOf(e.object);if(l!==-1){n.object.children.splice(l,1);const a=l<o?o-1:o;n.object.children.splice(a,0,e.object)}else e.object.parent=n.object,n.object.children.splice(o,0,e.object),e.object.dispatchEvent({type:"added"}),n.object.dispatchEvent({type:"childadded",child:e.object})}else n.object.add(e.object)}for(const o of e.children)A2(e,o);I0(e)}}function rA(n,e){e&&(e.parent=n,n.children.push(e),A2(n,e))}function _D(n,e,t){if(!e||!t)return;e.parent=n;const i=n.children.indexOf(t);i!==-1?n.children.splice(i,0,e):n.children.push(e),A2(n,e,t)}function G5(n){if(typeof n.dispose=="function"){const e=()=>{try{n.dispose()}catch{}};typeof IS_REACT_ACT_ENVIRONMENT<"u"?e():pD.unstable_scheduleCallback(pD.unstable_IdlePriority,e)}}function BR(n,e,t){if(!e)return;e.parent=null;const i=n.children.indexOf(e);i!==-1&&n.children.splice(i,1),e.props.attach?lE(n,e):ac(e.object)&&ac(n.object)&&(n.object.remove(e.object),e0e(P5(e),e.object));const r=e.props.dispose!==null&&t!==!1;for(let s=e.children.length-1;s>=0;s--){const o=e.children[s];BR(e,o,r)}e.children.length=0,delete e.object.__r3f,r&&e.type!=="primitive"&&e.object.type!=="Scene"&&G5(e.object),t===void 0&&I0(e)}function u0e(n,e){for(const t of[n,n.alternate])if(t!==null)if(typeof t.ref=="function"){t.refCleanup==null||t.refCleanup();const i=t.ref(e);typeof i=="function"&&(t.refCleanup=i)}else t.ref&&(t.ref.current=e)}const U1=[];function h0e(){for(const[t]of U1){const i=t.parent;if(i){t.props.attach?lE(i,t):ac(t.object)&&ac(i.object)&&i.object.remove(t.object);for(const r of t.children)r.props.attach?lE(t,r):ac(r.object)&&ac(t.object)&&t.object.remove(r.object)}t.isHidden&&H5(t),t.object.__r3f&&delete t.object.__r3f,t.type!=="primitive"&&G5(t.object)}for(const[t,i,r]of U1){t.props=i;const s=t.parent;if(s){var n,e;const o=b0[mw(t.type)];t.object=(n=t.props.object)!=null?n:new o(...(e=t.props.args)!=null?e:[]),t.object.__r3f=t,u0e(r,t.object),nd(t.object,t.props),t.props.attach?aE(s,t):ac(t.object)&&ac(s.object)&&s.object.add(t.object);for(const l of t.children)l.props.attach?aE(t,l):ac(l.object)&&ac(t.object)&&t.object.add(l.object);I0(t)}}U1.length=0}const sA=()=>{},bD={};let b1=k5;const d0e=0,f0e=4,cE=r0e({isPrimaryRenderer:!1,warnsIfNotActing:!1,supportsMutation:!0,supportsPersistence:!1,supportsHydration:!1,createInstance:l0e,removeChild:BR,appendChild:rA,appendInitialChild:rA,insertBefore:_D,appendChildToContainer(n,e){const t=n.getState().scene.__r3f;!e||!t||rA(t,e)},removeChildFromContainer(n,e){const t=n.getState().scene.__r3f;!e||!t||BR(t,e)},insertInContainerBefore(n,e,t){const i=n.getState().scene.__r3f;!e||!t||!i||_D(i,e,t)},getRootHostContext:()=>bD,getChildHostContext:()=>bD,commitUpdate(n,e,t,i,r){var s,o,l;$5(e,i);let a=!1;if((n.type==="primitive"&&t.object!==i.object||((s=i.args)==null?void 0:s.length)!==((o=t.args)==null?void 0:o.length)||(l=i.args)!=null&&l.some((m,d)=>{var b;return m!==((b=t.args)==null?void 0:b[d])}))&&(a=!0),a)U1.push([n,{...i},r]);else{const m=Zve(n,i);Object.keys(m).length&&(Object.assign(n.props,m),nd(n.object,m))}(r.sibling===null||(r.flags&f0e)===d0e)&&h0e()},finalizeInitialChildren:()=>!1,commitMount(){},getPublicInstance:n=>n?.object,prepareForCommit:()=>null,preparePortalMount:n=>oE(n.getState().scene,n,"",{}),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance:c0e,unhideInstance:H5,createTextInstance:sA,hideTextInstance:sA,unhideTextInstance:sA,scheduleTimeout:typeof setTimeout=="function"?setTimeout:void 0,cancelTimeout:typeof clearTimeout=="function"?clearTimeout:void 0,noTimeout:-1,getInstanceFromNode:()=>null,beforeActiveInstanceBlur(){},afterActiveInstanceBlur(){},detachDeletedInstance(){},prepareScopeUpdate(){},getInstanceFromScope:()=>null,shouldAttemptEagerTransition:()=>!1,trackSchedulerEvent:()=>{},resolveEventType:()=>null,resolveEventTimeStamp:()=>-1.1,requestPostPaintCallback(){},maySuspendCommit:()=>!1,preloadInstance:()=>!0,startSuspendingCommit(){},suspendInstance(){},waitForCommitToBeReady:()=>null,NotPendingTransition:null,HostTransitionContext:Q.createContext(null),setCurrentUpdatePriority(n){b1=n},getCurrentUpdatePriority(){return b1},resolveUpdatePriority(){var n;if(b1!==k5)return b1;switch(typeof window<"u"&&((n=window.event)==null?void 0:n.type)){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return B1.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return B1.ContinuousEventPriority;default:return B1.DefaultEventPriority}},resetFormInstance(){}}),xg=new Map,Fv={objects:"shallow",strict:!1};function p0e(n,e){if(!e&&typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement&&n.parentElement){const{width:t,height:i,top:r,left:s}=n.parentElement.getBoundingClientRect();return{width:t,height:i,top:r,left:s}}else if(!e&&typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas)return{width:n.width,height:n.height,top:0,left:0};return{width:0,height:0,top:0,left:0,...e}}function m0e(n){const e=xg.get(n),t=e?.fiber,i=e?.store;e&&console.warn("R3F.createRoot should only be called once!");const r=typeof reportError=="function"?reportError:console.error,s=i||n0e(zR,SD),o=t||cE.createContainer(s,B1.ConcurrentRoot,null,!1,null,"",r,r,r,null);e||xg.set(n,{fiber:o,store:s});let l,a,u=!1,m=null;return{async configure(d={}){let b;m=new Promise(ce=>b=ce);let{gl:g,size:_,scene:p,events:v,onCreated:c,shadows:x=!1,linear:w=!1,flat:T=!1,legacy:L=!1,orthographic:P=!1,frameloop:C="always",dpr:I=[1,2],performance:F,raycaster:R,camera:D,onPointerMissed:G}=d,j=s.getState(),k=j.gl;if(!j.gl){const ce={canvas:n,powerPreference:"high-performance",antialias:!0,alpha:!0},Se=typeof g=="function"?await g(ce):g;vD(Se)?k=Se:k=new x2({...ce,...g}),j.set({gl:k})}let V=j.raycaster;V||j.set({raycaster:V=new y2});const{params:H,...te}=R||{};if(_o.equ(te,V,Fv)||nd(V,{...te}),_o.equ(H,V.params,Fv)||nd(V,{params:{...V.params,...H}}),!j.camera||j.camera===a&&!_o.equ(a,D,Fv)){a=D;const ce=D?.isCamera,Se=ce?D:P?new bf(0,0,0,0,.1,1e3):new na(75,0,.1,1e3);ce||(Se.position.z=5,D&&(nd(Se,D),Se.manual||("aspect"in D||"left"in D||"right"in D||"bottom"in D||"top"in D)&&(Se.manual=!0,Se.updateProjectionMatrix())),!j.camera&&!(D!=null&&D.rotation)&&Se.lookAt(0,0,0)),j.set({camera:Se}),V.camera=Se}if(!j.scene){let ce;p!=null&&p.isScene?(ce=p,oE(ce,s,"",{})):(ce=new ib,oE(ce,s,"",{}),p&&nd(ce,p)),j.set({scene:ce})}v&&!j.events.handlers&&j.set({events:v(s)});const ne=p0e(n,_);if(_o.equ(ne,j.size,Fv)||j.setSize(ne.width,ne.height,ne.top,ne.left),I&&j.viewport.dpr!==I5(I)&&j.setDpr(I),j.frameloop!==C&&j.setFrameloop(C),j.onPointerMissed||j.set({onPointerMissed:G}),F&&!_o.equ(F,j.performance,Fv)&&j.set(ce=>({performance:{...ce.performance,...F}})),!j.xr){var he;const ce=(me,le)=>{const we=s.getState();we.frameloop!=="never"&&SD(me,!0,we,le)},Se=()=>{const me=s.getState();me.gl.xr.enabled=me.gl.xr.isPresenting,me.gl.xr.setAnimationLoop(me.gl.xr.isPresenting?ce:null),me.gl.xr.isPresenting||zR(me)},Ee={connect(){const me=s.getState().gl;me.xr.addEventListener("sessionstart",Se),me.xr.addEventListener("sessionend",Se)},disconnect(){const me=s.getState().gl;me.xr.removeEventListener("sessionstart",Se),me.xr.removeEventListener("sessionend",Se)}};typeof((he=k.xr)==null?void 0:he.addEventListener)=="function"&&Ee.connect(),j.set({xr:Ee})}if(k.shadowMap){const ce=k.shadowMap.enabled,Se=k.shadowMap.type;if(k.shadowMap.enabled=!!x,_o.boo(x))k.shadowMap.type=Yy;else if(_o.str(x)){var ie;const Ee={basic:RU,percentage:IE,soft:Yy,variance:hh};k.shadowMap.type=(ie=Ee[x])!=null?ie:Yy}else _o.obj(x)&&Object.assign(k.shadowMap,x);(ce!==k.shadowMap.enabled||Se!==k.shadowMap.type)&&(k.shadowMap.needsUpdate=!0)}return $r.enabled=!L,u||(k.outputColorSpace=w?Ch:Na,k.toneMapping=T?ld:FM),j.legacy!==L&&j.set(()=>({legacy:L})),j.linear!==w&&j.set(()=>({linear:w})),j.flat!==T&&j.set(()=>({flat:T})),g&&!_o.fun(g)&&!vD(g)&&!_o.equ(g,k,Fv)&&nd(k,g),l=c,u=!0,b(),this},render(d){return!u&&!m&&this.configure(),m.then(()=>{cE.updateContainer(Le.jsx(g0e,{store:s,children:d,onCreated:l,rootElement:n}),o,null,()=>{})}),s},unmount(){V5(n)}}}function g0e({store:n,children:e,onCreated:t,rootElement:i}){return hb(()=>{const r=n.getState();r.set(s=>({internal:{...s.internal,active:!0}})),t&&t(r),n.getState().events.connected||r.events.connect==null||r.events.connect(i)},[]),Le.jsx(C2.Provider,{value:n,children:e})}function V5(n,e){const t=xg.get(n),i=t?.fiber;if(i){const r=t?.store.getState();r&&(r.internal.active=!1),cE.updateContainer(null,i,null,()=>{r&&setTimeout(()=>{try{var s,o,l,a;r.events.disconnect==null||r.events.disconnect(),(s=r.gl)==null||(o=s.renderLists)==null||o.dispose==null||o.dispose(),(l=r.gl)==null||l.forceContextLoss==null||l.forceContextLoss(),(a=r.gl)!=null&&a.xr&&r.xr.disconnect(),qve(r.scene),xg.delete(n)}catch{}},500)})}}function v0e(n,e,t){return Le.jsx(y0e,{children:n,container:e,state:t})}function y0e({state:n={},children:e,container:t}){const{events:i,size:r,...s}=n,o=T2(),[l]=Q.useState(()=>new y2),[a]=Q.useState(()=>new rn),u=w2((d,b)=>{let g;if(b.camera&&r){const _=b.camera;g=d.viewport.getCurrentViewport(_,new De,r),_!==d.camera&&F5(_,r)}return{...d,...b,scene:t,raycaster:l,pointer:a,mouse:a,previousRoot:o,events:{...d.events,...b.events,...i},size:{...d.size,...r},viewport:{...d.viewport,...g},setEvents:_=>b.set(p=>({...p,events:{...p.events,..._}}))}}),m=Q.useMemo(()=>{const d=C5((g,_)=>({...s,set:g,get:_})),b=g=>d.setState(_=>u.current(g,_));return b(o.getState()),o.subscribe(b),d},[o,t]);return Le.jsx(Le.Fragment,{children:cE.createPortal(Le.jsx(C2.Provider,{value:m,children:e}),m,null)})}const _0e=new Set,b0e=new Set,x0e=new Set;function oA(n,e){if(n.size)for(const{callback:t}of n.values())t(e)}function s_(n,e){switch(n){case"before":return oA(_0e,e);case"after":return oA(b0e,e);case"tail":return oA(x0e,e)}}let aA,lA;function UR(n,e,t){let i=e.clock.getDelta();e.frameloop==="never"&&typeof n=="number"&&(i=n-e.clock.elapsedTime,e.clock.oldTime=e.clock.elapsedTime,e.clock.elapsedTime=n),aA=e.internal.subscribers;for(let r=0;r<aA.length;r++)lA=aA[r],lA.ref.current(lA.store.getState(),i,t);return!e.internal.priority&&e.gl.render&&e.gl.render(e.scene,e.camera),e.internal.frames=Math.max(0,e.internal.frames-1),e.frameloop==="always"?1:e.internal.frames}let uE=!1,kR=!1,cA,xD,Bv;function W5(n){xD=requestAnimationFrame(W5),uE=!0,cA=0,s_("before",n),kR=!0;for(const t of xg.values()){var e;Bv=t.store.getState(),Bv.internal.active&&(Bv.frameloop==="always"||Bv.internal.frames>0)&&!((e=Bv.gl.xr)!=null&&e.isPresenting)&&(cA+=UR(n,Bv))}if(kR=!1,s_("after",n),cA===0)return s_("tail",n),uE=!1,cancelAnimationFrame(xD)}function zR(n,e=1){var t;if(!n)return xg.forEach(i=>zR(i.store.getState(),e));(t=n.gl.xr)!=null&&t.isPresenting||!n.internal.active||n.frameloop==="never"||(e>1?n.internal.frames=Math.min(60,n.internal.frames+e):kR?n.internal.frames=2:n.internal.frames=1,uE||(uE=!0,requestAnimationFrame(W5)))}function SD(n,e=!0,t,i){if(e&&s_("before",n),t)UR(n,t,i);else for(const r of xg.values())UR(n,r.store.getState());e&&s_("after",n)}const uA={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function S0e(n){const{handlePointer:e}=t0e(n);return{priority:1,enabled:!0,compute(t,i,r){i.pointer.set(t.offsetX/i.size.width*2-1,-(t.offsetY/i.size.height)*2+1),i.raycaster.setFromCamera(i.pointer,i.camera)},connected:void 0,handlers:Object.keys(uA).reduce((t,i)=>({...t,[i]:e(i)}),{}),update:()=>{var t;const{events:i,internal:r}=n.getState();(t=r.lastEvent)!=null&&t.current&&i.handlers&&i.handlers.onPointerMove(r.lastEvent.current)},connect:t=>{const{set:i,events:r}=n.getState();if(r.disconnect==null||r.disconnect(),i(s=>({events:{...s.events,connected:t}})),r.handlers)for(const s in r.handlers){const o=r.handlers[s],[l,a]=uA[s];t.addEventListener(l,o,{passive:a})}},disconnect:()=>{const{set:t,events:i}=n.getState();if(i.connected){if(i.handlers)for(const r in i.handlers){const s=i.handlers[r],[o]=uA[r];i.connected.removeEventListener(o,s)}t(r=>({events:{...r.events,connected:void 0}}))}}}}function ED(n,e){let t;return(...i)=>{window.clearTimeout(t),t=window.setTimeout(()=>n(...i),e)}}function E0e({debounce:n,scroll:e,polyfill:t,offsetSize:i}={debounce:0,scroll:!1,offsetSize:!1}){const r=t||(typeof window>"u"?class{}:window.ResizeObserver);if(!r)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[s,o]=Q.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),l=Q.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:s,orientationHandler:null}),a=n?typeof n=="number"?n:n.scroll:null,u=n?typeof n=="number"?n:n.resize:null,m=Q.useRef(!1);Q.useEffect(()=>(m.current=!0,()=>void(m.current=!1)));const[d,b,g]=Q.useMemo(()=>{const c=()=>{if(!l.current.element)return;const{left:x,top:w,width:T,height:L,bottom:P,right:C,x:I,y:F}=l.current.element.getBoundingClientRect(),R={left:x,top:w,width:T,height:L,bottom:P,right:C,x:I,y:F};l.current.element instanceof HTMLElement&&i&&(R.height=l.current.element.offsetHeight,R.width=l.current.element.offsetWidth),Object.freeze(R),m.current&&!A0e(l.current.lastBounds,R)&&o(l.current.lastBounds=R)};return[c,u?ED(c,u):c,a?ED(c,a):c]},[o,i,a,u]);function _(){l.current.scrollContainers&&(l.current.scrollContainers.forEach(c=>c.removeEventListener("scroll",g,!0)),l.current.scrollContainers=null),l.current.resizeObserver&&(l.current.resizeObserver.disconnect(),l.current.resizeObserver=null),l.current.orientationHandler&&("orientation"in screen&&"removeEventListener"in screen.orientation?screen.orientation.removeEventListener("change",l.current.orientationHandler):"onorientationchange"in window&&window.removeEventListener("orientationchange",l.current.orientationHandler))}function p(){l.current.element&&(l.current.resizeObserver=new r(g),l.current.resizeObserver.observe(l.current.element),e&&l.current.scrollContainers&&l.current.scrollContainers.forEach(c=>c.addEventListener("scroll",g,{capture:!0,passive:!0})),l.current.orientationHandler=()=>{g()},"orientation"in screen&&"addEventListener"in screen.orientation?screen.orientation.addEventListener("change",l.current.orientationHandler):"onorientationchange"in window&&window.addEventListener("orientationchange",l.current.orientationHandler))}const v=c=>{!c||c===l.current.element||(_(),l.current.element=c,l.current.scrollContainers=j5(c),p())};return C0e(g,!!e),w0e(b),Q.useEffect(()=>{_(),p()},[e,g,b]),Q.useEffect(()=>_,[]),[v,s,d]}function w0e(n){Q.useEffect(()=>{const e=n;return window.addEventListener("resize",e),()=>void window.removeEventListener("resize",e)},[n])}function C0e(n,e){Q.useEffect(()=>{if(e){const t=n;return window.addEventListener("scroll",t,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",t,!0)}},[n,e])}function j5(n){const e=[];if(!n||n===document.body)return e;const{overflow:t,overflowX:i,overflowY:r}=window.getComputedStyle(n);return[t,i,r].some(s=>s==="auto"||s==="scroll")&&e.push(n),[...e,...j5(n.parentElement)]}const T0e=["x","y","top","bottom","left","right","width","height"],A0e=(n,e)=>T0e.every(t=>n[t]===e[t]);function R0e({ref:n,children:e,fallback:t,resize:i,style:r,gl:s,events:o=S0e,eventSource:l,eventPrefix:a,shadows:u,linear:m,flat:d,legacy:b,orthographic:g,frameloop:_,dpr:p,performance:v,raycaster:c,camera:x,scene:w,onPointerMissed:T,onCreated:L,...P}){Q.useMemo(()=>z5(gve),[]);const C=Vve(),[I,F]=E0e({scroll:!0,debounce:{scroll:50,resize:0},...i}),R=Q.useRef(null),D=Q.useRef(null);Q.useImperativeHandle(n,()=>R.current);const G=w2(T),[j,k]=Q.useState(!1),[V,H]=Q.useState(!1);if(j)throw j;if(V)throw V;const te=Q.useRef(null);hb(()=>{const he=R.current;if(F.width>0&&F.height>0&&he){te.current||(te.current=m0e(he));async function ie(){await te.current.configure({gl:s,scene:w,events:o,shadows:u,linear:m,flat:d,legacy:b,orthographic:g,frameloop:_,dpr:p,performance:v,raycaster:c,camera:x,size:F,onPointerMissed:(...ce)=>G.current==null?void 0:G.current(...ce),onCreated:ce=>{ce.events.connect==null||ce.events.connect(l?Hve(l)?l.current:l:D.current),a&&ce.setEvents({compute:(Se,Ee)=>{const me=Se[a+"X"],le=Se[a+"Y"];Ee.pointer.set(me/Ee.size.width*2-1,-(le/Ee.size.height)*2+1),Ee.raycaster.setFromCamera(Ee.pointer,Ee.camera)}}),L?.(ce)}}),te.current.render(Le.jsx(C,{children:Le.jsx(jve,{set:H,children:Le.jsx(Q.Suspense,{fallback:Le.jsx(Wve,{set:k}),children:e??null})})}))}ie()}}),Q.useEffect(()=>{const he=R.current;if(he)return()=>V5(he)},[]);const ne=l?"none":"auto";return Le.jsx("div",{ref:D,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:ne,...r},...P,children:Le.jsx("div",{ref:I,style:{width:"100%",height:"100%"},children:Le.jsx("canvas",{ref:R,style:{display:"block"},children:t})})})}function X5(n){return Le.jsx(O5,{children:Le.jsx(R0e,{...n})})}const q5=parseInt(Z_.replace(/\D+/g,""));var Fu=Uint8Array,Ip=Uint16Array,$R=Uint32Array,Y5=new Fu([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),K5=new Fu([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),M0e=new Fu([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Z5=function(n,e){for(var t=new Ip(31),i=0;i<31;++i)t[i]=e+=1<<n[i-1];for(var r=new $R(t[30]),i=1;i<30;++i)for(var s=t[i];s<t[i+1];++s)r[s]=s-t[i]<<5|i;return[t,r]},Q5=Z5(Y5,2),J5=Q5[0],O0e=Q5[1];J5[28]=258,O0e[258]=28;var L0e=Z5(K5,0),P0e=L0e[0],HR=new Ip(32768);for(var oo=0;oo<32768;++oo){var Sp=(oo&43690)>>>1|(oo&21845)<<1;Sp=(Sp&52428)>>>2|(Sp&13107)<<2,Sp=(Sp&61680)>>>4|(Sp&3855)<<4,HR[oo]=((Sp&65280)>>>8|(Sp&255)<<8)>>>1}var o_=(function(n,e,t){for(var i=n.length,r=0,s=new Ip(e);r<i;++r)++s[n[r]-1];var o=new Ip(e);for(r=0;r<e;++r)o[r]=o[r-1]+s[r-1]<<1;var l;if(t){l=new Ip(1<<e);var a=15-e;for(r=0;r<i;++r)if(n[r])for(var u=r<<4|n[r],m=e-n[r],d=o[n[r]-1]++<<m,b=d|(1<<m)-1;d<=b;++d)l[HR[d]>>>a]=u}else for(l=new Ip(i),r=0;r<i;++r)n[r]&&(l[r]=HR[o[n[r]-1]++]>>>15-n[r]);return l}),fb=new Fu(288);for(var oo=0;oo<144;++oo)fb[oo]=8;for(var oo=144;oo<256;++oo)fb[oo]=9;for(var oo=256;oo<280;++oo)fb[oo]=7;for(var oo=280;oo<288;++oo)fb[oo]=8;var ez=new Fu(32);for(var oo=0;oo<32;++oo)ez[oo]=5;var N0e=o_(fb,9,1),I0e=o_(ez,5,1),hA=function(n){for(var e=n[0],t=1;t<n.length;++t)n[t]>e&&(e=n[t]);return e},ch=function(n,e,t){var i=e/8|0;return(n[i]|n[i+1]<<8)>>(e&7)&t},dA=function(n,e){var t=e/8|0;return(n[t]|n[t+1]<<8|n[t+2]<<16)>>(e&7)},D0e=function(n){return(n/8|0)+(n&7&&1)},F0e=function(n,e,t){(t==null||t>n.length)&&(t=n.length);var i=new(n instanceof Ip?Ip:n instanceof $R?$R:Fu)(t-e);return i.set(n.subarray(e,t)),i},B0e=function(n,e,t){var i=n.length;if(!i||t&&!t.l&&i<5)return e||new Fu(0);var r=!e||t,s=!t||t.i;t||(t={}),e||(e=new Fu(i*3));var o=function(we){var Re=e.length;if(we>Re){var Fe=new Fu(Math.max(Re*2,we));Fe.set(e),e=Fe}},l=t.f||0,a=t.p||0,u=t.b||0,m=t.l,d=t.d,b=t.m,g=t.n,_=i*8;do{if(!m){t.f=l=ch(n,a,1);var p=ch(n,a+1,3);if(a+=3,p)if(p==1)m=N0e,d=I0e,b=9,g=5;else if(p==2){var w=ch(n,a,31)+257,T=ch(n,a+10,15)+4,L=w+ch(n,a+5,31)+1;a+=14;for(var P=new Fu(L),C=new Fu(19),I=0;I<T;++I)C[M0e[I]]=ch(n,a+I*3,7);a+=T*3;for(var F=hA(C),R=(1<<F)-1,D=o_(C,F,1),I=0;I<L;){var G=D[ch(n,a,R)];a+=G&15;var v=G>>>4;if(v<16)P[I++]=v;else{var j=0,k=0;for(v==16?(k=3+ch(n,a,3),a+=2,j=P[I-1]):v==17?(k=3+ch(n,a,7),a+=3):v==18&&(k=11+ch(n,a,127),a+=7);k--;)P[I++]=j}}var V=P.subarray(0,w),H=P.subarray(w);b=hA(V),g=hA(H),m=o_(V,b,1),d=o_(H,g,1)}else throw"invalid block type";else{var v=D0e(a)+4,c=n[v-4]|n[v-3]<<8,x=v+c;if(x>i){if(s)throw"unexpected EOF";break}r&&o(u+c),e.set(n.subarray(v,x),u),t.b=u+=c,t.p=a=x*8;continue}if(a>_){if(s)throw"unexpected EOF";break}}r&&o(u+131072);for(var te=(1<<b)-1,ne=(1<<g)-1,he=a;;he=a){var j=m[dA(n,a)&te],ie=j>>>4;if(a+=j&15,a>_){if(s)throw"unexpected EOF";break}if(!j)throw"invalid length/literal";if(ie<256)e[u++]=ie;else if(ie==256){he=a,m=null;break}else{var ce=ie-254;if(ie>264){var I=ie-257,Se=Y5[I];ce=ch(n,a,(1<<Se)-1)+J5[I],a+=Se}var Ee=d[dA(n,a)&ne],me=Ee>>>4;if(!Ee)throw"invalid distance";a+=Ee&15;var H=P0e[me];if(me>3){var Se=K5[me];H+=dA(n,a)&(1<<Se)-1,a+=Se}if(a>_){if(s)throw"unexpected EOF";break}r&&o(u+131072);for(var le=u+ce;u<le;u+=4)e[u]=e[u-H],e[u+1]=e[u+1-H],e[u+2]=e[u+2-H],e[u+3]=e[u+3-H];u=le}}t.l=m,t.p=he,t.b=u,m&&(l=1,t.m=b,t.d=d,t.n=g)}while(!l);return u==e.length?e:F0e(e,0,u)},U0e=new Fu(0),k0e=function(n){if((n[0]&15)!=8||n[0]>>>4>7||(n[0]<<8|n[1])%31)throw"invalid zlib data";if(n[1]&32)throw"invalid zlib data: preset dictionaries not supported"};function x1(n,e){return B0e((k0e(n),n.subarray(2,-4)),e)}var z0e=typeof TextDecoder<"u"&&new TextDecoder,$0e=0;try{z0e.decode(U0e,{stream:!0}),$0e=1}catch{}const H0e=n=>n&&n.isCubeTexture;class G0e extends Oo{constructor(e,t){var i,r;const s=H0e(e),l=((r=s?(i=e.image[0])==null?void 0:i.width:e.image.width)!=null?r:1024)/4,a=Math.floor(Math.log2(l)),u=Math.pow(2,a),m=3*Math.max(u,112),d=4*u,b=[s?"#define ENVMAP_TYPE_CUBE":"",`#define CUBEUV_TEXEL_WIDTH ${1/m}`,`#define CUBEUV_TEXEL_HEIGHT ${1/d}`,`#define CUBEUV_MAX_MIP ${a}.0`],g=`
        varying vec3 vWorldPosition;
        void main() 
        {
            vec4 worldPosition = ( modelMatrix * vec4( position, 1.0 ) );
            vWorldPosition = worldPosition.xyz;
            
            gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
        }
        `,_=b.join(`
`)+`
        #define ENVMAP_TYPE_CUBE_UV
        varying vec3 vWorldPosition;
        uniform float radius;
        uniform float height;
        uniform float angle;
        #ifdef ENVMAP_TYPE_CUBE
            uniform samplerCube map;
        #else
            uniform sampler2D map;
        #endif
        // From: https://www.shadertoy.com/view/4tsBD7
        float diskIntersectWithBackFaceCulling( vec3 ro, vec3 rd, vec3 c, vec3 n, float r ) 
        {
            float d = dot ( rd, n );
            
            if( d > 0.0 ) { return 1e6; }
            
            vec3  o = ro - c;
            float t = - dot( n, o ) / d;
            vec3  q = o + rd * t;
            
            return ( dot( q, q ) < r * r ) ? t : 1e6;
        }
        // From: https://www.iquilezles.org/www/articles/intersectors/intersectors.htm
        float sphereIntersect( vec3 ro, vec3 rd, vec3 ce, float ra ) 
        {
            vec3 oc = ro - ce;
            float b = dot( oc, rd );
            float c = dot( oc, oc ) - ra * ra;
            float h = b * b - c;
            
            if( h < 0.0 ) { return -1.0; }
            
            h = sqrt( h );
            
            return - b + h;
        }
        vec3 project() 
        {
            vec3 p = normalize( vWorldPosition );
            vec3 camPos = cameraPosition;
            camPos.y -= height;
            float intersection = sphereIntersect( camPos, p, vec3( 0.0 ), radius );
            if( intersection > 0.0 ) {
                
                vec3 h = vec3( 0.0, - height, 0.0 );
                float intersection2 = diskIntersectWithBackFaceCulling( camPos, p, h, vec3( 0.0, 1.0, 0.0 ), radius );
                p = ( camPos + min( intersection, intersection2 ) * p ) / radius;
            } else {
                p = vec3( 0.0, 1.0, 0.0 );
            }
            return p;
        }
        #include <common>
        #include <cube_uv_reflection_fragment>
        void main() 
        {
            vec3 projectedWorldPosition = project();
            
            #ifdef ENVMAP_TYPE_CUBE
                vec3 outcolor = textureCube( map, projectedWorldPosition ).rgb;
            #else
                vec3 direction = normalize( projectedWorldPosition );
                vec2 uv = equirectUv( direction );
                vec3 outcolor = texture2D( map, uv ).rgb;
            #endif
            gl_FragColor = vec4( outcolor, 1.0 );
            #include <tonemapping_fragment>
            #include <${q5>=154?"colorspace_fragment":"encodings_fragment"}>
        }
        `,p={map:{value:e},height:{value:t?.height||15},radius:{value:t?.radius||100}},v=new ob(1,16),c=new Dc({uniforms:p,fragmentShader:_,vertexShader:g,side:Du});super(v,c)}set radius(e){this.material.uniforms.radius.value=e}get radius(){return this.material.uniforms.radius.value}set height(e){this.material.uniforms.height.value=e}get height(){return this.material.uniforms.height.value}}var V0e=Object.defineProperty,W0e=(n,e,t)=>e in n?V0e(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,j0e=(n,e,t)=>(W0e(n,e+"",t),t);class X0e{constructor(){j0e(this,"_listeners")}addEventListener(e,t){this._listeners===void 0&&(this._listeners={});const i=this._listeners;i[e]===void 0&&(i[e]=[]),i[e].indexOf(t)===-1&&i[e].push(t)}hasEventListener(e,t){if(this._listeners===void 0)return!1;const i=this._listeners;return i[e]!==void 0&&i[e].indexOf(t)!==-1}removeEventListener(e,t){if(this._listeners===void 0)return;const r=this._listeners[e];if(r!==void 0){const s=r.indexOf(t);s!==-1&&r.splice(s,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const i=this._listeners[e.type];if(i!==void 0){e.target=this;const r=i.slice(0);for(let s=0,o=r.length;s<o;s++)r[s].call(this,e);e.target=null}}}var q0e=Object.defineProperty,Y0e=(n,e,t)=>e in n?q0e(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Ii=(n,e,t)=>(Y0e(n,typeof e!="symbol"?e+"":e,t),t);const S1=new Cg,wD=new sf,K0e=Math.cos(70*(Math.PI/180)),CD=(n,e)=>(n%e+e)%e;let Z0e=class extends X0e{constructor(e,t){super(),Ii(this,"object"),Ii(this,"domElement"),Ii(this,"enabled",!0),Ii(this,"target",new De),Ii(this,"minDistance",0),Ii(this,"maxDistance",1/0),Ii(this,"minZoom",0),Ii(this,"maxZoom",1/0),Ii(this,"minPolarAngle",0),Ii(this,"maxPolarAngle",Math.PI),Ii(this,"minAzimuthAngle",-1/0),Ii(this,"maxAzimuthAngle",1/0),Ii(this,"enableDamping",!1),Ii(this,"dampingFactor",.05),Ii(this,"enableZoom",!0),Ii(this,"zoomSpeed",1),Ii(this,"enableRotate",!0),Ii(this,"rotateSpeed",1),Ii(this,"enablePan",!0),Ii(this,"panSpeed",1),Ii(this,"screenSpacePanning",!0),Ii(this,"keyPanSpeed",7),Ii(this,"zoomToCursor",!1),Ii(this,"autoRotate",!1),Ii(this,"autoRotateSpeed",2),Ii(this,"reverseOrbit",!1),Ii(this,"reverseHorizontalOrbit",!1),Ii(this,"reverseVerticalOrbit",!1),Ii(this,"keys",{LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"}),Ii(this,"mouseButtons",{LEFT:Gm.ROTATE,MIDDLE:Gm.DOLLY,RIGHT:Gm.PAN}),Ii(this,"touches",{ONE:Vm.ROTATE,TWO:Vm.DOLLY_PAN}),Ii(this,"target0"),Ii(this,"position0"),Ii(this,"zoom0"),Ii(this,"_domElementKeyEvents",null),Ii(this,"getPolarAngle"),Ii(this,"getAzimuthalAngle"),Ii(this,"setPolarAngle"),Ii(this,"setAzimuthalAngle"),Ii(this,"getDistance"),Ii(this,"getZoomScale"),Ii(this,"listenToKeyEvents"),Ii(this,"stopListenToKeyEvents"),Ii(this,"saveState"),Ii(this,"reset"),Ii(this,"update"),Ii(this,"connect"),Ii(this,"dispose"),Ii(this,"dollyIn"),Ii(this,"dollyOut"),Ii(this,"getScale"),Ii(this,"setScale"),this.object=e,this.domElement=t,this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=()=>m.phi,this.getAzimuthalAngle=()=>m.theta,this.setPolarAngle=Ge=>{let lt=CD(Ge,2*Math.PI),Xt=m.phi;Xt<0&&(Xt+=2*Math.PI),lt<0&&(lt+=2*Math.PI);let Xe=Math.abs(lt-Xt);2*Math.PI-Xe<Xe&&(lt<Xt?lt+=2*Math.PI:Xt+=2*Math.PI),d.phi=lt-Xt,i.update()},this.setAzimuthalAngle=Ge=>{let lt=CD(Ge,2*Math.PI),Xt=m.theta;Xt<0&&(Xt+=2*Math.PI),lt<0&&(lt+=2*Math.PI);let Xe=Math.abs(lt-Xt);2*Math.PI-Xe<Xe&&(lt<Xt?lt+=2*Math.PI:Xt+=2*Math.PI),d.theta=lt-Xt,i.update()},this.getDistance=()=>i.object.position.distanceTo(i.target),this.listenToKeyEvents=Ge=>{Ge.addEventListener("keydown",ht),this._domElementKeyEvents=Ge},this.stopListenToKeyEvents=()=>{this._domElementKeyEvents.removeEventListener("keydown",ht),this._domElementKeyEvents=null},this.saveState=()=>{i.target0.copy(i.target),i.position0.copy(i.object.position),i.zoom0=i.object.zoom},this.reset=()=>{i.target.copy(i.target0),i.object.position.copy(i.position0),i.object.zoom=i.zoom0,i.object.updateProjectionMatrix(),i.dispatchEvent(r),i.update(),a=l.NONE},this.update=(()=>{const Ge=new De,lt=new De(0,1,0),Xt=new Pl().setFromUnitVectors(e.up,lt),Xe=Xt.clone().invert(),mt=new De,$t=new Pl,gn=2*Math.PI;return function(){const Ut=i.object.position;Xt.setFromUnitVectors(e.up,lt),Xe.copy(Xt).invert(),Ge.copy(Ut).sub(i.target),Ge.applyQuaternion(Xt),m.setFromVector3(Ge),i.autoRotate&&a===l.NONE&&k(G()),i.enableDamping?(m.theta+=d.theta*i.dampingFactor,m.phi+=d.phi*i.dampingFactor):(m.theta+=d.theta,m.phi+=d.phi);let _n=i.minAzimuthAngle,Dn=i.maxAzimuthAngle;isFinite(_n)&&isFinite(Dn)&&(_n<-Math.PI?_n+=gn:_n>Math.PI&&(_n-=gn),Dn<-Math.PI?Dn+=gn:Dn>Math.PI&&(Dn-=gn),_n<=Dn?m.theta=Math.max(_n,Math.min(Dn,m.theta)):m.theta=m.theta>(_n+Dn)/2?Math.max(_n,m.theta):Math.min(Dn,m.theta)),m.phi=Math.max(i.minPolarAngle,Math.min(i.maxPolarAngle,m.phi)),m.makeSafe(),i.enableDamping===!0?i.target.addScaledVector(g,i.dampingFactor):i.target.add(g),i.zoomToCursor&&F||i.object.isOrthographicCamera?m.radius=Ee(m.radius):m.radius=Ee(m.radius*b),Ge.setFromSpherical(m),Ge.applyQuaternion(Xe),Ut.copy(i.target).add(Ge),i.object.matrixAutoUpdate||i.object.updateMatrix(),i.object.lookAt(i.target),i.enableDamping===!0?(d.theta*=1-i.dampingFactor,d.phi*=1-i.dampingFactor,g.multiplyScalar(1-i.dampingFactor)):(d.set(0,0,0),g.set(0,0,0));let Ai=!1;if(i.zoomToCursor&&F){let Ri=null;if(i.object instanceof na&&i.object.isPerspectiveCamera){const Ar=Ge.length();Ri=Ee(Ar*b);const rr=Ar-Ri;i.object.position.addScaledVector(C,rr),i.object.updateMatrixWorld()}else if(i.object.isOrthographicCamera){const Ar=new De(I.x,I.y,0);Ar.unproject(i.object),i.object.zoom=Math.max(i.minZoom,Math.min(i.maxZoom,i.object.zoom/b)),i.object.updateProjectionMatrix(),Ai=!0;const rr=new De(I.x,I.y,0);rr.unproject(i.object),i.object.position.sub(rr).add(Ar),i.object.updateMatrixWorld(),Ri=Ge.length()}else console.warn("WARNING: OrbitControls.js encountered an unknown camera type - zoom to cursor disabled."),i.zoomToCursor=!1;Ri!==null&&(i.screenSpacePanning?i.target.set(0,0,-1).transformDirection(i.object.matrix).multiplyScalar(Ri).add(i.object.position):(S1.origin.copy(i.object.position),S1.direction.set(0,0,-1).transformDirection(i.object.matrix),Math.abs(i.object.up.dot(S1.direction))<K0e?e.lookAt(i.target):(wD.setFromNormalAndCoplanarPoint(i.object.up,i.target),S1.intersectPlane(wD,i.target))))}else i.object instanceof bf&&i.object.isOrthographicCamera&&(Ai=b!==1,Ai&&(i.object.zoom=Math.max(i.minZoom,Math.min(i.maxZoom,i.object.zoom/b)),i.object.updateProjectionMatrix()));return b=1,F=!1,Ai||mt.distanceToSquared(i.object.position)>u||8*(1-$t.dot(i.object.quaternion))>u?(i.dispatchEvent(r),mt.copy(i.object.position),$t.copy(i.object.quaternion),Ai=!1,!0):!1}})(),this.connect=Ge=>{i.domElement=Ge,i.domElement.style.touchAction="none",i.domElement.addEventListener("contextmenu",Cn),i.domElement.addEventListener("pointerdown",en),i.domElement.addEventListener("pointercancel",ue),i.domElement.addEventListener("wheel",pt)},this.dispose=()=>{var Ge,lt,Xt,Xe,mt,$t;i.domElement&&(i.domElement.style.touchAction="auto"),(Ge=i.domElement)==null||Ge.removeEventListener("contextmenu",Cn),(lt=i.domElement)==null||lt.removeEventListener("pointerdown",en),(Xt=i.domElement)==null||Xt.removeEventListener("pointercancel",ue),(Xe=i.domElement)==null||Xe.removeEventListener("wheel",pt),(mt=i.domElement)==null||mt.ownerDocument.removeEventListener("pointermove",_e),($t=i.domElement)==null||$t.ownerDocument.removeEventListener("pointerup",ue),i._domElementKeyEvents!==null&&i._domElementKeyEvents.removeEventListener("keydown",ht)};const i=this,r={type:"change"},s={type:"start"},o={type:"end"},l={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let a=l.NONE;const u=1e-6,m=new PR,d=new PR;let b=1;const g=new De,_=new rn,p=new rn,v=new rn,c=new rn,x=new rn,w=new rn,T=new rn,L=new rn,P=new rn,C=new De,I=new rn;let F=!1;const R=[],D={};function G(){return 2*Math.PI/60/60*i.autoRotateSpeed}function j(){return Math.pow(.95,i.zoomSpeed)}function k(Ge){i.reverseOrbit||i.reverseHorizontalOrbit?d.theta+=Ge:d.theta-=Ge}function V(Ge){i.reverseOrbit||i.reverseVerticalOrbit?d.phi+=Ge:d.phi-=Ge}const H=(()=>{const Ge=new De;return function(Xt,Xe){Ge.setFromMatrixColumn(Xe,0),Ge.multiplyScalar(-Xt),g.add(Ge)}})(),te=(()=>{const Ge=new De;return function(Xt,Xe){i.screenSpacePanning===!0?Ge.setFromMatrixColumn(Xe,1):(Ge.setFromMatrixColumn(Xe,0),Ge.crossVectors(i.object.up,Ge)),Ge.multiplyScalar(Xt),g.add(Ge)}})(),ne=(()=>{const Ge=new De;return function(Xt,Xe){const mt=i.domElement;if(mt&&i.object instanceof na&&i.object.isPerspectiveCamera){const $t=i.object.position;Ge.copy($t).sub(i.target);let gn=Ge.length();gn*=Math.tan(i.object.fov/2*Math.PI/180),H(2*Xt*gn/mt.clientHeight,i.object.matrix),te(2*Xe*gn/mt.clientHeight,i.object.matrix)}else mt&&i.object instanceof bf&&i.object.isOrthographicCamera?(H(Xt*(i.object.right-i.object.left)/i.object.zoom/mt.clientWidth,i.object.matrix),te(Xe*(i.object.top-i.object.bottom)/i.object.zoom/mt.clientHeight,i.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),i.enablePan=!1)}})();function he(Ge){i.object instanceof na&&i.object.isPerspectiveCamera||i.object instanceof bf&&i.object.isOrthographicCamera?b=Ge:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),i.enableZoom=!1)}function ie(Ge){he(b/Ge)}function ce(Ge){he(b*Ge)}function Se(Ge){if(!i.zoomToCursor||!i.domElement)return;F=!0;const lt=i.domElement.getBoundingClientRect(),Xt=Ge.clientX-lt.left,Xe=Ge.clientY-lt.top,mt=lt.width,$t=lt.height;I.x=Xt/mt*2-1,I.y=-(Xe/$t)*2+1,C.set(I.x,I.y,1).unproject(i.object).sub(i.object.position).normalize()}function Ee(Ge){return Math.max(i.minDistance,Math.min(i.maxDistance,Ge))}function me(Ge){_.set(Ge.clientX,Ge.clientY)}function le(Ge){Se(Ge),T.set(Ge.clientX,Ge.clientY)}function we(Ge){c.set(Ge.clientX,Ge.clientY)}function Re(Ge){p.set(Ge.clientX,Ge.clientY),v.subVectors(p,_).multiplyScalar(i.rotateSpeed);const lt=i.domElement;lt&&(k(2*Math.PI*v.x/lt.clientHeight),V(2*Math.PI*v.y/lt.clientHeight)),_.copy(p),i.update()}function Fe(Ge){L.set(Ge.clientX,Ge.clientY),P.subVectors(L,T),P.y>0?ie(j()):P.y<0&&ce(j()),T.copy(L),i.update()}function qe(Ge){x.set(Ge.clientX,Ge.clientY),w.subVectors(x,c).multiplyScalar(i.panSpeed),ne(w.x,w.y),c.copy(x),i.update()}function ot(Ge){Se(Ge),Ge.deltaY<0?ce(j()):Ge.deltaY>0&&ie(j()),i.update()}function dn(Ge){let lt=!1;switch(Ge.code){case i.keys.UP:ne(0,i.keyPanSpeed),lt=!0;break;case i.keys.BOTTOM:ne(0,-i.keyPanSpeed),lt=!0;break;case i.keys.LEFT:ne(i.keyPanSpeed,0),lt=!0;break;case i.keys.RIGHT:ne(-i.keyPanSpeed,0),lt=!0;break}lt&&(Ge.preventDefault(),i.update())}function mn(){if(R.length==1)_.set(R[0].pageX,R[0].pageY);else{const Ge=.5*(R[0].pageX+R[1].pageX),lt=.5*(R[0].pageY+R[1].pageY);_.set(Ge,lt)}}function pn(){if(R.length==1)c.set(R[0].pageX,R[0].pageY);else{const Ge=.5*(R[0].pageX+R[1].pageX),lt=.5*(R[0].pageY+R[1].pageY);c.set(Ge,lt)}}function Ae(){const Ge=R[0].pageX-R[1].pageX,lt=R[0].pageY-R[1].pageY,Xt=Math.sqrt(Ge*Ge+lt*lt);T.set(0,Xt)}function Bt(){i.enableZoom&&Ae(),i.enablePan&&pn()}function Tt(){i.enableZoom&&Ae(),i.enableRotate&&mn()}function zt(Ge){if(R.length==1)p.set(Ge.pageX,Ge.pageY);else{const Xt=Pn(Ge),Xe=.5*(Ge.pageX+Xt.x),mt=.5*(Ge.pageY+Xt.y);p.set(Xe,mt)}v.subVectors(p,_).multiplyScalar(i.rotateSpeed);const lt=i.domElement;lt&&(k(2*Math.PI*v.x/lt.clientHeight),V(2*Math.PI*v.y/lt.clientHeight)),_.copy(p)}function At(Ge){if(R.length==1)x.set(Ge.pageX,Ge.pageY);else{const lt=Pn(Ge),Xt=.5*(Ge.pageX+lt.x),Xe=.5*(Ge.pageY+lt.y);x.set(Xt,Xe)}w.subVectors(x,c).multiplyScalar(i.panSpeed),ne(w.x,w.y),c.copy(x)}function yn(Ge){const lt=Pn(Ge),Xt=Ge.pageX-lt.x,Xe=Ge.pageY-lt.y,mt=Math.sqrt(Xt*Xt+Xe*Xe);L.set(0,mt),P.set(0,Math.pow(L.y/T.y,i.zoomSpeed)),ie(P.y),T.copy(L)}function nt(Ge){i.enableZoom&&yn(Ge),i.enablePan&&At(Ge)}function Nt(Ge){i.enableZoom&&yn(Ge),i.enableRotate&&zt(Ge)}function en(Ge){var lt,Xt;i.enabled!==!1&&(R.length===0&&((lt=i.domElement)==null||lt.ownerDocument.addEventListener("pointermove",_e),(Xt=i.domElement)==null||Xt.ownerDocument.addEventListener("pointerup",ue)),An(Ge),Ge.pointerType==="touch"?Yt(Ge):ze(Ge))}function _e(Ge){i.enabled!==!1&&(Ge.pointerType==="touch"?Qt(Ge):rt(Ge))}function ue(Ge){var lt,Xt,Xe;Pt(Ge),R.length===0&&((lt=i.domElement)==null||lt.releasePointerCapture(Ge.pointerId),(Xt=i.domElement)==null||Xt.ownerDocument.removeEventListener("pointermove",_e),(Xe=i.domElement)==null||Xe.ownerDocument.removeEventListener("pointerup",ue)),i.dispatchEvent(o),a=l.NONE}function ze(Ge){let lt;switch(Ge.button){case 0:lt=i.mouseButtons.LEFT;break;case 1:lt=i.mouseButtons.MIDDLE;break;case 2:lt=i.mouseButtons.RIGHT;break;default:lt=-1}switch(lt){case Gm.DOLLY:if(i.enableZoom===!1)return;le(Ge),a=l.DOLLY;break;case Gm.ROTATE:if(Ge.ctrlKey||Ge.metaKey||Ge.shiftKey){if(i.enablePan===!1)return;we(Ge),a=l.PAN}else{if(i.enableRotate===!1)return;me(Ge),a=l.ROTATE}break;case Gm.PAN:if(Ge.ctrlKey||Ge.metaKey||Ge.shiftKey){if(i.enableRotate===!1)return;me(Ge),a=l.ROTATE}else{if(i.enablePan===!1)return;we(Ge),a=l.PAN}break;default:a=l.NONE}a!==l.NONE&&i.dispatchEvent(s)}function rt(Ge){if(i.enabled!==!1)switch(a){case l.ROTATE:if(i.enableRotate===!1)return;Re(Ge);break;case l.DOLLY:if(i.enableZoom===!1)return;Fe(Ge);break;case l.PAN:if(i.enablePan===!1)return;qe(Ge);break}}function pt(Ge){i.enabled===!1||i.enableZoom===!1||a!==l.NONE&&a!==l.ROTATE||(Ge.preventDefault(),i.dispatchEvent(s),ot(Ge),i.dispatchEvent(o))}function ht(Ge){i.enabled===!1||i.enablePan===!1||dn(Ge)}function Yt(Ge){switch(on(Ge),R.length){case 1:switch(i.touches.ONE){case Vm.ROTATE:if(i.enableRotate===!1)return;mn(),a=l.TOUCH_ROTATE;break;case Vm.PAN:if(i.enablePan===!1)return;pn(),a=l.TOUCH_PAN;break;default:a=l.NONE}break;case 2:switch(i.touches.TWO){case Vm.DOLLY_PAN:if(i.enableZoom===!1&&i.enablePan===!1)return;Bt(),a=l.TOUCH_DOLLY_PAN;break;case Vm.DOLLY_ROTATE:if(i.enableZoom===!1&&i.enableRotate===!1)return;Tt(),a=l.TOUCH_DOLLY_ROTATE;break;default:a=l.NONE}break;default:a=l.NONE}a!==l.NONE&&i.dispatchEvent(s)}function Qt(Ge){switch(on(Ge),a){case l.TOUCH_ROTATE:if(i.enableRotate===!1)return;zt(Ge),i.update();break;case l.TOUCH_PAN:if(i.enablePan===!1)return;At(Ge),i.update();break;case l.TOUCH_DOLLY_PAN:if(i.enableZoom===!1&&i.enablePan===!1)return;nt(Ge),i.update();break;case l.TOUCH_DOLLY_ROTATE:if(i.enableZoom===!1&&i.enableRotate===!1)return;Nt(Ge),i.update();break;default:a=l.NONE}}function Cn(Ge){i.enabled!==!1&&Ge.preventDefault()}function An(Ge){R.push(Ge)}function Pt(Ge){delete D[Ge.pointerId];for(let lt=0;lt<R.length;lt++)if(R[lt].pointerId==Ge.pointerId){R.splice(lt,1);return}}function on(Ge){let lt=D[Ge.pointerId];lt===void 0&&(lt=new rn,D[Ge.pointerId]=lt),lt.set(Ge.pageX,Ge.pageY)}function Pn(Ge){const lt=Ge.pointerId===R[0].pointerId?R[1]:R[0];return D[lt.pointerId]}this.dollyIn=(Ge=j())=>{ce(Ge),i.update()},this.dollyOut=(Ge=j())=>{ie(Ge),i.update()},this.getScale=()=>b,this.setScale=Ge=>{he(Ge),i.update()},this.getZoomScale=()=>j(),t!==void 0&&this.connect(t),this.update()}};class Q0e extends h2{constructor(e){super(e),this.type=Ia}parse(e){const o=function(I,F){switch(I){case 1:throw new Error("THREE.RGBELoader: Read Error: "+(F||""));case 2:throw new Error("THREE.RGBELoader: Write Error: "+(F||""));case 3:throw new Error("THREE.RGBELoader: Bad File Format: "+(F||""));default:case 4:throw new Error("THREE.RGBELoader: Memory Error: "+(F||""))}},d=function(I,F,R){F=F||1024;let G=I.pos,j=-1,k=0,V="",H=String.fromCharCode.apply(null,new Uint16Array(I.subarray(G,G+128)));for(;0>(j=H.indexOf(`
`))&&k<F&&G<I.byteLength;)V+=H,k+=H.length,G+=128,H+=String.fromCharCode.apply(null,new Uint16Array(I.subarray(G,G+128)));return-1<j?(I.pos+=k+j+1,V+H.slice(0,j)):!1},b=function(I){const F=/^#\?(\S+)/,R=/^\s*GAMMA\s*=\s*(\d+(\.\d+)?)\s*$/,D=/^\s*EXPOSURE\s*=\s*(\d+(\.\d+)?)\s*$/,G=/^\s*FORMAT=(\S+)\s*$/,j=/^\s*\-Y\s+(\d+)\s+\+X\s+(\d+)\s*$/,k={valid:0,string:"",comments:"",programtype:"RGBE",format:"",gamma:1,exposure:1,width:0,height:0};let V,H;for((I.pos>=I.byteLength||!(V=d(I)))&&o(1,"no header found"),(H=V.match(F))||o(3,"bad initial token"),k.valid|=1,k.programtype=H[1],k.string+=V+`
`;V=d(I),V!==!1;){if(k.string+=V+`
`,V.charAt(0)==="#"){k.comments+=V+`
`;continue}if((H=V.match(R))&&(k.gamma=parseFloat(H[1])),(H=V.match(D))&&(k.exposure=parseFloat(H[1])),(H=V.match(G))&&(k.valid|=2,k.format=H[1]),(H=V.match(j))&&(k.valid|=4,k.height=parseInt(H[1],10),k.width=parseInt(H[2],10)),k.valid&2&&k.valid&4)break}return k.valid&2||o(3,"missing format specifier"),k.valid&4||o(3,"missing image size specifier"),k},g=function(I,F,R){const D=F;if(D<8||D>32767||I[0]!==2||I[1]!==2||I[2]&128)return new Uint8Array(I);D!==(I[2]<<8|I[3])&&o(3,"wrong scanline width");const G=new Uint8Array(4*F*R);G.length||o(4,"unable to allocate buffer space");let j=0,k=0;const V=4*D,H=new Uint8Array(4),te=new Uint8Array(V);let ne=R;for(;ne>0&&k<I.byteLength;){k+4>I.byteLength&&o(1),H[0]=I[k++],H[1]=I[k++],H[2]=I[k++],H[3]=I[k++],(H[0]!=2||H[1]!=2||(H[2]<<8|H[3])!=D)&&o(3,"bad rgbe scanline format");let he=0,ie;for(;he<V&&k<I.byteLength;){ie=I[k++];const Se=ie>128;if(Se&&(ie-=128),(ie===0||he+ie>V)&&o(3,"bad scanline data"),Se){const Ee=I[k++];for(let me=0;me<ie;me++)te[he++]=Ee}else te.set(I.subarray(k,k+ie),he),he+=ie,k+=ie}const ce=D;for(let Se=0;Se<ce;Se++){let Ee=0;G[j]=te[Se+Ee],Ee+=D,G[j+1]=te[Se+Ee],Ee+=D,G[j+2]=te[Se+Ee],Ee+=D,G[j+3]=te[Se+Ee],j+=4}ne--}return G},_=function(I,F,R,D){const G=I[F+3],j=Math.pow(2,G-128)/255;R[D+0]=I[F+0]*j,R[D+1]=I[F+1]*j,R[D+2]=I[F+2]*j,R[D+3]=1},p=function(I,F,R,D){const G=I[F+3],j=Math.pow(2,G-128)/255;R[D+0]=sg.toHalfFloat(Math.min(I[F+0]*j,65504)),R[D+1]=sg.toHalfFloat(Math.min(I[F+1]*j,65504)),R[D+2]=sg.toHalfFloat(Math.min(I[F+2]*j,65504)),R[D+3]=sg.toHalfFloat(1)},v=new Uint8Array(e);v.pos=0;const c=b(v),x=c.width,w=c.height,T=g(v.subarray(v.pos),x,w);let L,P,C;switch(this.type){case bo:C=T.length/4;const I=new Float32Array(C*4);for(let R=0;R<C;R++)_(T,R*4,I,R*4);L=I,P=bo;break;case Ia:C=T.length/4;const F=new Uint16Array(C*4);for(let R=0;R<C;R++)p(T,R*4,F,R*4);L=F,P=Ia;break;default:throw new Error("THREE.RGBELoader: Unsupported type: "+this.type)}return{width:x,height:w,data:L,header:c.string,gamma:c.gamma,exposure:c.exposure,type:P}}setDataType(e){return this.type=e,this}load(e,t,i,r){function s(o,l){switch(o.type){case bo:case Ia:"colorSpace"in o?o.colorSpace="srgb-linear":o.encoding=3e3,o.minFilter=os,o.magFilter=os,o.generateMipmaps=!1,o.flipY=!0;break}t&&t(o,l)}return super.load(e,s,i,r)}}const Py=q5>=152;class J0e extends h2{constructor(e){super(e),this.type=Ia}parse(e){const F=Math.pow(2.7182818,2.2);function R(ge,Te){for(var Ye=0,vt=0;vt<65536;++vt)(vt==0||ge[vt>>3]&1<<(vt&7))&&(Te[Ye++]=vt);for(var bt=Ye-1;Ye<65536;)Te[Ye++]=0;return bt}function D(ge){for(var Te=0;Te<16384;Te++)ge[Te]={},ge[Te].len=0,ge[Te].lit=0,ge[Te].p=null}const G={l:0,c:0,lc:0};function j(ge,Te,Ye,vt,bt){for(;Ye<ge;)Te=Te<<8|Pn(vt,bt),Ye+=8;Ye-=ge,G.l=Te>>Ye&(1<<ge)-1,G.c=Te,G.lc=Ye}const k=new Array(59);function V(ge){for(var Te=0;Te<=58;++Te)k[Te]=0;for(var Te=0;Te<65537;++Te)k[ge[Te]]+=1;for(var Ye=0,Te=58;Te>0;--Te){var vt=Ye+k[Te]>>1;k[Te]=Ye,Ye=vt}for(var Te=0;Te<65537;++Te){var bt=ge[Te];bt>0&&(ge[Te]=bt|k[bt]++<<6)}}function H(ge,Te,Ye,vt,bt,St,an){for(var Wt=Ye,fe=0,Be=0;bt<=St;bt++){if(Wt.value-Ye.value>vt)return!1;j(6,fe,Be,ge,Wt);var Ve=G.l;if(fe=G.c,Be=G.lc,an[bt]=Ve,Ve==63){if(Wt.value-Ye.value>vt)throw"Something wrong with hufUnpackEncTable";j(8,fe,Be,ge,Wt);var je=G.l+6;if(fe=G.c,Be=G.lc,bt+je>St+1)throw"Something wrong with hufUnpackEncTable";for(;je--;)an[bt++]=0;bt--}else if(Ve>=59){var je=Ve-59+2;if(bt+je>St+1)throw"Something wrong with hufUnpackEncTable";for(;je--;)an[bt++]=0;bt--}}V(an)}function te(ge){return ge&63}function ne(ge){return ge>>6}function he(ge,Te,Ye,vt){for(;Te<=Ye;Te++){var bt=ne(ge[Te]),St=te(ge[Te]);if(bt>>St)throw"Invalid table entry";if(St>14){var an=vt[bt>>St-14];if(an.len)throw"Invalid table entry";if(an.lit++,an.p){var Wt=an.p;an.p=new Array(an.lit);for(var fe=0;fe<an.lit-1;++fe)an.p[fe]=Wt[fe]}else an.p=new Array(1);an.p[an.lit-1]=Te}else if(St)for(var Be=0,fe=1<<14-St;fe>0;fe--){var an=vt[(bt<<14-St)+Be];if(an.len||an.p)throw"Invalid table entry";an.len=St,an.lit=Te,Be++}}return!0}const ie={c:0,lc:0};function ce(ge,Te,Ye,vt){ge=ge<<8|Pn(Ye,vt),Te+=8,ie.c=ge,ie.lc=Te}const Se={c:0,lc:0};function Ee(ge,Te,Ye,vt,bt,St,an,Wt,fe,Be){if(ge==Te){vt<8&&(ce(Ye,vt,bt,an),Ye=ie.c,vt=ie.lc),vt-=8;var Ve=Ye>>vt,Ve=new Uint8Array([Ve])[0];if(fe.value+Ve>Be)return!1;for(var je=Wt[fe.value-1];Ve-- >0;)Wt[fe.value++]=je}else if(fe.value<Be)Wt[fe.value++]=ge;else return!1;Se.c=Ye,Se.lc=vt}function me(ge){return ge&65535}function le(ge){var Te=me(ge);return Te>32767?Te-65536:Te}const we={a:0,b:0};function Re(ge,Te){var Ye=le(ge),vt=le(Te),bt=vt,St=Ye+(bt&1)+(bt>>1),an=St,Wt=St-bt;we.a=an,we.b=Wt}function Fe(ge,Te){var Ye=me(ge),vt=me(Te),bt=Ye-(vt>>1)&65535,St=vt+bt-32768&65535;we.a=St,we.b=bt}function qe(ge,Te,Ye,vt,bt,St,an){for(var Wt=an<16384,fe=Ye>bt?bt:Ye,Be=1,Ve;Be<=fe;)Be<<=1;for(Be>>=1,Ve=Be,Be>>=1;Be>=1;){for(var je=0,et=je+St*(bt-Ve),ft=St*Be,Et=St*Ve,Gt=vt*Be,Jt=vt*Ve,Nn,Rn,hn,Un;je<=et;je+=Et){for(var Yn=je,Ui=je+vt*(Ye-Ve);Yn<=Ui;Yn+=Jt){var En=Yn+Gt,ri=Yn+ft,K=ri+Gt;Wt?(Re(ge[Yn+Te],ge[ri+Te]),Nn=we.a,hn=we.b,Re(ge[En+Te],ge[K+Te]),Rn=we.a,Un=we.b,Re(Nn,Rn),ge[Yn+Te]=we.a,ge[En+Te]=we.b,Re(hn,Un),ge[ri+Te]=we.a,ge[K+Te]=we.b):(Fe(ge[Yn+Te],ge[ri+Te]),Nn=we.a,hn=we.b,Fe(ge[En+Te],ge[K+Te]),Rn=we.a,Un=we.b,Fe(Nn,Rn),ge[Yn+Te]=we.a,ge[En+Te]=we.b,Fe(hn,Un),ge[ri+Te]=we.a,ge[K+Te]=we.b)}if(Ye&Be){var ri=Yn+ft;Wt?Re(ge[Yn+Te],ge[ri+Te]):Fe(ge[Yn+Te],ge[ri+Te]),Nn=we.a,ge[ri+Te]=we.b,ge[Yn+Te]=Nn}}if(bt&Be)for(var Yn=je,Ui=je+vt*(Ye-Ve);Yn<=Ui;Yn+=Jt){var En=Yn+Gt;Wt?Re(ge[Yn+Te],ge[En+Te]):Fe(ge[Yn+Te],ge[En+Te]),Nn=we.a,ge[En+Te]=we.b,ge[Yn+Te]=Nn}Ve=Be,Be>>=1}return je}function ot(ge,Te,Ye,vt,bt,St,an,Wt,fe,Be){for(var Ve=0,je=0,et=Wt,ft=Math.trunc(bt.value+(St+7)/8);bt.value<ft;)for(ce(Ve,je,Ye,bt),Ve=ie.c,je=ie.lc;je>=14;){var Et=Ve>>je-14&16383,Gt=Te[Et];if(Gt.len)je-=Gt.len,Ee(Gt.lit,an,Ve,je,Ye,vt,bt,fe,Be,et),Ve=Se.c,je=Se.lc;else{if(!Gt.p)throw"hufDecode issues";var Jt;for(Jt=0;Jt<Gt.lit;Jt++){for(var Nn=te(ge[Gt.p[Jt]]);je<Nn&&bt.value<ft;)ce(Ve,je,Ye,bt),Ve=ie.c,je=ie.lc;if(je>=Nn&&ne(ge[Gt.p[Jt]])==(Ve>>je-Nn&(1<<Nn)-1)){je-=Nn,Ee(Gt.p[Jt],an,Ve,je,Ye,vt,bt,fe,Be,et),Ve=Se.c,je=Se.lc;break}}if(Jt==Gt.lit)throw"hufDecode issues"}}var Rn=8-St&7;for(Ve>>=Rn,je-=Rn;je>0;){var Gt=Te[Ve<<14-je&16383];if(Gt.len)je-=Gt.len,Ee(Gt.lit,an,Ve,je,Ye,vt,bt,fe,Be,et),Ve=Se.c,je=Se.lc;else throw"hufDecode issues"}return!0}function dn(ge,Te,Ye,vt,bt,St){var an={value:0},Wt=Ye.value,fe=on(Te,Ye),Be=on(Te,Ye);Ye.value+=4;var Ve=on(Te,Ye);if(Ye.value+=4,fe<0||fe>=65537||Be<0||Be>=65537)throw"Something wrong with HUF_ENCSIZE";var je=new Array(65537),et=new Array(16384);D(et);var ft=vt-(Ye.value-Wt);if(H(ge,Te,Ye,ft,fe,Be,je),Ve>8*(vt-(Ye.value-Wt)))throw"Something wrong with hufUncompress";he(je,fe,Be,et),ot(je,et,ge,Te,Ye,Ve,Be,St,bt,an)}function mn(ge,Te,Ye){for(var vt=0;vt<Ye;++vt)Te[vt]=ge[Te[vt]]}function pn(ge){for(var Te=1;Te<ge.length;Te++){var Ye=ge[Te-1]+ge[Te]-128;ge[Te]=Ye}}function Ae(ge,Te){for(var Ye=0,vt=Math.floor((ge.length+1)/2),bt=0,St=ge.length-1;!(bt>St||(Te[bt++]=ge[Ye++],bt>St));)Te[bt++]=ge[vt++]}function Bt(ge){for(var Te=ge.byteLength,Ye=new Array,vt=0,bt=new DataView(ge);Te>0;){var St=bt.getInt8(vt++);if(St<0){var an=-St;Te-=an+1;for(var Wt=0;Wt<an;Wt++)Ye.push(bt.getUint8(vt++))}else{var an=St;Te-=2;for(var fe=bt.getUint8(vt++),Wt=0;Wt<an+1;Wt++)Ye.push(fe)}}return Ye}function Tt(ge,Te,Ye,vt,bt,St){var En=new DataView(St.buffer),an=Ye[ge.idx[0]].width,Wt=Ye[ge.idx[0]].height,fe=3,Be=Math.floor(an/8),Ve=Math.ceil(an/8),je=Math.ceil(Wt/8),et=an-(Ve-1)*8,ft=Wt-(je-1)*8,Et={value:0},Gt=new Array(fe),Jt=new Array(fe),Nn=new Array(fe),Rn=new Array(fe),hn=new Array(fe);for(let ci=0;ci<fe;++ci)hn[ci]=Te[ge.idx[ci]],Gt[ci]=ci<1?0:Gt[ci-1]+Ve*je,Jt[ci]=new Float32Array(64),Nn[ci]=new Uint16Array(64),Rn[ci]=new Uint16Array(Ve*64);for(let ci=0;ci<je;++ci){var Un=8;ci==je-1&&(Un=ft);var Yn=8;for(let Je=0;Je<Ve;++Je){Je==Ve-1&&(Yn=et);for(let wn=0;wn<fe;++wn)Nn[wn].fill(0),Nn[wn][0]=bt[Gt[wn]++],zt(Et,vt,Nn[wn]),At(Nn[wn],Jt[wn]),yn(Jt[wn]);nt(Jt);for(let wn=0;wn<fe;++wn)Nt(Jt[wn],Rn[wn],Je*64)}let ct=0;for(let Je=0;Je<fe;++Je){const wn=Ye[ge.idx[Je]].type;for(let qn=8*ci;qn<8*ci+Un;++qn){ct=hn[Je][qn];for(let yi=0;yi<Be;++yi){const $n=yi*64+(qn&7)*8;En.setUint16(ct+0*wn,Rn[Je][$n+0],!0),En.setUint16(ct+2*wn,Rn[Je][$n+1],!0),En.setUint16(ct+4*wn,Rn[Je][$n+2],!0),En.setUint16(ct+6*wn,Rn[Je][$n+3],!0),En.setUint16(ct+8*wn,Rn[Je][$n+4],!0),En.setUint16(ct+10*wn,Rn[Je][$n+5],!0),En.setUint16(ct+12*wn,Rn[Je][$n+6],!0),En.setUint16(ct+14*wn,Rn[Je][$n+7],!0),ct+=16*wn}}if(Be!=Ve)for(let qn=8*ci;qn<8*ci+Un;++qn){const yi=hn[Je][qn]+8*Be*2*wn,$n=Be*64+(qn&7)*8;for(let ji=0;ji<Yn;++ji)En.setUint16(yi+ji*2*wn,Rn[Je][$n+ji],!0)}}}for(var Ui=new Uint16Array(an),En=new DataView(St.buffer),ri=0;ri<fe;++ri){Ye[ge.idx[ri]].decoded=!0;var K=Ye[ge.idx[ri]].type;if(Ye[ri].type==2)for(var $i=0;$i<Wt;++$i){const ci=hn[ri][$i];for(var ni=0;ni<an;++ni)Ui[ni]=En.getUint16(ci+ni*2*K,!0);for(var ni=0;ni<an;++ni)En.setFloat32(ci+ni*2*K,mt(Ui[ni]),!0)}}}function zt(ge,Te,Ye){for(var vt,bt=1;bt<64;)vt=Te[ge.value],vt==65280?bt=64:vt>>8==255?bt+=vt&255:(Ye[bt]=vt,bt++),ge.value++}function At(ge,Te){Te[0]=mt(ge[0]),Te[1]=mt(ge[1]),Te[2]=mt(ge[5]),Te[3]=mt(ge[6]),Te[4]=mt(ge[14]),Te[5]=mt(ge[15]),Te[6]=mt(ge[27]),Te[7]=mt(ge[28]),Te[8]=mt(ge[2]),Te[9]=mt(ge[4]),Te[10]=mt(ge[7]),Te[11]=mt(ge[13]),Te[12]=mt(ge[16]),Te[13]=mt(ge[26]),Te[14]=mt(ge[29]),Te[15]=mt(ge[42]),Te[16]=mt(ge[3]),Te[17]=mt(ge[8]),Te[18]=mt(ge[12]),Te[19]=mt(ge[17]),Te[20]=mt(ge[25]),Te[21]=mt(ge[30]),Te[22]=mt(ge[41]),Te[23]=mt(ge[43]),Te[24]=mt(ge[9]),Te[25]=mt(ge[11]),Te[26]=mt(ge[18]),Te[27]=mt(ge[24]),Te[28]=mt(ge[31]),Te[29]=mt(ge[40]),Te[30]=mt(ge[44]),Te[31]=mt(ge[53]),Te[32]=mt(ge[10]),Te[33]=mt(ge[19]),Te[34]=mt(ge[23]),Te[35]=mt(ge[32]),Te[36]=mt(ge[39]),Te[37]=mt(ge[45]),Te[38]=mt(ge[52]),Te[39]=mt(ge[54]),Te[40]=mt(ge[20]),Te[41]=mt(ge[22]),Te[42]=mt(ge[33]),Te[43]=mt(ge[38]),Te[44]=mt(ge[46]),Te[45]=mt(ge[51]),Te[46]=mt(ge[55]),Te[47]=mt(ge[60]),Te[48]=mt(ge[21]),Te[49]=mt(ge[34]),Te[50]=mt(ge[37]),Te[51]=mt(ge[47]),Te[52]=mt(ge[50]),Te[53]=mt(ge[56]),Te[54]=mt(ge[59]),Te[55]=mt(ge[61]),Te[56]=mt(ge[35]),Te[57]=mt(ge[36]),Te[58]=mt(ge[48]),Te[59]=mt(ge[49]),Te[60]=mt(ge[57]),Te[61]=mt(ge[58]),Te[62]=mt(ge[62]),Te[63]=mt(ge[63])}function yn(ge){const Te=.5*Math.cos(.7853975),Ye=.5*Math.cos(3.14159/16),vt=.5*Math.cos(3.14159/8),bt=.5*Math.cos(3*3.14159/16),St=.5*Math.cos(5*3.14159/16),an=.5*Math.cos(3*3.14159/8),Wt=.5*Math.cos(7*3.14159/16);for(var fe=new Array(4),Be=new Array(4),Ve=new Array(4),je=new Array(4),et=0;et<8;++et){var ft=et*8;fe[0]=vt*ge[ft+2],fe[1]=an*ge[ft+2],fe[2]=vt*ge[ft+6],fe[3]=an*ge[ft+6],Be[0]=Ye*ge[ft+1]+bt*ge[ft+3]+St*ge[ft+5]+Wt*ge[ft+7],Be[1]=bt*ge[ft+1]-Wt*ge[ft+3]-Ye*ge[ft+5]-St*ge[ft+7],Be[2]=St*ge[ft+1]-Ye*ge[ft+3]+Wt*ge[ft+5]+bt*ge[ft+7],Be[3]=Wt*ge[ft+1]-St*ge[ft+3]+bt*ge[ft+5]-Ye*ge[ft+7],Ve[0]=Te*(ge[ft+0]+ge[ft+4]),Ve[3]=Te*(ge[ft+0]-ge[ft+4]),Ve[1]=fe[0]+fe[3],Ve[2]=fe[1]-fe[2],je[0]=Ve[0]+Ve[1],je[1]=Ve[3]+Ve[2],je[2]=Ve[3]-Ve[2],je[3]=Ve[0]-Ve[1],ge[ft+0]=je[0]+Be[0],ge[ft+1]=je[1]+Be[1],ge[ft+2]=je[2]+Be[2],ge[ft+3]=je[3]+Be[3],ge[ft+4]=je[3]-Be[3],ge[ft+5]=je[2]-Be[2],ge[ft+6]=je[1]-Be[1],ge[ft+7]=je[0]-Be[0]}for(var Et=0;Et<8;++Et)fe[0]=vt*ge[16+Et],fe[1]=an*ge[16+Et],fe[2]=vt*ge[48+Et],fe[3]=an*ge[48+Et],Be[0]=Ye*ge[8+Et]+bt*ge[24+Et]+St*ge[40+Et]+Wt*ge[56+Et],Be[1]=bt*ge[8+Et]-Wt*ge[24+Et]-Ye*ge[40+Et]-St*ge[56+Et],Be[2]=St*ge[8+Et]-Ye*ge[24+Et]+Wt*ge[40+Et]+bt*ge[56+Et],Be[3]=Wt*ge[8+Et]-St*ge[24+Et]+bt*ge[40+Et]-Ye*ge[56+Et],Ve[0]=Te*(ge[Et]+ge[32+Et]),Ve[3]=Te*(ge[Et]-ge[32+Et]),Ve[1]=fe[0]+fe[3],Ve[2]=fe[1]-fe[2],je[0]=Ve[0]+Ve[1],je[1]=Ve[3]+Ve[2],je[2]=Ve[3]-Ve[2],je[3]=Ve[0]-Ve[1],ge[0+Et]=je[0]+Be[0],ge[8+Et]=je[1]+Be[1],ge[16+Et]=je[2]+Be[2],ge[24+Et]=je[3]+Be[3],ge[32+Et]=je[3]-Be[3],ge[40+Et]=je[2]-Be[2],ge[48+Et]=je[1]-Be[1],ge[56+Et]=je[0]-Be[0]}function nt(ge){for(var Te=0;Te<64;++Te){var Ye=ge[0][Te],vt=ge[1][Te],bt=ge[2][Te];ge[0][Te]=Ye+1.5747*bt,ge[1][Te]=Ye-.1873*vt-.4682*bt,ge[2][Te]=Ye+1.8556*vt}}function Nt(ge,Te,Ye){for(var vt=0;vt<64;++vt)Te[Ye+vt]=sg.toHalfFloat(en(ge[vt]))}function en(ge){return ge<=1?Math.sign(ge)*Math.pow(Math.abs(ge),2.2):Math.sign(ge)*Math.pow(F,Math.abs(ge)-1)}function _e(ge){return new DataView(ge.array.buffer,ge.offset.value,ge.size)}function ue(ge){var Te=ge.viewer.buffer.slice(ge.offset.value,ge.offset.value+ge.size),Ye=new Uint8Array(Bt(Te)),vt=new Uint8Array(Ye.length);return pn(Ye),Ae(Ye,vt),new DataView(vt.buffer)}function ze(ge){var Te=ge.array.slice(ge.offset.value,ge.offset.value+ge.size),Ye=x1(Te),vt=new Uint8Array(Ye.length);return pn(Ye),Ae(Ye,vt),new DataView(vt.buffer)}function rt(ge){for(var Te=ge.viewer,Ye={value:ge.offset.value},vt=new Uint16Array(ge.width*ge.scanlineBlockSize*(ge.channels*ge.type)),bt=new Uint8Array(8192),St=0,an=new Array(ge.channels),Wt=0;Wt<ge.channels;Wt++)an[Wt]={},an[Wt].start=St,an[Wt].end=an[Wt].start,an[Wt].nx=ge.width,an[Wt].ny=ge.lines,an[Wt].size=ge.type,St+=an[Wt].nx*an[Wt].ny*an[Wt].size;var fe=$t(Te,Ye),Be=$t(Te,Ye);if(Be>=8192)throw"Something is wrong with PIZ_COMPRESSION BITMAP_SIZE";if(fe<=Be)for(var Wt=0;Wt<Be-fe+1;Wt++)bt[Wt+fe]=Ge(Te,Ye);var Ve=new Uint16Array(65536),je=R(bt,Ve),et=on(Te,Ye);dn(ge.array,Te,Ye,et,vt,St);for(var Wt=0;Wt<ge.channels;++Wt)for(var ft=an[Wt],Et=0;Et<an[Wt].size;++Et)qe(vt,ft.start+Et,ft.nx,ft.size,ft.ny,ft.nx*ft.size,je);mn(Ve,vt,St);for(var Gt=0,Jt=new Uint8Array(vt.buffer.byteLength),Nn=0;Nn<ge.lines;Nn++)for(var Rn=0;Rn<ge.channels;Rn++){var ft=an[Rn],hn=ft.nx*ft.size,Un=new Uint8Array(vt.buffer,ft.end*2,hn*2);Jt.set(Un,Gt),Gt+=hn*2,ft.end+=hn}return new DataView(Jt.buffer)}function pt(ge){var Te=ge.array.slice(ge.offset.value,ge.offset.value+ge.size),Ye=x1(Te);const vt=ge.lines*ge.channels*ge.width,bt=ge.type==1?new Uint16Array(vt):new Uint32Array(vt);let St=0,an=0;const Wt=new Array(4);for(let fe=0;fe<ge.lines;fe++)for(let Be=0;Be<ge.channels;Be++){let Ve=0;switch(ge.type){case 1:Wt[0]=St,Wt[1]=Wt[0]+ge.width,St=Wt[1]+ge.width;for(let je=0;je<ge.width;++je){const et=Ye[Wt[0]++]<<8|Ye[Wt[1]++];Ve+=et,bt[an]=Ve,an++}break;case 2:Wt[0]=St,Wt[1]=Wt[0]+ge.width,Wt[2]=Wt[1]+ge.width,St=Wt[2]+ge.width;for(let je=0;je<ge.width;++je){const et=Ye[Wt[0]++]<<24|Ye[Wt[1]++]<<16|Ye[Wt[2]++]<<8;Ve+=et,bt[an]=Ve,an++}break}}return new DataView(bt.buffer)}function ht(ge){var Te=ge.viewer,Ye={value:ge.offset.value},vt=new Uint8Array(ge.width*ge.lines*(ge.channels*ge.type*2)),bt={version:lt(Te,Ye),unknownUncompressedSize:lt(Te,Ye),unknownCompressedSize:lt(Te,Ye),acCompressedSize:lt(Te,Ye),dcCompressedSize:lt(Te,Ye),rleCompressedSize:lt(Te,Ye),rleUncompressedSize:lt(Te,Ye),rleRawSize:lt(Te,Ye),totalAcUncompressedCount:lt(Te,Ye),totalDcUncompressedCount:lt(Te,Ye),acCompression:lt(Te,Ye)};if(bt.version<2)throw"EXRLoader.parse: "+Ds.compression+" version "+bt.version+" is unsupported";for(var St=new Array,an=$t(Te,Ye)-2;an>0;){var Wt=Yt(Te.buffer,Ye),fe=Ge(Te,Ye),Be=fe>>2&3,Ve=(fe>>4)-1,je=new Int8Array([Ve])[0],et=Ge(Te,Ye);St.push({name:Wt,index:je,type:et,compression:Be}),an-=Wt.length+3}for(var ft=Ds.channels,Et=new Array(ge.channels),Gt=0;Gt<ge.channels;++Gt){var Jt=Et[Gt]={},Nn=ft[Gt];Jt.name=Nn.name,Jt.compression=0,Jt.decoded=!1,Jt.type=Nn.pixelType,Jt.pLinear=Nn.pLinear,Jt.width=ge.width,Jt.height=ge.lines}for(var Rn={idx:new Array(3)},hn=0;hn<ge.channels;++hn)for(var Jt=Et[hn],Gt=0;Gt<St.length;++Gt){var Un=St[Gt];Jt.name==Un.name&&(Jt.compression=Un.compression,Un.index>=0&&(Rn.idx[Un.index]=hn),Jt.offset=hn)}if(bt.acCompressedSize>0)switch(bt.acCompression){case 0:var En=new Uint16Array(bt.totalAcUncompressedCount);dn(ge.array,Te,Ye,bt.acCompressedSize,En,bt.totalAcUncompressedCount);break;case 1:var Yn=ge.array.slice(Ye.value,Ye.value+bt.totalAcUncompressedCount),Ui=x1(Yn),En=new Uint16Array(Ui.buffer);Ye.value+=bt.totalAcUncompressedCount;break}if(bt.dcCompressedSize>0){var ri={array:ge.array,offset:Ye,size:bt.dcCompressedSize},K=new Uint16Array(ze(ri).buffer);Ye.value+=bt.dcCompressedSize}if(bt.rleRawSize>0){var Yn=ge.array.slice(Ye.value,Ye.value+bt.rleCompressedSize),Ui=x1(Yn),$i=Bt(Ui.buffer);Ye.value+=bt.rleCompressedSize}for(var ni=0,ci=new Array(Et.length),Gt=0;Gt<ci.length;++Gt)ci[Gt]=new Array;for(var ct=0;ct<ge.lines;++ct)for(var Je=0;Je<Et.length;++Je)ci[Je].push(ni),ni+=Et[Je].width*ge.type*2;Tt(Rn,ci,Et,En,K,vt);for(var Gt=0;Gt<Et.length;++Gt){var Jt=Et[Gt];if(!Jt.decoded)switch(Jt.compression){case 2:for(var wn=0,qn=0,ct=0;ct<ge.lines;++ct){for(var yi=ci[Gt][wn],$n=0;$n<Jt.width;++$n){for(var ji=0;ji<2*Jt.type;++ji)vt[yi++]=$i[qn+ji*Jt.width*Jt.height];qn++}wn++}break;case 1:default:throw"EXRLoader.parse: unsupported channel compression"}}return new DataView(vt.buffer)}function Yt(ge,Te){for(var Ye=new Uint8Array(ge),vt=0;Ye[Te.value+vt]!=0;)vt+=1;var bt=new TextDecoder().decode(Ye.slice(Te.value,Te.value+vt));return Te.value=Te.value+vt+1,bt}function Qt(ge,Te,Ye){var vt=new TextDecoder().decode(new Uint8Array(ge).slice(Te.value,Te.value+Ye));return Te.value=Te.value+Ye,vt}function Cn(ge,Te){var Ye=Pt(ge,Te),vt=on(ge,Te);return[Ye,vt]}function An(ge,Te){var Ye=on(ge,Te),vt=on(ge,Te);return[Ye,vt]}function Pt(ge,Te){var Ye=ge.getInt32(Te.value,!0);return Te.value=Te.value+4,Ye}function on(ge,Te){var Ye=ge.getUint32(Te.value,!0);return Te.value=Te.value+4,Ye}function Pn(ge,Te){var Ye=ge[Te.value];return Te.value=Te.value+1,Ye}function Ge(ge,Te){var Ye=ge.getUint8(Te.value);return Te.value=Te.value+1,Ye}const lt=function(ge,Te){let Ye;return"getBigInt64"in DataView.prototype?Ye=Number(ge.getBigInt64(Te.value,!0)):Ye=ge.getUint32(Te.value+4,!0)+Number(ge.getUint32(Te.value,!0)<<32),Te.value+=8,Ye};function Xt(ge,Te){var Ye=ge.getFloat32(Te.value,!0);return Te.value+=4,Ye}function Xe(ge,Te){return sg.toHalfFloat(Xt(ge,Te))}function mt(ge){var Te=(ge&31744)>>10,Ye=ge&1023;return(ge>>15?-1:1)*(Te?Te===31?Ye?NaN:1/0:Math.pow(2,Te-15)*(1+Ye/1024):6103515625e-14*(Ye/1024))}function $t(ge,Te){var Ye=ge.getUint16(Te.value,!0);return Te.value+=2,Ye}function gn(ge,Te){return mt($t(ge,Te))}function sn(ge,Te,Ye,vt){for(var bt=Ye.value,St=[];Ye.value<bt+vt-1;){var an=Yt(Te,Ye),Wt=Pt(ge,Ye),fe=Ge(ge,Ye);Ye.value+=3;var Be=Pt(ge,Ye),Ve=Pt(ge,Ye);St.push({name:an,pixelType:Wt,pLinear:fe,xSampling:Be,ySampling:Ve})}return Ye.value+=1,St}function Ut(ge,Te){var Ye=Xt(ge,Te),vt=Xt(ge,Te),bt=Xt(ge,Te),St=Xt(ge,Te),an=Xt(ge,Te),Wt=Xt(ge,Te),fe=Xt(ge,Te),Be=Xt(ge,Te);return{redX:Ye,redY:vt,greenX:bt,greenY:St,blueX:an,blueY:Wt,whiteX:fe,whiteY:Be}}function _n(ge,Te){var Ye=["NO_COMPRESSION","RLE_COMPRESSION","ZIPS_COMPRESSION","ZIP_COMPRESSION","PIZ_COMPRESSION","PXR24_COMPRESSION","B44_COMPRESSION","B44A_COMPRESSION","DWAA_COMPRESSION","DWAB_COMPRESSION"],vt=Ge(ge,Te);return Ye[vt]}function Dn(ge,Te){var Ye=on(ge,Te),vt=on(ge,Te),bt=on(ge,Te),St=on(ge,Te);return{xMin:Ye,yMin:vt,xMax:bt,yMax:St}}function Ai(ge,Te){var Ye=["INCREASING_Y"],vt=Ge(ge,Te);return Ye[vt]}function Ri(ge,Te){var Ye=Xt(ge,Te),vt=Xt(ge,Te);return[Ye,vt]}function Ar(ge,Te){var Ye=Xt(ge,Te),vt=Xt(ge,Te),bt=Xt(ge,Te);return[Ye,vt,bt]}function rr(ge,Te,Ye,vt,bt){if(vt==="string"||vt==="stringvector"||vt==="iccProfile")return Qt(Te,Ye,bt);if(vt==="chlist")return sn(ge,Te,Ye,bt);if(vt==="chromaticities")return Ut(ge,Ye);if(vt==="compression")return _n(ge,Ye);if(vt==="box2i")return Dn(ge,Ye);if(vt==="lineOrder")return Ai(ge,Ye);if(vt==="float")return Xt(ge,Ye);if(vt==="v2f")return Ri(ge,Ye);if(vt==="v3f")return Ar(ge,Ye);if(vt==="int")return Pt(ge,Ye);if(vt==="rational")return Cn(ge,Ye);if(vt==="timecode")return An(ge,Ye);if(vt==="preview")return Ye.value+=bt,"skipped";Ye.value+=bt}function dr(ge,Te,Ye){const vt={};if(ge.getUint32(0,!0)!=20000630)throw"THREE.EXRLoader: provided file doesn't appear to be in OpenEXR format.";vt.version=ge.getUint8(4);const bt=ge.getUint8(5);vt.spec={singleTile:!!(bt&2),longName:!!(bt&4),deepFormat:!!(bt&8),multiPart:!!(bt&16)},Ye.value=8;for(var St=!0;St;){var an=Yt(Te,Ye);if(an==0)St=!1;else{var Wt=Yt(Te,Ye),fe=on(ge,Ye),Be=rr(ge,Te,Ye,Wt,fe);Be===void 0?console.warn(`EXRLoader.parse: skipped unknown header attribute type '${Wt}'.`):vt[an]=Be}}if((bt&-5)!=0)throw console.error("EXRHeader:",vt),"THREE.EXRLoader: provided file is currently unsupported.";return vt}function Pr(ge,Te,Ye,vt,bt){const St={size:0,viewer:Te,array:Ye,offset:vt,width:ge.dataWindow.xMax-ge.dataWindow.xMin+1,height:ge.dataWindow.yMax-ge.dataWindow.yMin+1,channels:ge.channels.length,bytesPerLine:null,lines:null,inputSize:null,type:ge.channels[0].pixelType,uncompress:null,getter:null,format:null,[Py?"colorSpace":"encoding"]:null};switch(ge.compression){case"NO_COMPRESSION":St.lines=1,St.uncompress=_e;break;case"RLE_COMPRESSION":St.lines=1,St.uncompress=ue;break;case"ZIPS_COMPRESSION":St.lines=1,St.uncompress=ze;break;case"ZIP_COMPRESSION":St.lines=16,St.uncompress=ze;break;case"PIZ_COMPRESSION":St.lines=32,St.uncompress=rt;break;case"PXR24_COMPRESSION":St.lines=16,St.uncompress=pt;break;case"DWAA_COMPRESSION":St.lines=32,St.uncompress=ht;break;case"DWAB_COMPRESSION":St.lines=256,St.uncompress=ht;break;default:throw"EXRLoader.parse: "+ge.compression+" is unsupported"}if(St.scanlineBlockSize=St.lines,St.type==1)switch(bt){case bo:St.getter=gn,St.inputSize=2;break;case Ia:St.getter=$t,St.inputSize=2;break}else if(St.type==2)switch(bt){case bo:St.getter=Xt,St.inputSize=4;break;case Ia:St.getter=Xe,St.inputSize=4}else throw"EXRLoader.parse: unsupported pixelType "+St.type+" for "+ge.compression+".";St.blockCount=(ge.dataWindow.yMax+1)/St.scanlineBlockSize;for(var an=0;an<St.blockCount;an++)lt(Te,vt);St.outputChannels=St.channels==3?4:St.channels;const Wt=St.width*St.height*St.outputChannels;switch(bt){case bo:St.byteArray=new Float32Array(Wt),St.channels<St.outputChannels&&St.byteArray.fill(1,0,Wt);break;case Ia:St.byteArray=new Uint16Array(Wt),St.channels<St.outputChannels&&St.byteArray.fill(15360,0,Wt);break;default:console.error("THREE.EXRLoader: unsupported type: ",bt);break}return St.bytesPerLine=St.width*St.inputSize*St.channels,St.outputChannels==4?St.format=oa:St.format=eb,Py?St.colorSpace="srgb-linear":St.encoding=3e3,St}const gr=new DataView(e),ms=new Uint8Array(e),zs={value:0},Ds=dr(gr,e,zs),gi=Pr(Ds,gr,ms,zs,this.type),ls={value:0},nr={R:0,G:1,B:2,A:3,Y:0};for(let ge=0;ge<gi.height/gi.scanlineBlockSize;ge++){const Te=on(gr,zs);gi.size=on(gr,zs),gi.lines=Te+gi.scanlineBlockSize>gi.height?gi.height-Te:gi.scanlineBlockSize;const vt=gi.size<gi.lines*gi.bytesPerLine?gi.uncompress(gi):_e(gi);zs.value+=gi.size;for(let bt=0;bt<gi.scanlineBlockSize;bt++){const St=bt+ge*gi.scanlineBlockSize;if(St>=gi.height)break;for(let an=0;an<gi.channels;an++){const Wt=nr[Ds.channels[an].name];for(let fe=0;fe<gi.width;fe++){ls.value=(bt*(gi.channels*gi.width)+an*gi.width+fe)*gi.inputSize;const Be=(gi.height-1-St)*(gi.width*gi.outputChannels)+fe*gi.outputChannels+Wt;gi.byteArray[Be]=gi.getter(vt,ls)}}}}return{header:Ds,width:gi.width,height:gi.height,data:gi.byteArray,format:gi.format,[Py?"colorSpace":"encoding"]:gi[Py?"colorSpace":"encoding"],type:this.type}}setDataType(e){return this.type=e,this}load(e,t,i,r){function s(o,l){Py?o.colorSpace=l.colorSpace:o.encoding=l.encoding,o.minFilter=os,o.magFilter=os,o.generateMipmaps=!1,o.flipY=!1,t&&t(o,l)}return super.load(e,s,i,r)}}const fA=n=>n===Object(n)&&!Array.isArray(n)&&typeof n!="function";function R2(n,e){const t=Vo(s=>s.gl),i=Cf(dw,fA(n)?Object.values(n):n);return Q.useLayoutEffect(()=>{e?.(i)},[e]),Q.useEffect(()=>{if("initTexture"in t){let s=[];Array.isArray(i)?s=i:i instanceof ps?s=[i]:fA(i)&&(s=Object.values(i)),s.forEach(o=>{o instanceof ps&&t.initTexture(o)})}},[t,i]),Q.useMemo(()=>{if(fA(n)){const s={};let o=0;for(const l in n)s[l]=i[o++];return s}else return i},[n,i])}R2.preload=n=>Cf.preload(dw,n);R2.clear=n=>Cf.clear(dw,n);function tz(n,e,t){const i=Vo(g=>g.size),r=Vo(g=>g.viewport),s=typeof n=="number"?n:i.width*r.dpr,o=i.height*r.dpr,l=(typeof n=="number"?t:n)||{},{samples:a=0,depth:u,...m}=l,d=u??l.depthBuffer,b=Q.useMemo(()=>{const g=new ru(s,o,{minFilter:os,magFilter:os,type:Ia,...m});return d&&(g.depthTexture=new QE(s,o,bo)),g.samples=a,g},[]);return Q.useLayoutEffect(()=>{b.setSize(s,o),a&&(b.samples=a)},[a,b,s,o]),Q.useEffect(()=>()=>b.dispose(),[]),b}const eye=n=>typeof n=="function",tye=Q.forwardRef(({envMap:n,resolution:e=256,frames:t=1/0,children:i,makeDefault:r,...s},o)=>{const l=Vo(({set:v})=>v),a=Vo(({camera:v})=>v),u=Vo(({size:v})=>v),m=Q.useRef(null);Q.useImperativeHandle(o,()=>m.current,[]);const d=Q.useRef(null),b=tz(e);Q.useLayoutEffect(()=>{s.manual||m.current.updateProjectionMatrix()},[u,s]),Q.useLayoutEffect(()=>{m.current.updateProjectionMatrix()}),Q.useLayoutEffect(()=>{if(r){const v=a;return l(()=>({camera:m.current})),()=>l(()=>({camera:v}))}},[m,r,l]);let g=0,_=null;const p=eye(i);return db(v=>{p&&(t===1/0||g<t)&&(d.current.visible=!1,v.gl.setRenderTarget(b),_=v.scene.background,n&&(v.scene.background=n),v.gl.render(v.scene,m.current),v.scene.background=_,v.gl.setRenderTarget(null),d.current.visible=!0,g++)}),Q.createElement(Q.Fragment,null,Q.createElement("orthographicCamera",Ks({left:u.width/-2,right:u.width/2,top:u.height/2,bottom:u.height/-2,ref:m},s),!p&&i),Q.createElement("group",{ref:d},p&&i(b.texture)))}),nye=n=>typeof n=="function",iye=Q.forwardRef(({envMap:n,resolution:e=256,frames:t=1/0,makeDefault:i,children:r,...s},o)=>{const l=Vo(({set:v})=>v),a=Vo(({camera:v})=>v),u=Vo(({size:v})=>v),m=Q.useRef(null);Q.useImperativeHandle(o,()=>m.current,[]);const d=Q.useRef(null),b=tz(e);Q.useLayoutEffect(()=>{s.manual||(m.current.aspect=u.width/u.height)},[u,s]),Q.useLayoutEffect(()=>{m.current.updateProjectionMatrix()});let g=0,_=null;const p=nye(r);return db(v=>{p&&(t===1/0||g<t)&&(d.current.visible=!1,v.gl.setRenderTarget(b),_=v.scene.background,n&&(v.scene.background=n),v.gl.render(v.scene,m.current),v.scene.background=_,v.gl.setRenderTarget(null),d.current.visible=!0,g++)}),Q.useLayoutEffect(()=>{if(i){const v=a;return l(()=>({camera:m.current})),()=>l(()=>({camera:v}))}},[m,i,l]),Q.createElement(Q.Fragment,null,Q.createElement("perspectiveCamera",Ks({ref:m},s),!p&&r),Q.createElement("group",{ref:d},p&&r(b.texture)))}),rye=Q.forwardRef(({makeDefault:n,camera:e,regress:t,domElement:i,enableDamping:r=!0,keyEvents:s=!1,onChange:o,onStart:l,onEnd:a,...u},m)=>{const d=Vo(P=>P.invalidate),b=Vo(P=>P.camera),g=Vo(P=>P.gl),_=Vo(P=>P.events),p=Vo(P=>P.setEvents),v=Vo(P=>P.set),c=Vo(P=>P.get),x=Vo(P=>P.performance),w=e||b,T=i||_.connected||g.domElement,L=Q.useMemo(()=>new Z0e(w),[w]);return db(()=>{L.enabled&&L.update()},-1),Q.useEffect(()=>(s&&L.connect(s===!0?T:s),L.connect(T),()=>void L.dispose()),[s,T,t,L,d]),Q.useEffect(()=>{const P=F=>{d(),t&&x.regress(),o&&o(F)},C=F=>{l&&l(F)},I=F=>{a&&a(F)};return L.addEventListener("change",P),L.addEventListener("start",C),L.addEventListener("end",I),()=>{L.removeEventListener("start",C),L.removeEventListener("end",I),L.removeEventListener("change",P)}},[o,l,a,L,d,p]),Q.useEffect(()=>{if(n){const P=c().controls;return v({controls:L}),()=>v({controls:P})}},[n,L]),Q.createElement("primitive",Ks({ref:m,object:L,enableDamping:r},u))}),sye=Q.forwardRef(({children:n,enabled:e=!0,speed:t=1,rotationIntensity:i=1,floatIntensity:r=1,floatingRange:s=[-.1,.1],autoInvalidate:o=!1,...l},a)=>{const u=Q.useRef(null);Q.useImperativeHandle(a,()=>u.current,[]);const m=Q.useRef(Math.random()*1e4);return db(d=>{var b,g;if(!e||t===0)return;o&&d.invalidate();const _=m.current+d.clock.elapsedTime;u.current.rotation.x=Math.cos(_/4*t)/8*i,u.current.rotation.y=Math.sin(_/4*t)/8*i,u.current.rotation.z=Math.sin(_/4*t)/20*i;let p=Math.sin(_/4*t)/10;p=pk.mapLinear(p,-.1,.1,(b=s?.[0])!==null&&b!==void 0?b:-.1,(g=s?.[1])!==null&&g!==void 0?g:.1),u.current.position.y=p*r,u.current.updateMatrix()}),Q.createElement("group",l,Q.createElement("group",{ref:u,matrixAutoUpdate:!1},n))}),nz=(n,e,t)=>{let i;switch(n){case fc:i=new Uint8ClampedArray(e*t*4);break;case Ia:i=new Uint16Array(e*t*4);break;case md:i=new Uint32Array(e*t*4);break;case FE:i=new Int8Array(e*t*4);break;case BE:i=new Int16Array(e*t*4);break;case J_:i=new Int32Array(e*t*4);break;case bo:i=new Float32Array(e*t*4);break;default:throw new Error("Unsupported data type")}return i};let E1;const oye=(n,e,t,i)=>{if(E1!==void 0)return E1;const r=new ru(1,1,i);e.setRenderTarget(r);const s=new Oo(new Wp,new Lf({color:16777215}));e.render(s,t),e.setRenderTarget(null);const o=nz(n,r.width,r.height);return e.readRenderTargetPixels(r,0,0,r.width,r.height,o),r.dispose(),s.geometry.dispose(),s.material.dispose(),E1=o[0]!==0,E1};class M2{constructor(e){var t,i,r,s,o,l,a,u,m,d,b,g,_,p,v,c;this._rendererIsDisposable=!1,this._supportsReadPixels=!0,this.render=()=>{this._renderer.setRenderTarget(this._renderTarget);try{this._renderer.render(this._scene,this._camera)}catch(w){throw this._renderer.setRenderTarget(null),w}this._renderer.setRenderTarget(null)},this._width=e.width,this._height=e.height,this._type=e.type,this._colorSpace=e.colorSpace;const x={format:oa,depthBuffer:!1,stencilBuffer:!1,type:this._type,colorSpace:this._colorSpace,anisotropy:((t=e.renderTargetOptions)===null||t===void 0?void 0:t.anisotropy)!==void 0?(i=e.renderTargetOptions)===null||i===void 0?void 0:i.anisotropy:1,generateMipmaps:((r=e.renderTargetOptions)===null||r===void 0?void 0:r.generateMipmaps)!==void 0?(s=e.renderTargetOptions)===null||s===void 0?void 0:s.generateMipmaps:!1,magFilter:((o=e.renderTargetOptions)===null||o===void 0?void 0:o.magFilter)!==void 0?(l=e.renderTargetOptions)===null||l===void 0?void 0:l.magFilter:os,minFilter:((a=e.renderTargetOptions)===null||a===void 0?void 0:a.minFilter)!==void 0?(u=e.renderTargetOptions)===null||u===void 0?void 0:u.minFilter:os,samples:((m=e.renderTargetOptions)===null||m===void 0?void 0:m.samples)!==void 0?(d=e.renderTargetOptions)===null||d===void 0?void 0:d.samples:void 0,wrapS:((b=e.renderTargetOptions)===null||b===void 0?void 0:b.wrapS)!==void 0?(g=e.renderTargetOptions)===null||g===void 0?void 0:g.wrapS:Ea,wrapT:((_=e.renderTargetOptions)===null||_===void 0?void 0:_.wrapT)!==void 0?(p=e.renderTargetOptions)===null||p===void 0?void 0:p.wrapT:Ea};if(this._material=e.material,e.renderer?this._renderer=e.renderer:(this._renderer=M2.instantiateRenderer(),this._rendererIsDisposable=!0),this._scene=new ib,this._camera=new bf,this._camera.position.set(0,0,10),this._camera.left=-.5,this._camera.right=.5,this._camera.top=.5,this._camera.bottom=-.5,this._camera.updateProjectionMatrix(),!oye(this._type,this._renderer,this._camera,x)){let w;switch(this._type){case Ia:w=this._renderer.extensions.has("EXT_color_buffer_float")?bo:void 0;break}w!==void 0?(console.warn(`This browser does not support reading pixels from ${this._type} RenderTargets, switching to ${bo}`),this._type=w):(this._supportsReadPixels=!1,console.warn("This browser dos not support toArray or toDataTexture, calls to those methods will result in an error thrown"))}this._quad=new Oo(new Wp,this._material),this._quad.geometry.computeBoundingBox(),this._scene.add(this._quad),this._renderTarget=new ru(this.width,this.height,x),this._renderTarget.texture.mapping=((v=e.renderTargetOptions)===null||v===void 0?void 0:v.mapping)!==void 0?(c=e.renderTargetOptions)===null||c===void 0?void 0:c.mapping:zp}static instantiateRenderer(){const e=new x2;return e.setSize(128,128),e}toArray(){if(!this._supportsReadPixels)throw new Error("Can't read pixels in this browser");const e=nz(this._type,this._width,this._height);return this._renderer.readRenderTargetPixels(this._renderTarget,0,0,this._width,this._height,e),e}toDataTexture(e){const t=new bh(this.toArray(),this.width,this.height,oa,this._type,e?.mapping||zp,e?.wrapS||Ea,e?.wrapT||Ea,e?.magFilter||os,e?.minFilter||os,e?.anisotropy||1,Ch);return t.generateMipmaps=e?.generateMipmaps!==void 0?e?.generateMipmaps:!1,t}disposeOnDemandRenderer(){this._renderer.setRenderTarget(null),this._rendererIsDisposable&&(this._renderer.dispose(),this._renderer.forceContextLoss())}dispose(e){this.disposeOnDemandRenderer(),e&&this.renderTarget.dispose(),this.material instanceof Dc&&Object.values(this.material.uniforms).forEach(t=>{t.value instanceof ps&&t.value.dispose()}),Object.values(this.material).forEach(t=>{t instanceof ps&&t.dispose()}),this.material.dispose(),this._quad.geometry.dispose()}get width(){return this._width}set width(e){this._width=e,this._renderTarget.setSize(this._width,this._height)}get height(){return this._height}set height(e){this._height=e,this._renderTarget.setSize(this._width,this._height)}get renderer(){return this._renderer}get renderTarget(){return this._renderTarget}set renderTarget(e){this._renderTarget=e,this._width=e.width,this._height=e.height}get material(){return this._material}get type(){return this._type}get colorSpace(){return this._colorSpace}}const aye=`
varying vec2 vUv;

void main() {
  vUv = uv;
  gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);
}
`,lye=`
// min half float value
#define HALF_FLOAT_MIN vec3( -65504, -65504, -65504 )
// max half float value
#define HALF_FLOAT_MAX vec3( 65504, 65504, 65504 )

uniform sampler2D sdr;
uniform sampler2D gainMap;
uniform vec3 gamma;
uniform vec3 offsetHdr;
uniform vec3 offsetSdr;
uniform vec3 gainMapMin;
uniform vec3 gainMapMax;
uniform float weightFactor;

varying vec2 vUv;

void main() {
  vec3 rgb = texture2D( sdr, vUv ).rgb;
  vec3 recovery = texture2D( gainMap, vUv ).rgb;
  vec3 logRecovery = pow( recovery, gamma );
  vec3 logBoost = gainMapMin * ( 1.0 - logRecovery ) + gainMapMax * logRecovery;
  vec3 hdrColor = (rgb + offsetSdr) * exp2( logBoost * weightFactor ) - offsetHdr;
  vec3 clampedHdrColor = max( HALF_FLOAT_MIN, min( HALF_FLOAT_MAX, hdrColor ));
  gl_FragColor = vec4( clampedHdrColor , 1.0 );
}
`;class cye extends Dc{constructor({gamma:e,offsetHdr:t,offsetSdr:i,gainMapMin:r,gainMapMax:s,maxDisplayBoost:o,hdrCapacityMin:l,hdrCapacityMax:a,sdr:u,gainMap:m}){super({name:"GainMapDecoderMaterial",vertexShader:aye,fragmentShader:lye,uniforms:{sdr:{value:u},gainMap:{value:m},gamma:{value:new De(1/e[0],1/e[1],1/e[2])},offsetHdr:{value:new De().fromArray(t)},offsetSdr:{value:new De().fromArray(i)},gainMapMin:{value:new De().fromArray(r)},gainMapMax:{value:new De().fromArray(s)},weightFactor:{value:(Math.log2(o)-l)/(a-l)}},blending:ad,depthTest:!1,depthWrite:!1}),this._maxDisplayBoost=o,this._hdrCapacityMin=l,this._hdrCapacityMax=a,this.needsUpdate=!0,this.uniformsNeedUpdate=!0}get sdr(){return this.uniforms.sdr.value}set sdr(e){this.uniforms.sdr.value=e}get gainMap(){return this.uniforms.gainMap.value}set gainMap(e){this.uniforms.gainMap.value=e}get offsetHdr(){return this.uniforms.offsetHdr.value.toArray()}set offsetHdr(e){this.uniforms.offsetHdr.value.fromArray(e)}get offsetSdr(){return this.uniforms.offsetSdr.value.toArray()}set offsetSdr(e){this.uniforms.offsetSdr.value.fromArray(e)}get gainMapMin(){return this.uniforms.gainMapMin.value.toArray()}set gainMapMin(e){this.uniforms.gainMapMin.value.fromArray(e)}get gainMapMax(){return this.uniforms.gainMapMax.value.toArray()}set gainMapMax(e){this.uniforms.gainMapMax.value.fromArray(e)}get gamma(){const e=this.uniforms.gamma.value;return[1/e.x,1/e.y,1/e.z]}set gamma(e){const t=this.uniforms.gamma.value;t.x=1/e[0],t.y=1/e[1],t.z=1/e[2]}get hdrCapacityMin(){return this._hdrCapacityMin}set hdrCapacityMin(e){this._hdrCapacityMin=e,this.calculateWeight()}get hdrCapacityMax(){return this._hdrCapacityMax}set hdrCapacityMax(e){this._hdrCapacityMax=e,this.calculateWeight()}get maxDisplayBoost(){return this._maxDisplayBoost}set maxDisplayBoost(e){this._maxDisplayBoost=Math.max(1,Math.min(65504,e)),this.calculateWeight()}calculateWeight(){const e=(Math.log2(this._maxDisplayBoost)-this._hdrCapacityMin)/(this._hdrCapacityMax-this._hdrCapacityMin);this.uniforms.weightFactor.value=Math.max(0,Math.min(1,e))}}class iz extends Error{}class rz extends Error{}const Ny=(n,e,t)=>{const i=new RegExp(`${e}="([^"]*)"`,"i").exec(n);if(i)return i[1];const r=new RegExp(`<${e}[^>]*>([\\s\\S]*?)</${e}>`,"i").exec(n);if(r){const s=r[1].match(/<rdf:li>([^<]*)<\/rdf:li>/g);return s&&s.length===3?s.map(o=>o.replace(/<\/?rdf:li>/g,"")):r[1].trim()}if(t!==void 0)return t;throw new Error(`Can't find ${e} in gainmap metadata`)},uye=n=>{let e;typeof TextDecoder<"u"?e=new TextDecoder().decode(n):e=n.toString();let t=e.indexOf("<x:xmpmeta");for(;t!==-1;){const i=e.indexOf("x:xmpmeta>",t),r=e.slice(t,i+10);try{const s=Ny(r,"hdrgm:GainMapMin","0"),o=Ny(r,"hdrgm:GainMapMax"),l=Ny(r,"hdrgm:Gamma","1"),a=Ny(r,"hdrgm:OffsetSDR","0.015625"),u=Ny(r,"hdrgm:OffsetHDR","0.015625"),m=/hdrgm:HDRCapacityMin="([^"]*)"/.exec(r),d=m?m[1]:"0",b=/hdrgm:HDRCapacityMax="([^"]*)"/.exec(r);if(!b)throw new Error("Incomplete gainmap metadata");const g=b[1];return{gainMapMin:Array.isArray(s)?s.map(_=>parseFloat(_)):[parseFloat(s),parseFloat(s),parseFloat(s)],gainMapMax:Array.isArray(o)?o.map(_=>parseFloat(_)):[parseFloat(o),parseFloat(o),parseFloat(o)],gamma:Array.isArray(l)?l.map(_=>parseFloat(_)):[parseFloat(l),parseFloat(l),parseFloat(l)],offsetSdr:Array.isArray(a)?a.map(_=>parseFloat(_)):[parseFloat(a),parseFloat(a),parseFloat(a)],offsetHdr:Array.isArray(u)?u.map(_=>parseFloat(_)):[parseFloat(u),parseFloat(u),parseFloat(u)],hdrCapacityMin:parseFloat(d),hdrCapacityMax:parseFloat(g)}}catch{}t=e.indexOf("<x:xmpmeta",i)}};class hye{constructor(e){this.options={debug:e&&e.debug!==void 0?e.debug:!1,extractFII:e&&e.extractFII!==void 0?e.extractFII:!0,extractNonFII:e&&e.extractNonFII!==void 0?e.extractNonFII:!0}}extract(e){return new Promise((t,i)=>{const r=this.options.debug,s=new DataView(e.buffer);if(s.getUint16(0)!==65496){i(new Error("Not a valid jpeg"));return}const o=s.byteLength;let l=2,a=0,u;for(;l<o;){if(++a>250){i(new Error(`Found no marker after ${a} loops 😵`));return}if(s.getUint8(l)!==255){i(new Error(`Not a valid marker at offset 0x${l.toString(16)}, found: 0x${s.getUint8(l).toString(16)}`));return}if(u=s.getUint8(l+1),r&&console.log(`Marker: ${u.toString(16)}`),u===226){r&&console.log("Found APP2 marker (0xffe2)");const m=l+4;if(s.getUint32(m)===1297106432){const d=m+4;let b;if(s.getUint16(d)===18761)b=!1;else if(s.getUint16(d)===19789)b=!0;else{i(new Error("No valid endianness marker found in TIFF header"));return}if(s.getUint16(d+2,!b)!==42){i(new Error("Not valid TIFF data! (no 0x002A marker)"));return}const g=s.getUint32(d+4,!b);if(g<8){i(new Error("Not valid TIFF data! (First offset less than 8)"));return}const _=d+g,p=s.getUint16(_,!b),v=_+2;let c=0;for(let L=v;L<v+12*p;L+=12)s.getUint16(L,!b)===45057&&(c=s.getUint32(L+8,!b));const w=_+2+p*12+4,T=[];for(let L=w;L<w+c*16;L+=16){const P={MPType:s.getUint32(L,!b),size:s.getUint32(L+4,!b),dataOffset:s.getUint32(L+8,!b),dependantImages:s.getUint32(L+12,!b),start:-1,end:-1,isFII:!1};P.dataOffset?(P.start=d+P.dataOffset,P.isFII=!1):(P.start=0,P.isFII=!0),P.end=P.start+P.size,T.push(P)}if(this.options.extractNonFII&&T.length){const L=new Blob([s]),P=[];for(const C of T){if(C.isFII&&!this.options.extractFII)continue;const I=L.slice(C.start,C.end+1,"image/jpeg");P.push(I)}t(P)}}}l+=2+s.getUint16(l+2)}})}}const dye=async n=>{const e=uye(n);if(!e)throw new rz("Gain map XMP metadata not found");const i=await new hye({extractFII:!0,extractNonFII:!0}).extract(n);if(i.length!==2)throw new iz("Gain map recovery image not found");return{sdr:new Uint8Array(await i[0].arrayBuffer()),gainMap:new Uint8Array(await i[1].arrayBuffer()),metadata:e}},TD=n=>new Promise((e,t)=>{const i=document.createElement("img");i.onload=()=>{e(i)},i.onerror=r=>{t(r)},i.src=URL.createObjectURL(n)});class sz extends mc{constructor(e,t){super(t),e&&(this._renderer=e),this._internalLoadingManager=new hw}setRenderer(e){return this._renderer=e,this}setRenderTargetOptions(e){return this._renderTargetOptions=e,this}prepareQuadRenderer(){this._renderer||console.warn("WARNING: An existing WebGL Renderer was not passed to this Loader constructor or in setRenderer, the result of this Loader will need to be converted to a Data Texture with toDataTexture() before you can use it in your renderer.");const e=new cye({gainMapMax:[1,1,1],gainMapMin:[0,0,0],gamma:[1,1,1],offsetHdr:[1,1,1],offsetSdr:[1,1,1],hdrCapacityMax:1,hdrCapacityMin:0,maxDisplayBoost:1,gainMap:new ps,sdr:new ps});return new M2({width:16,height:16,type:Ia,colorSpace:Ch,material:e,renderer:this._renderer,renderTargetOptions:this._renderTargetOptions})}async render(e,t,i,r){const s=r?new Blob([r],{type:"image/jpeg"}):void 0,o=new Blob([i],{type:"image/jpeg"});let l,a,u=!1;if(typeof createImageBitmap>"u"){const b=await Promise.all([s?TD(s):Promise.resolve(void 0),TD(o)]);a=b[0],l=b[1],u=!0}else{const b=await Promise.all([s?createImageBitmap(s,{imageOrientation:"flipY"}):Promise.resolve(void 0),createImageBitmap(o,{imageOrientation:"flipY"})]);a=b[0],l=b[1]}const m=new ps(a||new ImageData(2,2),zp,Ea,Ea,os,ER,oa,fc,1,Ch);m.flipY=u,m.needsUpdate=!0;const d=new ps(l,zp,Ea,Ea,os,ER,oa,fc,1,Na);d.flipY=u,d.needsUpdate=!0,e.width=l.width,e.height=l.height,e.material.gainMap=m,e.material.sdr=d,e.material.gainMapMin=t.gainMapMin,e.material.gainMapMax=t.gainMapMax,e.material.offsetHdr=t.offsetHdr,e.material.offsetSdr=t.offsetSdr,e.material.gamma=t.gamma,e.material.hdrCapacityMin=t.hdrCapacityMin,e.material.hdrCapacityMax=t.hdrCapacityMax,e.material.maxDisplayBoost=Math.pow(2,t.hdrCapacityMax),e.material.needsUpdate=!0,e.render()}}class fye extends sz{load([e,t,i],r,s,o){const l=this.prepareQuadRenderer();let a,u,m;const d=async()=>{if(a&&u&&m){try{await this.render(l,m,a,u)}catch(F){this.manager.itemError(e),this.manager.itemError(t),this.manager.itemError(i),typeof o=="function"&&o(F),l.disposeOnDemandRenderer();return}typeof r=="function"&&r(l),this.manager.itemEnd(e),this.manager.itemEnd(t),this.manager.itemEnd(i),l.disposeOnDemandRenderer()}};let b=!0,g=0,_=0,p=!0,v=0,c=0,x=!0,w=0,T=0;const L=()=>{if(typeof s=="function"){const F=g+v+w,R=_+c+T,D=b&&p&&x;s(new ProgressEvent("progress",{lengthComputable:D,loaded:R,total:F}))}};this.manager.itemStart(e),this.manager.itemStart(t),this.manager.itemStart(i);const P=new iu(this._internalLoadingManager);P.setResponseType("arraybuffer"),P.setRequestHeader(this.requestHeader),P.setPath(this.path),P.setWithCredentials(this.withCredentials),P.load(e,async F=>{if(typeof F=="string")throw new Error("Invalid sdr buffer");a=F,await d()},F=>{b=F.lengthComputable,_=F.loaded,g=F.total,L()},F=>{this.manager.itemError(e),typeof o=="function"&&o(F)});const C=new iu(this._internalLoadingManager);C.setResponseType("arraybuffer"),C.setRequestHeader(this.requestHeader),C.setPath(this.path),C.setWithCredentials(this.withCredentials),C.load(t,async F=>{if(typeof F=="string")throw new Error("Invalid gainmap buffer");u=F,await d()},F=>{p=F.lengthComputable,c=F.loaded,v=F.total,L()},F=>{this.manager.itemError(t),typeof o=="function"&&o(F)});const I=new iu(this._internalLoadingManager);return I.setRequestHeader(this.requestHeader),I.setPath(this.path),I.setWithCredentials(this.withCredentials),I.load(i,async F=>{if(typeof F!="string")throw new Error("Invalid metadata string");m=JSON.parse(F),await d()},F=>{x=F.lengthComputable,T=F.loaded,w=F.total,L()},F=>{this.manager.itemError(i),typeof o=="function"&&o(F)}),l}}class pye extends sz{load(e,t,i,r){const s=this.prepareQuadRenderer(),o=new iu(this._internalLoadingManager);return o.setResponseType("arraybuffer"),o.setRequestHeader(this.requestHeader),o.setPath(this.path),o.setWithCredentials(this.withCredentials),this.manager.itemStart(e),o.load(e,async l=>{if(typeof l=="string")throw new Error("Invalid buffer, received [string], was expecting [ArrayBuffer]");const a=new Uint8Array(l);let u,m,d;try{const b=await dye(a);u=b.sdr,m=b.gainMap,d=b.metadata}catch(b){if(b instanceof rz||b instanceof iz)console.warn(`Failure to reconstruct an HDR image from ${e}: Gain map metadata not found in the file, HDRJPGLoader will render the SDR jpeg`),d={gainMapMin:[0,0,0],gainMapMax:[1,1,1],gamma:[1,1,1],hdrCapacityMin:0,hdrCapacityMax:1,offsetHdr:[0,0,0],offsetSdr:[0,0,0]},u=a;else throw b}try{await this.render(s,d,u,m)}catch(b){this.manager.itemError(e),typeof r=="function"&&r(b),s.disposeOnDemandRenderer();return}typeof t=="function"&&t(s),this.manager.itemEnd(e),s.disposeOnDemandRenderer()},i,l=>{this.manager.itemError(e),typeof r=="function"&&r(l)}),s}}const D_={apartment:"lebombo_1k.hdr",city:"potsdamer_platz_1k.hdr",dawn:"kiara_1_dawn_1k.hdr",forest:"forest_slope_1k.hdr",lobby:"st_fagans_interior_1k.hdr",night:"dikhololo_night_1k.hdr",park:"rooitou_park_1k.hdr",studio:"studio_small_03_1k.hdr",sunset:"venice_sunset_1k.hdr",warehouse:"empty_warehouse_01_1k.hdr"},oz="https://raw.githack.com/pmndrs/drei-assets/456060a26bbeb8fdf79326f224b6d99b8bcce736/hdri/",n0=n=>Array.isArray(n),O2=["/px.png","/nx.png","/py.png","/ny.png","/pz.png","/nz.png"];function gw({files:n=O2,path:e="",preset:t=void 0,colorSpace:i=void 0,extensions:r}={}){t&&(L2(t),n=D_[t],e=oz);const s=n0(n),{extension:o,isCubemap:l}=P2(n),a=N2(o);if(!a)throw new Error("useEnvironment: Unrecognized file extension: "+n);const u=Vo(g=>g.gl);Q.useLayoutEffect(()=>{if(o!=="webp"&&o!=="jpg"&&o!=="jpeg")return;function g(){Cf.clear(a,s?[n]:n)}u.domElement.addEventListener("webglcontextlost",g,{once:!0})},[n,u.domElement]);const m=Cf(a,s?[n]:n,g=>{(o==="webp"||o==="jpg"||o==="jpeg")&&g.setRenderer(u),g.setPath==null||g.setPath(e),r&&r(g)});let d=s?m[0]:m;if(o==="jpg"||o==="jpeg"||o==="webp"){var b;d=(b=d.renderTarget)==null?void 0:b.texture}return d.mapping=l?pd:u0,d.colorSpace=i??(l?"srgb":"srgb-linear"),d}const mye={files:O2,path:"",preset:void 0,extensions:void 0};gw.preload=n=>{const e={...mye,...n};let{files:t,path:i=""}=e;const{preset:r,extensions:s}=e;r&&(L2(r),t=D_[r],i=oz);const{extension:o}=P2(t);if(o==="webp"||o==="jpg"||o==="jpeg")throw new Error("useEnvironment: Preloading gainmaps is not supported");const l=N2(o);if(!l)throw new Error("useEnvironment: Unrecognized file extension: "+t);Cf.preload(l,n0(t)?[t]:t,a=>{a.setPath==null||a.setPath(i),s&&s(a)})};const gye={files:O2,preset:void 0};gw.clear=n=>{const e={...gye,...n};let{files:t}=e;const{preset:i}=e;i&&(L2(i),t=D_[i]);const{extension:r}=P2(t),s=N2(r);if(!s)throw new Error("useEnvironment: Unrecognized file extension: "+t);Cf.clear(s,n0(t)?[t]:t)};function L2(n){if(!(n in D_))throw new Error("Preset must be one of: "+Object.keys(D_).join(", "))}function P2(n){var e;const t=n0(n)&&n.length===6,i=n0(n)&&n.length===3&&n.some(o=>o.endsWith("json")),r=n0(n)?n[0]:n;return{extension:t?"cube":i?"webp":r.startsWith("data:application/exr")?"exr":r.startsWith("data:application/hdr")?"hdr":r.startsWith("data:image/jpeg")?"jpg":(e=r.split(".").pop())==null||(e=e.split("?"))==null||(e=e.shift())==null?void 0:e.toLowerCase(),isCubemap:t,isGainmap:i}}function N2(n){return n==="cube"?i5:n==="hdr"?Q0e:n==="exr"?J0e:n==="jpg"||n==="jpeg"?pye:n==="webp"?fye:null}const vye=n=>n.current&&n.current.isScene,yye=n=>vye(n)?n.current:n;function I2(n,e,t,i,r={}){var s,o,l,a;r={backgroundBlurriness:0,backgroundIntensity:1,backgroundRotation:[0,0,0],environmentIntensity:1,environmentRotation:[0,0,0],...r};const u=yye(e||t),m=u.background,d=u.environment,b={backgroundBlurriness:u.backgroundBlurriness,backgroundIntensity:u.backgroundIntensity,backgroundRotation:(s=(o=u.backgroundRotation)==null||o.clone==null?void 0:o.clone())!==null&&s!==void 0?s:[0,0,0],environmentIntensity:u.environmentIntensity,environmentRotation:(l=(a=u.environmentRotation)==null||a.clone==null?void 0:a.clone())!==null&&l!==void 0?l:[0,0,0]};return n!=="only"&&(u.environment=i),n&&(u.background=i),nd(u,r),()=>{n!=="only"&&(u.environment=d),n&&(u.background=m),nd(u,b)}}function D2({scene:n,background:e=!1,map:t,...i}){const r=Vo(s=>s.scene);return Q.useLayoutEffect(()=>{if(t)return I2(e,n,r,t,i)}),null}function az({background:n=!1,scene:e,blur:t,backgroundBlurriness:i,backgroundIntensity:r,backgroundRotation:s,environmentIntensity:o,environmentRotation:l,...a}){const u=gw(a),m=Vo(d=>d.scene);return Q.useLayoutEffect(()=>I2(n,e,m,u,{backgroundBlurriness:t??i,backgroundIntensity:r,backgroundRotation:s,environmentIntensity:o,environmentRotation:l})),Q.useEffect(()=>()=>{u.dispose()},[u]),null}function _ye({children:n,near:e=.1,far:t=1e3,resolution:i=256,frames:r=1,map:s,background:o=!1,blur:l,backgroundBlurriness:a,backgroundIntensity:u,backgroundRotation:m,environmentIntensity:d,environmentRotation:b,scene:g,files:_,path:p,preset:v=void 0,extensions:c}){const x=Vo(I=>I.gl),w=Vo(I=>I.scene),T=Q.useRef(null),[L]=Q.useState(()=>new ib),P=Q.useMemo(()=>{const I=new YM(i);return I.texture.type=Ia,I},[i]);Q.useEffect(()=>()=>{P.dispose()},[P]),Q.useLayoutEffect(()=>{if(r===1){const I=x.autoClear;x.autoClear=!0,T.current.update(x,L),x.autoClear=I}return I2(o,g,w,P.texture,{backgroundBlurriness:l??a,backgroundIntensity:u,backgroundRotation:m,environmentIntensity:d,environmentRotation:b})},[n,L,P.texture,g,w,o,r,x]);let C=1;return db(()=>{if(r===1/0||C<r){const I=x.autoClear;x.autoClear=!0,T.current.update(x,L),x.autoClear=I,C++}}),Q.createElement(Q.Fragment,null,v0e(Q.createElement(Q.Fragment,null,n,Q.createElement("cubeCamera",{ref:T,args:[e,t,P]}),_||v?Q.createElement(az,{background:!0,files:_,preset:v,path:p,extensions:c}):s?Q.createElement(D2,{background:!0,map:s,extensions:c}):null),L))}function bye(n){var e,t,i,r;const s=gw(n),o=n.map||s;Q.useMemo(()=>z5({GroundProjectedEnvImpl:G0e}),[]),Q.useEffect(()=>()=>{s.dispose()},[s]);const l=Q.useMemo(()=>[o],[o]),a=(e=n.ground)==null?void 0:e.height,u=(t=n.ground)==null?void 0:t.radius,m=(i=(r=n.ground)==null?void 0:r.scale)!==null&&i!==void 0?i:1e3;return Q.createElement(Q.Fragment,null,Q.createElement(D2,Ks({},n,{map:o})),Q.createElement("groundProjectedEnvImpl",{args:l,scale:m,height:a,radius:u}))}function xye(n){return n.ground?Q.createElement(bye,n):n.map?Q.createElement(D2,n):n.children?Q.createElement(_ye,n):Q.createElement(az,n)}var k1={exports:{}},Sye=k1.exports,AD;function Eye(){return AD||(AD=1,(function(n,e){(function(t,i){n.exports=i()})(Sye,function(){var t=function(){var i=0,r=document.createElement("div");function s(g){return r.appendChild(g.dom),g}function o(g){for(var _=0;_<r.children.length;_++)r.children[_].style.display=_===g?"block":"none";i=g}r.style.cssText="position:fixed;top:0;left:0;cursor:pointer;opacity:0.9;z-index:10000",r.addEventListener("click",function(g){g.preventDefault(),o(++i%r.children.length)},!1);var l=(performance||Date).now(),a=l,u=0,m=s(new t.Panel("FPS","#0ff","#002")),d=s(new t.Panel("MS","#0f0","#020"));if(self.performance&&self.performance.memory)var b=s(new t.Panel("MB","#f08","#201"));return o(0),{REVISION:16,dom:r,addPanel:s,showPanel:o,begin:function(){l=(performance||Date).now()},end:function(){u++;var g=(performance||Date).now();if(d.update(g-l,200),a+1e3<=g&&(m.update(1e3*u/(g-a),100),a=g,u=0,b)){var _=performance.memory;b.update(_.usedJSHeapSize/1048576,_.jsHeapSizeLimit/1048576)}return g},update:function(){l=this.end()},domElement:r,setMode:o}};return t.Panel=function(i,r,s){var o=1/0,l=0,a=Math.round,u=a(window.devicePixelRatio||1),m=80*u,d=48*u,b=3*u,g=2*u,_=3*u,p=15*u,v=74*u,c=30*u,x=document.createElement("canvas");x.width=m,x.height=d,x.style.cssText="width:80px;height:48px";var w=x.getContext("2d");return w.font="bold "+9*u+"px Helvetica,Arial,sans-serif",w.textBaseline="top",w.fillStyle=s,w.fillRect(0,0,m,d),w.fillStyle=r,w.fillText(i,b,g),w.fillRect(_,p,v,c),w.fillStyle=s,w.globalAlpha=.9,w.fillRect(_,p,v,c),{dom:x,update:function(T,L){o=Math.min(o,T),l=Math.max(l,T),w.fillStyle=s,w.globalAlpha=1,w.fillRect(0,0,m,p),w.fillStyle=r,w.fillText(a(T)+" "+i+" ("+a(o)+"-"+a(l)+")",b,g),w.drawImage(x,_+u,p,v-u,c,_,p,v-u,c),w.fillRect(_+v-u,p,u,c),w.fillStyle=s,w.globalAlpha=.9,w.fillRect(_+v-u,p,u,a((1-T/L)*c))}}},t})})(k1)),k1.exports}Eye();var pA={exports:{}},RD;function wye(){return RD||(RD=1,(function(n,e){(function(t,i){n.exports=i()})(self,(()=>(()=>{var t={874:(s,o)=>{Object.defineProperty(o,"__esModule",{value:!0})},327:(s,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.makeEveryOtherGenerator=o.makeGenerator=void 0,o.makeGenerator=function(l){var a=function(u){return typeof u=="string"?u:u==null?"":Array.isArray(u)?u.map(a).join(""):u.type in l?l[u.type](u):"NO GENERATOR FOR ".concat(u.type)+u};return a},o.makeEveryOtherGenerator=function(l){return function(a,u){return a.reduce((function(m,d,b){return m+l(d)+(b===a.length-1?"":l(u[b]))}),"")}}},83:function(s,o,l){var a=this&&this.__createBinding||(Object.create?function(m,d,b,g){g===void 0&&(g=b);var _=Object.getOwnPropertyDescriptor(d,b);_&&!("get"in _?!d.__esModule:_.writable||_.configurable)||(_={enumerable:!0,get:function(){return d[b]}}),Object.defineProperty(m,g,_)}:function(m,d,b,g){g===void 0&&(g=b),m[g]=d[b]}),u=this&&this.__exportStar||function(m,d){for(var b in m)b==="default"||Object.prototype.hasOwnProperty.call(d,b)||a(d,m,b)};Object.defineProperty(o,"__esModule",{value:!0}),u(l(327),o),u(l(416),o),u(l(874),o)},416:(s,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.visit=void 0,o.visit=function(l,a){var u=function(m,d,b,g,_){var p,v=a[m.type],c=(function(w,T,L,P,C){return{node:w,parent:T,parentPath:L,key:P,index:C,skip:function(){this.skipped=!0},remove:function(){this.removed=!0},replaceWith:function(I){this.replaced=I},findParent:function(I){return L&&(I(L)?L:L.findParent(I))}}})(m,d,b,g,_),x=d;if(v?.enter){if(v.enter(c),c.removed){if(!g||!d)throw new Error("Asked to remove ".concat(m," but no parent key was present in ").concat(d));return typeof _=="number"?x[g].splice(_,1):x[g]=null,c}if(c.replaced){if(!g||!d)throw new Error("Asked to remove ".concat(m," but no parent key was present in ").concat(d));typeof _=="number"?x[g].splice(_,1,c.replaced):x[g]=c.replaced}if(c.skipped)return c}Object.entries(m).filter((function(w){return w[0],(function(T){return(function(L){return!!L?.type})(T)||Array.isArray(T)})(w[1])})).forEach((function(w){var T=w[0],L=w[1];if(Array.isArray(L))for(var P=0,C=0;P-C<L.length;P++){var I=L[P-C],F=u(I,m,c,T,P-C);F?.removed&&(C+=1)}else u(L,m,c,T)})),(p=v?.exit)===null||p===void 0||p.call(v,c)};u(l)}},851:(s,o,l)=>{Object.defineProperty(o,"__esModule",{value:!0});var a=(0,l(83).makeGenerator)({program:function(u){return a(u.program)+a(u.wsEnd)},segment:function(u){return a(u.blocks)},text:function(u){return a(u.text)},literal:function(u){return a(u.wsStart)+a(u.literal)+a(u.wsEnd)},identifier:function(u){return a(u.identifier)+a(u.wsEnd)},binary:function(u){return a(u.left)+a(u.operator)+a(u.right)},group:function(u){return a(u.lp)+a(u.expression)+a(u.rp)},unary:function(u){return a(u.operator)+a(u.expression)},unary_defined:function(u){return a(u.operator)+a(u.lp)+a(u.identifier)+a(u.rp)},int_constant:function(u){return a(u.token)+a(u.wsEnd)},elseif:function(u){return a(u.token)+a(u.expression)+a(u.wsEnd)+a(u.body)},if:function(u){return a(u.token)+a(u.expression)+a(u.wsEnd)+a(u.body)},ifdef:function(u){return a(u.token)+a(u.identifier)+a(u.wsEnd)},ifndef:function(u){return a(u.token)+a(u.identifier)+a(u.wsEnd)},else:function(u){return a(u.token)+a(u.body)+a(u.wsEnd)},error:function(u){return a(u.error)+a(u.message)+a(u.wsEnd)},undef:function(u){return a(u.undef)+a(u.identifier)+a(u.wsEnd)},define:function(u){return a(u.wsStart)+a(u.define)+a(u.identifier)+a(u.body)+a(u.wsEnd)},define_arguments:function(u){return a(u.wsStart)+a(u.define)+a(u.identifier)+a(u.lp)+a(u.args)+a(u.rp)+a(u.body)+a(u.wsEnd)},conditional:function(u){return a(u.wsStart)+a(u.ifPart)+a(u.elseIfParts)+a(u.elsePart)+a(u.endif)+a(u.wsEnd)},version:function(u){return a(u.version)+a(u.value)+a(u.profile)+a(u.wsEnd)},pragma:function(u){return a(u.pragma)+a(u.body)+a(u.wsEnd)},line:function(u){return a(u.line)+a(u.value)+a(u.wsEnd)},extension:function(u){return a(u.extension)+a(u.name)+a(u.colon)+a(u.behavior)+a(u.wsEnd)}});o.default=a},29:function(s,o,l){var a=this&&this.__importDefault||function(g){return g&&g.__esModule?g:{default:g}};Object.defineProperty(o,"__esModule",{value:!0}),o.parser=o.preprocess=o.generate=o.preprocessComments=o.preprocessAst=void 0;var u=a(l(851));o.generate=u.default;var m=l(168);Object.defineProperty(o,"preprocessAst",{enumerable:!0,get:function(){return m.preprocessAst}}),Object.defineProperty(o,"preprocessComments",{enumerable:!0,get:function(){return m.preprocessComments}});var d=a(l(180));o.parser=d.default;var b=function(g,_){return(0,u.default)((0,m.preprocessAst)(d.default.parse(_.preserveComments?g:(0,m.preprocessComments)(g)),_))};o.preprocess=b,o.default=b},180:s=>{function o(a,u,m,d){var b=Error.call(this,a);return Object.setPrototypeOf&&Object.setPrototypeOf(b,o.prototype),b.expected=u,b.found=m,b.location=d,b.name="SyntaxError",b}function l(a,u,m){return m=m||" ",a.length>u?a:(u-=a.length,a+(m+=m.repeat(u)).slice(0,u))}(function(a,u){function m(){this.constructor=a}m.prototype=u.prototype,a.prototype=new m})(o,Error),o.prototype.format=function(a){var u="Error: "+this.message;if(this.location){var m,d=null;for(m=0;m<a.length;m++)if(a[m].source===this.location.source){d=a[m].text.split(/\r\n|\n|\r/g);break}var b=this.location.start,g=this.location.source+":"+b.line+":"+b.column;if(d){var _=this.location.end,p=l("",b.line.toString().length),v=d[b.line-1],c=b.line===_.line?_.column:v.length+1;u+=`
 --> `+g+`
`+p+` |
`+b.line+" | "+v+`
`+p+" | "+l("",b.column-1)+l("",c-b.column,"^")}else u+=`
 at `+g}return u},o.buildMessage=function(a,u){var m={literal:function(p){return'"'+b(p.text)+'"'},class:function(p){var v=p.parts.map((function(c){return Array.isArray(c)?g(c[0])+"-"+g(c[1]):g(c)}));return"["+(p.inverted?"^":"")+v+"]"},any:function(){return"any character"},end:function(){return"end of input"},other:function(p){return p.description}};function d(p){return p.charCodeAt(0).toString(16).toUpperCase()}function b(p){return p.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(v){return"\\x0"+d(v)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(v){return"\\x"+d(v)}))}function g(p){return p.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(v){return"\\x0"+d(v)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(v){return"\\x"+d(v)}))}function _(p){return m[p.type](p)}return"Expected "+(function(p){var v,c,x=p.map(_);if(x.sort(),x.length>0){for(v=1,c=1;v<x.length;v++)x[v-1]!==x[v]&&(x[c]=x[v],c++);x.length=c}switch(x.length){case 1:return x[0];case 2:return x[0]+" or "+x[1];default:return x.slice(0,-1).join(", ")+", or "+x[x.length-1]}})(a)+" but "+(function(p){return p?'"'+b(p)+'"':"end of input"})(u)+" found."},s.exports={SyntaxError:o,parse:function(a,u){var m,d={},b=(u=u!==void 0?u:{}).grammarSource,g={start:gs},_=gs,p="#define",v="#line",c="#undef",x="#error",w="#pragma",T="defined",L="#ifdef",P="#ifndef",C="#elif",I="#else",F="#endif",R="#version",D="#extension",G="*/",j=/^[A-Za-z_]/,k=/^[A-Za-z_0-9]/,V=/^[uU]/,H=/^[1-9]/,te=/^[0-7]/,ne=/^[xX]/,he=/^[0-9a-fA-F]/,ie=/^[0-9]/,ce=/^[\n]/,Se=/^[^\n]/,Ee=/^[ \t]/,me=wn("<<",!1),le=wn(">>",!1),we=wn("<=",!1),Re=wn(">=",!1),Fe=wn("==",!1),qe=wn("!=",!1),ot=wn("&&",!1),dn=wn("||",!1),mn=wn("(",!1),pn=wn(")",!1),Ae=wn(",",!1),Bt=wn("!",!1),Tt=wn("-",!1),zt=wn("~",!1),At=wn("+",!1),yn=wn("*",!1),nt=wn("/",!1),Nt=wn("%",!1),en=wn("<",!1),_e=wn(">",!1),ue=wn("|",!1),ze=wn("^",!1),rt=wn("&",!1),pt=wn(":",!1),ht=wn("#define",!1),Yt=wn("#line",!1),Qt=wn("#undef",!1),Cn=wn("#error",!1),An=wn("#pragma",!1),Pt=wn("defined",!1),on=wn("#if",!1),Pn=wn("#ifdef",!1),Ge=wn("#ifndef",!1),lt=wn("#elif",!1),Xt=wn("#else",!1),Xe=wn("#endif",!1),mt=wn("#version",!1),$t=wn("#extension",!1),gn=qn([["A","Z"],["a","z"],"_"],!1,!1),sn=qn([["A","Z"],["a","z"],"_",["0","9"]],!1,!1),Ut=yi("number"),_n=qn(["u","U"],!1,!1),Dn=qn([["1","9"]],!1,!1),Ai=wn("0",!1),Ri=qn([["0","7"]],!1,!1),Ar=qn(["x","X"],!1,!1),rr=qn([["0","9"],["a","f"],["A","F"]],!1,!1),dr=qn([["0","9"]],!1,!1),Pr=yi("control line"),gr=qn([`
`],!1,!1),ms=yi("token string"),zs=qn([`
`],!0,!1),Ds=yi("text"),gi=wn("#",!1),ls=yi("if"),nr=yi("primary expression"),ge=yi("unary expression"),Te=yi("multiplicative expression"),Ye=yi("additive expression"),vt=yi("shift expression"),bt=yi("relational expression"),St=yi("equality expression"),an=yi("and expression"),Wt=yi("exclusive or expression"),fe=yi("inclusive or expression"),Be=yi("logical and expression"),Ve=yi("logical or expression"),je=yi("constant expression"),et=yi("whitespace or comment"),ft=wn("//",!1),Et=wn("/*",!1),Gt=wn("*/",!1),Jt={type:"any"},Nn=yi("whitespace"),Rn=qn([" ","	"],!1,!1),hn=function(ve,xe){return Ie("literal",{literal:ve,wsEnd:xe})},Un=function(ve,xe,$e){return Ie("literal",{literal:xe,wsStart:ve,wsEnd:$e})},Yn=function(ve){return Ie("text",{text:ve.join("")})},Ui=function(ve,xe,$e,Pe,Ue){return Ie("elseif",{token:xe,expression:$e,wsEnd:Pe,body:Ue})},En=function(ve,xe){return Vt(ve,xe)},ri=function(ve,xe,$e){return tt(xe,$e)},K=0,$i=[{line:1,column:1}],ni=0,ci=[],ct=0,Je={};if("startRule"in u){if(!(u.startRule in g))throw new Error(`Can't start parsing from rule "`+u.startRule+'".');_=g[u.startRule]}function wn(ve,xe){return{type:"literal",text:ve,ignoreCase:xe}}function qn(ve,xe,$e){return{type:"class",parts:ve,inverted:xe,ignoreCase:$e}}function yi(ve){return{type:"other",description:ve}}function $n(ve){var xe,$e=$i[ve];if($e)return $e;for(xe=ve-1;!$i[xe];)xe--;for($e={line:($e=$i[xe]).line,column:$e.column};xe<ve;)a.charCodeAt(xe)===10?($e.line++,$e.column=1):$e.column++,xe++;return $i[ve]=$e,$e}function ji(ve,xe){var $e=$n(ve),Pe=$n(xe);return{source:b,start:{offset:ve,line:$e.line,column:$e.column},end:{offset:xe,line:Pe.line,column:Pe.column}}}function Ht(ve){K<ni||(K>ni&&(ni=K,ci=[]),ci.push(ve))}function gs(){var ve,xe=74*K+0,$e=Je[xe];return $e?(K=$e.nextPos,$e.result):(ve=(function(){var Pe,Ue,qt,kt=74*K+1,Zt=Je[kt];return Zt?(K=Zt.nextPos,Zt.result):(Pe=K,(Ue=co())!==d?(qt=re(),Pe=Ie("program",{program:Ue.blocks,wsEnd:qt})):(K=Pe,Pe=d),Je[kt]={nextPos:K,result:Pe},Pe)})(),Je[xe]={nextPos:K,result:ve},ve)}function $s(){var ve,xe,$e,Pe=74*K+3,Ue=Je[Pe];return Ue?(K=Ue.nextPos,Ue.result):(ve=K,a.substr(K,2)==="<<"?(xe="<<",K+=2):(xe=d,ct===0&&Ht(me)),xe!==d?($e=re(),ve=hn(xe,$e)):(K=ve,ve=d),Je[Pe]={nextPos:K,result:ve},ve)}function ao(){var ve,xe,$e,Pe=74*K+4,Ue=Je[Pe];return Ue?(K=Ue.nextPos,Ue.result):(ve=K,a.substr(K,2)===">>"?(xe=">>",K+=2):(xe=d,ct===0&&Ht(le)),xe!==d?($e=re(),ve=hn(xe,$e)):(K=ve,ve=d),Je[Pe]={nextPos:K,result:ve},ve)}function Dr(){var ve,xe,$e,Pe=74*K+5,Ue=Je[Pe];return Ue?(K=Ue.nextPos,Ue.result):(ve=K,a.substr(K,2)==="<="?(xe="<=",K+=2):(xe=d,ct===0&&Ht(we)),xe!==d?($e=re(),ve=hn(xe,$e)):(K=ve,ve=d),Je[Pe]={nextPos:K,result:ve},ve)}function Zs(){var ve,xe,$e,Pe=74*K+6,Ue=Je[Pe];return Ue?(K=Ue.nextPos,Ue.result):(ve=K,a.substr(K,2)===">="?(xe=">=",K+=2):(xe=d,ct===0&&Ht(Re)),xe!==d?($e=re(),ve=hn(xe,$e)):(K=ve,ve=d),Je[Pe]={nextPos:K,result:ve},ve)}function jo(){var ve,xe,$e,Pe=74*K+7,Ue=Je[Pe];return Ue?(K=Ue.nextPos,Ue.result):(ve=K,a.substr(K,2)==="=="?(xe="==",K+=2):(xe=d,ct===0&&Ht(Fe)),xe!==d?($e=re(),ve=hn(xe,$e)):(K=ve,ve=d),Je[Pe]={nextPos:K,result:ve},ve)}function Ua(){var ve,xe,$e,Pe=74*K+8,Ue=Je[Pe];return Ue?(K=Ue.nextPos,Ue.result):(ve=K,a.substr(K,2)==="!="?(xe="!=",K+=2):(xe=d,ct===0&&Ht(qe)),xe!==d?($e=re(),ve=hn(xe,$e)):(K=ve,ve=d),Je[Pe]={nextPos:K,result:ve},ve)}function Qs(){var ve,xe,$e,Pe=74*K+9,Ue=Je[Pe];return Ue?(K=Ue.nextPos,Ue.result):(ve=K,a.substr(K,2)==="&&"?(xe="&&",K+=2):(xe=d,ct===0&&Ht(ot)),xe!==d?($e=re(),ve=hn(xe,$e)):(K=ve,ve=d),Je[Pe]={nextPos:K,result:ve},ve)}function Qa(){var ve,xe,$e,Pe=74*K+10,Ue=Je[Pe];return Ue?(K=Ue.nextPos,Ue.result):(ve=K,a.substr(K,2)==="||"?(xe="||",K+=2):(xe=d,ct===0&&Ht(dn)),xe!==d?($e=re(),ve=hn(xe,$e)):(K=ve,ve=d),Je[Pe]={nextPos:K,result:ve},ve)}function Js(){var ve,xe,$e,Pe=74*K+11,Ue=Je[Pe];return Ue?(K=Ue.nextPos,Ue.result):(ve=K,a.charCodeAt(K)===40?(xe="(",K++):(xe=d,ct===0&&Ht(mn)),xe!==d?($e=re(),ve=hn(xe,$e)):(K=ve,ve=d),Je[Pe]={nextPos:K,result:ve},ve)}function lo(){var ve,xe,$e,Pe=74*K+12,Ue=Je[Pe];return Ue?(K=Ue.nextPos,Ue.result):(ve=K,a.charCodeAt(K)===41?(xe=")",K++):(xe=d,ct===0&&Ht(pn)),xe!==d?($e=re(),ve=hn(xe,$e)):(K=ve,ve=d),Je[Pe]={nextPos:K,result:ve},ve)}function wa(){var ve,xe,$e,Pe=74*K+13,Ue=Je[Pe];return Ue?(K=Ue.nextPos,Ue.result):(ve=K,a.charCodeAt(K)===44?(xe=",",K++):(xe=d,ct===0&&Ht(Ae)),xe!==d?($e=re(),ve=hn(xe,$e)):(K=ve,ve=d),Je[Pe]={nextPos:K,result:ve},ve)}function ca(){var ve,xe,$e,Pe=74*K+15,Ue=Je[Pe];return Ue?(K=Ue.nextPos,Ue.result):(ve=K,a.charCodeAt(K)===45?(xe="-",K++):(xe=d,ct===0&&Ht(Tt)),xe!==d?($e=re(),ve=hn(xe,$e)):(K=ve,ve=d),Je[Pe]={nextPos:K,result:ve},ve)}function Ca(){var ve,xe,$e,Pe=74*K+17,Ue=Je[Pe];return Ue?(K=Ue.nextPos,Ue.result):(ve=K,a.charCodeAt(K)===43?(xe="+",K++):(xe=d,ct===0&&Ht(At)),xe!==d?($e=re(),ve=hn(xe,$e)):(K=ve,ve=d),Je[Pe]={nextPos:K,result:ve},ve)}function ka(){var ve,xe,$e,Pe=74*K+18,Ue=Je[Pe];return Ue?(K=Ue.nextPos,Ue.result):(ve=K,a.charCodeAt(K)===42?(xe="*",K++):(xe=d,ct===0&&Ht(yn)),xe!==d?($e=re(),ve=hn(xe,$e)):(K=ve,ve=d),Je[Pe]={nextPos:K,result:ve},ve)}function ua(){var ve,xe,$e,Pe=74*K+19,Ue=Je[Pe];return Ue?(K=Ue.nextPos,Ue.result):(ve=K,a.charCodeAt(K)===47?(xe="/",K++):(xe=d,ct===0&&Ht(nt)),xe!==d?($e=re(),ve=hn(xe,$e)):(K=ve,ve=d),Je[Pe]={nextPos:K,result:ve},ve)}function Po(){var ve,xe,$e,Pe=74*K+20,Ue=Je[Pe];return Ue?(K=Ue.nextPos,Ue.result):(ve=K,a.charCodeAt(K)===37?(xe="%",K++):(xe=d,ct===0&&Ht(Nt)),xe!==d?($e=re(),ve=hn(xe,$e)):(K=ve,ve=d),Je[Pe]={nextPos:K,result:ve},ve)}function Ja(){var ve,xe,$e,Pe=74*K+21,Ue=Je[Pe];return Ue?(K=Ue.nextPos,Ue.result):(ve=K,a.charCodeAt(K)===60?(xe="<",K++):(xe=d,ct===0&&Ht(en)),xe!==d?($e=re(),ve=hn(xe,$e)):(K=ve,ve=d),Je[Pe]={nextPos:K,result:ve},ve)}function No(){var ve,xe,$e,Pe=74*K+22,Ue=Je[Pe];return Ue?(K=Ue.nextPos,Ue.result):(ve=K,a.charCodeAt(K)===62?(xe=">",K++):(xe=d,ct===0&&Ht(_e)),xe!==d?($e=re(),ve=hn(xe,$e)):(K=ve,ve=d),Je[Pe]={nextPos:K,result:ve},ve)}function ha(){var ve,xe,$e,Pe=74*K+23,Ue=Je[Pe];return Ue?(K=Ue.nextPos,Ue.result):(ve=K,a.charCodeAt(K)===124?(xe="|",K++):(xe=d,ct===0&&Ht(ue)),xe!==d?($e=re(),ve=hn(xe,$e)):(K=ve,ve=d),Je[Pe]={nextPos:K,result:ve},ve)}function Bl(){var ve,xe,$e,Pe=74*K+24,Ue=Je[Pe];return Ue?(K=Ue.nextPos,Ue.result):(ve=K,a.charCodeAt(K)===94?(xe="^",K++):(xe=d,ct===0&&Ht(ze)),xe!==d?($e=re(),ve=hn(xe,$e)):(K=ve,ve=d),Je[Pe]={nextPos:K,result:ve},ve)}function el(){var ve,xe,$e,Pe=74*K+25,Ue=Je[Pe];return Ue?(K=Ue.nextPos,Ue.result):(ve=K,a.charCodeAt(K)===38?(xe="&",K++):(xe=d,ct===0&&Ht(rt)),xe!==d?($e=re(),ve=hn(xe,$e)):(K=ve,ve=d),Je[Pe]={nextPos:K,result:ve},ve)}function tl(){var ve,xe,$e,Pe,Ue=74*K+27,qt=Je[Ue];return qt?(K=qt.nextPos,qt.result):(ve=K,xe=re(),a.substr(K,7)===p?($e=p,K+=7):($e=d,ct===0&&Ht(ht)),$e!==d?(Pe=re(),ve=Un(xe,$e,Pe)):(K=ve,ve=d),Je[Ue]={nextPos:K,result:ve},ve)}function Io(){var ve,xe,$e,Pe,Ue=74*K+37,qt=Je[Ue];return qt?(K=qt.nextPos,qt.result):(ve=K,xe=re(),a.substr(K,5)===C?($e=C,K+=5):($e=d,ct===0&&Ht(lt)),$e!==d?(Pe=re(),ve=Un(xe,$e,Pe)):(K=ve,ve=d),Je[Ue]={nextPos:K,result:ve},ve)}function Fs(){var ve,xe,$e,Pe,Ue,qt,kt=74*K+42,Zt=Je[kt];if(Zt)return K=Zt.nextPos,Zt.result;if(ve=K,xe=K,$e=K,j.test(a.charAt(K))?(Pe=a.charAt(K),K++):(Pe=d,ct===0&&Ht(gn)),Pe!==d){for(Ue=[],k.test(a.charAt(K))?(qt=a.charAt(K),K++):(qt=d,ct===0&&Ht(sn));qt!==d;)Ue.push(qt),k.test(a.charAt(K))?(qt=a.charAt(K),K++):(qt=d,ct===0&&Ht(sn));$e=Pe=[Pe,Ue]}else K=$e,$e=d;return(xe=$e!==d?a.substring(xe,K):$e)!==d?($e=re(),ve=Ie("identifier",{identifier:xe,wsEnd:$e})):(K=ve,ve=d),Je[kt]={nextPos:K,result:ve},ve}function jr(){var ve,xe,$e,Pe,Ue=74*K+44,qt=Je[Ue];return qt?(K=qt.nextPos,qt.result):(ct++,ve=K,xe=K,$e=(function(){var kt,Zt,vn,Mn,ui,qi=74*K+46,ai=Je[qi];if(ai)return K=ai.nextPos,ai.result;if(kt=K,Zt=K,H.test(a.charAt(K))?(vn=a.charAt(K),K++):(vn=d,ct===0&&Ht(Dn)),vn!==d){for(Mn=[],ui=Rr();ui!==d;)Mn.push(ui),ui=Rr();Zt=vn=[vn,Mn]}else K=Zt,Zt=d;return kt=Zt!==d?a.substring(kt,K):Zt,Je[qi]={nextPos:K,result:kt},kt})(),$e!==d?((Pe=vs())===d&&(Pe=null),xe=$e=[$e,Pe]):(K=xe,xe=d),(ve=xe!==d?a.substring(ve,K):xe)===d&&(ve=K,xe=K,$e=(function(){var kt,Zt,vn,Mn,ui=74*K+47,qi=Je[ui];if(qi)return K=qi.nextPos,qi.result;if(kt=K,a.charCodeAt(K)===48?(Zt="0",K++):(Zt=d,ct===0&&Ht(Ai)),Zt!==d){for(vn=[],te.test(a.charAt(K))?(Mn=a.charAt(K),K++):(Mn=d,ct===0&&Ht(Ri));Mn!==d;)vn.push(Mn),te.test(a.charAt(K))?(Mn=a.charAt(K),K++):(Mn=d,ct===0&&Ht(Ri));kt=Zt=[Zt,vn]}else K=kt,kt=d;return Je[ui]={nextPos:K,result:kt},kt})(),$e!==d?((Pe=vs())===d&&(Pe=null),xe=$e=[$e,Pe]):(K=xe,xe=d),(ve=xe!==d?a.substring(ve,K):xe)===d&&(ve=K,xe=K,$e=(function(){var kt,Zt,vn,Mn,ui,qi=74*K+48,ai=Je[qi];if(ai)return K=ai.nextPos,ai.result;if(kt=K,a.charCodeAt(K)===48?(Zt="0",K++):(Zt=d,ct===0&&Ht(Ai)),Zt!==d)if(ne.test(a.charAt(K))?(vn=a.charAt(K),K++):(vn=d,ct===0&&Ht(Ar)),vn!==d){for(Mn=[],he.test(a.charAt(K))?(ui=a.charAt(K),K++):(ui=d,ct===0&&Ht(rr));ui!==d;)Mn.push(ui),he.test(a.charAt(K))?(ui=a.charAt(K),K++):(ui=d,ct===0&&Ht(rr));kt=Zt=[Zt,vn,Mn]}else K=kt,kt=d;else K=kt,kt=d;return Je[qi]={nextPos:K,result:kt},kt})(),$e!==d?((Pe=vs())===d&&(Pe=null),xe=$e=[$e,Pe]):(K=xe,xe=d),ve=xe!==d?a.substring(ve,K):xe)),ct--,ve===d&&(xe=d,ct===0&&Ht(Ut)),Je[Ue]={nextPos:K,result:ve},ve)}function vs(){var ve,xe=74*K+45,$e=Je[xe];return $e?(K=$e.nextPos,$e.result):(V.test(a.charAt(K))?(ve=a.charAt(K),K++):(ve=d,ct===0&&Ht(_n)),Je[xe]={nextPos:K,result:ve},ve)}function Rr(){var ve,xe=74*K+49,$e=Je[xe];return $e?(K=$e.nextPos,$e.result):(ie.test(a.charAt(K))?(ve=a.charAt(K),K++):(ve=d,ct===0&&Ht(dr)),Je[xe]={nextPos:K,result:ve},ve)}function co(){var ve,xe,$e,Pe,Ue,qt=74*K+50,kt=Je[qt];if(kt)return K=kt.nextPos,kt.result;if(ve=K,xe=[],($e=Xo())===d){if($e=K,Pe=[],(Ue=eo())!==d)for(;Ue!==d;)Pe.push(Ue),Ue=eo();else Pe=d;Pe!==d&&(Pe=Yn(Pe)),$e=Pe}if($e!==d){for(;$e!==d;)if(xe.push($e),($e=Xo())===d){if($e=K,Pe=[],(Ue=eo())!==d)for(;Ue!==d;)Pe.push(Ue),Ue=eo();else Pe=d;Pe!==d&&(Pe=Yn(Pe)),$e=Pe}}else xe=d;return xe!==d&&(xe=Ie("segment",{blocks:xe})),ve=xe,Je[qt]={nextPos:K,result:ve},ve}function Xo(){var ve,xe,$e,Pe,Ue,qt,kt,Zt,vn,Mn,ui,qi,ai,Er=74*K+51,Ki=Je[Er];if(Ki)return K=Ki.nextPos,Ki.result;if(ct++,ve=(function(){var bn,hi,Qn,Kn,vi,fi,to,da,xo,Mi,fa,Do=74*K+54,qo=Je[Do];if(qo)return K=qo.nextPos,qo.result;if(bn=K,hi=K,Qn=(function(){var Ji,cs,Hr,Gr=74*K+55,Cs=Je[Gr];return Cs?(K=Cs.nextPos,Cs.result):(ct++,Ji=K,cs=(function(){var ii,Yo,Hs,pa,uo=74*K+35,ys=Je[uo];return ys?(K=ys.nextPos,ys.result):(ii=K,Yo=re(),a.substr(K,6)===L?(Hs=L,K+=6):(Hs=d,ct===0&&Ht(Pn)),Hs!==d?(pa=re(),ii=Un(Yo,Hs,pa)):(K=ii,ii=d),Je[uo]={nextPos:K,result:ii},ii)})(),cs!==d&&(Hr=Fs())!==d?Ji=Ie("ifdef",{token:cs,identifier:Hr}):(K=Ji,Ji=d),Ji===d&&(Ji=K,cs=(function(){var ii,Yo,Hs,pa,uo=74*K+36,ys=Je[uo];return ys?(K=ys.nextPos,ys.result):(ii=K,Yo=re(),a.substr(K,7)===P?(Hs=P,K+=7):(Hs=d,ct===0&&Ht(Ge)),Hs!==d?(pa=re(),ii=Un(Yo,Hs,pa)):(K=ii,ii=d),Je[uo]={nextPos:K,result:ii},ii)})(),cs!==d&&(Hr=Fs())!==d?Ji=Ie("ifndef",{token:cs,identifier:Hr}):(K=Ji,Ji=d),Ji===d&&(Ji=K,cs=(function(){var ii,Yo,Hs,pa,uo=74*K+34,ys=Je[uo];return ys?(K=ys.nextPos,ys.result):(ii=K,Yo=re(),a.substr(K,3)==="#if"?(Hs="#if",K+=3):(Hs=d,ct===0&&Ht(on)),Hs!==d?(pa=re(),ii=Un(Yo,Hs,pa)):(K=ii,ii=d),Je[uo]={nextPos:K,result:ii},ii)})(),cs!==d?((Hr=oe())===d&&(Hr=null),Ji=(function(ii,Yo){return Ie("if",{token:ii,expression:Yo})})(cs,Hr)):(K=Ji,Ji=d))),ct--,Ji===d&&(cs=d,ct===0&&Ht(ls)),Je[Gr]={nextPos:K,result:Ji},Ji)})(),Qn!==d?(ce.test(a.charAt(K))?(Kn=a.charAt(K),K++):(Kn=d,ct===0&&Ht(gr)),Kn!==d?((vi=co())===d&&(vi=null),xo=Qn,Mi=Kn,fa=vi,hi={...xo,body:fa,wsEnd:Mi}):(K=hi,hi=d)):(K=hi,hi=d),hi!==d){for(Qn=[],Kn=K,(vi=Io())!==d&&(fi=oe())!==d?(ce.test(a.charAt(K))?(to=a.charAt(K),K++):(to=d,ct===0&&Ht(gr)),to!==d?((da=co())===d&&(da=null),Kn=Ui(0,vi,fi,to,da)):(K=Kn,Kn=d)):(K=Kn,Kn=d);Kn!==d;)Qn.push(Kn),Kn=K,(vi=Io())!==d&&(fi=oe())!==d?(ce.test(a.charAt(K))?(to=a.charAt(K),K++):(to=d,ct===0&&Ht(gr)),to!==d?((da=co())===d&&(da=null),Kn=Ui(0,vi,fi,to,da)):(K=Kn,Kn=d)):(K=Kn,Kn=d);Kn=K,vi=(function(){var Ji,cs,Hr,Gr,Cs=74*K+38,ii=Je[Cs];return ii?(K=ii.nextPos,ii.result):(Ji=K,cs=re(),a.substr(K,5)===I?(Hr=I,K+=5):(Hr=d,ct===0&&Ht(Xt)),Hr!==d?(Gr=re(),Ji=Un(cs,Hr,Gr)):(K=Ji,Ji=d),Je[Cs]={nextPos:K,result:Ji},Ji)})(),vi!==d?(ce.test(a.charAt(K))?(fi=a.charAt(K),K++):(fi=d,ct===0&&Ht(gr)),fi!==d?((to=co())===d&&(to=null),Kn=(function(Ji,cs,Hr,Gr,Cs){return Ie("else",{token:Hr,wsEnd:Gr,body:Cs})})(0,0,vi,fi,to)):(K=Kn,Kn=d)):(K=Kn,Kn=d),Kn===d&&(Kn=null),vi=(function(){var Ji,cs,Hr,Gr,Cs=74*K+39,ii=Je[Cs];return ii?(K=ii.nextPos,ii.result):(Ji=K,cs=re(),a.substr(K,6)===F?(Hr=F,K+=6):(Hr=d,ct===0&&Ht(Xe)),Hr!==d?(Gr=re(),Ji=Un(cs,Hr,Gr)):(K=Ji,Ji=d),Je[Cs]={nextPos:K,result:Ji},Ji)})(),vi!==d?(ce.test(a.charAt(K))?(fi=a.charAt(K),K++):(fi=d,ct===0&&Ht(gr)),fi===d&&(fi=null),bn=(function(Ji,cs,Hr,Gr,Cs){return Ie("conditional",{ifPart:Ji,elseIfParts:cs,elsePart:Hr,endif:Gr,wsEnd:Cs})})(hi,Qn,Kn,vi,fi)):(K=bn,bn=d)}else K=bn,bn=d;return Je[Do]={nextPos:K,result:bn},bn})(),ve===d){if(ve=K,xe=K,($e=tl())!==d)if((Pe=(function(){var bn,hi,Qn,Kn,vi,fi,to=74*K+43,da=Je[to];if(da)return K=da.nextPos,da.result;if(bn=K,hi=K,Qn=K,j.test(a.charAt(K))?(Kn=a.charAt(K),K++):(Kn=d,ct===0&&Ht(gn)),Kn!==d){for(vi=[],k.test(a.charAt(K))?(fi=a.charAt(K),K++):(fi=d,ct===0&&Ht(sn));fi!==d;)vi.push(fi),k.test(a.charAt(K))?(fi=a.charAt(K),K++):(fi=d,ct===0&&Ht(sn));Qn=Kn=[Kn,vi]}else K=Qn,Qn=d;return(hi=Qn!==d?a.substring(hi,K):Qn)!==d&&(hi=Ie("identifier",{identifier:hi})),bn=hi,Je[to]={nextPos:K,result:bn},bn})())!==d)if((Ue=Js())!==d){if(qt=K,(kt=Fs())!==d){for(Zt=[],vn=K,(Mn=wa())!==d&&(ui=Fs())!==d?vn=Mn=[Mn,ui]:(K=vn,vn=d);vn!==d;)Zt.push(vn),vn=K,(Mn=wa())!==d&&(ui=Fs())!==d?vn=Mn=[Mn,ui]:(K=vn,vn=d);qt=[kt,...Zt.flat()]}else K=qt,qt=d;qt===d&&(qt=null),(kt=lo())!==d?((Zt=Ta())===d&&(Zt=null),xe=(function(bn,hi,Qn,Kn,vi,fi){return Ie("define_arguments",{define:bn,identifier:hi,lp:Qn,args:Kn||[],rp:vi,body:fi})})($e,Pe,Ue,qt,kt,Zt)):(K=xe,xe=d)}else K=xe,xe=d;else K=xe,xe=d;else K=xe,xe=d;if(xe===d&&(xe=K,($e=tl())!==d&&(Pe=Fs())!==d?((Ue=Ta())===d&&(Ue=null),xe=(function(bn,hi,Qn){return Ie("define",{define:bn,identifier:hi,body:Qn})})($e,Pe,Ue)):(K=xe,xe=d),xe===d)){if(xe=K,$e=(function(){var bn,hi,Qn,Kn,vi=74*K+29,fi=Je[vi];return fi?(K=fi.nextPos,fi.result):(bn=K,hi=re(),a.substr(K,5)===v?(Qn=v,K+=5):(Qn=d,ct===0&&Ht(Yt)),Qn!==d?(Kn=re(),bn=Un(hi,Qn,Kn)):(K=bn,bn=d),Je[vi]={nextPos:K,result:bn},bn)})(),$e!==d){if(Pe=K,Ue=[],(qt=Rr())!==d)for(;qt!==d;)Ue.push(qt),qt=Rr();else Ue=d;(Pe=Ue!==d?a.substring(Pe,K):Ue)!==d?xe=Ie("line",{line:$e,value:Pe}):(K=xe,xe=d)}else K=xe,xe=d;xe===d&&(xe=K,$e=(function(){var bn,hi,Qn,Kn,vi=74*K+30,fi=Je[vi];return fi?(K=fi.nextPos,fi.result):(bn=K,hi=re(),a.substr(K,6)===c?(Qn=c,K+=6):(Qn=d,ct===0&&Ht(Qt)),Qn!==d?(Kn=re(),bn=Un(hi,Qn,Kn)):(K=bn,bn=d),Je[vi]={nextPos:K,result:bn},bn)})(),$e!==d&&(Pe=Fs())!==d?xe=Ie("undef",{undef:$e,identifier:Pe}):(K=xe,xe=d),xe===d&&(xe=K,$e=(function(){var bn,hi,Qn,Kn,vi=74*K+31,fi=Je[vi];return fi?(K=fi.nextPos,fi.result):(bn=K,hi=re(),a.substr(K,6)===x?(Qn=x,K+=6):(Qn=d,ct===0&&Ht(Cn)),Qn!==d?(Kn=re(),bn=Un(hi,Qn,Kn)):(K=bn,bn=d),Je[vi]={nextPos:K,result:bn},bn)})(),$e!==d&&(Pe=Ta())!==d?xe=Ie("error",{error:$e,message:Pe}):(K=xe,xe=d),xe===d&&(xe=K,$e=(function(){var bn,hi,Qn,Kn,vi=74*K+32,fi=Je[vi];return fi?(K=fi.nextPos,fi.result):(bn=K,hi=re(),a.substr(K,7)===w?(Qn=w,K+=7):(Qn=d,ct===0&&Ht(An)),Qn!==d?(Kn=re(),bn=Un(hi,Qn,Kn)):(K=bn,bn=d),Je[vi]={nextPos:K,result:bn},bn)})(),$e!==d&&(Pe=Ta())!==d?xe=Ie("pragma",{pragma:$e,body:Pe}):(K=xe,xe=d),xe===d&&(xe=K,$e=(function(){var bn,hi,Qn,Kn,vi=74*K+40,fi=Je[vi];return fi?(K=fi.nextPos,fi.result):(bn=K,hi=re(),a.substr(K,8)===R?(Qn=R,K+=8):(Qn=d,ct===0&&Ht(mt)),Qn!==d?(Kn=re(),bn=Un(hi,Qn,Kn)):(K=bn,bn=d),Je[vi]={nextPos:K,result:bn},bn)})(),$e!==d&&(Pe=jr())!==d?((Ue=Ta())===d&&(Ue=null),xe=Ie("version",{version:$e,value:Pe,profile:Ue})):(K=xe,xe=d),xe===d&&(xe=K,$e=(function(){var bn,hi,Qn,Kn,vi=74*K+41,fi=Je[vi];return fi?(K=fi.nextPos,fi.result):(bn=K,hi=re(),a.substr(K,10)===D?(Qn=D,K+=10):(Qn=d,ct===0&&Ht($t)),Qn!==d?(Kn=re(),bn=Un(hi,Qn,Kn)):(K=bn,bn=d),Je[vi]={nextPos:K,result:bn},bn)})(),$e!==d&&(Pe=Fs())!==d?(Ue=(function(){var bn,hi,Qn,Kn=74*K+26,vi=Je[Kn];return vi?(K=vi.nextPos,vi.result):(bn=K,a.charCodeAt(K)===58?(hi=":",K++):(hi=d,ct===0&&Ht(pt)),hi!==d?(Qn=re(),bn=hn(hi,Qn)):(K=bn,bn=d),Je[Kn]={nextPos:K,result:bn},bn)})(),Ue!==d&&(qt=Ta())!==d?xe=Ie("extension",{extension:$e,name:Pe,colon:Ue,behavior:qt}):(K=xe,xe=d)):(K=xe,xe=d))))))}xe!==d?(ce.test(a.charAt(K))?($e=a.charAt(K),K++):($e=d,ct===0&&Ht(gr)),$e===d&&($e=null),qi=xe,ai=$e,ve={...qi,wsEnd:ai}):(K=ve,ve=d)}return ct--,ve===d&&(xe=d,ct===0&&Ht(Pr)),Je[Er]={nextPos:K,result:ve},ve}function Ta(){var ve,xe,$e,Pe=74*K+52,Ue=Je[Pe];if(Ue)return K=Ue.nextPos,Ue.result;if(ct++,ve=K,xe=[],Se.test(a.charAt(K))?($e=a.charAt(K),K++):($e=d,ct===0&&Ht(zs)),$e!==d)for(;$e!==d;)xe.push($e),Se.test(a.charAt(K))?($e=a.charAt(K),K++):($e=d,ct===0&&Ht(zs));else xe=d;return ve=xe!==d?a.substring(ve,K):xe,ct--,ve===d&&(xe=d,ct===0&&Ht(ms)),Je[Pe]={nextPos:K,result:ve},ve}function eo(){var ve,xe,$e,Pe,Ue,qt,kt=74*K+53,Zt=Je[kt];if(Zt)return K=Zt.nextPos,Zt.result;if(ct++,ve=K,xe=K,$e=K,ct++,Pe=K,(Ue=He())===d&&(Ue=null),a.charCodeAt(K)===35?(qt="#",K++):(qt=d,ct===0&&Ht(gi)),qt!==d?Pe=Ue=[Ue,qt]:(K=Pe,Pe=d),ct--,Pe===d?$e=void 0:(K=$e,$e=d),$e!==d){if(Pe=[],Se.test(a.charAt(K))?(Ue=a.charAt(K),K++):(Ue=d,ct===0&&Ht(zs)),Ue!==d)for(;Ue!==d;)Pe.push(Ue),Se.test(a.charAt(K))?(Ue=a.charAt(K),K++):(Ue=d,ct===0&&Ht(zs));else Pe=d;Pe!==d?(ce.test(a.charAt(K))?(Ue=a.charAt(K),K++):(Ue=d,ct===0&&Ht(gr)),Ue===d&&(Ue=null),xe=$e=[$e,Pe,Ue]):(K=xe,xe=d)}else K=xe,xe=d;return xe===d&&(ce.test(a.charAt(K))?(xe=a.charAt(K),K++):(xe=d,ct===0&&Ht(gr))),ve=xe!==d?a.substring(ve,K):xe,ct--,ve===d&&(xe=d,ct===0&&Ht(Ds)),Je[kt]={nextPos:K,result:ve},ve}function xn(){var ve,xe,$e,Pe,Ue=74*K+56,qt=Je[Ue];return qt?(K=qt.nextPos,qt.result):(ct++,(ve=(function(){var kt,Zt,vn,Mn=74*K+2,ui=Je[Mn];return ui?(K=ui.nextPos,ui.result):(kt=K,(Zt=jr())!==d?(vn=re(),kt=Ie("int_constant",{token:Zt,wsEnd:vn})):(K=kt,kt=d),Je[Mn]={nextPos:K,result:kt},kt)})())===d&&(ve=K,(xe=Js())!==d&&($e=oe())!==d&&(Pe=lo())!==d?ve=Ie("group",{lp:xe,expression:$e,rp:Pe}):(K=ve,ve=d),ve===d&&(ve=Fs())),ct--,ve===d&&(xe=d,ct===0&&Ht(nr)),Je[Ue]={nextPos:K,result:ve},ve)}function A(){var ve,xe,$e,Pe,Ue,qt=74*K+57,kt=Je[qt];return kt?(K=kt.nextPos,kt.result):(ct++,ve=K,xe=(function(){var Zt,vn,Mn,ui,qi=74*K+33,ai=Je[qi];return ai?(K=ai.nextPos,ai.result):(Zt=K,vn=re(),a.substr(K,7)===T?(Mn=T,K+=7):(Mn=d,ct===0&&Ht(Pt)),Mn!==d?(ui=re(),Zt=Un(vn,Mn,ui)):(K=Zt,Zt=d),Je[qi]={nextPos:K,result:Zt},Zt)})(),xe!==d&&($e=Js())!==d&&(Pe=Fs())!==d&&(Ue=lo())!==d?ve=Ie("unary_defined",{operator:xe,lp:$e,identifier:Pe,rp:Ue}):(K=ve,ve=d),ve===d&&(ve=K,(xe=Ca())===d&&(xe=ca())===d&&(xe=(function(){var Zt,vn,Mn,ui=74*K+14,qi=Je[ui];return qi?(K=qi.nextPos,qi.result):(Zt=K,a.charCodeAt(K)===33?(vn="!",K++):(vn=d,ct===0&&Ht(Bt)),vn!==d?(Mn=re(),Zt=hn(vn,Mn)):(K=Zt,Zt=d),Je[ui]={nextPos:K,result:Zt},Zt)})(),xe===d&&(xe=(function(){var Zt,vn,Mn,ui=74*K+16,qi=Je[ui];return qi?(K=qi.nextPos,qi.result):(Zt=K,a.charCodeAt(K)===126?(vn="~",K++):(vn=d,ct===0&&Ht(zt)),vn!==d?(Mn=re(),Zt=hn(vn,Mn)):(K=Zt,Zt=d),Je[ui]={nextPos:K,result:Zt},Zt)})())),xe!==d&&($e=A())!==d?ve=Ie("unary",{operator:xe,expression:$e}):(K=ve,ve=d),ve===d&&(ve=xn())),ct--,ve===d&&(xe=d,ct===0&&Ht(ge)),Je[qt]={nextPos:K,result:ve},ve)}function B(){var ve,xe,$e,Pe,Ue,qt,kt=74*K+58,Zt=Je[kt];if(Zt)return K=Zt.nextPos,Zt.result;if(ct++,ve=K,(xe=A())!==d){for($e=[],Pe=K,(Ue=ka())===d&&(Ue=ua())===d&&(Ue=Po()),Ue!==d&&(qt=A())!==d?Pe=Ue=[Ue,qt]:(K=Pe,Pe=d);Pe!==d;)$e.push(Pe),Pe=K,(Ue=ka())===d&&(Ue=ua())===d&&(Ue=Po()),Ue!==d&&(qt=A())!==d?Pe=Ue=[Ue,qt]:(K=Pe,Pe=d);ve=En(xe,$e)}else K=ve,ve=d;return ct--,ve===d&&(xe=d,ct===0&&Ht(Te)),Je[kt]={nextPos:K,result:ve},ve}function J(){var ve,xe,$e,Pe,Ue,qt,kt=74*K+59,Zt=Je[kt];if(Zt)return K=Zt.nextPos,Zt.result;if(ct++,ve=K,(xe=B())!==d){for($e=[],Pe=K,(Ue=Ca())===d&&(Ue=ca()),Ue!==d&&(qt=B())!==d?Pe=Ue=[Ue,qt]:(K=Pe,Pe=d);Pe!==d;)$e.push(Pe),Pe=K,(Ue=Ca())===d&&(Ue=ca()),Ue!==d&&(qt=B())!==d?Pe=Ue=[Ue,qt]:(K=Pe,Pe=d);ve=En(xe,$e)}else K=ve,ve=d;return ct--,ve===d&&(xe=d,ct===0&&Ht(Ye)),Je[kt]={nextPos:K,result:ve},ve}function Z(){var ve,xe,$e,Pe,Ue,qt,kt=74*K+60,Zt=Je[kt];if(Zt)return K=Zt.nextPos,Zt.result;if(ct++,ve=K,(xe=J())!==d){for($e=[],Pe=K,(Ue=ao())===d&&(Ue=$s()),Ue!==d&&(qt=J())!==d?Pe=Ue=[Ue,qt]:(K=Pe,Pe=d);Pe!==d;)$e.push(Pe),Pe=K,(Ue=ao())===d&&(Ue=$s()),Ue!==d&&(qt=J())!==d?Pe=Ue=[Ue,qt]:(K=Pe,Pe=d);ve=En(xe,$e)}else K=ve,ve=d;return ct--,ve===d&&(xe=d,ct===0&&Ht(vt)),Je[kt]={nextPos:K,result:ve},ve}function be(){var ve,xe,$e,Pe,Ue,qt,kt=74*K+61,Zt=Je[kt];if(Zt)return K=Zt.nextPos,Zt.result;if(ct++,ve=K,(xe=Z())!==d){for($e=[],Pe=K,(Ue=Dr())===d&&(Ue=Zs())===d&&(Ue=Ja())===d&&(Ue=No()),Ue!==d&&(qt=Z())!==d?Pe=Ue=[Ue,qt]:(K=Pe,Pe=d);Pe!==d;)$e.push(Pe),Pe=K,(Ue=Dr())===d&&(Ue=Zs())===d&&(Ue=Ja())===d&&(Ue=No()),Ue!==d&&(qt=Z())!==d?Pe=Ue=[Ue,qt]:(K=Pe,Pe=d);ve=En(xe,$e)}else K=ve,ve=d;return ct--,ve===d&&(xe=d,ct===0&&Ht(bt)),Je[kt]={nextPos:K,result:ve},ve}function Ne(){var ve,xe,$e,Pe,Ue,qt,kt=74*K+62,Zt=Je[kt];if(Zt)return K=Zt.nextPos,Zt.result;if(ct++,ve=K,(xe=be())!==d){for($e=[],Pe=K,(Ue=jo())===d&&(Ue=Ua()),Ue!==d&&(qt=be())!==d?Pe=Ue=[Ue,qt]:(K=Pe,Pe=d);Pe!==d;)$e.push(Pe),Pe=K,(Ue=jo())===d&&(Ue=Ua()),Ue!==d&&(qt=be())!==d?Pe=Ue=[Ue,qt]:(K=Pe,Pe=d);ve=En(xe,$e)}else K=ve,ve=d;return ct--,ve===d&&(xe=d,ct===0&&Ht(St)),Je[kt]={nextPos:K,result:ve},ve}function O(){var ve,xe,$e,Pe,Ue,qt,kt=74*K+63,Zt=Je[kt];if(Zt)return K=Zt.nextPos,Zt.result;if(ct++,ve=K,(xe=Ne())!==d){for($e=[],Pe=K,(Ue=el())!==d&&(qt=Ne())!==d?Pe=Ue=[Ue,qt]:(K=Pe,Pe=d);Pe!==d;)$e.push(Pe),Pe=K,(Ue=el())!==d&&(qt=Ne())!==d?Pe=Ue=[Ue,qt]:(K=Pe,Pe=d);ve=En(xe,$e)}else K=ve,ve=d;return ct--,ve===d&&(xe=d,ct===0&&Ht(an)),Je[kt]={nextPos:K,result:ve},ve}function U(){var ve,xe,$e,Pe,Ue,qt,kt=74*K+64,Zt=Je[kt];if(Zt)return K=Zt.nextPos,Zt.result;if(ct++,ve=K,(xe=O())!==d){for($e=[],Pe=K,(Ue=Bl())!==d&&(qt=O())!==d?Pe=Ue=[Ue,qt]:(K=Pe,Pe=d);Pe!==d;)$e.push(Pe),Pe=K,(Ue=Bl())!==d&&(qt=O())!==d?Pe=Ue=[Ue,qt]:(K=Pe,Pe=d);ve=En(xe,$e)}else K=ve,ve=d;return ct--,ve===d&&(xe=d,ct===0&&Ht(Wt)),Je[kt]={nextPos:K,result:ve},ve}function X(){var ve,xe,$e,Pe,Ue,qt,kt=74*K+65,Zt=Je[kt];if(Zt)return K=Zt.nextPos,Zt.result;if(ct++,ve=K,(xe=U())!==d){for($e=[],Pe=K,(Ue=ha())!==d&&(qt=U())!==d?Pe=Ue=[Ue,qt]:(K=Pe,Pe=d);Pe!==d;)$e.push(Pe),Pe=K,(Ue=ha())!==d&&(qt=U())!==d?Pe=Ue=[Ue,qt]:(K=Pe,Pe=d);ve=En(xe,$e)}else K=ve,ve=d;return ct--,ve===d&&(xe=d,ct===0&&Ht(fe)),Je[kt]={nextPos:K,result:ve},ve}function ee(){var ve,xe,$e,Pe,Ue,qt,kt=74*K+66,Zt=Je[kt];if(Zt)return K=Zt.nextPos,Zt.result;if(ct++,ve=K,(xe=X())!==d){for($e=[],Pe=K,(Ue=Qs())!==d&&(qt=X())!==d?Pe=Ue=[Ue,qt]:(K=Pe,Pe=d);Pe!==d;)$e.push(Pe),Pe=K,(Ue=Qs())!==d&&(qt=X())!==d?Pe=Ue=[Ue,qt]:(K=Pe,Pe=d);ve=En(xe,$e)}else K=ve,ve=d;return ct--,ve===d&&(xe=d,ct===0&&Ht(Be)),Je[kt]={nextPos:K,result:ve},ve}function oe(){var ve,xe=74*K+68,$e=Je[xe];return $e?(K=$e.nextPos,$e.result):(ct++,ve=(function(){var Pe,Ue,qt,kt,Zt,vn,Mn=74*K+67,ui=Je[Mn];if(ui)return K=ui.nextPos,ui.result;if(ct++,Pe=K,(Ue=ee())!==d){for(qt=[],kt=K,(Zt=Qa())!==d&&(vn=ee())!==d?kt=Zt=[Zt,vn]:(K=kt,kt=d);kt!==d;)qt.push(kt),kt=K,(Zt=Qa())!==d&&(vn=ee())!==d?kt=Zt=[Zt,vn]:(K=kt,kt=d);Pe=En(Ue,qt)}else K=Pe,Pe=d;return ct--,Pe===d&&(Ue=d,ct===0&&Ht(Ve)),Je[Mn]={nextPos:K,result:Pe},Pe})(),ct--,ve===d&&ct===0&&Ht(je),Je[xe]={nextPos:K,result:ve},ve)}function re(){var ve,xe,$e,Pe,Ue,qt,kt=74*K+69,Zt=Je[kt];if(Zt)return K=Zt.nextPos,Zt.result;for(ct++,ve=K,(xe=He())===d&&(xe=null),$e=[],Pe=K,(Ue=pe())!==d?((qt=He())===d&&(qt=null),Pe=Ue=[Ue,qt]):(K=Pe,Pe=d);Pe!==d;)$e.push(Pe),Pe=K,(Ue=pe())!==d?((qt=He())===d&&(qt=null),Pe=Ue=[Ue,qt]):(K=Pe,Pe=d);return ve=Rt(xe,$e),ct--,xe=d,ct===0&&Ht(et),Je[kt]={nextPos:K,result:ve},ve}function pe(){var ve,xe,$e,Pe,Ue,qt,kt=74*K+70,Zt=Je[kt];if(Zt)return K=Zt.nextPos,Zt.result;if(ve=(function(){var vn,Mn,ui,qi,ai,Er=74*K+71,Ki=Je[Er];if(Ki)return K=Ki.nextPos,Ki.result;if(vn=K,Mn=K,a.substr(K,2)==="//"?(ui="//",K+=2):(ui=d,ct===0&&Ht(ft)),ui!==d){for(qi=[],Se.test(a.charAt(K))?(ai=a.charAt(K),K++):(ai=d,ct===0&&Ht(zs));ai!==d;)qi.push(ai),Se.test(a.charAt(K))?(ai=a.charAt(K),K++):(ai=d,ct===0&&Ht(zs));Mn=ui=[ui,qi]}else K=Mn,Mn=d;return vn=Mn!==d?a.substring(vn,K):Mn,Je[Er]={nextPos:K,result:vn},vn})(),ve===d)if(ve=K,xe=(function(){var vn,Mn,ui,qi,ai,Er,Ki,bn=74*K+72,hi=Je[bn];if(hi)return K=hi.nextPos,hi.result;if(vn=K,Mn=K,a.substr(K,2)==="/*"?(ui="/*",K+=2):(ui=d,ct===0&&Ht(Et)),ui!==d){for(qi=[],ai=K,Er=K,ct++,a.substr(K,2)===G?(Ki=G,K+=2):(Ki=d,ct===0&&Ht(Gt)),ct--,Ki===d?Er=void 0:(K=Er,Er=d),Er!==d?(a.length>K?(Ki=a.charAt(K),K++):(Ki=d,ct===0&&Ht(Jt)),Ki!==d?ai=Ki:(K=ai,ai=d)):(K=ai,ai=d);ai!==d;)qi.push(ai),ai=K,Er=K,ct++,a.substr(K,2)===G?(Ki=G,K+=2):(Ki=d,ct===0&&Ht(Gt)),ct--,Ki===d?Er=void 0:(K=Er,Er=d),Er!==d?(a.length>K?(Ki=a.charAt(K),K++):(Ki=d,ct===0&&Ht(Jt)),Ki!==d?ai=Ki:(K=ai,ai=d)):(K=ai,ai=d);a.substr(K,2)===G?(ai=G,K+=2):(ai=d,ct===0&&Ht(Gt)),ai!==d?Mn=ui=[ui,qi,ai]:(K=Mn,Mn=d)}else K=Mn,Mn=d;return vn=Mn!==d?a.substring(vn,K):Mn,Je[bn]={nextPos:K,result:vn},vn})(),xe!==d){for($e=[],Pe=K,(Ue=He())!==d&&(qt=pe())!==d?Pe=ri(0,Ue,qt):(K=Pe,Pe=d);Pe!==d;)$e.push(Pe),Pe=K,(Ue=He())!==d&&(qt=pe())!==d?Pe=ri(0,Ue,qt):(K=Pe,Pe=d);ve=tt(xe,$e.flat())}else K=ve,ve=d;return Je[kt]={nextPos:K,result:ve},ve}function He(){var ve,xe,$e,Pe=74*K+73,Ue=Je[Pe];if(Ue)return K=Ue.nextPos,Ue.result;if(ct++,ve=K,xe=[],Ee.test(a.charAt(K))?($e=a.charAt(K),K++):($e=d,ct===0&&Ht(Rn)),$e!==d)for(;$e!==d;)xe.push($e),Ee.test(a.charAt(K))?($e=a.charAt(K),K++):($e=d,ct===0&&Ht(Rn));else xe=d;return ve=xe!==d?a.substring(ve,K):xe,ct--,ve===d&&(xe=d,ct===0&&Ht(Nn)),Je[Pe]={nextPos:K,result:ve},ve}const Ie=(ve,xe)=>({type:ve,...xe}),tt=(...ve)=>ve.flat().filter((xe=>xe!=null&&xe!==""&&xe.length!==0)),Rt=(...ve)=>{return(xe=tt(ve)).length>1?xe:xe[0];var xe},Vt=(...ve)=>ve.flat().reduce(((xe,[$e,Pe])=>({type:"binary",operator:$e,left:xe,right:Pe})));if((m=_())!==d&&K===a.length)return m;throw m!==d&&K<a.length&&Ht({type:"end"}),_t=ci,ln=ni<a.length?a.charAt(ni):null,si=ni<a.length?ji(ni,ni+1):ji(ni,ni),new o(o.buildMessage(_t,ln),_t,ln,si);var _t,ln,si}}},168:function(s,o,l){var a=this&&this.__assign||function(){return a=Object.assign||function(x){for(var w,T=1,L=arguments.length;T<L;T++)for(var P in w=arguments[T])Object.prototype.hasOwnProperty.call(w,P)&&(x[P]=w[P]);return x},a.apply(this,arguments)},u=this&&this.__spreadArray||function(x,w,T){if(T||arguments.length===2)for(var L,P=0,C=w.length;P<C;P++)!L&&P in w||(L||(L=Array.prototype.slice.call(w,0,P)),L[P]=w[P]);return x.concat(L||Array.prototype.slice.call(w))};Object.defineProperty(o,"__esModule",{value:!0}),o.preprocessComments=o.preprocessAst=void 0;var m=l(416),d=function(x){for(var w=[],T=1;T<arguments.length;T++)w[T-1]=arguments[T];return Object.entries(x).reduce((function(L,P){var C,I=P[0],F=P[1];return a(a({},L),!w.includes(I)&&((C={})[I]=F,C))}),{})};o.preprocessComments=function(x){var w,T,L,P="",C=1,I=0,F=0;for(w=0;w<x.length;w++)T=x.substr(w,1),L=x.substr(w+1,1),T!="/"||L!="/"||I||F?(T==`
`&&I&&(I=0),T!="/"||L!="*"||F||I?T=="*"&&L=="/"&&F?(F==C&&(P+=" "),F=0,w++):(F||I)&&T!=`
`||(P+=T,C++):(F=C,w++)):(I=C,w++);return P};var b=function(x){return x.replace(/\s+##\s+/g,"")},g=function(x,w){return Object.entries(w).reduce((function(T,L){var P=L[0],C=L[1];return C.args?(function(I,F,R,D){for(var G,j="\\b".concat(F,"\\s*\\("),k=new RegExp(j,"m"),V="",H=D,te=function(){var ne=(function(Re){for(var Fe,qe=0,ot=[],dn="",mn=0;mn<Re.length;mn++){if((Fe=Re.charAt(mn))==="("&&qe++,Fe===")"&&qe--,qe===-1)return(dn!==""||ot.length)&&ot.push(dn),{args:ot,length:mn};Fe===","&&qe===0?(ot.push(dn),dn=""):dn+=Fe}return null})(H.substring(G.index+G[0].length));if(ne===null)throw new Error("".concat(H.match(k)," unterminated macro invocation"));var he=(R.args||[]).filter((function(Re){return Re.literal!==","})),ie=ne.args,ce=ne.length,Se=G[0].length+ce+1;if(ie.length>he.length)throw new Error("'".concat(F,"': Too many arguments for macro"));if(ie.length<he.length)throw new Error("'".concat(F,"': Not enough arguments for macro"));var Ee=b(he.reduce((function(Re,Fe,qe){return Re.replace(new RegExp("\\b".concat(Fe.identifier,"\\b"),"g"),ie[qe].trim())}),R.body)),me=g(Ee,d(I,F)),le=G.index+me.length,we=H.replace(H.substr(G.index,Se),me);V+=we.substr(0,le),H=we.substr(le)};G=k.exec(H);)te();return V+H})(w,P,C,T):(function(I,F,R,D){var G=D;if(new RegExp("\\b".concat(F,"\\b"),"g").test(D)){var j=R.body||"",k=b(D.replace(new RegExp("\\b".concat(F,"\\b"),"g"),j));G=g(k,d(I,F))}return G})(w,P,C,T)}),x)},_=function(x){return!!x},p=function(x){for(var w=[],T=1;T<arguments.length;T++)w[T-1]=arguments[T];w.forEach((function(L){c(L,{unary_defined:{enter:function(P){P.skip()}},identifier:{enter:function(P){P.node.identifier=g(P.node.identifier,x)}}})}))},v=function(x,w){return T={int_constant:function(P){return parseInt(P.token,10)},unary_defined:function(P){return P.identifier.identifier in w},identifier:function(P){return P.identifier},group:function(P,C){return C(P.expression)},binary:function(P,C){var I=P.left,F=P.right,R=P.operator.literal;switch(R){case"*":return C(I)*C(F);case"/":return C(I)/C(F);case"%":return C(I)%C(F);case"+":return C(I)+C(F);case"-":return C(I)-C(F);case"<<":return C(I)<<C(F);case">>":return C(I)>>C(F);case"<":return C(I)<C(F);case">":return C(I)>C(F);case"<=":return C(I)<=C(F);case">=":return C(I)>=C(F);case"==":return C(I)==C(F);case"!=":return C(I)!=C(F);case"&":return C(I)&C(F);case"^":return C(I)^C(F);case"|":return C(I)|C(F);case"&&":return C(I)&&C(F);case"||":return C(I)||C(F);default:throw new Error("Preprocessing error: Unknown binary operator ".concat(R))}},unary:function(P,C){switch(P.operator.literal){case"+":return C(P.expression);case"-":return-1*C(P.expression);case"!":return!C(P.expression);case"~":return~C(P.expression);default:throw new Error("Preprocessing error: Unknown unary operator ".concat(P.operator.literal))}}},L=function(P){var C=T[P.type];if(!C)throw new Error("No evaluate() evaluator for ".concat(P.type));return C(P,L)},L(x);var T,L},c=m.visit;o.preprocessAst=function(x,w){w===void 0&&(w={});var T,L=Object.entries(w.defines||{}).reduce((function(C,I){var F,R=I[0],D=I[1];return a(a({},C),((F={})[R]={body:D},F))}),{}),P=((T=w.preserve)===void 0&&(T={}),function(C){var I=T?.[C.node.type];return typeof I=="function"?I(C):I});return c(x,{conditional:{enter:function(C){var I=C,F=I.node;P(I)||(p.apply(void 0,u([L],u([F.ifPart.expression],F.elseIfParts.map((function(R){return R.expression})),!0).filter(_),!1)),(function(R,D){return D.type==="if"?v(D.expression,R):D.type==="ifdef"?D.identifier.identifier in R:D.type==="ifndef"?!(D.identifier.identifier in R):void 0})(L,F.ifPart)?I.replaceWith(F.ifPart.body):F.elseIfParts.reduce((function(R,D){return R||v(D.expression,L)&&(I.replaceWith(D.body),!0)}),!1)||(F.elsePart?I.replaceWith(F.elsePart.body):I.remove()))}},text:{enter:function(C){var I=C;I.node.text=g(I.node.text,L)}},define_arguments:{enter:function(C){var I=C,F=I.node,R=F.identifier.identifier,D=F.body,G=F.args;L[R]={args:G,body:D},!P(I)&&I.remove()}},define:{enter:function(C){var I=C,F=I.node,R=F.identifier.identifier,D=F.body;L[R]={body:D},!P(I)&&I.remove()}},undef:{enter:function(C){var I=C;delete L[I.node.identifier.identifier],!P(I)&&I.remove()}},error:{enter:function(C){var I=C;if(w.stopOnError)throw new Error(I.node.message);!P(I)&&I.remove()}},pragma:{enter:function(C){var I=C;!P(I)&&I.remove()}},version:{enter:function(C){var I=C;!P(I)&&I.remove()}},extension:{enter:function(C){var I=C;!P(I)&&I.remove()}},line:{enter:function(C){var I=C;!P(I)&&I.remove()}}}),x}},866:(s,o,l)=>{l.d(o,{Z:()=>b});var a=l(81),u=l.n(a),m=l(645),d=l.n(m)()(u());d.push([s.id,"@import url(https://fonts.googleapis.com/css?family=Montserrat:300,400);"]),d.push([s.id,'.captureMenuComponent{position:absolute;padding:7px;z-index:99999;top:10px;left:50%;margin-left:-209px;height:40px;width:400px;border:2px solid #222;background-color:#2c2c2c;visibility:hidden;display:none;color:#f9f9f9;font-family:Consolas,monaco,monospace;font-size:14px;font-weight:500}.captureMenuComponent.active{visibility:visible;display:block}.captureMenuComponent,.captureMenuComponent:after,.captureMenuComponent:before{box-sizing:content-box}.captureMenuLogComponent{position:absolute;padding:7px;z-index:80000;top:66px;left:50%;margin-left:-209px;height:40px;width:400px;border:2px solid #222;background-color:#2c2c2c;visibility:hidden;display:none;color:#f9f9f9;font-family:Consolas,monaco,monospace;font-size:14px;font-weight:500}.captureMenuLogComponent.active{visibility:visible;display:block}.captureMenuLogComponent,.captureMenuLogComponent:after,.captureMenuLogComponent:before{box-sizing:content-box}.captureMenuLogComponent span.error{color:red}.canvasListComponent{float:left;width:50%;height:100%}.canvasListComponent [commandName=onCanvasSelection]{vertical-align:center;line-height:40px;white-space:nowrap;text-overflow:ellipsis;width:190px;display:inline-block;overflow:hidden;margin:0px 5px}.canvasListComponent [commandName=onCanvasSelection]:hover{color:#c9c9c9;cursor:pointer;transition:color .3s;-webkit-transition:color .3s;-moz-transition:color .3s}.canvasListComponent ul{margin:0px;padding:7px;list-style:none;position:absolute;top:54px;left:-2px;width:400px;border:2px solid #222;background-color:#2c2c2c}.canvasListComponent ul li{margin:5px}.canvasListComponent ul li:hover{color:#c9c9c9;cursor:pointer;transition:color .3s;-webkit-transition:color .3s;-moz-transition:color .3s}.captureMenuActionsComponent{float:left;width:30%;height:100%;margin-top:7.5px}.captureMenuActionsComponent div{float:left}.captureMenuActionsComponent [commandName=onCaptureRequested]{border-radius:50%;background:#2c2c2c;border:2px solid red;width:21px;height:21px}.captureMenuActionsComponent [commandName=onCaptureRequested]:hover{background:red;cursor:pointer;transition:background .3s;-webkit-transition:background .3s;-moz-transition:background .3s}.captureMenuActionsComponent [commandName=onPlayRequested],.captureMenuActionsComponent [commandName=onPlayNextFrameRequested]{width:21px;height:21px;border:2px solid #f9f9f9;border-radius:50%;margin-left:9px}.captureMenuActionsComponent [commandName=onPlayRequested]:before,.captureMenuActionsComponent [commandName=onPlayNextFrameRequested]:before{content:"";position:absolute;display:inline-block;margin-top:6px;margin-left:4px;width:7px;height:7px;border-top:2px solid #f9f9f9;border-right:2px solid #f9f9f9;background-color:#f9f9f9;-moz-transform:rotate(45deg);-webkit-transform:rotate(45deg);transform:rotate(45deg);z-index:-20}.captureMenuActionsComponent [commandName=onPlayRequested]:after,.captureMenuActionsComponent [commandName=onPlayNextFrameRequested]:after{content:"";position:absolute;display:inline-block;width:8px;height:20px;background-color:#2c2c2c;z-index:-10}.captureMenuActionsComponent [commandName=onPlayRequested]:hover,.captureMenuActionsComponent [commandName=onPlayNextFrameRequested]:hover{cursor:pointer;border:2px solid #c9c9c9;transition:border .3s;-webkit-transition:border .3s;-moz-transition:border .3s}.captureMenuActionsComponent [commandName=onPauseRequested]{width:21px;height:21px;border:2px solid #f9f9f9;border-radius:50%;margin-left:9px}.captureMenuActionsComponent [commandName=onPauseRequested]:before{content:"";position:absolute;display:inline-block;width:2px;height:13px;margin-left:12px;margin-top:4px;background-color:#f9f9f9}.captureMenuActionsComponent [commandName=onPauseRequested]:after{content:"";position:absolute;display:inline-block;width:2px;height:13px;margin-left:7px;margin-top:4px;background-color:#f9f9f9}.captureMenuActionsComponent [commandName=onPauseRequested]:hover{cursor:pointer;border:2px solid #c9c9c9;transition:border .3s;-webkit-transition:border .3s;-moz-transition:border .3s}.captureMenuActionsComponent [commandName=onPlayNextFrameRequested]:before{background-color:#2c2c2c}.fpsCounterComponent{float:left;width:20%;vertical-align:center;line-height:40px;white-space:nowrap}',""]);const b=d},625:(s,o,l)=>{l.d(o,{Z:()=>b});var a=l(81),u=l.n(a),m=l(645),d=l.n(m)()(u());d.push([s.id,"@import url(https://fonts.googleapis.com/css?family=Montserrat:300,400);"]),d.push([s.id,'.resultViewComponent{position:absolute;z-index:99999;border:1px solid #000;top:0;left:0;bottom:0;right:0;background-color:#222;opacity:1;visibility:hidden;display:none;color:#f9f9f9;font-family:Consolas,monaco,monospace;font-size:14px;font-weight:500}.resultViewComponent.active{visibility:visible;display:block}.resultViewComponent,.resultViewComponent:after,.resultViewComponent:before{box-sizing:content-box}.resultViewMenuComponent{font-family:"Montserrat",sans-serif;font-size:13px;font-weight:300;line-height:40px;flex:1 100%;display:flex;flex-flow:row wrap;height:42px;outline:0 none;border-bottom:2px solid #222;box-sizing:border-box;list-style:none;margin:0;background:#2c2c2c;display:-webkit-box;display:-moz-box;display:-ms-flexbox;display:-webkit-flex;display:flex;-webkit-flex-flow:row wrap;flex-flow:row wrap;justify-content:flex-end}.resultViewMenuComponent .resultViewMenuOpen{display:none;visibility:hidden}.resultViewMenuComponent a{outline:0 none;text-decoration:none;display:block;padding:0 20px 0 20px;color:#ccc;background:#2c2c2c;box-sizing:border-box;height:100%}.resultViewMenuComponent a.active{background:#222;color:#fff;font-weight:400;border-bottom:2px solid #f0640d}.resultViewMenuComponent a:hover{background:#222;color:#c9c9c9;cursor:pointer;transition:color .3s;-webkit-transition:color .3s;-moz-transition:color .3s}.resultViewMenuComponent a:hover.active{color:#f0640d;transition:color 0;-webkit-transition:color 0;-moz-transition:color 0}.resultViewMenuComponent a.clearSearch{padding:0px;margin-left:-30px;margin-right:20px;z-index:9000;color:#f9f9f9}.resultViewMenuComponent a.clearSearch:hover{background:#2c2c2c;color:#f0640d}@media all and (max-width: 1024px){.resultViewMenuComponent{padding:0px;position:absolute;overflow-y:visible;top:0px;left:0px;right:0px;bottom:0px;z-index:999999;display:block}.resultViewMenuComponent .resultViewMenuOpen{display:block;visibility:visible}.resultViewMenuComponent li:not(.resultViewMenuSmall){display:none;visibility:hidden}.resultViewMenuComponent li{background:#2c2c2c}.resultViewMenuComponent li.searchContainer{background:#464646}.resultViewMenuComponent a.active{background:#2c2c2c}}.resultViewMenuComponent input{border:0;font-family:"Montserrat",sans-serif;font-weight:300;padding:0 20px 0 20px;background:#464646;color:#f9f9f9;height:40px;position:relative;top:-1px;box-sizing:border-box}.resultViewMenuComponent input:focus{border:0;outline:0 none}.resultViewMenuComponent .clearSearch{position:relative;background:rgba(0,0,0,0);display:inline;padding:0px;margin-left:-30px;z-index:9000;color:#f0640d}.resultViewMenuComponent .clearSearch:hover{background:rgba(0,0,0,0) !important}.resultViewMenuComponent ::-webkit-input-placeholder{color:#ccc}.resultViewMenuComponent :-moz-placeholder{color:#ccc}.resultViewMenuComponent ::-moz-placeholder{color:#ccc}.resultViewMenuComponent :-ms-input-placeholder{color:#ccc}.resultViewContentComponent{position:absolute;top:40px;left:0;bottom:0;right:0}.informationColumnLeftComponent{position:absolute;top:0;left:0;bottom:0;right:50%;overflow:auto;overflow-x:hidden;overflow-y:visible}.informationColumnRightComponent{position:absolute;top:0;left:50%;bottom:0;right:0;overflow:auto;overflow-x:hidden;overflow-y:visible}.captureListComponent{position:absolute;top:40px;left:0;bottom:0;right:0;background:#222;z-index:9000;display:none;visibility:hidden;overflow-y:visible;overflow-x:hidden}.captureListComponent.active{display:block;visibility:visible}.captureListComponent .openCaptureFile{border:1px dashed #f9f9f9;display:block;margin:5px;padding:5px;text-align:center;font-style:italic}.captureListComponent .openCaptureFile span{line-height:100%;vertical-align:middle}.captureListComponent ul{margin:0px;padding:0px;list-style:none;display:-webkit-box;display:-moz-box;display:-ms-flexbox;display:-webkit-flex;display:flex;-webkit-flex-flow:row wrap;flex-flow:row wrap;justify-content:flex-start}.captureListComponent ul li{margin:5px;border:1px solid #606060}.captureListComponent ul li img{width:295px;background-image:-webkit-gradient(linear, 0 100%, 100% 0, color-stop(0.25, #c9c9c9), color-stop(0.25, transparent)),-webkit-gradient(linear, 0 0, 100% 100%, color-stop(0.25, #c9c9c9), color-stop(0.25, transparent)),-webkit-gradient(linear, 0 100%, 100% 0, color-stop(0.75, transparent), color-stop(0.75, #c9c9c9)),-webkit-gradient(linear, 0 0, 100% 100%, color-stop(0.75, transparent), color-stop(0.75, #c9c9c9));background-image:-moz-linear-gradient(45deg, #d9d9d9 25%, transparent 25%),-moz-linear-gradient(-45deg, #d9d9d9 25%, transparent 25%),-moz-linear-gradient(45deg, transparent 75%, #d9d9d9 75%),-moz-linear-gradient(-45deg, transparent 75%, #d9d9d9 75%);-webkit-background-size:50px 51px;-moz-background-size:50px 50px;background-size:50px 50px;background-position:0 0,25px 0,25px -25px,0px 25px;display:block}.captureListComponent ul li span{display:block;text-align:center;border:5px solid #222}.captureListComponent ul li span .captureListItemSave{color:#f9f9f9;font-size:16px;margin-left:10px;position:relative;padding:3px 8px 3px 32px}.captureListComponent ul li span .captureListItemSave:before,.captureListComponent ul li span .captureListItemSave:after{box-sizing:border-box;content:"";position:absolute}.captureListComponent ul li span .captureListItemSave:before{background:#d9d9d9;border-color:#f9f9f9;border-style:solid;border-width:7px 2px 1px;border-radius:1px;height:16px;left:8px;top:5px;width:16px}.captureListComponent ul li span .captureListItemSave:after{background:#f9f9f9;border-color:#d9d9d9;border-style:solid;border-width:1px 1px 1px 4px;height:5px;left:13px;top:5px;width:7px}.captureListComponent ul li:hover{cursor:pointer}.captureListComponent ul li.active span{background:#f0640d;border:5px solid #f0640d}.captureListComponent ul li.active span .captureListItemSave:before{background:#f0640d}.captureListComponent ul li.active span .captureListItemSave:after{border-color:#f0640d}.visualStateListComponent{position:absolute;top:0;left:0;bottom:0;padding:5px;right:80%;overflow-y:visible;overflow-x:hidden}.visualStateListComponent ul{margin:0px;padding:0px;list-style:none}.visualStateListComponent ul li{margin:20px 15px 0px 15px;border:1px solid #606060}.visualStateListComponent ul li img{display:block;padding:0px;box-sizing:border-box;max-height:600px;width:100%;margin:0 auto;background-image:-webkit-gradient(linear, 0 100%, 100% 0, color-stop(0.25, #c9c9c9), color-stop(0.25, transparent)),-webkit-gradient(linear, 0 0, 100% 100%, color-stop(0.25, #c9c9c9), color-stop(0.25, transparent)),-webkit-gradient(linear, 0 100%, 100% 0, color-stop(0.75, transparent), color-stop(0.75, #c9c9c9)),-webkit-gradient(linear, 0 0, 100% 100%, color-stop(0.75, transparent), color-stop(0.75, #c9c9c9));background-image:-moz-linear-gradient(45deg, #d9d9d9 25%, transparent 25%),-moz-linear-gradient(-45deg, #d9d9d9 25%, transparent 25%),-moz-linear-gradient(45deg, transparent 75%, #d9d9d9 75%),-moz-linear-gradient(-45deg, transparent 75%, #d9d9d9 75%);-webkit-background-size:50px 51px;-moz-background-size:50px 50px;background-size:50px 50px;background-position:0 0,25px 0,25px -25px,0px 25px}.visualStateListComponent ul li:hover{cursor:pointer}.visualStateListComponent ul li span{border:5px solid #222;background:#222;box-sizing:border-box;display:inline-block;width:100%;margin:0px;padding:5px;word-wrap:break-word}.visualStateListComponent ul li.active{border:2px solid #f0640d}.commandListComponent{position:absolute;top:0;left:20%;right:40%;bottom:0;color:#d3d3d3}.commandListComponent ul{margin:0px;padding:0px;list-style:none;overflow-y:visible;overflow-x:hidden;height:100%}.commandListComponent ul li{padding:8px}.commandListComponent ul li span{word-wrap:break-word;line-height:22px}.commandListComponent ul li:hover{color:#f9f9f9;cursor:pointer;transition:color .3s;-webkit-transition:color .3s;-moz-transition:color .3s}.commandListComponent ul li:nth-child(even){background:#2c2c2c}.commandListComponent ul li:nth-child(odd){background:#222}.commandListComponent ul li .important{font-weight:800}.commandListComponent ul li .important.deprecated{color:red}.commandListComponent ul li .important.unused{color:#ff0}.commandListComponent ul li .important.disabled{color:gray}.commandListComponent ul li .important.redundant{color:orange}.commandListComponent ul li .important.valid{color:#adff2f}.commandListComponent ul li .marker{font-size:16px;font-weight:900;color:#adff2f}.commandListComponent ul li.active{background:#f37628;color:#222}.commandListComponent ul li.drawCall{background:#5db0d7;color:#222}.commandListComponent ul li a{margin-left:5px;margin-right:5px;color:#5db0d7;background:#222;padding:5px;font-weight:900;display:inline-block}.commandDetailComponent{position:absolute;top:0;left:60%;right:0;bottom:0;overflow-y:visible;overflow-x:hidden}.jsonGroupComponent{display:block;margin:10px;padding:10px;padding-bottom:5px}.jsonGroupComponent .jsonGroupComponentTitle{display:block;font-size:16px;color:#5db0d7;border-bottom:1px solid #5db0d7;padding-bottom:5px;margin-bottom:5px;text-transform:capitalize}.jsonGroupComponent ul{margin:0px;padding:0px;list-style:none}.jsonGroupComponent ul li:nth-child(even){background:#222}.jsonGroupComponent ul li:nth-child(odd){background:#222}.jsonItemComponentKey{color:#f0640d}.jsonItemComponentValue{white-space:pre-wrap}.jsonItemImageHolder{width:50%;margin:auto}.jsonItemImageHolder .jsonItemImage{margin:5px;display:block;border:1px solid #606060;width:100%}.jsonItemImageHolder .jsonItemImage img{width:100%;display:block;margin:auto;max-width:256px;background-image:-webkit-gradient(linear, 0 100%, 100% 0, color-stop(0.25, #c9c9c9), color-stop(0.25, transparent)),-webkit-gradient(linear, 0 0, 100% 100%, color-stop(0.25, #c9c9c9), color-stop(0.25, transparent)),-webkit-gradient(linear, 0 100%, 100% 0, color-stop(0.75, transparent), color-stop(0.75, #c9c9c9)),-webkit-gradient(linear, 0 0, 100% 100%, color-stop(0.75, transparent), color-stop(0.75, #c9c9c9));background-image:-moz-linear-gradient(45deg, #d9d9d9 25%, transparent 25%),-moz-linear-gradient(-45deg, #d9d9d9 25%, transparent 25%),-moz-linear-gradient(45deg, transparent 75%, #d9d9d9 75%),-moz-linear-gradient(-45deg, transparent 75%, #d9d9d9 75%);-webkit-background-size:50px 51px;-moz-background-size:50px 50px;background-size:50px 50px;background-position:0 0,25px 0,25px -25px,0px 25px}.jsonItemImageHolder .jsonItemImage span{margin:0px;padding:5px;word-wrap:break-word;display:inline-block;width:100%;box-sizing:border-box}[commandName=onOpenSourceClicked]:hover{color:#f9f9f9;cursor:pointer;transition:color .3s;-webkit-transition:color .3s;-moz-transition:color .3s}.jsonVisualStateItemComponent{text-align:center;padding:10px}.jsonVisualStateItemComponent img{background-image:-webkit-gradient(linear, 0 100%, 100% 0, color-stop(0.25, #c9c9c9), color-stop(0.25, transparent)),-webkit-gradient(linear, 0 0, 100% 100%, color-stop(0.25, #c9c9c9), color-stop(0.25, transparent)),-webkit-gradient(linear, 0 100%, 100% 0, color-stop(0.75, transparent), color-stop(0.75, #c9c9c9)),-webkit-gradient(linear, 0 0, 100% 100%, color-stop(0.75, transparent), color-stop(0.75, #c9c9c9));background-image:-moz-linear-gradient(45deg, #d9d9d9 25%, transparent 25%),-moz-linear-gradient(-45deg, #d9d9d9 25%, transparent 25%),-moz-linear-gradient(45deg, transparent 75%, #d9d9d9 75%),-moz-linear-gradient(-45deg, transparent 75%, #d9d9d9 75%);-webkit-background-size:50px 51px;-moz-background-size:50px 50px;background-size:50px 50px;background-position:0 0,25px 0,25px -25px,0px 25px;border:1px solid #606060;margin:5px;width:100%;max-width:512px;max-height:800px}.jsonVisualStateItemComponent span{display:block}.jsonContentComponent{position:absolute;top:0;left:0;right:0;bottom:0;padding:10px;overflow-y:visible;overflow-x:hidden}.jsonItemComponentValue{word-break:break-all;white-space:normal}.jsonSourceItemComponentOpen{font-weight:bold;color:#5db0d7;text-decoration:underline}.sourceCodeMenuComponentContainer{position:absolute;left:0;top:0;bottom:48px;right:40%}.sourceCodeMenuComponentFooter{position:absolute;left:0;right:40%;bottom:0;padding:0 15px}.sourceCodeMenuComponent{font-family:"Montserrat",sans-serif;font-size:13px;font-weight:300;line-height:40px;flex:1 100%;display:flex;flex-flow:row wrap;height:42px;outline:0 none;border-bottom:2px solid #222;box-sizing:border-box;list-style:none;margin:0;background:#2c2c2c;display:-webkit-box;display:-moz-box;display:-ms-flexbox;display:-webkit-flex;display:flex;-webkit-flex-flow:row wrap;flex-flow:row wrap;justify-content:flex-end}.sourceCodeMenuComponent .resultViewMenuOpen{display:none;visibility:hidden}.sourceCodeMenuComponent a{outline:0 none;text-decoration:none;display:block;padding:0 20px 0 20px;color:#ccc;background:#2c2c2c;box-sizing:border-box;height:100%}.sourceCodeMenuComponent a.active{background:#222;color:#fff;font-weight:400;border-bottom:2px solid #f0640d}.sourceCodeMenuComponent a:hover{background:#222;color:#c9c9c9;cursor:pointer;transition:color .3s;-webkit-transition:color .3s;-moz-transition:color .3s}.sourceCodeMenuComponent a:hover.active{color:#f0640d;transition:color 0;-webkit-transition:color 0;-moz-transition:color 0}.sourceCodeMenuComponent a.clearSearch{display:inline-block;padding:0px;margin-left:-30px;margin-right:20px;z-index:9000;color:#f9f9f9}.sourceCodeMenuComponent a.clearSearch:hover{background:#2c2c2c;color:#f0640d}.sourceCodeMenuComponent input{border:0;font-family:"Montserrat",sans-serif;font-weight:300;padding:0 20px 0 20px;background:#464646;color:#f9f9f9;height:100%;position:relative;top:-1px;box-sizing:border-box}.sourceCodeMenuComponent input:focus{border:0;outline:0 none}.sourceCodeMenuComponent .clearSearch{position:relative;background:rgba(0,0,0,0);display:inline;padding:0px;margin-left:-30px;z-index:9000;color:#f0640d}.sourceCodeMenuComponent .clearSearch:hover{background:rgba(0,0,0,0) !important}.sourceCodeMenuComponent ::-webkit-input-placeholder{color:#ccc}.sourceCodeMenuComponent :-moz-placeholder{color:#ccc}.sourceCodeMenuComponent ::-moz-placeholder{color:#ccc}.sourceCodeMenuComponent :-ms-input-placeholder{color:#ccc}.sourceCodeComponent{position:absolute;top:42px;left:0;bottom:48px;right:40%;background:#222;z-index:9000;overflow-x:visible;overflow:auto}.sourceCodeComponent .sourceCodeComponentTitle{font-size:16px;font-weight:800;line-height:50px;color:#f0640d;padding:1em;margin:.5em 0}',""]);const b=d},827:(s,o,l)=>{l.d(o,{Z:()=>b});var a=l(81),u=l.n(a),m=l(645),d=l.n(m)()(u());d.push([s.id,`.ace-monokai {\r
    color: #f9f9f9;\r
    font-size: 14px;\r
}\r
\r
.ace-monokai .ace_entity.ace_name.ace_tag,\r
.ace-monokai .ace_keyword,\r
.ace-monokai .ace_meta.ace_tag,\r
.ace-monokai .ace_storage {\r
    color: #F0640D\r
}\r
\r
.ace-monokai .ace_constant.ace_character,\r
.ace-monokai .ace_constant.ace_other {\r
    color: #5db0d7;\r
}\r
\r
.ace-monokai .ace_marker-layer .ace_selection {\r
    background: #a6e22e\r
}\r
\r
.ace-monokai .ace_marker-layer .ace_bracket {\r
    margin: -1px 0 0 -1px;\r
    border: 1px solid #a6e22e;\r
}\r
\r
.ace-monokai .ace_marker-layer .ace_active-line {\r
    background: #2c2c2c\r
}\r
.ace-monokai .ace_gutter-active-line {\r
    background-color: #2c2c2c\r
}\r
.ace-monokai .ace_marker-layer .ace_selected-word {\r
    border: 1px solid #a6e22e\r
}\r
\r
.ace-monokai .ace_constant.ace_language {\r
    color: #e6db74\r
}\r
.ace-monokai .ace_constant.ace_numeric {\r
    color: #ae81ff\r
}\r
\r
.ace-monokai .ace_gutter {\r
    background: #222;\r
    color: #8F908A;\r
}`,""]);const b=d},645:s=>{s.exports=function(o){var l=[];return l.toString=function(){return this.map((function(a){var u="",m=a[5]!==void 0;return a[4]&&(u+="@supports (".concat(a[4],") {")),a[2]&&(u+="@media ".concat(a[2]," {")),m&&(u+="@layer".concat(a[5].length>0?" ".concat(a[5]):""," {")),u+=o(a),m&&(u+="}"),a[2]&&(u+="}"),a[4]&&(u+="}"),u})).join("")},l.i=function(a,u,m,d,b){typeof a=="string"&&(a=[[null,a,void 0]]);var g={};if(m)for(var _=0;_<this.length;_++){var p=this[_][0];p!=null&&(g[p]=!0)}for(var v=0;v<a.length;v++){var c=[].concat(a[v]);m&&g[c[0]]||(b!==void 0&&(c[5]===void 0||(c[1]="@layer".concat(c[5].length>0?" ".concat(c[5]):""," {").concat(c[1],"}")),c[5]=b),u&&(c[2]&&(c[1]="@media ".concat(c[2]," {").concat(c[1],"}")),c[2]=u),d&&(c[4]?(c[1]="@supports (".concat(c[4],") {").concat(c[1],"}"),c[4]=d):c[4]="".concat(d)),l.push(c))}},l}},81:s=>{s.exports=function(o){return o[1]}},819:(s,o,l)=>{s=l.nmd(s),(function(){var a=(function(){return this})();a||typeof window>"u"||(a=window);var u=function(p,v,c){typeof p=="string"?(arguments.length==2&&(c=v),u.modules[p]||(u.payloads[p]=c,u.modules[p]=null)):u.original?u.original.apply(this,arguments):(console.error("dropping module because define wasn't a string."),console.trace())};u.modules={},u.payloads={};var m,d=function(p,v,c){if(typeof v=="string"){var x=_(p,v);if(x!=null)return c&&c(),x}else if(Object.prototype.toString.call(v)==="[object Array]"){for(var w=[],T=0,L=v.length;T<L;++T){var P=_(p,v[T]);if(P==null&&b.original)return;w.push(P)}return c&&c.apply(null,w)||!0}},b=function(p,v){var c=d("",p,v);return c==null&&b.original?b.original.apply(this,arguments):c},g=function(p,v){if(v.indexOf("!")!==-1){var c=v.split("!");return g(p,c[0])+"!"+g(p,c[1])}if(v.charAt(0)==".")for(v=p.split("/").slice(0,-1).join("/")+"/"+v;v.indexOf(".")!==-1&&x!=v;){var x=v;v=v.replace(/\/\.\//,"/").replace(/[^\/]+\/\.\.\//,"")}return v},_=function(p,v){v=g(p,v);var c=u.modules[v];if(!c){if(typeof(c=u.payloads[v])=="function"){var x={},w={id:v,uri:"",exports:x,packaged:!0};x=c((function(T,L){return d(v,T,L)}),x,w)||w.exports,u.modules[v]=x,delete u.payloads[v]}c=u.modules[v]=x||c}return c};m=a,a.ace||(a.ace={}),m=a.ace,m.define&&m.define.packaged||(u.original=m.define,m.define=u,m.define.packaged=!0),m.require&&m.require.packaged||(b.original=m.require,m.require=b,m.require.packaged=!0)})(),ace.define("ace/lib/regexp",["require","exports","module"],(function(a,u,m){var d,b={exec:RegExp.prototype.exec,test:RegExp.prototype.test,replace:String.prototype.replace},g=b.exec.call(/()??/,"")[1]===void 0,_=(d=/^/g,b.test.call(d,""),!d.lastIndex);function p(c){return(c.global?"g":"")+(c.ignoreCase?"i":"")+(c.multiline?"m":"")+(c.extended?"x":"")+(c.sticky?"y":"")}function v(c,x,w){if(Array.prototype.indexOf)return c.indexOf(x,w);for(var T=0;T<c.length;T++)if(c[T]===x)return T;return-1}_&&g||(RegExp.prototype.exec=function(c){var x,w,T=b.exec.apply(this,arguments);if(typeof c=="string"&&T){if(!g&&T.length>1&&v(T,"")>-1&&(w=RegExp(this.source,b.replace.call(p(this),"g","")),b.replace.call(c.slice(T.index),w,(function(){for(var P=1;P<arguments.length-2;P++)arguments[P]===void 0&&(T[P]=void 0)}))),this._xregexp&&this._xregexp.captureNames)for(var L=1;L<T.length;L++)(x=this._xregexp.captureNames[L-1])&&(T[x]=T[L]);!_&&this.global&&!T[0].length&&this.lastIndex>T.index&&this.lastIndex--}return T},_||(RegExp.prototype.test=function(c){var x=b.exec.call(this,c);return x&&this.global&&!x[0].length&&this.lastIndex>x.index&&this.lastIndex--,!!x}))})),ace.define("ace/lib/es5-shim",["require","exports","module"],(function(a,u,m){function d(){}Function.prototype.bind||(Function.prototype.bind=function(le){var we=this;if(typeof we!="function")throw new TypeError("Function.prototype.bind called on incompatible "+we);var Re=T.call(arguments,1),Fe=function(){if(this instanceof Fe){var qe=we.apply(this,Re.concat(T.call(arguments)));return Object(qe)===qe?qe:this}return we.apply(le,Re.concat(T.call(arguments)))};return we.prototype&&(d.prototype=we.prototype,Fe.prototype=new d,d.prototype=null),Fe});var b,g,_,p,v,c=Function.prototype.call,x=Array.prototype,w=Object.prototype,T=x.slice,L=c.bind(w.toString),P=c.bind(w.hasOwnProperty);if((v=P(w,"__defineGetter__"))&&(b=c.bind(w.__defineGetter__),g=c.bind(w.__defineSetter__),_=c.bind(w.__lookupGetter__),p=c.bind(w.__lookupSetter__)),[1,2].splice(0).length!=2)if((function(){function le(Fe){var qe=new Array(Fe+2);return qe[0]=qe[1]=0,qe}var we,Re=[];if(Re.splice.apply(Re,le(20)),Re.splice.apply(Re,le(26)),we=Re.length,Re.splice(5,0,"XXX"),we+1==Re.length)return!0})()){var C=Array.prototype.splice;Array.prototype.splice=function(le,we){return arguments.length?C.apply(this,[le===void 0?0:le,we===void 0?this.length-le:we].concat(T.call(arguments,2))):[]}}else Array.prototype.splice=function(le,we){var Re=this.length;le>0?le>Re&&(le=Re):le==null?le=0:le<0&&(le=Math.max(Re+le,0)),le+we<Re||(we=Re-le);var Fe=this.slice(le,le+we),qe=T.call(arguments,2),ot=qe.length;if(le===Re)ot&&this.push.apply(this,qe);else{var dn=Math.min(we,Re-le),mn=le+dn,pn=mn+ot-dn,Ae=Re-mn,Bt=Re-dn;if(pn<mn)for(var Tt=0;Tt<Ae;++Tt)this[pn+Tt]=this[mn+Tt];else if(pn>mn)for(Tt=Ae;Tt--;)this[pn+Tt]=this[mn+Tt];if(ot&&le===Bt)this.length=Bt,this.push.apply(this,qe);else for(this.length=Bt+ot,Tt=0;Tt<ot;++Tt)this[le+Tt]=qe[Tt]}return Fe};Array.isArray||(Array.isArray=function(le){return L(le)=="[object Array]"});var I,F,R=Object("a"),D=R[0]!="a"||!(0 in R);function G(le){try{return Object.defineProperty(le,"sentinel",{}),"sentinel"in le}catch{}}if(Array.prototype.forEach||(Array.prototype.forEach=function(le){var we=me(this),Re=D&&L(this)=="[object String]"?this.split(""):we,Fe=arguments[1],qe=-1,ot=Re.length>>>0;if(L(le)!="[object Function]")throw new TypeError;for(;++qe<ot;)qe in Re&&le.call(Fe,Re[qe],qe,we)}),Array.prototype.map||(Array.prototype.map=function(le){var we=me(this),Re=D&&L(this)=="[object String]"?this.split(""):we,Fe=Re.length>>>0,qe=Array(Fe),ot=arguments[1];if(L(le)!="[object Function]")throw new TypeError(le+" is not a function");for(var dn=0;dn<Fe;dn++)dn in Re&&(qe[dn]=le.call(ot,Re[dn],dn,we));return qe}),Array.prototype.filter||(Array.prototype.filter=function(le){var we,Re=me(this),Fe=D&&L(this)=="[object String]"?this.split(""):Re,qe=Fe.length>>>0,ot=[],dn=arguments[1];if(L(le)!="[object Function]")throw new TypeError(le+" is not a function");for(var mn=0;mn<qe;mn++)mn in Fe&&(we=Fe[mn],le.call(dn,we,mn,Re)&&ot.push(we));return ot}),Array.prototype.every||(Array.prototype.every=function(le){var we=me(this),Re=D&&L(this)=="[object String]"?this.split(""):we,Fe=Re.length>>>0,qe=arguments[1];if(L(le)!="[object Function]")throw new TypeError(le+" is not a function");for(var ot=0;ot<Fe;ot++)if(ot in Re&&!le.call(qe,Re[ot],ot,we))return!1;return!0}),Array.prototype.some||(Array.prototype.some=function(le){var we=me(this),Re=D&&L(this)=="[object String]"?this.split(""):we,Fe=Re.length>>>0,qe=arguments[1];if(L(le)!="[object Function]")throw new TypeError(le+" is not a function");for(var ot=0;ot<Fe;ot++)if(ot in Re&&le.call(qe,Re[ot],ot,we))return!0;return!1}),Array.prototype.reduce||(Array.prototype.reduce=function(le){var we=me(this),Re=D&&L(this)=="[object String]"?this.split(""):we,Fe=Re.length>>>0;if(L(le)!="[object Function]")throw new TypeError(le+" is not a function");if(!Fe&&arguments.length==1)throw new TypeError("reduce of empty array with no initial value");var qe,ot=0;if(arguments.length>=2)qe=arguments[1];else for(;;){if(ot in Re){qe=Re[ot++];break}if(++ot>=Fe)throw new TypeError("reduce of empty array with no initial value")}for(;ot<Fe;ot++)ot in Re&&(qe=le.call(void 0,qe,Re[ot],ot,we));return qe}),Array.prototype.reduceRight||(Array.prototype.reduceRight=function(le){var we=me(this),Re=D&&L(this)=="[object String]"?this.split(""):we,Fe=Re.length>>>0;if(L(le)!="[object Function]")throw new TypeError(le+" is not a function");if(!Fe&&arguments.length==1)throw new TypeError("reduceRight of empty array with no initial value");var qe,ot=Fe-1;if(arguments.length>=2)qe=arguments[1];else for(;;){if(ot in Re){qe=Re[ot--];break}if(--ot<0)throw new TypeError("reduceRight of empty array with no initial value")}do ot in this&&(qe=le.call(void 0,qe,Re[ot],ot,we));while(ot--);return qe}),Array.prototype.indexOf&&[0,1].indexOf(1,2)==-1||(Array.prototype.indexOf=function(le){var we=D&&L(this)=="[object String]"?this.split(""):me(this),Re=we.length>>>0;if(!Re)return-1;var Fe=0;for(arguments.length>1&&(Fe=Ee(arguments[1])),Fe=Fe>=0?Fe:Math.max(0,Re+Fe);Fe<Re;Fe++)if(Fe in we&&we[Fe]===le)return Fe;return-1}),Array.prototype.lastIndexOf&&[0,1].lastIndexOf(0,-3)==-1||(Array.prototype.lastIndexOf=function(le){var we=D&&L(this)=="[object String]"?this.split(""):me(this),Re=we.length>>>0;if(!Re)return-1;var Fe=Re-1;for(arguments.length>1&&(Fe=Math.min(Fe,Ee(arguments[1]))),Fe=Fe>=0?Fe:Re-Math.abs(Fe);Fe>=0;Fe--)if(Fe in we&&le===we[Fe])return Fe;return-1}),Object.getPrototypeOf||(Object.getPrototypeOf=function(le){return le.__proto__||(le.constructor?le.constructor.prototype:w)}),Object.getOwnPropertyDescriptor||(Object.getOwnPropertyDescriptor=function(le,we){if(typeof le!="object"&&typeof le!="function"||le===null)throw new TypeError("Object.getOwnPropertyDescriptor called on a non-object: "+le);if(P(le,we)){var Re;if(Re={enumerable:!0,configurable:!0},v){var Fe=le.__proto__;le.__proto__=w;var qe=_(le,we),ot=p(le,we);if(le.__proto__=Fe,qe||ot)return qe&&(Re.get=qe),ot&&(Re.set=ot),Re}return Re.value=le[we],Re}}),Object.getOwnPropertyNames||(Object.getOwnPropertyNames=function(le){return Object.keys(le)}),Object.create||(I=Object.prototype.__proto__===null?function(){return{__proto__:null}}:function(){var le={};for(var we in le)le[we]=null;return le.constructor=le.hasOwnProperty=le.propertyIsEnumerable=le.isPrototypeOf=le.toLocaleString=le.toString=le.valueOf=le.__proto__=null,le},Object.create=function(le,we){var Re;if(le===null)Re=I();else{if(typeof le!="object")throw new TypeError("typeof prototype["+typeof le+"] != 'object'");var Fe=function(){};Fe.prototype=le,(Re=new Fe).__proto__=le}return we!==void 0&&Object.defineProperties(Re,we),Re}),Object.defineProperty){var j=G({}),k=typeof document>"u"||G(document.createElement("div"));if(!j||!k)var V=Object.defineProperty}Object.defineProperty&&!V||(Object.defineProperty=function(le,we,Re){if(typeof le!="object"&&typeof le!="function"||le===null)throw new TypeError("Object.defineProperty called on non-object: "+le);if(typeof Re!="object"&&typeof Re!="function"||Re===null)throw new TypeError("Property description must be an object: "+Re);if(V)try{return V.call(Object,le,we,Re)}catch{}if(P(Re,"value"))if(v&&(_(le,we)||p(le,we))){var Fe=le.__proto__;le.__proto__=w,delete le[we],le[we]=Re.value,le.__proto__=Fe}else le[we]=Re.value;else{if(!v)throw new TypeError("getters & setters can not be defined on this javascript engine");P(Re,"get")&&b(le,we,Re.get),P(Re,"set")&&g(le,we,Re.set)}return le}),Object.defineProperties||(Object.defineProperties=function(le,we){for(var Re in we)P(we,Re)&&Object.defineProperty(le,Re,we[Re]);return le}),Object.seal||(Object.seal=function(le){return le}),Object.freeze||(Object.freeze=function(le){return le});try{Object.freeze((function(){}))}catch{Object.freeze=(F=Object.freeze,function(we){return typeof we=="function"?we:F(we)})}if(Object.preventExtensions||(Object.preventExtensions=function(le){return le}),Object.isSealed||(Object.isSealed=function(le){return!1}),Object.isFrozen||(Object.isFrozen=function(le){return!1}),Object.isExtensible||(Object.isExtensible=function(le){if(Object(le)===le)throw new TypeError;for(var we="";P(le,we);)we+="?";le[we]=!0;var Re=P(le,we);return delete le[we],Re}),!Object.keys){var H=!0,te=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],ne=te.length;for(var he in{toString:null})H=!1;Object.keys=function(le){if(typeof le!="object"&&typeof le!="function"||le===null)throw new TypeError("Object.keys called on a non-object");var we=[];for(var Re in le)P(le,Re)&&we.push(Re);if(H)for(var Fe=0,qe=ne;Fe<qe;Fe++){var ot=te[Fe];P(le,ot)&&we.push(ot)}return we}}Date.now||(Date.now=function(){return new Date().getTime()});var ie=`	
\v\f\r                　\u2028\u2029\uFEFF`;if(!String.prototype.trim){ie="["+ie+"]";var ce=new RegExp("^"+ie+ie+"*"),Se=new RegExp(ie+ie+"*$");String.prototype.trim=function(){return String(this).replace(ce,"").replace(Se,"")}}function Ee(le){return(le=+le)!=le?le=0:le!==0&&le!==1/0&&le!==-1/0&&(le=(le>0||-1)*Math.floor(Math.abs(le))),le}var me=function(le){if(le==null)throw new TypeError("can't convert "+le+" to object");return Object(le)}})),ace.define("ace/lib/fixoldbrowsers",["require","exports","module","ace/lib/regexp","ace/lib/es5-shim"],(function(a,u,m){a("./regexp"),a("./es5-shim"),typeof Element>"u"||Element.prototype.remove||Object.defineProperty(Element.prototype,"remove",{enumerable:!1,writable:!0,configurable:!0,value:function(){this.parentNode&&this.parentNode.removeChild(this)}})})),ace.define("ace/lib/useragent",["require","exports","module"],(function(a,u,m){u.OS={LINUX:"LINUX",MAC:"MAC",WINDOWS:"WINDOWS"},u.getOS=function(){return u.isMac?u.OS.MAC:u.isLinux?u.OS.LINUX:u.OS.WINDOWS};var d=typeof navigator=="object"?navigator:{},b=(/mac|win|linux/i.exec(d.platform)||["other"])[0].toLowerCase(),g=d.userAgent||"",_=d.appName||"";u.isWin=b=="win",u.isMac=b=="mac",u.isLinux=b=="linux",u.isIE=_=="Microsoft Internet Explorer"||_.indexOf("MSAppHost")>=0?parseFloat((g.match(/(?:MSIE |Trident\/[0-9]+[\.0-9]+;.*rv:)([0-9]+[\.0-9]+)/)||[])[1]):parseFloat((g.match(/(?:Trident\/[0-9]+[\.0-9]+;.*rv:)([0-9]+[\.0-9]+)/)||[])[1]),u.isOldIE=u.isIE&&u.isIE<9,u.isGecko=u.isMozilla=g.match(/ Gecko\/\d+/),u.isOpera=typeof opera=="object"&&Object.prototype.toString.call(window.opera)=="[object Opera]",u.isWebKit=parseFloat(g.split("WebKit/")[1])||void 0,u.isChrome=parseFloat(g.split(" Chrome/")[1])||void 0,u.isEdge=parseFloat(g.split(" Edge/")[1])||void 0,u.isAIR=g.indexOf("AdobeAIR")>=0,u.isAndroid=g.indexOf("Android")>=0,u.isChromeOS=g.indexOf(" CrOS ")>=0,u.isIOS=/iPad|iPhone|iPod/.test(g)&&!window.MSStream,u.isIOS&&(u.isMac=!0),u.isMobile=u.isIOS||u.isAndroid})),ace.define("ace/lib/dom",["require","exports","module","ace/lib/useragent"],(function(a,u,m){var d=a("./useragent");if(u.buildDom=function g(_,p,v){if(typeof _=="string"&&_){var c=document.createTextNode(_);return p&&p.appendChild(c),c}if(!Array.isArray(_))return _;if(typeof _[0]!="string"||!_[0]){for(var x=[],w=0;w<_.length;w++){var T=g(_[w],p,v);T&&x.push(T)}return x}var L=document.createElement(_[0]),P=_[1],C=1;for(P&&typeof P=="object"&&!Array.isArray(P)&&(C=2),w=C;w<_.length;w++)g(_[w],L,v);return C==2&&Object.keys(P).forEach((function(I){var F=P[I];I==="class"?L.className=Array.isArray(F)?F.join(" "):F:typeof F=="function"||I=="value"?L[I]=F:I==="ref"?v&&(v[F]=L):F!=null&&L.setAttribute(I,F)})),p&&p.appendChild(L),L},u.getDocumentHead=function(g){return g||(g=document),g.head||g.getElementsByTagName("head")[0]||g.documentElement},u.createElement=function(g,_){return document.createElementNS?document.createElementNS(_||"http://www.w3.org/1999/xhtml",g):document.createElement(g)},u.removeChildren=function(g){g.innerHTML=""},u.createTextNode=function(g,_){return(_?_.ownerDocument:document).createTextNode(g)},u.createFragment=function(g){return(g?g.ownerDocument:document).createDocumentFragment()},u.hasCssClass=function(g,_){return(g.className+"").split(/\s+/g).indexOf(_)!==-1},u.addCssClass=function(g,_){u.hasCssClass(g,_)||(g.className+=" "+_)},u.removeCssClass=function(g,_){for(var p=g.className.split(/\s+/g);;){var v=p.indexOf(_);if(v==-1)break;p.splice(v,1)}g.className=p.join(" ")},u.toggleCssClass=function(g,_){for(var p=g.className.split(/\s+/g),v=!0;;){var c=p.indexOf(_);if(c==-1)break;v=!1,p.splice(c,1)}return v&&p.push(_),g.className=p.join(" "),v},u.setCssClass=function(g,_,p){p?u.addCssClass(g,_):u.removeCssClass(g,_)},u.hasCssString=function(g,_){var p,v=0;if(p=(_=_||document).querySelectorAll("style")){for(;v<p.length;)if(p[v++].id===g)return!0}},u.importCssString=function(g,_,p){var v=p;p&&p.getRootNode&&(v=p.getRootNode())&&v!=p||(v=document);var c=v.ownerDocument||v;if(_&&u.hasCssString(_,v))return null;_&&(g+=`
/*# sourceURL=ace/css/`+_+" */");var x=u.createElement("style");x.appendChild(c.createTextNode(g)),_&&(x.id=_),v==c&&(v=u.getDocumentHead(c)),v.insertBefore(x,v.firstChild)},u.importCssStylsheet=function(g,_){u.buildDom(["link",{rel:"stylesheet",href:g}],u.getDocumentHead(_))},u.scrollbarWidth=function(g){var _=u.createElement("ace_inner");_.style.width="100%",_.style.minWidth="0px",_.style.height="200px",_.style.display="block";var p=u.createElement("ace_outer"),v=p.style;v.position="absolute",v.left="-10000px",v.overflow="hidden",v.width="200px",v.minWidth="0px",v.height="150px",v.display="block",p.appendChild(_);var c=g.documentElement;c.appendChild(p);var x=_.offsetWidth;v.overflow="scroll";var w=_.offsetWidth;return x==w&&(w=p.clientWidth),c.removeChild(p),x-w},typeof document>"u"&&(u.importCssString=function(){}),u.computedStyle=function(g,_){return window.getComputedStyle(g,"")||{}},u.setStyle=function(g,_,p){g[_]!==p&&(g[_]=p)},u.HAS_CSS_ANIMATION=!1,u.HAS_CSS_TRANSFORMS=!1,u.HI_DPI=!d.isWin||typeof window<"u"&&window.devicePixelRatio>=1.5,typeof document<"u"){var b=document.createElement("div");u.HI_DPI&&b.style.transform!==void 0&&(u.HAS_CSS_TRANSFORMS=!0),d.isEdge||b.style.animationName===void 0||(u.HAS_CSS_ANIMATION=!0),b=null}u.HAS_CSS_TRANSFORMS?u.translate=function(g,_,p){g.style.transform="translate("+Math.round(_)+"px, "+Math.round(p)+"px)"}:u.translate=function(g,_,p){g.style.top=Math.round(p)+"px",g.style.left=Math.round(_)+"px"}})),ace.define("ace/lib/oop",["require","exports","module"],(function(a,u,m){u.inherits=function(d,b){d.super_=b,d.prototype=Object.create(b.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}})},u.mixin=function(d,b){for(var g in b)d[g]=b[g];return d},u.implement=function(d,b){u.mixin(d,b)}})),ace.define("ace/lib/keys",["require","exports","module","ace/lib/oop"],(function(a,u,m){var d=a("./oop"),b=(function(){var g,_,p={MODIFIER_KEYS:{16:"Shift",17:"Ctrl",18:"Alt",224:"Meta",91:"MetaLeft",92:"MetaRight",93:"ContextMenu"},KEY_MODS:{ctrl:1,alt:2,option:2,shift:4,super:8,meta:8,command:8,cmd:8},FUNCTION_KEYS:{8:"Backspace",9:"Tab",13:"Return",19:"Pause",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"Print",45:"Insert",46:"Delete",96:"Numpad0",97:"Numpad1",98:"Numpad2",99:"Numpad3",100:"Numpad4",101:"Numpad5",102:"Numpad6",103:"Numpad7",104:"Numpad8",105:"Numpad9","-13":"NumpadEnter",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"Numlock",145:"Scrolllock"},PRINTABLE_KEYS:{32:" ",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",61:"=",65:"a",66:"b",67:"c",68:"d",69:"e",70:"f",71:"g",72:"h",73:"i",74:"j",75:"k",76:"l",77:"m",78:"n",79:"o",80:"p",81:"q",82:"r",83:"s",84:"t",85:"u",86:"v",87:"w",88:"x",89:"y",90:"z",107:"+",109:"-",110:".",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",111:"/",106:"*"}};for(_ in p.FUNCTION_KEYS)g=p.FUNCTION_KEYS[_].toLowerCase(),p[g]=parseInt(_,10);for(_ in p.PRINTABLE_KEYS)g=p.PRINTABLE_KEYS[_].toLowerCase(),p[g]=parseInt(_,10);return d.mixin(p,p.MODIFIER_KEYS),d.mixin(p,p.PRINTABLE_KEYS),d.mixin(p,p.FUNCTION_KEYS),p.enter=p.return,p.escape=p.esc,p.del=p.delete,p[173]="-",(function(){for(var v=["cmd","ctrl","alt","shift"],c=Math.pow(2,v.length);c--;)p.KEY_MODS[c]=v.filter((function(x){return c&p.KEY_MODS[x]})).join("-")+"-"})(),p.KEY_MODS[0]="",p.KEY_MODS[-1]="input-",p})();d.mixin(u,b),u.keyCodeToString=function(g){var _=b[g];return typeof _!="string"&&(_=String.fromCharCode(g)),_.toLowerCase()}})),ace.define("ace/lib/event",["require","exports","module","ace/lib/keys","ace/lib/useragent"],(function(a,u,m){var d=a("./keys"),b=a("./useragent"),g=null,_=0;u.addListener=function(w,T,L){if(w.addEventListener)return w.addEventListener(T,L,!1);if(w.attachEvent){var P=function(){L.call(w,window.event)};L._wrapper=P,w.attachEvent("on"+T,P)}},u.removeListener=function(w,T,L){if(w.removeEventListener)return w.removeEventListener(T,L,!1);w.detachEvent&&w.detachEvent("on"+T,L._wrapper||L)},u.stopEvent=function(w){return u.stopPropagation(w),u.preventDefault(w),!1},u.stopPropagation=function(w){w.stopPropagation?w.stopPropagation():w.cancelBubble=!0},u.preventDefault=function(w){w.preventDefault?w.preventDefault():w.returnValue=!1},u.getButton=function(w){return w.type=="dblclick"?0:w.type=="contextmenu"||b.isMac&&w.ctrlKey&&!w.altKey&&!w.shiftKey?2:w.preventDefault?w.button:{1:0,2:2,4:1}[w.button]},u.capture=function(w,T,L){function P(C){T&&T(C),L&&L(C),u.removeListener(document,"mousemove",T,!0),u.removeListener(document,"mouseup",P,!0),u.removeListener(document,"dragstart",P,!0)}return u.addListener(document,"mousemove",T,!0),u.addListener(document,"mouseup",P,!0),u.addListener(document,"dragstart",P,!0),P},u.addMouseWheelListener=function(w,T){"onmousewheel"in w?u.addListener(w,"mousewheel",(function(L){L.wheelDeltaX!==void 0?(L.wheelX=-L.wheelDeltaX/8,L.wheelY=-L.wheelDeltaY/8):(L.wheelX=0,L.wheelY=-L.wheelDelta/8),T(L)})):"onwheel"in w?u.addListener(w,"wheel",(function(L){switch(L.deltaMode){case L.DOM_DELTA_PIXEL:L.wheelX=.35*L.deltaX||0,L.wheelY=.35*L.deltaY||0;break;case L.DOM_DELTA_LINE:case L.DOM_DELTA_PAGE:L.wheelX=5*(L.deltaX||0),L.wheelY=5*(L.deltaY||0)}T(L)})):u.addListener(w,"DOMMouseScroll",(function(L){L.axis&&L.axis==L.HORIZONTAL_AXIS?(L.wheelX=5*(L.detail||0),L.wheelY=0):(L.wheelX=0,L.wheelY=5*(L.detail||0)),T(L)}))},u.addMultiMouseDownListener=function(w,T,L,P){var C,I,F,R=0,D={2:"dblclick",3:"tripleclick",4:"quadclick"};function G(k){if(u.getButton(k)!==0?R=0:k.detail>1?++R>4&&(R=1):R=1,b.isIE){var V=Math.abs(k.clientX-C)>5||Math.abs(k.clientY-I)>5;F&&!V||(R=1),F&&clearTimeout(F),F=setTimeout((function(){F=null}),T[R-1]||600),R==1&&(C=k.clientX,I=k.clientY)}if(k._clicks=R,L[P]("mousedown",k),R>4)R=0;else if(R>1)return L[P](D[R],k)}function j(k){R=2,F&&clearTimeout(F),F=setTimeout((function(){F=null}),T[R-1]||600),L[P]("mousedown",k),L[P](D[R],k)}Array.isArray(w)||(w=[w]),w.forEach((function(k){u.addListener(k,"mousedown",G),b.isOldIE&&u.addListener(k,"dblclick",j)}))};var p=b.isMac&&b.isOpera&&!("KeyboardEvent"in window)?function(w){return 0|(w.metaKey?1:0)|(w.altKey?2:0)|(w.shiftKey?4:0)|(w.ctrlKey?8:0)}:function(w){return 0|(w.ctrlKey?1:0)|(w.altKey?2:0)|(w.shiftKey?4:0)|(w.metaKey?8:0)};function v(w,T,L){var P=p(T);if(!b.isMac&&g){if(T.getModifierState&&(T.getModifierState("OS")||T.getModifierState("Win"))&&(P|=8),g.altGr){if((3&P)==3)return;g.altGr=0}if(L===18||L===17){var C="location"in T?T.location:T.keyLocation;L===17&&C===1?g[L]==1&&(_=T.timeStamp):L===18&&P===3&&C===2&&T.timeStamp-_<50&&(g.altGr=!0)}}if(L in d.MODIFIER_KEYS&&(L=-1),P||L!==13||(C="location"in T?T.location:T.keyLocation)!==3||(w(T,P,-L),!T.defaultPrevented)){if(b.isChromeOS&&8&P){if(w(T,P,L),T.defaultPrevented)return;P&=-9}return!!(P||L in d.FUNCTION_KEYS||L in d.PRINTABLE_KEYS)&&w(T,P,L)}}function c(){g=Object.create(null)}if(u.getModifierString=function(w){return d.KEY_MODS[p(w)]},u.addCommandKeyListener=function(w,T){var L=u.addListener;if(b.isOldGecko||b.isOpera&&!("KeyboardEvent"in window)){var P=null;L(w,"keydown",(function(I){P=I.keyCode})),L(w,"keypress",(function(I){return v(T,I,P)}))}else{var C=null;L(w,"keydown",(function(I){g[I.keyCode]=(g[I.keyCode]||0)+1;var F=v(T,I,I.keyCode);return C=I.defaultPrevented,F})),L(w,"keypress",(function(I){C&&(I.ctrlKey||I.altKey||I.shiftKey||I.metaKey)&&(u.stopEvent(I),C=null)})),L(w,"keyup",(function(I){g[I.keyCode]=null})),g||(c(),L(window,"focus",c))}},typeof window=="object"&&window.postMessage&&!b.isOldIE){var x=1;u.nextTick=function(w,T){T=T||window;var L="zero-timeout-message-"+x++,P=function(C){C.data==L&&(u.stopPropagation(C),u.removeListener(T,"message",P),w())};u.addListener(T,"message",P),T.postMessage(L,"*")}}u.$idleBlocked=!1,u.onIdle=function(w,T){return setTimeout((function L(){u.$idleBlocked?setTimeout(L,100):w()}),T)},u.$idleBlockId=null,u.blockIdle=function(w){u.$idleBlockId&&clearTimeout(u.$idleBlockId),u.$idleBlocked=!0,u.$idleBlockId=setTimeout((function(){u.$idleBlocked=!1}),w||100)},u.nextFrame=typeof window=="object"&&(window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame),u.nextFrame?u.nextFrame=u.nextFrame.bind(window):u.nextFrame=function(w){setTimeout(w,17)}})),ace.define("ace/range",["require","exports","module"],(function(a,u,m){var d=function(b,g,_,p){this.start={row:b,column:g},this.end={row:_,column:p}};(function(){this.isEqual=function(b){return this.start.row===b.start.row&&this.end.row===b.end.row&&this.start.column===b.start.column&&this.end.column===b.end.column},this.toString=function(){return"Range: ["+this.start.row+"/"+this.start.column+"] -> ["+this.end.row+"/"+this.end.column+"]"},this.contains=function(b,g){return this.compare(b,g)==0},this.compareRange=function(b){var g,_=b.end,p=b.start;return(g=this.compare(_.row,_.column))==1?(g=this.compare(p.row,p.column))==1?2:g==0?1:0:g==-1?-2:(g=this.compare(p.row,p.column))==-1?-1:g==1?42:0},this.comparePoint=function(b){return this.compare(b.row,b.column)},this.containsRange=function(b){return this.comparePoint(b.start)==0&&this.comparePoint(b.end)==0},this.intersects=function(b){var g=this.compareRange(b);return g==-1||g==0||g==1},this.isEnd=function(b,g){return this.end.row==b&&this.end.column==g},this.isStart=function(b,g){return this.start.row==b&&this.start.column==g},this.setStart=function(b,g){typeof b=="object"?(this.start.column=b.column,this.start.row=b.row):(this.start.row=b,this.start.column=g)},this.setEnd=function(b,g){typeof b=="object"?(this.end.column=b.column,this.end.row=b.row):(this.end.row=b,this.end.column=g)},this.inside=function(b,g){return this.compare(b,g)==0&&!this.isEnd(b,g)&&!this.isStart(b,g)},this.insideStart=function(b,g){return this.compare(b,g)==0&&!this.isEnd(b,g)},this.insideEnd=function(b,g){return this.compare(b,g)==0&&!this.isStart(b,g)},this.compare=function(b,g){return this.isMultiLine()||b!==this.start.row?b<this.start.row?-1:b>this.end.row?1:this.start.row===b?g>=this.start.column?0:-1:this.end.row===b?g<=this.end.column?0:1:0:g<this.start.column?-1:g>this.end.column?1:0},this.compareStart=function(b,g){return this.start.row==b&&this.start.column==g?-1:this.compare(b,g)},this.compareEnd=function(b,g){return this.end.row==b&&this.end.column==g?1:this.compare(b,g)},this.compareInside=function(b,g){return this.end.row==b&&this.end.column==g?1:this.start.row==b&&this.start.column==g?-1:this.compare(b,g)},this.clipRows=function(b,g){if(this.end.row>g)var _={row:g+1,column:0};else this.end.row<b&&(_={row:b,column:0});if(this.start.row>g)var p={row:g+1,column:0};else this.start.row<b&&(p={row:b,column:0});return d.fromPoints(p||this.start,_||this.end)},this.extend=function(b,g){var _=this.compare(b,g);if(_==0)return this;if(_==-1)var p={row:b,column:g};else var v={row:b,column:g};return d.fromPoints(p||this.start,v||this.end)},this.isEmpty=function(){return this.start.row===this.end.row&&this.start.column===this.end.column},this.isMultiLine=function(){return this.start.row!==this.end.row},this.clone=function(){return d.fromPoints(this.start,this.end)},this.collapseRows=function(){return this.end.column==0?new d(this.start.row,0,Math.max(this.start.row,this.end.row-1),0):new d(this.start.row,0,this.end.row,0)},this.toScreenRange=function(b){var g=b.documentToScreenPosition(this.start),_=b.documentToScreenPosition(this.end);return new d(g.row,g.column,_.row,_.column)},this.moveBy=function(b,g){this.start.row+=b,this.start.column+=g,this.end.row+=b,this.end.column+=g}}).call(d.prototype),d.fromPoints=function(b,g){return new d(b.row,b.column,g.row,g.column)},d.comparePoints=function(b,g){return b.row-g.row||b.column-g.column},d.comparePoints=function(b,g){return b.row-g.row||b.column-g.column},u.Range=d})),ace.define("ace/lib/lang",["require","exports","module"],(function(a,u,m){u.last=function(g){return g[g.length-1]},u.stringReverse=function(g){return g.split("").reverse().join("")},u.stringRepeat=function(g,_){for(var p="";_>0;)1&_&&(p+=g),(_>>=1)&&(g+=g);return p};var d=/^\s\s*/,b=/\s\s*$/;u.stringTrimLeft=function(g){return g.replace(d,"")},u.stringTrimRight=function(g){return g.replace(b,"")},u.copyObject=function(g){var _={};for(var p in g)_[p]=g[p];return _},u.copyArray=function(g){for(var _=[],p=0,v=g.length;p<v;p++)g[p]&&typeof g[p]=="object"?_[p]=this.copyObject(g[p]):_[p]=g[p];return _},u.deepCopy=function g(_){if(typeof _!="object"||!_)return _;var p;if(Array.isArray(_)){p=[];for(var v=0;v<_.length;v++)p[v]=g(_[v]);return p}if(Object.prototype.toString.call(_)!=="[object Object]")return _;for(var v in p={},_)p[v]=g(_[v]);return p},u.arrayToMap=function(g){for(var _={},p=0;p<g.length;p++)_[g[p]]=1;return _},u.createMap=function(g){var _=Object.create(null);for(var p in g)_[p]=g[p];return _},u.arrayRemove=function(g,_){for(var p=0;p<=g.length;p++)_===g[p]&&g.splice(p,1)},u.escapeRegExp=function(g){return g.replace(/([.*+?^${}()|[\]\/\\])/g,"\\$1")},u.escapeHTML=function(g){return(""+g).replace(/&/g,"&#38;").replace(/"/g,"&#34;").replace(/'/g,"&#39;").replace(/</g,"&#60;")},u.getMatchOffsets=function(g,_){var p=[];return g.replace(_,(function(v){p.push({offset:arguments[arguments.length-2],length:v.length})})),p},u.deferredCall=function(g){var _=null,p=function(){_=null,g()},v=function(c){return v.cancel(),_=setTimeout(p,c||0),v};return v.schedule=v,v.call=function(){return this.cancel(),g(),v},v.cancel=function(){return clearTimeout(_),_=null,v},v.isPending=function(){return _},v},u.delayedCall=function(g,_){var p=null,v=function(){p=null,g()},c=function(x){p==null&&(p=setTimeout(v,x||_))};return c.delay=function(x){p&&clearTimeout(p),p=setTimeout(v,x||_)},c.schedule=c,c.call=function(){this.cancel(),g()},c.cancel=function(){p&&clearTimeout(p),p=null},c.isPending=function(){return p},c}})),ace.define("ace/clipboard",["require","exports","module"],(function(a,u,m){var d;m.exports={lineMode:!1,pasteCancelled:function(){return!!(d&&d>Date.now()-50)||(d=!1)},cancel:function(){d=Date.now()}}})),ace.define("ace/keyboard/textinput",["require","exports","module","ace/lib/event","ace/lib/useragent","ace/lib/dom","ace/lib/lang","ace/clipboard","ace/lib/keys"],(function(a,u,m){var d=a("../lib/event"),b=a("../lib/useragent"),g=a("../lib/dom"),_=a("../lib/lang"),p=a("../clipboard"),v=b.isChrome<18,c=b.isIE,x=b.isChrome>63,w=400,T=a("../lib/keys"),L=T.KEY_MODS,P=b.isIOS,C=P?/\s/:/\n/;u.TextInput=function(I,F){var R=g.createElement("textarea");R.className="ace_text-input",R.setAttribute("wrap","off"),R.setAttribute("autocorrect","off"),R.setAttribute("autocapitalize","off"),R.setAttribute("spellcheck",!1),R.style.opacity="0",I.insertBefore(R,I.firstChild);var D=!1,G=!1,j=!1,k=!1,V="";b.isMobile||(R.style.fontSize="1px");var H=!1,te=!1,ne="",he=0,ie=0,ce=0;try{var Se=document.activeElement===R}catch{}d.addListener(R,"blur",(function(nt){te||(F.onBlur(nt),Se=!1)})),d.addListener(R,"focus",(function(nt){if(!te){if(Se=!0,b.isEdge)try{if(!document.hasFocus())return}catch{}F.onFocus(nt),b.isEdge?setTimeout(Ee):Ee()}})),this.$focusScroll=!1,this.focus=function(){if(V||x||this.$focusScroll=="browser")return R.focus({preventScroll:!0});var nt=R.style.top;R.style.position="fixed",R.style.top="0px";try{var Nt=R.getBoundingClientRect().top!=0}catch{return}var en=[];if(Nt)for(var _e=R.parentElement;_e&&_e.nodeType==1;)en.push(_e),_e.setAttribute("ace_nocontext",!0),_e=!_e.parentElement&&_e.getRootNode?_e.getRootNode().host:_e.parentElement;R.focus({preventScroll:!0}),Nt&&en.forEach((function(ue){ue.removeAttribute("ace_nocontext")})),setTimeout((function(){R.style.position="",R.style.top=="0px"&&(R.style.top=nt)}),0)},this.blur=function(){R.blur()},this.isFocused=function(){return Se},F.on("beforeEndOperation",(function(){F.curOp&&F.curOp.command.name=="insertstring"||(j&&(ne=R.value="",Ae()),Ee())}));var Ee=P?function(nt){if(Se&&(!D||nt)&&!k){nt||(nt="");var Nt=`
 ab`+nt+`cde fg
`;Nt!=R.value&&(R.value=ne=Nt);var en=4+(nt.length||(F.selection.isEmpty()?0:1));he==4&&ie==en||R.setSelectionRange(4,en),he=4,ie=en}}:function(){if(!j&&!k&&(Se||le)){j=!0;var nt=F.selection,Nt=nt.getRange(),en=nt.cursor.row,_e=Nt.start.column,ue=Nt.end.column,ze=F.session.getLine(en);if(Nt.start.row!=en){var rt=F.session.getLine(en-1);_e=Nt.start.row<en-1?0:_e,ue+=rt.length+1,ze=rt+`
`+ze}else if(Nt.end.row!=en){var pt=F.session.getLine(en+1);ue=Nt.end.row>en+1?pt.length:ue,ue+=ze.length+1,ze=ze+`
`+pt}ze.length>w&&(_e<w&&ue<w?ze=ze.slice(0,w):(ze=`
`,_e=0,ue=1));var ht=ze+`

`;if(ht!=ne&&(R.value=ne=ht,he=ie=ht.length),le&&(he=R.selectionStart,ie=R.selectionEnd),ie!=ue||he!=_e||R.selectionEnd!=ie)try{R.setSelectionRange(_e,ue),he=_e,ie=ue}catch{}j=!1}};Se&&F.onFocus();var me=null;this.setInputHandler=function(nt){me=nt},this.getInputHandler=function(){return me};var le=!1,we=function(nt,Nt){if(le&&(le=!1),G)return Ee(),nt&&F.onPaste(nt),G=!1,"";for(var en=R.selectionStart,_e=R.selectionEnd,ue=he,ze=ne.length-ie,rt=nt,pt=nt.length-en,ht=nt.length-_e,Yt=0;ue>0&&ne[Yt]==nt[Yt];)Yt++,ue--;for(rt=rt.slice(Yt),Yt=1;ze>0&&ne.length-Yt>he-1&&ne[ne.length-Yt]==nt[nt.length-Yt];)Yt++,ze--;pt-=Yt-1,ht-=Yt-1;var Qt=rt.length-Yt+1;return Qt<0&&(ue=-Qt,Qt=0),rt=rt.slice(0,Qt),Nt||rt||pt||ue||ze||ht?(k=!0,rt&&!ue&&!ze&&!pt&&!ht||H?F.onTextInput(rt):F.onTextInput(rt,{extendLeft:ue,extendRight:ze,restoreStart:pt,restoreEnd:ht}),k=!1,ne=nt,he=en,ie=_e,ce=ht,rt):""},Re=function(nt){if(j)return pn();if(nt&&nt.inputType){if(nt.inputType=="historyUndo")return F.execCommand("undo");if(nt.inputType=="historyRedo")return F.execCommand("redo")}var Nt=R.value,en=we(Nt,!0);(Nt.length>500||C.test(en))&&Ee()},Fe=function(nt,Nt,en){var _e=nt.clipboardData||window.clipboardData;if(_e&&!v){var ue=c||en?"Text":"text/plain";try{return Nt?_e.setData(ue,Nt)!==!1:_e.getData(ue)}catch(ze){if(!en)return Fe(ze,Nt,!0)}}},qe=function(nt,Nt){var en=F.getCopyText();if(!en)return d.preventDefault(nt);Fe(nt,en)?(P&&(Ee(en),D=en,setTimeout((function(){D=!1}),10)),Nt?F.onCut():F.onCopy(),d.preventDefault(nt)):(D=!0,R.value=en,R.select(),setTimeout((function(){D=!1,Ee(),Nt?F.onCut():F.onCopy()})))},ot=function(nt){qe(nt,!0)},dn=function(nt){qe(nt,!1)},mn=function(nt){var Nt=Fe(nt);p.pasteCancelled()||(typeof Nt=="string"?(Nt&&F.onPaste(Nt,nt),b.isIE&&setTimeout(Ee),d.preventDefault(nt)):(R.value="",G=!0))};d.addCommandKeyListener(R,F.onCommandKey.bind(F)),d.addListener(R,"select",(function(nt){j||(D?D=!1:(function(Nt){return Nt.selectionStart===0&&Nt.selectionEnd>=ne.length&&Nt.value===ne&&ne&&Nt.selectionEnd!==ie})(R)&&(F.selectAll(),Ee()))})),d.addListener(R,"input",Re),d.addListener(R,"cut",ot),d.addListener(R,"copy",dn),d.addListener(R,"paste",mn),"oncut"in R&&"oncopy"in R&&"onpaste"in R||d.addListener(I,"keydown",(function(nt){if((!b.isMac||nt.metaKey)&&nt.ctrlKey)switch(nt.keyCode){case 67:dn(nt);break;case 86:mn(nt);break;case 88:ot(nt)}}));var pn=function(){if(j&&F.onCompositionUpdate&&!F.$readOnly){if(H)return Bt();if(j.useTextareaForIME)F.onCompositionUpdate(R.value);else{var nt=R.value;we(nt),j.markerRange&&(j.context&&(j.markerRange.start.column=j.selectionStart=j.context.compositionStartOffset),j.markerRange.end.column=j.markerRange.start.column+ie-j.selectionStart+ce)}}},Ae=function(nt){F.onCompositionEnd&&!F.$readOnly&&(j=!1,F.onCompositionEnd(),F.off("mousedown",Bt),nt&&Re())};function Bt(){te=!0,R.blur(),R.focus(),te=!1}var Tt,zt=_.delayedCall(pn,50).schedule.bind(null,null);function At(){clearTimeout(Tt),Tt=setTimeout((function(){V&&(R.style.cssText=V,V=""),F.renderer.$isMousePressed=!1,F.renderer.$keepTextAreaAtCursor&&F.renderer.$moveTextAreaToCursor()}),0)}d.addListener(R,"compositionstart",(function(nt){if(!j&&F.onCompositionStart&&!F.$readOnly&&(j={},!H)){setTimeout(pn,0),F.on("mousedown",Bt);var Nt=F.getSelectionRange();Nt.end.row=Nt.start.row,Nt.end.column=Nt.start.column,j.markerRange=Nt,j.selectionStart=he,F.onCompositionStart(j),j.useTextareaForIME?(R.value="",ne="",he=0,ie=0):(R.msGetInputContext&&(j.context=R.msGetInputContext()),R.getInputContext&&(j.context=R.getInputContext()))}})),d.addListener(R,"compositionupdate",pn),d.addListener(R,"keyup",(function(nt){nt.keyCode==27&&R.value.length<R.selectionStart&&(j||(ne=R.value),he=ie=-1,Ee()),zt()})),d.addListener(R,"keydown",zt),d.addListener(R,"compositionend",Ae),this.getElement=function(){return R},this.setCommandMode=function(nt){H=nt,R.readOnly=!1},this.setReadOnly=function(nt){H||(R.readOnly=nt)},this.setCopyWithEmptySelection=function(nt){},this.onContextMenu=function(nt){le=!0,Ee(),F._emit("nativecontextmenu",{target:F,domEvent:nt}),this.moveToMouse(nt,!0)},this.moveToMouse=function(nt,Nt){V||(V=R.style.cssText),R.style.cssText=(Nt?"z-index:100000;":"")+(b.isIE?"opacity:0.1;":"")+"text-indent: -"+(he+ie)*F.renderer.characterWidth*.5+"px;";var en=F.container.getBoundingClientRect(),_e=g.computedStyle(F.container),ue=en.top+(parseInt(_e.borderTopWidth)||0),ze=en.left+(parseInt(en.borderLeftWidth)||0),rt=en.bottom-ue-R.clientHeight-2,pt=function(ht){g.translate(R,ht.clientX-ze-2,Math.min(ht.clientY-ue-2,rt))};pt(nt),nt.type=="mousedown"&&(F.renderer.$isMousePressed=!0,clearTimeout(Tt),b.isWin&&d.capture(F.container,pt,At))},this.onContextMenuClose=At;var yn=function(nt){F.textInput.onContextMenu(nt),At()};d.addListener(R,"mouseup",yn),d.addListener(R,"mousedown",(function(nt){nt.preventDefault(),At()})),d.addListener(F.renderer.scroller,"contextmenu",yn),d.addListener(R,"contextmenu",yn),P&&(function(nt,Nt,en){var _e=null,ue=!1;en.addEventListener("keydown",(function(rt){_e&&clearTimeout(_e),ue=!0}),!0),en.addEventListener("keyup",(function(rt){_e=setTimeout((function(){ue=!1}),100)}),!0);var ze=function(rt){if(document.activeElement===en&&!(ue||j||Nt.$mouseHandler.isMousePressed||D)){var pt=en.selectionStart,ht=en.selectionEnd,Yt=null,Qt=0;if(pt==0?Yt=T.up:pt==1?Yt=T.home:ht>ie&&ne[ht]==`
`?Yt=T.end:pt<he&&ne[pt-1]==" "?(Yt=T.left,Qt=L.option):pt<he||pt==he&&ie!=he&&pt==ht?Yt=T.left:ht>ie&&ne.slice(0,ht).split(`
`).length>2?Yt=T.down:ht>ie&&ne[ht-1]==" "?(Yt=T.right,Qt=L.option):(ht>ie||ht==ie&&ie!=he&&pt==ht)&&(Yt=T.right),pt!==ht&&(Qt|=L.shift),Yt){if(!Nt.onCommandKey({},Qt,Yt)&&Nt.commands){Yt=T.keyCodeToString(Yt);var Cn=Nt.commands.findKeyCommand(Qt,Yt);Cn&&Nt.execCommand(Cn)}he=pt,ie=ht,Ee("")}}};document.addEventListener("selectionchange",ze),Nt.on("destroy",(function(){document.removeEventListener("selectionchange",ze)}))})(0,F,R)}})),ace.define("ace/mouse/default_handlers",["require","exports","module","ace/lib/useragent"],(function(a,u,m){var d=a("../lib/useragent");function b(_){_.$clickSelection=null;var p=_.editor;p.setDefaultHandler("mousedown",this.onMouseDown.bind(_)),p.setDefaultHandler("dblclick",this.onDoubleClick.bind(_)),p.setDefaultHandler("tripleclick",this.onTripleClick.bind(_)),p.setDefaultHandler("quadclick",this.onQuadClick.bind(_)),p.setDefaultHandler("mousewheel",this.onMouseWheel.bind(_)),["select","startSelect","selectEnd","selectAllEnd","selectByWordsEnd","selectByLinesEnd","dragWait","dragWaitEnd","focusWait"].forEach((function(v){_[v]=this[v]}),this),_.selectByLines=this.extendSelectionBy.bind(_,"getLineRange"),_.selectByWords=this.extendSelectionBy.bind(_,"getWordRange")}function g(_,p){if(_.start.row==_.end.row)var v=2*p.column-_.start.column-_.end.column;else _.start.row!=_.end.row-1||_.start.column||_.end.column?v=2*p.row-_.start.row-_.end.row:v=p.column-4;return v<0?{cursor:_.start,anchor:_.end}:{cursor:_.end,anchor:_.start}}(function(){this.onMouseDown=function(_){var p=_.inSelection(),v=_.getDocumentPosition();this.mousedownEvent=_;var c=this.editor,x=_.getButton();return x!==0?((c.getSelectionRange().isEmpty()||x==1)&&c.selection.moveToPosition(v),void(x==2&&(c.textInput.onContextMenu(_.domEvent),d.isMozilla||_.preventDefault()))):(this.mousedownEvent.time=Date.now(),!p||c.isFocused()||(c.focus(),!this.$focusTimeout||this.$clickSelection||c.inMultiSelectMode)?(this.captureMouse(_),this.startSelect(v,_.domEvent._clicks>1),_.preventDefault()):(this.setState("focusWait"),void this.captureMouse(_)))},this.startSelect=function(_,p){_=_||this.editor.renderer.screenToTextCoordinates(this.x,this.y);var v=this.editor;this.mousedownEvent&&(this.mousedownEvent.getShiftKey()?v.selection.selectToPosition(_):p||v.selection.moveToPosition(_),p||this.select(),v.renderer.scroller.setCapture&&v.renderer.scroller.setCapture(),v.setStyle("ace_selecting"),this.setState("select"))},this.select=function(){var _,p=this.editor,v=p.renderer.screenToTextCoordinates(this.x,this.y);if(this.$clickSelection){var c=this.$clickSelection.comparePoint(v);if(c==-1)_=this.$clickSelection.end;else if(c==1)_=this.$clickSelection.start;else{var x=g(this.$clickSelection,v);v=x.cursor,_=x.anchor}p.selection.setSelectionAnchor(_.row,_.column)}p.selection.selectToPosition(v),p.renderer.scrollCursorIntoView()},this.extendSelectionBy=function(_){var p,v=this.editor,c=v.renderer.screenToTextCoordinates(this.x,this.y),x=v.selection[_](c.row,c.column);if(this.$clickSelection){var w=this.$clickSelection.comparePoint(x.start),T=this.$clickSelection.comparePoint(x.end);if(w==-1&&T<=0)p=this.$clickSelection.end,x.end.row==c.row&&x.end.column==c.column||(c=x.start);else if(T==1&&w>=0)p=this.$clickSelection.start,x.start.row==c.row&&x.start.column==c.column||(c=x.end);else if(w==-1&&T==1)c=x.end,p=x.start;else{var L=g(this.$clickSelection,c);c=L.cursor,p=L.anchor}v.selection.setSelectionAnchor(p.row,p.column)}v.selection.selectToPosition(c),v.renderer.scrollCursorIntoView()},this.selectEnd=this.selectAllEnd=this.selectByWordsEnd=this.selectByLinesEnd=function(){this.$clickSelection=null,this.editor.unsetStyle("ace_selecting"),this.editor.renderer.scroller.releaseCapture&&this.editor.renderer.scroller.releaseCapture()},this.focusWait=function(){var _,p,v,c,x=(_=this.mousedownEvent.x,p=this.mousedownEvent.y,v=this.x,c=this.y,Math.sqrt(Math.pow(v-_,2)+Math.pow(c-p,2))),w=Date.now();(x>0||w-this.mousedownEvent.time>this.$focusTimeout)&&this.startSelect(this.mousedownEvent.getDocumentPosition())},this.onDoubleClick=function(_){var p=_.getDocumentPosition(),v=this.editor,c=v.session.getBracketRange(p);c?(c.isEmpty()&&(c.start.column--,c.end.column++),this.setState("select")):(c=v.selection.getWordRange(p.row,p.column),this.setState("selectByWords")),this.$clickSelection=c,this.select()},this.onTripleClick=function(_){var p=_.getDocumentPosition(),v=this.editor;this.setState("selectByLines");var c=v.getSelectionRange();c.isMultiLine()&&c.contains(p.row,p.column)?(this.$clickSelection=v.selection.getLineRange(c.start.row),this.$clickSelection.end=v.selection.getLineRange(c.end.row).end):this.$clickSelection=v.selection.getLineRange(p.row),this.select()},this.onQuadClick=function(_){var p=this.editor;p.selectAll(),this.$clickSelection=p.getSelectionRange(),this.setState("selectAll")},this.onMouseWheel=function(_){if(!_.getAccelKey()){_.getShiftKey()&&_.wheelY&&!_.wheelX&&(_.wheelX=_.wheelY,_.wheelY=0);var p=this.editor;this.$lastScroll||(this.$lastScroll={t:0,vx:0,vy:0,allowed:0});var v=this.$lastScroll,c=_.domEvent.timeStamp,x=c-v.t,w=x?_.wheelX/x:v.vx,T=x?_.wheelY/x:v.vy;x<550&&(w=(w+v.vx)/2,T=(T+v.vy)/2);var L=Math.abs(w/T),P=!1;return L>=1&&p.renderer.isScrollableBy(_.wheelX*_.speed,0)&&(P=!0),L<=1&&p.renderer.isScrollableBy(0,_.wheelY*_.speed)&&(P=!0),P?v.allowed=c:c-v.allowed<550&&(Math.abs(w)<=1.5*Math.abs(v.vx)&&Math.abs(T)<=1.5*Math.abs(v.vy)?(P=!0,v.allowed=c):v.allowed=0),v.t=c,v.vx=w,v.vy=T,P?(p.renderer.scrollBy(_.wheelX*_.speed,_.wheelY*_.speed),_.stop()):void 0}}}).call(b.prototype),u.DefaultHandlers=b})),ace.define("ace/tooltip",["require","exports","module","ace/lib/oop","ace/lib/dom"],(function(a,u,m){a("./lib/oop");var d=a("./lib/dom");function b(g){this.isOpen=!1,this.$element=null,this.$parentNode=g}(function(){this.$init=function(){return this.$element=d.createElement("div"),this.$element.className="ace_tooltip",this.$element.style.display="none",this.$parentNode.appendChild(this.$element),this.$element},this.getElement=function(){return this.$element||this.$init()},this.setText=function(g){this.getElement().textContent=g},this.setHtml=function(g){this.getElement().innerHTML=g},this.setPosition=function(g,_){this.getElement().style.left=g+"px",this.getElement().style.top=_+"px"},this.setClassName=function(g){d.addCssClass(this.getElement(),g)},this.show=function(g,_,p){g!=null&&this.setText(g),_!=null&&p!=null&&this.setPosition(_,p),this.isOpen||(this.getElement().style.display="block",this.isOpen=!0)},this.hide=function(){this.isOpen&&(this.getElement().style.display="none",this.isOpen=!1)},this.getHeight=function(){return this.getElement().offsetHeight},this.getWidth=function(){return this.getElement().offsetWidth},this.destroy=function(){this.isOpen=!1,this.$element&&this.$element.parentNode&&this.$element.parentNode.removeChild(this.$element)}}).call(b.prototype),u.Tooltip=b})),ace.define("ace/mouse/default_gutter_handler",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/event","ace/tooltip"],(function(a,u,m){var d=a("../lib/dom"),b=a("../lib/oop"),g=a("../lib/event"),_=a("../tooltip").Tooltip;function p(v){_.call(this,v)}b.inherits(p,_),(function(){this.setPosition=function(v,c){var x=window.innerWidth||document.documentElement.clientWidth,w=window.innerHeight||document.documentElement.clientHeight,T=this.getWidth(),L=this.getHeight();(v+=15)+T>x&&(v-=v+T-x),(c+=15)+L>w&&(c-=20+L),_.prototype.setPosition.call(this,v,c)}}).call(p.prototype),u.GutterHandler=function(v){var c,x,w,T=v.editor,L=T.renderer.$gutterLayer,P=new p(T.container);function C(){c&&(c=clearTimeout(c)),w&&(P.hide(),w=null,T._signal("hideGutterTooltip",P),T.removeEventListener("mousewheel",C))}function I(F){P.setPosition(F.x,F.y)}v.editor.setDefaultHandler("guttermousedown",(function(F){if(T.isFocused()&&F.getButton()==0&&L.getRegion(F)!="foldWidgets"){var R=F.getDocumentPosition().row,D=T.session.selection;if(F.getShiftKey())D.selectTo(R,0);else{if(F.domEvent.detail==2)return T.selectAll(),F.preventDefault();v.$clickSelection=T.selection.getLineRange(R)}return v.setState("selectByLines"),v.captureMouse(F),F.preventDefault()}})),v.editor.setDefaultHandler("guttermousemove",(function(F){var R=F.domEvent.target||F.domEvent.srcElement;if(d.hasCssClass(R,"ace_fold-widget"))return C();w&&v.$tooltipFollowsMouse&&I(F),x=F,c||(c=setTimeout((function(){c=null,x&&!v.isMousePressed?(function(){var D=x.getDocumentPosition().row,G=L.$annotations[D];if(!G)return C();if(D==T.session.getLength()){var j=T.renderer.pixelToScreenCoordinates(0,x.y).row,k=x.$pos;if(j>T.session.documentToScreenRow(k.row,k.column))return C()}if(w!=G)if(w=G.text.join("<br/>"),P.setHtml(w),P.show(),T._signal("showGutterTooltip",P),T.on("mousewheel",C),v.$tooltipFollowsMouse)I(x);else{var V=x.domEvent.target.getBoundingClientRect(),H=P.getElement().style;H.left=V.right+"px",H.top=V.bottom+"px"}})():C()}),50))})),g.addListener(T.renderer.$gutter,"mouseout",(function(F){x=null,w&&!c&&(c=setTimeout((function(){c=null,C()}),50))})),T.on("changeSession",C)}})),ace.define("ace/mouse/mouse_event",["require","exports","module","ace/lib/event","ace/lib/useragent"],(function(a,u,m){var d=a("../lib/event"),b=a("../lib/useragent"),g=u.MouseEvent=function(_,p){this.domEvent=_,this.editor=p,this.x=this.clientX=_.clientX,this.y=this.clientY=_.clientY,this.$pos=null,this.$inSelection=null,this.propagationStopped=!1,this.defaultPrevented=!1};(function(){this.stopPropagation=function(){d.stopPropagation(this.domEvent),this.propagationStopped=!0},this.preventDefault=function(){d.preventDefault(this.domEvent),this.defaultPrevented=!0},this.stop=function(){this.stopPropagation(),this.preventDefault()},this.getDocumentPosition=function(){return this.$pos||(this.$pos=this.editor.renderer.screenToTextCoordinates(this.clientX,this.clientY)),this.$pos},this.inSelection=function(){if(this.$inSelection!==null)return this.$inSelection;var _=this.editor.getSelectionRange();if(_.isEmpty())this.$inSelection=!1;else{var p=this.getDocumentPosition();this.$inSelection=_.contains(p.row,p.column)}return this.$inSelection},this.getButton=function(){return d.getButton(this.domEvent)},this.getShiftKey=function(){return this.domEvent.shiftKey},this.getAccelKey=b.isMac?function(){return this.domEvent.metaKey}:function(){return this.domEvent.ctrlKey}}).call(g.prototype)})),ace.define("ace/mouse/dragdrop_handler",["require","exports","module","ace/lib/dom","ace/lib/event","ace/lib/useragent"],(function(a,u,m){var d=a("../lib/dom"),b=a("../lib/event"),g=a("../lib/useragent");function _(v){var c=v.editor,x=d.createElement("img");x.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",g.isOpera&&(x.style.cssText="width:1px;height:1px;position:fixed;top:0;left:0;z-index:2147483647;opacity:0;"),["dragWait","dragWaitEnd","startDrag","dragReadyEnd","onMouseDrag"].forEach((function(Ee){v[Ee]=this[Ee]}),this),c.addEventListener("mousedown",this.onMouseDown.bind(v));var w,T,L,P,C,I,F,R,D,G,j,k=c.container,V=0;function H(){var Ee=I;(function(me,le){var we=Date.now(),Re=!le||me.row!=le.row,Fe=!le||me.column!=le.column;!G||Re||Fe?(c.moveCursorToPosition(me),G=we,j={x:T,y:L}):p(j.x,j.y,T,L)>5?G=null:we-G>=200&&(c.renderer.scrollCursorIntoView(),G=null)})(I=c.renderer.screenToTextCoordinates(T,L),Ee),(function(me,le){var we=Date.now(),Re=c.renderer.layerConfig.lineHeight,Fe=c.renderer.layerConfig.characterWidth,qe=c.renderer.scroller.getBoundingClientRect(),ot={x:{left:T-qe.left,right:qe.right-T},y:{top:L-qe.top,bottom:qe.bottom-L}},dn=Math.min(ot.x.left,ot.x.right),mn=Math.min(ot.y.top,ot.y.bottom),pn={row:me.row,column:me.column};dn/Fe<=2&&(pn.column+=ot.x.left<ot.x.right?-3:2),mn/Re<=1&&(pn.row+=ot.y.top<ot.y.bottom?-1:1);var Ae=me.row!=pn.row,Bt=me.column!=pn.column,Tt=!le||me.row!=le.row;Ae||Bt&&!Tt?D?we-D>=200&&c.renderer.scrollCursorIntoView(pn):D=we:D=null})(I,Ee)}function te(){C=c.selection.toOrientedRange(),w=c.session.addMarker(C,"ace_selection",c.getSelectionStyle()),c.clearSelection(),c.isFocused()&&c.renderer.$cursorLayer.setBlinking(!1),clearInterval(P),H(),P=setInterval(H,20),V=0,b.addListener(document,"mousemove",ie)}function ne(){clearInterval(P),c.session.removeMarker(w),w=null,c.selection.fromOrientedRange(C),c.isFocused()&&!R&&c.$resetCursorStyle(),C=null,I=null,V=0,D=null,G=null,b.removeListener(document,"mousemove",ie)}this.onDragStart=function(Ee){if(this.cancelDrag||!k.draggable){var me=this;return setTimeout((function(){me.startSelect(),me.captureMouse(Ee)}),0),Ee.preventDefault()}C=c.getSelectionRange();var le=Ee.dataTransfer;le.effectAllowed=c.getReadOnly()?"copy":"copyMove",g.isOpera&&(c.container.appendChild(x),x.scrollTop=0),le.setDragImage&&le.setDragImage(x,0,0),g.isOpera&&c.container.removeChild(x),le.clearData(),le.setData("Text",c.session.getTextRange()),R=!0,this.setState("drag")},this.onDragEnd=function(Ee){if(k.draggable=!1,R=!1,this.setState(null),!c.getReadOnly()){var me=Ee.dataTransfer.dropEffect;F||me!="move"||c.session.remove(c.getSelectionRange()),c.$resetCursorStyle()}this.editor.unsetStyle("ace_dragging"),this.editor.renderer.setCursorStyle("")},this.onDragEnter=function(Ee){if(!c.getReadOnly()&&ce(Ee.dataTransfer))return T=Ee.clientX,L=Ee.clientY,w||te(),V++,Ee.dataTransfer.dropEffect=F=Se(Ee),b.preventDefault(Ee)},this.onDragOver=function(Ee){if(!c.getReadOnly()&&ce(Ee.dataTransfer))return T=Ee.clientX,L=Ee.clientY,w||(te(),V++),he!==null&&(he=null),Ee.dataTransfer.dropEffect=F=Se(Ee),b.preventDefault(Ee)},this.onDragLeave=function(Ee){if(--V<=0&&w)return ne(),F=null,b.preventDefault(Ee)},this.onDrop=function(Ee){if(I){var me=Ee.dataTransfer;if(R)switch(F){case"move":C=C.contains(I.row,I.column)?{start:I,end:I}:c.moveText(C,I);break;case"copy":C=c.moveText(C,I,!0)}else{var le=me.getData("Text");C={start:I,end:c.session.insert(I,le)},c.focus(),F=null}return ne(),b.preventDefault(Ee)}},b.addListener(k,"dragstart",this.onDragStart.bind(v)),b.addListener(k,"dragend",this.onDragEnd.bind(v)),b.addListener(k,"dragenter",this.onDragEnter.bind(v)),b.addListener(k,"dragover",this.onDragOver.bind(v)),b.addListener(k,"dragleave",this.onDragLeave.bind(v)),b.addListener(k,"drop",this.onDrop.bind(v));var he=null;function ie(){he==null&&(he=setTimeout((function(){he!=null&&w&&ne()}),20))}function ce(Ee){var me=Ee.types;return!me||Array.prototype.some.call(me,(function(le){return le=="text/plain"||le=="Text"}))}function Se(Ee){var me=["copy","copymove","all","uninitialized"],le=g.isMac?Ee.altKey:Ee.ctrlKey,we="uninitialized";try{we=Ee.dataTransfer.effectAllowed.toLowerCase()}catch{}var Re="none";return le&&me.indexOf(we)>=0?Re="copy":["move","copymove","linkmove","all","uninitialized"].indexOf(we)>=0?Re="move":me.indexOf(we)>=0&&(Re="copy"),Re}}function p(v,c,x,w){return Math.sqrt(Math.pow(x-v,2)+Math.pow(w-c,2))}(function(){this.dragWait=function(){Date.now()-this.mousedownEvent.time>this.editor.getDragDelay()&&this.startDrag()},this.dragWaitEnd=function(){this.editor.container.draggable=!1,this.startSelect(this.mousedownEvent.getDocumentPosition()),this.selectEnd()},this.dragReadyEnd=function(v){this.editor.$resetCursorStyle(),this.editor.unsetStyle("ace_dragging"),this.editor.renderer.setCursorStyle(""),this.dragWaitEnd()},this.startDrag=function(){this.cancelDrag=!1;var v=this.editor;v.container.draggable=!0,v.renderer.$cursorLayer.setBlinking(!1),v.setStyle("ace_dragging");var c=g.isWin?"default":"move";v.renderer.setCursorStyle(c),this.setState("dragReady")},this.onMouseDrag=function(v){var c=this.editor.container;g.isIE&&this.state=="dragReady"&&p(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y)>3&&c.dragDrop(),this.state==="dragWait"&&p(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y)>0&&(c.draggable=!1,this.startSelect(this.mousedownEvent.getDocumentPosition()))},this.onMouseDown=function(v){if(this.$dragEnabled){this.mousedownEvent=v;var c=this.editor,x=v.inSelection(),w=v.getButton();if((v.domEvent.detail||1)===1&&w===0&&x){if(v.editor.inMultiSelectMode&&(v.getAccelKey()||v.getShiftKey()))return;this.mousedownEvent.time=Date.now();var T=v.domEvent.target||v.domEvent.srcElement;"unselectable"in T&&(T.unselectable="on"),c.getDragDelay()?(g.isWebKit&&(this.cancelDrag=!0,c.container.draggable=!0),this.setState("dragWait")):this.startDrag(),this.captureMouse(v,this.onMouseDrag.bind(this)),v.defaultPrevented=!0}}}}).call(_.prototype),u.DragdropHandler=_})),ace.define("ace/mouse/touch_handler",["require","exports","module","ace/mouse/mouse_event","ace/lib/dom"],(function(a,u,m){var d=a("./mouse_event").MouseEvent,b=a("../lib/dom");u.addTouchListeners=function(g,_){var p,v,c,x,w,T,L,P,C,I="scroll",F=0,R=0,D=0,G=0;function j(){var H,te,ne;C||(H=window.navigator&&window.navigator.clipboard,te=!1,ne=function(Se){var Ee,me,le=Se.target.getAttribute("action");if(le=="more"||!te)return te=!te,Ee=_.getCopyText(),me=_.session.getUndoManager().hasUndo(),void C.replaceChild(b.buildDom(te?["span",!Ee&&["span",{class:"ace_mobile-button",action:"selectall"},"Select All"],Ee&&["span",{class:"ace_mobile-button",action:"copy"},"Copy"],Ee&&["span",{class:"ace_mobile-button",action:"cut"},"Cut"],H&&["span",{class:"ace_mobile-button",action:"paste"},"Paste"],me&&["span",{class:"ace_mobile-button",action:"undo"},"Undo"],["span",{class:"ace_mobile-button",action:"find"},"Find"],["span",{class:"ace_mobile-button",action:"openCommandPallete"},"Pallete"]]:["span"]),C.firstChild);le=="paste"?H.readText().then((function(we){_.execCommand(le,we)})):le&&(le!="cut"&&le!="copy"||(H?H.writeText(_.getCopyText()):document.execCommand("copy")),_.execCommand(le)),C.firstChild.style.display="none",te=!1,le!="openCommandPallete"&&_.focus()},C=b.buildDom(["div",{class:"ace_mobile-menu",ontouchstart:function(Se){I="menu",Se.stopPropagation(),Se.preventDefault(),_.textInput.focus()},ontouchend:function(Se){Se.stopPropagation(),Se.preventDefault(),ne(Se)},onclick:ne},["span"],["span",{class:"ace_mobile-button",action:"more"},"..."]],_.container));var he=_.selection.cursor,ie=_.renderer.textToScreenCoordinates(he.row,he.column),ce=_.container.getBoundingClientRect();C.style.top=ie.pageY-ce.top-3+"px",C.style.right="10px",C.style.display="",C.firstChild.style.display="none",_.on("input",k)}function k(H){C&&(C.style.display="none"),_.off("input",k)}function V(){w=null,clearTimeout(w);var H=_.selection.getRange(),te=H.contains(L.row,L.column);!H.isEmpty()&&te||(_.selection.moveToPosition(L),_.selection.selectWord()),I="wait",j()}g.addEventListener("contextmenu",(function(H){P&&_.textInput.getElement().focus()})),g.addEventListener("touchstart",(function(H){var te=H.touches;if(w||te.length>1)return clearTimeout(w),w=null,c=-1,void(I="zoom");P=_.$mouseHandler.isMousePressed=!0;var ne=_.renderer.layerConfig.lineHeight,he=_.renderer.layerConfig.lineHeight,ie=H.timeStamp;x=ie;var ce=te[0],Se=ce.clientX,Ee=ce.clientY;Math.abs(p-Se)+Math.abs(v-Ee)>ne&&(c=-1),p=H.clientX=Se,v=H.clientY=Ee,D=G=0;var me=new d(H,_);if(L=me.getDocumentPosition(),ie-c<500&&te.length==1&&!F)R++,H.preventDefault(),H.button=0,(function(){w=null,clearTimeout(w),_.selection.moveToPosition(L);var pn=R>=2?_.selection.getLineRange(L.row):_.session.getBracketRange(L);pn&&!pn.isEmpty()?_.selection.setRange(pn):_.selection.selectWord(),I="wait"})();else{R=0;var le=_.selection.cursor,we=_.selection.isEmpty()?le:_.selection.anchor,Re=_.renderer.$cursorLayer.getPixelPosition(le,!0),Fe=_.renderer.$cursorLayer.getPixelPosition(we,!0),qe=_.renderer.scroller.getBoundingClientRect(),ot=function(pn,Ae){return(pn/=he)*pn+(Ae=Ae/ne-.75)*Ae};if(H.clientX<qe.left)return void(I="zoom");var dn=ot(H.clientX-qe.left-Re.left,H.clientY-qe.top-Re.top),mn=ot(H.clientX-qe.left-Fe.left,H.clientY-qe.top-Fe.top);dn<3.5&&mn<3.5&&(I=dn>mn?"cursor":"anchor"),I=mn<3.5?"anchor":dn<3.5?"cursor":"scroll",w=setTimeout(V,450)}c=ie})),g.addEventListener("touchend",(function(H){P=_.$mouseHandler.isMousePressed=!1,T&&clearInterval(T),I=="zoom"?(I="",F=0):w?(_.selection.moveToPosition(L),F=0,j()):I=="scroll"?(F+=60,T=setInterval((function(){F--<=0&&(clearInterval(T),T=null),Math.abs(D)<.01&&(D=0),Math.abs(G)<.01&&(G=0),F<20&&(D*=.9),F<20&&(G*=.9);var te=_.session.getScrollTop();_.renderer.scrollBy(10*D,10*G),te==_.session.getScrollTop()&&(F=0)}),10),H.preventDefault(),k()):j(),clearTimeout(w),w=null})),g.addEventListener("touchmove",(function(H){w&&(clearTimeout(w),w=null);var te=H.touches;if(!(te.length>1||I=="zoom")){var ne=te[0],he=p-ne.clientX,ie=v-ne.clientY;if(I=="wait"){if(!(he*he+ie*ie>4))return H.preventDefault();I="cursor"}p=ne.clientX,v=ne.clientY,H.clientX=ne.clientX,H.clientY=ne.clientY;var ce=H.timeStamp,Se=ce-x;if(x=ce,I=="scroll"){var Ee=new d(H,_);Ee.speed=1,Ee.wheelX=he,Ee.wheelY=ie,10*Math.abs(he)<Math.abs(ie)&&(he=0),10*Math.abs(ie)<Math.abs(he)&&(ie=0),Se!=0&&(D=he/Se,G=ie/Se),_._emit("mousewheel",Ee),Ee.propagationStopped||(D=G=0)}else{var me=new d(H,_).getDocumentPosition();I=="cursor"?_.selection.moveCursorToPosition(me):I=="anchor"&&_.selection.setSelectionAnchor(me.row,me.column),_.renderer.scrollCursorIntoView(me),H.preventDefault()}}}))}})),ace.define("ace/lib/net",["require","exports","module","ace/lib/dom"],(function(a,u,m){var d=a("./dom");u.get=function(b,g){var _=new XMLHttpRequest;_.open("GET",b,!0),_.onreadystatechange=function(){_.readyState===4&&g(_.responseText)},_.send(null)},u.loadScript=function(b,g){var _=d.getDocumentHead(),p=document.createElement("script");p.src=b,_.appendChild(p),p.onload=p.onreadystatechange=function(v,c){!c&&p.readyState&&p.readyState!="loaded"&&p.readyState!="complete"||(p=p.onload=p.onreadystatechange=null,c||g())}},u.qualifyURL=function(b){var g=document.createElement("a");return g.href=b,g.href}})),ace.define("ace/lib/event_emitter",["require","exports","module"],(function(a,u,m){var d={},b=function(){this.propagationStopped=!0},g=function(){this.defaultPrevented=!0};d._emit=d._dispatchEvent=function(_,p){this._eventRegistry||(this._eventRegistry={}),this._defaultHandlers||(this._defaultHandlers={});var v=this._eventRegistry[_]||[],c=this._defaultHandlers[_];if(v.length||c){typeof p=="object"&&p||(p={}),p.type||(p.type=_),p.stopPropagation||(p.stopPropagation=b),p.preventDefault||(p.preventDefault=g),v=v.slice();for(var x=0;x<v.length&&(v[x](p,this),!p.propagationStopped);x++);return c&&!p.defaultPrevented?c(p,this):void 0}},d._signal=function(_,p){var v=(this._eventRegistry||{})[_];if(v){v=v.slice();for(var c=0;c<v.length;c++)v[c](p,this)}},d.once=function(_,p){var v=this;if(this.addEventListener(_,(function c(){v.removeEventListener(_,c),p.apply(null,arguments)})),!p)return new Promise((function(c){p=c}))},d.setDefaultHandler=function(_,p){var v=this._defaultHandlers;if(v||(v=this._defaultHandlers={_disabled_:{}}),v[_]){var c=v[_],x=v._disabled_[_];x||(v._disabled_[_]=x=[]),x.push(c);var w=x.indexOf(p);w!=-1&&x.splice(w,1)}v[_]=p},d.removeDefaultHandler=function(_,p){var v=this._defaultHandlers;if(v){var c=v._disabled_[_];if(v[_]==p)c&&this.setDefaultHandler(_,c.pop());else if(c){var x=c.indexOf(p);x!=-1&&c.splice(x,1)}}},d.on=d.addEventListener=function(_,p,v){this._eventRegistry=this._eventRegistry||{};var c=this._eventRegistry[_];return c||(c=this._eventRegistry[_]=[]),c.indexOf(p)==-1&&c[v?"unshift":"push"](p),p},d.off=d.removeListener=d.removeEventListener=function(_,p){this._eventRegistry=this._eventRegistry||{};var v=this._eventRegistry[_];if(v){var c=v.indexOf(p);c!==-1&&v.splice(c,1)}},d.removeAllListeners=function(_){this._eventRegistry&&(this._eventRegistry[_]=[])},u.EventEmitter=d})),ace.define("ace/lib/app_config",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],(function(a,u,m){var d=a("./oop"),b=a("./event_emitter").EventEmitter,g={setOptions:function(c){Object.keys(c).forEach((function(x){this.setOption(x,c[x])}),this)},getOptions:function(c){var x={};if(c)Array.isArray(c)||(x=c,c=Object.keys(x));else{var w=this.$options;c=Object.keys(w).filter((function(T){return!w[T].hidden}))}return c.forEach((function(T){x[T]=this.getOption(T)}),this),x},setOption:function(c,x){if(this["$"+c]!==x){var w=this.$options[c];if(!w)return _('misspelled option "'+c+'"');if(w.forwardTo)return this[w.forwardTo]&&this[w.forwardTo].setOption(c,x);w.handlesSet||(this["$"+c]=x),w&&w.set&&w.set.call(this,x)}},getOption:function(c){var x=this.$options[c];return x?x.forwardTo?this[x.forwardTo]&&this[x.forwardTo].getOption(c):x&&x.get?x.get.call(this):this["$"+c]:_('misspelled option "'+c+'"')}};function _(c){typeof console<"u"&&console.warn&&console.warn.apply(console,arguments)}function p(c,x){var w=new Error(c);w.data=x,typeof console=="object"&&console.error&&console.error(w),setTimeout((function(){throw w}))}var v=function(){this.$defaultOptions={}};(function(){d.implement(this,b),this.defineOptions=function(c,x,w){return c.$options||(this.$defaultOptions[x]=c.$options={}),Object.keys(w).forEach((function(T){var L=w[T];typeof L=="string"&&(L={forwardTo:L}),L.name||(L.name=T),c.$options[L.name]=L,"initialValue"in L&&(c["$"+L.name]=L.initialValue)})),d.implement(c,g),this},this.resetOptions=function(c){Object.keys(c.$options).forEach((function(x){var w=c.$options[x];"value"in w&&c.setOption(x,w.value)}))},this.setDefaultValue=function(c,x,w){if(!c){for(c in this.$defaultOptions)if(this.$defaultOptions[c][x])break;if(!this.$defaultOptions[c][x])return!1}var T=this.$defaultOptions[c]||(this.$defaultOptions[c]={});T[x]&&(T.forwardTo?this.setDefaultValue(T.forwardTo,x,w):T[x].value=w)},this.setDefaultValues=function(c,x){Object.keys(x).forEach((function(w){this.setDefaultValue(c,w,x[w])}),this)},this.warn=_,this.reportError=p}).call(v.prototype),u.AppConfig=v})),ace.define("ace/config",["require","exports","module","ace/lib/lang","ace/lib/oop","ace/lib/net","ace/lib/app_config"],(function(a,u,m){var d=a("./lib/lang"),b=(a("./lib/oop"),a("./lib/net")),g=a("./lib/app_config").AppConfig;m.exports=u=new g;var _=(function(){return this||typeof window<"u"&&window})(),p={packaged:!1,workerPath:null,modePath:null,themePath:null,basePath:"",suffix:".js",$moduleUrls:{},loadWorkerFromBlob:!0,sharedPopups:!1};u.get=function(x){if(!p.hasOwnProperty(x))throw new Error("Unknown config key: "+x);return p[x]},u.set=function(x,w){if(p.hasOwnProperty(x))p[x]=w;else if(this.setDefaultValue("",x,w)==0)throw new Error("Unknown config key: "+x)},u.all=function(){return d.copyObject(p)},u.$modes={},u.moduleUrl=function(x,w){if(p.$moduleUrls[x])return p.$moduleUrls[x];var T=x.split("/"),L=(w=w||T[T.length-2]||"")=="snippets"?"/":"-",P=T[T.length-1];if(w=="worker"&&L=="-"){var C=new RegExp("^"+w+"[\\-_]|[\\-_]"+w+"$","g");P=P.replace(C,"")}(!P||P==w)&&T.length>1&&(P=T[T.length-2]);var I=p[w+"Path"];return I==null?I=p.basePath:L=="/"&&(w=L=""),I&&I.slice(-1)!="/"&&(I+="/"),I+w+L+P+this.get("suffix")},u.setModuleUrl=function(x,w){return p.$moduleUrls[x]=w},u.$loading={},u.loadModule=function(x,w){var T,L;Array.isArray(x)&&(L=x[0],x=x[1]);try{T=a(x)}catch{}if(T&&!u.$loading[x])return w&&w(T);if(u.$loading[x]||(u.$loading[x]=[]),u.$loading[x].push(w),!(u.$loading[x].length>1)){var P=function(){a([x],(function(C){u._emit("load.module",{name:x,module:C});var I=u.$loading[x];u.$loading[x]=null,I.forEach((function(F){F&&F(C)}))}))};if(!u.get("packaged"))return P();b.loadScript(u.moduleUrl(x,L),P),v()}};var v=function(){p.basePath||p.workerPath||p.modePath||p.themePath||Object.keys(p.$moduleUrls).length||(console.error("Unable to infer path to ace from script src,","use ace.config.set('basePath', 'path') to enable dynamic loading of modes and themes","or with webpack use ace/webpack-resolver"),v=function(){})};function c(x){if(_&&_.document){p.packaged=x||a.packaged||m.packaged||_.define&&l.amdD.packaged;for(var w,T={},L="",P=document.currentScript||document._currentScript,C=(P&&P.ownerDocument||document).getElementsByTagName("script"),I=0;I<C.length;I++){var F=C[I],R=F.src||F.getAttribute("src");if(R){for(var D=F.attributes,G=0,j=D.length;G<j;G++){var k=D[G];k.name.indexOf("data-ace-")===0&&(T[w=k.name.replace(/^data-ace-/,""),w.replace(/-(.)/g,(function(te,ne){return ne.toUpperCase()}))]=k.value)}var V=R.match(/^(.*)\/ace(\-\w+)?\.js(\?|$)/);V&&(L=V[1])}}for(var H in L&&(T.base=T.base||L,T.packaged=!0),T.basePath=T.base,T.workerPath=T.workerPath||T.base,T.modePath=T.modePath||T.base,T.themePath=T.themePath||T.base,delete T.base,T)T[H]!==void 0&&u.set(H,T[H])}}c(!0),u.init=c,u.version="1.4.7"})),ace.define("ace/mouse/mouse_handler",["require","exports","module","ace/lib/event","ace/lib/useragent","ace/mouse/default_handlers","ace/mouse/default_gutter_handler","ace/mouse/mouse_event","ace/mouse/dragdrop_handler","ace/mouse/touch_handler","ace/config"],(function(a,u,m){var d=a("../lib/event"),b=a("../lib/useragent"),g=a("./default_handlers").DefaultHandlers,_=a("./default_gutter_handler").GutterHandler,p=a("./mouse_event").MouseEvent,v=a("./dragdrop_handler").DragdropHandler,c=a("./touch_handler").addTouchListeners,x=a("../config"),w=function(T){var L=this;this.editor=T,new g(this),new _(this),new v(this);var P=function(F){(!document.hasFocus||!document.hasFocus()||!T.isFocused()&&document.activeElement==(T.textInput&&T.textInput.getElement()))&&window.focus(),T.focus()},C=T.renderer.getMouseEventTarget();d.addListener(C,"click",this.onMouseEvent.bind(this,"click")),d.addListener(C,"mousemove",this.onMouseMove.bind(this,"mousemove")),d.addMultiMouseDownListener([C,T.renderer.scrollBarV&&T.renderer.scrollBarV.inner,T.renderer.scrollBarH&&T.renderer.scrollBarH.inner,T.textInput&&T.textInput.getElement()].filter(Boolean),[400,300,250],this,"onMouseEvent"),d.addMouseWheelListener(T.container,this.onMouseWheel.bind(this,"mousewheel")),c(T.container,T);var I=T.renderer.$gutter;d.addListener(I,"mousedown",this.onMouseEvent.bind(this,"guttermousedown")),d.addListener(I,"click",this.onMouseEvent.bind(this,"gutterclick")),d.addListener(I,"dblclick",this.onMouseEvent.bind(this,"gutterdblclick")),d.addListener(I,"mousemove",this.onMouseEvent.bind(this,"guttermousemove")),d.addListener(C,"mousedown",P),d.addListener(I,"mousedown",P),b.isIE&&T.renderer.scrollBarV&&(d.addListener(T.renderer.scrollBarV.element,"mousedown",P),d.addListener(T.renderer.scrollBarH.element,"mousedown",P)),T.on("mousemove",(function(F){if(!L.state&&!L.$dragDelay&&L.$dragEnabled){var R=T.renderer.screenToTextCoordinates(F.x,F.y),D=T.session.selection.getRange(),G=T.renderer;!D.isEmpty()&&D.insideStart(R.row,R.column)?G.setCursorStyle("default"):G.setCursorStyle("")}}))};(function(){this.onMouseEvent=function(T,L){this.editor._emit(T,new p(L,this.editor))},this.onMouseMove=function(T,L){var P=this.editor._eventRegistry&&this.editor._eventRegistry.mousemove;P&&P.length&&this.editor._emit(T,new p(L,this.editor))},this.onMouseWheel=function(T,L){var P=new p(L,this.editor);P.speed=2*this.$scrollSpeed,P.wheelX=L.wheelX,P.wheelY=L.wheelY,this.editor._emit(T,P)},this.setState=function(T){this.state=T},this.captureMouse=function(T,L){this.x=T.x,this.y=T.y,this.isMousePressed=!0;var P=this.editor,C=this.editor.renderer;C.$isMousePressed=!0;var I=this,F=function(k){if(k){if(b.isWebKit&&!k.which&&I.releaseMouse)return I.releaseMouse();I.x=k.clientX,I.y=k.clientY,L&&L(k),I.mouseEvent=new p(k,I.editor),I.$mouseMoved=!0}},R=function(k){P.off("beforeEndOperation",G),clearInterval(j),D(),I[I.state+"End"]&&I[I.state+"End"](k),I.state="",I.isMousePressed=C.$isMousePressed=!1,C.$keepTextAreaAtCursor&&C.$moveTextAreaToCursor(),I.$onCaptureMouseMove=I.releaseMouse=null,k&&I.onMouseEvent("mouseup",k),P.endOperation()},D=function(){I[I.state]&&I[I.state](),I.$mouseMoved=!1};if(b.isOldIE&&T.domEvent.type=="dblclick")return setTimeout((function(){R(T)}));var G=function(k){I.releaseMouse&&P.curOp.command.name&&P.curOp.selectionChanged&&(I[I.state+"End"]&&I[I.state+"End"](),I.state="",I.releaseMouse())};P.on("beforeEndOperation",G),P.startOperation({command:{name:"mouse"}}),I.$onCaptureMouseMove=F,I.releaseMouse=d.capture(this.editor.container,F,R);var j=setInterval(D,20)},this.releaseMouse=null,this.cancelContextMenu=function(){var T=(function(L){L&&L.domEvent&&L.domEvent.type!="contextmenu"||(this.editor.off("nativecontextmenu",T),L&&L.domEvent&&d.stopEvent(L.domEvent))}).bind(this);setTimeout(T,10),this.editor.on("nativecontextmenu",T)}}).call(w.prototype),x.defineOptions(w.prototype,"mouseHandler",{scrollSpeed:{initialValue:2},dragDelay:{initialValue:b.isMac?150:0},dragEnabled:{initialValue:!0},focusTimeout:{initialValue:0},tooltipFollowsMouse:{initialValue:!0}}),u.MouseHandler=w})),ace.define("ace/mouse/fold_handler",["require","exports","module","ace/lib/dom"],(function(a,u,m){var d=a("../lib/dom");u.FoldHandler=function(b){b.on("click",(function(g){var _=g.getDocumentPosition(),p=b.session,v=p.getFoldAt(_.row,_.column,1);v&&(g.getAccelKey()?p.removeFold(v):p.expandFold(v),g.stop());var c=g.domEvent&&g.domEvent.target;c&&d.hasCssClass(c,"ace_inline_button")&&d.hasCssClass(c,"ace_toggle_wrap")&&(p.setOption("wrap",!p.getUseWrapMode()),b.renderer.scrollCursorIntoView())})),b.on("gutterclick",(function(g){if(b.renderer.$gutterLayer.getRegion(g)=="foldWidgets"){var _=g.getDocumentPosition().row,p=b.session;p.foldWidgets&&p.foldWidgets[_]&&b.session.onFoldWidgetClick(_,g),b.isFocused()||b.focus(),g.stop()}})),b.on("gutterdblclick",(function(g){if(b.renderer.$gutterLayer.getRegion(g)=="foldWidgets"){var _=g.getDocumentPosition().row,p=b.session,v=p.getParentFoldRangeData(_,!0),c=v.range||v.firstRange;if(c){_=c.start.row;var x=p.getFoldAt(_,p.getLine(_).length,1);x?p.removeFold(x):(p.addFold("...",c),b.renderer.scrollCursorIntoView({row:c.start.row,column:0}))}g.stop()}}))}})),ace.define("ace/keyboard/keybinding",["require","exports","module","ace/lib/keys","ace/lib/event"],(function(a,u,m){var d=a("../lib/keys"),b=a("../lib/event"),g=function(_){this.$editor=_,this.$data={editor:_},this.$handlers=[],this.setDefaultHandler(_.commands)};(function(){this.setDefaultHandler=function(_){this.removeKeyboardHandler(this.$defaultHandler),this.$defaultHandler=_,this.addKeyboardHandler(_,0)},this.setKeyboardHandler=function(_){var p=this.$handlers;if(p[p.length-1]!=_){for(;p[p.length-1]&&p[p.length-1]!=this.$defaultHandler;)this.removeKeyboardHandler(p[p.length-1]);this.addKeyboardHandler(_,1)}},this.addKeyboardHandler=function(_,p){if(_){typeof _!="function"||_.handleKeyboard||(_.handleKeyboard=_);var v=this.$handlers.indexOf(_);v!=-1&&this.$handlers.splice(v,1),p==null?this.$handlers.push(_):this.$handlers.splice(p,0,_),v==-1&&_.attach&&_.attach(this.$editor)}},this.removeKeyboardHandler=function(_){var p=this.$handlers.indexOf(_);return p!=-1&&(this.$handlers.splice(p,1),_.detach&&_.detach(this.$editor),!0)},this.getKeyboardHandler=function(){return this.$handlers[this.$handlers.length-1]},this.getStatusText=function(){var _=this.$data,p=_.editor;return this.$handlers.map((function(v){return v.getStatusText&&v.getStatusText(p,_)||""})).filter(Boolean).join(" ")},this.$callKeyboardHandlers=function(_,p,v,c){for(var x,w=!1,T=this.$editor.commands,L=this.$handlers.length;L--&&!((x=this.$handlers[L].handleKeyboard(this.$data,_,p,v,c))&&x.command&&((w=x.command=="null"||T.exec(x.command,this.$editor,x.args,c))&&c&&_!=-1&&x.passEvent!=1&&x.command.passEvent!=1&&b.stopEvent(c),w)););return w||_!=-1||(x={command:"insertstring"},w=T.exec("insertstring",this.$editor,p)),w&&this.$editor._signal&&this.$editor._signal("keyboardActivity",x),w},this.onCommandKey=function(_,p,v){var c=d.keyCodeToString(v);return this.$callKeyboardHandlers(p,c,v,_)},this.onTextInput=function(_){return this.$callKeyboardHandlers(-1,_)}}).call(g.prototype),u.KeyBinding=g})),ace.define("ace/lib/bidiutil",["require","exports","module"],(function(a,u,m){var d=0,b=0,g=!1,_=!1,p=!1,v=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],c=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],x=11,w=18,T=[w,w,w,w,w,w,w,w,w,6,5,6,8,5,w,w,w,w,w,w,w,w,w,w,w,w,w,w,5,5,5,6,8,4,4,x,x,x,4,4,4,4,4,10,9,10,9,9,2,2,2,2,2,2,2,2,2,2,9,4,4,4,4,4,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,4,4,4,4,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,4,4,4,w,w,w,w,w,w,5,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,9,4,x,x,x,x,4,4,4,4,0,4,4,w,4,4,x,x,2,2,4,0,4,4,4,2,0,4,4,4,4,4],L=[8,8,8,8,8,8,8,8,8,8,8,w,w,w,0,1,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,8,5,13,14,15,16,17,9,x,x,x,x,x,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,9,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,8];function P(F,R,D){if(!(b<F))if(F!=1||d!=1||_)for(var G,j,k,V,H=D.length,te=0;te<H;){if(R[te]>=F){for(G=te+1;G<H&&R[G]>=F;)G++;for(j=te,k=G-1;j<k;j++,k--)V=D[j],D[j]=D[k],D[k]=V;te=G}te++}else D.reverse()}function C(F,R,D,G){var j,k,V,H,te=R[G];switch(te){case 0:case 1:g=!1;case 4:case 3:return te;case 2:return g?3:2;case 7:return g=!0,1;case 8:return 4;case 9:return G<1||G+1>=R.length||(j=D[G-1])!=2&&j!=3||(k=R[G+1])!=2&&k!=3?4:(g&&(k=3),k==j?k:4);case 10:return(j=G>0?D[G-1]:5)==2&&G+1<R.length&&R[G+1]==2?2:4;case x:if(G>0&&D[G-1]==2)return 2;if(g)return 4;for(H=G+1,V=R.length;H<V&&R[H]==x;)H++;return H<V&&R[H]==2?2:4;case 12:for(V=R.length,H=G+1;H<V&&R[H]==12;)H++;if(H<V){var ne=F[G],he=ne>=1425&&ne<=2303||ne==64286;if(j=R[H],he&&(j==1||j==7))return 1}return G<1||(j=R[G-1])==5?4:D[G-1];case 5:return g=!1,_=!0,d;case 6:return p=!0,4;case 13:case 14:case 16:case 17:case 15:g=!1;case w:return 4}}function I(F){var R=F.charCodeAt(0),D=R>>8;return D==0?R>191?0:T[R]:D==5?/[\u0591-\u05f4]/.test(F)?1:0:D==6?/[\u0610-\u061a\u064b-\u065f\u06d6-\u06e4\u06e7-\u06ed]/.test(F)?12:/[\u0660-\u0669\u066b-\u066c]/.test(F)?3:R==1642?x:/[\u06f0-\u06f9]/.test(F)?2:7:D==32&&R<=8287?L[255&R]:D==254&&R>=65136?7:4}u.L=0,u.R=1,u.EN=2,u.ON_R=3,u.AN=4,u.R_H=5,u.B=6,u.RLE=7,u.DOT="·",u.doBidiReorder=function(F,R,D){if(F.length<2)return{};var G=F.split(""),j=new Array(G.length),k=new Array(G.length),V=[];d=D?1:0,(function(te,ne,he,ie){var ce=d?c:v,Se=null,Ee=null,me=null,le=0,we=null,Re=-1,Fe=null,qe=null,ot=[];if(!ie)for(Fe=0,ie=[];Fe<he;Fe++)ie[Fe]=I(te[Fe]);for(b=d,g=!1,_=!1,p=!1,qe=0;qe<he;qe++){if(Se=le,ot[qe]=Ee=C(te,ie,ot,qe),we=240&(le=ce[Se][Ee]),le&=15,ne[qe]=me=ce[le][5],we>0)if(we==16){for(Fe=Re;Fe<qe;Fe++)ne[Fe]=1;Re=-1}else Re=-1;if(ce[le][6])Re==-1&&(Re=qe);else if(Re>-1){for(Fe=Re;Fe<qe;Fe++)ne[Fe]=me;Re=-1}ie[qe]==5&&(ne[qe]=0),b|=me}if(p){for(Fe=0;Fe<he;Fe++)if(ie[Fe]==6){ne[Fe]=d;for(var dn=Fe-1;dn>=0&&ie[dn]==8;dn--)ne[dn]=d}}})(G,V,G.length,R);for(var H=0;H<j.length;j[H]=H,H++);for(P(2,V,j),P(1,V,j),H=0;H<j.length-1;H++)R[H]===3?V[H]=u.AN:V[H]===1&&(R[H]>7&&R[H]<13||R[H]===4||R[H]===w)?V[H]=u.ON_R:H>0&&G[H-1]==="ل"&&/\u0622|\u0623|\u0625|\u0627/.test(G[H])&&(V[H-1]=V[H]=u.R_H,H++);for(G[G.length-1]===u.DOT&&(V[G.length-1]=u.B),G[0]==="‫"&&(V[0]=u.RLE),H=0;H<j.length;H++)k[H]=V[j[H]];return{logicalFromVisual:j,bidiLevels:k}},u.hasBidiCharacters=function(F,R){for(var D=!1,G=0;G<F.length;G++)R[G]=I(F.charAt(G)),D||R[G]!=1&&R[G]!=7&&R[G]!=3||(D=!0);return D},u.getVisualFromLogicalIdx=function(F,R){for(var D=0;D<R.logicalFromVisual.length;D++)if(R.logicalFromVisual[D]==F)return D;return 0}})),ace.define("ace/bidihandler",["require","exports","module","ace/lib/bidiutil","ace/lib/lang"],(function(a,u,m){var d=a("./lib/bidiutil"),b=a("./lib/lang"),g=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\u202B]/,_=function(p){this.session=p,this.bidiMap={},this.currentRow=null,this.bidiUtil=d,this.charWidths=[],this.EOL="¬",this.showInvisibles=!0,this.isRtlDir=!1,this.$isRtl=!1,this.line="",this.wrapIndent=0,this.EOF="¶",this.RLE="‫",this.contentWidth=0,this.fontMetrics=null,this.rtlLineOffset=0,this.wrapOffset=0,this.isMoveLeftOperation=!1,this.seenBidi=g.test(p.getValue())};(function(){this.isBidiRow=function(p,v,c){return!!this.seenBidi&&(p!==this.currentRow&&(this.currentRow=p,this.updateRowLine(v,c),this.updateBidiMap()),this.bidiMap.bidiLevels)},this.onChange=function(p){this.seenBidi?this.currentRow=null:p.action=="insert"&&g.test(p.lines.join(`
`))&&(this.seenBidi=!0,this.currentRow=null)},this.getDocumentRow=function(){var p=0,v=this.session.$screenRowCache;if(v.length){var c=this.session.$getRowCacheIndex(v,this.currentRow);c>=0&&(p=this.session.$docRowCache[c])}return p},this.getSplitIndex=function(){var p=0,v=this.session.$screenRowCache;if(v.length)for(var c,x=this.session.$getRowCacheIndex(v,this.currentRow);this.currentRow-p>0&&(c=this.session.$getRowCacheIndex(v,this.currentRow-p-1))===x;)x=c,p++;else p=this.currentRow;return p},this.updateRowLine=function(p,v){p===void 0&&(p=this.getDocumentRow());var c=p===this.session.getLength()-1?this.EOF:this.EOL;if(this.wrapIndent=0,this.line=this.session.getLine(p),this.isRtlDir=this.$isRtl||this.line.charAt(0)===this.RLE,this.session.$useWrapMode){var x=this.session.$wrapData[p];x&&(v===void 0&&(v=this.getSplitIndex()),v>0&&x.length?(this.wrapIndent=x.indent,this.wrapOffset=this.wrapIndent*this.charWidths[d.L],this.line=v<x.length?this.line.substring(x[v-1],x[v]):this.line.substring(x[x.length-1])):this.line=this.line.substring(0,x[v])),v==x.length&&(this.line+=this.showInvisibles?c:d.DOT)}else this.line+=this.showInvisibles?c:d.DOT;var w,T=this.session,L=0;this.line=this.line.replace(/\t|[\u1100-\u2029, \u202F-\uFFE6]/g,(function(P,C){return P==="	"||T.isFullWidth(P.charCodeAt(0))?(w=P==="	"?T.getScreenTabSize(C+L):2,L+=w-1,b.stringRepeat(d.DOT,w)):P})),this.isRtlDir&&(this.fontMetrics.$main.textContent=this.line.charAt(this.line.length-1)==d.DOT?this.line.substr(0,this.line.length-1):this.line,this.rtlLineOffset=this.contentWidth-this.fontMetrics.$main.getBoundingClientRect().width)},this.updateBidiMap=function(){var p=[];d.hasBidiCharacters(this.line,p)||this.isRtlDir?this.bidiMap=d.doBidiReorder(this.line,p,this.isRtlDir):this.bidiMap={}},this.markAsDirty=function(){this.currentRow=null},this.updateCharacterWidths=function(p){if(this.characterWidth!==p.$characterSize.width){this.fontMetrics=p;var v=this.characterWidth=p.$characterSize.width,c=p.$measureCharWidth("ה");this.charWidths[d.L]=this.charWidths[d.EN]=this.charWidths[d.ON_R]=v,this.charWidths[d.R]=this.charWidths[d.AN]=c,this.charWidths[d.R_H]=.45*c,this.charWidths[d.B]=this.charWidths[d.RLE]=0,this.currentRow=null}},this.setShowInvisibles=function(p){this.showInvisibles=p,this.currentRow=null},this.setEolChar=function(p){this.EOL=p},this.setContentWidth=function(p){this.contentWidth=p},this.isRtlLine=function(p){return!!this.$isRtl||(p!=null?this.session.getLine(p).charAt(0)==this.RLE:this.isRtlDir)},this.setRtlDirection=function(p,v){for(var c=p.getCursorPosition(),x=p.selection.getSelectionAnchor().row;x<=c.row;x++)v||p.session.getLine(x).charAt(0)!==p.session.$bidiHandler.RLE?v&&p.session.getLine(x).charAt(0)!==p.session.$bidiHandler.RLE&&p.session.doc.insert({column:0,row:x},p.session.$bidiHandler.RLE):p.session.doc.removeInLine(x,0,1)},this.getPosLeft=function(p){p-=this.wrapIndent;var v=this.line.charAt(0)===this.RLE?1:0,c=p>v?this.session.getOverwrite()?p:p-1:v,x=d.getVisualFromLogicalIdx(c,this.bidiMap),w=this.bidiMap.bidiLevels,T=0;!this.session.getOverwrite()&&p<=v&&w[x]%2!=0&&x++;for(var L=0;L<x;L++)T+=this.charWidths[w[L]];return!this.session.getOverwrite()&&p>v&&w[x]%2==0&&(T+=this.charWidths[w[x]]),this.wrapIndent&&(T+=this.isRtlDir?-1*this.wrapOffset:this.wrapOffset),this.isRtlDir&&(T+=this.rtlLineOffset),T},this.getSelections=function(p,v){var c,x=this.bidiMap,w=x.bidiLevels,T=[],L=0,P=Math.min(p,v)-this.wrapIndent,C=Math.max(p,v)-this.wrapIndent,I=!1,F=!1,R=0;this.wrapIndent&&(L+=this.isRtlDir?-1*this.wrapOffset:this.wrapOffset);for(var D,G=0;G<w.length;G++)D=x.logicalFromVisual[G],c=w[G],(I=D>=P&&D<C)&&!F?R=L:!I&&F&&T.push({left:R,width:L-R}),L+=this.charWidths[c],F=I;if(I&&G===w.length&&T.push({left:R,width:L-R}),this.isRtlDir)for(var j=0;j<T.length;j++)T[j].left+=this.rtlLineOffset;return T},this.offsetToCol=function(p){this.isRtlDir&&(p-=this.rtlLineOffset);var v=0,c=(p=Math.max(p,0),0),x=0,w=this.bidiMap.bidiLevels,T=this.charWidths[w[x]];for(this.wrapIndent&&(p-=this.isRtlDir?-1*this.wrapOffset:this.wrapOffset);p>c+T/2;){if(c+=T,x===w.length-1){T=0;break}T=this.charWidths[w[++x]]}return x>0&&w[x-1]%2!=0&&w[x]%2==0?(p<c&&x--,v=this.bidiMap.logicalFromVisual[x]):x>0&&w[x-1]%2==0&&w[x]%2!=0?v=1+(p>c?this.bidiMap.logicalFromVisual[x]:this.bidiMap.logicalFromVisual[x-1]):this.isRtlDir&&x===w.length-1&&T===0&&w[x-1]%2==0||!this.isRtlDir&&x===0&&w[x]%2!=0?v=1+this.bidiMap.logicalFromVisual[x]:(x>0&&w[x-1]%2!=0&&T!==0&&x--,v=this.bidiMap.logicalFromVisual[x]),v===0&&this.isRtlDir&&v++,v+this.wrapIndent}}).call(_.prototype),u.BidiHandler=_})),ace.define("ace/selection",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/lib/event_emitter","ace/range"],(function(a,u,m){var d=a("./lib/oop"),b=a("./lib/lang"),g=a("./lib/event_emitter").EventEmitter,_=a("./range").Range,p=function(v){this.session=v,this.doc=v.getDocument(),this.clearSelection(),this.cursor=this.lead=this.doc.createAnchor(0,0),this.anchor=this.doc.createAnchor(0,0),this.$silent=!1;var c=this;this.cursor.on("change",(function(x){c.$cursorChanged=!0,c.$silent||c._emit("changeCursor"),c.$isEmpty||c.$silent||c._emit("changeSelection"),c.$keepDesiredColumnOnChange||x.old.column==x.value.column||(c.$desiredColumn=null)})),this.anchor.on("change",(function(){c.$anchorChanged=!0,c.$isEmpty||c.$silent||c._emit("changeSelection")}))};(function(){d.implement(this,g),this.isEmpty=function(){return this.$isEmpty||this.anchor.row==this.lead.row&&this.anchor.column==this.lead.column},this.isMultiLine=function(){return!this.$isEmpty&&this.anchor.row!=this.cursor.row},this.getCursor=function(){return this.lead.getPosition()},this.setSelectionAnchor=function(v,c){this.$isEmpty=!1,this.anchor.setPosition(v,c)},this.getAnchor=this.getSelectionAnchor=function(){return this.$isEmpty?this.getSelectionLead():this.anchor.getPosition()},this.getSelectionLead=function(){return this.lead.getPosition()},this.isBackwards=function(){var v=this.anchor,c=this.lead;return v.row>c.row||v.row==c.row&&v.column>c.column},this.getRange=function(){var v=this.anchor,c=this.lead;return this.$isEmpty?_.fromPoints(c,c):this.isBackwards()?_.fromPoints(c,v):_.fromPoints(v,c)},this.clearSelection=function(){this.$isEmpty||(this.$isEmpty=!0,this._emit("changeSelection"))},this.selectAll=function(){this.$setSelection(0,0,Number.MAX_VALUE,Number.MAX_VALUE)},this.setRange=this.setSelectionRange=function(v,c){var x=c?v.end:v.start,w=c?v.start:v.end;this.$setSelection(x.row,x.column,w.row,w.column)},this.$setSelection=function(v,c,x,w){var T=this.$isEmpty,L=this.inMultiSelectMode;this.$silent=!0,this.$cursorChanged=this.$anchorChanged=!1,this.anchor.setPosition(v,c),this.cursor.setPosition(x,w),this.$isEmpty=!_.comparePoints(this.anchor,this.cursor),this.$silent=!1,this.$cursorChanged&&this._emit("changeCursor"),(this.$cursorChanged||this.$anchorChanged||T!=this.$isEmpty||L)&&this._emit("changeSelection")},this.$moveSelection=function(v){var c=this.lead;this.$isEmpty&&this.setSelectionAnchor(c.row,c.column),v.call(this)},this.selectTo=function(v,c){this.$moveSelection((function(){this.moveCursorTo(v,c)}))},this.selectToPosition=function(v){this.$moveSelection((function(){this.moveCursorToPosition(v)}))},this.moveTo=function(v,c){this.clearSelection(),this.moveCursorTo(v,c)},this.moveToPosition=function(v){this.clearSelection(),this.moveCursorToPosition(v)},this.selectUp=function(){this.$moveSelection(this.moveCursorUp)},this.selectDown=function(){this.$moveSelection(this.moveCursorDown)},this.selectRight=function(){this.$moveSelection(this.moveCursorRight)},this.selectLeft=function(){this.$moveSelection(this.moveCursorLeft)},this.selectLineStart=function(){this.$moveSelection(this.moveCursorLineStart)},this.selectLineEnd=function(){this.$moveSelection(this.moveCursorLineEnd)},this.selectFileEnd=function(){this.$moveSelection(this.moveCursorFileEnd)},this.selectFileStart=function(){this.$moveSelection(this.moveCursorFileStart)},this.selectWordRight=function(){this.$moveSelection(this.moveCursorWordRight)},this.selectWordLeft=function(){this.$moveSelection(this.moveCursorWordLeft)},this.getWordRange=function(v,c){if(c===void 0){var x=v||this.lead;v=x.row,c=x.column}return this.session.getWordRange(v,c)},this.selectWord=function(){this.setSelectionRange(this.getWordRange())},this.selectAWord=function(){var v=this.getCursor(),c=this.session.getAWordRange(v.row,v.column);this.setSelectionRange(c)},this.getLineRange=function(v,c){var x,w=typeof v=="number"?v:this.lead.row,T=this.session.getFoldLine(w);return T?(w=T.start.row,x=T.end.row):x=w,c===!0?new _(w,0,x,this.session.getLine(x).length):new _(w,0,x+1,0)},this.selectLine=function(){this.setSelectionRange(this.getLineRange())},this.moveCursorUp=function(){this.moveCursorBy(-1,0)},this.moveCursorDown=function(){this.moveCursorBy(1,0)},this.wouldMoveIntoSoftTab=function(v,c,x){var w=v.column,T=v.column+c;return x<0&&(w=v.column-c,T=v.column),this.session.isTabStop(v)&&this.doc.getLine(v.row).slice(w,T).split(" ").length-1==c},this.moveCursorLeft=function(){var v,c=this.lead.getPosition();if(v=this.session.getFoldAt(c.row,c.column,-1))this.moveCursorTo(v.start.row,v.start.column);else if(c.column===0)c.row>0&&this.moveCursorTo(c.row-1,this.doc.getLine(c.row-1).length);else{var x=this.session.getTabSize();this.wouldMoveIntoSoftTab(c,x,-1)&&!this.session.getNavigateWithinSoftTabs()?this.moveCursorBy(0,-x):this.moveCursorBy(0,-1)}},this.moveCursorRight=function(){var v,c=this.lead.getPosition();if(v=this.session.getFoldAt(c.row,c.column,1))this.moveCursorTo(v.end.row,v.end.column);else if(this.lead.column==this.doc.getLine(this.lead.row).length)this.lead.row<this.doc.getLength()-1&&this.moveCursorTo(this.lead.row+1,0);else{var x=this.session.getTabSize();c=this.lead,this.wouldMoveIntoSoftTab(c,x,1)&&!this.session.getNavigateWithinSoftTabs()?this.moveCursorBy(0,x):this.moveCursorBy(0,1)}},this.moveCursorLineStart=function(){var v=this.lead.row,c=this.lead.column,x=this.session.documentToScreenRow(v,c),w=this.session.screenToDocumentPosition(x,0),T=this.session.getDisplayLine(v,null,w.row,w.column).match(/^\s*/);T[0].length==c||this.session.$useEmacsStyleLineStart||(w.column+=T[0].length),this.moveCursorToPosition(w)},this.moveCursorLineEnd=function(){var v=this.lead,c=this.session.getDocumentLastRowColumnPosition(v.row,v.column);if(this.lead.column==c.column){var x=this.session.getLine(c.row);if(c.column==x.length){var w=x.search(/\s+$/);w>0&&(c.column=w)}}this.moveCursorTo(c.row,c.column)},this.moveCursorFileEnd=function(){var v=this.doc.getLength()-1,c=this.doc.getLine(v).length;this.moveCursorTo(v,c)},this.moveCursorFileStart=function(){this.moveCursorTo(0,0)},this.moveCursorLongWordRight=function(){var v=this.lead.row,c=this.lead.column,x=this.doc.getLine(v),w=x.substring(c);this.session.nonTokenRe.lastIndex=0,this.session.tokenRe.lastIndex=0;var T=this.session.getFoldAt(v,c,1);if(T)this.moveCursorTo(T.end.row,T.end.column);else{if(this.session.nonTokenRe.exec(w)&&(c+=this.session.nonTokenRe.lastIndex,this.session.nonTokenRe.lastIndex=0,w=x.substring(c)),c>=x.length)return this.moveCursorTo(v,x.length),this.moveCursorRight(),void(v<this.doc.getLength()-1&&this.moveCursorWordRight());this.session.tokenRe.exec(w)&&(c+=this.session.tokenRe.lastIndex,this.session.tokenRe.lastIndex=0),this.moveCursorTo(v,c)}},this.moveCursorLongWordLeft=function(){var v,c=this.lead.row,x=this.lead.column;if(v=this.session.getFoldAt(c,x,-1))this.moveCursorTo(v.start.row,v.start.column);else{var w=this.session.getFoldStringAt(c,x,-1);w==null&&(w=this.doc.getLine(c).substring(0,x));var T=b.stringReverse(w);if(this.session.nonTokenRe.lastIndex=0,this.session.tokenRe.lastIndex=0,this.session.nonTokenRe.exec(T)&&(x-=this.session.nonTokenRe.lastIndex,T=T.slice(this.session.nonTokenRe.lastIndex),this.session.nonTokenRe.lastIndex=0),x<=0)return this.moveCursorTo(c,0),this.moveCursorLeft(),void(c>0&&this.moveCursorWordLeft());this.session.tokenRe.exec(T)&&(x-=this.session.tokenRe.lastIndex,this.session.tokenRe.lastIndex=0),this.moveCursorTo(c,x)}},this.$shortWordEndIndex=function(v){var c,x=0,w=/\s/,T=this.session.tokenRe;if(T.lastIndex=0,this.session.tokenRe.exec(v))x=this.session.tokenRe.lastIndex;else{for(;(c=v[x])&&w.test(c);)x++;if(x<1){for(T.lastIndex=0;(c=v[x])&&!T.test(c);)if(T.lastIndex=0,x++,w.test(c)){if(x>2){x--;break}for(;(c=v[x])&&w.test(c);)x++;if(x>2)break}}}return T.lastIndex=0,x},this.moveCursorShortWordRight=function(){var v=this.lead.row,c=this.lead.column,x=this.doc.getLine(v),w=x.substring(c),T=this.session.getFoldAt(v,c,1);if(T)return this.moveCursorTo(T.end.row,T.end.column);if(c==x.length){var L=this.doc.getLength();do v++,w=this.doc.getLine(v);while(v<L&&/^\s*$/.test(w));/^\s+/.test(w)||(w=""),c=0}var P=this.$shortWordEndIndex(w);this.moveCursorTo(v,c+P)},this.moveCursorShortWordLeft=function(){var v,c=this.lead.row,x=this.lead.column;if(v=this.session.getFoldAt(c,x,-1))return this.moveCursorTo(v.start.row,v.start.column);var w=this.session.getLine(c).substring(0,x);if(x===0){do c--,w=this.doc.getLine(c);while(c>0&&/^\s*$/.test(w));x=w.length,/\s+$/.test(w)||(w="")}var T=b.stringReverse(w),L=this.$shortWordEndIndex(T);return this.moveCursorTo(c,x-L)},this.moveCursorWordRight=function(){this.session.$selectLongWords?this.moveCursorLongWordRight():this.moveCursorShortWordRight()},this.moveCursorWordLeft=function(){this.session.$selectLongWords?this.moveCursorLongWordLeft():this.moveCursorShortWordLeft()},this.moveCursorBy=function(v,c){var x,w=this.session.documentToScreenPosition(this.lead.row,this.lead.column);c===0&&(v!==0&&(this.session.$bidiHandler.isBidiRow(w.row,this.lead.row)?(x=this.session.$bidiHandler.getPosLeft(w.column),w.column=Math.round(x/this.session.$bidiHandler.charWidths[0])):x=w.column*this.session.$bidiHandler.charWidths[0]),this.$desiredColumn?w.column=this.$desiredColumn:this.$desiredColumn=w.column);var T=this.session.screenToDocumentPosition(w.row+v,w.column,x);v!==0&&c===0&&T.row===this.lead.row&&T.column===this.lead.column&&this.session.lineWidgets&&this.session.lineWidgets[T.row]&&(T.row>0||v>0)&&T.row++,this.moveCursorTo(T.row,T.column+c,c===0)},this.moveCursorToPosition=function(v){this.moveCursorTo(v.row,v.column)},this.moveCursorTo=function(v,c,x){var w=this.session.getFoldAt(v,c,1);w&&(v=w.start.row,c=w.start.column),this.$keepDesiredColumnOnChange=!0;var T=this.session.getLine(v);/[\uDC00-\uDFFF]/.test(T.charAt(c))&&T.charAt(c-1)&&(this.lead.row==v&&this.lead.column==c+1?c-=1:c+=1),this.lead.setPosition(v,c),this.$keepDesiredColumnOnChange=!1,x||(this.$desiredColumn=null)},this.moveCursorToScreen=function(v,c,x){var w=this.session.screenToDocumentPosition(v,c);this.moveCursorTo(w.row,w.column,x)},this.detach=function(){this.lead.detach(),this.anchor.detach(),this.session=this.doc=null},this.fromOrientedRange=function(v){this.setSelectionRange(v,v.cursor==v.start),this.$desiredColumn=v.desiredColumn||this.$desiredColumn},this.toOrientedRange=function(v){var c=this.getRange();return v?(v.start.column=c.start.column,v.start.row=c.start.row,v.end.column=c.end.column,v.end.row=c.end.row):v=c,v.cursor=this.isBackwards()?v.start:v.end,v.desiredColumn=this.$desiredColumn,v},this.getRangeOfMovements=function(v){var c=this.getCursor();try{v(this);var x=this.getCursor();return _.fromPoints(c,x)}catch{return _.fromPoints(c,c)}finally{this.moveCursorToPosition(c)}},this.toJSON=function(){if(this.rangeCount)var v=this.ranges.map((function(c){var x=c.clone();return x.isBackwards=c.cursor==c.start,x}));else(v=this.getRange()).isBackwards=this.isBackwards();return v},this.fromJSON=function(v){if(v.start==null){if(this.rangeList&&v.length>1){this.toSingleRange(v[0]);for(var c=v.length;c--;){var x=_.fromPoints(v[c].start,v[c].end);v[c].isBackwards&&(x.cursor=x.start),this.addRange(x,!0)}return}v=v[0]}this.rangeList&&this.toSingleRange(v),this.setSelectionRange(v,v.isBackwards)},this.isEqual=function(v){if((v.length||this.rangeCount)&&v.length!=this.rangeCount)return!1;if(!v.length||!this.ranges)return this.getRange().isEqual(v);for(var c=this.ranges.length;c--;)if(!this.ranges[c].isEqual(v[c]))return!1;return!0}}).call(p.prototype),u.Selection=p})),ace.define("ace/tokenizer",["require","exports","module","ace/config"],(function(a,u,m){var d=a("./config"),b=2e3,g=function(_){for(var p in this.states=_,this.regExps={},this.matchMappings={},this.states){for(var v=this.states[p],c=[],x=0,w=this.matchMappings[p]={defaultToken:"text"},T="g",L=[],P=0;P<v.length;P++){var C=v[P];if(C.defaultToken&&(w.defaultToken=C.defaultToken),C.caseInsensitive&&(T="gi"),C.regex!=null){C.regex instanceof RegExp&&(C.regex=C.regex.toString().slice(1,-1));var I=C.regex,F=new RegExp("(?:("+I+")|(.))").exec("a").length-2;Array.isArray(C.token)?C.token.length==1||F==1?C.token=C.token[0]:F-1!=C.token.length?(this.reportError("number of classes and regexp groups doesn't match",{rule:C,groupCount:F-1}),C.token=C.token[0]):(C.tokenArray=C.token,C.token=null,C.onMatch=this.$arrayTokens):typeof C.token!="function"||C.onMatch||(C.onMatch=F>1?this.$applyToken:C.token),F>1&&(/\\\d/.test(C.regex)?I=C.regex.replace(/\\([0-9]+)/g,(function(R,D){return"\\"+(parseInt(D,10)+x+1)})):(F=1,I=this.removeCapturingGroups(C.regex)),C.splitRegex||typeof C.token=="string"||L.push(C)),w[x]=P,x+=F,c.push(I),C.onMatch||(C.onMatch=null)}}c.length||(w[0]=0,c.push("$")),L.forEach((function(R){R.splitRegex=this.createSplitterRegexp(R.regex,T)}),this),this.regExps[p]=new RegExp("("+c.join(")|(")+")|($)",T)}};(function(){this.$setMaxTokenCount=function(_){b=0|_},this.$applyToken=function(_){var p=this.splitRegex.exec(_).slice(1),v=this.token.apply(this,p);if(typeof v=="string")return[{type:v,value:_}];for(var c=[],x=0,w=v.length;x<w;x++)p[x]&&(c[c.length]={type:v[x],value:p[x]});return c},this.$arrayTokens=function(_){if(!_)return[];var p=this.splitRegex.exec(_);if(!p)return"text";for(var v=[],c=this.tokenArray,x=0,w=c.length;x<w;x++)p[x+1]&&(v[v.length]={type:c[x],value:p[x+1]});return v},this.removeCapturingGroups=function(_){return _.replace(/\\.|\[(?:\\.|[^\\\]])*|\(\?[:=!]|(\()/g,(function(p,v){return v?"(?:":p}))},this.createSplitterRegexp=function(_,p){if(_.indexOf("(?=")!=-1){var v=0,c=!1,x={};_.replace(/(\\.)|(\((?:\?[=!])?)|(\))|([\[\]])/g,(function(w,T,L,P,C,I){return c?c=C!="]":C?c=!0:P?(v==x.stack&&(x.end=I+1,x.stack=-1),v--):L&&(v++,L.length!=1&&(x.stack=v,x.start=I)),w})),x.end!=null&&/^\)*$/.test(_.substr(x.end))&&(_=_.substring(0,x.start)+_.substr(x.end))}return _.charAt(0)!="^"&&(_="^"+_),_.charAt(_.length-1)!="$"&&(_+="$"),new RegExp(_,(p||"").replace("g",""))},this.getLineTokens=function(_,p){if(p&&typeof p!="string"){var v=p.slice(0);(p=v[0])==="#tmp"&&(v.shift(),p=v.shift())}else v=[];var c=p||"start",x=this.states[c];x||(c="start",x=this.states[c]);var w=this.matchMappings[c],T=this.regExps[c];T.lastIndex=0;for(var L,P=[],C=0,I=0,F={type:null,value:""};L=T.exec(_);){var R=w.defaultToken,D=null,G=L[0],j=T.lastIndex;if(j-G.length>C){var k=_.substring(C,j-G.length);F.type==R?F.value+=k:(F.type&&P.push(F),F={type:R,value:k})}for(var V=0;V<L.length-2;V++)if(L[V+1]!==void 0){R=(D=x[w[V]]).onMatch?D.onMatch(G,c,v,_):D.token,D.next&&(c=typeof D.next=="string"?D.next:D.next(c,v),(x=this.states[c])||(this.reportError("state doesn't exist",c),c="start",x=this.states[c]),w=this.matchMappings[c],C=j,(T=this.regExps[c]).lastIndex=j),D.consumeLineEnd&&(C=j);break}if(G){if(typeof R=="string")D&&D.merge===!1||F.type!==R?(F.type&&P.push(F),F={type:R,value:G}):F.value+=G;else if(R)for(F.type&&P.push(F),F={type:null,value:""},V=0;V<R.length;V++)P.push(R[V])}if(C==_.length)break;if(C=j,I++>b){for(I>2*_.length&&this.reportError("infinite loop with in ace tokenizer",{startState:p,line:_});C<_.length;)F.type&&P.push(F),F={value:_.substring(C,C+=500),type:"overflow"};c="start",v=[];break}}return F.type&&P.push(F),v.length>1&&v[0]!==c&&v.unshift("#tmp",c),{tokens:P,state:v.length?v:c}},this.reportError=d.reportError}).call(g.prototype),u.Tokenizer=g})),ace.define("ace/mode/text_highlight_rules",["require","exports","module","ace/lib/lang"],(function(a,u,m){var d=a("../lib/lang"),b=function(){this.$rules={start:[{token:"empty_line",regex:"^$"},{defaultToken:"text"}]}};(function(){this.addRules=function(p,v){if(v)for(var c in p){for(var x=p[c],w=0;w<x.length;w++){var T=x[w];(T.next||T.onMatch)&&(typeof T.next=="string"&&T.next.indexOf(v)!==0&&(T.next=v+T.next),T.nextState&&T.nextState.indexOf(v)!==0&&(T.nextState=v+T.nextState))}this.$rules[v+c]=x}else for(var c in p)this.$rules[c]=p[c]},this.getRules=function(){return this.$rules},this.embedRules=function(p,v,c,x,w){var T=typeof p=="function"?new p().getRules():p;if(x)for(var L=0;L<x.length;L++)x[L]=v+x[L];else for(var P in x=[],T)x.push(v+P);if(this.addRules(T,v),c){var C=Array.prototype[w?"push":"unshift"];for(L=0;L<x.length;L++)C.apply(this.$rules[x[L]],d.deepCopy(c))}this.$embeds||(this.$embeds=[]),this.$embeds.push(v)},this.getEmbeds=function(){return this.$embeds};var g=function(p,v){return(p!="start"||v.length)&&v.unshift(this.nextState,p),this.nextState},_=function(p,v){return v.shift(),v.shift()||"start"};this.normalizeRules=function(){var p=0,v=this.$rules;Object.keys(v).forEach((function c(x){var w=v[x];w.processed=!0;for(var T=0;T<w.length;T++){var L=w[T],P=null;Array.isArray(L)&&(P=L,L={}),!L.regex&&L.start&&(L.regex=L.start,L.next||(L.next=[]),L.next.push({defaultToken:L.token},{token:L.token+".end",regex:L.end||L.start,next:"pop"}),L.token=L.token+".start",L.push=!0);var C=L.next||L.push;if(C&&Array.isArray(C)){var I=L.stateName;I||(typeof(I=L.token)!="string"&&(I=I[0]||""),v[I]&&(I+=p++)),v[I]=C,L.next=I,c(I)}else C=="pop"&&(L.next=_);if(L.push&&(L.nextState=L.next||L.push,L.next=g,delete L.push),L.rules)for(var F in L.rules)v[F]?v[F].push&&v[F].push.apply(v[F],L.rules[F]):v[F]=L.rules[F];var R=typeof L=="string"?L:L.include;if(R&&(P=Array.isArray(R)?R.map((function(G){return v[G]})):v[R]),P){var D=[T,1].concat(P);L.noEscape&&(D=D.filter((function(G){return!G.next}))),w.splice.apply(w,D),T--}L.keywordMap&&(L.token=this.createKeywordMapper(L.keywordMap,L.defaultToken||"text",L.caseInsensitive),delete L.defaultToken)}}),this)},this.createKeywordMapper=function(p,v,c,x){var w=Object.create(null);return Object.keys(p).forEach((function(T){var L=p[T];c&&(L=L.toLowerCase());for(var P=L.split(x||"|"),C=P.length;C--;)w[P[C]]=T})),Object.getPrototypeOf(w)&&(w.__proto__=null),this.$keywordList=Object.keys(w),p=null,c?function(T){return w[T.toLowerCase()]||v}:function(T){return w[T]||v}},this.getKeywords=function(){return this.$keywords}}).call(b.prototype),u.TextHighlightRules=b})),ace.define("ace/mode/behaviour",["require","exports","module"],(function(a,u,m){var d=function(){this.$behaviours={}};(function(){this.add=function(b,g,_){switch(void 0){case this.$behaviours:this.$behaviours={};case this.$behaviours[b]:this.$behaviours[b]={}}this.$behaviours[b][g]=_},this.addBehaviours=function(b){for(var g in b)for(var _ in b[g])this.add(g,_,b[g][_])},this.remove=function(b){this.$behaviours&&this.$behaviours[b]&&delete this.$behaviours[b]},this.inherit=function(b,g){if(typeof b=="function")var _=new b().getBehaviours(g);else _=b.getBehaviours(g);this.addBehaviours(_)},this.getBehaviours=function(b){if(b){for(var g={},_=0;_<b.length;_++)this.$behaviours[b[_]]&&(g[b[_]]=this.$behaviours[b[_]]);return g}return this.$behaviours}}).call(d.prototype),u.Behaviour=d})),ace.define("ace/token_iterator",["require","exports","module","ace/range"],(function(a,u,m){var d=a("./range").Range,b=function(g,_,p){this.$session=g,this.$row=_,this.$rowTokens=g.getTokens(_);var v=g.getTokenAt(_,p);this.$tokenIndex=v?v.index:-1};(function(){this.stepBackward=function(){for(this.$tokenIndex-=1;this.$tokenIndex<0;){if(this.$row-=1,this.$row<0)return this.$row=0,null;this.$rowTokens=this.$session.getTokens(this.$row),this.$tokenIndex=this.$rowTokens.length-1}return this.$rowTokens[this.$tokenIndex]},this.stepForward=function(){var g;for(this.$tokenIndex+=1;this.$tokenIndex>=this.$rowTokens.length;){if(this.$row+=1,g||(g=this.$session.getLength()),this.$row>=g)return this.$row=g-1,null;this.$rowTokens=this.$session.getTokens(this.$row),this.$tokenIndex=0}return this.$rowTokens[this.$tokenIndex]},this.getCurrentToken=function(){return this.$rowTokens[this.$tokenIndex]},this.getCurrentTokenRow=function(){return this.$row},this.getCurrentTokenColumn=function(){var g=this.$rowTokens,_=this.$tokenIndex,p=g[_].start;if(p!==void 0)return p;for(p=0;_>0;)p+=g[_-=1].value.length;return p},this.getCurrentTokenPosition=function(){return{row:this.$row,column:this.getCurrentTokenColumn()}},this.getCurrentTokenRange=function(){var g=this.$rowTokens[this.$tokenIndex],_=this.getCurrentTokenColumn();return new d(this.$row,_,this.$row,_+g.value.length)}}).call(b.prototype),u.TokenIterator=b})),ace.define("ace/mode/behaviour/cstyle",["require","exports","module","ace/lib/oop","ace/mode/behaviour","ace/token_iterator","ace/lib/lang"],(function(a,u,m){var d,b=a("../../lib/oop"),g=a("../behaviour").Behaviour,_=a("../../token_iterator").TokenIterator,p=a("../../lib/lang"),v=["text","paren.rparen","rparen","paren","punctuation.operator"],c=["text","paren.rparen","rparen","paren","punctuation.operator","comment"],x={},w={'"':'"',"'":"'"},T=function(C){var I=-1;if(C.multiSelect&&(I=C.selection.index,x.rangeCount!=C.multiSelect.rangeCount&&(x={rangeCount:C.multiSelect.rangeCount})),x[I])return d=x[I];d=x[I]={autoInsertedBrackets:0,autoInsertedRow:-1,autoInsertedLineEnd:"",maybeInsertedBrackets:0,maybeInsertedRow:-1,maybeInsertedLineStart:"",maybeInsertedLineEnd:""}},L=function(C,I,F,R){var D=C.end.row-C.start.row;return{text:F+I+R,selection:[0,C.start.column+1,D,C.end.column+(D?0:1)]}},P=function(C){this.add("braces","insertion",(function(I,F,R,D,G){var j=R.getCursorPosition(),k=D.doc.getLine(j.row);if(G=="{"){T(R);var V=R.getSelectionRange(),H=D.doc.getTextRange(V);if(H!==""&&H!=="{"&&R.getWrapBehavioursEnabled())return L(V,H,"{","}");if(P.isSaneInsertion(R,D))return/[\]\}\)]/.test(k[j.column])||R.inMultiSelectMode||C&&C.braces?(P.recordAutoInsert(R,D,"}"),{text:"{}",selection:[1,1]}):(P.recordMaybeInsert(R,D,"{"),{text:"{",selection:[1,1]})}else if(G=="}"){if(T(R),k.substring(j.column,j.column+1)=="}"&&D.$findOpeningBracket("}",{column:j.column+1,row:j.row})!==null&&P.isAutoInsertedClosing(j,k,G))return P.popAutoInsertedClosing(),{text:"",selection:[1,1]}}else{if(G==`
`||G==`\r
`){T(R);var te="";if(P.isMaybeInsertedClosing(j,k)&&(te=p.stringRepeat("}",d.maybeInsertedBrackets),P.clearMaybeInsertedClosing()),k.substring(j.column,j.column+1)==="}"){var ne=D.findMatchingBracket({row:j.row,column:j.column+1},"}");if(!ne)return null;var he=this.$getIndent(D.getLine(ne.row))}else{if(!te)return void P.clearMaybeInsertedClosing();he=this.$getIndent(k)}var ie=he+D.getTabString();return{text:`
`+ie+`
`+he+te,selection:[1,ie.length,1,ie.length]}}P.clearMaybeInsertedClosing()}})),this.add("braces","deletion",(function(I,F,R,D,G){var j=D.doc.getTextRange(G);if(!G.isMultiLine()&&j=="{"){if(T(R),D.doc.getLine(G.start.row).substring(G.end.column,G.end.column+1)=="}")return G.end.column++,G;d.maybeInsertedBrackets--}})),this.add("parens","insertion",(function(I,F,R,D,G){if(G=="("){T(R);var j=R.getSelectionRange(),k=D.doc.getTextRange(j);if(k!==""&&R.getWrapBehavioursEnabled())return L(j,k,"(",")");if(P.isSaneInsertion(R,D))return P.recordAutoInsert(R,D,")"),{text:"()",selection:[1,1]}}else if(G==")"){T(R);var V=R.getCursorPosition(),H=D.doc.getLine(V.row);if(H.substring(V.column,V.column+1)==")"&&D.$findOpeningBracket(")",{column:V.column+1,row:V.row})!==null&&P.isAutoInsertedClosing(V,H,G))return P.popAutoInsertedClosing(),{text:"",selection:[1,1]}}})),this.add("parens","deletion",(function(I,F,R,D,G){var j=D.doc.getTextRange(G);if(!G.isMultiLine()&&j=="("&&(T(R),D.doc.getLine(G.start.row).substring(G.start.column+1,G.start.column+2)==")"))return G.end.column++,G})),this.add("brackets","insertion",(function(I,F,R,D,G){if(G=="["){T(R);var j=R.getSelectionRange(),k=D.doc.getTextRange(j);if(k!==""&&R.getWrapBehavioursEnabled())return L(j,k,"[","]");if(P.isSaneInsertion(R,D))return P.recordAutoInsert(R,D,"]"),{text:"[]",selection:[1,1]}}else if(G=="]"){T(R);var V=R.getCursorPosition(),H=D.doc.getLine(V.row);if(H.substring(V.column,V.column+1)=="]"&&D.$findOpeningBracket("]",{column:V.column+1,row:V.row})!==null&&P.isAutoInsertedClosing(V,H,G))return P.popAutoInsertedClosing(),{text:"",selection:[1,1]}}})),this.add("brackets","deletion",(function(I,F,R,D,G){var j=D.doc.getTextRange(G);if(!G.isMultiLine()&&j=="["&&(T(R),D.doc.getLine(G.start.row).substring(G.start.column+1,G.start.column+2)=="]"))return G.end.column++,G})),this.add("string_dquotes","insertion",(function(I,F,R,D,G){var j=D.$mode.$quotes||w;if(G.length==1&&j[G]){if(this.lineCommentStart&&this.lineCommentStart.indexOf(G)!=-1)return;T(R);var k=G,V=R.getSelectionRange(),H=D.doc.getTextRange(V);if(!(H===""||H.length==1&&j[H])&&R.getWrapBehavioursEnabled())return L(V,H,k,k);if(!H){var te=R.getCursorPosition(),ne=D.doc.getLine(te.row),he=ne.substring(te.column-1,te.column),ie=ne.substring(te.column,te.column+1),ce=D.getTokenAt(te.row,te.column),Se=D.getTokenAt(te.row,te.column+1);if(he=="\\"&&ce&&/escape/.test(ce.type))return null;var Ee,me=ce&&/string|escape/.test(ce.type),le=!Se||/string|escape/.test(Se.type);if(ie==k)(Ee=me!==le)&&/string\.end/.test(Se.type)&&(Ee=!1);else{if(me&&!le||me&&le)return null;var we=D.$mode.tokenRe;we.lastIndex=0;var Re=we.test(he);we.lastIndex=0;var Fe=we.test(he);if(Re||Fe||ie&&!/[\s;,.})\]\\]/.test(ie))return null;var qe=ne[te.column-2];if(he==k&&(qe==k||we.test(qe)))return null;Ee=!0}return{text:Ee?k+k:"",selection:[1,1]}}}})),this.add("string_dquotes","deletion",(function(I,F,R,D,G){var j=D.$mode.$quotes||w,k=D.doc.getTextRange(G);if(!G.isMultiLine()&&j.hasOwnProperty(k)&&(T(R),D.doc.getLine(G.start.row).substring(G.start.column+1,G.start.column+2)==k))return G.end.column++,G}))};P.isSaneInsertion=function(C,I){var F=C.getCursorPosition(),R=new _(I,F.row,F.column);if(!this.$matchTokenType(R.getCurrentToken()||"text",v)){if(/[)}\]]/.test(C.session.getLine(F.row)[F.column]))return!0;var D=new _(I,F.row,F.column+1);if(!this.$matchTokenType(D.getCurrentToken()||"text",v))return!1}return R.stepForward(),R.getCurrentTokenRow()!==F.row||this.$matchTokenType(R.getCurrentToken()||"text",c)},P.$matchTokenType=function(C,I){return I.indexOf(C.type||C)>-1},P.recordAutoInsert=function(C,I,F){var R=C.getCursorPosition(),D=I.doc.getLine(R.row);this.isAutoInsertedClosing(R,D,d.autoInsertedLineEnd[0])||(d.autoInsertedBrackets=0),d.autoInsertedRow=R.row,d.autoInsertedLineEnd=F+D.substr(R.column),d.autoInsertedBrackets++},P.recordMaybeInsert=function(C,I,F){var R=C.getCursorPosition(),D=I.doc.getLine(R.row);this.isMaybeInsertedClosing(R,D)||(d.maybeInsertedBrackets=0),d.maybeInsertedRow=R.row,d.maybeInsertedLineStart=D.substr(0,R.column)+F,d.maybeInsertedLineEnd=D.substr(R.column),d.maybeInsertedBrackets++},P.isAutoInsertedClosing=function(C,I,F){return d.autoInsertedBrackets>0&&C.row===d.autoInsertedRow&&F===d.autoInsertedLineEnd[0]&&I.substr(C.column)===d.autoInsertedLineEnd},P.isMaybeInsertedClosing=function(C,I){return d.maybeInsertedBrackets>0&&C.row===d.maybeInsertedRow&&I.substr(C.column)===d.maybeInsertedLineEnd&&I.substr(0,C.column)==d.maybeInsertedLineStart},P.popAutoInsertedClosing=function(){d.autoInsertedLineEnd=d.autoInsertedLineEnd.substr(1),d.autoInsertedBrackets--},P.clearMaybeInsertedClosing=function(){d&&(d.maybeInsertedBrackets=0,d.maybeInsertedRow=-1)},b.inherits(P,g),u.CstyleBehaviour=P})),ace.define("ace/unicode",["require","exports","module"],(function(a,u,m){for(var d=[48,9,8,25,5,0,2,25,48,0,11,0,5,0,6,22,2,30,2,457,5,11,15,4,8,0,2,0,18,116,2,1,3,3,9,0,2,2,2,0,2,19,2,82,2,138,2,4,3,155,12,37,3,0,8,38,10,44,2,0,2,1,2,1,2,0,9,26,6,2,30,10,7,61,2,9,5,101,2,7,3,9,2,18,3,0,17,58,3,100,15,53,5,0,6,45,211,57,3,18,2,5,3,11,3,9,2,1,7,6,2,2,2,7,3,1,3,21,2,6,2,0,4,3,3,8,3,1,3,3,9,0,5,1,2,4,3,11,16,2,2,5,5,1,3,21,2,6,2,1,2,1,2,1,3,0,2,4,5,1,3,2,4,0,8,3,2,0,8,15,12,2,2,8,2,2,2,21,2,6,2,1,2,4,3,9,2,2,2,2,3,0,16,3,3,9,18,2,2,7,3,1,3,21,2,6,2,1,2,4,3,8,3,1,3,2,9,1,5,1,2,4,3,9,2,0,17,1,2,5,4,2,2,3,4,1,2,0,2,1,4,1,4,2,4,11,5,4,4,2,2,3,3,0,7,0,15,9,18,2,2,7,2,2,2,22,2,9,2,4,4,7,2,2,2,3,8,1,2,1,7,3,3,9,19,1,2,7,2,2,2,22,2,9,2,4,3,8,2,2,2,3,8,1,8,0,2,3,3,9,19,1,2,7,2,2,2,22,2,15,4,7,2,2,2,3,10,0,9,3,3,9,11,5,3,1,2,17,4,23,2,8,2,0,3,6,4,0,5,5,2,0,2,7,19,1,14,57,6,14,2,9,40,1,2,0,3,1,2,0,3,0,7,3,2,6,2,2,2,0,2,0,3,1,2,12,2,2,3,4,2,0,2,5,3,9,3,1,35,0,24,1,7,9,12,0,2,0,2,0,5,9,2,35,5,19,2,5,5,7,2,35,10,0,58,73,7,77,3,37,11,42,2,0,4,328,2,3,3,6,2,0,2,3,3,40,2,3,3,32,2,3,3,6,2,0,2,3,3,14,2,56,2,3,3,66,5,0,33,15,17,84,13,619,3,16,2,25,6,74,22,12,2,6,12,20,12,19,13,12,2,2,2,1,13,51,3,29,4,0,5,1,3,9,34,2,3,9,7,87,9,42,6,69,11,28,4,11,5,11,11,39,3,4,12,43,5,25,7,10,38,27,5,62,2,28,3,10,7,9,14,0,89,75,5,9,18,8,13,42,4,11,71,55,9,9,4,48,83,2,2,30,14,230,23,280,3,5,3,37,3,5,3,7,2,0,2,0,2,0,2,30,3,52,2,6,2,0,4,2,2,6,4,3,3,5,5,12,6,2,2,6,67,1,20,0,29,0,14,0,17,4,60,12,5,0,4,11,18,0,5,0,3,9,2,0,4,4,7,0,2,0,2,0,2,3,2,10,3,3,6,4,5,0,53,1,2684,46,2,46,2,132,7,6,15,37,11,53,10,0,17,22,10,6,2,6,2,6,2,6,2,6,2,6,2,6,2,6,2,31,48,0,470,1,36,5,2,4,6,1,5,85,3,1,3,2,2,89,2,3,6,40,4,93,18,23,57,15,513,6581,75,20939,53,1164,68,45,3,268,4,27,21,31,3,13,13,1,2,24,9,69,11,1,38,8,3,102,3,1,111,44,25,51,13,68,12,9,7,23,4,0,5,45,3,35,13,28,4,64,15,10,39,54,10,13,3,9,7,22,4,1,5,66,25,2,227,42,2,1,3,9,7,11171,13,22,5,48,8453,301,3,61,3,105,39,6,13,4,6,11,2,12,2,4,2,0,2,1,2,1,2,107,34,362,19,63,3,53,41,11,5,15,17,6,13,1,25,2,33,4,2,134,20,9,8,25,5,0,2,25,12,88,4,5,3,5,3,5,3,2],b=0,g=[],_=0;_<d.length;_+=2)g.push(b+=d[_]),d[_+1]&&g.push(45,b+=d[_+1]);u.wordChars=String.fromCharCode.apply(null,g)})),ace.define("ace/mode/text",["require","exports","module","ace/config","ace/tokenizer","ace/mode/text_highlight_rules","ace/mode/behaviour/cstyle","ace/unicode","ace/lib/lang","ace/token_iterator","ace/range"],(function(a,u,m){var d=a("../config"),b=a("../tokenizer").Tokenizer,g=a("./text_highlight_rules").TextHighlightRules,_=a("./behaviour/cstyle").CstyleBehaviour,p=a("../unicode"),v=a("../lib/lang"),c=a("../token_iterator").TokenIterator,x=a("../range").Range,w=function(){this.HighlightRules=g};(function(){this.$defaultBehaviour=new _,this.tokenRe=new RegExp("^["+p.wordChars+"\\$_]+","g"),this.nonTokenRe=new RegExp("^(?:[^"+p.wordChars+"\\$_]|\\s])+","g"),this.getTokenizer=function(){return this.$tokenizer||(this.$highlightRules=this.$highlightRules||new this.HighlightRules(this.$highlightRuleConfig),this.$tokenizer=new b(this.$highlightRules.getRules())),this.$tokenizer},this.lineCommentStart="",this.blockComment="",this.toggleCommentLines=function(T,L,P,C){var I=L.doc,F=!0,R=!0,D=1/0,G=L.getTabSize(),j=!1;if(this.lineCommentStart){Array.isArray(this.lineCommentStart)?(ne=this.lineCommentStart.map(v.escapeRegExp).join("|"),H=this.lineCommentStart[0]):(ne=v.escapeRegExp(this.lineCommentStart),H=this.lineCommentStart),ne=new RegExp("^(\\s*)(?:"+ne+") ?"),j=L.getUseSoftTabs(),ce=function(le,we){var Re=le.match(ne);if(Re){var Fe=Re[1].length,qe=Re[0].length;V(le,Fe,qe)||Re[0][qe-1]!=" "||qe--,I.removeInLine(we,Fe,qe)}};var k=H+" ",V=(ie=function(le,we){F&&!/\S/.test(le)||(V(le,D,D)?I.insertInLine({row:we,column:D},k):I.insertInLine({row:we,column:D},H))},Se=function(le,we){return ne.test(le)},function(le,we,Re){for(var Fe=0;we--&&le.charAt(we)==" ";)Fe++;if(Fe%G!=0)return!1;for(Fe=0;le.charAt(Re++)==" ";)Fe++;return G>2?Fe%G!=G-1:Fe%G==0})}else{if(!this.blockComment)return!1;var H=this.blockComment.start,te=this.blockComment.end,ne=new RegExp("^(\\s*)(?:"+v.escapeRegExp(H)+")"),he=new RegExp("(?:"+v.escapeRegExp(te)+")\\s*$"),ie=function(le,we){Se(le,we)||F&&!/\S/.test(le)||(I.insertInLine({row:we,column:le.length},te),I.insertInLine({row:we,column:D},H))},ce=function(le,we){var Re;(Re=le.match(he))&&I.removeInLine(we,le.length-Re[0].length,le.length),(Re=le.match(ne))&&I.removeInLine(we,Re[1].length,Re[0].length)},Se=function(le,we){if(ne.test(le))return!0;for(var Re=L.getTokens(we),Fe=0;Fe<Re.length;Fe++)if(Re[Fe].type==="comment")return!0}}function Ee(le){for(var we=P;we<=C;we++)le(I.getLine(we),we)}var me=1/0;Ee((function(le,we){var Re=le.search(/\S/);Re!==-1?(Re<D&&(D=Re),R&&!Se(le,we)&&(R=!1)):me>le.length&&(me=le.length)})),D==1/0&&(D=me,F=!1,R=!1),j&&D%G!=0&&(D=Math.floor(D/G)*G),Ee(R?ce:ie)},this.toggleBlockComment=function(T,L,P,C){var I=this.blockComment;if(I){!I.start&&I[0]&&(I=I[0]);var F,R,D=(te=new c(L,C.row,C.column)).getCurrentToken(),G=(L.selection,L.selection.toOrientedRange());if(D&&/comment/.test(D.type)){for(var j,k;D&&/comment/.test(D.type);){if((ne=D.value.indexOf(I.start))!=-1){var V=te.getCurrentTokenRow(),H=te.getCurrentTokenColumn()+ne;j=new x(V,H,V,H+I.start.length);break}D=te.stepBackward()}var te;for(D=(te=new c(L,C.row,C.column)).getCurrentToken();D&&/comment/.test(D.type);){var ne;if((ne=D.value.indexOf(I.end))!=-1){V=te.getCurrentTokenRow(),H=te.getCurrentTokenColumn()+ne,k=new x(V,H,V,H+I.end.length);break}D=te.stepForward()}k&&L.remove(k),j&&(L.remove(j),F=j.start.row,R=-I.start.length)}else R=I.start.length,F=P.start.row,L.insert(P.end,I.end),L.insert(P.start,I.start);G.start.row==F&&(G.start.column+=R),G.end.row==F&&(G.end.column+=R),L.selection.fromOrientedRange(G)}},this.getNextLineIndent=function(T,L,P){return this.$getIndent(L)},this.checkOutdent=function(T,L,P){return!1},this.autoOutdent=function(T,L,P){},this.$getIndent=function(T){return T.match(/^\s*/)[0]},this.createWorker=function(T){return null},this.createModeDelegates=function(T){for(var L in this.$embeds=[],this.$modes={},T)if(T[L]){var P=T[L],C=P.prototype.$id,I=d.$modes[C];I||(d.$modes[C]=I=new P),d.$modes[L]||(d.$modes[L]=I),this.$embeds.push(L),this.$modes[L]=I}var F=["toggleBlockComment","toggleCommentLines","getNextLineIndent","checkOutdent","autoOutdent","transformAction","getCompletions"];for(L=0;L<F.length;L++)(function(R){var D=F[L],G=R[D];R[F[L]]=function(){return this.$delegator(D,arguments,G)}})(this)},this.$delegator=function(T,L,P){var C=L[0]||"start";if(typeof C!="string"){if(Array.isArray(C[2])){var I=C[2][C[2].length-1];if(R=this.$modes[I])return R[T].apply(R,[C[1]].concat([].slice.call(L,1)))}C=C[0]||"start"}for(var F=0;F<this.$embeds.length;F++)if(this.$modes[this.$embeds[F]]){var R,D=C.split(this.$embeds[F]);if(!D[0]&&D[1])return L[0]=D[1],(R=this.$modes[this.$embeds[F]])[T].apply(R,L)}var G=P.apply(this,L);return P?G:void 0},this.transformAction=function(T,L,P,C,I){if(this.$behaviour){var F=this.$behaviour.getBehaviours();for(var R in F)if(F[R][L]){var D=F[R][L].apply(this,arguments);if(D)return D}}},this.getKeywords=function(T){if(!this.completionKeywords){var L=this.$tokenizer.rules,P=[];for(var C in L)for(var I=L[C],F=0,R=I.length;F<R;F++)if(typeof I[F].token=="string")/keyword|support|storage/.test(I[F].token)&&P.push(I[F].regex);else if(typeof I[F].token=="object")for(var D=0,G=I[F].token.length;D<G;D++)/keyword|support|storage/.test(I[F].token[D])&&(C=I[F].regex.match(/\(.+?\)/g)[D],P.push(C.substr(1,C.length-2)));this.completionKeywords=P}return T?P.concat(this.$keywordList||[]):this.$keywordList},this.$createKeywordList=function(){return this.$highlightRules||this.getTokenizer(),this.$keywordList=this.$highlightRules.$keywordList||[]},this.getCompletions=function(T,L,P,C){return(this.$keywordList||this.$createKeywordList()).map((function(I){return{name:I,value:I,score:0,meta:"keyword"}}))},this.$id="ace/mode/text"}).call(w.prototype),u.Mode=w})),ace.define("ace/apply_delta",["require","exports","module"],(function(a,u,m){u.applyDelta=function(d,b,g){var _=b.start.row,p=b.start.column,v=d[_]||"";switch(b.action){case"insert":if(b.lines.length===1)d[_]=v.substring(0,p)+b.lines[0]+v.substring(p);else{var c=[_,1].concat(b.lines);d.splice.apply(d,c),d[_]=v.substring(0,p)+d[_],d[_+b.lines.length-1]+=v.substring(p)}break;case"remove":var x=b.end.column,w=b.end.row;_===w?d[_]=v.substring(0,p)+v.substring(x):d.splice(_,w-_+1,v.substring(0,p)+d[w].substring(x))}}})),ace.define("ace/anchor",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],(function(a,u,m){var d=a("./lib/oop"),b=a("./lib/event_emitter").EventEmitter,g=u.Anchor=function(_,p,v){this.$onChange=this.onChange.bind(this),this.attach(_),v===void 0?this.setPosition(p.row,p.column):this.setPosition(p,v)};(function(){function _(p,v,c){var x=c?p.column<=v.column:p.column<v.column;return p.row<v.row||p.row==v.row&&x}d.implement(this,b),this.getPosition=function(){return this.$clipPositionToDocument(this.row,this.column)},this.getDocument=function(){return this.document},this.$insertRight=!1,this.onChange=function(p){if(!(p.start.row==p.end.row&&p.start.row!=this.row||p.start.row>this.row)){var v=(function(c,x,w){var T=c.action=="insert",L=(T?1:-1)*(c.end.row-c.start.row),P=(T?1:-1)*(c.end.column-c.start.column),C=c.start,I=T?C:c.end;return _(x,C,w)?{row:x.row,column:x.column}:_(I,x,!w)?{row:x.row+L,column:x.column+(x.row==I.row?P:0)}:{row:C.row,column:C.column}})(p,{row:this.row,column:this.column},this.$insertRight);this.setPosition(v.row,v.column,!0)}},this.setPosition=function(p,v,c){var x;if(x=c?{row:p,column:v}:this.$clipPositionToDocument(p,v),this.row!=x.row||this.column!=x.column){var w={row:this.row,column:this.column};this.row=x.row,this.column=x.column,this._signal("change",{old:w,value:x})}},this.detach=function(){this.document.removeEventListener("change",this.$onChange)},this.attach=function(p){this.document=p||this.document,this.document.on("change",this.$onChange)},this.$clipPositionToDocument=function(p,v){var c={};return p>=this.document.getLength()?(c.row=Math.max(0,this.document.getLength()-1),c.column=this.document.getLine(c.row).length):p<0?(c.row=0,c.column=0):(c.row=p,c.column=Math.min(this.document.getLine(c.row).length,Math.max(0,v))),v<0&&(c.column=0),c}}).call(g.prototype)})),ace.define("ace/document",["require","exports","module","ace/lib/oop","ace/apply_delta","ace/lib/event_emitter","ace/range","ace/anchor"],(function(a,u,m){var d=a("./lib/oop"),b=a("./apply_delta").applyDelta,g=a("./lib/event_emitter").EventEmitter,_=a("./range").Range,p=a("./anchor").Anchor,v=function(c){this.$lines=[""],c.length===0?this.$lines=[""]:Array.isArray(c)?this.insertMergedLines({row:0,column:0},c):this.insert({row:0,column:0},c)};(function(){d.implement(this,g),this.setValue=function(c){var x=this.getLength()-1;this.remove(new _(0,0,x,this.getLine(x).length)),this.insert({row:0,column:0},c)},this.getValue=function(){return this.getAllLines().join(this.getNewLineCharacter())},this.createAnchor=function(c,x){return new p(this,c,x)},"aaa".split(/a/).length===0?this.$split=function(c){return c.replace(/\r\n|\r/g,`
`).split(`
`)}:this.$split=function(c){return c.split(/\r\n|\r|\n/)},this.$detectNewLine=function(c){var x=c.match(/^.*?(\r\n|\r|\n)/m);this.$autoNewLine=x?x[1]:`
`,this._signal("changeNewLineMode")},this.getNewLineCharacter=function(){switch(this.$newLineMode){case"windows":return`\r
`;case"unix":return`
`;default:return this.$autoNewLine||`
`}},this.$autoNewLine="",this.$newLineMode="auto",this.setNewLineMode=function(c){this.$newLineMode!==c&&(this.$newLineMode=c,this._signal("changeNewLineMode"))},this.getNewLineMode=function(){return this.$newLineMode},this.isNewLine=function(c){return c==`\r
`||c=="\r"||c==`
`},this.getLine=function(c){return this.$lines[c]||""},this.getLines=function(c,x){return this.$lines.slice(c,x+1)},this.getAllLines=function(){return this.getLines(0,this.getLength())},this.getLength=function(){return this.$lines.length},this.getTextRange=function(c){return this.getLinesForRange(c).join(this.getNewLineCharacter())},this.getLinesForRange=function(c){var x;if(c.start.row===c.end.row)x=[this.getLine(c.start.row).substring(c.start.column,c.end.column)];else{(x=this.getLines(c.start.row,c.end.row))[0]=(x[0]||"").substring(c.start.column);var w=x.length-1;c.end.row-c.start.row==w&&(x[w]=x[w].substring(0,c.end.column))}return x},this.insertLines=function(c,x){return console.warn("Use of document.insertLines is deprecated. Use the insertFullLines method instead."),this.insertFullLines(c,x)},this.removeLines=function(c,x){return console.warn("Use of document.removeLines is deprecated. Use the removeFullLines method instead."),this.removeFullLines(c,x)},this.insertNewLine=function(c){return console.warn("Use of document.insertNewLine is deprecated. Use insertMergedLines(position, ['', '']) instead."),this.insertMergedLines(c,["",""])},this.insert=function(c,x){return this.getLength()<=1&&this.$detectNewLine(x),this.insertMergedLines(c,this.$split(x))},this.insertInLine=function(c,x){var w=this.clippedPos(c.row,c.column),T=this.pos(c.row,c.column+x.length);return this.applyDelta({start:w,end:T,action:"insert",lines:[x]},!0),this.clonePos(T)},this.clippedPos=function(c,x){var w=this.getLength();c===void 0?c=w:c<0?c=0:c>=w&&(c=w-1,x=void 0);var T=this.getLine(c);return x==null&&(x=T.length),{row:c,column:x=Math.min(Math.max(x,0),T.length)}},this.clonePos=function(c){return{row:c.row,column:c.column}},this.pos=function(c,x){return{row:c,column:x}},this.$clipPosition=function(c){var x=this.getLength();return c.row>=x?(c.row=Math.max(0,x-1),c.column=this.getLine(x-1).length):(c.row=Math.max(0,c.row),c.column=Math.min(Math.max(c.column,0),this.getLine(c.row).length)),c},this.insertFullLines=function(c,x){var w=0;(c=Math.min(Math.max(c,0),this.getLength()))<this.getLength()?(x=x.concat([""]),w=0):(x=[""].concat(x),c--,w=this.$lines[c].length),this.insertMergedLines({row:c,column:w},x)},this.insertMergedLines=function(c,x){var w=this.clippedPos(c.row,c.column),T={row:w.row+x.length-1,column:(x.length==1?w.column:0)+x[x.length-1].length};return this.applyDelta({start:w,end:T,action:"insert",lines:x}),this.clonePos(T)},this.remove=function(c){var x=this.clippedPos(c.start.row,c.start.column),w=this.clippedPos(c.end.row,c.end.column);return this.applyDelta({start:x,end:w,action:"remove",lines:this.getLinesForRange({start:x,end:w})}),this.clonePos(x)},this.removeInLine=function(c,x,w){var T=this.clippedPos(c,x),L=this.clippedPos(c,w);return this.applyDelta({start:T,end:L,action:"remove",lines:this.getLinesForRange({start:T,end:L})},!0),this.clonePos(T)},this.removeFullLines=function(c,x){c=Math.min(Math.max(0,c),this.getLength()-1);var w=(x=Math.min(Math.max(0,x),this.getLength()-1))==this.getLength()-1&&c>0,T=x<this.getLength()-1,L=w?c-1:c,P=w?this.getLine(L).length:0,C=T?x+1:x,I=T?0:this.getLine(C).length,F=new _(L,P,C,I),R=this.$lines.slice(c,x+1);return this.applyDelta({start:F.start,end:F.end,action:"remove",lines:this.getLinesForRange(F)}),R},this.removeNewLine=function(c){c<this.getLength()-1&&c>=0&&this.applyDelta({start:this.pos(c,this.getLine(c).length),end:this.pos(c+1,0),action:"remove",lines:["",""]})},this.replace=function(c,x){return c instanceof _||(c=_.fromPoints(c.start,c.end)),x.length===0&&c.isEmpty()?c.start:x==this.getTextRange(c)?c.end:(this.remove(c),x?this.insert(c.start,x):c.start)},this.applyDeltas=function(c){for(var x=0;x<c.length;x++)this.applyDelta(c[x])},this.revertDeltas=function(c){for(var x=c.length-1;x>=0;x--)this.revertDelta(c[x])},this.applyDelta=function(c,x){var w=c.action=="insert";(w?c.lines.length<=1&&!c.lines[0]:!_.comparePoints(c.start,c.end))||(w&&c.lines.length>2e4?this.$splitAndapplyLargeDelta(c,2e4):(b(this.$lines,c,x),this._signal("change",c)))},this.$splitAndapplyLargeDelta=function(c,x){for(var w=c.lines,T=w.length-x+1,L=c.start.row,P=c.start.column,C=0,I=0;C<T;C=I){I+=x-1;var F=w.slice(C,I);F.push(""),this.applyDelta({start:this.pos(L+C,P),end:this.pos(L+I,P=0),action:c.action,lines:F},!0)}c.lines=w.slice(C),c.start.row=L+C,c.start.column=P,this.applyDelta(c,!0)},this.revertDelta=function(c){this.applyDelta({start:this.clonePos(c.start),end:this.clonePos(c.end),action:c.action=="insert"?"remove":"insert",lines:c.lines.slice()})},this.indexToPosition=function(c,x){for(var w=this.$lines||this.getAllLines(),T=this.getNewLineCharacter().length,L=x||0,P=w.length;L<P;L++)if((c-=w[L].length+T)<0)return{row:L,column:c+w[L].length+T};return{row:P-1,column:c+w[P-1].length+T}},this.positionToIndex=function(c,x){for(var w=this.$lines||this.getAllLines(),T=this.getNewLineCharacter().length,L=0,P=Math.min(c.row,w.length),C=x||0;C<P;++C)L+=w[C].length+T;return L+c.column}}).call(v.prototype),u.Document=v})),ace.define("ace/background_tokenizer",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],(function(a,u,m){var d=a("./lib/oop"),b=a("./lib/event_emitter").EventEmitter,g=function(_,p){this.running=!1,this.lines=[],this.states=[],this.currentLine=0,this.tokenizer=_;var v=this;this.$worker=function(){if(v.running){for(var c=new Date,x=v.currentLine,w=-1,T=v.doc,L=x;v.lines[x];)x++;var P=T.getLength(),C=0;for(v.running=!1;x<P;){v.$tokenizeRow(x),w=x;do x++;while(v.lines[x]);if(++C%5==0&&new Date-c>20){v.running=setTimeout(v.$worker,20);break}}v.currentLine=x,w==-1&&(w=x),L<=w&&v.fireUpdateEvent(L,w)}}};(function(){d.implement(this,b),this.setTokenizer=function(_){this.tokenizer=_,this.lines=[],this.states=[],this.start(0)},this.setDocument=function(_){this.doc=_,this.lines=[],this.states=[],this.stop()},this.fireUpdateEvent=function(_,p){var v={first:_,last:p};this._signal("update",{data:v})},this.start=function(_){this.currentLine=Math.min(_||0,this.currentLine,this.doc.getLength()),this.lines.splice(this.currentLine,this.lines.length),this.states.splice(this.currentLine,this.states.length),this.stop(),this.running=setTimeout(this.$worker,700)},this.scheduleStart=function(){this.running||(this.running=setTimeout(this.$worker,700))},this.$updateOnChange=function(_){var p=_.start.row,v=_.end.row-p;if(v===0)this.lines[p]=null;else if(_.action=="remove")this.lines.splice(p,v+1,null),this.states.splice(p,v+1,null);else{var c=Array(v+1);c.unshift(p,1),this.lines.splice.apply(this.lines,c),this.states.splice.apply(this.states,c)}this.currentLine=Math.min(p,this.currentLine,this.doc.getLength()),this.stop()},this.stop=function(){this.running&&clearTimeout(this.running),this.running=!1},this.getTokens=function(_){return this.lines[_]||this.$tokenizeRow(_)},this.getState=function(_){return this.currentLine==_&&this.$tokenizeRow(_),this.states[_]||"start"},this.$tokenizeRow=function(_){var p=this.doc.getLine(_),v=this.states[_-1],c=this.tokenizer.getLineTokens(p,v,_);return this.states[_]+""!=c.state+""?(this.states[_]=c.state,this.lines[_+1]=null,this.currentLine>_+1&&(this.currentLine=_+1)):this.currentLine==_&&(this.currentLine=_+1),this.lines[_]=c.tokens}}).call(g.prototype),u.BackgroundTokenizer=g})),ace.define("ace/search_highlight",["require","exports","module","ace/lib/lang","ace/lib/oop","ace/range"],(function(a,u,m){var d=a("./lib/lang"),b=(a("./lib/oop"),a("./range").Range),g=function(_,p,v){this.setRegexp(_),this.clazz=p,this.type=v||"text"};(function(){this.MAX_RANGES=500,this.setRegexp=function(_){this.regExp+""!=_+""&&(this.regExp=_,this.cache=[])},this.update=function(_,p,v,c){if(this.regExp)for(var x=c.firstRow,w=c.lastRow,T=x;T<=w;T++){var L=this.cache[T];L==null&&((L=d.getMatchOffsets(v.getLine(T),this.regExp)).length>this.MAX_RANGES&&(L=L.slice(0,this.MAX_RANGES)),L=L.map((function(C){return new b(T,C.offset,T,C.offset+C.length)})),this.cache[T]=L.length?L:"");for(var P=L.length;P--;)p.drawSingleLineMarker(_,L[P].toScreenRange(v),this.clazz,c)}}}).call(g.prototype),u.SearchHighlight=g})),ace.define("ace/edit_session/fold_line",["require","exports","module","ace/range"],(function(a,u,m){var d=a("../range").Range;function b(g,_){this.foldData=g,Array.isArray(_)?this.folds=_:_=this.folds=[_];var p=_[_.length-1];this.range=new d(_[0].start.row,_[0].start.column,p.end.row,p.end.column),this.start=this.range.start,this.end=this.range.end,this.folds.forEach((function(v){v.setFoldLine(this)}),this)}(function(){this.shiftRow=function(g){this.start.row+=g,this.end.row+=g,this.folds.forEach((function(_){_.start.row+=g,_.end.row+=g}))},this.addFold=function(g){if(g.sameRow){if(g.start.row<this.startRow||g.endRow>this.endRow)throw new Error("Can't add a fold to this FoldLine as it has no connection");this.folds.push(g),this.folds.sort((function(_,p){return-_.range.compareEnd(p.start.row,p.start.column)})),this.range.compareEnd(g.start.row,g.start.column)>0?(this.end.row=g.end.row,this.end.column=g.end.column):this.range.compareStart(g.end.row,g.end.column)<0&&(this.start.row=g.start.row,this.start.column=g.start.column)}else if(g.start.row==this.end.row)this.folds.push(g),this.end.row=g.end.row,this.end.column=g.end.column;else{if(g.end.row!=this.start.row)throw new Error("Trying to add fold to FoldRow that doesn't have a matching row");this.folds.unshift(g),this.start.row=g.start.row,this.start.column=g.start.column}g.foldLine=this},this.containsRow=function(g){return g>=this.start.row&&g<=this.end.row},this.walk=function(g,_,p){var v,c,x=0,w=this.folds,T=!0;_==null&&(_=this.end.row,p=this.end.column);for(var L=0;L<w.length;L++){if((c=(v=w[L]).range.compareStart(_,p))==-1)return void g(null,_,p,x,T);if(!g(null,v.start.row,v.start.column,x,T)&&g(v.placeholder,v.start.row,v.start.column,x)||c===0)return;T=!v.sameRow,x=v.end.column}g(null,_,p,x,T)},this.getNextFoldTo=function(g,_){for(var p,v,c=0;c<this.folds.length;c++){if((v=(p=this.folds[c]).range.compareEnd(g,_))==-1)return{fold:p,kind:"after"};if(v===0)return{fold:p,kind:"inside"}}return null},this.addRemoveChars=function(g,_,p){var v,c,x=this.getNextFoldTo(g,_);if(x){if(v=x.fold,x.kind=="inside"&&v.start.column!=_&&v.start.row!=g)window.console&&window.console.log(g,_,v);else if(v.start.row==g){var w=(c=this.folds).indexOf(v);for(w===0&&(this.start.column+=p);w<c.length;w++){if((v=c[w]).start.column+=p,!v.sameRow)return;v.end.column+=p}this.end.column+=p}}},this.split=function(g,_){var p=this.getNextFoldTo(g,_);if(!p||p.kind=="inside")return null;var v=p.fold,c=this.folds,x=this.foldData,w=c.indexOf(v),T=c[w-1];this.end.row=T.end.row,this.end.column=T.end.column;var L=new b(x,c=c.splice(w,c.length-w));return x.splice(x.indexOf(this)+1,0,L),L},this.merge=function(g){for(var _=g.folds,p=0;p<_.length;p++)this.addFold(_[p]);var v=this.foldData;v.splice(v.indexOf(g),1)},this.toString=function(){var g=[this.range.toString()+": ["];return this.folds.forEach((function(_){g.push("  "+_.toString())})),g.push("]"),g.join(`
`)},this.idxToPosition=function(g){for(var _=0,p=0;p<this.folds.length;p++){var v=this.folds[p];if((g-=v.start.column-_)<0)return{row:v.start.row,column:v.start.column+g};if((g-=v.placeholder.length)<0)return v.start;_=v.end.column}return{row:this.end.row,column:this.end.column+g}}}).call(b.prototype),u.FoldLine=b})),ace.define("ace/range_list",["require","exports","module","ace/range"],(function(a,u,m){var d=a("./range").Range.comparePoints,b=function(){this.ranges=[],this.$bias=1};(function(){this.comparePoints=d,this.pointIndex=function(g,_,p){for(var v=this.ranges,c=p||0;c<v.length;c++){var x=v[c],w=d(g,x.end);if(!(w>0)){var T=d(g,x.start);return w===0?_&&T!==0?-c-2:c:T>0||T===0&&!_?c:-c-1}}return-c-1},this.add=function(g){var _=!g.isEmpty(),p=this.pointIndex(g.start,_);p<0&&(p=-p-1);var v=this.pointIndex(g.end,_,p);return v<0?v=-v-1:v++,this.ranges.splice(p,v-p,g)},this.addList=function(g){for(var _=[],p=g.length;p--;)_.push.apply(_,this.add(g[p]));return _},this.substractPoint=function(g){var _=this.pointIndex(g);if(_>=0)return this.ranges.splice(_,1)},this.merge=function(){for(var g,_=[],p=this.ranges,v=(p=p.sort((function(w,T){return d(w.start,T.start)})))[0],c=1;c<p.length;c++){g=v,v=p[c];var x=d(g.end,v.start);x<0||(x!=0||g.isEmpty()||v.isEmpty())&&(d(g.end,v.end)<0&&(g.end.row=v.end.row,g.end.column=v.end.column),p.splice(c,1),_.push(v),v=g,c--)}return this.ranges=p,_},this.contains=function(g,_){return this.pointIndex({row:g,column:_})>=0},this.containsPoint=function(g){return this.pointIndex(g)>=0},this.rangeAtPoint=function(g){var _=this.pointIndex(g);if(_>=0)return this.ranges[_]},this.clipRows=function(g,_){var p=this.ranges;if(p[0].start.row>_||p[p.length-1].start.row<g)return[];var v=this.pointIndex({row:g,column:0});v<0&&(v=-v-1);var c=this.pointIndex({row:_,column:0},v);c<0&&(c=-c-1);for(var x=[],w=v;w<c;w++)x.push(p[w]);return x},this.removeAll=function(){return this.ranges.splice(0,this.ranges.length)},this.attach=function(g){this.session&&this.detach(),this.session=g,this.onChange=this.$onChange.bind(this),this.session.on("change",this.onChange)},this.detach=function(){this.session&&(this.session.removeListener("change",this.onChange),this.session=null)},this.$onChange=function(g){for(var _=g.start,p=g.end,v=_.row,c=p.row,x=this.ranges,w=0,T=x.length;w<T&&!((C=x[w]).end.row>=v);w++);if(g.action=="insert"){for(var L=c-v,P=-_.column+p.column;w<T&&!((C=x[w]).start.row>v);w++)if(C.start.row==v&&C.start.column>=_.column&&(C.start.column==_.column&&this.$bias<=0||(C.start.column+=P,C.start.row+=L)),C.end.row==v&&C.end.column>=_.column){if(C.end.column==_.column&&this.$bias<0)continue;C.end.column==_.column&&P>0&&w<T-1&&C.end.column>C.start.column&&C.end.column==x[w+1].start.column&&(C.end.column-=P),C.end.column+=P,C.end.row+=L}}else for(L=v-c,P=_.column-p.column;w<T&&!((C=x[w]).start.row>c);w++)C.end.row<c&&(v<C.end.row||v==C.end.row&&_.column<C.end.column)?(C.end.row=v,C.end.column=_.column):C.end.row==c?C.end.column<=p.column?(L||C.end.column>_.column)&&(C.end.column=_.column,C.end.row=_.row):(C.end.column+=P,C.end.row+=L):C.end.row>c&&(C.end.row+=L),C.start.row<c&&(v<C.start.row||v==C.start.row&&_.column<C.start.column)?(C.start.row=v,C.start.column=_.column):C.start.row==c?C.start.column<=p.column?(L||C.start.column>_.column)&&(C.start.column=_.column,C.start.row=_.row):(C.start.column+=P,C.start.row+=L):C.start.row>c&&(C.start.row+=L);if(L!=0&&w<T)for(;w<T;w++){var C;(C=x[w]).start.row+=L,C.end.row+=L}}}).call(b.prototype),u.RangeList=b})),ace.define("ace/edit_session/fold",["require","exports","module","ace/range_list","ace/lib/oop"],(function(a,u,m){var d=a("../range_list").RangeList,b=a("../lib/oop"),g=u.Fold=function(v,c){this.foldLine=null,this.placeholder=c,this.range=v,this.start=v.start,this.end=v.end,this.sameRow=v.start.row==v.end.row,this.subFolds=this.ranges=[]};function _(v,c){v.row-=c.row,v.row==0&&(v.column-=c.column)}function p(v,c){v.row==0&&(v.column+=c.column),v.row+=c.row}b.inherits(g,d),(function(){this.toString=function(){return'"'+this.placeholder+'" '+this.range.toString()},this.setFoldLine=function(v){this.foldLine=v,this.subFolds.forEach((function(c){c.setFoldLine(v)}))},this.clone=function(){var v=this.range.clone(),c=new g(v,this.placeholder);return this.subFolds.forEach((function(x){c.subFolds.push(x.clone())})),c.collapseChildren=this.collapseChildren,c},this.addSubFold=function(v){if(!this.range.isEqual(v)){var c,x;c=v,x=this.start,_(c.start,x),_(c.end,x);for(var w=v.start.row,T=v.start.column,L=0,P=-1;L<this.subFolds.length&&(P=this.subFolds[L].range.compare(w,T))==1;L++);var C=this.subFolds[L],I=0;if(P==0){if(C.range.containsRange(v))return C.addSubFold(v);I=1}w=v.range.end.row,T=v.range.end.column;var F=L;for(P=-1;F<this.subFolds.length&&(P=this.subFolds[F].range.compare(w,T))==1;F++);P==0&&F++;for(var R=this.subFolds.splice(L,F-L,v),D=P==0?R.length-1:R.length,G=I;G<D;G++)v.addSubFold(R[G]);return v.setFoldLine(this.foldLine),v}},this.restoreRange=function(v){return(function(c,x){p(c.start,x),p(c.end,x)})(v,this.start)}}).call(g.prototype)})),ace.define("ace/edit_session/folding",["require","exports","module","ace/range","ace/edit_session/fold_line","ace/edit_session/fold","ace/token_iterator"],(function(a,u,m){var d=a("../range").Range,b=a("./fold_line").FoldLine,g=a("./fold").Fold,_=a("../token_iterator").TokenIterator;u.Folding=function(){this.getFoldAt=function(p,v,c){var x=this.getFoldLine(p);if(!x)return null;for(var w=x.folds,T=0;T<w.length;T++){var L=w[T].range;if(L.contains(p,v)){if(c==1&&L.isEnd(p,v)&&!L.isEmpty()||c==-1&&L.isStart(p,v)&&!L.isEmpty())continue;return w[T]}}},this.getFoldsInRange=function(p){var v=p.start,c=p.end,x=this.$foldData,w=[];v.column+=1,c.column-=1;for(var T=0;T<x.length;T++){var L=x[T].range.compareRange(p);if(L!=2){if(L==-2)break;for(var P=x[T].folds,C=0;C<P.length;C++){var I=P[C];if((L=I.range.compareRange(p))==-2)break;if(L!=2){if(L==42)break;w.push(I)}}}}return v.column-=1,c.column+=1,w},this.getFoldsInRangeList=function(p){if(Array.isArray(p)){var v=[];p.forEach((function(c){v=v.concat(this.getFoldsInRange(c))}),this)}else v=this.getFoldsInRange(p);return v},this.getAllFolds=function(){for(var p=[],v=this.$foldData,c=0;c<v.length;c++)for(var x=0;x<v[c].folds.length;x++)p.push(v[c].folds[x]);return p},this.getFoldStringAt=function(p,v,c,x){if(!(x=x||this.getFoldLine(p)))return null;for(var w,T,L={end:{column:0}},P=0;P<x.folds.length;P++){var C=(T=x.folds[P]).range.compareEnd(p,v);if(C==-1){w=this.getLine(T.start.row).substring(L.end.column,T.start.column);break}if(C===0)return null;L=T}return w||(w=this.getLine(T.start.row).substring(L.end.column)),c==-1?w.substring(0,v-L.end.column):c==1?w.substring(v-L.end.column):w},this.getFoldLine=function(p,v){var c=this.$foldData,x=0;for(v&&(x=c.indexOf(v)),x==-1&&(x=0);x<c.length;x++){var w=c[x];if(w.start.row<=p&&w.end.row>=p)return w;if(w.end.row>p)return null}return null},this.getNextFoldLine=function(p,v){var c=this.$foldData,x=0;for(v&&(x=c.indexOf(v)),x==-1&&(x=0);x<c.length;x++){var w=c[x];if(w.end.row>=p)return w}return null},this.getFoldedRowCount=function(p,v){for(var c=this.$foldData,x=v-p+1,w=0;w<c.length;w++){var T=c[w],L=T.end.row,P=T.start.row;if(L>=v){P<v&&(P>=p?x-=v-P:x=0);break}L>=p&&(x-=P>=p?L-P:L-p+1)}return x},this.$addFoldLine=function(p){return this.$foldData.push(p),this.$foldData.sort((function(v,c){return v.start.row-c.start.row})),p},this.addFold=function(p,v){var c,x=this.$foldData,w=!1;p instanceof g?c=p:(c=new g(v,p)).collapseChildren=v.collapseChildren,this.$clipRangeToDocument(c.range);var T=c.start.row,L=c.start.column,P=c.end.row,C=c.end.column,I=this.getFoldAt(T,L,1),F=this.getFoldAt(P,C,-1);if(I&&F==I)return I.addSubFold(c);I&&!I.range.isStart(T,L)&&this.removeFold(I),F&&!F.range.isEnd(P,C)&&this.removeFold(F);var R=this.getFoldsInRange(c.range);R.length>0&&(this.removeFolds(R),R.forEach((function(k){c.addSubFold(k)})));for(var D=0;D<x.length;D++){var G=x[D];if(P==G.start.row){G.addFold(c),w=!0;break}if(T==G.end.row){if(G.addFold(c),w=!0,!c.sameRow){var j=x[D+1];if(j&&j.start.row==P){G.merge(j);break}}break}if(P<=G.start.row)break}return w||(G=this.$addFoldLine(new b(this.$foldData,c))),this.$useWrapMode?this.$updateWrapData(G.start.row,G.start.row):this.$updateRowLengthCache(G.start.row,G.start.row),this.$modified=!0,this._signal("changeFold",{data:c,action:"add"}),c},this.addFolds=function(p){p.forEach((function(v){this.addFold(v)}),this)},this.removeFold=function(p){var v=p.foldLine,c=v.start.row,x=v.end.row,w=this.$foldData,T=v.folds;if(T.length==1)w.splice(w.indexOf(v),1);else if(v.range.isEnd(p.end.row,p.end.column))T.pop(),v.end.row=T[T.length-1].end.row,v.end.column=T[T.length-1].end.column;else if(v.range.isStart(p.start.row,p.start.column))T.shift(),v.start.row=T[0].start.row,v.start.column=T[0].start.column;else if(p.sameRow)T.splice(T.indexOf(p),1);else{var L=v.split(p.start.row,p.start.column);(T=L.folds).shift(),L.start.row=T[0].start.row,L.start.column=T[0].start.column}this.$updating||(this.$useWrapMode?this.$updateWrapData(c,x):this.$updateRowLengthCache(c,x)),this.$modified=!0,this._signal("changeFold",{data:p,action:"remove"})},this.removeFolds=function(p){for(var v=[],c=0;c<p.length;c++)v.push(p[c]);v.forEach((function(x){this.removeFold(x)}),this),this.$modified=!0},this.expandFold=function(p){this.removeFold(p),p.subFolds.forEach((function(v){p.restoreRange(v),this.addFold(v)}),this),p.collapseChildren>0&&this.foldAll(p.start.row+1,p.end.row,p.collapseChildren-1),p.subFolds=[]},this.expandFolds=function(p){p.forEach((function(v){this.expandFold(v)}),this)},this.unfold=function(p,v){var c,x;if(p==null?(c=new d(0,0,this.getLength(),0),v=!0):c=typeof p=="number"?new d(p,0,p,this.getLine(p).length):"row"in p?d.fromPoints(p,p):p,x=this.getFoldsInRangeList(c),v)this.removeFolds(x);else for(var w=x;w.length;)this.expandFolds(w),w=this.getFoldsInRangeList(c);if(x.length)return x},this.isRowFolded=function(p,v){return!!this.getFoldLine(p,v)},this.getRowFoldEnd=function(p,v){var c=this.getFoldLine(p,v);return c?c.end.row:p},this.getRowFoldStart=function(p,v){var c=this.getFoldLine(p,v);return c?c.start.row:p},this.getFoldDisplayLine=function(p,v,c,x,w){x==null&&(x=p.start.row),w==null&&(w=0),v==null&&(v=p.end.row),c==null&&(c=this.getLine(v).length);var T=this.doc,L="";return p.walk((function(P,C,I,F){if(!(C<x)){if(C==x){if(I<w)return;F=Math.max(w,F)}L+=P??T.getLine(C).substring(F,I)}}),v,c),L},this.getDisplayLine=function(p,v,c,x){var w,T=this.getFoldLine(p);return T?this.getFoldDisplayLine(T,p,v,c,x):(w=this.doc.getLine(p)).substring(x||0,v||w.length)},this.$cloneFoldData=function(){var p=[];return p=this.$foldData.map((function(v){var c=v.folds.map((function(x){return x.clone()}));return new b(p,c)}))},this.toggleFold=function(p){var v,c,x=this.selection.getRange();if(x.isEmpty()){var w=x.start;if(v=this.getFoldAt(w.row,w.column))return void this.expandFold(v);(c=this.findMatchingBracket(w))?x.comparePoint(c)==1?x.end=c:(x.start=c,x.start.column++,x.end.column--):(c=this.findMatchingBracket({row:w.row,column:w.column+1}))?(x.comparePoint(c)==1?x.end=c:x.start=c,x.start.column++):x=this.getCommentFoldRange(w.row,w.column)||x}else{var T=this.getFoldsInRange(x);if(p&&T.length)return void this.expandFolds(T);T.length==1&&(v=T[0])}if(v||(v=this.getFoldAt(x.start.row,x.start.column)),v&&v.range.toString()==x.toString())this.expandFold(v);else{var L="...";if(!x.isMultiLine()){if((L=this.getTextRange(x)).length<4)return;L=L.trim().substring(0,2)+".."}this.addFold(L,x)}},this.getCommentFoldRange=function(p,v,c){var x=new _(this,p,v),w=x.getCurrentToken(),T=w.type;if(w&&/^comment|string/.test(T)){(T=T.match(/comment|string/)[0])=="comment"&&(T+="|doc-start");var L=new RegExp(T),P=new d;if(c!=1){do w=x.stepBackward();while(w&&L.test(w.type));x.stepForward()}if(P.start.row=x.getCurrentTokenRow(),P.start.column=x.getCurrentTokenColumn()+2,x=new _(this,p,v),c!=-1){var C=-1;do if(w=x.stepForward(),C==-1){var I=this.getState(x.$row);L.test(I)||(C=x.$row)}else if(x.$row>C)break;while(w&&L.test(w.type));w=x.stepBackward()}else w=x.getCurrentToken();return P.end.row=x.getCurrentTokenRow(),P.end.column=x.getCurrentTokenColumn()+w.value.length-2,P}},this.foldAll=function(p,v,c){c==null&&(c=1e5);var x=this.foldWidgets;if(x){v=v||this.getLength();for(var w=p=p||0;w<v;w++)if(x[w]==null&&(x[w]=this.getFoldWidget(w)),x[w]=="start"){var T=this.getFoldWidgetRange(w);if(T&&T.isMultiLine()&&T.end.row<=v&&T.start.row>=p){w=T.end.row;try{var L=this.addFold("...",T);L&&(L.collapseChildren=c)}catch{}}}}},this.$foldStyles={manual:1,markbegin:1,markbeginend:1},this.$foldStyle="markbegin",this.setFoldStyle=function(p){if(!this.$foldStyles[p])throw new Error("invalid fold style: "+p+"["+Object.keys(this.$foldStyles).join(", ")+"]");if(this.$foldStyle!=p){this.$foldStyle=p,p=="manual"&&this.unfold();var v=this.$foldMode;this.$setFolding(null),this.$setFolding(v)}},this.$setFolding=function(p){this.$foldMode!=p&&(this.$foldMode=p,this.off("change",this.$updateFoldWidgets),this.off("tokenizerUpdate",this.$tokenizerUpdateFoldWidgets),this._signal("changeAnnotation"),p&&this.$foldStyle!="manual"?(this.foldWidgets=[],this.getFoldWidget=p.getFoldWidget.bind(p,this,this.$foldStyle),this.getFoldWidgetRange=p.getFoldWidgetRange.bind(p,this,this.$foldStyle),this.$updateFoldWidgets=this.updateFoldWidgets.bind(this),this.$tokenizerUpdateFoldWidgets=this.tokenizerUpdateFoldWidgets.bind(this),this.on("change",this.$updateFoldWidgets),this.on("tokenizerUpdate",this.$tokenizerUpdateFoldWidgets)):this.foldWidgets=null)},this.getParentFoldRangeData=function(p,v){var c=this.foldWidgets;if(!c||v&&c[p])return{};for(var x,w=p-1;w>=0;){var T=c[w];if(T==null&&(T=c[w]=this.getFoldWidget(w)),T=="start"){var L=this.getFoldWidgetRange(w);if(x||(x=L),L&&L.end.row>=p)break}w--}return{range:w!==-1&&L,firstRange:x}},this.onFoldWidgetClick=function(p,v){var c={children:(v=v.domEvent).shiftKey,all:v.ctrlKey||v.metaKey,siblings:v.altKey};if(!this.$toggleFoldWidget(p,c)){var x=v.target||v.srcElement;x&&/ace_fold-widget/.test(x.className)&&(x.className+=" ace_invalid")}},this.$toggleFoldWidget=function(p,v){if(this.getFoldWidget){var c=this.getFoldWidget(p),x=this.getLine(p),w=c==="end"?-1:1,T=this.getFoldAt(p,w===-1?0:x.length,w);if(T)return v.children||v.all?this.removeFold(T):this.expandFold(T),T;var L=this.getFoldWidgetRange(p,!0);if(L&&!L.isMultiLine()&&(T=this.getFoldAt(L.start.row,L.start.column,1))&&L.isEqual(T.range))return this.removeFold(T),T;if(v.siblings){var P=this.getParentFoldRangeData(p);if(P.range)var C=P.range.start.row+1,I=P.range.end.row;this.foldAll(C,I,v.all?1e4:0)}else v.children?(I=L?L.end.row:this.getLength(),this.foldAll(p+1,I,v.all?1e4:0)):L&&(v.all&&(L.collapseChildren=1e4),this.addFold("...",L));return L}},this.toggleFoldWidget=function(p){var v=this.selection.getCursor().row;v=this.getRowFoldStart(v);var c=this.$toggleFoldWidget(v,{});if(!c){var x=this.getParentFoldRangeData(v,!0);if(c=x.range||x.firstRange){v=c.start.row;var w=this.getFoldAt(v,this.getLine(v).length,1);w?this.removeFold(w):this.addFold("...",c)}}},this.updateFoldWidgets=function(p){var v=p.start.row,c=p.end.row-v;if(c===0)this.foldWidgets[v]=null;else if(p.action=="remove")this.foldWidgets.splice(v,c+1,null);else{var x=Array(c+1);x.unshift(v,1),this.foldWidgets.splice.apply(this.foldWidgets,x)}},this.tokenizerUpdateFoldWidgets=function(p){var v=p.data;v.first!=v.last&&this.foldWidgets.length>v.first&&this.foldWidgets.splice(v.first,this.foldWidgets.length)}}})),ace.define("ace/edit_session/bracket_match",["require","exports","module","ace/token_iterator","ace/range"],(function(a,u,m){var d=a("../token_iterator").TokenIterator,b=a("../range").Range;u.BracketMatch=function(){this.findMatchingBracket=function(g,_){if(g.column==0)return null;var p=_||this.getLine(g.row).charAt(g.column-1);if(p=="")return null;var v=p.match(/([\(\[\{])|([\)\]\}])/);return v?v[1]?this.$findClosingBracket(v[1],g):this.$findOpeningBracket(v[2],g):null},this.getBracketRange=function(g){var _,p=this.getLine(g.row),v=!0,c=p.charAt(g.column-1),x=c&&c.match(/([\(\[\{])|([\)\]\}])/);if(x||(c=p.charAt(g.column),g={row:g.row,column:g.column+1},x=c&&c.match(/([\(\[\{])|([\)\]\}])/),v=!1),!x)return null;if(x[1]){if(!(w=this.$findClosingBracket(x[1],g)))return null;_=b.fromPoints(g,w),v||(_.end.column++,_.start.column--),_.cursor=_.end}else{var w;if(!(w=this.$findOpeningBracket(x[2],g)))return null;_=b.fromPoints(w,g),v||(_.start.column++,_.end.column--),_.cursor=_.start}return _},this.$brackets={")":"(","(":")","]":"[","[":"]","{":"}","}":"{","<":">",">":"<"},this.$findOpeningBracket=function(g,_,p){var v=this.$brackets[g],c=1,x=new d(this,_.row,_.column),w=x.getCurrentToken();if(w||(w=x.stepForward()),w){p||(p=new RegExp("(\\.?"+w.type.replace(".","\\.").replace("rparen",".paren").replace(/\b(?:end)\b/,"(?:start|begin|end)")+")+"));for(var T=_.column-x.getCurrentTokenColumn()-2,L=w.value;;){for(;T>=0;){var P=L.charAt(T);if(P==v){if((c-=1)==0)return{row:x.getCurrentTokenRow(),column:T+x.getCurrentTokenColumn()}}else P==g&&(c+=1);T-=1}do w=x.stepBackward();while(w&&!p.test(w.type));if(w==null)break;T=(L=w.value).length-1}return null}},this.$findClosingBracket=function(g,_,p){var v=this.$brackets[g],c=1,x=new d(this,_.row,_.column),w=x.getCurrentToken();if(w||(w=x.stepForward()),w){p||(p=new RegExp("(\\.?"+w.type.replace(".","\\.").replace("lparen",".paren").replace(/\b(?:start|begin)\b/,"(?:start|begin|end)")+")+"));for(var T=_.column-x.getCurrentTokenColumn();;){for(var L=w.value,P=L.length;T<P;){var C=L.charAt(T);if(C==v){if((c-=1)==0)return{row:x.getCurrentTokenRow(),column:T+x.getCurrentTokenColumn()}}else C==g&&(c+=1);T+=1}do w=x.stepForward();while(w&&!p.test(w.type));if(w==null)break;T=0}return null}}}})),ace.define("ace/edit_session",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/bidihandler","ace/config","ace/lib/event_emitter","ace/selection","ace/mode/text","ace/range","ace/document","ace/background_tokenizer","ace/search_highlight","ace/edit_session/folding","ace/edit_session/bracket_match"],(function(a,u,m){var d=a("./lib/oop"),b=a("./lib/lang"),g=a("./bidihandler").BidiHandler,_=a("./config"),p=a("./lib/event_emitter").EventEmitter,v=a("./selection").Selection,c=a("./mode/text").Mode,x=a("./range").Range,w=a("./document").Document,T=a("./background_tokenizer").BackgroundTokenizer,L=a("./search_highlight").SearchHighlight,P=function(C,I){this.$breakpoints=[],this.$decorations=[],this.$frontMarkers={},this.$backMarkers={},this.$markerId=1,this.$undoSelect=!0,this.$foldData=[],this.id="session"+ ++P.$uid,this.$foldData.toString=function(){return this.join(`
`)},this.on("changeFold",this.onChangeFold.bind(this)),this.$onChange=this.onChange.bind(this),typeof C=="object"&&C.getLine||(C=new w(C)),this.setDocument(C),this.selection=new v(this),this.$bidiHandler=new g(this),_.resetOptions(this),this.setMode(I),_._signal("session",this)};P.$uid=0,(function(){d.implement(this,p),this.setDocument=function(R){this.doc&&this.doc.removeListener("change",this.$onChange),this.doc=R,R.on("change",this.$onChange),this.bgTokenizer&&this.bgTokenizer.setDocument(this.getDocument()),this.resetCaches()},this.getDocument=function(){return this.doc},this.$resetRowCache=function(R){if(!R)return this.$docRowCache=[],void(this.$screenRowCache=[]);var D=this.$docRowCache.length,G=this.$getRowCacheIndex(this.$docRowCache,R)+1;D>G&&(this.$docRowCache.splice(G,D),this.$screenRowCache.splice(G,D))},this.$getRowCacheIndex=function(R,D){for(var G=0,j=R.length-1;G<=j;){var k=G+j>>1,V=R[k];if(D>V)G=k+1;else{if(!(D<V))return k;j=k-1}}return G-1},this.resetCaches=function(){this.$modified=!0,this.$wrapData=[],this.$rowLengthCache=[],this.$resetRowCache(0),this.bgTokenizer&&this.bgTokenizer.start(0)},this.onChangeFold=function(R){var D=R.data;this.$resetRowCache(D.start.row)},this.onChange=function(R){this.$modified=!0,this.$bidiHandler.onChange(R),this.$resetRowCache(R.start.row);var D=this.$updateInternalDataOnChange(R);!this.$fromUndo&&this.$undoManager&&(D&&D.length&&(this.$undoManager.add({action:"removeFolds",folds:D},this.mergeUndoDeltas),this.mergeUndoDeltas=!0),this.$undoManager.add(R,this.mergeUndoDeltas),this.mergeUndoDeltas=!0,this.$informUndoManager.schedule()),this.bgTokenizer&&this.bgTokenizer.$updateOnChange(R),this._signal("change",R)},this.setValue=function(R){this.doc.setValue(R),this.selection.moveTo(0,0),this.$resetRowCache(0),this.setUndoManager(this.$undoManager),this.getUndoManager().reset()},this.getValue=this.toString=function(){return this.doc.getValue()},this.getSelection=function(){return this.selection},this.getState=function(R){return this.bgTokenizer.getState(R)},this.getTokens=function(R){return this.bgTokenizer.getTokens(R)},this.getTokenAt=function(R,D){var G,j=this.bgTokenizer.getTokens(R),k=0;if(D==null){var V=j.length-1;k=this.getLine(R).length}else for(V=0;V<j.length&&!((k+=j[V].value.length)>=D);V++);return(G=j[V])?(G.index=V,G.start=k-G.value.length,G):null},this.setUndoManager=function(R){if(this.$undoManager=R,this.$informUndoManager&&this.$informUndoManager.cancel(),R){var D=this;R.addSession(this),this.$syncInformUndoManager=function(){D.$informUndoManager.cancel(),D.mergeUndoDeltas=!1},this.$informUndoManager=b.delayedCall(this.$syncInformUndoManager)}else this.$syncInformUndoManager=function(){}},this.markUndoGroup=function(){this.$syncInformUndoManager&&this.$syncInformUndoManager()},this.$defaultUndoManager={undo:function(){},redo:function(){},hasUndo:function(){},hasRedo:function(){},reset:function(){},add:function(){},addSelection:function(){},startNewGroup:function(){},addSession:function(){}},this.getUndoManager=function(){return this.$undoManager||this.$defaultUndoManager},this.getTabString=function(){return this.getUseSoftTabs()?b.stringRepeat(" ",this.getTabSize()):"	"},this.setUseSoftTabs=function(R){this.setOption("useSoftTabs",R)},this.getUseSoftTabs=function(){return this.$useSoftTabs&&!this.$mode.$indentWithTabs},this.setTabSize=function(R){this.setOption("tabSize",R)},this.getTabSize=function(){return this.$tabSize},this.isTabStop=function(R){return this.$useSoftTabs&&R.column%this.$tabSize==0},this.setNavigateWithinSoftTabs=function(R){this.setOption("navigateWithinSoftTabs",R)},this.getNavigateWithinSoftTabs=function(){return this.$navigateWithinSoftTabs},this.$overwrite=!1,this.setOverwrite=function(R){this.setOption("overwrite",R)},this.getOverwrite=function(){return this.$overwrite},this.toggleOverwrite=function(){this.setOverwrite(!this.$overwrite)},this.addGutterDecoration=function(R,D){this.$decorations[R]||(this.$decorations[R]=""),this.$decorations[R]+=" "+D,this._signal("changeBreakpoint",{})},this.removeGutterDecoration=function(R,D){this.$decorations[R]=(this.$decorations[R]||"").replace(" "+D,""),this._signal("changeBreakpoint",{})},this.getBreakpoints=function(){return this.$breakpoints},this.setBreakpoints=function(R){this.$breakpoints=[];for(var D=0;D<R.length;D++)this.$breakpoints[R[D]]="ace_breakpoint";this._signal("changeBreakpoint",{})},this.clearBreakpoints=function(){this.$breakpoints=[],this._signal("changeBreakpoint",{})},this.setBreakpoint=function(R,D){D===void 0&&(D="ace_breakpoint"),D?this.$breakpoints[R]=D:delete this.$breakpoints[R],this._signal("changeBreakpoint",{})},this.clearBreakpoint=function(R){delete this.$breakpoints[R],this._signal("changeBreakpoint",{})},this.addMarker=function(R,D,G,j){var k=this.$markerId++,V={range:R,type:G||"line",renderer:typeof G=="function"?G:null,clazz:D,inFront:!!j,id:k};return j?(this.$frontMarkers[k]=V,this._signal("changeFrontMarker")):(this.$backMarkers[k]=V,this._signal("changeBackMarker")),k},this.addDynamicMarker=function(R,D){if(R.update){var G=this.$markerId++;return R.id=G,R.inFront=!!D,D?(this.$frontMarkers[G]=R,this._signal("changeFrontMarker")):(this.$backMarkers[G]=R,this._signal("changeBackMarker")),R}},this.removeMarker=function(R){var D=this.$frontMarkers[R]||this.$backMarkers[R];D&&(delete(D.inFront?this.$frontMarkers:this.$backMarkers)[R],this._signal(D.inFront?"changeFrontMarker":"changeBackMarker"))},this.getMarkers=function(R){return R?this.$frontMarkers:this.$backMarkers},this.highlight=function(R){if(!this.$searchHighlight){var D=new L(null,"ace_selected-word","text");this.$searchHighlight=this.addDynamicMarker(D)}this.$searchHighlight.setRegexp(R)},this.highlightLines=function(R,D,G,j){typeof D!="number"&&(G=D,D=R),G||(G="ace_step");var k=new x(R,0,D,1/0);return k.id=this.addMarker(k,G,"fullLine",j),k},this.setAnnotations=function(R){this.$annotations=R,this._signal("changeAnnotation",{})},this.getAnnotations=function(){return this.$annotations||[]},this.clearAnnotations=function(){this.setAnnotations([])},this.$detectNewLine=function(R){var D=R.match(/^.*?(\r?\n)/m);this.$autoNewLine=D?D[1]:`
`},this.getWordRange=function(R,D){var G=this.getLine(R),j=!1;if(D>0&&(j=!!G.charAt(D-1).match(this.tokenRe)),j||(j=!!G.charAt(D).match(this.tokenRe)),j)var k=this.tokenRe;else k=/^\s+$/.test(G.slice(D-1,D+1))?/\s/:this.nonTokenRe;var V=D;if(V>0){do V--;while(V>=0&&G.charAt(V).match(k));V++}for(var H=D;H<G.length&&G.charAt(H).match(k);)H++;return new x(R,V,R,H)},this.getAWordRange=function(R,D){for(var G=this.getWordRange(R,D),j=this.getLine(G.end.row);j.charAt(G.end.column).match(/[ \t]/);)G.end.column+=1;return G},this.setNewLineMode=function(R){this.doc.setNewLineMode(R)},this.getNewLineMode=function(){return this.doc.getNewLineMode()},this.setUseWorker=function(R){this.setOption("useWorker",R)},this.getUseWorker=function(){return this.$useWorker},this.onReloadTokenizer=function(R){var D=R.data;this.bgTokenizer.start(D.first),this._signal("tokenizerUpdate",R)},this.$modes=_.$modes,this.$mode=null,this.$modeId=null,this.setMode=function(R,D){if(R&&typeof R=="object"){if(R.getTokenizer)return this.$onChangeMode(R);var G=R,j=G.path}else j=R||"ace/mode/text";if(this.$modes["ace/mode/text"]||(this.$modes["ace/mode/text"]=new c),this.$modes[j]&&!G)return this.$onChangeMode(this.$modes[j]),void(D&&D());this.$modeId=j,_.loadModule(["mode",j],(function(k){if(this.$modeId!==j)return D&&D();this.$modes[j]&&!G?this.$onChangeMode(this.$modes[j]):k&&k.Mode&&(k=new k.Mode(G),G||(this.$modes[j]=k,k.$id=j),this.$onChangeMode(k)),D&&D()}).bind(this)),this.$mode||this.$onChangeMode(this.$modes["ace/mode/text"],!0)},this.$onChangeMode=function(R,D){if(D||(this.$modeId=R.$id),this.$mode!==R){this.$mode=R,this.$stopWorker(),this.$useWorker&&this.$startWorker();var G=R.getTokenizer();if(G.addEventListener!==void 0){var j=this.onReloadTokenizer.bind(this);G.addEventListener("update",j)}if(this.bgTokenizer)this.bgTokenizer.setTokenizer(G);else{this.bgTokenizer=new T(G);var k=this;this.bgTokenizer.addEventListener("update",(function(V){k._signal("tokenizerUpdate",V)}))}this.bgTokenizer.setDocument(this.getDocument()),this.tokenRe=R.tokenRe,this.nonTokenRe=R.nonTokenRe,D||(R.attachToSession&&R.attachToSession(this),this.$options.wrapMethod.set.call(this,this.$wrapMethod),this.$setFolding(R.foldingRules),this.bgTokenizer.start(0),this._emit("changeMode"))}},this.$stopWorker=function(){this.$worker&&(this.$worker.terminate(),this.$worker=null)},this.$startWorker=function(){try{this.$worker=this.$mode.createWorker(this)}catch(R){_.warn("Could not load worker",R),this.$worker=null}},this.getMode=function(){return this.$mode},this.$scrollTop=0,this.setScrollTop=function(R){this.$scrollTop===R||isNaN(R)||(this.$scrollTop=R,this._signal("changeScrollTop",R))},this.getScrollTop=function(){return this.$scrollTop},this.$scrollLeft=0,this.setScrollLeft=function(R){this.$scrollLeft===R||isNaN(R)||(this.$scrollLeft=R,this._signal("changeScrollLeft",R))},this.getScrollLeft=function(){return this.$scrollLeft},this.getScreenWidth=function(){return this.$computeWidth(),this.lineWidgets?Math.max(this.getLineWidgetMaxWidth(),this.screenWidth):this.screenWidth},this.getLineWidgetMaxWidth=function(){if(this.lineWidgetsWidth!=null)return this.lineWidgetsWidth;var R=0;return this.lineWidgets.forEach((function(D){D&&D.screenWidth>R&&(R=D.screenWidth)})),this.lineWidgetWidth=R},this.$computeWidth=function(R){if(this.$modified||R){if(this.$modified=!1,this.$useWrapMode)return this.screenWidth=this.$wrapLimit;for(var D=this.doc.getAllLines(),G=this.$rowLengthCache,j=0,k=0,V=this.$foldData[k],H=V?V.start.row:1/0,te=D.length,ne=0;ne<te;ne++){if(ne>H){if((ne=V.end.row+1)>=te)break;H=(V=this.$foldData[k++])?V.start.row:1/0}G[ne]==null&&(G[ne]=this.$getStringScreenWidth(D[ne])[0]),G[ne]>j&&(j=G[ne])}this.screenWidth=j}},this.getLine=function(R){return this.doc.getLine(R)},this.getLines=function(R,D){return this.doc.getLines(R,D)},this.getLength=function(){return this.doc.getLength()},this.getTextRange=function(R){return this.doc.getTextRange(R||this.selection.getRange())},this.insert=function(R,D){return this.doc.insert(R,D)},this.remove=function(R){return this.doc.remove(R)},this.removeFullLines=function(R,D){return this.doc.removeFullLines(R,D)},this.undoChanges=function(R,D){if(R.length){this.$fromUndo=!0;for(var G=R.length-1;G!=-1;G--){var j=R[G];j.action=="insert"||j.action=="remove"?this.doc.revertDelta(j):j.folds&&this.addFolds(j.folds)}!D&&this.$undoSelect&&(R.selectionBefore?this.selection.fromJSON(R.selectionBefore):this.selection.setRange(this.$getUndoSelection(R,!0))),this.$fromUndo=!1}},this.redoChanges=function(R,D){if(R.length){this.$fromUndo=!0;for(var G=0;G<R.length;G++){var j=R[G];j.action!="insert"&&j.action!="remove"||this.doc.applyDelta(j)}!D&&this.$undoSelect&&(R.selectionAfter?this.selection.fromJSON(R.selectionAfter):this.selection.setRange(this.$getUndoSelection(R,!1))),this.$fromUndo=!1}},this.setUndoSelect=function(R){this.$undoSelect=R},this.$getUndoSelection=function(R,D){function G(te){return D?te.action!=="insert":te.action==="insert"}for(var j,k,V=0;V<R.length;V++){var H=R[V];H.start&&(j?G(H)?(k=H.start,j.compare(k.row,k.column)==-1&&j.setStart(k),k=H.end,j.compare(k.row,k.column)==1&&j.setEnd(k)):(k=H.start,j.compare(k.row,k.column)==-1&&(j=x.fromPoints(H.start,H.start))):j=G(H)?x.fromPoints(H.start,H.end):x.fromPoints(H.start,H.start))}return j},this.replace=function(R,D){return this.doc.replace(R,D)},this.moveText=function(R,D,G){var j=this.getTextRange(R),k=this.getFoldsInRange(R),V=x.fromPoints(D,D);if(!G){this.remove(R);var H=R.start.row-R.end.row;(he=H?-R.end.column:R.start.column-R.end.column)&&(V.start.row==R.end.row&&V.start.column>R.end.column&&(V.start.column+=he),V.end.row==R.end.row&&V.end.column>R.end.column&&(V.end.column+=he)),H&&V.start.row>=R.end.row&&(V.start.row+=H,V.end.row+=H)}if(V.end=this.insert(V.start,j),k.length){var te=R.start,ne=V.start,he=(H=ne.row-te.row,ne.column-te.column);this.addFolds(k.map((function(ie){return(ie=ie.clone()).start.row==te.row&&(ie.start.column+=he),ie.end.row==te.row&&(ie.end.column+=he),ie.start.row+=H,ie.end.row+=H,ie})))}return V},this.indentRows=function(R,D,G){G=G.replace(/\t/g,this.getTabString());for(var j=R;j<=D;j++)this.doc.insertInLine({row:j,column:0},G)},this.outdentRows=function(R){for(var D=R.collapseRows(),G=new x(0,0,0,0),j=this.getTabSize(),k=D.start.row;k<=D.end.row;++k){var V=this.getLine(k);G.start.row=k,G.end.row=k;for(var H=0;H<j&&V.charAt(H)==" ";++H);H<j&&V.charAt(H)=="	"?(G.start.column=H,G.end.column=H+1):(G.start.column=0,G.end.column=H),this.remove(G)}},this.$moveLines=function(R,D,G){if(R=this.getRowFoldStart(R),D=this.getRowFoldEnd(D),G<0){if((k=this.getRowFoldStart(R+G))<0)return 0;var j=k-R}else if(G>0){var k;if((k=this.getRowFoldEnd(D+G))>this.doc.getLength()-1)return 0;j=k-D}else R=this.$clipRowToDocument(R),j=(D=this.$clipRowToDocument(D))-R+1;var V=new x(R,0,D,Number.MAX_VALUE),H=this.getFoldsInRange(V).map((function(ne){return(ne=ne.clone()).start.row+=j,ne.end.row+=j,ne})),te=G==0?this.doc.getLines(R,D):this.doc.removeFullLines(R,D);return this.doc.insertFullLines(R+j,te),H.length&&this.addFolds(H),j},this.moveLinesUp=function(R,D){return this.$moveLines(R,D,-1)},this.moveLinesDown=function(R,D){return this.$moveLines(R,D,1)},this.duplicateLines=function(R,D){return this.$moveLines(R,D,0)},this.$clipRowToDocument=function(R){return Math.max(0,Math.min(R,this.doc.getLength()-1))},this.$clipColumnToRow=function(R,D){return D<0?0:Math.min(this.doc.getLine(R).length,D)},this.$clipPositionToDocument=function(R,D){if(D=Math.max(0,D),R<0)R=0,D=0;else{var G=this.doc.getLength();R>=G?(R=G-1,D=this.doc.getLine(G-1).length):D=Math.min(this.doc.getLine(R).length,D)}return{row:R,column:D}},this.$clipRangeToDocument=function(R){R.start.row<0?(R.start.row=0,R.start.column=0):R.start.column=this.$clipColumnToRow(R.start.row,R.start.column);var D=this.doc.getLength()-1;return R.end.row>D?(R.end.row=D,R.end.column=this.doc.getLine(D).length):R.end.column=this.$clipColumnToRow(R.end.row,R.end.column),R},this.$wrapLimit=80,this.$useWrapMode=!1,this.$wrapLimitRange={min:null,max:null},this.setUseWrapMode=function(R){if(R!=this.$useWrapMode){if(this.$useWrapMode=R,this.$modified=!0,this.$resetRowCache(0),R){var D=this.getLength();this.$wrapData=Array(D),this.$updateWrapData(0,D-1)}this._signal("changeWrapMode")}},this.getUseWrapMode=function(){return this.$useWrapMode},this.setWrapLimitRange=function(R,D){this.$wrapLimitRange.min===R&&this.$wrapLimitRange.max===D||(this.$wrapLimitRange={min:R,max:D},this.$modified=!0,this.$bidiHandler.markAsDirty(),this.$useWrapMode&&this._signal("changeWrapMode"))},this.adjustWrapLimit=function(R,D){var G=this.$wrapLimitRange;G.max<0&&(G={min:D,max:D});var j=this.$constrainWrapLimit(R,G.min,G.max);return j!=this.$wrapLimit&&j>1&&(this.$wrapLimit=j,this.$modified=!0,this.$useWrapMode&&(this.$updateWrapData(0,this.getLength()-1),this.$resetRowCache(0),this._signal("changeWrapLimit")),!0)},this.$constrainWrapLimit=function(R,D,G){return D&&(R=Math.max(D,R)),G&&(R=Math.min(G,R)),R},this.getWrapLimit=function(){return this.$wrapLimit},this.setWrapLimit=function(R){this.setWrapLimitRange(R,R)},this.getWrapLimitRange=function(){return{min:this.$wrapLimitRange.min,max:this.$wrapLimitRange.max}},this.$updateInternalDataOnChange=function(R){var D=this.$useWrapMode,G=R.action,j=R.start,k=R.end,V=j.row,H=k.row,te=H-V,ne=null;if(this.$updating=!0,te!=0)if(G==="remove"){this[D?"$wrapData":"$rowLengthCache"].splice(V,te);var he=this.$foldData;ne=this.getFoldsInRange(R),this.removeFolds(ne);var ie=0;if(le=this.getFoldLine(k.row)){le.addRemoveChars(k.row,k.column,j.column-k.column),le.shiftRow(-te);var ce=this.getFoldLine(V);ce&&ce!==le&&(ce.merge(le),le=ce),ie=he.indexOf(le)+1}for(;ie<he.length;ie++)(le=he[ie]).start.row>=k.row&&le.shiftRow(-te);H=V}else{var Se=Array(te);Se.unshift(V,0);var Ee=D?this.$wrapData:this.$rowLengthCache;if(Ee.splice.apply(Ee,Se),he=this.$foldData,ie=0,le=this.getFoldLine(V)){var me=le.range.compareInside(j.row,j.column);me==0?(le=le.split(j.row,j.column))&&(le.shiftRow(te),le.addRemoveChars(H,0,k.column-j.column)):me==-1&&(le.addRemoveChars(V,0,k.column-j.column),le.shiftRow(te)),ie=he.indexOf(le)+1}for(;ie<he.length;ie++){var le;(le=he[ie]).start.row>=V&&le.shiftRow(te)}}else te=Math.abs(R.start.column-R.end.column),G==="remove"&&(ne=this.getFoldsInRange(R),this.removeFolds(ne),te=-te),(le=this.getFoldLine(V))&&le.addRemoveChars(V,j.column,te);return D&&this.$wrapData.length!=this.doc.getLength()&&console.error("doc.getLength() and $wrapData.length have to be the same!"),this.$updating=!1,D?this.$updateWrapData(V,H):this.$updateRowLengthCache(V,H),ne},this.$updateRowLengthCache=function(R,D,G){this.$rowLengthCache[R]=null,this.$rowLengthCache[D]=null},this.$updateWrapData=function(R,D){var G,j,k=this.doc.getAllLines(),V=this.getTabSize(),H=this.$wrapData,te=this.$wrapLimit,ne=R;for(D=Math.min(D,k.length-1);ne<=D;)(j=this.getFoldLine(ne,j))?(G=[],j.walk((function(he,ie,ce,Se){var Ee;if(he!=null){(Ee=this.$getDisplayTokens(he,G.length))[0]=C;for(var me=1;me<Ee.length;me++)Ee[me]=I}else Ee=this.$getDisplayTokens(k[ie].substring(Se,ce),G.length);G=G.concat(Ee)}).bind(this),j.end.row,k[j.end.row].length+1),H[j.start.row]=this.$computeWrapSplits(G,te,V),ne=j.end.row+1):(G=this.$getDisplayTokens(k[ne]),H[ne]=this.$computeWrapSplits(G,te,V),ne++)};var C=3,I=4;function F(R){return!(R<4352)&&(R>=4352&&R<=4447||R>=4515&&R<=4519||R>=4602&&R<=4607||R>=9001&&R<=9002||R>=11904&&R<=11929||R>=11931&&R<=12019||R>=12032&&R<=12245||R>=12272&&R<=12283||R>=12288&&R<=12350||R>=12353&&R<=12438||R>=12441&&R<=12543||R>=12549&&R<=12589||R>=12593&&R<=12686||R>=12688&&R<=12730||R>=12736&&R<=12771||R>=12784&&R<=12830||R>=12832&&R<=12871||R>=12880&&R<=13054||R>=13056&&R<=19903||R>=19968&&R<=42124||R>=42128&&R<=42182||R>=43360&&R<=43388||R>=44032&&R<=55203||R>=55216&&R<=55238||R>=55243&&R<=55291||R>=63744&&R<=64255||R>=65040&&R<=65049||R>=65072&&R<=65106||R>=65108&&R<=65126||R>=65128&&R<=65131||R>=65281&&R<=65376||R>=65504&&R<=65510)}this.$computeWrapSplits=function(R,D,G){if(R.length==0)return[];var j=[],k=R.length,V=0,H=0,te=this.$wrapAsCode,ne=this.$indentedSoftWrap,he=D<=Math.max(2*G,8)||ne===!1?0:Math.floor(D/2);function ie(me){for(var le=me-V,we=V;we<me;we++){var Re=R[we];Re!==12&&Re!==2||(le-=1)}j.length||(ce=(function(){var Fe=0;if(he===0)return Fe;if(ne)for(var qe=0;qe<R.length;qe++){var ot=R[qe];if(ot==10)Fe+=1;else{if(ot!=11){if(ot==12)continue;break}Fe+=G}}return te&&ne!==!1&&(Fe+=G),Math.min(Fe,he)})(),j.indent=ce),H+=le,j.push(H),V=me}for(var ce=0;k-V>D-ce;){var Se=V+D-ce;if(R[Se-1]>=10&&R[Se]>=10)ie(Se);else if(R[Se]!=C&&R[Se]!=I){for(var Ee=Math.max(Se-(D-(D>>2)),V-1);Se>Ee&&R[Se]<C;)Se--;if(te){for(;Se>Ee&&R[Se]<C;)Se--;for(;Se>Ee&&R[Se]==9;)Se--}else for(;Se>Ee&&R[Se]<10;)Se--;Se>Ee?ie(++Se):(R[Se=V+D]==2&&Se--,ie(Se-ce))}else{for(;Se!=V-1&&R[Se]!=C;Se--);if(Se>V){ie(Se);continue}for(Se=V+D;Se<R.length&&R[Se]==I;Se++);if(Se==R.length)break;ie(Se)}}return j},this.$getDisplayTokens=function(R,D){var G,j=[];D=D||0;for(var k=0;k<R.length;k++){var V=R.charCodeAt(k);if(V==9){G=this.getScreenTabSize(j.length+D),j.push(11);for(var H=1;H<G;H++)j.push(12)}else V==32?j.push(10):V>39&&V<48||V>57&&V<64?j.push(9):V>=4352&&F(V)?j.push(1,2):j.push(1)}return j},this.$getStringScreenWidth=function(R,D,G){if(D==0)return[0,0];var j,k;for(D==null&&(D=1/0),G=G||0,k=0;k<R.length&&((j=R.charCodeAt(k))==9?G+=this.getScreenTabSize(G):j>=4352&&F(j)?G+=2:G+=1,!(G>D));k++);return[G,k]},this.lineWidgets=null,this.getRowLength=function(R){if(this.lineWidgets)var D=this.lineWidgets[R]&&this.lineWidgets[R].rowCount||0;else D=0;return this.$useWrapMode&&this.$wrapData[R]?this.$wrapData[R].length+1+D:1+D},this.getRowLineCount=function(R){return this.$useWrapMode&&this.$wrapData[R]?this.$wrapData[R].length+1:1},this.getRowWrapIndent=function(R){if(this.$useWrapMode){var D=this.screenToDocumentPosition(R,Number.MAX_VALUE),G=this.$wrapData[D.row];return G.length&&G[0]<D.column?G.indent:0}return 0},this.getScreenLastRowColumn=function(R){var D=this.screenToDocumentPosition(R,Number.MAX_VALUE);return this.documentToScreenColumn(D.row,D.column)},this.getDocumentLastRowColumn=function(R,D){var G=this.documentToScreenRow(R,D);return this.getScreenLastRowColumn(G)},this.getDocumentLastRowColumnPosition=function(R,D){var G=this.documentToScreenRow(R,D);return this.screenToDocumentPosition(G,Number.MAX_VALUE/10)},this.getRowSplitData=function(R){return this.$useWrapMode?this.$wrapData[R]:void 0},this.getScreenTabSize=function(R){return this.$tabSize-(R%this.$tabSize|0)},this.screenToDocumentRow=function(R,D){return this.screenToDocumentPosition(R,D).row},this.screenToDocumentColumn=function(R,D){return this.screenToDocumentPosition(R,D).column},this.screenToDocumentPosition=function(R,D,G){if(R<0)return{row:0,column:0};var j,k,V=0,H=0,te=0,ne=0,he=this.$screenRowCache,ie=this.$getRowCacheIndex(he,R),ce=he.length;if(ce&&ie>=0){te=he[ie],V=this.$docRowCache[ie];var Se=R>he[ce-1]}else Se=!ce;for(var Ee=this.getLength()-1,me=this.getNextFoldLine(V),le=me?me.start.row:1/0;te<=R&&!(te+(ne=this.getRowLength(V))>R||V>=Ee);)te+=ne,++V>le&&(V=me.end.row+1,le=(me=this.getNextFoldLine(V,me))?me.start.row:1/0),Se&&(this.$docRowCache.push(V),this.$screenRowCache.push(te));if(me&&me.start.row<=V)j=this.getFoldDisplayLine(me),V=me.start.row;else{if(te+ne<=R||V>Ee)return{row:Ee,column:this.getLine(Ee).length};j=this.getLine(V),me=null}var we=0,Re=Math.floor(R-te);if(this.$useWrapMode){var Fe=this.$wrapData[V];Fe&&(k=Fe[Re],Re>0&&Fe.length&&(we=Fe.indent,H=Fe[Re-1]||Fe[Fe.length-1],j=j.substring(H)))}return G!==void 0&&this.$bidiHandler.isBidiRow(te+Re,V,Re)&&(D=this.$bidiHandler.offsetToCol(G)),H+=this.$getStringScreenWidth(j,D-we)[1],this.$useWrapMode&&H>=k&&(H=k-1),me?me.idxToPosition(H):{row:V,column:H}},this.documentToScreenPosition=function(R,D){if(D===void 0)var G=this.$clipPositionToDocument(R.row,R.column);else G=this.$clipPositionToDocument(R,D);R=G.row,D=G.column;var j,k=0,V=null;(j=this.getFoldAt(R,D,1))&&(R=j.start.row,D=j.start.column);var H,te=0,ne=this.$docRowCache,he=this.$getRowCacheIndex(ne,R),ie=ne.length;if(ie&&he>=0){te=ne[he],k=this.$screenRowCache[he];var ce=R>ne[ie-1]}else ce=!ie;for(var Se=this.getNextFoldLine(te),Ee=Se?Se.start.row:1/0;te<R;){if(te>=Ee){if((H=Se.end.row+1)>R)break;Ee=(Se=this.getNextFoldLine(H,Se))?Se.start.row:1/0}else H=te+1;k+=this.getRowLength(te),te=H,ce&&(this.$docRowCache.push(te),this.$screenRowCache.push(k))}var me="";Se&&te>=Ee?(me=this.getFoldDisplayLine(Se,R,D),V=Se.start.row):(me=this.getLine(R).substring(0,D),V=R);var le=0;if(this.$useWrapMode){var we=this.$wrapData[V];if(we){for(var Re=0;me.length>=we[Re];)k++,Re++;me=me.substring(we[Re-1]||0,me.length),le=Re>0?we.indent:0}}return{row:k,column:le+this.$getStringScreenWidth(me)[0]}},this.documentToScreenColumn=function(R,D){return this.documentToScreenPosition(R,D).column},this.documentToScreenRow=function(R,D){return this.documentToScreenPosition(R,D).row},this.getScreenLength=function(){var R=0,D=null;if(this.$useWrapMode)for(var G=this.$wrapData.length,j=0,k=(te=0,(D=this.$foldData[te++])?D.start.row:1/0);j<G;){var V=this.$wrapData[j];R+=V?V.length+1:1,++j>k&&(j=D.end.row+1,k=(D=this.$foldData[te++])?D.start.row:1/0)}else{R=this.getLength();for(var H=this.$foldData,te=0;te<H.length;te++)R-=(D=H[te]).end.row-D.start.row}return this.lineWidgets&&(R+=this.$getWidgetScreenLength()),R},this.$setFontMetrics=function(R){this.$enableVarChar&&(this.$getStringScreenWidth=function(D,G,j){if(G===0)return[0,0];var k,V;for(G||(G=1/0),j=j||0,V=0;V<D.length&&!((j+=(k=D.charAt(V))==="	"?this.getScreenTabSize(j):R.getCharacterWidth(k))>G);V++);return[j,V]})},this.destroy=function(){this.bgTokenizer&&(this.bgTokenizer.setDocument(null),this.bgTokenizer=null),this.$stopWorker()},this.isFullWidth=F}).call(P.prototype),a("./edit_session/folding").Folding.call(P.prototype),a("./edit_session/bracket_match").BracketMatch.call(P.prototype),_.defineOptions(P.prototype,"session",{wrap:{set:function(C){if(C&&C!="off"?C=="free"?C=!0:C=="printMargin"?C=-1:typeof C=="string"&&(C=parseInt(C,10)||!1):C=!1,this.$wrap!=C)if(this.$wrap=C,C){var I=typeof C=="number"?C:null;this.setWrapLimitRange(I,I),this.setUseWrapMode(!0)}else this.setUseWrapMode(!1)},get:function(){return this.getUseWrapMode()?this.$wrap==-1?"printMargin":this.getWrapLimitRange().min?this.$wrap:"free":"off"},handlesSet:!0},wrapMethod:{set:function(C){(C=C=="auto"?this.$mode.type!="text":C!="text")!=this.$wrapAsCode&&(this.$wrapAsCode=C,this.$useWrapMode&&(this.$useWrapMode=!1,this.setUseWrapMode(!0)))},initialValue:"auto"},indentedSoftWrap:{set:function(){this.$useWrapMode&&(this.$useWrapMode=!1,this.setUseWrapMode(!0))},initialValue:!0},firstLineNumber:{set:function(){this._signal("changeBreakpoint")},initialValue:1},useWorker:{set:function(C){this.$useWorker=C,this.$stopWorker(),C&&this.$startWorker()},initialValue:!0},useSoftTabs:{initialValue:!0},tabSize:{set:function(C){(C=parseInt(C))>0&&this.$tabSize!==C&&(this.$modified=!0,this.$rowLengthCache=[],this.$tabSize=C,this._signal("changeTabSize"))},initialValue:4,handlesSet:!0},navigateWithinSoftTabs:{initialValue:!1},foldStyle:{set:function(C){this.setFoldStyle(C)},handlesSet:!0},overwrite:{set:function(C){this._signal("changeOverwrite")},initialValue:!1},newLineMode:{set:function(C){this.doc.setNewLineMode(C)},get:function(){return this.doc.getNewLineMode()},handlesSet:!0},mode:{set:function(C){this.setMode(C)},get:function(){return this.$modeId},handlesSet:!0}}),u.EditSession=P})),ace.define("ace/search",["require","exports","module","ace/lib/lang","ace/lib/oop","ace/range"],(function(a,u,m){var d=a("./lib/lang"),b=a("./lib/oop"),g=a("./range").Range,_=function(){this.$options={}};(function(){this.set=function(p){return b.mixin(this.$options,p),this},this.getOptions=function(){return d.copyObject(this.$options)},this.setOptions=function(p){this.$options=p},this.find=function(p){var v=this.$options,c=this.$matchIterator(p,v);if(!c)return!1;var x=null;return c.forEach((function(w,T,L,P){return x=new g(w,T,L,P),!(T==P&&v.start&&v.start.start&&v.skipCurrent!=0&&x.isEqual(v.start)&&(x=null,1))})),x},this.findAll=function(p){var v=this.$options;if(!v.needle)return[];this.$assembleRegExp(v);var c=v.range,x=c?p.getLines(c.start.row,c.end.row):p.doc.getAllLines(),w=[],T=v.re;if(v.$isMultiLine){var L,P=T.length,C=x.length-P;e:for(var I=T.offset||0;I<=C;I++){for(var F=0;F<P;F++)if(x[I+F].search(T[F])==-1)continue e;var R=x[I],D=x[I+P-1],G=R.length-R.match(T[0])[0].length,j=D.match(T[P-1])[0].length;L&&L.end.row===I&&L.end.column>G||(w.push(L=new g(I,G,I+P-1,j)),P>2&&(I=I+P-2))}}else for(var k=0;k<x.length;k++){var V=d.getMatchOffsets(x[k],T);for(F=0;F<V.length;F++){var H=V[F];w.push(new g(k,H.offset,k,H.offset+H.length))}}if(c){var te=c.start.column,ne=c.start.column;for(k=0,F=w.length-1;k<F&&w[k].start.column<te&&w[k].start.row==c.start.row;)k++;for(;k<F&&w[F].end.column>ne&&w[F].end.row==c.end.row;)F--;for(w=w.slice(k,F+1),k=0,F=w.length;k<F;k++)w[k].start.row+=c.start.row,w[k].end.row+=c.start.row}return w},this.replace=function(p,v){var c=this.$options,x=this.$assembleRegExp(c);if(c.$isMultiLine)return v;if(x){var w=x.exec(p);if(!w||w[0].length!=p.length)return null;if(v=p.replace(x,v),c.preserveCase){v=v.split("");for(var T=Math.min(p.length,p.length);T--;){var L=p[T];L&&L.toLowerCase()!=L?v[T]=v[T].toUpperCase():v[T]=v[T].toLowerCase()}v=v.join("")}return v}},this.$assembleRegExp=function(p,v){if(p.needle instanceof RegExp)return p.re=p.needle;var c=p.needle;if(!p.needle)return p.re=!1;p.regExp||(c=d.escapeRegExp(c)),p.wholeWord&&(c=(function(T,L){function P(C){return/\w/.test(C)||L.regExp?"\\b":""}return P(T[0])+T+P(T[T.length-1])})(c,p));var x=p.caseSensitive?"gm":"gmi";if(p.$isMultiLine=!v&&/[\n\r]/.test(c),p.$isMultiLine)return p.re=this.$assembleMultilineRegExp(c,x);try{var w=new RegExp(c,x)}catch{w=!1}return p.re=w},this.$assembleMultilineRegExp=function(p,v){for(var c=p.replace(/\r\n|\r|\n/g,`$
^`).split(`
`),x=[],w=0;w<c.length;w++)try{x.push(new RegExp(c[w],v))}catch{return!1}return x},this.$matchIterator=function(p,v){var c=this.$assembleRegExp(v);if(!c)return!1;var x=v.backwards==1,w=v.skipCurrent!=0,T=v.range,L=v.start;L||(L=T?T[x?"end":"start"]:p.selection.getRange()),L.start&&(L=L[w!=x?"end":"start"]);var P=T?T.start.row:0,C=T?T.end.row:p.getLength()-1;if(x)var I=function(D){var G=L.row;if(!R(G,L.column,D)){for(G--;G>=P;G--)if(R(G,Number.MAX_VALUE,D))return;if(v.wrap!=0){for(G=C,P=L.row;G>=P;G--)if(R(G,Number.MAX_VALUE,D))return}}};else I=function(D){var G=L.row;if(!R(G,L.column,D)){for(G+=1;G<=C;G++)if(R(G,0,D))return;if(v.wrap!=0){for(G=P,C=L.row;G<=C;G++)if(R(G,0,D))return}}};if(v.$isMultiLine)var F=c.length,R=function(D,G,j){var k=x?D-F+1:D;if(!(k<0)){var V=p.getLine(k),H=V.search(c[0]);if(!(!x&&H<G||H===-1)){for(var te=1;te<F;te++)if((V=p.getLine(k+te)).search(c[te])==-1)return;var ne=V.match(c[F-1])[0].length;if(!(x&&ne>G))return!!j(k,H,k+F-1,ne)||void 0}}};else R=x?function(D,G,j){var k,V=p.getLine(D),H=[],te=0;for(c.lastIndex=0;k=c.exec(V);){var ne=k[0].length;if(te=k.index,!ne){if(te>=V.length)break;c.lastIndex=te+=1}if(k.index+ne>G)break;H.push(k.index,ne)}for(var he=H.length-1;he>=0;he-=2){var ie=H[he-1];if(j(D,ie,D,ie+(ne=H[he])))return!0}}:function(D,G,j){var k,V,H=p.getLine(D);for(c.lastIndex=G;V=c.exec(H);){var te=V[0].length;if(j(D,k=V.index,D,k+te))return!0;if(!te&&(c.lastIndex=k+=1,k>=H.length))return!1}};return{forEach:I}}}).call(_.prototype),u.Search=_})),ace.define("ace/keyboard/hash_handler",["require","exports","module","ace/lib/keys","ace/lib/useragent"],(function(a,u,m){var d=a("../lib/keys"),b=a("../lib/useragent"),g=d.KEY_MODS;function _(v,c){this.platform=c||(b.isMac?"mac":"win"),this.commands={},this.commandKeyBinding={},this.addCommands(v),this.$singleCommand=!0}function p(v,c){_.call(this,v,c),this.$singleCommand=!1}p.prototype=_.prototype,(function(){function v(c){return typeof c=="object"&&c.bindKey&&c.bindKey.position||(c.isDefault?-100:0)}this.addCommand=function(c){this.commands[c.name]&&this.removeCommand(c),this.commands[c.name]=c,c.bindKey&&this._buildKeyHash(c)},this.removeCommand=function(c,x){var w=c&&(typeof c=="string"?c:c.name);c=this.commands[w],x||delete this.commands[w];var T=this.commandKeyBinding;for(var L in T){var P=T[L];if(P==c)delete T[L];else if(Array.isArray(P)){var C=P.indexOf(c);C!=-1&&(P.splice(C,1),P.length==1&&(T[L]=P[0]))}}},this.bindKey=function(c,x,w){if(typeof c=="object"&&c&&(w==null&&(w=c.position),c=c[this.platform]),c)return typeof x=="function"?this.addCommand({exec:x,bindKey:c,name:x.name||c}):void c.split("|").forEach((function(T){var L="";if(T.indexOf(" ")!=-1){var P=T.split(/\s+/);T=P.pop(),P.forEach((function(F){var R=this.parseKeys(F),D=g[R.hashId]+R.key;L+=(L?" ":"")+D,this._addCommandToBinding(L,"chainKeys")}),this),L+=" "}var C=this.parseKeys(T),I=g[C.hashId]+C.key;this._addCommandToBinding(L+I,x,w)}),this)},this._addCommandToBinding=function(c,x,w){var T,L=this.commandKeyBinding;if(x)if(!L[c]||this.$singleCommand)L[c]=x;else{Array.isArray(L[c])?(T=L[c].indexOf(x))!=-1&&L[c].splice(T,1):L[c]=[L[c]],typeof w!="number"&&(w=v(x));var P=L[c];for(T=0;T<P.length&&!(v(P[T])>w);T++);P.splice(T,0,x)}else delete L[c]},this.addCommands=function(c){c&&Object.keys(c).forEach((function(x){var w=c[x];if(w){if(typeof w=="string")return this.bindKey(w,x);typeof w=="function"&&(w={exec:w}),typeof w=="object"&&(w.name||(w.name=x),this.addCommand(w))}}),this)},this.removeCommands=function(c){Object.keys(c).forEach((function(x){this.removeCommand(c[x])}),this)},this.bindKeys=function(c){Object.keys(c).forEach((function(x){this.bindKey(x,c[x])}),this)},this._buildKeyHash=function(c){this.bindKey(c.bindKey,c)},this.parseKeys=function(c){var x=c.toLowerCase().split(/[\-\+]([\-\+])?/).filter((function(I){return I})),w=x.pop(),T=d[w];if(d.FUNCTION_KEYS[T])w=d.FUNCTION_KEYS[T].toLowerCase();else{if(!x.length)return{key:w,hashId:-1};if(x.length==1&&x[0]=="shift")return{key:w.toUpperCase(),hashId:-1}}for(var L=0,P=x.length;P--;){var C=d.KEY_MODS[x[P]];if(C==null)return typeof console<"u"&&console.error("invalid modifier "+x[P]+" in "+c),!1;L|=C}return{key:w,hashId:L}},this.findKeyCommand=function(c,x){var w=g[c]+x;return this.commandKeyBinding[w]},this.handleKeyboard=function(c,x,w,T){if(!(T<0)){var L=g[x]+w,P=this.commandKeyBinding[L];return c.$keyChain&&(c.$keyChain+=" "+L,P=this.commandKeyBinding[c.$keyChain]||P),!P||P!="chainKeys"&&P[P.length-1]!="chainKeys"?(c.$keyChain&&(x&&x!=4||w.length!=1?(x==-1||T>0)&&(c.$keyChain=""):c.$keyChain=c.$keyChain.slice(0,-L.length-1)),{command:P}):(c.$keyChain=c.$keyChain||L,{command:"null"})}},this.getStatusText=function(c,x){return x.$keyChain||""}}).call(_.prototype),u.HashHandler=_,u.MultiHashHandler=p})),ace.define("ace/commands/command_manager",["require","exports","module","ace/lib/oop","ace/keyboard/hash_handler","ace/lib/event_emitter"],(function(a,u,m){var d=a("../lib/oop"),b=a("../keyboard/hash_handler").MultiHashHandler,g=a("../lib/event_emitter").EventEmitter,_=function(p,v){b.call(this,v,p),this.byName=this.commands,this.setDefaultHandler("exec",(function(c){return c.command.exec(c.editor,c.args||{})}))};d.inherits(_,b),(function(){d.implement(this,g),this.exec=function(p,v,c){if(Array.isArray(p)){for(var x=p.length;x--;)if(this.exec(p[x],v,c))return!0;return!1}if(typeof p=="string"&&(p=this.commands[p]),!p||v&&v.$readOnly&&!p.readOnly||this.$checkCommandState!=0&&p.isAvailable&&!p.isAvailable(v))return!1;var w={editor:v,command:p,args:c};return w.returnValue=this._emit("exec",w),this._signal("afterExec",w),w.returnValue!==!1},this.toggleRecording=function(p){if(!this.$inReplay)return p&&p._emit("changeStatus"),this.recording?(this.macro.pop(),this.removeEventListener("exec",this.$addCommandToMacro),this.macro.length||(this.macro=this.oldMacro),this.recording=!1):(this.$addCommandToMacro||(this.$addCommandToMacro=(function(v){this.macro.push([v.command,v.args])}).bind(this)),this.oldMacro=this.macro,this.macro=[],this.on("exec",this.$addCommandToMacro),this.recording=!0)},this.replay=function(p){if(!this.$inReplay&&this.macro){if(this.recording)return this.toggleRecording(p);try{this.$inReplay=!0,this.macro.forEach((function(v){typeof v=="string"?this.exec(v,p):this.exec(v[0],p,v[1])}),this)}finally{this.$inReplay=!1}}},this.trimMacro=function(p){return p.map((function(v){return typeof v[0]!="string"&&(v[0]=v[0].name),v[1]||(v=v[0]),v}))}}).call(_.prototype),u.CommandManager=_})),ace.define("ace/commands/default_commands",["require","exports","module","ace/lib/lang","ace/config","ace/range"],(function(a,u,m){var d=a("../lib/lang"),b=a("../config"),g=a("../range").Range;function _(p,v){return{win:p,mac:v}}u.commands=[{name:"showSettingsMenu",bindKey:_("Ctrl-,","Command-,"),exec:function(p){b.loadModule("ace/ext/settings_menu",(function(v){v.init(p),p.showSettingsMenu()}))},readOnly:!0},{name:"goToNextError",bindKey:_("Alt-E","F4"),exec:function(p){b.loadModule("./ext/error_marker",(function(v){v.showErrorMarker(p,1)}))},scrollIntoView:"animate",readOnly:!0},{name:"goToPreviousError",bindKey:_("Alt-Shift-E","Shift-F4"),exec:function(p){b.loadModule("./ext/error_marker",(function(v){v.showErrorMarker(p,-1)}))},scrollIntoView:"animate",readOnly:!0},{name:"selectall",description:"Select all",bindKey:_("Ctrl-A","Command-A"),exec:function(p){p.selectAll()},readOnly:!0},{name:"centerselection",description:"Center selection",bindKey:_(null,"Ctrl-L"),exec:function(p){p.centerSelection()},readOnly:!0},{name:"gotoline",description:"Go to line...",bindKey:_("Ctrl-L","Command-L"),exec:function(p,v){typeof v!="number"||isNaN(v)||p.gotoLine(v),p.prompt({$type:"gotoLine"})},readOnly:!0},{name:"fold",bindKey:_("Alt-L|Ctrl-F1","Command-Alt-L|Command-F1"),exec:function(p){p.session.toggleFold(!1)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"unfold",bindKey:_("Alt-Shift-L|Ctrl-Shift-F1","Command-Alt-Shift-L|Command-Shift-F1"),exec:function(p){p.session.toggleFold(!0)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"toggleFoldWidget",bindKey:_("F2","F2"),exec:function(p){p.session.toggleFoldWidget()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"toggleParentFoldWidget",bindKey:_("Alt-F2","Alt-F2"),exec:function(p){p.session.toggleFoldWidget(!0)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"foldall",description:"Fold all",bindKey:_(null,"Ctrl-Command-Option-0"),exec:function(p){p.session.foldAll()},scrollIntoView:"center",readOnly:!0},{name:"foldOther",description:"Fold other",bindKey:_("Alt-0","Command-Option-0"),exec:function(p){p.session.foldAll(),p.session.unfold(p.selection.getAllRanges())},scrollIntoView:"center",readOnly:!0},{name:"unfoldall",description:"Unfold all",bindKey:_("Alt-Shift-0","Command-Option-Shift-0"),exec:function(p){p.session.unfold()},scrollIntoView:"center",readOnly:!0},{name:"findnext",description:"Find next",bindKey:_("Ctrl-K","Command-G"),exec:function(p){p.findNext()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"findprevious",description:"Find previous",bindKey:_("Ctrl-Shift-K","Command-Shift-G"),exec:function(p){p.findPrevious()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"selectOrFindNext",description:"Select or find next",bindKey:_("Alt-K","Ctrl-G"),exec:function(p){p.selection.isEmpty()?p.selection.selectWord():p.findNext()},readOnly:!0},{name:"selectOrFindPrevious",description:"Select or find previous",bindKey:_("Alt-Shift-K","Ctrl-Shift-G"),exec:function(p){p.selection.isEmpty()?p.selection.selectWord():p.findPrevious()},readOnly:!0},{name:"find",description:"Find",bindKey:_("Ctrl-F","Command-F"),exec:function(p){b.loadModule("ace/ext/searchbox",(function(v){v.Search(p)}))},readOnly:!0},{name:"overwrite",description:"Overwrite",bindKey:"Insert",exec:function(p){p.toggleOverwrite()},readOnly:!0},{name:"selecttostart",description:"Select to start",bindKey:_("Ctrl-Shift-Home","Command-Shift-Home|Command-Shift-Up"),exec:function(p){p.getSelection().selectFileStart()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"gotostart",description:"Go to start",bindKey:_("Ctrl-Home","Command-Home|Command-Up"),exec:function(p){p.navigateFileStart()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"selectup",description:"Select up",bindKey:_("Shift-Up","Shift-Up|Ctrl-Shift-P"),exec:function(p){p.getSelection().selectUp()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"golineup",description:"Go line up",bindKey:_("Up","Up|Ctrl-P"),exec:function(p,v){p.navigateUp(v.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttoend",description:"Select to end",bindKey:_("Ctrl-Shift-End","Command-Shift-End|Command-Shift-Down"),exec:function(p){p.getSelection().selectFileEnd()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"gotoend",description:"Go to end",bindKey:_("Ctrl-End","Command-End|Command-Down"),exec:function(p){p.navigateFileEnd()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"selectdown",description:"Select down",bindKey:_("Shift-Down","Shift-Down|Ctrl-Shift-N"),exec:function(p){p.getSelection().selectDown()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"golinedown",description:"Go line down",bindKey:_("Down","Down|Ctrl-N"),exec:function(p,v){p.navigateDown(v.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectwordleft",description:"Select word left",bindKey:_("Ctrl-Shift-Left","Option-Shift-Left"),exec:function(p){p.getSelection().selectWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotowordleft",description:"Go to word left",bindKey:_("Ctrl-Left","Option-Left"),exec:function(p){p.navigateWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttolinestart",description:"Select to line start",bindKey:_("Alt-Shift-Left","Command-Shift-Left|Ctrl-Shift-A"),exec:function(p){p.getSelection().selectLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotolinestart",description:"Go to line start",bindKey:_("Alt-Left|Home","Command-Left|Home|Ctrl-A"),exec:function(p){p.navigateLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectleft",description:"Select left",bindKey:_("Shift-Left","Shift-Left|Ctrl-Shift-B"),exec:function(p){p.getSelection().selectLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotoleft",description:"Go to left",bindKey:_("Left","Left|Ctrl-B"),exec:function(p,v){p.navigateLeft(v.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectwordright",description:"Select word right",bindKey:_("Ctrl-Shift-Right","Option-Shift-Right"),exec:function(p){p.getSelection().selectWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotowordright",description:"Go to word right",bindKey:_("Ctrl-Right","Option-Right"),exec:function(p){p.navigateWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttolineend",description:"Select to line end",bindKey:_("Alt-Shift-Right","Command-Shift-Right|Shift-End|Ctrl-Shift-E"),exec:function(p){p.getSelection().selectLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotolineend",description:"Go to line end",bindKey:_("Alt-Right|End","Command-Right|End|Ctrl-E"),exec:function(p){p.navigateLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectright",description:"Select right",bindKey:_("Shift-Right","Shift-Right"),exec:function(p){p.getSelection().selectRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotoright",description:"Go to right",bindKey:_("Right","Right|Ctrl-F"),exec:function(p,v){p.navigateRight(v.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectpagedown",description:"Select page down",bindKey:"Shift-PageDown",exec:function(p){p.selectPageDown()},readOnly:!0},{name:"pagedown",description:"Page down",bindKey:_(null,"Option-PageDown"),exec:function(p){p.scrollPageDown()},readOnly:!0},{name:"gotopagedown",description:"Go to page down",bindKey:_("PageDown","PageDown|Ctrl-V"),exec:function(p){p.gotoPageDown()},readOnly:!0},{name:"selectpageup",description:"Select page up",bindKey:"Shift-PageUp",exec:function(p){p.selectPageUp()},readOnly:!0},{name:"pageup",description:"Page up",bindKey:_(null,"Option-PageUp"),exec:function(p){p.scrollPageUp()},readOnly:!0},{name:"gotopageup",description:"Go to page up",bindKey:"PageUp",exec:function(p){p.gotoPageUp()},readOnly:!0},{name:"scrollup",description:"Scroll up",bindKey:_("Ctrl-Up",null),exec:function(p){p.renderer.scrollBy(0,-2*p.renderer.layerConfig.lineHeight)},readOnly:!0},{name:"scrolldown",description:"Scroll down",bindKey:_("Ctrl-Down",null),exec:function(p){p.renderer.scrollBy(0,2*p.renderer.layerConfig.lineHeight)},readOnly:!0},{name:"selectlinestart",description:"Select line start",bindKey:"Shift-Home",exec:function(p){p.getSelection().selectLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectlineend",description:"Select line end",bindKey:"Shift-End",exec:function(p){p.getSelection().selectLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"togglerecording",description:"Toggle recording",bindKey:_("Ctrl-Alt-E","Command-Option-E"),exec:function(p){p.commands.toggleRecording(p)},readOnly:!0},{name:"replaymacro",description:"Replay macro",bindKey:_("Ctrl-Shift-E","Command-Shift-E"),exec:function(p){p.commands.replay(p)},readOnly:!0},{name:"jumptomatching",description:"Jump to matching",bindKey:_("Ctrl-\\|Ctrl-P","Command-\\"),exec:function(p){p.jumpToMatching()},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"selecttomatching",description:"Select to matching",bindKey:_("Ctrl-Shift-\\|Ctrl-Shift-P","Command-Shift-\\"),exec:function(p){p.jumpToMatching(!0)},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"expandToMatching",description:"Expand to matching",bindKey:_("Ctrl-Shift-M","Ctrl-Shift-M"),exec:function(p){p.jumpToMatching(!0,!0)},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"passKeysToBrowser",description:"Pass keys to browser",bindKey:_(null,null),exec:function(){},passEvent:!0,readOnly:!0},{name:"copy",description:"Copy",exec:function(p){},readOnly:!0},{name:"cut",description:"Cut",exec:function(p){var v=p.$copyWithEmptySelection&&p.selection.isEmpty()?p.selection.getLineRange():p.selection.getRange();p._emit("cut",v),v.isEmpty()||p.session.remove(v),p.clearSelection()},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"paste",description:"Paste",exec:function(p,v){p.$handlePaste(v)},scrollIntoView:"cursor"},{name:"removeline",description:"Remove line",bindKey:_("Ctrl-D","Command-D"),exec:function(p){p.removeLines()},scrollIntoView:"cursor",multiSelectAction:"forEachLine"},{name:"duplicateSelection",description:"Duplicate selection",bindKey:_("Ctrl-Shift-D","Command-Shift-D"),exec:function(p){p.duplicateSelection()},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"sortlines",description:"Sort lines",bindKey:_("Ctrl-Alt-S","Command-Alt-S"),exec:function(p){p.sortLines()},scrollIntoView:"selection",multiSelectAction:"forEachLine"},{name:"togglecomment",description:"Toggle comment",bindKey:_("Ctrl-/","Command-/"),exec:function(p){p.toggleCommentLines()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"toggleBlockComment",description:"Toggle block comment",bindKey:_("Ctrl-Shift-/","Command-Shift-/"),exec:function(p){p.toggleBlockComment()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"modifyNumberUp",description:"Modify number up",bindKey:_("Ctrl-Shift-Up","Alt-Shift-Up"),exec:function(p){p.modifyNumber(1)},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"modifyNumberDown",description:"Modify number down",bindKey:_("Ctrl-Shift-Down","Alt-Shift-Down"),exec:function(p){p.modifyNumber(-1)},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"replace",description:"Replace",bindKey:_("Ctrl-H","Command-Option-F"),exec:function(p){b.loadModule("ace/ext/searchbox",(function(v){v.Search(p,!0)}))}},{name:"undo",description:"Undo",bindKey:_("Ctrl-Z","Command-Z"),exec:function(p){p.undo()}},{name:"redo",description:"Redo",bindKey:_("Ctrl-Shift-Z|Ctrl-Y","Command-Shift-Z|Command-Y"),exec:function(p){p.redo()}},{name:"copylinesup",description:"Copy lines up",bindKey:_("Alt-Shift-Up","Command-Option-Up"),exec:function(p){p.copyLinesUp()},scrollIntoView:"cursor"},{name:"movelinesup",description:"Move lines up",bindKey:_("Alt-Up","Option-Up"),exec:function(p){p.moveLinesUp()},scrollIntoView:"cursor"},{name:"copylinesdown",description:"Copy lines down",bindKey:_("Alt-Shift-Down","Command-Option-Down"),exec:function(p){p.copyLinesDown()},scrollIntoView:"cursor"},{name:"movelinesdown",description:"Move lines down",bindKey:_("Alt-Down","Option-Down"),exec:function(p){p.moveLinesDown()},scrollIntoView:"cursor"},{name:"del",description:"Delete",bindKey:_("Delete","Delete|Ctrl-D|Shift-Delete"),exec:function(p){p.remove("right")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"backspace",description:"Backspace",bindKey:_("Shift-Backspace|Backspace","Ctrl-Backspace|Shift-Backspace|Backspace|Ctrl-H"),exec:function(p){p.remove("left")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"cut_or_delete",description:"Cut or delete",bindKey:_("Shift-Delete",null),exec:function(p){if(!p.selection.isEmpty())return!1;p.remove("left")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolinestart",description:"Remove to line start",bindKey:_("Alt-Backspace","Command-Backspace"),exec:function(p){p.removeToLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolineend",description:"Remove to line end",bindKey:_("Alt-Delete","Ctrl-K|Command-Delete"),exec:function(p){p.removeToLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolinestarthard",description:"Remove to line start hard",bindKey:_("Ctrl-Shift-Backspace",null),exec:function(p){var v=p.selection.getRange();v.start.column=0,p.session.remove(v)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolineendhard",description:"Remove to line end hard",bindKey:_("Ctrl-Shift-Delete",null),exec:function(p){var v=p.selection.getRange();v.end.column=Number.MAX_VALUE,p.session.remove(v)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removewordleft",description:"Remove word left",bindKey:_("Ctrl-Backspace","Alt-Backspace|Ctrl-Alt-Backspace"),exec:function(p){p.removeWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removewordright",description:"Remove word right",bindKey:_("Ctrl-Delete","Alt-Delete"),exec:function(p){p.removeWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"outdent",description:"Outdent",bindKey:_("Shift-Tab","Shift-Tab"),exec:function(p){p.blockOutdent()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"indent",description:"Indent",bindKey:_("Tab","Tab"),exec:function(p){p.indent()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"blockoutdent",description:"Block outdent",bindKey:_("Ctrl-[","Ctrl-["),exec:function(p){p.blockOutdent()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"blockindent",description:"Block indent",bindKey:_("Ctrl-]","Ctrl-]"),exec:function(p){p.blockIndent()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"insertstring",description:"Insert string",exec:function(p,v){p.insert(v)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"inserttext",description:"Insert text",exec:function(p,v){p.insert(d.stringRepeat(v.text||"",v.times||1))},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"splitline",description:"Split line",bindKey:_(null,"Ctrl-O"),exec:function(p){p.splitLine()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"transposeletters",description:"Transpose letters",bindKey:_("Alt-Shift-X","Ctrl-T"),exec:function(p){p.transposeLetters()},multiSelectAction:function(p){p.transposeSelections(1)},scrollIntoView:"cursor"},{name:"touppercase",description:"To uppercase",bindKey:_("Ctrl-U","Ctrl-U"),exec:function(p){p.toUpperCase()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"tolowercase",description:"To lowercase",bindKey:_("Ctrl-Shift-U","Ctrl-Shift-U"),exec:function(p){p.toLowerCase()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"expandtoline",description:"Expand to line",bindKey:_("Ctrl-Shift-L","Command-Shift-L"),exec:function(p){var v=p.selection.getRange();v.start.column=v.end.column=0,v.end.row++,p.selection.setRange(v,!1)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"joinlines",description:"Join lines",bindKey:_(null,null),exec:function(p){for(var v=p.selection.isBackwards(),c=v?p.selection.getSelectionLead():p.selection.getSelectionAnchor(),x=v?p.selection.getSelectionAnchor():p.selection.getSelectionLead(),w=p.session.doc.getLine(c.row).length,T=p.session.doc.getTextRange(p.selection.getRange()).replace(/\n\s*/," ").length,L=p.session.doc.getLine(c.row),P=c.row+1;P<=x.row+1;P++){var C=d.stringTrimLeft(d.stringTrimRight(p.session.doc.getLine(P)));C.length!==0&&(C=" "+C),L+=C}x.row+1<p.session.doc.getLength()-1&&(L+=p.session.doc.getNewLineCharacter()),p.clearSelection(),p.session.doc.replace(new g(c.row,0,x.row+2,0),L),T>0?(p.selection.moveCursorTo(c.row,c.column),p.selection.selectTo(c.row,c.column+T)):(w=p.session.doc.getLine(c.row).length>w?w+1:w,p.selection.moveCursorTo(c.row,w))},multiSelectAction:"forEach",readOnly:!0},{name:"invertSelection",description:"Invert selection",bindKey:_(null,null),exec:function(p){var v=p.session.doc.getLength()-1,c=p.session.doc.getLine(v).length,x=p.selection.rangeList.ranges,w=[];x.length<1&&(x=[p.selection.getRange()]);for(var T=0;T<x.length;T++)T==x.length-1&&(x[T].end.row===v&&x[T].end.column===c||w.push(new g(x[T].end.row,x[T].end.column,v,c))),T===0?x[T].start.row===0&&x[T].start.column===0||w.push(new g(0,0,x[T].start.row,x[T].start.column)):w.push(new g(x[T-1].end.row,x[T-1].end.column,x[T].start.row,x[T].start.column));for(p.exitMultiSelectMode(),p.clearSelection(),T=0;T<w.length;T++)p.selection.addRange(w[T],!1)},readOnly:!0,scrollIntoView:"none"},{name:"openCommandPallete",description:"Open command pallete",bindKey:_("F1","F1"),exec:function(p){p.prompt({$type:"commands"})},readOnly:!0},{name:"modeSelect",description:"Change language mode...",bindKey:_(null,null),exec:function(p){p.prompt({$type:"modes"})},readOnly:!0}]})),ace.define("ace/editor",["require","exports","module","ace/lib/fixoldbrowsers","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/lib/useragent","ace/keyboard/textinput","ace/mouse/mouse_handler","ace/mouse/fold_handler","ace/keyboard/keybinding","ace/edit_session","ace/search","ace/range","ace/lib/event_emitter","ace/commands/command_manager","ace/commands/default_commands","ace/config","ace/token_iterator","ace/clipboard"],(function(a,u,m){a("./lib/fixoldbrowsers");var d=a("./lib/oop"),b=a("./lib/dom"),g=a("./lib/lang"),_=a("./lib/useragent"),p=a("./keyboard/textinput").TextInput,v=a("./mouse/mouse_handler").MouseHandler,c=a("./mouse/fold_handler").FoldHandler,x=a("./keyboard/keybinding").KeyBinding,w=a("./edit_session").EditSession,T=a("./search").Search,L=a("./range").Range,P=a("./lib/event_emitter").EventEmitter,C=a("./commands/command_manager").CommandManager,I=a("./commands/default_commands").commands,F=a("./config"),R=a("./token_iterator").TokenIterator,D=a("./clipboard"),G=function(k,V,H){var te=k.getContainerElement();this.container=te,this.renderer=k,this.id="editor"+ ++G.$uid,this.commands=new C(_.isMac?"mac":"win",I),typeof document=="object"&&(this.textInput=new p(k.getTextAreaContainer(),this),this.renderer.textarea=this.textInput.getElement(),this.$mouseHandler=new v(this),new c(this)),this.keyBinding=new x(this),this.$search=new T().set({wrap:!0}),this.$historyTracker=this.$historyTracker.bind(this),this.commands.on("exec",this.$historyTracker),this.$initOperationListeners(),this._$emitInputEvent=g.delayedCall((function(){this._signal("input",{}),this.session&&this.session.bgTokenizer&&this.session.bgTokenizer.scheduleStart()}).bind(this)),this.on("change",(function(ne,he){he._$emitInputEvent.schedule(31)})),this.setSession(V||H&&H.session||new w("")),F.resetOptions(this),H&&this.setOptions(H),F._signal("editor",this)};G.$uid=0,(function(){d.implement(this,P),this.$initOperationListeners=function(){this.commands.on("exec",this.startOperation.bind(this),!0),this.commands.on("afterExec",this.endOperation.bind(this),!0),this.$opResetTimer=g.delayedCall(this.endOperation.bind(this,!0)),this.on("change",(function(){this.curOp||(this.startOperation(),this.curOp.selectionBefore=this.$lastSel),this.curOp.docChanged=!0}).bind(this),!0),this.on("changeSelection",(function(){this.curOp||(this.startOperation(),this.curOp.selectionBefore=this.$lastSel),this.curOp.selectionChanged=!0}).bind(this),!0)},this.curOp=null,this.prevOp={},this.startOperation=function(k){if(this.curOp){if(!k||this.curOp.command)return;this.prevOp=this.curOp}k||(this.previousCommand=null,k={}),this.$opResetTimer.schedule(),this.curOp=this.session.curOp={command:k.command||{},args:k.args,scrollTop:this.renderer.scrollTop},this.curOp.selectionBefore=this.selection.toJSON()},this.endOperation=function(k){if(this.curOp){if(k&&k.returnValue===!1)return this.curOp=null;if(k==1&&this.curOp.command&&this.curOp.command.name=="mouse"||(this._signal("beforeEndOperation"),!this.curOp))return;var V=this.curOp.command,H=V&&V.scrollIntoView;if(H){switch(H){case"center-animate":H="animate";case"center":this.renderer.scrollCursorIntoView(null,.5);break;case"animate":case"cursor":this.renderer.scrollCursorIntoView();break;case"selectionPart":var te=this.selection.getRange(),ne=this.renderer.layerConfig;(te.start.row>=ne.lastRow||te.end.row<=ne.firstRow)&&this.renderer.scrollSelectionIntoView(this.selection.anchor,this.selection.lead)}H=="animate"&&this.renderer.animateScrolling(this.curOp.scrollTop)}var he=this.selection.toJSON();this.curOp.selectionAfter=he,this.$lastSel=this.selection.toJSON(),this.session.getUndoManager().addSelection(he),this.prevOp=this.curOp,this.curOp=null}},this.$mergeableCommands=["backspace","del","insertstring"],this.$historyTracker=function(k){if(this.$mergeUndoDeltas){var V=this.prevOp,H=this.$mergeableCommands,te=V.command&&k.command.name==V.command.name;if(k.command.name=="insertstring"){var ne=k.args;this.mergeNextCommand===void 0&&(this.mergeNextCommand=!0),te=te&&this.mergeNextCommand&&(!/\s/.test(ne)||/\s/.test(V.args)),this.mergeNextCommand=!0}else te=te&&H.indexOf(k.command.name)!==-1;this.$mergeUndoDeltas!="always"&&Date.now()-this.sequenceStartTime>2e3&&(te=!1),te?this.session.mergeUndoDeltas=!0:H.indexOf(k.command.name)!==-1&&(this.sequenceStartTime=Date.now())}},this.setKeyboardHandler=function(k,V){if(k&&typeof k=="string"&&k!="ace"){this.$keybindingId=k;var H=this;F.loadModule(["keybinding",k],(function(te){H.$keybindingId==k&&H.keyBinding.setKeyboardHandler(te&&te.handler),V&&V()}))}else this.$keybindingId=null,this.keyBinding.setKeyboardHandler(k),V&&V()},this.getKeyboardHandler=function(){return this.keyBinding.getKeyboardHandler()},this.setSession=function(k){if(this.session!=k){this.curOp&&this.endOperation(),this.curOp={};var V=this.session;if(V){this.session.off("change",this.$onDocumentChange),this.session.off("changeMode",this.$onChangeMode),this.session.off("tokenizerUpdate",this.$onTokenizerUpdate),this.session.off("changeTabSize",this.$onChangeTabSize),this.session.off("changeWrapLimit",this.$onChangeWrapLimit),this.session.off("changeWrapMode",this.$onChangeWrapMode),this.session.off("changeFold",this.$onChangeFold),this.session.off("changeFrontMarker",this.$onChangeFrontMarker),this.session.off("changeBackMarker",this.$onChangeBackMarker),this.session.off("changeBreakpoint",this.$onChangeBreakpoint),this.session.off("changeAnnotation",this.$onChangeAnnotation),this.session.off("changeOverwrite",this.$onCursorChange),this.session.off("changeScrollTop",this.$onScrollTopChange),this.session.off("changeScrollLeft",this.$onScrollLeftChange);var H=this.session.getSelection();H.off("changeCursor",this.$onCursorChange),H.off("changeSelection",this.$onSelectionChange)}this.session=k,k?(this.$onDocumentChange=this.onDocumentChange.bind(this),k.on("change",this.$onDocumentChange),this.renderer.setSession(k),this.$onChangeMode=this.onChangeMode.bind(this),k.on("changeMode",this.$onChangeMode),this.$onTokenizerUpdate=this.onTokenizerUpdate.bind(this),k.on("tokenizerUpdate",this.$onTokenizerUpdate),this.$onChangeTabSize=this.renderer.onChangeTabSize.bind(this.renderer),k.on("changeTabSize",this.$onChangeTabSize),this.$onChangeWrapLimit=this.onChangeWrapLimit.bind(this),k.on("changeWrapLimit",this.$onChangeWrapLimit),this.$onChangeWrapMode=this.onChangeWrapMode.bind(this),k.on("changeWrapMode",this.$onChangeWrapMode),this.$onChangeFold=this.onChangeFold.bind(this),k.on("changeFold",this.$onChangeFold),this.$onChangeFrontMarker=this.onChangeFrontMarker.bind(this),this.session.on("changeFrontMarker",this.$onChangeFrontMarker),this.$onChangeBackMarker=this.onChangeBackMarker.bind(this),this.session.on("changeBackMarker",this.$onChangeBackMarker),this.$onChangeBreakpoint=this.onChangeBreakpoint.bind(this),this.session.on("changeBreakpoint",this.$onChangeBreakpoint),this.$onChangeAnnotation=this.onChangeAnnotation.bind(this),this.session.on("changeAnnotation",this.$onChangeAnnotation),this.$onCursorChange=this.onCursorChange.bind(this),this.session.on("changeOverwrite",this.$onCursorChange),this.$onScrollTopChange=this.onScrollTopChange.bind(this),this.session.on("changeScrollTop",this.$onScrollTopChange),this.$onScrollLeftChange=this.onScrollLeftChange.bind(this),this.session.on("changeScrollLeft",this.$onScrollLeftChange),this.selection=k.getSelection(),this.selection.on("changeCursor",this.$onCursorChange),this.$onSelectionChange=this.onSelectionChange.bind(this),this.selection.on("changeSelection",this.$onSelectionChange),this.onChangeMode(),this.onCursorChange(),this.onScrollTopChange(),this.onScrollLeftChange(),this.onSelectionChange(),this.onChangeFrontMarker(),this.onChangeBackMarker(),this.onChangeBreakpoint(),this.onChangeAnnotation(),this.session.getUseWrapMode()&&this.renderer.adjustWrapLimit(),this.renderer.updateFull()):(this.selection=null,this.renderer.setSession(k)),this._signal("changeSession",{session:k,oldSession:V}),this.curOp=null,V&&V._signal("changeEditor",{oldEditor:this}),k&&k._signal("changeEditor",{editor:this}),k&&k.bgTokenizer&&k.bgTokenizer.scheduleStart()}},this.getSession=function(){return this.session},this.setValue=function(k,V){return this.session.doc.setValue(k),V?V==1?this.navigateFileEnd():V==-1&&this.navigateFileStart():this.selectAll(),k},this.getValue=function(){return this.session.getValue()},this.getSelection=function(){return this.selection},this.resize=function(k){this.renderer.onResize(k)},this.setTheme=function(k,V){this.renderer.setTheme(k,V)},this.getTheme=function(){return this.renderer.getTheme()},this.setStyle=function(k){this.renderer.setStyle(k)},this.unsetStyle=function(k){this.renderer.unsetStyle(k)},this.getFontSize=function(){return this.getOption("fontSize")||b.computedStyle(this.container).fontSize},this.setFontSize=function(k){this.setOption("fontSize",k)},this.$highlightBrackets=function(){if(this.session.$bracketHighlight&&(this.session.removeMarker(this.session.$bracketHighlight),this.session.$bracketHighlight=null),!this.$highlightPending){var k=this;this.$highlightPending=!0,setTimeout((function(){k.$highlightPending=!1;var V=k.session;if(V&&V.bgTokenizer){var H=V.findMatchingBracket(k.getCursorPosition());if(H)var te=new L(H.row,H.column,H.row,H.column+1);else V.$mode.getMatching&&(te=V.$mode.getMatching(k.session));te&&(V.$bracketHighlight=V.addMarker(te,"ace_bracket","text"))}}),50)}},this.$highlightTags=function(){if(!this.$highlightTagPending){var k=this;this.$highlightTagPending=!0,setTimeout((function(){k.$highlightTagPending=!1;var V=k.session;if(V&&V.bgTokenizer){var H=k.getCursorPosition(),te=new R(k.session,H.row,H.column),ne=te.getCurrentToken();if(!ne||!/\b(?:tag-open|tag-name)/.test(ne.type))return V.removeMarker(V.$tagHighlight),void(V.$tagHighlight=null);if(ne.type.indexOf("tag-open")==-1||(ne=te.stepForward())){var he=ne.value,ie=0,ce=te.stepBackward();if(ce.value=="<")do ce=ne,(ne=te.stepForward())&&ne.value===he&&ne.type.indexOf("tag-name")!==-1&&(ce.value==="<"?ie++:ce.value==="</"&&ie--);while(ne&&ie>=0);else{do ne=ce,ce=te.stepBackward(),ne&&ne.value===he&&ne.type.indexOf("tag-name")!==-1&&(ce.value==="<"?ie++:ce.value==="</"&&ie--);while(ce&&ie<=0);te.stepForward()}if(!ne)return V.removeMarker(V.$tagHighlight),void(V.$tagHighlight=null);var Se=te.getCurrentTokenRow(),Ee=te.getCurrentTokenColumn(),me=new L(Se,Ee,Se,Ee+ne.value.length),le=V.$backMarkers[V.$tagHighlight];V.$tagHighlight&&le!=null&&me.compareRange(le.range)!==0&&(V.removeMarker(V.$tagHighlight),V.$tagHighlight=null),V.$tagHighlight||(V.$tagHighlight=V.addMarker(me,"ace_bracket","text"))}}}),50)}},this.focus=function(){var k=this;setTimeout((function(){k.isFocused()||k.textInput.focus()})),this.textInput.focus()},this.isFocused=function(){return this.textInput.isFocused()},this.blur=function(){this.textInput.blur()},this.onFocus=function(k){this.$isFocused||(this.$isFocused=!0,this.renderer.showCursor(),this.renderer.visualizeFocus(),this._emit("focus",k))},this.onBlur=function(k){this.$isFocused&&(this.$isFocused=!1,this.renderer.hideCursor(),this.renderer.visualizeBlur(),this._emit("blur",k))},this.$cursorChange=function(){this.renderer.updateCursor()},this.onDocumentChange=function(k){var V=this.session.$useWrapMode,H=k.start.row==k.end.row?k.end.row:1/0;this.renderer.updateLines(k.start.row,H,V),this._signal("change",k),this.$cursorChange(),this.$updateHighlightActiveLine()},this.onTokenizerUpdate=function(k){var V=k.data;this.renderer.updateLines(V.first,V.last)},this.onScrollTopChange=function(){this.renderer.scrollToY(this.session.getScrollTop())},this.onScrollLeftChange=function(){this.renderer.scrollToX(this.session.getScrollLeft())},this.onCursorChange=function(){this.$cursorChange(),this.$highlightBrackets(),this.$highlightTags(),this.$updateHighlightActiveLine(),this._signal("changeSelection")},this.$updateHighlightActiveLine=function(){var k,V=this.getSession();if(this.$highlightActiveLine&&(this.$selectionStyle=="line"&&this.selection.isMultiLine()||(k=this.getCursorPosition()),this.renderer.theme&&this.renderer.theme.$selectionColorConflict&&!this.selection.isEmpty()&&(k=!1),!this.renderer.$maxLines||this.session.getLength()!==1||this.renderer.$minLines>1||(k=!1)),V.$highlightLineMarker&&!k)V.removeMarker(V.$highlightLineMarker.id),V.$highlightLineMarker=null;else if(!V.$highlightLineMarker&&k){var H=new L(k.row,k.column,k.row,1/0);H.id=V.addMarker(H,"ace_active-line","screenLine"),V.$highlightLineMarker=H}else k&&(V.$highlightLineMarker.start.row=k.row,V.$highlightLineMarker.end.row=k.row,V.$highlightLineMarker.start.column=k.column,V._signal("changeBackMarker"))},this.onSelectionChange=function(k){var V=this.session;if(V.$selectionMarker&&V.removeMarker(V.$selectionMarker),V.$selectionMarker=null,this.selection.isEmpty())this.$updateHighlightActiveLine();else{var H=this.selection.getRange(),te=this.getSelectionStyle();V.$selectionMarker=V.addMarker(H,"ace_selection",te)}var ne=this.$highlightSelectedWord&&this.$getSelectionHighLightRegexp();this.session.highlight(ne),this._signal("changeSelection")},this.$getSelectionHighLightRegexp=function(){var k=this.session,V=this.getSelectionRange();if(!V.isEmpty()&&!V.isMultiLine()){var H=V.start.column,te=V.end.column,ne=k.getLine(V.start.row),he=ne.substring(H,te);if(!(he.length>5e3)&&/[\w\d]/.test(he)){var ie=this.$search.$assembleRegExp({wholeWord:!0,caseSensitive:!0,needle:he}),ce=ne.substring(H-1,te+1);if(ie.test(ce))return ie}}},this.onChangeFrontMarker=function(){this.renderer.updateFrontMarkers()},this.onChangeBackMarker=function(){this.renderer.updateBackMarkers()},this.onChangeBreakpoint=function(){this.renderer.updateBreakpoints()},this.onChangeAnnotation=function(){this.renderer.setAnnotations(this.session.getAnnotations())},this.onChangeMode=function(k){this.renderer.updateText(),this._emit("changeMode",k)},this.onChangeWrapLimit=function(){this.renderer.updateFull()},this.onChangeWrapMode=function(){this.renderer.onResize(!0)},this.onChangeFold=function(){this.$updateHighlightActiveLine(),this.renderer.updateFull()},this.getSelectedText=function(){return this.session.getTextRange(this.getSelectionRange())},this.getCopyText=function(){var k=this.getSelectedText(),V=this.session.doc.getNewLineCharacter(),H=!1;if(!k&&this.$copyWithEmptySelection){H=!0;for(var te=this.selection.getAllRanges(),ne=0;ne<te.length;ne++){var he=te[ne];ne&&te[ne-1].start.row==he.start.row||(k+=this.session.getLine(he.start.row)+V)}}var ie={text:k};return this._signal("copy",ie),D.lineMode=H?ie.text:"",ie.text},this.onCopy=function(){this.commands.exec("copy",this)},this.onCut=function(){this.commands.exec("cut",this)},this.onPaste=function(k,V){var H={text:k,event:V};this.commands.exec("paste",this,H)},this.$handlePaste=function(k){typeof k=="string"&&(k={text:k}),this._signal("paste",k);var V=k.text,H=V==D.lineMode,te=this.session;if(!this.inMultiSelectMode||this.inVirtualSelectionMode)H?te.insert({row:this.selection.lead.row,column:0},V):this.insert(V);else if(H)this.selection.rangeList.ranges.forEach((function(Ee){te.insert({row:Ee.start.row,column:0},V)}));else{var ne=V.split(/\r\n|\r|\n/),he=this.selection.rangeList.ranges,ie=!(ne.length!=2||ne[0]&&ne[1]);if(ne.length!=he.length||ie)return this.commands.exec("insertstring",this,V);for(var ce=he.length;ce--;){var Se=he[ce];Se.isEmpty()||te.remove(Se),te.insert(Se.start,ne[ce])}}},this.execCommand=function(k,V){return this.commands.exec(k,this,V)},this.insert=function(k,V){var H=this.session,te=H.getMode(),ne=this.getCursorPosition();if(this.getBehavioursEnabled()&&!V){var he=te.transformAction(H.getState(ne.row),"insertion",this,H,k);he&&(k!==he.text&&(this.inVirtualSelectionMode||(this.session.mergeUndoDeltas=!1,this.mergeNextCommand=!1)),k=he.text)}if(k=="	"&&(k=this.session.getTabString()),this.selection.isEmpty())this.session.getOverwrite()&&k.indexOf(`
`)==-1&&((ie=new L.fromPoints(ne,ne)).end.column+=k.length,this.session.remove(ie));else{var ie=this.getSelectionRange();ne=this.session.remove(ie),this.clearSelection()}if(k==`
`||k==`\r
`){var ce=H.getLine(ne.row);if(ne.column>ce.search(/\S|$/)){var Se=ce.substr(ne.column).search(/\S|$/);H.doc.removeInLine(ne.row,ne.column,ne.column+Se)}}this.clearSelection();var Ee=ne.column,me=H.getState(ne.row),le=(ce=H.getLine(ne.row),te.checkOutdent(me,ce,k));if(H.insert(ne,k),he&&he.selection&&(he.selection.length==2?this.selection.setSelectionRange(new L(ne.row,Ee+he.selection[0],ne.row,Ee+he.selection[1])):this.selection.setSelectionRange(new L(ne.row+he.selection[0],he.selection[1],ne.row+he.selection[2],he.selection[3]))),H.getDocument().isNewLine(k)){var we=te.getNextLineIndent(me,ce.slice(0,ne.column),H.getTabString());H.insert({row:ne.row+1,column:0},we)}le&&te.autoOutdent(me,H,ne.row)},this.onTextInput=function(k,V){if(!V)return this.keyBinding.onTextInput(k);this.startOperation({command:{name:"insertstring"}});var H=this.applyComposition.bind(this,k,V);this.selection.rangeCount?this.forEachSelection(H):H(),this.endOperation()},this.applyComposition=function(k,V){var H;(V.extendLeft||V.extendRight)&&((H=this.selection.getRange()).start.column-=V.extendLeft,H.end.column+=V.extendRight,this.selection.setRange(H),k||H.isEmpty()||this.remove()),!k&&this.selection.isEmpty()||this.insert(k,!0),(V.restoreStart||V.restoreEnd)&&((H=this.selection.getRange()).start.column-=V.restoreStart,H.end.column-=V.restoreEnd,this.selection.setRange(H))},this.onCommandKey=function(k,V,H){return this.keyBinding.onCommandKey(k,V,H)},this.setOverwrite=function(k){this.session.setOverwrite(k)},this.getOverwrite=function(){return this.session.getOverwrite()},this.toggleOverwrite=function(){this.session.toggleOverwrite()},this.setScrollSpeed=function(k){this.setOption("scrollSpeed",k)},this.getScrollSpeed=function(){return this.getOption("scrollSpeed")},this.setDragDelay=function(k){this.setOption("dragDelay",k)},this.getDragDelay=function(){return this.getOption("dragDelay")},this.setSelectionStyle=function(k){this.setOption("selectionStyle",k)},this.getSelectionStyle=function(){return this.getOption("selectionStyle")},this.setHighlightActiveLine=function(k){this.setOption("highlightActiveLine",k)},this.getHighlightActiveLine=function(){return this.getOption("highlightActiveLine")},this.setHighlightGutterLine=function(k){this.setOption("highlightGutterLine",k)},this.getHighlightGutterLine=function(){return this.getOption("highlightGutterLine")},this.setHighlightSelectedWord=function(k){this.setOption("highlightSelectedWord",k)},this.getHighlightSelectedWord=function(){return this.$highlightSelectedWord},this.setAnimatedScroll=function(k){this.renderer.setAnimatedScroll(k)},this.getAnimatedScroll=function(){return this.renderer.getAnimatedScroll()},this.setShowInvisibles=function(k){this.renderer.setShowInvisibles(k)},this.getShowInvisibles=function(){return this.renderer.getShowInvisibles()},this.setDisplayIndentGuides=function(k){this.renderer.setDisplayIndentGuides(k)},this.getDisplayIndentGuides=function(){return this.renderer.getDisplayIndentGuides()},this.setShowPrintMargin=function(k){this.renderer.setShowPrintMargin(k)},this.getShowPrintMargin=function(){return this.renderer.getShowPrintMargin()},this.setPrintMarginColumn=function(k){this.renderer.setPrintMarginColumn(k)},this.getPrintMarginColumn=function(){return this.renderer.getPrintMarginColumn()},this.setReadOnly=function(k){this.setOption("readOnly",k)},this.getReadOnly=function(){return this.getOption("readOnly")},this.setBehavioursEnabled=function(k){this.setOption("behavioursEnabled",k)},this.getBehavioursEnabled=function(){return this.getOption("behavioursEnabled")},this.setWrapBehavioursEnabled=function(k){this.setOption("wrapBehavioursEnabled",k)},this.getWrapBehavioursEnabled=function(){return this.getOption("wrapBehavioursEnabled")},this.setShowFoldWidgets=function(k){this.setOption("showFoldWidgets",k)},this.getShowFoldWidgets=function(){return this.getOption("showFoldWidgets")},this.setFadeFoldWidgets=function(k){this.setOption("fadeFoldWidgets",k)},this.getFadeFoldWidgets=function(){return this.getOption("fadeFoldWidgets")},this.remove=function(k){this.selection.isEmpty()&&(k=="left"?this.selection.selectLeft():this.selection.selectRight());var V=this.getSelectionRange();if(this.getBehavioursEnabled()){var H=this.session,te=H.getState(V.start.row),ne=H.getMode().transformAction(te,"deletion",this,H,V);if(V.end.column===0){var he=H.getTextRange(V);if(he[he.length-1]==`
`){var ie=H.getLine(V.end.row);/^\s+$/.test(ie)&&(V.end.column=ie.length)}}ne&&(V=ne)}this.session.remove(V),this.clearSelection()},this.removeWordRight=function(){this.selection.isEmpty()&&this.selection.selectWordRight(),this.session.remove(this.getSelectionRange()),this.clearSelection()},this.removeWordLeft=function(){this.selection.isEmpty()&&this.selection.selectWordLeft(),this.session.remove(this.getSelectionRange()),this.clearSelection()},this.removeToLineStart=function(){this.selection.isEmpty()&&this.selection.selectLineStart(),this.selection.isEmpty()&&this.selection.selectLeft(),this.session.remove(this.getSelectionRange()),this.clearSelection()},this.removeToLineEnd=function(){this.selection.isEmpty()&&this.selection.selectLineEnd();var k=this.getSelectionRange();k.start.column==k.end.column&&k.start.row==k.end.row&&(k.end.column=0,k.end.row++),this.session.remove(k),this.clearSelection()},this.splitLine=function(){this.selection.isEmpty()||(this.session.remove(this.getSelectionRange()),this.clearSelection());var k=this.getCursorPosition();this.insert(`
`),this.moveCursorToPosition(k)},this.transposeLetters=function(){if(this.selection.isEmpty()){var k=this.getCursorPosition(),V=k.column;if(V!==0){var H,te,ne=this.session.getLine(k.row);V<ne.length?(H=ne.charAt(V)+ne.charAt(V-1),te=new L(k.row,V-1,k.row,V+1)):(H=ne.charAt(V-1)+ne.charAt(V-2),te=new L(k.row,V-2,k.row,V)),this.session.replace(te,H),this.session.selection.moveToPosition(te.end)}}},this.toLowerCase=function(){var k=this.getSelectionRange();this.selection.isEmpty()&&this.selection.selectWord();var V=this.getSelectionRange(),H=this.session.getTextRange(V);this.session.replace(V,H.toLowerCase()),this.selection.setSelectionRange(k)},this.toUpperCase=function(){var k=this.getSelectionRange();this.selection.isEmpty()&&this.selection.selectWord();var V=this.getSelectionRange(),H=this.session.getTextRange(V);this.session.replace(V,H.toUpperCase()),this.selection.setSelectionRange(k)},this.indent=function(){var k=this.session,V=this.getSelectionRange();if(!(V.start.row<V.end.row)){if(V.start.column<V.end.column){var H=k.getTextRange(V);if(!/^\s+$/.test(H))return Ee=this.$getSelectedRows(),void k.indentRows(Ee.first,Ee.last,"	")}var te=k.getLine(V.start.row),ne=V.start,he=k.getTabSize(),ie=k.documentToScreenColumn(ne.row,ne.column);if(this.session.getUseSoftTabs())var ce=he-ie%he,Se=g.stringRepeat(" ",ce);else{for(ce=ie%he;te[V.start.column-1]==" "&&ce;)V.start.column--,ce--;this.selection.setSelectionRange(V),Se="	"}return this.insert(Se)}var Ee=this.$getSelectedRows();k.indentRows(Ee.first,Ee.last,"	")},this.blockIndent=function(){var k=this.$getSelectedRows();this.session.indentRows(k.first,k.last,"	")},this.blockOutdent=function(){var k=this.session.getSelection();this.session.outdentRows(k.getRange())},this.sortLines=function(){for(var k=this.$getSelectedRows(),V=this.session,H=[],te=k.first;te<=k.last;te++)H.push(V.getLine(te));H.sort((function(ie,ce){return ie.toLowerCase()<ce.toLowerCase()?-1:ie.toLowerCase()>ce.toLowerCase()?1:0}));var ne=new L(0,0,0,0);for(te=k.first;te<=k.last;te++){var he=V.getLine(te);ne.start.row=te,ne.end.row=te,ne.end.column=he.length,V.replace(ne,H[te-k.first])}},this.toggleCommentLines=function(){var k=this.session.getState(this.getCursorPosition().row),V=this.$getSelectedRows();this.session.getMode().toggleCommentLines(k,this.session,V.first,V.last)},this.toggleBlockComment=function(){var k=this.getCursorPosition(),V=this.session.getState(k.row),H=this.getSelectionRange();this.session.getMode().toggleBlockComment(V,this.session,H,k)},this.getNumberAt=function(k,V){var H=/[\-]?[0-9]+(?:\.[0-9]+)?/g;H.lastIndex=0;for(var te=this.session.getLine(k);H.lastIndex<V;){var ne=H.exec(te);if(ne.index<=V&&ne.index+ne[0].length>=V)return{value:ne[0],start:ne.index,end:ne.index+ne[0].length}}return null},this.modifyNumber=function(k){var V=this.selection.getCursor().row,H=this.selection.getCursor().column,te=new L(V,H-1,V,H),ne=this.session.getTextRange(te);if(!isNaN(parseFloat(ne))&&isFinite(ne)){var he=this.getNumberAt(V,H);if(he){var ie=he.value.indexOf(".")>=0?he.start+he.value.indexOf(".")+1:he.end,ce=he.start+he.value.length-ie,Se=parseFloat(he.value);Se*=Math.pow(10,ce),ie!==he.end&&H<ie?k*=Math.pow(10,he.end-H-1):k*=Math.pow(10,he.end-H),Se+=k;var Ee=(Se/=Math.pow(10,ce)).toFixed(ce),me=new L(V,he.start,V,he.end);this.session.replace(me,Ee),this.moveCursorTo(V,Math.max(he.start+1,H+Ee.length-he.value.length))}}else this.toggleWord()},this.$toggleWordPairs=[["first","last"],["true","false"],["yes","no"],["width","height"],["top","bottom"],["right","left"],["on","off"],["x","y"],["get","set"],["max","min"],["horizontal","vertical"],["show","hide"],["add","remove"],["up","down"],["before","after"],["even","odd"],["in","out"],["inside","outside"],["next","previous"],["increase","decrease"],["attach","detach"],["&&","||"],["==","!="]],this.toggleWord=function(){var k=this.selection.getCursor().row,V=this.selection.getCursor().column;this.selection.selectWord();var H=this.getSelectedText(),te=this.selection.getWordRange().start.column,ne=H.replace(/([a-z]+|[A-Z]+)(?=[A-Z_]|$)/g,"$1 ").split(/\s/),he=V-te-1;he<0&&(he=0);var ie=0,ce=0,Se=this;H.match(/[A-Za-z0-9_]+/)&&ne.forEach((function(ot,dn){ce=ie+ot.length,he>=ie&&he<=ce&&(H=ot,Se.selection.clearSelection(),Se.moveCursorTo(k,ie+te),Se.selection.selectTo(k,ce+te)),ie=ce}));for(var Ee,me=this.$toggleWordPairs,le=0;le<me.length;le++)for(var we=me[le],Re=0;Re<=1;Re++){var Fe=+!Re,qe=H.match(new RegExp("^\\s?_?("+g.escapeRegExp(we[Re])+")\\s?$","i"));qe&&H.match(new RegExp("([_]|^|\\s)("+g.escapeRegExp(qe[1])+")($|\\s)","g"))&&(Ee=H.replace(new RegExp(g.escapeRegExp(we[Re]),"i"),(function(ot){var dn=we[Fe];return ot.toUpperCase()==ot?dn=dn.toUpperCase():ot.charAt(0).toUpperCase()==ot.charAt(0)&&(dn=dn.substr(0,0)+we[Fe].charAt(0).toUpperCase()+dn.substr(1)),dn})),this.insert(Ee),Ee="")}},this.removeLines=function(){var k=this.$getSelectedRows();this.session.removeFullLines(k.first,k.last),this.clearSelection()},this.duplicateSelection=function(){var k=this.selection,V=this.session,H=k.getRange(),te=k.isBackwards();if(H.isEmpty()){var ne=H.start.row;V.duplicateLines(ne,ne)}else{var he=te?H.start:H.end,ie=V.insert(he,V.getTextRange(H),!1);H.start=he,H.end=ie,k.setSelectionRange(H,te)}},this.moveLinesDown=function(){this.$moveLines(1,!1)},this.moveLinesUp=function(){this.$moveLines(-1,!1)},this.moveText=function(k,V,H){return this.session.moveText(k,V,H)},this.copyLinesUp=function(){this.$moveLines(-1,!0)},this.copyLinesDown=function(){this.$moveLines(1,!0)},this.$moveLines=function(k,V){var H,te,ne=this.selection;if(!ne.inMultiSelectMode||this.inVirtualSelectionMode){var he=ne.toOrientedRange();H=this.$getSelectedRows(he),te=this.session.$moveLines(H.first,H.last,V?0:k),V&&k==-1&&(te=0),he.moveBy(te,0),ne.fromOrientedRange(he)}else{var ie=ne.rangeList.ranges;ne.rangeList.detach(this.session),this.inVirtualSelectionMode=!0;for(var ce=0,Se=0,Ee=ie.length,me=0;me<Ee;me++){var le=me;ie[me].moveBy(ce,0);for(var we=(H=this.$getSelectedRows(ie[me])).first,Re=H.last;++me<Ee;){Se&&ie[me].moveBy(Se,0);var Fe=this.$getSelectedRows(ie[me]);if(V&&Fe.first!=Re||!V&&Fe.first>Re+1)break;Re=Fe.last}for(me--,ce=this.session.$moveLines(we,Re,V?0:k),V&&k==-1&&(le=me+1);le<=me;)ie[le].moveBy(ce,0),le++;V||(ce=0),Se+=ce}ne.fromOrientedRange(ne.ranges[0]),ne.rangeList.attach(this.session),this.inVirtualSelectionMode=!1}},this.$getSelectedRows=function(k){return k=(k||this.getSelectionRange()).collapseRows(),{first:this.session.getRowFoldStart(k.start.row),last:this.session.getRowFoldEnd(k.end.row)}},this.onCompositionStart=function(k){this.renderer.showComposition(k)},this.onCompositionUpdate=function(k){this.renderer.setCompositionText(k)},this.onCompositionEnd=function(){this.renderer.hideComposition()},this.getFirstVisibleRow=function(){return this.renderer.getFirstVisibleRow()},this.getLastVisibleRow=function(){return this.renderer.getLastVisibleRow()},this.isRowVisible=function(k){return k>=this.getFirstVisibleRow()&&k<=this.getLastVisibleRow()},this.isRowFullyVisible=function(k){return k>=this.renderer.getFirstFullyVisibleRow()&&k<=this.renderer.getLastFullyVisibleRow()},this.$getVisibleRowCount=function(){return this.renderer.getScrollBottomRow()-this.renderer.getScrollTopRow()+1},this.$moveByPage=function(k,V){var H=this.renderer,te=this.renderer.layerConfig,ne=k*Math.floor(te.height/te.lineHeight);V===!0?this.selection.$moveSelection((function(){this.moveCursorBy(ne,0)})):V===!1&&(this.selection.moveCursorBy(ne,0),this.selection.clearSelection());var he=H.scrollTop;H.scrollBy(0,ne*te.lineHeight),V!=null&&H.scrollCursorIntoView(null,.5),H.animateScrolling(he)},this.selectPageDown=function(){this.$moveByPage(1,!0)},this.selectPageUp=function(){this.$moveByPage(-1,!0)},this.gotoPageDown=function(){this.$moveByPage(1,!1)},this.gotoPageUp=function(){this.$moveByPage(-1,!1)},this.scrollPageDown=function(){this.$moveByPage(1)},this.scrollPageUp=function(){this.$moveByPage(-1)},this.scrollToRow=function(k){this.renderer.scrollToRow(k)},this.scrollToLine=function(k,V,H,te){this.renderer.scrollToLine(k,V,H,te)},this.centerSelection=function(){var k=this.getSelectionRange(),V={row:Math.floor(k.start.row+(k.end.row-k.start.row)/2),column:Math.floor(k.start.column+(k.end.column-k.start.column)/2)};this.renderer.alignCursor(V,.5)},this.getCursorPosition=function(){return this.selection.getCursor()},this.getCursorPositionScreen=function(){return this.session.documentToScreenPosition(this.getCursorPosition())},this.getSelectionRange=function(){return this.selection.getRange()},this.selectAll=function(){this.selection.selectAll()},this.clearSelection=function(){this.selection.clearSelection()},this.moveCursorTo=function(k,V){this.selection.moveCursorTo(k,V)},this.moveCursorToPosition=function(k){this.selection.moveCursorToPosition(k)},this.jumpToMatching=function(k,V){var H=this.getCursorPosition(),te=new R(this.session,H.row,H.column),ne=te.getCurrentToken(),he=ne||te.stepForward();if(he){var ie,ce,Se=!1,Ee={},me=H.column-he.start,le={")":"(","(":"(","]":"[","[":"[","{":"{","}":"{"};do{if(he.value.match(/[{}()\[\]]/g)){for(;me<he.value.length&&!Se;me++)if(le[he.value[me]])switch(ce=le[he.value[me]]+"."+he.type.replace("rparen","lparen"),isNaN(Ee[ce])&&(Ee[ce]=0),he.value[me]){case"(":case"[":case"{":Ee[ce]++;break;case")":case"]":case"}":Ee[ce]--,Ee[ce]===-1&&(ie="bracket",Se=!0)}}else he.type.indexOf("tag-name")!==-1&&(isNaN(Ee[he.value])&&(Ee[he.value]=0),ne.value==="<"?Ee[he.value]++:ne.value==="</"&&Ee[he.value]--,Ee[he.value]===-1&&(ie="tag",Se=!0));Se||(ne=he,he=te.stepForward(),me=0)}while(he&&!Se);if(ie){var we,Re;if(ie==="bracket")(we=this.session.getBracketRange(H))||(Re=(we=new L(te.getCurrentTokenRow(),te.getCurrentTokenColumn()+me-1,te.getCurrentTokenRow(),te.getCurrentTokenColumn()+me-1)).start,(V||Re.row===H.row&&Math.abs(Re.column-H.column)<2)&&(we=this.session.getBracketRange(Re)));else if(ie==="tag"){if(!he||he.type.indexOf("tag-name")===-1)return;var Fe=he.value;if((we=new L(te.getCurrentTokenRow(),te.getCurrentTokenColumn()-2,te.getCurrentTokenRow(),te.getCurrentTokenColumn()-2)).compare(H.row,H.column)===0){Se=!1;do he=ne,(ne=te.stepBackward())&&(ne.type.indexOf("tag-close")!==-1&&we.setEnd(te.getCurrentTokenRow(),te.getCurrentTokenColumn()+1),he.value===Fe&&he.type.indexOf("tag-name")!==-1&&(ne.value==="<"?Ee[Fe]++:ne.value==="</"&&Ee[Fe]--,Ee[Fe]===0&&(Se=!0)));while(ne&&!Se)}he&&he.type.indexOf("tag-name")&&(Re=we.start).row==H.row&&Math.abs(Re.column-H.column)<2&&(Re=we.end)}(Re=we&&we.cursor||Re)&&(k?we&&V?this.selection.setRange(we):we&&we.isEqual(this.getSelectionRange())?this.clearSelection():this.selection.selectTo(Re.row,Re.column):this.selection.moveTo(Re.row,Re.column))}}},this.gotoLine=function(k,V,H){this.selection.clearSelection(),this.session.unfold({row:k-1,column:V||0}),this.exitMultiSelectMode&&this.exitMultiSelectMode(),this.moveCursorTo(k-1,V||0),this.isRowFullyVisible(k-1)||this.scrollToLine(k-1,!0,H)},this.navigateTo=function(k,V){this.selection.moveTo(k,V)},this.navigateUp=function(k){if(this.selection.isMultiLine()&&!this.selection.isBackwards()){var V=this.selection.anchor.getPosition();return this.moveCursorToPosition(V)}this.selection.clearSelection(),this.selection.moveCursorBy(-k||-1,0)},this.navigateDown=function(k){if(this.selection.isMultiLine()&&this.selection.isBackwards()){var V=this.selection.anchor.getPosition();return this.moveCursorToPosition(V)}this.selection.clearSelection(),this.selection.moveCursorBy(k||1,0)},this.navigateLeft=function(k){if(this.selection.isEmpty())for(k=k||1;k--;)this.selection.moveCursorLeft();else{var V=this.getSelectionRange().start;this.moveCursorToPosition(V)}this.clearSelection()},this.navigateRight=function(k){if(this.selection.isEmpty())for(k=k||1;k--;)this.selection.moveCursorRight();else{var V=this.getSelectionRange().end;this.moveCursorToPosition(V)}this.clearSelection()},this.navigateLineStart=function(){this.selection.moveCursorLineStart(),this.clearSelection()},this.navigateLineEnd=function(){this.selection.moveCursorLineEnd(),this.clearSelection()},this.navigateFileEnd=function(){this.selection.moveCursorFileEnd(),this.clearSelection()},this.navigateFileStart=function(){this.selection.moveCursorFileStart(),this.clearSelection()},this.navigateWordRight=function(){this.selection.moveCursorWordRight(),this.clearSelection()},this.navigateWordLeft=function(){this.selection.moveCursorWordLeft(),this.clearSelection()},this.replace=function(k,V){V&&this.$search.set(V);var H=this.$search.find(this.session),te=0;return H&&(this.$tryReplace(H,k)&&(te=1),this.selection.setSelectionRange(H),this.renderer.scrollSelectionIntoView(H.start,H.end)),te},this.replaceAll=function(k,V){V&&this.$search.set(V);var H=this.$search.findAll(this.session),te=0;if(!H.length)return te;var ne=this.getSelectionRange();this.selection.moveTo(0,0);for(var he=H.length-1;he>=0;--he)this.$tryReplace(H[he],k)&&te++;return this.selection.setSelectionRange(ne),te},this.$tryReplace=function(k,V){var H=this.session.getTextRange(k);return(V=this.$search.replace(H,V))!==null?(k.end=this.session.replace(k,V),k):null},this.getLastSearchOptions=function(){return this.$search.getOptions()},this.find=function(k,V,H){V||(V={}),typeof k=="string"||k instanceof RegExp?V.needle=k:typeof k=="object"&&d.mixin(V,k);var te=this.selection.getRange();V.needle==null&&((k=this.session.getTextRange(te)||this.$search.$options.needle)||(te=this.session.getWordRange(te.start.row,te.start.column),k=this.session.getTextRange(te)),this.$search.set({needle:k})),this.$search.set(V),V.start||this.$search.set({start:te});var ne=this.$search.find(this.session);return V.preventScroll?ne:ne?(this.revealRange(ne,H),ne):(V.backwards?te.start=te.end:te.end=te.start,void this.selection.setRange(te))},this.findNext=function(k,V){this.find({skipCurrent:!0,backwards:!1},k,V)},this.findPrevious=function(k,V){this.find(k,{skipCurrent:!0,backwards:!0},V)},this.revealRange=function(k,V){this.session.unfold(k),this.selection.setSelectionRange(k);var H=this.renderer.scrollTop;this.renderer.scrollSelectionIntoView(k.start,k.end,.5),V!==!1&&this.renderer.animateScrolling(H)},this.undo=function(){this.session.getUndoManager().undo(this.session),this.renderer.scrollCursorIntoView(null,.5)},this.redo=function(){this.session.getUndoManager().redo(this.session),this.renderer.scrollCursorIntoView(null,.5)},this.destroy=function(){this.renderer.destroy(),this._signal("destroy",this),this.session&&this.session.destroy()},this.setAutoScrollEditorIntoView=function(k){if(k){var V,H=this,te=!1;this.$scrollAnchor||(this.$scrollAnchor=document.createElement("div"));var ne=this.$scrollAnchor;ne.style.cssText="position:absolute",this.container.insertBefore(ne,this.container.firstChild);var he=this.on("changeSelection",(function(){te=!0})),ie=this.renderer.on("beforeRender",(function(){te&&(V=H.renderer.container.getBoundingClientRect())})),ce=this.renderer.on("afterRender",(function(){if(te&&V&&(H.isFocused()||H.searchBox&&H.searchBox.isFocused())){var Se=H.renderer,Ee=Se.$cursorLayer.$pixelPos,me=Se.layerConfig,le=Ee.top-me.offset;(te=Ee.top>=0&&le+V.top<0||!(Ee.top<me.height&&Ee.top+V.top+me.lineHeight>window.innerHeight)&&null)!=null&&(ne.style.top=le+"px",ne.style.left=Ee.left+"px",ne.style.height=me.lineHeight+"px",ne.scrollIntoView(te)),te=V=null}}));this.setAutoScrollEditorIntoView=function(Se){Se||(delete this.setAutoScrollEditorIntoView,this.off("changeSelection",he),this.renderer.off("afterRender",ce),this.renderer.off("beforeRender",ie))}}},this.$resetCursorStyle=function(){var k=this.$cursorStyle||"ace",V=this.renderer.$cursorLayer;V&&(V.setSmoothBlinking(/smooth/.test(k)),V.isBlinking=!this.$readOnly&&k!="wide",b.setCssClass(V.element,"ace_slim-cursors",/slim/.test(k)))},this.prompt=function(k,V,H){var te=this;F.loadModule("./ext/prompt",(function(ne){ne.prompt(te,k,V,H)}))}}).call(G.prototype),F.defineOptions(G.prototype,"editor",{selectionStyle:{set:function(k){this.onSelectionChange(),this._signal("changeSelectionStyle",{data:k})},initialValue:"line"},highlightActiveLine:{set:function(){this.$updateHighlightActiveLine()},initialValue:!0},highlightSelectedWord:{set:function(k){this.$onSelectionChange()},initialValue:!0},readOnly:{set:function(k){this.textInput.setReadOnly(k),this.$resetCursorStyle()},initialValue:!1},copyWithEmptySelection:{set:function(k){this.textInput.setCopyWithEmptySelection(k)},initialValue:!1},cursorStyle:{set:function(k){this.$resetCursorStyle()},values:["ace","slim","smooth","wide"],initialValue:"ace"},mergeUndoDeltas:{values:[!1,!0,"always"],initialValue:!0},behavioursEnabled:{initialValue:!0},wrapBehavioursEnabled:{initialValue:!0},autoScrollEditorIntoView:{set:function(k){this.setAutoScrollEditorIntoView(k)}},keyboardHandler:{set:function(k){this.setKeyboardHandler(k)},get:function(){return this.$keybindingId},handlesSet:!0},value:{set:function(k){this.session.setValue(k)},get:function(){return this.getValue()},handlesSet:!0,hidden:!0},session:{set:function(k){this.setSession(k)},get:function(){return this.session},handlesSet:!0,hidden:!0},showLineNumbers:{set:function(k){this.renderer.$gutterLayer.setShowLineNumbers(k),this.renderer.$loop.schedule(this.renderer.CHANGE_GUTTER),k&&this.$relativeLineNumbers?j.attach(this):j.detach(this)},initialValue:!0},relativeLineNumbers:{set:function(k){this.$showLineNumbers&&k?j.attach(this):j.detach(this)}},placeholder:{set:function(k){this.$updatePlaceholder||(this.$updatePlaceholder=(function(){var V=this.renderer.$composition||this.getValue();if(V&&this.renderer.placeholderNode)this.renderer.off("afterRender",this.$updatePlaceholder),b.removeCssClass(this.container,"ace_hasPlaceholder"),this.renderer.placeholderNode.remove(),this.renderer.placeholderNode=null;else if(!V&&!this.renderer.placeholderNode){this.renderer.on("afterRender",this.$updatePlaceholder),b.addCssClass(this.container,"ace_hasPlaceholder");var H=b.createElement("div");H.className="ace_placeholder",H.textContent=this.$placeholder||"",this.renderer.placeholderNode=H,this.renderer.content.appendChild(this.renderer.placeholderNode)}}).bind(this),this.on("input",this.$updatePlaceholder)),this.$updatePlaceholder()}},hScrollBarAlwaysVisible:"renderer",vScrollBarAlwaysVisible:"renderer",highlightGutterLine:"renderer",animatedScroll:"renderer",showInvisibles:"renderer",showPrintMargin:"renderer",printMarginColumn:"renderer",printMargin:"renderer",fadeFoldWidgets:"renderer",showFoldWidgets:"renderer",displayIndentGuides:"renderer",showGutter:"renderer",fontSize:"renderer",fontFamily:"renderer",maxLines:"renderer",minLines:"renderer",scrollPastEnd:"renderer",fixedWidthGutter:"renderer",theme:"renderer",hasCssTransforms:"renderer",maxPixelHeight:"renderer",useTextareaForIME:"renderer",scrollSpeed:"$mouseHandler",dragDelay:"$mouseHandler",dragEnabled:"$mouseHandler",focusTimeout:"$mouseHandler",tooltipFollowsMouse:"$mouseHandler",firstLineNumber:"session",overwrite:"session",newLineMode:"session",useWorker:"session",useSoftTabs:"session",navigateWithinSoftTabs:"session",tabSize:"session",wrap:"session",indentedSoftWrap:"session",foldStyle:"session",mode:"session"});var j={getText:function(k,V){return(Math.abs(k.selection.lead.row-V)||V+1+(V<9?"·":""))+""},getWidth:function(k,V,H){return Math.max(V.toString().length,(H.lastRow+1).toString().length,2)*H.characterWidth},update:function(k,V){V.renderer.$loop.schedule(V.renderer.CHANGE_GUTTER)},attach:function(k){k.renderer.$gutterLayer.$renderer=this,k.on("changeSelection",this.update),this.update(null,k)},detach:function(k){k.renderer.$gutterLayer.$renderer==this&&(k.renderer.$gutterLayer.$renderer=null),k.off("changeSelection",this.update),this.update(null,k)}};u.Editor=G})),ace.define("ace/undomanager",["require","exports","module","ace/range"],(function(a,u,m){var d=function(){this.$maxRev=0,this.$fromUndo=!1,this.reset()};(function(){this.addSession=function(I){this.$session=I},this.add=function(I,F,R){this.$fromUndo||I!=this.$lastDelta&&(F!==!1&&this.lastDeltas||(this.lastDeltas=[],this.$undoStack.push(this.lastDeltas),I.id=this.$rev=++this.$maxRev),I.action!="remove"&&I.action!="insert"||(this.$lastDelta=I),this.lastDeltas.push(I))},this.addSelection=function(I,F){this.selections.push({value:I,rev:F||this.$rev})},this.startNewGroup=function(){return this.lastDeltas=null,this.$rev},this.markIgnored=function(I,F){F==null&&(F=this.$rev+1);for(var R=this.$undoStack,D=R.length;D--;){var G=R[D][0];if(G.id<=I)break;G.id<F&&(G.ignore=!0)}this.lastDeltas=null},this.getSelection=function(I,F){for(var R=this.selections,D=R.length;D--;){var G=R[D];if(G.rev<I)return F&&(G=R[D+1]),G}},this.getRevision=function(){return this.$rev},this.getDeltas=function(I,F){F==null&&(F=this.$rev+1);for(var R=this.$undoStack,D=null,G=0,j=R.length;j--;){var k=R[j][0];if(k.id<F&&!D&&(D=j+1),k.id<=I){G=j+1;break}}return R.slice(G,D)},this.getChangedRanges=function(I,F){F==null&&(F=this.$rev+1)},this.getChangedLines=function(I,F){F==null&&(F=this.$rev+1)},this.undo=function(I,F){this.lastDeltas=null;var R=this.$undoStack;if((function(j,k){for(var V=k;V--;){var H=j[V];if(H&&!H[0].ignore){for(;V<k-1;){var te=x(j[V],j[V+1]);j[V]=te[0],j[V+1]=te[1],V++}return!0}}})(R,R.length)){I||(I=this.$session),this.$redoStackBaseRev!==this.$rev&&this.$redoStack.length&&(this.$redoStack=[]),this.$fromUndo=!0;var D=R.pop(),G=null;return D&&D.length&&(G=I.undoChanges(D,F),this.$redoStack.push(D),this.$syncRev()),this.$fromUndo=!1,G}},this.redo=function(I,F){if(this.lastDeltas=null,I||(I=this.$session),this.$fromUndo=!0,this.$redoStackBaseRev!=this.$rev){var R=this.getDeltas(this.$redoStackBaseRev,this.$rev+1);(function(j,k){for(var V=0;V<k.length;V++)for(var H=k[V],te=0;te<H.length;te++)C(j,H[te])})(this.$redoStack,R),this.$redoStackBaseRev=this.$rev,this.$redoStack.forEach((function(j){j[0].id=++this.$maxRev}),this)}var D=this.$redoStack.pop(),G=null;return D&&(G=I.redoChanges(D,F),this.$undoStack.push(D),this.$syncRev()),this.$fromUndo=!1,G},this.$syncRev=function(){var I=this.$undoStack,F=I[I.length-1],R=F&&F[0].id||0;this.$redoStackBaseRev=R,this.$rev=R},this.reset=function(){this.lastDeltas=null,this.$lastDelta=null,this.$undoStack=[],this.$redoStack=[],this.$rev=0,this.mark=0,this.$redoStackBaseRev=this.$rev,this.selections=[]},this.canUndo=function(){return this.$undoStack.length>0},this.canRedo=function(){return this.$redoStack.length>0},this.bookmark=function(I){I==null&&(I=this.$rev),this.mark=I},this.isAtBookmark=function(){return this.$rev===this.mark},this.toJSON=function(){},this.fromJSON=function(){},this.hasUndo=this.canUndo,this.hasRedo=this.canRedo,this.isClean=this.isAtBookmark,this.markClean=this.bookmark,this.$prettyPrint=function(I){return I?p(I):p(this.$undoStack)+`
---
`+p(this.$redoStack)}}).call(d.prototype);var b=a("./range").Range,g=b.comparePoints;function _(I){return{row:I.row,column:I.column}}function p(I){if(I=I||this,Array.isArray(I))return I.map(p).join(`
`);var F="";return I.action?(F=I.action=="insert"?"+":"-",F+="["+I.lines+"]"):I.value&&(F=Array.isArray(I.value)?I.value.map(v).join(`
`):v(I.value)),I.start&&(F+=v(I)),(I.id||I.rev)&&(F+="	("+(I.id||I.rev)+")"),F}function v(I){return I.start.row+":"+I.start.column+"=>"+I.end.row+":"+I.end.column}function c(I,F){var R=I.action=="insert",D=F.action=="insert";if(R&&D)if(g(F.start,I.end)>=0)T(F,I,-1);else{if(!(g(F.start,I.start)<=0))return null;T(I,F,1)}else if(R&&!D)if(g(F.start,I.end)>=0)T(F,I,-1);else{if(!(g(F.end,I.start)<=0))return null;T(I,F,-1)}else if(!R&&D)if(g(F.start,I.start)>=0)T(F,I,1);else{if(!(g(F.start,I.start)<=0))return null;T(I,F,1)}else if(!R&&!D)if(g(F.start,I.start)>=0)T(F,I,1);else{if(!(g(F.end,I.start)<=0))return null;T(I,F,-1)}return[F,I]}function x(I,F){for(var R=I.length;R--;)for(var D=0;D<F.length;D++)if(!c(I[R],F[D])){for(;R<I.length;){for(;D--;)c(F[D],I[R]);D=F.length,R++}return[I,F]}return I.selectionBefore=F.selectionBefore=I.selectionAfter=F.selectionAfter=null,[F,I]}function w(I,F){var R=I.action=="insert",D=F.action=="insert";if(R&&D)g(I.start,F.start)<0?T(F,I,1):T(I,F,1);else if(R&&!D)g(I.start,F.end)>=0?T(I,F,-1):(g(I.start,F.start)<=0||T(I,b.fromPoints(F.start,I.start),-1),T(F,I,1));else if(!R&&D)g(F.start,I.end)>=0?T(F,I,-1):(g(F.start,I.start)<=0||T(F,b.fromPoints(I.start,F.start),-1),T(I,F,1));else if(!R&&!D)if(g(F.start,I.end)>=0)T(F,I,-1);else{var G,j;if(!(g(F.end,I.start)<=0))return g(I.start,F.start)<0&&(G=I,I=P(I,F.start)),g(I.end,F.end)>0&&(j=P(I,F.end)),L(F.end,I.start,I.end,-1),j&&!G&&(I.lines=j.lines,I.start=j.start,I.end=j.end,j=I),[F,G,j].filter(Boolean);T(I,F,-1)}return[F,I]}function T(I,F,R){L(I.start,F.start,F.end,R),L(I.end,F.start,F.end,R)}function L(I,F,R,D){I.row==(D==1?F:R).row&&(I.column+=D*(R.column-F.column)),I.row+=D*(R.row-F.row)}function P(I,F){var R=I.lines,D=I.end;I.end=_(F);var G=I.end.row-I.start.row,j=R.splice(G,R.length),k=G?F.column:F.column-I.start.column;return R.push(j[0].substring(0,k)),j[0]=j[0].substr(k),{start:_(F),end:D,lines:j,action:I.action}}function C(I,F){F=(function(k){return{start:_(k.start),end:_(k.end),action:k.action,lines:k.lines.slice()}})(F);for(var R=I.length;R--;){for(var D=I[R],G=0;G<D.length;G++){var j=w(D[G],F);F=j[0],j.length!=2&&(j[2]?(D.splice(G+1,1,j[1],j[2]),G++):j[1]||(D.splice(G,1),G--))}D.length||I.splice(R,1)}return I}b.comparePoints,u.UndoManager=d})),ace.define("ace/layer/lines",["require","exports","module","ace/lib/dom"],(function(a,u,m){var d=a("../lib/dom"),b=function(g,_){this.element=g,this.canvasHeight=_||5e5,this.element.style.height=2*this.canvasHeight+"px",this.cells=[],this.cellCache=[],this.$offsetCoefficient=0};(function(){this.moveContainer=function(g){d.translate(this.element,0,-g.firstRowScreen*g.lineHeight%this.canvasHeight-g.offset*this.$offsetCoefficient)},this.pageChanged=function(g,_){return Math.floor(g.firstRowScreen*g.lineHeight/this.canvasHeight)!==Math.floor(_.firstRowScreen*_.lineHeight/this.canvasHeight)},this.computeLineTop=function(g,_,p){var v=_.firstRowScreen*_.lineHeight,c=Math.floor(v/this.canvasHeight);return p.documentToScreenRow(g,0)*_.lineHeight-c*this.canvasHeight},this.computeLineHeight=function(g,_,p){return _.lineHeight*p.getRowLength(g)},this.getLength=function(){return this.cells.length},this.get=function(g){return this.cells[g]},this.shift=function(){this.$cacheCell(this.cells.shift())},this.pop=function(){this.$cacheCell(this.cells.pop())},this.push=function(g){if(Array.isArray(g)){this.cells.push.apply(this.cells,g);for(var _=d.createFragment(this.element),p=0;p<g.length;p++)_.appendChild(g[p].element);this.element.appendChild(_)}else this.cells.push(g),this.element.appendChild(g.element)},this.unshift=function(g){if(Array.isArray(g)){this.cells.unshift.apply(this.cells,g);for(var _=d.createFragment(this.element),p=0;p<g.length;p++)_.appendChild(g[p].element);this.element.firstChild?this.element.insertBefore(_,this.element.firstChild):this.element.appendChild(_)}else this.cells.unshift(g),this.element.insertAdjacentElement("afterbegin",g.element)},this.last=function(){return this.cells.length?this.cells[this.cells.length-1]:null},this.$cacheCell=function(g){g&&(g.element.remove(),this.cellCache.push(g))},this.createCell=function(g,_,p,v){var c=this.cellCache.pop();if(!c){var x=d.createElement("div");v&&v(x),this.element.appendChild(x),c={element:x,text:"",row:g}}return c.row=g,c}}).call(b.prototype),u.Lines=b})),ace.define("ace/layer/gutter",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/lang","ace/lib/event_emitter","ace/layer/lines"],(function(a,u,m){var d=a("../lib/dom"),b=a("../lib/oop"),g=a("../lib/lang"),_=a("../lib/event_emitter").EventEmitter,p=a("./lines").Lines,v=function(x){this.element=d.createElement("div"),this.element.className="ace_layer ace_gutter-layer",x.appendChild(this.element),this.setShowFoldWidgets(this.$showFoldWidgets),this.gutterWidth=0,this.$annotations=[],this.$updateAnnotations=this.$updateAnnotations.bind(this),this.$lines=new p(this.element),this.$lines.$offsetCoefficient=1};function c(x){var w=document.createTextNode("");x.appendChild(w);var T=d.createElement("span");return x.appendChild(T),x}(function(){b.implement(this,_),this.setSession=function(x){this.session&&this.session.removeEventListener("change",this.$updateAnnotations),this.session=x,x&&x.on("change",this.$updateAnnotations)},this.addGutterDecoration=function(x,w){window.console&&console.warn&&console.warn("deprecated use session.addGutterDecoration"),this.session.addGutterDecoration(x,w)},this.removeGutterDecoration=function(x,w){window.console&&console.warn&&console.warn("deprecated use session.removeGutterDecoration"),this.session.removeGutterDecoration(x,w)},this.setAnnotations=function(x){this.$annotations=[];for(var w=0;w<x.length;w++){var T=x[w],L=T.row,P=this.$annotations[L];P||(P=this.$annotations[L]={text:[]});var C=T.text;C=C?g.escapeHTML(C):T.html||"",P.text.indexOf(C)===-1&&P.text.push(C);var I=T.type;I=="error"?P.className=" ace_error":I=="warning"&&P.className!=" ace_error"?P.className=" ace_warning":I!="info"||P.className||(P.className=" ace_info")}},this.$updateAnnotations=function(x){if(this.$annotations.length){var w=x.start.row,T=x.end.row-w;if(T!==0)if(x.action=="remove")this.$annotations.splice(w,T+1,null);else{var L=new Array(T+1);L.unshift(w,1),this.$annotations.splice.apply(this.$annotations,L)}}},this.update=function(x){this.config=x;var w=this.session,T=x.firstRow,L=Math.min(x.lastRow+x.gutterOffset,w.getLength()-1);this.oldLastRow=L,this.config=x,this.$lines.moveContainer(x),this.$updateCursorRow();for(var P=w.getNextFoldLine(T),C=P?P.start.row:1/0,I=null,F=-1,R=T;;){if(R>C&&(R=P.end.row+1,C=(P=w.getNextFoldLine(R,P))?P.start.row:1/0),R>L){for(;this.$lines.getLength()>F+1;)this.$lines.pop();break}(I=this.$lines.get(++F))?I.row=R:(I=this.$lines.createCell(R,x,this.session,c),this.$lines.push(I)),this.$renderCell(I,x,P,R),R++}this._signal("afterRender"),this.$updateGutterWidth(x)},this.$updateGutterWidth=function(x){var w=this.session,T=w.gutterRenderer||this.$renderer,L=w.$firstLineNumber,P=this.$lines.last()?this.$lines.last().text:"";(this.$fixedWidth||w.$useWrapMode)&&(P=w.getLength()+L-1);var C=T?T.getWidth(w,P,x):P.toString().length*x.characterWidth,I=this.$padding||this.$computePadding();(C+=I.left+I.right)===this.gutterWidth||isNaN(C)||(this.gutterWidth=C,this.element.parentNode.style.width=this.element.style.width=Math.ceil(this.gutterWidth)+"px",this._signal("changeGutterWidth",C))},this.$updateCursorRow=function(){if(this.$highlightGutterLine){var x=this.session.selection.getCursor();this.$cursorRow!==x.row&&(this.$cursorRow=x.row)}},this.updateLineHighlight=function(){if(this.$highlightGutterLine){var x=this.session.selection.cursor.row;if(this.$cursorRow=x,!this.$cursorCell||this.$cursorCell.row!=x){this.$cursorCell&&(this.$cursorCell.element.className=this.$cursorCell.element.className.replace("ace_gutter-active-line ",""));var w=this.$lines.cells;this.$cursorCell=null;for(var T=0;T<w.length;T++){var L=w[T];if(L.row>=this.$cursorRow){if(L.row>this.$cursorRow){var P=this.session.getFoldLine(this.$cursorRow);if(!(T>0&&P&&P.start.row==w[T-1].row))break;L=w[T-1]}L.element.className="ace_gutter-active-line "+L.element.className,this.$cursorCell=L;break}}}}},this.scrollLines=function(x){var w=this.config;if(this.config=x,this.$updateCursorRow(),this.$lines.pageChanged(w,x))return this.update(x);this.$lines.moveContainer(x);var T=Math.min(x.lastRow+x.gutterOffset,this.session.getLength()-1),L=this.oldLastRow;if(this.oldLastRow=T,!w||L<x.firstRow)return this.update(x);if(T<w.firstRow)return this.update(x);if(w.firstRow<x.firstRow)for(var P=this.session.getFoldedRowCount(w.firstRow,x.firstRow-1);P>0;P--)this.$lines.shift();if(L>T)for(P=this.session.getFoldedRowCount(T+1,L);P>0;P--)this.$lines.pop();x.firstRow<w.firstRow&&this.$lines.unshift(this.$renderLines(x,x.firstRow,w.firstRow-1)),T>L&&this.$lines.push(this.$renderLines(x,L+1,T)),this.updateLineHighlight(),this._signal("afterRender"),this.$updateGutterWidth(x)},this.$renderLines=function(x,w,T){for(var L=[],P=w,C=this.session.getNextFoldLine(P),I=C?C.start.row:1/0;P>I&&(P=C.end.row+1,I=(C=this.session.getNextFoldLine(P,C))?C.start.row:1/0),!(P>T);){var F=this.$lines.createCell(P,x,this.session,c);this.$renderCell(F,x,C,P),L.push(F),P++}return L},this.$renderCell=function(x,w,T,L){var P=x.element,C=this.session,I=P.childNodes[0],F=P.childNodes[1],R=C.$firstLineNumber,D=C.$breakpoints,G=C.$decorations,j=C.gutterRenderer||this.$renderer,k=this.$showFoldWidgets&&C.foldWidgets,V=T?T.start.row:Number.MAX_VALUE,H="ace_gutter-cell ";if(this.$highlightGutterLine&&(L==this.$cursorRow||T&&L<this.$cursorRow&&L>=V&&this.$cursorRow<=T.end.row)&&(H+="ace_gutter-active-line ",this.$cursorCell!=x&&(this.$cursorCell&&(this.$cursorCell.element.className=this.$cursorCell.element.className.replace("ace_gutter-active-line ","")),this.$cursorCell=x)),D[L]&&(H+=D[L]),G[L]&&(H+=G[L]),this.$annotations[L]&&(H+=this.$annotations[L].className),P.className!=H&&(P.className=H),k){var te=k[L];te==null&&(te=k[L]=C.getFoldWidget(L))}if(te){H="ace_fold-widget ace_"+te,te=="start"&&L==V&&L<T.end.row?H+=" ace_closed":H+=" ace_open",F.className!=H&&(F.className=H);var ne=w.lineHeight+"px";d.setStyle(F.style,"height",ne),d.setStyle(F.style,"display","inline-block")}else F&&d.setStyle(F.style,"display","none");var he=(j?j.getText(C,L):L+R).toString();return he!==I.data&&(I.data=he),d.setStyle(x.element.style,"height",this.$lines.computeLineHeight(L,w,C)+"px"),d.setStyle(x.element.style,"top",this.$lines.computeLineTop(L,w,C)+"px"),x.text=he,x},this.$fixedWidth=!1,this.$highlightGutterLine=!0,this.$renderer="",this.setHighlightGutterLine=function(x){this.$highlightGutterLine=x},this.$showLineNumbers=!0,this.$renderer="",this.setShowLineNumbers=function(x){this.$renderer=!x&&{getWidth:function(){return 0},getText:function(){return""}}},this.getShowLineNumbers=function(){return this.$showLineNumbers},this.$showFoldWidgets=!0,this.setShowFoldWidgets=function(x){x?d.addCssClass(this.element,"ace_folding-enabled"):d.removeCssClass(this.element,"ace_folding-enabled"),this.$showFoldWidgets=x,this.$padding=null},this.getShowFoldWidgets=function(){return this.$showFoldWidgets},this.$computePadding=function(){if(!this.element.firstChild)return{left:0,right:0};var x=d.computedStyle(this.element.firstChild);return this.$padding={},this.$padding.left=(parseInt(x.borderLeftWidth)||0)+(parseInt(x.paddingLeft)||0)+1,this.$padding.right=(parseInt(x.borderRightWidth)||0)+(parseInt(x.paddingRight)||0),this.$padding},this.getRegion=function(x){var w=this.$padding||this.$computePadding(),T=this.element.getBoundingClientRect();return x.x<w.left+T.left?"markers":this.$showFoldWidgets&&x.x>T.right-w.right?"foldWidgets":void 0}}).call(v.prototype),u.Gutter=v})),ace.define("ace/layer/marker",["require","exports","module","ace/range","ace/lib/dom"],(function(a,u,m){var d=a("../range").Range,b=a("../lib/dom"),g=function(_){this.element=b.createElement("div"),this.element.className="ace_layer ace_marker-layer",_.appendChild(this.element)};(function(){this.$padding=0,this.setPadding=function(_){this.$padding=_},this.setSession=function(_){this.session=_},this.setMarkers=function(_){this.markers=_},this.elt=function(_,p){var v=this.i!=-1&&this.element.childNodes[this.i];v?this.i++:(v=document.createElement("div"),this.element.appendChild(v),this.i=-1),v.style.cssText=p,v.className=_},this.update=function(_){if(_){var p;for(var v in this.config=_,this.i=0,this.markers){var c=this.markers[v];if(c.range){var x=c.range.clipRows(_.firstRow,_.lastRow);if(!x.isEmpty())if(x=x.toScreenRange(this.session),c.renderer){var w=this.$getTop(x.start.row,_),T=this.$padding+x.start.column*_.characterWidth;c.renderer(p,x,T,w,_)}else c.type=="fullLine"?this.drawFullLineMarker(p,x,c.clazz,_):c.type=="screenLine"?this.drawScreenLineMarker(p,x,c.clazz,_):x.isMultiLine()?c.type=="text"?this.drawTextMarker(p,x,c.clazz,_):this.drawMultiLineMarker(p,x,c.clazz,_):this.drawSingleLineMarker(p,x,c.clazz+" ace_start ace_br15",_)}else c.update(p,this,this.session,_)}if(this.i!=-1)for(;this.i<this.element.childElementCount;)this.element.removeChild(this.element.lastChild)}},this.$getTop=function(_,p){return(_-p.firstRowScreen)*p.lineHeight},this.drawTextMarker=function(_,p,v,c,x){for(var w=this.session,T=p.start.row,L=p.end.row,P=T,C=0,I=0,F=w.getScreenLastRowColumn(P),R=new d(P,p.start.column,P,I);P<=L;P++)R.start.row=R.end.row=P,R.start.column=P==T?p.start.column:w.getRowWrapIndent(P),R.end.column=F,C=I,I=F,F=P+1<L?w.getScreenLastRowColumn(P+1):P==L?0:p.end.column,this.drawSingleLineMarker(_,R,v+(P==T?" ace_start":"")+" ace_br"+((P==T||P==T+1&&p.start.column?1:0)|(C<I?2:0)|(I>F?4:0)|(P==L?8:0)),c,P==L?0:1,x)},this.drawMultiLineMarker=function(_,p,v,c,x){var w=this.$padding,T=c.lineHeight,L=this.$getTop(p.start.row,c),P=w+p.start.column*c.characterWidth;if(x=x||"",this.session.$bidiHandler.isBidiRow(p.start.row)?((C=p.clone()).end.row=C.start.row,C.end.column=this.session.getLine(C.start.row).length,this.drawBidiSingleLineMarker(_,C,v+" ace_br1 ace_start",c,null,x)):this.elt(v+" ace_br1 ace_start","height:"+T+"px;right:0;top:"+L+"px;left:"+P+"px;"+(x||"")),this.session.$bidiHandler.isBidiRow(p.end.row)){var C;(C=p.clone()).start.row=C.end.row,C.start.column=0,this.drawBidiSingleLineMarker(_,C,v+" ace_br12",c,null,x)}else{L=this.$getTop(p.end.row,c);var I=p.end.column*c.characterWidth;this.elt(v+" ace_br12","height:"+T+"px;width:"+I+"px;top:"+L+"px;left:"+w+"px;"+(x||""))}if(!((T=(p.end.row-p.start.row-1)*c.lineHeight)<=0)){L=this.$getTop(p.start.row+1,c);var F=(p.start.column?1:0)|(p.end.column?0:8);this.elt(v+(F?" ace_br"+F:""),"height:"+T+"px;right:0;top:"+L+"px;left:"+w+"px;"+(x||""))}},this.drawSingleLineMarker=function(_,p,v,c,x,w){if(this.session.$bidiHandler.isBidiRow(p.start.row))return this.drawBidiSingleLineMarker(_,p,v,c,x,w);var T=c.lineHeight,L=(p.end.column+(x||0)-p.start.column)*c.characterWidth,P=this.$getTop(p.start.row,c),C=this.$padding+p.start.column*c.characterWidth;this.elt(v,"height:"+T+"px;width:"+L+"px;top:"+P+"px;left:"+C+"px;"+(w||""))},this.drawBidiSingleLineMarker=function(_,p,v,c,x,w){var T=c.lineHeight,L=this.$getTop(p.start.row,c),P=this.$padding;this.session.$bidiHandler.getSelections(p.start.column,p.end.column).forEach((function(C){this.elt(v,"height:"+T+"px;width:"+C.width+(x||0)+"px;top:"+L+"px;left:"+(P+C.left)+"px;"+(w||""))}),this)},this.drawFullLineMarker=function(_,p,v,c,x){var w=this.$getTop(p.start.row,c),T=c.lineHeight;p.start.row!=p.end.row&&(T+=this.$getTop(p.end.row,c)-w),this.elt(v,"height:"+T+"px;top:"+w+"px;left:0;right:0;"+(x||""))},this.drawScreenLineMarker=function(_,p,v,c,x){var w=this.$getTop(p.start.row,c),T=c.lineHeight;this.elt(v,"height:"+T+"px;top:"+w+"px;left:0;right:0;"+(x||""))}}).call(g.prototype),u.Marker=g})),ace.define("ace/layer/text",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/layer/lines","ace/lib/event_emitter"],(function(a,u,m){var d=a("../lib/oop"),b=a("../lib/dom"),g=a("../lib/lang"),_=a("./lines").Lines,p=a("../lib/event_emitter").EventEmitter,v=function(c){this.dom=b,this.element=this.dom.createElement("div"),this.element.className="ace_layer ace_text-layer",c.appendChild(this.element),this.$updateEolChar=this.$updateEolChar.bind(this),this.$lines=new _(this.element)};(function(){d.implement(this,p),this.EOF_CHAR="¶",this.EOL_CHAR_LF="¬",this.EOL_CHAR_CRLF="¤",this.EOL_CHAR=this.EOL_CHAR_LF,this.TAB_CHAR="—",this.SPACE_CHAR="·",this.$padding=0,this.MAX_LINE_LENGTH=1e4,this.$updateEolChar=function(){var c=this.session.doc,x=c.getNewLineCharacter()==`
`&&c.getNewLineMode()!="windows"?this.EOL_CHAR_LF:this.EOL_CHAR_CRLF;if(this.EOL_CHAR!=x)return this.EOL_CHAR=x,!0},this.setPadding=function(c){this.$padding=c,this.element.style.margin="0 "+c+"px"},this.getLineHeight=function(){return this.$fontMetrics.$characterSize.height||0},this.getCharacterWidth=function(){return this.$fontMetrics.$characterSize.width||0},this.$setFontMetrics=function(c){this.$fontMetrics=c,this.$fontMetrics.on("changeCharacterSize",(function(x){this._signal("changeCharacterSize",x)}).bind(this)),this.$pollSizeChanges()},this.checkForSizeChanges=function(){this.$fontMetrics.checkForSizeChanges()},this.$pollSizeChanges=function(){return this.$pollSizeChangesTimer=this.$fontMetrics.$pollSizeChanges()},this.setSession=function(c){this.session=c,c&&this.$computeTabString()},this.showInvisibles=!1,this.setShowInvisibles=function(c){return this.showInvisibles!=c&&(this.showInvisibles=c,this.$computeTabString(),!0)},this.displayIndentGuides=!0,this.setDisplayIndentGuides=function(c){return this.displayIndentGuides!=c&&(this.displayIndentGuides=c,this.$computeTabString(),!0)},this.$tabStrings=[],this.onChangeTabSize=this.$computeTabString=function(){var c=this.session.getTabSize();this.tabSize=c;for(var x=this.$tabStrings=[0],w=1;w<c+1;w++)this.showInvisibles?((T=this.dom.createElement("span")).className="ace_invisible ace_invisible_tab",T.textContent=g.stringRepeat(this.TAB_CHAR,w),x.push(T)):x.push(this.dom.createTextNode(g.stringRepeat(" ",w),this.element));if(this.displayIndentGuides){this.$indentGuideRe=/\s\S| \t|\t |\s$/;var T,L="ace_indent-guide",P="",C="";if(this.showInvisibles){L+=" ace_invisible",P=" ace_invisible_space",C=" ace_invisible_tab";var I=g.stringRepeat(this.SPACE_CHAR,this.tabSize),F=g.stringRepeat(this.TAB_CHAR,this.tabSize)}else F=I=g.stringRepeat(" ",this.tabSize);(T=this.dom.createElement("span")).className=L+P,T.textContent=I,this.$tabStrings[" "]=T,(T=this.dom.createElement("span")).className=L+C,T.textContent=F,this.$tabStrings["	"]=T}},this.updateLines=function(c,x,w){if(this.config.lastRow!=c.lastRow||this.config.firstRow!=c.firstRow)return this.update(c);this.config=c;for(var T=Math.max(x,c.firstRow),L=Math.min(w,c.lastRow),P=this.element.childNodes,C=0,I=c.firstRow;I<T;I++){if(F=this.session.getFoldLine(I)){if(F.containsRow(T)){T=F.start.row;break}I=F.end.row}C++}for(var F,R=!1,D=(I=T,(F=this.session.getNextFoldLine(I))?F.start.row:1/0);I>D&&(I=F.end.row+1,D=(F=this.session.getNextFoldLine(I,F))?F.start.row:1/0),!(I>L);){var G=P[C++];if(G){this.dom.removeChildren(G),this.$renderLine(G,I,I==D&&F),R&&(G.style.top=this.$lines.computeLineTop(I,c,this.session)+"px");var j=c.lineHeight*this.session.getRowLength(I)+"px";G.style.height!=j&&(R=!0,G.style.height=j)}I++}if(R)for(;C<this.$lines.cells.length;){var k=this.$lines.cells[C++];k.element.style.top=this.$lines.computeLineTop(k.row,c,this.session)+"px"}},this.scrollLines=function(c){var x=this.config;if(this.config=c,this.$lines.pageChanged(x,c))return this.update(c);this.$lines.moveContainer(c);var w=c.lastRow,T=x?x.lastRow:-1;if(!x||T<c.firstRow)return this.update(c);if(w<x.firstRow)return this.update(c);if(!x||x.lastRow<c.firstRow)return this.update(c);if(c.lastRow<x.firstRow)return this.update(c);if(x.firstRow<c.firstRow)for(var L=this.session.getFoldedRowCount(x.firstRow,c.firstRow-1);L>0;L--)this.$lines.shift();if(x.lastRow>c.lastRow)for(L=this.session.getFoldedRowCount(c.lastRow+1,x.lastRow);L>0;L--)this.$lines.pop();c.firstRow<x.firstRow&&this.$lines.unshift(this.$renderLinesFragment(c,c.firstRow,x.firstRow-1)),c.lastRow>x.lastRow&&this.$lines.push(this.$renderLinesFragment(c,x.lastRow+1,c.lastRow))},this.$renderLinesFragment=function(c,x,w){for(var T=[],L=x,P=this.session.getNextFoldLine(L),C=P?P.start.row:1/0;L>C&&(L=P.end.row+1,C=(P=this.session.getNextFoldLine(L,P))?P.start.row:1/0),!(L>w);){var I=this.$lines.createCell(L,c,this.session),F=I.element;this.dom.removeChildren(F),b.setStyle(F.style,"height",this.$lines.computeLineHeight(L,c,this.session)+"px"),b.setStyle(F.style,"top",this.$lines.computeLineTop(L,c,this.session)+"px"),this.$renderLine(F,L,L==C&&P),this.$useLineGroups()?F.className="ace_line_group":F.className="ace_line",T.push(I),L++}return T},this.update=function(c){this.$lines.moveContainer(c),this.config=c;for(var x=c.firstRow,w=c.lastRow,T=this.$lines;T.getLength();)T.pop();T.push(this.$renderLinesFragment(c,x,w))},this.$textToken={text:!0,rparen:!0,lparen:!0},this.$renderToken=function(c,x,w,T){for(var L,P=this,C=/(\t)|( +)|([\x00-\x1f\x80-\xa0\xad\u1680\u180E\u2000-\u200f\u2028\u2029\u202F\u205F\uFEFF\uFFF9-\uFFFC]+)|(\u3000)|([\u1100-\u115F\u11A3-\u11A7\u11FA-\u11FF\u2329-\u232A\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u2FFB\u3001-\u303E\u3041-\u3096\u3099-\u30FF\u3105-\u312D\u3131-\u318E\u3190-\u31BA\u31C0-\u31E3\u31F0-\u321E\u3220-\u3247\u3250-\u32FE\u3300-\u4DBF\u4E00-\uA48C\uA490-\uA4C6\uA960-\uA97C\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFAFF\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE66\uFE68-\uFE6B\uFF01-\uFF60\uFFE0-\uFFE6]|[\uD800-\uDBFF][\uDC00-\uDFFF])/g,I=this.dom.createFragment(this.element),F=0;L=C.exec(T);){var R=L[1],D=L[2],G=L[3],j=L[4],k=L[5];if(P.showInvisibles||!D){var V=F!=L.index?T.slice(F,L.index):"";if(F=L.index+L[0].length,V&&I.appendChild(this.dom.createTextNode(V,this.element)),R){var H=P.session.getScreenTabSize(x+L.index);I.appendChild(P.$tabStrings[H].cloneNode(!0)),x+=H-1}else D?P.showInvisibles?((ne=this.dom.createElement("span")).className="ace_invisible ace_invisible_space",ne.textContent=g.stringRepeat(P.SPACE_CHAR,D.length),I.appendChild(ne)):I.appendChild(this.com.createTextNode(D,this.element)):G?((ne=this.dom.createElement("span")).className="ace_invisible ace_invisible_space ace_invalid",ne.textContent=g.stringRepeat(P.SPACE_CHAR,G.length),I.appendChild(ne)):j?(x+=1,(ne=this.dom.createElement("span")).style.width=2*P.config.characterWidth+"px",ne.className=P.showInvisibles?"ace_cjk ace_invisible ace_invisible_space":"ace_cjk",ne.textContent=P.showInvisibles?P.SPACE_CHAR:j,I.appendChild(ne)):k&&(x+=1,(ne=this.dom.createElement("span")).style.width=2*P.config.characterWidth+"px",ne.className="ace_cjk",ne.textContent=k,I.appendChild(ne))}}if(I.appendChild(this.dom.createTextNode(F?T.slice(F):T,this.element)),this.$textToken[w.type])c.appendChild(I);else{var te="ace_"+w.type.replace(/\./g," ace_"),ne=this.dom.createElement("span");w.type=="fold"&&(ne.style.width=w.value.length*this.config.characterWidth+"px"),ne.className=te,ne.appendChild(I),c.appendChild(ne)}return x+T.length},this.renderIndentGuide=function(c,x,w){var T=x.search(this.$indentGuideRe);if(T<=0||T>=w)return x;if(x[0]==" "){for(var L=(T-=T%this.tabSize)/this.tabSize,P=0;P<L;P++)c.appendChild(this.$tabStrings[" "].cloneNode(!0));return x.substr(T)}if(x[0]=="	"){for(P=0;P<T;P++)c.appendChild(this.$tabStrings["	"].cloneNode(!0));return x.substr(T)}return x},this.$createLineElement=function(c){var x=this.dom.createElement("div");return x.className="ace_line",x.style.height=this.config.lineHeight+"px",x},this.$renderWrappedLine=function(c,x,w){var T=0,L=0,P=w[0],C=0,I=this.$createLineElement();c.appendChild(I);for(var F=0;F<x.length;F++){var R=x[F],D=R.value;if(F==0&&this.displayIndentGuides){if(T=D.length,!(D=this.renderIndentGuide(I,D,P)))continue;T-=D.length}if(T+D.length<P)C=this.$renderToken(I,C,R,D),T+=D.length;else{for(;T+D.length>=P;)C=this.$renderToken(I,C,R,D.substring(0,P-T)),D=D.substring(P-T),T=P,I=this.$createLineElement(),c.appendChild(I),I.appendChild(this.dom.createTextNode(g.stringRepeat(" ",w.indent),this.element)),C=0,P=w[++L]||Number.MAX_VALUE;D.length!=0&&(T+=D.length,C=this.$renderToken(I,C,R,D))}}w[w.length-1]>this.MAX_LINE_LENGTH&&this.$renderOverflowMessage(I,C,null,"",!0)},this.$renderSimpleLine=function(c,x){var w=0,T=x[0],L=T.value;this.displayIndentGuides&&(L=this.renderIndentGuide(c,L)),L&&(w=this.$renderToken(c,w,T,L));for(var P=1;P<x.length;P++){if(w+(L=(T=x[P]).value).length>this.MAX_LINE_LENGTH)return this.$renderOverflowMessage(c,w,T,L);w=this.$renderToken(c,w,T,L)}},this.$renderOverflowMessage=function(c,x,w,T,L){w&&this.$renderToken(c,x,w,T.slice(0,this.MAX_LINE_LENGTH-x));var P=this.dom.createElement("span");P.className="ace_inline_button ace_keyword ace_toggle_wrap",P.textContent=L?"<hide>":"<click to see more...>",c.appendChild(P)},this.$renderLine=function(c,x,w){if(w||w==0||(w=this.session.getFoldLine(x)),w)var T=this.$getFoldLineTokens(x,w);else T=this.session.getTokens(x);var L=c;if(T.length){var P=this.session.getRowSplitData(x);P&&P.length?(this.$renderWrappedLine(c,T,P),L=c.lastChild):(L=c,this.$useLineGroups()&&(L=this.$createLineElement(),c.appendChild(L)),this.$renderSimpleLine(L,T))}else this.$useLineGroups()&&(L=this.$createLineElement(),c.appendChild(L));if(this.showInvisibles&&L){w&&(x=w.end.row);var C=this.dom.createElement("span");C.className="ace_invisible ace_invisible_eol",C.textContent=x==this.session.getLength()-1?this.EOF_CHAR:this.EOL_CHAR,L.appendChild(C)}},this.$getFoldLineTokens=function(c,x){var w=this.session,T=[],L=w.getTokens(c);return x.walk((function(P,C,I,F,R){P!=null?T.push({type:"fold",value:P}):(R&&(L=w.getTokens(C)),L.length&&(function(D,G,j){for(var k=0,V=0;V+D[k].value.length<G;)if(V+=D[k].value.length,++k==D.length)return;for(V!=G&&((H=D[k].value.substring(G-V)).length>j-G&&(H=H.substring(0,j-G)),T.push({type:D[k].type,value:H}),V=G+H.length,k+=1);V<j&&k<D.length;){var H;(H=D[k].value).length+V>j?T.push({type:D[k].type,value:H.substring(0,j-V)}):T.push(D[k]),V+=H.length,k+=1}})(L,F,I))}),x.end.row,this.session.getLine(x.end.row).length),T},this.$useLineGroups=function(){return this.session.getUseWrapMode()},this.destroy=function(){}}).call(v.prototype),u.Text=v})),ace.define("ace/layer/cursor",["require","exports","module","ace/lib/dom"],(function(a,u,m){var d=a("../lib/dom"),b=function(g){this.element=d.createElement("div"),this.element.className="ace_layer ace_cursor-layer",g.appendChild(this.element),this.isVisible=!1,this.isBlinking=!0,this.blinkInterval=1e3,this.smoothBlinking=!1,this.cursors=[],this.cursor=this.addCursor(),d.addCssClass(this.element,"ace_hidden-cursors"),this.$updateCursors=this.$updateOpacity.bind(this)};(function(){this.$updateOpacity=function(g){for(var _=this.cursors,p=_.length;p--;)d.setStyle(_[p].style,"opacity",g?"":"0")},this.$startCssAnimation=function(){for(var g=this.cursors,_=g.length;_--;)g[_].style.animationDuration=this.blinkInterval+"ms";setTimeout((function(){d.addCssClass(this.element,"ace_animate-blinking")}).bind(this))},this.$stopCssAnimation=function(){d.removeCssClass(this.element,"ace_animate-blinking")},this.$padding=0,this.setPadding=function(g){this.$padding=g},this.setSession=function(g){this.session=g},this.setBlinking=function(g){g!=this.isBlinking&&(this.isBlinking=g,this.restartTimer())},this.setBlinkInterval=function(g){g!=this.blinkInterval&&(this.blinkInterval=g,this.restartTimer())},this.setSmoothBlinking=function(g){g!=this.smoothBlinking&&(this.smoothBlinking=g,d.setCssClass(this.element,"ace_smooth-blinking",g),this.$updateCursors(!0),this.restartTimer())},this.addCursor=function(){var g=d.createElement("div");return g.className="ace_cursor",this.element.appendChild(g),this.cursors.push(g),g},this.removeCursor=function(){if(this.cursors.length>1){var g=this.cursors.pop();return g.parentNode.removeChild(g),g}},this.hideCursor=function(){this.isVisible=!1,d.addCssClass(this.element,"ace_hidden-cursors"),this.restartTimer()},this.showCursor=function(){this.isVisible=!0,d.removeCssClass(this.element,"ace_hidden-cursors"),this.restartTimer()},this.restartTimer=function(){var g=this.$updateCursors;if(clearInterval(this.intervalId),clearTimeout(this.timeoutId),this.$stopCssAnimation(),this.smoothBlinking&&d.removeCssClass(this.element,"ace_smooth-blinking"),g(!0),this.isBlinking&&this.blinkInterval&&this.isVisible)if(this.smoothBlinking&&setTimeout((function(){d.addCssClass(this.element,"ace_smooth-blinking")}).bind(this)),d.HAS_CSS_ANIMATION)this.$startCssAnimation();else{var _=(function(){this.timeoutId=setTimeout((function(){g(!1)}),.6*this.blinkInterval)}).bind(this);this.intervalId=setInterval((function(){g(!0),_()}),this.blinkInterval),_()}else this.$stopCssAnimation()},this.getPixelPosition=function(g,_){if(!this.config||!this.session)return{left:0,top:0};g||(g=this.session.selection.getCursor());var p=this.session.documentToScreenPosition(g);return{left:this.$padding+(this.session.$bidiHandler.isBidiRow(p.row,g.row)?this.session.$bidiHandler.getPosLeft(p.column):p.column*this.config.characterWidth),top:(p.row-(_?this.config.firstRowScreen:0))*this.config.lineHeight}},this.isCursorInView=function(g,_){return g.top>=0&&g.top<_.maxHeight},this.update=function(g){this.config=g;var _=this.session.$selectionMarkers,p=0,v=0;_!==void 0&&_.length!==0||(_=[{cursor:null}]),p=0;for(var c=_.length;p<c;p++){var x=this.getPixelPosition(_[p].cursor,!0);if(!((x.top>g.height+g.offset||x.top<0)&&p>1)){var w=this.cursors[v++]||this.addCursor(),T=w.style;this.drawCursor?this.drawCursor(w,x,g,_[p],this.session):this.isCursorInView(x,g)?(d.setStyle(T,"display","block"),d.translate(w,x.left,x.top),d.setStyle(T,"width",Math.round(g.characterWidth)+"px"),d.setStyle(T,"height",g.lineHeight+"px")):d.setStyle(T,"display","none")}}for(;this.cursors.length>v;)this.removeCursor();var L=this.session.getOverwrite();this.$setOverwrite(L),this.$pixelPos=x,this.restartTimer()},this.drawCursor=null,this.$setOverwrite=function(g){g!=this.overwrite&&(this.overwrite=g,g?d.addCssClass(this.element,"ace_overwrite-cursors"):d.removeCssClass(this.element,"ace_overwrite-cursors"))},this.destroy=function(){clearInterval(this.intervalId),clearTimeout(this.timeoutId)}}).call(b.prototype),u.Cursor=b})),ace.define("ace/scrollbar",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/event","ace/lib/event_emitter"],(function(a,u,m){var d=a("./lib/oop"),b=a("./lib/dom"),g=a("./lib/event"),_=a("./lib/event_emitter").EventEmitter,p=32768,v=function(w){this.element=b.createElement("div"),this.element.className="ace_scrollbar ace_scrollbar"+this.classSuffix,this.inner=b.createElement("div"),this.inner.className="ace_scrollbar-inner",this.inner.textContent=" ",this.element.appendChild(this.inner),w.appendChild(this.element),this.setVisible(!1),this.skipEvent=!1,g.addListener(this.element,"scroll",this.onScroll.bind(this)),g.addListener(this.element,"mousedown",g.preventDefault)};(function(){d.implement(this,_),this.setVisible=function(w){this.element.style.display=w?"":"none",this.isVisible=w,this.coeff=1}}).call(v.prototype);var c=function(w,T){v.call(this,w),this.scrollTop=0,this.scrollHeight=0,T.$scrollbarWidth=this.width=b.scrollbarWidth(w.ownerDocument),this.inner.style.width=this.element.style.width=(this.width||15)+5+"px",this.$minWidth=0};d.inherits(c,v),(function(){this.classSuffix="-v",this.onScroll=function(){if(!this.skipEvent){if(this.scrollTop=this.element.scrollTop,this.coeff!=1){var w=this.element.clientHeight/this.scrollHeight;this.scrollTop=this.scrollTop*(1-w)/(this.coeff-w)}this._emit("scroll",{data:this.scrollTop})}this.skipEvent=!1},this.getWidth=function(){return Math.max(this.isVisible?this.width:0,this.$minWidth||0)},this.setHeight=function(w){this.element.style.height=w+"px"},this.setInnerHeight=this.setScrollHeight=function(w){this.scrollHeight=w,w>p?(this.coeff=p/w,w=p):this.coeff!=1&&(this.coeff=1),this.inner.style.height=w+"px"},this.setScrollTop=function(w){this.scrollTop!=w&&(this.skipEvent=!0,this.scrollTop=w,this.element.scrollTop=w*this.coeff)}}).call(c.prototype);var x=function(w,T){v.call(this,w),this.scrollLeft=0,this.height=T.$scrollbarWidth,this.inner.style.height=this.element.style.height=(this.height||15)+5+"px"};d.inherits(x,v),(function(){this.classSuffix="-h",this.onScroll=function(){this.skipEvent||(this.scrollLeft=this.element.scrollLeft,this._emit("scroll",{data:this.scrollLeft})),this.skipEvent=!1},this.getHeight=function(){return this.isVisible?this.height:0},this.setWidth=function(w){this.element.style.width=w+"px"},this.setInnerWidth=function(w){this.inner.style.width=w+"px"},this.setScrollWidth=function(w){this.inner.style.width=w+"px"},this.setScrollLeft=function(w){this.scrollLeft!=w&&(this.skipEvent=!0,this.scrollLeft=this.element.scrollLeft=w)}}).call(x.prototype),u.ScrollBar=c,u.ScrollBarV=c,u.ScrollBarH=x,u.VScrollBar=c,u.HScrollBar=x})),ace.define("ace/renderloop",["require","exports","module","ace/lib/event"],(function(a,u,m){var d=a("./lib/event"),b=function(g,_){this.onRender=g,this.pending=!1,this.changes=0,this.$recursionLimit=2,this.window=_||window;var p=this;this._flush=function(v){p.pending=!1;var c=p.changes;if(c&&(d.blockIdle(100),p.changes=0,p.onRender(c)),p.changes){if(p.$recursionLimit--<0)return;p.schedule()}else p.$recursionLimit=2}};(function(){this.schedule=function(g){this.changes=this.changes|g,this.changes&&!this.pending&&(d.nextFrame(this._flush),this.pending=!0)},this.clear=function(g){var _=this.changes;return this.changes=0,_}}).call(b.prototype),u.RenderLoop=b})),ace.define("ace/layer/font_metrics",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/lib/event","ace/lib/useragent","ace/lib/event_emitter"],(function(a,u,m){var d=a("../lib/oop"),b=a("../lib/dom"),g=a("../lib/lang"),_=a("../lib/event"),p=a("../lib/useragent"),v=a("../lib/event_emitter").EventEmitter,c=256,x=typeof ResizeObserver=="function",w=200,T=u.FontMetrics=function(L){this.el=b.createElement("div"),this.$setMeasureNodeStyles(this.el.style,!0),this.$main=b.createElement("div"),this.$setMeasureNodeStyles(this.$main.style),this.$measureNode=b.createElement("div"),this.$setMeasureNodeStyles(this.$measureNode.style),this.el.appendChild(this.$main),this.el.appendChild(this.$measureNode),L.appendChild(this.el),this.$measureNode.innerHTML=g.stringRepeat("X",c),this.$characterSize={width:0,height:0},x?this.$addObserver():this.checkForSizeChanges()};(function(){d.implement(this,v),this.$characterSize={width:0,height:0},this.$setMeasureNodeStyles=function(L,P){L.width=L.height="auto",L.left=L.top="0px",L.visibility="hidden",L.position="absolute",L.whiteSpace="pre",p.isIE<8?L["font-family"]="inherit":L.font="inherit",L.overflow=P?"hidden":"visible"},this.checkForSizeChanges=function(L){if(L===void 0&&(L=this.$measureSizes()),L&&(this.$characterSize.width!==L.width||this.$characterSize.height!==L.height)){this.$measureNode.style.fontWeight="bold";var P=this.$measureSizes();this.$measureNode.style.fontWeight="",this.$characterSize=L,this.charSizes=Object.create(null),this.allowBoldFonts=P&&P.width===L.width&&P.height===L.height,this._emit("changeCharacterSize",{data:L})}},this.$addObserver=function(){var L=this;this.$observer=new window.ResizeObserver((function(P){var C=P[0].contentRect;L.checkForSizeChanges({height:C.height,width:C.width/c})})),this.$observer.observe(this.$measureNode)},this.$pollSizeChanges=function(){if(this.$pollSizeChangesTimer||this.$observer)return this.$pollSizeChangesTimer;var L=this;return this.$pollSizeChangesTimer=_.onIdle((function P(){L.checkForSizeChanges(),_.onIdle(P,500)}),500)},this.setPolling=function(L){L?this.$pollSizeChanges():this.$pollSizeChangesTimer&&(clearInterval(this.$pollSizeChangesTimer),this.$pollSizeChangesTimer=0)},this.$measureSizes=function(L){var P={height:(L||this.$measureNode).clientHeight,width:(L||this.$measureNode).clientWidth/c};return P.width===0||P.height===0?null:P},this.$measureCharWidth=function(L){return this.$main.innerHTML=g.stringRepeat(L,c),this.$main.getBoundingClientRect().width/c},this.getCharacterWidth=function(L){var P=this.charSizes[L];return P===void 0&&(P=this.charSizes[L]=this.$measureCharWidth(L)/this.$characterSize.width),P},this.destroy=function(){clearInterval(this.$pollSizeChangesTimer),this.$observer&&this.$observer.disconnect(),this.el&&this.el.parentNode&&this.el.parentNode.removeChild(this.el)},this.$getZoom=function L(P){return P?(window.getComputedStyle(P).zoom||1)*L(P.parentElement):1},this.$initTransformMeasureNodes=function(){var L=function(P,C){return["div",{style:"position: absolute;top:"+P+"px;left:"+C+"px;"}]};this.els=b.buildDom([L(0,0),L(w,0),L(0,w),L(w,w)],this.el)},this.transformCoordinates=function(L,P){function C(me,le,we){var Re=me[1]*le[0]-me[0]*le[1];return[(-le[1]*we[0]+le[0]*we[1])/Re,(+me[1]*we[0]-me[0]*we[1])/Re]}function I(me,le){return[me[0]-le[0],me[1]-le[1]]}function F(me,le){return[me[0]+le[0],me[1]+le[1]]}function R(me,le){return[me*le[0],me*le[1]]}function D(me){var le=me.getBoundingClientRect();return[le.left,le.top]}L&&(L=R(1/this.$getZoom(this.el),L)),this.els||this.$initTransformMeasureNodes();var G=D(this.els[0]),j=D(this.els[1]),k=D(this.els[2]),V=D(this.els[3]),H=C(I(V,j),I(V,k),I(F(j,k),F(V,G))),te=R(1+H[0],I(j,G)),ne=R(1+H[1],I(k,G));if(P){var he=P,ie=H[0]*he[0]/w+H[1]*he[1]/w+1,ce=F(R(he[0],te),R(he[1],ne));return F(R(1/ie/w,ce),G)}var Se=I(L,G),Ee=C(I(te,R(H[0],Se)),I(ne,R(H[1],Se)),Se);return R(w,Ee)}}).call(T.prototype)})),ace.define("ace/virtual_renderer",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/config","ace/layer/gutter","ace/layer/marker","ace/layer/text","ace/layer/cursor","ace/scrollbar","ace/scrollbar","ace/renderloop","ace/layer/font_metrics","ace/lib/event_emitter","ace/lib/useragent"],(function(a,u,m){var d=a("./lib/oop"),b=a("./lib/dom"),g=a("./config"),_=a("./layer/gutter").Gutter,p=a("./layer/marker").Marker,v=a("./layer/text").Text,c=a("./layer/cursor").Cursor,x=a("./scrollbar").HScrollBar,w=a("./scrollbar").VScrollBar,T=a("./renderloop").RenderLoop,L=a("./layer/font_metrics").FontMetrics,P=a("./lib/event_emitter").EventEmitter,C=`.ace_br1 {border-top-left-radius    : 3px;}.ace_br2 {border-top-right-radius   : 3px;}.ace_br3 {border-top-left-radius    : 3px; border-top-right-radius:    3px;}.ace_br4 {border-bottom-right-radius: 3px;}.ace_br5 {border-top-left-radius    : 3px; border-bottom-right-radius: 3px;}.ace_br6 {border-top-right-radius   : 3px; border-bottom-right-radius: 3px;}.ace_br7 {border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px;}.ace_br8 {border-bottom-left-radius : 3px;}.ace_br9 {border-top-left-radius    : 3px; border-bottom-left-radius:  3px;}.ace_br10{border-top-right-radius   : 3px; border-bottom-left-radius:  3px;}.ace_br11{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-left-radius:  3px;}.ace_br12{border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}.ace_br13{border-top-left-radius    : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}.ace_br14{border-top-right-radius   : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}.ace_br15{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px;}.ace_editor {position: relative;overflow: hidden;font: 12px/normal 'Monaco', 'Menlo', 'Ubuntu Mono', 'Consolas', 'source-code-pro', monospace;direction: ltr;text-align: left;-webkit-tap-highlight-color: rgba(0, 0, 0, 0);}.ace_scroller {position: absolute;overflow: hidden;top: 0;bottom: 0;background-color: inherit;-ms-user-select: none;-moz-user-select: none;-webkit-user-select: none;user-select: none;cursor: text;}.ace_content {position: absolute;box-sizing: border-box;min-width: 100%;contain: style size layout;}.ace_dragging .ace_scroller:before{position: absolute;top: 0;left: 0;right: 0;bottom: 0;content: '';background: rgba(250, 250, 250, 0.01);z-index: 1000;}.ace_dragging.ace_dark .ace_scroller:before{background: rgba(0, 0, 0, 0.01);}.ace_selecting, .ace_selecting * {cursor: text !important;}.ace_gutter {position: absolute;overflow : hidden;width: auto;top: 0;bottom: 0;left: 0;cursor: default;z-index: 4;-ms-user-select: none;-moz-user-select: none;-webkit-user-select: none;user-select: none;contain: style size layout;}.ace_gutter-active-line {position: absolute;left: 0;right: 0;}.ace_scroller.ace_scroll-left {box-shadow: 17px 0 16px -16px rgba(0, 0, 0, 0.4) inset;}.ace_gutter-cell {position: absolute;top: 0;left: 0;right: 0;padding-left: 19px;padding-right: 6px;background-repeat: no-repeat;}.ace_gutter-cell.ace_error {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAABOFBMVEX/////////QRswFAb/Ui4wFAYwFAYwFAaWGAfDRymzOSH/PxswFAb/SiUwFAYwFAbUPRvjQiDllog5HhHdRybsTi3/Tyv9Tir+Syj/UC3////XurebMBIwFAb/RSHbPx/gUzfdwL3kzMivKBAwFAbbvbnhPx66NhowFAYwFAaZJg8wFAaxKBDZurf/RB6mMxb/SCMwFAYwFAbxQB3+RB4wFAb/Qhy4Oh+4QifbNRcwFAYwFAYwFAb/QRzdNhgwFAYwFAbav7v/Uy7oaE68MBK5LxLewr/r2NXewLswFAaxJw4wFAbkPRy2PyYwFAaxKhLm1tMwFAazPiQwFAaUGAb/QBrfOx3bvrv/VC/maE4wFAbRPBq6MRO8Qynew8Dp2tjfwb0wFAbx6eju5+by6uns4uH9/f36+vr/GkHjAAAAYnRSTlMAGt+64rnWu/bo8eAA4InH3+DwoN7j4eLi4xP99Nfg4+b+/u9B/eDs1MD1mO7+4PHg2MXa347g7vDizMLN4eG+Pv7i5evs/v79yu7S3/DV7/498Yv24eH+4ufQ3Ozu/v7+y13sRqwAAADLSURBVHjaZc/XDsFgGIBhtDrshlitmk2IrbHFqL2pvXf/+78DPokj7+Fz9qpU/9UXJIlhmPaTaQ6QPaz0mm+5gwkgovcV6GZzd5JtCQwgsxoHOvJO15kleRLAnMgHFIESUEPmawB9ngmelTtipwwfASilxOLyiV5UVUyVAfbG0cCPHig+GBkzAENHS0AstVF6bacZIOzgLmxsHbt2OecNgJC83JERmePUYq8ARGkJx6XtFsdddBQgZE2nPR6CICZhawjA4Fb/chv+399kfR+MMMDGOQAAAABJRU5ErkJggg==");background-repeat: no-repeat;background-position: 2px center;}.ace_gutter-cell.ace_warning {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAAmVBMVEX///8AAAD///8AAAAAAABPSzb/5sAAAAB/blH/73z/ulkAAAAAAAD85pkAAAAAAAACAgP/vGz/rkDerGbGrV7/pkQICAf////e0IsAAAD/oED/qTvhrnUAAAD/yHD/njcAAADuv2r/nz//oTj/p064oGf/zHAAAAA9Nir/tFIAAAD/tlTiuWf/tkIAAACynXEAAAAAAAAtIRW7zBpBAAAAM3RSTlMAABR1m7RXO8Ln31Z36zT+neXe5OzooRDfn+TZ4p3h2hTf4t3k3ucyrN1K5+Xaks52Sfs9CXgrAAAAjklEQVR42o3PbQ+CIBQFYEwboPhSYgoYunIqqLn6/z8uYdH8Vmdnu9vz4WwXgN/xTPRD2+sgOcZjsge/whXZgUaYYvT8QnuJaUrjrHUQreGczuEafQCO/SJTufTbroWsPgsllVhq3wJEk2jUSzX3CUEDJC84707djRc5MTAQxoLgupWRwW6UB5fS++NV8AbOZgnsC7BpEAAAAABJRU5ErkJggg==");background-position: 2px center;}.ace_gutter-cell.ace_info {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAAAAAA6mKC9AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAAJ0Uk5TAAB2k804AAAAPklEQVQY02NgIB68QuO3tiLznjAwpKTgNyDbMegwisCHZUETUZV0ZqOquBpXj2rtnpSJT1AEnnRmL2OgGgAAIKkRQap2htgAAAAASUVORK5CYII=");background-position: 2px center;}.ace_dark .ace_gutter-cell.ace_info {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQBAMAAADt3eJSAAAAJFBMVEUAAAChoaGAgIAqKiq+vr6tra1ZWVmUlJSbm5s8PDxubm56enrdgzg3AAAAAXRSTlMAQObYZgAAAClJREFUeNpjYMAPdsMYHegyJZFQBlsUlMFVCWUYKkAZMxZAGdxlDMQBAG+TBP4B6RyJAAAAAElFTkSuQmCC");}.ace_scrollbar {contain: strict;position: absolute;right: 0;bottom: 0;z-index: 6;}.ace_scrollbar-inner {position: absolute;cursor: text;left: 0;top: 0;}.ace_scrollbar-v{overflow-x: hidden;overflow-y: scroll;top: 0;}.ace_scrollbar-h {overflow-x: scroll;overflow-y: hidden;left: 0;}.ace_print-margin {position: absolute;height: 100%;}.ace_text-input {position: absolute;z-index: 0;width: 0.5em;height: 1em;opacity: 0;background: transparent;-moz-appearance: none;appearance: none;border: none;resize: none;outline: none;overflow: hidden;font: inherit;padding: 0 1px;margin: 0 -1px;contain: strict;-ms-user-select: text;-moz-user-select: text;-webkit-user-select: text;user-select: text;white-space: pre!important;}.ace_text-input.ace_composition {background: transparent;color: inherit;z-index: 1000;opacity: 1;}.ace_composition_placeholder { color: transparent }.ace_composition_marker { border-bottom: 1px solid;position: absolute;border-radius: 0;margin-top: 1px;}[ace_nocontext=true] {transform: none!important;filter: none!important;perspective: none!important;clip-path: none!important;mask : none!important;contain: none!important;perspective: none!important;mix-blend-mode: initial!important;z-index: auto;}.ace_layer {z-index: 1;position: absolute;overflow: hidden;word-wrap: normal;white-space: pre;height: 100%;width: 100%;box-sizing: border-box;pointer-events: none;}.ace_gutter-layer {position: relative;width: auto;text-align: right;pointer-events: auto;height: 1000000px;contain: style size layout;}.ace_text-layer {font: inherit !important;position: absolute;height: 1000000px;width: 1000000px;contain: style size layout;}.ace_text-layer > .ace_line, .ace_text-layer > .ace_line_group {contain: style size layout;position: absolute;top: 0;left: 0;right: 0;}.ace_hidpi .ace_text-layer,.ace_hidpi .ace_gutter-layer,.ace_hidpi .ace_content,.ace_hidpi .ace_gutter {contain: strict;will-change: transform;}.ace_hidpi .ace_text-layer > .ace_line, .ace_hidpi .ace_text-layer > .ace_line_group {contain: strict;}.ace_cjk {display: inline-block;text-align: center;}.ace_cursor-layer {z-index: 4;}.ace_cursor {z-index: 4;position: absolute;box-sizing: border-box;border-left: 2px solid;transform: translatez(0);}.ace_multiselect .ace_cursor {border-left-width: 1px;}.ace_slim-cursors .ace_cursor {border-left-width: 1px;}.ace_overwrite-cursors .ace_cursor {border-left-width: 0;border-bottom: 1px solid;}.ace_hidden-cursors .ace_cursor {opacity: 0.2;}.ace_hasPlaceholder .ace_hidden-cursors .ace_cursor {opacity: 0;}.ace_smooth-blinking .ace_cursor {transition: opacity 0.18s;}.ace_animate-blinking .ace_cursor {animation-duration: 1000ms;animation-timing-function: step-end;animation-name: blink-ace-animate;animation-iteration-count: infinite;}.ace_animate-blinking.ace_smooth-blinking .ace_cursor {animation-duration: 1000ms;animation-timing-function: ease-in-out;animation-name: blink-ace-animate-smooth;}@keyframes blink-ace-animate {from, to { opacity: 1; }60% { opacity: 0; }}@keyframes blink-ace-animate-smooth {from, to { opacity: 1; }45% { opacity: 1; }60% { opacity: 0; }85% { opacity: 0; }}.ace_marker-layer .ace_step, .ace_marker-layer .ace_stack {position: absolute;z-index: 3;}.ace_marker-layer .ace_selection {position: absolute;z-index: 5;}.ace_marker-layer .ace_bracket {position: absolute;z-index: 6;}.ace_marker-layer .ace_active-line {position: absolute;z-index: 2;}.ace_marker-layer .ace_selected-word {position: absolute;z-index: 4;box-sizing: border-box;}.ace_line .ace_fold {box-sizing: border-box;display: inline-block;height: 11px;margin-top: -2px;vertical-align: middle;background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII="),url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACJJREFUeNpi+P//fxgTAwPDBxDxD078RSX+YeEyDFMCIMAAI3INmXiwf2YAAAAASUVORK5CYII=");background-repeat: no-repeat, repeat-x;background-position: center center, top left;color: transparent;border: 1px solid black;border-radius: 2px;cursor: pointer;pointer-events: auto;}.ace_dark .ace_fold {}.ace_fold:hover{background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII="),url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACBJREFUeNpi+P//fz4TAwPDZxDxD5X4i5fLMEwJgAADAEPVDbjNw87ZAAAAAElFTkSuQmCC");}.ace_tooltip {background-color: #FFF;background-image: linear-gradient(to bottom, transparent, rgba(0, 0, 0, 0.1));border: 1px solid gray;border-radius: 1px;box-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);color: black;max-width: 100%;padding: 3px 4px;position: fixed;z-index: 999999;box-sizing: border-box;cursor: default;white-space: pre;word-wrap: break-word;line-height: normal;font-style: normal;font-weight: normal;letter-spacing: normal;pointer-events: none;}.ace_folding-enabled > .ace_gutter-cell {padding-right: 13px;}.ace_fold-widget {box-sizing: border-box;margin: 0 -12px 0 1px;display: none;width: 11px;vertical-align: top;background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42mWKsQ0AMAzC8ixLlrzQjzmBiEjp0A6WwBCSPgKAXoLkqSot7nN3yMwR7pZ32NzpKkVoDBUxKAAAAABJRU5ErkJggg==");background-repeat: no-repeat;background-position: center;border-radius: 3px;border: 1px solid transparent;cursor: pointer;}.ace_folding-enabled .ace_fold-widget {display: inline-block;   }.ace_fold-widget.ace_end {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42m3HwQkAMAhD0YzsRchFKI7sAikeWkrxwScEB0nh5e7KTPWimZki4tYfVbX+MNl4pyZXejUO1QAAAABJRU5ErkJggg==");}.ace_fold-widget.ace_closed {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAGCAYAAAAG5SQMAAAAOUlEQVR42jXKwQkAMAgDwKwqKD4EwQ26sSOkVWjgIIHAzPiCgaqiqnJHZnKICBERHN194O5b9vbLuAVRL+l0YWnZAAAAAElFTkSuQmCCXA==");}.ace_fold-widget:hover {border: 1px solid rgba(0, 0, 0, 0.3);background-color: rgba(255, 255, 255, 0.2);box-shadow: 0 1px 1px rgba(255, 255, 255, 0.7);}.ace_fold-widget:active {border: 1px solid rgba(0, 0, 0, 0.4);background-color: rgba(0, 0, 0, 0.05);box-shadow: 0 1px 1px rgba(255, 255, 255, 0.8);}.ace_dark .ace_fold-widget {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAHklEQVQIW2P4//8/AzoGEQ7oGCaLLAhWiSwB146BAQCSTPYocqT0AAAAAElFTkSuQmCC");}.ace_dark .ace_fold-widget.ace_end {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAH0lEQVQIW2P4//8/AxQ7wNjIAjDMgC4AxjCVKBirIAAF0kz2rlhxpAAAAABJRU5ErkJggg==");}.ace_dark .ace_fold-widget.ace_closed {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAFCAYAAACAcVaiAAAAHElEQVQIW2P4//+/AxAzgDADlOOAznHAKgPWAwARji8UIDTfQQAAAABJRU5ErkJggg==");}.ace_dark .ace_fold-widget:hover {box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);background-color: rgba(255, 255, 255, 0.1);}.ace_dark .ace_fold-widget:active {box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);}.ace_inline_button {border: 1px solid lightgray;display: inline-block;margin: -1px 8px;padding: 0 5px;pointer-events: auto;cursor: pointer;}.ace_inline_button:hover {border-color: gray;background: rgba(200,200,200,0.2);display: inline-block;pointer-events: auto;}.ace_fold-widget.ace_invalid {background-color: #FFB4B4;border-color: #DE5555;}.ace_fade-fold-widgets .ace_fold-widget {transition: opacity 0.4s ease 0.05s;opacity: 0;}.ace_fade-fold-widgets:hover .ace_fold-widget {transition: opacity 0.05s ease 0.05s;opacity:1;}.ace_underline {text-decoration: underline;}.ace_bold {font-weight: bold;}.ace_nobold .ace_bold {font-weight: normal;}.ace_italic {font-style: italic;}.ace_error-marker {background-color: rgba(255, 0, 0,0.2);position: absolute;z-index: 9;}.ace_highlight-marker {background-color: rgba(255, 255, 0,0.2);position: absolute;z-index: 8;}.ace_mobile-menu {position: absolute;line-height: 1.5;border-radius: 4px;-ms-user-select: none;-moz-user-select: none;-webkit-user-select: none;user-select: none;background: white;box-shadow: 1px 3px 2px grey;border: 1px solid #dcdcdc;color: black;}.ace_dark > .ace_mobile-menu {background: #333;color: #ccc;box-shadow: 1px 3px 2px grey;border: 1px solid #444;}.ace_mobile-button {padding: 2px;cursor: pointer;overflow: hidden;}.ace_mobile-button:hover {background-color: #eee;opacity:1;}.ace_mobile-button:active {background-color: #ddd;}.ace_placeholder {font-family: arial;transform: scale(0.9);opacity: 0.7;transform-origin: left;text-indent: 10px;}`,I=a("./lib/useragent"),F=I.isIE;b.importCssString(C,"ace_editor.css");var R=function(D,G){var j=this;this.container=D||b.createElement("div"),b.addCssClass(this.container,"ace_editor"),b.HI_DPI&&b.addCssClass(this.container,"ace_hidpi"),this.setTheme(G),this.$gutter=b.createElement("div"),this.$gutter.className="ace_gutter",this.container.appendChild(this.$gutter),this.$gutter.setAttribute("aria-hidden",!0),this.scroller=b.createElement("div"),this.scroller.className="ace_scroller",this.container.appendChild(this.scroller),this.content=b.createElement("div"),this.content.className="ace_content",this.scroller.appendChild(this.content),this.$gutterLayer=new _(this.$gutter),this.$gutterLayer.on("changeGutterWidth",this.onGutterResize.bind(this)),this.$markerBack=new p(this.content);var k=this.$textLayer=new v(this.content);this.canvas=k.element,this.$markerFront=new p(this.content),this.$cursorLayer=new c(this.content),this.$horizScroll=!1,this.$vScroll=!1,this.scrollBar=this.scrollBarV=new w(this.container,this),this.scrollBarH=new x(this.container,this),this.scrollBarV.addEventListener("scroll",(function(V){j.$scrollAnimation||j.session.setScrollTop(V.data-j.scrollMargin.top)})),this.scrollBarH.addEventListener("scroll",(function(V){j.$scrollAnimation||j.session.setScrollLeft(V.data-j.scrollMargin.left)})),this.scrollTop=0,this.scrollLeft=0,this.cursorPos={row:0,column:0},this.$fontMetrics=new L(this.container),this.$textLayer.$setFontMetrics(this.$fontMetrics),this.$textLayer.addEventListener("changeCharacterSize",(function(V){j.updateCharacterSize(),j.onResize(!0,j.gutterWidth,j.$size.width,j.$size.height),j._signal("changeCharacterSize",V)})),this.$size={width:0,height:0,scrollerHeight:0,scrollerWidth:0,$dirty:!0},this.layerConfig={width:1,padding:0,firstRow:0,firstRowScreen:0,lastRow:0,lineHeight:0,characterWidth:0,minHeight:1,maxHeight:1,offset:0,height:1,gutterOffset:1},this.scrollMargin={left:0,right:0,top:0,bottom:0,v:0,h:0},this.margin={left:0,right:0,top:0,bottom:0,v:0,h:0},this.$keepTextAreaAtCursor=!I.isIOS,this.$loop=new T(this.$renderChanges.bind(this),this.container.ownerDocument.defaultView),this.$loop.schedule(this.CHANGE_FULL),this.updateCharacterSize(),this.setPadding(4),g.resetOptions(this),g._signal("renderer",this)};(function(){this.CHANGE_CURSOR=1,this.CHANGE_MARKER=2,this.CHANGE_GUTTER=4,this.CHANGE_SCROLL=8,this.CHANGE_LINES=16,this.CHANGE_TEXT=32,this.CHANGE_SIZE=64,this.CHANGE_MARKER_BACK=128,this.CHANGE_MARKER_FRONT=256,this.CHANGE_FULL=512,this.CHANGE_H_SCROLL=1024,d.implement(this,P),this.updateCharacterSize=function(){this.$textLayer.allowBoldFonts!=this.$allowBoldFonts&&(this.$allowBoldFonts=this.$textLayer.allowBoldFonts,this.setStyle("ace_nobold",!this.$allowBoldFonts)),this.layerConfig.characterWidth=this.characterWidth=this.$textLayer.getCharacterWidth(),this.layerConfig.lineHeight=this.lineHeight=this.$textLayer.getLineHeight(),this.$updatePrintMargin(),b.setStyle(this.scroller.style,"line-height",this.lineHeight+"px")},this.setSession=function(D){this.session&&this.session.doc.off("changeNewLineMode",this.onChangeNewLineMode),this.session=D,D&&this.scrollMargin.top&&D.getScrollTop()<=0&&D.setScrollTop(-this.scrollMargin.top),this.$cursorLayer.setSession(D),this.$markerBack.setSession(D),this.$markerFront.setSession(D),this.$gutterLayer.setSession(D),this.$textLayer.setSession(D),D&&(this.$loop.schedule(this.CHANGE_FULL),this.session.$setFontMetrics(this.$fontMetrics),this.scrollBarH.scrollLeft=this.scrollBarV.scrollTop=null,this.onChangeNewLineMode=this.onChangeNewLineMode.bind(this),this.onChangeNewLineMode(),this.session.doc.on("changeNewLineMode",this.onChangeNewLineMode))},this.updateLines=function(D,G,j){if(G===void 0&&(G=1/0),this.$changedLines?(this.$changedLines.firstRow>D&&(this.$changedLines.firstRow=D),this.$changedLines.lastRow<G&&(this.$changedLines.lastRow=G)):this.$changedLines={firstRow:D,lastRow:G},this.$changedLines.lastRow<this.layerConfig.firstRow){if(!j)return;this.$changedLines.lastRow=this.layerConfig.lastRow}this.$changedLines.firstRow>this.layerConfig.lastRow||this.$loop.schedule(this.CHANGE_LINES)},this.onChangeNewLineMode=function(){this.$loop.schedule(this.CHANGE_TEXT),this.$textLayer.$updateEolChar(),this.session.$bidiHandler.setEolChar(this.$textLayer.EOL_CHAR)},this.onChangeTabSize=function(){this.$loop.schedule(this.CHANGE_TEXT|this.CHANGE_MARKER),this.$textLayer.onChangeTabSize()},this.updateText=function(){this.$loop.schedule(this.CHANGE_TEXT)},this.updateFull=function(D){D?this.$renderChanges(this.CHANGE_FULL,!0):this.$loop.schedule(this.CHANGE_FULL)},this.updateFontSize=function(){this.$textLayer.checkForSizeChanges()},this.$changes=0,this.$updateSizeAsync=function(){this.$loop.pending?this.$size.$dirty=!0:this.onResize()},this.onResize=function(D,G,j,k){if(!(this.resizing>2)){this.resizing>0?this.resizing++:this.resizing=D?1:0;var V=this.container;k||(k=V.clientHeight||V.scrollHeight),j||(j=V.clientWidth||V.scrollWidth);var H=this.$updateCachedSize(D,G,j,k);if(!this.$size.scrollerHeight||!j&&!k)return this.resizing=0;D&&(this.$gutterLayer.$padding=null),D?this.$renderChanges(H|this.$changes,!0):this.$loop.schedule(H|this.$changes),this.resizing&&(this.resizing=0),this.scrollBarV.scrollLeft=this.scrollBarV.scrollTop=null}},this.$updateCachedSize=function(D,G,j,k){k-=this.$extraHeight||0;var V=0,H=this.$size,te={width:H.width,height:H.height,scrollerHeight:H.scrollerHeight,scrollerWidth:H.scrollerWidth};if(k&&(D||H.height!=k)&&(H.height=k,V|=this.CHANGE_SIZE,H.scrollerHeight=H.height,this.$horizScroll&&(H.scrollerHeight-=this.scrollBarH.getHeight()),this.scrollBarV.element.style.bottom=this.scrollBarH.getHeight()+"px",V|=this.CHANGE_SCROLL),j&&(D||H.width!=j)){V|=this.CHANGE_SIZE,H.width=j,G==null&&(G=this.$showGutter?this.$gutter.offsetWidth:0),this.gutterWidth=G,b.setStyle(this.scrollBarH.element.style,"left",G+"px"),b.setStyle(this.scroller.style,"left",G+this.margin.left+"px"),H.scrollerWidth=Math.max(0,j-G-this.scrollBarV.getWidth()-this.margin.h),b.setStyle(this.$gutter.style,"left",this.margin.left+"px");var ne=this.scrollBarV.getWidth()+"px";b.setStyle(this.scrollBarH.element.style,"right",ne),b.setStyle(this.scroller.style,"right",ne),b.setStyle(this.scroller.style,"bottom",this.scrollBarH.getHeight()),(this.session&&this.session.getUseWrapMode()&&this.adjustWrapLimit()||D)&&(V|=this.CHANGE_FULL)}return H.$dirty=!j||!k,V&&this._signal("resize",te),V},this.onGutterResize=function(D){var G=this.$showGutter?D:0;G!=this.gutterWidth&&(this.$changes|=this.$updateCachedSize(!0,G,this.$size.width,this.$size.height)),this.session.getUseWrapMode()&&this.adjustWrapLimit()||this.$size.$dirty?this.$loop.schedule(this.CHANGE_FULL):this.$computeLayerConfig()},this.adjustWrapLimit=function(){var D=this.$size.scrollerWidth-2*this.$padding,G=Math.floor(D/this.characterWidth);return this.session.adjustWrapLimit(G,this.$showPrintMargin&&this.$printMarginColumn)},this.setAnimatedScroll=function(D){this.setOption("animatedScroll",D)},this.getAnimatedScroll=function(){return this.$animatedScroll},this.setShowInvisibles=function(D){this.setOption("showInvisibles",D),this.session.$bidiHandler.setShowInvisibles(D)},this.getShowInvisibles=function(){return this.getOption("showInvisibles")},this.getDisplayIndentGuides=function(){return this.getOption("displayIndentGuides")},this.setDisplayIndentGuides=function(D){this.setOption("displayIndentGuides",D)},this.setShowPrintMargin=function(D){this.setOption("showPrintMargin",D)},this.getShowPrintMargin=function(){return this.getOption("showPrintMargin")},this.setPrintMarginColumn=function(D){this.setOption("printMarginColumn",D)},this.getPrintMarginColumn=function(){return this.getOption("printMarginColumn")},this.getShowGutter=function(){return this.getOption("showGutter")},this.setShowGutter=function(D){return this.setOption("showGutter",D)},this.getFadeFoldWidgets=function(){return this.getOption("fadeFoldWidgets")},this.setFadeFoldWidgets=function(D){this.setOption("fadeFoldWidgets",D)},this.setHighlightGutterLine=function(D){this.setOption("highlightGutterLine",D)},this.getHighlightGutterLine=function(){return this.getOption("highlightGutterLine")},this.$updatePrintMargin=function(){if(this.$showPrintMargin||this.$printMarginEl){if(!this.$printMarginEl){var D=b.createElement("div");D.className="ace_layer ace_print-margin-layer",this.$printMarginEl=b.createElement("div"),this.$printMarginEl.className="ace_print-margin",D.appendChild(this.$printMarginEl),this.content.insertBefore(D,this.content.firstChild)}var G=this.$printMarginEl.style;G.left=Math.round(this.characterWidth*this.$printMarginColumn+this.$padding)+"px",G.visibility=this.$showPrintMargin?"visible":"hidden",this.session&&this.session.$wrap==-1&&this.adjustWrapLimit()}},this.getContainerElement=function(){return this.container},this.getMouseEventTarget=function(){return this.scroller},this.getTextAreaContainer=function(){return this.container},this.$moveTextAreaToCursor=function(){if(!this.$isMousePressed){var D=this.textarea.style,G=this.$composition;if(this.$keepTextAreaAtCursor||G){var j=this.$cursorLayer.$pixelPos;if(j){G&&G.markerRange&&(j=this.$cursorLayer.getPixelPosition(G.markerRange.start,!0));var k=this.layerConfig,V=j.top,H=j.left;V-=k.offset;var te=G&&G.useTextareaForIME?this.lineHeight:F?0:1;if(V<0||V>k.height-te)b.translate(this.textarea,0,0);else{var ne=1,he=this.$size.height-te;if(G)if(G.useTextareaForIME){var ie=this.textarea.value;ne=this.characterWidth*this.session.$getStringScreenWidth(ie)[0]}else V+=this.lineHeight+2;else V+=this.lineHeight;(H-=this.scrollLeft)>this.$size.scrollerWidth-ne&&(H=this.$size.scrollerWidth-ne),H+=this.gutterWidth+this.margin.left,b.setStyle(D,"height",te+"px"),b.setStyle(D,"width",ne+"px"),b.translate(this.textarea,Math.min(H,this.$size.scrollerWidth-ne),Math.min(V,he))}}}else b.translate(this.textarea,-100,0)}},this.getFirstVisibleRow=function(){return this.layerConfig.firstRow},this.getFirstFullyVisibleRow=function(){return this.layerConfig.firstRow+(this.layerConfig.offset===0?0:1)},this.getLastFullyVisibleRow=function(){var D=this.layerConfig,G=D.lastRow;return this.session.documentToScreenRow(G,0)*D.lineHeight-this.session.getScrollTop()>D.height-D.lineHeight?G-1:G},this.getLastVisibleRow=function(){return this.layerConfig.lastRow},this.$padding=null,this.setPadding=function(D){this.$padding=D,this.$textLayer.setPadding(D),this.$cursorLayer.setPadding(D),this.$markerFront.setPadding(D),this.$markerBack.setPadding(D),this.$loop.schedule(this.CHANGE_FULL),this.$updatePrintMargin()},this.setScrollMargin=function(D,G,j,k){var V=this.scrollMargin;V.top=0|D,V.bottom=0|G,V.right=0|k,V.left=0|j,V.v=V.top+V.bottom,V.h=V.left+V.right,V.top&&this.scrollTop<=0&&this.session&&this.session.setScrollTop(-V.top),this.updateFull()},this.setMargin=function(D,G,j,k){var V=this.margin;V.top=0|D,V.bottom=0|G,V.right=0|k,V.left=0|j,V.v=V.top+V.bottom,V.h=V.left+V.right,this.$updateCachedSize(!0,this.gutterWidth,this.$size.width,this.$size.height),this.updateFull()},this.getHScrollBarAlwaysVisible=function(){return this.$hScrollBarAlwaysVisible},this.setHScrollBarAlwaysVisible=function(D){this.setOption("hScrollBarAlwaysVisible",D)},this.getVScrollBarAlwaysVisible=function(){return this.$vScrollBarAlwaysVisible},this.setVScrollBarAlwaysVisible=function(D){this.setOption("vScrollBarAlwaysVisible",D)},this.$updateScrollBarV=function(){var D=this.layerConfig.maxHeight,G=this.$size.scrollerHeight;!this.$maxLines&&this.$scrollPastEnd&&(D-=(G-this.lineHeight)*this.$scrollPastEnd,this.scrollTop>D-G&&(D=this.scrollTop+G,this.scrollBarV.scrollTop=null)),this.scrollBarV.setScrollHeight(D+this.scrollMargin.v),this.scrollBarV.setScrollTop(this.scrollTop+this.scrollMargin.top)},this.$updateScrollBarH=function(){this.scrollBarH.setScrollWidth(this.layerConfig.width+2*this.$padding+this.scrollMargin.h),this.scrollBarH.setScrollLeft(this.scrollLeft+this.scrollMargin.left)},this.$frozen=!1,this.freeze=function(){this.$frozen=!0},this.unfreeze=function(){this.$frozen=!1},this.$renderChanges=function(D,G){if(this.$changes&&(D|=this.$changes,this.$changes=0),this.session&&this.container.offsetWidth&&!this.$frozen&&(D||G)){if(this.$size.$dirty)return this.$changes|=D,this.onResize(!0);this.lineHeight||this.$textLayer.checkForSizeChanges(),this._signal("beforeRender"),this.session&&this.session.$bidiHandler&&this.session.$bidiHandler.updateCharacterWidths(this.$fontMetrics);var j=this.layerConfig;if(D&this.CHANGE_FULL||D&this.CHANGE_SIZE||D&this.CHANGE_TEXT||D&this.CHANGE_LINES||D&this.CHANGE_SCROLL||D&this.CHANGE_H_SCROLL){if(D|=this.$computeLayerConfig()|this.$loop.clear(),j.firstRow!=this.layerConfig.firstRow&&j.firstRowScreen==this.layerConfig.firstRowScreen){var k=this.scrollTop+(j.firstRow-this.layerConfig.firstRow)*this.lineHeight;k>0&&(this.scrollTop=k,D|=this.CHANGE_SCROLL,D|=this.$computeLayerConfig()|this.$loop.clear())}j=this.layerConfig,this.$updateScrollBarV(),D&this.CHANGE_H_SCROLL&&this.$updateScrollBarH(),b.translate(this.content,-this.scrollLeft,-j.offset);var V=j.width+2*this.$padding+"px",H=j.minHeight+"px";b.setStyle(this.content.style,"width",V),b.setStyle(this.content.style,"height",H)}if(D&this.CHANGE_H_SCROLL&&(b.translate(this.content,-this.scrollLeft,-j.offset),this.scroller.className=this.scrollLeft<=0?"ace_scroller":"ace_scroller ace_scroll-left"),D&this.CHANGE_FULL)return this.$changedLines=null,this.$textLayer.update(j),this.$showGutter&&this.$gutterLayer.update(j),this.$markerBack.update(j),this.$markerFront.update(j),this.$cursorLayer.update(j),this.$moveTextAreaToCursor(),void this._signal("afterRender");if(D&this.CHANGE_SCROLL)return this.$changedLines=null,D&this.CHANGE_TEXT||D&this.CHANGE_LINES?this.$textLayer.update(j):this.$textLayer.scrollLines(j),this.$showGutter&&(D&this.CHANGE_GUTTER||D&this.CHANGE_LINES?this.$gutterLayer.update(j):this.$gutterLayer.scrollLines(j)),this.$markerBack.update(j),this.$markerFront.update(j),this.$cursorLayer.update(j),this.$moveTextAreaToCursor(),void this._signal("afterRender");D&this.CHANGE_TEXT?(this.$changedLines=null,this.$textLayer.update(j),this.$showGutter&&this.$gutterLayer.update(j)):D&this.CHANGE_LINES?(this.$updateLines()||D&this.CHANGE_GUTTER&&this.$showGutter)&&this.$gutterLayer.update(j):D&this.CHANGE_TEXT||D&this.CHANGE_GUTTER?this.$showGutter&&this.$gutterLayer.update(j):D&this.CHANGE_CURSOR&&this.$highlightGutterLine&&this.$gutterLayer.updateLineHighlight(j),D&this.CHANGE_CURSOR&&(this.$cursorLayer.update(j),this.$moveTextAreaToCursor()),D&(this.CHANGE_MARKER|this.CHANGE_MARKER_FRONT)&&this.$markerFront.update(j),D&(this.CHANGE_MARKER|this.CHANGE_MARKER_BACK)&&this.$markerBack.update(j),this._signal("afterRender")}else this.$changes|=D},this.$autosize=function(){var D=this.session.getScreenLength()*this.lineHeight,G=this.$maxLines*this.lineHeight,j=Math.min(G,Math.max((this.$minLines||1)*this.lineHeight,D))+this.scrollMargin.v+(this.$extraHeight||0);this.$horizScroll&&(j+=this.scrollBarH.getHeight()),this.$maxPixelHeight&&j>this.$maxPixelHeight&&(j=this.$maxPixelHeight);var k=!(j<=2*this.lineHeight)&&D>G;if(j!=this.desiredHeight||this.$size.height!=this.desiredHeight||k!=this.$vScroll){k!=this.$vScroll&&(this.$vScroll=k,this.scrollBarV.setVisible(k));var V=this.container.clientWidth;this.container.style.height=j+"px",this.$updateCachedSize(!0,this.$gutterWidth,V,j),this.desiredHeight=j,this._signal("autosize")}},this.$computeLayerConfig=function(){var D=this.session,G=this.$size,j=G.height<=2*this.lineHeight,k=this.session.getScreenLength()*this.lineHeight,V=this.$getLongestLine(),H=!j&&(this.$hScrollBarAlwaysVisible||G.scrollerWidth-V-2*this.$padding<0),te=this.$horizScroll!==H;te&&(this.$horizScroll=H,this.scrollBarH.setVisible(H));var ne=this.$vScroll;this.$maxLines&&this.lineHeight>1&&this.$autosize();var he=G.scrollerHeight+this.lineHeight,ie=!this.$maxLines&&this.$scrollPastEnd?(G.scrollerHeight-this.lineHeight)*this.$scrollPastEnd:0;k+=ie;var ce=this.scrollMargin;this.session.setScrollTop(Math.max(-ce.top,Math.min(this.scrollTop,k-G.scrollerHeight+ce.bottom))),this.session.setScrollLeft(Math.max(-ce.left,Math.min(this.scrollLeft,V+2*this.$padding-G.scrollerWidth+ce.right)));var Se=!j&&(this.$vScrollBarAlwaysVisible||G.scrollerHeight-k+ie<0||this.scrollTop>ce.top),Ee=ne!==Se;Ee&&(this.$vScroll=Se,this.scrollBarV.setVisible(Se));var me,le,we=this.scrollTop%this.lineHeight,Re=Math.ceil(he/this.lineHeight)-1,Fe=Math.max(0,Math.round((this.scrollTop-we)/this.lineHeight)),qe=Fe+Re,ot=this.lineHeight;Fe=D.screenToDocumentRow(Fe,0);var dn=D.getFoldLine(Fe);dn&&(Fe=dn.start.row),me=D.documentToScreenRow(Fe,0),le=D.getRowLength(Fe)*ot,qe=Math.min(D.screenToDocumentRow(qe,0),D.getLength()-1),he=G.scrollerHeight+D.getRowLength(qe)*ot+le,we=this.scrollTop-me*ot;var mn=0;return(this.layerConfig.width!=V||te)&&(mn=this.CHANGE_H_SCROLL),(te||Ee)&&(mn|=this.$updateCachedSize(!0,this.gutterWidth,G.width,G.height),this._signal("scrollbarVisibilityChanged"),Ee&&(V=this.$getLongestLine())),this.layerConfig={width:V,padding:this.$padding,firstRow:Fe,firstRowScreen:me,lastRow:qe,lineHeight:ot,characterWidth:this.characterWidth,minHeight:he,maxHeight:k,offset:we,gutterOffset:ot?Math.max(0,Math.ceil((we+G.height-G.scrollerHeight)/ot)):0,height:this.$size.scrollerHeight},this.session.$bidiHandler&&this.session.$bidiHandler.setContentWidth(V-this.$padding),mn},this.$updateLines=function(){if(this.$changedLines){var D=this.$changedLines.firstRow,G=this.$changedLines.lastRow;this.$changedLines=null;var j=this.layerConfig;if(!(D>j.lastRow+1||G<j.firstRow))return G===1/0?(this.$showGutter&&this.$gutterLayer.update(j),void this.$textLayer.update(j)):(this.$textLayer.updateLines(j,D,G),!0)}},this.$getLongestLine=function(){var D=this.session.getScreenWidth();return this.showInvisibles&&!this.session.$useWrapMode&&(D+=1),this.$textLayer&&D>this.$textLayer.MAX_LINE_LENGTH&&(D=this.$textLayer.MAX_LINE_LENGTH+30),Math.max(this.$size.scrollerWidth-2*this.$padding,Math.round(D*this.characterWidth))},this.updateFrontMarkers=function(){this.$markerFront.setMarkers(this.session.getMarkers(!0)),this.$loop.schedule(this.CHANGE_MARKER_FRONT)},this.updateBackMarkers=function(){this.$markerBack.setMarkers(this.session.getMarkers()),this.$loop.schedule(this.CHANGE_MARKER_BACK)},this.addGutterDecoration=function(D,G){this.$gutterLayer.addGutterDecoration(D,G)},this.removeGutterDecoration=function(D,G){this.$gutterLayer.removeGutterDecoration(D,G)},this.updateBreakpoints=function(D){this.$loop.schedule(this.CHANGE_GUTTER)},this.setAnnotations=function(D){this.$gutterLayer.setAnnotations(D),this.$loop.schedule(this.CHANGE_GUTTER)},this.updateCursor=function(){this.$loop.schedule(this.CHANGE_CURSOR)},this.hideCursor=function(){this.$cursorLayer.hideCursor()},this.showCursor=function(){this.$cursorLayer.showCursor()},this.scrollSelectionIntoView=function(D,G,j){this.scrollCursorIntoView(D,j),this.scrollCursorIntoView(G,j)},this.scrollCursorIntoView=function(D,G,j){if(this.$size.scrollerHeight!==0){var k=this.$cursorLayer.getPixelPosition(D),V=k.left,H=k.top,te=j&&j.top||0,ne=j&&j.bottom||0,he=this.$scrollAnimation?this.session.getScrollTop():this.scrollTop;he+te>H?(G&&he+te>H+this.lineHeight&&(H-=G*this.$size.scrollerHeight),H===0&&(H=-this.scrollMargin.top),this.session.setScrollTop(H)):he+this.$size.scrollerHeight-ne<H+this.lineHeight&&(G&&he+this.$size.scrollerHeight-ne<H-this.lineHeight&&(H+=G*this.$size.scrollerHeight),this.session.setScrollTop(H+this.lineHeight+ne-this.$size.scrollerHeight));var ie=this.scrollLeft;ie>V?(V<this.$padding+2*this.layerConfig.characterWidth&&(V=-this.scrollMargin.left),this.session.setScrollLeft(V)):ie+this.$size.scrollerWidth<V+this.characterWidth?this.session.setScrollLeft(Math.round(V+this.characterWidth-this.$size.scrollerWidth)):ie<=this.$padding&&V-ie<this.characterWidth&&this.session.setScrollLeft(0)}},this.getScrollTop=function(){return this.session.getScrollTop()},this.getScrollLeft=function(){return this.session.getScrollLeft()},this.getScrollTopRow=function(){return this.scrollTop/this.lineHeight},this.getScrollBottomRow=function(){return Math.max(0,Math.floor((this.scrollTop+this.$size.scrollerHeight)/this.lineHeight)-1)},this.scrollToRow=function(D){this.session.setScrollTop(D*this.lineHeight)},this.alignCursor=function(D,G){typeof D=="number"&&(D={row:D,column:0});var j=this.$cursorLayer.getPixelPosition(D),k=this.$size.scrollerHeight-this.lineHeight,V=j.top-k*(G||0);return this.session.setScrollTop(V),V},this.STEPS=8,this.$calcSteps=function(D,G){var j,k,V=0,H=this.STEPS,te=[];for(V=0;V<H;++V)te.push((j=V/this.STEPS,k=D,(G-D)*(Math.pow(j-1,3)+1)+k));return te},this.scrollToLine=function(D,G,j,k){var V=this.$cursorLayer.getPixelPosition({row:D,column:0}).top;G&&(V-=this.$size.scrollerHeight/2);var H=this.scrollTop;this.session.setScrollTop(V),j!==!1&&this.animateScrolling(H,k)},this.animateScrolling=function(D,G){var j=this.scrollTop;if(this.$animatedScroll){var k=this;if(D!=j){if(this.$scrollAnimation){var V=this.$scrollAnimation.steps;if(V.length&&(D=V[0])==j)return}var H=k.$calcSteps(D,j);this.$scrollAnimation={from:D,to:j,steps:H},clearInterval(this.$timer),k.session.setScrollTop(H.shift()),k.session.$scrollTop=j,this.$timer=setInterval((function(){H.length?(k.session.setScrollTop(H.shift()),k.session.$scrollTop=j):j!=null?(k.session.$scrollTop=-1,k.session.setScrollTop(j),j=null):(k.$timer=clearInterval(k.$timer),k.$scrollAnimation=null,G&&G())}),10)}}},this.scrollToY=function(D){this.scrollTop!==D&&(this.$loop.schedule(this.CHANGE_SCROLL),this.scrollTop=D)},this.scrollToX=function(D){this.scrollLeft!==D&&(this.scrollLeft=D),this.$loop.schedule(this.CHANGE_H_SCROLL)},this.scrollTo=function(D,G){this.session.setScrollTop(G),this.session.setScrollLeft(G)},this.scrollBy=function(D,G){G&&this.session.setScrollTop(this.session.getScrollTop()+G),D&&this.session.setScrollLeft(this.session.getScrollLeft()+D)},this.isScrollableBy=function(D,G){return G<0&&this.session.getScrollTop()>=1-this.scrollMargin.top||G>0&&this.session.getScrollTop()+this.$size.scrollerHeight-this.layerConfig.maxHeight<-1+this.scrollMargin.bottom||D<0&&this.session.getScrollLeft()>=1-this.scrollMargin.left||D>0&&this.session.getScrollLeft()+this.$size.scrollerWidth-this.layerConfig.width<-1+this.scrollMargin.right||void 0},this.pixelToScreenCoordinates=function(D,G){var j;if(this.$hasCssTransforms){j={top:0,left:0};var k=this.$fontMetrics.transformCoordinates([D,G]);D=k[1]-this.gutterWidth-this.margin.left,G=k[0]}else j=this.scroller.getBoundingClientRect();var V=D+this.scrollLeft-j.left-this.$padding,H=V/this.characterWidth,te=Math.floor((G+this.scrollTop-j.top)/this.lineHeight),ne=this.$blockCursor?Math.floor(H):Math.round(H);return{row:te,column:ne,side:H-ne>0?1:-1,offsetX:V}},this.screenToTextCoordinates=function(D,G){var j;if(this.$hasCssTransforms){j={top:0,left:0};var k=this.$fontMetrics.transformCoordinates([D,G]);D=k[1]-this.gutterWidth-this.margin.left,G=k[0]}else j=this.scroller.getBoundingClientRect();var V=D+this.scrollLeft-j.left-this.$padding,H=V/this.characterWidth,te=this.$blockCursor?Math.floor(H):Math.round(H),ne=Math.floor((G+this.scrollTop-j.top)/this.lineHeight);return this.session.screenToDocumentPosition(ne,Math.max(te,0),V)},this.textToScreenCoordinates=function(D,G){var j=this.scroller.getBoundingClientRect(),k=this.session.documentToScreenPosition(D,G),V=this.$padding+(this.session.$bidiHandler.isBidiRow(k.row,D)?this.session.$bidiHandler.getPosLeft(k.column):Math.round(k.column*this.characterWidth)),H=k.row*this.lineHeight;return{pageX:j.left+V-this.scrollLeft,pageY:j.top+H-this.scrollTop}},this.visualizeFocus=function(){b.addCssClass(this.container,"ace_focus")},this.visualizeBlur=function(){b.removeCssClass(this.container,"ace_focus")},this.showComposition=function(D){this.$composition=D,D.cssText||(D.cssText=this.textarea.style.cssText),D.useTextareaForIME=this.$useTextareaForIME,this.$useTextareaForIME?(b.addCssClass(this.textarea,"ace_composition"),this.textarea.style.cssText="",this.$moveTextAreaToCursor(),this.$cursorLayer.element.style.display="none"):D.markerId=this.session.addMarker(D.markerRange,"ace_composition_marker","text")},this.setCompositionText=function(D){var G=this.session.selection.cursor;this.addToken(D,"composition_placeholder",G.row,G.column),this.$moveTextAreaToCursor()},this.hideComposition=function(){this.$composition&&(this.$composition.markerId&&this.session.removeMarker(this.$composition.markerId),b.removeCssClass(this.textarea,"ace_composition"),this.textarea.style.cssText=this.$composition.cssText,this.$composition=null,this.$cursorLayer.element.style.display="")},this.addToken=function(D,G,j,k){var V=this.session;V.bgTokenizer.lines[j]=null;var H={type:G,value:D},te=V.getTokens(j);if(k==null)te.push(H);else for(var ne=0,he=0;he<te.length;he++){var ie=te[he];if(k<=(ne+=ie.value.length)){var ce=ie.value.length-(ne-k),Se=ie.value.slice(0,ce),Ee=ie.value.slice(ce);te.splice(he,1,{type:ie.type,value:Se},H,{type:ie.type,value:Ee});break}}this.updateLines(j,j)},this.setTheme=function(D,G){var j=this;if(this.$themeId=D,j._dispatchEvent("themeChange",{theme:D}),D&&typeof D!="string")V(D);else{var k=D||this.$options.theme.initialValue;g.loadModule(["theme",k],V)}function V(H){if(j.$themeId!=D)return G&&G();if(!H||!H.cssClass)throw new Error("couldn't load module "+D+" or it didn't call define");H.$id&&(j.$themeId=H.$id),b.importCssString(H.cssText,H.cssClass,j.container),j.theme&&b.removeCssClass(j.container,j.theme.cssClass);var te="padding"in H?H.padding:"padding"in(j.theme||{})?4:j.$padding;j.$padding&&te!=j.$padding&&j.setPadding(te),j.$theme=H.cssClass,j.theme=H,b.addCssClass(j.container,H.cssClass),b.setCssClass(j.container,"ace_dark",H.isDark),j.$size&&(j.$size.width=0,j.$updateSizeAsync()),j._dispatchEvent("themeLoaded",{theme:H}),G&&G()}},this.getTheme=function(){return this.$themeId},this.setStyle=function(D,G){b.setCssClass(this.container,D,G!==!1)},this.unsetStyle=function(D){b.removeCssClass(this.container,D)},this.setCursorStyle=function(D){b.setStyle(this.scroller.style,"cursor",D)},this.setMouseCursor=function(D){b.setStyle(this.scroller.style,"cursor",D)},this.attachToShadowRoot=function(){b.importCssString(C,"ace_editor.css",this.container)},this.destroy=function(){this.freeze(),this.$fontMetrics.destroy(),this.$cursorLayer.destroy()}}).call(R.prototype),g.defineOptions(R.prototype,"renderer",{animatedScroll:{initialValue:!1},showInvisibles:{set:function(D){this.$textLayer.setShowInvisibles(D)&&this.$loop.schedule(this.CHANGE_TEXT)},initialValue:!1},showPrintMargin:{set:function(){this.$updatePrintMargin()},initialValue:!0},printMarginColumn:{set:function(){this.$updatePrintMargin()},initialValue:80},printMargin:{set:function(D){typeof D=="number"&&(this.$printMarginColumn=D),this.$showPrintMargin=!!D,this.$updatePrintMargin()},get:function(){return this.$showPrintMargin&&this.$printMarginColumn}},showGutter:{set:function(D){this.$gutter.style.display=D?"block":"none",this.$loop.schedule(this.CHANGE_FULL),this.onGutterResize()},initialValue:!0},fadeFoldWidgets:{set:function(D){b.setCssClass(this.$gutter,"ace_fade-fold-widgets",D)},initialValue:!1},showFoldWidgets:{set:function(D){this.$gutterLayer.setShowFoldWidgets(D),this.$loop.schedule(this.CHANGE_GUTTER)},initialValue:!0},displayIndentGuides:{set:function(D){this.$textLayer.setDisplayIndentGuides(D)&&this.$loop.schedule(this.CHANGE_TEXT)},initialValue:!0},highlightGutterLine:{set:function(D){this.$gutterLayer.setHighlightGutterLine(D),this.$loop.schedule(this.CHANGE_GUTTER)},initialValue:!0},hScrollBarAlwaysVisible:{set:function(D){this.$hScrollBarAlwaysVisible&&this.$horizScroll||this.$loop.schedule(this.CHANGE_SCROLL)},initialValue:!1},vScrollBarAlwaysVisible:{set:function(D){this.$vScrollBarAlwaysVisible&&this.$vScroll||this.$loop.schedule(this.CHANGE_SCROLL)},initialValue:!1},fontSize:{set:function(D){typeof D=="number"&&(D+="px"),this.container.style.fontSize=D,this.updateFontSize()},initialValue:12},fontFamily:{set:function(D){this.container.style.fontFamily=D,this.updateFontSize()}},maxLines:{set:function(D){this.updateFull()}},minLines:{set:function(D){this.$minLines<562949953421311||(this.$minLines=0),this.updateFull()}},maxPixelHeight:{set:function(D){this.updateFull()},initialValue:0},scrollPastEnd:{set:function(D){D=+D||0,this.$scrollPastEnd!=D&&(this.$scrollPastEnd=D,this.$loop.schedule(this.CHANGE_SCROLL))},initialValue:0,handlesSet:!0},fixedWidthGutter:{set:function(D){this.$gutterLayer.$fixedWidth=!!D,this.$loop.schedule(this.CHANGE_GUTTER)}},theme:{set:function(D){this.setTheme(D)},get:function(){return this.$themeId||this.theme},initialValue:"./theme/textmate",handlesSet:!0},hasCssTransforms:{},useTextareaForIME:{initialValue:!I.isMobile&&!I.isIE}}),u.VirtualRenderer=R})),ace.define("ace/worker/worker_client",["require","exports","module","ace/lib/oop","ace/lib/net","ace/lib/event_emitter","ace/config"],(function(a,u,m){var d=a("../lib/oop"),b=a("../lib/net"),g=a("../lib/event_emitter").EventEmitter,_=a("../config");function p(c){if(typeof Worker>"u")return{postMessage:function(){},terminate:function(){}};if(_.get("loadWorkerFromBlob")){var x=(function(T){var L="importScripts('"+b.qualifyURL(T)+"');";try{return new Blob([L],{type:"application/javascript"})}catch{var P=new(window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder);return P.append(L),P.getBlob("application/javascript")}})(c),w=(window.URL||window.webkitURL).createObjectURL(x);return new Worker(w)}return new Worker(c)}var v=function(c){c.postMessage||(c=this.$createWorkerFromOldConfig.apply(this,arguments)),this.$worker=c,this.$sendDeltaQueue=this.$sendDeltaQueue.bind(this),this.changeListener=this.changeListener.bind(this),this.onMessage=this.onMessage.bind(this),this.callbackId=1,this.callbacks={},this.$worker.onmessage=this.onMessage};(function(){d.implement(this,g),this.$createWorkerFromOldConfig=function(c,x,w,T,L){if(a.nameToUrl&&!a.toUrl&&(a.toUrl=a.nameToUrl),_.get("packaged")||!a.toUrl)T=T||_.moduleUrl(x,"worker");else{var P=this.$normalizePath;T=T||P(a.toUrl("ace/worker/worker.js",null,"_"));var C={};c.forEach((function(I){C[I]=P(a.toUrl(I,null,"_").replace(/(\.js)?(\?.*)?$/,""))}))}return this.$worker=p(T),L&&this.send("importScripts",L),this.$worker.postMessage({init:!0,tlns:C,module:x,classname:w}),this.$worker},this.onMessage=function(c){var x=c.data;switch(x.type){case"event":this._signal(x.name,{data:x.data});break;case"call":var w=this.callbacks[x.id];w&&(w(x.data),delete this.callbacks[x.id]);break;case"error":this.reportError(x.data);break;case"log":window.console&&console.log&&console.log.apply(console,x.data)}},this.reportError=function(c){window.console&&console.error&&console.error(c)},this.$normalizePath=function(c){return b.qualifyURL(c)},this.terminate=function(){this._signal("terminate",{}),this.deltaQueue=null,this.$worker.terminate(),this.$worker=null,this.$doc&&this.$doc.off("change",this.changeListener),this.$doc=null},this.send=function(c,x){this.$worker.postMessage({command:c,args:x})},this.call=function(c,x,w){if(w){var T=this.callbackId++;this.callbacks[T]=w,x.push(T)}this.send(c,x)},this.emit=function(c,x){try{x.data&&x.data.err&&(x.data.err={message:x.data.err.message,stack:x.data.err.stack,code:x.data.err.code}),this.$worker.postMessage({event:c,data:{data:x.data}})}catch(w){console.error(w.stack)}},this.attachToDocument=function(c){this.$doc&&this.terminate(),this.$doc=c,this.call("setValue",[c.getValue()]),c.on("change",this.changeListener)},this.changeListener=function(c){this.deltaQueue||(this.deltaQueue=[],setTimeout(this.$sendDeltaQueue,0)),c.action=="insert"?this.deltaQueue.push(c.start,c.lines):this.deltaQueue.push(c.start,c.end)},this.$sendDeltaQueue=function(){var c=this.deltaQueue;c&&(this.deltaQueue=null,c.length>50&&c.length>this.$doc.getLength()>>1?this.call("setValue",[this.$doc.getValue()]):this.emit("change",{data:c}))}}).call(v.prototype),u.UIWorkerClient=function(c,x,w){var T=null,L=!1,P=Object.create(g),C=[],I=new v({messageBuffer:C,terminate:function(){},postMessage:function(R){C.push(R),T&&(L?setTimeout(F):F())}});I.setEmitSync=function(R){L=R};var F=function(){var R=C.shift();R.command?T[R.command].apply(T,R.args):R.event&&P._signal(R.event,R.data)};return P.postMessage=function(R){I.onMessage({data:R})},P.callback=function(R,D){this.postMessage({type:"call",id:D,data:R})},P.emit=function(R,D){this.postMessage({type:"event",name:R,data:D})},_.loadModule(["worker",x],(function(R){for(T=new R[w](P);C.length;)F()})),I},u.WorkerClient=v,u.createWorker=p})),ace.define("ace/placeholder",["require","exports","module","ace/range","ace/lib/event_emitter","ace/lib/oop"],(function(a,u,m){var d=a("./range").Range,b=a("./lib/event_emitter").EventEmitter,g=a("./lib/oop"),_=function(p,v,c,x,w,T){var L=this;this.length=v,this.session=p,this.doc=p.getDocument(),this.mainClass=w,this.othersClass=T,this.$onUpdate=this.onUpdate.bind(this),this.doc.on("change",this.$onUpdate),this.$others=x,this.$onCursorChange=function(){setTimeout((function(){L.onCursorChange()}))},this.$pos=c;var P=p.getUndoManager().$undoStack||p.getUndoManager().$undostack||{length:-1};this.$undoStackDepth=P.length,this.setup(),p.selection.on("changeCursor",this.$onCursorChange)};(function(){g.implement(this,b),this.setup=function(){var p=this,v=this.doc,c=this.session;this.selectionBefore=c.selection.toJSON(),c.selection.inMultiSelectMode&&c.selection.toSingleRange(),this.pos=v.createAnchor(this.$pos.row,this.$pos.column);var x=this.pos;x.$insertRight=!0,x.detach(),x.markerId=c.addMarker(new d(x.row,x.column,x.row,x.column+this.length),this.mainClass,null,!1),this.others=[],this.$others.forEach((function(w){var T=v.createAnchor(w.row,w.column);T.$insertRight=!0,T.detach(),p.others.push(T)})),c.setUndoSelect(!1)},this.showOtherMarkers=function(){if(!this.othersActive){var p=this.session,v=this;this.othersActive=!0,this.others.forEach((function(c){c.markerId=p.addMarker(new d(c.row,c.column,c.row,c.column+v.length),v.othersClass,null,!1)}))}},this.hideOtherMarkers=function(){if(this.othersActive){this.othersActive=!1;for(var p=0;p<this.others.length;p++)this.session.removeMarker(this.others[p].markerId)}},this.onUpdate=function(p){if(this.$updating)return this.updateAnchors(p);var v=p;if(v.start.row===v.end.row&&v.start.row===this.pos.row){this.$updating=!0;var c=p.action==="insert"?v.end.column-v.start.column:v.start.column-v.end.column,x=v.start.column>=this.pos.column&&v.start.column<=this.pos.column+this.length+1,w=v.start.column-this.pos.column;if(this.updateAnchors(p),x&&(this.length+=c),x&&!this.session.$fromUndo){if(p.action==="insert")for(var T=this.others.length-1;T>=0;T--){var L={row:(P=this.others[T]).row,column:P.column+w};this.doc.insertMergedLines(L,p.lines)}else if(p.action==="remove")for(T=this.others.length-1;T>=0;T--){var P;L={row:(P=this.others[T]).row,column:P.column+w},this.doc.remove(new d(L.row,L.column,L.row,L.column-c))}}this.$updating=!1,this.updateMarkers()}},this.updateAnchors=function(p){this.pos.onChange(p);for(var v=this.others.length;v--;)this.others[v].onChange(p);this.updateMarkers()},this.updateMarkers=function(){if(!this.$updating){var p=this,v=this.session,c=function(w,T){v.removeMarker(w.markerId),w.markerId=v.addMarker(new d(w.row,w.column,w.row,w.column+p.length),T,null,!1)};c(this.pos,this.mainClass);for(var x=this.others.length;x--;)c(this.others[x],this.othersClass)}},this.onCursorChange=function(p){if(!this.$updating&&this.session){var v=this.session.selection.getCursor();v.row===this.pos.row&&v.column>=this.pos.column&&v.column<=this.pos.column+this.length?(this.showOtherMarkers(),this._emit("cursorEnter",p)):(this.hideOtherMarkers(),this._emit("cursorLeave",p))}},this.detach=function(){this.session.removeMarker(this.pos&&this.pos.markerId),this.hideOtherMarkers(),this.doc.removeEventListener("change",this.$onUpdate),this.session.selection.removeEventListener("changeCursor",this.$onCursorChange),this.session.setUndoSelect(!0),this.session=null},this.cancel=function(){if(this.$undoStackDepth!==-1){for(var p=this.session.getUndoManager(),v=(p.$undoStack||p.$undostack).length-this.$undoStackDepth,c=0;c<v;c++)p.undo(this.session,!0);this.selectionBefore&&this.session.selection.fromJSON(this.selectionBefore)}}}).call(_.prototype),u.PlaceHolder=_})),ace.define("ace/mouse/multi_select_handler",["require","exports","module","ace/lib/event","ace/lib/useragent"],(function(a,u,m){var d=a("../lib/event"),b=a("../lib/useragent");function g(_,p){return _.row==p.row&&_.column==p.column}u.onMouseDown=function(_){var p=_.domEvent,v=p.altKey,c=p.shiftKey,x=p.ctrlKey,w=_.getAccelKey(),T=_.getButton();if(x&&b.isMac&&(T=p.button),_.editor.inMultiSelectMode&&T==2)_.editor.textInput.onContextMenu(_.domEvent);else if(x||v||w){if(T===0){var L,P=_.editor,C=P.selection,I=P.inMultiSelectMode,F=_.getDocumentPosition(),R=C.getCursor(),D=_.inSelection()||C.isEmpty()&&g(F,R),G=_.x,j=_.y,k=P.session,V=P.renderer.pixelToScreenCoordinates(G,j),H=V;if(P.$mouseHandler.$enableJumpToDef)x&&v||w&&v?L=c?"block":"add":v&&P.$blockSelectEnabled&&(L="block");else if(w&&!v){if(L="add",!I&&c)return}else v&&P.$blockSelectEnabled&&(L="block");if(L&&b.isMac&&p.ctrlKey&&P.$mouseHandler.cancelContextMenu(),L=="add"){if(!I&&D)return;if(!I){var te=C.toOrientedRange();P.addSelectionMarker(te)}var ne=C.rangeList.rangeAtPoint(F);P.inVirtualSelectionMode=!0,c&&(ne=null,te=C.ranges[0]||te,P.removeSelectionMarker(te)),P.once("mouseup",(function(){var me=C.toOrientedRange();ne&&me.isEmpty()&&g(ne.cursor,me.cursor)?C.substractPoint(me.cursor):(c?C.substractPoint(te.cursor):te&&(P.removeSelectionMarker(te),C.addRange(te)),C.addRange(me)),P.inVirtualSelectionMode=!1}))}else if(L=="block"){var he;_.stop(),P.inVirtualSelectionMode=!0;var ie=[],ce=function(){var me=P.renderer.pixelToScreenCoordinates(G,j),le=k.screenToDocumentPosition(me.row,me.column,me.offsetX);g(H,me)&&g(le,C.lead)||(H=me,P.selection.moveToPosition(le),P.renderer.scrollCursorIntoView(),P.removeSelectionMarkers(ie),ie=C.rectangularRangeBlock(H,V),P.$mouseHandler.$clickSelection&&ie.length==1&&ie[0].isEmpty()&&(ie[0]=P.$mouseHandler.$clickSelection.clone()),ie.forEach(P.addSelectionMarker,P),P.updateSelectionMarkers())};I&&!w?C.toSingleRange():!I&&w&&(he=C.toOrientedRange(),P.addSelectionMarker(he)),c?V=k.documentToScreenPosition(C.lead):C.moveToPosition(F),H={row:-1,column:-1};var Se=ce;d.capture(P.container,(function(me){G=me.clientX,j=me.clientY}),(function(me){ce(),clearInterval(Ee),P.removeSelectionMarkers(ie),ie.length||(ie=[C.toOrientedRange()]),he&&(P.removeSelectionMarker(he),C.toSingleRange(he));for(var le=0;le<ie.length;le++)C.addRange(ie[le]);P.inVirtualSelectionMode=!1,P.$mouseHandler.$clickSelection=null}));var Ee=setInterval((function(){Se()}),20);return _.preventDefault()}}}else T===0&&_.editor.inMultiSelectMode&&_.editor.exitMultiSelectMode()}})),ace.define("ace/commands/multi_select_commands",["require","exports","module","ace/keyboard/hash_handler"],(function(a,u,m){u.defaultCommands=[{name:"addCursorAbove",description:"Add cursor above",exec:function(b){b.selectMoreLines(-1)},bindKey:{win:"Ctrl-Alt-Up",mac:"Ctrl-Alt-Up"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorBelow",description:"Add cursor below",exec:function(b){b.selectMoreLines(1)},bindKey:{win:"Ctrl-Alt-Down",mac:"Ctrl-Alt-Down"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorAboveSkipCurrent",description:"Add cursor above (skip current)",exec:function(b){b.selectMoreLines(-1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Up",mac:"Ctrl-Alt-Shift-Up"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorBelowSkipCurrent",description:"Add cursor below (skip current)",exec:function(b){b.selectMoreLines(1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Down",mac:"Ctrl-Alt-Shift-Down"},scrollIntoView:"cursor",readOnly:!0},{name:"selectMoreBefore",description:"Select more before",exec:function(b){b.selectMore(-1)},bindKey:{win:"Ctrl-Alt-Left",mac:"Ctrl-Alt-Left"},scrollIntoView:"cursor",readOnly:!0},{name:"selectMoreAfter",description:"Select more after",exec:function(b){b.selectMore(1)},bindKey:{win:"Ctrl-Alt-Right",mac:"Ctrl-Alt-Right"},scrollIntoView:"cursor",readOnly:!0},{name:"selectNextBefore",description:"Select next before",exec:function(b){b.selectMore(-1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Left",mac:"Ctrl-Alt-Shift-Left"},scrollIntoView:"cursor",readOnly:!0},{name:"selectNextAfter",description:"Select next after",exec:function(b){b.selectMore(1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Right",mac:"Ctrl-Alt-Shift-Right"},scrollIntoView:"cursor",readOnly:!0},{name:"splitIntoLines",description:"Split into lines",exec:function(b){b.multiSelect.splitIntoLines()},bindKey:{win:"Ctrl-Alt-L",mac:"Ctrl-Alt-L"},readOnly:!0},{name:"alignCursors",description:"Align cursors",exec:function(b){b.alignCursors()},bindKey:{win:"Ctrl-Alt-A",mac:"Ctrl-Alt-A"},scrollIntoView:"cursor"},{name:"findAll",description:"Find all",exec:function(b){b.findAll()},bindKey:{win:"Ctrl-Alt-K",mac:"Ctrl-Alt-G"},scrollIntoView:"cursor",readOnly:!0}],u.multiSelectCommands=[{name:"singleSelection",description:"Single selection",bindKey:"esc",exec:function(b){b.exitMultiSelectMode()},scrollIntoView:"cursor",readOnly:!0,isAvailable:function(b){return b&&b.inMultiSelectMode}}];var d=a("../keyboard/hash_handler").HashHandler;u.keyboardHandler=new d(u.multiSelectCommands)})),ace.define("ace/multi_select",["require","exports","module","ace/range_list","ace/range","ace/selection","ace/mouse/multi_select_handler","ace/lib/event","ace/lib/lang","ace/commands/multi_select_commands","ace/search","ace/edit_session","ace/editor","ace/config"],(function(a,u,m){var d=a("./range_list").RangeList,b=a("./range").Range,g=a("./selection").Selection,_=a("./mouse/multi_select_handler").onMouseDown,p=a("./lib/event"),v=a("./lib/lang"),c=a("./commands/multi_select_commands");u.commands=c.defaultCommands.concat(c.multiSelectCommands);var x=new(a("./search")).Search,w=a("./edit_session").EditSession;(function(){this.getSelectionMarkers=function(){return this.$selectionMarkers}}).call(w.prototype),(function(){this.ranges=null,this.rangeList=null,this.addRange=function(P,C){if(P){if(!this.inMultiSelectMode&&this.rangeCount===0){var I=this.toOrientedRange();if(this.rangeList.add(I),this.rangeList.add(P),this.rangeList.ranges.length!=2)return this.rangeList.removeAll(),C||this.fromOrientedRange(P);this.rangeList.removeAll(),this.rangeList.add(I),this.$onAddRange(I)}P.cursor||(P.cursor=P.end);var F=this.rangeList.add(P);return this.$onAddRange(P),F.length&&this.$onRemoveRange(F),this.rangeCount>1&&!this.inMultiSelectMode&&(this._signal("multiSelect"),this.inMultiSelectMode=!0,this.session.$undoSelect=!1,this.rangeList.attach(this.session)),C||this.fromOrientedRange(P)}},this.toSingleRange=function(P){P=P||this.ranges[0];var C=this.rangeList.removeAll();C.length&&this.$onRemoveRange(C),P&&this.fromOrientedRange(P)},this.substractPoint=function(P){var C=this.rangeList.substractPoint(P);if(C)return this.$onRemoveRange(C),C[0]},this.mergeOverlappingRanges=function(){var P=this.rangeList.merge();P.length&&this.$onRemoveRange(P)},this.$onAddRange=function(P){this.rangeCount=this.rangeList.ranges.length,this.ranges.unshift(P),this._signal("addRange",{range:P})},this.$onRemoveRange=function(P){if(this.rangeCount=this.rangeList.ranges.length,this.rangeCount==1&&this.inMultiSelectMode){var C=this.rangeList.ranges.pop();P.push(C),this.rangeCount=0}for(var I=P.length;I--;){var F=this.ranges.indexOf(P[I]);this.ranges.splice(F,1)}this._signal("removeRange",{ranges:P}),this.rangeCount===0&&this.inMultiSelectMode&&(this.inMultiSelectMode=!1,this._signal("singleSelect"),this.session.$undoSelect=!0,this.rangeList.detach(this.session)),(C=C||this.ranges[0])&&!C.isEqual(this.getRange())&&this.fromOrientedRange(C)},this.$initRangeList=function(){this.rangeList||(this.rangeList=new d,this.ranges=[],this.rangeCount=0)},this.getAllRanges=function(){return this.rangeCount?this.rangeList.ranges.concat():[this.getRange()]},this.splitIntoLines=function(){if(this.rangeCount>1){var P=this.rangeList.ranges,C=P[P.length-1],I=b.fromPoints(P[0].start,C.end);this.toSingleRange(),this.setSelectionRange(I,C.cursor==C.start)}else{I=this.getRange();var F=this.isBackwards(),R=I.start.row,D=I.end.row;if(R==D){if(F)var G=I.end,j=I.start;else G=I.start,j=I.end;return this.addRange(b.fromPoints(j,j)),void this.addRange(b.fromPoints(G,G))}var k=[],V=this.getLineRange(R,!0);V.start.column=I.start.column,k.push(V);for(var H=R+1;H<D;H++)k.push(this.getLineRange(H,!0));(V=this.getLineRange(D,!0)).end.column=I.end.column,k.push(V),k.forEach(this.addRange,this)}},this.toggleBlockSelection=function(){if(this.rangeCount>1){var P=this.rangeList.ranges,C=P[P.length-1],I=b.fromPoints(P[0].start,C.end);this.toSingleRange(),this.setSelectionRange(I,C.cursor==C.start)}else{var F=this.session.documentToScreenPosition(this.cursor),R=this.session.documentToScreenPosition(this.anchor);this.rectangularRangeBlock(F,R).forEach(this.addRange,this)}},this.rectangularRangeBlock=function(P,C,I){var F=[],R=P.column<C.column;if(R)var D=P.column,G=C.column,j=P.offsetX,k=C.offsetX;else D=C.column,G=P.column,j=C.offsetX,k=P.offsetX;var V,H,te,ne=P.row<C.row;if(ne)var he=P.row,ie=C.row;else he=C.row,ie=P.row;D<0&&(D=0),he<0&&(he=0),he==ie&&(I=!0);for(var ce=he;ce<=ie;ce++){var Se=b.fromPoints(this.session.screenToDocumentPosition(ce,D,j),this.session.screenToDocumentPosition(ce,G,k));if(Se.isEmpty()){if(V&&(te=V,(H=Se.end).row==te.row&&H.column==te.column))break;V=Se.end}Se.cursor=R?Se.start:Se.end,F.push(Se)}if(ne&&F.reverse(),!I){for(var Ee=F.length-1;F[Ee].isEmpty()&&Ee>0;)Ee--;if(Ee>0)for(var me=0;F[me].isEmpty();)me++;for(var le=Ee;le>=me;le--)F[le].isEmpty()&&F.splice(le,1)}return F}}).call(g.prototype);var T=a("./editor").Editor;function L(P){P.$multiselectOnSessionChange||(P.$onAddRange=P.$onAddRange.bind(P),P.$onRemoveRange=P.$onRemoveRange.bind(P),P.$onMultiSelect=P.$onMultiSelect.bind(P),P.$onSingleSelect=P.$onSingleSelect.bind(P),P.$multiselectOnSessionChange=u.onSessionChange.bind(P),P.$checkMultiselectChange=P.$checkMultiselectChange.bind(P),P.$multiselectOnSessionChange(P),P.on("changeSession",P.$multiselectOnSessionChange),P.on("mousedown",_),P.commands.addCommands(c.defaultCommands),(function(C){if(C.textInput){var I=C.textInput.getElement(),F=!1;p.addListener(I,"keydown",(function(D){var G=D.keyCode==18&&!(D.ctrlKey||D.shiftKey||D.metaKey);C.$blockSelectEnabled&&G?F||(C.renderer.setMouseCursor("crosshair"),F=!0):F&&R()})),p.addListener(I,"keyup",R),p.addListener(I,"blur",R)}function R(D){F&&(C.renderer.setMouseCursor(""),F=!1)}})(P))}(function(){this.updateSelectionMarkers=function(){this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.addSelectionMarker=function(P){P.cursor||(P.cursor=P.end);var C=this.getSelectionStyle();return P.marker=this.session.addMarker(P,"ace_selection",C),this.session.$selectionMarkers.push(P),this.session.selectionMarkerCount=this.session.$selectionMarkers.length,P},this.removeSelectionMarker=function(P){if(P.marker){this.session.removeMarker(P.marker);var C=this.session.$selectionMarkers.indexOf(P);C!=-1&&this.session.$selectionMarkers.splice(C,1),this.session.selectionMarkerCount=this.session.$selectionMarkers.length}},this.removeSelectionMarkers=function(P){for(var C=this.session.$selectionMarkers,I=P.length;I--;){var F=P[I];if(F.marker){this.session.removeMarker(F.marker);var R=C.indexOf(F);R!=-1&&C.splice(R,1)}}this.session.selectionMarkerCount=C.length},this.$onAddRange=function(P){this.addSelectionMarker(P.range),this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.$onRemoveRange=function(P){this.removeSelectionMarkers(P.ranges),this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.$onMultiSelect=function(P){this.inMultiSelectMode||(this.inMultiSelectMode=!0,this.setStyle("ace_multiselect"),this.keyBinding.addKeyboardHandler(c.keyboardHandler),this.commands.setDefaultHandler("exec",this.$onMultiSelectExec),this.renderer.updateCursor(),this.renderer.updateBackMarkers())},this.$onSingleSelect=function(P){this.session.multiSelect.inVirtualMode||(this.inMultiSelectMode=!1,this.unsetStyle("ace_multiselect"),this.keyBinding.removeKeyboardHandler(c.keyboardHandler),this.commands.removeDefaultHandler("exec",this.$onMultiSelectExec),this.renderer.updateCursor(),this.renderer.updateBackMarkers(),this._emit("changeSelection"))},this.$onMultiSelectExec=function(P){var C=P.command,I=P.editor;if(I.multiSelect){if(C.multiSelectAction)C.multiSelectAction=="forEach"?F=I.forEachSelection(C,P.args):C.multiSelectAction=="forEachLine"?F=I.forEachSelection(C,P.args,!0):C.multiSelectAction=="single"?(I.exitMultiSelectMode(),F=C.exec(I,P.args||{})):F=C.multiSelectAction(I,P.args||{});else{var F=C.exec(I,P.args||{});I.multiSelect.addRange(I.multiSelect.toOrientedRange()),I.multiSelect.mergeOverlappingRanges()}return F}},this.forEachSelection=function(P,C,I){if(!this.inVirtualSelectionMode){var F,R=I&&I.keepOrder,D=I==1||I&&I.$byLines,G=this.session,j=this.selection,k=j.rangeList,V=(R?j:k).ranges;if(!V.length)return P.exec?P.exec(this,C||{}):P(this,C||{});var H=j._eventRegistry;j._eventRegistry={};var te=new g(G);this.inVirtualSelectionMode=!0;for(var ne=V.length;ne--;){if(D)for(;ne>0&&V[ne].start.row==V[ne-1].end.row;)ne--;te.fromOrientedRange(V[ne]),te.index=ne,this.selection=G.selection=te;var he=P.exec?P.exec(this,C||{}):P(this,C||{});F||he===void 0||(F=he),te.toOrientedRange(V[ne])}te.detach(),this.selection=G.selection=j,this.inVirtualSelectionMode=!1,j._eventRegistry=H,j.mergeOverlappingRanges(),j.ranges[0]&&j.fromOrientedRange(j.ranges[0]);var ie=this.renderer.$scrollAnimation;return this.onCursorChange(),this.onSelectionChange(),ie&&ie.from==ie.to&&this.renderer.animateScrolling(ie.from),F}},this.exitMultiSelectMode=function(){this.inMultiSelectMode&&!this.inVirtualSelectionMode&&this.multiSelect.toSingleRange()},this.getSelectedText=function(){var P="";if(this.inMultiSelectMode&&!this.inVirtualSelectionMode){for(var C=this.multiSelect.rangeList.ranges,I=[],F=0;F<C.length;F++)I.push(this.session.getTextRange(C[F]));var R=this.session.getDocument().getNewLineCharacter();(P=I.join(R)).length==(I.length-1)*R.length&&(P="")}else this.selection.isEmpty()||(P=this.session.getTextRange(this.getSelectionRange()));return P},this.$checkMultiselectChange=function(P,C){if(this.inMultiSelectMode&&!this.inVirtualSelectionMode){var I=this.multiSelect.ranges[0];if(this.multiSelect.isEmpty()&&C==this.multiSelect.anchor)return;var F=C==this.multiSelect.anchor?I.cursor==I.start?I.end:I.start:I.cursor;F.row!=C.row||this.session.$clipPositionToDocument(F.row,F.column).column!=C.column?this.multiSelect.toSingleRange(this.multiSelect.toOrientedRange()):this.multiSelect.mergeOverlappingRanges()}},this.findAll=function(P,C,I){if((C=C||{}).needle=P||C.needle,C.needle==null){var F=this.selection.isEmpty()?this.selection.getWordRange():this.selection.getRange();C.needle=this.session.getTextRange(F)}this.$search.set(C);var R=this.$search.findAll(this.session);if(!R.length)return 0;var D=this.multiSelect;I||D.toSingleRange(R[0]);for(var G=R.length;G--;)D.addRange(R[G],!0);return F&&D.rangeList.rangeAtPoint(F.start)&&D.addRange(F,!0),R.length},this.selectMoreLines=function(P,C){var I=this.selection.toOrientedRange(),F=I.cursor==I.end,R=this.session.documentToScreenPosition(I.cursor);this.selection.$desiredColumn&&(R.column=this.selection.$desiredColumn);var D,G=this.session.screenToDocumentPosition(R.row+P,R.column);if(I.isEmpty())k=G;else var j=this.session.documentToScreenPosition(F?I.end:I.start),k=this.session.screenToDocumentPosition(j.row+P,j.column);if(F?(D=b.fromPoints(G,k)).cursor=D.start:(D=b.fromPoints(k,G)).cursor=D.end,D.desiredColumn=R.column,this.selection.inMultiSelectMode){if(C)var V=I.cursor}else this.selection.addRange(I);this.selection.addRange(D),V&&this.selection.substractPoint(V)},this.transposeSelections=function(P){for(var C=this.session,I=C.multiSelect,F=I.ranges,R=F.length;R--;)if((j=F[R]).isEmpty()){var D=C.getWordRange(j.start.row,j.start.column);j.start.row=D.start.row,j.start.column=D.start.column,j.end.row=D.end.row,j.end.column=D.end.column}I.mergeOverlappingRanges();var G=[];for(R=F.length;R--;){var j=F[R];G.unshift(C.getTextRange(j))}for(P<0?G.unshift(G.pop()):G.push(G.shift()),R=F.length;R--;)D=(j=F[R]).clone(),C.replace(j,G[R]),j.start.row=D.start.row,j.start.column=D.start.column;I.fromOrientedRange(I.ranges[0])},this.selectMore=function(P,C,I){var F=this.session,R=F.multiSelect.toOrientedRange();if(!R.isEmpty()||((R=F.getWordRange(R.start.row,R.start.column)).cursor=P==-1?R.start:R.end,this.multiSelect.addRange(R),!I)){var D=F.getTextRange(R),G=(function(j,k,V){return x.$options.wrap=!0,x.$options.needle=k,x.$options.backwards=V==-1,x.find(j)})(F,D,P);G&&(G.cursor=P==-1?G.start:G.end,this.session.unfold(G),this.multiSelect.addRange(G),this.renderer.scrollCursorIntoView(null,.5)),C&&this.multiSelect.substractPoint(R.cursor)}},this.alignCursors=function(){var P=this.session,C=P.multiSelect,I=C.ranges,F=-1,R=I.filter((function(ce){if(ce.cursor.row==F)return!0;F=ce.cursor.row}));if(I.length&&R.length!=I.length-1){R.forEach((function(ce){C.substractPoint(ce.cursor)}));var D=0,G=1/0,j=I.map((function(ce){var Se=ce.cursor,Ee=P.getLine(Se.row).substr(Se.column).search(/\S/g);return Ee==-1&&(Ee=0),Se.column>D&&(D=Se.column),Ee<G&&(G=Ee),Ee}));I.forEach((function(ce,Se){var Ee=ce.cursor,me=D-Ee.column,le=j[Se]-G;me>le?P.insert(Ee,v.stringRepeat(" ",me-le)):P.remove(new b(Ee.row,Ee.column,Ee.row,Ee.column-me+le)),ce.start.column=ce.end.column=D,ce.start.row=ce.end.row=Ee.row,ce.cursor=ce.end})),C.fromOrientedRange(I[0]),this.renderer.updateCursor(),this.renderer.updateBackMarkers()}else{var k=this.selection.getRange(),V=k.start.row,H=k.end.row,te=V==H;if(te){var ne,he=this.session.getLength();do ne=this.session.getLine(H);while(/[=:]/.test(ne)&&++H<he);do ne=this.session.getLine(V);while(/[=:]/.test(ne)&&--V>0);V<0&&(V=0),H>=he&&(H=he-1)}var ie=this.session.removeFullLines(V,H);ie=this.$reAlignText(ie,te),this.session.insert({row:V,column:0},ie.join(`
`)+`
`),te||(k.start.column=0,k.end.column=ie[ie.length-1].length),this.selection.setRange(k)}},this.$reAlignText=function(P,C){var I,F,R,D=!0,G=!0;return P.map((function(V){var H=V.match(/(\s*)(.*?)(\s*)([=:].*)/);return H?I==null?(I=H[1].length,F=H[2].length,R=H[3].length,H):(I+F+R!=H[1].length+H[2].length+H[3].length&&(G=!1),I!=H[1].length&&(D=!1),I>H[1].length&&(I=H[1].length),F<H[2].length&&(F=H[2].length),R>H[3].length&&(R=H[3].length),H):[V]})).map(C?k:D?G?function(V){return V[2]?j(I+F-V[2].length)+V[2]+j(R)+V[4].replace(/^([=:])\s+/,"$1 "):V[0]}:k:function(V){return V[2]?j(I)+V[2]+j(R)+V[4].replace(/^([=:])\s+/,"$1 "):V[0]});function j(V){return v.stringRepeat(" ",V)}function k(V){return V[2]?j(I)+V[2]+j(F-V[2].length+R)+V[4].replace(/^([=:])\s+/,"$1 "):V[0]}}}).call(T.prototype),u.onSessionChange=function(P){var C=P.session;C&&!C.multiSelect&&(C.$selectionMarkers=[],C.selection.$initRangeList(),C.multiSelect=C.selection),this.multiSelect=C&&C.multiSelect;var I=P.oldSession;I&&(I.multiSelect.off("addRange",this.$onAddRange),I.multiSelect.off("removeRange",this.$onRemoveRange),I.multiSelect.off("multiSelect",this.$onMultiSelect),I.multiSelect.off("singleSelect",this.$onSingleSelect),I.multiSelect.lead.off("change",this.$checkMultiselectChange),I.multiSelect.anchor.off("change",this.$checkMultiselectChange)),C&&(C.multiSelect.on("addRange",this.$onAddRange),C.multiSelect.on("removeRange",this.$onRemoveRange),C.multiSelect.on("multiSelect",this.$onMultiSelect),C.multiSelect.on("singleSelect",this.$onSingleSelect),C.multiSelect.lead.on("change",this.$checkMultiselectChange),C.multiSelect.anchor.on("change",this.$checkMultiselectChange)),C&&this.inMultiSelectMode!=C.selection.inMultiSelectMode&&(C.selection.inMultiSelectMode?this.$onMultiSelect():this.$onSingleSelect())},u.MultiSelect=L,a("./config").defineOptions(T.prototype,"editor",{enableMultiselect:{set:function(P){L(this),P?(this.on("changeSession",this.$multiselectOnSessionChange),this.on("mousedown",_)):(this.off("changeSession",this.$multiselectOnSessionChange),this.off("mousedown",_))},value:!0},enableBlockSelect:{set:function(P){this.$blockSelectEnabled=P},value:!0}})})),ace.define("ace/mode/folding/fold_mode",["require","exports","module","ace/range"],(function(a,u,m){var d=a("../../range").Range,b=u.FoldMode=function(){};(function(){this.foldingStartMarker=null,this.foldingStopMarker=null,this.getFoldWidget=function(g,_,p){var v=g.getLine(p);return this.foldingStartMarker.test(v)?"start":_=="markbeginend"&&this.foldingStopMarker&&this.foldingStopMarker.test(v)?"end":""},this.getFoldWidgetRange=function(g,_,p){return null},this.indentationBlock=function(g,_,p){var v=/\S/,c=g.getLine(_),x=c.search(v);if(x!=-1){for(var w=p||c.length,T=g.getLength(),L=_,P=_;++_<T;){var C=g.getLine(_).search(v);if(C!=-1){if(C<=x){var I=g.getTokenAt(_,0);if(!I||I.type!=="string")break}P=_}}if(P>L){var F=g.getLine(P).length;return new d(L,w,P,F)}}},this.openingBracketBlock=function(g,_,p,v,c){var x={row:p,column:v+1},w=g.$findClosingBracket(_,x,c);if(w){var T=g.foldWidgets[w.row];return T==null&&(T=g.getFoldWidget(w.row)),T=="start"&&w.row>x.row&&(w.row--,w.column=g.getLine(w.row).length),d.fromPoints(x,w)}},this.closingBracketBlock=function(g,_,p,v,c){var x={row:p,column:v},w=g.$findOpeningBracket(_,x);if(w)return w.column++,x.column--,d.fromPoints(w,x)}}).call(b.prototype)})),ace.define("ace/theme/textmate",["require","exports","module","ace/lib/dom"],(function(a,u,m){u.isDark=!1,u.cssClass="ace-tm",u.cssText='.ace-tm .ace_gutter {background: #f0f0f0;color: #333;}.ace-tm .ace_print-margin {width: 1px;background: #e8e8e8;}.ace-tm .ace_fold {background-color: #6B72E6;}.ace-tm {background-color: #FFFFFF;color: black;}.ace-tm .ace_cursor {color: black;}.ace-tm .ace_invisible {color: rgb(191, 191, 191);}.ace-tm .ace_storage,.ace-tm .ace_keyword {color: blue;}.ace-tm .ace_constant {color: rgb(197, 6, 11);}.ace-tm .ace_constant.ace_buildin {color: rgb(88, 72, 246);}.ace-tm .ace_constant.ace_language {color: rgb(88, 92, 246);}.ace-tm .ace_constant.ace_library {color: rgb(6, 150, 14);}.ace-tm .ace_invalid {background-color: rgba(255, 0, 0, 0.1);color: red;}.ace-tm .ace_support.ace_function {color: rgb(60, 76, 114);}.ace-tm .ace_support.ace_constant {color: rgb(6, 150, 14);}.ace-tm .ace_support.ace_type,.ace-tm .ace_support.ace_class {color: rgb(109, 121, 222);}.ace-tm .ace_keyword.ace_operator {color: rgb(104, 118, 135);}.ace-tm .ace_string {color: rgb(3, 106, 7);}.ace-tm .ace_comment {color: rgb(76, 136, 107);}.ace-tm .ace_comment.ace_doc {color: rgb(0, 102, 255);}.ace-tm .ace_comment.ace_doc.ace_tag {color: rgb(128, 159, 191);}.ace-tm .ace_constant.ace_numeric {color: rgb(0, 0, 205);}.ace-tm .ace_variable {color: rgb(49, 132, 149);}.ace-tm .ace_xml-pe {color: rgb(104, 104, 91);}.ace-tm .ace_entity.ace_name.ace_function {color: #0000A2;}.ace-tm .ace_heading {color: rgb(12, 7, 255);}.ace-tm .ace_list {color:rgb(185, 6, 144);}.ace-tm .ace_meta.ace_tag {color:rgb(0, 22, 142);}.ace-tm .ace_string.ace_regex {color: rgb(255, 0, 0)}.ace-tm .ace_marker-layer .ace_selection {background: rgb(181, 213, 255);}.ace-tm.ace_multiselect .ace_selection.ace_start {box-shadow: 0 0 3px 0px white;}.ace-tm .ace_marker-layer .ace_step {background: rgb(252, 255, 0);}.ace-tm .ace_marker-layer .ace_stack {background: rgb(164, 229, 101);}.ace-tm .ace_marker-layer .ace_bracket {margin: -1px 0 0 -1px;border: 1px solid rgb(192, 192, 192);}.ace-tm .ace_marker-layer .ace_active-line {background: rgba(0, 0, 0, 0.07);}.ace-tm .ace_gutter-active-line {background-color : #dcdcdc;}.ace-tm .ace_marker-layer .ace_selected-word {background: rgb(250, 250, 255);border: 1px solid rgb(200, 200, 250);}.ace-tm .ace_indent-guide {background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAE0lEQVQImWP4////f4bLly//BwAmVgd1/w11/gAAAABJRU5ErkJggg==") right repeat-y;}',u.$id="ace/theme/textmate",a("../lib/dom").importCssString(u.cssText,u.cssClass)})),ace.define("ace/line_widgets",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/range"],(function(a,u,m){a("./lib/oop");var d=a("./lib/dom");function b(g){this.session=g,this.session.widgetManager=this,this.session.getRowLength=this.getRowLength,this.session.$getWidgetScreenLength=this.$getWidgetScreenLength,this.updateOnChange=this.updateOnChange.bind(this),this.renderWidgets=this.renderWidgets.bind(this),this.measureWidgets=this.measureWidgets.bind(this),this.session._changedWidgets=[],this.$onChangeEditor=this.$onChangeEditor.bind(this),this.session.on("change",this.updateOnChange),this.session.on("changeFold",this.updateOnFold),this.session.on("changeEditor",this.$onChangeEditor)}a("./range").Range,(function(){this.getRowLength=function(g){var _;return _=this.lineWidgets&&this.lineWidgets[g]&&this.lineWidgets[g].rowCount||0,this.$useWrapMode&&this.$wrapData[g]?this.$wrapData[g].length+1+_:1+_},this.$getWidgetScreenLength=function(){var g=0;return this.lineWidgets.forEach((function(_){_&&_.rowCount&&!_.hidden&&(g+=_.rowCount)})),g},this.$onChangeEditor=function(g){this.attach(g.editor)},this.attach=function(g){g&&g.widgetManager&&g.widgetManager!=this&&g.widgetManager.detach(),this.editor!=g&&(this.detach(),this.editor=g,g&&(g.widgetManager=this,g.renderer.on("beforeRender",this.measureWidgets),g.renderer.on("afterRender",this.renderWidgets)))},this.detach=function(g){var _=this.editor;if(_){this.editor=null,_.widgetManager=null,_.renderer.off("beforeRender",this.measureWidgets),_.renderer.off("afterRender",this.renderWidgets);var p=this.session.lineWidgets;p&&p.forEach((function(v){v&&v.el&&v.el.parentNode&&(v._inDocument=!1,v.el.parentNode.removeChild(v.el))}))}},this.updateOnFold=function(g,_){var p=_.lineWidgets;if(p&&g.action){for(var v=g.data,c=v.start.row,x=v.end.row,w=g.action=="add",T=c+1;T<x;T++)p[T]&&(p[T].hidden=w);p[x]&&(w?p[c]?p[x].hidden=w:p[c]=p[x]:(p[c]==p[x]&&(p[c]=void 0),p[x].hidden=w))}},this.updateOnChange=function(g){var _=this.session.lineWidgets;if(_){var p=g.start.row,v=g.end.row-p;if(v!==0)if(g.action=="remove")_.splice(p+1,v).forEach((function(x){x&&this.removeLineWidget(x)}),this),this.$updateRows();else{var c=new Array(v);c.unshift(p,0),_.splice.apply(_,c),this.$updateRows()}}},this.$updateRows=function(){var g=this.session.lineWidgets;if(g){var _=!0;g.forEach((function(p,v){if(p)for(_=!1,p.row=v;p.$oldWidget;)p.$oldWidget.row=v,p=p.$oldWidget})),_&&(this.session.lineWidgets=null)}},this.addLineWidget=function(g){this.session.lineWidgets||(this.session.lineWidgets=new Array(this.session.getLength()));var _=this.session.lineWidgets[g.row];_&&(g.$oldWidget=_,_.el&&_.el.parentNode&&(_.el.parentNode.removeChild(_.el),_._inDocument=!1)),this.session.lineWidgets[g.row]=g,g.session=this.session;var p=this.editor.renderer;g.html&&!g.el&&(g.el=d.createElement("div"),g.el.innerHTML=g.html),g.el&&(d.addCssClass(g.el,"ace_lineWidgetContainer"),g.el.style.position="absolute",g.el.style.zIndex=5,p.container.appendChild(g.el),g._inDocument=!0),g.coverGutter||(g.el.style.zIndex=3),g.pixelHeight==null&&(g.pixelHeight=g.el.offsetHeight),g.rowCount==null&&(g.rowCount=g.pixelHeight/p.layerConfig.lineHeight);var v=this.session.getFoldAt(g.row,0);if(g.$fold=v,v){var c=this.session.lineWidgets;g.row!=v.end.row||c[v.start.row]?g.hidden=!0:c[v.start.row]=g}return this.session._emit("changeFold",{data:{start:{row:g.row}}}),this.$updateRows(),this.renderWidgets(null,p),this.onWidgetChanged(g),g},this.removeLineWidget=function(g){if(g._inDocument=!1,g.session=null,g.el&&g.el.parentNode&&g.el.parentNode.removeChild(g.el),g.editor&&g.editor.destroy)try{g.editor.destroy()}catch{}if(this.session.lineWidgets){var _=this.session.lineWidgets[g.row];if(_==g)this.session.lineWidgets[g.row]=g.$oldWidget,g.$oldWidget&&this.onWidgetChanged(g.$oldWidget);else for(;_;){if(_.$oldWidget==g){_.$oldWidget=g.$oldWidget;break}_=_.$oldWidget}}this.session._emit("changeFold",{data:{start:{row:g.row}}}),this.$updateRows()},this.getWidgetsAtRow=function(g){for(var _=this.session.lineWidgets,p=_&&_[g],v=[];p;)v.push(p),p=p.$oldWidget;return v},this.onWidgetChanged=function(g){this.session._changedWidgets.push(g),this.editor&&this.editor.renderer.updateFull()},this.measureWidgets=function(g,_){var p=this.session._changedWidgets,v=_.layerConfig;if(p&&p.length){for(var c=1/0,x=0;x<p.length;x++){var w=p[x];if(w&&w.el&&w.session==this.session){if(!w._inDocument){if(this.session.lineWidgets[w.row]!=w)continue;w._inDocument=!0,_.container.appendChild(w.el)}w.h=w.el.offsetHeight,w.fixedWidth||(w.w=w.el.offsetWidth,w.screenWidth=Math.ceil(w.w/v.characterWidth));var T=w.h/v.lineHeight;w.coverLine&&(T-=this.session.getRowLineCount(w.row))<0&&(T=0),w.rowCount!=T&&(w.rowCount=T,w.row<c&&(c=w.row))}}c!=1/0&&(this.session._emit("changeFold",{data:{start:{row:c}}}),this.session.lineWidgetWidth=null),this.session._changedWidgets=[]}},this.renderWidgets=function(g,_){var p=_.layerConfig,v=this.session.lineWidgets;if(v){for(var c=Math.min(this.firstRow,p.firstRow),x=Math.max(this.lastRow,p.lastRow,v.length);c>0&&!v[c];)c--;this.firstRow=p.firstRow,this.lastRow=p.lastRow,_.$cursorLayer.config=p;for(var w=c;w<=x;w++){var T=v[w];if(T&&T.el)if(T.hidden)T.el.style.top=-100-(T.pixelHeight||0)+"px";else{T._inDocument||(T._inDocument=!0,_.container.appendChild(T.el));var L=_.$cursorLayer.getPixelPosition({row:w,column:0},!0).top;T.coverLine||(L+=p.lineHeight*this.session.getRowLineCount(T.row)),T.el.style.top=L-p.offset+"px";var P=T.coverGutter?0:_.gutterWidth;T.fixedWidth||(P-=_.scrollLeft),T.el.style.left=P+"px",T.fullWidth&&T.screenWidth&&(T.el.style.minWidth=p.width+2*p.padding+"px"),T.fixedWidth?T.el.style.right=_.scrollBar.getWidth()+"px":T.el.style.right=""}}}}}).call(b.prototype),u.LineWidgets=b})),ace.define("ace/ext/error_marker",["require","exports","module","ace/line_widgets","ace/lib/dom","ace/range"],(function(a,u,m){var d=a("../line_widgets").LineWidgets,b=a("../lib/dom"),g=a("../range").Range;u.showErrorMarker=function(_,p){var v=_.session;v.widgetManager||(v.widgetManager=new d(v),v.widgetManager.attach(_));var c=_.getCursorPosition(),x=c.row,w=v.widgetManager.getWidgetsAtRow(x).filter((function(G){return G.type=="errorMarker"}))[0];w?w.destroy():x-=p;var T,L=(function(G,j,k){var V=G.getAnnotations().sort(g.comparePoints);if(V.length){var H=(function(he,ie,ce){for(var Se=0,Ee=he.length-1;Se<=Ee;){var me=Se+Ee>>1,le=ce(ie,he[me]);if(le>0)Se=me+1;else{if(!(le<0))return me;Ee=me-1}}return-(Se+1)})(V,{row:j,column:-1},g.comparePoints);H<0&&(H=-H-1),H>=V.length?H=k>0?0:V.length-1:H===0&&k<0&&(H=V.length-1);var te=V[H];if(te&&k){if(te.row===j){do te=V[H+=k];while(te&&te.row===j);if(!te)return V.slice()}var ne=[];j=te.row;do ne[k<0?"unshift":"push"](te),te=V[H+=k];while(te&&te.row==j);return ne.length&&ne}}})(v,x,p);if(L){var P=L[0];c.column=(P.pos&&typeof P.column!="number"?P.pos.sc:P.column)||0,c.row=P.row,T=_.renderer.$gutterLayer.$annotations[c.row]}else{if(w)return;T={text:["Looks good!"],className:"ace_ok"}}_.session.unfold(c.row),_.selection.moveToPosition(c);var C={row:c.row,fixedWidth:!0,coverGutter:!0,el:b.createElement("div"),type:"errorMarker"},I=C.el.appendChild(b.createElement("div")),F=C.el.appendChild(b.createElement("div"));F.className="error_widget_arrow "+T.className;var R=_.renderer.$cursorLayer.getPixelPosition(c).left;F.style.left=R+_.renderer.gutterWidth-5+"px",C.el.className="error_widget_wrapper",I.className="error_widget "+T.className,I.innerHTML=T.text.join("<br>"),I.appendChild(b.createElement("div"));var D=function(G,j,k){if(j===0&&(k==="esc"||k==="return"))return C.destroy(),{command:"null"}};C.destroy=function(){_.$mouseHandler.isMousePressed||(_.keyBinding.removeKeyboardHandler(D),v.widgetManager.removeLineWidget(C),_.off("changeSelection",C.destroy),_.off("changeSession",C.destroy),_.off("mouseup",C.destroy),_.off("change",C.destroy))},_.keyBinding.addKeyboardHandler(D),_.on("changeSelection",C.destroy),_.on("changeSession",C.destroy),_.on("mouseup",C.destroy),_.on("change",C.destroy),_.session.widgetManager.addLineWidget(C),C.el.onmousedown=_.focus.bind(_),_.renderer.scrollCursorIntoView(null,.5,{bottom:C.el.offsetHeight})},b.importCssString("    .error_widget_wrapper {        background: inherit;        color: inherit;        border:none    }    .error_widget {        border-top: solid 2px;        border-bottom: solid 2px;        margin: 5px 0;        padding: 10px 40px;        white-space: pre-wrap;    }    .error_widget.ace_error, .error_widget_arrow.ace_error{        border-color: #ff5a5a    }    .error_widget.ace_warning, .error_widget_arrow.ace_warning{        border-color: #F1D817    }    .error_widget.ace_info, .error_widget_arrow.ace_info{        border-color: #5a5a5a    }    .error_widget.ace_ok, .error_widget_arrow.ace_ok{        border-color: #5aaa5a    }    .error_widget_arrow {        position: absolute;        border: solid 5px;        border-top-color: transparent!important;        border-right-color: transparent!important;        border-left-color: transparent!important;        top: -5px;    }","")})),ace.define("ace/ace",["require","exports","module","ace/lib/fixoldbrowsers","ace/lib/dom","ace/lib/event","ace/range","ace/editor","ace/edit_session","ace/undomanager","ace/virtual_renderer","ace/worker/worker_client","ace/keyboard/hash_handler","ace/placeholder","ace/multi_select","ace/mode/folding/fold_mode","ace/theme/textmate","ace/ext/error_marker","ace/config"],(function(a,u,m){a("./lib/fixoldbrowsers");var d=a("./lib/dom"),b=a("./lib/event"),g=a("./range").Range,_=a("./editor").Editor,p=a("./edit_session").EditSession,v=a("./undomanager").UndoManager,c=a("./virtual_renderer").VirtualRenderer;a("./worker/worker_client"),a("./keyboard/hash_handler"),a("./placeholder"),a("./multi_select"),a("./mode/folding/fold_mode"),a("./theme/textmate"),a("./ext/error_marker"),u.config=a("./config"),u.require=a,u.define=l.amdD,u.edit=function(x,w){if(typeof x=="string"){var T=x;if(!(x=document.getElementById(T)))throw new Error("ace.edit can't find div #"+T)}if(x&&x.env&&x.env.editor instanceof _)return x.env.editor;var L="";if(x&&/input|textarea/i.test(x.tagName)){var P=x;L=P.value,x=d.createElement("pre"),P.parentNode.replaceChild(x,P)}else x&&(L=x.textContent,x.innerHTML="");var C=u.createEditSession(L),I=new _(new c(x),C,w),F={document:C,editor:I,onResize:I.resize.bind(I,null)};return P&&(F.textarea=P),b.addListener(window,"resize",F.onResize),I.on("destroy",(function(){b.removeListener(window,"resize",F.onResize),F.editor.container.env=null})),I.container.env=I.env=F,I},u.createEditSession=function(x,w){var T=new p(x,w);return T.setUndoManager(new v),T},u.Range=g,u.Editor=_,u.EditSession=p,u.UndoManager=v,u.VirtualRenderer=c,u.version=u.config.version})),ace.require(["ace/ace"],(function(a){for(var u in a&&(a.config.init(!0),a.define=ace.define),window.ace||(window.ace=a),a)a.hasOwnProperty(u)&&(window.ace[u]=a[u]);window.ace.default=window.ace,s&&(s.exports=window.ace)})),s.exports={ace}},655:(s,o,l)=>{var a=l(379),u=l.n(a),m=l(795),d=l.n(m),b=l(569),g=l.n(b),_=l(565),p=l.n(_),v=l(216),c=l.n(v),x=l(589),w=l.n(x),T=l(827),L={};L.styleTagTransform=w(),L.setAttributes=p(),L.insert=g().bind(null,"html"),L.domAPI=d(),L.insertStyleElement=c(),u()(T.Z,L),T.Z&&T.Z.locals&&T.Z.locals},379:s=>{var o=[];function l(m){for(var d=-1,b=0;b<o.length;b++)if(o[b].identifier===m){d=b;break}return d}function a(m,d){for(var b={},g=[],_=0;_<m.length;_++){var p=m[_],v=d.base?p[0]+d.base:p[0],c=b[v]||0,x="".concat(v," ").concat(c);b[v]=c+1;var w=l(x),T={css:p[1],media:p[2],sourceMap:p[3],supports:p[4],layer:p[5]};if(w!==-1)o[w].references++,o[w].updater(T);else{var L=u(T,d);d.byIndex=_,o.splice(_,0,{identifier:x,updater:L,references:1})}g.push(x)}return g}function u(m,d){var b=d.domAPI(d);return b.update(m),function(g){if(g){if(g.css===m.css&&g.media===m.media&&g.sourceMap===m.sourceMap&&g.supports===m.supports&&g.layer===m.layer)return;b.update(m=g)}else b.remove()}}s.exports=function(m,d){var b=a(m=m||[],d=d||{});return function(g){g=g||[];for(var _=0;_<b.length;_++){var p=l(b[_]);o[p].references--}for(var v=a(g,d),c=0;c<b.length;c++){var x=l(b[c]);o[x].references===0&&(o[x].updater(),o.splice(x,1))}b=v}}},569:s=>{var o={};s.exports=function(l,a){var u=(function(m){if(o[m]===void 0){var d=document.querySelector(m);if(window.HTMLIFrameElement&&d instanceof window.HTMLIFrameElement)try{d=d.contentDocument.head}catch{d=null}o[m]=d}return o[m]})(l);if(!u)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");u.appendChild(a)}},216:s=>{s.exports=function(o){var l=document.createElement("style");return o.setAttributes(l,o.attributes),o.insert(l,o.options),l}},565:(s,o,l)=>{s.exports=function(a){var u=l.nc;u&&a.setAttribute("nonce",u)}},795:s=>{s.exports=function(o){var l=o.insertStyleElement(o);return{update:function(a){(function(u,m,d){var b="";d.supports&&(b+="@supports (".concat(d.supports,") {")),d.media&&(b+="@media ".concat(d.media," {"));var g=d.layer!==void 0;g&&(b+="@layer".concat(d.layer.length>0?" ".concat(d.layer):""," {")),b+=d.css,g&&(b+="}"),d.media&&(b+="}"),d.supports&&(b+="}");var _=d.sourceMap;_&&typeof btoa<"u"&&(b+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(_))))," */")),m.styleTagTransform(b,u,m.options)})(l,o,a)},remove:function(){(function(a){if(a.parentNode===null)return!1;a.parentNode.removeChild(a)})(l)}}}},589:s=>{s.exports=function(o,l){if(l.styleSheet)l.styleSheet.cssText=o;else{for(;l.firstChild;)l.removeChild(l.firstChild);l.appendChild(document.createTextNode(o))}}},986:(s,o,l)=>{l.r(o),l.d(o,{EmbeddedFrontend:()=>Ta,Spector:()=>eo});class a{static isBuildableProgram(A){return!!A&&!!A[this.rebuildProgramFunctionName]}static rebuildProgram(A,B,J,Z,be){this.isBuildableProgram(A)&&A[this.rebuildProgramFunctionName](B,J,Z,be)}}var u;a.rebuildProgramFunctionName="__SPECTOR_rebuildProgram",(function(xn){xn[xn.noLog=0]="noLog",xn[xn.error=1]="error",xn[xn.warning=2]="warning",xn[xn.info=3]="info"})(u||(u={}));class m{static error(A,...B){this.level>0&&console.error(A,B)}static warn(A,...B){this.level>1&&console.warn(A,B)}static info(A,...B){this.level>2&&console.log(A,B)}}m.level=u.warning;class d{constructor(){this.callbacks=[],this.counter=-1}add(A,B){return this.counter++,B&&(A=A.bind(B)),this.callbacks[this.counter]=A,this.counter}remove(A){delete this.callbacks[A]}clear(){this.callbacks={}}trigger(A){for(const B in this.callbacks)this.callbacks.hasOwnProperty(B)&&this.callbacks[B](A)}}class b{constructor(){if(window.performance&&window.performance.now)this.nowFunction=this.dateBasedPerformanceNow.bind(this);else{const A=new Date;this.nowFunction=A.getTime.bind(A)}}dateBasedPerformanceNow(){return performance.timing.navigationStart+performance.now()}static get now(){return b.instance.nowFunction()}}b.instance=new b;class g{constructor(A){this.options=A}appendAnalysis(A){A.analyses=A.analyses||[];const B=this.getAnalysis(A);A.analyses.push(B)}getAnalysis(A){const B={analyserName:this.analyserName};return this.appendToAnalysis(A,B),B}}class _ extends g{get analyserName(){return _.analyserName}appendToAnalysis(A,B){if(!A.commands)return;const J={};for(const be of A.commands)J[be.name]=J[be.name]||0,J[be.name]++;const Z=Object.keys(J).map((be=>[be,J[be]]));Z.sort(((be,Ne)=>{const O=Ne[1]-be[1];return O===0?be[0].localeCompare(Ne[0]):O}));for(const be of Z)B[be[0]]=be[1]}}_.analyserName="Commands";const p=["drawArrays","drawElements","drawArraysInstanced","drawArraysInstancedANGLE","drawElementsInstanced","drawElementsInstancedANGLE","drawRangeElements","multiDrawArraysWEBGL","multiDrawElementsWEBGL","multiDrawArraysInstancedWEBGL","multiDrawElementsInstancedWEBGL","multiDrawArraysInstancedBaseInstanceWEBGL","multiDrawElementsInstancedBaseVertexBaseInstanceWEBGL","drawArraysInstancedBaseInstanceWEBGL","drawElementsInstancedBaseVertexBaseInstanceWEBGL"];class v extends g{get analyserName(){return v.analyserName}appendToAnalysis(A,B){if(A.commands){B.total=A.commands.length,B.draw=0,B.clear=0;for(const J of A.commands)J.name==="clear"?B.clear++:p.indexOf(J.name)>-1&&B.draw++}}}v.analyserName="CommandsSummary";class c{static isWebGlConstant(A){return w[A]!==null&&w[A]!==void 0}static stringifyWebGlConstant(A,B){if(A==null)return"";if(A===0)return this.zeroMeaningByCommand[B]||"0";if(A===1)return this.oneMeaningByCommand[B]||"1";const J=w[A];return J?J.name:A+""}}c.DEPTH_BUFFER_BIT={name:"DEPTH_BUFFER_BIT",value:256,description:"Passed to clear to clear the current depth buffer."},c.STENCIL_BUFFER_BIT={name:"STENCIL_BUFFER_BIT",value:1024,description:"Passed to clear to clear the current stencil buffer."},c.COLOR_BUFFER_BIT={name:"COLOR_BUFFER_BIT",value:16384,description:"Passed to clear to clear the current color buffer."},c.POINTS={name:"POINTS",value:0,description:"Passed to drawElements or drawArrays to draw single points."},c.LINES={name:"LINES",value:1,description:"Passed to drawElements or drawArrays to draw lines. Each vertex connects to the one after it."},c.LINE_LOOP={name:"LINE_LOOP",value:2,description:"Passed to drawElements or drawArrays to draw lines. Each set of two vertices is treated as a separate line segment."},c.LINE_STRIP={name:"LINE_STRIP",value:3,description:"Passed to drawElements or drawArrays to draw a connected group of line segments from the first vertex to the last."},c.TRIANGLES={name:"TRIANGLES",value:4,description:"Passed to drawElements or drawArrays to draw triangles. Each set of three vertices creates a separate triangle."},c.TRIANGLE_STRIP={name:"TRIANGLE_STRIP",value:5,description:"Passed to drawElements or drawArrays to draw a connected group of triangles."},c.TRIANGLE_FAN={name:"TRIANGLE_FAN",value:6,description:"Passed to drawElements or drawArrays to draw a connected group of triangles. Each vertex connects to the previous and the first vertex in the fan."},c.ZERO={name:"ZERO",value:0,description:"Passed to blendFunc or blendFuncSeparate to turn off a component."},c.ONE={name:"ONE",value:1,description:"Passed to blendFunc or blendFuncSeparate to turn on a component."},c.SRC_COLOR={name:"SRC_COLOR",value:768,description:"Passed to blendFunc or blendFuncSeparate to multiply a component by the source elements color."},c.ONE_MINUS_SRC_COLOR={name:"ONE_MINUS_SRC_COLOR",value:769,description:"Passed to blendFunc or blendFuncSeparate to multiply a component by one minus the source elements color."},c.SRC_ALPHA={name:"SRC_ALPHA",value:770,description:"Passed to blendFunc or blendFuncSeparate to multiply a component by the source's alpha."},c.ONE_MINUS_SRC_ALPHA={name:"ONE_MINUS_SRC_ALPHA",value:771,description:"Passed to blendFunc or blendFuncSeparate to multiply a component by one minus the source's alpha."},c.DST_ALPHA={name:"DST_ALPHA",value:772,description:"Passed to blendFunc or blendFuncSeparate to multiply a component by the destination's alpha."},c.ONE_MINUS_DST_ALPHA={name:"ONE_MINUS_DST_ALPHA",value:773,description:"Passed to blendFunc or blendFuncSeparate to multiply a component by one minus the destination's alpha."},c.DST_COLOR={name:"DST_COLOR",value:774,description:"Passed to blendFunc or blendFuncSeparate to multiply a component by the destination's color."},c.ONE_MINUS_DST_COLOR={name:"ONE_MINUS_DST_COLOR",value:775,description:"Passed to blendFunc or blendFuncSeparate to multiply a component by one minus the destination's color."},c.SRC_ALPHA_SATURATE={name:"SRC_ALPHA_SATURATE",value:776,description:"Passed to blendFunc or blendFuncSeparate to multiply a component by the minimum of source's alpha or one minus the destination's alpha."},c.CONSTANT_COLOR={name:"CONSTANT_COLOR",value:32769,description:"Passed to blendFunc or blendFuncSeparate to specify a constant color blend function."},c.ONE_MINUS_CONSTANT_COLOR={name:"ONE_MINUS_CONSTANT_COLOR",value:32770,description:"Passed to blendFunc or blendFuncSeparate to specify one minus a constant color blend function."},c.CONSTANT_ALPHA={name:"CONSTANT_ALPHA",value:32771,description:"Passed to blendFunc or blendFuncSeparate to specify a constant alpha blend function."},c.ONE_MINUS_CONSTANT_ALPHA={name:"ONE_MINUS_CONSTANT_ALPHA",value:32772,description:"Passed to blendFunc or blendFuncSeparate to specify one minus a constant alpha blend function."},c.FUNC_ADD={name:"FUNC_ADD",value:32774,description:"Passed to blendEquation or blendEquationSeparate to set an addition blend function."},c.FUNC_SUBSTRACT={name:"FUNC_SUBSTRACT",value:32778,description:"Passed to blendEquation or blendEquationSeparate to specify a subtraction blend function (source - destination)."},c.FUNC_REVERSE_SUBTRACT={name:"FUNC_REVERSE_SUBTRACT",value:32779,description:"Passed to blendEquation or blendEquationSeparate to specify a reverse subtraction blend function (destination - source)."},c.BLEND_EQUATION={name:"BLEND_EQUATION",value:32777,description:"Passed to getParameter to get the current RGB blend function."},c.BLEND_EQUATION_RGB={name:"BLEND_EQUATION_RGB",value:32777,description:"Passed to getParameter to get the current RGB blend function. Same as BLEND_EQUATION"},c.BLEND_EQUATION_ALPHA={name:"BLEND_EQUATION_ALPHA",value:34877,description:"Passed to getParameter to get the current alpha blend function. Same as BLEND_EQUATION"},c.BLEND_DST_RGB={name:"BLEND_DST_RGB",value:32968,description:"Passed to getParameter to get the current destination RGB blend function."},c.BLEND_SRC_RGB={name:"BLEND_SRC_RGB",value:32969,description:"Passed to getParameter to get the current destination RGB blend function."},c.BLEND_DST_ALPHA={name:"BLEND_DST_ALPHA",value:32970,description:"Passed to getParameter to get the current destination alpha blend function."},c.BLEND_SRC_ALPHA={name:"BLEND_SRC_ALPHA",value:32971,description:"Passed to getParameter to get the current source alpha blend function."},c.BLEND_COLOR={name:"BLEND_COLOR",value:32773,description:"Passed to getParameter to return a the current blend color."},c.ARRAY_BUFFER_BINDING={name:"ARRAY_BUFFER_BINDING",value:34964,description:"Passed to getParameter to get the array buffer binding."},c.ELEMENT_ARRAY_BUFFER_BINDING={name:"ELEMENT_ARRAY_BUFFER_BINDING",value:34965,description:"Passed to getParameter to get the current element array buffer."},c.LINE_WIDTH={name:"LINE_WIDTH",value:2849,description:"Passed to getParameter to get the current lineWidth (set by the lineWidth method)."},c.ALIASED_POINT_SIZE_RANGE={name:"ALIASED_POINT_SIZE_RANGE",value:33901,description:"Passed to getParameter to get the current size of a point drawn with gl.POINTS"},c.ALIASED_LINE_WIDTH_RANGE={name:"ALIASED_LINE_WIDTH_RANGE",value:33902,description:"Passed to getParameter to get the range of available widths for a line. Returns a length-2 array with the lo value at 0, and hight at 1."},c.CULL_FACE_MODE={name:"CULL_FACE_MODE",value:2885,description:"Passed to getParameter to get the current value of cullFace. Should return FRONT, BACK, or FRONT_AND_BACK"},c.FRONT_FACE={name:"FRONT_FACE",value:2886,description:"Passed to getParameter to determine the current value of frontFace. Should return CW or CCW."},c.DEPTH_RANGE={name:"DEPTH_RANGE",value:2928,description:"Passed to getParameter to return a length-2 array of floats giving the current depth range."},c.DEPTH_WRITEMASK={name:"DEPTH_WRITEMASK",value:2930,description:"Passed to getParameter to determine if the depth write mask is enabled."},c.DEPTH_CLEAR_VALUE={name:"DEPTH_CLEAR_VALUE",value:2931,description:"Passed to getParameter to determine the current depth clear value."},c.DEPTH_FUNC={name:"DEPTH_FUNC",value:2932,description:"Passed to getParameter to get the current depth function. Returns NEVER, ALWAYS, LESS, EQUAL, LEQUAL, GREATER, GEQUAL, or NOTEQUAL."},c.STENCIL_CLEAR_VALUE={name:"STENCIL_CLEAR_VALUE",value:2961,description:"Passed to getParameter to get the value the stencil will be cleared to."},c.STENCIL_FUNC={name:"STENCIL_FUNC",value:2962,description:"Passed to getParameter to get the current stencil function. Returns NEVER, ALWAYS, LESS, EQUAL, LEQUAL, GREATER, GEQUAL, or NOTEQUAL."},c.STENCIL_FAIL={name:"STENCIL_FAIL",value:2964,description:"Passed to getParameter to get the current stencil fail function. Should return KEEP, REPLACE, INCR, DECR, INVERT, INCR_WRAP, or DECR_WRAP."},c.STENCIL_PASS_DEPTH_FAIL={name:"STENCIL_PASS_DEPTH_FAIL",value:2965,description:"Passed to getParameter to get the current stencil fail function should the depth buffer test fail. Should return KEEP, REPLACE, INCR, DECR, INVERT, INCR_WRAP, or DECR_WRAP."},c.STENCIL_PASS_DEPTH_PASS={name:"STENCIL_PASS_DEPTH_PASS",value:2966,description:"Passed to getParameter to get the current stencil fail function should the depth buffer test pass. Should return KEEP, REPLACE, INCR, DECR, INVERT, INCR_WRAP, or DECR_WRAP."},c.STENCIL_REF={name:"STENCIL_REF",value:2967,description:"Passed to getParameter to get the reference value used for stencil tests."},c.STENCIL_VALUE_MASK={name:"STENCIL_VALUE_MASK",value:2963,description:" "},c.STENCIL_WRITEMASK={name:"STENCIL_WRITEMASK",value:2968,description:" "},c.STENCIL_BACK_FUNC={name:"STENCIL_BACK_FUNC",value:34816,description:" "},c.STENCIL_BACK_FAIL={name:"STENCIL_BACK_FAIL",value:34817,description:" "},c.STENCIL_BACK_PASS_DEPTH_FAIL={name:"STENCIL_BACK_PASS_DEPTH_FAIL",value:34818,description:" "},c.STENCIL_BACK_PASS_DEPTH_PASS={name:"STENCIL_BACK_PASS_DEPTH_PASS",value:34819,description:" "},c.STENCIL_BACK_REF={name:"STENCIL_BACK_REF",value:36003,description:" "},c.STENCIL_BACK_VALUE_MASK={name:"STENCIL_BACK_VALUE_MASK",value:36004,description:" "},c.STENCIL_BACK_WRITEMASK={name:"STENCIL_BACK_WRITEMASK",value:36005,description:" "},c.VIEWPORT={name:"VIEWPORT",value:2978,description:"Returns an Int32Array with four elements for the current viewport dimensions."},c.SCISSOR_BOX={name:"SCISSOR_BOX",value:3088,description:"Returns an Int32Array with four elements for the current scissor box dimensions."},c.COLOR_CLEAR_VALUE={name:"COLOR_CLEAR_VALUE",value:3106,description:" "},c.COLOR_WRITEMASK={name:"COLOR_WRITEMASK",value:3107,description:" "},c.UNPACK_ALIGNMENT={name:"UNPACK_ALIGNMENT",value:3317,description:" "},c.PACK_ALIGNMENT={name:"PACK_ALIGNMENT",value:3333,description:" "},c.MAX_TEXTURE_SIZE={name:"MAX_TEXTURE_SIZE",value:3379,description:" "},c.MAX_VIEWPORT_DIMS={name:"MAX_VIEWPORT_DIMS",value:3386,description:" "},c.SUBPIXEL_BITS={name:"SUBPIXEL_BITS",value:3408,description:" "},c.RED_BITS={name:"RED_BITS",value:3410,description:" "},c.GREEN_BITS={name:"GREEN_BITS",value:3411,description:" "},c.BLUE_BITS={name:"BLUE_BITS",value:3412,description:" "},c.ALPHA_BITS={name:"ALPHA_BITS",value:3413,description:" "},c.DEPTH_BITS={name:"DEPTH_BITS",value:3414,description:" "},c.STENCIL_BITS={name:"STENCIL_BITS",value:3415,description:" "},c.POLYGON_OFFSET_UNITS={name:"POLYGON_OFFSET_UNITS",value:10752,description:" "},c.POLYGON_OFFSET_FACTOR={name:"POLYGON_OFFSET_FACTOR",value:32824,description:" "},c.TEXTURE_BINDING_2D={name:"TEXTURE_BINDING_2D",value:32873,description:" "},c.SAMPLE_BUFFERS={name:"SAMPLE_BUFFERS",value:32936,description:" "},c.SAMPLES={name:"SAMPLES",value:32937,description:" "},c.SAMPLE_COVERAGE_VALUE={name:"SAMPLE_COVERAGE_VALUE",value:32938,description:" "},c.SAMPLE_COVERAGE_INVERT={name:"SAMPLE_COVERAGE_INVERT",value:32939,description:" "},c.COMPRESSED_TEXTURE_FORMATS={name:"COMPRESSED_TEXTURE_FORMATS",value:34467,description:" "},c.VENDOR={name:"VENDOR",value:7936,description:" "},c.RENDERER={name:"RENDERER",value:7937,description:" "},c.VERSION={name:"VERSION",value:7938,description:" "},c.IMPLEMENTATION_COLOR_READ_TYPE={name:"IMPLEMENTATION_COLOR_READ_TYPE",value:35738,description:" "},c.IMPLEMENTATION_COLOR_READ_FORMAT={name:"IMPLEMENTATION_COLOR_READ_FORMAT",value:35739,description:" "},c.BROWSER_DEFAULT_WEBGL={name:"BROWSER_DEFAULT_WEBGL",value:37444,description:" "},c.STATIC_DRAW={name:"STATIC_DRAW",value:35044,description:"Passed to bufferData as a hint about whether the contents of the buffer are likely to be used often and not change often."},c.STREAM_DRAW={name:"STREAM_DRAW",value:35040,description:"Passed to bufferData as a hint about whether the contents of the buffer are likely to not be used often."},c.DYNAMIC_DRAW={name:"DYNAMIC_DRAW",value:35048,description:"Passed to bufferData as a hint about whether the contents of the buffer are likely to be used often and change often."},c.ARRAY_BUFFER={name:"ARRAY_BUFFER",value:34962,description:"Passed to bindBuffer or bufferData to specify the type of buffer being used."},c.ELEMENT_ARRAY_BUFFER={name:"ELEMENT_ARRAY_BUFFER",value:34963,description:"Passed to bindBuffer or bufferData to specify the type of buffer being used."},c.BUFFER_SIZE={name:"BUFFER_SIZE",value:34660,description:"Passed to getBufferParameter to get a buffer's size."},c.BUFFER_USAGE={name:"BUFFER_USAGE",value:34661,description:"Passed to getBufferParameter to get the hint for the buffer passed in when it was created."},c.CURRENT_VERTEX_ATTRIB={name:"CURRENT_VERTEX_ATTRIB",value:34342,description:"Passed to getVertexAttrib to read back the current vertex attribute."},c.VERTEX_ATTRIB_ARRAY_ENABLED={name:"VERTEX_ATTRIB_ARRAY_ENABLED",value:34338,description:" "},c.VERTEX_ATTRIB_ARRAY_SIZE={name:"VERTEX_ATTRIB_ARRAY_SIZE",value:34339,description:" "},c.VERTEX_ATTRIB_ARRAY_STRIDE={name:"VERTEX_ATTRIB_ARRAY_STRIDE",value:34340,description:" "},c.VERTEX_ATTRIB_ARRAY_TYPE={name:"VERTEX_ATTRIB_ARRAY_TYPE",value:34341,description:" "},c.VERTEX_ATTRIB_ARRAY_NORMALIZED={name:"VERTEX_ATTRIB_ARRAY_NORMALIZED",value:34922,description:" "},c.VERTEX_ATTRIB_ARRAY_POINTER={name:"VERTEX_ATTRIB_ARRAY_POINTER",value:34373,description:" "},c.VERTEX_ATTRIB_ARRAY_BUFFER_BINDING={name:"VERTEX_ATTRIB_ARRAY_BUFFER_BINDING",value:34975,description:" "},c.CULL_FACE={name:"CULL_FACE",value:2884,description:"Passed to enable/disable to turn on/off culling. Can also be used with getParameter to find the current culling method."},c.FRONT={name:"FRONT",value:1028,description:"Passed to cullFace to specify that only front faces should be drawn."},c.BACK={name:"BACK",value:1029,description:"Passed to cullFace to specify that only back faces should be drawn."},c.FRONT_AND_BACK={name:"FRONT_AND_BACK",value:1032,description:"Passed to cullFace to specify that front and back faces should be drawn."},c.BLEND={name:"BLEND",value:3042,description:"Passed to enable/disable to turn on/off blending. Can also be used with getParameter to find the current blending method."},c.DEPTH_TEST={name:"DEPTH_TEST",value:2929,description:"Passed to enable/disable to turn on/off the depth test. Can also be used with getParameter to query the depth test."},c.DITHER={name:"DITHER",value:3024,description:"Passed to enable/disable to turn on/off dithering. Can also be used with getParameter to find the current dithering method."},c.POLYGON_OFFSET_FILL={name:"POLYGON_OFFSET_FILL",value:32823,description:"Passed to enable/disable to turn on/off the polygon offset. Useful for rendering hidden-line images, decals, and or solids with highlighted edges. Can also be used with getParameter to query the scissor test."},c.SAMPLE_ALPHA_TO_COVERAGE={name:"SAMPLE_ALPHA_TO_COVERAGE",value:32926,description:"Passed to enable/disable to turn on/off the alpha to coverage. Used in multi-sampling alpha channels."},c.SAMPLE_COVERAGE={name:"SAMPLE_COVERAGE",value:32928,description:"Passed to enable/disable to turn on/off the sample coverage. Used in multi-sampling."},c.SCISSOR_TEST={name:"SCISSOR_TEST",value:3089,description:"Passed to enable/disable to turn on/off the scissor test. Can also be used with getParameter to query the scissor test."},c.STENCIL_TEST={name:"STENCIL_TEST",value:2960,description:"Passed to enable/disable to turn on/off the stencil test. Can also be used with getParameter to query the stencil test."},c.NO_ERROR={name:"NO_ERROR",value:0,description:"Returned from getError."},c.INVALID_ENUM={name:"INVALID_ENUM",value:1280,description:"Returned from getError."},c.INVALID_VALUE={name:"INVALID_VALUE",value:1281,description:"Returned from getError."},c.INVALID_OPERATION={name:"INVALID_OPERATION",value:1282,description:"Returned from getError."},c.OUT_OF_MEMORY={name:"OUT_OF_MEMORY",value:1285,description:"Returned from getError."},c.CONTEXT_LOST_WEBGL={name:"CONTEXT_LOST_WEBGL",value:37442,description:"Returned from getError."},c.CW={name:"CW",value:2304,description:"Passed to frontFace to specify the front face of a polygon is drawn in the clockwise direction"},c.CCW={name:"CCW",value:2305,description:"Passed to frontFace to specify the front face of a polygon is drawn in the counter clockwise direction"},c.DONT_CARE={name:"DONT_CARE",value:4352,description:"There is no preference for this behavior."},c.FASTEST={name:"FASTEST",value:4353,description:"The most efficient behavior should be used."},c.NICEST={name:"NICEST",value:4354,description:"The most correct or the highest quality option should be used."},c.GENERATE_MIPMAP_HINT={name:"GENERATE_MIPMAP_HINT",value:33170,description:"Hint for the quality of filtering when generating mipmap images with WebGLRenderingContext.generateMipmap()."},c.BYTE={name:"BYTE",value:5120,description:" "},c.UNSIGNED_BYTE={name:"UNSIGNED_BYTE",value:5121,description:" "},c.SHORT={name:"SHORT",value:5122,description:" "},c.UNSIGNED_SHORT={name:"UNSIGNED_SHORT",value:5123,description:" "},c.INT={name:"INT",value:5124,description:" "},c.UNSIGNED_INT={name:"UNSIGNED_INT",value:5125,description:" "},c.FLOAT={name:"FLOAT",value:5126,description:" "},c.DEPTH_COMPONENT={name:"DEPTH_COMPONENT",value:6402,description:" "},c.ALPHA={name:"ALPHA",value:6406,description:" "},c.RGB={name:"RGB",value:6407,description:" "},c.RGBA={name:"RGBA",value:6408,description:" "},c.LUMINANCE={name:"LUMINANCE",value:6409,description:" "},c.LUMINANCE_ALPHA={name:"LUMINANCE_ALPHA",value:6410,description:" "},c.UNSIGNED_SHORT_4_4_4_4={name:"UNSIGNED_SHORT_4_4_4_4",value:32819,description:" "},c.UNSIGNED_SHORT_5_5_5_1={name:"UNSIGNED_SHORT_5_5_5_1",value:32820,description:" "},c.UNSIGNED_SHORT_5_6_5={name:"UNSIGNED_SHORT_5_6_5",value:33635,description:" "},c.FRAGMENT_SHADER={name:"FRAGMENT_SHADER",value:35632,description:"Passed to createShader to define a fragment shader."},c.VERTEX_SHADER={name:"VERTEX_SHADER",value:35633,description:"Passed to createShader to define a vertex shader"},c.COMPILE_STATUS={name:"COMPILE_STATUS",value:35713,description:"Passed to getShaderParamter to get the status of the compilation. Returns false if the shader was not compiled. You can then query getShaderInfoLog to find the exact error"},c.DELETE_STATUS={name:"DELETE_STATUS",value:35712,description:"Passed to getShaderParamter to determine if a shader was deleted via deleteShader. Returns true if it was, false otherwise."},c.LINK_STATUS={name:"LINK_STATUS",value:35714,description:"Passed to getProgramParameter after calling linkProgram to determine if a program was linked correctly. Returns false if there were errors. Use getProgramInfoLog to find the exact error."},c.VALIDATE_STATUS={name:"VALIDATE_STATUS",value:35715,description:"Passed to getProgramParameter after calling validateProgram to determine if it is valid. Returns false if errors were found."},c.ATTACHED_SHADERS={name:"ATTACHED_SHADERS",value:35717,description:"Passed to getProgramParameter after calling attachShader to determine if the shader was attached correctly. Returns false if errors occurred."},c.ACTIVE_ATTRIBUTES={name:"ACTIVE_ATTRIBUTES",value:35721,description:"Passed to getProgramParameter to get the number of attributes active in a program."},c.ACTIVE_UNIFORMS={name:"ACTIVE_UNIFORMS",value:35718,description:"Passed to getProgramParamter to get the number of uniforms active in a program."},c.MAX_VERTEX_ATTRIBS={name:"MAX_VERTEX_ATTRIBS",value:34921,description:" "},c.MAX_VERTEX_UNIFORM_VECTORS={name:"MAX_VERTEX_UNIFORM_VECTORS",value:36347,description:" "},c.MAX_VARYING_VECTORS={name:"MAX_VARYING_VECTORS",value:36348,description:" "},c.MAX_COMBINED_TEXTURE_IMAGE_UNITS={name:"MAX_COMBINED_TEXTURE_IMAGE_UNITS",value:35661,description:" "},c.MAX_VERTEX_TEXTURE_IMAGE_UNITS={name:"MAX_VERTEX_TEXTURE_IMAGE_UNITS",value:35660,description:" "},c.MAX_TEXTURE_IMAGE_UNITS={name:"MAX_TEXTURE_IMAGE_UNITS",value:34930,description:"Implementation dependent number of maximum texture units. At least 8."},c.MAX_FRAGMENT_UNIFORM_VECTORS={name:"MAX_FRAGMENT_UNIFORM_VECTORS",value:36349,description:" "},c.SHADER_TYPE={name:"SHADER_TYPE",value:35663,description:" "},c.SHADING_LANGUAGE_VERSION={name:"SHADING_LANGUAGE_VERSION",value:35724,description:" "},c.CURRENT_PROGRAM={name:"CURRENT_PROGRAM",value:35725,description:" "},c.NEVER={name:"NEVER",value:512,description:"Passed to depthFunction or stencilFunction to specify depth or stencil tests will never pass. i.e. Nothing will be drawn."},c.ALWAYS={name:"ALWAYS",value:519,description:"Passed to depthFunction or stencilFunction to specify depth or stencil tests will always pass. i.e. Pixels will be drawn in the order they are drawn."},c.LESS={name:"LESS",value:513,description:"Passed to depthFunction or stencilFunction to specify depth or stencil tests will pass if the new depth value is less than the stored value."},c.EQUAL={name:"EQUAL",value:514,description:"Passed to depthFunction or stencilFunction to specify depth or stencil tests will pass if the new depth value is equals to the stored value."},c.LEQUAL={name:"LEQUAL",value:515,description:"Passed to depthFunction or stencilFunction to specify depth or stencil tests will pass if the new depth value is less than or equal to the stored value."},c.GREATER={name:"GREATER",value:516,description:"Passed to depthFunction or stencilFunction to specify depth or stencil tests will pass if the new depth value is greater than the stored value."},c.GEQUAL={name:"GEQUAL",value:518,description:"Passed to depthFunction or stencilFunction to specify depth or stencil tests will pass if the new depth value is greater than or equal to the stored value."},c.NOTEQUAL={name:"NOTEQUAL",value:517,description:"Passed to depthFunction or stencilFunction to specify depth or stencil tests will pass if the new depth value is not equal to the stored value."},c.KEEP={name:"KEEP",value:7680,description:" "},c.REPLACE={name:"REPLACE",value:7681,description:" "},c.INCR={name:"INCR",value:7682,description:" "},c.DECR={name:"DECR",value:7683,description:" "},c.INVERT={name:"INVERT",value:5386,description:" "},c.INCR_WRAP={name:"INCR_WRAP",value:34055,description:" "},c.DECR_WRAP={name:"DECR_WRAP",value:34056,description:" "},c.NEAREST={name:"NEAREST",value:9728,description:" "},c.LINEAR={name:"LINEAR",value:9729,description:" "},c.NEAREST_MIPMAP_NEAREST={name:"NEAREST_MIPMAP_NEAREST",value:9984,description:" "},c.LINEAR_MIPMAP_NEAREST={name:"LINEAR_MIPMAP_NEAREST",value:9985,description:" "},c.NEAREST_MIPMAP_LINEAR={name:"NEAREST_MIPMAP_LINEAR",value:9986,description:" "},c.LINEAR_MIPMAP_LINEAR={name:"LINEAR_MIPMAP_LINEAR",value:9987,description:" "},c.TEXTURE_MAG_FILTER={name:"TEXTURE_MAG_FILTER",value:10240,description:" "},c.TEXTURE_MIN_FILTER={name:"TEXTURE_MIN_FILTER",value:10241,description:" "},c.TEXTURE_WRAP_S={name:"TEXTURE_WRAP_S",value:10242,description:" "},c.TEXTURE_WRAP_T={name:"TEXTURE_WRAP_T",value:10243,description:" "},c.TEXTURE_2D={name:"TEXTURE_2D",value:3553,description:" "},c.TEXTURE={name:"TEXTURE",value:5890,description:" "},c.TEXTURE_CUBE_MAP={name:"TEXTURE_CUBE_MAP",value:34067,description:" "},c.TEXTURE_BINDING_CUBE_MAP={name:"TEXTURE_BINDING_CUBE_MAP",value:34068,description:" "},c.TEXTURE_CUBE_MAP_POSITIVE_X={name:"TEXTURE_CUBE_MAP_POSITIVE_X",value:34069,description:" "},c.TEXTURE_CUBE_MAP_NEGATIVE_X={name:"TEXTURE_CUBE_MAP_NEGATIVE_X",value:34070,description:" "},c.TEXTURE_CUBE_MAP_POSITIVE_Y={name:"TEXTURE_CUBE_MAP_POSITIVE_Y",value:34071,description:" "},c.TEXTURE_CUBE_MAP_NEGATIVE_Y={name:"TEXTURE_CUBE_MAP_NEGATIVE_Y",value:34072,description:" "},c.TEXTURE_CUBE_MAP_POSITIVE_Z={name:"TEXTURE_CUBE_MAP_POSITIVE_Z",value:34073,description:" "},c.TEXTURE_CUBE_MAP_NEGATIVE_Z={name:"TEXTURE_CUBE_MAP_NEGATIVE_Z",value:34074,description:" "},c.MAX_CUBE_MAP_TEXTURE_SIZE={name:"MAX_CUBE_MAP_TEXTURE_SIZE",value:34076,description:" "},c.TEXTURE0={name:"TEXTURE0",value:33984,description:"A texture unit."},c.TEXTURE1={name:"TEXTURE1",value:33985,description:"A texture unit."},c.TEXTURE2={name:"TEXTURE2",value:33986,description:"A texture unit."},c.TEXTURE3={name:"TEXTURE3",value:33987,description:"A texture unit."},c.TEXTURE4={name:"TEXTURE4",value:33988,description:"A texture unit."},c.TEXTURE5={name:"TEXTURE5",value:33989,description:"A texture unit."},c.TEXTURE6={name:"TEXTURE6",value:33990,description:"A texture unit."},c.TEXTURE7={name:"TEXTURE7",value:33991,description:"A texture unit."},c.TEXTURE8={name:"TEXTURE8",value:33992,description:"A texture unit."},c.TEXTURE9={name:"TEXTURE9",value:33993,description:"A texture unit."},c.TEXTURE10={name:"TEXTURE10",value:33994,description:"A texture unit."},c.TEXTURE11={name:"TEXTURE11",value:33995,description:"A texture unit."},c.TEXTURE12={name:"TEXTURE12",value:33996,description:"A texture unit."},c.TEXTURE13={name:"TEXTURE13",value:33997,description:"A texture unit."},c.TEXTURE14={name:"TEXTURE14",value:33998,description:"A texture unit."},c.TEXTURE15={name:"TEXTURE15",value:33999,description:"A texture unit."},c.TEXTURE16={name:"TEXTURE16",value:34e3,description:"A texture unit."},c.TEXTURE17={name:"TEXTURE17",value:34001,description:"A texture unit."},c.TEXTURE18={name:"TEXTURE18",value:34002,description:"A texture unit."},c.TEXTURE19={name:"TEXTURE19",value:34003,description:"A texture unit."},c.TEXTURE20={name:"TEXTURE20",value:34004,description:"A texture unit."},c.TEXTURE21={name:"TEXTURE21",value:34005,description:"A texture unit."},c.TEXTURE22={name:"TEXTURE22",value:34006,description:"A texture unit."},c.TEXTURE23={name:"TEXTURE23",value:34007,description:"A texture unit."},c.TEXTURE24={name:"TEXTURE24",value:34008,description:"A texture unit."},c.TEXTURE25={name:"TEXTURE25",value:34009,description:"A texture unit."},c.TEXTURE26={name:"TEXTURE26",value:34010,description:"A texture unit."},c.TEXTURE27={name:"TEXTURE27",value:34011,description:"A texture unit."},c.TEXTURE28={name:"TEXTURE28",value:34012,description:"A texture unit."},c.TEXTURE29={name:"TEXTURE29",value:34013,description:"A texture unit."},c.TEXTURE30={name:"TEXTURE30",value:34014,description:"A texture unit."},c.TEXTURE31={name:"TEXTURE31",value:34015,description:"A texture unit."},c.ACTIVE_TEXTURE={name:"ACTIVE_TEXTURE",value:34016,description:"The current active texture unit."},c.REPEAT={name:"REPEAT",value:10497,description:" "},c.CLAMP_TO_EDGE={name:"CLAMP_TO_EDGE",value:33071,description:" "},c.MIRRORED_REPEAT={name:"MIRRORED_REPEAT",value:33648,description:" "},c.FLOAT_VEC2={name:"FLOAT_VEC2",value:35664,description:" "},c.FLOAT_VEC3={name:"FLOAT_VEC3",value:35665,description:" "},c.FLOAT_VEC4={name:"FLOAT_VEC4",value:35666,description:" "},c.INT_VEC2={name:"INT_VEC2",value:35667,description:" "},c.INT_VEC3={name:"INT_VEC3",value:35668,description:" "},c.INT_VEC4={name:"INT_VEC4",value:35669,description:" "},c.BOOL={name:"BOOL",value:35670,description:" "},c.BOOL_VEC2={name:"BOOL_VEC2",value:35671,description:" "},c.BOOL_VEC3={name:"BOOL_VEC3",value:35672,description:" "},c.BOOL_VEC4={name:"BOOL_VEC4",value:35673,description:" "},c.FLOAT_MAT2={name:"FLOAT_MAT2",value:35674,description:" "},c.FLOAT_MAT3={name:"FLOAT_MAT3",value:35675,description:" "},c.FLOAT_MAT4={name:"FLOAT_MAT4",value:35676,description:" "},c.SAMPLER_2D={name:"SAMPLER_2D",value:35678,description:" "},c.SAMPLER_CUBE={name:"SAMPLER_CUBE",value:35680,description:" "},c.LOW_FLOAT={name:"LOW_FLOAT",value:36336,description:" "},c.MEDIUM_FLOAT={name:"MEDIUM_FLOAT",value:36337,description:" "},c.HIGH_FLOAT={name:"HIGH_FLOAT",value:36338,description:" "},c.LOW_INT={name:"LOW_INT",value:36339,description:" "},c.MEDIUM_INT={name:"MEDIUM_INT",value:36340,description:" "},c.HIGH_INT={name:"HIGH_INT",value:36341,description:" "},c.FRAMEBUFFER={name:"FRAMEBUFFER",value:36160,description:" "},c.RENDERBUFFER={name:"RENDERBUFFER",value:36161,description:" "},c.RGBA4={name:"RGBA4",value:32854,description:" "},c.RGB5_A1={name:"RGB5_A1",value:32855,description:" "},c.RGB565={name:"RGB565",value:36194,description:" "},c.DEPTH_COMPONENT16={name:"DEPTH_COMPONENT16",value:33189,description:" "},c.STENCIL_INDEX={name:"STENCIL_INDEX",value:6401,description:" "},c.STENCIL_INDEX8={name:"STENCIL_INDEX8",value:36168,description:" "},c.DEPTH_STENCIL={name:"DEPTH_STENCIL",value:34041,description:" "},c.RENDERBUFFER_WIDTH={name:"RENDERBUFFER_WIDTH",value:36162,description:" "},c.RENDERBUFFER_HEIGHT={name:"RENDERBUFFER_HEIGHT",value:36163,description:" "},c.RENDERBUFFER_INTERNAL_FORMAT={name:"RENDERBUFFER_INTERNAL_FORMAT",value:36164,description:" "},c.RENDERBUFFER_RED_SIZE={name:"RENDERBUFFER_RED_SIZE",value:36176,description:" "},c.RENDERBUFFER_GREEN_SIZE={name:"RENDERBUFFER_GREEN_SIZE",value:36177,description:" "},c.RENDERBUFFER_BLUE_SIZE={name:"RENDERBUFFER_BLUE_SIZE",value:36178,description:" "},c.RENDERBUFFER_ALPHA_SIZE={name:"RENDERBUFFER_ALPHA_SIZE",value:36179,description:" "},c.RENDERBUFFER_DEPTH_SIZE={name:"RENDERBUFFER_DEPTH_SIZE",value:36180,description:" "},c.RENDERBUFFER_STENCIL_SIZE={name:"RENDERBUFFER_STENCIL_SIZE",value:36181,description:" "},c.FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE={name:"FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE",value:36048,description:" "},c.FRAMEBUFFER_ATTACHMENT_OBJECT_NAME={name:"FRAMEBUFFER_ATTACHMENT_OBJECT_NAME",value:36049,description:" "},c.FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL={name:"FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL",value:36050,description:" "},c.FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE={name:"FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE",value:36051,description:" "},c.COLOR_ATTACHMENT0={name:"COLOR_ATTACHMENT0",value:36064,description:" "},c.DEPTH_ATTACHMENT={name:"DEPTH_ATTACHMENT",value:36096,description:" "},c.STENCIL_ATTACHMENT={name:"STENCIL_ATTACHMENT",value:36128,description:" "},c.DEPTH_STENCIL_ATTACHMENT={name:"DEPTH_STENCIL_ATTACHMENT",value:33306,description:" "},c.NONE={name:"NONE",value:0,description:" "},c.FRAMEBUFFER_COMPLETE={name:"FRAMEBUFFER_COMPLETE",value:36053,description:" "},c.FRAMEBUFFER_INCOMPLETE_ATTACHMENT={name:"FRAMEBUFFER_INCOMPLETE_ATTACHMENT",value:36054,description:" "},c.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT={name:"FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT",value:36055,description:" "},c.FRAMEBUFFER_INCOMPLETE_DIMENSIONS={name:"FRAMEBUFFER_INCOMPLETE_DIMENSIONS",value:36057,description:" "},c.FRAMEBUFFER_UNSUPPORTED={name:"FRAMEBUFFER_UNSUPPORTED",value:36061,description:" "},c.FRAMEBUFFER_BINDING={name:"FRAMEBUFFER_BINDING",value:36006,description:" "},c.RENDERBUFFER_BINDING={name:"RENDERBUFFER_BINDING",value:36007,description:" "},c.MAX_RENDERBUFFER_SIZE={name:"MAX_RENDERBUFFER_SIZE",value:34024,description:" "},c.INVALID_FRAMEBUFFER_OPERATION={name:"INVALID_FRAMEBUFFER_OPERATION",value:1286,description:" "},c.UNPACK_FLIP_Y_WEBGL={name:"UNPACK_FLIP_Y_WEBGL",value:37440,description:" "},c.UNPACK_PREMULTIPLY_ALPHA_WEBGL={name:"UNPACK_PREMULTIPLY_ALPHA_WEBGL",value:37441,description:" "},c.UNPACK_COLORSPACE_CONVERSION_WEBGL={name:"UNPACK_COLORSPACE_CONVERSION_WEBGL",value:37443,description:" "},c.READ_BUFFER={name:"READ_BUFFER",value:3074,description:" "},c.UNPACK_ROW_LENGTH={name:"UNPACK_ROW_LENGTH",value:3314,description:" "},c.UNPACK_SKIP_ROWS={name:"UNPACK_SKIP_ROWS",value:3315,description:" "},c.UNPACK_SKIP_PIXELS={name:"UNPACK_SKIP_PIXELS",value:3316,description:" "},c.PACK_ROW_LENGTH={name:"PACK_ROW_LENGTH",value:3330,description:" "},c.PACK_SKIP_ROWS={name:"PACK_SKIP_ROWS",value:3331,description:" "},c.PACK_SKIP_PIXELS={name:"PACK_SKIP_PIXELS",value:3332,description:" "},c.TEXTURE_BINDING_3D={name:"TEXTURE_BINDING_3D",value:32874,description:" "},c.UNPACK_SKIP_IMAGES={name:"UNPACK_SKIP_IMAGES",value:32877,description:" "},c.UNPACK_IMAGE_HEIGHT={name:"UNPACK_IMAGE_HEIGHT",value:32878,description:" "},c.MAX_3D_TEXTURE_SIZE={name:"MAX_3D_TEXTURE_SIZE",value:32883,description:" "},c.MAX_ELEMENTS_VERTICES={name:"MAX_ELEMENTS_VERTICES",value:33e3,description:" "},c.MAX_ELEMENTS_INDICES={name:"MAX_ELEMENTS_INDICES",value:33001,description:" "},c.MAX_TEXTURE_LOD_BIAS={name:"MAX_TEXTURE_LOD_BIAS",value:34045,description:" "},c.MAX_FRAGMENT_UNIFORM_COMPONENTS={name:"MAX_FRAGMENT_UNIFORM_COMPONENTS",value:35657,description:" "},c.MAX_VERTEX_UNIFORM_COMPONENTS={name:"MAX_VERTEX_UNIFORM_COMPONENTS",value:35658,description:" "},c.MAX_ARRAY_TEXTURE_LAYERS={name:"MAX_ARRAY_TEXTURE_LAYERS",value:35071,description:" "},c.MIN_PROGRAM_TEXEL_OFFSET={name:"MIN_PROGRAM_TEXEL_OFFSET",value:35076,description:" "},c.MAX_PROGRAM_TEXEL_OFFSET={name:"MAX_PROGRAM_TEXEL_OFFSET",value:35077,description:" "},c.MAX_VARYING_COMPONENTS={name:"MAX_VARYING_COMPONENTS",value:35659,description:" "},c.FRAGMENT_SHADER_DERIVATIVE_HINT={name:"FRAGMENT_SHADER_DERIVATIVE_HINT",value:35723,description:" "},c.RASTERIZER_DISCARD={name:"RASTERIZER_DISCARD",value:35977,description:" "},c.VERTEX_ARRAY_BINDING={name:"VERTEX_ARRAY_BINDING",value:34229,description:" "},c.MAX_VERTEX_OUTPUT_COMPONENTS={name:"MAX_VERTEX_OUTPUT_COMPONENTS",value:37154,description:" "},c.MAX_FRAGMENT_INPUT_COMPONENTS={name:"MAX_FRAGMENT_INPUT_COMPONENTS",value:37157,description:" "},c.MAX_SERVER_WAIT_TIMEOUT={name:"MAX_SERVER_WAIT_TIMEOUT",value:37137,description:" "},c.MAX_ELEMENT_INDEX={name:"MAX_ELEMENT_INDEX",value:36203,description:" "},c.RED={name:"RED",value:6403,description:" "},c.RGB8={name:"RGB8",value:32849,description:" "},c.RGBA8={name:"RGBA8",value:32856,description:" "},c.RGB10_A2={name:"RGB10_A2",value:32857,description:" "},c.TEXTURE_3D={name:"TEXTURE_3D",value:32879,description:" "},c.TEXTURE_WRAP_R={name:"TEXTURE_WRAP_R",value:32882,description:" "},c.TEXTURE_MIN_LOD={name:"TEXTURE_MIN_LOD",value:33082,description:" "},c.TEXTURE_MAX_LOD={name:"TEXTURE_MAX_LOD",value:33083,description:" "},c.TEXTURE_BASE_LEVEL={name:"TEXTURE_BASE_LEVEL",value:33084,description:" "},c.TEXTURE_MAX_LEVEL={name:"TEXTURE_MAX_LEVEL",value:33085,description:" "},c.TEXTURE_COMPARE_MODE={name:"TEXTURE_COMPARE_MODE",value:34892,description:" "},c.TEXTURE_COMPARE_FUNC={name:"TEXTURE_COMPARE_FUNC",value:34893,description:" "},c.SRGB={name:"SRGB",value:35904,description:" "},c.SRGB8={name:"SRGB8",value:35905,description:" "},c.SRGB8_ALPHA8={name:"SRGB8_ALPHA8",value:35907,description:" "},c.COMPARE_REF_TO_TEXTURE={name:"COMPARE_REF_TO_TEXTURE",value:34894,description:" "},c.RGBA32F={name:"RGBA32F",value:34836,description:" "},c.RGB32F={name:"RGB32F",value:34837,description:" "},c.RGBA16F={name:"RGBA16F",value:34842,description:" "},c.RGB16F={name:"RGB16F",value:34843,description:" "},c.TEXTURE_2D_ARRAY={name:"TEXTURE_2D_ARRAY",value:35866,description:" "},c.TEXTURE_BINDING_2D_ARRAY={name:"TEXTURE_BINDING_2D_ARRAY",value:35869,description:" "},c.R11F_G11F_B10F={name:"R11F_G11F_B10F",value:35898,description:" "},c.RGB9_E5={name:"RGB9_E5",value:35901,description:" "},c.RGBA32UI={name:"RGBA32UI",value:36208,description:" "},c.RGB32UI={name:"RGB32UI",value:36209,description:" "},c.RGBA16UI={name:"RGBA16UI",value:36214,description:" "},c.RGB16UI={name:"RGB16UI",value:36215,description:" "},c.RGBA8UI={name:"RGBA8UI",value:36220,description:" "},c.RGB8UI={name:"RGB8UI",value:36221,description:" "},c.RGBA32I={name:"RGBA32I",value:36226,description:" "},c.RGB32I={name:"RGB32I",value:36227,description:" "},c.RGBA16I={name:"RGBA16I",value:36232,description:" "},c.RGB16I={name:"RGB16I",value:36233,description:" "},c.RGBA8I={name:"RGBA8I",value:36238,description:" "},c.RGB8I={name:"RGB8I",value:36239,description:" "},c.RED_INTEGER={name:"RED_INTEGER",value:36244,description:" "},c.RGB_INTEGER={name:"RGB_INTEGER",value:36248,description:" "},c.RGBA_INTEGER={name:"RGBA_INTEGER",value:36249,description:" "},c.R8={name:"R8",value:33321,description:" "},c.RG8={name:"RG8",value:33323,description:" "},c.R16F={name:"R16F",value:33325,description:" "},c.R32F={name:"R32F",value:33326,description:" "},c.RG16F={name:"RG16F",value:33327,description:" "},c.RG32F={name:"RG32F",value:33328,description:" "},c.R8I={name:"R8I",value:33329,description:" "},c.R8UI={name:"R8UI",value:33330,description:" "},c.R16I={name:"R16I",value:33331,description:" "},c.R16UI={name:"R16UI",value:33332,description:" "},c.R32I={name:"R32I",value:33333,description:" "},c.R32UI={name:"R32UI",value:33334,description:" "},c.RG8I={name:"RG8I",value:33335,description:" "},c.RG8UI={name:"RG8UI",value:33336,description:" "},c.RG16I={name:"RG16I",value:33337,description:" "},c.RG16UI={name:"RG16UI",value:33338,description:" "},c.RG32I={name:"RG32I",value:33339,description:" "},c.RG32UI={name:"RG32UI",value:33340,description:" "},c.R8_SNORM={name:"R8_SNORM",value:36756,description:" "},c.RG8_SNORM={name:"RG8_SNORM",value:36757,description:" "},c.RGB8_SNORM={name:"RGB8_SNORM",value:36758,description:" "},c.RGBA8_SNORM={name:"RGBA8_SNORM",value:36759,description:" "},c.RGB10_A2UI={name:"RGB10_A2UI",value:36975,description:" "},c.TEXTURE_IMMUTABLE_FORMAT={name:"TEXTURE_IMMUTABLE_FORMAT",value:37167,description:" "},c.TEXTURE_IMMUTABLE_LEVELS={name:"TEXTURE_IMMUTABLE_LEVELS",value:33503,description:" "},c.UNSIGNED_INT_2_10_10_10_REV={name:"UNSIGNED_INT_2_10_10_10_REV",value:33640,description:" "},c.UNSIGNED_INT_10F_11F_11F_REV={name:"UNSIGNED_INT_10F_11F_11F_REV",value:35899,description:" "},c.UNSIGNED_INT_5_9_9_9_REV={name:"UNSIGNED_INT_5_9_9_9_REV",value:35902,description:" "},c.FLOAT_32_UNSIGNED_INT_24_8_REV={name:"FLOAT_32_UNSIGNED_INT_24_8_REV",value:36269,description:" "},c.UNSIGNED_INT_24_8={name:"UNSIGNED_INT_24_8",value:34042,description:" "},c.HALF_FLOAT={name:"HALF_FLOAT",value:5131,description:" "},c.RG={name:"RG",value:33319,description:" "},c.RG_INTEGER={name:"RG_INTEGER",value:33320,description:" "},c.INT_2_10_10_10_REV={name:"INT_2_10_10_10_REV",value:36255,description:" "},c.CURRENT_QUERY={name:"CURRENT_QUERY",value:34917,description:" "},c.QUERY_RESULT={name:"QUERY_RESULT",value:34918,description:" "},c.QUERY_RESULT_AVAILABLE={name:"QUERY_RESULT_AVAILABLE",value:34919,description:" "},c.ANY_SAMPLES_PASSED={name:"ANY_SAMPLES_PASSED",value:35887,description:" "},c.ANY_SAMPLES_PASSED_CONSERVATIVE={name:"ANY_SAMPLES_PASSED_CONSERVATIVE",value:36202,description:" "},c.MAX_DRAW_BUFFERS={name:"MAX_DRAW_BUFFERS",value:34852,description:" "},c.DRAW_BUFFER0={name:"DRAW_BUFFER0",value:34853,description:" "},c.DRAW_BUFFER1={name:"DRAW_BUFFER1",value:34854,description:" "},c.DRAW_BUFFER2={name:"DRAW_BUFFER2",value:34855,description:" "},c.DRAW_BUFFER3={name:"DRAW_BUFFER3",value:34856,description:" "},c.DRAW_BUFFER4={name:"DRAW_BUFFER4",value:34857,description:" "},c.DRAW_BUFFER5={name:"DRAW_BUFFER5",value:34858,description:" "},c.DRAW_BUFFER6={name:"DRAW_BUFFER6",value:34859,description:" "},c.DRAW_BUFFER7={name:"DRAW_BUFFER7",value:34860,description:" "},c.DRAW_BUFFER8={name:"DRAW_BUFFER8",value:34861,description:" "},c.DRAW_BUFFER9={name:"DRAW_BUFFER9",value:34862,description:" "},c.DRAW_BUFFER10={name:"DRAW_BUFFER10",value:34863,description:" "},c.DRAW_BUFFER11={name:"DRAW_BUFFER11",value:34864,description:" "},c.DRAW_BUFFER12={name:"DRAW_BUFFER12",value:34865,description:" "},c.DRAW_BUFFER13={name:"DRAW_BUFFER13",value:34866,description:" "},c.DRAW_BUFFER14={name:"DRAW_BUFFER14",value:34867,description:" "},c.DRAW_BUFFER15={name:"DRAW_BUFFER15",value:34868,description:" "},c.MAX_COLOR_ATTACHMENTS={name:"MAX_COLOR_ATTACHMENTS",value:36063,description:" "},c.COLOR_ATTACHMENT1={name:"COLOR_ATTACHMENT1",value:36065,description:" "},c.COLOR_ATTACHMENT2={name:"COLOR_ATTACHMENT2",value:36066,description:" "},c.COLOR_ATTACHMENT3={name:"COLOR_ATTACHMENT3",value:36067,description:" "},c.COLOR_ATTACHMENT4={name:"COLOR_ATTACHMENT4",value:36068,description:" "},c.COLOR_ATTACHMENT5={name:"COLOR_ATTACHMENT5",value:36069,description:" "},c.COLOR_ATTACHMENT6={name:"COLOR_ATTACHMENT6",value:36070,description:" "},c.COLOR_ATTACHMENT7={name:"COLOR_ATTACHMENT7",value:36071,description:" "},c.COLOR_ATTACHMENT8={name:"COLOR_ATTACHMENT8",value:36072,description:" "},c.COLOR_ATTACHMENT9={name:"COLOR_ATTACHMENT9",value:36073,description:" "},c.COLOR_ATTACHMENT10={name:"COLOR_ATTACHMENT10",value:36074,description:" "},c.COLOR_ATTACHMENT11={name:"COLOR_ATTACHMENT11",value:36075,description:" "},c.COLOR_ATTACHMENT12={name:"COLOR_ATTACHMENT12",value:36076,description:" "},c.COLOR_ATTACHMENT13={name:"COLOR_ATTACHMENT13",value:36077,description:" "},c.COLOR_ATTACHMENT14={name:"COLOR_ATTACHMENT14",value:36078,description:" "},c.COLOR_ATTACHMENT15={name:"COLOR_ATTACHMENT15",value:36079,description:" "},c.SAMPLER_3D={name:"SAMPLER_3D",value:35679,description:" "},c.SAMPLER_2D_SHADOW={name:"SAMPLER_2D_SHADOW",value:35682,description:" "},c.SAMPLER_2D_ARRAY={name:"SAMPLER_2D_ARRAY",value:36289,description:" "},c.SAMPLER_2D_ARRAY_SHADOW={name:"SAMPLER_2D_ARRAY_SHADOW",value:36292,description:" "},c.SAMPLER_CUBE_SHADOW={name:"SAMPLER_CUBE_SHADOW",value:36293,description:" "},c.INT_SAMPLER_2D={name:"INT_SAMPLER_2D",value:36298,description:" "},c.INT_SAMPLER_3D={name:"INT_SAMPLER_3D",value:36299,description:" "},c.INT_SAMPLER_CUBE={name:"INT_SAMPLER_CUBE",value:36300,description:" "},c.INT_SAMPLER_2D_ARRAY={name:"INT_SAMPLER_2D_ARRAY",value:36303,description:" "},c.UNSIGNED_INT_SAMPLER_2D={name:"UNSIGNED_INT_SAMPLER_2D",value:36306,description:" "},c.UNSIGNED_INT_SAMPLER_3D={name:"UNSIGNED_INT_SAMPLER_3D",value:36307,description:" "},c.UNSIGNED_INT_SAMPLER_CUBE={name:"UNSIGNED_INT_SAMPLER_CUBE",value:36308,description:" "},c.UNSIGNED_INT_SAMPLER_2D_ARRAY={name:"UNSIGNED_INT_SAMPLER_2D_ARRAY",value:36311,description:" "},c.MAX_SAMPLES={name:"MAX_SAMPLES",value:36183,description:" "},c.SAMPLER_BINDING={name:"SAMPLER_BINDING",value:35097,description:" "},c.PIXEL_PACK_BUFFER={name:"PIXEL_PACK_BUFFER",value:35051,description:" "},c.PIXEL_UNPACK_BUFFER={name:"PIXEL_UNPACK_BUFFER",value:35052,description:" "},c.PIXEL_PACK_BUFFER_BINDING={name:"PIXEL_PACK_BUFFER_BINDING",value:35053,description:" "},c.PIXEL_UNPACK_BUFFER_BINDING={name:"PIXEL_UNPACK_BUFFER_BINDING",value:35055,description:" "},c.COPY_READ_BUFFER={name:"COPY_READ_BUFFER",value:36662,description:" "},c.COPY_WRITE_BUFFER={name:"COPY_WRITE_BUFFER",value:36663,description:" "},c.COPY_READ_BUFFER_BINDING={name:"COPY_READ_BUFFER_BINDING",value:36662,description:" "},c.COPY_WRITE_BUFFER_BINDING={name:"COPY_WRITE_BUFFER_BINDING",value:36663,description:" "},c.FLOAT_MAT2x3={name:"FLOAT_MAT2x3",value:35685,description:" "},c.FLOAT_MAT2x4={name:"FLOAT_MAT2x4",value:35686,description:" "},c.FLOAT_MAT3x2={name:"FLOAT_MAT3x2",value:35687,description:" "},c.FLOAT_MAT3x4={name:"FLOAT_MAT3x4",value:35688,description:" "},c.FLOAT_MAT4x2={name:"FLOAT_MAT4x2",value:35689,description:" "},c.FLOAT_MAT4x3={name:"FLOAT_MAT4x3",value:35690,description:" "},c.UNSIGNED_INT_VEC2={name:"UNSIGNED_INT_VEC2",value:36294,description:" "},c.UNSIGNED_INT_VEC3={name:"UNSIGNED_INT_VEC3",value:36295,description:" "},c.UNSIGNED_INT_VEC4={name:"UNSIGNED_INT_VEC4",value:36296,description:" "},c.UNSIGNED_NORMALIZED={name:"UNSIGNED_NORMALIZED",value:35863,description:" "},c.SIGNED_NORMALIZED={name:"SIGNED_NORMALIZED",value:36764,description:" "},c.VERTEX_ATTRIB_ARRAY_INTEGER={name:"VERTEX_ATTRIB_ARRAY_INTEGER",value:35069,description:" "},c.VERTEX_ATTRIB_ARRAY_DIVISOR={name:"VERTEX_ATTRIB_ARRAY_DIVISOR",value:35070,description:" "},c.TRANSFORM_FEEDBACK_BUFFER_MODE={name:"TRANSFORM_FEEDBACK_BUFFER_MODE",value:35967,description:" "},c.MAX_TRANSFORM_FEEDBACK_SEPARATE_COMPONENTS={name:"MAX_TRANSFORM_FEEDBACK_SEPARATE_COMPONENTS",value:35968,description:" "},c.TRANSFORM_FEEDBACK_VARYINGS={name:"TRANSFORM_FEEDBACK_VARYINGS",value:35971,description:" "},c.TRANSFORM_FEEDBACK_BUFFER_START={name:"TRANSFORM_FEEDBACK_BUFFER_START",value:35972,description:" "},c.TRANSFORM_FEEDBACK_BUFFER_SIZE={name:"TRANSFORM_FEEDBACK_BUFFER_SIZE",value:35973,description:" "},c.TRANSFORM_FEEDBACK_PRIMITIVES_WRITTEN={name:"TRANSFORM_FEEDBACK_PRIMITIVES_WRITTEN",value:35976,description:" "},c.MAX_TRANSFORM_FEEDBACK_INTERLEAVED_COMPONENTS={name:"MAX_TRANSFORM_FEEDBACK_INTERLEAVED_COMPONENTS",value:35978,description:" "},c.MAX_TRANSFORM_FEEDBACK_SEPARATE_ATTRIBS={name:"MAX_TRANSFORM_FEEDBACK_SEPARATE_ATTRIBS",value:35979,description:" "},c.INTERLEAVED_ATTRIBS={name:"INTERLEAVED_ATTRIBS",value:35980,description:" "},c.SEPARATE_ATTRIBS={name:"SEPARATE_ATTRIBS",value:35981,description:" "},c.TRANSFORM_FEEDBACK_BUFFER={name:"TRANSFORM_FEEDBACK_BUFFER",value:35982,description:" "},c.TRANSFORM_FEEDBACK_BUFFER_BINDING={name:"TRANSFORM_FEEDBACK_BUFFER_BINDING",value:35983,description:" "},c.TRANSFORM_FEEDBACK={name:"TRANSFORM_FEEDBACK",value:36386,description:" "},c.TRANSFORM_FEEDBACK_PAUSED={name:"TRANSFORM_FEEDBACK_PAUSED",value:36387,description:" "},c.TRANSFORM_FEEDBACK_ACTIVE={name:"TRANSFORM_FEEDBACK_ACTIVE",value:36388,description:" "},c.TRANSFORM_FEEDBACK_BINDING={name:"TRANSFORM_FEEDBACK_BINDING",value:36389,description:" "},c.FRAMEBUFFER_ATTACHMENT_COLOR_ENCODING={name:"FRAMEBUFFER_ATTACHMENT_COLOR_ENCODING",value:33296,description:" "},c.FRAMEBUFFER_ATTACHMENT_COMPONENT_TYPE={name:"FRAMEBUFFER_ATTACHMENT_COMPONENT_TYPE",value:33297,description:" "},c.FRAMEBUFFER_ATTACHMENT_RED_SIZE={name:"FRAMEBUFFER_ATTACHMENT_RED_SIZE",value:33298,description:" "},c.FRAMEBUFFER_ATTACHMENT_GREEN_SIZE={name:"FRAMEBUFFER_ATTACHMENT_GREEN_SIZE",value:33299,description:" "},c.FRAMEBUFFER_ATTACHMENT_BLUE_SIZE={name:"FRAMEBUFFER_ATTACHMENT_BLUE_SIZE",value:33300,description:" "},c.FRAMEBUFFER_ATTACHMENT_ALPHA_SIZE={name:"FRAMEBUFFER_ATTACHMENT_ALPHA_SIZE",value:33301,description:" "},c.FRAMEBUFFER_ATTACHMENT_DEPTH_SIZE={name:"FRAMEBUFFER_ATTACHMENT_DEPTH_SIZE",value:33302,description:" "},c.FRAMEBUFFER_ATTACHMENT_STENCIL_SIZE={name:"FRAMEBUFFER_ATTACHMENT_STENCIL_SIZE",value:33303,description:" "},c.FRAMEBUFFER_DEFAULT={name:"FRAMEBUFFER_DEFAULT",value:33304,description:" "},c.DEPTH24_STENCIL8={name:"DEPTH24_STENCIL8",value:35056,description:" "},c.DRAW_FRAMEBUFFER_BINDING={name:"DRAW_FRAMEBUFFER_BINDING",value:36006,description:" "},c.READ_FRAMEBUFFER={name:"READ_FRAMEBUFFER",value:36008,description:" "},c.DRAW_FRAMEBUFFER={name:"DRAW_FRAMEBUFFER",value:36009,description:" "},c.READ_FRAMEBUFFER_BINDING={name:"READ_FRAMEBUFFER_BINDING",value:36010,description:" "},c.RENDERBUFFER_SAMPLES={name:"RENDERBUFFER_SAMPLES",value:36011,description:" "},c.FRAMEBUFFER_ATTACHMENT_TEXTURE_LAYER={name:"FRAMEBUFFER_ATTACHMENT_TEXTURE_LAYER",value:36052,description:" "},c.FRAMEBUFFER_INCOMPLETE_MULTISAMPLE={name:"FRAMEBUFFER_INCOMPLETE_MULTISAMPLE",value:36182,description:" "},c.UNIFORM_BUFFER={name:"UNIFORM_BUFFER",value:35345,description:" "},c.UNIFORM_BUFFER_BINDING={name:"UNIFORM_BUFFER_BINDING",value:35368,description:" "},c.UNIFORM_BUFFER_START={name:"UNIFORM_BUFFER_START",value:35369,description:" "},c.UNIFORM_BUFFER_SIZE={name:"UNIFORM_BUFFER_SIZE",value:35370,description:" "},c.MAX_VERTEX_UNIFORM_BLOCKS={name:"MAX_VERTEX_UNIFORM_BLOCKS",value:35371,description:" "},c.MAX_FRAGMENT_UNIFORM_BLOCKS={name:"MAX_FRAGMENT_UNIFORM_BLOCKS",value:35373,description:" "},c.MAX_COMBINED_UNIFORM_BLOCKS={name:"MAX_COMBINED_UNIFORM_BLOCKS",value:35374,description:" "},c.MAX_UNIFORM_BUFFER_BINDINGS={name:"MAX_UNIFORM_BUFFER_BINDINGS",value:35375,description:" "},c.MAX_UNIFORM_BLOCK_SIZE={name:"MAX_UNIFORM_BLOCK_SIZE",value:35376,description:" "},c.MAX_COMBINED_VERTEX_UNIFORM_COMPONENTS={name:"MAX_COMBINED_VERTEX_UNIFORM_COMPONENTS",value:35377,description:" "},c.MAX_COMBINED_FRAGMENT_UNIFORM_COMPONENTS={name:"MAX_COMBINED_FRAGMENT_UNIFORM_COMPONENTS",value:35379,description:" "},c.UNIFORM_BUFFER_OFFSET_ALIGNMENT={name:"UNIFORM_BUFFER_OFFSET_ALIGNMENT",value:35380,description:" "},c.ACTIVE_UNIFORM_BLOCKS={name:"ACTIVE_UNIFORM_BLOCKS",value:35382,description:" "},c.UNIFORM_TYPE={name:"UNIFORM_TYPE",value:35383,description:" "},c.UNIFORM_SIZE={name:"UNIFORM_SIZE",value:35384,description:" "},c.UNIFORM_BLOCK_INDEX={name:"UNIFORM_BLOCK_INDEX",value:35386,description:" "},c.UNIFORM_OFFSET={name:"UNIFORM_OFFSET",value:35387,description:" "},c.UNIFORM_ARRAY_STRIDE={name:"UNIFORM_ARRAY_STRIDE",value:35388,description:" "},c.UNIFORM_MATRIX_STRIDE={name:"UNIFORM_MATRIX_STRIDE",value:35389,description:" "},c.UNIFORM_IS_ROW_MAJOR={name:"UNIFORM_IS_ROW_MAJOR",value:35390,description:" "},c.UNIFORM_BLOCK_BINDING={name:"UNIFORM_BLOCK_BINDING",value:35391,description:" "},c.UNIFORM_BLOCK_DATA_SIZE={name:"UNIFORM_BLOCK_DATA_SIZE",value:35392,description:" "},c.UNIFORM_BLOCK_ACTIVE_UNIFORMS={name:"UNIFORM_BLOCK_ACTIVE_UNIFORMS",value:35394,description:" "},c.UNIFORM_BLOCK_ACTIVE_UNIFORM_INDICES={name:"UNIFORM_BLOCK_ACTIVE_UNIFORM_INDICES",value:35395,description:" "},c.UNIFORM_BLOCK_REFERENCED_BY_VERTEX_SHADER={name:"UNIFORM_BLOCK_REFERENCED_BY_VERTEX_SHADER",value:35396,description:" "},c.UNIFORM_BLOCK_REFERENCED_BY_FRAGMENT_SHADER={name:"UNIFORM_BLOCK_REFERENCED_BY_FRAGMENT_SHADER",value:35398,description:" "},c.OBJECT_TYPE={name:"OBJECT_TYPE",value:37138,description:" "},c.SYNC_CONDITION={name:"SYNC_CONDITION",value:37139,description:" "},c.SYNC_STATUS={name:"SYNC_STATUS",value:37140,description:" "},c.SYNC_FLAGS={name:"SYNC_FLAGS",value:37141,description:" "},c.SYNC_FENCE={name:"SYNC_FENCE",value:37142,description:" "},c.SYNC_GPU_COMMANDS_COMPLETE={name:"SYNC_GPU_COMMANDS_COMPLETE",value:37143,description:" "},c.UNSIGNALED={name:"UNSIGNALED",value:37144,description:" "},c.SIGNALED={name:"SIGNALED",value:37145,description:" "},c.ALREADY_SIGNALED={name:"ALREADY_SIGNALED",value:37146,description:" "},c.TIMEOUT_EXPIRED={name:"TIMEOUT_EXPIRED",value:37147,description:" "},c.CONDITION_SATISFIED={name:"CONDITION_SATISFIED",value:37148,description:" "},c.WAIT_FAILED={name:"WAIT_FAILED",value:37149,description:" "},c.SYNC_FLUSH_COMMANDS_BIT={name:"SYNC_FLUSH_COMMANDS_BIT",value:1,description:" "},c.COLOR={name:"COLOR",value:6144,description:" "},c.DEPTH={name:"DEPTH",value:6145,description:" "},c.STENCIL={name:"STENCIL",value:6146,description:" "},c.MIN={name:"MIN",value:32775,description:" "},c.MAX={name:"MAX",value:32776,description:" "},c.DEPTH_COMPONENT24={name:"DEPTH_COMPONENT24",value:33190,description:" "},c.STREAM_READ={name:"STREAM_READ",value:35041,description:" "},c.STREAM_COPY={name:"STREAM_COPY",value:35042,description:" "},c.STATIC_READ={name:"STATIC_READ",value:35045,description:" "},c.STATIC_COPY={name:"STATIC_COPY",value:35046,description:" "},c.DYNAMIC_READ={name:"DYNAMIC_READ",value:35049,description:" "},c.DYNAMIC_COPY={name:"DYNAMIC_COPY",value:35050,description:" "},c.DEPTH_COMPONENT32F={name:"DEPTH_COMPONENT32F",value:36012,description:" "},c.DEPTH32F_STENCIL8={name:"DEPTH32F_STENCIL8",value:36013,description:" "},c.INVALID_INDEX={name:"INVALID_INDEX",value:4294967295,description:" "},c.TIMEOUT_IGNORED={name:"TIMEOUT_IGNORED",value:-1,description:" "},c.MAX_CLIENT_WAIT_TIMEOUT_WEBGL={name:"MAX_CLIENT_WAIT_TIMEOUT_WEBGL",value:37447,description:" "},c.VERTEX_ATTRIB_ARRAY_DIVISOR_ANGLE={name:"VERTEX_ATTRIB_ARRAY_DIVISOR_ANGLE",value:35070,description:"Describes the frequency divisor used for instanced rendering.",extensionName:"ANGLE_instanced_arrays"},c.UNMASKED_VENDOR_WEBGL={name:"UNMASKED_VENDOR_WEBGL",value:37445,description:"Passed to getParameter to get the vendor string of the graphics driver.",extensionName:"ANGLE_instanced_arrays"},c.UNMASKED_RENDERER_WEBGL={name:"UNMASKED_RENDERER_WEBGL",value:37446,description:"Passed to getParameter to get the renderer string of the graphics driver.",extensionName:"WEBGL_debug_renderer_info"},c.MAX_TEXTURE_MAX_ANISOTROPY_EXT={name:"MAX_TEXTURE_MAX_ANISOTROPY_EXT",value:34047,description:"Returns the maximum available anisotropy.",extensionName:"EXT_texture_filter_anisotropic"},c.TEXTURE_MAX_ANISOTROPY_EXT={name:"TEXTURE_MAX_ANISOTROPY_EXT",value:34046,description:"Passed to texParameter to set the desired maximum anisotropy for a texture.",extensionName:"EXT_texture_filter_anisotropic"},c.COMPRESSED_RGB_S3TC_DXT1_EXT={name:"COMPRESSED_RGB_S3TC_DXT1_EXT",value:33776,description:"A DXT1-compressed image in an RGB image format.",extensionName:"WEBGL_compressed_texture_s3tc"},c.COMPRESSED_RGBA_S3TC_DXT1_EXT={name:"COMPRESSED_RGBA_S3TC_DXT1_EXT",value:33777,description:"A DXT1-compressed image in an RGB image format with a simple on/off alpha value.",extensionName:"WEBGL_compressed_texture_s3tc"},c.COMPRESSED_RGBA_S3TC_DXT3_EXT={name:"COMPRESSED_RGBA_S3TC_DXT3_EXT",value:33778,description:"A DXT3-compressed image in an RGBA image format. Compared to a 32-bit RGBA texture, it offers 4:1 compression.",extensionName:"WEBGL_compressed_texture_s3tc"},c.COMPRESSED_RGBA_S3TC_DXT5_EXT={name:"COMPRESSED_RGBA_S3TC_DXT5_EXT",value:33779,description:"A DXT5-compressed image in an RGBA image format. It also provides a 4:1 compression, but differs to the DXT3 compression in how the alpha compression is done.",extensionName:"WEBGL_compressed_texture_s3tc"},c.COMPRESSED_R11_EAC={name:"COMPRESSED_R11_EAC",value:37488,description:"One-channel (red) unsigned format compression.",extensionName:"WEBGL_compressed_texture_etc"},c.COMPRESSED_SIGNED_R11_EAC={name:"COMPRESSED_SIGNED_R11_EAC",value:37489,description:"One-channel (red) signed format compression.",extensionName:"WEBGL_compressed_texture_etc"},c.COMPRESSED_RG11_EAC={name:"COMPRESSED_RG11_EAC",value:37490,description:"Two-channel (red and green) unsigned format compression.",extensionName:"WEBGL_compressed_texture_etc"},c.COMPRESSED_SIGNED_RG11_EAC={name:"COMPRESSED_SIGNED_RG11_EAC",value:37491,description:"Two-channel (red and green) signed format compression.",extensionName:"WEBGL_compressed_texture_etc"},c.COMPRESSED_RGB8_ETC2={name:"COMPRESSED_RGB8_ETC2",value:37492,description:"Compresses RBG8 data with no alpha channel.",extensionName:"WEBGL_compressed_texture_etc"},c.COMPRESSED_RGBA8_ETC2_EAC={name:"COMPRESSED_RGBA8_ETC2_EAC",value:37493,description:"Compresses RGBA8 data. The RGB part is encoded the same as RGB_ETC2, but the alpha part is encoded separately.",extensionName:"WEBGL_compressed_texture_etc"},c.COMPRESSED_SRGB8_ETC2={name:"COMPRESSED_SRGB8_ETC2",value:37494,description:"Compresses sRBG8 data with no alpha channel.",extensionName:"WEBGL_compressed_texture_etc"},c.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC={name:"COMPRESSED_SRGB8_ALPHA8_ETC2_EAC",value:37495,description:"Compresses sRGBA8 data. The sRGB part is encoded the same as SRGB_ETC2, but the alpha part is encoded separately.",extensionName:"WEBGL_compressed_texture_etc"},c.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2={name:"COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2",value:37496,description:"Similar to RGB8_ETC, but with ability to punch through the alpha channel, which means to make it completely opaque or transparent.",extensionName:"WEBGL_compressed_texture_etc"},c.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2={name:"COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2",value:37497,description:"Similar to SRGB8_ETC, but with ability to punch through the alpha channel, which means to make it completely opaque or transparent.",extensionName:"WEBGL_compressed_texture_etc"},c.COMPRESSED_RGB_PVRTC_4BPPV1_IMG={name:"COMPRESSED_RGB_PVRTC_4BPPV1_IMG",value:35840,description:"RGB compression in 4-bit mode. One block for each 4×4 pixels.",extensionName:"WEBGL_compressed_texture_pvrtc"},c.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG={name:"COMPRESSED_RGBA_PVRTC_4BPPV1_IMG",value:35842,description:"RGBA compression in 4-bit mode. One block for each 4×4 pixels.",extensionName:"WEBGL_compressed_texture_pvrtc"},c.COMPRESSED_RGB_PVRTC_2BPPV1_IMG={name:"COMPRESSED_RGB_PVRTC_2BPPV1_IMG",value:35841,description:"RGB compression in 2-bit mode. One block for each 8×4 pixels.",extensionName:"WEBGL_compressed_texture_pvrtc"},c.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG={name:"COMPRESSED_RGBA_PVRTC_2BPPV1_IMG",value:35843,description:"RGBA compression in 2-bit mode. One block for each 8×4 pixe",extensionName:"WEBGL_compressed_texture_pvrtc"},c.COMPRESSED_RGB_ETC1_WEBGL={name:"COMPRESSED_RGB_ETC1_WEBGL",value:36196,description:"Compresses 24-bit RGB data with no alpha channel.",extensionName:"WEBGL_compressed_texture_etc1"},c.COMPRESSED_RGB_ATC_WEBGL={name:"COMPRESSED_RGB_ATC_WEBGL",value:35986,description:"Compresses RGB textures with no alpha channel.",extensionName:"WEBGL_compressed_texture_atc"},c.COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL={name:"COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL",value:35986,description:"Compresses RGBA textures using explicit alpha encoding (useful when alpha transitions are sharp).",extensionName:"WEBGL_compressed_texture_atc"},c.COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL={name:"COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL",value:34798,description:"Compresses RGBA textures using interpolated alpha encoding (useful when alpha transitions are gradient).",extensionName:"WEBGL_compressed_texture_atc"},c.UNSIGNED_INT_24_8_WEBGL={name:"UNSIGNED_INT_24_8_WEBGL",value:34042,description:"Unsigned integer type for 24-bit depth texture data.",extensionName:"WEBGL_depth_texture"},c.HALF_FLOAT_OES={name:"HALF_FLOAT_OES",value:36193,description:"Half floating-point type (16-bit).",extensionName:"OES_texture_half_float"},c.FRAMEBUFFER_ATTACHMENT_COMPONENT_TYPE_EXT={name:"FRAMEBUFFER_ATTACHMENT_COMPONENT_TYPE_EXT",value:33297,description:" ",extensionName:"WEBGL_color_buffer_float"},c.UNSIGNED_NORMALIZED_EXT={name:"UNSIGNED_NORMALIZED_EXT",value:35863,description:" ",extensionName:"WEBGL_color_buffer_float"},c.MIN_EXT={name:"MIN_EXT",value:32775,description:"Produces the minimum color components of the source and destination colors.",extensionName:"EXT_blend_minmax"},c.MAX_EXT={name:"MAX_EXT",value:32776,description:"Produces the maximum color components of the source and destination colors.",extensionName:"EXT_blend_minmax"},c.SRGB_EXT={name:"SRGB_EXT",value:35904,description:"Unsized sRGB format that leaves the precision up to the driver.",extensionName:"EXT_sRGB"},c.SRGB_ALPHA_EXT={name:"SRGB_ALPHA_EXT",value:35906,description:"Unsized sRGB format with unsized alpha component.",extensionName:"EXT_sRGB"},c.SRGB8_ALPHA8_EXT={name:"SRGB8_ALPHA8_EXT",value:35907,description:"Sized (8-bit) sRGB and alpha formats.",extensionName:"EXT_sRGB"},c.FRAMEBUFFER_ATTACHMENT_COLOR_ENCODING_EXT={name:"FRAMEBUFFER_ATTACHMENT_COLOR_ENCODING_EXT",value:33296,description:"Returns the framebuffer color encoding.",extensionName:"EXT_sRGB"},c.FRAGMENT_SHADER_DERIVATIVE_HINT_OES={name:"FRAGMENT_SHADER_DERIVATIVE_HINT_OES",value:35723,description:"Indicates the accuracy of the derivative calculation for the GLSL built-in functions: dFdx, dFdy, and fwidth.",extensionName:"OES_standard_derivatives"},c.COLOR_ATTACHMENT0_WEBGL={name:"COLOR_ATTACHMENT0_WEBGL",value:36064,description:"Framebuffer color attachment point",extensionName:"WEBGL_draw_buffers"},c.COLOR_ATTACHMENT1_WEBGL={name:"COLOR_ATTACHMENT1_WEBGL",value:36065,description:"Framebuffer color attachment point",extensionName:"WEBGL_draw_buffers"},c.COLOR_ATTACHMENT2_WEBGL={name:"COLOR_ATTACHMENT2_WEBGL",value:36066,description:"Framebuffer color attachment point",extensionName:"WEBGL_draw_buffers"},c.COLOR_ATTACHMENT3_WEBGL={name:"COLOR_ATTACHMENT3_WEBGL",value:36067,description:"Framebuffer color attachment point",extensionName:"WEBGL_draw_buffers"},c.COLOR_ATTACHMENT4_WEBGL={name:"COLOR_ATTACHMENT4_WEBGL",value:36068,description:"Framebuffer color attachment point",extensionName:"WEBGL_draw_buffers"},c.COLOR_ATTACHMENT5_WEBGL={name:"COLOR_ATTACHMENT5_WEBGL",value:36069,description:"Framebuffer color attachment point",extensionName:"WEBGL_draw_buffers"},c.COLOR_ATTACHMENT6_WEBGL={name:"COLOR_ATTACHMENT6_WEBGL",value:36070,description:"Framebuffer color attachment point",extensionName:"WEBGL_draw_buffers"},c.COLOR_ATTACHMENT7_WEBGL={name:"COLOR_ATTACHMENT7_WEBGL",value:36071,description:"Framebuffer color attachment point",extensionName:"WEBGL_draw_buffers"},c.COLOR_ATTACHMENT8_WEBGL={name:"COLOR_ATTACHMENT8_WEBGL",value:36072,description:"Framebuffer color attachment point",extensionName:"WEBGL_draw_buffers"},c.COLOR_ATTACHMENT9_WEBGL={name:"COLOR_ATTACHMENT9_WEBGL",value:36073,description:"Framebuffer color attachment point",extensionName:"WEBGL_draw_buffers"},c.COLOR_ATTACHMENT10_WEBGL={name:"COLOR_ATTACHMENT10_WEBGL",value:36074,description:"Framebuffer color attachment point",extensionName:"WEBGL_draw_buffers"},c.COLOR_ATTACHMENT11_WEBGL={name:"COLOR_ATTACHMENT11_WEBGL",value:36075,description:"Framebuffer color attachment point",extensionName:"WEBGL_draw_buffers"},c.COLOR_ATTACHMENT12_WEBGL={name:"COLOR_ATTACHMENT12_WEBGL",value:36076,description:"Framebuffer color attachment point",extensionName:"WEBGL_draw_buffers"},c.COLOR_ATTACHMENT13_WEBGL={name:"COLOR_ATTACHMENT13_WEBGL",value:36077,description:"Framebuffer color attachment point",extensionName:"WEBGL_draw_buffers"},c.COLOR_ATTACHMENT14_WEBGL={name:"COLOR_ATTACHMENT14_WEBGL",value:36078,description:"Framebuffer color attachment point",extensionName:"WEBGL_draw_buffers"},c.COLOR_ATTACHMENT15_WEBGL={name:"COLOR_ATTACHMENT15_WEBGL",value:36079,description:"Framebuffer color attachment point",extensionName:"WEBGL_draw_buffers"},c.DRAW_BUFFER0_WEBGL={name:"DRAW_BUFFER0_WEBGL",value:34853,description:"Draw buffer",extensionName:"WEBGL_draw_buffers"},c.DRAW_BUFFER1_WEBGL={name:"DRAW_BUFFER1_WEBGL",value:34854,description:"Draw buffer",extensionName:"WEBGL_draw_buffers"},c.DRAW_BUFFER2_WEBGL={name:"DRAW_BUFFER2_WEBGL",value:34855,description:"Draw buffer",extensionName:"WEBGL_draw_buffers"},c.DRAW_BUFFER3_WEBGL={name:"DRAW_BUFFER3_WEBGL",value:34856,description:"Draw buffer",extensionName:"WEBGL_draw_buffers"},c.DRAW_BUFFER4_WEBGL={name:"DRAW_BUFFER4_WEBGL",value:34857,description:"Draw buffer",extensionName:"WEBGL_draw_buffers"},c.DRAW_BUFFER5_WEBGL={name:"DRAW_BUFFER5_WEBGL",value:34858,description:"Draw buffer",extensionName:"WEBGL_draw_buffers"},c.DRAW_BUFFER6_WEBGL={name:"DRAW_BUFFER6_WEBGL",value:34859,description:"Draw buffer",extensionName:"WEBGL_draw_buffers"},c.DRAW_BUFFER7_WEBGL={name:"DRAW_BUFFER7_WEBGL",value:34860,description:"Draw buffer",extensionName:"WEBGL_draw_buffers"},c.DRAW_BUFFER8_WEBGL={name:"DRAW_BUFFER8_WEBGL",value:34861,description:"Draw buffer",extensionName:"WEBGL_draw_buffers"},c.DRAW_BUFFER9_WEBGL={name:"DRAW_BUFFER9_WEBGL",value:34862,description:"Draw buffer",extensionName:"WEBGL_draw_buffers"},c.DRAW_BUFFER10_WEBGL={name:"DRAW_BUFFER10_WEBGL",value:34863,description:"Draw buffer",extensionName:"WEBGL_draw_buffers"},c.DRAW_BUFFER11_WEBGL={name:"DRAW_BUFFER11_WEBGL",value:34864,description:"Draw buffer",extensionName:"WEBGL_draw_buffers"},c.DRAW_BUFFER12_WEBGL={name:"DRAW_BUFFER12_WEBGL",value:34865,description:"Draw buffer",extensionName:"WEBGL_draw_buffers"},c.DRAW_BUFFER13_WEBGL={name:"DRAW_BUFFER13_WEBGL",value:34866,description:"Draw buffer",extensionName:"WEBGL_draw_buffers"},c.DRAW_BUFFER14_WEBGL={name:"DRAW_BUFFER14_WEBGL",value:34867,description:"Draw buffer",extensionName:"WEBGL_draw_buffers"},c.DRAW_BUFFER15_WEBGL={name:"DRAW_BUFFER15_WEBGL",value:34868,description:"Draw buffer",extensionName:"WEBGL_draw_buffers"},c.MAX_COLOR_ATTACHMENTS_WEBGL={name:"MAX_COLOR_ATTACHMENTS_WEBGL",value:36063,description:"Maximum number of framebuffer color attachment points",extensionName:"WEBGL_draw_buffers"},c.MAX_DRAW_BUFFERS_WEBGL={name:"MAX_DRAW_BUFFERS_WEBGL",value:34852,description:"Maximum number of draw buffers",extensionName:"WEBGL_draw_buffers"},c.VERTEX_ARRAY_BINDING_OES={name:"VERTEX_ARRAY_BINDING_OES",value:34229,description:"The bound vertex array object (VAO).",extensionName:"VERTEX_ARRAY_BINDING_OES"},c.QUERY_COUNTER_BITS_EXT={name:"QUERY_COUNTER_BITS_EXT",value:34916,description:"The number of bits used to hold the query result for the given target.",extensionName:"EXT_disjoint_timer_query"},c.CURRENT_QUERY_EXT={name:"CURRENT_QUERY_EXT",value:34917,description:"The currently active query.",extensionName:"EXT_disjoint_timer_query"},c.QUERY_RESULT_EXT={name:"QUERY_RESULT_EXT",value:34918,description:"The query result.",extensionName:"EXT_disjoint_timer_query"},c.QUERY_RESULT_AVAILABLE_EXT={name:"QUERY_RESULT_AVAILABLE_EXT",value:34919,description:"A Boolean indicating whether or not a query result is available.",extensionName:"EXT_disjoint_timer_query"},c.TIME_ELAPSED_EXT={name:"TIME_ELAPSED_EXT",value:35007,description:"Elapsed time (in nanoseconds).",extensionName:"EXT_disjoint_timer_query"},c.TIMESTAMP_EXT={name:"TIMESTAMP_EXT",value:36392,description:"The current time.",extensionName:"EXT_disjoint_timer_query"},c.GPU_DISJOINT_EXT={name:"GPU_DISJOINT_EXT",value:36795,description:"A Boolean indicating whether or not the GPU performed any disjoint operation.",extensionName:"EXT_disjoint_timer_query"},c.zeroMeaningByCommand={getError:"NO_ERROR",blendFunc:"ZERO",blendFuncSeparate:"ZERO",readBuffer:"NONE",getFramebufferAttachmentParameter:"NONE",texParameterf:"NONE",texParameteri:"NONE",drawArrays:"POINTS",drawElements:"POINTS",drawArraysInstanced:"POINTS",drawArraysInstancedAngle:"POINTS",drawBuffers:"POINTS",drawElementsInstanced:"POINTS",drawRangeElements:"POINTS"},c.oneMeaningByCommand={blendFunc:"ONE",blendFuncSeparate:"ONE",drawArrays:"LINES",drawElements:"LINES",drawArraysInstanced:"LINES",drawArraysInstancedAngle:"LINES",drawBuffers:"LINES",drawElementsInstanced:"LINES",drawRangeElements:"LINES"};const x={},w={};(function(){for(const xn in c)if(c.hasOwnProperty(xn)){const A=c[xn];x[A.name]=A,w[A.value]=A}})();class T extends g{get analyserName(){return T.analyserName}appendToAnalysis(A,B){if(!A.commands)return;const J={total:0,totalTriangles:0,totalTriangleStrip:0,totalTriangleFan:0,totalLines:0,totalLineStrip:0,totalLineLoop:0,totalPoints:0};for(const Z of A.commands)Z.name==="drawArrays"&&Z.commandArguments.length>=3||Z.name==="drawArraysInstanced"&&Z.commandArguments.length>=3||Z.name==="drawArraysInstancedANGLE"&&Z.commandArguments.length>=3?this.appendToPrimitives(J,Z.commandArguments[0],Z.commandArguments[2]):Z.name==="drawElements"&&Z.commandArguments.length>=2||Z.name==="drawElementsInstanced"&&Z.commandArguments.length>=2||Z.name==="drawElementsInstancedANGLE"&&Z.commandArguments.length>=2?this.appendToPrimitives(J,Z.commandArguments[0],Z.commandArguments[1]):Z.name==="drawRangeElements"&&Z.commandArguments.length>=4&&this.appendToPrimitives(J,Z.commandArguments[0],Z.commandArguments[3]);B.total=J.total,B.triangles=J.totalTriangles,B.triangleStrip=J.totalTriangleStrip,B.triangleFan=J.totalTriangleFan,B.lines=J.totalLines,B.lineStrip=J.totalLineStrip,B.lineLoop=J.totalLineLoop,B.points=J.totalPoints}appendToPrimitives(A,B,J){B===c.POINTS.value?A.totalPoints+=J:B===c.LINES.value?A.totalLines+=J:B===c.LINE_STRIP.value?A.totalLineStrip+=J:B===c.LINE_LOOP.value?A.totalLineLoop+=J:B===c.TRIANGLES.value?A.totalTriangles+=J:B===c.TRIANGLE_STRIP.value?A.totalTriangleStrip+=J:B===c.TRIANGLE_FAN.value&&(A.totalTriangleFan+=J),A.total+=J}}T.analyserName="Primitives";class L{constructor(A){this.contextInformation=A,this.analysers=[],this.initAnalysers()}appendAnalyses(A){for(const B in this.analysers)this.analysers.hasOwnProperty(B)&&this.analysers[B].appendAnalysis(A)}initAnalysers(){this.analysers.push(new _(this.contextInformation),new v(this.contextInformation),new T(this.contextInformation))}}class P{static getWebGlObjectTag(A){return A[P.SPECTOROBJECTTAGKEY]}static attachWebGlObjectTag(A,B){B.displayText=P.stringifyWebGlObjectTag(B),A[P.SPECTOROBJECTTAGKEY]=B}static stringifyWebGlObjectTag(A){return A?`${A.typeName} - ID: ${A.id}`:"No tag available."}}P.SPECTOROBJECTTAGKEY="__SPECTOR_Object_TAG";class C{constructor(){this.id=0}get type(){return window[this.typeName]||null}tagWebGlObject(A){if(!this.type)return;let B;if(!A||(B=P.getWebGlObjectTag(A),B))return B;if(A instanceof this.type){const J=this.getNextId();return B={typeName:this.typeName,id:J},P.attachWebGlObjectTag(A,B),B}return B}getNextId(){return this.id++}}class I{constructor(A){this.options=A}createCapture(A,B,J){const Z=(class{static getStackTrace(O=0,U=0){const X=[];try{throw new Error("Errorator.")}catch(ee){if(ee.stack){const oe=ee.stack.split(`
`);for(let re=0,pe=oe.length;re<pe;re++)oe[re].match(/^\s*[A-Za-z0-9\-_\$]+\(/)?X.push(oe[re]):oe[re].indexOf("    at ")===0?(oe[re]=oe[re].replace("    at ",""),X.push(oe[re])):oe[re].indexOf("/<@http")!==-1?(oe[re]=oe[re].substring(oe[re].indexOf("/<@http")+3),X.push(oe[re])):oe[re].indexOf("@http")!==-1&&(oe[re]=oe[re].replace("@http"," (http"),oe[re]=oe[re]+")",X.push(oe[re]))}else if(ee.message){const oe=ee.message.split(`
`);for(let re=0,pe=oe.length;re<pe;re++)if(oe[re].match(/^\s*[A-Za-z0-9\-_\$]+\(/)){let He=oe[re];oe[re+1]&&(He+=" at "+oe[re+1],re++),X.push(He)}}}if(!X){let ee=arguments.callee.caller;for(;ee;){const oe=ee.toString(),re=oe.substring(oe.indexOf("function")+8,oe.indexOf(""))||"anonymous";X.push(re),ee=ee.caller}}if(X){X.shift();for(let ee=0;ee<O&&X.length>0;ee++)X.shift();for(let ee=0;ee<U&&X.length>0;ee++)X.pop()}return X}}).getStackTrace(4,1),be=A.name.indexOf("uniform")===0?this.stringifyUniform(A.arguments):this.stringify(A.arguments,A.result),Ne={id:B,startTime:A.startTime,commandEndTime:A.endTime,endTime:0,name:A.name,commandArguments:A.arguments,result:A.result,stackTrace:Z,status:0,marker:J,text:be};this.transformCapture(Ne);for(let O=0;O<Ne.commandArguments.length;O++){const U=Ne.commandArguments[O];U&&U.length&&U.length>50&&(Ne.commandArguments[O]="Array Length: "+U.length)}if(Ne.commandArguments){const O=[];for(let U=0;U<Ne.commandArguments.length;U++){const X=Ne.commandArguments[U];X===void 0?O.push(void 0):X===null?O.push(null):O.push(JSON.parse(this.stringifyJSON(X)))}Ne.commandArguments=O}return Ne.result&&(Ne.result=JSON.parse(this.stringifyJSON(Ne.result))),Ne}stringifyJSON(A){try{return JSON.stringify(A)}catch{return null}}transformCapture(A){}stringify(A,B){let J=this.spiedCommandName;return A&&A.length>0&&(J+=": "+this.stringifyArgs(A).join(", ")),B!=null&&(J+=" -> "+this.stringifyResult(B)),J}stringifyUniform(A){let B=this.spiedCommandName;if(A&&A.length>0){const J=[];J.push(this.stringifyValue(A[0]));for(let Z=1;Z<A.length;Z++)if(typeof A[Z]=="number"){const be=A[Z]+"";J.push(be)}else{const be=this.stringifyValue(A[Z]);J.push(be)}B+=": "+J.join(", ")}return B}stringifyArgs(A){const B=[];for(let J=0;J<A.length;J++){const Z=A[J],be=this.stringifyValue(Z);B.push(be)}return B}stringifyResult(A){if(A)return this.stringifyValue(A)}stringifyValue(A){if(A===null)return"null";if(A===void 0)return"undefined";const B=P.getWebGlObjectTag(A);return B?B.displayText:typeof A=="number"&&c.isWebGlConstant(A)?c.stringifyWebGlConstant(A,this.spiedCommandName):typeof A=="string"?A:A instanceof HTMLImageElement?A.src:A instanceof ArrayBuffer?"[--("+A.byteLength+")--]":A.length?"[..("+A.length+")..]":A.byteLength?"[..("+A.byteLength+")..]":A}}class F extends I{get spiedCommandName(){return F.commandName}stringifyArgs(A){var B,J;const Z=[];for(let be=0;be<A.length;be++){const Ne=A[be];if(be>0&&typeof Ne=="number")Z.push((J=(B=A[be])===null||B===void 0?void 0:B.toFixed(0))!==null&&J!==void 0?J:"0");else{const O=this.stringifyValue(Ne);Z.push(O)}}return Z}}F.commandName="bufferSubData";class R{static storeOriginFunction(A,B){if(!A||!A[B])return;const J=this.getOriginFunctionName(B);A[J]||(A[J]=A[B])}static resetOriginFunction(A,B){if(!A||!A[B])return;const J=this.getOriginFunctionName(B);A[J]&&(A[B]=A[J],delete A[J])}static storePrototypeOriginFunction(A,B){if(!A||!A.prototype[B])return;const J=this.getOriginFunctionName(B);A.prototype[J]||(A.prototype[J]=A.prototype[B])}static executePrototypeOriginFunction(A,B,J,Z){if(!A)return;const be=this.getOriginFunctionName(J);return B.prototype[be]?(A[be]||(A[be]=B.prototype[be]),this.executeFunction(A,be,Z)):void 0}static executeOriginFunction(A,B,J){if(!A)return;const Z=this.getOriginFunctionName(B);return A[Z]?this.executeFunction(A,Z,J):void 0}static executeFunction(A,B,J){const Z=J;if(Z===void 0||Z.length===0)return A[B]();switch(Z.length){case 1:return A[B](Z[0]);case 2:return A[B](Z[0],Z[1]);case 3:return A[B](Z[0],Z[1],Z[2]);case 4:return A[B](Z[0],Z[1],Z[2],Z[3]);case 5:return A[B](Z[0],Z[1],Z[2],Z[3],Z[4]);case 6:return A[B](Z[0],Z[1],Z[2],Z[3],Z[4],Z[5]);case 7:return A[B](Z[0],Z[1],Z[2],Z[3],Z[4],Z[5],Z[6]);case 8:return A[B](Z[0],Z[1],Z[2],Z[3],Z[4],Z[5],Z[6],Z[7]);case 9:return A[B](Z[0],Z[1],Z[2],Z[3],Z[4],Z[5],Z[6],Z[7],Z[8]);case 10:return A[B](Z[0],Z[1],Z[2],Z[3],Z[4],Z[5],Z[6],Z[7],Z[8],Z[9]);case 11:return A[B](Z[0],Z[1],Z[2],Z[3],Z[4],Z[5],Z[6],Z[7],Z[8],Z[9],Z[10]);case 12:return A[B](Z[0],Z[1],Z[2],Z[3],Z[4],Z[5],Z[6],Z[7],Z[8],Z[9],Z[10],Z[11]);case 13:return A[B](Z[0],Z[1],Z[2],Z[3],Z[4],Z[5],Z[6],Z[7],Z[8],Z[9],Z[10],Z[11],Z[12]);case 14:return A[B](Z[0],Z[1],Z[2],Z[3],Z[4],Z[5],Z[6],Z[7],Z[8],Z[9],Z[10],Z[11],Z[12],Z[13]);case 15:return A[B](Z[0],Z[1],Z[2],Z[3],Z[4],Z[5],Z[6],Z[7],Z[8],Z[9],Z[10],Z[11],Z[12],Z[13],Z[14]);case 16:return A[B](Z[0],Z[1],Z[2],Z[3],Z[4],Z[5],Z[6],Z[7],Z[8],Z[9],Z[10],Z[11],Z[12],Z[13],Z[14],Z[15]);case 17:return A[B](Z[0],Z[1],Z[2],Z[3],Z[4],Z[5],Z[6],Z[7],Z[8],Z[9],Z[10],Z[11],Z[12],Z[13],Z[14],Z[15],Z[16]);case 18:return A[B](Z[0],Z[1],Z[2],Z[3],Z[4],Z[5],Z[6],Z[7],Z[8],Z[9],Z[10],Z[11],Z[12],Z[13],Z[14],Z[15],Z[16],Z[17]);case 19:return A[B](Z[0],Z[1],Z[2],Z[3],Z[4],Z[5],Z[6],Z[7],Z[8],Z[9],Z[10],Z[11],Z[12],Z[13],Z[14],Z[15],Z[16],Z[17],Z[18]);case 20:return A[B](Z[0],Z[1],Z[2],Z[3],Z[4],Z[5],Z[6],Z[7],Z[8],Z[9],Z[10],Z[11],Z[12],Z[13],Z[14],Z[15],Z[16],Z[17],Z[18],Z[19]);default:return A[B].apply(A,Z)}}static getOriginFunctionName(A){return this.originFunctionPrefix+A}}R.originFunctionPrefix="__SPECTOR_Origin_";class D extends I{get spiedCommandName(){return D.commandName}stringifyArgs(A){const B=[];if(A.length>0){const J=A[0],Z=this.stringifyValue(J);B.push(Z)}if(A.length>1){const J=""+A[1];B.push(J)}return A.length>2&&B.push(A[2]),B}}D.commandName="bindAttribLocation";class G extends I{get spiedCommandName(){return G.commandName}stringifyArgs(A){const B=[],J=this.options.context.getParameter(c.READ_FRAMEBUFFER_BINDING.value),Z=this.options.tagWebGlObject(J);B.push("READ FROM: "+this.stringifyValue(Z));const be=this.options.context.getParameter(c.DRAW_FRAMEBUFFER_BINDING.value),Ne=this.options.tagWebGlObject(be);B.push("WRITE TO: "+this.stringifyValue(Ne));for(let O=0;O<8;O++)B.push(A[O]);return(A[8]&c.DEPTH_BUFFER_BIT.value)===c.DEPTH_BUFFER_BIT.value&&B.push(c.DEPTH_BUFFER_BIT.name),(A[8]&c.STENCIL_BUFFER_BIT.value)===c.STENCIL_BUFFER_BIT.value&&B.push(c.STENCIL_BUFFER_BIT.name),(A[8]&c.COLOR_BUFFER_BIT.value)===c.COLOR_BUFFER_BIT.value&&B.push(c.COLOR_BUFFER_BIT.name),B.push(c.stringifyWebGlConstant(A[9],"blitFrameBuffer")),B}}G.commandName="blitFrameBuffer";class j extends I{get spiedCommandName(){return j.commandName}stringifyArgs(A){const B=[];return(A[0]&c.DEPTH_BUFFER_BIT.value)===c.DEPTH_BUFFER_BIT.value&&B.push(c.DEPTH_BUFFER_BIT.name),(A[0]&c.STENCIL_BUFFER_BIT.value)===c.STENCIL_BUFFER_BIT.value&&B.push(c.STENCIL_BUFFER_BIT.name),(A[0]&c.COLOR_BUFFER_BIT.value)===c.COLOR_BUFFER_BIT.value&&B.push(c.COLOR_BUFFER_BIT.name),B}}j.commandName="clear";const k=["lineWidth"];class V extends I{constructor(A,B){super(A),this.internalSpiedCommandName=B,this.isDeprecated=k.indexOf(this.spiedCommandName)>-1}get spiedCommandName(){return this.internalSpiedCommandName}transformCapture(A){this.isDeprecated&&(A.status=50)}}class H extends I{get spiedCommandName(){return H.commandName}stringifyArgs(A){const B=[];return B.push(A[0]),B}}H.commandName="disableVertexAttribArray";class te extends I{get spiedCommandName(){return te.commandName}stringifyArgs(A){const B=[];return B.push(c.stringifyWebGlConstant(A[0],"drawArrays")),B.push(A[1]+" indices"),B.push(A[2]),B}}te.commandName="drawArrays";class ne extends I{get spiedCommandName(){return ne.commandName}stringifyArgs(A){const B=[];return B.push(c.stringifyWebGlConstant(A[0],"drawArraysInstanced")),B.push(A[1]),B.push(A[2]),B.push(A[3]),B}}ne.commandName="drawArraysInstanced";class he extends I{get spiedCommandName(){return he.commandName}stringifyArgs(A){const B=[];return B.push(c.stringifyWebGlConstant(A[0],"drawArraysInstancedANGLE")),B.push(A[1]),B.push(A[2]),B.push(A[3]),B}}he.commandName="drawArraysInstancedANGLE";class ie extends I{get spiedCommandName(){return ie.commandName}stringifyArgs(A){const B=[];return B.push(c.stringifyWebGlConstant(A[0],"drawElements")),B.push(A[1]+" indices"),B.push(c.stringifyWebGlConstant(A[2],"drawElements")),B.push(A[3]),B}}ie.commandName="drawElements";class ce extends I{get spiedCommandName(){return ce.commandName}stringifyArgs(A){const B=[];return B.push(c.stringifyWebGlConstant(A[0],"drawElementsInstancedANGLE")),B.push(A[1]+" indices"),B.push(c.stringifyWebGlConstant(A[2],"drawElementsInstancedANGLE")),B.push(A[3]),B.push(A[4]),B}}ce.commandName="drawElementsInstancedANGLE";class Se extends I{get spiedCommandName(){return Se.commandName}stringifyArgs(A){const B=[];return B.push(c.stringifyWebGlConstant(A[0],"drawElementsInstanced")),B.push(A[1]+" indices"),B.push(c.stringifyWebGlConstant(A[2],"drawElementsInstanced")),B.push(A[3]),B.push(A[4]),B}}Se.commandName="drawElementsInstanced";class Ee extends I{get spiedCommandName(){return Ee.commandName}stringifyArgs(A){const B=[];return B.push(c.stringifyWebGlConstant(A[0],"drawRangeElements")),B.push(A[1]),B.push(A[2]),B.push(A[3]),B.push(c.stringifyWebGlConstant(A[4],"drawRangeElements")),B.push(A[5]),B}}Ee.commandName="drawRangeElements";class me extends I{get spiedCommandName(){return me.commandName}stringifyResult(A){if(A)return`name: ${A.name}, size: ${A.size}, type: ${A.type}`}}me.commandName="getActiveAttrib";class le extends I{get spiedCommandName(){return le.commandName}stringifyResult(A){if(A)return`name: ${A.name}, size: ${A.size}, type: ${A.type}`}}le.commandName="getActiveUniform";class we extends I{get spiedCommandName(){return we.commandName}stringifyResult(A){var B;if(A!=null)return(B=A?.toFixed(0))!==null&&B!==void 0?B:"0"}}we.commandName="getAttribLocation";class Re extends I{get spiedCommandName(){return Re.commandName}stringifyResult(A){return A?"true":"false"}}Re.commandName="getExtension";class Fe extends I{get spiedCommandName(){return Fe.commandName}stringifyResult(A){if(!A)return"null";const B=P.getWebGlObjectTag(A);return B?B.displayText:A}}Fe.commandName="getParameter";class qe extends I{get spiedCommandName(){return qe.commandName}stringifyResult(A){if(A)return`min: ${A.rangeMin}, max: ${A.rangeMax}, precision: ${A.precision}`}}qe.commandName="getShaderPrecisionFormat";class ot extends I{get spiedCommandName(){return ot.commandName}stringifyResult(A){if(A)return`name: ${A.name}, size: ${A.size}, type: ${A.type}`}}ot.commandName="getTransformFeedbackVarying";class dn extends I{get spiedCommandName(){return dn.commandName}stringifyArgs(A){const B=[];return B.push(c.stringifyWebGlConstant(A[0],"multiDrawArraysInstancedBaseInstanceWEBGL")),B.push(`drawCount=${A[9]}`),B.push(A[2]),B.push(A[4]),B.push(A[6]),B.push(A[8]),B}}dn.commandName="multiDrawArraysInstancedBaseInstanceWEBGL";class mn extends I{get spiedCommandName(){return mn.commandName}stringifyArgs(A){const B=[];return B.push(c.stringifyWebGlConstant(A[0],"drawArrays")),B.push(`drawCount=${A[7]}`),B.push(A[2]),B.push(A[4]),B.push(A[6]),B}}mn.commandName="multiDrawArraysInstancedWEBGL";class pn extends I{get spiedCommandName(){return pn.commandName}stringifyArgs(A){const B=[];return B.push(c.stringifyWebGlConstant(A[0],"drawArrays")),B.push(`drawCount=${A[5]}`),B.push(A[2]),B.push(A[4]),B}}pn.commandName="multiDrawArraysWEBGL";class Ae extends I{get spiedCommandName(){return Ae.commandName}stringifyArgs(A){const B=[];return B.push(c.stringifyWebGlConstant(A[0],"drawArrays")),B.push(c.stringifyWebGlConstant(A[3],"drawArrays")),B.push(`drawCount=${A[11]}`),B.push(A[2]),B.push(A[4]),B.push(A[6]),B.push(A[8]),B.push(A[10]),B}}Ae.commandName="multiDrawElementsInstancedBaseVertexBaseInstanceWEBGL";class Bt extends I{get spiedCommandName(){return Bt.commandName}stringifyArgs(A){const B=[];return B.push(c.stringifyWebGlConstant(A[0],"drawArrays")),B.push(c.stringifyWebGlConstant(A[3],"drawArrays")),B.push(`drawCount=${A[8]}`),B.push(A[2]),B.push(A[5]),B.push(A[7]),B}}Bt.commandName="multiDrawElementsInstancedWEBGL";class Tt extends I{get spiedCommandName(){return Tt.commandName}stringifyArgs(A){const B=[];return B.push(c.stringifyWebGlConstant(A[0],"drawArrays")),B.push(c.stringifyWebGlConstant(A[3],"drawArrays")),B.push(`drawCount=${A[6]}`),B.push(A[2]),B.push(A[5]),B}}Tt.commandName="multiDrawElementsWEBGL";class zt extends I{get spiedCommandName(){return zt.commandName}stringifyArgs(A){const B=[];return B.push(c.stringifyWebGlConstant(A[0],"drawArraysInstanced")),B.push(A[1]),B.push(A[2]),B.push(A[3]),B.push(`baseInstance = ${A[4]}`),B}}zt.commandName="drawArraysInstancedBaseInstanceWEBGL";class At extends I{get spiedCommandName(){return At.commandName}stringifyArgs(A){const B=[];return B.push(c.stringifyWebGlConstant(A[0],"drawElementsInstanced")),B.push(A[1]+" indices"),B.push(c.stringifyWebGlConstant(A[2],"drawElementsInstanced")),B.push(A[3]),B.push(A[4]),B.push(`baseVertex = ${A[5]}`),B.push(`baseInstance = ${A[6]}`),B}}At.commandName="drawElementsInstancedBaseVertexBaseInstanceWEBGL";class yn extends I{get spiedCommandName(){return yn.commandName}stringifyArgs(A){var B,J;const Z=[];for(let be=0;be<4;be++)Z.push((J=(B=A[be])===null||B===void 0?void 0:B.toFixed(0))!==null&&J!==void 0?J:"0");return Z}}function nt(xn){return xn==null?"":`${xn.toFixed(0)} (0b${(xn>>>0).toString(2)})`}yn.commandName="scissor";class Nt extends I{get spiedCommandName(){return Nt.commandName}stringifyArgs(A){const B=[];return B.push(nt(A[0])),B}}Nt.commandName="stencilMask";class en extends I{get spiedCommandName(){return en.commandName}stringifyArgs(A){const B=[];return B.push(c.stringifyWebGlConstant(A[0],"stencilMaskSeparate")),B.push(nt(A[1])),B}}en.commandName="stencilMaskSeparate";class _e extends I{get spiedCommandName(){return _e.commandName}stringifyArgs(A){const B=[];return B.push(c.stringifyWebGlConstant(A[0],"stencilFunc")),B.push(nt(A[1])),B.push(nt(A[2])),B}}_e.commandName="stencilFunc";class ue extends I{get spiedCommandName(){return ue.commandName}stringifyArgs(A){const B=[];return B.push(c.stringifyWebGlConstant(A[0],"stencilFuncSeparate")),B.push(c.stringifyWebGlConstant(A[1],"stencilFuncSeparate")),B.push(nt(A[2])),B.push(nt(A[3])),B}}ue.commandName="stencilFuncSeparate";class ze extends I{get spiedCommandName(){return ze.commandName}stringifyArgs(A){const B=[];return B.push(A[0]),B.push(A[1]),B.push(c.stringifyWebGlConstant(A[2],"vertexAttribPointer")),B.push(A[3]),B.push(A[4]),B.push(A[5]),B}}ze.commandName="vertexAttribPointer";class rt extends I{get spiedCommandName(){return rt.commandName}stringifyArgs(A){const B=[];for(let J=0;J<4;J++)B.push(A[J].toFixed(0));return B}}rt.commandName="viewport";class pt extends I{get spiedCommandName(){return pt.commandName}stringifyArgs(A){const B=[];return B.push(A[0]),B}}pt.commandName="enableVertexAttribArray";class ht{constructor(A){this.spiedCommandName=A.spiedCommandName,this.spiedCommandRunningContext=A.spiedCommandRunningContext,this.spiedCommand=this.spiedCommandRunningContext[this.spiedCommandName],R.storeOriginFunction(this.spiedCommandRunningContext,this.spiedCommandName),this.callback=A.callback,this.commandOptions={context:A.context,contextVersion:A.contextVersion,extensions:A.extensions,toggleCapture:A.toggleCapture},this.initCustomCommands(),this.initCommand()}spy(){this.spiedCommandRunningContext[this.spiedCommandName]=this.overloadedCommand}unSpy(){this.spiedCommandRunningContext[this.spiedCommandName]=this.spiedCommand}createCapture(A,B,J){return this.command.createCapture(A,B,J)}initCommand(){ht.customCommandsConstructors[this.spiedCommandName]?this.command=ht.customCommandsConstructors[this.spiedCommandName](this.commandOptions):this.command=new V(this.commandOptions,this.spiedCommandName),this.overloadedCommand=this.getSpy()}getSpy(){const A=this;return function(){const B=b.now,J=R.executeOriginFunction(A.spiedCommandRunningContext,A.spiedCommandName,arguments),Z=b.now,be={name:A.spiedCommandName,arguments,result:J,startTime:B,endTime:Z};return A.callback(A,be),J}}initCustomCommands(){ht.customCommandsConstructors||(ht.customCommandsConstructors={[D.commandName]:A=>new D(A),[G.commandName]:A=>new G(A),[F.commandName]:A=>new F(A),[j.commandName]:A=>new j(A),[H.commandName]:A=>new H(A),[te.commandName]:A=>new te(A),[ne.commandName]:A=>new ne(A),[he.commandName]:A=>new he(A),[ie.commandName]:A=>new ie(A),[Se.commandName]:A=>new Se(A),[ce.commandName]:A=>new ce(A),[Ee.commandName]:A=>new Ee(A),[me.commandName]:A=>new me(A),[le.commandName]:A=>new le(A),[we.commandName]:A=>new we(A),[Re.commandName]:A=>new Re(A),[Fe.commandName]:A=>new Fe(A),[qe.commandName]:A=>new qe(A),[ot.commandName]:A=>new ot(A),[dn.commandName]:A=>new dn(A),[mn.commandName]:A=>new mn(A),[pn.commandName]:A=>new pn(A),[Ae.commandName]:A=>new Ae(A),[Bt.commandName]:A=>new Bt(A),[Tt.commandName]:A=>new Tt(A),[zt.commandName]:A=>new zt(A),[At.commandName]:A=>new At(A),[yn.commandName]:A=>new yn(A),[Nt.commandName]:A=>new Nt(A),[en.commandName]:A=>new en(A),[_e.commandName]:A=>new _e(A),[ue.commandName]:A=>new ue(A),[ze.commandName]:A=>new ze(A),[rt.commandName]:A=>new rt(A),[pt.commandName]:A=>new pt(A)})}}class Yt{constructor(A){this.options=A,this.context=A.context,this.contextVersion=A.contextVersion,this.extensions=A.extensions,this.toggleCapture=A.toggleCapture,this.consumeCommands=this.getConsumeCommands(),this.changeCommandsByState=this.getChangeCommandsByState(),this.commandNameToStates=this.getCommandNameToStates()}get requireStartAndStopStates(){return!0}startCapture(A,B,J){return this.quickCapture=B,this.fullCapture=J,this.capturedCommandsByState={},A&&this.requireStartAndStopStates&&(this.currentState={},this.readFromContextNoSideEffects()),this.copyCurrentStateToPrevious(),this.currentState={},this.previousState}stopCapture(){return this.requireStartAndStopStates&&this.readFromContextNoSideEffects(),this.analyse(void 0),this.currentState}registerCallbacks(A){for(const B in this.changeCommandsByState)if(this.changeCommandsByState.hasOwnProperty(B))for(const J of this.changeCommandsByState[B])A[J]=A[J]||[],A[J].push(this.onChangeCommand.bind(this));for(const B of this.consumeCommands)A[B]=A[B]||[],A[B].push(this.onConsumeCommand.bind(this))}getStateData(){return this.currentState}getConsumeCommands(){return[]}getChangeCommandsByState(){return{}}copyCurrentStateToPrevious(){this.currentState&&(this.previousState=this.currentState)}onChangeCommand(A){const B=this.commandNameToStates[A.name];for(const J of B){if(!this.isValidChangeCommand(A,J))return;this.capturedCommandsByState[J]=this.capturedCommandsByState[J]||[],this.capturedCommandsByState[J].push(A)}}isValidChangeCommand(A,B){return!0}onConsumeCommand(A){this.isValidConsumeCommand(A)&&(this.readFromContextNoSideEffects(),this.analyse(A),this.storeCommandIds(),A[this.stateName]=this.currentState,this.startCapture(!1,this.quickCapture,this.fullCapture))}isValidConsumeCommand(A){return this.lastCommandName=A?.name,!0}analyse(A){for(const B in this.capturedCommandsByState)if(this.capturedCommandsByState.hasOwnProperty(B)){const J=this.capturedCommandsByState[B],Z=J.length-1;if(Z>=0)if(A){for(let O=0;O<Z;O++){const U=J[O];U.consumeCommandId=A.id,this.changeCommandCaptureStatus(U,30)}const be=this.isStateEnableNoSideEffects(B,A.commandArguments),Ne=J[Z];Ne.consumeCommandId=A.id,this.areStatesEquals(this.currentState[B],this.previousState[B])?this.changeCommandCaptureStatus(Ne,30):be?this.changeCommandCaptureStatus(Ne,40):this.changeCommandCaptureStatus(Ne,20)}else for(let be=0;be<J.length;be++){const Ne=J[be];this.changeCommandCaptureStatus(Ne,10)}}}storeCommandIds(){const A=["unusedCommandIds","disabledCommandIds","redundantCommandIds","validCommandIds"];for(const B of A)this.currentState[B]=[];for(const B in this.capturedCommandsByState)if(this.capturedCommandsByState.hasOwnProperty(B)){const J=this.capturedCommandsByState[B];for(const Z of J)switch(Z.status){case 10:this.currentState.unusedCommandIds.push(Z.id);break;case 20:this.currentState.disabledCommandIds.push(Z.id);break;case 30:this.currentState.redundantCommandIds.push(Z.id);break;case 40:this.currentState.validCommandIds.push(Z.id)}}for(const B of A)this.currentState[B].length||delete this.currentState[B]}changeCommandCaptureStatus(A,B){return A.status<B&&(A.status=B,!0)}areStatesEquals(A,B){if(typeof A!=typeof B||A&&!B||B&&!A)return!1;if(A==null)return!0;if(A.length&&B.length&&typeof A!="string"){if(A.length!==B.length)return!1;for(let J=0;J<A.length;J++)if(A[J]!==B[J])return!1;return!0}return A===B}isStateEnable(A,B){return!0}getSpectorData(A){if(A)return{__SPECTOR_Object_TAG:P.getWebGlObjectTag(A)||this.options.tagWebGlObject(A),__SPECTOR_Object_CustomData:A.__SPECTOR_Object_CustomData,__SPECTOR_Metadata:A.__SPECTOR_Metadata}}readFromContextNoSideEffects(){this.toggleCapture(!1),this.readFromContext(),this.toggleCapture(!0)}isStateEnableNoSideEffects(A,B){this.toggleCapture(!1);const J=this.isStateEnable(A,B);return this.toggleCapture(!0),J}getCommandNameToStates(){const A={};for(const B in this.changeCommandsByState)if(this.changeCommandsByState.hasOwnProperty(B))for(const J of this.changeCommandsByState[B])A[J]=A[J]||[],A[J].push(B);return A}}class Qt extends Yt{getWebgl1Parameters(){return[]}getWebgl2Parameters(){return[]}getChangeCommandsByState(){this.parameters=[],this.parameters.push(this.getWebgl1Parameters()),this.contextVersion>1&&this.parameters.push(this.getWebgl2Parameters());const A={};for(let B=1;B<=this.contextVersion&&!(B>this.parameters.length);B++)if(this.parameters[B-1]){for(const J of this.parameters[B-1])if(J.changeCommands)for(const Z of J.changeCommands)A[J.constant.name]=A[J.constant.name]||[],A[J.constant.name].push(Z)}return A}readFromContext(){for(let A=1;A<=this.contextVersion&&!(A>this.parameters.length);A++)for(const B of this.parameters[A-1]){const J=this.readParameterFromContext(B);if(J==null){const be=this.stringifyParameterValue(J,B);this.currentState[B.constant.name]=be;continue}const Z=P.getWebGlObjectTag(J);if(Z)this.currentState[B.constant.name]=Z;else{const be=this.stringifyParameterValue(J,B);this.currentState[B.constant.name]=be}}}readParameterFromContext(A){return A.constant.extensionName&&!this.extensions[A.constant.extensionName]?`Extension ${A.constant.extensionName} is unavailable.`:this.context.getParameter(A.constant.value)}stringifyParameterValue(A,B){if(A===null)return"null";if(A===void 0)return"undefined";if(B.returnType===30)return nt(A);if(typeof A=="number"&&c.isWebGlConstant(A)){if(B.returnType===20){const J=B.changeCommands&&B.changeCommands[0]||"";return c.stringifyWebGlConstant(A,J)}return A}if(A.length&&typeof A!="string"){const J=[];for(let Z=0;Z<A.length;Z++)J.push(A[Z]);return J}return A}}class Cn extends Qt{get stateName(){return Cn.stateName}getWebgl1Parameters(){return[{constant:c.PACK_ALIGNMENT,changeCommands:["pixelStorei"]},{constant:c.UNPACK_ALIGNMENT,changeCommands:["pixelStorei"]},{constant:c.UNPACK_COLORSPACE_CONVERSION_WEBGL,returnType:20,changeCommands:["pixelStorei"]},{constant:c.UNPACK_FLIP_Y_WEBGL,changeCommands:["pixelStorei"]},{constant:c.UNPACK_PREMULTIPLY_ALPHA_WEBGL,changeCommands:["pixelStorei"]}]}getWebgl2Parameters(){return[{constant:c.PACK_ROW_LENGTH,changeCommands:["pixelStorei"]},{constant:c.PACK_SKIP_PIXELS,changeCommands:["pixelStorei"]},{constant:c.PACK_SKIP_ROWS,changeCommands:["pixelStorei"]},{constant:c.UNPACK_IMAGE_HEIGHT,changeCommands:["pixelStorei"]},{constant:c.UNPACK_SKIP_PIXELS,changeCommands:["pixelStorei"]},{constant:c.UNPACK_SKIP_ROWS,changeCommands:["pixelStorei"]},{constant:c.UNPACK_SKIP_IMAGES,changeCommands:["pixelStorei"]}]}getConsumeCommands(){return["readPixels","texImage2D","texSubImage2D"]}isValidChangeCommand(A,B){return x[B].value===A.commandArguments[0]}}Cn.stateName="AlignmentState";class An extends Qt{get stateName(){return An.stateName}getWebgl1Parameters(){return[{constant:c.BLEND,changeCommands:["enable","disable"]},{constant:c.BLEND_COLOR,changeCommands:["blendColor"]},{constant:c.BLEND_DST_ALPHA,returnType:20,changeCommands:["blendFunc","blendFuncSeparate"]},{constant:c.BLEND_DST_RGB,returnType:20,changeCommands:["blendFunc","blendFuncSeparate"]},{constant:c.BLEND_EQUATION_ALPHA,returnType:20,changeCommands:["blendEquation","blendEquationSeparate"]},{constant:c.BLEND_EQUATION_RGB,returnType:20,changeCommands:["blendEquation","blendEquationSeparate"]},{constant:c.BLEND_SRC_ALPHA,returnType:20,changeCommands:["blendFunc","blendFuncSeparate"]},{constant:c.BLEND_SRC_RGB,returnType:20,changeCommands:["blendFunc","blendFuncSeparate"]}]}isValidChangeCommand(A,B){return A.name!=="enable"&&A.name!=="disable"||A.commandArguments[0]===c.BLEND.value}getConsumeCommands(){return p}isStateEnable(A,B){return this.context.isEnabled(c.BLEND.value)}}An.stateName="BlendState";class Pt extends Qt{get stateName(){return Pt.stateName}getWebgl1Parameters(){return[{constant:c.COLOR_CLEAR_VALUE,changeCommands:["clearColor"]},{constant:c.DEPTH_CLEAR_VALUE,changeCommands:["clearDepth"]},{constant:c.STENCIL_CLEAR_VALUE,changeCommands:["clearStencil"]}]}getConsumeCommands(){return["clear"]}isStateEnable(A,B){switch(A){case c.COLOR_CLEAR_VALUE.name:return c.COLOR_BUFFER_BIT.value===(B[0]&c.COLOR_BUFFER_BIT.value);case c.DEPTH_CLEAR_VALUE.name:return c.DEPTH_BUFFER_BIT.value===(B[0]&c.DEPTH_BUFFER_BIT.value);case c.STENCIL_CLEAR_VALUE.name:return c.STENCIL_BUFFER_BIT.value===(B[0]&c.STENCIL_BUFFER_BIT.value)}return!1}}Pt.stateName="ClearState";class on extends Qt{get stateName(){return on.stateName}getWebgl1Parameters(){return[{constant:c.COLOR_WRITEMASK,changeCommands:["colorMask"]}]}getConsumeCommands(){return p}}on.stateName="ColorState";class Pn extends Qt{get stateName(){return Pn.stateName}getWebgl1Parameters(){return[{constant:c.SAMPLE_COVERAGE_VALUE,changeCommands:["sampleCoverage"]},{constant:c.SAMPLE_COVERAGE_INVERT,changeCommands:["sampleCoverage"]}]}getWebgl2Parameters(){return[{constant:c.SAMPLE_COVERAGE,changeCommands:["enable","disable"]},{constant:c.SAMPLE_ALPHA_TO_COVERAGE,changeCommands:["enable","disable"]}]}isValidChangeCommand(A,B){return A.name!=="enable"&&A.name!=="disable"||(A.commandArguments[0]===c.SAMPLE_COVERAGE.value?B===c.SAMPLE_COVERAGE.name:A.commandArguments[0]===c.SAMPLE_ALPHA_TO_COVERAGE.value&&B===c.SAMPLE_ALPHA_TO_COVERAGE.name)}getConsumeCommands(){return p}isStateEnable(A,B){return this.contextVersion===2&&this.context.isEnabled(c.SAMPLE_COVERAGE.value)}}Pn.stateName="CoverageState";class Ge extends Qt{get stateName(){return Ge.stateName}getWebgl1Parameters(){return[{constant:c.CULL_FACE,changeCommands:["enable","disable"]},{constant:c.CULL_FACE_MODE,returnType:20,changeCommands:["cullFace"]}]}getConsumeCommands(){return p}isValidChangeCommand(A,B){return A.name!=="enable"&&A.name!=="disable"||A.commandArguments[0]===c.CULL_FACE.value}isStateEnable(A,B){return this.context.isEnabled(c.CULL_FACE.value)}}Ge.stateName="CullState";class lt extends Qt{get stateName(){return lt.stateName}getWebgl1Parameters(){return[{constant:c.DEPTH_TEST,changeCommands:["enable","disable"]},{constant:c.DEPTH_FUNC,returnType:20,changeCommands:["depthFunc"]},{constant:c.DEPTH_RANGE,changeCommands:["depthRange"]},{constant:c.DEPTH_WRITEMASK,changeCommands:["depthMask"]}]}getConsumeCommands(){return p}isValidChangeCommand(A,B){return A.name!=="enable"&&A.name!=="disable"||A.commandArguments[0]===c.DEPTH_TEST.value}isStateEnable(A,B){return this.context.isEnabled(c.DEPTH_TEST.value)}}lt.stateName="DepthState";class Xt extends Qt{get stateName(){return Xt.stateName}getWebgl1Parameters(){return[{constant:c.DITHER,changeCommands:["enable","disable"]},{constant:c.VIEWPORT,changeCommands:["viewPort"]},{constant:c.FRONT_FACE,returnType:20,changeCommands:["frontFace"]},{constant:c.FRAGMENT_SHADER_DERIVATIVE_HINT_OES,changeCommands:["hint"]}]}getWebgl2Parameters(){return[{constant:c.RASTERIZER_DISCARD,changeCommands:["enable","disable"]},{constant:c.FRAGMENT_SHADER_DERIVATIVE_HINT,changeCommands:["hint"]}]}isValidChangeCommand(A,B){return A.name==="enable"||A.name==="disable"?A.commandArguments[0]===c.DITHER.value?B===c.DITHER.name:A.commandArguments[0]===c.RASTERIZER_DISCARD.value&&B===c.RASTERIZER_DISCARD.name:A.name!=="hint"||(A.commandArguments[0]===c.FRAGMENT_SHADER_DERIVATIVE_HINT_OES.value?B===c.FRAGMENT_SHADER_DERIVATIVE_HINT_OES.name:A.commandArguments[0]===c.FRAGMENT_SHADER_DERIVATIVE_HINT.value&&B===c.FRAGMENT_SHADER_DERIVATIVE_HINT.name)}getConsumeCommands(){return p}isStateEnable(A,B){switch(A){case c.DITHER.name:return this.context.isEnabled(c.DITHER.value);case c.RASTERIZER_DISCARD.name:return this.context.isEnabled(c.RASTERIZER_DISCARD.value)}return!0}}Xt.stateName="DrawState";class Xe extends Qt{get stateName(){return Xe.stateName}getWebgl1Parameters(){return[{constant:c.GENERATE_MIPMAP_HINT,changeCommands:["hint"]}]}getConsumeCommands(){return["generateMipmap"]}}Xe.stateName="MipmapHintState";class mt extends Qt{get stateName(){return mt.stateName}getWebgl1Parameters(){return[{constant:c.POLYGON_OFFSET_FILL,changeCommands:["enable","disable"]},{constant:c.POLYGON_OFFSET_FACTOR,changeCommands:["polygonOffset"]},{constant:c.POLYGON_OFFSET_UNITS,changeCommands:["polygonOffset"]}]}isValidChangeCommand(A,B){return A.name!=="enable"&&A.name!=="disable"||A.commandArguments[0]===c.POLYGON_OFFSET_FILL.value}getConsumeCommands(){return p}isStateEnable(A,B){return this.context.isEnabled(c.POLYGON_OFFSET_FILL.value)}}mt.stateName="PolygonOffsetState";class $t extends Qt{get stateName(){return $t.stateName}getWebgl1Parameters(){return[{constant:c.SCISSOR_TEST,changeCommands:["enable","disable"]},{constant:c.SCISSOR_BOX,changeCommands:["scissor"]}]}isValidChangeCommand(A,B){return A.name!=="enable"&&A.name!=="disable"||A.commandArguments[0]===c.SCISSOR_TEST.value}getConsumeCommands(){return[...p,"clear"]}isStateEnable(A,B){return this.context.isEnabled(c.SCISSOR_TEST.value)}}$t.stateName="ScissorState";class gn extends Qt{get stateName(){return gn.stateName}getWebgl1Parameters(){return[{constant:c.STENCIL_TEST,changeCommands:["enable","disable"]},{constant:c.STENCIL_BACK_FAIL,returnType:20,changeCommands:["stencilOp","stencilOpSeparate"]},{constant:c.STENCIL_BACK_FUNC,returnType:20,changeCommands:["stencilFunc","stencilFuncSeparate"]},{constant:c.STENCIL_BACK_PASS_DEPTH_FAIL,returnType:20,changeCommands:["stencilOp","stencilOpSeparate"]},{constant:c.STENCIL_BACK_PASS_DEPTH_PASS,returnType:20,changeCommands:["stencilOp","stencilOpSeparate"]},{constant:c.STENCIL_BACK_REF,changeCommands:["stencilFunc","stencilFuncSeparate"]},{constant:c.STENCIL_BACK_VALUE_MASK,returnType:30,changeCommands:["stencilFunc","stencilFuncSeparate"]},{constant:c.STENCIL_BACK_WRITEMASK,returnType:30,changeCommands:["stencilMask","stencilMaskSeparate"]},{constant:c.STENCIL_FAIL,returnType:20,changeCommands:["stencilOp","stencilOpSeparate"]},{constant:c.STENCIL_FUNC,returnType:20,changeCommands:["stencilFunc","stencilFuncSeparate"]},{constant:c.STENCIL_PASS_DEPTH_FAIL,returnType:20,changeCommands:["stencilOp","stencilOpSeparate"]},{constant:c.STENCIL_PASS_DEPTH_PASS,returnType:20,changeCommands:["stencilOp","stencilOpSeparate"]},{constant:c.STENCIL_REF,changeCommands:["stencilFunc","stencilFuncSeparate"]},{constant:c.STENCIL_VALUE_MASK,returnType:30,changeCommands:["stencilFunc","stencilFuncSeparate"]},{constant:c.STENCIL_WRITEMASK,returnType:30,changeCommands:["stencilMask","stencilMaskSeparate"]}]}readFromContext(){super.readFromContext();const A=this.context,B=c.FRAMEBUFFER.value,J=c.STENCIL_ATTACHMENT.value;let Z=0;A.getParameter(c.FRAMEBUFFER_BINDING.value)?this.context.getFramebufferAttachmentParameter(B,J,c.FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE.value)!==c.NONE.value&&(this.contextVersion>1?Z=this.context.getFramebufferAttachmentParameter(B,J,c.FRAMEBUFFER_ATTACHMENT_STENCIL_SIZE.value):this.context.getFramebufferAttachmentParameter(B,J,c.FRAMEBUFFER_ATTACHMENT_OBJECT_NAME.value)===c.RENDERBUFFER.value&&(Z=A.getRenderbufferParameter(A.RENDERBUFFER,A.RENDERBUFFER_STENCIL_SIZE))):Z=this.readParameterFromContext({constant:c.STENCIL_BITS}),this.currentState[c.STENCIL_BITS.name]=""+Z}isValidChangeCommand(A,B){return A.name==="enable"||A.name==="disable"?A.commandArguments[0]===c.STENCIL_TEST.value:A.name==="stencilOp"||A.name==="stencilOpSeparate"?gn.stencilOpStates.indexOf(A.commandArguments[0])>0:A.name==="stencilFunc"||A.name==="stencilFuncSeparate"?gn.stencilFuncStates.indexOf(A.commandArguments[0])>0:A.name!=="stencilMask"&&A.name!=="stencilMaskSeparate"||gn.stencilMaskStates.indexOf(A.commandArguments[0])>0}getConsumeCommands(){return p}isStateEnable(A,B){return this.context.isEnabled(c.STENCIL_TEST.value)}}gn.stateName="StencilState",gn.stencilOpStates=[c.STENCIL_BACK_FAIL.value,c.STENCIL_BACK_PASS_DEPTH_FAIL.value,c.STENCIL_BACK_PASS_DEPTH_PASS.value,c.STENCIL_FAIL.value,c.STENCIL_PASS_DEPTH_FAIL.value,c.STENCIL_PASS_DEPTH_PASS.value],gn.stencilFuncStates=[c.STENCIL_BACK_FUNC.value,c.STENCIL_BACK_REF.value,c.STENCIL_BACK_VALUE_MASK.value,c.STENCIL_FUNC.value,c.STENCIL_REF.value,c.STENCIL_VALUE_MASK.value],gn.stencilMaskStates=[c.STENCIL_BACK_WRITEMASK.value,c.STENCIL_WRITEMASK.value];class sn{static isSupportedCombination(A,B,J){return A=A||c.UNSIGNED_BYTE.value,((B=B||c.RGBA.value)===c.RGB.value||B===c.RGBA.value)&&(J===c.RGB.value||J===c.RGBA.value||J===c.RGBA8.value||J===c.RGBA16F.value||J===c.RGBA32F.value||J===c.RGB16F.value||J===c.RGB32F.value||J===c.R11F_G11F_B10F.value||J===c.SRGB8.value||J===c.SRGB8_ALPHA8.value)&&this.isSupportedComponentType(A)}static readPixels(A,B,J,Z,be,Ne){A.getError(),Ne===c.UNSIGNED_NORMALIZED.value&&(Ne=c.UNSIGNED_BYTE.value);const O=Z*be*4;let U;if(Ne===c.UNSIGNED_BYTE.value?U=new Uint8Array(O):(Ne=c.FLOAT.value,U=new Float32Array(O)),A.readPixels(B,J,Z,be,A.RGBA,Ne,U),A.getError())return;if(Ne===c.UNSIGNED_BYTE.value)return U;const X=new Uint8Array(Z*be*4);for(let ee=0;ee<be;ee++)for(let oe=0;oe<Z;oe++)X[ee*Z*4+4*oe+0]=255*Math.min(Math.max(U[ee*Z*4+4*oe+0],0),1),X[ee*Z*4+4*oe+1]=255*Math.min(Math.max(U[ee*Z*4+4*oe+1],0),1),X[ee*Z*4+4*oe+2]=255*Math.min(Math.max(U[ee*Z*4+4*oe+2],0),1),X[ee*Z*4+4*oe+3]=255*Math.min(Math.max(U[ee*Z*4+4*oe+3],0),1);return X}static isSupportedComponentType(A){return A===c.UNSIGNED_BYTE.value||A===c.UNSIGNED_SHORT_4_4_4_4.value||A===c.UNSIGNED_SHORT_5_5_5_1.value||A===c.UNSIGNED_SHORT_5_6_5.value||A===c.HALF_FLOAT.value||A===c.HALF_FLOAT_OES.value||A===c.FLOAT.value}}class Ut extends Yt{constructor(A){super(A),this.captureFrameBuffer=A.context.createFramebuffer(),this.workingCanvas=document.createElement("canvas"),this.workingContext2D=this.workingCanvas.getContext("2d"),this.captureCanvas=document.createElement("canvas"),this.captureContext2D=this.captureCanvas.getContext("2d"),this.captureContext2D.imageSmoothingEnabled=!0,this.captureContext2D.mozImageSmoothingEnabled=!0,this.captureContext2D.oImageSmoothingEnabled=!0,this.captureContext2D.webkitImageSmoothingEnabled=!0,this.captureContext2D.msImageSmoothingEnabled=!0}get stateName(){return Ut.stateName}getConsumeCommands(){return["clear","clearBufferfv","clearBufferiv","clearBufferuiv","clearBufferfi",...p]}readFromContext(){const A=this.context;this.currentState.Attachments=[];const B=this.context.getParameter(c.FRAMEBUFFER_BINDING.value);if(!B)return this.currentState.FrameBuffer=null,void this.getCapture(A,"Canvas COLOR_ATTACHMENT",0,0,A.drawingBufferWidth,A.drawingBufferHeight,0,0,c.UNSIGNED_BYTE.value);const J=A.getParameter(A.VIEWPORT),Z=J[0],be=J[1],Ne=J[2],O=J[3];this.currentState.FrameBuffer=this.getSpectorData(B);const U=this.context.checkFramebufferStatus(c.FRAMEBUFFER.value);if(this.currentState.FrameBufferStatus=w[U].name,U===c.FRAMEBUFFER_COMPLETE.value)if(this.extensions[c.MAX_DRAW_BUFFERS_WEBGL.extensionName]){const X=this.context.getParameter(c.MAX_DRAW_BUFFERS_WEBGL.value);for(let ee=0;ee<X;ee++)this.readFrameBufferAttachmentFromContext(this.context,B,x["COLOR_ATTACHMENT"+ee+"_WEBGL"],Z,be,Ne,O)}else if(this.contextVersion>1){const X=this.context.getParameter(c.MAX_DRAW_BUFFERS.value);for(let ee=0;ee<X;ee++)this.readFrameBufferAttachmentFromContext(this.context,B,x["COLOR_ATTACHMENT"+ee],Z,be,Ne,O)}else this.readFrameBufferAttachmentFromContext(this.context,B,x.COLOR_ATTACHMENT0,Z,be,Ne,O)}readFrameBufferAttachmentFromContext(A,B,J,Z,be,Ne,O){const U=c.FRAMEBUFFER.value,X=this.context.getFramebufferAttachmentParameter(U,J.value,c.FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE.value);if(X===c.NONE.value)return;const ee=this.context.getFramebufferAttachmentParameter(U,J.value,c.FRAMEBUFFER_ATTACHMENT_OBJECT_NAME.value);if(!ee)return;const oe=this.contextVersion>1?this.context.getFramebufferAttachmentParameter(U,J.value,c.FRAMEBUFFER_ATTACHMENT_COMPONENT_TYPE.value):c.UNSIGNED_BYTE.value;X===c.RENDERBUFFER.value?this.readFrameBufferAttachmentFromRenderBuffer(A,B,J,Z,be,Ne,O,U,oe,ee):X===c.TEXTURE.value&&this.readFrameBufferAttachmentFromTexture(A,B,J,Z,be,Ne,O,U,oe,ee)}readFrameBufferAttachmentFromRenderBuffer(A,B,J,Z,be,Ne,O,U,X,ee){let oe=0,re=0;if(ee.__SPECTOR_Object_CustomData){const pe=ee.__SPECTOR_Object_CustomData;if(Ne=pe.width,O=pe.height,oe=pe.samples,re=pe.internalFormat,!oe&&!sn.isSupportedCombination(X,c.RGBA.value,re))return}else Ne+=Z,O+=be;if(Z=be=0,oe){const pe=A,He=A.createRenderbuffer(),Ie=A.getParameter(A.RENDERBUFFER_BINDING);A.bindRenderbuffer(A.RENDERBUFFER,He),A.renderbufferStorage(A.RENDERBUFFER,re,Ne,O),A.bindRenderbuffer(A.RENDERBUFFER,Ie),A.bindFramebuffer(c.FRAMEBUFFER.value,this.captureFrameBuffer),A.framebufferRenderbuffer(c.FRAMEBUFFER.value,c.COLOR_ATTACHMENT0.value,c.RENDERBUFFER.value,He);const tt=pe.getParameter(pe.READ_FRAMEBUFFER_BINDING),Rt=pe.getParameter(pe.DRAW_FRAMEBUFFER_BINDING);pe.bindFramebuffer(pe.READ_FRAMEBUFFER,B),pe.bindFramebuffer(pe.DRAW_FRAMEBUFFER,this.captureFrameBuffer),pe.blitFramebuffer(0,0,Ne,O,0,0,Ne,O,A.COLOR_BUFFER_BIT,A.NEAREST),pe.bindFramebuffer(c.FRAMEBUFFER.value,this.captureFrameBuffer),pe.bindFramebuffer(pe.READ_FRAMEBUFFER,tt),pe.bindFramebuffer(pe.DRAW_FRAMEBUFFER,Rt),this.context.checkFramebufferStatus(c.FRAMEBUFFER.value)===c.FRAMEBUFFER_COMPLETE.value&&this.getCapture(A,J.name,Z,be,Ne,O,0,0,X),A.bindFramebuffer(c.FRAMEBUFFER.value,B),A.deleteRenderbuffer(He)}else A.bindFramebuffer(c.FRAMEBUFFER.value,this.captureFrameBuffer),A.framebufferRenderbuffer(c.FRAMEBUFFER.value,c.COLOR_ATTACHMENT0.value,c.RENDERBUFFER.value,ee),this.context.checkFramebufferStatus(c.FRAMEBUFFER.value)===c.FRAMEBUFFER_COMPLETE.value&&this.getCapture(A,J.name,Z,be,Ne,O,0,0,X),A.bindFramebuffer(c.FRAMEBUFFER.value,B)}readFrameBufferAttachmentFromTexture(A,B,J,Z,be,Ne,O,U,X,ee){let oe=0;this.contextVersion>1&&(oe=this.context.getFramebufferAttachmentParameter(U,J.value,c.FRAMEBUFFER_ATTACHMENT_TEXTURE_LAYER.value));const re=this.context.getFramebufferAttachmentParameter(U,J.value,c.FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL.value),pe=this.context.getFramebufferAttachmentParameter(U,J.value,c.FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE.value);pe>0?w[pe].name:c.TEXTURE_2D.name;let He=!1,Ie=X;if(ee.__SPECTOR_Object_CustomData){const tt=ee.__SPECTOR_Object_CustomData;if(Ne=tt.width,O=tt.height,tt.type!==void 0&&(Ie=tt.type),He=tt.target===c.TEXTURE_2D_ARRAY.name,!sn.isSupportedCombination(tt.type,tt.format,tt.internalFormat))return}else Ne+=Z,O+=be;Z=be=0,A.bindFramebuffer(c.FRAMEBUFFER.value,this.captureFrameBuffer),oe>0||He?A.framebufferTextureLayer(c.FRAMEBUFFER.value,c.COLOR_ATTACHMENT0.value,ee,re,oe):A.framebufferTexture2D(c.FRAMEBUFFER.value,c.COLOR_ATTACHMENT0.value,pe||c.TEXTURE_2D.value,ee,re),this.context.checkFramebufferStatus(c.FRAMEBUFFER.value)===c.FRAMEBUFFER_COMPLETE.value&&this.getCapture(A,J.name,Z,be,Ne,O,pe,oe,Ie),A.bindFramebuffer(c.FRAMEBUFFER.value,B)}getCapture(A,B,J,Z,be,Ne,O,U,X){const ee={attachmentName:B,src:null,textureCubeMapFace:O?w[O].name:null,textureLayer:U};if(!this.quickCapture)try{const oe=sn.readPixels(A,J,Z,be,Ne,X);if(oe){this.workingCanvas.width=be,this.workingCanvas.height=Ne;const re=this.workingContext2D.createImageData(Math.ceil(be),Math.ceil(Ne));if(re.data.set(oe),this.workingContext2D.putImageData(re,0,0),this.fullCapture)this.captureCanvas.width=this.workingCanvas.width,this.captureCanvas.height=this.workingCanvas.height;else{const pe=be/Ne;pe<1?(this.captureCanvas.width=Ut.captureBaseSize*pe,this.captureCanvas.height=Ut.captureBaseSize):pe>1?(this.captureCanvas.width=Ut.captureBaseSize,this.captureCanvas.height=Ut.captureBaseSize/pe):(this.captureCanvas.width=Ut.captureBaseSize,this.captureCanvas.height=Ut.captureBaseSize)}this.captureCanvas.width=Math.max(this.captureCanvas.width,1),this.captureCanvas.height=Math.max(this.captureCanvas.height,1),this.captureContext2D.globalCompositeOperation="copy",this.captureContext2D.scale(1,-1),this.captureContext2D.translate(0,-this.captureCanvas.height),this.captureContext2D.drawImage(this.workingCanvas,0,0,be,Ne,0,0,this.captureCanvas.width,this.captureCanvas.height),this.captureContext2D.setTransform(1,0,0,1,0,0),this.captureContext2D.globalCompositeOperation="source-over",ee.src=this.captureCanvas.toDataURL()}}catch(oe){m.warn("Spector can not capture the visual state: "+oe)}this.currentState.Attachments.push(ee)}analyse(A){}}Ut.stateName="VisualState",Ut.captureBaseSize=256;class _n{constructor(A){this.context=A.context,this.captureFrameBuffer=A.context.createFramebuffer(),this.workingCanvas=document.createElement("canvas"),this.workingContext2D=this.workingCanvas.getContext("2d"),this.captureCanvas=document.createElement("canvas"),this.captureContext2D=this.captureCanvas.getContext("2d"),this._setSmoothing(!0)}appendTextureState(A,B,J=null,Z){if(!B)return;const be=B.__SPECTOR_Object_CustomData;if(be&&(this.fullCapture=Z,be.type&&(A.textureType=this.getWebGlConstant(be.type)),be.format&&(A.format=this.getWebGlConstant(be.format)),be.internalFormat&&(A.internalFormat=this.getWebGlConstant(be.internalFormat)),A.width=be.width,A.height=be.height,be.depth&&(A.depth=be.depth),J)){const Ne=A.samplerMagFilter==="NEAREST"||A.magFilter==="NEAREST";A.visual=this.getTextureVisualState(J,B,be,Ne)}}getTextureVisualState(A,B,J,Z){try{const be=this.context,Ne={};if(!sn.isSupportedCombination(J.type,J.format,J.internalFormat))return Ne;const O=this.context.getParameter(c.FRAMEBUFFER_BINDING.value);be.bindFramebuffer(c.FRAMEBUFFER.value,this.captureFrameBuffer);try{const X=J.width,ee=J.height;if(A===c.TEXTURE_3D&&J.depth){const oe=be;for(let re=0;re<J.depth;re++)re>2&&re<J.depth-3||(oe.framebufferTextureLayer(c.FRAMEBUFFER.value,c.COLOR_ATTACHMENT0.value,B,0,re),Ne["3D Layer "+re]=this.getCapture(be,0,0,X,ee,J.type,Z))}else if(A===c.TEXTURE_2D_ARRAY&&J.depth){const oe=be;for(let re=0;re<J.depth;re++)re>2&&re<J.depth-3||(oe.framebufferTextureLayer(c.FRAMEBUFFER.value,c.COLOR_ATTACHMENT0.value,B,0,re),Ne["Layer "+re]=this.getCapture(be,0,0,X,ee,J.type,Z))}else if(A===c.TEXTURE_CUBE_MAP)for(const oe of _n.cubeMapFaces)be.framebufferTexture2D(c.FRAMEBUFFER.value,c.COLOR_ATTACHMENT0.value,oe.value,B,0),Ne[oe.name]=this.getCapture(be,0,0,X,ee,J.type,Z);else be.framebufferTexture2D(c.FRAMEBUFFER.value,c.COLOR_ATTACHMENT0.value,c.TEXTURE_2D.value,B,0),Ne[c.TEXTURE_2D.name]=this.getCapture(be,0,0,X,ee,J.type,Z)}catch{}return be.bindFramebuffer(c.FRAMEBUFFER.value,O),Ne}catch{}}getCapture(A,B,J,Z,be,Ne,O){try{if(this.context.checkFramebufferStatus(c.FRAMEBUFFER.value)!==c.FRAMEBUFFER_COMPLETE.value)return;Ne=Ne||c.UNSIGNED_BYTE.value;const U=sn.readPixels(A,B,J,Z,be,Ne);if(!U)return;this.workingCanvas.width=Z,this.workingCanvas.height=be;const X=this.workingContext2D.createImageData(Z,be);if(X.data.set(U),this.workingContext2D.putImageData(X,0,0),this.fullCapture)this.captureCanvas.width=this.workingCanvas.width,this.captureCanvas.height=this.workingCanvas.height;else{const ee=Z/be;ee<1?(this.captureCanvas.width=Ut.captureBaseSize*ee,this.captureCanvas.height=Ut.captureBaseSize):ee>1?(this.captureCanvas.width=Ut.captureBaseSize,this.captureCanvas.height=Ut.captureBaseSize/ee):(this.captureCanvas.width=Ut.captureBaseSize,this.captureCanvas.height=Ut.captureBaseSize)}return this.captureCanvas.width=Math.max(this.captureCanvas.width,1),this.captureCanvas.height=Math.max(this.captureCanvas.height,1),this.captureContext2D.globalCompositeOperation="copy",this.captureContext2D.scale(1,-1),this.captureContext2D.translate(0,-this.captureCanvas.height),this._setSmoothing(!O),this.captureContext2D.drawImage(this.workingCanvas,0,0,Z,be,0,0,this.captureCanvas.width,this.captureCanvas.height),this.captureContext2D.setTransform(1,0,0,1,0,0),this.captureContext2D.globalCompositeOperation="source-over",this.captureCanvas.toDataURL()}catch{}}getWebGlConstant(A){const B=w[A];return B?B.name:A+""}_setSmoothing(A){this.captureContext2D.imageSmoothingEnabled=A,this.captureContext2D.mozImageSmoothingEnabled=A,this.captureContext2D.oImageSmoothingEnabled=A,this.captureContext2D.webkitImageSmoothingEnabled=A,this.captureContext2D.msImageSmoothingEnabled=A}}_n.captureBaseSize=64,_n.cubeMapFaces=[c.TEXTURE_CUBE_MAP_POSITIVE_X,c.TEXTURE_CUBE_MAP_POSITIVE_Y,c.TEXTURE_CUBE_MAP_POSITIVE_Z,c.TEXTURE_CUBE_MAP_NEGATIVE_X,c.TEXTURE_CUBE_MAP_NEGATIVE_Y,c.TEXTURE_CUBE_MAP_NEGATIVE_Z];class Dn{constructor(A){this.context=A.context}getUboValue(A,B,J,Z){const be=Dn.uboTypes[Z];if(!be)return;const Ne=new be.arrayBufferView(J*be.lengthMultiplier),O=this.context,U=O.getIndexedParameter(c.UNIFORM_BUFFER_BINDING.value,A);if(U){const X=O.getIndexedParameter(c.UNIFORM_BUFFER_START.value,A),ee=O.getParameter(c.UNIFORM_BUFFER_BINDING.value);try{O.bindBuffer(c.UNIFORM_BUFFER.value,U),O.getBufferSubData(c.UNIFORM_BUFFER.value,X+B,Ne)}catch{return}ee&&O.bindBuffer(c.UNIFORM_BUFFER.value,ee)}return Array.prototype.slice.call(Ne)}}Dn.uboTypes={[c.BOOL.value]:{arrayBufferView:Uint8Array,lengthMultiplier:1},[c.BOOL_VEC2.value]:{arrayBufferView:Uint8Array,lengthMultiplier:2},[c.BOOL_VEC3.value]:{arrayBufferView:Uint8Array,lengthMultiplier:3},[c.BOOL_VEC4.value]:{arrayBufferView:Uint8Array,lengthMultiplier:4},[c.INT.value]:{arrayBufferView:Int32Array,lengthMultiplier:1},[c.INT_VEC2.value]:{arrayBufferView:Int32Array,lengthMultiplier:2},[c.INT_VEC3.value]:{arrayBufferView:Int32Array,lengthMultiplier:3},[c.INT_VEC4.value]:{arrayBufferView:Int32Array,lengthMultiplier:4},[c.UNSIGNED_INT.value]:{arrayBufferView:Uint32Array,lengthMultiplier:1},[c.UNSIGNED_INT_VEC2.value]:{arrayBufferView:Uint32Array,lengthMultiplier:2},[c.UNSIGNED_INT_VEC3.value]:{arrayBufferView:Uint32Array,lengthMultiplier:3},[c.UNSIGNED_INT_VEC4.value]:{arrayBufferView:Uint32Array,lengthMultiplier:4},[c.FLOAT.value]:{arrayBufferView:Float32Array,lengthMultiplier:1},[c.FLOAT_VEC2.value]:{arrayBufferView:Float32Array,lengthMultiplier:2},[c.FLOAT_VEC3.value]:{arrayBufferView:Float32Array,lengthMultiplier:3},[c.FLOAT_VEC4.value]:{arrayBufferView:Float32Array,lengthMultiplier:4},[c.FLOAT_MAT2.value]:{arrayBufferView:Float32Array,lengthMultiplier:4},[c.FLOAT_MAT2x3.value]:{arrayBufferView:Float32Array,lengthMultiplier:6},[c.FLOAT_MAT2x4.value]:{arrayBufferView:Float32Array,lengthMultiplier:8},[c.FLOAT_MAT3.value]:{arrayBufferView:Float32Array,lengthMultiplier:9},[c.FLOAT_MAT3x2.value]:{arrayBufferView:Float32Array,lengthMultiplier:6},[c.FLOAT_MAT3x4.value]:{arrayBufferView:Float32Array,lengthMultiplier:12},[c.FLOAT_MAT4.value]:{arrayBufferView:Float32Array,lengthMultiplier:16},[c.FLOAT_MAT4x2.value]:{arrayBufferView:Float32Array,lengthMultiplier:8},[c.FLOAT_MAT4x3.value]:{arrayBufferView:Float32Array,lengthMultiplier:12},[c.SAMPLER_2D.value]:{arrayBufferView:Uint8Array,lengthMultiplier:1},[c.SAMPLER_CUBE.value]:{arrayBufferView:Uint8Array,lengthMultiplier:1}};class Ai extends C{get typeName(){return"WebGLBuffer"}}class Ri extends C{get typeName(){return"WebGLFramebuffer"}}class Ar extends C{get typeName(){return"WebGLProgram"}static saveInGlobalStore(A){const B=P.getWebGlObjectTag(A);B&&(this.store[B.id]=A)}static getFromGlobalStore(A){return this.store[A]}static updateInGlobalStore(A,B){if(!B)return;const J=this.getFromGlobalStore(A);if(!J)return;const Z=P.getWebGlObjectTag(J);Z&&(P.attachWebGlObjectTag(B,Z),this.store[Z.id]=B)}}Ar.store={};class rr extends C{get typeName(){return"WebGLQuery"}}class dr extends C{get typeName(){return"WebGLRenderbuffer"}}class Pr extends C{get typeName(){return"WebGLSampler"}}class gr extends C{get typeName(){return"WebGLShader"}}class ms extends C{get typeName(){return"WebGLSync"}}class zs extends C{get typeName(){return"WebGLTexture"}}class Ds extends C{get typeName(){return"WebGLTransformFeedback"}}class gi extends C{get typeName(){return"WebGLUniformLocation"}}class ls extends C{get typeName(){return"WebGLVertexArrayObject"}}class nr{static getProgramData(A,B){const J={LINK_STATUS:A.getProgramParameter(B,c.LINK_STATUS.value),VALIDATE_STATUS:A.getProgramParameter(B,c.VALIDATE_STATUS.value)},Z=A.getAttachedShaders(B),be=new Array(2);let Ne=0;for(const O of Z){const U=this.readShaderFromContext(A,O);Ne+=U.source.length,U.shaderType===c.FRAGMENT_SHADER.name?be[1]=U:be[0]=U}return{programStatus:J,shaders:be,length:Ne}}static readShaderFromContext(A,B){const J=A.getShaderSource(B),Z=A.getExtension("WEBGL_debug_shaders"),be=Z?Z.getTranslatedShaderSource(B):null,Ne=A.getShaderParameter(B,c.SHADER_TYPE.value)===c.FRAGMENT_SHADER.value;let O=B&&B.__SPECTOR_Metadata&&B.__SPECTOR_Metadata.name?B.__SPECTOR_Metadata.name:this.readNameFromShaderSource(J);return O||(O=Ne?"Fragment":"Vertex"),{COMPILE_STATUS:A.getShaderParameter(B,c.COMPILE_STATUS.value),shaderType:Ne?c.FRAGMENT_SHADER.name:c.VERTEX_SHADER.name,name:O,source:J,translatedSource:be}}static readNameFromShaderSource(A){try{let B,J="";const Z=/#define[\s]+SHADER_NAME[\s]+([\S]+)(\n|$)/gi;if(B=Z.exec(A),B!==null&&(B.index===Z.lastIndex&&Z.lastIndex++,J=B[1]),J===""){const be=/#define[\s]+SHADER_NAME_B64[\s]+([\S]+)(\n|$)/gi;B=be.exec(A),B!==null&&(B.index===be.lastIndex&&be.lastIndex++,J=B[1]),J&&(J=decodeURIComponent(atob(J)))}return J}catch{return null}}}class ge extends Yt{constructor(A){super(A),this.drawCallTextureInputState=new _n(A),this.drawCallUboInputState=new Dn(A)}get stateName(){return ge.stateName}get requireStartAndStopStates(){return!1}getConsumeCommands(){return p}getChangeCommandsByState(){return{}}readFromContext(){var A,B;const J=this.context.getParameter(c.CURRENT_PROGRAM.value);if(!J)return;this.currentState.frameBuffer=this.readFrameBufferFromContext();const Z=J.__SPECTOR_Object_CustomData?J.__SPECTOR_Object_CustomData:nr.getProgramData(this.context,J);if(this.currentState.programStatus=Object.assign({},Z.programStatus),this.currentState.programStatus.program=this.getSpectorData(J),this.currentState.programStatus.RECOMPILABLE=a.isBuildableProgram(J),this.currentState.programStatus.RECOMPILABLE&&Ar.saveInGlobalStore(J),this.currentState.shaders=Z.shaders,((A=this.lastCommandName)===null||A===void 0?void 0:A.indexOf("Elements"))>=0){const U=this.context.getParameter(this.context.ELEMENT_ARRAY_BUFFER_BINDING);U&&(this.currentState.elementArray={},this.currentState.elementArray.arrayBuffer=this.getSpectorData(U))}const be=this.context.getProgramParameter(J,c.ACTIVE_ATTRIBUTES.value);this.currentState.attributes=[];for(let U=0;U<be;U++){const X=this.readAttributeFromContext(J,U);this.currentState.attributes.push(X)}const Ne=this.context.getProgramParameter(J,c.ACTIVE_UNIFORMS.value);this.currentState.uniforms=[];const O=[];for(let U=0;U<Ne;U++){O.push(U);const X=this.readUniformFromContext(J,U);this.currentState.uniforms.push(X)}if(this.contextVersion>1){const U=this.context.getProgramParameter(J,c.ACTIVE_UNIFORM_BLOCKS.value);this.currentState.uniformBlocks=[];for(let X=0;X<U;X++){const ee=this.readUniformBlockFromContext(J,X);this.currentState.uniformBlocks.push(ee)}if(this.readUniformsFromContextIntoState(J,O,this.currentState.uniforms,this.currentState.uniformBlocks),this.context.getParameter(c.TRANSFORM_FEEDBACK_ACTIVE.value)){const X=this.context.getProgramParameter(J,c.TRANSFORM_FEEDBACK_BUFFER_MODE.value);this.currentState.transformFeedbackMode=this.getWebGlConstant(X),this.currentState.transformFeedbacks=[];const ee=this.context.getProgramParameter(J,c.TRANSFORM_FEEDBACK_VARYINGS.value);for(let oe=0;oe<ee;oe++){const re=this.readTransformFeedbackFromContext(J,oe);this.currentState.transformFeedbacks.push(re)}}}for(let U=0;U<O.length;U++){const X=this.currentState.uniforms[U],ee=(B=X.value)!==null&&B!==void 0?B:X.values;if(ee!=null){const oe=ge.samplerTypes[X.typeValue];if(oe)if(ee.length){X.textures=[];for(let re=0;re<ee.length;re++)X.textures.push(this.readTextureFromContext(ee[re].value,oe))}else X.texture=this.readTextureFromContext(ee,oe)}delete X.typeValue}}readFrameBufferFromContext(){const A=this.context.getParameter(c.FRAMEBUFFER_BINDING.value);if(!A)return null;const B={};if(B.frameBuffer=this.getSpectorData(A),this.readFrameBufferAttachmentFromContext(c.DEPTH_ATTACHMENT.value)&&(B.depthAttachment=this.readFrameBufferAttachmentFromContext(c.DEPTH_ATTACHMENT.value)),this.readFrameBufferAttachmentFromContext(c.STENCIL_ATTACHMENT.value)&&(B.stencilAttachment=this.readFrameBufferAttachmentFromContext(c.STENCIL_ATTACHMENT.value)),this.extensions[c.MAX_DRAW_BUFFERS_WEBGL.extensionName]){B.colorAttachments=[];const J=this.context.getParameter(c.MAX_DRAW_BUFFERS_WEBGL.value);for(let Z=0;Z<J;Z++){const be=this.readFrameBufferAttachmentFromContext(x["COLOR_ATTACHMENT"+Z+"_WEBGL"].value);be&&B.colorAttachments.push(be)}}else if(this.contextVersion>1){const J=this.context;B.colorAttachments=[];const Z=J.getParameter(c.MAX_DRAW_BUFFERS.value);for(let be=0;be<Z;be++){const Ne=this.readFrameBufferAttachmentFromContext(x["COLOR_ATTACHMENT"+be].value);Ne&&B.colorAttachments.push(Ne)}}else{const J=this.readFrameBufferAttachmentFromContext(x.COLOR_ATTACHMENT0.value);J&&(B.colorAttachments=[J])}return B}readFrameBufferAttachmentFromContext(A){const B=c.FRAMEBUFFER.value,J=this.context.getFramebufferAttachmentParameter(B,A,c.FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE.value);if(J===c.NONE.value)return;const Z={},be=this.context.getFramebufferAttachmentParameter(B,A,c.FRAMEBUFFER_ATTACHMENT_OBJECT_NAME.value);if(J===c.RENDERBUFFER.value){if(Z.type="RENDERBUFFER",Z.buffer=this.getSpectorData(be),be){const Ne=be.__SPECTOR_Object_CustomData;Ne&&(Ne.internalFormat&&(Z.internalFormat=this.getWebGlConstant(Ne.internalFormat)),Z.width=Ne.width,Z.height=Ne.height,Z.msaaSamples=Ne.samples)}}else if(J===c.TEXTURE.value){Z.type="TEXTURE",Z.texture=this.getSpectorData(be),Z.textureLevel=this.context.getFramebufferAttachmentParameter(B,A,c.FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL.value);const Ne=this.context.getFramebufferAttachmentParameter(B,A,c.FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE.value);Z.textureCubeMapFace=this.getWebGlConstant(Ne),this.drawCallTextureInputState.appendTextureState(Z,be,null,this.fullCapture)}return this.extensions.EXT_sRGB&&(Z.encoding=this.getWebGlConstant(this.context.getFramebufferAttachmentParameter(B,A,c.FRAMEBUFFER_ATTACHMENT_COLOR_ENCODING_EXT.value))),this.contextVersion>1&&(Z.alphaSize=this.context.getFramebufferAttachmentParameter(B,A,c.FRAMEBUFFER_ATTACHMENT_ALPHA_SIZE.value),Z.blueSize=this.context.getFramebufferAttachmentParameter(B,A,c.FRAMEBUFFER_ATTACHMENT_BLUE_SIZE.value),Z.encoding=this.getWebGlConstant(this.context.getFramebufferAttachmentParameter(B,A,c.FRAMEBUFFER_ATTACHMENT_COLOR_ENCODING.value)),Z.componentType=this.getWebGlConstant(this.context.getFramebufferAttachmentParameter(B,A,c.FRAMEBUFFER_ATTACHMENT_COMPONENT_TYPE.value)),Z.depthSize=this.context.getFramebufferAttachmentParameter(B,A,c.FRAMEBUFFER_ATTACHMENT_DEPTH_SIZE.value),Z.greenSize=this.context.getFramebufferAttachmentParameter(B,A,c.FRAMEBUFFER_ATTACHMENT_GREEN_SIZE.value),Z.redSize=this.context.getFramebufferAttachmentParameter(B,A,c.FRAMEBUFFER_ATTACHMENT_RED_SIZE.value),Z.stencilSize=this.context.getFramebufferAttachmentParameter(B,A,c.FRAMEBUFFER_ATTACHMENT_STENCIL_SIZE.value),J===c.TEXTURE.value&&(Z.textureLayer=this.context.getFramebufferAttachmentParameter(B,A,c.FRAMEBUFFER_ATTACHMENT_TEXTURE_LAYER.value))),Z}readAttributeFromContext(A,B){const J=this.context.getActiveAttrib(A,B),Z=this.context.getAttribLocation(A,J.name);if(Z===-1)return{name:J.name,size:J.size,type:this.getWebGlConstant(J.type),location:-1};const be=this.context.getVertexAttrib(Z,c.CURRENT_VERTEX_ATTRIB.value),Ne=this.context.getVertexAttrib(Z,c.VERTEX_ATTRIB_ARRAY_BUFFER_BINDING.value),O={name:J.name,size:J.size,type:this.getWebGlConstant(J.type),location:Z,offsetPointer:this.context.getVertexAttribOffset(Z,c.VERTEX_ATTRIB_ARRAY_POINTER.value),bufferBinding:this.getSpectorData(Ne),enabled:this.context.getVertexAttrib(Z,c.VERTEX_ATTRIB_ARRAY_ENABLED.value),arraySize:this.context.getVertexAttrib(Z,c.VERTEX_ATTRIB_ARRAY_SIZE.value),stride:this.context.getVertexAttrib(Z,c.VERTEX_ATTRIB_ARRAY_STRIDE.value),arrayType:this.getWebGlConstant(this.context.getVertexAttrib(Z,c.VERTEX_ATTRIB_ARRAY_TYPE.value)),normalized:this.context.getVertexAttrib(Z,c.VERTEX_ATTRIB_ARRAY_NORMALIZED.value),vertexAttrib:Array.prototype.slice.call(be)};return this.extensions[c.VERTEX_ATTRIB_ARRAY_DIVISOR_ANGLE.extensionName]?O.divisor=this.context.getVertexAttrib(Z,c.VERTEX_ATTRIB_ARRAY_DIVISOR_ANGLE.value):this.contextVersion>1&&(O.integer=this.context.getVertexAttrib(Z,c.VERTEX_ATTRIB_ARRAY_INTEGER.value),O.divisor=this.context.getVertexAttrib(Z,c.VERTEX_ATTRIB_ARRAY_DIVISOR.value)),this.appendBufferCustomData(O,Ne),O}readUniformFromContext(A,B){const J=this.context.getActiveUniform(A,B),Z=this.context.getUniformLocation(A,J.name);if(Z){if(J.size>1&&J.name&&J.name.indexOf("[0]")===J.name.length-3){const be=[];for(let Ne=0;Ne<J.size;Ne++){const O=this.context.getUniformLocation(A,J.name.replace("[0]","["+Ne+"]"));if(O){let U=this.context.getUniform(A,O);U.length&&(U=Array.prototype.slice.call(U)),be.push({value:U})}}return{name:J.name.replace("[0]",""),size:J.size,type:this.getWebGlConstant(J.type),typeValue:J.type,location:this.getSpectorData(Z),values:be}}{let be=this.context.getUniform(A,Z);return be.length&&(be=Array.prototype.slice.call(be)),{name:J.name,size:J.size,type:this.getWebGlConstant(J.type),typeValue:J.type,location:this.getSpectorData(Z),value:be}}}return{name:J.name,size:J.size,type:this.getWebGlConstant(J.type),typeValue:J.type}}readTextureFromContext(A,B){const J=this.context.getParameter(c.ACTIVE_TEXTURE.value);this.context.activeTexture(c.TEXTURE0.value+A);const Z={magFilter:this.getWebGlConstant(this.context.getTexParameter(B.value,c.TEXTURE_MAG_FILTER.value)),minFilter:this.getWebGlConstant(this.context.getTexParameter(B.value,c.TEXTURE_MIN_FILTER.value)),wrapS:this.getWebGlConstant(this.context.getTexParameter(B.value,c.TEXTURE_WRAP_S.value)),wrapT:this.getWebGlConstant(this.context.getTexParameter(B.value,c.TEXTURE_WRAP_T.value))};if(this.extensions[c.TEXTURE_MAX_ANISOTROPY_EXT.extensionName]&&(Z.anisotropy=this.context.getTexParameter(B.value,c.TEXTURE_MAX_ANISOTROPY_EXT.value)),this.contextVersion>1){Z.baseLevel=this.context.getTexParameter(B.value,c.TEXTURE_BASE_LEVEL.value),Z.immutable=this.context.getTexParameter(B.value,c.TEXTURE_IMMUTABLE_FORMAT.value),Z.immutableLevels=this.context.getTexParameter(B.value,c.TEXTURE_IMMUTABLE_LEVELS.value),Z.maxLevel=this.context.getTexParameter(B.value,c.TEXTURE_MAX_LEVEL.value);const Ne=this.context.getParameter(c.SAMPLER_BINDING.value);if(Ne){Z.sampler=this.getSpectorData(Ne);const O=this.context;Z.samplerMaxLod=O.getSamplerParameter(Ne,c.TEXTURE_MAX_LOD.value),Z.samplerMinLod=O.getSamplerParameter(Ne,c.TEXTURE_MIN_LOD.value),Z.samplerCompareFunc=this.getWebGlConstant(O.getSamplerParameter(Ne,c.TEXTURE_COMPARE_FUNC.value)),Z.samplerCompareMode=this.getWebGlConstant(O.getSamplerParameter(Ne,c.TEXTURE_COMPARE_MODE.value)),Z.samplerWrapS=this.getWebGlConstant(O.getSamplerParameter(Ne,c.TEXTURE_WRAP_S.value)),Z.samplerWrapT=this.getWebGlConstant(O.getSamplerParameter(Ne,c.TEXTURE_WRAP_T.value)),Z.samplerWrapR=this.getWebGlConstant(O.getSamplerParameter(Ne,c.TEXTURE_WRAP_R.value)),Z.samplerMagFilter=this.getWebGlConstant(O.getSamplerParameter(Ne,c.TEXTURE_MAG_FILTER.value)),Z.samplerMinFilter=this.getWebGlConstant(O.getSamplerParameter(Ne,c.TEXTURE_MIN_FILTER.value))}else Z.maxLod=this.context.getTexParameter(B.value,c.TEXTURE_MAX_LOD.value),Z.minLod=this.context.getTexParameter(B.value,c.TEXTURE_MIN_LOD.value),Z.compareFunc=this.getWebGlConstant(this.context.getTexParameter(B.value,c.TEXTURE_COMPARE_FUNC.value)),Z.compareMode=this.getWebGlConstant(this.context.getTexParameter(B.value,c.TEXTURE_COMPARE_MODE.value)),Z.wrapR=this.getWebGlConstant(this.context.getTexParameter(B.value,c.TEXTURE_WRAP_R.value))}const be=this.getTextureStorage(B);if(be){const Ne=this.quickCapture?null:B;this.drawCallTextureInputState.appendTextureState(Z,be,Ne,this.fullCapture)}return this.context.activeTexture(J),Z}getTextureStorage(A){return A===c.TEXTURE_2D?this.context.getParameter(c.TEXTURE_BINDING_2D.value):A===c.TEXTURE_CUBE_MAP?this.context.getParameter(c.TEXTURE_BINDING_CUBE_MAP.value):A===c.TEXTURE_3D?this.context.getParameter(c.TEXTURE_BINDING_3D.value):A===c.TEXTURE_2D_ARRAY?this.context.getParameter(c.TEXTURE_BINDING_2D_ARRAY.value):void 0}readUniformsFromContextIntoState(A,B,J,Z){const be=this.context,Ne=be.getActiveUniforms(A,B,c.UNIFORM_TYPE.value),O=be.getActiveUniforms(A,B,c.UNIFORM_SIZE.value),U=be.getActiveUniforms(A,B,c.UNIFORM_BLOCK_INDEX.value),X=be.getActiveUniforms(A,B,c.UNIFORM_OFFSET.value),ee=be.getActiveUniforms(A,B,c.UNIFORM_ARRAY_STRIDE.value),oe=be.getActiveUniforms(A,B,c.UNIFORM_MATRIX_STRIDE.value),re=be.getActiveUniforms(A,B,c.UNIFORM_IS_ROW_MAJOR.value);for(let pe=0;pe<B.length;pe++){const He=J[pe];if(He.type=this.getWebGlConstant(Ne[pe]),He.size=O[pe],He.blockIndice=U[pe],He.blockIndice>-1&&(He.blockName=be.getActiveUniformBlockName(A,He.blockIndice)),He.offset=X[pe],He.arrayStride=ee[pe],He.matrixStride=oe[pe],He.rowMajor=re[pe],He.blockIndice>-1){const Ie=Z[U[pe]].bindingPoint;He.value=this.drawCallUboInputState.getUboValue(Ie,He.offset,He.size,Ne[pe])}}}readTransformFeedbackFromContext(A,B){const J=this.context,Z=J.getTransformFeedbackVarying(A,B),be=J.getIndexedParameter(c.TRANSFORM_FEEDBACK_BUFFER_BINDING.value,B),Ne={name:Z.name,size:Z.size,type:this.getWebGlConstant(Z.type),buffer:this.getSpectorData(be),bufferSize:J.getIndexedParameter(c.TRANSFORM_FEEDBACK_BUFFER_SIZE.value,B),bufferStart:J.getIndexedParameter(c.TRANSFORM_FEEDBACK_BUFFER_START.value,B)};return this.appendBufferCustomData(Ne,be),Ne}readUniformBlockFromContext(A,B){const J=this.context,Z=J.getActiveUniformBlockParameter(A,B,c.UNIFORM_BLOCK_BINDING.value),be=J.getIndexedParameter(c.UNIFORM_BUFFER_BINDING.value,Z),Ne={name:J.getActiveUniformBlockName(A,B),bindingPoint:Z,size:J.getActiveUniformBlockParameter(A,B,c.UNIFORM_BLOCK_DATA_SIZE.value),activeUniformCount:J.getActiveUniformBlockParameter(A,B,c.UNIFORM_BLOCK_ACTIVE_UNIFORMS.value),vertex:J.getActiveUniformBlockParameter(A,B,c.UNIFORM_BLOCK_REFERENCED_BY_VERTEX_SHADER.value),fragment:J.getActiveUniformBlockParameter(A,B,c.UNIFORM_BLOCK_REFERENCED_BY_FRAGMENT_SHADER.value),buffer:this.getSpectorData(be)};return this.appendBufferCustomData(Ne,be),Ne}appendBufferCustomData(A,B){if(B){const J=B.__SPECTOR_Object_CustomData;J&&(J.usage&&(A.bufferUsage=this.getWebGlConstant(J.usage)),A.bufferLength=J.length,J.offset&&(A.bufferOffset=J.offset),J.sourceLength&&(A.bufferSourceLength=J.sourceLength))}}getWebGlConstant(A){const B=w[A];return B?B.name:A}}ge.stateName="DrawCall",ge.samplerTypes={[c.SAMPLER_2D.value]:c.TEXTURE_2D,[c.SAMPLER_CUBE.value]:c.TEXTURE_CUBE_MAP,[c.SAMPLER_3D.value]:c.TEXTURE_3D,[c.SAMPLER_2D_SHADOW.value]:c.TEXTURE_2D,[c.SAMPLER_2D_ARRAY.value]:c.TEXTURE_2D_ARRAY,[c.SAMPLER_2D_ARRAY_SHADOW.value]:c.TEXTURE_2D_ARRAY,[c.SAMPLER_CUBE_SHADOW.value]:c.TEXTURE_CUBE_MAP,[c.INT_SAMPLER_2D.value]:c.TEXTURE_2D,[c.INT_SAMPLER_3D.value]:c.TEXTURE_3D,[c.INT_SAMPLER_CUBE.value]:c.TEXTURE_CUBE_MAP,[c.INT_SAMPLER_2D_ARRAY.value]:c.TEXTURE_2D_ARRAY,[c.UNSIGNED_INT_SAMPLER_2D.value]:c.TEXTURE_2D,[c.UNSIGNED_INT_SAMPLER_3D.value]:c.TEXTURE_3D,[c.UNSIGNED_INT_SAMPLER_CUBE.value]:c.TEXTURE_CUBE_MAP,[c.UNSIGNED_INT_SAMPLER_2D_ARRAY.value]:c.TEXTURE_2D_ARRAY};class Te{constructor(A){this.contextInformation=A,this.stateTrackers=[],this.onCommandCapturedCallbacks={},this.initStateTrackers()}startCapture(A,B,J){for(const Z of this.stateTrackers){const be=Z.startCapture(!0,B,J);Z.requireStartAndStopStates&&(A.initState[Z.stateName]=be)}}stopCapture(A){for(const B of this.stateTrackers){const J=B.stopCapture();B.requireStartAndStopStates&&(A.endState[B.stateName]=J)}}captureState(A){const B=this.onCommandCapturedCallbacks[A.name];if(B)for(const J of B)J(A)}initStateTrackers(){this.stateTrackers.push(new Cn(this.contextInformation),new An(this.contextInformation),new Pt(this.contextInformation),new on(this.contextInformation),new Pn(this.contextInformation),new Ge(this.contextInformation),new lt(this.contextInformation),new Xt(this.contextInformation),new Xe(this.contextInformation),new mt(this.contextInformation),new $t(this.contextInformation),new gn(this.contextInformation),new Ut(this.contextInformation),new ge(this.contextInformation));for(const A of this.stateTrackers)A.registerCallbacks(this.onCommandCapturedCallbacks)}}class Ye{constructor(A){this.options=A,this.createCommandNames=this.getCreateCommandNames(),this.updateCommandNames=this.getUpdateCommandNames(),this.deleteCommandNames=this.getDeleteCommandNames(),this.startTime=b.now,this.memoryPerSecond={},this.totalMemory=0,this.frameMemory=0,this.capturing=!1,Ye.initializeByteSizeFormat()}static initializeByteSizeFormat(){this.byteSizePerInternalFormat||(this.byteSizePerInternalFormat={[c.R8.value]:1,[c.R16F.value]:2,[c.R32F.value]:4,[c.R8UI.value]:1,[c.RG8.value]:2,[c.RG16F.value]:4,[c.RG32F.value]:8,[c.ALPHA.value]:1,[c.RGB.value]:3,[c.RGBA.value]:4,[c.LUMINANCE.value]:1,[c.LUMINANCE_ALPHA.value]:2,[c.DEPTH_COMPONENT.value]:1,[c.DEPTH_STENCIL.value]:2,[c.SRGB_EXT.value]:3,[c.SRGB_ALPHA_EXT.value]:4,[c.RGB8.value]:3,[c.SRGB8.value]:3,[c.RGB565.value]:2,[c.R11F_G11F_B10F.value]:4,[c.RGB9_E5.value]:2,[c.RGB16F.value]:6,[c.RGB32F.value]:12,[c.RGB8UI.value]:3,[c.RGBA8.value]:4,[c.RGB5_A1.value]:2,[c.RGBA16F.value]:8,[c.RGBA32F.value]:16,[c.RGBA8UI.value]:4,[c.COMPRESSED_R11_EAC.value]:4,[c.COMPRESSED_SIGNED_R11_EAC.value]:4,[c.COMPRESSED_RG11_EAC.value]:4,[c.COMPRESSED_SIGNED_RG11_EAC.value]:4,[c.COMPRESSED_RGB8_ETC2.value]:4,[c.COMPRESSED_RGBA8_ETC2_EAC.value]:4,[c.COMPRESSED_SRGB8_ETC2.value]:4,[c.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC.value]:4,[c.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2.value]:4,[c.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2.value]:4,[c.COMPRESSED_RGB_S3TC_DXT1_EXT.value]:.5,[c.COMPRESSED_RGBA_S3TC_DXT3_EXT.value]:1,[c.COMPRESSED_RGBA_S3TC_DXT5_EXT.value]:1,[c.COMPRESSED_RGB_PVRTC_4BPPV1_IMG.value]:.5,[c.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG.value]:.5,[c.COMPRESSED_RGB_PVRTC_2BPPV1_IMG.value]:.25,[c.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG.value]:.25,[c.COMPRESSED_RGB_ETC1_WEBGL.value]:.5,[c.COMPRESSED_RGB_ATC_WEBGL.value]:.5,[c.COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL.value]:1,[c.COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL.value]:1})}registerCallbacks(A){for(const B of this.createCommandNames)A[B]=A[B]||[],A[B].push(this.createWithoutSideEffects.bind(this));for(const B of this.updateCommandNames)A[B]=A[B]||[],A[B].push(this.updateWithoutSideEffects.bind(this));for(const B of this.deleteCommandNames)A[B]=A[B]||[],A[B].push(this.deleteWithoutSideEffects.bind(this))}startCapture(){this.frameMemory=0,this.capturing=!0}stopCapture(){this.frameMemory=0,this.capturing=!1}appendRecordedInformation(A){A.frameMemory[this.objectName]=this.frameMemory,A.memory[this.objectName]=this.memoryPerSecond}create(A){}createWithoutSideEffects(A){this.options.toggleCapture(!1),this.create(A),this.options.toggleCapture(!0)}updateWithoutSideEffects(A){if(!A||A.arguments.length===0)return;this.options.toggleCapture(!1);const B=A.arguments[0],J=this.getBoundInstance(B);if(!J)return void this.options.toggleCapture(!0);if(!P.getWebGlObjectTag(J))return void this.options.toggleCapture(!0);const Z=this.getWebGlConstant(B),be=this.update(A,Z,J);this.changeMemorySize(be),this.options.toggleCapture(!0)}deleteWithoutSideEffects(A){if(!A||!A.arguments||A.arguments.length<1)return;const B=A.arguments[0];if(!B)return;this.options.toggleCapture(!1);const J=this.delete(B);this.changeMemorySize(-J),this.options.toggleCapture(!0)}changeMemorySize(A){this.totalMemory+=A,this.capturing&&(this.frameMemory+=A);const B=b.now-this.startTime,J=Math.round(B/1e3);this.memoryPerSecond[J]=this.totalMemory}getWebGlConstant(A){const B=w[A];return B?B.name:A+""}getByteSizeForInternalFormat(A){return Ye.byteSizePerInternalFormat[A]||4}}class vt extends Ye{get objectName(){return"Buffer"}getCreateCommandNames(){return["createBuffer"]}getUpdateCommandNames(){return["bufferData"]}getDeleteCommandNames(){return["deleteBuffer"]}getBoundInstance(A){const B=this.options.context;return A===c.ARRAY_BUFFER.value?B.getParameter(c.ARRAY_BUFFER_BINDING.value):A===c.ELEMENT_ARRAY_BUFFER.value?B.getParameter(c.ELEMENT_ARRAY_BUFFER_BINDING.value):A===c.COPY_READ_BUFFER.value?B.getParameter(c.COPY_READ_BUFFER_BINDING.value):A===c.COPY_WRITE_BUFFER.value?B.getParameter(c.COPY_WRITE_BUFFER_BINDING.value):A===c.TRANSFORM_FEEDBACK_BUFFER.value?B.getParameter(c.TRANSFORM_FEEDBACK_BUFFER_BINDING.value):A===c.UNIFORM_BUFFER.value?B.getParameter(c.UNIFORM_BUFFER_BINDING.value):A===c.PIXEL_PACK_BUFFER.value?B.getParameter(c.PIXEL_PACK_BUFFER_BINDING.value):A===c.PIXEL_UNPACK_BUFFER.value?B.getParameter(c.PIXEL_UNPACK_BUFFER_BINDING.value):void 0}delete(A){const B=A.__SPECTOR_Object_CustomData;return B?B.length:0}update(A,B,J){const Z=this.getCustomData(B,A);if(!Z)return 0;const be=J.__SPECTOR_Object_CustomData?J.__SPECTOR_Object_CustomData.length:0;return J.__SPECTOR_Object_CustomData=Z,Z.length-be}getCustomData(A,B){const J=this.getLength(B);return B.arguments.length>=4?{target:A,length:J,usage:B.arguments[2],offset:B.arguments[3],sourceLength:B.arguments[1]?B.arguments[1].length:-1}:B.arguments.length===3?{target:A,length:J,usage:B.arguments[2]}:void 0}getLength(A){let B=-1,J=0;return A.arguments.length===5&&(B=A.arguments[4],J=A.arguments[3]),B<=0&&(B=typeof A.arguments[1]=="number"?A.arguments[1]:A.arguments[1]&&(A.arguments[1].byteLength||A.arguments[1].length)||0),B-J}}class bt extends Ye{get objectName(){return"Renderbuffer"}getCreateCommandNames(){return["createRenderbuffer"]}getUpdateCommandNames(){return["renderbufferStorage","renderbufferStorageMultisample"]}getDeleteCommandNames(){return["deleteRenderbuffer"]}getBoundInstance(A){const B=this.options.context;if(A===c.RENDERBUFFER.value)return B.getParameter(c.RENDERBUFFER_BINDING.value)}delete(A){const B=A.__SPECTOR_Object_CustomData;return B?B.length:0}update(A,B,J){const Z=this.getCustomData(A,B);if(!Z)return 0;const be=J.__SPECTOR_Object_CustomData?J.__SPECTOR_Object_CustomData.length:0;return Z.length=Z.width*Z.height*this.getByteSizeForInternalFormat(Z.internalFormat),J.__SPECTOR_Object_CustomData=Z,Z.length-be}getCustomData(A,B){return A.arguments.length===4?{target:B,internalFormat:A.arguments[1],width:A.arguments[2],height:A.arguments[3],length:0,samples:0}:{target:B,internalFormat:A.arguments[2],width:A.arguments[3],height:A.arguments[4],length:0,samples:A.arguments[1]}}}class St extends Ye{get objectName(){return"Texture2d"}getCreateCommandNames(){return["createTexture"]}getUpdateCommandNames(){return["texImage2D","compressedTexImage2D","texStorage2D"]}getDeleteCommandNames(){return["deleteTexture"]}getBoundInstance(A){const B=this.options.context;return A===c.TEXTURE_2D.value?B.getParameter(c.TEXTURE_BINDING_2D.value):A===c.TEXTURE_CUBE_MAP_POSITIVE_X.value||A===c.TEXTURE_CUBE_MAP_POSITIVE_Y.value||A===c.TEXTURE_CUBE_MAP_POSITIVE_Z.value||A===c.TEXTURE_CUBE_MAP_NEGATIVE_X.value||A===c.TEXTURE_CUBE_MAP_NEGATIVE_Y.value||A===c.TEXTURE_CUBE_MAP_NEGATIVE_Z.value?B.getParameter(c.TEXTURE_BINDING_CUBE_MAP.value):void 0}delete(A){const B=A.__SPECTOR_Object_CustomData;return B?B.target===c.TEXTURE_2D_ARRAY.name||B.target===c.TEXTURE_3D.name?0:B.length:0}update(A,B,J){const Z=this.getCustomData(A,B,J);if(!Z)return 0;const be=J.__SPECTOR_Object_CustomData?J.__SPECTOR_Object_CustomData.length:0;if(Z.isCompressed){if(A.arguments.length>=7){const Ne=A.arguments[6];Z.length=typeof Ne=="number"?Ne:Ne?.byteLength}}else{const Ne=B==="TEXTURE_2D"?1:6;let O=Z.internalFormat;O===c.RGBA.value&&(Z.type===c.FLOAT.value&&(O=c.RGBA32F.value),Z.type===c.HALF_FLOAT_OES.value&&(O=c.RGBA16F.value)),Z.length=Z.width*Z.height*Ne*this.getByteSizeForInternalFormat(O)}return Z.length=0|Z.length,J.__SPECTOR_Object_CustomData=Z,Z.length-be}getCustomData(A,B,J){return A.name==="texImage2D"?this.getTexImage2DCustomData(A,B,J):A.name==="compressedTexImage2D"?this.getCompressedTexImage2DCustomData(A,B,J):A.name==="texStorage2D"?this.getTexStorage2DCustomData(A,B,J):void 0}getTexStorage2DCustomData(A,B,J){let Z;return A.arguments.length===5&&(Z={target:B,internalFormat:A.arguments[2],width:A.arguments[3],height:A.arguments[4],length:0,isCompressed:!1}),Z}getCompressedTexImage2DCustomData(A,B,J){if(A.arguments[1]!==0)return;let Z;return A.arguments.length>=7&&(Z={target:B,internalFormat:A.arguments[2],width:A.arguments[3],height:A.arguments[4],length:0,isCompressed:!0}),Z}getTexImage2DCustomData(A,B,J){if(A.arguments[1]!==0)return;let Z;return A.arguments.length>=8?Z={target:B,internalFormat:A.arguments[2],width:A.arguments[3],height:A.arguments[4],format:A.arguments[6],type:A.arguments[7],length:0,isCompressed:!1}:A.arguments.length===6&&(Z={target:B,internalFormat:A.arguments[2],width:A.arguments[5].width,height:A.arguments[5].height,format:A.arguments[3],type:A.arguments[4],length:0,isCompressed:!1}),Z}}class an extends Ye{get objectName(){return"Texture3d"}getCreateCommandNames(){return["createTexture"]}getUpdateCommandNames(){return["texImage3D","compressedTexImage3D","texStorage3D"]}getDeleteCommandNames(){return["deleteTexture"]}getBoundInstance(A){const B=this.options.context;return A===c.TEXTURE_2D_ARRAY.value?B.getParameter(c.TEXTURE_BINDING_2D_ARRAY.value):A===c.TEXTURE_3D.value?B.getParameter(c.TEXTURE_BINDING_3D.value):void 0}delete(A){const B=A.__SPECTOR_Object_CustomData;return B?B.target!==c.TEXTURE_2D_ARRAY.name&&B.target!==c.TEXTURE_3D.name?0:B.length:0}update(A,B,J){if(A.arguments.length>=2&&A.arguments[1]!==0)return 0;const Z=this.getCustomData(A,B,J);if(!Z)return 0;const be=J.__SPECTOR_Object_CustomData?J.__SPECTOR_Object_CustomData.length:0;if(Z.isCompressed){if(A.arguments.length>=7){const Ne=A.arguments[6];Z.length=typeof Ne=="number"?Ne:Ne?.byteLength}}else Z.length=Z.width*Z.height*Z.depth*this.getByteSizeForInternalFormat(Z.internalFormat);return Z.length=0|Z.length,J.__SPECTOR_Object_CustomData=Z,Z.length-be}getCustomData(A,B,J){return A.name==="texImage3D"?this.getTexImage3DCustomData(A,B,J):A.name==="compressedTexImage3D"?this.getCompressedTexImage3DCustomData(A,B,J):A.name==="texStorage3D"?this.getTexStorage3DCustomData(A,B,J):void 0}getTexStorage3DCustomData(A,B,J){let Z;return A.arguments.length===6&&(Z={target:B,internalFormat:A.arguments[2],width:A.arguments[3],height:A.arguments[4],depth:A.arguments[5],length:0,isCompressed:!1}),Z}getCompressedTexImage3DCustomData(A,B,J){if(A.arguments[1]!==0)return;let Z;return A.arguments.length>=8&&(Z={target:B,internalFormat:A.arguments[2],width:A.arguments[3],height:A.arguments[4],depth:A.arguments[5],length:0,isCompressed:!0}),Z}getTexImage3DCustomData(A,B,J){if(A.arguments[1]!==0)return;let Z;return A.arguments.length>=9&&(Z={target:B,internalFormat:A.arguments[2],width:A.arguments[3],height:A.arguments[4],depth:A.arguments[5],format:A.arguments[7],type:A.arguments[8],length:0,isCompressed:!1}),Z}}class Wt extends Ye{get objectName(){return"Program"}getCreateCommandNames(){return["createProgram"]}getUpdateCommandNames(){return["linkProgram"]}getDeleteCommandNames(){return["deleteProgram"]}getBoundInstance(A){return A}delete(A){const B=A.__SPECTOR_Object_CustomData;return B?B.length:0}update(A,B,J){if(A.arguments.length>=1&&!A.arguments[0])return 0;const Z=this.getCustomData(J);if(!Z)return 0;const be=J.__SPECTOR_Object_CustomData?J.__SPECTOR_Object_CustomData.length:0;return J.__SPECTOR_Object_CustomData=Z,Z.length-be}getCustomData(A){const B=this.options.context;return nr.getProgramData(B,A)}}class fe{constructor(A){this.contextInformation=A,this.onCommandCallbacks={},this.recorders=[],this.initRecorders()}recordCommand(A){const B=this.onCommandCallbacks[A.name];if(B)for(const J of B)J(A)}startCapture(){for(const A of this.recorders)A.startCapture()}stopCapture(){for(const A of this.recorders)A.stopCapture()}appendRecordedInformation(A){for(const B of this.recorders)B.appendRecordedInformation(A)}initRecorders(){this.recorders.push(new vt(this.contextInformation),new bt(this.contextInformation),new St(this.contextInformation),new an(this.contextInformation),new Wt(this.contextInformation));for(const A of this.recorders)A.registerCallbacks(this.onCommandCallbacks)}}class Be{constructor(A){this.contextInformation=A,this.webGlObjects=[],this.initWebglObjects()}tagWebGlObjects(A){for(const B of this.webGlObjects){for(let J=0;J<A.arguments.length;J++){const Z=A.arguments[J];if(B.tagWebGlObject(Z))break}if(B.tagWebGlObject(A.result))break}}tagWebGlObject(A){for(const B of this.webGlObjects){const J=B.tagWebGlObject(A);if(J)return J}}initWebglObjects(){this.webGlObjects.push(new Ai,new Ri,new Ar,new rr,new dr,new Pr,new ms,new zs,new Ds,new gi,new ls,new gr)}}class Ve extends Yt{constructor(A){super(A),this.extensionDefinition=[[{name:"ANGLE_instanced_arrays",description:""},{name:"EXT_blend_minmax",description:""},{name:"EXT_color_buffer_float",description:""},{name:"EXT_color_buffer_half_float",description:""},{name:"EXT_disjoint_timer_query",description:""},{name:"EXT_frag_depth",description:""},{name:"EXT_sRGB",description:""},{name:"EXT_shader_texture_lod",description:""},{name:"EXT_texture_filter_anisotropic",description:""},{name:"OES_element_index_uint",description:""},{name:"OES_standard_derivatives",description:""},{name:"OES_texture_float",description:""},{name:"OES_texture_float_linear",description:""},{name:"OES_texture_half_float",description:""},{name:"OES_texture_half_float_linear",description:""},{name:"OES_vertex_array_object",description:""},{name:"WEBGL_color_buffer_float",description:""},{name:"WEBGL_compressed_texture_astc",description:""},{name:"WEBGL_compressed_texture_atc",description:""},{name:"WEBGL_compressed_texture_etc",description:""},{name:"WEBGL_compressed_texture_etc1",description:""},{name:"WEBGL_compressed_texture_pvrtc",description:""},{name:"WEBGL_compressed_texture_s3tc",description:""},{name:"WEBGL_depth_texture",description:""},{name:"WEBGL_draw_buffers",description:""}],[{name:"EXT_color_buffer_float",description:""},{name:"EXT_disjoint_timer_query",description:""},{name:"EXT_disjoint_timer_query_webgl2",description:""},{name:"EXT_texture_filter_anisotropic",description:""},{name:"OES_texture_float_linear",description:""},{name:"WEBGL_compressed_texture_astc",description:""},{name:"WEBGL_compressed_texture_atc",description:""},{name:"WEBGL_compressed_texture_etc",description:""},{name:"WEBGL_compressed_texture_etc1",description:""},{name:"WEBGL_compressed_texture_pvrtc",description:""},{name:"WEBGL_compressed_texture_s3tc",description:""},{name:"WEBGL_multi_draw",description:""},{name:"WEBGL_multi_draw_instanced_base_vertex_base_instance",description:""},{name:"WEBGL_draw_instanced_base_vertex_base_instance",description:""}]],this.currentState=this.startCapture(!0,this.quickCapture,this.fullCapture)}get stateName(){return"Extensions"}getExtensions(){return this.extensions}readFromContext(){const A=this.contextVersion===1?this.extensionDefinition[0]:this.extensionDefinition[1];for(const B of A){const J=this.context.getExtension(B.name);J?(this.currentState[B.name]=!0,this.extensions[B.name]=J):this.currentState[B.name]=!1}}}class je extends Qt{get stateName(){return"CompressedTextures"}constructor(A){super(A),this.currentState=this.startCapture(!0,this.quickCapture,this.fullCapture)}getWebgl1Parameters(){return[{constant:c.COMPRESSED_TEXTURE_FORMATS}]}stringifyParameterValue(A,B){const J=[];for(const Z of A)J.push(c.stringifyWebGlConstant(Z,"getParameter"));return J}}class et extends Qt{get stateName(){return"Capabilities"}constructor(A){super(A),this.currentState=this.startCapture(!0,this.quickCapture,this.fullCapture)}getWebgl1Parameters(){return[{constant:c.RENDERER},{constant:c.VENDOR},{constant:c.VERSION},{constant:c.SHADING_LANGUAGE_VERSION},{constant:c.SAMPLES},{constant:c.SAMPLE_BUFFERS},{constant:c.RED_BITS},{constant:c.GREEN_BITS},{constant:c.BLUE_BITS},{constant:c.ALPHA_BITS},{constant:c.DEPTH_BITS},{constant:c.STENCIL_BITS},{constant:c.SUBPIXEL_BITS},{constant:c.LINE_WIDTH},{constant:c.ALIASED_LINE_WIDTH_RANGE},{constant:c.ALIASED_POINT_SIZE_RANGE},{constant:c.IMPLEMENTATION_COLOR_READ_FORMAT,returnType:20},{constant:c.IMPLEMENTATION_COLOR_READ_TYPE,returnType:20},{constant:c.MAX_COMBINED_TEXTURE_IMAGE_UNITS},{constant:c.MAX_CUBE_MAP_TEXTURE_SIZE},{constant:c.MAX_FRAGMENT_UNIFORM_VECTORS},{constant:c.MAX_RENDERBUFFER_SIZE},{constant:c.MAX_TEXTURE_IMAGE_UNITS},{constant:c.MAX_TEXTURE_SIZE},{constant:c.MAX_VARYING_VECTORS},{constant:c.MAX_VERTEX_ATTRIBS},{constant:c.MAX_VERTEX_TEXTURE_IMAGE_UNITS},{constant:c.MAX_VERTEX_UNIFORM_VECTORS},{constant:c.MAX_VIEWPORT_DIMS},{constant:c.MAX_TEXTURE_MAX_ANISOTROPY_EXT},{constant:c.MAX_COLOR_ATTACHMENTS_WEBGL},{constant:c.MAX_DRAW_BUFFERS_WEBGL}]}getWebgl2Parameters(){return[{constant:c.MAX_3D_TEXTURE_SIZE},{constant:c.MAX_ARRAY_TEXTURE_LAYERS},{constant:c.MAX_CLIENT_WAIT_TIMEOUT_WEBGL},{constant:c.MAX_COLOR_ATTACHMENTS},{constant:c.MAX_COMBINED_FRAGMENT_UNIFORM_COMPONENTS},{constant:c.MAX_COMBINED_UNIFORM_BLOCKS},{constant:c.MAX_COMBINED_VERTEX_UNIFORM_COMPONENTS},{constant:c.MAX_DRAW_BUFFERS},{constant:c.MAX_ELEMENT_INDEX},{constant:c.MAX_ELEMENTS_INDICES},{constant:c.MAX_ELEMENTS_VERTICES},{constant:c.MAX_FRAGMENT_INPUT_COMPONENTS},{constant:c.MAX_FRAGMENT_UNIFORM_BLOCKS},{constant:c.MAX_FRAGMENT_UNIFORM_COMPONENTS},{constant:c.MAX_PROGRAM_TEXEL_OFFSET},{constant:c.MAX_SAMPLES},{constant:c.MAX_SERVER_WAIT_TIMEOUT},{constant:c.MAX_TEXTURE_LOD_BIAS},{constant:c.MAX_TRANSFORM_FEEDBACK_INTERLEAVED_COMPONENTS},{constant:c.MAX_TRANSFORM_FEEDBACK_SEPARATE_ATTRIBS},{constant:c.MAX_TRANSFORM_FEEDBACK_SEPARATE_COMPONENTS},{constant:c.MAX_UNIFORM_BLOCK_SIZE},{constant:c.MAX_UNIFORM_BUFFER_BINDINGS},{constant:c.MAX_VARYING_COMPONENTS},{constant:c.MAX_VERTEX_OUTPUT_COMPONENTS},{constant:c.MAX_VERTEX_UNIFORM_BLOCKS},{constant:c.MAX_VERTEX_UNIFORM_COMPONENTS},{constant:c.MIN_PROGRAM_TEXEL_OFFSET}]}}class ft{constructor(A){this.options=A,this.commandId=0,this.context=A.context,this.version=A.version,this.onMaxCommand=new d,this.capturing=!1,this.globalCapturing=!0,this.contextInformation={context:this.context,contextVersion:this.version,toggleCapture:this.toggleGlobalCapturing.bind(this),tagWebGlObject:this.tagWebGlObject.bind(this),extensions:{}},this.commandSpies={},this.stateSpy=new Te(this.contextInformation),this.recorderSpy=new fe(this.contextInformation),this.webGlObjectSpy=new Be(this.contextInformation),this.analyser=new L(this.contextInformation),this.initStaticCapture(),A.recordAlways&&this.spy()}spy(){this.spyContext(this.context);const{extensions:A}=this.contextInformation;for(const B in A)A.hasOwnProperty(B)&&this.spyContext(A[B])}unSpy(){for(const A in this.commandSpies)this.commandSpies.hasOwnProperty(A)&&this.commandSpies[A].unSpy()}startCapture(A=0,B=!1,J=!1){const Z=b.now;this.maxCommands=A,this.options.recordAlways||this.spy(),this.capturing=!0,this.commandId=0,this.currentCapture={canvas:this.canvasCapture,context:this.contextCapture,commands:[],initState:{},endState:{},startTime:Z,listenCommandsStartTime:0,listenCommandsEndTime:0,endTime:0,analyses:[],frameMemory:{},memory:{}},this.currentCapture.canvas.width=this.context.canvas.width,this.currentCapture.canvas.height=this.context.canvas.height,this.currentCapture.canvas.clientWidth=this.context.canvas.clientWidth||this.context.canvas.width,this.currentCapture.canvas.clientHeight=this.context.canvas.clientHeight||this.context.canvas.height,this.stateSpy.startCapture(this.currentCapture,B,J),this.recorderSpy.startCapture(),this.currentCapture.listenCommandsStartTime=b.now}stopCapture(){const A=b.now;return this.options.recordAlways||this.unSpy(),this.capturing=!1,this.stateSpy.stopCapture(this.currentCapture),this.recorderSpy.stopCapture(),this.currentCapture.listenCommandsEndTime=A,this.currentCapture.endTime=b.now,this.recorderSpy.appendRecordedInformation(this.currentCapture),this.analyser.appendAnalyses(this.currentCapture),this.currentCapture}isCapturing(){return this.globalCapturing&&this.capturing}setMarker(A){this.marker=A}clearMarker(){this.marker=null}log(A){this.currentCapture.commands.push({name:"LOG",text:A,commandArguments:[],commandEndTime:b.now,endTime:b.now,stackTrace:[],marker:"",status:40,startTime:b.now,result:void 0,id:this.getNextCommandCaptureId()})}getNextCommandCaptureId(){return this.commandId++}onCommand(A,B){if(this.globalCapturing&&(this.webGlObjectSpy.tagWebGlObjects(B),this.recorderSpy.recordCommand(B),this.isCapturing())){const J=A.createCapture(B,this.getNextCommandCaptureId(),this.marker);this.stateSpy.captureState(J),this.currentCapture.commands.push(J),J.endTime=b.now,this.maxCommands>0&&this.currentCapture.commands.length===this.maxCommands&&this.onMaxCommand.trigger(this)}}spyContext(A){const B=[];for(const J in A)J&&B.push(J);for(let J=0;J<B.length;J++){const Z=B[J];if(!~ft.unSpyableMembers.indexOf(Z))try{typeof A[Z]!="number"&&this.spyFunction(Z,A)}catch(be){m.error("Cant Spy member: "+Z),m.error(be)}}}initStaticCapture(){const A=new Ve(this.contextInformation),B=A.getExtensions();for(const be in B)B.hasOwnProperty(be)&&(this.contextInformation.extensions[be]=B[be]);const J=new et(this.contextInformation),Z=new je(this.contextInformation);this.contextCapture={version:this.version,contextAttributes:this.context.getContextAttributes(),capabilities:J.getStateData(),extensions:A.getStateData(),compressedTextures:Z.getStateData()},this.canvasCapture={width:this.context.canvas.width,height:this.context.canvas.height,clientWidth:this.context.canvas.clientWidth||this.context.canvas.width,clientHeight:this.context.canvas.clientHeight||this.context.canvas.height,browserAgent:navigator?navigator.userAgent:""}}spyFunction(A,B){if(A.indexOf("__SPECTOR_Origin_")!==0){if(!this.commandSpies[A]){const J=(function(Z,be){const Ne={};for(const O in Z)Z.hasOwnProperty(O)&&(Ne[O]=Z[O]);for(const O in be)Ne.hasOwnProperty(O)||(Ne[O]=be[O]);return Ne})(this.contextInformation,{spiedCommandName:A,spiedCommandRunningContext:B,callback:this.onCommand.bind(this)});this.commandSpies[A]=new ht(J)}this.commandSpies[A].spy()}}toggleGlobalCapturing(A){this.globalCapturing=A}tagWebGlObject(A){return this.webGlObjectSpy.tagWebGlObject(A)}}ft.unSpyableMembers=["canvas","drawingBufferWidth","drawingBufferHeight","drawingBufferColorSpace","unpackColorSpace","glp"];class Et{constructor(A){this.spiedScope=A||window,this.lastFrame=0,this.speedRatio=1,this.willPlayNextFrame=!1,this.onFrameStart=new d,this.onFrameEnd=new d,this.onError=new d,this.lastSixtyFramesDuration=[],this.lastSixtyFramesCurrentIndex=0,this.lastSixtyFramesPreviousStart=0;for(let B=0;B<Et.fpsWindowSize;B++)this.lastSixtyFramesDuration[B]=0;this.init()}playNextFrame(){this.willPlayNextFrame=!0}changeSpeedRatio(A){this.speedRatio=A}static getRequestAnimationFrameFunctionNames(){return[...Et.requestAnimationFrameFunctions]}addRequestAnimationFrameFunctionName(A){Et.requestAnimationFrameFunctions.push(A)}getSpiedScope(){return this.spiedScope}setSpiedScope(A){this.spiedScope=A}getFps(){let A=0;for(let B=0;B<Et.fpsWindowSize;B++)A+=this.lastSixtyFramesDuration[B];return A===0?0:6e4/A}init(){for(const A of Et.requestAnimationFrameFunctions)this.spyRequestAnimationFrame(A,this.spiedScope);for(const A of Et.setTimerFunctions)this.spySetTimer(A);this.spiedScope.VRDisplay&&this.spiedScope.addEventListener("vrdisplaypresentchange",(A=>{this.spyRequestAnimationFrame("requestAnimationFrame",A.display)}))}spyRequestAnimationFrame(A,B){const J=this;R.storeOriginFunction(B,A),B[A]=function(){const Z=arguments[0],be=J.getCallback(J,Z,(()=>{J.spiedScope[A](Z)}));return R.executeOriginFunction(B,A,[be])}}spySetTimer(A){const B=this,J=this.spiedScope,Z=A==="setTimeout";R.storeOriginFunction(J,A),J[A]=function(){const be=arguments[0],Ne=arguments[1],O=Array.prototype.slice.call(arguments);return Et.setTimerCommonValues.indexOf(Ne)>-1&&(O[0]=B.getCallback(B,be,Z?()=>{J[A](be)}:null)),R.executeOriginFunction(J,A,O)}}getCallback(A,B,J=null){return function(){const Z=b.now;if(A.lastFrame=++A.lastFrame%A.speedRatio,A.willPlayNextFrame||A.speedRatio&&!A.lastFrame){A.onFrameStart.trigger(A);try{B.apply(A.spiedScope,arguments)}catch(be){A.onError.trigger(be)}A.lastSixtyFramesCurrentIndex=(A.lastSixtyFramesCurrentIndex+1)%Et.fpsWindowSize,A.lastSixtyFramesDuration[A.lastSixtyFramesCurrentIndex]=Z-A.lastSixtyFramesPreviousStart,A.onFrameEnd.trigger(A),A.willPlayNextFrame=!1}else J&&J();A.lastSixtyFramesPreviousStart=Z}}}Et.requestAnimationFrameFunctions=["requestAnimationFrame","msRequestAnimationFrame","webkitRequestAnimationFrame","mozRequestAnimationFrame","oRequestAnimationFrame"],Et.setTimerFunctions=["setTimeout","setInterval"],Et.setTimerCommonValues=[0,15,16,33,32,40],Et.fpsWindowSize=60;class Gt{constructor(A){this.canvas=A,this.onContextRequested=new d,this.init()}init(){const A=this,B=function(){const J=this instanceof HTMLCanvasElement?HTMLCanvasElement:OffscreenCanvas,Z=A.canvas?R.executeOriginFunction(this,"getContext",arguments):R.executePrototypeOriginFunction(this,J,"getContext",arguments);if(arguments.length>0&&arguments[0]==="2d")return Z;if(Z){const be=Array.prototype.slice.call(arguments),Ne=be[0]==="webgl2"||be[0]==="experimental-webgl2"?2:1;A.onContextRequested.trigger({context:Z,contextVersion:Ne})}return Z};this.canvas?(R.storeOriginFunction(this.canvas,"getContext"),this.canvas.getContext=B):(R.storePrototypeOriginFunction(HTMLCanvasElement,"getContext"),HTMLCanvasElement.prototype.getContext=B,typeof OffscreenCanvas<"u"&&(R.storePrototypeOriginFunction(OffscreenCanvas,"getContext"),OffscreenCanvas.prototype.getContext=B))}}var Jt=l(379),Nn=l.n(Jt),Rn=l(795),hn=l.n(Rn),Un=l(569),Yn=l.n(Un),Ui=l(565),En=l.n(Ui),ri=l(216),K=l.n(ri),$i=l(589),ni=l.n($i),ci=l(866),ct={};ct.styleTagTransform=ni(),ct.setAttributes=En(),ct.insert=Yn().bind(null,"html"),ct.domAPI=hn(),ct.insertStyleElement=K(),Nn()(ci.Z,ct),ci.Z&&ci.Z.locals&&ci.Z.locals;class Je{constructor(A,B){this.placeHolder=A,this.stateStore=B}compose(A){const B=this.stateStore.getStatesToProcess();let J=!1;for(const be in B)if(B.hasOwnProperty(be)){const Ne=B[be],O=this.stateStore.getLastOperation(Ne),U=this.stateStore.getComponentInstance(Ne),X=this.stateStore.getData(Ne);U.render(X,Ne,O),J=!0}if(!J)return;const Z=this.stateStore.getLastOperation(A);this.composeInContainer(this.placeHolder,Number.MAX_VALUE,A,Z)}composeChildren(A,B){if(!B)return;const J=this.stateStore.getChildrenIds(A);let Z=0;for(let be=0;be<J.length;be++){const Ne=J[be],O=this.stateStore.getLastOperation(Ne);this.composeInContainer(B,Z,Ne,O),O!==50&&Z++}}composeInContainer(A,B,J,Z){const be=this.stateStore.getComponentInstance(J).composeInContainer(A,B,Z);this.composeChildren(J,be)}}class wn{constructor(){this.store={},this.idGenerator=0,this.pendingOperation={}}getLastOperation(A){return this.store[A].lastOperation}getData(A){return this.store[A].data}getComponentInstance(A){return this.store[A].componentInstance}getParentId(A){return this.store[A].parent?this.store[A].parent.id:-1}getChildrenIds(A){const B=[];for(const J of this.store[A].children)B.push(J.id);return B}hasChildren(A){return this.store[A].children.length>0}add(A,B){const J=this.getNewId();return this.pendingOperation[J]=J,this.store[J]={data:A,id:J,parent:null,children:[],componentInstance:B,lastOperation:20},J}update(A,B){this.store[A],this.pendingOperation[A]=A,this.store[A].data=B,this.store[A].lastOperation=40}addChild(A,B,J){const Z=this.store[A],be=this.add(B,J);this.pendingOperation[be]=be;const Ne=this.store[be];return Ne.parent=Z,Z.children.push(Ne),be}insertChildAt(A,B,J,Z){const be=this.store[A],Ne=this.add(J,Z);this.pendingOperation[Ne]=Ne;const O=this.store[Ne];return O.parent=be,B>=be.children.length?be.children.push(O):B>=0?be.children.splice(B,0,O):be.children.unshift(O),Ne}removeChildById(A,B){const J=this.store[A];for(let Z=J.children.length-1;Z>=0;Z--)if(J.children[Z].id===B){this.removeChildAt(A,Z);break}}removeChildAt(A,B){const J=this.store[A];let Z;B>J.children.length-1?(Z=J.children[J.children.length-1],J.children[J.children.length-1].parent=null,J.children.splice(J.children.length-1,1)):B>=0?(Z=J.children[B],J.children[B].parent=null,J.children.splice(B,1)):(Z=J.children[0],J.children[0].parent=null,J.children.splice(0,1)),Z.parent=null,this.remove(Z.id)}remove(A){const B=this.store[A];B.parent?(this.store[B.parent.id],this.removeChildById(B.parent.id,A)):(this.removeChildren(A),this.store[A].lastOperation=50,this.pendingOperation[A]=A)}removeChildren(A){const B=this.store[A];for(;B.children.length;)this.remove(B.children[0].id)}getStatesToProcess(){return this.pendingOperation}flushPendingOperations(){for(const A in this.pendingOperation)this.pendingOperation[A]&&(this.store[A].lastOperation===50?delete this.store[A]:this.store[A].lastOperation=0);this.pendingOperation={}}getNewId(){return++this.idGenerator}}class qn{constructor(A){this.component=A}render(A,B,J){J!==0&&(J!==50?this.domNode=this.component.render(A,B):this.removeNode())}composeInContainer(A,B,J){if(J===50)return this.removeNode(),null;const Z=this.cachedCurrentChildrenContainer;if(J===0)return Z;const be=this.domNode,Ne=be.getAttribute("childrencontainer")?be:be.querySelector("[childrenContainer]");if(Ne&&Z){const O=Z.children;for(;O.length>0;)Ne.appendChild(O[0])}if(this.cachedCurrentChildrenContainer=Ne,B>=A.children.length)A.appendChild(be),this.cachedCurrentDomNode&&J===40&&(this.cachedCurrentDomNode.remove?this.cachedCurrentDomNode.remove():this.cachedCurrentDomNode.parentNode&&this.cachedCurrentDomNode.parentNode.removeChild(this.cachedCurrentDomNode));else{const O=A.children[B];A.insertBefore(be,O),J===40&&A.removeChild(O)}return this.cachedCurrentDomNode=this.domNode,Ne}removeNode(){this.domNode&&this.domNode.parentElement&&(this.domNode.remove?this.domNode.remove():this.domNode.parentNode&&this.domNode.parentNode.removeChild(this.domNode)),this.cachedCurrentDomNode&&this.cachedCurrentDomNode.parentElement&&(this.cachedCurrentDomNode.remove?this.cachedCurrentDomNode.remove():this.cachedCurrentDomNode.parentNode&&this.cachedCurrentDomNode.parentNode.removeChild(this.cachedCurrentDomNode))}}qn.idGenerator=0;class yi{constructor(A){this.stateStore=new wn,this.compositor=new Je(A,this.stateStore),this.willRender=!1,this.rootStateId=-1}addRootState(A,B,J=!1){const Z=new qn(B),be=this.stateStore.add(A,Z);return this.rootStateId=be,this.setForRender(J),be}addChildState(A,B,J,Z=!1){const be=this.insertChildState(A,B,Number.MAX_VALUE,J);return this.setForRender(Z),be}insertChildState(A,B,J,Z,be=!1){const Ne=new qn(Z),O=this.stateStore.insertChildAt(A,J,B,Ne);return this.setForRender(be),O}updateState(A,B,J=!1){this.stateStore.update(A,B),this.setForRender(J)}removeState(A,B=!1){this.stateStore.remove(A),this.setForRender(B)}removeChildrenStates(A,B=!1){this.stateStore.removeChildren(A),this.setForRender(B)}getState(A){return this.stateStore.getData(A)}getGenericState(A){return this.getState(A)}getChildrenState(A){return this.stateStore.getChildrenIds(A).map((B=>this.stateStore.getData(A)))}getChildrenGenericState(A){return this.getChildrenState(A)}hasChildren(A){return this.stateStore.hasChildren(A)}updateAllChildrenState(A,B){const J=this.stateStore.getChildrenIds(A);for(const Z of J){const be=this.getGenericState(Z);B(be),this.updateState(Z,be)}}updateAllChildrenGenericState(A,B){this.updateAllChildrenState(A,B)}setForRender(A){this.willRender||(this.willRender=!0,A?this.compose():setTimeout(this.compose.bind(this),yi.REFRESHRATEINMILLISECONDS))}compose(){this.willRender=!1,this.compositor.compose(this.rootStateId),this.stateStore.flushPendingOperations()}}yi.REFRESHRATEINMILLISECONDS=100;class $n extends class{constructor(){this.dummyTextGeneratorElement=document.createElement("div")}createFromHtml(A){const B=document.createElement("div");return B.innerHTML=A,B.firstElementChild}htmlTemplate(A,...B){const J=A.raw;let Z="";return B.forEach(((be,Ne)=>{let O=J[Ne];Array.isArray(be)&&(be=be.join("")),O&&O.length>0&&O[O.length-1]==="$"?O=O.slice(0,-1):be=this.htmlEscape(be),Z+=O,Z+=be})),Z+=J[J.length-1],Z}htmlEscape(A){return A==null||A.length===0?A:(this.dummyTextGeneratorElement.innerText=A,this.dummyTextGeneratorElement.innerHTML)}}{constructor(){super(),this.events={}}addEventListener(A,B,J=null){return this.events[A]?this.events[A].add(B,J):-1}removeEventListener(A,B){this.events[A]&&this.events[A].remove(B)}renderElementFromTemplate(A,B,J){const Z=this.createFromHtml(A);return this.bindCommands(Z,B,J),Z}bindCommands(A,B,J){A.getAttribute("commandname")&&this.bindCommand(A,B,J);const Z=A.querySelectorAll("[commandName]");for(let be=0;be<Z.length;be++){const Ne=Z[be];this.bindCommand(Ne,B,J)}}bindCommand(A,B,J){const Z=A.getAttribute("commandname");let be=A.getAttribute("commandeventbinding")||"";be.length===0&&(be="click");const Ne=A.getAttribute("usecapture")==="true",O=A.getAttribute("stoppropagation")==="true";this.createEvent(Z),this.mapEventListener(A,be,Z,B,J,Ne,O)}mapEventListener(A,B,J,Z,be,Ne=!1,O=!1){const U=this;O?A.addEventListener(B,(function(X){return X.stopPropagation(),X.preventDefault(),U.triggerEvent(J,this,Z,be),!1}),Ne):A.addEventListener(B,(function(){U.triggerEvent(J,this,Z,be)}),Ne)}createEvent(A){if(!this.events[A]){const B=new d;this.events[A]=B}return this.events[A]}triggerEvent(A,B,J,Z){this.events[A].trigger({sender:B,stateId:Z,state:J})}}class ji extends $n{render(A,B){const J=this.htmlTemplate`<div>
            <div childrenContainer="true" class="captureMenuComponent ${A?"active":""}">
            </div>
            <div class="captureMenuLogComponent ${A.logVisible?"active":""}">
                <span class="${A.logLevel===u.error?"error":""}">${A.logText}<span>
            </div>
        </div>`;return this.renderElementFromTemplate(J,A,B)}}class Ht extends $n{constructor(){super(),this.onCanvasSelected=this.createEvent("onCanvasSelected")}render(A,B){const J=document.createElement("li"),Z=document.createElement("span");return Z.innerText=`Id: ${A.id} - Size: ${A.width}*${A.height}`,J.appendChild(Z),this.mapEventListener(J,"click","onCanvasSelected",A,B),J}}class gs extends $n{constructor(){super(),this.onCaptureRequested=this.createEvent("onCaptureRequested"),this.onPlayRequested=this.createEvent("onPlayRequested"),this.onPauseRequested=this.createEvent("onPauseRequested"),this.onPlayNextFrameRequested=this.createEvent("onPlayNextFrameRequested")}render(A,B){const J=this.htmlTemplate`
        <div class="captureMenuActionsComponent">
            <div commandName="onCaptureRequested">
            </div>
            $${A?`<div commandName="onPauseRequested">
                </div>`:`<div commandName="onPlayRequested">
                </div>
                <div commandName="onPlayNextFrameRequested">
                </div>`}
        </div>`;return this.renderElementFromTemplate(J,A,B)}}class $s extends $n{constructor(){super(),this.onCanvasSelection=this.createEvent("onCanvasSelection")}render(A,B){const J=this.htmlTemplate`
        <div class="canvasListComponent">
            <span commandName="onCanvasSelection">
                ${A.currentCanvasInformation?`${A.currentCanvasInformation.id} (${A.currentCanvasInformation.width}*${A.currentCanvasInformation.height})`:"Choose Canvas..."}
            </span>
            <ul childrenContainer="true" style="${A.showList?"display:block;visibility:visible":"display:none;visibility:hidden"}"></ul>
        </div>`;return this.renderElementFromTemplate(J,A,B)}}class ao extends $n{render(A,B){const J=document.createElement("span");return J.className="fpsCounterComponent",J.innerText=A.toFixed(2)+" Fps",J}}class Dr{constructor(A={}){this.options=A,this.rootPlaceHolder=A.rootPlaceHolder||document.body,this.mvx=new yi(this.rootPlaceHolder),this.isTrackingCanvas=!1,this.onCanvasSelected=new d,this.onCaptureRequested=new d,this.onPauseRequested=new d,this.onPlayRequested=new d,this.onPlayNextFrameRequested=new d,this.captureMenuComponent=new ji,this.canvasListComponent=new $s,this.canvasListItemComponent=new Ht,this.actionsComponent=new gs,this.fpsCounterComponent=new ao,this.rootStateId=this.mvx.addRootState({visible:!0,logLevel:u.info,logText:Dr.SelectCanvasHelpText,logVisible:!this.options.hideLog},this.captureMenuComponent),this.canvasListStateId=this.mvx.addChildState(this.rootStateId,{currentCanvasInformation:null,showList:!1},this.canvasListComponent),this.actionsStateId=this.mvx.addChildState(this.rootStateId,!0,this.actionsComponent),this.fpsStateId=this.mvx.addChildState(this.rootStateId,0,this.fpsCounterComponent),this.actionsComponent.onCaptureRequested.add((()=>{const B=this.getSelectedCanvasInformation();B&&this.updateMenuStateLog(u.info,Dr.PleaseWaitHelpText,!0),setTimeout((()=>{this.onCaptureRequested.trigger(B)}),200)})),this.actionsComponent.onPauseRequested.add((()=>{this.onPauseRequested.trigger(this.getSelectedCanvasInformation()),this.mvx.updateState(this.actionsStateId,!1)})),this.actionsComponent.onPlayRequested.add((()=>{this.onPlayRequested.trigger(this.getSelectedCanvasInformation()),this.mvx.updateState(this.actionsStateId,!0)})),this.actionsComponent.onPlayNextFrameRequested.add((()=>{this.onPlayNextFrameRequested.trigger(this.getSelectedCanvasInformation())})),this.canvasListComponent.onCanvasSelection.add((B=>{this.mvx.updateState(this.canvasListStateId,{currentCanvasInformation:null,showList:!B.state.showList}),this.updateMenuStateLog(u.info,Dr.SelectCanvasHelpText),this.onCanvasSelected.trigger(null),this.isTrackingCanvas&&this.trackPageCanvases(),B.state.showList?this.showMenuStateLog():this.hideMenuStateLog()})),this.canvasListItemComponent.onCanvasSelected.add((B=>{this.mvx.updateState(this.canvasListStateId,{currentCanvasInformation:B.state,showList:!1}),this.onCanvasSelected.trigger(B.state),this.updateMenuStateLog(u.info,Dr.ActionsHelpText),this.showMenuStateLog()}))}getSelectedCanvasInformation(){return this.mvx.getGenericState(this.canvasListStateId).currentCanvasInformation}trackPageCanvases(){if(this.isTrackingCanvas=!0,document.body){const A=document.body.querySelectorAll("canvas");this.updateCanvasesList(A)}}updateCanvasesList(A){this.updateCanvasesListInformationInternal(A,(B=>({id:B.id,width:B.width,height:B.height,ref:B})))}updateCanvasesListInformation(A){this.updateCanvasesListInformationInternal(A,(B=>({id:B.id,width:B.width,height:B.height,ref:B.ref})))}display(){this.updateMenuStateVisibility(!0)}hide(){this.updateMenuStateVisibility(!1)}captureComplete(A){A?this.updateMenuStateLog(u.error,A):this.updateMenuStateLog(u.info,Dr.ActionsHelpText)}setFPS(A){this.mvx.updateState(this.fpsStateId,A)}updateCanvasesListInformationInternal(A,B){this.mvx.removeChildrenStates(this.canvasListStateId);const J=[];for(let Ne=0;Ne<A.length;Ne++){const O=B(A[Ne]);J.push(O),this.mvx.addChildState(this.canvasListStateId,O,this.canvasListItemComponent)}const Z=J.length,be=this.mvx.getGenericState(this.canvasListStateId).showList;if(!be)if(Z===1){const Ne=J[0];this.mvx.updateState(this.canvasListStateId,{currentCanvasInformation:Ne,showList:be}),this.updateMenuStateLog(u.info,Dr.ActionsHelpText),this.onCanvasSelected.trigger(Ne)}else this.updateMenuStateLog(u.info,Dr.SelectCanvasHelpText),this.onCanvasSelected.trigger(null)}hideMenuStateLog(){const A=this.mvx.getGenericState(this.rootStateId);this.mvx.updateState(this.rootStateId,{visible:A.visible,logLevel:A.logLevel,logText:A.logText,logVisible:!1})}showMenuStateLog(){const A=this.mvx.getGenericState(this.rootStateId);this.mvx.updateState(this.rootStateId,{visible:A.visible,logLevel:A.logLevel,logText:A.logText,logVisible:!this.options.hideLog})}updateMenuStateLog(A,B,J=!1){const Z=this.mvx.getGenericState(this.rootStateId);this.mvx.updateState(this.rootStateId,{visible:Z.visible,logLevel:A,logText:B,logVisible:!this.options.hideLog},J)}updateMenuStateVisibility(A){const B=this.mvx.getGenericState(this.rootStateId);this.mvx.updateState(this.rootStateId,{visible:A,logLevel:B.logLevel,logText:B.logText,logVisible:B.logVisible})}}Dr.SelectCanvasHelpText="Please, select a canvas in the list above.",Dr.ActionsHelpText="Record with the red button, you can also pause or continue playing the current scene.",Dr.PleaseWaitHelpText="Capturing, be patient (this can take up to 3 minutes)...";var Zs=l(625),jo={};jo.styleTagTransform=ni(),jo.setAttributes=En(),jo.insert=Yn().bind(null,"html"),jo.domAPI=hn(),jo.insertStyleElement=K(),Nn()(Zs.Z,jo),Zs.Z&&Zs.Z.locals&&Zs.Z.locals;class Ua extends $n{constructor(){super(),this.onCaptureLoaded=new d}render(A,B){const J=this.htmlTemplate`
        <div class="captureListComponent ${A?"active":""}">
            <div class="openCaptureFile">
                <Span>Drag files here to open a previously saved capture.</span>
            </div>
            <ul childrenContainer="true"></ul>
        </div>`,Z=this.renderElementFromTemplate(J,A,B),be=Z.querySelector(".openCaptureFile");return be.addEventListener("dragenter",(Ne=>(this.drag(Ne),!1)),!1),be.addEventListener("dragover",(Ne=>(this.drag(Ne),!1)),!1),be.addEventListener("drop",(Ne=>{this.drop(Ne)}),!1),Z}drag(A){A.stopPropagation(),A.preventDefault()}drop(A){A.stopPropagation(),A.preventDefault(),this.loadFiles(A)}loadFiles(A){let B=null;if(A&&A.dataTransfer&&A.dataTransfer.files&&(B=A.dataTransfer.files),A&&A.target&&A.target.files&&(B=A.target.files),B&&B.length>0)for(let J=0;J<B.length;J++){const Z=B[J].name.toLowerCase().split(".").pop();if(B[J].type,Z==="json"){const be=B[J],Ne=new FileReader;Ne.onerror=O=>{m.error("Error while reading file: "+be.name+O)},Ne.onload=O=>{try{const U=JSON.parse(O.target.result);this.onCaptureLoaded.trigger(U)}catch(U){m.error("Error while reading file: "+be.name+U)}},Ne.readAsText(be)}}}}class Qs extends $n{constructor(){super(),this.onCaptureSelected=this.createEvent("onCaptureSelected"),this.onSaveRequested=this.createEvent("onSaveRequested")}render(A,B){const J=document.createElement("li");if(A.active&&(J.className="active"),A.capture.endState.VisualState.Attachments)for(const Ne of A.capture.endState.VisualState.Attachments){const O=document.createElement("img");O.src=encodeURI(Ne.src),J.appendChild(O)}else{const Ne=document.createElement("span");Ne.innerText=A.capture.endState.VisualState.FrameBufferStatus,J.appendChild(Ne)}const Z=document.createElement("span");Z.innerText=new Date(A.capture.startTime).toTimeString().split(" ")[0],J.appendChild(Z);const be=document.createElement("a");return be.href="#",be.className="captureListItemSave",this.mapEventListener(be,"click","onSaveRequested",A,B,!1,!0),Z.appendChild(be),this.mapEventListener(J,"click","onCaptureSelected",A,B),J}}class Qa extends $n{render(A,B){const J=this.htmlTemplate`
        <div class="visualStateListComponent">
            <ul childrenContainer="true"></ul>
        </div>`;return this.renderElementFromTemplate(J,A,B)}}class Js{static scrollIntoView(A){const B=A.getBoundingClientRect();let J=A.parentElement;for(;J&&J.clientHeight===J.offsetHeight;)J=J.parentElement;if(!J)return;const Z=J.getBoundingClientRect();B.top<Z.top?A.scrollIntoView(!0):B.bottom>Z.bottom&&A.scrollIntoView(!1)}}class lo extends $n{constructor(){super(),this.onVisualStateSelected=this.createEvent("onVisualStateSelected")}render(A,B){const J=document.createElement("li");if(A.active&&(J.className="active",setTimeout((()=>{Js.scrollIntoView(J)}),1)),A.VisualState.Attachments)for(const be of A.VisualState.Attachments){if(!be.src)continue;const Ne=document.createElement("img");if(Ne.src=encodeURI(be.src),J.appendChild(Ne),A.VisualState.Attachments.length>1){const O=document.createElement("span");O.innerText=be.attachmentName,J.appendChild(O)}if(be.textureLayer){const O=document.createElement("span");O.innerText="Layer: "+be.textureLayer,J.appendChild(O)}if(be.textureCubeMapFace){const O=document.createElement("span");O.innerText=be.textureCubeMapFace,J.appendChild(O)}}else{const be=document.createElement("span");be.innerText=A.VisualState.FrameBufferStatus,J.appendChild(be)}const Z=document.createElement("span");return Z.innerText=A.VisualState.FrameBuffer?"Frame buffer: "+A.VisualState.FrameBuffer.__SPECTOR_Object_TAG.id:"Canvas frame buffer",J.appendChild(Z),this.mapEventListener(J,"click","onVisualStateSelected",A,B),J}}class wa extends $n{render(A,B){const J=this.htmlTemplate`
        <div class="commandListComponent">
            <ul childrenContainer="true"></ul>
        </div>`;return this.renderElementFromTemplate(J,A,B)}}class ca extends $n{constructor(){super(),this.onCommandSelected=this.createEvent("onCommandSelected"),this.onVertexSelected=this.createEvent("onVertexSelected"),this.onFragmentSelected=this.createEvent("onFragmentSelected")}render(A,B){const J=document.createElement("li");let Z="unknown";switch(A.capture.status){case 50:Z="deprecated";break;case 10:Z="unused";break;case 20:Z="disabled";break;case 30:Z="redundant";break;case 40:Z="valid"}if(A.capture.VisualState&&(J.className=" drawCall"),A.active&&(J.className=" active",setTimeout((()=>{Js.scrollIntoView(J)}),1)),A.capture.marker){const be=document.createElement("span");be.className=Z+" marker important",be.innerText=A.capture.marker+" ",be.style.fontWeight="1000",J.appendChild(be)}if(A.capture.name==="LOG"){const be=document.createElement("span");be.className=Z+" marker important",be.innerText=A.capture.text+" ",be.style.fontWeight="1000",J.appendChild(be)}else{const be=document.createElement("span");let Ne=A.capture.text;Ne=Ne.replace(A.capture.name,`<span class=" ${Z} important">${A.capture.name}</span>`),be.innerHTML=Ne,J.appendChild(be)}if(A.capture.VisualState&&A.capture.name!=="clear")try{const be=A.capture.DrawCall.shaders[0],Ne=A.capture.DrawCall.shaders[1],O=document.createElement("a");O.innerText=be.name,O.href="#",J.appendChild(O),this.mapEventListener(O,"click","onVertexSelected",A,B);const U=document.createElement("a");U.innerText=Ne.name,U.href="#",J.appendChild(U),this.mapEventListener(U,"click","onFragmentSelected",A,B)}catch{}return this.mapEventListener(J,"click","onCommandSelected",A,B),J}}class Ca extends $n{render(A,B){const J=this.htmlTemplate`
        <div class="commandDetailComponent" childrenContainer="true">
        </div>`;return this.renderElementFromTemplate(J,A,B)}}class ka extends $n{render(A,B){const J=this.htmlTemplate`
        <div class="jsonContentComponent" childrenContainer="true">
        </div>`;return this.renderElementFromTemplate(J,A,B)}}class ua extends $n{render(A,B){const J=this.htmlTemplate`
        <div class="jsonGroupComponent">
            <div class="jsonGroupComponentTitle">${A?A.replace(/([A-Z])/g," $1").trim():""}</div>
            <ul childrenContainer="true"></ul>
        </div>`;return this.renderElementFromTemplate(J,A,B)}}class Po extends $n{render(A,B){const J=this.htmlTemplate`
            <li><span class="jsonItemComponentKey">${A.key}: </span><span class="jsonItemComponentValue">${A.value}</span><li>`;return this.renderElementFromTemplate(J,A,B)}}class Ja extends $n{render(A,B){const J=this.htmlTemplate`
        <li class="jsonItemImageHolder"><div class="jsonItemImage"><img src="${A.value}" style="${A.pixelated?"image-rendering: pixelated;":""}" /><span>${A.key}</span></div></li>`;return this.renderElementFromTemplate(J,A,B)}}class No extends $n{render(A,B){const J=this.htmlTemplate`
            <li><span class="jsonItemComponentKey">${A.key}: </span>
                <span class="jsonItemComponentValue">${A.value} (<a href="${A.help}" target="_blank" class="jsonSourceItemComponentOpen">Open help page</a>)
                </span>
            <li>`;return this.renderElementFromTemplate(J,A,B)}}class ha extends $n{render(A,B){const J=document.createElement("div");if(J.className="jsonVisualStateItemComponent",A.Attachments)for(const be of A.Attachments){if(!be.src)continue;const Ne=document.createElement("img");if(Ne.src=encodeURI(be.src),J.appendChild(Ne),A.Attachments.length>1){const O=document.createElement("span");O.innerText=be.attachmentName,J.appendChild(O)}}else{const be=document.createElement("span");be.innerText=A.FrameBufferStatus,J.appendChild(be)}const Z=document.createElement("span");return Z.innerText=A.FrameBuffer?A.FrameBuffer.__SPECTOR_Object_TAG.displayText:"Canvas frame buffer",J.appendChild(Z),J}}class Bl extends $n{constructor(){super(),this.onCapturesClicked=this.createEvent("onCapturesClicked"),this.onCommandsClicked=this.createEvent("onCommandsClicked"),this.onInformationClicked=this.createEvent("onInformationClicked"),this.onInitStateClicked=this.createEvent("onInitStateClicked"),this.onEndStateClicked=this.createEvent("onEndStateClicked"),this.onCloseClicked=this.createEvent("onCloseClicked"),this.onSearchTextChanged=this.createEvent("onSearchTextChanged"),this.onSearchTextCleared=this.createEvent("onSearchTextCleared")}render(A,B){const J=this.htmlTemplate`<ul class="resultViewMenuComponent">
                <li class="resultViewMenuOpen resultViewMenuSmall"><a href="#" role="button">Menu</a></li>

                <li class="searchContainer">
                    <input type="text" placeHolder="Search..." value="${A.searchText}" commandName="onSearchTextChanged" commandEventBinding="change">
                    <a class="clearSearch" stoppropagation="true" CommandName="onSearchTextCleared">X</a>
                </li>
                <li><a class="${A.status===0?"active":""} href="#" role="button" commandName="onCapturesClicked">Captures</a></li>
                <li><a class="${A.status===10?"active":""} href="#" role="button" commandName="onInformationClicked">Information</a></li>
                <li><a class="${A.status===20?"active":""} href="#" role="button" commandName="onInitStateClicked">Init State</a></li>
                <li>
                    <a class="${A.status===40?"active":""} href="#" role="button" commandName="onCommandsClicked">
                        Commands${A.commandCount>0?" ("+A.commandCount+")":""}
                    </a>
                </li>
                <li><a class="${A.status===30?"active":""} href="#" role="button" commandName="onEndStateClicked">End State</a></li>
                <li><a role="button" commandName="onCloseClicked" stoppropagation="true">Close</a></li>
            </ul>`,Z=this.renderElementFromTemplate(J,A,B),be=Z.querySelector(".resultViewMenuOpen"),Ne=Z.querySelectorAll("li:not(.resultViewMenuSmall)");return be.addEventListener("click",(O=>{if(be.getAttribute("open")==="true"){be.setAttribute("open","false");for(let U=0;U<Ne.length;U++)Ne[U].style.display="none",Ne[U].style.visibility="hidden"}else{be.setAttribute("open","true");for(let U=0;U<Ne.length;U++)Ne[U].style.display="block",Ne[U].style.visibility="visible"}})),Z}}class el extends $n{render(A,B){return this.renderElementFromTemplate('<div childrenContainer="true" class="resultViewContentComponent"></div>',A,B)}}class tl extends $n{render(A,B){const J=this.htmlTemplate`
            <div childrenContainer="true" class="resultViewComponent ${A?"active":""}">
            </div>`;return this.renderElementFromTemplate(J,A,B)}}var Io=l(29),Fs=l.n(Io);class jr extends $n{constructor(){super(),this.onTranslatedVertexSourceClicked=this.createEvent("onTranslatedVertexSourceClicked"),this.onTranslatedFragmentSourceClicked=this.createEvent("onTranslatedFragmentSourceClicked"),this.onVertexSourceClicked=this.createEvent("onVertexSourceClicked"),this.onFragmentSourceClicked=this.createEvent("onFragmentSourceClicked"),this.onSourceCodeCloseClicked=this.createEvent("onSourceCodeCloseClicked"),this.onSourceCodeChanged=this.createEvent("onSourceCodeChanged"),this.onBeautifyChanged=this.createEvent("onBeautifyChanged"),this.onPreprocessChanged=this.createEvent("onPreprocessChanged")}showError(A){if(!this.editor)return;const B=[];if(A=A||""){const J=/^.*ERROR:\W([0-9]+):([0-9]+):(.*)$/gm;let Z=J.exec(A);for(;Z!=null;)B.push({row:+Z[2]-1,column:Z[1],text:Z[3]||"Error",type:"error"}),Z=J.exec(A)}this.editor.getSession().setAnnotations(B)}render(A,B){const J=A.fragment?A.sourceFragment:A.sourceVertex;let Z,be=A.preprocessed;A.translated?(Z=A.fragment?A.translatedSourceFragment:A.translatedSourceVertex,be=!1):Z=J??"";let Ne=Z;if(be)try{Ne=Fs()(Ne,{preserveComments:!1,stopOnError:!0})}catch(ee){m.error("shader preprocess failed",ee)}A.beautify&&(Ne=this._indentIfdef(this._beautify(Ne)));const O=this.htmlTemplate`
        <div class="sourceCodeComponentContainer">
            <div class="sourceCodeMenuComponentContainer">
                <ul class="sourceCodeMenuComponent">
                    $${A.translatedSourceVertex?this.htmlTemplate`<li><a class="${!A.fragment&&A.translated?"active":""}" href="#" role="button" commandName="onTranslatedVertexSourceClicked">Translated Vertex</a></li>`:""}
                    $${A.translatedSourceFragment?this.htmlTemplate`<li><a class="${A.fragment&&A.translated?"active":""}" href="#" role="button" commandName="onTranslatedFragmentSourceClicked">Translated Fragment</a></li>`:""}
                    <li><a class="${A.fragment||A.translated?"":"active"}" href="#" role="button" commandName="onVertexSourceClicked">Vertex</a></li>
                    <li><a class="${A.fragment&&!A.translated?"active":""}" href="#" role="button" commandName="onFragmentSourceClicked">Fragment</a></li>
                    <li><a href="#" role="button" commandName="onSourceCodeCloseClicked">Close</a></li>
                </ul>
            </div>
            $${this.htmlTemplate`<div class="sourceCodeComponent">${Ne}</div>`}
            <div class="sourceCodeMenuComponentFooter">
                <p>
                    <label><input type="checkbox" commandName="onBeautifyChanged" ${A.beautify?"checked":""} /> Beautify</label>
                    <label><input type="checkbox" commandName="onPreprocessChanged" ${A.preprocessed?"checked":""} /> Preprocess</label>
                </p>
            </div>
        </div>`,U=this.renderElementFromTemplate(O.replace(/<br>/g,`
`),A,B);this.editor=ace.edit(U.querySelector(".sourceCodeComponent")),this.editor.setTheme("ace/theme/monokai"),this.editor.getSession().setMode("ace/mode/glsl"),this.editor.setShowPrintMargin(!1);let X=-1;return this.editor.setReadOnly(!A.editable&&!A.translated),this.editor.getSession().on("change",(ee=>{X!==-1&&clearTimeout(X),X=setTimeout((()=>{this._triggerCompilation(this.editor,A,U,B)}),1500)})),U}_triggerCompilation(A,B,J,Z){B.fragment?B.sourceFragment=A.getValue():B.sourceVertex=A.getValue(),this.triggerEvent("onSourceCodeChanged",J,B,Z)}_beautify(A,B=0){let J="";for(let X=0;X<B;X++)J+="    ";const Z=A;if((A=A.trim())[0]==="#"){const X=Z.indexOf("#"),ee=Z.indexOf(`
`);let oe="";ee!==-1&&ee<X&&(oe=J+`
`);const re=A.indexOf(`
`),pe=re!==-1?re:A.length,He=A.substr(0,pe),Ie=A.substr(pe+1);return oe+J+He+`
`+this._beautify(Ie,B)}A=this._adaptComments(A);const be=this._getBracket(A),Ne=be.firstIteration,O=be.lastIteration;let U;if(Ne===-1)U=A=(A=(A=(A=(A=(A=(A=(A=J+A).replace(/;(?![^\(]*\))\s*(\/\/.*)?/g,(X=>X.trim()+`
`))).replace(/\s*([*+-/=><\s]*=)\s*/g,(X=>" "+X.trim()+" "))).replace(/\s*(,)\s*/g,(X=>X.trim()+" "))).replace(/\n[ \t]+/g,`
`)).replace(/\n/g,`
`+J)).replace(/\s+$/g,"")).replace(/\n+$/g,"");else{const X=A.substr(0,Ne).trim(),ee=A.substr(O+1,A.length).trim(),oe=A.substr(Ne+1,O-Ne-1).trim();U=(X===""?J+"{":this._beautify(X,B)+` {
`)+this._beautify(oe,B+1)+`
`+J+`}
`+this._beautify(ee,B),U=U.replace(/\s*\n+\s*;/g,";")}return U=U.replace(jr.semicolonReplacementKeyRegex,";"),U=U.replace(jr.openCurlyReplacementKeyRegex,"{"),U=U.replace(jr.closeCurlyReplacementKeyRegex,"}"),U}_adaptComments(A){let B=!1,J=!1;for(let Z=0;Z<A.length;Z++){const be=A[Z];be==="/"?A[Z-1]==="*"?J=!1:A[Z+1]==="*"?B||(J=!0,Z++):A[Z+1]==="/"&&(J||(B=!0,Z++)):be===`
`?B=!1:be===";"?(B||J)&&(A=A.substr(0,Z)+jr.semicolonReplacementKey+A.substr(Z+1)):be==="{"?(B||J)&&(A=A.substr(0,Z)+jr.openCurlyReplacementKey+A.substr(Z+1)):be==="}"&&(B||J)&&(A=A.substr(0,Z)+jr.closeCurlyReplacementKey+A.substr(Z+1))}return A}_getBracket(A,B=-1){const J=A.indexOf("{",B),Z=A.substr(J+1).split("");let be=1,Ne=J,O=0;for(const U of Z)if(Ne++,U==="{"&&be++,U==="}"&&be--,be===0){O=Ne;break}return J>-1&&O===0?this._getBracket(A,J+1):{firstIteration:J,lastIteration:O}}_indentIfdef(A){let B=0;const J=A.split(`
`);for(let Z=0;Z<J.length;Z++){const be=J[Z];be.indexOf("#endif")!==-1&&B--,be.indexOf("#else")!==-1&&B--;let Ne="";for(let O=0;O<B;O++)Ne+="    ";J[Z]=Ne+be,be.indexOf("#if")===-1&&be.indexOf("#else")===-1||B++}return J.join(`
`)}}jr.semicolonReplacementKey="[[[semicolonReplacementKey]]]",jr.semicolonReplacementKeyRegex=new RegExp("\\[\\[\\[semicolonReplacementKey\\]\\]\\]","g"),jr.openCurlyReplacementKey="[[[openCurlyReplacementKey]]]",jr.openCurlyReplacementKeyRegex=new RegExp("\\[\\[\\[openCurlyReplacementKey\\]\\]\\]","g"),jr.closeCurlyReplacementKey="[[[closeCurlyReplacementKey]]]",jr.closeCurlyReplacementKeyRegex=new RegExp("\\[\\[\\[closeCurlyReplacementKey\\]\\]\\]","g");class vs extends $n{render(A,B){const J=this.htmlTemplate`
                <div childrenContainer="true" class="${A?"informationColumnLeftComponent":"informationColumnRightComponent"}"></div>`;return this.renderElementFromTemplate(J,A,B)}}class Rr{static getMDNLink(A){const B=Rr.WebGL2Functions[A];if(B)return Rr.WebGL2RootUrl+B;const J=Rr.WebGLFunctions[A];if(J)return Rr.WebGLRootUrl+J;const Z=Rr.AngleInstancedArraysExtFunctions[A];return Z?Rr.AngleInstancedArraysExtRootUrl+Z:Rr.WebGLRootUrl+A}}Rr.WebGL2RootUrl="https://developer.mozilla.org/en-US/docs/Web/API/WebGL2RenderingContext/",Rr.WebGLRootUrl="https://developer.mozilla.org/en-US/docs/Web/API/WebGLRenderingContext/",Rr.AngleInstancedArraysExtRootUrl="https://developer.mozilla.org/en-US/docs/Web/API/ANGLE_instanced_arrays/",Rr.WebGL2Functions={beginQuery:"beginQuery",beginTransformFeedback:"beginTransformFeedback",bindBufferBase:"bindBufferBase",bindBufferRange:"bindBufferRange",bindSampler:"bindSampler",bindTransformFeedback:"bindTransformFeedback",bindVertexArray:"bindVertexArray",blitFramebuffer:"blitFramebuffer",clearBufferfv:"clearBuffer",clearBufferiv:"clearBuffer",clearBufferuiv:"clearBuffer",clearBufferfi:"clearBuffer",clientWaitSync:"clientWaitSync",compressedTexImage3D:"compressedTexImage3D",compressedTexSubImage3D:"compressedTexSubImage3D",copyBufferSubData:"copyBufferSubData",copyTexSubImage3D:"copyTexSubImage3D",createQuery:"createQuery",createSampler:"createSampler",createTransformFeedback:"createTransformFeedback",createVertexArray:"createVertexArray",deleteQuery:"deleteQuery",deleteSampler:"deleteSampler",deleteSync:"deleteSync",deleteTransformFeedback:"deleteTransformFeedback",deleteVertexArray:"deleteVertexArray",drawArraysInstanced:"drawArraysInstanced",drawBuffers:"drawBuffers",drawElementsInstanced:"drawElementsInstanced",drawRangeElements:"drawRangeElements",endQuery:"endQuery",endTransformFeedback:"endTransformFeedback",fenceSync:"fenceSync",framebufferTextureLayer:"framebufferTextureLayer",getActiveUniformBlockName:"getActiveUniformBlockName",getActiveUniformBlockParameter:"getActiveUniformBlockParameter",getActiveUniforms:"getActiveUniforms",getBufferSubData:"getBufferSubData",getFragDataLocation:"getFragDataLocation",getIndexedParameter:"getIndexedParameter",getInternalformatParameter:"getInternalformatParameter",getQuery:"getQuery",getQueryParameter:"getQueryParameter",getSamplerParameter:"getSamplerParameter",getSyncParameter:"getSyncParameter",getTransformFeedbackVarying:"getTransformFeedbackVarying",getUniformBlockIndex:"getUniformBlockIndex",getUniformIndices:"getUniformIndices",invalidateFramebuffer:"invalidateFramebuffer",invalidateSubFramebuffer:"invalidateSubFramebuffer",isQuery:"isQuery",isSampler:"isSampler",isSync:"isSync",isTransformFeedback:"isTransformFeedback",isVertexArray:"isVertexArray",pauseTransformFeedback:"pauseTransformFeedback",readBuffer:"readBuffer",renderbufferStorageMultisample:"renderbufferStorageMultisample",resumeTransformFeedback:"resumeTransformFeedback",samplerParameteri:"samplerParameter",samplerParameterf:"samplerParameter",texImage3D:"texImage3D",texStorage2D:"texStorage2D",texStorage3D:"texStorage3D",texSubImage3D:"texSubImage3D",transformFeedbackVaryings:"transformFeedbackVaryings",uniform1ui:"uniform",uniform2ui:"uniform",uniform3ui:"uniform",uniform4ui:"uniform",uniform1fv:"uniform",uniform2fv:"uniform",uniform3fv:"uniform",uniform4fv:"uniform",uniform1iv:"uniform",uniform2iv:"uniform",uniform3iv:"uniform",uniform4iv:"uniform",uniform1uiv:"uniform",uniform2uiv:"uniform",uniform3uiv:"uniform",uniform4uiv:"uniform",uniformBlockBinding:"uniformBlockBinding",uniformMatrix2fv:"uniformMatrix",uniformMatrix3x2fv:"uniformMatrix",uniformMatrix4x2fv:"uniformMatrix",uniformMatrix2x3fv:"uniformMatrix",uniformMatrix3fv:"uniformMatrix",uniformMatrix4x3fv:"uniformMatrix",uniformMatrix2x4fv:"uniformMatrix",uniformMatrix3x4fv:"uniformMatrix",uniformMatrix4fv:"uniformMatrix",vertexAttribDivisor:"vertexAttribDivisor",vertexAttribI4i:"vertexAttribI",vertexAttribI4ui:"vertexAttribI",vertexAttribI4iv:"vertexAttribI",vertexAttribI4uiv:"vertexAttribI",vertexAttribIPointer:"vertexAttribIPointer",waitSync:"waitSync"},Rr.WebGLFunctions={uniform1f:"uniform",uniform1fv:"uniform",uniform1i:"uniform",uniform1iv:"uniform",uniform2f:"uniform",uniform2fv:"uniform",uniform2i:"uniform",uniform2iv:"uniform",uniform3f:"uniform",uniform3i:"uniform",uniform3iv:"uniform",uniform4f:"uniform",uniform4fv:"uniform",uniform4i:"uniform",uniform4iv:"uniform",uniformMatrix2fv:"uniformMatrix",uniformMatrix3fv:"uniformMatrix",uniformMatrix4fv:"uniformMatrix",vertexAttrib1f:"vertexAttrib",vertexAttrib2f:"vertexAttrib",vertexAttrib3f:"vertexAttrib",vertexAttrib4f:"vertexAttrib",vertexAttrib1fv:"vertexAttrib",vertexAttrib2fv:"vertexAttrib",vertexAttrib3fv:"vertexAttrib",vertexAttrib4fv:"vertexAttrib"},Rr.AngleInstancedArraysExtFunctions={drawArraysInstancedANGLE:"drawArraysInstancedANGLE",drawElementsInstancedANGLE:"drawElementsInstancedANGLE",vertexAttribDivisorANGLE:"vertexAttribDivisorANGLE"};class co{constructor(A=null){this.rootPlaceHolder=A,this.onSourceCodeChanged=new d,this.rootPlaceHolder=this.rootPlaceHolder||document.body,this.mvx=new yi(this.rootPlaceHolder),this.searchText="",this.currentCommandId=-1,this.visible=!1,this.commandCount=0,this.commandListStateId=-1,this.commandDetailStateId=-1,this.currentCaptureStateId=-1,this.currentCommandStateId=-1,this.currentVisualStateId=-1,this.visualStateListStateId=-1,this.initVisualStateId=-1,this.sourceCodeComponentStateId=-1,this.captureListComponent=new Ua,this.captureListItemComponent=new Qs,this.visualStateListComponent=new Qa,this.visualStateListItemComponent=new lo,this.commandListComponent=new wa,this.commandListItemComponent=new ca,this.commandDetailComponent=new Ca,this.jsonContentComponent=new ka,this.jsonGroupComponent=new ua,this.jsonItemComponent=new Po,this.jsonImageItemComponent=new Ja,this.jsonHelpItemComponent=new No,this.jsonVisualStateItemComponent=new ha,this.resultViewMenuComponent=new Bl,this.resultViewContentComponent=new el,this.resultViewComponent=new tl,this.sourceCodeComponent=new jr,this.informationColumnComponent=new vs,this.rootStateId=this.mvx.addRootState(null,this.resultViewComponent),this.menuStateId=this.mvx.addChildState(this.rootStateId,null,this.resultViewMenuComponent),this.contentStateId=this.mvx.addChildState(this.rootStateId,null,this.resultViewContentComponent),this.captureListStateId=this.mvx.addChildState(this.rootStateId,!1,this.captureListComponent),this.initKeyboardEvents(),this.initMenuComponent(),this.captureListComponent.onCaptureLoaded.add((B=>{this.addCapture(B)})),this.captureListItemComponent.onCaptureSelected.add((B=>{this.selectCapture(B.stateId)})),this.captureListItemComponent.onSaveRequested.add((B=>{this.saveCapture(B.state.capture)})),this.visualStateListItemComponent.onVisualStateSelected.add((B=>{this.selectVisualState(B.stateId)})),this.commandListItemComponent.onCommandSelected.add((B=>{this.selectCommand(B.stateId)})),this.commandListItemComponent.onVertexSelected.add((B=>{this.selectCommand(B.stateId),this.openShader(!1)})),this.commandListItemComponent.onFragmentSelected.add((B=>{this.selectCommand(B.stateId),this.openShader(!0)})),this.sourceCodeComponent.onSourceCodeCloseClicked.add((()=>{this.displayCurrentCapture()})),this.sourceCodeComponent.onTranslatedVertexSourceClicked.add((B=>{const J=this.mvx.getGenericState(this.sourceCodeComponentStateId);J.fragment=!1,J.translated=!0,this.mvx.updateState(this.sourceCodeComponentStateId,J)})),this.sourceCodeComponent.onTranslatedFragmentSourceClicked.add((B=>{const J=this.mvx.getGenericState(this.sourceCodeComponentStateId);J.fragment=!0,J.translated=!0,this.mvx.updateState(this.sourceCodeComponentStateId,J)})),this.sourceCodeComponent.onVertexSourceClicked.add((B=>{const J=this.mvx.getGenericState(this.sourceCodeComponentStateId);J.fragment=!1,J.translated=!1,this.mvx.updateState(this.sourceCodeComponentStateId,J)})),this.sourceCodeComponent.onFragmentSourceClicked.add((B=>{const J=this.mvx.getGenericState(this.sourceCodeComponentStateId);J.fragment=!0,J.translated=!1,this.mvx.updateState(this.sourceCodeComponentStateId,J)})),this.sourceCodeComponent.onSourceCodeChanged.add((B=>{this.onSourceCodeChanged.trigger({programId:B.state.programId,sourceFragment:B.state.sourceFragment,sourceVertex:B.state.sourceVertex,translatedSourceFragment:B.state.translatedSourceFragment,translatedSourceVertex:B.state.translatedSourceVertex})})),this.sourceCodeComponent.onBeautifyChanged.add((B=>{const J=this.mvx.getGenericState(this.sourceCodeComponentStateId);J.beautify=B.sender.checked,this.mvx.updateState(this.sourceCodeComponentStateId,J)})),this.sourceCodeComponent.onPreprocessChanged.add((B=>{const J=this.mvx.getGenericState(this.sourceCodeComponentStateId);J.preprocessed=B.sender.checked,this.mvx.updateState(this.sourceCodeComponentStateId,J)})),this.updateViewState()}saveCapture(A){const B=JSON.stringify(A,null,4),J=new Blob([B],{type:"octet/stream"}),Z="capture "+new Date(A.startTime).toTimeString().split(" ")[0]+".json";if(navigator.msSaveBlob)navigator.msSaveBlob(J,Z);else{const be=document.createElement("a"),Ne=window.URL.createObjectURL(J);be.setAttribute("href",Ne),be.setAttribute("download",Z),be.click()}}selectCapture(A){this.currentCommandId=-1,this.currentCaptureStateId=A,this.displayCurrentCapture()}selectCommand(A){this.currentCommandStateId=A,this.currentVisualStateId=this.displayCurrentCommand(),this.displayCurrentVisualState()}selectVisualState(A){this.currentVisualStateId=A,this.currentCommandStateId=this.displayCurrentVisualState(),this.displayCurrentCommand()}display(){this.visible=!0,this.updateViewState()}hide(){this.visible=!1,this.updateViewState()}addCapture(A){const B=this.mvx.insertChildState(this.captureListStateId,{capture:A,active:!1},0,this.captureListItemComponent);return this.selectCapture(B),B}showSourceCodeError(A){this.sourceCodeComponent.showError(A)}initKeyboardEvents(){this.rootPlaceHolder.addEventListener("keydown",(A=>{this.mvx.getGenericState(this.menuStateId).status===40&&(A.keyCode===38?(A.preventDefault(),A.stopPropagation(),this.selectPreviousCommand()):A.keyCode===40?(A.preventDefault(),A.stopPropagation(),this.selectNextCommand()):A.keyCode===33?(A.preventDefault(),A.stopPropagation(),this.selectPreviousVisualState()):A.keyCode===34&&(A.preventDefault(),A.stopPropagation(),this.selectNextVisualState()))}))}openShader(A){this.mvx.removeChildrenStates(this.contentStateId);const B=this.mvx.getGenericState(this.currentCommandStateId);this.sourceCodeComponentStateId=this.mvx.addChildState(this.contentStateId,{programId:B.capture.DrawCall.programStatus.program.__SPECTOR_Object_TAG.id,nameVertex:B.capture.DrawCall.shaders[0].name,nameFragment:B.capture.DrawCall.shaders[1].name,sourceVertex:B.capture.DrawCall.shaders[0].source,sourceFragment:B.capture.DrawCall.shaders[1].source,translatedSourceVertex:B.capture.DrawCall.shaders[0].translatedSource,translatedSourceFragment:B.capture.DrawCall.shaders[1].translatedSource,fragment:A,translated:!1,editable:B.capture.DrawCall.programStatus.RECOMPILABLE,beautify:!0},this.sourceCodeComponent),this.commandDetailStateId=this.mvx.addChildState(this.contentStateId,null,this.commandDetailComponent),this.displayCurrentCommandDetail(B)}selectPreviousCommand(){const A=this.mvx.getGenericState(this.currentCommandStateId);A.previousCommandStateId<0||this.selectCommand(A.previousCommandStateId)}selectNextCommand(){const A=this.mvx.getGenericState(this.currentCommandStateId);A.nextCommandStateId<0||this.selectCommand(A.nextCommandStateId)}selectPreviousVisualState(){const A=this.mvx.getGenericState(this.currentVisualStateId);A.previousVisualStateId<0||this.selectVisualState(A.previousVisualStateId)}selectNextVisualState(){const A=this.mvx.getGenericState(this.currentVisualStateId);A.nextVisualStateId<0||this.selectVisualState(A.nextVisualStateId)}initMenuComponent(){this.mvx.updateState(this.menuStateId,{status:0,searchText:this.searchText,commandCount:0}),this.resultViewMenuComponent.onCloseClicked.add((A=>{this.hide()})),this.resultViewMenuComponent.onCapturesClicked.add((A=>{this.displayCaptures()})),this.resultViewMenuComponent.onCommandsClicked.add((A=>{this.displayCurrentCapture()})),this.resultViewMenuComponent.onInformationClicked.add((A=>{this.displayInformation()})),this.resultViewMenuComponent.onInitStateClicked.add((A=>{this.displayInitState()})),this.resultViewMenuComponent.onEndStateClicked.add((A=>{this.displayEndState()})),this.resultViewMenuComponent.onSearchTextChanged.add((A=>{this.search(A.sender.value)})),this.resultViewMenuComponent.onSearchTextCleared.add((A=>{this.mvx.updateState(this.menuStateId,{status:A.state.status,searchText:"",commandCount:A.state.commandCount}),this.search("")}))}onCaptureRelatedAction(A){const B=this.mvx.getGenericState(this.currentCaptureStateId);return this.commandCount=B.capture.commands.length,this.mvx.removeChildrenStates(this.contentStateId),this.mvx.updateState(this.menuStateId,{status:A,searchText:this.searchText,commandCount:this.commandCount}),this.mvx.getGenericState(this.captureListStateId)&&this.mvx.updateState(this.captureListStateId,!1),B.capture}displayCaptures(){this.mvx.updateState(this.menuStateId,{status:0,searchText:this.searchText,commandCount:this.commandCount}),this.mvx.updateState(this.captureListStateId,!0)}displayInformation(){const A=this.onCaptureRelatedAction(10),B=this.mvx.addChildState(this.contentStateId,!0,this.informationColumnComponent),J=this.mvx.addChildState(this.contentStateId,!1,this.informationColumnComponent),Z=this.mvx.addChildState(B,null,this.jsonContentComponent);this.displayJSONGroup(Z,"Canvas",A.canvas),this.displayJSONGroup(Z,"Context",A.context);const be=this.mvx.addChildState(J,null,this.jsonContentComponent);for(const Ne of A.analyses)Ne.analyserName==="Primitives"?this.displayJSONGroup(be,"Vertices count",Ne):this.displayJSONGroup(be,Ne.analyserName,Ne);this.displayJSONGroup(be,"Frame Memory Changes",A.frameMemory),this.displayJSONGroup(be,"Total Memory (seconds since application start: bytes)",A.memory)}displayJSON(A,B){B.VisualState&&this.mvx.addChildState(A,B.VisualState,this.jsonVisualStateItemComponent);for(const J in B){if(J==="VisualState"||J==="analyserName"||J==="source"||J==="translatedSource")continue;const Z=B[J];if(J==="visual")for(const be in Z)Z.hasOwnProperty(be)&&Z[be]&&this.mvx.addChildState(A,{key:be,value:Z[be],pixelated:B.samplerMagFilter==="NEAREST"||B.magFilter==="NEAREST"},this.jsonImageItemComponent);else{const be=this.getJSONAsString(A,J,Z);if(be==null||this.toFilter(J)&&this.toFilter(Z))continue;this.mvx.addChildState(A,{key:J,value:be},this.jsonItemComponent)}Z&&Z.__SPECTOR_Metadata&&this.displayJSONGroup(A,"Metadata",Z.__SPECTOR_Metadata)}}getJSONAsString(A,B,J){if(J===null)return"null";if(J===void 0)return"undefined";if(typeof J=="number")return Math.floor(J)===J?J.toFixed(0):J.toFixed(4);if(typeof J=="string")return J;if(typeof J=="boolean")return J?"true":"false";if(J.length===0)return"Empty Array";if(J.length){const Z=[];for(let be=0;be<J.length;be++){const Ne=this.getJSONAsString(A,`${B}(${be.toFixed(0)})`,J[be]);Ne!==null&&Z.push(Ne)}return Z.length===0?null:Z.join(", ")}return J.help?(this.mvx.addChildState(A,{key:B,value:J.name,help:J.help},this.jsonHelpItemComponent),null):J.__SPECTOR_Object_TAG?J.__SPECTOR_Object_TAG.displayText:J.displayText?J.displayText:(typeof J=="object"&&this.displayJSONGroup(A,B,J),null)}displayJSONGroup(A,B,J){if(!J)return;const Z=this.mvx.addChildState(A,B,this.jsonGroupComponent);this.displayJSON(Z,J),this.mvx.hasChildren(Z)||this.mvx.removeState(Z)}displayInitState(){const A=this.onCaptureRelatedAction(20),B=this.mvx.addChildState(this.contentStateId,null,this.jsonContentComponent);this.displayJSON(B,A.initState)}displayEndState(){const A=this.onCaptureRelatedAction(30),B=this.mvx.addChildState(this.contentStateId,null,this.jsonContentComponent);this.displayJSON(B,A.endState)}displayCurrentCapture(){const A=this.onCaptureRelatedAction(40);this.mvx.updateAllChildrenGenericState(this.captureListStateId,(B=>(B.active=!1,B))),this.mvx.updateState(this.currentCaptureStateId,{capture:A,active:!0}),this.createVisualStates(A),this.commandListStateId=this.mvx.addChildState(this.contentStateId,null,this.commandListComponent),this.commandDetailStateId=this.mvx.addChildState(this.contentStateId,null,this.commandDetailComponent),this.createCommands(A)}displayCurrentCommand(){if(this.mvx.getGenericState(this.menuStateId).status!==40)return-1;const A=this.mvx.getGenericState(this.currentCommandStateId),B=A.capture;return this.currentCommandId=B.id,this.mvx.updateAllChildrenGenericState(this.commandListStateId,(J=>(J.active=!1,J))),this.mvx.updateState(this.currentCommandStateId,{capture:B,visualStateId:A.visualStateId,previousCommandStateId:A.previousCommandStateId,nextCommandStateId:A.nextCommandStateId,active:!0}),this.displayCurrentCommandDetail(A)}displayCurrentCommandDetail(A){const B=A.capture;this.mvx.removeChildrenStates(this.commandDetailStateId);const J=this.mvx.getGenericState(A.visualStateId);this.mvx.addChildState(this.commandDetailStateId,J.VisualState,this.jsonVisualStateItemComponent);let Z="Unknown";switch(B.status){case 50:Z="Deprecated";break;case 10:Z="Unused";break;case 20:Z="Disabled";break;case 30:Z="Redundant";break;case 40:Z="Valid"}const be=Rr.getMDNLink(B.name);B.result?this.displayJSONGroup(this.commandDetailStateId,"Global",{name:{help:be,name:B.name},duration:B.commandEndTime-B.startTime,result:B.result,status:Z}):B.name!=="LOG"&&this.displayJSONGroup(this.commandDetailStateId,"Global",{name:{help:be,name:B.name},duration:B.commandEndTime-B.startTime,status:Z});for(const Ne in B)Ne!=="VisualState"&&Ne!=="result"&&typeof B[Ne]=="object"&&this.displayJSONGroup(this.commandDetailStateId,Ne,B[Ne]);return A.visualStateId}displayCurrentVisualState(){if(this.mvx.getGenericState(this.menuStateId).status!==40)return null;const A=this.mvx.getGenericState(this.currentVisualStateId);return A.commandStateId===Number.MIN_VALUE?this.displayInitState():A.commandStateId===Number.MAX_VALUE&&this.displayEndState(),this.mvx.updateAllChildrenGenericState(this.visualStateListStateId,(B=>(B.active=!1,B))),A.active=!0,this.mvx.updateState(this.currentVisualStateId,A),A.commandStateId}createVisualStates(A){this.visualStateListStateId=this.mvx.addChildState(this.contentStateId,null,this.visualStateListComponent),this.mvx.removeChildrenStates(this.visualStateListStateId),this.initVisualStateId=this.mvx.addChildState(this.visualStateListStateId,{VisualState:A.initState.VisualState,time:A.startTime,commandStateId:Number.MIN_VALUE,active:!1},this.visualStateListItemComponent)}createCommands(A){this.mvx.removeChildrenStates(this.commandListStateId);let B=this.initVisualStateId,J=!1,Z=null,be=-1,Ne=null,O=-1;for(let U=0;U<A.commands.length;U++){const X=A.commands[U];if(this.toFilter(X.marker)&&this.toFilter(X.name)&&X.id!==this.currentCommandId&&(X.name!=="LOG"||this.toFilter(X.text)))continue;const ee={capture:X,previousCommandStateId:be,nextCommandStateId:-1,visualStateId:void 0,active:!1},oe=this.mvx.addChildState(this.commandListStateId,ee,this.commandListItemComponent);if(Z&&(Z=this.mvx.getGenericState(be),Z.nextCommandStateId=oe,this.mvx.updateState(be,Z)),be=oe,Z=ee,X.VisualState){const re={VisualState:X.VisualState,time:X.endTime,commandStateId:oe,active:!1,previousVisualStateId:O,nextVisualStateId:-1};B=this.mvx.addChildState(this.visualStateListStateId,re,this.visualStateListItemComponent),Ne&&(Ne=this.mvx.getGenericState(O),Ne.nextVisualStateId=B,this.mvx.updateState(O,Ne)),Ne=re,O=B,J=!0}else if(!J){const re=this.mvx.getGenericState(this.initVisualStateId);re.commandStateId=oe,re.previousVisualStateId=-1,re.nextVisualStateId=-1,this.mvx.updateState(this.initVisualStateId,re),Ne=re,O=B,J=!0}ee.visualStateId=B,this.mvx.updateState(oe,ee),(this.currentCommandId===-1&&U===0||this.currentCommandId===X.id)&&(this.currentCommandStateId=oe,this.displayCurrentCommand(),this.currentVisualStateId=B,this.displayCurrentVisualState())}}updateViewState(){this.mvx.updateState(this.rootStateId,this.visible)}toFilter(A){return A=(A+="").toLowerCase(),!!(this.searchText&&this.searchText.length>2&&A.indexOf(this.searchText.toLowerCase())===-1)}search(A){switch(this.searchText=A,this.mvx.getGenericState(this.menuStateId).status){case 0:case 40:this.displayCurrentCapture();break;case 30:this.displayEndState();break;case 10:this.displayInformation();break;case 20:this.displayInitState()}this.searchText=""}}class Xo{constructor(A){this.timeSpy=A,this.init()}spyXRSession(A){this.currentXRSession&&this.unspyXRSession();for(const B of Et.getRequestAnimationFrameFunctionNames())R.resetOriginFunction(this.timeSpy.getSpiedScope(),B);this.timeSpy.spyRequestAnimationFrame("requestAnimationFrame",A),this.currentXRSession=A}unspyXRSession(){if(this.currentXRSession){R.resetOriginFunction(this.currentXRSession,"requestAnimationFrame"),this.currentXRSession=void 0;for(const A of Et.getRequestAnimationFrameFunctionNames())this.timeSpy.spyRequestAnimationFrame(A,this.timeSpy.getSpiedScope())}}init(){if(!navigator.xr)return;class A extends XRWebGLLayer{constructor(be,Ne,O){super(be,Ne,O),this.glContext=Ne}getContext(){return this.glContext}}class B extends XRWebGLBinding{constructor(be,Ne){super(be,Ne),this.glContext=Ne}createProjectionLayer(be){const Ne=super.createProjectionLayer(be);return Ne.glContext=this.glContext,Ne}}window.XRWebGLLayer=A,window.XRWebGLBinding=B;const J=navigator.xr.requestSession;Object.defineProperty(navigator.xr,"requestSessionInternal",{writable:!0}),navigator.xr.requestSessionInternal=J,Object.defineProperty(navigator.xr,"requestSession",{writable:!0}),navigator.xr.requestSession=(Z,be)=>((Ne,O)=>navigator.xr.requestSessionInternal(Ne,O).then((U=>{const X=U;return X._updateRenderState=U.updateRenderState,X.updateRenderState=ee=>{return oe=this,re=void 0,He=function*(){if(ee.baseLayer){const Ie=ee.baseLayer;X.glContext=Ie.getContext()}if(ee.layers)for(const Ie of ee.layers){const tt=Ie;tt.glContext&&(X.glContext=tt.glContext)}return X._updateRenderState(ee)},new((pe=void 0)||(pe=Promise))((function(Ie,tt){function Rt(ln){try{_t(He.next(ln))}catch(si){tt(si)}}function Vt(ln){try{_t(He.throw(ln))}catch(si){tt(si)}}function _t(ln){var si;ln.done?Ie(ln.value):(si=ln.value,si instanceof pe?si:new pe((function(ve){ve(si)}))).then(Rt,Vt)}_t((He=He.apply(oe,re||[])).next())}));var oe,re,pe,He},this.spyXRSession(X),U.addEventListener("end",(()=>{this.unspyXRSession()})),Promise.resolve(U)})))(Z,be)}}const Ta={CaptureMenu:Dr,ResultView:co};class eo{constructor(A={}){this.noFrameTimeout=-1,this.options=Object.assign({enableXRCapture:!1},A),this.captureNextFrames=0,this.captureNextCommands=0,this.quickCapture=!1,this.fullCapture=!1,this.retry=0,this.contexts=[],this.timeSpy=new Et,this.onCaptureStarted=new d,this.onCapture=new d,this.onError=new d,this.timeSpy.onFrameStart.add(this.onFrameStart,this),this.timeSpy.onFrameEnd.add(this.onFrameEnd,this),this.timeSpy.onError.add(this.onErrorInternal,this),this.options.enableXRCapture&&(this.xrSpy=new Xo(this.timeSpy))}static getFirstAvailable3dContext(A){return this.tryGetContextFromHelperField(A)||this.tryGetContextFromCanvas(A,"webgl")||this.tryGetContextFromCanvas(A,"experimental-webgl")||this.tryGetContextFromCanvas(A,"webgl2")||this.tryGetContextFromCanvas(A,"experimental-webgl2")}static tryGetContextFromHelperField(A){const B=A instanceof HTMLCanvasElement?A.getAttribute("__spector_context_type"):A.__spector_context_type;if(B)return this.tryGetContextFromCanvas(A,B)}static tryGetContextFromCanvas(A,B){let J;try{J=A.getContext(B)}catch{}return J}displayUI(A=!1){this.captureMenu||(this.getCaptureUI(),this.captureMenu.onPauseRequested.add(this.pause,this),this.captureMenu.onPlayRequested.add(this.play,this),this.captureMenu.onPlayNextFrameRequested.add(this.playNextFrame,this),this.captureMenu.onCaptureRequested.add((B=>{B&&this.captureCanvas(B.ref)}),this),setInterval((()=>{this.captureMenu.setFPS(this.getFps())}),1e3),A||this.captureMenu.trackPageCanvases(),this.captureMenu.display()),this.resultView||(this.getResultUI(),this.onCapture.add((B=>{this.resultView.display(),this.resultView.addCapture(B)})))}getResultUI(){return this.resultView||(this.resultView=new co,this.resultView.onSourceCodeChanged.add((A=>{this.rebuildProgramFromProgramId(A.programId,A.sourceVertex,A.sourceFragment,(B=>{this.referenceNewProgram(A.programId,B),this.resultView.showSourceCodeError(null)}),(B=>{this.resultView.showSourceCodeError(B)}))}))),this.resultView}getCaptureUI(){return this.captureMenu||(this.captureMenu=new Dr),this.captureMenu}rebuildProgramFromProgramId(A,B,J,Z,be){const Ne=Ar.getFromGlobalStore(A);this.rebuildProgram(Ne,B,J,Z,be)}rebuildProgram(A,B,J,Z,be){a.rebuildProgram(A,B,J,Z,be)}referenceNewProgram(A,B){Ar.updateInGlobalStore(A,B)}pause(){this.timeSpy.changeSpeedRatio(0)}play(){this.timeSpy.changeSpeedRatio(1)}playNextFrame(){this.timeSpy.playNextFrame()}drawOnlyEveryXFrame(A){this.timeSpy.changeSpeedRatio(A)}getFps(){return this.timeSpy.getFps()}spyCanvases(){this.canvasSpy?this.onErrorInternal("Already spying canvas."):(this.canvasSpy=new Gt,this.canvasSpy.onContextRequested.add(this.spyContext,this))}spyCanvas(A){this.canvasSpy?this.onErrorInternal("Already spying canvas."):(this.canvasSpy=new Gt(A),this.canvasSpy.onContextRequested.add(this.spyContext,this))}getAvailableContexts(){return this.getAvailableContexts()}captureCanvas(A,B=0,J=!1,Z=!1){const be=this.getAvailableContextSpyByCanvas(A);if(be)this.captureContextSpy(be,B,J,Z);else{const Ne=eo.getFirstAvailable3dContext(A);Ne?this.captureContext(Ne,B,J,Z):m.error("No webgl context available on the chosen canvas.")}}captureContext(A,B=0,J=!1,Z=!1){let be=this.getAvailableContextSpyByCanvas(A.canvas);be||(be=A.getIndexedParameter?new ft({context:A,version:2,recordAlways:!1}):new ft({context:A,version:1,recordAlways:!1}),be.onMaxCommand.add(this.stopCapture,this),this.contexts.push({canvas:be.context.canvas,contextSpy:be})),be&&this.captureContextSpy(be,B,J,Z)}captureXRContext(A=0,B=!1,J=!1){this.captureContext(this.getXRContext(),A,B,J)}captureContextSpy(A,B=0,J=!1,Z=!1){this.quickCapture=J,this.fullCapture=Z,this.capturingContext?this.onErrorInternal("Already capturing a context."):(this.retry=0,this.capturingContext=A,this.capturingContext.setMarker(this.marker),(B=Math.min(B,1e4))>0?this.captureCommands(B):this.captureFrames(1),this.noFrameTimeout=setTimeout((()=>{B>0?this.stopCapture():this.capturingContext&&this.retry>1?this.onErrorInternal("No frames with gl commands detected. Try moving the camera."):this.onErrorInternal("No frames detected. Try moving the camera or implementing requestAnimationFrame.")}),1e4))}captureNextFrame(A,B=!1,J=!1){A instanceof HTMLCanvasElement||self.OffscreenCanvas&&A instanceof OffscreenCanvas?this.captureCanvas(A,0,B,J):this.captureContext(A,0,B,J)}startCapture(A,B,J=!1,Z=!1){A instanceof HTMLCanvasElement||self.OffscreenCanvas&&A instanceof OffscreenCanvas?this.captureCanvas(A,B,J,Z):this.captureContext(A,B,J,Z)}stopCapture(){if(this.capturingContext){const A=this.capturingContext.stopCapture();if(A.commands.length>0)return this.noFrameTimeout>-1&&clearTimeout(this.noFrameTimeout),this.triggerCapture(A),this.capturingContext=void 0,this.captureNextFrames=0,this.captureNextCommands=0,A;this.captureNextCommands===0&&(this.retry++,this.captureFrames(1))}}setMarker(A){this.marker=A,this.capturingContext&&this.capturingContext.setMarker(A)}clearMarker(){this.marker=null,this.capturingContext&&this.capturingContext.clearMarker()}addRequestAnimationFrameFunctionName(A){this.timeSpy.addRequestAnimationFrameFunctionName(A)}setSpiedScope(A){this.timeSpy.setSpiedScope(A)}log(A){this.capturingContext&&this.capturingContext.log(A)}captureFrames(A){this.captureNextFrames=A,this.captureNextCommands=0,this.playNextFrame()}captureCommands(A){this.captureNextFrames=0,this.captureNextCommands=A,this.play(),this.capturingContext?(this.onCaptureStarted.trigger(void 0),this.capturingContext.startCapture(A,this.quickCapture,this.fullCapture)):(this.onErrorInternal("No context to capture from."),this.captureNextCommands=0)}spyContext(A){let B=this.getAvailableContextSpyByCanvas(A.context.canvas);B||(B=new ft({context:A.context,version:A.contextVersion,recordAlways:!0}),B.onMaxCommand.add(this.stopCapture,this),this.contexts.push({canvas:B.context.canvas,contextSpy:B})),B.spy()}getAvailableContextSpyByCanvas(A){for(const B of this.contexts)if(B.canvas===A)return B.contextSpy}getXRContext(){return this.options.enableXRCapture||m.error("Cannot retrieve WebXR context if capturing WebXR is disabled."),this.xrSpy.currentXRSession||m.error("No currently active WebXR session."),this.xrSpy.currentXRSession.glContext}onFrameStart(){this.captureNextCommands>0||(this.captureNextFrames>0?(this.capturingContext&&(this.onCaptureStarted.trigger(void 0),this.capturingContext.startCapture(0,this.quickCapture,this.fullCapture)),this.captureNextFrames--):this.capturingContext=void 0)}onFrameEnd(){this.captureNextCommands>0||this.captureNextFrames===0&&this.stopCapture()}triggerCapture(A){this.captureMenu&&this.captureMenu.captureComplete(null),this.onCapture.trigger(A)}onErrorInternal(A){if(m.error(A),this.noFrameTimeout>-1&&clearTimeout(this.noFrameTimeout),!this.capturingContext)throw A;this.capturingContext=void 0,this.captureNextFrames=0,this.captureNextCommands=0,this.retry=0,this.captureMenu&&this.captureMenu.captureComplete(A),this.onError.trigger(A)}}},18:(s,o,l)=>{s=l.nmd(s),ace.define("ace/ext/searchbox",["require","exports","module","ace/lib/dom","ace/lib/lang","ace/lib/event","ace/keyboard/hash_handler","ace/lib/keys"],(function(a,u,m){var d=a("../lib/dom"),b=a("../lib/lang"),g=a("../lib/event"),_='.ace_search {background-color: #ddd;color: #666;border: 1px solid #cbcbcb;border-top: 0 none;overflow: hidden;margin: 0;padding: 4px 6px 0 4px;position: absolute;top: 0;z-index: 99;white-space: normal;}.ace_search.left {border-left: 0 none;border-radius: 0px 0px 5px 0px;left: 0;}.ace_search.right {border-radius: 0px 0px 0px 5px;border-right: 0 none;right: 0;}.ace_search_form, .ace_replace_form {margin: 0 20px 4px 0;overflow: hidden;line-height: 1.9;}.ace_replace_form {margin-right: 0;}.ace_search_form.ace_nomatch {outline: 1px solid red;}.ace_search_field {border-radius: 3px 0 0 3px;background-color: white;color: black;border: 1px solid #cbcbcb;border-right: 0 none;outline: 0;padding: 0;font-size: inherit;margin: 0;line-height: inherit;padding: 0 6px;min-width: 17em;vertical-align: top;min-height: 1.8em;box-sizing: content-box;}.ace_searchbtn {border: 1px solid #cbcbcb;line-height: inherit;display: inline-block;padding: 0 6px;background: #fff;border-right: 0 none;border-left: 1px solid #dcdcdc;cursor: pointer;margin: 0;position: relative;color: #666;}.ace_searchbtn:last-child {border-radius: 0 3px 3px 0;border-right: 1px solid #cbcbcb;}.ace_searchbtn:disabled {background: none;cursor: default;}.ace_searchbtn:hover {background-color: #eef1f6;}.ace_searchbtn.prev, .ace_searchbtn.next {padding: 0px 0.7em}.ace_searchbtn.prev:after, .ace_searchbtn.next:after {content: "";border: solid 2px #888;width: 0.5em;height: 0.5em;border-width:  2px 0 0 2px;display:inline-block;transform: rotate(-45deg);}.ace_searchbtn.next:after {border-width: 0 2px 2px 0 ;}.ace_searchbtn_close {background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAcCAYAAABRVo5BAAAAZ0lEQVR42u2SUQrAMAhDvazn8OjZBilCkYVVxiis8H4CT0VrAJb4WHT3C5xU2a2IQZXJjiQIRMdkEoJ5Q2yMqpfDIo+XY4k6h+YXOyKqTIj5REaxloNAd0xiKmAtsTHqW8sR2W5f7gCu5nWFUpVjZwAAAABJRU5ErkJggg==) no-repeat 50% 0;border-radius: 50%;border: 0 none;color: #656565;cursor: pointer;font: 16px/16px Arial;padding: 0;height: 14px;width: 14px;top: 9px;right: 7px;position: absolute;}.ace_searchbtn_close:hover {background-color: #656565;background-position: 50% 100%;color: white;}.ace_button {margin-left: 2px;cursor: pointer;-webkit-user-select: none;-moz-user-select: none;-o-user-select: none;-ms-user-select: none;user-select: none;overflow: hidden;opacity: 0.7;border: 1px solid rgba(100,100,100,0.23);padding: 1px;box-sizing:    border-box!important;color: black;}.ace_button:hover {background-color: #eee;opacity:1;}.ace_button:active {background-color: #ddd;}.ace_button.checked {border-color: #3399ff;opacity:1;}.ace_search_options{margin-bottom: 3px;text-align: right;-webkit-user-select: none;-moz-user-select: none;-o-user-select: none;-ms-user-select: none;user-select: none;clear: both;}.ace_search_counter {float: left;font-family: arial;padding: 0 8px;}',p=a("../keyboard/hash_handler").HashHandler,v=a("../lib/keys");d.importCssString(_,"ace_searchbox");var c=function(x,w,T){var L=d.createElement("div");d.buildDom(["div",{class:"ace_search right"},["span",{action:"hide",class:"ace_searchbtn_close"}],["div",{class:"ace_search_form"},["input",{class:"ace_search_field",placeholder:"Search for",spellcheck:"false"}],["span",{action:"findPrev",class:"ace_searchbtn prev"},"​"],["span",{action:"findNext",class:"ace_searchbtn next"},"​"],["span",{action:"findAll",class:"ace_searchbtn",title:"Alt-Enter"},"All"]],["div",{class:"ace_replace_form"},["input",{class:"ace_search_field",placeholder:"Replace with",spellcheck:"false"}],["span",{action:"replaceAndFindNext",class:"ace_searchbtn"},"Replace"],["span",{action:"replaceAll",class:"ace_searchbtn"},"All"]],["div",{class:"ace_search_options"},["span",{action:"toggleReplace",class:"ace_button",title:"Toggle Replace mode",style:"float:left;margin-top:-2px;padding:0 5px;"},"+"],["span",{class:"ace_search_counter"}],["span",{action:"toggleRegexpMode",class:"ace_button",title:"RegExp Search"},".*"],["span",{action:"toggleCaseSensitive",class:"ace_button",title:"CaseSensitive Search"},"Aa"],["span",{action:"toggleWholeWords",class:"ace_button",title:"Whole Word Search"},"\\b"],["span",{action:"searchInSelection",class:"ace_button",title:"Search In Selection"},"S"]]],L),this.element=L.firstChild,this.setSession=this.setSession.bind(this),this.$init(),this.setEditor(x),d.importCssString(_,"ace_searchbox",x.container)};(function(){this.setEditor=function(x){x.searchBox=this,x.renderer.scroller.appendChild(this.element),this.editor=x},this.setSession=function(x){this.searchRange=null,this.$syncOptions(!0)},this.$initElements=function(x){this.searchBox=x.querySelector(".ace_search_form"),this.replaceBox=x.querySelector(".ace_replace_form"),this.searchOption=x.querySelector("[action=searchInSelection]"),this.replaceOption=x.querySelector("[action=toggleReplace]"),this.regExpOption=x.querySelector("[action=toggleRegexpMode]"),this.caseSensitiveOption=x.querySelector("[action=toggleCaseSensitive]"),this.wholeWordOption=x.querySelector("[action=toggleWholeWords]"),this.searchInput=this.searchBox.querySelector(".ace_search_field"),this.replaceInput=this.replaceBox.querySelector(".ace_search_field"),this.searchCounter=x.querySelector(".ace_search_counter")},this.$init=function(){var x=this.element;this.$initElements(x);var w=this;g.addListener(x,"mousedown",(function(T){setTimeout((function(){w.activeInput.focus()}),0),g.stopPropagation(T)})),g.addListener(x,"click",(function(T){var L=(T.target||T.srcElement).getAttribute("action");L&&w[L]?w[L]():w.$searchBarKb.commands[L]&&w.$searchBarKb.commands[L].exec(w),g.stopPropagation(T)})),g.addCommandKeyListener(x,(function(T,L,P){var C=v.keyCodeToString(P),I=w.$searchBarKb.findKeyCommand(L,C);I&&I.exec&&(I.exec(w),g.stopEvent(T))})),this.$onChange=b.delayedCall((function(){w.find(!1,!1)})),g.addListener(this.searchInput,"input",(function(){w.$onChange.schedule(20)})),g.addListener(this.searchInput,"focus",(function(){w.activeInput=w.searchInput,w.searchInput.value&&w.highlight()})),g.addListener(this.replaceInput,"focus",(function(){w.activeInput=w.replaceInput,w.searchInput.value&&w.highlight()}))},this.$closeSearchBarKb=new p([{bindKey:"Esc",name:"closeSearchBar",exec:function(x){x.searchBox.hide()}}]),this.$searchBarKb=new p,this.$searchBarKb.bindKeys({"Ctrl-f|Command-f":function(x){var w=x.isReplace=!x.isReplace;x.replaceBox.style.display=w?"":"none",x.replaceOption.checked=!1,x.$syncOptions(),x.searchInput.focus()},"Ctrl-H|Command-Option-F":function(x){x.editor.getReadOnly()||(x.replaceOption.checked=!0,x.$syncOptions(),x.replaceInput.focus())},"Ctrl-G|Command-G":function(x){x.findNext()},"Ctrl-Shift-G|Command-Shift-G":function(x){x.findPrev()},esc:function(x){setTimeout((function(){x.hide()}))},Return:function(x){x.activeInput==x.replaceInput&&x.replace(),x.findNext()},"Shift-Return":function(x){x.activeInput==x.replaceInput&&x.replace(),x.findPrev()},"Alt-Return":function(x){x.activeInput==x.replaceInput&&x.replaceAll(),x.findAll()},Tab:function(x){(x.activeInput==x.replaceInput?x.searchInput:x.replaceInput).focus()}}),this.$searchBarKb.addCommands([{name:"toggleRegexpMode",bindKey:{win:"Alt-R|Alt-/",mac:"Ctrl-Alt-R|Ctrl-Alt-/"},exec:function(x){x.regExpOption.checked=!x.regExpOption.checked,x.$syncOptions()}},{name:"toggleCaseSensitive",bindKey:{win:"Alt-C|Alt-I",mac:"Ctrl-Alt-R|Ctrl-Alt-I"},exec:function(x){x.caseSensitiveOption.checked=!x.caseSensitiveOption.checked,x.$syncOptions()}},{name:"toggleWholeWords",bindKey:{win:"Alt-B|Alt-W",mac:"Ctrl-Alt-B|Ctrl-Alt-W"},exec:function(x){x.wholeWordOption.checked=!x.wholeWordOption.checked,x.$syncOptions()}},{name:"toggleReplace",exec:function(x){x.replaceOption.checked=!x.replaceOption.checked,x.$syncOptions()}},{name:"searchInSelection",exec:function(x){x.searchOption.checked=!x.searchRange,x.setSearchRange(x.searchOption.checked&&x.editor.getSelectionRange()),x.$syncOptions()}}]),this.setSearchRange=function(x){this.searchRange=x,x?this.searchRangeMarker=this.editor.session.addMarker(x,"ace_active-line"):this.searchRangeMarker&&(this.editor.session.removeMarker(this.searchRangeMarker),this.searchRangeMarker=null)},this.$syncOptions=function(x){d.setCssClass(this.replaceOption,"checked",this.searchRange),d.setCssClass(this.searchOption,"checked",this.searchOption.checked),this.replaceOption.textContent=this.replaceOption.checked?"-":"+",d.setCssClass(this.regExpOption,"checked",this.regExpOption.checked),d.setCssClass(this.wholeWordOption,"checked",this.wholeWordOption.checked),d.setCssClass(this.caseSensitiveOption,"checked",this.caseSensitiveOption.checked);var w=this.editor.getReadOnly();this.replaceOption.style.display=w?"none":"",this.replaceBox.style.display=this.replaceOption.checked&&!w?"":"none",this.find(!1,!1,x)},this.highlight=function(x){this.editor.session.highlight(x||this.editor.$search.$options.re),this.editor.renderer.updateBackMarkers()},this.find=function(x,w,T){var L=!this.editor.find(this.searchInput.value,{skipCurrent:x,backwards:w,wrap:!0,regExp:this.regExpOption.checked,caseSensitive:this.caseSensitiveOption.checked,wholeWord:this.wholeWordOption.checked,preventScroll:T,range:this.searchRange})&&this.searchInput.value;d.setCssClass(this.searchBox,"ace_nomatch",L),this.editor._emit("findSearchBox",{match:!L}),this.highlight(),this.updateCounter()},this.updateCounter=function(){var x=this.editor,w=x.$search.$options.re,T=0,L=0;if(w){var P=this.searchRange?x.session.getTextRange(this.searchRange):x.getValue(),C=x.session.doc.positionToIndex(x.selection.anchor);this.searchRange&&(C-=x.session.doc.positionToIndex(this.searchRange.start));for(var I,F=w.lastIndex=0;(I=w.exec(P))&&(T++,(F=I.index)<=C&&L++,!(T>999))&&(I[0]||(w.lastIndex=F+=1,!(F>=P.length))););}this.searchCounter.textContent=L+" of "+(T>999?"999+":T)},this.findNext=function(){this.find(!0,!1)},this.findPrev=function(){this.find(!0,!0)},this.findAll=function(){var x=!this.editor.findAll(this.searchInput.value,{regExp:this.regExpOption.checked,caseSensitive:this.caseSensitiveOption.checked,wholeWord:this.wholeWordOption.checked})&&this.searchInput.value;d.setCssClass(this.searchBox,"ace_nomatch",x),this.editor._emit("findSearchBox",{match:!x}),this.highlight(),this.hide()},this.replace=function(){this.editor.getReadOnly()||this.editor.replace(this.replaceInput.value)},this.replaceAndFindNext=function(){this.editor.getReadOnly()||(this.editor.replace(this.replaceInput.value),this.findNext())},this.replaceAll=function(){this.editor.getReadOnly()||this.editor.replaceAll(this.replaceInput.value)},this.hide=function(){this.active=!1,this.setSearchRange(null),this.editor.off("changeSession",this.setSession),this.element.style.display="none",this.editor.keyBinding.removeKeyboardHandler(this.$closeSearchBarKb),this.editor.focus()},this.show=function(x,w){this.active=!0,this.editor.on("changeSession",this.setSession),this.element.style.display="",this.replaceOption.checked=w,x&&(this.searchInput.value=x),this.searchInput.focus(),this.searchInput.select(),this.editor.keyBinding.addKeyboardHandler(this.$closeSearchBarKb),this.$syncOptions(!0)},this.isFocused=function(){var x=document.activeElement;return x==this.searchInput||x==this.replaceInput}}).call(c.prototype),u.SearchBox=c,u.Search=function(x,w){(x.searchBox||new c(x)).show(x.session.getTextRange(),w)}})),ace.require(["ace/ext/searchbox"],(function(a){s&&(s.exports=a)}))},176:(s,o,l)=>{s=l.nmd(s),ace.define("ace/mode/doc_comment_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/text_highlight_rules"],(function(a,u,m){var d=a("../lib/oop"),b=a("./text_highlight_rules").TextHighlightRules,g=function(){this.$rules={start:[{token:"comment.doc.tag",regex:"@[\\w\\d_]+"},g.getTagRule(),{defaultToken:"comment.doc",caseInsensitive:!0}]}};d.inherits(g,b),g.getTagRule=function(_){return{token:"comment.doc.tag.storage.type",regex:"\\b(?:TODO|FIXME|XXX|HACK)\\b"}},g.getStartRule=function(_){return{token:"comment.doc",regex:"\\/\\*(?=\\*)",next:_}},g.getEndRule=function(_){return{token:"comment.doc",regex:"\\*\\/",next:_}},u.DocCommentHighlightRules=g})),ace.define("ace/mode/c_cpp_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/doc_comment_highlight_rules","ace/mode/text_highlight_rules"],(function(a,u,m){var d=a("../lib/oop"),b=a("./doc_comment_highlight_rules").DocCommentHighlightRules,g=a("./text_highlight_rules").TextHighlightRules,_=u.cFunctions="\\b(?:hypot(?:f|l)?|s(?:scanf|ystem|nprintf|ca(?:nf|lb(?:n(?:f|l)?|ln(?:f|l)?))|i(?:n(?:h(?:f|l)?|f|l)?|gn(?:al|bit))|tr(?:s(?:tr|pn)|nc(?:py|at|mp)|c(?:spn|hr|oll|py|at|mp)|to(?:imax|d|u(?:l(?:l)?|max)|k|f|l(?:d|l)?)|error|pbrk|ftime|len|rchr|xfrm)|printf|et(?:jmp|vbuf|locale|buf)|qrt(?:f|l)?|w(?:scanf|printf)|rand)|n(?:e(?:arbyint(?:f|l)?|xt(?:toward(?:f|l)?|after(?:f|l)?))|an(?:f|l)?)|c(?:s(?:in(?:h(?:f|l)?|f|l)?|qrt(?:f|l)?)|cos(?:h(?:f)?|f|l)?|imag(?:f|l)?|t(?:ime|an(?:h(?:f|l)?|f|l)?)|o(?:s(?:h(?:f|l)?|f|l)?|nj(?:f|l)?|pysign(?:f|l)?)|p(?:ow(?:f|l)?|roj(?:f|l)?)|e(?:il(?:f|l)?|xp(?:f|l)?)|l(?:o(?:ck|g(?:f|l)?)|earerr)|a(?:sin(?:h(?:f|l)?|f|l)?|cos(?:h(?:f|l)?|f|l)?|tan(?:h(?:f|l)?|f|l)?|lloc|rg(?:f|l)?|bs(?:f|l)?)|real(?:f|l)?|brt(?:f|l)?)|t(?:ime|o(?:upper|lower)|an(?:h(?:f|l)?|f|l)?|runc(?:f|l)?|gamma(?:f|l)?|mp(?:nam|file))|i(?:s(?:space|n(?:ormal|an)|cntrl|inf|digit|u(?:nordered|pper)|p(?:unct|rint)|finite|w(?:space|c(?:ntrl|type)|digit|upper|p(?:unct|rint)|lower|al(?:num|pha)|graph|xdigit|blank)|l(?:ower|ess(?:equal|greater)?)|al(?:num|pha)|gr(?:eater(?:equal)?|aph)|xdigit|blank)|logb(?:f|l)?|max(?:div|abs))|di(?:v|fftime)|_Exit|unget(?:c|wc)|p(?:ow(?:f|l)?|ut(?:s|c(?:har)?|wc(?:har)?)|error|rintf)|e(?:rf(?:c(?:f|l)?|f|l)?|x(?:it|p(?:2(?:f|l)?|f|l|m1(?:f|l)?)?))|v(?:s(?:scanf|nprintf|canf|printf|w(?:scanf|printf))|printf|f(?:scanf|printf|w(?:scanf|printf))|w(?:scanf|printf)|a_(?:start|copy|end|arg))|qsort|f(?:s(?:canf|e(?:tpos|ek))|close|tell|open|dim(?:f|l)?|p(?:classify|ut(?:s|c|w(?:s|c))|rintf)|e(?:holdexcept|set(?:e(?:nv|xceptflag)|round)|clearexcept|testexcept|of|updateenv|r(?:aiseexcept|ror)|get(?:e(?:nv|xceptflag)|round))|flush|w(?:scanf|ide|printf|rite)|loor(?:f|l)?|abs(?:f|l)?|get(?:s|c|pos|w(?:s|c))|re(?:open|e|ad|xp(?:f|l)?)|m(?:in(?:f|l)?|od(?:f|l)?|a(?:f|l|x(?:f|l)?)?))|l(?:d(?:iv|exp(?:f|l)?)|o(?:ngjmp|cal(?:time|econv)|g(?:1(?:p(?:f|l)?|0(?:f|l)?)|2(?:f|l)?|f|l|b(?:f|l)?)?)|abs|l(?:div|abs|r(?:int(?:f|l)?|ound(?:f|l)?))|r(?:int(?:f|l)?|ound(?:f|l)?)|gamma(?:f|l)?)|w(?:scanf|c(?:s(?:s(?:tr|pn)|nc(?:py|at|mp)|c(?:spn|hr|oll|py|at|mp)|to(?:imax|d|u(?:l(?:l)?|max)|k|f|l(?:d|l)?|mbs)|pbrk|ftime|len|r(?:chr|tombs)|xfrm)|to(?:b|mb)|rtomb)|printf|mem(?:set|c(?:hr|py|mp)|move))|a(?:s(?:sert|ctime|in(?:h(?:f|l)?|f|l)?)|cos(?:h(?:f|l)?|f|l)?|t(?:o(?:i|f|l(?:l)?)|exit|an(?:h(?:f|l)?|2(?:f|l)?|f|l)?)|b(?:s|ort))|g(?:et(?:s|c(?:har)?|env|wc(?:har)?)|mtime)|r(?:int(?:f|l)?|ound(?:f|l)?|e(?:name|alloc|wind|m(?:ove|quo(?:f|l)?|ainder(?:f|l)?))|a(?:nd|ise))|b(?:search|towc)|m(?:odf(?:f|l)?|em(?:set|c(?:hr|py|mp)|move)|ktime|alloc|b(?:s(?:init|towcs|rtowcs)|towc|len|r(?:towc|len))))\\b",p=function(){var v=this.$keywords=this.createKeywordMapper({"keyword.control":"break|case|continue|default|do|else|for|goto|if|_Pragma|return|switch|while|catch|operator|try|throw|using","storage.type":"asm|__asm__|auto|bool|_Bool|char|_Complex|double|enum|float|_Imaginary|int|long|short|signed|struct|typedef|union|unsigned|void|class|wchar_t|template|char16_t|char32_t","storage.modifier":"const|extern|register|restrict|static|volatile|inline|private|protected|public|friend|explicit|virtual|export|mutable|typename|constexpr|new|delete|alignas|alignof|decltype|noexcept|thread_local","keyword.operator":"and|and_eq|bitand|bitor|compl|not|not_eq|or|or_eq|typeid|xor|xor_eq|const_cast|dynamic_cast|reinterpret_cast|static_cast|sizeof|namespace","variable.language":"this","constant.language":"NULL|true|false|TRUE|FALSE|nullptr"},"identifier"),c=/\\(?:['"?\\abfnrtv]|[0-7]{1,3}|x[a-fA-F\d]{2}|u[a-fA-F\d]{4}U[a-fA-F\d]{8}|.)/.source,x="%"+/(\d+\$)?/.source+/[#0\- +']*/.source+/[,;:_]?/.source+/((-?\d+)|\*(-?\d+\$)?)?/.source+/(\.((-?\d+)|\*(-?\d+\$)?)?)?/.source+/(hh|h|ll|l|j|t|z|q|L|vh|vl|v|hv|hl)?/.source+/(\[[^"\]]+\]|[diouxXDOUeEfFgGaACcSspn%])/.source;this.$rules={start:[{token:"comment",regex:"//$",next:"start"},{token:"comment",regex:"//",next:"singleLineComment"},b.getStartRule("doc-start"),{token:"comment",regex:"\\/\\*",next:"comment"},{token:"string",regex:"'(?:"+c+"|.)?'"},{token:"string.start",regex:'"',stateName:"qqstring",next:[{token:"string",regex:/\\\s*$/,next:"qqstring"},{token:"constant.language.escape",regex:c},{token:"constant.language.escape",regex:x},{token:"string.end",regex:'"|$',next:"start"},{defaultToken:"string"}]},{token:"string.start",regex:'R"\\(',stateName:"rawString",next:[{token:"string.end",regex:'\\)"',next:"start"},{defaultToken:"string"}]},{token:"constant.numeric",regex:"0[xX][0-9a-fA-F]+(L|l|UL|ul|u|U|F|f|ll|LL|ull|ULL)?\\b"},{token:"constant.numeric",regex:"[+-]?\\d+(?:(?:\\.\\d*)?(?:[eE][+-]?\\d+)?)?(L|l|UL|ul|u|U|F|f|ll|LL|ull|ULL)?\\b"},{token:"keyword",regex:"#\\s*(?:include|import|pragma|line|define|undef|version)\\b",next:"directive"},{token:"keyword",regex:"#\\s*(?:endif|if|ifdef|else|elif|ifndef)\\b"},{token:"support.function.C99.c",regex:_},{token:v,regex:"[a-zA-Z_$][a-zA-Z0-9_$]*"},{token:"keyword.operator",regex:/--|\+\+|<<=|>>=|>>>=|<>|&&|\|\||\?:|[*%\/+\-&\^|~!<>=]=?/},{token:"punctuation.operator",regex:"\\?|\\:|\\,|\\;|\\."},{token:"paren.lparen",regex:"[[({]"},{token:"paren.rparen",regex:"[\\])}]"},{token:"text",regex:"\\s+"}],comment:[{token:"comment",regex:"\\*\\/",next:"start"},{defaultToken:"comment"}],singleLineComment:[{token:"comment",regex:/\\$/,next:"singleLineComment"},{token:"comment",regex:/$/,next:"start"},{defaultToken:"comment"}],directive:[{token:"constant.other.multiline",regex:/\\/},{token:"constant.other.multiline",regex:/.*\\/},{token:"constant.other",regex:"\\s*<.+?>",next:"start"},{token:"constant.other",regex:'\\s*["](?:(?:\\\\.)|(?:[^"\\\\]))*?["]',next:"start"},{token:"constant.other",regex:"\\s*['](?:(?:\\\\.)|(?:[^'\\\\]))*?[']",next:"start"},{token:"constant.other",regex:/[^\\\/]+/,next:"start"}]},this.embedRules(b,"doc-",[b.getEndRule("start")]),this.normalizeRules()};d.inherits(p,g),u.c_cppHighlightRules=p})),ace.define("ace/mode/matching_brace_outdent",["require","exports","module","ace/range"],(function(a,u,m){var d=a("../range").Range,b=function(){};(function(){this.checkOutdent=function(g,_){return!!/^\s+$/.test(g)&&/^\s*\}/.test(_)},this.autoOutdent=function(g,_){var p=g.getLine(_).match(/^(\s*\})/);if(!p)return 0;var v=p[1].length,c=g.findMatchingBracket({row:_,column:v});if(!c||c.row==_)return 0;var x=this.$getIndent(g.getLine(c.row));g.replace(new d(_,0,_,v-1),x)},this.$getIndent=function(g){return g.match(/^\s*/)[0]}}).call(b.prototype),u.MatchingBraceOutdent=b})),ace.define("ace/mode/folding/cstyle",["require","exports","module","ace/lib/oop","ace/range","ace/mode/folding/fold_mode"],(function(a,u,m){var d=a("../../lib/oop"),b=a("../../range").Range,g=a("./fold_mode").FoldMode,_=u.FoldMode=function(p){p&&(this.foldingStartMarker=new RegExp(this.foldingStartMarker.source.replace(/\|[^|]*?$/,"|"+p.start)),this.foldingStopMarker=new RegExp(this.foldingStopMarker.source.replace(/\|[^|]*?$/,"|"+p.end)))};d.inherits(_,g),(function(){this.foldingStartMarker=/([\{\[\(])[^\}\]\)]*$|^\s*(\/\*)/,this.foldingStopMarker=/^[^\[\{\(]*([\}\]\)])|^[\s\*]*(\*\/)/,this.singleLineBlockCommentRe=/^\s*(\/\*).*\*\/\s*$/,this.tripleStarBlockCommentRe=/^\s*(\/\*\*\*).*\*\/\s*$/,this.startRegionRe=/^\s*(\/\*|\/\/)#?region\b/,this._getFoldWidgetBase=this.getFoldWidget,this.getFoldWidget=function(p,v,c){var x=p.getLine(c);if(this.singleLineBlockCommentRe.test(x)&&!this.startRegionRe.test(x)&&!this.tripleStarBlockCommentRe.test(x))return"";var w=this._getFoldWidgetBase(p,v,c);return!w&&this.startRegionRe.test(x)?"start":w},this.getFoldWidgetRange=function(p,v,c,x){var w,T=p.getLine(c);if(this.startRegionRe.test(T))return this.getCommentRegionBlock(p,T,c);if(w=T.match(this.foldingStartMarker)){var L=w.index;if(w[1])return this.openingBracketBlock(p,w[1],c,L);var P=p.getCommentFoldRange(c,L+w[0].length,1);return P&&!P.isMultiLine()&&(x?P=this.getSectionRange(p,c):v!="all"&&(P=null)),P}return v!=="markbegin"&&(w=T.match(this.foldingStopMarker))?(L=w.index+w[0].length,w[1]?this.closingBracketBlock(p,w[1],c,L):p.getCommentFoldRange(c,L,-1)):void 0},this.getSectionRange=function(p,v){for(var c=p.getLine(v),x=c.search(/\S/),w=v,T=c.length,L=v+=1,P=p.getLength();++v<P;){var C=(c=p.getLine(v)).search(/\S/);if(C!==-1){if(x>C)break;var I=this.getFoldWidgetRange(p,"all",v);if(I){if(I.start.row<=w)break;if(I.isMultiLine())v=I.end.row;else if(x==C)break}L=v}}return new b(w,T,L,p.getLine(L).length)},this.getCommentRegionBlock=function(p,v,c){for(var x=v.search(/\s*$/),w=p.getLength(),T=c,L=/^\s*(?:\/\*|\/\/|--)#?(end)?region\b/,P=1;++c<w;){v=p.getLine(c);var C=L.exec(v);if(C&&(C[1]?P--:P++,!P))break}if(c>T)return new b(T,x,c,v.length)}}).call(_.prototype)})),ace.define("ace/mode/c_cpp",["require","exports","module","ace/lib/oop","ace/mode/text","ace/mode/c_cpp_highlight_rules","ace/mode/matching_brace_outdent","ace/range","ace/mode/behaviour/cstyle","ace/mode/folding/cstyle"],(function(a,u,m){var d=a("../lib/oop"),b=a("./text").Mode,g=a("./c_cpp_highlight_rules").c_cppHighlightRules,_=a("./matching_brace_outdent").MatchingBraceOutdent,p=(a("../range").Range,a("./behaviour/cstyle").CstyleBehaviour),v=a("./folding/cstyle").FoldMode,c=function(){this.HighlightRules=g,this.$outdent=new _,this.$behaviour=new p,this.foldingRules=new v};d.inherits(c,b),(function(){this.lineCommentStart="//",this.blockComment={start:"/*",end:"*/"},this.getNextLineIndent=function(x,w,T){var L=this.$getIndent(w),P=this.getTokenizer().getLineTokens(w,x),C=P.tokens,I=P.state;if(C.length&&C[C.length-1].type=="comment")return L;if(x=="start")(F=w.match(/^.*[\{\(\[]\s*$/))&&(L+=T);else if(x=="doc-start"){if(I=="start")return"";var F;(F=w.match(/^\s*(\/?)\*/))&&(F[1]&&(L+=" "),L+="* ")}return L},this.checkOutdent=function(x,w,T){return this.$outdent.checkOutdent(w,T)},this.autoOutdent=function(x,w,T){this.$outdent.autoOutdent(w,T)},this.$id="ace/mode/c_cpp"}).call(c.prototype),u.Mode=c})),ace.define("ace/mode/glsl_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/c_cpp_highlight_rules"],(function(a,u,m){var d=a("../lib/oop"),b=a("./c_cpp_highlight_rules").c_cppHighlightRules,g=function(){var _=this.createKeywordMapper({"variable.language":"this",keyword:"layout|attribute|const|uniform|varying|break|continue|do|for|while|if|else|in|out|inout|float|int|void|bool|true|false|lowp|mediump|highp|precision|invariant|discard|return|mat2|mat3|mat4|vec2|vec3|vec4|ivec2|ivec3|ivec4|bvec2|bvec3|bvec4|sampler2D|samplerCube|struct","constant.language":"radians|degrees|sin|cos|tan|asin|acos|atan|pow|exp|log|exp2|log2|sqrt|inversesqrt|abs|sign|floor|ceil|fract|mod|min|max|clamp|mix|step|smoothstep|length|distance|dot|cross|normalize|faceforward|reflect|refract|matrixCompMult|lessThan|lessThanEqual|greaterThan|greaterThanEqual|equal|notEqual|any|all|not|dFdx|dFdy|fwidth|texture2D|texture2DProj|texture2DLod|texture2DProjLod|textureCube|textureCubeLod|gl_MaxVertexAttribs|gl_MaxVertexUniformVectors|gl_MaxVaryingVectors|gl_MaxVertexTextureImageUnits|gl_MaxCombinedTextureImageUnits|gl_MaxTextureImageUnits|gl_MaxFragmentUniformVectors|gl_MaxDrawBuffers|gl_DepthRangeParameters|gl_DepthRange|gl_Position|gl_PointSize|gl_FragCoord|gl_FrontFacing|gl_PointCoord|gl_FragColor|gl_FragData"},"identifier");this.$rules=new b().$rules,this.$rules.start.forEach((function(p){typeof p.token=="function"&&(p.token=_)}))};d.inherits(g,b),u.glslHighlightRules=g})),ace.define("ace/mode/glsl",["require","exports","module","ace/lib/oop","ace/mode/c_cpp","ace/mode/glsl_highlight_rules","ace/mode/matching_brace_outdent","ace/range","ace/mode/behaviour/cstyle","ace/mode/folding/cstyle"],(function(a,u,m){var d=a("../lib/oop"),b=a("./c_cpp").Mode,g=a("./glsl_highlight_rules").glslHighlightRules,_=a("./matching_brace_outdent").MatchingBraceOutdent,p=(a("../range").Range,a("./behaviour/cstyle").CstyleBehaviour),v=a("./folding/cstyle").FoldMode,c=function(){this.HighlightRules=g,this.$outdent=new _,this.$behaviour=new p,this.foldingRules=new v};d.inherits(c,b),(function(){this.$id="ace/mode/glsl"}).call(c.prototype),u.Mode=c})),ace.require(["ace/mode/glsl"],(function(a){s&&(s.exports=a)}))},793:(s,o,l)=>{s=l.nmd(s),ace.define("ace/theme/monokai",["require","exports","module","ace/lib/dom"],(function(a,u,m){u.isDark=!0,u.cssClass="ace-monokai",u.cssText=".ace-monokai .ace_gutter {background: #2F3129;color: #8F908A}.ace-monokai .ace_print-margin {width: 1px;background: #555651}.ace-monokai {background-color: #272822;color: #F8F8F2}.ace-monokai .ace_cursor {color: #F8F8F0}.ace-monokai .ace_marker-layer .ace_selection {background: #49483E}.ace-monokai.ace_multiselect .ace_selection.ace_start {box-shadow: 0 0 3px 0px #272822;}.ace-monokai .ace_marker-layer .ace_step {background: rgb(102, 82, 0)}.ace-monokai .ace_marker-layer .ace_bracket {margin: -1px 0 0 -1px;border: 1px solid #49483E}.ace-monokai .ace_marker-layer .ace_active-line {background: #202020}.ace-monokai .ace_gutter-active-line {background-color: #272727}.ace-monokai .ace_marker-layer .ace_selected-word {border: 1px solid #49483E}.ace-monokai .ace_invisible {color: #52524d}.ace-monokai .ace_entity.ace_name.ace_tag,.ace-monokai .ace_keyword,.ace-monokai .ace_meta.ace_tag,.ace-monokai .ace_storage {color: #F92672}.ace-monokai .ace_punctuation,.ace-monokai .ace_punctuation.ace_tag {color: #fff}.ace-monokai .ace_constant.ace_character,.ace-monokai .ace_constant.ace_language,.ace-monokai .ace_constant.ace_numeric,.ace-monokai .ace_constant.ace_other {color: #AE81FF}.ace-monokai .ace_invalid {color: #F8F8F0;background-color: #F92672}.ace-monokai .ace_invalid.ace_deprecated {color: #F8F8F0;background-color: #AE81FF}.ace-monokai .ace_support.ace_constant,.ace-monokai .ace_support.ace_function {color: #66D9EF}.ace-monokai .ace_fold {background-color: #A6E22E;border-color: #F8F8F2}.ace-monokai .ace_storage.ace_type,.ace-monokai .ace_support.ace_class,.ace-monokai .ace_support.ace_type {font-style: italic;color: #66D9EF}.ace-monokai .ace_entity.ace_name.ace_function,.ace-monokai .ace_entity.ace_other,.ace-monokai .ace_entity.ace_other.ace_attribute-name,.ace-monokai .ace_variable {color: #A6E22E}.ace-monokai .ace_variable.ace_parameter {font-style: italic;color: #FD971F}.ace-monokai .ace_string {color: #E6DB74}.ace-monokai .ace_comment {color: #75715E}.ace-monokai .ace_indent-guide {background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAEklEQVQImWPQ0FD0ZXBzd/wPAAjVAoxeSgNeAAAAAElFTkSuQmCC) right repeat-y}",a("../lib/dom").importCssString(u.cssText,u.cssClass)})),ace.require(["ace/theme/monokai"],(function(a){s&&(s.exports=a)}))}},i={};function r(s){var o=i[s];if(o!==void 0)return o.exports;var l=i[s]={id:s,loaded:!1,exports:{}};return t[s].call(l.exports,l,l.exports,r),l.loaded=!0,l.exports}return r.amdD=function(){throw new Error("define cannot be used indirect")},r.n=s=>{var o=s&&s.__esModule?()=>s.default:()=>s;return r.d(o,{a:o}),o},r.d=(s,o)=>{for(var l in o)r.o(o,l)&&!r.o(s,l)&&Object.defineProperty(s,l,{enumerable:!0,get:o[l]})},r.o=(s,o)=>Object.prototype.hasOwnProperty.call(s,o),r.r=s=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(s,"__esModule",{value:!0})},r.nmd=s=>(s.paths=[],s.children||(s.children=[]),s),r.nc=void 0,r(819),r(176),r(793),r(655),r(18),r(986)})()))})(pA)),pA.exports}wye();function Cye({particlesContainer:n,BackgroundConfig:e}){const[t,i]=Q.useState(window.innerWidth);Q.useEffect(function(){const o=function(){i(window.innerWidth)};return window.addEventListener("resize",o),function(){window.removeEventListener("resize",o)}},[]),Q.useEffect(function(){R9(async function(o){await Yee(o)})},[]);let r={...e};Q.useEffect(function(){n.includes("404")&&(window.innerWidth<=1080?(r.particles.links.distance=55,r.particles.move.speed.max=.25,r.particles.number.value=60,r.polygon.move.radius=2.5,r.polygon.url="/src/img/404_small.svg",r.polygon.position.x=15):(r.polygon.move.radius=15,r.polygon.url="/src/img/404.svg",r.polygon.position.x=5))},[n,t,r]);const s=Q.useCallback(async function(o){},[r]);return Le.jsx(Le.Fragment,{children:Le.jsx(A9,{id:n,particlesLoaded:s,options:r})})}function GR(){return GR=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},GR.apply(this,arguments)}var Tye={strings:["These are the default values...","You know what you should do?","Use your own!","Have a great day!"],stringsElement:null,typeSpeed:0,startDelay:0,backSpeed:0,smartBackspace:!0,shuffle:!1,backDelay:700,fadeOut:!1,fadeOutClass:"typed-fade-out",fadeOutDelay:500,loop:!1,loopCount:1/0,showCursor:!0,cursorChar:"|",autoInsertCss:!0,attr:null,bindInputFocusEvents:!1,contentType:"html",onBegin:function(n){},onComplete:function(n){},preStringTyped:function(n,e){},onStringTyped:function(n,e){},onLastStringBackspaced:function(n){},onTypingPaused:function(n,e){},onTypingResumed:function(n,e){},onReset:function(n){},onStop:function(n,e){},onStart:function(n,e){},onDestroy:function(n){}},Aye=new((function(){function n(){}var e=n.prototype;return e.load=function(t,i,r){if(t.el=typeof r=="string"?document.querySelector(r):r,t.options=GR({},Tye,i),t.isInput=t.el.tagName.toLowerCase()==="input",t.attr=t.options.attr,t.bindInputFocusEvents=t.options.bindInputFocusEvents,t.showCursor=!t.isInput&&t.options.showCursor,t.cursorChar=t.options.cursorChar,t.cursorBlinking=!0,t.elContent=t.attr?t.el.getAttribute(t.attr):t.el.textContent,t.contentType=t.options.contentType,t.typeSpeed=t.options.typeSpeed,t.startDelay=t.options.startDelay,t.backSpeed=t.options.backSpeed,t.smartBackspace=t.options.smartBackspace,t.backDelay=t.options.backDelay,t.fadeOut=t.options.fadeOut,t.fadeOutClass=t.options.fadeOutClass,t.fadeOutDelay=t.options.fadeOutDelay,t.isPaused=!1,t.strings=t.options.strings.map(function(u){return u.trim()}),t.stringsElement=typeof t.options.stringsElement=="string"?document.querySelector(t.options.stringsElement):t.options.stringsElement,t.stringsElement){t.strings=[],t.stringsElement.style.cssText="clip: rect(0 0 0 0);clip-path:inset(50%);height:1px;overflow:hidden;position:absolute;white-space:nowrap;width:1px;";var s=Array.prototype.slice.apply(t.stringsElement.children),o=s.length;if(o)for(var l=0;l<o;l+=1)t.strings.push(s[l].innerHTML.trim())}for(var a in t.strPos=0,t.currentElContent=this.getCurrentElContent(t),t.currentElContent&&t.currentElContent.length>0&&(t.strPos=t.currentElContent.length-1,t.strings.unshift(t.currentElContent)),t.sequence=[],t.strings)t.sequence[a]=a;t.arrayPos=0,t.stopNum=0,t.loop=t.options.loop,t.loopCount=t.options.loopCount,t.curLoop=0,t.shuffle=t.options.shuffle,t.pause={status:!1,typewrite:!0,curString:"",curStrPos:0},t.typingComplete=!1,t.autoInsertCss=t.options.autoInsertCss,t.autoInsertCss&&(this.appendCursorAnimationCss(t),this.appendFadeOutAnimationCss(t))},e.getCurrentElContent=function(t){return t.attr?t.el.getAttribute(t.attr):t.isInput?t.el.value:t.contentType==="html"?t.el.innerHTML:t.el.textContent},e.appendCursorAnimationCss=function(t){var i="data-typed-js-cursor-css";if(t.showCursor&&!document.querySelector("["+i+"]")){var r=document.createElement("style");r.setAttribute(i,"true"),r.innerHTML=`
        .typed-cursor{
          opacity: 1;
        }
        .typed-cursor.typed-cursor--blink{
          animation: typedjsBlink 0.7s infinite;
          -webkit-animation: typedjsBlink 0.7s infinite;
                  animation: typedjsBlink 0.7s infinite;
        }
        @keyframes typedjsBlink{
          50% { opacity: 0.0; }
        }
        @-webkit-keyframes typedjsBlink{
          0% { opacity: 1; }
          50% { opacity: 0.0; }
          100% { opacity: 1; }
        }
      `,document.body.appendChild(r)}},e.appendFadeOutAnimationCss=function(t){var i="data-typed-fadeout-js-css";if(t.fadeOut&&!document.querySelector("["+i+"]")){var r=document.createElement("style");r.setAttribute(i,"true"),r.innerHTML=`
        .typed-fade-out{
          opacity: 0;
          transition: opacity .25s;
        }
        .typed-cursor.typed-cursor--blink.typed-fade-out{
          -webkit-animation: 0;
          animation: 0;
        }
      `,document.body.appendChild(r)}},n})()),MD=new((function(){function n(){}var e=n.prototype;return e.typeHtmlChars=function(t,i,r){if(r.contentType!=="html")return i;var s=t.substring(i).charAt(0);if(s==="<"||s==="&"){var o;for(o=s==="<"?">":";";t.substring(i+1).charAt(0)!==o&&!(1+ ++i>t.length););i++}return i},e.backSpaceHtmlChars=function(t,i,r){if(r.contentType!=="html")return i;var s=t.substring(i).charAt(0);if(s===">"||s===";"){var o;for(o=s===">"?"<":"&";t.substring(i-1).charAt(0)!==o&&!(--i<0););i--}return i},n})()),Rye=(function(){function n(t,i){Aye.load(this,i,t),this.begin()}var e=n.prototype;return e.toggle=function(){this.pause.status?this.start():this.stop()},e.stop=function(){this.typingComplete||this.pause.status||(this.toggleBlinking(!0),this.pause.status=!0,this.options.onStop(this.arrayPos,this))},e.start=function(){this.typingComplete||this.pause.status&&(this.pause.status=!1,this.pause.typewrite?this.typewrite(this.pause.curString,this.pause.curStrPos):this.backspace(this.pause.curString,this.pause.curStrPos),this.options.onStart(this.arrayPos,this))},e.destroy=function(){this.reset(!1),this.options.onDestroy(this)},e.reset=function(t){t===void 0&&(t=!0),clearInterval(this.timeout),this.replaceText(""),this.cursor&&this.cursor.parentNode&&(this.cursor.parentNode.removeChild(this.cursor),this.cursor=null),this.strPos=0,this.arrayPos=0,this.curLoop=0,t&&(this.insertCursor(),this.options.onReset(this),this.begin())},e.begin=function(){var t=this;this.options.onBegin(this),this.typingComplete=!1,this.shuffleStringsIfNeeded(this),this.insertCursor(),this.bindInputFocusEvents&&this.bindFocusEvents(),this.timeout=setTimeout(function(){t.strPos===0?t.typewrite(t.strings[t.sequence[t.arrayPos]],t.strPos):t.backspace(t.strings[t.sequence[t.arrayPos]],t.strPos)},this.startDelay)},e.typewrite=function(t,i){var r=this;this.fadeOut&&this.el.classList.contains(this.fadeOutClass)&&(this.el.classList.remove(this.fadeOutClass),this.cursor&&this.cursor.classList.remove(this.fadeOutClass));var s=this.humanizer(this.typeSpeed),o=1;this.pause.status!==!0?this.timeout=setTimeout(function(){i=MD.typeHtmlChars(t,i,r);var l=0,a=t.substring(i);if(a.charAt(0)==="^"&&/^\^\d+/.test(a)){var u=1;u+=(a=/\d+/.exec(a)[0]).length,l=parseInt(a),r.temporaryPause=!0,r.options.onTypingPaused(r.arrayPos,r),t=t.substring(0,i)+t.substring(i+u),r.toggleBlinking(!0)}if(a.charAt(0)==="`"){for(;t.substring(i+o).charAt(0)!=="`"&&(o++,!(i+o>t.length)););var m=t.substring(0,i),d=t.substring(m.length+1,i+o),b=t.substring(i+o+1);t=m+d+b,o--}r.timeout=setTimeout(function(){r.toggleBlinking(!1),i>=t.length?r.doneTyping(t,i):r.keepTyping(t,i,o),r.temporaryPause&&(r.temporaryPause=!1,r.options.onTypingResumed(r.arrayPos,r))},l)},s):this.setPauseStatus(t,i,!0)},e.keepTyping=function(t,i,r){i===0&&(this.toggleBlinking(!1),this.options.preStringTyped(this.arrayPos,this));var s=t.substring(0,i+=r);this.replaceText(s),this.typewrite(t,i)},e.doneTyping=function(t,i){var r=this;this.options.onStringTyped(this.arrayPos,this),this.toggleBlinking(!0),this.arrayPos===this.strings.length-1&&(this.complete(),this.loop===!1||this.curLoop===this.loopCount)||(this.timeout=setTimeout(function(){r.backspace(t,i)},this.backDelay))},e.backspace=function(t,i){var r=this;if(this.pause.status!==!0){if(this.fadeOut)return this.initFadeOut();this.toggleBlinking(!1);var s=this.humanizer(this.backSpeed);this.timeout=setTimeout(function(){i=MD.backSpaceHtmlChars(t,i,r);var o=t.substring(0,i);if(r.replaceText(o),r.smartBackspace){var l=r.strings[r.arrayPos+1];r.stopNum=l&&o===l.substring(0,i)?i:0}i>r.stopNum?(i--,r.backspace(t,i)):i<=r.stopNum&&(r.arrayPos++,r.arrayPos===r.strings.length?(r.arrayPos=0,r.options.onLastStringBackspaced(),r.shuffleStringsIfNeeded(),r.begin()):r.typewrite(r.strings[r.sequence[r.arrayPos]],i))},s)}else this.setPauseStatus(t,i,!1)},e.complete=function(){this.options.onComplete(this),this.loop?this.curLoop++:this.typingComplete=!0},e.setPauseStatus=function(t,i,r){this.pause.typewrite=r,this.pause.curString=t,this.pause.curStrPos=i},e.toggleBlinking=function(t){this.cursor&&(this.pause.status||this.cursorBlinking!==t&&(this.cursorBlinking=t,t?this.cursor.classList.add("typed-cursor--blink"):this.cursor.classList.remove("typed-cursor--blink")))},e.humanizer=function(t){return Math.round(Math.random()*t/2)+t},e.shuffleStringsIfNeeded=function(){this.shuffle&&(this.sequence=this.sequence.sort(function(){return Math.random()-.5}))},e.initFadeOut=function(){var t=this;return this.el.className+=" "+this.fadeOutClass,this.cursor&&(this.cursor.className+=" "+this.fadeOutClass),setTimeout(function(){t.arrayPos++,t.replaceText(""),t.strings.length>t.arrayPos?t.typewrite(t.strings[t.sequence[t.arrayPos]],0):(t.typewrite(t.strings[0],0),t.arrayPos=0)},this.fadeOutDelay)},e.replaceText=function(t){this.attr?this.el.setAttribute(this.attr,t):this.isInput?this.el.value=t:this.contentType==="html"?this.el.innerHTML=t:this.el.textContent=t},e.bindFocusEvents=function(){var t=this;this.isInput&&(this.el.addEventListener("focus",function(i){t.stop()}),this.el.addEventListener("blur",function(i){t.el.value&&t.el.value.length!==0||t.start()}))},e.insertCursor=function(){this.showCursor&&(this.cursor||(this.cursor=document.createElement("span"),this.cursor.className="typed-cursor",this.cursor.setAttribute("aria-hidden",!0),this.cursor.innerHTML=this.cursorChar,this.el.parentNode&&this.el.parentNode.insertBefore(this.cursor,this.el.nextSibling)))},n})();function Mye({typedContainer:n,TypingConfig:e}){const t=Q.useRef();let i={...e};return Q.useEffect(function(){return mA.$("body").append(`<div class="${n}box"><span id="${n}"></span></div>`),function(){mA.$("body>#"+n).parent().remove()}},[]),Q.useEffect(function(){return t.current=new Rye("#"+n,i),function(){t.current?.destroy()}},[i]),Le.jsx(Le.Fragment,{children:Le.jsx("div",{className:n+"box",children:Le.jsx("span",{id:n})})})}const Oye={strings:["I'm coding it."],stringsElement:null,typeSpeed:60,startDelay:1e3,backSpeed:30,smartBackspace:!0,shuffle:!1,backDelay:700,fadeOut:!1,fadeOutClass:"typed-fade-out",fadeOutDelay:500,loop:!1,loopCount:1/0,showCursor:!0,cursorChar:"|",autoInsertCss:!0,attr:null,bindInputFocusEvents:!1,contentType:"html",onBegin:function(n){},onComplete:function(n){},preStringTyped:function(n,e){},onStringTyped:function(n,e){},onLastStringBackspaced:function(n){},onTypingPaused:function(n,e){},onTypingResumed:function(n,e){},onReset:function(n){},onStop:function(n,e){},onStart:function(n,e){},onDestroy:function(n){}};function OD({typedContainer:n="typed"}){return console.log(`
     ####  #   ##   #    # #      #    #  ####    ##   ######   ##   #####  ##### 
    #    # #  #  #  ##   # #      #    # #    #  #  #  #       #  #  #    # #    #
    #      # #    # # #  # #      #    # #      #    # #####  #    # #####  #    #
    #  ### # ###### #  # # #      #    # #      ###### #      ###### #    # ##### 
    #    # # #    # #   ## #      #    # #    # #    # #      #    # #    # #   # 
     ####  # #    # #    # ######  ####   ####  #    # #      #    # #####  #    #
                                                                                  
    #  ####      ####  # ##### #    # #    # #####     #  ####                    
    # #         #    # #   #   #    # #    # #    #    # #    #                   
    #  ####     #      #   #   ###### #    # #####     # #    #                   
    #      #    #  ### #   #   #    # #    # #    #    # #    #                   
    # #    # ## #    # #   #   #    # #    # #    # ## # #    #                   
    #  ####  ##  ####  #   #   #    #  ####  #####  ## #  ####                    
    `),Le.jsxs(Le.Fragment,{children:[Le.jsx(dl,{children:Le.jsxs(Ya,{md:12,className:"blur",children:[Le.jsx(Mye,{typedContainer:n,TypingConfig:Oye}),Le.jsx("style",{children:`
                #typed,.typed-cursor{
                    font-size: 10em;
                }
                `})]})}),Le.jsx(dl,{children:Le.jsx(Ya,{md:12,className:"blur",children:Le.jsxs("p",{children:["For now you can visit the following pages (still WIP) ",Le.jsx(is,{to:"/printables",children:"Printables"}),", ",Le.jsx(is,{to:"/thesis",children:"Thesis"}),", ",Le.jsx(is,{to:"/solarsystem",children:"Solar System"}),", ",Le.jsx(is,{to:"/citiesguesser",children:"Cities Guesser"}),", and ",Le.jsx(is,{to:"https://gianlucafabris.github.io/MultimaterialToSwapGCode/",target:"_blank",children:"MultimaterialToSwapGCode"}),"."]})})})]})}var LD={exports:{}},Iy={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var PD;function Lye(){if(PD)return Iy;PD=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(i,r,s){var o=null;if(s!==void 0&&(o=""+s),r.key!==void 0&&(o=""+r.key),"key"in r){s={};for(var l in r)l!=="key"&&(s[l]=r[l])}else s=r;return r=s.ref,{$$typeof:n,type:i,key:o,ref:r!==void 0?r:null,props:s}}return Iy.Fragment=e,Iy.jsx=t,Iy.jsxs=t,Iy}var ND;function Pye(){return ND||(ND=1,LD.exports=Lye()),LD.exports}var cl=Pye(),Nye="Invariant failed";function lz(n,e){if(!n)throw new Error(Nye)}function Iye(n){const e=Q.useRef(null);return Q.useLayoutEffect(()=>{if(!e.current)return;const t=new ResizeObserver(i=>{lz(i[0]),n(i[0].contentRect.width)});return t.observe(e.current),n(e.current.getBoundingClientRect().width),()=>{t.disconnect()}},[n]),e}function Dye(n,e,t,i){const r=i==="taller"?Math.max(e,t):Math.min(e,t);return n*r}function ID(n){return n.naturalHeight/n.naturalWidth}const VR=n=>{const{aspectRatio:e="taller",handle:t=null,handleSize:i=40,hover:r=!1,leftImage:s,leftImageAlt:o="",leftImageCss:l={},leftImageLabel:a=null,onSliderPositionChange:u,rightImage:m,rightImageAlt:d="",rightImageCss:b={},rightImageLabel:g=null,skeleton:_=null,sliderLineColor:p="#ffffff",sliderLineWidth:v=2,sliderPositionPercentage:c=.5,vertical:x=!1}=n,w=!x,[T,L]=Q.useState(c),[P,C]=Q.useState(!1),[I,F]=Q.useState(0),[R,D]=Q.useState(0),G=Iye(he=>F(he)),j=Q.useRef(null),k=Q.useRef(null),[V,H]=Q.useState(!1),te=Q.useCallback(()=>{k.current?.complete&&j.current?.complete&&H(!0)},[]);Q.useEffect(()=>(te(),()=>{H(!1)}),[s,m,te]),Q.useEffect(()=>{if(!(k.current&&j.current)||I===0||!V)return;const he=Dye(I,ID(k.current),ID(j.current),e);D(he)},[I,V,e]),Q.useEffect(()=>{if(!G.current||!V)return;const he=Ee=>{if(!G.current)return;const me=G.current.getBoundingClientRect();let le,we;if(Ee instanceof TouchEvent){const dn=Ee.touches[0];lz(dn),le=dn.clientX,we=dn.clientY}else le=Ee.clientX,we=Ee.clientY;const Re=w?le-me.left:we-me.top,Fe=v/2,qe=w?I-Fe:R-Fe,ot=Math.min(Math.max(Re,Fe),qe)/(w?I:R);L(ot),u?.(ot)},ie=Ee=>{C(!0),"touches"in Ee||Ee.preventDefault(),he(Ee),window.addEventListener("mousemove",he),window.addEventListener("touchmove",he)},ce=()=>{C(!1),window.removeEventListener("mousemove",he),window.removeEventListener("touchmove",he)},Se=G.current;return Se.addEventListener("touchstart",ie),window.addEventListener("touchend",ce),r?(Se.addEventListener("mousemove",he),Se.addEventListener("mouseleave",ce)):(Se.addEventListener("mousedown",ie),window.addEventListener("mouseup",ce)),()=>{Se.removeEventListener("touchstart",ie),window.removeEventListener("touchend",ce),Se.removeEventListener("mousemove",he),Se.removeEventListener("mouseleave",ce),Se.removeEventListener("mousedown",ie),window.removeEventListener("mouseup",ce),window.removeEventListener("mousemove",he),window.removeEventListener("touchmove",he)}},[V,e,R,I,w,r,v,G]);const ne={container:{boxSizing:"border-box",position:"relative",width:"100%",height:`${R}px`,overflow:"hidden"},rightImage:{clipPath:w?`inset(0px 0px 0px ${I*T}px)`:`inset(${R*T}px 0px 0px 0px)`,display:"block",height:"100%",objectFit:"cover",position:"absolute",width:"100%",...b},leftImage:{clipPath:w?`inset(0px ${I*(1-T)}px 0px 0px)`:`inset(0px 0px ${R*(1-T)}px 0px)`,display:"block",height:"100%",objectFit:"cover",position:"absolute",width:"100%",...l},slider:{alignItems:"center",display:"flex",justifyContent:"center",position:"absolute",...w?{cursor:"ew-resize",flexDirection:"column",height:"100%",left:`${I*T-i/2}px`,top:0,width:`${i}px`}:{cursor:"ns-resize",flexDirection:"row",height:`${i}px`,left:0,top:`${R*T-i/2}px`,width:"100%"}},line:{background:p,boxShadow:"0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12)",flex:"0 1 auto",height:w?"100%":`${v}px`,width:w?`${v}px`:"100%"},handleCustom:{alignItems:"center",boxSizing:"border-box",display:"flex",flex:"1 0 auto",height:"auto",justifyContent:"center",width:"auto"},handleDefault:{alignItems:"center",border:`${v}px solid ${p}`,borderRadius:"100%",boxShadow:"0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12)",boxSizing:"border-box",display:"flex",flex:"1 0 auto",height:`${i}px`,justifyContent:"center",width:`${i}px`,transform:w?"none":"rotate(90deg)"},leftArrow:{border:`inset ${i*.15}px rgba(0,0,0,0)`,borderRight:`${i*.15}px solid ${p}`,height:"0px",marginLeft:`-${i*.25}px`,marginRight:`${i*.25}px`,width:"0px"},rightArrow:{border:`inset ${i*.15}px rgba(0,0,0,0)`,borderLeft:`${i*.15}px solid ${p}`,height:"0px",marginRight:`-${i*.25}px`,width:"0px"},leftLabel:{background:"rgba(0, 0, 0, 0.5)",color:"white",left:w?"5%":"50%",opacity:P?0:1,padding:"10px 20px",position:"absolute",top:w?"50%":"3%",transform:w?"translate(0,-50%)":"translate(-50%, 0)",transition:"opacity 0.1s ease-out"},rightLabel:{background:"rgba(0, 0, 0, 0.5)",color:"white",opacity:P?0:1,padding:"10px 20px",position:"absolute",...w?{right:"5%",top:"50%",transform:"translate(0,-50%)"}:{left:"50%",bottom:"3%",transform:"translate(-50%, 0)"},transition:"opacity 0.1s ease-out"},leftLabelContainer:{clipPath:w?`inset(0px ${I*(1-T)}px 0px 0px)`:`inset(0px 0px ${R*(1-T)}px 0px)`,height:"100%",position:"absolute",width:"100%"},rightLabelContainer:{clipPath:w?`inset(0px 0px 0px ${I*T}px)`:`inset(${R*T}px 0px 0px 0px)`,height:"100%",position:"absolute",width:"100%"}};return cl.jsxs(cl.Fragment,{children:[_&&!V&&cl.jsx("div",{style:{...ne.container},children:_}),cl.jsxs("div",{style:{...ne.container,display:V?"block":"none"},ref:G,"data-testid":"container",children:[cl.jsx("img",{onLoad:()=>te(),alt:d,"data-testid":"right-image",ref:j,src:m,style:ne.rightImage}),cl.jsx("img",{onLoad:()=>te(),alt:o,"data-testid":"left-image",ref:k,src:s,style:ne.leftImage}),cl.jsxs("div",{style:ne.slider,children:[cl.jsx("div",{style:ne.line}),t?cl.jsx("div",{style:ne.handleCustom,children:t}):cl.jsxs("div",{style:ne.handleDefault,children:[cl.jsx("div",{style:ne.leftArrow}),cl.jsx("div",{style:ne.rightArrow})]}),cl.jsx("div",{style:ne.line})]}),a&&cl.jsx("div",{style:ne.leftLabelContainer,children:cl.jsx("div",{style:ne.leftLabel,children:a})}),g&&cl.jsx("div",{style:ne.rightLabelContainer,children:cl.jsx("div",{style:ne.rightLabel,children:g})})]})]})},Fye={ambientLight:{intensity:.1,color:"#ffffff"},directionalLight:{position:[.75,1,1],lookAt:[0,0,0],intensity:3.5,color:"#ffffff"},printables:{float:{speed:2.5,rotationIntensity:1,floatIntensity:1,floatingRange:[-.1,.1]},scale:[1,1,1],position:[0,0,0],rotation:[0,0,0],color:"#eb6f40"}},Bye=function({config:n}){return Le.jsx(sye,{speed:n.float.speed,rotationIntensity:n.float.rotationIntensity,floatIntensity:n.float.floatIntensity,floatingRange:n.float.floatingRange,children:Le.jsxs("group",{scale:n.scale,position:n.position,rotation:n.rotation,children:[Le.jsxs("mesh",{children:[Le.jsx("boxGeometry",{}),Le.jsx("meshStandardMaterial",{color:n.color})]}),Le.jsxs("mesh",{position:[0,-1,-.5],children:[Le.jsx("planeGeometry",{}),Le.jsx("meshStandardMaterial",{color:n.color})]})]})})};function Uye(){const n=Q.useRef(),e=Q.useRef();let t={...Fye};return Q.useEffect(function(){n.current&&e.current&&(n.current.target=e.current)},[t.directionalLight.lookAt]),Le.jsxs(Le.Fragment,{children:[null,null,null,Le.jsx("ambientLight",{intensity:t.ambientLight.intensity,color:t.ambientLight.color}),Le.jsx("directionalLight",{ref:n,position:t.directionalLight.position,intensity:t.directionalLight.intensity,color:t.directionalLight.color}),Le.jsx(Bye,{config:t.printables})]})}function kye({printablesContainer:n}){return Le.jsx(Le.Fragment,{children:Le.jsx("div",{className:n,style:{width:"100%",height:"390px",position:"relative",minHeight:"390px"},children:Le.jsxs(X5,{gl:function(e){e.toneMapping=DE,e.toneMappingExposure=1,e.outputColorSpace=Na},children:[Le.jsx(tye,{makeDefault:!0,position:[-3,3,3],zoom:150,onUpdate:function(e){e.lookAt(0,0,0)}}),Le.jsx(Uye,{})]})})})}function zye({leftImage:n,leftImageAlt:e,leftImageLabel:t,rightImage1:i,rightImage1Alt:r,rightImage1Label:s,rightImage2:o,rightImage2Alt:l,rightImage2Label:a,interval:u=5e3}){const[m,d]=Q.useState(!0);return Q.useEffect(function(){const b=setInterval(function(){d(function(g){return!g})},u);return function(){clearInterval(b)}},[u]),Le.jsx(VR,{leftImage:n,leftImageAlt:e,leftImageLabel:t,rightImage:m?i:o,rightImageAlt:m?r:l,rightImageLabel:m?s:a})}function $ye(){return Le.jsxs(Le.Fragment,{children:[Le.jsx(dl,{children:Le.jsx(Ya,{md:12,children:Le.jsx("h1",{children:Le.jsx(is,{to:"https://www.printables.com",target:"_blank",children:"Printables.com"})})})}),Le.jsxs(dl,{children:[Le.jsxs(Ya,{md:6,className:"blur",children:[Le.jsx("p",{children:"Printables.com is a platform that offers a huge variety of 3D models and a great relationship with the 3D printing community."}),Le.jsx("p",{children:"Printables.com is famous for its extensive database of 3D models. The variety and quality of the models available are impressive and being designed for 3D printing they are easy to print."}),Le.jsx("p",{children:"Printables.com's points system, called Prusameters, adds an element of incentive for users. Accumulating points through interacting with the platform, creating 3D models appreciated by the community or winning contests, leads to advantages such as spools of filament and even free printers. This system not only stimulates user interaction but also rewards their active involvement."}),Le.jsx("p",{children:"Printables.com regularly hosts contests that encourage creativity and innovation among its community of creators. These contests offer users the opportunity to test their skills, compete against other community members, and earn recognition and prizes. These events add an element of community, challenge and engagement to the platform."}),Le.jsx("p",{children:"One of Printables.com's strengths is its commitment to supporting creators. The new system implemented to support creators is a significant step forward in this process. Through this initiative, Printables.com users can offer support to creators who produce high-quality content for the platform. This not only benefits the creators themselves but also enriches the overall offering of templates and content available to users."}),Le.jsx("p",{children:"In summary, Printables.com stands out for its vast database of 3D models, engaging points system, inspiring contests and system to support creators. It is a valuable resource for 3D design professionals and enthusiasts, offering a dynamic, community-focused platform for access to high-quality content and creative expression."})]}),Le.jsx(Ya,{md:6,children:Le.jsx(kye,{printablesContainer:"canvasExperience"})})]}),Le.jsx(dl,{children:Le.jsxs(Ya,{md:12,className:"blur",children:[Le.jsx("p",{children:"Here are some suggestions for improving some pages."}),Le.jsxs("section",{children:[Le.jsx("p",{children:"Collections and user profile:"}),Le.jsxs("ul",{children:[Le.jsx("li",{children:"Adding filters: using filters on the collections page to make it easier for users to quickly find models they're interested in when collections have many models, such as on the all models page on Printable.com."}),Le.jsx("li",{children:"Increased medals display: modify the user profile to allow up to six medals to be displayed instead of three, allowing users to showcase a wider range of their achievements."}),Le.jsx("li",{children:"Displaying the number of models and makes: next to the number of likes and downloads of the models, also include the total number of models uploaded and how many models have been printed (make)."})]}),Le.jsx("div",{className:"imagecompare collections",children:Le.jsx(VR,{leftImage:"/src/img/printables/collections.png",leftImageAlt:"collections and user original",leftImageLabel:"original",rightImage:"/src/img/printables/collections mod.png",rightImageAlt:"collections and user modified",rightImageLabel:"modified"})})]}),Le.jsxs("section",{children:[Le.jsx("p",{children:"About the user - medals section:"}),Le.jsx("ul",{children:Le.jsx("li",{children:"Redesign of the medals section: to allow users to download the medal for past levels and see who achieved each level, giving users additional motivation to achieve higher goals"})}),Le.jsx("div",{className:"imagecompare badges",children:Le.jsx(zye,{leftImage:"/src/img/printables/badges.png",leftImageAlt:"badges original",leftImageLabel:"original",rightImage1:"/src/img/printables/badges mod.png",rightImage1Alt:"badges modified",rightImage1Label:"modified",rightImage2:"/src/img/printables/badges mod2.png",rightImage2Alt:"badges modified",rightImage2Label:"modified"})})]}),Le.jsxs("section",{children:[Le.jsx("p",{children:"Model:"}),Le.jsxs("ul",{children:[Le.jsx("li",{children:"Adding monthly likes and downloads progress for Prusameters: on the model page integrate the section showing the monthly progress of likes and downloads towards the PrusaMeters milestone, in order to provide users with detailed information on the performance of their model over time."}),Le.jsx("li",{children:"Redesign of the print statistics section: to allow viewing of multiple files and support different printers, giving users a more complete overview of model printing times on different printer configurations."})]}),Le.jsx("div",{className:"imagecompare model",children:Le.jsx(VR,{leftImage:"/src/img/printables/model.png",leftImageAlt:"model original",leftImageLabel:"original",rightImage:"/src/img/printables/model mod.png",rightImageAlt:"model modified",rightImageLabel:"modified"})})]}),Le.jsx("p",{children:"By implementing these proposals, the overall experience of users on the platform could be improved, making it easier for them to navigate, share and track their activities and successes."})]})})]})}function Hye(){return Le.jsxs(Le.Fragment,{children:[Le.jsx(dl,{children:Le.jsx(Ya,{md:12,children:Le.jsx("h1",{children:"Decreasing the Reality Gap of a Vehicle Simulation Digital Sibling Using the Addition of a Road Slope Study"})})}),Le.jsx(dl,{children:Le.jsxs(Ya,{md:12,className:"blur",children:[Le.jsx("h2",{children:"About this thesis"}),Le.jsx("p",{children:"This thesis focuses on reducing the reality gap in vehicle simulation platforms by integrating a comprehensive study of road slopes. Simulation platforms are critical tools for developing and testing driver-assistance systems (ADAS) and autonomous vehicles, offering a safe, cost-effective alternative to real-world tests. However, achieving high levels of realism, especially in road and vehicle dynamics, remains a significant challenge."}),Le.jsx("p",{children:"By incorporating detailed road slope data, this work aims to bridge the gap between simulated and real-world driving conditions. The enhanced realism enables more accurate testing of ADAS and autonomous driving technologies. This thesis delves into how custom soft-body physics engines and adaptable road models contribute to more reliable and immersive simulations, making it ideal for both academic and industry applications."})]})}),Le.jsx(dl,{children:Le.jsxs(Ya,{md:12,className:"blur",children:[Le.jsx("h2",{children:"Introduction"}),Le.jsx("p",{children:"As the complexity of modern driver training systems, ADAS, and autonomous driving technologies continues to grow, the demand for hyper-realistic simulation platforms becomes more pronounced. These platforms are indispensable for safely testing complex driving scenarios without exposing vehicles or drivers to real-world risks. However, one of the significant hurdles is accurately modeling real-world conditions such as road geometry, traffic patterns, and environmental factors like slopes."}),Le.jsx("p",{children:"This research leverages platforms like BeamNG.tech and Hexagon’s Virtual Test Drive (VTD) to improve the accuracy of road simulations. A major innovation of this thesis is the integration of OpenStreetMap (OSM) road data with a specific focus on road slopes, a critical factor in vehicle dynamics. This addition allows for a more realistic replication of how vehicles interact with varying terrain, which is essential for ADAS testing and the development of autonomous agents."}),Le.jsx("p",{children:"By focusing on the customization of simulation inputs, this research enhances the ability of simulation platforms to more closely mirror real-world driving environments. The study compares the performance of standard road data imports against customized imports, ultimately demonstrating how improved realism can lead to better development and testing outcomes."})]})}),Le.jsx(dl,{children:Le.jsxs(Ya,{md:12,className:"blur",children:[Le.jsx("h2",{children:"Resources"}),Le.jsx("p",{children:Le.jsx(is,{to:"https://drive.google.com/file/d/1siuiS3j4CdlGHEfWTbJEy1xZIaBR9Jmx/view?usp=sharing",target:"_blank",children:"thesis"})}),Le.jsx("p",{children:Le.jsx(is,{to:"https://drive.google.com/file/d/1mmctSXk7NwZpZN3yfJdmJLWTZgccr9b0/view?usp=sharing",target:"_blank",children:"presentation"})}),Le.jsx("p",{children:Le.jsx(is,{to:"https://github.com/gianlucafabris/BeamNGpy---Road-test",target:"_blank",children:"Github - BeamNGpy - Road test"})}),Le.jsx("p",{children:Le.jsx(is,{to:"https://github.com/gianlucafabris/Import-OSM-custom",target:"_blank",children:"Github - Import OSM custom"})}),Le.jsx("p",{children:Le.jsx(is,{to:"https://github.com/gianlucafabris/Import-OSM-custom---analysis-BeamNG-and-Hexagon",target:"_blank",children:"Github - Import OSM custom - analysis BeamNG and Hexagon"})})]})})]})}const Hy={ambientLight:{intensity:.1,color:"#ffffff"},pointLight:{intensity:1.74*1e18/(5*1e7),color:"#ffffff"},planets:[{name:"Sun",radius:696.34,rotation:[0,0,0],distance:0,elevation:0,elevationBias:0,textures:[{type:"color",url:"/src/img/solarsystem/00_Sun/color.png"},{type:"emissive",url:"/src/img/solarsystem/00_Sun/emissive.png"}],satellites:[]},{name:"Mercury",radius:2.44,rotation:[0,0,0],distance:58e3,elevation:9.86,elevationBias:-5.38,textures:[{type:"color",url:"/src/img/solarsystem/01_Mercury/color.png"}],satellites:[]},{name:"Venus",radius:6.052,rotation:[0,0,0],distance:108200,elevation:13,elevationBias:0,textures:[{type:"color",url:"/src/img/solarsystem/02_Venus/color.png"},{type:"color_atmosphere",url:"/src/img/solarsystem/02_Venus/color_atmosphere.png"}],satellites:[]},{name:"Earth",radius:6.378,rotation:[0,0,0],distance:149600,elevation:19.783,elevationBias:-10.935,textures:[{type:"color",url:"/src/img/solarsystem/03_Earth/color.png"},{type:"color_night",url:"/src/img/solarsystem/03_Earth/color_night.png"},{type:"displacement",url:"/src/img/solarsystem/03_Earth/displacement.png"},{type:"specular",url:"/src/img/solarsystem/03_Earth/specular.png"},{type:"color_atmosphere",url:"/src/img/solarsystem/03_Earth/color_atmosphere.png"},{type:"emissive_night",url:"/src/img/solarsystem/03_Earth/emissive_night.png"}],satellites:[{name:"Moon",radius:.3844,rotation:[0,0,0],distance:384.4,elevation:19.807,elevationBias:-9.178,textures:[{type:"color",url:"/src/img/solarsystem/03_Earth/Moon/color.png"},{type:"displacement",url:"/src/img/solarsystem/03_Earth/Moon/displacement.png"}]}]},{name:"Mars",radius:3.39,rotation:[0,0,0],distance:227900,elevation:29.429,elevationBias:-8.2,textures:[{type:"color",url:"/src/img/solarsystem/04_Mars/color.png"}],satellites:[]},{name:"Jupiter",radius:69.911,rotation:[0,0,0],distance:778500,elevation:0,elevationBias:0,ringsRange:[1,1],textures:[{type:"color",url:"/src/img/solarsystem/05_Jupiter/color.png"}],satellites:[]},{name:"Saturn",radius:58.232,rotation:[0,0,0],distance:1434e3,elevation:0,elevationBias:0,ringsRange:[1.1,2.3],textures:[{type:"color",url:"/src/img/solarsystem/06_Saturn/color.png"},{type:"color_rings",url:"/src/img/solarsystem/06_Saturn/color_rings.png"}],satellites:[]},{name:"Uranus",radius:25.362,rotation:[0,0,0],distance:2871e3,elevation:0,elevationBias:0,ringsRange:[1,1],textures:[{type:"color",url:"/src/img/solarsystem/07_Uranus/color.png"}],satellites:[]},{name:"Neptune",radius:24.622,rotation:[0,0,0],distance:4495e3,elevation:0,elevationBias:0,ringsRange:[1,1],textures:[{type:"color",url:"/src/img/solarsystem/08_Neptune/color.png"}],satellites:[]}]},Gye=function({planet:n,config_planet:e,sun_direction:t}){const i=Q.useRef(),r=Q.useMemo(function(){const u={};return n.textures?.forEach(function(m,d){u[m.type]=e.textures[d]||m.url}),u},[n,e]),s=R2(Object.values(r)),o=Q.useMemo(function(){const u={};return Object.keys(r).forEach(function(m,d){return u[m]=s[d],u}),u},[r]),l=Q.useRef({dayTexture:{value:o.color},nightTexture:{value:o.color_night},emissiveTexture:{value:o.emissive_night},displacementTexture:{value:o.displacement},specularTexture:{value:o.specular},sunDirection:{value:new De(Math.cos(t),0,-Math.sin(t)).normalize()}});Q.useEffect(function(){l.current.sunDirection.value.set(Math.cos(t),0,-Math.sin(t)).normalize()},[t]);let a=sce(o.color_atmosphere?n.name:"",o.color_atmosphere?{color_atmosphere:{value:!0,label:"Show atmosphere"}}:{},{collapsed:!0},[n]);return a=o.color_atmosphere?a:{},Le.jsxs(Le.Fragment,{children:[Le.jsxs("mesh",{children:[Le.jsx("sphereGeometry",{args:[e.radius,512,256]}),Le.jsx("meshPhysicalMaterial",{ref:i,map:o.color_night?null:o.color,displacementMap:o.displacement,displacementScale:o.displacement?e.elevation*e.elevationScale:0,displacementBias:o.displacement?e.elevationBias*e.elevationScale:0,roughnessMap:o.specular,emissiveMap:o.emissive,emissive:o.emissive?new jn(16777215):new jn(0),emissiveIntensity:o.emissive?.1:0,onBeforeCompile:function(u){o.color_night&&(u.uniforms.dayTexture=l.current.dayTexture,u.uniforms.nightTexture=l.current.nightTexture,u.uniforms.sunDirection=l.current.sunDirection,o.emissive_night&&(u.uniforms.emissiveTexture=l.current.emissiveTexture),n.name==="Earth"&&(u.uniforms.displacementTexture=l.current.displacementTexture,u.uniforms.specularTexture=l.current.specularTexture,u.uniforms.shallowWaterDayColor={value:new jn(3839231)},u.uniforms.deepWaterDayColor={value:new jn(1125961)},u.uniforms.shallowWaterNightColor={value:new jn(1656431)},u.uniforms.deepWaterNightColor={value:new jn(0)}),u.vertexShader=u.vertexShader.replace("#include <common>",`
                        #include <common>
                        varying vec3 vWorldNormal;
                        varying vec2 vUv_custom;
                    `).replace("#include <uv_vertex>",`
                        #include <uv_vertex>
                        vUv_custom = uv;
                        vWorldNormal = normalize(mat3(modelMatrix) * normal);
                    `),u.fragmentShader=u.fragmentShader.replace("#include <common>",`
                        #include <common>
                        uniform sampler2D dayTexture;
                        uniform sampler2D nightTexture;
                        uniform vec3 sunDirection;
                        varying vec2 vUv_custom;
                        varying vec3 vWorldNormal;
                        ${o.emissive_night?"uniform sampler2D emissiveTexture;":""}
                        ${n.name==="Earth"?`
                            uniform sampler2D displacementTexture;
                            uniform sampler2D specularTexture;
                            uniform vec3 shallowWaterDayColor;
                            uniform vec3 deepWaterDayColor;
                            uniform vec3 shallowWaterNightColor;
                            uniform vec3 deepWaterNightColor;
                        `:""}
                    `).replace("#include <map_fragment>",`
                        #include <map_fragment>
                        float d = dot(normalize(vWorldNormal), normalize(sunDirection));
                        float blend = smoothstep(-0.5, 0.5, d);
                        vec4 dayColor = texture2D(dayTexture, vUv_custom);
                        vec4 nightColor = texture2D(nightTexture, vUv_custom);
                        diffuseColor = mix(nightColor, dayColor, blend);
                        ${o.emissive_night?`
                            vec4 emissive = texture2D(emissiveTexture, vUv_custom);
                            totalEmissiveRadiance += emissive.rgb * (1.0 - blend) * 0.1;
                        `:""}
                        ${n.name==="Earth"?`
                            float waterMask = 0.0;
                            waterMask = 1.0 - texture2D(specularTexture, vUv_custom).r;
                            float height = texture2D(displacementTexture, vUv_custom).r;
                            float waterDepthFactor = smoothstep(0.3, 0.7, height);
                            vec3 waterDayColor = mix(deepWaterDayColor, shallowWaterDayColor, waterDepthFactor);
                            vec3 waterNightColor = mix(deepWaterNightColor, shallowWaterNightColor, waterDepthFactor);
                            vec3 waterColor = mix(waterNightColor, waterDayColor, blend);
                            diffuseColor.rgb = mix(diffuseColor.rgb, waterColor, waterMask);
                        `:""}
                    `))}})]}),o.color_atmosphere&&a.color_atmosphere?Le.jsxs("mesh",{children:[Le.jsx("sphereGeometry",{args:[e.radius+.015,64,32]}),Le.jsx("meshPhysicalMaterial",{map:o.color_atmosphere,transparent:!0})]}):null,o.color_rings?Le.jsxs("mesh",{children:[Le.jsx("latheGeometry",{args:[[new rn(e.radius*e.ringsRange[0],0),new rn(e.radius*e.ringsRange[1],0)],64]}),Le.jsx("meshPhysicalMaterial",{map:o.color_rings,side:Du,transparent:!0})]}):null]})};function Vye({planetWithSatellites:n,mode:e}){const t=Q.useRef(),i=e==="satellite"?n.selectedSatellite:n.selectedPlanet,r=e==="satellite"?.01:.1;let s={...Hy};delete s.planets,s.planet={...i},s.planet.textures=i.textures.map(function(l,a){return l.url}),delete s.planet.satellites,s.planet.elevationScale=r,s.sun_position=0;const o=e==="satellite"?n.selectedPlanet.distance:s.planet.distance;return Le.jsxs(Le.Fragment,{children:[null,null,Le.jsx("ambientLight",{intensity:i.name=="Sun"?3.5:s.ambientLight.intensity,color:s.ambientLight.color}),Le.jsx("group",{position:[0,0,0],rotation:[0,s.sun_position,0],scale:[1,1,1],children:Le.jsx("pointLight",{ref:t,position:[o,0,0],rotation:[0,0,0],scale:[1,1,1],intensity:i.name=="Sun"?0:s.pointLight.intensity,color:s.pointLight.color})}),Le.jsx(xye,{background:!0,files:["/src/img/solarsystem/background/px.png","/src/img/solarsystem/background/nx.png","/src/img/solarsystem/background/py.png","/src/img/solarsystem/background/ny.png","/src/img/solarsystem/background/pz.png","/src/img/solarsystem/background/nz.png"]}),Le.jsx(Gye,{planet:i,config_planet:s.planet,sun_direction:s.sun_position}),Le.jsx(rye,{makeDefault:!0,enablePan:!1,enableZoom:!1})]})}function Wye({solarSystemContainer:n,planet:e}){return Le.jsx(Le.Fragment,{children:Le.jsx("div",{className:n,style:{width:"100%",height:"calc(100vh - 2*(80px + 10px + 20px) - (48px + 20px))"},children:Le.jsxs(X5,{gl:function(t){t.toneMapping=DE,t.toneMappingExposure=1,t.outputColorSpace=Na},children:[Le.jsx(iye,{makeDefault:!0,position:[e.selectedSatellite?.radius*10||e.selectedPlanet.radius*10,0,0],fov:30,near:e.selectedSatellite?.radius/2||e.selectedPlanet.radius/2,far:e.selectedSatellite?.radius*1e3||e.selectedPlanet.radius*1e3,onUpdate:function(t){t.lookAt(0,0,0)}}),Le.jsx(Vye,{planetWithSatellites:e,mode:e.selectedSatellite?"satellite":"planet"})]})})})}function jye({solarSystemContainer:n="solarsystem"}){const e=Af(),t=Q.useMemo(function(){const i=new URLSearchParams(e.search),r=i.get("planet"),s=i.get("satellite");if(!r)return{selectedPlanet:Hy.planets[3],selectedSatellite:null};let o=Hy.planets.find(function(a){return a.name.toLowerCase()===r.toLowerCase()});o==null&&(o=Hy.planets[3]);let l=null;return s&&o.satellites&&(l=o.satellites.find(function(a){return a.name.toLowerCase()===s.toLowerCase()})),{selectedPlanet:o,selectedSatellite:l}},[e.search]);return Le.jsxs(Le.Fragment,{children:[Le.jsx(dl,{children:Le.jsx(Ya,{md:12,className:"blur flex",children:Hy.planets.map(function(i,r){return Le.jsx("div",{children:i.satellites?.length>0?Le.jsxs("details",{children:[Le.jsx("summary",{children:Le.jsx(is,{to:`/solarsystem?planet=${i.name.toLowerCase()}`,children:i.name})}),Le.jsx("ul",{children:i.satellites.map(function(s){return Le.jsx("li",{children:Le.jsx(is,{to:`/solarsystem?planet=${i.name.toLowerCase()}&satellite=${s.name.toLowerCase()}`,children:s.name})},s.name)})})]}):Le.jsx(is,{to:`/solarsystem?planet=${i.name.toLowerCase()}`,children:i.name})},i.name)})})}),Le.jsx(dl,{children:Le.jsx(Ya,{md:12,children:Le.jsx(Wye,{solarSystemContainer:n,planet:t})})})]})}function Xye(){return Le.jsxs(Le.Fragment,{children:[Le.jsx(dl,{children:Le.jsx(Ya,{md:12,children:Le.jsx("h1",{children:"Credits"})})}),Le.jsx(dl,{children:Le.jsxs(Ya,{md:12,className:"blur",children:[Le.jsx("h2",{children:Le.jsx(is,{to:"/solarsystem",children:"Solar System"})}),Le.jsx("p",{children:Le.jsxs("ul",{children:[Le.jsx("li",{children:Le.jsx(is,{to:"https://sbcode.net/topoearth/",target:"_blank",children:"sbcode"})}),Le.jsx("li",{children:Le.jsx(is,{to:"https://www.shadedrelief.com/natural3/index.html",target:"_blank",children:"shadedrelief"})}),Le.jsx("li",{children:Le.jsx(is,{to:"https://www.solarsystemscope.com/",target:"_blank",children:"solarsystemscope"})})]})}),Le.jsx("h2",{children:Le.jsx(is,{to:"/citiesguesser",children:"Cities"})}),Le.jsx("p",{children:Le.jsxs("ul",{children:[Le.jsx("li",{children:Le.jsx(is,{to:"https://www.openstreetmap.org/",target:"_blank",children:"OpenStreetMap"})}),Le.jsx("li",{children:Le.jsx(is,{to:"https://www.opentopodata.org/",target:"_blank",children:"Open Topo Data"})})]})})]})})]})}function qye(){return Le.jsx(Le.Fragment,{children:Le.jsx(dl,{children:Le.jsx(Ya,{md:12,className:"blur",children:Le.jsxs("p",{children:["Oops! The page you are looking for does not exist. ",Le.jsx(is,{to:"/home",children:"Go back to Home"})]})})})})}const Yye={autoplay:!0,background:{color:{value:["#000000"]},image:"",opacity:1,position:"",repeat:"",size:""},backgroundMask:{composite:"destination-out",cover:{color:{value:["#000000"]},opacity:1},enable:!1},delay:{min:0,max:0},detectRetina:!0,duration:{min:0,max:0},fpsLimit:60,fullScreen:{enable:!1,zIndex:0},interactivity:{detectsOn:"window",events:{onClick:{enable:!0,mode:["repulse"]},onDiv:{enable:!1,mode:["bubble"],selectors:["#particles-js"],type:"rectangle"},onHover:{enable:!0,mode:["connect","grab"],parallax:{enable:!1,force:0,smooth:0}},resize:{delay:0,enable:!0}},modes:{attract:{distance:100,duration:.5,easing:"ease-out-quad",factor:1,maxSpeed:50,speed:5},bounce:{distance:100},bubble:{distance:100,duration:.5,mix:!1,opacity:1,color:{value:["#ffffff"]},size:4,divs:{distance:100,duration:.5,mix:!1,selectors:[""]}},connect:{distance:100,links:{opacity:.11},radius:100},grab:{distance:100,links:{blink:!1,consent:!1,opacity:.39}},light:{area:{gradient:{start:{value:["#ffffff"]},stop:{value:["#000000"]}},radius:100},shadow:{color:{value:["#000000"]},length:2e3}},push:{default:!0,groups:[""],quantity:4},remove:{quantity:2},repulse:{distance:120,duration:.5,factor:1,speed:5,maxSpeed:50,easing:"ease-out-quad",divs:{distance:100,duration:.5,factor:1,speed:5,maxSpeed:50,easing:"ease-out-quad",selectors:[""]}},pause:{},slow:{factor:1,radius:100},trail:{delay:0,pauseOnStop:!1,quantity:4}}},manualParticles:[{options:{},position:{x:0,y:0}}],particles:{bounce:{horizontal:{value:{min:0,max:0}},vertical:{value:{min:0,max:0}}},collisions:{absorb:{speed:0},bounce:{},enable:!1,mode:"bounce",overlap:{enable:!1,retries:0}},color:{value:["#ffffff"]},groups:{},interactivity:{},links:{blink:!1,color:{value:["#ffffff"]},consent:!1,distance:100,enable:!0,frequency:1,opacity:.39,shadow:{blur:5,color:{value:["#000000"]},enable:!1},triangles:{enable:!1,frequency:1,opacity:.11},width:1,warp:!1},move:{angle:{offset:{min:0,max:0},value:{min:0,max:0}},attract:{distance:{min:100,max:100},enable:!0,rotate:{x:600,y:1200}},center:{mode:"precise",radius:1},decay:{min:0,max:0},direction:"none",distance:{horizontal:1e4,vertical:1e4},drift:{min:0,max:0},enable:!0,gravity:{acceleration:{min:0,max:0},enable:!1,inverse:!1,maxSpeed:{min:0,max:0}},outModes:{bottom:"out",default:"out",left:"out",right:"out",top:"out"},path:{clamp:!1,delay:{value:{min:0,max:0}},enable:!1,generator:"",options:""},random:!0,size:1,speed:{min:1,max:.1},spin:{acceleration:{min:0,max:0},enable:!1,position:{x:50,y:50}},straight:!1,trail:{enable:!1,fill:{color:{value:["#ffffff"]},image:""},length:0},vibrate:!1,warp:!1},number:{density:{enable:!0,height:1440,width:2560},limit:2e3,value:500},opacity:{value:1,random:!0,animation:{destroy:"none",startValue:"random"}},reduceDuplicates:!0,shadow:{blur:0,color:{value:["#000000"]},enable:!1,offset:{x:0,y:0}},shape:{options:[{close:!1,fill:!1,particles:{},font:"",style:"",value:[""],weight:"",height:0,replaceColor:!1,src:"",width:0,inset:1,sides:1}],type:["circle"]},size:{value:{min:.1,max:2},animation:{destroy:"none",startValue:"random"}},stroke:[{color:{value:["#000000"]},opacity:{min:0,max:0},width:{min:0,max:0}}],zIndex:{value:0,opacityRate:1,sizeRate:1,velocityRate:1}},pauseOnBlur:!1,pauseOnOutSideViewport:!1,preset:[""],responsive:[{maxWidth:3840,mode:"screen",options:{}}],smooth:!0,style:"",themes:[{default:{auto:!0,mode:"any",value:!1},name:"",options:{}}],zLayers:1},Kye={autoplay:!0,background:{color:{value:["#000000"]},image:"",opacity:1,position:"",repeat:"",size:""},backgroundMask:{composite:"destination-out",cover:{color:{value:["#000000"]},opacity:1},enable:!1},delay:{min:0,max:0},detectRetina:!0,duration:{min:0,max:0},fpsLimit:60,fullScreen:{enable:!1,zIndex:0},interactivity:{detectsOn:"window",events:{onClick:{enable:!1,mode:["repulse"]},onDiv:{enable:!1,mode:["bubble"],selectors:["#particles-js"],type:"rectangle"},onHover:{enable:!0,mode:["connect","grab"],parallax:{enable:!1,force:0,smooth:0}},resize:{delay:0,enable:!0}},modes:{attract:{distance:100,duration:.5,easing:"ease-out-quad",factor:1,maxSpeed:50,speed:5},bounce:{distance:100},bubble:{distance:100,duration:.5,mix:!1,opacity:1,color:{value:["#ffffff"]},size:4,divs:{distance:100,duration:.5,mix:!1,selectors:[""]}},connect:{distance:100,links:{opacity:.11},radius:100},grab:{distance:100,links:{blink:!1,consent:!1,opacity:.39}},light:{area:{gradient:{start:{value:["#ffffff"]},stop:{value:["#000000"]}},radius:100},shadow:{color:{value:["#000000"]},length:2e3}},push:{default:!0,groups:[""],quantity:4},remove:{quantity:2},repulse:{distance:120,duration:.5,factor:1,speed:5,maxSpeed:50,easing:"ease-out-quad",divs:{distance:100,duration:.5,factor:1,speed:5,maxSpeed:50,easing:"ease-out-quad",selectors:[""]}},pause:{},slow:{factor:1,radius:100},trail:{delay:0,pauseOnStop:!1,quantity:4}}},manualParticles:[{options:{},position:{x:0,y:0}}],particles:{bounce:{horizontal:{value:{min:0,max:0}},vertical:{value:{min:0,max:0}}},collisions:{absorb:{speed:0},bounce:{},enable:!1,mode:"bounce",overlap:{enable:!1,retries:0}},color:{value:["#ffffff"]},groups:{},interactivity:{},links:{blink:!1,color:{value:["#ffffff"]},consent:!1,distance:150,enable:!0,frequency:1,opacity:.39,shadow:{blur:5,color:{value:["#000000"]},enable:!1},triangles:{enable:!1,frequency:1,opacity:.11},width:1,warp:!1},move:{angle:{offset:{min:0,max:0},value:{min:0,max:0}},attract:{distance:{min:100,max:100},enable:!0,rotate:{x:600,y:1200}},center:{mode:"precise",radius:1},decay:{min:0,max:0},direction:"none",distance:{horizontal:1e4,vertical:1e4},drift:{min:0,max:0},enable:!0,gravity:{acceleration:{min:0,max:0},enable:!1,inverse:!1,maxSpeed:{min:0,max:0}},outModes:{bottom:"bounce",default:"bounce",left:"bounce",right:"bounce",top:"bounce"},path:{clamp:!1,delay:{value:{min:0,max:0}},enable:!1,generator:"",options:""},random:!0,size:1,speed:{min:1,max:.1},spin:{acceleration:{min:0,max:0},enable:!1,position:{x:50,y:50}},straight:!1,trail:{enable:!1,fill:{color:{value:["#ffffff"]},image:""},length:0},vibrate:!1,warp:!1},number:{density:{enable:!1,height:1440,width:2560},limit:2e3,value:120},opacity:{value:1,random:!0,animation:{destroy:"none",startValue:"random"}},reduceDuplicates:!0,shadow:{blur:0,color:{value:["#000000"]},enable:!1,offset:{x:0,y:0}},shape:{options:[{close:!1,fill:!1,particles:{},font:"",style:"",value:[""],weight:"",height:0,replaceColor:!1,src:"",width:0,inset:1,sides:1}],type:["circle"]},size:{value:{min:.1,max:2},animation:{destroy:"none",startValue:"random"}},stroke:[{color:{value:["#000000"]},opacity:{min:0,max:0},width:{min:0,max:0}}],zIndex:{value:0,opacityRate:1,sizeRate:1,velocityRate:1}},pauseOnBlur:!1,pauseOnOutSideViewport:!1,preset:[""],responsive:[{maxWidth:3840,mode:"screen",options:{}}],smooth:!0,style:"",themes:[{default:{auto:!0,mode:"any",value:!1},name:"",options:{}}],zLayers:1,polygon:{draw:{enable:!1,stroke:{color:{value:"#ffffff"},width:0,opacity:.2}},enable:!0,inline:{arrangement:"equidistant"},move:{radius:15,type:"path"},scale:1,type:"inline",url:"/src/img/404.svg",position:{x:5,y:0}}},Zye=[{name:"home",title:"home",description:"WIP"},{name:"printables",title:"printables",description:"a review and some possible improvements to Printable.com"},{name:"thesis",title:"thesis",description:"Decreasing the Reality Gap of a Vehicle Simulation Digital Sibling Using the Addition of a Road Slope Study thesis and links"},{name:"solarsystem",title:"solar system",description:"a representation of the solar system with planets and their orbits"},{name:"citiesguesser",title:"cities guesser",description:"a representation of various cities with data from OpenStreetMap and you have to guess the city based on the map"},{name:"credits",title:"credits",description:"credits page with links to resources used in the website"}],Qye=[{name:"printables",label:"Printables"}],Dy={home:["/","/home","/home.html","/index","/index.html"],printables:["/printables","/printables.html"],thesis:["/thesis","/thesis.html"],solarsystem:["/solarsystem","/solarsystem.html"],credits:["/credits","/credits.html"]};function Jye(){const e=Af().pathname,t=Zye.find(function(i){return i.name===e.replace(/^\/+|\/+$/g,"").replace(/\.html$/,"").toLowerCase()||(e.replace(/^\/+|\/+$/g,"").replace(/\.html$/,"").toLowerCase()===""||e.replace(/^\/+|\/+$/g,"").replace(/\.html$/,"").toLowerCase()==="index")&&i.name==="home"})||{name:"404",title:"404",description:"404 Not Found"};return Le.jsxs(Le.Fragment,{children:[Le.jsxs(RA,{children:[Le.jsxs("title",{children:["Gianluca Fabris - ",t.title]}),Le.jsx("meta",{name:"description",content:`Gianluca Fabris website - ${t.title} page, ${t.description}`}),Le.jsx("meta",{property:"og:title",content:`Gianluca Fabris - ${t.title}`}),Le.jsx("meta",{property:"og:description",content:`Gianluca Fabris website - ${t.title} page, ${t.description}`}),Le.jsx("meta",{property:"og:type",content:"website"}),Le.jsx("meta",{property:"og:url",content:`https://gianlucafabris.github.io/${t.name}.html`}),Le.jsx("meta",{property:"og:image",content:"https://gianlucafabris.github.io/src/img/background.png"}),Le.jsx("meta",{name:"twitter:card",content:"summary_large_image"}),Le.jsx("meta",{name:"twitter:title",content:`Gianluca Fabris - ${t.title}`}),Le.jsx("meta",{name:"twitter:description",content:`Gianluca Fabris website - ${t.title} page, ${t.description}`}),Le.jsx("meta",{name:"twitter:image",content:"https://gianlucafabris.github.io/src/img/background.png"})]}),null,Le.jsx(Cye,{particlesContainer:t.name==="404"?"particles-js_404":"particles-js",BackgroundConfig:t.name==="404"?Kye:Yye}),Le.jsxs(hF,{children:[Le.jsx("header",{children:Le.jsx(dl,{children:Le.jsx(Ya,{md:12,className:"blur",children:Le.jsxs(cC,{bg:"dark","data-bs-theme":"dark",sticky:"top",children:[e=="/"||e=="/home"||e=="/index"?Le.jsx(cC.Brand,{as:R1,to:"/home",className:"active",children:"gianlucafabris2001.github.io"}):Le.jsx(cC.Brand,{as:R1,to:"/home",children:"gianlucafabris2001.github.io"}),Le.jsx(JO,{activeKey:e,className:"me-auto",children:Qye.map(function(i){return Le.jsx(JO.Link,{as:R1,to:`/${i.name}`,children:i.label},i.name)})})]})})})}),Le.jsx("main",{children:Le.jsxs(e6,{children:[Le.jsx(Ep,{index:!0,element:Le.jsx(OD,{typedContainer:"typed"})}),Dy.home.map(function(i){return Le.jsx(Ep,{path:i,element:Le.jsx(OD,{typedContainer:"typed"})},i)}),Dy.printables.map(function(i){return Le.jsx(Ep,{path:i,element:Le.jsx($ye,{})},i)}),Dy.thesis.map(function(i){return Le.jsx(Ep,{path:i,element:Le.jsx(Hye,{})},i)}),Dy.solarsystem.map(function(i){return Le.jsx(Ep,{path:i,element:Le.jsx(jye,{solarSystemContainer:"solarsystem"})},i)}),Dy.credits.map(function(i){return Le.jsx(Ep,{path:i,element:Le.jsx(Xye,{})},i)}),Le.jsx(Ep,{path:"*",element:Le.jsx(qye,{})})]})}),Le.jsx("footer",{children:Le.jsx(dl,{children:Le.jsx(Ya,{md:12,className:"blur",children:Le.jsxs("div",{className:"footer flex",children:[Le.jsxs("div",{children:["Copyright © 2023 Gianluca Fabris | Powered by Github & ",Le.jsx(is,{to:"/home",children:"Gianluca Fabris"})]}),Le.jsxs("div",{children:[Le.jsx(is,{to:"/credits",children:"Credits"}),Le.jsx("span",{children:" | "}),Le.jsx(is,{to:"https://www.iubenda.com/privacy-policy/86179529",className:"iubenda-black iubenda-noiframe iubenda-embed iubenda-noiframe ",title:"Privacy Policy ",target:"_blank",children:"Privacy Policy"}),Le.jsx("span",{children:" | "}),Le.jsx(is,{to:"https://www.iubenda.com/privacy-policy/86179529/cookie-policy",className:"iubenda-black iubenda-noiframe iubenda-embed iubenda-noiframe ",title:"Cookie Policy ",target:"_blank",children:"Cookie Policy"})]}),Le.jsxs("div",{className:"social",children:[Le.jsx(is,{to:"/home","aria-label":"website",children:Le.jsx(FF,{})}),Le.jsx(is,{to:"https://www.linkedin.com/in/gianluca-fabris-2001/",target:"_blank","aria-label":"linkedin",children:Le.jsx(BF,{})}),Le.jsx(is,{to:"https://github.com/gianlucafabris",target:"_blank","aria-label":"github",children:Le.jsx(DF,{})}),Le.jsx(is,{to:"https://www.printables.com/@gianlucafabris2001",target:"_blank","aria-label":"printables",children:Le.jsx("svg",{version:"1.0",xmlns:"http://www.w3.org/2000/svg",width:"19px",height:"19px",viewBox:"0 0 41.000000 41.000000",preserveAspectRatio:"xMidYMid meet",children:Le.jsxs("g",{transform:"translate(0.000000,41.000000) scale(0.100000,-0.100000)",fill:"var(--primary_color)",stroke:"none",children:[Le.jsx("path",{d:"M136 365 l-59 -33 29 -17 c16 -10 41 -26 56 -36 15 -11 32 -19 38 -19 6 0 10 -31 10 -80 0 -90 -3 -89 82 -35 l47 30 1 76 0 76 -54 26 c-30 15 -58 32 -61 37 -9 15 -24 11 -89 -25z"}),Le.jsx("path",{d:"M70 84 c0 -64 0 -65 23 -52 59 35 87 53 87 59 0 3 -17 14 -37 24 -78 39 -73 41 -73 -31z"})]})})})]})]})})})})]}),Le.jsx("link",{href:"/src/style.css",rel:"stylesheet"}),null]})}const e_e=l$.createRoot(mA.$("#root")[0]);e_e.render(Le.jsx(E6,{children:Le.jsx(Jye,{})}));
//# sourceMappingURL=index-Xs449Frh.js.map
